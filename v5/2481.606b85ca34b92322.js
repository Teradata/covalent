var bu=Object.defineProperty,Su=(at,ue,e)=>ue in at?bu(at,ue,{enumerable:!0,configurable:!0,writable:!0,value:e}):at[ue]=e,io=(at,ue,e)=>(Su(at,"symbol"!=typeof ue?ue+"":ue,e),e);(self.webpackChunkdocs_app=self.webpackChunkdocs_app||[]).push([[2481],{36634:(at,ue,e)=>{"use strict";e.d(ue,{dD:()=>I});var f=e(5e3),s=e(69808),L=e(93075),M=e(77579),u=e(39646),P=e(56451),A=e(54968),k=e(5963),N=e(78372),_=e(71884),a=e(82722),p=e(81676),c=e(76077);const n=["editorContainer"],l=()=>{};let v=0;const m=(0,c.b8)((0,c.Id)(class d{constructor(S){this._changeDetectorRef=S}}),[]);let I=(()=>{class y extends m{constructor(b,x,T,R){super(b),this._elementRef=x,this._ngZone=T,this.platformId=R,this._destroy=new M.x,this._widthSubject=new M.x,this._heightSubject=new M.x,this._editorStyle="width:100%;height:100%;",this._value="",this._theme="vs",this._language="javascript",this._subject=new M.x,this._editorInnerContainer="editorInnerContainer"+v++,this._fromEditor=!1,this._componentInitialized=!1,this._editorOptions={},this._isFullScreen=!1,this._registeredLanguagesStyles=[],this._disposables=[],this.editorInitialized=new f.vpe,this.editorConfigurationChanged=new f.vpe,this.editorLanguageChanged=new f.vpe,this.editorValueChange=new f.vpe,this.propagateChange=Q=>l}set value(b){this._value=b,this._componentInitialized&&this.applyValue()}get value(){return this._value}applyValue(){this._fromEditor||this._editor.setValue(this._value),this._fromEditor=!1,this.propagateChange(this._value),this.editorValueChange.emit()}registerOnChange(b){this.propagateChange=b}registerOnTouched(b){this.onTouched=b}getValue(){return this._componentInitialized?(setTimeout(()=>{this._subject.next(this._value),this._subject.complete(),this._subject=new M.x}),this._subject.asObservable()):(0,u.of)("")}set language(b){this._language=b,this._componentInitialized&&this.applyLanguage()}get language(){return this._language}applyLanguage(){this._language&&(p.editor.setModelLanguage(this._editor.getModel(),this._language),this.editorLanguageChanged.emit())}registerLanguage(b){if(this._componentInitialized){p.languages.register({id:b.id}),this._disposables.push(p.languages.setMonarchTokensProvider(b.id,{tokenizer:{root:b.monarchTokensProvider}})),p.editor.defineTheme(b.customTheme.id,b.customTheme.theme),this._theme=b.customTheme.id,this._disposables.push(p.languages.registerCompletionItemProvider(b.id,{provideCompletionItems:()=>b.completionItemProvider}));const x=document.createElement("style");x.type="text/css",x.innerHTML=b.monarchTokensProviderCSS,document.body.appendChild(x),this.editorConfigurationChanged.emit(),this._registeredLanguagesStyles=[...this._registeredLanguagesStyles,x]}}set editorStyle(b){this._editorStyle=b,this._componentInitialized&&this.applyStyle()}get editorStyle(){return this._editorStyle}applyStyle(){this._editorStyle&&this._editorContainer.nativeElement.setAttribute("style",this._editorStyle)}set theme(b){this._theme=b,this._componentInitialized&&(this._editor.updateOptions({theme:b}),this.editorConfigurationChanged.emit())}get theme(){return this._theme}set fullScreenKeyBinding(b){this._keycode=b}get fullScreenKeyBinding(){return this._keycode}set editorOptions(b){this._editorOptions=b,this._componentInitialized&&(this._editor.updateOptions(b),this.editorConfigurationChanged.emit())}get editorOptions(){return this._editorOptions}layout(){this._componentInitialized&&this._editor.layout()}get isFullScreen(){return this._isFullScreen}ngOnInit(){if((0,s.PM)(this.platformId))return;const b=this._editorContainer.nativeElement;b.id=this._editorInnerContainer,this._editor=p.editor.create(b,Object.assign({value:this._value,language:this.language,theme:this._theme},this.editorOptions)),this._componentInitialized=!0,setTimeout(()=>{this.applyLanguage(),this._fromEditor=!0,this.applyValue(),this.applyStyle(),this.editorInitialized.emit(this._editor),this.editorConfigurationChanged.emit()}),this._disposables.push(this._editor.getModel().onDidChangeContent(()=>{this._fromEditor=!0,this.writeValue(this._editor.getValue()),this.layout()})),this.addFullScreenModeCommand(),this._ngZone.runOutsideAngular(()=>(0,P.T)((0,A.R)(window,"resize").pipe((0,N.b)(100)),this._widthSubject.asObservable().pipe((0,_.x)()),this._heightSubject.asObservable().pipe((0,_.x)())).pipe((0,N.b)(100),(0,a.R)(this._destroy)).subscribe(()=>{this.layout()})),this._ngZone.runOutsideAngular(()=>(0,k.H)(500,250).pipe((0,a.R)(this._destroy)).subscribe(()=>{const{width:x,height:T}=this._elementRef.nativeElement.getBoundingClientRect();this._widthSubject.next(x),this._heightSubject.next(T)}))}ngOnDestroy(){var b;for(this._changeDetectorRef.detach(),this._registeredLanguagesStyles.forEach(x=>x.remove());this._disposables.length;)null===(b=this._disposables.pop())||void 0===b||b.dispose();this._editor&&this._editor.dispose(),this._destroy.next(!0),this._destroy.unsubscribe()}showFullScreenEditor(){this._componentInitialized&&this._editorContainer.nativeElement.requestFullscreen(),this._isFullScreen=!0}exitFullScreenEditor(){this._componentInitialized&&document.exitFullscreen(),this._isFullScreen=!1}addFullScreenModeCommand(){this._disposables.push(this._editor.addAction({id:"fullScreen",label:"Full Screen",contextMenuGroupId:"navigation",keybindings:this._keycode,contextMenuOrder:1.5,run:()=>{this.showFullScreenEditor()}}))}}return y.\u0275fac=function(b){return new(b||y)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(f.Lbi))},y.\u0275cmp=f.Xpm({type:y,selectors:[["td-code-editor"]],viewQuery:function(b,x){if(1&b&&f.Gf(n,7),2&b){let T;f.iGM(T=f.CRH())&&(x._editorContainer=T.first)}},inputs:{value:"value",language:"language",editorStyle:"editorStyle",theme:"theme",fullScreenKeyBinding:"fullScreenKeyBinding",editorOptions:"editorOptions"},outputs:{editorInitialized:"editorInitialized",editorConfigurationChanged:"editorConfigurationChanged",editorLanguageChanged:"editorLanguageChanged",editorValueChange:"editorValueChange"},features:[f._Bn([{provide:L.JU,useExisting:(0,f.Gpc)(()=>y),multi:!0}]),f.qOj],decls:2,vars:0,consts:[[1,"editor-container"],["editorContainer",""]],template:function(b,x){1&b&&f._UZ(0,"div",0,1)},styles:["[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]   .editor-container[_ngcontent-%COMP%]{position:absolute;inset:0}  .monaco-aria-container{display:none}"]}),y})()},52481:(at,ue,e)=>{"use strict";e.d(ue,{T:()=>M});var f=e(36634),s=e(69808),L=e(5e3);let M=(()=>{class u{}return u.\u0275fac=function(A){return new(A||u)},u.\u0275mod=L.oAB({type:u,bootstrap:[f.dD]}),u.\u0275inj=L.cJS({imports:[s.ez]}),u})()},40479:at=>{"use strict";at.exports=function(ue){var e=[];return e.toString=function(){return this.map(function(s){var L="",M=void 0!==s[5];return s[4]&&(L+="@supports (".concat(s[4],") {")),s[2]&&(L+="@media ".concat(s[2]," {")),M&&(L+="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {")),L+=ue(s),M&&(L+="}"),s[2]&&(L+="}"),s[4]&&(L+="}"),L}).join("")},e.i=function(s,L,M,u,P){"string"==typeof s&&(s=[[null,s,void 0]]);var A={};if(M)for(var k=0;k<this.length;k++){var N=this[k][0];null!=N&&(A[N]=!0)}for(var _=0;_<s.length;_++){var a=[].concat(s[_]);M&&A[a[0]]||(void 0!==P&&(void 0===a[5]||(a[1]="@layer".concat(a[5].length>0?" ".concat(a[5]):""," {").concat(a[1],"}")),a[5]=P),L&&(a[2]&&(a[1]="@media ".concat(a[2]," {").concat(a[1],"}")),a[2]=L),u&&(a[4]?(a[1]="@supports (".concat(a[4],") {").concat(a[1],"}"),a[4]=u):a[4]="".concat(u)),e.push(a))}},e}},91475:at=>{"use strict";at.exports=function(ue,e){return e||(e={}),ue&&(ue=String(ue.__esModule?ue.default:ue),/^['"].*['"]$/.test(ue)&&(ue=ue.slice(1,-1)),e.hash&&(ue+=e.hash),/["'() \t\n]|(%20)/.test(ue)||e.needQuotes?'"'.concat(ue.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):ue)}},60135:at=>{"use strict";at.exports=function(ue){return ue[1]}},3597:(at,ue,e)=>{var f;self.MonacoEnvironment=(f={editorWorkerService:"editor.worker.js",css:"css.worker.js",html:"html.worker.js",typescript:"ts.worker.js",javascript:"ts.worker.js",less:"css.worker.js",scss:"css.worker.js",handlebars:"html.worker.js",razor:"html.worker.js"},{globalAPI:!1,getWorkerUrl:function(L,M){var u=e.p,P=(u?function s(L){return L.replace(/\/$/,"")}(u)+"/":"")+f[M];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(P)){var A=String(window.location),k=A.substr(0,A.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(P.substring(0,k.length)!==k){/^(\/\/)/.test(P)&&(P=window.location.protocol+P);var _=new Blob(["/*"+M+'*/importScripts("'+P+'");'],{type:"application/javascript"});return URL.createObjectURL(_)}}return P}}),e(9873),e(25359),e(4310),e(99839),e(52026),e(48453),e(63783),e(89901),e(36576),e(22226),e(50425),e(13334),e(39342),e(72304),e(16949),e(9675),e(79077),e(72811),e(55107),e(5716),e(64810),e(24617),e(47801),e(20793),e(64034),e(3184),e(22212),e(35852),e(6585),e(43988),e(35854),e(15423),e(79888),e(89158),e(88025),e(36755),e(31734),e(44594),e(89418),e(27779),e(76754),e(24086),e(4395),e(43774),e(59419),e(76295),e(49479),e(67471),e(40931),e(20590),e(9503),e(84325),e(70926),e(98164),e(67296),e(47759),e(13015),e(8364),at.exports=e(99808),e(8820),e(98381),e(36429),e(46518),e(13168),e(97491),e(57862),e(41417)},81676:(at,ue,e)=>{var f;self.MonacoEnvironment=(f={editorWorkerService:"editor.worker.js",css:"css.worker.js",html:"html.worker.js",typescript:"ts.worker.js",javascript:"ts.worker.js",less:"css.worker.js",scss:"css.worker.js",handlebars:"html.worker.js",razor:"html.worker.js"},{globalAPI:!1,getWorkerUrl:function(L,M){var u=e.p,P=(u?function s(L){return L.replace(/\/$/,"")}(u)+"/":"")+f[M];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(P)){var A=String(window.location),k=A.substr(0,A.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(P.substring(0,k.length)!==k){/^(\/\/)/.test(P)&&(P=window.location.protocol+P);var _=new Blob(["/*"+M+'*/importScripts("'+P+'");'],{type:"application/javascript"});return URL.createObjectURL(_)}}return P}}),e(9873),e(25359),e(4310),e(99839),e(52026),e(48453),e(63783),e(89901),e(36576),e(22226),e(50425),e(13334),e(39342),e(72304),e(16949),e(9675),e(79077),e(72811),e(55107),e(5716),e(64810),e(24617),e(47801),e(20793),e(64034),e(3184),e(22212),e(35852),e(6585),e(43988),e(35854),e(15423),e(79888),e(89158),e(88025),e(36755),e(31734),e(44594),e(89418),e(27779),e(76754),e(24086),e(4395),e(43774),e(59419),e(76295),e(49479),e(67471),e(40931),e(20590),e(9503),e(84325),e(70926),e(98164),e(67296),e(47759),e(13015),e(8364),at.exports=e(92782),e(8820),e(98381),e(36429),e(46518),e(13168),e(97491),e(57862),e(41417)},13366:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{PixelRatio:()=>k,addMatchMediaChangeListener:()=>A,getZoomFactor:()=>N,isAndroid:()=>d,isChrome:()=>c,isElectron:()=>v,isFirefox:()=>a,isSafari:()=>n,isStandalone:()=>I,isWebKit:()=>p,isWebkitWebView:()=>l});var f=e(52787),s=e(52425);class L{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}L.INSTANCE=new L;class M extends s.JT{constructor(){super(),this._onDidChange=this._register(new f.Q5),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(S){var b;null===(b=this._mediaQueryList)||void 0===b||b.removeEventListener("change",this._listener),this._mediaQueryList=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),S&&this._onDidChange.fire()}}class u extends s.JT{constructor(){super(),this._onDidChange=this._register(new f.Q5),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const S=this._register(new M);this._register(S.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}get value(){return this._value}_getPixelRatio(){const S=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(S.webkitBackingStorePixelRatio||S.mozBackingStorePixelRatio||S.msBackingStorePixelRatio||S.oBackingStorePixelRatio||S.backingStorePixelRatio||1)}}function A(y,S){"string"==typeof y&&(y=window.matchMedia(y)),y.addEventListener("change",S)}const k=new class P{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,s.dk)(new u)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}};function N(){return L.INSTANCE.getZoomFactor()}const _=navigator.userAgent,a=_.indexOf("Firefox")>=0,p=_.indexOf("AppleWebKit")>=0,c=_.indexOf("Chrome")>=0,n=!c&&_.indexOf("Safari")>=0,l=!c&&!n&&p,v=_.indexOf("Electron/")>=0,d=_.indexOf("Android")>=0;let m=!1;if(window.matchMedia){const y=window.matchMedia("(display-mode: standalone)");m=y.matches,A(y,({matches:S})=>{m=S})}function I(){return m}},27991:(at,ue,e)=>{"use strict";e.d(ue,{D:()=>L});var f=e(13366),s=e(38972);const L={clipboard:{writeText:s.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:s.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:s.tY||f.isStandalone()?0:navigator.keyboard||f.isSafari?1:2,touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},26889:(at,ue,e)=>{"use strict";e.d(ue,{P:()=>L,g:()=>s});const s={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:e(59341).v.text},L={CurrentDragAndDropData:void 0}},58059:(at,ue,e)=>{"use strict";e.d(ue,{$:()=>lt,$Z:()=>Ke,Ay:()=>he,Ce:()=>Ne,Cp:()=>He,D6:()=>F,DI:()=>V,Dx:()=>G,FK:()=>te,Fx:()=>me,GQ:()=>m,H$:()=>Ue,I8:()=>E,IC:()=>b,If:()=>w,OO:()=>ce,PO:()=>a,R3:()=>Oe,Re:()=>ye,Ro:()=>B,Uh:()=>ot,Uw:()=>p,V3:()=>et,_0:()=>Ae,_F:()=>ze,_h:()=>Nt,_q:()=>dt,dS:()=>ge,dp:()=>j,eg:()=>$t,fk:()=>Ve,go:()=>De,i:()=>Y,jL:()=>Q,jg:()=>be,jt:()=>Ze,lI:()=>R,mc:()=>ne,mu:()=>d,nm:()=>n,tw:()=>_e,uN:()=>ie,uU:()=>Ie,vL:()=>Qe,vY:()=>de,w:()=>$,wY:()=>Mt,wn:()=>fe,xQ:()=>z,zB:()=>Be});var f=e(13366),s=e(27991),L=e(74616),M=e(7457),u=e(53663),P=e(52787),A=e(37011),k=e(52425),N=e(90278),_=e(38972);function a(ke){for(;ke.firstChild;)ke.firstChild.remove()}function p(ke){var nt;return null!==(nt=null==ke?void 0:ke.isConnected)&&void 0!==nt&&nt}class c{constructor(nt,st,Ee,Fe){this._node=nt,this._type=st,this._handler=Ee,this._options=Fe||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function n(ke,nt,st,Ee){return new c(ke,nt,st,Ee)}function l(ke){return function(nt){return ke(new M.n(nt))}}const d=function(nt,st,Ee,Fe){let mt=Ee;return"click"===st||"mousedown"===st?mt=l(Ee):("keydown"===st||"keypress"===st||"keyup"===st)&&(mt=function v(ke){return function(nt){return ke(new L.y(nt))}}(Ee)),n(nt,st,mt,Fe)},m=function(nt,st,Ee){return function y(ke,nt,st){return n(ke,_.gn&&s.D.pointerEvents?_e.POINTER_DOWN:_e.MOUSE_DOWN,nt,st)}(nt,l(st),Ee)};function b(ke,nt,st){let Ee=null;const Fe=Cn=>qt.fire(Cn),qt=new P.Q5({onFirstListenerAdd:()=>{Ee||(Ee=new c(ke,nt,Fe,st))},onLastListenerRemove:()=>{Ee&&(Ee.dispose(),Ee=null)}});return qt}let R,Q,x=null;class Z{constructor(nt,st=0){this._runner=nt,this.priority=st,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(nt){(0,u.dL)(nt)}}static sort(nt,st){return st.priority-nt.priority}}function G(ke){return document.defaultView.getComputedStyle(ke,null)}function F(ke){if(ke!==document.body)return new B(ke.clientWidth,ke.clientHeight);if(_.gn&&window.visualViewport)return new B(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new B(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new B(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new B(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}!function(){let ke=[],nt=null,st=!1,Ee=!1;const Fe=()=>{for(st=!1,nt=ke,ke=[],Ee=!0;nt.length>0;)nt.sort(Z.sort),nt.shift().execute();Ee=!1};Q=(mt,Vt=0)=>{const qt=new Z(mt,Vt);return ke.push(qt),st||(st=!0,function T(ke){if(!x){const nt=st=>setTimeout(()=>st((new Date).getTime()),0);x=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||nt}x.call(self,ke)}(Fe)),qt},R=(mt,Vt)=>{if(Ee){const qt=new Z(mt,Vt);return nt.push(qt),qt}return Q(mt,Vt)}}();class W{static convertToPixels(nt,st){return parseFloat(st)||0}static getDimension(nt,st,Ee){const Fe=G(nt);let mt="0";return Fe&&(mt=Fe.getPropertyValue?Fe.getPropertyValue(st):Fe.getAttribute(Ee)),W.convertToPixels(nt,mt)}static getBorderLeftWidth(nt){return W.getDimension(nt,"border-left-width","borderLeftWidth")}static getBorderRightWidth(nt){return W.getDimension(nt,"border-right-width","borderRightWidth")}static getBorderTopWidth(nt){return W.getDimension(nt,"border-top-width","borderTopWidth")}static getBorderBottomWidth(nt){return W.getDimension(nt,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(nt){return W.getDimension(nt,"padding-left","paddingLeft")}static getPaddingRight(nt){return W.getDimension(nt,"padding-right","paddingRight")}static getPaddingTop(nt){return W.getDimension(nt,"padding-top","paddingTop")}static getPaddingBottom(nt){return W.getDimension(nt,"padding-bottom","paddingBottom")}static getMarginLeft(nt){return W.getDimension(nt,"margin-left","marginLeft")}static getMarginTop(nt){return W.getDimension(nt,"margin-top","marginTop")}static getMarginRight(nt){return W.getDimension(nt,"margin-right","marginRight")}static getMarginBottom(nt){return W.getDimension(nt,"margin-bottom","marginBottom")}}class B{constructor(nt,st){this.width=nt,this.height=st}with(nt=this.width,st=this.height){return nt!==this.width||st!==this.height?new B(nt,st):this}static is(nt){return"object"==typeof nt&&"number"==typeof nt.height&&"number"==typeof nt.width}static lift(nt){return nt instanceof B?nt:new B(nt.width,nt.height)}static equals(nt,st){return nt===st||!(!nt||!st)&&nt.width===st.width&&nt.height===st.height}}function z(ke){let nt=ke.offsetParent,st=ke.offsetTop,Ee=ke.offsetLeft;for(;null!==(ke=ke.parentNode)&&ke!==document.body&&ke!==document.documentElement;){st-=ke.scrollTop;const Fe=ee(ke)?null:G(ke);Fe&&(Ee-="rtl"!==Fe.direction?ke.scrollLeft:-ke.scrollLeft),ke===nt&&(Ee+=W.getBorderLeftWidth(ke),st+=W.getBorderTopWidth(ke),st+=ke.offsetTop,Ee+=ke.offsetLeft,nt=ke.offsetParent)}return{left:Ee,top:st}}function j(ke,nt,st){"number"==typeof nt&&(ke.style.width=`${nt}px`),"number"==typeof st&&(ke.style.height=`${st}px`)}function Y(ke){const nt=ke.getBoundingClientRect();return{left:nt.left+V.scrollX,top:nt.top+V.scrollY,width:nt.width,height:nt.height}}function E(ke){let nt=ke,st=1;do{const Ee=G(nt).zoom;null!=Ee&&"1"!==Ee&&(st*=Ee),nt=nt.parentElement}while(null!==nt&&nt!==document.documentElement);return st}B.None=new B(0,0);const V=new class{get scrollX(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function $(ke){const nt=W.getMarginLeft(ke)+W.getMarginRight(ke);return ke.offsetWidth+nt}function te(ke){const nt=W.getBorderLeftWidth(ke)+W.getBorderRightWidth(ke),st=W.getPaddingLeft(ke)+W.getPaddingRight(ke);return ke.offsetWidth-nt-st}function w(ke){const nt=W.getBorderTopWidth(ke)+W.getBorderBottomWidth(ke),st=W.getPaddingTop(ke)+W.getPaddingBottom(ke);return ke.offsetHeight-nt-st}function fe(ke){const nt=W.getMarginTop(ke)+W.getMarginBottom(ke);return ke.offsetHeight+nt}function be(ke,nt){for(;ke;){if(ke===nt)return!0;ke=ke.parentNode}return!1}function me(ke,nt,st){for(;ke&&ke.nodeType===ke.ELEMENT_NODE;){if(ke.classList.contains(nt))return ke;if(st)if("string"==typeof st){if(ke.classList.contains(st))return null}else if(ke===st)return null;ke=ke.parentNode}return null}function Ie(ke,nt,st){return!!me(ke,nt,st)}function ee(ke){return ke&&!!ke.host&&!!ke.mode}function ce(ke){return!!he(ke)}function he(ke){for(;ke.parentNode;){if(ke===document.body)return null;ke=ke.parentNode}return ee(ke)?ke:null}function de(){let ke=document.activeElement;for(;null!=ke&&ke.shadowRoot;)ke=ke.shadowRoot.activeElement;return ke}function ge(ke=document.getElementsByTagName("head")[0]){const nt=document.createElement("style");return nt.type="text/css",nt.media="screen",ke.appendChild(nt),nt}let re=null;function Se(){return re||(re=ge()),re}function Ve(ke,nt,st=Se()){!st||!nt||st.sheet.insertRule(ke+"{"+nt+"}",0)}function ie(ke,nt=Se()){if(!nt)return;const st=function Pe(ke){var nt,st;return null!==(nt=null==ke?void 0:ke.sheet)&&void 0!==nt&&nt.rules?ke.sheet.rules:null!==(st=null==ke?void 0:ke.sheet)&&void 0!==st&&st.cssRules?ke.sheet.cssRules:[]}(nt),Ee=[];for(let Fe=0;Fe<st.length;Fe++)-1!==st[Fe].selectorText.indexOf(ke)&&Ee.push(Fe);for(let Fe=Ee.length-1;Fe>=0;Fe--)nt.sheet.deleteRule(Ee[Fe])}function ye(ke){return"object"==typeof HTMLElement?ke instanceof HTMLElement:ke&&"object"==typeof ke&&1===ke.nodeType&&"string"==typeof ke.nodeName}const _e={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:f.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:f.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:f.isWebKit?"webkitAnimationIteration":"animationiteration"},Be={stop:function(ke,nt){ke.preventDefault?ke.preventDefault():ke.returnValue=!1,nt&&(ke.stopPropagation?ke.stopPropagation():ke.cancelBubble=!0)}};function Qe(ke){const nt=[];for(let st=0;ke&&ke.nodeType===ke.ELEMENT_NODE;st++)nt[st]=ke.scrollTop,ke=ke.parentNode;return nt}function Ae(ke,nt){for(let st=0;ke&&ke.nodeType===ke.ELEMENT_NODE;st++)ke.scrollTop!==nt[st]&&(ke.scrollTop=nt[st]),ke=ke.parentNode}class pe extends k.JT{constructor(nt){super(),this._onDidFocus=this._register(new P.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new P.Q5),this.onDidBlur=this._onDidBlur.event;let st=pe.hasFocusWithin(nt),Ee=!1;const Fe=()=>{Ee=!1,st||(st=!0,this._onDidFocus.fire())},mt=()=>{st&&(Ee=!0,window.setTimeout(()=>{Ee&&(Ee=!1,st=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{pe.hasFocusWithin(nt)!==st&&(st?mt():Fe())},this._register(n(nt,_e.FOCUS,Fe,!0)),this._register(n(nt,_e.BLUR,mt,!0)),this._register(n(nt,_e.FOCUS_IN,()=>this._refreshStateHandler())),this._register(n(nt,_e.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(nt){const st=he(nt);return be(st?st.activeElement:document.activeElement,nt)}}function De(ke){return new pe(ke)}function Oe(ke,...nt){if(ke.append(...nt),1===nt.length&&"string"!=typeof nt[0])return nt[0]}function Ne(ke,nt){return ke.insertBefore(nt,ke.firstChild),nt}function ne(ke,...nt){ke.innerText="",Oe(ke,...nt)}const xe=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Je=(()=>{return(ke=Je||(Je={})).HTML="http://www.w3.org/1999/xhtml",ke.SVG="http://www.w3.org/2000/svg",Je;var ke})();function gt(ke,nt,st,...Ee){const Fe=xe.exec(nt);if(!Fe)throw new Error("Bad use of emmet");st=Object.assign({},st||{});const mt=Fe[1]||"div";let Vt;return Vt=ke!==Je.HTML?document.createElementNS(ke,mt):document.createElement(mt),Fe[3]&&(Vt.id=Fe[3]),Fe[4]&&(Vt.className=Fe[4].replace(/\./g," ").trim()),Object.keys(st).forEach(qt=>{const Cn=st[qt];void 0!==Cn&&(/^on\w+$/.test(qt)?Vt[qt]=Cn:"selected"===qt?Cn&&Vt.setAttribute(qt,"true"):Vt.setAttribute(qt,Cn))}),Vt.append(...Ee),Vt}function lt(ke,nt,...st){return gt(Je.HTML,ke,nt,...st)}function Ke(...ke){for(const nt of ke)nt.style.display="",nt.removeAttribute("aria-hidden")}function He(...ke){for(const nt of ke)nt.style.display="none",nt.setAttribute("aria-hidden","true")}function Ue(ke){return Array.prototype.slice.call(document.getElementsByTagName(ke),0)}function ot(ke){const nt=window.devicePixelRatio*ke;return Math.max(1,Math.floor(nt))/window.devicePixelRatio}function et(ke){window.open(ke,"_blank","noopener")}function Ze(ke){const nt=()=>{ke(),st=Q(nt)};let st=Q(nt);return(0,k.OF)(()=>st.dispose())}function Mt(ke){return ke?`url('${N.Gi.asBrowserUri(ke).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function Nt(ke){return`'${ke.replace(/'/g,"%27")}'`}function ze(ke,nt=!1){const st=document.createElement("a");return A.v5("afterSanitizeAttributes",Ee=>{for(const Fe of["href","src"])if(Ee.hasAttribute(Fe)){const mt=Ee.getAttribute(Fe);if("href"===Fe&&mt.startsWith("#"))continue;if(st.href=mt,!ke.includes(st.protocol.replace(/:$/,""))){if(nt&&"src"===Fe&&st.href.startsWith("data:"))continue;Ee.removeAttribute(Fe)}}}),(0,k.OF)(()=>{A.ok("afterSanitizeAttributes")})}lt.SVG=function(ke,nt,...st){return gt(Je.SVG,ke,nt,...st)},N.WX.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");class dt extends P.Q5{constructor(){super(),this._subscriptions=new k.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(n(window,"keydown",nt=>{if(nt.defaultPrevented)return;const st=new L.y(nt);if(6!==st.keyCode||!nt.repeat){if(nt.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(nt.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(nt.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(nt.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else{if(6===st.keyCode)return;this._keyStatus.lastKeyPressed=void 0}this._keyStatus.altKey=nt.altKey,this._keyStatus.ctrlKey=nt.ctrlKey,this._keyStatus.metaKey=nt.metaKey,this._keyStatus.shiftKey=nt.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=nt,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(n(window,"keyup",nt=>{nt.defaultPrevented||(this._keyStatus.lastKeyReleased=!nt.altKey&&this._keyStatus.altKey?"alt":!nt.ctrlKey&&this._keyStatus.ctrlKey?"ctrl":!nt.metaKey&&this._keyStatus.metaKey?"meta":!nt.shiftKey&&this._keyStatus.shiftKey?"shift":void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=nt.altKey,this._keyStatus.ctrlKey=nt.ctrlKey,this._keyStatus.metaKey=nt.metaKey,this._keyStatus.shiftKey=nt.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=nt,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(n(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(n(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(n(document.body,"mousemove",nt=>{nt.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(n(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return dt.instance||(dt.instance=new dt),dt.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class $t extends k.JT{constructor(nt,st){super(),this.element=nt,this.callbacks=st,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(n(this.element,_e.DRAG_ENTER,nt=>{this.counter++,this.dragStartTime=nt.timeStamp,this.callbacks.onDragEnter(nt)})),this._register(n(this.element,_e.DRAG_OVER,nt=>{var st,Ee;nt.preventDefault(),null===(Ee=(st=this.callbacks).onDragOver)||void 0===Ee||Ee.call(st,nt,nt.timeStamp-this.dragStartTime)})),this._register(n(this.element,_e.DRAG_LEAVE,nt=>{this.counter--,0===this.counter&&(this.dragStartTime=0,this.callbacks.onDragLeave(nt))})),this._register(n(this.element,_e.DRAG_END,nt=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(nt)})),this._register(n(this.element,_e.DROP,nt=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(nt)}))}}new RegExp("(?<tag>[\\w\\-]+)?(?:#(?<id>[\\w\\-]+))?(?<class>(?:\\.(?:[\\w\\-]+))*)(?:@(?<name>(?:[\\w\\_])+))?")},37011:(at,ue,e)=>{"use strict";e.d(ue,{Nw:()=>_e,ok:()=>De,v5:()=>pe});var s=Object.hasOwnProperty,L=Object.setPrototypeOf,M=Object.isFrozen,u=Object.getPrototypeOf,P=Object.getOwnPropertyDescriptor,A=Object.freeze,k=Object.seal,N=Object.create,_="undefined"!=typeof Reflect&&Reflect,a=_.apply,p=_.construct;a||(a=function(xe,Je,gt){return xe.apply(Je,gt)}),A||(A=function(xe){return xe}),k||(k=function(xe){return xe}),p||(p=function(xe,Je){return new(Function.prototype.bind.apply(xe,[null].concat(function f(ne){if(Array.isArray(ne)){for(var xe=0,Je=Array(ne.length);xe<ne.length;xe++)Je[xe]=ne[xe];return Je}return Array.from(ne)}(Je))))});var c=x(Array.prototype.forEach),n=x(Array.prototype.pop),l=x(Array.prototype.push),v=x(String.prototype.toLowerCase),d=x(String.prototype.match),m=x(String.prototype.replace),I=x(String.prototype.indexOf),y=x(String.prototype.trim),S=x(RegExp.prototype.test),b=function T(ne){return function(){for(var xe=arguments.length,Je=Array(xe),gt=0;gt<xe;gt++)Je[gt]=arguments[gt];return p(ne,Je)}}(TypeError);function x(ne){return function(xe){for(var Je=arguments.length,gt=Array(Je>1?Je-1:0),lt=1;lt<Je;lt++)gt[lt-1]=arguments[lt];return a(ne,xe,gt)}}function R(ne,xe){L&&L(ne,null);for(var Je=xe.length;Je--;){var gt=xe[Je];if("string"==typeof gt){var lt=v(gt);lt!==gt&&(M(xe)||(xe[Je]=lt),gt=lt)}ne[gt]=!0}return ne}function Q(ne){var xe=N(null),Je=void 0;for(Je in ne)a(s,ne,[Je])&&(xe[Je]=ne[Je]);return xe}function Z(ne,xe){for(;null!==ne;){var Je=P(ne,xe);if(Je){if(Je.get)return x(Je.get);if("function"==typeof Je.value)return x(Je.value)}ne=u(ne)}return function gt(lt){return console.warn("fallback value for",lt),null}}var G=A(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),F=A(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),W=A(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),B=A(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),z=A(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),j=A(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Y=A(["#text"]),E=A(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),V=A(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$=A(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),te=A(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),w=k(/\{\{[\s\S]*|[\s\S]*\}\}/gm),fe=k(/<%[\s\S]*|[\s\S]*%>/gm),be=k(/^data-[\-\w.\u00B7-\uFFFF]/),me=k(/^aria-[\-\w]+$/),Ie=k(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ee=k(/^(?:\w+script|data):/i),ce=k(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ne){return typeof ne}:function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne};function de(ne){if(Array.isArray(ne)){for(var xe=0,Je=Array(ne.length);xe<ne.length;xe++)Je[xe]=ne[xe];return Je}return Array.from(ne)}var ge=function(){return"undefined"==typeof window?null:window},re=function(xe,Je){if("object"!==(void 0===xe?"undefined":he(xe))||"function"!=typeof xe.createPolicy)return null;var gt=null,lt="data-tt-policy-suffix";Je.currentScript&&Je.currentScript.hasAttribute(lt)&&(gt=Je.currentScript.getAttribute(lt));var Ke="dompurify"+(gt?"#"+gt:"");try{return xe.createPolicy(Ke,{createHTML:function(Ue){return Ue}})}catch(He){return console.warn("TrustedTypes policy "+Ke+" could not be created."),null}},Pe=function Se(){var ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge(),xe=function(Pt){return Se(Pt)};if(xe.version="2.3.1",xe.removed=[],!ne||!ne.document||9!==ne.document.nodeType)return xe.isSupported=!1,xe;var Je=ne.document,gt=ne.document,lt=ne.DocumentFragment,Ke=ne.HTMLTemplateElement,He=ne.Node,Ue=ne.Element,ot=ne.NodeFilter,et=ne.NamedNodeMap,Ze=void 0===et?ne.NamedNodeMap||ne.MozNamedAttrMap:et,Mt=ne.Text,Nt=ne.Comment,ze=ne.DOMParser,dt=ne.trustedTypes,$t=Ue.prototype,hn=Z($t,"cloneNode"),vn=Z($t,"nextSibling"),ft=Z($t,"childNodes"),ke=Z($t,"parentNode");if("function"==typeof Ke){var nt=gt.createElement("template");nt.content&&nt.content.ownerDocument&&(gt=nt.content.ownerDocument)}var st=re(dt,Je),Ee=st&&Ut?st.createHTML(""):"",Fe=gt,mt=Fe.implementation,Vt=Fe.createNodeIterator,qt=Fe.createDocumentFragment,Cn=Fe.getElementsByTagName,Gt=Je.importNode,en={};try{en=Q(gt).documentMode?gt.documentMode:{}}catch(Ht){}var Yt={};xe.isSupported="function"==typeof ke&&mt&&void 0!==mt.createHTMLDocument&&9!==en;var ht=w,Ct=fe,rn=be,jt=me,yn=ee,En=ce,xn=Ie,Un=null,ai=R({},[].concat(de(G),de(F),de(W),de(z),de(Y))),ei=null,Di=R({},[].concat(de(E),de(V),de($),de(te))),li=null,Qn=null,wi=!0,Dn=!0,Dt=!1,Te=!1,oe=!1,Le=!1,We=!1,it=!1,pt=!1,Et=!0,Ut=!1,sn=!0,pn=!0,In=!1,On={},Tn=null,kn=R({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),An=null,Gn=R({},["audio","video","img","source","image","track"]),ri=null,si=R({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Si="http://www.w3.org/1998/Math/MathML",xi="http://www.w3.org/2000/svg",Li="http://www.w3.org/1999/xhtml",Yn=Li,fi=!1,pi=null,mn=gt.createElement("form"),bt=function(Pt){pi&&pi===Pt||((!Pt||"object"!==(void 0===Pt?"undefined":he(Pt)))&&(Pt={}),Pt=Q(Pt),Un="ALLOWED_TAGS"in Pt?R({},Pt.ALLOWED_TAGS):ai,ei="ALLOWED_ATTR"in Pt?R({},Pt.ALLOWED_ATTR):Di,ri="ADD_URI_SAFE_ATTR"in Pt?R(Q(si),Pt.ADD_URI_SAFE_ATTR):si,An="ADD_DATA_URI_TAGS"in Pt?R(Q(Gn),Pt.ADD_DATA_URI_TAGS):Gn,Tn="FORBID_CONTENTS"in Pt?R({},Pt.FORBID_CONTENTS):kn,li="FORBID_TAGS"in Pt?R({},Pt.FORBID_TAGS):{},Qn="FORBID_ATTR"in Pt?R({},Pt.FORBID_ATTR):{},wi=!1!==Pt.ALLOW_ARIA_ATTR,Dn=!1!==Pt.ALLOW_DATA_ATTR,Dt=Pt.ALLOW_UNKNOWN_PROTOCOLS||!1,oe=Pt.WHOLE_DOCUMENT||!1,it=Pt.RETURN_DOM||!1,Et=!1!==Pt.RETURN_DOM_IMPORT,Ut=Pt.RETURN_TRUSTED_TYPE||!1,We=Pt.FORCE_BODY||!1,sn=!1!==Pt.SANITIZE_DOM,pn=!1!==Pt.KEEP_CONTENT,In=Pt.IN_PLACE||!1,xn=Pt.ALLOWED_URI_REGEXP||xn,Yn=Pt.NAMESPACE||Li,(Te=Pt.SAFE_FOR_TEMPLATES||!1)&&(Dn=!1),(pt=Pt.RETURN_DOM_FRAGMENT||!1)&&(it=!0),(On="USE_PROFILES"in Pt&&Pt.USE_PROFILES)&&(Un=R({},[].concat(de(Y))),ei=[],!0===On.html&&(R(Un,G),R(ei,E)),!0===On.svg&&(R(Un,F),R(ei,V),R(ei,te)),!0===On.svgFilters&&(R(Un,W),R(ei,V),R(ei,te)),!0===On.mathMl&&(R(Un,z),R(ei,$),R(ei,te))),Pt.ADD_TAGS&&(Un===ai&&(Un=Q(Un)),R(Un,Pt.ADD_TAGS)),Pt.ADD_ATTR&&(ei===Di&&(ei=Q(ei)),R(ei,Pt.ADD_ATTR)),Pt.ADD_URI_SAFE_ATTR&&R(ri,Pt.ADD_URI_SAFE_ATTR),Pt.FORBID_CONTENTS&&(Tn===kn&&(Tn=Q(Tn)),R(Tn,Pt.FORBID_CONTENTS)),pn&&(Un["#text"]=!0),oe&&R(Un,["html","head","body"]),Un.table&&(R(Un,["tbody"]),delete li.tbody),A&&A(Pt),pi=Pt)},Lt=R({},["mi","mo","mn","ms","mtext"]),Ft=R({},["foreignobject","desc","title","annotation-xml"]),un=R({},F);R(un,W),R(un,B);var ln=R({},z);R(ln,j);var Ot=function(Pt){var wn=ke(Pt);(!wn||!wn.tagName)&&(wn={namespaceURI:Li,tagName:"template"});var Fn=v(Pt.tagName),Qt=v(wn.tagName);if(Pt.namespaceURI===xi)return wn.namespaceURI===Li?"svg"===Fn:wn.namespaceURI===Si?"svg"===Fn&&("annotation-xml"===Qt||Lt[Qt]):Boolean(un[Fn]);if(Pt.namespaceURI===Si)return wn.namespaceURI===Li?"math"===Fn:wn.namespaceURI===xi?"math"===Fn&&Ft[Qt]:Boolean(ln[Fn]);if(Pt.namespaceURI===Li){if(wn.namespaceURI===xi&&!Ft[Qt]||wn.namespaceURI===Si&&!Lt[Qt])return!1;var Kn=R({},["title","style","font","a","script"]);return!ln[Fn]&&(Kn[Fn]||!un[Fn])}return!1},$e=function(Pt){l(xe.removed,{element:Pt});try{Pt.parentNode.removeChild(Pt)}catch(wn){try{Pt.outerHTML=Ee}catch(Fn){Pt.remove()}}},wt=function(Pt,wn){try{l(xe.removed,{attribute:wn.getAttributeNode(Pt),from:wn})}catch(Fn){l(xe.removed,{attribute:null,from:wn})}if(wn.removeAttribute(Pt),"is"===Pt&&!ei[Pt])if(it||pt)try{$e(wn)}catch(Fn){}else try{wn.setAttribute(Pt,"")}catch(Fn){}},Bt=function(Pt){var wn=void 0,Fn=void 0;if(We)Pt="<remove></remove>"+Pt;else{var Qt=d(Pt,/^[\r\n\t ]+/);Fn=Qt&&Qt[0]}var Kn=st?st.createHTML(Pt):Pt;if(Yn===Li)try{wn=(new ze).parseFromString(Kn,"text/html")}catch(_t){}if(!wn||!wn.documentElement){wn=mt.createDocument(Yn,"template",null);try{wn.documentElement.innerHTML=fi?"":Kn}catch(_t){}}var Zn=wn.body||wn.documentElement;return Pt&&Fn&&Zn.insertBefore(gt.createTextNode(Fn),Zn.childNodes[0]||null),Yn===Li?Cn.call(wn,oe?"html":"body")[0]:oe?wn.documentElement:Zn},Xt=function(Pt){return Vt.call(Pt.ownerDocument||Pt,Pt,ot.SHOW_ELEMENT|ot.SHOW_COMMENT|ot.SHOW_TEXT,null,!1)},nn=function(Pt){return!(Pt instanceof Mt||Pt instanceof Nt||"string"==typeof Pt.nodeName&&"string"==typeof Pt.textContent&&"function"==typeof Pt.removeChild&&Pt.attributes instanceof Ze&&"function"==typeof Pt.removeAttribute&&"function"==typeof Pt.setAttribute&&"string"==typeof Pt.namespaceURI&&"function"==typeof Pt.insertBefore)},Kt=function(Pt){return"object"===(void 0===He?"undefined":he(He))?Pt instanceof He:Pt&&"object"===(void 0===Pt?"undefined":he(Pt))&&"number"==typeof Pt.nodeType&&"string"==typeof Pt.nodeName},Ge=function(Pt,wn,Fn){!Yt[Pt]||c(Yt[Pt],function(Qt){Qt.call(xe,wn,Fn,pi)})},ct=function(Pt){var wn=void 0;if(Ge("beforeSanitizeElements",Pt,null),nn(Pt)||d(Pt.nodeName,/[\u0080-\uFFFF]/))return $e(Pt),!0;var Fn=v(Pt.nodeName);if(Ge("uponSanitizeElement",Pt,{tagName:Fn,allowedTags:Un}),!Kt(Pt.firstElementChild)&&(!Kt(Pt.content)||!Kt(Pt.content.firstElementChild))&&S(/<[/\w]/g,Pt.innerHTML)&&S(/<[/\w]/g,Pt.textContent)||"select"===Fn&&S(/<template/i,Pt.innerHTML))return $e(Pt),!0;if(!Un[Fn]||li[Fn]){if(pn&&!Tn[Fn]){var Qt=ke(Pt)||Pt.parentNode,Kn=ft(Pt)||Pt.childNodes;if(Kn&&Qt)for(var _t=Kn.length-1;_t>=0;--_t)Qt.insertBefore(hn(Kn[_t],!0),vn(Pt))}return $e(Pt),!0}return Pt instanceof Ue&&!Ot(Pt)||("noscript"===Fn||"noembed"===Fn)&&S(/<\/no(script|embed)/i,Pt.innerHTML)?($e(Pt),!0):(Te&&3===Pt.nodeType&&(wn=m(wn=Pt.textContent,ht," "),wn=m(wn,Ct," "),Pt.textContent!==wn&&(l(xe.removed,{element:Pt.cloneNode()}),Pt.textContent=wn)),Ge("afterSanitizeElements",Pt,null),!1)},St=function(Pt,wn,Fn){if(sn&&("id"===wn||"name"===wn)&&(Fn in gt||Fn in mn))return!1;if((!Dn||Qn[wn]||!S(rn,wn))&&(!wi||!S(jt,wn))){if(!ei[wn]||Qn[wn])return!1;if(!ri[wn]&&!S(xn,m(Fn,En,""))&&("src"!==wn&&"xlink:href"!==wn&&"href"!==wn||"script"===Pt||0!==I(Fn,"data:")||!An[Pt])&&(!Dt||S(yn,m(Fn,En,"")))&&Fn)return!1}return!0},It=function(Pt){var wn=void 0,Fn=void 0,Qt=void 0,Kn=void 0;Ge("beforeSanitizeAttributes",Pt,null);var Zn=Pt.attributes;if(Zn){var _t={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ei};for(Kn=Zn.length;Kn--;){var K=(wn=Zn[Kn]).name,q=wn.namespaceURI;if(Fn=y(wn.value),Qt=v(K),_t.attrName=Qt,_t.attrValue=Fn,_t.keepAttr=!0,_t.forceKeepAttr=void 0,Ge("uponSanitizeAttribute",Pt,_t),Fn=_t.attrValue,!_t.forceKeepAttr&&(wt(K,Pt),_t.keepAttr)){if(S(/\/>/i,Fn)){wt(K,Pt);continue}Te&&(Fn=m(Fn,ht," "),Fn=m(Fn,Ct," "));var we=Pt.nodeName.toLowerCase();if(St(we,Qt,Fn))try{q?Pt.setAttributeNS(q,K,Fn):Pt.setAttribute(K,Fn),n(xe.removed)}catch(Re){}}}Ge("afterSanitizeAttributes",Pt,null)}},Zt=function Ht(Pt){var wn=void 0,Fn=Xt(Pt);for(Ge("beforeSanitizeShadowDOM",Pt,null);wn=Fn.nextNode();)Ge("uponSanitizeShadowNode",wn,null),!ct(wn)&&(wn.content instanceof lt&&Ht(wn.content),It(wn));Ge("afterSanitizeShadowDOM",Pt,null)};return xe.sanitize=function(Ht,Pt){var wn=void 0,Fn=void 0,Qt=void 0,Kn=void 0,Zn=void 0;if((fi=!Ht)&&(Ht="\x3c!--\x3e"),"string"!=typeof Ht&&!Kt(Ht)){if("function"!=typeof Ht.toString)throw b("toString is not a function");if("string"!=typeof(Ht=Ht.toString()))throw b("dirty is not a string, aborting")}if(!xe.isSupported){if("object"===he(ne.toStaticHTML)||"function"==typeof ne.toStaticHTML){if("string"==typeof Ht)return ne.toStaticHTML(Ht);if(Kt(Ht))return ne.toStaticHTML(Ht.outerHTML)}return Ht}if(Le||bt(Pt),xe.removed=[],"string"==typeof Ht&&(In=!1),!In)if(Ht instanceof He)1===(Fn=(wn=Bt("\x3c!----\x3e")).ownerDocument.importNode(Ht,!0)).nodeType&&"BODY"===Fn.nodeName||"HTML"===Fn.nodeName?wn=Fn:wn.appendChild(Fn);else{if(!it&&!Te&&!oe&&-1===Ht.indexOf("<"))return st&&Ut?st.createHTML(Ht):Ht;if(!(wn=Bt(Ht)))return it?null:Ee}wn&&We&&$e(wn.firstChild);for(var _t=Xt(In?Ht:wn);Qt=_t.nextNode();)3===Qt.nodeType&&Qt===Kn||ct(Qt)||(Qt.content instanceof lt&&Zt(Qt.content),It(Qt),Kn=Qt);if(Kn=null,In)return Ht;if(it){if(pt)for(Zn=qt.call(wn.ownerDocument);wn.firstChild;)Zn.appendChild(wn.firstChild);else Zn=wn;return Et&&(Zn=Gt.call(Je,Zn,!0)),Zn}var D=oe?wn.outerHTML:wn.innerHTML;return Te&&(D=m(D,ht," "),D=m(D,Ct," ")),st&&Ut?st.createHTML(D):D},xe.setConfig=function(Ht){bt(Ht),Le=!0},xe.clearConfig=function(){pi=null,Le=!1},xe.isValidAttribute=function(Ht,Pt,wn){pi||bt({});var Fn=v(Ht),Qt=v(Pt);return St(Fn,Qt,wn)},xe.addHook=function(Ht,Pt){"function"==typeof Pt&&(Yt[Ht]=Yt[Ht]||[],l(Yt[Ht],Pt))},xe.removeHook=function(Ht){Yt[Ht]&&n(Yt[Ht])},xe.removeHooks=function(Ht){Yt[Ht]&&(Yt[Ht]=[])},xe.removeAllHooks=function(){Yt={}},xe}();const _e=Pe.sanitize,pe=Pe.addHook,De=Pe.removeHook},65691:(at,ue,e)=>{"use strict";e.d(ue,{Y:()=>s,p:()=>L});var f=e(52787);class s{constructor(u,P,A){const k=N=>this.emitter.fire(N);this.emitter=new f.Q5({onFirstListenerAdd:()=>u.addEventListener(P,k,A),onLastListenerRemove:()=>u.removeEventListener(P,k,A)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function L(M){return M.preventDefault(),M.stopPropagation(),M}},48554:(at,ue,e)=>{"use strict";e.d(ue,{X:()=>L,Z:()=>f});class f{constructor(u){this.domNode=u,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(u){const P=s(u);this._maxWidth!==P&&(this._maxWidth=P,this.domNode.style.maxWidth=this._maxWidth)}setWidth(u){const P=s(u);this._width!==P&&(this._width=P,this.domNode.style.width=this._width)}setHeight(u){const P=s(u);this._height!==P&&(this._height=P,this.domNode.style.height=this._height)}setTop(u){const P=s(u);this._top!==P&&(this._top=P,this.domNode.style.top=this._top)}setLeft(u){const P=s(u);this._left!==P&&(this._left=P,this.domNode.style.left=this._left)}setBottom(u){const P=s(u);this._bottom!==P&&(this._bottom=P,this.domNode.style.bottom=this._bottom)}setRight(u){const P=s(u);this._right!==P&&(this._right=P,this.domNode.style.right=this._right)}setFontFamily(u){this._fontFamily!==u&&(this._fontFamily=u,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(u){this._fontWeight!==u&&(this._fontWeight=u,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(u){const P=s(u);this._fontSize!==P&&(this._fontSize=P,this.domNode.style.fontSize=this._fontSize)}setFontStyle(u){this._fontStyle!==u&&(this._fontStyle=u,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(u){this._fontFeatureSettings!==u&&(this._fontFeatureSettings=u,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(u){this._textDecoration!==u&&(this._textDecoration=u,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(u){const P=s(u);this._lineHeight!==P&&(this._lineHeight=P,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(u){const P=s(u);this._letterSpacing!==P&&(this._letterSpacing=P,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(u){this._className!==u&&(this._className=u,this.domNode.className=this._className)}toggleClassName(u,P){this.domNode.classList.toggle(u,P),this._className=this.domNode.className}setDisplay(u){this._display!==u&&(this._display=u,this.domNode.style.display=this._display)}setPosition(u){this._position!==u&&(this._position=u,this.domNode.style.position=this._position)}setVisibility(u){this._visibility!==u&&(this._visibility=u,this.domNode.style.visibility=this._visibility)}setColor(u){this._color!==u&&(this._color=u,this.domNode.style.color=this._color)}setBackgroundColor(u){this._backgroundColor!==u&&(this._backgroundColor=u,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(u){this._layerHint!==u&&(this._layerHint=u,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(u){this._boxShadow!==u&&(this._boxShadow=u,this.domNode.style.boxShadow=u)}setContain(u){this._contain!==u&&(this._contain=u,this.domNode.style.contain=this._contain)}setAttribute(u,P){this.domNode.setAttribute(u,P)}removeAttribute(u){this.domNode.removeAttribute(u)}appendChild(u){this.domNode.appendChild(u.domNode)}removeChild(u){this.domNode.removeChild(u.domNode)}}function s(M){return"number"==typeof M?`${M}px`:M}function L(M){return new f(M)}},95109:(at,ue,e)=>{"use strict";e.d(ue,{BO:()=>L,IY:()=>s,az:()=>M});var f=e(58059);function s(_,a={}){const p=M(a);return p.textContent=_,p}function L(_,a={}){const p=M(a);return P(p,function A(_,a){const p={type:1,children:[]};let c=0,n=p;const l=[],v=new u(_);for(;!v.eos();){let d=v.next();const m="\\"===d&&0!==N(v.peek(),a);if(m&&(d=v.next()),!m&&k(d,a)&&d===v.peek()){v.advance(),2===n.type&&(n=l.pop());const I=N(d,a);if(n.type===I||5===n.type&&6===I)n=l.pop();else{const y={type:I,children:[]};5===I&&(y.index=c,c++),n.children.push(y),l.push(n),n=y}}else if("\n"===d)2===n.type&&(n=l.pop()),n.children.push({type:8});else if(2!==n.type){const I={type:2,content:d};n.children.push(I),l.push(n),n=I}else n.content+=d}return 2===n.type&&(n=l.pop()),p}(_,!!a.renderCodeSegments),a.actionHandler,a.renderCodeSegments),p}function M(_){const p=document.createElement(_.inline?"span":"div");return _.className&&(p.className=_.className),p}class u{constructor(a){this.source=a,this.index=0}eos(){return this.index>=this.source.length}next(){const a=this.peek();return this.advance(),a}peek(){return this.source[this.index]}advance(){this.index++}}function P(_,a,p,c){let n;if(2===a.type)n=document.createTextNode(a.content||"");else if(3===a.type)n=document.createElement("b");else if(4===a.type)n=document.createElement("i");else if(7===a.type&&c)n=document.createElement("code");else if(5===a.type&&p){const l=document.createElement("a");p.disposables.add(f.mu(l,"click",v=>{p.callback(String(a.index),v)})),n=l}else 8===a.type?n=document.createElement("br"):1===a.type&&(n=_);n&&_!==n&&_.appendChild(n),n&&Array.isArray(a.children)&&a.children.forEach(l=>{P(n,l,p,c)})}function k(_,a){return 0!==N(_,a)}function N(_,a){switch(_){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return a?7:0;default:return 0}}},96908:(at,ue,e)=>{"use strict";e.d(ue,{C:()=>L});var f=e(58059),s=e(52425);class L{constructor(){this._hooks=new s.SL,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(u,P){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const A=this._onStopCallback;this._onStopCallback=null,u&&A&&A(P)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(u,P,A,k,N){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=k,this._onStopCallback=N;let _=u;try{u.setPointerCapture(P),this._hooks.add((0,s.OF)(()=>{u.releasePointerCapture(P)}))}catch(a){_=window}this._hooks.add(f.nm(_,f.tw.POINTER_MOVE,a=>{a.buttons===A?(a.preventDefault(),this._pointerMoveCallback(a)):this.stopMonitoring(!0)})),this._hooks.add(f.nm(_,f.tw.POINTER_UP,a=>this.stopMonitoring(!0)))}}},74616:(at,ue,e)=>{"use strict";e.d(ue,{y:()=>_});var f=e(13366),s=e(36950),L=e(5016),M=e(38972);const P=M.dz?256:2048,N=M.dz?2048:256;class _{constructor(p){this._standardKeyboardEventBrand=!0;const c=p;this.browserEvent=c,this.target=c.target,this.ctrlKey=c.ctrlKey,this.shiftKey=c.shiftKey,this.altKey=c.altKey,this.metaKey=c.metaKey,this.keyCode=function u(a){if(a.charCode){const c=String.fromCharCode(a.charCode).toUpperCase();return s.kL.fromString(c)}const p=a.keyCode;if(3===p)return 7;if(f.isFirefox){if(59===p)return 80;if(107===p)return 81;if(109===p)return 83;if(M.dz&&224===p)return 57}else if(f.isWebKit){if(91===p)return 57;if(M.dz&&93===p)return 57;if(!M.dz&&92===p)return 57}return s.H_[p]||0}(c),this.code=c.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(p){return this._asKeybinding===p}_computeKeybinding(){let p=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(p=this.keyCode);let c=0;return this.ctrlKey&&(c|=P),this.altKey&&(c|=512),this.shiftKey&&(c|=1024),this.metaKey&&(c|=N),c|=p,c}_computeRuntimeKeybinding(){let p=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(p=this.keyCode),new L.QC(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,p)}}},7457:(at,ue,e)=>{"use strict";e.d(ue,{n:()=>A,q:()=>k});var f=e(13366);let s=!1,L=null;function M(N){if(!N.parent||N.parent===N)return null;try{const _=N.location,a=N.parent.location;if("null"!==_.origin&&"null"!==a.origin&&_.origin!==a.origin)return s=!0,null}catch(_){return s=!0,null}return N.parent}var P=e(38972);class A{constructor(_){this.timestamp=Date.now(),this.browserEvent=_,this.leftButton=0===_.button,this.middleButton=1===_.button,this.rightButton=2===_.button,this.buttons=_.buttons,this.target=_.target,this.detail=_.detail||1,"dblclick"===_.type&&(this.detail=2),this.ctrlKey=_.ctrlKey,this.shiftKey=_.shiftKey,this.altKey=_.altKey,this.metaKey=_.metaKey,"number"==typeof _.pageX?(this.posx=_.pageX,this.posy=_.pageY):(this.posx=_.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=_.clientY+document.body.scrollTop+document.documentElement.scrollTop);const a=class u{static getSameOriginWindowChain(){if(!L){L=[];let a,_=window;do{a=M(_),L.push(a?{window:_,iframeElement:_.frameElement||null}:{window:_,iframeElement:null}),_=a}while(_)}return L.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(_,a){if(!a||_===a)return{top:0,left:0};let p=0,c=0;const n=this.getSameOriginWindowChain();for(const l of n){if(p+=l.window.scrollY,c+=l.window.scrollX,l.window===a||!l.iframeElement)break;const v=l.iframeElement.getBoundingClientRect();p+=v.top,c+=v.left}return{top:p,left:c}}}.getPositionOfChildWindowRelativeToAncestorWindow(self,_.view);this.posx-=a.left,this.posy-=a.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class k{constructor(_,a=0,p=0){if(this.browserEvent=_||null,this.target=_?_.target||_.targetNode||_.srcElement:null,this.deltaY=p,this.deltaX=a,_){const c=_,n=_;void 0!==c.wheelDeltaY?this.deltaY=c.wheelDeltaY/120:void 0!==n.VERTICAL_AXIS&&n.axis===n.VERTICAL_AXIS?this.deltaY=-n.detail/3:"wheel"===_.type&&(this.deltaY=_.deltaMode===_.DOM_DELTA_LINE?f.isFirefox&&!P.dz?-_.deltaY/3:-_.deltaY:-_.deltaY/40),void 0!==c.wheelDeltaX?this.deltaX=f.isSafari&&P.ED?-c.wheelDeltaX/120:c.wheelDeltaX/120:void 0!==n.HORIZONTAL_AXIS&&n.axis===n.HORIZONTAL_AXIS?this.deltaX=-_.detail/3:"wheel"===_.type&&(this.deltaX=_.deltaMode===_.DOM_DELTA_LINE?f.isFirefox&&!P.dz?-_.deltaX/3:-_.deltaX:-_.deltaX/40),0===this.deltaY&&0===this.deltaX&&_.wheelDelta&&(this.deltaY=_.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}},79680:(at,ue,e)=>{"use strict";e.d(ue,{o:()=>A,t:()=>P});var f=e(58059),s=e(18337),L=e(10087),M=e(52425),P=(()=>{return(k=P||(P={})).Tap="-monaco-gesturetap",k.Change="-monaco-gesturechange",k.Start="-monaco-gesturestart",k.End="-monaco-gesturesend",k.Contextmenu="-monaco-gesturecontextmenu",P;var k})();class A extends M.JT{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(f.nm(document,"touchstart",N=>this.onTouchStart(N),{passive:!1})),this._register(f.nm(document,"touchend",N=>this.onTouchEnd(N))),this._register(f.nm(document,"touchmove",N=>this.onTouchMove(N),{passive:!1}))}static addTarget(N){return A.isTouchDevice()?(A.INSTANCE||(A.INSTANCE=new A),A.INSTANCE.targets.push(N),{dispose:()=>{A.INSTANCE.targets=A.INSTANCE.targets.filter(_=>_!==N)}}):M.JT.None}static ignoreTarget(N){return A.isTouchDevice()?(A.INSTANCE||(A.INSTANCE=new A),A.INSTANCE.ignoreTargets.push(N),{dispose:()=>{A.INSTANCE.ignoreTargets=A.INSTANCE.ignoreTargets.filter(_=>_!==N)}}):M.JT.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(N){const _=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let a=0,p=N.targetTouches.length;a<p;a++){const c=N.targetTouches.item(a);this.activeTouches[c.identifier]={id:c.identifier,initialTarget:c.target,initialTimeStamp:_,initialPageX:c.pageX,initialPageY:c.pageY,rollingTimestamps:[_],rollingPageX:[c.pageX],rollingPageY:[c.pageY]};const n=this.newGestureEvent(P.Start,c.target);n.pageX=c.pageX,n.pageY=c.pageY,this.dispatchEvent(n)}this.dispatched&&(N.preventDefault(),N.stopPropagation(),this.dispatched=!1)}onTouchEnd(N){const _=Date.now(),a=Object.keys(this.activeTouches).length;for(let p=0,c=N.changedTouches.length;p<c;p++){const n=N.changedTouches.item(p);if(!this.activeTouches.hasOwnProperty(String(n.identifier))){console.warn("move of an UNKNOWN touch",n);continue}const l=this.activeTouches[n.identifier],v=Date.now()-l.initialTimeStamp;if(v<A.HOLD_DELAY&&Math.abs(l.initialPageX-s.Gb(l.rollingPageX))<30&&Math.abs(l.initialPageY-s.Gb(l.rollingPageY))<30){const d=this.newGestureEvent(P.Tap,l.initialTarget);d.pageX=s.Gb(l.rollingPageX),d.pageY=s.Gb(l.rollingPageY),this.dispatchEvent(d)}else if(v>=A.HOLD_DELAY&&Math.abs(l.initialPageX-s.Gb(l.rollingPageX))<30&&Math.abs(l.initialPageY-s.Gb(l.rollingPageY))<30){const d=this.newGestureEvent(P.Contextmenu,l.initialTarget);d.pageX=s.Gb(l.rollingPageX),d.pageY=s.Gb(l.rollingPageY),this.dispatchEvent(d)}else if(1===a){const d=s.Gb(l.rollingPageX),m=s.Gb(l.rollingPageY),I=s.Gb(l.rollingTimestamps)-l.rollingTimestamps[0],y=d-l.rollingPageX[0],S=m-l.rollingPageY[0],b=this.targets.filter(x=>l.initialTarget instanceof Node&&x.contains(l.initialTarget));this.inertia(b,_,Math.abs(y)/I,y>0?1:-1,d,Math.abs(S)/I,S>0?1:-1,m)}this.dispatchEvent(this.newGestureEvent(P.End,l.initialTarget)),delete this.activeTouches[n.identifier]}this.dispatched&&(N.preventDefault(),N.stopPropagation(),this.dispatched=!1)}newGestureEvent(N,_){const a=document.createEvent("CustomEvent");return a.initEvent(N,!1,!0),a.initialTarget=_,a.tapCount=0,a}dispatchEvent(N){if(N.type===P.Tap){const _=(new Date).getTime();let a=0;a=_-this._lastSetTapCountTime>A.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=_,N.tapCount=a}else(N.type===P.Change||N.type===P.Contextmenu)&&(this._lastSetTapCountTime=0);for(let _=0;_<this.ignoreTargets.length;_++)if(N.initialTarget instanceof Node&&this.ignoreTargets[_].contains(N.initialTarget))return;this.targets.forEach(_=>{N.initialTarget instanceof Node&&_.contains(N.initialTarget)&&(_.dispatchEvent(N),this.dispatched=!0)})}inertia(N,_,a,p,c,n,l,v){this.handle=f.jL(()=>{const d=Date.now(),m=d-_;let I=0,y=0,S=!0;(a+=A.SCROLL_FRICTION*m)>0&&(S=!1,I=p*a*m),(n+=A.SCROLL_FRICTION*m)>0&&(S=!1,y=l*n*m);const b=this.newGestureEvent(P.Change);b.translationX=I,b.translationY=y,N.forEach(x=>x.dispatchEvent(b)),S||this.inertia(N,d,a,p,c+I,n,l,v+y)})}onTouchMove(N){const _=Date.now();for(let a=0,p=N.changedTouches.length;a<p;a++){const c=N.changedTouches.item(a);if(!this.activeTouches.hasOwnProperty(String(c.identifier))){console.warn("end of an UNKNOWN touch",c);continue}const n=this.activeTouches[c.identifier],l=this.newGestureEvent(P.Change,n.initialTarget);l.translationX=c.pageX-s.Gb(n.rollingPageX),l.translationY=c.pageY-s.Gb(n.rollingPageY),l.pageX=c.pageX,l.pageY=c.pageY,this.dispatchEvent(l),n.rollingPageX.length>3&&(n.rollingPageX.shift(),n.rollingPageY.shift(),n.rollingTimestamps.shift()),n.rollingPageX.push(c.pageX),n.rollingPageY.push(c.pageY),n.rollingTimestamps.push(_)}this.dispatched&&(N.preventDefault(),N.stopPropagation(),this.dispatched=!1)}}A.SCROLL_FRICTION=-.005,A.HOLD_DELAY=700,A.CLEAR_TAP_COUNT_TIME=400,function(k,N,_,a){var n,p=arguments.length,c=p<3?N:null===a?a=Object.getOwnPropertyDescriptor(N,_):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(k,N,_,a);else for(var l=k.length-1;l>=0;l--)(n=k[l])&&(c=(p<3?n(c):p>3?n(N,_,c):n(N,_))||c);p>3&&c&&Object.defineProperty(N,_,c)}([L.H],A,"isTouchDevice",null)},45909:(at,ue,e)=>{"use strict";e.d(ue,{Y:()=>p,g:()=>c});var f=e(13366),s=e(26889),L=e(58059),M=e(79680),u=e(75361),P=e(85113),A=e(52425),k=e(38972),N=e(54435),a=(e(75408),e(40402));class p extends A.JT{constructor(l,v,d={}){super(),this.options=d,this._context=l||this,this._action=v,v instanceof P.aU&&this._register(v.onDidChange(m=>{!this.element||this.handleActionChangeEvent(m)}))}get action(){return this._action}handleActionChangeEvent(l){void 0!==l.enabled&&this.updateEnabled(),void 0!==l.checked&&this.updateChecked(),void 0!==l.class&&this.updateClass(),void 0!==l.label&&(this.updateLabel(),this.updateTooltip()),void 0!==l.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new P.Wi)),this._actionRunner}set actionRunner(l){this._actionRunner=l}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(l){this._context=l}render(l){const v=this.element=l;this._register(M.o.addTarget(l));const d=this.options&&this.options.draggable;d&&(l.draggable=!0,f.isFirefox&&this._register((0,L.nm)(l,L.tw.DRAG_START,m=>{var I;return null===(I=m.dataTransfer)||void 0===I?void 0:I.setData(s.g.TEXT,this._action.label)}))),this._register((0,L.nm)(v,M.t.Tap,m=>this.onClick(m,!0))),this._register((0,L.nm)(v,L.tw.MOUSE_DOWN,m=>{d||L.zB.stop(m,!0),this._action.enabled&&0===m.button&&v.classList.add("active")})),k.dz&&this._register((0,L.nm)(v,L.tw.CONTEXT_MENU,m=>{0===m.button&&!0===m.ctrlKey&&this.onClick(m)})),this._register((0,L.nm)(v,L.tw.CLICK,m=>{L.zB.stop(m,!0),this.options&&this.options.isMenu||this.onClick(m)})),this._register((0,L.nm)(v,L.tw.DBLCLICK,m=>{L.zB.stop(m,!0)})),[L.tw.MOUSE_UP,L.tw.MOUSE_OUT].forEach(m=>{this._register((0,L.nm)(v,m,I=>{L.zB.stop(I),v.classList.remove("active")}))})}onClick(l,v=!1){var d;L.zB.stop(l,!0);const m=N.Jp(this._context)?null!==(d=this.options)&&void 0!==d&&d.useEventAsContext?l:{preserveFocus:v}:this._context;this.actionRunner.run(this._action,m)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(l){this.element&&(this.element.tabIndex=l?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.getAction().tooltip}updateTooltip(){var l;if(!this.element)return;const v=null!==(l=this.getTooltip())&&void 0!==l?l:"";this.element.setAttribute("aria-label",v),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(v):(this.customHover=(0,u.g)(this.options.hoverDelegate,this.element,v),this._store.add(this.customHover))):this.element.title=v}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class c extends p{constructor(l,v,d={}){super(l,v,d),this.options=d,this.options.icon=void 0!==d.icon&&d.icon,this.options.label=void 0===d.label||d.label,this.cssClass=""}render(l){super.render(l),this.element&&(this.label=(0,L.R3)(this.element,(0,L.$)("a.action-label"))),this.label&&this.label.setAttribute("role",this._action.id===P.Z0.ID?"presentation":this.options.isMenu?"menuitem":"button"),this.options.label&&this.options.keybinding&&this.element&&((0,L.R3)(this.element,(0,L.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(l){this.label&&(this.label.tabIndex=l?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}getTooltip(){let l=null;return this.getAction().tooltip?l=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(l=this.getAction().label,this.options.keybinding&&(l=a.NC({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",l,this.options.keybinding))),null!=l?l:void 0}updateClass(){var l;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):null===(l=this.label)||void 0===l||l.classList.remove("codicon")}updateEnabled(){var l,v;this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),null===(l=this.element)||void 0===l||l.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),null===(v=this.element)||void 0===v||v.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}},84039:(at,ue,e)=>{"use strict";e.d(ue,{o:()=>_});var f=e(58059),s=e(74616),L=e(45909),M=e(85113),u=e(52787),P=e(52425),A=e(54435),N=(e(75408),function(a,p,c,n){return new(c||(c=Promise))(function(v,d){function m(S){try{y(n.next(S))}catch(b){d(b)}}function I(S){try{y(n.throw(S))}catch(b){d(b)}}function y(S){S.done?v(S.value):function l(v){return v instanceof c?v:new c(function(d){d(v)})}(S.value).then(m,I)}y((n=n.apply(a,p||[])).next())})});class _ extends P.JT{constructor(p,c={}){var n,l,v,d,m,I;let y,S;switch(super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new u.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new u.Q5({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new u.Q5),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new u.Q5),this.onBeforeRun=this._onBeforeRun.event,this.options=c,this._context=null!==(n=c.context)&&void 0!==n?n:null,this._orientation=null!==(l=this.options.orientation)&&void 0!==l?l:0,this._triggerKeys={keyDown:null!==(d=null===(v=this.options.triggerKeys)||void 0===v?void 0:v.keyDown)&&void 0!==d&&d,keys:null!==(I=null===(m=this.options.triggerKeys)||void 0===m?void 0:m.keys)&&void 0!==I?I:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new M.Wi,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(b=>this._onDidRun.fire(b))),this._register(this._actionRunner.onBeforeRun(b=>this._onBeforeRun.fire(b))),this._actionIds=[],this.viewItems=[],this.viewItemDisposables=new Map,this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==c.animated&&this.domNode.classList.add("animated"),this._orientation){case 0:y=[15],S=[17];break;case 1:y=[16],S=[18],this.domNode.className+=" vertical"}this._register(f.nm(this.domNode,f.tw.KEY_DOWN,b=>{const x=new s.y(b);let T=!0;const R="number"==typeof this.focusedItem?this.viewItems[this.focusedItem]:void 0;y&&(x.equals(y[0])||x.equals(y[1]))?T=this.focusPrevious():S&&(x.equals(S[0])||x.equals(S[1]))?T=this.focusNext():x.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():x.equals(14)?T=this.focusFirst():x.equals(13)?T=this.focusLast():x.equals(2)&&R instanceof L.Y&&R.trapsArrowNavigation?T=this.focusNext():this.isTriggerKeyEvent(x)?this._triggerKeys.keyDown?this.doTrigger(x):this.triggerKeyDown=!0:T=!1,T&&(x.preventDefault(),x.stopPropagation())})),this._register(f.nm(this.domNode,f.tw.KEY_UP,b=>{const x=new s.y(b);this.isTriggerKeyEvent(x)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(x)),x.preventDefault(),x.stopPropagation()):(x.equals(2)||x.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(f.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(f.vY()===this.domNode||!f.jg(f.vY(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),p.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(p){if(this.focusable=p,this.focusable){const c=this.viewItems.find(n=>n instanceof L.Y&&n.isEnabled());c instanceof L.Y&&c.setFocusable(!0)}else this.viewItems.forEach(c=>{c instanceof L.Y&&c.setFocusable(!1)})}isTriggerKeyEvent(p){let c=!1;return this._triggerKeys.keys.forEach(n=>{c=c||p.equals(n)}),c}updateFocusedItem(){for(let p=0;p<this.actionsList.children.length;p++){const c=this.actionsList.children[p];if(f.jg(f.vY(),c)){this.focusedItem=p;break}}}get context(){return this._context}set context(p){this._context=p,this.viewItems.forEach(c=>c.setActionContext(p))}get actionRunner(){return this._actionRunner}set actionRunner(p){p&&(this._actionRunner=p,this.viewItems.forEach(c=>c.actionRunner=p))}getContainer(){return this.domNode}push(p,c={}){const n=Array.isArray(p)?p:[p];let l=A.hj(c.index)?c.index:null;n.forEach(v=>{const d=document.createElement("li");let m;d.className="action-item",d.setAttribute("role","presentation"),this.options.actionViewItemProvider&&(m=this.options.actionViewItemProvider(v)),m||(m=new L.g(this.context,v,Object.assign({hoverDelegate:this.options.hoverDelegate},c))),this.options.allowContextMenu||this.viewItemDisposables.set(m,f.nm(d,f.tw.CONTEXT_MENU,I=>{f.zB.stop(I,!0)})),m.actionRunner=this._actionRunner,m.setActionContext(this.context),m.render(d),this.focusable&&m instanceof L.Y&&0===this.viewItems.length&&m.setFocusable(!0),null===l||l<0||l>=this.actionsList.children.length?(this.actionsList.appendChild(d),this.viewItems.push(m),this._actionIds.push(v.id)):(this.actionsList.insertBefore(d,this.actionsList.children[l]),this.viewItems.splice(l,0,m),this._actionIds.splice(l,0,v.id),l++)}),"number"==typeof this.focusedItem&&this.focus(this.focusedItem),this.refreshRole()}clear(){(0,P.B9)(this.viewItems),this.viewItemDisposables.forEach(p=>p.dispose()),this.viewItemDisposables.clear(),this.viewItems=[],this._actionIds=[],f.PO(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}focus(p){let n,c=!1;if(void 0===p?c=!0:"number"==typeof p?n=p:"boolean"==typeof p&&(c=p),c&&void 0===this.focusedItem){const l=this.viewItems.findIndex(v=>v.isEnabled());this.focusedItem=-1===l?void 0:l,this.updateFocus(void 0,void 0,!0)}else void 0!==n&&(this.focusedItem=n),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(p){if(void 0===this.focusedItem)this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const c=this.focusedItem;let n;do{if(!p&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=c,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,n=this.viewItems[this.focusedItem]}while(this.focusedItem!==c&&(this.options.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===M.Z0.ID));return this.updateFocus(),!0}focusPrevious(p){if(void 0===this.focusedItem)this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const c=this.focusedItem;let n;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!p&&this.options.preventLoopNavigation)return this.focusedItem=c,!1;this.focusedItem=this.viewItems.length-1}n=this.viewItems[this.focusedItem]}while(this.focusedItem!==c&&(this.options.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===M.Z0.ID));return this.updateFocus(!0),!0}updateFocus(p,c,n=!1){var l;void 0===this.focusedItem&&this.actionsList.focus({preventScroll:c}),void 0!==this.previouslyFocusedItem&&this.previouslyFocusedItem!==this.focusedItem&&(null===(l=this.viewItems[this.previouslyFocusedItem])||void 0===l||l.blur());const v=void 0!==this.focusedItem&&this.viewItems[this.focusedItem];if(v){let d=!0;A.mf(v.focus)||(d=!1),this.options.focusOnlyEnabledItems&&A.mf(v.isEnabled)&&!v.isEnabled()&&(d=!1),v.action.id===M.Z0.ID&&(d=!1),d?(n||this.previouslyFocusedItem!==this.focusedItem)&&(v.focus(p),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:c}),this.previouslyFocusedItem=void 0)}}doTrigger(p){if(void 0===this.focusedItem)return;const c=this.viewItems[this.focusedItem];c instanceof L.Y&&this.run(c._action,null==c._context?p:c._context)}run(p,c){return N(this,void 0,void 0,function*(){yield this._actionRunner.run(p,c)})}dispose(){(0,P.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}},71578:(at,ue,e)=>{"use strict";e.d(ue,{Z9:()=>Q,wW:()=>R,i7:()=>Z});var f=e(58059),s=e(38972),L=e(93379),M=e.n(L),u=e(7795),P=e.n(u),A=e(90569),k=e.n(A),N=e(3565),_=e.n(N),a=e(19216),p=e.n(a),c=e(44589),n=e.n(c),l=e(93),v={};let y,S,b,x,T;function R(F){y=document.createElement("div"),y.className="monaco-aria-container";const W=()=>{const z=document.createElement("div");return z.className="monaco-alert",z.setAttribute("role","alert"),z.setAttribute("aria-atomic","true"),y.appendChild(z),z};S=W(),b=W();const B=()=>{const z=document.createElement("div");return z.className="monaco-status",z.setAttribute("role","complementary"),z.setAttribute("aria-live","polite"),z.setAttribute("aria-atomic","true"),y.appendChild(z),z};x=B(),T=B(),F.appendChild(y)}function Q(F){!y||(S.textContent!==F?(f.PO(b),G(S,F)):(f.PO(S),G(b,F)))}function Z(F){!y||(s.dz?Q(F):x.textContent!==F?(f.PO(T),G(x,F)):(f.PO(x),G(T,F)))}function G(F,W){f.PO(F),W.length>2e4&&(W=W.substr(0,2e4)),F.textContent=W,F.style.visibility="hidden",F.style.visibility="visible"}v.styleTagTransform=n(),v.setAttributes=_(),v.insert=k().bind(null,"head"),v.domAPI=P(),v.insertStyleElement=p(),M()(l.Z,v)},53001:(at,ue,e)=>{"use strict";e.d(ue,{a:()=>b});var f=e(2450),s=e(93379),L=e.n(s),M=e(7795),u=e.n(M),P=e(90569),A=e.n(P),k=e(3565),N=e.n(k),_=e(19216),a=e.n(_),p=e(44589),c=e.n(p),n=e(50058),l={};l.styleTagTransform=c(),l.setAttributes=N(),l.insert=A().bind(null,"head"),l.domAPI=u(),l.insertStyleElement=a(),L()(n.Z,l);var m=e(24081),I={};function b(x){let T=x.definition;for(;T instanceof f.lA;)T=T.definition;return`.codicon-${x.id}:before { content: '${T.fontCharacter}'; }`}I.styleTagTransform=c(),I.setAttributes=N(),I.insert=A().bind(null,"head"),I.domAPI=u(),I.insertStyleElement=a(),L()(m.Z,I)},39914:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>b});var f=e(58059),s=e(68927),L=e(85271),M=e(93059),u=e(93379),P=e.n(u),A=e(7795),k=e.n(A),N=e(90569),_=e.n(N),a=e(3565),p=e.n(a),c=e(19216),n=e.n(c),l=e(44589),v=e.n(l),d=e(90477),m={};m.styleTagTransform=v(),m.setAttributes=p(),m.insert=_().bind(null,"head"),m.domAPI=k(),m.insertStyleElement=n(),P()(d.Z,m);const S={badgeBackground:s.Il.fromHex("#4D4D4D"),badgeForeground:s.Il.fromHex("#FFFFFF")};class b{constructor(T,R){this.count=0,this.options=R||Object.create(null),(0,L.jB)(this.options,S,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,f.R3)(T,(0,f.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(T){this.count=T,this.render()}setTitleFormat(T){this.titleFormat=T,this.render()}render(){this.element.textContent=(0,M.WU)(this.countFormat,this.count),this.element.title=(0,M.WU)(this.titleFormat,this.count),this.applyStyles()}style(T){this.badgeBackground=T.badgeBackground,this.badgeForeground=T.badgeForeground,this.badgeBorder=T.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const T=this.badgeBackground?this.badgeBackground.toString():"",R=this.badgeForeground?this.badgeForeground.toString():"",Q=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=T,this.element.style.color=R,this.element.style.borderWidth=Q?"1px":"",this.element.style.borderStyle=Q?"solid":"",this.element.style.borderColor=Q}}}},12796:(at,ue,e)=>{"use strict";e.d(ue,{V:()=>N});var f=e(58059),s=e(87455),L=e(3372),M=e(83568),u=e(52787);e(30340);const k=e(40402).NC("defaultLabel","input");class N extends M.${constructor(a,p,c,n){var l;super(),this._showOptionButtons=c,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalToggles=[],this._onDidOptionChange=this._register(new u.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new u.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new u.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new u.Q5),this._onKeyUp=this._register(new u.Q5),this._onCaseSensitiveKeyDown=this._register(new u.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new u.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=p,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||k,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;const v=n.appendCaseSensitiveLabel||"",d=n.appendWholeWordsLabel||"",m=n.appendRegexLabel||"",I=n.history||[],y=!!n.flexibleHeight,S=!!n.flexibleWidth,b=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new L.p(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:I,showHistoryHint:n.showHistoryHint,flexibleHeight:y,flexibleWidth:S,flexibleMaxHeight:b})),this.regex=this._register(new s.eH({appendTitle:m,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(T=>{this._onDidOptionChange.fire(T),!T&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(T=>{this._onRegexKeyDown.fire(T)})),this.wholeWords=this._register(new s.Qx({appendTitle:d,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(T=>{this._onDidOptionChange.fire(T),!T&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new s.rk({appendTitle:v,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(T=>{this._onDidOptionChange.fire(T),!T&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(T=>{this._onCaseSensitiveKeyDown.fire(T)}));const x=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,T=>{if(T.equals(15)||T.equals(17)||T.equals(9)){const R=x.indexOf(document.activeElement);if(R>=0){let Q=-1;T.equals(17)?Q=(R+1)%x.length:T.equals(15)&&(Q=0===R?x.length-1:R-1),T.equals(9)?(x[R].blur(),this.inputBox.focus()):Q>=0&&x[Q].focus(),f.zB.stop(T,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this._showOptionButtons||(this.caseSensitive.domNode.style.display="none",this.wholeWords.domNode.style.display="none",this.regex.domNode.style.display="none");for(const T of null!==(l=null==n?void 0:n.additionalToggles)&&void 0!==l?l:[])this._register(T),this.controls.appendChild(T.domNode),this._register(T.onChange(R=>{this._onDidOptionChange.fire(R),!R&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(T);this.additionalToggles.length>0&&(this.controls.style.display="block"),this.inputBox.paddingRight=(this._showOptionButtons?this.caseSensitive.width()+this.wholeWords.width()+this.regex.width():0)+this.additionalToggles.reduce((T,R)=>T+R.width(),0),this.domNode.appendChild(this.controls),null==a||a.appendChild(this.domNode),this._register(f.nm(this.inputBox.inputElement,"compositionstart",T=>{this.imeSessionInProgress=!0})),this._register(f.nm(this.inputBox.inputElement,"compositionend",T=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,T=>this._onKeyDown.fire(T)),this.onkeyup(this.inputBox.inputElement,T=>this._onKeyUp.fire(T)),this.oninput(this.inputBox.inputElement,T=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,T=>this._onMouseDown.fire(T))}get onDidChange(){return this.inputBox.onDidChange}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable();for(const a of this.additionalToggles)a.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable();for(const a of this.additionalToggles)a.disable()}setFocusInputOnOptionClick(a){this.fixFocusOnOptionClickEnabled=a}setEnabled(a){a?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(a){this.inputBox.value!==a&&(this.inputBox.value=a)}style(a){this.inputActiveOptionBorder=a.inputActiveOptionBorder,this.inputActiveOptionForeground=a.inputActiveOptionForeground,this.inputActiveOptionBackground=a.inputActiveOptionBackground,this.inputBackground=a.inputBackground,this.inputForeground=a.inputForeground,this.inputBorder=a.inputBorder,this.inputValidationInfoBackground=a.inputValidationInfoBackground,this.inputValidationInfoForeground=a.inputValidationInfoForeground,this.inputValidationInfoBorder=a.inputValidationInfoBorder,this.inputValidationWarningBackground=a.inputValidationWarningBackground,this.inputValidationWarningForeground=a.inputValidationWarningForeground,this.inputValidationWarningBorder=a.inputValidationWarningBorder,this.inputValidationErrorBackground=a.inputValidationErrorBackground,this.inputValidationErrorForeground=a.inputValidationErrorForeground,this.inputValidationErrorBorder=a.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const a={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(a),this.wholeWords.style(a),this.caseSensitive.style(a);for(const c of this.additionalToggles)c.style(a);this.inputBox.style({inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder})}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(a){this.caseSensitive.checked=a}getWholeWords(){return this.wholeWords.checked}setWholeWords(a){this.wholeWords.checked=a}getRegex(){return this.regex.checked}setRegex(a){this.regex.checked=a,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(a){this.inputBox.showMessage(a)}clearMessage(){this.inputBox.hideMessage()}}},87455:(at,ue,e)=>{"use strict";e.d(ue,{Qx:()=>k,eH:()=>N,rk:()=>A});var f=e(41488),s=e(2450),L=e(40402);const M=L.NC("caseDescription","Match Case"),u=L.NC("wordsDescription","Match Whole Word"),P=L.NC("regexDescription","Use Regular Expression");class A extends f.Z{constructor(a){super({icon:s.lA.caseSensitive,title:M+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}class k extends f.Z{constructor(a){super({icon:s.lA.wholeWord,title:u+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}class N extends f.Z{constructor(a){super({icon:s.lA.regex,title:P+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}},99450:(at,ue,e)=>{"use strict";e.d(ue,{q:()=>M});var f=e(58059),s=e(84459),L=e(85271);class M{constructor(P,A){var k;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=null!==(k=null==A?void 0:A.supportIcons)&&void 0!==k&&k,this.domNode=f.R3(P,f.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(P,A=[],k="",N){P||(P=""),N&&(P=M.escapeNewLines(P,A)),(!this.didEverRender||this.text!==P||this.title!==k||!L.fS(this.highlights,A))&&(this.text=P,this.title=k,this.highlights=A,this.render())}render(){const P=[];let A=0;for(const k of this.highlights){if(k.end===k.start)continue;if(A<k.start){const a=this.text.substring(A,k.start);P.push(f.$("span",void 0,...this.supportIcons?(0,s.T)(a):[a])),A=k.end}const N=this.text.substring(k.start,k.end),_=f.$("span.highlight",void 0,...this.supportIcons?(0,s.T)(N):[N]);k.extraClasses&&_.classList.add(...k.extraClasses),P.push(_),A=k.end}if(A<this.text.length){const k=this.text.substring(A);P.push(f.$("span",void 0,...this.supportIcons?(0,s.T)(k):[k]))}f.mc(this.domNode,...P),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(P,A){let k=0,N=0;return P.replace(/\r\n|\r|\n/g,(_,a)=>{N="\r\n"===_?-1:0,a+=k;for(const p of A)p.end<=a||(p.start>=a&&(p.start+=N),p.end>=a&&(p.end+=N));return k+=N,"\u23ce"})}}},61021:(at,ue,e)=>{"use strict";e.d(ue,{g:()=>T});var f=e(93379),s=e.n(f),L=e(7795),M=e.n(L),u=e(90569),P=e.n(u),A=e(3565),k=e.n(A),N=e(19216),_=e.n(N),a=e(44589),p=e.n(a),c=e(94269),n={};n.styleTagTransform=p(),n.setAttributes=k(),n.insert=P().bind(null,"head"),n.domAPI=M(),n.insertStyleElement=_(),s()(c.Z,n);var d=e(58059),m=e(99450),I=e(75361),y=e(52425),S=e(85271),b=e(86656);class x{constructor(F){this._element=F}get element(){return this._element}set textContent(F){this.disposed||F===this._textContent||(this._textContent=F,this._element.textContent=F)}set className(F){this.disposed||F===this._className||(this._className=F,this._element.className=F)}set empty(F){this.disposed||F===this._empty||(this._empty=F,this._element.style.marginLeft=F?"0":"")}dispose(){this.disposed=!0}}class T extends y.JT{constructor(F,W){super(),this.customHovers=new Map,this.domNode=this._register(new x(d.R3(F,d.$(".monaco-icon-label")))),this.labelContainer=d.R3(this.domNode.element,d.$(".monaco-icon-label-container"));const B=d.R3(this.labelContainer,d.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new x(d.R3(this.labelContainer,d.$("span.monaco-icon-description-container")))),this.nameNode=(null==W?void 0:W.supportHighlights)||(null==W?void 0:W.supportIcons)?new Z(B,!!W.supportIcons):new R(B),this.descriptionNodeFactory=null!=W&&W.supportDescriptionHighlights?()=>new m.q(d.R3(this.descriptionContainer.element,d.$("span.label-description")),{supportIcons:!!W.supportIcons}):()=>this._register(new x(d.R3(this.descriptionContainer.element,d.$("span.label-description")))),this.hoverDelegate=null==W?void 0:W.hoverDelegate}get element(){return this.domNode.element}setLabel(F,W,B){const z=["monaco-icon-label"];B&&(B.extraClasses&&z.push(...B.extraClasses),B.italic&&z.push("italic"),B.strikethrough&&z.push("strikethrough")),this.domNode.className=z.join(" "),this.setupHover(null!=B&&B.descriptionTitle?this.labelContainer:this.element,null==B?void 0:B.title),this.nameNode.setLabel(F,B),(W||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof m.q?(this.descriptionNode.set(W||"",B?B.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,null==B?void 0:B.descriptionTitle)):(this.descriptionNode.textContent=W||"",this.setupHover(this.descriptionNode.element,(null==B?void 0:B.descriptionTitle)||""),this.descriptionNode.empty=!W))}setupHover(F,W){const B=this.customHovers.get(F);if(B&&(B.dispose(),this.customHovers.delete(F)),W)if(this.hoverDelegate){const z=(0,I.g)(this.hoverDelegate,F,W);z&&this.customHovers.set(F,z)}else(0,I.O)(F,W);else F.removeAttribute("title")}dispose(){super.dispose();for(const F of this.customHovers.values())F.dispose();this.customHovers.clear()}}class R{constructor(F){this.container=F,this.label=void 0,this.singleLabel=void 0}setLabel(F,W){if(this.label!==F||!(0,S.fS)(this.options,W))if(this.label=F,this.options=W,"string"==typeof F)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=d.R3(this.container,d.$("a.label-name",{id:null==W?void 0:W.domId}))),this.singleLabel.textContent=F;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let B=0;B<F.length;B++)d.R3(this.container,d.$("a.label-name",{id:(null==W?void 0:W.domId)&&`${null==W?void 0:W.domId}_${B}`,"data-icon-label-count":F.length,"data-icon-label-index":B,role:"treeitem"},F[B])),B<F.length-1&&d.R3(this.container,d.$("span.label-separator",void 0,(null==W?void 0:W.separator)||"/"))}}}class Z{constructor(F,W){this.container=F,this.supportIcons=W,this.label=void 0,this.singleLabel=void 0}setLabel(F,W){if(this.label!==F||!(0,S.fS)(this.options,W))if(this.label=F,this.options=W,"string"==typeof F)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new m.q(d.R3(this.container,d.$("a.label-name",{id:null==W?void 0:W.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(F,null==W?void 0:W.matches,void 0,null==W?void 0:W.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const B=(null==W?void 0:W.separator)||"/",z=function Q(G,F,W){if(!W)return;let B=0;return G.map(z=>{const j={start:B,end:B+z.length},Y=W.map(E=>b.e.intersect(j,E)).filter(E=>!b.e.isEmpty(E)).map(({start:E,end:V})=>({start:E-B,end:V-B}));return B=j.end+F.length,Y})}(F,B,null==W?void 0:W.matches);for(let j=0;j<F.length;j++){const Y=F[j],E=z?z[j]:void 0,$=d.$("a.label-name",{id:(null==W?void 0:W.domId)&&`${null==W?void 0:W.domId}_${j}`,"data-icon-label-count":F.length,"data-icon-label-index":j,role:"treeitem"});new m.q(d.R3(this.container,$),{supportIcons:this.supportIcons}).set(Y,E,void 0,null==W?void 0:W.labelEscapeNewLines),j<F.length-1&&d.R3($,d.$("span.label-separator",void 0,B))}}}}},75361:(at,ue,e)=>{"use strict";e.d(ue,{O:()=>_,g:()=>p});var f=e(58059),s=e(63072),L=e(80152),M=e(22468),u=e(10661),P=e(52425),A=e(54435),k=e(40402),N=function(c,n,l,v){return new(l||(l=Promise))(function(m,I){function y(x){try{b(v.next(x))}catch(T){I(T)}}function S(x){try{b(v.throw(x))}catch(T){I(T)}}function b(x){x.done?m(x.value):function d(m){return m instanceof l?m:new l(function(I){I(m)})}(x.value).then(y,S)}b((v=v.apply(c,n||[])).next())})};function _(c,n){(0,A.HD)(n)?c.title=(0,u.x$)(n):null!=n&&n.markdownNotSupportedFallback?c.title=n.markdownNotSupportedFallback:c.removeAttribute("title")}class a{constructor(n,l,v){this.hoverDelegate=n,this.target=l,this.fadeInAnimation=v}update(n,l,v){var d;return N(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let m;if(void 0===n||(0,A.HD)(n)||n instanceof HTMLElement)m=n;else if((0,A.mf)(n.markdown)){this._hoverWidget||this.show((0,k.NC)("iconLabel.loading","Loading..."),l),this._cancellationTokenSource=new L.A;const I=this._cancellationTokenSource.token;if(m=yield n.markdown(I),void 0===m&&(m=n.markdownNotSupportedFallback),this.isDisposed||I.isCancellationRequested)return}else m=null!==(d=n.markdown)&&void 0!==d?d:n.markdownNotSupportedFallback;this.show(m,l,v)})}show(n,l,v){const d=this._hoverWidget;if(this.hasContent(n)){const m=Object.assign({content:n,target:this.target,showPointer:"element"===this.hoverDelegate.placement,hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!d},v);this._hoverWidget=this.hoverDelegate.showHover(m,l)}null==d||d.dispose()}hasContent(n){return!(!n||(0,M.Fr)(n)&&!n.value)}get isDisposed(){var n;return null===(n=this._hoverWidget)||void 0===n?void 0:n.isDisposed}dispose(){var n,l;null===(n=this._hoverWidget)||void 0===n||n.dispose(),null===(l=this._cancellationTokenSource)||void 0===l||l.dispose(!0),this._cancellationTokenSource=void 0}}function p(c,n,l,v){let d,m;const I=(T,R)=>{var Q;T&&(null==m||m.dispose(),m=void 0),R&&(null==d||d.dispose(),d=void 0),null===(Q=c.onDidHideHover)||void 0===Q||Q.call(c)},y=(T,R,Q)=>new s._F(()=>N(this,void 0,void 0,function*(){(!m||m.isDisposed)&&(m=new a(c,Q||n,T>0),yield m.update(l,R,v))}),T),b=f.nm(n,f.tw.MOUSE_OVER,()=>{if(d)return;const T=new P.SL;T.add(f.nm(n,f.tw.MOUSE_LEAVE,G=>I(!1,G.fromElement===n),!0)),T.add(f.nm(n,f.tw.MOUSE_DOWN,()=>I(!0,!0),!0));const Z={targetElements:[n],dispose:()=>{}};void 0!==c.placement&&"mouse"!==c.placement||T.add(f.nm(n,f.tw.MOUSE_MOVE,F=>{Z.x=F.x+10,F.target instanceof HTMLElement&&F.target.classList.contains("action-label")&&I(!0,!0)},!0)),T.add(y(c.delay,!1,Z)),d=T},!0);return{show:T=>{I(!1,!0),y(0,T)},hide:()=>{I(!0,!0)},update:(T,R)=>N(this,void 0,void 0,function*(){l=T,yield null==m?void 0:m.update(l,void 0,R)}),dispose:()=>{b.dispose(),I(!0,!0)}}}},84459:(at,ue,e)=>{"use strict";e.d(ue,{T:()=>M});var f=e(58059),s=e(2450);const L=new RegExp(`(\\\\)?\\$\\((${s.dT.iconNameExpression}(?:${s.dT.iconModifierExpression})?)\\)`,"g");function M(P){const A=new Array;let k,N=0,_=0;for(;null!==(k=L.exec(P));){_=k.index||0,A.push(P.substring(N,_)),N=(k.index||0)+k[0].length;const[,a,p]=k;A.push(a?`$(${p})`:u({id:p}))}return N<P.length&&A.push(P.substring(N)),A}function u(P){const A=f.$("span");return A.classList.add(...s.dT.asClassNameArray(P)),A}},3372:(at,ue,e)=>{"use strict";e.d(ue,{p:()=>j,W:()=>z});var f=e(58059),s=e(65691),L=e(95109),M=e(84039),u=e(71578),P=e(97648),A=e(83568),k=e(68927),N=e(52787);class _{constructor(E,V=0,$=E.length,te=V-1){this.items=E,this.start=V,this.end=$,this.index=te}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class a{constructor(E=[],V=10){this._initialize(E),this._limit=V,this._onChange()}getHistory(){return this._elements}add(E){this._history.delete(E),this._history.add(E),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(E){return this._history.has(E)}_onChange(){this._reduceToLimit();const E=this._elements;this._navigator=new _(E,0,E.length,E.length)}_reduceToLimit(){const E=this._elements;E.length>this._limit&&this._initialize(E.slice(E.length-this._limit))}_currentPosition(){const E=this._navigator.current();return E?this._elements.indexOf(E):-1}_initialize(E){this._history=new Set;for(const V of E)this._history.add(V)}get _elements(){const E=[];return this._history.forEach(V=>E.push(V)),E}}var p=e(85271),c=e(93379),n=e.n(c),l=e(7795),v=e.n(l),d=e(90569),m=e.n(d),I=e(3565),y=e.n(I),S=e(19216),b=e.n(S),x=e(44589),T=e.n(x),R=e(41188),Q={};Q.styleTagTransform=T(),Q.setAttributes=y(),Q.insert=m().bind(null,"head"),Q.domAPI=v(),Q.insertStyleElement=b(),n()(R.Z,Q);var F=e(40402);const W=f.$,B={inputBackground:k.Il.fromHex("#3C3C3C"),inputForeground:k.Il.fromHex("#CCCCCC"),inputValidationInfoBorder:k.Il.fromHex("#55AAFF"),inputValidationInfoBackground:k.Il.fromHex("#063B49"),inputValidationWarningBorder:k.Il.fromHex("#B89500"),inputValidationWarningBackground:k.Il.fromHex("#352A05"),inputValidationErrorBorder:k.Il.fromHex("#BE1100"),inputValidationErrorBackground:k.Il.fromHex("#5A1D1D")};class z extends A.${constructor(E,V,$){var te;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new N.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new N.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=V,this.options=$||Object.create(null),(0,p.jB)(this.options,B,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=null!==(te=this.options.tooltip)&&void 0!==te?te:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=f.R3(E,W(".monaco-inputbox.idle"));const w=this.options.flexibleHeight?"textarea":"input",fe=f.R3(this.element,W(".ibwrapper"));if(this.input=f.R3(fe,W(w+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=f.R3(fe,W("div.mirror")),this.mirror.innerText="\xa0",this.scrollableElement=new P.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),f.R3(E,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(Ie=>this.input.scrollTop=Ie.scrollTop));const be=this._register(new s.Y(document,"selectionchange")),me=N.ju.filter(be.event,()=>{const Ie=document.getSelection();return(null==Ie?void 0:Ie.anchorNode)===fe});this._register(me(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new M.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(E){this.placeholder=E,this.input.setAttribute("placeholder",E)}setTooltip(E){this.tooltip=E,this.input.title=E}setAriaLabel(E){this.ariaLabel=E,E?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(E){this.input.value!==E&&(this.input.value=E,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:f.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(E=null){this.input.select(),E&&(this.input.setSelectionRange(E.start,E.end),E.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return f.w(this.input)}set width(E){if(this.options.flexibleHeight&&this.options.flexibleWidth){let V=0;this.mirror&&(V=(parseFloat(this.mirror.style.paddingLeft||"")||0)+(parseFloat(this.mirror.style.paddingRight||"")||0)),this.input.style.width=E-V+"px"}else this.input.style.width=E+"px";this.mirror&&(this.mirror.style.width=E+"px")}set paddingRight(E){this.input.style.width=`calc(100% - ${E}px)`,this.mirror&&(this.mirror.style.paddingRight=E+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const $=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:this.cachedContentHeight,height:this.cachedHeight}),this.scrollableElement.setScrollPosition({scrollTop:$})}showMessage(E,V){this.message=E,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(E.type));const $=this.stylesForType(this.message.type);this.element.style.border=$.border?`1px solid ${$.border}`:"",(this.hasFocus()||V)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let E=null;return this.validation&&(E=this.validation(this.value),E?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(E)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),null==E?void 0:E.type}stylesForType(E){switch(E){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(E){switch(E){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let E;const V=()=>E.style.width=f.w(this.element)+"px";let $;this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:te=>{if(!this.message)return null;E=f.R3(te,W(".monaco-inputbox-container")),V();const w={inline:!0,className:"monaco-inputbox-message"},fe=this.message.formatContent?(0,L.BO)(this.message.content,w):(0,L.IY)(this.message.content,w);fe.classList.add(this.classForType(this.message.type));const be=this.stylesForType(this.message.type);return fe.style.backgroundColor=be.background?be.background.toString():"",fe.style.color=be.foreground?be.foreground.toString():"",fe.style.border=be.border?`1px solid ${be.border}`:"",f.R3(E,fe),null},onHide:()=>{this.state="closed"},layout:V}),$=3===this.message.type?F.NC("alertErrorMessage","Error: {0}",this.message.content):2===this.message.type?F.NC("alertWarningMessage","Warning: {0}",this.message.content):F.NC("alertInfoMessage","Info: {0}",this.message.content),u.Z9($),this.state="open"}_hideMessage(){!this.contextViewProvider||("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const E=this.value,$=10===E.charCodeAt(E.length-1)?" ":"";(E+$).replace(/\u000c/g,"")?this.mirror.textContent=E+$:this.mirror.innerText="\xa0",this.layout()}style(E){this.inputBackground=E.inputBackground,this.inputForeground=E.inputForeground,this.inputBorder=E.inputBorder,this.inputValidationInfoBackground=E.inputValidationInfoBackground,this.inputValidationInfoForeground=E.inputValidationInfoForeground,this.inputValidationInfoBorder=E.inputValidationInfoBorder,this.inputValidationWarningBackground=E.inputValidationWarningBackground,this.inputValidationWarningForeground=E.inputValidationWarningForeground,this.inputValidationWarningBorder=E.inputValidationWarningBorder,this.inputValidationErrorBackground=E.inputValidationErrorBackground,this.inputValidationErrorForeground=E.inputValidationErrorForeground,this.inputValidationErrorBorder=E.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const E=this.inputBackground?this.inputBackground.toString():"",V=this.inputForeground?this.inputForeground.toString():"",$=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=E,this.element.style.color=V,this.input.style.backgroundColor="inherit",this.input.style.color=V,this.element.style.borderWidth=$?"1px":"",this.element.style.borderStyle=$?"solid":"",this.element.style.borderColor=$}layout(){if(!this.mirror)return;const E=this.cachedContentHeight;this.cachedContentHeight=f.wn(this.mirror),E!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(E){const V=this.inputElement,$=V.selectionStart,te=V.selectionEnd,w=V.value;null!==$&&null!==te&&(this.value=w.substr(0,$)+E+w.substr(te),V.setSelectionRange($+1,$+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class j extends z{constructor(E,V,$){const te=F.NC({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21c5 plus a single space, then used as a hint where input field keeps history"]},"for history"),w=` or \u21c5 ${te}`,fe=` (\u21c5 ${te})`;super(E,V,$),this._onDidFocus=this._register(new N.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new N.Q5),this.onDidBlur=this._onDidBlur.event,this.history=new a($.history,100);const be=()=>{if($.showHistoryHint&&$.showHistoryHint()&&!this.placeholder.endsWith(w)&&!this.placeholder.endsWith(fe)&&this.history.getHistory().length){const me=this.placeholder.endsWith(")")?w:fe,Ie=this.placeholder+me;$.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=Ie:this.setPlaceHolder(Ie)}};this.observer=new MutationObserver((me,Ie)=>{me.forEach(ee=>{ee.target.textContent||be()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>be()),this.onblur(this.input,()=>{const me=Ie=>{if(this.placeholder.endsWith(Ie)){const ee=this.placeholder.slice(0,this.placeholder.length-Ie.length);return $.showPlaceholderOnFocus?this.placeholder=ee:this.setPlaceHolder(ee),!0}return!1};me(fe)||me(w)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let E=this.getNextValue();E&&(E=E===this.value?this.getNextValue():E),E&&(this.value=E,u.i7(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let E=this.getPreviousValue();E&&(E=E===this.value?this.getPreviousValue():E),E&&(this.value=E,u.i7(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let E=this.history.current();return E||(E=this.history.last(),this.history.next()),E}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},1100:(at,ue,e)=>{"use strict";e.d(ue,{kX:()=>x,Bv:()=>G});var f=e(13366),s=e(26889),L=e(58059),M=e(65691),u=e(79680),P=e(97648),A=e(18337),k=e(63072),N=e(10087),_=e(52787),a=e(52425),p=e(86656),c=e(17838);function n(F,W){const B=[];for(const z of W){if(F.start>=z.range.end)continue;if(F.end<z.range.start)break;const j=p.e.intersect(F,z.range);p.e.isEmpty(j)||B.push({range:j,size:z.size})}return B}function l({start:F,end:W},B){return{start:F+B,end:W+B}}class m{constructor(){this.groups=[],this._size=0}splice(W,B,z=[]){const j=z.length-B,Y=n({start:0,end:W},this.groups),E=n({start:W+B,end:Number.POSITIVE_INFINITY},this.groups).map($=>({range:l($.range,j),size:$.size})),V=z.map(($,te)=>({range:{start:W+te,end:W+te+1},size:$.size}));this.groups=function d(...F){return function v(F){const W=[];let B=null;for(const z of F){const j=z.range.start,Y=z.range.end,E=z.size;B&&E===B.size?B.range.end=Y:(B={range:{start:j,end:Y},size:E},W.push(B))}return W}(F.reduce((W,B)=>W.concat(B),[]))}(Y,V,E),this._size=this.groups.reduce(($,te)=>$+te.size*(te.range.end-te.range.start),0)}get count(){const W=this.groups.length;return W?this.groups[W-1].range.end:0}get size(){return this._size}indexAt(W){if(W<0)return-1;let B=0,z=0;for(const j of this.groups){const Y=j.range.end-j.range.start,E=z+Y*j.size;if(W<E)return B+Math.floor((W-z)/j.size);B+=Y,z=E}return B}indexAfter(W){return Math.min(this.indexAt(W)+1,this.count)}positionAt(W){if(W<0)return-1;let B=0,z=0;for(const j of this.groups){const Y=j.range.end-j.range.start,E=z+Y;if(W<E)return B+(W-z)*j.size;B+=Y*j.size,z=E}return-1}}class y{constructor(W){this.renderers=W,this.cache=new Map}alloc(W){let B=this.getTemplateCache(W).pop();if(!B){const z=(0,L.$)(".monaco-list-row");B={domNode:z,templateId:W,templateData:this.getRenderer(W).renderTemplate(z)}}return B}release(W){!W||this.releaseRow(W)}releaseRow(W){const{domNode:B,templateId:z}=W;B&&(B.classList.remove("scrolling"),function I(F){var W;try{null===(W=F.parentElement)||void 0===W||W.removeChild(F)}catch(B){}}(B)),this.getTemplateCache(z).push(W)}getTemplateCache(W){let B=this.cache.get(W);return B||(B=[],this.cache.set(W,B)),B}dispose(){this.cache.forEach((W,B)=>{for(const z of W)this.getRenderer(B).disposeTemplate(z.templateData),z.templateData=null}),this.cache.clear()}getRenderer(W){const B=this.renderers.get(W);if(!B)throw new Error(`No renderer found for ${W}`);return B}}var S=function(F,W,B,z){var E,j=arguments.length,Y=j<3?W:null===z?z=Object.getOwnPropertyDescriptor(W,B):z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Y=Reflect.decorate(F,W,B,z);else for(var V=F.length-1;V>=0;V--)(E=F[V])&&(Y=(j<3?E(Y):j>3?E(W,B,Y):E(W,B))||Y);return j>3&&Y&&Object.defineProperty(W,B,Y),Y};const b={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:F=>[F],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class x{constructor(W){this.elements=W}update(){}getData(){return this.elements}}class T{constructor(W){this.elements=W}update(){}getData(){return this.elements}}class R{constructor(){this.types=[],this.files=[]}update(W){if(W.types&&this.types.splice(0,this.types.length,...W.types),W.files){this.files.splice(0,this.files.length);for(let B=0;B<W.files.length;B++){const z=W.files.item(B);z&&(z.size||z.type)&&this.files.push(z)}}}getData(){return{types:this.types,files:this.files}}}class Z{constructor(W){this.getSetSize=null!=W&&W.getSetSize?W.getSetSize.bind(W):(B,z,j)=>j,this.getPosInSet=null!=W&&W.getPosInSet?W.getPosInSet.bind(W):(B,z)=>z+1,this.getRole=null!=W&&W.getRole?W.getRole.bind(W):B=>"listitem",this.isChecked=null!=W&&W.isChecked?W.isChecked.bind(W):B=>{}}}class G{constructor(W,B,z,j=b){var Y,E,V,$,te,w,fe,be,me,Ie;if(this.virtualDelegate=B,this.domId="list_id_"+ ++G.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new k.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=a.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=a.JT.None,this.onDragLeaveTimeout=a.JT.None,this.disposables=new a.SL,this._onDidChangeContentHeight=new _.Q5,this._horizontalScrolling=!1,j.horizontalScrolling&&j.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new m;for(const ce of z)this.renderers.set(ce.templateId,ce);this.cache=this.disposables.add(new y(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support","boolean"!=typeof j.mouseSupport||j.mouseSupport),this._horizontalScrolling=null!==(Y=j.horizontalScrolling)&&void 0!==Y?Y:b.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=void 0===j.additionalScrollHeight?0:j.additionalScrollHeight,this.accessibilityProvider=new Z(j.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(null!==(E=j.transformOptimization)&&void 0!==E?E:b.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(u.o.addTarget(this.rowsContainer)),this.scrollable=new c.Rm({forceIntegerValues:!0,smoothScrollDuration:null!==(V=j.smoothScrolling)&&void 0!==V&&V?125:0,scheduleAtNextAnimationFrame:ce=>(0,L.jL)(ce)}),this.scrollableElement=this.disposables.add(new P.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:null!==($=j.alwaysConsumeMouseWheel)&&void 0!==$?$:b.alwaysConsumeMouseWheel,horizontal:1,vertical:null!==(te=j.verticalScrollMode)&&void 0!==te?te:b.verticalScrollMode,useShadows:null!==(w=j.useShadows)&&void 0!==w?w:b.useShadows,mouseWheelScrollSensitivity:j.mouseWheelScrollSensitivity,fastScrollSensitivity:j.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),W.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,L.nm)(this.rowsContainer,u.t.Change,ce=>this.onTouchChange(ce))),this.disposables.add((0,L.nm)(this.scrollableElement.getDomNode(),"scroll",ce=>ce.target.scrollTop=0)),this.disposables.add((0,L.nm)(this.domNode,"dragover",ce=>this.onDragOver(this.toDragEvent(ce)))),this.disposables.add((0,L.nm)(this.domNode,"drop",ce=>this.onDrop(this.toDragEvent(ce)))),this.disposables.add((0,L.nm)(this.domNode,"dragleave",ce=>this.onDragLeave(this.toDragEvent(ce)))),this.disposables.add((0,L.nm)(this.domNode,"dragend",ce=>this.onDragEnd(ce))),this.setRowLineHeight=null!==(fe=j.setRowLineHeight)&&void 0!==fe?fe:b.setRowLineHeight,this.setRowHeight=null!==(be=j.setRowHeight)&&void 0!==be?be:b.setRowHeight,this.supportDynamicHeights=null!==(me=j.supportDynamicHeights)&&void 0!==me?me:b.supportDynamicHeights,this.dnd=null!==(Ie=j.dnd)&&void 0!==Ie?Ie:b.dnd,this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(W){if(W!==this._horizontalScrolling){if(W&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=W,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const B of this.items)this.measureItemWidth(B);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,L.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(W){void 0!==W.additionalScrollHeight&&(this.additionalScrollHeight=W.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),void 0!==W.smoothScrolling&&this.scrollable.setSmoothScrollDuration(W.smoothScrolling?125:0),void 0!==W.horizontalScrolling&&(this.horizontalScrolling=W.horizontalScrolling),void 0!==W.mouseWheelScrollSensitivity&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:W.mouseWheelScrollSensitivity}),void 0!==W.fastScrollSensitivity&&this.scrollableElement.updateOptions({fastScrollSensitivity:W.fastScrollSensitivity})}splice(W,B,z=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(W,B,z)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(W,B,z=[]){const j=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),E=p.e.intersect(j,{start:W,end:W+B}),V=new Map;for(let Pe=E.end-1;Pe>=E.start;Pe--){const Ve=this.items[Pe];if(Ve.dragStartDisposable.dispose(),Ve.checkedDisposable.dispose(),Ve.row){let ie=V.get(Ve.templateId);ie||(ie=[],V.set(Ve.templateId,ie));const ye=this.renderers.get(Ve.templateId);ye&&ye.disposeElement&&ye.disposeElement(Ve.element,Pe,Ve.row.templateData,Ve.size),ie.push(Ve.row)}Ve.row=null}const $={start:W+B,end:this.items.length},te=p.e.intersect($,j),w=p.e.relativeComplement($,j),fe=z.map(Pe=>({id:String(this.itemId++),element:Pe,templateId:this.virtualDelegate.getTemplateId(Pe),size:this.virtualDelegate.getHeight(Pe),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Pe),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:a.JT.None,checkedDisposable:a.JT.None}));let be;0===W&&B>=this.items.length?(this.rangeMap=new m,this.rangeMap.splice(0,0,fe),be=this.items,this.items=fe):(this.rangeMap.splice(W,B,fe),be=this.items.splice(W,B,...fe));const me=z.length-B,Ie=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),ee=l(te,me),ce=p.e.intersect(Ie,ee);for(let Pe=ce.start;Pe<ce.end;Pe++)this.updateItemInDOM(this.items[Pe],Pe);const he=p.e.relativeComplement(ee,Ie);for(const Pe of he)for(let Ve=Pe.start;Ve<Pe.end;Ve++)this.removeItemFromDOM(Ve);const de=w.map(Pe=>l(Pe,me)),re=[{start:W,end:W+z.length},...de].map(Pe=>p.e.intersect(Ie,Pe)),Se=this.getNextToLastElement(re);for(const Pe of re)for(let Ve=Pe.start;Ve<Pe.end;Ve++){const ye=V.get(this.items[Ve].templateId),_e=null==ye?void 0:ye.pop();this.insertItemInDOM(Ve,Se,_e)}for(const Pe of V.values())for(const Ve of Pe)this.cache.release(Ve);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),be.map(Pe=>Pe.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,L.jL)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth()):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let W=0;for(const B of this.items)void 0!==B.width&&(W=Math.max(W,B.width));this.scrollWidth=W,this.scrollableElement.setScrollDimensions({scrollWidth:0===W?0:W+10})}rerender(){if(this.supportDynamicHeights){for(const W of this.items)W.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(W){return this.items[W].element}domElement(W){const B=this.items[W].row;return B&&B.domNode}elementHeight(W){return this.items[W].size}elementTop(W){return this.rangeMap.positionAt(W)}indexAt(W){return this.rangeMap.indexAt(W)}indexAfter(W){return this.rangeMap.indexAfter(W)}layout(W,B){const z={height:"number"==typeof W?W:(0,L.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,z.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(z),void 0!==B&&(this.renderWidth=B,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof B?B:(0,L.FK)(this.domNode)})}render(W,B,z,j,Y,E=!1){const V=this.getRenderRange(B,z),$=p.e.relativeComplement(V,W),te=p.e.relativeComplement(W,V),w=this.getNextToLastElement($);if(E){const fe=p.e.intersect(W,V);for(let be=fe.start;be<fe.end;be++)this.updateItemInDOM(this.items[be],be)}for(const fe of $)for(let be=fe.start;be<fe.end;be++)this.insertItemInDOM(be,w);for(const fe of te)for(let be=fe.start;be<fe.end;be++)this.removeItemFromDOM(be);void 0!==j&&(this.rowsContainer.style.left=`-${j}px`),this.rowsContainer.style.top=`-${B}px`,this.horizontalScrolling&&void 0!==Y&&(this.rowsContainer.style.width=`${Math.max(Y,this.renderWidth)}px`),this.lastRenderTop=B,this.lastRenderHeight=z}insertItemInDOM(W,B,z){const j=this.items[W];j.row||(j.row=null!=z?z:this.cache.alloc(j.templateId));const Y=this.accessibilityProvider.getRole(j.element)||"listitem";j.row.domNode.setAttribute("role",Y);const E=this.accessibilityProvider.isChecked(j.element);if("boolean"==typeof E)j.row.domNode.setAttribute("aria-checked",String(!!E));else if(E){const te=w=>j.row.domNode.setAttribute("aria-checked",String(!!w));te(E.value),j.checkedDisposable=E.onDidChange(te)}j.row.domNode.parentElement||(B?this.rowsContainer.insertBefore(j.row.domNode,B):this.rowsContainer.appendChild(j.row.domNode)),this.updateItemInDOM(j,W);const V=this.renderers.get(j.templateId);if(!V)throw new Error(`No renderer found for template id ${j.templateId}`);null==V||V.renderElement(j.element,W,j.row.templateData,j.size);const $=this.dnd.getDragURI(j.element);j.dragStartDisposable.dispose(),j.row.domNode.draggable=!!$,$&&(j.dragStartDisposable=(0,L.nm)(j.row.domNode,"dragstart",te=>this.onDragStart(j.element,$,te))),this.horizontalScrolling&&(this.measureItemWidth(j),this.eventuallyUpdateScrollWidth())}measureItemWidth(W){if(!W.row||!W.row.domNode)return;W.row.domNode.style.width=f.isFirefox?"-moz-fit-content":"fit-content",W.width=(0,L.FK)(W.row.domNode);const B=window.getComputedStyle(W.row.domNode);B.paddingLeft&&(W.width+=parseFloat(B.paddingLeft)),B.paddingRight&&(W.width+=parseFloat(B.paddingRight)),W.row.domNode.style.width=""}updateItemInDOM(W,B){W.row.domNode.style.top=`${this.elementTop(B)}px`,this.setRowHeight&&(W.row.domNode.style.height=`${W.size}px`),this.setRowLineHeight&&(W.row.domNode.style.lineHeight=`${W.size}px`),W.row.domNode.setAttribute("data-index",`${B}`),W.row.domNode.setAttribute("data-last-element",B===this.length-1?"true":"false"),W.row.domNode.setAttribute("data-parity",B%2==0?"even":"odd"),W.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(W.element,B,this.length))),W.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(W.element,B))),W.row.domNode.setAttribute("id",this.getElementDomId(B)),W.row.domNode.classList.toggle("drop-target",W.dropTarget)}removeItemFromDOM(W){const B=this.items[W];if(B.dragStartDisposable.dispose(),B.checkedDisposable.dispose(),B.row){const z=this.renderers.get(B.templateId);z&&z.disposeElement&&z.disposeElement(B.element,W,B.row.templateData,B.size),this.cache.release(B.row),B.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(W,B){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:W,reuseAnimation:B})}get scrollTop(){return this.getScrollTop()}set scrollTop(W){this.setScrollTop(W)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return _.ju.map(this.disposables.add(new M.Y(this.domNode,"click")).event,W=>this.toMouseEvent(W),this.disposables)}get onMouseDblClick(){return _.ju.map(this.disposables.add(new M.Y(this.domNode,"dblclick")).event,W=>this.toMouseEvent(W),this.disposables)}get onMouseMiddleClick(){return _.ju.filter(_.ju.map(this.disposables.add(new M.Y(this.domNode,"auxclick")).event,W=>this.toMouseEvent(W),this.disposables),W=>1===W.browserEvent.button,this.disposables)}get onMouseDown(){return _.ju.map(this.disposables.add(new M.Y(this.domNode,"mousedown")).event,W=>this.toMouseEvent(W),this.disposables)}get onMouseOver(){return _.ju.map(this.disposables.add(new M.Y(this.domNode,"mouseover")).event,W=>this.toMouseEvent(W),this.disposables)}get onContextMenu(){return _.ju.any(_.ju.map(this.disposables.add(new M.Y(this.domNode,"contextmenu")).event,W=>this.toMouseEvent(W),this.disposables),_.ju.map(this.disposables.add(new M.Y(this.domNode,u.t.Contextmenu)).event,W=>this.toGestureEvent(W),this.disposables))}get onTouchStart(){return _.ju.map(this.disposables.add(new M.Y(this.domNode,"touchstart")).event,W=>this.toTouchEvent(W),this.disposables)}get onTap(){return _.ju.map(this.disposables.add(new M.Y(this.rowsContainer,u.t.Tap)).event,W=>this.toGestureEvent(W),this.disposables)}toMouseEvent(W){const B=this.getItemIndexFromEventTarget(W.target||null),z=void 0===B?void 0:this.items[B];return{browserEvent:W,index:B,element:z&&z.element}}toTouchEvent(W){const B=this.getItemIndexFromEventTarget(W.target||null),z=void 0===B?void 0:this.items[B];return{browserEvent:W,index:B,element:z&&z.element}}toGestureEvent(W){const B=this.getItemIndexFromEventTarget(W.initialTarget||null),z=void 0===B?void 0:this.items[B];return{browserEvent:W,index:B,element:z&&z.element}}toDragEvent(W){const B=this.getItemIndexFromEventTarget(W.target||null),z=void 0===B?void 0:this.items[B];return{browserEvent:W,index:B,element:z&&z.element}}onScroll(W){try{const B=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(B,W.scrollTop,W.height,W.scrollLeft,W.scrollWidth),this.supportDynamicHeights&&this._rerender(W.scrollTop,W.height,W.inSmoothScrolling)}catch(B){throw console.error("Got bad scroll event:",W),B}}onTouchChange(W){W.preventDefault(),W.stopPropagation(),this.scrollTop-=W.translationY}onDragStart(W,B,z){var j,Y;if(!z.dataTransfer)return;const E=this.dnd.getDragElements(W);if(z.dataTransfer.effectAllowed="copyMove",z.dataTransfer.setData(s.g.TEXT,B),z.dataTransfer.setDragImage){let V;this.dnd.getDragLabel&&(V=this.dnd.getDragLabel(E,z)),void 0===V&&(V=String(E.length));const $=(0,L.$)(".monaco-drag-image");$.textContent=V,document.body.appendChild($),z.dataTransfer.setDragImage($,-10,-10),setTimeout(()=>document.body.removeChild($),0)}this.currentDragData=new x(E),s.P.CurrentDragAndDropData=new T(E),null===(Y=(j=this.dnd).onDragStart)||void 0===Y||Y.call(j,this.currentDragData,z)}onDragOver(W){var B;if(W.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),s.P.CurrentDragAndDropData&&"vscode-ui"===s.P.CurrentDragAndDropData.getData()||(this.setupDragAndDropScrollTopAnimation(W.browserEvent),!W.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(s.P.CurrentDragAndDropData)this.currentDragData=s.P.CurrentDragAndDropData;else{if(!W.browserEvent.dataTransfer.types)return!1;this.currentDragData=new R}const z=this.dnd.onDragOver(this.currentDragData,W.element,W.index,W.browserEvent);if(this.canDrop="boolean"==typeof z?z:z.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let j;if(W.browserEvent.dataTransfer.dropEffect="boolean"!=typeof z&&0===z.effect?"copy":"move",j="boolean"!=typeof z&&z.feedback?z.feedback:void 0===W.index?[-1]:[W.index],j=(0,A.EB)(j).filter(Y=>Y>=-1&&Y<this.length).sort((Y,E)=>Y-E),j=-1===j[0]?[-1]:j,function Q(F,W){return Array.isArray(F)&&Array.isArray(W)?(0,A.fS)(F,W):F===W}(this.currentDragFeedback,j))return!0;if(this.currentDragFeedback=j,this.currentDragFeedbackDisposable.dispose(),-1===j[0])this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,a.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const Y of j){const E=this.items[Y];E.dropTarget=!0,null===(B=E.row)||void 0===B||B.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,a.OF)(()=>{var Y;for(const E of j){const V=this.items[E];V.dropTarget=!1,null===(Y=V.row)||void 0===Y||Y.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(W){var B,z;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,k.Vg)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&(null===(z=(B=this.dnd).onDragLeave)||void 0===z||z.call(B,this.currentDragData,W.element,W.index,W.browserEvent))}onDrop(W){if(!this.canDrop)return;const B=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,s.P.CurrentDragAndDropData=void 0,B&&W.browserEvent.dataTransfer&&(W.browserEvent.preventDefault(),B.update(W.browserEvent.dataTransfer),this.dnd.drop(B,W.element,W.index,W.browserEvent))}onDragEnd(W){var B,z;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,s.P.CurrentDragAndDropData=void 0,null===(z=(B=this.dnd).onDragEnd)||void 0===z||z.call(B,W)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=a.JT.None}setupDragAndDropScrollTopAnimation(W){if(!this.dragOverAnimationDisposable){const B=(0,L.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,L.jt)(this.animateDragAndDropScrollTop.bind(this,B))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,k.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=W.pageY}animateDragAndDropScrollTop(W){if(void 0===this.dragOverMouseY)return;const B=this.dragOverMouseY-W,z=this.renderHeight-35;B<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(B-35))):B>z&&(this.scrollTop+=Math.min(14,Math.floor(.3*(B-z))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(W){const B=this.scrollableElement.getDomNode();let z=W;for(;z instanceof HTMLElement&&z!==this.rowsContainer&&B.contains(z);){const j=z.getAttribute("data-index");if(j){const Y=Number(j);if(!isNaN(Y))return Y}z=z.parentElement}}getRenderRange(W,B){return{start:this.rangeMap.indexAt(W),end:this.rangeMap.indexAfter(W+B-1)}}_rerender(W,B,z){const j=this.getRenderRange(W,B);let Y,E;W===this.elementTop(j.start)?(Y=j.start,E=0):j.end-j.start>1&&(Y=j.start+1,E=this.elementTop(Y)-W);let V=0;for(;;){const $=this.getRenderRange(W,B);let te=!1;for(let w=$.start;w<$.end;w++){const fe=this.probeDynamicHeight(w);0!==fe&&this.rangeMap.splice(w,1,[this.items[w]]),V+=fe,te=te||0!==fe}if(!te){0!==V&&this.eventuallyUpdateScrollDimensions();const w=p.e.relativeComplement(j,$);for(const be of w)for(let me=be.start;me<be.end;me++)this.items[me].row&&this.removeItemFromDOM(me);const fe=p.e.relativeComplement($,j);for(const be of fe)for(let me=be.start;me<be.end;me++){const Ie=me+1,ee=Ie<this.items.length?this.items[Ie].row:null;this.insertItemInDOM(me,ee?ee.domNode:null)}for(let be=$.start;be<$.end;be++)this.items[be].row&&this.updateItemInDOM(this.items[be],be);if("number"==typeof Y){const be=this.scrollable.getFutureScrollPosition().scrollTop-W,me=this.elementTop(Y)-E+be;this.setScrollTop(me,z)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(W){var B,z,j;const Y=this.items[W];if(this.virtualDelegate.getDynamicHeight){const te=this.virtualDelegate.getDynamicHeight(Y.element);if(null!==te){const w=Y.size;return Y.size=te,Y.lastDynamicHeightWidth=this.renderWidth,te-w}}if(!Y.hasDynamicHeight||Y.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(Y.element))return 0;const E=Y.size;if(!this.setRowHeight&&Y.row){const te=Y.row.domNode.offsetHeight;return Y.size=te,Y.lastDynamicHeightWidth=this.renderWidth,te-E}const V=this.cache.alloc(Y.templateId);V.domNode.style.height="",this.rowsContainer.appendChild(V.domNode);const $=this.renderers.get(Y.templateId);return $&&($.renderElement(Y.element,W,V.templateData,void 0),null===(B=$.disposeElement)||void 0===B||B.call($,Y.element,W,V.templateData,void 0)),Y.size=V.domNode.offsetHeight,null===(j=(z=this.virtualDelegate).setDynamicHeight)||void 0===j||j.call(z,Y.element,Y.size),Y.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(V.domNode),this.cache.release(V),Y.size-E}getNextToLastElement(W){const B=W[W.length-1];if(!B)return null;const z=this.items[B.end];return z&&z.row?z.row.domNode:null}getElementDomId(W){return`${this.domId}_${W}`}dispose(){var W;if(this.items){for(const B of this.items)if(B.row){const z=this.renderers.get(B.row.templateId);z&&(null===(W=z.disposeElement)||void 0===W||W.call(z,B.element,-1,B.row.templateData,void 0),z.disposeTemplate(B.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,a.B9)(this.disposables)}}G.InstanceCount=0,S([N.H],G.prototype,"onMouseClick",null),S([N.H],G.prototype,"onMouseDblClick",null),S([N.H],G.prototype,"onMouseMiddleClick",null),S([N.H],G.prototype,"onMouseDown",null),S([N.H],G.prototype,"onMouseOver",null),S([N.H],G.prototype,"onContextMenu",null),S([N.H],G.prototype,"onTouchStart",null),S([N.H],G.prototype,"onTap",null)},17367:(at,ue,e)=>{"use strict";e.d(ue,{wD:()=>be,aV:()=>Pe,sx:()=>fe,AA:()=>B,iK:()=>F,cK:()=>Z,hD:()=>G,wn:()=>$,Zo:()=>V});var f=e(58059),s=e(65691),L=e(74616),M=e(79680),u=e(71578);class P{constructor(ie){this.spliceables=ie}splice(ie,ye,_e){this.spliceables.forEach(Be=>Be.splice(ie,ye,_e))}}var A=e(18337),k=e(63072),N=e(68927),_=e(10087),a=e(52787),p=e(81979),c=e(52425),n=e(38829),l=e(85271),v=e(38972),d=e(54435);e(33164);class I extends Error{constructor(ie,ye){super(`ListError [${ie}] ${ye}`)}}var y=e(1100),S=function(Ve,ie,ye,_e){var Ae,Be=arguments.length,Qe=Be<3?ie:null===_e?_e=Object.getOwnPropertyDescriptor(ie,ye):_e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Qe=Reflect.decorate(Ve,ie,ye,_e);else for(var pe=Ve.length-1;pe>=0;pe--)(Ae=Ve[pe])&&(Qe=(Be<3?Ae(Qe):Be>3?Ae(ie,ye,Qe):Ae(ie,ye))||Qe);return Be>3&&Qe&&Object.defineProperty(ie,ye,Qe),Qe},b=function(Ve,ie,ye,_e){return new(ye||(ye=Promise))(function(Qe,Ae){function pe(Ne){try{Oe(_e.next(Ne))}catch(ne){Ae(ne)}}function De(Ne){try{Oe(_e.throw(Ne))}catch(ne){Ae(ne)}}function Oe(Ne){Ne.done?Qe(Ne.value):function Be(Qe){return Qe instanceof ye?Qe:new ye(function(Ae){Ae(Qe)})}(Ne.value).then(pe,De)}Oe((_e=_e.apply(Ve,ie||[])).next())})};class x{constructor(ie){this.trait=ie,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(ie){return ie}renderElement(ie,ye,_e){const Be=this.renderedElements.findIndex(Qe=>Qe.templateData===_e);if(Be>=0){const Qe=this.renderedElements[Be];this.trait.unrender(_e),Qe.index=ye}else this.renderedElements.push({index:ye,templateData:_e});this.trait.renderIndex(ye,_e)}splice(ie,ye,_e){const Be=[];for(const Qe of this.renderedElements)Qe.index<ie?Be.push(Qe):Qe.index>=ie+ye&&Be.push({index:Qe.index+_e-ye,templateData:Qe.templateData});this.renderedElements=Be}renderIndexes(ie){for(const{index:ye,templateData:_e}of this.renderedElements)ie.indexOf(ye)>-1&&this.trait.renderIndex(ye,_e)}disposeTemplate(ie){const ye=this.renderedElements.findIndex(_e=>_e.templateData===ie);ye<0||this.renderedElements.splice(ye,1)}}class T{constructor(ie){this._trait=ie,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new a.Q5,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new x(this)}splice(ie,ye,_e){var Be;ye=Math.max(0,Math.min(ye,this.length-ie));const Qe=_e.length-ye,Ae=ie+ye,pe=[...this.sortedIndexes.filter(Oe=>Oe<ie),..._e.map((Oe,Ne)=>Oe?Ne+ie:-1).filter(Oe=>-1!==Oe),...this.sortedIndexes.filter(Oe=>Oe>=Ae).map(Oe=>Oe+Qe)],De=this.length+Qe;if(this.sortedIndexes.length>0&&0===pe.length&&De>0){const Oe=null!==(Be=this.sortedIndexes.find(Ne=>Ne>=ie))&&void 0!==Be?Be:De-1;pe.push(Math.min(Oe,De-1))}this.renderer.splice(ie,ye,_e.length),this._set(pe,pe),this.length=De}renderIndex(ie,ye){ye.classList.toggle(this._trait,this.contains(ie))}unrender(ie){ie.classList.remove(this._trait)}set(ie,ye){return this._set(ie,[...ie].sort(de),ye)}_set(ie,ye,_e){const Be=this.indexes,Qe=this.sortedIndexes;this.indexes=ie,this.sortedIndexes=ye;const Ae=ce(Qe,ie);return this.renderer.renderIndexes(Ae),this._onChange.fire({indexes:ie,browserEvent:_e}),Be}get(){return this.indexes}contains(ie){return(0,A.ry)(this.sortedIndexes,ie,de)>=0}dispose(){(0,c.B9)(this._onChange)}}S([_.H],T.prototype,"renderer",null);class R extends T{constructor(ie){super("selected"),this.setAriaSelected=ie}renderIndex(ie,ye){super.renderIndex(ie,ye),this.setAriaSelected&&(this.contains(ie)?ye.setAttribute("aria-selected","true"):ye.setAttribute("aria-selected","false"))}}class Q{constructor(ie,ye,_e){this.trait=ie,this.view=ye,this.identityProvider=_e}splice(ie,ye,_e){if(!this.identityProvider)return this.trait.splice(ie,ye,_e.map(()=>!1));const Be=this.trait.get().map(Ae=>this.identityProvider.getId(this.view.element(Ae)).toString()),Qe=_e.map(Ae=>Be.indexOf(this.identityProvider.getId(Ae).toString())>-1);this.trait.splice(ie,ye,Qe)}}function Z(Ve){return"INPUT"===Ve.tagName||"TEXTAREA"===Ve.tagName}function G(Ve){return!!Ve.classList.contains("monaco-editor")||!(Ve.classList.contains("monaco-list")||!Ve.parentElement)&&G(Ve.parentElement)}function F(Ve){return!!("A"===Ve.tagName&&Ve.classList.contains("monaco-button")||"DIV"===Ve.tagName&&Ve.classList.contains("monaco-button-dropdown"))||!(Ve.classList.contains("monaco-list")||!Ve.parentElement)&&F(Ve.parentElement)}class W{constructor(ie,ye,_e){this.list=ie,this.view=ye,this.disposables=new c.SL,this.multipleSelectionDisposables=new c.SL,this.onKeyDown.filter(Be=>3===Be.keyCode).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(Be=>16===Be.keyCode).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(Be=>18===Be.keyCode).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(Be=>11===Be.keyCode).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(Be=>12===Be.keyCode).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(Be=>9===Be.keyCode).on(this.onEscape,this,this.disposables),!1!==_e.multipleSelectionSupport&&this.onKeyDown.filter(Be=>(v.dz?Be.metaKey:Be.ctrlKey)&&31===Be.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return this.disposables.add(a.ju.chain(this.disposables.add(new s.Y(this.view.domNode,"keydown")).event).filter(ie=>!Z(ie.target)).map(ie=>new L.y(ie)))}updateOptions(ie){void 0!==ie.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),ie.multipleSelectionSupport&&this.onKeyDown.filter(ye=>(v.dz?ye.metaKey:ye.ctrlKey)&&31===ye.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(ie){ie.preventDefault(),ie.stopPropagation(),this.list.setSelection(this.list.getFocus(),ie.browserEvent)}onUpArrow(ie){ie.preventDefault(),ie.stopPropagation(),this.list.focusPrevious(1,!1,ie.browserEvent);const ye=this.list.getFocus()[0];this.list.setAnchor(ye),this.list.reveal(ye),this.view.domNode.focus()}onDownArrow(ie){ie.preventDefault(),ie.stopPropagation(),this.list.focusNext(1,!1,ie.browserEvent);const ye=this.list.getFocus()[0];this.list.setAnchor(ye),this.list.reveal(ye),this.view.domNode.focus()}onPageUpArrow(ie){ie.preventDefault(),ie.stopPropagation(),this.list.focusPreviousPage(ie.browserEvent);const ye=this.list.getFocus()[0];this.list.setAnchor(ye),this.list.reveal(ye),this.view.domNode.focus()}onPageDownArrow(ie){ie.preventDefault(),ie.stopPropagation(),this.list.focusNextPage(ie.browserEvent);const ye=this.list.getFocus()[0];this.list.setAnchor(ye),this.list.reveal(ye),this.view.domNode.focus()}onCtrlA(ie){ie.preventDefault(),ie.stopPropagation(),this.list.setSelection((0,A.w6)(this.list.length),ie.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(ie){this.list.getSelection().length&&(ie.preventDefault(),ie.stopPropagation(),this.list.setSelection([],ie.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}S([_.H],W.prototype,"onKeyDown",null);var B=(()=>{return(Ve=B||(B={}))[Ve.Automatic=0]="Automatic",Ve[Ve.Trigger=1]="Trigger",B;var Ve})(),z=(()=>{return(Ve=z||(z={}))[Ve.Idle=0]="Idle",Ve[Ve.Typing=1]="Typing",z;var Ve})();const j=new class{mightProducePrintableCharacter(Ve){return!(Ve.ctrlKey||Ve.metaKey||Ve.altKey)&&(Ve.keyCode>=31&&Ve.keyCode<=56||Ve.keyCode>=21&&Ve.keyCode<=30||Ve.keyCode>=93&&Ve.keyCode<=102||Ve.keyCode>=80&&Ve.keyCode<=90)}};class Y{constructor(ie,ye,_e,Be,Qe){this.list=ie,this.view=ye,this.keyboardNavigationLabelProvider=_e,this.keyboardNavigationEventFilter=Be,this.delegate=Qe,this.enabled=!1,this.state=z.Idle,this.mode=B.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new c.SL,this.disposables=new c.SL,this.updateOptions(ie.options)}updateOptions(ie){var ye,_e;null===(ye=ie.typeNavigationEnabled)||void 0===ye||ye?this.enable():this.disable(),this.mode=null!==(_e=ie.typeNavigationMode)&&void 0!==_e?_e:B.Automatic}enable(){if(this.enabled)return;let ie=!1;const ye=this.enabledDisposables.add(a.ju.chain(this.enabledDisposables.add(new s.Y(this.view.domNode,"keydown")).event)).filter(Qe=>!Z(Qe.target)).filter(()=>this.mode===B.Automatic||this.triggered).map(Qe=>new L.y(Qe)).filter(Qe=>ie||this.keyboardNavigationEventFilter(Qe)).filter(Qe=>this.delegate.mightProducePrintableCharacter(Qe)).forEach(s.p).map(Qe=>Qe.browserEvent.key).event,_e=a.ju.debounce(ye,()=>null,800,void 0,void 0,this.enabledDisposables);a.ju.reduce(a.ju.any(ye,_e),(Qe,Ae)=>null===Ae?null:(Qe||"")+Ae,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),_e(this.onClear,this,this.enabledDisposables),ye(()=>ie=!0,void 0,this.enabledDisposables),_e(()=>ie=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var ie;const ye=this.list.getFocus();if(ye.length>0&&ye[0]===this.previouslyFocused){const _e=null===(ie=this.list.options.accessibilityProvider)||void 0===ie?void 0:ie.getAriaLabel(this.list.element(ye[0]));_e&&(0,u.Z9)(_e)}this.previouslyFocused=-1}onInput(ie){if(!ie)return this.state=z.Idle,void(this.triggered=!1);const ye=this.list.getFocus(),_e=ye.length>0?ye[0]:0,Be=this.state===z.Idle?1:0;this.state=z.Typing;for(let Qe=0;Qe<this.list.length;Qe++){const Ae=(_e+Qe+Be)%this.list.length,pe=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Ae)),De=pe&&pe.toString();if(void 0===De||(0,p.Ji)(ie,De))return this.previouslyFocused=_e,this.list.setFocus([Ae]),void this.list.reveal(Ae)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class E{constructor(ie,ye){this.list=ie,this.view=ye,this.disposables=new c.SL,this.disposables.add(a.ju.chain(this.disposables.add(new s.Y(ye.domNode,"keydown")).event)).filter(Be=>!Z(Be.target)).map(Be=>new L.y(Be)).filter(Be=>!(2!==Be.keyCode||Be.ctrlKey||Be.metaKey||Be.shiftKey||Be.altKey)).on(this.onTab,this,this.disposables)}onTab(ie){if(ie.target!==this.view.domNode)return;const ye=this.list.getFocus();if(0===ye.length)return;const _e=this.view.domElement(ye[0]);if(!_e)return;const Be=_e.querySelector("[tabIndex]");if(!(Be&&Be instanceof HTMLElement&&-1!==Be.tabIndex))return;const Qe=window.getComputedStyle(Be);"hidden"===Qe.visibility||"none"===Qe.display||(ie.preventDefault(),ie.stopPropagation(),Be.focus())}dispose(){this.disposables.dispose()}}function V(Ve){return v.dz?Ve.browserEvent.metaKey:Ve.browserEvent.ctrlKey}function $(Ve){return Ve.browserEvent.shiftKey}const w={isSelectionSingleChangeEvent:V,isSelectionRangeChangeEvent:$};class fe{constructor(ie){this.list=ie,this.disposables=new c.SL,this._onPointer=new a.Q5,this.onPointer=this._onPointer.event,!1!==ie.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||w),this.mouseSupport=void 0===ie.options.mouseSupport||!!ie.options.mouseSupport,this.mouseSupport&&(ie.onMouseDown(this.onMouseDown,this,this.disposables),ie.onContextMenu(this.onContextMenu,this,this.disposables),ie.onMouseDblClick(this.onDoubleClick,this,this.disposables),ie.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(M.o.addTarget(ie.getHTMLElement()))),a.ju.any(ie.onMouseClick,ie.onMouseMiddleClick,ie.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(ie){void 0!==ie.multipleSelectionSupport&&(this.multipleSelectionController=void 0,ie.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||w))}isSelectionSingleChangeEvent(ie){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(ie)}isSelectionRangeChangeEvent(ie){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(ie)}isSelectionChangeEvent(ie){return this.isSelectionSingleChangeEvent(ie)||this.isSelectionRangeChangeEvent(ie)}onMouseDown(ie){G(ie.browserEvent.target)||document.activeElement!==ie.browserEvent.target&&this.list.domFocus()}onContextMenu(ie){G(ie.browserEvent.target)||this.list.setFocus(void 0===ie.index?[]:[ie.index],ie.browserEvent)}onViewPointer(ie){if(!this.mouseSupport||Z(ie.browserEvent.target)||G(ie.browserEvent.target))return;const ye=ie.index;return void 0===ye?(this.list.setFocus([],ie.browserEvent),this.list.setSelection([],ie.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionRangeChangeEvent(ie)||this.isSelectionChangeEvent(ie)?this.changeSelection(ie):(this.list.setFocus([ye],ie.browserEvent),this.list.setAnchor(ye),function te(Ve){return Ve instanceof MouseEvent&&2===Ve.button}(ie.browserEvent)||this.list.setSelection([ye],ie.browserEvent),void this._onPointer.fire(ie))}onDoubleClick(ie){if(Z(ie.browserEvent.target)||G(ie.browserEvent.target)||this.isSelectionChangeEvent(ie))return;const ye=this.list.getFocus();this.list.setSelection(ye,ie.browserEvent)}changeSelection(ie){const ye=ie.index;let _e=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(ie)){if(void 0===_e){const Ne=this.list.getFocus()[0];_e=null!=Ne?Ne:ye,this.list.setAnchor(_e)}const Be=Math.min(_e,ye),Qe=Math.max(_e,ye),Ae=(0,A.w6)(Be,Qe+1),pe=this.list.getSelection(),De=function ee(Ve,ie){const ye=Ve.indexOf(ie);if(-1===ye)return[];const _e=[];let Be=ye-1;for(;Be>=0&&Ve[Be]===ie-(ye-Be);)_e.push(Ve[Be--]);for(_e.reverse(),Be=ye;Be<Ve.length&&Ve[Be]===ie+(Be-ye);)_e.push(Ve[Be++]);return _e}(ce(pe,[_e]),_e);if(0===De.length)return;const Oe=ce(Ae,function he(Ve,ie){const ye=[];let _e=0,Be=0;for(;_e<Ve.length||Be<ie.length;)if(_e>=Ve.length)ye.push(ie[Be++]);else if(Be>=ie.length)ye.push(Ve[_e++]);else{if(Ve[_e]===ie[Be]){_e++,Be++;continue}Ve[_e]<ie[Be]?ye.push(Ve[_e++]):Be++}return ye}(pe,De));this.list.setSelection(Oe,ie.browserEvent),this.list.setFocus([ye],ie.browserEvent)}else if(this.isSelectionSingleChangeEvent(ie)){const Be=this.list.getSelection(),Qe=Be.filter(Ae=>Ae!==ye);this.list.setFocus([ye]),this.list.setAnchor(ye),this.list.setSelection(Be.length===Qe.length?[...Qe,ye]:Qe,ie.browserEvent)}}dispose(){this.disposables.dispose()}}class be{constructor(ie,ye){this.styleElement=ie,this.selectorSuffix=ye}style(ie){const ye=this.selectorSuffix&&`.${this.selectorSuffix}`,_e=[];ie.listBackground&&(ie.listBackground.isOpaque()?_e.push(`.monaco-list${ye} .monaco-list-rows { background: ${ie.listBackground}; }`):v.dz||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),ie.listFocusBackground&&(_e.push(`.monaco-list${ye}:focus .monaco-list-row.focused { background-color: ${ie.listFocusBackground}; }`),_e.push(`.monaco-list${ye}:focus .monaco-list-row.focused:hover { background-color: ${ie.listFocusBackground}; }`)),ie.listFocusForeground&&_e.push(`.monaco-list${ye}:focus .monaco-list-row.focused { color: ${ie.listFocusForeground}; }`),ie.listActiveSelectionBackground&&(_e.push(`.monaco-list${ye}:focus .monaco-list-row.selected { background-color: ${ie.listActiveSelectionBackground}; }`),_e.push(`.monaco-list${ye}:focus .monaco-list-row.selected:hover { background-color: ${ie.listActiveSelectionBackground}; }`)),ie.listActiveSelectionForeground&&_e.push(`.monaco-list${ye}:focus .monaco-list-row.selected { color: ${ie.listActiveSelectionForeground}; }`),ie.listActiveSelectionIconForeground&&_e.push(`.monaco-list${ye}:focus .monaco-list-row.selected .codicon { color: ${ie.listActiveSelectionIconForeground}; }`),ie.listFocusAndSelectionOutline&&_e.push(`.monaco-list${ye}:focus .monaco-list-row.selected { outline-color: ${ie.listFocusAndSelectionOutline} !important; }`),ie.listFocusAndSelectionBackground&&_e.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${ye}:focus .monaco-list-row.selected.focused { background-color: ${ie.listFocusAndSelectionBackground}; }\n\t\t\t`),ie.listFocusAndSelectionForeground&&_e.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${ye}:focus .monaco-list-row.selected.focused { color: ${ie.listFocusAndSelectionForeground}; }\n\t\t\t`),ie.listInactiveFocusForeground&&(_e.push(`.monaco-list${ye} .monaco-list-row.focused { color:  ${ie.listInactiveFocusForeground}; }`),_e.push(`.monaco-list${ye} .monaco-list-row.focused:hover { color:  ${ie.listInactiveFocusForeground}; }`)),ie.listInactiveSelectionIconForeground&&_e.push(`.monaco-list${ye} .monaco-list-row.focused .codicon { color:  ${ie.listInactiveSelectionIconForeground}; }`),ie.listInactiveFocusBackground&&(_e.push(`.monaco-list${ye} .monaco-list-row.focused { background-color:  ${ie.listInactiveFocusBackground}; }`),_e.push(`.monaco-list${ye} .monaco-list-row.focused:hover { background-color:  ${ie.listInactiveFocusBackground}; }`)),ie.listInactiveSelectionBackground&&(_e.push(`.monaco-list${ye} .monaco-list-row.selected { background-color:  ${ie.listInactiveSelectionBackground}; }`),_e.push(`.monaco-list${ye} .monaco-list-row.selected:hover { background-color:  ${ie.listInactiveSelectionBackground}; }`)),ie.listInactiveSelectionForeground&&_e.push(`.monaco-list${ye} .monaco-list-row.selected { color: ${ie.listInactiveSelectionForeground}; }`),ie.listHoverBackground&&_e.push(`.monaco-list${ye}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${ie.listHoverBackground}; }`),ie.listHoverForeground&&_e.push(`.monaco-list${ye} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${ie.listHoverForeground}; }`),ie.listSelectionOutline&&_e.push(`.monaco-list${ye} .monaco-list-row.selected { outline: 1px dotted ${ie.listSelectionOutline}; outline-offset: -1px; }`),ie.listFocusOutline&&_e.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${ye}:focus .monaco-list-row.focused { outline: 1px solid ${ie.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${ye}.last-focused .monaco-list-row.focused { outline: 1px solid ${ie.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),ie.listInactiveFocusOutline&&_e.push(`.monaco-list${ye} .monaco-list-row.focused { outline: 1px dotted ${ie.listInactiveFocusOutline}; outline-offset: -1px; }`),ie.listHoverOutline&&_e.push(`.monaco-list${ye} .monaco-list-row:hover { outline: 1px dashed ${ie.listHoverOutline}; outline-offset: -1px; }`),ie.listDropBackground&&_e.push(`\n\t\t\t\t.monaco-list${ye}.drop-target,\n\t\t\t\t.monaco-list${ye} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${ye} .monaco-list-row.drop-target { background-color: ${ie.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),ie.tableColumnsBorder&&_e.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${ie.tableColumnsBorder};\n\t\t\t}`),ie.tableOddRowsBackgroundColor&&_e.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${ie.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`),this.styleElement.textContent=_e.join("\n")}}const me={listFocusBackground:N.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:N.Il.fromHex("#0E639C"),listActiveSelectionForeground:N.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:N.Il.fromHex("#FFFFFF"),listFocusAndSelectionOutline:N.Il.fromHex("#90C2F9"),listFocusAndSelectionBackground:N.Il.fromHex("#094771"),listFocusAndSelectionForeground:N.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:N.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:N.Il.fromHex("#FFFFFF"),listHoverBackground:N.Il.fromHex("#2A2D2E"),listDropBackground:N.Il.fromHex("#383B3D"),treeIndentGuidesStroke:N.Il.fromHex("#a9a9a9"),tableColumnsBorder:N.Il.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:N.Il.fromHex("#cccccc").transparent(.04)},Ie={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function ce(Ve,ie){const ye=[];let _e=0,Be=0;for(;_e<Ve.length||Be<ie.length;)if(_e>=Ve.length)ye.push(ie[Be++]);else if(Be>=ie.length)ye.push(Ve[_e++]);else{if(Ve[_e]===ie[Be]){ye.push(Ve[_e]),_e++,Be++;continue}ye.push(Ve[_e]<ie[Be]?Ve[_e++]:ie[Be++])}return ye}const de=(Ve,ie)=>Ve-ie;class ge{constructor(ie,ye){this._templateId=ie,this.renderers=ye}get templateId(){return this._templateId}renderTemplate(ie){return this.renderers.map(ye=>ye.renderTemplate(ie))}renderElement(ie,ye,_e,Be){let Qe=0;for(const Ae of this.renderers)Ae.renderElement(ie,ye,_e[Qe++],Be)}disposeElement(ie,ye,_e,Be){var Qe;let Ae=0;for(const pe of this.renderers)null===(Qe=pe.disposeElement)||void 0===Qe||Qe.call(pe,ie,ye,_e[Ae],Be),Ae+=1}disposeTemplate(ie){let ye=0;for(const _e of this.renderers)_e.disposeTemplate(ie[ye++])}}class re{constructor(ie){this.accessibilityProvider=ie,this.templateId="a18n"}renderTemplate(ie){return ie}renderElement(ie,ye,_e){const Be=this.accessibilityProvider.getAriaLabel(ie);Be?_e.setAttribute("aria-label",Be):_e.removeAttribute("aria-label");const Qe=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(ie);"number"==typeof Qe?_e.setAttribute("aria-level",`${Qe}`):_e.removeAttribute("aria-level")}disposeTemplate(ie){}}class Se{constructor(ie,ye){this.list=ie,this.dnd=ye}getDragElements(ie){const ye=this.list.getSelectedElements();return ye.indexOf(ie)>-1?ye:[ie]}getDragURI(ie){return this.dnd.getDragURI(ie)}getDragLabel(ie,ye){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(ie,ye)}onDragStart(ie,ye){var _e,Be;null===(Be=(_e=this.dnd).onDragStart)||void 0===Be||Be.call(_e,ie,ye)}onDragOver(ie,ye,_e,Be){return this.dnd.onDragOver(ie,ye,_e,Be)}onDragLeave(ie,ye,_e,Be){var Qe,Ae;null===(Ae=(Qe=this.dnd).onDragLeave)||void 0===Ae||Ae.call(Qe,ie,ye,_e,Be)}onDragEnd(ie){var ye,_e;null===(_e=(ye=this.dnd).onDragEnd)||void 0===_e||_e.call(ye,ie)}drop(ie,ye,_e,Be){this.dnd.drop(ie,ye,_e,Be)}}class Pe{constructor(ie,ye,_e,Be,Qe=Ie){var Ae,pe,De,Oe;this.user=ie,this._options=Qe,this.focus=new T("focused"),this.anchor=new T("anchor"),this.eventBufferer=new a.E7,this._ariaLabel="",this.disposables=new c.SL,this._onDidDispose=new a.Q5,this.onDidDispose=this._onDidDispose.event;const Ne=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(Ae=this._options.accessibilityProvider)||void 0===Ae?void 0:Ae.getWidgetRole():"list";this.selection=new R("listbox"!==Ne),(0,l.jB)(Qe,me,!1);const ne=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=Qe.accessibilityProvider,this.accessibilityProvider&&(ne.push(new re(this.accessibilityProvider)),null===(De=(pe=this.accessibilityProvider).onDidChangeActiveDescendant)||void 0===De||De.call(pe,this.onDidChangeActiveDescendant,this,this.disposables)),Be=Be.map(Je=>new ge(Je.templateId,[...ne,Je]));const xe=Object.assign(Object.assign({},Qe),{dnd:Qe.dnd&&new Se(this,Qe.dnd)});if(this.view=new y.Bv(ye,_e,Be,xe),this.view.domNode.setAttribute("role",Ne),Qe.styleController)this.styleController=Qe.styleController(this.view.domId);else{const Je=(0,f.dS)(this.view.domNode);this.styleController=new be(Je,this.view.domId)}this.spliceable=new P([new Q(this.focus,this.view,Qe.identityProvider),new Q(this.selection,this.view,Qe.identityProvider),new Q(this.anchor,this.view,Qe.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new E(this,this.view)),("boolean"!=typeof Qe.keyboardSupport||Qe.keyboardSupport)&&(this.keyboardController=new W(this,this.view,Qe),this.disposables.add(this.keyboardController)),Qe.keyboardNavigationLabelProvider&&(this.typeNavigationController=new Y(this,this.view,Qe.keyboardNavigationLabelProvider,null!==(Oe=Qe.keyboardNavigationEventFilter)&&void 0!==Oe?Oe:()=>!0,Qe.keyboardNavigationDelegate||j),this.disposables.add(this.typeNavigationController)),this.mouseController=this.createMouseController(Qe),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return a.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),ie=>this.toListEvent(ie),this.disposables)}get onDidChangeSelection(){return a.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),ie=>this.toListEvent(ie),this.disposables)}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let ie=!1;const ye=this.disposables.add(a.ju.chain(this.disposables.add(new s.Y(this.view.domNode,"keydown")).event)).map(Qe=>new L.y(Qe)).filter(Qe=>ie=58===Qe.keyCode||Qe.shiftKey&&68===Qe.keyCode).map(s.p).filter(()=>!1).event,_e=this.disposables.add(a.ju.chain(this.disposables.add(new s.Y(this.view.domNode,"keyup")).event)).forEach(()=>ie=!1).map(Qe=>new L.y(Qe)).filter(Qe=>58===Qe.keyCode||Qe.shiftKey&&68===Qe.keyCode).map(s.p).map(({browserEvent:Qe})=>{const Ae=this.getFocus(),pe=Ae.length?Ae[0]:void 0;return{index:pe,element:void 0!==pe?this.view.element(pe):void 0,anchor:void 0!==pe?this.view.domElement(pe):this.view.domNode,browserEvent:Qe}}).event,Be=this.disposables.add(a.ju.chain(this.view.onContextMenu)).filter(Qe=>!ie).map(({element:Qe,index:Ae,browserEvent:pe})=>({element:Qe,index:Ae,anchor:{x:pe.pageX+1,y:pe.pageY},browserEvent:pe})).event;return a.ju.any(ye,_e,Be)}get onKeyDown(){return this.disposables.add(new s.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return a.ju.signal(this.disposables.add(new s.Y(this.view.domNode,"focus",!0)).event)}createMouseController(ie){return new fe(this)}updateOptions(ie={}){var ye,_e;this._options=Object.assign(Object.assign({},this._options),ie),null===(ye=this.typeNavigationController)||void 0===ye||ye.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(ie),null===(_e=this.keyboardController)||void 0===_e||_e.updateOptions(ie),this.view.updateOptions(ie)}get options(){return this._options}splice(ie,ye,_e=[]){if(ie<0||ie>this.view.length)throw new I(this.user,`Invalid start index: ${ie}`);if(ye<0)throw new I(this.user,`Invalid delete count: ${ye}`);0===ye&&0===_e.length||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(ie,ye,_e))}rerender(){this.view.rerender()}element(ie){return this.view.element(ie)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(ie){this.view.setScrollTop(ie)}get ariaLabel(){return this._ariaLabel}set ariaLabel(ie){this._ariaLabel=ie,this.view.domNode.setAttribute("aria-label",ie)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(ie,ye){this.view.layout(ie,ye)}setSelection(ie,ye){for(const _e of ie)if(_e<0||_e>=this.length)throw new I(this.user,`Invalid index ${_e}`);this.selection.set(ie,ye)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(ie=>this.view.element(ie))}setAnchor(ie){if(void 0!==ie){if(ie<0||ie>=this.length)throw new I(this.user,`Invalid index ${ie}`);this.anchor.set([ie])}else this.anchor.set([])}getAnchor(){return(0,A.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const ie=this.getAnchor();return void 0===ie?void 0:this.element(ie)}setFocus(ie,ye){for(const _e of ie)if(_e<0||_e>=this.length)throw new I(this.user,`Invalid index ${_e}`);this.focus.set(ie,ye)}focusNext(ie=1,ye=!1,_e,Be){if(0===this.length)return;const Qe=this.focus.get(),Ae=this.findNextIndex(Qe.length>0?Qe[0]+ie:0,ye,Be);Ae>-1&&this.setFocus([Ae],_e)}focusPrevious(ie=1,ye=!1,_e,Be){if(0===this.length)return;const Qe=this.focus.get(),Ae=this.findPreviousIndex(Qe.length>0?Qe[0]-ie:0,ye,Be);Ae>-1&&this.setFocus([Ae],_e)}focusNextPage(ie,ye){return b(this,void 0,void 0,function*(){let _e=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);_e=0===_e?0:_e-1;const Be=this.getFocus()[0];if(Be!==_e&&(void 0===Be||_e>Be)){const Qe=this.findPreviousIndex(_e,!1,ye);this.setFocus(Qe>-1&&Be!==Qe?[Qe]:[_e],ie)}else{const Qe=this.view.getScrollTop();let Ae=Qe+this.view.renderHeight;_e>Be&&(Ae-=this.view.elementHeight(_e)),this.view.setScrollTop(Ae),this.view.getScrollTop()!==Qe&&(this.setFocus([]),yield(0,k.Vs)(0),yield this.focusNextPage(ie,ye))}})}focusPreviousPage(ie,ye){return b(this,void 0,void 0,function*(){let _e;const Be=this.view.getScrollTop();_e=0===Be?this.view.indexAt(Be):this.view.indexAfter(Be-1);const Qe=this.getFocus()[0];if(Qe!==_e&&(void 0===Qe||Qe>=_e)){const Ae=this.findNextIndex(_e,!1,ye);this.setFocus(Ae>-1&&Qe!==Ae?[Ae]:[_e],ie)}else{const Ae=Be;this.view.setScrollTop(Be-this.view.renderHeight),this.view.getScrollTop()!==Ae&&(this.setFocus([]),yield(0,k.Vs)(0),yield this.focusPreviousPage(ie,ye))}})}focusLast(ie,ye){if(0===this.length)return;const _e=this.findPreviousIndex(this.length-1,!1,ye);_e>-1&&this.setFocus([_e],ie)}focusFirst(ie,ye){this.focusNth(0,ie,ye)}focusNth(ie,ye,_e){if(0===this.length)return;const Be=this.findNextIndex(ie,!1,_e);Be>-1&&this.setFocus([Be],ye)}findNextIndex(ie,ye=!1,_e){for(let Be=0;Be<this.length;Be++){if(ie>=this.length&&!ye)return-1;if(ie%=this.length,!_e||_e(this.element(ie)))return ie;ie++}return-1}findPreviousIndex(ie,ye=!1,_e){for(let Be=0;Be<this.length;Be++){if(ie<0&&!ye)return-1;if(ie=(this.length+ie%this.length)%this.length,!_e||_e(this.element(ie)))return ie;ie--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(ie=>this.view.element(ie))}reveal(ie,ye){if(ie<0||ie>=this.length)throw new I(this.user,`Invalid index ${ie}`);const _e=this.view.getScrollTop(),Be=this.view.elementTop(ie),Qe=this.view.elementHeight(ie);if((0,d.hj)(ye))this.view.setScrollTop((Qe-this.view.renderHeight)*(0,n.uZ)(ye,0,1)+Be);else{const Ae=Be+Qe,pe=_e+this.view.renderHeight;Be<_e&&Ae>=pe||(Be<_e||Ae>=pe&&Qe>=this.view.renderHeight?this.view.setScrollTop(Be):Ae>=pe&&this.view.setScrollTop(Ae-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(ie){return this.view.getElementDomId(ie)}style(ie){this.styleController.style(ie)}toListEvent({indexes:ie,browserEvent:ye}){return{indexes:ie,elements:ie.map(_e=>this.view.element(_e)),browserEvent:ye}}_onFocusChange(){const ie=this.focus.get();this.view.domNode.classList.toggle("element-focused",ie.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var ie;const ye=this.focus.get();if(ye.length>0){let _e;!(null===(ie=this.accessibilityProvider)||void 0===ie)&&ie.getActiveDescendantId&&(_e=this.accessibilityProvider.getActiveDescendantId(this.view.element(ye[0]))),this.view.domNode.setAttribute("aria-activedescendant",_e||this.view.getElementDomId(ye[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const ie=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===ie.length),this.view.domNode.classList.toggle("selection-single",1===ie.length),this.view.domNode.classList.toggle("selection-multiple",ie.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}S([_.H],Pe.prototype,"onDidChangeFocus",null),S([_.H],Pe.prototype,"onDidChangeSelection",null),S([_.H],Pe.prototype,"onContextMenu",null),S([_.H],Pe.prototype,"onKeyDown",null),S([_.H],Pe.prototype,"onDidFocus",null)},91257:(at,ue,e)=>{"use strict";e.d(ue,{S:()=>d});var f=e(93379),s=e.n(f),L=e(7795),M=e.n(L),u=e(90569),P=e.n(u),A=e(3565),k=e.n(A),N=e(19216),_=e.n(N),a=e(44589),p=e.n(a),c=e(67548),n={};n.styleTagTransform=p(),n.setAttributes=k(),n.insert=P().bind(null,"head"),n.domAPI=M(),n.insertStyleElement=_(),s()(c.Z,n);const d="monaco-mouse-cursor-text"},37397:(at,ue,e)=>{"use strict";e.d(ue,{l:()=>Z,g:()=>V});var f=e(58059),s=e(65691),L=e(79680),M=e(63072),u=e(10087),P=e(52787),A=e(52425),k=e(38972),N=e(93379),_=e.n(N),a=e(7795),p=e.n(a),c=e(90569),n=e.n(c),l=e(3565),v=e.n(l),d=e(19216),m=e.n(d),I=e(44589),y=e.n(I),S=e(91629),b={};b.styleTagTransform=y(),b.setAttributes=v(),b.insert=n().bind(null,"head"),b.domAPI=p(),b.insertStyleElement=m(),_()(S.Z,b);var R=function($,te,w,fe){var Ie,be=arguments.length,me=be<3?te:null===fe?fe=Object.getOwnPropertyDescriptor(te,w):fe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)me=Reflect.decorate($,te,w,fe);else for(var ee=$.length-1;ee>=0;ee--)(Ie=$[ee])&&(me=(be<3?Ie(me):be>3?Ie(te,w,me):Ie(te,w))||me);return be>3&&me&&Object.defineProperty(te,w,me),me},Z=(()=>{return($=Z||(Z={})).North="north",$.South="south",$.East="east",$.West="west",Z;var $})();const F=new P.Q5,B=new P.Q5;class z{constructor(){this.disposables=new A.SL}get onPointerMove(){return this.disposables.add(new s.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new s.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}R([u.H],z.prototype,"onPointerMove",null),R([u.H],z.prototype,"onPointerUp",null);class j{constructor(te){this.el=te,this.disposables=new A.SL}get onPointerMove(){return this.disposables.add(new s.Y(this.el,L.t.Change)).event}get onPointerUp(){return this.disposables.add(new s.Y(this.el,L.t.End)).event}dispose(){this.disposables.dispose()}}R([u.H],j.prototype,"onPointerMove",null),R([u.H],j.prototype,"onPointerUp",null);class Y{constructor(te){this.factory=te}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}R([u.H],Y.prototype,"onPointerMove",null),R([u.H],Y.prototype,"onPointerUp",null);const E="pointer-events-disabled";class V extends A.JT{constructor(te,w,fe){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new M.vp(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new P.Q5),this._onDidStart=this._register(new P.Q5),this._onDidChange=this._register(new P.Q5),this._onDidReset=this._register(new P.Q5),this._onDidEnd=this._register(new P.Q5),this.orthogonalStartSashDisposables=this._register(new A.SL),this.orthogonalStartDragHandleDisposables=this._register(new A.SL),this.orthogonalEndSashDisposables=this._register(new A.SL),this.orthogonalEndDragHandleDisposables=this._register(new A.SL),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,f.R3)(te,(0,f.$)(".monaco-sash")),fe.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${fe.orthogonalEdge}`),k.dz&&this.el.classList.add("mac");const be=this._register(new s.Y(this.el,"mousedown")).event;this._register(be(ge=>this.onPointerStart(ge,new z),this));const me=this._register(new s.Y(this.el,"dblclick")).event;this._register(me(this.onPointerDoublePress,this));const Ie=this._register(new s.Y(this.el,"mouseenter")).event;this._register(Ie(()=>V.onMouseEnter(this)));const ee=this._register(new s.Y(this.el,"mouseleave")).event;this._register(ee(()=>V.onMouseLeave(this))),this._register(L.o.addTarget(this.el));const ce=P.ju.map(this._register(new s.Y(this.el,L.t.Start)).event,ge=>{var re;return Object.assign(Object.assign({},ge),{target:null!==(re=ge.initialTarget)&&void 0!==re?re:null})});this._register(ce(ge=>this.onPointerStart(ge,new j(this.el)),this));const he=this._register(new s.Y(this.el,L.t.Tap)).event,de=P.ju.map(P.ju.filter(P.ju.debounce(he,(ge,re)=>{var Se;return{event:re,count:(null!==(Se=null==ge?void 0:ge.count)&&void 0!==Se?Se:0)+1}},250),({count:ge})=>2===ge),({event:ge})=>{var re;return Object.assign(Object.assign({},ge),{target:null!==(re=ge.initialTarget)&&void 0!==re?re:null})});this._register(de(this.onPointerDoublePress,this)),"number"==typeof fe.size?(this.size=fe.size,0===fe.orientation?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=4,this._register(F.event(ge=>{this.size=ge,this.layout()}))),this._register(B.event(ge=>this.hoverDelay=ge)),this.layoutProvider=w,this.orthogonalStartSash=fe.orthogonalStartSash,this.orthogonalEndSash=fe.orthogonalEndSash,this.orientation=fe.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",!1),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(te){this._state!==te&&(this.el.classList.toggle("disabled",0===te),this.el.classList.toggle("minimum",1===te),this.el.classList.toggle("maximum",2===te),this._state=te,this.onDidEnablementChange.fire(te))}set orthogonalStartSash(te){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),te){const w=fe=>{this.orthogonalStartDragHandleDisposables.clear(),0!==fe&&(this._orthogonalStartDragHandle=(0,f.R3)(this.el,(0,f.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,A.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new s.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>V.onMouseEnter(te),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new s.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>V.onMouseLeave(te),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(te.onDidEnablementChange.event(w,this)),w(te.state)}this._orthogonalStartSash=te}set orthogonalEndSash(te){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),te){const w=fe=>{this.orthogonalEndDragHandleDisposables.clear(),0!==fe&&(this._orthogonalEndDragHandle=(0,f.R3)(this.el,(0,f.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,A.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new s.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>V.onMouseEnter(te),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new s.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>V.onMouseLeave(te),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(te.onDidEnablementChange.event(w,this)),w(te.state)}this._orthogonalEndSash=te}onPointerStart(te,w){f.zB.stop(te);let fe=!1;if(!te.__orthogonalSashEvent){const Pe=this.getOrthogonalSash(te);Pe&&(fe=!0,te.__orthogonalSashEvent=!0,Pe.onPointerStart(te,new Y(w)))}if(this.linkedSash&&!te.__linkedSashEvent&&(te.__linkedSashEvent=!0,this.linkedSash.onPointerStart(te,new Y(w))),!this.state)return;const be=(0,f.H$)("iframe");for(const Pe of be)Pe.classList.add(E);const me=te.pageX,Ie=te.pageY,ee=te.altKey,ce={startX:me,currentX:me,startY:Ie,currentY:Ie,altKey:ee};this.el.classList.add("active"),this._onDidStart.fire(ce);const he=(0,f.dS)(this.el),de=()=>{let Pe="";Pe=fe?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":k.dz?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":k.dz?"col-resize":"ew-resize",he.textContent=`* { cursor: ${Pe} !important; }`},ge=new A.SL;de(),fe||this.onDidEnablementChange.event(de,null,ge),w.onPointerMove(Pe=>{f.zB.stop(Pe,!1),this._onDidChange.fire({startX:me,currentX:Pe.pageX,startY:Ie,currentY:Pe.pageY,altKey:ee})},null,ge),w.onPointerUp(Pe=>{f.zB.stop(Pe,!1),this.el.removeChild(he),this.el.classList.remove("active"),this._onDidEnd.fire(),ge.dispose();for(const Ve of be)Ve.classList.remove(E)},null,ge),ge.add(w)}onPointerDoublePress(te){const w=this.getOrthogonalSash(te);w&&w._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(te,w=!1){te.el.classList.contains("active")?(te.hoverDelayer.cancel(),te.el.classList.add("hover")):te.hoverDelayer.trigger(()=>te.el.classList.add("hover"),te.hoverDelay).then(void 0,()=>{}),!w&&te.linkedSash&&V.onMouseEnter(te.linkedSash,!0)}static onMouseLeave(te,w=!1){te.hoverDelayer.cancel(),te.el.classList.remove("hover"),!w&&te.linkedSash&&V.onMouseLeave(te.linkedSash,!0)}clearSashHoverState(){V.onMouseLeave(this)}layout(){if(0===this.orientation){const te=this.layoutProvider;this.el.style.left=te.getVerticalSashLeft(this)-this.size/2+"px",te.getVerticalSashTop&&(this.el.style.top=te.getVerticalSashTop(this)+"px"),te.getVerticalSashHeight&&(this.el.style.height=te.getVerticalSashHeight(this)+"px")}else{const te=this.layoutProvider;this.el.style.top=te.getHorizontalSashTop(this)-this.size/2+"px",te.getHorizontalSashLeft&&(this.el.style.left=te.getHorizontalSashLeft(this)+"px"),te.getHorizontalSashWidth&&(this.el.style.width=te.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(te){if(te.target&&te.target instanceof HTMLElement&&te.target.classList.contains("orthogonal-drag-handle"))return te.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},97648:(at,ue,e)=>{"use strict";e.d(ue,{s$:()=>he,NB:()=>ee,$Z:()=>ce});var f=e(13366),s=e(58059),L=e(48554),M=e(7457),u=e(96908),P=e(83568),A=e(63072);class N extends P.${constructor(re){super(),this._onActivate=re.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=re.bgWidth+"px",this.bgDomNode.style.height=re.bgHeight+"px",void 0!==re.top&&(this.bgDomNode.style.top="0px"),void 0!==re.left&&(this.bgDomNode.style.left="0px"),void 0!==re.bottom&&(this.bgDomNode.style.bottom="0px"),void 0!==re.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=re.className,this.domNode.classList.add(...re.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px",void 0!==re.top&&(this.domNode.style.top=re.top+"px"),void 0!==re.left&&(this.domNode.style.left=re.left+"px"),void 0!==re.bottom&&(this.domNode.style.bottom=re.bottom+"px"),void 0!==re.right&&(this.domNode.style.right=re.right+"px"),this._pointerMoveMonitor=this._register(new u.C),this._register(s.mu(this.bgDomNode,s.tw.POINTER_DOWN,Se=>this._arrowPointerDown(Se))),this._register(s.mu(this.domNode,s.tw.POINTER_DOWN,Se=>this._arrowPointerDown(Se))),this._pointerdownRepeatTimer=this._register(new A.zh),this._pointerdownScheduleRepeatTimer=this._register(new A._F)}_arrowPointerDown(re){re.target&&re.target instanceof Element&&(this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)},200),this._pointerMoveMonitor.startMonitoring(re.target,re.pointerId,re.buttons,Pe=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),re.preventDefault())}}var _=e(52425);class a extends _.JT{constructor(re,Se,Pe){super(),this._visibility=re,this._visibleClassName=Se,this._invisibleClassName=Pe,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new A._F)}setVisibility(re){this._visibility!==re&&(this._visibility=re,this._updateShouldBeVisible())}setShouldBeVisible(re){this._rawShouldBeVisible=re,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){const re=this._applyVisibilitySetting();this._shouldBeVisible!==re&&(this._shouldBeVisible=re,this.ensureVisibility())}setIsNeeded(re){this._isNeeded!==re&&(this._isNeeded=re,this.ensureVisibility())}setDomNode(re){this._domNode=re,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var re;null===(re=this._domNode)||void 0===re||re.setClassName(this._visibleClassName)},0))}_hide(re){var Se;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,null===(Se=this._domNode)||void 0===Se||Se.setClassName(this._invisibleClassName+(re?" fade":"")))}}var p=e(38972);class n extends P.${constructor(re){super(),this._lazyRender=re.lazyRender,this._host=re.host,this._scrollable=re.scrollable,this._scrollByPage=re.scrollByPage,this._scrollbarState=re.scrollbarState,this._visibilityController=this._register(new a(re.visibility,"visible scrollbar "+re.extraScrollbarClassName,"invisible scrollbar "+re.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new u.C),this._shouldRender=!0,this.domNode=(0,L.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(s.nm(this.domNode.domNode,s.tw.POINTER_DOWN,Se=>this._domNodePointerDown(Se)))}_createArrow(re){const Se=this._register(new N(re));this.domNode.domNode.appendChild(Se.bgDomNode),this.domNode.domNode.appendChild(Se.domNode)}_createSlider(re,Se,Pe,Ve){this.slider=(0,L.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(re),this.slider.setLeft(Se),"number"==typeof Pe&&this.slider.setWidth(Pe),"number"==typeof Ve&&this.slider.setHeight(Ve),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(s.nm(this.slider.domNode,s.tw.POINTER_DOWN,ie=>{0===ie.button&&(ie.preventDefault(),this._sliderPointerDown(ie))})),this.onclick(this.slider.domNode,ie=>{ie.leftButton&&ie.stopPropagation()})}_onElementSize(re){return this._scrollbarState.setVisibleSize(re)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(re){return this._scrollbarState.setScrollSize(re)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(re){return this._scrollbarState.setScrollPosition(re)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(re){re.target===this.domNode.domNode&&this._onPointerDown(re)}delegatePointerDown(re){const Se=this.domNode.domNode.getClientRects()[0].top,Pe=Se+this._scrollbarState.getSliderPosition(),Ve=Se+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),ie=this._sliderPointerPosition(re);Pe<=ie&&ie<=Ve?0===re.button&&(re.preventDefault(),this._sliderPointerDown(re)):this._onPointerDown(re)}_onPointerDown(re){let Se,Pe;if(re.target===this.domNode.domNode&&"number"==typeof re.offsetX&&"number"==typeof re.offsetY)Se=re.offsetX,Pe=re.offsetY;else{const ie=s.i(this.domNode.domNode);Se=re.pageX-ie.left,Pe=re.pageY-ie.top}const Ve=this._pointerDownRelativePosition(Se,Pe);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(Ve):this._scrollbarState.getDesiredScrollPositionFromOffset(Ve)),0===re.button&&(re.preventDefault(),this._sliderPointerDown(re))}_sliderPointerDown(re){if(!(re.target&&re.target instanceof Element))return;const Se=this._sliderPointerPosition(re),Pe=this._sliderOrthogonalPointerPosition(re),Ve=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(re.target,re.pointerId,re.buttons,ie=>{const ye=this._sliderOrthogonalPointerPosition(ie),_e=Math.abs(ye-Pe);if(p.ED&&_e>140)return void this._setDesiredScrollPositionNow(Ve.getScrollPosition());const Qe=this._sliderPointerPosition(ie)-Se;this._setDesiredScrollPositionNow(Ve.getDesiredScrollPositionFromDelta(Qe))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(re){const Se={};this.writeScrollPosition(Se,re),this._scrollable.setScrollPositionNow(Se)}updateScrollbarSize(re){this._updateScrollbarSize(re),this._scrollbarState.setScrollbarSize(re),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}class v{constructor(re,Se,Pe,Ve,ie,ye){this._scrollbarSize=Math.round(Se),this._oppositeScrollbarSize=Math.round(Pe),this._arrowSize=Math.round(re),this._visibleSize=Ve,this._scrollSize=ie,this._scrollPosition=ye,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new v(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(re){const Se=Math.round(re);return this._visibleSize!==Se&&(this._visibleSize=Se,this._refreshComputedValues(),!0)}setScrollSize(re){const Se=Math.round(re);return this._scrollSize!==Se&&(this._scrollSize=Se,this._refreshComputedValues(),!0)}setScrollPosition(re){const Se=Math.round(re);return this._scrollPosition!==Se&&(this._scrollPosition=Se,this._refreshComputedValues(),!0)}setScrollbarSize(re){this._scrollbarSize=Math.round(re)}setOppositeScrollbarSize(re){this._oppositeScrollbarSize=Math.round(re)}static _computeValues(re,Se,Pe,Ve,ie){const ye=Math.max(0,Pe-re),_e=Math.max(0,ye-2*Se),Be=Ve>0&&Ve>Pe;if(!Be)return{computedAvailableSize:Math.round(ye),computedIsNeeded:Be,computedSliderSize:Math.round(_e),computedSliderRatio:0,computedSliderPosition:0};const Qe=Math.round(Math.max(20,Math.floor(Pe*_e/Ve))),Ae=(_e-Qe)/(Ve-Pe),pe=ie*Ae;return{computedAvailableSize:Math.round(ye),computedIsNeeded:Be,computedSliderSize:Math.round(Qe),computedSliderRatio:Ae,computedSliderPosition:Math.round(pe)}}_refreshComputedValues(){const re=v._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=re.computedAvailableSize,this._computedIsNeeded=re.computedIsNeeded,this._computedSliderSize=re.computedSliderSize,this._computedSliderRatio=re.computedSliderRatio,this._computedSliderPosition=re.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(re){return this._computedIsNeeded?Math.round((re-this._arrowSize-this._computedSliderSize/2)/this._computedSliderRatio):0}getDesiredScrollPositionFromOffsetPaged(re){if(!this._computedIsNeeded)return 0;let Pe=this._scrollPosition;return re-this._arrowSize<this._computedSliderPosition?Pe-=this._visibleSize:Pe+=this._visibleSize,Pe}getDesiredScrollPositionFromDelta(re){return this._computedIsNeeded?Math.round((this._computedSliderPosition+re)/this._computedSliderRatio):0}}var d=e(2450);class m extends n{constructor(re,Se,Pe){const Ve=re.getScrollDimensions(),ie=re.getCurrentScrollPosition();if(super({lazyRender:Se.lazyRender,host:Pe,scrollbarState:new v(Se.horizontalHasArrows?Se.arrowSize:0,2===Se.horizontal?0:Se.horizontalScrollbarSize,2===Se.vertical?0:Se.verticalScrollbarSize,Ve.width,Ve.scrollWidth,ie.scrollLeft),visibility:Se.horizontal,extraScrollbarClassName:"horizontal",scrollable:re,scrollByPage:Se.scrollByPage}),Se.horizontalHasArrows){const ye=(Se.arrowSize-11)/2,_e=(Se.horizontalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:d.lA.scrollbarButtonLeft,top:_e,left:ye,bottom:void 0,right:void 0,bgWidth:Se.arrowSize,bgHeight:Se.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new M.q(null,1,0))}),this._createArrow({className:"scra",icon:d.lA.scrollbarButtonRight,top:_e,left:void 0,bottom:void 0,right:ye,bgWidth:Se.arrowSize,bgHeight:Se.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new M.q(null,-1,0))})}this._createSlider(Math.floor((Se.horizontalScrollbarSize-Se.horizontalSliderSize)/2),0,void 0,Se.horizontalSliderSize)}_updateSlider(re,Se){this.slider.setWidth(re),this.slider.setLeft(Se)}_renderDomNode(re,Se){this.domNode.setWidth(re),this.domNode.setHeight(Se),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(re){return this._shouldRender=this._onElementScrollSize(re.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(re.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(re.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(re,Se){return re}_sliderPointerPosition(re){return re.pageX}_sliderOrthogonalPointerPosition(re){return re.pageY}_updateScrollbarSize(re){this.slider.setHeight(re)}writeScrollPosition(re,Se){re.scrollLeft=Se}updateOptions(re){this.updateScrollbarSize(2===re.horizontal?0:re.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===re.vertical?0:re.verticalScrollbarSize),this._visibilityController.setVisibility(re.horizontal),this._scrollByPage=re.scrollByPage}}class I extends n{constructor(re,Se,Pe){const Ve=re.getScrollDimensions(),ie=re.getCurrentScrollPosition();if(super({lazyRender:Se.lazyRender,host:Pe,scrollbarState:new v(Se.verticalHasArrows?Se.arrowSize:0,2===Se.vertical?0:Se.verticalScrollbarSize,0,Ve.height,Ve.scrollHeight,ie.scrollTop),visibility:Se.vertical,extraScrollbarClassName:"vertical",scrollable:re,scrollByPage:Se.scrollByPage}),Se.verticalHasArrows){const ye=(Se.arrowSize-11)/2,_e=(Se.verticalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:d.lA.scrollbarButtonUp,top:ye,left:_e,bottom:void 0,right:void 0,bgWidth:Se.verticalScrollbarSize,bgHeight:Se.arrowSize,onActivate:()=>this._host.onMouseWheel(new M.q(null,0,1))}),this._createArrow({className:"scra",icon:d.lA.scrollbarButtonDown,top:void 0,left:_e,bottom:ye,right:void 0,bgWidth:Se.verticalScrollbarSize,bgHeight:Se.arrowSize,onActivate:()=>this._host.onMouseWheel(new M.q(null,0,-1))})}this._createSlider(0,Math.floor((Se.verticalScrollbarSize-Se.verticalSliderSize)/2),Se.verticalSliderSize,void 0)}_updateSlider(re,Se){this.slider.setHeight(re),this.slider.setTop(Se)}_renderDomNode(re,Se){this.domNode.setWidth(Se),this.domNode.setHeight(re),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(re){return this._shouldRender=this._onElementScrollSize(re.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(re.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(re.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(re,Se){return Se}_sliderPointerPosition(re){return re.pageY}_sliderOrthogonalPointerPosition(re){return re.pageX}_updateScrollbarSize(re){this.slider.setWidth(re)}writeScrollPosition(re,Se){re.scrollTop=Se}updateOptions(re){this.updateScrollbarSize(2===re.vertical?0:re.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(re.vertical),this._scrollByPage=re.scrollByPage}}var y=e(52787),S=e(17838),b=e(93379),x=e.n(b),T=e(7795),R=e.n(T),Q=e(90569),Z=e.n(Q),G=e(3565),F=e.n(G),W=e(19216),B=e.n(W),z=e(44589),j=e.n(z),Y=e(7198),E={};E.styleTagTransform=j(),E.setAttributes=F(),E.insert=Z().bind(null,"head"),E.domAPI=R(),E.insertStyleElement=B(),x()(Y.Z,E);class be{constructor(re,Se,Pe){this.timestamp=re,this.deltaX=Se,this.deltaY=Pe,this.score=0}}class me{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let re=1,Se=0,Pe=1,Ve=this._rear;for(;;){const ie=Ve===this._front?re:Math.pow(2,-Pe);if(re-=ie,Se+=this._memory[Ve].score*ie,Ve===this._front)break;Ve=(this._capacity+Ve-1)%this._capacity,Pe++}return Se<=.5}accept(re,Se,Pe){const Ve=new be(re,Se,Pe);Ve.score=this._computeScore(Ve),-1===this._front&&-1===this._rear?(this._memory[0]=Ve,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=Ve)}_computeScore(re){if(Math.abs(re.deltaX)>0&&Math.abs(re.deltaY)>0)return 1;let Se=.5;return(!this._isAlmostInt(re.deltaX)||!this._isAlmostInt(re.deltaY))&&(Se+=.25),Math.min(Math.max(Se,0),1)}_isAlmostInt(re){return Math.abs(Math.round(re)-re)<.01}}me.INSTANCE=new me;class Ie extends P.${constructor(re,Se,Pe){super(),this._onScroll=this._register(new y.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new y.Q5),re.style.overflow="hidden",this._options=function de(ge){const re={lazyRender:void 0!==ge.lazyRender&&ge.lazyRender,className:void 0!==ge.className?ge.className:"",useShadows:void 0===ge.useShadows||ge.useShadows,handleMouseWheel:void 0===ge.handleMouseWheel||ge.handleMouseWheel,flipAxes:void 0!==ge.flipAxes&&ge.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:void 0!==ge.consumeMouseWheelIfScrollbarIsNeeded&&ge.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:void 0!==ge.alwaysConsumeMouseWheel&&ge.alwaysConsumeMouseWheel,scrollYToX:void 0!==ge.scrollYToX&&ge.scrollYToX,mouseWheelScrollSensitivity:void 0!==ge.mouseWheelScrollSensitivity?ge.mouseWheelScrollSensitivity:1,fastScrollSensitivity:void 0!==ge.fastScrollSensitivity?ge.fastScrollSensitivity:5,scrollPredominantAxis:void 0===ge.scrollPredominantAxis||ge.scrollPredominantAxis,mouseWheelSmoothScroll:void 0===ge.mouseWheelSmoothScroll||ge.mouseWheelSmoothScroll,arrowSize:void 0!==ge.arrowSize?ge.arrowSize:11,listenOnDomNode:void 0!==ge.listenOnDomNode?ge.listenOnDomNode:null,horizontal:void 0!==ge.horizontal?ge.horizontal:1,horizontalScrollbarSize:void 0!==ge.horizontalScrollbarSize?ge.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==ge.horizontalSliderSize?ge.horizontalSliderSize:0,horizontalHasArrows:void 0!==ge.horizontalHasArrows&&ge.horizontalHasArrows,vertical:void 0!==ge.vertical?ge.vertical:1,verticalScrollbarSize:void 0!==ge.verticalScrollbarSize?ge.verticalScrollbarSize:10,verticalHasArrows:void 0!==ge.verticalHasArrows&&ge.verticalHasArrows,verticalSliderSize:void 0!==ge.verticalSliderSize?ge.verticalSliderSize:0,scrollByPage:void 0!==ge.scrollByPage&&ge.scrollByPage};return re.horizontalSliderSize=void 0!==ge.horizontalSliderSize?ge.horizontalSliderSize:re.horizontalScrollbarSize,re.verticalSliderSize=void 0!==ge.verticalSliderSize?ge.verticalSliderSize:re.verticalScrollbarSize,p.dz&&(re.className+=" mac"),re}(Se),this._scrollable=Pe,this._register(this._scrollable.onScroll(ie=>{this._onWillScroll.fire(ie),this._onDidScroll(ie),this._onScroll.fire(ie)}));const Ve={onMouseWheel:ie=>this._onMouseWheel(ie),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new I(this._scrollable,this._options,Ve)),this._horizontalScrollbar=this._register(new m(this._scrollable,this._options,Ve)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(re),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,L.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,L.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,L.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,ie=>this._onMouseOver(ie)),this.onmouseleave(this._listenOnDomNode,ie=>this._onMouseLeave(ie)),this._hideTimeout=this._register(new A._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=(0,_.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(re){this._verticalScrollbar.delegatePointerDown(re)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(re){this._scrollable.setScrollDimensions(re,!1)}updateClassName(re){this._options.className=re,p.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(re){void 0!==re.handleMouseWheel&&(this._options.handleMouseWheel=re.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),void 0!==re.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=re.mouseWheelScrollSensitivity),void 0!==re.fastScrollSensitivity&&(this._options.fastScrollSensitivity=re.fastScrollSensitivity),void 0!==re.scrollPredominantAxis&&(this._options.scrollPredominantAxis=re.scrollPredominantAxis),void 0!==re.horizontal&&(this._options.horizontal=re.horizontal),void 0!==re.vertical&&(this._options.vertical=re.vertical),void 0!==re.horizontalScrollbarSize&&(this._options.horizontalScrollbarSize=re.horizontalScrollbarSize),void 0!==re.verticalScrollbarSize&&(this._options.verticalScrollbarSize=re.verticalScrollbarSize),void 0!==re.scrollByPage&&(this._options.scrollByPage=re.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(re){this._mouseWheelToDispose.length>0!==re&&(this._mouseWheelToDispose=(0,_.B9)(this._mouseWheelToDispose),re)&&this._mouseWheelToDispose.push(s.nm(this._listenOnDomNode,s.tw.MOUSE_WHEEL,Ve=>{this._onMouseWheel(new M.q(Ve))},{passive:!1}))}_onMouseWheel(re){const Se=me.INSTANCE;{const ie=window.devicePixelRatio/(0,f.getZoomFactor)();p.ED||p.IJ?Se.accept(Date.now(),re.deltaX/ie,re.deltaY/ie):Se.accept(Date.now(),re.deltaX,re.deltaY)}let Pe=!1;if(re.deltaY||re.deltaX){let ie=re.deltaY*this._options.mouseWheelScrollSensitivity,ye=re.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(ie)>=Math.abs(ye)?ye=0:ie=0),this._options.flipAxes&&([ie,ye]=[ye,ie]);const _e=!p.dz&&re.browserEvent&&re.browserEvent.shiftKey;(this._options.scrollYToX||_e)&&!ye&&(ye=ie,ie=0),re.browserEvent&&re.browserEvent.altKey&&(ye*=this._options.fastScrollSensitivity,ie*=this._options.fastScrollSensitivity);const Be=this._scrollable.getFutureScrollPosition();let Qe={};if(ie){const Ae=50*ie,pe=Be.scrollTop-(Ae<0?Math.floor(Ae):Math.ceil(Ae));this._verticalScrollbar.writeScrollPosition(Qe,pe)}if(ye){const Ae=50*ye,pe=Be.scrollLeft-(Ae<0?Math.floor(Ae):Math.ceil(Ae));this._horizontalScrollbar.writeScrollPosition(Qe,pe)}Qe=this._scrollable.validateScrollPosition(Qe),(Be.scrollLeft!==Qe.scrollLeft||Be.scrollTop!==Qe.scrollTop)&&(this._options.mouseWheelSmoothScroll&&Se.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(Qe):this._scrollable.setScrollPositionNow(Qe),Pe=!0)}let Ve=Pe;!Ve&&this._options.alwaysConsumeMouseWheel&&(Ve=!0),!Ve&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(Ve=!0),Ve&&(re.preventDefault(),re.stopPropagation())}_onDidScroll(re){this._shouldRender=this._horizontalScrollbar.onDidScroll(re)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(re)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const re=this._scrollable.getCurrentScrollPosition(),Se=re.scrollTop>0,Pe=re.scrollLeft>0,Ve=Pe?" left":"",ie=Se?" top":"",ye=Pe||Se?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${Ve}`),this._topShadowDomNode.setClassName(`shadow${ie}`),this._topLeftShadowDomNode.setClassName(`shadow${ye}${ie}${Ve}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(re){this._mouseIsOver=!1,this._hide()}_onMouseOver(re){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),500)}}class ee extends Ie{constructor(re,Se){(Se=Se||{}).mouseWheelSmoothScroll=!1;const Pe=new S.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:Ve=>s.jL(Ve)});super(re,Se,Pe),this._register(Pe)}setScrollPosition(re){this._scrollable.setScrollPositionNow(re)}}class ce extends Ie{constructor(re,Se,Pe){super(re,Se,Pe)}setScrollPosition(re){re.reuseAnimation?this._scrollable.setScrollPositionSmooth(re,re.reuseAnimation):this._scrollable.setScrollPositionNow(re)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class he extends Ie{constructor(re,Se){(Se=Se||{}).mouseWheelSmoothScroll=!1;const Pe=new S.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:Ve=>s.jL(Ve)});super(re,Se,Pe),this._register(Pe),this._element=re,this.onScroll(Ve=>{Ve.scrollTopChanged&&(this._element.scrollTop=Ve.scrollTop),Ve.scrollLeftChanged&&(this._element.scrollLeft=Ve.scrollLeft)}),this.scanDomNode()}setScrollPosition(re){this._scrollable.setScrollPositionNow(re)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}},42983:(at,ue,e)=>{"use strict";e.d(ue,{M:()=>z,z:()=>j});var f=e(58059),s=e(37397),L=e(97648),M=e(18337),u=e(68927),P=e(52787),A=e(52425),k=e(38829),N=e(17838),_=e(54435),a=e(93379),p=e.n(a),c=e(7795),n=e.n(c),l=e(90569),v=e.n(l),d=e(3565),m=e.n(d),I=e(19216),y=e.n(I),S=e(44589),b=e.n(S),x=e(82470),T={};T.styleTagTransform=b(),T.setAttributes=m(),T.insert=v().bind(null,"head"),T.domAPI=n(),T.insertStyleElement=y(),p()(x.Z,T);const Z={separatorBorder:u.Il.transparent};class G{constructor(E,V,$,te){this.container=E,this.view=V,this.disposable=te,this._cachedVisibleSize=void 0,"number"==typeof $?(this._size=$,this._cachedVisibleSize=void 0,E.classList.add("visible")):(this._size=0,this._cachedVisibleSize=$.cachedVisibleSize)}set size(E){this._size=E}get size(){return this._size}get visible(){return void 0===this._cachedVisibleSize}setVisible(E,V){var $,te;E!==this.visible&&(E?(this.size=(0,k.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof V?V:this.size,this.size=0),this.container.classList.toggle("visible",E),null===(te=($=this.view).setVisible)||void 0===te||te.call($,E))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(E){this.container.style.pointerEvents=E?"":"none"}layout(E,V){this.layoutContainer(E),this.view.layout(this.size,E,V)}dispose(){return this.disposable.dispose(),this.view}}class F extends G{layoutContainer(E){this.container.style.top=`${E}px`,this.container.style.height=`${this.size}px`}}class W extends G{layoutContainer(E){this.container.style.left=`${E}px`,this.container.style.width=`${this.size}px`}}var z,Y,B=(()=>{return(Y=B||(B={}))[Y.Idle=0]="Idle",Y[Y.Busy=1]="Busy",B;var Y})();(Y=z||(z={})).Distribute={type:"distribute"},Y.Split=function E($){return{type:"split",index:$}},Y.Invisible=function V($){return{type:"invisible",cachedVisibleSize:$}};class j extends A.JT{constructor(E,V={}){var $,te,w,fe,be;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=B.Idle,this._onDidSashChange=this._register(new P.Q5),this._onDidSashReset=this._register(new P.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=null!==($=V.orientation)&&void 0!==$?$:0,this.inverseAltBehavior=null!==(te=V.inverseAltBehavior)&&void 0!==te&&te,this.proportionalLayout=null===(w=V.proportionalLayout)||void 0===w||w,this.getSashOrthogonalSize=V.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),E.appendChild(this.el),this.sashContainer=(0,f.R3)(this.el,(0,f.$)(".sash-container")),this.viewContainer=(0,f.$)(".split-view-container"),this.scrollable=new N.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:f.jL}),this.scrollableElement=this._register(new L.$Z(this.viewContainer,{vertical:0===this.orientation?null!==(fe=V.scrollbarVisibility)&&void 0!==fe?fe:1:2,horizontal:1===this.orientation?null!==(be=V.scrollbarVisibility)&&void 0!==be?be:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(me=>{this.viewContainer.scrollTop=me.scrollTop,this.viewContainer.scrollLeft=me.scrollLeft})),(0,f.R3)(this.el,this.scrollableElement.getDomNode()),this.style(V.styles||Z),V.descriptor&&(this.size=V.descriptor.size,V.descriptor.views.forEach((me,Ie)=>{const ee=_.o8(me.visible)||me.visible?me.size:{type:"invisible",cachedVisibleSize:me.size};this.doAddView(me.view,ee,Ie,!0)}),this.contentSize=this.viewItems.reduce((me,Ie)=>me+Ie.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(E){for(const V of this.sashItems)V.sash.orthogonalStartSash=E;this._orthogonalStartSash=E}set orthogonalEndSash(E){for(const V of this.sashItems)V.sash.orthogonalEndSash=E;this._orthogonalEndSash=E}set startSnappingEnabled(E){this._startSnappingEnabled!==E&&(this._startSnappingEnabled=E,this.updateSashEnablement())}set endSnappingEnabled(E){this._endSnappingEnabled!==E&&(this._endSnappingEnabled=E,this.updateSashEnablement())}style(E){E.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",E.separatorBorder.toString()))}addView(E,V,$=this.viewItems.length,te){this.doAddView(E,V,$,te)}layout(E,V){const $=Math.max(this.size,this.contentSize);if(this.size=E,this.layoutContext=V,this.proportions)for(let te=0;te<this.viewItems.length;te++){const w=this.viewItems[te];w.size=(0,k.uZ)(Math.round(this.proportions[te]*E),w.minimumSize,w.maximumSize)}else{const te=(0,M.w6)(this.viewItems.length),w=te.filter(be=>1===this.viewItems[be].priority),fe=te.filter(be=>2===this.viewItems[be].priority);this.resize(this.viewItems.length-1,E-$,void 0,w,fe)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(E=>E.size/this.contentSize))}onSashStart({sash:E,start:V,alt:$}){for(const be of this.viewItems)be.enabled=!1;const te=this.sashItems.findIndex(be=>be.sash===E),w=(0,A.F8)((0,f.nm)(document.body,"keydown",be=>fe(this.sashDragState.current,be.altKey)),(0,f.nm)(document.body,"keyup",()=>fe(this.sashDragState.current,!1))),fe=(be,me)=>{const Ie=this.viewItems.map(ge=>ge.size);let he,de,ee=Number.NEGATIVE_INFINITY,ce=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(me=!me),me)if(te===this.sashItems.length-1){const re=this.viewItems[te];ee=(re.minimumSize-re.size)/2,ce=(re.maximumSize-re.size)/2}else{const re=this.viewItems[te+1];ee=(re.size-re.maximumSize)/2,ce=(re.size-re.minimumSize)/2}if(!me){const ge=(0,M.w6)(te,-1),re=(0,M.w6)(te+1,this.viewItems.length),Se=ge.reduce((Ae,pe)=>Ae+(this.viewItems[pe].minimumSize-Ie[pe]),0),Pe=ge.reduce((Ae,pe)=>Ae+(this.viewItems[pe].viewMaximumSize-Ie[pe]),0),Ve=0===re.length?Number.POSITIVE_INFINITY:re.reduce((Ae,pe)=>Ae+(Ie[pe]-this.viewItems[pe].minimumSize),0),ie=0===re.length?Number.NEGATIVE_INFINITY:re.reduce((Ae,pe)=>Ae+(Ie[pe]-this.viewItems[pe].viewMaximumSize),0),ye=Math.max(Se,ie),_e=Math.min(Ve,Pe),Be=this.findFirstSnapIndex(ge),Qe=this.findFirstSnapIndex(re);if("number"==typeof Be){const Ae=this.viewItems[Be],pe=Math.floor(Ae.viewMinimumSize/2);he={index:Be,limitDelta:Ae.visible?ye-pe:ye+pe,size:Ae.size}}if("number"==typeof Qe){const Ae=this.viewItems[Qe],pe=Math.floor(Ae.viewMinimumSize/2);de={index:Qe,limitDelta:Ae.visible?_e+pe:_e-pe,size:Ae.size}}}this.sashDragState={start:be,current:be,index:te,sizes:Ie,minDelta:ee,maxDelta:ce,alt:me,snapBefore:he,snapAfter:de,disposable:w}};fe(V,$)}onSashChange({current:E}){const{index:V,start:$,sizes:te,alt:w,minDelta:fe,maxDelta:be,snapBefore:me,snapAfter:Ie}=this.sashDragState;this.sashDragState.current=E;const ce=this.resize(V,E-$,te,void 0,void 0,fe,be,me,Ie);if(w){const he=V===this.sashItems.length-1,de=this.viewItems.map(ie=>ie.size),re=this.viewItems[he?V:V+1];this.resize(he?V-1:V+1,-ce,de,void 0,void 0,re.size-re.maximumSize,re.size-re.minimumSize)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(E){this._onDidSashChange.fire(E),this.sashDragState.disposable.dispose(),this.saveProportions();for(const V of this.viewItems)V.enabled=!0}onViewChange(E,V){const $=this.viewItems.indexOf(E);$<0||$>=this.viewItems.length||(V=(0,k.uZ)(V="number"==typeof V?V:E.size,E.minimumSize,E.maximumSize),this.inverseAltBehavior&&$>0?(this.resize($-1,Math.floor((E.size-V)/2)),this.distributeEmptySpace(),this.layoutViews()):(E.size=V,this.relayout([$],void 0)))}resizeView(E,V){if(this.state!==B.Idle)throw new Error("Cant modify splitview");if(this.state=B.Busy,E<0||E>=this.viewItems.length)return;const $=(0,M.w6)(this.viewItems.length).filter(be=>be!==E),te=[...$.filter(be=>1===this.viewItems[be].priority),E],w=$.filter(be=>2===this.viewItems[be].priority),fe=this.viewItems[E];V=Math.round(V),V=(0,k.uZ)(V,fe.minimumSize,Math.min(fe.maximumSize,this.size)),fe.size=V,this.relayout(te,w),this.state=B.Idle}distributeViewSizes(){const E=[];let V=0;for(const be of this.viewItems)be.maximumSize-be.minimumSize>0&&(E.push(be),V+=be.size);const $=Math.floor(V/E.length);for(const be of E)be.size=(0,k.uZ)($,be.minimumSize,be.maximumSize);const te=(0,M.w6)(this.viewItems.length),w=te.filter(be=>1===this.viewItems[be].priority),fe=te.filter(be=>2===this.viewItems[be].priority);this.relayout(w,fe)}getViewSize(E){return E<0||E>=this.viewItems.length?-1:this.viewItems[E].size}doAddView(E,V,$=this.viewItems.length,te){if(this.state!==B.Idle)throw new Error("Cant modify splitview");this.state=B.Busy;const w=(0,f.$)(".split-view-view");$===this.viewItems.length?this.viewContainer.appendChild(w):this.viewContainer.insertBefore(w,this.viewContainer.children.item($));const fe=E.onDidChange(he=>this.onViewChange(ee,he)),be=(0,A.OF)(()=>this.viewContainer.removeChild(w)),me=(0,A.F8)(fe,be);let Ie;Ie="number"==typeof V?V:"split"===V.type?this.getViewSize(V.index)/2:"invisible"===V.type?{cachedVisibleSize:V.cachedVisibleSize}:E.minimumSize;const ee=0===this.orientation?new F(w,E,Ie,me):new W(w,E,Ie,me);if(this.viewItems.splice($,0,ee),this.viewItems.length>1){const he={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},de=0===this.orientation?new s.g(this.sashContainer,{getHorizontalSashTop:Ae=>this.getSashPosition(Ae),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},he),{orientation:1})):new s.g(this.sashContainer,{getVerticalSashLeft:Ae=>this.getSashPosition(Ae),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},he),{orientation:0})),ge=0===this.orientation?Ae=>({sash:de,start:Ae.startY,current:Ae.currentY,alt:Ae.altKey}):Ae=>({sash:de,start:Ae.startX,current:Ae.currentX,alt:Ae.altKey}),Se=P.ju.map(de.onDidStart,ge)(this.onSashStart,this),Ve=P.ju.map(de.onDidChange,ge)(this.onSashChange,this),ye=P.ju.map(de.onDidEnd,()=>this.sashItems.findIndex(Ae=>Ae.sash===de))(this.onSashEnd,this),_e=de.onDidReset(()=>{const Ae=this.sashItems.findIndex(ne=>ne.sash===de),pe=(0,M.w6)(Ae,-1),De=(0,M.w6)(Ae+1,this.viewItems.length),Oe=this.findFirstSnapIndex(pe),Ne=this.findFirstSnapIndex(De);"number"==typeof Oe&&!this.viewItems[Oe].visible||"number"==typeof Ne&&!this.viewItems[Ne].visible||this._onDidSashReset.fire(Ae)}),Be=(0,A.F8)(Se,Ve,ye,_e,de);this.sashItems.splice($-1,0,{sash:de,disposable:Be})}let ce;w.appendChild(E.element),"number"!=typeof V&&"split"===V.type&&(ce=[V.index]),te||this.relayout([$],ce),this.state=B.Idle,!te&&"number"!=typeof V&&"distribute"===V.type&&this.distributeViewSizes()}relayout(E,V){const $=this.viewItems.reduce((te,w)=>te+w.size,0);this.resize(this.viewItems.length-1,this.size-$,void 0,E,V),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(E,V,$=this.viewItems.map(ee=>ee.size),te,w,fe=Number.NEGATIVE_INFINITY,be=Number.POSITIVE_INFINITY,me,Ie){if(E<0||E>=this.viewItems.length)return 0;const ee=(0,M.w6)(E,-1),ce=(0,M.w6)(E+1,this.viewItems.length);if(w)for(const Qe of w)(0,M.zI)(ee,Qe),(0,M.zI)(ce,Qe);if(te)for(const Qe of te)(0,M.al)(ee,Qe),(0,M.al)(ce,Qe);const he=ee.map(Qe=>this.viewItems[Qe]),de=ee.map(Qe=>$[Qe]),ge=ce.map(Qe=>this.viewItems[Qe]),re=ce.map(Qe=>$[Qe]),Se=ee.reduce((Qe,Ae)=>Qe+(this.viewItems[Ae].minimumSize-$[Ae]),0),Pe=ee.reduce((Qe,Ae)=>Qe+(this.viewItems[Ae].maximumSize-$[Ae]),0),Ve=0===ce.length?Number.POSITIVE_INFINITY:ce.reduce((Qe,Ae)=>Qe+($[Ae]-this.viewItems[Ae].minimumSize),0),ie=0===ce.length?Number.NEGATIVE_INFINITY:ce.reduce((Qe,Ae)=>Qe+($[Ae]-this.viewItems[Ae].maximumSize),0),ye=Math.max(Se,ie,fe),_e=Math.min(Ve,Pe,be);let Be=!1;if(me){const Qe=this.viewItems[me.index],Ae=V>=me.limitDelta;Be=Ae!==Qe.visible,Qe.setVisible(Ae,me.size)}if(!Be&&Ie){const Qe=this.viewItems[Ie.index],Ae=V<Ie.limitDelta;Be=Ae!==Qe.visible,Qe.setVisible(Ae,Ie.size)}if(Be)return this.resize(E,V,$,te,w,fe,be);for(let Qe=0,Ae=V=(0,k.uZ)(V,ye,_e);Qe<he.length;Qe++){const pe=he[Qe],De=(0,k.uZ)(de[Qe]+Ae,pe.minimumSize,pe.maximumSize);Ae-=De-de[Qe],pe.size=De}for(let Qe=0,Ae=V;Qe<ge.length;Qe++){const pe=ge[Qe],De=(0,k.uZ)(re[Qe]-Ae,pe.minimumSize,pe.maximumSize);Ae+=De-re[Qe],pe.size=De}return V}distributeEmptySpace(E){const V=this.viewItems.reduce((be,me)=>be+me.size,0);let $=this.size-V;const te=(0,M.w6)(this.viewItems.length-1,-1),w=te.filter(be=>1===this.viewItems[be].priority),fe=te.filter(be=>2===this.viewItems[be].priority);for(const be of fe)(0,M.zI)(te,be);for(const be of w)(0,M.al)(te,be);"number"==typeof E&&(0,M.al)(te,E);for(let be=0;0!==$&&be<te.length;be++){const me=this.viewItems[te[be]],Ie=(0,k.uZ)(me.size+$,me.minimumSize,me.maximumSize);$-=Ie-me.size,me.size=Ie}}layoutViews(){this.contentSize=this.viewItems.reduce((V,$)=>V+$.size,0);let E=0;for(const V of this.viewItems)V.layout(E,this.layoutContext),E+=V.size;this.sashItems.forEach(V=>V.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.scrollableElement.setScrollDimensions(0===this.orientation?{height:this.size,scrollHeight:this.contentSize}:{width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let E=!1;const V=this.viewItems.map(me=>E=me.size-me.minimumSize>0||E);E=!1;const $=this.viewItems.map(me=>E=me.maximumSize-me.size>0||E),te=[...this.viewItems].reverse();E=!1;const w=te.map(me=>E=me.size-me.minimumSize>0||E).reverse();E=!1;const fe=te.map(me=>E=me.maximumSize-me.size>0||E).reverse();let be=0;for(let me=0;me<this.sashItems.length;me++){const{sash:Ie}=this.sashItems[me];be+=this.viewItems[me].size;const ce=!(V[me]&&fe[me+1]),he=!($[me]&&w[me+1]);if(ce&&he){const de=(0,M.w6)(me,-1),ge=(0,M.w6)(me+1,this.viewItems.length),re=this.findFirstSnapIndex(de),Se=this.findFirstSnapIndex(ge),Ve="number"==typeof Se&&!this.viewItems[Se].visible;Ie.state="number"==typeof re&&!this.viewItems[re].visible&&w[me]&&(be>0||this.startSnappingEnabled)?1:Ve&&V[me]&&(be<this.contentSize||this.endSnappingEnabled)?2:0}else Ie.state=ce&&!he?1:!ce&&he?2:3}}getSashPosition(E){let V=0;for(let $=0;$<this.sashItems.length;$++)if(V+=this.viewItems[$].size,this.sashItems[$].sash===E)return V;return 0}findFirstSnapIndex(E){for(const V of E){const $=this.viewItems[V];if($.visible&&$.snap)return V}for(const V of E){const $=this.viewItems[V];if($.visible&&$.maximumSize-$.minimumSize>0)return;if(!$.visible&&$.snap)return V}}dispose(){super.dispose(),(0,A.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach(E=>E.disposable.dispose()),this.sashItems=[]}}},41488:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>b});var f=e(83568),s=e(2450),L=e(68927),M=e(52787),u=e(93379),P=e.n(u),A=e(7795),k=e.n(A),N=e(90569),_=e.n(N),a=e(3565),p=e.n(a),c=e(19216),n=e.n(c),l=e(44589),v=e.n(l),d=e(16310),m={};m.styleTagTransform=v(),m.setAttributes=p(),m.insert=_().bind(null,"head"),m.domAPI=k(),m.insertStyleElement=n(),P()(d.Z,m);const S={inputActiveOptionBorder:L.Il.fromHex("#007ACC00"),inputActiveOptionForeground:L.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:L.Il.fromHex("#0E639C50")};class b extends f.${constructor(T){super(),this._onChange=this._register(new M.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new M.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},S),T),this._checked=this._opts.isChecked;const R=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,R.push(...s.dT.asClassNameArray(this._icon))),this._opts.actionClassName&&R.push(...this._opts.actionClassName.split(" ")),this._checked&&R.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...R),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,Q=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),Q.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,Q=>{if(10===Q.keyCode||3===Q.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),Q.preventDefault(),void Q.stopPropagation();this._onKeyDown.fire(Q)})}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(T){this._checked=T,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}style(T){T.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=T.inputActiveOptionBorder),T.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=T.inputActiveOptionForeground),T.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=T.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}},83568:(at,ue,e)=>{"use strict";e.d(ue,{$:()=>P});var f=e(58059),s=e(74616),L=e(7457),M=e(79680),u=e(52425);class P extends u.JT{onclick(k,N){this._register(f.nm(k,f.tw.CLICK,_=>N(new L.n(_))))}onmousedown(k,N){this._register(f.nm(k,f.tw.MOUSE_DOWN,_=>N(new L.n(_))))}onmouseover(k,N){this._register(f.nm(k,f.tw.MOUSE_OVER,_=>N(new L.n(_))))}onmouseleave(k,N){this._register(f.nm(k,f.tw.MOUSE_LEAVE,_=>N(new L.n(_))))}onkeydown(k,N){this._register(f.nm(k,f.tw.KEY_DOWN,_=>N(new s.y(_))))}onkeyup(k,N){this._register(f.nm(k,f.tw.KEY_UP,_=>N(new s.y(_))))}oninput(k,N){this._register(f.nm(k,f.tw.INPUT,N))}onblur(k,N){this._register(f.nm(k,f.tw.BLUR,N))}onfocus(k,N){this._register(f.nm(k,f.tw.FOCUS,N))}ignoreGesture(k){M.o.ignoreTarget(k)}}},85113:(at,ue,e)=>{"use strict";e.d(ue,{Wi:()=>P,Z0:()=>A,aU:()=>u,eZ:()=>N,wY:()=>k,xw:()=>_});var f=e(52787),s=e(52425),L=e(40402),M=function(a,p,c,n){return new(c||(c=Promise))(function(v,d){function m(S){try{y(n.next(S))}catch(b){d(b)}}function I(S){try{y(n.throw(S))}catch(b){d(b)}}function y(S){S.done?v(S.value):function l(v){return v instanceof c?v:new c(function(d){d(v)})}(S.value).then(m,I)}y((n=n.apply(a,p||[])).next())})};class u extends s.JT{constructor(p,c="",n="",l=!0,v){super(),this._onDidChange=this._register(new f.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=p,this._label=c,this._cssClass=n,this._enabled=l,this._actionCallback=v}get id(){return this._id}get label(){return this._label}set label(p){this._setLabel(p)}_setLabel(p){this._label!==p&&(this._label=p,this._onDidChange.fire({label:p}))}get tooltip(){return this._tooltip||""}set tooltip(p){this._setTooltip(p)}_setTooltip(p){this._tooltip!==p&&(this._tooltip=p,this._onDidChange.fire({tooltip:p}))}get class(){return this._cssClass}set class(p){this._setClass(p)}_setClass(p){this._cssClass!==p&&(this._cssClass=p,this._onDidChange.fire({class:p}))}get enabled(){return this._enabled}set enabled(p){this._setEnabled(p)}_setEnabled(p){this._enabled!==p&&(this._enabled=p,this._onDidChange.fire({enabled:p}))}get checked(){return this._checked}set checked(p){this._setChecked(p)}_setChecked(p){this._checked!==p&&(this._checked=p,this._onDidChange.fire({checked:p}))}run(p,c){return M(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(p))})}}class P extends s.JT{constructor(){super(...arguments),this._onBeforeRun=this._register(new f.Q5),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new f.Q5),this.onDidRun=this._onDidRun.event}run(p,c){return M(this,void 0,void 0,function*(){if(!p.enabled)return;let n;this._onBeforeRun.fire({action:p});try{yield this.runAction(p,c)}catch(l){n=l}this._onDidRun.fire({action:p,error:n})})}runAction(p,c){return M(this,void 0,void 0,function*(){yield p.run(c)})}}let A=(()=>{class a extends u{constructor(c){super(a.ID,c,c?"separator text":"separator"),this.checked=!1,this.enabled=!1}}return a.ID="vs.actions.separator",a})();class k{constructor(p,c,n,l){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=p,this.label=c,this.class=l,this._actions=n}get actions(){return this._actions}dispose(){}run(){return M(this,void 0,void 0,function*(){})}}let N=(()=>{class a extends u{constructor(){super(a.ID,L.NC("submenu.empty","(empty)"),void 0,!1)}}return a.ID="vs.actions.empty",a})();function _(a){var p,c;return{id:a.id,label:a.label,class:void 0,enabled:null===(p=a.enabled)||void 0===p||p,checked:null!==(c=a.checked)&&void 0!==c&&c,run:()=>M(this,void 0,void 0,function*(){return a.run()}),tooltip:a.label,dispose:()=>{}}}},18337:(at,ue,e)=>{"use strict";function f(j,Y=0){return j[j.length-(1+Y)]}function s(j){if(0===j.length)throw new Error("Invalid tail call");return[j.slice(0,j.length-1),j[j.length-1]]}function L(j,Y,E=((V,$)=>V===$)){if(j===Y)return!0;if(!j||!Y||j.length!==Y.length)return!1;for(let V=0,$=j.length;V<$;V++)if(!E(j[V],Y[V]))return!1;return!0}function M(j,Y){const E=j.length-1;Y<E&&(j[Y]=j[E]),j.pop()}function u(j,Y,E){return function P(j,Y){let E=0,V=j-1;for(;E<=V;){const $=(E+V)/2|0,te=Y($);if(te<0)E=$+1;else{if(!(te>0))return $;V=$-1}}return-(E+1)}(j.length,V=>E(j[V],Y))}function A(j,Y){let E=0,V=j.length;if(0===V)return 0;for(;E<V;){const $=Math.floor((E+V)/2);Y(j[$])?V=$:E=$+1}return E}function k(j,Y,E){if((j|=0)>=Y.length)throw new TypeError("invalid index");const V=Y[Math.floor(Y.length*Math.random())],$=[],te=[],w=[];for(const fe of Y){const be=E(fe,V);be<0?$.push(fe):be>0?te.push(fe):w.push(fe)}return j<$.length?k(j,$,E):j<$.length+w.length?w[0]:k(j-($.length+w.length),te,E)}function N(j,Y){const E=[];let V;for(const $ of j.slice(0).sort(Y))V&&0===Y(V[0],$)?V.push($):(V=[$],E.push(V));return E}function _(j){return j.filter(Y=>!!Y)}function a(j){return!Array.isArray(j)||0===j.length}function p(j){return Array.isArray(j)&&j.length>0}function c(j,Y=(E=>E)){const E=new Set;return j.filter(V=>{const $=Y(V);return!E.has($)&&(E.add($),!0)})}function n(j,Y){const E=function l(j,Y){for(let E=j.length-1;E>=0;E--)if(Y(j[E]))return E;return-1}(j,Y);if(-1!==E)return j[E]}function v(j,Y){return j.length>0?j[0]:Y}function d(j,Y){let E="number"==typeof Y?j:0;"number"==typeof Y?E=j:(E=0,Y=j);const V=[];if(E<=Y)for(let $=E;$<Y;$++)V.push($);else for(let $=E;$>Y;$--)V.push($);return V}function m(j,Y,E){const V=j.slice(0,Y),$=j.slice(Y);return V.concat(E,$)}function I(j,Y){const E=j.indexOf(Y);E>-1&&(j.splice(E,1),j.unshift(Y))}function y(j,Y){const E=j.indexOf(Y);E>-1&&(j.splice(E,1),j.push(Y))}function S(j,Y){for(const E of Y)j.push(E)}function b(j){return Array.isArray(j)?j:[j]}function T(j,Y,E,V){const $=R(j,Y),te=j.splice($,E);return function x(j,Y,E){const V=R(j,Y),$=j.length,te=E.length;j.length=$+te;for(let w=$-1;w>=V;w--)j[w+te]=j[w];for(let w=0;w<te;w++)j[w+V]=E[w]}(j,$,V),te}function R(j,Y){return Y<0?Math.max(Y+j.length,0):Math.min(Y,j.length)}var Q,j;function Z(j,Y){return(E,V)=>Y(j(E),j(V))}e.d(ue,{Dc:()=>F,EB:()=>c,Gb:()=>f,H9:()=>z,HW:()=>k,JH:()=>s,LS:()=>M,Of:()=>p,VJ:()=>B,XY:()=>a,Xh:()=>v,Zv:()=>m,_2:()=>b,al:()=>y,dF:()=>n,db:()=>T,fS:()=>L,fv:()=>G,jV:()=>W,kX:()=>_,lG:()=>A,ry:()=>u,tT:()=>Z,vA:()=>S,vM:()=>N,w6:()=>d,zI:()=>I}),(j=Q||(Q={})).isLessThan=function Y($){return $<0},j.isGreaterThan=function E($){return $>0},j.isNeitherLessOrGreaterThan=function V($){return 0===$},j.greaterThan=1,j.lessThan=-1,j.neitherLessOrGreaterThan=0;const G=(j,Y)=>j-Y;function F(j,Y){if(0===j.length)return;let E=j[0];for(let V=1;V<j.length;V++){const $=j[V];Y($,E)>0&&(E=$)}return E}function W(j,Y){if(0===j.length)return;let E=j[0];for(let V=1;V<j.length;V++){const $=j[V];Y($,E)>=0&&(E=$)}return E}function B(j,Y){return F(j,(E,V)=>-Y(E,V))}class z{constructor(Y){this.items=Y,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(Y){let E=this.firstIdx;for(;E<this.items.length&&Y(this.items[E]);)E++;const V=E===this.firstIdx?null:this.items.slice(this.firstIdx,E);return this.firstIdx=E,V}takeFromEndWhile(Y){let E=this.lastIdx;for(;E>=0&&Y(this.items[E]);)E--;const V=E===this.lastIdx?null:this.items.slice(E+1,this.lastIdx+1);return this.lastIdx=E,V}peek(){if(0!==this.length)return this.items[this.firstIdx]}dequeue(){const Y=this.items[this.firstIdx];return this.firstIdx++,Y}takeCount(Y){const E=this.items.slice(this.firstIdx,this.firstIdx+Y);return this.firstIdx+=Y,E}}},48797:(at,ue,e)=>{"use strict";function f(s,L){if(!s)throw new Error(L?`Assertion failed (${L})`:"Assertion Failed")}e.d(ue,{ok:()=>f})},63072:(at,ue,e)=>{"use strict";e.d(ue,{Aq:()=>Z,CR:()=>R,J8:()=>k,PG:()=>N,Ps:()=>I,To:()=>x,Ue:()=>T,Vg:()=>m,Vs:()=>d,_F:()=>y,eP:()=>_,jT:()=>Q,ne:()=>n,pY:()=>b,rH:()=>v,vp:()=>l,zS:()=>F,zh:()=>S});var f=e(80152),s=e(53663),L=e(52787),M=e(52425),u=e(38972),P=function(W,B,z,j){return new(z||(z=Promise))(function(E,V){function $(fe){try{w(j.next(fe))}catch(be){V(be)}}function te(fe){try{w(j.throw(fe))}catch(be){V(be)}}function w(fe){fe.done?E(fe.value):function Y(E){return E instanceof z?E:new z(function(V){V(E)})}(fe.value).then($,te)}w((j=j.apply(W,B||[])).next())})},A=function(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z,B=W[Symbol.asyncIterator];return B?B.call(W):(W="function"==typeof __values?__values(W):W[Symbol.iterator](),z={},j("next"),j("throw"),j("return"),z[Symbol.asyncIterator]=function(){return this},z);function j(E){z[E]=W[E]&&function(V){return new Promise(function($,te){!function Y(E,V,$,te){Promise.resolve(te).then(function(w){E({value:w,done:$})},V)}($,te,(V=W[E](V)).done,V.value)})}}};function k(W){return!!W&&"function"==typeof W.then}function N(W){const B=new f.A,z=W(B.token),j=new Promise((Y,E)=>{const V=B.token.onCancellationRequested(()=>{V.dispose(),B.dispose(),E(new s.FU)});Promise.resolve(z).then($=>{V.dispose(),B.dispose(),Y($)},$=>{V.dispose(),B.dispose(),E($)})});return new class{cancel(){B.cancel()}then(Y,E){return j.then(Y,E)}catch(Y){return this.then(void 0,Y)}finally(Y){return j.finally(Y)}}}function _(W,B,z){return new Promise((j,Y)=>{const E=B.onCancellationRequested(()=>{E.dispose(),j(z)});W.then(j,Y).finally(()=>E.dispose())})}class a{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(B){if(this.activePromise){if(this.queuedPromiseFactory=B,!this.queuedPromise){const z=()=>{this.queuedPromise=null;const j=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,j};this.queuedPromise=new Promise(j=>{this.activePromise.then(z,z).then(j)})}return new Promise((z,j)=>{this.queuedPromise.then(z,j)})}return this.activePromise=B(),new Promise((z,j)=>{this.activePromise.then(Y=>{this.activePromise=null,z(Y)},Y=>{this.activePromise=null,j(Y)})})}}const n=Symbol("MicrotaskDelay");class l{constructor(B){this.defaultDelay=B,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(B,z=this.defaultDelay){this.task=B,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((Y,E)=>{this.doResolve=Y,this.doReject=E}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const Y=this.task;return this.task=null,Y()}}));const j=()=>{var Y;this.deferred=null,null===(Y=this.doResolve)||void 0===Y||Y.call(this,null)};return this.deferred=z===n?(W=>{let B=!0;return queueMicrotask(()=>{B&&(B=!1,W())}),{isTriggered:()=>B,dispose:()=>{B=!1}}})(j):((W,B)=>{let z=!0;const j=setTimeout(()=>{z=!1,B()},W);return{isTriggered:()=>z,dispose:()=>{clearTimeout(j),z=!1}}})(z,j),this.completionPromise}isTriggered(){var B;return!(null===(B=this.deferred)||void 0===B||!B.isTriggered())}cancel(){var B;this.cancelTimeout(),this.completionPromise&&(null===(B=this.doReject)||void 0===B||B.call(this,new s.FU),this.completionPromise=null)}cancelTimeout(){var B;null===(B=this.deferred)||void 0===B||B.dispose(),this.deferred=null}dispose(){this.cancel()}}class v{constructor(B){this.delayer=new l(B),this.throttler=new a}trigger(B,z){return this.delayer.trigger(()=>this.throttler.queue(B),z)}dispose(){this.delayer.dispose()}}function d(W,B){return B?new Promise((z,j)=>{const Y=setTimeout(()=>{E.dispose(),z()},W),E=B.onCancellationRequested(()=>{clearTimeout(Y),E.dispose(),j(new s.FU)})}):N(z=>d(W,z))}function m(W,B=0){const z=setTimeout(W,B);return(0,M.OF)(()=>clearTimeout(z))}function I(W,B=(j=>!!j),z=null){let j=0;const Y=W.length,E=()=>{if(j>=Y)return Promise.resolve(z);const V=W[j++];return Promise.resolve(V()).then(te=>B(te)?Promise.resolve(te):E())};return E()}class y{constructor(B,z){this._token=-1,"function"==typeof B&&"number"==typeof z&&this.setIfNotSet(B,z)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(B,z){this.cancel(),this._token=setTimeout(()=>{this._token=-1,B()},z)}setIfNotSet(B,z){-1===this._token&&(this._token=setTimeout(()=>{this._token=-1,B()},z))}}class S{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet(B,z){this.cancel(),this._token=setInterval(()=>{B()},z)}}class b{constructor(B,z){this.timeoutToken=-1,this.runner=B,this.timeout=z,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(B=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,B)}get delay(){return this.timeout}set delay(B){this.timeout=B}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var B;null===(B=this.runner)||void 0===B||B.call(this)}}let x;x="function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback?W=>{(0,u.fn)(()=>{if(B)return;const z=Date.now()+15;W(Object.freeze({didTimeout:!0,timeRemaining:()=>Math.max(0,z-Date.now())}))});let B=!1;return{dispose(){B||(B=!0)}}}:(W,B)=>{const z=requestIdleCallback(W,"number"==typeof B?{timeout:B}:void 0);let j=!1;return{dispose(){j||(j=!0,cancelIdleCallback(z))}}};class T{constructor(B){this._didRun=!1,this._executor=()=>{try{this._value=B()}catch(z){this._error=z}finally{this._didRun=!0}},this._handle=x(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class R{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((B,z)=>{this.completeCallback=B,this.errorCallback=z})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(B){return new Promise(z=>{this.completeCallback(B),this.resolved=!0,z()})}cancel(){new Promise(B=>{this.errorCallback(new s.FU),this.rejected=!0,B()})}}var Q,W;(W=Q||(Q={})).settled=function B(j){return P(this,void 0,void 0,function*(){let Y;const E=yield Promise.all(j.map(V=>V.then($=>$,$=>{Y||(Y=$)})));if(void 0!==Y)throw Y;return E})},W.withAsyncBody=function z(j){return new Promise((Y,E)=>P(this,void 0,void 0,function*(){try{yield j(Y,E)}catch(V){E(V)}}))};class Z{constructor(B){this._state=0,this._results=[],this._error=null,this._onStateChanged=new L.Q5,queueMicrotask(()=>P(this,void 0,void 0,function*(){const z={emitOne:j=>this.emitOne(j),emitMany:j=>this.emitMany(j),reject:j=>this.reject(j)};try{yield Promise.resolve(B(z)),this.resolve()}catch(j){this.reject(j)}finally{z.emitOne=void 0,z.emitMany=void 0,z.reject=void 0}}))}static fromArray(B){return new Z(z=>{z.emitMany(B)})}static fromPromise(B){return new Z(z=>P(this,void 0,void 0,function*(){z.emitMany(yield B)}))}static fromPromises(B){return new Z(z=>P(this,void 0,void 0,function*(){yield Promise.all(B.map(j=>P(this,void 0,void 0,function*(){return z.emitOne(yield j)})))}))}static merge(B){return new Z(z=>P(this,void 0,void 0,function*(){yield Promise.all(B.map(j=>{var Y,E;return P(this,void 0,void 0,function*(){var V,$;try{for(Y=A(j);!(E=yield Y.next()).done;)z.emitOne(E.value)}catch(te){V={error:te}}finally{try{E&&!E.done&&($=Y.return)&&(yield $.call(Y))}finally{if(V)throw V.error}}})}))}))}[Symbol.asyncIterator](){let B=0;return{next:()=>P(this,void 0,void 0,function*(){for(;;){if(2===this._state)throw this._error;if(B<this._results.length)return{done:!1,value:this._results[B++]};if(1===this._state)return{done:!0,value:void 0};yield L.ju.toPromise(this._onStateChanged.event)}})}}static map(B,z){return new Z(j=>P(this,void 0,void 0,function*(){var Y,E;try{for(var $,V=A(B);!($=yield V.next()).done;)j.emitOne(z($.value))}catch(te){Y={error:te}}finally{try{$&&!$.done&&(E=V.return)&&(yield E.call(V))}finally{if(Y)throw Y.error}}}))}map(B){return Z.map(this,B)}static filter(B,z){return new Z(j=>P(this,void 0,void 0,function*(){var Y,E;try{for(var $,V=A(B);!($=yield V.next()).done;){const te=$.value;z(te)&&j.emitOne(te)}}catch(te){Y={error:te}}finally{try{$&&!$.done&&(E=V.return)&&(yield E.call(V))}finally{if(Y)throw Y.error}}}))}filter(B){return Z.filter(this,B)}static coalesce(B){return Z.filter(B,z=>!!z)}coalesce(){return Z.coalesce(this)}static toPromise(B){var z,j,Y,E;return P(this,void 0,void 0,function*(){const V=[];try{for(z=A(B);!(j=yield z.next()).done;)V.push(j.value)}catch($){Y={error:$}}finally{try{j&&!j.done&&(E=z.return)&&(yield E.call(z))}finally{if(Y)throw Y.error}}return V})}toPromise(){return Z.toPromise(this)}emitOne(B){0===this._state&&(this._results.push(B),this._onStateChanged.fire())}emitMany(B){0===this._state&&(this._results=this._results.concat(B),this._onStateChanged.fire())}resolve(){0===this._state&&(this._state=1,this._onStateChanged.fire())}reject(B){0===this._state&&(this._state=2,this._error=B,this._onStateChanged.fire())}}Z.EMPTY=Z.fromArray([]);class G extends Z{constructor(B,z){super(z),this._source=B}cancel(){this._source.cancel()}}function F(W){const B=new f.A,z=W(B.token);return new G(B,j=>P(this,void 0,void 0,function*(){var Y,E;const V=B.token.onCancellationRequested(()=>{V.dispose(),B.dispose(),j.reject(new s.FU)});try{try{for(var te,$=A(z);!(te=yield $.next()).done;){if(B.token.isCancellationRequested)return;j.emitOne(te.value)}}catch(w){Y={error:w}}finally{try{te&&!te.done&&(E=$.return)&&(yield E.call($))}finally{if(Y)throw Y.error}}V.dispose(),B.dispose()}catch(w){V.dispose(),B.dispose(),j.reject(w)}}))}},38923:(at,ue,e)=>{"use strict";e.d(ue,{Ag:()=>P,Cg:()=>N,KN:()=>L,Q$:()=>k,T4:()=>A,mP:()=>M,oq:()=>u});const f="undefined"!=typeof Buffer;let s;class L{constructor(a){this.buffer=a,this.byteLength=this.buffer.byteLength}static wrap(a){return f&&!Buffer.isBuffer(a)&&(a=Buffer.from(a.buffer,a.byteOffset,a.byteLength)),new L(a)}toString(){return f?this.buffer.toString():(s||(s=new TextDecoder),s.decode(this.buffer))}}function M(_,a){return _[a+0]<<0>>>0|_[a+1]<<8>>>0}function u(_,a,p){_[p+0]=255&a,_[p+1]=255&(a>>>=8)}function P(_,a){return _[a]*Math.pow(2,24)+_[a+1]*Math.pow(2,16)+_[a+2]*Math.pow(2,8)+_[a+3]}function A(_,a,p){_[p+3]=a,_[p+2]=a>>>=8,_[p+1]=a>>>=8,_[p]=a>>>=8}function k(_,a){return _[a]}function N(_,a,p){_[p]=a}},39086:(at,ue,e)=>{"use strict";e.d(ue,{b:()=>s,t:()=>f});class f{constructor(M){this.fn=M,this.lastCache=void 0,this.lastArgKey=void 0}get(M){const u=JSON.stringify(M);return this.lastArgKey!==u&&(this.lastArgKey=u,this.lastCache=this.fn(M)),this.lastCache}}class s{constructor(M){this.fn=M,this._map=new Map}get cachedValues(){return this._map}get(M){if(this._map.has(M))return this._map.get(M);const u=this.fn(M);return this._map.set(M,u),u}}},80152:(at,ue,e)=>{"use strict";e.d(ue,{A:()=>u,T:()=>L});var f=e(52787);const s=Object.freeze(function(P,A){const k=setTimeout(P.bind(A),0);return{dispose(){clearTimeout(k)}}});var L,P;(P=L||(L={})).isCancellationToken=function A(k){return k===P.None||k===P.Cancelled||k instanceof M||!(!k||"object"!=typeof k)&&"boolean"==typeof k.isCancellationRequested&&"function"==typeof k.onCancellationRequested},P.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:f.ju.None}),P.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:s});class M{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?s:(this._emitter||(this._emitter=new f.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class u{constructor(A){this._token=void 0,this._parentListener=void 0,this._parentListener=A&&A.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new M),this._token}cancel(){this._token?this._token instanceof M&&this._token.cancel():this._token=L.Cancelled}dispose(A=!1){A&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof M&&this._token.dispose():this._token=L.None}}},2450:(at,ue,e)=>{"use strict";function f(M){return M?M.replace(/\$\((.*?)\)/g,(u,P)=>` ${P} `).trim():""}e.d(ue,{JL:()=>f,dT:()=>L,lA:()=>s});class s{constructor(u,P,A){this.id=u,this.definition=P,this.description=A,s._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return s._allCodicons}}var L;s._allCodicons=[],s.add=new s("add",{fontCharacter:"\\ea60"}),s.plus=new s("plus",s.add.definition),s.gistNew=new s("gist-new",s.add.definition),s.repoCreate=new s("repo-create",s.add.definition),s.lightbulb=new s("lightbulb",{fontCharacter:"\\ea61"}),s.lightBulb=new s("light-bulb",{fontCharacter:"\\ea61"}),s.repo=new s("repo",{fontCharacter:"\\ea62"}),s.repoDelete=new s("repo-delete",{fontCharacter:"\\ea62"}),s.gistFork=new s("gist-fork",{fontCharacter:"\\ea63"}),s.repoForked=new s("repo-forked",{fontCharacter:"\\ea63"}),s.gitPullRequest=new s("git-pull-request",{fontCharacter:"\\ea64"}),s.gitPullRequestAbandoned=new s("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),s.recordKeys=new s("record-keys",{fontCharacter:"\\ea65"}),s.keyboard=new s("keyboard",{fontCharacter:"\\ea65"}),s.tag=new s("tag",{fontCharacter:"\\ea66"}),s.tagAdd=new s("tag-add",{fontCharacter:"\\ea66"}),s.tagRemove=new s("tag-remove",{fontCharacter:"\\ea66"}),s.person=new s("person",{fontCharacter:"\\ea67"}),s.personFollow=new s("person-follow",{fontCharacter:"\\ea67"}),s.personOutline=new s("person-outline",{fontCharacter:"\\ea67"}),s.personFilled=new s("person-filled",{fontCharacter:"\\ea67"}),s.gitBranch=new s("git-branch",{fontCharacter:"\\ea68"}),s.gitBranchCreate=new s("git-branch-create",{fontCharacter:"\\ea68"}),s.gitBranchDelete=new s("git-branch-delete",{fontCharacter:"\\ea68"}),s.sourceControl=new s("source-control",{fontCharacter:"\\ea68"}),s.mirror=new s("mirror",{fontCharacter:"\\ea69"}),s.mirrorPublic=new s("mirror-public",{fontCharacter:"\\ea69"}),s.star=new s("star",{fontCharacter:"\\ea6a"}),s.starAdd=new s("star-add",{fontCharacter:"\\ea6a"}),s.starDelete=new s("star-delete",{fontCharacter:"\\ea6a"}),s.starEmpty=new s("star-empty",{fontCharacter:"\\ea6a"}),s.comment=new s("comment",{fontCharacter:"\\ea6b"}),s.commentAdd=new s("comment-add",{fontCharacter:"\\ea6b"}),s.alert=new s("alert",{fontCharacter:"\\ea6c"}),s.warning=new s("warning",{fontCharacter:"\\ea6c"}),s.search=new s("search",{fontCharacter:"\\ea6d"}),s.searchSave=new s("search-save",{fontCharacter:"\\ea6d"}),s.logOut=new s("log-out",{fontCharacter:"\\ea6e"}),s.signOut=new s("sign-out",{fontCharacter:"\\ea6e"}),s.logIn=new s("log-in",{fontCharacter:"\\ea6f"}),s.signIn=new s("sign-in",{fontCharacter:"\\ea6f"}),s.eye=new s("eye",{fontCharacter:"\\ea70"}),s.eyeUnwatch=new s("eye-unwatch",{fontCharacter:"\\ea70"}),s.eyeWatch=new s("eye-watch",{fontCharacter:"\\ea70"}),s.circleFilled=new s("circle-filled",{fontCharacter:"\\ea71"}),s.primitiveDot=new s("primitive-dot",{fontCharacter:"\\ea71"}),s.closeDirty=new s("close-dirty",{fontCharacter:"\\ea71"}),s.debugBreakpoint=new s("debug-breakpoint",{fontCharacter:"\\ea71"}),s.debugBreakpointDisabled=new s("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),s.debugHint=new s("debug-hint",{fontCharacter:"\\ea71"}),s.primitiveSquare=new s("primitive-square",{fontCharacter:"\\ea72"}),s.edit=new s("edit",{fontCharacter:"\\ea73"}),s.pencil=new s("pencil",{fontCharacter:"\\ea73"}),s.info=new s("info",{fontCharacter:"\\ea74"}),s.issueOpened=new s("issue-opened",{fontCharacter:"\\ea74"}),s.gistPrivate=new s("gist-private",{fontCharacter:"\\ea75"}),s.gitForkPrivate=new s("git-fork-private",{fontCharacter:"\\ea75"}),s.lock=new s("lock",{fontCharacter:"\\ea75"}),s.mirrorPrivate=new s("mirror-private",{fontCharacter:"\\ea75"}),s.close=new s("close",{fontCharacter:"\\ea76"}),s.removeClose=new s("remove-close",{fontCharacter:"\\ea76"}),s.x=new s("x",{fontCharacter:"\\ea76"}),s.repoSync=new s("repo-sync",{fontCharacter:"\\ea77"}),s.sync=new s("sync",{fontCharacter:"\\ea77"}),s.clone=new s("clone",{fontCharacter:"\\ea78"}),s.desktopDownload=new s("desktop-download",{fontCharacter:"\\ea78"}),s.beaker=new s("beaker",{fontCharacter:"\\ea79"}),s.microscope=new s("microscope",{fontCharacter:"\\ea79"}),s.vm=new s("vm",{fontCharacter:"\\ea7a"}),s.deviceDesktop=new s("device-desktop",{fontCharacter:"\\ea7a"}),s.file=new s("file",{fontCharacter:"\\ea7b"}),s.fileText=new s("file-text",{fontCharacter:"\\ea7b"}),s.more=new s("more",{fontCharacter:"\\ea7c"}),s.ellipsis=new s("ellipsis",{fontCharacter:"\\ea7c"}),s.kebabHorizontal=new s("kebab-horizontal",{fontCharacter:"\\ea7c"}),s.mailReply=new s("mail-reply",{fontCharacter:"\\ea7d"}),s.reply=new s("reply",{fontCharacter:"\\ea7d"}),s.organization=new s("organization",{fontCharacter:"\\ea7e"}),s.organizationFilled=new s("organization-filled",{fontCharacter:"\\ea7e"}),s.organizationOutline=new s("organization-outline",{fontCharacter:"\\ea7e"}),s.newFile=new s("new-file",{fontCharacter:"\\ea7f"}),s.fileAdd=new s("file-add",{fontCharacter:"\\ea7f"}),s.newFolder=new s("new-folder",{fontCharacter:"\\ea80"}),s.fileDirectoryCreate=new s("file-directory-create",{fontCharacter:"\\ea80"}),s.trash=new s("trash",{fontCharacter:"\\ea81"}),s.trashcan=new s("trashcan",{fontCharacter:"\\ea81"}),s.history=new s("history",{fontCharacter:"\\ea82"}),s.clock=new s("clock",{fontCharacter:"\\ea82"}),s.folder=new s("folder",{fontCharacter:"\\ea83"}),s.fileDirectory=new s("file-directory",{fontCharacter:"\\ea83"}),s.symbolFolder=new s("symbol-folder",{fontCharacter:"\\ea83"}),s.logoGithub=new s("logo-github",{fontCharacter:"\\ea84"}),s.markGithub=new s("mark-github",{fontCharacter:"\\ea84"}),s.github=new s("github",{fontCharacter:"\\ea84"}),s.terminal=new s("terminal",{fontCharacter:"\\ea85"}),s.console=new s("console",{fontCharacter:"\\ea85"}),s.repl=new s("repl",{fontCharacter:"\\ea85"}),s.zap=new s("zap",{fontCharacter:"\\ea86"}),s.symbolEvent=new s("symbol-event",{fontCharacter:"\\ea86"}),s.error=new s("error",{fontCharacter:"\\ea87"}),s.stop=new s("stop",{fontCharacter:"\\ea87"}),s.variable=new s("variable",{fontCharacter:"\\ea88"}),s.symbolVariable=new s("symbol-variable",{fontCharacter:"\\ea88"}),s.array=new s("array",{fontCharacter:"\\ea8a"}),s.symbolArray=new s("symbol-array",{fontCharacter:"\\ea8a"}),s.symbolModule=new s("symbol-module",{fontCharacter:"\\ea8b"}),s.symbolPackage=new s("symbol-package",{fontCharacter:"\\ea8b"}),s.symbolNamespace=new s("symbol-namespace",{fontCharacter:"\\ea8b"}),s.symbolObject=new s("symbol-object",{fontCharacter:"\\ea8b"}),s.symbolMethod=new s("symbol-method",{fontCharacter:"\\ea8c"}),s.symbolFunction=new s("symbol-function",{fontCharacter:"\\ea8c"}),s.symbolConstructor=new s("symbol-constructor",{fontCharacter:"\\ea8c"}),s.symbolBoolean=new s("symbol-boolean",{fontCharacter:"\\ea8f"}),s.symbolNull=new s("symbol-null",{fontCharacter:"\\ea8f"}),s.symbolNumeric=new s("symbol-numeric",{fontCharacter:"\\ea90"}),s.symbolNumber=new s("symbol-number",{fontCharacter:"\\ea90"}),s.symbolStructure=new s("symbol-structure",{fontCharacter:"\\ea91"}),s.symbolStruct=new s("symbol-struct",{fontCharacter:"\\ea91"}),s.symbolParameter=new s("symbol-parameter",{fontCharacter:"\\ea92"}),s.symbolTypeParameter=new s("symbol-type-parameter",{fontCharacter:"\\ea92"}),s.symbolKey=new s("symbol-key",{fontCharacter:"\\ea93"}),s.symbolText=new s("symbol-text",{fontCharacter:"\\ea93"}),s.symbolReference=new s("symbol-reference",{fontCharacter:"\\ea94"}),s.goToFile=new s("go-to-file",{fontCharacter:"\\ea94"}),s.symbolEnum=new s("symbol-enum",{fontCharacter:"\\ea95"}),s.symbolValue=new s("symbol-value",{fontCharacter:"\\ea95"}),s.symbolRuler=new s("symbol-ruler",{fontCharacter:"\\ea96"}),s.symbolUnit=new s("symbol-unit",{fontCharacter:"\\ea96"}),s.activateBreakpoints=new s("activate-breakpoints",{fontCharacter:"\\ea97"}),s.archive=new s("archive",{fontCharacter:"\\ea98"}),s.arrowBoth=new s("arrow-both",{fontCharacter:"\\ea99"}),s.arrowDown=new s("arrow-down",{fontCharacter:"\\ea9a"}),s.arrowLeft=new s("arrow-left",{fontCharacter:"\\ea9b"}),s.arrowRight=new s("arrow-right",{fontCharacter:"\\ea9c"}),s.arrowSmallDown=new s("arrow-small-down",{fontCharacter:"\\ea9d"}),s.arrowSmallLeft=new s("arrow-small-left",{fontCharacter:"\\ea9e"}),s.arrowSmallRight=new s("arrow-small-right",{fontCharacter:"\\ea9f"}),s.arrowSmallUp=new s("arrow-small-up",{fontCharacter:"\\eaa0"}),s.arrowUp=new s("arrow-up",{fontCharacter:"\\eaa1"}),s.bell=new s("bell",{fontCharacter:"\\eaa2"}),s.bold=new s("bold",{fontCharacter:"\\eaa3"}),s.book=new s("book",{fontCharacter:"\\eaa4"}),s.bookmark=new s("bookmark",{fontCharacter:"\\eaa5"}),s.debugBreakpointConditionalUnverified=new s("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),s.debugBreakpointConditional=new s("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),s.debugBreakpointConditionalDisabled=new s("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),s.debugBreakpointDataUnverified=new s("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),s.debugBreakpointData=new s("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),s.debugBreakpointDataDisabled=new s("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),s.debugBreakpointLogUnverified=new s("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),s.debugBreakpointLog=new s("debug-breakpoint-log",{fontCharacter:"\\eaab"}),s.debugBreakpointLogDisabled=new s("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),s.briefcase=new s("briefcase",{fontCharacter:"\\eaac"}),s.broadcast=new s("broadcast",{fontCharacter:"\\eaad"}),s.browser=new s("browser",{fontCharacter:"\\eaae"}),s.bug=new s("bug",{fontCharacter:"\\eaaf"}),s.calendar=new s("calendar",{fontCharacter:"\\eab0"}),s.caseSensitive=new s("case-sensitive",{fontCharacter:"\\eab1"}),s.check=new s("check",{fontCharacter:"\\eab2"}),s.checklist=new s("checklist",{fontCharacter:"\\eab3"}),s.chevronDown=new s("chevron-down",{fontCharacter:"\\eab4"}),s.dropDownButton=new s("drop-down-button",s.chevronDown.definition),s.chevronLeft=new s("chevron-left",{fontCharacter:"\\eab5"}),s.chevronRight=new s("chevron-right",{fontCharacter:"\\eab6"}),s.chevronUp=new s("chevron-up",{fontCharacter:"\\eab7"}),s.chromeClose=new s("chrome-close",{fontCharacter:"\\eab8"}),s.chromeMaximize=new s("chrome-maximize",{fontCharacter:"\\eab9"}),s.chromeMinimize=new s("chrome-minimize",{fontCharacter:"\\eaba"}),s.chromeRestore=new s("chrome-restore",{fontCharacter:"\\eabb"}),s.circleOutline=new s("circle-outline",{fontCharacter:"\\eabc"}),s.debugBreakpointUnverified=new s("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),s.circleSlash=new s("circle-slash",{fontCharacter:"\\eabd"}),s.circuitBoard=new s("circuit-board",{fontCharacter:"\\eabe"}),s.clearAll=new s("clear-all",{fontCharacter:"\\eabf"}),s.clippy=new s("clippy",{fontCharacter:"\\eac0"}),s.closeAll=new s("close-all",{fontCharacter:"\\eac1"}),s.cloudDownload=new s("cloud-download",{fontCharacter:"\\eac2"}),s.cloudUpload=new s("cloud-upload",{fontCharacter:"\\eac3"}),s.code=new s("code",{fontCharacter:"\\eac4"}),s.collapseAll=new s("collapse-all",{fontCharacter:"\\eac5"}),s.colorMode=new s("color-mode",{fontCharacter:"\\eac6"}),s.commentDiscussion=new s("comment-discussion",{fontCharacter:"\\eac7"}),s.compareChanges=new s("compare-changes",{fontCharacter:"\\eafd"}),s.creditCard=new s("credit-card",{fontCharacter:"\\eac9"}),s.dash=new s("dash",{fontCharacter:"\\eacc"}),s.dashboard=new s("dashboard",{fontCharacter:"\\eacd"}),s.database=new s("database",{fontCharacter:"\\eace"}),s.debugContinue=new s("debug-continue",{fontCharacter:"\\eacf"}),s.debugDisconnect=new s("debug-disconnect",{fontCharacter:"\\ead0"}),s.debugPause=new s("debug-pause",{fontCharacter:"\\ead1"}),s.debugRestart=new s("debug-restart",{fontCharacter:"\\ead2"}),s.debugStart=new s("debug-start",{fontCharacter:"\\ead3"}),s.debugStepInto=new s("debug-step-into",{fontCharacter:"\\ead4"}),s.debugStepOut=new s("debug-step-out",{fontCharacter:"\\ead5"}),s.debugStepOver=new s("debug-step-over",{fontCharacter:"\\ead6"}),s.debugStop=new s("debug-stop",{fontCharacter:"\\ead7"}),s.debug=new s("debug",{fontCharacter:"\\ead8"}),s.deviceCameraVideo=new s("device-camera-video",{fontCharacter:"\\ead9"}),s.deviceCamera=new s("device-camera",{fontCharacter:"\\eada"}),s.deviceMobile=new s("device-mobile",{fontCharacter:"\\eadb"}),s.diffAdded=new s("diff-added",{fontCharacter:"\\eadc"}),s.diffIgnored=new s("diff-ignored",{fontCharacter:"\\eadd"}),s.diffModified=new s("diff-modified",{fontCharacter:"\\eade"}),s.diffRemoved=new s("diff-removed",{fontCharacter:"\\eadf"}),s.diffRenamed=new s("diff-renamed",{fontCharacter:"\\eae0"}),s.diff=new s("diff",{fontCharacter:"\\eae1"}),s.discard=new s("discard",{fontCharacter:"\\eae2"}),s.editorLayout=new s("editor-layout",{fontCharacter:"\\eae3"}),s.emptyWindow=new s("empty-window",{fontCharacter:"\\eae4"}),s.exclude=new s("exclude",{fontCharacter:"\\eae5"}),s.extensions=new s("extensions",{fontCharacter:"\\eae6"}),s.eyeClosed=new s("eye-closed",{fontCharacter:"\\eae7"}),s.fileBinary=new s("file-binary",{fontCharacter:"\\eae8"}),s.fileCode=new s("file-code",{fontCharacter:"\\eae9"}),s.fileMedia=new s("file-media",{fontCharacter:"\\eaea"}),s.filePdf=new s("file-pdf",{fontCharacter:"\\eaeb"}),s.fileSubmodule=new s("file-submodule",{fontCharacter:"\\eaec"}),s.fileSymlinkDirectory=new s("file-symlink-directory",{fontCharacter:"\\eaed"}),s.fileSymlinkFile=new s("file-symlink-file",{fontCharacter:"\\eaee"}),s.fileZip=new s("file-zip",{fontCharacter:"\\eaef"}),s.files=new s("files",{fontCharacter:"\\eaf0"}),s.filter=new s("filter",{fontCharacter:"\\eaf1"}),s.flame=new s("flame",{fontCharacter:"\\eaf2"}),s.foldDown=new s("fold-down",{fontCharacter:"\\eaf3"}),s.foldUp=new s("fold-up",{fontCharacter:"\\eaf4"}),s.fold=new s("fold",{fontCharacter:"\\eaf5"}),s.folderActive=new s("folder-active",{fontCharacter:"\\eaf6"}),s.folderOpened=new s("folder-opened",{fontCharacter:"\\eaf7"}),s.gear=new s("gear",{fontCharacter:"\\eaf8"}),s.gift=new s("gift",{fontCharacter:"\\eaf9"}),s.gistSecret=new s("gist-secret",{fontCharacter:"\\eafa"}),s.gist=new s("gist",{fontCharacter:"\\eafb"}),s.gitCommit=new s("git-commit",{fontCharacter:"\\eafc"}),s.gitCompare=new s("git-compare",{fontCharacter:"\\eafd"}),s.gitMerge=new s("git-merge",{fontCharacter:"\\eafe"}),s.githubAction=new s("github-action",{fontCharacter:"\\eaff"}),s.githubAlt=new s("github-alt",{fontCharacter:"\\eb00"}),s.globe=new s("globe",{fontCharacter:"\\eb01"}),s.grabber=new s("grabber",{fontCharacter:"\\eb02"}),s.graph=new s("graph",{fontCharacter:"\\eb03"}),s.gripper=new s("gripper",{fontCharacter:"\\eb04"}),s.heart=new s("heart",{fontCharacter:"\\eb05"}),s.home=new s("home",{fontCharacter:"\\eb06"}),s.horizontalRule=new s("horizontal-rule",{fontCharacter:"\\eb07"}),s.hubot=new s("hubot",{fontCharacter:"\\eb08"}),s.inbox=new s("inbox",{fontCharacter:"\\eb09"}),s.issueClosed=new s("issue-closed",{fontCharacter:"\\eba4"}),s.issueReopened=new s("issue-reopened",{fontCharacter:"\\eb0b"}),s.issues=new s("issues",{fontCharacter:"\\eb0c"}),s.italic=new s("italic",{fontCharacter:"\\eb0d"}),s.jersey=new s("jersey",{fontCharacter:"\\eb0e"}),s.json=new s("json",{fontCharacter:"\\eb0f"}),s.kebabVertical=new s("kebab-vertical",{fontCharacter:"\\eb10"}),s.key=new s("key",{fontCharacter:"\\eb11"}),s.law=new s("law",{fontCharacter:"\\eb12"}),s.lightbulbAutofix=new s("lightbulb-autofix",{fontCharacter:"\\eb13"}),s.linkExternal=new s("link-external",{fontCharacter:"\\eb14"}),s.link=new s("link",{fontCharacter:"\\eb15"}),s.listOrdered=new s("list-ordered",{fontCharacter:"\\eb16"}),s.listUnordered=new s("list-unordered",{fontCharacter:"\\eb17"}),s.liveShare=new s("live-share",{fontCharacter:"\\eb18"}),s.loading=new s("loading",{fontCharacter:"\\eb19"}),s.location=new s("location",{fontCharacter:"\\eb1a"}),s.mailRead=new s("mail-read",{fontCharacter:"\\eb1b"}),s.mail=new s("mail",{fontCharacter:"\\eb1c"}),s.markdown=new s("markdown",{fontCharacter:"\\eb1d"}),s.megaphone=new s("megaphone",{fontCharacter:"\\eb1e"}),s.mention=new s("mention",{fontCharacter:"\\eb1f"}),s.milestone=new s("milestone",{fontCharacter:"\\eb20"}),s.mortarBoard=new s("mortar-board",{fontCharacter:"\\eb21"}),s.move=new s("move",{fontCharacter:"\\eb22"}),s.multipleWindows=new s("multiple-windows",{fontCharacter:"\\eb23"}),s.mute=new s("mute",{fontCharacter:"\\eb24"}),s.noNewline=new s("no-newline",{fontCharacter:"\\eb25"}),s.note=new s("note",{fontCharacter:"\\eb26"}),s.octoface=new s("octoface",{fontCharacter:"\\eb27"}),s.openPreview=new s("open-preview",{fontCharacter:"\\eb28"}),s.package_=new s("package",{fontCharacter:"\\eb29"}),s.paintcan=new s("paintcan",{fontCharacter:"\\eb2a"}),s.pin=new s("pin",{fontCharacter:"\\eb2b"}),s.play=new s("play",{fontCharacter:"\\eb2c"}),s.run=new s("run",{fontCharacter:"\\eb2c"}),s.plug=new s("plug",{fontCharacter:"\\eb2d"}),s.preserveCase=new s("preserve-case",{fontCharacter:"\\eb2e"}),s.preview=new s("preview",{fontCharacter:"\\eb2f"}),s.project=new s("project",{fontCharacter:"\\eb30"}),s.pulse=new s("pulse",{fontCharacter:"\\eb31"}),s.question=new s("question",{fontCharacter:"\\eb32"}),s.quote=new s("quote",{fontCharacter:"\\eb33"}),s.radioTower=new s("radio-tower",{fontCharacter:"\\eb34"}),s.reactions=new s("reactions",{fontCharacter:"\\eb35"}),s.references=new s("references",{fontCharacter:"\\eb36"}),s.refresh=new s("refresh",{fontCharacter:"\\eb37"}),s.regex=new s("regex",{fontCharacter:"\\eb38"}),s.remoteExplorer=new s("remote-explorer",{fontCharacter:"\\eb39"}),s.remote=new s("remote",{fontCharacter:"\\eb3a"}),s.remove=new s("remove",{fontCharacter:"\\eb3b"}),s.replaceAll=new s("replace-all",{fontCharacter:"\\eb3c"}),s.replace=new s("replace",{fontCharacter:"\\eb3d"}),s.repoClone=new s("repo-clone",{fontCharacter:"\\eb3e"}),s.repoForcePush=new s("repo-force-push",{fontCharacter:"\\eb3f"}),s.repoPull=new s("repo-pull",{fontCharacter:"\\eb40"}),s.repoPush=new s("repo-push",{fontCharacter:"\\eb41"}),s.report=new s("report",{fontCharacter:"\\eb42"}),s.requestChanges=new s("request-changes",{fontCharacter:"\\eb43"}),s.rocket=new s("rocket",{fontCharacter:"\\eb44"}),s.rootFolderOpened=new s("root-folder-opened",{fontCharacter:"\\eb45"}),s.rootFolder=new s("root-folder",{fontCharacter:"\\eb46"}),s.rss=new s("rss",{fontCharacter:"\\eb47"}),s.ruby=new s("ruby",{fontCharacter:"\\eb48"}),s.saveAll=new s("save-all",{fontCharacter:"\\eb49"}),s.saveAs=new s("save-as",{fontCharacter:"\\eb4a"}),s.save=new s("save",{fontCharacter:"\\eb4b"}),s.screenFull=new s("screen-full",{fontCharacter:"\\eb4c"}),s.screenNormal=new s("screen-normal",{fontCharacter:"\\eb4d"}),s.searchStop=new s("search-stop",{fontCharacter:"\\eb4e"}),s.server=new s("server",{fontCharacter:"\\eb50"}),s.settingsGear=new s("settings-gear",{fontCharacter:"\\eb51"}),s.settings=new s("settings",{fontCharacter:"\\eb52"}),s.shield=new s("shield",{fontCharacter:"\\eb53"}),s.smiley=new s("smiley",{fontCharacter:"\\eb54"}),s.sortPrecedence=new s("sort-precedence",{fontCharacter:"\\eb55"}),s.splitHorizontal=new s("split-horizontal",{fontCharacter:"\\eb56"}),s.splitVertical=new s("split-vertical",{fontCharacter:"\\eb57"}),s.squirrel=new s("squirrel",{fontCharacter:"\\eb58"}),s.starFull=new s("star-full",{fontCharacter:"\\eb59"}),s.starHalf=new s("star-half",{fontCharacter:"\\eb5a"}),s.symbolClass=new s("symbol-class",{fontCharacter:"\\eb5b"}),s.symbolColor=new s("symbol-color",{fontCharacter:"\\eb5c"}),s.symbolCustomColor=new s("symbol-customcolor",{fontCharacter:"\\eb5c"}),s.symbolConstant=new s("symbol-constant",{fontCharacter:"\\eb5d"}),s.symbolEnumMember=new s("symbol-enum-member",{fontCharacter:"\\eb5e"}),s.symbolField=new s("symbol-field",{fontCharacter:"\\eb5f"}),s.symbolFile=new s("symbol-file",{fontCharacter:"\\eb60"}),s.symbolInterface=new s("symbol-interface",{fontCharacter:"\\eb61"}),s.symbolKeyword=new s("symbol-keyword",{fontCharacter:"\\eb62"}),s.symbolMisc=new s("symbol-misc",{fontCharacter:"\\eb63"}),s.symbolOperator=new s("symbol-operator",{fontCharacter:"\\eb64"}),s.symbolProperty=new s("symbol-property",{fontCharacter:"\\eb65"}),s.wrench=new s("wrench",{fontCharacter:"\\eb65"}),s.wrenchSubaction=new s("wrench-subaction",{fontCharacter:"\\eb65"}),s.symbolSnippet=new s("symbol-snippet",{fontCharacter:"\\eb66"}),s.tasklist=new s("tasklist",{fontCharacter:"\\eb67"}),s.telescope=new s("telescope",{fontCharacter:"\\eb68"}),s.textSize=new s("text-size",{fontCharacter:"\\eb69"}),s.threeBars=new s("three-bars",{fontCharacter:"\\eb6a"}),s.thumbsdown=new s("thumbsdown",{fontCharacter:"\\eb6b"}),s.thumbsup=new s("thumbsup",{fontCharacter:"\\eb6c"}),s.tools=new s("tools",{fontCharacter:"\\eb6d"}),s.triangleDown=new s("triangle-down",{fontCharacter:"\\eb6e"}),s.triangleLeft=new s("triangle-left",{fontCharacter:"\\eb6f"}),s.triangleRight=new s("triangle-right",{fontCharacter:"\\eb70"}),s.triangleUp=new s("triangle-up",{fontCharacter:"\\eb71"}),s.twitter=new s("twitter",{fontCharacter:"\\eb72"}),s.unfold=new s("unfold",{fontCharacter:"\\eb73"}),s.unlock=new s("unlock",{fontCharacter:"\\eb74"}),s.unmute=new s("unmute",{fontCharacter:"\\eb75"}),s.unverified=new s("unverified",{fontCharacter:"\\eb76"}),s.verified=new s("verified",{fontCharacter:"\\eb77"}),s.versions=new s("versions",{fontCharacter:"\\eb78"}),s.vmActive=new s("vm-active",{fontCharacter:"\\eb79"}),s.vmOutline=new s("vm-outline",{fontCharacter:"\\eb7a"}),s.vmRunning=new s("vm-running",{fontCharacter:"\\eb7b"}),s.watch=new s("watch",{fontCharacter:"\\eb7c"}),s.whitespace=new s("whitespace",{fontCharacter:"\\eb7d"}),s.wholeWord=new s("whole-word",{fontCharacter:"\\eb7e"}),s.window=new s("window",{fontCharacter:"\\eb7f"}),s.wordWrap=new s("word-wrap",{fontCharacter:"\\eb80"}),s.zoomIn=new s("zoom-in",{fontCharacter:"\\eb81"}),s.zoomOut=new s("zoom-out",{fontCharacter:"\\eb82"}),s.listFilter=new s("list-filter",{fontCharacter:"\\eb83"}),s.listFlat=new s("list-flat",{fontCharacter:"\\eb84"}),s.listSelection=new s("list-selection",{fontCharacter:"\\eb85"}),s.selection=new s("selection",{fontCharacter:"\\eb85"}),s.listTree=new s("list-tree",{fontCharacter:"\\eb86"}),s.debugBreakpointFunctionUnverified=new s("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),s.debugBreakpointFunction=new s("debug-breakpoint-function",{fontCharacter:"\\eb88"}),s.debugBreakpointFunctionDisabled=new s("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),s.debugStackframeActive=new s("debug-stackframe-active",{fontCharacter:"\\eb89"}),s.circleSmallFilled=new s("circle-small-filled",{fontCharacter:"\\eb8a"}),s.debugStackframeDot=new s("debug-stackframe-dot",s.circleSmallFilled.definition),s.debugStackframe=new s("debug-stackframe",{fontCharacter:"\\eb8b"}),s.debugStackframeFocused=new s("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),s.debugBreakpointUnsupported=new s("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),s.symbolString=new s("symbol-string",{fontCharacter:"\\eb8d"}),s.debugReverseContinue=new s("debug-reverse-continue",{fontCharacter:"\\eb8e"}),s.debugStepBack=new s("debug-step-back",{fontCharacter:"\\eb8f"}),s.debugRestartFrame=new s("debug-restart-frame",{fontCharacter:"\\eb90"}),s.callIncoming=new s("call-incoming",{fontCharacter:"\\eb92"}),s.callOutgoing=new s("call-outgoing",{fontCharacter:"\\eb93"}),s.menu=new s("menu",{fontCharacter:"\\eb94"}),s.expandAll=new s("expand-all",{fontCharacter:"\\eb95"}),s.feedback=new s("feedback",{fontCharacter:"\\eb96"}),s.groupByRefType=new s("group-by-ref-type",{fontCharacter:"\\eb97"}),s.ungroupByRefType=new s("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),s.account=new s("account",{fontCharacter:"\\eb99"}),s.bellDot=new s("bell-dot",{fontCharacter:"\\eb9a"}),s.debugConsole=new s("debug-console",{fontCharacter:"\\eb9b"}),s.library=new s("library",{fontCharacter:"\\eb9c"}),s.output=new s("output",{fontCharacter:"\\eb9d"}),s.runAll=new s("run-all",{fontCharacter:"\\eb9e"}),s.syncIgnored=new s("sync-ignored",{fontCharacter:"\\eb9f"}),s.pinned=new s("pinned",{fontCharacter:"\\eba0"}),s.githubInverted=new s("github-inverted",{fontCharacter:"\\eba1"}),s.debugAlt=new s("debug-alt",{fontCharacter:"\\eb91"}),s.serverProcess=new s("server-process",{fontCharacter:"\\eba2"}),s.serverEnvironment=new s("server-environment",{fontCharacter:"\\eba3"}),s.pass=new s("pass",{fontCharacter:"\\eba4"}),s.stopCircle=new s("stop-circle",{fontCharacter:"\\eba5"}),s.playCircle=new s("play-circle",{fontCharacter:"\\eba6"}),s.record=new s("record",{fontCharacter:"\\eba7"}),s.debugAltSmall=new s("debug-alt-small",{fontCharacter:"\\eba8"}),s.vmConnect=new s("vm-connect",{fontCharacter:"\\eba9"}),s.cloud=new s("cloud",{fontCharacter:"\\ebaa"}),s.merge=new s("merge",{fontCharacter:"\\ebab"}),s.exportIcon=new s("export",{fontCharacter:"\\ebac"}),s.graphLeft=new s("graph-left",{fontCharacter:"\\ebad"}),s.magnet=new s("magnet",{fontCharacter:"\\ebae"}),s.notebook=new s("notebook",{fontCharacter:"\\ebaf"}),s.redo=new s("redo",{fontCharacter:"\\ebb0"}),s.checkAll=new s("check-all",{fontCharacter:"\\ebb1"}),s.pinnedDirty=new s("pinned-dirty",{fontCharacter:"\\ebb2"}),s.passFilled=new s("pass-filled",{fontCharacter:"\\ebb3"}),s.circleLargeFilled=new s("circle-large-filled",{fontCharacter:"\\ebb4"}),s.circleLargeOutline=new s("circle-large-outline",{fontCharacter:"\\ebb5"}),s.combine=new s("combine",{fontCharacter:"\\ebb6"}),s.gather=new s("gather",{fontCharacter:"\\ebb6"}),s.table=new s("table",{fontCharacter:"\\ebb7"}),s.variableGroup=new s("variable-group",{fontCharacter:"\\ebb8"}),s.typeHierarchy=new s("type-hierarchy",{fontCharacter:"\\ebb9"}),s.typeHierarchySub=new s("type-hierarchy-sub",{fontCharacter:"\\ebba"}),s.typeHierarchySuper=new s("type-hierarchy-super",{fontCharacter:"\\ebbb"}),s.gitPullRequestCreate=new s("git-pull-request-create",{fontCharacter:"\\ebbc"}),s.runAbove=new s("run-above",{fontCharacter:"\\ebbd"}),s.runBelow=new s("run-below",{fontCharacter:"\\ebbe"}),s.notebookTemplate=new s("notebook-template",{fontCharacter:"\\ebbf"}),s.debugRerun=new s("debug-rerun",{fontCharacter:"\\ebc0"}),s.workspaceTrusted=new s("workspace-trusted",{fontCharacter:"\\ebc1"}),s.workspaceUntrusted=new s("workspace-untrusted",{fontCharacter:"\\ebc2"}),s.workspaceUnspecified=new s("workspace-unspecified",{fontCharacter:"\\ebc3"}),s.terminalCmd=new s("terminal-cmd",{fontCharacter:"\\ebc4"}),s.terminalDebian=new s("terminal-debian",{fontCharacter:"\\ebc5"}),s.terminalLinux=new s("terminal-linux",{fontCharacter:"\\ebc6"}),s.terminalPowershell=new s("terminal-powershell",{fontCharacter:"\\ebc7"}),s.terminalTmux=new s("terminal-tmux",{fontCharacter:"\\ebc8"}),s.terminalUbuntu=new s("terminal-ubuntu",{fontCharacter:"\\ebc9"}),s.terminalBash=new s("terminal-bash",{fontCharacter:"\\ebca"}),s.arrowSwap=new s("arrow-swap",{fontCharacter:"\\ebcb"}),s.copy=new s("copy",{fontCharacter:"\\ebcc"}),s.personAdd=new s("person-add",{fontCharacter:"\\ebcd"}),s.filterFilled=new s("filter-filled",{fontCharacter:"\\ebce"}),s.wand=new s("wand",{fontCharacter:"\\ebcf"}),s.debugLineByLine=new s("debug-line-by-line",{fontCharacter:"\\ebd0"}),s.inspect=new s("inspect",{fontCharacter:"\\ebd1"}),s.layers=new s("layers",{fontCharacter:"\\ebd2"}),s.layersDot=new s("layers-dot",{fontCharacter:"\\ebd3"}),s.layersActive=new s("layers-active",{fontCharacter:"\\ebd4"}),s.compass=new s("compass",{fontCharacter:"\\ebd5"}),s.compassDot=new s("compass-dot",{fontCharacter:"\\ebd6"}),s.compassActive=new s("compass-active",{fontCharacter:"\\ebd7"}),s.azure=new s("azure",{fontCharacter:"\\ebd8"}),s.issueDraft=new s("issue-draft",{fontCharacter:"\\ebd9"}),s.gitPullRequestClosed=new s("git-pull-request-closed",{fontCharacter:"\\ebda"}),s.gitPullRequestDraft=new s("git-pull-request-draft",{fontCharacter:"\\ebdb"}),s.debugAll=new s("debug-all",{fontCharacter:"\\ebdc"}),s.debugCoverage=new s("debug-coverage",{fontCharacter:"\\ebdd"}),s.runErrors=new s("run-errors",{fontCharacter:"\\ebde"}),s.folderLibrary=new s("folder-library",{fontCharacter:"\\ebdf"}),s.debugContinueSmall=new s("debug-continue-small",{fontCharacter:"\\ebe0"}),s.beakerStop=new s("beaker-stop",{fontCharacter:"\\ebe1"}),s.graphLine=new s("graph-line",{fontCharacter:"\\ebe2"}),s.graphScatter=new s("graph-scatter",{fontCharacter:"\\ebe3"}),s.pieChart=new s("pie-chart",{fontCharacter:"\\ebe4"}),s.bracket=new s("bracket",s.json.definition),s.bracketDot=new s("bracket-dot",{fontCharacter:"\\ebe5"}),s.bracketError=new s("bracket-error",{fontCharacter:"\\ebe6"}),s.lockSmall=new s("lock-small",{fontCharacter:"\\ebe7"}),s.azureDevops=new s("azure-devops",{fontCharacter:"\\ebe8"}),s.verifiedFilled=new s("verified-filled",{fontCharacter:"\\ebe9"}),s.newLine=new s("newline",{fontCharacter:"\\ebea"}),s.layout=new s("layout",{fontCharacter:"\\ebeb"}),s.layoutActivitybarLeft=new s("layout-activitybar-left",{fontCharacter:"\\ebec"}),s.layoutActivitybarRight=new s("layout-activitybar-right",{fontCharacter:"\\ebed"}),s.layoutPanelLeft=new s("layout-panel-left",{fontCharacter:"\\ebee"}),s.layoutPanelCenter=new s("layout-panel-center",{fontCharacter:"\\ebef"}),s.layoutPanelJustify=new s("layout-panel-justify",{fontCharacter:"\\ebf0"}),s.layoutPanelRight=new s("layout-panel-right",{fontCharacter:"\\ebf1"}),s.layoutPanel=new s("layout-panel",{fontCharacter:"\\ebf2"}),s.layoutSidebarLeft=new s("layout-sidebar-left",{fontCharacter:"\\ebf3"}),s.layoutSidebarRight=new s("layout-sidebar-right",{fontCharacter:"\\ebf4"}),s.layoutStatusbar=new s("layout-statusbar",{fontCharacter:"\\ebf5"}),s.layoutMenubar=new s("layout-menubar",{fontCharacter:"\\ebf6"}),s.layoutCentered=new s("layout-centered",{fontCharacter:"\\ebf7"}),s.layoutSidebarRightOff=new s("layout-sidebar-right-off",{fontCharacter:"\\ec00"}),s.layoutPanelOff=new s("layout-panel-off",{fontCharacter:"\\ec01"}),s.layoutSidebarLeftOff=new s("layout-sidebar-left-off",{fontCharacter:"\\ec02"}),s.target=new s("target",{fontCharacter:"\\ebf8"}),s.indent=new s("indent",{fontCharacter:"\\ebf9"}),s.recordSmall=new s("record-small",{fontCharacter:"\\ebfa"}),s.errorSmall=new s("error-small",{fontCharacter:"\\ebfb"}),s.arrowCircleDown=new s("arrow-circle-down",{fontCharacter:"\\ebfc"}),s.arrowCircleLeft=new s("arrow-circle-left",{fontCharacter:"\\ebfd"}),s.arrowCircleRight=new s("arrow-circle-right",{fontCharacter:"\\ebfe"}),s.arrowCircleUp=new s("arrow-circle-up",{fontCharacter:"\\ebff"}),s.heartFilled=new s("heart-filled",{fontCharacter:"\\ec04"}),s.map=new s("map",{fontCharacter:"\\ec05"}),s.mapFilled=new s("map-filled",{fontCharacter:"\\ec06"}),s.circleSmall=new s("circle-small",{fontCharacter:"\\ec07"}),s.bellSlash=new s("bell-slash",{fontCharacter:"\\ec08"}),s.bellSlashDot=new s("bell-slash-dot",{fontCharacter:"\\ec09"}),s.commentUnresolved=new s("comment-unresolved",{fontCharacter:"\\ec0a"}),s.gitPullRequestGoToChanges=new s("git-pull-request-go-to-changes",{fontCharacter:"\\ec0b"}),s.gitPullRequestNewChanges=new s("git-pull-request-new-changes",{fontCharacter:"\\ec0c"}),s.dialogError=new s("dialog-error",s.error.definition),s.dialogWarning=new s("dialog-warning",s.warning.definition),s.dialogInfo=new s("dialog-info",s.info.definition),s.dialogClose=new s("dialog-close",s.close.definition),s.treeItemExpanded=new s("tree-item-expanded",s.chevronDown.definition),s.treeFilterOnTypeOn=new s("tree-filter-on-type-on",s.listFilter.definition),s.treeFilterOnTypeOff=new s("tree-filter-on-type-off",s.listSelection.definition),s.treeFilterClear=new s("tree-filter-clear",s.close.definition),s.treeItemLoading=new s("tree-item-loading",s.loading.definition),s.menuSelection=new s("menu-selection",s.check.definition),s.menuSubmenu=new s("menu-submenu",s.chevronRight.definition),s.menuBarMore=new s("menubar-more",s.more.definition),s.scrollbarButtonLeft=new s("scrollbar-button-left",s.triangleLeft.definition),s.scrollbarButtonRight=new s("scrollbar-button-right",s.triangleRight.definition),s.scrollbarButtonUp=new s("scrollbar-button-up",s.triangleUp.definition),s.scrollbarButtonDown=new s("scrollbar-button-down",s.triangleDown.definition),s.toolBarMore=new s("toolbar-more",s.more.definition),s.quickInputBack=new s("quick-input-back",s.arrowLeft.definition),function(M){M.iconNameSegment="[A-Za-z0-9]+",M.iconNameExpression="[A-Za-z0-9-]+",M.iconModifierExpression="~[A-Za-z]+",M.iconNameCharacter="[A-Za-z0-9~-]";const u=new RegExp(`^(${M.iconNameExpression})(${M.iconModifierExpression})?$`);function P(N){if(N instanceof s)return["codicon","codicon-"+N.id];const _=u.exec(N.id);if(!_)return P(s.error);const[,a,p]=_,c=["codicon","codicon-"+a];return p&&c.push("codicon-modifier-"+p.substr(1)),c}M.asClassNameArray=P,M.asClassName=function A(N){return P(N).join(" ")},M.asCSSSelector=function k(N){return"."+P(N).join(".")}}(L||(L={}))},68927:(at,ue,e)=>{"use strict";function f(P,A){const k=Math.pow(10,A);return Math.round(P*k)/k}e.d(ue,{Il:()=>u,VS:()=>s,tx:()=>M});class s{constructor(A,k,N,_=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,A)),this.g=0|Math.min(255,Math.max(0,k)),this.b=0|Math.min(255,Math.max(0,N)),this.a=f(Math.max(Math.min(1,_),0),3)}static equals(A,k){return A.r===k.r&&A.g===k.g&&A.b===k.b&&A.a===k.a}}class L{constructor(A,k,N,_){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,A),0),this.s=f(Math.max(Math.min(1,k),0),3),this.l=f(Math.max(Math.min(1,N),0),3),this.a=f(Math.max(Math.min(1,_),0),3)}static equals(A,k){return A.h===k.h&&A.s===k.s&&A.l===k.l&&A.a===k.a}static fromRGBA(A){const k=A.r/255,N=A.g/255,_=A.b/255,a=A.a,p=Math.max(k,N,_),c=Math.min(k,N,_);let n=0,l=0;const v=(c+p)/2,d=p-c;if(d>0){switch(l=Math.min(v<=.5?d/(2*v):d/(2-2*v),1),p){case k:n=(N-_)/d+(N<_?6:0);break;case N:n=(_-k)/d+2;break;case _:n=(k-N)/d+4}n*=60,n=Math.round(n)}return new L(n,l,v,a)}static _hue2rgb(A,k,N){return N<0&&(N+=1),N>1&&(N-=1),N<1/6?A+6*(k-A)*N:N<.5?k:N<2/3?A+(k-A)*(2/3-N)*6:A}static toRGBA(A){const k=A.h/360,{s:N,l:_,a}=A;let p,c,n;if(0===N)p=c=n=_;else{const l=_<.5?_*(1+N):_+N-_*N,v=2*_-l;p=L._hue2rgb(v,l,k+1/3),c=L._hue2rgb(v,l,k),n=L._hue2rgb(v,l,k-1/3)}return new s(Math.round(255*p),Math.round(255*c),Math.round(255*n),a)}}class M{constructor(A,k,N,_){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,A),0),this.s=f(Math.max(Math.min(1,k),0),3),this.v=f(Math.max(Math.min(1,N),0),3),this.a=f(Math.max(Math.min(1,_),0),3)}static equals(A,k){return A.h===k.h&&A.s===k.s&&A.v===k.v&&A.a===k.a}static fromRGBA(A){const k=A.r/255,N=A.g/255,_=A.b/255,a=Math.max(k,N,_),c=a-Math.min(k,N,_),n=0===a?0:c/a;let l;return l=0===c?0:a===k?((N-_)/c%6+6)%6:a===N?(_-k)/c+2:(k-N)/c+4,new M(Math.round(60*l),n,a,A.a)}static toRGBA(A){const{h:k,s:N,v:_,a}=A,p=_*N,c=p*(1-Math.abs(k/60%2-1)),n=_-p;let[l,v,d]=[0,0,0];return k<60?(l=p,v=c):k<120?(l=c,v=p):k<180?(v=p,d=c):k<240?(v=c,d=p):k<300?(l=c,d=p):k<=360&&(l=p,d=c),l=Math.round(255*(l+n)),v=Math.round(255*(v+n)),d=Math.round(255*(d+n)),new s(l,v,d,a)}}class u{constructor(A){if(!A)throw new Error("Color needs a value");if(A instanceof s)this.rgba=A;else if(A instanceof L)this._hsla=A,this.rgba=L.toRGBA(A);else{if(!(A instanceof M))throw new Error("Invalid color ctor argument");this._hsva=A,this.rgba=M.toRGBA(A)}}static fromHex(A){return u.Format.CSS.parseHex(A)||u.red}get hsla(){return this._hsla?this._hsla:L.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:M.fromRGBA(this.rgba)}equals(A){return!!A&&s.equals(this.rgba,A.rgba)&&L.equals(this.hsla,A.hsla)&&M.equals(this.hsva,A.hsva)}getRelativeLuminance(){return f(.2126*u._relativeLuminanceForComponent(this.rgba.r)+.7152*u._relativeLuminanceForComponent(this.rgba.g)+.0722*u._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(A){const k=A/255;return k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(A){return this.getRelativeLuminance()>A.getRelativeLuminance()}isDarkerThan(A){return this.getRelativeLuminance()<A.getRelativeLuminance()}lighten(A){return new u(new L(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*A,this.hsla.a))}darken(A){return new u(new L(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*A,this.hsla.a))}transparent(A){const{r:k,g:N,b:_,a}=this.rgba;return new u(new s(k,N,_,a*A))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new u(new s(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=u.Format.CSS.format(this)),this._toString}static getLighterColor(A,k,N){if(A.isLighterThan(k))return A;N=N||.5;const _=A.getRelativeLuminance(),a=k.getRelativeLuminance();return A.lighten(N=N*(a-_)/a)}static getDarkerColor(A,k,N){if(A.isDarkerThan(k))return A;N=N||.5;const _=A.getRelativeLuminance(),a=k.getRelativeLuminance();return A.darken(N=N*(_-a)/_)}}u.white=new u(new s(255,255,255,1)),u.black=new u(new s(0,0,0,1)),u.red=new u(new s(255,0,0,1)),u.blue=new u(new s(0,0,255,1)),u.green=new u(new s(0,255,0,1)),u.cyan=new u(new s(0,255,255,1)),u.lightgrey=new u(new s(211,211,211,1)),u.transparent=new u(new s(0,0,0,0)),function(P){let A;!function(k){let N;!function(_){function l(S){const b=S.toString(16);return 2!==b.length?"0"+b:b}function y(S){switch(S){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}_.formatRGB=function a(S){return 1===S.rgba.a?`rgb(${S.rgba.r}, ${S.rgba.g}, ${S.rgba.b})`:P.Format.CSS.formatRGBA(S)},_.formatRGBA=function p(S){return`rgba(${S.rgba.r}, ${S.rgba.g}, ${S.rgba.b}, ${+S.rgba.a.toFixed(2)})`},_.formatHSL=function c(S){return 1===S.hsla.a?`hsl(${S.hsla.h}, ${(100*S.hsla.s).toFixed(2)}%, ${(100*S.hsla.l).toFixed(2)}%)`:P.Format.CSS.formatHSLA(S)},_.formatHSLA=function n(S){return`hsla(${S.hsla.h}, ${(100*S.hsla.s).toFixed(2)}%, ${(100*S.hsla.l).toFixed(2)}%, ${S.hsla.a.toFixed(2)})`},_.formatHex=function v(S){return`#${l(S.rgba.r)}${l(S.rgba.g)}${l(S.rgba.b)}`},_.formatHexA=function d(S,b=!1){return b&&1===S.rgba.a?P.Format.CSS.formatHex(S):`#${l(S.rgba.r)}${l(S.rgba.g)}${l(S.rgba.b)}${l(Math.round(255*S.rgba.a))}`},_.format=function m(S){return S.isOpaque()?P.Format.CSS.formatHex(S):P.Format.CSS.formatRGBA(S)},_.parseHex=function I(S){const b=S.length;if(0===b||35!==S.charCodeAt(0))return null;if(7===b){const x=16*y(S.charCodeAt(1))+y(S.charCodeAt(2)),T=16*y(S.charCodeAt(3))+y(S.charCodeAt(4)),R=16*y(S.charCodeAt(5))+y(S.charCodeAt(6));return new P(new s(x,T,R,1))}if(9===b){const x=16*y(S.charCodeAt(1))+y(S.charCodeAt(2)),T=16*y(S.charCodeAt(3))+y(S.charCodeAt(4)),R=16*y(S.charCodeAt(5))+y(S.charCodeAt(6)),Q=16*y(S.charCodeAt(7))+y(S.charCodeAt(8));return new P(new s(x,T,R,Q/255))}if(4===b){const x=y(S.charCodeAt(1)),T=y(S.charCodeAt(2)),R=y(S.charCodeAt(3));return new P(new s(16*x+x,16*T+T,16*R+R))}if(5===b){const x=y(S.charCodeAt(1)),T=y(S.charCodeAt(2)),R=y(S.charCodeAt(3)),Q=y(S.charCodeAt(4));return new P(new s(16*x+x,16*T+T,16*R+R,(16*Q+Q)/255))}return null}}(N=k.CSS||(k.CSS={}))}(A=P.Format||(P.Format={}))}(u||(u={}))},93753:(at,ue,e)=>{"use strict";e.d(ue,{Hl:()=>M,Ix:()=>L,ZO:()=>s});var f=function(u,P,A,k){return new(A||(A=Promise))(function(_,a){function p(l){try{n(k.next(l))}catch(v){a(v)}}function c(l){try{n(k.throw(l))}catch(v){a(v)}}function n(l){l.done?_(l.value):function N(_){return _ instanceof A?_:new A(function(a){a(_)})}(l.value).then(p,c)}n((k=k.apply(u,P||[])).next())})};function s(u){return{asString:()=>f(this,void 0,void 0,function*(){return u}),asFile:()=>{},value:"string"==typeof u?u:void 0}}function L(u,P,A){return{asString:()=>f(this,void 0,void 0,function*(){return""}),asFile:()=>({name:u,uri:P,data:A}),value:void 0}}class M{constructor(){this._entries=new Map}get size(){return this._entries.size}has(P){return this._entries.has(this.toKey(P))}get(P){var A;return null===(A=this._entries.get(this.toKey(P)))||void 0===A?void 0:A[0]}append(P,A){const k=this._entries.get(P);k?k.push(A):this._entries.set(this.toKey(P),[A])}replace(P,A){this._entries.set(this.toKey(P),[A])}delete(P){this._entries.delete(this.toKey(P))}*entries(){for(const[P,A]of this._entries.entries())for(const k of A)yield[P,k]}values(){return Array.from(this._entries.values()).flat()}forEach(P){for(const[A,k]of this.entries())P(k,A)}toKey(P){return P.toLowerCase()}}},10087:(at,ue,e)=>{"use strict";function f(s,L,M){let u=null,P=null;if("function"==typeof M.value?(u="value",P=M.value,0!==P.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof M.get&&(u="get",P=M.get),!P)throw new Error("not supported");const A=`$memoize$${L}`;M[u]=function(...k){return this.hasOwnProperty(A)||Object.defineProperty(this,A,{configurable:!1,enumerable:!1,writable:!1,value:P.apply(this,k)}),this[A]}}e.d(ue,{H:()=>f})},14171:(at,ue,e)=>{"use strict";e.d(ue,{Hs:()=>k,a$:()=>M});class f{constructor(_,a,p,c){this.originalStart=_,this.originalLength=a,this.modifiedStart=p,this.modifiedLength=c}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var s=e(92638);class L{constructor(_){this.source=_}getElements(){const _=this.source,a=new Int32Array(_.length);for(let p=0,c=_.length;p<c;p++)a[p]=_.charCodeAt(p);return a}}function M(N,_,a){return new k(new L(N),new L(_)).ComputeDiff(a).changes}class u{static Assert(_,a){if(!_)throw new Error(a)}}class P{static Copy(_,a,p,c,n){for(let l=0;l<n;l++)p[c+l]=_[a+l]}static Copy2(_,a,p,c,n){for(let l=0;l<n;l++)p[c+l]=_[a+l]}}class A{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new f(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(_,a){this.m_originalStart=Math.min(this.m_originalStart,_),this.m_modifiedStart=Math.min(this.m_modifiedStart,a),this.m_originalCount++}AddModifiedElement(_,a){this.m_originalStart=Math.min(this.m_originalStart,_),this.m_modifiedStart=Math.min(this.m_modifiedStart,a),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class k{constructor(_,a,p=null){this.ContinueProcessingPredicate=p,this._originalSequence=_,this._modifiedSequence=a;const[c,n,l]=k._getElements(_),[v,d,m]=k._getElements(a);this._hasStrings=l&&m,this._originalStringElements=c,this._originalElementsOrHash=n,this._modifiedStringElements=v,this._modifiedElementsOrHash=d,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(_){return _.length>0&&"string"==typeof _[0]}static _getElements(_){const a=_.getElements();if(k._isStringArray(a)){const p=new Int32Array(a.length);for(let c=0,n=a.length;c<n;c++)p[c]=(0,s.Cv)(a[c],0);return[a,p,!0]}return a instanceof Int32Array?[[],a,!1]:[[],new Int32Array(a),!1]}ElementsAreEqual(_,a){return this._originalElementsOrHash[_]===this._modifiedElementsOrHash[a]&&(!this._hasStrings||this._originalStringElements[_]===this._modifiedStringElements[a])}ElementsAreStrictEqual(_,a){return!!this.ElementsAreEqual(_,a)&&k._getStrictElement(this._originalSequence,_)===k._getStrictElement(this._modifiedSequence,a)}static _getStrictElement(_,a){return"function"==typeof _.getStrictElement?_.getStrictElement(a):null}OriginalElementsAreEqual(_,a){return this._originalElementsOrHash[_]===this._originalElementsOrHash[a]&&(!this._hasStrings||this._originalStringElements[_]===this._originalStringElements[a])}ModifiedElementsAreEqual(_,a){return this._modifiedElementsOrHash[_]===this._modifiedElementsOrHash[a]&&(!this._hasStrings||this._modifiedStringElements[_]===this._modifiedStringElements[a])}ComputeDiff(_){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,_)}_ComputeDiff(_,a,p,c,n){const l=[!1];let v=this.ComputeDiffRecursive(_,a,p,c,l);return n&&(v=this.PrettifyChanges(v)),{quitEarly:l[0],changes:v}}ComputeDiffRecursive(_,a,p,c,n){for(n[0]=!1;_<=a&&p<=c&&this.ElementsAreEqual(_,p);)_++,p++;for(;a>=_&&c>=p&&this.ElementsAreEqual(a,c);)a--,c--;if(_>a||p>c){let y;return p<=c?(u.Assert(_===a+1,"originalStart should only be one more than originalEnd"),y=[new f(_,0,p,c-p+1)]):_<=a?(u.Assert(p===c+1,"modifiedStart should only be one more than modifiedEnd"),y=[new f(_,a-_+1,p,0)]):(u.Assert(_===a+1,"originalStart should only be one more than originalEnd"),u.Assert(p===c+1,"modifiedStart should only be one more than modifiedEnd"),y=[]),y}const l=[0],v=[0],d=this.ComputeRecursionPoint(_,a,p,c,l,v,n),m=l[0],I=v[0];if(null!==d)return d;if(!n[0]){const y=this.ComputeDiffRecursive(_,m,p,I,n);let S=[];return S=n[0]?[new f(m+1,a-(m+1)+1,I+1,c-(I+1)+1)]:this.ComputeDiffRecursive(m+1,a,I+1,c,n),this.ConcatenateChanges(y,S)}return[new f(_,a-_+1,p,c-p+1)]}WALKTRACE(_,a,p,c,n,l,v,d,m,I,y,S,b,x,T,R,Q,Z){let G=null,F=null,W=new A,B=a,z=p,j=b[0]-R[0]-c,Y=-1073741824,E=this.m_forwardHistory.length-1;do{const V=j+_;V===B||V<z&&m[V-1]<m[V+1]?(x=(y=m[V+1])-j-c,y<Y&&W.MarkNextChange(),Y=y,W.AddModifiedElement(y+1,x),j=V+1-_):(x=(y=m[V-1]+1)-j-c,y<Y&&W.MarkNextChange(),Y=y-1,W.AddOriginalElement(y,x+1),j=V-1-_),E>=0&&(_=(m=this.m_forwardHistory[E])[0],B=1,z=m.length-1)}while(--E>=-1);if(G=W.getReverseChanges(),Z[0]){let V=b[0]+1,$=R[0]+1;if(null!==G&&G.length>0){const te=G[G.length-1];V=Math.max(V,te.getOriginalEnd()),$=Math.max($,te.getModifiedEnd())}F=[new f(V,S-V+1,$,T-$+1)]}else{W=new A,B=l,z=v,j=b[0]-R[0]-d,Y=1073741824,E=Q?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const V=j+n;V===B||V<z&&I[V-1]>=I[V+1]?(x=(y=I[V+1]-1)-j-d,y>Y&&W.MarkNextChange(),Y=y+1,W.AddOriginalElement(y+1,x+1),j=V+1-n):(x=(y=I[V-1])-j-d,y>Y&&W.MarkNextChange(),Y=y,W.AddModifiedElement(y+1,x+1),j=V-1-n),E>=0&&(n=(I=this.m_reverseHistory[E])[0],B=1,z=I.length-1)}while(--E>=-1);F=W.getChanges()}return this.ConcatenateChanges(G,F)}ComputeRecursionPoint(_,a,p,c,n,l,v){let d=0,m=0,I=0,y=0,S=0,b=0;_--,p--,n[0]=0,l[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const x=a-_+(c-p),T=x+1,R=new Int32Array(T),Q=new Int32Array(T),Z=c-p,G=a-_,F=_-p,W=a-c,z=(G-Z)%2==0;R[Z]=_,Q[G]=a,v[0]=!1;for(let j=1;j<=x/2+1;j++){let Y=0,E=0;I=this.ClipDiagonalBound(Z-j,j,Z,T),y=this.ClipDiagonalBound(Z+j,j,Z,T);for(let $=I;$<=y;$+=2){d=$===I||$<y&&R[$-1]<R[$+1]?R[$+1]:R[$-1]+1,m=d-($-Z)-F;const te=d;for(;d<a&&m<c&&this.ElementsAreEqual(d+1,m+1);)d++,m++;if(R[$]=d,d+m>Y+E&&(Y=d,E=m),!z&&Math.abs($-G)<=j-1&&d>=Q[$])return n[0]=d,l[0]=m,te<=Q[$]&&j<=1448?this.WALKTRACE(Z,I,y,F,G,S,b,W,R,Q,d,a,n,m,c,l,z,v):null}const V=(Y-_+(E-p)-j)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(Y,V))return v[0]=!0,n[0]=Y,l[0]=E,V>0&&j<=1448?this.WALKTRACE(Z,I,y,F,G,S,b,W,R,Q,d,a,n,m,c,l,z,v):(_++,p++,[new f(_,a-_+1,p,c-p+1)]);S=this.ClipDiagonalBound(G-j,j,G,T),b=this.ClipDiagonalBound(G+j,j,G,T);for(let $=S;$<=b;$+=2){d=$===S||$<b&&Q[$-1]>=Q[$+1]?Q[$+1]-1:Q[$-1],m=d-($-G)-W;const te=d;for(;d>_&&m>p&&this.ElementsAreEqual(d,m);)d--,m--;if(Q[$]=d,z&&Math.abs($-Z)<=j&&d<=R[$])return n[0]=d,l[0]=m,te>=R[$]&&j<=1448?this.WALKTRACE(Z,I,y,F,G,S,b,W,R,Q,d,a,n,m,c,l,z,v):null}if(j<=1447){let $=new Int32Array(y-I+2);$[0]=Z-I+1,P.Copy2(R,I,$,1,y-I+1),this.m_forwardHistory.push($),$=new Int32Array(b-S+2),$[0]=G-S+1,P.Copy2(Q,S,$,1,b-S+1),this.m_reverseHistory.push($)}}return this.WALKTRACE(Z,I,y,F,G,S,b,W,R,Q,d,a,n,m,c,l,z,v)}PrettifyChanges(_){for(let a=0;a<_.length;a++){const p=_[a],c=a<_.length-1?_[a+1].originalStart:this._originalElementsOrHash.length,n=a<_.length-1?_[a+1].modifiedStart:this._modifiedElementsOrHash.length,l=p.originalLength>0,v=p.modifiedLength>0;for(;p.originalStart+p.originalLength<c&&p.modifiedStart+p.modifiedLength<n&&(!l||this.OriginalElementsAreEqual(p.originalStart,p.originalStart+p.originalLength))&&(!v||this.ModifiedElementsAreEqual(p.modifiedStart,p.modifiedStart+p.modifiedLength));){const m=this.ElementsAreStrictEqual(p.originalStart,p.modifiedStart);if(this.ElementsAreStrictEqual(p.originalStart+p.originalLength,p.modifiedStart+p.modifiedLength)&&!m)break;p.originalStart++,p.modifiedStart++}const d=[null];a<_.length-1&&this.ChangesOverlap(_[a],_[a+1],d)&&(_[a]=d[0],_.splice(a+1,1),a--)}for(let a=_.length-1;a>=0;a--){const p=_[a];let c=0,n=0;if(a>0){const y=_[a-1];c=y.originalStart+y.originalLength,n=y.modifiedStart+y.modifiedLength}const l=p.originalLength>0,v=p.modifiedLength>0;let d=0,m=this._boundaryScore(p.originalStart,p.originalLength,p.modifiedStart,p.modifiedLength);for(let y=1;;y++){const S=p.originalStart-y,b=p.modifiedStart-y;if(S<c||b<n||l&&!this.OriginalElementsAreEqual(S,S+p.originalLength)||v&&!this.ModifiedElementsAreEqual(b,b+p.modifiedLength))break;const T=(S===c&&b===n?5:0)+this._boundaryScore(S,p.originalLength,b,p.modifiedLength);T>m&&(m=T,d=y)}p.originalStart-=d,p.modifiedStart-=d;const I=[null];a>0&&this.ChangesOverlap(_[a-1],_[a],I)&&(_[a-1]=I[0],_.splice(a,1),a++)}if(this._hasStrings)for(let a=1,p=_.length;a<p;a++){const c=_[a-1],n=_[a],l=n.originalStart-c.originalStart-c.originalLength,v=c.originalStart,d=n.originalStart+n.originalLength,m=d-v,I=c.modifiedStart,y=n.modifiedStart+n.modifiedLength,S=y-I;if(l<5&&m<20&&S<20){const b=this._findBetterContiguousSequence(v,m,I,S,l);if(b){const[x,T]=b;(x!==c.originalStart+c.originalLength||T!==c.modifiedStart+c.modifiedLength)&&(c.originalLength=x-c.originalStart,c.modifiedLength=T-c.modifiedStart,n.originalStart=x+l,n.modifiedStart=T+l,n.originalLength=d-n.originalStart,n.modifiedLength=y-n.modifiedStart)}}}return _}_findBetterContiguousSequence(_,a,p,c,n){if(a<n||c<n)return null;const l=_+a-n+1,v=p+c-n+1;let d=0,m=0,I=0;for(let y=_;y<l;y++)for(let S=p;S<v;S++){const b=this._contiguousSequenceScore(y,S,n);b>0&&b>d&&(d=b,m=y,I=S)}return d>0?[m,I]:null}_contiguousSequenceScore(_,a,p){let c=0;for(let n=0;n<p;n++){if(!this.ElementsAreEqual(_+n,a+n))return 0;c+=this._originalStringElements[_+n].length}return c}_OriginalIsBoundary(_){return _<=0||_>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[_])}_OriginalRegionIsBoundary(_,a){if(this._OriginalIsBoundary(_)||this._OriginalIsBoundary(_-1))return!0;if(a>0){const p=_+a;if(this._OriginalIsBoundary(p-1)||this._OriginalIsBoundary(p))return!0}return!1}_ModifiedIsBoundary(_){return _<=0||_>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[_])}_ModifiedRegionIsBoundary(_,a){if(this._ModifiedIsBoundary(_)||this._ModifiedIsBoundary(_-1))return!0;if(a>0){const p=_+a;if(this._ModifiedIsBoundary(p-1)||this._ModifiedIsBoundary(p))return!0}return!1}_boundaryScore(_,a,p,c){return(this._OriginalRegionIsBoundary(_,a)?1:0)+(this._ModifiedRegionIsBoundary(p,c)?1:0)}ConcatenateChanges(_,a){const p=[];if(0===_.length||0===a.length)return a.length>0?a:_;if(this.ChangesOverlap(_[_.length-1],a[0],p)){const c=new Array(_.length+a.length-1);return P.Copy(_,0,c,0,_.length-1),c[_.length-1]=p[0],P.Copy(a,1,c,_.length,a.length-1),c}{const c=new Array(_.length+a.length);return P.Copy(_,0,c,0,_.length),P.Copy(a,0,c,_.length,a.length),c}}ChangesOverlap(_,a,p){if(u.Assert(_.originalStart<=a.originalStart,"Left change is not less than or equal to right change"),u.Assert(_.modifiedStart<=a.modifiedStart,"Left change is not less than or equal to right change"),_.originalStart+_.originalLength>=a.originalStart||_.modifiedStart+_.modifiedLength>=a.modifiedStart){let n=_.originalLength,v=_.modifiedLength;return _.originalStart+_.originalLength>=a.originalStart&&(n=a.originalStart+a.originalLength-_.originalStart),_.modifiedStart+_.modifiedLength>=a.modifiedStart&&(v=a.modifiedStart+a.modifiedLength-_.modifiedStart),p[0]=new f(_.originalStart,n,_.modifiedStart,v),!0}return p[0]=null,!1}ClipDiagonalBound(_,a,p,c){if(_>=0&&_<c)return _;const v=a%2==0;return _<0?v===(p%2==0)?0:1:v===((c-p-1)%2==0)?c-1:c-2}}},53663:(at,ue,e)=>{"use strict";e.d(ue,{B8:()=>p,Cp:()=>M,F0:()=>N,FU:()=>k,L6:()=>a,b1:()=>_,dL:()=>L,he:()=>n,n2:()=>A,ri:()=>u});const s=new class f{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(v){setTimeout(()=>{throw v.stack?c.isErrorNoTelemetry(v)?new c(v.message+"\n\n"+v.stack):new Error(v.message+"\n\n"+v.stack):v},0)}}emit(v){this.listeners.forEach(d=>{d(v)})}onUnexpectedError(v){this.unexpectedErrorHandler(v),this.emit(v)}onUnexpectedExternalError(v){this.unexpectedErrorHandler(v)}};function L(l){A(l)||s.onUnexpectedError(l)}function M(l){A(l)||s.onUnexpectedExternalError(l)}function u(l){if(l instanceof Error){const{name:v,message:d}=l;return{$isError:!0,name:v,message:d,stack:l.stacktrace||l.stack,noTelemetry:c.isErrorNoTelemetry(l)}}return l}const P="Canceled";function A(l){return l instanceof k||l instanceof Error&&l.name===P&&l.message===P}class k extends Error{constructor(){super(P),this.name=this.message}}function N(){const l=new Error(P);return l.name=l.message,l}function _(l){return l?new Error(`Illegal argument: ${l}`):new Error("Illegal argument")}function a(l){return l?new Error(`Illegal state: ${l}`):new Error("Illegal state")}class p extends Error{constructor(v){super("NotSupported"),v&&(this.message=v)}}class c extends Error{constructor(v){super(v),this.name="ErrorNoTelemetry"}static fromError(v){if(v instanceof c)return v;const d=new c;return d.message=v.message,d.stack=v.stack,d}static isErrorNoTelemetry(v){return"ErrorNoTelemetry"===v.name}}class n extends Error{constructor(v){super(v||"An unexpected bug occurred."),Object.setPrototypeOf(this,n.prototype)}}},52787:(at,ue,e)=>{"use strict";e.d(ue,{D0:()=>m,E7:()=>I,F3:()=>n,K3:()=>d,Q5:()=>c,ZD:()=>y,ju:()=>A});var A,f=e(53663),s=e(52425),L=e(38460),M=e(41724);!function(S){function x(ee){return(ce,he=null,de)=>{let re,ge=!1;return re=ee(Se=>{if(!ge)return re?re.dispose():ge=!0,ce.call(he,Se)},null,de),ge&&re.dispose(),re}}function T(ee,ce,he){return W((de,ge=null,re)=>ee(Se=>de.call(ge,ce(Se)),null,re),he)}function R(ee,ce,he){return W((de,ge=null,re)=>ee(Se=>{ce(Se),de.call(ge,Se)},null,re),he)}function Q(ee,ce,he){return W((de,ge=null,re)=>ee(Se=>ce(Se)&&de.call(ge,Se),null,re),he)}function F(ee,ce,he,de){let ge=he;return T(ee,re=>(ge=ce(ge,re),ge),de)}function W(ee,ce){let he;const ge=new c({onFirstListenerAdd(){he=ee(ge.fire,ge)},onLastListenerRemove(){null==he||he.dispose()}});return null==ce||ce.add(ge),ge.event}function B(ee,ce,he=100,de=!1,ge,re){let Se,Pe,Ve,ie=0;const _e=new c({leakWarningThreshold:ge,onFirstListenerAdd(){Se=ee(Be=>{ie++,Pe=ce(Pe,Be),de&&!Ve&&(_e.fire(Pe),Pe=void 0),clearTimeout(Ve),Ve=setTimeout(()=>{const Qe=Pe;Pe=void 0,Ve=void 0,(!de||ie>1)&&_e.fire(Qe),ie=0},he)})},onLastListenerRemove(){Se.dispose()}});return null==re||re.add(_e),_e.event}function z(ee,ce=((de,ge)=>de===ge),he){let ge,de=!0;return Q(ee,re=>{const Se=de||!ce(re,ge);return de=!1,ge=re,Se},he)}S.None=()=>s.JT.None,S.once=x,S.map=T,S.forEach=R,S.filter=Q,S.signal=function Z(ee){return ee},S.any=function G(...ee){return(ce,he=null,de)=>(0,s.F8)(...ee.map(ge=>ge(re=>ce.call(he,re),null,de)))},S.reduce=F,S.debounce=B,S.latch=z,S.split=function j(ee,ce,he){return[S.filter(ee,ce,he),S.filter(ee,de=>!ce(de),he)]},S.buffer=function Y(ee,ce=!1,he=[]){let de=he.slice(),ge=ee(Pe=>{de?de.push(Pe):Se.fire(Pe)});const re=()=>{null==de||de.forEach(Pe=>Se.fire(Pe)),de=null},Se=new c({onFirstListenerAdd(){ge||(ge=ee(Pe=>Se.fire(Pe)))},onFirstListenerDidAdd(){de&&(ce?setTimeout(re):re())},onLastListenerRemove(){ge&&ge.dispose(),ge=null}});return Se.event};class E{constructor(ce){this.event=ce,this.disposables=new s.SL}map(ce){return new E(T(this.event,ce,this.disposables))}forEach(ce){return new E(R(this.event,ce,this.disposables))}filter(ce){return new E(Q(this.event,ce,this.disposables))}reduce(ce,he){return new E(F(this.event,ce,he,this.disposables))}latch(){return new E(z(this.event,void 0,this.disposables))}debounce(ce,he=100,de=!1,ge){return new E(B(this.event,ce,he,de,ge,this.disposables))}on(ce,he,de){return this.event(ce,he,de)}once(ce,he,de){return x(this.event)(ce,he,de)}dispose(){this.disposables.dispose()}}S.chain=function V(ee){return new E(ee)},S.fromNodeEventEmitter=function $(ee,ce,he=(de=>de)){const de=(...Pe)=>Se.fire(he(...Pe)),Se=new c({onFirstListenerAdd:()=>ee.on(ce,de),onLastListenerRemove:()=>ee.removeListener(ce,de)});return Se.event},S.fromDOMEventEmitter=function te(ee,ce,he=(de=>de)){const de=(...Pe)=>Se.fire(he(...Pe)),Se=new c({onFirstListenerAdd:()=>ee.addEventListener(ce,de),onLastListenerRemove:()=>ee.removeEventListener(ce,de)});return Se.event},S.toPromise=function w(ee){return new Promise(ce=>x(ee)(ce))},S.runAndSubscribe=function fe(ee,ce){return ce(void 0),ee(he=>ce(he))},S.runAndSubscribeWithStore=function be(ee,ce){let he=null;function de(re){null==he||he.dispose(),he=new s.SL,ce(re,he)}de(void 0);const ge=ee(re=>de(re));return(0,s.OF)(()=>{ge.dispose(),null==he||he.dispose()})};class me{constructor(ce,he){this.obs=ce,this._counter=0,this._hasChanged=!1;this.emitter=new c({onFirstListenerAdd:()=>{ce.addObserver(this)},onLastListenerRemove:()=>{ce.removeObserver(this)}}),he&&he.add(this.emitter)}beginUpdate(ce){this._counter++}handleChange(ce,he){this._hasChanged=!0}endUpdate(ce){0==--this._counter&&this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this.obs.get()))}}S.fromObservable=function Ie(ee,ce){return new me(ee,ce).emitter.event}}(A||(A={}));let k=(()=>{class S{constructor(x){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${x}_${S._idPool++}`}start(x){this._stopWatch=new M.G(!0),this._listenerCount=x}stop(){if(this._stopWatch){const x=this._stopWatch.elapsed();this._elapsedOverall+=x,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${x.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}return S._idPool=0,S})();class a{constructor(b){this.value=b}static create(){var b;return new a(null!==(b=(new Error).stack)&&void 0!==b?b:"")}print(){console.warn(this.value.split("\n").slice(2).join("\n"))}}class p{constructor(b,x,T){this.callback=b,this.callbackThis=x,this.stack=T,this.subscription=new s.dt}invoke(b){this.callback.call(this.callbackThis,b)}}class c{constructor(b){var x,T;this._disposed=!1,this._options=b,this._leakageMon=void 0,this._perfMon=null!==(x=this._options)&&void 0!==x&&x._profName?new k(this._options._profName):void 0,this._deliveryQueue=null===(T=this._options)||void 0===T?void 0:T.deliveryQueue}dispose(){var b,x,T,R;this._disposed||(this._disposed=!0,this._listeners&&this._listeners.clear(),null===(b=this._deliveryQueue)||void 0===b||b.clear(this),null===(T=null===(x=this._options)||void 0===x?void 0:x.onLastListenerRemove)||void 0===T||T.call(x),null===(R=this._leakageMon)||void 0===R||R.dispose())}get event(){return this._event||(this._event=(b,x,T)=>{var R,Q,Z;this._listeners||(this._listeners=new L.S);const G=this._listeners.isEmpty();let F,W;G&&(null===(R=this._options)||void 0===R?void 0:R.onFirstListenerAdd)&&this._options.onFirstListenerAdd(this),this._leakageMon&&this._listeners.size>=30&&(W=a.create(),F=this._leakageMon.check(W,this._listeners.size+1));const B=new p(b,x,W),z=this._listeners.push(B);G&&(null===(Q=this._options)||void 0===Q?void 0:Q.onFirstListenerDidAdd)&&this._options.onFirstListenerDidAdd(this),null!==(Z=this._options)&&void 0!==Z&&Z.onListenerDidAdd&&this._options.onListenerDidAdd(this,b,x);const j=B.subscription.set(()=>{null==F||F(),this._disposed||(z(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return T instanceof s.SL?T.add(j):Array.isArray(T)&&T.push(j),j}),this._event}fire(b){var x,T;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new l);for(const R of this._listeners)this._deliveryQueue.push(this,R,b);null===(x=this._perfMon)||void 0===x||x.start(this._deliveryQueue.size),this._deliveryQueue.deliver(),null===(T=this._perfMon)||void 0===T||T.stop()}}}class n{constructor(){this._queue=new L.S}get size(){return this._queue.size}push(b,x,T){this._queue.push(new v(b,x,T))}clear(b){const x=new L.S;for(const T of this._queue)T.emitter!==b&&x.push(T);this._queue=x}deliver(){for(;this._queue.size>0;){const b=this._queue.shift();try{b.listener.invoke(b.event)}catch(x){(0,f.dL)(x)}}}}class l extends n{clear(b){this._queue.clear()}}class v{constructor(b,x,T){this.emitter=b,this.listener=x,this.event=T}}class d extends c{constructor(b){super(b),this._isPaused=0,this._eventQueue=new L.S,this._mergeFn=null==b?void 0:b.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){const b=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(b))}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(b){this._listeners&&(0!==this._isPaused?this._eventQueue.push(b):super.fire(b))}}class m extends d{constructor(b){var x;super(b),this._delay=null!==(x=b.delay)&&void 0!==x?x:100}fire(b){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(b)}}class I{constructor(){this.buffers=[]}wrapEvent(b){return(x,T,R)=>b(Q=>{const Z=this.buffers[this.buffers.length-1];Z?Z.push(()=>x.call(T,Q)):x.call(T,Q)},void 0,R)}bufferEvents(b){const x=[];this.buffers.push(x);const T=b();return this.buffers.pop(),x.forEach(R=>R()),T}}class y{constructor(){this.listening=!1,this.inputEvent=A.None,this.inputEventListener=s.JT.None,this.emitter=new c({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(b){this.inputEvent=b,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=b(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},25170:(at,ue,e)=>{"use strict";e.d(ue,{KM:()=>k,ej:()=>u,fn:()=>P,oP:()=>_,yj:()=>A});var f=e(34163),s=e(38972),L=e(93059);function M(a){return 47===a||92===a}function u(a){return a.replace(/[\\/]/g,f.KR.sep)}function P(a){return-1===a.indexOf("/")&&(a=u(a)),/^[a-zA-Z]:(\/|$)/.test(a)&&(a="/"+a),a}function A(a,p=f.KR.sep){if(!a)return"";const c=a.length,n=a.charCodeAt(0);if(M(n)){if(M(a.charCodeAt(1))&&!M(a.charCodeAt(2))){let v=3;const d=v;for(;v<c&&!M(a.charCodeAt(v));v++);if(d!==v&&!M(a.charCodeAt(v+1)))for(v+=1;v<c;v++)if(M(a.charCodeAt(v)))return a.slice(0,v+1).replace(/[\\/]/g,p)}return p}if(N(n)&&58===a.charCodeAt(1))return M(a.charCodeAt(2))?a.slice(0,2)+p:a.slice(0,2);let l=a.indexOf("://");if(-1!==l)for(l+=3;l<c;l++)if(M(a.charCodeAt(l)))return a.slice(0,l+1);return""}function k(a,p,c,n=f.ir){if(a===p)return!0;if(!a||!p||p.length>a.length)return!1;if(c){if(!(0,L.ok)(a,p))return!1;if(p.length===a.length)return!0;let v=p.length;return p.charAt(p.length-1)===n&&v--,a.charAt(v)===n}return p.charAt(p.length-1)!==n&&(p+=n),0===a.indexOf(p)}function N(a){return a>=65&&a<=90||a>=97&&a<=122}function _(a,p=s.ED){return!!p&&N(a.charCodeAt(0))&&58===a.charCodeAt(1)}},81979:(at,ue,e)=>{"use strict";e.d(ue,{CL:()=>Se,EW:()=>Ve,Ji:()=>u,KZ:()=>Q,Oh:()=>z,Sy:()=>k,ir:()=>A,jB:()=>j,l7:()=>_e,mB:()=>Y,mX:()=>Pe,or:()=>L});var f=e(7838),s=e(93059);function L(...Ae){return function(pe,De){for(let Oe=0,Ne=Ae.length;Oe<Ne;Oe++){const ne=Ae[Oe](pe,De);if(ne)return ne}return null}}P.bind(void 0,!1);const u=P.bind(void 0,!0);function P(Ae,pe,De){if(!De||De.length<pe.length)return null;let Oe;return Oe=Ae?s.ok(De,pe):0===De.indexOf(pe),Oe?pe.length>0?[{start:0,end:pe.length}]:[]:null}function A(Ae,pe){const De=pe.toLowerCase().indexOf(Ae.toLowerCase());return-1===De?null:[{start:De,end:De+Ae.length}]}function k(Ae,pe){return N(Ae.toLowerCase(),pe.toLowerCase(),0,0)}function N(Ae,pe,De,Oe){if(De===Ae.length)return[];if(Oe===pe.length)return null;if(Ae[De]===pe[Oe]){let Ne=null;return(Ne=N(Ae,pe,De+1,Oe+1))?m({start:Oe,end:Oe+1},Ne):null}return N(Ae,pe,De,Oe+1)}function _(Ae){return 97<=Ae&&Ae<=122}function a(Ae){return 65<=Ae&&Ae<=90}function p(Ae){return 48<=Ae&&Ae<=57}function c(Ae){return 32===Ae||9===Ae||10===Ae||13===Ae}const n=new Set;function l(Ae){return c(Ae)||n.has(Ae)}function d(Ae){return _(Ae)||a(Ae)||p(Ae)}function m(Ae,pe){return 0===pe.length?pe=[Ae]:Ae.end===pe[0].start?pe[0].start=Ae.start:pe.unshift(Ae),pe}function I(Ae,pe){for(let De=pe;De<Ae.length;De++){const Oe=Ae.charCodeAt(De);if(a(Oe)||p(Oe)||De>0&&!d(Ae.charCodeAt(De-1)))return De}return Ae.length}function y(Ae,pe,De,Oe){if(De===Ae.length)return[];if(Oe===pe.length)return null;if(Ae[De]!==pe[Oe].toLowerCase())return null;{let Ne=null,ne=Oe+1;for(Ne=y(Ae,pe,De+1,Oe+1);!Ne&&(ne=I(pe,ne))<pe.length;)Ne=y(Ae,pe,De+1,ne),ne++;return null===Ne?null:m({start:Oe,end:Oe+1},Ne)}}function R(Ae,pe){if(!pe||0===(pe=pe.trim()).length||!function T(Ae){let pe=0,De=0,Oe=0,Ne=0;for(let ne=0;ne<Ae.length;ne++)Oe=Ae.charCodeAt(ne),a(Oe)&&pe++,_(Oe)&&De++,c(Oe)&&Ne++;return 0!==pe&&0!==De||0!==Ne?pe<=5:Ae.length<=30}(Ae)||pe.length>60)return null;const De=function S(Ae){let pe=0,De=0,Oe=0,Ne=0,ne=0;for(let Ke=0;Ke<Ae.length;Ke++)ne=Ae.charCodeAt(Ke),a(ne)&&pe++,_(ne)&&De++,d(ne)&&Oe++,p(ne)&&Ne++;return{upperPercent:pe/Ae.length,lowerPercent:De/Ae.length,alphaPercent:Oe/Ae.length,numericPercent:Ne/Ae.length}}(pe);if(!function x(Ae){const{upperPercent:pe,lowerPercent:De,alphaPercent:Oe,numericPercent:Ne}=Ae;return De>.2&&pe<.8&&Oe>.6&&Ne<.2}(De)){if(!function b(Ae){const{upperPercent:pe,lowerPercent:De}=Ae;return 0===De&&pe>.6}(De))return null;pe=pe.toLowerCase()}let Oe=null,Ne=0;for(Ae=Ae.toLowerCase();Ne<pe.length&&null===(Oe=y(Ae,pe,0,Ne));)Ne=I(pe,Ne+1);return Oe}function Q(Ae,pe,De=!1){if(!pe||0===pe.length)return null;let Oe=null,Ne=0;for(Ae=Ae.toLowerCase(),pe=pe.toLowerCase();Ne<pe.length&&null===(Oe=Z(Ae,pe,0,Ne,De));)Ne=G(pe,Ne+1);return Oe}function Z(Ae,pe,De,Oe,Ne){if(De===Ae.length)return[];if(Oe===pe.length)return null;if(function v(Ae,pe){return Ae===pe||l(Ae)&&l(pe)}(Ae.charCodeAt(De),pe.charCodeAt(Oe))){let ne=null,xe=Oe+1;if(ne=Z(Ae,pe,De+1,Oe+1,Ne),!Ne)for(;!ne&&(xe=G(pe,xe))<pe.length;)ne=Z(Ae,pe,De+1,xe,Ne),xe++;return null===ne?null:m({start:Oe,end:Oe+1},ne)}return null}function G(Ae,pe){for(let De=pe;De<Ae.length;De++)if(l(Ae.charCodeAt(De))||De>0&&l(Ae.charCodeAt(De-1)))return De;return Ae.length}"()[]{}<>`'\"-/;:,.?!".split("").forEach(Ae=>n.add(Ae.charCodeAt(0)));const F=L(u,R,A),W=L(u,R,k),B=new f.z6(1e4);function z(Ae,pe,De=!1){if("string"!=typeof Ae||"string"!=typeof pe)return null;let Oe=B.get(Ae);Oe||(Oe=new RegExp(s.un(Ae),"i"),B.set(Ae,Oe));const Ne=Oe.exec(pe);return Ne?[{start:Ne.index,end:Ne.index+Ne[0].length}]:De?W(Ae,pe):F(Ae,pe)}function j(Ae,pe,De,Oe,Ne,ne){const xe=Math.min(13,Ae.length);for(;De<xe;De++){const Je=Ve(Ae,pe,De,Oe,Ne,ne,{firstMatchCanBeWeak:!1,boostFullMatch:!0});if(Je)return Je}return[0,ne]}function Y(Ae){if(void 0===Ae)return[];const pe=[],De=Ae[1];for(let Oe=Ae.length-1;Oe>1;Oe--){const Ne=Ae[Oe]+De,ne=pe[pe.length-1];ne&&ne.end===Ne?ne.end=Ne+1:pe.push({start:Ne,end:Ne+1})}return pe}const E=128;function V(){const Ae=[],pe=[];for(let De=0;De<=E;De++)pe[De]=0;for(let De=0;De<=E;De++)Ae.push(pe.slice(0));return Ae}function $(Ae){const pe=[];for(let De=0;De<=Ae;De++)pe[De]=0;return pe}const te=$(256),w=$(256),fe=V(),be=V(),me=V();function he(Ae,pe){if(pe<0||pe>=Ae.length)return!1;const De=Ae.codePointAt(pe);switch(De){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!s.C8(De)}}function de(Ae,pe){if(pe<0||pe>=Ae.length)return!1;switch(Ae.charCodeAt(pe)){case 32:case 9:return!0;default:return!1}}function ge(Ae,pe,De){return pe[Ae]!==De[Ae]}var Se,Ae;(Ae=Se||(Se={})).Default=[-100,0],Ae.isDefault=function pe(De){return!De||2===De.length&&-100===De[0]&&0===De[1]};let Pe=(()=>{class Ae{constructor(De,Oe){this.firstMatchCanBeWeak=De,this.boostFullMatch=Oe}}return Ae.default={boostFullMatch:!0,firstMatchCanBeWeak:!1},Ae})();function Ve(Ae,pe,De,Oe,Ne,ne,xe=Pe.default){const Je=Ae.length>E?E:Ae.length,gt=Oe.length>E?E:Oe.length;if(De>=Je||ne>=gt||Je-De>gt-ne||!function re(Ae,pe,De,Oe,Ne,ne,xe=!1){for(;pe<De&&Ne<ne;)Ae[pe]===Oe[Ne]&&(xe&&(te[pe]=Ne),pe+=1),Ne+=1;return pe===De}(pe,De,Je,Ne,ne,gt,!0))return;!function ie(Ae,pe,De,Oe,Ne,ne){let xe=Ae-1,Je=pe-1;for(;xe>=De&&Je>=Oe;)Ne[xe]===ne[Je]&&(w[xe]=Je,xe--),Je--}(Je,gt,De,ne,pe,Ne);let lt=1,Ke=1,He=De,Ue=ne;const ot=[!1];for(lt=1,He=De;He<Je;lt++,He++){const ze=te[He],dt=w[He],$t=He+1<Je?w[He+1]:gt;for(Ke=ze-ne+1,Ue=ze;Ue<$t;Ke++,Ue++){let hn=Number.MIN_SAFE_INTEGER,vn=!1;Ue<=dt&&(hn=ye(Ae,pe,He,De,Oe,Ne,Ue,gt,ne,0===fe[lt-1][Ke-1],ot));let ft=0;hn!==Number.MAX_SAFE_INTEGER&&(vn=!0,ft=hn+be[lt-1][Ke-1]);const ke=Ue>ze,nt=ke?be[lt][Ke-1]+(fe[lt][Ke-1]>0?-5:0):0,st=Ue>ze+1&&fe[lt][Ke-1]>0,Ee=st?be[lt][Ke-2]+(fe[lt][Ke-2]>0?-5:0):0;if(st&&(!ke||Ee>=nt)&&(!vn||Ee>=ft))be[lt][Ke]=Ee,me[lt][Ke]=3,fe[lt][Ke]=0;else if(ke&&(!vn||nt>=ft))be[lt][Ke]=nt,me[lt][Ke]=2,fe[lt][Ke]=0;else{if(!vn)throw new Error("not possible");be[lt][Ke]=ft,me[lt][Ke]=1,fe[lt][Ke]=fe[lt-1][Ke-1]+1}}}if(!ot[0]&&!xe.firstMatchCanBeWeak)return;lt--,Ke--;const et=[be[lt][Ke],ne];let Ze=0,Mt=0;for(;lt>=1;){let ze=Ke;do{const dt=me[lt][ze];if(3===dt)ze-=2;else{if(2!==dt)break;ze-=1}}while(ze>=1);Ze>1&&pe[De+lt-1]===Ne[ne+Ke-1]&&!ge(ze+ne-1,Oe,Ne)&&Ze+1>fe[lt][ze]&&(ze=Ke),ze===Ke?Ze++:Ze=1,Mt||(Mt=ze),lt--,Ke=ze-1,et.push(Ke)}return gt===Je&&xe.boostFullMatch&&(et[0]+=2),et[0]-=Mt-Je,et}function ye(Ae,pe,De,Oe,Ne,ne,xe,Je,gt,lt,Ke){if(pe[De]!==ne[xe])return Number.MIN_SAFE_INTEGER;let He=1,Ue=!1;return xe===De-Oe?He=Ae[De]===Ne[xe]?7:5:!ge(xe,Ne,ne)||0!==xe&&ge(xe-1,Ne,ne)?!he(ne,xe)||0!==xe&&he(ne,xe-1)?(he(ne,xe-1)||de(ne,xe-1))&&(He=5,Ue=!0):He=5:(He=Ae[De]===Ne[xe]?7:5,Ue=!0),He>1&&De===Oe&&(Ke[0]=!0),Ue||(Ue=ge(xe,Ne,ne)||he(ne,xe-1)||de(ne,xe-1)),De===Oe?xe>gt&&(He-=Ue?3:5):He+=lt?Ue?2:0:Ue?0:1,xe+1===Je&&(He-=Ue?3:5),He}function _e(Ae,pe,De,Oe,Ne,ne,xe){return function Be(Ae,pe,De,Oe,Ne,ne,xe,Je){let gt=Ve(Ae,pe,De,Oe,Ne,ne,Je);if(gt&&!xe)return gt;if(Ae.length>=3){const lt=Math.min(7,Ae.length-1);for(let Ke=De+1;Ke<lt;Ke++){const He=Qe(Ae,Ke);if(He){const Ue=Ve(He,He.toLowerCase(),De,Oe,Ne,ne,Je);Ue&&(Ue[0]-=3,(!gt||Ue[0]>gt[0])&&(gt=Ue))}}}return gt}(Ae,pe,De,Oe,Ne,ne,!0,xe)}function Qe(Ae,pe){if(pe+1>=Ae.length)return;const De=Ae[pe],Oe=Ae[pe+1];return De!==Oe?Ae.slice(0,pe)+Oe+De+Ae.slice(pe+2):void 0}},52706:(at,ue,e)=>{"use strict";function f(s){const L=this;let u,M=!1;return function(){return M||(M=!0,u=s.apply(L,arguments)),u}}e.d(ue,{I:()=>f})},92638:(at,ue,e)=>{"use strict";e.d(ue,{Cv:()=>P,SP:()=>L,vp:()=>s,yP:()=>c});var f=e(93059);function s(n){return L(n,0)}function L(n,l){switch(typeof n){case"object":return null===n?M(349,l):Array.isArray(n)?function A(n,l){return l=M(104579,l),n.reduce((v,d)=>L(d,v),l)}(n,l):function k(n,l){return l=M(181387,l),Object.keys(n).sort().reduce((v,d)=>(v=P(d,v),L(n[d],v)),l)}(n,l);case"string":return P(n,l);case"boolean":return function u(n,l){return M(n?433:863,l)}(n,l);case"number":return M(n,l);case"undefined":return M(937,l);default:return M(617,l)}}function M(n,l){return(l<<5)-l+n|0}function P(n,l){l=M(149417,l);for(let v=0,d=n.length;v<d;v++)l=M(n.charCodeAt(v),l);return l}function N(n,l,v=32){const d=v-l;return(n<<l|(~((1<<d)-1)&n)>>>d)>>>0}function _(n,l=0,v=n.byteLength,d=0){for(let m=0;m<v;m++)n[l+m]=d}function p(n,l=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(v=>v.toString(16).padStart(2,"0")).join(""):function a(n,l,v="0"){for(;n.length<l;)n=v+n;return n}((n>>>0).toString(16),l/4)}class c{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(l){const v=l.length;if(0===v)return;const d=this._buff;let y,S,m=this._buffLen,I=this._leftoverHighSurrogate;for(0!==I?(y=I,S=-1,I=0):(y=l.charCodeAt(0),S=0);;){let b=y;if(f.ZG(y)){if(!(S+1<v)){I=y;break}{const x=l.charCodeAt(S+1);f.YK(x)?(S++,b=f.rL(y,x)):b=65533}}else f.YK(y)&&(b=65533);if(m=this._push(d,m,b),S++,!(S<v))break;y=l.charCodeAt(S)}this._buffLen=m,this._leftoverHighSurrogate=I}_push(l,v,d){return d<128?l[v++]=d:d<2048?(l[v++]=192|(1984&d)>>>6,l[v++]=128|(63&d)>>>0):d<65536?(l[v++]=224|(61440&d)>>>12,l[v++]=128|(4032&d)>>>6,l[v++]=128|(63&d)>>>0):(l[v++]=240|(1835008&d)>>>18,l[v++]=128|(258048&d)>>>12,l[v++]=128|(4032&d)>>>6,l[v++]=128|(63&d)>>>0),v>=64&&(this._step(),v-=64,this._totalLen+=64,l[0]=l[64],l[1]=l[65],l[2]=l[66]),v}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),p(this._h0)+p(this._h1)+p(this._h2)+p(this._h3)+p(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,_(this._buff,this._buffLen),this._buffLen>56&&(this._step(),_(this._buff));const l=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(l/4294967296),!1),this._buffDV.setUint32(60,l%4294967296,!1),this._step()}_step(){const l=c._bigBlock32,v=this._buffDV;for(let R=0;R<64;R+=4)l.setUint32(R,v.getUint32(R,!1),!1);for(let R=64;R<320;R+=4)l.setUint32(R,N(l.getUint32(R-12,!1)^l.getUint32(R-32,!1)^l.getUint32(R-56,!1)^l.getUint32(R-64,!1),1),!1);let b,x,T,d=this._h0,m=this._h1,I=this._h2,y=this._h3,S=this._h4;for(let R=0;R<80;R++)R<20?(b=m&I|~m&y,x=1518500249):R<40?(b=m^I^y,x=1859775393):R<60?(b=m&I|m&y|I&y,x=2400959708):(b=m^I^y,x=3395469782),T=N(d,5)+b+S+x+l.getUint32(4*R,!1)&4294967295,S=y,y=I,I=N(m,30),m=d,d=T;this._h0=this._h0+d&4294967295,this._h1=this._h1+m&4294967295,this._h2=this._h2+I&4294967295,this._h3=this._h3+y&4294967295,this._h4=this._h4+S&4294967295}}c._bigBlock32=new DataView(new ArrayBuffer(320))},22468:(at,ue,e)=>{"use strict";e.d(ue,{CP:()=>u,Fr:()=>P,W5:()=>M,d9:()=>k,oR:()=>N,v1:()=>_});var f=e(53663),s=e(10661),L=e(93059);class M{constructor(p="",c=!1){var n,l,v;if(this.value=p,"string"!=typeof this.value)throw(0,f.b1)("value");"boolean"==typeof c?(this.isTrusted=c,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=null!==(n=c.isTrusted)&&void 0!==n?n:void 0,this.supportThemeIcons=null!==(l=c.supportThemeIcons)&&void 0!==l&&l,this.supportHtml=null!==(v=c.supportHtml)&&void 0!==v&&v)}appendText(p,c=0){return this.value+=function A(a){return a.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}(this.supportThemeIcons?(0,s.Qo)(p):p).replace(/([ \t]+)/g,(n,l)=>"&nbsp;".repeat(l.length)).replace(/\>/gm,"\\>").replace(/\n/g,1===c?"\\\n":"\n\n"),this}appendMarkdown(p){return this.value+=p,this}appendCodeblock(p,c){return this.value+="\n```",this.value+=p,this.value+="\n",this.value+=c,this.value+="\n```\n",this}appendLink(p,c,n){return this.value+="[",this.value+=this._escape(c,"]"),this.value+="](",this.value+=this._escape(String(p),")"),n&&(this.value+=` "${this._escape(this._escape(n,'"'),")")}"`),this.value+=")",this}_escape(p,c){const n=new RegExp((0,L.ec)(c),"g");return p.replace(n,(l,v)=>"\\"!==p.charAt(v-1)?`\\${l}`:l)}}function u(a){return P(a)?!a.value:!Array.isArray(a)||a.every(u)}function P(a){return a instanceof M||!(!a||"object"!=typeof a)&&!("string"!=typeof a.value||"boolean"!=typeof a.isTrusted&&void 0!==a.isTrusted||"boolean"!=typeof a.supportThemeIcons&&void 0!==a.supportThemeIcons)}function k(a){return a.replace(/"/g,"&quot;")}function N(a){return a&&a.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function _(a){const p=[],c=a.split("|").map(l=>l.trim());a=c[0];const n=c[1];if(n){const l=/height=(\d+)/.exec(n),v=/width=(\d+)/.exec(n),d=l?l[1]:"",m=v?v[1]:"",I=isFinite(parseInt(m)),y=isFinite(parseInt(d));I&&p.push(`width="${m}"`),y&&p.push(`height="${d}"`)}return{href:a,dimensions:p}}},10661:(at,ue,e)=>{"use strict";e.d(ue,{Gt:()=>l,Ho:()=>c,Qo:()=>k,f$:()=>_,x$:()=>p});var f=e(2450),s=e(81979),L=e(93059);const M="$(",u=new RegExp(`\\$\\(${f.dT.iconNameExpression}(?:${f.dT.iconModifierExpression})?\\)`,"g"),P=new RegExp(f.dT.iconNameCharacter),A=new RegExp(`(\\\\)?${u.source}`,"g");function k(v){return v.replace(A,(d,m)=>m?d:`\\${d}`)}const N=new RegExp(`\\\\${u.source}`,"g");function _(v){return v.replace(N,d=>`\\${d}`)}const a=new RegExp(`(\\s)?(\\\\)?${u.source}(\\s)?`,"g");function p(v){return-1===v.indexOf(M)?v:v.replace(a,(d,m,I,y)=>I?d:m||y||"")}function c(v){const d=v.indexOf(M);return-1===d?{text:v}:function n(v,d){const m=[];let I="";function y(G){if(G){I+=G;for(const F of G)m.push(x)}}let T,R,S=-1,b="",x=0,Q=d;const Z=v.length;for(y(v.substr(0,d));Q<Z;)T=v[Q],R=v[Q+1],T===M[0]&&R===M[1]?(S=Q,y(b),b=M,Q++):")"===T&&-1!==S?(x+=Q-S+1,S=-1,b=""):-1!==S?P.test(T)?b+=T:(y(b),S=-1,b=""):y(T),Q++;return y(b),{text:I,iconOffsets:m}}(v,d)}function l(v,d,m=!1){const{text:I,iconOffsets:y}=d;if(!y||0===y.length)return(0,s.Oh)(v,I,m);const S=(0,L.j3)(I," "),b=I.length-S.length,x=(0,s.Oh)(v,S,m);if(x)for(const T of x){const R=y[T.start+b]+b;T.start+=R,T.end+=R}return x}},68900:(at,ue,e)=>{"use strict";e.d(ue,{R:()=>f,a:()=>s});class f{constructor(M){this._prefix=M,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const s=new f("id#")},67981:(at,ue,e)=>{"use strict";var f;e.d(ue,{$:()=>f}),function(s){s.is=function L(b){return b&&"object"==typeof b&&"function"==typeof b[Symbol.iterator]};const M=Object.freeze([]);function I(b,x=Number.POSITIVE_INFINITY){const T=[];if(0===x)return[T,b];const R=b[Symbol.iterator]();for(let Q=0;Q<x;Q++){const Z=R.next();if(Z.done)return[T,s.empty()];T.push(Z.value)}return[T,{[Symbol.iterator]:()=>R}]}s.empty=function u(){return M},s.single=function*P(b){yield b},s.from=function A(b){return b||M},s.isEmpty=function k(b){return!b||!0===b[Symbol.iterator]().next().done},s.first=function N(b){return b[Symbol.iterator]().next().value},s.some=function _(b,x){for(const T of b)if(x(T))return!0;return!1},s.find=function a(b,x){for(const T of b)if(x(T))return T},s.filter=function*p(b,x){for(const T of b)x(T)&&(yield T)},s.map=function*c(b,x){let T=0;for(const R of b)yield x(R,T++)},s.concat=function*n(...b){for(const x of b)for(const T of x)yield T},s.concatNested=function*l(b){for(const x of b)for(const T of x)yield T},s.reduce=function v(b,x,T){let R=T;for(const Q of b)R=x(R,Q);return R},s.forEach=function d(b,x){let T=0;for(const R of b)x(R,T++)},s.slice=function*m(b,x,T=b.length){for(x<0&&(x+=b.length),T<0?T+=b.length:T>b.length&&(T=b.length);x<T;x++)yield b[x]},s.consume=I,s.collect=function y(b){return I(b)[0]},s.equals=function S(b,x,T=((R,Q)=>R===Q)){const R=b[Symbol.iterator](),Q=x[Symbol.iterator]();for(;;){const Z=R.next(),G=Q.next();if(Z.done!==G.done)return!1;if(Z.done)return!0;if(!T(Z.value,G.value))return!1}}}(f||(f={}))},36950:(at,ue,e)=>{"use strict";e.d(ue,{H_:()=>u,Vd:()=>_,gx:()=>c,kL:()=>p});class f{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(l,v){this._keyCodeToStr[l]=v,this._strToKeyCode[v.toLowerCase()]=l}keyCodeToStr(l){return this._keyCodeToStr[l]}strToKeyCode(l){return this._strToKeyCode[l.toLowerCase()]||0}}const s=new f,L=new f,M=new f,u=new Array(230),P={},A=[],k=Object.create(null),N=Object.create(null),_=[],a=[];for(let n=0;n<=193;n++)_[n]=-1;for(let n=0;n<=127;n++)a[n]=-1;var p,n;function c(n,l){return(n|(65535&l)<<16>>>0)>>>0}!function(){const n="",l=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",n,n],[0,1,1,"Hyper",0,n,0,n,n,n],[0,1,2,"Super",0,n,0,n,n,n],[0,1,3,"Fn",0,n,0,n,n,n],[0,1,4,"FnLock",0,n,0,n,n,n],[0,1,5,"Suspend",0,n,0,n,n,n],[0,1,6,"Resume",0,n,0,n,n,n],[0,1,7,"Turbo",0,n,0,n,n,n],[0,1,8,"Sleep",0,n,0,"VK_SLEEP",n,n],[0,1,9,"WakeUp",0,n,0,n,n,n],[31,0,10,"KeyA",31,"A",65,"VK_A",n,n],[32,0,11,"KeyB",32,"B",66,"VK_B",n,n],[33,0,12,"KeyC",33,"C",67,"VK_C",n,n],[34,0,13,"KeyD",34,"D",68,"VK_D",n,n],[35,0,14,"KeyE",35,"E",69,"VK_E",n,n],[36,0,15,"KeyF",36,"F",70,"VK_F",n,n],[37,0,16,"KeyG",37,"G",71,"VK_G",n,n],[38,0,17,"KeyH",38,"H",72,"VK_H",n,n],[39,0,18,"KeyI",39,"I",73,"VK_I",n,n],[40,0,19,"KeyJ",40,"J",74,"VK_J",n,n],[41,0,20,"KeyK",41,"K",75,"VK_K",n,n],[42,0,21,"KeyL",42,"L",76,"VK_L",n,n],[43,0,22,"KeyM",43,"M",77,"VK_M",n,n],[44,0,23,"KeyN",44,"N",78,"VK_N",n,n],[45,0,24,"KeyO",45,"O",79,"VK_O",n,n],[46,0,25,"KeyP",46,"P",80,"VK_P",n,n],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",n,n],[48,0,27,"KeyR",48,"R",82,"VK_R",n,n],[49,0,28,"KeyS",49,"S",83,"VK_S",n,n],[50,0,29,"KeyT",50,"T",84,"VK_T",n,n],[51,0,30,"KeyU",51,"U",85,"VK_U",n,n],[52,0,31,"KeyV",52,"V",86,"VK_V",n,n],[53,0,32,"KeyW",53,"W",87,"VK_W",n,n],[54,0,33,"KeyX",54,"X",88,"VK_X",n,n],[55,0,34,"KeyY",55,"Y",89,"VK_Y",n,n],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",n,n],[22,0,36,"Digit1",22,"1",49,"VK_1",n,n],[23,0,37,"Digit2",23,"2",50,"VK_2",n,n],[24,0,38,"Digit3",24,"3",51,"VK_3",n,n],[25,0,39,"Digit4",25,"4",52,"VK_4",n,n],[26,0,40,"Digit5",26,"5",53,"VK_5",n,n],[27,0,41,"Digit6",27,"6",54,"VK_6",n,n],[28,0,42,"Digit7",28,"7",55,"VK_7",n,n],[29,0,43,"Digit8",29,"8",56,"VK_8",n,n],[30,0,44,"Digit9",30,"9",57,"VK_9",n,n],[21,0,45,"Digit0",21,"0",48,"VK_0",n,n],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",n,n],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",n,n],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",n,n],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",n,n],[10,1,50,"Space",10,"Space",32,"VK_SPACE",n,n],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,n,0,n,n,n],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",n,n],[59,1,64,"F1",59,"F1",112,"VK_F1",n,n],[60,1,65,"F2",60,"F2",113,"VK_F2",n,n],[61,1,66,"F3",61,"F3",114,"VK_F3",n,n],[62,1,67,"F4",62,"F4",115,"VK_F4",n,n],[63,1,68,"F5",63,"F5",116,"VK_F5",n,n],[64,1,69,"F6",64,"F6",117,"VK_F6",n,n],[65,1,70,"F7",65,"F7",118,"VK_F7",n,n],[66,1,71,"F8",66,"F8",119,"VK_F8",n,n],[67,1,72,"F9",67,"F9",120,"VK_F9",n,n],[68,1,73,"F10",68,"F10",121,"VK_F10",n,n],[69,1,74,"F11",69,"F11",122,"VK_F11",n,n],[70,1,75,"F12",70,"F12",123,"VK_F12",n,n],[0,1,76,"PrintScreen",0,n,0,n,n,n],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",n,n],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",n,n],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",n,n],[14,1,80,"Home",14,"Home",36,"VK_HOME",n,n],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",n,n],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",n,n],[13,1,83,"End",13,"End",35,"VK_END",n,n],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",n,n],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",n],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",n],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",n],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",n],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",n,n],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",n,n],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",n,n],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",n,n],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",n,n],[3,1,94,"NumpadEnter",3,n,0,n,n,n],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",n,n],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",n,n],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",n,n],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",n,n],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",n,n],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",n,n],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",n,n],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",n,n],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",n,n],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",n,n],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",n,n],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",n,n],[58,1,107,"ContextMenu",58,"ContextMenu",93,n,n,n],[0,1,108,"Power",0,n,0,n,n,n],[0,1,109,"NumpadEqual",0,n,0,n,n,n],[71,1,110,"F13",71,"F13",124,"VK_F13",n,n],[72,1,111,"F14",72,"F14",125,"VK_F14",n,n],[73,1,112,"F15",73,"F15",126,"VK_F15",n,n],[74,1,113,"F16",74,"F16",127,"VK_F16",n,n],[75,1,114,"F17",75,"F17",128,"VK_F17",n,n],[76,1,115,"F18",76,"F18",129,"VK_F18",n,n],[77,1,116,"F19",77,"F19",130,"VK_F19",n,n],[0,1,117,"F20",0,n,0,"VK_F20",n,n],[0,1,118,"F21",0,n,0,"VK_F21",n,n],[0,1,119,"F22",0,n,0,"VK_F22",n,n],[0,1,120,"F23",0,n,0,"VK_F23",n,n],[0,1,121,"F24",0,n,0,"VK_F24",n,n],[0,1,122,"Open",0,n,0,n,n,n],[0,1,123,"Help",0,n,0,n,n,n],[0,1,124,"Select",0,n,0,n,n,n],[0,1,125,"Again",0,n,0,n,n,n],[0,1,126,"Undo",0,n,0,n,n,n],[0,1,127,"Cut",0,n,0,n,n,n],[0,1,128,"Copy",0,n,0,n,n,n],[0,1,129,"Paste",0,n,0,n,n,n],[0,1,130,"Find",0,n,0,n,n,n],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",n,n],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",n,n],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",n,n],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",n,n],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",n,n],[0,1,136,"KanaMode",0,n,0,n,n,n],[0,0,137,"IntlYen",0,n,0,n,n,n],[0,1,138,"Convert",0,n,0,n,n,n],[0,1,139,"NonConvert",0,n,0,n,n,n],[0,1,140,"Lang1",0,n,0,n,n,n],[0,1,141,"Lang2",0,n,0,n,n,n],[0,1,142,"Lang3",0,n,0,n,n,n],[0,1,143,"Lang4",0,n,0,n,n,n],[0,1,144,"Lang5",0,n,0,n,n,n],[0,1,145,"Abort",0,n,0,n,n,n],[0,1,146,"Props",0,n,0,n,n,n],[0,1,147,"NumpadParenLeft",0,n,0,n,n,n],[0,1,148,"NumpadParenRight",0,n,0,n,n,n],[0,1,149,"NumpadBackspace",0,n,0,n,n,n],[0,1,150,"NumpadMemoryStore",0,n,0,n,n,n],[0,1,151,"NumpadMemoryRecall",0,n,0,n,n,n],[0,1,152,"NumpadMemoryClear",0,n,0,n,n,n],[0,1,153,"NumpadMemoryAdd",0,n,0,n,n,n],[0,1,154,"NumpadMemorySubtract",0,n,0,n,n,n],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",n,n],[0,1,156,"NumpadClearEntry",0,n,0,n,n,n],[5,1,0,n,5,"Ctrl",17,"VK_CONTROL",n,n],[4,1,0,n,4,"Shift",16,"VK_SHIFT",n,n],[6,1,0,n,6,"Alt",18,"VK_MENU",n,n],[57,1,0,n,57,"Meta",0,"VK_COMMAND",n,n],[5,1,157,"ControlLeft",5,n,0,"VK_LCONTROL",n,n],[4,1,158,"ShiftLeft",4,n,0,"VK_LSHIFT",n,n],[6,1,159,"AltLeft",6,n,0,"VK_LMENU",n,n],[57,1,160,"MetaLeft",57,n,0,"VK_LWIN",n,n],[5,1,161,"ControlRight",5,n,0,"VK_RCONTROL",n,n],[4,1,162,"ShiftRight",4,n,0,"VK_RSHIFT",n,n],[6,1,163,"AltRight",6,n,0,"VK_RMENU",n,n],[57,1,164,"MetaRight",57,n,0,"VK_RWIN",n,n],[0,1,165,"BrightnessUp",0,n,0,n,n,n],[0,1,166,"BrightnessDown",0,n,0,n,n,n],[0,1,167,"MediaPlay",0,n,0,n,n,n],[0,1,168,"MediaRecord",0,n,0,n,n,n],[0,1,169,"MediaFastForward",0,n,0,n,n,n],[0,1,170,"MediaRewind",0,n,0,n,n,n],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",n,n],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",n,n],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",n,n],[0,1,174,"Eject",0,n,0,n,n,n],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",n,n],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",n,n],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",n,n],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",n,n],[0,1,179,"LaunchApp1",0,n,0,"VK_MEDIA_LAUNCH_APP1",n,n],[0,1,180,"SelectTask",0,n,0,n,n,n],[0,1,181,"LaunchScreenSaver",0,n,0,n,n,n],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",n,n],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",n,n],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",n,n],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",n,n],[0,1,186,"BrowserStop",0,n,0,"VK_BROWSER_STOP",n,n],[0,1,187,"BrowserRefresh",0,n,0,"VK_BROWSER_REFRESH",n,n],[0,1,188,"BrowserFavorites",0,n,0,"VK_BROWSER_FAVORITES",n,n],[0,1,189,"ZoomToggle",0,n,0,n,n,n],[0,1,190,"MailReply",0,n,0,n,n,n],[0,1,191,"MailForward",0,n,0,n,n,n],[0,1,192,"MailSend",0,n,0,n,n,n],[109,1,0,n,109,"KeyInComposition",229,n,n,n],[111,1,0,n,111,"ABNT_C2",194,"VK_ABNT_C2",n,n],[91,1,0,n,91,"OEM_8",223,"VK_OEM_8",n,n],[0,1,0,n,0,n,0,"VK_KANA",n,n],[0,1,0,n,0,n,0,"VK_HANGUL",n,n],[0,1,0,n,0,n,0,"VK_JUNJA",n,n],[0,1,0,n,0,n,0,"VK_FINAL",n,n],[0,1,0,n,0,n,0,"VK_HANJA",n,n],[0,1,0,n,0,n,0,"VK_KANJI",n,n],[0,1,0,n,0,n,0,"VK_CONVERT",n,n],[0,1,0,n,0,n,0,"VK_NONCONVERT",n,n],[0,1,0,n,0,n,0,"VK_ACCEPT",n,n],[0,1,0,n,0,n,0,"VK_MODECHANGE",n,n],[0,1,0,n,0,n,0,"VK_SELECT",n,n],[0,1,0,n,0,n,0,"VK_PRINT",n,n],[0,1,0,n,0,n,0,"VK_EXECUTE",n,n],[0,1,0,n,0,n,0,"VK_SNAPSHOT",n,n],[0,1,0,n,0,n,0,"VK_HELP",n,n],[0,1,0,n,0,n,0,"VK_APPS",n,n],[0,1,0,n,0,n,0,"VK_PROCESSKEY",n,n],[0,1,0,n,0,n,0,"VK_PACKET",n,n],[0,1,0,n,0,n,0,"VK_DBE_SBCSCHAR",n,n],[0,1,0,n,0,n,0,"VK_DBE_DBCSCHAR",n,n],[0,1,0,n,0,n,0,"VK_ATTN",n,n],[0,1,0,n,0,n,0,"VK_CRSEL",n,n],[0,1,0,n,0,n,0,"VK_EXSEL",n,n],[0,1,0,n,0,n,0,"VK_EREOF",n,n],[0,1,0,n,0,n,0,"VK_PLAY",n,n],[0,1,0,n,0,n,0,"VK_ZOOM",n,n],[0,1,0,n,0,n,0,"VK_NONAME",n,n],[0,1,0,n,0,n,0,"VK_PA1",n,n],[0,1,0,n,0,n,0,"VK_OEM_CLEAR",n,n]],v=[],d=[];for(const m of l){const[I,y,S,b,x,T,R,Q,Z,G]=m;if(d[S]||(d[S]=!0,A[S]=b,k[b]=S,N[b.toLowerCase()]=S,y&&(_[S]=x,0!==x&&3!==x&&5!==x&&4!==x&&6!==x&&57!==x&&(a[x]=S))),!v[x]){if(v[x]=!0,!T)throw new Error(`String representation missing for key code ${x} around scan code ${b}`);s.define(x,T),L.define(x,Z||T),M.define(x,G||Z||T)}R&&(u[R]=x),Q&&(P[Q]=x)}a[3]=46}(),(n=p||(p={})).toString=function l(S){return s.keyCodeToStr(S)},n.fromString=function v(S){return s.strToKeyCode(S)},n.toUserSettingsUS=function d(S){return L.keyCodeToStr(S)},n.toUserSettingsGeneral=function m(S){return M.keyCodeToStr(S)},n.fromUserSettings=function I(S){return L.strToKeyCode(S)||M.strToKeyCode(S)},n.toElectronAccelerator=function y(S){if(S>=93&&S<=108)return null;switch(S){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return s.keyCodeToStr(S)}},27:(at,ue,e)=>{"use strict";e.d(ue,{X4:()=>M,jC:()=>u,xo:()=>L});var f=e(40402);class s{constructor(N,_,a=_){this.modifierLabels=[null],this.modifierLabels[2]=N,this.modifierLabels[1]=_,this.modifierLabels[3]=a}toLabel(N,_,a){if(0===_.length)return null;const p=[];for(let c=0,n=_.length;c<n;c++){const l=_[c],v=a(l);if(null===v)return null;p[c]=A(l,v,this.modifierLabels[N])}return p.join(" ")}}const L=new s({ctrlKey:"\u2303",shiftKey:"\u21e7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:f.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:f.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:f.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:f.NC({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:f.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:f.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:f.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:f.NC({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),M=new s({ctrlKey:f.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:f.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:f.NC({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:f.NC({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:f.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:f.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:f.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:f.NC({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:f.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:f.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:f.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:f.NC({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),u=new s({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});function A(k,N,_){if(null===N)return"";const a=[];return k.ctrlKey&&a.push(_.ctrlKey),k.shiftKey&&a.push(_.shiftKey),k.altKey&&a.push(_.altKey),k.metaKey&&a.push(_.metaKey),""!==N&&a.push(N),a.join(_.separator)}new s({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"})},5016:(at,ue,e)=>{"use strict";e.d(ue,{BQ:()=>A,QC:()=>M,X_:()=>u,f1:()=>k,gm:()=>s});var f=e(53663);function s(N,_){if(0===N)return null;const a=(65535&N)>>>0,p=(4294901760&N)>>>16;return new u(0!==p?[L(a,_),L(p,_)]:[L(a,_)])}function L(N,_){const a=!!(2048&N),p=!!(256&N);return new M(2===_?p:a,!!(1024&N),!!(512&N),2===_?a:p,255&N)}class M{constructor(_,a,p,c,n){this.ctrlKey=_,this.shiftKey=a,this.altKey=p,this.metaKey=c,this.keyCode=n}equals(_){return this.ctrlKey===_.ctrlKey&&this.shiftKey===_.shiftKey&&this.altKey===_.altKey&&this.metaKey===_.metaKey&&this.keyCode===_.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}toChord(){return new u([this])}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class u{constructor(_){if(0===_.length)throw(0,f.b1)("parts");this.parts=_}}class A{constructor(_,a,p,c,n,l){this.ctrlKey=_,this.shiftKey=a,this.altKey=p,this.metaKey=c,this.keyLabel=n,this.keyAriaLabel=l}}class k{}},20991:(at,ue,e)=>{"use strict";e.d(ue,{o:()=>f});class f{constructor(L){this.executor=L,this._didRun=!1}hasValue(){return this._didRun}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(L){this._error=L}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},52425:(at,ue,e)=>{"use strict";e.d(ue,{B9:()=>c,F8:()=>n,JT:()=>d,Jz:()=>S,L6:()=>I,OF:()=>l,SL:()=>v,Wf:()=>p,XK:()=>m,dk:()=>_,dt:()=>y});var f=e(52706),s=e(67981);let M=null;function _(b){return b}class a extends Error{constructor(x){super(`Encountered errors while disposing of store. Errors: [${x.join(", ")}]`),this.errors=x}}function p(b){return"function"==typeof b.dispose&&0===b.dispose.length}function c(b){if(s.$.is(b)){const x=[];for(const T of b)if(T)try{T.dispose()}catch(R){x.push(R)}if(1===x.length)throw x[0];if(x.length>1)throw new a(x);return Array.isArray(b)?[]:b}if(b)return b.dispose(),b}function n(...b){const x=l(()=>c(b));return function N(b,x){M}(),x}function l(b){const x={dispose:(0,f.I)(()=>{b()})};return x}let v=(()=>{class b{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{c(this._toDispose.values())}finally{this._toDispose.clear()}}add(T){if(!T)return T;if(T===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?b.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(T),T}}return b.DISABLE_DISPOSED_WARNING=!1,b})();class d{constructor(){this._store=new v}dispose(){this._store.dispose()}_register(x){if(x===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(x)}}d.None=Object.freeze({dispose(){}});class m{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(x){var T;this._isDisposed||x===this._value||(null===(T=this._value)||void 0===T||T.dispose(),this._value=x)}clear(){this.value=void 0}dispose(){var x;this._isDisposed=!0,null===(x=this._value)||void 0===x||x.dispose(),this._value=void 0}clearAndLeak(){const x=this._value;return this._value=void 0,x}}class I{constructor(x){this._disposable=x,this._counter=1}acquire(){return this._counter++,this}release(){return 0==--this._counter&&this._disposable.dispose(),this}}class y{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1}set(x){let T=x;return this.unset=()=>T=void 0,this.isset=()=>void 0!==T,this.dispose=()=>{T&&(T(),T=void 0)},this}}class S{constructor(x){this.object=x}dispose(){}}},38460:(at,ue,e)=>{"use strict";e.d(ue,{S:()=>s});class f{constructor(M){this.element=M,this.next=f.Undefined,this.prev=f.Undefined}}f.Undefined=new f(void 0);class s{constructor(){this._first=f.Undefined,this._last=f.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===f.Undefined}clear(){let M=this._first;for(;M!==f.Undefined;){const u=M.next;M.prev=f.Undefined,M.next=f.Undefined,M=u}this._first=f.Undefined,this._last=f.Undefined,this._size=0}unshift(M){return this._insert(M,!1)}push(M){return this._insert(M,!0)}_insert(M,u){const P=new f(M);if(this._first===f.Undefined)this._first=P,this._last=P;else if(u){const k=this._last;this._last=P,P.prev=k,k.next=P}else{const k=this._first;this._first=P,P.next=k,k.prev=P}this._size+=1;let A=!1;return()=>{A||(A=!0,this._remove(P))}}shift(){if(this._first!==f.Undefined){const M=this._first.element;return this._remove(this._first),M}}pop(){if(this._last!==f.Undefined){const M=this._last.element;return this._remove(this._last),M}}_remove(M){if(M.prev!==f.Undefined&&M.next!==f.Undefined){const u=M.prev;u.next=M.next,M.next.prev=u}else M.prev===f.Undefined&&M.next===f.Undefined?(this._first=f.Undefined,this._last=f.Undefined):M.next===f.Undefined?(this._last=this._last.prev,this._last.next=f.Undefined):M.prev===f.Undefined&&(this._first=this._first.next,this._first.prev=f.Undefined);this._size-=1}*[Symbol.iterator](){let M=this._first;for(;M!==f.Undefined;)yield M.element,M=M.next}}},7838:(at,ue,e)=>{"use strict";e.d(ue,{Id:()=>N,Y9:()=>a,z6:()=>c});var s,L,f=e(93059);class M{constructor(){this._value="",this._pos=0}reset(l){return this._value=l,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(l){return l.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class u{constructor(l=!0){this._caseSensitive=l}reset(l){return this._value=l,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let l=!0;for(;this._to<this._value.length;this._to++)if(46===this._value.charCodeAt(this._to)){if(!l)break;this._from++}else l=!1;return this}cmp(l){return this._caseSensitive?(0,f.TT)(l,this._value,0,l.length,this._from,this._to):(0,f.j_)(l,this._value,0,l.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class P{constructor(l=!0,v=!0){this._splitOnBackslash=l,this._caseSensitive=v}reset(l){this._from=0,this._to=0,this._value=l,this._valueLen=l.length;for(let v=l.length-1;v>=0;v--,this._valueLen--){const d=this._value.charCodeAt(v);if(!(47===d||this._splitOnBackslash&&92===d))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let l=!0;for(;this._to<this._valueLen;this._to++){const v=this._value.charCodeAt(this._to);if(47===v||this._splitOnBackslash&&92===v){if(!l)break;this._from++}else l=!1}return this}cmp(l){return this._caseSensitive?(0,f.TT)(l,this._value,0,l.length,this._from,this._to):(0,f.j_)(l,this._value,0,l.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class A{constructor(l,v){this._ignorePathCasing=l,this._ignoreQueryAndFragment=v,this._states=[],this._stateIdx=0}reset(l){return this._value=l,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new P(!1,!this._ignorePathCasing(l)),this._pathIterator.reset(l.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(l)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(l){if(1===this._states[this._stateIdx])return(0,f.zY)(l,this._value.scheme);if(2===this._states[this._stateIdx])return(0,f.zY)(l,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(l);if(4===this._states[this._stateIdx])return(0,f.qu)(l,this._value.query);if(5===this._states[this._stateIdx])return(0,f.qu)(l,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class k{constructor(){this.height=1}rotateLeft(){const l=this.right;return this.right=l.left,l.left=this,this.updateHeight(),l.updateHeight(),l}rotateRight(){const l=this.left;return this.left=l.right,l.right=this,this.updateHeight(),l.updateHeight(),l}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var l,v;return null!==(v=null===(l=this.left)||void 0===l?void 0:l.height)&&void 0!==v?v:0}get heightRight(){var l,v;return null!==(v=null===(l=this.right)||void 0===l?void 0:l.height)&&void 0!==v?v:0}}class N{constructor(l){this._iter=l}static forUris(l=(()=>!1),v=(()=>!1)){return new N(new A(l,v))}static forStrings(){return new N(new M)}static forConfigKeys(){return new N(new u)}clear(){this._root=void 0}set(l,v){const d=this._iter.reset(l);let m;this._root||(this._root=new k,this._root.segment=d.value());const I=[];for(m=this._root;;){const S=d.cmp(m.segment);if(S>0)m.left||(m.left=new k,m.left.segment=d.value()),I.push([-1,m]),m=m.left;else if(S<0)m.right||(m.right=new k,m.right.segment=d.value()),I.push([1,m]),m=m.right;else{if(!d.hasNext())break;d.next(),m.mid||(m.mid=new k,m.mid.segment=d.value()),I.push([0,m]),m=m.mid}}const y=m.value;m.value=v,m.key=l;for(let S=I.length-1;S>=0;S--){const b=I[S][1];b.updateHeight();const x=b.balanceFactor();if(x<-1||x>1){const T=I[S][0],R=I[S+1][0];if(1===T&&1===R)I[S][1]=b.rotateLeft();else if(-1===T&&-1===R)I[S][1]=b.rotateRight();else if(1===T&&-1===R)b.right=I[S+1][1]=I[S+1][1].rotateRight(),I[S][1]=b.rotateLeft();else{if(-1!==T||1!==R)throw new Error;b.left=I[S+1][1]=I[S+1][1].rotateLeft(),I[S][1]=b.rotateRight()}if(S>0)switch(I[S-1][0]){case-1:I[S-1][1].left=I[S][1];break;case 1:I[S-1][1].right=I[S][1];break;case 0:I[S-1][1].mid=I[S][1]}else this._root=I[0][1]}}return y}get(l){var v;return null===(v=this._getNode(l))||void 0===v?void 0:v.value}_getNode(l){const v=this._iter.reset(l);let d=this._root;for(;d;){const m=v.cmp(d.segment);if(m>0)d=d.left;else if(m<0)d=d.right;else{if(!v.hasNext())break;v.next(),d=d.mid}}return d}has(l){const v=this._getNode(l);return!(void 0===(null==v?void 0:v.value)&&void 0===(null==v?void 0:v.mid))}delete(l){return this._delete(l,!1)}deleteSuperstr(l){return this._delete(l,!0)}_delete(l,v){var d;const m=this._iter.reset(l),I=[];let y=this._root;for(;y;){const S=m.cmp(y.segment);if(S>0)I.push([-1,y]),y=y.left;else if(S<0)I.push([1,y]),y=y.right;else{if(!m.hasNext())break;m.next(),I.push([0,y]),y=y.mid}}if(y){if(v?(y.left=void 0,y.mid=void 0,y.right=void 0,y.height=1):(y.key=void 0,y.value=void 0),!y.mid&&!y.value)if(y.left&&y.right){const S=this._min(y.right),{key:b,value:x,segment:T}=S;this._delete(S.key,!1),y.key=b,y.value=x,y.segment=T}else{const S=null!==(d=y.left)&&void 0!==d?d:y.right;if(I.length>0){const[b,x]=I[I.length-1];switch(b){case-1:x.left=S;break;case 0:x.mid=S;break;case 1:x.right=S}}else this._root=S}for(let S=I.length-1;S>=0;S--){const b=I[S][1];b.updateHeight();const x=b.balanceFactor();if(x>1?(b.right.balanceFactor()>=0||(b.right=b.right.rotateRight()),I[S][1]=b.rotateLeft()):x<-1&&(b.left.balanceFactor()<=0||(b.left=b.left.rotateLeft()),I[S][1]=b.rotateRight()),S>0)switch(I[S-1][0]){case-1:I[S-1][1].left=I[S][1];break;case 1:I[S-1][1].right=I[S][1];break;case 0:I[S-1][1].mid=I[S][1]}else this._root=I[0][1]}}}_min(l){for(;l.left;)l=l.left;return l}findSubstr(l){const v=this._iter.reset(l);let m,d=this._root;for(;d;){const I=v.cmp(d.segment);if(I>0)d=d.left;else if(I<0)d=d.right;else{if(!v.hasNext())break;v.next(),m=d.value||m,d=d.mid}}return d&&d.value||m}findSuperstr(l){const v=this._iter.reset(l);let d=this._root;for(;d;){const m=v.cmp(d.segment);if(m>0)d=d.left;else if(m<0)d=d.right;else{if(!v.hasNext())return d.mid?this._entries(d.mid):void 0;v.next(),d=d.mid}}}forEach(l){for(const[v,d]of this)l(d,v)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(l){const v=[];return this._dfsEntries(l,v),v[Symbol.iterator]()}_dfsEntries(l,v){!l||(l.left&&this._dfsEntries(l.left,v),l.value&&v.push([l.key,l.value]),l.mid&&this._dfsEntries(l.mid,v),l.right&&this._dfsEntries(l.right,v))}}class _{constructor(l,v){this.uri=l,this.value=v}}let a=(()=>{class n{constructor(v,d){this[s]="ResourceMap",v instanceof n?(this.map=new Map(v.map),this.toKey=null!=d?d:n.defaultToKey):(this.map=new Map,this.toKey=null!=v?v:n.defaultToKey)}set(v,d){return this.map.set(this.toKey(v),new _(v,d)),this}get(v){var d;return null===(d=this.map.get(this.toKey(v)))||void 0===d?void 0:d.value}has(v){return this.map.has(this.toKey(v))}get size(){return this.map.size}clear(){this.map.clear()}delete(v){return this.map.delete(this.toKey(v))}forEach(v,d){void 0!==d&&(v=v.bind(d));for(const[m,I]of this.map)v(I.value,I.uri,this)}*values(){for(const v of this.map.values())yield v.value}*keys(){for(const v of this.map.values())yield v.uri}*entries(){for(const v of this.map.values())yield[v.uri,v.value]}*[(s=Symbol.toStringTag,Symbol.iterator)](){for(const[,v]of this.map)yield[v.uri,v.value]}}return n.defaultToKey=l=>l.toString(),n})();class p{constructor(){this[L]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var l;return null===(l=this._head)||void 0===l?void 0:l.value}get last(){var l;return null===(l=this._tail)||void 0===l?void 0:l.value}has(l){return this._map.has(l)}get(l,v=0){const d=this._map.get(l);if(d)return 0!==v&&this.touch(d,v),d.value}set(l,v,d=0){let m=this._map.get(l);if(m)m.value=v,0!==d&&this.touch(m,d);else{switch(m={key:l,value:v,next:void 0,previous:void 0},d){case 0:case 2:default:this.addItemLast(m);break;case 1:this.addItemFirst(m)}this._map.set(l,m),this._size++}return this}delete(l){return!!this.remove(l)}remove(l){const v=this._map.get(l);if(v)return this._map.delete(l),this.removeItem(v),this._size--,v.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const l=this._head;return this._map.delete(l.key),this.removeItem(l),this._size--,l.value}forEach(l,v){const d=this._state;let m=this._head;for(;m;){if(v?l.bind(v)(m.value,m.key,this):l(m.value,m.key,this),this._state!==d)throw new Error("LinkedMap got modified during iteration.");m=m.next}}keys(){const l=this,v=this._state;let d=this._head;const m={[Symbol.iterator]:()=>m,next(){if(l._state!==v)throw new Error("LinkedMap got modified during iteration.");if(d){const I={value:d.key,done:!1};return d=d.next,I}return{value:void 0,done:!0}}};return m}values(){const l=this,v=this._state;let d=this._head;const m={[Symbol.iterator]:()=>m,next(){if(l._state!==v)throw new Error("LinkedMap got modified during iteration.");if(d){const I={value:d.value,done:!1};return d=d.next,I}return{value:void 0,done:!0}}};return m}entries(){const l=this,v=this._state;let d=this._head;const m={[Symbol.iterator]:()=>m,next(){if(l._state!==v)throw new Error("LinkedMap got modified during iteration.");if(d){const I={value:[d.key,d.value],done:!1};return d=d.next,I}return{value:void 0,done:!0}}};return m}[(L=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(l){if(l>=this.size)return;if(0===l)return void this.clear();let v=this._head,d=this.size;for(;v&&d>l;)this._map.delete(v.key),v=v.next,d--;this._head=v,this._size=d,v&&(v.previous=void 0),this._state++}addItemFirst(l){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");l.next=this._head,this._head.previous=l}else this._tail=l;this._head=l,this._state++}addItemLast(l){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");l.previous=this._tail,this._tail.next=l}else this._head=l;this._tail=l,this._state++}removeItem(l){if(l===this._head&&l===this._tail)this._head=void 0,this._tail=void 0;else if(l===this._head){if(!l.next)throw new Error("Invalid list");l.next.previous=void 0,this._head=l.next}else if(l===this._tail){if(!l.previous)throw new Error("Invalid list");l.previous.next=void 0,this._tail=l.previous}else{const v=l.next,d=l.previous;if(!v||!d)throw new Error("Invalid list");v.previous=d,d.next=v}l.next=void 0,l.previous=void 0,this._state++}touch(l,v){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===v||2===v)if(1===v){if(l===this._head)return;const d=l.next,m=l.previous;l===this._tail?(m.next=void 0,this._tail=m):(d.previous=m,m.next=d),l.previous=void 0,l.next=this._head,this._head.previous=l,this._head=l,this._state++}else if(2===v){if(l===this._tail)return;const d=l.next,m=l.previous;l===this._head?(d.previous=void 0,this._head=d):(d.previous=m,m.next=d),l.next=void 0,l.previous=this._tail,this._tail.next=l,this._tail=l,this._state++}}toJSON(){const l=[];return this.forEach((v,d)=>{l.push([d,v])}),l}fromJSON(l){this.clear();for(const[v,d]of l)this.set(v,d)}}class c extends p{constructor(l,v=1){super(),this._limit=l,this._ratio=Math.min(Math.max(0,v),1)}get limit(){return this._limit}set limit(l){this._limit=l,this.checkTrim()}get(l,v=2){return super.get(l,v)}peek(l){return super.get(l,0)}set(l,v){return super.set(l,v,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},63314:(at,ue,e)=>{"use strict";e.d(ue,{Q:()=>L});var f=e(38923),s=e(74672);function L(u){let P=JSON.parse(u);return P=M(P),P}function M(u,P=0){if(!u||P>200)return u;if("object"==typeof u){switch(u.$mid){case 1:return s.o.revive(u);case 2:return new RegExp(u.source,u.flags);case 14:return new Date(u.source)}if(u instanceof f.KN||u instanceof Uint8Array)return u;if(Array.isArray(u))for(let A=0;A<u.length;++A)u[A]=M(u[A],P+1);else for(const A in u)Object.hasOwnProperty.call(u,A)&&(u[A]=M(u[A],P+1))}return u}},59341:(at,ue,e)=>{"use strict";e.d(ue,{v:()=>f});const f=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},90278:(at,ue,e)=>{"use strict";e.d(ue,{Gi:()=>k,WX:()=>P,lg:()=>L});var f=e(38972),s=e(74672),L=(()=>{return(N=L||(L={})).inMemory="inmemory",N.vscode="vscode",N.internal="private",N.walkThrough="walkThrough",N.walkThroughSnippet="walkThroughSnippet",N.http="http",N.https="https",N.file="file",N.mailto="mailto",N.untitled="untitled",N.data="data",N.command="command",N.vscodeRemote="vscode-remote",N.vscodeRemoteResource="vscode-remote-resource",N.vscodeUserData="vscode-userdata",N.vscodeCustomEditor="vscode-custom-editor",N.vscodeNotebook="vscode-notebook",N.vscodeNotebookCell="vscode-notebook-cell",N.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",N.vscodeNotebookCellOutput="vscode-notebook-cell-output",N.vscodeInteractive="vscode-interactive",N.vscodeInteractiveInput="vscode-interactive-input",N.vscodeSettings="vscode-settings",N.vscodeWorkspaceTrust="vscode-workspace-trust",N.vscodeTerminal="vscode-terminal",N.webviewPanel="webview-panel",N.vscodeWebview="vscode-webview",N.extension="extension",N.vscodeFileResource="vscode-file",N.tmp="tmp",N.vsls="vsls",N.vscodeSourceControl="vscode-scm",L;var N})();const P=new class u{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${L.vscodeRemoteResource}`}setPreferredWebSchema(_){this._preferredWebSchema=_}rewrite(_){if(this._delegate)return this._delegate(_);const a=_.authority;let p=this._hosts[a];p&&-1!==p.indexOf(":")&&(p=`[${p}]`);const c=this._ports[a],n=this._connectionTokens[a];let l=`path=${encodeURIComponent(_.path)}`;return"string"==typeof n&&(l+=`&tkn=${encodeURIComponent(n)}`),s.o.from({scheme:f.$L?this._preferredWebSchema:L.vscodeRemoteResource,authority:`${p}:${c}`,path:this._remoteResourcesPath,query:l})}},k=new((()=>{class N{asBrowserUri(a,p){const c=this.toUri(a,p);return c.scheme===L.vscodeRemote?P.rewrite(c):c.scheme===L.file&&(f.tY||f.n2&&f.li.origin===`${L.vscodeFileResource}://${N.FALLBACK_AUTHORITY}`)?c.with({scheme:L.vscodeFileResource,authority:c.authority||N.FALLBACK_AUTHORITY,query:null,fragment:null}):c}toUri(a,p){return s.o.isUri(a)?a:s.o.parse(p.toUrl(a))}}return N.FALLBACK_AUTHORITY="vscode-app",N})())},38829:(at,ue,e)=>{"use strict";function f(M,u,P){return Math.min(Math.max(M,u),P)}e.d(ue,{N:()=>L,nM:()=>s,uZ:()=>f});class s{constructor(){this._n=1,this._val=0}update(u){return this._val=this._val+(u-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class L{constructor(u){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(u),this._values.fill(0,0,u)}update(u){const P=this._values[this._index];return this._values[this._index]=u,this._index=(this._index+1)%this._values.length,this._sum-=P,this._sum+=u,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},85271:(at,ue,e)=>{"use strict";e.d(ue,{I8:()=>s,_A:()=>L,fS:()=>k,jB:()=>A,rs:()=>u});var f=e(54435);function s(N){if(!N||"object"!=typeof N||N instanceof RegExp)return N;const _=Array.isArray(N)?[]:{};return Object.keys(N).forEach(a=>{_[a]=N[a]&&"object"==typeof N[a]?s(N[a]):N[a]}),_}function L(N){if(!N||"object"!=typeof N)return N;const _=[N];for(;_.length>0;){const a=_.shift();Object.freeze(a);for(const p in a)if(M.call(a,p)){const c=a[p];"object"==typeof c&&!Object.isFrozen(c)&&!(0,f.fU)(c)&&_.push(c)}}return N}const M=Object.prototype.hasOwnProperty;function u(N,_){return P(N,_,new Set)}function P(N,_,a){if((0,f.Jp)(N))return N;const p=_(N);if(void 0!==p)return p;if((0,f.kJ)(N)){const c=[];for(const n of N)c.push(P(n,_,a));return c}if((0,f.Kn)(N)){if(a.has(N))throw new Error("Cannot clone recursive data-structure");a.add(N);const c={};for(const n in N)M.call(N,n)&&(c[n]=P(N[n],_,a));return a.delete(N),c}return N}function A(N,_,a=!0){return(0,f.Kn)(N)?((0,f.Kn)(_)&&Object.keys(_).forEach(p=>{p in N?a&&((0,f.Kn)(N[p])&&(0,f.Kn)(_[p])?A(N[p],_[p],a):N[p]=_[p]):N[p]=_[p]}),N):_}function k(N,_){if(N===_)return!0;if(null==N||null==_||typeof N!=typeof _||"object"!=typeof N||Array.isArray(N)!==Array.isArray(_))return!1;let a,p;if(Array.isArray(N)){if(N.length!==_.length)return!1;for(a=0;a<N.length;a++)if(!k(N[a],_[a]))return!1}else{const c=[];for(p in N)c.push(p);c.sort();const n=[];for(p in _)n.push(p);if(n.sort(),!k(c,n))return!1;for(a=0;a<c.length;a++)if(!k(N[c[a]],_[c[a]]))return!1}return!0}},34163:(at,ue,e)=>{"use strict";e.d(ue,{EZ:()=>G,XX:()=>Z,DZ:()=>F,Fv:()=>T,KR:()=>x,Gf:()=>Q,DB:()=>R,ir:()=>W,Ku:()=>b});var f=e(38972);let s;if(void 0!==f.li.vscode&&void 0!==f.li.vscode.process){const B=f.li.vscode.process;s={get platform(){return B.platform},get arch(){return B.arch},get env(){return B.env},cwd:()=>B.cwd()}}else s="undefined"!=typeof process?{get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd:()=>process.env.VSCODE_CWD||process.cwd()}:{get platform(){return f.ED?"win32":f.dz?"darwin":"linux"},get arch(){},get env(){return{}},cwd:()=>"/"};const L=s.cwd,M=s.env,u=s.platform,_=46,a=47,p=92,c=58;class l extends Error{constructor(z,j,Y){let E;"string"==typeof j&&0===j.indexOf("not ")?(E="must not be",j=j.replace(/^not /,"")):E="must be";const V=-1!==z.indexOf(".")?"property":"argument";let $=`The "${z}" ${V} ${E} of type ${j}`;$+=". Received type "+typeof Y,super($),this.code="ERR_INVALID_ARG_TYPE"}}function v(B,z){if("string"!=typeof B)throw new l(z,"string",B)}function d(B){return B===a||B===p}function m(B){return B===a}function I(B){return B>=65&&B<=90||B>=97&&B<=122}function y(B,z,j,Y){let E="",V=0,$=-1,te=0,w=0;for(let fe=0;fe<=B.length;++fe){if(fe<B.length)w=B.charCodeAt(fe);else{if(Y(w))break;w=a}if(Y(w)){if($!==fe-1&&1!==te)if(2===te){if(E.length<2||2!==V||E.charCodeAt(E.length-1)!==_||E.charCodeAt(E.length-2)!==_){if(E.length>2){const be=E.lastIndexOf(j);-1===be?(E="",V=0):(E=E.slice(0,be),V=E.length-1-E.lastIndexOf(j)),$=fe,te=0;continue}if(0!==E.length){E="",V=0,$=fe,te=0;continue}}z&&(E+=E.length>0?`${j}..`:"..",V=2)}else E.length>0?E+=`${j}${B.slice($+1,fe)}`:E=B.slice($+1,fe),V=fe-$-1;$=fe,te=0}else w===_&&-1!==te?++te:te=-1}return E}function S(B,z){if(null===z||"object"!=typeof z)throw new l("pathObject","Object",z);const j=z.dir||z.root,Y=z.base||`${z.name||""}${z.ext||""}`;return j?j===z.root?`${j}${Y}`:`${j}${B}${Y}`:Y}const b={resolve(...B){let z="",j="",Y=!1;for(let E=B.length-1;E>=-1;E--){let V;if(E>=0){if(V=B[E],v(V,"path"),0===V.length)continue}else 0===z.length?V=L():(V=M[`=${z}`]||L(),(void 0===V||V.slice(0,2).toLowerCase()!==z.toLowerCase()&&V.charCodeAt(2)===p)&&(V=`${z}\\`));const $=V.length;let te=0,w="",fe=!1;const be=V.charCodeAt(0);if(1===$)d(be)&&(te=1,fe=!0);else if(d(be))if(fe=!0,d(V.charCodeAt(1))){let me=2,Ie=me;for(;me<$&&!d(V.charCodeAt(me));)me++;if(me<$&&me!==Ie){const ee=V.slice(Ie,me);for(Ie=me;me<$&&d(V.charCodeAt(me));)me++;if(me<$&&me!==Ie){for(Ie=me;me<$&&!d(V.charCodeAt(me));)me++;(me===$||me!==Ie)&&(w=`\\\\${ee}\\${V.slice(Ie,me)}`,te=me)}}}else te=1;else I(be)&&V.charCodeAt(1)===c&&(w=V.slice(0,2),te=2,$>2&&d(V.charCodeAt(2))&&(fe=!0,te=3));if(w.length>0)if(z.length>0){if(w.toLowerCase()!==z.toLowerCase())continue}else z=w;if(Y){if(z.length>0)break}else if(j=`${V.slice(te)}\\${j}`,Y=fe,fe&&z.length>0)break}return j=y(j,!Y,"\\",d),Y?`${z}\\${j}`:`${z}${j}`||"."},normalize(B){v(B,"path");const z=B.length;if(0===z)return".";let Y,j=0,E=!1;const V=B.charCodeAt(0);if(1===z)return m(V)?"\\":B;if(d(V))if(E=!0,d(B.charCodeAt(1))){let te=2,w=te;for(;te<z&&!d(B.charCodeAt(te));)te++;if(te<z&&te!==w){const fe=B.slice(w,te);for(w=te;te<z&&d(B.charCodeAt(te));)te++;if(te<z&&te!==w){for(w=te;te<z&&!d(B.charCodeAt(te));)te++;if(te===z)return`\\\\${fe}\\${B.slice(w)}\\`;te!==w&&(Y=`\\\\${fe}\\${B.slice(w,te)}`,j=te)}}}else j=1;else I(V)&&B.charCodeAt(1)===c&&(Y=B.slice(0,2),j=2,z>2&&d(B.charCodeAt(2))&&(E=!0,j=3));let $=j<z?y(B.slice(j),!E,"\\",d):"";return 0===$.length&&!E&&($="."),$.length>0&&d(B.charCodeAt(z-1))&&($+="\\"),void 0===Y?E?`\\${$}`:$:E?`${Y}\\${$}`:`${Y}${$}`},isAbsolute(B){v(B,"path");const z=B.length;if(0===z)return!1;const j=B.charCodeAt(0);return d(j)||z>2&&I(j)&&B.charCodeAt(1)===c&&d(B.charCodeAt(2))},join(...B){if(0===B.length)return".";let z,j;for(let V=0;V<B.length;++V){const $=B[V];v($,"path"),$.length>0&&(void 0===z?z=j=$:z+=`\\${$}`)}if(void 0===z)return".";let Y=!0,E=0;if("string"==typeof j&&d(j.charCodeAt(0))){++E;const V=j.length;V>1&&d(j.charCodeAt(1))&&(++E,V>2&&(d(j.charCodeAt(2))?++E:Y=!1))}if(Y){for(;E<z.length&&d(z.charCodeAt(E));)E++;E>=2&&(z=`\\${z.slice(E)}`)}return b.normalize(z)},relative(B,z){if(v(B,"from"),v(z,"to"),B===z)return"";const j=b.resolve(B),Y=b.resolve(z);if(j===Y||(B=j.toLowerCase())===(z=Y.toLowerCase()))return"";let E=0;for(;E<B.length&&B.charCodeAt(E)===p;)E++;let V=B.length;for(;V-1>E&&B.charCodeAt(V-1)===p;)V--;const $=V-E;let te=0;for(;te<z.length&&z.charCodeAt(te)===p;)te++;let w=z.length;for(;w-1>te&&z.charCodeAt(w-1)===p;)w--;const fe=w-te,be=$<fe?$:fe;let me=-1,Ie=0;for(;Ie<be;Ie++){const ce=B.charCodeAt(E+Ie);if(ce!==z.charCodeAt(te+Ie))break;ce===p&&(me=Ie)}if(Ie!==be){if(-1===me)return Y}else{if(fe>be){if(z.charCodeAt(te+Ie)===p)return Y.slice(te+Ie+1);if(2===Ie)return Y.slice(te+Ie)}$>be&&(B.charCodeAt(E+Ie)===p?me=Ie:2===Ie&&(me=3)),-1===me&&(me=0)}let ee="";for(Ie=E+me+1;Ie<=V;++Ie)(Ie===V||B.charCodeAt(Ie)===p)&&(ee+=0===ee.length?"..":"\\..");return te+=me,ee.length>0?`${ee}${Y.slice(te,w)}`:(Y.charCodeAt(te)===p&&++te,Y.slice(te,w))},toNamespacedPath(B){if("string"!=typeof B)return B;if(0===B.length)return"";const z=b.resolve(B);if(z.length<=2)return B;if(z.charCodeAt(0)===p){if(z.charCodeAt(1)===p){const j=z.charCodeAt(2);if(63!==j&&j!==_)return`\\\\?\\UNC\\${z.slice(2)}`}}else if(I(z.charCodeAt(0))&&z.charCodeAt(1)===c&&z.charCodeAt(2)===p)return`\\\\?\\${z}`;return B},dirname(B){v(B,"path");const z=B.length;if(0===z)return".";let j=-1,Y=0;const E=B.charCodeAt(0);if(1===z)return d(E)?B:".";if(d(E)){if(j=Y=1,d(B.charCodeAt(1))){let te=2,w=te;for(;te<z&&!d(B.charCodeAt(te));)te++;if(te<z&&te!==w){for(w=te;te<z&&d(B.charCodeAt(te));)te++;if(te<z&&te!==w){for(w=te;te<z&&!d(B.charCodeAt(te));)te++;if(te===z)return B;te!==w&&(j=Y=te+1)}}}}else I(E)&&B.charCodeAt(1)===c&&(j=z>2&&d(B.charCodeAt(2))?3:2,Y=j);let V=-1,$=!0;for(let te=z-1;te>=Y;--te)if(d(B.charCodeAt(te))){if(!$){V=te;break}}else $=!1;if(-1===V){if(-1===j)return".";V=j}return B.slice(0,V)},basename(B,z){void 0!==z&&v(z,"ext"),v(B,"path");let V,j=0,Y=-1,E=!0;if(B.length>=2&&I(B.charCodeAt(0))&&B.charCodeAt(1)===c&&(j=2),void 0!==z&&z.length>0&&z.length<=B.length){if(z===B)return"";let $=z.length-1,te=-1;for(V=B.length-1;V>=j;--V){const w=B.charCodeAt(V);if(d(w)){if(!E){j=V+1;break}}else-1===te&&(E=!1,te=V+1),$>=0&&(w===z.charCodeAt($)?-1==--$&&(Y=V):($=-1,Y=te))}return j===Y?Y=te:-1===Y&&(Y=B.length),B.slice(j,Y)}for(V=B.length-1;V>=j;--V)if(d(B.charCodeAt(V))){if(!E){j=V+1;break}}else-1===Y&&(E=!1,Y=V+1);return-1===Y?"":B.slice(j,Y)},extname(B){v(B,"path");let z=0,j=-1,Y=0,E=-1,V=!0,$=0;B.length>=2&&B.charCodeAt(1)===c&&I(B.charCodeAt(0))&&(z=Y=2);for(let te=B.length-1;te>=z;--te){const w=B.charCodeAt(te);if(d(w)){if(!V){Y=te+1;break}}else-1===E&&(V=!1,E=te+1),w===_?-1===j?j=te:1!==$&&($=1):-1!==j&&($=-1)}return-1===j||-1===E||0===$||1===$&&j===E-1&&j===Y+1?"":B.slice(j,E)},format:S.bind(null,"\\"),parse(B){v(B,"path");const z={root:"",dir:"",base:"",ext:"",name:""};if(0===B.length)return z;const j=B.length;let Y=0,E=B.charCodeAt(0);if(1===j)return d(E)?(z.root=z.dir=B,z):(z.base=z.name=B,z);if(d(E)){if(Y=1,d(B.charCodeAt(1))){let me=2,Ie=me;for(;me<j&&!d(B.charCodeAt(me));)me++;if(me<j&&me!==Ie){for(Ie=me;me<j&&d(B.charCodeAt(me));)me++;if(me<j&&me!==Ie){for(Ie=me;me<j&&!d(B.charCodeAt(me));)me++;me===j?Y=me:me!==Ie&&(Y=me+1)}}}}else if(I(E)&&B.charCodeAt(1)===c){if(j<=2)return z.root=z.dir=B,z;if(Y=2,d(B.charCodeAt(2))){if(3===j)return z.root=z.dir=B,z;Y=3}}Y>0&&(z.root=B.slice(0,Y));let V=-1,$=Y,te=-1,w=!0,fe=B.length-1,be=0;for(;fe>=Y;--fe)if(E=B.charCodeAt(fe),d(E)){if(!w){$=fe+1;break}}else-1===te&&(w=!1,te=fe+1),E===_?-1===V?V=fe:1!==be&&(be=1):-1!==V&&(be=-1);return-1!==te&&(-1===V||0===be||1===be&&V===te-1&&V===$+1?z.base=z.name=B.slice($,te):(z.name=B.slice($,V),z.base=B.slice($,te),z.ext=B.slice(V,te))),z.dir=$>0&&$!==Y?B.slice(0,$-1):z.root,z},sep:"\\",delimiter:";",win32:null,posix:null},x={resolve(...B){let z="",j=!1;for(let Y=B.length-1;Y>=-1&&!j;Y--){const E=Y>=0?B[Y]:L();v(E,"path"),0!==E.length&&(z=`${E}/${z}`,j=E.charCodeAt(0)===a)}return z=y(z,!j,"/",m),j?`/${z}`:z.length>0?z:"."},normalize(B){if(v(B,"path"),0===B.length)return".";const z=B.charCodeAt(0)===a,j=B.charCodeAt(B.length-1)===a;return 0===(B=y(B,!z,"/",m)).length?z?"/":j?"./":".":(j&&(B+="/"),z?`/${B}`:B)},isAbsolute:B=>(v(B,"path"),B.length>0&&B.charCodeAt(0)===a),join(...B){if(0===B.length)return".";let z;for(let j=0;j<B.length;++j){const Y=B[j];v(Y,"path"),Y.length>0&&(void 0===z?z=Y:z+=`/${Y}`)}return void 0===z?".":x.normalize(z)},relative(B,z){if(v(B,"from"),v(z,"to"),B===z||(B=x.resolve(B))===(z=x.resolve(z)))return"";const Y=B.length,E=Y-1,$=z.length-1,te=E<$?E:$;let w=-1,fe=0;for(;fe<te;fe++){const me=B.charCodeAt(1+fe);if(me!==z.charCodeAt(1+fe))break;me===a&&(w=fe)}if(fe===te)if($>te){if(z.charCodeAt(1+fe)===a)return z.slice(1+fe+1);if(0===fe)return z.slice(1+fe)}else E>te&&(B.charCodeAt(1+fe)===a?w=fe:0===fe&&(w=0));let be="";for(fe=1+w+1;fe<=Y;++fe)(fe===Y||B.charCodeAt(fe)===a)&&(be+=0===be.length?"..":"/..");return`${be}${z.slice(1+w)}`},toNamespacedPath:B=>B,dirname(B){if(v(B,"path"),0===B.length)return".";const z=B.charCodeAt(0)===a;let j=-1,Y=!0;for(let E=B.length-1;E>=1;--E)if(B.charCodeAt(E)===a){if(!Y){j=E;break}}else Y=!1;return-1===j?z?"/":".":z&&1===j?"//":B.slice(0,j)},basename(B,z){void 0!==z&&v(z,"ext"),v(B,"path");let V,j=0,Y=-1,E=!0;if(void 0!==z&&z.length>0&&z.length<=B.length){if(z===B)return"";let $=z.length-1,te=-1;for(V=B.length-1;V>=0;--V){const w=B.charCodeAt(V);if(w===a){if(!E){j=V+1;break}}else-1===te&&(E=!1,te=V+1),$>=0&&(w===z.charCodeAt($)?-1==--$&&(Y=V):($=-1,Y=te))}return j===Y?Y=te:-1===Y&&(Y=B.length),B.slice(j,Y)}for(V=B.length-1;V>=0;--V)if(B.charCodeAt(V)===a){if(!E){j=V+1;break}}else-1===Y&&(E=!1,Y=V+1);return-1===Y?"":B.slice(j,Y)},extname(B){v(B,"path");let z=-1,j=0,Y=-1,E=!0,V=0;for(let $=B.length-1;$>=0;--$){const te=B.charCodeAt($);if(te!==a)-1===Y&&(E=!1,Y=$+1),te===_?-1===z?z=$:1!==V&&(V=1):-1!==z&&(V=-1);else if(!E){j=$+1;break}}return-1===z||-1===Y||0===V||1===V&&z===Y-1&&z===j+1?"":B.slice(z,Y)},format:S.bind(null,"/"),parse(B){v(B,"path");const z={root:"",dir:"",base:"",ext:"",name:""};if(0===B.length)return z;const j=B.charCodeAt(0)===a;let Y;j?(z.root="/",Y=1):Y=0;let E=-1,V=0,$=-1,te=!0,w=B.length-1,fe=0;for(;w>=Y;--w){const be=B.charCodeAt(w);if(be!==a)-1===$&&(te=!1,$=w+1),be===_?-1===E?E=w:1!==fe&&(fe=1):-1!==E&&(fe=-1);else if(!te){V=w+1;break}}if(-1!==$){const be=0===V&&j?1:V;-1===E||0===fe||1===fe&&E===$-1&&E===V+1?z.base=z.name=B.slice(be,$):(z.name=B.slice(be,E),z.base=B.slice(be,$),z.ext=B.slice(E,$))}return V>0?z.dir=B.slice(0,V-1):j&&(z.dir="/"),z},sep:"/",delimiter:":",win32:null,posix:null};x.win32=b.win32=b,x.posix=b.posix=x;const T="win32"===u?b.normalize:x.normalize,R="win32"===u?b.resolve:x.resolve,Q="win32"===u?b.relative:x.relative,Z="win32"===u?b.dirname:x.dirname,G="win32"===u?b.basename:x.basename,F="win32"===u?b.extname:x.extname,W="win32"===u?b.sep:x.sep},38972:(at,ue,e)=>{"use strict";e.d(ue,{$L:()=>Q,ED:()=>b,G6:()=>w,IJ:()=>T,OS:()=>j,dK:()=>W,dz:()=>x,fn:()=>z,gn:()=>G,i7:()=>$,li:()=>d,n2:()=>Z,r:()=>V,tY:()=>R,un:()=>fe,vU:()=>te});var s,f=e(40402);const L="en";let c,v,M=!1,u=!1,P=!1,A=!1,k=!1,N=!1,_=!1,a=!1,p=!1,n=L,l=null;const d="object"==typeof self?self:"object"==typeof global?global:{};let m;void 0!==d.vscode&&void 0!==d.vscode.process?m=d.vscode.process:"undefined"!=typeof process&&(m=process);const I="string"==typeof(null===(s=null==m?void 0:m.versions)||void 0===s?void 0:s.electron);if("object"!=typeof navigator||I&&"renderer"===(null==m?void 0:m.type))if("object"==typeof m){M="win32"===m.platform,u="darwin"===m.platform,P="linux"===m.platform,A=P&&!!m.env.SNAP&&!!m.env.SNAP_REVISION,_=I,p=!!m.env.CI||!!m.env.BUILD_ARTIFACTSTAGINGDIRECTORY,c=L,n=L;const me=m.env.VSCODE_NLS_CONFIG;if(me)try{const Ie=JSON.parse(me);c=Ie.locale,n=Ie.availableLanguages["*"]||L,l=Ie._translationsConfigFile}catch(Ie){}k=!0}else console.error("Unable to resolve platform.");else v=navigator.userAgent,M=v.indexOf("Windows")>=0,u=v.indexOf("Macintosh")>=0,a=(v.indexOf("Macintosh")>=0||v.indexOf("iPad")>=0||v.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,P=v.indexOf("Linux")>=0,N=!0,c=f.aj(f.NC({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||L,n=c;let S=0;u?S=1:M?S=3:P&&(S=2);const b=M,x=u,T=P,R=k,Q=N,Z=N&&"function"==typeof d.importScripts,G=a,F=v,W=n,B="function"==typeof d.postMessage&&!d.importScripts,z=(()=>{if(B){const me=[];d.addEventListener("message",ee=>{if(ee.data&&ee.data.vscodeScheduleAsyncWork)for(let ce=0,he=me.length;ce<he;ce++){const de=me[ce];if(de.id===ee.data.vscodeScheduleAsyncWork)return me.splice(ce,1),void de.callback()}});let Ie=0;return ee=>{const ce=++Ie;me.push({id:ce,callback:ee}),d.postMessage({vscodeScheduleAsyncWork:ce},"*")}}return me=>setTimeout(me)})(),j=u||a?2:M?1:3;let Y=!0,E=!1;function V(){if(!E){E=!0;const me=new Uint8Array(2);me[0]=1,me[1]=2,Y=513===new Uint16Array(me.buffer)[0]}return Y}const $=!!(F&&F.indexOf("Chrome")>=0),te=!!(F&&F.indexOf("Firefox")>=0),w=!!(!$&&F&&F.indexOf("Safari")>=0),fe=!!(F&&F.indexOf("Edg/")>=0);F&&F.indexOf("Android")},86656:(at,ue,e)=>{"use strict";var f;e.d(ue,{e:()=>f}),function(s){function L(A,k){if(A.start>=k.end||k.start>=A.end)return{start:0,end:0};const N=Math.max(A.start,k.start),_=Math.min(A.end,k.end);return _-N<=0?{start:0,end:0}:{start:N,end:_}}function M(A){return A.end-A.start<=0}s.intersect=L,s.isEmpty=M,s.intersects=function u(A,k){return!M(L(A,k))},s.relativeComplement=function P(A,k){const N=[],_={start:A.start,end:Math.min(k.start,A.end)},a={start:Math.max(k.end,A.start),end:A.end};return M(_)||N.push(_),M(a)||N.push(a),N}}(f||(f={}))},15151:(at,ue,e)=>{"use strict";e.d(ue,{AH:()=>y,DZ:()=>d,EZ:()=>v,Hx:()=>l,SF:()=>N,Vb:()=>G,Vo:()=>I,XX:()=>m,Xy:()=>p,i3:()=>b,lX:()=>S,z_:()=>A});var f=e(25170),s=e(90278),L=e(34163),M=e(38972),u=e(93059),P=e(74672);function A(F){return(0,P.q)(F,!0)}class k{constructor(W){this._ignorePathCasing=W}compare(W,B,z=!1){return W===B?0:(0,u.qu)(this.getComparisonKey(W,z),this.getComparisonKey(B,z))}isEqual(W,B,z=!1){return W===B||!(!W||!B)&&this.getComparisonKey(W,z)===this.getComparisonKey(B,z)}getComparisonKey(W,B=!1){return W.with({path:this._ignorePathCasing(W)?W.path.toLowerCase():void 0,fragment:B?null:void 0}).toString()}isEqualOrParent(W,B,z=!1){if(W.scheme===B.scheme){if(W.scheme===s.lg.file)return f.KM(A(W),A(B),this._ignorePathCasing(W))&&W.query===B.query&&(z||W.fragment===B.fragment);if(T(W.authority,B.authority))return f.KM(W.path,B.path,this._ignorePathCasing(W),"/")&&W.query===B.query&&(z||W.fragment===B.fragment)}return!1}joinPath(W,...B){return P.o.joinPath(W,...B)}basenameOrAuthority(W){return v(W)||W.authority}basename(W){return L.KR.basename(W.path)}extname(W){return L.KR.extname(W.path)}dirname(W){if(0===W.path.length)return W;let B;return W.scheme===s.lg.file?B=P.o.file(L.XX(A(W))).path:(B=L.KR.dirname(W.path),W.authority&&B.length&&47!==B.charCodeAt(0)&&(console.error(`dirname("${W.toString})) resulted in a relative path`),B="/")),W.with({path:B})}normalizePath(W){if(!W.path.length)return W;let B;return B=W.scheme===s.lg.file?P.o.file(L.Fv(A(W))).path:L.KR.normalize(W.path),W.with({path:B})}relativePath(W,B){if(W.scheme!==B.scheme||!T(W.authority,B.authority))return;if(W.scheme===s.lg.file){const Y=L.Gf(A(W),A(B));return M.ED?f.ej(Y):Y}let z=W.path||"/";const j=B.path||"/";if(this._ignorePathCasing(W)){let Y=0;for(const E=Math.min(z.length,j.length);Y<E&&(z.charCodeAt(Y)===j.charCodeAt(Y)||z.charAt(Y).toLowerCase()===j.charAt(Y).toLowerCase());Y++);z=j.substr(0,Y)+z.substr(Y)}return L.KR.relative(z,j)}resolvePath(W,B){if(W.scheme===s.lg.file){const z=P.o.file(L.DB(A(W),B));return W.with({authority:z.authority,path:z.path})}return B=f.fn(B),W.with({path:L.KR.resolve(W.path,B)})}isAbsolutePath(W){return!!W.path&&"/"===W.path[0]}isEqualAuthority(W,B){return W===B||void 0!==W&&void 0!==B&&(0,u.qq)(W,B)}hasTrailingPathSeparator(W,B=L.ir){if(W.scheme===s.lg.file){const z=A(W);return z.length>f.yj(z).length&&z[z.length-1]===B}{const z=W.path;return z.length>1&&47===z.charCodeAt(z.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(W.fsPath)}}removeTrailingPathSeparator(W,B=L.ir){return R(W,B)?W.with({path:W.path.substr(0,W.path.length-1)}):W}addTrailingPathSeparator(W,B=L.ir){let z=!1;if(W.scheme===s.lg.file){const j=A(W);z=void 0!==j&&j.length===f.yj(j).length&&j[j.length-1]===B}else{B="/";const j=W.path;z=1===j.length&&47===j.charCodeAt(j.length-1)}return z||R(W,B)?W:W.with({path:W.path+"/"})}}const N=new k(()=>!1),p=(new k(F=>F.scheme!==s.lg.file||!M.IJ),new k(F=>!0),N.isEqual.bind(N)),l=(N.isEqualOrParent.bind(N),N.getComparisonKey.bind(N),N.basenameOrAuthority.bind(N)),v=N.basename.bind(N),d=N.extname.bind(N),m=N.dirname.bind(N),I=N.joinPath.bind(N),y=N.normalizePath.bind(N),S=N.relativePath.bind(N),b=N.resolvePath.bind(N),T=(N.isAbsolutePath.bind(N),N.isEqualAuthority.bind(N)),R=N.hasTrailingPathSeparator.bind(N);var G,F;N.removeTrailingPathSeparator.bind(N),N.addTrailingPathSeparator.bind(N),(F=G||(G={})).META_DATA_LABEL="label",F.META_DATA_DESCRIPTION="description",F.META_DATA_SIZE="size",F.META_DATA_MIME="mime",F.parseMetaData=function W(B){const z=new Map;B.path.substring(B.path.indexOf(";")+1,B.path.lastIndexOf(";")).split(";").forEach(E=>{const[V,$]=E.split(":");V&&$&&z.set(V,$)});const Y=B.path.substring(0,B.path.indexOf(";"));return Y&&z.set(F.META_DATA_MIME,Y),z}},17838:(at,ue,e)=>{"use strict";e.d(ue,{Rm:()=>M});var f=e(52787),s=e(52425);class L{constructor(p,c,n,l,v,d,m){this._forceIntegerValues=p,this._scrollStateBrand=void 0,this._forceIntegerValues&&(c|=0,n|=0,l|=0,v|=0,d|=0,m|=0),this.rawScrollLeft=l,this.rawScrollTop=m,c<0&&(c=0),l+c>n&&(l=n-c),l<0&&(l=0),v<0&&(v=0),m+v>d&&(m=d-v),m<0&&(m=0),this.width=c,this.scrollWidth=n,this.scrollLeft=l,this.height=v,this.scrollHeight=d,this.scrollTop=m}equals(p){return this.rawScrollLeft===p.rawScrollLeft&&this.rawScrollTop===p.rawScrollTop&&this.width===p.width&&this.scrollWidth===p.scrollWidth&&this.scrollLeft===p.scrollLeft&&this.height===p.height&&this.scrollHeight===p.scrollHeight&&this.scrollTop===p.scrollTop}withScrollDimensions(p,c){return new L(this._forceIntegerValues,void 0!==p.width?p.width:this.width,void 0!==p.scrollWidth?p.scrollWidth:this.scrollWidth,c?this.rawScrollLeft:this.scrollLeft,void 0!==p.height?p.height:this.height,void 0!==p.scrollHeight?p.scrollHeight:this.scrollHeight,c?this.rawScrollTop:this.scrollTop)}withScrollPosition(p){return new L(this._forceIntegerValues,this.width,this.scrollWidth,void 0!==p.scrollLeft?p.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,void 0!==p.scrollTop?p.scrollTop:this.rawScrollTop)}createScrollEvent(p,c){return{inSmoothScrolling:c,oldWidth:p.width,oldScrollWidth:p.scrollWidth,oldScrollLeft:p.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:p.height,oldScrollHeight:p.scrollHeight,oldScrollTop:p.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:this.width!==p.width,scrollWidthChanged:this.scrollWidth!==p.scrollWidth,scrollLeftChanged:this.scrollLeft!==p.scrollLeft,heightChanged:this.height!==p.height,scrollHeightChanged:this.scrollHeight!==p.scrollHeight,scrollTopChanged:this.scrollTop!==p.scrollTop}}}class M extends s.JT{constructor(p){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new f.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=p.smoothScrollDuration,this._scheduleAtNextAnimationFrame=p.scheduleAtNextAnimationFrame,this._state=new L(p.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(p){this._smoothScrollDuration=p}validateScrollPosition(p){return this._state.withScrollPosition(p)}getScrollDimensions(){return this._state}setScrollDimensions(p,c){var n;const l=this._state.withScrollDimensions(p,c);this._setState(l,Boolean(this._smoothScrolling)),null===(n=this._smoothScrolling)||void 0===n||n.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(p){const c=this._state.withScrollPosition(p);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(c,!1)}setScrollPositionSmooth(p,c){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(p);if(this._smoothScrolling){const n=this._state.withScrollPosition(p={scrollLeft:void 0===p.scrollLeft?this._smoothScrolling.to.scrollLeft:p.scrollLeft,scrollTop:void 0===p.scrollTop?this._smoothScrolling.to.scrollTop:p.scrollTop});if(this._smoothScrolling.to.scrollLeft===n.scrollLeft&&this._smoothScrolling.to.scrollTop===n.scrollTop)return;let l;l=c?new k(this._smoothScrolling.from,n,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,n,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=l}else{const n=this._state.withScrollPosition(p);this._smoothScrolling=k.start(this._state,n,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const p=this._smoothScrolling.tick(),c=this._state.withScrollPosition(p);if(this._setState(c,!0),this._smoothScrolling){if(p.isDone)return this._smoothScrolling.dispose(),void(this._smoothScrolling=null);this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(p,c){const n=this._state;n.equals(p)||(this._state=p,this._onScroll.fire(this._state.createScrollEvent(n,c)))}}class u{constructor(p,c,n){this.scrollLeft=p,this.scrollTop=c,this.isDone=n}}function P(a,p){const c=p-a;return function(n){return a+c*function _(a){return 1-function N(a){return Math.pow(a,3)}(1-a)}(n)}}class k{constructor(p,c,n,l){this.from=p,this.to=c,this.duration=l,this.startTime=n,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(p,c,n){if(Math.abs(p-c)>2.5*n){let v,d;return p<c?(v=p+.75*n,d=c-.75*n):(v=p-.75*n,d=c+.75*n),function A(a,p,c){return function(n){return n<c?a(n/c):p((n-c)/(1-c))}}(P(p,v),P(d,c),.33)}return P(p,c)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(p){this.to=p.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(p){const c=(p-this.startTime)/this.duration;if(c<1){const n=this.scrollLeft(c),l=this.scrollTop(c);return new u(n,l,!1)}return new u(this.to.scrollLeft,this.to.scrollTop,!0)}combine(p,c,n){return k.start(p,c,n)}static start(p,c,n){n+=10;const l=Date.now()-10;return new k(p,c,l,n)}}},63570:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>L});var f=e(93059),s=(()=>{return(M=s||(s={}))[M.Ignore=0]="Ignore",M[M.Info=1]="Info",M[M.Warning=2]="Warning",M[M.Error=3]="Error",s;var M})();!function(M){const u="error",P="warning",k="info";M.fromValue=function _(p){return p?f.qq(u,p)?M.Error:f.qq(P,p)||f.qq("warn",p)?M.Warning:f.qq(k,p)?M.Info:M.Ignore:M.Ignore},M.toString=function a(p){switch(p){case M.Error:return u;case M.Warning:return P;case M.Info:return k;default:return"ignore"}}}(s||(s={}));const L=s},41724:(at,ue,e)=>{"use strict";e.d(ue,{G:()=>L});var f=e(38972);const s=f.li.performance&&"function"==typeof f.li.performance.now;class L{constructor(u){this._highResolution=s&&u,this._startTime=this._now(),this._stopTime=-1}static create(u=!0){return new L(u)}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?f.li.performance.now():Date.now()}}},93059:(at,ue,e)=>{"use strict";e.d(ue,{$i:()=>ce,B4:()=>De,C8:()=>re,GF:()=>n,HO:()=>fe,IO:()=>l,J_:()=>be,K7:()=>ge,Kw:()=>Ve,LC:()=>m,Mh:()=>W,P1:()=>B,PJ:()=>ie,Qe:()=>he,R1:()=>c,T5:()=>R,TT:()=>b,Ut:()=>Ie,V8:()=>I,W1:()=>te,WU:()=>P,YK:()=>j,YU:()=>A,ZG:()=>z,ZH:()=>E,ZK:()=>Oe,ab:()=>de,c1:()=>Se,df:()=>Z,ec:()=>k,fy:()=>N,j3:()=>_,j_:()=>T,m5:()=>M,mK:()=>Q,mr:()=>v,oH:()=>Qe,oL:()=>a,ok:()=>F,ow:()=>y,qq:()=>G,qu:()=>S,rL:()=>Y,uS:()=>Pe,un:()=>p,uq:()=>d,vH:()=>w,vU:()=>Ne,zY:()=>x});var L,f=e(39086),s=e(20991);function M(ne){return!ne||"string"!=typeof ne||0===ne.trim().length}const u=/{(\d+)}/g;function P(ne,...xe){return 0===xe.length?ne:ne.replace(u,function(Je,gt){const lt=parseInt(gt,10);return isNaN(lt)||lt<0||lt>=xe.length?Je:xe[lt]})}function A(ne){return ne.replace(/[<>&]/g,function(xe){switch(xe){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return xe}})}function k(ne){return ne.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function N(ne,xe=" "){return a(_(ne,xe),xe)}function _(ne,xe){if(!ne||!xe)return ne;const Je=xe.length;if(0===Je||0===ne.length)return ne;let gt=0;for(;ne.indexOf(xe,gt)===gt;)gt+=Je;return ne.substring(gt)}function a(ne,xe){if(!ne||!xe)return ne;const Je=xe.length,gt=ne.length;if(0===Je||0===gt)return ne;let lt=gt,Ke=-1;for(;Ke=ne.lastIndexOf(xe,lt-1),-1!==Ke&&Ke+Je===lt;){if(0===Ke)return"";lt=Ke}return ne.substring(0,lt)}function p(ne){return ne.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function c(ne){return ne.replace(/\*/g,"")}function n(ne,xe,Je={}){if(!ne)throw new Error("Cannot create regex from empty string");xe||(ne=k(ne)),Je.wholeWord&&(/\B/.test(ne.charAt(0))||(ne="\\b"+ne),/\B/.test(ne.charAt(ne.length-1))||(ne+="\\b"));let gt="";return Je.global&&(gt+="g"),Je.matchCase||(gt+="i"),Je.multiline&&(gt+="m"),Je.unicode&&(gt+="u"),new RegExp(ne,gt)}function l(ne){return"^"!==ne.source&&"^$"!==ne.source&&"$"!==ne.source&&"^\\s*$"!==ne.source&&!(!ne.exec("")||0!==ne.lastIndex)}function v(ne){return(ne.global?"g":"")+(ne.ignoreCase?"i":"")+(ne.multiline?"m":"")+(ne.unicode?"u":"")}function d(ne){return ne.split(/\r\n|\r|\n/)}function m(ne){for(let xe=0,Je=ne.length;xe<Je;xe++){const gt=ne.charCodeAt(xe);if(32!==gt&&9!==gt)return xe}return-1}function I(ne,xe=0,Je=ne.length){for(let gt=xe;gt<Je;gt++){const lt=ne.charCodeAt(gt);if(32!==lt&&9!==lt)return ne.substring(xe,gt)}return ne.substring(xe,Je)}function y(ne,xe=ne.length-1){for(let Je=xe;Je>=0;Je--){const gt=ne.charCodeAt(Je);if(32!==gt&&9!==gt)return Je}return-1}function S(ne,xe){return ne<xe?-1:ne>xe?1:0}function b(ne,xe,Je=0,gt=ne.length,lt=0,Ke=xe.length){for(;Je<gt&&lt<Ke;Je++,lt++){const ot=ne.charCodeAt(Je),et=xe.charCodeAt(lt);if(ot<et)return-1;if(ot>et)return 1}const He=gt-Je,Ue=Ke-lt;return He<Ue?-1:He>Ue?1:0}function x(ne,xe){return T(ne,xe,0,ne.length,0,xe.length)}function T(ne,xe,Je=0,gt=ne.length,lt=0,Ke=xe.length){for(;Je<gt&&lt<Ke;Je++,lt++){let ot=ne.charCodeAt(Je),et=xe.charCodeAt(lt);if(ot===et)continue;if(ot>=128||et>=128)return b(ne.toLowerCase(),xe.toLowerCase(),Je,gt,lt,Ke);Q(ot)&&(ot-=32),Q(et)&&(et-=32);const Ze=ot-et;if(0!==Ze)return Ze}const He=gt-Je,Ue=Ke-lt;return He<Ue?-1:He>Ue?1:0}function R(ne){return ne>=48&&ne<=57}function Q(ne){return ne>=97&&ne<=122}function Z(ne){return ne>=65&&ne<=90}function G(ne,xe){return ne.length===xe.length&&0===T(ne,xe)}function F(ne,xe){return!(xe.length>ne.length)&&0===T(ne,xe,0,xe.length)}function W(ne,xe){const Je=Math.min(ne.length,xe.length);let gt;for(gt=0;gt<Je;gt++)if(ne.charCodeAt(gt)!==xe.charCodeAt(gt))return gt;return Je}function B(ne,xe){const Je=Math.min(ne.length,xe.length);let gt;const lt=ne.length-1,Ke=xe.length-1;for(gt=0;gt<Je;gt++)if(ne.charCodeAt(lt-gt)!==xe.charCodeAt(Ke-gt))return gt;return Je}function z(ne){return 55296<=ne&&ne<=56319}function j(ne){return 56320<=ne&&ne<=57343}function Y(ne,xe){return xe-56320+(ne-55296<<10)+65536}function E(ne,xe,Je){const gt=ne.charCodeAt(Je);if(z(gt)&&Je+1<xe){const lt=ne.charCodeAt(Je+1);if(j(lt))return Y(gt,lt)}return gt}class ${constructor(xe,Je=0){this._str=xe,this._len=xe.length,this._offset=Je}get offset(){return this._offset}setOffset(xe){this._offset=xe}prevCodePoint(){const xe=function V(ne,xe){const Je=ne.charCodeAt(xe-1);if(j(Je)&&xe>1){const gt=ne.charCodeAt(xe-2);if(z(gt))return Y(gt,Je)}return Je}(this._str,this._offset);return this._offset-=xe>=65536?2:1,xe}nextCodePoint(){const xe=E(this._str,this._len,this._offset);return this._offset+=xe>=65536?2:1,xe}eol(){return this._offset>=this._len}}class te{constructor(xe,Je=0){this._iterator=new $(xe,Je)}get offset(){return this._iterator.offset}nextGraphemeLength(){const xe=_e.getInstance(),Je=this._iterator,gt=Je.offset;let lt=xe.getGraphemeBreakType(Je.nextCodePoint());for(;!Je.eol();){const Ke=Je.offset,He=xe.getGraphemeBreakType(Je.nextCodePoint());if(ye(lt,He)){Je.setOffset(Ke);break}lt=He}return Je.offset-gt}prevGraphemeLength(){const xe=_e.getInstance(),Je=this._iterator,gt=Je.offset;let lt=xe.getGraphemeBreakType(Je.prevCodePoint());for(;Je.offset>0;){const Ke=Je.offset,He=xe.getGraphemeBreakType(Je.prevCodePoint());if(ye(He,lt)){Je.setOffset(Ke);break}lt=He}return gt-Je.offset}eol(){return this._iterator.eol()}}function w(ne,xe){return new te(ne,xe).nextGraphemeLength()}function fe(ne,xe){return new te(ne,xe).prevGraphemeLength()}function be(ne,xe){xe>0&&j(ne.charCodeAt(xe))&&xe--;const Je=xe+w(ne,xe);return[Je-fe(ne,Je),Je]}const me=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function Ie(ne){return me.test(ne)}const ee=/^[\t\n\r\x20-\x7E]*$/;function ce(ne){return ee.test(ne)}const he=/[\u2028\u2029]/;function de(ne){return he.test(ne)}function ge(ne){return ne>=11904&&ne<=55215||ne>=63744&&ne<=64255||ne>=65281&&ne<=65374}function re(ne){return ne>=127462&&ne<=127487||8986===ne||8987===ne||9200===ne||9203===ne||ne>=9728&&ne<=10175||11088===ne||11093===ne||ne>=127744&&ne<=128591||ne>=128640&&ne<=128764||ne>=128992&&ne<=129008||ne>=129280&&ne<=129535||ne>=129648&&ne<=129782}const Se=String.fromCharCode(65279);function Pe(ne){return!!(ne&&ne.length>0&&65279===ne.charCodeAt(0))}function Ve(ne,xe=!1){return!!ne&&(xe&&(ne=ne.replace(/\\./g,"")),ne.toLowerCase()!==ne)}function ie(ne){return ne%=52,String.fromCharCode(ne<26?97+ne:65+ne-26)}function ye(ne,xe){return 0===ne?5!==xe&&7!==xe:!(2===ne&&3===xe||4!==ne&&2!==ne&&3!==ne&&4!==xe&&2!==xe&&3!==xe&&(8===ne&&(8===xe||9===xe||11===xe||12===xe)||(11===ne||9===ne)&&(9===xe||10===xe)||(12===ne||10===ne)&&10===xe||5===xe||13===xe||7===xe||1===ne||13===ne&&14===xe||6===ne&&6===xe))}let _e=(()=>{class ne{constructor(){this._data=function Be(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}()}static getInstance(){return ne._INSTANCE||(ne._INSTANCE=new ne),ne._INSTANCE}getGraphemeBreakType(Je){if(Je<32)return 10===Je?3:13===Je?2:4;if(Je<127)return 0;const gt=this._data,lt=gt.length/3;let Ke=1;for(;Ke<=lt;)if(Je<gt[3*Ke])Ke*=2;else{if(!(Je>gt[3*Ke+1]))return gt[3*Ke+2];Ke=2*Ke+1}return 0}}return ne._INSTANCE=null,ne})();function Qe(ne,xe){if(0===ne)return 0;const Je=function Ae(ne,xe){const Je=new $(xe,ne);let gt=Je.prevCodePoint();for(;pe(gt)||65039===gt||8419===gt;){if(0===Je.offset)return;gt=Je.prevCodePoint()}if(!re(gt))return;let lt=Je.offset;return lt>0&&8205===Je.prevCodePoint()&&(lt=Je.offset),lt}(ne,xe);if(void 0!==Je)return Je;const gt=new $(xe,ne);return gt.prevCodePoint(),gt.offset}function pe(ne){return 127995<=ne&&ne<=127999}const De="\xa0";class Oe{constructor(xe){this.confusableDictionary=xe}static getInstance(xe){return Oe.cache.get(Array.from(xe))}static getLocales(){return Oe._locales.getValue()}isAmbiguous(xe){return this.confusableDictionary.has(xe)}getPrimaryConfusable(xe){return this.confusableDictionary.get(xe)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}L=Oe,Oe.ambiguousCharacterData=new s.o(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),Oe.cache=new f.t(ne=>{function xe(et){const Ze=new Map;for(let Mt=0;Mt<et.length;Mt+=2)Ze.set(et[Mt],et[Mt+1]);return Ze}function gt(et,Ze){if(!et)return Ze;const Mt=new Map;for(const[Nt,ze]of et)Ze.has(Nt)&&Mt.set(Nt,ze);return Mt}const lt=L.ambiguousCharacterData.getValue();let He,Ke=ne.filter(et=>!et.startsWith("_")&&et in lt);0===Ke.length&&(Ke=["_default"]);for(const et of Ke)He=gt(He,xe(lt[et]));const ot=function Je(et,Ze){const Mt=new Map(et);for(const[Nt,ze]of Ze)Mt.set(Nt,ze);return Mt}(xe(lt._common),He);return new Oe(ot)}),Oe._locales=new s.o(()=>Object.keys(Oe.ambiguousCharacterData.getValue()).filter(ne=>!ne.startsWith("_")));class Ne{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(Ne.getRawData())),this._data}static isInvisibleCharacter(xe){return Ne.getData().has(xe)}static get codePoints(){return Ne.getData()}}Ne._data=void 0},54435:(at,ue,e)=>{"use strict";function f(S){return Array.isArray(S)}function s(S){return"string"==typeof S}function L(S){return!("object"!=typeof S||null===S||Array.isArray(S)||S instanceof RegExp||S instanceof Date)}function M(S){const b=Object.getPrototypeOf(Uint8Array);return"object"==typeof S&&S instanceof b}function u(S){return"number"==typeof S&&!isNaN(S)}function P(S){return!!S&&"function"==typeof S[Symbol.iterator]}function A(S){return!0===S||!1===S}function k(S){return void 0===S}function N(S){return!_(S)}function _(S){return k(S)||null===S}function a(S,b){if(!S)throw new Error(b?`Unexpected type, expected '${b}'`:"Unexpected type")}function p(S){if(_(S))throw new Error("Assertion Failed: argument is undefined or null");return S}function c(S){return"function"==typeof S}function n(S,b){const x=Math.min(S.length,b.length);for(let T=0;T<x;T++)l(S[T],b[T])}function l(S,b){if(s(b)){if(typeof S!==b)throw new Error(`argument does not match constraint: typeof ${b}`)}else if(c(b)){try{if(S instanceof b)return}catch(x){}if(!_(S)&&S.constructor===b||1===b.length&&!0===b.call(void 0,S))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function d(S){const b=[];for(const x of function v(S){let b=[],x=Object.getPrototypeOf(S);for(;Object.prototype!==x;)b=b.concat(Object.getOwnPropertyNames(x)),x=Object.getPrototypeOf(x);return b}(S))"function"==typeof S[x]&&b.push(x);return b}function m(S,b){const x=R=>function(){const Q=Array.prototype.slice.call(arguments,0);return b(R,Q)},T={};for(const R of S)T[R]=x(R);return T}function I(S){return null===S?void 0:S}function y(S,b="Unreachable"){throw new Error(b)}e.d(ue,{$E:()=>d,$K:()=>N,D8:()=>n,HD:()=>s,IU:()=>m,Jp:()=>_,Kn:()=>L,TW:()=>P,cW:()=>p,f6:()=>I,fU:()=>M,hj:()=>u,jn:()=>A,kJ:()=>f,mf:()=>c,o8:()=>k,p_:()=>a,vE:()=>y})},45129:(at,ue,e)=>{"use strict";function f(L){return L<0?0:L>255?255:0|L}function s(L){return L<0?0:L>4294967295?4294967295:0|L}e.d(ue,{A:()=>s,K:()=>f})},74672:(at,ue,e)=>{"use strict";e.d(ue,{o:()=>p,q:()=>m});var f=e(34163),s=e(38972);const L=/^\w[\w\d+.-]*$/,M=/^\//,u=/^\/\//;function P(x,T){if(!x.scheme&&T)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${x.authority}", path: "${x.path}", query: "${x.query}", fragment: "${x.fragment}"}`);if(x.scheme&&!L.test(x.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(x.path)if(x.authority){if(!M.test(x.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(u.test(x.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const N="",_="/",a=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class p{constructor(T,R,Q,Z,G,F=!1){"object"==typeof T?(this.scheme=T.scheme||N,this.authority=T.authority||N,this.path=T.path||N,this.query=T.query||N,this.fragment=T.fragment||N):(this.scheme=function A(x,T){return x||T?x:"file"}(T,F),this.authority=R||N,this.path=function k(x,T){switch(x){case"https":case"http":case"file":T?T[0]!==_&&(T=_+T):T=_}return T}(this.scheme,Q||N),this.query=Z||N,this.fragment=G||N,P(this,F))}static isUri(T){return T instanceof p||!!T&&"string"==typeof T.authority&&"string"==typeof T.fragment&&"string"==typeof T.path&&"string"==typeof T.query&&"string"==typeof T.scheme&&"string"==typeof T.fsPath&&"function"==typeof T.with&&"function"==typeof T.toString}get fsPath(){return m(this,!1)}with(T){if(!T)return this;let{scheme:R,authority:Q,path:Z,query:G,fragment:F}=T;return void 0===R?R=this.scheme:null===R&&(R=N),void 0===Q?Q=this.authority:null===Q&&(Q=N),void 0===Z?Z=this.path:null===Z&&(Z=N),void 0===G?G=this.query:null===G&&(G=N),void 0===F?F=this.fragment:null===F&&(F=N),R===this.scheme&&Q===this.authority&&Z===this.path&&G===this.query&&F===this.fragment?this:new n(R,Q,Z,G,F)}static parse(T,R=!1){const Q=a.exec(T);return Q?new n(Q[2]||N,b(Q[4]||N),b(Q[5]||N),b(Q[7]||N),b(Q[9]||N),R):new n(N,N,N,N,N)}static file(T){let R=N;if(s.ED&&(T=T.replace(/\\/g,_)),T[0]===_&&T[1]===_){const Q=T.indexOf(_,2);-1===Q?(R=T.substring(2),T=_):(R=T.substring(2,Q),T=T.substring(Q)||_)}return new n("file",R,T,N,N)}static from(T){const R=new n(T.scheme,T.authority,T.path,T.query,T.fragment);return P(R,!0),R}static joinPath(T,...R){if(!T.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let Q;return Q=s.ED&&"file"===T.scheme?p.file(f.Ku.join(m(T,!0),...R)).path:f.KR.join(T.path,...R),T.with({path:Q})}toString(T=!1){return I(this,T)}toJSON(){return this}static revive(T){if(T){if(T instanceof p)return T;{const R=new n(T);return R._formatted=T.external,R._fsPath=T._sep===c?T.fsPath:null,R}}return T}}const c=s.ED?1:void 0;class n extends p{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=m(this,!1)),this._fsPath}toString(T=!1){return T?I(this,!0):(this._formatted||(this._formatted=I(this,!1)),this._formatted)}toJSON(){const T={$mid:1};return this._fsPath&&(T.fsPath=this._fsPath,T._sep=c),this._formatted&&(T.external=this._formatted),this.path&&(T.path=this.path),this.scheme&&(T.scheme=this.scheme),this.authority&&(T.authority=this.authority),this.query&&(T.query=this.query),this.fragment&&(T.fragment=this.fragment),T}}const l={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function v(x,T){let R,Q=-1;for(let Z=0;Z<x.length;Z++){const G=x.charCodeAt(Z);if(G>=97&&G<=122||G>=65&&G<=90||G>=48&&G<=57||45===G||46===G||95===G||126===G||T&&47===G)-1!==Q&&(R+=encodeURIComponent(x.substring(Q,Z)),Q=-1),void 0!==R&&(R+=x.charAt(Z));else{void 0===R&&(R=x.substr(0,Z));const F=l[G];void 0!==F?(-1!==Q&&(R+=encodeURIComponent(x.substring(Q,Z)),Q=-1),R+=F):-1===Q&&(Q=Z)}}return-1!==Q&&(R+=encodeURIComponent(x.substring(Q))),void 0!==R?R:x}function d(x){let T;for(let R=0;R<x.length;R++){const Q=x.charCodeAt(R);35===Q||63===Q?(void 0===T&&(T=x.substr(0,R)),T+=l[Q]):void 0!==T&&(T+=x[R])}return void 0!==T?T:x}function m(x,T){let R;return R=x.authority&&x.path.length>1&&"file"===x.scheme?`//${x.authority}${x.path}`:47===x.path.charCodeAt(0)&&(x.path.charCodeAt(1)>=65&&x.path.charCodeAt(1)<=90||x.path.charCodeAt(1)>=97&&x.path.charCodeAt(1)<=122)&&58===x.path.charCodeAt(2)?T?x.path.substr(1):x.path[1].toLowerCase()+x.path.substr(2):x.path,s.ED&&(R=R.replace(/\//g,"\\")),R}function I(x,T){const R=T?d:v;let Q="",{scheme:Z,authority:G,path:F,query:W,fragment:B}=x;if(Z&&(Q+=Z,Q+=":"),(G||"file"===Z)&&(Q+=_,Q+=_),G){let z=G.indexOf("@");if(-1!==z){const j=G.substr(0,z);G=G.substr(z+1),z=j.indexOf(":"),-1===z?Q+=R(j,!1):(Q+=R(j.substr(0,z),!1),Q+=":",Q+=R(j.substr(z+1),!1)),Q+="@"}G=G.toLowerCase(),z=G.indexOf(":"),-1===z?Q+=R(G,!1):(Q+=R(G.substr(0,z),!1),Q+=G.substr(z))}if(F){if(F.length>=3&&47===F.charCodeAt(0)&&58===F.charCodeAt(2)){const z=F.charCodeAt(1);z>=65&&z<=90&&(F=`/${String.fromCharCode(z+32)}:${F.substr(3)}`)}else if(F.length>=2&&58===F.charCodeAt(1)){const z=F.charCodeAt(0);z>=65&&z<=90&&(F=`${String.fromCharCode(z+32)}:${F.substr(2)}`)}Q+=R(F,!0)}return W&&(Q+="?",Q+=R(W,!1)),B&&(Q+="#",Q+=T?B:v(B,!1)),Q}function y(x){try{return decodeURIComponent(x)}catch(T){return x.length>3?x.substr(0,3)+y(x.substr(3)):x}}const S=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function b(x){return x.match(S)?x.replace(S,T=>y(T)):x}},54010:(at,ue,e)=>{"use strict";e.d(ue,{R:()=>f});const f=function(){if("object"==typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID.bind(crypto);let s;s="object"==typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(u){for(let P=0;P<u.length;P++)u[P]=Math.floor(256*Math.random());return u};const L=new Uint8Array(16),M=[];for(let u=0;u<256;u++)M.push(u.toString(16).padStart(2,"0"));return function(){s(L),L[6]=15&L[6]|64,L[8]=63&L[8]|128;let P=0,A="";return A+=M[L[P++]],A+=M[L[P++]],A+=M[L[P++]],A+=M[L[P++]],A+="-",A+=M[L[P++]],A+=M[L[P++]],A+="-",A+=M[L[P++]],A+=M[L[P++]],A+="-",A+=M[L[P++]],A+=M[L[P++]],A+="-",A+=M[L[P++]],A+=M[L[P++]],A+=M[L[P++]],A+=M[L[P++]],A+=M[L[P++]],A+=M[L[P++]],A}}()},42099:(at,ue,e)=>{"use strict";e.d(ue,{Jq:()=>s,X5:()=>f,jG:()=>L});const f={ctrlCmd:!1,alt:!1};var s=(()=>{return(P=s||(s={}))[P.Blur=1]="Blur",P[P.Gesture=2]="Gesture",P[P.Other=3]="Other",s;var P})(),L=(()=>{return(P=L||(L={}))[P.NONE=0]="NONE",P[P.FIRST=1]="FIRST",P[P.SECOND=2]="SECOND",P[P.LAST=3]="LAST",L;var P})();new class M{constructor(A){this.options=A}}},73384:(at,ue,e)=>{"use strict";e.d(ue,{H:()=>l});var f=e(15861),s=e(3597),L=Object.defineProperty,M=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,P=Object.prototype.hasOwnProperty,A=(v,d,m,I)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let y of u(d))!P.call(v,y)&&y!==m&&L(v,y,{get:()=>d[y],enumerable:!(I=M(d,y))||I.enumerable});return v},N={};A(N,s,"default");var _={},a={},p=class{constructor(v){io(this,"_languageId"),io(this,"_loadingTriggered"),io(this,"_lazyLoadPromise"),io(this,"_lazyLoadPromiseResolve"),io(this,"_lazyLoadPromiseReject"),this._languageId=v,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((d,m)=>{this._lazyLoadPromiseResolve=d,this._lazyLoadPromiseReject=m})}static getOrCreate(v){return a[v]||(a[v]=new p(v)),a[v]}load(){return this._loadingTriggered||(this._loadingTriggered=!0,_[this._languageId].loader().then(v=>this._lazyLoadPromiseResolve(v),v=>this._lazyLoadPromiseReject(v))),this._lazyLoadPromise}};function l(v){const d=v.id;_[d]=v,N.languages.register(v);const m=p.getOrCreate(d);var I;N.languages.registerTokensProviderFactory(d,{create:(I=(0,f.Z)(function*(){return(yield m.load()).language}),function(){return I.apply(this,arguments)})}),N.languages.onLanguage(d,(0,f.Z)(function*(){const I=yield m.load();N.languages.setLanguageConfiguration(d,I.conf)}))}},8820:(at,ue,e)=>{"use strict";e.r(ue),(0,e(73384).H)({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>e.e(6982).then(e.bind(e,36982))})},36429:(at,ue,e)=>{"use strict";e.r(ue),(0,e(73384).H)({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>e.e(6073).then(e.bind(e,66073))})},13168:(at,ue,e)=>{"use strict";e.r(ue),(0,e(73384).H)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>Promise.all([e.e(8592),e.e(4121)]).then(e.bind(e,14121))})},97491:(at,ue,e)=>{"use strict";e.r(ue),(0,e(73384).H)({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>e.e(4118).then(e.bind(e,4118))})},57862:(at,ue,e)=>{"use strict";e.r(ue),(0,e(73384).H)({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>e.e(8592).then(e.bind(e,61696))})},95748:(at,ue,e)=>{"use strict";e.d(ue,{N:()=>s});var f=e(48554);function s(L,M){L instanceof f.Z?(L.setFontFamily(M.getMassagedFontFamily()),L.setFontWeight(M.fontWeight),L.setFontSize(M.fontSize),L.setFontFeatureSettings(M.fontFeatureSettings),L.setLineHeight(M.lineHeight),L.setLetterSpacing(M.letterSpacing)):(L.style.fontFamily=M.getMassagedFontFamily(),L.style.fontWeight=M.fontWeight,L.style.fontSize=M.fontSize+"px",L.style.fontFeatureSettings=M.fontFeatureSettings,L.style.lineHeight=M.lineHeight+"px",L.style.letterSpacing=M.letterSpacing+"px")}},72052:(at,ue,e)=>{"use strict";e.d(ue,{I:()=>L});var f=e(52425),s=e(52787);class L extends f.JT{constructor(u,P){super(),this._onDidChange=this._register(new s.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=u,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,P)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(u=>{u&&u[0]&&u[0].contentRect?this.observe({width:u[0].contentRect.width,height:u[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(u){this.measureReferenceDomElement(!0,u)}measureReferenceDomElement(u,P){let A=0,k=0;P?(A=P.width,k=P.height):this._referenceDomElement&&(A=this._referenceDomElement.clientWidth,k=this._referenceDomElement.clientHeight),A=Math.max(5,A),k=Math.max(5,k),(this._width!==A||this._height!==k)&&(this._width=A,this._height=k,u&&this._onDidChange.fire())}}},33126:(at,ue,e)=>{"use strict";e.d(ue,{g:()=>p});var f=e(13366),s=e(52787),L=e(52425),M=e(95748);class u{constructor(n,l){this.chr=n,this.type=l,this.width=0}fulfill(n){this.width=n}}class P{constructor(n,l){this._bareFontInfo=n,this._requests=l,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const n=document.createElement("div");n.style.position="absolute",n.style.top="-50000px",n.style.width="50000px";const l=document.createElement("div");(0,M.N)(l,this._bareFontInfo),n.appendChild(l);const v=document.createElement("div");(0,M.N)(v,this._bareFontInfo),v.style.fontWeight="bold",n.appendChild(v);const d=document.createElement("div");(0,M.N)(d,this._bareFontInfo),d.style.fontStyle="italic",n.appendChild(d);const m=[];for(const I of this._requests){let y;0===I.type&&(y=l),2===I.type&&(y=v),1===I.type&&(y=d),y.appendChild(document.createElement("br"));const S=document.createElement("span");P._render(S,I),y.appendChild(S),m.push(S)}this._container=n,this._testElements=m}static _render(n,l){if(" "===l.chr){let v="\xa0";for(let d=0;d<8;d++)v+=v;n.innerText=v}else{let v=l.chr;for(let d=0;d<8;d++)v+=v;n.textContent=v}}_readFromDomElements(){for(let n=0,l=this._requests.length;n<l;n++)this._requests[n].fulfill(this._testElements[n].offsetWidth/256)}}var k=e(16367),N=e(25462);class a{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(n){const l=n.getId();return!!this._values[l]}get(n){const l=n.getId();return this._values[l]}put(n,l){const v=n.getId();this._keys[v]=n,this._values[v]=l}remove(n){const l=n.getId();delete this._keys[l],delete this._values[l]}getValues(){return Object.keys(this._keys).map(n=>this._values[n])}}const p=new class _ extends L.JT{constructor(){super(),this._onDidChange=this._register(new s.Q5),this.onDidChange=this._onDidChange.event,this._cache=new a,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new a,this._onDidChange.fire()}_writeToCache(n,l){this._cache.put(n,l),!l.isTrusted&&-1===this._evictUntrustedReadingsTimeout&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const n=this._cache.getValues();let l=!1;for(const v of n)v.isTrusted||(l=!0,this._cache.remove(v));l&&this._onDidChange.fire()}readFontInfo(n){if(!this._cache.has(n)){let l=this._actualReadFontInfo(n);(l.typicalHalfwidthCharacterWidth<=2||l.typicalFullwidthCharacterWidth<=2||l.spaceWidth<=2||l.maxDigitWidth<=2)&&(l=new N.pR({pixelRatio:f.PixelRatio.value,fontFamily:l.fontFamily,fontWeight:l.fontWeight,fontSize:l.fontSize,fontFeatureSettings:l.fontFeatureSettings,lineHeight:l.lineHeight,letterSpacing:l.letterSpacing,isMonospace:l.isMonospace,typicalHalfwidthCharacterWidth:Math.max(l.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(l.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:l.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(l.spaceWidth,5),middotWidth:Math.max(l.middotWidth,5),wsmiddotWidth:Math.max(l.wsmiddotWidth,5),maxDigitWidth:Math.max(l.maxDigitWidth,5)},!1)),this._writeToCache(n,l)}return this._cache.get(n)}_createRequest(n,l,v,d){const m=new u(n,l);return v.push(m),null==d||d.push(m),m}_actualReadFontInfo(n){const l=[],v=[],d=this._createRequest("n",0,l,v),m=this._createRequest("\uff4d",0,l,null),I=this._createRequest(" ",0,l,v),y=this._createRequest("0",0,l,v),S=this._createRequest("1",0,l,v),b=this._createRequest("2",0,l,v),x=this._createRequest("3",0,l,v),T=this._createRequest("4",0,l,v),R=this._createRequest("5",0,l,v),Q=this._createRequest("6",0,l,v),Z=this._createRequest("7",0,l,v),G=this._createRequest("8",0,l,v),F=this._createRequest("9",0,l,v),W=this._createRequest("\u2192",0,l,v),B=this._createRequest("\uffeb",0,l,null),z=this._createRequest("\xb7",0,l,v),j=this._createRequest(String.fromCharCode(11825),0,l,null),Y="|/-_ilm%";for(let w=0,fe=Y.length;w<fe;w++)this._createRequest(Y.charAt(w),0,l,v),this._createRequest(Y.charAt(w),1,l,v),this._createRequest(Y.charAt(w),2,l,v);!function A(c,n){new P(c,n).read()}(n,l);const E=Math.max(y.width,S.width,b.width,x.width,T.width,R.width,Q.width,Z.width,G.width,F.width);let V=n.fontFeatureSettings===k.n0.OFF;const $=v[0].width;for(let w=1,fe=v.length;V&&w<fe;w++){const be=$-v[w].width;if(be<-.001||be>.001){V=!1;break}}let te=!0;return V&&B.width!==$&&(te=!1),B.width>W.width&&(te=!1),new N.pR({pixelRatio:f.PixelRatio.value,fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:V,typicalHalfwidthCharacterWidth:d.width,typicalFullwidthCharacterWidth:m.width,canUseHalfwidthRightwardsArrow:te,spaceWidth:I.width,middotWidth:z.width,wsmiddotWidth:j.width,maxDigitWidth:E},!0)}}},75617:(at,ue,e)=>{"use strict";e.d(ue,{n:()=>L});var f=e(52787);const L=new class s{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new f.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(u){this._tabFocus!==u&&(this._tabFocus=u,this._onDidChangeTabFocus.fire(this._tabFocus))}}},47462:(at,ue,e)=>{"use strict";e.d(ue,{Fz:()=>l,Nl:()=>c,RA:()=>p,Tj:()=>d,pd:()=>a});var f=e(13366),s=e(58059),L=e(74616),M=e(63072),u=e(52787),P=e(52425),A=e(59341),k=e(93059),N=e(62562),_=e(43210),a=(()=>((a||(a={})).Tap="-monaco-textarea-synthetic-tap",a))();const p={forceCopyWithSyntaxHighlighting:!1};class c{constructor(){this._lastState=null}set(I,y){this._lastState={lastCopiedValue:I,data:y}}get(I){return this._lastState&&this._lastState.lastCopiedValue===I?this._lastState.data:(this._lastState=null,null)}}c.INSTANCE=new c;class n{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(I){const y={text:I=I||"",replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=I.length,y}}class l extends P.JT{constructor(I,y,S,b){super(),this._host=I,this._textArea=y,this._OS=S,this._browser=b,this._onFocus=this._register(new u.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new u.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new u.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new u.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new u.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new u.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new u.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new u.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new u.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new u.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new u.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new M.pY(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new M.pY(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=N.un.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let x=null;this._register(this._textArea.onKeyDown(T=>{const R=new L.y(T);(109===R.keyCode||this._currentComposition&&1===R.keyCode)&&R.stopPropagation(),R.equals(9)&&R.preventDefault(),x=R,this._onKeyDown.fire(R)})),this._register(this._textArea.onKeyUp(T=>{const R=new L.y(T);this._onKeyUp.fire(R)})),this._register(this._textArea.onCompositionStart(T=>{N.al&&console.log("[compositionstart]",T);const R=new n;if(!this._currentComposition)return this._currentComposition=R,2===this._OS&&x&&x.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===T.data&&("ArrowRight"===x.code||"ArrowLeft"===x.code)?(N.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",T),R.handleCompositionUpdate("x"),void this._onCompositionStart.fire({data:T.data})):void this._onCompositionStart.fire({data:T.data});this._currentComposition=R})),this._register(this._textArea.onCompositionUpdate(T=>{N.al&&console.log("[compositionupdate]",T);const R=this._currentComposition;if(!R)return;if(this._browser.isAndroid){const Z=N.un.readFromTextArea(this._textArea),G=N.un.deduceAndroidCompositionInput(this._textAreaState,Z);return this._textAreaState=Z,this._onType.fire(G),void this._onCompositionUpdate.fire(T)}const Q=R.handleCompositionUpdate(T.data);this._textAreaState=N.un.readFromTextArea(this._textArea),this._onType.fire(Q),this._onCompositionUpdate.fire(T)})),this._register(this._textArea.onCompositionEnd(T=>{N.al&&console.log("[compositionend]",T);const R=this._currentComposition;if(!R)return;if(this._currentComposition=null,this._browser.isAndroid){const Z=N.un.readFromTextArea(this._textArea),G=N.un.deduceAndroidCompositionInput(this._textAreaState,Z);return this._textAreaState=Z,this._onType.fire(G),void this._onCompositionEnd.fire()}const Q=R.handleCompositionUpdate(T.data);this._textAreaState=N.un.readFromTextArea(this._textArea),this._onType.fire(Q),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(T=>{if(N.al&&console.log("[input]",T),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const R=N.un.readFromTextArea(this._textArea),Q=N.un.deduceInput(this._textAreaState,R,2===this._OS);0===Q.replacePrevCharCnt&&1===Q.text.length&&k.ZG(Q.text.charCodeAt(0))||(this._textAreaState=R,(""!==Q.text||0!==Q.replacePrevCharCnt||0!==Q.replaceNextCharCnt||0!==Q.positionDelta)&&this._onType.fire(Q))})),this._register(this._textArea.onCut(T=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(T),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(T=>{this._ensureClipboardGetsEditorSelection(T)})),this._register(this._textArea.onPaste(T=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),T.preventDefault(),!T.clipboardData)return;let[R,Q]=v.getTextData(T.clipboardData);!R||(Q=Q||c.INSTANCE.get(R),this._onPaste.fire({text:R,metadata:Q}))})),this._register(this._textArea.onFocus(()=>{const T=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!T&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let I=0;return s.nm(document,"selectionchange",y=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const S=Date.now(),b=S-I;if(I=S,b<5)return;const x=S-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),x<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const T=this._textArea.getValue();if(this._textAreaState.value!==T)return;const R=this._textArea.getSelectionStart(),Q=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===R&&this._textAreaState.selectionEnd===Q)return;const Z=this._textAreaState.deduceEditorPosition(R),G=this._host.deduceModelPosition(Z[0],Z[1],Z[2]),F=this._textAreaState.deduceEditorPosition(Q),W=this._host.deduceModelPosition(F[0],F[1],F[2]),B=new _.Y(G.lineNumber,G.column,W.lineNumber,W.column);this._onSelectionChangeRequest.fire(B)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(I){this._hasFocus!==I&&(this._hasFocus=I,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(I,y){this._hasFocus||(y=y.collapseSelection()),y.writeToTextArea(I,this._textArea,this._hasFocus),this._textAreaState=y}writeScreenReaderContent(I){this._currentComposition||this._setAndWriteTextAreaState(I,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(I){const y=this._host.getDataToCopy(),S={version:1,isFromEmptySelection:y.isFromEmptySelection,multicursorText:y.multicursorText,mode:y.mode};c.INSTANCE.set(this._browser.isFirefox?y.text.replace(/\r\n/g,"\n"):y.text,S),I.preventDefault(),I.clipboardData&&v.setTextData(I.clipboardData,y.text,y.html,S)}}class v{static getTextData(I){const y=I.getData(A.v.text);let S=null;const b=I.getData("vscode-editor-data");if("string"==typeof b)try{S=JSON.parse(b),1!==S.version&&(S=null)}catch(x){}return 0===y.length&&null===S&&I.files.length>0?[Array.prototype.slice.call(I.files,0).map(T=>T.name).join("\n"),null]:[y,S]}static setTextData(I,y,S,b){I.setData(A.v.text,y),"string"==typeof S&&I.setData("text/html",S),I.setData("vscode-editor-data",JSON.stringify(b))}}class d extends P.JT{constructor(I){super(),this._actual=I,this.onKeyDown=this._register(s.IC(this._actual,"keydown")).event,this.onKeyUp=this._register(s.IC(this._actual,"keyup")).event,this.onCompositionStart=this._register(s.IC(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(s.IC(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(s.IC(this._actual,"compositionend")).event,this.onInput=this._register(s.IC(this._actual,"input")).event,this.onCut=this._register(s.IC(this._actual,"cut")).event,this.onCopy=this._register(s.IC(this._actual,"copy")).event,this.onPaste=this._register(s.IC(this._actual,"paste")).event,this.onFocus=this._register(s.IC(this._actual,"focus")).event,this.onBlur=this._register(s.IC(this._actual,"blur")).event,this._onSyntheticTap=this._register(new u.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(s.nm(this._actual,a.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const I=s.Ay(this._actual);return I?I.activeElement===this._actual:!!s.Uw(this._actual)&&document.activeElement===this._actual}setIgnoreSelectionChangeTime(I){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(I,y){const S=this._actual;S.value!==y&&(this.setIgnoreSelectionChangeTime("setValue"),S.value=y)}getSelectionStart(){return"backward"===this._actual.selectionDirection?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return"backward"===this._actual.selectionDirection?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(I,y,S){const b=this._actual;let x=null;const T=s.Ay(b);x=T?T.activeElement:document.activeElement;const R=x===b;if(R&&b.selectionStart===y&&b.selectionEnd===S)f.isFirefox&&window.parent!==window&&b.focus();else{if(R)return this.setIgnoreSelectionChangeTime("setSelectionRange"),b.setSelectionRange(y,S),void(f.isFirefox&&window.parent!==window&&b.focus());try{const G=s.vL(b);this.setIgnoreSelectionChangeTime("setSelectionRange"),b.focus(),b.setSelectionRange(y,S),s._0(b,G)}catch(G){}}}}},62562:(at,ue,e)=>{"use strict";e.d(ue,{al:()=>M,ee:()=>P,un:()=>u});var f=e(93059),s=e(94220),L=e(68451);const M=!1;class u{constructor(k,N,_,a,p){this.value=k,this.selectionStart=N,this.selectionEnd=_,this.selectionStartPosition=a,this.selectionEndPosition=p}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(k){return new u(k.getValue(),k.getSelectionStart(),k.getSelectionEnd(),null,null)}collapseSelection(){return new u(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(k,N,_){M&&console.log(`writeToTextArea ${k}: ${this.toString()}`),N.setValue(k,this.value),_&&N.setSelectionRange(k,this.selectionStart,this.selectionEnd)}deduceEditorPosition(k){if(k<=this.selectionStart){const a=this.value.substring(k,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,a,-1)}if(k>=this.selectionEnd){const a=this.value.substring(this.selectionEnd,k);return this._finishDeduceEditorPosition(this.selectionEndPosition,a,1)}const N=this.value.substring(this.selectionStart,k);if(-1===N.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,N,1);const _=this.value.substring(k,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,_,-1)}_finishDeduceEditorPosition(k,N,_){let a=0,p=-1;for(;-1!==(p=N.indexOf("\n",p+1));)a++;return[k,_*N.length,a]}static deduceInput(k,N,_){if(!k)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};M&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${k.toString()}`),console.log(`CURRENT STATE: ${N.toString()}`));const a=Math.min(f.Mh(k.value,N.value),k.selectionStart,N.selectionStart),p=Math.min(f.P1(k.value,N.value),k.value.length-k.selectionEnd,N.value.length-N.selectionEnd),c=k.value.substring(a,k.value.length-p),n=N.value.substring(a,N.value.length-p),l=k.selectionStart-a,v=k.selectionEnd-a,d=N.selectionStart-a,m=N.selectionEnd-a;if(M&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${c}>, selectionStart: ${l}, selectionEnd: ${v}`),console.log(`AFTER DIFFING CURRENT STATE: <${n}>, selectionStart: ${d}, selectionEnd: ${m}`)),d===m){const y=k.selectionStart-a;return M&&console.log(`REMOVE PREVIOUS: ${y} chars`),{text:n,replacePrevCharCnt:y,replaceNextCharCnt:0,positionDelta:0}}return{text:n,replacePrevCharCnt:v-l,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(k,N){if(!k)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(M&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${k.toString()}`),console.log(`CURRENT STATE: ${N.toString()}`)),k.value===N.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:N.selectionEnd-k.selectionEnd};const _=Math.min(f.Mh(k.value,N.value),k.selectionEnd),a=Math.min(f.P1(k.value,N.value),k.value.length-k.selectionEnd),p=k.value.substring(_,k.value.length-a),c=N.value.substring(_,N.value.length-a),l=k.selectionEnd-_,v=N.selectionStart-_,d=N.selectionEnd-_;return M&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${p}>, selectionStart: ${k.selectionStart-_}, selectionEnd: ${l}`),console.log(`AFTER DIFFING CURRENT STATE: <${c}>, selectionStart: ${v}, selectionEnd: ${d}`)),{text:c,replacePrevCharCnt:l,replaceNextCharCnt:p.length-l,positionDelta:d-c.length}}}u.EMPTY=new u("",0,0,null,null);class P{static _getPageOfLine(k,N){return Math.floor((k-1)/N)}static _getRangeForPage(k,N){const _=k*N;return new L.e(_+1,1,_+N+1,1)}static fromEditorSelection(k,N,_,a,p){const c=P._getPageOfLine(_.startLineNumber,a),n=P._getRangeForPage(c,a),l=P._getPageOfLine(_.endLineNumber,a),v=P._getRangeForPage(l,a),d=n.intersectRanges(new L.e(1,1,_.startLineNumber,_.startColumn));let m=N.getValueInRange(d,1);const I=N.getLineCount(),y=N.getLineMaxColumn(I),S=v.intersectRanges(new L.e(_.endLineNumber,_.endColumn,I,y));let x,b=N.getValueInRange(S,1);if(c===l||c+1===l)x=N.getValueInRange(_,1);else{const T=n.intersectRanges(_),R=v.intersectRanges(_);x=N.getValueInRange(T,1)+String.fromCharCode(8230)+N.getValueInRange(R,1)}return p&&(m.length>500&&(m=m.substring(m.length-500,m.length)),b.length>500&&(b=b.substring(0,500)),x.length>1e3&&(x=x.substring(0,500)+String.fromCharCode(8230)+x.substring(x.length-500,x.length))),new u(m+x+b,m.length,m.length+x.length,new s.L(_.startLineNumber,_.startColumn),new s.L(_.endLineNumber,_.endColumn))}}},99839:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{CoreEditingCommands:()=>Q,CoreEditorCommand:()=>m,CoreNavigationCommands:()=>b,EditorScroll_:()=>I,RevealLine_:()=>y});var f=e(40402),s=e(13366),L=e(54435),M=e(71578),u=e(95172),P=e(7221),A=e(95062),k=e(94220),N=e(68451);class _{static columnSelect(W,B,z,j,Y,E){const V=Math.abs(Y-z)+1,$=z>Y,te=j>E,w=j<E,fe=[];for(let be=0;be<V;be++){const me=z+($?-be:be),Ie=W.columnFromVisibleColumn(B,me,j),ee=W.columnFromVisibleColumn(B,me,E),ce=W.visibleColumnFromColumn(B,new k.L(me,Ie)),he=W.visibleColumnFromColumn(B,new k.L(me,ee));w&&(ce>E||he<j)||te&&(he>j||ce<E)||fe.push(new A.rS(new N.e(me,Ie,me,Ie),0,new k.L(me,ee),0))}if(0===fe.length)for(let be=0;be<V;be++){const me=z+($?-be:be),Ie=B.getLineMaxColumn(me);fe.push(new A.rS(new N.e(me,Ie,me,Ie),0,new k.L(me,Ie),0))}return{viewStates:fe,reversed:$,fromLineNumber:z,fromVisualColumn:j,toLineNumber:Y,toVisualColumn:E}}static columnSelectLeft(W,B,z){let j=z.toViewVisualColumn;return j>0&&j--,_.columnSelect(W,B,z.fromViewLineNumber,z.fromViewVisualColumn,z.toViewLineNumber,j)}static columnSelectRight(W,B,z){let j=0;const Y=Math.min(z.fromViewLineNumber,z.toViewLineNumber),E=Math.max(z.fromViewLineNumber,z.toViewLineNumber);for(let $=Y;$<=E;$++){const te=B.getLineMaxColumn($),w=W.visibleColumnFromColumn(B,new k.L($,te));j=Math.max(j,w)}let V=z.toViewVisualColumn;return V<j&&V++,this.columnSelect(W,B,z.fromViewLineNumber,z.fromViewVisualColumn,z.toViewLineNumber,V)}static columnSelectUp(W,B,z,j){const E=Math.max(1,z.toViewLineNumber-(j?W.pageSize:1));return this.columnSelect(W,B,z.fromViewLineNumber,z.fromViewVisualColumn,E,z.toViewVisualColumn)}static columnSelectDown(W,B,z,j){const Y=j?W.pageSize:1,E=Math.min(B.getLineCount(),z.toViewLineNumber+Y);return this.columnSelect(W,B,z.fromViewLineNumber,z.fromViewVisualColumn,E,z.toViewVisualColumn)}}var I,F,y,b,a=e(72525),p=e(46396),c=e(36786),n=e(29584),l=e(59776),v=e(7550);class m extends u._l{runEditorCommand(W,B,z){const j=B._getViewModel();!j||this.runCoreEditorCommand(j,z||{})}}(F=I||(I={})).description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(z){if(!L.Kn(z))return!1;const j=z;return!(!L.HD(j.to)||!L.o8(j.by)&&!L.HD(j.by)||!L.o8(j.value)&&!L.hj(j.value)||!L.o8(j.revealCursor)&&!L.jn(j.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},F.RawDirection={Up:"up",Down:"down"},F.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor"},F.parse=function B(z){let j,Y;switch(z.to){case F.RawDirection.Up:j=1;break;case F.RawDirection.Down:j=2;break;default:return null}switch(z.by){case F.RawUnit.Line:Y=1;break;case F.RawUnit.WrappedLine:Y=2;break;case F.RawUnit.Page:Y=3;break;case F.RawUnit.HalfPage:Y=4;break;case F.RawUnit.Editor:Y=5;break;default:Y=2}return{direction:j,unit:Y,value:Math.floor(z.value||1),revealCursor:!!z.revealCursor,select:!!z.select}},function(F){F.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(B){if(!L.Kn(B))return!1;const z=B;return!(!L.hj(z.lineNumber)&&!L.HD(z.lineNumber)||!L.o8(z.at)&&!L.HD(z.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},F.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(y||(y={}));class S{constructor(W){W.addImplementation(1e4,"code-editor",(B,z)=>{const j=B.get(P.$).getFocusedCodeEditor();return!(!j||!j.hasTextFocus())&&this._runEditorCommand(B,j,z)}),W.addImplementation(1e3,"generic-dom-input-textarea",(B,z)=>{const j=document.activeElement;return!!(j&&["input","textarea"].indexOf(j.tagName.toLowerCase())>=0)&&(this.runDOMCommand(),!0)}),W.addImplementation(0,"generic-dom",(B,z)=>{const j=B.get(P.$).getActiveCodeEditor();return!!j&&(j.focus(),this._runEditorCommand(B,j,z))})}_runEditorCommand(W,B,z){return this.runEditorCommand(W,B,z)||!0}}!function(F){class W extends m{constructor(de){super(de),this._minimalReveal=de.minimalReveal,this._inSelectionMode=de.inSelectionMode}runCoreEditorCommand(de,ge){de.model.pushStackElement(),de.setCursorStates(ge.source,3,[p.P.moveTo(de,de.getPrimaryCursorState(),this._inSelectionMode,ge.position,ge.viewPosition)])&&de.revealPrimaryCursor(ge.source,!0,this._minimalReveal)}}F.MoveTo=(0,u.fK)(new W({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),F.MoveToSelect=(0,u.fK)(new W({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class B extends m{runCoreEditorCommand(de,ge){de.model.pushStackElement();const re=this._getColumnSelectResult(de,de.getPrimaryCursorState(),de.getCursorColumnSelectData(),ge);de.setCursorStates(ge.source,3,re.viewStates.map(Se=>A.Vi.fromViewState(Se))),de.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:re.fromLineNumber,fromViewVisualColumn:re.fromVisualColumn,toViewLineNumber:re.toLineNumber,toViewVisualColumn:re.toVisualColumn}),re.reversed?de.revealTopMostCursor(ge.source):de.revealBottomMostCursor(ge.source)}}F.ColumnSelect=(0,u.fK)(new class extends B{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(he,de,ge,re){const Se=he.model.validatePosition(re.position),Pe=he.coordinatesConverter.validateViewPosition(new k.L(re.viewPosition.lineNumber,re.viewPosition.column),Se);return _.columnSelect(he.cursorConfig,he,re.doColumnSelect?ge.fromViewLineNumber:Pe.lineNumber,re.doColumnSelect?ge.fromViewVisualColumn:re.mouseColumn-1,Pe.lineNumber,re.mouseColumn-1)}}),F.CursorColumnSelectLeft=(0,u.fK)(new class extends B{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(he,de,ge,re){return _.columnSelectLeft(he.cursorConfig,he,ge)}}),F.CursorColumnSelectRight=(0,u.fK)(new class extends B{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(he,de,ge,re){return _.columnSelectRight(he.cursorConfig,he,ge)}});class z extends B{constructor(de){super(de),this._isPaged=de.isPaged}_getColumnSelectResult(de,ge,re,Se){return _.columnSelectUp(de.cursorConfig,de,re,this._isPaged)}}F.CursorColumnSelectUp=(0,u.fK)(new z({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:3600,linux:{primary:0}}})),F.CursorColumnSelectPageUp=(0,u.fK)(new z({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:3595,linux:{primary:0}}}));class j extends B{constructor(de){super(de),this._isPaged=de.isPaged}_getColumnSelectResult(de,ge,re,Se){return _.columnSelectDown(de.cursorConfig,de,re,this._isPaged)}}F.CursorColumnSelectDown=(0,u.fK)(new j({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:3602,linux:{primary:0}}})),F.CursorColumnSelectPageDown=(0,u.fK)(new j({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:3596,linux:{primary:0}}}));class Y extends m{constructor(){super({id:"cursorMove",precondition:void 0,description:p.N.description})}runCoreEditorCommand(de,ge){const re=p.N.parse(ge);!re||this._runCursorMove(de,ge.source,re)}_runCursorMove(de,ge,re){de.model.pushStackElement(),de.setCursorStates(ge,3,Y._move(de,de.getCursorStates(),re)),de.revealPrimaryCursor(ge,!0)}static _move(de,ge,re){const Se=re.select,Pe=re.value;switch(re.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return p.P.simpleMove(de,ge,re.direction,Se,Pe,re.unit);case 11:case 13:case 12:case 14:return p.P.viewportMove(de,ge,re.direction,Se,Pe);default:return null}}}F.CursorMoveImpl=Y,F.CursorMove=(0,u.fK)(new Y);class E extends m{constructor(de){super(de),this._staticArgs=de.args}runCoreEditorCommand(de,ge){let re=this._staticArgs;-1===this._staticArgs.value&&(re={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:ge.pageSize||de.cursorConfig.pageSize}),de.model.pushStackElement(),de.setCursorStates(ge.source,3,p.P.simpleMove(de,de.getCursorStates(),re.direction,re.select,re.value,re.unit)),de.revealPrimaryCursor(ge.source,!0)}}F.CursorLeft=(0,u.fK)(new E({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),F.CursorLeftSelect=(0,u.fK)(new E({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:1039}})),F.CursorRight=(0,u.fK)(new E({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),F.CursorRightSelect=(0,u.fK)(new E({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:1041}})),F.CursorUp=(0,u.fK)(new E({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),F.CursorUpSelect=(0,u.fK)(new E({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),F.CursorPageUp=(0,u.fK)(new E({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:11}})),F.CursorPageUpSelect=(0,u.fK)(new E({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:1035}})),F.CursorDown=(0,u.fK)(new E({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),F.CursorDownSelect=(0,u.fK)(new E({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),F.CursorPageDown=(0,u.fK)(new E({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:12}})),F.CursorPageDownSelect=(0,u.fK)(new E({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:1036}})),F.CreateCursor=(0,u.fK)(new class extends m{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(he,de){let ge;ge=de.wholeLine?p.P.line(he,he.getPrimaryCursorState(),!1,de.position,de.viewPosition):p.P.moveTo(he,he.getPrimaryCursorState(),!1,de.position,de.viewPosition);const re=he.getCursorStates();if(re.length>1){const Se=ge.modelState?ge.modelState.position:null,Pe=ge.viewState?ge.viewState.position:null;for(let Ve=0,ie=re.length;Ve<ie;Ve++){const ye=re[Ve];if((!Se||ye.modelState.selection.containsPosition(Se))&&(!Pe||ye.viewState.selection.containsPosition(Pe)))return re.splice(Ve,1),he.model.pushStackElement(),void he.setCursorStates(de.source,3,re)}}re.push(ge),he.model.pushStackElement(),he.setCursorStates(de.source,3,re)}}),F.LastCursorMoveToSelect=(0,u.fK)(new class extends m{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(he,de){const ge=he.getLastAddedCursorIndex(),re=he.getCursorStates(),Se=re.slice(0);Se[ge]=p.P.moveTo(he,re[ge],!0,de.position,de.viewPosition),he.model.pushStackElement(),he.setCursorStates(de.source,3,Se)}});class V extends m{constructor(de){super(de),this._inSelectionMode=de.inSelectionMode}runCoreEditorCommand(de,ge){de.model.pushStackElement(),de.setCursorStates(ge.source,3,p.P.moveToBeginningOfLine(de,de.getCursorStates(),this._inSelectionMode)),de.revealPrimaryCursor(ge.source,!0)}}F.CursorHome=(0,u.fK)(new V({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),F.CursorHomeSelect=(0,u.fK)(new V({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class $ extends m{constructor(de){super(de),this._inSelectionMode=de.inSelectionMode}runCoreEditorCommand(de,ge){de.model.pushStackElement(),de.setCursorStates(ge.source,3,this._exec(de.getCursorStates())),de.revealPrimaryCursor(ge.source,!0)}_exec(de){const ge=[];for(let re=0,Se=de.length;re<Se;re++){const Pe=de[re];ge[re]=A.Vi.fromModelState(Pe.modelState.move(this._inSelectionMode,Pe.modelState.position.lineNumber,1,0))}return ge}}F.CursorLineStart=(0,u.fK)(new $({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:287}}})),F.CursorLineStartSelect=(0,u.fK)(new $({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:1311}}}));class te extends m{constructor(de){super(de),this._inSelectionMode=de.inSelectionMode}runCoreEditorCommand(de,ge){de.model.pushStackElement(),de.setCursorStates(ge.source,3,p.P.moveToEndOfLine(de,de.getCursorStates(),this._inSelectionMode,ge.sticky||!1)),de.revealPrimaryCursor(ge.source,!0)}}F.CursorEnd=(0,u.fK)(new te({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:n.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:f.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),F.CursorEndSelect=(0,u.fK)(new te({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:n.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:f.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class w extends m{constructor(de){super(de),this._inSelectionMode=de.inSelectionMode}runCoreEditorCommand(de,ge){de.model.pushStackElement(),de.setCursorStates(ge.source,3,this._exec(de,de.getCursorStates())),de.revealPrimaryCursor(ge.source,!0)}_exec(de,ge){const re=[];for(let Se=0,Pe=ge.length;Se<Pe;Se++){const Ve=ge[Se],ie=Ve.modelState.position.lineNumber,ye=de.model.getLineMaxColumn(ie);re[Se]=A.Vi.fromModelState(Ve.modelState.move(this._inSelectionMode,ie,ye,0))}return re}}F.CursorLineEnd=(0,u.fK)(new w({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:291}}})),F.CursorLineEndSelect=(0,u.fK)(new w({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:1315}}}));class fe extends m{constructor(de){super(de),this._inSelectionMode=de.inSelectionMode}runCoreEditorCommand(de,ge){de.model.pushStackElement(),de.setCursorStates(ge.source,3,p.P.moveToBeginningOfBuffer(de,de.getCursorStates(),this._inSelectionMode)),de.revealPrimaryCursor(ge.source,!0)}}F.CursorTop=(0,u.fK)(new fe({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:2062,mac:{primary:2064}}})),F.CursorTopSelect=(0,u.fK)(new fe({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class be extends m{constructor(de){super(de),this._inSelectionMode=de.inSelectionMode}runCoreEditorCommand(de,ge){de.model.pushStackElement(),de.setCursorStates(ge.source,3,p.P.moveToEndOfBuffer(de,de.getCursorStates(),this._inSelectionMode)),de.revealPrimaryCursor(ge.source,!0)}}F.CursorBottom=(0,u.fK)(new be({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:2061,mac:{primary:2066}}})),F.CursorBottomSelect=(0,u.fK)(new be({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class me extends m{constructor(){super({id:"editorScroll",precondition:void 0,description:I.description})}runCoreEditorCommand(de,ge){const re=I.parse(ge);!re||this._runEditorScroll(de,ge.source,re)}_runEditorScroll(de,ge,re){const Se=this._computeDesiredScrollTop(de,re);if(re.revealCursor){const Pe=de.getCompletelyVisibleViewRangeAtScrollTop(Se);de.setCursorStates(ge,3,[p.P.findPositionInViewportIfOutside(de,de.getPrimaryCursorState(),Pe,re.select)])}de.viewLayout.setScrollPosition({scrollTop:Se},0)}_computeDesiredScrollTop(de,ge){if(1===ge.unit){const Pe=de.getCompletelyVisibleViewRange(),Ve=de.coordinatesConverter.convertViewRangeToModelRange(Pe);let ie;ie=1===ge.direction?Math.max(1,Ve.startLineNumber-ge.value):Math.min(de.model.getLineCount(),Ve.startLineNumber+ge.value);const ye=de.coordinatesConverter.convertModelPositionToViewPosition(new k.L(ie,1));return de.viewLayout.getVerticalOffsetForLineNumber(ye.lineNumber)}if(5===ge.unit){let Pe=0;return 2===ge.direction&&(Pe=de.model.getLineCount()-de.cursorConfig.pageSize),de.viewLayout.getVerticalOffsetForLineNumber(Pe)}let re;re=3===ge.unit?de.cursorConfig.pageSize*ge.value:4===ge.unit?Math.round(de.cursorConfig.pageSize/2)*ge.value:ge.value;const Se=(1===ge.direction?-1:1)*re;return de.viewLayout.getCurrentScrollTop()+Se*de.cursorConfig.lineHeight}}F.EditorScrollImpl=me,F.EditorScroll=(0,u.fK)(new me),F.ScrollLineUp=(0,u.fK)(new class extends m{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(he,de){F.EditorScroll._runEditorScroll(he,de.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),F.ScrollPageUp=(0,u.fK)(new class extends m{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(he,de){F.EditorScroll._runEditorScroll(he,de.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),F.ScrollEditorTop=(0,u.fK)(new class extends m{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus}})}runCoreEditorCommand(he,de){F.EditorScroll._runEditorScroll(he,de.source,{direction:1,unit:5,value:1,revealCursor:!1,select:!1})}}),F.ScrollLineDown=(0,u.fK)(new class extends m{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(he,de){F.EditorScroll._runEditorScroll(he,de.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),F.ScrollPageDown=(0,u.fK)(new class extends m{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(he,de){F.EditorScroll._runEditorScroll(he,de.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}}),F.ScrollEditorBottom=(0,u.fK)(new class extends m{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus}})}runCoreEditorCommand(he,de){F.EditorScroll._runEditorScroll(he,de.source,{direction:2,unit:5,value:1,revealCursor:!1,select:!1})}});class Ie extends m{constructor(de){super(de),this._inSelectionMode=de.inSelectionMode}runCoreEditorCommand(de,ge){de.model.pushStackElement(),de.setCursorStates(ge.source,3,[p.P.word(de,de.getPrimaryCursorState(),this._inSelectionMode,ge.position)]),de.revealPrimaryCursor(ge.source,!0)}}F.WordSelect=(0,u.fK)(new Ie({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),F.WordSelectDrag=(0,u.fK)(new Ie({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),F.LastCursorWordSelect=(0,u.fK)(new class extends m{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(he,de){const ge=he.getLastAddedCursorIndex(),re=he.getCursorStates(),Se=re.slice(0),Pe=re[ge];Se[ge]=p.P.word(he,Pe,Pe.modelState.hasSelection(),de.position),he.model.pushStackElement(),he.setCursorStates(de.source,3,Se)}});class ee extends m{constructor(de){super(de),this._inSelectionMode=de.inSelectionMode}runCoreEditorCommand(de,ge){de.model.pushStackElement(),de.setCursorStates(ge.source,3,[p.P.line(de,de.getPrimaryCursorState(),this._inSelectionMode,ge.position,ge.viewPosition)]),de.revealPrimaryCursor(ge.source,!1)}}F.LineSelect=(0,u.fK)(new ee({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),F.LineSelectDrag=(0,u.fK)(new ee({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class ce extends m{constructor(de){super(de),this._inSelectionMode=de.inSelectionMode}runCoreEditorCommand(de,ge){const re=de.getLastAddedCursorIndex(),Se=de.getCursorStates(),Pe=Se.slice(0);Pe[re]=p.P.line(de,Se[re],this._inSelectionMode,ge.position,ge.viewPosition),de.model.pushStackElement(),de.setCursorStates(ge.source,3,Pe)}}F.LastCursorLineSelect=(0,u.fK)(new ce({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),F.LastCursorLineSelectDrag=(0,u.fK)(new ce({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),F.CancelSelection=(0,u.fK)(new class extends m{constructor(){super({id:"cancelSelection",precondition:n.u.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(he,de){he.model.pushStackElement(),he.setCursorStates(de.source,3,[p.P.cancelSelection(he,he.getPrimaryCursorState())]),he.revealPrimaryCursor(de.source,!0)}}),F.RemoveSecondaryCursors=(0,u.fK)(new class extends m{constructor(){super({id:"removeSecondaryCursors",precondition:n.u.hasMultipleSelections,kbOpts:{weight:1,kbExpr:n.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(he,de){he.model.pushStackElement(),he.setCursorStates(de.source,3,[he.getPrimaryCursorState()]),he.revealPrimaryCursor(de.source,!0),(0,M.i7)(f.NC("removedCursor","Removed secondary cursors"))}}),F.RevealLine=(0,u.fK)(new class extends m{constructor(){super({id:"revealLine",precondition:void 0,description:y.description})}runCoreEditorCommand(he,de){const ge=de,re=ge.lineNumber||0;let Se="number"==typeof re?re+1:parseInt(re)+1;Se<1&&(Se=1);const Pe=he.model.getLineCount();Se>Pe&&(Se=Pe);const Ve=new N.e(Se,1,Se,he.model.getLineMaxColumn(Se));let ie=0;if(ge.at)switch(ge.at){case y.RawAtArgument.Top:ie=3;break;case y.RawAtArgument.Center:ie=1;break;case y.RawAtArgument.Bottom:ie=4}const ye=he.coordinatesConverter.convertModelRangeToViewRange(Ve);he.revealRange(de.source,!1,ye,ie,0)}}),F.SelectAll=new class extends S{constructor(){super(u.Sq)}runDOMCommand(){s.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(he,de,ge){const re=de._getViewModel();!re||this.runCoreEditorCommand(re,ge)}runCoreEditorCommand(he,de){he.model.pushStackElement(),he.setCursorStates("keyboard",3,[p.P.selectAll(he,he.getPrimaryCursorState())])}},F.SetSelection=(0,u.fK)(new class extends m{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(he,de){he.model.pushStackElement(),he.setCursorStates(de.source,3,[A.Vi.fromModelSelection(de.selection)])}})}(b||(b={}));const x=l.Ao.and(n.u.textInputFocus,n.u.columnSelection);function T(F,W){v.W.registerKeybindingRule({id:F,primary:W,when:x,weight:1})}function R(F){return F.register(),F}var Q;T(b.CursorColumnSelectLeft.id,1039),T(b.CursorColumnSelectRight.id,1041),T(b.CursorColumnSelectUp.id,1040),T(b.CursorColumnSelectPageUp.id,1035),T(b.CursorColumnSelectDown.id,1042),T(b.CursorColumnSelectPageDown.id,1036),function(F){class W extends u._l{runEditorCommand(z,j,Y){const E=j._getViewModel();!E||this.runCoreEditingCommand(j,E,Y||{})}}F.CoreEditingCommand=W,F.LineBreakInsert=(0,u.fK)(new class extends W{constructor(){super({id:"lineBreakInsert",precondition:n.u.writable,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(B,z,j){B.pushUndoStop(),B.executeCommands(this.id,c.u6.lineBreakInsert(z.cursorConfig,z.model,z.getCursorStates().map(Y=>Y.modelState.selection)))}}),F.Outdent=(0,u.fK)(new class extends W{constructor(){super({id:"outdent",precondition:n.u.writable,kbOpts:{weight:0,kbExpr:l.Ao.and(n.u.editorTextFocus,n.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(B,z,j){B.pushUndoStop(),B.executeCommands(this.id,c.u6.outdent(z.cursorConfig,z.model,z.getCursorStates().map(Y=>Y.modelState.selection))),B.pushUndoStop()}}),F.Tab=(0,u.fK)(new class extends W{constructor(){super({id:"tab",precondition:n.u.writable,kbOpts:{weight:0,kbExpr:l.Ao.and(n.u.editorTextFocus,n.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(B,z,j){B.pushUndoStop(),B.executeCommands(this.id,c.u6.tab(z.cursorConfig,z.model,z.getCursorStates().map(Y=>Y.modelState.selection))),B.pushUndoStop()}}),F.DeleteLeft=(0,u.fK)(new class extends W{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(B,z,j){const[Y,E]=a.A.deleteLeft(z.getPrevEditOperationType(),z.cursorConfig,z.model,z.getCursorStates().map(V=>V.modelState.selection),z.getCursorAutoClosedCharacters());Y&&B.pushUndoStop(),B.executeCommands(this.id,E),z.setPrevEditOperationType(2)}}),F.DeleteRight=(0,u.fK)(new class extends W{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(B,z,j){const[Y,E]=a.A.deleteRight(z.getPrevEditOperationType(),z.cursorConfig,z.model,z.getCursorStates().map(V=>V.modelState.selection));Y&&B.pushUndoStop(),B.executeCommands(this.id,E),z.setPrevEditOperationType(3)}}),F.Undo=new class extends S{constructor(){super(u.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(B,z,j){if(z.hasModel()&&!0!==z.getOption(83))return z.getModel().undo()}},F.Redo=new class extends S{constructor(){super(u.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(B,z,j){if(z.hasModel()&&!0!==z.getOption(83))return z.getModel().redo()}}}(Q||(Q={}));class Z extends u.mY{constructor(W,B,z){super({id:W,precondition:void 0,description:z}),this._handlerId=B}runCommand(W,B){const z=W.get(P.$).getFocusedCodeEditor();!z||z.trigger("keyboard",this._handlerId,B)}}function G(F,W){R(new Z("default:"+F,F)),R(new Z(F,F,W))}G("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),G("replacePreviousChar"),G("compositionType"),G("compositionStart"),G("compositionEnd"),G("paste"),G("cut")},46510:(at,ue,e)=>{"use strict";e.d(ue,{Z0:()=>I,dR:()=>m,Bo:()=>l});var f=e(26889),s=e(18337),L=e(93753),M=e(59341),u=e(74672),P=e(63314),A=e(26589),k=e(29537);const c={DragAndDropContribution:"workbench.contributions.dragAndDrop"};k.B.add(c.DragAndDropContribution,new class p{constructor(){this._contributions=new Map}getAll(){return this._contributions.values()}});function l(y){const S=new L.Hl;for(const b of y.items){const x=b.type;if("string"===b.kind){const T=new Promise(R=>b.getAsString(R));S.append(x,(0,L.ZO)(T))}else if("file"===b.kind){const T=b.getAsFile();T&&S.append(x,v(T))}}return S}function v(y){const S=y.path?u.o.parse(y.path):void 0;return(0,L.Ix)(y.name,S,()=>function(y,S,b,x){return new(b||(b=Promise))(function(R,Q){function Z(W){try{F(x.next(W))}catch(B){Q(B)}}function G(W){try{F(x.throw(W))}catch(B){Q(B)}}function F(W){W.done?R(W.value):function T(R){return R instanceof b?R:new b(function(Q){Q(R)})}(W.value).then(Z,G)}F((x=x.apply(y,S||[])).next())})}(this,void 0,void 0,function*(){return new Uint8Array(yield y.arrayBuffer())}))}const d=Object.freeze(["CodeEditors","CodeFiles",f.g.RESOURCES]);function m(y,S,b=!1){var x;if(S.dataTransfer&&(b||!y.has(M.v.uriList))){const T=function _(y){var S;const b=[];if(y.dataTransfer&&y.dataTransfer.types.length>0){const x=y.dataTransfer.getData("CodeEditors");if(x)try{b.push(...(0,P.Q)(x))}catch(Q){}else try{const Q=y.dataTransfer.getData(f.g.RESOURCES);b.push(...function a(y){const S=[];if(y){const b=JSON.parse(y);for(const x of b)if(x.indexOf(":")>0){const{selection:T,uri:R}=(0,A.xI)(u.o.parse(x));S.push({resource:R,options:{selection:T}})}}return S}(Q))}catch(Q){}if(null!==(S=y.dataTransfer)&&void 0!==S&&S.files)for(let Q=0;Q<y.dataTransfer.files.length;Q++){const Z=y.dataTransfer.files[Q];if(Z&&Z.path)try{b.push({resource:u.o.file(Z.path),isExternal:!0,allowWorkspaceOpen:!0})}catch(G){}}const T=y.dataTransfer.getData("CodeFiles");if(T)try{const Q=JSON.parse(T);for(const Z of Q)b.push({resource:u.o.file(Z),isExternal:!0,allowWorkspaceOpen:!0})}catch(Q){}const R=k.B.as(c.DragAndDropContribution).getAll();for(const Q of R){const Z=y.dataTransfer.getData(Q.dataFormatKey);if(Z)try{b.push(...Q.getEditorInputs(Z))}catch(G){}}}return b}(S).filter(R=>R.resource).map(R=>R.resource.toString());for(const R of null===(x=S.dataTransfer)||void 0===x?void 0:x.items){const Q=R.getAsFile();Q&&T.push(Q.path?u.o.file(Q.path).toString():Q.name)}T.length&&y.replace(M.v.uriList,(0,L.ZO)(I.create(T)))}for(const T of d)y.delete(T)}const I=Object.freeze({create:y=>(0,s.EB)(y.map(S=>S.toString())).join("\r\n"),parse:y=>y.split("\r\n").filter(S=>!S.startsWith("#"))})},7109:(at,ue,e)=>{"use strict";e.d(ue,{CL:()=>s,Pi:()=>M,QI:()=>L});var f=e(92651);function s(u){return!(!u||"function"!=typeof u.getEditorType)&&u.getEditorType()===f.g.ICodeEditor}function L(u){return!(!u||"function"!=typeof u.getEditorType)&&u.getEditorType()===f.g.IDiffEditor}function M(u){return s(u)?u:L(u)?u.getModifiedEditor():null}},28460:(at,ue,e)=>{"use strict";e.d(ue,{AL:()=>v,N5:()=>n,Pp:()=>p,YN:()=>A,gy:()=>c,kG:()=>a,rU:()=>k,t7:()=>d,tC:()=>l});var f=e(58059),s=e(96908),L=e(7457),M=e(63072),u=e(52425),P=e(28708);class A{constructor(S,b){this.x=S,this.y=b,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new k(this.x-f.DI.scrollX,this.y-f.DI.scrollY)}}class k{constructor(S,b){this.clientX=S,this.clientY=b,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new A(this.clientX+f.DI.scrollX,this.clientY+f.DI.scrollY)}}class N{constructor(S,b,x,T){this.x=S,this.y=b,this.width=x,this.height=T,this._editorPagePositionBrand=void 0}}class _{constructor(S,b){this.x=S,this.y=b,this._positionRelativeToEditorBrand=void 0}}function a(y){const S=f.i(y);return new N(S.left,S.top,S.width,S.height)}function p(y,S,b){return new _((b.x-S.x)/(S.width/y.offsetWidth),(b.y-S.y)/(S.height/y.offsetHeight))}class c extends L.n{constructor(S,b,x){super(S),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=b,this.pos=new A(this.posx,this.posy),this.editorPos=a(x),this.relativePos=p(x,this.editorPos,this.pos)}}class n{constructor(S){this._editorViewDomNode=S}_create(S){return new c(S,!1,this._editorViewDomNode)}onContextMenu(S,b){return f.nm(S,"contextmenu",x=>{b(this._create(x))})}onMouseUp(S,b){return f.nm(S,"mouseup",x=>{b(this._create(x))})}onMouseDown(S,b){return f.nm(S,f.tw.MOUSE_DOWN,x=>{b(this._create(x))})}onPointerDown(S,b){return f.nm(S,f.tw.POINTER_DOWN,x=>{b(this._create(x),x.pointerId)})}onMouseLeave(S,b){return f.nm(S,f.tw.MOUSE_LEAVE,x=>{b(this._create(x))})}onMouseMove(S,b){return f.nm(S,"mousemove",x=>b(this._create(x)))}}class l{constructor(S){this._editorViewDomNode=S}_create(S){return new c(S,!1,this._editorViewDomNode)}onPointerUp(S,b){return f.nm(S,"pointerup",x=>{b(this._create(x))})}onPointerDown(S,b){return f.nm(S,f.tw.POINTER_DOWN,x=>{b(this._create(x),x.pointerId)})}onPointerLeave(S,b){return f.nm(S,f.tw.POINTER_LEAVE,x=>{b(this._create(x))})}onPointerMove(S,b){return f.nm(S,"pointermove",x=>b(this._create(x)))}}class v extends u.JT{constructor(S){super(),this._editorViewDomNode=S,this._globalPointerMoveMonitor=this._register(new s.C),this._keydownListener=null}startMonitoring(S,b,x,T,R){this._keydownListener=f.mu(document,"keydown",Q=>{Q.toKeybinding().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,Q.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(S,b,x,Q=>{T(new c(Q,!0,this._editorViewDomNode))},Q=>{this._keydownListener.dispose(),R(Q)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}let d=(()=>{class y{constructor(b){this._editor=b,this._instanceId=++y._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new M.pY(()=>this.garbageCollect(),1e3)}createClassNameRef(b){const x=this.getOrCreateRule(b);return x.increaseRefCount(),{className:x.className,dispose:()=>{x.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(b){const x=this.computeUniqueKey(b);let T=this._rules.get(x);if(!T){const R=this._counter++;T=new m(x,`dyn-rule-${this._instanceId}-${R}`,f.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,b),this._rules.set(x,T)}return T}computeUniqueKey(b){return JSON.stringify(b)}garbageCollect(){for(const b of this._rules.values())b.hasReferences()||(this._rules.delete(b.key),b.dispose())}}return y._idPool=0,y})();class m{constructor(S,b,x,T){this.key=S,this.className=b,this.properties=T,this._referenceCount=0,this._styleElement=f.dS(x),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(S,b){let x=`.${S} {`;for(const T in b){const R=b[T];let Q;Q="object"==typeof R?`var(${(0,P.QO2)(R.id)})`:R,x+=`\n\t${y=T,y.replace(/(^[A-Z])/,([S])=>S.toLowerCase()).replace(/([A-Z])/g,([S])=>`-${S.toLowerCase()}`)}: ${Q};`}var y;return x+="\n}",x}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}},95172:(at,ue,e)=>{"use strict";e.d(ue,{AJ:()=>d,QG:()=>Q,Qr:()=>T,R6:()=>y,Sq:()=>Y,Uc:()=>G,_K:()=>Z,_l:()=>I,fK:()=>x,jY:()=>S,kz:()=>j,mY:()=>v,n_:()=>z,rn:()=>R,sb:()=>b});var G,E,f=e(40402),s=e(74672),L=e(7221),M=e(94220),u=e(8648),P=e(87424),A=e(61004),k=e(23884),N=e(59776),_=e(64725),a=e(7550),p=e(29537),c=e(19881),n=e(54435),l=e(42241);class v{constructor(V){this.id=V.id,this.precondition=V.precondition,this._kbOpts=V.kbOpts,this._menuOpts=V.menuOpts,this._description=V.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const V=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const $ of V){let te=$.kbExpr;this.precondition&&(te=te?N.Ao.and(te,this.precondition):this.precondition),a.W.registerKeybindingRule({id:this.id,weight:$.weight,args:$.args,when:te,primary:$.primary,secondary:$.secondary,win:$.win,linux:$.linux,mac:$.mac})}}k.P0.registerCommand({id:this.id,handler:(V,$)=>this.runCommand(V,$),description:this._description})}_registerMenuItem(V){A.BH.appendMenuItem(V.menuId,{group:V.group,command:{id:this.id,title:V.title,icon:V.icon,precondition:this.precondition},when:V.when,order:V.order})}}class d extends v{constructor(){super(...arguments),this._implementations=[]}addImplementation(V,$,te){return this._implementations.push({priority:V,name:$,implementation:te}),this._implementations.sort((w,fe)=>fe.priority-w.priority),{dispose:()=>{for(let w=0;w<this._implementations.length;w++)if(this._implementations[w].implementation===te)return void this._implementations.splice(w,1)}}}runCommand(V,$){const te=V.get(l.VZ);te.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const w of this._implementations){const fe=w.implementation(V,$);if(fe)return te.trace(`Command '${this.id}' was handled by '${w.name}'.`),"boolean"==typeof fe?void 0:fe}te.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class m extends v{constructor(V,$){super($),this.command=V}runCommand(V,$){return this.command.runCommand(V,$)}}class I extends v{static bindToContribution(V){return class extends I{constructor(te){super(te),this._callback=te.handler}runEditorCommand(te,w,fe){const be=V(w);be&&this._callback(be,fe)}}}static runEditorCommand(V,$,te,w){const fe=V.get(L.$),be=fe.getFocusedCodeEditor()||fe.getActiveCodeEditor();if(be)return be.invokeWithinContext(me=>{if(me.get(N.i6).contextMatchesRules((0,n.f6)(te)))return w(me,be,$)})}runCommand(V,$){return I.runEditorCommand(V,$,this.precondition,(te,w,fe)=>this.runEditorCommand(te,w,fe))}}class y extends I{constructor(V){super(y.convertOptions(V)),this.label=V.label,this.alias=V.alias}static convertOptions(V){let $;function te(w){return w.menuId||(w.menuId=A.eH.EditorContext),w.title||(w.title=V.label),w.when=N.Ao.and(V.precondition,w.when),w}return $=Array.isArray(V.menuOpts)?V.menuOpts:V.menuOpts?[V.menuOpts]:[],Array.isArray(V.contextMenuOpts)?$.push(...V.contextMenuOpts.map(te)):V.contextMenuOpts&&$.push(te(V.contextMenuOpts)),V.menuOpts=$,V}runEditorCommand(V,$,te){return this.reportTelemetry(V,$),this.run(V,$,te||{})}reportTelemetry(V,$){V.get(c.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class S extends y{constructor(){super(...arguments),this._implementations=[]}addImplementation(V,$){return this._implementations.push([V,$]),this._implementations.sort((te,w)=>w[0]-te[0]),{dispose:()=>{for(let te=0;te<this._implementations.length;te++)if(this._implementations[te][1]===$)return void this._implementations.splice(te,1)}}}run(V,$,te){for(const w of this._implementations){const fe=w[1](V,$,te);if(fe)return"boolean"==typeof fe?void 0:fe}}}function b(E,V){k.P0.registerCommand(E,function($,...te){const w=$.get(_.TG),[fe,be]=te;(0,n.p_)(s.o.isUri(fe)),(0,n.p_)(M.L.isIPosition(be));const me=$.get(u.q).getModel(fe);if(me){const Ie=M.L.lift(be);return w.invokeFunction(V,me,Ie,...te.slice(2))}return $.get(P.S).createModelReference(fe).then(Ie=>new Promise((ee,ce)=>{try{ee(w.invokeFunction(V,Ie.object.textEditorModel,M.L.lift(be),te.slice(2)))}catch(he){ce(he)}}).finally(()=>{Ie.dispose()}))})}function x(E){return W.INSTANCE.registerEditorCommand(E),E}function T(E){const V=new E;return W.INSTANCE.registerEditorAction(V),V}function R(E){return W.INSTANCE.registerEditorAction(E),E}function Q(E){W.INSTANCE.registerEditorAction(E)}function Z(E,V){W.INSTANCE.registerEditorContribution(E,V)}(E=G||(G={})).getEditorCommand=function V(be){return W.INSTANCE.getEditorCommand(be)},E.getEditorActions=function $(){return W.INSTANCE.getEditorActions()},E.getEditorContributions=function te(){return W.INSTANCE.getEditorContributions()},E.getSomeEditorContributions=function w(be){return W.INSTANCE.getEditorContributions().filter(me=>be.indexOf(me.id)>=0)},E.getDiffEditorContributions=function fe(){return W.INSTANCE.getDiffEditorContributions()};class W{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(V,$){this.editorContributions.push({id:V,ctor:$})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(V){V.register(),this.editorActions.push(V)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(V){V.register(),this.editorCommands[V.id]=V}getEditorCommand(V){return this.editorCommands[V]||null}}function B(E){return E.register(),E}W.INSTANCE=new W,p.B.add("editor.contributions",W.INSTANCE);const z=B(new d({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:A.eH.MenubarEditMenu,group:"1_do",title:f.NC({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:A.eH.CommandPalette,group:"",title:f.NC("undo","Undo"),order:1}]}));B(new m(z,{id:"default:undo",precondition:void 0}));const j=B(new d({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:A.eH.MenubarEditMenu,group:"1_do",title:f.NC({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:A.eH.CommandPalette,group:"",title:f.NC("redo","Redo"),order:1}]}));B(new m(j,{id:"default:redo",precondition:void 0}));const Y=B(new d({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:A.eH.MenubarSelectionMenu,group:"1_basic",title:f.NC({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:A.eH.CommandPalette,group:"",title:f.NC("selectAll","Select All"),order:1}]}))},84067:(at,ue,e)=>{"use strict";e.d(ue,{Gl:()=>P,fo:()=>u,vu:()=>M});var f=e(64725),s=e(74672),L=e(54435);const M=(0,f.yh)("IWorkspaceEditService");class u{constructor(N){this.metadata=N}static convert(N){return N.edits.map(_=>{if(P.is(_))return P.lift(_);if(A.is(_))return A.lift(_);throw new Error("Unsupported edit")})}}class P extends u{constructor(N,_,a,p){super(p),this.resource=N,this.textEdit=_,this.versionId=a}static is(N){return N instanceof P||(0,L.Kn)(N)&&s.o.isUri(N.resource)&&(0,L.Kn)(N.textEdit)}static lift(N){return N instanceof P?N:new P(N.resource,N.textEdit,N.versionId,N.metadata)}}class A extends u{constructor(N,_,a={},p){super(p),this.oldResource=N,this.newResource=_,this.options=a}static is(N){return N instanceof A||(0,L.Kn)(N)&&(Boolean(N.newResource)||Boolean(N.oldResource))}static lift(N){return N instanceof A?N:new A(N.oldResource,N.newResource,N.options,N.metadata)}}},7221:(at,ue,e)=>{"use strict";e.d(ue,{$:()=>s});const s=(0,e(64725).yh)("codeEditorService")},11210:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>f});class f{constructor(L,M,u){this._visiblePosition=L,this._visiblePositionScrollDelta=M,this._cursorPosition=u}static capture(L){let M=null,u=0;if(0!==L.getScrollTop()){const P=L.getVisibleRanges();if(P.length>0){M=P[0].getStartPosition();const A=L.getTopForPosition(M.lineNumber,M.column);u=L.getScrollTop()-A}}return new f(M,u,L.getPosition())}restore(L){if(this._visiblePosition){const M=L.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);L.setScrollTop(M+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(L){const M=L.getPosition();if(!this._cursorPosition||!M)return;const u=L.getTopForLineNumber(M.lineNumber)-L.getTopForLineNumber(this._cursorPosition.lineNumber);L.setScrollTop(L.getScrollTop()+u)}}},37972:(at,ue,e)=>{"use strict";e.d(ue,{Gm:()=>ur});var f=e(82945),s=e(95172);let u=class{constructor(t,o){}dispose(){}};var t;u.ID="editor.contrib.markerDecorations",u=function(ut,t,o,g){var se,O=arguments.length,H=O<3?t:null===g?g=Object.getOwnPropertyDescriptor(t,o):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(ut,t,o,g);else for(var ve=ut.length-1;ve>=0;ve--)(se=ut[ve])&&(H=(O<3?se(H):O>3?se(t,o,H):se(t,o))||H);return O>3&&H&&Object.defineProperty(t,o,H),H}([(1,t=f.i,function(o,g){t(o,g,1)})],u),(0,s._K)(u.ID,u);var P=e(93379),A=e.n(P),k=e(7795),N=e.n(k),_=e(90569),a=e.n(_),p=e(3565),c=e.n(p),n=e(19216),l=e.n(n),v=e(44589),d=e.n(v),m=e(97337),I={};I.styleTagTransform=d(),I.setAttributes=c(),I.insert=a().bind(null,"head"),I.domAPI=N(),I.insertStyleElement=l(),A()(m.Z,I);var b=e(40402),x=e(58059),T=e(53663),R=e(52787),Q=e(52425),Z=e(90278),G=e(13366),F=e(18337),W=e(85271),B=e(38972),z=e(72052),j=e(33126);let Y=(()=>{class ut{constructor(o,g){this.key=o,this.migrate=g}apply(o){const g=ut._read(o,this.key);this.migrate(g,se=>ut._read(o,se),(se,ve)=>ut._write(o,se,ve))}static _read(o,g){if(void 0===o)return;const O=g.indexOf(".");if(O>=0){const H=g.substring(0,O);return this._read(o[H],g.substring(O+1))}return o[g]}static _write(o,g,O){const H=g.indexOf(".");if(H>=0){const se=g.substring(0,H);return o[se]=o[se]||{},void this._write(o[se],g.substring(H+1),O)}o[g]=O}}return ut.items=[],ut})();function E(ut,t){Y.items.push(new Y(ut,t))}function V(ut,t){E(ut,(o,g,O)=>{if(void 0!==o)for(const[H,se]of t)if(o===H)return void O(ut,se)})}V("wordWrap",[[!0,"on"],[!1,"off"]]),V("lineNumbers",[[!0,"on"],[!1,"off"]]),V("cursorBlinking",[["visible","solid"]]),V("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),V("renderLineHighlight",[[!0,"line"],[!1,"none"]]),V("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),V("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),V("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),V("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),V("autoIndent",[[!1,"advanced"],[!0,"full"]]),V("matchBrackets",[[!0,"always"],[!1,"never"]]),E("autoClosingBrackets",(ut,t,o)=>{!1===ut&&(o("autoClosingBrackets","never"),void 0===t("autoClosingQuotes")&&o("autoClosingQuotes","never"),void 0===t("autoSurround")&&o("autoSurround","never"))}),E("renderIndentGuides",(ut,t,o)=>{void 0!==ut&&(o("renderIndentGuides",void 0),void 0===t("guides.indentation")&&o("guides.indentation",!!ut))}),E("highlightActiveIndentGuide",(ut,t,o)=>{void 0!==ut&&(o("highlightActiveIndentGuide",void 0),void 0===t("guides.highlightActiveIndentation")&&o("guides.highlightActiveIndentation",!!ut))});const te={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};E("suggest.filteredTypes",(ut,t,o)=>{if(ut&&"object"==typeof ut){for(const g of Object.entries(te))!1===ut[g[0]]&&void 0===t(`suggest.${g[1]}`)&&o(`suggest.${g[1]}`,!1);o("suggest.filteredTypes",void 0)}}),E("quickSuggestions",(ut,t,o)=>{if("boolean"==typeof ut){const g=ut?"on":"off";o("quickSuggestions",{comments:g,strings:g,other:g})}});var w=e(75617),fe=e(16367),be=e(62929),me=e(25462),Ie=e(12452);let he=class extends Q.JT{constructor(t,o,g,O){super(),this._accessibilityService=O,this._onDidChange=this._register(new R.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new R.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new fe.LJ,this.isSimpleWidget=t,this._containerObserver=this._register(new z.I(g,o.dimension)),this._rawOptions=Ve(o),this._validatedOptions=Pe.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(be.C.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(w.n.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(j.g.onDidChange(()=>this._recomputeOptions())),this._register(G.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const t=this._computeOptions(),o=Pe.checkEquals(this.options,t);null!==o&&(this.options=t,this._onDidChangeFast.fire(o),this._onDidChange.fire(o))}_computeOptions(){const t=this._readEnvConfiguration(),o=me.E4.createFromValidatedSettings(this._validatedOptions,t.pixelRatio,this.isSimpleWidget),g=this._readFontInfo(o),O={memory:this._computeOptionsMemory,outerWidth:t.outerWidth,outerHeight:t.outerHeight-this._reservedHeight,fontInfo:g,extraEditorClassName:t.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:t.emptySelectionClipboard,pixelRatio:t.pixelRatio,tabFocusMode:w.n.getTabFocusMode(),accessibilitySupport:t.accessibilitySupport};return Pe.computeOptions(this._validatedOptions,O)}_readEnvConfiguration(){return{extraEditorClassName:ge(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:G.isWebKit||G.isFirefox,pixelRatio:G.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(t){return j.g.readFontInfo(t)}getRawOptions(){return this._rawOptions}updateOptions(t){const o=Ve(t);!Pe.applyUpdate(this._rawOptions,o)||(this._validatedOptions=Pe.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(t){this._containerObserver.observe(t)}setIsDominatedByLongLines(t){this._isDominatedByLongLines!==t&&(this._isDominatedByLongLines=t,this._recomputeOptions())}setModelLineCount(t){const o=function de(ut){let t=0;for(;ut;)ut=Math.floor(ut/10),t++;return t||1}(t);this._lineNumbersDigitCount!==o&&(this._lineNumbersDigitCount=o,this._recomputeOptions())}setViewLineCount(t){this._viewLineCount!==t&&(this._viewLineCount=t,this._recomputeOptions())}setReservedHeight(t){this._reservedHeight!==t&&(this._reservedHeight=t,this._recomputeOptions())}};function ge(){let ut="";return!G.isSafari&&!G.isWebkitWebView&&(ut+="no-user-select "),G.isSafari&&(ut+="no-minimap-shadow ",ut+="enable-user-select "),B.dz&&(ut+="mac "),ut}he=function(ut,t,o,g){var se,O=arguments.length,H=O<3?t:null===g?g=Object.getOwnPropertyDescriptor(t,o):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(ut,t,o,g);else for(var ve=ut.length-1;ve>=0;ve--)(se=ut[ve])&&(H=(O<3?se(H):O>3?se(t,o,H):se(t,o))||H);return O>3&&H&&Object.defineProperty(t,o,H),H}([function(ut,t){return function(o,g){t(o,g,3)}}(0,Ie.F)],he);class re{constructor(){this._values=[]}_read(t){return this._values[t]}get(t){return this._values[t]}_write(t,o){this._values[t]=o}}class Se{constructor(){this._values=[]}_read(t){if(t>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[t]}get(t){return this._read(t)}_write(t,o){this._values[t]=o}}class Pe{static validateOptions(t){const o=new re;for(const g of fe.Bc)o._write(g.id,g.validate("_never_"===g.name?void 0:t[g.name]));return o}static computeOptions(t,o){const g=new Se;for(const O of fe.Bc)g._write(O.id,O.compute(o,g,t._read(O.id)));return g}static _deepEquals(t,o){if("object"!=typeof t||"object"!=typeof o||!t||!o)return t===o;if(Array.isArray(t)||Array.isArray(o))return!(!Array.isArray(t)||!Array.isArray(o))&&F.fS(t,o);if(Object.keys(t).length!==Object.keys(o).length)return!1;for(const g in t)if(!Pe._deepEquals(t[g],o[g]))return!1;return!0}static checkEquals(t,o){const g=[];let O=!1;for(const H of fe.Bc){const se=!Pe._deepEquals(t._read(H.id),o._read(H.id));g[H.id]=se,se&&(O=!0)}return O?new fe.Bb(g):null}static applyUpdate(t,o){let g=!1;for(const O of fe.Bc)if(o.hasOwnProperty(O.name)){const H=O.applyUpdate(t[O.name],o[O.name]);t[O.name]=H.newValue,g=g||H.didChange}return g}}function Ve(ut){const t=W.I8(ut);return function $(ut){Y.items.forEach(t=>t.apply(ut))}(t),t}var ie=e(7221),ye=e(43210),_e=e(48554),Be=e(79680),Qe=e(7457),Ae=e(63072),pe=e(28460);class De extends Q.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(t){return!1}onCompositionEnd(t){return!1}onConfigurationChanged(t){return!1}onCursorStateChanged(t){return!1}onDecorationsChanged(t){return!1}onFlushed(t){return!1}onFocusChanged(t){return!1}onLanguageConfigurationChanged(t){return!1}onLineMappingChanged(t){return!1}onLinesChanged(t){return!1}onLinesDeleted(t){return!1}onLinesInserted(t){return!1}onRevealRangeRequest(t){return!1}onScrollChanged(t){return!1}onThemeChanged(t){return!1}onTokensChanged(t){return!1}onTokensColorsChanged(t){return!1}onZonesChanged(t){return!1}handleEvents(t){let o=!1;for(let g=0,O=t.length;g<O;g++){const H=t[g];switch(H.type){case 0:this.onCompositionStart(H)&&(o=!0);break;case 1:this.onCompositionEnd(H)&&(o=!0);break;case 2:this.onConfigurationChanged(H)&&(o=!0);break;case 3:this.onCursorStateChanged(H)&&(o=!0);break;case 4:this.onDecorationsChanged(H)&&(o=!0);break;case 5:this.onFlushed(H)&&(o=!0);break;case 6:this.onFocusChanged(H)&&(o=!0);break;case 7:this.onLanguageConfigurationChanged(H)&&(o=!0);break;case 8:this.onLineMappingChanged(H)&&(o=!0);break;case 9:this.onLinesChanged(H)&&(o=!0);break;case 10:this.onLinesDeleted(H)&&(o=!0);break;case 11:this.onLinesInserted(H)&&(o=!0);break;case 12:this.onRevealRangeRequest(H)&&(o=!0);break;case 13:this.onScrollChanged(H)&&(o=!0);break;case 15:this.onTokensChanged(H)&&(o=!0);break;case 14:this.onThemeChanged(H)&&(o=!0);break;case 16:this.onTokensColorsChanged(H)&&(o=!0);break;case 17:this.onZonesChanged(H)&&(o=!0);break;default:console.info("View received unknown event: "),console.info(H)}}o&&(this._shouldRender=!0)}}class Oe extends De{constructor(t){super(),this._context=t,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class Ne{static write(t,o){t.setAttribute("data-mprt",String(o))}static read(t){const o=t.getAttribute("data-mprt");return null===o?0:parseInt(o,10)}static collect(t,o){const g=[];let O=0;for(;t&&t!==document.body&&t!==o;)t.nodeType===t.ELEMENT_NODE&&(g[O++]=this.read(t)),t=t.parentElement;const H=new Uint8Array(O);for(let se=0;se<O;se++)H[se]=g[O-se-1];return H}}class xe extends class ne{constructor(t,o){this._restrictedRenderingContextBrand=void 0,this._viewLayout=t,this.viewportData=o,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const g=this._viewLayout.getCurrentViewport();this.scrollTop=g.top,this.scrollLeft=g.left,this.viewportWidth=g.width,this.viewportHeight=g.height}getScrolledTopFromAbsoluteTop(t){return t-this.scrollTop}getVerticalOffsetForLineNumber(t){return this._viewLayout.getVerticalOffsetForLineNumber(t)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}{constructor(t,o,g){super(t,o),this._renderingContextBrand=void 0,this._viewLines=g}linesVisibleRangesForRange(t,o){return this._viewLines.linesVisibleRangesForRange(t,o)}visibleRangeForPosition(t){return this._viewLines.visibleRangeForPosition(t)}}class Je{constructor(t,o,g){this.outsideRenderedLine=t,this.lineNumber=o,this.ranges=g}}class gt{constructor(t,o){this._horizontalRangeBrand=void 0,this.left=Math.round(t),this.width=Math.round(o)}static from(t){const o=new Array(t.length);for(let g=0,O=t.length;g<O;g++){const H=t[g];o[g]=new gt(H.left,H.width)}return o}toString(){return`[${this.left},${this.width}]`}}class lt{constructor(t,o){this._floatHorizontalRangeBrand=void 0,this.left=t,this.width=o}toString(){return`[${this.left},${this.width}]`}static compare(t,o){return t.left-o.left}}class Ke{constructor(t,o){this.outsideRenderedLine=t,this.originalLeft=o,this.left=Math.round(this.originalLeft)}}class He{constructor(t,o){this.outsideRenderedLine=t,this.ranges=o}}class Ue{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(t,o){t.selectNodeContents(o)}static _readClientRects(t,o,g,O,H){const se=this._createRange();try{return se.setStart(t,o),se.setEnd(g,O),se.getClientRects()}catch(ve){return null}finally{this._detachRange(se,H)}}static _mergeAdjacentRanges(t){if(1===t.length)return t;t.sort(lt.compare);const o=[];let g=0,O=t[0];for(let H=1,se=t.length;H<se;H++){const ve=t[H];O.left+O.width+.9>=ve.left?O.width=Math.max(O.width,ve.left+ve.width-O.left):(o[g++]=O,O=ve)}return o[g++]=O,o}static _createHorizontalRangesFromClientRects(t,o,g){if(!t||0===t.length)return null;const O=[];for(let H=0,se=t.length;H<se;H++){const ve=t[H];O[H]=new lt(Math.max(0,(ve.left-o)/g),ve.width/g)}return this._mergeAdjacentRanges(O)}static readHorizontalRanges(t,o,g,O,H,se,ve,je){const rt=t.children.length-1;if(0>rt)return null;if((o=Math.min(rt,Math.max(0,o)))===(O=Math.min(rt,Math.max(0,O)))&&g===H&&0===g&&!t.children[o].firstChild){const cn=t.children[o].getClientRects();return this._createHorizontalRangesFromClientRects(cn,se,ve)}o!==O&&O>0&&0===H&&(O--,H=1073741824);let yt=t.children[o].firstChild,kt=t.children[O].firstChild;if((!yt||!kt)&&(!yt&&0===g&&o>0&&(yt=t.children[o-1].firstChild,g=1073741824),!kt&&0===H&&O>0&&(kt=t.children[O-1].firstChild,H=1073741824)),!yt||!kt)return null;g=Math.min(yt.textContent.length,Math.max(0,g)),H=Math.min(kt.textContent.length,Math.max(0,H));const Wt=this._readClientRects(yt,g,kt,H,je);return this._createHorizontalRangesFromClientRects(Wt,se,ve)}}var ot=e(94500),et=e(26046),Ze=e(58676);const Mt=!!B.tY||!(B.IJ||G.isFirefox||G.isSafari);let Nt=!0;class ze{constructor(t,o){this._domNode=t,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=o}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const t=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=t.left,this._clientRectScale=t.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}class dt{constructor(t,o){this.themeType=o;const g=t.options,O=g.get(46);this.renderWhitespace=g.get(90),this.renderControlCharacters=g.get(85),this.spaceWidth=O.spaceWidth,this.middotWidth=O.middotWidth,this.wsmiddotWidth=O.wsmiddotWidth,this.useMonospaceOptimizations=O.isMonospace&&!g.get(29),this.canUseHalfwidthRightwardsArrow=O.canUseHalfwidthRightwardsArrow,this.lineHeight=g.get(61),this.stopRenderingLineAfter=g.get(107),this.fontLigatures=g.get(47)}equals(t){return this.themeType===t.themeType&&this.renderWhitespace===t.renderWhitespace&&this.renderControlCharacters===t.renderControlCharacters&&this.spaceWidth===t.spaceWidth&&this.middotWidth===t.middotWidth&&this.wsmiddotWidth===t.wsmiddotWidth&&this.useMonospaceOptimizations===t.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===t.canUseHalfwidthRightwardsArrow&&this.lineHeight===t.lineHeight&&this.stopRenderingLineAfter===t.stopRenderingLineAfter&&this.fontLigatures===t.fontLigatures}}let $t=(()=>{class ut{constructor(o){this._options=o,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(o){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=(0,_e.X)(o)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(o){this._isMaybeInvalid=!0,this._options=o}onSelectionChanged(){return!(!(0,Ze.c3)(this._options.themeType)&&"selection"!==this._options.renderWhitespace||(this._isMaybeInvalid=!0,0))}renderLine(o,g,O,H){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const se=O.getViewLineRenderingData(o),ve=this._options,je=ot.Kp.filter(se.inlineDecorations,o,se.minColumn,se.maxColumn);let qe=null;if((0,Ze.c3)(ve.themeType)||"selection"===this._options.renderWhitespace){const Wt=O.selections;for(const cn of Wt){if(cn.endLineNumber<o||cn.startLineNumber>o)continue;const _n=cn.startLineNumber===o?cn.startColumn:se.minColumn,bn=cn.endLineNumber===o?cn.endColumn:se.maxColumn;_n<bn&&((0,Ze.c3)(ve.themeType)||"selection"!==this._options.renderWhitespace?je.push(new ot.Kp(_n,bn,"inline-selected-text",0)):(qe||(qe=[]),qe.push(new et.zG(_n-1,bn-1))))}}const rt=new et.IJ(ve.useMonospaceOptimizations,ve.canUseHalfwidthRightwardsArrow,se.content,se.continuesWithWrappedLine,se.isBasicASCII,se.containsRTL,se.minColumn-1,se.tokens,je,se.tabSize,se.startVisibleColumn,ve.spaceWidth,ve.middotWidth,ve.wsmiddotWidth,ve.stopRenderingLineAfter,ve.renderWhitespace,ve.renderControlCharacters,ve.fontLigatures!==fe.n0.OFF,qe);if(this._renderedViewLine&&this._renderedViewLine.input.equals(rt))return!1;H.appendASCIIString('<div style="top:'),H.appendASCIIString(String(g)),H.appendASCIIString("px;height:"),H.appendASCIIString(String(this._options.lineHeight)),H.appendASCIIString('px;" class="'),H.appendASCIIString(ut.CLASS_NAME),H.appendASCIIString('">');const yt=(0,et.d1)(rt,H);H.appendASCIIString("</div>");let kt=null;return Nt&&Mt&&se.isBasicASCII&&ve.useMonospaceOptimizations&&0===yt.containsForeignElements&&se.content.length<300&&rt.lineTokens.getCount()<100&&(kt=new hn(this._renderedViewLine?this._renderedViewLine.domNode:null,rt,yt.characterMapping)),kt||(kt=ke(this._renderedViewLine?this._renderedViewLine.domNode:null,rt,yt.characterMapping,yt.containsRTL,yt.containsForeignElements)),this._renderedViewLine=kt,!0}layoutLine(o,g){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(g),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof hn}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof hn?this._renderedViewLine.monospaceAssumptionsAreValid():Nt}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof hn&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(o,g,O,H){if(!this._renderedViewLine)return null;g=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,g)),O=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,O));const se=this._renderedViewLine.input.stopRenderingLineAfter;let ve=!1;-1!==se&&g>se+1&&O>se+1&&(ve=!0),-1!==se&&g>se+1&&(g=se+1),-1!==se&&O>se+1&&(O=se+1);const je=this._renderedViewLine.getVisibleRangesForRange(o,g,O,H);return je&&je.length>0?new He(ve,je):null}getColumnOfNodeOffset(o,g,O){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(o,g,O):1}}return ut.CLASS_NAME="view-line",ut})();class hn{constructor(t,o,g){this.domNode=t,this.input=o,this._characterMapping=g,this._charWidth=o.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return Nt;const t=this.getWidth();return Math.abs(t-this.domNode.domNode.firstChild.offsetWidth)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),Nt=!1),Nt}toSlowRenderedLine(){return ke(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(t,o,g,O){const H=this._getCharPosition(o),se=this._getCharPosition(g);return[new lt(H,se-H)]}_getCharPosition(t){const o=this._characterMapping.getHorizontalOffset(t);return this._charWidth*o}getColumnOfNodeOffset(t,o,g){const O=o.textContent.length;let H=-1;for(;o;)o=o.previousSibling,H++;return this._characterMapping.getColumn(new et.Nd(H,g),O)}}class vn{constructor(t,o,g,O,H){if(this.domNode=t,this.input=o,this._characterMapping=g,this._isWhitespaceOnly=/^\s*$/.test(o.lineContent),this._containsForeignElements=H,this._cachedWidth=-1,this._pixelOffsetCache=null,!O||0===this._characterMapping.length){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let se=0,ve=this._characterMapping.length;se<=ve;se++)this._pixelOffsetCache[se]=-1}}_getReadingTarget(t){return t.domNode.firstChild}getWidth(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(t,o,g,O){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const H=this._readPixelOffset(this.domNode,t,o,O);if(-1===H)return null;const se=this._readPixelOffset(this.domNode,t,g,O);return-1===se?null:[new lt(H,se-H)]}return this._readVisibleRangesForRange(this.domNode,t,o,g,O)}_readVisibleRangesForRange(t,o,g,O,H){if(g===O){const se=this._readPixelOffset(t,o,g,H);return-1===se?null:[new lt(se,0)]}return this._readRawVisibleRangesForRange(t,g,O,H)}_readPixelOffset(t,o,g,O){if(0===this._characterMapping.length){if(0===this._containsForeignElements||2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();const H=this._getReadingTarget(t);return H.firstChild?H.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){const H=this._pixelOffsetCache[g];if(-1!==H)return H;const se=this._actualReadPixelOffset(t,o,g,O);return this._pixelOffsetCache[g]=se,se}return this._actualReadPixelOffset(t,o,g,O)}_actualReadPixelOffset(t,o,g,O){if(0===this._characterMapping.length){const je=Ue.readHorizontalRanges(this._getReadingTarget(t),0,0,0,0,O.clientRectDeltaLeft,O.clientRectScale,O.endNode);return je&&0!==je.length?je[0].left:-1}if(g===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();const H=this._characterMapping.getDomPosition(g),se=Ue.readHorizontalRanges(this._getReadingTarget(t),H.partIndex,H.charIndex,H.partIndex,H.charIndex,O.clientRectDeltaLeft,O.clientRectScale,O.endNode);if(!se||0===se.length)return-1;const ve=se[0].left;if(this.input.isBasicASCII){const je=this._characterMapping.getHorizontalOffset(g),qe=Math.round(this.input.spaceWidth*je);if(Math.abs(qe-ve)<=1)return qe}return ve}_readRawVisibleRangesForRange(t,o,g,O){if(1===o&&g===this._characterMapping.length)return[new lt(0,this.getWidth())];const H=this._characterMapping.getDomPosition(o),se=this._characterMapping.getDomPosition(g);return Ue.readHorizontalRanges(this._getReadingTarget(t),H.partIndex,H.charIndex,se.partIndex,se.charIndex,O.clientRectDeltaLeft,O.clientRectScale,O.endNode)}getColumnOfNodeOffset(t,o,g){const O=o.textContent.length;let H=-1;for(;o;)o=o.previousSibling,H++;return this._characterMapping.getColumn(new et.Nd(H,g),O)}}class ft extends vn{_readVisibleRangesForRange(t,o,g,O,H){const se=super._readVisibleRangesForRange(t,o,g,O,H);if(!se||0===se.length||g===O||1===g&&O===this._characterMapping.length)return se;if(!this.input.containsRTL){const ve=this._readPixelOffset(t,o,O,H);if(-1!==ve){const je=se[se.length-1];je.left<ve&&(je.width=ve-je.left)}}return se}}const ke=G.isWebKit?function nt(ut,t,o,g,O){return new ft(ut,t,o,g,O)}:function st(ut,t,o,g,O){return new vn(ut,t,o,g,O)};var Gt,Ee=e(94220),Fe=e(68451),mt=e(74826),Vt=e(27078);class qt{constructor(t=null){this.hitTarget=t,this.type=0}}class Cn{constructor(t,o,g){this.position=t,this.spanNode=o,this.injectedText=g,this.type=1}}!function(ut){ut.createFromDOMInfo=function t(o,g,O){const H=o.getPositionFromDOMInfo(g,O);return H?new Cn(H,g,null):new qt(g)}}(Gt||(Gt={}));class en{constructor(t,o){this.lastViewCursorsRenderData=t,this.lastTextareaPosition=o}}class Yt{static _deduceRage(t,o=null){return!o&&t?new Fe.e(t.lineNumber,t.column,t.lineNumber,t.column):null!=o?o:null}static createUnknown(t,o,g){return{type:0,element:t,mouseColumn:o,position:g,range:this._deduceRage(g)}}static createTextarea(t,o){return{type:1,element:t,mouseColumn:o,position:null,range:null}}static createMargin(t,o,g,O,H,se){return{type:t,element:o,mouseColumn:g,position:O,range:H,detail:se}}static createViewZone(t,o,g,O,H){return{type:t,element:o,mouseColumn:g,position:O,range:this._deduceRage(O),detail:H}}static createContentText(t,o,g,O,H){return{type:6,element:t,mouseColumn:o,position:g,range:this._deduceRage(g,O),detail:H}}static createContentEmpty(t,o,g,O){return{type:7,element:t,mouseColumn:o,position:g,range:this._deduceRage(g),detail:O}}static createContentWidget(t,o,g){return{type:9,element:t,mouseColumn:o,position:null,range:null,detail:g}}static createScrollbar(t,o,g){return{type:11,element:t,mouseColumn:o,position:g,range:this._deduceRage(g)}}static createOverlayWidget(t,o,g){return{type:12,element:t,mouseColumn:o,position:null,range:null,detail:g}}static createOutsideEditor(t,o){return{type:13,element:null,mouseColumn:t,position:o,range:this._deduceRage(o)}}static _typeToString(t){return 1===t?"TEXTAREA":2===t?"GUTTER_GLYPH_MARGIN":3===t?"GUTTER_LINE_NUMBERS":4===t?"GUTTER_LINE_DECORATIONS":5===t?"GUTTER_VIEW_ZONE":6===t?"CONTENT_TEXT":7===t?"CONTENT_EMPTY":8===t?"CONTENT_VIEW_ZONE":9===t?"CONTENT_WIDGET":10===t?"OVERVIEW_RULER":11===t?"SCROLLBAR":12===t?"OVERLAY_WIDGET":"UNKNOWN"}static toString(t){return this._typeToString(t.type)+": "+t.position+" - "+t.range+" - "+JSON.stringify(t.detail)}}class ht{static isTextArea(t){return 2===t.length&&3===t[0]&&6===t[1]}static isChildOfViewLines(t){return t.length>=4&&3===t[0]&&7===t[3]}static isStrictChildOfViewLines(t){return t.length>4&&3===t[0]&&7===t[3]}static isChildOfScrollableElement(t){return t.length>=2&&3===t[0]&&5===t[1]}static isChildOfMinimap(t){return t.length>=2&&3===t[0]&&8===t[1]}static isChildOfContentWidgets(t){return t.length>=4&&3===t[0]&&1===t[3]}static isChildOfOverflowingContentWidgets(t){return t.length>=1&&2===t[0]}static isChildOfOverlayWidgets(t){return t.length>=2&&3===t[0]&&4===t[1]}}class Ct{constructor(t,o,g){this.viewModel=t.viewModel;const O=t.configuration.options;this.layoutInfo=O.get(133),this.viewDomNode=o.viewDomNode,this.lineHeight=O.get(61),this.stickyTabStops=O.get(106),this.typicalHalfwidthCharacterWidth=O.get(46).typicalHalfwidthCharacterWidth,this.lastRenderData=g,this._context=t,this._viewHelper=o}getZoneAtCoord(t){return Ct.getZoneAtCoord(this._context,t)}static getZoneAtCoord(t,o){const g=t.viewLayout.getWhitespaceAtVerticalOffset(o);if(g){const O=g.verticalOffset+g.height/2,H=t.viewModel.getLineCount();let ve,se=null,je=null;return g.afterLineNumber!==H&&(je=new Ee.L(g.afterLineNumber+1,1)),g.afterLineNumber>0&&(se=new Ee.L(g.afterLineNumber,t.viewModel.getLineMaxColumn(g.afterLineNumber))),ve=null===je?se:null===se?je:o<O?se:je,{viewZoneId:g.id,afterLineNumber:g.afterLineNumber,positionBefore:se,positionAfter:je,position:ve}}return null}getFullLineRangeAtCoord(t){if(this._context.viewLayout.isAfterLines(t)){const O=this._context.viewModel.getLineCount(),H=this._context.viewModel.getLineMaxColumn(O);return{range:new Fe.e(O,H,O,H),isAfterLines:!0}}const o=this._context.viewLayout.getLineNumberAtVerticalOffset(t),g=this._context.viewModel.getLineMaxColumn(o);return{range:new Fe.e(o,1,o,g),isAfterLines:!1}}getLineNumberAtVerticalOffset(t){return this._context.viewLayout.getLineNumberAtVerticalOffset(t)}isAfterLines(t){return this._context.viewLayout.isAfterLines(t)}isInTopPadding(t){return this._context.viewLayout.isInTopPadding(t)}isInBottomPadding(t){return this._context.viewLayout.isInBottomPadding(t)}getVerticalOffsetForLineNumber(t){return this._context.viewLayout.getVerticalOffsetForLineNumber(t)}findAttribute(t,o){return Ct._findAttribute(t,o,this._viewHelper.viewDomNode)}static _findAttribute(t,o,g){for(;t&&t!==document.body;){if(t.hasAttribute&&t.hasAttribute(o))return t.getAttribute(o);if(t===g)return null;t=t.parentNode}return null}getLineWidth(t){return this._viewHelper.getLineWidth(t)}visibleRangeForPosition(t,o){return this._viewHelper.visibleRangeForPosition(t,o)}getPositionFromDOMInfo(t,o){return this._viewHelper.getPositionFromDOMInfo(t,o)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class jt extends class rn{constructor(t,o,g,O){this.editorPos=o,this.pos=g,this.relativePos=O,this.mouseVerticalOffset=Math.max(0,t.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=t.getCurrentScrollLeft()+this.relativePos.x-t.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<t.layoutInfo.contentLeft&&this.relativePos.x>=t.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,xn._getMouseColumn(this.mouseContentHorizontalOffset,t.typicalHalfwidthCharacterWidth))}}{constructor(t,o,g,O,H){super(t,o,g,O),this._ctx=t,H?(this.target=H,this.targetPath=Ne.collect(H,t.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(t=null){return t&&t.column<this._ctx.viewModel.getLineMaxColumn(t.lineNumber)?mt.i.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(t.lineNumber),t.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(t=null){return Yt.createUnknown(this.target,this._getMouseColumn(t),t)}fulfillTextarea(){return Yt.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(t,o,g,O){return Yt.createMargin(t,this.target,this._getMouseColumn(o),o,g,O)}fulfillViewZone(t,o,g){return Yt.createViewZone(t,this.target,this._getMouseColumn(o),o,g)}fulfillContentText(t,o,g){return Yt.createContentText(this.target,this._getMouseColumn(t),t,o,g)}fulfillContentEmpty(t,o){return Yt.createContentEmpty(this.target,this._getMouseColumn(t),t,o)}fulfillContentWidget(t){return Yt.createContentWidget(this.target,this._getMouseColumn(),t)}fulfillScrollbar(t){return Yt.createScrollbar(this.target,this._getMouseColumn(t),t)}fulfillOverlayWidget(t){return Yt.createOverlayWidget(this.target,this._getMouseColumn(),t)}withTarget(t){return new jt(this._ctx,this.editorPos,this.pos,this.relativePos,t)}}const yn={isAfterLines:!0};function En(ut){return{isAfterLines:!1,horizontalDistanceToText:ut}}class xn{constructor(t,o){this._context=t,this._viewHelper=o}mouseTargetIsWidget(t){const g=Ne.collect(t.target,this._viewHelper.viewDomNode);return!!(ht.isChildOfContentWidgets(g)||ht.isChildOfOverflowingContentWidgets(g)||ht.isChildOfOverlayWidgets(g))}createMouseTarget(t,o,g,O,H){const se=new Ct(this._context,this._viewHelper,t),ve=new jt(se,o,g,O,H);try{return xn._createMouseTarget(se,ve,!1)}catch(je){return ve.fulfillUnknown()}}static _createMouseTarget(t,o,g){if(null===o.target){if(g)return o.fulfillUnknown();const se=xn._doHitTest(t,o);return 1===se.type?xn.createMouseTargetFromHitTestPosition(t,o,se.spanNode,se.position,se.injectedText):this._createMouseTarget(t,o.withTarget(se.hitTarget),!0)}const O=o;let H=null;return H=H||xn._hitTestContentWidget(t,O),H=H||xn._hitTestOverlayWidget(t,O),H=H||xn._hitTestMinimap(t,O),H=H||xn._hitTestScrollbarSlider(t,O),H=H||xn._hitTestViewZone(t,O),H=H||xn._hitTestMargin(t,O),H=H||xn._hitTestViewCursor(t,O),H=H||xn._hitTestTextArea(t,O),H=H||xn._hitTestViewLines(t,O,g),H=H||xn._hitTestScrollbar(t,O),H||o.fulfillUnknown()}static _hitTestContentWidget(t,o){if(ht.isChildOfContentWidgets(o.targetPath)||ht.isChildOfOverflowingContentWidgets(o.targetPath)){const g=t.findAttribute(o.target,"widgetId");return g?o.fulfillContentWidget(g):o.fulfillUnknown()}return null}static _hitTestOverlayWidget(t,o){if(ht.isChildOfOverlayWidgets(o.targetPath)){const g=t.findAttribute(o.target,"widgetId");return g?o.fulfillOverlayWidget(g):o.fulfillUnknown()}return null}static _hitTestViewCursor(t,o){if(o.target){const g=t.lastRenderData.lastViewCursorsRenderData;for(const O of g)if(o.target===O.domNode)return o.fulfillContentText(O.position,null,{mightBeForeignElement:!1,injectedText:null})}if(o.isInContentArea){const g=t.lastRenderData.lastViewCursorsRenderData,O=o.mouseContentHorizontalOffset,H=o.mouseVerticalOffset;for(const se of g){if(O<se.contentLeft||O>se.contentLeft+se.width)continue;const ve=t.getVerticalOffsetForLineNumber(se.position.lineNumber);if(ve<=H&&H<=ve+se.height)return o.fulfillContentText(se.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(t,o){const g=t.getZoneAtCoord(o.mouseVerticalOffset);return g?o.fulfillViewZone(o.isInContentArea?8:5,g.position,g):null}static _hitTestTextArea(t,o){return ht.isTextArea(o.targetPath)?t.lastRenderData.lastTextareaPosition?o.fulfillContentText(t.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):o.fulfillTextarea():null}static _hitTestMargin(t,o){if(o.isInMarginArea){const g=t.getFullLineRangeAtCoord(o.mouseVerticalOffset),O=g.range.getStartPosition();let H=Math.abs(o.relativePos.x);const se={isAfterLines:g.isAfterLines,glyphMarginLeft:t.layoutInfo.glyphMarginLeft,glyphMarginWidth:t.layoutInfo.glyphMarginWidth,lineNumbersWidth:t.layoutInfo.lineNumbersWidth,offsetX:H};return H-=t.layoutInfo.glyphMarginLeft,H<=t.layoutInfo.glyphMarginWidth?o.fulfillMargin(2,O,g.range,se):(H-=t.layoutInfo.glyphMarginWidth,H<=t.layoutInfo.lineNumbersWidth?o.fulfillMargin(3,O,g.range,se):(H-=t.layoutInfo.lineNumbersWidth,o.fulfillMargin(4,O,g.range,se)))}return null}static _hitTestViewLines(t,o,g){if(!ht.isChildOfViewLines(o.targetPath))return null;if(t.isInTopPadding(o.mouseVerticalOffset))return o.fulfillContentEmpty(new Ee.L(1,1),yn);if(t.isAfterLines(o.mouseVerticalOffset)||t.isInBottomPadding(o.mouseVerticalOffset)){const H=t.viewModel.getLineCount(),se=t.viewModel.getLineMaxColumn(H);return o.fulfillContentEmpty(new Ee.L(H,se),yn)}if(g){if(ht.isStrictChildOfViewLines(o.targetPath)){const H=t.getLineNumberAtVerticalOffset(o.mouseVerticalOffset);if(0===t.viewModel.getLineLength(H)){const ve=t.getLineWidth(H),je=En(o.mouseContentHorizontalOffset-ve);return o.fulfillContentEmpty(new Ee.L(H,1),je)}const se=t.getLineWidth(H);if(o.mouseContentHorizontalOffset>=se){const ve=En(o.mouseContentHorizontalOffset-se),je=new Ee.L(H,t.viewModel.getLineMaxColumn(H));return o.fulfillContentEmpty(je,ve)}}return o.fulfillUnknown()}const O=xn._doHitTest(t,o);return 1===O.type?xn.createMouseTargetFromHitTestPosition(t,o,O.spanNode,O.position,O.injectedText):this._createMouseTarget(t,o.withTarget(O.hitTarget),!0)}static _hitTestMinimap(t,o){if(ht.isChildOfMinimap(o.targetPath)){const g=t.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),O=t.viewModel.getLineMaxColumn(g);return o.fulfillScrollbar(new Ee.L(g,O))}return null}static _hitTestScrollbarSlider(t,o){if(ht.isChildOfScrollableElement(o.targetPath)&&o.target&&1===o.target.nodeType){const g=o.target.className;if(g&&/\b(slider|scrollbar)\b/.test(g)){const O=t.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),H=t.viewModel.getLineMaxColumn(O);return o.fulfillScrollbar(new Ee.L(O,H))}}return null}static _hitTestScrollbar(t,o){if(ht.isChildOfScrollableElement(o.targetPath)){const g=t.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),O=t.viewModel.getLineMaxColumn(g);return o.fulfillScrollbar(new Ee.L(g,O))}return null}getMouseColumn(t){const o=this._context.configuration.options,g=o.get(133),O=this._context.viewLayout.getCurrentScrollLeft()+t.x-g.contentLeft;return xn._getMouseColumn(O,o.get(46).typicalHalfwidthCharacterWidth)}static _getMouseColumn(t,o){return t<0?1:Math.round(t/o)+1}static createMouseTargetFromHitTestPosition(t,o,g,O,H){const se=O.lineNumber,ve=O.column,je=t.getLineWidth(se);if(o.mouseContentHorizontalOffset>je){const bn=En(o.mouseContentHorizontalOffset-je);return o.fulfillContentEmpty(O,bn)}const qe=t.visibleRangeForPosition(se,ve);if(!qe)return o.fulfillUnknown(O);if(o.mouseContentHorizontalOffset===qe.left)return o.fulfillContentText(O,null,{mightBeForeignElement:!!H,injectedText:H});const yt=[];if(yt.push({offset:qe.left,column:ve}),ve>1){const bn=t.visibleRangeForPosition(se,ve-1);bn&&yt.push({offset:bn.left,column:ve-1})}if(ve<t.viewModel.getLineMaxColumn(se)){const bn=t.visibleRangeForPosition(se,ve+1);bn&&yt.push({offset:bn.left,column:ve+1})}yt.sort((bn,Mn)=>bn.offset-Mn.offset);const Wt=o.pos.toClientCoordinates(),cn=g.getBoundingClientRect(),_n=cn.left<=Wt.clientX&&Wt.clientX<=cn.right;for(let bn=1;bn<yt.length;bn++){const Mn=yt[bn-1],Bn=yt[bn];if(Mn.offset<=o.mouseContentHorizontalOffset&&o.mouseContentHorizontalOffset<=Bn.offset){const Hn=new Fe.e(se,Mn.column,se,Bn.column),ti=Math.abs(Mn.offset-o.mouseContentHorizontalOffset),gi=Math.abs(Bn.offset-o.mouseContentHorizontalOffset),di=new Ee.L(se,ti<gi?Mn.column:Bn.column);return o.fulfillContentText(di,Hn,{mightBeForeignElement:!_n||!!H,injectedText:H})}}return o.fulfillContentText(O,null,{mightBeForeignElement:!_n||!!H,injectedText:H})}static _doHitTestWithCaretRangeFromPoint(t,o){const g=t.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),H=t.getVerticalOffsetForLineNumber(g)+Math.floor(t.lineHeight/2);let se=o.pos.y+(H-o.mouseVerticalOffset);se<=o.editorPos.y&&(se=o.editorPos.y+1),se>=o.editorPos.y+o.editorPos.height&&(se=o.editorPos.y+o.editorPos.height-1);const ve=new pe.YN(o.pos.x,se),je=this._actualDoHitTestWithCaretRangeFromPoint(t,ve.toClientCoordinates());return 1===je.type?je:this._actualDoHitTestWithCaretRangeFromPoint(t,o.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(t,o){const g=x.Ay(t.viewDomNode);let O;if(O=g?void 0===g.caretRangeFromPoint?function Un(ut,t,o){const g=document.createRange();let O=ut.elementFromPoint(t,o);if(null!==O){for(;O&&O.firstChild&&O.firstChild.nodeType!==O.firstChild.TEXT_NODE&&O.lastChild&&O.lastChild.firstChild;)O=O.lastChild;const H=O.getBoundingClientRect(),se=window.getComputedStyle(O,null).getPropertyValue("font"),ve=O.innerText;let rt,je=H.left,qe=0;if(t>H.left+H.width)qe=ve.length;else{const yt=ai.getInstance();for(let kt=0;kt<ve.length+1;kt++){if(rt=yt.getCharWidth(ve.charAt(kt),se)/2,je+=rt,t<je){qe=kt;break}je+=rt}}g.setStart(O.firstChild,qe),g.setEnd(O.firstChild,qe)}return g}(g,o.clientX,o.clientY):g.caretRangeFromPoint(o.clientX,o.clientY):document.caretRangeFromPoint(o.clientX,o.clientY),!O||!O.startContainer)return new qt;const H=O.startContainer;if(H.nodeType===H.TEXT_NODE){const se=H.parentNode,ve=se?se.parentNode:null,je=ve?ve.parentNode:null;return(je&&je.nodeType===je.ELEMENT_NODE?je.className:null)===$t.CLASS_NAME?Gt.createFromDOMInfo(t,se,O.startOffset):new qt(H.parentNode)}if(H.nodeType===H.ELEMENT_NODE){const se=H.parentNode,ve=se?se.parentNode:null;return(ve&&ve.nodeType===ve.ELEMENT_NODE?ve.className:null)===$t.CLASS_NAME?Gt.createFromDOMInfo(t,H,H.textContent.length):new qt(H)}return new qt}static _doHitTestWithCaretPositionFromPoint(t,o){const g=document.caretPositionFromPoint(o.clientX,o.clientY);if(g.offsetNode.nodeType===g.offsetNode.TEXT_NODE){const O=g.offsetNode.parentNode,H=O?O.parentNode:null,se=H?H.parentNode:null;return(se&&se.nodeType===se.ELEMENT_NODE?se.className:null)===$t.CLASS_NAME?Gt.createFromDOMInfo(t,g.offsetNode.parentNode,g.offset):new qt(g.offsetNode.parentNode)}if(g.offsetNode.nodeType===g.offsetNode.ELEMENT_NODE){const O=g.offsetNode.parentNode,se=O?O.parentNode:null,ve=se&&se.nodeType===se.ELEMENT_NODE?se.className:null;if((O&&O.nodeType===O.ELEMENT_NODE?O.className:null)===$t.CLASS_NAME){const je=g.offsetNode.childNodes[Math.min(g.offset,g.offsetNode.childNodes.length-1)];if(je)return Gt.createFromDOMInfo(t,je,0)}else if(ve===$t.CLASS_NAME)return Gt.createFromDOMInfo(t,g.offsetNode,0)}return new qt(g.offsetNode)}static _snapToSoftTabBoundary(t,o){const g=o.getLineContent(t.lineNumber),{tabSize:O}=o.model.getOptions(),H=Vt.l.atomicPosition(g,t.column-1,O,2);return-1!==H?new Ee.L(t.lineNumber,H+1):t}static _doHitTest(t,o){let g=new qt;if("function"==typeof document.caretRangeFromPoint?g=this._doHitTestWithCaretRangeFromPoint(t,o):document.caretPositionFromPoint&&(g=this._doHitTestWithCaretPositionFromPoint(t,o.pos.toClientCoordinates())),1===g.type){const O=t.viewModel.getInjectedTextAt(g.position),H=t.viewModel.normalizePosition(g.position,2);(O||!H.equals(g.position))&&(g=new Cn(H,g.spanNode,O))}return 1===g.type&&t.stickyTabStops&&(g=new Cn(this._snapToSoftTabBoundary(g.position,t.viewModel),g.spanNode,g.injectedText)),g}}let ai=(()=>{class ut{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return ut._INSTANCE||(ut._INSTANCE=new ut),ut._INSTANCE}getCharWidth(o,g){const O=o+g;if(this._cache[O])return this._cache[O];const H=this._canvas.getContext("2d");H.font=g;const ve=H.measureText(o).width;return this._cache[O]=ve,ve}}return ut._INSTANCE=null,ut})();class ei extends De{constructor(t,o,g){super(),this._mouseLeaveMonitor=null,this._context=t,this.viewController=o,this.viewHelper=g,this.mouseTargetFactory=new xn(this._context,g),this._mouseDownOperation=this._register(new Di(this._context,this.viewController,this.viewHelper,(ve,je)=>this._createMouseTarget(ve,je),ve=>this._getMouseColumn(ve))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(133).height;const O=new pe.N5(this.viewHelper.viewDomNode);this._register(O.onContextMenu(this.viewHelper.viewDomNode,ve=>this._onContextMenu(ve,!0))),this._register(O.onMouseMove(this.viewHelper.viewDomNode,ve=>{this._onMouseMove(ve),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=x.nm(document,"mousemove",je=>{this.viewHelper.viewDomNode.contains(je.target)||this._onMouseLeave(new pe.gy(je,!1,this.viewHelper.viewDomNode))}))})),this._register(O.onMouseUp(this.viewHelper.viewDomNode,ve=>this._onMouseUp(ve))),this._register(O.onMouseLeave(this.viewHelper.viewDomNode,ve=>this._onMouseLeave(ve)));let H=0;this._register(O.onPointerDown(this.viewHelper.viewDomNode,(ve,je)=>{H=je})),this._register(x.nm(this.viewHelper.viewDomNode,x.tw.POINTER_UP,ve=>{this._mouseDownOperation.onPointerUp()})),this._register(O.onMouseDown(this.viewHelper.viewDomNode,ve=>this._onMouseDown(ve,H))),this._register(x.nm(this.viewHelper.viewDomNode,x.tw.MOUSE_WHEEL,ve=>{if(this.viewController.emitMouseWheel(ve),!this._context.configuration.options.get(70))return;const je=new Qe.q(ve);if(B.dz?(ve.metaKey||ve.ctrlKey)&&!ve.shiftKey&&!ve.altKey:ve.ctrlKey&&!ve.metaKey&&!ve.shiftKey&&!ve.altKey){const rt=be.C.getZoomLevel();be.C.setZoomLevel(rt+(je.deltaY>0?1:-1)),je.preventDefault(),je.stopPropagation()}},{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(t){if(t.hasChanged(133)){const o=this._context.configuration.options.get(133).height;this._height!==o&&(this._height=o,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(t){return this._mouseDownOperation.onCursorStateChanged(t),!1}onFocusChanged(t){return!1}onScrollChanged(t){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(t,o){const O=new pe.rU(t,o).toPageCoordinates(),H=(0,pe.kG)(this.viewHelper.viewDomNode);if(O.y<H.y||O.y>H.y+H.height||O.x<H.x||O.x>H.x+H.width)return null;const se=(0,pe.Pp)(this.viewHelper.viewDomNode,H,O);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),H,O,se,null)}_createMouseTarget(t,o){let g=t.target;if(!this.viewHelper.viewDomNode.contains(g)){const O=x.Ay(this.viewHelper.viewDomNode);O&&(g=O.elementsFromPoint(t.posx,t.posy).find(H=>this.viewHelper.viewDomNode.contains(H)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),t.editorPos,t.pos,t.relativePos,o?g:null)}_getMouseColumn(t){return this.mouseTargetFactory.getMouseColumn(t.relativePos)}_onContextMenu(t,o){this.viewController.emitContextMenu({event:t,target:this._createMouseTarget(t,o)})}_onMouseMove(t){this.mouseTargetFactory.mouseTargetIsWidget(t)||t.preventDefault(),!(this._mouseDownOperation.isActive()||t.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:t,target:this._createMouseTarget(t,!0)})}_onMouseLeave(t){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:t,target:null})}_onMouseUp(t){this.viewController.emitMouseUp({event:t,target:this._createMouseTarget(t,!0)})}_onMouseDown(t,o){const g=this._createMouseTarget(t,!0),O=6===g.type||7===g.type,H=2===g.type||3===g.type||4===g.type,se=3===g.type,ve=this._context.configuration.options.get(100),je=8===g.type||5===g.type,qe=9===g.type;let rt=t.leftButton||t.middleButton;B.dz&&t.leftButton&&t.ctrlKey&&(rt=!1);const yt=()=>{t.preventDefault(),this.viewHelper.focusTextArea()};if(rt&&(O||se&&ve))yt(),this._mouseDownOperation.start(g.type,t,o);else if(H)t.preventDefault();else if(je){const kt=g.detail;rt&&this.viewHelper.shouldSuppressMouseDownOnViewZone(kt.viewZoneId)&&(yt(),this._mouseDownOperation.start(g.type,t,o),t.preventDefault())}else qe&&this.viewHelper.shouldSuppressMouseDownOnWidget(g.detail)&&(yt(),t.preventDefault());this.viewController.emitMouseDown({event:t,target:g})}}class Di extends Q.JT{constructor(t,o,g,O,H){super(),this._context=t,this._viewController=o,this._viewHelper=g,this._createMouseTarget=O,this._getMouseColumn=H,this._mouseMoveMonitor=this._register(new pe.AL(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new Ae._F),this._mouseState=new li,this._currentSelection=new ye.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(t){this._lastMouseEvent=t,this._mouseState.setModifiers(t);const o=this._findMousePosition(t,!1);!o||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:t,target:o}):this._dispatchMouse(o,!0))}start(t,o,g){this._lastMouseEvent=o,this._mouseState.setStartedOnLineNumbers(3===t),this._mouseState.setStartButtons(o),this._mouseState.setModifiers(o);const O=this._findMousePosition(o,!0);if(!O||!O.position)return;this._mouseState.trySetCount(o.detail,O.position),o.detail=this._mouseState.count;const H=this._context.configuration.options;if(!H.get(83)&&H.get(31)&&!H.get(18)&&!this._mouseState.altKey&&o.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===O.type&&O.position&&this._currentSelection.containsPosition(O.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,g,o.buttons,se=>this._onMouseDownThenMove(se),se=>{const ve=this._findMousePosition(this._lastMouseEvent,!1);se&&se instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:ve?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse(O,o.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,g,o.buttons,se=>this._onMouseDownThenMove(se),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const t=this._findMousePosition(this._lastMouseEvent,!1);!t||this._mouseState.isDragAndDrop||this._dispatchMouse(t,!0)},10)}onCursorStateChanged(t){this._currentSelection=t.selections[0]}_getPositionOutsideEditor(t){const o=t.editorPos,g=this._context.viewModel,O=this._context.viewLayout,H=this._getMouseColumn(t);if(t.posy<o.y){const ve=Math.max(O.getCurrentScrollTop()-(o.y-t.posy),0),je=Ct.getZoneAtCoord(this._context,ve);if(je){const rt=this._helpPositionJumpOverViewZone(je);if(rt)return Yt.createOutsideEditor(H,rt)}const qe=O.getLineNumberAtVerticalOffset(ve);return Yt.createOutsideEditor(H,new Ee.L(qe,1))}if(t.posy>o.y+o.height){const ve=O.getCurrentScrollTop()+t.relativePos.y,je=Ct.getZoneAtCoord(this._context,ve);if(je){const rt=this._helpPositionJumpOverViewZone(je);if(rt)return Yt.createOutsideEditor(H,rt)}const qe=O.getLineNumberAtVerticalOffset(ve);return Yt.createOutsideEditor(H,new Ee.L(qe,g.getLineMaxColumn(qe)))}const se=O.getLineNumberAtVerticalOffset(O.getCurrentScrollTop()+t.relativePos.y);return t.posx<o.x?Yt.createOutsideEditor(H,new Ee.L(se,1)):t.posx>o.x+o.width?Yt.createOutsideEditor(H,new Ee.L(se,g.getLineMaxColumn(se))):null}_findMousePosition(t,o){const g=this._getPositionOutsideEditor(t);if(g)return g;const O=this._createMouseTarget(t,o);if(!O.position)return null;if(8===O.type||5===O.type){const se=this._helpPositionJumpOverViewZone(O.detail);if(se)return Yt.createViewZone(O.type,O.element,O.mouseColumn,se,O.detail)}return O}_helpPositionJumpOverViewZone(t){const o=new Ee.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),g=t.positionBefore,O=t.positionAfter;return g&&O?g.isBefore(o)?g:O:null}_dispatchMouse(t,o){!t.position||this._viewController.dispatchMouse({position:t.position,mouseColumn:t.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:o,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:6===t.type&&null!==t.detail.injectedText})}}let li=(()=>{class ut{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(o){this._altKey=o.altKey,this._ctrlKey=o.ctrlKey,this._metaKey=o.metaKey,this._shiftKey=o.shiftKey}setStartButtons(o){this._leftButton=o.leftButton,this._middleButton=o.middleButton}setStartedOnLineNumbers(o){this._startedOnLineNumbers=o}trySetCount(o,g){const O=(new Date).getTime();O-this._lastSetMouseDownCountTime>ut.CLEAR_MOUSE_DOWN_COUNT_TIME&&(o=1),this._lastSetMouseDownCountTime=O,o>this._lastMouseDownCount+1&&(o=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(g)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=g,this._lastMouseDownCount=Math.min(o,this._lastMouseDownPositionEqualCount)}}return ut.CLEAR_MOUSE_DOWN_COUNT_TIME=400,ut})();var Qn=e(27991),wi=e(47462);class Dn extends ei{constructor(t,o,g){super(t,o,g),this._register(Be.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(x.nm(this.viewHelper.linesContentDomNode,Be.t.Tap,H=>this.onTap(H))),this._register(x.nm(this.viewHelper.linesContentDomNode,Be.t.Change,H=>this.onChange(H))),this._register(x.nm(this.viewHelper.linesContentDomNode,Be.t.Contextmenu,H=>this._onContextMenu(new pe.gy(H,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(x.nm(this.viewHelper.linesContentDomNode,"pointerdown",H=>{const se=H.pointerType;this._lastPointerType="mouse"!==se?"touch"===se?"touch":"pen":"mouse"}));const O=new pe.tC(this.viewHelper.viewDomNode);this._register(O.onPointerMove(this.viewHelper.viewDomNode,H=>this._onMouseMove(H))),this._register(O.onPointerUp(this.viewHelper.viewDomNode,H=>this._onMouseUp(H))),this._register(O.onPointerLeave(this.viewHelper.viewDomNode,H=>this._onMouseLeave(H))),this._register(O.onPointerDown(this.viewHelper.viewDomNode,(H,se)=>this._onMouseDown(H,se)))}onTap(t){if(!t.initialTarget||!this.viewHelper.linesContentDomNode.contains(t.initialTarget))return;t.preventDefault(),this.viewHelper.focusTextArea();const o=this._createMouseTarget(new pe.gy(t,!1,this.viewHelper.viewDomNode),!1);o.position&&this.viewController.dispatchMouse({position:o.position,mouseColumn:o.position.column,startedOnLineNumbers:!1,mouseDownCount:t.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:6===o.type&&null!==o.detail.injectedText})}onChange(t){"touch"===this._lastPointerType&&this._context.viewModel.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)}_onMouseDown(t,o){"touch"!==t.browserEvent.pointerType&&super._onMouseDown(t,o)}}class Dt extends ei{constructor(t,o,g){super(t,o,g),this._register(Be.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(x.nm(this.viewHelper.linesContentDomNode,Be.t.Tap,O=>this.onTap(O))),this._register(x.nm(this.viewHelper.linesContentDomNode,Be.t.Change,O=>this.onChange(O))),this._register(x.nm(this.viewHelper.linesContentDomNode,Be.t.Contextmenu,O=>this._onContextMenu(new pe.gy(O,!1,this.viewHelper.viewDomNode),!1)))}onTap(t){t.preventDefault(),this.viewHelper.focusTextArea();const o=this._createMouseTarget(new pe.gy(t,!1,this.viewHelper.viewDomNode),!1);if(o.position){const g=document.createEvent("CustomEvent");g.initEvent(wi.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(g),this.viewController.moveTo(o.position)}}onChange(t){this._context.viewModel.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)}}class Te extends Q.JT{constructor(t,o,g){super(),this.handler=B.gn&&Qn.D.pointerEvents?this._register(new Dn(t,o,g)):window.TouchEvent?this._register(new Dt(t,o,g)):this._register(new ei(t,o,g))}getTargetAtClientPoint(t,o){return this.handler.getTargetAtClientPoint(t,o)}}var oe=e(40504),Le={};Le.styleTagTransform=d(),Le.setAttributes=c(),Le.insert=a().bind(null,"head"),Le.domAPI=N(),Le.insertStyleElement=l(),A()(oe.Z,Le);var pt=e(93059),Et=e(95748),Ut=e(62562),sn=e(6184),pn={};pn.styleTagTransform=d(),pn.setAttributes=c(),pn.insert=a().bind(null,"head"),pn.domAPI=N(),pn.insertStyleElement=l(),A()(sn.Z,pn);class Tn extends De{}var kn=e(53448),An=e(23024);let Gn=(()=>{class ut extends Tn{constructor(o){super(),this._context=o,this._readConfig(),this._lastCursorModelPosition=new Ee.L(1,1),this._lastCursorViewPosition=new Ee.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const o=this._context.configuration.options;this._lineHeight=o.get(61);const g=o.get(62);this._renderLineNumbers=g.renderType,this._renderCustomLineNumbers=g.renderFn,this._renderFinalNewline=o.get(86);const O=o.get(133);this._lineNumbersLeft=O.lineNumbersLeft,this._lineNumbersWidth=O.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(o){return this._readConfig(),!0}onCursorStateChanged(o){const g=o.selections[0].getPosition();this._lastCursorViewPosition=g,this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(g);let O=!1;return this._activeLineNumber!==g.lineNumber&&(this._activeLineNumber=g.lineNumber,O=!0),(2===this._renderLineNumbers||3===this._renderLineNumbers)&&(O=!0),O}onFlushed(o){return!0}onLinesChanged(o){return!0}onLinesDeleted(o){return!0}onLinesInserted(o){return!0}onScrollChanged(o){return o.scrollTopChanged}onZonesChanged(o){return!0}_getLineRenderLineNumber(o){const g=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Ee.L(o,1));if(1!==g.column)return"";const O=g.lineNumber;return this._renderCustomLineNumbers?this._renderCustomLineNumbers(O):3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===O||O%10==0?String(O):"":String(O)}prepareRender(o){if(0===this._renderLineNumbers)return void(this._renderResult=null);const g=B.IJ?this._lineHeight%2==0?" lh-even":" lh-odd":"",O=o.visibleRange.startLineNumber,H=o.visibleRange.endLineNumber,se='<div class="'+ut.CLASS_NAME+g+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">';let ve=null;if(2===this._renderLineNumbers){ve=new Array(H-O+1),this._lastCursorViewPosition.lineNumber>=O&&this._lastCursorViewPosition.lineNumber<=H&&(ve[this._lastCursorViewPosition.lineNumber-O]=this._lastCursorModelPosition.lineNumber);{let rt=0;for(let yt=this._lastCursorViewPosition.lineNumber+1;yt<=H;yt++){const Wt=1!==this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Ee.L(yt,1)).column;Wt||rt++,yt>=O&&(ve[yt-O]=Wt?0:rt)}}{let rt=0;for(let yt=this._lastCursorViewPosition.lineNumber-1;yt>=O;yt--){const Wt=1!==this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Ee.L(yt,1)).column;Wt||rt++,yt<=H&&(ve[yt-O]=Wt?0:rt)}}}const je=this._context.viewModel.getLineCount(),qe=[];for(let rt=O;rt<=H;rt++){const yt=rt-O;if(!this._renderFinalNewline&&rt===je&&0===this._context.viewModel.getLineLength(rt)){qe[yt]="";continue}let kt;if(ve){const Wt=ve[yt];kt=this._lastCursorViewPosition.lineNumber===rt?`<span class="relative-current-line-number">${Wt}</span>`:Wt?String(Wt):""}else kt=this._getLineRenderLineNumber(rt);qe[yt]=kt?rt===this._activeLineNumber?'<div class="active-line-number '+ut.CLASS_NAME+g+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+kt+"</div>":se+kt+"</div>":""}this._renderResult=qe}render(o,g){if(!this._renderResult)return"";const O=g-o;return O<0||O>=this._renderResult.length?"":this._renderResult[O]}}return ut.CLASS_NAME="line-numbers",ut})();(0,An.Ic)((ut,t)=>{const o=ut.getColor(kn.hw);o&&t.addRule(`.monaco-editor .line-numbers { color: ${o}; }`);const g=ut.getColor(kn.DD);g&&t.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${g}; }`)});let ri=(()=>{class ut extends Oe{constructor(o){super(o);const g=this._context.configuration.options,O=g.get(133);this._canUseLayerHinting=!g.get(28),this._contentLeft=O.contentLeft,this._glyphMarginLeft=O.glyphMarginLeft,this._glyphMarginWidth=O.glyphMarginWidth,this._domNode=(0,_e.X)(document.createElement("div")),this._domNode.setClassName(ut.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,_e.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(ut.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(o){const g=this._context.configuration.options,O=g.get(133);return this._canUseLayerHinting=!g.get(28),this._contentLeft=O.contentLeft,this._glyphMarginLeft=O.glyphMarginLeft,this._glyphMarginWidth=O.glyphMarginWidth,!0}onScrollChanged(o){return super.onScrollChanged(o)||o.scrollTopChanged}prepareRender(o){}render(o){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict"),this._domNode.setTop(-(o.scrollTop-o.bigNumbersDelta));const O=Math.min(o.scrollHeight,1e6);this._domNode.setHeight(O),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(O)}}return ut.CLASS_NAME="glyph-margin",ut.OUTER_CLASS_NAME="margin",ut})();var si=e(30681),Si=e(91257),xi=e(66778),Li=e(68927);class Yn{constructor(t,o,g,O,H){this._context=t,this.modelLineNumber=o,this.distanceToModelLineStart=g,this.widthOfHiddenLineTextBefore=O,this.distanceToModelLineEnd=H,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(t){const o=new Ee.L(this.modelLineNumber,this.distanceToModelLineStart+1),g=new Ee.L(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(g),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=t.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=t.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(t){return this._previousPresentation||(this._previousPresentation=t||{foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const fi=G.isFirefox;class pi extends Oe{constructor(t,o,g){super(t),this._primaryCursorPosition=new Ee.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=o,this._visibleRangeProvider=g,this._scrollLeft=0,this._scrollTop=0;const O=this._context.configuration.options,H=O.get(133);this._setAccessibilityOptions(O),this._contentLeft=H.contentLeft,this._contentWidth=H.contentWidth,this._contentHeight=H.height,this._fontInfo=O.get(46),this._lineHeight=O.get(61),this._emptySelectionClipboard=O.get(33),this._copyWithSyntaxHighlighting=O.get(21),this._visibleTextArea=null,this._selections=[new ye.Y(1,1,1,1)],this._modelSelections=[new ye.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,_e.X)(document.createElement("textarea")),Ne.write(this.textArea,6),this.textArea.setClassName(`inputarea ${Si.S}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(O)),this.textArea.setAttribute("tabindex",String(O.get(114))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",b.NC("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),O.get(30)&&O.get(83)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,_e.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const se={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:qe=>this._context.viewModel.getLineMaxColumn(qe),getValueInRange:(qe,rt)=>this._context.viewModel.getValueInRange(qe,rt)},ve={getDataToCopy:()=>{const qe=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,B.ED),rt=this._context.viewModel.model.getEOL(),yt=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),kt=Array.isArray(qe)?qe:null,Wt=Array.isArray(qe)?qe.join(rt):qe;let cn,_n=null;if(wi.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&Wt.length<65536){const bn=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);bn&&(cn=bn.html,_n=bn.mode)}return{isFromEmptySelection:yt,multicursorText:kt,text:Wt,html:cn,mode:_n}},getScreenReaderContent:qe=>{if(1===this._accessibilitySupport){const rt=this._selections[0];if(B.dz&&rt.isEmpty()){const yt=rt.getStartPosition();let kt=this._getWordBeforePosition(yt);if(0===kt.length&&(kt=this._getCharacterBeforePosition(yt)),kt.length>0)return new Ut.un(kt,kt.length,kt.length,yt,yt)}if(G.isSafari&&!rt.isEmpty()){const yt="vscode-placeholder";return new Ut.un(yt,0,yt.length,null,null)}return Ut.un.EMPTY}if(G.isAndroid){const rt=this._selections[0];if(rt.isEmpty()){const yt=rt.getStartPosition(),[kt,Wt]=this._getAndroidWordAtPosition(yt);if(kt.length>0)return new Ut.un(kt,Wt,Wt,yt,yt)}return Ut.un.EMPTY}return Ut.ee.fromEditorSelection(qe,se,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(qe,rt,yt)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(qe,rt,yt)},je=this._register(new wi.Tj(this.textArea.domNode));this._textAreaInput=this._register(new wi.Fz(ve,je,B.OS,G)),this._register(this._textAreaInput.onKeyDown(qe=>{this._viewController.emitKeyDown(qe)})),this._register(this._textAreaInput.onKeyUp(qe=>{this._viewController.emitKeyUp(qe)})),this._register(this._textAreaInput.onPaste(qe=>{let rt=!1,yt=null,kt=null;qe.metadata&&(rt=this._emptySelectionClipboard&&!!qe.metadata.isFromEmptySelection,yt=void 0!==qe.metadata.multicursorText?qe.metadata.multicursorText:null,kt=qe.metadata.mode),this._viewController.paste(qe.text,rt,yt,kt)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(qe=>{qe.replacePrevCharCnt||qe.replaceNextCharCnt||qe.positionDelta?(Ut.al&&console.log(` => compositionType: <<${qe.text}>>, ${qe.replacePrevCharCnt}, ${qe.replaceNextCharCnt}, ${qe.positionDelta}`),this._viewController.compositionType(qe.text,qe.replacePrevCharCnt,qe.replaceNextCharCnt,qe.positionDelta)):(Ut.al&&console.log(` => type: <<${qe.text}>>`),this._viewController.type(qe.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(qe=>{this._viewController.setSelection(qe)})),this._register(this._textAreaInput.onCompositionStart(qe=>{const rt=this.textArea.domNode,yt=this._modelSelections[0],{distanceToModelLineStart:kt,widthOfHiddenTextBefore:Wt}=(()=>{const _n=rt.value.substring(0,Math.min(rt.selectionStart,rt.selectionEnd)),bn=_n.lastIndexOf("\n"),Mn=_n.substring(bn+1),Bn=Mn.lastIndexOf("\t"),Hn=Mn.length-Bn-1,ti=yt.getStartPosition(),gi=Math.min(ti.column-1,Hn),di=ti.column-1-gi,qn=function mn(ut,t){if(0===ut.length)return 0;const o=document.createElement("div");o.style.position="absolute",o.style.top="-50000px",o.style.width="50000px";const g=document.createElement("span");(0,Et.N)(g,t),g.style.whiteSpace="pre",g.append(ut),o.appendChild(g),document.body.appendChild(o);const O=g.offsetWidth;return document.body.removeChild(o),O}(Mn.substring(0,Mn.length-gi),this._fontInfo);return{distanceToModelLineStart:di,widthOfHiddenTextBefore:qn}})(),{distanceToModelLineEnd:cn}=(()=>{const _n=rt.value.substring(Math.max(rt.selectionStart,rt.selectionEnd)),bn=_n.indexOf("\n"),Mn=-1===bn?_n:_n.substring(0,bn),Bn=Mn.indexOf("\t"),Hn=-1===Bn?Mn.length:Mn.length-Bn-1,ti=yt.getEndPosition(),gi=Math.min(this._context.viewModel.model.getLineMaxColumn(ti.lineNumber)-ti.column,Hn);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(ti.lineNumber)-ti.column-gi}})();this._context.viewModel.revealRange("keyboard",!0,Fe.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new Yn(this._context,yt.startLineNumber,kt,Wt,cn),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${Si.S} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(qe=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${Si.S}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(t){const g=this._context.viewModel.getLineContent(t.lineNumber),O=(0,si.u)('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let H=!0,se=t.column,ve=!0,je=t.column,qe=0;for(;qe<50&&(H||ve);){if(H&&se<=1&&(H=!1),H){const rt=g.charCodeAt(se-2);0!==O.get(rt)?H=!1:se--}if(ve&&je>g.length&&(ve=!1),ve){const rt=g.charCodeAt(je-1);0!==O.get(rt)?ve=!1:je++}qe++}return[g.substring(se-1,je-1),t.column-se]}_getWordBeforePosition(t){const o=this._context.viewModel.getLineContent(t.lineNumber),g=(0,si.u)(this._context.configuration.options.get(119));let O=t.column,H=0;for(;O>1;){const se=o.charCodeAt(O-2);if(0!==g.get(se)||H>50)return o.substring(O-1,t.column-1);H++,O--}return o.substring(0,t.column-1)}_getCharacterBeforePosition(t){if(t.column>1){const g=this._context.viewModel.getLineContent(t.lineNumber).charAt(t.column-2);if(!pt.ZG(g.charCodeAt(0)))return g}return""}_getAriaLabel(t){return 1===t.get(2)?b.NC("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",B.IJ?"Shift+Alt+F1":"Alt+F1"):t.get(4)}_setAccessibilityOptions(t){this._accessibilitySupport=t.get(2);const o=t.get(3);this._accessibilityPageSize=2===this._accessibilitySupport&&o===fe.BH.accessibilityPageSize.defaultValue?500:o}onConfigurationChanged(t){const o=this._context.configuration.options,g=o.get(133);return this._setAccessibilityOptions(o),this._contentLeft=g.contentLeft,this._contentWidth=g.contentWidth,this._contentHeight=g.height,this._fontInfo=o.get(46),this._lineHeight=o.get(61),this._emptySelectionClipboard=o.get(33),this._copyWithSyntaxHighlighting=o.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(o)),this.textArea.setAttribute("tabindex",String(o.get(114))),(t.hasChanged(30)||t.hasChanged(83))&&(o.get(30)&&o.get(83)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),t.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(t){return this._selections=t.selections.slice(0),this._modelSelections=t.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return this._scrollLeft=t.scrollLeft,this._scrollTop=t.scrollTop,!0}onZonesChanged(t){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(t){t.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",t.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),t.role&&this.textArea.setAttribute("role",t.role)}prepareRender(t){var o;this._primaryCursorPosition=new Ee.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=t.visibleRangeForPosition(this._primaryCursorPosition),null===(o=this._visibleTextArea)||void 0===o||o.prepareRender(t)}render(t){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const g=this._visibleTextArea.visibleTextareaStart,O=this._visibleTextArea.visibleTextareaEnd,H=this._visibleTextArea.startPosition,se=this._visibleTextArea.endPosition;if(H&&se&&g&&O&&O.left>=this._scrollLeft&&g.left<=this._scrollLeft+this._contentWidth){const ve=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,je=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let qe=this._visibleTextArea.widthOfHiddenLineTextBefore,rt=this._contentLeft+g.left-this._scrollLeft,yt=O.left-g.left+1;if(rt<this._contentLeft){const Mn=this._contentLeft-rt;rt+=Mn,qe+=Mn,yt-=Mn}yt>this._contentWidth&&(yt=this._contentWidth);const kt=this._context.viewModel.getViewLineData(H.lineNumber),Wt=kt.tokens.findTokenIndexAtOffset(H.column-1),cn=kt.tokens.findTokenIndexAtOffset(se.column-1),bn=this._visibleTextArea.definePresentation(Wt===cn?kt.tokens.getPresentation(Wt):null);this.textArea.domNode.scrollTop=je*this._lineHeight,this.textArea.domNode.scrollLeft=qe,this._doRender({lastRenderPosition:null,top:ve,left:rt,width:yt,height:this._lineHeight,useCover:!1,color:(xi.RW.getColorMap()||[])[bn.foreground],italic:bn.italic,bold:bn.bold,underline:bn.underline,strikethrough:bn.strikethrough})}return}if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const t=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(t<this._contentLeft||t>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const o=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(o<0||o>this._contentHeight)this._renderAtTopLeft();else if(B.dz){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:o,left:t,width:fi?0:1,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const g=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=g*this._lineHeight}else this._doRender({lastRenderPosition:this._primaryCursorPosition,top:o,left:t,width:fi?0:1,height:fi?0:1,useCover:!1})}_newlinecount(t){let o=0,g=-1;for(;g=t.indexOf("\n",g+1),-1!==g;)o++;return o}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:fi?0:1,height:fi?0:1,useCover:!0})}_doRender(t){this._lastRenderPosition=t.lastRenderPosition;const o=this.textArea,g=this.textAreaCover;(0,Et.N)(o,this._fontInfo),o.setTop(t.top),o.setLeft(t.left),o.setWidth(t.width),o.setHeight(t.height),o.setColor(t.color?Li.Il.Format.CSS.formatHex(t.color):""),o.setFontStyle(t.italic?"italic":""),t.bold&&o.setFontWeight("bold"),o.setTextDecoration(`${t.underline?" underline":""}${t.strikethrough?" line-through":""}`),g.setTop(t.useCover?t.top:0),g.setLeft(t.useCover?t.left:0),g.setWidth(t.useCover?t.width:0),g.setHeight(t.useCover?t.height:0);const O=this._context.configuration.options;O.get(52)?g.setClassName("monaco-editor-background textAreaCover "+ri.OUTER_CLASS_NAME):0!==O.get(62).renderType?g.setClassName("monaco-editor-background textAreaCover "+Gn.CLASS_NAME):g.setClassName("monaco-editor-background textAreaCover")}}var bt=e(99839);class Lt{constructor(t,o,g,O){this.configuration=t,this.viewModel=o,this.userInputEvents=g,this.commandDelegate=O}paste(t,o,g,O){this.commandDelegate.paste(t,o,g,O)}type(t){this.commandDelegate.type(t)}compositionType(t,o,g,O){this.commandDelegate.compositionType(t,o,g,O)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(t){bt.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:t})}_validateViewColumn(t){const o=this.viewModel.getLineMinColumn(t.lineNumber);return t.column<o?new Ee.L(t.lineNumber,o):t}_hasMulticursorModifier(t){switch(this.configuration.options.get(72)){case"altKey":return t.altKey;case"ctrlKey":return t.ctrlKey;case"metaKey":return t.metaKey;default:return!1}}_hasNonMulticursorModifier(t){switch(this.configuration.options.get(72)){case"altKey":return t.ctrlKey||t.metaKey;case"ctrlKey":return t.altKey||t.metaKey;case"metaKey":return t.ctrlKey||t.altKey;default:return!1}}dispatchMouse(t){const o=this.configuration.options,g=B.IJ&&o.get(98),O=o.get(18);t.middleButton&&!g?this._columnSelect(t.position,t.mouseColumn,t.inSelectionMode):t.startedOnLineNumbers?this._hasMulticursorModifier(t)?t.inSelectionMode?this._lastCursorLineSelect(t.position):this._createCursor(t.position,!0):t.inSelectionMode?this._lineSelectDrag(t.position):this._lineSelect(t.position):t.mouseDownCount>=4?this._selectAll():3===t.mouseDownCount?this._hasMulticursorModifier(t)?t.inSelectionMode?this._lastCursorLineSelectDrag(t.position):this._lastCursorLineSelect(t.position):t.inSelectionMode?this._lineSelectDrag(t.position):this._lineSelect(t.position):2===t.mouseDownCount?t.onInjectedText||(this._hasMulticursorModifier(t)?this._lastCursorWordSelect(t.position):t.inSelectionMode?this._wordSelectDrag(t.position):this._wordSelect(t.position)):this._hasMulticursorModifier(t)?this._hasNonMulticursorModifier(t)||(t.shiftKey?this._columnSelect(t.position,t.mouseColumn,!0):t.inSelectionMode?this._lastCursorMoveToSelect(t.position):this._createCursor(t.position,!1)):t.inSelectionMode?t.altKey||O?this._columnSelect(t.position,t.mouseColumn,!0):this._moveToSelect(t.position):this.moveTo(t.position)}_usualArgs(t){return t=this._validateViewColumn(t),{source:"mouse",position:this._convertViewToModelPosition(t),viewPosition:t}}moveTo(t){bt.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(t))}_moveToSelect(t){bt.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t))}_columnSelect(t,o,g){t=this._validateViewColumn(t),bt.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(t),viewPosition:t,mouseColumn:o,doColumnSelect:g})}_createCursor(t,o){t=this._validateViewColumn(t),bt.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(t),viewPosition:t,wholeLine:o})}_lastCursorMoveToSelect(t){bt.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t))}_wordSelect(t){bt.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t))}_wordSelectDrag(t){bt.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(t))}_lastCursorWordSelect(t){bt.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t))}_lineSelect(t){bt.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t))}_lineSelectDrag(t){bt.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(t))}_lastCursorLineSelect(t){bt.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t))}_lastCursorLineSelectDrag(t){bt.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(t))}_selectAll(){bt.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(t){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(t)}emitKeyDown(t){this.userInputEvents.emitKeyDown(t)}emitKeyUp(t){this.userInputEvents.emitKeyUp(t)}emitContextMenu(t){this.userInputEvents.emitContextMenu(t)}emitMouseMove(t){this.userInputEvents.emitMouseMove(t)}emitMouseLeave(t){this.userInputEvents.emitMouseLeave(t)}emitMouseUp(t){this.userInputEvents.emitMouseUp(t)}emitMouseDown(t){this.userInputEvents.emitMouseDown(t)}emitMouseDrag(t){this.userInputEvents.emitMouseDrag(t)}emitMouseDrop(t){this.userInputEvents.emitMouseDrop(t)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(t){this.userInputEvents.emitMouseWheel(t)}}class Ft{constructor(t){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=t}emitKeyDown(t){var o;null===(o=this.onKeyDown)||void 0===o||o.call(this,t)}emitKeyUp(t){var o;null===(o=this.onKeyUp)||void 0===o||o.call(this,t)}emitContextMenu(t){var o;null===(o=this.onContextMenu)||void 0===o||o.call(this,this._convertViewToModelMouseEvent(t))}emitMouseMove(t){var o;null===(o=this.onMouseMove)||void 0===o||o.call(this,this._convertViewToModelMouseEvent(t))}emitMouseLeave(t){var o;null===(o=this.onMouseLeave)||void 0===o||o.call(this,this._convertViewToModelMouseEvent(t))}emitMouseDown(t){var o;null===(o=this.onMouseDown)||void 0===o||o.call(this,this._convertViewToModelMouseEvent(t))}emitMouseUp(t){var o;null===(o=this.onMouseUp)||void 0===o||o.call(this,this._convertViewToModelMouseEvent(t))}emitMouseDrag(t){var o;null===(o=this.onMouseDrag)||void 0===o||o.call(this,this._convertViewToModelMouseEvent(t))}emitMouseDrop(t){var o;null===(o=this.onMouseDrop)||void 0===o||o.call(this,this._convertViewToModelMouseEvent(t))}emitMouseDropCanceled(){var t;null===(t=this.onMouseDropCanceled)||void 0===t||t.call(this)}emitMouseWheel(t){var o;null===(o=this.onMouseWheel)||void 0===o||o.call(this,t)}_convertViewToModelMouseEvent(t){return t.target?{event:t.event,target:this._convertViewToModelMouseTarget(t.target)}:t}_convertViewToModelMouseTarget(t){return Ft.convertViewToModelMouseTarget(t,this._coordinatesConverter)}static convertViewToModelMouseTarget(t,o){const g=Object.assign({},t);return g.position&&(g.position=o.convertViewPositionToModelPosition(g.position)),g.range&&(g.range=o.convertViewRangeToModelRange(g.range)),g}}var ln,un=e(68511);class Ot{constructor(t){this._createLine=t,this._set(1,[])}flush(){this._set(1,[])}_set(t,o){this._lines=o,this._rendLineNumberStart=t}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(t){const o=t-this._rendLineNumberStart;if(o<0||o>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[o]}onLinesDeleted(t,o){if(0===this.getCount())return null;const g=this.getStartLineNumber(),O=this.getEndLineNumber();if(o<g)return this._rendLineNumberStart-=o-t+1,null;if(t>O)return null;let H=0,se=0;for(let je=g;je<=O;je++){const qe=je-this._rendLineNumberStart;t<=je&&je<=o&&(0===se?(H=qe,se=1):se++)}if(t<g){let je=0;je=o<g?o-t+1:g-t,this._rendLineNumberStart-=je}return this._lines.splice(H,se)}onLinesChanged(t,o){const g=t+o-1;if(0===this.getCount())return!1;const O=this.getStartLineNumber(),H=this.getEndLineNumber();let se=!1;for(let ve=t;ve<=g;ve++)ve>=O&&ve<=H&&(this._lines[ve-this._rendLineNumberStart].onContentChanged(),se=!0);return se}onLinesInserted(t,o){if(0===this.getCount())return null;const g=o-t+1,O=this.getStartLineNumber(),H=this.getEndLineNumber();if(t<=O)return this._rendLineNumberStart+=g,null;if(t>H)return null;if(g+t>H)return this._lines.splice(t-this._rendLineNumberStart,H-t+1);const se=[];for(let yt=0;yt<g;yt++)se[yt]=this._createLine();const ve=t-this._rendLineNumberStart,je=this._lines.slice(0,ve),qe=this._lines.slice(ve,this._lines.length-g),rt=this._lines.slice(this._lines.length-g,this._lines.length);return this._lines=je.concat(se).concat(qe),rt}onTokensChanged(t){if(0===this.getCount())return!1;const o=this.getStartLineNumber(),g=this.getEndLineNumber();let O=!1;for(let H=0,se=t.length;H<se;H++){const ve=t[H];if(ve.toLineNumber<o||ve.fromLineNumber>g)continue;const je=Math.max(o,ve.fromLineNumber),qe=Math.min(g,ve.toLineNumber);for(let rt=je;rt<=qe;rt++)this._lines[rt-this._rendLineNumberStart].onTokensChanged(),O=!0}return O}}class $e{constructor(t){this._host=t,this.domNode=this._createDomNode(),this._linesCollection=new Ot(()=>this._host.createVisibleLine())}_createDomNode(){const t=(0,_e.X)(document.createElement("div"));return t.setClassName("view-layer"),t.setPosition("absolute"),t.domNode.setAttribute("role","presentation"),t.domNode.setAttribute("aria-hidden","true"),t}onConfigurationChanged(t){return!!t.hasChanged(133)}onFlushed(t){return this._linesCollection.flush(),!0}onLinesChanged(t){return this._linesCollection.onLinesChanged(t.fromLineNumber,t.count)}onLinesDeleted(t){const o=this._linesCollection.onLinesDeleted(t.fromLineNumber,t.toLineNumber);if(o)for(let g=0,O=o.length;g<O;g++){const H=o[g].getDomNode();H&&this.domNode.domNode.removeChild(H)}return!0}onLinesInserted(t){const o=this._linesCollection.onLinesInserted(t.fromLineNumber,t.toLineNumber);if(o)for(let g=0,O=o.length;g<O;g++){const H=o[g].getDomNode();H&&this.domNode.domNode.removeChild(H)}return!0}onScrollChanged(t){return t.scrollTopChanged}onTokensChanged(t){return this._linesCollection.onTokensChanged(t.ranges)}onZonesChanged(t){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(t){return this._linesCollection.getLine(t)}renderLines(t){const o=this._linesCollection._get(),H=new wt(this.domNode.domNode,this._host,t).render({rendLineNumberStart:o.rendLineNumberStart,lines:o.lines,linesLength:o.lines.length},t.startLineNumber,t.endLineNumber,t.relativeVerticalOffset);this._linesCollection._set(H.rendLineNumberStart,H.lines)}}class wt{constructor(t,o,g){this.domNode=t,this.host=o,this.viewportData=g}render(t,o,g,O){const H={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines.slice(0),linesLength:t.linesLength};if(H.rendLineNumberStart+H.linesLength-1<o||g<H.rendLineNumberStart){H.rendLineNumberStart=o,H.linesLength=g-o+1,H.lines=[];for(let se=o;se<=g;se++)H.lines[se-o]=this.host.createVisibleLine();return this._finishRendering(H,!0,O),H}if(this._renderUntouchedLines(H,Math.max(o-H.rendLineNumberStart,0),Math.min(g-H.rendLineNumberStart,H.linesLength-1),O,o),H.rendLineNumberStart>o){const se=o,ve=Math.min(g,H.rendLineNumberStart-1);se<=ve&&(this._insertLinesBefore(H,se,ve,O,o),H.linesLength+=ve-se+1)}else if(H.rendLineNumberStart<o){const se=Math.min(H.linesLength,o-H.rendLineNumberStart);se>0&&(this._removeLinesBefore(H,se),H.linesLength-=se)}if(H.rendLineNumberStart=o,H.rendLineNumberStart+H.linesLength-1<g){const se=H.rendLineNumberStart+H.linesLength,ve=g;se<=ve&&(this._insertLinesAfter(H,se,ve,O,o),H.linesLength+=ve-se+1)}else if(H.rendLineNumberStart+H.linesLength-1>g){const se=Math.max(0,g-H.rendLineNumberStart+1),je=H.linesLength-1-se+1;je>0&&(this._removeLinesAfter(H,je),H.linesLength-=je)}return this._finishRendering(H,!1,O),H}_renderUntouchedLines(t,o,g,O,H){const se=t.rendLineNumberStart,ve=t.lines;for(let je=o;je<=g;je++){const qe=se+je;ve[je].layoutLine(qe,O[qe-H])}}_insertLinesBefore(t,o,g,O,H){const se=[];let ve=0;for(let je=o;je<=g;je++)se[ve++]=this.host.createVisibleLine();t.lines=se.concat(t.lines)}_removeLinesBefore(t,o){for(let g=0;g<o;g++){const O=t.lines[g].getDomNode();O&&this.domNode.removeChild(O)}t.lines.splice(0,o)}_insertLinesAfter(t,o,g,O,H){const se=[];let ve=0;for(let je=o;je<=g;je++)se[ve++]=this.host.createVisibleLine();t.lines=t.lines.concat(se)}_removeLinesAfter(t,o){const g=t.linesLength-o;for(let O=0;O<o;O++){const H=t.lines[g+O].getDomNode();H&&this.domNode.removeChild(H)}t.lines.splice(g,o)}_finishRenderingNewLines(t,o,g,O){wt._ttPolicy&&(g=wt._ttPolicy.createHTML(g));const H=this.domNode.lastChild;o||!H?this.domNode.innerHTML=g:H.insertAdjacentHTML("afterend",g);let se=this.domNode.lastChild;for(let ve=t.linesLength-1;ve>=0;ve--){const je=t.lines[ve];O[ve]&&(je.setDomNode(se),se=se.previousSibling)}}_finishRenderingInvalidLines(t,o,g){const O=document.createElement("div");wt._ttPolicy&&(o=wt._ttPolicy.createHTML(o)),O.innerHTML=o;for(let H=0;H<t.linesLength;H++){const se=t.lines[H];if(g[H]){const ve=O.firstChild,je=se.getDomNode();je.parentNode.replaceChild(ve,je),se.setDomNode(ve)}}}_finishRendering(t,o,g){const O=wt._sb,H=t.linesLength,se=t.lines,ve=t.rendLineNumberStart,je=[];{O.reset();let qe=!1;for(let rt=0;rt<H;rt++){const yt=se[rt];je[rt]=!1,!yt.getDomNode()&&yt.renderLine(rt+ve,g[rt],this.viewportData,O)&&(je[rt]=!0,qe=!0)}qe&&this._finishRenderingNewLines(t,o,O.build(),je)}{O.reset();let qe=!1;const rt=[];for(let yt=0;yt<H;yt++){const kt=se[yt];rt[yt]=!1,!je[yt]&&kt.renderLine(yt+ve,g[yt],this.viewportData,O)&&(rt[yt]=!0,qe=!0)}qe&&this._finishRenderingInvalidLines(t,O.build(),rt)}}}wt._ttPolicy=null===(ln=window.trustedTypes)||void 0===ln?void 0:ln.createPolicy("editorViewLayer",{createHTML:ut=>ut}),wt._sb=(0,un.l$)(1e5);class Bt extends Oe{constructor(t){super(t),this._visibleLines=new $e(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let t=0,o=this._dynamicOverlays.length;t<o;t++)if(this._dynamicOverlays[t].shouldRender())return!0;return!1}dispose(){super.dispose();for(let t=0,o=this._dynamicOverlays.length;t<o;t++)this._dynamicOverlays[t].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new Xt(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(t){this._dynamicOverlays.push(t)}onConfigurationChanged(t){this._visibleLines.onConfigurationChanged(t);const o=this._visibleLines.getStartLineNumber(),g=this._visibleLines.getEndLineNumber();for(let O=o;O<=g;O++)this._visibleLines.getVisibleLine(O).onConfigurationChanged(t);return!0}onFlushed(t){return this._visibleLines.onFlushed(t)}onFocusChanged(t){return this._isFocused=t.isFocused,!0}onLinesChanged(t){return this._visibleLines.onLinesChanged(t)}onLinesDeleted(t){return this._visibleLines.onLinesDeleted(t)}onLinesInserted(t){return this._visibleLines.onLinesInserted(t)}onScrollChanged(t){return this._visibleLines.onScrollChanged(t)||!0}onTokensChanged(t){return this._visibleLines.onTokensChanged(t)}onZonesChanged(t){return this._visibleLines.onZonesChanged(t)}prepareRender(t){const o=this._dynamicOverlays.filter(g=>g.shouldRender());for(let g=0,O=o.length;g<O;g++){const H=o[g];H.prepareRender(t),H.onDidRender()}}render(t){this._viewOverlaysRender(t),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(t){this._visibleLines.renderLines(t.viewportData)}}class Xt{constructor(t,o){this._configuration=t,this._lineHeight=this._configuration.options.get(61),this._dynamicOverlays=o,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(t){this._domNode=(0,_e.X)(t)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(t){this._lineHeight=this._configuration.options.get(61)}renderLine(t,o,g,O){let H="";for(let se=0,ve=this._dynamicOverlays.length;se<ve;se++)H+=this._dynamicOverlays[se].render(g.startLineNumber,t);return this._renderedContent!==H&&(this._renderedContent=H,O.appendASCIIString('<div style="position:absolute;top:'),O.appendASCIIString(String(o)),O.appendASCIIString("px;width:100%;height:"),O.appendASCIIString(String(this._lineHeight)),O.appendASCIIString('px;">'),O.appendASCIIString(H),O.appendASCIIString("</div>"),!0)}layoutLine(t,o){this._domNode&&(this._domNode.setTop(o),this._domNode.setHeight(this._lineHeight))}}class nn extends Bt{constructor(t){super(t);const g=this._context.configuration.options.get(133);this._contentWidth=g.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(t){const g=this._context.configuration.options.get(133);return this._contentWidth=g.contentWidth,super.onConfigurationChanged(t)||!0}onScrollChanged(t){return super.onScrollChanged(t)||t.scrollWidthChanged}_viewOverlaysRender(t){super._viewOverlaysRender(t),this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth))}}class Kt extends Bt{constructor(t){super(t);const o=this._context.configuration.options,g=o.get(133);this._contentLeft=g.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,Et.N)(this.domNode,o.get(46))}onConfigurationChanged(t){const o=this._context.configuration.options;(0,Et.N)(this.domNode,o.get(46));const g=o.get(133);return this._contentLeft=g.contentLeft,super.onConfigurationChanged(t)||!0}onScrollChanged(t){return super.onScrollChanged(t)||t.scrollHeightChanged}_viewOverlaysRender(t){super._viewOverlaysRender(t);const o=Math.min(t.scrollHeight,1e6);this.domNode.setHeight(o),this.domNode.setWidth(this._contentLeft)}}class Ge{constructor(t,o){this._coordinateBrand=void 0,this.top=t,this.left=o}}class ct extends Oe{constructor(t,o){super(t),this._viewDomNode=o,this._widgets={},this.domNode=(0,_e.X)(document.createElement("div")),Ne.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,_e.X)(document.createElement("div")),Ne.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(t){const o=Object.keys(this._widgets);for(const g of o)this._widgets[g].onConfigurationChanged(t);return!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLineMappingChanged(t){const o=Object.keys(this._widgets);for(const g of o)this._widgets[g].onLineMappingChanged(t);return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return!0}onZonesChanged(t){return!0}addWidget(t){const o=new St(this._context,this._viewDomNode,t);this._widgets[o.id]=o,o.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(o.domNode):this.domNode.appendChild(o.domNode),this.setShouldRender()}setWidgetPosition(t,o,g,O){this._widgets[t.getId()].setPosition(o,g,O),this.setShouldRender()}removeWidget(t){const o=t.getId();if(this._widgets.hasOwnProperty(o)){const g=this._widgets[o];delete this._widgets[o];const O=g.domNode.domNode;O.parentNode.removeChild(O),O.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(t){return!!this._widgets.hasOwnProperty(t)&&this._widgets[t].suppressMouseDown}onBeforeRender(t){const o=Object.keys(this._widgets);for(const g of o)this._widgets[g].onBeforeRender(t)}prepareRender(t){const o=Object.keys(this._widgets);for(const g of o)this._widgets[g].prepareRender(t)}render(t){const o=Object.keys(this._widgets);for(const g of o)this._widgets[g].render(t)}}class St{constructor(t,o,g){this._context=t,this._viewDomNode=o,this._actual=g,this.domNode=(0,_e.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const O=this._context.configuration.options,H=O.get(133);this._fixedOverflowWidgets=O.get(38),this._contentWidth=H.contentWidth,this._contentLeft=H.contentLeft,this._lineHeight=O.get(61),this._range=null,this._viewRange=null,this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(t){const o=this._context.configuration.options;if(this._lineHeight=o.get(61),t.hasChanged(133)){const g=o.get(133);this._contentLeft=g.contentLeft,this._contentWidth=g.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(t){this._setPosition(this._range,this._affinity)}_setPosition(t,o){var g;if(this._range=t,this._viewRange=null,this._affinity=o,this._range){const O=this._context.viewModel.model.validateRange(this._range);(this._context.viewModel.coordinatesConverter.modelPositionIsVisible(O.getStartPosition())||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(O.getEndPosition()))&&(this._viewRange=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(O,null!==(g=this._affinity)&&void 0!==g?g:void 0))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(t,o,g){this._setPosition(t,g),this._preference=o,this.domNode.setDisplay(this._viewRange&&this._preference&&this._preference.length>0?"block":"none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(t,o,g,O,H){const se=t.top,je=o.top+this._lineHeight;let cn=t.left,_n=o.left;return cn+g>H.scrollLeft+H.viewportWidth&&(cn=H.scrollLeft+H.viewportWidth-g),_n+g>H.scrollLeft+H.viewportWidth&&(_n=H.scrollLeft+H.viewportWidth-g),cn<H.scrollLeft&&(cn=H.scrollLeft),_n<H.scrollLeft&&(_n=H.scrollLeft),{fitsAbove:se>=O,aboveTop:se-O,aboveLeft:cn,fitsBelow:H.viewportHeight-je>=O,belowTop:je,belowLeft:_n}}_layoutHorizontalSegmentInPage(t,o,g,O){const H=Math.max(0,o.left-O),se=Math.min(o.left+o.width+O,t.width);let ve=o.left+g-x.DI.scrollX;if(ve+O>se){const je=ve-(se-O);ve-=je,g-=je}if(ve<H){const je=ve-H;ve-=je,g-=je}return[g,ve]}_layoutBoxInPage(t,o,g,O,H){const se=t.top-O,ve=o.top+this._lineHeight,je=x.i(this._viewDomNode.domNode),qe=je.top+se-x.DI.scrollY,rt=je.top+ve-x.DI.scrollY,yt=x.D6(document.body),[kt,Wt]=this._layoutHorizontalSegmentInPage(yt,je,t.left-H.scrollLeft+this._contentLeft,g),[cn,_n]=this._layoutHorizontalSegmentInPage(yt,je,o.left-H.scrollLeft+this._contentLeft,g),Bn=qe>=22,Hn=rt+O<=yt.height-22;return this._fixedOverflowWidgets?{fitsAbove:Bn,aboveTop:Math.max(qe,22),aboveLeft:Wt,fitsBelow:Hn,belowTop:rt,belowLeft:_n}:{fitsAbove:Bn,aboveTop:se,aboveLeft:kt,fitsBelow:Hn,belowTop:ve,belowLeft:cn}}_prepareRenderWidgetAtExactPositionOverflowing(t){return new Ge(t.top,t.left+this._contentLeft)}_getTopAndBottomLeft(t){if(!this._viewRange)return[null,null];const o=t.linesVisibleRangesForRange(this._viewRange,!1);if(!o||0===o.length)return[null,null];let g=o[0],O=o[0];for(const yt of o)yt.lineNumber<g.lineNumber&&(g=yt),yt.lineNumber>O.lineNumber&&(O=yt);let H=1073741824;for(const yt of g.ranges)yt.left<H&&(H=yt.left);let se=1073741824;for(const yt of O.ranges)yt.left<se&&(se=yt.left);const ve=t.getVerticalOffsetForLineNumber(g.lineNumber)-t.scrollTop,je=new Ge(ve,H),qe=t.getVerticalOffsetForLineNumber(O.lineNumber)-t.scrollTop;return[je,new Ge(qe,se)]}_prepareRenderWidget(t){if(!this._preference||0===this._preference.length)return null;const[o,g]=this._getTopAndBottomLeft(t);if(!o||!g)return null;if(-1===this._cachedDomNodeOffsetWidth||-1===this._cachedDomNodeOffsetHeight){let H=null;if("function"==typeof this._actual.beforeRender&&(H=It(this._actual.beforeRender,this._actual)),H)this._cachedDomNodeOffsetWidth=H.width,this._cachedDomNodeOffsetHeight=H.height;else{const ve=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(ve.width),this._cachedDomNodeOffsetHeight=Math.round(ve.height)}}let O;O=this.allowEditorOverflow?this._layoutBoxInPage(o,g,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,t):this._layoutBoxInViewport(o,g,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,t);for(let H=1;H<=2;H++)for(const se of this._preference)if(1===se){if(!O)return null;if(2===H||O.fitsAbove)return{coordinate:new Ge(O.aboveTop,O.aboveLeft),position:1}}else{if(2!==se)return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(o),position:0}:{coordinate:o,position:0};if(!O)return null;if(2===H||O.fitsBelow)return{coordinate:new Ge(O.belowTop,O.belowLeft),position:2}}return null}onBeforeRender(t){!this._viewRange||!this._preference||this._viewRange.endLineNumber<t.startLineNumber||this._viewRange.startLineNumber>t.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(t){this._renderData=this._prepareRenderWidget(t)}render(t){if(!this._renderData)return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),void("function"==typeof this._actual.afterRender&&It(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+t.scrollTop-t.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),"function"==typeof this._actual.afterRender&&It(this._actual.afterRender,this._actual,this._renderData.position)}}function It(ut,t,...o){try{return ut.call(t,...o)}catch(g){return null}}var Zt=e(91260),Ht={};Ht.styleTagTransform=d(),Ht.setAttributes=c(),Ht.insert=a().bind(null,"head"),Ht.domAPI=N(),Ht.insertStyleElement=l(),A()(Zt.Z,Ht);class Fn extends Tn{constructor(t){super(),this._context=t;const o=this._context.configuration.options,g=o.get(133);this._lineHeight=o.get(61),this._renderLineHighlight=o.get(87),this._renderLineHighlightOnlyWhenFocus=o.get(88),this._contentLeft=g.contentLeft,this._contentWidth=g.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new ye.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let t=!1;const o=this._selections.map(O=>O.positionLineNumber);o.sort((O,H)=>O-H),F.fS(this._cursorLineNumbers,o)||(this._cursorLineNumbers=o,t=!0);const g=this._selections.every(O=>O.isEmpty());return this._selectionIsEmpty!==g&&(this._selectionIsEmpty=g,t=!0),t}onThemeChanged(t){return this._readFromSelections()}onConfigurationChanged(t){const o=this._context.configuration.options,g=o.get(133);return this._lineHeight=o.get(61),this._renderLineHighlight=o.get(87),this._renderLineHighlightOnlyWhenFocus=o.get(88),this._contentLeft=g.contentLeft,this._contentWidth=g.contentWidth,!0}onCursorStateChanged(t){return this._selections=t.selections,this._readFromSelections()}onFlushed(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollWidthChanged||t.scrollTopChanged}onZonesChanged(t){return!0}onFocusChanged(t){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=t.isFocused,!0)}prepareRender(t){if(!this._shouldRenderThis())return void(this._renderData=null);const o=this._renderOne(t),g=t.visibleRange.startLineNumber,O=t.visibleRange.endLineNumber,H=this._cursorLineNumbers.length;let se=0;const ve=[];for(let je=g;je<=O;je++){const qe=je-g;for(;se<H&&this._cursorLineNumbers[se]<je;)se++;ve[qe]=se<H&&this._cursorLineNumbers[se]===je?o:""}this._renderData=ve}render(t,o){if(!this._renderData)return"";const g=o-t;return g>=this._renderData.length?"":this._renderData[g]}_shouldRenderInMargin(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class Qt extends Fn{_renderOne(t){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(t.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class Kn extends Fn{_renderOne(t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}(0,An.Ic)((ut,t)=>{const o=ut.getColor(kn.Kh);if(o&&(t.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${o}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${o}; border: none; }`)),!o||o.isTransparent()||ut.defines(kn.Mm)){const g=ut.getColor(kn.Mm);g&&(t.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${g}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${g}; }`),(0,Ze.c3)(ut.type)&&(t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});var Zn=e(71329),_t={};_t.styleTagTransform=d(),_t.setAttributes=c(),_t.insert=a().bind(null,"head"),_t.domAPI=N(),_t.insertStyleElement=l(),A()(Zn.Z,_t);class q extends Tn{constructor(t){super(),this._context=t;const o=this._context.configuration.options;this._lineHeight=o.get(61),this._typicalHalfwidthCharacterWidth=o.get(46).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const o=this._context.configuration.options;return this._lineHeight=o.get(61),this._typicalHalfwidthCharacterWidth=o.get(46).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged||t.scrollWidthChanged}onZonesChanged(t){return!0}prepareRender(t){const o=t.getDecorationsInViewport();let g=[],O=0;for(let je=0,qe=o.length;je<qe;je++){const rt=o[je];rt.options.className&&(g[O++]=rt)}g=g.sort((je,qe)=>{if(je.options.zIndex<qe.options.zIndex)return-1;if(je.options.zIndex>qe.options.zIndex)return 1;const rt=je.options.className,yt=qe.options.className;return rt<yt?-1:rt>yt?1:Fe.e.compareRangesUsingStarts(je.range,qe.range)});const H=t.visibleRange.startLineNumber,se=t.visibleRange.endLineNumber,ve=[];for(let je=H;je<=se;je++)ve[je-H]="";this._renderWholeLineDecorations(t,g,ve),this._renderNormalDecorations(t,g,ve),this._renderResult=ve}_renderWholeLineDecorations(t,o,g){const O=String(this._lineHeight),H=t.visibleRange.startLineNumber,se=t.visibleRange.endLineNumber;for(let ve=0,je=o.length;ve<je;ve++){const qe=o[ve];if(!qe.options.isWholeLine)continue;const rt='<div class="cdr '+qe.options.className+'" style="left:0;width:100%;height:'+O+'px;"></div>',yt=Math.max(qe.range.startLineNumber,H),kt=Math.min(qe.range.endLineNumber,se);for(let Wt=yt;Wt<=kt;Wt++)g[Wt-H]+=rt}}_renderNormalDecorations(t,o,g){const O=String(this._lineHeight),H=t.visibleRange.startLineNumber;let se=null,ve=!1,je=null;for(let qe=0,rt=o.length;qe<rt;qe++){const yt=o[qe];if(yt.options.isWholeLine)continue;const kt=yt.options.className,Wt=Boolean(yt.options.showIfCollapsed);let cn=yt.range;Wt&&1===cn.endColumn&&cn.endLineNumber!==cn.startLineNumber&&(cn=new Fe.e(cn.startLineNumber,cn.startColumn,cn.endLineNumber-1,this._context.viewModel.getLineMaxColumn(cn.endLineNumber-1))),se===kt&&ve===Wt&&Fe.e.areIntersectingOrTouching(je,cn)?je=Fe.e.plusRange(je,cn):(null!==se&&this._renderNormalDecoration(t,je,se,ve,O,H,g),se=kt,ve=Wt,je=cn)}null!==se&&this._renderNormalDecoration(t,je,se,ve,O,H,g)}_renderNormalDecoration(t,o,g,O,H,se,ve){const je=t.linesVisibleRangesForRange(o,"findMatch"===g);if(je)for(let qe=0,rt=je.length;qe<rt;qe++){const yt=je[qe];if(yt.outsideRenderedLine)continue;const kt=yt.lineNumber-se;if(O&&1===yt.ranges.length){const Wt=yt.ranges[0];if(Wt.width<this._typicalHalfwidthCharacterWidth){const cn=Math.round(Wt.left+Wt.width/2),_n=Math.max(0,Math.round(cn-this._typicalHalfwidthCharacterWidth/2));yt.ranges[0]=new gt(_n,this._typicalHalfwidthCharacterWidth)}}for(let Wt=0,cn=yt.ranges.length;Wt<cn;Wt++){const _n=yt.ranges[Wt],bn='<div class="cdr '+g+'" style="left:'+String(_n.left)+"px;width:"+String(_n.width)+"px;height:"+H+'px;"></div>';ve[kt]+=bn}}}render(t,o){if(!this._renderResult)return"";const g=o-t;return g<0||g>=this._renderResult.length?"":this._renderResult[g]}}var we=e(97648),Re=e(28708);class Xe extends Oe{constructor(t,o,g,O){super(t);const H=this._context.configuration.options,se=H.get(94),ve=H.get(69),je=H.get(36),qe=H.get(97),rt={listenOnDomNode:g.domNode,className:"editor-scrollable "+(0,An.m6)(t.theme.type),useShadows:!1,lazyRender:!0,vertical:se.vertical,horizontal:se.horizontal,verticalHasArrows:se.verticalHasArrows,horizontalHasArrows:se.horizontalHasArrows,verticalScrollbarSize:se.verticalScrollbarSize,verticalSliderSize:se.verticalSliderSize,horizontalScrollbarSize:se.horizontalScrollbarSize,horizontalSliderSize:se.horizontalSliderSize,handleMouseWheel:se.handleMouseWheel,alwaysConsumeMouseWheel:se.alwaysConsumeMouseWheel,arrowSize:se.arrowSize,mouseWheelScrollSensitivity:ve,fastScrollSensitivity:je,scrollPredominantAxis:qe,scrollByPage:se.scrollByPage};this.scrollbar=this._register(new we.$Z(o.domNode,rt,this._context.viewLayout.getScrollable())),Ne.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,_e.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const yt=(kt,Wt,cn)=>{const _n={};if(Wt){const bn=kt.scrollTop;bn&&(_n.scrollTop=this._context.viewLayout.getCurrentScrollTop()+bn,kt.scrollTop=0)}if(cn){const bn=kt.scrollLeft;bn&&(_n.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+bn,kt.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(_n,1)};this._register(x.nm(g.domNode,"scroll",kt=>yt(g.domNode,!0,!0))),this._register(x.nm(o.domNode,"scroll",kt=>yt(o.domNode,!0,!1))),this._register(x.nm(O.domNode,"scroll",kt=>yt(O.domNode,!0,!1))),this._register(x.nm(this.scrollbarDomNode.domNode,"scroll",kt=>yt(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const t=this._context.configuration.options,o=t.get(133);this.scrollbarDomNode.setLeft(o.contentLeft),"right"===t.get(67).side?this.scrollbarDomNode.setWidth(o.contentWidth+o.minimap.minimapWidth):this.scrollbarDomNode.setWidth(o.contentWidth),this.scrollbarDomNode.setHeight(o.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(t){this.scrollbar.delegateVerticalScrollbarPointerDown(t)}onConfigurationChanged(t){if(t.hasChanged(94)||t.hasChanged(69)||t.hasChanged(36)){const o=this._context.configuration.options,g=o.get(94),O=o.get(69),H=o.get(36),se=o.get(97);this.scrollbar.updateOptions({vertical:g.vertical,horizontal:g.horizontal,verticalScrollbarSize:g.verticalScrollbarSize,horizontalScrollbarSize:g.horizontalScrollbarSize,scrollByPage:g.scrollByPage,handleMouseWheel:g.handleMouseWheel,mouseWheelScrollSensitivity:O,fastScrollSensitivity:H,scrollPredominantAxis:se})}return t.hasChanged(133)&&this._setLayout(),!0}onScrollChanged(t){return!0}onThemeChanged(t){return this.scrollbar.updateClassName("editor-scrollable "+(0,An.m6)(this._context.theme.type)),!0}prepareRender(t){}render(t){this.scrollbar.renderNow()}}(0,An.Ic)((ut,t)=>{const o=ut.getColor(Re._wn);o&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tbox-shadow: ${o} 0 6px 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tbox-shadow: ${o} 6px 0 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\tbox-shadow: ${o} 6px 6px 6px -6px inset;\n\t\t\t}\n\t\t`);const g=ut.getColor(Re.etL);g&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\tbackground: ${g};\n\t\t\t}\n\t\t`);const O=ut.getColor(Re.ABB);O&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\tbackground: ${O};\n\t\t\t}\n\t\t`);const H=ut.getColor(Re.ynu);H&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\tbackground: ${H};\n\t\t\t}\n\t\t`)});var xt=e(64827),At={};At.styleTagTransform=d(),At.setAttributes=c(),At.insert=a().bind(null,"head"),At.domAPI=N(),At.insertStyleElement=l(),A()(xt.Z,At);class fn{constructor(t,o,g){this._decorationToRenderBrand=void 0,this.startLineNumber=+t,this.endLineNumber=+o,this.className=String(g)}}class gn extends Tn{_render(t,o,g){const O=[];for(let ve=t;ve<=o;ve++)O[ve-t]=[];if(0===g.length)return O;g.sort((ve,je)=>ve.className===je.className?ve.startLineNumber===je.startLineNumber?ve.endLineNumber-je.endLineNumber:ve.startLineNumber-je.startLineNumber:ve.className<je.className?-1:1);let H=null,se=0;for(let ve=0,je=g.length;ve<je;ve++){const qe=g[ve],rt=qe.className;let yt=Math.max(qe.startLineNumber,t)-t;const kt=Math.min(qe.endLineNumber,o)-t;H===rt?(yt=Math.max(se+1,yt),se=Math.max(se,kt)):(H=rt,se=kt);for(let Wt=yt;Wt<=se;Wt++)O[Wt].push(H)}return O}}class Ln extends gn{constructor(t){super(),this._context=t;const o=this._context.configuration.options,g=o.get(133);this._lineHeight=o.get(61),this._glyphMargin=o.get(52),this._glyphMarginLeft=g.glyphMarginLeft,this._glyphMarginWidth=g.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const o=this._context.configuration.options,g=o.get(133);return this._lineHeight=o.get(61),this._glyphMargin=o.get(52),this._glyphMarginLeft=g.glyphMarginLeft,this._glyphMarginWidth=g.glyphMarginWidth,!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_getDecorations(t){const o=t.getDecorationsInViewport(),g=[];let O=0;for(let H=0,se=o.length;H<se;H++){const ve=o[H],je=ve.options.glyphMarginClassName;je&&(g[O++]=new fn(ve.range.startLineNumber,ve.range.endLineNumber,je))}return g}prepareRender(t){if(!this._glyphMargin)return void(this._renderResult=null);const o=t.visibleRange.startLineNumber,g=t.visibleRange.endLineNumber,O=this._render(o,g,this._getDecorations(t)),H=this._lineHeight.toString(),je='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+H+'px;"></div>',qe=[];for(let rt=o;rt<=g;rt++){const yt=rt-o,kt=O[yt];qe[yt]=0===kt.length?"":'<div class="cgmr codicon '+kt.join(" ")+je}this._renderResult=qe}render(t,o){if(!this._renderResult)return"";const g=o-t;return g<0||g>=this._renderResult.length?"":this._renderResult[g]}}var Rn=e(86848),zn={};zn.styleTagTransform=d(),zn.setAttributes=c(),zn.insert=a().bind(null,"head"),zn.domAPI=N(),zn.insertStyleElement=l(),A()(Rn.Z,zn);var hi=e(54435),ii=e(64051),Ni=e(52904);class Ki extends Tn{constructor(t){super(),this._context=t,this._primaryPosition=null;const o=this._context.configuration.options,g=o.get(134),O=o.get(46);this._lineHeight=o.get(61),this._spaceWidth=O.spaceWidth,this._maxIndentLeft=-1===g.wrappingColumn?-1:g.wrappingColumn*O.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const o=this._context.configuration.options,g=o.get(134),O=o.get(46);return this._lineHeight=o.get(61),this._spaceWidth=O.spaceWidth,this._maxIndentLeft=-1===g.wrappingColumn?-1:g.wrappingColumn*O.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(13),!0}onCursorStateChanged(t){var o;const O=t.selections[0].getPosition();return!(null!==(o=this._primaryPosition)&&void 0!==o&&o.equals(O)||(this._primaryPosition=O,0))}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}onLanguageConfigurationChanged(t){return!0}prepareRender(t){var o,g,O,H;if(!this._bracketPairGuideOptions.indentation&&!1===this._bracketPairGuideOptions.bracketPairs)return void(this._renderResult=null);const se=t.visibleRange.startLineNumber,ve=t.visibleRange.endLineNumber,je=t.scrollWidth,qe=this._lineHeight,yt=this.getGuidesByLine(se,ve,this._primaryPosition),kt=[];for(let Wt=se;Wt<=ve;Wt++){const cn=Wt-se,_n=yt[cn];let bn="";const Mn=null!==(g=null===(o=t.visibleRangeForPosition(new Ee.L(Wt,1)))||void 0===o?void 0:o.left)&&void 0!==g?g:0;for(const Bn of _n){const Hn=-1===Bn.column?Mn+(Bn.visibleColumn-1)*this._spaceWidth:t.visibleRangeForPosition(new Ee.L(Wt,Bn.column)).left;if(Hn>je||this._maxIndentLeft>0&&Hn>this._maxIndentLeft)break;const ti=Bn.horizontalLine?Bn.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",gi=Bn.horizontalLine?(null!==(H=null===(O=t.visibleRangeForPosition(new Ee.L(Wt,Bn.horizontalLine.endColumn)))||void 0===O?void 0:O.left)&&void 0!==H?H:Hn+this._spaceWidth)-Hn:this._spaceWidth;bn+=`<div class="core-guide ${Bn.className} ${ti}" style="left:${Hn}px;height:${qe}px;width:${gi}px"></div>`}kt[cn]=bn}this._renderResult=kt}getGuidesByLine(t,o,g){const O=!1!==this._bracketPairGuideOptions.bracketPairs?this._context.viewModel.getBracketGuidesInRangeByLine(t,o,g,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:!0===this._bracketPairGuideOptions.bracketPairsHorizontal?Ni.s6.Enabled:"active"===this._bracketPairGuideOptions.bracketPairsHorizontal?Ni.s6.EnabledForActive:Ni.s6.Disabled,includeInactive:!0===this._bracketPairGuideOptions.bracketPairs}):null,H=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(t,o):null;let se=0,ve=0,je=0;if(!1!==this._bracketPairGuideOptions.highlightActiveIndentation&&g){const yt=this._context.viewModel.getActiveIndentGuide(g.lineNumber,t,o);se=yt.startLineNumber,ve=yt.endLineNumber,je=yt.indent}const{indentSize:qe}=this._context.viewModel.model.getOptions(),rt=[];for(let yt=t;yt<=o;yt++){const kt=new Array;rt.push(kt);const Wt=O?O[yt-t]:[],cn=new F.H9(Wt),_n=H?H[yt-t]:[];for(let bn=1;bn<=_n;bn++){const Mn=(bn-1)*qe+1,Bn=("always"===this._bracketPairGuideOptions.highlightActiveIndentation||0===Wt.length)&&se<=yt&&yt<=ve&&bn===je;kt.push(...cn.takeWhile(ti=>ti.visibleColumn<Mn)||[]);const Hn=cn.peek();(!Hn||Hn.visibleColumn!==Mn||Hn.horizontalLine)&&kt.push(new Ni.UO(Mn,-1,Bn?"core-guide-indent-active":"core-guide-indent",null,-1,-1))}kt.push(...cn.takeWhile(bn=>!0)||[])}return rt}render(t,o){if(!this._renderResult)return"";const g=o-t;return g<0||g>=this._renderResult.length?"":this._renderResult[g]}}function Jt(ut){if(!ut||!ut.isTransparent())return ut}(0,An.Ic)((ut,t)=>{const o=ut.getColor(kn.tR);o&&t.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${o} inset; }`);const g=ut.getColor(kn.Ym)||o;g&&t.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${g} inset; }`);const O=[{bracketColor:kn.zJ,guideColor:kn.oV,guideColorActive:kn.Qb},{bracketColor:kn.Vs,guideColor:kn.m$,guideColorActive:kn.m3},{bracketColor:kn.CE,guideColor:kn.DS,guideColorActive:kn.To},{bracketColor:kn.UP,guideColor:kn.lS,guideColorActive:kn.L7},{bracketColor:kn.r0,guideColor:kn.Jn,guideColorActive:kn.HV},{bracketColor:kn.m1,guideColor:kn.YF,guideColorActive:kn.f9}],H=new ii.W,se=O.map(ve=>{var je,qe;const rt=ut.getColor(ve.bracketColor),yt=ut.getColor(ve.guideColor),kt=ut.getColor(ve.guideColorActive),Wt=Jt(null!==(je=Jt(yt))&&void 0!==je?je:null==rt?void 0:rt.transparent(.3)),cn=Jt(null!==(qe=Jt(kt))&&void 0!==qe?qe:rt);if(Wt&&cn)return{guideColor:Wt,guideColorActive:cn}}).filter(hi.$K);if(se.length>0){for(let ve=0;ve<30;ve++){const je=se[ve%se.length];t.addRule(`.monaco-editor .${H.getInlineClassNameOfLevel(ve).replace(/ /g,".")} { --guide-color: ${je.guideColor}; --guide-color-active: ${je.guideColorActive}; }`)}t.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),t.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),t.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),t.addRule(`.monaco-editor .vertical.${H.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),t.addRule(`.monaco-editor .horizontal-top.${H.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),t.addRule(`.monaco-editor .horizontal-bottom.${H.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}});var X=e(89565),Ce={};Ce.styleTagTransform=d(),Ce.setAttributes=c(),Ce.insert=a().bind(null,"head"),Ce.domAPI=N(),Ce.insertStyleElement=l(),A()(X.Z,Ce);class zt{constructor(){this._currentVisibleRange=new Fe.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(t){this._currentVisibleRange=t}}class dn{constructor(t,o,g,O,H,se,ve){this.minimalReveal=t,this.lineNumber=o,this.startColumn=g,this.endColumn=O,this.startScrollTop=H,this.stopScrollTop=se,this.scrollType=ve,this.type="range",this.minLineNumber=o,this.maxLineNumber=o}}class Sn{constructor(t,o,g,O,H){this.minimalReveal=t,this.selections=o,this.startScrollTop=g,this.stopScrollTop=O,this.scrollType=H,this.type="selections";let se=o[0].startLineNumber,ve=o[0].endLineNumber;for(let je=1,qe=o.length;je<qe;je++){const rt=o[je];se=Math.min(se,rt.startLineNumber),ve=Math.max(ve,rt.endLineNumber)}this.minLineNumber=se,this.maxLineNumber=ve}}let Nn=(()=>{class ut extends Oe{constructor(o,g){super(o),this._linesContent=g,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new $e(this),this.domNode=this._visibleLines.domNode;const O=this._context.configuration,H=this._context.configuration.options,se=H.get(46),ve=H.get(134),je=H.get(133);this._lineHeight=H.get(61),this._typicalHalfwidthCharacterWidth=se.typicalHalfwidthCharacterWidth,this._isViewportWrapping=ve.isViewportWrapping,this._revealHorizontalRightPadding=H.get(91),this._horizontalScrollbarHeight=je.horizontalScrollbarHeight,this._cursorSurroundingLines=H.get(25),this._cursorSurroundingLinesStyle=H.get(26),this._canUseLayerHinting=!H.get(28),this._viewLineOptions=new dt(O,this._context.theme.type),Ne.write(this.domNode,7),this.domNode.setClassName(`view-lines ${Si.S}`),(0,Et.N)(this.domNode,se),this._maxLineWidth=0,this._asyncUpdateLineWidths=new Ae.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new Ae.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new zt,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new $t(this._viewLineOptions)}onConfigurationChanged(o){this._visibleLines.onConfigurationChanged(o),o.hasChanged(134)&&(this._maxLineWidth=0);const g=this._context.configuration.options,O=g.get(46),H=g.get(134),se=g.get(133);return this._lineHeight=g.get(61),this._typicalHalfwidthCharacterWidth=O.typicalHalfwidthCharacterWidth,this._isViewportWrapping=H.isViewportWrapping,this._revealHorizontalRightPadding=g.get(91),this._horizontalScrollbarHeight=se.horizontalScrollbarHeight,this._cursorSurroundingLines=g.get(25),this._cursorSurroundingLinesStyle=g.get(26),this._canUseLayerHinting=!g.get(28),(0,Et.N)(this.domNode,O),this._onOptionsMaybeChanged(),o.hasChanged(133)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const g=new dt(this._context.configuration,this._context.theme.type);if(!this._viewLineOptions.equals(g)){this._viewLineOptions=g;const O=this._visibleLines.getStartLineNumber(),H=this._visibleLines.getEndLineNumber();for(let se=O;se<=H;se++)this._visibleLines.getVisibleLine(se).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(o){const g=this._visibleLines.getStartLineNumber(),O=this._visibleLines.getEndLineNumber();let H=!1;for(let se=g;se<=O;se++)H=this._visibleLines.getVisibleLine(se).onSelectionChanged()||H;return H}onDecorationsChanged(o){{const g=this._visibleLines.getStartLineNumber(),O=this._visibleLines.getEndLineNumber();for(let H=g;H<=O;H++)this._visibleLines.getVisibleLine(H).onDecorationsChanged()}return!0}onFlushed(o){const g=this._visibleLines.onFlushed(o);return this._maxLineWidth=0,g}onLinesChanged(o){return this._visibleLines.onLinesChanged(o)}onLinesDeleted(o){return this._visibleLines.onLinesDeleted(o)}onLinesInserted(o){return this._visibleLines.onLinesInserted(o)}onRevealRangeRequest(o){const g=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),o.source,o.minimalReveal,o.range,o.selections,o.verticalType);if(-1===g)return!1;let O=this._context.viewLayout.validateScrollPosition({scrollTop:g});o.revealHorizontal?o.range&&o.range.startLineNumber!==o.range.endLineNumber?O={scrollTop:O.scrollTop,scrollLeft:0}:o.range?this._horizontalRevealRequest=new dn(o.minimalReveal,o.range.startLineNumber,o.range.startColumn,o.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),O.scrollTop,o.scrollType):o.selections&&o.selections.length>0&&(this._horizontalRevealRequest=new Sn(o.minimalReveal,o.selections,this._context.viewLayout.getCurrentScrollTop(),O.scrollTop,o.scrollType)):this._horizontalRevealRequest=null;const se=Math.abs(this._context.viewLayout.getCurrentScrollTop()-O.scrollTop)<=this._lineHeight?1:o.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(O,se),!0}onScrollChanged(o){if(this._horizontalRevealRequest&&o.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&o.scrollTopChanged){const g=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),O=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(o.scrollTop<g||o.scrollTop>O)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(o.scrollWidth),this._visibleLines.onScrollChanged(o)||!0}onTokensChanged(o){return this._visibleLines.onTokensChanged(o)}onZonesChanged(o){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(o)}onThemeChanged(o){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(o,g){const O=this._getViewLineDomNode(o);if(null===O)return null;const H=this._getLineNumberFor(O);if(-1===H||H<1||H>this._context.viewModel.getLineCount())return null;if(1===this._context.viewModel.getLineMaxColumn(H))return new Ee.L(H,1);const se=this._visibleLines.getStartLineNumber(),ve=this._visibleLines.getEndLineNumber();if(H<se||H>ve)return null;let je=this._visibleLines.getVisibleLine(H).getColumnOfNodeOffset(H,o,g);const qe=this._context.viewModel.getLineMinColumn(H);return je<qe&&(je=qe),new Ee.L(H,je)}_getViewLineDomNode(o){for(;o&&1===o.nodeType;){if(o.className===$t.CLASS_NAME)return o;o=o.parentElement}return null}_getLineNumberFor(o){const g=this._visibleLines.getStartLineNumber(),O=this._visibleLines.getEndLineNumber();for(let H=g;H<=O;H++)if(o===this._visibleLines.getVisibleLine(H).getDomNode())return H;return-1}getLineWidth(o){const g=this._visibleLines.getStartLineNumber(),O=this._visibleLines.getEndLineNumber();return o<g||o>O?-1:this._visibleLines.getVisibleLine(o).getWidth()}linesVisibleRangesForRange(o,g){if(this.shouldRender())return null;const O=o.endLineNumber,H=Fe.e.intersectRanges(o,this._lastRenderedData.getCurrentVisibleRange());if(!H)return null;const se=[];let ve=0;const je=new ze(this.domNode.domNode,this._textRangeRestingSpot);let qe=0;g&&(qe=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Ee.L(H.startLineNumber,1)).lineNumber);const rt=this._visibleLines.getStartLineNumber(),yt=this._visibleLines.getEndLineNumber();for(let kt=H.startLineNumber;kt<=H.endLineNumber;kt++){if(kt<rt||kt>yt)continue;const Wt=kt===H.startLineNumber?H.startColumn:1,cn=kt===H.endLineNumber?H.endColumn:this._context.viewModel.getLineMaxColumn(kt),_n=this._visibleLines.getVisibleLine(kt).getVisibleRangesForRange(kt,Wt,cn,je);if(_n){if(g&&kt<O){const bn=qe;qe=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Ee.L(kt+1,1)).lineNumber,bn!==qe&&(_n.ranges[_n.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}se[ve++]=new Je(_n.outsideRenderedLine,kt,gt.from(_n.ranges))}}return 0===ve?null:se}_visibleRangesForLineRange(o,g,O){return this.shouldRender()||o<this._visibleLines.getStartLineNumber()||o>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(o).getVisibleRangesForRange(o,g,O,new ze(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(o){const g=this._visibleRangesForLineRange(o.lineNumber,o.column,o.column);return g?new Ke(g.outsideRenderedLine,g.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(o){const g=this._visibleLines.getStartLineNumber(),O=this._visibleLines.getEndLineNumber();let H=1,se=!0;for(let ve=g;ve<=O;ve++){const je=this._visibleLines.getVisibleLine(ve);!o||je.getWidthIsFast()?H=Math.max(H,je.getWidth()):se=!1}return se&&1===g&&O===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(H),se}_checkMonospaceFontAssumptions(){let o=-1,g=-1;const O=this._visibleLines.getStartLineNumber(),H=this._visibleLines.getEndLineNumber();for(let se=O;se<=H;se++){const ve=this._visibleLines.getVisibleLine(se);if(ve.needsMonospaceFontCheck()){const je=ve.getWidth();je>g&&(g=je,o=se)}}if(-1!==o&&!this._visibleLines.getVisibleLine(o).monospaceAssumptionsAreValid())for(let se=O;se<=H;se++)this._visibleLines.getVisibleLine(se).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(o){if(this._visibleLines.renderLines(o),this._lastRenderedData.setCurrentVisibleRange(o.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const O=this._horizontalRevealRequest;if(o.startLineNumber<=O.minLineNumber&&O.maxLineNumber<=o.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const H=this._computeScrollLeftToReveal(O);H&&(this._isViewportWrapping||this._ensureMaxLineWidth(H.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:H.scrollLeft},O.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),B.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const O=this._visibleLines.getStartLineNumber(),H=this._visibleLines.getEndLineNumber();for(let se=O;se<=H;se++)if(this._visibleLines.getVisibleLine(se).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const g=this._context.viewLayout.getCurrentScrollTop()-o.bigNumbersDelta;this._linesContent.setTop(-g),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(o){const g=Math.ceil(o);this._maxLineWidth<g&&(this._maxLineWidth=g,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(o,g,O,H,se,ve){const je=o.top,qe=o.height,rt=je+qe;let yt,kt,Wt,_n;if(se&&se.length>0){let bn=se[0].startLineNumber,Mn=se[0].endLineNumber;for(let Bn=1,Hn=se.length;Bn<Hn;Bn++){const ti=se[Bn];bn=Math.min(bn,ti.startLineNumber),Mn=Math.max(Mn,ti.endLineNumber)}yt=!1,kt=this._context.viewLayout.getVerticalOffsetForLineNumber(bn),Wt=this._context.viewLayout.getVerticalOffsetForLineNumber(Mn)+this._lineHeight}else{if(!H)return-1;yt=!0,kt=this._context.viewLayout.getVerticalOffsetForLineNumber(H.startLineNumber),Wt=this._context.viewLayout.getVerticalOffsetForLineNumber(H.endLineNumber)+this._lineHeight}if("mouse"!==g&&!O||"default"!==this._cursorSurroundingLinesStyle){const bn=Math.min(qe/this._lineHeight/2,this._cursorSurroundingLines);kt-=bn*this._lineHeight,Wt+=Math.max(0,bn-1)*this._lineHeight}else O||(kt-=this._lineHeight);if((0===ve||4===ve)&&(Wt+=O?this._horizontalScrollbarHeight:this._lineHeight),Wt-kt>qe){if(!yt)return-1;_n=kt}else if(5===ve||6===ve)if(6===ve&&je<=kt&&Wt<=rt)_n=je;else{const bn=Math.max(5*this._lineHeight,.2*qe);_n=Math.max(Wt-qe,kt-bn)}else _n=1===ve||2===ve?2===ve&&je<=kt&&Wt<=rt?je:Math.max(0,(kt+Wt)/2-qe/2):this._computeMinimumScrolling(je,rt,kt,Wt,3===ve,4===ve);return _n}_computeScrollLeftToReveal(o){const g=this._context.viewLayout.getCurrentViewport(),O=g.left,H=O+g.width;let se=1073741824,ve=0;if("range"===o.type){const qe=this._visibleRangesForLineRange(o.lineNumber,o.startColumn,o.endColumn);if(!qe)return null;for(const rt of qe.ranges)se=Math.min(se,Math.round(rt.left)),ve=Math.max(ve,Math.round(rt.left+rt.width))}else for(const qe of o.selections){if(qe.startLineNumber!==qe.endLineNumber)return null;const rt=this._visibleRangesForLineRange(qe.startLineNumber,qe.startColumn,qe.endColumn);if(!rt)return null;for(const yt of rt.ranges)se=Math.min(se,Math.round(yt.left)),ve=Math.max(ve,Math.round(yt.left+yt.width))}return o.minimalReveal||(se=Math.max(0,se-ut.HORIZONTAL_EXTRA_PX),ve+=this._revealHorizontalRightPadding),"selections"===o.type&&ve-se>g.width?null:{scrollLeft:this._computeMinimumScrolling(O,H,se,ve),maxHorizontalOffset:ve}}_computeMinimumScrolling(o,g,O,H,se,ve){se=!!se,ve=!!ve;const je=(g|=0)-(o|=0);return(H|=0)-(O|=0)<je?se?O:ve?Math.max(0,H-je):O<o?O:H>g?Math.max(0,H-je):o:O}}return ut.HORIZONTAL_EXTRA_PX=30,ut})();var jn=e(74444),$n={};$n.styleTagTransform=d(),$n.setAttributes=c(),$n.insert=a().bind(null,"head"),$n.domAPI=N(),$n.insertStyleElement=l(),A()(jn.Z,$n);class Jn extends gn{constructor(t){super(),this._context=t;const g=this._context.configuration.options.get(133);this._decorationsLeft=g.decorationsLeft,this._decorationsWidth=g.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const g=this._context.configuration.options.get(133);return this._decorationsLeft=g.decorationsLeft,this._decorationsWidth=g.decorationsWidth,!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_getDecorations(t){const o=t.getDecorationsInViewport(),g=[];let O=0;for(let H=0,se=o.length;H<se;H++){const ve=o[H],je=ve.options.linesDecorationsClassName;je&&(g[O++]=new fn(ve.range.startLineNumber,ve.range.endLineNumber,je));const qe=ve.options.firstLineDecorationClassName;qe&&(g[O++]=new fn(ve.range.startLineNumber,ve.range.startLineNumber,qe))}return g}prepareRender(t){const o=t.visibleRange.startLineNumber,g=t.visibleRange.endLineNumber,O=this._render(o,g,this._getDecorations(t)),ve='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',je=[];for(let qe=o;qe<=g;qe++){const rt=qe-o,yt=O[rt];let kt="";for(let Wt=0,cn=yt.length;Wt<cn;Wt++)kt+='<div class="cldr '+yt[Wt]+ve;je[rt]=kt}this._renderResult=je}render(t,o){return this._renderResult?this._renderResult[o-t]:""}}var ni=e(29364),ui={};ui.styleTagTransform=d(),ui.setAttributes=c(),ui.insert=a().bind(null,"head"),ui.domAPI=N(),ui.insertStyleElement=l(),A()(ni.Z,ui);class $i extends gn{constructor(t){super(),this._context=t,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){return!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_getDecorations(t){const o=t.getDecorationsInViewport(),g=[];let O=0;for(let H=0,se=o.length;H<se;H++){const ve=o[H],je=ve.options.marginClassName;je&&(g[O++]=new fn(ve.range.startLineNumber,ve.range.endLineNumber,je))}return g}prepareRender(t){const o=t.visibleRange.startLineNumber,g=t.visibleRange.endLineNumber,O=this._render(o,g,this._getDecorations(t)),H=[];for(let se=o;se<=g;se++){const ve=se-o,je=O[ve];let qe="";for(let rt=0,yt=je.length;rt<yt;rt++)qe+='<div class="cmdr '+je[rt]+'" style=""></div>';H[ve]=qe}this._renderResult=H}render(t,o){return this._renderResult?this._renderResult[o-t]:""}}var po=e(40563),ho={};ho.styleTagTransform=d(),ho.setAttributes=c(),ho.insert=a().bind(null,"head"),ho.domAPI=N(),ho.insertStyleElement=l(),A()(po.Z,ho);var Ri=e(96908);class ki{constructor(t,o,g,O){this._rgba8Brand=void 0,this.r=ki._clamp(t),this.g=ki._clamp(o),this.b=ki._clamp(g),this.a=ki._clamp(O)}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}static _clamp(t){return t<0?0:t>255?255:0|t}}ki.Empty=new ki(0,0,0,0);let fo=(()=>{class ut extends Q.JT{constructor(){super(),this._onDidChange=new R.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(xi.RW.onDidChange(o=>{o.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,Q.dk)(new ut)),this._INSTANCE}_updateColorMap(){const o=xi.RW.getColorMap();if(!o)return this._colors=[ki.Empty],void(this._backgroundIsLight=!0);this._colors=[ki.Empty];for(let O=1;O<o.length;O++){const H=o[O].rgba;this._colors[O]=new ki(H.r,H.g,H.b,Math.round(255*H.a))}const g=o[2].getRelativeLuminance();this._backgroundIsLight=g>=.5,this._onDidChange.fire(void 0)}getColor(o){return(o<1||o>=this._colors.length)&&(o=2),this._colors[o]}backgroundIsLight(){return this._backgroundIsLight}}return ut._INSTANCE=null,ut})();var to=e(91962);const Ms=(()=>{const ut=[];for(let t=32;t<=126;t++)ut.push(t);return ut.push(65533),ut})();var Gs=e(45129);class Po{constructor(t,o){this.scale=o,this._minimapCharRendererBrand=void 0,this.charDataNormal=Po.soften(t,.8),this.charDataLight=Po.soften(t,50/60)}static soften(t,o){const g=new Uint8ClampedArray(t.length);for(let O=0,H=t.length;O<H;O++)g[O]=(0,Gs.K)(t[O]*o);return g}renderChar(t,o,g,O,H,se,ve,je,qe,rt,yt){const kt=1*this.scale,Wt=2*this.scale,cn=yt?1:Wt;if(o+kt>t.width||g+cn>t.height)return void console.warn("bad render request outside image data");const _n=rt?this.charDataLight:this.charDataNormal,bn=((ut,t)=>(ut-=32)<0||ut>96?t<=2?(ut+96)%96:95:ut)(O,qe),Mn=4*t.width,Bn=ve.r,Hn=ve.g,ti=ve.b,gi=H.r-Bn,di=H.g-Hn,vi=H.b-ti,qn=Math.max(se,je),bi=t.data;let Ai=bn*kt*Wt,Ei=g*Mn+4*o;for(let Qi=0;Qi<cn;Qi++){let Zi=Ei;for(let oo=0;oo<kt;oo++){const Ui=_n[Ai++]/255*(se/255);bi[Zi++]=Bn+gi*Ui,bi[Zi++]=Hn+di*Ui,bi[Zi++]=ti+vi*Ui,bi[Zi++]=qn}Ei+=Mn}}blockRenderChar(t,o,g,O,H,se,ve,je){const qe=1*this.scale,yt=je?1:2*this.scale;if(o+qe>t.width||g+yt>t.height)return void console.warn("bad render request outside image data");const kt=4*t.width,Wt=H/255*.5,cn=se.r,_n=se.g,bn=se.b,ti=cn+(O.r-cn)*Wt,gi=_n+(O.g-_n)*Wt,di=bn+(O.b-bn)*Wt,vi=Math.max(H,ve),qn=t.data;let bi=g*kt+4*o;for(let Ai=0;Ai<yt;Ai++){let Ei=bi;for(let Qi=0;Qi<qe;Qi++)qn[Ei++]=ti,qn[Ei++]=gi,qn[Ei++]=di,qn[Ei++]=vi;bi+=kt}}}var Wo=e(52706);const Vo={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},es=ut=>{const t=new Uint8ClampedArray(ut.length/2);for(let o=0;o<ut.length;o+=2)t[o>>1]=Vo[ut[o]]<<4|15&Vo[ut[o+1]];return t},Ts={1:(0,Wo.I)(()=>es("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,Wo.I)(()=>es("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class ts{static create(t,o){if(this.lastCreated&&t===this.lastCreated.scale&&o===this.lastFontFamily)return this.lastCreated;let g;return g=Ts[t]?new Po(Ts[t](),t):ts.createFromSampleData(ts.createSampleData(o).data,t),this.lastFontFamily=o,this.lastCreated=g,g}static createSampleData(t){const o=document.createElement("canvas"),g=o.getContext("2d");o.style.height="16px",o.height=16,o.width=960,o.style.width="960px",g.fillStyle="#ffffff",g.font=`bold 16px ${t}`,g.textBaseline="middle";let O=0;for(const H of Ms)g.fillText(String.fromCharCode(H),O,8),O+=10;return g.getImageData(0,0,960,16)}static createFromSampleData(t,o){if(61440!==t.length)throw new Error("Unexpected source in MinimapCharRenderer");const O=ts._downsample(t,o);return new Po(O,o)}static _downsampleChar(t,o,g,O,H){const se=1*H,ve=2*H;let je=O,qe=0;for(let rt=0;rt<ve;rt++){const yt=rt/ve*16,kt=(rt+1)/ve*16;for(let Wt=0;Wt<se;Wt++){const cn=Wt/se*10,_n=(Wt+1)/se*10;let bn=0,Mn=0;for(let Hn=yt;Hn<kt;Hn++){const ti=o+3840*Math.floor(Hn),gi=1-(Hn-Math.floor(Hn));for(let di=cn;di<_n;di++){const vi=1-(di-Math.floor(di)),qn=ti+4*Math.floor(di),bi=vi*gi;Mn+=bi,bn+=t[qn]*t[qn+3]/255*bi}}const Bn=bn/Mn;qe=Math.max(qe,Bn),g[je++]=(0,Gs.K)(Bn)}}return qe}static _downsample(t,o){const g=2*o*1*o,O=96*g,H=new Uint8ClampedArray(O);let se=0,ve=0,je=0;for(let qe=0;qe<96;qe++)je=Math.max(je,this._downsampleChar(t,ve,H,se,o)),se+=g,ve+=40;if(je>0){const qe=255/je;for(let rt=0;rt<O;rt++)H[rt]*=qe}return H}}var Zo=e(32213);class Ho{constructor(t,o,g){const O=t.options,H=O.get(131),se=O.get(133),ve=se.minimap,je=O.get(46),qe=O.get(67);this.renderMinimap=ve.renderMinimap,this.size=qe.size,this.minimapHeightIsEditorHeight=ve.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=O.get(96),this.showSlider=qe.showSlider,this.autohide=qe.autohide,this.pixelRatio=H,this.typicalHalfwidthCharacterWidth=je.typicalHalfwidthCharacterWidth,this.lineHeight=O.get(61),this.minimapLeft=ve.minimapLeft,this.minimapWidth=ve.minimapWidth,this.minimapHeight=se.height,this.canvasInnerWidth=ve.minimapCanvasInnerWidth,this.canvasInnerHeight=ve.minimapCanvasInnerHeight,this.canvasOuterWidth=ve.minimapCanvasOuterWidth,this.canvasOuterHeight=ve.minimapCanvasOuterHeight,this.isSampling=ve.minimapIsSampling,this.editorHeight=se.height,this.fontScale=ve.minimapScale,this.minimapLineHeight=ve.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,Wo.I)(()=>ts.create(this.fontScale,je.fontFamily)),this.defaultBackgroundColor=g.getColor(2),this.backgroundColor=Ho._getMinimapBackground(o,this.defaultBackgroundColor),this.foregroundAlpha=Ho._getMinimapForegroundOpacity(o)}static _getMinimapBackground(t,o){const g=t.getColor(Re.kVY);return g?new ki(g.rgba.r,g.rgba.g,g.rgba.b,Math.round(255*g.rgba.a)):o}static _getMinimapForegroundOpacity(t){const o=t.getColor(Re.Itd);return o?ki._clamp(Math.round(255*o.rgba.a)):255}equals(t){return this.renderMinimap===t.renderMinimap&&this.size===t.size&&this.minimapHeightIsEditorHeight===t.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===t.scrollBeyondLastLine&&this.showSlider===t.showSlider&&this.autohide===t.autohide&&this.pixelRatio===t.pixelRatio&&this.typicalHalfwidthCharacterWidth===t.typicalHalfwidthCharacterWidth&&this.lineHeight===t.lineHeight&&this.minimapLeft===t.minimapLeft&&this.minimapWidth===t.minimapWidth&&this.minimapHeight===t.minimapHeight&&this.canvasInnerWidth===t.canvasInnerWidth&&this.canvasInnerHeight===t.canvasInnerHeight&&this.canvasOuterWidth===t.canvasOuterWidth&&this.canvasOuterHeight===t.canvasOuterHeight&&this.isSampling===t.isSampling&&this.editorHeight===t.editorHeight&&this.fontScale===t.fontScale&&this.minimapLineHeight===t.minimapLineHeight&&this.minimapCharWidth===t.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(t.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(t.backgroundColor)&&this.foregroundAlpha===t.foregroundAlpha}}class ss{constructor(t,o,g,O,H,se,ve,je){this.scrollTop=t,this.scrollHeight=o,this.sliderNeeded=g,this._computedSliderRatio=O,this.sliderTop=H,this.sliderHeight=se,this.startLineNumber=ve,this.endLineNumber=je}getDesiredScrollTopFromDelta(t){return Math.round(this.scrollTop+t/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(t){return Math.round((t-this.sliderHeight/2)/this._computedSliderRatio)}static create(t,o,g,O,H,se,ve,je,qe,rt,yt){const kt=t.pixelRatio,Wt=t.minimapLineHeight,cn=Math.floor(t.canvasInnerHeight/Wt),_n=t.lineHeight;if(t.minimapHeightIsEditorHeight){const di=Math.max(1,Math.floor(H*H/(je*t.lineHeight+(t.scrollBeyondLastLine?H-t.lineHeight:0)))),vi=Math.max(0,t.minimapHeight-di),qn=vi/(rt-H),bi=qe*qn,Ai=vi>0,Ei=Math.floor(t.canvasInnerHeight/t.minimapLineHeight);return new ss(qe,rt,Ai,qn,bi,di,1,Math.min(ve,Ei))}let bn,Mn;bn=se&&g!==ve?Math.floor((g-o+1)*Wt/kt):Math.floor(H/_n*Wt/kt),Mn=t.scrollBeyondLastLine?(ve-1)*Wt/kt:Math.max(0,ve*Wt/kt-bn),Mn=Math.min(t.minimapHeight-bn,Mn);const Bn=Mn/(rt-H),Hn=qe*Bn;let ti=0;if(t.scrollBeyondLastLine&&(ti=H/_n-1),cn>=ve+ti)return new ss(qe,rt,Mn>0,Bn,Hn,bn,1,ve);{let gi=Math.max(1,Math.floor(o-Hn*kt/Wt));yt&&yt.scrollHeight===rt&&(yt.scrollTop>qe&&(gi=Math.min(gi,yt.startLineNumber)),yt.scrollTop<qe&&(gi=Math.max(gi,yt.startLineNumber)));const di=Math.min(ve,gi+cn-1);return new ss(qe,rt,!0,Bn,(o-gi+(qe-O)/_n)*Wt/kt,bn,gi,di)}}}class Uo{constructor(t){this.dy=t}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}Uo.INVALID=new Uo(-1);class Qs{constructor(t,o,g){this.renderedLayout=t,this._imageData=o,this._renderedLines=new Ot(()=>Uo.INVALID),this._renderedLines._set(t.startLineNumber,g)}linesEquals(t){if(!this.scrollEquals(t))return!1;const g=this._renderedLines._get().lines;for(let O=0,H=g.length;O<H;O++)if(-1===g[O].dy)return!1;return!0}scrollEquals(t){return this.renderedLayout.startLineNumber===t.startLineNumber&&this.renderedLayout.endLineNumber===t.endLineNumber}_get(){const t=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:t.rendLineNumberStart,lines:t.lines}}onLinesChanged(t,o){return this._renderedLines.onLinesChanged(t,o)}onLinesDeleted(t,o){this._renderedLines.onLinesDeleted(t,o)}onLinesInserted(t,o){this._renderedLines.onLinesInserted(t,o)}onTokensChanged(t){return this._renderedLines.onTokensChanged(t)}}class gs{constructor(t,o,g,O){this._backgroundFillData=gs._createBackgroundFillData(o,g,O),this._buffers=[t.createImageData(o,g),t.createImageData(o,g)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const t=this._buffers[this._lastUsedBuffer];return t.data.set(this._backgroundFillData),t}static _createBackgroundFillData(t,o,g){const O=g.r,H=g.g,se=g.b,ve=g.a,je=new Uint8ClampedArray(t*o*4);let qe=0;for(let rt=0;rt<o;rt++)for(let yt=0;yt<t;yt++)je[qe]=O,je[qe+1]=H,je[qe+2]=se,je[qe+3]=ve,qe+=4;return je}}class Qo{constructor(t,o){this.samplingRatio=t,this.minimapLines=o}static compute(t,o,g){if(0===t.renderMinimap||!t.isSampling)return[null,[]];const O=t.pixelRatio,H=t.lineHeight,se=t.scrollBeyondLastLine,{minimapLineCount:ve}=fe.gk.computeContainedMinimapLineCount({viewLineCount:o,scrollBeyondLastLine:se,height:t.editorHeight,lineHeight:H,pixelRatio:O}),je=o/ve,qe=je/2;if(!g||0===g.minimapLines.length){const Hn=[];if(Hn[0]=1,ve>1){for(let ti=0,gi=ve-1;ti<gi;ti++)Hn[ti]=Math.round(ti*je+qe);Hn[ve-1]=o}return[new Qo(je,Hn),[]]}const rt=g.minimapLines,yt=rt.length,kt=[];let Wt=0,cn=0,_n=1,Mn=[],Bn=null;for(let Hn=0;Hn<ve;Hn++){const ti=Math.max(_n,Math.round(Hn*je)),gi=Math.max(ti,Math.round((Hn+1)*je));for(;Wt<yt&&rt[Wt]<ti;){if(Mn.length<10){const vi=Wt+1+cn;Bn&&"deleted"===Bn.type&&Bn._oldIndex===Wt-1?Bn.deleteToLineNumber++:(Bn={type:"deleted",_oldIndex:Wt,deleteFromLineNumber:vi,deleteToLineNumber:vi},Mn.push(Bn)),cn--}Wt++}let di;if(Wt<yt&&rt[Wt]<=gi)di=rt[Wt],Wt++;else if(di=0===Hn?1:Hn+1===ve?o:Math.round(Hn*je+qe),Mn.length<10){const vi=Wt+1+cn;Bn&&"inserted"===Bn.type&&Bn._i===Hn-1?Bn.insertToLineNumber++:(Bn={type:"inserted",_i:Hn,insertFromLineNumber:vi,insertToLineNumber:vi},Mn.push(Bn)),cn++}kt[Hn]=di,_n=di}if(Mn.length<10)for(;Wt<yt;){const Hn=Wt+1+cn;Bn&&"deleted"===Bn.type&&Bn._oldIndex===Wt-1?Bn.deleteToLineNumber++:(Bn={type:"deleted",_oldIndex:Wt,deleteFromLineNumber:Hn,deleteToLineNumber:Hn},Mn.push(Bn)),cn--,Wt++}else Mn=[{type:"flush"}];return[new Qo(je,kt),Mn]}modelLineToMinimapLine(t){return Math.min(this.minimapLines.length,Math.max(1,Math.round(t/this.samplingRatio)))}modelLineRangeToMinimapLineRange(t,o){let g=this.modelLineToMinimapLine(t)-1;for(;g>0&&this.minimapLines[g-1]>=t;)g--;let O=this.modelLineToMinimapLine(o)-1;for(;O+1<this.minimapLines.length&&this.minimapLines[O+1]<=o;)O++;if(g===O){const H=this.minimapLines[g];if(H<t||H>o)return null}return[g+1,O+1]}decorationLineRangeToMinimapLineRange(t,o){let g=this.modelLineToMinimapLine(t),O=this.modelLineToMinimapLine(o);return t!==o&&O===g&&(O===this.minimapLines.length?g>1&&g--:O++),[g,O]}onLinesDeleted(t){const o=t.toLineNumber-t.fromLineNumber+1;let g=this.minimapLines.length,O=0;for(let H=this.minimapLines.length-1;H>=0&&!(this.minimapLines[H]<t.fromLineNumber);H--)this.minimapLines[H]<=t.toLineNumber?(this.minimapLines[H]=Math.max(1,t.fromLineNumber-1),g=Math.min(g,H),O=Math.max(O,H)):this.minimapLines[H]-=o;return[g,O]}onLinesInserted(t){const o=t.toLineNumber-t.fromLineNumber+1;for(let g=this.minimapLines.length-1;g>=0&&!(this.minimapLines[g]<t.fromLineNumber);g--)this.minimapLines[g]+=o}}class br extends Oe{constructor(t){super(t),this.tokensColorTracker=fo.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new Ho(this._context.configuration,this._context.theme,this.tokensColorTracker);const[o]=Qo.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=o,this._shouldCheckSampling=!1,this._actual=new rs(t.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const t=new Ho(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(t)&&(this.options=t,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(t){return this._onOptionsMaybeChanged()}onCursorStateChanged(t){return this._selections=t.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(t){return!!t.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(t){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(t){if(this._samplingState){const o=this._samplingState.modelLineRangeToMinimapLineRange(t.fromLineNumber,t.fromLineNumber+t.count-1);return!!o&&this._actual.onLinesChanged(o[0],o[1]-o[0]+1)}return this._actual.onLinesChanged(t.fromLineNumber,t.count)}onLinesDeleted(t){if(this._samplingState){const[o,g]=this._samplingState.onLinesDeleted(t);return o<=g&&this._actual.onLinesChanged(o+1,g-o+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(t.fromLineNumber,t.toLineNumber)}onLinesInserted(t){return this._samplingState?(this._samplingState.onLinesInserted(t),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(t.fromLineNumber,t.toLineNumber)}onScrollChanged(t){return this._actual.onScrollChanged()}onThemeChanged(t){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(t){if(this._samplingState){const o=[];for(const g of t.ranges){const O=this._samplingState.modelLineRangeToMinimapLineRange(g.fromLineNumber,g.toLineNumber);O&&o.push({fromLineNumber:O[0],toLineNumber:O[1]})}return!!o.length&&this._actual.onTokensChanged(o)}return this._actual.onTokensChanged(t.ranges)}onTokensColorsChanged(t){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(t){return this._actual.onZonesChanged()}prepareRender(t){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(t){let o=t.visibleRange.startLineNumber,g=t.visibleRange.endLineNumber;this._samplingState&&(o=this._samplingState.modelLineToMinimapLine(o),g=this._samplingState.modelLineToMinimapLine(g));const O={viewportContainsWhitespaceGaps:t.viewportData.whitespaceViewportData.length>0,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,viewportStartLineNumber:o,viewportEndLineNumber:g,viewportStartLineNumberVerticalOffset:t.getVerticalOffsetForLineNumber(o),scrollTop:t.scrollTop,scrollLeft:t.scrollLeft,viewportWidth:t.viewportWidth,viewportHeight:t.viewportHeight};this._actual.render(O)}_recreateLineSampling(){this._minimapSelections=null;const t=Boolean(this._samplingState),[o,g]=Qo.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=o,t&&this._samplingState)for(const O of g)switch(O.type){case"deleted":this._actual.onLinesDeleted(O.deleteFromLineNumber,O.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(O.insertFromLineNumber,O.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(t){return this._context.viewModel.getLineContent(this._samplingState?this._samplingState.minimapLines[t-1]:t)}getLineMaxColumn(t){return this._context.viewModel.getLineMaxColumn(this._samplingState?this._samplingState.minimapLines[t-1]:t)}getMinimapLinesRenderingData(t,o,g){if(this._samplingState){const O=[];for(let H=0,se=o-t+1;H<se;H++)O[H]=g[H]?this._context.viewModel.getViewLineData(this._samplingState.minimapLines[t+H-1]):null;return O}return this._context.viewModel.getMinimapLinesRenderingData(t,o,g).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const t of this._selections){const[o,g]=this._samplingState.decorationLineRangeToMinimapLineRange(t.startLineNumber,t.endLineNumber);this._minimapSelections.push(new ye.Y(o,t.startColumn,g,t.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(t,o){let g;if(this._samplingState){const se=this._samplingState.minimapLines[o-1];g=new Fe.e(this._samplingState.minimapLines[t-1],1,se,this._context.viewModel.getLineMaxColumn(se))}else g=new Fe.e(t,1,o,this._context.viewModel.getLineMaxColumn(o));const O=this._context.viewModel.getDecorationsInViewport(g);if(this._samplingState){const H=[];for(const se of O){if(!se.options.minimap)continue;const ve=se.range,je=this._samplingState.modelLineToMinimapLine(ve.startLineNumber),qe=this._samplingState.modelLineToMinimapLine(ve.endLineNumber);H.push(new to.$l(new Fe.e(je,ve.startColumn,qe,ve.endColumn),se.options))}return H}return O}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(t){this._samplingState&&(t=this._samplingState.minimapLines[t-1]),this._context.viewModel.revealRange("mouse",!1,new Fe.e(t,1,t,1),1,0)}setScrollTop(t){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:t},1)}}class rs extends Q.JT{constructor(t,o){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=t,this._model=o,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(Re.ov3),this._domNode=(0,_e.X)(document.createElement("div")),Ne.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,_e.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,_e.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,_e.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,_e.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,_e.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=x.mu(this._domNode.domNode,x.tw.POINTER_DOWN,g=>{if(g.preventDefault(),0===this._model.options.renderMinimap||!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(0===g.button&&this._lastRenderData){const qe=x.i(this._slider.domNode);this._startSliderDragging(g,qe.top+qe.height/2,this._lastRenderData.renderedLayout)}return}let je=Math.floor(this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*g.offsetY/this._model.options.minimapLineHeight)+this._lastRenderData.renderedLayout.startLineNumber;je=Math.min(je,this._model.getLineCount()),this._model.revealLineNumber(je)}),this._sliderPointerMoveMonitor=new Ri.C,this._sliderPointerDownListener=x.mu(this._slider.domNode,x.tw.POINTER_DOWN,g=>{g.preventDefault(),g.stopPropagation(),0===g.button&&this._lastRenderData&&this._startSliderDragging(g,g.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=Be.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=x.nm(this._domNode.domNode,Be.t.Start,g=>{g.preventDefault(),g.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(g))},{passive:!1}),this._sliderTouchMoveListener=x.nm(this._domNode.domNode,Be.t.Change,g=>{g.preventDefault(),g.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(g)},{passive:!1}),this._sliderTouchEndListener=x.mu(this._domNode.domNode,Be.t.End,g=>{g.preventDefault(),g.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(t,o,g){if(!(t.target&&t.target instanceof Element))return;const O=t.pageX;this._slider.toggleClassName("active",!0);const H=(se,ve)=>{const je=Math.abs(ve-O);this._model.setScrollTop(B.ED&&je>140?g.scrollTop:g.getDesiredScrollTopFromDelta(se-o))};t.pageY!==o&&H(t.pageY,O),this._sliderPointerMoveMonitor.startMonitoring(t.target,t.pointerId,t.buttons,se=>H(se.pageY,se.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(t){const o=this._domNode.domNode.getBoundingClientRect().top,g=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(t.pageY-o);this._model.setScrollTop(g)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const t=["minimap"];return t.push("always"===this._model.options.showSlider?"slider-always":"slider-mouseover"),this._model.options.autohide&&t.push("autohide"),t.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new gs(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(t,o){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(t,o)}onLinesDeleted(t,o){var g;return null===(g=this._lastRenderData)||void 0===g||g.onLinesDeleted(t,o),!0}onLinesInserted(t,o){var g;return null===(g=this._lastRenderData)||void 0===g||g.onLinesInserted(t,o),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(Re.ov3),this._renderDecorations=!0,!0}onTokensChanged(t){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(t)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(t){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);this._shadow.setClassName(t.scrollLeft+t.viewportWidth>=t.scrollWidth?"minimap-shadow-hidden":"minimap-shadow-visible");const g=ss.create(this._model.options,t.viewportStartLineNumber,t.viewportEndLineNumber,t.viewportStartLineNumberVerticalOffset,t.viewportHeight,t.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),t.scrollTop,t.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(g.sliderNeeded?"block":"none"),this._slider.setTop(g.sliderTop),this._slider.setHeight(g.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(g.sliderHeight),this.renderDecorations(g),this._lastRenderData=this.renderLines(g)}renderDecorations(t){if(this._renderDecorations){this._renderDecorations=!1;const o=this._model.getSelections();o.sort(Fe.e.compareRangesUsingStarts);const g=this._model.getMinimapDecorationsInViewport(t.startLineNumber,t.endLineNumber);g.sort((kt,Wt)=>(kt.options.zIndex||0)-(Wt.options.zIndex||0));const{canvasInnerWidth:O,canvasInnerHeight:H}=this._model.options,se=this._model.options.minimapLineHeight,ve=this._model.options.minimapCharWidth,je=this._model.getOptions().tabSize,qe=this._decorationsCanvas.domNode.getContext("2d");qe.clearRect(0,0,O,H);const rt=new ms(t.startLineNumber,t.endLineNumber,!1);this._renderSelectionLineHighlights(qe,o,rt,t,se),this._renderDecorationsLineHighlights(qe,g,rt,t,se);const yt=new ms(t.startLineNumber,t.endLineNumber,null);this._renderSelectionsHighlights(qe,o,yt,t,se,je,ve,O),this._renderDecorationsHighlights(qe,g,yt,t,se,je,ve,O)}}_renderSelectionLineHighlights(t,o,g,O,H){if(!this._selectionColor||this._selectionColor.isTransparent())return;t.fillStyle=this._selectionColor.transparent(.5).toString();let se=0,ve=0;for(const je of o){const qe=Math.max(O.startLineNumber,je.startLineNumber),rt=Math.min(O.endLineNumber,je.endLineNumber);if(qe>rt)continue;for(let Wt=qe;Wt<=rt;Wt++)g.set(Wt,!0);const yt=(qe-O.startLineNumber)*H,kt=(rt-O.startLineNumber)*H+H;ve>=yt||(ve>se&&t.fillRect(fe.y0,se,t.canvas.width,ve-se),se=yt),ve=kt}ve>se&&t.fillRect(fe.y0,se,t.canvas.width,ve-se)}_renderDecorationsLineHighlights(t,o,g,O,H){const se=new Map;for(let ve=o.length-1;ve>=0;ve--){const je=o[ve],qe=je.options.minimap;if(!qe||qe.position!==Zo.F5.Inline)continue;const rt=Math.max(O.startLineNumber,je.range.startLineNumber),yt=Math.min(O.endLineNumber,je.range.endLineNumber);if(rt>yt)continue;const kt=qe.getColor(this._theme.value);if(!kt||kt.isTransparent())continue;let Wt=se.get(kt.toString());Wt||(Wt=kt.transparent(.5).toString(),se.set(kt.toString(),Wt)),t.fillStyle=Wt;for(let cn=rt;cn<=yt;cn++)g.has(cn)||(g.set(cn,!0),t.fillRect(fe.y0,(rt-O.startLineNumber)*H,t.canvas.width,H))}}_renderSelectionsHighlights(t,o,g,O,H,se,ve,je){if(this._selectionColor&&!this._selectionColor.isTransparent())for(const qe of o){const rt=Math.max(O.startLineNumber,qe.startLineNumber),yt=Math.min(O.endLineNumber,qe.endLineNumber);if(!(rt>yt))for(let kt=rt;kt<=yt;kt++)this.renderDecorationOnLine(t,g,qe,this._selectionColor,O,kt,H,H,se,ve,je)}}_renderDecorationsHighlights(t,o,g,O,H,se,ve,je){for(const qe of o){const rt=qe.options.minimap;if(!rt)continue;const yt=Math.max(O.startLineNumber,qe.range.startLineNumber),kt=Math.min(O.endLineNumber,qe.range.endLineNumber);if(yt>kt)continue;const Wt=rt.getColor(this._theme.value);if(Wt&&!Wt.isTransparent())for(let cn=yt;cn<=kt;cn++)switch(rt.position){case Zo.F5.Inline:this.renderDecorationOnLine(t,g,qe.range,Wt,O,cn,H,H,se,ve,je);continue;case Zo.F5.Gutter:this.renderDecoration(t,Wt,2,(cn-O.startLineNumber)*H,2,H);continue}}}renderDecorationOnLine(t,o,g,O,H,se,ve,je,qe,rt,yt){const kt=(se-H.startLineNumber)*je;if(kt+ve<0||kt>this._model.options.canvasInnerHeight)return;const{startLineNumber:Wt,endLineNumber:cn}=g,_n=Wt===se?g.startColumn:1,bn=cn===se?g.endColumn:this._model.getLineMaxColumn(se),Mn=this.getXOffsetForPosition(o,se,_n,qe,rt,yt),Bn=this.getXOffsetForPosition(o,se,bn,qe,rt,yt);this.renderDecoration(t,O,Mn,kt,Bn-Mn,ve)}getXOffsetForPosition(t,o,g,O,H,se){if(1===g)return fe.y0;if((g-1)*H>=se)return se;let je=t.get(o);if(!je){const qe=this._model.getLineContent(o);je=[fe.y0];let rt=fe.y0;for(let yt=1;yt<qe.length+1;yt++){const kt=qe.charCodeAt(yt-1),cn=rt+(9===kt?O*H:pt.K7(kt)?2*H:H);if(cn>=se){je[yt]=se;break}je[yt]=cn,rt=cn}t.set(o,je)}return g-1<je.length?je[g-1]:se}renderDecoration(t,o,g,O,H,se){t.fillStyle=o&&o.toString()||"",t.fillRect(g,O,H,se)}renderLines(t){const o=t.startLineNumber,g=t.endLineNumber,O=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(t)){const Ui=this._lastRenderData._get();return new Qs(t,Ui.imageData,Ui.lines)}const H=this._getBuffer();if(!H)return null;const[se,ve,je]=rs._renderUntouchedLines(H,o,g,O,this._lastRenderData),qe=this._model.getMinimapLinesRenderingData(o,g,je),rt=this._model.getOptions().tabSize,yt=this._model.options.defaultBackgroundColor,kt=this._model.options.backgroundColor,Wt=this._model.options.foregroundAlpha,cn=this._model.tokensColorTracker,_n=cn.backgroundIsLight(),bn=this._model.options.renderMinimap,Mn=this._model.options.charRenderer(),Bn=this._model.options.fontScale,Hn=this._model.options.minimapCharWidth,gi=(1===bn?2:3)*Bn,di=O>gi?Math.floor((O-gi)/2):0,vi=kt.a/255,qn=new ki(Math.round((kt.r-yt.r)*vi+yt.r),Math.round((kt.g-yt.g)*vi+yt.g),Math.round((kt.b-yt.b)*vi+yt.b),255);let bi=0;const Ai=[];for(let Ui=0,lo=g-o+1;Ui<lo;Ui++)je[Ui]&&rs._renderLine(H,qn,kt.a,_n,bn,Hn,cn,Wt,Mn,bi,di,rt,qe[Ui],Bn,O),Ai[Ui]=new Uo(bi),bi+=O;const Ei=-1===se?0:se,Zi=(-1===ve?H.height:ve)-Ei;return this._canvas.domNode.getContext("2d").putImageData(H,0,0,0,Ei,H.width,Zi),new Qs(t,H,Ai)}static _renderUntouchedLines(t,o,g,O,H){const se=[];if(!H){for(let qn=0,bi=g-o+1;qn<bi;qn++)se[qn]=!0;return[-1,-1,se]}const ve=H._get(),je=ve.imageData.data,qe=ve.rendLineNumberStart,rt=ve.lines,yt=rt.length,kt=t.width,Wt=t.data,cn=(g-o+1)*O*kt*4;let _n=-1,bn=-1,Mn=-1,Bn=-1,Hn=-1,ti=-1,gi=0;for(let qn=o;qn<=g;qn++){const bi=qn-o,Ai=qn-qe,Ei=Ai>=0&&Ai<yt?rt[Ai].dy:-1;if(-1===Ei){se[bi]=!0,gi+=O;continue}const Qi=Ei*kt*4,Zi=(Ei+O)*kt*4,oo=gi*kt*4,Ui=(gi+O)*kt*4;Bn===Qi&&ti===oo?(Bn=Zi,ti=Ui):(-1!==Mn&&(Wt.set(je.subarray(Mn,Bn),Hn),-1===_n&&0===Mn&&Mn===Hn&&(_n=Bn),-1===bn&&Bn===cn&&Mn===Hn&&(bn=Mn)),Mn=Qi,Bn=Zi,Hn=oo,ti=Ui),se[bi]=!1,gi+=O}return-1!==Mn&&(Wt.set(je.subarray(Mn,Bn),Hn),-1===_n&&0===Mn&&Mn===Hn&&(_n=Bn),-1===bn&&Bn===cn&&Mn===Hn&&(bn=Mn)),[-1===_n?-1:_n/(4*kt),-1===bn?-1:bn/(4*kt),se]}static _renderLine(t,o,g,O,H,se,ve,je,qe,rt,yt,kt,Wt,cn,_n){const bn=Wt.content,Mn=Wt.tokens,Bn=t.width-se,Hn=1===_n;let ti=fe.y0,gi=0,di=0;for(let vi=0,qn=Mn.getCount();vi<qn;vi++){const bi=Mn.getEndOffset(vi),Ai=Mn.getForeground(vi),Ei=ve.getColor(Ai);for(;gi<bi;gi++){if(ti>Bn)return;const Qi=bn.charCodeAt(gi);if(9===Qi){const Zi=kt-(gi+di)%kt;di+=Zi-1,ti+=Zi*se}else if(32===Qi)ti+=se;else{const Zi=pt.K7(Qi)?2:1;for(let oo=0;oo<Zi;oo++)if(2===H?qe.blockRenderChar(t,ti,rt+yt,Ei,je,o,g,Hn):qe.renderChar(t,ti,rt+yt,Qi,Ei,je,o,g,cn,O,Hn),ti+=se,ti>Bn)return}}}}}class ms{constructor(t,o,g){this._startLineNumber=t,this._endLineNumber=o,this._defaultValue=g,this._values=[];for(let O=0,H=this._endLineNumber-this._startLineNumber+1;O<H;O++)this._values[O]=g}has(t){return this.get(t)!==this._defaultValue}set(t,o){t<this._startLineNumber||t>this._endLineNumber||(this._values[t-this._startLineNumber]=o)}get(t){return t<this._startLineNumber||t>this._endLineNumber?this._defaultValue:this._values[t-this._startLineNumber]}}(0,An.Ic)((ut,t)=>{const o=ut.getColor(Re.CA6);o&&t.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${o}; }`);const g=ut.getColor(Re.Xy4);g&&t.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${g}; }`);const O=ut.getColor(Re.brw);O&&t.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${O}; }`);const H=ut.getColor(Re._wn);H&&t.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${H} -6px 0 6px -6px inset; }`)});var As=e(59822),Oo={};Oo.styleTagTransform=d(),Oo.setAttributes=c(),Oo.insert=a().bind(null,"head"),Oo.domAPI=N(),Oo.insertStyleElement=l(),A()(As.Z,Oo);class xo extends Oe{constructor(t){super(t);const g=this._context.configuration.options.get(133);this._widgets={},this._verticalScrollbarWidth=g.verticalScrollbarWidth,this._minimapWidth=g.minimap.minimapWidth,this._horizontalScrollbarHeight=g.horizontalScrollbarHeight,this._editorHeight=g.height,this._editorWidth=g.width,this._domNode=(0,_e.X)(document.createElement("div")),Ne.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(t){const g=this._context.configuration.options.get(133);return this._verticalScrollbarWidth=g.verticalScrollbarWidth,this._minimapWidth=g.minimap.minimapWidth,this._horizontalScrollbarHeight=g.horizontalScrollbarHeight,this._editorHeight=g.height,this._editorWidth=g.width,!0}addWidget(t){const o=(0,_e.X)(t.getDomNode());this._widgets[t.getId()]={widget:t,preference:null,domNode:o},o.setPosition("absolute"),o.setAttribute("widgetId",t.getId()),this._domNode.appendChild(o),this.setShouldRender()}setWidgetPosition(t,o){const g=this._widgets[t.getId()];return g.preference!==o&&(g.preference=o,this.setShouldRender(),!0)}removeWidget(t){const o=t.getId();if(this._widgets.hasOwnProperty(o)){const O=this._widgets[o].domNode.domNode;delete this._widgets[o],O.parentNode.removeChild(O),this.setShouldRender()}}_renderWidget(t){const o=t.domNode;null!==t.preference?0===t.preference?(o.setTop(0),o.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):1===t.preference?(o.setTop(this._editorHeight-o.domNode.clientHeight-2*this._horizontalScrollbarHeight),o.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):2===t.preference&&(o.setTop(0),o.domNode.style.right="50%"):o.setTop("")}prepareRender(t){}render(t){this._domNode.setWidth(this._editorWidth);const o=Object.keys(this._widgets);for(let g=0,O=o.length;g<O;g++)this._renderWidget(this._widgets[o[g]])}}class go{constructor(t,o){const g=t.options;this.lineHeight=g.get(61),this.pixelRatio=g.get(131),this.overviewRulerLanes=g.get(76),this.renderBorder=g.get(75);const O=o.getColor(kn.zw);this.borderColor=O?O.toString():null,this.hideCursor=g.get(54);const H=o.getColor(kn.n0);this.cursorColor=H?H.transparent(.7).toString():null,this.themeType=o.type;const se=g.get(67),ve=se.enabled,je=se.side,qe=o.getColor(kn.e_),rt=xi.RW.getDefaultBackground();let yt=null;void 0!==qe?yt=qe:ve&&(yt=rt),this.backgroundColor=null===yt||"left"===je?null:Li.Il.Format.CSS.formatHex(yt);const Wt=g.get(133).overviewRuler;this.top=Wt.top,this.right=Wt.right,this.domWidth=Wt.width,this.domHeight=Wt.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[cn,_n]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=cn,this.w=_n}_initLanes(t,o,g){const O=o-t;if(g>=3){const H=Math.floor(O/3),se=Math.floor(O/3),ve=O-H-se,qe=t+H;return[[0,t,qe,t,t+H+ve,t,qe,t],[0,H,ve,H+ve,se,H+ve+se,ve+se,H+ve+se]]}if(2===g){const H=Math.floor(O/2),se=O-H;return[[0,t,t,t,t+H,t,t,t],[0,H,H,H,se,H+se,H+se,H+se]]}return[[0,t,t,t,t,t,t,t],[0,O,O,O,O,O,O,O]]}equals(t){return this.lineHeight===t.lineHeight&&this.pixelRatio===t.pixelRatio&&this.overviewRulerLanes===t.overviewRulerLanes&&this.renderBorder===t.renderBorder&&this.borderColor===t.borderColor&&this.hideCursor===t.hideCursor&&this.cursorColor===t.cursorColor&&this.themeType===t.themeType&&this.backgroundColor===t.backgroundColor&&this.top===t.top&&this.right===t.right&&this.domWidth===t.domWidth&&this.domHeight===t.domHeight&&this.canvasWidth===t.canvasWidth&&this.canvasHeight===t.canvasHeight}}class _i extends Oe{constructor(t){super(t),this._domNode=(0,_e.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=xi.RW.onDidChange(o=>{o.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(t){const o=new go(this._context.configuration,this._context.theme);return!(this._settings&&this._settings.equals(o)||(this._settings=o,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,t&&this._render(),0))}onConfigurationChanged(t){return this._updateSettings(!1)}onCursorStateChanged(t){this._cursorPositions=[];for(let o=0,g=t.selections.length;o<g;o++)this._cursorPositions[o]=t.selections[o].getPosition();return this._cursorPositions.sort(Ee.L.compare),!0}onDecorationsChanged(t){return!!t.affectsOverviewRuler}onFlushed(t){return!0}onScrollChanged(t){return t.scrollHeightChanged}onZonesChanged(t){return!0}onThemeChanged(t){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(t){}render(t){this._render()}_render(){if(0===this._settings.overviewRulerLanes)return this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),void this._domNode.setDisplay("none");this._domNode.setDisplay("block");const t=this._settings.canvasWidth,o=this._settings.canvasHeight,g=this._settings.lineHeight,O=this._context.viewLayout,se=o/this._context.viewLayout.getScrollHeight(),ve=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),je=6*this._settings.pixelRatio|0,qe=je/2|0,rt=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?rt.clearRect(0,0,t,o):(rt.fillStyle=this._settings.backgroundColor,rt.fillRect(0,0,t,o));const yt=this._settings.x,kt=this._settings.w;ve.sort(to.SQ.cmp);for(const Wt of ve){const _n=Wt.data;rt.fillStyle=Wt.color;let bn=0,Mn=0,Bn=0;for(let Hn=0,ti=_n.length/3;Hn<ti;Hn++){const gi=_n[3*Hn],vi=_n[3*Hn+2];let qn=O.getVerticalOffsetForLineNumber(_n[3*Hn+1])*se|0,bi=(O.getVerticalOffsetForLineNumber(vi)+g)*se|0;if(bi-qn<je){let Ei=(qn+bi)/2|0;Ei<qe?Ei=qe:Ei+qe>o&&(Ei=o-qe),qn=Ei-qe,bi=Ei+qe}qn>Bn+1||gi!==bn?(0!==Hn&&rt.fillRect(yt[bn],Mn,kt[bn],Bn-Mn),bn=gi,Mn=qn,Bn=bi):bi>Bn&&(Bn=bi)}rt.fillRect(yt[bn],Mn,kt[bn],Bn-Mn)}if(!this._settings.hideCursor&&this._settings.cursorColor){const Wt=2*this._settings.pixelRatio|0,cn=Wt/2|0,_n=this._settings.x[7],bn=this._settings.w[7];rt.fillStyle=this._settings.cursorColor;let Mn=-100,Bn=-100;for(let Hn=0,ti=this._cursorPositions.length;Hn<ti;Hn++){let di=O.getVerticalOffsetForLineNumber(this._cursorPositions[Hn].lineNumber)*se|0;di<cn?di=cn:di+cn>o&&(di=o-cn);const vi=di-cn,qn=vi+Wt;vi>Bn+1?(0!==Hn&&rt.fillRect(_n,Mn,bn,Bn-Mn),Mn=vi,Bn=qn):qn>Bn&&(Bn=qn)}rt.fillRect(_n,Mn,bn,Bn-Mn)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(rt.beginPath(),rt.lineWidth=1,rt.strokeStyle=this._settings.borderColor,rt.moveTo(0,0),rt.lineTo(0,o),rt.stroke(),rt.moveTo(0,0),rt.lineTo(t,0),rt.stroke())}}var Ys=e(13772);class Ro extends De{constructor(t,o){super(),this._context=t;const g=this._context.configuration.options;this._domNode=(0,_e.X)(document.createElement("canvas")),this._domNode.setClassName(o),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new Ys.Tj(O=>this._context.viewLayout.getVerticalOffsetForLineNumber(O)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(g.get(61)),this._zoneManager.setPixelRatio(g.get(131)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(t){const o=this._context.configuration.options;return t.hasChanged(61)&&(this._zoneManager.setLineHeight(o.get(61)),this._render()),t.hasChanged(131)&&(this._zoneManager.setPixelRatio(o.get(131)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(t){return this._render(),!0}onScrollChanged(t){return t.scrollHeightChanged&&(this._zoneManager.setOuterHeight(t.scrollHeight),this._render()),!0}onZonesChanged(t){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(t){this._domNode.setTop(t.top),this._domNode.setRight(t.right);let o=!1;o=this._zoneManager.setDOMWidth(t.width)||o,o=this._zoneManager.setDOMHeight(t.height)||o,o&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(t){this._zoneManager.setZones(t),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const t=this._zoneManager.getCanvasWidth(),o=this._zoneManager.getCanvasHeight(),g=this._zoneManager.resolveColorZones(),O=this._zoneManager.getId2Color(),H=this._domNode.domNode.getContext("2d");return H.clearRect(0,0,t,o),g.length>0&&this._renderOneLane(H,g,O,t),!0}_renderOneLane(t,o,g,O){let H=0,se=0,ve=0;for(const je of o){const qe=je.colorId,rt=je.from,yt=je.to;qe!==H?(t.fillRect(0,se,O,ve-se),H=qe,t.fillStyle=g[H],se=rt,ve=yt):ve>=rt?ve=Math.max(ve,yt):(t.fillRect(0,se,O,ve-se),se=rt,ve=yt)}t.fillRect(0,se,O,ve-se)}}var Mo=e(29443),Co={};Co.styleTagTransform=d(),Co.setAttributes=c(),Co.insert=a().bind(null,"head"),Co.domAPI=N(),Co.insertStyleElement=l(),A()(Mo.Z,Co);class Xs extends Oe{constructor(t){super(t),this.domNode=(0,_e.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const o=this._context.configuration.options;this._rulers=o.get(93),this._typicalHalfwidthCharacterWidth=o.get(46).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(t){const o=this._context.configuration.options;return this._rulers=o.get(93),this._typicalHalfwidthCharacterWidth=o.get(46).typicalHalfwidthCharacterWidth,!0}onScrollChanged(t){return t.scrollHeightChanged}prepareRender(t){}_ensureRulersCount(){const t=this._renderedRulers.length,o=this._rulers.length;if(t===o)return;if(t<o){const{tabSize:O}=this._context.viewModel.model.getOptions(),H=O;let se=o-t;for(;se>0;){const ve=(0,_e.X)(document.createElement("div"));ve.setClassName("view-ruler"),ve.setWidth(H),this.domNode.appendChild(ve),this._renderedRulers.push(ve),se--}return}let g=t-o;for(;g>0;){const O=this._renderedRulers.pop();this.domNode.removeChild(O),g--}}render(t){this._ensureRulersCount();for(let o=0,g=this._rulers.length;o<g;o++){const O=this._renderedRulers[o],H=this._rulers[o];O.setBoxShadow(H.color?`1px 0 0 0 ${H.color} inset`:""),O.setHeight(Math.min(t.scrollHeight,1e6)),O.setLeft(H.column*this._typicalHalfwidthCharacterWidth)}}}(0,An.Ic)((ut,t)=>{const o=ut.getColor(kn.zk);o&&t.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${o} inset; }`)});var Ii=e(39649),Fi={};Fi.styleTagTransform=d(),Fi.setAttributes=c(),Fi.insert=a().bind(null,"head"),Fi.domAPI=N(),Fi.insertStyleElement=l(),A()(Ii.Z,Fi);class vo extends Oe{constructor(t){super(t),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const g=this._context.configuration.options.get(94);this._useShadows=g.useShadows,this._domNode=(0,_e.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const t=this._useShadows&&this._scrollTop>0;return this._shouldShow!==t&&(this._shouldShow=t,!0)}getDomNode(){return this._domNode}_updateWidth(){const o=this._context.configuration.options.get(133);this._width=0===o.minimap.renderMinimap||o.minimap.minimapWidth>0&&0===o.minimap.minimapLeft?o.width:o.width-o.verticalScrollbarWidth}onConfigurationChanged(t){const g=this._context.configuration.options.get(94);return this._useShadows=g.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(t){return this._scrollTop=t.scrollTop,this._updateShouldShow()}prepareRender(t){}render(t){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}(0,An.Ic)((ut,t)=>{const o=ut.getColor(Re._wn);o&&t.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${o} 0 6px 6px -6px inset; }`)});var ao=e(52595),uo={};uo.styleTagTransform=d(),uo.setAttributes=c(),uo.insert=a().bind(null,"head"),uo.domAPI=N(),uo.insertStyleElement=l(),A()(ao.Z,uo);class ha{constructor(t){this.left=t.left,this.width=t.width,this.startStyle=null,this.endStyle=null}}class ua{constructor(t,o){this.lineNumber=t,this.ranges=o}}function fa(ut){return new ha(ut)}function qa(ut){return new ua(ut.lineNumber,ut.ranges.map(fa))}let el=(()=>{class ut extends Tn{constructor(o){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=o;const g=this._context.configuration.options;this._lineHeight=g.get(61),this._roundedSelection=g.get(92),this._typicalHalfwidthCharacterWidth=g.get(46).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(o){const g=this._context.configuration.options;return this._lineHeight=g.get(61),this._roundedSelection=g.get(92),this._typicalHalfwidthCharacterWidth=g.get(46).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(o){return this._selections=o.selections.slice(0),!0}onDecorationsChanged(o){return!0}onFlushed(o){return!0}onLinesChanged(o){return!0}onLinesDeleted(o){return!0}onLinesInserted(o){return!0}onScrollChanged(o){return o.scrollTopChanged}onZonesChanged(o){return!0}_visibleRangesHaveGaps(o){for(let g=0,O=o.length;g<O;g++)if(o[g].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(o,g,O){const H=this._typicalHalfwidthCharacterWidth/4;let se=null,ve=null;if(O&&O.length>0&&g.length>0){const je=g[0].lineNumber;if(je===o.startLineNumber)for(let rt=0;!se&&rt<O.length;rt++)O[rt].lineNumber===je&&(se=O[rt].ranges[0]);const qe=g[g.length-1].lineNumber;if(qe===o.endLineNumber)for(let rt=O.length-1;!ve&&rt>=0;rt--)O[rt].lineNumber===qe&&(ve=O[rt].ranges[0]);se&&!se.startStyle&&(se=null),ve&&!ve.startStyle&&(ve=null)}for(let je=0,qe=g.length;je<qe;je++){const rt=g[je].ranges[0],yt=rt.left,kt=rt.left+rt.width,Wt={top:0,bottom:0},cn={top:0,bottom:0};if(je>0){const _n=g[je-1].ranges[0].left,bn=g[je-1].ranges[0].left+g[je-1].ranges[0].width;Js(yt-_n)<H?Wt.top=2:yt>_n&&(Wt.top=1),Js(kt-bn)<H?cn.top=2:_n<kt&&kt<bn&&(cn.top=1)}else se&&(Wt.top=se.startStyle.top,cn.top=se.endStyle.top);if(je+1<qe){const _n=g[je+1].ranges[0].left,bn=g[je+1].ranges[0].left+g[je+1].ranges[0].width;Js(yt-_n)<H?Wt.bottom=2:_n<yt&&yt<bn&&(Wt.bottom=1),Js(kt-bn)<H?cn.bottom=2:kt<bn&&(cn.bottom=1)}else ve&&(Wt.bottom=ve.startStyle.bottom,cn.bottom=ve.endStyle.bottom);rt.startStyle=Wt,rt.endStyle=cn}}_getVisibleRangesWithStyle(o,g,O){const se=(g.linesVisibleRangesForRange(o,!0)||[]).map(qa);return!this._visibleRangesHaveGaps(se)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(g.visibleRange,se,O),se}_createSelectionPiece(o,g,O,H,se){return'<div class="cslr '+O+'" style="top:'+o.toString()+"px;left:"+H.toString()+"px;width:"+se.toString()+"px;height:"+g+'px;"></div>'}_actualRenderOneSelection(o,g,O,H){if(0===H.length)return;const se=!!H[0].ranges[0].startStyle,ve=this._lineHeight.toString(),je=(this._lineHeight-1).toString(),qe=H[0].lineNumber,rt=H[H.length-1].lineNumber;for(let yt=0,kt=H.length;yt<kt;yt++){const Wt=H[yt],cn=Wt.lineNumber,_n=cn-g,bn=!O||cn!==rt&&cn!==qe?ve:je,Mn=O&&cn===qe?1:0;let Bn="",Hn="";for(let ti=0,gi=Wt.ranges.length;ti<gi;ti++){const di=Wt.ranges[ti];if(se){const qn=di.startStyle,bi=di.endStyle;if(1===qn.top||1===qn.bottom){Bn+=this._createSelectionPiece(Mn,bn,ut.SELECTION_CLASS_NAME,di.left-ut.ROUNDED_PIECE_WIDTH,ut.ROUNDED_PIECE_WIDTH);let Ai=ut.EDITOR_BACKGROUND_CLASS_NAME;1===qn.top&&(Ai+=" "+ut.SELECTION_TOP_RIGHT),1===qn.bottom&&(Ai+=" "+ut.SELECTION_BOTTOM_RIGHT),Bn+=this._createSelectionPiece(Mn,bn,Ai,di.left-ut.ROUNDED_PIECE_WIDTH,ut.ROUNDED_PIECE_WIDTH)}if(1===bi.top||1===bi.bottom){Bn+=this._createSelectionPiece(Mn,bn,ut.SELECTION_CLASS_NAME,di.left+di.width,ut.ROUNDED_PIECE_WIDTH);let Ai=ut.EDITOR_BACKGROUND_CLASS_NAME;1===bi.top&&(Ai+=" "+ut.SELECTION_TOP_LEFT),1===bi.bottom&&(Ai+=" "+ut.SELECTION_BOTTOM_LEFT),Bn+=this._createSelectionPiece(Mn,bn,Ai,di.left+di.width,ut.ROUNDED_PIECE_WIDTH)}}let vi=ut.SELECTION_CLASS_NAME;if(se){const qn=di.startStyle,bi=di.endStyle;0===qn.top&&(vi+=" "+ut.SELECTION_TOP_LEFT),0===qn.bottom&&(vi+=" "+ut.SELECTION_BOTTOM_LEFT),0===bi.top&&(vi+=" "+ut.SELECTION_TOP_RIGHT),0===bi.bottom&&(vi+=" "+ut.SELECTION_BOTTOM_RIGHT)}Hn+=this._createSelectionPiece(Mn,bn,vi,di.left,di.width)}o[_n][0]+=Bn,o[_n][1]+=Hn}}prepareRender(o){const g=[],O=o.visibleRange.startLineNumber,H=o.visibleRange.endLineNumber;for(let ve=O;ve<=H;ve++)g[ve-O]=["",""];const se=[];for(let ve=0,je=this._selections.length;ve<je;ve++){const qe=this._selections[ve];if(qe.isEmpty()){se[ve]=null;continue}const rt=this._getVisibleRangesWithStyle(qe,o,this._previousFrameVisibleRangesWithStyle[ve]);se[ve]=rt,this._actualRenderOneSelection(g,O,this._selections.length>1,rt)}this._previousFrameVisibleRangesWithStyle=se,this._renderResult=g.map(([ve,je])=>ve+je)}render(o,g){if(!this._renderResult)return"";const O=g-o;return O<0||O>=this._renderResult.length?"":this._renderResult[O]}}return ut.SELECTION_CLASS_NAME="selected-text",ut.SELECTION_TOP_LEFT="top-left-radius",ut.SELECTION_BOTTOM_LEFT="bottom-left-radius",ut.SELECTION_TOP_RIGHT="top-right-radius",ut.SELECTION_BOTTOM_RIGHT="bottom-right-radius",ut.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",ut.ROUNDED_PIECE_WIDTH=10,ut})();function Js(ut){return ut<0?-ut:ut}(0,An.Ic)((ut,t)=>{const o=ut.getColor(Re.hEj);o&&t.addRule(`.monaco-editor .focused .selected-text { background-color: ${o}; }`);const g=ut.getColor(Re.ES4);g&&t.addRule(`.monaco-editor .selected-text { background-color: ${g}; }`);const O=ut.getColor(Re.yb5);O&&!O.isTransparent()&&t.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${O}; }`)});var qs=e(4057),vs={};vs.styleTagTransform=d(),vs.setAttributes=c(),vs.insert=a().bind(null,"head"),vs.domAPI=N(),vs.insertStyleElement=l(),A()(qs.Z,vs);class Lr{constructor(t,o,g,O,H,se){this.top=t,this.left=o,this.width=g,this.height=O,this.textContent=H,this.textContentClassName=se}}class ko{constructor(t){this._context=t;const o=this._context.configuration.options,g=o.get(46);this._cursorStyle=o.get(24),this._lineHeight=o.get(61),this._typicalHalfwidthCharacterWidth=g.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,_e.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${Si.S}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,Et.N)(this._domNode,g),this._domNode.setDisplay("none"),this._position=new Ee.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(t){const o=this._context.configuration.options,g=o.get(46);return this._cursorStyle=o.get(24),this._lineHeight=o.get(61),this._typicalHalfwidthCharacterWidth=g.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(27),this._typicalHalfwidthCharacterWidth),(0,Et.N)(this._domNode,g),!0}onCursorPositionChanged(t){return this._position=t,!0}_getGraphemeAwarePosition(){const{lineNumber:t,column:o}=this._position,g=this._context.viewModel.getLineContent(t),[O,H]=pt.J_(g,o-1);return[new Ee.L(t,O+1),g.substring(O,H)]}_prepareRender(t){let o="";const[g,O]=this._getGraphemeAwarePosition();if(this._cursorStyle===fe.d2.Line||this._cursorStyle===fe.d2.LineThin){const kt=t.visibleRangeForPosition(g);if(!kt||kt.outsideRenderedLine)return null;let Wt;this._cursorStyle===fe.d2.Line?(Wt=x.Uh(this._lineCursorWidth>0?this._lineCursorWidth:2),Wt>2&&(o=O)):Wt=x.Uh(1);let cn=kt.left;Wt>=2&&cn>=1&&(cn-=1);const _n=t.getVerticalOffsetForLineNumber(g.lineNumber)-t.bigNumbersDelta;return new Lr(_n,cn,Wt,this._lineHeight,o,"")}const H=t.linesVisibleRangesForRange(new Fe.e(g.lineNumber,g.column,g.lineNumber,g.column+O.length),!1);if(!H||0===H.length)return null;const se=H[0];if(se.outsideRenderedLine||0===se.ranges.length)return null;const ve=se.ranges[0],je="\t"===O||ve.width<1?this._typicalHalfwidthCharacterWidth:ve.width;let qe="";if(this._cursorStyle===fe.d2.Block){const kt=this._context.viewModel.getViewLineData(g.lineNumber);o=O;const Wt=kt.tokens.findTokenIndexAtOffset(g.column-1);qe=kt.tokens.getClassName(Wt)}let rt=t.getVerticalOffsetForLineNumber(g.lineNumber)-t.bigNumbersDelta,yt=this._lineHeight;return(this._cursorStyle===fe.d2.Underline||this._cursorStyle===fe.d2.UnderlineThin)&&(rt+=this._lineHeight-2,yt=2),new Lr(rt,ve.left,je,yt,o,qe)}prepareRender(t){this._renderData=this._prepareRender(t)}render(t){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${Si.S} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}let Er=(()=>{class ut extends Oe{constructor(o){super(o);const g=this._context.configuration.options;this._readOnly=g.get(83),this._cursorBlinking=g.get(22),this._cursorStyle=g.get(24),this._cursorSmoothCaretAnimation=g.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new ko(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,_e.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new Ae._F,this._cursorFlatBlinkInterval=new Ae.zh,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(o){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(o){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(o){const g=this._context.configuration.options;this._readOnly=g.get(83),this._cursorBlinking=g.get(22),this._cursorStyle=g.get(24),this._cursorSmoothCaretAnimation=g.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(o);for(let O=0,H=this._secondaryCursors.length;O<H;O++)this._secondaryCursors[O].onConfigurationChanged(o);return!0}_onCursorPositionChanged(o,g){if(this._primaryCursor.onCursorPositionChanged(o),this._updateBlinking(),this._secondaryCursors.length<g.length){const O=g.length-this._secondaryCursors.length;for(let H=0;H<O;H++){const se=new ko(this._context);this._domNode.domNode.insertBefore(se.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(se)}}else if(this._secondaryCursors.length>g.length){const O=this._secondaryCursors.length-g.length;for(let H=0;H<O;H++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let O=0;O<g.length;O++)this._secondaryCursors[O].onCursorPositionChanged(g[O])}onCursorStateChanged(o){const g=[];for(let H=0,se=o.selections.length;H<se;H++)g[H]=o.selections[H].getPosition();this._onCursorPositionChanged(g[0],g.slice(1));const O=o.selections[0].isEmpty();return this._selectionIsEmpty!==O&&(this._selectionIsEmpty=O,this._updateDomClassName()),!0}onDecorationsChanged(o){return!0}onFlushed(o){return!0}onFocusChanged(o){return this._editorHasFocus=o.isFocused,this._updateBlinking(),!1}onLinesChanged(o){return!0}onLinesDeleted(o){return!0}onLinesInserted(o){return!0}onScrollChanged(o){return!0}onTokensChanged(o){const g=O=>{for(let H=0,se=o.ranges.length;H<se;H++)if(o.ranges[H].fromLineNumber<=O.lineNumber&&O.lineNumber<=o.ranges[H].toLineNumber)return!0;return!1};if(g(this._primaryCursor.getPosition()))return!0;for(const O of this._secondaryCursors)if(g(O.getPosition()))return!0;return!1}onZonesChanged(o){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const o=this._getCursorBlinking(),g=0===o,O=5===o;g?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!g&&!O&&(1===o?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},ut.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},ut.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let o="cursors-layer";switch(this._selectionIsEmpty||(o+=" has-selection"),this._cursorStyle){case fe.d2.Line:o+=" cursor-line-style";break;case fe.d2.Block:o+=" cursor-block-style";break;case fe.d2.Underline:o+=" cursor-underline-style";break;case fe.d2.LineThin:o+=" cursor-line-thin-style";break;case fe.d2.BlockOutline:o+=" cursor-block-outline-style";break;case fe.d2.UnderlineThin:o+=" cursor-underline-thin-style";break;default:o+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:o+=" cursor-blink";break;case 2:o+=" cursor-smooth";break;case 3:o+=" cursor-phase";break;case 4:o+=" cursor-expand";break;default:o+=" cursor-solid"}else o+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(o+=" cursor-smooth-caret-animation"),o}_show(){this._primaryCursor.show();for(let o=0,g=this._secondaryCursors.length;o<g;o++)this._secondaryCursors[o].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let o=0,g=this._secondaryCursors.length;o<g;o++)this._secondaryCursors[o].hide();this._isVisible=!1}prepareRender(o){this._primaryCursor.prepareRender(o);for(let g=0,O=this._secondaryCursors.length;g<O;g++)this._secondaryCursors[g].prepareRender(o)}render(o){const g=[];let O=0;const H=this._primaryCursor.render(o);H&&(g[O++]=H);for(let se=0,ve=this._secondaryCursors.length;se<ve;se++){const je=this._secondaryCursors[se].render(o);je&&(g[O++]=je)}this._renderData=g}getLastRenderData(){return this._renderData}}return ut.BLINK_INTERVAL=500,ut})();(0,An.Ic)((ut,t)=>{const o=ut.getColor(kn.n0);if(o){let g=ut.getColor(kn.fY);g||(g=o.opposite()),t.addRule(`.monaco-editor .inputarea.ime-input { caret-color: ${o}; }`),t.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${o}; border-color: ${o}; color: ${g}; }`),(0,Ze.c3)(ut.type)&&t.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${g}; border-right: 1px solid ${g}; }`)}});const er=()=>{throw new Error("Invalid change accessor")};class Dr extends Oe{constructor(t){super(t);const o=this._context.configuration.options,g=o.get(133);this._lineHeight=o.get(61),this._contentWidth=g.contentWidth,this._contentLeft=g.contentLeft,this.domNode=(0,_e.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,_e.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const t=this._context.viewLayout.getWhitespaces(),o=new Map;for(const O of t)o.set(O.id,O);let g=!1;return this._context.viewModel.changeWhitespace(O=>{const H=Object.keys(this._zones);for(let se=0,ve=H.length;se<ve;se++){const je=H[se],qe=this._zones[je],rt=this._computeWhitespaceProps(qe.delegate);qe.isInHiddenArea=rt.isInHiddenArea;const yt=o.get(je);yt&&(yt.afterLineNumber!==rt.afterViewLineNumber||yt.height!==rt.heightInPx)&&(O.changeOneWhitespace(je,rt.afterViewLineNumber,rt.heightInPx),this._safeCallOnComputedHeight(qe.delegate,rt.heightInPx),g=!0)}}),g}onConfigurationChanged(t){const o=this._context.configuration.options,g=o.get(133);return this._lineHeight=o.get(61),this._contentWidth=g.contentWidth,this._contentLeft=g.contentLeft,t.hasChanged(61)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(t){return this._recomputeWhitespacesProps()}onLinesDeleted(t){return!0}onScrollChanged(t){return t.scrollTopChanged||t.scrollWidthChanged}onZonesChanged(t){return!0}onLinesInserted(t){return!0}_getZoneOrdinal(t){return void 0!==t.afterColumn?t.afterColumn:1e4}_computeWhitespaceProps(t){if(0===t.afterLineNumber)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(t),minWidthInPx:this._minWidthInPixels(t)};let o,g;if(void 0!==t.afterColumn)o=this._context.viewModel.model.validatePosition({lineNumber:t.afterLineNumber,column:t.afterColumn});else{const se=this._context.viewModel.model.validatePosition({lineNumber:t.afterLineNumber,column:1}).lineNumber;o=new Ee.L(se,this._context.viewModel.model.getLineMaxColumn(se))}g=o.column===this._context.viewModel.model.getLineMaxColumn(o.lineNumber)?this._context.viewModel.model.validatePosition({lineNumber:o.lineNumber+1,column:1}):this._context.viewModel.model.validatePosition({lineNumber:o.lineNumber,column:o.column+1});const O=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o,t.afterColumnAffinity),H=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(g);return{isInHiddenArea:!H,afterViewLineNumber:O.lineNumber,heightInPx:H?this._heightInPixels(t):0,minWidthInPx:this._minWidthInPixels(t)}}changeViewZones(t){let o=!1;return this._context.viewModel.changeWhitespace(g=>{const O={addZone:H=>(o=!0,this._addZone(g,H)),removeZone:H=>{!H||(o=this._removeZone(g,H)||o)},layoutZone:H=>{!H||(o=this._layoutZone(g,H)||o)}};(function nl(ut,t){try{ut(t)}catch(o){(0,T.dL)(o)}})(t,O),O.addZone=er,O.removeZone=er,O.layoutZone=er}),o}_addZone(t,o){const g=this._computeWhitespaceProps(o),H={whitespaceId:t.insertWhitespace(g.afterViewLineNumber,this._getZoneOrdinal(o),g.heightInPx,g.minWidthInPx),delegate:o,isInHiddenArea:g.isInHiddenArea,isVisible:!1,domNode:(0,_e.X)(o.domNode),marginDomNode:o.marginDomNode?(0,_e.X)(o.marginDomNode):null};return this._safeCallOnComputedHeight(H.delegate,g.heightInPx),H.domNode.setPosition("absolute"),H.domNode.domNode.style.width="100%",H.domNode.setDisplay("none"),H.domNode.setAttribute("monaco-view-zone",H.whitespaceId),this.domNode.appendChild(H.domNode),H.marginDomNode&&(H.marginDomNode.setPosition("absolute"),H.marginDomNode.domNode.style.width="100%",H.marginDomNode.setDisplay("none"),H.marginDomNode.setAttribute("monaco-view-zone",H.whitespaceId),this.marginDomNode.appendChild(H.marginDomNode)),this._zones[H.whitespaceId]=H,this.setShouldRender(),H.whitespaceId}_removeZone(t,o){if(this._zones.hasOwnProperty(o)){const g=this._zones[o];return delete this._zones[o],t.removeWhitespace(g.whitespaceId),g.domNode.removeAttribute("monaco-visible-view-zone"),g.domNode.removeAttribute("monaco-view-zone"),g.domNode.domNode.parentNode.removeChild(g.domNode.domNode),g.marginDomNode&&(g.marginDomNode.removeAttribute("monaco-visible-view-zone"),g.marginDomNode.removeAttribute("monaco-view-zone"),g.marginDomNode.domNode.parentNode.removeChild(g.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(t,o){if(this._zones.hasOwnProperty(o)){const g=this._zones[o],O=this._computeWhitespaceProps(g.delegate);return g.isInHiddenArea=O.isInHiddenArea,t.changeOneWhitespace(g.whitespaceId,O.afterViewLineNumber,O.heightInPx),this._safeCallOnComputedHeight(g.delegate,O.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(t){return!!this._zones.hasOwnProperty(t)&&Boolean(this._zones[t].delegate.suppressMouseDown)}_heightInPixels(t){return"number"==typeof t.heightInPx?t.heightInPx:"number"==typeof t.heightInLines?this._lineHeight*t.heightInLines:this._lineHeight}_minWidthInPixels(t){return"number"==typeof t.minWidthInPx?t.minWidthInPx:0}_safeCallOnComputedHeight(t,o){if("function"==typeof t.onComputedHeight)try{t.onComputedHeight(o)}catch(g){(0,T.dL)(g)}}_safeCallOnDomNodeTop(t,o){if("function"==typeof t.onDomNodeTop)try{t.onDomNodeTop(o)}catch(g){(0,T.dL)(g)}}prepareRender(t){}render(t){const o=t.viewportData.whitespaceViewportData,g={};let O=!1;for(const se of o)this._zones[se.id].isInHiddenArea||(g[se.id]=se,O=!0);const H=Object.keys(this._zones);for(let se=0,ve=H.length;se<ve;se++){const je=H[se],qe=this._zones[je];let rt=0,yt=0,kt="none";g.hasOwnProperty(je)?(rt=g[je].verticalOffset-t.bigNumbersDelta,yt=g[je].height,kt="block",qe.isVisible||(qe.domNode.setAttribute("monaco-visible-view-zone","true"),qe.isVisible=!0),this._safeCallOnDomNodeTop(qe.delegate,t.getScrolledTopFromAbsoluteTop(g[je].verticalOffset))):(qe.isVisible&&(qe.domNode.removeAttribute("monaco-visible-view-zone"),qe.isVisible=!1),this._safeCallOnDomNodeTop(qe.delegate,t.getScrolledTopFromAbsoluteTop(-1e6))),qe.domNode.setTop(rt),qe.domNode.setHeight(yt),qe.domNode.setDisplay(kt),qe.marginDomNode&&(qe.marginDomNode.setTop(rt),qe.marginDomNode.setHeight(yt),qe.marginDomNode.setDisplay(kt))}O&&(this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}class il{constructor(t){this._theme=t}get type(){return this._theme.type}get value(){return this._theme}update(t){this._theme=t}getColor(t){return this._theme.getColor(t)}}class ol{constructor(t,o,g){this.configuration=t,this.theme=new il(o),this.viewModel=g,this.viewLayout=g.viewLayout}addEventHandler(t){this.viewModel.addViewEventHandler(t)}removeEventHandler(t){this.viewModel.removeViewEventHandler(t)}}class ga{constructor(t,o,g,O){this.selections=t,this.startLineNumber=0|o.startLineNumber,this.endLineNumber=0|o.endLineNumber,this.relativeVerticalOffset=o.relativeVerticalOffset,this.bigNumbersDelta=0|o.bigNumbersDelta,this.whitespaceViewportData=g,this._model=O,this.visibleRange=new Fe.e(o.startLineNumber,this._model.getLineMinColumn(o.startLineNumber),o.endLineNumber,this._model.getLineMaxColumn(o.endLineNumber))}getViewLineRenderingData(t){return this._model.getViewportViewLineRenderingData(this.visibleRange,t)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}var tr=e(29463),_s={};_s.styleTagTransform=d(),_s.setAttributes=c(),_s.insert=a().bind(null,"head"),_s.domAPI=N(),_s.insertStyleElement=l(),A()(tr.Z,_s);class rl extends Oe{constructor(t){super(t),this.blocks=[],this.contentWidth=-1,this.domNode=(0,_e.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let t=!1;const g=this._context.configuration.options.get(133),O=g.contentWidth-g.verticalScrollbarWidth;return this.contentWidth!==O&&(this.contentWidth=O,t=!0),t}dispose(){super.dispose()}onConfigurationChanged(t){return this.update()}onScrollChanged(t){return t.scrollTopChanged||t.scrollLeftChanged}onDecorationsChanged(t){return!0}onZonesChanged(t){return!0}prepareRender(t){}render(t){let o=0;const g=t.getDecorationsInViewport();for(const O of g){if(!O.options.blockClassName)continue;let H=this.blocks[o];H||(H=this.blocks[o]=(0,_e.X)(document.createElement("div")),this.domNode.appendChild(H));const se=t.getVerticalOffsetForLineNumber(O.range.startLineNumber),ve=t.getVerticalOffsetForLineNumber(O.range.endLineNumber+1);H.setClassName("blockDecorations-block "+O.options.blockClassName),H.setLeft(t.scrollLeft),H.setWidth(this.contentWidth),H.setTop(se),H.setHeight(ve-se),o++}for(let O=o;O<this.blocks.length;O++)this.blocks[O].domNode.remove();this.blocks.length=o}}class al extends De{constructor(t,o,g,O,H,se){super(),this._selections=[new ye.Y(1,1,1,1)],this._renderAnimationFrame=null;const ve=new Lt(o,O,H,t);this._context=new ol(o,g,O),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new pi(this._context,ve,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,_e.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,_e.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,_e.X)(document.createElement("div")),Ne.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new Xe(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new Nn(this._context,this._linesContent),this._viewZones=new Dr(this._context),this._viewParts.push(this._viewZones);const je=new _i(this._context);this._viewParts.push(je);const qe=new vo(this._context);this._viewParts.push(qe);const rt=new nn(this._context);this._viewParts.push(rt),rt.addDynamicOverlay(new Qt(this._context)),rt.addDynamicOverlay(new el(this._context)),rt.addDynamicOverlay(new Ki(this._context)),rt.addDynamicOverlay(new q(this._context));const yt=new Kt(this._context);this._viewParts.push(yt),yt.addDynamicOverlay(new Kn(this._context)),yt.addDynamicOverlay(new Ln(this._context)),yt.addDynamicOverlay(new $i(this._context)),yt.addDynamicOverlay(new Jn(this._context)),yt.addDynamicOverlay(new Gn(this._context));const kt=new ri(this._context);kt.getDomNode().appendChild(this._viewZones.marginDomNode),kt.getDomNode().appendChild(yt.getDomNode()),this._viewParts.push(kt),this._contentWidgets=new ct(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new Er(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new xo(this._context),this._viewParts.push(this._overlayWidgets);const Wt=new Xs(this._context);this._viewParts.push(Wt);const cn=new rl(this._context);this._viewParts.push(cn);const _n=new br(this._context);if(this._viewParts.push(_n),je){const bn=this._scrollbar.getOverviewRulerLayoutInfo();bn.parent.insertBefore(je.getDomNode(),bn.insertBefore)}this._linesContent.appendChild(rt.getDomNode()),this._linesContent.appendChild(Wt.domNode),this._linesContent.appendChild(cn.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(kt.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(qe.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(_n.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),se?se.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new Te(this._context,ve,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:t=>{this._textAreaHandler.textArea.domNode.dispatchEvent(t)},getLastRenderData:()=>{const t=this._viewCursors.getLastRenderData()||[],o=this._textAreaHandler.getLastRenderData();return new en(t,o)},shouldSuppressMouseDownOnViewZone:t=>this._viewZones.shouldSuppressMouseDownOnViewZone(t),shouldSuppressMouseDownOnWidget:t=>this._contentWidgets.shouldSuppressMouseDownOnWidget(t),getPositionFromDOMInfo:(t,o)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(t,o)),visibleRangeForPosition:(t,o)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Ee.L(t,o))),getLineWidth:t=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(t))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:t=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(t))}}_applyLayout(){const o=this._context.configuration.options.get(133);this.domNode.setWidth(o.width),this.domNode.setHeight(o.height),this._overflowGuardContainer.setWidth(o.width),this._overflowGuardContainer.setHeight(o.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const t=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(130)+" "+(0,An.m6)(this._context.theme.type)+t}handleEvents(t){super.handleEvents(t),this._scheduleRender()}onConfigurationChanged(t){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(t){return this._selections=t.selections,!1}onFocusChanged(t){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(t){return this._context.theme.update(t.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const t of this._viewParts)t.dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=x.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){!function ma(ut){try{ut()}catch(t){(0,T.dL)(t)}}(()=>this._actualRender())}_getViewPartsToRender(){const t=[];let o=0;for(const g of this._viewParts)g.shouldRender()&&(t[o++]=g);return t}_actualRender(){if(!x.Uw(this.domNode.domNode))return;let t=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===t.length)return;const o=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(o.startLineNumber,o.endLineNumber,o.centeredLineNumber);const g=new ga(this._selections,o,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(g),this._viewLines.shouldRender()&&(this._viewLines.renderText(g),this._viewLines.onDidRender(),t=this._getViewPartsToRender());const O=new xe(this._context.viewLayout,g,this._viewLines);for(const H of t)H.prepareRender(O);for(const H of t)H.render(O),H.onDidRender()}delegateVerticalScrollbarPointerDown(t){this._scrollbar.delegateVerticalScrollbarPointerDown(t)}restoreState(t){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:t.scrollTop},1),this._context.viewModel.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:t.scrollLeft},1)}getOffsetForColumn(t,o){const g=this._context.viewModel.model.validatePosition({lineNumber:t,column:o}),O=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(g);this._flushAccumulatedAndRenderNow();const H=this._viewLines.visibleRangeForPosition(new Ee.L(O.lineNumber,O.column));return H?H.left:-1}getTargetAtClientPoint(t,o){const g=this._pointerHandler.getTargetAtClientPoint(t,o);return g?Ft.convertViewToModelMouseTarget(g,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(t){return new Ro(this._context,t)}change(t){this._viewZones.changeViewZones(t),this._scheduleRender()}render(t,o){if(o){this._viewLines.forceShouldRender();for(const g of this._viewParts)g.forceShouldRender()}t?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(t){this._textAreaHandler.setAriaOptions(t)}addContentWidget(t){this._contentWidgets.addWidget(t.widget),this.layoutContentWidget(t),this._scheduleRender()}layoutContentWidget(t){var o,g;let O=t.position&&t.position.range||null;if(null===O){const se=t.position?t.position.position:null;null!==se&&(O=new Fe.e(se.lineNumber,se.column,se.lineNumber,se.column))}this._contentWidgets.setWidgetPosition(t.widget,O,t.position?t.position.preference:null,null!==(g=null===(o=t.position)||void 0===o?void 0:o.positionAffinity)&&void 0!==g?g:null),this._scheduleRender()}removeContentWidget(t){this._contentWidgets.removeWidget(t.widget),this._scheduleRender()}addOverlayWidget(t){this._overlayWidgets.addWidget(t.widget),this.layoutOverlayWidget(t),this._scheduleRender()}layoutOverlayWidget(t){this._overlayWidgets.setWidgetPosition(t.widget,t.position?t.position.preference:null)&&this._scheduleRender()}removeOverlayWidget(t){this._overlayWidgets.removeWidget(t.widget),this._scheduleRender()}}var no=e(95062);class Do{constructor(t){this._selTrackedRange=null,this._trackSelection=!0,this._setState(t,new no.rS(new Fe.e(1,1,1,1),0,new Ee.L(1,1),0),new no.rS(new Fe.e(1,1,1,1),0,new Ee.L(1,1),0))}dispose(t){this._removeTrackedRange(t)}startTrackingSelection(t){this._trackSelection=!0,this._updateTrackedRange(t)}stopTrackingSelection(t){this._trackSelection=!1,this._removeTrackedRange(t)}_updateTrackedRange(t){!this._trackSelection||(this._selTrackedRange=t.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(t){this._selTrackedRange=t.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new no.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(t){const o=t.model._getTrackedRange(this._selTrackedRange);return ye.Y.fromRange(o,this.modelState.selection.getDirection())}ensureValidState(t){this._setState(t,this.modelState,this.viewState)}setState(t,o,g){this._setState(t,o,g)}static _validatePositionWithCache(t,o,g,O){return o.equals(g)?O:t.normalizePosition(o,2)}static _validateViewState(t,o){const g=o.position,O=o.selectionStart.getStartPosition(),H=o.selectionStart.getEndPosition(),se=t.normalizePosition(g,2),ve=this._validatePositionWithCache(t,O,g,se),je=this._validatePositionWithCache(t,H,O,ve);return g.equals(se)&&O.equals(ve)&&H.equals(je)?o:new no.rS(Fe.e.fromPositions(ve,je),o.selectionStartLeftoverVisibleColumns+O.column-ve.column,se,o.leftoverVisibleColumns+g.column-se.column)}_setState(t,o,g){if(g&&(g=Do._validateViewState(t.viewModel,g)),o){const O=t.model.validateRange(o.selectionStart),H=o.selectionStart.equalsRange(O)?o.selectionStartLeftoverVisibleColumns:0,se=t.model.validatePosition(o.position),ve=o.position.equals(se)?o.leftoverVisibleColumns:0;o=new no.rS(O,H,se,ve)}else{if(!g)return;const O=t.model.validateRange(t.coordinatesConverter.convertViewRangeToModelRange(g.selectionStart)),H=t.model.validatePosition(t.coordinatesConverter.convertViewPositionToModelPosition(g.position));o=new no.rS(O,g.selectionStartLeftoverVisibleColumns,H,g.leftoverVisibleColumns)}if(g){const O=t.coordinatesConverter.validateViewRange(g.selectionStart,o.selectionStart),H=t.coordinatesConverter.validateViewPosition(g.position,o.position);g=new no.rS(O,o.selectionStartLeftoverVisibleColumns,H,o.leftoverVisibleColumns)}else{const O=t.coordinatesConverter.convertModelPositionToViewPosition(new Ee.L(o.selectionStart.startLineNumber,o.selectionStart.startColumn)),H=t.coordinatesConverter.convertModelPositionToViewPosition(new Ee.L(o.selectionStart.endLineNumber,o.selectionStart.endColumn)),se=new Fe.e(O.lineNumber,O.column,H.lineNumber,H.column),ve=t.coordinatesConverter.convertModelPositionToViewPosition(o.position);g=new no.rS(se,o.selectionStartLeftoverVisibleColumns,ve,o.leftoverVisibleColumns)}this.modelState=o,this.viewState=g,this._updateTrackedRange(t)}}class as{constructor(t){this.context=t,this.cursors=[new Do(t)],this.lastAddedCursorIndex=0}dispose(){for(const t of this.cursors)t.dispose(this.context)}startTrackingSelections(){for(const t of this.cursors)t.startTrackingSelection(this.context)}stopTrackingSelections(){for(const t of this.cursors)t.stopTrackingSelection(this.context)}updateContext(t){this.context=t}ensureValidState(){for(const t of this.cursors)t.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(t=>t.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(t=>t.asCursorState())}getViewPositions(){return this.cursors.map(t=>t.viewState.position)}getTopMostViewPosition(){return(0,F.VJ)(this.cursors,(0,F.tT)(t=>t.viewState.position,Ee.L.compare)).viewState.position}getBottomMostViewPosition(){return(0,F.jV)(this.cursors,(0,F.tT)(t=>t.viewState.position,Ee.L.compare)).viewState.position}getSelections(){return this.cursors.map(t=>t.modelState.selection)}getViewSelections(){return this.cursors.map(t=>t.viewState.selection)}setSelections(t){this.setStates(no.Vi.fromModelSelections(t))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(t){null!==t&&(this.cursors[0].setState(this.context,t[0].modelState,t[0].viewState),this._setSecondaryStates(t.slice(1)))}_setSecondaryStates(t){const o=this.cursors.length-1,g=t.length;if(o<g){const O=g-o;for(let H=0;H<O;H++)this._addSecondaryCursor()}else if(o>g){const O=o-g;for(let H=0;H<O;H++)this._removeSecondaryCursor(this.cursors.length-2)}for(let O=0;O<g;O++)this.cursors[O+1].setState(this.context,t[O].modelState,t[O].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new Do(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return 1===this.cursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(t){this.lastAddedCursorIndex>=t+1&&this.lastAddedCursorIndex--,this.cursors[t+1].dispose(this.context),this.cursors.splice(t+1,1)}normalize(){if(1===this.cursors.length)return;const t=this.cursors.slice(0),o=[];for(let g=0,O=t.length;g<O;g++)o.push({index:g,selection:t[g].modelState.selection});o.sort((0,F.tT)(g=>g.selection,Fe.e.compareRangesUsingStarts));for(let g=0;g<o.length-1;g++){const O=o[g],H=o[g+1],se=O.selection,ve=H.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let je;if(je=ve.isEmpty()||se.isEmpty()?ve.getStartPosition().isBeforeOrEqual(se.getEndPosition()):ve.getStartPosition().isBefore(se.getEndPosition()),je){const qe=O.index<H.index?g:g+1,rt=O.index<H.index?g+1:g,yt=o[rt].index,kt=o[qe].index,Wt=o[rt].selection,cn=o[qe].selection;if(!Wt.equalsSelection(cn)){const _n=Wt.plusRange(cn),bn=Wt.selectionStartLineNumber===Wt.startLineNumber&&Wt.selectionStartColumn===Wt.startColumn,Mn=cn.selectionStartLineNumber===cn.startLineNumber&&cn.selectionStartColumn===cn.startColumn;let Bn,Hn;yt===this.lastAddedCursorIndex?(Bn=bn,this.lastAddedCursorIndex=kt):Bn=Mn,Hn=Bn?new ye.Y(_n.startLineNumber,_n.startColumn,_n.endLineNumber,_n.endColumn):new ye.Y(_n.endLineNumber,_n.endColumn,_n.startLineNumber,_n.startColumn),o[qe].selection=Hn;const ti=no.Vi.fromModelSelection(Hn);t[kt].setState(this.context,ti.modelState,ti.viewState)}for(const _n of o)_n.index>yt&&_n.index--;t.splice(yt,1),o.splice(rt,1),this._removeSecondaryCursor(yt-1),g--}}}}class nr{constructor(t,o,g,O){this._cursorContextBrand=void 0,this.model=t,this.viewModel=o,this.coordinatesConverter=g,this.cursorConfig=O}}var pa=e(72525),zo=e(36786),jo=e(42814);class ll{constructor(){this.type=0}}class dl{constructor(){this.type=1}}class cl{constructor(t){this.type=2,this._source=t}hasChanged(t){return this._source.hasChanged(t)}}class hl{constructor(t,o){this.type=3,this.selections=t,this.modelSelections=o}}class ls{constructor(t){this.type=4,t?(this.affectsMinimap=t.affectsMinimap,this.affectsOverviewRuler=t.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class ir{constructor(){this.type=5}}class or{constructor(t){this.type=6,this.isFocused=t}}class Ir{constructor(){this.type=7}}class ds{constructor(){this.type=8}}class xr{constructor(t,o){this.fromLineNumber=t,this.count=o,this.type=9}}class Mr{constructor(t,o){this.type=10,this.fromLineNumber=t,this.toLineNumber=o}}class Tr{constructor(t,o){this.type=11,this.fromLineNumber=t,this.toLineNumber=o}}class sr{constructor(t,o,g,O,H,se,ve){this.source=t,this.minimalReveal=o,this.range=g,this.selections=O,this.verticalType=H,this.revealHorizontal=se,this.scrollType=ve,this.type=12}}class va{constructor(t){this.type=13,this.scrollWidth=t.scrollWidth,this.scrollLeft=t.scrollLeft,this.scrollHeight=t.scrollHeight,this.scrollTop=t.scrollTop,this.scrollWidthChanged=t.scrollWidthChanged,this.scrollLeftChanged=t.scrollLeftChanged,this.scrollHeightChanged=t.scrollHeightChanged,this.scrollTopChanged=t.scrollTopChanged}}class Nr{constructor(t){this.theme=t,this.type=14}}class Ar{constructor(t){this.type=15,this.ranges=t}}class Cs{constructor(){this.type=16}}class rr{constructor(){this.type=17}}class _a extends Q.JT{constructor(){super(),this._onEvent=this._register(new R.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(t){this._addOutgoingEvent(t),this._emitOutgoingEvents()}_addOutgoingEvent(t){for(let o=0,g=this._outgoingEvents.length;o<g;o++){const O=this._outgoingEvents[o].kind===t.kind?this._outgoingEvents[o].attemptToMerge(t):null;if(O)return void(this._outgoingEvents[o]=O)}this._outgoingEvents.push(t)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const t=this._outgoingEvents.shift();t.isNoOp()||this._onEvent.fire(t)}}addViewEventHandler(t){for(let o=0,g=this._eventHandlers.length;o<g;o++)this._eventHandlers[o]===t&&console.warn("Detected duplicate listener in ViewEventDispatcher",t);this._eventHandlers.push(t)}removeViewEventHandler(t){for(let o=0;o<this._eventHandlers.length;o++)if(this._eventHandlers[o]===t){this._eventHandlers.splice(o,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new Ca),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const t=this._collector.outgoingEvents,o=this._collector.viewEvents;this._collector=null;for(const g of t)this._addOutgoingEvent(g);o.length>0&&this._emitMany(o)}this._emitOutgoingEvents()}emitSingleViewEvent(t){try{this.beginEmitViewEvents().emitViewEvent(t)}finally{this.endEmitViewEvents()}}_emitMany(t){this._viewEventQueue=this._viewEventQueue?this._viewEventQueue.concat(t):t,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const t=this._viewEventQueue;this._viewEventQueue=null;const o=this._eventHandlers.slice(0);for(const g of o)g.handleEvents(t)}}}class Ca{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(t){this.viewEvents.push(t)}emitOutgoingEvent(t){this.outgoingEvents.push(t)}}class Pr{constructor(t,o,g,O){this.kind=0,this._oldContentWidth=t,this._oldContentHeight=o,this.contentWidth=g,this.contentHeight=O,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(t){return t.kind!==this.kind?null:new Pr(this._oldContentWidth,this._oldContentHeight,t.contentWidth,t.contentHeight)}}class To{constructor(t,o){this.kind=1,this.oldHasFocus=t,this.hasFocus=o}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(t){return t.kind!==this.kind?null:new To(this.oldHasFocus,t.hasFocus)}}class ns{constructor(t,o,g,O,H,se,ve,je){this.kind=2,this._oldScrollWidth=t,this._oldScrollLeft=o,this._oldScrollHeight=g,this._oldScrollTop=O,this.scrollWidth=H,this.scrollLeft=se,this.scrollHeight=ve,this.scrollTop=je,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}attemptToMerge(t){return t.kind!==this.kind?null:new ns(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,t.scrollWidth,t.scrollLeft,t.scrollHeight,t.scrollTop)}}class Bo{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(t){return t.kind!==this.kind?null:this}}class Or{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(t){return t.kind!==this.kind?null:this}}class bs{constructor(t,o,g,O,H,se,ve){this.kind=6,this.oldSelections=t,this.selections=o,this.oldModelVersionId=g,this.modelVersionId=O,this.source=H,this.reason=se,this.reachedMaxCursorCount=ve}static _selectionsAreEqual(t,o){if(!t&&!o)return!0;if(!t||!o)return!1;const g=t.length;if(g!==o.length)return!1;for(let H=0;H<g;H++)if(!t[H].equalsSelection(o[H]))return!1;return!0}isNoOp(){return bs._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(t){return t.kind!==this.kind?null:new bs(this.oldSelections,t.selections,this.oldModelVersionId,t.modelVersionId,t.source,t.reason,this.reachedMaxCursorCount||t.reachedMaxCursorCount)}}class Ps{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(t){return t.kind!==this.kind?null:this}}class Ss{constructor(t){this.event=t,this.kind=7}isNoOp(){return!1}attemptToMerge(t){return null}}class Rr{constructor(t){this.event=t,this.kind=8}isNoOp(){return!1}attemptToMerge(t){return null}}class ba{constructor(t){this.event=t,this.kind=9}isNoOp(){return!1}attemptToMerge(t){return null}}class kr{constructor(t){this.event=t,this.kind=10}isNoOp(){return!1}attemptToMerge(t){return null}}class ul{constructor(t){this.event=t,this.kind=11}isNoOp(){return!1}attemptToMerge(t){return null}}class fl{constructor(t){this.event=t,this.kind=12}isNoOp(){return!1}attemptToMerge(t){return null}}let Yo=(()=>{class ut extends Q.JT{constructor(o,g,O,H){super(),this._model=o,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=g,this._coordinatesConverter=O,this.context=new nr(this._model,this._viewModel,this._coordinatesConverter,H),this._cursors=new as(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,Q.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(o){this.context=new nr(this._model,this._viewModel,this._coordinatesConverter,o),this._cursors.updateContext(this.context)}onLineMappingChanged(o){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(o,"viewModel",0,this.getCursorStates())}setHasFocus(o){this._hasFocus=o}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const o=this._cursors.getSelections();for(let g=0;g<this._autoClosedActions.length;g++){const O=this._autoClosedActions[g];O.isValid(o)||(O.dispose(),this._autoClosedActions.splice(g,1),g--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(o,g,O,H){let se=!1;null!==H&&H.length>ut.MAX_CURSOR_COUNT&&(H=H.slice(0,ut.MAX_CURSOR_COUNT),se=!0);const ve=Os.from(this._model,this);return this._cursors.setStates(H),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(o,g,O,ve,se)}setCursorColumnSelectData(o){this._columnSelectData=o}revealPrimary(o,g,O,H,se,ve){const je=this._cursors.getViewPositions();let qe=null,rt=null;je.length>1?rt=this._cursors.getViewSelections():qe=Fe.e.fromPositions(je[0],je[0]),o.emitViewEvent(new sr(g,O,qe,rt,H,se,ve))}saveState(){const o=[],g=this._cursors.getSelections();for(let O=0,H=g.length;O<H;O++){const se=g[O];o.push({inSelectionMode:!se.isEmpty(),selectionStart:{lineNumber:se.selectionStartLineNumber,column:se.selectionStartColumn},position:{lineNumber:se.positionLineNumber,column:se.positionColumn}})}return o}restoreState(o,g){const O=[];for(let H=0,se=g.length;H<se;H++){const ve=g[H];let je=1,qe=1;ve.position&&ve.position.lineNumber&&(je=ve.position.lineNumber),ve.position&&ve.position.column&&(qe=ve.position.column);let rt=je,yt=qe;ve.selectionStart&&ve.selectionStart.lineNumber&&(rt=ve.selectionStart.lineNumber),ve.selectionStart&&ve.selectionStart.column&&(yt=ve.selectionStart.column),O.push({selectionStartLineNumber:rt,selectionStartColumn:yt,positionLineNumber:je,positionColumn:qe})}this.setStates(o,"restoreState",0,no.Vi.fromModelSelections(O)),this.revealPrimary(o,"restoreState",!1,0,!0,1)}onModelContentChanged(o,g){if(g instanceof jo.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(o,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const O=g.rawContentChangedEvent;if(this._knownModelVersionId=O.versionId,this._isHandling)return;const H=O.containsEvent(1);if(this._prevEditOperationType=0,H)this._cursors.dispose(),this._cursors=new as(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(o,"model",1,null,!1);else if(this._hasFocus&&O.resultingSelection&&O.resultingSelection.length>0){const se=no.Vi.fromModelSelections(O.resultingSelection);this.setStates(o,"modelChange",O.isUndoing?5:O.isRedoing?6:2,se)&&this.revealPrimary(o,"modelChange",!1,0,!0,0)}else{const se=this._cursors.readSelectionFromMarkers();this.setStates(o,"modelChange",2,no.Vi.fromModelSelections(se))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const o=this._cursors.getPrimaryCursor(),g=o.viewState.selectionStart.getStartPosition(),O=o.viewState.position;return{isReal:!1,fromViewLineNumber:g.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,g),toViewLineNumber:O.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,O)}}getSelections(){return this._cursors.getSelections()}setSelections(o,g,O,H){this.setStates(o,g,H,no.Vi.fromModelSelections(O))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(o){this._prevEditOperationType=o}_pushAutoClosedAction(o,g){const O=[],H=[];for(let je=0,qe=o.length;je<qe;je++)O.push({range:o[je],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),H.push({range:g[je],options:{description:"auto-closed-enclosing",stickiness:1}});const se=this._model.deltaDecorations([],O),ve=this._model.deltaDecorations([],H);this._autoClosedActions.push(new Sa(this._model,se,ve))}_executeEditOperation(o){if(!o)return;o.shouldPushStackElementBefore&&this._model.pushStackElement();const g=class Rs{static executeCommands(t,o,g){const O={model:t,selectionsBefore:o,trackedRanges:[],trackedRangesDirection:[]},H=this._innerExecuteCommands(O,g);for(let se=0,ve=O.trackedRanges.length;se<ve;se++)O.model._setTrackedRange(O.trackedRanges[se],null,0);return H}static _innerExecuteCommands(t,o){if(this._arrayIsEmpty(o))return null;const g=this._getEditOperations(t,o);if(0===g.operations.length)return null;const O=g.operations,H=this._getLoserCursorMap(O);if(H.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const se=[];for(let qe=0,rt=O.length;qe<rt;qe++)H.hasOwnProperty(O[qe].identifier.major.toString())||se.push(O[qe]);g.hadTrackedEditOperation&&se.length>0&&(se[0]._isTracked=!0);let ve=t.model.pushEditOperations(t.selectionsBefore,se,qe=>{const rt=[];for(let Wt=0;Wt<t.selectionsBefore.length;Wt++)rt[Wt]=[];for(const Wt of qe)!Wt.identifier||rt[Wt.identifier.major].push(Wt);const yt=(Wt,cn)=>Wt.identifier.minor-cn.identifier.minor,kt=[];for(let Wt=0;Wt<t.selectionsBefore.length;Wt++)rt[Wt].length>0?(rt[Wt].sort(yt),kt[Wt]=o[Wt].computeCursorState(t.model,{getInverseEditOperations:()=>rt[Wt],getTrackedSelection:cn=>{const _n=parseInt(cn,10),bn=t.model._getTrackedRange(t.trackedRanges[_n]);return 0===t.trackedRangesDirection[_n]?new ye.Y(bn.startLineNumber,bn.startColumn,bn.endLineNumber,bn.endColumn):new ye.Y(bn.endLineNumber,bn.endColumn,bn.startLineNumber,bn.startColumn)}})):kt[Wt]=t.selectionsBefore[Wt];return kt});ve||(ve=t.selectionsBefore);const je=[];for(const qe in H)H.hasOwnProperty(qe)&&je.push(parseInt(qe,10));je.sort((qe,rt)=>rt-qe);for(const qe of je)ve.splice(qe,1);return ve}static _arrayIsEmpty(t){for(let o=0,g=t.length;o<g;o++)if(t[o])return!1;return!0}static _getEditOperations(t,o){let g=[],O=!1;for(let H=0,se=o.length;H<se;H++){const ve=o[H];if(ve){const je=this._getEditOperationsFromCommand(t,H,ve);g=g.concat(je.operations),O=O||je.hadTrackedEditOperation}}return{operations:g,hadTrackedEditOperation:O}}static _getEditOperationsFromCommand(t,o,g){const O=[];let H=0;const se=(yt,kt,Wt=!1)=>{Fe.e.isEmpty(yt)&&""===kt||O.push({identifier:{major:o,minor:H++},range:yt,text:kt,forceMoveMarkers:Wt,isAutoWhitespaceEdit:g.insertsAutoWhitespace})};let ve=!1;const rt={addEditOperation:se,addTrackedEditOperation:(yt,kt,Wt)=>{ve=!0,se(yt,kt,Wt)},trackSelection:(yt,kt)=>{const Wt=ye.Y.liftSelection(yt);let cn;if(Wt.isEmpty())if("boolean"==typeof kt)cn=kt?2:3;else{const Mn=t.model.getLineMaxColumn(Wt.startLineNumber);cn=Wt.startColumn===Mn?2:3}else cn=1;const _n=t.trackedRanges.length,bn=t.model._setTrackedRange(null,Wt,cn);return t.trackedRanges[_n]=bn,t.trackedRangesDirection[_n]=Wt.getDirection(),_n.toString()}};try{g.getEditOperations(t.model,rt)}catch(yt){return(0,T.dL)(yt),{operations:[],hadTrackedEditOperation:!1}}return{operations:O,hadTrackedEditOperation:ve}}static _getLoserCursorMap(t){(t=t.slice(0)).sort((g,O)=>-Fe.e.compareRangesUsingEnds(g.range,O.range));const o={};for(let g=1;g<t.length;g++){const O=t[g-1],H=t[g];if(Fe.e.getStartPosition(O.range).isBefore(Fe.e.getEndPosition(H.range))){let se;se=O.identifier.major>H.identifier.major?O.identifier.major:H.identifier.major,o[se.toString()]=!0;for(let ve=0;ve<t.length;ve++)t[ve].identifier.major===se&&(t.splice(ve,1),ve<g&&g--,ve--);g>0&&g--}}return o}}.executeCommands(this._model,this._cursors.getSelections(),o.commands);if(g){this._interpretCommandResult(g);const O=[],H=[];for(let se=0;se<o.commands.length;se++){const ve=o.commands[se];ve instanceof zo.g_&&ve.enclosingRange&&ve.closeCharacterRange&&(O.push(ve.closeCharacterRange),H.push(ve.enclosingRange))}O.length>0&&this._pushAutoClosedAction(O,H),this._prevEditOperationType=o.type}o.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(o){(!o||0===o.length)&&(o=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(o),this._cursors.normalize()}_emitStateChangedIfNecessary(o,g,O,H,se){const ve=Os.from(this._model,this);if(ve.equals(H))return!1;const je=this._cursors.getSelections(),qe=this._cursors.getViewSelections();if(o.emitViewEvent(new hl(qe,je)),!H||H.cursorState.length!==ve.cursorState.length||ve.cursorState.some((rt,yt)=>!rt.modelState.equals(H.cursorState[yt].modelState))){const rt=H?H.cursorState.map(kt=>kt.modelState.selection):null;o.emitOutgoingEvent(new bs(rt,je,H?H.modelVersionId:0,ve.modelVersionId,g||"keyboard",O,se))}return!0}_findAutoClosingPairs(o){if(!o.length)return null;const g=[];for(let O=0,H=o.length;O<H;O++){const se=o[O];if(!se.text||se.text.indexOf("\n")>=0)return null;const ve=se.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!ve)return null;const qe=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(ve[1]);if(!qe||1!==qe.length)return null;const yt=se.text.length-ve[2].length-1,kt=se.text.lastIndexOf(qe[0].open,yt-1);if(-1===kt)return null;g.push([kt,yt])}return g}executeEdits(o,g,O,H){let se=null;"snippet"===g&&(se=this._findAutoClosingPairs(O)),se&&(O[0]._isTracked=!0);const ve=[],je=[],qe=this._model.pushEditOperations(this.getSelections(),O,rt=>{if(se)for(let kt=0,Wt=se.length;kt<Wt;kt++){const[cn,_n]=se[kt],bn=rt[kt],Mn=bn.range.startLineNumber,Bn=bn.range.startColumn-1+cn,Hn=bn.range.startColumn-1+_n;ve.push(new Fe.e(Mn,Hn+1,Mn,Hn+2)),je.push(new Fe.e(Mn,Bn+1,Mn,Hn+2))}const yt=H(rt);return yt&&(this._isHandling=!0),yt});qe&&(this._isHandling=!1,this.setSelections(o,g,qe,0)),ve.length>0&&this._pushAutoClosedAction(ve,je)}_executeEdit(o,g,O,H=0){if(this.context.cursorConfig.readOnly)return;const se=Os.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),o()}catch(ve){(0,T.dL)(ve)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(g,O,H,se,!1)&&this.revealPrimary(g,O,!1,0,!0,0)}getAutoClosedCharacters(){return Sa.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(o){this._compositionState=new ys(this._model,this.getSelections())}endComposition(o,g){const O=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{"keyboard"===g&&this._executeEditOperation(zo.u6.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,O,this.getSelections(),this.getAutoClosedCharacters()))},o,g)}type(o,g,O){this._executeEdit(()=>{if("keyboard"===O){const H=g.length;let se=0;for(;se<H;){const ve=pt.vH(g,se),je=g.substr(se,ve);this._executeEditOperation(zo.u6.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),je)),se+=ve}}else this._executeEditOperation(zo.u6.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),g))},o,O)}compositionType(o,g,O,H,se,ve){if(0!==g.length||0!==O||0!==H)this._executeEdit(()=>{this._executeEditOperation(zo.u6.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),g,O,H,se))},o,ve);else if(0!==se){const je=this.getSelections().map(qe=>{const rt=qe.getPosition();return new ye.Y(rt.lineNumber,rt.column+se,rt.lineNumber,rt.column+se)});this.setSelections(o,ve,je,0)}}paste(o,g,O,H,se){this._executeEdit(()=>{this._executeEditOperation(zo.u6.paste(this.context.cursorConfig,this._model,this.getSelections(),g,O,H||[]))},o,se,4)}cut(o,g){this._executeEdit(()=>{this._executeEditOperation(pa.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},o,g)}executeCommand(o,g,O){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new no.Tp(0,[g],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},o,O)}executeCommands(o,g,O){this._executeEdit(()=>{this._executeEditOperation(new no.Tp(0,g,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},o,O)}}return ut.MAX_CURSOR_COUNT=1e4,ut})();class Os{constructor(t,o){this.modelVersionId=t,this.cursorState=o}static from(t,o){return new Os(t.getVersionId(),o.getCursorStates())}equals(t){if(!t||this.modelVersionId!==t.modelVersionId||this.cursorState.length!==t.cursorState.length)return!1;for(let o=0,g=this.cursorState.length;o<g;o++)if(!this.cursorState[o].equals(t.cursorState[o]))return!1;return!0}}class Sa{constructor(t,o,g){this._model=t,this._autoClosedCharactersDecorations=o,this._autoClosedEnclosingDecorations=g}static getAllAutoClosedCharacters(t){let o=[];for(const g of t)o=o.concat(g.getAutoClosedCharactersRanges());return o}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const t=[];for(let o=0;o<this._autoClosedCharactersDecorations.length;o++){const g=this._model.getDecorationRange(this._autoClosedCharactersDecorations[o]);g&&t.push(g)}return t}isValid(t){const o=[];for(let g=0;g<this._autoClosedEnclosingDecorations.length;g++){const O=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[g]);if(O&&(o.push(O),O.startLineNumber!==O.endLineNumber))return!1}o.sort(Fe.e.compareRangesUsingStarts),t.sort(Fe.e.compareRangesUsingStarts);for(let g=0;g<t.length;g++)if(g>=o.length||!o[g].strictContainsRange(t[g]))return!1;return!0}}class Br{constructor(t,o,g){this.text=t,this.startSelection=o,this.endSelection=g}}class ys{constructor(t,o){this._original=ys._capture(t,o)}static _capture(t,o){const g=[];for(const O of o){if(O.startLineNumber!==O.endLineNumber)return null;g.push(new Br(t.getLineContent(O.startLineNumber),O.startColumn-1,O.endColumn-1))}return g}deduceOutcome(t,o){if(!this._original)return null;const g=ys._capture(t,o);if(!g||this._original.length!==g.length)return null;const O=[];for(let H=0,se=this._original.length;H<se;H++)O.push(ys._deduceOutcome(this._original[H],g[H]));return O}static _deduceOutcome(t,o){const g=Math.min(t.startSelection,o.startSelection,pt.Mh(t.text,o.text)),O=Math.min(t.text.length-t.endSelection,o.text.length-o.endSelection,pt.P1(t.text,o.text)),H=t.text.substring(g,t.text.length-O),se=o.text.substring(g,o.text.length-O);return new zo.Nu(H,t.startSelection-g,t.endSelection-g,se,o.startSelection-g,o.endSelection-g)}}var ks=e(90658),Bs=e(92651),ji=e(29584),Fs=e(3508),cs=e(64669),Fr=e(6689),Wr=e(17838);class Vr{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(t){this._hasPending=!0,this._inserts.push(t)}change(t){this._hasPending=!0,this._changes.push(t)}remove(t){this._hasPending=!0,this._removes.push(t)}mustCommit(){return this._hasPending}commit(t){if(!this._hasPending)return;const o=this._inserts,g=this._changes,O=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],t._commitPendingChanges(o,g,O)}}class yo{constructor(t,o,g,O,H){this.id=t,this.afterLineNumber=o,this.ordinal=g,this.height=O,this.minWidth=H,this.prefixSum=0}}let Hr=(()=>{class ut{constructor(o,g,O,H){this._instanceId=pt.PJ(++ut.INSTANCE_COUNT),this._pendingChanges=new Vr,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=o,this._lineHeight=g,this._paddingTop=O,this._paddingBottom=H}static findInsertionIndex(o,g,O){let H=0,se=o.length;for(;H<se;){const ve=H+se>>>1;g===o[ve].afterLineNumber?O<o[ve].ordinal?se=ve:H=ve+1:g<o[ve].afterLineNumber?se=ve:H=ve+1}return H}setLineHeight(o){this._checkPendingChanges(),this._lineHeight=o}setPadding(o,g){this._paddingTop=o,this._paddingBottom=g}onFlushed(o){this._checkPendingChanges(),this._lineCount=o}changeWhitespace(o){let g=!1;try{o({insertWhitespace:(H,se,ve,je)=>{g=!0,H|=0,se|=0,ve|=0,je|=0;const qe=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new yo(qe,H,se,ve,je)),qe},changeOneWhitespace:(H,se,ve)=>{g=!0,this._pendingChanges.change({id:H,newAfterLineNumber:se|=0,newHeight:ve|=0})},removeWhitespace:H=>{g=!0,this._pendingChanges.remove({id:H})}})}finally{this._pendingChanges.commit(this)}return g}_commitPendingChanges(o,g,O){if((o.length>0||O.length>0)&&(this._minWidth=-1),o.length+g.length+O.length<=1){for(const qe of o)this._insertWhitespace(qe);for(const qe of g)this._changeOneWhitespace(qe.id,qe.newAfterLineNumber,qe.newHeight);for(const qe of O){const rt=this._findWhitespaceIndex(qe.id);-1!==rt&&this._removeWhitespace(rt)}return}const H=new Set;for(const qe of O)H.add(qe.id);const se=new Map;for(const qe of g)se.set(qe.id,qe);const ve=qe=>{const rt=[];for(const yt of qe)if(!H.has(yt.id)){if(se.has(yt.id)){const kt=se.get(yt.id);yt.afterLineNumber=kt.newAfterLineNumber,yt.height=kt.newHeight}rt.push(yt)}return rt},je=ve(this._arr).concat(ve(o));je.sort((qe,rt)=>qe.afterLineNumber===rt.afterLineNumber?qe.ordinal-rt.ordinal:qe.afterLineNumber-rt.afterLineNumber),this._arr=je,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(o){const g=ut.findInsertionIndex(this._arr,o.afterLineNumber,o.ordinal);this._arr.splice(g,0,o),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,g-1)}_findWhitespaceIndex(o){const g=this._arr;for(let O=0,H=g.length;O<H;O++)if(g[O].id===o)return O;return-1}_changeOneWhitespace(o,g,O){const H=this._findWhitespaceIndex(o);if(-1!==H&&(this._arr[H].height!==O&&(this._arr[H].height=O,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,H-1)),this._arr[H].afterLineNumber!==g)){const se=this._arr[H];this._removeWhitespace(H),se.afterLineNumber=g,this._insertWhitespace(se)}}_removeWhitespace(o){this._arr.splice(o,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,o-1)}onLinesDeleted(o,g){this._checkPendingChanges(),this._lineCount-=(g|=0)-(o|=0)+1;for(let O=0,H=this._arr.length;O<H;O++){const se=this._arr[O].afterLineNumber;o<=se&&se<=g?this._arr[O].afterLineNumber=o-1:se>g&&(this._arr[O].afterLineNumber-=g-o+1)}}onLinesInserted(o,g){this._checkPendingChanges(),this._lineCount+=(g|=0)-(o|=0)+1;for(let O=0,H=this._arr.length;O<H;O++)o<=this._arr[O].afterLineNumber&&(this._arr[O].afterLineNumber+=g-o+1)}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(o){this._checkPendingChanges(),o|=0;let g=Math.max(0,this._prefixSumValidIndex+1);0===g&&(this._arr[0].prefixSum=this._arr[0].height,g++);for(let O=g;O<=o;O++)this._arr[O].prefixSum=this._arr[O-1].prefixSum+this._arr[O].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,o),this._arr[o].prefixSum}getLinesTotalHeight(){return this._checkPendingChanges(),this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(o){this._checkPendingChanges();const g=this._findLastWhitespaceBeforeLineNumber(o|=0);return-1===g?0:this.getWhitespacesAccumulatedHeight(g)}_findLastWhitespaceBeforeLineNumber(o){o|=0;const g=this._arr;let O=0,H=g.length-1;for(;O<=H;){const je=O+((H-O|0)/2|0)|0;if(g[je].afterLineNumber<o){if(je+1>=g.length||g[je+1].afterLineNumber>=o)return je;O=je+1|0}else H=je-1|0}return-1}_findFirstWhitespaceAfterLineNumber(o){const O=this._findLastWhitespaceBeforeLineNumber(o|=0)+1;return O<this._arr.length?O:-1}getFirstWhitespaceIndexAfterLineNumber(o){return this._checkPendingChanges(),this._findFirstWhitespaceAfterLineNumber(o|=0)}getVerticalOffsetForLineNumber(o,g=!1){let O;return this._checkPendingChanges(),O=(o|=0)>1?this._lineHeight*(o-1):0,O+this.getWhitespaceAccumulatedHeightBeforeLineNumber(o-(g?1:0))+this._paddingTop}getVerticalOffsetAfterLineNumber(o,g=!1){return this._checkPendingChanges(),this._lineHeight*(o|=0)+this.getWhitespaceAccumulatedHeightBeforeLineNumber(o+(g?1:0))+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let o=0;for(let g=0,O=this._arr.length;g<O;g++)o=Math.max(o,this._arr[g].minWidth);this._minWidth=o}return this._minWidth}isAfterLines(o){return this._checkPendingChanges(),o>this.getLinesTotalHeight()}isInTopPadding(o){return 0!==this._paddingTop&&(this._checkPendingChanges(),o<this._paddingTop)}isInBottomPadding(o){return 0!==this._paddingBottom&&(this._checkPendingChanges(),o>=this.getLinesTotalHeight()-this._paddingBottom)}getLineNumberAtOrAfterVerticalOffset(o){if(this._checkPendingChanges(),(o|=0)<0)return 1;const g=0|this._lineCount,O=this._lineHeight;let H=1,se=g;for(;H<se;){const ve=(H+se)/2|0,je=0|this.getVerticalOffsetForLineNumber(ve);if(o>=je+O)H=ve+1;else{if(o>=je)return ve;se=ve}}return H>g?g:H}getLinesViewportData(o,g){this._checkPendingChanges(),g|=0;const O=this._lineHeight,H=0|this.getLineNumberAtOrAfterVerticalOffset(o|=0),se=0|this.getVerticalOffsetForLineNumber(H);let ve=0|this._lineCount,je=0|this.getFirstWhitespaceIndexAfterLineNumber(H);const qe=0|this.getWhitespacesCount();let rt,yt;-1===je?(je=qe,yt=ve+1,rt=0):(yt=0|this.getAfterLineNumberForWhitespaceIndex(je),rt=0|this.getHeightForWhitespaceIndex(je));let kt=se,Wt=kt;const cn=5e5;let _n=0;se>=cn&&(_n=Math.floor(se/cn)*cn,_n=Math.floor(_n/O)*O,Wt-=_n);const bn=[],Mn=o+(g-o)/2;let Bn=-1;for(let di=H;di<=ve;di++){if(-1===Bn){const vi=kt,qn=kt+O;(vi<=Mn&&Mn<qn||vi>Mn)&&(Bn=di)}for(kt+=O,bn[di-H]=Wt,Wt+=O;yt===di;)Wt+=rt,kt+=rt,je++,je>=qe?yt=ve+1:(yt=0|this.getAfterLineNumberForWhitespaceIndex(je),rt=0|this.getHeightForWhitespaceIndex(je));if(kt>=g){ve=di;break}}-1===Bn&&(Bn=ve);const Hn=0|this.getVerticalOffsetForLineNumber(ve);let ti=H,gi=ve;return ti<gi&&se<o&&ti++,ti<gi&&Hn+O>g&&gi--,{bigNumbersDelta:_n,startLineNumber:H,endLineNumber:ve,relativeVerticalOffset:bn,centeredLineNumber:Bn,completelyVisibleStartLineNumber:ti,completelyVisibleEndLineNumber:gi}}getVerticalOffsetForWhitespaceIndex(o){this._checkPendingChanges();const g=this.getAfterLineNumberForWhitespaceIndex(o|=0);let O,H;return O=g>=1?this._lineHeight*g:0,H=o>0?this.getWhitespacesAccumulatedHeight(o-1):0,O+H+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(o){this._checkPendingChanges(),o|=0;let g=0,O=this.getWhitespacesCount()-1;if(O<0)return-1;if(o>=this.getVerticalOffsetForWhitespaceIndex(O)+this.getHeightForWhitespaceIndex(O))return-1;for(;g<O;){const ve=Math.floor((g+O)/2),je=this.getVerticalOffsetForWhitespaceIndex(ve);if(o>=je+this.getHeightForWhitespaceIndex(ve))g=ve+1;else{if(o>=je)return ve;O=ve}}return g}getWhitespaceAtVerticalOffset(o){this._checkPendingChanges();const g=this.getWhitespaceIndexAtOrAfterVerticallOffset(o|=0);if(g<0||g>=this.getWhitespacesCount())return null;const O=this.getVerticalOffsetForWhitespaceIndex(g);if(O>o)return null;const H=this.getHeightForWhitespaceIndex(g);return{id:this.getIdForWhitespaceIndex(g),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(g),verticalOffset:O,height:H}}getWhitespaceViewportData(o,g){this._checkPendingChanges(),g|=0;const O=this.getWhitespaceIndexAtOrAfterVerticallOffset(o|=0),H=this.getWhitespacesCount()-1;if(O<0)return[];const se=[];for(let ve=O;ve<=H;ve++){const je=this.getVerticalOffsetForWhitespaceIndex(ve),qe=this.getHeightForWhitespaceIndex(ve);if(je>=g)break;se.push({id:this.getIdForWhitespaceIndex(ve),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(ve),verticalOffset:je,height:qe})}return se}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(o){return this._checkPendingChanges(),this._arr[o|=0].id}getAfterLineNumberForWhitespaceIndex(o){return this._checkPendingChanges(),this._arr[o|=0].afterLineNumber}getHeightForWhitespaceIndex(o){return this._checkPendingChanges(),this._arr[o|=0].height}}return ut.INSTANCE_COUNT=0,ut})();class Ws{constructor(t,o,g,O){(t|=0)<0&&(t=0),(o|=0)<0&&(o=0),(g|=0)<0&&(g=0),(O|=0)<0&&(O=0),this.width=t,this.contentWidth=o,this.scrollWidth=Math.max(t,o),this.height=g,this.contentHeight=O,this.scrollHeight=Math.max(g,O)}equals(t){return this.width===t.width&&this.contentWidth===t.contentWidth&&this.height===t.height&&this.contentHeight===t.contentHeight}}class ya extends Q.JT{constructor(t,o){super(),this._onDidContentSizeChange=this._register(new R.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new Ws(0,0,0,0),this._scrollable=this._register(new Wr.Rm({forceIntegerValues:!0,smoothScrollDuration:t,scheduleAtNextAnimationFrame:o})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(t){this._scrollable.setSmoothScrollDuration(t)}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}getScrollDimensions(){return this._dimensions}setScrollDimensions(t){if(this._dimensions.equals(t))return;const o=this._dimensions;this._dimensions=t,this._scrollable.setScrollDimensions({width:t.width,scrollWidth:t.scrollWidth,height:t.height,scrollHeight:t.scrollHeight},!0),(o.contentWidth!==t.contentWidth||o.contentHeight!==t.contentHeight)&&this._onDidContentSizeChange.fire(new Pr(o.contentWidth,o.contentHeight,t.contentWidth,t.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(t){this._scrollable.setScrollPositionNow(t)}setScrollPositionSmooth(t){this._scrollable.setScrollPositionSmooth(t)}}class gl extends Q.JT{constructor(t,o,g){super(),this._configuration=t;const O=this._configuration.options,H=O.get(133),se=O.get(77);this._linesLayout=new Hr(o,O.get(61),se.top,se.bottom),this._scrollable=this._register(new ya(0,g)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new Ws(H.contentWidth,0,H.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(105)?125:0)}onConfigurationChanged(t){const o=this._configuration.options;if(t.hasChanged(61)&&this._linesLayout.setLineHeight(o.get(61)),t.hasChanged(77)){const g=o.get(77);this._linesLayout.setPadding(g.top,g.bottom)}if(t.hasChanged(133)){const g=o.get(133),O=g.contentWidth,H=g.height,se=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Ws(O,se.contentWidth,H,this._getContentHeight(O,H,se.contentWidth)))}else this._updateHeight();t.hasChanged(105)&&this._configureSmoothScrollDuration()}onFlushed(t){this._linesLayout.onFlushed(t)}onLinesDeleted(t,o){this._linesLayout.onLinesDeleted(t,o)}onLinesInserted(t,o){this._linesLayout.onLinesInserted(t,o)}_getHorizontalScrollbarHeight(t,o){const O=this._configuration.options.get(94);return 2===O.horizontal||t>=o?0:O.horizontalScrollbarSize}_getContentHeight(t,o,g){const O=this._configuration.options;let H=this._linesLayout.getLinesTotalHeight();return O.get(96)?H+=Math.max(0,o-O.get(61)-O.get(77).bottom):H+=this._getHorizontalScrollbarHeight(t,g),H}_updateHeight(){const t=this._scrollable.getScrollDimensions(),o=t.width,g=t.height;this._scrollable.setScrollDimensions(new Ws(o,t.contentWidth,g,this._getContentHeight(o,g,t.contentWidth)))}getCurrentViewport(){const t=this._scrollable.getScrollDimensions(),o=this._scrollable.getCurrentScrollPosition();return new to.l_(o.scrollTop,o.scrollLeft,t.width,t.height)}getFutureViewport(){const t=this._scrollable.getScrollDimensions(),o=this._scrollable.getFutureScrollPosition();return new to.l_(o.scrollTop,o.scrollLeft,t.width,t.height)}_computeContentWidth(t){const o=this._configuration.options,g=o.get(134),O=o.get(46),H=o.get(133);if(g.isViewportWrapping){const se=o.get(67);return t>H.contentWidth+O.typicalHalfwidthCharacterWidth&&se.enabled&&"right"===se.side?t+H.verticalScrollbarWidth:t}{const se=o.get(95)*O.typicalHalfwidthCharacterWidth,ve=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+se+H.verticalScrollbarWidth,ve)}}setMaxLineWidth(t){const o=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Ws(o.width,this._computeContentWidth(t),o.height,o.contentHeight)),this._updateHeight()}saveState(){const t=this._scrollable.getFutureScrollPosition(),o=t.scrollTop,g=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(o);return{scrollTop:o,scrollTopWithoutViewZones:o-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(g),scrollLeft:t.scrollLeft}}changeWhitespace(t){const o=this._linesLayout.changeWhitespace(t);return o&&this.onHeightMaybeChanged(),o}getVerticalOffsetForLineNumber(t,o=!1){return this._linesLayout.getVerticalOffsetForLineNumber(t,o)}getVerticalOffsetAfterLineNumber(t,o=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(t,o)}isAfterLines(t){return this._linesLayout.isAfterLines(t)}isInTopPadding(t){return this._linesLayout.isInTopPadding(t)}isInBottomPadding(t){return this._linesLayout.isInBottomPadding(t)}getLineNumberAtVerticalOffset(t){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t)}getWhitespaceAtVerticalOffset(t){return this._linesLayout.getWhitespaceAtVerticalOffset(t)}getLinesViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(t.top,t.top+t.height)}getLinesViewportDataAtScrollTop(t){const o=this._scrollable.getScrollDimensions();return t+o.height>o.scrollHeight&&(t=o.scrollHeight-o.height),t<0&&(t=0),this._linesLayout.getLinesViewportData(t,t+o.height)}getWhitespaceViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(t.top,t.top+t.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}setScrollPosition(t,o){1===o?this._scrollable.setScrollPositionNow(t):this._scrollable.setScrollPositionSmooth(t)}deltaScrollNow(t,o){const g=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:g.scrollLeft+t,scrollTop:g.scrollTop+o})}}var Ur=e(21322),ml=e(8028);function zr(ut,t){return null===ut?t?Xo.INSTANCE:jr.INSTANCE:new ar(ut,t)}class ar{constructor(t,o){this._projectionData=t,this._isVisible=o}isVisible(){return this._isVisible}setVisible(t){return this._isVisible=t,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(t,o,g){this._assertVisible();const O=g>0?this._projectionData.breakOffsets[g-1]:0,H=this._projectionData.breakOffsets[g];let se;if(null!==this._projectionData.injectionOffsets){const ve=this._projectionData.injectionOffsets.map((qe,rt)=>new jo.gk(0,0,qe+1,this._projectionData.injectionOptions[rt],0));se=jo.gk.applyInjectedText(t.getLineContent(o),ve).substring(O,H)}else se=t.getValueInRange({startLineNumber:o,startColumn:O+1,endLineNumber:o,endColumn:H+1});return g>0&&(se=Kr(this._projectionData.wrappedTextIndentLength)+se),se}getViewLineLength(t,o,g){return this._assertVisible(),this._projectionData.getLineLength(g)}getViewLineMinColumn(t,o,g){return this._assertVisible(),this._projectionData.getMinOutputOffset(g)+1}getViewLineMaxColumn(t,o,g){return this._assertVisible(),this._projectionData.getMaxOutputOffset(g)+1}getViewLineData(t,o,g){const O=new Array;return this.getViewLinesData(t,o,g,1,0,[!0],O),O[0]}getViewLinesData(t,o,g,O,H,se,ve){this._assertVisible();const je=this._projectionData,qe=je.injectionOffsets,rt=je.injectionOptions;let kt,yt=null;if(qe){yt=[];let Wt=0,cn=0;for(let _n=0;_n<je.getOutputLineCount();_n++){const bn=new Array;yt[_n]=bn;const Mn=_n>0?je.breakOffsets[_n-1]:0,Bn=je.breakOffsets[_n];for(;cn<qe.length;){const Hn=rt[cn].content.length,ti=qe[cn]+Wt,gi=ti+Hn;if(ti>Bn)break;if(Mn<gi){const di=rt[cn];if(di.inlineClassName){const vi=_n>0?je.wrappedTextIndentLength:0,qn=vi+Math.max(ti-Mn,0),bi=vi+Math.min(gi-Mn,Bn);qn!==bi&&bn.push(new to.Wx(qn,bi,di.inlineClassName,di.inlineClassNameAffectsLetterSpacing))}}if(!(gi<=Bn))break;Wt+=Hn,cn++}}}kt=qe?t.tokenization.getLineTokens(o).withInserted(qe.map((Wt,cn)=>({offset:Wt,text:rt[cn].content,tokenMetadata:ml.A.defaultTokenMetadata}))):t.tokenization.getLineTokens(o);for(let Wt=g;Wt<g+O;Wt++){const cn=H+Wt-g;ve[cn]=se[cn]?this._getViewLineData(kt,yt?yt[Wt]:null,Wt):null}}_getViewLineData(t,o,g){this._assertVisible();const O=this._projectionData,je=t.sliceAndInflate(g>0?O.breakOffsets[g-1]:0,O.breakOffsets[g],g>0?O.wrappedTextIndentLength:0);let qe=je.getLineContent();g>0&&(qe=Kr(O.wrappedTextIndentLength)+qe);const rt=this._projectionData.getMinOutputOffset(g)+1,yt=qe.length+1,kt=g+1<this.getViewLineCount();return new to.IP(qe,kt,rt,yt,0===g?0:O.breakOffsetsVisibleColumn[g-1],je,o)}getModelColumnOfViewPosition(t,o){return this._assertVisible(),this._projectionData.translateToInputOffset(t,o-1)+1}getViewPositionOfModelPosition(t,o,g=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(o-1,g).toPosition(t)}getViewLineNumberOfModelPosition(t,o){return this._assertVisible(),t+this._projectionData.translateToOutputPosition(o-1).outputLineIndex}normalizePosition(t,o,g){const O=o.lineNumber-t;return this._projectionData.normalizeOutputPosition(t,o.column-1,g).toPosition(O)}getInjectedTextAt(t,o){return this._projectionData.getInjectedText(t,o-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class Xo{constructor(){}isVisible(){return!0}setVisible(t){return t?this:jr.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(t,o,g){return t.getLineContent(o)}getViewLineLength(t,o,g){return t.getLineLength(o)}getViewLineMinColumn(t,o,g){return t.getLineMinColumn(o)}getViewLineMaxColumn(t,o,g){return t.getLineMaxColumn(o)}getViewLineData(t,o,g){const O=t.tokenization.getLineTokens(o),H=O.getLineContent();return new to.IP(H,!1,1,H.length+1,0,O.inflate(),null)}getViewLinesData(t,o,g,O,H,se,ve){ve[H]=se[H]?this.getViewLineData(t,o,0):null}getModelColumnOfViewPosition(t,o){return o}getViewPositionOfModelPosition(t,o){return new Ee.L(t,o)}getViewLineNumberOfModelPosition(t,o){return t}normalizePosition(t,o,g){return o}getInjectedTextAt(t,o){return null}}Xo.INSTANCE=new Xo;class jr{constructor(){}isVisible(){return!1}setVisible(t){return t?Xo.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(t,o,g){throw new Error("Not supported")}getViewLineLength(t,o,g){throw new Error("Not supported")}getViewLineMinColumn(t,o,g){throw new Error("Not supported")}getViewLineMaxColumn(t,o,g){throw new Error("Not supported")}getViewLineData(t,o,g){throw new Error("Not supported")}getViewLinesData(t,o,g,O,H,se,ve){throw new Error("Not supported")}getModelColumnOfViewPosition(t,o){throw new Error("Not supported")}getViewPositionOfModelPosition(t,o){throw new Error("Not supported")}getViewLineNumberOfModelPosition(t,o){throw new Error("Not supported")}normalizePosition(t,o,g){throw new Error("Not supported")}getInjectedTextAt(t,o){throw new Error("Not supported")}}jr.INSTANCE=new jr;const wa=[""];function Kr(ut){if(ut>=wa.length)for(let t=1;t<=ut;t++)wa[t]=ws(t);return wa[ut]}function ws(ut){return new Array(ut+1).join(" ")}var La=e(45589);class Ls{constructor(t,o,g,O,H,se,ve,je,qe){this._editorId=t,this.model=o,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=g,this._monospaceLineBreaksComputerFactory=O,this.fontInfo=H,this.tabSize=se,this.wrappingStrategy=ve,this.wrappingColumn=je,this.wrappingIndent=qe,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new od(this)}_constructLines(t,o){this.modelLineProjections=[],t&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const g=this.model.getLinesContent(),O=this.model.getInjectedTextDecorations(this._editorId),H=g.length,se=this.createLineBreaksComputer(),ve=new F.H9(jo.gk.fromDecorations(O));for(let _n=0;_n<H;_n++){const bn=ve.takeWhile(Mn=>Mn.lineNumber===_n+1);se.addRequest(g[_n],bn,o?o[_n]:null)}const je=se.finalize(),qe=[],rt=this.hiddenAreasDecorationIds.map(_n=>this.model.getDecorationRange(_n)).sort(Fe.e.compareRangesUsingStarts);let yt=1,kt=0,Wt=-1,cn=Wt+1<rt.length?kt+1:H+2;for(let _n=0;_n<H;_n++){const bn=_n+1;bn===cn&&(Wt++,yt=rt[Wt].startLineNumber,kt=rt[Wt].endLineNumber,cn=Wt+1<rt.length?kt+1:H+2);const Bn=zr(je[_n],!(bn>=yt&&bn<=kt));qe[_n]=Bn.getViewLineCount(),this.modelLineProjections[_n]=Bn}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new La.Ck(qe)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(t=>this.model.getDecorationRange(t))}setHiddenAreas(t){const g=function lr(ut){if(0===ut.length)return[];const t=ut.slice();t.sort(Fe.e.compareRangesUsingStarts);const o=[];let g=t[0].startLineNumber,O=t[0].endLineNumber;for(let H=1,se=t.length;H<se;H++){const ve=t[H];ve.startLineNumber>O+1?(o.push(new Fe.e(g,1,O,1)),g=ve.startLineNumber,O=ve.endLineNumber):ve.endLineNumber>O&&(O=ve.endLineNumber)}return o.push(new Fe.e(g,1,O,1)),o}(t.map(kt=>this.model.validateRange(kt))),O=this.hiddenAreasDecorationIds.map(kt=>this.model.getDecorationRange(kt)).sort(Fe.e.compareRangesUsingStarts);if(g.length===O.length){let kt=!1;for(let Wt=0;Wt<g.length;Wt++)if(!g[Wt].equalsRange(O[Wt])){kt=!0;break}if(!kt)return!1}const H=g.map(kt=>({range:kt,options:Fs.qx.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,H);const se=g;let ve=1,je=0,qe=-1,rt=qe+1<se.length?je+1:this.modelLineProjections.length+2,yt=!1;for(let kt=0;kt<this.modelLineProjections.length;kt++){const Wt=kt+1;Wt===rt&&(qe++,ve=se[qe].startLineNumber,je=se[qe].endLineNumber,rt=qe+1<se.length?je+1:this.modelLineProjections.length+2);let cn=!1;if(Wt>=ve&&Wt<=je?this.modelLineProjections[kt].isVisible()&&(this.modelLineProjections[kt]=this.modelLineProjections[kt].setVisible(!1),cn=!0):(yt=!0,this.modelLineProjections[kt].isVisible()||(this.modelLineProjections[kt]=this.modelLineProjections[kt].setVisible(!0),cn=!0)),cn){const _n=this.modelLineProjections[kt].getViewLineCount();this.projectedModelLineLineCounts.setValue(kt,_n)}}return yt||this.setHiddenAreas([]),!0}modelPositionIsVisible(t,o){return!(t<1||t>this.modelLineProjections.length)&&this.modelLineProjections[t-1].isVisible()}getModelLineViewLineCount(t){return t<1||t>this.modelLineProjections.length?1:this.modelLineProjections[t-1].getViewLineCount()}setTabSize(t){return this.tabSize!==t&&(this.tabSize=t,this._constructLines(!1,null),!0)}setWrappingSettings(t,o,g,O){const H=this.fontInfo.equals(t),se=this.wrappingStrategy===o,ve=this.wrappingColumn===g,je=this.wrappingIndent===O;if(H&&se&&ve&&je)return!1;const qe=H&&se&&!ve&&je;this.fontInfo=t,this.wrappingStrategy=o,this.wrappingColumn=g,this.wrappingIndent=O;let rt=null;if(qe){rt=[];for(let yt=0,kt=this.modelLineProjections.length;yt<kt;yt++)rt[yt]=this.modelLineProjections[yt].getProjectionData()}return this._constructLines(!1,rt),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(t,o,g){if(!t||t<=this._validModelVersionId)return null;const O=1===o?1:this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,H=this.projectedModelLineLineCounts.getPrefixSum(g);return this.modelLineProjections.splice(o-1,g-o+1),this.projectedModelLineLineCounts.removeValues(o-1,g-o+1),new Mr(O,H)}onModelLinesInserted(t,o,g,O){if(!t||t<=this._validModelVersionId)return null;const H=o>2&&!this.modelLineProjections[o-2].isVisible(),se=1===o?1:this.projectedModelLineLineCounts.getPrefixSum(o-1)+1;let ve=0;const je=[],qe=[];for(let rt=0,yt=O.length;rt<yt;rt++){const kt=zr(O[rt],!H);je.push(kt);const Wt=kt.getViewLineCount();ve+=Wt,qe[rt]=Wt}return this.modelLineProjections=this.modelLineProjections.slice(0,o-1).concat(je).concat(this.modelLineProjections.slice(o-1)),this.projectedModelLineLineCounts.insertValues(o-1,qe),new Tr(se,se+ve-1)}onModelLineChanged(t,o,g){if(null!==t&&t<=this._validModelVersionId)return[!1,null,null,null];const O=o-1,H=this.modelLineProjections[O].getViewLineCount(),ve=zr(g,this.modelLineProjections[O].isVisible());this.modelLineProjections[O]=ve;const je=this.modelLineProjections[O].getViewLineCount();let qe=!1,rt=0,yt=-1,kt=0,Wt=-1,cn=0,_n=-1;return H>je?(rt=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,yt=rt+je-1,cn=yt+1,_n=cn+(H-je)-1,qe=!0):H<je?(rt=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,yt=rt+H-1,kt=yt+1,Wt=kt+(je-H)-1,qe=!0):(rt=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,yt=rt+je-1),this.projectedModelLineLineCounts.setValue(O,je),[qe,rt<=yt?new xr(rt,yt-rt+1):null,kt<=Wt?new Tr(kt,Wt):null,cn<=_n?new Mr(cn,_n):null]}acceptVersionId(t){this._validModelVersionId=t,1===this.modelLineProjections.length&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(t){if(t<1)return 1;const o=this.getViewLineCount();return t>o?o:0|t}getActiveIndentGuide(t,o,g){t=this._toValidViewLineNumber(t),o=this._toValidViewLineNumber(o),g=this._toValidViewLineNumber(g);const O=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),H=this.convertViewPositionToModelPosition(o,this.getViewLineMinColumn(o)),se=this.convertViewPositionToModelPosition(g,this.getViewLineMinColumn(g)),ve=this.model.guides.getActiveIndentGuide(O.lineNumber,H.lineNumber,se.lineNumber),je=this.convertModelPositionToViewPosition(ve.startLineNumber,1),qe=this.convertModelPositionToViewPosition(ve.endLineNumber,this.model.getLineMaxColumn(ve.endLineNumber));return{startLineNumber:je.lineNumber,endLineNumber:qe.lineNumber,indent:ve.indent}}getViewLineInfo(t){t=this._toValidViewLineNumber(t);const o=this.projectedModelLineLineCounts.getIndexOf(t-1);return new hs(o.index+1,o.remainder)}getMinColumnOfViewLine(t){return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(t){return this.modelLineProjections[t.modelLineNumber-1].getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(t){const o=this.modelLineProjections[t.modelLineNumber-1],g=o.getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx),O=o.getModelColumnOfViewPosition(t.modelLineWrappedLineIdx,g);return new Ee.L(t.modelLineNumber,O)}getModelEndPositionOfViewLine(t){const o=this.modelLineProjections[t.modelLineNumber-1],g=o.getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx),O=o.getModelColumnOfViewPosition(t.modelLineWrappedLineIdx,g);return new Ee.L(t.modelLineNumber,O)}getViewLineInfosGroupedByModelRanges(t,o){const g=this.getViewLineInfo(t),O=this.getViewLineInfo(o),H=new Array;let se=this.getModelStartPositionOfViewLine(g),ve=new Array;for(let je=g.modelLineNumber;je<=O.modelLineNumber;je++){const qe=this.modelLineProjections[je-1];if(qe.isVisible()){const rt=je===g.modelLineNumber?g.modelLineWrappedLineIdx:0,yt=je===O.modelLineNumber?O.modelLineWrappedLineIdx+1:qe.getViewLineCount();for(let kt=rt;kt<yt;kt++)ve.push(new hs(je,kt))}if(!qe.isVisible()&&se){const rt=new Ee.L(je-1,this.model.getLineMaxColumn(je-1)+1),yt=Fe.e.fromPositions(se,rt);H.push(new pl(yt,ve)),ve=[],se=null}else qe.isVisible()&&!se&&(se=new Ee.L(je,1))}if(se){const je=Fe.e.fromPositions(se,this.getModelEndPositionOfViewLine(O));H.push(new pl(je,ve))}return H}getViewLinesBracketGuides(t,o,g,O){const H=g?this.convertViewPositionToModelPosition(g.lineNumber,g.column):null,se=[];for(const ve of this.getViewLineInfosGroupedByModelRanges(t,o)){const je=ve.modelRange.startLineNumber,qe=this.model.guides.getLinesBracketGuides(je,ve.modelRange.endLineNumber,H,O);for(const rt of ve.viewLines){const kt=qe[rt.modelLineNumber-je].map(Wt=>{if(-1!==Wt.forWrappedLinesAfterColumn&&this.modelLineProjections[rt.modelLineNumber-1].getViewPositionOfModelPosition(0,Wt.forWrappedLinesAfterColumn).lineNumber>=rt.modelLineWrappedLineIdx||-1!==Wt.forWrappedLinesBeforeOrAtColumn&&this.modelLineProjections[rt.modelLineNumber-1].getViewPositionOfModelPosition(0,Wt.forWrappedLinesBeforeOrAtColumn).lineNumber<rt.modelLineWrappedLineIdx)return;if(!Wt.horizontalLine)return Wt;let cn=-1;if(-1!==Wt.column){const Mn=this.modelLineProjections[rt.modelLineNumber-1].getViewPositionOfModelPosition(0,Wt.column);if(Mn.lineNumber===rt.modelLineWrappedLineIdx)cn=Mn.column;else if(Mn.lineNumber<rt.modelLineWrappedLineIdx)cn=this.getMinColumnOfViewLine(rt);else if(Mn.lineNumber>rt.modelLineWrappedLineIdx)return}const _n=this.convertModelPositionToViewPosition(rt.modelLineNumber,Wt.horizontalLine.endColumn),bn=this.modelLineProjections[rt.modelLineNumber-1].getViewPositionOfModelPosition(0,Wt.horizontalLine.endColumn);return bn.lineNumber===rt.modelLineWrappedLineIdx?new Ni.UO(Wt.visibleColumn,cn,Wt.className,new Ni.vW(Wt.horizontalLine.top,_n.column),-1,-1):bn.lineNumber<rt.modelLineWrappedLineIdx||-1!==Wt.visibleColumn?void 0:new Ni.UO(Wt.visibleColumn,cn,Wt.className,new Ni.vW(Wt.horizontalLine.top,this.getMaxColumnOfViewLine(rt)),-1,-1)});se.push(kt.filter(Wt=>!!Wt))}}return se}getViewLinesIndentGuides(t,o){t=this._toValidViewLineNumber(t),o=this._toValidViewLineNumber(o);const g=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),O=this.convertViewPositionToModelPosition(o,this.getViewLineMaxColumn(o));let H=[];const se=[],ve=[],je=g.lineNumber-1,qe=O.lineNumber-1;let rt=null;for(let cn=je;cn<=qe;cn++){const _n=this.modelLineProjections[cn];if(_n.isVisible()){const bn=_n.getViewLineNumberOfModelPosition(0,cn===je?g.column:1),Mn=_n.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(cn+1)),Bn=Mn-bn+1;let Hn=0;Bn>1&&1===_n.getViewLineMinColumn(this.model,cn+1,Mn)&&(Hn=0===bn?1:2),se.push(Bn),ve.push(Hn),null===rt&&(rt=new Ee.L(cn+1,0))}else null!==rt&&(H=H.concat(this.model.guides.getLinesIndentGuides(rt.lineNumber,cn)),rt=null)}null!==rt&&(H=H.concat(this.model.guides.getLinesIndentGuides(rt.lineNumber,O.lineNumber)),rt=null);const yt=o-t+1,kt=new Array(yt);let Wt=0;for(let cn=0,_n=H.length;cn<_n;cn++){let bn=H[cn];const Mn=Math.min(yt-Wt,se[cn]),Bn=ve[cn];let Hn;Hn=2===Bn?0:1===Bn?1:Mn;for(let ti=0;ti<Mn;ti++)ti===Hn&&(bn=0),kt[Wt++]=bn}return kt}getViewLineContent(t){const o=this.getViewLineInfo(t);return this.modelLineProjections[o.modelLineNumber-1].getViewLineContent(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineLength(t){const o=this.getViewLineInfo(t);return this.modelLineProjections[o.modelLineNumber-1].getViewLineLength(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineMinColumn(t){const o=this.getViewLineInfo(t);return this.modelLineProjections[o.modelLineNumber-1].getViewLineMinColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineMaxColumn(t){const o=this.getViewLineInfo(t);return this.modelLineProjections[o.modelLineNumber-1].getViewLineMaxColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineData(t){const o=this.getViewLineInfo(t);return this.modelLineProjections[o.modelLineNumber-1].getViewLineData(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLinesData(t,o,g){t=this._toValidViewLineNumber(t),o=this._toValidViewLineNumber(o);const O=this.projectedModelLineLineCounts.getIndexOf(t-1);let H=t;const se=O.index,ve=O.remainder,je=[];for(let qe=se,rt=this.model.getLineCount();qe<rt;qe++){const yt=this.modelLineProjections[qe];if(!yt.isVisible())continue;const kt=qe===se?ve:0;let Wt=yt.getViewLineCount()-kt,cn=!1;if(H+Wt>o&&(cn=!0,Wt=o-H+1),yt.getViewLinesData(this.model,qe+1,kt,Wt,H-t,g,je),H+=Wt,cn)break}return je}validateViewPosition(t,o,g){t=this._toValidViewLineNumber(t);const O=this.projectedModelLineLineCounts.getIndexOf(t-1),H=O.index,se=O.remainder,ve=this.modelLineProjections[H],je=ve.getViewLineMinColumn(this.model,H+1,se),qe=ve.getViewLineMaxColumn(this.model,H+1,se);o<je&&(o=je),o>qe&&(o=qe);const rt=ve.getModelColumnOfViewPosition(se,o);return this.model.validatePosition(new Ee.L(H+1,rt)).equals(g)?new Ee.L(t,o):this.convertModelPositionToViewPosition(g.lineNumber,g.column)}validateViewRange(t,o){const g=this.validateViewPosition(t.startLineNumber,t.startColumn,o.getStartPosition()),O=this.validateViewPosition(t.endLineNumber,t.endColumn,o.getEndPosition());return new Fe.e(g.lineNumber,g.column,O.lineNumber,O.column)}convertViewPositionToModelPosition(t,o){const g=this.getViewLineInfo(t),O=this.modelLineProjections[g.modelLineNumber-1].getModelColumnOfViewPosition(g.modelLineWrappedLineIdx,o);return this.model.validatePosition(new Ee.L(g.modelLineNumber,O))}convertViewRangeToModelRange(t){const o=this.convertViewPositionToModelPosition(t.startLineNumber,t.startColumn),g=this.convertViewPositionToModelPosition(t.endLineNumber,t.endColumn);return new Fe.e(o.lineNumber,o.column,g.lineNumber,g.column)}convertModelPositionToViewPosition(t,o,g=2){const O=this.model.validatePosition(new Ee.L(t,o)),H=O.lineNumber,se=O.column;let ve=H-1,je=!1;for(;ve>0&&!this.modelLineProjections[ve].isVisible();)ve--,je=!0;if(0===ve&&!this.modelLineProjections[ve].isVisible())return new Ee.L(1,1);const qe=1+this.projectedModelLineLineCounts.getPrefixSum(ve);let rt;return rt=je?this.modelLineProjections[ve].getViewPositionOfModelPosition(qe,this.model.getLineMaxColumn(ve+1),g):this.modelLineProjections[H-1].getViewPositionOfModelPosition(qe,se,g),rt}convertModelRangeToViewRange(t,o=0){if(t.isEmpty()){const g=this.convertModelPositionToViewPosition(t.startLineNumber,t.startColumn,o);return Fe.e.fromPositions(g)}{const g=this.convertModelPositionToViewPosition(t.startLineNumber,t.startColumn,1),O=this.convertModelPositionToViewPosition(t.endLineNumber,t.endColumn,0);return new Fe.e(g.lineNumber,g.column,O.lineNumber,O.column)}}getViewLineNumberOfModelPosition(t,o){let g=t-1;if(this.modelLineProjections[g].isVisible()){const H=1+this.projectedModelLineLineCounts.getPrefixSum(g);return this.modelLineProjections[g].getViewLineNumberOfModelPosition(H,o)}for(;g>0&&!this.modelLineProjections[g].isVisible();)g--;if(0===g&&!this.modelLineProjections[g].isVisible())return 1;const O=1+this.projectedModelLineLineCounts.getPrefixSum(g);return this.modelLineProjections[g].getViewLineNumberOfModelPosition(O,this.model.getLineMaxColumn(g+1))}getDecorationsInRange(t,o,g){const O=this.convertViewPositionToModelPosition(t.startLineNumber,t.startColumn),H=this.convertViewPositionToModelPosition(t.endLineNumber,t.endColumn);if(H.lineNumber-O.lineNumber<=t.endLineNumber-t.startLineNumber)return this.model.getDecorationsInRange(new Fe.e(O.lineNumber,1,H.lineNumber,H.column),o,g);let se=[];const ve=O.lineNumber-1,je=H.lineNumber-1;let qe=null;for(let Wt=ve;Wt<=je;Wt++)if(this.modelLineProjections[Wt].isVisible())null===qe&&(qe=new Ee.L(Wt+1,Wt===ve?O.column:1));else if(null!==qe){const _n=this.model.getLineMaxColumn(Wt);se=se.concat(this.model.getDecorationsInRange(new Fe.e(qe.lineNumber,qe.column,Wt,_n),o,g)),qe=null}null!==qe&&(se=se.concat(this.model.getDecorationsInRange(new Fe.e(qe.lineNumber,qe.column,H.lineNumber,H.column),o,g)),qe=null),se.sort((Wt,cn)=>{const _n=Fe.e.compareRangesUsingStarts(Wt.range,cn.range);return 0===_n?Wt.id<cn.id?-1:Wt.id>cn.id?1:0:_n});const rt=[];let yt=0,kt=null;for(const Wt of se){const cn=Wt.id;kt!==cn&&(kt=cn,rt[yt++]=Wt)}return rt}getInjectedTextAt(t){const o=this.getViewLineInfo(t.lineNumber);return this.modelLineProjections[o.modelLineNumber-1].getInjectedTextAt(o.modelLineWrappedLineIdx,t.column)}normalizePosition(t,o){const g=this.getViewLineInfo(t.lineNumber);return this.modelLineProjections[g.modelLineNumber-1].normalizePosition(g.modelLineWrappedLineIdx,t,o)}getLineIndentColumn(t){const o=this.getViewLineInfo(t);return 0===o.modelLineWrappedLineIdx?this.model.getLineIndentColumn(o.modelLineNumber):0}}class hs{constructor(t,o){this.modelLineNumber=t,this.modelLineWrappedLineIdx=o}}class pl{constructor(t,o){this.modelRange=t,this.viewLines=o}}class od{constructor(t){this._lines=t}convertViewPositionToModelPosition(t){return this._lines.convertViewPositionToModelPosition(t.lineNumber,t.column)}convertViewRangeToModelRange(t){return this._lines.convertViewRangeToModelRange(t)}validateViewPosition(t,o){return this._lines.validateViewPosition(t.lineNumber,t.column,o)}validateViewRange(t,o){return this._lines.validateViewRange(t,o)}convertModelPositionToViewPosition(t,o){return this._lines.convertModelPositionToViewPosition(t.lineNumber,t.column,o)}convertModelRangeToViewRange(t,o){return this._lines.convertModelRangeToViewRange(t,o)}modelPositionIsVisible(t){return this._lines.modelPositionIsVisible(t.lineNumber,t.column)}getModelLineViewLineCount(t){return this._lines.getModelLineViewLineCount(t)}getViewLineNumberOfModelPosition(t,o){return this._lines.getViewLineNumberOfModelPosition(t,o)}}class vl{constructor(t){this.model=t}dispose(){}createCoordinatesConverter(){return new Ea(this)}getHiddenAreas(){return[]}setHiddenAreas(t){return!1}setTabSize(t){return!1}setWrappingSettings(t,o,g,O){return!1}createLineBreaksComputer(){const t=[];return{addRequest:(o,g,O)=>{t.push(null)},finalize:()=>t}}onModelFlushed(){}onModelLinesDeleted(t,o,g){return new Mr(o,g)}onModelLinesInserted(t,o,g,O){return new Tr(o,g)}onModelLineChanged(t,o,g){return[!1,new xr(o,1),null,null]}acceptVersionId(t){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(t,o,g){return{startLineNumber:t,endLineNumber:t,indent:0}}getViewLinesBracketGuides(t,o,g){return new Array(o-t+1).fill([])}getViewLinesIndentGuides(t,o){const g=o-t+1,O=new Array(g);for(let H=0;H<g;H++)O[H]=0;return O}getViewLineContent(t){return this.model.getLineContent(t)}getViewLineLength(t){return this.model.getLineLength(t)}getViewLineMinColumn(t){return this.model.getLineMinColumn(t)}getViewLineMaxColumn(t){return this.model.getLineMaxColumn(t)}getViewLineData(t){const o=this.model.tokenization.getLineTokens(t),g=o.getLineContent();return new to.IP(g,!1,1,g.length+1,0,o.inflate(),null)}getViewLinesData(t,o,g){const O=this.model.getLineCount();t=Math.min(Math.max(1,t),O),o=Math.min(Math.max(1,o),O);const H=[];for(let se=t;se<=o;se++){const ve=se-t;H[ve]=g[ve]?this.getViewLineData(se):null}return H}getDecorationsInRange(t,o,g){return this.model.getDecorationsInRange(t,o,g)}normalizePosition(t,o){return this.model.normalizePosition(t,o)}getLineIndentColumn(t){return this.model.getLineIndentColumn(t)}getInjectedTextAt(t){return null}}class Ea{constructor(t){this._lines=t}_validPosition(t){return this._lines.model.validatePosition(t)}_validRange(t){return this._lines.model.validateRange(t)}convertViewPositionToModelPosition(t){return this._validPosition(t)}convertViewRangeToModelRange(t){return this._validRange(t)}validateViewPosition(t,o){return this._validPosition(o)}validateViewRange(t,o){return this._validRange(o)}convertModelPositionToViewPosition(t){return this._validPosition(t)}convertModelRangeToViewRange(t){return this._validRange(t)}modelPositionIsVisible(t){const o=this._lines.model.getLineCount();return!(t.lineNumber<1||t.lineNumber>o)}getModelLineViewLineCount(t){return 1}getViewLineNumberOfModelPosition(t,o){return t}}class dr extends Q.JT{constructor(t,o,g,O,H,se,ve,je){if(super(),this.languageConfigurationService=ve,this._themeService=je,this._editorId=t,this._configuration=o,this.model=g,this._eventDispatcher=new _a,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new no.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new Ae.pY(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new Ae.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=is.create(this.model),this.model.isTooLargeForTokenization())this._lines=new vl(this.model);else{const qe=this._configuration.options,rt=qe.get(46),yt=qe.get(127),kt=qe.get(134),Wt=qe.get(126);this._lines=new Ls(this._editorId,this.model,O,H,rt,this.model.getOptions().tabSize,yt,kt.wrappingColumn,Wt)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new Yo(g,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new gl(this._configuration,this.getLineCount(),se)),this._register(this.viewLayout.onDidScroll(qe=>{qe.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),qe.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new va(qe)),this._eventDispatcher.emitOutgoingEvent(new ns(qe.oldScrollWidth,qe.oldScrollLeft,qe.oldScrollHeight,qe.oldScrollTop,qe.scrollWidth,qe.scrollLeft,qe.scrollHeight,qe.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(qe=>{this._eventDispatcher.emitOutgoingEvent(qe)})),this._decorations=new Ur.CU(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(qe=>{try{const rt=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(rt,qe)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(fo.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new Cs)})),this._register(this._themeService.onDidColorThemeChange(qe=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new Nr(qe))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(t){this._eventDispatcher.addViewEventHandler(t)}removeViewEventHandler(t){this._eventDispatcher.removeViewEventHandler(t)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const t=this.viewLayout.getLinesViewportData(),o=new Fe.e(t.startLineNumber,this.getLineMinColumn(t.startLineNumber),t.endLineNumber,this.getLineMaxColumn(t.endLineNumber)),g=this._toModelVisibleRanges(o);for(const O of g)this.model.tokenization.tokenizeViewport(O.startLineNumber,O.endLineNumber)}setHasFocus(t){this._hasFocus=t,this._cursor.setHasFocus(t),this._eventDispatcher.emitSingleViewEvent(new or(t)),this._eventDispatcher.emitOutgoingEvent(new To(!t,t))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new ll)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new dl)}_onConfigurationChanged(t,o){let g=null;if(this._viewportStart.isValid){const rt=new Ee.L(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber));g=this.coordinatesConverter.convertViewPositionToModelPosition(rt)}let O=!1;const H=this._configuration.options,se=H.get(46),ve=H.get(127),je=H.get(134),qe=H.get(126);if(this._lines.setWrappingSettings(se,ve,je.wrappingColumn,qe)&&(t.emitViewEvent(new ir),t.emitViewEvent(new ds),t.emitViewEvent(new ls(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(O=!0),this._updateConfigurationViewLineCount.schedule()),o.hasChanged(83)&&(this._decorations.reset(),t.emitViewEvent(new ls(null))),t.emitViewEvent(new cl(o)),this.viewLayout.onConfigurationChanged(o),O&&g){const rt=this.coordinatesConverter.convertModelPositionToViewPosition(g),yt=this.viewLayout.getVerticalOffsetForLineNumber(rt.lineNumber);this.viewLayout.setScrollPosition({scrollTop:yt+this._viewportStart.startLineDelta},1)}no.LM.shouldRecreate(o)&&(this.cursorConfig=new no.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(t=>{try{const g=this._eventDispatcher.beginEmitViewEvents();let O=!1,H=!1;const se=t instanceof jo.fV?t.rawContentChangedEvent.changes:t.changes,ve=t instanceof jo.fV?t.rawContentChangedEvent.versionId:null,je=this._lines.createLineBreaksComputer();for(const yt of se)switch(yt.changeType){case 4:for(let kt=0;kt<yt.detail.length;kt++){const Wt=yt.detail[kt];let cn=yt.injectedTexts[kt];cn&&(cn=cn.filter(_n=>!_n.ownerId||_n.ownerId===this._editorId)),je.addRequest(Wt,cn,null)}break;case 2:{let kt=null;yt.injectedText&&(kt=yt.injectedText.filter(Wt=>!Wt.ownerId||Wt.ownerId===this._editorId)),je.addRequest(yt.detail,kt,null);break}}const qe=je.finalize(),rt=new F.H9(qe);for(const yt of se)switch(yt.changeType){case 1:this._lines.onModelFlushed(),g.emitViewEvent(new ir),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),O=!0;break;case 3:{const kt=this._lines.onModelLinesDeleted(ve,yt.fromLineNumber,yt.toLineNumber);null!==kt&&(g.emitViewEvent(kt),this.viewLayout.onLinesDeleted(kt.fromLineNumber,kt.toLineNumber)),O=!0;break}case 4:{const kt=rt.takeCount(yt.detail.length),Wt=this._lines.onModelLinesInserted(ve,yt.fromLineNumber,yt.toLineNumber,kt);null!==Wt&&(g.emitViewEvent(Wt),this.viewLayout.onLinesInserted(Wt.fromLineNumber,Wt.toLineNumber)),O=!0;break}case 2:{const kt=rt.dequeue(),[Wt,cn,_n,bn]=this._lines.onModelLineChanged(ve,yt.lineNumber,kt);H=Wt,cn&&g.emitViewEvent(cn),_n&&(g.emitViewEvent(_n),this.viewLayout.onLinesInserted(_n.fromLineNumber,_n.toLineNumber)),bn&&(g.emitViewEvent(bn),this.viewLayout.onLinesDeleted(bn.fromLineNumber,bn.toLineNumber));break}}null!==ve&&this._lines.acceptVersionId(ve),this.viewLayout.onHeightMaybeChanged(),!O&&H&&(g.emitViewEvent(new ds),g.emitViewEvent(new ls(null)),this._cursor.onLineMappingChanged(g),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const o=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&o){const g=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(g){const O=this.coordinatesConverter.convertModelPositionToViewPosition(g.getStartPosition()),H=this.viewLayout.getVerticalOffsetForLineNumber(O.lineNumber);this.viewLayout.setScrollPosition({scrollTop:H+this._viewportStart.startLineDelta},1)}}try{const g=this._eventDispatcher.beginEmitViewEvents();t instanceof jo.fV&&g.emitOutgoingEvent(new kr(t.contentChangedEvent)),this._cursor.onModelContentChanged(g,t)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(t=>{const o=[];for(let g=0,O=t.ranges.length;g<O;g++){const H=t.ranges[g],se=this.coordinatesConverter.convertModelPositionToViewPosition(new Ee.L(H.fromLineNumber,1)).lineNumber,ve=this.coordinatesConverter.convertModelPositionToViewPosition(new Ee.L(H.toLineNumber,this.model.getLineMaxColumn(H.toLineNumber))).lineNumber;o[g]={fromLineNumber:se,toLineNumber:ve}}this._eventDispatcher.emitSingleViewEvent(new Ar(o)),t.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitOutgoingEvent(new fl(t))})),this._register(this.model.onDidChangeLanguageConfiguration(t=>{this._eventDispatcher.emitSingleViewEvent(new Ir),this.cursorConfig=new no.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new ba(t))})),this._register(this.model.onDidChangeLanguage(t=>{this.cursorConfig=new no.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Rr(t))})),this._register(this.model.onDidChangeOptions(t=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const o=this._eventDispatcher.beginEmitViewEvents();o.emitViewEvent(new ir),o.emitViewEvent(new ds),o.emitViewEvent(new ls(null)),this._cursor.onLineMappingChanged(o),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new no.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new ul(t))})),this._register(this.model.onDidChangeDecorations(t=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new ls(t)),this._eventDispatcher.emitOutgoingEvent(new Ss(t))}))}setHiddenAreas(t){let o=!1;try{const g=this._eventDispatcher.beginEmitViewEvents();o=this._lines.setHiddenAreas(t),o&&(g.emitViewEvent(new ir),g.emitViewEvent(new ds),g.emitViewEvent(new ls(null)),this._cursor.onLineMappingChanged(g),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),o&&this._eventDispatcher.emitOutgoingEvent(new Or)}getVisibleRangesPlusViewportAboveBelow(){const t=this._configuration.options.get(133),o=this._configuration.options.get(61),g=Math.max(20,Math.round(t.height/o)),O=this.viewLayout.getLinesViewportData(),H=Math.max(1,O.completelyVisibleStartLineNumber-g),se=Math.min(this.getLineCount(),O.completelyVisibleEndLineNumber+g);return this._toModelVisibleRanges(new Fe.e(H,this.getLineMinColumn(H),se,this.getLineMaxColumn(se)))}getVisibleRanges(){const t=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(t)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(t){const o=this.coordinatesConverter.convertViewRangeToModelRange(t),g=this._lines.getHiddenAreas();if(0===g.length)return[o];const O=[];let H=0,se=o.startLineNumber,ve=o.startColumn;const je=o.endLineNumber,qe=o.endColumn;for(let rt=0,yt=g.length;rt<yt;rt++){const kt=g[rt].startLineNumber,Wt=g[rt].endLineNumber;Wt<se||kt>je||(se<kt&&(O[H++]=new Fe.e(se,ve,kt-1,this.model.getLineMaxColumn(kt-1))),se=Wt+1,ve=1)}return(se<je||se===je&&ve<qe)&&(O[H++]=new Fe.e(se,ve,je,qe)),O}getCompletelyVisibleViewRange(){const t=this.viewLayout.getLinesViewportData(),o=t.completelyVisibleStartLineNumber,g=t.completelyVisibleEndLineNumber;return new Fe.e(o,this.getLineMinColumn(o),g,this.getLineMaxColumn(g))}getCompletelyVisibleViewRangeAtScrollTop(t){const o=this.viewLayout.getLinesViewportDataAtScrollTop(t),g=o.completelyVisibleStartLineNumber,O=o.completelyVisibleEndLineNumber;return new Fe.e(g,this.getLineMinColumn(g),O,this.getLineMaxColumn(O))}saveState(){const t=this.viewLayout.saveState(),o=t.scrollTop,g=this.viewLayout.getLineNumberAtVerticalOffset(o),O=this.coordinatesConverter.convertViewPositionToModelPosition(new Ee.L(g,this.getLineMinColumn(g))),H=this.viewLayout.getVerticalOffsetForLineNumber(g)-o;return{scrollLeft:t.scrollLeft,firstPosition:O,firstPositionDeltaTop:H}}reduceRestoreState(t){if(void 0===t.firstPosition)return this._reduceRestoreStateCompatibility(t);const o=this.model.validatePosition(t.firstPosition),g=this.coordinatesConverter.convertModelPositionToViewPosition(o),O=this.viewLayout.getVerticalOffsetForLineNumber(g.lineNumber)-t.firstPositionDeltaTop;return{scrollLeft:t.scrollLeft,scrollTop:O}}_reduceRestoreStateCompatibility(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(t,o,g){this._viewportStart.update(this,t)}getActiveIndentGuide(t,o,g){return this._lines.getActiveIndentGuide(t,o,g)}getLinesIndentGuides(t,o){return this._lines.getViewLinesIndentGuides(t,o)}getBracketGuidesInRangeByLine(t,o,g,O){return this._lines.getViewLinesBracketGuides(t,o,g,O)}getLineContent(t){return this._lines.getViewLineContent(t)}getLineLength(t){return this._lines.getViewLineLength(t)}getLineMinColumn(t){return this._lines.getViewLineMinColumn(t)}getLineMaxColumn(t){return this._lines.getViewLineMaxColumn(t)}getLineFirstNonWhitespaceColumn(t){const o=pt.LC(this.getLineContent(t));return-1===o?0:o+1}getLineLastNonWhitespaceColumn(t){const o=pt.ow(this.getLineContent(t));return-1===o?0:o+2}getDecorationsInViewport(t){return this._decorations.getDecorationsViewportData(t).decorations}getInjectedTextAt(t){return this._lines.getInjectedTextAt(t)}getViewportViewLineRenderingData(t,o){const O=this._decorations.getDecorationsViewportData(t).inlineDecorations[o-t.startLineNumber];return this._getViewLineRenderingData(o,O)}getViewLineRenderingData(t){const o=this._decorations.getInlineDecorationsOnLine(t);return this._getViewLineRenderingData(t,o)}_getViewLineRenderingData(t,o){const g=this.model.mightContainRTL(),O=this.model.mightContainNonBasicASCII(),H=this.getTabSize(),se=this._lines.getViewLineData(t);return se.inlineDecorations&&(o=[...o,...se.inlineDecorations.map(ve=>ve.toInlineDecoration(t))]),new to.wA(se.minColumn,se.maxColumn,se.content,se.continuesWithWrappedLine,g,O,se.tokens,o,H,se.startVisibleColumn)}getViewLineData(t){return this._lines.getViewLineData(t)}getMinimapLinesRenderingData(t,o,g){const O=this._lines.getViewLinesData(t,o,g);return new to.ud(this.getTabSize(),O)}getAllOverviewRulerDecorations(t){const o=this.model.getOverviewRulerDecorations(this._editorId,(0,fe.$J)(this._configuration.options)),g=new sd;for(const O of o){const H=O.options,se=H.overviewRuler;if(!se)continue;const ve=se.position;if(0===ve)continue;const je=se.getColor(t.value),qe=this.coordinatesConverter.getViewLineNumberOfModelPosition(O.range.startLineNumber,O.range.startColumn),rt=this.coordinatesConverter.getViewLineNumberOfModelPosition(O.range.endLineNumber,O.range.endColumn);g.accept(je,H.zIndex,qe,rt,ve)}return g.asArray}_invalidateDecorationsColorCache(){const t=this.model.getOverviewRulerDecorations();for(const o of t){const g=o.options.overviewRuler;g&&g.invalidateCachedColor();const O=o.options.minimap;O&&O.invalidateCachedColor()}}getValueInRange(t,o){const g=this.coordinatesConverter.convertViewRangeToModelRange(t);return this.model.getValueInRange(g,o)}deduceModelPositionRelativeToViewPosition(t,o,g){const O=this.coordinatesConverter.convertViewPositionToModelPosition(t);2===this.model.getEOL().length&&(o<0?o-=g:o+=g);const se=this.model.getOffsetAt(O)+o;return this.model.getPositionAt(se)}getPlainTextToCopy(t,o,g){const O=g?"\r\n":this.model.getEOL();(t=t.slice(0)).sort(Fe.e.compareRangesUsingStarts);let H=!1,se=!1;for(const je of t)je.isEmpty()?H=!0:se=!0;if(!se){if(!o)return"";const je=t.map(rt=>rt.startLineNumber);let qe="";for(let rt=0;rt<je.length;rt++)rt>0&&je[rt-1]===je[rt]||(qe+=this.model.getLineContent(je[rt])+O);return qe}if(H&&o){const je=[];let qe=0;for(const rt of t){const yt=rt.startLineNumber;rt.isEmpty()?yt!==qe&&je.push(this.model.getLineContent(yt)):je.push(this.model.getValueInRange(rt,g?2:0)),qe=yt}return 1===je.length?je[0]:je}const ve=[];for(const je of t)je.isEmpty()||ve.push(this.model.getValueInRange(je,g?2:0));return 1===ve.length?ve[0]:ve}getRichTextToCopy(t,o){const g=this.model.getLanguageId();if(g===cs.bd||1!==t.length)return null;let O=t[0];if(O.isEmpty()){if(!o)return null;const rt=O.startLineNumber;O=new Fe.e(rt,this.model.getLineMinColumn(rt),rt,this.model.getLineMaxColumn(rt))}const H=this._configuration.options.get(46),se=this._getColorMap();let qe;return/[:;\\\/<>]/.test(H.fontFamily)||H.fontFamily===fe.hL.fontFamily?qe=fe.hL.fontFamily:(qe=H.fontFamily,qe=qe.replace(/"/g,"'"),/[,']/.test(qe)||/[+ ]/.test(qe)&&(qe=`'${qe}'`),qe=`${qe}, ${fe.hL.fontFamily}`),{mode:g,html:`<div style="color: ${se[1]};background-color: ${se[2]};font-family: ${qe};font-weight: ${H.fontWeight};font-size: ${H.fontSize}px;line-height: ${H.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(O,se)+"</div>"}}_getHTMLToCopy(t,o){const g=t.startLineNumber,O=t.startColumn,H=t.endLineNumber,se=t.endColumn,ve=this.getTabSize();let je="";for(let qe=g;qe<=H;qe++){const rt=this.model.tokenization.getLineTokens(qe),yt=rt.getLineContent(),kt=qe===g?O-1:0,Wt=qe===H?se-1:yt.length;je+=""===yt?"<br>":(0,Fr.Fq)(yt,rt.inflate(),o,kt,Wt,ve,B.ED)}return je}_getColorMap(){const t=xi.RW.getColorMap(),o=["#000000"];if(t)for(let g=1,O=t.length;g<O;g++)o[g]=Li.Il.Format.CSS.formatHex(t[g]);return o}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(t,o,g){return this._withViewEventsCollector(O=>this._cursor.setStates(O,t,o,g))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(t){this._cursor.setCursorColumnSelectData(t)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(t){this._cursor.setPrevEditOperationType(t)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(t,o,g=0){this._withViewEventsCollector(O=>this._cursor.setSelections(O,t,o,g))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(t){this._withViewEventsCollector(o=>this._cursor.restoreState(o,t))}_executeCursorEdit(t){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new Ps):this._withViewEventsCollector(t)}executeEdits(t,o,g){this._executeCursorEdit(O=>this._cursor.executeEdits(O,t,o,g))}startComposition(){this._executeCursorEdit(t=>this._cursor.startComposition(t))}endComposition(t){this._executeCursorEdit(o=>this._cursor.endComposition(o,t))}type(t,o){this._executeCursorEdit(g=>this._cursor.type(g,t,o))}compositionType(t,o,g,O,H){this._executeCursorEdit(se=>this._cursor.compositionType(se,t,o,g,O,H))}paste(t,o,g,O){this._executeCursorEdit(H=>this._cursor.paste(H,t,o,g,O))}cut(t){this._executeCursorEdit(o=>this._cursor.cut(o,t))}executeCommand(t,o){this._executeCursorEdit(g=>this._cursor.executeCommand(g,t,o))}executeCommands(t,o){this._executeCursorEdit(g=>this._cursor.executeCommands(g,t,o))}revealPrimaryCursor(t,o,g=!1){this._withViewEventsCollector(O=>this._cursor.revealPrimary(O,t,g,0,o,0))}revealTopMostCursor(t){const o=this._cursor.getTopMostViewPosition(),g=new Fe.e(o.lineNumber,o.column,o.lineNumber,o.column);this._withViewEventsCollector(O=>O.emitViewEvent(new sr(t,!1,g,null,0,!0,0)))}revealBottomMostCursor(t){const o=this._cursor.getBottomMostViewPosition(),g=new Fe.e(o.lineNumber,o.column,o.lineNumber,o.column);this._withViewEventsCollector(O=>O.emitViewEvent(new sr(t,!1,g,null,0,!0,0)))}revealRange(t,o,g,O,H){this._withViewEventsCollector(se=>se.emitViewEvent(new sr(t,!1,g,null,O,o,H)))}changeWhitespace(t){this.viewLayout.changeWhitespace(t)&&(this._eventDispatcher.emitSingleViewEvent(new rr),this._eventDispatcher.emitOutgoingEvent(new Bo))}_withViewEventsCollector(t){try{return t(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(t,o){return this._lines.normalizePosition(t,o)}getLineIndentColumn(t){return this._lines.getLineIndentColumn(t)}}class is{constructor(t,o,g,O,H){this._model=t,this._viewLineNumber=o,this._isValid=g,this._modelTrackedRange=O,this._startLineDelta=H}static create(t){const o=t._setTrackedRange(null,new Fe.e(1,1,1,1),1);return new is(t,1,!1,o,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(t,o){const g=t.coordinatesConverter.convertViewPositionToModelPosition(new Ee.L(o,t.getLineMinColumn(o))),O=t.model._setTrackedRange(this._modelTrackedRange,new Fe.e(g.lineNumber,g.column,g.lineNumber,g.column),1),H=t.viewLayout.getVerticalOffsetForLineNumber(o),se=t.viewLayout.getCurrentScrollTop();this._viewLineNumber=o,this._isValid=!0,this._modelTrackedRange=O,this._startLineDelta=se-H}invalidate(){this._isValid=!1}}class sd{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(t,o,g,O,H){const se=this._asMap[t];if(se){const ve=se.data,qe=ve[ve.length-1];if(ve[ve.length-3]===H&&qe+1>=g)return void(O>qe&&(ve[ve.length-1]=O));ve.push(H,g,O)}else{const ve=new to.SQ(t,o,[H,g,O]);this._asMap[t]=ve,this.asArray.push(ve)}}}var rd=e(23884),$r=e(59776),Ia=e(64725),Gr=e(12281),Zr=e(78782),xa=e(57686);class Vs{constructor(t,o,g,O,H){this.injectionOffsets=t,this.injectionOptions=o,this.breakOffsets=g,this.breakOffsetsVisibleColumn=O,this.wrappedTextIndentLength=H}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(t){return t>0?this.wrappedTextIndentLength:0}getLineLength(t){let O=this.breakOffsets[t]-(t>0?this.breakOffsets[t-1]:0);return t>0&&(O+=this.wrappedTextIndentLength),O}getMaxOutputOffset(t){return this.getLineLength(t)}translateToInputOffset(t,o){t>0&&(o=Math.max(0,o-this.wrappedTextIndentLength));let O=0===t?o:this.breakOffsets[t-1]+o;if(null!==this.injectionOffsets)for(let H=0;H<this.injectionOffsets.length&&O>this.injectionOffsets[H];H++)O<this.injectionOffsets[H]+this.injectionOptions[H].content.length?O=this.injectionOffsets[H]:O-=this.injectionOptions[H].content.length;return O}translateToOutputPosition(t,o=2){let g=t;if(null!==this.injectionOffsets)for(let O=0;O<this.injectionOffsets.length&&!(t<this.injectionOffsets[O]||1!==o&&t===this.injectionOffsets[O]);O++)g+=this.injectionOptions[O].content.length;return this.offsetInInputWithInjectionsToOutputPosition(g,o)}offsetInInputWithInjectionsToOutputPosition(t,o=2){let g=0,O=this.breakOffsets.length-1,H=0,se=0;for(;g<=O;){H=g+(O-g)/2|0;const je=this.breakOffsets[H];if(se=H>0?this.breakOffsets[H-1]:0,0===o)if(t<=se)O=H-1;else{if(!(t>je))break;g=H+1}else if(t<se)O=H-1;else{if(!(t>=je))break;g=H+1}}let ve=t-se;return H>0&&(ve+=this.wrappedTextIndentLength),new Jo(H,ve)}normalizeOutputPosition(t,o,g){if(null!==this.injectionOffsets){const O=this.outputPositionToOffsetInInputWithInjections(t,o),H=this.normalizeOffsetInInputWithInjectionsAroundInjections(O,g);if(H!==O)return this.offsetInInputWithInjectionsToOutputPosition(H,g)}if(0===g){if(t>0&&o===this.getMinOutputOffset(t))return new Jo(t-1,this.getMaxOutputOffset(t-1))}else if(1===g&&t<this.getOutputLineCount()-1&&o===this.getMaxOutputOffset(t))return new Jo(t+1,this.getMinOutputOffset(t+1));return new Jo(t,o)}outputPositionToOffsetInInputWithInjections(t,o){return t>0&&(o=Math.max(0,o-this.wrappedTextIndentLength)),(t>0?this.breakOffsets[t-1]:0)+o}normalizeOffsetInInputWithInjectionsAroundInjections(t,o){const g=this.getInjectedTextAtOffset(t);if(!g)return t;if(2===o){if(t===g.offsetInInputWithInjections+g.length&&Ma(this.injectionOptions[g.injectedTextIndex].cursorStops))return g.offsetInInputWithInjections+g.length;{let O=g.offsetInInputWithInjections;if(Ta(this.injectionOptions[g.injectedTextIndex].cursorStops))return O;let H=g.injectedTextIndex-1;for(;H>=0&&this.injectionOffsets[H]===this.injectionOffsets[g.injectedTextIndex]&&!Ma(this.injectionOptions[H].cursorStops)&&(O-=this.injectionOptions[H].content.length,!Ta(this.injectionOptions[H].cursorStops));)H--;return O}}if(1===o||4===o){let O=g.offsetInInputWithInjections+g.length,H=g.injectedTextIndex;for(;H+1<this.injectionOffsets.length&&this.injectionOffsets[H+1]===this.injectionOffsets[H];)O+=this.injectionOptions[H+1].content.length,H++;return O}if(0===o||3===o){let O=g.offsetInInputWithInjections,H=g.injectedTextIndex;for(;H-1>=0&&this.injectionOffsets[H-1]===this.injectionOffsets[H];)O-=this.injectionOptions[H-1].content.length,H--;return O}(0,hi.vE)(o)}getInjectedText(t,o){const g=this.outputPositionToOffsetInInputWithInjections(t,o),O=this.getInjectedTextAtOffset(g);return O?{options:this.injectionOptions[O.injectedTextIndex]}:null}getInjectedTextAtOffset(t){const o=this.injectionOffsets,g=this.injectionOptions;if(null!==o){let O=0;for(let H=0;H<o.length;H++){const se=g[H].content.length,ve=o[H]+O,je=o[H]+O+se;if(ve>t)break;if(t<=je)return{injectedTextIndex:H,offsetInInputWithInjections:ve,length:se};O+=se}}}}function Ma(ut){return null==ut||ut===Zo.RM.Right||ut===Zo.RM.Both}function Ta(ut){return null==ut||ut===Zo.RM.Left||ut===Zo.RM.Both}class Jo{constructor(t,o){this.outputLineIndex=t,this.outputOffset=o}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(t){return new Ee.L(t+this.outputLineIndex,this.outputOffset+1)}}class Na{constructor(t,o){this.classifier=new ad(t,o)}static create(t){return new Na(t.get(122),t.get(121))}createLineBreaksComputer(t,o,g,O){const H=[],se=[],ve=[];return{addRequest:(je,qe,rt)=>{H.push(je),se.push(qe),ve.push(rt)},finalize:()=>{const je=t.typicalFullwidthCharacterWidth/t.typicalHalfwidthCharacterWidth,qe=[];for(let rt=0,yt=H.length;rt<yt;rt++){const kt=se[rt],Wt=ve[rt];qe[rt]=!Wt||Wt.injectionOptions||kt?No(this.classifier,H[rt],kt,o,g,je,O):Xr(this.classifier,Wt,H[rt],o,g,je,O)}return Hs.length=0,Yr.length=0,qe}}}}class ad extends xa.N{constructor(t,o){super(0);for(let g=0;g<t.length;g++)this.set(t.charCodeAt(g),1);for(let g=0;g<o.length;g++)this.set(o.charCodeAt(g),2)}get(t){return t>=0&&t<256?this._asciiMap[t]:t>=12352&&t<=12543||t>=13312&&t<=19903||t>=19968&&t<=40959?3:this._map.get(t)||this._defaultValue}}let Hs=[],Yr=[];function Xr(ut,t,o,g,O,H,se){if(-1===O)return null;const ve=o.length;if(ve<=1)return null;const je=t.breakOffsets,qe=t.breakOffsetsVisibleColumn,rt=qr(o,g,O,H,se),yt=O-rt,kt=Hs,Wt=Yr;let cn=0,_n=0,bn=0,Mn=O;const Bn=je.length;let Hn=0;if(Hn>=0){let ti=Math.abs(qe[Hn]-Mn);for(;Hn+1<Bn;){const gi=Math.abs(qe[Hn+1]-Mn);if(gi>=ti)break;ti=gi,Hn++}}for(;Hn<Bn;){let ti=Hn<0?0:je[Hn],gi=Hn<0?0:qe[Hn];_n>ti&&(ti=_n,gi=bn);let di=0,vi=0,qn=0,bi=0;if(gi<=Mn){let Ei=gi,Qi=0===ti?0:o.charCodeAt(ti-1),Zi=0===ti?0:ut.get(Qi),oo=!0;for(let Ui=ti;Ui<ve;Ui++){const lo=Ui,so=o.charCodeAt(Ui);let qi,Eo;if(pt.ZG(so)?(Ui++,qi=0,Eo=2):(qi=ut.get(so),Eo=Us(so,Ei,g,H)),lo>_n&&Jr(0,Zi,so,qi)&&(di=lo,vi=Ei),Ei+=Eo,Ei>Mn){lo>_n?(qn=lo,bi=Ei-Eo):(qn=Ui+1,bi=Ei),Ei-vi>yt&&(di=0),oo=!1;break}Qi=so,Zi=qi}if(oo){cn>0&&(kt[cn]=je[je.length-1],Wt[cn]=qe[je.length-1],cn++);break}}if(0===di){let Ei=gi,Qi=o.charCodeAt(ti),Zi=ut.get(Qi),oo=!1;for(let Ui=ti-1;Ui>=_n;Ui--){const lo=Ui+1,so=o.charCodeAt(Ui);if(9===so){oo=!0;break}let qi,Eo;if(pt.YK(so)?(Ui--,qi=0,Eo=2):(qi=ut.get(so),Eo=pt.K7(so)?H:1),Ei<=Mn){if(0===qn&&(qn=lo,bi=Ei),Ei<=Mn-yt)break;if(Jr(0,qi,Qi,Zi)){di=lo,vi=Ei;break}}Ei-=Eo,Qi=so,Zi=qi}if(0!==di){const Ui=yt-(bi-vi);if(Ui<=g){const lo=o.charCodeAt(qn);let so;so=pt.ZG(lo)?2:Us(lo,bi,g,H),Ui-so<0&&(di=0)}}if(oo){Hn--;continue}}if(0===di&&(di=qn,vi=bi),di<=_n){const Ei=o.charCodeAt(_n);pt.ZG(Ei)?(di=_n+2,vi=bn+2):(di=_n+1,vi=bn+Us(Ei,bn,g,H))}for(_n=di,kt[cn]=di,bn=vi,Wt[cn]=vi,cn++,Mn=vi+yt;Hn<0||Hn<Bn&&qe[Hn]<vi;)Hn++;let Ai=Math.abs(qe[Hn]-Mn);for(;Hn+1<Bn;){const Ei=Math.abs(qe[Hn+1]-Mn);if(Ei>=Ai)break;Ai=Ei,Hn++}}return 0===cn?null:(kt.length=cn,Wt.length=cn,Hs=t.breakOffsets,Yr=t.breakOffsetsVisibleColumn,t.breakOffsets=kt,t.breakOffsetsVisibleColumn=Wt,t.wrappedTextIndentLength=rt,t)}function No(ut,t,o,g,O,H,se){const ve=jo.gk.applyInjectedText(t,o);let je,qe;if(o&&o.length>0?(je=o.map(vi=>vi.options),qe=o.map(vi=>vi.column-1)):(je=null,qe=null),-1===O)return je?new Vs(qe,je,[ve.length],[],0):null;const rt=ve.length;if(rt<=1)return je?new Vs(qe,je,[ve.length],[],0):null;const yt=qr(ve,g,O,H,se),kt=O-yt,Wt=[],cn=[];let _n=0,bn=0,Mn=0,Bn=O,Hn=ve.charCodeAt(0),ti=ut.get(Hn),gi=Us(Hn,0,g,H),di=1;pt.ZG(Hn)&&(gi+=1,Hn=ve.charCodeAt(1),ti=ut.get(Hn),di++);for(let vi=di;vi<rt;vi++){const qn=vi,bi=ve.charCodeAt(vi);let Ai,Ei;pt.ZG(bi)?(vi++,Ai=0,Ei=2):(Ai=ut.get(bi),Ei=Us(bi,gi,g,H)),Jr(0,ti,bi,Ai)&&(bn=qn,Mn=gi),gi+=Ei,gi>Bn&&((0===bn||gi-Mn>kt)&&(bn=qn,Mn=gi-Ei),Wt[_n]=bn,cn[_n]=Mn,_n++,Bn=Mn+kt,bn=0),Hn=bi,ti=Ai}return 0!==_n||o&&0!==o.length?(Wt[_n]=rt,cn[_n]=gi,new Vs(qe,je,Wt,cn,yt)):null}function Us(ut,t,o,g){return 9===ut?o-t%o:pt.K7(ut)||ut<32?g:1}function Aa(ut,t){return t-ut%t}function Jr(ut,t,o,g){return 32!==o&&(2===t&&2!==g||1!==t&&1===g||3===t&&2!==g||3===g&&1!==t)}function qr(ut,t,o,g,O){let H=0;if(0!==O){const se=pt.LC(ut);if(-1!==se){for(let je=0;je<se;je++)H+=9===ut.charCodeAt(je)?Aa(H,t):1;const ve=3===O?2:2===O?1:0;for(let je=0;je<ve;je++)H+=Aa(H,t);H+g>o&&(H=0)}}return H}var Es;const os=null===(Es=window.trustedTypes)||void 0===Es?void 0:Es.createPolicy("domLineBreaksComputer",{createHTML:ut=>ut});class Pa{static create(){return new Pa}constructor(){}createLineBreaksComputer(t,o,g,O){const H=[],se=[];return{addRequest:(ve,je,qe)=>{H.push(ve),se.push(je)},finalize:()=>function ld(ut,t,o,g,O,H){var se;function ve(qn){const bi=H[qn];if(bi){const Ai=jo.gk.applyInjectedText(ut[qn],bi),Ei=bi.map(Zi=>Zi.options),Qi=bi.map(Zi=>Zi.column-1);return new Vs(Qi,Ei,[Ai.length],[],0)}return null}if(-1===g){const qn=[];for(let bi=0,Ai=ut.length;bi<Ai;bi++)qn[bi]=ve(bi);return qn}const je=Math.round(g*t.typicalHalfwidthCharacterWidth),rt=Math.round(o*(3===O?2:2===O?1:0)),yt=Math.ceil(t.spaceWidth*rt),kt=document.createElement("div");(0,Et.N)(kt,t);const Wt=(0,un.l$)(1e4),cn=[],_n=[],bn=[],Mn=[],Bn=[];for(let qn=0;qn<ut.length;qn++){const bi=jo.gk.applyInjectedText(ut[qn],H[qn]);let Ai=0,Ei=0,Qi=je;if(0!==O)if(Ai=pt.LC(bi),-1===Ai)Ai=0;else{for(let lo=0;lo<Ai;lo++)Ei+=9===bi.charCodeAt(lo)?o-Ei%o:1;const Ui=Math.ceil(t.spaceWidth*Ei);Ui+t.typicalFullwidthCharacterWidth>je?(Ai=0,Ei=0):Qi=je-Ui}const Zi=bi.substr(Ai),oo=cr(Zi,Ei,o,Qi,Wt,yt);cn[qn]=Ai,_n[qn]=Ei,bn[qn]=Zi,Mn[qn]=oo[0],Bn[qn]=oo[1]}const Hn=Wt.build(),ti=null!==(se=null==os?void 0:os.createHTML(Hn))&&void 0!==se?se:Hn;kt.innerHTML=ti,kt.style.position="absolute",kt.style.top="10000",kt.style.wordWrap="break-word",document.body.appendChild(kt);const gi=document.createRange(),di=Array.prototype.slice.call(kt.children,0),vi=[];for(let qn=0;qn<ut.length;qn++){const Ai=ea(gi,di[qn],bn[qn],Mn[qn]);if(null===Ai){vi[qn]=ve(qn);continue}const Ei=cn[qn],Qi=_n[qn]+rt,Zi=Bn[qn],oo=[];for(let qi=0,Eo=Ai.length;qi<Eo;qi++)oo[qi]=Zi[Ai[qi]];if(0!==Ei)for(let qi=0,Eo=Ai.length;qi<Eo;qi++)Ai[qi]+=Ei;let Ui,lo;const so=H[qn];so?(Ui=so.map(qi=>qi.options),lo=so.map(qi=>qi.column-1)):(Ui=null,lo=null),vi[qn]=new Vs(lo,Ui,Ai,oo,Qi)}return document.body.removeChild(kt),vi}(H,t,o,g,O,se)}}}function cr(ut,t,o,g,O,H){if(0!==H){const kt=String(H);O.appendASCIIString('<div style="text-indent: -'),O.appendASCIIString(kt),O.appendASCIIString("px; padding-left: "),O.appendASCIIString(kt),O.appendASCIIString("px; box-sizing: border-box; width:")}else O.appendASCIIString('<div style="width:');O.appendASCIIString(String(g)),O.appendASCIIString('px;">');const se=ut.length;let ve=t,je=0;const qe=[],rt=[];let yt=0<se?ut.charCodeAt(0):0;O.appendASCIIString("<span>");for(let kt=0;kt<se;kt++){0!==kt&&kt%16384==0&&O.appendASCIIString("</span><span>"),qe[kt]=je,rt[kt]=ve;const Wt=yt;yt=kt+1<se?ut.charCodeAt(kt+1):0;let cn=1,_n=1;switch(Wt){case 9:cn=o-ve%o,_n=cn;for(let bn=1;bn<=cn;bn++)bn<cn?O.write1(160):O.appendASCII(32);break;case 32:32===yt?O.write1(160):O.appendASCII(32);break;case 60:O.appendASCIIString("&lt;");break;case 62:O.appendASCIIString("&gt;");break;case 38:O.appendASCIIString("&amp;");break;case 0:O.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:O.write1(65533);break;default:pt.K7(Wt)&&_n++,O.write1(Wt<32?9216+Wt:Wt)}je+=cn,ve+=_n}return O.appendASCIIString("</span>"),qe[ut.length]=je,rt[ut.length]=ve,O.appendASCIIString("</div>"),[qe,rt]}function ea(ut,t,o,g){if(o.length<=1)return null;const O=Array.prototype.slice.call(t.children,0),H=[];try{hr(ut,O,g,0,null,o.length-1,null,H)}catch(se){return console.log(se),null}return 0===H.length?null:(H.push(o.length),H)}function hr(ut,t,o,g,O,H,se,ve){if(g===H||(O=O||Oa(ut,t,o[g],o[g+1]),se=se||Oa(ut,t,o[H],o[H+1]),Math.abs(O[0].top-se[0].top)<=.1))return;if(g+1===H)return void ve.push(H);const je=g+(H-g)/2|0,qe=Oa(ut,t,o[je],o[je+1]);hr(ut,t,o,g,O,je,qe,ve),hr(ut,t,o,je,qe,H,se,ve)}function Oa(ut,t,o,g){return ut.setStart(t[o/16384|0].firstChild,o%16384),ut.setEnd(t[g/16384|0].firstChild,g%16384),ut.getClientRects()}var dd=e(97616),_l=e(23924),Cl=e(37464),Ko=function(ut,t){return function(o,g){t(o,g,ut)}};let Sl=0;class $o{constructor(t,o,g,O,H){this.model=t,this.viewModel=o,this.view=g,this.hasRealView=O,this.listenersToRemove=H}dispose(){(0,Q.B9)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let ur=class pr extends Q.JT{constructor(t,o,g,O,H,se,ve,je,qe,rt,yt,kt){super(),this.languageConfigurationService=yt,this._deliveryQueue=new R.F3,this._onDidDispose=this._register(new R.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new ta({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new ta({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onWillType=this._onWillType.event,this._onDidType=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection();const Wt=Object.assign({},o);let cn;this._domElement=t,this._overflowWidgetsDomNode=Wt.overflowWidgetsDomNode,delete Wt.overflowWidgetsDomNode,this._id=++Sl,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=g.telemetryData,this._configuration=this._register(this._createConfiguration(g.isSimpleWidget||!1,Wt,rt)),this._register(this._configuration.onDidChange(bn=>{this._onDidChangeConfiguration.fire(bn);const Mn=this._configuration.options;if(bn.hasChanged(133)){const Bn=Mn.get(133);this._onDidLayoutChange.fire(Bn)}})),this._contextKeyService=this._register(ve.createScoped(this._domElement)),this._notificationService=qe,this._codeEditorService=H,this._commandService=se,this._themeService=je,this._register(new yl(this,this._contextKeyService)),this._register(new Ji(this,this._contextKeyService,kt)),this._instantiationService=O.createChild(new Gr.y([$r.i6,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new na(t),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},cn=Array.isArray(g.contributions)?g.contributions:s.Uc.getEditorContributions();for(const bn of cn)if(this._contributions[bn.id])(0,T.dL)(new Error(`Cannot have two contributions with the same id ${bn.id}`));else try{const Mn=this._instantiationService.createInstance(bn.ctor,this);this._contributions[bn.id]=Mn}catch(Mn){(0,T.dL)(Mn)}s.Uc.getEditorActions().forEach(bn=>{if(this._actions[bn.id])return void(0,T.dL)(new Error(`Cannot have two actions with the same id ${bn.id}`));const Mn=new ks.p(bn.id,bn.label,bn.alias,(0,hi.f6)(bn.precondition),()=>this._instantiationService.invokeFunction(Bn=>Promise.resolve(bn.runEditorCommand(Bn,this,null))),this._contextKeyService);this._actions[Mn.id]=Mn});const _n=()=>!this._configuration.options.get(83)&&this._configuration.options.get(32).enabled;this._register(new x.eg(this._domElement,{onDragEnter:()=>{},onDragOver:bn=>{if(!_n())return;const Mn=this.getTargetAtClientPoint(bn.clientX,bn.clientY);null!=Mn&&Mn.position&&this.showDropIndicatorAt(Mn.position)},onDrop:bn=>function(ut,t,o,g){return new(o||(o=Promise))(function(H,se){function ve(rt){try{qe(g.next(rt))}catch(yt){se(yt)}}function je(rt){try{qe(g.throw(rt))}catch(yt){se(yt)}}function qe(rt){rt.done?H(rt.value):function O(H){return H instanceof o?H:new o(function(se){se(H)})}(rt.value).then(ve,je)}qe((g=g.apply(ut,t||[])).next())})}(this,void 0,void 0,function*(){if(!_n()||(this.removeDropIndicator(),!bn.dataTransfer))return;const Mn=this.getTargetAtClientPoint(bn.clientX,bn.clientY);null!=Mn&&Mn.position&&this._onDropIntoEditor.fire({position:Mn.position,event:bn})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(t,o,g){return new he(t,o,this._domElement,g)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Bs.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const t=Object.keys(this._contributions);for(let o=0,g=t.length;o<g;o++)this._contributions[t[o]].dispose();this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(t){return this._instantiationService.invokeFunction(t)}updateOptions(t){this._configuration.updateOptions(t||{})}getOptions(){return this._configuration.options}getOption(t){return this._configuration.options.get(t)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(t){return this._modelData?dd.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(119),t):null}getValue(t=null){if(!this._modelData)return"";let g=0;return t&&t.lineEnding&&"\n"===t.lineEnding?g=1:t&&t.lineEnding&&"\r\n"===t.lineEnding&&(g=2),this._modelData.model.getValue(g,!(!t||!t.preserveBOM))}setValue(t){!this._modelData||this._modelData.model.setValue(t)}getModel(){return this._modelData?this._modelData.model:null}setModel(t=null){const o=t;if(null===this._modelData&&null===o||this._modelData&&this._modelData.model===o)return;const g=this.hasTextFocus(),O=this._detachModel();this._attachModel(o),g&&this.hasModel()&&this.focus();const H={oldModelUrl:O?O.uri:null,newModelUrl:o?o.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(H),this._postDetachModelCleanup(O)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const t in this._decorationTypeSubtypes){const o=this._decorationTypeSubtypes[t];for(const g in o)this._removeDecorationType(t+"-"+g)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(t,o,g,O){const H=t.model.validatePosition({lineNumber:o,column:g}),se=t.viewModel.coordinatesConverter.convertModelPositionToViewPosition(H);return t.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(se.lineNumber,O)}getTopForLineNumber(t,o=!1){return this._modelData?pr._getVerticalOffsetForPosition(this._modelData,t,1,o):-1}getTopForPosition(t,o){return this._modelData?pr._getVerticalOffsetForPosition(this._modelData,t,o,!1):-1}static _getVerticalOffsetForPosition(t,o,g,O=!1){const H=t.model.validatePosition({lineNumber:o,column:g}),se=t.viewModel.coordinatesConverter.convertModelPositionToViewPosition(H);return t.viewModel.viewLayout.getVerticalOffsetForLineNumber(se.lineNumber,O)}getBottomForLineNumber(t,o=!1){return this._modelData?pr._getVerticalOffsetAfterPosition(this._modelData,t,1,o):-1}setHiddenAreas(t){var o;null===(o=this._modelData)||void 0===o||o.viewModel.setHiddenAreas(t.map(g=>Fe.e.lift(g)))}getVisibleColumnFromPosition(t){if(!this._modelData)return t.column;const o=this._modelData.model.validatePosition(t),g=this._modelData.model.getOptions().tabSize;return mt.i.visibleColumnFromColumn(this._modelData.model.getLineContent(o.lineNumber),o.column,g)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(t,o="api"){if(this._modelData){if(!Ee.L.isIPosition(t))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(o,[{selectionStartLineNumber:t.lineNumber,selectionStartColumn:t.column,positionLineNumber:t.lineNumber,positionColumn:t.column}])}}_sendRevealRange(t,o,g,O){if(!this._modelData)return;if(!Fe.e.isIRange(t))throw new Error("Invalid arguments");const H=this._modelData.model.validateRange(t),se=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(H);this._modelData.viewModel.revealRange("api",g,se,o,O)}revealLine(t,o=0){this._revealLine(t,0,o)}revealLineInCenter(t,o=0){this._revealLine(t,1,o)}revealLineInCenterIfOutsideViewport(t,o=0){this._revealLine(t,2,o)}revealLineNearTop(t,o=0){this._revealLine(t,5,o)}_revealLine(t,o,g){if("number"!=typeof t)throw new Error("Invalid arguments");this._sendRevealRange(new Fe.e(t,1,t,1),o,!1,g)}revealPosition(t,o=0){this._revealPosition(t,0,!0,o)}revealPositionInCenter(t,o=0){this._revealPosition(t,1,!0,o)}revealPositionInCenterIfOutsideViewport(t,o=0){this._revealPosition(t,2,!0,o)}revealPositionNearTop(t,o=0){this._revealPosition(t,5,!0,o)}_revealPosition(t,o,g,O){if(!Ee.L.isIPosition(t))throw new Error("Invalid arguments");this._sendRevealRange(new Fe.e(t.lineNumber,t.column,t.lineNumber,t.column),o,g,O)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(t,o="api"){const g=ye.Y.isISelection(t),O=Fe.e.isIRange(t);if(!g&&!O)throw new Error("Invalid arguments");g?this._setSelectionImpl(t,o):O&&this._setSelectionImpl({selectionStartLineNumber:t.startLineNumber,selectionStartColumn:t.startColumn,positionLineNumber:t.endLineNumber,positionColumn:t.endColumn},o)}_setSelectionImpl(t,o){if(!this._modelData)return;const g=new ye.Y(t.selectionStartLineNumber,t.selectionStartColumn,t.positionLineNumber,t.positionColumn);this._modelData.viewModel.setSelections(o,[g])}revealLines(t,o,g=0){this._revealLines(t,o,0,g)}revealLinesInCenter(t,o,g=0){this._revealLines(t,o,1,g)}revealLinesInCenterIfOutsideViewport(t,o,g=0){this._revealLines(t,o,2,g)}revealLinesNearTop(t,o,g=0){this._revealLines(t,o,5,g)}_revealLines(t,o,g,O){if("number"!=typeof t||"number"!=typeof o)throw new Error("Invalid arguments");this._sendRevealRange(new Fe.e(t,1,o,1),g,!1,O)}revealRange(t,o=0,g=!1,O=!0){this._revealRange(t,g?1:0,O,o)}revealRangeInCenter(t,o=0){this._revealRange(t,1,!0,o)}revealRangeInCenterIfOutsideViewport(t,o=0){this._revealRange(t,2,!0,o)}revealRangeNearTop(t,o=0){this._revealRange(t,5,!0,o)}revealRangeNearTopIfOutsideViewport(t,o=0){this._revealRange(t,6,!0,o)}revealRangeAtTop(t,o=0){this._revealRange(t,3,!0,o)}_revealRange(t,o,g,O){if(!Fe.e.isIRange(t))throw new Error("Invalid arguments");this._sendRevealRange(Fe.e.lift(t),o,g,O)}setSelections(t,o="api",g=0){if(this._modelData){if(!t||0===t.length)throw new Error("Invalid arguments");for(let O=0,H=t.length;O<H;O++)if(!ye.Y.isISelection(t[O]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(o,t,g)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(t,o=1){if(this._modelData){if("number"!=typeof t)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:t},o)}}setScrollTop(t,o=1){if(this._modelData){if("number"!=typeof t)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:t},o)}}setScrollPosition(t,o=1){!this._modelData||this._modelData.viewModel.viewLayout.setScrollPosition(t,o)}saveViewState(){if(!this._modelData)return null;const t={},o=Object.keys(this._contributions);for(const H of o){const se=this._contributions[H];"function"==typeof se.saveViewState&&(t[H]=se.saveViewState())}return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:t}}restoreViewState(t){if(!this._modelData||!this._modelData.hasRealView)return;const o=t;if(o&&o.cursorState&&o.viewState){const g=o.cursorState;Array.isArray(g)?g.length>0&&this._modelData.viewModel.restoreCursorState(g):this._modelData.viewModel.restoreCursorState([g]);const O=o.contributionsState||{},H=Object.keys(this._contributions);for(let ve=0,je=H.length;ve<je;ve++){const qe=H[ve],rt=this._contributions[qe];"function"==typeof rt.restoreViewState&&rt.restoreViewState(O[qe])}const se=this._modelData.viewModel.reduceRestoreState(o.viewState);this._modelData.view.restoreState(se)}}getContribution(t){return this._contributions[t]||null}getActions(){const t=[],o=Object.keys(this._actions);for(let g=0,O=o.length;g<O;g++)t.push(this._actions[o[g]]);return t}getSupportedActions(){let t=this.getActions();return t=t.filter(o=>o.isSupported()),t}getAction(t){return this._actions[t]||null}trigger(t,o,g){switch(g=g||{},o){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(t);case"type":return void this._type(t,g.text||"");case"replacePreviousChar":return void this._compositionType(t,g.text||"",g.replaceCharCnt||0,0,0);case"compositionType":return void this._compositionType(t,g.text||"",g.replacePrevCharCnt||0,g.replaceNextCharCnt||0,g.positionDelta||0);case"paste":return void this._paste(t,g.text||"",g.pasteOnNewLine||!1,g.multicursorText||null,g.mode||null);case"cut":return void this._cut(t)}const O=this.getAction(o);O?Promise.resolve(O.run()).then(void 0,T.dL):!this._modelData||this._triggerEditorCommand(t,o,g)||this._triggerCommand(o,g)}_triggerCommand(t,o){this._commandService.executeCommand(t,o)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(t){!this._modelData||(this._modelData.viewModel.endComposition(t),this._onDidCompositionEnd.fire())}_type(t,o){!this._modelData||0===o.length||("keyboard"===t&&this._onWillType.fire(o),this._modelData.viewModel.type(o,t),"keyboard"===t&&this._onDidType.fire(o))}_compositionType(t,o,g,O,H){!this._modelData||this._modelData.viewModel.compositionType(o,g,O,H,t)}_paste(t,o,g,O,H){if(!this._modelData||0===o.length)return;const se=this._modelData.viewModel,ve=se.getSelection().getStartPosition();se.paste(o,g,O,t);const je=se.getSelection().getStartPosition();"keyboard"===t&&this._onDidPaste.fire({range:new Fe.e(ve.lineNumber,ve.column,je.lineNumber,je.column),languageId:H})}_cut(t){!this._modelData||this._modelData.viewModel.cut(t)}_triggerEditorCommand(t,o,g){const O=s.Uc.getEditorCommand(o);return!!O&&((g=g||{}).source=t,this._instantiationService.invokeFunction(H=>{Promise.resolve(O.runEditorCommand(H,this,g)).then(void 0,T.dL)}),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!(!this._modelData||this._configuration.options.get(83)||(this._modelData.model.pushStackElement(),0))}popUndoStop(){return!(!this._modelData||this._configuration.options.get(83)||(this._modelData.model.popStackElement(),0))}executeEdits(t,o,g){if(!this._modelData||this._configuration.options.get(83))return!1;let O;return O=g?Array.isArray(g)?()=>g:g:()=>null,this._modelData.viewModel.executeEdits(t,o,O),!0}executeCommand(t,o){!this._modelData||this._modelData.viewModel.executeCommand(o,t)}executeCommands(t,o){!this._modelData||this._modelData.viewModel.executeCommands(o,t)}createDecorationsCollection(t){return new wl(this,t)}changeDecorations(t){return this._modelData?this._modelData.model.changeDecorations(t,this._id):null}getLineDecorations(t){return this._modelData?this._modelData.model.getLineDecorations(t,this._id,(0,fe.$J)(this._configuration.options)):null}getDecorationsInRange(t){return this._modelData?this._modelData.model.getDecorationsInRange(t,this._id,(0,fe.$J)(this._configuration.options)):null}deltaDecorations(t,o){return this._modelData?0===t.length&&0===o.length?t:this._modelData.model.deltaDecorations(t,o,this._id):[]}removeDecorations(t){!this._modelData||0===t.length||this._modelData.model.changeDecorations(o=>{o.deltaDecorations(t,[])})}removeDecorationsByType(t){const o=this._decorationTypeKeysToIds[t];o&&this.deltaDecorations(o,[]),this._decorationTypeKeysToIds.hasOwnProperty(t)&&delete this._decorationTypeKeysToIds[t],this._decorationTypeSubtypes.hasOwnProperty(t)&&delete this._decorationTypeSubtypes[t]}getLayoutInfo(){return this._configuration.options.get(133)}createOverviewRuler(t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(t):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarPointerDown(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(t)}layout(t){this._configuration.observeContainer(t),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(t){const o={widget:t,position:t.getPosition()};this._contentWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[t.getId()]=o,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(o)}layoutContentWidget(t){const o=t.getId();if(this._contentWidgets.hasOwnProperty(o)){const g=this._contentWidgets[o];g.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(g)}}removeContentWidget(t){const o=t.getId();if(this._contentWidgets.hasOwnProperty(o)){const g=this._contentWidgets[o];delete this._contentWidgets[o],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(g)}}addOverlayWidget(t){const o={widget:t,position:t.getPosition()};this._overlayWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[t.getId()]=o,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(o)}layoutOverlayWidget(t){const o=t.getId();if(this._overlayWidgets.hasOwnProperty(o)){const g=this._overlayWidgets[o];g.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(g)}}removeOverlayWidget(t){const o=t.getId();if(this._overlayWidgets.hasOwnProperty(o)){const g=this._overlayWidgets[o];delete this._overlayWidgets[o],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(g)}}changeViewZones(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(t)}getTargetAtClientPoint(t,o){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(t,o):null}getScrolledVisiblePosition(t){if(!this._modelData||!this._modelData.hasRealView)return null;const o=this._modelData.model.validatePosition(t),g=this._configuration.options,O=g.get(133);return{top:pr._getVerticalOffsetForPosition(this._modelData,o.lineNumber,o.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(o.lineNumber,o.column)+O.glyphMarginWidth+O.lineNumbersWidth+O.decorationsWidth-this.getScrollLeft(),height:g.get(61)}}getOffsetForColumn(t,o){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(t,o):-1}render(t=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,t)}setAriaOptions(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(t)}applyFontInfo(t){(0,Et.N)(t,this._configuration.options.get(46))}setBanner(t,o){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=t,this._configuration.setReservedHeight(t?o:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(t){if(!t)return void(this._modelData=null);const o=[];this._domElement.setAttribute("data-mode-id",t.getLanguageId()),this._configuration.setIsDominatedByLongLines(t.isDominatedByLongLines()),this._configuration.setModelLineCount(t.getLineCount()),t.onBeforeAttached();const g=new dr(this._id,this._configuration,t,Pa.create(),Na.create(this._configuration.options),se=>x.jL(se),this.languageConfigurationService,this._themeService);o.push(t.onWillDispose(()=>this.setModel(null))),o.push(g.onEvent(se=>{switch(se.kind){case 0:this._onDidContentSizeChange.fire(se);break;case 1:this._editorTextFocus.setValue(se.hasFocus);break;case 2:this._onDidScrollChange.fire(se);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{se.reachedMaxCursorCount&&this._notificationService.warn(b.NC("cursors.maximum","The number of cursors has been limited to {0}.",Yo.MAX_CURSOR_COUNT));const ve=[];for(let rt=0,yt=se.selections.length;rt<yt;rt++)ve[rt]=se.selections[rt].getPosition();const je={position:ve[0],secondaryPositions:ve.slice(1),reason:se.reason,source:se.source};this._onDidChangeCursorPosition.fire(je);const qe={selection:se.selections[0],secondarySelections:se.selections.slice(1),modelVersionId:se.modelVersionId,oldSelections:se.oldSelections,oldModelVersionId:se.oldModelVersionId,source:se.source,reason:se.reason};this._onDidChangeCursorSelection.fire(qe);break}case 7:this._onDidChangeModelDecorations.fire(se.event);break;case 8:this._domElement.setAttribute("data-mode-id",t.getLanguageId()),this._onDidChangeModelLanguage.fire(se.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(se.event);break;case 10:this._onDidChangeModelContent.fire(se.event);break;case 11:this._onDidChangeModelOptions.fire(se.event);break;case 12:this._onDidChangeModelTokens.fire(se.event)}}));const[O,H]=this._createView(g);if(H){this._domElement.appendChild(O.domNode.domNode);let se=Object.keys(this._contentWidgets);for(let ve=0,je=se.length;ve<je;ve++)O.addContentWidget(this._contentWidgets[se[ve]]);se=Object.keys(this._overlayWidgets);for(let ve=0,je=se.length;ve<je;ve++)O.addOverlayWidget(this._overlayWidgets[se[ve]]);O.render(!1,!0),O.domNode.domNode.setAttribute("data-uri",t.uri.toString())}this._modelData=new $o(t,g,O,H,o)}_createView(t){let o;o=this.isSimpleWidget?{paste:(H,se,ve,je)=>{this._paste("keyboard",H,se,ve,je)},type:H=>{this._type("keyboard",H)},compositionType:(H,se,ve,je)=>{this._compositionType("keyboard",H,se,ve,je)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(H,se,ve,je)=>{this._commandService.executeCommand("paste",{text:H,pasteOnNewLine:se,multicursorText:ve,mode:je})},type:H=>{this._commandService.executeCommand("type",{text:H})},compositionType:(H,se,ve,je)=>{ve||je?this._commandService.executeCommand("compositionType",{text:H,replacePrevCharCnt:se,replaceNextCharCnt:ve,positionDelta:je}):this._commandService.executeCommand("replacePreviousChar",{text:H,replaceCharCnt:se})},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const g=new Ft(t.coordinatesConverter);return g.onKeyDown=H=>this._onKeyDown.fire(H),g.onKeyUp=H=>this._onKeyUp.fire(H),g.onContextMenu=H=>this._onContextMenu.fire(H),g.onMouseMove=H=>this._onMouseMove.fire(H),g.onMouseLeave=H=>this._onMouseLeave.fire(H),g.onMouseDown=H=>this._onMouseDown.fire(H),g.onMouseUp=H=>this._onMouseUp.fire(H),g.onMouseDrag=H=>this._onMouseDrag.fire(H),g.onMouseDrop=H=>this._onMouseDrop.fire(H),g.onMouseDropCanceled=H=>this._onMouseDropCanceled.fire(H),g.onMouseWheel=H=>this._onMouseWheel.fire(H),[new al(o,this._configuration,this._themeService.getColorTheme(),t,g,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(t){null==t||t.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const t=this._modelData.model,o=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),o&&this._domElement.contains(o)&&this._domElement.removeChild(o),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),t}_removeDecorationType(t){this._codeEditorService.removeDecorationType(t)}hasModel(){return null!==this._modelData}showDropIndicatorAt(t){const o=[{range:new Fe.e(t.lineNumber,t.column,t.lineNumber,t.column),options:pr.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(o),this.revealPosition(t,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}};ur.dropIntoEditorDecorationOptions=Fs.qx.register({description:"workbench-dnd-target",className:"dnd-target"}),ur=function(ut,t,o,g){var se,O=arguments.length,H=O<3?t:null===g?g=Object.getOwnPropertyDescriptor(t,o):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(ut,t,o,g);else for(var ve=ut.length-1;ve>=0;ve--)(se=ut[ve])&&(H=(O<3?se(H):O>3?se(t,o,H):se(t,o))||H);return O>3&&H&&Object.defineProperty(t,o,H),H}([Ko(3,Ia.TG),Ko(4,ie.$),Ko(5,rd.Hy),Ko(6,$r.i6),Ko(7,An.XE),Ko(8,Zr.lT),Ko(9,Ie.F),Ko(10,_l.c_),Ko(11,Cl.p)],ur);class ta extends Q.JT{constructor(t){super(),this._emitterOptions=t,this._onDidChangeToTrue=this._register(new R.Q5(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new R.Q5(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(t){const o=t?2:1;this._value!==o&&(this._value=o,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class yl extends Q.JT{constructor(t,o){super(),this._editor=t,o.createKey("editorId",t.getId()),this._editorSimpleInput=ji.u.editorSimpleInput.bindTo(o),this._editorFocus=ji.u.focus.bindTo(o),this._textInputFocus=ji.u.textInputFocus.bindTo(o),this._editorTextFocus=ji.u.editorTextFocus.bindTo(o),this._editorTabMovesFocus=ji.u.tabMovesFocus.bindTo(o),this._editorReadonly=ji.u.readOnly.bindTo(o),this._inDiffEditor=ji.u.inDiffEditor.bindTo(o),this._editorColumnSelection=ji.u.columnSelection.bindTo(o),this._hasMultipleSelections=ji.u.hasMultipleSelections.bindTo(o),this._hasNonEmptySelection=ji.u.hasNonEmptySelection.bindTo(o),this._canUndo=ji.u.canUndo.bindTo(o),this._canRedo=ji.u.canRedo.bindTo(o),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const t=this._editor.getOptions();this._editorTabMovesFocus.set(t.get(132)),this._editorReadonly.set(t.get(83)),this._inDiffEditor.set(t.get(56)),this._editorColumnSelection.set(t.get(18))}_updateFromSelection(){const t=this._editor.getSelections();t?(this._hasMultipleSelections.set(t.length>1),this._hasNonEmptySelection.set(t.some(o=>!o.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const t=this._editor.getModel();this._canUndo.set(Boolean(t&&t.canUndo())),this._canRedo.set(Boolean(t&&t.canRedo()))}}class Ji extends Q.JT{constructor(t,o,g){super(),this._editor=t,this._contextKeyService=o,this._languageFeaturesService=g,this._langId=ji.u.languageId.bindTo(o),this._hasCompletionItemProvider=ji.u.hasCompletionItemProvider.bindTo(o),this._hasCodeActionsProvider=ji.u.hasCodeActionsProvider.bindTo(o),this._hasCodeLensProvider=ji.u.hasCodeLensProvider.bindTo(o),this._hasDefinitionProvider=ji.u.hasDefinitionProvider.bindTo(o),this._hasDeclarationProvider=ji.u.hasDeclarationProvider.bindTo(o),this._hasImplementationProvider=ji.u.hasImplementationProvider.bindTo(o),this._hasTypeDefinitionProvider=ji.u.hasTypeDefinitionProvider.bindTo(o),this._hasHoverProvider=ji.u.hasHoverProvider.bindTo(o),this._hasDocumentHighlightProvider=ji.u.hasDocumentHighlightProvider.bindTo(o),this._hasDocumentSymbolProvider=ji.u.hasDocumentSymbolProvider.bindTo(o),this._hasReferenceProvider=ji.u.hasReferenceProvider.bindTo(o),this._hasRenameProvider=ji.u.hasRenameProvider.bindTo(o),this._hasSignatureHelpProvider=ji.u.hasSignatureHelpProvider.bindTo(o),this._hasInlayHintsProvider=ji.u.hasInlayHintsProvider.bindTo(o),this._hasDocumentFormattingProvider=ji.u.hasDocumentFormattingProvider.bindTo(o),this._hasDocumentSelectionFormattingProvider=ji.u.hasDocumentSelectionFormattingProvider.bindTo(o),this._hasMultipleDocumentFormattingProvider=ji.u.hasMultipleDocumentFormattingProvider.bindTo(o),this._hasMultipleDocumentSelectionFormattingProvider=ji.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(o),this._isInWalkThrough=ji.u.isInWalkThroughSnippet.bindTo(o);const O=()=>this._update();this._register(t.onDidChangeModel(O)),this._register(t.onDidChangeModelLanguage(O)),this._register(g.completionProvider.onDidChange(O)),this._register(g.codeActionProvider.onDidChange(O)),this._register(g.codeLensProvider.onDidChange(O)),this._register(g.definitionProvider.onDidChange(O)),this._register(g.declarationProvider.onDidChange(O)),this._register(g.implementationProvider.onDidChange(O)),this._register(g.typeDefinitionProvider.onDidChange(O)),this._register(g.hoverProvider.onDidChange(O)),this._register(g.documentHighlightProvider.onDidChange(O)),this._register(g.documentSymbolProvider.onDidChange(O)),this._register(g.referenceProvider.onDidChange(O)),this._register(g.renameProvider.onDidChange(O)),this._register(g.documentFormattingEditProvider.onDidChange(O)),this._register(g.documentRangeFormattingEditProvider.onDidChange(O)),this._register(g.signatureHelpProvider.onDidChange(O)),this._register(g.inlayHintsProvider.onDidChange(O)),O()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const t=this._editor.getModel();t?this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(t.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(t)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(t)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(t)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(t)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(t)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(t)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(t)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(t)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(t)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(t)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(t)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(t)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(t)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(t)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(t)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(t)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(t)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(t).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(t).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(t).length>1),this._isInWalkThrough.set(t.uri.scheme===Z.lg.walkThroughSnippet)}):this.reset()}}class na extends Q.JT{constructor(t){super(),this._onChange=this._register(new R.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(x.go(t)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class wl{constructor(t,o){this._editor=t,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(o)&&o.length>0&&this.set(o)}get length(){return this._decorationIds.length}onDidChange(t,o,g){return this._editor.onDidChangeModelDecorations(O=>{this._isChangingDecorations||t.call(o,O)},g)}getRange(t){return!this._editor.hasModel()||t>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[t])}getRanges(){if(!this._editor.hasModel())return[];const t=this._editor.getModel(),o=[];for(const g of this._decorationIds){const O=t.getDecorationRange(g);O&&o.push(O)}return o}has(t){return this._decorationIds.includes(t.id)}clear(){0!==this._decorationIds.length&&this.set([])}set(t){try{this._isChangingDecorations=!0,this._editor.changeDecorations(o=>{this._decorationIds=o.deltaDecorations(this._decorationIds,t)})}finally{this._isChangingDecorations=!1}}}const ka=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),Ll=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function ia(ut){return ka+encodeURIComponent(ut.toString())+Ll}const Ba=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Lo=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');(0,An.Ic)((ut,t)=>{const o=ut.getColor(Re.b6y);o&&t.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${o}; }`);const g=ut.getColor(Re.lXJ);g&&t.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${ia(g)}") repeat-x bottom left; }`);const O=ut.getColor(Re.L_H);O&&t.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${O}; }`);const H=ut.getColor(Re.pW3);H&&t.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${H}; }`);const se=ut.getColor(Re.uoC);se&&t.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${ia(se)}") repeat-x bottom left; }`);const ve=ut.getColor(Re.gpD);ve&&t.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${ve}; }`);const je=ut.getColor(Re.T83);je&&t.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${je}; }`);const qe=ut.getColor(Re.c63);qe&&t.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${ia(qe)}") repeat-x bottom left; }`);const rt=ut.getColor(Re.few);rt&&t.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${rt}; }`);const yt=ut.getColor(Re.fEB);yt&&t.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${yt}; }`);const kt=ut.getColor(Re.Dut);kt&&t.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${function oa(ut){return Ba+encodeURIComponent(ut.toString())+Lo}(kt)}") no-repeat bottom left; }`);const Wt=ut.getColor(kn.zu);Wt&&t.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${Wt.rgba.a}; }`);const cn=ut.getColor(kn.kp);cn&&t.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${cn}; }`);const _n=ut.getColor(Re.NOs)||"inherit";t.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${_n}}`)})},85190:(at,ue,e)=>{"use strict";e.d(ue,{p:()=>Cn});var f=e(93379),s=e.n(f),L=e(7795),M=e.n(L),u=e(90569),P=e.n(u),A=e(3565),k=e.n(A),N=e(19216),_=e.n(N),a=e(44589),p=e.n(a),c=e(22360),n={};n.styleTagTransform=p(),n.setAttributes=k(),n.insert=P().bind(null,"head"),n.domAPI=M(),n.insertStyleElement=_(),s()(c.Z,n);var d=e(40402),m=e(58059),I=e(48797),y=e(48554),S=e(37397),b=e(63072),x=e(52787),T=e(52425),R=e(95748),Q=e(11210),Z=e(7221),G=e(37972),F=e(34504),W={};W.styleTagTransform=p(),W.setAttributes=k(),W.insert=P().bind(null,"head"),W.domAPI=M(),W.insertStyleElement=_(),s()(F.Z,W);var Ve,j=e(84039),Y=e(97648),E=e(85113),V=e(95172),$=e(16367),te=e(8028),w=e(94220),fe=e(53448),be=e(26046),me=e(91962),Ie=e(59776),ee=e(28708),ce=e(23024),he=e(2450),de=e(95836),ge=e(42570);class ye{constructor(oe,Le,We,it){this.originalLineStart=oe,this.originalLineEnd=Le,this.modifiedLineStart=We,this.modifiedLineEnd=it}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class _e{constructor(oe){this.entries=oe}}const Be=(0,de.q5)("diff-review-insert",he.lA.add,d.NC("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),Qe=(0,de.q5)("diff-review-remove",he.lA.remove,d.NC("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),Ae=(0,de.q5)("diff-review-close",he.lA.close,d.NC("diffReviewCloseIcon","Icon for 'Close' in diff review."));let pe=class js extends T.JT{constructor(oe,Le){super(),this._languageService=Le,this._width=0,this._diffEditor=oe,this._isVisible=!1,this.shadow=(0,y.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,y.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new j.o(this.actionBarContainer.domNode)),this._actionBar.push(new E.aU("diffreview.close",d.NC("label.close","Close"),"close-diff-review "+ce.kS.asClassName(Ae),!0,()=>function(Te,oe,Le,We){return new(Le||(Le=Promise))(function(pt,Et){function Ut(In){try{pn(We.next(In))}catch(On){Et(On)}}function sn(In){try{pn(We.throw(In))}catch(On){Et(On)}}function pn(In){In.done?pt(In.value):function it(pt){return pt instanceof Le?pt:new Le(function(Et){Et(pt)})}(In.value).then(Ut,sn)}pn((We=We.apply(Te,oe||[])).next())})}(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,y.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,y.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new Y.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(oe.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(oe.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(m.mu(this.domNode.domNode,"click",We=>{We.preventDefault();const it=m.Fx(We.target,"diff-review-row");it&&this._goToRow(it)})),this._register(m.mu(this.domNode.domNode,"keydown",We=>{(We.equals(18)||We.equals(2066)||We.equals(530))&&(We.preventDefault(),this._goToRow(this._getNextRow())),(We.equals(16)||We.equals(2064)||We.equals(528))&&(We.preventDefault(),this._goToRow(this._getPrevRow())),(We.equals(9)||We.equals(2057)||We.equals(521)||We.equals(1033))&&(We.preventDefault(),this.hide()),(We.equals(10)||We.equals(3))&&(We.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let oe=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let We=-1;for(let it=0,pt=this._diffs.length;it<pt;it++)if(this._diffs[it]===this._currentDiff){We=it;break}oe=this._diffs.length+We-1}else oe=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;oe%=this._diffs.length;const Le=this._diffs[oe].entries;this._diffEditor.setPosition(new w.L(Le[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:Le[0].modifiedLineStart,endColumn:1073741824,endLineNumber:Le[Le.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let oe=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let We=-1;for(let it=0,pt=this._diffs.length;it<pt;it++)if(this._diffs[it]===this._currentDiff){We=it;break}oe=We+1}else oe=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;oe%=this._diffs.length;const Le=this._diffs[oe].entries;this._diffEditor.setPosition(new w.L(Le[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:Le[0].modifiedLineStart,endColumn:1073741824,endLineNumber:Le[Le.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let oe=-1;const Le=this._getCurrentFocusedRow();if(Le){const We=parseInt(Le.getAttribute("data-line"),10);isNaN(We)||(oe=We)}this.hide(),-1!==oe&&(this._diffEditor.setPosition(new w.L(oe,1)),this._diffEditor.revealPosition(new w.L(oe,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const oe=this._getCurrentFocusedRow();return oe?oe.previousElementSibling?oe.previousElementSibling:oe:this._getFirstRow()}_getNextRow(){const oe=this._getCurrentFocusedRow();return oe?oe.nextElementSibling?oe.nextElementSibling:oe:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const oe=document.activeElement;return oe&&/diff-review-row/.test(oe.className)?oe:null}_goToRow(oe){const Le=this._getCurrentFocusedRow();oe.tabIndex=0,oe.focus(),Le&&Le!==oe&&(Le.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(oe,Le,We){this._width=Le,this.shadow.setTop(oe-6),this.shadow.setWidth(Le),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(oe),this.domNode.setWidth(Le),this.domNode.setHeight(We),this._content.setHeight(We),this._content.setWidth(Le),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const oe=this._diffEditor.getLineChanges();if(!oe||0===oe.length)return[];const Le=this._diffEditor.getOriginalEditor().getModel(),We=this._diffEditor.getModifiedEditor().getModel();return Le&&We?js._mergeAdjacent(oe,Le.getLineCount(),We.getLineCount()):[]}static _mergeAdjacent(oe,Le,We){if(!oe||0===oe.length)return[];const it=[];let pt=0;for(let pn=0,In=oe.length;pn<In;pn++){const On=oe[pn],Tn=On.originalStartLineNumber,kn=On.originalEndLineNumber,An=On.modifiedStartLineNumber,Gn=On.modifiedEndLineNumber,ri=[];let si=0;{const Si=0===kn?Tn:Tn-1,xi=0===Gn?An:An-1;let Li=1,Yn=1;if(pn>0){const mn=oe[pn-1];Li=0===mn.originalEndLineNumber?mn.originalStartLineNumber+1:mn.originalEndLineNumber+1,Yn=0===mn.modifiedEndLineNumber?mn.modifiedStartLineNumber+1:mn.modifiedEndLineNumber+1}let fi=Si-3+1,pi=xi-3+1;if(fi<Li){const mn=Li-fi;fi+=mn,pi+=mn}if(pi<Yn){const mn=Yn-pi;fi+=mn,pi+=mn}ri[si++]=new ye(fi,Si,pi,xi)}0!==kn&&(ri[si++]=new ye(Tn,kn,0,0)),0!==Gn&&(ri[si++]=new ye(0,0,An,Gn));{const Si=0===kn?Tn+1:kn+1,xi=0===Gn?An+1:Gn+1;let Li=Le,Yn=We;if(pn+1<In){const mn=oe[pn+1];Li=0===mn.originalEndLineNumber?mn.originalStartLineNumber:mn.originalStartLineNumber-1,Yn=0===mn.modifiedEndLineNumber?mn.modifiedStartLineNumber:mn.modifiedStartLineNumber-1}let fi=Si+3-1,pi=xi+3-1;if(fi>Li){const mn=Li-fi;fi+=mn,pi+=mn}if(pi>Yn){const mn=Yn-pi;fi+=mn,pi+=mn}ri[si++]=new ye(Si,fi,xi,pi)}it[pt++]=new _e(ri)}let Et=it[0].entries;const Ut=[];let sn=0;for(let pn=1,In=it.length;pn<In;pn++){const On=it[pn].entries,Tn=Et[Et.length-1],kn=On[0];0===Tn.getType()&&0===kn.getType()&&kn.originalLineStart<=Tn.originalLineEnd?(Et[Et.length-1]=new ye(Tn.originalLineStart,kn.originalLineEnd,Tn.modifiedLineStart,kn.modifiedLineEnd),Et=Et.concat(On.slice(1))):(Ut[sn++]=new _e(Et),Et=On)}return Ut[sn++]=new _e(Et),Ut}_findDiffIndex(oe){const Le=oe.lineNumber;for(let We=0,it=this._diffs.length;We<it;We++){const pt=this._diffs[We].entries;if(Le<=pt[pt.length-1].modifiedLineEnd)return We}return 0}_render(){const oe=this._diffEditor.getOriginalEditor().getOptions(),Le=this._diffEditor.getModifiedEditor().getOptions(),We=this._diffEditor.getOriginalEditor().getModel(),it=this._diffEditor.getModifiedEditor().getModel(),pt=We.getOptions(),Et=it.getOptions();if(!this._isVisible||!We||!it)return m.PO(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});const Ut=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[Ut]===this._currentDiff)return;this._currentDiff=this._diffs[Ut];const sn=this._diffs[Ut].entries,pn=document.createElement("div");pn.className="diff-review-table",pn.setAttribute("role","list"),pn.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,R.N)(pn,Le.get(46));let In=0,On=0,Tn=0,kn=0;for(let pi=0,mn=sn.length;pi<mn;pi++){const bt=sn[pi],Lt=bt.originalLineStart,Ft=bt.originalLineEnd,un=bt.modifiedLineStart,ln=bt.modifiedLineEnd;0!==Lt&&(0===In||Lt<In)&&(In=Lt),0!==Ft&&(0===On||Ft>On)&&(On=Ft),0!==un&&(0===Tn||un<Tn)&&(Tn=un),0!==ln&&(0===kn||ln>kn)&&(kn=ln)}const An=document.createElement("div");An.className="diff-review-row";const Gn=document.createElement("div");Gn.className="diff-review-cell diff-review-summary";const ri=On-In+1,si=kn-Tn+1;Gn.appendChild(document.createTextNode(`${Ut+1}/${this._diffs.length}: @@ -${In},${ri} +${Tn},${si} @@`)),An.setAttribute("data-line",String(Tn));const Si=pi=>0===pi?d.NC("no_lines_changed","no lines changed"):1===pi?d.NC("one_line_changed","1 line changed"):d.NC("more_lines_changed","{0} lines changed",pi),xi=Si(ri),Li=Si(si);An.setAttribute("aria-label",d.NC({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",Ut+1,this._diffs.length,In,xi,Tn,Li)),An.appendChild(Gn),An.setAttribute("role","listitem"),pn.appendChild(An);const Yn=Le.get(61);let fi=Tn;for(let pi=0,mn=sn.length;pi<mn;pi++){const bt=sn[pi];js._renderSection(pn,bt,fi,Yn,this._width,oe,We,pt,Le,it,Et,this._languageService.languageIdCodec),0!==bt.modifiedLineStart&&(fi=bt.modifiedLineEnd)}m.PO(this._content.domNode),this._content.domNode.appendChild(pn),this.scrollbar.scanDomNode()}static _renderSection(oe,Le,We,it,pt,Et,Ut,sn,pn,In,On,Tn){const kn=Le.getType();let An="diff-review-row",Gn="",si=null;switch(kn){case 1:An="diff-review-row line-insert",Gn=" char-insert",si=Be;break;case 2:An="diff-review-row line-delete",Gn=" char-delete",si=Qe}const Si=Le.originalLineStart,Li=Le.modifiedLineStart,fi=Math.max(Le.modifiedLineEnd-Li,Le.originalLineEnd-Si),pi=Et.get(133),mn=pi.glyphMarginWidth+pi.lineNumbersWidth,bt=pn.get(133),Lt=10+bt.glyphMarginWidth+bt.lineNumbersWidth;for(let Ft=0;Ft<=fi;Ft++){const un=0===Si?0:Si+Ft,ln=0===Li?0:Li+Ft,Ot=document.createElement("div");Ot.style.minWidth=pt+"px",Ot.className=An,Ot.setAttribute("role","listitem"),0!==ln&&(We=ln),Ot.setAttribute("data-line",String(We));const $e=document.createElement("div");$e.className="diff-review-cell",$e.style.height=`${it}px`,Ot.appendChild($e);const wt=document.createElement("span");wt.style.width=mn+"px",wt.style.minWidth=mn+"px",wt.className="diff-review-line-number"+Gn,0!==un?wt.appendChild(document.createTextNode(String(un))):wt.innerText="\xa0",$e.appendChild(wt);const Bt=document.createElement("span");Bt.style.width=Lt+"px",Bt.style.minWidth=Lt+"px",Bt.style.paddingRight="10px",Bt.className="diff-review-line-number"+Gn,0!==ln?Bt.appendChild(document.createTextNode(String(ln))):Bt.innerText="\xa0",$e.appendChild(Bt);const Xt=document.createElement("span");if(Xt.className="diff-review-spacer",si){const Ge=document.createElement("span");Ge.className=ce.kS.asClassName(si),Ge.innerText="\xa0\xa0",Xt.appendChild(Ge)}else Xt.innerText="\xa0\xa0";let nn;if($e.appendChild(Xt),0!==ln){let Ge=this._renderLine(In,pn,On.tabSize,ln,Tn);js._ttPolicy&&(Ge=js._ttPolicy.createHTML(Ge)),$e.insertAdjacentHTML("beforeend",Ge),nn=In.getLineContent(ln)}else{let Ge=this._renderLine(Ut,Et,sn.tabSize,un,Tn);js._ttPolicy&&(Ge=js._ttPolicy.createHTML(Ge)),$e.insertAdjacentHTML("beforeend",Ge),nn=Ut.getLineContent(un)}0===nn.length&&(nn=d.NC("blankLine","blank"));let Kt="";switch(kn){case 0:Kt=un===ln?d.NC({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",nn,un):d.NC("equalLine","{0} original line {1} modified line {2}",nn,un,ln);break;case 1:Kt=d.NC("insertLine","+ {0} modified line {1}",nn,ln);break;case 2:Kt=d.NC("deleteLine","- {0} original line {1}",nn,un)}Ot.setAttribute("aria-label",Kt),oe.appendChild(Ot)}}static _renderLine(oe,Le,We,it,pt){const Et=oe.getLineContent(it),Ut=Le.get(46),sn=te.A.createEmpty(Et,pt),pn=me.wA.isBasicASCII(Et,oe.mightContainNonBasicASCII()),In=me.wA.containsRTL(Et,pn,oe.mightContainRTL());return(0,be.tF)(new be.IJ(Ut.isMonospace&&!Le.get(29),Ut.canUseHalfwidthRightwardsArrow,Et,!1,pn,In,0,sn,[],We,0,Ut.spaceWidth,Ut.middotWidth,Ut.wsmiddotWidth,Le.get(107),Le.get(90),Le.get(85),Le.get(47)!==$.n0.OFF,null)).html}};var oe;function Ne(Te){const oe=Te.get(Z.$),Le=oe.listDiffEditors(),We=oe.getActiveCodeEditor();if(!We)return null;for(let it=0,pt=Le.length;it<pt;it++){const Et=Le[it];if(Et.getModifiedEditor().getId()===We.getId()||Et.getOriginalEditor().getId()===We.getId())return Et}return null}pe._ttPolicy=null===(Ve=window.trustedTypes)||void 0===Ve?void 0:Ve.createPolicy("diffReview",{createHTML:Te=>Te}),pe=function(Te,oe,Le,We){var Et,it=arguments.length,pt=it<3?oe:null===We?We=Object.getOwnPropertyDescriptor(oe,Le):We;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pt=Reflect.decorate(Te,oe,Le,We);else for(var Ut=Te.length-1;Ut>=0;Ut--)(Et=Te[Ut])&&(pt=(it<3?Et(pt):it>3?Et(oe,Le,pt):Et(oe,Le))||pt);return it>3&&pt&&Object.defineProperty(oe,Le,pt),pt}([(1,oe=ge.O,function(Le,We){oe(Le,We,1)})],pe),(0,ce.Ic)((Te,oe)=>{const Le=Te.getColor(fe.hw);Le&&oe.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${Le}; }`);const We=Te.getColor(ee._wn);We&&oe.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${We} 0 -6px 6px -6px inset; }`)}),(0,V.Qr)(class De extends V.R6{constructor(){super({id:"editor.action.diffReview.next",label:d.NC("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:Ie.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(oe,Le){const We=Ne(oe);We&&We.diffReviewNext()}}),(0,V.Qr)(class Oe extends V.R6{constructor(){super({id:"editor.action.diffReview.prev",label:d.NC("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:Ie.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(oe,Le){const We=Ne(oe);We&&We.diffReviewPrev()}});var ne=e(68451),xe=e(68511),Je=e(92651),gt=e(3508),lt=e(84084),Ke=e(13772),He=e(94500),Ue=e(64725),ot=e(12281),et=e(78782),Ze=e(34394),Mt=function(Te,oe,Le,We){return new(Le||(Le=Promise))(function(pt,Et){function Ut(In){try{pn(We.next(In))}catch(On){Et(On)}}function sn(In){try{pn(We.throw(In))}catch(On){Et(On)}}function pn(In){In.done?pt(In.value):function it(pt){return pt instanceof Le?pt:new Le(function(Et){Et(pt)})}(In.value).then(Ut,sn)}pn((We=We.apply(Te,oe||[])).next())})};class Nt extends T.JT{constructor(oe,Le,We,it,pt,Et){super(),this._viewZoneId=oe,this._marginDomNode=Le,this.editor=We,this.diff=it,this._contextMenuService=pt,this._clipboardService=Et,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=he.lA.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const Ut=We.getOption(61),sn=We.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${Ut}px`,this._diffActions.style.lineHeight=`${Ut}px`,this._marginDomNode.appendChild(this._diffActions);const pn=[],In=0===it.modifiedEndLineNumber;pn.push(new E.aU("diff.clipboard.copyDeletedContent",In?it.originalEndLineNumber>it.modifiedStartLineNumber?d.NC("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):d.NC("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):it.originalEndLineNumber>it.modifiedStartLineNumber?d.NC("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):d.NC("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>Mt(this,void 0,void 0,function*(){const Gn=new ne.e(it.originalStartLineNumber,1,it.originalEndLineNumber+1,1),ri=it.originalModel.getValueInRange(Gn);yield this._clipboardService.writeText(ri)})));let Tn,On=0;it.originalEndLineNumber>it.modifiedStartLineNumber&&(Tn=new E.aU("diff.clipboard.copyDeletedLineContent",In?d.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",it.originalStartLineNumber):d.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",it.originalStartLineNumber),void 0,!0,()=>Mt(this,void 0,void 0,function*(){const Gn=it.originalModel.getLineContent(it.originalStartLineNumber+On);if(""===Gn){const ri=it.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(0===ri?"\n":"\r\n")}else yield this._clipboardService.writeText(Gn)})),pn.push(Tn)),We.getOption(83)||pn.push(new E.aU("diff.inline.revertChange",d.NC("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>Mt(this,void 0,void 0,function*(){const Gn=new ne.e(it.originalStartLineNumber,1,it.originalEndLineNumber,it.originalModel.getLineMaxColumn(it.originalEndLineNumber)),ri=it.originalModel.getValueInRange(Gn);if(0===it.modifiedEndLineNumber){const si=We.getModel().getLineMaxColumn(it.modifiedStartLineNumber);We.executeEdits("diffEditor",[{range:new ne.e(it.modifiedStartLineNumber,si,it.modifiedStartLineNumber,si),text:sn+ri}])}else{const si=We.getModel().getLineMaxColumn(it.modifiedEndLineNumber);We.executeEdits("diffEditor",[{range:new ne.e(it.modifiedStartLineNumber,1,it.modifiedEndLineNumber,si),text:ri}])}})));const An=(Gn,ri)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:Gn,y:ri}),getActions:()=>(Tn&&(Tn.label=In?d.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",it.originalStartLineNumber+On):d.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",it.originalStartLineNumber+On)),pn),autoSelectFirstItem:!0})};this._register(m.mu(this._diffActions,"mousedown",Gn=>{const{top:ri,height:si}=m.i(this._diffActions),Si=Math.floor(Ut/3);Gn.preventDefault(),An(Gn.posx,ri+si+Si)})),this._register(We.onMouseMove(Gn=>{8!==Gn.target.type&&5!==Gn.target.type||Gn.target.detail.viewZoneId!==this._viewZoneId?this.visibility=!1:(this.visibility=!0,On=this._updateLightBulbPosition(this._marginDomNode,Gn.event.browserEvent.y,Ut))})),this._register(We.onMouseDown(Gn=>{!Gn.event.rightButton||(8===Gn.target.type||5===Gn.target.type)&&Gn.target.detail.viewZoneId===this._viewZoneId&&(Gn.event.preventDefault(),On=this._updateLightBulbPosition(this._marginDomNode,Gn.event.browserEvent.y,Ut),An(Gn.event.posx,Gn.event.posy+Ut))}))}get visibility(){return this._visibility}set visibility(oe){this._visibility!==oe&&(this._visibility=oe,this._diffActions.style.visibility=oe?"visible":"hidden")}_updateLightBulbPosition(oe,Le,We){const{top:it}=m.i(oe),Et=Math.floor((Le-it)/We);if(this._diffActions.style.top=Et*We+"px",this.diff.viewLineCounts){let sn=0;for(let pn=0;pn<this.diff.viewLineCounts.length;pn++)if(sn+=this.diff.viewLineCounts[pn],Et<sn)return pn}return Et}}var st,ze=e(80777),dt=e(53663),$t=e(22534),hn=e(72052),vn=e(91257),ft=e(58676),nt=function(Te,oe){return function(Le,We){oe(Le,We,Te)}};class Ee{constructor(oe,Le){this._contextMenuService=oe,this._clipboardService=Le,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(oe){return oe.filter(Le=>!this._zonesMap[String(Le.id)])}clean(oe){this._zones.length>0&&oe.changeViewZones(Le=>{for(const We of this._zones)Le.removeZone(We)}),this._zones=[],this._zonesMap={},oe.changeDecorations(Le=>{this._decorations=Le.deltaDecorations(this._decorations,[])})}apply(oe,Le,We,it){const pt=it?Q.Z.capture(oe):null;oe.changeViewZones(Et=>{var Ut;for(const sn of this._zones)Et.removeZone(sn);for(const sn of this._inlineDiffMargins)sn.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let sn=0,pn=We.zones.length;sn<pn;sn++){const In=We.zones[sn];In.suppressMouseDown=!0;const On=Et.addZone(In);this._zones.push(On),this._zonesMap[String(On)]=!0,We.zones[sn].diff&&In.marginDomNode&&(In.suppressMouseDown=!1,0!==(null===(Ut=We.zones[sn].diff)||void 0===Ut?void 0:Ut.originalModel.getValueLength())&&this._inlineDiffMargins.push(new Nt(On,In.marginDomNode,oe,We.zones[sn].diff,this._contextMenuService,this._clipboardService)))}}),null==pt||pt.restore(oe),oe.changeDecorations(Et=>{this._decorations=Et.deltaDecorations(this._decorations,We.decorations)}),null==Le||Le.setZones(We.overviewZones)}}let Fe=0;const mt=(0,de.q5)("diff-insert",he.lA.add,d.NC("diffInsertIcon","Line decoration for inserts in the diff editor.")),Vt=(0,de.q5)("diff-remove",he.lA.remove,d.NC("diffRemoveIcon","Line decoration for removals in the diff editor.")),qt=null===(st=window.trustedTypes)||void 0===st?void 0:st.createPolicy("diffEditorWidget",{createHTML:Te=>Te});let Cn=class _o extends T.JT{constructor(oe,Le,We,it,pt,Et,Ut,sn,pn,In,On,Tn){super(),this._editorProgressService=Tn,this._onDidDispose=this._register(new x.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new x.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new x.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=pt,this._codeEditorService=sn,this._contextKeyService=this._register(Et.createScoped(oe)),this._instantiationService=Ut.createChild(new ot.y([Ie.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=pn,this._notificationService=In,this._id=++Fe,this._state=0,this._updatingDiffProgress=null,this._domElement=oe,this._options=Dn(Le=Le||{},{enableSplitViewResizing:!0,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),this._contextKeyService.createKey("isInEmbeddedDiffEditor",void 0!==Le.isInEmbeddedEditor&&Le.isInEmbeddedEditor),this._updateDecorationsRunner=this._register(new b.pY(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=_o._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,y.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(m.mu(this._overviewDomElement,m.tw.POINTER_DOWN,An=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(An)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new Ee(On,it),this._modifiedEditorState=new Ee(On,it),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new hn.I(this._containerDomElement,Le.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),Le.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(Le,We.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(Le,We.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=Ut.createInstance(pe,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._setStrategy(this._options.renderSideBySide?new rn(this._createDataSource(),this._options.enableSplitViewResizing):new yn(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(pn.onDidColorThemeChange(An=>{this._strategy&&this._strategy.applyColors(An)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=_o._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const kn=V.Uc.getDiffEditorContributions();for(const An of kn)try{this._register(Ut.createInstance(An.ctor,this))}catch(Gn){(0,dt.dL)(Gn)}this._codeEditorService.addDiffEditor(this)}_setState(oe){this._state!==oe&&(this._state=oe,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(oe,Le){let We="monaco-diff-editor monaco-editor-background ";return Le&&(We+="side-by-side "),We+=(0,ce.m6)(oe.type),We}_disposeOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}_createOverviewRulers(){!this._options.renderOverviewRuler||(I.ok(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(oe,Le){const We=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(oe),Le);this._register(We.onDidScrollChange(pt=>{this._isHandlingScrollEvent||!pt.scrollTopChanged&&!pt.scrollLeftChanged&&!pt.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:pt.scrollLeft,scrollTop:pt.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(We.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(We.onDidChangeConfiguration(pt=>{!We.getModel()||(pt.hasChanged(46)&&this._updateDecorationsRunner.schedule(),pt.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(We.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(We.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const it=this._contextKeyService.createKey("isInDiffLeftEditor",We.hasWidgetFocus());return this._register(We.onDidFocusEditorWidget(()=>it.set(!0))),this._register(We.onDidBlurEditorWidget(()=>it.set(!1))),this._register(We.onDidContentSizeChange(pt=>{const Et=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+_o.ONE_OVERVIEW_WIDTH,Ut=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Ut,contentWidth:Et,contentHeightChanged:pt.contentHeightChanged,contentWidthChanged:pt.contentWidthChanged})})),We}_createRightHandSideEditor(oe,Le){const We=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(oe),Le);this._register(We.onDidScrollChange(pt=>{this._isHandlingScrollEvent||!pt.scrollTopChanged&&!pt.scrollLeftChanged&&!pt.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:pt.scrollLeft,scrollTop:pt.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(We.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(We.onDidChangeConfiguration(pt=>{!We.getModel()||(pt.hasChanged(46)&&this._updateDecorationsRunner.schedule(),pt.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(We.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(We.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(We.onDidChangeModelOptions(pt=>{pt.tabSize&&this._updateDecorationsRunner.schedule()}));const it=this._contextKeyService.createKey("isInDiffRightEditor",We.hasWidgetFocus());return this._register(We.onDidFocusEditorWidget(()=>it.set(!0))),this._register(We.onDidBlurEditorWidget(()=>it.set(!1))),this._register(We.onDidContentSizeChange(pt=>{const Et=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+_o.ONE_OVERVIEW_WIDTH,Ut=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Ut,contentWidth:Et,contentHeightChanged:pt.contentHeightChanged,contentWidthChanged:pt.contentWidthChanged})})),this._register(We.onMouseDown(pt=>{var Et,Ut;if(!pt.event.rightButton&&pt.target.position&&(null===(Et=pt.target.element)||void 0===Et?void 0:Et.className.includes("arrow-revert-change"))){const sn=pt.target.position.lineNumber,pn=null===(Ut=this._diffComputationResult)||void 0===Ut?void 0:Ut.changes.find(In=>In.modifiedStartLineNumber===sn-1||In.modifiedStartLineNumber===sn);return pn&&this.revertChange(pn),pt.event.stopPropagation(),void this._updateDecorations()}})),We}revertChange(oe){const Le=this._modifiedEditor,We=this._originalEditor.getModel(),it=this._modifiedEditor.getModel();if(!We||!it||!Le)return;const pt=oe.originalEndLineNumber>0?new ne.e(oe.originalStartLineNumber,1,oe.originalEndLineNumber,We.getLineMaxColumn(oe.originalEndLineNumber)):null,Et=pt?We.getValueInRange(pt):null,Ut=oe.modifiedEndLineNumber>0?new ne.e(oe.modifiedStartLineNumber,1,oe.modifiedEndLineNumber,it.getLineMaxColumn(oe.modifiedEndLineNumber)):null,sn=it.getEOL();if(0===oe.originalEndLineNumber&&Ut){let pn=Ut;oe.modifiedStartLineNumber>1?pn=Ut.setStartPosition(oe.modifiedStartLineNumber-1,it.getLineMaxColumn(oe.modifiedStartLineNumber-1)):oe.modifiedEndLineNumber<it.getLineCount()&&(pn=Ut.setEndPosition(oe.modifiedEndLineNumber+1,1)),Le.executeEdits("diffEditor",[{range:pn,text:""}])}else if(0===oe.modifiedEndLineNumber&&null!==Et){const pn=oe.modifiedStartLineNumber<it.getLineCount()?new w.L(oe.modifiedStartLineNumber+1,1):new w.L(oe.modifiedStartLineNumber,it.getLineMaxColumn(oe.modifiedStartLineNumber));Le.executeEdits("diffEditor",[{range:ne.e.fromPositions(pn,pn),text:oe.modifiedStartLineNumber<it.getLineCount()?Et+sn:sn+Et}])}else Ut&&null!==Et&&Le.executeEdits("diffEditor",[{range:Ut,text:Et}])}_createInnerEditor(oe,Le,We,it){return oe.createInstance(G.Gm,Le,We,it)}dispose(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Je.g.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(oe){const Le=Dn(oe,this._options),We=function Dt(Te,oe){return{enableSplitViewResizing:Te.enableSplitViewResizing!==oe.enableSplitViewResizing,renderSideBySide:Te.renderSideBySide!==oe.renderSideBySide,renderMarginRevertIcon:Te.renderMarginRevertIcon!==oe.renderMarginRevertIcon,maxComputationTime:Te.maxComputationTime!==oe.maxComputationTime,maxFileSize:Te.maxFileSize!==oe.maxFileSize,ignoreTrimWhitespace:Te.ignoreTrimWhitespace!==oe.ignoreTrimWhitespace,renderIndicators:Te.renderIndicators!==oe.renderIndicators,originalEditable:Te.originalEditable!==oe.originalEditable,diffCodeLens:Te.diffCodeLens!==oe.diffCodeLens,renderOverviewRuler:Te.renderOverviewRuler!==oe.renderOverviewRuler,diffWordWrap:Te.diffWordWrap!==oe.diffWordWrap}}(this._options,Le);this._options=Le;const pt=this._isVisible&&(We.maxComputationTime||We.maxFileSize);We.ignoreTrimWhitespace||We.renderIndicators||We.renderMarginRevertIcon?this._beginUpdateDecorations():pt&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(oe)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(oe)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),We.renderSideBySide&&(this._setStrategy(this._options.renderSideBySide?new rn(this._createDataSource(),this._options.enableSplitViewResizing):new yn(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=_o._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),We.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(oe){if(oe&&(!oe.original||!oe.modified))throw new Error(oe.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(oe?oe.original:null),this._modifiedEditor.setModel(oe?oe.modified:null),this._updateDecorationsRunner.cancel(),oe&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),oe&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(oe){return this._modifiedEditor.getVisibleColumnFromPosition(oe)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(oe,Le="api"){this._modifiedEditor.setPosition(oe,Le)}revealLine(oe,Le=0){this._modifiedEditor.revealLine(oe,Le)}revealLineInCenter(oe,Le=0){this._modifiedEditor.revealLineInCenter(oe,Le)}revealLineInCenterIfOutsideViewport(oe,Le=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(oe,Le)}revealLineNearTop(oe,Le=0){this._modifiedEditor.revealLineNearTop(oe,Le)}revealPosition(oe,Le=0){this._modifiedEditor.revealPosition(oe,Le)}revealPositionInCenter(oe,Le=0){this._modifiedEditor.revealPositionInCenter(oe,Le)}revealPositionInCenterIfOutsideViewport(oe,Le=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(oe,Le)}revealPositionNearTop(oe,Le=0){this._modifiedEditor.revealPositionNearTop(oe,Le)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(oe,Le="api"){this._modifiedEditor.setSelection(oe,Le)}setSelections(oe,Le="api"){this._modifiedEditor.setSelections(oe,Le)}revealLines(oe,Le,We=0){this._modifiedEditor.revealLines(oe,Le,We)}revealLinesInCenter(oe,Le,We=0){this._modifiedEditor.revealLinesInCenter(oe,Le,We)}revealLinesInCenterIfOutsideViewport(oe,Le,We=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(oe,Le,We)}revealLinesNearTop(oe,Le,We=0){this._modifiedEditor.revealLinesNearTop(oe,Le,We)}revealRange(oe,Le=0,We=!1,it=!0){this._modifiedEditor.revealRange(oe,Le,We,it)}revealRangeInCenter(oe,Le=0){this._modifiedEditor.revealRangeInCenter(oe,Le)}revealRangeInCenterIfOutsideViewport(oe,Le=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(oe,Le)}revealRangeNearTop(oe,Le=0){this._modifiedEditor.revealRangeNearTop(oe,Le)}revealRangeNearTopIfOutsideViewport(oe,Le=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(oe,Le)}revealRangeAtTop(oe,Le=0){this._modifiedEditor.revealRangeAtTop(oe,Le)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){return{original:this._originalEditor.saveViewState(),modified:this._modifiedEditor.saveViewState()}}restoreViewState(oe){if(oe&&oe.original&&oe.modified){const Le=oe;this._originalEditor.restoreViewState(Le.original),this._modifiedEditor.restoreViewState(Le.modified)}}layout(oe){this._elementSizeObserver.observe(oe)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(oe,Le,We){this._modifiedEditor.trigger(oe,Le,We)}createDecorationsCollection(oe){return this._modifiedEditor.createDecorationsCollection(oe)}changeDecorations(oe){return this._modifiedEditor.changeDecorations(oe)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const oe=this._elementSizeObserver.getHeight(),Le=this._getReviewHeight(),We=_o.ENTIRE_DIFF_OVERVIEW_WIDTH-2*_o.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:_o.ONE_OVERVIEW_WIDTH,right:We+_o.ONE_OVERVIEW_WIDTH,height:oe-Le}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:_o.ONE_OVERVIEW_WIDTH,height:oe-Le}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),_o.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(oe,Le){return!oe&&!Le||!(!oe||!Le)&&oe.toString()===Le.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const oe=this._originalEditor.getModel(),Le=this._modifiedEditor.getModel();if(!oe||!Le)return;this._diffComputationToken++;const We=this._diffComputationToken,it=1024*this._options.maxFileSize*1024,pt=Et=>{const Ut=Et.getValueLength();return 0===it||Ut<=it};pt(oe)&&pt(Le)?(this._setState(1),this._editorWorkerService.computeDiff(oe.uri,Le.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(Et=>{We===this._diffComputationToken&&oe===this._originalEditor.getModel()&&Le===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=Et,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},Et=>{We===this._diffComputationToken&&oe===this._originalEditor.getModel()&&Le===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})):(!_o._equals(oe.uri,this._lastOriginalWarning)||!_o._equals(Le.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=oe.uri,this._lastModifiedWarning=Le.uri,this._notificationService.warn(d.NC("diff.tooLarge","Cannot compare files because one file is too large.")))}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const oe=this._diffComputationResult?this._diffComputationResult.changes:[],Le=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),We=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),it=this._strategy.getEditorsDiffDecorations(oe,this._options.ignoreTrimWhitespace,this._options.renderIndicators,this._options.renderMarginRevertIcon,Le,We);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,it.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,it.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(oe){const Le=Object.assign({},oe);return Le.inDiffEditor=!0,Le.automaticLayout=!1,Le.scrollbar=Object.assign({},Le.scrollbar||{}),Le.scrollbar.vertical="visible",Le.folding=!1,Le.codeLens=this._options.diffCodeLens,Le.fixedOverflowWidgets=!0,Le.minimap=Object.assign({},Le.minimap||{}),Le.minimap.enabled=!1,Le}_adjustOptionsForLeftHandSide(oe){const Le=this._adjustOptionsForSubEditor(oe);return this._options.renderSideBySide?Le.wordWrapOverride1=this._options.diffWordWrap:(Le.wordWrapOverride1="off",Le.wordWrapOverride2="off"),oe.originalAriaLabel&&(Le.ariaLabel=oe.originalAriaLabel),Le.readOnly=!this._options.originalEditable,Le.dropIntoEditor={enabled:!Le.readOnly},Le.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},Le),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(oe){const Le=this._adjustOptionsForSubEditor(oe);return oe.modifiedAriaLabel&&(Le.ariaLabel=oe.modifiedAriaLabel),Le.wordWrapOverride1=this._options.diffWordWrap,Le.revealHorizontalRightPadding=$.BH.revealHorizontalRightPadding.defaultValue+_o.ENTIRE_DIFF_OVERVIEW_WIDTH,Le.scrollbar.verticalHasArrows=!1,Le.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},Le),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const oe=this._elementSizeObserver.getWidth(),Le=this._elementSizeObserver.getHeight(),We=this._getReviewHeight(),it=this._strategy.layout();this._originalDomNode.style.width=it+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=oe-it+"px",this._modifiedDomNode.style.left=it+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=Le-We+"px",this._overviewDomElement.style.width=_o.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=oe-_o.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(_o.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:it,height:Le-We}),this._modifiedEditor.layout({width:oe-it-(this._options.renderOverviewRuler?_o.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:Le-We}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(Le-We,oe,We),this._layoutOverviewViewport()}_layoutOverviewViewport(){const oe=this._computeOverviewViewport();oe?(this._overviewViewportDomElement.setTop(oe.top),this._overviewViewportDomElement.setHeight(oe.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const oe=this._modifiedEditor.getLayoutInfo();if(!oe)return null;const Le=this._modifiedEditor.getScrollTop(),We=this._modifiedEditor.getScrollHeight(),it=Math.max(0,oe.height),pt=Math.max(0,it-0),Et=We>0?pt/We:0;return{height:Math.max(0,Math.floor(oe.height*Et)),top:Math.floor(Le*Et)}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(oe){this._strategy&&this._strategy.dispose(),this._strategy=oe,oe.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(oe,Le){const We=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===We.length||oe<Le(We[0]))return null;let it=0,pt=We.length-1;for(;it<pt;){const Et=Math.floor((it+pt)/2),Ut=Le(We[Et]),sn=Et+1<=pt?Le(We[Et+1]):1073741824;oe<Ut?pt=Et-1:oe>=sn?it=Et+1:(it=Et,pt=Et)}return We[it]}_getEquivalentLineForOriginalLineNumber(oe){const Le=this._getLineChangeAtOrBeforeLineNumber(oe,sn=>sn.originalStartLineNumber);if(!Le)return oe;const it=Le.modifiedStartLineNumber+(Le.modifiedEndLineNumber>0?-1:0),pt=Le.originalEndLineNumber>0?Le.originalEndLineNumber-Le.originalStartLineNumber+1:0,Et=Le.modifiedEndLineNumber>0?Le.modifiedEndLineNumber-Le.modifiedStartLineNumber+1:0,Ut=oe-(Le.originalStartLineNumber+(Le.originalEndLineNumber>0?-1:0));return Ut<=pt?it+Math.min(Ut,Et):it+Et-pt+Ut}_getEquivalentLineForModifiedLineNumber(oe){const Le=this._getLineChangeAtOrBeforeLineNumber(oe,sn=>sn.modifiedStartLineNumber);if(!Le)return oe;const We=Le.originalStartLineNumber+(Le.originalEndLineNumber>0?-1:0),pt=Le.originalEndLineNumber>0?Le.originalEndLineNumber-Le.originalStartLineNumber+1:0,Et=Le.modifiedEndLineNumber>0?Le.modifiedEndLineNumber-Le.modifiedStartLineNumber+1:0,Ut=oe-(Le.modifiedStartLineNumber+(Le.modifiedEndLineNumber>0?-1:0));return Ut<=Et?We+Math.min(Ut,pt):We+pt-Et+Ut}getDiffLineInformationForOriginal(oe){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(oe)}:null}getDiffLineInformationForModified(oe){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(oe)}:null}};Cn.ONE_OVERVIEW_WIDTH=15,Cn.ENTIRE_DIFF_OVERVIEW_WIDTH=30,Cn.UPDATE_DIFF_DECORATIONS_DELAY=200,Cn=function(Te,oe,Le,We){var Et,it=arguments.length,pt=it<3?oe:null===We?We=Object.getOwnPropertyDescriptor(oe,Le):We;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pt=Reflect.decorate(Te,oe,Le,We);else for(var Ut=Te.length-1;Ut>=0;Ut--)(Et=Te[Ut])&&(pt=(it<3?Et(pt):it>3?Et(oe,Le,pt):Et(oe,Le))||pt);return it>3&&pt&&Object.defineProperty(oe,Le,pt),pt}([nt(3,ze.p),nt(4,lt.p),nt(5,Ie.i6),nt(6,Ue.TG),nt(7,Z.$),nt(8,ce.XE),nt(9,et.lT),nt(10,Ze.i),nt(11,$t.ek)],Cn);class Gt extends T.JT{constructor(oe){super(),this._dataSource=oe,this._insertColor=null,this._removeColor=null}applyColors(oe){const Le=oe.getColor(ee.P6Y)||(oe.getColor(ee.ypS)||ee.CzK).transparent(2),We=oe.getColor(ee.F9q)||(oe.getColor(ee.P4M)||ee.keg).transparent(2),it=!Le.equals(this._insertColor)||!We.equals(this._removeColor);return this._insertColor=Le,this._removeColor=We,it}getEditorsDiffDecorations(oe,Le,We,it,pt,Et){Et=Et.sort((In,On)=>In.afterLineNumber-On.afterLineNumber),pt=pt.sort((In,On)=>In.afterLineNumber-On.afterLineNumber);const Ut=this._getViewZones(oe,pt,Et,We),sn=this._getOriginalEditorDecorations(Ut,oe,Le,We),pn=this._getModifiedEditorDecorations(Ut,oe,Le,We,it);return{original:{decorations:sn.decorations,overviewZones:sn.overviewZones,zones:Ut.original},modified:{decorations:pn.decorations,overviewZones:pn.overviewZones,zones:Ut.modified}}}}class en{constructor(oe){this._source=oe,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this.current=this._index<this._source.length?this._source[this._index]:null}}class Yt{constructor(oe,Le,We,it,pt){this._lineChanges=oe,this._originalForeignVZ=Le,this._modifiedForeignVZ=We,this._originalEditor=it,this._modifiedEditor=pt}static _getViewLineCount(oe,Le,We){const it=oe.getModel(),pt=oe._getViewModel();if(it&&pt){const Et=wi(it,pt,Le,We);return Et.endLineNumber-Et.startLineNumber+1}return We-Le+1}getViewZones(){const oe=this._originalEditor.getOption(61),Le=this._modifiedEditor.getOption(61),We=-1!==this._originalEditor.getOption(134).wrappingColumn,it=-1!==this._modifiedEditor.getOption(134).wrappingColumn,pt=We||it,Et=this._originalEditor.getModel(),Ut=this._originalEditor._getViewModel().coordinatesConverter,sn=this._modifiedEditor._getViewModel().coordinatesConverter,pn_original=[],pn_modified=[];let In=0,On=0,Tn=0,kn=0,An=0,Gn=0;const ri=(fi,pi)=>fi.afterLineNumber-pi.afterLineNumber,si=(fi,pi)=>{if(null===pi.domNode&&fi.length>0){const mn=fi[fi.length-1];if(mn.afterLineNumber===pi.afterLineNumber&&null===mn.domNode)return void(mn.heightInLines+=pi.heightInLines)}fi.push(pi)},Si=new en(this._modifiedForeignVZ),xi=new en(this._originalForeignVZ);let Li=1,Yn=1;for(let fi=0,pi=this._lineChanges.length;fi<=pi;fi++){const mn=fi<pi?this._lineChanges[fi]:null;null!==mn?(Tn=mn.originalStartLineNumber+(mn.originalEndLineNumber>0?-1:0),kn=mn.modifiedStartLineNumber+(mn.modifiedEndLineNumber>0?-1:0),On=mn.originalEndLineNumber>0?Yt._getViewLineCount(this._originalEditor,mn.originalStartLineNumber,mn.originalEndLineNumber):0,In=mn.modifiedEndLineNumber>0?Yt._getViewLineCount(this._modifiedEditor,mn.modifiedStartLineNumber,mn.modifiedEndLineNumber):0,An=Math.max(mn.originalStartLineNumber,mn.originalEndLineNumber),Gn=Math.max(mn.modifiedStartLineNumber,mn.modifiedEndLineNumber)):(Tn+=1e7+On,kn+=1e7+In,An=Tn,Gn=kn);let bt=[],Lt=[];if(pt){let ln;ln=mn?mn.originalEndLineNumber>0?mn.originalStartLineNumber-Li:mn.modifiedStartLineNumber-Yn:Et.getLineCount()-Li+1;for(let Ot=0;Ot<ln;Ot++){const $e=Li+Ot,wt=Yn+Ot,Bt=Ut.getModelLineViewLineCount($e),Xt=sn.getModelLineViewLineCount(wt);Bt<Xt?bt.push({afterLineNumber:$e,heightInLines:Xt-Bt,domNode:null,marginDomNode:null}):Bt>Xt&&Lt.push({afterLineNumber:wt,heightInLines:Bt-Xt,domNode:null,marginDomNode:null})}mn&&(Li=(mn.originalEndLineNumber>0?mn.originalEndLineNumber:mn.originalStartLineNumber)+1,Yn=(mn.modifiedEndLineNumber>0?mn.modifiedEndLineNumber:mn.modifiedStartLineNumber)+1)}for(;Si.current&&Si.current.afterLineNumber<=Gn;){let ln;ln=Si.current.afterLineNumber<=kn?Tn-kn+Si.current.afterLineNumber:An;let Ot=null;mn&&mn.modifiedStartLineNumber<=Si.current.afterLineNumber&&Si.current.afterLineNumber<=mn.modifiedEndLineNumber&&(Ot=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),bt.push({afterLineNumber:ln,heightInLines:Si.current.height/Le,domNode:null,marginDomNode:Ot}),Si.advance()}for(;xi.current&&xi.current.afterLineNumber<=An;){let ln;ln=xi.current.afterLineNumber<=Tn?kn-Tn+xi.current.afterLineNumber:Gn,Lt.push({afterLineNumber:ln,heightInLines:xi.current.height/oe,domNode:null}),xi.advance()}if(null!==mn&&Un(mn)){const ln=this._produceOriginalFromDiff(mn,On,In);ln&&bt.push(ln)}if(null!==mn&&ai(mn)){const ln=this._produceModifiedFromDiff(mn,On,In);ln&&Lt.push(ln)}let Ft=0,un=0;for(bt=bt.sort(ri),Lt=Lt.sort(ri);Ft<bt.length&&un<Lt.length;){const ln=bt[Ft],Ot=Lt[un],$e=ln.afterLineNumber-Tn,wt=Ot.afterLineNumber-kn;$e<wt?(si(pn_original,ln),Ft++):wt<$e?(si(pn_modified,Ot),un++):ln.shouldNotShrink?(si(pn_original,ln),Ft++):Ot.shouldNotShrink?(si(pn_modified,Ot),un++):ln.heightInLines>=Ot.heightInLines?(ln.heightInLines-=Ot.heightInLines,un++):(Ot.heightInLines-=ln.heightInLines,Ft++)}for(;Ft<bt.length;)si(pn_original,bt[Ft]),Ft++;for(;un<Lt.length;)si(pn_modified,Lt[un]),un++}return{original:Yt._ensureDomNodes(pn_original),modified:Yt._ensureDomNodes(pn_modified)}}static _ensureDomNodes(oe){return oe.map(Le=>(Le.domNode||(Le.domNode=li()),Le))}}function ht(Te,oe,Le,We,it){return{range:new ne.e(Te,oe,Le,We),options:it}}const Ct={arrowRevertChange:gt.qx.register({description:"diff-editor-arrow-revert-change",glyphMarginClassName:"arrow-revert-change "+ce.kS.asClassName(he.lA.arrowRight)}),charDelete:gt.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:gt.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:gt.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:gt.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:gt.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:gt.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+ce.kS.asClassName(mt),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:gt.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:gt.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+ce.kS.asClassName(Vt),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:gt.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};let rn=(()=>{class Te extends Gt{constructor(Le,We){super(Le),this._disableSash=!1===We,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new S.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(it=>this._onSashDrag(it)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(Le){const We=!1===Le;this._disableSash!==We&&(this._disableSash=We,this._sash.state=this._disableSash?0:3)}layout(Le=this._sashRatio){const it=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Cn.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let pt=Math.floor((Le||.5)*it);const Et=Math.floor(.5*it);return pt=this._disableSash?Et:pt||Et,it>2*Te.MINIMUM_EDITOR_WIDTH?(pt<Te.MINIMUM_EDITOR_WIDTH&&(pt=Te.MINIMUM_EDITOR_WIDTH),pt>it-Te.MINIMUM_EDITOR_WIDTH&&(pt=it-Te.MINIMUM_EDITOR_WIDTH)):pt=Et,this._sashPosition!==pt&&(this._sashPosition=pt),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(Le){const it=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Cn.ENTIRE_DIFF_OVERVIEW_WIDTH:0),pt=this.layout((this._startSashPosition+(Le.currentX-Le.startX))/it);this._sashRatio=pt/it,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(Le){return 0}getVerticalSashLeft(Le){return this._sashPosition}getVerticalSashHeight(Le){return this._dataSource.getHeight()}_getViewZones(Le,We,it){const pt=this._dataSource.getOriginalEditor(),Et=this._dataSource.getModifiedEditor();return new jt(Le,We,it,pt,Et).getViewZones()}_getOriginalEditorDecorations(Le,We,it,pt){const Et=this._dataSource.getOriginalEditor(),Ut=String(this._removeColor),sn={decorations:[],overviewZones:[]},pn=Et.getModel(),In=Et._getViewModel();for(const On of We)if(ai(On)){sn.decorations.push({range:new ne.e(On.originalStartLineNumber,1,On.originalEndLineNumber,1073741824),options:pt?Ct.lineDeleteWithSign:Ct.lineDelete}),(!Un(On)||!On.charChanges)&&sn.decorations.push(ht(On.originalStartLineNumber,1,On.originalEndLineNumber,1073741824,Ct.charDeleteWholeLine));const Tn=wi(pn,In,On.originalStartLineNumber,On.originalEndLineNumber);if(sn.overviewZones.push(new Ke.EY(Tn.startLineNumber,Tn.endLineNumber,0,Ut)),On.charChanges)for(const kn of On.charChanges)if(Di(kn))if(it)for(let An=kn.originalStartLineNumber;An<=kn.originalEndLineNumber;An++){let Gn,ri;Gn=An===kn.originalStartLineNumber?kn.originalStartColumn:pn.getLineFirstNonWhitespaceColumn(An),ri=An===kn.originalEndLineNumber?kn.originalEndColumn:pn.getLineLastNonWhitespaceColumn(An),sn.decorations.push(ht(An,Gn,An,ri,Ct.charDelete))}else sn.decorations.push(ht(kn.originalStartLineNumber,kn.originalStartColumn,kn.originalEndLineNumber,kn.originalEndColumn,Ct.charDelete))}return sn}_getModifiedEditorDecorations(Le,We,it,pt,Et){const Ut=this._dataSource.getModifiedEditor(),sn=String(this._insertColor),pn={decorations:[],overviewZones:[]},In=Ut.getModel(),On=Ut._getViewModel();for(const Tn of We){if(Et)if(Tn.modifiedEndLineNumber>0)pn.decorations.push({range:new ne.e(Tn.modifiedStartLineNumber,1,Tn.modifiedStartLineNumber,1),options:Ct.arrowRevertChange});else{const kn=Le.modified.find(An=>An.afterLineNumber===Tn.modifiedStartLineNumber);kn&&(kn.marginDomNode=Qn())}if(Un(Tn)){pn.decorations.push({range:new ne.e(Tn.modifiedStartLineNumber,1,Tn.modifiedEndLineNumber,1073741824),options:pt?Ct.lineInsertWithSign:Ct.lineInsert}),(!ai(Tn)||!Tn.charChanges)&&pn.decorations.push(ht(Tn.modifiedStartLineNumber,1,Tn.modifiedEndLineNumber,1073741824,Ct.charInsertWholeLine));const kn=wi(In,On,Tn.modifiedStartLineNumber,Tn.modifiedEndLineNumber);if(pn.overviewZones.push(new Ke.EY(kn.startLineNumber,kn.endLineNumber,0,sn)),Tn.charChanges)for(const An of Tn.charChanges)if(ei(An))if(it)for(let Gn=An.modifiedStartLineNumber;Gn<=An.modifiedEndLineNumber;Gn++){let ri,si;ri=Gn===An.modifiedStartLineNumber?An.modifiedStartColumn:In.getLineFirstNonWhitespaceColumn(Gn),si=Gn===An.modifiedEndLineNumber?An.modifiedEndColumn:In.getLineLastNonWhitespaceColumn(Gn),pn.decorations.push(ht(Gn,ri,Gn,si,Ct.charInsert))}else pn.decorations.push(ht(An.modifiedStartLineNumber,An.modifiedStartColumn,An.modifiedEndLineNumber,An.modifiedEndColumn,Ct.charInsert))}}return pn}}return Te.MINIMUM_EDITOR_WIDTH=100,Te})();class jt extends Yt{constructor(oe,Le,We,it,pt){super(oe,Le,We,it,pt)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(oe,Le,We){return We>Le?{afterLineNumber:Math.max(oe.originalStartLineNumber,oe.originalEndLineNumber),heightInLines:We-Le,domNode:null}:null}_produceModifiedFromDiff(oe,Le,We){return Le>We?{afterLineNumber:Math.max(oe.modifiedStartLineNumber,oe.modifiedEndLineNumber),heightInLines:Le-We,domNode:null}:null}}class yn extends Gt{constructor(oe,Le){super(oe),this._decorationsLeft=oe.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(oe.getOriginalEditor().onDidLayoutChange(We=>{this._decorationsLeft!==We.decorationsLeft&&(this._decorationsLeft=We.decorationsLeft,oe.relayoutEditors())}))}setEnableSplitViewResizing(oe){}_getViewZones(oe,Le,We,it){const pt=this._dataSource.getOriginalEditor(),Et=this._dataSource.getModifiedEditor();return new En(oe,Le,We,pt,Et,it).getViewZones()}_getOriginalEditorDecorations(oe,Le,We,it){const pt=String(this._removeColor),Et={decorations:[],overviewZones:[]},Ut=this._dataSource.getOriginalEditor(),sn=Ut.getModel(),pn=Ut._getViewModel();let In=0;for(const On of Le)if(ai(On)){for(Et.decorations.push({range:new ne.e(On.originalStartLineNumber,1,On.originalEndLineNumber,1073741824),options:Ct.lineDeleteMargin});In<oe.modified.length;){const An=oe.modified[In];if(An.diff&&An.diff.originalStartLineNumber>=On.originalStartLineNumber)break;In++}let Tn=0;if(In<oe.modified.length){const An=oe.modified[In];An.diff&&An.diff.originalStartLineNumber===On.originalStartLineNumber&&An.diff.originalEndLineNumber===On.originalEndLineNumber&&An.diff.modifiedStartLineNumber===On.modifiedStartLineNumber&&An.diff.modifiedEndLineNumber===On.modifiedEndLineNumber&&(Tn=An.heightInLines)}const kn=wi(sn,pn,On.originalStartLineNumber,On.originalEndLineNumber);Et.overviewZones.push(new Ke.EY(kn.startLineNumber,kn.endLineNumber,Tn,pt))}return Et}_getModifiedEditorDecorations(oe,Le,We,it,pt){const Et=this._dataSource.getModifiedEditor(),Ut=String(this._insertColor),sn={decorations:[],overviewZones:[]},pn=Et.getModel(),In=Et._getViewModel();for(const On of Le)if(Un(On)){sn.decorations.push({range:new ne.e(On.modifiedStartLineNumber,1,On.modifiedEndLineNumber,1073741824),options:it?Ct.lineInsertWithSign:Ct.lineInsert});const Tn=wi(pn,In,On.modifiedStartLineNumber,On.modifiedEndLineNumber);if(sn.overviewZones.push(new Ke.EY(Tn.startLineNumber,Tn.endLineNumber,0,Ut)),On.charChanges){for(const kn of On.charChanges)if(ei(kn))if(We)for(let An=kn.modifiedStartLineNumber;An<=kn.modifiedEndLineNumber;An++){let Gn,ri;Gn=An===kn.modifiedStartLineNumber?kn.modifiedStartColumn:pn.getLineFirstNonWhitespaceColumn(An),ri=An===kn.modifiedEndLineNumber?kn.modifiedEndColumn:pn.getLineLastNonWhitespaceColumn(An),sn.decorations.push(ht(An,Gn,An,ri,Ct.charInsert))}else sn.decorations.push(ht(kn.modifiedStartLineNumber,kn.modifiedStartColumn,kn.modifiedEndLineNumber,kn.modifiedEndColumn,Ct.charInsert))}else sn.decorations.push(ht(On.modifiedStartLineNumber,1,On.modifiedEndLineNumber,1073741824,Ct.charInsertWholeLine))}return sn}layout(){return Math.max(5,this._decorationsLeft)}}class En extends Yt{constructor(oe,Le,We,it,pt,Et){super(oe,Le,We,it,pt),this._originalModel=it.getModel(),this._renderIndicators=Et,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const oe=super.getViewZones();return this._finalize(oe),oe}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const oe=document.createElement("div");return oe.className="inline-added-margin-view-zone",oe}_produceOriginalFromDiff(oe,Le,We){const it=document.createElement("div");return it.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(oe.originalStartLineNumber,oe.originalEndLineNumber),heightInLines:We,domNode:document.createElement("div"),marginDomNode:it}}_produceModifiedFromDiff(oe,Le,We){const it=document.createElement("div");it.className=`view-lines line-delete ${vn.S}`;const pt=document.createElement("div");pt.className="inline-deleted-margin-view-zone";const Et={shouldNotShrink:!0,afterLineNumber:0===oe.modifiedEndLineNumber?oe.modifiedStartLineNumber:oe.modifiedStartLineNumber-1,heightInLines:Le,minWidthInPx:0,domNode:it,marginDomNode:pt,diff:{originalStartLineNumber:oe.originalStartLineNumber,originalEndLineNumber:oe.originalEndLineNumber,modifiedStartLineNumber:oe.modifiedStartLineNumber,modifiedEndLineNumber:oe.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let Ut=oe.originalStartLineNumber;Ut<=oe.originalEndLineNumber;Ut++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(Ut),null,null);return this._pendingLineChange.push(oe),this._pendingViewZones.push(Et),Et}_finalize(oe){const Le=this._modifiedEditor.getOptions(),We=this._modifiedEditor.getModel().getOptions().tabSize,it=Le.get(46),pt=Le.get(29),Et=it.typicalHalfwidthCharacterWidth,Ut=Le.get(95),sn=this._originalModel.mightContainNonBasicASCII(),pn=this._originalModel.mightContainRTL(),In=Le.get(61),Tn=Le.get(133).decorationsWidth,kn=Le.get(107),An=Le.get(90),Gn=Le.get(85),ri=Le.get(47),si=this._lineBreaksComputer.finalize();let Si=0;for(let xi=0;xi<this._pendingLineChange.length;xi++){const Li=this._pendingLineChange[xi],Yn=this._pendingViewZones[xi],fi=Yn.domNode;(0,R.N)(fi,it);const pi=Yn.marginDomNode;(0,R.N)(pi,it);const mn=[];if(Li.charChanges)for(const wt of Li.charChanges)Di(wt)&&mn.push(new me.$t(new ne.e(wt.originalStartLineNumber,wt.originalStartColumn,wt.originalEndLineNumber,wt.originalEndColumn),"char-delete",0));const bt=mn.length>0,Lt=(0,xe.l$)(1e4);let Ft=0,un=0,ln=null;for(let wt=Li.originalStartLineNumber;wt<=Li.originalEndLineNumber;wt++){const Bt=wt-Li.originalStartLineNumber,Xt=this._originalModel.tokenization.getLineTokens(wt),nn=Xt.getLineContent(),Kt=si[Si++],Ge=He.Kp.filter(mn,wt,1,nn.length+1);if(Kt){let ct=0;for(const It of Kt.breakOffsets){const Zt=Xt.sliceAndInflate(ct,It,0),Ht=nn.substring(ct,It);Ft=Math.max(Ft,this._renderOriginalLine(un++,Ht,Zt,He.Kp.extractWrapped(Ge,ct,It),bt,sn,pn,it,pt,In,Tn,kn,An,Gn,ri,We,Lt,pi)),ct=It}for(ln||(ln=[]);ln.length<Bt;)ln[ln.length]=1;ln[Bt]=Kt.breakOffsets.length,Yn.heightInLines+=Kt.breakOffsets.length-1;const St=document.createElement("div");St.className="gutter-delete",oe.original.push({afterLineNumber:wt,afterColumn:0,heightInLines:Kt.breakOffsets.length-1,domNode:li(),marginDomNode:St})}else Ft=Math.max(Ft,this._renderOriginalLine(un++,nn,Xt,Ge,bt,sn,pn,it,pt,In,Tn,kn,An,Gn,ri,We,Lt,pi))}Ft+=Ut;const Ot=Lt.build(),$e=qt?qt.createHTML(Ot):Ot;if(fi.innerHTML=$e,Yn.minWidthInPx=Ft*Et,ln){const wt=Li.originalEndLineNumber-Li.originalStartLineNumber;for(;ln.length<=wt;)ln[ln.length]=1}Yn.diff.viewLineCounts=ln}oe.original.sort((xi,Li)=>xi.afterLineNumber-Li.afterLineNumber)}_renderOriginalLine(oe,Le,We,it,pt,Et,Ut,sn,pn,In,On,Tn,kn,An,Gn,ri,si,Si){si.appendASCIIString('<div class="view-line'),pt||si.appendASCIIString(" char-delete"),si.appendASCIIString('" style="top:'),si.appendASCIIString(String(oe*In)),si.appendASCIIString('px;width:1000000px;">');const xi=me.wA.isBasicASCII(Le,Et),Li=me.wA.containsRTL(Le,xi,Ut),Yn=(0,be.d1)(new be.IJ(sn.isMonospace&&!pn,sn.canUseHalfwidthRightwardsArrow,Le,!1,xi,Li,0,We,it,ri,0,sn.spaceWidth,sn.middotWidth,sn.wsmiddotWidth,Tn,kn,An,Gn!==$.n0.OFF,null),si);if(si.appendASCIIString("</div>"),this._renderIndicators){const fi=document.createElement("div");fi.className=`delete-sign ${ce.kS.asClassName(Vt)}`,fi.setAttribute("style",`position:absolute;top:${oe*In}px;width:${On}px;height:${In}px;right:0;`),Si.appendChild(fi)}return Yn.characterMapping.getHorizontalOffset(Yn.characterMapping.length)}}function xn(Te,oe){return(0,$.NY)(Te,oe,["off","on","inherit"])}function Un(Te){return Te.modifiedEndLineNumber>0}function ai(Te){return Te.originalEndLineNumber>0}function ei(Te){return Te.modifiedStartLineNumber===Te.modifiedEndLineNumber?Te.modifiedEndColumn-Te.modifiedStartColumn>0:Te.modifiedEndLineNumber-Te.modifiedStartLineNumber>0}function Di(Te){return Te.originalStartLineNumber===Te.originalEndLineNumber?Te.originalEndColumn-Te.originalStartColumn>0:Te.originalEndLineNumber-Te.originalStartLineNumber>0}function li(){const Te=document.createElement("div");return Te.className="diagonal-fill",Te}function Qn(){const Te=document.createElement("div");return Te.className="arrow-revert-change "+ce.kS.asClassName(he.lA.arrowRight),m.$("div",{},Te)}function wi(Te,oe,Le,We){const it=Te.getLineCount();return Le=Math.min(it,Math.max(1,Le)),We=Math.min(it,Math.max(1,We)),oe.coordinatesConverter.convertModelRangeToViewRange(new ne.e(Le,Te.getLineMinColumn(Le),We,Te.getLineMaxColumn(We)))}function Dn(Te,oe){return{enableSplitViewResizing:(0,$.O7)(Te.enableSplitViewResizing,oe.enableSplitViewResizing),renderSideBySide:(0,$.O7)(Te.renderSideBySide,oe.renderSideBySide),renderMarginRevertIcon:(0,$.O7)(Te.renderMarginRevertIcon,oe.renderMarginRevertIcon),maxComputationTime:(0,$.Zc)(Te.maxComputationTime,oe.maxComputationTime,0,1073741824),maxFileSize:(0,$.Zc)(Te.maxFileSize,oe.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,$.O7)(Te.ignoreTrimWhitespace,oe.ignoreTrimWhitespace),renderIndicators:(0,$.O7)(Te.renderIndicators,oe.renderIndicators),originalEditable:(0,$.O7)(Te.originalEditable,oe.originalEditable),diffCodeLens:(0,$.O7)(Te.diffCodeLens,oe.diffCodeLens),renderOverviewRuler:(0,$.O7)(Te.renderOverviewRuler,oe.renderOverviewRuler),diffWordWrap:xn(Te.diffWordWrap,oe.diffWordWrap)}}(0,ce.Ic)((Te,oe)=>{const Le=Te.getColor(ee.ypS);Le&&oe.addRule(`.monaco-editor .char-insert, .monaco-diff-editor .char-insert { background-color: ${Le}; }`);const We=Te.getColor(ee.hzo)||Le;We&&oe.addRule(`.monaco-editor .line-insert, .monaco-diff-editor .line-insert { background-color: ${We}; }`);const it=Te.getColor(ee.j51)||We;it&&(oe.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${it}; }`),oe.addRule(`.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert { background-color: ${it}; }`));const pt=Te.getColor(ee.P4M);pt&&oe.addRule(`.monaco-editor .char-delete, .monaco-diff-editor .char-delete { background-color: ${pt}; }`);const Et=Te.getColor(ee.xi6)||pt;Et&&oe.addRule(`.monaco-editor .line-delete, .monaco-diff-editor .line-delete { background-color: ${Et}; }`);const Ut=Te.getColor(ee.zOm)||Et;Ut&&(oe.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${Ut}; }`),oe.addRule(`.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete { background-color: ${Ut}; }`));const sn=Te.getColor(ee.XL$);sn&&oe.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${(0,ft.c3)(Te.type)?"dashed":"solid"} ${sn}; }`);const pn=Te.getColor(ee.mHy);pn&&oe.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${(0,ft.c3)(Te.type)?"dashed":"solid"} ${pn}; }`);const In=Te.getColor(ee._wn);In&&oe.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${In}; }`);const On=Te.getColor(ee.LLc);On&&oe.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${On}; }`);const Tn=Te.getColor(ee.etL);Tn&&oe.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport {\n\t\t\t\tbackground: ${Tn};\n\t\t\t}\n\t\t`);const kn=Te.getColor(ee.ABB);kn&&oe.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:hover {\n\t\t\t\tbackground: ${kn};\n\t\t\t}\n\t\t`);const An=Te.getColor(ee.ynu);An&&oe.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:active {\n\t\t\t\tbackground: ${An};\n\t\t\t}\n\t\t`);const Gn=Te.getColor(ee.L_t);oe.addRule(`\n\t.monaco-editor .diagonal-fill {\n\t\tbackground-image: linear-gradient(\n\t\t\t-45deg,\n\t\t\t${Gn} 12.5%,\n\t\t\t#0000 12.5%, #0000 50%,\n\t\t\t${Gn} 50%, ${Gn} 62.5%,\n\t\t\t#0000 62.5%, #0000 100%\n\t\t);\n\t\tbackground-size: 8px 8px;\n\t}\n\t`)})},23817:(at,ue,e)=>{"use strict";e.d(ue,{F:()=>A});var f=e(48797),s=e(52787),L=e(52425),M=e(85271),u=e(68451);const P={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class A extends L.JT{constructor(N,_={}){super(),this._onDidUpdate=this._register(new s.Q5),this._editor=N,this._options=M.jB(_,P,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(a=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(a=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(N){this.ranges=[],N&&N.forEach(_=>{!this._options.ignoreCharChanges&&_.charChanges?_.charChanges.forEach(a=>{this.ranges.push({rhs:!0,range:new u.e(a.modifiedStartLineNumber,a.modifiedStartColumn,a.modifiedEndLineNumber,a.modifiedEndColumn)})}):this.ranges.push(0===_.modifiedEndLineNumber?{rhs:!0,range:new u.e(_.modifiedStartLineNumber,1,_.modifiedStartLineNumber+1,1)}:{rhs:!0,range:new u.e(_.modifiedStartLineNumber,1,_.modifiedEndLineNumber+1,1)})}),this.ranges.sort((_,a)=>u.e.compareRangesUsingStarts(_.range,a.range)),this._onDidUpdate.fire(this)}_initIdx(N){let _=!1;const a=this._editor.getPosition();if(a){for(let p=0,c=this.ranges.length;p<c&&!_;p++)a.isBeforeOrEqual(this.ranges[p].range.getStartPosition())&&(this.nextIdx=p+(N?0:-1),_=!0);_||(this.nextIdx=N?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0}_move(N,_){if(f.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;-1===this.nextIdx?this._initIdx(N):N?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const a=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const p=a.range.getStartPosition();this._editor.setPosition(p),this._editor.revealRangeInCenter(a.range,_)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(N=0){this._move(!0,N)}previous(N=0){this._move(!1,N)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}},85390:(at,ue,e)=>{"use strict";e.d(ue,{H:()=>n});var f=e(85271),s=e(7221),L=e(37972),M=e(23884),u=e(59776),P=e(64725),A=e(78782),k=e(23024),N=e(12452),_=e(23924),a=e(37464),c=function(l,v){return function(d,m){v(d,m,l)}};let n=class extends L.Gm{constructor(v,d,m,I,y,S,b,x,T,R,Q,Z){super(v,Object.assign(Object.assign({},m.getRawOptions()),{overflowWidgetsDomNode:m.getOverflowWidgetsDomNode()}),{},I,y,S,b,x,T,R,Q,Z),this._parentEditor=m,this._overwriteOptions=d,super.updateOptions(this._overwriteOptions),this._register(m.onDidChangeConfiguration(G=>this._onParentConfigurationChanged(G)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(v){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(v){f.jB(this._overwriteOptions,v,!0),super.updateOptions(this._overwriteOptions)}};n=function(l,v,d,m){var S,I=arguments.length,y=I<3?v:null===m?m=Object.getOwnPropertyDescriptor(v,d):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(l,v,d,m);else for(var b=l.length-1;b>=0;b--)(S=l[b])&&(y=(I<3?S(y):I>3?S(v,d,y):S(v,d))||y);return I>3&&y&&Object.defineProperty(v,d,y),y}([c(3,P.TG),c(4,s.$),c(5,M.Hy),c(6,u.i6),c(7,k.XE),c(8,A.lT),c(9,N.F),c(10,_.c_),c(11,a.p)],n)},85753:(at,ue,e)=>{"use strict";e.d(ue,{OY:()=>L,Sj:()=>M,T4:()=>s,Uo:()=>u,hP:()=>P});var f=e(43210);class s{constructor(k,N,_=!1){this._range=k,this._text=N,this.insertsAutoWhitespace=_}getEditOperations(k,N){N.addTrackedEditOperation(this._range,this._text)}computeCursorState(k,N){const a=N.getInverseEditOperations()[0].range;return f.Y.fromPositions(a.getEndPosition())}}class L{constructor(k,N){this._range=k,this._text=N}getEditOperations(k,N){N.addTrackedEditOperation(this._range,this._text)}computeCursorState(k,N){const a=N.getInverseEditOperations()[0].range;return f.Y.fromRange(a,0)}}class M{constructor(k,N,_=!1){this._range=k,this._text=N,this.insertsAutoWhitespace=_}getEditOperations(k,N){N.addTrackedEditOperation(this._range,this._text)}computeCursorState(k,N){const a=N.getInverseEditOperations()[0].range;return f.Y.fromPositions(a.getStartPosition())}}class u{constructor(k,N,_,a,p=!1){this._range=k,this._text=N,this._columnDeltaOffset=a,this._lineNumberDeltaOffset=_,this.insertsAutoWhitespace=p}getEditOperations(k,N){N.addTrackedEditOperation(this._range,this._text)}computeCursorState(k,N){const a=N.getInverseEditOperations()[0].range;return f.Y.fromPositions(a.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class P{constructor(k,N,_,a=!1){this._range=k,this._text=N,this._initialSelection=_,this._forceMoveMarkers=a,this._selectionId=null}getEditOperations(k,N){N.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=N.trackSelection(this._initialSelection)}computeCursorState(k,N){return N.getTrackedSelection(this._selectionId)}}},81050:(at,ue,e)=>{"use strict";e.d(ue,{U:()=>a});var f=e(93059),s=e(74826),L=e(68451),M=e(43210),u=e(42641),P=e(23924);const N=Object.create(null);function _(p,c){if(c<=0)return"";N[p]||(N[p]=["",p]);const n=N[p];for(let l=n.length;l<=c;l++)n[l]=n[l-1]+p;return n[c]}let a=class Ul{constructor(c,n,l){this._languageConfigurationService=l,this._opts=n,this._selection=c,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(c,n,l,v,d){const m=s.i.visibleColumnFromColumn(c,n,l);if(d){const I=_(" ",v);return _(I,s.i.prevIndentTabStop(m,v)/v)}return _("\t",s.i.prevRenderTabStop(m,l)/l)}static shiftIndent(c,n,l,v,d){const m=s.i.visibleColumnFromColumn(c,n,l);if(d){const I=_(" ",v);return _(I,s.i.nextIndentTabStop(m,v)/v)}return _("\t",s.i.nextRenderTabStop(m,l)/l)}_addEditOperation(c,n,l){this._useLastEditRangeForCursorEndPosition?c.addTrackedEditOperation(n,l):c.addEditOperation(n,l)}getEditOperations(c,n){const l=this._selection.startLineNumber;let v=this._selection.endLineNumber;1===this._selection.endColumn&&l!==v&&(v-=1);const{tabSize:d,indentSize:m,insertSpaces:I}=this._opts,y=l===v;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(c.getLineContent(l))&&(this._useLastEditRangeForCursorEndPosition=!0);let S=0,b=0;for(let x=l;x<=v;x++,S=b){b=0;const T=c.getLineContent(x);let Q,R=f.LC(T);if((!this._opts.isUnshift||0!==T.length&&0!==R)&&(y||this._opts.isUnshift||0!==T.length)){if(-1===R&&(R=T.length),x>1&&s.i.visibleColumnFromColumn(T,R+1,d)%m!=0&&c.tokenization.isCheapToTokenize(x-1)){const G=(0,u.A)(this._opts.autoIndent,c,new L.e(x-1,c.getLineMaxColumn(x-1),x-1,c.getLineMaxColumn(x-1)),this._languageConfigurationService);if(G){if(b=S,G.appendText)for(let F=0,W=G.appendText.length;F<W&&b<m&&32===G.appendText.charCodeAt(F);F++)b++;G.removeText&&(b=Math.max(0,b-G.removeText));for(let F=0;F<b&&0!==R&&32===T.charCodeAt(R-1);F++)R--}}this._opts.isUnshift&&0===R||(Q=this._opts.isUnshift?Ul.unshiftIndent(T,R+1,d,m,I):Ul.shiftIndent(T,R+1,d,m,I),this._addEditOperation(n,new L.e(x,1,x,R+1),Q),x===l&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=R+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===c.getLineLength(l)&&(this._useLastEditRangeForCursorEndPosition=!0);const S=I?_(" ",m):"\t";for(let b=l;b<=v;b++){const x=c.getLineContent(b);let T=f.LC(x);if((!this._opts.isUnshift||0!==x.length&&0!==T)&&(y||this._opts.isUnshift||0!==x.length)&&(-1===T&&(T=x.length),!this._opts.isUnshift||0!==T))if(this._opts.isUnshift){T=Math.min(T,m);for(let R=0;R<T;R++)if(9===x.charCodeAt(R)){T=R+1;break}this._addEditOperation(n,new L.e(b,1,b,T+1),"")}else this._addEditOperation(n,new L.e(b,1,b,1),S),b===l&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=n.trackSelection(this._selection)}computeCursorState(c,n){if(this._useLastEditRangeForCursorEndPosition){const v=n.getInverseEditOperations()[0];return new M.Y(v.range.endLineNumber,v.range.endColumn,v.range.endLineNumber,v.range.endColumn)}const l=n.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const v=this._selection.startColumn;return l.startColumn<=v?l:0===l.getDirection()?new M.Y(l.startLineNumber,v,l.endLineNumber,l.endColumn):new M.Y(l.endLineNumber,l.endColumn,l.startLineNumber,v)}return l}};var c;a=function(p,c,n,l){var m,v=arguments.length,d=v<3?c:null===l?l=Object.getOwnPropertyDescriptor(c,n):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(p,c,n,l);else for(var I=p.length-1;I>=0;I--)(m=p[I])&&(d=(v<3?m(d):v>3?m(c,n,d):m(c,n))||d);return v>3&&d&&Object.defineProperty(c,n,d),d}([(2,c=P.c_,function(n,l){c(n,l,2)})],a)},90586:(at,ue,e)=>{"use strict";e.d(ue,{Pe:()=>p,ei:()=>a,wk:()=>P});var f=e(16367),s=e(32931),L=e(40402),M=e(17732),u=e(29537);const P=Object.freeze({id:"editor",order:5,type:"object",title:L.NC("editorConfigurationTitle","Editor"),scope:5}),A=Object.assign(Object.assign({},P),{properties:{"editor.tabSize":{type:"number",default:s.D.tabSize,minimum:1,markdownDescription:L.NC("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:s.D.insertSpaces,markdownDescription:L.NC("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:s.D.detectIndentation,markdownDescription:L.NC("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:s.D.trimAutoWhitespace,description:L.NC("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:s.D.largeFileOptimizations,description:L.NC("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:L.NC("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[L.NC("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),L.NC("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),L.NC("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:L.NC("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[L.NC("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),L.NC("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),L.NC("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:L.NC("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:L.NC("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:L.NC("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:["array","null"],default:null,description:L.NC("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:L.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:L.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:L.NC("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:L.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:L.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:L.NC("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:L.NC("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:L.NC("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:!0,description:L.NC("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:L.NC("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:L.NC("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:L.NC("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[L.NC("wordWrap.off","Lines will never wrap."),L.NC("wordWrap.on","Lines will wrap at the viewport width."),L.NC("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function k(n){return void 0!==n.type||void 0!==n.anyOf}for(const n of f.Bc){const l=n.schema;if(void 0!==l)if(k(l))A.properties[`editor.${n.name}`]=l;else for(const v in l)Object.hasOwnProperty.call(l,v)&&(A.properties[v]=l[v])}let N=null;function _(){return null===N&&(N=Object.create(null),Object.keys(A.properties).forEach(n=>{N[n]=!0})),N}function a(n){return _()[`editor.${n}`]||!1}function p(n){return _()[`diffEditor.${n}`]||!1}u.B.as(M.IP.Configuration).registerConfiguration(A)},16367:(at,ue,e)=>{"use strict";e.d(ue,{$J:()=>Pe,Av:()=>_e,BH:()=>Mt,Bb:()=>k,Bc:()=>et,LJ:()=>N,NY:()=>S,O7:()=>l,Zc:()=>d,d2:()=>G,gk:()=>w,hL:()=>ot,n0:()=>j,qt:()=>Be,rk:()=>a,y0:()=>A});var f=e(40402),s=e(38972),L=e(85519),M=e(18337),u=e(85271),P=e(32931);const A=8;class k{constructor(ze){this._values=ze}hasChanged(ze){return this._values[ze]}}class N{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class _{constructor(ze,dt,$t,hn){this.id=ze,this.name=dt,this.defaultValue=$t,this.schema=hn}applyUpdate(ze,dt){return p(ze,dt)}compute(ze,dt,$t){return $t}}class a{constructor(ze,dt){this.newValue=ze,this.didChange=dt}}function p(Nt,ze){if("object"!=typeof Nt||"object"!=typeof ze||!Nt||!ze)return new a(ze,Nt!==ze);if(Array.isArray(Nt)||Array.isArray(ze)){const $t=Array.isArray(Nt)&&Array.isArray(ze)&&M.fS(Nt,ze);return new a(ze,!$t)}let dt=!1;for(const $t in ze)if(ze.hasOwnProperty($t)){const hn=p(Nt[$t],ze[$t]);hn.didChange&&(Nt[$t]=hn.newValue,dt=!0)}return new a(Nt,dt)}class c{constructor(ze){this.schema=void 0,this.id=ze,this.name="_never_",this.defaultValue=void 0}applyUpdate(ze,dt){return p(ze,dt)}validate(ze){return this.defaultValue}}class n{constructor(ze,dt,$t,hn){this.id=ze,this.name=dt,this.defaultValue=$t,this.schema=hn}applyUpdate(ze,dt){return p(ze,dt)}validate(ze){return void 0===ze?this.defaultValue:ze}compute(ze,dt,$t){return $t}}function l(Nt,ze){return void 0===Nt?ze:"false"!==Nt&&Boolean(Nt)}class v extends n{constructor(ze,dt,$t,hn){void 0!==hn&&(hn.type="boolean",hn.default=$t),super(ze,dt,$t,hn)}validate(ze){return l(ze,this.defaultValue)}}function d(Nt,ze,dt,$t){if(void 0===Nt)return ze;let hn=parseInt(Nt,10);return isNaN(hn)?ze:(hn=Math.max(dt,hn),hn=Math.min($t,hn),0|hn)}class m extends n{constructor(ze,dt,$t,hn,vn,ft){void 0!==ft&&(ft.type="integer",ft.default=$t,ft.minimum=hn,ft.maximum=vn),super(ze,dt,$t,ft),this.minimum=hn,this.maximum=vn}static clampedInt(ze,dt,$t,hn){return d(ze,dt,$t,hn)}validate(ze){return m.clampedInt(ze,this.defaultValue,this.minimum,this.maximum)}}class I extends n{constructor(ze,dt,$t,hn,vn){void 0!==vn&&(vn.type="number",vn.default=$t),super(ze,dt,$t,vn),this.validationFn=hn}static clamp(ze,dt,$t){return ze<dt?dt:ze>$t?$t:ze}static float(ze,dt){if("number"==typeof ze)return ze;if(void 0===ze)return dt;const $t=parseFloat(ze);return isNaN($t)?dt:$t}validate(ze){return this.validationFn(I.float(ze,this.defaultValue))}}class y extends n{static string(ze,dt){return"string"!=typeof ze?dt:ze}constructor(ze,dt,$t,hn){void 0!==hn&&(hn.type="string",hn.default=$t),super(ze,dt,$t,hn)}validate(ze){return y.string(ze,this.defaultValue)}}function S(Nt,ze,dt){return"string"!=typeof Nt||-1===dt.indexOf(Nt)?ze:Nt}class b extends n{constructor(ze,dt,$t,hn,vn){void 0!==vn&&(vn.type="string",vn.enum=hn,vn.default=$t),super(ze,dt,$t,vn),this._allowedValues=hn}validate(ze){return S(ze,this.defaultValue,this._allowedValues)}}class x extends _{constructor(ze,dt,$t,hn,vn,ft,ke){void 0!==ke&&(ke.type="string",ke.enum=vn,ke.default=hn),super(ze,dt,$t,ke),this._allowedValues=vn,this._convert=ft}validate(ze){return"string"!=typeof ze||-1===this._allowedValues.indexOf(ze)?this.defaultValue:this._convert(ze)}}var G=(()=>{return(Nt=G||(G={}))[Nt.Line=1]="Line",Nt[Nt.Block=2]="Block",Nt[Nt.Underline=3]="Underline",Nt[Nt.LineThin=4]="LineThin",Nt[Nt.BlockOutline=5]="BlockOutline",Nt[Nt.UnderlineThin=6]="UnderlineThin",G;var Nt})();let j=(()=>{class Nt extends _{constructor(){super(47,"fontLigatures",Nt.OFF,{anyOf:[{type:"boolean",description:f.NC("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:f.NC("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:f.NC("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(dt){return void 0===dt?this.defaultValue:"string"==typeof dt?"false"===dt?Nt.OFF:"true"===dt?Nt.ON:dt:Boolean(dt)?Nt.ON:Nt.OFF}}return Nt.OFF='"liga" off, "calt" off',Nt.ON='"liga" on, "calt" on',Nt})(),V=(()=>{class Nt extends _{constructor(){super(49,"fontWeight",ot.fontWeight,{anyOf:[{type:"number",minimum:Nt.MINIMUM_VALUE,maximum:Nt.MAXIMUM_VALUE,errorMessage:f.NC("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:Nt.SUGGESTION_VALUES}],default:ot.fontWeight,description:f.NC("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(dt){return"normal"===dt||"bold"===dt?dt:String(m.clampedInt(dt,ot.fontWeight,Nt.MINIMUM_VALUE,Nt.MAXIMUM_VALUE))}}return Nt.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],Nt.MINIMUM_VALUE=1,Nt.MAXIMUM_VALUE=1e3,Nt})();class w extends c{constructor(){super(133)}compute(ze,dt,$t){return w.computeLayout(dt,{memory:ze.memory,outerWidth:ze.outerWidth,outerHeight:ze.outerHeight,isDominatedByLongLines:ze.isDominatedByLongLines,lineHeight:ze.fontInfo.lineHeight,viewLineCount:ze.viewLineCount,lineNumbersDigitCount:ze.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:ze.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:ze.fontInfo.maxDigitWidth,pixelRatio:ze.pixelRatio})}static computeContainedMinimapLineCount(ze){const dt=ze.height/ze.lineHeight,$t=ze.scrollBeyondLastLine?dt-1:0,hn=(ze.viewLineCount+$t)/(ze.pixelRatio*ze.height);return{typicalViewportLineCount:dt,extraLinesBeyondLastLine:$t,desiredRatio:hn,minimapLineCount:Math.floor(ze.viewLineCount/hn)}}static _computeMinimapLayout(ze,dt){const $t=ze.outerWidth,hn=ze.outerHeight,vn=ze.pixelRatio;if(!ze.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(vn*hn),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:hn};const ft=dt.stableMinimapLayoutInput,ke=ft&&ze.outerHeight===ft.outerHeight&&ze.lineHeight===ft.lineHeight&&ze.typicalHalfwidthCharacterWidth===ft.typicalHalfwidthCharacterWidth&&ze.pixelRatio===ft.pixelRatio&&ze.scrollBeyondLastLine===ft.scrollBeyondLastLine&&ze.minimap.enabled===ft.minimap.enabled&&ze.minimap.side===ft.minimap.side&&ze.minimap.size===ft.minimap.size&&ze.minimap.showSlider===ft.minimap.showSlider&&ze.minimap.renderCharacters===ft.minimap.renderCharacters&&ze.minimap.maxColumn===ft.minimap.maxColumn&&ze.minimap.scale===ft.minimap.scale&&ze.verticalScrollbarWidth===ft.verticalScrollbarWidth&&ze.isViewportWrapping===ft.isViewportWrapping,nt=ze.lineHeight,st=ze.typicalHalfwidthCharacterWidth,Ee=ze.scrollBeyondLastLine,Fe=ze.minimap.renderCharacters;let mt=vn>=2?Math.round(2*ze.minimap.scale):ze.minimap.scale;const Vt=ze.minimap.maxColumn,qt=ze.minimap.size,Cn=ze.minimap.side,Gt=ze.verticalScrollbarWidth,en=ze.viewLineCount,Yt=ze.remainingWidth,ht=ze.isViewportWrapping,Ct=Fe?2:3;let rn=Math.floor(vn*hn);const jt=rn/vn;let yn=!1,En=!1,xn=Ct*mt,Un=mt/vn,ai=1;if("fill"===qt||"fit"===qt){const{typicalViewportLineCount:Dt,extraLinesBeyondLastLine:Te,desiredRatio:oe,minimapLineCount:Le}=w.computeContainedMinimapLineCount({viewLineCount:en,scrollBeyondLastLine:Ee,height:hn,lineHeight:nt,pixelRatio:vn});if(en/Le>1)yn=!0,En=!0,mt=1,xn=1,Un=mt/vn;else{let it=!1,pt=mt+1;if("fit"===qt){const Et=Math.ceil((en+Te)*xn);ht&&ke&&Yt<=dt.stableFitRemainingWidth?(it=!0,pt=dt.stableFitMaxMinimapScale):it=Et>rn}if("fill"===qt||it){yn=!0;const Et=mt;xn=Math.min(nt*vn,Math.max(1,Math.floor(1/oe))),ht&&ke&&Yt<=dt.stableFitRemainingWidth&&(pt=dt.stableFitMaxMinimapScale),mt=Math.min(pt,Math.max(1,Math.floor(xn/Ct))),mt>Et&&(ai=Math.min(2,mt/Et)),Un=mt/vn/ai,rn=Math.ceil(Math.max(Dt,en+Te)*xn),ht?(dt.stableMinimapLayoutInput=ze,dt.stableFitRemainingWidth=Yt,dt.stableFitMaxMinimapScale=mt):(dt.stableMinimapLayoutInput=null,dt.stableFitRemainingWidth=0)}}}const ei=Math.floor(Vt*Un),Di=Math.min(ei,Math.max(0,Math.floor((Yt-Gt-2)*Un/(st+Un)))+A);let li=Math.floor(vn*Di);const Qn=li/vn;return li=Math.floor(li*ai),{renderMinimap:Fe?1:2,minimapLeft:"left"===Cn?0:$t-Di-Gt,minimapWidth:Di,minimapHeightIsEditorHeight:yn,minimapIsSampling:En,minimapScale:mt,minimapLineHeight:xn,minimapCanvasInnerWidth:li,minimapCanvasInnerHeight:rn,minimapCanvasOuterWidth:Qn,minimapCanvasOuterHeight:jt}}static computeLayout(ze,dt){const $t=0|dt.outerWidth,hn=0|dt.outerHeight,vn=0|dt.lineHeight,ft=0|dt.lineNumbersDigitCount,ke=dt.typicalHalfwidthCharacterWidth,nt=dt.maxDigitWidth,st=dt.pixelRatio,Ee=dt.viewLineCount,Fe=ze.get(125),mt="inherit"===Fe?ze.get(124):Fe,Vt="inherit"===mt?ze.get(120):mt,qt=ze.get(123),Cn=ze.get(2),Gt=dt.isDominatedByLongLines,en=ze.get(52),Yt=0!==ze.get(62).renderType,ht=ze.get(63),Ct=ze.get(96),rn=ze.get(67),jt=ze.get(94),yn=jt.verticalScrollbarSize,En=jt.verticalHasArrows,xn=jt.arrowSize,Un=jt.horizontalScrollbarSize,ai=ze.get(60),ei=ze.get(39),Di="never"!==ze.get(101);let li;if("string"==typeof ai&&/^\d+(\.\d+)?ch$/.test(ai)){const In=parseFloat(ai.substr(0,ai.length-2));li=m.clampedInt(In*ke,0,0,1e3)}else li=m.clampedInt(ai,0,0,1e3);ei&&Di&&(li+=16);let Qn=0;if(Yt){const In=Math.max(ft,ht);Qn=Math.round(In*nt)}let wi=0;en&&(wi=vn);let Dn=0,Dt=Dn+wi,Te=Dt+Qn,oe=Te+li;const Le=$t-wi-Qn-li;let We=!1,it=!1,pt=-1;2!==Cn&&("inherit"===mt&&Gt?(We=!0,it=!0):"on"===Vt||"bounded"===Vt?it=!0:"wordWrapColumn"===Vt&&(pt=qt));const Et=w._computeMinimapLayout({outerWidth:$t,outerHeight:hn,lineHeight:vn,typicalHalfwidthCharacterWidth:ke,pixelRatio:st,scrollBeyondLastLine:Ct,minimap:rn,verticalScrollbarWidth:yn,viewLineCount:Ee,remainingWidth:Le,isViewportWrapping:it},dt.memory||new N);0!==Et.renderMinimap&&0===Et.minimapLeft&&(Dn+=Et.minimapWidth,Dt+=Et.minimapWidth,Te+=Et.minimapWidth,oe+=Et.minimapWidth);const Ut=Le-Et.minimapWidth,sn=Math.max(1,Math.floor((Ut-yn-2)/ke)),pn=En?xn:0;return it&&(pt=Math.max(1,sn),"bounded"===Vt&&(pt=Math.min(pt,qt))),{width:$t,height:hn,glyphMarginLeft:Dn,glyphMarginWidth:wi,lineNumbersLeft:Dt,lineNumbersWidth:Qn,decorationsLeft:Te,decorationsWidth:li,contentLeft:oe,contentWidth:Ut,minimap:Et,viewportColumn:sn,isWordWrapMinified:We,isViewportWrapping:it,wrappingColumn:pt,verticalScrollbarWidth:yn,horizontalScrollbarHeight:Un,overviewRuler:{top:pn,width:yn,height:hn-2*pn,right:0}}}}function Pe(Nt){const ze=Nt.get(89);return"editable"===ze?Nt.get(83):"on"!==ze}function ie(Nt,ze){if("string"!=typeof Nt)return ze;switch(Nt){case"hidden":return 2;case"visible":return 3;default:return 1}}const _e="inUntrustedWorkspace",Be={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};function Oe(Nt,ze,dt){const $t=dt.indexOf(Nt);return-1===$t?ze:dt[$t]}const ot={fontFamily:s.dz?"Menlo, Monaco, 'Courier New', monospace":s.IJ?"'Droid Sans Mono', 'monospace', monospace":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:s.dz?12:14,lineHeight:0,letterSpacing:0},et=[];function Ze(Nt){return et[Nt.id]=Nt,Nt}const Mt={acceptSuggestionOnCommitCharacter:Ze(new v(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:f.NC("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`; `) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:Ze(new b(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",f.NC("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:f.NC("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:Ze(new class R extends _{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[f.NC("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),f.NC("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),f.NC("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:f.NC("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(ze){switch(ze){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(ze,dt,$t){return 0===$t?ze.accessibilitySupport:$t}}),accessibilityPageSize:Ze(new m(3,"accessibilityPageSize",10,1,1073741824,{description:f.NC("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:Ze(new y(4,"ariaLabel",f.NC("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:Ze(new b(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",f.NC("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),f.NC("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:f.NC("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:Ze(new b(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",f.NC("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:f.NC("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:Ze(new b(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",f.NC("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:f.NC("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:Ze(new b(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",f.NC("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),f.NC("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:f.NC("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:Ze(new x(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],function T(Nt){switch(Nt){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}},{enumDescriptions:[f.NC("editor.autoIndent.none","The editor will not insert indentation automatically."),f.NC("editor.autoIndent.keep","The editor will keep the current line's indentation."),f.NC("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),f.NC("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),f.NC("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:f.NC("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:Ze(new v(10,"automaticLayout",!1)),autoSurround:Ze(new b(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[f.NC("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),f.NC("editor.autoSurround.quotes","Surround with quotes but not brackets."),f.NC("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:f.NC("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:Ze(new class pe extends _{constructor(){const ze={enabled:P.D.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:P.D.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(12,"bracketPairColorization",ze,{"editor.bracketPairColorization.enabled":{type:"boolean",default:ze.enabled,markdownDescription:f.NC("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:ze.independentColorPoolPerBracketType,description:f.NC("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(ze){if(!ze||"object"!=typeof ze)return this.defaultValue;const dt=ze;return{enabled:l(dt.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:l(dt.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}),bracketPairGuides:Ze(new class De extends _{constructor(){const ze={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",ze,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[f.NC("editor.guides.bracketPairs.true","Enables bracket pair guides."),f.NC("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),f.NC("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:ze.bracketPairs,description:f.NC("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[f.NC("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),f.NC("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),f.NC("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:ze.bracketPairsHorizontal,description:f.NC("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:ze.highlightActiveBracketPair,description:f.NC("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:ze.indentation,description:f.NC("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[f.NC("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),f.NC("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),f.NC("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:ze.highlightActiveIndentation,description:f.NC("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(ze){if(!ze||"object"!=typeof ze)return this.defaultValue;const dt=ze;return{bracketPairs:Oe(dt.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:Oe(dt.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:l(dt.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:l(dt.indentation,this.defaultValue.indentation),highlightActiveIndentation:Oe(dt.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}),stickyTabStops:Ze(new v(106,"stickyTabStops",!1,{description:f.NC("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:Ze(new v(14,"codeLens",!0,{description:f.NC("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:Ze(new y(15,"codeLensFontFamily","",{description:f.NC("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:Ze(new m(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:f.NC("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, 90% of `#editor.fontSize#` is used.")})),colorDecorators:Ze(new v(17,"colorDecorators",!0,{description:f.NC("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:Ze(new v(18,"columnSelection",!1,{description:f.NC("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:Ze(new class Q extends _{constructor(){const ze={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",ze,{"editor.comments.insertSpace":{type:"boolean",default:ze.insertSpace,description:f.NC("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:ze.ignoreEmptyLines,description:f.NC("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(ze){if(!ze||"object"!=typeof ze)return this.defaultValue;const dt=ze;return{insertSpace:l(dt.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:l(dt.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:Ze(new v(20,"contextmenu",!0)),copyWithSyntaxHighlighting:Ze(new v(21,"copyWithSyntaxHighlighting",!0,{description:f.NC("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:Ze(new x(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],function Z(Nt){switch(Nt){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}},{description:f.NC("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:Ze(new v(23,"cursorSmoothCaretAnimation",!1,{description:f.NC("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:Ze(new x(24,"cursorStyle",G.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],function F(Nt){switch(Nt){case"line":return G.Line;case"block":return G.Block;case"underline":return G.Underline;case"line-thin":return G.LineThin;case"block-outline":return G.BlockOutline;case"underline-thin":return G.UnderlineThin}},{description:f.NC("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:Ze(new m(25,"cursorSurroundingLines",0,0,1073741824,{description:f.NC("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:Ze(new b(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[f.NC("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),f.NC("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:f.NC("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:Ze(new m(27,"cursorWidth",0,0,1073741824,{markdownDescription:f.NC("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:Ze(new v(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:Ze(new v(29,"disableMonospaceOptimizations",!1)),domReadOnly:Ze(new v(30,"domReadOnly",!1)),dragAndDrop:Ze(new v(31,"dragAndDrop",!0,{description:f.NC("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:Ze(new class B extends v{constructor(){super(33,"emptySelectionClipboard",!0,{description:f.NC("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(ze,dt,$t){return $t&&ze.emptySelectionClipboard}}),dropIntoEditor:Ze(new class lt extends _{constructor(){const ze={enabled:!0};super(32,"dropIntoEditor",ze,{"editor.dropIntoEditor.enabled":{type:"boolean",default:ze.enabled,markdownDescription:f.NC("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down `shift` (instead of opening the file in an editor).")}})}validate(ze){return ze&&"object"==typeof ze?{enabled:l(ze.enabled,this.defaultValue.enabled)}:this.defaultValue}}),experimental:Ze(new class be extends _{constructor(){const ze={stickyScroll:{enabled:!1}};super(34,"experimental",ze,{"editor.experimental.stickyScroll.enabled":{type:"boolean",default:ze.stickyScroll.enabled,description:f.NC("editor.experimental.stickyScroll","Shows the nested current scopes during the scroll at the top of the editor.")}})}validate(ze){var dt;return ze&&"object"==typeof ze?{stickyScroll:{enabled:l(null===(dt=ze.stickyScroll)||void 0===dt?void 0:dt.enabled,this.defaultValue.stickyScroll.enabled)}}:this.defaultValue}}),extraEditorClassName:Ze(new y(35,"extraEditorClassName","")),fastScrollSensitivity:Ze(new I(36,"fastScrollSensitivity",5,Nt=>Nt<=0?5:Nt,{markdownDescription:f.NC("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:Ze(new class z extends _{constructor(){const ze={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(37,"find",ze,{"editor.find.cursorMoveOnType":{type:"boolean",default:ze.cursorMoveOnType,description:f.NC("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:ze.seedSearchStringFromSelection,enumDescriptions:[f.NC("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),f.NC("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),f.NC("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:f.NC("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:ze.autoFindInSelection,enumDescriptions:[f.NC("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),f.NC("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),f.NC("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:f.NC("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:ze.globalFindClipboard,description:f.NC("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:s.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:ze.addExtraSpaceOnTop,description:f.NC("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:ze.loop,description:f.NC("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(ze){if(!ze||"object"!=typeof ze)return this.defaultValue;const dt=ze;return{cursorMoveOnType:l(dt.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:"boolean"==typeof ze.seedSearchStringFromSelection?ze.seedSearchStringFromSelection?"always":"never":S(dt.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:"boolean"==typeof ze.autoFindInSelection?ze.autoFindInSelection?"always":"never":S(dt.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:l(dt.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:l(dt.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:l(dt.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:Ze(new v(38,"fixedOverflowWidgets",!1)),folding:Ze(new v(39,"folding",!0,{description:f.NC("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:Ze(new b(40,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[f.NC("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),f.NC("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:f.NC("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:Ze(new v(41,"foldingHighlight",!0,{description:f.NC("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:Ze(new v(42,"foldingImportsByDefault",!1,{description:f.NC("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:Ze(new m(43,"foldingMaximumRegions",5e3,10,65e3,{description:f.NC("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:Ze(new v(44,"unfoldOnClickAfterEndOfLine",!1,{description:f.NC("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:Ze(new y(45,"fontFamily",ot.fontFamily,{description:f.NC("fontFamily","Controls the font family.")})),fontInfo:Ze(new class Y extends c{constructor(){super(46)}compute(ze,dt,$t){return ze.fontInfo}}),fontLigatures2:Ze(new j),fontSize:Ze(new class E extends n{constructor(){super(48,"fontSize",ot.fontSize,{type:"number",minimum:6,maximum:100,default:ot.fontSize,description:f.NC("fontSize","Controls the font size in pixels.")})}validate(ze){const dt=I.float(ze,this.defaultValue);return 0===dt?ot.fontSize:I.clamp(dt,6,100)}compute(ze,dt,$t){return ze.fontInfo.fontSize}}),fontWeight:Ze(new V),formatOnPaste:Ze(new v(50,"formatOnPaste",!1,{description:f.NC("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:Ze(new v(51,"formatOnType",!1,{description:f.NC("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:Ze(new v(52,"glyphMargin",!0,{description:f.NC("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:Ze(new class $ extends _{constructor(){const ze={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},dt={type:"string",enum:["peek","gotoAndPeek","goto"],default:ze.multiple,enumDescriptions:[f.NC("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),f.NC("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),f.NC("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},$t=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(53,"gotoLocation",ze,{"editor.gotoLocation.multiple":{deprecationMessage:f.NC("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:f.NC("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},dt),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:f.NC("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},dt),"editor.gotoLocation.multipleDeclarations":Object.assign({description:f.NC("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},dt),"editor.gotoLocation.multipleImplementations":Object.assign({description:f.NC("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},dt),"editor.gotoLocation.multipleReferences":Object.assign({description:f.NC("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},dt),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:ze.alternativeDefinitionCommand,enum:$t,description:f.NC("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:ze.alternativeTypeDefinitionCommand,enum:$t,description:f.NC("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:ze.alternativeDeclarationCommand,enum:$t,description:f.NC("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:ze.alternativeImplementationCommand,enum:$t,description:f.NC("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:ze.alternativeReferenceCommand,enum:$t,description:f.NC("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(ze){var dt,$t,hn,vn,ft;if(!ze||"object"!=typeof ze)return this.defaultValue;const ke=ze;return{multiple:S(ke.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(dt=ke.multipleDefinitions)&&void 0!==dt?dt:S(ke.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==($t=ke.multipleTypeDefinitions)&&void 0!==$t?$t:S(ke.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(hn=ke.multipleDeclarations)&&void 0!==hn?hn:S(ke.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(vn=ke.multipleImplementations)&&void 0!==vn?vn:S(ke.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(ft=ke.multipleReferences)&&void 0!==ft?ft:S(ke.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:y.string(ke.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:y.string(ke.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:y.string(ke.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:y.string(ke.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:y.string(ke.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:Ze(new v(54,"hideCursorInOverviewRuler",!1,{description:f.NC("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:Ze(new class te extends _{constructor(){const ze={enabled:!0,delay:300,sticky:!0,above:!0};super(55,"hover",ze,{"editor.hover.enabled":{type:"boolean",default:ze.enabled,description:f.NC("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:ze.delay,minimum:0,maximum:1e4,description:f.NC("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:ze.sticky,description:f.NC("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:ze.above,description:f.NC("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(ze){if(!ze||"object"!=typeof ze)return this.defaultValue;const dt=ze;return{enabled:l(dt.enabled,this.defaultValue.enabled),delay:m.clampedInt(dt.delay,this.defaultValue.delay,0,1e4),sticky:l(dt.sticky,this.defaultValue.sticky),above:l(dt.above,this.defaultValue.above)}}}),inDiffEditor:Ze(new v(56,"inDiffEditor",!1)),letterSpacing:Ze(new I(58,"letterSpacing",ot.letterSpacing,Nt=>I.clamp(Nt,-5,20),{description:f.NC("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:Ze(new class fe extends _{constructor(){const ze={enabled:!0};super(59,"lightbulb",ze,{"editor.lightbulb.enabled":{type:"boolean",default:ze.enabled,description:f.NC("codeActions","Enables the code action lightbulb in the editor.")}})}validate(ze){return ze&&"object"==typeof ze?{enabled:l(ze.enabled,this.defaultValue.enabled)}:this.defaultValue}}),lineDecorationsWidth:Ze(new n(60,"lineDecorationsWidth",10)),lineHeight:Ze(new class Ie extends I{constructor(){super(61,"lineHeight",ot.lineHeight,ze=>I.clamp(ze,0,150),{markdownDescription:f.NC("lineHeight","Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})}compute(ze,dt,$t){return ze.fontInfo.lineHeight}}),lineNumbers:Ze(new class Se extends _{constructor(){super(62,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[f.NC("lineNumbers.off","Line numbers are not rendered."),f.NC("lineNumbers.on","Line numbers are rendered as absolute number."),f.NC("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),f.NC("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:f.NC("lineNumbers","Controls the display of line numbers.")})}validate(ze){let dt=this.defaultValue.renderType,$t=this.defaultValue.renderFn;return void 0!==ze&&("function"==typeof ze?(dt=4,$t=ze):dt="interval"===ze?3:"relative"===ze?2:"on"===ze?1:0),{renderType:dt,renderFn:$t}}}),lineNumbersMinChars:Ze(new m(63,"lineNumbersMinChars",5,1,300)),linkedEditing:Ze(new v(64,"linkedEditing",!1,{description:f.NC("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:Ze(new v(65,"links",!0,{description:f.NC("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:Ze(new b(66,"matchBrackets","always",["always","near","never"],{description:f.NC("matchBrackets","Highlight matching brackets.")})),minimap:Ze(new class ee extends _{constructor(){const ze={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(67,"minimap",ze,{"editor.minimap.enabled":{type:"boolean",default:ze.enabled,description:f.NC("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:ze.autohide,description:f.NC("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[f.NC("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),f.NC("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),f.NC("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:ze.size,description:f.NC("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:ze.side,description:f.NC("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:ze.showSlider,description:f.NC("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:ze.scale,minimum:1,maximum:3,enum:[1,2,3],description:f.NC("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:ze.renderCharacters,description:f.NC("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:ze.maxColumn,description:f.NC("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(ze){if(!ze||"object"!=typeof ze)return this.defaultValue;const dt=ze;return{enabled:l(dt.enabled,this.defaultValue.enabled),autohide:l(dt.autohide,this.defaultValue.autohide),size:S(dt.size,this.defaultValue.size,["proportional","fill","fit"]),side:S(dt.side,this.defaultValue.side,["right","left"]),showSlider:S(dt.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:l(dt.renderCharacters,this.defaultValue.renderCharacters),scale:m.clampedInt(dt.scale,1,1,3),maxColumn:m.clampedInt(dt.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}),mouseStyle:Ze(new b(68,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Ze(new I(69,"mouseWheelScrollSensitivity",1,Nt=>0===Nt?1:Nt,{markdownDescription:f.NC("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:Ze(new v(70,"mouseWheelZoom",!1,{markdownDescription:f.NC("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:Ze(new v(71,"multiCursorMergeOverlapping",!0,{description:f.NC("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:Ze(new x(72,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],function ce(Nt){return"ctrlCmd"===Nt?s.dz?"metaKey":"ctrlKey":"altKey"},{markdownEnumDescriptions:[f.NC("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),f.NC("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:f.NC({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:Ze(new b(73,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[f.NC("multiCursorPaste.spread","Each cursor pastes a single line of the text."),f.NC("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:f.NC("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:Ze(new v(74,"occurrencesHighlight",!0,{description:f.NC("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:Ze(new v(75,"overviewRulerBorder",!0,{description:f.NC("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:Ze(new m(76,"overviewRulerLanes",3,0,3)),padding:Ze(new class he extends _{constructor(){super(77,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:f.NC("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:f.NC("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(ze){if(!ze||"object"!=typeof ze)return this.defaultValue;const dt=ze;return{top:m.clampedInt(dt.top,0,0,1e3),bottom:m.clampedInt(dt.bottom,0,0,1e3)}}}),parameterHints:Ze(new class de extends _{constructor(){const ze={enabled:!0,cycle:!1};super(78,"parameterHints",ze,{"editor.parameterHints.enabled":{type:"boolean",default:ze.enabled,description:f.NC("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:ze.cycle,description:f.NC("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(ze){if(!ze||"object"!=typeof ze)return this.defaultValue;const dt=ze;return{enabled:l(dt.enabled,this.defaultValue.enabled),cycle:l(dt.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:Ze(new b(79,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[f.NC("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),f.NC("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:f.NC("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:Ze(new v(80,"definitionLinkOpensInPeek",!1,{description:f.NC("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:Ze(new class re extends _{constructor(){const ze={other:"on",comments:"off",strings:"off"},dt=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[f.NC("on","Quick suggestions show inside the suggest widget"),f.NC("inline","Quick suggestions show as ghost text"),f.NC("off","Quick suggestions are disabled")]}];super(81,"quickSuggestions",ze,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:dt,default:ze.strings,description:f.NC("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:dt,default:ze.comments,description:f.NC("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:dt,default:ze.other,description:f.NC("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:ze,markdownDescription:f.NC("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=ze}validate(ze){if("boolean"==typeof ze){const st=ze?"on":"off";return{comments:st,strings:st,other:st}}if(!ze||"object"!=typeof ze)return this.defaultValue;const{other:dt,comments:$t,strings:hn}=ze,vn=["on","inline","off"];let ft,ke,nt;return ft="boolean"==typeof dt?dt?"on":"off":S(dt,this.defaultValue.other,vn),ke="boolean"==typeof $t?$t?"on":"off":S($t,this.defaultValue.comments,vn),nt="boolean"==typeof hn?hn?"on":"off":S(hn,this.defaultValue.strings,vn),{other:ft,comments:ke,strings:nt}}}),quickSuggestionsDelay:Ze(new m(82,"quickSuggestionsDelay",10,0,1073741824,{description:f.NC("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:Ze(new v(83,"readOnly",!1)),renameOnType:Ze(new v(84,"renameOnType",!1,{description:f.NC("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:f.NC("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:Ze(new v(85,"renderControlCharacters",!0,{description:f.NC("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:Ze(new v(86,"renderFinalNewline",!0,{description:f.NC("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:Ze(new b(87,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",f.NC("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:f.NC("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:Ze(new v(88,"renderLineHighlightOnlyWhenFocus",!1,{description:f.NC("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:Ze(new b(89,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Ze(new b(90,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",f.NC("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),f.NC("renderWhitespace.selection","Render whitespace characters only on selected text."),f.NC("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:f.NC("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:Ze(new m(91,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:Ze(new v(92,"roundedSelection",!0,{description:f.NC("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:Ze(new class Ve extends _{constructor(){const ze=[],dt={type:"number",description:f.NC("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(93,"rulers",ze,{type:"array",items:{anyOf:[dt,{type:["object"],properties:{column:dt,color:{type:"string",description:f.NC("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:ze,description:f.NC("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(ze){if(Array.isArray(ze)){const dt=[];for(const $t of ze)if("number"==typeof $t)dt.push({column:m.clampedInt($t,0,0,1e4),color:null});else if($t&&"object"==typeof $t){const hn=$t;dt.push({column:m.clampedInt(hn.column,0,0,1e4),color:hn.color})}return dt.sort(($t,hn)=>$t.column-hn.column),dt}return this.defaultValue}}),scrollbar:Ze(new class ye extends _{constructor(){const ze={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(94,"scrollbar",ze,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[f.NC("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),f.NC("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),f.NC("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:f.NC("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[f.NC("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),f.NC("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),f.NC("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:f.NC("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:ze.verticalScrollbarSize,description:f.NC("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:ze.horizontalScrollbarSize,description:f.NC("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:ze.scrollByPage,description:f.NC("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(ze){if(!ze||"object"!=typeof ze)return this.defaultValue;const dt=ze,$t=m.clampedInt(dt.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),hn=m.clampedInt(dt.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:m.clampedInt(dt.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:ie(dt.vertical,this.defaultValue.vertical),horizontal:ie(dt.horizontal,this.defaultValue.horizontal),useShadows:l(dt.useShadows,this.defaultValue.useShadows),verticalHasArrows:l(dt.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:l(dt.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:l(dt.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:l(dt.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:$t,horizontalSliderSize:m.clampedInt(dt.horizontalSliderSize,$t,0,1e3),verticalScrollbarSize:hn,verticalSliderSize:m.clampedInt(dt.verticalSliderSize,hn,0,1e3),scrollByPage:l(dt.scrollByPage,this.defaultValue.scrollByPage)}}}),scrollBeyondLastColumn:Ze(new m(95,"scrollBeyondLastColumn",4,0,1073741824,{description:f.NC("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:Ze(new v(96,"scrollBeyondLastLine",!0,{description:f.NC("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:Ze(new v(97,"scrollPredominantAxis",!0,{description:f.NC("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:Ze(new v(98,"selectionClipboard",!0,{description:f.NC("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:s.IJ})),selectionHighlight:Ze(new v(99,"selectionHighlight",!0,{description:f.NC("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:Ze(new v(100,"selectOnLineNumbers",!0)),showFoldingControls:Ze(new b(101,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[f.NC("showFoldingControls.always","Always show the folding controls."),f.NC("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),f.NC("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:f.NC("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:Ze(new v(102,"showUnused",!0,{description:f.NC("showUnused","Controls fading out of unused code.")})),showDeprecated:Ze(new v(128,"showDeprecated",!0,{description:f.NC("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:Ze(new class me extends _{constructor(){const ze={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(129,"inlayHints",ze,{"editor.inlayHints.enabled":{type:"string",default:ze.enabled,description:f.NC("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[f.NC("editor.inlayHints.on","Inlay hints are enabled"),f.NC("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding `Ctrl+Alt`"),f.NC("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding `Ctrl+Alt`"),f.NC("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:ze.fontSize,markdownDescription:f.NC("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:ze.fontFamily,markdownDescription:f.NC("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:ze.padding,description:f.NC("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(ze){if(!ze||"object"!=typeof ze)return this.defaultValue;const dt=ze;return"boolean"==typeof dt.enabled&&(dt.enabled=dt.enabled?"on":"off"),{enabled:S(dt.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:m.clampedInt(dt.fontSize,this.defaultValue.fontSize,0,100),fontFamily:y.string(dt.fontFamily,this.defaultValue.fontFamily),padding:l(dt.padding,this.defaultValue.padding)}}}),snippetSuggestions:Ze(new b(103,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[f.NC("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),f.NC("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),f.NC("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),f.NC("snippetSuggestions.none","Do not show snippet suggestions.")],description:f.NC("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:Ze(new class ne extends _{constructor(){super(104,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:f.NC("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(ze){return ze&&"object"==typeof ze?{selectLeadingAndTrailingWhitespace:l(ze.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}:this.defaultValue}}),smoothScrolling:Ze(new v(105,"smoothScrolling",!1,{description:f.NC("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:Ze(new m(107,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Ze(new class Ne extends _{constructor(){const ze={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(108,"suggest",ze,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[f.NC("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),f.NC("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:ze.insertMode,description:f.NC("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:ze.filterGraceful,description:f.NC("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:ze.localityBonus,description:f.NC("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:ze.shareSuggestSelections,markdownDescription:f.NC("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:ze.snippetsPreventQuickSuggestions,description:f.NC("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:ze.showIcons,description:f.NC("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:ze.showStatusBar,description:f.NC("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:ze.preview,description:f.NC("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:ze.showInlineDetails,description:f.NC("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:f.NC("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:f.NC("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(ze){if(!ze||"object"!=typeof ze)return this.defaultValue;const dt=ze;return{insertMode:S(dt.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:l(dt.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:l(dt.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:l(dt.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:l(dt.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:l(dt.showIcons,this.defaultValue.showIcons),showStatusBar:l(dt.showStatusBar,this.defaultValue.showStatusBar),preview:l(dt.preview,this.defaultValue.preview),previewMode:S(dt.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:l(dt.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:l(dt.showMethods,this.defaultValue.showMethods),showFunctions:l(dt.showFunctions,this.defaultValue.showFunctions),showConstructors:l(dt.showConstructors,this.defaultValue.showConstructors),showDeprecated:l(dt.showDeprecated,this.defaultValue.showDeprecated),showFields:l(dt.showFields,this.defaultValue.showFields),showVariables:l(dt.showVariables,this.defaultValue.showVariables),showClasses:l(dt.showClasses,this.defaultValue.showClasses),showStructs:l(dt.showStructs,this.defaultValue.showStructs),showInterfaces:l(dt.showInterfaces,this.defaultValue.showInterfaces),showModules:l(dt.showModules,this.defaultValue.showModules),showProperties:l(dt.showProperties,this.defaultValue.showProperties),showEvents:l(dt.showEvents,this.defaultValue.showEvents),showOperators:l(dt.showOperators,this.defaultValue.showOperators),showUnits:l(dt.showUnits,this.defaultValue.showUnits),showValues:l(dt.showValues,this.defaultValue.showValues),showConstants:l(dt.showConstants,this.defaultValue.showConstants),showEnums:l(dt.showEnums,this.defaultValue.showEnums),showEnumMembers:l(dt.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:l(dt.showKeywords,this.defaultValue.showKeywords),showWords:l(dt.showWords,this.defaultValue.showWords),showColors:l(dt.showColors,this.defaultValue.showColors),showFiles:l(dt.showFiles,this.defaultValue.showFiles),showReferences:l(dt.showReferences,this.defaultValue.showReferences),showFolders:l(dt.showFolders,this.defaultValue.showFolders),showTypeParameters:l(dt.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:l(dt.showSnippets,this.defaultValue.showSnippets),showUsers:l(dt.showUsers,this.defaultValue.showUsers),showIssues:l(dt.showIssues,this.defaultValue.showIssues)}}}),inlineSuggest:Ze(new class Ae extends _{constructor(){const ze={enabled:!0,mode:"subwordSmart"};super(57,"inlineSuggest",ze,{"editor.inlineSuggest.enabled":{type:"boolean",default:ze.enabled,description:f.NC("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(ze){if(!ze||"object"!=typeof ze)return this.defaultValue;const dt=ze;return{enabled:l(dt.enabled,this.defaultValue.enabled),mode:S(dt.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}),suggestFontSize:Ze(new m(109,"suggestFontSize",0,0,1e3,{markdownDescription:f.NC("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:Ze(new m(110,"suggestLineHeight",0,0,1e3,{markdownDescription:f.NC("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:Ze(new v(111,"suggestOnTriggerCharacters",!0,{description:f.NC("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:Ze(new b(112,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[f.NC("suggestSelection.first","Always select the first suggestion."),f.NC("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),f.NC("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:f.NC("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:Ze(new b(113,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[f.NC("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),f.NC("tabCompletion.off","Disable tab completions."),f.NC("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:f.NC("tabCompletion","Enables tab completions.")})),tabIndex:Ze(new m(114,"tabIndex",0,-1,1073741824)),unicodeHighlight:Ze(new class Qe extends _{constructor(){const ze={nonBasicASCII:_e,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:_e,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(115,"unicodeHighlight",ze,{[Be.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,_e],default:ze.nonBasicASCII,description:f.NC("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[Be.invisibleCharacters]:{restricted:!0,type:"boolean",default:ze.invisibleCharacters,description:f.NC("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[Be.ambiguousCharacters]:{restricted:!0,type:"boolean",default:ze.ambiguousCharacters,description:f.NC("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[Be.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,_e],default:ze.includeComments,description:f.NC("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to unicode highlighting.")},[Be.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,_e],default:ze.includeStrings,description:f.NC("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to unicode highlighting.")},[Be.allowedCharacters]:{restricted:!0,type:"object",default:ze.allowedCharacters,description:f.NC("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[Be.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:ze.allowedLocales,description:f.NC("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(ze,dt){let $t=!1;dt.allowedCharacters&&ze&&(u.fS(ze.allowedCharacters,dt.allowedCharacters)||(ze=Object.assign(Object.assign({},ze),{allowedCharacters:dt.allowedCharacters}),$t=!0)),dt.allowedLocales&&ze&&(u.fS(ze.allowedLocales,dt.allowedLocales)||(ze=Object.assign(Object.assign({},ze),{allowedLocales:dt.allowedLocales}),$t=!0));const hn=super.applyUpdate(ze,dt);return $t?new a(hn.newValue,!0):hn}validate(ze){if(!ze||"object"!=typeof ze)return this.defaultValue;const dt=ze;return{nonBasicASCII:Oe(dt.nonBasicASCII,_e,[!0,!1,_e]),invisibleCharacters:l(dt.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:l(dt.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:Oe(dt.includeComments,_e,[!0,!1,_e]),includeStrings:Oe(dt.includeStrings,_e,[!0,!1,_e]),allowedCharacters:this.validateBooleanMap(ze.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(ze.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(ze,dt){if("object"!=typeof ze||!ze)return dt;const $t={};for(const[hn,vn]of Object.entries(ze))!0===vn&&($t[hn]=!0);return $t}}),unusualLineTerminators:Ze(new b(116,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[f.NC("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),f.NC("unusualLineTerminators.off","Unusual line terminators are ignored."),f.NC("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:f.NC("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:Ze(new v(117,"useShadowDOM",!0)),useTabStops:Ze(new v(118,"useTabStops",!0,{description:f.NC("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:Ze(new y(119,"wordSeparators",L.vu,{description:f.NC("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:Ze(new b(120,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[f.NC("wordWrap.off","Lines will never wrap."),f.NC("wordWrap.on","Lines will wrap at the viewport width."),f.NC({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),f.NC({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:f.NC({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:Ze(new y(121,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;\xa2\xb0\u2032\u2033\u2030\u2103\u3001\u3002\uff61\uff64\uffe0\uff0c\uff0e\uff1a\uff1b\uff1f\uff01\uff05\u30fb\uff65\u309d\u309e\u30fd\u30fe\u30fc\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096\u31f0\u31f1\u31f2\u31f3\u31f4\u31f5\u31f6\u31f7\u31f8\u31f9\u31fa\u31fb\u31fc\u31fd\u31fe\u31ff\u3005\u303b\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f\uff70\u201d\u3009\u300b\u300d\u300f\u3011\u3015\uff09\uff3d\uff5d\uff63")),wordWrapBreakBeforeCharacters:Ze(new y(122,"wordWrapBreakBeforeCharacters","([{\u2018\u201c\u3008\u300a\u300c\u300e\u3010\u3014\uff08\uff3b\uff5b\uff62\xa3\xa5\uff04\uffe1\uffe5+\uff0b")),wordWrapColumn:Ze(new m(123,"wordWrapColumn",80,1,1073741824,{markdownDescription:f.NC({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:Ze(new b(124,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Ze(new b(125,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:Ze(new x(126,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],function Je(Nt){switch(Nt){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}},{enumDescriptions:[f.NC("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),f.NC("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),f.NC("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),f.NC("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:f.NC("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:Ze(new b(127,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[f.NC("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),f.NC("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:f.NC("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:Ze(new class W extends c{constructor(){super(130)}compute(ze,dt,$t){const hn=["monaco-editor"];return dt.get(35)&&hn.push(dt.get(35)),ze.extraEditorClassName&&hn.push(ze.extraEditorClassName),"default"===dt.get(68)?hn.push("mouse-default"):"copy"===dt.get(68)&&hn.push("mouse-copy"),dt.get(102)&&hn.push("showUnused"),dt.get(128)&&hn.push("showDeprecated"),hn.join(" ")}}),pixelRatio:Ze(new class ge extends c{constructor(){super(131)}compute(ze,dt,$t){return ze.pixelRatio}}),tabFocusMode:Ze(new class xe extends c{constructor(){super(132)}compute(ze,dt,$t){return!!dt.get(83)||ze.tabFocusMode}}),layoutInfo:Ze(new w),wrappingInfo:Ze(new class gt extends c{constructor(){super(134)}compute(ze,dt,$t){const hn=dt.get(133);return{isDominatedByLongLines:ze.isDominatedByLongLines,isWordWrapMinified:hn.isWordWrapMinified,isViewportWrapping:hn.isViewportWrapping,wrappingColumn:hn.wrappingColumn}}})}},62929:(at,ue,e)=>{"use strict";e.d(ue,{C:()=>s});var f=e(52787);const s=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new f.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(L){L=Math.min(Math.max(-5,L),20),this._zoomLevel!==L&&(this._zoomLevel=L,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},25462:(at,ue,e)=>{"use strict";e.d(ue,{E4:()=>P,pR:()=>k});var f=e(38972),s=e(16367),L=e(62929);const M=f.dz?1.5:1.35;class P{constructor(_){this._bareFontInfoBrand=void 0,this.pixelRatio=_.pixelRatio,this.fontFamily=String(_.fontFamily),this.fontWeight=String(_.fontWeight),this.fontSize=_.fontSize,this.fontFeatureSettings=_.fontFeatureSettings,this.lineHeight=0|_.lineHeight,this.letterSpacing=_.letterSpacing}static createFromValidatedSettings(_,a,p){const c=_.get(45),n=_.get(49),l=_.get(48),v=_.get(47),d=_.get(61),m=_.get(58);return P._create(c,n,l,v,d,m,a,p)}static _create(_,a,p,c,n,l,v,d){0===n?n=M*p:n<8&&(n*=p),(n=Math.round(n))<8&&(n=8);const m=1+(d?0:.1*L.C.getZoomLevel());return new P({pixelRatio:v,fontFamily:_,fontWeight:a,fontSize:p*=m,fontFeatureSettings:c,lineHeight:n*=m,letterSpacing:l})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const _=s.hL.fontFamily,a=P._wrapInQuotes(this.fontFamily);return _&&this.fontFamily!==_?`${a}, ${_}`:a}static _wrapInQuotes(_){return/[,"']/.test(_)?_:/[+ ]/.test(_)?`"${_}"`:_}}class k extends P{constructor(_,a){super(_),this._editorStylingBrand=void 0,this.version=1,this.isTrusted=a,this.isMonospace=_.isMonospace,this.typicalHalfwidthCharacterWidth=_.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=_.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=_.canUseHalfwidthRightwardsArrow,this.spaceWidth=_.spaceWidth,this.middotWidth=_.middotWidth,this.wsmiddotWidth=_.wsmiddotWidth,this.maxDigitWidth=_.maxDigitWidth}equals(_){return this.fontFamily===_.fontFamily&&this.fontWeight===_.fontWeight&&this.fontSize===_.fontSize&&this.fontFeatureSettings===_.fontFeatureSettings&&this.lineHeight===_.lineHeight&&this.letterSpacing===_.letterSpacing&&this.typicalHalfwidthCharacterWidth===_.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===_.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===_.canUseHalfwidthRightwardsArrow&&this.spaceWidth===_.spaceWidth&&this.middotWidth===_.middotWidth&&this.wsmiddotWidth===_.wsmiddotWidth&&this.maxDigitWidth===_.maxDigitWidth}}},57686:(at,ue,e)=>{"use strict";e.d(ue,{N:()=>s,q:()=>L});var f=e(45129);class s{constructor(u){const P=(0,f.K)(u);this._defaultValue=P,this._asciiMap=s._createAsciiMap(P),this._map=new Map}static _createAsciiMap(u){const P=new Uint8Array(256);for(let A=0;A<256;A++)P[A]=u;return P}set(u,P){const A=(0,f.K)(P);u>=0&&u<256?this._asciiMap[u]=A:this._map.set(u,A)}get(u){return u>=0&&u<256?this._asciiMap[u]:this._map.get(u)||this._defaultValue}}class L{constructor(){this._actual=new s(0)}add(u){this._actual.set(u,1)}has(u){return 1===this._actual.get(u)}}},74826:(at,ue,e)=>{"use strict";e.d(ue,{i:()=>s});var f=e(93059);class s{static _nextVisibleColumn(M,u,P){return 9===M?s.nextRenderTabStop(u,P):f.K7(M)||f.C8(M)?u+2:u+1}static visibleColumnFromColumn(M,u,P){const A=Math.min(u-1,M.length),k=M.substring(0,A),N=new f.W1(k);let _=0;for(;!N.eol();){const a=f.ZH(k,A,N.offset);N.nextGraphemeLength(),_=this._nextVisibleColumn(a,_,P)}return _}static columnFromVisibleColumn(M,u,P){if(u<=0)return 1;const A=M.length,k=new f.W1(M);let N=0,_=1;for(;!k.eol();){const a=f.ZH(M,A,k.offset);k.nextGraphemeLength();const p=this._nextVisibleColumn(a,N,P),c=k.offset+1;if(p>=u)return p-u<u-N?c:_;N=p,_=c}return A+1}static nextRenderTabStop(M,u){return M+u-M%u}static nextIndentTabStop(M,u){return M+u-M%u}static prevRenderTabStop(M,u){return Math.max(0,M-1-(M-1)%u)}static prevIndentTabStop(M,u){return Math.max(0,M-1-(M-1)%u)}}},12033:(at,ue,e)=>{"use strict";e.d(ue,{h:()=>s});var f=e(68451);class s{static insert(M,u){return{range:new f.e(M.lineNumber,M.column,M.lineNumber,M.column),text:u,forceMoveMarkers:!0}}static delete(M){return{range:M,text:null}}static replace(M,u){return{range:M,text:u}}static replaceMove(M,u){return{range:M,text:u,forceMoveMarkers:!0}}}},53448:(at,ue,e)=>{"use strict";e.d(ue,{CE:()=>w,DD:()=>I,DS:()=>he,Dl:()=>x,HV:()=>ye,IO:()=>B,Jn:()=>ge,Kh:()=>P,L7:()=>ie,Mm:()=>A,N5:()=>W,Qb:()=>Se,Re:()=>E,TC:()=>b,To:()=>Ve,UP:()=>fe,Vs:()=>te,YF:()=>re,Ym:()=>v,eS:()=>V,e_:()=>R,f9:()=>_e,fY:()=>c,hw:()=>d,kp:()=>Z,lK:()=>Y,lS:()=>de,m$:()=>ce,m1:()=>me,m3:()=>Pe,m9:()=>j,n0:()=>p,oV:()=>ee,r0:()=>be,tR:()=>l,ts:()=>Ie,x3:()=>F,zJ:()=>$,zk:()=>y,zu:()=>G,zw:()=>T});var f=e(40402),s=e(68927),L=e(28708),M=e(23024),u=e(58676);const P=(0,L.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("lineHighlight","Background color for the highlight of line at the cursor position.")),A=(0,L.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:L.lRK},f.NC("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),k=(0,L.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},f.NC("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),N=(0,L.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:L.xL1,hcLight:L.xL1},f.NC("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),_=(0,L.P6G)("editor.symbolHighlightBackground",{dark:L.MUv,light:L.MUv,hcDark:null,hcLight:null},f.NC("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),a=(0,L.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:L.xL1,hcLight:L.xL1},f.NC("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),p=(0,L.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:s.Il.black,hcDark:s.Il.white,hcLight:"#0F4A85"},f.NC("caret","Color of the editor cursor.")),c=(0,L.P6G)("editorCursor.background",null,f.NC("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),n=(0,L.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},f.NC("editorWhitespaces","Color of whitespace characters in the editor.")),l=(0,L.P6G)("editorIndentGuide.background",{dark:n,light:n,hcDark:n,hcLight:n},f.NC("editorIndentGuides","Color of the editor indentation guides.")),v=(0,L.P6G)("editorIndentGuide.activeBackground",{dark:n,light:n,hcDark:n,hcLight:n},f.NC("editorActiveIndentGuide","Color of the active editor indentation guides.")),d=(0,L.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:s.Il.white,hcLight:"#292929"},f.NC("editorLineNumbers","Color of editor line numbers.")),m=(0,L.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:L.xL1,hcLight:L.xL1},f.NC("editorActiveLineNumber","Color of editor active line number"),!1,f.NC("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),I=(0,L.P6G)("editorLineNumber.activeForeground",{dark:m,light:m,hcDark:m,hcLight:m},f.NC("editorActiveLineNumber","Color of editor active line number")),y=(0,L.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:s.Il.lightgrey,hcDark:s.Il.white,hcLight:"#292929"},f.NC("editorRuler","Color of the editor rulers.")),b=((0,L.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},f.NC("editorCodeLensForeground","Foreground color of editor CodeLens")),(0,L.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},f.NC("editorBracketMatchBackground","Background color behind matching brackets"))),x=(0,L.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:L.lRK,hcLight:L.lRK},f.NC("editorBracketMatchBorder","Color for matching brackets boxes")),T=(0,L.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},f.NC("editorOverviewRulerBorder","Color of the overview ruler border.")),R=(0,L.P6G)("editorOverviewRuler.background",null,f.NC("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),Q=(0,L.P6G)("editorGutter.background",{dark:L.cvW,light:L.cvW,hcDark:L.cvW,hcLight:L.cvW},f.NC("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),Z=(0,L.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:s.Il.fromHex("#fff").transparent(.8),hcLight:L.lRK},f.NC("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),G=(0,L.P6G)("editorUnnecessaryCode.opacity",{dark:s.Il.fromHex("#000a"),light:s.Il.fromHex("#0007"),hcDark:null,hcLight:null},f.NC("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),F=(0,L.P6G)("editorGhostText.border",{dark:null,light:null,hcDark:s.Il.fromHex("#fff").transparent(.8),hcLight:s.Il.fromHex("#292929").transparent(.8)},f.NC("editorGhostTextBorder","Border color of ghost text in the editor.")),W=(0,L.P6G)("editorGhostText.foreground",{dark:s.Il.fromHex("#ffffff56"),light:s.Il.fromHex("#0007"),hcDark:null,hcLight:null},f.NC("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),B=(0,L.P6G)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("editorGhostTextBackground","Background color of the ghost text in the editor.")),z=new s.Il(new s.VS(0,122,204,.6)),j=(0,L.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:z,light:z,hcDark:z,hcLight:z},f.NC("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Y=(0,L.P6G)("editorOverviewRuler.errorForeground",{dark:new s.Il(new s.VS(255,18,18,.7)),light:new s.Il(new s.VS(255,18,18,.7)),hcDark:new s.Il(new s.VS(255,50,50,1)),hcLight:"#B5200D"},f.NC("overviewRuleError","Overview ruler marker color for errors.")),E=(0,L.P6G)("editorOverviewRuler.warningForeground",{dark:L.uoC,light:L.uoC,hcDark:L.pW3,hcLight:L.pW3},f.NC("overviewRuleWarning","Overview ruler marker color for warnings.")),V=(0,L.P6G)("editorOverviewRuler.infoForeground",{dark:L.c63,light:L.c63,hcDark:L.T83,hcLight:L.T83},f.NC("overviewRuleInfo","Overview ruler marker color for infos.")),$=(0,L.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},f.NC("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),te=(0,L.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},f.NC("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),w=(0,L.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},f.NC("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),fe=(0,L.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),be=(0,L.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),me=(0,L.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),Ie=(0,L.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new s.Il(new s.VS(255,18,18,.8)),light:new s.Il(new s.VS(255,18,18,.8)),hcDark:new s.Il(new s.VS(255,50,50,1)),hcLight:""},f.NC("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),ee=(0,L.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),ce=(0,L.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),he=(0,L.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),de=(0,L.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),ge=(0,L.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),re=(0,L.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),Se=(0,L.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),Pe=(0,L.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Ve=(0,L.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),ie=(0,L.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),ye=(0,L.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),_e=(0,L.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));(0,L.P6G)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:""},f.NC("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),(0,L.P6G)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:""},f.NC("editorUnicodeHighlight.background","Background color used to highlight unicode characters.")),(0,M.Ic)((Ae,pe)=>{const De=Ae.getColor(L.cvW);De&&pe.addRule(`.monaco-editor, .monaco-editor-background { background-color: ${De}; }`);const Oe=Ae.getColor(P),Ne=Oe&&!Oe.isTransparent()?Oe:De;Ne&&pe.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${Ne}; }`);const ne=Ae.getColor(L.NOs);ne&&pe.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${ne}; }`);const xe=Ae.getColor(Q);xe&&pe.addRule(`.monaco-editor .margin { background-color: ${xe}; }`);const Je=Ae.getColor(k);Je&&pe.addRule(`.monaco-editor .rangeHighlight { background-color: ${Je}; }`);const gt=Ae.getColor(N);gt&&pe.addRule(`.monaco-editor .rangeHighlight { border: 1px ${(0,u.c3)(Ae.type)?"dotted":"solid"} ${gt}; }`);const lt=Ae.getColor(_);lt&&pe.addRule(`.monaco-editor .symbolHighlight { background-color: ${lt}; }`);const Ke=Ae.getColor(a);Ke&&pe.addRule(`.monaco-editor .symbolHighlight { border: 1px ${(0,u.c3)(Ae.type)?"dotted":"solid"} ${Ke}; }`);const He=Ae.getColor(n);He&&(pe.addRule(`.monaco-editor .mtkw { color: ${He} !important; }`),pe.addRule(`.monaco-editor .mtkz { color: ${He} !important; }`))})},37846:(at,ue,e)=>{"use strict";function f(s){let L=0,M=0,u=0,P=0;for(let A=0,k=s.length;A<k;A++){const N=s.charCodeAt(A);13===N?(0===L&&(M=A),L++,A+1<k&&10===s.charCodeAt(A+1)?(P|=2,A++):P|=3,u=A+1):10===N&&(P|=1,0===L&&(M=A),L++,u=A+1)}return 0===L&&(M=s.length),[L,M,s.length-u,P]}e.d(ue,{Q:()=>f})},96910:(at,ue,e)=>{"use strict";e.d(ue,{x:()=>M});var f=e(93059),s=e(74826);function M(u,P,A){let k=f.LC(u);return-1===k&&(k=u.length),function L(u,P,A){let k=0;for(let _=0;_<u.length;_++)"\t"===u.charAt(_)?k=s.i.nextIndentTabStop(k,P):k++;let N="";if(!A){const _=Math.floor(k/P);k%=P;for(let a=0;a<_;a++)N+="\t"}for(let _=0;_<k;_++)N+=" ";return N}(u.substring(0,k),P,A)+u.substring(k)}},94220:(at,ue,e)=>{"use strict";e.d(ue,{L:()=>f});class f{constructor(L,M){this.lineNumber=L,this.column=M}with(L=this.lineNumber,M=this.column){return L===this.lineNumber&&M===this.column?this:new f(L,M)}delta(L=0,M=0){return this.with(this.lineNumber+L,this.column+M)}equals(L){return f.equals(this,L)}static equals(L,M){return!L&&!M||!!L&&!!M&&L.lineNumber===M.lineNumber&&L.column===M.column}isBefore(L){return f.isBefore(this,L)}static isBefore(L,M){return L.lineNumber<M.lineNumber||!(M.lineNumber<L.lineNumber)&&L.column<M.column}isBeforeOrEqual(L){return f.isBeforeOrEqual(this,L)}static isBeforeOrEqual(L,M){return L.lineNumber<M.lineNumber||!(M.lineNumber<L.lineNumber)&&L.column<=M.column}static compare(L,M){const u=0|L.lineNumber,P=0|M.lineNumber;return u===P?(0|L.column)-(0|M.column):u-P}clone(){return new f(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(L){return new f(L.lineNumber,L.column)}static isIPosition(L){return L&&"number"==typeof L.lineNumber&&"number"==typeof L.column}}},68451:(at,ue,e)=>{"use strict";e.d(ue,{e:()=>s});var f=e(94220);class s{constructor(M,u,P,A){M>P||M===P&&u>A?(this.startLineNumber=P,this.startColumn=A,this.endLineNumber=M,this.endColumn=u):(this.startLineNumber=M,this.startColumn=u,this.endLineNumber=P,this.endColumn=A)}isEmpty(){return s.isEmpty(this)}static isEmpty(M){return M.startLineNumber===M.endLineNumber&&M.startColumn===M.endColumn}containsPosition(M){return s.containsPosition(this,M)}static containsPosition(M,u){return!(u.lineNumber<M.startLineNumber||u.lineNumber>M.endLineNumber||u.lineNumber===M.startLineNumber&&u.column<M.startColumn||u.lineNumber===M.endLineNumber&&u.column>M.endColumn)}static strictContainsPosition(M,u){return!(u.lineNumber<M.startLineNumber||u.lineNumber>M.endLineNumber||u.lineNumber===M.startLineNumber&&u.column<=M.startColumn||u.lineNumber===M.endLineNumber&&u.column>=M.endColumn)}containsRange(M){return s.containsRange(this,M)}static containsRange(M,u){return!(u.startLineNumber<M.startLineNumber||u.endLineNumber<M.startLineNumber||u.startLineNumber>M.endLineNumber||u.endLineNumber>M.endLineNumber||u.startLineNumber===M.startLineNumber&&u.startColumn<M.startColumn||u.endLineNumber===M.endLineNumber&&u.endColumn>M.endColumn)}strictContainsRange(M){return s.strictContainsRange(this,M)}static strictContainsRange(M,u){return!(u.startLineNumber<M.startLineNumber||u.endLineNumber<M.startLineNumber||u.startLineNumber>M.endLineNumber||u.endLineNumber>M.endLineNumber||u.startLineNumber===M.startLineNumber&&u.startColumn<=M.startColumn||u.endLineNumber===M.endLineNumber&&u.endColumn>=M.endColumn)}plusRange(M){return s.plusRange(this,M)}static plusRange(M,u){let P,A,k,N;return u.startLineNumber<M.startLineNumber?(P=u.startLineNumber,A=u.startColumn):u.startLineNumber===M.startLineNumber?(P=u.startLineNumber,A=Math.min(u.startColumn,M.startColumn)):(P=M.startLineNumber,A=M.startColumn),u.endLineNumber>M.endLineNumber?(k=u.endLineNumber,N=u.endColumn):u.endLineNumber===M.endLineNumber?(k=u.endLineNumber,N=Math.max(u.endColumn,M.endColumn)):(k=M.endLineNumber,N=M.endColumn),new s(P,A,k,N)}intersectRanges(M){return s.intersectRanges(this,M)}static intersectRanges(M,u){let P=M.startLineNumber,A=M.startColumn,k=M.endLineNumber,N=M.endColumn;const _=u.startLineNumber,a=u.startColumn,p=u.endLineNumber,c=u.endColumn;return P<_?(P=_,A=a):P===_&&(A=Math.max(A,a)),k>p?(k=p,N=c):k===p&&(N=Math.min(N,c)),P>k||P===k&&A>N?null:new s(P,A,k,N)}equalsRange(M){return s.equalsRange(this,M)}static equalsRange(M,u){return!!M&&!!u&&M.startLineNumber===u.startLineNumber&&M.startColumn===u.startColumn&&M.endLineNumber===u.endLineNumber&&M.endColumn===u.endColumn}getEndPosition(){return s.getEndPosition(this)}static getEndPosition(M){return new f.L(M.endLineNumber,M.endColumn)}getStartPosition(){return s.getStartPosition(this)}static getStartPosition(M){return new f.L(M.startLineNumber,M.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(M,u){return new s(this.startLineNumber,this.startColumn,M,u)}setStartPosition(M,u){return new s(M,u,this.endLineNumber,this.endColumn)}collapseToStart(){return s.collapseToStart(this)}static collapseToStart(M){return new s(M.startLineNumber,M.startColumn,M.startLineNumber,M.startColumn)}static fromPositions(M,u=M){return new s(M.lineNumber,M.column,u.lineNumber,u.column)}static lift(M){return M?new s(M.startLineNumber,M.startColumn,M.endLineNumber,M.endColumn):null}static isIRange(M){return M&&"number"==typeof M.startLineNumber&&"number"==typeof M.startColumn&&"number"==typeof M.endLineNumber&&"number"==typeof M.endColumn}static areIntersectingOrTouching(M,u){return!(M.endLineNumber<u.startLineNumber||M.endLineNumber===u.startLineNumber&&M.endColumn<u.startColumn||u.endLineNumber<M.startLineNumber||u.endLineNumber===M.startLineNumber&&u.endColumn<M.startColumn)}static areIntersecting(M,u){return!(M.endLineNumber<u.startLineNumber||M.endLineNumber===u.startLineNumber&&M.endColumn<=u.startColumn||u.endLineNumber<M.startLineNumber||u.endLineNumber===M.startLineNumber&&u.endColumn<=M.startColumn)}static compareRangesUsingStarts(M,u){if(M&&u){const k=0|M.startLineNumber,N=0|u.startLineNumber;if(k===N){const _=0|M.startColumn,a=0|u.startColumn;if(_===a){const p=0|M.endLineNumber,c=0|u.endLineNumber;return p===c?(0|M.endColumn)-(0|u.endColumn):p-c}return _-a}return k-N}return(M?1:0)-(u?1:0)}static compareRangesUsingEnds(M,u){return M.endLineNumber===u.endLineNumber?M.endColumn===u.endColumn?M.startLineNumber===u.startLineNumber?M.startColumn-u.startColumn:M.startLineNumber-u.startLineNumber:M.endColumn-u.endColumn:M.endLineNumber-u.endLineNumber}static spansMultipleLines(M){return M.endLineNumber>M.startLineNumber}toJSON(){return this}}},43210:(at,ue,e)=>{"use strict";e.d(ue,{Y:()=>L});var f=e(94220),s=e(68451);class L extends s.e{constructor(u,P,A,k){super(u,P,A,k),this.selectionStartLineNumber=u,this.selectionStartColumn=P,this.positionLineNumber=A,this.positionColumn=k}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(u){return L.selectionsEqual(this,u)}static selectionsEqual(u,P){return u.selectionStartLineNumber===P.selectionStartLineNumber&&u.selectionStartColumn===P.selectionStartColumn&&u.positionLineNumber===P.positionLineNumber&&u.positionColumn===P.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(u,P){return 0===this.getDirection()?new L(this.startLineNumber,this.startColumn,u,P):new L(u,P,this.startLineNumber,this.startColumn)}getPosition(){return new f.L(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new f.L(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(u,P){return 0===this.getDirection()?new L(u,P,this.endLineNumber,this.endColumn):new L(this.endLineNumber,this.endColumn,u,P)}static fromPositions(u,P=u){return new L(u.lineNumber,u.column,P.lineNumber,P.column)}static fromRange(u,P){return 0===P?new L(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn):new L(u.endLineNumber,u.endColumn,u.startLineNumber,u.startColumn)}static liftSelection(u){return new L(u.selectionStartLineNumber,u.selectionStartColumn,u.positionLineNumber,u.positionColumn)}static selectionsArrEqual(u,P){if(u&&!P||!u&&P)return!1;if(!u&&!P)return!0;if(u.length!==P.length)return!1;for(let A=0,k=u.length;A<k;A++)if(!this.selectionsEqual(u[A],P[A]))return!1;return!0}static isISelection(u){return u&&"number"==typeof u.selectionStartLineNumber&&"number"==typeof u.selectionStartColumn&&"number"==typeof u.positionLineNumber&&"number"==typeof u.positionColumn}static createWithDirection(u,P,A,k,N){return 0===N?new L(u,P,A,k):new L(A,k,u,P)}}},68511:(at,ue,e)=>{"use strict";e.d(ue,{kH:()=>p,l$:()=>a,lZ:()=>_,oe:()=>N});var f=e(93059),s=e(38972),L=e(38923);let M,P,k;function u(){return M||(M=new TextDecoder("UTF-16LE")),M}function N(){return k||(k=s.r()?u():function A(){return P||(P=new TextDecoder("UTF-16BE")),P}()),k}const _="undefined"!=typeof TextDecoder;let a,p;function n(d,m,I){const y=[];let S=0;for(let b=0;b<I;b++){const x=L.mP(d,m);m+=2,y[S++]=String.fromCharCode(x)}return y.join("")}_?(a=d=>new l(d),p=function c(d,m,I){const y=new Uint16Array(d.buffer,m,I);return I>0&&(65279===y[0]||65534===y[0])?n(d,m,I):u().decode(y)}):(a=d=>new v,p=n);class l{constructor(m){this._capacity=0|m,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const m=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return N().decode(m)}_flushBuffer(){const m=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[m]:this._completedStrings[this._completedStrings.length]=m}write1(m){const I=this._capacity-this._bufferLength;I<=1&&(0===I||f.ZG(m))&&this._flushBuffer(),this._buffer[this._bufferLength++]=m}appendASCII(m){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=m}appendASCIIString(m){const I=m.length;if(this._bufferLength+I>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=m);for(let y=0;y<I;y++)this._buffer[this._bufferLength++]=m.charCodeAt(y)}}class v{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(m){this._pieces[this._piecesLen++]=String.fromCharCode(m)}appendASCII(m){this._pieces[this._piecesLen++]=String.fromCharCode(m)}appendASCIIString(m){this._pieces[this._piecesLen++]=m}}},97614:(at,ue,e)=>{"use strict";e.d(ue,{b:()=>u,q:()=>M});var f=e(38923),s=e(68511);function L(A){return A.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class M{constructor(k,N,_,a){this.oldPosition=k,this.oldText=N,this.newPosition=_,this.newText=a}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${L(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${L(this.oldText)}")`:`(replace@${this.oldPosition} "${L(this.oldText)}" with "${L(this.newText)}")`}static _writeStringSize(k){return 4+2*k.length}static _writeString(k,N,_){const a=N.length;f.T4(k,a,_),_+=4;for(let p=0;p<a;p++)f.oq(k,N.charCodeAt(p),_),_+=2;return _}static _readString(k,N){const _=f.Ag(k,N);return(0,s.kH)(k,N+=4,_)}writeSize(){return 8+M._writeStringSize(this.oldText)+M._writeStringSize(this.newText)}write(k,N){return f.T4(k,this.oldPosition,N),f.T4(k,this.newPosition,N+=4),N=M._writeString(k,this.oldText,N+=4),M._writeString(k,this.newText,N)}static read(k,N,_){const a=f.Ag(k,N),p=f.Ag(k,N+=4),c=M._readString(k,N+=4);N+=M._writeStringSize(c);const n=M._readString(k,N);return N+=M._writeStringSize(n),_.push(new M(a,c,p,n)),N}}function u(A,k){return null===A||0===A.length?k:new P(A,k).compress()}class P{constructor(k,N){this._prevEdits=k,this._currEdits=N,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let k=0,N=0,_=this._getPrev(k),a=this._getCurr(N);for(;k<this._prevLen||N<this._currLen;){if(null===_){this._acceptCurr(a),a=this._getCurr(++N);continue}if(null===a){this._acceptPrev(_),_=this._getPrev(++k);continue}if(a.oldEnd<=_.newPosition){this._acceptCurr(a),a=this._getCurr(++N);continue}if(_.newEnd<=a.oldPosition){this._acceptPrev(_),_=this._getPrev(++k);continue}if(a.oldPosition<_.newPosition){const[v,d]=P._splitCurr(a,_.newPosition-a.oldPosition);this._acceptCurr(v),a=d;continue}if(_.newPosition<a.oldPosition){const[v,d]=P._splitPrev(_,a.oldPosition-_.newPosition);this._acceptPrev(v),_=d;continue}let n,l;if(a.oldEnd===_.newEnd)n=_,l=a,_=this._getPrev(++k),a=this._getCurr(++N);else if(a.oldEnd<_.newEnd){const[v,d]=P._splitPrev(_,a.oldLength);n=v,l=a,_=d,a=this._getCurr(++N)}else{const[v,d]=P._splitCurr(a,_.newLength);n=_,l=v,_=this._getPrev(++k),a=d}this._result[this._resultLen++]=new M(n.oldPosition,n.oldText,l.newPosition,l.newText),this._prevDeltaOffset+=n.newLength-n.oldLength,this._currDeltaOffset+=l.newLength-l.oldLength}const p=P._merge(this._result);return P._removeNoOps(p)}_acceptCurr(k){this._result[this._resultLen++]=P._rebaseCurr(this._prevDeltaOffset,k),this._currDeltaOffset+=k.newLength-k.oldLength}_getCurr(k){return k<this._currLen?this._currEdits[k]:null}_acceptPrev(k){this._result[this._resultLen++]=P._rebasePrev(this._currDeltaOffset,k),this._prevDeltaOffset+=k.newLength-k.oldLength}_getPrev(k){return k<this._prevLen?this._prevEdits[k]:null}static _rebaseCurr(k,N){return new M(N.oldPosition-k,N.oldText,N.newPosition,N.newText)}static _rebasePrev(k,N){return new M(N.oldPosition,N.oldText,N.newPosition+k,N.newText)}static _splitPrev(k,N){const _=k.newText.substr(0,N),a=k.newText.substr(N);return[new M(k.oldPosition,k.oldText,k.newPosition,_),new M(k.oldEnd,"",k.newPosition+N,a)]}static _splitCurr(k,N){const _=k.oldText.substr(0,N),a=k.oldText.substr(N);return[new M(k.oldPosition,_,k.newPosition,k.newText),new M(k.oldPosition+N,a,k.newEnd,"")]}static _merge(k){if(0===k.length)return k;const N=[];let _=0,a=k[0];for(let p=1;p<k.length;p++){const c=k[p];a.oldEnd===c.oldPosition?a=new M(a.oldPosition,a.oldText+c.oldText,a.newPosition,a.newText+c.newText):(N[_++]=a,a=c)}return N[_++]=a,N}static _removeNoOps(k){if(0===k.length)return k;const N=[];let _=0;for(let a=0;a<k.length;a++){const p=k[a];p.oldText!==p.newText&&(N[_++]=p)}return N}}},32931:(at,ue,e)=>{"use strict";e.d(ue,{D:()=>f});const f={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},30681:(at,ue,e)=>{"use strict";e.d(ue,{u:()=>M});var f=e(57686);class s extends f.N{constructor(P){super(0);for(let A=0,k=P.length;A<k;A++)this.set(P.charCodeAt(A),2);this.set(32,1),this.set(9,1)}}const M=function L(u){const P={};return A=>(P.hasOwnProperty(A)||(P[A]=u(A)),P[A])}(u=>new s(u))},85519:(at,ue,e)=>{"use strict";e.d(ue,{Af:()=>u,eq:()=>P,t2:()=>k,vu:()=>L});var f=e(67981),s=e(38460);const L="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",u=function M(_=""){let a="(-?\\d*\\.\\d\\w*)|([^";for(const p of L)_.indexOf(p)>=0||(a+="\\"+p);return a+="\\s]+)",new RegExp(a,"g")}();function P(_){let a=u;if(_&&_ instanceof RegExp)if(_.global)a=_;else{let p="g";_.ignoreCase&&(p+="i"),_.multiline&&(p+="m"),_.unicode&&(p+="u"),a=new RegExp(_.source,p)}return a.lastIndex=0,a}const A=new s.S;function k(_,a,p,c,n){if(n||(n=f.$.first(A)),p.length>n.maxLen){let I=_-n.maxLen/2;return I<0?I=0:c+=I,k(_,a,p=p.substring(I,_+n.maxLen/2),c,n)}const l=Date.now(),v=_-1-c;let d=-1,m=null;for(let I=1;!(Date.now()-l>=n.timeBudget);I++){const y=v-n.windowSize*I;a.lastIndex=Math.max(0,y);const S=N(a,p,v,d);if(!S&&m||(m=S,y<=0))break;d=y}if(m){const I={word:m[0],startColumn:c+1+m.index,endColumn:c+1+m.index+m[0].length};return a.lastIndex=0,I}return null}function N(_,a,p,c){let n;for(;n=_.exec(a);){const l=n.index||0;if(l<=p&&_.lastIndex>=p)return n;if(c>0&&l>c)return null}return null}A.unshift({maxLen:1e3,windowSize:15,timeBudget:150})},27078:(at,ue,e)=>{"use strict";e.d(ue,{l:()=>s});var f=e(74826);class s{static whitespaceVisibleColumn(M,u,P){const A=M.length;let k=0,N=-1,_=-1;for(let a=0;a<A;a++){if(a===u)return[N,_,k];switch(k%P==0&&(N=a,_=k),M.charCodeAt(a)){case 32:k+=1;break;case 9:k=f.i.nextRenderTabStop(k,P);break;default:return[-1,-1,-1]}}return u===A?[N,_,k]:[-1,-1,-1]}static atomicPosition(M,u,P,A){const k=M.length,[N,_,a]=s.whitespaceVisibleColumn(M,u,P);if(-1===a)return-1;let p;switch(A){case 0:p=!0;break;case 1:p=!1;break;case 2:if(a%P==0)return u;p=a%P<=P/2}if(p){if(-1===N)return-1;let l=_;for(let v=N;v<k;++v){if(l===_+P)return N;switch(M.charCodeAt(v)){case 32:l+=1;break;case 9:l=f.i.nextRenderTabStop(l,P);break;default:return-1}}return l===_+P?N:-1}const c=f.i.nextRenderTabStop(a,P);let n=a;for(let l=u;l<k;l++){if(n===c)return l;switch(M.charCodeAt(l)){case 32:n+=1;break;case 9:n=f.i.nextRenderTabStop(n,P);break;default:return-1}}return n===c?k:-1}}},72525:(at,ue,e)=>{"use strict";e.d(ue,{A:()=>k});var f=e(93059),s=e(85753),L=e(95062),M=e(74826),u=e(96696),P=e(68451),A=e(94220);class k{static deleteRight(_,a,p,c){const n=[];let l=3!==_;for(let v=0,d=c.length;v<d;v++){const m=c[v];let I=m;if(I.isEmpty()){const y=m.getPosition(),S=u.o.right(a,p,y);I=new P.e(S.lineNumber,S.column,y.lineNumber,y.column)}I.isEmpty()?n[v]=null:(I.startLineNumber!==I.endLineNumber&&(l=!0),n[v]=new s.T4(I,""))}return[l,n]}static isAutoClosingPairDelete(_,a,p,c,n,l,v){if("never"===a&&"never"===p||"never"===_)return!1;for(let d=0,m=l.length;d<m;d++){const I=l[d],y=I.getPosition();if(!I.isEmpty())return!1;const S=n.getLineContent(y.lineNumber);if(y.column<2||y.column>=S.length+1)return!1;const b=S.charAt(y.column-2),x=c.get(b);if(!x)return!1;if((0,L.LN)(b)){if("never"===p)return!1}else if("never"===a)return!1;const T=S.charAt(y.column-1);let R=!1;for(const Q of x)Q.open===b&&Q.close===T&&(R=!0);if(!R)return!1;if("auto"===_){let Q=!1;for(let Z=0,G=v.length;Z<G;Z++){const F=v[Z];if(y.lineNumber===F.startLineNumber&&y.column===F.startColumn){Q=!0;break}}if(!Q)return!1}}return!0}static _runAutoClosingPairDelete(_,a,p){const c=[];for(let n=0,l=p.length;n<l;n++){const v=p[n].getPosition(),d=new P.e(v.lineNumber,v.column-1,v.lineNumber,v.column+1);c[n]=new s.T4(d,"")}return[!0,c]}static deleteLeft(_,a,p,c,n){if(this.isAutoClosingPairDelete(a.autoClosingDelete,a.autoClosingBrackets,a.autoClosingQuotes,a.autoClosingPairs.autoClosingPairsOpenByEnd,p,c,n))return this._runAutoClosingPairDelete(a,p,c);const l=[];let v=2!==_;for(let d=0,m=c.length;d<m;d++){const I=k.getDeleteRange(c[d],p,a);I.isEmpty()?l[d]=null:(I.startLineNumber!==I.endLineNumber&&(v=!0),l[d]=new s.T4(I,""))}return[v,l]}static getDeleteRange(_,a,p){if(!_.isEmpty())return _;const c=_.getPosition();if(p.useTabStops&&c.column>1){const n=a.getLineContent(c.lineNumber),l=f.LC(n);if(c.column<=(-1===l?n.length+1:l+1)){const d=p.visibleColumnFromColumn(a,c),m=M.i.prevIndentTabStop(d,p.indentSize),I=p.columnFromVisibleColumn(a,c.lineNumber,m);return new P.e(c.lineNumber,I,c.lineNumber,c.column)}}return P.e.fromPositions(k.getPositionAfterDeleteLeft(c,a),c)}static getPositionAfterDeleteLeft(_,a){if(_.column>1){const p=f.oH(_.column-1,a.getLineContent(_.lineNumber));return _.with(void 0,p+1)}if(_.lineNumber>1){const p=_.lineNumber-1;return new A.L(p,a.getLineMaxColumn(p))}return _}static cut(_,a,p){const c=[];let n=null;p.sort((l,v)=>A.L.compare(l.getStartPosition(),v.getEndPosition()));for(let l=0,v=p.length;l<v;l++){const d=p[l];if(d.isEmpty())if(_.emptySelectionClipboard){const m=d.getPosition();let I,y,S,b;m.lineNumber<a.getLineCount()?(I=m.lineNumber,y=1,S=m.lineNumber+1,b=1):m.lineNumber>1&&(null==n?void 0:n.endLineNumber)!==m.lineNumber?(I=m.lineNumber-1,y=a.getLineMaxColumn(m.lineNumber-1),S=m.lineNumber,b=a.getLineMaxColumn(m.lineNumber)):(I=m.lineNumber,y=1,S=m.lineNumber,b=a.getLineMaxColumn(m.lineNumber));const x=new P.e(I,y,S,b);n=x,c[l]=x.isEmpty()?null:new s.T4(x,"")}else c[l]=null;else c[l]=new s.T4(d,"")}return new L.Tp(0,c,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},46396:(at,ue,e)=>{"use strict";e.d(ue,{N:()=>k,P:()=>A});var k,N,f=e(54435),s=e(95062),L=e(96696),M=e(97616),u=e(94220),P=e(68451);class A{static addCursorDown(_,a,p){const c=[];let n=0;for(let l=0,v=a.length;l<v;l++){const d=a[l];c[n++]=new s.Vi(d.modelState,d.viewState),c[n++]=p?s.Vi.fromModelState(L.o.translateDown(_.cursorConfig,_.model,d.modelState)):s.Vi.fromViewState(L.o.translateDown(_.cursorConfig,_,d.viewState))}return c}static addCursorUp(_,a,p){const c=[];let n=0;for(let l=0,v=a.length;l<v;l++){const d=a[l];c[n++]=new s.Vi(d.modelState,d.viewState),c[n++]=p?s.Vi.fromModelState(L.o.translateUp(_.cursorConfig,_.model,d.modelState)):s.Vi.fromViewState(L.o.translateUp(_.cursorConfig,_,d.viewState))}return c}static moveToBeginningOfLine(_,a,p){const c=[];for(let n=0,l=a.length;n<l;n++)c[n]=this._moveToLineStart(_,a[n],p);return c}static _moveToLineStart(_,a,p){const c=a.viewState.position.column,l=c===a.modelState.position.column,d=_.getLineFirstNonWhitespaceColumn(a.viewState.position.lineNumber);return l||c===d?this._moveToLineStartByModel(_,a,p):this._moveToLineStartByView(_,a,p)}static _moveToLineStartByView(_,a,p){return s.Vi.fromViewState(L.o.moveToBeginningOfLine(_.cursorConfig,_,a.viewState,p))}static _moveToLineStartByModel(_,a,p){return s.Vi.fromModelState(L.o.moveToBeginningOfLine(_.cursorConfig,_.model,a.modelState,p))}static moveToEndOfLine(_,a,p,c){const n=[];for(let l=0,v=a.length;l<v;l++)n[l]=this._moveToLineEnd(_,a[l],p,c);return n}static _moveToLineEnd(_,a,p,c){const n=a.viewState.position,l=_.getLineMaxColumn(n.lineNumber),v=n.column===l,d=a.modelState.position,m=_.model.getLineMaxColumn(d.lineNumber);return v||l-n.column==m-d.column?this._moveToLineEndByModel(_,a,p,c):this._moveToLineEndByView(_,a,p,c)}static _moveToLineEndByView(_,a,p,c){return s.Vi.fromViewState(L.o.moveToEndOfLine(_.cursorConfig,_,a.viewState,p,c))}static _moveToLineEndByModel(_,a,p,c){return s.Vi.fromModelState(L.o.moveToEndOfLine(_.cursorConfig,_.model,a.modelState,p,c))}static expandLineSelection(_,a){const p=[];for(let c=0,n=a.length;c<n;c++){const l=a[c],v=l.modelState.selection.startLineNumber,d=_.model.getLineCount();let I,m=l.modelState.selection.endLineNumber;m===d?I=_.model.getLineMaxColumn(d):(m++,I=1),p[c]=s.Vi.fromModelState(new s.rS(new P.e(v,1,v,1),0,new u.L(m,I),0))}return p}static moveToBeginningOfBuffer(_,a,p){const c=[];for(let n=0,l=a.length;n<l;n++)c[n]=s.Vi.fromModelState(L.o.moveToBeginningOfBuffer(_.cursorConfig,_.model,a[n].modelState,p));return c}static moveToEndOfBuffer(_,a,p){const c=[];for(let n=0,l=a.length;n<l;n++)c[n]=s.Vi.fromModelState(L.o.moveToEndOfBuffer(_.cursorConfig,_.model,a[n].modelState,p));return c}static selectAll(_,a){const p=_.model.getLineCount(),c=_.model.getLineMaxColumn(p);return s.Vi.fromModelState(new s.rS(new P.e(1,1,1,1),0,new u.L(p,c),0))}static line(_,a,p,c,n){const l=_.model.validatePosition(c),v=n?_.coordinatesConverter.validateViewPosition(new u.L(n.lineNumber,n.column),l):_.coordinatesConverter.convertModelPositionToViewPosition(l);if(!p||!a.modelState.hasSelection()){const m=_.model.getLineCount();let I=l.lineNumber+1,y=1;return I>m&&(I=m,y=_.model.getLineMaxColumn(I)),s.Vi.fromModelState(new s.rS(new P.e(l.lineNumber,1,I,y),0,new u.L(I,y),0))}const d=a.modelState.selectionStart.getStartPosition().lineNumber;if(l.lineNumber<d)return s.Vi.fromViewState(a.viewState.move(a.modelState.hasSelection(),v.lineNumber,1,0));if(l.lineNumber>d){const m=_.getLineCount();let I=v.lineNumber+1,y=1;return I>m&&(I=m,y=_.getLineMaxColumn(I)),s.Vi.fromViewState(a.viewState.move(a.modelState.hasSelection(),I,y,0))}{const m=a.modelState.selectionStart.getEndPosition();return s.Vi.fromModelState(a.modelState.move(a.modelState.hasSelection(),m.lineNumber,m.column,0))}}static word(_,a,p,c){const n=_.model.validatePosition(c);return s.Vi.fromModelState(M.w.word(_.cursorConfig,_.model,a.modelState,p,n))}static cancelSelection(_,a){if(!a.modelState.hasSelection())return new s.Vi(a.modelState,a.viewState);const p=a.viewState.position.lineNumber,c=a.viewState.position.column;return s.Vi.fromViewState(new s.rS(new P.e(p,c,p,c),0,new u.L(p,c),0))}static moveTo(_,a,p,c,n){const l=_.model.validatePosition(c),v=n?_.coordinatesConverter.validateViewPosition(new u.L(n.lineNumber,n.column),l):_.coordinatesConverter.convertModelPositionToViewPosition(l);return s.Vi.fromViewState(a.viewState.move(p,v.lineNumber,v.column,0))}static simpleMove(_,a,p,c,n,l){switch(p){case 0:return 4===l?this._moveHalfLineLeft(_,a,c):this._moveLeft(_,a,c,n);case 1:return 4===l?this._moveHalfLineRight(_,a,c):this._moveRight(_,a,c,n);case 2:return 2===l?this._moveUpByViewLines(_,a,c,n):this._moveUpByModelLines(_,a,c,n);case 3:return 2===l?this._moveDownByViewLines(_,a,c,n):this._moveDownByModelLines(_,a,c,n);case 4:return a.map(2===l?v=>s.Vi.fromViewState(L.o.moveToPrevBlankLine(_.cursorConfig,_,v.viewState,c)):v=>s.Vi.fromModelState(L.o.moveToPrevBlankLine(_.cursorConfig,_.model,v.modelState,c)));case 5:return a.map(2===l?v=>s.Vi.fromViewState(L.o.moveToNextBlankLine(_.cursorConfig,_,v.viewState,c)):v=>s.Vi.fromModelState(L.o.moveToNextBlankLine(_.cursorConfig,_.model,v.modelState,c)));case 6:return this._moveToViewMinColumn(_,a,c);case 7:return this._moveToViewFirstNonWhitespaceColumn(_,a,c);case 8:return this._moveToViewCenterColumn(_,a,c);case 9:return this._moveToViewMaxColumn(_,a,c);case 10:return this._moveToViewLastNonWhitespaceColumn(_,a,c);default:return null}}static viewportMove(_,a,p,c,n){const l=_.getCompletelyVisibleViewRange(),v=_.coordinatesConverter.convertViewRangeToModelRange(l);switch(p){case 11:{const d=this._firstLineNumberInRange(_.model,v,n),m=_.model.getLineFirstNonWhitespaceColumn(d);return[this._moveToModelPosition(_,a[0],c,d,m)]}case 13:{const d=this._lastLineNumberInRange(_.model,v,n),m=_.model.getLineFirstNonWhitespaceColumn(d);return[this._moveToModelPosition(_,a[0],c,d,m)]}case 12:{const d=Math.round((v.startLineNumber+v.endLineNumber)/2),m=_.model.getLineFirstNonWhitespaceColumn(d);return[this._moveToModelPosition(_,a[0],c,d,m)]}case 14:{const d=[];for(let m=0,I=a.length;m<I;m++)d[m]=this.findPositionInViewportIfOutside(_,a[m],l,c);return d}default:return null}}static findPositionInViewportIfOutside(_,a,p,c){const n=a.viewState.position.lineNumber;if(p.startLineNumber<=n&&n<=p.endLineNumber-1)return new s.Vi(a.modelState,a.viewState);{let l;l=n>p.endLineNumber-1?p.endLineNumber-1:n<p.startLineNumber?p.startLineNumber:n;const v=L.o.vertical(_.cursorConfig,_,n,a.viewState.position.column,a.viewState.leftoverVisibleColumns,l,!1);return s.Vi.fromViewState(a.viewState.move(c,v.lineNumber,v.column,v.leftoverVisibleColumns))}}static _firstLineNumberInRange(_,a,p){let c=a.startLineNumber;return a.startColumn!==_.getLineMinColumn(c)&&c++,Math.min(a.endLineNumber,c+p-1)}static _lastLineNumberInRange(_,a,p){let c=a.startLineNumber;return a.startColumn!==_.getLineMinColumn(c)&&c++,Math.max(c,a.endLineNumber-p+1)}static _moveLeft(_,a,p,c){return a.map(n=>s.Vi.fromViewState(L.o.moveLeft(_.cursorConfig,_,n.viewState,p,c)))}static _moveHalfLineLeft(_,a,p){const c=[];for(let n=0,l=a.length;n<l;n++){const v=a[n],m=Math.round(_.getLineContent(v.viewState.position.lineNumber).length/2);c[n]=s.Vi.fromViewState(L.o.moveLeft(_.cursorConfig,_,v.viewState,p,m))}return c}static _moveRight(_,a,p,c){return a.map(n=>s.Vi.fromViewState(L.o.moveRight(_.cursorConfig,_,n.viewState,p,c)))}static _moveHalfLineRight(_,a,p){const c=[];for(let n=0,l=a.length;n<l;n++){const v=a[n],m=Math.round(_.getLineContent(v.viewState.position.lineNumber).length/2);c[n]=s.Vi.fromViewState(L.o.moveRight(_.cursorConfig,_,v.viewState,p,m))}return c}static _moveDownByViewLines(_,a,p,c){const n=[];for(let l=0,v=a.length;l<v;l++)n[l]=s.Vi.fromViewState(L.o.moveDown(_.cursorConfig,_,a[l].viewState,p,c));return n}static _moveDownByModelLines(_,a,p,c){const n=[];for(let l=0,v=a.length;l<v;l++)n[l]=s.Vi.fromModelState(L.o.moveDown(_.cursorConfig,_.model,a[l].modelState,p,c));return n}static _moveUpByViewLines(_,a,p,c){const n=[];for(let l=0,v=a.length;l<v;l++)n[l]=s.Vi.fromViewState(L.o.moveUp(_.cursorConfig,_,a[l].viewState,p,c));return n}static _moveUpByModelLines(_,a,p,c){const n=[];for(let l=0,v=a.length;l<v;l++)n[l]=s.Vi.fromModelState(L.o.moveUp(_.cursorConfig,_.model,a[l].modelState,p,c));return n}static _moveToViewPosition(_,a,p,c,n){return s.Vi.fromViewState(a.viewState.move(p,c,n,0))}static _moveToModelPosition(_,a,p,c,n){return s.Vi.fromModelState(a.modelState.move(p,c,n,0))}static _moveToViewMinColumn(_,a,p){const c=[];for(let n=0,l=a.length;n<l;n++){const v=a[n],d=v.viewState.position.lineNumber,m=_.getLineMinColumn(d);c[n]=this._moveToViewPosition(_,v,p,d,m)}return c}static _moveToViewFirstNonWhitespaceColumn(_,a,p){const c=[];for(let n=0,l=a.length;n<l;n++){const v=a[n],d=v.viewState.position.lineNumber,m=_.getLineFirstNonWhitespaceColumn(d);c[n]=this._moveToViewPosition(_,v,p,d,m)}return c}static _moveToViewCenterColumn(_,a,p){const c=[];for(let n=0,l=a.length;n<l;n++){const v=a[n],d=v.viewState.position.lineNumber,m=Math.round((_.getLineMaxColumn(d)+_.getLineMinColumn(d))/2);c[n]=this._moveToViewPosition(_,v,p,d,m)}return c}static _moveToViewMaxColumn(_,a,p){const c=[];for(let n=0,l=a.length;n<l;n++){const v=a[n],d=v.viewState.position.lineNumber,m=_.getLineMaxColumn(d);c[n]=this._moveToViewPosition(_,v,p,d,m)}return c}static _moveToViewLastNonWhitespaceColumn(_,a,p){const c=[];for(let n=0,l=a.length;n<l;n++){const v=a[n],d=v.viewState.position.lineNumber,m=_.getLineLastNonWhitespaceColumn(d);c[n]=this._moveToViewPosition(_,v,p,d,m)}return c}}(N=k||(k={})).description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(p){if(!f.Kn(p))return!1;const c=p;return!(!f.HD(c.to)||!f.o8(c.select)&&!f.jn(c.select)||!f.o8(c.by)&&!f.HD(c.by)||!f.o8(c.value)&&!f.hj(c.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},N.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},N.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},N.parse=function a(p){if(!p.to)return null;let c;switch(p.to){case N.RawDirection.Left:c=0;break;case N.RawDirection.Right:c=1;break;case N.RawDirection.Up:c=2;break;case N.RawDirection.Down:c=3;break;case N.RawDirection.PrevBlankLine:c=4;break;case N.RawDirection.NextBlankLine:c=5;break;case N.RawDirection.WrappedLineStart:c=6;break;case N.RawDirection.WrappedLineFirstNonWhitespaceCharacter:c=7;break;case N.RawDirection.WrappedLineColumnCenter:c=8;break;case N.RawDirection.WrappedLineEnd:c=9;break;case N.RawDirection.WrappedLineLastNonWhitespaceCharacter:c=10;break;case N.RawDirection.ViewPortTop:c=11;break;case N.RawDirection.ViewPortBottom:c=13;break;case N.RawDirection.ViewPortCenter:c=12;break;case N.RawDirection.ViewPortIfOutside:c=14;break;default:return null}let n=0;switch(p.by){case N.RawUnit.Line:n=1;break;case N.RawUnit.WrappedLine:n=2;break;case N.RawUnit.Character:n=3;break;case N.RawUnit.HalfLine:n=4}return{direction:c,unit:n,select:!!p.select,value:p.value||1}}},96696:(at,ue,e)=>{"use strict";e.d(ue,{o:()=>k});var f=e(95062),s=e(74826),L=e(94220),M=e(68451),u=e(93059),P=e(27078);class A{constructor(_,a,p){this._cursorPositionBrand=void 0,this.lineNumber=_,this.column=a,this.leftoverVisibleColumns=p}}class k{static leftPosition(_,a){if(a.column>_.getLineMinColumn(a.lineNumber))return a.delta(void 0,-u.HO(_.getLineContent(a.lineNumber),a.column-1));if(a.lineNumber>1){const p=a.lineNumber-1;return new L.L(p,_.getLineMaxColumn(p))}return a}static leftPositionAtomicSoftTabs(_,a,p){if(a.column<=_.getLineIndentColumn(a.lineNumber)){const c=_.getLineMinColumn(a.lineNumber),n=_.getLineContent(a.lineNumber),l=P.l.atomicPosition(n,a.column-1,p,0);if(-1!==l&&l+1>=c)return new L.L(a.lineNumber,l+1)}return this.leftPosition(_,a)}static left(_,a,p){const c=_.stickyTabStops?k.leftPositionAtomicSoftTabs(a,p,_.tabSize):k.leftPosition(a,p);return new A(c.lineNumber,c.column,0)}static moveLeft(_,a,p,c,n){let l,v;if(p.hasSelection()&&!c)l=p.selection.startLineNumber,v=p.selection.startColumn;else{const d=p.position.delta(void 0,-(n-1)),m=a.normalizePosition(k.clipPositionColumn(d,a),0),I=k.left(_,a,m);l=I.lineNumber,v=I.column}return p.move(c,l,v,0)}static clipPositionColumn(_,a){return new L.L(_.lineNumber,k.clipRange(_.column,a.getLineMinColumn(_.lineNumber),a.getLineMaxColumn(_.lineNumber)))}static clipRange(_,a,p){return _<a?a:_>p?p:_}static rightPosition(_,a,p){return p<_.getLineMaxColumn(a)?p+=u.vH(_.getLineContent(a),p-1):a<_.getLineCount()&&(p=_.getLineMinColumn(a+=1)),new L.L(a,p)}static rightPositionAtomicSoftTabs(_,a,p,c,n){if(p<_.getLineIndentColumn(a)){const l=_.getLineContent(a),v=P.l.atomicPosition(l,p-1,c,1);if(-1!==v)return new L.L(a,v+1)}return this.rightPosition(_,a,p)}static right(_,a,p){const c=_.stickyTabStops?k.rightPositionAtomicSoftTabs(a,p.lineNumber,p.column,_.tabSize,_.indentSize):k.rightPosition(a,p.lineNumber,p.column);return new A(c.lineNumber,c.column,0)}static moveRight(_,a,p,c,n){let l,v;if(p.hasSelection()&&!c)l=p.selection.endLineNumber,v=p.selection.endColumn;else{const d=p.position.delta(void 0,n-1),m=a.normalizePosition(k.clipPositionColumn(d,a),1),I=k.right(_,a,m);l=I.lineNumber,v=I.column}return p.move(c,l,v,0)}static vertical(_,a,p,c,n,l,v,d){const m=s.i.visibleColumnFromColumn(a.getLineContent(p),c,_.tabSize)+n,I=a.getLineCount(),y=1===p&&1===c,S=p===I&&c===a.getLineMaxColumn(p),b=l<p?y:S;if((p=l)<1?(p=1,c=v?a.getLineMinColumn(p):Math.min(a.getLineMaxColumn(p),c)):p>I?(p=I,c=v?a.getLineMaxColumn(p):Math.min(a.getLineMaxColumn(p),c)):c=_.columnFromVisibleColumn(a,p,m),n=b?0:m-s.i.visibleColumnFromColumn(a.getLineContent(p),c,_.tabSize),void 0!==d){const x=new L.L(p,c),T=a.normalizePosition(x,d);n+=c-T.column,p=T.lineNumber,c=T.column}return new A(p,c,n)}static down(_,a,p,c,n,l,v){return this.vertical(_,a,p,c,n,p+l,v,4)}static moveDown(_,a,p,c,n){let l,v;p.hasSelection()&&!c?(l=p.selection.endLineNumber,v=p.selection.endColumn):(l=p.position.lineNumber,v=p.position.column);const d=k.down(_,a,l,v,p.leftoverVisibleColumns,n,!0);return p.move(c,d.lineNumber,d.column,d.leftoverVisibleColumns)}static translateDown(_,a,p){const c=p.selection,n=k.down(_,a,c.selectionStartLineNumber,c.selectionStartColumn,p.selectionStartLeftoverVisibleColumns,1,!1),l=k.down(_,a,c.positionLineNumber,c.positionColumn,p.leftoverVisibleColumns,1,!1);return new f.rS(new M.e(n.lineNumber,n.column,n.lineNumber,n.column),n.leftoverVisibleColumns,new L.L(l.lineNumber,l.column),l.leftoverVisibleColumns)}static up(_,a,p,c,n,l,v){return this.vertical(_,a,p,c,n,p-l,v,3)}static moveUp(_,a,p,c,n){let l,v;p.hasSelection()&&!c?(l=p.selection.startLineNumber,v=p.selection.startColumn):(l=p.position.lineNumber,v=p.position.column);const d=k.up(_,a,l,v,p.leftoverVisibleColumns,n,!0);return p.move(c,d.lineNumber,d.column,d.leftoverVisibleColumns)}static translateUp(_,a,p){const c=p.selection,n=k.up(_,a,c.selectionStartLineNumber,c.selectionStartColumn,p.selectionStartLeftoverVisibleColumns,1,!1),l=k.up(_,a,c.positionLineNumber,c.positionColumn,p.leftoverVisibleColumns,1,!1);return new f.rS(new M.e(n.lineNumber,n.column,n.lineNumber,n.column),n.leftoverVisibleColumns,new L.L(l.lineNumber,l.column),l.leftoverVisibleColumns)}static _isBlankLine(_,a){return 0===_.getLineFirstNonWhitespaceColumn(a)}static moveToPrevBlankLine(_,a,p,c){let n=p.position.lineNumber;for(;n>1&&this._isBlankLine(a,n);)n--;for(;n>1&&!this._isBlankLine(a,n);)n--;return p.move(c,n,a.getLineMinColumn(n),0)}static moveToNextBlankLine(_,a,p,c){const n=a.getLineCount();let l=p.position.lineNumber;for(;l<n&&this._isBlankLine(a,l);)l++;for(;l<n&&!this._isBlankLine(a,l);)l++;return p.move(c,l,a.getLineMinColumn(l),0)}static moveToBeginningOfLine(_,a,p,c){const n=p.position.lineNumber,l=a.getLineMinColumn(n),v=a.getLineFirstNonWhitespaceColumn(n)||l;let d;return d=p.position.column===v?l:v,p.move(c,n,d,0)}static moveToEndOfLine(_,a,p,c,n){const l=p.position.lineNumber,v=a.getLineMaxColumn(l);return p.move(c,l,v,n?1073741824-v:0)}static moveToBeginningOfBuffer(_,a,p,c){return p.move(c,1,1,0)}static moveToEndOfBuffer(_,a,p,c){const n=a.getLineCount(),l=a.getLineMaxColumn(n);return p.move(c,n,l,0)}}},36786:(at,ue,e)=>{"use strict";e.d(ue,{Nu:()=>I,u6:()=>d,g_:()=>m});var f=e(53663),s=e(93059),L=e(85753),M=e(81050),u=e(68451),P=e(43210);class A{constructor(R,Q,Z){this._range=R,this._charBeforeSelection=Q,this._charAfterSelection=Z}getEditOperations(R,Q){Q.addTrackedEditOperation(new u.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),Q.addTrackedEditOperation(new u.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(R,Q){const Z=Q.getInverseEditOperations(),G=Z[0].range,F=Z[1].range;return new P.Y(G.endLineNumber,G.endColumn,F.endLineNumber,F.endColumn-this._charAfterSelection.length)}}class k{constructor(R,Q,Z){this._position=R,this._text=Q,this._charAfter=Z}getEditOperations(R,Q){Q.addTrackedEditOperation(new u.e(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(R,Q){const G=Q.getInverseEditOperations()[0].range;return new P.Y(G.endLineNumber,G.startColumn,G.endLineNumber,G.endColumn-this._charAfter.length)}}var N=e(95062),_=e(30681),a=e(94220),p=e(5526),c=e(23924),n=e(18555),l=e(88030),v=e(42641);class d{static indent(R,Q,Z){if(null===Q||null===Z)return[];const G=[];for(let F=0,W=Z.length;F<W;F++)G[F]=new M.U(Z[F],{isUnshift:!1,tabSize:R.tabSize,indentSize:R.indentSize,insertSpaces:R.insertSpaces,useTabStops:R.useTabStops,autoIndent:R.autoIndent},R.languageConfigurationService);return G}static outdent(R,Q,Z){const G=[];for(let F=0,W=Z.length;F<W;F++)G[F]=new M.U(Z[F],{isUnshift:!0,tabSize:R.tabSize,indentSize:R.indentSize,insertSpaces:R.insertSpaces,useTabStops:R.useTabStops,autoIndent:R.autoIndent},R.languageConfigurationService);return G}static shiftIndent(R,Q,Z){return M.U.shiftIndent(Q,Q.length+(Z=Z||1),R.tabSize,R.indentSize,R.insertSpaces)}static unshiftIndent(R,Q,Z){return M.U.unshiftIndent(Q,Q.length+(Z=Z||1),R.tabSize,R.indentSize,R.insertSpaces)}static _distributedPaste(R,Q,Z,G){const F=[];for(let W=0,B=Z.length;W<B;W++)F[W]=new L.T4(Z[W],G[W]);return new N.Tp(0,F,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(R,Q,Z,G,F){const W=[];for(let B=0,z=Z.length;B<z;B++){const j=Z[B],Y=j.getPosition();if(F&&!j.isEmpty()&&(F=!1),F&&G.indexOf("\n")!==G.length-1&&(F=!1),F){const E=new u.e(Y.lineNumber,1,Y.lineNumber,1);W[B]=new L.hP(E,G,j,!0)}else W[B]=new L.T4(j,G)}return new N.Tp(0,W,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(R,Q,Z,G,F){if(G||1===Q.length)return null;if(F&&F.length===Q.length)return F;if("spread"===R.multiCursorPaste){10===Z.charCodeAt(Z.length-1)&&(Z=Z.substr(0,Z.length-1)),13===Z.charCodeAt(Z.length-1)&&(Z=Z.substr(0,Z.length-1));const W=s.uq(Z);if(W.length===Q.length)return W}return null}static paste(R,Q,Z,G,F,W){const B=this._distributePasteToCursors(R,Z,G,F,W);return B?(Z=Z.sort(u.e.compareRangesUsingStarts),this._distributedPaste(R,Q,Z,B)):this._simplePaste(R,Q,Z,G,F)}static _goodIndentForLine(R,Q,Z){let G=null,F="";const W=(0,l.r7)(R.autoIndent,Q,Z,!1,R.languageConfigurationService);if(W)G=W.action,F=W.indentation;else if(Z>1){let B;for(B=Z-1;B>=1;B--){const Y=Q.getLineContent(B);if(s.ow(Y)>=0)break}if(B<1)return null;const z=Q.getLineMaxColumn(B),j=(0,v.A)(R.autoIndent,Q,new u.e(B,z,B,z),R.languageConfigurationService);j&&(F=j.indentation+j.appendText)}return G&&(G===p.wU.Indent&&(F=d.shiftIndent(R,F)),G===p.wU.Outdent&&(F=d.unshiftIndent(R,F)),F=R.normalizeIndentation(F)),F||null}static _replaceJumpToNextIndent(R,Q,Z,G){let F="";const W=Z.getStartPosition();if(R.insertSpaces){const B=R.visibleColumnFromColumn(Q,W),z=R.indentSize,j=z-B%z;for(let Y=0;Y<j;Y++)F+=" "}else F="\t";return new L.T4(Z,F,G)}static tab(R,Q,Z){const G=[];for(let F=0,W=Z.length;F<W;F++){const B=Z[F];if(B.isEmpty()){const z=Q.getLineContent(B.startLineNumber);if(/^\s*$/.test(z)&&Q.tokenization.isCheapToTokenize(B.startLineNumber)){let j=this._goodIndentForLine(R,Q,B.startLineNumber);j=j||"\t";const Y=R.normalizeIndentation(j);if(!z.startsWith(Y)){G[F]=new L.T4(new u.e(B.startLineNumber,1,B.startLineNumber,z.length+1),Y,!0);continue}}G[F]=this._replaceJumpToNextIndent(R,Q,B,!0)}else{if(B.startLineNumber===B.endLineNumber){const z=Q.getLineMaxColumn(B.startLineNumber);if(1!==B.startColumn||B.endColumn!==z){G[F]=this._replaceJumpToNextIndent(R,Q,B,!1);continue}}G[F]=new M.U(B,{isUnshift:!1,tabSize:R.tabSize,indentSize:R.indentSize,insertSpaces:R.insertSpaces,useTabStops:R.useTabStops,autoIndent:R.autoIndent},R.languageConfigurationService)}}return G}static compositionType(R,Q,Z,G,F,W,B,z){const j=G.map(Y=>this._compositionType(Z,Y,F,W,B,z));return new N.Tp(4,j,{shouldPushStackElementBefore:S(R,4),shouldPushStackElementAfter:!1})}static _compositionType(R,Q,Z,G,F,W){if(!Q.isEmpty())return null;const B=Q.getPosition(),z=Math.max(1,B.column-G),j=Math.min(R.getLineMaxColumn(B.lineNumber),B.column+F),Y=new u.e(B.lineNumber,z,B.lineNumber,j);return R.getValueInRange(Y)===Z&&0===W?null:new L.Uo(Y,Z,0,W)}static _typeCommand(R,Q,Z){return Z?new L.Sj(R,Q,!0):new L.T4(R,Q,!0)}static _enter(R,Q,Z,G){if(0===R.autoIndent)return d._typeCommand(G,"\n",Z);if(!Q.tokenization.isCheapToTokenize(G.getStartPosition().lineNumber)||1===R.autoIndent){const z=Q.getLineContent(G.startLineNumber),j=s.V8(z).substring(0,G.startColumn-1);return d._typeCommand(G,"\n"+R.normalizeIndentation(j),Z)}const F=(0,v.A)(R.autoIndent,Q,G,R.languageConfigurationService);if(F){if(F.indentAction===p.wU.None)return d._typeCommand(G,"\n"+R.normalizeIndentation(F.indentation+F.appendText),Z);if(F.indentAction===p.wU.Indent)return d._typeCommand(G,"\n"+R.normalizeIndentation(F.indentation+F.appendText),Z);if(F.indentAction===p.wU.IndentOutdent){const z=R.normalizeIndentation(F.indentation),j=R.normalizeIndentation(F.indentation+F.appendText),Y="\n"+j+"\n"+z;return Z?new L.Sj(G,Y,!0):new L.Uo(G,Y,-1,j.length-z.length,!0)}if(F.indentAction===p.wU.Outdent){const z=d.unshiftIndent(R,F.indentation);return d._typeCommand(G,"\n"+R.normalizeIndentation(z+F.appendText),Z)}}const W=Q.getLineContent(G.startLineNumber),B=s.V8(W).substring(0,G.startColumn-1);if(R.autoIndent>=4){const z=(0,l.UF)(R.autoIndent,Q,G,{unshiftIndent:j=>d.unshiftIndent(R,j),shiftIndent:j=>d.shiftIndent(R,j),normalizeIndentation:j=>R.normalizeIndentation(j)},R.languageConfigurationService);if(z){let j=R.visibleColumnFromColumn(Q,G.getEndPosition());const Y=G.endColumn,E=Q.getLineContent(G.endLineNumber),V=s.LC(E);if(G=G.setEndPosition(G.endLineNumber,V>=0?Math.max(G.endColumn,V+1):Q.getLineMaxColumn(G.endLineNumber)),Z)return new L.Sj(G,"\n"+R.normalizeIndentation(z.afterEnter),!0);{let $=0;return Y<=V+1&&(R.insertSpaces||(j=Math.ceil(j/R.indentSize)),$=Math.min(j+1-R.normalizeIndentation(z.afterEnter).length-1,0)),new L.Uo(G,"\n"+R.normalizeIndentation(z.afterEnter),0,$,!0)}}}return d._typeCommand(G,"\n"+R.normalizeIndentation(B),Z)}static _isAutoIndentType(R,Q,Z){if(R.autoIndent<4)return!1;for(let G=0,F=Z.length;G<F;G++)if(!Q.tokenization.isCheapToTokenize(Z[G].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(R,Q,Z,G){const F=(0,c.u0)(Q,Z.startLineNumber,Z.startColumn),W=(0,l.$9)(R.autoIndent,Q,Z,G,{shiftIndent:B=>d.shiftIndent(R,B),unshiftIndent:B=>d.unshiftIndent(R,B)},R.languageConfigurationService);if(null===W)return null;if(W!==R.normalizeIndentation(F)){const B=Q.getLineFirstNonWhitespaceColumn(Z.startLineNumber);return d._typeCommand(new u.e(Z.startLineNumber,1,Z.endLineNumber,Z.endColumn),0===B?R.normalizeIndentation(W)+G:R.normalizeIndentation(W)+Q.getLineContent(Z.startLineNumber).substring(B-1,Z.startColumn-1)+G,!1)}return null}static _isAutoClosingOvertype(R,Q,Z,G,F){if("never"===R.autoClosingOvertype||!R.autoClosingPairs.autoClosingPairsCloseSingleChar.has(F))return!1;for(let W=0,B=Z.length;W<B;W++){const z=Z[W];if(!z.isEmpty())return!1;const j=z.getPosition(),Y=Q.getLineContent(j.lineNumber);if(Y.charAt(j.column-1)!==F)return!1;const V=(0,N.LN)(F);if(92===(j.column>2?Y.charCodeAt(j.column-2):0)&&V)return!1;if("auto"===R.autoClosingOvertype){let te=!1;for(let w=0,fe=G.length;w<fe;w++){const be=G[w];if(j.lineNumber===be.startLineNumber&&j.column===be.startColumn){te=!0;break}}if(!te)return!1}}return!0}static _runAutoClosingOvertype(R,Q,Z,G,F){const W=[];for(let B=0,z=G.length;B<z;B++){const Y=G[B].getPosition(),E=new u.e(Y.lineNumber,Y.column,Y.lineNumber,Y.column+1);W[B]=new L.T4(E,F)}return new N.Tp(4,W,{shouldPushStackElementBefore:S(R,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(R,Q){const Z=Q.charAt(0),G=R.autoClosingPairs.autoClosingPairsOpenByStart.get(Z)||[],F=R.autoClosingPairs.autoClosingPairsCloseByStart.get(Z)||[],W=G.some(z=>Q.startsWith(z.open)),B=F.some(z=>Q.startsWith(z.close));return!W&&B}static _findAutoClosingPairOpen(R,Q,Z,G){const F=R.autoClosingPairs.autoClosingPairsOpenByEnd.get(G);if(!F)return null;let W=null;for(const B of F)if(null===W||B.open.length>W.open.length){let z=!0;for(const j of Z)if(Q.getValueInRange(new u.e(j.lineNumber,j.column-B.open.length+1,j.lineNumber,j.column))+G!==B.open){z=!1;break}z&&(W=B)}return W}static _findContainedAutoClosingPair(R,Q){if(Q.open.length<=1)return null;const Z=Q.close.charAt(Q.close.length-1),G=R.autoClosingPairs.autoClosingPairsCloseByEnd.get(Z)||[];let F=null;for(const W of G)W.open!==Q.open&&Q.open.includes(W.open)&&Q.close.endsWith(W.close)&&(!F||W.open.length>F.open.length)&&(F=W);return F}static _getAutoClosingPairClose(R,Q,Z,G,F){const W=(0,N.LN)(G),B=W?R.autoClosingQuotes:R.autoClosingBrackets,z=W?R.shouldAutoCloseBefore.quote:R.shouldAutoCloseBefore.bracket;if("never"===B)return null;for(const te of Z)if(!te.isEmpty())return null;const j=Z.map(te=>{const w=te.getPosition();return F?{lineNumber:w.lineNumber,beforeColumn:w.column-G.length,afterColumn:w.column}:{lineNumber:w.lineNumber,beforeColumn:w.column,afterColumn:w.column}}),Y=this._findAutoClosingPairOpen(R,Q,j.map(te=>new a.L(te.lineNumber,te.beforeColumn)),G);if(!Y)return null;const E=this._findContainedAutoClosingPair(R,Y),V=E?E.close:"";let $=!0;for(const te of j){const{lineNumber:w,beforeColumn:fe,afterColumn:be}=te,me=Q.getLineContent(w),Ie=me.substring(0,fe-1),ee=me.substring(be-1);if(ee.startsWith(V)||($=!1),ee.length>0){const ge=ee.charAt(0);if(!d._isBeforeClosingBrace(R,ee)&&!z(ge))return null}if(1===Y.open.length&&("'"===G||'"'===G)&&"always"!==B){const ge=(0,_.u)(R.wordSeparators);if(Ie.length>0){const re=Ie.charCodeAt(Ie.length-1);if(0===ge.get(re))return null}}if(!Q.tokenization.isCheapToTokenize(w))return null;Q.tokenization.forceTokenization(w);const ce=Q.tokenization.getLineTokens(w),he=(0,n.wH)(ce,fe-1);if(!Y.shouldAutoClose(he,fe-he.firstCharOffset))return null;const de=Y.findNeutralCharacter();if(de){const ge=Q.tokenization.getTokenTypeIfInsertingCharacter(w,fe,de);if(!Y.isOK(ge))return null}}return $?Y.close.substring(0,Y.close.length-V.length):Y.close}static _runAutoClosingOpenCharType(R,Q,Z,G,F,W,B){const z=[];for(let j=0,Y=G.length;j<Y;j++)z[j]=new m(G[j],F,!W,B);return new N.Tp(4,z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(R,Q){return(0,N.LN)(Q)?"quotes"===R.autoSurround||"languageDefined"===R.autoSurround:"brackets"===R.autoSurround||"languageDefined"===R.autoSurround}static _isSurroundSelectionType(R,Q,Z,G){if(!d._shouldSurroundChar(R,G)||!R.surroundingPairs.hasOwnProperty(G))return!1;const F=(0,N.LN)(G);for(const W of Z){if(W.isEmpty())return!1;let B=!0;for(let z=W.startLineNumber;z<=W.endLineNumber;z++){const j=Q.getLineContent(z),V=j.substring(z===W.startLineNumber?W.startColumn-1:0,z===W.endLineNumber?W.endColumn-1:j.length);if(/[^ \t]/.test(V)){B=!1;break}}if(B)return!1;if(F&&W.startLineNumber===W.endLineNumber&&W.startColumn+1===W.endColumn){const z=Q.getValueInRange(W);if((0,N.LN)(z))return!1}}return!0}static _runSurroundSelectionType(R,Q,Z,G,F){const W=[];for(let B=0,z=G.length;B<z;B++)W[B]=new A(G[B],F,Q.surroundingPairs[F]);return new N.Tp(0,W,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(R,Q,Z){return!(1!==Z.length||!Q.tokenization.isCheapToTokenize(Z[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(R,Q,Z,G,F){if(!Q.electricChars.hasOwnProperty(F)||!G.isEmpty())return null;const W=G.getPosition();Z.tokenization.forceTokenization(W.lineNumber);const B=Z.tokenization.getLineTokens(W.lineNumber);let z;try{z=Q.onElectricCharacter(F,B,W.column)}catch(j){return(0,f.dL)(j),null}if(!z)return null;if(z.matchOpenBracket){const j=(B.getLineContent()+F).lastIndexOf(z.matchOpenBracket)+1,Y=Z.bracketPairs.findMatchingBracketUp(z.matchOpenBracket,{lineNumber:W.lineNumber,column:j},500);if(Y){if(Y.startLineNumber===W.lineNumber)return null;const E=Z.getLineContent(Y.startLineNumber),V=s.V8(E),$=Q.normalizeIndentation(V),te=Z.getLineContent(W.lineNumber),w=Z.getLineFirstNonWhitespaceColumn(W.lineNumber)||W.column,be=$+te.substring(w-1,W.column-1)+F,me=new u.e(W.lineNumber,1,W.lineNumber,W.column),Ie=new L.T4(me,be);return new N.Tp(y(be,R),[Ie],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(R,Q,Z,G,F,W){if(!G)return null;let B=null;for(const E of G)if(null===B)B=E.insertedText;else if(B!==E.insertedText)return null;if(!B||1!==B.length)return null;const z=B;let j=!1;for(const E of G)if(0!==E.deletedText.length){j=!0;break}if(j){if(!d._shouldSurroundChar(Q,z)||!Q.surroundingPairs.hasOwnProperty(z))return null;const E=(0,N.LN)(z);for(const te of G)if(0!==te.deletedSelectionStart||te.deletedSelectionEnd!==te.deletedText.length||/^[ \t]+$/.test(te.deletedText)||E&&(0,N.LN)(te.deletedText))return null;const V=[];for(const te of F){if(!te.isEmpty())return null;V.push(te.getPosition())}if(V.length!==G.length)return null;const $=[];for(let te=0,w=V.length;te<w;te++)$.push(new k(V[te],G[te].deletedText,z));return new N.Tp(4,$,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(Q,Z,F,W,z)){const E=F.map(V=>new L.T4(new u.e(V.positionLineNumber,V.positionColumn,V.positionLineNumber,V.positionColumn+1),"",!1));return new N.Tp(4,E,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const Y=this._getAutoClosingPairClose(Q,Z,F,z,!0);return null!==Y?this._runAutoClosingOpenCharType(R,Q,Z,F,z,!0,Y):null}static typeWithInterceptors(R,Q,Z,G,F,W,B){if(!R&&"\n"===B){const Y=[];for(let E=0,V=F.length;E<V;E++)Y[E]=d._enter(Z,G,!1,F[E]);return new N.Tp(4,Y,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!R&&this._isAutoIndentType(Z,G,F)){const Y=[];let E=!1;for(let V=0,$=F.length;V<$;V++)if(Y[V]=this._runAutoIndentType(Z,G,F[V],B),!Y[V]){E=!0;break}if(!E)return new N.Tp(4,Y,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(Z,G,F,W,B))return this._runAutoClosingOvertype(Q,Z,G,F,B);if(!R){const Y=this._getAutoClosingPairClose(Z,G,F,B,!1);if(Y)return this._runAutoClosingOpenCharType(Q,Z,G,F,B,!1,Y)}if(!R&&this._isSurroundSelectionType(Z,G,F,B))return this._runSurroundSelectionType(Q,Z,G,F,B);if(!R&&this._isTypeInterceptorElectricChar(Z,G,F)){const Y=this._typeInterceptorElectricChar(Q,Z,G,F[0],B);if(Y)return Y}const z=[];for(let Y=0,E=F.length;Y<E;Y++)z[Y]=new L.T4(F[Y],B);const j=y(B,Q);return new N.Tp(j,z,{shouldPushStackElementBefore:S(Q,j),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(R,Q,Z,G,F){const W=[];for(let z=0,j=G.length;z<j;z++)W[z]=new L.T4(G[z],F);const B=y(F,R);return new N.Tp(B,W,{shouldPushStackElementBefore:S(R,B),shouldPushStackElementAfter:!1})}static lineInsertBefore(R,Q,Z){if(null===Q||null===Z)return[];const G=[];for(let F=0,W=Z.length;F<W;F++){let B=Z[F].positionLineNumber;if(1===B)G[F]=new L.Sj(new u.e(1,1,1,1),"\n");else{B--;const z=Q.getLineMaxColumn(B);G[F]=this._enter(R,Q,!1,new u.e(B,z,B,z))}}return G}static lineInsertAfter(R,Q,Z){if(null===Q||null===Z)return[];const G=[];for(let F=0,W=Z.length;F<W;F++){const B=Z[F].positionLineNumber,z=Q.getLineMaxColumn(B);G[F]=this._enter(R,Q,!1,new u.e(B,z,B,z))}return G}static lineBreakInsert(R,Q,Z){const G=[];for(let F=0,W=Z.length;F<W;F++)G[F]=this._enter(R,Q,!0,Z[F]);return G}}class m extends L.Uo{constructor(R,Q,Z,G){super(R,(Z?Q:"")+G,0,-G.length),this._openCharacter=Q,this._closeCharacter=G,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(R,Q){const G=Q.getInverseEditOperations()[0].range;return this.closeCharacterRange=new u.e(G.startLineNumber,G.endColumn-this._closeCharacter.length,G.endLineNumber,G.endColumn),this.enclosingRange=new u.e(G.startLineNumber,G.endColumn-this._openCharacter.length-this._closeCharacter.length,G.endLineNumber,G.endColumn),super.computeCursorState(R,Q)}}class I{constructor(R,Q,Z,G,F,W){this.deletedText=R,this.deletedSelectionStart=Q,this.deletedSelectionEnd=Z,this.insertedText=G,this.insertedSelectionStart=F,this.insertedSelectionEnd=W}}function y(T,R){return" "===T?5===R||6===R?6:5:4}function S(T,R){return!(!x(T)||x(R))||5!==T&&b(T)!==b(R)}function b(T){return 6===T||5===T?"space":T}function x(T){return 4===T||5===T||6===T}},97616:(at,ue,e)=>{"use strict";e.d(ue,{L:()=>k,w:()=>A});var f=e(93059),s=e(95062),L=e(72525),M=e(30681),u=e(94220),P=e(68451);class A{static _createWord(a,p,c,n,l){return{start:n,end:l,wordType:p,nextCharClass:c}}static _findPreviousWordOnLine(a,p,c){const n=p.getLineContent(c.lineNumber);return this._doFindPreviousWordOnLine(n,a,c)}static _doFindPreviousWordOnLine(a,p,c){let n=0;for(let l=c.column-2;l>=0;l--){const v=a.charCodeAt(l),d=p.get(v);if(0===d){if(2===n)return this._createWord(a,n,d,l+1,this._findEndOfWord(a,p,n,l+1));n=1}else if(2===d){if(1===n)return this._createWord(a,n,d,l+1,this._findEndOfWord(a,p,n,l+1));n=2}else if(1===d&&0!==n)return this._createWord(a,n,d,l+1,this._findEndOfWord(a,p,n,l+1))}return 0!==n?this._createWord(a,n,1,0,this._findEndOfWord(a,p,n,0)):null}static _findEndOfWord(a,p,c,n){const l=a.length;for(let v=n;v<l;v++){const d=a.charCodeAt(v),m=p.get(d);if(1===m||1===c&&2===m||2===c&&0===m)return v}return l}static _findNextWordOnLine(a,p,c){const n=p.getLineContent(c.lineNumber);return this._doFindNextWordOnLine(n,a,c)}static _doFindNextWordOnLine(a,p,c){let n=0;const l=a.length;for(let v=c.column-1;v<l;v++){const d=a.charCodeAt(v),m=p.get(d);if(0===m){if(2===n)return this._createWord(a,n,m,this._findStartOfWord(a,p,n,v-1),v);n=1}else if(2===m){if(1===n)return this._createWord(a,n,m,this._findStartOfWord(a,p,n,v-1),v);n=2}else if(1===m&&0!==n)return this._createWord(a,n,m,this._findStartOfWord(a,p,n,v-1),v)}return 0!==n?this._createWord(a,n,1,this._findStartOfWord(a,p,n,l-1),l):null}static _findStartOfWord(a,p,c,n){for(let l=n;l>=0;l--){const v=a.charCodeAt(l),d=p.get(v);if(1===d||1===c&&2===d||2===c&&0===d)return l+1}return 0}static moveWordLeft(a,p,c,n){let l=c.lineNumber,v=c.column;1===v&&l>1&&(l-=1,v=p.getLineMaxColumn(l));let d=A._findPreviousWordOnLine(a,p,new u.L(l,v));if(0===n)return new u.L(l,d?d.start+1:1);if(1===n)return d&&2===d.wordType&&d.end-d.start==1&&0===d.nextCharClass&&(d=A._findPreviousWordOnLine(a,p,new u.L(l,d.start+1))),new u.L(l,d?d.start+1:1);if(3===n){for(;d&&2===d.wordType;)d=A._findPreviousWordOnLine(a,p,new u.L(l,d.start+1));return new u.L(l,d?d.start+1:1)}return d&&v<=d.end+1&&(d=A._findPreviousWordOnLine(a,p,new u.L(l,d.start+1))),new u.L(l,d?d.end+1:1)}static _moveWordPartLeft(a,p){const c=p.lineNumber,n=a.getLineMaxColumn(c);if(1===p.column)return c>1?new u.L(c-1,a.getLineMaxColumn(c-1)):p;const l=a.getLineContent(c);for(let v=p.column-1;v>1;v--){const d=l.charCodeAt(v-2),m=l.charCodeAt(v-1);if(95===d&&95!==m)return new u.L(c,v);if((f.mK(d)||f.T5(d))&&f.df(m))return new u.L(c,v);if(f.df(d)&&f.df(m)&&v+1<n){const I=l.charCodeAt(v);if(f.mK(I)||f.T5(I))return new u.L(c,v)}}return new u.L(c,1)}static moveWordRight(a,p,c,n){let l=c.lineNumber,v=c.column,d=!1;v===p.getLineMaxColumn(l)&&l<p.getLineCount()&&(d=!0,l+=1,v=1);let m=A._findNextWordOnLine(a,p,new u.L(l,v));if(2===n)m&&2===m.wordType&&m.end-m.start==1&&0===m.nextCharClass&&(m=A._findNextWordOnLine(a,p,new u.L(l,m.end+1))),v=m?m.end+1:p.getLineMaxColumn(l);else if(3===n){for(d&&(v=0);m&&(2===m.wordType||m.start+1<=v);)m=A._findNextWordOnLine(a,p,new u.L(l,m.end+1));v=m?m.start+1:p.getLineMaxColumn(l)}else m&&!d&&v>=m.start+1&&(m=A._findNextWordOnLine(a,p,new u.L(l,m.end+1))),v=m?m.start+1:p.getLineMaxColumn(l);return new u.L(l,v)}static _moveWordPartRight(a,p){const c=p.lineNumber,n=a.getLineMaxColumn(c);if(p.column===n)return c<a.getLineCount()?new u.L(c+1,1):p;const l=a.getLineContent(c);for(let v=p.column+1;v<n;v++){const d=l.charCodeAt(v-2),m=l.charCodeAt(v-1);if(95!==d&&95===m)return new u.L(c,v);if((f.mK(d)||f.T5(d))&&f.df(m))return new u.L(c,v);if(f.df(d)&&f.df(m)&&v+1<n){const I=l.charCodeAt(v);if(f.mK(I)||f.T5(I))return new u.L(c,v)}}return new u.L(c,n)}static _deleteWordLeftWhitespace(a,p){const c=a.getLineContent(p.lineNumber),n=p.column-2,l=f.ow(c,n);return l+1<n?new P.e(p.lineNumber,l+2,p.lineNumber,p.column):null}static deleteWordLeft(a,p){const c=a.wordSeparators,n=a.model,l=a.selection,v=a.whitespaceHeuristics;if(!l.isEmpty())return l;if(L.A.isAutoClosingPairDelete(a.autoClosingDelete,a.autoClosingBrackets,a.autoClosingQuotes,a.autoClosingPairs.autoClosingPairsOpenByEnd,a.model,[a.selection],a.autoClosedCharacters)){const S=a.selection.getPosition();return new P.e(S.lineNumber,S.column-1,S.lineNumber,S.column+1)}const d=new u.L(l.positionLineNumber,l.positionColumn);let m=d.lineNumber,I=d.column;if(1===m&&1===I)return null;if(v){const S=this._deleteWordLeftWhitespace(n,d);if(S)return S}let y=A._findPreviousWordOnLine(c,n,d);return 0===p?y?I=y.start+1:I>1?I=1:(m--,I=n.getLineMaxColumn(m)):(y&&I<=y.end+1&&(y=A._findPreviousWordOnLine(c,n,new u.L(m,y.start+1))),y?I=y.end+1:I>1?I=1:(m--,I=n.getLineMaxColumn(m))),new P.e(m,I,d.lineNumber,d.column)}static deleteInsideWord(a,p,c){if(!c.isEmpty())return c;const n=new u.L(c.positionLineNumber,c.positionColumn);return this._deleteInsideWordWhitespace(p,n)||this._deleteInsideWordDetermineDeleteRange(a,p,n)}static _charAtIsWhitespace(a,p){const c=a.charCodeAt(p);return 32===c||9===c}static _deleteInsideWordWhitespace(a,p){const c=a.getLineContent(p.lineNumber),n=c.length;if(0===n)return null;let l=Math.max(p.column-2,0);if(!this._charAtIsWhitespace(c,l))return null;let v=Math.min(p.column-1,n-1);if(!this._charAtIsWhitespace(c,v))return null;for(;l>0&&this._charAtIsWhitespace(c,l-1);)l--;for(;v+1<n&&this._charAtIsWhitespace(c,v+1);)v++;return new P.e(p.lineNumber,l+1,p.lineNumber,v+2)}static _deleteInsideWordDetermineDeleteRange(a,p,c){const n=p.getLineContent(c.lineNumber),l=n.length;if(0===l)return c.lineNumber>1?new P.e(c.lineNumber-1,p.getLineMaxColumn(c.lineNumber-1),c.lineNumber,1):c.lineNumber<p.getLineCount()?new P.e(c.lineNumber,1,c.lineNumber+1,1):new P.e(c.lineNumber,1,c.lineNumber,1);const v=S=>S.start+1<=c.column&&c.column<=S.end+1,d=(S,b)=>(S=Math.min(S,c.column),b=Math.max(b,c.column),new P.e(c.lineNumber,S,c.lineNumber,b)),m=S=>{let b=S.start+1,x=S.end+1,T=!1;for(;x-1<l&&this._charAtIsWhitespace(n,x-1);)T=!0,x++;if(!T)for(;b>1&&this._charAtIsWhitespace(n,b-2);)b--;return d(b,x)},I=A._findPreviousWordOnLine(a,p,c);if(I&&v(I))return m(I);const y=A._findNextWordOnLine(a,p,c);return y&&v(y)?m(y):I&&y?d(I.end+1,y.start+1):I?d(I.start+1,I.end+1):y?d(y.start+1,y.end+1):d(1,l+1)}static _deleteWordPartLeft(a,p){if(!p.isEmpty())return p;const c=p.getPosition(),n=A._moveWordPartLeft(a,c);return new P.e(c.lineNumber,c.column,n.lineNumber,n.column)}static _findFirstNonWhitespaceChar(a,p){const c=a.length;for(let n=p;n<c;n++){const l=a.charAt(n);if(" "!==l&&"\t"!==l)return n}return c}static _deleteWordRightWhitespace(a,p){const c=a.getLineContent(p.lineNumber),n=p.column-1,l=this._findFirstNonWhitespaceChar(c,n);return n+1<l?new P.e(p.lineNumber,p.column,p.lineNumber,l+1):null}static deleteWordRight(a,p){const c=a.wordSeparators,n=a.model,l=a.selection,v=a.whitespaceHeuristics;if(!l.isEmpty())return l;const d=new u.L(l.positionLineNumber,l.positionColumn);let m=d.lineNumber,I=d.column;const y=n.getLineCount(),S=n.getLineMaxColumn(m);if(m===y&&I===S)return null;if(v){const x=this._deleteWordRightWhitespace(n,d);if(x)return x}let b=A._findNextWordOnLine(c,n,d);return 2===p?b?I=b.end+1:I<S||m===y?I=S:(m++,b=A._findNextWordOnLine(c,n,new u.L(m,1)),I=b?b.start+1:n.getLineMaxColumn(m)):(b&&I>=b.start+1&&(b=A._findNextWordOnLine(c,n,new u.L(m,b.end+1))),b?I=b.start+1:I<S||m===y?I=S:(m++,b=A._findNextWordOnLine(c,n,new u.L(m,1)),I=b?b.start+1:n.getLineMaxColumn(m))),new P.e(m,I,d.lineNumber,d.column)}static _deleteWordPartRight(a,p){if(!p.isEmpty())return p;const c=p.getPosition(),n=A._moveWordPartRight(a,c);return new P.e(c.lineNumber,c.column,n.lineNumber,n.column)}static _createWordAtPosition(a,p,c){const n=new P.e(p,c.start+1,p,c.end+1);return{word:a.getValueInRange(n),startColumn:n.startColumn,endColumn:n.endColumn}}static getWordAtPosition(a,p,c){const n=(0,M.u)(p),l=A._findPreviousWordOnLine(n,a,c);if(l&&1===l.wordType&&l.start<=c.column-1&&c.column-1<=l.end)return A._createWordAtPosition(a,c.lineNumber,l);const v=A._findNextWordOnLine(n,a,c);return v&&1===v.wordType&&v.start<=c.column-1&&c.column-1<=v.end?A._createWordAtPosition(a,c.lineNumber,v):null}static word(a,p,c,n,l){const v=(0,M.u)(a.wordSeparators),d=A._findPreviousWordOnLine(v,p,l),m=A._findNextWordOnLine(v,p,l);if(!n){let x,T;return d&&1===d.wordType&&d.start<=l.column-1&&l.column-1<=d.end?(x=d.start+1,T=d.end+1):m&&1===m.wordType&&m.start<=l.column-1&&l.column-1<=m.end?(x=m.start+1,T=m.end+1):(x=d?d.end+1:1,T=m?m.start+1:p.getLineMaxColumn(l.lineNumber)),new s.rS(new P.e(l.lineNumber,x,l.lineNumber,T),0,new u.L(l.lineNumber,T),0)}let I,y;d&&1===d.wordType&&d.start<l.column-1&&l.column-1<d.end?(I=d.start+1,y=d.end+1):m&&1===m.wordType&&m.start<l.column-1&&l.column-1<m.end?(I=m.start+1,y=m.end+1):(I=l.column,y=l.column);const S=l.lineNumber;let b;if(c.selectionStart.containsPosition(l))b=c.selectionStart.endColumn;else if(l.isBeforeOrEqual(c.selectionStart.getStartPosition())){b=I;const x=new u.L(S,b);c.selectionStart.containsPosition(x)&&(b=c.selectionStart.endColumn)}else{b=y;const x=new u.L(S,b);c.selectionStart.containsPosition(x)&&(b=c.selectionStart.startColumn)}return c.move(!0,S,b,0)}}class k extends A{static deleteWordPartLeft(a){const p=N([A.deleteWordLeft(a,0),A.deleteWordLeft(a,2),A._deleteWordPartLeft(a.model,a.selection)]);return p.sort(P.e.compareRangesUsingEnds),p[2]}static deleteWordPartRight(a){const p=N([A.deleteWordRight(a,0),A.deleteWordRight(a,2),A._deleteWordPartRight(a.model,a.selection)]);return p.sort(P.e.compareRangesUsingStarts),p[0]}static moveWordPartLeft(a,p,c){const n=N([A.moveWordLeft(a,p,c,0),A.moveWordLeft(a,p,c,2),A._moveWordPartLeft(p,c)]);return n.sort(u.L.compare),n[2]}static moveWordPartRight(a,p,c){const n=N([A.moveWordRight(a,p,c,0),A.moveWordRight(a,p,c,2),A._moveWordPartRight(p,c)]);return n.sort(u.L.compare),n[0]}}function N(_){return _.filter(a=>Boolean(a))}},95062:(at,ue,e)=>{"use strict";e.d(ue,{LM:()=>_,LN:()=>v,Tp:()=>l,Vi:()=>a,rS:()=>n});var f=e(94220),s=e(68451),L=e(43210),M=e(18555),u=e(74826),P=e(96910);const A=()=>!0,k=()=>!1,N=d=>" "===d||"\t"===d;class _{constructor(m,I,y,S){this.languageConfigurationService=S,this._cursorMoveConfigurationBrand=void 0,this._languageId=m;const b=y.options,x=b.get(133);this.readOnly=b.get(83),this.tabSize=I.tabSize,this.indentSize=I.indentSize,this.insertSpaces=I.insertSpaces,this.stickyTabStops=b.get(106),this.lineHeight=b.get(61),this.pageSize=Math.max(1,Math.floor(x.height/this.lineHeight)-2),this.useTabStops=b.get(118),this.wordSeparators=b.get(119),this.emptySelectionClipboard=b.get(33),this.copyWithSyntaxHighlighting=b.get(21),this.multiCursorMergeOverlapping=b.get(71),this.multiCursorPaste=b.get(73),this.autoClosingBrackets=b.get(5),this.autoClosingQuotes=b.get(8),this.autoClosingDelete=b.get(6),this.autoClosingOvertype=b.get(7),this.autoSurround=b.get(11),this.autoIndent=b.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(m,this.autoClosingQuotes),bracket:this._getShouldAutoClose(m,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(m).getAutoClosingPairs();const T=this.languageConfigurationService.getLanguageConfiguration(m).getSurroundingPairs();if(T)for(const R of T)this.surroundingPairs[R.open]=R.close}static shouldRecreate(m){return m.hasChanged(133)||m.hasChanged(119)||m.hasChanged(33)||m.hasChanged(71)||m.hasChanged(73)||m.hasChanged(5)||m.hasChanged(8)||m.hasChanged(6)||m.hasChanged(7)||m.hasChanged(11)||m.hasChanged(118)||m.hasChanged(61)||m.hasChanged(83)}get electricChars(){var m;if(!this._electricChars){this._electricChars={};const I=null===(m=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)||void 0===m?void 0:m.getElectricCharacters();if(I)for(const y of I)this._electricChars[y]=!0}return this._electricChars}onElectricCharacter(m,I,y){const S=(0,M.wH)(I,y-1),b=this.languageConfigurationService.getLanguageConfiguration(S.languageId).electricCharacter;return b?b.onElectricCharacter(m,S,y-S.firstCharOffset):null}normalizeIndentation(m){return(0,P.x)(m,this.indentSize,this.insertSpaces)}_getShouldAutoClose(m,I){switch(I){case"beforeWhitespace":return N;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(m);case"always":return A;case"never":return k}}_getLanguageDefinedShouldAutoClose(m){const I=this.languageConfigurationService.getLanguageConfiguration(m).getAutoCloseBeforeSet();return y=>-1!==I.indexOf(y)}visibleColumnFromColumn(m,I){return u.i.visibleColumnFromColumn(m.getLineContent(I.lineNumber),I.column,this.tabSize)}columnFromVisibleColumn(m,I,y){const S=u.i.columnFromVisibleColumn(m.getLineContent(I),y,this.tabSize),b=m.getLineMinColumn(I);if(S<b)return b;const x=m.getLineMaxColumn(I);return S>x?x:S}}class a{constructor(m,I){this._cursorStateBrand=void 0,this.modelState=m,this.viewState=I}static fromModelState(m){return new p(m)}static fromViewState(m){return new c(m)}static fromModelSelection(m){const I=L.Y.liftSelection(m),y=new n(s.e.fromPositions(I.getSelectionStart()),0,I.getPosition(),0);return a.fromModelState(y)}static fromModelSelections(m){const I=[];for(let y=0,S=m.length;y<S;y++)I[y]=this.fromModelSelection(m[y]);return I}equals(m){return this.viewState.equals(m.viewState)&&this.modelState.equals(m.modelState)}}class p{constructor(m){this.modelState=m,this.viewState=null}}class c{constructor(m){this.modelState=null,this.viewState=m}}class n{constructor(m,I,y,S){this._singleCursorStateBrand=void 0,this.selectionStart=m,this.selectionStartLeftoverVisibleColumns=I,this.position=y,this.leftoverVisibleColumns=S,this.selection=n._computeSelection(this.selectionStart,this.position)}equals(m){return this.selectionStartLeftoverVisibleColumns===m.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===m.leftoverVisibleColumns&&this.position.equals(m.position)&&this.selectionStart.equalsRange(m.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(m,I,y,S){return m?new n(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new f.L(I,y),S):new n(new s.e(I,y,I,y),S,new f.L(I,y),S)}static _computeSelection(m,I){return m.isEmpty()||!I.isBeforeOrEqual(m.getStartPosition())?L.Y.fromPositions(m.getStartPosition(),I):L.Y.fromPositions(m.getEndPosition(),I)}}class l{constructor(m,I,y){this._editOperationResultBrand=void 0,this.type=m,this.commands=I,this.shouldPushStackElementBefore=y.shouldPushStackElementBefore,this.shouldPushStackElementAfter=y.shouldPushStackElementAfter}}function v(d){return"'"===d||'"'===d||"`"===d}},90658:(at,ue,e)=>{"use strict";e.d(ue,{p:()=>f});class f{constructor(L,M,u,P,A,k){this.id=L,this.label=M,this.alias=u,this._precondition=P,this._run=A,this._contextKeyService=k}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}},92651:(at,ue,e)=>{"use strict";e.d(ue,{g:()=>f});const f={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},29584:(at,ue,e)=>{"use strict";e.d(ue,{u:()=>L});var L,M,f=e(40402),s=e(59776);(M=L||(L={})).editorSimpleInput=new s.uy("editorSimpleInput",!1,!0),M.editorTextFocus=new s.uy("editorTextFocus",!1,f.NC("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),M.focus=new s.uy("editorFocus",!1,f.NC("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),M.textInputFocus=new s.uy("textInputFocus",!1,f.NC("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),M.readOnly=new s.uy("editorReadonly",!1,f.NC("editorReadonly","Whether the editor is read only")),M.inDiffEditor=new s.uy("inDiffEditor",!1,f.NC("inDiffEditor","Whether the context is a diff editor")),M.columnSelection=new s.uy("editorColumnSelection",!1,f.NC("editorColumnSelection","Whether `editor.columnSelection` is enabled")),M.writable=M.readOnly.toNegated(),M.hasNonEmptySelection=new s.uy("editorHasSelection",!1,f.NC("editorHasSelection","Whether the editor has text selected")),M.hasOnlyEmptySelection=M.hasNonEmptySelection.toNegated(),M.hasMultipleSelections=new s.uy("editorHasMultipleSelections",!1,f.NC("editorHasMultipleSelections","Whether the editor has multiple selections")),M.hasSingleSelection=M.hasMultipleSelections.toNegated(),M.tabMovesFocus=new s.uy("editorTabMovesFocus",!1,f.NC("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),M.tabDoesNotMoveFocus=M.tabMovesFocus.toNegated(),M.isInWalkThroughSnippet=new s.uy("isInEmbeddedEditor",!1,!0),M.canUndo=new s.uy("canUndo",!1,!0),M.canRedo=new s.uy("canRedo",!1,!0),M.hoverVisible=new s.uy("editorHoverVisible",!1,f.NC("editorHoverVisible","Whether the editor hover is visible")),M.inCompositeEditor=new s.uy("inCompositeEditor",void 0,f.NC("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),M.notInCompositeEditor=M.inCompositeEditor.toNegated(),M.languageId=new s.uy("editorLangId","",f.NC("editorLangId","The language identifier of the editor")),M.hasCompletionItemProvider=new s.uy("editorHasCompletionItemProvider",!1,f.NC("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),M.hasCodeActionsProvider=new s.uy("editorHasCodeActionsProvider",!1,f.NC("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),M.hasCodeLensProvider=new s.uy("editorHasCodeLensProvider",!1,f.NC("editorHasCodeLensProvider","Whether the editor has a code lens provider")),M.hasDefinitionProvider=new s.uy("editorHasDefinitionProvider",!1,f.NC("editorHasDefinitionProvider","Whether the editor has a definition provider")),M.hasDeclarationProvider=new s.uy("editorHasDeclarationProvider",!1,f.NC("editorHasDeclarationProvider","Whether the editor has a declaration provider")),M.hasImplementationProvider=new s.uy("editorHasImplementationProvider",!1,f.NC("editorHasImplementationProvider","Whether the editor has an implementation provider")),M.hasTypeDefinitionProvider=new s.uy("editorHasTypeDefinitionProvider",!1,f.NC("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),M.hasHoverProvider=new s.uy("editorHasHoverProvider",!1,f.NC("editorHasHoverProvider","Whether the editor has a hover provider")),M.hasDocumentHighlightProvider=new s.uy("editorHasDocumentHighlightProvider",!1,f.NC("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),M.hasDocumentSymbolProvider=new s.uy("editorHasDocumentSymbolProvider",!1,f.NC("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),M.hasReferenceProvider=new s.uy("editorHasReferenceProvider",!1,f.NC("editorHasReferenceProvider","Whether the editor has a reference provider")),M.hasRenameProvider=new s.uy("editorHasRenameProvider",!1,f.NC("editorHasRenameProvider","Whether the editor has a rename provider")),M.hasSignatureHelpProvider=new s.uy("editorHasSignatureHelpProvider",!1,f.NC("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),M.hasInlayHintsProvider=new s.uy("editorHasInlayHintsProvider",!1,f.NC("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),M.hasDocumentFormattingProvider=new s.uy("editorHasDocumentFormattingProvider",!1,f.NC("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),M.hasDocumentSelectionFormattingProvider=new s.uy("editorHasDocumentSelectionFormattingProvider",!1,f.NC("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),M.hasMultipleDocumentFormattingProvider=new s.uy("editorHasMultipleDocumentFormattingProvider",!1,f.NC("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),M.hasMultipleDocumentSelectionFormattingProvider=new s.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,f.NC("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))},43258:(at,ue,e)=>{"use strict";e.d(ue,{N:()=>f});class f{static getLanguageId(L){return(255&L)>>>0}static getTokenType(L){return(768&L)>>>8}static containsBalancedBrackets(L){return 0!=(1024&L)}static getFontStyle(L){return(30720&L)>>>11}static getForeground(L){return(16744448&L)>>>15}static getBackground(L){return(4278190080&L)>>>24}static getClassNameFromMetadata(L){let u="mtk"+this.getForeground(L);const P=this.getFontStyle(L);return 1&P&&(u+=" mtki"),2&P&&(u+=" mtkb"),4&P&&(u+=" mtku"),8&P&&(u+=" mtks"),u}static getInlineStyleFromMetadata(L,M){const u=this.getForeground(L),P=this.getFontStyle(L);let A=`color: ${M[u]};`;1&P&&(A+="font-style: italic;"),2&P&&(A+="font-weight: bold;");let k="";return 4&P&&(k+=" underline"),8&P&&(k+=" line-through"),k&&(A+=`text-decoration:${k};`),A}static getPresentationFromMetadata(L){const M=this.getForeground(L),u=this.getFontStyle(L);return{foreground:M,italic:Boolean(1&u),bold:Boolean(2&u),underline:Boolean(4&u),strikethrough:Boolean(8&u)}}}},66778:(at,ue,e)=>{"use strict";e.d(ue,{mY:()=>I,gX:()=>p,MY:()=>l,DI:()=>a,AD:()=>m,gl:()=>y,bw:()=>c,WW:()=>n,uZ:()=>d,WU:()=>N,RW:()=>S,hG:()=>_,vx:()=>v});var p,f=e(2450),s=e(74672),L=e(68451),M=e(52787),u=e(52425),P=function(b,x,T,R){return new(T||(T=Promise))(function(Z,G){function F(z){try{B(R.next(z))}catch(j){G(j)}}function W(z){try{B(R.throw(z))}catch(j){G(j)}}function B(z){z.done?Z(z.value):function Q(Z){return Z instanceof T?Z:new T(function(G){G(Z)})}(z.value).then(F,W)}B((R=R.apply(b,x||[])).next())})};class k extends u.JT{constructor(x,T,R){super(),this._registry=x,this._languageId=T,this._factory=R,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return P(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return P(this,void 0,void 0,function*(){const x=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,x&&!this._isDisposed&&this._register(this._registry.register(this._languageId,x))})}}class N{constructor(x,T,R){this._tokenBrand=void 0,this.offset=x,this.type=T,this.language=R}toString(){return"("+this.offset+", "+this.type+")"}}class _{constructor(x,T){this._tokenizationResultBrand=void 0,this.tokens=x,this.endState=T}}class a{constructor(x,T){this._encodedTokenizationResultBrand=void 0,this.tokens=x,this.endState=T}}!function(b){const x=new Map;x.set(0,f.lA.symbolMethod),x.set(1,f.lA.symbolFunction),x.set(2,f.lA.symbolConstructor),x.set(3,f.lA.symbolField),x.set(4,f.lA.symbolVariable),x.set(5,f.lA.symbolClass),x.set(6,f.lA.symbolStruct),x.set(7,f.lA.symbolInterface),x.set(8,f.lA.symbolModule),x.set(9,f.lA.symbolProperty),x.set(10,f.lA.symbolEvent),x.set(11,f.lA.symbolOperator),x.set(12,f.lA.symbolUnit),x.set(13,f.lA.symbolValue),x.set(15,f.lA.symbolEnum),x.set(14,f.lA.symbolConstant),x.set(15,f.lA.symbolEnum),x.set(16,f.lA.symbolEnumMember),x.set(17,f.lA.symbolKeyword),x.set(27,f.lA.symbolSnippet),x.set(18,f.lA.symbolText),x.set(19,f.lA.symbolColor),x.set(20,f.lA.symbolFile),x.set(21,f.lA.symbolReference),x.set(22,f.lA.symbolCustomColor),x.set(23,f.lA.symbolFolder),x.set(24,f.lA.symbolTypeParameter),x.set(25,f.lA.account),x.set(26,f.lA.issues),b.toIcon=function T(Z){let G=x.get(Z);return G||(console.info("No codicon found for CompletionItemKind "+Z),G=f.lA.symbolProperty),G};const R=new Map;R.set("method",0),R.set("function",1),R.set("constructor",2),R.set("field",3),R.set("variable",4),R.set("class",5),R.set("struct",6),R.set("interface",7),R.set("module",8),R.set("property",9),R.set("event",10),R.set("operator",11),R.set("unit",12),R.set("value",13),R.set("constant",14),R.set("enum",15),R.set("enum-member",16),R.set("enumMember",16),R.set("keyword",17),R.set("snippet",27),R.set("text",18),R.set("color",19),R.set("file",20),R.set("reference",21),R.set("customcolor",22),R.set("folder",23),R.set("type-parameter",24),R.set("typeParameter",24),R.set("account",25),R.set("issue",26),b.fromString=function Q(Z,G){let F=R.get(Z);return void 0===F&&!G&&(F=9),F}}(p||(p={}));var d,I,c=(()=>{return(b=c||(c={}))[b.Automatic=0]="Automatic",b[b.Explicit=1]="Explicit",c;var b})(),n=(()=>{return(b=n||(n={}))[b.Invoke=1]="Invoke",b[b.TriggerCharacter=2]="TriggerCharacter",b[b.ContentChange=3]="ContentChange",n;var b})(),l=(()=>{return(b=l||(l={}))[b.Text=0]="Text",b[b.Read=1]="Read",b[b.Write=2]="Write",l;var b})();function v(b){return b&&s.o.isUri(b.uri)&&L.e.isIRange(b.range)&&(L.e.isIRange(b.originSelectionRange)||L.e.isIRange(b.targetSelectionRange))}!function(b){const x=new Map;x.set(0,f.lA.symbolFile),x.set(1,f.lA.symbolModule),x.set(2,f.lA.symbolNamespace),x.set(3,f.lA.symbolPackage),x.set(4,f.lA.symbolClass),x.set(5,f.lA.symbolMethod),x.set(6,f.lA.symbolProperty),x.set(7,f.lA.symbolField),x.set(8,f.lA.symbolConstructor),x.set(9,f.lA.symbolEnum),x.set(10,f.lA.symbolInterface),x.set(11,f.lA.symbolFunction),x.set(12,f.lA.symbolVariable),x.set(13,f.lA.symbolConstant),x.set(14,f.lA.symbolString),x.set(15,f.lA.symbolNumber),x.set(16,f.lA.symbolBoolean),x.set(17,f.lA.symbolArray),x.set(18,f.lA.symbolObject),x.set(19,f.lA.symbolKey),x.set(20,f.lA.symbolNull),x.set(21,f.lA.symbolEnumMember),x.set(22,f.lA.symbolStruct),x.set(23,f.lA.symbolEvent),x.set(24,f.lA.symbolOperator),x.set(25,f.lA.symbolTypeParameter),b.toIcon=function T(R){let Q=x.get(R);return Q||(console.info("No codicon found for SymbolKind "+R),Q=f.lA.symbolProperty),Q}}(d||(d={}));class m{constructor(x){this.value=x}}m.Comment=new m("comment"),m.Imports=new m("imports"),m.Region=new m("region"),(I||(I={})).is=function x(T){return!(!T||"object"!=typeof T)&&"string"==typeof T.id&&"string"==typeof T.title};var y=(()=>{return(b=y||(y={}))[b.Type=1]="Type",b[b.Parameter=2]="Parameter",y;var b})();const S=new class A{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new M.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(x){this._onDidChange.fire({changedLanguages:x,changedColorMap:!1})}register(x,T){return this._map.set(x,T),this.fire([x]),(0,u.OF)(()=>{this._map.get(x)===T&&(this._map.delete(x),this.fire([x]))})}registerFactory(x,T){var R;null===(R=this._factories.get(x))||void 0===R||R.dispose();const Q=new k(this,x,T);return this._factories.set(x,Q),(0,u.OF)(()=>{const Z=this._factories.get(x);!Z||Z!==Q||(this._factories.delete(x),Z.dispose())})}getOrCreate(x){return P(this,void 0,void 0,function*(){const T=this.get(x);if(T)return T;const R=this._factories.get(x);return!R||R.isResolved?null:(yield R.resolve(),this.get(x))})}get(x){return this._map.get(x)||null}isResolved(x){if(this.get(x))return!0;const R=this._factories.get(x);return!(R&&!R.isResolved)}setColorMap(x){this._colorMap=x,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}},88030:(at,ue,e)=>{"use strict";e.d(ue,{$9:()=>N,UF:()=>k,n8:()=>A,r7:()=>P,tI:()=>_});var f=e(93059),s=e(5526),L=e(18555),M=e(23924);function P(a,p,c,n=!0,l){if(a<4)return null;const v=l.getLanguageConfiguration(p.tokenization.getLanguageId()).indentRulesSupport;if(!v)return null;if(c<=1)return{indentation:"",action:null};const d=function u(a,p,c){const n=a.tokenization.getLanguageIdAtPosition(p,0);if(p>1){let l,v=-1;for(l=p-1;l>=1;l--){if(a.tokenization.getLanguageIdAtPosition(l,0)!==n)return v;const d=a.getLineContent(l);if(!c.shouldIgnore(d)&&!/^\s+$/.test(d)&&""!==d)return l;v=l}}return-1}(p,c,v);if(d<0)return null;if(d<1)return{indentation:"",action:null};const m=p.getLineContent(d);if(v.shouldIncrease(m)||v.shouldIndentNextLine(m))return{indentation:f.V8(m),action:s.wU.Indent,line:d};if(v.shouldDecrease(m))return{indentation:f.V8(m),action:null,line:d};{if(1===d)return{indentation:f.V8(p.getLineContent(d)),action:null,line:d};const I=d-1,y=v.getIndentMetadata(p.getLineContent(I));if(!(3&y)&&4&y){let S=0;for(let b=I-1;b>0;b--)if(!v.shouldIndentNextLine(p.getLineContent(b))){S=b;break}return{indentation:f.V8(p.getLineContent(S+1)),action:null,line:S+1}}if(n)return{indentation:f.V8(p.getLineContent(d)),action:null,line:d};for(let S=d;S>0;S--){const b=p.getLineContent(S);if(v.shouldIncrease(b))return{indentation:f.V8(b),action:s.wU.Indent,line:S};if(v.shouldIndentNextLine(b)){let x=0;for(let T=S-1;T>0;T--)if(!v.shouldIndentNextLine(p.getLineContent(S))){x=T;break}return{indentation:f.V8(p.getLineContent(x+1)),action:null,line:x+1}}if(v.shouldDecrease(b))return{indentation:f.V8(b),action:null,line:S}}return{indentation:f.V8(p.getLineContent(1)),action:null,line:1}}}function A(a,p,c,n,l,v){if(a<4)return null;const d=v.getLanguageConfiguration(c);if(!d)return null;const m=v.getLanguageConfiguration(c).indentRulesSupport;if(!m)return null;const I=P(a,p,n,void 0,v),y=p.getLineContent(n);if(I){const S=I.line;if(void 0!==S){const b=d.onEnter(a,"",p.getLineContent(S),"");if(b){let x=f.V8(p.getLineContent(S));return b.removeText&&(x=x.substring(0,x.length-b.removeText)),b.indentAction===s.wU.Indent||b.indentAction===s.wU.IndentOutdent?x=l.shiftIndent(x):b.indentAction===s.wU.Outdent&&(x=l.unshiftIndent(x)),m.shouldDecrease(y)&&(x=l.unshiftIndent(x)),b.appendText&&(x+=b.appendText),f.V8(x)}}return m.shouldDecrease(y)?I.action===s.wU.Indent?I.indentation:l.unshiftIndent(I.indentation):I.action===s.wU.Indent?l.shiftIndent(I.indentation):I.indentation}return null}function k(a,p,c,n,l){if(a<4)return null;p.tokenization.forceTokenization(c.startLineNumber);const v=p.tokenization.getLineTokens(c.startLineNumber),d=(0,L.wH)(v,c.startColumn-1),m=d.getLineContent();let y,S,I=!1;d.firstCharOffset>0&&v.getLanguageId(0)!==d.languageId?(I=!0,y=m.substr(0,c.startColumn-1-d.firstCharOffset)):y=v.getLineContent().substring(0,c.startColumn-1),S=c.isEmpty()?m.substr(c.startColumn-1-d.firstCharOffset):(0,M.n2)(p,c.endLineNumber,c.endColumn).getLineContent().substr(c.endColumn-1-d.firstCharOffset);const b=l.getLanguageConfiguration(d.languageId).indentRulesSupport;if(!b)return null;const x=y,T=f.V8(y),R={tokenization:{getLineTokens:F=>p.tokenization.getLineTokens(F),getLanguageId:()=>p.getLanguageId(),getLanguageIdAtPosition:(F,W)=>p.getLanguageIdAtPosition(F,W)},getLineContent:F=>F===c.startLineNumber?x:p.getLineContent(F)},Q=f.V8(v.getLineContent()),Z=P(a,R,c.startLineNumber+1,void 0,l);if(!Z){const F=I?Q:T;return{beforeEnter:F,afterEnter:F}}let G=I?Q:Z.indentation;return Z.action===s.wU.Indent&&(G=n.shiftIndent(G)),b.shouldDecrease(S)&&(G=n.unshiftIndent(G)),{beforeEnter:I?Q:T,afterEnter:G}}function N(a,p,c,n,l,v){if(a<4)return null;const d=(0,M.n2)(p,c.startLineNumber,c.startColumn);if(d.firstCharOffset)return null;const m=v.getLanguageConfiguration(d.languageId).indentRulesSupport;if(!m)return null;const I=d.getLineContent(),y=I.substr(0,c.startColumn-1-d.firstCharOffset);let S;if(S=c.isEmpty()?I.substr(c.startColumn-1-d.firstCharOffset):(0,M.n2)(p,c.endLineNumber,c.endColumn).getLineContent().substr(c.endColumn-1-d.firstCharOffset),!m.shouldDecrease(y+S)&&m.shouldDecrease(y+n+S)){const b=P(a,p,c.startLineNumber,!1,v);if(!b)return null;let x=b.indentation;return b.action!==s.wU.Indent&&(x=l.unshiftIndent(x)),x}return null}function _(a,p,c){const n=c.getLanguageConfiguration(a.getLanguageId()).indentRulesSupport;return!n||p<1||p>a.getLineCount()?null:n.getIndentMetadata(a.getLineContent(p))}},42641:(at,ue,e)=>{"use strict";e.d(ue,{A:()=>L});var f=e(5526),s=e(23924);function L(M,u,P,A){const k=(0,s.n2)(u,P.startLineNumber,P.startColumn),N=A.getLanguageConfiguration(k.languageId);if(!N)return null;const _=k.getLineContent(),a=_.substr(0,P.startColumn-1-k.firstCharOffset);let p;p=P.isEmpty()?_.substr(P.startColumn-1-k.firstCharOffset):(0,s.n2)(u,P.endLineNumber,P.endColumn).getLineContent().substr(P.endColumn-1-k.firstCharOffset);let c="";if(P.startLineNumber>1&&0===k.firstCharOffset){const I=(0,s.n2)(u,P.startLineNumber-1);I.languageId===k.languageId&&(c=I.getLineContent())}const n=N.onEnter(M,c,a,p);if(!n)return null;const l=n.indentAction;let v=n.appendText;const d=n.removeText||0;v?l===f.wU.Indent&&(v="\t"+v):v=l===f.wU.Indent||l===f.wU.IndentOutdent?"\t":"";let m=(0,s.u0)(u,P.startLineNumber,P.startColumn);return d&&(m=m.substring(0,m.length-d)),{indentAction:l,appendText:v,removeText:d,indentation:m}}},42570:(at,ue,e)=>{"use strict";e.d(ue,{O:()=>s});const s=(0,e(64725).yh)("languageService")},5526:(at,ue,e)=>{"use strict";e.d(ue,{V6:()=>s,c$:()=>L,wU:()=>f});var f=(()=>{return(u=f||(f={}))[u.None=0]="None",u[u.Indent=1]="Indent",u[u.IndentOutdent=2]="IndentOutdent",u[u.Outdent=3]="Outdent",f;var u})();class s{constructor(P){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=P.open,this.close=P.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(P.notIn))for(let A=0,k=P.notIn.length;A<k;A++)switch(P.notIn[A]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}isOK(P){switch(P){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(P,A){if(0===P.getTokenCount())return!0;const k=P.findTokenIndexAtOffset(A-2),N=P.getStandardTokenType(k);return this.isOK(N)}_findNeutralCharacterInRange(P,A){for(let k=P;k<=A;k++){const N=String.fromCharCode(k);if(!this.open.includes(N)&&!this.close.includes(N))return N}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class L{constructor(P){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const A of P)M(this.autoClosingPairsOpenByStart,A.open.charAt(0),A),M(this.autoClosingPairsOpenByEnd,A.open.charAt(A.open.length-1),A),M(this.autoClosingPairsCloseByStart,A.close.charAt(0),A),M(this.autoClosingPairsCloseByEnd,A.close.charAt(A.close.length-1),A),1===A.close.length&&1===A.open.length&&M(this.autoClosingPairsCloseSingleChar,A.close,A)}}function M(u,P,A){u.has(P)?u.get(P).push(A):u.set(P,[A])}},23924:(at,ue,e)=>{"use strict";e.d(ue,{c_:()=>F,u0:()=>E,n2:()=>V});var f=e(52787),s=e(52425),L=e(93059),M=e(85519),u=e(5526),P=e(18555);let A=(()=>{class Ie{constructor(ce){if(this._autoClosingPairs=ce.autoClosingPairs?ce.autoClosingPairs.map(he=>new u.V6(he)):ce.brackets?ce.brackets.map(he=>new u.V6({open:he[0],close:he[1]})):[],ce.__electricCharacterSupport&&ce.__electricCharacterSupport.docComment){const he=ce.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new u.V6({open:he.open,close:he.close||""}))}this._autoCloseBefore="string"==typeof ce.autoCloseBefore?ce.autoCloseBefore:Ie.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=ce.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}}return Ie.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t",Ie})();var k=e(18337),N=e(93404);class _{constructor(ee){this._richEditBrackets=ee}getElectricCharacters(){const ee=[];if(this._richEditBrackets)for(const ce of this._richEditBrackets.brackets)for(const he of ce.close){const de=he.charAt(he.length-1);ee.push(de)}return(0,k.EB)(ee)}onElectricCharacter(ee,ce,he){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const de=ce.findTokenIndexAtOffset(he-1);if((0,P.Bu)(ce.getStandardTokenType(de)))return null;const ge=this._richEditBrackets.reversedRegex,re=ce.getLineContent().substring(0,he-1)+ee,Se=N.Vr.findPrevBracketInRange(ge,1,re,0,re.length);if(!Se)return null;const Pe=re.substring(Se.startColumn-1,Se.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[Pe])return null;const ie=ce.getActualLineContentBefore(Se.startColumn-1);return/^\s*$/.test(ie)?{matchOpenBracket:Pe}:null}}function a(Ie){return Ie.global&&(Ie.lastIndex=0),!0}class p{constructor(ee){this._indentationRules=ee}shouldIncrease(ee){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&a(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(ee))}shouldDecrease(ee){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&a(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(ee))}shouldIndentNextLine(ee){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&a(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(ee))}shouldIgnore(ee){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&a(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(ee))}getIndentMetadata(ee){let ce=0;return this.shouldIncrease(ee)&&(ce+=1),this.shouldDecrease(ee)&&(ce+=2),this.shouldIndentNextLine(ee)&&(ce+=4),this.shouldIgnore(ee)&&(ce+=8),ce}}var c=e(53663);class n{constructor(ee){(ee=ee||{}).brackets=ee.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],ee.brackets.forEach(ce=>{const he=n._createOpenBracketRegExp(ce[0]),de=n._createCloseBracketRegExp(ce[1]);he&&de&&this._brackets.push({open:ce[0],openRegExp:he,close:ce[1],closeRegExp:de})}),this._regExpRules=ee.onEnterRules||[]}onEnter(ee,ce,he,de){if(ee>=3)for(let ge=0,re=this._regExpRules.length;ge<re;ge++){const Se=this._regExpRules[ge];if([{reg:Se.beforeText,text:he},{reg:Se.afterText,text:de},{reg:Se.previousLineText,text:ce}].every(Ve=>!Ve.reg||(Ve.reg.lastIndex=0,Ve.reg.test(Ve.text))))return Se.action}if(ee>=2&&he.length>0&&de.length>0)for(let ge=0,re=this._brackets.length;ge<re;ge++){const Se=this._brackets[ge];if(Se.openRegExp.test(he)&&Se.closeRegExp.test(de))return{indentAction:u.wU.IndentOutdent}}if(ee>=2&&he.length>0)for(let ge=0,re=this._brackets.length;ge<re;ge++)if(this._brackets[ge].openRegExp.test(he))return{indentAction:u.wU.Indent};return null}static _createOpenBracketRegExp(ee){let ce=L.ec(ee);return/\B/.test(ce.charAt(0))||(ce="\\b"+ce),ce+="\\s*$",n._safeRegExp(ce)}static _createCloseBracketRegExp(ee){let ce=L.ec(ee);return/\B/.test(ce.charAt(ce.length-1))||(ce+="\\b"),ce="^\\s*"+ce,n._safeRegExp(ce)}static _safeRegExp(ee){try{return new RegExp(ee)}catch(ce){return(0,c.dL)(ce),null}}}var l=e(64725),v=e(9869),d=e(42570),m=e(18790),I=e(64669),y=e(39086);class S{constructor(ee,ce){let he;this.languageId=ee,he=ce.colorizedBracketPairs?b(ce.colorizedBracketPairs.map(re=>[re[0],re[1]])):ce.brackets?b(ce.brackets.map(re=>[re[0],re[1]]).filter(re=>!("<"===re[0]&&">"===re[1]))):[];const de=new y.b(re=>{const Se=new Set;return{info:new T(this,re,Se),closing:Se}}),ge=new y.b(re=>{const Se=new Set;return{info:new R(this,re,Se),opening:Se}});for(const[re,Se]of he){const Pe=de.get(re),Ve=ge.get(Se);Pe.closing.add(Ve.info),Ve.opening.add(Pe.info)}this._openingBrackets=new Map([...de.cachedValues].map(([re,Se])=>[re,Se.info])),this._closingBrackets=new Map([...ge.cachedValues].map(([re,Se])=>[re,Se.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(ee){return this._openingBrackets.get(ee)}getClosingBracketInfo(ee){return this._closingBrackets.get(ee)}getBracketInfo(ee){return this.getOpeningBracketInfo(ee)||this.getClosingBracketInfo(ee)}}function b(Ie){return Ie.filter(([ee,ce])=>""!==ee&&""!==ce)}class x{constructor(ee,ce){this.config=ee,this.bracketText=ce}get languageId(){return this.config.languageId}}class T extends x{constructor(ee,ce,he){super(ee,ce),this.openedBrackets=he,this.isOpeningBracket=!0}}class R extends x{constructor(ee,ce,he){super(ee,ce),this.closedBrackets=he,this.isOpeningBracket=!1}closes(ee){if(ee.languageId===this.languageId&&ee.config!==this.config)throw new c.he("Brackets from different language configuration cannot be used.");return this.closedBrackets.has(ee)}getClosedBrackets(){return[...this.closedBrackets]}}var Z=function(Ie,ee){return function(ce,he){ee(ce,he,Ie)}};class G{constructor(ee){this.languageId=ee}affects(ee){return!this.languageId||this.languageId===ee}}const F=(0,l.yh)("languageConfigurationService");let W=class extends s.JT{constructor(ee,ce){super(),this.configurationService=ee,this.languageService=ce,this._registry=this._register(new be),this.onDidChangeEmitter=this._register(new f.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const he=new Set(Object.values(z));this._register(this.configurationService.onDidChangeConfiguration(de=>{const ge=de.change.keys.some(Se=>he.has(Se)),re=de.change.overrides.filter(([Se,Pe])=>Pe.some(Ve=>he.has(Ve))).map(([Se])=>Se);if(ge)this.configurations.clear(),this.onDidChangeEmitter.fire(new G(void 0));else for(const Se of re)this.languageService.isRegisteredLanguageId(Se)&&(this.configurations.delete(Se),this.onDidChangeEmitter.fire(new G(Se)))})),this._register(this._registry.onDidChange(de=>{this.configurations.delete(de.languageId),this.onDidChangeEmitter.fire(new G(de.languageId))}))}register(ee,ce,he){return this._registry.register(ee,ce,he)}getLanguageConfiguration(ee){let ce=this.configurations.get(ee);return ce||(ce=function B(Ie,ee,ce,he){let de=ee.getLanguageConfiguration(Ie);if(!de){if(!he.isRegisteredLanguageId(Ie))throw new Error(`Language id "${Ie}" is not configured nor known`);de=new me(Ie,{})}const ge=function j(Ie,ee){const ce=ee.getValue(z.brackets,{overrideIdentifier:Ie}),he=ee.getValue(z.colorizedBracketPairs,{overrideIdentifier:Ie});return{brackets:Y(ce),colorizedBracketPairs:Y(he)}}(de.languageId,ce),re=te([de.underlyingConfig,ge]);return new me(de.languageId,re)}(ee,this._registry,this.configurationService,this.languageService),this.configurations.set(ee,ce)),ce}};W=function(Ie,ee,ce,he){var re,de=arguments.length,ge=de<3?ee:null===he?he=Object.getOwnPropertyDescriptor(ee,ce):he;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ge=Reflect.decorate(Ie,ee,ce,he);else for(var Se=Ie.length-1;Se>=0;Se--)(re=Ie[Se])&&(ge=(de<3?re(ge):de>3?re(ee,ce,ge):re(ee,ce))||ge);return de>3&&ge&&Object.defineProperty(ee,ce,ge),ge}([Z(0,v.Ui),Z(1,d.O)],W);const z={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function Y(Ie){if(Array.isArray(Ie))return Ie.map(ee=>{if(Array.isArray(ee)&&2===ee.length)return[ee[0],ee[1]]}).filter(ee=>!!ee)}function E(Ie,ee,ce){const he=Ie.getLineContent(ee);let de=L.V8(he);return de.length>ce-1&&(de=de.substring(0,ce-1)),de}function V(Ie,ee,ce){Ie.tokenization.forceTokenization(ee);const he=Ie.tokenization.getLineTokens(ee),de=void 0===ce?Ie.getLineMaxColumn(ee)-1:ce-1;return(0,P.wH)(he,de)}class ${constructor(ee){this.languageId=ee,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(ee,ce){const he=new w(ee,ce,++this._order);return this._entries.push(he),this._resolved=null,(0,s.OF)(()=>{for(let de=0;de<this._entries.length;de++)if(this._entries[de]===he){this._entries.splice(de,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const ee=this._resolve();ee&&(this._resolved=new me(this.languageId,ee))}return this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort(w.cmp),te(this._entries.map(ee=>ee.configuration)))}}function te(Ie){let ee={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const ce of Ie)ee={comments:ce.comments||ee.comments,brackets:ce.brackets||ee.brackets,wordPattern:ce.wordPattern||ee.wordPattern,indentationRules:ce.indentationRules||ee.indentationRules,onEnterRules:ce.onEnterRules||ee.onEnterRules,autoClosingPairs:ce.autoClosingPairs||ee.autoClosingPairs,surroundingPairs:ce.surroundingPairs||ee.surroundingPairs,autoCloseBefore:ce.autoCloseBefore||ee.autoCloseBefore,folding:ce.folding||ee.folding,colorizedBracketPairs:ce.colorizedBracketPairs||ee.colorizedBracketPairs,__electricCharacterSupport:ce.__electricCharacterSupport||ee.__electricCharacterSupport};return ee}class w{constructor(ee,ce,he){this.configuration=ee,this.priority=ce,this.order=he}static cmp(ee,ce){return ee.priority===ce.priority?ee.order-ce.order:ee.priority-ce.priority}}class fe{constructor(ee){this.languageId=ee}}class be extends s.JT{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new f.Q5),this.onDidChange=this._onDidChange.event,this._register(this.register(I.bd,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(ee,ce,he=0){let de=this._entries.get(ee);de||(de=new $(ee),this._entries.set(ee,de));const ge=de.register(ce,he);return this._onDidChange.fire(new fe(ee)),(0,s.OF)(()=>{ge.dispose(),this._onDidChange.fire(new fe(ee))})}getLanguageConfiguration(ee){const ce=this._entries.get(ee);return(null==ce?void 0:ce.getResolvedConfiguration())||null}}class me{constructor(ee,ce){this.languageId=ee,this.underlyingConfig=ce,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new n(this.underlyingConfig):null,this.comments=me._handleComments(this.underlyingConfig),this.characterPair=new A(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||M.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.indentRulesSupport=this.underlyingConfig.indentationRules?new p(this.underlyingConfig.indentationRules):null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new S(ee,this.underlyingConfig)}getWordDefinition(){return(0,M.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new N.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new _(this.brackets)),this._electricCharacter}onEnter(ee,ce,he,de){return this._onEnterSupport?this._onEnterSupport.onEnter(ee,ce,he,de):null}getAutoClosingPairs(){return new u.c$(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(ee){const ce=ee.comments;if(!ce)return null;const he={};if(ce.lineComment&&(he.lineCommentToken=ce.lineComment),ce.blockComment){const[de,ge]=ce.blockComment;he.blockCommentStartToken=de,he.blockCommentEndToken=ge}return he}}(0,m.z)(F,W)},64669:(at,ue,e)=>{"use strict";e.d(ue,{bd:()=>N,dQ:()=>k});var f=e(40402),s=e(52787),L=e(29537),M=e(59341),u=e(17732);const k=new class A{constructor(){this._onDidChangeLanguages=new s.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(p){return this._languages.push(p),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let c=0,n=this._languages.length;c<n;c++)if(this._languages[c]===p)return void this._languages.splice(c,1)}}}getLanguages(){return this._languages}};L.B.add("editor.modesRegistry",k);const N="plaintext";k.registerLanguage({id:N,extensions:[".txt"],aliases:[f.NC("plainText.alias","Plain Text"),"text"],mimetypes:[M.v.text]}),L.B.as(u.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},73728:(at,ue,e)=>{"use strict";e.d(ue,{Dy:()=>M,Ri:()=>L,TJ:()=>s});var f=e(66778);const s=new class{clone(){return this}equals(u){return this===u}};function L(u,P){return new f.hG([new f.WU(0,"",u)],P)}function M(u,P){const A=new Uint32Array(2);return A[0]=0,A[1]=(32768|u<<0|2<<24)>>>0,new f.DI(A,null===P?s:P)}},18555:(at,ue,e)=>{"use strict";function f(M,u){const P=M.getCount(),A=M.findTokenIndexAtOffset(u),k=M.getLanguageId(A);let N=A;for(;N+1<P&&M.getLanguageId(N+1)===k;)N++;let _=A;for(;_>0&&M.getLanguageId(_-1)===k;)_--;return new s(M,k,_,N+1,M.getStartOffset(_),M.getEndOffset(N))}e.d(ue,{Bu:()=>L,wH:()=>f});class s{constructor(u,P,A,k,N,_){this._scopedLineTokensBrand=void 0,this._actual=u,this.languageId=P,this._firstTokenIndex=A,this._lastTokenIndex=k,this.firstCharOffset=N,this._lastCharOffset=_}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(u){return this._actual.getLineContent().substring(0,this.firstCharOffset+u)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(u){return this._actual.findTokenIndexAtOffset(u+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(u){return this._actual.getStandardTokenType(u+this._firstTokenIndex)}}function L(M){return 0!=(3&M)}},93404:(at,ue,e)=>{"use strict";e.d(ue,{EA:()=>P,Vr:()=>d});var f=e(93059),s=e(68511),L=e(68451);class M{constructor(I,y,S,b,x,T){this._richEditBracketBrand=void 0,this.languageId=I,this.index=y,this.open=S,this.close=b,this.forwardRegex=x,this.reversedRegex=T,this._openSet=M._toSet(this.open),this._closeSet=M._toSet(this.close)}isOpen(I){return this._openSet.has(I)}isClose(I){return this._closeSet.has(I)}static _toSet(I){const y=new Set;for(const S of I)y.add(S);return y}}class P{constructor(I,y){this._richEditBracketsBrand=void 0;const S=function u(m){const I=m.length;m=m.map(T=>[T[0].toLowerCase(),T[1].toLowerCase()]);const y=[];for(let T=0;T<I;T++)y[T]=T;const S=(T,R)=>{const[Q,Z]=T,[G,F]=R;return Q===G||Q===F||Z===G||Z===F},b=(T,R)=>{const Q=Math.min(T,R),Z=Math.max(T,R);for(let G=0;G<I;G++)y[G]===Z&&(y[G]=Q)};for(let T=0;T<I;T++){const R=m[T];for(let Q=T+1;Q<I;Q++)S(R,m[Q])&&b(y[T],y[Q])}const x=[];for(let T=0;T<I;T++){const R=[],Q=[];for(let Z=0;Z<I;Z++)if(y[Z]===T){const[G,F]=m[Z];R.push(G),Q.push(F)}R.length>0&&x.push({open:R,close:Q})}return x}(y);this.brackets=S.map((b,x)=>new M(I,x,b.open,b.close,function _(m,I,y,S){let b=[];b=b.concat(m),b=b.concat(I);for(let x=0,T=b.length;x<T;x++)A(b[x],y,S,b);return b=N(b),b.sort(k),b.reverse(),l(b)}(b.open,b.close,S,x),function a(m,I,y,S){let b=[];b=b.concat(m),b=b.concat(I);for(let x=0,T=b.length;x<T;x++)A(b[x],y,S,b);return b=N(b),b.sort(k),b.reverse(),l(b.map(v))}(b.open,b.close,S,x))),this.forwardRegex=function p(m){let I=[];for(const y of m){for(const S of y.open)I.push(S);for(const S of y.close)I.push(S)}return I=N(I),l(I)}(this.brackets),this.reversedRegex=function c(m){let I=[];for(const y of m){for(const S of y.open)I.push(S);for(const S of y.close)I.push(S)}return I=N(I),l(I.map(v))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const b of this.brackets){for(const x of b.open)this.textIsBracket[x]=b,this.textIsOpenBracket[x]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,x.length);for(const x of b.close)this.textIsBracket[x]=b,this.textIsOpenBracket[x]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,x.length)}}}function A(m,I,y,S){for(let b=0,x=I.length;b<x;b++){if(b===y)continue;const T=I[b];for(const R of T.open)R.indexOf(m)>=0&&S.push(R);for(const R of T.close)R.indexOf(m)>=0&&S.push(R)}}function k(m,I){return m.length-I.length}function N(m){if(m.length<=1)return m;const I=[],y=new Set;for(const S of m)y.has(S)||(I.push(S),y.add(S));return I}function n(m){const I=/^[\w ]+$/.test(m);return m=f.ec(m),I?`\\b${m}\\b`:m}function l(m){const I=`(${m.map(n).join(")|(")})`;return f.GF(I,!0)}const v=function(){let I=null,y=null;return function(b){return I!==b&&(I=b,y=function m(S){if(s.lZ){const b=new Uint16Array(S.length);let x=0;for(let T=S.length-1;T>=0;T--)b[x++]=S.charCodeAt(T);return s.oe().decode(b)}{const b=[];let x=0;for(let T=S.length-1;T>=0;T--)b[x++]=S.charAt(T);return b.join("")}}(I)),y}}();class d{static _findPrevBracketInText(I,y,S,b){const x=S.match(I);if(!x)return null;const Q=b+(S.length-(x.index||0));return new L.e(y,Q-x[0].length+1,y,Q+1)}static findPrevBracketInRange(I,y,S,b,x){const R=v(S).substring(S.length-x,S.length-b);return this._findPrevBracketInText(I,y,R,b)}static findNextBracketInText(I,y,S,b){const x=S.match(I);if(!x)return null;const R=x[0].length;if(0===R)return null;const Q=b+(x.index||0);return new L.e(y,Q+1,y,Q+1+R)}static findNextBracketInRange(I,y,S,b,x){const T=S.substring(b,x);return this.findNextBracketInText(I,y,T,b)}}},6689:(at,ue,e)=>{"use strict";e.d(ue,{C2:()=>A,Fq:()=>k});var f=e(93059),s=e(8028),L=e(66778),M=e(73728);const P={getInitialState:()=>M.TJ,tokenizeEncoded:(_,a,p)=>(0,M.Dy)(0,p)};function A(_,a,p){return function(_,a,p,c){return new(p||(p=Promise))(function(l,v){function d(y){try{I(c.next(y))}catch(S){v(S)}}function m(y){try{I(c.throw(y))}catch(S){v(S)}}function I(y){y.done?l(y.value):function n(l){return l instanceof p?l:new p(function(v){v(l)})}(y.value).then(d,m)}I((c=c.apply(_,a||[])).next())})}(this,void 0,void 0,function*(){if(!p)return N(a,_.languageIdCodec,P);const c=yield L.RW.getOrCreate(p);return N(a,_.languageIdCodec,c||P)})}function k(_,a,p,c,n,l,v){let d="<div>",m=c,I=0,y=!0;for(let S=0,b=a.getCount();S<b;S++){const x=a.getEndOffset(S);if(x<=c)continue;let T="";for(;m<x&&m<n;m++){const R=_.charCodeAt(m);switch(R){case 9:{let Q=l-(m+I)%l;for(I+=Q-1;Q>0;)v&&y?(T+="&#160;",y=!1):(T+=" ",y=!0),Q--;break}case 60:T+="&lt;",y=!1;break;case 62:T+="&gt;",y=!1;break;case 38:T+="&amp;",y=!1;break;case 0:T+="&#00;",y=!1;break;case 65279:case 8232:case 8233:case 133:T+="\ufffd",y=!1;break;case 13:T+="&#8203",y=!1;break;case 32:v&&y?(T+="&#160;",y=!1):(T+=" ",y=!0);break;default:T+=String.fromCharCode(R),y=!1}}if(d+=`<span style="${a.getInlineStyle(S,p)}">${T}</span>`,x>n||m>=n)break}return d+="</div>",d}function N(_,a,p){let c='<div class="monaco-tokenized-source">';const n=f.uq(_);let l=p.getInitialState();for(let v=0,d=n.length;v<d;v++){const m=n[v];v>0&&(c+="<br/>");const I=p.tokenizeEncoded(m,!0,l);s.A.convertToEndOffset(I.tokens,m.length);const S=new s.A(I.tokens,m,a).inflate();let b=0;for(let x=0,T=S.getCount();x<T;x++){const R=S.getClassName(x),Q=S.getEndOffset(x);c+=`<span class="${R}">${f.YU(m.substring(b,Q))}</span>`,b=Q}l=I.endState}return c+="</div>",c}},32213:(at,ue,e)=>{"use strict";e.d(ue,{F5:()=>L,Hf:()=>A,Qi:()=>k,RM:()=>M,Tx:()=>N,dJ:()=>u,je:()=>_,pt:()=>a,sh:()=>s,tk:()=>P});var f=e(85271),s=(()=>{return(p=s||(s={}))[p.Left=1]="Left",p[p.Center=2]="Center",p[p.Right=4]="Right",p[p.Full=7]="Full",s;var p})(),L=(()=>{return(p=L||(L={}))[p.Inline=1]="Inline",p[p.Gutter=2]="Gutter",L;var p})(),M=(()=>{return(p=M||(M={}))[p.Both=0]="Both",p[p.Right=1]="Right",p[p.Left=2]="Left",p[p.None=3]="None",M;var p})();class u{constructor(c){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|c.tabSize),this.indentSize=0|c.tabSize,this.insertSpaces=Boolean(c.insertSpaces),this.defaultEOL=0|c.defaultEOL,this.trimAutoWhitespace=Boolean(c.trimAutoWhitespace),this.bracketPairColorizationOptions=c.bracketPairColorizationOptions}equals(c){return this.tabSize===c.tabSize&&this.indentSize===c.indentSize&&this.insertSpaces===c.insertSpaces&&this.defaultEOL===c.defaultEOL&&this.trimAutoWhitespace===c.trimAutoWhitespace&&(0,f.fS)(this.bracketPairColorizationOptions,c.bracketPairColorizationOptions)}createChangeEvent(c){return{tabSize:this.tabSize!==c.tabSize,indentSize:this.indentSize!==c.indentSize,insertSpaces:this.insertSpaces!==c.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==c.trimAutoWhitespace}}}class P{constructor(c,n){this._findMatchBrand=void 0,this.range=c,this.matches=n}}function A(p){return p&&"function"==typeof p.read}class k{constructor(c,n,l,v,d,m){this.identifier=c,this.range=n,this.text=l,this.forceMoveMarkers=v,this.isAutoWhitespaceEdit=d,this._isTracked=m}}class N{constructor(c,n,l){this.regex=c,this.wordSeparators=n,this.simpleSearch=l}}class _{constructor(c,n,l){this.reverseEdits=c,this.changes=n,this.trimAutoWhitespaceLineNumbers=l}}function a(p){return!p.isTooLargeForSyncing()&&!p.isForSimpleWidget}},75673:(at,ue,e)=>{"use strict";e.d(ue,{BH:()=>c,Dm:()=>l,Kd:()=>u,Y0:()=>P,n2:()=>n});var f=e(74826),s=e(29329),L=e(830);class M{constructor(d){this._length=d}get length(){return this._length}}class u extends M{constructor(d,m,I,y,S){super(d),this.openingBracket=m,this.child=I,this.closingBracket=y,this.missingOpeningBracketIds=S}static create(d,m,I){let y=d.length;return m&&(y=(0,s.Ii)(y,m.length)),I&&(y=(0,s.Ii)(y,I.length)),new u(y,d,m,I,m?m.missingOpeningBracketIds:L.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(d){switch(d){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const d=new Array;return d.push(this.openingBracket),this.child&&d.push(this.child),this.closingBracket&&d.push(this.closingBracket),d}canBeReused(d){return!(null===this.closingBracket||d.intersects(this.missingOpeningBracketIds))}deepClone(){return new u(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(d,m){return this.child?this.child.computeMinIndentation((0,s.Ii)(d,this.openingBracket.length),m):Number.MAX_SAFE_INTEGER}}class P extends M{constructor(d,m,I){super(d),this.listHeight=m,this._missingOpeningBracketIds=I,this.cachedMinIndentation=-1}static create23(d,m,I,y=!1){let S=d.length,b=d.missingOpeningBracketIds;if(d.listHeight!==m.listHeight)throw new Error("Invalid list heights");if(S=(0,s.Ii)(S,m.length),b=b.merge(m.missingOpeningBracketIds),I){if(d.listHeight!==I.listHeight)throw new Error("Invalid list heights");S=(0,s.Ii)(S,I.length),b=b.merge(I.missingOpeningBracketIds)}return y?new k(S,d.listHeight+1,d,m,I,b):new A(S,d.listHeight+1,d,m,I,b)}static getEmpty(){return new _(s.xl,0,[],L.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const d=this.childrenLength;if(0===d)return;const m=this.getChild(d-1),I=4===m.kind?m.toMutable():m;return m!==I&&this.setChild(d-1,I),I}makeFirstElementMutable(){if(this.throwIfImmutable(),0===this.childrenLength)return;const m=this.getChild(0),I=4===m.kind?m.toMutable():m;return m!==I&&this.setChild(0,I),I}canBeReused(d){if(d.intersects(this.missingOpeningBracketIds))return!1;let I,m=this;for(;4===m.kind&&(I=m.childrenLength)>0;)m=m.getChild(I-1);return m.canBeReused(d)}handleChildrenChanged(){this.throwIfImmutable();const d=this.childrenLength;let m=this.getChild(0).length,I=this.getChild(0).missingOpeningBracketIds;for(let y=1;y<d;y++){const S=this.getChild(y);m=(0,s.Ii)(m,S.length),I=I.merge(S.missingOpeningBracketIds)}this._length=m,this._missingOpeningBracketIds=I,this.cachedMinIndentation=-1}computeMinIndentation(d,m){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let I=Number.MAX_SAFE_INTEGER,y=d;for(let S=0;S<this.childrenLength;S++){const b=this.getChild(S);b&&(I=Math.min(I,b.computeMinIndentation(y,m)),y=(0,s.Ii)(y,b.length))}return this.cachedMinIndentation=I,I}}class A extends P{constructor(d,m,I,y,S,b){super(d,m,b),this._item1=I,this._item2=y,this._item3=S}get childrenLength(){return null!==this._item3?3:2}getChild(d){switch(d){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(d,m){switch(d){case 0:return void(this._item1=m);case 1:return void(this._item2=m);case 2:return void(this._item3=m)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new A(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(d){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=d,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const d=this._item3;return this._item3=null,this.handleChildrenChanged(),d}prependChildOfSameHeight(d){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=d,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const d=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),d}toMutable(){return this}}class k extends A{toMutable(){return new A(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class N extends P{constructor(d,m,I,y){super(d,m,y),this._children=I}get childrenLength(){return this._children.length}getChild(d){return this._children[d]}setChild(d,m){this._children[d]=m}get children(){return this._children}deepClone(){const d=new Array(this._children.length);for(let m=0;m<this._children.length;m++)d[m]=this._children[m].deepClone();return new N(this.length,this.listHeight,d,this.missingOpeningBracketIds)}appendChildOfSameHeight(d){this.throwIfImmutable(),this._children.push(d),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const d=this._children.pop();return this.handleChildrenChanged(),d}prependChildOfSameHeight(d){this.throwIfImmutable(),this._children.unshift(d),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const d=this._children.shift();return this.handleChildrenChanged(),d}toMutable(){return this}}class _ extends N{toMutable(){return new N(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const a=[];class p extends M{get listHeight(){return 0}get childrenLength(){return 0}getChild(d){return null}get children(){return a}deepClone(){return this}}class c extends p{get kind(){return 0}get missingOpeningBracketIds(){return L.tS.getEmpty()}canBeReused(d){return!0}computeMinIndentation(d,m){const I=(0,s.Hw)(d),y=(0===I.columnCount?I.lineCount:I.lineCount+1)+1,S=(0,s.W9)((0,s.Ii)(d,this.length))+1;let b=Number.MAX_SAFE_INTEGER;for(let x=y;x<=S;x++){const T=m.getLineFirstNonWhitespaceColumn(x),R=m.getLineContent(x);if(0===T)continue;const Q=f.i.visibleColumnFromColumn(R,T,m.getOptions().tabSize);b=Math.min(b,Q)}return b}}class n extends p{constructor(d,m,I){super(d),this.bracketInfo=m,this.bracketIds=I}static create(d,m,I){return new n(d,m,I)}get kind(){return 1}get missingOpeningBracketIds(){return L.tS.getEmpty()}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(d){return!1}computeMinIndentation(d,m){return Number.MAX_SAFE_INTEGER}}class l extends p{constructor(d,m){super(m),this.missingOpeningBracketIds=d}get kind(){return 3}canBeReused(d){return!d.intersects(this.missingOpeningBracketIds)}computeMinIndentation(d,m){return Number.MAX_SAFE_INTEGER}}},96155:(at,ue,e)=>{"use strict";e.d(ue,{Q:()=>s,Y:()=>L});var f=e(29329);class s{constructor(P,A,k){this.startOffset=P,this.endOffset=A,this.newLength=k}}class L{constructor(P,A){this.documentLength=A,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=P.map(k=>M.from(k))}getOffsetBeforeChange(P){return this.adjustNextEdit(P),this.translateCurToOld(P)}getDistanceToNextChange(P){this.adjustNextEdit(P);const A=this.edits[this.nextEditIdx],k=A?this.translateOldToCur(A.offsetObj):this.documentLength;return(0,f.BE)(P,k)}translateOldToCur(P){return(0,f.Hg)(P.lineCount+this.deltaOldToNewLineCount,P.lineCount===this.deltaLineIdxInOld?P.columnCount+this.deltaOldToNewColumnCount:P.columnCount)}translateCurToOld(P){const A=(0,f.Hw)(P);return(0,f.Hg)(A.lineCount-this.deltaOldToNewLineCount,A.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?A.columnCount-this.deltaOldToNewColumnCount:A.columnCount)}adjustNextEdit(P){for(;this.nextEditIdx<this.edits.length;){const A=this.edits[this.nextEditIdx],k=this.translateOldToCur(A.endOffsetAfterObj);if(!(0,f.By)(k,P))break;{this.nextEditIdx++;const N=(0,f.Hw)(k),_=(0,f.Hw)(this.translateOldToCur(A.endOffsetBeforeObj));this.deltaOldToNewLineCount+=N.lineCount-_.lineCount,this.deltaOldToNewColumnCount=(this.deltaLineIdxInOld===A.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0)+(N.columnCount-_.columnCount),this.deltaLineIdxInOld=A.endOffsetBeforeObj.lineCount}}}}class M{constructor(P,A,k){this.endOffsetBeforeObj=(0,f.Hw)(A),this.endOffsetAfterObj=(0,f.Hw)((0,f.Ii)(P,k)),this.offsetObj=(0,f.Hw)(P)}static from(P){return new M(P.startOffset,P.endOffset,P.newLength)}}},53087:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>k});var f=e(93059),s=e(75673),L=e(29329),M=e(830),u=e(9462);class P{constructor(_){this.map=_,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(_,a){function p(n){return a.getKey(`${n.languageId}:::${n.bracketText}`)}const c=new Map;for(const n of _.bracketsNew.openingBrackets){const l=(0,L.Hg)(0,n.bracketText.length),v=p(n),d=M.tS.getEmpty().add(v,M.Qw);c.set(n.bracketText,new u.WU(l,1,v,d,s.n2.create(l,n,d)))}for(const n of _.bracketsNew.closingBrackets){const l=(0,L.Hg)(0,n.bracketText.length);let v=M.tS.getEmpty();const d=n.getClosedBrackets();for(const m of d)v=v.add(p(m),M.Qw);c.set(n.bracketText,new u.WU(l,2,p(d[0]),v,s.n2.create(l,n,v)))}return new P(c)}getRegExpStr(){if(this.isEmpty)return null;{const _=[...this.map.keys()];return _.sort(),_.reverse(),_.map(a=>function A(N){let _=(0,f.ec)(N);return/^[\w ]+/.test(N)&&(_=`\\b${_}`),/[\w ]+$/.test(N)&&(_=`${_}\\b`),_}(a)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const _=this.getRegExpStr();this._regExpGlobal=_?new RegExp(_,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(_){return this.map.get(_.toLowerCase())}findClosingTokenText(_){for(const[a,p]of this.map)if(2===p.kind&&p.bracketIds.intersects(_))return a}get isEmpty(){return 0===this.map.size}}class k{constructor(_,a){this.denseKeyProvider=_,this.getLanguageConfiguration=a,this.languageIdToBracketTokens=new Map}didLanguageChange(_){return this.languageIdToBracketTokens.has(_)}getSingleLanguageBracketTokens(_){let a=this.languageIdToBracketTokens.get(_);return a||(a=P.createFromLanguage(this.getLanguageConfiguration(_),this.denseKeyProvider),this.languageIdToBracketTokens.set(_,a)),a}}},29329:(at,ue,e)=>{"use strict";e.d(ue,{BE:()=>c,By:()=>l,F_:()=>a,Hg:()=>k,Hw:()=>N,Ii:()=>p,PZ:()=>d,Qw:()=>m,VR:()=>n,W9:()=>_,Zq:()=>v,av:()=>M,oR:()=>I,xd:()=>P,xl:()=>u});var f=e(93059),s=e(68451);class L{constructor(S,b){this.lineCount=S,this.columnCount=b}toString(){return`${this.lineCount},${this.columnCount}`}}function M(y,S,b,x){return y!==b?k(b-y,x):k(0,x-S)}L.zero=new L(0,0);const u=0;function P(y){return 0===y}const A=Math.pow(2,26);function k(y,S){return y*A+S}function N(y){const S=y,b=Math.floor(S/A);return new L(b,S-b*A)}function _(y){return Math.floor(y/A)}function a(y){return y}function p(y,S){return S<A?y+S:y-y%A+S}function c(y,S){const b=y,x=S;if(x-b<=0)return u;const R=Math.floor(b/A),Q=Math.floor(x/A),Z=x-Q*A;return R===Q?k(0,Z-(b-R*A)):k(Q-R,Z)}function n(y,S){return y<S}function l(y,S){return y<=S}function v(y,S){return y>=S}function d(y){return k(y.lineNumber-1,y.column-1)}function m(y,S){const b=y,x=Math.floor(b/A),T=b-x*A,R=S,Q=Math.floor(R/A);return new s.e(x+1,T+1,Q+1,R-Q*A+1)}function I(y){const S=(0,f.uq)(y);return k(S.length-1,S[S.length-1].length)}},94778:(at,ue,e)=>{"use strict";e.d(ue,{w:()=>n});var f=e(75673),s=e(96155),L=e(830),M=e(29329);function P(v,d=!1){if(0===v.length)return null;if(1===v.length)return v[0];let m=v.length;for(;m>3;){const I=m>>1;for(let y=0;y<I;y++){const S=y<<1;v[y]=f.Y0.create23(v[S],v[S+1],S+3===m?v[S+2]:null,d)}m=I}return f.Y0.create23(v[0],v[1],m>=3?v[2]:null,d)}function A(v,d){return Math.abs(v.listHeight-d.listHeight)}function k(v,d){return v.listHeight===d.listHeight?f.Y0.create23(v,d,null,!1):v.listHeight>d.listHeight?function N(v,d){let m=v=v.toMutable();const I=new Array;let y;for(;;){if(d.listHeight===m.listHeight){y=d;break}if(4!==m.kind)throw new Error("unexpected");I.push(m),m=m.makeLastElementMutable()}for(let S=I.length-1;S>=0;S--){const b=I[S];y?b.childrenLength>=3?y=f.Y0.create23(b.unappendChild(),y,null,!1):(b.appendChildOfSameHeight(y),y=void 0):b.handleChildrenChanged()}return y?f.Y0.create23(v,y,null,!1):v}(v,d):function _(v,d){let m=v=v.toMutable();const I=new Array;for(;d.listHeight!==m.listHeight;){if(4!==m.kind)throw new Error("unexpected");I.push(m),m=m.makeFirstElementMutable()}let y=d;for(let S=I.length-1;S>=0;S--){const b=I[S];y?b.childrenLength>=3?y=f.Y0.create23(y,b.unprependChild(),null,!1):(b.prependChildOfSameHeight(y),y=void 0):b.handleChildrenChanged()}return y?f.Y0.create23(y,v,null,!1):v}(d,v)}class a{constructor(d){this.lastOffset=M.xl,this.nextNodes=[d],this.offsets=[M.xl],this.idxs=[]}readLongestNodeAt(d,m){if((0,M.VR)(d,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=d;;){const I=c(this.nextNodes);if(!I)return;const y=c(this.offsets);if((0,M.VR)(d,y))return;if((0,M.VR)(y,d))if((0,M.Ii)(y,I.length)<=d)this.nextNodeAfterCurrent();else{const S=p(I);-1!==S?(this.nextNodes.push(I.getChild(S)),this.offsets.push(y),this.idxs.push(S)):this.nextNodeAfterCurrent()}else{if(m(I))return this.nextNodeAfterCurrent(),I;{const S=p(I);if(-1===S)return void this.nextNodeAfterCurrent();this.nextNodes.push(I.getChild(S)),this.offsets.push(y),this.idxs.push(S)}}}}nextNodeAfterCurrent(){for(;;){const d=c(this.offsets),m=c(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const I=c(this.nextNodes),y=p(I,this.idxs[this.idxs.length-1]);if(-1!==y){this.nextNodes.push(I.getChild(y)),this.offsets.push((0,M.Ii)(d,m.length)),this.idxs[this.idxs.length-1]=y;break}this.idxs.pop()}}}function p(v,d=-1){for(;;){if(++d>=v.childrenLength)return-1;if(v.getChild(d))return d}}function c(v){return v.length>0?v[v.length-1]:void 0}function n(v,d,m,I){return new l(v,d,m,I).parseDocument()}class l{constructor(d,m,I,y){if(this.tokenizer=d,this.createImmutableLists=y,this._itemsConstructed=0,this._itemsFromCache=0,I&&y)throw new Error("Not supported");this.oldNodeReader=I?new a(I):void 0,this.positionMapper=new s.Y(m,d.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let d=this.parseList(L.tS.getEmpty());return d||(d=f.Y0.getEmpty()),d}parseList(d){const m=new Array;for(;;){const y=this.tokenizer.peek();if(!y||2===y.kind&&y.bracketIds.intersects(d))break;const S=this.parseChild(d);4===S.kind&&0===S.childrenLength||m.push(S)}return this.oldNodeReader?function u(v){if(0===v.length)return null;if(1===v.length)return v[0];let d=0;function m(){if(d>=v.length)return null;const b=d,x=v[b].listHeight;for(d++;d<v.length&&v[d].listHeight===x;)d++;return d-b>=2?P(0===b&&d===v.length?v:v.slice(b,d),!1):v[b]}let I=m(),y=m();if(!y)return I;for(let b=m();b;b=m())A(I,y)<=A(y,b)?(I=k(I,y),y=b):y=k(y,b);return k(I,y)}(m):P(m,this.createImmutableLists)}parseChild(d){if(this.oldNodeReader){const I=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,M.xd)(I)){const y=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),S=>!!(0,M.VR)(S.length,I)&&S.canBeReused(d));if(y)return this._itemsFromCache++,this.tokenizer.skip(y.length),y}}this._itemsConstructed++;const m=this.tokenizer.read();switch(m.kind){case 2:return new f.Dm(m.bracketIds,m.length);case 0:return m.astNode;case 1:{const I=d.merge(m.bracketIds),y=this.parseList(I),S=this.tokenizer.peek();return S&&2===S.kind&&(S.bracketId===m.bracketId||S.bracketIds.intersects(m.bracketIds))?(this.tokenizer.read(),f.Kd.create(m.astNode,y,S.astNode)):f.Kd.create(m.astNode,y,null)}default:throw new Error("unexpected")}}}},830:(at,ue,e)=>{"use strict";e.d(ue,{FE:()=>M,Qw:()=>L,tS:()=>s});const f=new Array;class s{constructor(P,A){this.items=P,this.additionalItems=A}static create(P,A){if(P<=128&&0===A.length){let k=s.cache[P];return k||(k=new s(P,A),s.cache[P]=k),k}return new s(P,A)}static getEmpty(){return this.empty}add(P,A){const k=A.getKey(P);let N=k>>5;if(0===N){const a=1<<k|this.items;return a===this.items?this:s.create(a,this.additionalItems)}N--;const _=this.additionalItems.slice(0);for(;_.length<N;)_.push(0);return _[N]|=1<<(31&k),s.create(this.items,_)}merge(P){const A=this.items|P.items;if(this.additionalItems===f&&P.additionalItems===f)return A===this.items?this:A===P.items?P:s.create(A,f);const k=new Array;for(let N=0;N<Math.max(this.additionalItems.length,P.additionalItems.length);N++)k.push((this.additionalItems[N]||0)|(P.additionalItems[N]||0));return s.create(A,k)}intersects(P){if(0!=(this.items&P.items))return!0;for(let A=0;A<Math.min(this.additionalItems.length,P.additionalItems.length);A++)if(0!=(this.additionalItems[A]&P.additionalItems[A]))return!0;return!1}}s.cache=new Array(129),s.empty=s.create(0,f);const L={getKey:u=>u};class M{constructor(){this.items=new Map}getKey(P){let A=this.items.get(P);return void 0===A&&(A=this.items.size,this.items.set(P,A)),A}}},9462:(at,ue,e)=>{"use strict";e.d(ue,{WU:()=>P,g:()=>N,xH:()=>A});var f=e(53663),s=e(43258),L=e(75673),M=e(29329),u=e(830);class P{constructor(a,p,c,n,l){this.length=a,this.kind=p,this.bracketId=c,this.bracketIds=n,this.astNode=l}}class A{constructor(a,p){this.textModel=a,this.bracketTokens=p,this.reader=new k(this.textModel,this.bracketTokens),this._offset=M.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=a.getLineCount(),this.textBufferLastLineLength=a.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,M.Hg)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(a){this.didPeek=!1,this._offset=(0,M.Ii)(this._offset,a);const p=(0,M.Hw)(this._offset);this.reader.setPosition(p.lineCount,p.columnCount)}read(){let a;return this.peeked?(this.didPeek=!1,a=this.peeked):a=this.reader.read(),a&&(this._offset=(0,M.Ii)(this._offset,a.length)),a}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class k{constructor(a,p){this.textModel=a,this.bracketTokens=p,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=a.getLineCount(),this.textBufferLastLineLength=a.getLineLength(this.textBufferLineCount)}setPosition(a,p){a===this.lineIdx?(this.lineCharOffset=p,this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=a,this.lineCharOffset=p,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const l=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,M.F_)(l.length),l}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const a=this.lineIdx,p=this.lineCharOffset;let c=0;for(;;){const l=this.lineTokens,v=l.getCount();let d=null;if(this.lineTokenOffset<v){const m=l.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<v&&m===l.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const I=0===s.N.getTokenType(m),y=s.N.containsBalancedBrackets(m),S=l.getEndOffset(this.lineTokenOffset);if(y&&I&&this.lineCharOffset<S){const b=l.getLanguageId(this.lineTokenOffset),x=this.line.substring(this.lineCharOffset,S),T=this.bracketTokens.getSingleLanguageBracketTokens(b),R=T.regExpGlobal;if(R){R.lastIndex=0;const Q=R.exec(x);Q&&(d=T.getToken(Q[0]),d&&(this.lineCharOffset+=Q.index))}}if(c+=S-this.lineCharOffset,d){if(a!==this.lineIdx||p!==this.lineCharOffset){this.peekedToken=d;break}return this.lineCharOffset+=(0,M.F_)(d.length),d}this.lineTokenOffset++,this.lineCharOffset=S}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,c+=33,c>1e3))break;if(c>1500)break}const n=(0,M.av)(a,p,this.lineIdx,this.lineCharOffset);return new P(n,0,-1,u.tS.getEmpty(),new L.BH(n))}}class N{constructor(a,p){this.text=a,this._offset=M.xl,this.idx=0;const c=p.getRegExpStr(),n=c?new RegExp(c+"|\n","gi"):null,l=[];let v,d=0,m=0,I=0,y=0;const S=new Array;for(let T=0;T<60;T++)S.push(new P((0,M.Hg)(0,T),0,-1,u.tS.getEmpty(),new L.BH((0,M.Hg)(0,T))));const b=new Array;for(let T=0;T<60;T++)b.push(new P((0,M.Hg)(1,T),0,-1,u.tS.getEmpty(),new L.BH((0,M.Hg)(1,T))));if(n)for(n.lastIndex=0;null!==(v=n.exec(a));){const T=v.index,R=v[0];if("\n"===R)d++,m=T+1;else{if(I!==T){let Q;if(y===d){const Z=T-I;if(Z<S.length)Q=S[Z];else{const G=(0,M.Hg)(0,Z);Q=new P(G,0,-1,u.tS.getEmpty(),new L.BH(G))}}else{const Z=d-y,G=T-m;if(1===Z&&G<b.length)Q=b[G];else{const F=(0,M.Hg)(Z,G);Q=new P(F,0,-1,u.tS.getEmpty(),new L.BH(F))}}l.push(Q)}l.push(p.getToken(R)),I=T+R.length,y=d}}const x=a.length;if(I!==x){const T=y===d?(0,M.Hg)(0,x-I):(0,M.Hg)(d-y,x-m);l.push(new P(T,0,-1,u.tS.getEmpty(),new L.BH(T)))}this.length=(0,M.Hg)(d,x-m),this.tokens=l}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(a){throw new f.B8}}},94898:(at,ue,e)=>{"use strict";e.d(ue,{NL:()=>n,e9:()=>c});var f=e(40402),s=e(53663),L=e(43210),M=e(74672),u=e(97614),P=e(38923),A=e(15151);function k(l){return l.toString()}class N{constructor(v,d,m,I,y,S,b){this.beforeVersionId=v,this.afterVersionId=d,this.beforeEOL=m,this.afterEOL=I,this.beforeCursorState=y,this.afterCursorState=S,this.changes=b}static create(v,d){const m=v.getAlternativeVersionId(),I=p(v);return new N(m,m,I,I,d,d,[])}append(v,d,m,I,y){d.length>0&&(this.changes=(0,u.b)(this.changes,d)),this.afterEOL=m,this.afterVersionId=I,this.afterCursorState=y}static _writeSelectionsSize(v){return 4+16*(v?v.length:0)}static _writeSelections(v,d,m){if(P.T4(v,d?d.length:0,m),m+=4,d)for(const I of d)P.T4(v,I.selectionStartLineNumber,m),P.T4(v,I.selectionStartColumn,m+=4),P.T4(v,I.positionLineNumber,m+=4),P.T4(v,I.positionColumn,m+=4),m+=4;return m}static _readSelections(v,d,m){const I=P.Ag(v,d);d+=4;for(let y=0;y<I;y++){const S=P.Ag(v,d),b=P.Ag(v,d+=4),x=P.Ag(v,d+=4),T=P.Ag(v,d+=4);d+=4,m.push(new L.Y(S,b,x,T))}return d}serialize(){let v=10+N._writeSelectionsSize(this.beforeCursorState)+N._writeSelectionsSize(this.afterCursorState)+4;for(const I of this.changes)v+=I.writeSize();const d=new Uint8Array(v);let m=0;P.T4(d,this.beforeVersionId,m),m+=4,P.T4(d,this.afterVersionId,m),m+=4,P.Cg(d,this.beforeEOL,m),m+=1,P.Cg(d,this.afterEOL,m),m+=1,m=N._writeSelections(d,this.beforeCursorState,m),m=N._writeSelections(d,this.afterCursorState,m),P.T4(d,this.changes.length,m),m+=4;for(const I of this.changes)m=I.write(d,m);return d.buffer}static deserialize(v){const d=new Uint8Array(v);let m=0;const I=P.Ag(d,m);m+=4;const y=P.Ag(d,m);m+=4;const S=P.Q$(d,m);m+=1;const b=P.Q$(d,m);m+=1;const x=[];m=N._readSelections(d,m,x);const T=[];m=N._readSelections(d,m,T);const R=P.Ag(d,m);m+=4;const Q=[];for(let Z=0;Z<R;Z++)m=u.q.read(d,m,Q);return new N(I,y,S,b,x,T,Q)}}class _{constructor(v,d,m,I){this.label=v,this.code=d,this.model=m,this._data=N.create(m,I)}get type(){return 0}get resource(){return M.o.isUri(this.model)?this.model:this.model.uri}toString(){return(this._data instanceof N?this._data:N.deserialize(this._data)).changes.map(d=>d.toString()).join(", ")}matchesResource(v){return(M.o.isUri(this.model)?this.model:this.model.uri).toString()===v.toString()}setModel(v){this.model=v}canAppend(v){return this.model===v&&this._data instanceof N}append(v,d,m,I,y){this._data instanceof N&&this._data.append(v,d,m,I,y)}close(){this._data instanceof N&&(this._data=this._data.serialize())}open(){this._data instanceof N||(this._data=N.deserialize(this._data))}undo(){if(M.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof N&&(this._data=this._data.serialize());const v=N.deserialize(this._data);this.model._applyUndo(v.changes,v.beforeEOL,v.beforeVersionId,v.beforeCursorState)}redo(){if(M.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof N&&(this._data=this._data.serialize());const v=N.deserialize(this._data);this.model._applyRedo(v.changes,v.afterEOL,v.afterVersionId,v.afterCursorState)}heapSize(){return this._data instanceof N&&(this._data=this._data.serialize()),this._data.byteLength+168}}function p(l){return"\n"===l.getEOL()?0:1}function c(l){return!!l&&(l instanceof _||l instanceof class a{constructor(v,d,m){this.label=v,this.code=d,this.type=1,this._isOpen=!0,this._editStackElementsArr=m.slice(0),this._editStackElementsMap=new Map;for(const I of this._editStackElementsArr){const y=k(I.resource);this._editStackElementsMap.set(y,I)}this._delegate=null}get resources(){return this._editStackElementsArr.map(v=>v.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(v){const d=k(v);return this._editStackElementsMap.has(d)}setModel(v){const d=k(M.o.isUri(v)?v:v.uri);this._editStackElementsMap.has(d)&&this._editStackElementsMap.get(d).setModel(v)}canAppend(v){if(!this._isOpen)return!1;const d=k(v.uri);return!!this._editStackElementsMap.has(d)&&this._editStackElementsMap.get(d).canAppend(v)}append(v,d,m,I,y){const S=k(v.uri);this._editStackElementsMap.get(S).append(v,d,m,I,y)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const v of this._editStackElementsArr)v.undo()}redo(){for(const v of this._editStackElementsArr)v.redo()}heapSize(v){const d=k(v);return this._editStackElementsMap.has(d)?this._editStackElementsMap.get(d).heapSize():0}split(){return this._editStackElementsArr}toString(){const v=[];for(const d of this._editStackElementsArr)v.push(`${(0,A.EZ)(d.resource)}: ${d}`);return`{${v.join(", ")}}`}})}class n{constructor(v,d){this._model=v,this._undoRedoService=d}pushStackElement(){const v=this._undoRedoService.getLastElement(this._model.uri);c(v)&&v.close()}popStackElement(){const v=this._undoRedoService.getLastElement(this._model.uri);c(v)&&v.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(v){const d=this._undoRedoService.getLastElement(this._model.uri);if(c(d)&&d.canAppend(this._model))return d;const m=new _(f.NC("edit","Typing"),"undoredo.textBufferEdit",this._model,v);return this._undoRedoService.pushElement(m),m}pushEOL(v){const d=this._getOrCreateEditStackElement(null);this._model.setEOL(v),d.append(this._model,[],p(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(v,d,m){const I=this._getOrCreateEditStackElement(v),y=this._model.applyEdits(d,!0),S=n._computeCursorState(m,y),b=y.map((x,T)=>({index:T,textChange:x.textChange}));return b.sort((x,T)=>x.textChange.oldPosition===T.textChange.oldPosition?x.index-T.index:x.textChange.oldPosition-T.textChange.oldPosition),I.append(this._model,b.map(x=>x.textChange),p(this._model),this._model.getAlternativeVersionId(),S),S}static _computeCursorState(v,d){try{return v?v(d):null}catch(m){return(0,s.dL)(m),null}}}},64051:(at,ue,e)=>{"use strict";e.d(ue,{W:()=>N,l:()=>k});var f=e(18337),s=e(93059),L=e(74826),M=e(68451),u=e(63424),P=e(6589),A=e(52904);class k extends u.U{constructor(a,p){super(),this.textModel=a,this.languageConfigurationService=p}getLanguageConfiguration(a){return this.languageConfigurationService.getLanguageConfiguration(a)}_computeIndentLevel(a){return(0,P.q)(this.textModel.getLineContent(a+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(a,p,c){this.assertNotDisposed();const n=this.textModel.getLineCount();if(a<1||a>n)throw new Error("Illegal value for lineNumber");const l=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,v=Boolean(l&&l.offSide);let d=-2,m=-1,I=-2,y=-1;const S=j=>{if(-1!==d&&(-2===d||d>j-1)){d=-1,m=-1;for(let Y=j-2;Y>=0;Y--){const E=this._computeIndentLevel(Y);if(E>=0){d=Y,m=E;break}}}if(-2===I){I=-1,y=-1;for(let Y=j;Y<n;Y++){const E=this._computeIndentLevel(Y);if(E>=0){I=Y,y=E;break}}}};let b=-2,x=-1,T=-2,R=-1;const Q=j=>{if(-2===b){b=-1,x=-1;for(let Y=j-2;Y>=0;Y--){const E=this._computeIndentLevel(Y);if(E>=0){b=Y,x=E;break}}}if(-1!==T&&(-2===T||T<j-1)){T=-1,R=-1;for(let Y=j;Y<n;Y++){const E=this._computeIndentLevel(Y);if(E>=0){T=Y,R=E;break}}}};let Z=0,G=!0,F=0,W=!0,B=0,z=0;for(let j=0;G||W;j++){const Y=a-j,E=a+j;j>1&&(Y<1||Y<p)&&(G=!1),j>1&&(E>n||E>c)&&(W=!1),j>5e4&&(G=!1,W=!1);let V=-1;if(G&&Y>=1){const te=this._computeIndentLevel(Y-1);te>=0?(I=Y-1,y=te,V=Math.ceil(te/this.textModel.getOptions().indentSize)):(S(Y),V=this._getIndentLevelForWhitespaceLine(v,m,y))}let $=-1;if(W&&E<=n){const te=this._computeIndentLevel(E-1);te>=0?(b=E-1,x=te,$=Math.ceil(te/this.textModel.getOptions().indentSize)):(Q(E),$=this._getIndentLevelForWhitespaceLine(v,x,R))}if(0!==j){if(1===j){if(E<=n&&$>=0&&z+1===$){G=!1,Z=E,F=E,B=$;continue}if(Y>=1&&V>=0&&V-1===z){W=!1,Z=Y,F=Y,B=V;continue}if(Z=a,F=a,B=z,0===B)return{startLineNumber:Z,endLineNumber:F,indent:B}}G&&(V>=B?Z=Y:G=!1),W&&($>=B?F=E:W=!1)}else z=V}return{startLineNumber:Z,endLineNumber:F,indent:B}}getLinesBracketGuides(a,p,c,n){var l;const v=[];for(let b=a;b<=p;b++)v.push([]);const m=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new M.e(a,1,p,this.textModel.getLineMaxColumn(p)));let I;if(c&&m.length>0){const b=(a<=c.lineNumber&&c.lineNumber<=p?m:this.textModel.bracketPairs.getBracketPairsInRange(M.e.fromPositions(c))).filter(x=>M.e.strictContainsPosition(x.range,c));I=null===(l=(0,f.dF)(b,x=>!0))||void 0===l?void 0:l.range}const y=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,S=new N;for(const b of m){if(!b.closingBracketRange)continue;const x=I&&b.range.equalsRange(I);if(!x&&!n.includeInactive)continue;const T=S.getInlineClassName(b.nestingLevel,b.nestingLevelOfEqualBracketType,y)+(n.highlightActive&&x?" "+S.activeClassName:""),R=b.openingBracketRange.getStartPosition(),Q=b.closingBracketRange.getStartPosition(),Z=n.horizontalGuides===A.s6.Enabled||n.horizontalGuides===A.s6.EnabledForActive&&x;if(b.range.startLineNumber===b.range.endLineNumber){Z&&v[b.range.startLineNumber-a].push(new A.UO(-1,b.openingBracketRange.getEndPosition().column,T,new A.vW(!1,Q.column),-1,-1));continue}const G=this.getVisibleColumnFromPosition(Q),F=this.getVisibleColumnFromPosition(b.openingBracketRange.getStartPosition()),W=Math.min(F,G,b.minVisibleColumnIndentation+1);let B=!1;s.LC(this.textModel.getLineContent(b.closingBracketRange.startLineNumber))<b.closingBracketRange.startColumn-1&&(B=!0);const Y=Math.max(R.lineNumber,a),E=Math.min(Q.lineNumber,p),V=B?1:0;for(let $=Y;$<E+V;$++)v[$-a].push(new A.UO(W,-1,T,null,$===R.lineNumber?R.column:-1,$===Q.lineNumber?Q.column:-1));Z&&(R.lineNumber>=a&&F>W&&v[R.lineNumber-a].push(new A.UO(W,-1,T,new A.vW(!1,R.column),-1,-1)),Q.lineNumber<=p&&G>W&&v[Q.lineNumber-a].push(new A.UO(W,-1,T,new A.vW(!B,Q.column),-1,-1)))}for(const b of v)b.sort((x,T)=>x.visibleColumn-T.visibleColumn);return v}getVisibleColumnFromPosition(a){return L.i.visibleColumnFromColumn(this.textModel.getLineContent(a.lineNumber),a.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(a,p){this.assertNotDisposed();const c=this.textModel.getLineCount();if(a<1||a>c)throw new Error("Illegal value for startLineNumber");if(p<1||p>c)throw new Error("Illegal value for endLineNumber");const n=this.textModel.getOptions(),l=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,v=Boolean(l&&l.offSide),d=new Array(p-a+1);let m=-2,I=-1,y=-2,S=-1;for(let b=a;b<=p;b++){const x=b-a,T=this._computeIndentLevel(b-1);if(T>=0)m=b-1,I=T,d[x]=Math.ceil(T/n.indentSize);else{if(-2===m){m=-1,I=-1;for(let R=b-2;R>=0;R--){const Q=this._computeIndentLevel(R);if(Q>=0){m=R,I=Q;break}}}if(-1!==y&&(-2===y||y<b-1)){y=-1,S=-1;for(let R=b;R<c;R++){const Q=this._computeIndentLevel(R);if(Q>=0){y=R,S=Q;break}}}d[x]=this._getIndentLevelForWhitespaceLine(v,I,S)}}return d}_getIndentLevelForWhitespaceLine(a,p,c){const n=this.textModel.getOptions();return-1===p||-1===c?0:p<c?1+Math.floor(p/n.indentSize):p===c||a?Math.ceil(c/n.indentSize):1+Math.floor(c/n.indentSize)}}class N{constructor(){this.activeClassName="indent-active"}getInlineClassName(a,p,c){return this.getInlineClassNameOfLevel(c?p:a)}getInlineClassNameOfLevel(a){return"bracket-indent-guide lvl-"+a%30}}},45589:(at,ue,e)=>{"use strict";e.d(ue,{Ck:()=>M,oQ:()=>L});var f=e(18337),s=e(45129);class L{constructor(A){this.values=A,this.prefixSum=new Uint32Array(A.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(A,k){A=(0,s.A)(A);const N=this.values,_=this.prefixSum,a=k.length;return 0!==a&&(this.values=new Uint32Array(N.length+a),this.values.set(N.subarray(0,A),0),this.values.set(N.subarray(A),A+a),this.values.set(k,A),A-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=A-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(_.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(A,k){return A=(0,s.A)(A),k=(0,s.A)(k),this.values[A]!==k&&(this.values[A]=k,A-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=A-1),!0)}removeValues(A,k){A=(0,s.A)(A),k=(0,s.A)(k);const N=this.values,_=this.prefixSum;if(A>=N.length)return!1;const a=N.length-A;return k>=a&&(k=a),0!==k&&(this.values=new Uint32Array(N.length-k),this.values.set(N.subarray(0,A),0),this.values.set(N.subarray(A+k),A),this.prefixSum=new Uint32Array(this.values.length),A-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=A-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(_.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(A){return A<0?0:(A=(0,s.A)(A),this._getPrefixSum(A))}_getPrefixSum(A){if(A<=this.prefixSumValidIndex[0])return this.prefixSum[A];let k=this.prefixSumValidIndex[0]+1;0===k&&(this.prefixSum[0]=this.values[0],k++),A>=this.values.length&&(A=this.values.length-1);for(let N=k;N<=A;N++)this.prefixSum[N]=this.prefixSum[N-1]+this.values[N];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],A),this.prefixSum[A]}getIndexOf(A){A=Math.floor(A),this.getTotalSum();let k=0,N=this.values.length-1,_=0,a=0,p=0;for(;k<=N;)if(_=k+(N-k)/2|0,a=this.prefixSum[_],p=a-this.values[_],A<p)N=_-1;else{if(!(A>=a))break;k=_+1}return new u(_,A-p)}}class M{constructor(A){this._values=A,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(A){return this._ensureValid(),0===A?0:this._prefixSum[A-1]}getIndexOf(A){this._ensureValid();const k=this._indexBySum[A];return new u(k,A-(k>0?this._prefixSum[k-1]:0))}removeValues(A,k){this._values.splice(A,k),this._invalidate(A)}insertValues(A,k){this._values=(0,f.Zv)(this._values,A,k),this._invalidate(A)}_invalidate(A){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,A-1)}_ensureValid(){if(!this._isValid){for(let A=this._validEndIndex+1,k=this._values.length;A<k;A++){const N=this._values[A],_=A>0?this._prefixSum[A-1]:0;this._prefixSum[A]=_+N;for(let a=0;a<N;a++)this._indexBySum[_+a]=A}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(A,k){this._values[A]!==k&&(this._values[A]=k,this._invalidate(A))}}class u{constructor(A,k){this.index=A,this.remainder=k,this._prefixSumIndexOfResultBrand=void 0,this.index=A,this.remainder=k}}},3508:(at,ue,e)=>{"use strict";e.d(ue,{HS:()=>Pt,qx:()=>wn,yO:()=>Xt});var f=e(18337),s=e(68927),L=e(53663),M=e(52787),u=e(52425),P=e(93059),A=e(74672),k=e(37846),N=e(96910),_=e(94220),a=e(68451),p=e(43210),c=e(32931),n=e(42570),l=e(23924),v=e(32213);class d{constructor(D,K,q,we){this.range=D,this.nestingLevel=K,this.nestingLevelOfEqualBracketType=q,this.isInvalid=we}}class I extends class m{constructor(D,K,q,we,Re,Xe){this.range=D,this.openingBracketRange=K,this.closingBracketRange=q,this.nestingLevel=we,this.nestingLevelOfEqualBracketType=Re,this.bracketPairNode=Xe}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}{constructor(D,K,q,we,Re,Xe,xt){super(D,K,q,we,Re,Xe),this.minVisibleColumnIndentation=xt}}var y=e(96155),S=e(53087),b=e(29329),x=e(94778),T=e(830),R=e(9462);class Q extends u.JT{constructor(D,K){if(super(),this.textModel=D,this.getLanguageConfiguration=K,this.didChangeEmitter=new M.Q5,this.denseKeyProvider=new T.FE,this.brackets=new S.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,0===D.tokenization.backgroundTokenizationState){const q=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),we=new R.g(this.textModel.getValue(),q);this.initialAstWithoutTokens=(0,x.w)(we,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else 2===D.tokenization.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):1===D.tokenization.backgroundTokenizationState&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(D){return this.brackets.didLanguageChange(D)}handleDidChangeBackgroundTokenizationState(){if(2===this.textModel.tokenization.backgroundTokenizationState){const D=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,D||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:D}){const K=D.map(q=>new y.Q((0,b.Hg)(q.fromLineNumber-1,0),(0,b.Hg)(q.toLineNumber,0),(0,b.Hg)(q.toLineNumber-q.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(K,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(D){const K=D.changes.map(q=>{const we=a.e.lift(q.range);return new y.Q((0,b.PZ)(we.getStartPosition()),(0,b.PZ)(we.getEndPosition()),(0,b.oR)(q.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(K,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(K,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(D,K,q){const Re=K,Xe=new R.xH(this.textModel,this.brackets);return(0,x.w)(Xe,D,Re,q)}getBracketsInRange(D){const K=(0,b.Hg)(D.startLineNumber-1,D.startColumn-1),q=(0,b.Hg)(D.endLineNumber-1,D.endColumn-1),we=new Array,Re=this.initialAstWithoutTokens||this.astWithTokens;return F(Re,b.xl,Re.length,K,q,we,0,new Map),we}getBracketPairsInRange(D,K){const q=new Array,we=(0,b.PZ)(D.getStartPosition()),Re=(0,b.PZ)(D.getEndPosition()),Xe=this.initialAstWithoutTokens||this.astWithTokens,xt=new W(q,K,this.textModel);return B(Xe,b.xl,Xe.length,we,Re,xt,0,new Map),q}getFirstBracketAfter(D){const K=this.initialAstWithoutTokens||this.astWithTokens;return G(K,b.xl,K.length,(0,b.PZ)(D))}getFirstBracketBefore(D){const K=this.initialAstWithoutTokens||this.astWithTokens;return Z(K,b.xl,K.length,(0,b.PZ)(D))}}function Z(_t,D,K,q){if(4===_t.kind||2===_t.kind){const we=[];for(const Re of _t.children)K=(0,b.Ii)(D,Re.length),we.push({nodeOffsetStart:D,nodeOffsetEnd:K}),D=K;for(let Re=we.length-1;Re>=0;Re--){const{nodeOffsetStart:Xe,nodeOffsetEnd:xt}=we[Re];if((0,b.VR)(Xe,q)){const At=Z(_t.children[Re],Xe,xt,q);if(At)return At}}return null}if(3===_t.kind)return null;if(1===_t.kind){const we=(0,b.Qw)(D,K);return{bracketInfo:_t.bracketInfo,range:we}}return null}function G(_t,D,K,q){if(4===_t.kind||2===_t.kind){for(const we of _t.children){if(K=(0,b.Ii)(D,we.length),(0,b.VR)(q,K)){const Re=G(we,D,K,q);if(Re)return Re}D=K}return null}if(3===_t.kind)return null;if(1===_t.kind){const we=(0,b.Qw)(D,K);return{bracketInfo:_t.bracketInfo,range:we}}return null}function F(_t,D,K,q,we,Re,Xe,xt){if(!(Xe>200))if(4===_t.kind)for(const At of _t.children)K=(0,b.Ii)(D,At.length),(0,b.By)(D,we)&&(0,b.Zq)(K,q)&&F(At,D,K,q,we,Re,Xe,xt),D=K;else if(2===_t.kind){let At=0;if(xt){let tn=xt.get(_t.openingBracket.text);void 0===tn&&(tn=0),At=tn,tn++,xt.set(_t.openingBracket.text,tn)}if(K=(0,b.Ii)(D,_t.openingBracket.length),(0,b.By)(D,we)&&(0,b.Zq)(K,q)){const an=(0,b.Qw)(D,K);Re.push(new d(an,Xe,At,!_t.closingBracket))}if(D=K,_t.child){const tn=_t.child;K=(0,b.Ii)(D,tn.length),(0,b.By)(D,we)&&(0,b.Zq)(K,q)&&F(tn,D,K,q,we,Re,Xe+1,xt),D=K}if(_t.closingBracket){if(K=(0,b.Ii)(D,_t.closingBracket.length),(0,b.By)(D,we)&&(0,b.Zq)(K,q)){const an=(0,b.Qw)(D,K);Re.push(new d(an,Xe,At,!1))}D=K}null==xt||xt.set(_t.openingBracket.text,At)}else if(3===_t.kind){const At=(0,b.Qw)(D,K);Re.push(new d(At,Xe-1,0,!0))}else if(1===_t.kind){const At=(0,b.Qw)(D,K);Re.push(new d(At,Xe-1,0,!1))}}class W{constructor(D,K,q){this.result=D,this.includeMinIndentation=K,this.textModel=q}}function B(_t,D,K,q,we,Re,Xe,xt){var At;if(!(Xe>200))if(2===_t.kind){let tn=0;if(xt){let gn=xt.get(_t.openingBracket.text);void 0===gn&&(gn=0),tn=gn,gn++,xt.set(_t.openingBracket.text,gn)}const an=(0,b.Ii)(D,_t.openingBracket.length);let fn=-1;if(Re.includeMinIndentation&&(fn=_t.computeMinIndentation(D,Re.textModel)),Re.result.push(new I((0,b.Qw)(D,K),(0,b.Qw)(D,an),_t.closingBracket?(0,b.Qw)((0,b.Ii)(an,(null===(At=_t.child)||void 0===At?void 0:At.length)||b.xl),K):void 0,Xe,tn,_t,fn)),D=an,_t.child){const gn=_t.child;K=(0,b.Ii)(D,gn.length),(0,b.By)(D,we)&&(0,b.Zq)(K,q)&&B(gn,D,K,q,we,Re,Xe+1,xt)}null==xt||xt.set(_t.openingBracket.text,tn)}else{let tn=D;for(const an of _t.children){const fn=tn;tn=(0,b.Ii)(tn,an.length),(0,b.By)(fn,we)&&(0,b.By)(q,tn)&&B(an,fn,tn,q,we,Re,Xe,xt)}}}var z=e(18555),j=e(93404);class Y extends u.JT{constructor(D,K){super(),this.textModel=D,this.languageConfigurationService=K,this.bracketPairsTree=this._register(new u.XK),this.onDidChangeEmitter=new M.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(q=>{var we;(!q.languageId||(null===(we=this.bracketPairsTree.value)||void 0===we?void 0:we.object.didLanguageChange(q.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get canBuildAST(){return this.textModel.getValueLength()<=5e6}handleDidChangeOptions(D){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(D){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(D){var K;null===(K=this.bracketPairsTree.value)||void 0===K||K.object.handleContentChanged(D)}handleDidChangeBackgroundTokenizationState(){var D;null===(D=this.bracketPairsTree.value)||void 0===D||D.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(D){var K;null===(K=this.bracketPairsTree.value)||void 0===K||K.object.handleDidChangeTokens(D)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const D=new u.SL;this.bracketPairsTree.value=function E(_t,D){return{object:_t,dispose:()=>null==D?void 0:D.dispose()}}(D.add(new Q(this.textModel,K=>this.languageConfigurationService.getLanguageConfiguration(K))),D),D.add(this.bracketPairsTree.value.object.onDidChange(K=>this.onDidChangeEmitter.fire(K))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(D){var K;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(K=this.bracketPairsTree.value)||void 0===K?void 0:K.object.getBracketPairsInRange(D,!1))||[]}getBracketPairsInRangeWithMinIndentation(D){var K;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(K=this.bracketPairsTree.value)||void 0===K?void 0:K.object.getBracketPairsInRange(D,!0))||[]}getBracketsInRange(D){var K;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(K=this.bracketPairsTree.value)||void 0===K?void 0:K.object.getBracketsInRange(D))||[]}findMatchingBracketUp(D,K,q){const we=this.textModel.validatePosition(K),Re=this.textModel.getLanguageIdAtPosition(we.lineNumber,we.column);if(this.canBuildAST){const Xe=this.languageConfigurationService.getLanguageConfiguration(Re).bracketsNew.getClosingBracketInfo(D);if(!Xe)return null;const xt=(0,f.dF)(this.getBracketPairsInRange(a.e.fromPositions(K,K))||[],At=>Xe.closes(At.openingBracketInfo));return xt?xt.openingBracketRange:null}{const Xe=D.toLowerCase(),xt=this.languageConfigurationService.getLanguageConfiguration(Re).brackets;if(!xt)return null;const At=xt.textIsBracket[Xe];return At?te(this._findMatchingBracketUp(At,we,V(q))):null}}matchBracket(D,K){if(this.canBuildAST){const q=(0,f.jV)(this.getBracketPairsInRange(a.e.fromPositions(D,D)).filter(we=>void 0!==we.closingBracketRange&&(we.openingBracketRange.containsPosition(D)||we.closingBracketRange.containsPosition(D))),(0,f.tT)(we=>we.openingBracketRange.containsPosition(D)?we.openingBracketRange:we.closingBracketRange,a.e.compareRangesUsingStarts));return q?[q.openingBracketRange,q.closingBracketRange]:null}{const q=V(K);return this._matchBracket(this.textModel.validatePosition(D),q)}}_establishBracketSearchOffsets(D,K,q,we){const Re=K.getCount(),Xe=K.getLanguageId(we);let xt=Math.max(0,D.column-1-q.maxBracketLength);for(let tn=we-1;tn>=0;tn--){const an=K.getEndOffset(tn);if(an<=xt)break;if((0,z.Bu)(K.getStandardTokenType(tn))||K.getLanguageId(tn)!==Xe){xt=an;break}}let At=Math.min(K.getLineContent().length,D.column-1+q.maxBracketLength);for(let tn=we+1;tn<Re;tn++){const an=K.getStartOffset(tn);if(an>=At)break;if((0,z.Bu)(K.getStandardTokenType(tn))||K.getLanguageId(tn)!==Xe){At=an;break}}return{searchStartOffset:xt,searchEndOffset:At}}_matchBracket(D,K){const q=D.lineNumber,we=this.textModel.tokenization.getLineTokens(q),Re=this.textModel.getLineContent(q),Xe=we.findTokenIndexAtOffset(D.column-1);if(Xe<0)return null;const xt=this.languageConfigurationService.getLanguageConfiguration(we.getLanguageId(Xe)).brackets;if(xt&&!(0,z.Bu)(we.getStandardTokenType(Xe))){let{searchStartOffset:At,searchEndOffset:tn}=this._establishBracketSearchOffsets(D,we,xt,Xe),an=null;for(;;){const fn=j.Vr.findNextBracketInRange(xt.forwardRegex,q,Re,At,tn);if(!fn)break;if(fn.startColumn<=D.column&&D.column<=fn.endColumn){const gn=Re.substring(fn.startColumn-1,fn.endColumn-1).toLowerCase(),Ln=this._matchFoundBracket(fn,xt.textIsBracket[gn],xt.textIsOpenBracket[gn],K);if(Ln){if(Ln instanceof $)return null;an=Ln}}At=fn.endColumn-1}if(an)return an}if(Xe>0&&we.getStartOffset(Xe)===D.column-1){const At=Xe-1,tn=this.languageConfigurationService.getLanguageConfiguration(we.getLanguageId(At)).brackets;if(tn&&!(0,z.Bu)(we.getStandardTokenType(At))){const{searchStartOffset:an,searchEndOffset:fn}=this._establishBracketSearchOffsets(D,we,tn,At),gn=j.Vr.findPrevBracketInRange(tn.reversedRegex,q,Re,an,fn);if(gn&&gn.startColumn<=D.column&&D.column<=gn.endColumn){const Ln=Re.substring(gn.startColumn-1,gn.endColumn-1).toLowerCase(),Rn=this._matchFoundBracket(gn,tn.textIsBracket[Ln],tn.textIsOpenBracket[Ln],K);if(Rn)return Rn instanceof $?null:Rn}}}return null}_matchFoundBracket(D,K,q,we){if(!K)return null;const Re=q?this._findMatchingBracketDown(K,D.getEndPosition(),we):this._findMatchingBracketUp(K,D.getStartPosition(),we);return Re?Re instanceof $?Re:[D,Re]:null}_findMatchingBracketUp(D,K,q){const we=D.languageId,Re=D.reversedRegex;let Xe=-1,xt=0;const At=(tn,an,fn,gn)=>{for(;;){if(q&&++xt%100==0&&!q())return $.INSTANCE;const Ln=j.Vr.findPrevBracketInRange(Re,tn,an,fn,gn);if(!Ln)break;const Rn=an.substring(Ln.startColumn-1,Ln.endColumn-1).toLowerCase();if(D.isOpen(Rn)?Xe++:D.isClose(Rn)&&Xe--,0===Xe)return Ln;gn=Ln.startColumn-1}return null};for(let tn=K.lineNumber;tn>=1;tn--){const an=this.textModel.tokenization.getLineTokens(tn),fn=an.getCount(),gn=this.textModel.getLineContent(tn);let Ln=fn-1,Rn=gn.length,zn=gn.length;tn===K.lineNumber&&(Ln=an.findTokenIndexAtOffset(K.column-1),Rn=K.column-1,zn=K.column-1);let Vn=!0;for(;Ln>=0;Ln--){const oi=an.getLanguageId(Ln)===we&&!(0,z.Bu)(an.getStandardTokenType(Ln));if(oi)Vn?Rn=an.getStartOffset(Ln):(Rn=an.getStartOffset(Ln),zn=an.getEndOffset(Ln));else if(Vn&&Rn!==zn){const hi=At(tn,gn,Rn,zn);if(hi)return hi}Vn=oi}if(Vn&&Rn!==zn){const oi=At(tn,gn,Rn,zn);if(oi)return oi}}return null}_findMatchingBracketDown(D,K,q){const we=D.languageId,Re=D.forwardRegex;let Xe=1,xt=0;const At=(an,fn,gn,Ln)=>{for(;;){if(q&&++xt%100==0&&!q())return $.INSTANCE;const Rn=j.Vr.findNextBracketInRange(Re,an,fn,gn,Ln);if(!Rn)break;const zn=fn.substring(Rn.startColumn-1,Rn.endColumn-1).toLowerCase();if(D.isOpen(zn)?Xe++:D.isClose(zn)&&Xe--,0===Xe)return Rn;gn=Rn.endColumn-1}return null},tn=this.textModel.getLineCount();for(let an=K.lineNumber;an<=tn;an++){const fn=this.textModel.tokenization.getLineTokens(an),gn=fn.getCount(),Ln=this.textModel.getLineContent(an);let Rn=0,zn=0,Vn=0;an===K.lineNumber&&(Rn=fn.findTokenIndexAtOffset(K.column-1),zn=K.column-1,Vn=K.column-1);let oi=!0;for(;Rn<gn;Rn++){const hi=fn.getLanguageId(Rn)===we&&!(0,z.Bu)(fn.getStandardTokenType(Rn));if(hi)oi||(zn=fn.getStartOffset(Rn)),Vn=fn.getEndOffset(Rn);else if(oi&&zn!==Vn){const ii=At(an,Ln,zn,Vn);if(ii)return ii}oi=hi}if(oi&&zn!==Vn){const hi=At(an,Ln,zn,Vn);if(hi)return hi}}return null}findPrevBracket(D){var K;const q=this.textModel.validatePosition(D);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(K=this.bracketPairsTree.value)||void 0===K?void 0:K.object.getFirstBracketBefore(q))||null;let we=null,Re=null,Xe=null;for(let xt=q.lineNumber;xt>=1;xt--){const At=this.textModel.tokenization.getLineTokens(xt),tn=At.getCount(),an=this.textModel.getLineContent(xt);let fn=tn-1,gn=an.length,Ln=an.length;if(xt===q.lineNumber){fn=At.findTokenIndexAtOffset(q.column-1),gn=q.column-1,Ln=q.column-1;const zn=At.getLanguageId(fn);we!==zn&&(we=zn,Re=this.languageConfigurationService.getLanguageConfiguration(we).brackets,Xe=this.languageConfigurationService.getLanguageConfiguration(we).bracketsNew)}let Rn=!0;for(;fn>=0;fn--){const zn=At.getLanguageId(fn);if(we!==zn){if(Re&&Xe&&Rn&&gn!==Ln){const oi=j.Vr.findPrevBracketInRange(Re.reversedRegex,xt,an,gn,Ln);if(oi)return this._toFoundBracket(Xe,oi);Rn=!1}we=zn,Re=this.languageConfigurationService.getLanguageConfiguration(we).brackets,Xe=this.languageConfigurationService.getLanguageConfiguration(we).bracketsNew}const Vn=!!Re&&!(0,z.Bu)(At.getStandardTokenType(fn));if(Vn)Rn?gn=At.getStartOffset(fn):(gn=At.getStartOffset(fn),Ln=At.getEndOffset(fn));else if(Xe&&Re&&Rn&&gn!==Ln){const oi=j.Vr.findPrevBracketInRange(Re.reversedRegex,xt,an,gn,Ln);if(oi)return this._toFoundBracket(Xe,oi)}Rn=Vn}if(Xe&&Re&&Rn&&gn!==Ln){const zn=j.Vr.findPrevBracketInRange(Re.reversedRegex,xt,an,gn,Ln);if(zn)return this._toFoundBracket(Xe,zn)}}return null}findNextBracket(D){var K;const q=this.textModel.validatePosition(D);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(K=this.bracketPairsTree.value)||void 0===K?void 0:K.object.getFirstBracketAfter(q))||null;const we=this.textModel.getLineCount();let Re=null,Xe=null,xt=null;for(let At=q.lineNumber;At<=we;At++){const tn=this.textModel.tokenization.getLineTokens(At),an=tn.getCount(),fn=this.textModel.getLineContent(At);let gn=0,Ln=0,Rn=0;if(At===q.lineNumber){gn=tn.findTokenIndexAtOffset(q.column-1),Ln=q.column-1,Rn=q.column-1;const Vn=tn.getLanguageId(gn);Re!==Vn&&(Re=Vn,Xe=this.languageConfigurationService.getLanguageConfiguration(Re).brackets,xt=this.languageConfigurationService.getLanguageConfiguration(Re).bracketsNew)}let zn=!0;for(;gn<an;gn++){const Vn=tn.getLanguageId(gn);if(Re!==Vn){if(xt&&Xe&&zn&&Ln!==Rn){const hi=j.Vr.findNextBracketInRange(Xe.forwardRegex,At,fn,Ln,Rn);if(hi)return this._toFoundBracket(xt,hi);zn=!1}Re=Vn,Xe=this.languageConfigurationService.getLanguageConfiguration(Re).brackets,xt=this.languageConfigurationService.getLanguageConfiguration(Re).bracketsNew}const oi=!!Xe&&!(0,z.Bu)(tn.getStandardTokenType(gn));if(oi)zn||(Ln=tn.getStartOffset(gn)),Rn=tn.getEndOffset(gn);else if(xt&&Xe&&zn&&Ln!==Rn){const hi=j.Vr.findNextBracketInRange(Xe.forwardRegex,At,fn,Ln,Rn);if(hi)return this._toFoundBracket(xt,hi)}zn=oi}if(xt&&Xe&&zn&&Ln!==Rn){const Vn=j.Vr.findNextBracketInRange(Xe.forwardRegex,At,fn,Ln,Rn);if(Vn)return this._toFoundBracket(xt,Vn)}}return null}findEnclosingBrackets(D,K){const q=this.textModel.validatePosition(D);if(this.canBuildAST){const Ln=a.e.fromPositions(q),Rn=(0,f.dF)(this.getBracketPairsInRange(a.e.fromPositions(q,q)),zn=>void 0!==zn.closingBracketRange&&zn.range.strictContainsRange(Ln));return Rn?[Rn.openingBracketRange,Rn.closingBracketRange]:null}const we=V(K),Re=this.textModel.getLineCount(),Xe=new Map;let xt=[];const At=(Ln,Rn)=>{if(!Xe.has(Ln)){const zn=[];for(let Vn=0,oi=Rn?Rn.brackets.length:0;Vn<oi;Vn++)zn[Vn]=0;Xe.set(Ln,zn)}xt=Xe.get(Ln)};let tn=0;const an=(Ln,Rn,zn,Vn,oi)=>{for(;;){if(we&&++tn%100==0&&!we())return $.INSTANCE;const hi=j.Vr.findNextBracketInRange(Ln.forwardRegex,Rn,zn,Vn,oi);if(!hi)break;const ii=zn.substring(hi.startColumn-1,hi.endColumn-1).toLowerCase(),Ni=Ln.textIsBracket[ii];if(Ni&&(Ni.isOpen(ii)?xt[Ni.index]++:Ni.isClose(ii)&&xt[Ni.index]--,-1===xt[Ni.index]))return this._matchFoundBracket(hi,Ni,!1,we);Vn=hi.endColumn-1}return null};let fn=null,gn=null;for(let Ln=q.lineNumber;Ln<=Re;Ln++){const Rn=this.textModel.tokenization.getLineTokens(Ln),zn=Rn.getCount(),Vn=this.textModel.getLineContent(Ln);let oi=0,hi=0,ii=0;if(Ln===q.lineNumber){oi=Rn.findTokenIndexAtOffset(q.column-1),hi=q.column-1,ii=q.column-1;const Ki=Rn.getLanguageId(oi);fn!==Ki&&(fn=Ki,gn=this.languageConfigurationService.getLanguageConfiguration(fn).brackets,At(fn,gn))}let Ni=!0;for(;oi<zn;oi++){const Ki=Rn.getLanguageId(oi);if(fn!==Ki){if(gn&&Ni&&hi!==ii){const X=an(gn,Ln,Vn,hi,ii);if(X)return te(X);Ni=!1}fn=Ki,gn=this.languageConfigurationService.getLanguageConfiguration(fn).brackets,At(fn,gn)}const Jt=!!gn&&!(0,z.Bu)(Rn.getStandardTokenType(oi));if(Jt)Ni||(hi=Rn.getStartOffset(oi)),ii=Rn.getEndOffset(oi);else if(gn&&Ni&&hi!==ii){const X=an(gn,Ln,Vn,hi,ii);if(X)return te(X)}Ni=Jt}if(gn&&Ni&&hi!==ii){const Ki=an(gn,Ln,Vn,hi,ii);if(Ki)return te(Ki)}}return null}_toFoundBracket(D,K){if(!K)return null;let q=this.textModel.getValueInRange(K);q=q.toLowerCase();const we=D.getBracketInfo(q);return we?{range:K,bracketInfo:we}:null}}function V(_t){if(void 0===_t)return()=>!0;{const D=Date.now();return()=>Date.now()-D<=_t}}class ${constructor(){this._searchCanceledBrand=void 0}}function te(_t){return _t instanceof $?null:_t}$.INSTANCE=new $;var w=e(53448),fe=e(23024);class be extends u.JT{constructor(D){super(),this.textModel=D,this.colorProvider=new me,this.onDidChangeEmitter=new M.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=D.getOptions().bracketPairColorizationOptions,this._register(D.bracketPairs.onDidChange(K=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(D){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(D,K,q){if(void 0===K)return[];if(!this.colorizationOptions.enabled)return[];const we=new Array,Re=this.textModel.bracketPairs.getBracketsInRange(D);for(const Xe of Re)we.push({id:`bracket${Xe.range.toString()}-${Xe.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(Xe,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:Xe.range});return we}getAllDecorations(D,K){return void 0===D?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new a.e(1,1,this.textModel.getLineCount(),1),D,K):[]}}class me{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(D,K){return D.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(K?D.nestingLevelOfEqualBracketType:D.nestingLevel)}getInlineClassNameOfLevel(D){return"bracket-highlighting-"+D%30}}(0,fe.Ic)((_t,D)=>{const K=[w.zJ,w.Vs,w.CE,w.UP,w.r0,w.m1],q=new me;D.addRule(`.monaco-editor .${q.unexpectedClosingBracketClassName} { color: ${_t.getColor(w.ts)}; }`);const we=K.map(Re=>_t.getColor(Re)).filter(Re=>!!Re).filter(Re=>!Re.isTransparent());for(let Re=0;Re<30;Re++){const Xe=we[Re%we.length];D.addRule(`.monaco-editor .${q.getInlineClassNameOfLevel(Re)} { color: ${Xe}; }`)}});var Ie=e(94898),ee=e(64051);class ce{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function he(_t,D,K,q,we){let Re;for(we.spacesDiff=0,we.looksLikeAlignment=!1,Re=0;Re<D&&Re<q&&_t.charCodeAt(Re)===K.charCodeAt(Re);Re++);let Xe=0,xt=0;for(let gn=Re;gn<D;gn++)32===_t.charCodeAt(gn)?Xe++:xt++;let At=0,tn=0;for(let gn=Re;gn<q;gn++)32===K.charCodeAt(gn)?At++:tn++;if(Xe>0&&xt>0||At>0&&tn>0)return;const an=Math.abs(xt-tn),fn=Math.abs(Xe-At);if(0===an)return we.spacesDiff=fn,void(fn>0&&0<=At-1&&At-1<_t.length&&At<K.length&&32!==K.charCodeAt(At)&&32===_t.charCodeAt(At-1)&&44===_t.charCodeAt(_t.length-1)&&(we.looksLikeAlignment=!0));fn%an!=0||(we.spacesDiff=fn/an)}function de(_t,D,K){const q=Math.min(_t.getLineCount(),1e4);let we=0,Re=0,Xe="",xt=0;const At=[2,4,6,8,3,5,7],an=[0,0,0,0,0,0,0,0,0],fn=new ce;for(let Rn=1;Rn<=q;Rn++){const zn=_t.getLineLength(Rn),Vn=_t.getLineContent(Rn),oi=zn<=65536;let hi=!1,ii=0,Ni=0,Ki=0;for(let X=0,Ce=zn;X<Ce;X++){const tt=oi?Vn.charCodeAt(X):_t.getLineCharCode(Rn,X);if(9===tt)Ki++;else{if(32!==tt){hi=!0,ii=X;break}Ni++}}if(!hi||(Ki>0?we++:Ni>1&&Re++,he(Xe,xt,Vn,ii,fn),fn.looksLikeAlignment&&(!K||D!==fn.spacesDiff)))continue;const Jt=fn.spacesDiff;Jt<=8&&an[Jt]++,Xe=Vn,xt=ii}let gn=K;we!==Re&&(gn=we<Re);let Ln=D;if(gn){let Rn=gn?0:.1*q;At.forEach(zn=>{const Vn=an[zn];Vn>Rn&&(Rn=Vn,Ln=zn)}),4===Ln&&an[4]>0&&an[2]>0&&an[2]>=an[4]/2&&(Ln=2)}return{insertSpaces:gn,tabSize:Ln}}function ge(_t){return(1&_t.metadata)>>>0}function re(_t,D){_t.metadata=254&_t.metadata|D<<0}function Se(_t){return(2&_t.metadata)>>>1==1}function Pe(_t,D){_t.metadata=253&_t.metadata|(D?1:0)<<1}function Ve(_t){return(4&_t.metadata)>>>2==1}function ie(_t,D){_t.metadata=251&_t.metadata|(D?1:0)<<2}function _e(_t,D){_t.metadata=231&_t.metadata|D<<3}function Qe(_t,D){_t.metadata=223&_t.metadata|(D?1:0)<<5}class Ae{constructor(D,K,q){this.metadata=0,this.parent=this,this.left=this,this.right=this,re(this,1),this.start=K,this.end=q,this.delta=0,this.maxEnd=q,this.id=D,this.ownerId=0,this.options=null,ie(this,!1),_e(this,1),Qe(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=K,this.cachedAbsoluteEnd=q,this.range=null,Pe(this,!1)}reset(D,K,q,we){this.start=K,this.end=q,this.maxEnd=q,this.cachedVersionId=D,this.cachedAbsoluteStart=K,this.cachedAbsoluteEnd=q,this.range=we}setOptions(D){this.options=D;const K=this.options.className;ie(this,"squiggly-error"===K||"squiggly-warning"===K||"squiggly-info"===K),_e(this,this.options.stickiness),Qe(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(D,K,q){this.cachedVersionId!==q&&(this.range=null),this.cachedVersionId=q,this.cachedAbsoluteStart=D,this.cachedAbsoluteEnd=K}detach(){this.parent=null,this.left=null,this.right=null}}const pe=new Ae(null,0,0);pe.parent=pe,pe.left=pe,pe.right=pe,re(pe,0);class De{constructor(){this.root=pe,this.requestNormalizeDelta=!1}intervalSearch(D,K,q,we,Re){return this.root===pe?[]:function He(_t,D,K,q,we,Re){let Xe=_t.root,xt=0,At=0,tn=0,an=0;const fn=[];let gn=0;for(;Xe!==pe;)if(Se(Xe))Pe(Xe.left,!1),Pe(Xe.right,!1),Xe===Xe.parent.right&&(xt-=Xe.parent.delta),Xe=Xe.parent;else{if(!Se(Xe.left)){if(At=xt+Xe.maxEnd,At<D){Pe(Xe,!0);continue}if(Xe.left!==pe){Xe=Xe.left;continue}}if(tn=xt+Xe.start,tn>K)Pe(Xe,!0);else{if(an=xt+Xe.end,an>=D){Xe.setCachedOffsets(tn,an,Re);let Ln=!0;q&&Xe.ownerId&&Xe.ownerId!==q&&(Ln=!1),we&&Ve(Xe)&&(Ln=!1),Ln&&(fn[gn++]=Xe)}Pe(Xe,!0),Xe.right===pe||Se(Xe.right)||(xt+=Xe.delta,Xe=Xe.right)}}return Pe(_t.root,!1),fn}(this,D,K,q,we,Re)}search(D,K,q){return this.root===pe?[]:function Ke(_t,D,K,q){let we=_t.root,Re=0,Xe=0,xt=0;const At=[];let tn=0;for(;we!==pe;){if(Se(we)){Pe(we.left,!1),Pe(we.right,!1),we===we.parent.right&&(Re-=we.parent.delta),we=we.parent;continue}if(we.left!==pe&&!Se(we.left)){we=we.left;continue}Xe=Re+we.start,xt=Re+we.end,we.setCachedOffsets(Xe,xt,q);let an=!0;D&&we.ownerId&&we.ownerId!==D&&(an=!1),K&&Ve(we)&&(an=!1),an&&(At[tn++]=we),Pe(we,!0),we.right===pe||Se(we.right)||(Re+=we.delta,we=we.right)}return Pe(_t.root,!1),At}(this,D,K,q)}collectNodesFromOwner(D){return function gt(_t,D){let K=_t.root;const q=[];let we=0;for(;K!==pe;)Se(K)?(Pe(K.left,!1),Pe(K.right,!1),K=K.parent):K.left===pe||Se(K.left)?(K.ownerId===D&&(q[we++]=K),Pe(K,!0),K.right===pe||Se(K.right)||(K=K.right)):K=K.left;return Pe(_t.root,!1),q}(this,D)}collectNodesPostOrder(){return function lt(_t){let D=_t.root;const K=[];let q=0;for(;D!==pe;)Se(D)?(Pe(D.left,!1),Pe(D.right,!1),D=D.parent):D.left===pe||Se(D.left)?D.right===pe||Se(D.right)?(K[q++]=D,Pe(D,!0)):D=D.right:D=D.left;return Pe(_t.root,!1),K}(this)}insert(D){Ue(this,D),this._normalizeDeltaIfNecessary()}delete(D){et(this,D),this._normalizeDeltaIfNecessary()}resolveNode(D,K){const q=D;let we=0;for(;D!==this.root;)D===D.parent.right&&(we+=D.parent.delta),D=D.parent;q.setCachedOffsets(q.start+we,q.end+we,K)}acceptReplace(D,K,q,we){const Re=function xe(_t,D,K){let q=_t.root,we=0,Re=0,Xe=0,xt=0;const At=[];let tn=0;for(;q!==pe;)if(Se(q))Pe(q.left,!1),Pe(q.right,!1),q===q.parent.right&&(we-=q.parent.delta),q=q.parent;else{if(!Se(q.left)){if(Re=we+q.maxEnd,Re<D){Pe(q,!0);continue}if(q.left!==pe){q=q.left;continue}}Xe=we+q.start,Xe>K?Pe(q,!0):(xt=we+q.end,xt>=D&&(q.setCachedOffsets(Xe,xt,0),At[tn++]=q),Pe(q,!0),q.right===pe||Se(q.right)||(we+=q.delta,q=q.right))}return Pe(_t.root,!1),At}(this,D,D+K);for(let Xe=0,xt=Re.length;Xe<xt;Xe++)et(this,Re[Xe]);this._normalizeDeltaIfNecessary(),function Je(_t,D,K,q){let we=_t.root,Re=0,Xe=0,xt=0;const At=q-(K-D);for(;we!==pe;)if(Se(we))Pe(we.left,!1),Pe(we.right,!1),we===we.parent.right&&(Re-=we.parent.delta),$t(we),we=we.parent;else{if(!Se(we.left)){if(Xe=Re+we.maxEnd,Xe<D){Pe(we,!0);continue}if(we.left!==pe){we=we.left;continue}}xt=Re+we.start,xt>K?(we.start+=At,we.end+=At,we.delta+=At,(we.delta<-1073741824||we.delta>1073741824)&&(_t.requestNormalizeDelta=!0),Pe(we,!0)):(Pe(we,!0),we.right===pe||Se(we.right)||(Re+=we.delta,we=we.right))}Pe(_t.root,!1)}(this,D,D+K,q),this._normalizeDeltaIfNecessary();for(let Xe=0,xt=Re.length;Xe<xt;Xe++){const At=Re[Xe];At.start=At.cachedAbsoluteStart,At.end=At.cachedAbsoluteEnd,ne(At,D,D+K,q,we),At.maxEnd=At.end,Ue(this,At)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,function Oe(_t){let D=_t.root,K=0;for(;D!==pe;)D.left===pe||Se(D.left)?D.right===pe||Se(D.right)?(D.start=K+D.start,D.end=K+D.end,D.delta=0,$t(D),Pe(D,!0),Pe(D.left,!1),Pe(D.right,!1),D===D.parent.right&&(K-=D.parent.delta),D=D.parent):(K+=D.delta,D=D.right):D=D.left;Pe(_t.root,!1)}(this))}}function Ne(_t,D,K,q){return _t<K||!(_t>K||1===q)&&(2===q||D)}function ne(_t,D,K,q,we){const Re=function ye(_t){return(24&_t.metadata)>>>3}(_t),Xe=0===Re||2===Re,xt=1===Re||2===Re,At=K-D,tn=q,an=Math.min(At,tn),fn=_t.start;let gn=!1;const Ln=_t.end;let Rn=!1;D<=fn&&Ln<=K&&function Be(_t){return(32&_t.metadata)>>>5==1}(_t)&&(_t.start=D,gn=!0,_t.end=D,Rn=!0);{const Vn=we?1:At>0?2:0;!gn&&Ne(fn,Xe,D,Vn)&&(gn=!0),!Rn&&Ne(Ln,xt,D,Vn)&&(Rn=!0)}if(an>0&&!we){const Vn=At>tn?2:0;!gn&&Ne(fn,Xe,D+an,Vn)&&(gn=!0),!Rn&&Ne(Ln,xt,D+an,Vn)&&(Rn=!0)}{const Vn=we?1:0;!gn&&Ne(fn,Xe,K,Vn)&&(_t.start=D+tn,gn=!0),!Rn&&Ne(Ln,xt,K,Vn)&&(_t.end=D+tn,Rn=!0)}const zn=tn-At;gn||(_t.start=Math.max(0,fn+zn)),Rn||(_t.end=Math.max(0,Ln+zn)),_t.start>_t.end&&(_t.end=_t.start)}function Ue(_t,D){if(_t.root===pe)return D.parent=pe,D.left=pe,D.right=pe,re(D,0),_t.root=D,_t.root;(function ot(_t,D){let K=0,q=_t.root;const we=D.start,Re=D.end;for(;;)if(vn(we,Re,q.start+K,q.end+K)<0){if(q.left===pe){D.start-=K,D.end-=K,D.maxEnd-=K,q.left=D;break}q=q.left}else{if(q.right===pe){D.start-=K+q.delta,D.end-=K+q.delta,D.maxEnd-=K+q.delta,q.right=D;break}K+=q.delta,q=q.right}D.parent=q,D.left=pe,D.right=pe,re(D,1)})(_t,D),hn(D.parent);let K=D;for(;K!==_t.root&&1===ge(K.parent);)if(K.parent===K.parent.parent.left){const q=K.parent.parent.right;1===ge(q)?(re(K.parent,0),re(q,0),re(K.parent.parent,1),K=K.parent.parent):(K===K.parent.right&&(K=K.parent,Nt(_t,K)),re(K.parent,0),re(K.parent.parent,1),ze(_t,K.parent.parent))}else{const q=K.parent.parent.left;1===ge(q)?(re(K.parent,0),re(q,0),re(K.parent.parent,1),K=K.parent.parent):(K===K.parent.left&&(K=K.parent,ze(_t,K)),re(K.parent,0),re(K.parent.parent,1),Nt(_t,K.parent.parent))}return re(_t.root,0),D}function et(_t,D){let K,q;if(D.left===pe?(K=D.right,q=D,K.delta+=D.delta,(K.delta<-1073741824||K.delta>1073741824)&&(_t.requestNormalizeDelta=!0),K.start+=D.delta,K.end+=D.delta):D.right===pe?(K=D.left,q=D):(q=function Ze(_t){for(;_t.left!==pe;)_t=_t.left;return _t}(D.right),K=q.right,K.start+=q.delta,K.end+=q.delta,K.delta+=q.delta,(K.delta<-1073741824||K.delta>1073741824)&&(_t.requestNormalizeDelta=!0),q.start+=D.delta,q.end+=D.delta,q.delta=D.delta,(q.delta<-1073741824||q.delta>1073741824)&&(_t.requestNormalizeDelta=!0)),q===_t.root)return _t.root=K,re(K,0),D.detach(),Mt(),$t(K),void(_t.root.parent=pe);const we=1===ge(q);if(q===q.parent.left?q.parent.left=K:q.parent.right=K,q===D?K.parent=q.parent:(K.parent=q.parent===D?q:q.parent,q.left=D.left,q.right=D.right,q.parent=D.parent,re(q,ge(D)),D===_t.root?_t.root=q:D===D.parent.left?D.parent.left=q:D.parent.right=q,q.left!==pe&&(q.left.parent=q),q.right!==pe&&(q.right.parent=q)),D.detach(),we)return hn(K.parent),q!==D&&(hn(q),hn(q.parent)),void Mt();let Re;for(hn(K),hn(K.parent),q!==D&&(hn(q),hn(q.parent));K!==_t.root&&0===ge(K);)K===K.parent.left?(Re=K.parent.right,1===ge(Re)&&(re(Re,0),re(K.parent,1),Nt(_t,K.parent),Re=K.parent.right),0===ge(Re.left)&&0===ge(Re.right)?(re(Re,1),K=K.parent):(0===ge(Re.right)&&(re(Re.left,0),re(Re,1),ze(_t,Re),Re=K.parent.right),re(Re,ge(K.parent)),re(K.parent,0),re(Re.right,0),Nt(_t,K.parent),K=_t.root)):(Re=K.parent.left,1===ge(Re)&&(re(Re,0),re(K.parent,1),ze(_t,K.parent),Re=K.parent.left),0===ge(Re.left)&&0===ge(Re.right)?(re(Re,1),K=K.parent):(0===ge(Re.left)&&(re(Re.right,0),re(Re,1),Nt(_t,Re),Re=K.parent.left),re(Re,ge(K.parent)),re(K.parent,0),re(Re.left,0),ze(_t,K.parent),K=_t.root));re(K,0),Mt()}function Mt(){pe.parent=pe,pe.delta=0,pe.start=0,pe.end=0}function Nt(_t,D){const K=D.right;K.delta+=D.delta,(K.delta<-1073741824||K.delta>1073741824)&&(_t.requestNormalizeDelta=!0),K.start+=D.delta,K.end+=D.delta,D.right=K.left,K.left!==pe&&(K.left.parent=D),K.parent=D.parent,D.parent===pe?_t.root=K:D===D.parent.left?D.parent.left=K:D.parent.right=K,K.left=D,D.parent=K,$t(D),$t(K)}function ze(_t,D){const K=D.left;D.delta-=K.delta,(D.delta<-1073741824||D.delta>1073741824)&&(_t.requestNormalizeDelta=!0),D.start-=K.delta,D.end-=K.delta,D.left=K.right,K.right!==pe&&(K.right.parent=D),K.parent=D.parent,D.parent===pe?_t.root=K:D===D.parent.right?D.parent.right=K:D.parent.left=K,K.right=D,D.parent=K,$t(D),$t(K)}function dt(_t){let D=_t.end;if(_t.left!==pe){const K=_t.left.maxEnd;K>D&&(D=K)}if(_t.right!==pe){const K=_t.right.maxEnd+_t.delta;K>D&&(D=K)}return D}function $t(_t){_t.maxEnd=dt(_t)}function hn(_t){for(;_t!==pe;){const D=dt(_t);if(_t.maxEnd===D)return;_t.maxEnd=D,_t=_t.parent}}function vn(_t,D,K,q){return _t===K?D-q:_t-K}class ft{constructor(D,K){this.piece=D,this.color=K,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==ke)return nt(this.right);let D=this;for(;D.parent!==ke&&D.parent.left!==D;)D=D.parent;return D.parent===ke?ke:D.parent}prev(){if(this.left!==ke)return st(this.left);let D=this;for(;D.parent!==ke&&D.parent.right!==D;)D=D.parent;return D.parent===ke?ke:D.parent}detach(){this.parent=null,this.left=null,this.right=null}}const ke=new ft(null,0);function nt(_t){for(;_t.left!==ke;)_t=_t.left;return _t}function st(_t){for(;_t.right!==ke;)_t=_t.right;return _t}function Ee(_t){return _t===ke?0:_t.size_left+_t.piece.length+Ee(_t.right)}function Fe(_t){return _t===ke?0:_t.lf_left+_t.piece.lineFeedCnt+Fe(_t.right)}function mt(){ke.parent=ke}function Vt(_t,D){const K=D.right;K.size_left+=D.size_left+(D.piece?D.piece.length:0),K.lf_left+=D.lf_left+(D.piece?D.piece.lineFeedCnt:0),D.right=K.left,K.left!==ke&&(K.left.parent=D),K.parent=D.parent,D.parent===ke?_t.root=K:D.parent.left===D?D.parent.left=K:D.parent.right=K,K.left=D,D.parent=K}function qt(_t,D){const K=D.left;D.left=K.right,K.right!==ke&&(K.right.parent=D),K.parent=D.parent,D.size_left-=K.size_left+(K.piece?K.piece.length:0),D.lf_left-=K.lf_left+(K.piece?K.piece.lineFeedCnt:0),D.parent===ke?_t.root=K:D===D.parent.right?D.parent.right=K:D.parent.left=K,K.right=D,D.parent=K}function Cn(_t,D){let K,q;if(D.left===ke?(q=D,K=q.right):D.right===ke?(q=D,K=q.left):(q=nt(D.right),K=q.right),q===_t.root)return _t.root=K,K.color=0,D.detach(),mt(),void(_t.root.parent=ke);const we=1===q.color;if(q===q.parent.left?q.parent.left=K:q.parent.right=K,q===D?(K.parent=q.parent,Yt(_t,K)):(K.parent=q.parent===D?q:q.parent,Yt(_t,K),q.left=D.left,q.right=D.right,q.parent=D.parent,q.color=D.color,D===_t.root?_t.root=q:D===D.parent.left?D.parent.left=q:D.parent.right=q,q.left!==ke&&(q.left.parent=q),q.right!==ke&&(q.right.parent=q),q.size_left=D.size_left,q.lf_left=D.lf_left,Yt(_t,q)),D.detach(),K.parent.left===K){const Xe=Ee(K),xt=Fe(K);if(Xe!==K.parent.size_left||xt!==K.parent.lf_left){const At=Xe-K.parent.size_left,tn=xt-K.parent.lf_left;K.parent.size_left=Xe,K.parent.lf_left=xt,en(_t,K.parent,At,tn)}}if(Yt(_t,K.parent),we)return void mt();let Re;for(;K!==_t.root&&0===K.color;)K===K.parent.left?(Re=K.parent.right,1===Re.color&&(Re.color=0,K.parent.color=1,Vt(_t,K.parent),Re=K.parent.right),0===Re.left.color&&0===Re.right.color?(Re.color=1,K=K.parent):(0===Re.right.color&&(Re.left.color=0,Re.color=1,qt(_t,Re),Re=K.parent.right),Re.color=K.parent.color,K.parent.color=0,Re.right.color=0,Vt(_t,K.parent),K=_t.root)):(Re=K.parent.left,1===Re.color&&(Re.color=0,K.parent.color=1,qt(_t,K.parent),Re=K.parent.left),0===Re.left.color&&0===Re.right.color?(Re.color=1,K=K.parent):(0===Re.left.color&&(Re.right.color=0,Re.color=1,Vt(_t,Re),Re=K.parent.left),Re.color=K.parent.color,K.parent.color=0,Re.left.color=0,qt(_t,K.parent),K=_t.root));K.color=0,mt()}function Gt(_t,D){for(Yt(_t,D);D!==_t.root&&1===D.parent.color;)if(D.parent===D.parent.parent.left){const K=D.parent.parent.right;1===K.color?(D.parent.color=0,K.color=0,D.parent.parent.color=1,D=D.parent.parent):(D===D.parent.right&&Vt(_t,D=D.parent),D.parent.color=0,D.parent.parent.color=1,qt(_t,D.parent.parent))}else{const K=D.parent.parent.left;1===K.color?(D.parent.color=0,K.color=0,D.parent.parent.color=1,D=D.parent.parent):(D===D.parent.left&&qt(_t,D=D.parent),D.parent.color=0,D.parent.parent.color=1,Vt(_t,D.parent.parent))}_t.root.color=0}function en(_t,D,K,q){for(;D!==_t.root&&D!==ke;)D.parent.left===D&&(D.parent.size_left+=K,D.parent.lf_left+=q),D=D.parent}function Yt(_t,D){let K=0,q=0;if(D!==_t.root){for(;D!==_t.root&&D===D.parent.right;)D=D.parent;if(D!==_t.root)for(K=Ee((D=D.parent).left)-D.size_left,q=Fe(D.left)-D.lf_left,D.size_left+=K,D.lf_left+=q;D!==_t.root&&(0!==K||0!==q);)D.parent.left===D&&(D.parent.size_left+=K,D.parent.lf_left+=q),D=D.parent}}ke.parent=ke,ke.left=ke,ke.right=ke,ke.color=0;var ht=e(31154);const Ct=65535;function rn(_t){let D;return D=_t[_t.length-1]<65536?new Uint16Array(_t.length):new Uint32Array(_t.length),D.set(_t,0),D}class jt{constructor(D,K,q,we,Re){this.lineStarts=D,this.cr=K,this.lf=q,this.crlf=we,this.isBasicASCII=Re}}function yn(_t,D=!0){const K=[0];let q=1;for(let we=0,Re=_t.length;we<Re;we++){const Xe=_t.charCodeAt(we);13===Xe?we+1<Re&&10===_t.charCodeAt(we+1)?(K[q++]=we+2,we++):K[q++]=we+1:10===Xe&&(K[q++]=we+1)}return D?rn(K):K}class xn{constructor(D,K,q,we,Re){this.bufferIndex=D,this.start=K,this.end=q,this.lineFeedCnt=we,this.length=Re}}class Un{constructor(D,K){this.buffer=D,this.lineStarts=K}}class ai{constructor(D,K){this._pieces=[],this._tree=D,this._BOM=K,this._index=0,D.root!==ke&&D.iterate(D.root,q=>(q!==ke&&this._pieces.push(q.piece),!0))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class ei{constructor(D){this._limit=D,this._cache=[]}get(D){for(let K=this._cache.length-1;K>=0;K--){const q=this._cache[K];if(q.nodeStartOffset<=D&&q.nodeStartOffset+q.node.piece.length>=D)return q}return null}get2(D){for(let K=this._cache.length-1;K>=0;K--){const q=this._cache[K];if(q.nodeStartLineNumber&&q.nodeStartLineNumber<D&&q.nodeStartLineNumber+q.node.piece.lineFeedCnt>=D)return q}return null}set(D){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(D)}validate(D){let K=!1;const q=this._cache;for(let we=0;we<q.length;we++){const Re=q[we];(null===Re.node.parent||Re.nodeStartOffset>=D)&&(q[we]=null,K=!0)}if(K){const we=[];for(const Re of q)null!==Re&&we.push(Re);this._cache=we}}}class Di{constructor(D,K,q){this.create(D,K,q)}create(D,K,q){this._buffers=[new Un("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=ke,this._lineCnt=1,this._length=0,this._EOL=K,this._EOLLength=K.length,this._EOLNormalized=q;let we=null;for(let Re=0,Xe=D.length;Re<Xe;Re++)if(D[Re].buffer.length>0){D[Re].lineStarts||(D[Re].lineStarts=yn(D[Re].buffer));const xt=new xn(Re+1,{line:0,column:0},{line:D[Re].lineStarts.length-1,column:D[Re].buffer.length-D[Re].lineStarts[D[Re].lineStarts.length-1]},D[Re].lineStarts.length-1,D[Re].buffer.length);this._buffers.push(D[Re]),we=this.rbInsertRight(we,xt)}this._searchCache=new ei(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(D){const q=65535-Math.floor(21845),we=2*q;let Re="",Xe=0;const xt=[];if(this.iterate(this.root,At=>{const tn=this.getNodeContent(At),an=tn.length;if(Xe<=q||Xe+an<we)return Re+=tn,Xe+=an,!0;const fn=Re.replace(/\r\n|\r|\n/g,D);return xt.push(new Un(fn,yn(fn))),Re=tn,Xe=an,!0}),Xe>0){const At=Re.replace(/\r\n|\r|\n/g,D);xt.push(new Un(At,yn(At)))}this.create(xt,D,!0)}getEOL(){return this._EOL}setEOL(D){this._EOL=D,this._EOLLength=this._EOL.length,this.normalizeEOL(D)}createSnapshot(D){return new ai(this,D)}getOffsetAt(D,K){let q=0,we=this.root;for(;we!==ke;)if(we.left!==ke&&we.lf_left+1>=D)we=we.left;else{if(we.lf_left+we.piece.lineFeedCnt+1>=D)return q+=we.size_left,q+(this.getAccumulatedValue(we,D-we.lf_left-2)+K-1);D-=we.lf_left+we.piece.lineFeedCnt,q+=we.size_left+we.piece.length,we=we.right}return q}getPositionAt(D){D=Math.floor(D),D=Math.max(0,D);let K=this.root,q=0;const we=D;for(;K!==ke;)if(0!==K.size_left&&K.size_left>=D)K=K.left;else{if(K.size_left+K.piece.length>=D){const Re=this.getIndexOf(K,D-K.size_left);if(q+=K.lf_left+Re.index,0===Re.index){const Xe=this.getOffsetAt(q+1,1);return new _.L(q+1,we-Xe+1)}return new _.L(q+1,Re.remainder+1)}if(D-=K.size_left+K.piece.length,q+=K.lf_left+K.piece.lineFeedCnt,K.right===ke){const Re=this.getOffsetAt(q+1,1);return new _.L(q+1,we-D-Re+1)}K=K.right}return new _.L(1,1)}getValueInRange(D,K){if(D.startLineNumber===D.endLineNumber&&D.startColumn===D.endColumn)return"";const q=this.nodeAt2(D.startLineNumber,D.startColumn),we=this.nodeAt2(D.endLineNumber,D.endColumn),Re=this.getValueInRange2(q,we);return K?K===this._EOL&&this._EOLNormalized&&K===this.getEOL()&&this._EOLNormalized?Re:Re.replace(/\r\n|\r|\n/g,K):Re}getValueInRange2(D,K){if(D.node===K.node){const xt=D.node,At=this._buffers[xt.piece.bufferIndex].buffer,tn=this.offsetInBuffer(xt.piece.bufferIndex,xt.piece.start);return At.substring(tn+D.remainder,tn+K.remainder)}let q=D.node;const we=this._buffers[q.piece.bufferIndex].buffer,Re=this.offsetInBuffer(q.piece.bufferIndex,q.piece.start);let Xe=we.substring(Re+D.remainder,Re+q.piece.length);for(q=q.next();q!==ke;){const xt=this._buffers[q.piece.bufferIndex].buffer,At=this.offsetInBuffer(q.piece.bufferIndex,q.piece.start);if(q===K.node){Xe+=xt.substring(At,At+K.remainder);break}Xe+=xt.substr(At,q.piece.length),q=q.next()}return Xe}getLinesContent(){const D=[];let K=0,q="",we=!1;return this.iterate(this.root,Re=>{if(Re===ke)return!0;const Xe=Re.piece;let xt=Xe.length;if(0===xt)return!0;const At=this._buffers[Xe.bufferIndex].buffer,tn=this._buffers[Xe.bufferIndex].lineStarts,an=Xe.start.line,fn=Xe.end.line;let gn=tn[an]+Xe.start.column;if(we&&(10===At.charCodeAt(gn)&&(gn++,xt--),D[K++]=q,q="",we=!1,0===xt))return!0;if(an===fn)return this._EOLNormalized||13!==At.charCodeAt(gn+xt-1)?q+=At.substr(gn,xt):(we=!0,q+=At.substr(gn,xt-1)),!0;q+=this._EOLNormalized?At.substring(gn,Math.max(gn,tn[an+1]-this._EOLLength)):At.substring(gn,tn[an+1]).replace(/(\r\n|\r|\n)$/,""),D[K++]=q;for(let Ln=an+1;Ln<fn;Ln++)q=this._EOLNormalized?At.substring(tn[Ln],tn[Ln+1]-this._EOLLength):At.substring(tn[Ln],tn[Ln+1]).replace(/(\r\n|\r|\n)$/,""),D[K++]=q;return this._EOLNormalized||13!==At.charCodeAt(tn[fn]+Xe.end.column-1)?q=At.substr(tn[fn],Xe.end.column):(we=!0,0===Xe.end.column?K--:q=At.substr(tn[fn],Xe.end.column-1)),!0}),we&&(D[K++]=q,q=""),D[K++]=q,D}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(D){return this._lastVisitedLine.lineNumber===D||(this._lastVisitedLine.lineNumber=D,this._lastVisitedLine.value=D===this._lineCnt?this.getLineRawContent(D):this._EOLNormalized?this.getLineRawContent(D,this._EOLLength):this.getLineRawContent(D).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(D){if(D.remainder===D.node.piece.length){const K=D.node.next();if(!K)return 0;const q=this._buffers[K.piece.bufferIndex],we=this.offsetInBuffer(K.piece.bufferIndex,K.piece.start);return q.buffer.charCodeAt(we)}{const K=this._buffers[D.node.piece.bufferIndex],we=this.offsetInBuffer(D.node.piece.bufferIndex,D.node.piece.start)+D.remainder;return K.buffer.charCodeAt(we)}}getLineCharCode(D,K){const q=this.nodeAt2(D,K+1);return this._getCharCode(q)}getLineLength(D){if(D===this.getLineCount()){const K=this.getOffsetAt(D,1);return this.getLength()-K}return this.getOffsetAt(D+1,1)-this.getOffsetAt(D,1)-this._EOLLength}findMatchesInNode(D,K,q,we,Re,Xe,xt,At,tn,an,fn){const gn=this._buffers[D.piece.bufferIndex],Ln=this.offsetInBuffer(D.piece.bufferIndex,D.piece.start),Rn=this.offsetInBuffer(D.piece.bufferIndex,Re),zn=this.offsetInBuffer(D.piece.bufferIndex,Xe);let Vn;const oi={line:0,column:0};let hi,ii;K._wordSeparators?(hi=gn.buffer.substring(Rn,zn),ii=Ni=>Ni+Rn,K.reset(0)):(hi=gn.buffer,ii=Ni=>Ni,K.reset(Rn));do{if(Vn=K.next(hi),Vn){if(ii(Vn.index)>=zn)return an;this.positionInBuffer(D,ii(Vn.index)-Ln,oi);const Ni=this.getLineFeedCnt(D.piece.bufferIndex,Re,oi),Ki=oi.line===Re.line?oi.column-Re.column+we:oi.column+1;if(fn[an++]=(0,ht.iE)(new a.e(q+Ni,Ki,q+Ni,Ki+Vn[0].length),Vn,At),ii(Vn.index)+Vn[0].length>=zn||an>=tn)return an}}while(Vn);return an}findMatchesLineByLine(D,K,q,we){const Re=[];let Xe=0;const xt=new ht.sz(K.wordSeparators,K.regex);let At=this.nodeAt2(D.startLineNumber,D.startColumn);if(null===At)return[];const tn=this.nodeAt2(D.endLineNumber,D.endColumn);if(null===tn)return[];let an=this.positionInBuffer(At.node,At.remainder);const fn=this.positionInBuffer(tn.node,tn.remainder);if(At.node===tn.node)return this.findMatchesInNode(At.node,xt,D.startLineNumber,D.startColumn,an,fn,K,q,we,Xe,Re),Re;let gn=D.startLineNumber,Ln=At.node;for(;Ln!==tn.node;){const zn=this.getLineFeedCnt(Ln.piece.bufferIndex,an,Ln.piece.end);if(zn>=1){const oi=this._buffers[Ln.piece.bufferIndex].lineStarts,hi=this.offsetInBuffer(Ln.piece.bufferIndex,Ln.piece.start);if(Xe=this.findMatchesInNode(Ln,xt,gn,gn===D.startLineNumber?D.startColumn:1,an,this.positionInBuffer(Ln,oi[an.line+zn]-hi),K,q,we,Xe,Re),Xe>=we)return Re;gn+=zn}const Vn=gn===D.startLineNumber?D.startColumn-1:0;if(gn===D.endLineNumber){const oi=this.getLineContent(gn).substring(Vn,D.endColumn-1);return Xe=this._findMatchesInLine(K,xt,oi,D.endLineNumber,Vn,Xe,Re,q,we),Re}if(Xe=this._findMatchesInLine(K,xt,this.getLineContent(gn).substr(Vn),gn,Vn,Xe,Re,q,we),Xe>=we)return Re;gn++,At=this.nodeAt2(gn,1),Ln=At.node,an=this.positionInBuffer(At.node,At.remainder)}if(gn===D.endLineNumber){const zn=gn===D.startLineNumber?D.startColumn-1:0,Vn=this.getLineContent(gn).substring(zn,D.endColumn-1);return Xe=this._findMatchesInLine(K,xt,Vn,D.endLineNumber,zn,Xe,Re,q,we),Re}return Xe=this.findMatchesInNode(tn.node,xt,gn,gn===D.startLineNumber?D.startColumn:1,an,fn,K,q,we,Xe,Re),Re}_findMatchesInLine(D,K,q,we,Re,Xe,xt,At,tn){const an=D.wordSeparators;if(!At&&D.simpleSearch){const gn=D.simpleSearch,Ln=gn.length,Rn=q.length;let zn=-Ln;for(;-1!==(zn=q.indexOf(gn,zn+Ln));)if((!an||(0,ht.cM)(an,q,Rn,zn,Ln))&&(xt[Xe++]=new v.tk(new a.e(we,zn+1+Re,we,zn+1+Ln+Re),null),Xe>=tn))return Xe;return Xe}let fn;K.reset(0);do{if(fn=K.next(q),fn&&(xt[Xe++]=(0,ht.iE)(new a.e(we,fn.index+1+Re,we,fn.index+1+fn[0].length+Re),fn,At),Xe>=tn))return Xe}while(fn);return Xe}insert(D,K,q=!1){if(this._EOLNormalized=this._EOLNormalized&&q,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==ke){const{node:we,remainder:Re,nodeStartOffset:Xe}=this.nodeAt(D),xt=we.piece,At=xt.bufferIndex,tn=this.positionInBuffer(we,Re);if(0===we.piece.bufferIndex&&xt.end.line===this._lastChangeBufferPos.line&&xt.end.column===this._lastChangeBufferPos.column&&Xe+xt.length===D&&K.length<Ct)return this.appendToNode(we,K),void this.computeBufferMetadata();if(Xe===D)this.insertContentToNodeLeft(K,we),this._searchCache.validate(D);else if(Xe+we.piece.length>D){const an=[];let fn=new xn(xt.bufferIndex,tn,xt.end,this.getLineFeedCnt(xt.bufferIndex,tn,xt.end),this.offsetInBuffer(At,xt.end)-this.offsetInBuffer(At,tn));if(this.shouldCheckCRLF()&&this.endWithCR(K)&&10===this.nodeCharCodeAt(we,Re)){const zn={line:fn.start.line+1,column:0};fn=new xn(fn.bufferIndex,zn,fn.end,this.getLineFeedCnt(fn.bufferIndex,zn,fn.end),fn.length-1),K+="\n"}if(this.shouldCheckCRLF()&&this.startWithLF(K))if(13===this.nodeCharCodeAt(we,Re-1)){const zn=this.positionInBuffer(we,Re-1);this.deleteNodeTail(we,zn),K="\r"+K,0===we.piece.length&&an.push(we)}else this.deleteNodeTail(we,tn);else this.deleteNodeTail(we,tn);const gn=this.createNewPieces(K);fn.length>0&&this.rbInsertRight(we,fn);let Ln=we;for(let Rn=0;Rn<gn.length;Rn++)Ln=this.rbInsertRight(Ln,gn[Rn]);this.deleteNodes(an)}else this.insertContentToNodeRight(K,we)}else{const we=this.createNewPieces(K);let Re=this.rbInsertLeft(null,we[0]);for(let Xe=1;Xe<we.length;Xe++)Re=this.rbInsertRight(Re,we[Xe])}this.computeBufferMetadata()}delete(D,K){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",K<=0||this.root===ke)return;const q=this.nodeAt(D),we=this.nodeAt(D+K),Re=q.node,Xe=we.node;if(Re===Xe){const gn=this.positionInBuffer(Re,q.remainder),Ln=this.positionInBuffer(Re,we.remainder);if(q.nodeStartOffset===D){if(K===Re.piece.length){const Rn=Re.next();return Cn(this,Re),this.validateCRLFWithPrevNode(Rn),void this.computeBufferMetadata()}return this.deleteNodeHead(Re,Ln),this._searchCache.validate(D),this.validateCRLFWithPrevNode(Re),void this.computeBufferMetadata()}return q.nodeStartOffset+Re.piece.length===D+K?(this.deleteNodeTail(Re,gn),this.validateCRLFWithNextNode(Re),void this.computeBufferMetadata()):(this.shrinkNode(Re,gn,Ln),void this.computeBufferMetadata())}const xt=[],At=this.positionInBuffer(Re,q.remainder);this.deleteNodeTail(Re,At),this._searchCache.validate(D),0===Re.piece.length&&xt.push(Re);const tn=this.positionInBuffer(Xe,we.remainder);this.deleteNodeHead(Xe,tn),0===Xe.piece.length&&xt.push(Xe);for(let gn=Re.next();gn!==ke&&gn!==Xe;gn=gn.next())xt.push(gn);const fn=0===Re.piece.length?Re.prev():Re;this.deleteNodes(xt),this.validateCRLFWithNextNode(fn),this.computeBufferMetadata()}insertContentToNodeLeft(D,K){const q=[];if(this.shouldCheckCRLF()&&this.endWithCR(D)&&this.startWithLF(K)){const Xe=K.piece,xt={line:Xe.start.line+1,column:0},At=new xn(Xe.bufferIndex,xt,Xe.end,this.getLineFeedCnt(Xe.bufferIndex,xt,Xe.end),Xe.length-1);K.piece=At,D+="\n",en(this,K,-1,-1),0===K.piece.length&&q.push(K)}const we=this.createNewPieces(D);let Re=this.rbInsertLeft(K,we[we.length-1]);for(let Xe=we.length-2;Xe>=0;Xe--)Re=this.rbInsertLeft(Re,we[Xe]);this.validateCRLFWithPrevNode(Re),this.deleteNodes(q)}insertContentToNodeRight(D,K){this.adjustCarriageReturnFromNext(D,K)&&(D+="\n");const q=this.createNewPieces(D),we=this.rbInsertRight(K,q[0]);let Re=we;for(let Xe=1;Xe<q.length;Xe++)Re=this.rbInsertRight(Re,q[Xe]);this.validateCRLFWithPrevNode(we)}positionInBuffer(D,K,q){const we=D.piece,Xe=this._buffers[D.piece.bufferIndex].lineStarts,At=Xe[we.start.line]+we.start.column+K;let tn=we.start.line,an=we.end.line,fn=0,gn=0,Ln=0;for(;tn<=an&&(fn=tn+(an-tn)/2|0,Ln=Xe[fn],fn!==an);)if(gn=Xe[fn+1],At<Ln)an=fn-1;else{if(!(At>=gn))break;tn=fn+1}return q?(q.line=fn,q.column=At-Ln,null):{line:fn,column:At-Ln}}getLineFeedCnt(D,K,q){if(0===q.column)return q.line-K.line;const we=this._buffers[D].lineStarts;if(q.line===we.length-1)return q.line-K.line;const Xe=we[q.line]+q.column;return we[q.line+1]>Xe+1?q.line-K.line:13===this._buffers[D].buffer.charCodeAt(Xe-1)?q.line-K.line+1:q.line-K.line}offsetInBuffer(D,K){return this._buffers[D].lineStarts[K.line]+K.column}deleteNodes(D){for(let K=0;K<D.length;K++)Cn(this,D[K])}createNewPieces(D){if(D.length>Ct){const an=[];for(;D.length>Ct;){const gn=D.charCodeAt(Ct-1);let Ln;13===gn||gn>=55296&&gn<=56319?(Ln=D.substring(0,Ct-1),D=D.substring(Ct-1)):(Ln=D.substring(0,Ct),D=D.substring(Ct));const Rn=yn(Ln);an.push(new xn(this._buffers.length,{line:0,column:0},{line:Rn.length-1,column:Ln.length-Rn[Rn.length-1]},Rn.length-1,Ln.length)),this._buffers.push(new Un(Ln,Rn))}const fn=yn(D);return an.push(new xn(this._buffers.length,{line:0,column:0},{line:fn.length-1,column:D.length-fn[fn.length-1]},fn.length-1,D.length)),this._buffers.push(new Un(D,fn)),an}let K=this._buffers[0].buffer.length;const q=yn(D,!1);let we=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===K&&0!==K&&this.startWithLF(D)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},we=this._lastChangeBufferPos;for(let an=0;an<q.length;an++)q[an]+=K+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(q.slice(1)),this._buffers[0].buffer+="_"+D,K+=1}else{if(0!==K)for(let an=0;an<q.length;an++)q[an]+=K;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(q.slice(1)),this._buffers[0].buffer+=D}const Re=this._buffers[0].buffer.length,Xe=this._buffers[0].lineStarts.length-1,At={line:Xe,column:Re-this._buffers[0].lineStarts[Xe]},tn=new xn(0,we,At,this.getLineFeedCnt(0,we,At),Re-K);return this._lastChangeBufferPos=At,[tn]}getLineRawContent(D,K=0){let q=this.root,we="";const Re=this._searchCache.get2(D);if(Re){q=Re.node;const Xe=this.getAccumulatedValue(q,D-Re.nodeStartLineNumber-1),xt=this._buffers[q.piece.bufferIndex].buffer,At=this.offsetInBuffer(q.piece.bufferIndex,q.piece.start);if(Re.nodeStartLineNumber+q.piece.lineFeedCnt!==D){const tn=this.getAccumulatedValue(q,D-Re.nodeStartLineNumber);return xt.substring(At+Xe,At+tn-K)}we=xt.substring(At+Xe,At+q.piece.length)}else{let Xe=0;const xt=D;for(;q!==ke;)if(q.left!==ke&&q.lf_left>=D-1)q=q.left;else{if(q.lf_left+q.piece.lineFeedCnt>D-1){const At=this.getAccumulatedValue(q,D-q.lf_left-2),tn=this.getAccumulatedValue(q,D-q.lf_left-1),an=this._buffers[q.piece.bufferIndex].buffer,fn=this.offsetInBuffer(q.piece.bufferIndex,q.piece.start);return Xe+=q.size_left,this._searchCache.set({node:q,nodeStartOffset:Xe,nodeStartLineNumber:xt-(D-1-q.lf_left)}),an.substring(fn+At,fn+tn-K)}if(q.lf_left+q.piece.lineFeedCnt===D-1){const At=this.getAccumulatedValue(q,D-q.lf_left-2),tn=this._buffers[q.piece.bufferIndex].buffer,an=this.offsetInBuffer(q.piece.bufferIndex,q.piece.start);we=tn.substring(an+At,an+q.piece.length);break}D-=q.lf_left+q.piece.lineFeedCnt,Xe+=q.size_left+q.piece.length,q=q.right}}for(q=q.next();q!==ke;){const Xe=this._buffers[q.piece.bufferIndex].buffer;if(q.piece.lineFeedCnt>0){const xt=this.getAccumulatedValue(q,0),At=this.offsetInBuffer(q.piece.bufferIndex,q.piece.start);return we+=Xe.substring(At,At+xt-K),we}{const xt=this.offsetInBuffer(q.piece.bufferIndex,q.piece.start);we+=Xe.substr(xt,q.piece.length)}q=q.next()}return we}computeBufferMetadata(){let D=this.root,K=1,q=0;for(;D!==ke;)K+=D.lf_left+D.piece.lineFeedCnt,q+=D.size_left+D.piece.length,D=D.right;this._lineCnt=K,this._length=q,this._searchCache.validate(this._length)}getIndexOf(D,K){const q=D.piece,we=this.positionInBuffer(D,K),Re=we.line-q.start.line;if(this.offsetInBuffer(q.bufferIndex,q.end)-this.offsetInBuffer(q.bufferIndex,q.start)===K){const Xe=this.getLineFeedCnt(D.piece.bufferIndex,q.start,we);if(Xe!==Re)return{index:Xe,remainder:0}}return{index:Re,remainder:we.column}}getAccumulatedValue(D,K){if(K<0)return 0;const q=D.piece,we=this._buffers[q.bufferIndex].lineStarts,Re=q.start.line+K+1;return Re>q.end.line?we[q.end.line]+q.end.column-we[q.start.line]-q.start.column:we[Re]-we[q.start.line]-q.start.column}deleteNodeTail(D,K){const q=D.piece,we=q.lineFeedCnt,Re=this.offsetInBuffer(q.bufferIndex,q.end),Xe=K,xt=this.offsetInBuffer(q.bufferIndex,Xe),At=this.getLineFeedCnt(q.bufferIndex,q.start,Xe),tn=At-we,an=xt-Re;D.piece=new xn(q.bufferIndex,q.start,Xe,At,q.length+an),en(this,D,an,tn)}deleteNodeHead(D,K){const q=D.piece,we=q.lineFeedCnt,Re=this.offsetInBuffer(q.bufferIndex,q.start),Xe=K,xt=this.getLineFeedCnt(q.bufferIndex,Xe,q.end),tn=xt-we,an=Re-this.offsetInBuffer(q.bufferIndex,Xe);D.piece=new xn(q.bufferIndex,Xe,q.end,xt,q.length+an),en(this,D,an,tn)}shrinkNode(D,K,q){const we=D.piece,Re=we.start,Xe=we.end,xt=we.length,At=we.lineFeedCnt,tn=K,an=this.getLineFeedCnt(we.bufferIndex,we.start,tn),fn=this.offsetInBuffer(we.bufferIndex,K)-this.offsetInBuffer(we.bufferIndex,Re);D.piece=new xn(we.bufferIndex,we.start,tn,an,fn),en(this,D,fn-xt,an-At);const gn=new xn(we.bufferIndex,q,Xe,this.getLineFeedCnt(we.bufferIndex,q,Xe),this.offsetInBuffer(we.bufferIndex,Xe)-this.offsetInBuffer(we.bufferIndex,q)),Ln=this.rbInsertRight(D,gn);this.validateCRLFWithPrevNode(Ln)}appendToNode(D,K){this.adjustCarriageReturnFromNext(K,D)&&(K+="\n");const q=this.shouldCheckCRLF()&&this.startWithLF(K)&&this.endWithCR(D),we=this._buffers[0].buffer.length;this._buffers[0].buffer+=K;const Re=yn(K,!1);for(let Ln=0;Ln<Re.length;Ln++)Re[Ln]+=we;if(q){const Ln=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:we-Ln}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Re.slice(1));const Xe=this._buffers[0].lineStarts.length-1,At={line:Xe,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[Xe]},tn=D.piece.length+K.length,an=D.piece.lineFeedCnt,fn=this.getLineFeedCnt(0,D.piece.start,At),gn=fn-an;D.piece=new xn(D.piece.bufferIndex,D.piece.start,At,fn,tn),this._lastChangeBufferPos=At,en(this,D,K.length,gn)}nodeAt(D){let K=this.root;const q=this._searchCache.get(D);if(q)return{node:q.node,nodeStartOffset:q.nodeStartOffset,remainder:D-q.nodeStartOffset};let we=0;for(;K!==ke;)if(K.size_left>D)K=K.left;else{if(K.size_left+K.piece.length>=D){we+=K.size_left;const Re={node:K,remainder:D-K.size_left,nodeStartOffset:we};return this._searchCache.set(Re),Re}D-=K.size_left+K.piece.length,we+=K.size_left+K.piece.length,K=K.right}return null}nodeAt2(D,K){let q=this.root,we=0;for(;q!==ke;)if(q.left!==ke&&q.lf_left>=D-1)q=q.left;else{if(q.lf_left+q.piece.lineFeedCnt>D-1){const Re=this.getAccumulatedValue(q,D-q.lf_left-2),Xe=this.getAccumulatedValue(q,D-q.lf_left-1);return we+=q.size_left,{node:q,remainder:Math.min(Re+K-1,Xe),nodeStartOffset:we}}if(q.lf_left+q.piece.lineFeedCnt===D-1){const Re=this.getAccumulatedValue(q,D-q.lf_left-2);if(Re+K-1<=q.piece.length)return{node:q,remainder:Re+K-1,nodeStartOffset:we};K-=q.piece.length-Re;break}D-=q.lf_left+q.piece.lineFeedCnt,we+=q.size_left+q.piece.length,q=q.right}for(q=q.next();q!==ke;){if(q.piece.lineFeedCnt>0){const Re=this.getAccumulatedValue(q,0),Xe=this.offsetOfNode(q);return{node:q,remainder:Math.min(K-1,Re),nodeStartOffset:Xe}}if(q.piece.length>=K-1)return{node:q,remainder:K-1,nodeStartOffset:this.offsetOfNode(q)};K-=q.piece.length,q=q.next()}return null}nodeCharCodeAt(D,K){if(D.piece.lineFeedCnt<1)return-1;const q=this._buffers[D.piece.bufferIndex],we=this.offsetInBuffer(D.piece.bufferIndex,D.piece.start)+K;return q.buffer.charCodeAt(we)}offsetOfNode(D){if(!D)return 0;let K=D.size_left;for(;D!==this.root;)D.parent.right===D&&(K+=D.parent.size_left+D.parent.piece.length),D=D.parent;return K}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(D){if("string"==typeof D)return 10===D.charCodeAt(0);if(D===ke||0===D.piece.lineFeedCnt)return!1;const K=D.piece,q=this._buffers[K.bufferIndex].lineStarts,we=K.start.line,Re=q[we]+K.start.column;return!(we===q.length-1||q[we+1]>Re+1)&&10===this._buffers[K.bufferIndex].buffer.charCodeAt(Re)}endWithCR(D){return"string"==typeof D?13===D.charCodeAt(D.length-1):D!==ke&&0!==D.piece.lineFeedCnt&&13===this.nodeCharCodeAt(D,D.piece.length-1)}validateCRLFWithPrevNode(D){if(this.shouldCheckCRLF()&&this.startWithLF(D)){const K=D.prev();this.endWithCR(K)&&this.fixCRLF(K,D)}}validateCRLFWithNextNode(D){if(this.shouldCheckCRLF()&&this.endWithCR(D)){const K=D.next();this.startWithLF(K)&&this.fixCRLF(D,K)}}fixCRLF(D,K){const q=[],we=this._buffers[D.piece.bufferIndex].lineStarts;let Re;Re=0===D.piece.end.column?{line:D.piece.end.line-1,column:we[D.piece.end.line]-we[D.piece.end.line-1]-1}:{line:D.piece.end.line,column:D.piece.end.column-1},D.piece=new xn(D.piece.bufferIndex,D.piece.start,Re,D.piece.lineFeedCnt-1,D.piece.length-1),en(this,D,-1,-1),0===D.piece.length&&q.push(D);const At={line:K.piece.start.line+1,column:0},tn=K.piece.length-1,an=this.getLineFeedCnt(K.piece.bufferIndex,At,K.piece.end);K.piece=new xn(K.piece.bufferIndex,At,K.piece.end,an,tn),en(this,K,-1,-1),0===K.piece.length&&q.push(K);const fn=this.createNewPieces("\r\n");this.rbInsertRight(D,fn[0]);for(let gn=0;gn<q.length;gn++)Cn(this,q[gn])}adjustCarriageReturnFromNext(D,K){if(this.shouldCheckCRLF()&&this.endWithCR(D)){const q=K.next();if(this.startWithLF(q)){if(D+="\n",1===q.piece.length)Cn(this,q);else{const we=q.piece,Re={line:we.start.line+1,column:0},Xe=we.length-1,xt=this.getLineFeedCnt(we.bufferIndex,Re,we.end);q.piece=new xn(we.bufferIndex,Re,we.end,xt,Xe),en(this,q,-1,-1)}return!0}}return!1}iterate(D,K){return D===ke?K(ke):this.iterate(D.left,K)&&K(D)&&this.iterate(D.right,K)}getNodeContent(D){if(D===ke)return"";const K=this._buffers[D.piece.bufferIndex],q=D.piece,we=this.offsetInBuffer(q.bufferIndex,q.start),Re=this.offsetInBuffer(q.bufferIndex,q.end);return K.buffer.substring(we,Re)}getPieceContent(D){const K=this._buffers[D.bufferIndex],q=this.offsetInBuffer(D.bufferIndex,D.start),we=this.offsetInBuffer(D.bufferIndex,D.end);return K.buffer.substring(q,we)}rbInsertRight(D,K){const q=new ft(K,1);if(q.left=ke,q.right=ke,q.parent=ke,q.size_left=0,q.lf_left=0,this.root===ke)this.root=q,q.color=0;else if(D.right===ke)D.right=q,q.parent=D;else{const Re=nt(D.right);Re.left=q,q.parent=Re}return Gt(this,q),q}rbInsertLeft(D,K){const q=new ft(K,1);if(q.left=ke,q.right=ke,q.parent=ke,q.size_left=0,q.lf_left=0,this.root===ke)this.root=q,q.color=0;else if(D.left===ke)D.left=q,q.parent=D;else{const we=st(D.left);we.right=q,q.parent=we}return Gt(this,q),q}}var li=e(97614);class Qn extends u.JT{constructor(D,K,q,we,Re,Xe,xt){super(),this._onDidChangeContent=this._register(new M.Q5),this._BOM=K,this._mightContainNonBasicASCII=!Xe,this._mightContainRTL=we,this._mightContainUnusualLineTerminators=Re,this._pieceTree=new Di(D,q,xt)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(D){return this._pieceTree.createSnapshot(D?this._BOM:"")}getOffsetAt(D,K){return this._pieceTree.getOffsetAt(D,K)}getPositionAt(D){return this._pieceTree.getPositionAt(D)}getRangeAt(D,K){const q=D+K,we=this.getPositionAt(D),Re=this.getPositionAt(q);return new a.e(we.lineNumber,we.column,Re.lineNumber,Re.column)}getValueInRange(D,K=0){if(D.isEmpty())return"";const q=this._getEndOfLine(K);return this._pieceTree.getValueInRange(D,q)}getValueLengthInRange(D,K=0){if(D.isEmpty())return 0;if(D.startLineNumber===D.endLineNumber)return D.endColumn-D.startColumn;const q=this.getOffsetAt(D.startLineNumber,D.startColumn);return this.getOffsetAt(D.endLineNumber,D.endColumn)-q}getCharacterCountInRange(D,K=0){if(this._mightContainNonBasicASCII){let q=0;const we=D.startLineNumber,Re=D.endLineNumber;for(let Xe=we;Xe<=Re;Xe++){const xt=this.getLineContent(Xe),tn=Xe===Re?D.endColumn-1:xt.length;for(let an=Xe===we?D.startColumn-1:0;an<tn;an++)P.ZG(xt.charCodeAt(an))?(q+=1,an+=1):q+=1}return q+=this._getEndOfLine(K).length*(Re-we),q}return this.getValueLengthInRange(D,K)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(D){return this._pieceTree.getLineContent(D)}getLineCharCode(D,K){return this._pieceTree.getLineCharCode(D,K)}getLineLength(D){return this._pieceTree.getLineLength(D)}getLineFirstNonWhitespaceColumn(D){const K=P.LC(this.getLineContent(D));return-1===K?0:K+1}getLineLastNonWhitespaceColumn(D){const K=P.ow(this.getLineContent(D));return-1===K?0:K+2}_getEndOfLine(D){switch(D){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(D){this._pieceTree.setEOL(D)}applyEdits(D,K,q){let we=this._mightContainRTL,Re=this._mightContainUnusualLineTerminators,Xe=this._mightContainNonBasicASCII,xt=!0,At=[];for(let zn=0;zn<D.length;zn++){const Vn=D[zn];xt&&Vn._isTracked&&(xt=!1);const oi=Vn.range;if(Vn.text){let Jt=!0;Xe||(Jt=!P.$i(Vn.text),Xe=Jt),!we&&Jt&&(we=P.Ut(Vn.text)),!Re&&Jt&&(Re=P.ab(Vn.text))}let hi="",ii=0,Ni=0,Ki=0;if(Vn.text){let Jt;[ii,Ni,Ki,Jt]=(0,k.Q)(Vn.text);const X=this.getEOL();hi=0===Jt||Jt===("\r\n"===X?2:1)?Vn.text:Vn.text.replace(/\r\n|\r|\n/g,X)}At[zn]={sortIndex:zn,identifier:Vn.identifier||null,range:oi,rangeOffset:this.getOffsetAt(oi.startLineNumber,oi.startColumn),rangeLength:this.getValueLengthInRange(oi),text:hi,eolCount:ii,firstLineLength:Ni,lastLineLength:Ki,forceMoveMarkers:Boolean(Vn.forceMoveMarkers),isAutoWhitespaceEdit:Vn.isAutoWhitespaceEdit||!1}}At.sort(Qn._sortOpsAscending);let tn=!1;for(let zn=0,Vn=At.length-1;zn<Vn;zn++){const oi=At[zn].range.getEndPosition(),hi=At[zn+1].range.getStartPosition();if(hi.isBeforeOrEqual(oi)){if(hi.isBefore(oi))throw new Error("Overlapping ranges are not allowed!");tn=!0}}xt&&(At=this._reduceOperations(At));const an=q||K?Qn._getInverseEditRanges(At):[],fn=[];if(K)for(let zn=0;zn<At.length;zn++){const Vn=At[zn],oi=an[zn];if(Vn.isAutoWhitespaceEdit&&Vn.range.isEmpty())for(let hi=oi.startLineNumber;hi<=oi.endLineNumber;hi++){let ii="";hi===oi.startLineNumber&&(ii=this.getLineContent(Vn.range.startLineNumber),-1!==P.LC(ii))||fn.push({lineNumber:hi,oldContent:ii})}}let gn=null;if(q){let zn=0;gn=[];for(let Vn=0;Vn<At.length;Vn++){const oi=At[Vn],hi=an[Vn],ii=this.getValueInRange(oi.range),Ni=oi.rangeOffset+zn;zn+=oi.text.length-ii.length,gn[Vn]={sortIndex:oi.sortIndex,identifier:oi.identifier,range:hi,text:ii,textChange:new li.q(oi.rangeOffset,ii,Ni,oi.text)}}tn||gn.sort((Vn,oi)=>Vn.sortIndex-oi.sortIndex)}this._mightContainRTL=we,this._mightContainUnusualLineTerminators=Re,this._mightContainNonBasicASCII=Xe;const Ln=this._doApplyEdits(At);let Rn=null;if(K&&fn.length>0){fn.sort((zn,Vn)=>Vn.lineNumber-zn.lineNumber),Rn=[];for(let zn=0,Vn=fn.length;zn<Vn;zn++){const oi=fn[zn].lineNumber;if(zn>0&&fn[zn-1].lineNumber===oi)continue;const hi=fn[zn].oldContent,ii=this.getLineContent(oi);0===ii.length||ii===hi||-1!==P.LC(ii)||Rn.push(oi)}}return this._onDidChangeContent.fire(),new v.je(gn,Ln,Rn)}_reduceOperations(D){return D.length<1e3?D:[this._toSingleEditOperation(D)]}_toSingleEditOperation(D){let K=!1;const q=D[0].range,we=D[D.length-1].range,Re=new a.e(q.startLineNumber,q.startColumn,we.endLineNumber,we.endColumn);let Xe=q.startLineNumber,xt=q.startColumn;const At=[];for(let Ln=0,Rn=D.length;Ln<Rn;Ln++){const zn=D[Ln],Vn=zn.range;K=K||zn.forceMoveMarkers,At.push(this.getValueInRange(new a.e(Xe,xt,Vn.startLineNumber,Vn.startColumn))),zn.text.length>0&&At.push(zn.text),Xe=Vn.endLineNumber,xt=Vn.endColumn}const tn=At.join(""),[an,fn,gn]=(0,k.Q)(tn);return{sortIndex:0,identifier:D[0].identifier,range:Re,rangeOffset:this.getOffsetAt(Re.startLineNumber,Re.startColumn),rangeLength:this.getValueLengthInRange(Re,0),text:tn,eolCount:an,firstLineLength:fn,lastLineLength:gn,forceMoveMarkers:K,isAutoWhitespaceEdit:!1}}_doApplyEdits(D){D.sort(Qn._sortOpsDescending);const K=[];for(let q=0;q<D.length;q++){const we=D[q],Re=we.range.startLineNumber,Xe=we.range.startColumn,xt=we.range.endLineNumber,At=we.range.endColumn;if(Re===xt&&Xe===At&&0===we.text.length)continue;we.text?(this._pieceTree.delete(we.rangeOffset,we.rangeLength),this._pieceTree.insert(we.rangeOffset,we.text,!0)):this._pieceTree.delete(we.rangeOffset,we.rangeLength);const tn=new a.e(Re,Xe,xt,At);K.push({range:tn,rangeLength:we.rangeLength,text:we.text,rangeOffset:we.rangeOffset,forceMoveMarkers:we.forceMoveMarkers})}return K}findMatchesLineByLine(D,K,q,we){return this._pieceTree.findMatchesLineByLine(D,K,q,we)}static _getInverseEditRanges(D){const K=[];let q=0,we=0,Re=null;for(let Xe=0,xt=D.length;Xe<xt;Xe++){const At=D[Xe];let tn,an,fn;if(Re?Re.range.endLineNumber===At.range.startLineNumber?(tn=q,an=we+(At.range.startColumn-Re.range.endColumn)):(tn=q+(At.range.startLineNumber-Re.range.endLineNumber),an=At.range.startColumn):(tn=At.range.startLineNumber,an=At.range.startColumn),At.text.length>0){const gn=At.eolCount+1;fn=1===gn?new a.e(tn,an,tn,an+At.firstLineLength):new a.e(tn,an,tn+gn-1,At.lastLineLength+1)}else fn=new a.e(tn,an,tn,an);q=fn.endLineNumber,we=fn.endColumn,K.push(fn),Re=At}return K}static _sortOpsAscending(D,K){const q=a.e.compareRangesUsingEnds(D.range,K.range);return 0===q?D.sortIndex-K.sortIndex:q}static _sortOpsDescending(D,K){const q=a.e.compareRangesUsingEnds(D.range,K.range);return 0===q?K.sortIndex-D.sortIndex:-q}}class wi{constructor(D,K,q,we,Re,Xe,xt,At,tn){this._chunks=D,this._bom=K,this._cr=q,this._lf=we,this._crlf=Re,this._containsRTL=Xe,this._containsUnusualLineTerminators=xt,this._isBasicASCII=At,this._normalizeEOL=tn}_getEOL(D){const K=this._cr+this._lf+this._crlf;return 0===K?1===D?"\n":"\r\n":this._cr+this._crlf>K/2?"\r\n":"\n"}create(D){const K=this._getEOL(D),q=this._chunks;if(this._normalizeEOL&&("\r\n"===K&&(this._cr>0||this._lf>0)||"\n"===K&&(this._cr>0||this._crlf>0)))for(let Re=0,Xe=q.length;Re<Xe;Re++){const xt=q[Re].buffer.replace(/\r\n|\r|\n/g,K),At=yn(xt);q[Re]=new Un(xt,At)}const we=new Qn(q,this._bom,K,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:we,disposable:we}}}class Dn{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(D){if(0===D.length)return;0===this.chunks.length&&P.uS(D)&&(this.BOM=P.c1,D=D.substr(1));const K=D.charCodeAt(D.length-1);13===K||K>=55296&&K<=56319?(this._acceptChunk1(D.substr(0,D.length-1),!1),this._hasPreviousChar=!0,this._previousChar=K):(this._acceptChunk1(D,!1),this._hasPreviousChar=!1,this._previousChar=K)}_acceptChunk1(D,K){!K&&0===D.length||this._acceptChunk2(this._hasPreviousChar?String.fromCharCode(this._previousChar)+D:D)}_acceptChunk2(D){const K=function En(_t,D){_t.length=0,_t[0]=0;let K=1,q=0,we=0,Re=0,Xe=!0;for(let At=0,tn=D.length;At<tn;At++){const an=D.charCodeAt(At);13===an?At+1<tn&&10===D.charCodeAt(At+1)?(Re++,_t[K++]=At+2,At++):(q++,_t[K++]=At+1):10===an?(we++,_t[K++]=At+1):Xe&&9!==an&&(an<32||an>126)&&(Xe=!1)}const xt=new jt(rn(_t),q,we,Re,Xe);return _t.length=0,xt}(this._tmpLineStarts,D);this.chunks.push(new Un(D,K.lineStarts)),this.cr+=K.cr,this.lf+=K.lf,this.crlf+=K.crlf,this.isBasicASCII&&(this.isBasicASCII=K.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=P.Ut(D)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=P.ab(D))}finish(D=!0){return this._finish(),new wi(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,D)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const D=this.chunks[this.chunks.length-1];D.buffer+=String.fromCharCode(this._previousChar);const K=yn(D.buffer);D.lineStarts=K,13===this._previousChar&&this.cr++}}}var Dt=e(85519),Te=e(63424),oe=e(8028),Le=e(66778),We=e(73728),it=e(41724);class pt{constructor(D,K){this._startLineNumber=D,this._tokens=K}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(D){return this._tokens[D-this._startLineNumber]}appendLineTokens(D){this._tokens.push(D)}}class Et{constructor(){this._tokens=[]}add(D,K){if(this._tokens.length>0){const q=this._tokens[this._tokens.length-1];if(q.endLineNumber+1===D)return void q.appendLineTokens(K)}this._tokens.push(new pt(D,[K]))}finalize(){return this._tokens}}var Ut=e(63072),sn=e(38972);class pn{constructor(D){this._default=D,this._store=[]}get(D){return D<this._store.length?this._store[D]:this._default}set(D,K){for(;D>=this._store.length;)this._store[this._store.length]=this._default;this._store[D]=K}delete(D,K){0===K||D>=this._store.length||this._store.splice(D,K)}insert(D,K){if(0===K||D>=this._store.length)return;const q=[];for(let we=0;we<K;we++)q[we]=this._default;this._store=f.Zv(this._store,D,q)}}class In{constructor(D,K){this.tokenizationSupport=D,this.initialState=K,this._lineBeginState=new pn(null),this._lineNeedsTokenization=new pn(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(D){this._lineNeedsTokenization.set(D,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,D)}getBeginState(D){return this._lineBeginState.get(D)}setEndState(D,K,q){if(this._lineNeedsTokenization.set(K,!1),this._firstLineNeedsTokenization=K+1,K===D-1)return;const we=this._lineBeginState.get(K+1);if(null===we||!q.equals(we))return this._lineBeginState.set(K+1,q),void this.markMustBeTokenized(K+1);let Re=K+1;for(;Re<D&&!this._lineNeedsTokenization.get(Re);)Re++;this._firstLineNeedsTokenization=Re}applyEdits(D,K){this.markMustBeTokenized(D.startLineNumber-1),this._lineBeginState.delete(D.startLineNumber,D.endLineNumber-D.startLineNumber),this._lineNeedsTokenization.delete(D.startLineNumber,D.endLineNumber-D.startLineNumber),this._lineBeginState.insert(D.startLineNumber,K),this._lineNeedsTokenization.insert(D.startLineNumber,K)}}class On extends u.JT{constructor(D,K,q){super(),this._textModel=D,this._tokenizationPart=K,this._languageIdCodec=q,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(Le.RW.onDidChange(we=>{const Re=this._textModel.getLanguageId();-1!==we.changedLanguages.indexOf(Re)&&(this._resetTokenizationState(),this._tokenizationPart.clearTokens())})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}handleDidChangeContent(D){if(D.isFlush)this._resetTokenizationState();else{if(this._tokenizationStateStore)for(let K=0,q=D.changes.length;K<q;K++){const we=D.changes[K],[Re]=(0,k.Q)(we.text);this._tokenizationStateStore.applyEdits(we.range,Re)}this._beginBackgroundTokenization()}}handleDidChangeAttached(){this._beginBackgroundTokenization()}handleDidChangeLanguage(D){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}_resetTokenizationState(){const[D,K]=function Tn(_t,D){if(_t.isTooLargeForTokenization())return[null,null];const K=Le.RW.get(D.getLanguageId());if(!K)return[null,null];let q;try{q=K.getInitialState()}catch(we){return(0,L.dL)(we),[null,null]}return[K,q]}(this._textModel,this._tokenizationPart);this._tokenizationStateStore=D&&K?new In(D,K):null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,Ut.To)(D=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(D)}))}_backgroundTokenizeWithDeadline(D){const K=Date.now()+D.timeRemaining(),q=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<K?(0,sn.fn)(q):this._beginBackgroundTokenization())};q()}_backgroundTokenizeForAtLeast1ms(){const D=this._textModel.getLineCount(),K=new Et,q=it.G.create(!1);do{if(q.elapsed()>1||this._tokenizeOneInvalidLine(K)>=D)break}while(this._hasLinesToTokenize());this._tokenizationPart.setTokens(K.finalize(),this._isTokenizationComplete())}tokenizeViewport(D,K){const q=new Et;this._tokenizeViewport(q,D,K),this._tokenizationPart.setTokens(q.finalize(),this._isTokenizationComplete())}reset(){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}forceTokenization(D){const K=new Et;this._updateTokensUntilLine(K,D),this._tokenizationPart.setTokens(K.finalize(),this._isTokenizationComplete())}getTokenTypeIfInsertingCharacter(D,K){if(!this._tokenizationStateStore)return 0;this.forceTokenization(D.lineNumber);const q=this._tokenizationStateStore.getBeginState(D.lineNumber-1);if(!q)return 0;const we=this._textModel.getLanguageId(),Re=this._textModel.getLineContent(D.lineNumber),Xe=Re.substring(0,D.column-1)+K+Re.substring(D.column-1),xt=kn(this._languageIdCodec,we,this._tokenizationStateStore.tokenizationSupport,Xe,!0,q),At=new oe.A(xt.tokens,Xe,this._languageIdCodec);if(0===At.getCount())return 0;const tn=At.findTokenIndexAtOffset(D.column-1);return At.getStandardTokenType(tn)}tokenizeLineWithEdit(D,K,q){const we=D.lineNumber,Re=D.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(we);const Xe=this._tokenizationStateStore.getBeginState(we-1);if(!Xe)return null;const xt=this._textModel.getLineContent(we),At=xt.substring(0,Re-1)+q+xt.substring(Re-1+K),tn=this._textModel.getLanguageIdAtPosition(we,0),an=kn(this._languageIdCodec,tn,this._tokenizationStateStore.tokenizationSupport,At,!0,Xe);return new oe.A(an.tokens,At,this._languageIdCodec)}isCheapToTokenize(D){if(!this._tokenizationStateStore)return!0;const K=this._tokenizationStateStore.invalidLineStartIndex+1;return!(D>K)&&(D<K||this._textModel.getLineLength(D)<2048)}_hasLinesToTokenize(){return!!this._tokenizationStateStore&&this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount()}_isTokenizationComplete(){return!!this._tokenizationStateStore&&this._tokenizationStateStore.invalidLineStartIndex>=this._textModel.getLineCount()}_tokenizeOneInvalidLine(D){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const K=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(D,K),K}_updateTokensUntilLine(D,K){if(!this._tokenizationStateStore)return;const q=this._textModel.getLanguageId(),we=this._textModel.getLineCount(),Re=K-1;for(let Xe=this._tokenizationStateStore.invalidLineStartIndex;Xe<=Re;Xe++){const xt=this._textModel.getLineContent(Xe+1),At=this._tokenizationStateStore.getBeginState(Xe),tn=kn(this._languageIdCodec,q,this._tokenizationStateStore.tokenizationSupport,xt,!0,At);D.add(Xe+1,tn.tokens),this._tokenizationStateStore.setEndState(we,Xe,tn.endState),Xe=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(D,K,q){if(!this._tokenizationStateStore||q<=this._tokenizationStateStore.invalidLineStartIndex)return;if(K<=this._tokenizationStateStore.invalidLineStartIndex)return void this._updateTokensUntilLine(D,q);let we=this._textModel.getLineFirstNonWhitespaceColumn(K);const Re=[];let Xe=null;for(let tn=K-1;we>1&&tn>=1;tn--){const an=this._textModel.getLineFirstNonWhitespaceColumn(tn);if(0!==an&&an<we&&(Re.push(this._textModel.getLineContent(tn)),we=an,Xe=this._tokenizationStateStore.getBeginState(tn-1),Xe))break}Xe||(Xe=this._tokenizationStateStore.initialState);const xt=this._textModel.getLanguageId();let At=Xe;for(let tn=Re.length-1;tn>=0;tn--)At=kn(this._languageIdCodec,xt,this._tokenizationStateStore.tokenizationSupport,Re[tn],!1,At).endState;for(let tn=K;tn<=q;tn++){const an=this._textModel.getLineContent(tn),fn=kn(this._languageIdCodec,xt,this._tokenizationStateStore.tokenizationSupport,an,!0,At);D.add(tn,fn.tokens),this._tokenizationStateStore.markMustBeTokenized(tn-1),At=fn.endState}}}function kn(_t,D,K,q,we,Re){let Xe=null;if(K)try{Xe=K.tokenizeEncoded(q,we,Re.clone())}catch(xt){(0,L.dL)(xt)}return Xe||(Xe=(0,We.Dy)(_t.encodeLanguageId(D),Re)),oe.A.convertToEndOffset(Xe.tokens,q.length),Xe}const An=new Uint32Array(0).buffer;class Gn{static deleteBeginning(D,K){return null===D||D===An?D:Gn.delete(D,0,K)}static deleteEnding(D,K){if(null===D||D===An)return D;const q=ri(D);return Gn.delete(D,K,q[q.length-2])}static delete(D,K,q){if(null===D||D===An||K===q)return D;const we=ri(D),Re=we.length>>>1;if(0===K&&we[we.length-2]===q)return An;const Xe=oe.A.findIndexInTokensArray(we,K),xt=Xe>0?we[Xe-1<<1]:0;if(q<we[Xe<<1]){const Ln=q-K;for(let Rn=Xe;Rn<Re;Rn++)we[Rn<<1]-=Ln;return D}let tn,an;xt!==K?(we[Xe<<1]=K,tn=Xe+1<<1,an=K):(tn=Xe<<1,an=xt);const fn=q-K;for(let Ln=Xe+1;Ln<Re;Ln++){const Rn=we[Ln<<1]-fn;Rn>an&&(we[tn++]=Rn,we[tn++]=we[1+(Ln<<1)],an=Rn)}if(tn===we.length)return D;const gn=new Uint32Array(tn);return gn.set(we.subarray(0,tn),0),gn.buffer}static append(D,K){if(K===An)return D;if(D===An)return K;if(null===D)return D;if(null===K)return null;const q=ri(D),we=ri(K),Re=we.length>>>1,Xe=new Uint32Array(q.length+we.length);Xe.set(q,0);let xt=q.length;const At=q[q.length-2];for(let tn=0;tn<Re;tn++)Xe[xt++]=we[tn<<1]+At,Xe[xt++]=we[1+(tn<<1)];return Xe.buffer}static insert(D,K,q){if(null===D||D===An)return D;const we=ri(D),Re=we.length>>>1;let Xe=oe.A.findIndexInTokensArray(we,K);Xe>0&&we[Xe-1<<1]===K&&Xe--;for(let xt=Xe;xt<Re;xt++)we[xt<<1]+=q;return D}}function ri(_t){return _t instanceof Uint32Array?_t:new Uint32Array(_t)}var si=e(43258);class Si{constructor(D){this._lineTokens=[],this._len=0,this._languageIdCodec=D}flush(){this._lineTokens=[],this._len=0}getTokens(D,K,q){let we=null;if(K<this._len&&(we=this._lineTokens[K]),null!==we&&we!==An)return new oe.A(ri(we),q,this._languageIdCodec);const Re=new Uint32Array(2);return Re[0]=q.length,Re[1]=xi(this._languageIdCodec.encodeLanguageId(D)),new oe.A(Re,q,this._languageIdCodec)}static _massageTokens(D,K,q){const we=q?ri(q):null;if(0===K){let Re=!1;if(we&&we.length>1&&(Re=si.N.getLanguageId(we[1])!==D),!Re)return An}if(!we||0===we.length){const Re=new Uint32Array(2);return Re[0]=K,Re[1]=xi(D),Re.buffer}return we[we.length-2]=K,0===we.byteOffset&&we.byteLength===we.buffer.byteLength?we.buffer:we}_ensureLine(D){for(;D>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(D,K){0!==K&&(D+K>this._len&&(K=this._len-D),this._lineTokens.splice(D,K),this._len-=K)}_insertLines(D,K){if(0===K)return;const q=[];for(let we=0;we<K;we++)q[we]=null;this._lineTokens=f.Zv(this._lineTokens,D,q),this._len+=K}setTokens(D,K,q,we,Re){const Xe=Si._massageTokens(this._languageIdCodec.encodeLanguageId(D),q,we);this._ensureLine(K);const xt=this._lineTokens[K];return this._lineTokens[K]=Xe,!!Re&&!Si._equals(xt,Xe)}static _equals(D,K){if(!D||!K)return!D&&!K;const q=ri(D),we=ri(K);if(q.length!==we.length)return!1;for(let Re=0,Xe=q.length;Re<Xe;Re++)if(q[Re]!==we[Re])return!1;return!0}acceptEdit(D,K,q){this._acceptDeleteRange(D),this._acceptInsertText(new _.L(D.startLineNumber,D.startColumn),K,q)}_acceptDeleteRange(D){const K=D.startLineNumber-1;if(K>=this._len)return;if(D.startLineNumber===D.endLineNumber){if(D.startColumn===D.endColumn)return;return void(this._lineTokens[K]=Gn.delete(this._lineTokens[K],D.startColumn-1,D.endColumn-1))}this._lineTokens[K]=Gn.deleteEnding(this._lineTokens[K],D.startColumn-1);const q=D.endLineNumber-1;let we=null;q<this._len&&(we=Gn.deleteBeginning(this._lineTokens[q],D.endColumn-1)),this._lineTokens[K]=Gn.append(this._lineTokens[K],we),this._deleteLines(D.startLineNumber,D.endLineNumber-D.startLineNumber)}_acceptInsertText(D,K,q){if(0===K&&0===q)return;const we=D.lineNumber-1;if(!(we>=this._len)){if(0===K)return void(this._lineTokens[we]=Gn.insert(this._lineTokens[we],D.column-1,q));this._lineTokens[we]=Gn.deleteEnding(this._lineTokens[we],D.column-1),this._lineTokens[we]=Gn.insert(this._lineTokens[we],D.column-1,q),this._insertLines(D.lineNumber,K)}}}function xi(_t){return(32768|_t<<0|2<<24|1024)>>>0}class Li{constructor(D){this._pieces=[],this._isComplete=!1,this._languageIdCodec=D}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(D,K){this._pieces=D||[],this._isComplete=K}setPartial(D,K){let q=D;if(K.length>0){const Re=K[0].getRange(),Xe=K[K.length-1].getRange();if(!Re||!Xe)return D;q=D.plusRange(Re).plusRange(Xe)}let we=null;for(let Re=0,Xe=this._pieces.length;Re<Xe;Re++){const xt=this._pieces[Re];if(xt.endLineNumber<q.startLineNumber)continue;if(xt.startLineNumber>q.endLineNumber){we=we||{index:Re};break}if(xt.removeTokens(q),xt.isEmpty()){this._pieces.splice(Re,1),Re--,Xe--;continue}if(xt.endLineNumber<q.startLineNumber)continue;if(xt.startLineNumber>q.endLineNumber){we=we||{index:Re};continue}const[At,tn]=xt.split(q);At.isEmpty()?we=we||{index:Re}:tn.isEmpty()||(this._pieces.splice(Re,1,At,tn),Re++,Xe++,we=we||{index:Re})}return we=we||{index:this._pieces.length},K.length>0&&(this._pieces=f.Zv(this._pieces,we.index,K)),q}isComplete(){return this._isComplete}addSparseTokens(D,K){if(0===K.getLineContent().length)return K;const q=this._pieces;if(0===q.length)return K;const Re=q[Li._findFirstPieceWithLine(q,D)].getLineTokens(D);if(!Re)return K;const Xe=K.getCount(),xt=Re.getCount();let At=0;const tn=[];let an=0,fn=0;const gn=(Ln,Rn)=>{Ln!==fn&&(fn=Ln,tn[an++]=Ln,tn[an++]=Rn)};for(let Ln=0;Ln<xt;Ln++){const Rn=Re.getStartCharacter(Ln),zn=Re.getEndCharacter(Ln),Vn=Re.getMetadata(Ln),oi=((1&Vn?2048:0)|(2&Vn?4096:0)|(4&Vn?8192:0)|(8&Vn?16384:0)|(16&Vn?16744448:0)|(32&Vn?4278190080:0))>>>0,hi=~oi>>>0;for(;At<Xe&&K.getEndOffset(At)<=Rn;)gn(K.getEndOffset(At),K.getMetadata(At)),At++;for(At<Xe&&K.getStartOffset(At)<Rn&&gn(Rn,K.getMetadata(At));At<Xe&&K.getEndOffset(At)<zn;)gn(K.getEndOffset(At),K.getMetadata(At)&hi|Vn&oi),At++;if(At<Xe)gn(zn,K.getMetadata(At)&hi|Vn&oi),K.getEndOffset(At)===zn&&At++;else{const ii=Math.min(Math.max(0,At-1),Xe-1);gn(zn,K.getMetadata(ii)&hi|Vn&oi)}}for(;At<Xe;)gn(K.getEndOffset(At),K.getMetadata(At)),At++;return new oe.A(new Uint32Array(tn),K.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(D,K){let q=0,we=D.length-1;for(;q<we;){let Re=q+Math.floor((we-q)/2);if(D[Re].endLineNumber<K)q=Re+1;else{if(!(D[Re].startLineNumber>K)){for(;Re>q&&D[Re-1].startLineNumber<=K&&K<=D[Re-1].endLineNumber;)Re--;return Re}we=Re-1}}return q}acceptEdit(D,K,q,we,Re){for(const Xe of this._pieces)Xe.acceptEdit(D,K,q,we,Re)}}class Yn extends Te.U{constructor(D,K,q,we,Re){super(),this._languageService=D,this._languageConfigurationService=K,this._textModel=q,this.bracketPairsTextModelPart=we,this._languageId=Re,this._onDidChangeLanguage=this._register(new M.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new M.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new M.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new M.Q5),this._tokens=new Si(this._languageService.languageIdCodec),this._semanticTokens=new Li(this._languageService.languageIdCodec),this._tokenization=new On(q,this,this._languageService.languageIdCodec),this._languageRegistryListener=this._languageConfigurationService.onDidChange(Xe=>{Xe.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})}acceptEdit(D,K,q,we,Re){this._tokens.acceptEdit(D,q,we),this._semanticTokens.acceptEdit(D,q,we,Re,K.length>0?K.charCodeAt(0):0)}handleDidChangeAttached(){this._tokenization.handleDidChangeAttached()}flush(){this._tokens.flush(),this._semanticTokens.flush()}handleDidChangeContent(D){this._tokenization.handleDidChangeContent(D)}dispose(){this._languageRegistryListener.dispose(),this._tokenization.dispose(),super.dispose()}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(D){if(2===this._backgroundTokenizationState)return;const K=D?2:1;this._backgroundTokenizationState!==K&&(this._backgroundTokenizationState=K,this.bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState(),this._onBackgroundTokenizationStateChanged.fire())}setTokens(D,K=!1){if(0!==D.length){const q=[];for(let we=0,Re=D.length;we<Re;we++){const Xe=D[we];let xt=0,At=0,tn=!1;for(let an=Xe.startLineNumber;an<=Xe.endLineNumber;an++)tn?(this._tokens.setTokens(this._languageId,an-1,this._textModel.getLineLength(an),Xe.getLineTokens(an),!1),At=an):this._tokens.setTokens(this._languageId,an-1,this._textModel.getLineLength(an),Xe.getLineTokens(an),!0)&&(tn=!0,xt=an,At=an);tn&&q.push({fromLineNumber:xt,toLineNumber:At})}q.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:q})}this.handleTokenizationProgress(K)}setSemanticTokens(D,K){this._semanticTokens.set(D,K),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:null!==D,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(D,K){if(this.hasCompleteSemanticTokens())return;const q=this._textModel.validateRange(this._semanticTokens.setPartial(D,K));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:q.startLineNumber,toLineNumber:q.endLineNumber}]})}tokenizeViewport(D,K){D=Math.max(1,D),K=Math.min(this._textModel.getLineCount(),K),this._tokenization.tokenizeViewport(D,K)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}_emitModelTokensChangedEvent(D){this._textModel._isDisposing()||(this.bracketPairsTextModelPart.handleDidChangeTokens(D),this._onDidChangeTokens.fire(D))}resetTokenization(){this._tokenization.reset()}forceTokenization(D){if(D<1||D>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(D)}isCheapToTokenize(D){return this._tokenization.isCheapToTokenize(D)}tokenizeIfCheap(D){this.isCheapToTokenize(D)&&this.forceTokenization(D)}getLineTokens(D){if(D<1||D>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(D)}_getLineTokens(D){const K=this._textModel.getLineContent(D),q=this._tokens.getTokens(this._languageId,D-1,K);return this._semanticTokens.addSparseTokens(D,q)}getTokenTypeIfInsertingCharacter(D,K,q){const we=this._textModel.validatePosition(new _.L(D,K));return this._tokenization.getTokenTypeIfInsertingCharacter(we,q)}tokenizeLineWithEdit(D,K,q){const we=this._textModel.validatePosition(D);return this._tokenization.tokenizeLineWithEdit(we,K,q)}getLanguageConfiguration(D){return this._languageConfigurationService.getLanguageConfiguration(D)}getWordAtPosition(D){this.assertNotDisposed();const K=this._textModel.validatePosition(D),q=this._textModel.getLineContent(K.lineNumber),we=this._getLineTokens(K.lineNumber),Re=we.findTokenIndexAtOffset(K.column-1),[Xe,xt]=Yn._findLanguageBoundaries(we,Re),At=(0,Dt.t2)(K.column,this.getLanguageConfiguration(we.getLanguageId(Re)).getWordDefinition(),q.substring(Xe,xt),Xe);if(At&&At.startColumn<=D.column&&D.column<=At.endColumn)return At;if(Re>0&&Xe===K.column-1){const[tn,an]=Yn._findLanguageBoundaries(we,Re-1),fn=(0,Dt.t2)(K.column,this.getLanguageConfiguration(we.getLanguageId(Re-1)).getWordDefinition(),q.substring(tn,an),tn);if(fn&&fn.startColumn<=D.column&&D.column<=fn.endColumn)return fn}return null}static _findLanguageBoundaries(D,K){const q=D.getLanguageId(K);let we=0;for(let Xe=K;Xe>=0&&D.getLanguageId(Xe)===q;Xe--)we=D.getStartOffset(Xe);let Re=D.getLineContent().length;for(let Xe=K,xt=D.getCount();Xe<xt&&D.getLanguageId(Xe)===q;Xe++)Re=D.getEndOffset(Xe);return[we,Re]}getWordUntilPosition(D){const K=this.getWordAtPosition(D);return K?{word:K.word.substr(0,D.column-K.startColumn),startColumn:K.startColumn,endColumn:D.column}:{word:"",startColumn:D.column,endColumn:D.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(D,K){const q=this._textModel.validatePosition(new _.L(D,K)),we=this.getLineTokens(q.lineNumber);return we.getLanguageId(we.findTokenIndexAtOffset(q.column-1))}setLanguageId(D){if(this._languageId===D)return;const K={oldLanguage:this._languageId,newLanguage:D};this._languageId=D,this.bracketPairsTextModelPart.handleDidChangeLanguage(K),this._tokenization.handleDidChangeLanguage(K),this._onDidChangeLanguage.fire(K),this._onDidChangeLanguageConfiguration.fire({})}}var fi=e(42814),pi=e(18846),bt=function(_t,D){return function(K,q){D(K,q,_t)}};function un(_t,D){let K;return K="string"==typeof _t?function Lt(_t){const D=new Dn;return D.acceptChunk(_t),D.finish()}(_t):v.Hf(_t)?function Ft(_t){const D=new Dn;let K;for(;"string"==typeof(K=_t.read());)D.acceptChunk(K);return D.finish()}(_t):_t,K.create(D)}let ln=0;class wt{constructor(D){this._source=D,this._eos=!1}read(){if(this._eos)return null;const D=[];let K=0,q=0;for(;;){const we=this._source.read();if(null===we)return this._eos=!0,0===K?null:D.join("");if(we.length>0&&(D[K++]=we,q+=we.length),q>=65536)return D.join("")}}}const Bt=()=>{throw new Error("Invalid change accessor")};let Xt=class aa extends u.JT{constructor(D,K,q,we=null,Re,Xe,xt){super(),this._undoRedoService=Re,this._languageService=Xe,this._languageConfigurationService=xt,this._onWillDispose=this._register(new M.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new Kn(gn=>this.handleBeforeFireDecorationsChangedEvent(gn))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new M.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new M.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new M.Q5),this._eventEmitter=this._register(new Zn),this._deltaDecorationCallCnt=0,ln++,this.id="$model"+ln,this.isForSimpleWidget=q.isForSimpleWidget,this._associatedResource=null==we?A.o.parse("inmemory://model/"+ln):we,this._attachedEditorCount=0;const{textBuffer:At,disposable:tn}=un(D,q.defaultEOL);this._buffer=At,this._bufferDisposable=tn,this._options=aa.resolveOptions(this._buffer,q),this._bracketPairs=this._register(new Y(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new ee.l(this,this._languageConfigurationService)),this._decorationProvider=this._register(new be(this)),this._tokenizationTextModelPart=new Yn(this._languageService,this._languageConfigurationService,this,this._bracketPairs,K);const an=this._buffer.getLineCount(),fn=this._buffer.getValueLengthInRange(new a.e(1,1,an,this._buffer.getLineLength(an)+1),0);this._isTooLargeForTokenization=!!q.largeFileOptimizations&&(fn>aa.LARGE_FILE_SIZE_THRESHOLD||an>aa.LARGE_FILE_LINE_COUNT_THRESHOLD),this._isTooLargeForSyncing=fn>aa.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=P.PJ(ln),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new ct,this._commandManager=new Ie.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(D,K){if(K.detectIndentation){const q=de(D,K.tabSize,K.insertSpaces);return new v.dJ({tabSize:q.tabSize,indentSize:q.tabSize,insertSpaces:q.insertSpaces,trimAutoWhitespace:K.trimAutoWhitespace,defaultEOL:K.defaultEOL,bracketPairColorizationOptions:K.bracketPairColorizationOptions})}return new v.dJ({tabSize:K.tabSize,indentSize:K.indentSize,insertSpaces:K.insertSpaces,trimAutoWhitespace:K.trimAutoWhitespace,defaultEOL:K.defaultEOL,bracketPairColorizationOptions:K.bracketPairColorizationOptions})}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(D){return this._eventEmitter.slowEvent(K=>D(K.contentChangedEvent))}onDidChangeContentOrInjectedText(D){return(0,u.F8)(this._eventEmitter.fastEvent(K=>D(K)),this._onDidChangeInjectedText.event(K=>D(K)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const D=new Qn([],"","\n",!1,!1,!0,!0);D.dispose(),this._buffer=D,this._bufferDisposable=u.JT.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(D,K){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(K),this._bracketPairs.handleDidChangeContent(K),this._eventEmitter.fire(new fi.fV(D,K)))}setValue(D){if(this._assertNotDisposed(),null===D)return;const{textBuffer:K,disposable:q}=un(D,this._options.defaultEOL);this._setValueFromTextBuffer(K,q)}_createContentChanged2(D,K,q,we,Re,Xe,xt){return{changes:[{range:D,rangeOffset:K,rangeLength:q,text:we}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:Re,isRedoing:Xe,isFlush:xt}}_setValueFromTextBuffer(D,K){this._assertNotDisposed();const q=this.getFullModelRange(),we=this.getValueLengthInRange(q),Re=this.getLineCount(),Xe=this.getLineMaxColumn(Re);this._buffer=D,this._bufferDisposable.dispose(),this._bufferDisposable=K,this._increaseVersionId(),this._tokenizationTextModelPart.flush(),this._decorations=Object.create(null),this._decorationsTree=new ct,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new fi.dQ([new fi.Jx],this._versionId,!1,!1),this._createContentChanged2(new a.e(1,1,Re,Xe),0,we,this.getValue(),!1,!1,!0))}setEOL(D){this._assertNotDisposed();const K=1===D?"\r\n":"\n";if(this._buffer.getEOL()===K)return;const q=this.getFullModelRange(),we=this.getValueLengthInRange(q),Re=this.getLineCount(),Xe=this.getLineMaxColumn(Re);this._onBeforeEOLChange(),this._buffer.setEOL(K),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new fi.dQ([new fi.CZ],this._versionId,!1,!1),this._createContentChanged2(new a.e(1,1,Re,Xe),0,we,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const D=this.getVersionId(),K=this._decorationsTree.collectNodesPostOrder();for(let q=0,we=K.length;q<we;q++){const Re=K[q],Xe=Re.range,xt=Re.cachedAbsoluteStart-Re.start,At=this._buffer.getOffsetAt(Xe.startLineNumber,Xe.startColumn),tn=this._buffer.getOffsetAt(Xe.endLineNumber,Xe.endColumn);Re.cachedAbsoluteStart=At,Re.cachedAbsoluteEnd=tn,Re.cachedVersionId=D,Re.start=At-xt,Re.end=tn-xt,$t(Re)}}onBeforeAttached(){this._attachedEditorCount++,1===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,0===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let D=0,K=0;const q=this._buffer.getLineCount();for(let we=1;we<=q;we++){const Re=this._buffer.getLineLength(we);Re>=1e4?K+=Re:D+=Re}return K>D}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(D){this._assertNotDisposed();const xt=new v.dJ({tabSize:void 0!==D.tabSize?D.tabSize:this._options.tabSize,indentSize:void 0!==D.indentSize?D.indentSize:this._options.indentSize,insertSpaces:void 0!==D.insertSpaces?D.insertSpaces:this._options.insertSpaces,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:void 0!==D.trimAutoWhitespace?D.trimAutoWhitespace:this._options.trimAutoWhitespace,bracketPairColorizationOptions:void 0!==D.bracketColorizationOptions?D.bracketColorizationOptions:this._options.bracketPairColorizationOptions});if(this._options.equals(xt))return;const At=this._options.createChangeEvent(xt);this._options=xt,this._bracketPairs.handleDidChangeOptions(At),this._decorationProvider.handleDidChangeOptions(At),this._onDidChangeOptions.fire(At)}detectIndentation(D,K){this._assertNotDisposed();const q=de(this._buffer,K,D);this.updateOptions({insertSpaces:q.insertSpaces,tabSize:q.tabSize,indentSize:q.tabSize})}normalizeIndentation(D){return this._assertNotDisposed(),(0,N.x)(D,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(D=null){const K=this.findMatches(P.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(D,K.map(q=>({range:q.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(D){this._assertNotDisposed();const K=this._validatePosition(D.lineNumber,D.column,0);return this._buffer.getOffsetAt(K.lineNumber,K.column)}getPositionAt(D){this._assertNotDisposed();const K=Math.min(this._buffer.getLength(),Math.max(0,D));return this._buffer.getPositionAt(K)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(D){this._versionId=D}_overwriteAlternativeVersionId(D){this._alternativeVersionId=D}_overwriteInitialUndoRedoSnapshot(D){this._initialUndoRedoSnapshot=D}getValue(D,K=!1){this._assertNotDisposed();const q=this.getFullModelRange(),we=this.getValueInRange(q,D);return K?this._buffer.getBOM()+we:we}createSnapshot(D=!1){return new wt(this._buffer.createSnapshot(D))}getValueLength(D,K=!1){this._assertNotDisposed();const q=this.getFullModelRange(),we=this.getValueLengthInRange(q,D);return K?this._buffer.getBOM().length+we:we}getValueInRange(D,K=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(D),K)}getValueLengthInRange(D,K=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(D),K)}getCharacterCountInRange(D,K=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(D),K)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(D){if(this._assertNotDisposed(),D<1||D>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(D)}getLineLength(D){if(this._assertNotDisposed(),D<1||D>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(D)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(D){return this._assertNotDisposed(),1}getLineMaxColumn(D){if(this._assertNotDisposed(),D<1||D>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(D)+1}getLineFirstNonWhitespaceColumn(D){if(this._assertNotDisposed(),D<1||D>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(D)}getLineLastNonWhitespaceColumn(D){if(this._assertNotDisposed(),D<1||D>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(D)}_validateRangeRelaxedNoAllocations(D){const K=this._buffer.getLineCount(),q=D.startLineNumber,we=D.startColumn;let Re=Math.floor("number"!=typeof q||isNaN(q)?1:q),Xe=Math.floor("number"!=typeof we||isNaN(we)?1:we);if(Re<1)Re=1,Xe=1;else if(Re>K)Re=K,Xe=this.getLineMaxColumn(Re);else if(Xe<=1)Xe=1;else{const fn=this.getLineMaxColumn(Re);Xe>=fn&&(Xe=fn)}const xt=D.endLineNumber,At=D.endColumn;let tn=Math.floor("number"!=typeof xt||isNaN(xt)?1:xt),an=Math.floor("number"!=typeof At||isNaN(At)?1:At);if(tn<1)tn=1,an=1;else if(tn>K)tn=K,an=this.getLineMaxColumn(tn);else if(an<=1)an=1;else{const fn=this.getLineMaxColumn(tn);an>=fn&&(an=fn)}return q===Re&&we===Xe&&xt===tn&&At===an&&D instanceof a.e&&!(D instanceof p.Y)?D:new a.e(Re,Xe,tn,an)}_isValidPosition(D,K,q){if("number"!=typeof D||"number"!=typeof K||isNaN(D)||isNaN(K)||D<1||K<1||(0|D)!==D||(0|K)!==K)return!1;if(D>this._buffer.getLineCount())return!1;if(1===K)return!0;if(K>this.getLineMaxColumn(D))return!1;if(1===q){const Xe=this._buffer.getLineCharCode(D,K-2);if(P.ZG(Xe))return!1}return!0}_validatePosition(D,K,q){const we=Math.floor("number"!=typeof D||isNaN(D)?1:D),Re=Math.floor("number"!=typeof K||isNaN(K)?1:K),Xe=this._buffer.getLineCount();if(we<1)return new _.L(1,1);if(we>Xe)return new _.L(Xe,this.getLineMaxColumn(Xe));if(Re<=1)return new _.L(we,1);const xt=this.getLineMaxColumn(we);if(Re>=xt)return new _.L(we,xt);if(1===q){const At=this._buffer.getLineCharCode(we,Re-2);if(P.ZG(At))return new _.L(we,Re-1)}return new _.L(we,Re)}validatePosition(D){return this._assertNotDisposed(),D instanceof _.L&&this._isValidPosition(D.lineNumber,D.column,1)?D:this._validatePosition(D.lineNumber,D.column,1)}_isValidRange(D,K){const q=D.startLineNumber,we=D.startColumn,Re=D.endLineNumber,Xe=D.endColumn;if(!this._isValidPosition(q,we,0)||!this._isValidPosition(Re,Xe,0))return!1;if(1===K){const xt=we>1?this._buffer.getLineCharCode(q,we-2):0,At=Xe>1&&Xe<=this._buffer.getLineLength(Re)?this._buffer.getLineCharCode(Re,Xe-2):0,tn=P.ZG(xt),an=P.ZG(At);return!tn&&!an}return!0}validateRange(D){if(this._assertNotDisposed(),D instanceof a.e&&!(D instanceof p.Y)&&this._isValidRange(D,1))return D;const q=this._validatePosition(D.startLineNumber,D.startColumn,0),we=this._validatePosition(D.endLineNumber,D.endColumn,0),Re=q.lineNumber,Xe=q.column,xt=we.lineNumber,At=we.column;{const tn=Xe>1?this._buffer.getLineCharCode(Re,Xe-2):0,an=At>1&&At<=this._buffer.getLineLength(xt)?this._buffer.getLineCharCode(xt,At-2):0,fn=P.ZG(tn),gn=P.ZG(an);return fn||gn?Re===xt&&Xe===At?new a.e(Re,Xe-1,xt,At-1):fn&&gn?new a.e(Re,Xe-1,xt,At+1):fn?new a.e(Re,Xe-1,xt,At):new a.e(Re,Xe,xt,At+1):new a.e(Re,Xe,xt,At)}}modifyPosition(D,K){this._assertNotDisposed();const q=this.getOffsetAt(D)+K;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,q)))}getFullModelRange(){this._assertNotDisposed();const D=this.getLineCount();return new a.e(1,1,D,this.getLineMaxColumn(D))}findMatchesLineByLine(D,K,q,we){return this._buffer.findMatchesLineByLine(D,K,q,we)}findMatches(D,K,q,we,Re,Xe,xt=999){this._assertNotDisposed();let At=null;null!==K&&(Array.isArray(K)||(K=[K]),K.every(fn=>a.e.isIRange(fn))&&(At=K.map(fn=>this.validateRange(fn)))),null===At&&(At=[this.getFullModelRange()]),At=At.sort((fn,gn)=>fn.startLineNumber-gn.startLineNumber||fn.startColumn-gn.startColumn);const tn=[];let an;if(tn.push(At.reduce((fn,gn)=>a.e.areIntersecting(fn,gn)?fn.plusRange(gn):(tn.push(fn),gn))),!q&&D.indexOf("\n")<0){const gn=new ht.bc(D,q,we,Re).parseSearchRequest();if(!gn)return[];an=Ln=>this.findMatchesLineByLine(Ln,gn,Xe,xt)}else an=fn=>ht.pM.findMatches(this,new ht.bc(D,q,we,Re),fn,Xe,xt);return tn.map(an).reduce((fn,gn)=>fn.concat(gn),[])}findNextMatch(D,K,q,we,Re,Xe){this._assertNotDisposed();const xt=this.validatePosition(K);if(!q&&D.indexOf("\n")<0){const tn=new ht.bc(D,q,we,Re).parseSearchRequest();if(!tn)return null;const an=this.getLineCount();let fn=new a.e(xt.lineNumber,xt.column,an,this.getLineMaxColumn(an)),gn=this.findMatchesLineByLine(fn,tn,Xe,1);return ht.pM.findNextMatch(this,new ht.bc(D,q,we,Re),xt,Xe),gn.length>0||(fn=new a.e(1,1,xt.lineNumber,this.getLineMaxColumn(xt.lineNumber)),gn=this.findMatchesLineByLine(fn,tn,Xe,1),gn.length>0)?gn[0]:null}return ht.pM.findNextMatch(this,new ht.bc(D,q,we,Re),xt,Xe)}findPreviousMatch(D,K,q,we,Re,Xe){this._assertNotDisposed();const xt=this.validatePosition(K);return ht.pM.findPreviousMatch(this,new ht.bc(D,q,we,Re),xt,Xe)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(D){if(("\n"===this.getEOL()?0:1)!==D)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(D)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(D){return D instanceof v.Qi?D:new v.Qi(D.identifier||null,this.validateRange(D.range),D.text,D.forceMoveMarkers||!1,D.isAutoWhitespaceEdit||!1,D._isTracked||!1)}_validateEditOperations(D){const K=[];for(let q=0,we=D.length;q<we;q++)K[q]=this._validateEditOperation(D[q]);return K}pushEditOperations(D,K,q){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(D,this._validateEditOperations(K),q)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(D,K,q){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const we=K.map(Xe=>({range:this.validateRange(Xe.range),text:Xe.text}));let Re=!0;if(D)for(let Xe=0,xt=D.length;Xe<xt;Xe++){const At=D[Xe];let tn=!1;for(let an=0,fn=we.length;an<fn;an++){const gn=we[an].range,Rn=At.startLineNumber>gn.endLineNumber;if(!(gn.startLineNumber>At.endLineNumber||Rn)){tn=!0;break}}if(!tn){Re=!1;break}}if(Re)for(let Xe=0,xt=this._trimAutoWhitespaceLines.length;Xe<xt;Xe++){const At=this._trimAutoWhitespaceLines[Xe],tn=this.getLineMaxColumn(At);let an=!0;for(let fn=0,gn=we.length;fn<gn;fn++){const Ln=we[fn].range,Rn=we[fn].text;if(!(At<Ln.startLineNumber||At>Ln.endLineNumber||At===Ln.startLineNumber&&Ln.startColumn===tn&&Ln.isEmpty()&&Rn&&Rn.length>0&&"\n"===Rn.charAt(0)||At===Ln.startLineNumber&&1===Ln.startColumn&&Ln.isEmpty()&&Rn&&Rn.length>0&&"\n"===Rn.charAt(Rn.length-1))){an=!1;break}}if(an){const fn=new a.e(At,1,At,tn);K.push(new v.Qi(null,fn,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(D,K,q)}_applyUndo(D,K,q,we){const Re=D.map(Xe=>{const xt=this.getPositionAt(Xe.newPosition),At=this.getPositionAt(Xe.newEnd);return{range:new a.e(xt.lineNumber,xt.column,At.lineNumber,At.column),text:Xe.oldText}});this._applyUndoRedoEdits(Re,K,!0,!1,q,we)}_applyRedo(D,K,q,we){const Re=D.map(Xe=>{const xt=this.getPositionAt(Xe.oldPosition),At=this.getPositionAt(Xe.oldEnd);return{range:new a.e(xt.lineNumber,xt.column,At.lineNumber,At.column),text:Xe.newText}});this._applyUndoRedoEdits(Re,K,!1,!0,q,we)}_applyUndoRedoEdits(D,K,q,we,Re,Xe){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=q,this._isRedoing=we,this.applyEdits(D,!1),this.setEOL(K),this._overwriteAlternativeVersionId(Re)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(Xe),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(D,K=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const q=this._validateEditOperations(D);return this._doApplyEdits(q,K)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(D,K){const q=this._buffer.getLineCount(),we=this._buffer.applyEdits(D,this._options.trimAutoWhitespace,K),Re=this._buffer.getLineCount(),Xe=we.changes;if(this._trimAutoWhitespaceLines=we.trimAutoWhitespaceLineNumbers,0!==Xe.length){for(let tn=0,an=Xe.length;tn<an;tn++){const fn=Xe[tn],[gn,Ln,Rn]=(0,k.Q)(fn.text);this._tokenizationTextModelPart.acceptEdit(fn.range,fn.text,gn,Ln,Rn),this._decorationsTree.acceptReplace(fn.rangeOffset,fn.rangeLength,fn.text.length,fn.forceMoveMarkers)}const xt=[];this._increaseVersionId();let At=q;for(let tn=0,an=Xe.length;tn<an;tn++){const fn=Xe[tn],[gn]=(0,k.Q)(fn.text);this._onDidChangeDecorations.fire();const Ln=fn.range.startLineNumber,Rn=fn.range.endLineNumber,zn=Rn-Ln,Vn=gn,oi=Math.min(zn,Vn),hi=Vn-zn,ii=Re-At-hi+Ln,Ki=ii+Vn,Jt=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new _.L(ii,1)),this.getOffsetAt(new _.L(Ki,this.getLineMaxColumn(Ki))),0),X=fi.gk.fromDecorations(Jt),Ce=new f.H9(X);for(let tt=oi;tt>=0;tt--){const Rt=Ln+tt,zt=ii+tt;Ce.takeFromEndWhile(Sn=>Sn.lineNumber>zt);const dn=Ce.takeFromEndWhile(Sn=>Sn.lineNumber===zt);xt.push(new fi.rU(Rt,this.getLineContent(zt),dn))}if(oi<zn&&xt.push(new fi.lN(Ln+oi+1,Rn)),oi<Vn){const tt=new f.H9(X),Rt=Ln+oi,zt=Vn-oi,dn=Re-At-zt+Rt+1,Sn=[],Nn=[];for(let jn=0;jn<zt;jn++){const $n=dn+jn;Nn[jn]=this.getLineContent($n),tt.takeWhile(Xn=>Xn.lineNumber<$n),Sn[jn]=tt.takeWhile(Xn=>Xn.lineNumber===$n)}xt.push(new fi.Tx(Rt+1,Ln+Vn,Nn,Sn))}At+=hi}this._emitContentChangedEvent(new fi.dQ(xt,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:Xe,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===we.reverseEdits?void 0:we.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(D){if(null===D||0===D.size)return;const q=Array.from(D).map(we=>new fi.rU(we,this.getLineContent(we),this._getInjectedTextInLine(we)));this._onDidChangeInjectedText.fire(new fi.D8(q))}changeDecorations(D,K=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(K,D)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(D,K){const q={addDecoration:(Re,Xe)=>this._deltaDecorationsImpl(D,[],[{range:Re,options:Xe}])[0],changeDecoration:(Re,Xe)=>{this._changeDecorationImpl(Re,Xe)},changeDecorationOptions:(Re,Xe)=>{this._changeDecorationOptionsImpl(Re,Qt(Xe))},removeDecoration:Re=>{this._deltaDecorationsImpl(D,[Re],[])},deltaDecorations:(Re,Xe)=>0===Re.length&&0===Xe.length?[]:this._deltaDecorationsImpl(D,Re,Xe)};let we=null;try{we=K(q)}catch(Re){(0,L.dL)(Re)}return q.addDecoration=Bt,q.changeDecoration=Bt,q.changeDecorationOptions=Bt,q.removeDecoration=Bt,q.deltaDecorations=Bt,we}deltaDecorations(D,K,q=0){if(this._assertNotDisposed(),D||(D=[]),0===D.length&&0===K.length)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,L.dL)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(q,D,K)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(D){return this.getDecorationRange(D)}_setTrackedRange(D,K,q){const we=D?this._decorations[D]:null;if(!we)return K?this._deltaDecorationsImpl(0,[],[{range:K,options:Fn[q]}])[0]:null;if(!K)return this._decorationsTree.delete(we),delete this._decorations[we.id],null;const Re=this._validateRangeRelaxedNoAllocations(K),Xe=this._buffer.getOffsetAt(Re.startLineNumber,Re.startColumn),xt=this._buffer.getOffsetAt(Re.endLineNumber,Re.endColumn);return this._decorationsTree.delete(we),we.reset(this.getVersionId(),Xe,xt,Re),we.setOptions(Fn[q]),this._decorationsTree.insert(we),we.id}removeAllDecorationsWithOwnerId(D){if(this._isDisposed)return;const K=this._decorationsTree.collectNodesFromOwner(D);for(let q=0,we=K.length;q<we;q++){const Re=K[q];this._decorationsTree.delete(Re),delete this._decorations[Re.id]}}getDecorationOptions(D){const K=this._decorations[D];return K?K.options:null}getDecorationRange(D){const K=this._decorations[D];return K?this._decorationsTree.getNodeRange(this,K):null}getLineDecorations(D,K=0,q=!1){return D<1||D>this.getLineCount()?[]:this.getLinesDecorations(D,D,K,q)}getLinesDecorations(D,K,q=0,we=!1){const Re=this.getLineCount(),Xe=Math.min(Re,Math.max(1,D)),xt=Math.min(Re,Math.max(1,K)),At=this.getLineMaxColumn(xt),tn=new a.e(Xe,1,xt,At),an=this._getDecorationsInRange(tn,q,we);return(0,f.vA)(an,this._decorationProvider.getDecorationsInRange(tn,q,we)),an}getDecorationsInRange(D,K=0,q=!1){const we=this.validateRange(D),Re=this._getDecorationsInRange(we,K,q);return(0,f.vA)(Re,this._decorationProvider.getDecorationsInRange(we,K,q)),Re}getOverviewRulerDecorations(D=0,K=!1){return this._decorationsTree.getAll(this,D,K,!0)}getInjectedTextDecorations(D=0){return this._decorationsTree.getAllInjectedText(this,D)}_getInjectedTextInLine(D){const K=this._buffer.getOffsetAt(D,1),q=K+this._buffer.getLineLength(D),we=this._decorationsTree.getInjectedTextInInterval(this,K,q,0);return fi.gk.fromDecorations(we).filter(Re=>Re.lineNumber===D)}getAllDecorations(D=0,K=!1){let q=this._decorationsTree.getAll(this,D,K,!1);return q=q.concat(this._decorationProvider.getAllDecorations(D,K)),q}_getDecorationsInRange(D,K,q){const we=this._buffer.getOffsetAt(D.startLineNumber,D.startColumn),Re=this._buffer.getOffsetAt(D.endLineNumber,D.endColumn);return this._decorationsTree.getAllInInterval(this,we,Re,K,q)}getRangeAt(D,K){return this._buffer.getRangeAt(D,K-D)}_changeDecorationImpl(D,K){const q=this._decorations[D];if(!q)return;if(q.options.after){const xt=this.getDecorationRange(D);this._onDidChangeDecorations.recordLineAffectedByInjectedText(xt.endLineNumber)}if(q.options.before){const xt=this.getDecorationRange(D);this._onDidChangeDecorations.recordLineAffectedByInjectedText(xt.startLineNumber)}const we=this._validateRangeRelaxedNoAllocations(K),Re=this._buffer.getOffsetAt(we.startLineNumber,we.startColumn),Xe=this._buffer.getOffsetAt(we.endLineNumber,we.endColumn);this._decorationsTree.delete(q),q.reset(this.getVersionId(),Re,Xe,we),this._decorationsTree.insert(q),this._onDidChangeDecorations.checkAffectedAndFire(q.options),q.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(we.endLineNumber),q.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(we.startLineNumber)}_changeDecorationOptionsImpl(D,K){const q=this._decorations[D];if(!q)return;const we=!(!q.options.overviewRuler||!q.options.overviewRuler.color),Re=!(!K.overviewRuler||!K.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(q.options),this._onDidChangeDecorations.checkAffectedAndFire(K),q.options.after||K.after){const Xe=this._decorationsTree.getNodeRange(this,q);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Xe.endLineNumber)}if(q.options.before||K.before){const Xe=this._decorationsTree.getNodeRange(this,q);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Xe.startLineNumber)}we!==Re?(this._decorationsTree.delete(q),q.setOptions(K),this._decorationsTree.insert(q)):q.setOptions(K)}_deltaDecorationsImpl(D,K,q){const we=this.getVersionId(),Re=K.length;let Xe=0;const xt=q.length;let At=0;const tn=new Array(xt);for(;Xe<Re||At<xt;){let an=null;if(Xe<Re){do{an=this._decorations[K[Xe++]]}while(!an&&Xe<Re);if(an){if(an.options.after){const fn=this._decorationsTree.getNodeRange(this,an);this._onDidChangeDecorations.recordLineAffectedByInjectedText(fn.endLineNumber)}if(an.options.before){const fn=this._decorationsTree.getNodeRange(this,an);this._onDidChangeDecorations.recordLineAffectedByInjectedText(fn.startLineNumber)}this._decorationsTree.delete(an),this._onDidChangeDecorations.checkAffectedAndFire(an.options)}}if(At<xt){if(!an){const Vn=++this._lastDecorationId,oi=`${this._instanceId};${Vn}`;an=new Ae(oi,0,0),this._decorations[oi]=an}const fn=q[At],gn=this._validateRangeRelaxedNoAllocations(fn.range),Ln=Qt(fn.options),Rn=this._buffer.getOffsetAt(gn.startLineNumber,gn.startColumn),zn=this._buffer.getOffsetAt(gn.endLineNumber,gn.endColumn);an.ownerId=D,an.reset(we,Rn,zn,gn),an.setOptions(Ln),an.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(gn.endLineNumber),an.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(gn.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(Ln),this._decorationsTree.insert(an),tn[At]=an.id,At++}else an&&delete this._decorations[an.id]}return tn}getLanguageId(){return this.tokenization.getLanguageId()}setMode(D){this.tokenization.setLanguageId(D)}getLanguageIdAtPosition(D,K){return this.tokenization.getLanguageIdAtPosition(D,K)}getWordAtPosition(D){return this._tokenizationTextModelPart.getWordAtPosition(D)}getWordUntilPosition(D){return this._tokenizationTextModelPart.getWordUntilPosition(D)}normalizePosition(D,K){return D}getLineIndentColumn(D){return function nn(_t){let D=0;for(const K of _t){if(" "!==K&&"\t"!==K)break;D++}return D}(this.getLineContent(D))+1}};function Kt(_t){return!(!_t.options.overviewRuler||!_t.options.overviewRuler.color)}function Ge(_t){return!!_t.options.after||!!_t.options.before}Xt.MODEL_SYNC_LIMIT=52428800,Xt.LARGE_FILE_SIZE_THRESHOLD=20971520,Xt.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,Xt.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:c.D.tabSize,indentSize:c.D.indentSize,insertSpaces:c.D.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:c.D.trimAutoWhitespace,largeFileOptimizations:c.D.largeFileOptimizations,bracketPairColorizationOptions:c.D.bracketPairColorizationOptions},Xt=function(_t,D,K,q){var Xe,we=arguments.length,Re=we<3?D:null===q?q=Object.getOwnPropertyDescriptor(D,K):q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Re=Reflect.decorate(_t,D,K,q);else for(var xt=_t.length-1;xt>=0;xt--)(Xe=_t[xt])&&(Re=(we<3?Xe(Re):we>3?Xe(D,K,Re):Xe(D,K))||Re);return we>3&&Re&&Object.defineProperty(D,K,Re),Re}([bt(4,pi.tJ),bt(5,n.O),bt(6,l.c_)],Xt);class ct{constructor(){this._decorationsTree0=new De,this._decorationsTree1=new De,this._injectedTextDecorationsTree=new De}ensureAllNodesHaveRanges(D){this.getAll(D,0,!1,!1)}_ensureNodesHaveRanges(D,K){for(const q of K)null===q.range&&(q.range=D.getRangeAt(q.cachedAbsoluteStart,q.cachedAbsoluteEnd));return K}getAllInInterval(D,K,q,we,Re){const Xe=D.getVersionId(),xt=this._intervalSearch(K,q,we,Re,Xe);return this._ensureNodesHaveRanges(D,xt)}_intervalSearch(D,K,q,we,Re){const Xe=this._decorationsTree0.intervalSearch(D,K,q,we,Re),xt=this._decorationsTree1.intervalSearch(D,K,q,we,Re),At=this._injectedTextDecorationsTree.intervalSearch(D,K,q,we,Re);return Xe.concat(xt).concat(At)}getInjectedTextInInterval(D,K,q,we){const Re=D.getVersionId(),Xe=this._injectedTextDecorationsTree.intervalSearch(K,q,we,!1,Re);return this._ensureNodesHaveRanges(D,Xe).filter(xt=>xt.options.showIfCollapsed||!xt.range.isEmpty())}getAllInjectedText(D,K){const q=D.getVersionId(),we=this._injectedTextDecorationsTree.search(K,!1,q);return this._ensureNodesHaveRanges(D,we).filter(Re=>Re.options.showIfCollapsed||!Re.range.isEmpty())}getAll(D,K,q,we){const Re=D.getVersionId(),Xe=this._search(K,q,we,Re);return this._ensureNodesHaveRanges(D,Xe)}_search(D,K,q,we){if(q)return this._decorationsTree1.search(D,K,we);{const Re=this._decorationsTree0.search(D,K,we),Xe=this._decorationsTree1.search(D,K,we),xt=this._injectedTextDecorationsTree.search(D,K,we);return Re.concat(Xe).concat(xt)}}collectNodesFromOwner(D){const K=this._decorationsTree0.collectNodesFromOwner(D),q=this._decorationsTree1.collectNodesFromOwner(D),we=this._injectedTextDecorationsTree.collectNodesFromOwner(D);return K.concat(q).concat(we)}collectNodesPostOrder(){const D=this._decorationsTree0.collectNodesPostOrder(),K=this._decorationsTree1.collectNodesPostOrder(),q=this._injectedTextDecorationsTree.collectNodesPostOrder();return D.concat(K).concat(q)}insert(D){Ge(D)?this._injectedTextDecorationsTree.insert(D):Kt(D)?this._decorationsTree1.insert(D):this._decorationsTree0.insert(D)}delete(D){Ge(D)?this._injectedTextDecorationsTree.delete(D):Kt(D)?this._decorationsTree1.delete(D):this._decorationsTree0.delete(D)}getNodeRange(D,K){const q=D.getVersionId();return K.cachedVersionId!==q&&this._resolveNode(K,q),null===K.range&&(K.range=D.getRangeAt(K.cachedAbsoluteStart,K.cachedAbsoluteEnd)),K.range}_resolveNode(D,K){Ge(D)?this._injectedTextDecorationsTree.resolveNode(D,K):Kt(D)?this._decorationsTree1.resolveNode(D,K):this._decorationsTree0.resolveNode(D,K)}acceptReplace(D,K,q,we){this._decorationsTree0.acceptReplace(D,K,q,we),this._decorationsTree1.acceptReplace(D,K,q,we),this._injectedTextDecorationsTree.acceptReplace(D,K,q,we)}}function St(_t){return _t.replace(/[^a-z0-9\-_]/gi," ")}class It{constructor(D){this.color=D.color||"",this.darkColor=D.darkColor||""}}class Zt extends It{constructor(D){super(D),this._resolvedColor=null,this.position="number"==typeof D.position?D.position:v.sh.Center}getColor(D){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==D.type&&this.darkColor?this.darkColor:this.color,D)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(D,K){if("string"==typeof D)return D;const q=D?K.getColor(D.id):null;return q?q.toString():""}}class Ht extends It{constructor(D){super(D),this.position=D.position}getColor(D){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==D.type&&this.darkColor?this.darkColor:this.color,D)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(D,K){return"string"==typeof D?s.Il.fromHex(D):K.getColor(D.id)}}class Pt{constructor(D){this.content=D.content||"",this.inlineClassName=D.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=D.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=D.attachedData||null,this.cursorStops=D.cursorStops||null}static from(D){return D instanceof Pt?D:new Pt(D)}}class wn{constructor(D){var K,q;this.description=D.description,this.blockClassName=D.blockClassName?St(D.blockClassName):null,this.stickiness=D.stickiness||0,this.zIndex=D.zIndex||0,this.className=D.className?St(D.className):null,this.hoverMessage=D.hoverMessage||null,this.glyphMarginHoverMessage=D.glyphMarginHoverMessage||null,this.isWholeLine=D.isWholeLine||!1,this.showIfCollapsed=D.showIfCollapsed||!1,this.collapseOnReplaceEdit=D.collapseOnReplaceEdit||!1,this.overviewRuler=D.overviewRuler?new Zt(D.overviewRuler):null,this.minimap=D.minimap?new Ht(D.minimap):null,this.glyphMarginClassName=D.glyphMarginClassName?St(D.glyphMarginClassName):null,this.linesDecorationsClassName=D.linesDecorationsClassName?St(D.linesDecorationsClassName):null,this.firstLineDecorationClassName=D.firstLineDecorationClassName?St(D.firstLineDecorationClassName):null,this.marginClassName=D.marginClassName?St(D.marginClassName):null,this.inlineClassName=D.inlineClassName?St(D.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=D.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=D.beforeContentClassName?St(D.beforeContentClassName):null,this.afterContentClassName=D.afterContentClassName?St(D.afterContentClassName):null,this.after=D.after?Pt.from(D.after):null,this.before=D.before?Pt.from(D.before):null,this.hideInCommentTokens=null!==(K=D.hideInCommentTokens)&&void 0!==K&&K,this.hideInStringTokens=null!==(q=D.hideInStringTokens)&&void 0!==q&&q}static register(D){return new wn(D)}static createDynamic(D){return new wn(D)}}wn.EMPTY=wn.register({description:"empty"});const Fn=[wn.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),wn.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),wn.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),wn.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function Qt(_t){return _t instanceof wn?_t:wn.createDynamic(_t)}class Kn extends u.JT{constructor(D){super(),this.handleBeforeFire=D,this._actual=this._register(new M.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var D;if(this._deferredCnt--,0===this._deferredCnt){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const K={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(K)}null===(D=this._affectedInjectedTextLines)||void 0===D||D.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(D){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(D)}checkAffectedAndFire(D){this._affectsMinimap||(this._affectsMinimap=!(!D.minimap||!D.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!D.overviewRuler||!D.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class Zn extends u.JT{constructor(){super(),this._fastEmitter=this._register(new M.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new M.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(D=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=D;const K=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(K),this._slowEmitter.fire(K)}}fire(D){this._deferredCnt>0?this._deferredEvent=this._deferredEvent?this._deferredEvent.merge(D):D:(this._fastEmitter.fire(D),this._slowEmitter.fire(D))}}},63424:(at,ue,e)=>{"use strict";e.d(ue,{U:()=>s});var f=e(52425);class s extends f.JT{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}},31154:(at,ue,e)=>{"use strict";e.d(ue,{bc:()=>A,cM:()=>n,iE:()=>N,pM:()=>a,sz:()=>l});var f=e(93059),s=e(30681),L=e(94220),M=e(68451),u=e(32213);class A{constructor(d,m,I,y){this.searchString=d,this.isRegex=m,this.matchCase=I,this.wordSeparators=y}parseSearchRequest(){if(""===this.searchString)return null;let d;d=this.isRegex?function k(v){if(!v||0===v.length)return!1;for(let d=0,m=v.length;d<m;d++){const I=v.charCodeAt(d);if(10===I)return!0;if(92===I){if(d++,d>=m)break;const y=v.charCodeAt(d);if(110===y||114===y||87===y)return!0}}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let m=null;try{m=f.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:d,global:!0,unicode:!0})}catch(y){return null}if(!m)return null;let I=!this.isRegex&&!d;return I&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(I=this.matchCase),new u.Tx(m,this.wordSeparators?(0,s.u)(this.wordSeparators):null,I?this.searchString:null)}}function N(v,d,m){if(!m)return new u.tk(v,null);const I=[];for(let y=0,S=d.length;y<S;y++)I[y]=d[y];return new u.tk(v,I)}class _{constructor(d){const m=[];let I=0;for(let y=0,S=d.length;y<S;y++)10===d.charCodeAt(y)&&(m[I++]=y);this._lineFeedsOffsets=m}findLineFeedCountBeforeOffset(d){const m=this._lineFeedsOffsets;let I=0,y=m.length-1;if(-1===y||d<=m[0])return 0;for(;I<y;){const S=I+((y-I)/2>>0);m[S]>=d?y=S-1:m[S+1]>=d?(I=S,y=S):I=S+1}return I+1}}class a{static findMatches(d,m,I,y,S){const b=m.parseSearchRequest();return b?b.regex.multiline?this._doFindMatchesMultiline(d,I,new l(b.wordSeparators,b.regex),y,S):this._doFindMatchesLineByLine(d,I,b,y,S):[]}static _getMultilineMatchRange(d,m,I,y,S,b){let x,R,T=0;if(y?(T=y.findLineFeedCountBeforeOffset(S),x=m+S+T):x=m+S,y){const F=y.findLineFeedCountBeforeOffset(S+b.length)-T;R=x+b.length+F}else R=x+b.length;const Q=d.getPositionAt(x),Z=d.getPositionAt(R);return new M.e(Q.lineNumber,Q.column,Z.lineNumber,Z.column)}static _doFindMatchesMultiline(d,m,I,y,S){const b=d.getOffsetAt(m.getStartPosition()),x=d.getValueInRange(m,1),T="\r\n"===d.getEOL()?new _(x):null,R=[];let Z,Q=0;for(I.reset(0);Z=I.next(x);)if(R[Q++]=N(this._getMultilineMatchRange(d,b,x,T,Z.index,Z[0]),Z,y),Q>=S)return R;return R}static _doFindMatchesLineByLine(d,m,I,y,S){const b=[];let x=0;if(m.startLineNumber===m.endLineNumber){const R=d.getLineContent(m.startLineNumber).substring(m.startColumn-1,m.endColumn-1);return x=this._findMatchesInLine(I,R,m.startLineNumber,m.startColumn-1,x,b,y,S),b}const T=d.getLineContent(m.startLineNumber).substring(m.startColumn-1);x=this._findMatchesInLine(I,T,m.startLineNumber,m.startColumn-1,x,b,y,S);for(let R=m.startLineNumber+1;R<m.endLineNumber&&x<S;R++)x=this._findMatchesInLine(I,d.getLineContent(R),R,0,x,b,y,S);if(x<S){const R=d.getLineContent(m.endLineNumber).substring(0,m.endColumn-1);x=this._findMatchesInLine(I,R,m.endLineNumber,0,x,b,y,S)}return b}static _findMatchesInLine(d,m,I,y,S,b,x,T){const R=d.wordSeparators;if(!x&&d.simpleSearch){const G=d.simpleSearch,F=G.length,W=m.length;let B=-F;for(;-1!==(B=m.indexOf(G,B+F));)if((!R||n(R,m,W,B,F))&&(b[S++]=new u.tk(new M.e(I,B+1+y,I,B+1+F+y),null),S>=T))return S;return S}const Q=new l(d.wordSeparators,d.regex);let Z;Q.reset(0);do{if(Z=Q.next(m),Z&&(b[S++]=N(new M.e(I,Z.index+1+y,I,Z.index+1+Z[0].length+y),Z,x),S>=T))return S}while(Z);return S}static findNextMatch(d,m,I,y){const S=m.parseSearchRequest();if(!S)return null;const b=new l(S.wordSeparators,S.regex);return S.regex.multiline?this._doFindNextMatchMultiline(d,I,b,y):this._doFindNextMatchLineByLine(d,I,b,y)}static _doFindNextMatchMultiline(d,m,I,y){const S=new L.L(m.lineNumber,1),b=d.getOffsetAt(S),x=d.getLineCount(),T=d.getValueInRange(new M.e(S.lineNumber,S.column,x,d.getLineMaxColumn(x)),1),R="\r\n"===d.getEOL()?new _(T):null;I.reset(m.column-1);const Q=I.next(T);return Q?N(this._getMultilineMatchRange(d,b,T,R,Q.index,Q[0]),Q,y):1!==m.lineNumber||1!==m.column?this._doFindNextMatchMultiline(d,new L.L(1,1),I,y):null}static _doFindNextMatchLineByLine(d,m,I,y){const S=d.getLineCount(),b=m.lineNumber,x=d.getLineContent(b),T=this._findFirstMatchInLine(I,x,b,m.column,y);if(T)return T;for(let R=1;R<=S;R++){const Q=(b+R-1)%S,Z=d.getLineContent(Q+1),G=this._findFirstMatchInLine(I,Z,Q+1,1,y);if(G)return G}return null}static _findFirstMatchInLine(d,m,I,y,S){d.reset(y-1);const b=d.next(m);return b?N(new M.e(I,b.index+1,I,b.index+1+b[0].length),b,S):null}static findPreviousMatch(d,m,I,y){const S=m.parseSearchRequest();if(!S)return null;const b=new l(S.wordSeparators,S.regex);return S.regex.multiline?this._doFindPreviousMatchMultiline(d,I,b,y):this._doFindPreviousMatchLineByLine(d,I,b,y)}static _doFindPreviousMatchMultiline(d,m,I,y){const S=this._doFindMatchesMultiline(d,new M.e(1,1,m.lineNumber,m.column),I,y,9990);if(S.length>0)return S[S.length-1];const b=d.getLineCount();return m.lineNumber!==b||m.column!==d.getLineMaxColumn(b)?this._doFindPreviousMatchMultiline(d,new L.L(b,d.getLineMaxColumn(b)),I,y):null}static _doFindPreviousMatchLineByLine(d,m,I,y){const S=d.getLineCount(),b=m.lineNumber,x=d.getLineContent(b).substring(0,m.column-1),T=this._findLastMatchInLine(I,x,b,y);if(T)return T;for(let R=1;R<=S;R++){const Q=(S+b-R-1)%S,Z=d.getLineContent(Q+1),G=this._findLastMatchInLine(I,Z,Q+1,y);if(G)return G}return null}static _findLastMatchInLine(d,m,I,y){let b,S=null;for(d.reset(0);b=d.next(m);)S=N(new M.e(I,b.index+1,I,b.index+1+b[0].length),b,y);return S}}function n(v,d,m,I,y){return function p(v,d,m,I,y){if(0===I)return!0;const S=d.charCodeAt(I-1);if(0!==v.get(S)||13===S||10===S)return!0;if(y>0){const b=d.charCodeAt(I);if(0!==v.get(b))return!0}return!1}(v,d,0,I,y)&&function c(v,d,m,I,y){if(I+y===m)return!0;const S=d.charCodeAt(I+y);if(0!==v.get(S)||13===S||10===S)return!0;if(y>0){const b=d.charCodeAt(I+y-1);if(0!==v.get(b))return!0}return!1}(v,d,m,I,y)}class l{constructor(d,m){this._wordSeparators=d,this._searchRegex=m,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(d){this._searchRegex.lastIndex=d,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(d){const m=d.length;let I;do{if(this._prevMatchStartIndex+this._prevMatchLength===m||(I=this._searchRegex.exec(d),!I))return null;const y=I.index,S=I[0].length;if(y===this._prevMatchStartIndex&&S===this._prevMatchLength){if(0===S){f.ZH(d,m,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=y,this._prevMatchLength=S,!this._wordSeparators||n(this._wordSeparators,d,m,y,S))return I}while(I);return null}}},6589:(at,ue,e)=>{"use strict";function f(s,L){let M=0,u=0;const P=s.length;for(;u<P;){const A=s.charCodeAt(u);if(32===A)M++;else{if(9!==A)break;M=M-M%L+L}u++}return u===P?-1:M}e.d(ue,{q:()=>f})},84084:(at,ue,e)=>{"use strict";e.d(ue,{p:()=>L});const L=(0,e(64725).yh)("editorWorkerService")},98531:(at,ue,e)=>{"use strict";e.d(ue,{OG:()=>Q,ML:()=>S,KO:()=>T,Jc:()=>I,Vl:()=>v,Vj:()=>d});var f=e(80152),s=e(53663),L=e(74672),M=e(8648),u=e(23884),P=e(54435),A=e(38923),k=e(38972);function a(Z){const G=new Uint32Array(function p(Z){let G=0;if(G+=2,"full"===Z.type)G+=1+Z.data.length;else{G+=1,G+=3*Z.deltas.length;for(const F of Z.deltas)F.data&&(G+=F.data.length)}return G}(Z));let F=0;if(G[F++]=Z.id,"full"===Z.type)G[F++]=1,G[F++]=Z.data.length,G.set(Z.data,F),F+=Z.data.length;else{G[F++]=2,G[F++]=Z.deltas.length;for(const W of Z.deltas)G[F++]=W.start,G[F++]=W.deleteCount,W.data?(G[F++]=W.data.length,G.set(W.data,F),F+=W.data.length):G[F++]=0}return function _(Z){const G=new Uint8Array(Z.buffer,Z.byteOffset,4*Z.length);return k.r()||function N(Z){for(let G=0,F=Z.length;G<F;G+=4){const W=Z[G+0],B=Z[G+1],z=Z[G+2];Z[G+0]=Z[G+3],Z[G+1]=z,Z[G+2]=B,Z[G+3]=W}}(G),A.KN.wrap(G)}(G)}var c=e(68451),n=e(37464),l=function(Z,G,F,W){return new(F||(F=Promise))(function(z,j){function Y($){try{V(W.next($))}catch(te){j(te)}}function E($){try{V(W.throw($))}catch(te){j(te)}}function V($){$.done?z($.value):function B(z){return z instanceof F?z:new F(function(j){j(z)})}($.value).then(Y,E)}V((W=W.apply(Z,G||[])).next())})};function v(Z){return Z&&!!Z.data}function d(Z){return Z&&Array.isArray(Z.edits)}class m{constructor(G,F,W){this.provider=G,this.tokens=F,this.error=W}}function I(Z,G){return Z.has(G)}function S(Z,G,F,W,B){return l(this,void 0,void 0,function*(){const z=function y(Z,G){const F=Z.orderedGroups(G);return F.length>0?F[0]:[]}(Z,G),j=yield Promise.all(z.map(Y=>l(this,void 0,void 0,function*(){let E,V=null;try{E=yield Y.provideDocumentSemanticTokens(G,Y===F?W:null,B)}catch($){V=$,E=null}return(!E||!v(E)&&!d(E))&&(E=null),new m(Y,E,V)})));for(const Y of j){if(Y.error)throw Y.error;if(Y.tokens)return Y}return j.length>0?j[0]:null})}class x{constructor(G,F){this.provider=G,this.tokens=F}}function T(Z,G){return Z.has(G)}function R(Z,G){const F=Z.orderedGroups(G);return F.length>0?F[0]:[]}function Q(Z,G,F,W){return l(this,void 0,void 0,function*(){const B=R(Z,G),z=yield Promise.all(B.map(j=>l(this,void 0,void 0,function*(){let Y;try{Y=yield j.provideDocumentRangeSemanticTokens(G,F,W)}catch(E){(0,s.Cp)(E),Y=null}return(!Y||!v(Y))&&(Y=null),new x(j,Y)})));for(const j of z)if(j.tokens)return j;return z.length>0?z[0]:null})}u.P0.registerCommand("_provideDocumentSemanticTokensLegend",(Z,...G)=>l(void 0,void 0,void 0,function*(){const[F]=G;(0,P.p_)(F instanceof L.o);const W=Z.get(M.q).getModel(F);if(!W)return;const{documentSemanticTokensProvider:B}=Z.get(n.p),z=function b(Z,G){const F=Z.orderedGroups(G);return F.length>0?F[0]:null}(B,W);return z?z[0].getLegend():Z.get(u.Hy).executeCommand("_provideDocumentRangeSemanticTokensLegend",F)})),u.P0.registerCommand("_provideDocumentSemanticTokens",(Z,...G)=>l(void 0,void 0,void 0,function*(){const[F]=G;(0,P.p_)(F instanceof L.o);const W=Z.get(M.q).getModel(F);if(!W)return;const{documentSemanticTokensProvider:B}=Z.get(n.p);if(!I(B,W))return Z.get(u.Hy).executeCommand("_provideDocumentRangeSemanticTokens",F,W.getFullModelRange());const z=yield S(B,W,null,null,f.T.None);if(!z)return;const{provider:j,tokens:Y}=z;if(!Y||!v(Y))return;const E=a({id:0,type:"full",data:Y.data});return Y.resultId&&j.releaseDocumentSemanticTokens(Y.resultId),E})),u.P0.registerCommand("_provideDocumentRangeSemanticTokensLegend",(Z,...G)=>l(void 0,void 0,void 0,function*(){const[F,W]=G;(0,P.p_)(F instanceof L.o);const B=Z.get(M.q).getModel(F);if(!B)return;const{documentRangeSemanticTokensProvider:z}=Z.get(n.p),j=R(z,B);if(0===j.length)return;if(1===j.length)return j[0].getLegend();if(!W||!c.e.isIRange(W))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),j[0].getLegend();const Y=yield Q(z,B,c.e.lift(W),f.T.None);return Y?Y.provider.getLegend():void 0})),u.P0.registerCommand("_provideDocumentRangeSemanticTokens",(Z,...G)=>l(void 0,void 0,void 0,function*(){const[F,W]=G;(0,P.p_)(F instanceof L.o),(0,P.p_)(c.e.isIRange(W));const B=Z.get(M.q).getModel(F);if(!B)return;const{documentRangeSemanticTokensProvider:z}=Z.get(n.p),j=yield Q(z,B,c.e.lift(W),f.T.None);return j&&j.tokens?a({id:0,type:"full",data:j.tokens.data}):void 0}))},79974:(at,ue,e)=>{"use strict";e.d(ue,{A:()=>_});var f=e(92638),s=e(7838),L=e(38829),M=e(18790),u=e(64725),P=e(42241),A=e(26589);const _=(0,u.yh)("ILanguageFeatureDebounceService");var a;!function(n){const l=new WeakMap;let v=0;n.of=function d(m){let I=l.get(m);return void 0===I&&(I=++v,l.set(m,I)),I}}(a||(a={}));class p{constructor(l,v,d,m,I,y){this._logService=l,this._name=v,this._registry=d,this._default=m,this._min=I,this._max=y,this._cache=new s.z6(50,.7)}_key(l){return l.id+this._registry.all(l).reduce((v,d)=>(0,f.SP)(a.of(d),v),0)}get(l){const v=this._key(l),d=this._cache.get(v);return d?(0,L.uZ)(d.value,this._min,this._max):this.default()}update(l,v){const d=this._key(l);let m=this._cache.get(d);m||(m=new L.N(6),this._cache.set(d,m));const I=(0,L.uZ)(m.update(v),this._min,this._max);return(0,A.xn)(l.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${l.uri.toString()} is ${I}ms`),I}_overall(){const l=new L.nM;for(const[,v]of this._cache)l.update(v.value);return l.value}default(){const l=0|this._overall()||this._default;return(0,L.uZ)(l,this._min,this._max)}}let c=class{constructor(l){this._logService=l,this._data=new Map}for(l,v,d){var m,I,y;const S=null!==(m=null==d?void 0:d.min)&&void 0!==m?m:50,b=null!==(I=null==d?void 0:d.max)&&void 0!==I?I:Math.pow(S,2),x=null!==(y=null==d?void 0:d.key)&&void 0!==y?y:void 0,T=`${a.of(l)},${S}${x?","+x:""}`;let R=this._data.get(T);return R||(R=new p(this._logService,v,l,0|this._overallAverage()||1.5*S,S,b),this._data.set(T,R)),R}_overallAverage(){const l=new L.nM;for(const v of this._data.values())l.update(v.default());return l.value}};var l;c=function(n,l,v,d){var y,m=arguments.length,I=m<3?l:null===d?d=Object.getOwnPropertyDescriptor(l,v):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(n,l,v,d);else for(var S=n.length-1;S>=0;S--)(y=n[S])&&(I=(m<3?y(I):m>3?y(l,v,I):y(l,v))||I);return m>3&&I&&Object.defineProperty(l,v,I),I}([(0,l=P.VZ,function(v,d){l(v,d,0)})],c),(0,M.z)(_,c,!0)},37464:(at,ue,e)=>{"use strict";e.d(ue,{p:()=>s});const s=(0,e(64725).yh)("ILanguageFeaturesService")},82945:(at,ue,e)=>{"use strict";e.d(ue,{i:()=>s});const s=(0,e(64725).yh)("markerDecorationsService")},8648:(at,ue,e)=>{"use strict";e.d(ue,{q:()=>s});const s=(0,e(64725).yh)("modelService")},76844:(at,ue,e)=>{"use strict";e.d(ue,{b$:()=>Y,e3:()=>E,tw:()=>V});var f=e(52787),s=e(52425),L=e(38972),M=e(53663),u=e(3508),P=e(32931),A=e(64669),k=e(42570),N=e(8648),_=e(3810),a=e(9869),p=e(63072),c=e(80152),n=e(23024),l=e(42241),v=e(18846),d=e(92638),m=e(94898),I=e(90278),y=e(45836),S=e(98531),b=e(85271),x=e(23924),T=e(79974),R=e(41724),Q=e(37464),Z=function(be,me,Ie,ee){var de,ce=arguments.length,he=ce<3?me:null===ee?ee=Object.getOwnPropertyDescriptor(me,Ie):ee;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)he=Reflect.decorate(be,me,Ie,ee);else for(var ge=be.length-1;ge>=0;ge--)(de=be[ge])&&(he=(ce<3?de(he):ce>3?de(me,Ie,he):de(me,Ie))||he);return ce>3&&he&&Object.defineProperty(me,Ie,he),he},G=function(be,me){return function(Ie,ee){me(Ie,ee,be)}};function F(be){return be.toString()}function W(be){const me=new d.yP,Ie=be.createSnapshot();let ee;for(;ee=Ie.read();)me.update(ee);return me.digest()}class B{constructor(me,Ie,ee){this._modelEventListeners=new s.SL,this.model=me,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(me.onWillDispose(()=>Ie(me))),this._modelEventListeners.add(me.onDidChangeLanguage(ce=>ee(me,ce)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(me){this._disposeLanguageSelection(),this._languageSelection=me,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(me.languageId)),this.model.setMode(me.languageId)}}const z=L.IJ||L.dz?1:2;class j{constructor(me,Ie,ee,ce,he,de,ge,re){this.uri=me,this.initialUndoRedoSnapshot=Ie,this.time=ee,this.sharesUndoRedoStack=ce,this.heapSize=he,this.sha1=de,this.versionId=ge,this.alternativeVersionId=re}}let Y=class la extends s.JT{constructor(me,Ie,ee,ce,he,de,ge,re,Se){super(),this._configurationService=me,this._resourcePropertiesService=Ie,this._themeService=ee,this._logService=ce,this._undoRedoService=he,this._languageService=de,this._languageConfigurationService=ge,this._languageFeatureDebounceService=re,this._onModelAdded=this._register(new f.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new f.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new f.Q5),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new te(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new $(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService,Se))}static _readModelOptions(me,Ie){var ee;let ce=P.D.tabSize;if(me.editor&&void 0!==me.editor.tabSize){const ye=parseInt(me.editor.tabSize,10);isNaN(ye)||(ce=ye),ce<1&&(ce=1)}let he=ce;if(me.editor&&void 0!==me.editor.indentSize&&"tabSize"!==me.editor.indentSize){const ye=parseInt(me.editor.indentSize,10);isNaN(ye)||(he=ye),he<1&&(he=1)}let de=P.D.insertSpaces;me.editor&&void 0!==me.editor.insertSpaces&&(de="false"!==me.editor.insertSpaces&&Boolean(me.editor.insertSpaces));let ge=z;const re=me.eol;"\r\n"===re?ge=2:"\n"===re&&(ge=1);let Se=P.D.trimAutoWhitespace;me.editor&&void 0!==me.editor.trimAutoWhitespace&&(Se="false"!==me.editor.trimAutoWhitespace&&Boolean(me.editor.trimAutoWhitespace));let Pe=P.D.detectIndentation;me.editor&&void 0!==me.editor.detectIndentation&&(Pe="false"!==me.editor.detectIndentation&&Boolean(me.editor.detectIndentation));let Ve=P.D.largeFileOptimizations;me.editor&&void 0!==me.editor.largeFileOptimizations&&(Ve="false"!==me.editor.largeFileOptimizations&&Boolean(me.editor.largeFileOptimizations));let ie=P.D.bracketPairColorizationOptions;return(null===(ee=me.editor)||void 0===ee?void 0:ee.bracketPairColorization)&&"object"==typeof me.editor.bracketPairColorization&&(ie={enabled:!!me.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!me.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:Ie,tabSize:ce,indentSize:he,insertSpaces:de,detectIndentation:Pe,defaultEOL:ge,trimAutoWhitespace:Se,largeFileOptimizations:Ve,bracketPairColorizationOptions:ie}}_getEOL(me,Ie){if(me)return this._resourcePropertiesService.getEOL(me,Ie);const ee=this._configurationService.getValue("files.eol",{overrideIdentifier:Ie});return ee&&"string"==typeof ee&&"auto"!==ee?ee:3===L.OS||2===L.OS?"\n":"\r\n"}_shouldRestoreUndoStack(){const me=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof me||me}getCreationOptions(me,Ie,ee){let ce=this._modelCreationOptionsByLanguageAndResource[me+Ie];if(!ce){const he=this._configurationService.getValue("editor",{overrideIdentifier:me,resource:Ie}),de=this._getEOL(Ie,me);ce=la._readModelOptions({editor:he,eol:de},ee),this._modelCreationOptionsByLanguageAndResource[me+Ie]=ce}return ce}_updateModelOptions(){const me=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const Ie=Object.keys(this._models);for(let ee=0,ce=Ie.length;ee<ce;ee++){const de=this._models[Ie[ee]],ge=de.model.getLanguageId(),re=de.model.uri,Se=me[ge+re],Pe=this.getCreationOptions(ge,re,de.model.isForSimpleWidget);la._setModelOptionsForModel(de.model,Pe,Se)}}static _setModelOptionsForModel(me,Ie,ee){ee&&ee.defaultEOL!==Ie.defaultEOL&&1===me.getLineCount()&&me.setEOL(1===Ie.defaultEOL?0:1),(!ee||ee.detectIndentation!==Ie.detectIndentation||ee.insertSpaces!==Ie.insertSpaces||ee.tabSize!==Ie.tabSize||ee.indentSize!==Ie.indentSize||ee.trimAutoWhitespace!==Ie.trimAutoWhitespace||!(0,b.fS)(ee.bracketPairColorizationOptions,Ie.bracketPairColorizationOptions))&&(Ie.detectIndentation?(me.detectIndentation(Ie.insertSpaces,Ie.tabSize),me.updateOptions({trimAutoWhitespace:Ie.trimAutoWhitespace,bracketColorizationOptions:Ie.bracketPairColorizationOptions})):me.updateOptions({insertSpaces:Ie.insertSpaces,tabSize:Ie.tabSize,indentSize:Ie.indentSize,trimAutoWhitespace:Ie.trimAutoWhitespace,bracketColorizationOptions:Ie.bracketPairColorizationOptions}))}_insertDisposedModel(me){this._disposedModels.set(F(me.uri),me),this._disposedModelsHeapSize+=me.heapSize}_removeDisposedModel(me){const Ie=this._disposedModels.get(F(me));return Ie&&(this._disposedModelsHeapSize-=Ie.heapSize),this._disposedModels.delete(F(me)),Ie}_ensureDisposedModelsHeapSize(me){if(this._disposedModelsHeapSize>me){const Ie=[];for(this._disposedModels.forEach(ee=>{ee.sharesUndoRedoStack||Ie.push(ee)}),Ie.sort((ee,ce)=>ee.time-ce.time);Ie.length>0&&this._disposedModelsHeapSize>me;){const ee=Ie.shift();this._removeDisposedModel(ee.uri),null!==ee.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(ee.initialUndoRedoSnapshot)}}}_createModelData(me,Ie,ee,ce){const he=this.getCreationOptions(Ie,ee,ce),de=new u.yO(me,Ie,he,ee,this._undoRedoService,this._languageService,this._languageConfigurationService);if(ee&&this._disposedModels.has(F(ee))){const Se=this._removeDisposedModel(ee),Pe=this._undoRedoService.getElements(ee),Ve=W(de)===Se.sha1;if(Ve||Se.sharesUndoRedoStack){for(const ie of Pe.past)(0,m.e9)(ie)&&ie.matchesResource(ee)&&ie.setModel(de);for(const ie of Pe.future)(0,m.e9)(ie)&&ie.matchesResource(ee)&&ie.setModel(de);this._undoRedoService.setElementsValidFlag(ee,!0,ie=>(0,m.e9)(ie)&&ie.matchesResource(ee)),Ve&&(de._overwriteVersionId(Se.versionId),de._overwriteAlternativeVersionId(Se.alternativeVersionId),de._overwriteInitialUndoRedoSnapshot(Se.initialUndoRedoSnapshot))}else null!==Se.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(Se.initialUndoRedoSnapshot)}const ge=F(de.uri);if(this._models[ge])throw new Error("ModelService: Cannot add model because it already exists!");const re=new B(de,Se=>this._onWillDispose(Se),(Se,Pe)=>this._onDidChangeLanguage(Se,Pe));return this._models[ge]=re,re}createModel(me,Ie,ee,ce=!1){let he;return Ie?(he=this._createModelData(me,Ie.languageId,ee,ce),this.setMode(he.model,Ie)):he=this._createModelData(me,A.bd,ee,ce),this._onModelAdded.fire(he.model),he.model}setMode(me,Ie){if(!Ie)return;const ee=this._models[F(me.uri)];!ee||ee.setLanguage(Ie)}getModels(){const me=[],Ie=Object.keys(this._models);for(let ee=0,ce=Ie.length;ee<ce;ee++)me.push(this._models[Ie[ee]].model);return me}getModel(me){const Ie=F(me),ee=this._models[Ie];return ee?ee.model:null}getSemanticTokensProviderStyling(me){return this._semanticStyling.get(me)}_schemaShouldMaintainUndoRedoElements(me){return me.scheme===I.lg.file||me.scheme===I.lg.vscodeRemote||me.scheme===I.lg.vscodeUserData||me.scheme===I.lg.vscodeNotebookCell||"fake-fs"===me.scheme}_onWillDispose(me){const Ie=F(me.uri),ee=this._models[Ie],ce=this._undoRedoService.getUriComparisonKey(me.uri)!==me.uri.toString();let he=!1,de=0;if(ce||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(me.uri)){const re=this._undoRedoService.getElements(me.uri);if(re.past.length>0||re.future.length>0){for(const Se of re.past)(0,m.e9)(Se)&&Se.matchesResource(me.uri)&&(he=!0,de+=Se.heapSize(me.uri),Se.setModel(me.uri));for(const Se of re.future)(0,m.e9)(Se)&&Se.matchesResource(me.uri)&&(he=!0,de+=Se.heapSize(me.uri),Se.setModel(me.uri))}}const ge=la.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(he)if(!ce&&de>ge){const re=ee.model.getInitialUndoRedoSnapshot();null!==re&&this._undoRedoService.restoreSnapshot(re)}else this._ensureDisposedModelsHeapSize(ge-de),this._undoRedoService.setElementsValidFlag(me.uri,!1,re=>(0,m.e9)(re)&&re.matchesResource(me.uri)),this._insertDisposedModel(new j(me.uri,ee.model.getInitialUndoRedoSnapshot(),Date.now(),ce,de,W(me),me.getVersionId(),me.getAlternativeVersionId()));else if(!ce){const re=ee.model.getInitialUndoRedoSnapshot();null!==re&&this._undoRedoService.restoreSnapshot(re)}delete this._models[Ie],ee.dispose(),delete this._modelCreationOptionsByLanguageAndResource[me.getLanguageId()+me.uri],this._onModelRemoved.fire(me)}_onDidChangeLanguage(me,Ie){const ee=Ie.oldLanguage,ce=me.getLanguageId(),he=this.getCreationOptions(ee,me.uri,me.isForSimpleWidget),de=this.getCreationOptions(ce,me.uri,me.isForSimpleWidget);la._setModelOptionsForModel(me,de,he),this._onModelModeChanged.fire({model:me,oldLanguageId:ee})}};Y.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,Y=Z([G(0,a.Ui),G(1,_.y),G(2,n.XE),G(3,l.VZ),G(4,v.tJ),G(5,k.O),G(6,x.c_),G(7,T.A),G(8,Q.p)],Y);const E="editor.semanticHighlighting";function V(be,me,Ie){var ee;const ce=null===(ee=Ie.getValue(E,{overrideIdentifier:be.getLanguageId(),resource:be.uri}))||void 0===ee?void 0:ee.enabled;return"boolean"==typeof ce?ce:me.getColorTheme().semanticHighlighting}let $=class extends s.JT{constructor(me,Ie,ee,ce,he,de){super(),this._watchers=Object.create(null),this._semanticStyling=me;const ge=Pe=>{this._watchers[Pe.uri.toString()]=new fe(Pe,this._semanticStyling,ee,he,de)},re=(Pe,Ve)=>{Ve.dispose(),delete this._watchers[Pe.uri.toString()]},Se=()=>{for(const Pe of Ie.getModels()){const Ve=this._watchers[Pe.uri.toString()];V(Pe,ee,ce)?Ve||ge(Pe):Ve&&re(Pe,Ve)}};this._register(Ie.onModelAdded(Pe=>{V(Pe,ee,ce)&&ge(Pe)})),this._register(Ie.onModelRemoved(Pe=>{const Ve=this._watchers[Pe.uri.toString()];Ve&&re(Pe,Ve)})),this._register(ce.onDidChangeConfiguration(Pe=>{Pe.affectsConfiguration(E)&&Se()})),this._register(ee.onDidColorThemeChange(Se))}dispose(){for(const me of Object.values(this._watchers))me.dispose();super.dispose()}};$=Z([G(1,N.q),G(2,n.XE),G(3,a.Ui),G(4,T.A),G(5,Q.p)],$);class te extends s.JT{constructor(me,Ie,ee){super(),this._themeService=me,this._languageService=Ie,this._logService=ee,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(me){return this._caches.has(me)||this._caches.set(me,new y.$(me.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(me)}}class w{constructor(me,Ie,ee){this.provider=me,this.resultId=Ie,this.data=ee}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let fe=class Ks extends s.JT{constructor(me,Ie,ee,ce,he){super(),this._isDisposed=!1,this._model=me,this._semanticStyling=Ie,this._provider=he.documentSemanticTokensProvider,this._debounceInformation=ce.for(this._provider,"DocumentSemanticTokens",{min:Ks.REQUEST_MIN_DELAY,max:Ks.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new p.pY(()=>this._fetchDocumentSemanticTokensNow(),Ks.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const de=()=>{(0,s.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const ge of this._provider.all(me))"function"==typeof ge.onDidChange&&this._documentProvidersChangeListeners.push(ge.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};de(),this._register(this._provider.onDidChange(()=>{de(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(ee.onDidColorThemeChange(ge=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,S.Jc)(this._provider,this._model))return void(this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1));const me=new c.A,ce=(0,S.ML)(this._provider,this._model,this._currentDocumentResponse?this._currentDocumentResponse.provider:null,this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,me.token);this._currentDocumentRequestCancellationTokenSource=me;const he=[],de=this._model.onDidChangeContent(re=>{he.push(re)}),ge=new R.G(!1);ce.then(re=>{if(this._debounceInformation.update(this._model,ge.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,de.dispose(),re){const{provider:Se,tokens:Pe}=re,Ve=this._semanticStyling.get(Se);this._setDocumentSemanticTokens(Se,Pe||null,Ve,he)}else this._setDocumentSemanticTokens(null,null,null,he)},re=>{re&&(M.n2(re)||"string"==typeof re.message&&-1!==re.message.indexOf("busy"))||M.dL(re),this._currentDocumentRequestCancellationTokenSource=null,de.dispose(),he.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(me,Ie,ee,ce,he){he=Math.min(he,ee.length-ce,me.length-Ie);for(let de=0;de<he;de++)ee[ce+de]=me[Ie+de]}_setDocumentSemanticTokens(me,Ie,ee,ce){const he=this._currentDocumentResponse,de=()=>{ce.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)me&&Ie&&me.releaseDocumentSemanticTokens(Ie.resultId);else if(me&&ee){if(!Ie)return this._model.tokenization.setSemanticTokens(null,!0),void de();if((0,S.Vj)(Ie)){if(!he)return void this._model.tokenization.setSemanticTokens(null,!0);if(0===Ie.edits.length)Ie={resultId:Ie.resultId,data:he.data};else{let ge=0;for(const ie of Ie.edits)ge+=(ie.data?ie.data.length:0)-ie.deleteCount;const re=he.data,Se=new Uint32Array(re.length+ge);let Pe=re.length,Ve=Se.length;for(let ie=Ie.edits.length-1;ie>=0;ie--){const ye=Ie.edits[ie];if(ye.start>re.length)return ee.warnInvalidEditStart(he.resultId,Ie.resultId,ie,ye.start,re.length),void this._model.tokenization.setSemanticTokens(null,!0);const _e=Pe-(ye.start+ye.deleteCount);_e>0&&(Ks._copy(re,Pe-_e,Se,Ve-_e,_e),Ve-=_e),ye.data&&(Ks._copy(ye.data,0,Se,Ve-ye.data.length,ye.data.length),Ve-=ye.data.length),Pe=ye.start}Pe>0&&Ks._copy(re,0,Se,0,Pe),Ie={resultId:Ie.resultId,data:Se}}}if((0,S.Vl)(Ie)){this._currentDocumentResponse=new w(me,Ie.resultId,Ie.data);const ge=(0,y.h)(Ie,ee,this._model.getLanguageId());if(ce.length>0)for(const re of ce)for(const Se of ge)for(const Pe of re.changes)Se.applyEdit(Pe.range,Pe.text);this._model.tokenization.setSemanticTokens(ge,!0)}else this._model.tokenization.setSemanticTokens(null,!0);de()}else this._model.tokenization.setSemanticTokens(null,!1)}};fe.REQUEST_MIN_DELAY=300,fe.REQUEST_MAX_DELAY=2e3,fe=Z([G(2,n.XE),G(3,T.A),G(4,Q.p)],fe)},87424:(at,ue,e)=>{"use strict";e.d(ue,{S:()=>s});const s=(0,e(64725).yh)("textModelService")},45836:(at,ue,e)=>{"use strict";e.d(ue,{$:()=>c,h:()=>n});var f=e(43258),s=e(23024),L=e(42241),M=e(94220),u=e(68451),P=e(37846);class A{constructor(m,I){this._startLineNumber=m,this._tokens=I,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(m,I){return new A(m,new k(I))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(m){return this._startLineNumber<=m&&m<=this._endLineNumber?this._tokens.getLineTokens(m-this._startLineNumber):null}getRange(){const m=this._tokens.getRange();return m&&new u.e(this._startLineNumber+m.startLineNumber,m.startColumn,this._startLineNumber+m.endLineNumber,m.endColumn)}removeTokens(m){this._startLineNumber+=this._tokens.removeTokens(m.startLineNumber-this._startLineNumber,m.startColumn-1,m.endLineNumber-this._startLineNumber,m.endColumn-1),this._updateEndLineNumber()}split(m){const I=m.startLineNumber-this._startLineNumber,y=m.endLineNumber-this._startLineNumber,[S,b,x]=this._tokens.split(I,m.startColumn-1,y,m.endColumn-1);return[new A(this._startLineNumber,S),new A(this._startLineNumber+x,b)]}applyEdit(m,I){const[y,S,b]=(0,P.Q)(I);this.acceptEdit(m,y,S,b,I.length>0?I.charCodeAt(0):0)}acceptEdit(m,I,y,S,b){this._acceptDeleteRange(m),this._acceptInsertText(new M.L(m.startLineNumber,m.startColumn),I,y,S,b),this._updateEndLineNumber()}_acceptDeleteRange(m){if(m.startLineNumber===m.endLineNumber&&m.startColumn===m.endColumn)return;const I=m.startLineNumber-this._startLineNumber,y=m.endLineNumber-this._startLineNumber;if(y<0)return void(this._startLineNumber-=y-I);const S=this._tokens.getMaxDeltaLine();if(!(I>=S+1)){if(I<0&&y>=S+1)return this._startLineNumber=0,void this._tokens.clear();I<0?(this._startLineNumber-=-I,this._tokens.acceptDeleteRange(m.startColumn-1,0,0,y,m.endColumn-1)):this._tokens.acceptDeleteRange(0,I,m.startColumn-1,y,m.endColumn-1)}}_acceptInsertText(m,I,y,S,b){if(0===I&&0===y)return;const x=m.lineNumber-this._startLineNumber;x<0?this._startLineNumber+=I:x>=this._tokens.getMaxDeltaLine()+1||this._tokens.acceptInsertText(x,m.column-1,I,y,S,b)}}class k{constructor(m){this._tokens=m,this._tokenCount=m.length/4}toString(m){const I=[];for(let y=0;y<this._tokenCount;y++)I.push(`(${this._getDeltaLine(y)+m},${this._getStartCharacter(y)}-${this._getEndCharacter(y)})`);return`[${I.join(",")}]`}getMaxDeltaLine(){const m=this._getTokenCount();return 0===m?-1:this._getDeltaLine(m-1)}getRange(){const m=this._getTokenCount();if(0===m)return null;const I=this._getStartCharacter(0),y=this._getDeltaLine(m-1),S=this._getEndCharacter(m-1);return new u.e(0,I+1,y,S+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(m){return this._tokens[4*m]}_getStartCharacter(m){return this._tokens[4*m+1]}_getEndCharacter(m){return this._tokens[4*m+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(m){let I=0,y=this._getTokenCount()-1;for(;I<y;){const S=I+Math.floor((y-I)/2),b=this._getDeltaLine(S);if(b<m)I=S+1;else{if(!(b>m)){let x=S;for(;x>I&&this._getDeltaLine(x-1)===m;)x--;let T=S;for(;T<y&&this._getDeltaLine(T+1)===m;)T++;return new N(this._tokens.subarray(4*x,4*T+4))}y=S-1}}return this._getDeltaLine(I)===m?new N(this._tokens.subarray(4*I,4*I+4)):null}clear(){this._tokenCount=0}removeTokens(m,I,y,S){const b=this._tokens,x=this._tokenCount;let T=0,R=!1,Q=0;for(let Z=0;Z<x;Z++){const G=4*Z,F=b[G],W=b[G+1],B=b[G+2],z=b[G+3];if((F>m||F===m&&B>=I)&&(F<y||F===y&&W<=S))R=!0;else{if(0===T&&(Q=F),R){const j=4*T;b[j]=F-Q,b[j+1]=W,b[j+2]=B,b[j+3]=z}T++}}return this._tokenCount=T,Q}split(m,I,y,S){const b=this._tokens,x=this._tokenCount,T=[],R=[];let Q=T,Z=0,G=0;for(let F=0;F<x;F++){const W=4*F,B=b[W],z=b[W+1],j=b[W+2],Y=b[W+3];if(B>m||B===m&&j>=I){if(B<y||B===y&&z<=S)continue;Q!==R&&(Q=R,Z=0,G=B)}Q[Z++]=B-G,Q[Z++]=z,Q[Z++]=j,Q[Z++]=Y}return[new k(new Uint32Array(T)),new k(new Uint32Array(R)),G]}acceptDeleteRange(m,I,y,S,b){const x=this._tokens,T=this._tokenCount,R=S-I;let Q=0,Z=!1;for(let G=0;G<T;G++){const F=4*G;let W=x[F],B=x[F+1],z=x[F+2];const j=x[F+3];if(W<I||W===I&&z<=y){Q++;continue}if(W===I&&B<y)W===S&&z>b?z-=b-y:z=y;else if(W===I&&B===y){if(!(W===S&&z>b)){Z=!0;continue}z-=b-y}else if(W<S||W===S&&B<b){if(!(W===S&&z>b)){Z=!0;continue}W===I?(B=y,z=B+(z-b)):(B=0,z=B+(z-b))}else if(W>S){if(0===R&&!Z){Q=T;break}W-=R}else{if(!(W===S&&B>=b))throw new Error("Not possible!");m&&0===W&&(B+=m,z+=m),W-=R,B-=b-y,z-=b-y}const Y=4*Q;x[Y]=W,x[Y+1]=B,x[Y+2]=z,x[Y+3]=j,Q++}this._tokenCount=Q}acceptInsertText(m,I,y,S,b,x){const T=0===y&&1===S&&(x>=48&&x<=57||x>=65&&x<=90||x>=97&&x<=122),R=this._tokens,Q=this._tokenCount;for(let Z=0;Z<Q;Z++){const G=4*Z;let F=R[G],W=R[G+1],B=R[G+2];if(!(F<m||F===m&&B<I)){if(F===m&&B===I){if(!T)continue;B+=1}else if(F===m&&W<I&&I<B)0===y?B+=S:B=I;else{if(F===m&&W===I&&T)continue;if(F===m)if(F+=y,0===y)W+=S,B+=S;else{const z=B-W;W=b+(W-I),B=W+z}else F+=y}R[G]=F,R[G+1]=W,R[G+2]=B}}}}class N{constructor(m){this._tokens=m}getCount(){return this._tokens.length/4}getStartCharacter(m){return this._tokens[4*m+1]}getEndCharacter(m){return this._tokens[4*m+2]}getMetadata(m){return this._tokens[4*m+3]}}var _=e(42570),p=function(d,m){return function(I,y){m(I,y,d)}};let c=class{constructor(m,I,y,S){this._legend=m,this._themeService=I,this._languageService=y,this._logService=S,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new v}getMetadata(m,I,y){const S=this._languageService.languageIdCodec.encodeLanguageId(y),b=this._hashTable.get(m,I,S);let x;if(b)x=b.metadata,this._logService.getLevel()===L.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${m} / ${I}: foreground ${f.N.getForeground(x)}, fontStyle ${f.N.getFontStyle(x).toString(2)}`);else{let T=this._legend.tokenTypes[m];const R=[];if(T){let Q=I;for(let G=0;Q>0&&G<this._legend.tokenModifiers.length;G++)1&Q&&R.push(this._legend.tokenModifiers[G]),Q>>=1;Q>0&&this._logService.getLevel()===L.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${I.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),R.push("not-in-legend"));const Z=this._themeService.getColorTheme().getTokenStyleMetadata(T,R,y);void 0===Z?x=2147483647:(x=0,void 0!==Z.italic&&(x|=(Z.italic?1:0)<<11|1),void 0!==Z.bold&&(x|=(Z.bold?2:0)<<11|2),void 0!==Z.underline&&(x|=(Z.underline?4:0)<<11|4),void 0!==Z.strikethrough&&(x|=(Z.strikethrough?8:0)<<11|8),Z.foreground&&(x|=Z.foreground<<15|16),0===x&&(x=2147483647))}else this._logService.getLevel()===L.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${m} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),x=2147483647,T="not-in-legend";this._hashTable.add(m,I,S,x),this._logService.getLevel()===L.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${m} (${T}) / ${I} (${R.join(" ")}): foreground ${f.N.getForeground(x)}, fontStyle ${f.N.getFontStyle(x).toString(2)}`)}return x}warnOverlappingSemanticTokens(m,I){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${m}, column ${I}`))}warnInvalidLengthSemanticTokens(m,I){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${m}, column ${I}`))}warnInvalidEditStart(m,I,y,S,b){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${m}, resultId: ${I}) at edit #${y}: The provided start offset ${S} is outside the previous data (length ${b}).`))}};function n(d,m,I){const y=d.data,S=d.data.length/5|0,b=Math.max(Math.ceil(S/1024),400),x=[];let T=0,R=1,Q=0;for(;T<S;){const Z=T;let G=Math.min(Z+b,S);if(G<S){let E=G;for(;E-1>Z&&0===y[5*E];)E--;if(E-1===Z){let V=G;for(;V+1<S&&0===y[5*V];)V++;G=V}else G=E}let F=new Uint32Array(4*(G-Z)),W=0,B=0,z=0,j=0;for(;T<G;){const E=5*T,V=y[E],$=y[E+1],te=R+V|0,w=0===V?Q+$|0:$,be=w+y[E+2]|0,me=y[E+3],Ie=y[E+4];if(be<=w)m.warnInvalidLengthSemanticTokens(te,w+1);else if(z===te&&j>w)m.warnOverlappingSemanticTokens(te,w+1);else{const ee=m.getMetadata(me,Ie,I);2147483647!==ee&&(0===B&&(B=te),F[W]=te-B,F[W+1]=w,F[W+2]=be,F[W+3]=ee,W+=4,z=te,j=be)}R=te,Q=w,T++}W!==F.length&&(F=F.subarray(0,W));const Y=A.create(B,F);x.push(Y)}return x}c=function(d,m,I,y){var x,S=arguments.length,b=S<3?m:null===y?y=Object.getOwnPropertyDescriptor(m,I):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(d,m,I,y);else for(var T=d.length-1;T>=0;T--)(x=d[T])&&(b=(S<3?x(b):S>3?x(m,I,b):x(m,I))||b);return S>3&&b&&Object.defineProperty(m,I,b),b}([p(1,s.XE),p(2,_.O),p(3,L.VZ)],c);class l{constructor(m,I,y,S){this.tokenTypeIndex=m,this.tokenModifierSet=I,this.languageId=y,this.metadata=S,this.next=null}}let v=(()=>{class d{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=d._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<d._SIZES.length?2/3*this._currentLength:0),this._elements=[],d._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(I,y){for(let S=0;S<y;S++)I[S]=null}_hash2(I,y){return(I<<5)-I+y|0}_hashFunc(I,y,S){return this._hash2(this._hash2(I,y),S)%this._currentLength}get(I,y,S){const b=this._hashFunc(I,y,S);let x=this._elements[b];for(;x;){if(x.tokenTypeIndex===I&&x.tokenModifierSet===y&&x.languageId===S)return x;x=x.next}return null}add(I,y,S,b){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const x=this._elements;this._currentLengthIndex++,this._currentLength=d._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<d._SIZES.length?2/3*this._currentLength:0),this._elements=[],d._nullOutEntries(this._elements,this._currentLength);for(const T of x){let R=T;for(;R;){const Q=R.next;R.next=null,this._add(R),R=Q}}}this._add(new l(I,y,S,b))}_add(I){const y=this._hashFunc(I.tokenTypeIndex,I.tokenModifierSet,I.languageId);I.next=this._elements[y],this._elements[y]=I}}return d._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143],d})()},3810:(at,ue,e)=>{"use strict";e.d(ue,{V:()=>s,y:()=>L});var f=e(64725);const s=(0,f.yh)("textResourceConfigurationService"),L=(0,f.yh)("textResourcePropertiesService")},96198:(at,ue,e)=>{"use strict";e.d(ue,{a:()=>P});var f=e(68451),s=e(31154),L=e(93059),M=e(54435),u=e(85519);class P{static computeUnicodeHighlights(a,p,c){const n=c?c.startLineNumber:1,l=c?c.endLineNumber:a.getLineCount(),v=new k(p),d=v.getCandidateCodePoints();let m;m="allNonBasicAscii"===d?new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):new RegExp(`${function A(_,a){return`[${L.ec(_.map(c=>String.fromCodePoint(c)).join(""))}]`}(Array.from(d))}`,"g");const I=new s.sz(null,m),y=[];let b,S=!1,x=0,T=0,R=0;e:for(let Q=n,Z=l;Q<=Z;Q++){const G=a.getLineContent(Q),F=G.length;I.reset(0);do{if(b=I.next(G),b){let W=b.index,B=b.index+b[0].length;if(W>0){const E=G.charCodeAt(W-1);L.ZG(E)&&W--}if(B+1<F){const E=G.charCodeAt(B-1);L.ZG(E)&&B++}const z=G.substring(W,B),j=(0,u.t2)(W+1,u.Af,G,0),Y=v.shouldHighlightNonBasicASCII(z,j?j.word:null);if(0!==Y){if(3===Y?x++:2===Y?T++:1===Y?R++:(0,M.vE)(Y),y.length>=1e3){S=!0;break e}y.push(new f.e(Q,W+1,Q,B+1))}}}while(b)}return{ranges:y,hasMore:S,ambiguousCharacterCount:x,invisibleCharacterCount:T,nonBasicAsciiCharacterCount:R}}static computeUnicodeHighlightReason(a,p){const c=new k(p);switch(c.shouldHighlightNonBasicASCII(a,null)){case 0:return null;case 2:return{kind:1};case 3:{const l=a.codePointAt(0),v=c.ambiguousCharacters.getPrimaryConfusable(l),d=L.ZK.getLocales().filter(m=>!L.ZK.getInstance(new Set([...p.allowedLocales,m])).isAmbiguous(l));return{kind:0,confusableWith:String.fromCodePoint(v),notAmbiguousInLocales:d}}case 1:return{kind:2}}}}class k{constructor(a){this.options=a,this.allowedCodePoints=new Set(a.allowedCodePoints),this.ambiguousCharacters=L.ZK.getInstance(new Set(a.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const a=new Set;if(this.options.invisibleCharacters)for(const p of L.vU.codePoints)N(String.fromCodePoint(p))||a.add(p);if(this.options.ambiguousCharacters)for(const p of this.ambiguousCharacters.getConfusableCodePoints())a.add(p);for(const p of this.allowedCodePoints)a.delete(p);return a}shouldHighlightNonBasicASCII(a,p){const c=a.codePointAt(0);if(this.allowedCodePoints.has(c))return 0;if(this.options.nonBasicASCII)return 1;let n=!1,l=!1;if(p)for(const v of p){const d=v.codePointAt(0),m=L.$i(v);n=n||m,!m&&!this.ambiguousCharacters.isAmbiguous(d)&&!L.vU.isInvisibleCharacter(d)&&(l=!0)}return!n&&l?0:this.options.invisibleCharacters&&!N(a)&&L.vU.isInvisibleCharacter(c)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(c)?3:0}}function N(_){return" "===_||"\n"===_||"\t"===_}},41071:(at,ue,e)=>{"use strict";e.d(ue,{E$:()=>T,F5:()=>b,Ij:()=>P,In:()=>E,Lu:()=>Z,MG:()=>x,MY:()=>_,OI:()=>$,RM:()=>v,VD:()=>I,Vi:()=>k,WW:()=>z,ZL:()=>y,_x:()=>N,a$:()=>B,a7:()=>L,ao:()=>f,bw:()=>m,cR:()=>j,cm:()=>M,d2:()=>V,eB:()=>S,g4:()=>F,g_:()=>W,gl:()=>d,gm:()=>c,jl:()=>n,np:()=>s,py:()=>Q,r3:()=>A,r4:()=>Y,rf:()=>a,sh:()=>R,up:()=>te,vQ:()=>G,wT:()=>p,wU:()=>l,we:()=>u});var f=(()=>{return(w=f||(f={}))[w.Unknown=0]="Unknown",w[w.Disabled=1]="Disabled",w[w.Enabled=2]="Enabled",f;var w})(),s=(()=>{return(w=s||(s={}))[w.Invoke=1]="Invoke",w[w.Auto=2]="Auto",s;var w})(),L=(()=>{return(w=L||(L={}))[w.KeepWhitespace=1]="KeepWhitespace",w[w.InsertAsSnippet=4]="InsertAsSnippet",L;var w})(),M=(()=>{return(w=M||(M={}))[w.Method=0]="Method",w[w.Function=1]="Function",w[w.Constructor=2]="Constructor",w[w.Field=3]="Field",w[w.Variable=4]="Variable",w[w.Class=5]="Class",w[w.Struct=6]="Struct",w[w.Interface=7]="Interface",w[w.Module=8]="Module",w[w.Property=9]="Property",w[w.Event=10]="Event",w[w.Operator=11]="Operator",w[w.Unit=12]="Unit",w[w.Value=13]="Value",w[w.Constant=14]="Constant",w[w.Enum=15]="Enum",w[w.EnumMember=16]="EnumMember",w[w.Keyword=17]="Keyword",w[w.Text=18]="Text",w[w.Color=19]="Color",w[w.File=20]="File",w[w.Reference=21]="Reference",w[w.Customcolor=22]="Customcolor",w[w.Folder=23]="Folder",w[w.TypeParameter=24]="TypeParameter",w[w.User=25]="User",w[w.Issue=26]="Issue",w[w.Snippet=27]="Snippet",M;var w})(),u=(()=>{return(w=u||(u={}))[w.Deprecated=1]="Deprecated",u;var w})(),P=(()=>{return(w=P||(P={}))[w.Invoke=0]="Invoke",w[w.TriggerCharacter=1]="TriggerCharacter",w[w.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",P;var w})(),A=(()=>{return(w=A||(A={}))[w.EXACT=0]="EXACT",w[w.ABOVE=1]="ABOVE",w[w.BELOW=2]="BELOW",A;var w})(),k=(()=>{return(w=k||(k={}))[w.NotSet=0]="NotSet",w[w.ContentFlush=1]="ContentFlush",w[w.RecoverFromMarkers=2]="RecoverFromMarkers",w[w.Explicit=3]="Explicit",w[w.Paste=4]="Paste",w[w.Undo=5]="Undo",w[w.Redo=6]="Redo",k;var w})(),N=(()=>{return(w=N||(N={}))[w.LF=1]="LF",w[w.CRLF=2]="CRLF",N;var w})(),_=(()=>{return(w=_||(_={}))[w.Text=0]="Text",w[w.Read=1]="Read",w[w.Write=2]="Write",_;var w})(),a=(()=>{return(w=a||(a={}))[w.None=0]="None",w[w.Keep=1]="Keep",w[w.Brackets=2]="Brackets",w[w.Advanced=3]="Advanced",w[w.Full=4]="Full",a;var w})(),p=(()=>{return(w=p||(p={}))[w.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",w[w.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",w[w.accessibilitySupport=2]="accessibilitySupport",w[w.accessibilityPageSize=3]="accessibilityPageSize",w[w.ariaLabel=4]="ariaLabel",w[w.autoClosingBrackets=5]="autoClosingBrackets",w[w.autoClosingDelete=6]="autoClosingDelete",w[w.autoClosingOvertype=7]="autoClosingOvertype",w[w.autoClosingQuotes=8]="autoClosingQuotes",w[w.autoIndent=9]="autoIndent",w[w.automaticLayout=10]="automaticLayout",w[w.autoSurround=11]="autoSurround",w[w.bracketPairColorization=12]="bracketPairColorization",w[w.guides=13]="guides",w[w.codeLens=14]="codeLens",w[w.codeLensFontFamily=15]="codeLensFontFamily",w[w.codeLensFontSize=16]="codeLensFontSize",w[w.colorDecorators=17]="colorDecorators",w[w.columnSelection=18]="columnSelection",w[w.comments=19]="comments",w[w.contextmenu=20]="contextmenu",w[w.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",w[w.cursorBlinking=22]="cursorBlinking",w[w.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",w[w.cursorStyle=24]="cursorStyle",w[w.cursorSurroundingLines=25]="cursorSurroundingLines",w[w.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",w[w.cursorWidth=27]="cursorWidth",w[w.disableLayerHinting=28]="disableLayerHinting",w[w.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",w[w.domReadOnly=30]="domReadOnly",w[w.dragAndDrop=31]="dragAndDrop",w[w.dropIntoEditor=32]="dropIntoEditor",w[w.emptySelectionClipboard=33]="emptySelectionClipboard",w[w.experimental=34]="experimental",w[w.extraEditorClassName=35]="extraEditorClassName",w[w.fastScrollSensitivity=36]="fastScrollSensitivity",w[w.find=37]="find",w[w.fixedOverflowWidgets=38]="fixedOverflowWidgets",w[w.folding=39]="folding",w[w.foldingStrategy=40]="foldingStrategy",w[w.foldingHighlight=41]="foldingHighlight",w[w.foldingImportsByDefault=42]="foldingImportsByDefault",w[w.foldingMaximumRegions=43]="foldingMaximumRegions",w[w.unfoldOnClickAfterEndOfLine=44]="unfoldOnClickAfterEndOfLine",w[w.fontFamily=45]="fontFamily",w[w.fontInfo=46]="fontInfo",w[w.fontLigatures=47]="fontLigatures",w[w.fontSize=48]="fontSize",w[w.fontWeight=49]="fontWeight",w[w.formatOnPaste=50]="formatOnPaste",w[w.formatOnType=51]="formatOnType",w[w.glyphMargin=52]="glyphMargin",w[w.gotoLocation=53]="gotoLocation",w[w.hideCursorInOverviewRuler=54]="hideCursorInOverviewRuler",w[w.hover=55]="hover",w[w.inDiffEditor=56]="inDiffEditor",w[w.inlineSuggest=57]="inlineSuggest",w[w.letterSpacing=58]="letterSpacing",w[w.lightbulb=59]="lightbulb",w[w.lineDecorationsWidth=60]="lineDecorationsWidth",w[w.lineHeight=61]="lineHeight",w[w.lineNumbers=62]="lineNumbers",w[w.lineNumbersMinChars=63]="lineNumbersMinChars",w[w.linkedEditing=64]="linkedEditing",w[w.links=65]="links",w[w.matchBrackets=66]="matchBrackets",w[w.minimap=67]="minimap",w[w.mouseStyle=68]="mouseStyle",w[w.mouseWheelScrollSensitivity=69]="mouseWheelScrollSensitivity",w[w.mouseWheelZoom=70]="mouseWheelZoom",w[w.multiCursorMergeOverlapping=71]="multiCursorMergeOverlapping",w[w.multiCursorModifier=72]="multiCursorModifier",w[w.multiCursorPaste=73]="multiCursorPaste",w[w.occurrencesHighlight=74]="occurrencesHighlight",w[w.overviewRulerBorder=75]="overviewRulerBorder",w[w.overviewRulerLanes=76]="overviewRulerLanes",w[w.padding=77]="padding",w[w.parameterHints=78]="parameterHints",w[w.peekWidgetDefaultFocus=79]="peekWidgetDefaultFocus",w[w.definitionLinkOpensInPeek=80]="definitionLinkOpensInPeek",w[w.quickSuggestions=81]="quickSuggestions",w[w.quickSuggestionsDelay=82]="quickSuggestionsDelay",w[w.readOnly=83]="readOnly",w[w.renameOnType=84]="renameOnType",w[w.renderControlCharacters=85]="renderControlCharacters",w[w.renderFinalNewline=86]="renderFinalNewline",w[w.renderLineHighlight=87]="renderLineHighlight",w[w.renderLineHighlightOnlyWhenFocus=88]="renderLineHighlightOnlyWhenFocus",w[w.renderValidationDecorations=89]="renderValidationDecorations",w[w.renderWhitespace=90]="renderWhitespace",w[w.revealHorizontalRightPadding=91]="revealHorizontalRightPadding",w[w.roundedSelection=92]="roundedSelection",w[w.rulers=93]="rulers",w[w.scrollbar=94]="scrollbar",w[w.scrollBeyondLastColumn=95]="scrollBeyondLastColumn",w[w.scrollBeyondLastLine=96]="scrollBeyondLastLine",w[w.scrollPredominantAxis=97]="scrollPredominantAxis",w[w.selectionClipboard=98]="selectionClipboard",w[w.selectionHighlight=99]="selectionHighlight",w[w.selectOnLineNumbers=100]="selectOnLineNumbers",w[w.showFoldingControls=101]="showFoldingControls",w[w.showUnused=102]="showUnused",w[w.snippetSuggestions=103]="snippetSuggestions",w[w.smartSelect=104]="smartSelect",w[w.smoothScrolling=105]="smoothScrolling",w[w.stickyTabStops=106]="stickyTabStops",w[w.stopRenderingLineAfter=107]="stopRenderingLineAfter",w[w.suggest=108]="suggest",w[w.suggestFontSize=109]="suggestFontSize",w[w.suggestLineHeight=110]="suggestLineHeight",w[w.suggestOnTriggerCharacters=111]="suggestOnTriggerCharacters",w[w.suggestSelection=112]="suggestSelection",w[w.tabCompletion=113]="tabCompletion",w[w.tabIndex=114]="tabIndex",w[w.unicodeHighlighting=115]="unicodeHighlighting",w[w.unusualLineTerminators=116]="unusualLineTerminators",w[w.useShadowDOM=117]="useShadowDOM",w[w.useTabStops=118]="useTabStops",w[w.wordSeparators=119]="wordSeparators",w[w.wordWrap=120]="wordWrap",w[w.wordWrapBreakAfterCharacters=121]="wordWrapBreakAfterCharacters",w[w.wordWrapBreakBeforeCharacters=122]="wordWrapBreakBeforeCharacters",w[w.wordWrapColumn=123]="wordWrapColumn",w[w.wordWrapOverride1=124]="wordWrapOverride1",w[w.wordWrapOverride2=125]="wordWrapOverride2",w[w.wrappingIndent=126]="wrappingIndent",w[w.wrappingStrategy=127]="wrappingStrategy",w[w.showDeprecated=128]="showDeprecated",w[w.inlayHints=129]="inlayHints",w[w.editorClassName=130]="editorClassName",w[w.pixelRatio=131]="pixelRatio",w[w.tabFocusMode=132]="tabFocusMode",w[w.layoutInfo=133]="layoutInfo",w[w.wrappingInfo=134]="wrappingInfo",p;var w})(),c=(()=>{return(w=c||(c={}))[w.TextDefined=0]="TextDefined",w[w.LF=1]="LF",w[w.CRLF=2]="CRLF",c;var w})(),n=(()=>{return(w=n||(n={}))[w.LF=0]="LF",w[w.CRLF=1]="CRLF",n;var w})(),l=(()=>{return(w=l||(l={}))[w.None=0]="None",w[w.Indent=1]="Indent",w[w.IndentOutdent=2]="IndentOutdent",w[w.Outdent=3]="Outdent",l;var w})(),v=(()=>{return(w=v||(v={}))[w.Both=0]="Both",w[w.Right=1]="Right",w[w.Left=2]="Left",w[w.None=3]="None",v;var w})(),d=(()=>{return(w=d||(d={}))[w.Type=1]="Type",w[w.Parameter=2]="Parameter",d;var w})(),m=(()=>{return(w=m||(m={}))[w.Automatic=0]="Automatic",w[w.Explicit=1]="Explicit",m;var w})(),I=(()=>{return(w=I||(I={}))[w.DependsOnKbLayout=-1]="DependsOnKbLayout",w[w.Unknown=0]="Unknown",w[w.Backspace=1]="Backspace",w[w.Tab=2]="Tab",w[w.Enter=3]="Enter",w[w.Shift=4]="Shift",w[w.Ctrl=5]="Ctrl",w[w.Alt=6]="Alt",w[w.PauseBreak=7]="PauseBreak",w[w.CapsLock=8]="CapsLock",w[w.Escape=9]="Escape",w[w.Space=10]="Space",w[w.PageUp=11]="PageUp",w[w.PageDown=12]="PageDown",w[w.End=13]="End",w[w.Home=14]="Home",w[w.LeftArrow=15]="LeftArrow",w[w.UpArrow=16]="UpArrow",w[w.RightArrow=17]="RightArrow",w[w.DownArrow=18]="DownArrow",w[w.Insert=19]="Insert",w[w.Delete=20]="Delete",w[w.Digit0=21]="Digit0",w[w.Digit1=22]="Digit1",w[w.Digit2=23]="Digit2",w[w.Digit3=24]="Digit3",w[w.Digit4=25]="Digit4",w[w.Digit5=26]="Digit5",w[w.Digit6=27]="Digit6",w[w.Digit7=28]="Digit7",w[w.Digit8=29]="Digit8",w[w.Digit9=30]="Digit9",w[w.KeyA=31]="KeyA",w[w.KeyB=32]="KeyB",w[w.KeyC=33]="KeyC",w[w.KeyD=34]="KeyD",w[w.KeyE=35]="KeyE",w[w.KeyF=36]="KeyF",w[w.KeyG=37]="KeyG",w[w.KeyH=38]="KeyH",w[w.KeyI=39]="KeyI",w[w.KeyJ=40]="KeyJ",w[w.KeyK=41]="KeyK",w[w.KeyL=42]="KeyL",w[w.KeyM=43]="KeyM",w[w.KeyN=44]="KeyN",w[w.KeyO=45]="KeyO",w[w.KeyP=46]="KeyP",w[w.KeyQ=47]="KeyQ",w[w.KeyR=48]="KeyR",w[w.KeyS=49]="KeyS",w[w.KeyT=50]="KeyT",w[w.KeyU=51]="KeyU",w[w.KeyV=52]="KeyV",w[w.KeyW=53]="KeyW",w[w.KeyX=54]="KeyX",w[w.KeyY=55]="KeyY",w[w.KeyZ=56]="KeyZ",w[w.Meta=57]="Meta",w[w.ContextMenu=58]="ContextMenu",w[w.F1=59]="F1",w[w.F2=60]="F2",w[w.F3=61]="F3",w[w.F4=62]="F4",w[w.F5=63]="F5",w[w.F6=64]="F6",w[w.F7=65]="F7",w[w.F8=66]="F8",w[w.F9=67]="F9",w[w.F10=68]="F10",w[w.F11=69]="F11",w[w.F12=70]="F12",w[w.F13=71]="F13",w[w.F14=72]="F14",w[w.F15=73]="F15",w[w.F16=74]="F16",w[w.F17=75]="F17",w[w.F18=76]="F18",w[w.F19=77]="F19",w[w.NumLock=78]="NumLock",w[w.ScrollLock=79]="ScrollLock",w[w.Semicolon=80]="Semicolon",w[w.Equal=81]="Equal",w[w.Comma=82]="Comma",w[w.Minus=83]="Minus",w[w.Period=84]="Period",w[w.Slash=85]="Slash",w[w.Backquote=86]="Backquote",w[w.BracketLeft=87]="BracketLeft",w[w.Backslash=88]="Backslash",w[w.BracketRight=89]="BracketRight",w[w.Quote=90]="Quote",w[w.OEM_8=91]="OEM_8",w[w.IntlBackslash=92]="IntlBackslash",w[w.Numpad0=93]="Numpad0",w[w.Numpad1=94]="Numpad1",w[w.Numpad2=95]="Numpad2",w[w.Numpad3=96]="Numpad3",w[w.Numpad4=97]="Numpad4",w[w.Numpad5=98]="Numpad5",w[w.Numpad6=99]="Numpad6",w[w.Numpad7=100]="Numpad7",w[w.Numpad8=101]="Numpad8",w[w.Numpad9=102]="Numpad9",w[w.NumpadMultiply=103]="NumpadMultiply",w[w.NumpadAdd=104]="NumpadAdd",w[w.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",w[w.NumpadSubtract=106]="NumpadSubtract",w[w.NumpadDecimal=107]="NumpadDecimal",w[w.NumpadDivide=108]="NumpadDivide",w[w.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",w[w.ABNT_C1=110]="ABNT_C1",w[w.ABNT_C2=111]="ABNT_C2",w[w.AudioVolumeMute=112]="AudioVolumeMute",w[w.AudioVolumeUp=113]="AudioVolumeUp",w[w.AudioVolumeDown=114]="AudioVolumeDown",w[w.BrowserSearch=115]="BrowserSearch",w[w.BrowserHome=116]="BrowserHome",w[w.BrowserBack=117]="BrowserBack",w[w.BrowserForward=118]="BrowserForward",w[w.MediaTrackNext=119]="MediaTrackNext",w[w.MediaTrackPrevious=120]="MediaTrackPrevious",w[w.MediaStop=121]="MediaStop",w[w.MediaPlayPause=122]="MediaPlayPause",w[w.LaunchMediaPlayer=123]="LaunchMediaPlayer",w[w.LaunchMail=124]="LaunchMail",w[w.LaunchApp2=125]="LaunchApp2",w[w.Clear=126]="Clear",w[w.MAX_VALUE=127]="MAX_VALUE",I;var w})(),y=(()=>{return(w=y||(y={}))[w.Hint=1]="Hint",w[w.Info=2]="Info",w[w.Warning=4]="Warning",w[w.Error=8]="Error",y;var w})(),S=(()=>{return(w=S||(S={}))[w.Unnecessary=1]="Unnecessary",w[w.Deprecated=2]="Deprecated",S;var w})(),b=(()=>{return(w=b||(b={}))[w.Inline=1]="Inline",w[w.Gutter=2]="Gutter",b;var w})(),x=(()=>{return(w=x||(x={}))[w.UNKNOWN=0]="UNKNOWN",w[w.TEXTAREA=1]="TEXTAREA",w[w.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",w[w.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",w[w.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",w[w.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",w[w.CONTENT_TEXT=6]="CONTENT_TEXT",w[w.CONTENT_EMPTY=7]="CONTENT_EMPTY",w[w.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",w[w.CONTENT_WIDGET=9]="CONTENT_WIDGET",w[w.OVERVIEW_RULER=10]="OVERVIEW_RULER",w[w.SCROLLBAR=11]="SCROLLBAR",w[w.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",w[w.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR",x;var w})(),T=(()=>{return(w=T||(T={}))[w.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",w[w.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",w[w.TOP_CENTER=2]="TOP_CENTER",T;var w})(),R=(()=>{return(w=R||(R={}))[w.Left=1]="Left",w[w.Center=2]="Center",w[w.Right=4]="Right",w[w.Full=7]="Full",R;var w})(),Q=(()=>{return(w=Q||(Q={}))[w.Left=0]="Left",w[w.Right=1]="Right",w[w.None=2]="None",w[w.LeftOfInjectedText=3]="LeftOfInjectedText",w[w.RightOfInjectedText=4]="RightOfInjectedText",Q;var w})(),Z=(()=>{return(w=Z||(Z={}))[w.Off=0]="Off",w[w.On=1]="On",w[w.Relative=2]="Relative",w[w.Interval=3]="Interval",w[w.Custom=4]="Custom",Z;var w})(),G=(()=>{return(w=G||(G={}))[w.None=0]="None",w[w.Text=1]="Text",w[w.Blocks=2]="Blocks",G;var w})(),F=(()=>{return(w=F||(F={}))[w.Smooth=0]="Smooth",w[w.Immediate=1]="Immediate",F;var w})(),W=(()=>{return(w=W||(W={}))[w.Auto=1]="Auto",w[w.Hidden=2]="Hidden",w[w.Visible=3]="Visible",W;var w})(),B=(()=>{return(w=B||(B={}))[w.LTR=0]="LTR",w[w.RTL=1]="RTL",B;var w})(),z=(()=>{return(w=z||(z={}))[w.Invoke=1]="Invoke",w[w.TriggerCharacter=2]="TriggerCharacter",w[w.ContentChange=3]="ContentChange",z;var w})(),j=(()=>{return(w=j||(j={}))[w.File=0]="File",w[w.Module=1]="Module",w[w.Namespace=2]="Namespace",w[w.Package=3]="Package",w[w.Class=4]="Class",w[w.Method=5]="Method",w[w.Property=6]="Property",w[w.Field=7]="Field",w[w.Constructor=8]="Constructor",w[w.Enum=9]="Enum",w[w.Interface=10]="Interface",w[w.Function=11]="Function",w[w.Variable=12]="Variable",w[w.Constant=13]="Constant",w[w.String=14]="String",w[w.Number=15]="Number",w[w.Boolean=16]="Boolean",w[w.Array=17]="Array",w[w.Object=18]="Object",w[w.Key=19]="Key",w[w.Null=20]="Null",w[w.EnumMember=21]="EnumMember",w[w.Struct=22]="Struct",w[w.Event=23]="Event",w[w.Operator=24]="Operator",w[w.TypeParameter=25]="TypeParameter",j;var w})(),Y=(()=>{return(w=Y||(Y={}))[w.Deprecated=1]="Deprecated",Y;var w})(),E=(()=>{return(w=E||(E={}))[w.Hidden=0]="Hidden",w[w.Blink=1]="Blink",w[w.Smooth=2]="Smooth",w[w.Phase=3]="Phase",w[w.Expand=4]="Expand",w[w.Solid=5]="Solid",E;var w})(),V=(()=>{return(w=V||(V={}))[w.Line=1]="Line",w[w.Block=2]="Block",w[w.Underline=3]="Underline",w[w.LineThin=4]="LineThin",w[w.BlockOutline=5]="BlockOutline",w[w.UnderlineThin=6]="UnderlineThin",V;var w})(),$=(()=>{return(w=$||($={}))[w.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",w[w.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",w[w.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",w[w.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter",$;var w})(),te=(()=>{return(w=te||(te={}))[w.None=0]="None",w[w.Same=1]="Same",w[w.Indent=2]="Indent",w[w.DeepIndent=3]="DeepIndent",te;var w})()},29710:(at,ue,e)=>{"use strict";e.d(ue,{B8:()=>k,Oe:()=>s,UX:()=>P,aq:()=>A,iN:()=>_,ld:()=>u,qq:()=>M,ug:()=>L,xi:()=>N});var s,a,L,M,u,P,A,k,N,_,f=e(40402);(a=s||(s={})).noSelection=f.NC("noSelection","No selection"),a.singleSelectionRange=f.NC("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),a.singleSelection=f.NC("singleSelection","Line {0}, Column {1}"),a.multiSelectionRange=f.NC("multiSelectionRange","{0} selections ({1} characters selected)"),a.multiSelection=f.NC("multiSelection","{0} selections"),a.emergencyConfOn=f.NC("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),a.openingDocs=f.NC("openingDocs","Now opening the Editor Accessibility documentation page."),a.readonlyDiffEditor=f.NC("readonlyDiffEditor"," in a read-only pane of a diff editor."),a.editableDiffEditor=f.NC("editableDiffEditor"," in a pane of a diff editor."),a.readonlyEditor=f.NC("readonlyEditor"," in a read-only code editor"),a.editableEditor=f.NC("editableEditor"," in a code editor"),a.changeConfigToOnMac=f.NC("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),a.changeConfigToOnWinLinux=f.NC("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),a.auto_on=f.NC("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),a.auto_off=f.NC("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),a.tabFocusModeOnMsg=f.NC("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),a.tabFocusModeOnMsgNoKb=f.NC("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),a.tabFocusModeOffMsg=f.NC("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),a.tabFocusModeOffMsgNoKb=f.NC("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),a.openDocMac=f.NC("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),a.openDocWinLinux=f.NC("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),a.outroMsg=f.NC("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),a.showAccessibilityHelpAction=f.NC("showAccessibilityHelpAction","Show Accessibility Help"),function(a){a.inspectTokensAction=f.NC("inspectTokens","Developer: Inspect Tokens")}(L||(L={})),function(a){a.gotoLineActionLabel=f.NC("gotoLineActionLabel","Go to Line/Column...")}(M||(M={})),function(a){a.helpQuickAccessActionLabel=f.NC("helpQuickAccess","Show all Quick Access Providers")}(u||(u={})),function(a){a.quickCommandActionLabel=f.NC("quickCommandActionLabel","Command Palette"),a.quickCommandHelp=f.NC("quickCommandActionHelp","Show And Run Commands")}(P||(P={})),function(a){a.quickOutlineActionLabel=f.NC("quickOutlineActionLabel","Go to Symbol..."),a.quickOutlineByCategoryActionLabel=f.NC("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")}(A||(A={})),function(a){a.editorViewAccessibleLabel=f.NC("editorViewAccessibleLabel","Editor content"),a.accessibilityHelpMessage=f.NC("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")}(k||(k={})),function(a){a.toggleHighContrast=f.NC("toggleHighContrast","Toggle High Contrast Theme")}(N||(N={})),function(a){a.bulkEditServiceSummary=f.NC("bulkEditServiceSummary","Made {0} edits in {1} files")}(_||(_={}))},42814:(at,ue,e)=>{"use strict";e.d(ue,{CZ:()=>P,D8:()=>k,Jx:()=>f,Tx:()=>u,dQ:()=>A,fV:()=>N,gk:()=>s,lN:()=>M,rU:()=>L});class f{constructor(){this.changeType=1}}class s{constructor(a,p,c,n,l){this.ownerId=a,this.lineNumber=p,this.column=c,this.options=n,this.order=l}static applyInjectedText(a,p){if(!p||0===p.length)return a;let c="",n=0;for(const l of p)c+=a.substring(n,l.column-1),n=l.column-1,c+=l.options.content;return c+=a.substring(n),c}static fromDecorations(a){const p=[];for(const c of a)c.options.before&&c.options.before.content.length>0&&p.push(new s(c.ownerId,c.range.startLineNumber,c.range.startColumn,c.options.before,0)),c.options.after&&c.options.after.content.length>0&&p.push(new s(c.ownerId,c.range.endLineNumber,c.range.endColumn,c.options.after,1));return p.sort((c,n)=>c.lineNumber===n.lineNumber?c.column===n.column?c.order-n.order:c.column-n.column:c.lineNumber-n.lineNumber),p}}class L{constructor(a,p,c){this.changeType=2,this.lineNumber=a,this.detail=p,this.injectedText=c}}class M{constructor(a,p){this.changeType=3,this.fromLineNumber=a,this.toLineNumber=p}}class u{constructor(a,p,c,n){this.changeType=4,this.injectedTexts=n,this.fromLineNumber=a,this.toLineNumber=p,this.detail=c}}class P{constructor(){this.changeType=5}}class A{constructor(a,p,c,n){this.changes=a,this.versionId=p,this.isUndoing=c,this.isRedoing=n,this.resultingSelection=null}containsEvent(a){for(let p=0,c=this.changes.length;p<c;p++)if(this.changes[p].changeType===a)return!0;return!1}static merge(a,p){const c=[].concat(a.changes).concat(p.changes);return new A(c,p.versionId,a.isUndoing||p.isUndoing,a.isRedoing||p.isRedoing)}}class k{constructor(a){this.changes=a}}class N{constructor(a,p){this.rawContentChangedEvent=a,this.contentChangedEvent=p}merge(a){const p=A.merge(this.rawContentChangedEvent,a.rawContentChangedEvent),c=N._mergeChangeEvents(this.contentChangedEvent,a.contentChangedEvent);return new N(p,c)}static _mergeChangeEvents(a,p){return{changes:[].concat(a.changes).concat(p.changes),eol:p.eol,versionId:p.versionId,isUndoing:a.isUndoing||p.isUndoing,isRedoing:a.isRedoing||p.isRedoing,isFlush:a.isFlush||p.isFlush}}}},52904:(at,ue,e)=>{"use strict";e.d(ue,{UO:()=>s,s6:()=>f,vW:()=>L});var f=(()=>{return(M=f||(f={}))[M.Disabled=0]="Disabled",M[M.EnabledForActive=1]="EnabledForActive",M[M.Enabled=2]="Enabled",f;var M})();class s{constructor(u,P,A,k,N,_){if(this.visibleColumn=u,this.column=P,this.className=A,this.horizontalLine=k,this.forWrappedLinesAfterColumn=N,this.forWrappedLinesBeforeOrAtColumn=_,-1!==u==(-1!==P))throw new Error}}class L{constructor(u,P){this.top=u,this.endColumn=P}}},8028:(at,ue,e)=>{"use strict";e.d(ue,{A:()=>s});var f=e(43258);let s=(()=>{class M{constructor(P,A,k){this._lineTokensBrand=void 0,this._tokens=P,this._tokensCount=this._tokens.length>>>1,this._text=A,this._languageIdCodec=k}static createEmpty(P,A){const k=M.defaultTokenMetadata,N=new Uint32Array(2);return N[0]=P.length,N[1]=k,new M(N,P,A)}equals(P){return P instanceof M&&this.slicedEquals(P,0,this._tokensCount)}slicedEquals(P,A,k){if(this._text!==P._text||this._tokensCount!==P._tokensCount)return!1;const N=A<<1,_=N+(k<<1);for(let a=N;a<_;a++)if(this._tokens[a]!==P._tokens[a])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(P){return P>0?this._tokens[P-1<<1]:0}getMetadata(P){return this._tokens[1+(P<<1)]}getLanguageId(P){const k=f.N.getLanguageId(this._tokens[1+(P<<1)]);return this._languageIdCodec.decodeLanguageId(k)}getStandardTokenType(P){return f.N.getTokenType(this._tokens[1+(P<<1)])}getForeground(P){return f.N.getForeground(this._tokens[1+(P<<1)])}getClassName(P){return f.N.getClassNameFromMetadata(this._tokens[1+(P<<1)])}getInlineStyle(P,A){return f.N.getInlineStyleFromMetadata(this._tokens[1+(P<<1)],A)}getPresentation(P){return f.N.getPresentationFromMetadata(this._tokens[1+(P<<1)])}getEndOffset(P){return this._tokens[P<<1]}findTokenIndexAtOffset(P){return M.findIndexInTokensArray(this._tokens,P)}inflate(){return this}sliceAndInflate(P,A,k){return new L(this,P,A,k)}static convertToEndOffset(P,A){const N=(P.length>>>1)-1;for(let _=0;_<N;_++)P[_<<1]=P[_+1<<1];P[N<<1]=A}static findIndexInTokensArray(P,A){if(P.length<=2)return 0;let k=0,N=(P.length>>>1)-1;for(;k<N;){const _=k+Math.floor((N-k)/2),a=P[_<<1];if(a===A)return _+1;a<A?k=_+1:a>A&&(N=_)}return k}withInserted(P){if(0===P.length)return this;let A=0,k=0,N="";const _=new Array;let a=0;for(;;){const p=A<this._tokensCount?this._tokens[A<<1]:-1,c=k<P.length?P[k]:null;if(-1!==p&&(null===c||p<=c.offset))N+=this._text.substring(a,p),_.push(N.length,this._tokens[1+(A<<1)]),A++,a=p;else{if(!c)break;c.offset>a&&(N+=this._text.substring(a,c.offset),_.push(N.length,this._tokens[1+(A<<1)]),a=c.offset),N+=c.text,_.push(N.length,c.tokenMetadata),k++}}return new M(new Uint32Array(_),N,this._languageIdCodec)}}return M.defaultTokenMetadata=33587200,M})();class L{constructor(u,P,A,k){this._source=u,this._startOffset=P,this._endOffset=A,this._deltaOffset=k,this._firstTokenIndex=u.findTokenIndexAtOffset(P),this._tokensCount=0;for(let N=this._firstTokenIndex,_=u.getCount();N<_&&!(u.getStartOffset(N)>=A);N++)this._tokensCount++}getMetadata(u){return this._source.getMetadata(this._firstTokenIndex+u)}getLanguageId(u){return this._source.getLanguageId(this._firstTokenIndex+u)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(u){return u instanceof L&&this._startOffset===u._startOffset&&this._endOffset===u._endOffset&&this._deltaOffset===u._deltaOffset&&this._source.slicedEquals(u._source,this._firstTokenIndex,this._tokensCount)}getCount(){return this._tokensCount}getForeground(u){return this._source.getForeground(this._firstTokenIndex+u)}getEndOffset(u){const P=this._source.getEndOffset(this._firstTokenIndex+u);return Math.min(this._endOffset,P)-this._startOffset+this._deltaOffset}getClassName(u){return this._source.getClassName(this._firstTokenIndex+u)}getInlineStyle(u,P){return this._source.getInlineStyle(this._firstTokenIndex+u,P)}getPresentation(u){return this._source.getPresentation(this._firstTokenIndex+u)}findTokenIndexAtOffset(u){return this._source.findTokenIndexAtOffset(u+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},94500:(at,ue,e)=>{"use strict";e.d(ue,{Kp:()=>s,k:()=>u});var f=e(93059);class s{constructor(A,k,N,_){this.startColumn=A,this.endColumn=k,this.className=N,this.type=_,this._lineDecorationBrand=void 0}static _equals(A,k){return A.startColumn===k.startColumn&&A.endColumn===k.endColumn&&A.className===k.className&&A.type===k.type}static equalsArr(A,k){const N=A.length;if(N!==k.length)return!1;for(let a=0;a<N;a++)if(!s._equals(A[a],k[a]))return!1;return!0}static extractWrapped(A,k,N){if(0===A.length)return A;const _=k+1,a=N+1,p=N-k,c=[];let n=0;for(const l of A)l.endColumn<=_||l.startColumn>=a||(c[n++]=new s(Math.max(1,l.startColumn-_+1),Math.min(p+1,l.endColumn-_+1),l.className,l.type));return c}static filter(A,k,N,_){if(0===A.length)return[];const a=[];let p=0;for(let c=0,n=A.length;c<n;c++){const l=A[c],v=l.range;v.endLineNumber<k||v.startLineNumber>k||v.isEmpty()&&(0===l.type||3===l.type)||(a[p++]=new s(v.startLineNumber===k?v.startColumn:N,v.endLineNumber===k?v.endColumn:_,l.inlineClassName,l.type))}return a}static _typeCompare(A,k){const N=[2,0,1,3];return N[A]-N[k]}static compare(A,k){if(A.startColumn!==k.startColumn)return A.startColumn-k.startColumn;if(A.endColumn!==k.endColumn)return A.endColumn-k.endColumn;const N=s._typeCompare(A.type,k.type);return 0!==N?N:A.className!==k.className?A.className<k.className?-1:1:0}}class L{constructor(A,k,N,_){this.startOffset=A,this.endOffset=k,this.className=N,this.metadata=_}}class M{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(A){let k=0;for(let N=0,_=A.length;N<_;N++)k|=A[N];return k}consumeLowerThan(A,k,N){for(;this.count>0&&this.stopOffsets[0]<A;){let _=0;for(;_+1<this.count&&this.stopOffsets[_]===this.stopOffsets[_+1];)_++;N.push(new L(k,this.stopOffsets[_],this.classNames.join(" "),M._metadata(this.metadata))),k=this.stopOffsets[_]+1,this.stopOffsets.splice(0,_+1),this.classNames.splice(0,_+1),this.metadata.splice(0,_+1),this.count-=_+1}return this.count>0&&k<A&&(N.push(new L(k,A-1,this.classNames.join(" "),M._metadata(this.metadata))),k=A),k}insert(A,k,N){if(0===this.count||this.stopOffsets[this.count-1]<=A)this.stopOffsets.push(A),this.classNames.push(k),this.metadata.push(N);else for(let _=0;_<this.count;_++)if(this.stopOffsets[_]>=A){this.stopOffsets.splice(_,0,A),this.classNames.splice(_,0,k),this.metadata.splice(_,0,N);break}this.count++}}class u{static normalize(A,k){if(0===k.length)return[];const N=[],_=new M;let a=0;for(let p=0,c=k.length;p<c;p++){const n=k[p];let l=n.startColumn,v=n.endColumn;const d=n.className,m=1===n.type?2:2===n.type?4:0;if(l>1){const S=A.charCodeAt(l-2);f.ZG(S)&&l--}if(v>1){const S=A.charCodeAt(v-2);f.ZG(S)&&v--}const I=l-1,y=v-2;a=_.consumeLowerThan(I,a,N),0===_.count&&(a=I),_.insert(y,d,m)}return _.consumeLowerThan(1073741824,a,N),N}}},26046:(at,ue,e)=>{"use strict";e.d(ue,{Nd:()=>A,zG:()=>u,IJ:()=>P,d1:()=>_,tF:()=>p});var f=e(93059),s=e(68511),L=e(94500);class M{constructor(T,R,Q,Z){this.endIndex=T,this.type=R,this.metadata=Q,this.containsRTL=Z,this._linePartBrand=void 0}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class u{constructor(T,R){this.startOffset=T,this.endOffset=R}equals(T){return this.startOffset===T.startOffset&&this.endOffset===T.endOffset}}class P{constructor(T,R,Q,Z,G,F,W,B,z,j,Y,E,V,$,te,w,fe,be,me){this.useMonospaceOptimizations=T,this.canUseHalfwidthRightwardsArrow=R,this.lineContent=Q,this.continuesWithWrappedLine=Z,this.isBasicASCII=G,this.containsRTL=F,this.fauxIndentLength=W,this.lineTokens=B,this.lineDecorations=z.sort(L.Kp.compare),this.tabSize=j,this.startVisibleColumn=Y,this.spaceWidth=E,this.stopRenderingLineAfter=te,this.renderWhitespace="all"===w?4:"boundary"===w?1:"selection"===w?2:"trailing"===w?3:0,this.renderControlCharacters=fe,this.fontLigatures=be,this.selectionsOnLine=me&&me.sort((ce,he)=>ce.startOffset<he.startOffset?-1:1),Math.abs($-E)<Math.abs(V-E)?(this.renderSpaceWidth=$,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=V,this.renderSpaceCharCode=183)}sameSelection(T){if(null===this.selectionsOnLine)return null===T;if(null===T||T.length!==this.selectionsOnLine.length)return!1;for(let R=0;R<this.selectionsOnLine.length;R++)if(!this.selectionsOnLine[R].equals(T[R]))return!1;return!0}equals(T){return this.useMonospaceOptimizations===T.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===T.canUseHalfwidthRightwardsArrow&&this.lineContent===T.lineContent&&this.continuesWithWrappedLine===T.continuesWithWrappedLine&&this.isBasicASCII===T.isBasicASCII&&this.containsRTL===T.containsRTL&&this.fauxIndentLength===T.fauxIndentLength&&this.tabSize===T.tabSize&&this.startVisibleColumn===T.startVisibleColumn&&this.spaceWidth===T.spaceWidth&&this.renderSpaceWidth===T.renderSpaceWidth&&this.renderSpaceCharCode===T.renderSpaceCharCode&&this.stopRenderingLineAfter===T.stopRenderingLineAfter&&this.renderWhitespace===T.renderWhitespace&&this.renderControlCharacters===T.renderControlCharacters&&this.fontLigatures===T.fontLigatures&&L.Kp.equalsArr(this.lineDecorations,T.lineDecorations)&&this.lineTokens.equals(T.lineTokens)&&this.sameSelection(T.selectionsOnLine)}}class A{constructor(T,R){this.partIndex=T,this.charIndex=R}}class k{constructor(T,R){this.length=T,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}static getPartIndex(T){return(4294901760&T)>>>16}static getCharIndex(T){return(65535&T)>>>0}setColumnInfo(T,R,Q,Z){this._data[T-1]=(R<<16|Q<<0)>>>0,this._horizontalOffset[T-1]=Z}getHorizontalOffset(T){return 0===this._horizontalOffset.length?0:this._horizontalOffset[T-1]}charOffsetToPartData(T){return 0===this.length?0:T<0?this._data[0]:T>=this.length?this._data[this.length-1]:this._data[T]}getDomPosition(T){const R=this.charOffsetToPartData(T-1),Q=k.getPartIndex(R),Z=k.getCharIndex(R);return new A(Q,Z)}getColumn(T,R){return this.partDataToCharOffset(T.partIndex,R,T.charIndex)+1}partDataToCharOffset(T,R,Q){if(0===this.length)return 0;const Z=(T<<16|Q<<0)>>>0;let G=0,F=this.length-1;for(;G+1<F;){const te=G+F>>>1,w=this._data[te];if(w===Z)return te;w>Z?F=te:G=te}if(G===F)return G;const W=this._data[G],B=this._data[F];if(W===Z)return G;if(B===Z)return F;const z=k.getPartIndex(W),j=k.getCharIndex(W);let E;return E=z!==k.getPartIndex(B)?R:k.getCharIndex(B),Q-j<=E-Q?G:F}}class N{constructor(T,R,Q){this._renderLineOutputBrand=void 0,this.characterMapping=T,this.containsRTL=R,this.containsForeignElements=Q}}function _(x,T){if(0===x.lineContent.length){if(x.lineDecorations.length>0){T.appendASCIIString("<span>");let R=0,Q=0,Z=0;for(const F of x.lineDecorations)(1===F.type||2===F.type)&&(T.appendASCIIString('<span class="'),T.appendASCIIString(F.className),T.appendASCIIString('"></span>'),1===F.type&&(Z|=1,R++),2===F.type&&(Z|=2,Q++));T.appendASCIIString("</span>");const G=new k(1,R+Q);return G.setColumnInfo(1,R,0,0),new N(G,!1,Z)}return T.appendASCIIString("<span><span></span></span>"),new N(new k(0,0),!1,0)}return function S(x,T){const R=x.fontIsMonospace,Q=x.canUseHalfwidthRightwardsArrow,Z=x.containsForeignElements,G=x.lineContent,F=x.len,W=x.isOverflowing,B=x.parts,z=x.fauxIndentLength,j=x.tabSize,Y=x.startVisibleColumn,E=x.containsRTL,V=x.spaceWidth,$=x.renderSpaceCharCode,te=x.renderWhitespace,w=x.renderControlCharacters,fe=new k(F+1,B.length);let be=!1,me=0,Ie=Y,ee=0,ce=0,he=0;T.appendASCIIString(E?'<span dir="ltr">':"<span>");for(let de=0,ge=B.length;de<ge;de++){const re=B[de],Se=re.endIndex,Pe=re.type,Ve=re.containsRTL,ie=0!==te&&re.isWhitespace(),ye=ie&&!R&&("mtkw"===Pe||!Z),_e=me===Se&&re.isPseudoAfter();if(ee=0,T.appendASCIIString("<span "),Ve&&T.appendASCIIString('style="unicode-bidi:isolate" '),T.appendASCIIString('class="'),T.appendASCIIString(ye?"mtkz":Pe),T.appendASCII(34),ie){let Be=0;{let Qe=me,Ae=Ie;for(;Qe<Se;Qe++){const De=0|(9===G.charCodeAt(Qe)?j-Ae%j:1);Be+=De,Qe>=z&&(Ae+=De)}}for(ye&&(T.appendASCIIString(' style="width:'),T.appendASCIIString(String(V*Be)),T.appendASCIIString('px"')),T.appendASCII(62);me<Se;me++){let Ae,pe;if(fe.setColumnInfo(me+1,de-he,ee,ce),he=0,9===G.charCodeAt(me)){Ae=j-Ie%j|0,pe=Ae,T.write1(!Q||pe>1?8594:65515);for(let De=2;De<=pe;De++)T.write1(160)}else Ae=2,pe=1,T.write1($),T.write1(8204);ee+=Ae,ce+=pe,me>=z&&(Ie+=pe)}}else for(T.appendASCII(62);me<Se;me++){fe.setColumnInfo(me+1,de-he,ee,ce),he=0;const Be=G.charCodeAt(me);let Qe=1,Ae=1;switch(Be){case 9:Qe=j-Ie%j,Ae=Qe;for(let pe=1;pe<=Qe;pe++)T.write1(160);break;case 32:T.write1(160);break;case 60:T.appendASCIIString("&lt;");break;case 62:T.appendASCIIString("&gt;");break;case 38:T.appendASCIIString("&amp;");break;case 0:w?T.write1(9216):T.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:T.write1(65533);break;default:f.K7(Be)&&Ae++,w&&Be<32?T.write1(9216+Be):w&&127===Be?T.write1(9249):w&&d(Be)?(T.appendASCIIString("[U+"),T.appendASCIIString(b(Be)),T.appendASCIIString("]"),Qe=8,Ae=Qe):T.write1(Be)}ee+=Qe,ce+=Ae,me>=z&&(Ie+=Ae)}_e?he++:he=0,me>=F&&!be&&re.isPseudoAfter()&&(be=!0,fe.setColumnInfo(me+1,de,ee,ce)),T.appendASCIIString("</span>")}return be||fe.setColumnInfo(F+1,B.length-1,ee,ce),W&&T.appendASCIIString("<span>&hellip;</span>"),T.appendASCIIString("</span>"),new N(fe,E,Z)}(function n(x){const T=x.lineContent;let R,Q;-1!==x.stopRenderingLineAfter&&x.stopRenderingLineAfter<T.length?(R=!0,Q=x.stopRenderingLineAfter):(R=!1,Q=T.length);let Z=function l(x,T,R,Q,Z){const G=[];let F=0;Q>0&&(G[F++]=new M(Q,"",0,!1));let W=Q;for(let B=0,z=R.getCount();B<z;B++){const j=R.getEndOffset(B);if(j<=Q)continue;const Y=R.getClassName(B);if(j>=Z){const V=!!T&&f.Ut(x.substring(W,Z));G[F++]=new M(Z,Y,0,V);break}const E=!!T&&f.Ut(x.substring(W,j));G[F++]=new M(j,Y,0,E),W=j}return G}(T,x.containsRTL,x.lineTokens,x.fauxIndentLength,Q);x.renderControlCharacters&&!x.isBasicASCII&&(Z=function m(x,T){const R=[];let Q=new M(0,"",0,!1),Z=0;for(const G of T){const F=G.endIndex;for(;Z<F;Z++)d(x.charCodeAt(Z))&&(Z>Q.endIndex&&(Q=new M(Z,G.type,G.metadata,G.containsRTL),R.push(Q)),Q=new M(Z+1,"mtkcontrol",G.metadata,!1),R.push(Q));Z>Q.endIndex&&(Q=new M(F,G.type,G.metadata,G.containsRTL),R.push(Q))}return R}(T,Z)),(4===x.renderWhitespace||1===x.renderWhitespace||2===x.renderWhitespace&&x.selectionsOnLine||3===x.renderWhitespace)&&(Z=function I(x,T,R,Q){const Z=x.continuesWithWrappedLine,G=x.fauxIndentLength,F=x.tabSize,W=x.startVisibleColumn,B=x.useMonospaceOptimizations,z=x.selectionsOnLine,j=1===x.renderWhitespace,Y=3===x.renderWhitespace,E=x.renderSpaceWidth!==x.spaceWidth,V=[];let $=0,te=0,w=Q[te].type,fe=Q[te].containsRTL,be=Q[te].endIndex;const me=Q.length;let ce,Ie=!1,ee=f.LC(T);-1===ee?(Ie=!0,ee=R,ce=R):ce=f.ow(T);let he=!1,de=0,ge=z&&z[de],re=W%F;for(let Pe=G;Pe<R;Pe++){const Ve=T.charCodeAt(Pe);let ie;if(ge&&Pe>=ge.endOffset&&(de++,ge=z&&z[de]),Pe<ee||Pe>ce)ie=!0;else if(9===Ve)ie=!0;else if(32===Ve)if(j)if(he)ie=!0;else{const ye=Pe+1<R?T.charCodeAt(Pe+1):0;ie=32===ye||9===ye}else ie=!0;else ie=!1;if(ie&&z&&(ie=!!ge&&ge.startOffset<=Pe&&ge.endOffset>Pe),ie&&Y&&(ie=Ie||Pe>ce),ie&&fe&&Pe>=ee&&Pe<=ce&&(ie=!1),he){if(!ie||!B&&re>=F){if(E)for(let _e=($>0?V[$-1].endIndex:G)+1;_e<=Pe;_e++)V[$++]=new M(_e,"mtkw",1,!1);else V[$++]=new M(Pe,"mtkw",1,!1);re%=F}}else(Pe===be||ie&&Pe>G)&&(V[$++]=new M(Pe,w,0,fe),re%=F);for(9===Ve?re=F:f.K7(Ve)?re+=2:re++,he=ie;Pe===be&&(te++,te<me);)w=Q[te].type,fe=Q[te].containsRTL,be=Q[te].endIndex}let Se=!1;if(he)if(Z&&j){const Pe=R>0?T.charCodeAt(R-1):0,Ve=R>1?T.charCodeAt(R-2):0;32===Pe&&32!==Ve&&9!==Ve||(Se=!0)}else Se=!0;if(Se)if(E)for(let Ve=($>0?V[$-1].endIndex:G)+1;Ve<=R;Ve++)V[$++]=new M(Ve,"mtkw",1,!1);else V[$++]=new M(R,"mtkw",1,!1);else V[$++]=new M(R,w,0,fe);return V}(x,T,Q,Z));let G=0;if(x.lineDecorations.length>0){for(let F=0,W=x.lineDecorations.length;F<W;F++){const B=x.lineDecorations[F];3===B.type||1===B.type?G|=1:2===B.type&&(G|=2)}Z=function y(x,T,R,Q){Q.sort(L.Kp.compare);const Z=L.k.normalize(x,Q),G=Z.length;let F=0;const W=[];let B=0,z=0;for(let Y=0,E=R.length;Y<E;Y++){const V=R[Y],$=V.endIndex,te=V.type,w=V.metadata,fe=V.containsRTL;for(;F<G&&Z[F].startOffset<$;){const be=Z[F];if(be.startOffset>z&&(z=be.startOffset,W[B++]=new M(z,te,w,fe)),!(be.endOffset+1<=$)){z=$,W[B++]=new M(z,te+" "+be.className,w|be.metadata,fe);break}z=be.endOffset+1,W[B++]=new M(z,te+" "+be.className,w|be.metadata,fe),F++}$>z&&(z=$,W[B++]=new M(z,te,w,fe))}const j=R[R.length-1].endIndex;if(F<G&&Z[F].startOffset===j)for(;F<G&&Z[F].startOffset===j;){const Y=Z[F];W[B++]=new M(z,Y.className,Y.metadata,!1),F++}return W}(T,0,Z,x.lineDecorations)}return x.containsRTL||(Z=function v(x,T,R){let Q=0;const Z=[];let G=0;if(R)for(let F=0,W=T.length;F<W;F++){const B=T[F],z=B.endIndex;if(Q+50<z){const j=B.type,Y=B.metadata,E=B.containsRTL;let V=-1,$=Q;for(let te=Q;te<z;te++)32===x.charCodeAt(te)&&(V=te),-1!==V&&te-$>=50&&(Z[G++]=new M(V+1,j,Y,E),$=V+1,V=-1);$!==z&&(Z[G++]=new M(z,j,Y,E))}else Z[G++]=B;Q=z}else for(let F=0,W=T.length;F<W;F++){const B=T[F],z=B.endIndex,j=z-Q;if(j>50){const Y=B.type,E=B.metadata,V=B.containsRTL,$=Math.ceil(j/50);for(let te=1;te<$;te++)Z[G++]=new M(Q+50*te,Y,E,V);Z[G++]=new M(z,Y,E,V)}else Z[G++]=B;Q=z}return Z}(T,Z,!x.isBasicASCII||x.fontLigatures)),new c(x.useMonospaceOptimizations,x.canUseHalfwidthRightwardsArrow,T,Q,R,Z,G,x.fauxIndentLength,x.tabSize,x.startVisibleColumn,x.containsRTL,x.spaceWidth,x.renderSpaceCharCode,x.renderWhitespace,x.renderControlCharacters)}(x),T)}class a{constructor(T,R,Q,Z){this.characterMapping=T,this.html=R,this.containsRTL=Q,this.containsForeignElements=Z}}function p(x){const T=(0,s.l$)(1e4),R=_(x,T);return new a(R.characterMapping,T.build(),R.containsRTL,R.containsForeignElements)}class c{constructor(T,R,Q,Z,G,F,W,B,z,j,Y,E,V,$,te){this.fontIsMonospace=T,this.canUseHalfwidthRightwardsArrow=R,this.lineContent=Q,this.len=Z,this.isOverflowing=G,this.parts=F,this.containsForeignElements=W,this.fauxIndentLength=B,this.tabSize=z,this.startVisibleColumn=j,this.containsRTL=Y,this.spaceWidth=E,this.renderSpaceCharCode=V,this.renderWhitespace=$,this.renderControlCharacters=te}}function d(x){return x<32?9!==x:127===x||x>=8234&&x<=8238||x>=8294&&x<=8297||x>=8206&&x<=8207||1564===x}function b(x){return x.toString(16).toUpperCase().padStart(4,"0")}},91962:(at,ue,e)=>{"use strict";e.d(ue,{$l:()=>N,$t:()=>A,IP:()=>u,SQ:()=>_,Wx:()=>k,l_:()=>L,ud:()=>M,wA:()=>P});var f=e(93059),s=e(68451);class L{constructor(p,c,n,l){this._viewportBrand=void 0,this.top=0|p,this.left=0|c,this.width=0|n,this.height=0|l}}class M{constructor(p,c){this.tabSize=p,this.data=c}}class u{constructor(p,c,n,l,v,d,m){this._viewLineDataBrand=void 0,this.content=p,this.continuesWithWrappedLine=c,this.minColumn=n,this.maxColumn=l,this.startVisibleColumn=v,this.tokens=d,this.inlineDecorations=m}}class P{constructor(p,c,n,l,v,d,m,I,y,S){this.minColumn=p,this.maxColumn=c,this.content=n,this.continuesWithWrappedLine=l,this.isBasicASCII=P.isBasicASCII(n,d),this.containsRTL=P.containsRTL(n,this.isBasicASCII,v),this.tokens=m,this.inlineDecorations=I,this.tabSize=y,this.startVisibleColumn=S}static isBasicASCII(p,c){return!c||f.$i(p)}static containsRTL(p,c,n){return!(c||!n)&&f.Ut(p)}}class A{constructor(p,c,n){this.range=p,this.inlineClassName=c,this.type=n}}class k{constructor(p,c,n,l){this.startOffset=p,this.endOffset=c,this.inlineClassName=n,this.inlineClassNameAffectsLetterSpacing=l}toInlineDecoration(p){return new A(new s.e(p,this.startOffset+1,p,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class N{constructor(p,c){this._viewModelDecorationBrand=void 0,this.range=p,this.options=c}}class _{constructor(p,c,n){this.color=p,this.zIndex=c,this.data=n}static cmp(p,c){return p.zIndex===c.zIndex?p.color<c.color?-1:p.color>c.color?1:0:p.zIndex-c.zIndex}}},13772:(at,ue,e)=>{"use strict";e.d(ue,{EY:()=>s,Tj:()=>L});class f{constructor(u,P,A){this._colorZoneBrand=void 0,this.from=0|u,this.to=0|P,this.colorId=0|A}static compare(u,P){return u.colorId===P.colorId?u.from===P.from?u.to-P.to:u.from-P.from:u.colorId-P.colorId}}class s{constructor(u,P,A,k){this._overviewRulerZoneBrand=void 0,this.startLineNumber=u,this.endLineNumber=P,this.heightInLines=A,this.color=k,this._colorZone=null}static compare(u,P){return u.color===P.color?u.startLineNumber===P.startLineNumber?u.heightInLines===P.heightInLines?u.endLineNumber-P.endLineNumber:u.heightInLines-P.heightInLines:u.startLineNumber-P.startLineNumber:u.color<P.color?-1:1}setColorZone(u){this._colorZone=u}getColorZones(){return this._colorZone}}class L{constructor(u){this._getVerticalOffsetForLine=u,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(u){this._zones=u,this._zones.sort(s.compare)}setLineHeight(u){return this._lineHeight!==u&&(this._lineHeight=u,this._colorZonesInvalid=!0,!0)}setPixelRatio(u){this._pixelRatio=u,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(u){return this._domWidth!==u&&(this._domWidth=u,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(u){return this._domHeight!==u&&(this._domHeight=u,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(u){return this._outerHeight!==u&&(this._outerHeight=u,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const u=this._colorZonesInvalid,P=Math.floor(this._lineHeight),A=Math.floor(this.getCanvasHeight()),N=A/Math.floor(this._outerHeight),_=Math.floor(4*this._pixelRatio/2),a=[];for(let p=0,c=this._zones.length;p<c;p++){const n=this._zones[p];if(!u){const T=n.getColorZones();if(T){a.push(T);continue}}const l=this._getVerticalOffsetForLine(n.startLineNumber),v=0===n.heightInLines?this._getVerticalOffsetForLine(n.endLineNumber)+P:l+n.heightInLines*P,d=Math.floor(N*l),m=Math.floor(N*v);let I=Math.floor((d+m)/2),y=m-I;y<_&&(y=_),I-y<0&&(I=y),I+y>A&&(I=A-y);const S=n.color;let b=this._color2Id[S];b||(b=++this._lastAssignedId,this._color2Id[S]=b,this._id2Color[b]=S);const x=new f(I-y,I+y,b);n.setColorZone(x),a.push(x)}return this._colorZonesInvalid=!1,a.sort(f.compare),a}}},21322:(at,ue,e)=>{"use strict";e.d(ue,{$t:()=>A,CU:()=>u,Fd:()=>P,zg:()=>k});var f=e(94220),s=e(68451),L=e(91962),M=e(16367);class u{constructor(a,p,c,n,l){this.editorId=a,this.model=p,this.configuration=c,this._linesCollection=n,this._coordinatesConverter=l,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(a){const p=a.id;let c=this._decorationsCache[p];if(!c){const n=a.range,l=a.options;let v;if(l.isWholeLine){const d=this._coordinatesConverter.convertModelPositionToViewPosition(new f.L(n.startLineNumber,1),0),m=this._coordinatesConverter.convertModelPositionToViewPosition(new f.L(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)),1);v=new s.e(d.lineNumber,d.column,m.lineNumber,m.column)}else v=this._coordinatesConverter.convertModelRangeToViewRange(n,1);c=new L.$l(v,l),this._decorationsCache[p]=c}return c}getDecorationsViewportData(a){let p=null!==this._cachedModelDecorationsResolver;return p=p&&a.equalsRange(this._cachedModelDecorationsResolverViewRange),p||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(a),this._cachedModelDecorationsResolverViewRange=a),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(a){const p=new s.e(a,this._linesCollection.getViewLineMinColumn(a),a,this._linesCollection.getViewLineMaxColumn(a));return this._getDecorationsInRange(p).inlineDecorations[0]}_getDecorationsInRange(a){const p=this._linesCollection.getDecorationsInRange(a,this.editorId,(0,M.$J)(this.configuration.options)),c=a.startLineNumber,n=a.endLineNumber,l=[];let v=0;const d=[];for(let m=c;m<=n;m++)d[m-c]=[];for(let m=0,I=p.length;m<I;m++){const y=p[m],S=y.options;if(!P(this.model,y))continue;const b=this._getOrCreateViewModelDecoration(y),x=b.range;if(l[v++]=b,S.inlineClassName){const T=new L.$t(x,S.inlineClassName,S.inlineClassNameAffectsLetterSpacing?3:0),R=Math.max(c,x.startLineNumber),Q=Math.min(n,x.endLineNumber);for(let Z=R;Z<=Q;Z++)d[Z-c].push(T)}if(S.beforeContentClassName&&c<=x.startLineNumber&&x.startLineNumber<=n){const T=new L.$t(new s.e(x.startLineNumber,x.startColumn,x.startLineNumber,x.startColumn),S.beforeContentClassName,1);d[x.startLineNumber-c].push(T)}if(S.afterContentClassName&&c<=x.endLineNumber&&x.endLineNumber<=n){const T=new L.$t(new s.e(x.endLineNumber,x.endColumn,x.endLineNumber,x.endColumn),S.afterContentClassName,2);d[x.endLineNumber-c].push(T)}}return{decorations:l,inlineDecorations:d}}}function P(_,a){return!(a.options.hideInCommentTokens&&A(_,a)||a.options.hideInStringTokens&&k(_,a))}function A(_,a){return N(_,a.range,p=>1===p)}function k(_,a){return N(_,a.range,p=>2===p)}function N(_,a,p){for(let c=a.startLineNumber;c<=a.endLineNumber;c++){const n=_.tokenization.getLineTokens(c),v=c===a.endLineNumber;let d=c===a.startLineNumber?n.findTokenIndexAtOffset(a.startColumn-1):0;for(;d<n.getCount()&&!(v&&n.getStartOffset(d)>a.endColumn-1);){if(!p(n.getStandardTokenType(d)))return!1;d++}}return!0}},25359:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{SelectionAnchorSet:()=>G});var f=e(71578),s=e(22468),L=e(36950),M=e(93379),u=e.n(M),P=e(7795),A=e.n(P),k=e(90569),N=e.n(k),_=e(3565),a=e.n(_),p=e(19216),c=e.n(p),n=e(44589),l=e.n(n),v=e(34055),d={};d.styleTagTransform=l(),d.setAttributes=a(),d.insert=N().bind(null,"head"),d.domAPI=A(),d.insertStyleElement=c(),u()(v.Z,d);var y=e(95172),S=e(43210),b=e(29584),x=e(40402),T=e(59776),Z=function(Y,E,V,$){return new(V||(V=Promise))(function(w,fe){function be(ee){try{Ie($.next(ee))}catch(ce){fe(ce)}}function me(ee){try{Ie($.throw(ee))}catch(ce){fe(ce)}}function Ie(ee){ee.done?w(ee.value):function te(w){return w instanceof V?w:new V(function(fe){fe(w)})}(ee.value).then(be,me)}Ie(($=$.apply(Y,E||[])).next())})};const G=new T.uy("selectionAnchorSet",!1);let F=class Ad{constructor(E,V){this.editor=E,this.selectionAnchorSetContextKey=G.bindTo(V),this.modelChangeListener=E.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(E){return E.getContribution(Ad.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const E=this.editor.getPosition();this.editor.changeDecorations(V=>{this.decorationId&&V.removeDecoration(this.decorationId),this.decorationId=V.addDecoration(S.Y.fromPositions(E,E),{description:"selection-anchor",stickiness:1,hoverMessage:(new s.W5).appendText((0,x.NC)("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,f.Z9)((0,x.NC)("anchorSet","Anchor set at {0}:{1}",E.lineNumber,E.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const E=this.editor.getModel().getDecorationRange(this.decorationId);E&&this.editor.setPosition(E.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const E=this.editor.getModel().getDecorationRange(this.decorationId);if(E){const V=this.editor.getPosition();this.editor.setSelection(S.Y.fromPositions(E.getStartPosition(),V)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const E=this.decorationId;this.editor.changeDecorations(V=>{V.removeDecoration(E),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};var E;F.ID="editor.contrib.selectionAnchorController",F=function(Y,E,V,$){var fe,te=arguments.length,w=te<3?E:null===$?$=Object.getOwnPropertyDescriptor(E,V):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(Y,E,V,$);else for(var be=Y.length-1;be>=0;be--)(fe=Y[be])&&(w=(te<3?fe(w):te>3?fe(E,V,w):fe(E,V))||w);return te>3&&w&&Object.defineProperty(E,V,w),w}([(1,E=T.i6,function(V,$){E(V,$,1)})],F),(0,y._K)(F.ID,F),(0,y.Qr)(class W extends y.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,x.NC)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:b.u.editorTextFocus,primary:(0,L.gx)(2089,2080),weight:100}})}run(E,V){var $;return Z(this,void 0,void 0,function*(){null===($=F.get(V))||void 0===$||$.setSelectionAnchor()})}}),(0,y.Qr)(class B extends y.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,x.NC)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:G})}run(E,V){var $;return Z(this,void 0,void 0,function*(){null===($=F.get(V))||void 0===$||$.goToSelectionAnchor()})}}),(0,y.Qr)(class z extends y.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,x.NC)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:G,kbOpts:{kbExpr:b.u.editorTextFocus,primary:(0,L.gx)(2089,2089),weight:100}})}run(E,V){var $;return Z(this,void 0,void 0,function*(){null===($=F.get(V))||void 0===$||$.selectFromAnchorToCursor()})}}),(0,y.Qr)(class j extends y.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,x.NC)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:G,kbOpts:{kbExpr:b.u.editorTextFocus,primary:9,weight:100}})}run(E,V){var $;return Z(this,void 0,void 0,function*(){null===($=F.get(V))||void 0===$||$.cancelSelectionAnchor()})}})},4310:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{BracketMatchingController:()=>E});var f=e(63072),s=e(52425),L=e(93379),M=e.n(L),u=e(7795),P=e.n(u),A=e(90569),k=e.n(A),N=e(3565),_=e.n(N),a=e(19216),p=e.n(a),c=e(44589),n=e.n(c),l=e(12205),v={};v.styleTagTransform=n(),v.setAttributes=_(),v.insert=k().bind(null,"head"),v.domAPI=P(),v.insertStyleElement=p(),M()(l.Z,v);var I=e(95172),y=e(94220),S=e(68451),b=e(43210),x=e(29584),T=e(32213),R=e(3508),Q=e(53448),Z=e(40402),G=e(61004),F=e(28708),W=e(23024);const B=(0,F.P6G)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},Z.NC("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class Y{constructor($,te,w){this.position=$,this.brackets=te,this.options=w}}class E extends s.JT{constructor($){super(),this._editor=$,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new f.pY(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(66),this._updateBracketsSoon.schedule(),this._register($.onDidChangeCursorPosition(te=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()})),this._register($.onDidChangeModelContent(te=>{this._updateBracketsSoon.schedule()})),this._register($.onDidChangeModel(te=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register($.onDidChangeModelLanguageConfiguration(te=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register($.onDidChangeConfiguration(te=>{te.hasChanged(66)&&(this._matchBrackets=this._editor.getOption(66),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register($.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register($.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get($){return $.getContribution(E.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const $=this._editor.getModel(),te=this._editor.getSelections().map(w=>{const fe=w.getStartPosition(),be=$.bracketPairs.matchBracket(fe);let me=null;if(be)be[0].containsPosition(fe)&&!be[1].containsPosition(fe)?me=be[1].getStartPosition():be[1].containsPosition(fe)&&(me=be[0].getStartPosition());else{const Ie=$.bracketPairs.findEnclosingBrackets(fe);if(Ie)me=Ie[1].getStartPosition();else{const ee=$.bracketPairs.findNextBracket(fe);ee&&ee.range&&(me=ee.range.getStartPosition())}}return me?new b.Y(me.lineNumber,me.column,me.lineNumber,me.column):new b.Y(fe.lineNumber,fe.column,fe.lineNumber,fe.column)});this._editor.setSelections(te),this._editor.revealRange(te[0])}selectToBracket($){if(!this._editor.hasModel())return;const te=this._editor.getModel(),w=[];this._editor.getSelections().forEach(fe=>{const be=fe.getStartPosition();let me=te.bracketPairs.matchBracket(be);if(!me&&(me=te.bracketPairs.findEnclosingBrackets(be),!me)){const ce=te.bracketPairs.findNextBracket(be);ce&&ce.range&&(me=te.bracketPairs.matchBracket(ce.range.getStartPosition()))}let Ie=null,ee=null;if(me){me.sort(S.e.compareRangesUsingStarts);const[ce,he]=me;if(Ie=$?ce.getStartPosition():ce.getEndPosition(),ee=$?he.getEndPosition():he.getStartPosition(),he.containsPosition(be)){const de=Ie;Ie=ee,ee=de}}Ie&&ee&&w.push(new b.Y(Ie.lineNumber,Ie.column,ee.lineNumber,ee.column))}),w.length>0&&(this._editor.setSelections(w),this._editor.revealRange(w[0]))}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();const $=[];let te=0;for(const w of this._lastBracketsData){const fe=w.brackets;fe&&($[te++]={range:fe[0],options:w.options},$[te++]={range:fe[1],options:w.options})}this._decorations.set($)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return this._lastBracketsData=[],void(this._lastVersionId=0);const $=this._editor.getSelections();if($.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);const te=this._editor.getModel(),w=te.getVersionId();let fe=[];this._lastVersionId===w&&(fe=this._lastBracketsData);const be=[];let me=0;for(let de=0,ge=$.length;de<ge;de++){const re=$[de];re.isEmpty()&&(be[me++]=re.getStartPosition())}be.length>1&&be.sort(y.L.compare);const Ie=[];let ee=0,ce=0;const he=fe.length;for(let de=0,ge=be.length;de<ge;de++){const re=be[de];for(;ce<he&&fe[ce].position.isBefore(re);)ce++;if(ce<he&&fe[ce].position.equals(re))Ie[ee++]=fe[ce];else{let Se=te.bracketPairs.matchBracket(re,20),Pe=E._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!Se&&"always"===this._matchBrackets&&(Se=te.bracketPairs.findEnclosingBrackets(re,20),Pe=E._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),Ie[ee++]=new Y(re,Se,Pe)}}this._lastBracketsData=Ie,this._lastVersionId=w}}E.ID="editor.contrib.bracketMatchingController",E._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=R.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,W.EN)(B),position:T.sh.Center}}),E._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=R.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,I._K)(E.ID,E),(0,I.Qr)(class j extends I.R6{constructor(){super({id:"editor.action.selectToBracket",label:Z.NC("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run($,te,w){var fe;let be=!0;w&&!1===w.selectBrackets&&(be=!1),null===(fe=E.get(te))||void 0===fe||fe.selectToBracket(be)}}),(0,I.Qr)(class z extends I.R6{constructor(){super({id:"editor.action.jumpToBracket",label:Z.NC("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:x.u.editorTextFocus,primary:3160,weight:100}})}run($,te){var w;null===(w=E.get(te))||void 0===w||w.jumpToBracket()}}),(0,W.Ic)((V,$)=>{const te=V.getColor(Q.TC);te&&$.addRule(`.monaco-editor .bracket-match { background-color: ${te}; }`);const w=V.getColor(Q.Dl);w&&$.addRule(`.monaco-editor .bracket-match { border: 1px solid ${w}; }`)}),G.BH.appendMenuItem(G.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:Z.NC({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},52026:(at,ue,e)=>{"use strict";e.r(ue);var f=e(95172),s=e(29584),L=e(68451),M=e(43210);class u{constructor(a,p){this._selection=a,this._isMovingLeft=p}getEditOperations(a,p){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const c=this._selection.startLineNumber,n=this._selection.startColumn,l=this._selection.endColumn;if((!this._isMovingLeft||1!==n)&&(this._isMovingLeft||l!==a.getLineMaxColumn(c)))if(this._isMovingLeft){const v=new L.e(c,n-1,c,n),d=a.getValueInRange(v);p.addEditOperation(v,null),p.addEditOperation(new L.e(c,l,c,l),d)}else{const v=new L.e(c,l,c,l+1),d=a.getValueInRange(v);p.addEditOperation(v,null),p.addEditOperation(new L.e(c,n,c,n),d)}}computeCursorState(a,p){return this._isMovingLeft?new M.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new M.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}var P=e(40402);class A extends f.R6{constructor(a,p){super(p),this.left=a}run(a,p){if(!p.hasModel())return;const c=[],n=p.getSelections();for(const l of n)c.push(new u(l,this.left));p.pushUndoStop(),p.executeCommands(this.id,c),p.pushUndoStop()}}(0,f.Qr)(class k extends A{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:P.NC("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:s.u.writable})}}),(0,f.Qr)(class N extends A{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:P.NC("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:s.u.writable})}})},48453:(at,ue,e)=>{"use strict";e.r(ue);var f=e(95172),s=e(85753),L=e(96696),M=e(68451),u=e(29584),P=e(40402);(0,f.Qr)(class A extends f.R6{constructor(){super({id:"editor.action.transposeLetters",label:P.NC("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:u.u.writable,kbOpts:{kbExpr:u.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(N,_){if(!_.hasModel())return;const a=_.getModel(),p=[],c=_.getSelections();for(const n of c){if(!n.isEmpty())continue;const l=n.startLineNumber,v=n.startColumn,d=a.getLineMaxColumn(l);if(1===l&&(1===v||2===v&&2===d))continue;const m=v===d?n.getPosition():L.o.rightPosition(a,n.getPosition().lineNumber,n.getPosition().column),I=L.o.leftPosition(a,m),y=L.o.leftPosition(a,I),S=a.getValueInRange(M.e.fromPositions(y,I)),b=a.getValueInRange(M.e.fromPositions(I,m)),x=M.e.fromPositions(y,m);p.push(new s.T4(x,b+S))}p.length>0&&(_.pushUndoStop(),_.executeCommands(this.id,p),_.pushUndoStop())}})},63783:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{CopyAction:()=>d,CutAction:()=>v,PasteAction:()=>m});var f=e(13366),s=e(38972),L=e(47462),M=e(95172),u=e(7221),P=e(29584),A=e(40402),k=e(61004),N=e(80777);const a="9_cutcopypaste",p=s.tY||document.queryCommandSupported("cut"),c=s.tY||document.queryCommandSupported("copy"),n=void 0!==navigator.clipboard&&!f.isFirefox||document.queryCommandSupported("paste");function l(S){return S.register(),S}const v=p?l(new M.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:s.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:k.eH.MenubarEditMenu,group:"2_ccp",title:A.NC({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:k.eH.EditorContext,group:a,title:A.NC("actions.clipboard.cutLabel","Cut"),when:P.u.writable,order:1},{menuId:k.eH.CommandPalette,group:"",title:A.NC("actions.clipboard.cutLabel","Cut"),order:1},{menuId:k.eH.SimpleEditorContext,group:a,title:A.NC("actions.clipboard.cutLabel","Cut"),when:P.u.writable,order:1}]})):void 0,d=c?l(new M.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:s.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:k.eH.MenubarEditMenu,group:"2_ccp",title:A.NC({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:k.eH.EditorContext,group:a,title:A.NC("actions.clipboard.copyLabel","Copy"),order:2},{menuId:k.eH.CommandPalette,group:"",title:A.NC("actions.clipboard.copyLabel","Copy"),order:1},{menuId:k.eH.SimpleEditorContext,group:a,title:A.NC("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;k.BH.appendMenuItem(k.eH.MenubarEditMenu,{submenu:k.eH.MenubarCopy,title:{value:A.NC("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),k.BH.appendMenuItem(k.eH.EditorContext,{submenu:k.eH.EditorContextCopy,title:{value:A.NC("copy as","Copy As"),original:"Copy As"},group:a,order:3}),k.BH.appendMenuItem(k.eH.EditorContext,{submenu:k.eH.EditorContextShare,title:{value:A.NC("share","Share"),original:"Share"},group:"11_share",order:-1});const m=n?l(new M.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:s.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:k.eH.MenubarEditMenu,group:"2_ccp",title:A.NC({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:k.eH.EditorContext,group:a,title:A.NC("actions.clipboard.pasteLabel","Paste"),when:P.u.writable,order:4},{menuId:k.eH.CommandPalette,group:"",title:A.NC("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:k.eH.SimpleEditorContext,group:a,title:A.NC("actions.clipboard.pasteLabel","Paste"),when:P.u.writable,order:4}]})):void 0;function y(S,b){!S||(S.addImplementation(1e4,"code-editor",(x,T)=>{const R=x.get(u.$).getFocusedCodeEditor();if(R&&R.hasTextFocus()){const Q=R.getOption(33),Z=R.getSelection();return Z&&Z.isEmpty()&&!Q||document.execCommand(b),!0}return!1}),S.addImplementation(0,"generic-dom",(x,T)=>(document.execCommand(b),!0)))}y(v,"cut"),y(d,"copy"),m&&(m.addImplementation(1e4,"code-editor",(S,b)=>{const x=S.get(u.$),T=S.get(N.p),R=x.getFocusedCodeEditor();return!(!R||!R.hasTextFocus())&&(!(!document.execCommand("paste")&&s.$L)||function(S,b,x,T){return new(x||(x=Promise))(function(Q,Z){function G(B){try{W(T.next(B))}catch(z){Z(z)}}function F(B){try{W(T.throw(B))}catch(z){Z(z)}}function W(B){B.done?Q(B.value):function R(Q){return Q instanceof x?Q:new x(function(Z){Z(Q)})}(B.value).then(G,F)}W((T=T.apply(S,b||[])).next())})}(void 0,void 0,void 0,function*(){const Z=yield T.readText();if(""!==Z){const G=L.Nl.INSTANCE.get(Z);let F=!1,W=null,B=null;G&&(F=R.getOption(33)&&!!G.isFromEmptySelection,W=void 0!==G.multicursorText?G.multicursorText:null,B=G.mode),R.trigger("keyboard","paste",{text:Z,pasteOnNewLine:F,multicursorText:W,mode:B})}}))}),m.addImplementation(0,"generic-dom",(S,b)=>(document.execCommand("paste"),!0))),c&&(0,M.Qr)(class I extends M.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:A.NC("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:P.u.textInputFocus,primary:0,weight:100}})}run(b,x){!x.hasModel()||!x.getOption(33)&&x.getSelection().isEmpty()||(L.RA.forceCopyWithSyntaxHighlighting=!0,x.focus(),document.execCommand("copy"),L.RA.forceCopyWithSyntaxHighlighting=!1)}})},63124:(at,ue,e)=>{"use strict";e.d(ue,{Bb:()=>v,MN:()=>m,RB:()=>l,TM:()=>y,aI:()=>T,bA:()=>S,sh:()=>d,uH:()=>I});var f=e(18337),s=e(80152),L=e(53663),M=e(52425),u=e(74672),P=e(23914),A=e(68451),k=e(43210),N=e(8648),_=e(23884),a=e(22534),p=e(57025),c=e(37464),n=function(Z,G,F,W){return new(F||(F=Promise))(function(z,j){function Y($){try{V(W.next($))}catch(te){j(te)}}function E($){try{V(W.throw($))}catch(te){j(te)}}function V($){$.done?z($.value):function B(z){return z instanceof F?z:new F(function(j){j(z)})}($.value).then(Y,E)}V((W=W.apply(Z,G||[])).next())})};const l="editor.action.codeAction",v="editor.action.refactor",d="editor.action.refactor.preview",m="editor.action.sourceAction",I="editor.action.organizeImports",y="editor.action.fixAll";class S{constructor(G,F){this.action=G,this.provider=F}resolve(G){var F;return n(this,void 0,void 0,function*(){if((null===(F=this.provider)||void 0===F?void 0:F.resolveCodeAction)&&!this.action.edit){let W;try{W=yield this.provider.resolveCodeAction(this.action,G)}catch(B){(0,L.Cp)(B)}W&&(this.action.edit=W.edit)}return this})}}class b extends M.JT{constructor(G,F,W){super(),this.documentation=F,this._register(W),this.allActions=[...G].sort(b.codeActionsComparator),this.validActions=this.allActions.filter(({action:B})=>!B.disabled)}static codeActionsComparator({action:G},{action:F}){return G.isPreferred&&!F.isPreferred?-1:!G.isPreferred&&F.isPreferred?1:(0,f.Of)(G.diagnostics)?(0,f.Of)(F.diagnostics)?G.diagnostics[0].message.localeCompare(F.diagnostics[0].message):-1:(0,f.Of)(F.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:G})=>!!G.kind&&p.yN.QuickFix.contains(new p.yN(G.kind))&&!!G.isPreferred)}}const x={actions:[],documentation:void 0};function T(Z,G,F,W,B,z){var j;const Y=W.filter||{},E={only:null===(j=Y.include)||void 0===j?void 0:j.value,trigger:W.type},V=new P.YQ(G,z),$=function R(Z,G,F){return Z.all(G).filter(W=>!W.providedCodeActionKinds||W.providedCodeActionKinds.some(B=>(0,p.EU)(F,new p.yN(B))))}(Z,G,Y),te=new M.SL,w=$.map(be=>n(this,void 0,void 0,function*(){try{B.report(be);const me=yield be.provideCodeActions(G,F,E,V.token);if(me&&te.add(me),V.token.isCancellationRequested)return x;const Ie=((null==me?void 0:me.actions)||[]).filter(ce=>ce&&(0,p.Yl)(Y,ce)),ee=function Q(Z,G,F){if(!Z.documentation)return;const W=Z.documentation.map(B=>({kind:new p.yN(B.kind),command:B.command}));if(F){let B;for(const z of W)z.kind.contains(F)&&(B?B.kind.contains(z.kind)&&(B=z):B=z);if(B)return null==B?void 0:B.command}for(const B of G)if(B.kind)for(const z of W)if(z.kind.contains(new p.yN(B.kind)))return z.command}(be,Ie,Y.include);return{actions:Ie.map(ce=>new S(ce,be)),documentation:ee}}catch(me){if((0,L.n2)(me))throw me;return(0,L.Cp)(me),x}})),fe=Z.onDidChange(()=>{const be=Z.all(G);(0,f.fS)(be,$)||V.cancel()});return Promise.all(w).then(be=>{const me=be.map(ee=>ee.actions).flat(),Ie=(0,f.kX)(be.map(ee=>ee.documentation));return new b(me,Ie,te)}).finally(()=>{fe.dispose(),V.dispose()})}_.P0.registerCommand("_executeCodeActionProvider",function(Z,G,F,W,B){return n(this,void 0,void 0,function*(){if(!(G instanceof u.o))throw(0,L.b1)();const{codeActionProvider:z}=Z.get(c.p),j=Z.get(N.q).getModel(G);if(!j)throw(0,L.b1)();const Y=k.Y.isISelection(F)?k.Y.liftSelection(F):A.e.isIRange(F)?j.validateRange(F):void 0;if(!Y)throw(0,L.b1)();const E="string"==typeof W?new p.yN(W):void 0,V=yield T(z,j,Y,{type:1,triggerAction:p.aQ.Default,filter:{includeSourceActions:!0,include:E}},a.Ex.None,s.T.None),$=[],te=Math.min(V.validActions.length,"number"==typeof B?B:0);for(let w=0;w<te;w++)$.push(V.validActions[w].resolve(s.T.None));try{return yield Promise.all($),V.validActions.map(w=>w.action)}finally{setTimeout(()=>V.dispose(),100)}})})},40184:(at,ue,e)=>{"use strict";e.d(ue,{S5:()=>li,dW:()=>En,Hv:()=>Di,o$:()=>ei,E7:()=>yn,pY:()=>Yt,Eb:()=>xn,UG:()=>Un,VQ:()=>ai});var f=e(80152),s=e(20991),L=e(52425),M=e(93059),u=e(95172),P=e(84067),A=e(29584),k=e(37464),N=e(63124),_=e(53663),a=e(10806),p=e(64725),c=e(58059),n=e(17367),l=e(85113),v=e(93379),d=e.n(v),m=e(7795),I=e.n(m),y=e(90569),S=e.n(y),b=e(3565),x=e.n(b),T=e(19216),R=e.n(T),Q=e(44589),Z=e.n(Q),G=e(97598),F={};F.styleTagTransform=Z(),F.setAttributes=x(),F.insert=S().bind(null,"head"),F.domAPI=I(),F.insertStyleElement=R(),d()(G.Z,F);var z=e(94220),j=e(57025),Y=e(40402),E=e(9869),V=e(59776),$=e(34394),te=e(77090),w=e(19881),fe=e(23024),be=function(Dn,Dt,Te,oe){var it,Le=arguments.length,We=Le<3?Dt:null===oe?oe=Object.getOwnPropertyDescriptor(Dt,Te):oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)We=Reflect.decorate(Dn,Dt,Te,oe);else for(var pt=Dn.length-1;pt>=0;pt--)(it=Dn[pt])&&(We=(Le<3?it(We):Le>3?it(Dt,Te,We):it(Dt,Te))||We);return Le>3&&We&&Object.defineProperty(Dt,Te,We),We},me=function(Dn,Dt){return function(Te,oe){Dt(Te,oe,Dn)}};const ee={Visible:new V.uy("CodeActionMenuVisible",!1,(0,Y.NC)("CodeActionMenuVisible","Whether the code action list widget is visible"))};class ce extends l.aU{constructor(Dt,Te){super(Dt.command?Dt.command.id:Dt.title,function he(Dn){return Dn.replace(/\r\n|\r|\n/g," ")}(Dt.title),void 0,!Dt.disabled,Te),this.action=Dt}}let re=class{constructor(Dt,Te){this.acceptKeybindings=Dt,this.keybindingService=Te}get templateId(){return"codeActionWidget"}renderTemplate(Dt){const Te=Object.create(null);return Te.disposables=[],Te.root=Dt,Te.text=document.createElement("span"),Dt.append(Te.text),Te}renderElement(Dt,Te,oe){const Le=oe,it=Dt.isEnabled,pt=Dt.isSeparator,Et=Dt.isDocumentation;Le.text.textContent=Dt.title,it?Le.root.classList.remove("option-disabled"):(Le.root.classList.add("option-disabled"),Le.root.style.backgroundColor="transparent !important"),pt&&(Le.root.classList.add("separator"),Le.root.style.height="10px"),Et||(()=>{var sn,pn;const[In,On]=this.acceptKeybindings;Le.root.title=(0,Y.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Refactor, Shift+F2 to Preview"']},"{0} to Refactor, {1} to Preview",null===(sn=this.keybindingService.lookupKeybinding(In))||void 0===sn?void 0:sn.getLabel(),null===(pn=this.keybindingService.lookupKeybinding(On))||void 0===pn?void 0:pn.getLabel())})()}disposeTemplate(Dt){Dt.disposables=(0,L.B9)(Dt.disposables)}};re=be([me(1,te.d)],re);let Se=class zl extends L.JT{constructor(Dt,Te,oe,Le,We,it,pt,Et,Ut,sn){super(),this._editor=Dt,this._delegate=Te,this._contextMenuService=oe,this._languageFeaturesService=We,this._telemetryService=it,this._configurationService=Et,this._contextViewService=Ut,this._contextKeyService=sn,this._showingActions=this._register(new L.XK),this.codeActionList=this._register(new L.XK),this.options=[],this._visible=!1,this.viewItems=[],this.hasSeperator=!1,this._keybindingResolver=new Pe({getKeybindings:()=>Le.getKeybindings()}),this._ctxMenuWidgetVisible=ee.Visible.bindTo(this._contextKeyService),this.listRenderer=new re(["onEnterSelectCodeAction","onEnterSelectCodeActionWithPreview"],Le)}get isVisible(){return this._visible}isCodeActionWidgetEnabled(Dt){return this._configurationService.getValue("editor.experimental.useCustomCodeActionMenu",{resource:Dt.uri})}_onListSelection(Dt){Dt.elements.length&&Dt.elements.forEach(Te=>{Te.isEnabled&&(Te.action.run(),this.hideCodeActionWidget())})}_onListHover(Dt){var Te,oe,Le,We;Dt.element?null!==(oe=Dt.element)&&void 0!==oe&&oe.isEnabled?(null===(Le=this.codeActionList.value)||void 0===Le||Le.setFocus([Dt.element.index]),this.focusedEnabledItem=this.viewItems.indexOf(Dt.element),this.currSelectedItem=Dt.element.index):(this.currSelectedItem=void 0,null===(We=this.codeActionList.value)||void 0===We||We.setFocus([Dt.element.index])):(this.currSelectedItem=void 0,null===(Te=this.codeActionList.value)||void 0===Te||Te.setFocus([]))}renderCodeActionMenuList(Dt,Te){var oe;const Le=new L.SL,We=document.createElement("div"),it=document.createElement("div");this.block=Dt.appendChild(it),this.block.classList.add("context-view-block"),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",Le.add(c.nm(this.block,c.tw.MOUSE_DOWN,In=>In.stopPropagation())),We.id="codeActionMenuWidget",We.classList.add("codeActionMenuWidget"),Dt.appendChild(We),this.codeActionList.value=new n.aV("codeActionWidget",We,{getHeight:In=>In.isSeparator?10:26,getTemplateId:In=>"codeActionWidget"},[this.listRenderer],{keyboardSupport:!1}),Le.add(this.codeActionList.value.onMouseOver(In=>this._onListHover(In))),Le.add(this.codeActionList.value.onDidChangeFocus(In=>{var On;return null===(On=this.codeActionList.value)||void 0===On?void 0:On.domFocus()})),Le.add(this.codeActionList.value.onDidChangeSelection(In=>this._onListSelection(In))),Le.add(this._editor.onDidLayoutChange(In=>this.hideCodeActionWidget())),Te.forEach((In,On)=>{const Tn="separator"===In.class;let kn=!1;In instanceof ce&&(kn=In.action.kind===zl.documentationID),Tn&&(this.hasSeperator=!0);const An={title:In.label,detail:In.tooltip,action:Te[On],isEnabled:In.enabled,isSeparator:Tn,index:On,isDocumentation:kn};In.enabled&&this.viewItems.push(An),this.options.push(An)}),this.codeActionList.value.splice(0,this.codeActionList.value.length,this.options);const pt=this.hasSeperator?26*(Te.length-1)+10:26*Te.length;We.style.height=String(pt)+"px",this.codeActionList.value.layout(pt);const Et=[];this.options.forEach((In,On)=>{var Tn,kn;if(!this.codeActionList.value)return;const An=null===(kn=document.getElementById(null===(Tn=this.codeActionList.value)||void 0===Tn?void 0:Tn.getElementID(On)))||void 0===kn?void 0:kn.getElementsByTagName("span")[0].offsetWidth;Et.push(Number(An))});const Ut=Math.max(...Et);We.style.width=Ut+52+"px",null===(oe=this.codeActionList.value)||void 0===oe||oe.layout(pt,Ut),this.viewItems.length<1||this.viewItems.every(In=>In.isDocumentation)?this.currSelectedItem=void 0:(this.focusedEnabledItem=0,this.currSelectedItem=this.viewItems[0].index,this.codeActionList.value.setFocus([this.currSelectedItem])),this.codeActionList.value.domFocus();const sn=c.go(Dt),pn=sn.onDidBlur(()=>{this.hideCodeActionWidget()});return Le.add(pn),Le.add(sn),this._ctxMenuWidgetVisible.set(!0),Le}focusPrevious(){var Dt;if(void 0===this.focusedEnabledItem)this.focusedEnabledItem=this.viewItems[0].index;else if(this.viewItems.length<1)return!1;const Te=this.focusedEnabledItem;let oe;do{this.focusedEnabledItem=this.focusedEnabledItem-1,this.focusedEnabledItem<0&&(this.focusedEnabledItem=this.viewItems.length-1),oe=this.viewItems[this.focusedEnabledItem],null===(Dt=this.codeActionList.value)||void 0===Dt||Dt.setFocus([oe.index]),this.currSelectedItem=oe.index}while(this.focusedEnabledItem!==Te&&(!oe.isEnabled||oe.action.id===l.Z0.ID));return!0}focusNext(){var Dt;if(void 0===this.focusedEnabledItem)this.focusedEnabledItem=this.viewItems.length-1;else if(this.viewItems.length<1)return!1;const Te=this.focusedEnabledItem;let oe;do{this.focusedEnabledItem=(this.focusedEnabledItem+1)%this.viewItems.length,oe=this.viewItems[this.focusedEnabledItem],null===(Dt=this.codeActionList.value)||void 0===Dt||Dt.setFocus([oe.index]),this.currSelectedItem=oe.index}while(this.focusedEnabledItem!==Te&&(!oe.isEnabled||oe.action.id===l.Z0.ID));return!0}navigateListWithKeysUp(){this.focusPrevious()}navigateListWithKeysDown(){this.focusNext()}onEnterSet(){var Dt;"number"==typeof this.currSelectedItem&&(null===(Dt=this.codeActionList.value)||void 0===Dt||Dt.setSelection([this.currSelectedItem]))}dispose(){super.dispose()}hideCodeActionWidget(){this._ctxMenuWidgetVisible.reset(),this.options=[],this.viewItems=[],this.focusedEnabledItem=0,this.currSelectedItem=void 0,this.hasSeperator=!1,this._contextViewService.hideContextView({source:this})}codeActionTelemetry(Dt,Te,oe){this._telemetryService.publicLog2("codeAction.applyCodeAction",{codeActionFrom:Dt,validCodeActions:oe.validActions.length,cancelled:Te})}show(Dt,Te,oe,Le){return function(Dn,Dt,Te,oe){return new(Te||(Te=Promise))(function(We,it){function pt(sn){try{Ut(oe.next(sn))}catch(pn){it(pn)}}function Et(sn){try{Ut(oe.throw(sn))}catch(pn){it(pn)}}function Ut(sn){sn.done?We(sn.value):function Le(We){return We instanceof Te?We:new Te(function(it){it(We)})}(sn.value).then(pt,Et)}Ut((oe=oe.apply(Dn,Dt||[])).next())})}(this,void 0,void 0,function*(){const We=this._editor.getModel();if(!We)return;const it=Le.includeDisabledActions?Te.allActions:Te.validActions;if(!it.length)return void(this._visible=!1);if(!this._editor.getDomNode())throw this._visible=!1,(0,_.F0)();this._visible=!0,this._showingActions.value=Te;const pt=this.getMenuActions(Dt,it,Te.documentation),Et=z.L.isIPosition(oe)?this._toCoords(oe):oe||{x:0,y:0},Ut=this._keybindingResolver.getResolver(),sn=this._editor.getOption(117);this.isCodeActionWidgetEnabled(We)?this._contextViewService.showContextView({getAnchor:()=>Et,render:pn=>this.renderCodeActionMenuList(pn,pt),onHide:pn=>{this.codeActionTelemetry(Le.fromLightbulb?j.aQ.Lightbulb:Dt.triggerAction,pn,Te),this._visible=!1,this._editor.focus()}},this._editor.getDomNode(),!1):this._contextMenuService.showContextMenu({domForShadowRoot:sn?this._editor.getDomNode():void 0,getAnchor:()=>Et,getActions:()=>pt,onHide:pn=>{this.codeActionTelemetry(Le.fromLightbulb?j.aQ.Lightbulb:Dt.triggerAction,pn,Te),this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:pn=>pn instanceof ce?Ut(pn.action):void 0})})}getMenuActions(Dt,Te,oe){var Le,We;const it=sn=>new ce(sn.action,()=>this._delegate.onSelectCodeAction(sn,Dt)),pt=Te.map(it),Et=[...oe],Ut=this._editor.getModel();if(Ut&&pt.length)for(const sn of this._languageFeaturesService.codeActionProvider.all(Ut))sn._getAdditionalMenuItems&&Et.push(...sn._getAdditionalMenuItems({trigger:Dt.type,only:null===(We=null===(Le=Dt.filter)||void 0===Le?void 0:Le.include)||void 0===We?void 0:We.value},Te.map(pn=>pn.action)));return Et.length&&pt.push(new l.Z0,...Et.map(sn=>it(new N.bA({title:sn.title,command:sn,kind:zl.documentationID},void 0)))),pt}_toCoords(Dt){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(Dt,1),this._editor.render();const Te=this._editor.getScrolledVisiblePosition(Dt),oe=c.i(this._editor.getDomNode());return{x:oe.left+Te.left,y:oe.top+Te.top+Te.height}}};Se.documentationID="_documentation",Se=be([me(2,$.i),me(3,te.d),me(4,k.p),me(5,w.b),me(6,fe.XE),me(7,E.Ui),me(8,$.u),me(9,V.i6)],Se);let Pe=(()=>{class Dn{constructor(Te){this._keybindingProvider=Te}getResolver(){const Te=new s.o(()=>this._keybindingProvider.getKeybindings().filter(oe=>Dn.codeActionCommands.indexOf(oe.command)>=0).filter(oe=>oe.resolvedKeybinding).map(oe=>{let Le=oe.commandArgs;return oe.command===N.uH?Le={kind:j.yN.SourceOrganizeImports.value}:oe.command===N.TM&&(Le={kind:j.yN.SourceFixAll.value}),Object.assign({resolvedKeybinding:oe.resolvedKeybinding},j.wZ.fromUser(Le,{kind:j.yN.None,apply:"never"}))}));return oe=>{if(oe.kind){const Le=this.bestKeybindingForCodeAction(oe,Te.getValue());return null==Le?void 0:Le.resolvedKeybinding}}}bestKeybindingForCodeAction(Te,oe){if(!Te.kind)return;const Le=new j.yN(Te.kind);return oe.filter(We=>We.kind.contains(Le)).filter(We=>!We.preferred||Te.isPreferred).reduceRight((We,it)=>We?We.kind.contains(it.kind)?it:We:it,void 0)}}return Dn.codeActionCommands=[N.Bb,N.RB,N.MN,N.uH,N.TM],Dn})();var Ve=e(79680),ie=e(2450),ye=e(52787),_e=e(32874),Be={};Be.styleTagTransform=Z(),Be.setAttributes=x(),Be.insert=S().bind(null,"head"),Be.domAPI=I(),Be.insertStyleElement=R(),d()(_e.Z,Be);var ne,pe=e(6589),De=e(28708);!function(Dn){Dn.Hidden={type:0},Dn.Showing=class Dt{constructor(oe,Le,We,it){this.actions=oe,this.trigger=Le,this.editorPosition=We,this.widgetPosition=it,this.type=1}}}(ne||(ne={}));let xe=class Pd extends L.JT{constructor(Dt,Te,oe,Le){super(),this._editor=Dt,this._quickFixActionId=Te,this._preferredFixActionId=oe,this._keybindingService=Le,this._onClick=this._register(new ye.Q5),this.onClick=this._onClick.event,this._state=ne.Hidden,this._domNode=document.createElement("div"),this._domNode.className=ie.lA.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(We=>{const it=this._editor.getModel();(1!==this.state.type||!it||this.state.editorPosition.lineNumber>=it.getLineCount())&&this.hide()})),Ve.o.ignoreTarget(this._domNode),this._register(c.GQ(this._domNode,We=>{if(1!==this.state.type)return;this._editor.focus(),We.preventDefault();const{top:it,height:pt}=c.i(this._domNode),Et=this._editor.getOption(61);let Ut=Math.floor(Et/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(Ut+=Et),this._onClick.fire({x:We.posx,y:it+pt+Ut,actions:this.state.actions,trigger:this.state.trigger})})),this._register(c.nm(this._domNode,"mouseenter",We=>{1==(1&We.buttons)&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(We=>{We.hasChanged(59)&&!this._editor.getOption(59).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(Dt,Te,oe){if(Dt.validActions.length<=0)return this.hide();const Le=this._editor.getOptions();if(!Le.get(59).enabled)return this.hide();const We=this._editor.getModel();if(!We)return this.hide();const{lineNumber:it,column:pt}=We.validatePosition(oe),Et=We.getOptions().tabSize,Ut=Le.get(46),sn=We.getLineContent(it),pn=(0,pe.q)(sn,Et),On=kn=>kn>2&&this._editor.getTopForLineNumber(kn)===this._editor.getTopForLineNumber(kn-1);let Tn=it;if(!(Ut.spaceWidth*pn>22))if(it>1&&!On(it-1))Tn-=1;else if(On(it+1)){if(pt*Ut.spaceWidth<22)return this.hide()}else Tn+=1;this.state=new ne.Showing(Dt,Te,oe,{position:{lineNumber:Tn,column:1},preference:Pd._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=ne.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(Dt){this._state=Dt,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(1===this.state.type&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...ie.lA.lightBulb.classNamesArray),this._domNode.classList.add(...ie.lA.lightbulbAutofix.classNamesArray);const Te=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(Te)return void(this.title=Y.NC("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",Te.getLabel()))}this._domNode.classList.remove(...ie.lA.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...ie.lA.lightBulb.classNamesArray);const Dt=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=Dt?Y.NC("codeActionWithKb","Show Code Actions ({0})",Dt.getLabel()):Y.NC("codeAction","Show Code Actions")}set title(Dt){this._domNode.title=Dt}};var Dt;xe._posPref=[0],xe=function(Dn,Dt,Te,oe){var it,Le=arguments.length,We=Le<3?Dt:null===oe?oe=Object.getOwnPropertyDescriptor(Dt,Te):oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)We=Reflect.decorate(Dn,Dt,Te,oe);else for(var pt=Dn.length-1;pt>=0;pt--)(it=Dn[pt])&&(We=(Le<3?it(We):Le>3?it(Dt,Te,We):it(Dt,Te))||We);return Le>3&&We&&Object.defineProperty(Dt,Te,We),We}([(3,Dt=te.d,function(Te,oe){Dt(Te,oe,3)})],xe),(0,fe.Ic)((Dn,Dt)=>{var Te;const oe=null===(Te=Dn.getColor(De.cvW))||void 0===Te?void 0:Te.transparent(.7),Le=Dn.getColor(De.Fu1);Le&&Dt.addRule(`\n\t\t.monaco-editor .contentWidgets ${ie.lA.lightBulb.cssSelector} {\n\t\t\tcolor: ${Le};\n\t\t\tbackground-color: ${oe};\n\t\t}`);const We=Dn.getColor(De.sKV);We&&Dt.addRule(`\n\t\t.monaco-editor .contentWidgets ${ie.lA.lightbulbAutofix.cssSelector} {\n\t\t\tcolor: ${We};\n\t\t\tbackground-color: ${oe};\n\t\t}`)});var Ue,lt=function(Dn,Dt,Te,oe){return new(Te||(Te=Promise))(function(We,it){function pt(sn){try{Ut(oe.next(sn))}catch(pn){it(pn)}}function Et(sn){try{Ut(oe.throw(sn))}catch(pn){it(pn)}}function Ut(sn){sn.done?We(sn.value):function Le(We){return We instanceof Te?We:new Te(function(it){it(We)})}(sn.value).then(pt,Et)}Ut((oe=oe.apply(Dn,Dt||[])).next())})};let ot=class extends L.JT{constructor(Dt,Te,oe,Le,We){super(),this._editor=Dt,this.delegate=Le,this._activeCodeActions=this._register(new L.XK),this.previewOn=!1,Ue.set(this,!1),this._codeActionWidget=new s.o(()=>this._register(We.createInstance(Se,this._editor,{onSelectCodeAction:(it,pt)=>lt(this,void 0,void 0,function*(){this.delegate.applyCodeAction(it,!0,this.previewOn?Boolean(this.previewOn):Boolean(pt.preview)),this.previewOn=!1})}))),this._lightBulbWidget=new s.o(()=>{const it=this._register(We.createInstance(xe,this._editor,Te,oe));return this._register(it.onClick(pt=>this.showCodeActionList(pt.trigger,pt.actions,pt,{includeDisabledActions:!1,fromLightbulb:!0}))),it})}dispose(){(function(Dn,Dt,Te,oe,Le){if("function"==typeof Dt||!Dt.has(Dn))throw new TypeError("Cannot write private member to an object whose class did not declare it");Dt.set(Dn,true)})(this,Ue),super.dispose()}hideCodeActionWidget(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().hideCodeActionWidget()}onEnter(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().onEnterSet()}onPreviewEnter(){this.previewOn=!0,this.onEnter()}navigateList(Dt){this._codeActionWidget.hasValue()&&(Dt?this._codeActionWidget.getValue().navigateListWithKeysUp():this._codeActionWidget.getValue().navigateListWithKeysDown())}update(Dt){var Te,oe,Le,We,it;return lt(this,void 0,void 0,function*(){if(1!==Dt.type)return void(null===(Te=this._lightBulbWidget.rawValue)||void 0===Te||Te.hide());let pt;try{pt=yield Dt.actions}catch(Et){return void(0,_.dL)(Et)}if(!function(Dn,Dt,Te,oe){if("function"==typeof Dt||!Dt.has(Dn))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Dt.get(Dn)}(this,Ue))if(this._lightBulbWidget.getValue().update(pt,Dt.trigger,Dt.position),1===Dt.trigger.type){if(null!==(oe=Dt.trigger.filter)&&void 0!==oe&&oe.include){const Ut=this.tryGetValidActionToApply(Dt.trigger,pt);if(Ut){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(Ut,!1,!1)}finally{pt.dispose()}return}if(Dt.trigger.context){const sn=this.getInvalidActionThatWouldHaveBeenApplied(Dt.trigger,pt);if(sn&&sn.action.disabled)return null===(Le=a.O.get(this._editor))||void 0===Le||Le.showMessage(sn.action.disabled,Dt.trigger.context.position),void pt.dispose()}}const Et=!(null===(We=Dt.trigger.filter)||void 0===We||!We.include);if(Dt.trigger.context&&(!pt.allActions.length||!Et&&!pt.validActions.length))return null===(it=a.O.get(this._editor))||void 0===it||it.showMessage(Dt.trigger.context.notAvailableMessage,Dt.trigger.context.position),this._activeCodeActions.value=pt,void pt.dispose();this._activeCodeActions.value=pt,this._codeActionWidget.getValue().show(Dt.trigger,pt,Dt.position,{includeDisabledActions:Et,fromLightbulb:!1})}else this._codeActionWidget.getValue().isVisible?pt.dispose():this._activeCodeActions.value=pt})}getInvalidActionThatWouldHaveBeenApplied(Dt,Te){if(Te.allActions.length&&("first"===Dt.autoApply&&0===Te.validActions.length||"ifSingle"===Dt.autoApply&&1===Te.allActions.length))return Te.allActions.find(({action:oe})=>oe.disabled)}tryGetValidActionToApply(Dt,Te){if(Te.validActions.length&&("first"===Dt.autoApply&&Te.validActions.length>0||"ifSingle"===Dt.autoApply&&1===Te.validActions.length))return Te.validActions[0]}showCodeActionList(Dt,Te,oe,Le){return lt(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(Dt,Te,oe,Le)})}};Ue=new WeakMap,ot=function(Dn,Dt,Te,oe){var it,Le=arguments.length,We=Le<3?Dt:null===oe?oe=Object.getOwnPropertyDescriptor(Dt,Te):oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)We=Reflect.decorate(Dn,Dt,Te,oe);else for(var pt=Dn.length-1;pt>=0;pt--)(it=Dn[pt])&&(We=(Le<3?it(We):Le>3?it(Dt,Te,We):it(Dt,Te))||We);return Le>3&&We&&Object.defineProperty(Dt,Te,We),We}([function(Dn,Dt){return function(Te,oe){Dt(Te,oe,4)}}(0,p.TG)],ot);var ft,et=e(23884),Ze=e(12882),Mt=e(22534),Nt=e(78782),ze=e(63072),dt=e(15151),$t=e(68451),hn=function(Dn,Dt,Te,oe){if("a"===Te&&!oe)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof Dt?Dn!==Dt||!oe:!Dt.has(Dn))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===Te?oe:"a"===Te?oe.call(Dn):oe?oe.value:Dt.get(Dn)};const ke=new V.uy("supportedCodeAction","");class nt extends L.JT{constructor(Dt,Te,oe,Le=250){super(),this._editor=Dt,this._markerService=Te,this._signalChange=oe,this._delay=Le,this._autoTriggerTimer=this._register(new ze._F),this._register(this._markerService.onMarkerChanged(We=>this._onMarkerChanges(We))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(Dt){const Te=this._getRangeOfSelectionUnlessWhitespaceEnclosed(Dt);return this._createEventAndSignalChange(Dt,Te)}_onMarkerChanges(Dt){const Te=this._editor.getModel();!Te||Dt.some(oe=>(0,dt.Xy)(oe,Te.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:j.aQ.Default})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:j.aQ.Default})},this._delay)}_getRangeOfMarker(Dt){const Te=this._editor.getModel();if(Te)for(const oe of this._markerService.read({resource:Te.uri})){const Le=Te.validateRange(oe);if($t.e.intersectRanges(Le,Dt))return $t.e.lift(Le)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(Dt){if(!this._editor.hasModel())return;const Te=this._editor.getModel(),oe=this._editor.getSelection();if(oe.isEmpty()&&2===Dt.type){const{lineNumber:Le,column:We}=oe.getPosition(),it=Te.getLineContent(Le);if(0===it.length)return;if(1===We){if(/\s/.test(it[0]))return}else if(We===Te.getLineMaxColumn(Le)){if(/\s/.test(it[it.length-1]))return}else if(/\s/.test(it[We-2])&&/\s/.test(it[We-1]))return}return oe}_createEventAndSignalChange(Dt,Te){const oe=this._editor.getModel();if(!Te||!oe)return void this._signalChange(void 0);const Le=this._getRangeOfMarker(Te),We=Le?Le.getStartPosition():Te.getStartPosition(),it={trigger:Dt,selection:Te,position:We};return this._signalChange(it),it}}var st;!function(Dn){Dn.Empty={type:0},Dn.Triggered=class Dt{constructor(oe,Le,We,it){this.trigger=oe,this.rangeOrSelection=Le,this.position=We,this._cancellablePromise=it,this.type=1,this.actions=it.catch(pt=>{if((0,_.n2)(pt))return Ee;throw pt})}cancel(){this._cancellablePromise.cancel()}}}(st||(st={}));const Ee={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class Fe extends L.JT{constructor(Dt,Te,oe,Le,We){super(),this._editor=Dt,this._registry=Te,this._markerService=oe,this._progressService=We,this._codeActionOracle=this._register(new L.XK),this._state=st.Empty,this._onDidChangeState=this._register(new ye.Q5),this.onDidChangeState=this._onDidChangeState.event,ft.set(this,!1),this._supportedCodeActions=ke.bindTo(Le),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){hn(this,ft,"f")||(function(Dn,Dt,Te,oe,Le){if("function"==typeof Dt||!Dt.has(Dn))throw new TypeError("Cannot write private member to an object whose class did not declare it");Dt.set(Dn,true)}(this,ft),super.dispose(),this.setState(st.Empty,!0))}_update(){if(hn(this,ft,"f"))return;this._codeActionOracle.value=void 0,this.setState(st.Empty);const Dt=this._editor.getModel();if(Dt&&this._registry.has(Dt)&&!this._editor.getOption(83)){const Te=[];for(const oe of this._registry.all(Dt))Array.isArray(oe.providedCodeActionKinds)&&Te.push(...oe.providedCodeActionKinds);this._supportedCodeActions.set(Te.join(" ")),this._codeActionOracle.value=new nt(this._editor,this._markerService,oe=>{var Le;if(!oe)return void this.setState(st.Empty);const We=(0,ze.PG)(it=>(0,N.aI)(this._registry,Dt,oe.selection,oe.trigger,Mt.Ex.None,it));1===oe.trigger.type&&(null===(Le=this._progressService)||void 0===Le||Le.showWhile(We,250)),this.setState(new st.Triggered(oe.trigger,oe.selection,oe.position,We))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:j.aQ.Default})}else this._supportedCodeActions.reset()}trigger(Dt){var Te;null===(Te=this._codeActionOracle.value)||void 0===Te||Te.trigger(Dt)}setState(Dt,Te){Dt!==this._state&&(1===this._state.type&&this._state.cancel(),this._state=Dt,!Te&&!hn(this,ft,"f")&&this._onDidChangeState.fire(Dt))}}ft=new WeakMap;var Vt=function(Dn,Dt){return function(Te,oe){Dt(Te,oe,Dn)}},qt=function(Dn,Dt,Te,oe){return new(Te||(Te=Promise))(function(We,it){function pt(sn){try{Ut(oe.next(sn))}catch(pn){it(pn)}}function Et(sn){try{Ut(oe.throw(sn))}catch(pn){it(pn)}}function Ut(sn){sn.done?We(sn.value):function Le(We){return We instanceof Te?We:new Te(function(it){it(We)})}(sn.value).then(pt,Et)}Ut((oe=oe.apply(Dn,Dt||[])).next())})};function Cn(Dn){return V.Ao.regex(ke.keys()[0],new RegExp("(\\s|^)"+(0,M.ec)(Dn.value)+"\\b"))}function Gt(Dn,Dt,Te,oe){const Le=j.wZ.fromUser(Dt,{kind:j.yN.Refactor,apply:"never"});return jt(Dn,"string"==typeof(null==Dt?void 0:Dt.kind)?Le.preferred?Y.NC("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",Dt.kind):Y.NC("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",Dt.kind):Le.preferred?Y.NC("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):Y.NC("editor.action.refactor.noneMessage","No refactorings available"),{include:j.yN.Refactor.contains(Le.kind)?Le.kind:j.yN.None,onlyIncludePreferredActions:Le.preferred},Le.apply,Te,oe)}const en={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:Y.NC("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:Y.NC("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[Y.NC("args.schema.apply.first","Always apply the first returned code action."),Y.NC("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),Y.NC("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:Y.NC("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let Yt=class Od extends L.JT{constructor(Dt,Te,oe,Le,We,it){super(),this._instantiationService=We,this._editor=Dt,this._model=this._register(new Fe(this._editor,it.codeActionProvider,Te,oe,Le)),this._register(this._model.onDidChangeState(pt=>this.update(pt))),this._ui=new s.o(()=>this._register(new ot(Dt,yn.Id,li.Id,{applyCodeAction:(pt,Et,Ut)=>qt(this,void 0,void 0,function*(){try{yield this._applyCodeAction(pt,Ut)}finally{Et&&this._trigger({type:2,triggerAction:j.aQ.QuickFix,filter:{}})}})},this._instantiationService)))}static get(Dt){return Dt.getContribution(Od.ID)}update(Dt){this._ui.getValue().update(Dt)}hideCodeActionMenu(){this._ui.hasValue()&&this._ui.getValue().hideCodeActionWidget()}navigateCodeActionList(Dt){this._ui.hasValue()&&this._ui.getValue().navigateList(Dt)}selectedOption(){this._ui.hasValue()&&this._ui.getValue().onEnter()}selectedOptionWithPreview(){this._ui.hasValue()&&this._ui.getValue().onPreviewEnter()}showCodeActions(Dt,Te,oe){return this._ui.getValue().showCodeActionList(Dt,Te,oe,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(Dt,Te,oe,Le,We){var it;if(!this._editor.hasModel())return;null===(it=a.O.get(this._editor))||void 0===it||it.closeMessage();const pt=this._editor.getPosition();this._trigger({type:1,triggerAction:Te,filter:oe,autoApply:Le,context:{notAvailableMessage:Dt,position:pt},preview:We})}_trigger(Dt){return this._model.trigger(Dt)}_applyCodeAction(Dt,Te){return this._instantiationService.invokeFunction(Ct,Dt,ht.FromCodeActions,{preview:Te,editor:this._editor})}};Yt.ID="editor.contrib.quickFixController",Yt=function(Dn,Dt,Te,oe){var it,Le=arguments.length,We=Le<3?Dt:null===oe?oe=Object.getOwnPropertyDescriptor(Dt,Te):oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)We=Reflect.decorate(Dn,Dt,Te,oe);else for(var pt=Dn.length-1;pt>=0;pt--)(it=Dn[pt])&&(We=(Le<3?it(We):Le>3?it(Dt,Te,We):it(Dt,Te))||We);return Le>3&&We&&Object.defineProperty(Dt,Te,We),We}([Vt(1,Ze.lT),Vt(2,V.i6),Vt(3,Mt.ek),Vt(4,p.TG),Vt(5,k.p)],Yt);var ht=(()=>(function(Dn){Dn.OnSave="onSave",Dn.FromProblemsView="fromProblemsView",Dn.FromCodeActions="fromCodeActions"}(ht||(ht={})),ht))();function Ct(Dn,Dt,Te,oe){return qt(this,void 0,void 0,function*(){const Le=Dn.get(P.vu),We=Dn.get(et.Hy),it=Dn.get(w.b),pt=Dn.get(Nt.lT);if(it.publicLog2("codeAction.applyCodeAction",{codeActionTitle:Dt.action.title,codeActionKind:Dt.action.kind,codeActionIsPreferred:!!Dt.action.isPreferred,reason:Te}),yield Dt.resolve(f.T.None),Dt.action.edit&&(yield Le.apply(P.fo.convert(Dt.action.edit),{editor:null==oe?void 0:oe.editor,label:Dt.action.title,quotableLabel:Dt.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:!0,showPreview:null==oe?void 0:oe.preview})),Dt.action.command)try{yield We.executeCommand(Dt.action.command.id,...Dt.action.command.arguments||[])}catch(Et){const Ut=function rn(Dn){return"string"==typeof Dn?Dn:Dn instanceof Error&&"string"==typeof Dn.message?Dn.message:void 0}(Et);pt.error("string"==typeof Ut?Ut:Y.NC("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function jt(Dn,Dt,Te,oe,Le=!1,We=j.aQ.Default){if(Dn.hasModel()){const it=Yt.get(Dn);null==it||it.manualTriggerAtCurrentPosition(Dt,We,Te,oe,Le)}}let yn=(()=>{class Dn extends u.R6{constructor(){super({id:Dn.Id,label:Y.NC("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:V.Ao.and(A.u.writable,A.u.hasCodeActionsProvider),kbOpts:{kbExpr:A.u.editorTextFocus,primary:2132,weight:100}})}run(Te,oe){return jt(oe,Y.NC("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,!1,j.aQ.QuickFix)}}return Dn.Id="editor.action.quickFix",Dn})();class En extends u._l{constructor(){super({id:N.RB,precondition:V.Ao.and(A.u.writable,A.u.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:en}]}})}runEditorCommand(Dt,Te,oe){const Le=j.wZ.fromUser(oe,{kind:j.yN.Empty,apply:"ifSingle"});return jt(Te,"string"==typeof(null==oe?void 0:oe.kind)?Le.preferred?Y.NC("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",oe.kind):Y.NC("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",oe.kind):Le.preferred?Y.NC("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):Y.NC("editor.action.codeAction.noneMessage","No code actions available"),{include:Le.kind,includeSourceActions:!0,onlyIncludePreferredActions:Le.preferred},Le.apply)}}class xn extends u.R6{constructor(){super({id:N.Bb,label:Y.NC("refactor.label","Refactor..."),alias:"Refactor...",precondition:V.Ao.and(A.u.writable,A.u.hasCodeActionsProvider),kbOpts:{kbExpr:A.u.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:V.Ao.and(A.u.writable,Cn(j.yN.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:en}]}})}run(Dt,Te,oe){return Gt(Te,oe,!1,j.aQ.Refactor)}}class Un extends u.R6{constructor(){super({id:N.sh,label:Y.NC("refactor.preview.label","Refactor with Preview..."),alias:"Refactor Preview...",precondition:V.Ao.and(A.u.writable,A.u.hasCodeActionsProvider),description:{description:"Refactor Preview...",args:[{name:"args",schema:en}]}})}run(Dt,Te,oe){return Gt(Te,oe,!0,j.aQ.RefactorPreview)}}class ai extends u.R6{constructor(){super({id:N.MN,label:Y.NC("source.label","Source Action..."),alias:"Source Action...",precondition:V.Ao.and(A.u.writable,A.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:V.Ao.and(A.u.writable,Cn(j.yN.Source))},description:{description:"Source Action...",args:[{name:"args",schema:en}]}})}run(Dt,Te,oe){const Le=j.wZ.fromUser(oe,{kind:j.yN.Source,apply:"never"});return jt(Te,"string"==typeof(null==oe?void 0:oe.kind)?Le.preferred?Y.NC("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",oe.kind):Y.NC("editor.action.source.noneMessage.kind","No source actions for '{0}' available",oe.kind):Le.preferred?Y.NC("editor.action.source.noneMessage.preferred","No preferred source actions available"):Y.NC("editor.action.source.noneMessage","No source actions available"),{include:j.yN.Source.contains(Le.kind)?Le.kind:j.yN.None,includeSourceActions:!0,onlyIncludePreferredActions:Le.preferred},Le.apply,void 0,j.aQ.SourceAction)}}class ei extends u.R6{constructor(){super({id:N.uH,label:Y.NC("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:V.Ao.and(A.u.writable,Cn(j.yN.SourceOrganizeImports)),kbOpts:{kbExpr:A.u.editorTextFocus,primary:1581,weight:100}})}run(Dt,Te){return jt(Te,Y.NC("editor.action.organize.noneMessage","No organize imports action available"),{include:j.yN.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",void 0,j.aQ.OrganizeImports)}}class Di extends u.R6{constructor(){super({id:N.TM,label:Y.NC("fixAll.label","Fix All"),alias:"Fix All",precondition:V.Ao.and(A.u.writable,Cn(j.yN.SourceFixAll))})}run(Dt,Te){return jt(Te,Y.NC("fixAll.noneMessage","No fix all action available"),{include:j.yN.SourceFixAll,includeSourceActions:!0},"ifSingle",void 0,j.aQ.FixAll)}}let li=(()=>{class Dn extends u.R6{constructor(){super({id:Dn.Id,label:Y.NC("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:V.Ao.and(A.u.writable,Cn(j.yN.QuickFix)),kbOpts:{kbExpr:A.u.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(Te,oe){return jt(oe,Y.NC("editor.action.autoFix.noneMessage","No auto fixes available"),{include:j.yN.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",void 0,j.aQ.AutoFix)}}return Dn.Id="editor.action.autoFix",Dn})();const Qn=u._l.bindToContribution(Yt.get);(0,u.fK)(new Qn({id:"hideCodeActionMenuWidget",precondition:ee.Visible,handler(Dn){Dn.hideCodeActionMenu()},kbOpts:{weight:190,primary:9,secondary:[1033]}})),(0,u.fK)(new Qn({id:"focusPreviousCodeAction",precondition:ee.Visible,handler(Dn){Dn.navigateCodeActionList(!0)},kbOpts:{weight:100190,primary:16,secondary:[2064]}})),(0,u.fK)(new Qn({id:"focusNextCodeAction",precondition:ee.Visible,handler(Dn){Dn.navigateCodeActionList(!1)},kbOpts:{weight:100190,primary:18,secondary:[2066]}})),(0,u.fK)(new Qn({id:"onEnterSelectCodeAction",precondition:ee.Visible,handler(Dn){Dn.selectedOption()},kbOpts:{weight:100190,primary:3,secondary:[1026]}})),(0,u.fK)(new Qn({id:"onEnterSelectCodeActionWithPreview",precondition:ee.Visible,handler(Dn){Dn.selectedOptionWithPreview()},kbOpts:{weight:100190,primary:2051}}))},89901:(at,ue,e)=>{"use strict";e.r(ue);var f=e(95172),s=e(40184),L=e(90586),M=e(40402),u=e(17732);e(29537).B.as(u.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},L.wk),{properties:{"editor.experimental.useCustomCodeActionMenu":{type:"boolean",tags:["experimental"],scope:5,description:M.NC("codeActionWidget","Enabling this adjusts how the code action menu is rendered."),default:!1}}})),(0,f._K)(s.pY.ID,s.pY),(0,f.Qr)(s.E7),(0,f.Qr)(s.Eb),(0,f.Qr)(s.UG),(0,f.Qr)(s.VQ),(0,f.Qr)(s.o$),(0,f.Qr)(s.S5),(0,f.Qr)(s.Hv),(0,f.fK)(new s.dW)},57025:(at,ue,e)=>{"use strict";e.d(ue,{EU:()=>L,Yl:()=>M,aQ:()=>s,wZ:()=>P,yN:()=>f});class f{constructor(k){this.value=k}equals(k){return this.value===k.value}contains(k){return this.equals(k)||""===this.value||k.value.startsWith(this.value+f.sep)}intersects(k){return this.contains(k)||k.contains(this)}append(k){return new f(this.value+f.sep+k)}}f.sep=".",f.None=new f("@@none@@"),f.Empty=new f(""),f.QuickFix=new f("quickfix"),f.Refactor=new f("refactor"),f.Source=new f("source"),f.SourceOrganizeImports=f.Source.append("organizeImports"),f.SourceFixAll=f.Source.append("fixAll");var s=(()=>{return(A=s||(s={})).Refactor="refactor",A.RefactorPreview="refactor preview",A.Lightbulb="lightbulb",A.Default="other (default)",A.SourceAction="source action",A.QuickFix="quick fix action",A.FixAll="fix all",A.OrganizeImports="organize imports",A.AutoFix="auto fix",A.QuickFixHover="quick fix hover window",A.OnSave="save participants",A.ProblemsView="problems view",s;var A})();function L(A,k){return!(A.include&&!A.include.intersects(k)||A.excludes&&A.excludes.some(N=>u(k,N,A.include))||!A.includeSourceActions&&f.Source.contains(k))}function M(A,k){const N=k.kind?new f(k.kind):void 0;return!(A.include&&(!N||!A.include.contains(N))||A.excludes&&N&&A.excludes.some(_=>u(N,_,A.include))||!A.includeSourceActions&&N&&f.Source.contains(N)||A.onlyIncludePreferredActions&&!k.isPreferred)}function u(A,k,N){return!(!k.contains(A)||N&&k.contains(N))}class P{constructor(k,N,_){this.kind=k,this.apply=N,this.preferred=_}static fromUser(k,N){return k&&"object"==typeof k?new P(P.getKindFromUser(k,N.kind),P.getApplyFromUser(k,N.apply),P.getPreferredUser(k)):new P(N.kind,N.apply,!1)}static getApplyFromUser(k,N){switch("string"==typeof k.apply?k.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return N}}static getKindFromUser(k,N){return"string"==typeof k.kind?new f(k.kind):N}static getPreferredUser(k){return"boolean"==typeof k.preferred&&k.preferred}}},36576:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{CodeLensContribution:()=>pe});var f=e(58059),s=e(63072),L=e(53663),M=e(92638),u=e(52425),P=e(11210),A=e(95172),k=e(16367),N=e(29584),_=e(80152),a=e(54435),p=e(74672),c=e(8648),n=e(23884),l=e(37464),v=function(De,Oe,Ne,ne){return new(Ne||(Ne=Promise))(function(Je,gt){function lt(Ue){try{He(ne.next(Ue))}catch(ot){gt(ot)}}function Ke(Ue){try{He(ne.throw(Ue))}catch(ot){gt(ot)}}function He(Ue){Ue.done?Je(Ue.value):function xe(Je){return Je instanceof Ne?Je:new Ne(function(gt){gt(Je)})}(Ue.value).then(lt,Ke)}He((ne=ne.apply(De,Oe||[])).next())})};class d{constructor(){this.lenses=[],this._disposables=new u.SL}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(Oe,Ne){this._disposables.add(Oe);for(const ne of Oe.lenses)this.lenses.push({symbol:ne,provider:Ne})}}function m(De,Oe,Ne){return v(this,void 0,void 0,function*(){const ne=De.ordered(Oe),xe=new Map,Je=new d,gt=ne.map((lt,Ke)=>v(this,void 0,void 0,function*(){xe.set(lt,Ke);try{const He=yield Promise.resolve(lt.provideCodeLenses(Oe,Ne));He&&Je.add(He,lt)}catch(He){(0,L.Cp)(He)}}));return yield Promise.all(gt),Je.lenses=Je.lenses.sort((lt,Ke)=>lt.symbol.range.startLineNumber<Ke.symbol.range.startLineNumber?-1:lt.symbol.range.startLineNumber>Ke.symbol.range.startLineNumber?1:xe.get(lt.provider)<xe.get(Ke.provider)?-1:xe.get(lt.provider)>xe.get(Ke.provider)?1:lt.symbol.range.startColumn<Ke.symbol.range.startColumn?-1:lt.symbol.range.startColumn>Ke.symbol.range.startColumn?1:0),Je})}n.P0.registerCommand("_executeCodeLensProvider",function(De,...Oe){let[Ne,ne]=Oe;(0,a.p_)(p.o.isUri(Ne)),(0,a.p_)("number"==typeof ne||!ne);const{codeLensProvider:xe}=De.get(l.p),Je=De.get(c.q).getModel(Ne);if(!Je)throw(0,L.b1)();const gt=[],lt=new u.SL;return m(xe,Je,_.T.None).then(Ke=>{lt.add(Ke);const He=[];for(const Ue of Ke.lenses)null==ne||Boolean(Ue.symbol.command)?gt.push(Ue.symbol):ne-- >0&&Ue.provider.resolveCodeLens&&He.push(Promise.resolve(Ue.provider.resolveCodeLens(Je,Ue.symbol,_.T.None)).then(ot=>gt.push(ot||Ue.symbol)));return Promise.all(He)}).then(()=>gt).finally(()=>{setTimeout(()=>lt.dispose(),100)})});var I=e(52706),y=e(7838),S=e(68451),b=e(18790),x=e(64725),T=e(99571);const Z=(0,x.yh)("ICodeLensCache");class G{constructor(Oe,Ne){this.lineCount=Oe,this.data=Ne}}let F=class{constructor(Oe){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new y.z6(20,.75),(0,s.To)(()=>Oe.remove("codelens/cache",1));const ne="codelens/cache2",xe=Oe.get(ne,1,"{}");this._deserialize(xe),(0,I.I)(Oe.onWillSaveState)(Je=>{Je.reason===T.fk.SHUTDOWN&&Oe.store(ne,this._serialize(),1,1)})}put(Oe,Ne){const ne=Ne.lenses.map(gt=>{var lt;return{range:gt.symbol.range,command:gt.symbol.command&&{id:"",title:null===(lt=gt.symbol.command)||void 0===lt?void 0:lt.title}}}),xe=new d;xe.add({lenses:ne,dispose:()=>{}},this._fakeProvider);const Je=new G(Oe.getLineCount(),xe);this._cache.set(Oe.uri.toString(),Je)}get(Oe){const Ne=this._cache.get(Oe.uri.toString());return Ne&&Ne.lineCount===Oe.getLineCount()?Ne.data:void 0}delete(Oe){this._cache.delete(Oe.uri.toString())}_serialize(){const Oe=Object.create(null);for(const[Ne,ne]of this._cache){const xe=new Set;for(const Je of ne.data.lenses)xe.add(Je.symbol.range.startLineNumber);Oe[Ne]={lineCount:ne.lineCount,lines:[...xe.values()]}}return JSON.stringify(Oe)}_deserialize(Oe){try{const Ne=JSON.parse(Oe);for(const ne in Ne){const xe=Ne[ne],Je=[];for(const lt of xe.lines)Je.push({range:new S.e(lt,1,lt,11)});const gt=new d;gt.add({lenses:Je,dispose(){}},this._fakeProvider),this._cache.set(ne,new G(xe.lineCount,gt))}}catch(Ne){}}};var Oe;F=function(De,Oe,Ne,ne){var gt,xe=arguments.length,Je=xe<3?Oe:null===ne?ne=Object.getOwnPropertyDescriptor(Oe,Ne):ne;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Je=Reflect.decorate(De,Oe,Ne,ne);else for(var lt=De.length-1;lt>=0;lt--)(gt=De[lt])&&(Je=(xe<3?gt(Je):xe>3?gt(Oe,Ne,Je):gt(Oe,Ne))||Je);return xe>3&&Je&&Object.defineProperty(Oe,Ne,Je),Je}([(0,Oe=T.Uy,function(Ne,ne){Oe(Ne,ne,0)})],F),(0,b.z)(Z,F);var W=e(84459),B=e(93379),z=e.n(B),j=e(7795),Y=e.n(j),E=e(90569),V=e.n(E),$=e(3565),te=e.n($),w=e(19216),fe=e.n(w),be=e(44589),me=e.n(be),Ie=e(32849),ee={};ee.styleTagTransform=me(),ee.setAttributes=te(),ee.insert=V().bind(null,"head"),ee.domAPI=Y(),ee.insertStyleElement=fe(),z()(Ie.Z,ee);var de=e(3508);class ge{constructor(Oe,Ne,ne){this.afterColumn=1073741824,this.afterLineNumber=Oe,this.heightInPx=Ne,this._onHeight=ne,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(Oe){void 0===this._lastHeight?this._lastHeight=Oe:this._lastHeight!==Oe&&(this._lastHeight=Oe,this._onHeight())}isVisible(){return 0!==this._lastHeight&&this.domNode.hasAttribute("monaco-visible-view-zone")}}let re=(()=>{class De{constructor(Ne,ne,xe){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=Ne,this._id="codelens.widget-"+De._idPool++,this.updatePosition(xe),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${ne}`}withCommands(Ne,ne){this._commands.clear();const xe=[];let Je=!1;for(let gt=0;gt<Ne.length;gt++){const lt=Ne[gt];if(lt&&(Je=!0,lt.command)){const Ke=(0,W.T)(lt.command.title.trim());lt.command.id?(xe.push(f.$("a",{id:String(gt),title:lt.command.tooltip,role:"button"},...Ke)),this._commands.set(String(gt),lt.command)):xe.push(f.$("span",{title:lt.command.tooltip},...Ke)),gt+1<Ne.length&&xe.push(f.$("span",void 0,"\xa0|\xa0"))}}Je?(f.mc(this._domNode,...xe),this._isEmpty&&ne&&this._domNode.classList.add("fadein"),this._isEmpty=!1):f.mc(this._domNode,f.$("span",void 0,"no commands"))}getCommand(Ne){return Ne.parentElement===this._domNode?this._commands.get(Ne.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(Ne){const ne=this._editor.getModel().getLineFirstNonWhitespaceColumn(Ne);this._widgetPosition={position:{lineNumber:Ne,column:ne},preference:[1]}}getPosition(){return this._widgetPosition||null}}return De._idPool=0,De})();class Se{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(Oe,Ne){this._addDecorations.push(Oe),this._addDecorationsCallbacks.push(Ne)}removeDecoration(Oe){this._removeDecorations.push(Oe)}commit(Oe){const Ne=Oe.deltaDecorations(this._removeDecorations,this._addDecorations);for(let ne=0,xe=Ne.length;ne<xe;ne++)this._addDecorationsCallbacks[ne](Ne[ne])}}class Pe{constructor(Oe,Ne,ne,xe,Je,gt,lt){let Ke;this._isDisposed=!1,this._editor=Ne,this._className=ne,this._data=Oe,this._decorationIds=[];const He=[];this._data.forEach((Ue,ot)=>{Ue.symbol.command&&He.push(Ue.symbol),xe.addDecoration({range:Ue.symbol.range,options:de.qx.EMPTY},et=>this._decorationIds[ot]=et),Ke=Ke?S.e.plusRange(Ke,Ue.symbol.range):S.e.lift(Ue.symbol.range)}),this._viewZone=new ge(Ke.startLineNumber-1,gt,lt),this._viewZoneId=Je.addZone(this._viewZone),He.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(He,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new re(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(Oe,Ne){this._decorationIds.forEach(Oe.removeDecoration,Oe),this._decorationIds=[],null==Ne||Ne.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((Oe,Ne)=>{const ne=this._editor.getModel().getDecorationRange(Oe);return!(!ne||S.e.isEmpty(this._data[Ne].symbol.range)!==ne.isEmpty())})}updateCodeLensSymbols(Oe,Ne){this._decorationIds.forEach(Ne.removeDecoration,Ne),this._decorationIds=[],this._data=Oe,this._data.forEach((ne,xe)=>{Ne.addDecoration({range:ne.symbol.range,options:de.qx.EMPTY},Je=>this._decorationIds[xe]=Je)})}updateHeight(Oe,Ne){this._viewZone.heightInPx=Oe,Ne.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(Oe){if(!this._viewZone.isVisible())return null;for(let Ne=0;Ne<this._decorationIds.length;Ne++){const ne=Oe.getDecorationRange(this._decorationIds[Ne]);ne&&(this._data[Ne].symbol.range=ne)}return this._data}updateCommands(Oe){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(Oe,!0);for(let Ne=0;Ne<this._data.length;Ne++){const ne=Oe[Ne];if(ne){const{symbol:xe}=this._data[Ne];xe.command=ne.command||xe.command}}}getCommand(Oe){var Ne;return null===(Ne=this._contentWidget)||void 0===Ne?void 0:Ne.getCommand(Oe)}getLineNumber(){const Oe=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return Oe?Oe.startLineNumber:-1}update(Oe){if(this.isValid()){const Ne=this._editor.getModel().getDecorationRange(this._decorationIds[0]);Ne&&(this._viewZone.afterLineNumber=Ne.startLineNumber-1,Oe.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(Ne.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var Ve=e(40402),ie=e(78782),ye=e(17098),_e=e(79974),Qe=function(De,Oe){return function(Ne,ne){Oe(Ne,ne,De)}};let pe=class{constructor(Oe,Ne,ne,xe,Je,gt){this._editor=Oe,this._languageFeaturesService=Ne,this._commandService=xe,this._notificationService=Je,this._codeLensCache=gt,this._disposables=new u.SL,this._localToDispose=new u.SL,this._lenses=[],this._oldCodeLensModels=new u.SL,this._provideCodeLensDebounce=ne.for(Ne.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=ne.for(Ne.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new s.pY(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(lt=>{(lt.hasChanged(46)||lt.hasChanged(16)||lt.hasChanged(15))&&this._updateLensStyle(),lt.hasChanged(14)&&this._onModelChange()})),this._disposables.add(Ne.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,M.vp)(this._editor.getId()).toString(16),this._styleElement=f.dS(f.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var Oe;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),null===(Oe=this._currentCodeLensModel)||void 0===Oe||Oe.dispose(),this._styleElement.remove()}_getLayoutInfo(){const Oe=Math.max(1.3,this._editor.getOption(61)/this._editor.getOption(48));let Ne=this._editor.getOption(16);return(!Ne||Ne<5)&&(Ne=.9*this._editor.getOption(48)|0),{fontSize:Ne,codeLensHeight:Ne*Oe|0}}_updateLensStyle(){const{codeLensHeight:Oe,fontSize:Ne}=this._getLayoutInfo(),ne=this._editor.getOption(15),xe=this._editor.getOption(46),Je=`--codelens-font-family${this._styleClassName}`,gt=`--codelens-font-features${this._styleClassName}`;let lt=`\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${Oe}px; font-size: ${Ne}px; padding-right: ${Math.round(.5*Ne)}px; font-feature-settings: var(${gt}) }\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${Oe}px; font-size: ${Ne}px; }\n\t\t`;ne&&(lt+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${Je}), ${k.hL.fontFamily}}`),this._styleElement.textContent=lt,this._editor.getContainerDomNode().style.setProperty(Je,null!=ne?ne:"inherit"),this._editor.getContainerDomNode().style.setProperty(gt,xe.fontFeatureSettings),this._editor.changeViewZones(Ke=>{for(const He of this._lenses)He.updateHeight(Oe,Ke)})}_localDispose(){var Oe,Ne,ne;null===(Oe=this._getCodeLensModelPromise)||void 0===Oe||Oe.cancel(),this._getCodeLensModelPromise=void 0,null===(Ne=this._resolveCodeLensesPromise)||void 0===Ne||Ne.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),null===(ne=this._currentCodeLensModel)||void 0===ne||ne.dispose()}_onModelChange(){this._localDispose();const Oe=this._editor.getModel();if(!Oe||!this._editor.getOption(14))return;const Ne=this._codeLensCache.get(Oe);if(Ne&&this._renderCodeLensSymbols(Ne),!this._languageFeaturesService.codeLensProvider.has(Oe))return void(Ne&&this._localToDispose.add((0,s.Vg)(()=>{const xe=this._codeLensCache.get(Oe);Ne===xe&&(this._codeLensCache.delete(Oe),this._onModelChange())},3e4)));for(const xe of this._languageFeaturesService.codeLensProvider.all(Oe))if("function"==typeof xe.onDidChange){const Je=xe.onDidChange(()=>ne.schedule());this._localToDispose.add(Je)}const ne=new s.pY(()=>{var xe;const Je=Date.now();null===(xe=this._getCodeLensModelPromise)||void 0===xe||xe.cancel(),this._getCodeLensModelPromise=(0,s.PG)(gt=>m(this._languageFeaturesService.codeLensProvider,Oe,gt)),this._getCodeLensModelPromise.then(gt=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=gt,this._codeLensCache.put(Oe,gt);const lt=this._provideCodeLensDebounce.update(Oe,Date.now()-Je);ne.delay=lt,this._renderCodeLensSymbols(gt),this._resolveCodeLensesInViewportSoon()},L.dL)},this._provideCodeLensDebounce.get(Oe));this._localToDispose.add(ne),this._localToDispose.add((0,u.OF)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(xe=>{this._editor.changeViewZones(Je=>{const gt=[];let lt=-1;this._lenses.forEach(He=>{He.isValid()&&lt!==He.getLineNumber()?(He.update(Je),lt=He.getLineNumber()):gt.push(He)});const Ke=new Se;gt.forEach(He=>{He.dispose(Ke,Je),this._lenses.splice(this._lenses.indexOf(He),1)}),Ke.commit(xe)})}),ne.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{ne.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(xe=>{xe.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,u.OF)(()=>{if(this._editor.getModel()){const xe=P.Z.capture(this._editor);this._editor.changeDecorations(Je=>{this._editor.changeViewZones(gt=>{this._disposeAllLenses(Je,gt)})}),xe.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(xe=>{if(9!==xe.target.type)return;let Je=xe.target.element;if("SPAN"===(null==Je?void 0:Je.tagName)&&(Je=Je.parentElement),"A"===(null==Je?void 0:Je.tagName))for(const gt of this._lenses){const lt=gt.getCommand(Je);if(lt){this._commandService.executeCommand(lt.id,...lt.arguments||[]).catch(Ke=>this._notificationService.error(Ke));break}}})),ne.schedule()}_disposeAllLenses(Oe,Ne){const ne=new Se;for(const xe of this._lenses)xe.dispose(ne,Ne);Oe&&ne.commit(Oe),this._lenses.length=0}_renderCodeLensSymbols(Oe){if(!this._editor.hasModel())return;const Ne=this._editor.getModel().getLineCount(),ne=[];let xe;for(const lt of Oe.lenses){const Ke=lt.symbol.range.startLineNumber;Ke<1||Ke>Ne||(xe&&xe[xe.length-1].symbol.range.startLineNumber===Ke?xe.push(lt):(xe=[lt],ne.push(xe)))}const Je=P.Z.capture(this._editor),gt=this._getLayoutInfo();this._editor.changeDecorations(lt=>{this._editor.changeViewZones(Ke=>{const He=new Se;let Ue=0,ot=0;for(;ot<ne.length&&Ue<this._lenses.length;){const et=ne[ot][0].symbol.range.startLineNumber,Ze=this._lenses[Ue].getLineNumber();Ze<et?(this._lenses[Ue].dispose(He,Ke),this._lenses.splice(Ue,1)):Ze===et?(this._lenses[Ue].updateCodeLensSymbols(ne[ot],He),ot++,Ue++):(this._lenses.splice(Ue,0,new Pe(ne[ot],this._editor,this._styleClassName,He,Ke,gt.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),Ue++,ot++)}for(;Ue<this._lenses.length;)this._lenses[Ue].dispose(He,Ke),this._lenses.splice(Ue,1);for(;ot<ne.length;)this._lenses.push(new Pe(ne[ot],this._editor,this._styleClassName,He,Ke,gt.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),ot++;He.commit(lt)})}),Je.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var Oe;null===(Oe=this._resolveCodeLensesPromise)||void 0===Oe||Oe.cancel(),this._resolveCodeLensesPromise=void 0;const Ne=this._editor.getModel();if(!Ne)return;const ne=[],xe=[];if(this._lenses.forEach(lt=>{const Ke=lt.computeIfNecessary(Ne);Ke&&(ne.push(Ke),xe.push(lt))}),0===ne.length)return;const Je=Date.now(),gt=(0,s.PG)(lt=>{const Ke=ne.map((He,Ue)=>{const ot=new Array(He.length),et=He.map((Ze,Mt)=>Ze.symbol.command||"function"!=typeof Ze.provider.resolveCodeLens?(ot[Mt]=Ze.symbol,Promise.resolve(void 0)):Promise.resolve(Ze.provider.resolveCodeLens(Ne,Ze.symbol,lt)).then(Nt=>{ot[Mt]=Nt},L.Cp));return Promise.all(et).then(()=>{!lt.isCancellationRequested&&!xe[Ue].isDisposed()&&xe[Ue].updateCommands(ot)})});return Promise.all(Ke)});this._resolveCodeLensesPromise=gt,this._resolveCodeLensesPromise.then(()=>{const lt=this._resolveCodeLensesDebounce.update(Ne,Date.now()-Je);this._resolveCodeLensesScheduler.delay=lt,this._currentCodeLensModel&&this._codeLensCache.put(Ne,this._currentCodeLensModel),this._oldCodeLensModels.clear(),gt===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},lt=>{(0,L.dL)(lt),gt===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};pe.ID="css.editor.codeLens",pe=function(De,Oe,Ne,ne){var gt,xe=arguments.length,Je=xe<3?Oe:null===ne?ne=Object.getOwnPropertyDescriptor(Oe,Ne):ne;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Je=Reflect.decorate(De,Oe,Ne,ne);else for(var lt=De.length-1;lt>=0;lt--)(gt=De[lt])&&(Je=(xe<3?gt(Je):xe>3?gt(Oe,Ne,Je):gt(Oe,Ne))||Je);return xe>3&&Je&&Object.defineProperty(Oe,Ne,Je),Je}([Qe(1,l.p),Qe(2,_e.A),Qe(3,n.Hy),Qe(4,ie.lT),Qe(5,Z)],pe),(0,A._K)(pe.ID,pe),(0,A.Qr)(class extends A.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:N.u.hasCodeLensProvider,label:(0,Ve.NC)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(Oe,Ne){return function(De,Oe,Ne,ne){return new(Ne||(Ne=Promise))(function(Je,gt){function lt(Ue){try{He(ne.next(Ue))}catch(ot){gt(ot)}}function Ke(Ue){try{He(ne.throw(Ue))}catch(ot){gt(ot)}}function He(Ue){Ue.done?Je(Ue.value):function xe(Je){return Je instanceof Ne?Je:new Ne(function(gt){gt(Je)})}(Ue.value).then(lt,Ke)}He((ne=ne.apply(De,Oe||[])).next())})}(this,void 0,void 0,function*(){if(!Ne.hasModel())return;const ne=Oe.get(ye.eJ),xe=Oe.get(n.Hy),Je=Oe.get(ie.lT),gt=Ne.getSelection().positionLineNumber,lt=Ne.getContribution(pe.ID);if(!lt)return;const Ke=lt.getModel();if(!Ke)return;const He=[];for(const ot of Ke.lenses)ot.symbol.command&&ot.symbol.range.startLineNumber===gt&&He.push({label:ot.symbol.command.title,command:ot.symbol.command});if(0===He.length)return;const Ue=yield ne.pick(He,{canPickMany:!1});if(Ue){if(Ke.isDisposed)return yield xe.executeCommand(this.id);try{yield xe.executeCommand(Ue.command.id,...Ue.command.arguments||[])}catch(ot){Je.error(ot)}}})}})},22226:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{ColorContribution:()=>gt});var f=e(52425),s=e(95172),L=e(68451),M=e(63072),u=e(68927),P=e(53663),A=e(41724),k=e(93059),N=e(28460),_=e(3508),a=e(79974),p=e(37464),c=e(80152),n=e(74672),l=e(8648),v=e(23884);function m(lt,Ke,He,Ue){return Promise.resolve(He.provideColorPresentations(lt,Ke,Ue))}v.P0.registerCommand("_executeDocumentColorProvider",function(lt,...Ke){const[He]=Ke;if(!(He instanceof n.o))throw(0,P.b1)();const{colorProvider:Ue}=lt.get(p.p),ot=lt.get(l.q).getModel(He);if(!ot)throw(0,P.b1)();const et=[],Mt=Ue.ordered(ot).reverse().map(Nt=>Promise.resolve(Nt.provideDocumentColors(ot,c.T.None)).then(ze=>{if(Array.isArray(ze))for(const dt of ze)et.push({range:dt.range,color:[dt.color.red,dt.color.green,dt.color.blue,dt.color.alpha]})}));return Promise.all(Mt).then(()=>et)}),v.P0.registerCommand("_executeColorPresentationProvider",function(lt,...Ke){const[He,Ue]=Ke,{uri:ot,range:et}=Ue;if(!(ot instanceof n.o&&Array.isArray(He)&&4===He.length&&L.e.isIRange(et)))throw(0,P.b1)();const[Ze,Mt,Nt,ze]=He,{colorProvider:dt}=lt.get(p.p),$t=lt.get(l.q).getModel(ot);if(!$t)throw(0,P.b1)();const hn={range:et,color:{red:Ze,green:Mt,blue:Nt,alpha:ze}},vn=[],ke=dt.ordered($t).reverse().map(nt=>Promise.resolve(nt.provideColorPresentations($t,hn,c.T.None)).then(st=>{Array.isArray(st)&&vn.push(...st)}));return Promise.all(ke).then(()=>vn)});var I=e(9869),S=function(lt,Ke){return function(He,Ue){Ke(He,Ue,lt)}};const x=Object.create({});let R=class Rd extends f.JT{constructor(Ke,He,Ue,ot){super(),this._editor=Ke,this._configurationService=He,this._languageFeaturesService=Ue,this._localToDispose=this._register(new f.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new N.t7(this._editor),this._colorDecorationClassRefs=this._register(new f.SL),this._debounceInformation=ot.for(Ue.colorProvider,"Document Colors",{min:Rd.RECOMPUTE_TIME}),this._register(Ke.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(Ke.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(Ue.colorProvider.onDidChange(()=>this.onModelChanged())),this._register(Ke.onDidChangeConfiguration(()=>{const et=this._isEnabled;this._isEnabled=this.isEnabled(),et!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const Ke=this._editor.getModel();if(!Ke)return!1;const He=Ke.getLanguageId(),Ue=this._configurationService.getValue(He);if(Ue&&"object"==typeof Ue){const ot=Ue.colorDecorators;if(ot&&void 0!==ot.enable&&!ot.enable)return ot.enable}return this._editor.getOption(17)}static get(Ke){return Ke.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const Ke=this._editor.getModel();!Ke||!this._languageFeaturesService.colorProvider.has(Ke)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new M._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(Ke)))})),this.beginCompute())}beginCompute(){this._computePromise=(0,M.PG)(Ke=>function(lt,Ke,He,Ue){return new(He||(He=Promise))(function(et,Ze){function Mt(dt){try{ze(Ue.next(dt))}catch($t){Ze($t)}}function Nt(dt){try{ze(Ue.throw(dt))}catch($t){Ze($t)}}function ze(dt){dt.done?et(dt.value):function ot(et){return et instanceof He?et:new He(function(Ze){Ze(et)})}(dt.value).then(Mt,Nt)}ze((Ue=Ue.apply(lt,Ke||[])).next())})}(this,void 0,void 0,function*(){const He=this._editor.getModel();if(!He)return Promise.resolve([]);const Ue=new A.G(!1),ot=yield function d(lt,Ke,He){const Ue=[],et=lt.ordered(Ke).reverse().map(Ze=>Promise.resolve(Ze.provideDocumentColors(Ke,He)).then(Mt=>{if(Array.isArray(Mt))for(const Nt of Mt)Ue.push({colorInfo:Nt,provider:Ze})}));return Promise.all(et).then(()=>Ue)}(this._languageFeaturesService.colorProvider,He,Ke);return this._debounceInformation.update(He,Ue.elapsed()),ot})),this._computePromise.then(Ke=>{this.updateDecorations(Ke),this.updateColorDecorators(Ke),this._computePromise=null},P.dL)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(Ke){const He=Ke.map(Ue=>({range:{startLineNumber:Ue.colorInfo.range.startLineNumber,startColumn:Ue.colorInfo.range.startColumn,endLineNumber:Ue.colorInfo.range.endLineNumber,endColumn:Ue.colorInfo.range.endColumn},options:_.qx.EMPTY}));this._editor.changeDecorations(Ue=>{this._decorationsIds=Ue.deltaDecorations(this._decorationsIds,He),this._colorDatas=new Map,this._decorationsIds.forEach((ot,et)=>this._colorDatas.set(ot,Ke[et]))})}updateColorDecorators(Ke){this._colorDecorationClassRefs.clear();const He=[];for(let Ue=0;Ue<Ke.length&&He.length<500;Ue++){const{red:ot,green:et,blue:Ze,alpha:Mt}=Ke[Ue].colorInfo.color,Nt=new u.VS(Math.round(255*ot),Math.round(255*et),Math.round(255*Ze),Mt),dt=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:`rgba(${Nt.r}, ${Nt.g}, ${Nt.b}, ${Nt.a})`}));He.push({range:{startLineNumber:Ke[Ue].colorInfo.range.startLineNumber,startColumn:Ke[Ue].colorInfo.range.startColumn,endLineNumber:Ke[Ue].colorInfo.range.endLineNumber,endColumn:Ke[Ue].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:k.B4,inlineClassName:`${dt.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:x}}})}this._colorDecoratorIds.set(He)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(Ke){const He=this._editor.getModel();if(!He)return null;const Ue=He.getDecorationsInRange(L.e.fromPositions(Ke,Ke)).filter(ot=>this._colorDatas.has(ot.id));return 0===Ue.length?null:this._colorDatas.get(Ue[0].id)}isColorDecoration(Ke){return this._colorDecoratorIds.has(Ke)}};R.ID="editor.contrib.colorDetector",R.RECOMPUTE_TIME=1e3,R=function(lt,Ke,He,Ue){var Ze,ot=arguments.length,et=ot<3?Ke:null===Ue?Ue=Object.getOwnPropertyDescriptor(Ke,He):Ue;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)et=Reflect.decorate(lt,Ke,He,Ue);else for(var Mt=lt.length-1;Mt>=0;Mt--)(Ze=lt[Mt])&&(et=(ot<3?Ze(et):ot>3?Ze(Ke,He,et):Ze(Ke,He))||et);return ot>3&&et&&Object.defineProperty(Ke,He,et),et}([S(1,I.Ui),S(2,p.p),S(3,a.A)],R),(0,s._K)(R.ID,R);var Q=e(52787);class Z{constructor(Ke,He,Ue){this.presentationIndex=Ue,this._onColorFlushed=new Q.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new Q.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new Q.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=Ke,this._color=Ke,this._colorPresentations=He}get color(){return this._color}set color(Ke){this._color.equals(Ke)||(this._color=Ke,this._onDidChangeColor.fire(Ke))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(Ke){this._colorPresentations=Ke,this.presentationIndex>Ke.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(Ke,He){for(let Ue=0;Ue<this.colorPresentations.length;Ue++)if(He.toLowerCase()===this.colorPresentations[Ue].label){this.presentationIndex=Ue,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}var G=e(13366),F=e(58059),W=e(96908),B=e(83568),z=e(93379),j=e.n(z),Y=e(7795),E=e.n(Y),V=e(90569),$=e.n(V),te=e(3565),w=e.n(te),fe=e(19216),be=e.n(fe),me=e(44589),Ie=e.n(me),ee=e(3395),ce={};ce.styleTagTransform=Ie(),ce.setAttributes=w(),ce.insert=$().bind(null,"head"),ce.domAPI=E(),ce.insertStyleElement=be(),j()(ee.Z,ce);var ge=e(40402),re=e(28708),Se=e(23024);const Pe=F.$;class Ve extends f.JT{constructor(Ke,He,Ue){super(),this.model=He,this.domNode=Pe(".colorpicker-header"),F.R3(Ke,this.domNode),this.pickedColorNode=F.R3(this.domNode,Pe(".picked-color"));const ot=(0,ge.NC)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",ot);const et=F.R3(this.domNode,Pe(".original-color"));et.style.backgroundColor=u.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=Ue.getColorTheme().getColor(re.yJx)||u.Il.white,this._register((0,Se.Ic)((Ze,Mt)=>{this.backgroundColor=Ze.getColor(re.yJx)||u.Il.white})),this._register(F.nm(this.pickedColorNode,F.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(F.nm(et,F.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(He.onDidChangeColor(this.onDidChangeColor,this)),this._register(He.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=u.Il.Format.CSS.format(He.color)||"",this.pickedColorNode.classList.toggle("light",He.color.rgba.a<.5?this.backgroundColor.isLighter():He.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(Ke){this.pickedColorNode.style.backgroundColor=u.Il.Format.CSS.format(Ke)||"",this.pickedColorNode.classList.toggle("light",Ke.rgba.a<.5?this.backgroundColor.isLighter():Ke.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(Pe(".codicon.codicon-color-mode"))}}class ie extends f.JT{constructor(Ke,He,Ue){super(),this.model=He,this.pixelRatio=Ue,this.domNode=Pe(".colorpicker-body"),F.R3(Ke,this.domNode),this.saturationBox=new ye(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new Be(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new Qe(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:Ke,v:He}){const Ue=this.model.color.hsva;this.model.color=new u.Il(new u.tx(Ue.h,Ke,He,Ue.a))}onDidOpacityChange(Ke){const He=this.model.color.hsva;this.model.color=new u.Il(new u.tx(He.h,He.s,He.v,Ke))}onDidHueChange(Ke){const He=this.model.color.hsva,Ue=360*(1-Ke);this.model.color=new u.Il(new u.tx(360===Ue?0:Ue,He.s,He.v,He.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class ye extends f.JT{constructor(Ke,He,Ue){super(),this.model=He,this.pixelRatio=Ue,this._onDidChange=new Q.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new Q.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=Pe(".saturation-wrap"),F.R3(Ke,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",F.R3(this.domNode,this.canvas),this.selection=Pe(".saturation-selection"),F.R3(this.domNode,this.selection),this.layout(),this._register(F.nm(this.domNode,F.tw.POINTER_DOWN,ot=>this.onPointerDown(ot))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onPointerDown(Ke){if(!(Ke.target&&Ke.target instanceof Element))return;this.monitor=this._register(new W.C);const He=F.i(this.domNode);Ke.target!==this.selection&&this.onDidChangePosition(Ke.offsetX,Ke.offsetY),this.monitor.startMonitoring(Ke.target,Ke.pointerId,Ke.buttons,ot=>this.onDidChangePosition(ot.pageX-He.left,ot.pageY-He.top),()=>null);const Ue=F.nm(document,F.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),Ue.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(Ke,He){const Ue=Math.max(0,Math.min(1,Ke/this.width)),ot=Math.max(0,Math.min(1,1-He/this.height));this.paintSelection(Ue,ot),this._onDidChange.fire({s:Ue,v:ot})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const Ke=this.model.color.hsva;this.paintSelection(Ke.s,Ke.v)}paint(){const He=new u.Il(new u.tx(this.model.color.hsva.h,1,1,1)),Ue=this.canvas.getContext("2d"),ot=Ue.createLinearGradient(0,0,this.canvas.width,0);ot.addColorStop(0,"rgba(255, 255, 255, 1)"),ot.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),ot.addColorStop(1,"rgba(255, 255, 255, 0)");const et=Ue.createLinearGradient(0,0,0,this.canvas.height);et.addColorStop(0,"rgba(0, 0, 0, 0)"),et.addColorStop(1,"rgba(0, 0, 0, 1)"),Ue.rect(0,0,this.canvas.width,this.canvas.height),Ue.fillStyle=u.Il.Format.CSS.format(He),Ue.fill(),Ue.fillStyle=ot,Ue.fill(),Ue.fillStyle=et,Ue.fill()}paintSelection(Ke,He){this.selection.style.left=Ke*this.width+"px",this.selection.style.top=this.height-He*this.height+"px"}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class _e extends f.JT{constructor(Ke,He){super(),this.model=He,this._onDidChange=new Q.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new Q.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=F.R3(Ke,Pe(".strip")),this.overlay=F.R3(this.domNode,Pe(".overlay")),this.slider=F.R3(this.domNode,Pe(".slider")),this.slider.style.top="0px",this._register(F.nm(this.domNode,F.tw.POINTER_DOWN,Ue=>this.onPointerDown(Ue))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const Ke=this.getValue(this.model.color);this.updateSliderPosition(Ke)}onPointerDown(Ke){if(!(Ke.target&&Ke.target instanceof Element))return;const He=this._register(new W.C),Ue=F.i(this.domNode);this.domNode.classList.add("grabbing"),Ke.target!==this.slider&&this.onDidChangeTop(Ke.offsetY),He.startMonitoring(Ke.target,Ke.pointerId,Ke.buttons,et=>this.onDidChangeTop(et.pageY-Ue.top),()=>null);const ot=F.nm(document,F.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),ot.dispose(),He.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(Ke){const He=Math.max(0,Math.min(1,1-Ke/this.height));this.updateSliderPosition(He),this._onDidChange.fire(He)}updateSliderPosition(Ke){this.slider.style.top=(1-Ke)*this.height+"px"}}class Be extends _e{constructor(Ke,He){super(Ke,He),this.domNode.classList.add("opacity-strip"),this._register(He.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(Ke){const{r:He,g:Ue,b:ot}=Ke.rgba,et=new u.Il(new u.VS(He,Ue,ot,1)),Ze=new u.Il(new u.VS(He,Ue,ot,0));this.overlay.style.background=`linear-gradient(to bottom, ${et} 0%, ${Ze} 100%)`}getValue(Ke){return Ke.hsva.a}}class Qe extends _e{constructor(Ke,He){super(Ke,He),this.domNode.classList.add("hue-strip")}getValue(Ke){return 1-Ke.hsva.h/360}}class Ae extends B.${constructor(Ke,He,Ue,ot){super(),this.model=He,this.pixelRatio=Ue,this._register(G.PixelRatio.onDidChange(()=>this.layout()));const et=Pe(".colorpicker-widget");Ke.appendChild(et);const Ze=new Ve(et,this.model,ot);this.body=new ie(et,this.model,this.pixelRatio),this._register(Ze),this._register(this.body)}layout(){this.body.layout()}}var Oe=function(lt,Ke,He,Ue){return new(He||(He=Promise))(function(et,Ze){function Mt(dt){try{ze(Ue.next(dt))}catch($t){Ze($t)}}function Nt(dt){try{ze(Ue.throw(dt))}catch($t){Ze($t)}}function ze(dt){dt.done?et(dt.value):function ot(et){return et instanceof He?et:new He(function(Ze){Ze(et)})}(dt.value).then(Mt,Nt)}ze((Ue=Ue.apply(lt,Ke||[])).next())})};class Ne{constructor(Ke,He,Ue,ot){this.owner=Ke,this.range=He,this.model=Ue,this.provider=ot,this.forceShowAtRange=!0}isValidForHoverAnchor(Ke){return 1===Ke.type&&this.range.startColumn<=Ke.range.startColumn&&this.range.endColumn>=Ke.range.endColumn}}let ne=class{constructor(Ke,He){this._editor=Ke,this._themeService=He,this.hoverOrdinal=1}computeSync(Ke,He){return[]}computeAsync(Ke,He,Ue){return M.Aq.fromPromise(this._computeAsync(Ke,He,Ue))}_computeAsync(Ke,He,Ue){return Oe(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const ot=R.get(this._editor);if(!ot)return[];for(const et of He){if(!ot.isColorDecoration(et))continue;const Ze=ot.getColorData(et.range.getStartPosition());if(Ze)return[yield this._createColorHover(this._editor.getModel(),Ze.colorInfo,Ze.provider)]}return[]})}_createColorHover(Ke,He,Ue){return Oe(this,void 0,void 0,function*(){const ot=Ke.getValueInRange(He.range),{red:et,green:Ze,blue:Mt,alpha:Nt}=He.color,ze=new u.VS(Math.round(255*et),Math.round(255*Ze),Math.round(255*Mt),Nt),dt=new u.Il(ze),$t=yield m(Ke,He,Ue,c.T.None),hn=new Z(dt,[],0);return hn.colorPresentations=$t||[],hn.guessColorPresentation(dt,ot),new Ne(this,L.e.lift(He.range),hn,Ue)})}renderHoverParts(Ke,He){if(0===He.length||!this._editor.hasModel())return f.JT.None;const Ue=new f.SL,ot=He[0],et=this._editor.getModel(),Ze=ot.model,Mt=Ue.add(new Ae(Ke.fragment,Ze,this._editor.getOption(131),this._themeService));Ke.setColorPicker(Mt);let Nt=new L.e(ot.range.startLineNumber,ot.range.startColumn,ot.range.endLineNumber,ot.range.endColumn);const ze=()=>{let $t,hn;if(Ze.presentation.textEdit){$t=[Ze.presentation.textEdit],hn=new L.e(Ze.presentation.textEdit.range.startLineNumber,Ze.presentation.textEdit.range.startColumn,Ze.presentation.textEdit.range.endLineNumber,Ze.presentation.textEdit.range.endColumn);const vn=this._editor.getModel()._setTrackedRange(null,hn,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",$t),hn=this._editor.getModel()._getTrackedRange(vn)||hn}else $t=[{range:Nt,text:Ze.presentation.label,forceMoveMarkers:!1}],hn=Nt.setEndPosition(Nt.endLineNumber,Nt.startColumn+Ze.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",$t);Ze.presentation.additionalTextEdits&&($t=[...Ze.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",$t),Ke.hide()),this._editor.pushUndoStop(),Nt=hn},dt=$t=>m(et,{range:Nt,color:{red:$t.rgba.r/255,green:$t.rgba.g/255,blue:$t.rgba.b/255,alpha:$t.rgba.a}},ot.provider,c.T.None).then(hn=>{Ze.colorPresentations=hn||[]});return Ue.add(Ze.onColorFlushed($t=>{dt($t).then(ze)})),Ue.add(Ze.onDidChangeColor(dt)),Ue}};var Ke;ne=function(lt,Ke,He,Ue){var Ze,ot=arguments.length,et=ot<3?Ke:null===Ue?Ue=Object.getOwnPropertyDescriptor(Ke,He):Ue;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)et=Reflect.decorate(lt,Ke,He,Ue);else for(var Mt=lt.length-1;Mt>=0;Mt--)(Ze=lt[Mt])&&(et=(ot<3?Ze(et):ot>3?Ze(Ke,He,et):Ze(Ke,He))||et);return ot>3&&et&&Object.defineProperty(Ke,He,et),et}([(1,Ke=Se.XE,function(He,Ue){Ke(He,Ue,1)})],ne);var xe=e(3184),Je=e(1754);let gt=(()=>{class lt extends f.JT{constructor(He){super(),this._editor=He,this._register(He.onMouseDown(Ue=>this.onMouseDown(Ue)))}dispose(){super.dispose()}onMouseDown(He){const Ue=He.target;if(6!==Ue.type||!Ue.detail.injectedText||Ue.detail.injectedText.options.attachedData!==x||!Ue.range)return;const ot=this._editor.getContribution(xe.ModesHoverController.ID);if(ot&&!ot.isColorPickerVisible()){const et=new L.e(Ue.range.startLineNumber,Ue.range.startColumn+1,Ue.range.endLineNumber,Ue.range.endColumn+1);ot.showContentHover(et,1,!1)}}}return lt.ID="editor.contrib.colorContribution",lt})();(0,s._K)(gt.ID,gt),Je.Ae.register(ne)},50425:(at,ue,e)=>{"use strict";e.r(ue);var f=e(36950),s=e(95172),L=e(68451),M=e(29584),u=e(23924),P=e(12033),A=e(94220),k=e(43210);class N{constructor(y,S,b){this.languageConfigurationService=b,this._selection=y,this._insertSpace=S,this._usedEndToken=null}static _haystackHasNeedleAtOffset(y,S,b){if(b<0)return!1;const x=S.length;if(b+x>y.length)return!1;for(let R=0;R<x;R++){const Q=y.charCodeAt(b+R),Z=S.charCodeAt(R);if(!(Q===Z||Q>=65&&Q<=90&&Q+32===Z||Z>=65&&Z<=90&&Z+32===Q))return!1}return!0}_createOperationsForBlockComment(y,S,b,x,T,R){const Q=y.startLineNumber,Z=y.startColumn,G=y.endLineNumber,F=y.endColumn,W=T.getLineContent(Q),B=T.getLineContent(G);let Y,z=W.lastIndexOf(S,Z-1+S.length),j=B.indexOf(b,F-1-b.length);if(-1!==z&&-1!==j)if(Q===G)W.substring(z+S.length,j).indexOf(b)>=0&&(z=-1,j=-1);else{const E=W.substring(z+S.length),V=B.substring(0,j);(E.indexOf(b)>=0||V.indexOf(b)>=0)&&(z=-1,j=-1)}-1!==z&&-1!==j?(x&&z+S.length<W.length&&32===W.charCodeAt(z+S.length)&&(S+=" "),x&&j>0&&32===B.charCodeAt(j-1)&&(b=" "+b,j-=1),Y=N._createRemoveBlockCommentOperations(new L.e(Q,z+S.length+1,G,j+1),S,b)):(Y=N._createAddBlockCommentOperations(y,S,b,this._insertSpace),this._usedEndToken=1===Y.length?b:null);for(const E of Y)R.addTrackedEditOperation(E.range,E.text)}static _createRemoveBlockCommentOperations(y,S,b){const x=[];return L.e.isEmpty(y)?x.push(P.h.delete(new L.e(y.startLineNumber,y.startColumn-S.length,y.endLineNumber,y.endColumn+b.length))):(x.push(P.h.delete(new L.e(y.startLineNumber,y.startColumn-S.length,y.startLineNumber,y.startColumn))),x.push(P.h.delete(new L.e(y.endLineNumber,y.endColumn,y.endLineNumber,y.endColumn+b.length)))),x}static _createAddBlockCommentOperations(y,S,b,x){const T=[];return L.e.isEmpty(y)?T.push(P.h.replace(new L.e(y.startLineNumber,y.startColumn,y.endLineNumber,y.endColumn),S+"  "+b)):(T.push(P.h.insert(new A.L(y.startLineNumber,y.startColumn),S+(x?" ":""))),T.push(P.h.insert(new A.L(y.endLineNumber,y.endColumn),(x?" ":"")+b))),T}getEditOperations(y,S){const b=this._selection.startLineNumber,x=this._selection.startColumn;y.tokenization.tokenizeIfCheap(b);const T=y.getLanguageIdAtPosition(b,x),R=this.languageConfigurationService.getLanguageConfiguration(T).comments;!R||!R.blockCommentStartToken||!R.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,R.blockCommentStartToken,R.blockCommentEndToken,this._insertSpace,y,S)}computeCursorState(y,S){const b=S.getInverseEditOperations();if(2===b.length){const x=b[0],T=b[1];return new k.Y(x.range.endLineNumber,x.range.endColumn,T.range.startLineNumber,T.range.startColumn)}{const x=b[0].range,T=this._usedEndToken?-this._usedEndToken.length-1:0;return new k.Y(x.endLineNumber,x.endColumn+T,x.endLineNumber,x.endColumn+T)}}}var _=e(93059);class a{constructor(y,S,b,x,T,R,Q){this.languageConfigurationService=y,this._selection=S,this._tabSize=b,this._type=x,this._insertSpace=T,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=R,this._ignoreFirstLine=Q||!1}static _gatherPreflightCommentStrings(y,S,b,x){y.tokenization.tokenizeIfCheap(S);const T=y.getLanguageIdAtPosition(S,1),R=x.getLanguageConfiguration(T).comments,Q=R?R.lineCommentToken:null;if(!Q)return null;const Z=[];for(let G=0,F=b-S+1;G<F;G++)Z[G]={ignore:!1,commentStr:Q,commentStrOffset:0,commentStrLength:Q.length};return Z}static _analyzeLines(y,S,b,x,T,R,Q,Z){let F,G=!0;F=0===y||1!==y;for(let W=0,B=x.length;W<B;W++){const z=x[W],j=T+W;if(j===T&&Q){z.ignore=!0;continue}const Y=b.getLineContent(j),E=_.LC(Y);if(-1!==E){if(G=!1,z.ignore=!1,z.commentStrOffset=E,F&&!N._haystackHasNeedleAtOffset(Y,z.commentStr,E)&&(0===y?F=!1:1===y||(z.ignore=!0)),F&&S){const V=E+z.commentStrLength;V<Y.length&&32===Y.charCodeAt(V)&&(z.commentStrLength+=1)}}else z.ignore=R,z.commentStrOffset=Y.length}if(0===y&&G){F=!1;for(let W=0,B=x.length;W<B;W++)x[W].ignore=!1}return{supported:!0,shouldRemoveComments:F,lines:x}}static _gatherPreflightData(y,S,b,x,T,R,Q,Z){const G=a._gatherPreflightCommentStrings(b,x,T,Z);return null===G?{supported:!1}:a._analyzeLines(y,S,b,G,x,R,Q,Z)}_executeLineComments(y,S,b,x){let T;b.shouldRemoveComments?T=a._createRemoveLineCommentsOperations(b.lines,x.startLineNumber):(a._normalizeInsertionPoint(y,b.lines,x.startLineNumber,this._tabSize),T=this._createAddLineCommentsOperations(b.lines,x.startLineNumber));const R=new A.L(x.positionLineNumber,x.positionColumn);for(let Q=0,Z=T.length;Q<Z;Q++)S.addEditOperation(T[Q].range,T[Q].text),L.e.isEmpty(T[Q].range)&&L.e.getStartPosition(T[Q].range).equals(R)&&y.getLineContent(R.lineNumber).length+1===R.column&&(this._deltaColumn=(T[Q].text||"").length);this._selectionId=S.trackSelection(x)}_attemptRemoveBlockComment(y,S,b,x){let T=S.startLineNumber,R=S.endLineNumber;const Q=x.length+Math.max(y.getLineFirstNonWhitespaceColumn(S.startLineNumber),S.startColumn);let Z=y.getLineContent(T).lastIndexOf(b,Q-1),G=y.getLineContent(R).indexOf(x,S.endColumn-1-b.length);return-1!==Z&&-1===G&&(G=y.getLineContent(T).indexOf(x,Z+b.length),R=T),-1===Z&&-1!==G&&(Z=y.getLineContent(R).lastIndexOf(b,G),T=R),S.isEmpty()&&(-1===Z||-1===G)&&(Z=y.getLineContent(T).indexOf(b),-1!==Z&&(G=y.getLineContent(T).indexOf(x,Z+b.length))),-1!==Z&&32===y.getLineContent(T).charCodeAt(Z+b.length)&&(b+=" "),-1!==G&&32===y.getLineContent(R).charCodeAt(G-1)&&(x=" "+x,G-=1),-1!==Z&&-1!==G?N._createRemoveBlockCommentOperations(new L.e(T,Z+b.length+1,R,G+1),b,x):null}_executeBlockComment(y,S,b){y.tokenization.tokenizeIfCheap(b.startLineNumber);const x=y.getLanguageIdAtPosition(b.startLineNumber,1),T=this.languageConfigurationService.getLanguageConfiguration(x).comments;if(!T||!T.blockCommentStartToken||!T.blockCommentEndToken)return;const R=T.blockCommentStartToken,Q=T.blockCommentEndToken;let Z=this._attemptRemoveBlockComment(y,b,R,Q);if(!Z){if(b.isEmpty()){const G=y.getLineContent(b.startLineNumber);let F=_.LC(G);-1===F&&(F=G.length),Z=N._createAddBlockCommentOperations(new L.e(b.startLineNumber,F+1,b.startLineNumber,G.length+1),R,Q,this._insertSpace)}else Z=N._createAddBlockCommentOperations(new L.e(b.startLineNumber,y.getLineFirstNonWhitespaceColumn(b.startLineNumber),b.endLineNumber,y.getLineMaxColumn(b.endLineNumber)),R,Q,this._insertSpace);1===Z.length&&(this._deltaColumn=R.length+1)}this._selectionId=S.trackSelection(b);for(const G of Z)S.addEditOperation(G.range,G.text)}getEditOperations(y,S){let b=this._selection;if(this._moveEndPositionDown=!1,b.startLineNumber===b.endLineNumber&&this._ignoreFirstLine)return S.addEditOperation(new L.e(b.startLineNumber,y.getLineMaxColumn(b.startLineNumber),b.startLineNumber+1,1),b.startLineNumber===y.getLineCount()?"":"\n"),void(this._selectionId=S.trackSelection(b));b.startLineNumber<b.endLineNumber&&1===b.endColumn&&(this._moveEndPositionDown=!0,b=b.setEndPosition(b.endLineNumber-1,y.getLineMaxColumn(b.endLineNumber-1)));const x=a._gatherPreflightData(this._type,this._insertSpace,y,b.startLineNumber,b.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return x.supported?this._executeLineComments(y,S,x,b):this._executeBlockComment(y,S,b)}computeCursorState(y,S){let b=S.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(b=b.setEndPosition(b.endLineNumber+1,1)),new k.Y(b.selectionStartLineNumber,b.selectionStartColumn+this._deltaColumn,b.positionLineNumber,b.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(y,S){const b=[];for(let x=0,T=y.length;x<T;x++){const R=y[x];R.ignore||b.push(P.h.delete(new L.e(S+x,R.commentStrOffset+1,S+x,R.commentStrOffset+R.commentStrLength+1)))}return b}_createAddLineCommentsOperations(y,S){const b=[],x=this._insertSpace?" ":"";for(let T=0,R=y.length;T<R;T++){const Q=y[T];Q.ignore||b.push(P.h.insert(new A.L(S+T,Q.commentStrOffset+1),Q.commentStr+x))}return b}static nextVisibleColumn(y,S,b,x){return b?y+(S-y%S):y+x}static _normalizeInsertionPoint(y,S,b,x){let R,Q,T=1073741824;for(let Z=0,G=S.length;Z<G;Z++){if(S[Z].ignore)continue;const F=y.getLineContent(b+Z);let W=0;for(let B=0,z=S[Z].commentStrOffset;W<T&&B<z;B++)W=a.nextVisibleColumn(W,x,9===F.charCodeAt(B),1);W<T&&(T=W)}T=Math.floor(T/x)*x;for(let Z=0,G=S.length;Z<G;Z++){if(S[Z].ignore)continue;const F=y.getLineContent(b+Z);let W=0;for(R=0,Q=S[Z].commentStrOffset;W<T&&R<Q;R++)W=a.nextVisibleColumn(W,x,9===F.charCodeAt(R),1);S[Z].commentStrOffset=W>T?R-1:R}}}var p=e(40402),c=e(61004);class n extends s.R6{constructor(y,S){super(S),this._type=y}run(y,S){const b=y.get(u.c_);if(!S.hasModel())return;const T=[],R=S.getModel().getOptions(),Q=S.getOption(19),Z=S.getSelections().map((F,W)=>({selection:F,index:W,ignoreFirstLine:!1}));Z.sort((F,W)=>L.e.compareRangesUsingStarts(F.selection,W.selection));let G=Z[0];for(let F=1;F<Z.length;F++){const W=Z[F];G.selection.endLineNumber===W.selection.startLineNumber&&(G.index<W.index?W.ignoreFirstLine=!0:(G.ignoreFirstLine=!0,G=W))}for(const F of Z)T.push(new a(b,F.selection,R.tabSize,this._type,Q.insertSpace,Q.ignoreEmptyLines,F.ignoreFirstLine));S.pushUndoStop(),S.executeCommands(this.id,T),S.pushUndoStop()}}(0,s.Qr)(class l extends n{constructor(){super(0,{id:"editor.action.commentLine",label:p.NC("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:M.u.writable,kbOpts:{kbExpr:M.u.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:c.eH.MenubarEditMenu,group:"5_insert",title:p.NC({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}),(0,s.Qr)(class v extends n{constructor(){super(1,{id:"editor.action.addCommentLine",label:p.NC("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:M.u.writable,kbOpts:{kbExpr:M.u.editorTextFocus,primary:(0,f.gx)(2089,2081),weight:100}})}}),(0,s.Qr)(class d extends n{constructor(){super(2,{id:"editor.action.removeCommentLine",label:p.NC("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:M.u.writable,kbOpts:{kbExpr:M.u.editorTextFocus,primary:(0,f.gx)(2089,2099),weight:100}})}}),(0,s.Qr)(class m extends s.R6{constructor(){super({id:"editor.action.blockComment",label:p.NC("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:M.u.writable,kbOpts:{kbExpr:M.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:c.eH.MenubarEditMenu,group:"5_insert",title:p.NC({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(y,S){const b=y.get(u.c_);if(!S.hasModel())return;const x=S.getOption(19),T=[],R=S.getSelections();for(const Q of R)T.push(new N(Q,x.insertSpace,b));S.pushUndoStop(),S.executeCommands(this.id,T),S.pushUndoStop()}})},13334:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{ContextMenuController:()=>v});var f=e(58059),s=e(45909),L=e(85113),M=e(52425),u=e(38972),P=e(95172),A=e(29584),k=e(40402),N=e(61004),_=e(59776),a=e(34394),p=e(77090),c=e(9869),l=function(m,I){return function(y,S){I(y,S,m)}};let v=class kd{constructor(I,y,S,b,x,T,R){this._contextMenuService=y,this._contextViewService=S,this._contextKeyService=b,this._keybindingService=x,this._menuService=T,this._configurationService=R,this._toDispose=new M.SL,this._contextMenuIsBeingShownCount=0,this._editor=I,this._toDispose.add(this._editor.onContextMenu(Q=>this._onContextMenu(Q))),this._toDispose.add(this._editor.onMouseWheel(Q=>{if(this._contextMenuIsBeingShownCount>0){const Z=this._contextViewService.getContextViewElement(),G=Q.srcElement;G.shadowRoot&&f.Ay(Z)===G.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(Q=>{!this._editor.getOption(20)||58===Q.keyCode&&(Q.preventDefault(),Q.stopPropagation(),this.showContextMenu())}))}static get(I){return I.getContribution(kd.ID)}_onContextMenu(I){if(!this._editor.hasModel())return;if(!this._editor.getOption(20))return this._editor.focus(),void(I.target.position&&!this._editor.getSelection().containsPosition(I.target.position)&&this._editor.setPosition(I.target.position));if(12===I.target.type||6===I.target.type&&I.target.detail.injectedText)return;if(I.event.preventDefault(),I.event.stopPropagation(),11===I.target.type)return this._showScrollbarContextMenu({x:I.event.posx-1,width:2,y:I.event.posy-1,height:2});if(6!==I.target.type&&7!==I.target.type&&1!==I.target.type)return;if(this._editor.focus(),I.target.position){let S=!1;for(const b of this._editor.getSelections())if(b.containsPosition(I.target.position)){S=!0;break}S||this._editor.setPosition(I.target.position)}let y=null;1!==I.target.type&&(y={x:I.event.posx-1,width:2,y:I.event.posy-1,height:2}),this.showContextMenu(y)}showContextMenu(I){if(!this._editor.getOption(20)||!this._editor.hasModel())return;const y=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?N.eH.SimpleEditorContext:N.eH.EditorContext);y.length>0&&this._doShowContextMenu(y,I)}_getMenuActions(I,y){const S=[],b=this._menuService.createMenu(y,this._contextKeyService),x=b.getActions({arg:I.uri});b.dispose();for(const T of x){const[,R]=T;let Q=0;for(const Z of R)if(Z instanceof N.NZ){const G=this._getMenuActions(I,Z.item.submenu);G.length>0&&(S.push(new L.wY(Z.id,Z.label,G)),Q++)}else S.push(Z),Q++;Q&&S.push(new L.Z0)}return S.length&&S.pop(),S}_doShowContextMenu(I,y=null){if(!this._editor.hasModel())return;const S=this._editor.getOption(55);if(this._editor.updateOptions({hover:{enabled:!1}}),!y){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const x=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),T=f.i(this._editor.getDomNode());y={x:T.left+x.left,y:T.top+x.top+x.height}}const b=this._editor.getOption(117)&&!u.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:b?this._editor.getDomNode():void 0,getAnchor:()=>y,getActions:()=>I,getActionViewItem:x=>{const T=this._keybindingFor(x);return T?new s.g(x,x,{label:!0,keybinding:T.getLabel(),isMenu:!0}):"function"==typeof x.getActionViewItem?x.getActionViewItem():new s.g(x,x,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:x=>this._keybindingFor(x),onHide:x=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:S})}})}_showScrollbarContextMenu(I){if(!this._editor.hasModel())return;const y=this._editor.getOption(67);let S=0;const b=Z=>({id:"menu-action-"+ ++S,label:Z.label,tooltip:"",class:void 0,enabled:void 0===Z.enabled||Z.enabled,checked:Z.checked,run:Z.run,dispose:()=>null}),T=(Z,G,F,W,B)=>{if(!G)return b({label:Z,enabled:G,run:()=>{}});const z=Y=>()=>{this._configurationService.updateValue(F,Y)},j=[];for(const Y of B)j.push(b({label:Y.label,checked:W===Y.value,run:z(Y.value)}));return((Z,G)=>new L.wY("menu-action-"+ ++S,Z,G,void 0))(Z,j)},R=[];R.push(b({label:k.NC("context.minimap.minimap","Minimap"),checked:y.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!y.enabled)}})),R.push(new L.Z0),R.push(b({label:k.NC("context.minimap.renderCharacters","Render Characters"),enabled:y.enabled,checked:y.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!y.renderCharacters)}})),R.push(T(k.NC("context.minimap.size","Vertical size"),y.enabled,"editor.minimap.size",y.size,[{label:k.NC("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:k.NC("context.minimap.size.fill","Fill"),value:"fill"},{label:k.NC("context.minimap.size.fit","Fit"),value:"fit"}])),R.push(T(k.NC("context.minimap.slider","Slider"),y.enabled,"editor.minimap.showSlider",y.showSlider,[{label:k.NC("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:k.NC("context.minimap.slider.always","Always"),value:"always"}]));const Q=this._editor.getOption(117)&&!u.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:Q?this._editor.getDomNode():void 0,getAnchor:()=>I,getActions:()=>R,onHide:Z=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(I){return this._keybindingService.lookupKeybinding(I.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};v.ID="editor.contrib.contextmenu",v=function(m,I,y,S){var T,b=arguments.length,x=b<3?I:null===S?S=Object.getOwnPropertyDescriptor(I,y):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)x=Reflect.decorate(m,I,y,S);else for(var R=m.length-1;R>=0;R--)(T=m[R])&&(x=(b<3?T(x):b>3?T(I,y,x):T(I,y))||x);return b>3&&x&&Object.defineProperty(I,y,x),x}([l(1,a.i),l(2,a.u),l(3,_.i6),l(4,p.d),l(5,N.co),l(6,c.Ui)],v),(0,P._K)(v.ID,v),(0,P.Qr)(class d extends P.R6{constructor(){super({id:"editor.action.showContextMenu",label:k.NC("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:A.u.textInputFocus,primary:1092,weight:100}})}run(I,y){var S;null===(S=v.get(y))||void 0===S||S.showContextMenu()}})},39342:(at,ue,e)=>{"use strict";e.r(ue);var f=e(95172),s=e(90586),L=e(26889),M=e(58059),u=e(63072),P=e(93753),A=e(52425),k=e(59341),N=e(54010),_=e(46510),a=e(84067),p=e(68451),c=e(37464),n=e(23914),l=e(76295),v=e(65676),d=e(80777),m=e(9869),y=function(Z,G){return function(F,W){G(F,W,Z)}},S=function(Z,G,F,W){return new(F||(F=Promise))(function(z,j){function Y($){try{V(W.next($))}catch(te){j(te)}}function E($){try{V(W.throw($))}catch(te){j(te)}}function V($){$.done?z($.value):function B(z){return z instanceof F?z:new F(function(j){j(z)})}($.value).then(Y,E)}V((W=W.apply(Z,G||[])).next())})};const b="application/vnd.code.copyMetadata";let x=class extends A.JT{constructor(G,F,W,B,z){super(),this._bulkEditService=F,this._clipboardService=W,this._configurationService=B,this._languageFeaturesService=z,this._editor=G;const j=G.getContainerDomNode();this._register((0,M.nm)(j,"copy",Y=>this.handleCopy(Y))),this._register((0,M.nm)(j,"cut",Y=>this.handleCopy(Y))),this._register((0,M.nm)(j,"paste",Y=>this.handlePaste(Y),!0))}arePasteActionsEnabled(G){return this._configurationService.getValue("editor.experimental.pasteActions.enabled",{resource:G.uri})}handleCopy(G){var F;if(!G.clipboardData||!this._editor.hasTextFocus())return;const W=this._editor.getModel(),B=this._editor.getSelections();if(!W||null==B||!B.length||!this.arePasteActionsEnabled(W))return;const z=[...B],j=B[0],Y=j.isEmpty();if(Y){if(!this._editor.getOption(33))return;z[0]=new p.e(j.startLineNumber,0,j.startLineNumber,W.getLineLength(j.startLineNumber))}const E=this._languageFeaturesService.documentPasteEditProvider.ordered(W).filter(w=>!!w.prepareDocumentPaste);if(!E.length)return void this.setCopyMetadata(G.clipboardData,{wasFromEmptySelection:Y});const V=(0,_.Bo)(G.clipboardData),$=(0,N.R)();this.setCopyMetadata(G.clipboardData,{id:$,wasFromEmptySelection:Y});const te=(0,u.PG)(w=>S(this,void 0,void 0,function*(){const fe=yield Promise.all(E.map(be=>be.prepareDocumentPaste(W,z,V,w)));for(const be of fe)null==be||be.forEach((me,Ie)=>{V.replace(Ie,me)});return V}));null===(F=this._currentClipboardItem)||void 0===F||F.dataTransferPromise.cancel(),this._currentClipboardItem={handle:$,dataTransferPromise:te}}setCopyMetadata(G,F){G.setData(b,JSON.stringify(F))}handlePaste(G){var F,W,B;return S(this,void 0,void 0,function*(){if(!G.clipboardData||!this._editor.hasTextFocus())return;const z=this._editor.getSelections();if(null==z||!z.length||!this._editor.hasModel())return;const j=this._editor.getModel();if(!this.arePasteActionsEnabled(j))return;let Y;const E=null===(F=G.clipboardData)||void 0===F?void 0:F.getData(b);E&&"string"==typeof E&&(Y=JSON.parse(E));const V=this._languageFeaturesService.documentPasteEditProvider.ordered(j);if(!V.length)return;G.preventDefault(),G.stopImmediatePropagation();const $=j.getVersionId(),te=new n.Dl(this._editor,3);try{const w=(0,_.Bo)(G.clipboardData);if((null==Y?void 0:Y.id)&&(null===(W=this._currentClipboardItem)||void 0===W?void 0:W.handle)===Y.id&&(yield this._currentClipboardItem.dataTransferPromise).forEach((Ie,ee)=>{w.replace(ee,Ie)}),!w.has(k.v.uriList)){const me=yield this._clipboardService.readResources();me.length&&w.append(k.v.uriList,(0,P.ZO)(_.Z0.create(me)))}w.delete(b);for(const me of V){if(!me.pasteMimeTypes.some(ee=>ee.toLowerCase()===L.g.FILES.toLowerCase()?[...w.values()].some(ce=>ce.asFile()):w.has(ee)))continue;const Ie=yield me.provideDocumentPasteEdits(j,z,w,te.token);if($!==j.getVersionId())return;if(Ie)return(0,l.performSnippetEdit)(this._editor,"string"==typeof Ie.insertText?v.Yj.escape(Ie.insertText):Ie.insertText.snippet,z),void(Ie.additionalEdit&&(yield this._bulkEditService.apply(a.fo.convert(Ie.additionalEdit),{editor:this._editor})))}const fe=null!==(B=w.get(k.v.text))&&void 0!==B?B:w.get("text");if(!fe)return;const be=yield fe.asString();if($!==j.getVersionId())return;this._editor.trigger("keyboard","paste",{text:be,pasteOnNewLine:null==Y?void 0:Y.wasFromEmptySelection,multicursorText:null})}finally{te.dispose()}})}};x.ID="editor.contrib.copyPasteActionController",x=function(Z,G,F,W){var j,B=arguments.length,z=B<3?G:null===W?W=Object.getOwnPropertyDescriptor(G,F):W;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)z=Reflect.decorate(Z,G,F,W);else for(var Y=Z.length-1;Y>=0;Y--)(j=Z[Y])&&(z=(B<3?j(z):B>3?j(G,F,z):j(G,F))||z);return B>3&&z&&Object.defineProperty(G,F,z),z}([y(1,a.vu),y(2,d.p),y(3,m.Ui),y(4,c.p)],x);var T=e(40402),R=e(17732),Q=e(29537);(0,f._K)(x.ID,x),Q.B.as(R.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},s.wk),{properties:{"editor.experimental.pasteActions.enabled":{type:"boolean",scope:5,description:T.NC("pasteActions","Enable/disable running edits from extensions on paste."),default:!1}}}))},72304:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{CursorRedo:()=>N,CursorUndo:()=>k,CursorUndoRedoController:()=>A});var f=e(52425),s=e(95172),L=e(29584),M=e(40402);class u{constructor(a){this.selections=a}equals(a){const p=this.selections.length;if(p!==a.selections.length)return!1;for(let n=0;n<p;n++)if(!this.selections[n].equalsSelection(a.selections[n]))return!1;return!0}}class P{constructor(a,p,c){this.cursorState=a,this.scrollTop=p,this.scrollLeft=c}}let A=(()=>{class _ extends f.JT{constructor(p){super(),this._editor=p,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(p.onDidChangeModel(c=>{this._undoStack=[],this._redoStack=[]})),this._register(p.onDidChangeModelContent(c=>{this._undoStack=[],this._redoStack=[]})),this._register(p.onDidChangeCursorSelection(c=>{if(this._isCursorUndoRedo||!c.oldSelections||c.oldModelVersionId!==c.modelVersionId)return;const n=new u(c.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(n)||(this._undoStack.push(new P(n,p.getScrollTop(),p.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(p){return p.getContribution(_.ID)}cursorUndo(){!this._editor.hasModel()||0===this._undoStack.length||(this._redoStack.push(new P(new u(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||0===this._redoStack.length||(this._undoStack.push(new P(new u(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(p){this._isCursorUndoRedo=!0,this._editor.setSelections(p.cursorState.selections),this._editor.setScrollPosition({scrollTop:p.scrollTop,scrollLeft:p.scrollLeft}),this._isCursorUndoRedo=!1}}return _.ID="editor.contrib.cursorUndoRedoController",_})();class k extends s.R6{constructor(){super({id:"cursorUndo",label:M.NC("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:L.u.textInputFocus,primary:2099,weight:100}})}run(a,p,c){var n;null===(n=A.get(p))||void 0===n||n.cursorUndo()}}class N extends s.R6{constructor(){super({id:"cursorRedo",label:M.NC("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(a,p,c){var n;null===(n=A.get(p))||void 0===n||n.cursorRedo()}}(0,s._K)(A.ID,A),(0,s.Qr)(k),(0,s.Qr)(N)},16949:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{DragAndDropController:()=>Q});var f=e(52425),s=e(38972),L=e(93379),M=e.n(L),u=e(7795),P=e.n(u),A=e(90569),k=e.n(A),N=e(3565),_=e.n(N),a=e(19216),p=e.n(a),c=e(44589),n=e.n(c),l=e(97070),v={};v.styleTagTransform=n(),v.setAttributes=_(),v.insert=k().bind(null,"head"),v.domAPI=P(),v.insertStyleElement=p(),M()(l.Z,v);var I=e(95172),y=e(94220),S=e(68451),b=e(43210),x=e(3508);class T{constructor(G,F,W){this.selection=G,this.targetPosition=F,this.copy=W,this.targetSelection=null}getEditOperations(G,F){const W=G.getValueInRange(this.selection);this.copy||F.addEditOperation(this.selection,null),F.addEditOperation(new S.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),W),this.targetSelection=!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?new b.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?new b.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?new b.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?new b.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):new b.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.selection}computeCursorState(G,F){return this.targetSelection}}function R(Z){return s.dz?Z.altKey:Z.ctrlKey}class Q extends f.JT{constructor(G){super(),this._editor=G,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(F=>this._onEditorMouseDown(F))),this._register(this._editor.onMouseUp(F=>this._onEditorMouseUp(F))),this._register(this._editor.onMouseDrag(F=>this._onEditorMouseDrag(F))),this._register(this._editor.onMouseDrop(F=>this._onEditorMouseDrop(F))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(F=>this.onEditorKeyDown(F))),this._register(this._editor.onKeyUp(F=>this.onEditorKeyUp(F))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(G){!this._editor.getOption(31)||this._editor.getOption(18)||(R(G)&&(this._modifierPressed=!0),this._mouseDown&&R(G)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(G){!this._editor.getOption(31)||this._editor.getOption(18)||(R(G)&&(this._modifierPressed=!1),this._mouseDown&&G.keyCode===Q.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(G){this._mouseDown=!0}_onEditorMouseUp(G){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(G){const F=G.target;if(null===this._dragSelection){const B=(this._editor.getSelections()||[]).filter(z=>F.position&&z.containsPosition(F.position));if(1!==B.length)return;this._dragSelection=B[0]}R(G.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),F.position&&(this._dragSelection.containsPosition(F.position)?this._removeDecoration():this.showAt(F.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(G){if(G.target&&(this._hitContent(G.target)||this._hitMargin(G.target))&&G.target.position){const F=new y.L(G.target.position.lineNumber,G.target.position.column);if(null===this._dragSelection){let W=null;if(G.event.shiftKey){const B=this._editor.getSelection();if(B){const{selectionStartLineNumber:z,selectionStartColumn:j}=B;W=[new b.Y(z,j,F.lineNumber,F.column)]}}else W=(this._editor.getSelections()||[]).map(B=>B.containsPosition(F)?new b.Y(F.lineNumber,F.column,F.lineNumber,F.column):B);this._editor.setSelections(W||[],"mouse",3)}else(!this._dragSelection.containsPosition(F)||(R(G.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(F)||this._dragSelection.getStartPosition().equals(F)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(Q.ID,new T(this._dragSelection,F,R(G.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(G){this._dndDecorationIds.set([{range:new S.e(G.lineNumber,G.column,G.lineNumber,G.column),options:Q._DECORATION_OPTIONS}]),this._editor.revealPosition(G,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(G){return 6===G.type||7===G.type}_hitMargin(G){return 2===G.type||3===G.type||4===G.type}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}Q.ID="editor.contrib.dragAndDrop",Q.TRIGGER_KEY_VALUE=s.dz?6:5,Q._DECORATION_OPTIONS=x.qx.register({description:"dnd-target",className:"dnd-target"}),(0,I._K)(Q.ID,Q)},9675:(at,ue,e)=>{"use strict";e.r(ue);var f=e(80152),s=e(54435),L=e(74672),M=e(87424),u=e(60741),P=e(23884);P.P0.registerCommand("_executeDocumentSymbolProvider",function(k,...N){return function(k,N,_,a){return new(_||(_=Promise))(function(c,n){function l(m){try{d(a.next(m))}catch(I){n(I)}}function v(m){try{d(a.throw(m))}catch(I){n(I)}}function d(m){m.done?c(m.value):function p(c){return c instanceof _?c:new _(function(n){n(c)})}(m.value).then(l,v)}d((a=a.apply(k,N||[])).next())})}(this,void 0,void 0,function*(){const[_]=N;(0,s.p_)(L.o.isUri(_));const a=k.get(u.Je),c=yield k.get(M.S).createModelReference(_);try{return(yield a.getOrCreate(c.object.textEditorModel,f.T.None)).getTopLevelSymbols()}finally{c.dispose()}})})},60741:(at,ue,e)=>{"use strict";e.d(ue,{C3:()=>y,Je:()=>S,sT:()=>m});var f=e(18337),s=e(80152),L=e(53663),M=e(67981),u=e(7838),P=e(94220),A=e(68451),k=e(79974),N=e(64725),_=e(18790),a=e(8648),p=e(52425),c=e(37464),l=function(x,T){return function(R,Q){T(R,Q,x)}};class d{remove(){var T;null===(T=this.parent)||void 0===T||T.children.delete(this.id)}static findId(T,R){let Q;"string"==typeof T?Q=`${R.id}/${T}`:(Q=`${R.id}/${T.name}`,void 0!==R.children.get(Q)&&(Q=`${R.id}/${T.name}_${T.range.startLineNumber}_${T.range.startColumn}`));let Z=Q;for(let G=0;void 0!==R.children.get(Z);G++)Z=`${Q}_${G}`;return Z}static empty(T){return 0===T.children.size}}class m extends d{constructor(T,R,Q){super(),this.id=T,this.parent=R,this.symbol=Q,this.children=new Map}}class I extends d{constructor(T,R,Q,Z){super(),this.id=T,this.parent=R,this.label=Q,this.order=Z,this.children=new Map}}class y extends d{constructor(T){super(),this.uri=T,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(T,R,Q){const Z=new s.A(Q),G=new y(R.uri),F=T.ordered(R),W=F.map((z,j)=>{var Y;const E=d.findId(`provider_${j}`,G),V=new I(E,G,null!==(Y=z.displayName)&&void 0!==Y?Y:"Unknown Outline Provider",j);return Promise.resolve(z.provideDocumentSymbols(R,Z.token)).then($=>{for(const te of $||[])y._makeOutlineElement(te,V);return V},$=>((0,L.Cp)($),V)).then($=>{d.empty($)?$.remove():G._groups.set(E,$)})}),B=T.onDidChange(()=>{const z=T.ordered(R);(0,f.fS)(z,F)||Z.cancel()});return Promise.all(W).then(()=>Z.token.isCancellationRequested&&!Q.isCancellationRequested?y.create(T,R,Q):G._compact()).finally(()=>{B.dispose()})}static _makeOutlineElement(T,R){const Q=d.findId(T,R),Z=new m(Q,R,T);if(T.children)for(const G of T.children)y._makeOutlineElement(G,Z);R.children.set(Z.id,Z)}_compact(){let T=0;for(const[R,Q]of this._groups)0===Q.children.size?this._groups.delete(R):T+=1;if(1!==T)this.children=this._groups;else{const R=M.$.first(this._groups.values());for(const[,Q]of R.children)Q.parent=this,this.children.set(Q.id,Q)}return this}getTopLevelSymbols(){const T=[];for(const R of this.children.values())R instanceof m?T.push(R.symbol):T.push(...M.$.map(R.children.values(),Q=>Q.symbol));return T.sort((R,Q)=>A.e.compareRangesUsingStarts(R.range,Q.range))}asListOfDocumentSymbols(){const T=this.getTopLevelSymbols(),R=[];return y._flattenDocumentSymbols(R,T,""),R.sort((Q,Z)=>P.L.compare(A.e.getStartPosition(Q.range),A.e.getStartPosition(Z.range))||P.L.compare(A.e.getEndPosition(Z.range),A.e.getEndPosition(Q.range)))}static _flattenDocumentSymbols(T,R,Q){for(const Z of R)T.push({kind:Z.kind,tags:Z.tags,name:Z.name,detail:Z.detail,containerName:Z.containerName||Q,range:Z.range,selectionRange:Z.selectionRange,children:void 0}),Z.children&&y._flattenDocumentSymbols(T,Z.children,Z.name)}}const S=(0,N.yh)("IOutlineModelService");let b=class{constructor(T,R,Q){this._languageFeaturesService=T,this._disposables=new p.SL,this._cache=new u.z6(10,.7),this._debounceInformation=R.for(T.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(Q.onModelRemoved(Z=>{this._cache.delete(Z.id)}))}dispose(){this._disposables.dispose()}getOrCreate(T,R){return function(x,T,R,Q){return new(R||(R=Promise))(function(G,F){function W(j){try{z(Q.next(j))}catch(Y){F(Y)}}function B(j){try{z(Q.throw(j))}catch(Y){F(Y)}}function z(j){j.done?G(j.value):function Z(G){return G instanceof R?G:new R(function(F){F(G)})}(j.value).then(W,B)}z((Q=Q.apply(x,T||[])).next())})}(this,void 0,void 0,function*(){const Q=this._languageFeaturesService.documentSymbolProvider,Z=Q.ordered(T);let G=this._cache.get(T.id);if(!G||G.versionId!==T.getVersionId()||!(0,f.fS)(G.provider,Z)){const W=new s.A;G={versionId:T.getVersionId(),provider:Z,promiseCnt:0,source:W,promise:y.create(Q,T,W.token),model:void 0},this._cache.set(T.id,G);const B=Date.now();G.promise.then(z=>{G.model=z,this._debounceInformation.update(T,Date.now()-B)}).catch(z=>{this._cache.delete(T.id)})}if(G.model)return G.model;G.promiseCnt+=1;const F=R.onCancellationRequested(()=>{0==--G.promiseCnt&&(G.source.cancel(),this._cache.delete(T.id))});try{return yield G.promise}finally{F.dispose()}})}};b=function(x,T,R,Q){var F,Z=arguments.length,G=Z<3?T:null===Q?Q=Object.getOwnPropertyDescriptor(T,R):Q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)G=Reflect.decorate(x,T,R,Q);else for(var W=x.length-1;W>=0;W--)(F=x[W])&&(G=(Z<3?F(G):Z>3?F(T,R,G):F(T,R))||G);return Z>3&&G&&Object.defineProperty(T,R,G),G}([l(0,c.p),l(1,k.A),l(2,a.q)],b),(0,_.z)(S,b,!0)},79077:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{DropIntoEditorController:()=>b});var f=e(63072),s=e(93753),L=e(52425),M=e(59341),u=e(15151),P=e(74672),A=e(46510),k=e(95172),N=e(84067),_=e(68451),a=e(43210),p=e(37464),c=e(23914),n=e(76295),l=e(65676),v=e(40402),d=e(22534),m=e(2405),I=function(T,R,Q,Z){var W,G=arguments.length,F=G<3?R:null===Z?Z=Object.getOwnPropertyDescriptor(R,Q):Z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)F=Reflect.decorate(T,R,Q,Z);else for(var B=T.length-1;B>=0;B--)(W=T[B])&&(F=(G<3?W(F):G>3?W(R,Q,F):W(R,Q))||F);return G>3&&F&&Object.defineProperty(R,Q,F),F},y=function(T,R){return function(Q,Z){R(Q,Z,T)}},S=function(T,R,Q,Z){return new(Q||(Q=Promise))(function(F,W){function B(Y){try{j(Z.next(Y))}catch(E){W(E)}}function z(Y){try{j(Z.throw(Y))}catch(E){W(E)}}function j(Y){Y.done?F(Y.value):function G(F){return F instanceof Q?F:new Q(function(W){W(F)})}(Y.value).then(B,z)}j((Z=Z.apply(T,R||[])).next())})};let b=class extends L.JT{constructor(R,Q,Z,G,F){super(),this._bulkEditService=Q,this._languageFeaturesService=Z,this._progressService=G,this._register(R.onDropIntoEditor(W=>this.onDropIntoEditor(R,W.position,W.event))),this._languageFeaturesService.documentOnDropEditProvider.register("*",new x(F))}onDropIntoEditor(R,Q,Z){return S(this,void 0,void 0,function*(){if(!Z.dataTransfer||!R.hasModel())return;const G=R.getModel(),F=G.getVersionId(),W=yield this.extractDataTransferData(Z);if(0===W.size||R.getModel().getVersionId()!==F)return;const B=new c.Dl(R,1);try{const z=this._languageFeaturesService.documentOnDropEditProvider.ordered(G),j=yield this._progressService.withProgress({location:15,delay:750,title:(0,v.NC)("dropProgressTitle","Running drop handlers..."),cancellable:!0},()=>(0,f.eP)((()=>S(this,void 0,void 0,function*(){for(const Y of z){const E=yield Y.provideDocumentOnDropEdits(G,Q,W,B.token);if(B.token.isCancellationRequested)return;if(E)return E}}))(),B.token),()=>{B.cancel()});if(B.token.isCancellationRequested||R.getModel().getVersionId()!==F)return;if(j){const Y=new _.e(Q.lineNumber,Q.column,Q.lineNumber,Q.column);return(0,n.performSnippetEdit)(R,"string"==typeof j.insertText?l.Yj.escape(j.insertText):j.insertText.snippet,[a.Y.fromRange(Y,0)]),void(j.additionalEdit&&(yield this._bulkEditService.apply(N.fo.convert(j.additionalEdit),{editor:R})))}}finally{B.dispose()}})}extractDataTransferData(R){return S(this,void 0,void 0,function*(){if(!R.dataTransfer)return new s.Hl;const Q=(0,A.Bo)(R.dataTransfer);return(0,A.dR)(Q,R),Q})}};b.ID="editor.contrib.dropIntoEditorController",b=I([y(1,N.vu),y(2,p.p),y(3,d.R9),y(4,m.ec)],b);let x=class{constructor(R){this._workspaceContextService=R}provideDocumentOnDropEdits(R,Q,Z,G){var F;return S(this,void 0,void 0,function*(){const W=Z.get(M.v.uriList);if(W){const z=yield W.asString(),j=this.getUriListInsertText(z);if(j)return{insertText:j}}const B=null!==(F=Z.get("text"))&&void 0!==F?F:Z.get(M.v.text);if(B)return{insertText:yield B.asString()}})}getUriListInsertText(R){const Q=[];for(const Z of A.Z0.parse(R))try{Q.push(P.o.parse(Z))}catch(G){}if(Q.length)return Q.map(Z=>{const G=this._workspaceContextService.getWorkspaceFolder(Z);if(G){const F=(0,u.lX)(G.uri,Z);if(F)return F}return Z.fsPath}).join(" ")}};x=I([y(0,m.ec)],x),(0,k._K)(b.ID,b)},23914:(at,ue,e)=>{"use strict";e.d(ue,{yy:()=>n,Dl:()=>l,YQ:()=>v});var f=e(93059),s=e(68451),L=e(80152),M=e(52425),u=e(95172),P=e(59776),A=e(38460),k=e(64725),N=e(18790),_=e(40402);const a=(0,k.yh)("IEditorCancelService"),p=new P.uy("cancellableOperation",!1,(0,_.NC)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,N.z)(a,class{constructor(){this._tokens=new WeakMap}add(d,m){let y,I=this._tokens.get(d);return I||(I=d.invokeWithinContext(S=>({key:p.bindTo(S.get(P.i6)),tokens:new A.S})),this._tokens.set(d,I)),I.key.set(!0),y=I.tokens.push(m),()=>{y&&(y(),I.key.set(!I.tokens.isEmpty()),y=void 0)}}cancel(d){const m=this._tokens.get(d);if(!m)return;const I=m.tokens.pop();I&&(I.cancel(),m.key.set(!m.tokens.isEmpty()))}},!0);class c extends L.A{constructor(m,I){super(I),this.editor=m,this._unregister=m.invokeWithinContext(y=>y.get(a).add(m,this))}dispose(){this._unregister(),super.dispose()}}(0,u.fK)(new class extends u._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:p})}runEditorCommand(d,m){d.get(a).cancel(m)}});class n{constructor(m,I){if(this.flags=I,0!=(1&this.flags)){const y=m.getModel();this.modelVersionId=y?f.WU("{0}#{1}",y.uri.toString(),y.getVersionId()):null}else this.modelVersionId=null;this.position=0!=(4&this.flags)?m.getPosition():null,this.selection=0!=(2&this.flags)?m.getSelection():null,0!=(8&this.flags)?(this.scrollLeft=m.getScrollLeft(),this.scrollTop=m.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(m){if(!(m instanceof n))return!1;const I=m;return!(this.modelVersionId!==I.modelVersionId||this.scrollLeft!==I.scrollLeft||this.scrollTop!==I.scrollTop||!this.position&&I.position||this.position&&!I.position||this.position&&I.position&&!this.position.equals(I.position)||!this.selection&&I.selection||this.selection&&!I.selection||this.selection&&I.selection&&!this.selection.equalsRange(I.selection))}validate(m){return this._equals(new n(m,this.flags))}}class l extends c{constructor(m,I,y,S){super(m,S),this._listener=new M.SL,4&I&&this._listener.add(m.onDidChangeCursorPosition(b=>{(!y||!s.e.containsPosition(y,b.position))&&this.cancel()})),2&I&&this._listener.add(m.onDidChangeCursorSelection(b=>{(!y||!s.e.containsRange(y,b.selection))&&this.cancel()})),8&I&&this._listener.add(m.onDidScrollChange(b=>this.cancel())),1&I&&(this._listener.add(m.onDidChangeModel(b=>this.cancel())),this._listener.add(m.onDidChangeModelContent(b=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class v extends L.A{constructor(m,I){super(I),this._listener=m.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}},72811:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{CommonFindController:()=>In,FindController:()=>On,MatchFindAction:()=>ri,NextMatchFindAction:()=>si,NextSelectionMatchFindAction:()=>Li,PreviousMatchFindAction:()=>Si,PreviousSelectionMatchFindAction:()=>Yn,SelectionMatchFindAction:()=>xi,StartFindAction:()=>Tn,StartFindReplaceAction:()=>fi,StartFindWithArgsAction:()=>An,StartFindWithSelectionAction:()=>Gn,getSelectionSearchString:()=>pn});var f=e(63072),s=e(52425),L=e(93059),M=e(95172),u=e(29584),P=e(18337),A=e(85753),k=e(94220),N=e(68451),_=e(43210),a=e(31154),p=e(32213),c=e(3508),n=e(28708),l=e(23024);class v{constructor(bt){this._editor=bt,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const bt=this._findScopeDecorationIds.map(Lt=>this._editor.getModel().getDecorationRange(Lt)).filter(Lt=>!!Lt);if(bt.length)return bt}return null}getStartPosition(){return this._startPosition}setStartPosition(bt){this._startPosition=bt,this.setCurrentFindMatch(null)}_getDecorationIndex(bt){const Lt=this._decorations.indexOf(bt);return Lt>=0?Lt+1:1}getCurrentMatchesPosition(bt){const Lt=this._editor.getModel().getDecorationsInRange(bt);for(const Ft of Lt){const un=Ft.options;if(un===v._FIND_MATCH_DECORATION||un===v._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(Ft.id)}return 0}setCurrentFindMatch(bt){let Lt=null,Ft=0;if(bt)for(let un=0,ln=this._decorations.length;un<ln;un++){const Ot=this._editor.getModel().getDecorationRange(this._decorations[un]);if(bt.equalsRange(Ot)){Lt=this._decorations[un],Ft=un+1;break}}return(null!==this._highlightedDecorationId||null!==Lt)&&this._editor.changeDecorations(un=>{if(null!==this._highlightedDecorationId&&(un.changeDecorationOptions(this._highlightedDecorationId,v._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==Lt&&(this._highlightedDecorationId=Lt,un.changeDecorationOptions(this._highlightedDecorationId,v._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(un.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==Lt){let ln=this._editor.getModel().getDecorationRange(Lt);if(ln.startLineNumber!==ln.endLineNumber&&1===ln.endColumn){const Ot=ln.endLineNumber-1,$e=this._editor.getModel().getLineMaxColumn(Ot);ln=new N.e(ln.startLineNumber,ln.startColumn,Ot,$e)}this._rangeHighlightDecorationId=un.addDecoration(ln,v._RANGE_HIGHLIGHT_DECORATION)}}),Ft}set(bt,Lt){this._editor.changeDecorations(Ft=>{let un=v._FIND_MATCH_DECORATION;const ln=[];if(bt.length>1e3){un=v._FIND_MATCH_NO_OVERVIEW_DECORATION;const $e=this._editor.getModel().getLineCount(),Bt=this._editor.getLayoutInfo().height/$e,Xt=Math.max(2,Math.ceil(3/Bt));let nn=bt[0].range.startLineNumber,Kt=bt[0].range.endLineNumber;for(let Ge=1,ct=bt.length;Ge<ct;Ge++){const St=bt[Ge].range;Kt+Xt>=St.startLineNumber?St.endLineNumber>Kt&&(Kt=St.endLineNumber):(ln.push({range:new N.e(nn,1,Kt,1),options:v._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),nn=St.startLineNumber,Kt=St.endLineNumber)}ln.push({range:new N.e(nn,1,Kt,1),options:v._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const Ot=new Array(bt.length);for(let $e=0,wt=bt.length;$e<wt;$e++)Ot[$e]={range:bt[$e].range,options:un};this._decorations=Ft.deltaDecorations(this._decorations,Ot),this._overviewRulerApproximateDecorations=Ft.deltaDecorations(this._overviewRulerApproximateDecorations,ln),this._rangeHighlightDecorationId&&(Ft.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach($e=>Ft.removeDecoration($e)),this._findScopeDecorationIds=[]),null!=Lt&&Lt.length&&(this._findScopeDecorationIds=Lt.map($e=>Ft.addDecoration($e,v._FIND_SCOPE_DECORATION)))})}matchBeforePosition(bt){if(0===this._decorations.length)return null;for(let Lt=this._decorations.length-1;Lt>=0;Lt--){const Ft=this._decorations[Lt],un=this._editor.getModel().getDecorationRange(Ft);if(un&&!(un.endLineNumber>bt.lineNumber)){if(un.endLineNumber<bt.lineNumber)return un;if(!(un.endColumn>bt.column))return un}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(bt){if(0===this._decorations.length)return null;for(let Lt=0,Ft=this._decorations.length;Lt<Ft;Lt++){const un=this._decorations[Lt],ln=this._editor.getModel().getDecorationRange(un);if(ln&&!(ln.startLineNumber<bt.lineNumber)){if(ln.startLineNumber>bt.lineNumber)return ln;if(!(ln.startColumn<bt.column))return ln}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let bt=[];return bt=bt.concat(this._decorations),bt=bt.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&bt.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&bt.push(this._rangeHighlightDecorationId),bt}}v._CURRENT_FIND_MATCH_DECORATION=c.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,l.EN)(n.Fm_),position:p.sh.Center},minimap:{color:(0,l.EN)(n.SUY),position:p.F5.Inline}}),v._FIND_MATCH_DECORATION=c.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,l.EN)(n.Fm_),position:p.sh.Center},minimap:{color:(0,l.EN)(n.SUY),position:p.F5.Inline}}),v._FIND_MATCH_NO_OVERVIEW_DECORATION=c.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),v._FIND_MATCH_ONLY_OVERVIEW_DECORATION=c.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,l.EN)(n.Fm_),position:p.sh.Center}}),v._RANGE_HIGHLIGHT_DECORATION=c.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),v._FIND_SCOPE_DECORATION=c.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class d{constructor(bt,Lt,Ft){this._editorSelection=bt,this._ranges=Lt,this._replaceStrings=Ft,this._trackedEditorSelectionId=null}getEditOperations(bt,Lt){if(this._ranges.length>0){const Ft=[];for(let Ot=0;Ot<this._ranges.length;Ot++)Ft.push({range:this._ranges[Ot],text:this._replaceStrings[Ot]});Ft.sort((Ot,$e)=>N.e.compareRangesUsingStarts(Ot.range,$e.range));const un=[];let ln=Ft[0];for(let Ot=1;Ot<Ft.length;Ot++)ln.range.endLineNumber===Ft[Ot].range.startLineNumber&&ln.range.endColumn===Ft[Ot].range.startColumn?(ln.range=ln.range.plusRange(Ft[Ot].range),ln.text=ln.text+Ft[Ot].text):(un.push(ln),ln=Ft[Ot]);un.push(ln);for(const Ot of un)Lt.addEditOperation(Ot.range,Ot.text)}this._trackedEditorSelectionId=Lt.trackSelection(this._editorSelection)}computeCursorState(bt,Lt){return Lt.getTrackedSelection(this._trackedEditorSelectionId)}}function m(mn,bt){if(mn&&""!==mn[0]){const Lt=I(mn,bt,"-"),Ft=I(mn,bt,"_");return Lt&&!Ft?y(mn,bt,"-"):!Lt&&Ft?y(mn,bt,"_"):mn[0].toUpperCase()===mn[0]?bt.toUpperCase():mn[0].toLowerCase()===mn[0]?bt.toLowerCase():L.Kw(mn[0][0])&&bt.length>0?bt[0].toUpperCase()+bt.substr(1):mn[0][0].toUpperCase()!==mn[0][0]&&bt.length>0?bt[0].toLowerCase()+bt.substr(1):bt}return bt}function I(mn,bt,Lt){return-1!==mn[0].indexOf(Lt)&&-1!==bt.indexOf(Lt)&&mn[0].split(Lt).length===bt.split(Lt).length}function y(mn,bt,Lt){const Ft=bt.split(Lt),un=mn[0].split(Lt);let ln="";return Ft.forEach((Ot,$e)=>{ln+=m([un[$e]],Ot)+Lt}),ln.slice(0,-1)}class S{constructor(bt){this.staticValue=bt,this.kind=0}}class b{constructor(bt){this.pieces=bt,this.kind=1}}class x{constructor(bt){this._state=bt&&0!==bt.length?1===bt.length&&null!==bt[0].staticValue?new S(bt[0].staticValue):new b(bt):new S("")}static fromStaticValue(bt){return new x([T.staticValue(bt)])}get hasReplacementPatterns(){return 1===this._state.kind}buildReplaceString(bt,Lt){if(0===this._state.kind)return Lt?m(bt,this._state.staticValue):this._state.staticValue;let Ft="";for(let un=0,ln=this._state.pieces.length;un<ln;un++){const Ot=this._state.pieces[un];if(null!==Ot.staticValue){Ft+=Ot.staticValue;continue}let $e=x._substitute(Ot.matchIndex,bt);if(null!==Ot.caseOps&&Ot.caseOps.length>0){const wt=[],Bt=Ot.caseOps.length;let Xt=0;for(let nn=0,Kt=$e.length;nn<Kt;nn++){if(Xt>=Bt){wt.push($e.slice(nn));break}switch(Ot.caseOps[Xt]){case"U":wt.push($e[nn].toUpperCase());break;case"u":wt.push($e[nn].toUpperCase()),Xt++;break;case"L":wt.push($e[nn].toLowerCase());break;case"l":wt.push($e[nn].toLowerCase()),Xt++;break;default:wt.push($e[nn])}}$e=wt.join("")}Ft+=$e}return Ft}static _substitute(bt,Lt){if(null===Lt)return"";if(0===bt)return Lt[0];let Ft="";for(;bt>0;){if(bt<Lt.length)return(Lt[bt]||"")+Ft;Ft=String(bt%10)+Ft,bt=Math.floor(bt/10)}return"$"+Ft}}class T{constructor(bt,Lt,Ft){this.staticValue=bt,this.matchIndex=Lt,this.caseOps=Ft&&0!==Ft.length?Ft.slice(0):null}static staticValue(bt){return new T(bt,-1,null)}static caseOps(bt,Lt){return new T(null,bt,Lt)}}class R{constructor(bt){this._source=bt,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(bt){this._emitStatic(this._source.substring(this._lastCharIndex,bt)),this._lastCharIndex=bt}emitStatic(bt,Lt){this._emitStatic(bt),this._lastCharIndex=Lt}_emitStatic(bt){0!==bt.length&&(this._currentStaticPiece+=bt)}emitMatchIndex(bt,Lt,Ft){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=T.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=T.caseOps(bt,Ft),this._lastCharIndex=Lt}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=T.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new x(this._result)}}var Z=e(59776);const G=new Z.uy("findWidgetVisible",!1),W=(G.toNegated(),new Z.uy("findInputFocussed",!1)),B=new Z.uy("replaceInputFocussed",!1),z={primary:545,mac:{primary:2593}},j={primary:565,mac:{primary:2613}},Y={primary:560,mac:{primary:2608}},E={primary:554,mac:{primary:2602}},V={primary:558,mac:{primary:2606}},te=19999;class fe{constructor(bt,Lt){this._toDispose=new s.SL,this._editor=bt,this._state=Lt,this._isDisposed=!1,this._startSearchingTimer=new f._F,this._decorations=new v(bt),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new f.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(Ft=>{(3===Ft.reason||5===Ft.reason||6===Ft.reason)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(Ft=>{this._ignoreModelContentChanged||(Ft.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(Ft=>this._onStateChanged(Ft))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,s.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(bt){this._isDisposed||!this._editor.hasModel()||(bt.searchString||bt.isReplaceRevealed||bt.isRegex||bt.wholeWord||bt.matchCase||bt.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{bt.searchScope?this.research(bt.moveCursor,this._state.searchScope):this.research(bt.moveCursor)},240)):bt.searchScope?this.research(bt.moveCursor,this._state.searchScope):this.research(bt.moveCursor))}static _getSearchRange(bt,Lt){return Lt||bt.getFullModelRange()}research(bt,Lt){let Ft=null;void 0!==Lt?null!==Lt&&(Ft=Array.isArray(Lt)?Lt:[Lt]):Ft=this._decorations.getFindScopes(),null!==Ft&&(Ft=Ft.map($e=>{if($e.startLineNumber!==$e.endLineNumber){let wt=$e.endLineNumber;return 1===$e.endColumn&&(wt-=1),new N.e($e.startLineNumber,1,wt,this._editor.getModel().getLineMaxColumn(wt))}return $e}));const un=this._findMatches(Ft,!1,te);this._decorations.set(un,Ft);const ln=this._editor.getSelection();let Ot=this._decorations.getCurrentMatchesPosition(ln);if(0===Ot&&un.length>0){const $e=(0,P.lG)(un.map(wt=>wt.range),wt=>N.e.compareRangesUsingStarts(wt,ln)>=0);Ot=$e>0?$e-1+1:Ot}this._state.changeMatchInfo(Ot,this._decorations.getCount(),void 0),bt&&this._editor.getOption(37).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const bt=this._decorations.getFindScope();return bt&&this._editor.revealRangeInCenterIfOutsideViewport(bt,0),!0}return!1}_setCurrentFindMatch(bt){const Lt=this._decorations.setCurrentFindMatch(bt);this._state.changeMatchInfo(Lt,this._decorations.getCount(),bt),this._editor.setSelection(bt),this._editor.revealRangeInCenterIfOutsideViewport(bt,0)}_prevSearchPosition(bt){const Lt=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:Ft,column:un}=bt;const ln=this._editor.getModel();return Lt||1===un?(1===Ft?Ft=ln.getLineCount():Ft--,un=ln.getLineMaxColumn(Ft)):un--,new k.L(Ft,un)}_moveToPrevMatch(bt,Lt=!1){if(!this._state.canNavigateBack()){const Xt=this._decorations.matchAfterPosition(bt);return void(Xt&&this._setCurrentFindMatch(Xt))}if(this._decorations.getCount()<te){let Xt=this._decorations.matchBeforePosition(bt);return Xt&&Xt.isEmpty()&&Xt.getStartPosition().equals(bt)&&(bt=this._prevSearchPosition(bt),Xt=this._decorations.matchBeforePosition(bt)),void(Xt&&this._setCurrentFindMatch(Xt))}if(this._cannotFind())return;const Ft=this._decorations.getFindScope(),un=fe._getSearchRange(this._editor.getModel(),Ft);un.getEndPosition().isBefore(bt)&&(bt=un.getEndPosition()),bt.isBefore(un.getStartPosition())&&(bt=un.getEndPosition());const{lineNumber:ln,column:Ot}=bt,$e=this._editor.getModel();let wt=new k.L(ln,Ot),Bt=$e.findPreviousMatch(this._state.searchString,wt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1);if(Bt&&Bt.range.isEmpty()&&Bt.range.getStartPosition().equals(wt)&&(wt=this._prevSearchPosition(wt),Bt=$e.findPreviousMatch(this._state.searchString,wt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1)),Bt){if(!Lt&&!un.containsRange(Bt.range))return this._moveToPrevMatch(Bt.range.getStartPosition(),!0);this._setCurrentFindMatch(Bt.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(bt){const Lt=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:Ft,column:un}=bt;const ln=this._editor.getModel();return Lt||un===ln.getLineMaxColumn(Ft)?(Ft===ln.getLineCount()?Ft=1:Ft++,un=1):un++,new k.L(Ft,un)}_moveToNextMatch(bt){if(!this._state.canNavigateForward()){const Ft=this._decorations.matchBeforePosition(bt);return void(Ft&&this._setCurrentFindMatch(Ft))}if(this._decorations.getCount()<te){let Ft=this._decorations.matchAfterPosition(bt);return Ft&&Ft.isEmpty()&&Ft.getStartPosition().equals(bt)&&(bt=this._nextSearchPosition(bt),Ft=this._decorations.matchAfterPosition(bt)),void(Ft&&this._setCurrentFindMatch(Ft))}const Lt=this._getNextMatch(bt,!1,!0);Lt&&this._setCurrentFindMatch(Lt.range)}_getNextMatch(bt,Lt,Ft,un=!1){if(this._cannotFind())return null;const ln=this._decorations.getFindScope(),Ot=fe._getSearchRange(this._editor.getModel(),ln);Ot.getEndPosition().isBefore(bt)&&(bt=Ot.getStartPosition()),bt.isBefore(Ot.getStartPosition())&&(bt=Ot.getStartPosition());const{lineNumber:$e,column:wt}=bt,Bt=this._editor.getModel();let Xt=new k.L($e,wt),nn=Bt.findNextMatch(this._state.searchString,Xt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,Lt);return Ft&&nn&&nn.range.isEmpty()&&nn.range.getStartPosition().equals(Xt)&&(Xt=this._nextSearchPosition(Xt),nn=Bt.findNextMatch(this._state.searchString,Xt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,Lt)),nn?un||Ot.containsRange(nn.range)?nn:this._getNextMatch(nn.range.getEndPosition(),Lt,Ft,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?function Q(mn){if(!mn||0===mn.length)return new x(null);const bt=[],Lt=new R(mn);for(let Ft=0,un=mn.length;Ft<un;Ft++){const ln=mn.charCodeAt(Ft);if(92!==ln){if(36===ln){if(Ft++,Ft>=un)break;const Ot=mn.charCodeAt(Ft);if(36===Ot){Lt.emitUnchanged(Ft-1),Lt.emitStatic("$",Ft+1);continue}if(48===Ot||38===Ot){Lt.emitUnchanged(Ft-1),Lt.emitMatchIndex(0,Ft+1,bt),bt.length=0;continue}if(49<=Ot&&Ot<=57){let $e=Ot-48;if(Ft+1<un){const wt=mn.charCodeAt(Ft+1);if(48<=wt&&wt<=57){Ft++,$e=10*$e+(wt-48),Lt.emitUnchanged(Ft-2),Lt.emitMatchIndex($e,Ft+1,bt),bt.length=0;continue}}Lt.emitUnchanged(Ft-1),Lt.emitMatchIndex($e,Ft+1,bt),bt.length=0;continue}}}else{if(Ft++,Ft>=un)break;const Ot=mn.charCodeAt(Ft);switch(Ot){case 92:Lt.emitUnchanged(Ft-1),Lt.emitStatic("\\",Ft+1);break;case 110:Lt.emitUnchanged(Ft-1),Lt.emitStatic("\n",Ft+1);break;case 116:Lt.emitUnchanged(Ft-1),Lt.emitStatic("\t",Ft+1);break;case 117:case 85:case 108:case 76:Lt.emitUnchanged(Ft-1),Lt.emitStatic("",Ft+1),bt.push(String.fromCharCode(Ot))}}}return Lt.finalize()}(this._state.replaceString):x.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const bt=this._getReplacePattern(),Lt=this._editor.getSelection(),Ft=this._getNextMatch(Lt.getStartPosition(),!0,!1);if(Ft)if(Lt.equalsRange(Ft.range)){const un=bt.buildReplaceString(Ft.matches,this._state.preserveCase),ln=new A.T4(Lt,un);this._executeEditorCommand("replace",ln),this._decorations.setStartPosition(new k.L(Lt.startLineNumber,Lt.startColumn+un.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(Ft.range)}_findMatches(bt,Lt,Ft){const un=(bt||[null]).map(ln=>fe._getSearchRange(this._editor.getModel(),ln));return this._editor.getModel().findMatches(this._state.searchString,un,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,Lt,Ft)}replaceAll(){if(!this._hasMatches())return;const bt=this._decorations.getFindScopes();null===bt&&this._state.matchesCount>=te?this._largeReplaceAll():this._regularReplaceAll(bt),this.research(!1)}_largeReplaceAll(){const Lt=new a.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null).parseSearchRequest();if(!Lt)return;let Ft=Lt.regex;if(!Ft.multiline){let nn="mu";Ft.ignoreCase&&(nn+="i"),Ft.global&&(nn+="g"),Ft=new RegExp(Ft.source,nn)}const un=this._editor.getModel(),ln=un.getValue(1),Ot=un.getFullModelRange(),$e=this._getReplacePattern();let wt;const Bt=this._state.preserveCase;wt=ln.replace(Ft,$e.hasReplacementPatterns||Bt?function(){return $e.buildReplaceString(arguments,Bt)}:$e.buildReplaceString(null,Bt));const Xt=new A.hP(Ot,wt,this._editor.getSelection());this._executeEditorCommand("replaceAll",Xt)}_regularReplaceAll(bt){const Lt=this._getReplacePattern(),Ft=this._findMatches(bt,Lt.hasReplacementPatterns||this._state.preserveCase,1073741824),un=[];for(let Ot=0,$e=Ft.length;Ot<$e;Ot++)un[Ot]=Lt.buildReplaceString(Ft[Ot].matches,this._state.preserveCase);const ln=new d(this._editor.getSelection(),Ft.map(Ot=>Ot.range),un);this._executeEditorCommand("replaceAll",ln)}selectAllMatches(){if(!this._hasMatches())return;const bt=this._decorations.getFindScopes();let Ft=this._findMatches(bt,!1,1073741824).map(ln=>new _.Y(ln.range.startLineNumber,ln.range.startColumn,ln.range.endLineNumber,ln.range.endColumn));const un=this._editor.getSelection();for(let ln=0,Ot=Ft.length;ln<Ot;ln++)if(Ft[ln].equalsRange(un)){Ft=[un].concat(Ft.slice(0,ln)).concat(Ft.slice(ln+1));break}this._editor.setSelections(Ft)}_executeEditorCommand(bt,Lt){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(bt,Lt),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var be=e(58059),me=e(87455),Ie=e(83568);let ee=(()=>{class mn extends Ie.${constructor(Lt,Ft,un,ln){super(),this._hideSoon=this._register(new f.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=Lt,this._state=Ft,this._keybindingService=un,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const Ot=ln.getColorTheme().getColor(n.PRb),$e=ln.getColorTheme().getColor(n.Pvw),wt=ln.getColorTheme().getColor(n.XEs);this.caseSensitive=this._register(new me.rk({appendTitle:this._keybindingLabelFor("toggleFindCaseSensitive"),isChecked:this._state.matchCase,inputActiveOptionBorder:Ot,inputActiveOptionForeground:$e,inputActiveOptionBackground:wt})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new me.Qx({appendTitle:this._keybindingLabelFor("toggleFindWholeWord"),isChecked:this._state.wholeWord,inputActiveOptionBorder:Ot,inputActiveOptionForeground:$e,inputActiveOptionBackground:wt})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new me.eH({appendTitle:this._keybindingLabelFor("toggleFindRegex"),isChecked:this._state.isRegex,inputActiveOptionBorder:Ot,inputActiveOptionForeground:$e,inputActiveOptionBackground:wt})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(Bt=>{let Xt=!1;Bt.isRegex&&(this.regex.checked=this._state.isRegex,Xt=!0),Bt.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,Xt=!0),Bt.matchCase&&(this.caseSensitive.checked=this._state.matchCase,Xt=!0),!this._state.isRevealed&&Xt&&this._revealTemporarily()})),this._register(be.nm(this._domNode,be.tw.MOUSE_LEAVE,Bt=>this._onMouseLeave())),this._register(be.nm(this._domNode,"mouseover",Bt=>this._onMouseOver())),this._applyTheme(ln.getColorTheme()),this._register(ln.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(Lt){const Ft=this._keybindingService.lookupKeybinding(Lt);return Ft?` (${Ft.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return mn.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(Lt){const Ft={inputActiveOptionBorder:Lt.getColor(n.PRb),inputActiveOptionForeground:Lt.getColor(n.Pvw),inputActiveOptionBackground:Lt.getColor(n.XEs)};this.caseSensitive.style(Ft),this.wholeWords.style(Ft),this.regex.style(Ft)}}return mn.ID="editor.contrib.findOptionsWidget",mn})();(0,l.Ic)((mn,bt)=>{const Lt=mn.getColor(n.D0T);Lt&&bt.addRule(`.monaco-editor .findOptionsWidget { background-color: ${Lt}; }`);const Ft=mn.getColor(n.Hfx);Ft&&bt.addRule(`.monaco-editor .findOptionsWidget { color: ${Ft}; }`);const un=mn.getColor(n.rh);un&&bt.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${un}; }`);const ln=mn.getColor(n.lRK);ln&&bt.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${ln}; }`)});var ce=e(52787);function he(mn,bt){return 1===mn||2!==mn&&bt}class de extends s.JT{constructor(){super(),this._onFindReplaceStateChange=this._register(new ce.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return he(this._isRegexOverride,this._isRegex)}get wholeWord(){return he(this._wholeWordOverride,this._wholeWord)}get matchCase(){return he(this._matchCaseOverride,this._matchCase)}get preserveCase(){return he(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(bt,Lt,Ft){const un={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let ln=!1;0===Lt&&(bt=0),bt>Lt&&(bt=Lt),this._matchesPosition!==bt&&(this._matchesPosition=bt,un.matchesPosition=!0,ln=!0),this._matchesCount!==Lt&&(this._matchesCount=Lt,un.matchesCount=!0,ln=!0),void 0!==Ft&&(N.e.equalsRange(this._currentMatch,Ft)||(this._currentMatch=Ft,un.currentMatch=!0,ln=!0)),ln&&this._onFindReplaceStateChange.fire(un)}change(bt,Lt,Ft=!0){var un;const ln={moveCursor:Lt,updateHistory:Ft,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let Ot=!1;const $e=this.isRegex,wt=this.wholeWord,Bt=this.matchCase,Xt=this.preserveCase;void 0!==bt.searchString&&this._searchString!==bt.searchString&&(this._searchString=bt.searchString,ln.searchString=!0,Ot=!0),void 0!==bt.replaceString&&this._replaceString!==bt.replaceString&&(this._replaceString=bt.replaceString,ln.replaceString=!0,Ot=!0),void 0!==bt.isRevealed&&this._isRevealed!==bt.isRevealed&&(this._isRevealed=bt.isRevealed,ln.isRevealed=!0,Ot=!0),void 0!==bt.isReplaceRevealed&&this._isReplaceRevealed!==bt.isReplaceRevealed&&(this._isReplaceRevealed=bt.isReplaceRevealed,ln.isReplaceRevealed=!0,Ot=!0),void 0!==bt.isRegex&&(this._isRegex=bt.isRegex),void 0!==bt.wholeWord&&(this._wholeWord=bt.wholeWord),void 0!==bt.matchCase&&(this._matchCase=bt.matchCase),void 0!==bt.preserveCase&&(this._preserveCase=bt.preserveCase),void 0!==bt.searchScope&&(!(null===(un=bt.searchScope)||void 0===un)&&un.every(nn=>{var Kt;return null===(Kt=this._searchScope)||void 0===Kt?void 0:Kt.some(Ge=>!N.e.equalsRange(Ge,nn))})||(this._searchScope=bt.searchScope,ln.searchScope=!0,Ot=!0)),void 0!==bt.loop&&this._loop!==bt.loop&&(this._loop=bt.loop,ln.loop=!0,Ot=!0),void 0!==bt.isSearching&&this._isSearching!==bt.isSearching&&(this._isSearching=bt.isSearching,ln.isSearching=!0,Ot=!0),void 0!==bt.filters&&(this._filters?this._filters.update(bt.filters):this._filters=bt.filters,ln.filters=!0,Ot=!0),this._isRegexOverride=void 0!==bt.isRegexOverride?bt.isRegexOverride:0,this._wholeWordOverride=void 0!==bt.wholeWordOverride?bt.wholeWordOverride:0,this._matchCaseOverride=void 0!==bt.matchCaseOverride?bt.matchCaseOverride:0,this._preserveCaseOverride=void 0!==bt.preserveCaseOverride?bt.preserveCaseOverride:0,$e!==this.isRegex&&(Ot=!0,ln.isRegex=!0),wt!==this.wholeWord&&(Ot=!0,ln.wholeWord=!0),Bt!==this.matchCase&&(Ot=!0,ln.matchCase=!0),Xt!==this.preserveCase&&(Ot=!0,ln.preserveCase=!0),Ot&&this._onFindReplaceStateChange.fire(ln)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=te}}var ge=e(71578),re=e(41488),Se=e(37397),Pe=e(2450),Ve=e(53663),ie=e(38972),ye=e(93379),_e=e.n(ye),Be=e(7795),Qe=e.n(Be),Ae=e(90569),pe=e.n(Ae),De=e(3565),Oe=e.n(De),Ne=e(19216),ne=e.n(Ne),xe=e(44589),Je=e.n(xe),gt=e(56950),lt={};lt.styleTagTransform=Je(),lt.setAttributes=Oe(),lt.insert=pe().bind(null,"head"),lt.domAPI=Qe(),lt.insertStyleElement=ne(),_e()(gt.Z,lt);var Ue=e(40402),ot=e(66855);function et(mn){var bt,Lt;return"Up"===(null===(bt=mn.lookupKeybinding("history.showPrevious"))||void 0===bt?void 0:bt.getElectronAccelerator())&&"Down"===(null===(Lt=mn.lookupKeybinding("history.showNext"))||void 0===Lt?void 0:Lt.getElectronAccelerator())}var Ze=e(95836),Mt=e(58676);const ze=(0,Ze.q5)("find-selection",Pe.lA.selection,Ue.NC("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),dt=(0,Ze.q5)("find-collapsed",Pe.lA.chevronRight,Ue.NC("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),$t=(0,Ze.q5)("find-expanded",Pe.lA.chevronDown,Ue.NC("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),hn=(0,Ze.q5)("find-replace",Pe.lA.replace,Ue.NC("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),vn=(0,Ze.q5)("find-replace-all",Pe.lA.replaceAll,Ue.NC("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),ft=(0,Ze.q5)("find-previous-match",Pe.lA.arrowUp,Ue.NC("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),ke=(0,Ze.q5)("find-next-match",Pe.lA.arrowDown,Ue.NC("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),nt=Ue.NC("label.find","Find"),st=Ue.NC("placeholder.find","Find"),Ee=Ue.NC("label.previousMatchButton","Previous Match"),Fe=Ue.NC("label.nextMatchButton","Next Match"),mt=Ue.NC("label.toggleSelectionFind","Find in Selection"),Vt=Ue.NC("label.closeButton","Close"),qt=Ue.NC("label.replace","Replace"),Cn=Ue.NC("placeholder.replace","Replace"),Gt=Ue.NC("label.replaceButton","Replace"),en=Ue.NC("label.replaceAllButton","Replace All"),Yt=Ue.NC("label.toggleReplaceButton","Toggle Replace"),ht=Ue.NC("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",te),Ct=Ue.NC("label.matchesLocation","{0} of {1}"),rn=Ue.NC("label.noResults","No results");let xn=69;const ai="ctrlEnterReplaceAll.windows.donotask",ei=ie.dz?256:2048;class Di{constructor(bt){this.afterLineNumber=bt,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function li(mn,bt,Lt){const Ft=!!bt.match(/\n/);Lt&&Ft&&Lt.selectionStart>0&&mn.stopPropagation()}function Qn(mn,bt,Lt){const Ft=!!bt.match(/\n/);Lt&&Ft&&Lt.selectionEnd<Lt.value.length&&mn.stopPropagation()}let wi=(()=>{class mn extends Ie.${constructor(Lt,Ft,un,ln,Ot,$e,wt,Bt,Xt){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=Lt,this._controller=Ft,this._state=un,this._contextViewProvider=ln,this._keybindingService=Ot,this._contextKeyService=$e,this._storageService=Bt,this._notificationService=Xt,this._ctrlEnterReplaceAllWarningPrompted=!!Bt.getBoolean(ai,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new f.vp(500),this._register((0,s.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(nn=>this._onStateChanged(nn))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(nn=>{if(nn.hasChanged(83)&&(this._codeEditor.getOption(83)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),nn.hasChanged(133)&&this._tryUpdateWidgetWidth(),nn.hasChanged(2)&&this.updateAccessibilitySupport(),nn.hasChanged(37)){const Kt=this._codeEditor.getOption(37).addExtraSpaceOnTop;Kt&&!this._viewZone&&(this._viewZone=new Di(0),this._showViewZone()),!Kt&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>function(mn,bt,Lt,Ft){return new(Lt||(Lt=Promise))(function(ln,Ot){function $e(Xt){try{Bt(Ft.next(Xt))}catch(nn){Ot(nn)}}function wt(Xt){try{Bt(Ft.throw(Xt))}catch(nn){Ot(nn)}}function Bt(Xt){Xt.done?ln(Xt.value):function un(ln){return ln instanceof Lt?ln:new Lt(function(Ot){Ot(ln)})}(Xt.value).then($e,wt)}Bt((Ft=Ft.apply(mn,bt||[])).next())})}(this,void 0,void 0,function*(){if(this._isVisible){const nn=yield this._controller.getGlobalBufferTerm();nn&&nn!==this._state.searchString&&(this._state.change({searchString:nn},!1),this._findInput.select())}}))),this._findInputFocused=W.bindTo($e),this._findFocusTracker=this._register(be.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=B.bindTo($e),this._replaceFocusTracker=this._register(be.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(37).addExtraSpaceOnTop&&(this._viewZone=new Di(0)),this._applyTheme(wt.getColorTheme()),this._register(wt.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(nn=>{nn.scrollTopChanged?this._layoutViewZone():setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return mn.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(Lt){if(Lt.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}Lt.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),Lt.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),Lt.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(83)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=be.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(Lt.isRevealed||Lt.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),Lt.isRegex&&this._findInput.setRegex(this._state.isRegex),Lt.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),Lt.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),Lt.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),Lt.searchScope&&(this._toggleSelectionFind.checked=!!this._state.searchScope,this._updateToggleSelectionFindButton()),(Lt.searchString||Lt.matchesCount||Lt.matchesPosition)&&(this._domNode.classList.toggle("no-results",this._state.searchString.length>0&&0===this._state.matchesCount),this._updateMatchesCount(),this._updateButtons()),(Lt.searchString||Lt.currentMatch)&&this._layoutViewZone(),Lt.updateHistory&&this._delayedUpdateHistory(),Lt.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,Ve.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let Lt;if(this._matchesCount.style.minWidth=xn+"px",this._matchesCount.title=this._state.matchesCount>=te?ht:"",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){let Ft=String(this._state.matchesCount);this._state.matchesCount>=te&&(Ft+="+");let un=String(this._state.matchesPosition);"0"===un&&(un="?"),Lt=L.WU(Ct,un,Ft)}else Lt=rn;this._matchesCount.appendChild(document.createTextNode(Lt)),(0,ge.Z9)(this._getAriaLabel(Lt,this._state.currentMatch,this._state.searchString)),xn=Math.max(xn,this._matchesCount.clientWidth)}_getAriaLabel(Lt,Ft,un){if(Lt===rn)return""===un?Ue.NC("ariaSearchNoResultEmpty","{0} found",Lt):Ue.NC("ariaSearchNoResult","{0} found for '{1}'",Lt,un);if(Ft){const ln=Ue.NC("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",Lt,un,Ft.startLineNumber+":"+Ft.startColumn),Ot=this._codeEditor.getModel();return Ot&&Ft.startLineNumber<=Ot.getLineCount()&&Ft.startLineNumber>=1?`${Ot.getLineContent(Ft.startLineNumber)}, ${ln}`:ln}return Ue.NC("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",Lt,un)}_updateToggleSelectionFindButton(){const Lt=this._codeEditor.getSelection();this._isVisible&&(this._toggleSelectionFind.checked||Lt&&(Lt.startLineNumber!==Lt.endLineNumber||Lt.startColumn!==Lt.endColumn))?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const Lt=this._state.searchString.length>0,Ft=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&Lt&&Ft&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&Lt&&Ft&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&Lt),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&Lt),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const un=!this._codeEditor.getOption(83);this._toggleReplaceBtn.setEnabled(this._isVisible&&un)}_reveal(){if(this._revealTimeouts.forEach(Lt=>{clearTimeout(Lt)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const Lt=this._codeEditor.getSelection();switch(this._codeEditor.getOption(37).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":this._toggleSelectionFind.checked=!!Lt&&Lt.startLineNumber!==Lt.endLineNumber}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let Ft=!0;if(this._codeEditor.getOption(37).seedSearchStringFromSelection&&Lt){const un=this._codeEditor.getDomNode();if(un){const ln=be.i(un),Ot=this._codeEditor.getScrolledVisiblePosition(Lt.getStartPosition()),$e=ln.left+(Ot?Ot.left:0),wt=Ot?Ot.top:0;if(this._viewZone&&wt<this._viewZone.heightInPx){Lt.endLineNumber>Lt.startLineNumber&&(Ft=!1);const Bt=be.xQ(this._domNode).left;$e>Bt&&(Ft=!1);const Xt=this._codeEditor.getScrolledVisiblePosition(Lt.getEndPosition());ln.left+(Xt?Xt.left:0)>Bt&&(Ft=!1)}}}this._showViewZone(Ft)}}_hide(Lt){this._revealTimeouts.forEach(Ft=>{clearTimeout(Ft)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),Lt&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(Lt){if(!this._codeEditor.getOption(37).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;const un=this._viewZone;void 0!==this._viewZoneId||!un||this._codeEditor.changeViewZones(ln=>{un.heightInPx=this._getHeight(),this._viewZoneId=ln.addZone(un),this._codeEditor.setScrollTop(Lt||this._codeEditor.getScrollTop()+un.heightInPx)})}_showViewZone(Lt=!0){if(!this._isVisible||!this._codeEditor.getOption(37).addExtraSpaceOnTop)return;void 0===this._viewZone&&(this._viewZone=new Di(0));const un=this._viewZone;this._codeEditor.changeViewZones(ln=>{if(void 0!==this._viewZoneId){const Ot=this._getHeight();if(Ot===un.heightInPx)return;const $e=Ot-un.heightInPx;return un.heightInPx=Ot,ln.layoutZone(this._viewZoneId),void(Lt&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+$e))}{let Ot=this._getHeight();if(Ot-=this._codeEditor.getOption(77).top,Ot<=0)return;un.heightInPx=Ot,this._viewZoneId=ln.addZone(un),Lt&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+Ot)}})}_removeViewZone(){this._codeEditor.changeViewZones(Lt=>{void 0!==this._viewZoneId&&(Lt.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(Lt){const Ft={inputActiveOptionBorder:Lt.getColor(n.PRb),inputActiveOptionBackground:Lt.getColor(n.XEs),inputActiveOptionForeground:Lt.getColor(n.Pvw),inputBackground:Lt.getColor(n.sEe),inputForeground:Lt.getColor(n.zJb),inputBorder:Lt.getColor(n.dt_),inputValidationInfoBackground:Lt.getColor(n._lC),inputValidationInfoForeground:Lt.getColor(n.YI3),inputValidationInfoBorder:Lt.getColor(n.EPQ),inputValidationWarningBackground:Lt.getColor(n.RV_),inputValidationWarningForeground:Lt.getColor(n.SUG),inputValidationWarningBorder:Lt.getColor(n.C3g),inputValidationErrorBackground:Lt.getColor(n.paE),inputValidationErrorForeground:Lt.getColor(n._t9),inputValidationErrorBorder:Lt.getColor(n.OZR)};this._findInput.style(Ft),this._replaceInput.style(Ft),this._toggleSelectionFind.style(Ft)}_tryUpdateWidgetWidth(){if(!this._isVisible||!be.Uw(this._domNode))return;const Lt=this._codeEditor.getLayoutInfo();if(Lt.contentWidth<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const un=Lt.width,ln=Lt.minimap.minimapWidth;let Ot=!1,$e=!1,wt=!1;if(this._resized&&be.w(this._domNode)>419)return this._domNode.style.maxWidth=un-28-ln-15+"px",void(this._replaceInput.width=be.w(this._findInput.domNode));if(447+ln>=un&&($e=!0),447+ln-xn>=un&&(wt=!0),447+ln-xn>=un+50&&(Ot=!0),this._domNode.classList.toggle("collapsed-find-widget",Ot),this._domNode.classList.toggle("narrow-find-widget",wt),this._domNode.classList.toggle("reduced-find-widget",$e),!wt&&!Ot&&(this._domNode.style.maxWidth=un-28-ln-15+"px"),this._resized){this._findInput.inputBox.layout();const Bt=this._findInput.inputBox.element.clientWidth;Bt>0&&(this._replaceInput.width=Bt)}else this._isReplaceVisible&&(this._replaceInput.width=be.w(this._findInput.domNode))}_getHeight(){let Lt=0;return Lt+=4,Lt+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(Lt+=4,Lt+=this._replaceInput.inputBox.height+2),Lt+=4,Lt}_tryUpdateHeight(){const Lt=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==Lt)&&(this._cachedHeight=Lt,this._domNode.style.height=`${Lt}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const Lt=this._codeEditor.getSelections();Lt.map(Ft=>(1===Ft.endColumn&&Ft.endLineNumber>Ft.startLineNumber&&(Ft=Ft.setEndPosition(Ft.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(Ft.endLineNumber-1))),Ft.startLineNumber===Ft.endLineNumber||N.e.equalsRange(Ft,this._state.currentMatch)?null:Ft)).filter(Ft=>!!Ft),Lt.length&&this._state.change({searchScope:Lt},!0)}}_onFindInputMouseDown(Lt){Lt.middleButton&&Lt.stopPropagation()}_onFindInputKeyDown(Lt){return Lt.equals(3|ei)?(this._keybindingService.dispatchEvent(Lt,Lt.target)||this._findInput.inputBox.insertAtCursor("\n"),void Lt.preventDefault()):Lt.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void Lt.preventDefault()):Lt.equals(2066)?(this._codeEditor.focus(),void Lt.preventDefault()):Lt.equals(16)?li(Lt,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):Lt.equals(18)?Qn(Lt,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(Lt){return Lt.equals(3|ei)?(this._keybindingService.dispatchEvent(Lt,Lt.target)||(ie.ED&&ie.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(Ue.NC("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(ai,!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n")),void Lt.preventDefault()):Lt.equals(2)?(this._findInput.focusOnCaseSensitive(),void Lt.preventDefault()):Lt.equals(1026)?(this._findInput.focus(),void Lt.preventDefault()):Lt.equals(2066)?(this._codeEditor.focus(),void Lt.preventDefault()):Lt.equals(16)?li(Lt,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):Lt.equals(18)?Qn(Lt,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(Lt){return 0}_keybindingLabelFor(Lt){const Ft=this._keybindingService.lookupKeybinding(Lt);return Ft?` (${Ft.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new ot.Yb(null,this._contextViewProvider,{width:221,label:nt,placeholder:st,appendCaseSensitiveLabel:this._keybindingLabelFor("toggleFindCaseSensitive"),appendWholeWordsLabel:this._keybindingLabelFor("toggleFindWholeWord"),appendRegexLabel:this._keybindingLabelFor("toggleFindRegex"),validation:Bt=>{if(0===Bt.length||!this._findInput.getRegex())return null;try{return new RegExp(Bt,"gu"),null}catch(Xt){return{content:Xt.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>et(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(Bt=>this._onFindInputKeyDown(Bt))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(Bt=>{Bt.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),Bt.preventDefault())})),this._register(this._findInput.onRegexKeyDown(Bt=>{Bt.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),Bt.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(Bt=>{this._tryUpdateHeight()&&this._showViewZone()})),ie.IJ&&this._register(this._findInput.onMouseDown(Bt=>this._onFindInputMouseDown(Bt))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Dn({label:Ee+this._keybindingLabelFor("editor.action.previousMatchFindAction"),icon:ft,onTrigger:()=>{this._codeEditor.getAction("editor.action.previousMatchFindAction").run().then(void 0,Ve.dL)}})),this._nextBtn=this._register(new Dn({label:Fe+this._keybindingLabelFor("editor.action.nextMatchFindAction"),icon:ke,onTrigger:()=>{this._codeEditor.getAction("editor.action.nextMatchFindAction").run().then(void 0,Ve.dL)}}));const un=document.createElement("div");un.className="find-part",un.appendChild(this._findInput.domNode);const ln=document.createElement("div");ln.className="find-actions",un.appendChild(ln),ln.appendChild(this._matchesCount),ln.appendChild(this._prevBtn.domNode),ln.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new re.Z({icon:ze,title:mt+this._keybindingLabelFor("toggleFindInSelection"),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const Bt=this._codeEditor.getSelections();Bt.map(Xt=>(1===Xt.endColumn&&Xt.endLineNumber>Xt.startLineNumber&&(Xt=Xt.setEndPosition(Xt.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(Xt.endLineNumber-1))),Xt.isEmpty()?null:Xt)).filter(Xt=>!!Xt),Bt.length&&this._state.change({searchScope:Bt},!0)}}else this._state.change({searchScope:null},!0)})),ln.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Dn({label:Vt+this._keybindingLabelFor("closeFindWidget"),icon:Ze.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:Bt=>{Bt.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),Bt.preventDefault())}})),ln.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new ot.Nq(null,void 0,{label:qt,placeholder:Cn,appendPreserveCaseLabel:this._keybindingLabelFor("togglePreserveCase"),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>et(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(Bt=>this._onReplaceInputKeyDown(Bt))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(Bt=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(Bt=>{Bt.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),Bt.preventDefault())})),this._replaceBtn=this._register(new Dn({label:Gt+this._keybindingLabelFor("editor.action.replaceOne"),icon:hn,onTrigger:()=>{this._controller.replace()},onKeyDown:Bt=>{Bt.equals(1026)&&(this._closeBtn.focus(),Bt.preventDefault())}})),this._replaceAllBtn=this._register(new Dn({label:en+this._keybindingLabelFor("editor.action.replaceAll"),icon:vn,onTrigger:()=>{this._controller.replaceAll()}}));const Ot=document.createElement("div");Ot.className="replace-part",Ot.appendChild(this._replaceInput.domNode);const $e=document.createElement("div");$e.className="replace-actions",Ot.appendChild($e),$e.appendChild(this._replaceBtn.domNode),$e.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Dn({label:Yt,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=be.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(un),this._domNode.appendChild(Ot),this._resizeSash=new Se.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let wt=419;this._register(this._resizeSash.onDidStart(()=>{wt=be.w(this._domNode)})),this._register(this._resizeSash.onDidChange(Bt=>{this._resized=!0;const Xt=wt+Bt.startX-Bt.currentX;Xt<419||Xt>(parseFloat(be.Dx(this._domNode).maxWidth)||0)||(this._domNode.style.width=`${Xt}px`,this._isReplaceVisible&&(this._replaceInput.width=be.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const Bt=be.w(this._domNode);if(Bt<419)return;let Xt=419;if(!this._resized||419===Bt){const nn=this._codeEditor.getLayoutInfo();Xt=nn.width-28-nn.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${Xt}px`,this._isReplaceVisible&&(this._replaceInput.width=be.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const Lt=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==Lt)}}return mn.ID="editor.contrib.findWidget",mn})();class Dn extends Ie.${constructor(bt){super(),this._opts=bt;let Lt="button";this._opts.className&&(Lt=Lt+" "+this._opts.className),this._opts.icon&&(Lt=Lt+" "+l.kS.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=Lt,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,Ft=>{this._opts.onTrigger(),Ft.preventDefault()}),this.onkeydown(this._domNode,Ft=>{var un,ln;if(Ft.equals(10)||Ft.equals(3))return this._opts.onTrigger(),void Ft.preventDefault();null===(ln=(un=this._opts).onKeyDown)||void 0===ln||ln.call(un,Ft)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(bt){this._domNode.classList.toggle("disabled",!bt),this._domNode.setAttribute("aria-disabled",String(!bt)),this._domNode.tabIndex=bt?0:-1}setExpanded(bt){this._domNode.setAttribute("aria-expanded",String(!!bt)),bt?(this._domNode.classList.remove(...l.kS.asClassNameArray(dt)),this._domNode.classList.add(...l.kS.asClassNameArray($t))):(this._domNode.classList.remove(...l.kS.asClassNameArray($t)),this._domNode.classList.add(...l.kS.asClassNameArray(dt)))}}(0,l.Ic)((mn,bt)=>{const Lt=(ct,St)=>{St&&bt.addRule(`.monaco-editor ${ct} { background-color: ${St}; }`)};Lt(".findMatch",mn.getColor(n.MUv)),Lt(".currentFindMatch",mn.getColor(n.nyM)),Lt(".findScope",mn.getColor(n.jUe)),Lt(".find-widget",mn.getColor(n.D0T));const un=mn.getColor(n.rh);un&&bt.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${un}; }`);const ln=mn.getColor(n.EiJ);ln&&bt.addRule(`.monaco-editor .findMatch { border: 1px ${(0,Mt.c3)(mn.type)?"dotted":"solid"} ${ln}; box-sizing: border-box; }`);const Ot=mn.getColor(n.pnM);Ot&&bt.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${Ot}; padding: 1px; box-sizing: border-box; }`);const $e=mn.getColor(n.gkn);$e&&bt.addRule(`.monaco-editor .findScope { border: 1px ${(0,Mt.c3)(mn.type)?"dashed":"solid"} ${$e}; }`);const wt=mn.getColor(n.lRK);wt&&bt.addRule(`.monaco-editor .find-widget { border: 1px solid ${wt}; }`);const Bt=mn.getColor(n.Hfx);Bt&&bt.addRule(`.monaco-editor .find-widget { color: ${Bt}; }`);const Xt=mn.getColor(n.Ido);Xt&&bt.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${Xt}; }`);const nn=mn.getColor(n.Ng6);if(nn)bt.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${nn}; }`);else{const ct=mn.getColor(n.D1_);ct&&bt.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ct}; }`)}const Kt=mn.getColor(n.lUq);Kt&&bt.addRule(`\n\t\t.monaco-editor .find-widget .button:not(.disabled):hover,\n\t\t.monaco-editor .find-widget .codicon-find-selection:hover {\n\t\t\tbackground-color: ${Kt} !important;\n\t\t}\n\t`);const Ge=mn.getColor(n.R80);Ge&&bt.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${Ge}; }`)});var Dt=e(61004),Te=e(80777),oe=e(34394),Le=e(77090),We=e(78782),it=e(99571),pt=function(mn,bt,Lt,Ft){var Ot,un=arguments.length,ln=un<3?bt:null===Ft?Ft=Object.getOwnPropertyDescriptor(bt,Lt):Ft;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ln=Reflect.decorate(mn,bt,Lt,Ft);else for(var $e=mn.length-1;$e>=0;$e--)(Ot=mn[$e])&&(ln=(un<3?Ot(ln):un>3?Ot(bt,Lt,ln):Ot(bt,Lt))||ln);return un>3&&ln&&Object.defineProperty(bt,Lt,ln),ln},Et=function(mn,bt){return function(Lt,Ft){bt(Lt,Ft,mn)}},Ut=function(mn,bt,Lt,Ft){return new(Lt||(Lt=Promise))(function(ln,Ot){function $e(Xt){try{Bt(Ft.next(Xt))}catch(nn){Ot(nn)}}function wt(Xt){try{Bt(Ft.throw(Xt))}catch(nn){Ot(nn)}}function Bt(Xt){Xt.done?ln(Xt.value):function un(ln){return ln instanceof Lt?ln:new Lt(function(Ot){Ot(ln)})}(Xt.value).then($e,wt)}Bt((Ft=Ft.apply(mn,bt||[])).next())})};function pn(mn,bt="single",Lt=!1){if(!mn.hasModel())return null;const Ft=mn.getSelection();if("single"===bt&&Ft.startLineNumber===Ft.endLineNumber||"multiple"===bt)if(Ft.isEmpty()){const un=mn.getConfiguredWordAtPosition(Ft.getStartPosition());if(un&&!1===Lt)return un.word}else if(mn.getModel().getValueLengthInRange(Ft)<524288)return mn.getModel().getValueInRange(Ft);return null}let In=class Bd extends s.JT{constructor(bt,Lt,Ft,un){super(),this._editor=bt,this._findWidgetVisible=G.bindTo(Lt),this._contextKeyService=Lt,this._storageService=Ft,this._clipboardService=un,this._updateHistoryDelayer=new f.vp(500),this._state=this._register(new de),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(ln=>this._onStateChanged(ln))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const ln=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),ln&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(37).loop})}))}get editor(){return this._editor}static get(bt){return bt.getContribution(Bd.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(bt){this.saveQueryState(bt),bt.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),bt.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(bt){bt.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),bt.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),bt.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),bt.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!W.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const bt=this._editor.getSelections();bt.map(Lt=>(1===Lt.endColumn&&Lt.endLineNumber>Lt.startLineNumber&&(Lt=Lt.setEndPosition(Lt.endLineNumber-1,this._editor.getModel().getLineMaxColumn(Lt.endLineNumber-1))),Lt.isEmpty()?null:Lt)).filter(Lt=>!!Lt),bt.length&&this._state.change({searchScope:bt},!0)}}setSearchString(bt){this._state.isRegex&&(bt=L.ec(bt)),this._state.change({searchString:bt},!1)}highlightFindOptions(bt=!1){}_start(bt,Lt){return Ut(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const Ft=Object.assign(Object.assign({},Lt),{isRevealed:!0});if("single"===bt.seedSearchStringFromSelection){const un=pn(this._editor,bt.seedSearchStringFromSelection,bt.seedSearchStringFromNonEmptySelection);un&&(Ft.searchString=this._state.isRegex?L.ec(un):un)}else if("multiple"===bt.seedSearchStringFromSelection&&!bt.updateSearchScope){const un=pn(this._editor,bt.seedSearchStringFromSelection);un&&(Ft.searchString=un)}if(!Ft.searchString&&bt.seedSearchStringFromGlobalClipboard){const un=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;un&&(Ft.searchString=un)}if(bt.forceRevealReplace||Ft.isReplaceRevealed?Ft.isReplaceRevealed=!0:this._findWidgetVisible.get()||(Ft.isReplaceRevealed=!1),bt.updateSearchScope){const un=this._editor.getSelections();un.some(ln=>!ln.isEmpty())&&(Ft.searchScope=un)}Ft.loop=bt.loop,this._state.change(Ft,!1),this._model||(this._model=new fe(this._editor,this._state))})}start(bt,Lt){return this._start(bt,Lt)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._model.replaceAll(),!0)}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}getGlobalBufferTerm(){return Ut(this,void 0,void 0,function*(){return this._editor.getOption(37).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(bt){this._editor.getOption(37).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(bt)}};In.ID="editor.contrib.findController",In=pt([Et(1,Z.i6),Et(2,it.Uy),Et(3,Te.p)],In);let On=class extends In{constructor(bt,Lt,Ft,un,ln,Ot,$e,wt){super(bt,Ft,$e,wt),this._contextViewService=Lt,this._keybindingService=un,this._themeService=ln,this._notificationService=Ot,this._widget=null,this._findOptionsWidget=null}_start(bt,Lt){const Ft=Object.create(null,{_start:{get:()=>super._start}});return Ut(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const un=this._editor.getSelection();let ln=!1;switch(this._editor.getOption(37).autoFindInSelection){case"always":ln=!0;break;case"never":ln=!1;break;case"multiline":ln=!!un&&un.startLineNumber!==un.endLineNumber}bt.updateSearchScope=bt.updateSearchScope||ln,yield Ft._start.call(this,bt,Lt),this._widget&&(2===bt.shouldFocus?this._widget.focusReplaceInput():1===bt.shouldFocus&&this._widget.focusFindInput())})}highlightFindOptions(bt=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!bt?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new wi(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new ee(this._editor,this._state,this._keybindingService,this._themeService))}};On=pt([Et(1,oe.u),Et(2,Z.i6),Et(3,Le.d),Et(4,l.XE),Et(5,We.lT),Et(6,it.Uy),Et(7,Te.p)],On);const Tn=(0,M.rn)(new M.jY({id:"actions.find",label:Ue.NC("startFindAction","Find"),alias:"Find",precondition:Z.Ao.or(u.u.focus,Z.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:Dt.eH.MenubarEditMenu,group:"3_find",title:Ue.NC({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));Tn.addImplementation(0,(mn,bt,Lt)=>{const Ft=In.get(bt);return!!Ft&&Ft.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==bt.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===bt.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:bt.getOption(37).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:bt.getOption(37).loop})});const kn={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:Ue.NC("actions.find.isRegexOverride",'Overrides "Use Regular Expression" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:Ue.NC("actions.find.wholeWordOverride",'Overrides "Match Whole Word" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:Ue.NC("actions.find.matchCaseOverride",'Overrides "Math Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:Ue.NC("actions.find.preserveCaseOverride",'Overrides "Preserve Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},findInSelection:{type:"boolean"}}}}]};class An extends M.R6{constructor(){super({id:"editor.actions.findWithArgs",label:Ue.NC("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:kn})}run(bt,Lt,Ft){return Ut(this,void 0,void 0,function*(){const un=In.get(Lt);if(un){const ln=Ft?{searchString:Ft.searchString,replaceString:Ft.replaceString,isReplaceRevealed:void 0!==Ft.replaceString,isRegex:Ft.isRegex,wholeWord:Ft.matchWholeWord,matchCase:Ft.isCaseSensitive,preserveCase:Ft.preserveCase}:{};yield un.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===un.getState().searchString.length&&"never"!==Lt.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===Lt.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(null==Ft?void 0:Ft.findInSelection)||!1,loop:Lt.getOption(37).loop},ln),un.setGlobalBufferTerm(un.getState().searchString)}})}}class Gn extends M.R6{constructor(){super({id:"actions.findWithSelection",label:Ue.NC("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(bt,Lt){return Ut(this,void 0,void 0,function*(){const Ft=In.get(Lt);Ft&&(yield Ft.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:Lt.getOption(37).loop}),Ft.setGlobalBufferTerm(Ft.getState().searchString))})}}class ri extends M.R6{run(bt,Lt){return Ut(this,void 0,void 0,function*(){const Ft=In.get(Lt);Ft&&!this._run(Ft)&&(yield Ft.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===Ft.getState().searchString.length&&"never"!==Lt.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===Lt.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:Lt.getOption(37).loop}),this._run(Ft))})}}class si extends ri{constructor(){super({id:"editor.action.nextMatchFindAction",label:Ue.NC("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:u.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:Z.Ao.and(u.u.focus,W),primary:3,weight:100}]})}_run(bt){return!!bt.moveToNextMatch()&&(bt.editor.pushUndoStop(),!0)}}class Si extends ri{constructor(){super({id:"editor.action.previousMatchFindAction",label:Ue.NC("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:u.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:Z.Ao.and(u.u.focus,W),primary:1027,weight:100}]})}_run(bt){return bt.moveToPrevMatch()}}class xi extends M.R6{run(bt,Lt){return Ut(this,void 0,void 0,function*(){const Ft=In.get(Lt);if(!Ft)return;const un="selection"===Lt.getOption(37).seedSearchStringFromSelection;let ln=null;"never"!==Lt.getOption(37).seedSearchStringFromSelection&&(ln=pn(Lt,"single",un)),ln&&Ft.setSearchString(ln),this._run(Ft)||(yield Ft.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==Lt.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:un,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:Lt.getOption(37).loop}),this._run(Ft))})}}class Li extends xi{constructor(){super({id:"editor.action.nextSelectionMatchFindAction",label:Ue.NC("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:u.u.focus,primary:2109,weight:100}})}_run(bt){return bt.moveToNextMatch()}}class Yn extends xi{constructor(){super({id:"editor.action.previousSelectionMatchFindAction",label:Ue.NC("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:u.u.focus,primary:3133,weight:100}})}_run(bt){return bt.moveToPrevMatch()}}const fi=(0,M.rn)(new M.jY({id:"editor.action.startFindReplaceAction",label:Ue.NC("startReplace","Replace"),alias:"Replace",precondition:Z.Ao.or(u.u.focus,Z.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:Dt.eH.MenubarEditMenu,group:"3_find",title:Ue.NC({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));fi.addImplementation(0,(mn,bt,Lt)=>{if(!bt.hasModel()||bt.getOption(83))return!1;const Ft=In.get(bt);if(!Ft)return!1;const un=bt.getSelection(),ln=Ft.isFindInputFocused(),Ot=!un.isEmpty()&&un.startLineNumber===un.endLineNumber&&"never"!==bt.getOption(37).seedSearchStringFromSelection&&!ln,$e=ln||Ot?2:1;return Ft.start({forceRevealReplace:!0,seedSearchStringFromSelection:Ot?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===bt.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:"never"!==bt.getOption(37).seedSearchStringFromSelection,shouldFocus:$e,shouldAnimate:!0,updateSearchScope:!1,loop:bt.getOption(37).loop})}),(0,M._K)(In.ID,On),(0,M.Qr)(An),(0,M.Qr)(Gn),(0,M.Qr)(si),(0,M.Qr)(Si),(0,M.Qr)(Li),(0,M.Qr)(Yn);const pi=M._l.bindToContribution(In.get);(0,M.fK)(new pi({id:"closeFindWidget",precondition:G,handler:mn=>mn.closeFindWidget(),kbOpts:{weight:105,kbExpr:Z.Ao.and(u.u.focus,Z.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,M.fK)(new pi({id:"toggleFindCaseSensitive",precondition:void 0,handler:mn=>mn.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:u.u.focus,primary:z.primary,mac:z.mac,win:z.win,linux:z.linux}})),(0,M.fK)(new pi({id:"toggleFindWholeWord",precondition:void 0,handler:mn=>mn.toggleWholeWords(),kbOpts:{weight:105,kbExpr:u.u.focus,primary:j.primary,mac:j.mac,win:j.win,linux:j.linux}})),(0,M.fK)(new pi({id:"toggleFindRegex",precondition:void 0,handler:mn=>mn.toggleRegex(),kbOpts:{weight:105,kbExpr:u.u.focus,primary:Y.primary,mac:Y.mac,win:Y.win,linux:Y.linux}})),(0,M.fK)(new pi({id:"toggleFindInSelection",precondition:void 0,handler:mn=>mn.toggleSearchScope(),kbOpts:{weight:105,kbExpr:u.u.focus,primary:E.primary,mac:E.mac,win:E.win,linux:E.linux}})),(0,M.fK)(new pi({id:"togglePreserveCase",precondition:void 0,handler:mn=>mn.togglePreserveCase(),kbOpts:{weight:105,kbExpr:u.u.focus,primary:V.primary,mac:V.mac,win:V.win,linux:V.linux}})),(0,M.fK)(new pi({id:"editor.action.replaceOne",precondition:G,handler:mn=>mn.replace(),kbOpts:{weight:105,kbExpr:u.u.focus,primary:3094}})),(0,M.fK)(new pi({id:"editor.action.replaceOne",precondition:G,handler:mn=>mn.replace(),kbOpts:{weight:105,kbExpr:Z.Ao.and(u.u.focus,B),primary:3}})),(0,M.fK)(new pi({id:"editor.action.replaceAll",precondition:G,handler:mn=>mn.replaceAll(),kbOpts:{weight:105,kbExpr:u.u.focus,primary:2563}})),(0,M.fK)(new pi({id:"editor.action.replaceAll",precondition:G,handler:mn=>mn.replaceAll(),kbOpts:{weight:105,kbExpr:Z.Ao.and(u.u.focus,B),primary:void 0,mac:{primary:2051}}})),(0,M.fK)(new pi({id:"editor.action.selectAllMatches",precondition:G,handler:mn=>mn.selectAllMatches(),kbOpts:{weight:105,kbExpr:u.u.focus,primary:515}}))},55107:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{FoldingController:()=>Fe,editorFoldForeground:()=>Dn,foldBackgroundBackground:()=>wi});var f=e(63072),s=e(53663),L=e(36950),M=e(52425),u=e(93059),P=e(54435),A=e(93379),k=e.n(A),N=e(7795),_=e.n(N),a=e(90569),p=e.n(a),c=e(3565),n=e.n(c),l=e(19216),v=e.n(l),d=e(44589),m=e.n(d),I=e(43388),y={};y.styleTagTransform=m(),y.setAttributes=n(),y.insert=p().bind(null,"head"),y.domAPI=_(),y.insertStyleElement=v(),k()(I.Z,y);var x=e(11210),T=e(95172),R=e(29584),Q=e(66778),Z=e(23924),G=e(52787);const W=16777215,B=4278190080;class z{constructor(Te){const oe=Math.ceil(Te/32);this._states=new Uint32Array(oe)}get(Te){return 0!=(this._states[Te/32|0]&1<<Te%32)}set(Te,oe){const Le=Te/32|0,We=Te%32,it=this._states[Le];this._states[Le]=oe?it|1<<We:it&~(1<<We)}}class j{constructor(Te,oe,Le){if(this.sourceAbbr={0:" ",1:"u",2:"r"},Te.length!==oe.length||Te.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=Te,this._endIndexes=oe,this._collapseStates=new z(Te.length),this._userDefinedStates=new z(Te.length),this._recoveredStates=new z(Te.length),this._types=Le,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const Te=[],oe=(Le,We)=>{const it=Te[Te.length-1];return this.getStartLineNumber(it)<=Le&&this.getEndLineNumber(it)>=We};for(let Le=0,We=this._startIndexes.length;Le<We;Le++){const it=this._startIndexes[Le],pt=this._endIndexes[Le];if(it>W||pt>W)throw new Error("startLineNumber or endLineNumber must not exceed "+W);for(;Te.length>0&&!oe(it,pt);)Te.pop();const Et=Te.length>0?Te[Te.length-1]:-1;Te.push(Le),this._startIndexes[Le]=it+((255&Et)<<24),this._endIndexes[Le]=pt+((65280&Et)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(Te){return this._startIndexes[Te]&W}getEndLineNumber(Te){return this._endIndexes[Te]&W}getType(Te){return this._types?this._types[Te]:void 0}hasTypes(){return!!this._types}isCollapsed(Te){return this._collapseStates.get(Te)}setCollapsed(Te,oe){this._collapseStates.set(Te,oe)}isUserDefined(Te){return this._userDefinedStates.get(Te)}setUserDefined(Te,oe){return this._userDefinedStates.set(Te,oe)}isRecovered(Te){return this._recoveredStates.get(Te)}setRecovered(Te,oe){return this._recoveredStates.set(Te,oe)}getSource(Te){return this.isUserDefined(Te)?1:this.isRecovered(Te)?2:0}setSource(Te,oe){1===oe?(this.setUserDefined(Te,!0),this.setRecovered(Te,!1)):2===oe?(this.setUserDefined(Te,!1),this.setRecovered(Te,!0)):(this.setUserDefined(Te,!1),this.setRecovered(Te,!1))}setCollapsedAllOfType(Te,oe){let Le=!1;if(this._types)for(let We=0;We<this._types.length;We++)this._types[We]===Te&&(this.setCollapsed(We,oe),Le=!0);return Le}toRegion(Te){return new Y(this,Te)}getParentIndex(Te){this.ensureParentIndices();const oe=((this._startIndexes[Te]&B)>>>24)+((this._endIndexes[Te]&B)>>>16);return 65535===oe?-1:oe}contains(Te,oe){return this.getStartLineNumber(Te)<=oe&&this.getEndLineNumber(Te)>=oe}findIndex(Te){let oe=0,Le=this._startIndexes.length;if(0===Le)return-1;for(;oe<Le;){const We=Math.floor((oe+Le)/2);Te<this.getStartLineNumber(We)?Le=We:oe=We+1}return oe-1}findRange(Te){let oe=this.findIndex(Te);if(oe>=0){if(this.getEndLineNumber(oe)>=Te)return oe;for(oe=this.getParentIndex(oe);-1!==oe;){if(this.contains(oe,Te))return oe;oe=this.getParentIndex(oe)}}return-1}toString(){const Te=[];for(let oe=0;oe<this.length;oe++)Te[oe]=`[${this.sourceAbbr[this.getSource(oe)]}${this.isCollapsed(oe)?"+":"-"}] ${this.getStartLineNumber(oe)}/${this.getEndLineNumber(oe)}`;return Te.join(", ")}toFoldRange(Te){return{startLineNumber:this._startIndexes[Te]&W,endLineNumber:this._endIndexes[Te]&W,type:this._types?this._types[Te]:void 0,isCollapsed:this.isCollapsed(Te),source:this.getSource(Te)}}static fromFoldRanges(Te){const oe=Te.length,Le=new Uint32Array(oe),We=new Uint32Array(oe);let it=[],pt=!1;for(let Ut=0;Ut<oe;Ut++){const sn=Te[Ut];Le[Ut]=sn.startLineNumber,We[Ut]=sn.endLineNumber,it.push(sn.type),sn.type&&(pt=!0)}pt||(it=void 0);const Et=new j(Le,We,it);for(let Ut=0;Ut<oe;Ut++)Te[Ut].isCollapsed&&Et.setCollapsed(Ut,!0),Et.setSource(Ut,Te[Ut].source);return Et}static sanitizeAndMerge(Te,oe,Le){Le=null!=Le?Le:Number.MAX_VALUE;const We=(An,Gn)=>Array.isArray(An)?ri=>ri<Gn?An[ri]:void 0:ri=>ri<Gn?An.toFoldRange(ri):void 0,it=We(Te,Te.length),pt=We(oe,oe.length);let Et=0,Ut=0,sn=it(0),pn=pt(0);const In=[];let On,Tn=0;const kn=[];for(;sn||pn;){let An;if(pn&&(!sn||sn.startLineNumber>=pn.startLineNumber))sn&&sn.startLineNumber===pn.startLineNumber?(1===pn.source?An=pn:(An=sn,An.isCollapsed=pn.isCollapsed&&sn.endLineNumber===pn.endLineNumber,An.source=0),sn=it(++Et)):(An=pn,pn.isCollapsed&&0===pn.source&&(An.source=2)),pn=pt(++Ut);else{let Gn=Ut,ri=pn;for(;;){if(!ri||ri.startLineNumber>sn.endLineNumber){An=sn;break}if(1===ri.source&&ri.endLineNumber>sn.endLineNumber)break;ri=pt(++Gn)}sn=it(++Et)}if(An){for(;On&&On.endLineNumber<An.startLineNumber;)On=In.pop();An.endLineNumber>An.startLineNumber&&An.startLineNumber>Tn&&An.endLineNumber<=Le&&(!On||On.endLineNumber>=An.endLineNumber)&&(kn.push(An),Tn=An.startLineNumber,On&&In.push(On),On=An)}}return kn}}class Y{constructor(Te,oe){this.ranges=Te,this.index=oe}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(Te){return Te.startLineNumber<=this.startLineNumber&&Te.endLineNumber>=this.endLineNumber}containsLine(Te){return this.startLineNumber<=Te&&Te<=this.endLineNumber}}var E=e(92638);class V{constructor(Te,oe){this._updateEventEmitter=new G.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=Te,this._decorationProvider=oe,this._regions=new j(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}get regions(){return this._regions}get textModel(){return this._textModel}toggleCollapseState(Te){if(!Te.length)return;Te=Te.sort((Le,We)=>Le.regionIndex-We.regionIndex);const oe={};this._decorationProvider.changeDecorations(Le=>{let We=0,it=-1,pt=-1;const Et=Ut=>{for(;We<Ut;){const sn=this._regions.getEndLineNumber(We),pn=this._regions.isCollapsed(We);if(sn<=it){const In=0!==this.regions.getSource(We);Le.changeDecorationOptions(this._editorDecorationIds[We],this._decorationProvider.getDecorationOption(pn,sn<=pt,In))}pn&&sn>pt&&(pt=sn),We++}};for(const Ut of Te){const sn=Ut.regionIndex,pn=this._editorDecorationIds[sn];if(pn&&!oe[pn]){oe[pn]=!0,Et(sn);const In=!this._regions.isCollapsed(sn);this._regions.setCollapsed(sn,In),it=Math.max(it,this._regions.getEndLineNumber(sn))}}Et(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:Te})}removeManualRanges(Te){const oe=new Array,Le=We=>{for(const it of Te)if(!(it.startLineNumber>We.endLineNumber||We.startLineNumber>it.endLineNumber))return!0;return!1};for(let We=0;We<this._regions.length;We++){const it=this._regions.toFoldRange(We);(0===it.source||!Le(it))&&oe.push(it)}this.updatePost(j.fromFoldRanges(oe))}update(Te,oe=[]){const Le=this._currentFoldedOrManualRanges(oe),We=j.sanitizeAndMerge(Te,Le,this._textModel.getLineCount());this.updatePost(j.fromFoldRanges(We))}updatePost(Te){const oe=[];let Le=-1;for(let We=0,it=Te.length;We<it;We++){const pt=Te.getStartLineNumber(We),Et=Te.getEndLineNumber(We),Ut=Te.isCollapsed(We),sn=0!==Te.getSource(We),pn={startLineNumber:pt,startColumn:this._textModel.getLineMaxColumn(pt),endLineNumber:Et,endColumn:this._textModel.getLineMaxColumn(Et)+1};oe.push({range:pn,options:this._decorationProvider.getDecorationOption(Ut,Et<=Le,sn)}),Ut&&Et>Le&&(Le=Et)}this._decorationProvider.changeDecorations(We=>this._editorDecorationIds=We.deltaDecorations(this._editorDecorationIds,oe)),this._regions=Te,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(Te=[]){const oe=(We,it)=>{for(const pt of Te)if(We<pt&&pt<=it)return!0;return!1},Le=[];for(let We=0,it=this._regions.length;We<it;We++){let pt=this.regions.isCollapsed(We);const Et=this.regions.getSource(We);if(pt||0!==Et){const Ut=this._regions.toFoldRange(We),sn=this._textModel.getDecorationRange(this._editorDecorationIds[We]);sn&&(pt&&(oe(sn.startLineNumber,sn.endLineNumber)||sn.endLineNumber-sn.startLineNumber!=Ut.endLineNumber-Ut.startLineNumber)&&(pt=!1),Le.push({startLineNumber:sn.startLineNumber,endLineNumber:sn.endLineNumber,type:Ut.type,isCollapsed:pt,source:Et}))}}return Le}getMemento(){const Te=this._currentFoldedOrManualRanges(),oe=[];for(let Le=0,We=Te.length;Le<We;Le++){const it=Te[Le],pt=this._getLinesChecksum(it.startLineNumber+1,it.endLineNumber);oe.push({startLineNumber:it.startLineNumber,endLineNumber:it.endLineNumber,isCollapsed:it.isCollapsed,source:it.source,checksum:pt})}return oe.length>0?oe:void 0}applyMemento(Te){var oe,Le;if(!Array.isArray(Te))return;const We=[],it=this._textModel.getLineCount();for(const Et of Te){if(Et.startLineNumber>=Et.endLineNumber||Et.startLineNumber<1||Et.endLineNumber>it)continue;const Ut=this._getLinesChecksum(Et.startLineNumber+1,Et.endLineNumber);(!Et.checksum||Ut===Et.checksum)&&We.push({startLineNumber:Et.startLineNumber,endLineNumber:Et.endLineNumber,type:void 0,isCollapsed:null===(oe=Et.isCollapsed)||void 0===oe||oe,source:null!==(Le=Et.source)&&void 0!==Le?Le:0})}const pt=j.sanitizeAndMerge(this._regions,We,it);this.updatePost(j.fromFoldRanges(pt))}_getLinesChecksum(Te,oe){return(0,E.vp)(this._textModel.getLineContent(Te)+this._textModel.getLineContent(oe))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(Te,oe){const Le=[];if(this._regions){let We=this._regions.findRange(Te),it=1;for(;We>=0;){const pt=this._regions.toRegion(We);(!oe||oe(pt,it))&&Le.push(pt),it++,We=pt.parentIndex}}return Le}getRegionAtLine(Te){if(this._regions){const oe=this._regions.findRange(Te);if(oe>=0)return this._regions.toRegion(oe)}return null}getRegionsInside(Te,oe){const Le=[],We=Te?Te.regionIndex+1:0,it=Te?Te.endLineNumber:Number.MAX_VALUE;if(oe&&2===oe.length){const pt=[];for(let Et=We,Ut=this._regions.length;Et<Ut;Et++){const sn=this._regions.toRegion(Et);if(!(this._regions.getStartLineNumber(Et)<it))break;for(;pt.length>0&&!sn.containedBy(pt[pt.length-1]);)pt.pop();pt.push(sn),oe(sn,pt.length)&&Le.push(sn)}}else for(let pt=We,Et=this._regions.length;pt<Et;pt++){const Ut=this._regions.toRegion(pt);if(!(this._regions.getStartLineNumber(pt)<it))break;(!oe||oe(Ut))&&Le.push(Ut)}return Le}}function te(Dt,Te,oe=Number.MAX_VALUE,Le){const We=[];if(Le&&Le.length>0)for(const it of Le){const pt=Dt.getRegionAtLine(it);if(pt&&(pt.isCollapsed!==Te&&We.push(pt),oe>1)){const Et=Dt.getRegionsInside(pt,(Ut,sn)=>Ut.isCollapsed!==Te&&sn<oe);We.push(...Et)}}else{const it=Dt.getRegionsInside(null,(pt,Et)=>pt.isCollapsed!==Te&&Et<oe);We.push(...it)}Dt.toggleCollapseState(We)}function w(Dt,Te,oe,Le){const We=[];for(const it of Le){const pt=Dt.getAllRegionsAtLine(it,(Et,Ut)=>Et.isCollapsed!==Te&&Ut<=oe);We.push(...pt)}Dt.toggleCollapseState(We)}function me(Dt,Te,oe){const Le=[];for(const pt of oe){const Et=Dt.getAllRegionsAtLine(pt,void 0);Et.length>0&&Le.push(Et[0])}const it=Dt.getRegionsInside(null,pt=>Le.every(Et=>!Et.containedBy(pt)&&!pt.containedBy(Et))&&pt.isCollapsed!==Te);Dt.toggleCollapseState(it)}function Ie(Dt,Te,oe){const Le=Dt.textModel,We=Dt.regions,it=[];for(let pt=We.length-1;pt>=0;pt--)if(oe!==We.isCollapsed(pt)){const Et=We.getStartLineNumber(pt);Te.test(Le.getLineContent(Et))&&it.push(We.toRegion(pt))}Dt.toggleCollapseState(it)}function ee(Dt,Te,oe){const Le=Dt.regions,We=[];for(let it=Le.length-1;it>=0;it--)oe!==Le.isCollapsed(it)&&Te===Le.getType(it)&&We.push(Le.toRegion(it));Dt.toggleCollapseState(We)}var ge=e(18337),re=e(68451),Se=e(37846);class Pe{constructor(Te){this._updateEventEmitter=new G.Q5,this._hasLineChanges=!1,this._foldingModel=Te,this._foldingModelListener=Te.onDidChange(oe=>this.updateHiddenRanges()),this._hiddenRanges=[],Te.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(Te){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=Te.changes.some(oe=>oe.range.endLineNumber!==oe.range.startLineNumber||0!==(0,Se.Q)(oe.text)[0]))}updateHiddenRanges(){let Te=!1;const oe=[];let Le=0,We=0,it=Number.MAX_VALUE,pt=-1;const Et=this._foldingModel.regions;for(;Le<Et.length;Le++){if(!Et.isCollapsed(Le))continue;const Ut=Et.getStartLineNumber(Le)+1,sn=Et.getEndLineNumber(Le);it<=Ut&&sn<=pt||(!Te&&We<this._hiddenRanges.length&&this._hiddenRanges[We].startLineNumber===Ut&&this._hiddenRanges[We].endLineNumber===sn?(oe.push(this._hiddenRanges[We]),We++):(Te=!0,oe.push(new re.e(Ut,1,sn,1))),it=Ut,pt=sn)}(this._hasLineChanges||Te||We<this._hiddenRanges.length)&&this.applyHiddenRanges(oe)}applyHiddenRanges(Te){this._hiddenRanges=Te,this._hasLineChanges=!1,this._updateEventEmitter.fire(Te)}hasRanges(){return this._hiddenRanges.length>0}isHidden(Te){return null!==ie(this._hiddenRanges,Te)}adjustSelections(Te){let oe=!1;const Le=this._foldingModel.textModel;let We=null;const it=pt=>((!We||!function Ve(Dt,Te){return Dt>=Te.startLineNumber&&Dt<=Te.endLineNumber}(pt,We))&&(We=ie(this._hiddenRanges,pt)),We?We.startLineNumber-1:null);for(let pt=0,Et=Te.length;pt<Et;pt++){let Ut=Te[pt];const sn=it(Ut.startLineNumber);sn&&(Ut=Ut.setStartPosition(sn,Le.getLineMaxColumn(sn)),oe=!0);const pn=it(Ut.endLineNumber);pn&&(Ut=Ut.setEndPosition(pn,Le.getLineMaxColumn(pn)),oe=!0),Te[pt]=Ut}return oe}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function ie(Dt,Te){const oe=(0,ge.lG)(Dt,Le=>Te<Le.startLineNumber)-1;return oe>=0&&Dt[oe].endLineNumber>=Te?Dt[oe]:null}var ye=e(6589);class Qe{constructor(Te,oe,Le){this.editorModel=Te,this.languageConfigurationService=oe,this.maxFoldingRegions=Le,this.id="indent"}dispose(){}compute(Te,oe){const Le=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules;return Promise.resolve(function pe(Dt,Te,oe,Le,We){const it=Dt.getOptions().tabSize,pt=new Ae(Le=null!=Le?Le:5e3,We);let Et;oe&&(Et=new RegExp(`(${oe.start.source})|(?:${oe.end.source})`));const Ut=[],sn=Dt.getLineCount()+1;Ut.push({indent:-1,endAbove:sn,line:sn});for(let pn=Dt.getLineCount();pn>0;pn--){const In=Dt.getLineContent(pn),On=(0,ye.q)(In,it);let kn,Tn=Ut[Ut.length-1];if(-1!==On){if(Et&&(kn=In.match(Et))){if(!kn[1]){Ut.push({indent:-2,endAbove:pn,line:pn});continue}{let An=Ut.length-1;for(;An>0&&-2!==Ut[An].indent;)An--;if(An>0){Ut.length=An+1,Tn=Ut[An],pt.insertFirst(pn,Tn.line,On),Tn.line=pn,Tn.indent=On,Tn.endAbove=pn;continue}}}if(Tn.indent>On){do{Ut.pop(),Tn=Ut[Ut.length-1]}while(Tn.indent>On);const An=Tn.endAbove-1;An-pn>=1&&pt.insertFirst(pn,An,On)}Tn.indent===On?Tn.endAbove=pn:Ut.push({indent:On,endAbove:pn,line:pn})}else Te&&(Tn.endAbove=pn)}return pt.toIndentRanges(Dt)}(this.editorModel,Le&&!!Le.offSide,Le&&Le.markers,this.maxFoldingRegions,oe))}}class Ae{constructor(Te,oe){this._notifyTooManyRegions=oe,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=Te}insertFirst(Te,oe,Le){if(Te>W||oe>W)return;const We=this._length;this._startIndexes[We]=Te,this._endIndexes[We]=oe,this._length++,Le<1e3&&(this._indentOccurrences[Le]=(this._indentOccurrences[Le]||0)+1)}toIndentRanges(Te){var oe;if(this._length<=this._foldingRangesLimit){const Le=new Uint32Array(this._length),We=new Uint32Array(this._length);for(let it=this._length-1,pt=0;it>=0;it--,pt++)Le[pt]=this._startIndexes[it],We[pt]=this._endIndexes[it];return new j(Le,We)}{null===(oe=this._notifyTooManyRegions)||void 0===oe||oe.call(this,this._foldingRangesLimit);let Le=0,We=this._indentOccurrences.length;for(let Ut=0;Ut<this._indentOccurrences.length;Ut++){const sn=this._indentOccurrences[Ut];if(sn){if(sn+Le>this._foldingRangesLimit){We=Ut;break}Le+=sn}}const it=Te.getOptions().tabSize,pt=new Uint32Array(this._foldingRangesLimit),Et=new Uint32Array(this._foldingRangesLimit);for(let Ut=this._length-1,sn=0;Ut>=0;Ut--){const pn=this._startIndexes[Ut],In=Te.getLineContent(pn),On=(0,ye.q)(In,it);(On<We||On===We&&Le++<this._foldingRangesLimit)&&(pt[sn]=pn,Et[sn]=this._endIndexes[Ut],sn++)}return new j(pt,Et)}}}var De=e(40402),Oe=e(59776),Ne=e(28708),ne=e(23024),xe=e(2450),Je=e(3508),gt=e(95836);const lt=(0,gt.q5)("folding-expanded",xe.lA.chevronDown,(0,De.NC)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),Ke=(0,gt.q5)("folding-collapsed",xe.lA.chevronRight,(0,De.NC)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),He=(0,gt.q5)("folding-manual-collapsed",Ke,(0,De.NC)("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),Ue=(0,gt.q5)("folding-manual-expanded",lt,(0,De.NC)("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin."));class ot{constructor(Te){this.editor=Te,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(Te,oe,Le){return oe||"never"===this.showFoldingControls?ot.HIDDEN_RANGE_DECORATION:Te?Le?this.showFoldingHighlights?ot.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:ot.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?ot.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:ot.COLLAPSED_VISUAL_DECORATION:"mouseover"===this.showFoldingControls?Le?ot.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:ot.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:Le?ot.MANUALLY_EXPANDED_VISUAL_DECORATION:ot.EXPANDED_VISUAL_DECORATION}changeDecorations(Te){return this.editor.changeDecorations(Te)}removeDecorations(Te){this.editor.removeDecorations(Te)}}ot.COLLAPSED_VISUAL_DECORATION=Je.qx.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:ne.kS.asClassName(Ke)}),ot.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Je.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:ne.kS.asClassName(Ke)}),ot.MANUALLY_COLLAPSED_VISUAL_DECORATION=Je.qx.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+ne.kS.asClassName(lt)}),ot.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Je.qx.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:ne.kS.asClassName(He)}),ot.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Je.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:ne.kS.asClassName(lt)}),ot.EXPANDED_VISUAL_DECORATION=Je.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+ne.kS.asClassName(lt)}),ot.MANUALLY_EXPANDED_VISUAL_DECORATION=Je.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+ne.kS.asClassName(Ue)}),ot.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Je.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:ne.kS.asClassName(Ue)}),ot.HIDDEN_RANGE_DECORATION=Je.qx.register({description:"folding-hidden-range-decoration",stickiness:1});const et={};class Mt{constructor(Te,oe,Le,We){this.editorModel=Te,this.providers=oe,this.limit=We,this.id="syntax";for(const it of oe)"function"==typeof it.onDidChange&&(this.disposables||(this.disposables=new M.SL),this.disposables.add(it.onDidChange(Le)))}compute(Te,oe){return function Nt(Dt,Te,oe){let Le=null;const We=Dt.map((it,pt)=>Promise.resolve(it.provideFoldingRanges(Te,et,oe)).then(Et=>{if(!oe.isCancellationRequested&&Array.isArray(Et)){Array.isArray(Le)||(Le=[]);const Ut=Te.getLineCount();for(const sn of Et)sn.start>0&&sn.end>sn.start&&sn.end<=Ut&&Le.push({start:sn.start,end:sn.end,rank:pt,kind:sn.kind})}},s.Cp));return Promise.all(We).then(it=>Le)}(this.providers,this.editorModel,Te).then(Le=>Le?function dt(Dt,Te,oe){const Le=Dt.sort((Et,Ut)=>{let sn=Et.start-Ut.start;return 0===sn&&(sn=Et.rank-Ut.rank),sn}),We=new ze(Te,oe);let it;const pt=[];for(const Et of Le)if(it){if(Et.start>it.start)if(Et.end<=it.end)pt.push(it),it=Et,We.add(Et.start,Et.end,Et.kind&&Et.kind.value,pt.length);else{if(Et.start>it.end){do{it=pt.pop()}while(it&&Et.start>it.end);it&&pt.push(it),it=Et}We.add(Et.start,Et.end,Et.kind&&Et.kind.value,pt.length)}}else it=Et,We.add(Et.start,Et.end,Et.kind&&Et.kind.value,pt.length);return We.toIndentRanges()}(Le,this.limit,oe):null)}dispose(){var Te;null===(Te=this.disposables)||void 0===Te||Te.dispose()}}class ze{constructor(Te,oe){this._notifyTooManyRegions=oe,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=Te}add(Te,oe,Le,We){if(Te>W||oe>W)return;const it=this._length;this._startIndexes[it]=Te,this._endIndexes[it]=oe,this._nestingLevels[it]=We,this._types[it]=Le,this._length++,We<30&&(this._nestingLevelCounts[We]=(this._nestingLevelCounts[We]||0)+1)}toIndentRanges(){var Te;if(this._length<=this._foldingRangesLimit){const oe=new Uint32Array(this._length),Le=new Uint32Array(this._length);for(let We=0;We<this._length;We++)oe[We]=this._startIndexes[We],Le[We]=this._endIndexes[We];return new j(oe,Le,this._types)}{null===(Te=this._notifyTooManyRegions)||void 0===Te||Te.call(this,this._foldingRangesLimit);let oe=0,Le=this._nestingLevelCounts.length;for(let Et=0;Et<this._nestingLevelCounts.length;Et++){const Ut=this._nestingLevelCounts[Et];if(Ut){if(Ut+oe>this._foldingRangesLimit){Le=Et;break}oe+=Ut}}const We=new Uint32Array(this._foldingRangesLimit),it=new Uint32Array(this._foldingRangesLimit),pt=[];for(let Et=0,Ut=0;Et<this._length;Et++){const sn=this._nestingLevels[Et];(sn<Le||sn===Le&&oe++<this._foldingRangesLimit)&&(We[Ut]=this._startIndexes[Et],it[Ut]=this._endIndexes[Et],pt[Ut]=this._types[Et],Ut++)}return new j(We,it,pt)}}}var $t=e(78782),hn=e(63570),vn=e(79974),ft=e(41724),ke=e(37464),st=function(Dt,Te){return function(oe,Le){Te(oe,Le,Dt)}};const Ee=new Oe.uy("foldingEnabled",!1);let Fe=class Fd extends M.JT{constructor(Te,oe,Le,We,it,pt){super(),this.contextKeyService=oe,this.languageConfigurationService=Le,this.languageFeaturesService=pt,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new M.SL),this.editor=Te;const Et=this.editor.getOptions();this._isEnabled=Et.get(39),this._useFoldingProviders="indentation"!==Et.get(40),this._unfoldOnClickAfterEndOfLine=Et.get(44),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=Et.get(42),this._maxFoldingRegions=Et.get(43),this.updateDebounceInfo=it.for(pt.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new ot(Te),this.foldingDecorationProvider.showFoldingControls=Et.get(101),this.foldingDecorationProvider.showFoldingHighlights=Et.get(41),this.foldingEnabled=Ee.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=Ut=>{this._tooManyRegionsNotified||(We.notify({severity:hn.Z.Warning,sticky:!0,message:De.NC("maximum fold ranges","The number of foldable regions is limited to a maximum of {0}. Increase configuration option ['Folding Maximum Regions'](command:workbench.action.openSettings?[\"editor.foldingMaximumRegions\"]) to enable more.",Ut)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(Ut=>{if(Ut.hasChanged(39)&&(this._isEnabled=this.editor.getOptions().get(39),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),Ut.hasChanged(43)&&(this._maxFoldingRegions=this.editor.getOptions().get(43),this._tooManyRegionsNotified=!1,this.onModelChanged()),Ut.hasChanged(101)||Ut.hasChanged(41)){const sn=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=sn.get(101),this.foldingDecorationProvider.showFoldingHighlights=sn.get(41),this.triggerFoldingModelChanged()}Ut.hasChanged(40)&&(this._useFoldingProviders="indentation"!==this.editor.getOptions().get(40),this.onFoldingStrategyChanged()),Ut.hasChanged(44)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(44)),Ut.hasChanged(42)&&(this._foldingImportsByDefault=this.editor.getOptions().get(42))})),this.onModelChanged()}static get(Te){return Te.getContribution(Fd.ID)}saveViewState(){const Te=this.editor.getModel();if(!Te||!this._isEnabled||Te.isTooLargeForTokenization())return{};if(this.foldingModel){const oe=this.foldingModel.getMemento(),Le=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:oe,lineCount:Te.getLineCount(),provider:Le,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(Te){const oe=this.editor.getModel();if(oe&&this._isEnabled&&!oe.isTooLargeForTokenization()&&this.hiddenRangeModel&&Te&&Te.lineCount===oe.getLineCount()&&(this._currentModelHasFoldedImports=!!Te.foldedImports,Te.collapsedRegions&&Te.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(Te.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const Te=this.editor.getModel();!this._isEnabled||!Te||Te.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new V(Te,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new Pe(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(oe=>this.onHiddenRangesChanges(oe))),this.updateScheduler=new f.vp(this.updateDebounceInfo.get(Te)),this.cursorChangedScheduler=new f.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(oe=>this.onDidChangeModelContent(oe))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(oe=>this.onEditorMouseDown(oe))),this.localToDispose.add(this.editor.onMouseUp(oe=>this.onEditorMouseUp(oe))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(Te){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new Qe(Te,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){const oe=this.languageFeaturesService.foldingRangeProvider.ordered(this.foldingModel.textModel);oe.length>0&&(this.rangeProvider=new Mt(Te,oe,()=>this.triggerFoldingModelChanged(),this._maxFoldingRegions))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(Te){var oe;null===(oe=this.hiddenRangeModel)||void 0===oe||oe.notifyChangeModelContent(Te),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const Te=this.foldingModel;if(!Te)return null;const oe=new ft.G(!0),Le=this.getRangeProvider(Te.textModel),We=this.foldingRegionPromise=(0,f.PG)(it=>Le.compute(it,this._notifyTooManyRegions));return We.then(it=>{if(it&&We===this.foldingRegionPromise){let pt;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const pn=it.setCollapsedAllOfType(Q.AD.Imports.value,!0);pn&&(pt=x.Z.capture(this.editor),this._currentModelHasFoldedImports=pn)}const Et=this.editor.getSelections(),Ut=Et?Et.map(pn=>pn.startLineNumber):[];Te.update(it,Ut),null==pt||pt.restore(this.editor);const sn=this.updateDebounceInfo.update(Te.textModel,oe.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=sn)}return Te})}).then(void 0,Te=>((0,s.dL)(Te),null)))}onHiddenRangesChanges(Te){if(this.hiddenRangeModel&&Te.length&&!this._restoringViewState){const oe=this.editor.getSelections();oe&&this.hiddenRangeModel.adjustSelections(oe)&&this.editor.setSelections(oe)}this.editor.setHiddenAreas(Te)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const Te=this.getFoldingModel();!Te||Te.then(oe=>{if(oe){const Le=this.editor.getSelections();if(Le&&Le.length>0){const We=[];for(const it of Le){const pt=it.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(pt)&&We.push(...oe.getAllRegionsAtLine(pt,Et=>Et.isCollapsed&&pt>Et.startLineNumber))}We.length&&(oe.toggleCollapseState(We),this.reveal(Le[0].getPosition()))}}}).then(void 0,s.dL)}onEditorMouseDown(Te){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!Te.target||!Te.target.range||!Te.event.leftButton&&!Te.event.middleButton)return;const oe=Te.target.range;let Le=!1;switch(Te.target.type){case 4:if(Te.target.detail.offsetX-Te.target.element.offsetLeft<5)return;Le=!0;break;case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!Te.target.detail.isAfterLines)break;return;case 6:if(this.hiddenRangeModel.hasRanges()){const We=this.editor.getModel();if(We&&oe.startColumn===We.getLineMaxColumn(oe.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:oe.startLineNumber,iconClicked:Le}}onEditorMouseUp(Te){const oe=this.foldingModel;if(!oe||!this.mouseDownInfo||!Te.target)return;const Le=this.mouseDownInfo.lineNumber,We=this.mouseDownInfo.iconClicked,it=Te.target.range;if(!it||it.startLineNumber!==Le)return;if(We){if(4!==Te.target.type)return}else{const Et=this.editor.getModel();if(!Et||it.startColumn!==Et.getLineMaxColumn(Le))return}const pt=oe.getRegionAtLine(Le);if(pt&&pt.startLineNumber===Le){const Et=pt.isCollapsed;if(We||Et){let sn=[];if(Te.event.altKey){const In=oe.getRegionsInside(null,On=>!On.containedBy(pt)&&!pt.containedBy(On));for(const On of In)On.isCollapsed&&sn.push(On);0===sn.length&&(sn=In)}else{const pn=Te.event.middleButton||Te.event.shiftKey;if(pn)for(const In of oe.getRegionsInside(pt))In.isCollapsed===Et&&sn.push(In);(Et||!pn||0===sn.length)&&sn.push(pt)}oe.toggleCollapseState(sn),this.reveal({lineNumber:Le,column:1})}}}reveal(Te){this.editor.revealPositionInCenterIfOutsideViewport(Te,0)}};Fe.ID="editor.contrib.folding",Fe=function(Dt,Te,oe,Le){var pt,We=arguments.length,it=We<3?Te:null===Le?Le=Object.getOwnPropertyDescriptor(Te,oe):Le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)it=Reflect.decorate(Dt,Te,oe,Le);else for(var Et=Dt.length-1;Et>=0;Et--)(pt=Dt[Et])&&(it=(We<3?pt(it):We>3?pt(Te,oe,it):pt(Te,oe))||it);return We>3&&it&&Object.defineProperty(Te,oe,it),it}([st(1,Oe.i6),st(2,Z.c_),st(3,$t.lT),st(4,vn.A),st(5,ke.p)],Fe);class mt extends T.R6{runEditorCommand(Te,oe,Le){const We=Te.get(Z.c_),it=Fe.get(oe);if(!it)return;const pt=it.getFoldingModel();return pt?(this.reportTelemetry(Te,oe),pt.then(Et=>{if(Et){this.invoke(it,Et,oe,Le,We);const Ut=oe.getSelection();Ut&&it.reveal(Ut.getStartPosition())}})):void 0}getSelectedLines(Te){const oe=Te.getSelections();return oe?oe.map(Le=>Le.startLineNumber):[]}getLineNumbers(Te,oe){return Te&&Te.selectionLines?Te.selectionLines.map(Le=>Le+1):this.getSelectedLines(oe)}run(Te,oe){}}function Vt(Dt){if(!P.o8(Dt)){if(!P.Kn(Dt))return!1;const Te=Dt;if(!P.o8(Te.levels)&&!P.hj(Te.levels)||!P.o8(Te.direction)&&!P.HD(Te.direction)||!P.o8(Te.selectionLines)&&(!P.kJ(Te.selectionLines)||!Te.selectionLines.every(P.hj)))return!1}return!0}let Un=(()=>{class Dt extends mt{getFoldingLevel(){return parseInt(this.id.substr(Dt.ID_PREFIX.length))}invoke(oe,Le,We){!function be(Dt,Te,oe,Le){const it=Dt.getRegionsInside(null,(pt,Et)=>Et===Te&&pt.isCollapsed!==oe&&!Le.some(Ut=>pt.containsLine(Ut)));Dt.toggleCollapseState(it)}(Le,this.getFoldingLevel(),!0,this.getSelectedLines(We))}}return Dt.ID_PREFIX="editor.foldLevel",Dt.ID=Te=>Dt.ID_PREFIX+Te,Dt})();(0,T._K)(Fe.ID,Fe),(0,T.Qr)(class qt extends mt{constructor(){super({id:"editor.unfold",label:De.NC("unfoldAction.label","Unfold"),alias:"Unfold",precondition:Ee,kbOpts:{kbExpr:R.u.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:Vt,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Te,oe,Le,We){const it=We&&We.levels||1,pt=this.getLineNumbers(We,Le);We&&"up"===We.direction?w(oe,!1,it,pt):te(oe,!1,it,pt)}}),(0,T.Qr)(class Cn extends mt{constructor(){super({id:"editor.unfoldRecursively",label:De.NC("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:Ee,kbOpts:{kbExpr:R.u.editorTextFocus,primary:(0,L.gx)(2089,2137),weight:100}})}invoke(Te,oe,Le,We){te(oe,!1,Number.MAX_VALUE,this.getSelectedLines(Le))}}),(0,T.Qr)(class Gt extends mt{constructor(){super({id:"editor.fold",label:De.NC("foldAction.label","Fold"),alias:"Fold",precondition:Ee,kbOpts:{kbExpr:R.u.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:Vt,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Te,oe,Le,We){const it=this.getLineNumbers(We,Le),pt=We&&We.levels,Et=We&&We.direction;"number"!=typeof pt&&"string"!=typeof Et?function fe(Dt,Te,oe){const Le=[];for(const We of oe){const it=Dt.getAllRegionsAtLine(We,pt=>pt.isCollapsed!==Te);it.length>0&&Le.push(it[0])}Dt.toggleCollapseState(Le)}(oe,!0,it):"up"===Et?w(oe,!0,pt||1,it):te(oe,!0,pt||1,it)}}),(0,T.Qr)(class Yt extends mt{constructor(){super({id:"editor.foldRecursively",label:De.NC("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:Ee,kbOpts:{kbExpr:R.u.editorTextFocus,primary:(0,L.gx)(2089,2135),weight:100}})}invoke(Te,oe,Le){const We=this.getSelectedLines(Le);te(oe,!0,Number.MAX_VALUE,We)}}),(0,T.Qr)(class En extends mt{constructor(){super({id:"editor.foldAll",label:De.NC("foldAllAction.label","Fold All"),alias:"Fold All",precondition:Ee,kbOpts:{kbExpr:R.u.editorTextFocus,primary:(0,L.gx)(2089,2069),weight:100}})}invoke(Te,oe,Le){te(oe,!0)}}),(0,T.Qr)(class xn extends mt{constructor(){super({id:"editor.unfoldAll",label:De.NC("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:Ee,kbOpts:{kbExpr:R.u.editorTextFocus,primary:(0,L.gx)(2089,2088),weight:100}})}invoke(Te,oe,Le){te(oe,!1)}}),(0,T.Qr)(class ht extends mt{constructor(){super({id:"editor.foldAllBlockComments",label:De.NC("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:Ee,kbOpts:{kbExpr:R.u.editorTextFocus,primary:(0,L.gx)(2089,2133),weight:100}})}invoke(Te,oe,Le,We,it){if(oe.regions.hasTypes())ee(oe,Q.AD.Comment.value,!0);else{const pt=Le.getModel();if(!pt)return;const Et=it.getLanguageConfiguration(pt.getLanguageId()).comments;Et&&Et.blockCommentStartToken&&Ie(oe,new RegExp("^\\s*"+(0,u.ec)(Et.blockCommentStartToken)),!0)}}}),(0,T.Qr)(class Ct extends mt{constructor(){super({id:"editor.foldAllMarkerRegions",label:De.NC("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:Ee,kbOpts:{kbExpr:R.u.editorTextFocus,primary:(0,L.gx)(2089,2077),weight:100}})}invoke(Te,oe,Le,We,it){if(oe.regions.hasTypes())ee(oe,Q.AD.Region.value,!0);else{const pt=Le.getModel();if(!pt)return;const Et=it.getLanguageConfiguration(pt.getLanguageId()).foldingRules;Et&&Et.markers&&Et.markers.start&&Ie(oe,new RegExp(Et.markers.start),!0)}}}),(0,T.Qr)(class rn extends mt{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:De.NC("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:Ee,kbOpts:{kbExpr:R.u.editorTextFocus,primary:(0,L.gx)(2089,2078),weight:100}})}invoke(Te,oe,Le,We,it){if(oe.regions.hasTypes())ee(oe,Q.AD.Region.value,!1);else{const pt=Le.getModel();if(!pt)return;const Et=it.getLanguageConfiguration(pt.getLanguageId()).foldingRules;Et&&Et.markers&&Et.markers.start&&Ie(oe,new RegExp(Et.markers.start),!1)}}}),(0,T.Qr)(class jt extends mt{constructor(){super({id:"editor.foldAllExcept",label:De.NC("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:Ee,kbOpts:{kbExpr:R.u.editorTextFocus,primary:(0,L.gx)(2089,2131),weight:100}})}invoke(Te,oe,Le){me(oe,!0,this.getSelectedLines(Le))}}),(0,T.Qr)(class yn extends mt{constructor(){super({id:"editor.unfoldAllExcept",label:De.NC("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:Ee,kbOpts:{kbExpr:R.u.editorTextFocus,primary:(0,L.gx)(2089,2129),weight:100}})}invoke(Te,oe,Le){me(oe,!1,this.getSelectedLines(Le))}}),(0,T.Qr)(class en extends mt{constructor(){super({id:"editor.toggleFold",label:De.NC("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:Ee,kbOpts:{kbExpr:R.u.editorTextFocus,primary:(0,L.gx)(2089,2090),weight:100}})}invoke(Te,oe,Le){!function $(Dt,Te,oe){const Le=[];for(const We of oe){const it=Dt.getRegionAtLine(We);if(it){const pt=!it.isCollapsed;if(Le.push(it),Te>1){const Et=Dt.getRegionsInside(it,(Ut,sn)=>Ut.isCollapsed!==pt&&sn<Te);Le.push(...Et)}}}Dt.toggleCollapseState(Le)}(oe,1,this.getSelectedLines(Le))}}),(0,T.Qr)(class ai extends mt{constructor(){super({id:"editor.gotoParentFold",label:De.NC("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:Ee,kbOpts:{kbExpr:R.u.editorTextFocus,weight:100}})}invoke(Te,oe,Le){const We=this.getSelectedLines(Le);if(We.length>0){const it=function ce(Dt,Te){let oe=null;const Le=Te.getRegionAtLine(Dt);if(null!==Le&&(oe=Le.startLineNumber,Dt===oe)){const We=Le.parentIndex;oe=-1!==We?Te.regions.getStartLineNumber(We):null}return oe}(We[0],oe);null!==it&&Le.setSelection({startLineNumber:it,startColumn:1,endLineNumber:it,endColumn:1})}}}),(0,T.Qr)(class ei extends mt{constructor(){super({id:"editor.gotoPreviousFold",label:De.NC("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:Ee,kbOpts:{kbExpr:R.u.editorTextFocus,weight:100}})}invoke(Te,oe,Le){const We=this.getSelectedLines(Le);if(We.length>0){const it=function he(Dt,Te){let oe=Te.getRegionAtLine(Dt);if(null!==oe&&oe.startLineNumber===Dt){if(Dt!==oe.startLineNumber)return oe.startLineNumber;{const Le=oe.parentIndex;let We=0;for(-1!==Le&&(We=Te.regions.getStartLineNumber(oe.parentIndex));null!==oe;){if(!(oe.regionIndex>0))return null;if(oe=Te.regions.toRegion(oe.regionIndex-1),oe.startLineNumber<=We)return null;if(oe.parentIndex===Le)return oe.startLineNumber}}}else if(Te.regions.length>0)for(oe=Te.regions.toRegion(Te.regions.length-1);null!==oe;){if(oe.startLineNumber<Dt)return oe.startLineNumber;oe=oe.regionIndex>0?Te.regions.toRegion(oe.regionIndex-1):null}return null}(We[0],oe);null!==it&&Le.setSelection({startLineNumber:it,startColumn:1,endLineNumber:it,endColumn:1})}}}),(0,T.Qr)(class Di extends mt{constructor(){super({id:"editor.gotoNextFold",label:De.NC("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:Ee,kbOpts:{kbExpr:R.u.editorTextFocus,weight:100}})}invoke(Te,oe,Le){const We=this.getSelectedLines(Le);if(We.length>0){const it=function de(Dt,Te){let oe=Te.getRegionAtLine(Dt);if(null!==oe&&oe.startLineNumber===Dt){const Le=oe.parentIndex;let We=0;if(-1!==Le)We=Te.regions.getEndLineNumber(oe.parentIndex);else{if(0===Te.regions.length)return null;We=Te.regions.getEndLineNumber(Te.regions.length-1)}for(;null!==oe;){if(!(oe.regionIndex<Te.regions.length))return null;if(oe=Te.regions.toRegion(oe.regionIndex+1),oe.startLineNumber>=We)return null;if(oe.parentIndex===Le)return oe.startLineNumber}}else if(Te.regions.length>0)for(oe=Te.regions.toRegion(0);null!==oe;){if(oe.startLineNumber>Dt)return oe.startLineNumber;oe=oe.regionIndex<Te.regions.length?Te.regions.toRegion(oe.regionIndex+1):null}return null}(We[0],oe);null!==it&&Le.setSelection({startLineNumber:it,startColumn:1,endLineNumber:it,endColumn:1})}}}),(0,T.Qr)(class li extends mt{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:De.NC("createManualFoldRange.label","Create Manual Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:Ee,kbOpts:{kbExpr:R.u.editorTextFocus,primary:(0,L.gx)(2089,2130),weight:100}})}invoke(Te,oe,Le){var We;const it=[],pt=Le.getSelections();if(pt){for(const Et of pt){let Ut=Et.endLineNumber;1===Et.endColumn&&--Ut,Ut>Et.startLineNumber&&(it.push({startLineNumber:Et.startLineNumber,endLineNumber:Ut,type:void 0,isCollapsed:!0,source:1}),Le.setSelection({startLineNumber:Et.startLineNumber,startColumn:1,endLineNumber:Et.startLineNumber,endColumn:1}))}if(it.length>0){it.sort((Ut,sn)=>Ut.startLineNumber-sn.startLineNumber);const Et=j.sanitizeAndMerge(oe.regions,it,null===(We=Le.getModel())||void 0===We?void 0:We.getLineCount());oe.updatePost(j.fromFoldRanges(Et))}}}}),(0,T.Qr)(class Qn extends mt{constructor(){super({id:"editor.removeManualFoldingRanges",label:De.NC("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:Ee,kbOpts:{kbExpr:R.u.editorTextFocus,primary:(0,L.gx)(2089,2132),weight:100}})}invoke(Te,oe,Le){const We=Le.getSelections();if(We){const it=[];for(const pt of We){const{startLineNumber:Et,endLineNumber:Ut}=pt;it.push(Ut>=Et?{startLineNumber:Et,endLineNumber:Ut}:{endLineNumber:Ut,startLineNumber:Et})}oe.removeManualRanges(it),Te.triggerFoldingModelChanged()}}});for(let Dt=1;Dt<=7;Dt++)(0,T.QG)(new Un({id:Un.ID(Dt),label:De.NC("foldLevelAction.label","Fold Level {0}",Dt),alias:`Fold Level ${Dt}`,precondition:Ee,kbOpts:{kbExpr:R.u.editorTextFocus,primary:(0,L.gx)(2089,2048|21+Dt),weight:100}}));const wi=(0,Ne.P6G)("editor.foldBackground",{light:(0,Ne.ZnX)(Ne.hEj,.3),dark:(0,Ne.ZnX)(Ne.hEj,.3),hcDark:null,hcLight:null},De.NC("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),Dn=(0,Ne.P6G)("editorGutter.foldingControlForeground",{dark:Ne.XZx,light:Ne.XZx,hcDark:Ne.XZx,hcLight:Ne.XZx},De.NC("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));(0,ne.Ic)((Dt,Te)=>{const oe=Dt.getColor(wi);oe&&Te.addRule(`.monaco-editor .folded-background { background-color: ${oe}; }`);const Le=Dt.getColor(Dn);Le&&Te.addRule(`\n\t\t.monaco-editor .cldr${ne.kS.asCSSSelector(lt)},\n\t\t.monaco-editor .cldr${ne.kS.asCSSSelector(Ke)},\n\t\t.monaco-editor .cldr${ne.kS.asCSSSelector(Ue)},\n\t\t.monaco-editor .cldr${ne.kS.asCSSSelector(He)} {\n\t\t\tcolor: ${Le} !important;\n\t\t}\n\t\t`)})},5716:(at,ue,e)=>{"use strict";e.r(ue);var f=e(95172),s=e(62929),L=e(40402);(0,f.Qr)(class M extends f.R6{constructor(){super({id:"editor.action.fontZoomIn",label:L.NC("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(k,N){s.C.setZoomLevel(s.C.getZoomLevel()+1)}}),(0,f.Qr)(class u extends f.R6{constructor(){super({id:"editor.action.fontZoomOut",label:L.NC("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(k,N){s.C.setZoomLevel(s.C.getZoomLevel()-1)}}),(0,f.Qr)(class P extends f.R6{constructor(){super({id:"editor.action.fontZoomReset",label:L.NC("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(k,N){s.C.setZoomLevel(0)}})},89957:(at,ue,e)=>{"use strict";e.d(ue,{xC:()=>R,Zg:()=>x,x$:()=>Q,Qq:()=>G,Qs:()=>z});var f=e(71578),s=e(18337),L=e(80152),M=e(53663),u=e(67981),P=e(38460),A=e(54435),k=e(74672),N=e(23914),_=e(7109),a=e(94220),p=e(68451),c=e(43210),n=e(84084),l=e(87424),v=e(91611),d=e(40402),m=e(23884);class I{constructor(Y){this.value=Y,this._lower=Y.toLowerCase()}static toKey(Y){return"string"==typeof Y?Y.toLowerCase():Y._lower}}var y=e(64725),S=e(37464),b=function(j,Y,E,V){return new(E||(E=Promise))(function(te,w){function fe(Ie){try{me(V.next(Ie))}catch(ee){w(ee)}}function be(Ie){try{me(V.throw(Ie))}catch(ee){w(ee)}}function me(Ie){Ie.done?te(Ie.value):function $(te){return te instanceof E?te:new E(function(w){w(te)})}(Ie.value).then(fe,be)}me((V=V.apply(j,Y||[])).next())})};function x(j){if(!(j=j.filter($=>$.range)).length)return;let{range:Y}=j[0];for(let $=1;$<j.length;$++)Y=p.e.plusRange(Y,j[$].range);const{startLineNumber:E,endLineNumber:V}=Y;(0,f.Z9)(E===V?1===j.length?d.NC("hint11","Made 1 formatting edit on line {0}",E):d.NC("hintn1","Made {0} formatting edits on line {1}",j.length,E):1===j.length?d.NC("hint1n","Made 1 formatting edit between lines {0} and {1}",E,V):d.NC("hintnn","Made {0} formatting edits between lines {1} and {2}",j.length,E,V))}function T(j,Y,E){const V=[],$=new Set,te=j.ordered(E);for(const fe of te)V.push(fe),fe.extensionId&&$.add(I.toKey(fe.extensionId));const w=Y.ordered(E);for(const fe of w){if(fe.extensionId){if($.has(I.toKey(fe.extensionId)))continue;$.add(I.toKey(fe.extensionId))}V.push({displayName:fe.displayName,extensionId:fe.extensionId,provideDocumentFormattingEdits:(be,me,Ie)=>fe.provideDocumentRangeFormattingEdits(be,be.getFullModelRange(),me,Ie)})}return V}class R{static setFormatterSelector(Y){return{dispose:R._selectors.unshift(Y)}}static select(Y,E,V){return b(this,void 0,void 0,function*(){if(0===Y.length)return;const $=u.$.first(R._selectors);return $?yield $(Y,E,V):void 0})}}function Q(j,Y,E,V,$,te){return b(this,void 0,void 0,function*(){const w=j.get(y.TG),{documentRangeFormattingEditProvider:fe}=j.get(S.p),be=(0,_.CL)(Y)?Y.getModel():Y,me=fe.ordered(be),Ie=yield R.select(me,be,V);Ie&&($.report(Ie),yield w.invokeFunction(Z,Ie,Y,E,te))})}function Z(j,Y,E,V,$){return b(this,void 0,void 0,function*(){const te=j.get(n.p);let w,fe;(0,_.CL)(E)?(w=E.getModel(),fe=new N.Dl(E,5,void 0,$)):(w=E,fe=new N.YQ(E,$));const be=[];let me=0;for(const de of(0,s._2)(V).sort(p.e.compareRangesUsingStarts))me>0&&p.e.areIntersectingOrTouching(be[me-1],de)?be[me-1]=p.e.fromPositions(be[me-1].getStartPosition(),de.getEndPosition()):me=be.push(de);const Ie=de=>b(this,void 0,void 0,function*(){return(yield Y.provideDocumentRangeFormattingEdits(w,de,w.getFormattingOptions(),fe.token))||[]}),ee=(de,ge)=>{if(!de.length||!ge.length)return!1;const re=de.reduce((Se,Pe)=>p.e.plusRange(Se,Pe.range),de[0].range);if(!ge.some(Se=>p.e.intersectRanges(re,Se.range)))return!1;for(const Se of de)for(const Pe of ge)if(p.e.intersectRanges(Se.range,Pe.range))return!0;return!1},ce=[],he=[];try{for(const de of be){if(fe.token.isCancellationRequested)return!0;he.push(yield Ie(de))}for(let de=0;de<be.length;++de)for(let ge=de+1;ge<be.length;++ge){if(fe.token.isCancellationRequested)return!0;if(ee(he[de],he[ge])){const re=p.e.plusRange(be[de],be[ge]),Se=yield Ie(re);be.splice(ge,1),be.splice(de,1),be.push(re),he.splice(ge,1),he.splice(de,1),he.push(Se),de=0,ge=0}}for(const de of he){if(fe.token.isCancellationRequested)return!0;const ge=yield te.computeMoreMinimalEdits(w.uri,de);ge&&ce.push(...ge)}}finally{fe.dispose()}if(0===ce.length)return!1;if((0,_.CL)(E))v.V.execute(E,ce,!0),x(ce),E.revealPositionInCenterIfOutsideViewport(E.getPosition(),1);else{const[{range:de}]=ce,ge=new c.Y(de.startLineNumber,de.startColumn,de.endLineNumber,de.endColumn);w.pushEditOperations([ge],ce.map(re=>({text:re.text,range:p.e.lift(re.range),forceMoveMarkers:!0})),re=>{for(const{range:Se}of re)if(p.e.areIntersectingOrTouching(Se,ge))return[new c.Y(Se.startLineNumber,Se.startColumn,Se.endLineNumber,Se.endColumn)];return null})}return!0})}function G(j,Y,E,V,$){return b(this,void 0,void 0,function*(){const te=j.get(y.TG),w=j.get(S.p),fe=(0,_.CL)(Y)?Y.getModel():Y,be=T(w.documentFormattingEditProvider,w.documentRangeFormattingEditProvider,fe),me=yield R.select(be,fe,E);me&&(V.report(me),yield te.invokeFunction(F,me,Y,E,$))})}function F(j,Y,E,V,$){return b(this,void 0,void 0,function*(){const te=j.get(n.p);let w,fe,be;(0,_.CL)(E)?(w=E.getModel(),fe=new N.Dl(E,5,void 0,$)):(w=E,fe=new N.YQ(E,$));try{const me=yield Y.provideDocumentFormattingEdits(w,w.getFormattingOptions(),fe.token);if(be=yield te.computeMoreMinimalEdits(w.uri,me),fe.token.isCancellationRequested)return!0}finally{fe.dispose()}if(!be||0===be.length)return!1;if((0,_.CL)(E))v.V.execute(E,be,2!==V),2!==V&&(x(be),E.revealPositionInCenterIfOutsideViewport(E.getPosition(),1));else{const[{range:me}]=be,Ie=new c.Y(me.startLineNumber,me.startColumn,me.endLineNumber,me.endColumn);w.pushEditOperations([Ie],be.map(ee=>({text:ee.text,range:p.e.lift(ee.range),forceMoveMarkers:!0})),ee=>{for(const{range:ce}of ee)if(p.e.areIntersectingOrTouching(ce,Ie))return[new c.Y(ce.startLineNumber,ce.startColumn,ce.endLineNumber,ce.endColumn)];return null})}return!0})}function z(j,Y,E,V,$,te,w){const fe=Y.onTypeFormattingEditProvider.ordered(E);return 0===fe.length||fe[0].autoFormatTriggerCharacters.indexOf($)<0?Promise.resolve(void 0):Promise.resolve(fe[0].provideOnTypeFormattingEdits(E,V,$,te,w)).catch(M.Cp).then(be=>j.computeMoreMinimalEdits(E.uri,be))}R._selectors=new P.S,m.P0.registerCommand("_executeFormatRangeProvider",function(j,...Y){return b(this,void 0,void 0,function*(){const[E,V,$]=Y;(0,A.p_)(k.o.isUri(E)),(0,A.p_)(p.e.isIRange(V));const te=j.get(l.S),w=j.get(n.p),fe=j.get(S.p),be=yield te.createModelReference(E);try{return function W(j,Y,E,V,$,te){return b(this,void 0,void 0,function*(){const w=Y.documentRangeFormattingEditProvider.ordered(E);for(const fe of w){const be=yield Promise.resolve(fe.provideDocumentRangeFormattingEdits(E,V,$,te)).catch(M.Cp);if((0,s.Of)(be))return yield j.computeMoreMinimalEdits(E.uri,be)}})}(w,fe,be.object.textEditorModel,p.e.lift(V),$,L.T.None)}finally{be.dispose()}})}),m.P0.registerCommand("_executeFormatDocumentProvider",function(j,...Y){return b(this,void 0,void 0,function*(){const[E,V]=Y;(0,A.p_)(k.o.isUri(E));const $=j.get(l.S),te=j.get(n.p),w=j.get(S.p),fe=yield $.createModelReference(E);try{return function B(j,Y,E,V,$){return b(this,void 0,void 0,function*(){const te=T(Y.documentFormattingEditProvider,Y.documentRangeFormattingEditProvider,E);for(const w of te){const fe=yield Promise.resolve(w.provideDocumentFormattingEdits(E,V,$)).catch(M.Cp);if((0,s.Of)(fe))return yield j.computeMoreMinimalEdits(E.uri,fe)}})}(te,w,fe.object.textEditorModel,V,L.T.None)}finally{fe.dispose()}})}),m.P0.registerCommand("_executeFormatOnTypeProvider",function(j,...Y){return b(this,void 0,void 0,function*(){const[E,V,$,te]=Y;(0,A.p_)(k.o.isUri(E)),(0,A.p_)(a.L.isIPosition(V)),(0,A.p_)("string"==typeof $);const w=j.get(l.S),fe=j.get(n.p),be=j.get(S.p),me=yield w.createModelReference(E);try{return z(fe,be,me.object.textEditorModel,a.L.lift(V),$,te,L.T.None)}finally{me.dispose()}})})},64810:(at,ue,e)=>{"use strict";e.r(ue);var f=e(18337),s=e(80152),L=e(53663),M=e(36950),u=e(52425),P=e(95172),A=e(7221),k=e(57686),N=e(68451),_=e(29584),a=e(84084),p=e(37464),c=e(89957),n=e(91611),l=e(40402),v=e(23884),d=e(59776),m=e(64725),I=e(22534),y=function(Z,G,F,W){var j,B=arguments.length,z=B<3?G:null===W?W=Object.getOwnPropertyDescriptor(G,F):W;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)z=Reflect.decorate(Z,G,F,W);else for(var Y=Z.length-1;Y>=0;Y--)(j=Z[Y])&&(z=(B<3?j(z):B>3?j(G,F,z):j(G,F))||z);return B>3&&z&&Object.defineProperty(G,F,z),z},S=function(Z,G){return function(F,W){G(F,W,Z)}},b=function(Z,G,F,W){return new(F||(F=Promise))(function(z,j){function Y($){try{V(W.next($))}catch(te){j(te)}}function E($){try{V(W.throw($))}catch(te){j(te)}}function V($){$.done?z($.value):function B(z){return z instanceof F?z:new F(function(j){j(z)})}($.value).then(Y,E)}V((W=W.apply(Z,G||[])).next())})};let x=class{constructor(G,F,W){this._editor=G,this._languageFeaturesService=F,this._workerService=W,this._disposables=new u.SL,this._sessionDisposables=new u.SL,this._disposables.add(F.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(G.onDidChangeModel(()=>this._update())),this._disposables.add(G.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(G.onDidChangeConfiguration(B=>{B.hasChanged(51)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(51)||!this._editor.hasModel())return;const G=this._editor.getModel(),[F]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(G);if(!F||!F.autoFormatTriggerCharacters)return;const W=new k.q;for(const B of F.autoFormatTriggerCharacters)W.add(B.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(B=>{const z=B.charCodeAt(B.length-1);W.has(z)&&this._trigger(String.fromCharCode(z))}))}_trigger(G){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const F=this._editor.getModel(),W=this._editor.getPosition(),B=new s.A,z=this._editor.onDidChangeModelContent(j=>{if(j.isFlush)return B.cancel(),void z.dispose();for(let Y=0,E=j.changes.length;Y<E;Y++)if(j.changes[Y].range.endLineNumber<=W.lineNumber)return B.cancel(),void z.dispose()});(0,c.Qs)(this._workerService,this._languageFeaturesService,F,W,G,F.getFormattingOptions(),B.token).then(j=>{B.token.isCancellationRequested||(0,f.Of)(j)&&(n.V.execute(this._editor,j,!0),(0,c.Zg)(j))}).finally(()=>{z.dispose()})}};x.ID="editor.contrib.autoFormat",x=y([S(1,p.p),S(2,a.p)],x);let T=class{constructor(G,F,W){this.editor=G,this._languageFeaturesService=F,this._instantiationService=W,this._callOnDispose=new u.SL,this._callOnModel=new u.SL,this._callOnDispose.add(G.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(G.onDidChangeModel(()=>this._update())),this._callOnDispose.add(G.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(F.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(50)&&(!this.editor.hasModel()||!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:G})=>this._trigger(G))))}_trigger(G){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(c.x$,this.editor,G,2,I.Ex.None,s.T.None).catch(L.dL)}};T.ID="editor.contrib.formatOnPaste",T=y([S(1,p.p),S(2,m.TG)],T),(0,P._K)(x.ID,x),(0,P._K)(T.ID,T),(0,P.Qr)(class R extends P.R6{constructor(){super({id:"editor.action.formatDocument",label:l.NC("formatDocument.label","Format Document"),alias:"Format Document",precondition:d.Ao.and(_.u.notInCompositeEditor,_.u.writable,_.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:_.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(G,F){return b(this,void 0,void 0,function*(){if(F.hasModel()){const W=G.get(m.TG);yield G.get(I.ek).showWhile(W.invokeFunction(c.Qq,F,1,I.Ex.None,s.T.None),250)}})}}),(0,P.Qr)(class Q extends P.R6{constructor(){super({id:"editor.action.formatSelection",label:l.NC("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:d.Ao.and(_.u.writable,_.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:_.u.editorTextFocus,primary:(0,M.gx)(2089,2084),weight:100},contextMenuOpts:{when:_.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(G,F){return b(this,void 0,void 0,function*(){if(!F.hasModel())return;const W=G.get(m.TG),B=F.getModel(),z=F.getSelections().map(Y=>Y.isEmpty()?new N.e(Y.startLineNumber,1,Y.startLineNumber,B.getLineMaxColumn(Y.startLineNumber)):Y);yield G.get(I.ek).showWhile(W.invokeFunction(c.x$,F,z,1,I.Ex.None,s.T.None),250)})}}),v.P0.registerCommand("editor.action.format",Z=>b(void 0,void 0,void 0,function*(){const G=Z.get(A.$).getFocusedCodeEditor();if(!G||!G.hasModel())return;const F=Z.get(v.Hy);G.getSelection().isEmpty()?yield F.executeCommand("editor.action.formatDocument"):yield F.executeCommand("editor.action.formatSelection")}))},91611:(at,ue,e)=>{"use strict";e.d(ue,{V:()=>L});var f=e(12033),s=e(68451);class L{static _handleEolEdits(u,P){let A;const k=[];for(const N of P)"number"==typeof N.eol&&(A=N.eol),N.range&&"string"==typeof N.text&&k.push(N);return"number"==typeof A&&u.hasModel()&&u.getModel().pushEOL(A),k}static _isFullModelReplaceEdit(u,P){if(!u.hasModel())return!1;const A=u.getModel(),k=A.validateRange(P.range);return A.getFullModelRange().equalsRange(k)}static execute(u,P,A){A&&u.pushUndoStop();const k=L._handleEolEdits(u,P);1===k.length&&L._isFullModelReplaceEdit(u,k[0])?u.executeEdits("formatEditsCommand",k.map(N=>f.h.replace(s.e.lift(N.range),N.text))):u.executeEdits("formatEditsCommand",k.map(N=>f.h.replaceMove(s.e.lift(N.range),N.text))),A&&u.pushUndoStop()}}},24617:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{MarkerController:()=>et,NextMarkerAction:()=>Mt});var f=e(2450),s=e(52425),L=e(95172),M=e(7221),u=e(94220),P=e(68451),A=e(29584),k=e(18337),N=e(52787),_=e(38460),a=e(93059),p=e(74672),c=e(18790),n=e(64725),l=e(12882),v=e(9869),d=function(vn,ft,ke,nt){var Fe,st=arguments.length,Ee=st<3?ft:null===nt?nt=Object.getOwnPropertyDescriptor(ft,ke):nt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ee=Reflect.decorate(vn,ft,ke,nt);else for(var mt=vn.length-1;mt>=0;mt--)(Fe=vn[mt])&&(Ee=(st<3?Fe(Ee):st>3?Fe(ft,ke,Ee):Fe(ft,ke))||Ee);return st>3&&Ee&&Object.defineProperty(ft,ke,Ee),Ee},m=function(vn,ft){return function(ke,nt){ft(ke,nt,vn)}};class I{constructor(ft,ke,nt){this.marker=ft,this.index=ke,this.total=nt}}let y=class{constructor(ft,ke,nt){this._markerService=ke,this._configService=nt,this._onDidChange=new N.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new s.SL,this._markers=[],this._nextIdx=-1,p.o.isUri(ft)?this._resourceFilter=mt=>mt.toString()===ft.toString():ft&&(this._resourceFilter=ft);const st=this._configService.getValue("problems.sortOrder"),Ee=(mt,Vt)=>{let qt=(0,a.qu)(mt.resource.toString(),Vt.resource.toString());return 0===qt&&(qt="position"===st?P.e.compareRangesUsingStarts(mt,Vt)||l.ZL.compare(mt.severity,Vt.severity):l.ZL.compare(mt.severity,Vt.severity)||P.e.compareRangesUsingStarts(mt,Vt)),qt},Fe=()=>{this._markers=this._markerService.read({resource:p.o.isUri(ft)?ft:void 0,severities:l.ZL.Error|l.ZL.Warning|l.ZL.Info}),"function"==typeof ft&&(this._markers=this._markers.filter(mt=>this._resourceFilter(mt.resource))),this._markers.sort(Ee)};Fe(),this._dispoables.add(ke.onMarkerChanged(mt=>{(!this._resourceFilter||mt.some(Vt=>this._resourceFilter(Vt)))&&(Fe(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(ft){return!this._resourceFilter&&!ft||!(!this._resourceFilter||!ft)&&this._resourceFilter(ft)}get selected(){const ft=this._markers[this._nextIdx];return ft&&new I(ft,this._nextIdx+1,this._markers.length)}_initIdx(ft,ke,nt){let st=!1,Ee=this._markers.findIndex(Fe=>Fe.resource.toString()===ft.uri.toString());Ee<0&&(Ee=(0,k.ry)(this._markers,{resource:ft.uri},(Fe,mt)=>(0,a.qu)(Fe.resource.toString(),mt.resource.toString())),Ee<0&&(Ee=~Ee));for(let Fe=Ee;Fe<this._markers.length;Fe++){let mt=P.e.lift(this._markers[Fe]);if(mt.isEmpty()){const Vt=ft.getWordAtPosition(mt.getStartPosition());Vt&&(mt=new P.e(mt.startLineNumber,Vt.startColumn,mt.startLineNumber,Vt.endColumn))}if(ke&&(mt.containsPosition(ke)||ke.isBeforeOrEqual(mt.getStartPosition()))){this._nextIdx=Fe,st=!0;break}if(this._markers[Fe].resource.toString()!==ft.uri.toString())break}st||(this._nextIdx=nt?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(ft,ke,nt){if(0===this._markers.length)return!1;const st=this._nextIdx;return-1===this._nextIdx?this._initIdx(ke,nt,ft):ft?this._nextIdx=(this._nextIdx+1)%this._markers.length:ft||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),st!==this._nextIdx}find(ft,ke){let nt=this._markers.findIndex(st=>st.resource.toString()===ft.toString());if(!(nt<0))for(;nt<this._markers.length;nt++)if(P.e.containsPosition(this._markers[nt],ke))return new I(this._markers[nt],nt+1,this._markers.length)}};y=d([m(1,l.lT),m(2,v.Ui)],y);const S=(0,n.yh)("IMarkerNavigationService");let b=class{constructor(ft,ke){this._markerService=ft,this._configService=ke,this._provider=new _.S}getMarkerList(ft){for(const ke of this._provider){const nt=ke.getMarkerList(ft);if(nt)return nt}return new y(ft,this._markerService,this._configService)}};b=d([m(0,l.lT),m(1,v.Ui)],b),(0,c.z)(S,b,!0);var x=e(40402),T=e(61004),R=e(59776),Q=e(95836),Z=e(58059),G=e(97648),F=e(68927),W=e(15151),B=e(93379),z=e.n(B),j=e(7795),Y=e.n(j),E=e(90569),V=e.n(E),$=e(3565),te=e.n($),w=e(19216),fe=e.n(w),be=e(44589),me=e.n(be),Ie=e(35351),ee={};ee.styleTagTransform=me(),ee.setAttributes=te(),ee.insert=V().bind(null,"head"),ee.domAPI=Y(),ee.insertStyleElement=fe(),z()(Ie.Z,ee);var ye,de=e(77273),ge=e(55755),re=e(50203),Se=e(26589),Pe=e(63570),Ve=e(28708),ie=e(23024);(ye||(ye={})).className=function ft(ke){switch(ke){case Pe.Z.Ignore:return"severity-ignore "+f.lA.info.classNames;case Pe.Z.Info:return f.lA.info.classNames;case Pe.Z.Warning:return f.lA.warning.classNames;case Pe.Z.Error:return f.lA.error.classNames;default:return""}},(0,ie.Ic)((vn,ft)=>{const ke=vn.getColor(Ve.JpG);if(ke){const Ee=f.lA.error.cssSelector;ft.addRule(`\n\t\t\t.monaco-editor .zone-widget ${Ee},\n\t\t\t.markers-panel .marker-icon${Ee},\n\t\t\t.text-search-provider-messages .providerMessage ${Ee},\n\t\t\t.extensions-viewlet > .extensions ${Ee} {\n\t\t\t\tcolor: ${ke};\n\t\t\t}\n\t\t`)}const nt=vn.getColor(Ve.BOY);if(nt){const Ee=f.lA.warning.cssSelector;ft.addRule(`\n\t\t\t.monaco-editor .zone-widget ${Ee},\n\t\t\t.markers-panel .marker-icon${Ee},\n\t\t\t.extensions-viewlet > .extensions ${Ee},\n\t\t\t.extension-editor ${Ee},\n\t\t\t.text-search-provider-messages .providerMessage ${Ee},\n\t\t\t.preferences-editor ${Ee} {\n\t\t\t\tcolor: ${nt};\n\t\t\t}\n\t\t`)}const st=vn.getColor(Ve.OLZ);if(st){const Ee=f.lA.info.cssSelector;ft.addRule(`\n\t\t\t.monaco-editor .zone-widget ${Ee},\n\t\t\t.markers-panel .marker-icon${Ee},\n\t\t\t.extensions-viewlet > .extensions ${Ee},\n\t\t\t.text-search-provider-messages .providerMessage ${Ee},\n\t\t\t.extension-editor ${Ee} {\n\t\t\t\tcolor: ${st};\n\t\t\t}\n\t\t`)}});var Be=function(vn,ft){return function(ke,nt){ft(ke,nt,vn)}};class Qe{constructor(ft,ke,nt,st,Ee){this._openerService=st,this._labelService=Ee,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new s.SL,this._editor=ke;const Fe=document.createElement("div");Fe.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),Fe.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),Fe.appendChild(this._relatedBlock),this._disposables.add(Z.mu(this._relatedBlock,"click",mt=>{mt.preventDefault();const Vt=this._relatedDiagnostics.get(mt.target);Vt&&nt(Vt)})),this._scrollable=new G.NB(Fe,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),ft.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(mt=>{Fe.style.left=`-${mt.scrollLeft}px`,Fe.style.top=`-${mt.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,s.B9)(this._disposables)}update(ft){const{source:ke,message:nt,relatedInformation:st,code:Ee}=ft;let Fe=((null==ke?void 0:ke.length)||0)+2;Ee&&(Fe+="string"==typeof Ee?Ee.length:Ee.value.length);const mt=(0,a.uq)(nt);this._lines=mt.length,this._longestLineLength=0;for(const en of mt)this._longestLineLength=Math.max(en.length+Fe,this._longestLineLength);Z.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(ft)),this._editor.applyFontInfo(this._messageBlock);let Vt=this._messageBlock;for(const en of mt)Vt=document.createElement("div"),Vt.innerText=en,""===en&&(Vt.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(Vt);if(ke||Ee){const en=document.createElement("span");if(en.classList.add("details"),Vt.appendChild(en),ke){const Yt=document.createElement("span");Yt.innerText=ke,Yt.classList.add("source"),en.appendChild(Yt)}if(Ee)if("string"==typeof Ee){const Yt=document.createElement("span");Yt.innerText=`(${Ee})`,Yt.classList.add("code"),en.appendChild(Yt)}else this._codeLink=Z.$("a.code-link"),this._codeLink.setAttribute("href",`${Ee.target.toString()}`),this._codeLink.onclick=ht=>{this._openerService.open(Ee.target,{allowCommands:!0}),ht.preventDefault(),ht.stopPropagation()},Z.R3(this._codeLink,Z.$("span")).innerText=Ee.value,en.appendChild(this._codeLink)}if(Z.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,k.Of)(st)){const en=this._relatedBlock.appendChild(document.createElement("div"));en.style.paddingTop=`${Math.floor(.66*this._editor.getOption(61))}px`,this._lines+=1;for(const Yt of st){const ht=document.createElement("div"),Ct=document.createElement("a");Ct.classList.add("filename"),Ct.innerText=`${this._labelService.getUriBasenameLabel(Yt.resource)}(${Yt.startLineNumber}, ${Yt.startColumn}): `,Ct.title=this._labelService.getUriLabel(Yt.resource),this._relatedDiagnostics.set(Ct,Yt);const rn=document.createElement("span");rn.innerText=Yt.message,ht.appendChild(Ct),ht.appendChild(rn),this._lines+=1,en.appendChild(ht)}}const qt=this._editor.getOption(46),Cn=Math.ceil(qt.typicalFullwidthCharacterWidth*this._longestLineLength*.75);this._scrollable.setScrollDimensions({scrollWidth:Cn,scrollHeight:qt.lineHeight*this._lines})}layout(ft,ke){this._scrollable.getDomNode().style.height=`${ft}px`,this._scrollable.getDomNode().style.width=`${ke}px`,this._scrollable.setScrollDimensions({width:ke,height:ft})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(ft){let ke="";switch(ft.severity){case l.ZL.Error:ke=x.NC("Error","Error");break;case l.ZL.Warning:ke=x.NC("Warning","Warning");break;case l.ZL.Info:ke=x.NC("Info","Info");break;case l.ZL.Hint:ke=x.NC("Hint","Hint")}let nt=x.NC("marker aria","{0} at {1}. ",ke,ft.startLineNumber+":"+ft.startColumn);const st=this._editor.getModel();return st&&ft.startLineNumber<=st.getLineCount()&&ft.startLineNumber>=1&&(nt=`${st.getLineContent(ft.startLineNumber)}, ${nt}`),nt}}let Ae=class Wd extends de.vk{constructor(ft,ke,nt,st,Ee,Fe,mt){super(ft,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},Ee),this._themeService=ke,this._openerService=nt,this._menuService=st,this._contextKeyService=Fe,this._labelService=mt,this._callOnDispose=new s.SL,this._onDidSelectRelatedInformation=new N.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=l.ZL.Warning,this._backgroundColor=F.Il.white,this._applyTheme(ke.getColorTheme()),this._callOnDispose.add(ke.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(ft){this._backgroundColor=ft.getColor(Ke);let ke=Ne,nt=ne;this._severity===l.ZL.Warning?(ke=xe,nt=Je):this._severity===l.ZL.Info&&(ke=gt,nt=lt);const st=ft.getColor(ke),Ee=ft.getColor(nt);this.style({arrowColor:st,frameColor:st,headerBackgroundColor:Ee,primaryHeadingColor:ft.getColor(de.IH),secondaryHeadingColor:ft.getColor(de.R7)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(ft){super._fillHead(ft),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(st=>this.editor.focus()));const ke=[],nt=this._menuService.createMenu(Wd.TitleMenu,this._contextKeyService);(0,ge.vr)(nt,void 0,ke),this._actionbarWidget.push(ke,{label:!1,icon:!0,index:0}),nt.dispose()}_fillTitleIcon(ft){this._icon=Z.R3(ft,Z.$(""))}_fillBody(ft){this._parentContainer=ft,ft.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),ft.appendChild(this._container),this._message=new Qe(this._container,this.editor,ke=>this._onDidSelectRelatedInformation.fire(ke),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(ft,ke,nt){this._container.classList.remove("stale"),this._message.update(ft),this._severity=ft.severity,this._applyTheme(this._themeService.getColorTheme());const st=P.e.lift(ft),Ee=this.editor.getPosition(),Fe=Ee&&st.containsPosition(Ee)?Ee:st.getStartPosition();super.show(Fe,this.computeRequiredHeight());const mt=this.editor.getModel();if(mt){const Vt=nt>1?x.NC("problems","{0} of {1} problems",ke,nt):x.NC("change","{0} of {1} problem",ke,nt);this.setTitle((0,W.EZ)(mt.uri),Vt)}this._icon.className=`codicon ${ye.className(l.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(Fe,0),this.editor.focus()}updateMarker(ft){this._container.classList.remove("stale"),this._message.update(ft)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(ft,ke){super._doLayoutBody(ft,ke),this._heightInPixel=ft,this._message.layout(ft,ke),this._container.style.height=`${ft}px`}_onWidth(ft){this._message.layout(this._heightInPixel,ft)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};Ae.TitleMenu=new T.eH("gotoErrorTitleMenu"),Ae=function(vn,ft,ke,nt){var Fe,st=arguments.length,Ee=st<3?ft:null===nt?nt=Object.getOwnPropertyDescriptor(ft,ke):nt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ee=Reflect.decorate(vn,ft,ke,nt);else for(var mt=vn.length-1;mt>=0;mt--)(Fe=vn[mt])&&(Ee=(st<3?Fe(Ee):st>3?Fe(ft,ke,Ee):Fe(ft,ke))||Ee);return st>3&&Ee&&Object.defineProperty(ft,ke,Ee),Ee}([Be(1,ie.XE),Be(2,Se.v4),Be(3,T.co),Be(4,n.TG),Be(5,R.i6),Be(6,re.e)],Ae);const pe=(0,Ve.kwl)(Ve.lXJ,Ve.b6y),De=(0,Ve.kwl)(Ve.uoC,Ve.pW3),Oe=(0,Ve.kwl)(Ve.c63,Ve.T83),Ne=(0,Ve.P6G)("editorMarkerNavigationError.background",{dark:pe,light:pe,hcDark:Ve.lRK,hcLight:Ve.lRK},x.NC("editorMarkerNavigationError","Editor marker navigation widget error color.")),ne=(0,Ve.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,Ve.ZnX)(Ne,.1),light:(0,Ve.ZnX)(Ne,.1),hcDark:null,hcLight:null},x.NC("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),xe=(0,Ve.P6G)("editorMarkerNavigationWarning.background",{dark:De,light:De,hcDark:Ve.lRK,hcLight:Ve.lRK},x.NC("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),Je=(0,Ve.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,Ve.ZnX)(xe,.1),light:(0,Ve.ZnX)(xe,.1),hcDark:"#0C141F",hcLight:(0,Ve.ZnX)(xe,.2)},x.NC("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),gt=(0,Ve.P6G)("editorMarkerNavigationInfo.background",{dark:Oe,light:Oe,hcDark:Ve.lRK,hcLight:Ve.lRK},x.NC("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),lt=(0,Ve.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,Ve.ZnX)(gt,.1),light:(0,Ve.ZnX)(gt,.1),hcDark:null,hcLight:null},x.NC("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),Ke=(0,Ve.P6G)("editorMarkerNavigation.background",{dark:Ve.cvW,light:Ve.cvW,hcDark:Ve.cvW,hcLight:Ve.cvW},x.NC("editorMarkerNavigationBackground","Editor marker navigation widget background."));var Ue=function(vn,ft){return function(ke,nt){ft(ke,nt,vn)}},ot=function(vn,ft,ke,nt){return new(ke||(ke=Promise))(function(Ee,Fe){function mt(Cn){try{qt(nt.next(Cn))}catch(Gt){Fe(Gt)}}function Vt(Cn){try{qt(nt.throw(Cn))}catch(Gt){Fe(Gt)}}function qt(Cn){Cn.done?Ee(Cn.value):function st(Ee){return Ee instanceof ke?Ee:new ke(function(Fe){Fe(Ee)})}(Cn.value).then(mt,Vt)}qt((nt=nt.apply(vn,ft||[])).next())})};let et=class za{constructor(ft,ke,nt,st,Ee){this._markerNavigationService=ke,this._contextKeyService=nt,this._editorService=st,this._instantiationService=Ee,this._sessionDispoables=new s.SL,this._editor=ft,this._widgetVisible=$t.bindTo(this._contextKeyService)}static get(ft){return ft.getContribution(za.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(ft){if(this._model&&this._model.matches(ft))return this._model;let ke=!1;return this._model&&(ke=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(ft),ke&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(Ae,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(nt=>{var st,Ee,Fe;(null===(st=this._model)||void 0===st||!st.selected||!P.e.containsPosition(null===(Ee=this._model)||void 0===Ee?void 0:Ee.selected.marker,nt.position))&&(null===(Fe=this._model)||void 0===Fe||Fe.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const nt=this._model.find(this._editor.getModel().uri,this._widget.position);nt?this._widget.updateMarker(nt.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(nt=>{this._editorService.openCodeEditor({resource:nt.resource,options:{pinned:!0,revealIfOpened:!0,selection:P.e.lift(nt).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(ft=!0){this._cleanUp(),ft&&this._editor.focus()}showAtMarker(ft){if(this._editor.hasModel()){const ke=this._getOrCreateModel(this._editor.getModel().uri);ke.resetIndex(),ke.move(!0,this._editor.getModel(),new u.L(ft.startLineNumber,ft.startColumn)),ke.selected&&this._widget.showAtMarker(ke.selected.marker,ke.selected.index,ke.selected.total)}}nagivate(ft,ke){var nt,st;return ot(this,void 0,void 0,function*(){if(this._editor.hasModel()){const Ee=this._getOrCreateModel(ke?void 0:this._editor.getModel().uri);if(Ee.move(ft,this._editor.getModel(),this._editor.getPosition()),!Ee.selected)return;if(Ee.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const Fe=yield this._editorService.openCodeEditor({resource:Ee.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:Ee.selected.marker}},this._editor);Fe&&(null===(nt=za.get(Fe))||void 0===nt||nt.close(),null===(st=za.get(Fe))||void 0===st||st.nagivate(ft,ke))}else this._widget.showAtMarker(Ee.selected.marker,Ee.selected.index,Ee.selected.total)}})}};et.ID="editor.contrib.markerController",et=function(vn,ft,ke,nt){var Fe,st=arguments.length,Ee=st<3?ft:null===nt?nt=Object.getOwnPropertyDescriptor(ft,ke):nt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ee=Reflect.decorate(vn,ft,ke,nt);else for(var mt=vn.length-1;mt>=0;mt--)(Fe=vn[mt])&&(Ee=(st<3?Fe(Ee):st>3?Fe(ft,ke,Ee):Fe(ft,ke))||Ee);return st>3&&Ee&&Object.defineProperty(ft,ke,Ee),Ee}([Ue(1,S),Ue(2,R.i6),Ue(3,M.$),Ue(4,n.TG)],et);class Ze extends L.R6{constructor(ft,ke,nt){super(nt),this._next=ft,this._multiFile=ke}run(ft,ke){var nt;return ot(this,void 0,void 0,function*(){ke.hasModel()&&(null===(nt=et.get(ke))||void 0===nt||nt.nagivate(this._next,this._multiFile))})}}class Mt extends Ze{constructor(){super(!0,!1,{id:Mt.ID,label:Mt.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:A.u.focus,primary:578,weight:100},menuOpts:{menuId:Ae.TitleMenu,title:Mt.LABEL,icon:(0,Q.q5)("marker-navigation-next",f.lA.arrowDown,x.NC("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}Mt.ID="editor.action.marker.next",Mt.LABEL=x.NC("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class Nt extends Ze{constructor(){super(!1,!1,{id:Nt.ID,label:Nt.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:A.u.focus,primary:1602,weight:100},menuOpts:{menuId:Ae.TitleMenu,title:Nt.LABEL,icon:(0,Q.q5)("marker-navigation-previous",f.lA.arrowUp,x.NC("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}Nt.ID="editor.action.marker.prev",Nt.LABEL=x.NC("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),(0,L._K)(et.ID,et),(0,L.Qr)(Mt),(0,L.Qr)(Nt),(0,L.Qr)(class ze extends Ze{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:x.NC("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:A.u.focus,primary:66,weight:100},menuOpts:{menuId:T.eH.MenubarGoMenu,title:x.NC({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}),(0,L.Qr)(class dt extends Ze{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:x.NC("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:A.u.focus,primary:1090,weight:100},menuOpts:{menuId:T.eH.MenubarGoMenu,title:x.NC({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}});const $t=new R.uy("markersNavigationVisible",!1),hn=L._l.bindToContribution(et.get);(0,L.fK)(new hn({id:"closeMarkersNavigation",precondition:$t,handler:vn=>vn.close(),kbOpts:{weight:150,kbExpr:A.u.focus,primary:9,secondary:[1033]}}))},20793:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{DefinitionAction:()=>_e,SymbolNavigationAction:()=>ye,SymbolNavigationAnchor:()=>ie});var f=e(13366),s=e(71578),L=e(63072),M=e(36950),u=e(38972),P=e(54435),A=e(74672),k=e(23914),N=e(7109),_=e(95172),a=e(7221),p=e(85390),c=e(94220),n=e(68451),l=e(29584),v=e(66778),d=e(64917),m=e(29370),I=e(52787),y=e(52425),S=e(15151),b=e(40402),x=e(59776),T=e(18790),R=e(64725),Q=e(77090),Z=e(7550),G=e(78782),F=function(Ne,ne,xe,Je){var Ke,gt=arguments.length,lt=gt<3?ne:null===Je?Je=Object.getOwnPropertyDescriptor(ne,xe):Je;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)lt=Reflect.decorate(Ne,ne,xe,Je);else for(var He=Ne.length-1;He>=0;He--)(Ke=Ne[He])&&(lt=(gt<3?Ke(lt):gt>3?Ke(ne,xe,lt):Ke(ne,xe))||lt);return gt>3&&lt&&Object.defineProperty(ne,xe,lt),lt},W=function(Ne,ne){return function(xe,Je){ne(xe,Je,Ne)}};const B=new x.uy("hasSymbols",!1,(0,b.NC)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),z=(0,R.yh)("ISymbolNavigationService");let j=class{constructor(ne,xe,Je,gt){this._editorService=xe,this._notificationService=Je,this._keybindingService=gt,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=B.bindTo(ne)}reset(){var ne,xe;this._ctxHasSymbols.reset(),null===(ne=this._currentState)||void 0===ne||ne.dispose(),null===(xe=this._currentMessage)||void 0===xe||xe.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(ne){const xe=ne.parent.parent;if(xe.references.length<=1)return void this.reset();this._currentModel=xe,this._currentIdx=xe.references.indexOf(ne),this._ctxHasSymbols.set(!0),this._showMessage();const Je=new Y(this._editorService),gt=Je.onDidChange(lt=>{if(this._ignoreEditorChange)return;const Ke=this._editorService.getActiveCodeEditor();if(!Ke)return;const He=Ke.getModel(),Ue=Ke.getPosition();if(!He||!Ue)return;let ot=!1,et=!1;for(const Ze of xe.references)if((0,S.Xy)(Ze.uri,He.uri))ot=!0,et=et||n.e.containsPosition(Ze.range,Ue);else if(ot)break;(!ot||!et)&&this.reset()});this._currentState=(0,y.F8)(Je,gt)}revealNext(ne){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const xe=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:xe.uri,options:{selection:n.e.collapseToStart(xe.range),selectionRevealType:3}},ne).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var ne;null===(ne=this._currentMessage)||void 0===ne||ne.dispose();const xe=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),Je=xe?(0,b.NC)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,xe.getLabel()):(0,b.NC)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(Je)}};j=F([W(0,x.i6),W(1,a.$),W(2,G.lT),W(3,Q.d)],j),(0,T.z)(z,j,!0),(0,_.fK)(new class extends _._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:B,kbOpts:{weight:100,primary:70}})}runEditorCommand(Ne,ne){return Ne.get(z).revealNext(ne)}}),Z.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:B,primary:9,handler(Ne){Ne.get(z).reset()}});let Y=class{constructor(ne){this._listener=new Map,this._disposables=new y.SL,this._onDidChange=new I.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(ne.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(ne.onCodeEditorAdd(this._onDidAddEditor,this)),ne.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,y.B9)(this._listener.values())}_onDidAddEditor(ne){this._listener.set(ne,(0,y.F8)(ne.onDidChangeCursorPosition(xe=>this._onDidChange.fire({editor:ne})),ne.onDidChangeModelContent(xe=>this._onDidChange.fire({editor:ne}))))}_onDidRemoveEditor(ne){var xe;null===(xe=this._listener.get(ne))||void 0===xe||xe.dispose(),this._listener.delete(ne)}};Y=F([W(0,a.$)],Y);var Ie,ee,ce,he,de,ge,re,Se,E=e(10806),V=e(77273),$=e(61004),te=e(23884),w=e(22534),fe=e(44732),be=e(37464),me=function(Ne,ne,xe,Je){return new(xe||(xe=Promise))(function(lt,Ke){function He(et){try{ot(Je.next(et))}catch(Ze){Ke(Ze)}}function Ue(et){try{ot(Je.throw(et))}catch(Ze){Ke(Ze)}}function ot(et){et.done?lt(et.value):function gt(lt){return lt instanceof xe?lt:new xe(function(Ke){Ke(lt)})}(et.value).then(He,Ue)}ot((Je=Je.apply(Ne,ne||[])).next())})};$.BH.appendMenuItem($.eH.EditorContext,{submenu:$.eH.EditorContextPeek,title:b.NC("peek.submenu","Peek"),group:"navigation",order:100});const Pe=new Set;function Ve(Ne){const ne=new Ne;return(0,_.QG)(ne),Pe.add(ne.id),ne}class ie{constructor(ne,xe){this.model=ne,this.position=xe}static is(ne){return!(!ne||"object"!=typeof ne||!(ne instanceof ie||c.L.isIPosition(ne.position)&&ne.model))}}class ye extends _.R6{constructor(ne,xe){super(xe),this.configuration=ne}run(ne,xe,Je){if(!xe.hasModel())return Promise.resolve(void 0);const gt=ne.get(G.lT),lt=ne.get(a.$),Ke=ne.get(w.ek),He=ne.get(z),Ue=ne.get(be.p),ot=xe.getModel(),et=xe.getPosition(),Ze=ie.is(Je)?Je:new ie(ot,et),Mt=new k.Dl(xe,5),Nt=(0,L.eP)(this._getLocationModel(Ue,Ze.model,Ze.position,Mt.token),Mt.token).then(ze=>me(this,void 0,void 0,function*(){var dt;if(!ze||Mt.token.isCancellationRequested)return;let $t;if((0,s.Z9)(ze.ariaMessage),ze.referenceAt(ot.uri,et)){const vn=this._getAlternativeCommand(xe);!ye._activeAlternativeCommands.has(vn)&&Pe.has(vn)&&($t=xe.getAction(vn))}const hn=ze.references.length;if(0===hn){if(!this.configuration.muteMessage){const vn=ot.getWordAtPosition(et);null===(dt=E.O.get(xe))||void 0===dt||dt.showMessage(this._getNoResultFoundMessage(vn),et)}}else{if(1!==hn||!$t)return this._onResult(lt,He,xe,ze);ye._activeAlternativeCommands.add(this.id),$t.run().finally(()=>{ye._activeAlternativeCommands.delete(this.id)})}}),ze=>{gt.error(ze)}).finally(()=>{Mt.dispose()});return Ke.showWhile(Nt,250),Nt}_onResult(ne,xe,Je,gt){return me(this,void 0,void 0,function*(){const lt=this._getGoToPreference(Je);if(Je instanceof p.H||!(this.configuration.openInPeek||"peek"===lt&&gt.references.length>1)){const Ke=gt.firstReference(),He=gt.references.length>1&&"gotoAndPeek"===lt,Ue=yield this._openReference(Je,ne,Ke,this.configuration.openToSide,!He);He&&Ue?this._openInPeek(Ue,gt):gt.dispose(),"goto"===lt&&xe.put(Ke)}else this._openInPeek(Je,gt)})}_openReference(ne,xe,Je,gt,lt){return me(this,void 0,void 0,function*(){let Ke;if((0,v.vx)(Je)&&(Ke=Je.targetSelectionRange),Ke||(Ke=Je.range),!Ke)return;const He=yield xe.openCodeEditor({resource:Je.uri,options:{selection:n.e.collapseToStart(Ke),selectionRevealType:3,selectionSource:"code.jump"}},ne,gt);if(He){if(lt){const Ue=He.getModel(),ot=He.createDecorationsCollection([{range:Ke,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{He.getModel()===Ue&&ot.clear()},350)}return He}})}_openInPeek(ne,xe){const Je=d.J.get(ne);Je&&ne.hasModel()?Je.toggleWidget(ne.getSelection(),(0,L.PG)(gt=>Promise.resolve(xe)),this.configuration.openInPeek):xe.dispose()}}ye._activeAlternativeCommands=new Set;class _e extends ye{_getLocationModel(ne,xe,Je,gt){return me(this,void 0,void 0,function*(){return new m.oQ(yield(0,fe.nD)(ne.definitionProvider,xe,Je,gt),b.NC("def.title","Definitions"))})}_getNoResultFoundMessage(ne){return ne&&ne.word?b.NC("noResultWord","No definition found for '{0}'",ne.word):b.NC("generic.noResults","No definition found")}_getAlternativeCommand(ne){return ne.getOption(53).alternativeDefinitionCommand}_getGoToPreference(ne){return ne.getOption(53).multipleDefinitions}}const Be=u.$L&&!(0,f.isStandalone)()?2118:70;Ve(((Ie=class jl extends _e{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:jl.id,label:b.NC("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:x.Ao.and(l.u.hasDefinitionProvider,l.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:l.u.editorTextFocus,primary:Be,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),te.P0.registerCommandAlias("editor.action.goToDeclaration",jl.id)}}).id="editor.action.revealDefinition",Ie)),Ve(((ee=class Kl extends _e{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:Kl.id,label:b.NC("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:x.Ao.and(l.u.hasDefinitionProvider,l.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:l.u.editorTextFocus,primary:(0,M.gx)(2089,Be),weight:100}}),te.P0.registerCommandAlias("editor.action.openDeclarationToTheSide",Kl.id)}}).id="editor.action.revealDefinitionAside",ee)),Ve(((ce=class $l extends _e{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:$l.id,label:b.NC("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:x.Ao.and(l.u.hasDefinitionProvider,V.Jy.notInPeekEditor,l.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:l.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:$.eH.EditorContextPeek,group:"peek",order:2}}),te.P0.registerCommandAlias("editor.action.previewDeclaration",$l.id)}}).id="editor.action.peekDefinition",ce));class Qe extends ye{_getLocationModel(ne,xe,Je,gt){return me(this,void 0,void 0,function*(){return new m.oQ(yield(0,fe.zq)(ne.declarationProvider,xe,Je,gt),b.NC("decl.title","Declarations"))})}_getNoResultFoundMessage(ne){return ne&&ne.word?b.NC("decl.noResultWord","No declaration found for '{0}'",ne.word):b.NC("decl.generic.noResults","No declaration found")}_getAlternativeCommand(ne){return ne.getOption(53).alternativeDeclarationCommand}_getGoToPreference(ne){return ne.getOption(53).multipleDeclarations}}Ve(((he=class Vd extends Qe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Vd.id,label:b.NC("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:x.Ao.and(l.u.hasDeclarationProvider,l.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(ne){return ne&&ne.word?b.NC("decl.noResultWord","No declaration found for '{0}'",ne.word):b.NC("decl.generic.noResults","No declaration found")}}).id="editor.action.revealDeclaration",he)),Ve(class extends Qe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:b.NC("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:x.Ao.and(l.u.hasDeclarationProvider,V.Jy.notInPeekEditor,l.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:$.eH.EditorContextPeek,group:"peek",order:3}})}});class Ae extends ye{_getLocationModel(ne,xe,Je,gt){return me(this,void 0,void 0,function*(){return new m.oQ(yield(0,fe.L3)(ne.typeDefinitionProvider,xe,Je,gt),b.NC("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(ne){return ne&&ne.word?b.NC("goToTypeDefinition.noResultWord","No type definition found for '{0}'",ne.word):b.NC("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(ne){return ne.getOption(53).alternativeTypeDefinitionCommand}_getGoToPreference(ne){return ne.getOption(53).multipleTypeDefinitions}}Ve(((de=class Hd extends Ae{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Hd.ID,label:b.NC("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:x.Ao.and(l.u.hasTypeDefinitionProvider,l.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:l.u.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}}).ID="editor.action.goToTypeDefinition",de)),Ve(((ge=class Ud extends Ae{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Ud.ID,label:b.NC("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:x.Ao.and(l.u.hasTypeDefinitionProvider,V.Jy.notInPeekEditor,l.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:$.eH.EditorContextPeek,group:"peek",order:4}})}}).ID="editor.action.peekTypeDefinition",ge));class pe extends ye{_getLocationModel(ne,xe,Je,gt){return me(this,void 0,void 0,function*(){return new m.oQ(yield(0,fe.f4)(ne.implementationProvider,xe,Je,gt),b.NC("impl.title","Implementations"))})}_getNoResultFoundMessage(ne){return ne&&ne.word?b.NC("goToImplementation.noResultWord","No implementation found for '{0}'",ne.word):b.NC("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(ne){return ne.getOption(53).alternativeImplementationCommand}_getGoToPreference(ne){return ne.getOption(53).multipleImplementations}}Ve(((re=class zd extends pe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:zd.ID,label:b.NC("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:x.Ao.and(l.u.hasImplementationProvider,l.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:l.u.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}}).ID="editor.action.goToImplementation",re)),Ve(((Se=class jd extends pe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:jd.ID,label:b.NC("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:x.Ao.and(l.u.hasImplementationProvider,V.Jy.notInPeekEditor,l.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:l.u.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:$.eH.EditorContextPeek,group:"peek",order:5}})}}).ID="editor.action.peekImplementation",Se));class De extends ye{_getNoResultFoundMessage(ne){return ne?b.NC("references.no","No references found for '{0}'",ne.word):b.NC("references.noGeneric","No references found")}_getAlternativeCommand(ne){return ne.getOption(53).alternativeReferenceCommand}_getGoToPreference(ne){return ne.getOption(53).multipleReferences}}Ve(class extends De{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:b.NC("goToReferences.label","Go to References"),alias:"Go to References",precondition:x.Ao.and(l.u.hasReferenceProvider,V.Jy.notInPeekEditor,l.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:l.u.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(ne,xe,Je,gt){return me(this,void 0,void 0,function*(){return new m.oQ(yield(0,fe.aA)(ne.referenceProvider,xe,Je,!0,gt),b.NC("ref.title","References"))})}}),Ve(class extends De{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:b.NC("references.action.label","Peek References"),alias:"Peek References",precondition:x.Ao.and(l.u.hasReferenceProvider,V.Jy.notInPeekEditor,l.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:$.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(ne,xe,Je,gt){return me(this,void 0,void 0,function*(){return new m.oQ(yield(0,fe.aA)(ne.referenceProvider,xe,Je,!1,gt),b.NC("ref.title","References"))})}});class Oe extends ye{constructor(ne,xe,Je){super(ne,{id:"editor.action.goToLocation",label:b.NC("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:x.Ao.and(V.Jy.notInPeekEditor,l.u.isInWalkThroughSnippet.toNegated())}),this._references=xe,this._gotoMultipleBehaviour=Je}_getLocationModel(ne,xe,Je,gt){return me(this,void 0,void 0,function*(){return new m.oQ(this._references,b.NC("generic.title","Locations"))})}_getNoResultFoundMessage(ne){return ne&&b.NC("generic.noResult","No results for '{0}'",ne.word)||""}_getGoToPreference(ne){var xe;return null!==(xe=this._gotoMultipleBehaviour)&&void 0!==xe?xe:ne.getOption(53).multipleReferences}_getAlternativeCommand(){return""}}te.P0.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:A.o},{name:"position",description:"The position at which to start",constraint:c.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(Ne,ne,xe,Je,gt,lt,Ke)=>me(void 0,void 0,void 0,function*(){(0,P.p_)(A.o.isUri(ne)),(0,P.p_)(c.L.isIPosition(xe)),(0,P.p_)(Array.isArray(Je)),(0,P.p_)(void 0===gt||"string"==typeof gt),(0,P.p_)(void 0===Ke||"boolean"==typeof Ke);const He=Ne.get(a.$),Ue=yield He.openCodeEditor({resource:ne},He.getFocusedCodeEditor());if((0,N.CL)(Ue))return Ue.setPosition(xe),Ue.revealPositionInCenterIfOutsideViewport(xe,0),Ue.invokeWithinContext(ot=>{const et=new class extends Oe{_getNoResultFoundMessage(Ze){return lt||super._getNoResultFoundMessage(Ze)}}({muteMessage:!Boolean(lt),openInPeek:Boolean(Ke),openToSide:!1},Je,gt);ot.get(R.TG).invokeFunction(et.run.bind(et),Ue)})})}),te.P0.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:A.o},{name:"position",description:"The position at which to start",constraint:c.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(Ne,ne,xe,Je,gt)=>me(void 0,void 0,void 0,function*(){Ne.get(te.Hy).executeCommand("editor.action.goToLocations",ne,xe,Je,gt,void 0,!0)})}),te.P0.registerCommand({id:"editor.action.findReferences",handler:(Ne,ne,xe)=>{(0,P.p_)(A.o.isUri(ne)),(0,P.p_)(c.L.isIPosition(xe));const Je=Ne.get(be.p),gt=Ne.get(a.$);return gt.openCodeEditor({resource:ne},gt.getFocusedCodeEditor()).then(lt=>{if(!(0,N.CL)(lt)||!lt.hasModel())return;const Ke=d.J.get(lt);if(!Ke)return;const He=(0,L.PG)(ot=>(0,fe.aA)(Je.referenceProvider,lt.getModel(),c.L.lift(xe),!1,ot).then(et=>new m.oQ(et,b.NC("ref.title","References")))),Ue=new n.e(xe.lineNumber,xe.column,xe.lineNumber,xe.column);return Promise.resolve(Ke.toggleWidget(Ue,He,!1))})}}),te.P0.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),$.BH.appendMenuItems([{id:$.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:b.NC({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:$.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:b.NC({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:$.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:b.NC({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:$.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:b.NC({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:$.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:b.NC({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}])},44732:(at,ue,e)=>{"use strict";e.d(ue,{L3:()=>a,aA:()=>p,f4:()=>_,nD:()=>k,zq:()=>N});var f=e(80152),s=e(53663),L=e(95172),M=e(29370),u=e(37464),P=function(n,l,v,d){return new(v||(v=Promise))(function(I,y){function S(T){try{x(d.next(T))}catch(R){y(R)}}function b(T){try{x(d.throw(T))}catch(R){y(R)}}function x(T){T.done?I(T.value):function m(I){return I instanceof v?I:new v(function(y){y(I)})}(T.value).then(S,b)}x((d=d.apply(n,l||[])).next())})};function A(n,l,v,d){const I=v.ordered(n).map(y=>Promise.resolve(d(y,n,l)).then(void 0,S=>{(0,s.Cp)(S)}));return Promise.all(I).then(y=>{const S=[];for(const b of y)Array.isArray(b)?S.push(...b):b&&S.push(b);return S})}function k(n,l,v,d){return A(l,v,n,(m,I,y)=>m.provideDefinition(I,y,d))}function N(n,l,v,d){return A(l,v,n,(m,I,y)=>m.provideDeclaration(I,y,d))}function _(n,l,v,d){return A(l,v,n,(m,I,y)=>m.provideImplementation(I,y,d))}function a(n,l,v,d){return A(l,v,n,(m,I,y)=>m.provideTypeDefinition(I,y,d))}function p(n,l,v,d,m){return A(l,v,n,(I,y,S)=>P(this,void 0,void 0,function*(){const b=yield I.provideReferences(y,S,{includeDeclaration:!0},m);if(!d||!b||2!==b.length)return b;const x=yield I.provideReferences(y,S,{includeDeclaration:!1},m);return x&&1===x.length?x:b}))}function c(n){return P(this,void 0,void 0,function*(){const l=yield n(),v=new M.oQ(l,""),d=v.references.map(m=>m.link);return v.dispose(),d})}(0,L.sb)("_executeDefinitionProvider",(n,l,v)=>{const m=k(n.get(u.p).definitionProvider,l,v,f.T.None);return c(()=>m)}),(0,L.sb)("_executeTypeDefinitionProvider",(n,l,v)=>{const m=a(n.get(u.p).typeDefinitionProvider,l,v,f.T.None);return c(()=>m)}),(0,L.sb)("_executeDeclarationProvider",(n,l,v)=>{const m=N(n.get(u.p).declarationProvider,l,v,f.T.None);return c(()=>m)}),(0,L.sb)("_executeReferenceProvider",(n,l,v)=>{const m=p(n.get(u.p).referenceProvider,l,v,!1,f.T.None);return c(()=>m)}),(0,L.sb)("_executeImplementationProvider",(n,l,v)=>{const m=_(n.get(u.p).implementationProvider,l,v,f.T.None);return c(()=>m)})},98033:(at,ue,e)=>{"use strict";e.d(ue,{yN:()=>N});var f=e(52787),s=e(52425),L=e(38972);function M(_,a){return!!_[a]}class u{constructor(a,p){this.target=a.target,this.hasTriggerModifier=M(a.event,p.triggerModifier),this.hasSideBySideModifier=M(a.event,p.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=a.event.detail<=1}}class P{constructor(a,p){this.keyCodeIsTriggerKey=a.keyCode===p.triggerKey,this.keyCodeIsSideBySideKey=a.keyCode===p.triggerSideBySideKey,this.hasTriggerModifier=M(a,p.triggerModifier)}}class A{constructor(a,p,c,n){this.triggerKey=a,this.triggerModifier=p,this.triggerSideBySideKey=c,this.triggerSideBySideModifier=n}equals(a){return this.triggerKey===a.triggerKey&&this.triggerModifier===a.triggerModifier&&this.triggerSideBySideKey===a.triggerSideBySideKey&&this.triggerSideBySideModifier===a.triggerSideBySideModifier}}function k(_){return"altKey"===_?L.dz?new A(57,"metaKey",6,"altKey"):new A(5,"ctrlKey",6,"altKey"):L.dz?new A(6,"altKey",57,"metaKey"):new A(6,"altKey",5,"ctrlKey")}class N extends s.JT{constructor(a){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new f.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new f.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new f.Q5),this.onCancel=this._onCancel.event,this._editor=a,this._opts=k(this._editor.getOption(72)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(p=>{if(p.hasChanged(72)){const c=k(this._editor.getOption(72));if(this._opts.equals(c))return;this._opts=c,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(p=>this._onEditorMouseMove(new u(p,this._opts)))),this._register(this._editor.onMouseDown(p=>this._onEditorMouseDown(new u(p,this._opts)))),this._register(this._editor.onMouseUp(p=>this._onEditorMouseUp(new u(p,this._opts)))),this._register(this._editor.onKeyDown(p=>this._onEditorKeyDown(new P(p,this._opts)))),this._register(this._editor.onKeyUp(p=>this._onEditorKeyUp(new P(p,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(p=>this._onDidChangeCursorSelection(p))),this._register(this._editor.onDidChangeModel(p=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(p=>{(p.scrollTopChanged||p.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(a){a.selection&&a.selection.startColumn!==a.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(a){this._lastMouseMoveEvent=a,this._onMouseMoveOrRelevantKeyDown.fire([a,null])}_onEditorMouseDown(a){this._hasTriggerKeyOnMouseDown=a.hasTriggerModifier,this._lineNumberOnMouseDown=a.target.position?a.target.position.lineNumber:0}_onEditorMouseUp(a){this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===(a.target.position?a.target.position.lineNumber:0)&&this._onExecute.fire(a)}_onEditorKeyDown(a){this._lastMouseMoveEvent&&(a.keyCodeIsTriggerKey||a.keyCodeIsSideBySideKey&&a.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,a]):a.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(a){a.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}},64034:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{GotoDefinitionAtPositionEditorContribution:()=>te});var f=e(63072),s=e(53663),L=e(22468),M=e(52425),u=e(54435),P=e(93379),A=e.n(P),k=e(7795),N=e.n(k),_=e(90569),a=e.n(_),p=e(3565),c=e.n(p),n=e(19216),l=e.n(n),v=e(44589),d=e.n(v),m=e(33257),I={};I.styleTagTransform=d(),I.setAttributes=c(),I.insert=a().bind(null,"head"),I.domAPI=N(),I.insertStyleElement=l(),A()(m.Z,I);var b=e(23914),x=e(95172),T=e(68451),R=e(42570),Q=e(87424),Z=e(98033),G=e(77273),F=e(40402),W=e(59776),B=e(28708),z=e(23024),j=e(20793),Y=e(44732),E=e(37464),$=function(w,fe){return function(be,me){fe(be,me,w)}};let te=class ja{constructor(fe,be,me,Ie){this.textModelResolverService=be,this.languageService=me,this.languageFeaturesService=Ie,this.toUnhook=new M.SL,this.toUnhookForKeyboard=new M.SL,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=fe,this.linkDecorations=this.editor.createDecorationsCollection();const ee=new Z.yN(fe);this.toUnhook.add(ee),this.toUnhook.add(ee.onMouseMoveOrRelevantKeyDown(([ce,he])=>{this.startFindDefinitionFromMouse(ce,(0,u.f6)(he))})),this.toUnhook.add(ee.onExecute(ce=>{this.isEnabled(ce)&&this.gotoDefinition(ce.target.position,ce.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},he=>{this.removeLinkDecorations(),(0,s.dL)(he)})})),this.toUnhook.add(ee.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(fe){return fe.getContribution(ja.ID)}startFindDefinitionFromCursor(fe){return this.startFindDefinition(fe).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(be=>{be&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(fe,be){if(!(9===fe.target.type&&this.linkDecorations.length>0))return this.editor.hasModel()&&this.isEnabled(fe,be)?void this.startFindDefinition(fe.target.position):(this.currentWordAtPosition=null,void this.removeLinkDecorations())}startFindDefinition(fe){var be;this.toUnhookForKeyboard.clear();const me=fe?null===(be=this.editor.getModel())||void 0===be?void 0:be.getWordAtPosition(fe):null;if(!me)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===me.startColumn&&this.currentWordAtPosition.endColumn===me.endColumn&&this.currentWordAtPosition.word===me.word)return Promise.resolve(0);this.currentWordAtPosition=me;const Ie=new b.yy(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,f.PG)(ee=>this.findDefinition(fe,ee)),this.previousPromise.then(ee=>{if(ee&&ee.length&&Ie.validate(this.editor))if(ee.length>1)this.addDecoration(new T.e(fe.lineNumber,me.startColumn,fe.lineNumber,me.endColumn),(new L.W5).appendText(F.NC("multipleResults","Click to show {0} definitions.",ee.length)));else{const ce=ee[0];if(!ce.uri)return;this.textModelResolverService.createModelReference(ce.uri).then(he=>{if(!he.object||!he.object.textEditorModel)return void he.dispose();const{object:{textEditorModel:de}}=he,{startLineNumber:ge}=ce.range;if(ge<1||ge>de.getLineCount())return void he.dispose();const re=this.getPreviewValue(de,ge,ce);let Se;Se=ce.originSelectionRange?T.e.lift(ce.originSelectionRange):new T.e(fe.lineNumber,me.startColumn,fe.lineNumber,me.endColumn);const Pe=this.languageService.guessLanguageIdByFilepathOrFirstLine(de.uri);this.addDecoration(Se,(new L.W5).appendCodeblock(Pe||"",re)),he.dispose()})}else this.removeLinkDecorations()}).then(void 0,s.dL)}getPreviewValue(fe,be,me){let Ie=me.range;return Ie.endLineNumber-Ie.startLineNumber>=ja.MAX_SOURCE_PREVIEW_LINES&&(Ie=this.getPreviewRangeBasedOnIndentation(fe,be)),this.stripIndentationFromPreviewRange(fe,be,Ie)}stripIndentationFromPreviewRange(fe,be,me){let ee=fe.getLineFirstNonWhitespaceColumn(be);for(let he=be+1;he<me.endLineNumber;he++){const de=fe.getLineFirstNonWhitespaceColumn(he);ee=Math.min(ee,de)}return fe.getValueInRange(me).replace(new RegExp(`^\\s{${ee-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(fe,be){const me=fe.getLineFirstNonWhitespaceColumn(be),Ie=Math.min(fe.getLineCount(),be+ja.MAX_SOURCE_PREVIEW_LINES);let ee=be+1;for(;ee<Ie&&me!==fe.getLineFirstNonWhitespaceColumn(ee);ee++);return new T.e(be,1,ee+1,1)}addDecoration(fe,be){this.linkDecorations.set([{range:fe,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:be}}])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(fe,be){return this.editor.hasModel()&&fe.isNoneOrSingleMouseDown&&6===fe.target.type&&(fe.hasTriggerModifier||!!be&&be.keyCodeIsTriggerKey)&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(fe,be){const me=this.editor.getModel();return me?(0,Y.nD)(this.languageFeaturesService.definitionProvider,me,fe,be):Promise.resolve(null)}gotoDefinition(fe,be){return this.editor.setPosition(fe),this.editor.invokeWithinContext(me=>{const Ie=!be&&this.editor.getOption(80)&&!this.isInPeekEditor(me);return new j.DefinitionAction({openToSide:be,openInPeek:Ie,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(me,this.editor)})}isInPeekEditor(fe){const be=fe.get(W.i6);return G.Jy.inPeekEditor.getValue(be)}dispose(){this.toUnhook.dispose()}};te.ID="editor.contrib.gotodefinitionatposition",te.MAX_SOURCE_PREVIEW_LINES=8,te=function(w,fe,be,me){var ce,Ie=arguments.length,ee=Ie<3?fe:null===me?me=Object.getOwnPropertyDescriptor(fe,be):me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ee=Reflect.decorate(w,fe,be,me);else for(var he=w.length-1;he>=0;he--)(ce=w[he])&&(ee=(Ie<3?ce(ee):Ie>3?ce(fe,be,ee):ce(fe,be))||ee);return Ie>3&&ee&&Object.defineProperty(fe,be,ee),ee}([$(1,Q.S),$(2,R.O),$(3,E.p)],te),(0,x._K)(te.ID,te),(0,z.Ic)((w,fe)=>{const be=w.getColor(B._Yy);be&&fe.addRule(`.monaco-editor .goto-definition-link { color: ${be} !important; }`)})},64917:(at,ue,e)=>{"use strict";e.d(ue,{J:()=>$t});var f=e(63072),s=e(53663),L=e(36950),M=e(52425),u=e(7221),P=e(94220),A=e(68451),k=e(77273),N=e(40402),_=e(23884),a=e(9869),p=e(59776),c=e(64725),n=e(7550),l=e(98071),v=e(78782),d=e(99571),m=e(29370),I=e(58059),y=e(42983),S=e(68927),b=e(52787),x=e(90278),T=e(15151),R=e(93379),Q=e.n(R),Z=e(7795),G=e.n(Z),F=e(90569),W=e.n(F),B=e(3565),z=e.n(B),j=e(19216),Y=e.n(j),E=e(44589),V=e.n(E),$=e(60879),te={};te.styleTagTransform=V(),te.setAttributes=z(),te.insert=W().bind(null,"head"),te.domAPI=G(),te.insertStyleElement=Y(),Q()($.Z,te);var be=e(85390),me=e(3508),Ie=e(23924),ee=e(64669),ce=e(42570),he=e(87424),de=e(39914),ge=e(99450),re=e(61021),Se=e(81979),Pe=e(77090),Ve=e(50203),ie=e(32151),ye=e(23024),_e=function(vn,ft,ke,nt){var Fe,st=arguments.length,Ee=st<3?ft:null===nt?nt=Object.getOwnPropertyDescriptor(ft,ke):nt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ee=Reflect.decorate(vn,ft,ke,nt);else for(var mt=vn.length-1;mt>=0;mt--)(Fe=vn[mt])&&(Ee=(st<3?Fe(Ee):st>3?Fe(ft,ke,Ee):Fe(ft,ke))||Ee);return st>3&&Ee&&Object.defineProperty(ft,ke,Ee),Ee},Be=function(vn,ft){return function(ke,nt){ft(ke,nt,vn)}};let Qe=class{constructor(ft){this._resolverService=ft}hasChildren(ft){return ft instanceof m.oQ||ft instanceof m.F2}getChildren(ft){if(ft instanceof m.oQ)return ft.groups;if(ft instanceof m.F2)return ft.resolve(this._resolverService).then(ke=>ke.children);throw new Error("bad tree")}};Qe=_e([Be(0,he.S)],Qe);class Ae{getHeight(){return 23}getTemplateId(ft){return ft instanceof m.F2?Ne.id:xe.id}}let pe=class{constructor(ft){this._keybindingService=ft}getKeyboardNavigationLabel(ft){var ke;if(ft instanceof m.WX){const nt=null===(ke=ft.parent.getPreview(ft))||void 0===ke?void 0:ke.preview(ft.range);if(nt)return nt.value}return(0,T.EZ)(ft.uri)}};pe=_e([Be(0,Pe.d)],pe);class De{getId(ft){return ft instanceof m.WX?ft.id:ft.uri}}let Oe=class extends M.JT{constructor(ft,ke,nt){super(),this._labelService=ke;const st=document.createElement("div");st.classList.add("reference-file"),this.file=this._register(new re.g(st,{supportHighlights:!0})),this.badge=new de.Z(I.R3(st,I.$(".count"))),this._register((0,ie.WZ)(this.badge,nt)),ft.appendChild(st)}set(ft,ke){const nt=(0,T.XX)(ft.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(ft.uri),this._labelService.getUriLabel(nt,{relative:!0}),{title:this._labelService.getUriLabel(ft.uri),matches:ke});const st=ft.children.length;this.badge.setCount(st),this.badge.setTitleFormat(st>1?(0,N.NC)("referencesCount","{0} references",st):(0,N.NC)("referenceCount","{0} reference",st))}};Oe=_e([Be(1,Ve.e),Be(2,ye.XE)],Oe);let Ne=class Kd{constructor(ft){this._instantiationService=ft,this.templateId=Kd.id}renderTemplate(ft){return this._instantiationService.createInstance(Oe,ft)}renderElement(ft,ke,nt){nt.set(ft.element,(0,Se.mB)(ft.filterData))}disposeTemplate(ft){ft.dispose()}};Ne.id="FileReferencesRenderer",Ne=_e([Be(0,c.TG)],Ne);class ne{constructor(ft){this.label=new ge.q(ft)}set(ft,ke){var nt;const st=null===(nt=ft.parent.getPreview(ft))||void 0===nt?void 0:nt.preview(ft.range);if(st&&st.value){const{value:Ee,highlight:Fe}=st;ke&&!Se.CL.isDefault(ke)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(Ee,(0,Se.mB)(ke))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(Ee,[Fe]))}else this.label.set(`${(0,T.EZ)(ft.uri)}:${ft.range.startLineNumber+1}:${ft.range.startColumn+1}`)}}let xe=(()=>{class vn{constructor(){this.templateId=vn.id}renderTemplate(ke){return new ne(ke)}renderElement(ke,nt,st){st.set(ke.element,ke.filterData)}disposeTemplate(){}}return vn.id="OneReferenceRenderer",vn})();class Je{getWidgetAriaLabel(){return(0,N.NC)("treeAriaLabel","References")}getAriaLabel(ft){return ft.ariaMessage}}var gt=e(18846),Ke=function(vn,ft){return function(ke,nt){ft(ke,nt,vn)}},He=function(vn,ft,ke,nt){return new(ke||(ke=Promise))(function(Ee,Fe){function mt(Cn){try{qt(nt.next(Cn))}catch(Gt){Fe(Gt)}}function Vt(Cn){try{qt(nt.throw(Cn))}catch(Gt){Fe(Gt)}}function qt(Cn){Cn.done?Ee(Cn.value):function st(Ee){return Ee instanceof ke?Ee:new ke(function(Fe){Fe(Ee)})}(Cn.value).then(mt,Vt)}qt((nt=nt.apply(vn,ft||[])).next())})};class Ue{constructor(ft,ke){this._editor=ft,this._model=ke,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new M.SL,this._callOnModelChange=new M.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const ft=this._editor.getModel();if(ft)for(const ke of this._model.references)if(ke.uri.toString()===ft.uri.toString())return void this._addDecorations(ke.parent)}_addDecorations(ft){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const ke=[],nt=[];for(let st=0,Ee=ft.children.length;st<Ee;st++){const Fe=ft.children[st];this._decorationIgnoreSet.has(Fe.id)||Fe.uri.toString()===this._editor.getModel().uri.toString()&&(ke.push({range:Fe.range,options:Ue.DecorationOptions}),nt.push(st))}this._editor.changeDecorations(st=>{const Ee=st.deltaDecorations([],ke);for(let Fe=0;Fe<Ee.length;Fe++)this._decorations.set(Ee[Fe],ft.children[nt[Fe]])})}_onDecorationChanged(){const ft=[],ke=this._editor.getModel();if(ke){for(const[nt,st]of this._decorations){const Ee=ke.getDecorationRange(nt);if(!Ee)continue;let Fe=!1;A.e.equalsRange(Ee,st.range)||((A.e.spansMultipleLines(Ee)||st.range.endColumn-st.range.startColumn!=Ee.endColumn-Ee.startColumn)&&(Fe=!0),Fe?(this._decorationIgnoreSet.add(st.id),ft.push(nt)):st.range=Ee)}for(let nt=0,st=ft.length;nt<st;nt++)this._decorations.delete(ft[nt]);this._editor.removeDecorations(ft)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}Ue.DecorationOptions=me.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class et extends l.ls{}let Ze=class extends k.vk{constructor(ft,ke,nt,st,Ee,Fe,mt,Vt,qt,Cn,Gt,en){super(ft,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},Fe),this._defaultTreeKeyboardSupport=ke,this.layoutData=nt,this._textModelResolverService=Ee,this._instantiationService=Fe,this._peekViewService=mt,this._uriLabel=Vt,this._undoRedoService=qt,this._keybindingService=Cn,this._languageService=Gt,this._languageConfigurationService=en,this._disposeOnNewModel=new M.SL,this._callOnDispose=new M.SL,this._onDidSelectReference=new b.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new I.Ro(0,0),this._applyTheme(st.getColorTheme()),this._callOnDispose.add(st.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(ft,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,M.B9)(this._preview),(0,M.B9)(this._previewNotAvailableMessage),(0,M.B9)(this._tree),(0,M.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(ft){const ke=ft.getColor(k.SC)||S.Il.transparent;this.style({arrowColor:ke,frameColor:ke,headerBackgroundColor:ft.getColor(k.KY)||S.Il.transparent,primaryHeadingColor:ft.getColor(k.IH),secondaryHeadingColor:ft.getColor(k.R7)})}show(ft){super.show(ft,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(ft){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:ft.ctrlKey||ft.metaKey||ft.altKey?"side":"open",source:"title"})}_fillBody(ft){this.setCssClass("reference-zone-widget"),this._messageContainer=I.R3(ft,I.$("div.messages")),I.Cp(this._messageContainer),this._splitView=new y.z(ft,{orientation:1}),this._previewContainer=I.R3(ft,I.$("div.preview.inline")),this._preview=this._instantiationService.createInstance(be.H,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),I.Cp(this._previewContainer),this._previewNotAvailableMessage=new me.yO(N.NC("missingPreviewMessage","no preview available"),ee.bd,me.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=I.R3(ft,I.$("div.ref-tree.inline"));const nt={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new Je,keyboardNavigationLabelProvider:this._instantiationService.createInstance(pe),identityProvider:new De,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:k.M8}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(I.mu(this._treeContainer,"keydown",Ee=>{Ee.equals(9)&&(this._keybindingService.dispatchEvent(Ee,Ee.target),Ee.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(et,"ReferencesWidget",this._treeContainer,new Ae,[this._instantiationService.createInstance(Ne),this._instantiationService.createInstance(xe)],this._instantiationService.createInstance(Qe),nt),this._splitView.addView({onDidChange:b.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:Ee=>{this._preview.layout({height:this._dim.height,width:Ee})}},y.M.Distribute),this._splitView.addView({onDidChange:b.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:Ee=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${Ee}px`,this._tree.layout(this._dim.height,Ee)}},y.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const st=(Ee,Fe)=>{Ee instanceof m.WX&&("show"===Fe&&this._revealReference(Ee,!1),this._onDidSelectReference.fire({element:Ee,kind:Fe,source:"tree"}))};this._tree.onDidOpen(Ee=>{st(Ee.element,Ee.sideBySide?"side":Ee.editorOptions.pinned?"goto":"show")}),I.Cp(this._treeContainer)}_onWidth(ft){this._dim&&this._doLayoutBody(this._dim.height,ft)}_doLayoutBody(ft,ke){super._doLayoutBody(ft,ke),this._dim=new I.Ro(ke,ft),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(ke),this._splitView.resizeView(0,ke*this.layoutData.ratio)}setSelection(ft){return this._revealReference(ft,!0).then(()=>{!this._model||(this._tree.setSelection([ft]),this._tree.setFocus([ft]))})}setModel(ft){return this._disposeOnNewModel.clear(),this._model=ft,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=N.NC("noResults","No results"),I.$Z(this._messageContainer),Promise.resolve(void 0)):(I.Cp(this._messageContainer),this._decorationsManager=new Ue(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(ft=>this._tree.rerender(ft))),this._disposeOnNewModel.add(this._preview.onMouseDown(ft=>{const{event:ke,target:nt}=ft;if(2!==ke.detail)return;const st=this._getFocusedReference();!st||this._onDidSelectReference.fire({element:{uri:st.uri,range:nt.range},kind:ke.ctrlKey||ke.metaKey||ke.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),I.$Z(this._treeContainer),I.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[ft]=this._tree.getFocus();return ft instanceof m.WX?ft:ft instanceof m.F2&&ft.children.length>0?ft.children[0]:void 0}revealReference(ft){return He(this,void 0,void 0,function*(){yield this._revealReference(ft,!1),this._onDidSelectReference.fire({element:ft,kind:"goto",source:"tree"})})}_revealReference(ft,ke){return He(this,void 0,void 0,function*(){if(this._revealedReference===ft)return;this._revealedReference=ft,ft.uri.scheme!==x.lg.inMemory?this.setTitle((0,T.Hx)(ft.uri),this._uriLabel.getUriLabel((0,T.XX)(ft.uri))):this.setTitle(N.NC("peekView.alternateTitle","References"));const nt=this._textModelResolverService.createModelReference(ft.uri);this._tree.getInput()===ft.parent||(ke&&this._tree.reveal(ft.parent),yield this._tree.expand(ft.parent)),this._tree.reveal(ft);const st=yield nt;if(!this._model)return void st.dispose();(0,M.B9)(this._previewModelReference);const Ee=st.object;if(Ee){const Fe=this._preview.getModel()===Ee.textEditorModel?0:1,mt=A.e.lift(ft.range).collapseToStart();this._previewModelReference=st,this._preview.setModel(Ee.textEditorModel),this._preview.setSelection(mt),this._preview.revealRangeInCenter(mt,Fe)}else this._preview.setModel(this._previewNotAvailableMessage),st.dispose()})}};Ze=function(vn,ft,ke,nt){var Fe,st=arguments.length,Ee=st<3?ft:null===nt?nt=Object.getOwnPropertyDescriptor(ft,ke):nt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ee=Reflect.decorate(vn,ft,ke,nt);else for(var mt=vn.length-1;mt>=0;mt--)(Fe=vn[mt])&&(Ee=(st<3?Fe(Ee):st>3?Fe(ft,ke,Ee):Fe(ft,ke))||Ee);return st>3&&Ee&&Object.defineProperty(ft,ke,Ee),Ee}([Ke(3,ye.XE),Ke(4,he.S),Ke(5,c.TG),Ke(6,k.Fw),Ke(7,Ve.e),Ke(8,gt.tJ),Ke(9,Pe.d),Ke(10,ce.O),Ke(11,Ie.c_)],Ze);var Nt=function(vn,ft){return function(ke,nt){ft(ke,nt,vn)}},ze=function(vn,ft,ke,nt){return new(ke||(ke=Promise))(function(Ee,Fe){function mt(Cn){try{qt(nt.next(Cn))}catch(Gt){Fe(Gt)}}function Vt(Cn){try{qt(nt.throw(Cn))}catch(Gt){Fe(Gt)}}function qt(Cn){Cn.done?Ee(Cn.value):function st(Ee){return Ee instanceof ke?Ee:new ke(function(Fe){Fe(Ee)})}(Cn.value).then(mt,Vt)}qt((nt=nt.apply(vn,ft||[])).next())})};const dt=new p.uy("referenceSearchVisible",!1,N.NC("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let $t=class Gl{constructor(ft,ke,nt,st,Ee,Fe,mt,Vt){this._defaultTreeKeyboardSupport=ft,this._editor=ke,this._editorService=st,this._notificationService=Ee,this._instantiationService=Fe,this._storageService=mt,this._configurationService=Vt,this._disposables=new M.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=dt.bindTo(nt)}static get(ft){return ft.getContribution(Gl.ID)}dispose(){var ft,ke;this._referenceSearchVisible.reset(),this._disposables.dispose(),null===(ft=this._widget)||void 0===ft||ft.dispose(),null===(ke=this._model)||void 0===ke||ke.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(ft,ke,nt){let st;if(this._widget&&(st=this._widget.position),this.closeWidget(),st&&ft.containsPosition(st))return;this._peekMode=nt,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const Ee="peekViewLayout",Fe=class ot{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(ft){let ke,nt;try{const st=JSON.parse(ft);ke=st.ratio,nt=st.heightInLines}catch(st){}return{ratio:ke||.7,heightInLines:nt||18}}}.fromJSON(this._storageService.get(Ee,0,"{}"));this._widget=this._instantiationService.createInstance(Ze,this._editor,this._defaultTreeKeyboardSupport,Fe),this._widget.setTitle(N.NC("labelLoading","Loading...")),this._widget.show(ft),this._disposables.add(this._widget.onDidClose(()=>{ke.cancel(),this._widget&&(this._storageService.store(Ee,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(Vt=>{const{element:qt,kind:Cn}=Vt;if(qt)switch(Cn){case"open":("editor"!==Vt.source||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(qt,!1,!1);break;case"side":this.openReference(qt,!0,!1);break;case"goto":nt?this._gotoReference(qt):this.openReference(qt,!1,!0)}}));const mt=++this._requestIdPool;ke.then(Vt=>{var qt;if(mt===this._requestIdPool&&this._widget)return null===(qt=this._model)||void 0===qt||qt.dispose(),this._model=Vt,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._widget.setMetaTitle(this._model.isEmpty?"":N.NC("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const Cn=this._editor.getModel().uri,Gt=new P.L(ft.startLineNumber,ft.startColumn),en=this._model.nearestReference(Cn,Gt);if(en)return this._widget.setSelection(en).then(()=>{this._widget&&"editor"===this._editor.getOption(79)&&this._widget.focusOnPreviewEditor()})}});Vt.dispose()},Vt=>{this._notificationService.error(Vt)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(ft){return ze(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const ke=this._widget.position;if(!ke)return;const nt=this._model.nearestReference(this._editor.getModel().uri,ke);if(!nt)return;const st=this._model.nextOrPreviousReference(nt,ft),Ee=this._editor.hasTextFocus(),Fe=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(st),yield this._gotoReference(st),Ee?this._editor.focus():this._widget&&Fe&&this._widget.focusOnPreviewEditor()})}revealReference(ft){return ze(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(ft))})}closeWidget(ft=!0){var ke,nt;null===(ke=this._widget)||void 0===ke||ke.dispose(),null===(nt=this._model)||void 0===nt||nt.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,ft&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(ft){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const ke=A.e.lift(ft.range).collapseToStart();return this._editorService.openCodeEditor({resource:ft.uri,options:{selection:ke,selectionSource:"code.jump"}},this._editor).then(nt=>{var st;if(this._ignoreModelChangeEvent=!1,nt&&this._widget)if(this._editor===nt)this._widget.show(ke),this._widget.focusOnReferenceTree();else{const Ee=Gl.get(nt),Fe=this._model.clone();this.closeWidget(),nt.focus(),null==Ee||Ee.toggleWidget(ke,(0,f.PG)(mt=>Promise.resolve(Fe)),null!==(st=this._peekMode)&&void 0!==st&&st)}else this.closeWidget()},nt=>{this._ignoreModelChangeEvent=!1,(0,s.dL)(nt)})}openReference(ft,ke,nt){ke||this.closeWidget();const{uri:st,range:Ee}=ft;this._editorService.openCodeEditor({resource:st,options:{selection:Ee,selectionSource:"code.jump",pinned:nt}},this._editor,ke)}};function hn(vn,ft){const ke=(0,k.rc)(vn);if(!ke)return;const nt=$t.get(ke);nt&&ft(nt)}$t.ID="editor.contrib.referencesController",$t=function(vn,ft,ke,nt){var Fe,st=arguments.length,Ee=st<3?ft:null===nt?nt=Object.getOwnPropertyDescriptor(ft,ke):nt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ee=Reflect.decorate(vn,ft,ke,nt);else for(var mt=vn.length-1;mt>=0;mt--)(Fe=vn[mt])&&(Ee=(st<3?Fe(Ee):st>3?Fe(ft,ke,Ee):Fe(ft,ke))||Ee);return st>3&&Ee&&Object.defineProperty(ft,ke,Ee),Ee}([Nt(2,p.i6),Nt(3,u.$),Nt(4,v.lT),Nt(5,c.TG),Nt(6,d.Uy),Nt(7,a.Ui)],$t),n.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,L.gx)(2089,60),when:p.Ao.or(dt,k.Jy.inPeekEditor),handler(vn){hn(vn,ft=>{ft.changeFocusBetweenPreviewAndReferences()})}}),n.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:p.Ao.or(dt,k.Jy.inPeekEditor),handler(vn){hn(vn,ft=>{ft.goToNextOrPreviousReference(!0)})}}),n.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:p.Ao.or(dt,k.Jy.inPeekEditor),handler(vn){hn(vn,ft=>{ft.goToNextOrPreviousReference(!1)})}}),_.P0.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),_.P0.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),_.P0.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),_.P0.registerCommand("closeReferenceSearch",vn=>hn(vn,ft=>ft.closeWidget())),n.W.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:p.Ao.and(k.Jy.inPeekEditor,p.Ao.not("config.editor.stablePeek"))}),n.W.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:p.Ao.and(dt,p.Ao.not("config.editor.stablePeek"))}),n.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:p.Ao.and(dt,l.CQ,l.PS.negate(),l.uJ.negate()),handler(vn){var ft;const nt=null===(ft=vn.get(l.Lw).lastFocusedList)||void 0===ft?void 0:ft.getFocus();Array.isArray(nt)&&nt[0]instanceof m.WX&&hn(vn,st=>st.revealReference(nt[0]))}}),n.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:p.Ao.and(dt,l.CQ,l.PS.negate(),l.uJ.negate()),handler(vn){var ft;const nt=null===(ft=vn.get(l.Lw).lastFocusedList)||void 0===ft?void 0:ft.getFocus();Array.isArray(nt)&&nt[0]instanceof m.WX&&hn(vn,st=>st.openReference(nt[0],!0,!0))}}),_.P0.registerCommand("openReference",vn=>{var ft;const nt=null===(ft=vn.get(l.Lw).lastFocusedList)||void 0===ft?void 0:ft.getFocus();Array.isArray(nt)&&nt[0]instanceof m.WX&&hn(vn,st=>st.openReference(nt[0],!1,!0))})},29370:(at,ue,e)=>{"use strict";e.d(ue,{F2:()=>c,WX:()=>a,oQ:()=>n});var f=e(53663),s=e(52787),L=e(68900),M=e(52425),u=e(7838),P=e(15151),A=e(93059),k=e(68451),N=e(40402);class a{constructor(v,d,m,I){this.isProviderFirst=v,this.parent=d,this.link=m,this._rangeCallback=I,this.id=L.a.nextId()}get uri(){return this.link.uri}get range(){var v,d;return null!==(d=null!==(v=this._range)&&void 0!==v?v:this.link.targetSelectionRange)&&void 0!==d?d:this.link.range}set range(v){this._range=v,this._rangeCallback(this)}get ariaMessage(){var v;const d=null===(v=this.parent.getPreview(this))||void 0===v?void 0:v.preview(this.range);return d?(0,N.NC)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,P.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn,d.value):(0,N.NC)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,P.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class p{constructor(v){this._modelReference=v}dispose(){this._modelReference.dispose()}preview(v,d=8){const m=this._modelReference.object.textEditorModel;if(!m)return;const{startLineNumber:I,startColumn:y,endLineNumber:S,endColumn:b}=v,x=m.getWordUntilPosition({lineNumber:I,column:y-d}),T=new k.e(I,x.startColumn,I,y),R=new k.e(S,b,S,1073741824),Q=m.getValueInRange(T).replace(/^\s+/,""),Z=m.getValueInRange(v);return{value:Q+Z+m.getValueInRange(R).replace(/\s+$/,""),highlight:{start:Q.length,end:Q.length+Z.length}}}}class c{constructor(v,d){this.parent=v,this.uri=d,this.children=[],this._previews=new u.Y9}dispose(){(0,M.B9)(this._previews.values()),this._previews.clear()}getPreview(v){return this._previews.get(v.uri)}get ariaMessage(){const v=this.children.length;return 1===v?(0,N.NC)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,P.EZ)(this.uri),this.uri.fsPath):(0,N.NC)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",v,(0,P.EZ)(this.uri),this.uri.fsPath)}resolve(v){return function(l,v,d,m){return new(d||(d=Promise))(function(y,S){function b(R){try{T(m.next(R))}catch(Q){S(Q)}}function x(R){try{T(m.throw(R))}catch(Q){S(Q)}}function T(R){R.done?y(R.value):function I(y){return y instanceof d?y:new d(function(S){S(y)})}(R.value).then(b,x)}T((m=m.apply(l,v||[])).next())})}(this,void 0,void 0,function*(){if(0!==this._previews.size)return this;for(const d of this.children)if(!this._previews.has(d.uri))try{const m=yield v.createModelReference(d.uri);this._previews.set(d.uri,new p(m))}catch(m){(0,f.dL)(m)}return this})}}class n{constructor(v,d){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new s.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=v,this._title=d;const[m]=v;let I;v.sort(n._compareReferences);for(const y of v)if((!I||!P.SF.isEqual(I.uri,y.uri,!0))&&(I=new c(this,y.uri),this.groups.push(I)),0===I.children.length||0!==n._compareReferences(y,I.children[I.children.length-1])){const S=new a(m===y,I,y,b=>this._onDidChangeReferenceRange.fire(b));this.references.push(S),I.children.push(S)}}dispose(){(0,M.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new n(this._links,this._title)}get title(){return this._title}get isEmpty(){return 0===this.groups.length}get ariaMessage(){return this.isEmpty?(0,N.NC)("aria.result.0","No results found"):1===this.references.length?(0,N.NC)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?(0,N.NC)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,N.NC)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(v,d){const{parent:m}=v;let I=m.children.indexOf(v);const y=m.children.length,S=m.parent.groups.length;return 1===S||d&&I+1<y||!d&&I>0?(I=d?(I+1)%y:(I+y-1)%y,m.children[I]):(I=m.parent.groups.indexOf(m),d?(I=(I+1)%S,m.parent.groups[I].children[0]):(I=(I+S-1)%S,m.parent.groups[I].children[m.parent.groups[I].children.length-1]))}nearestReference(v,d){const m=this.references.map((I,y)=>({idx:y,prefixLen:A.Mh(I.uri.toString(),v.toString()),offsetDist:100*Math.abs(I.range.startLineNumber-d.lineNumber)+Math.abs(I.range.startColumn-d.column)})).sort((I,y)=>I.prefixLen>y.prefixLen?-1:I.prefixLen<y.prefixLen?1:I.offsetDist<y.offsetDist?-1:I.offsetDist>y.offsetDist?1:0)[0];if(m)return this.references[m.idx]}referenceAt(v,d){for(const m of this.references)if(m.uri.toString()===v.toString()&&k.e.containsPosition(m.range,d))return m}firstReference(){for(const v of this.references)if(v.isProviderFirst)return v;return this.references[0]}static _compareReferences(v,d){return P.SF.compare(v.uri,d.uri)||k.e.compareRangesUsingStarts(v.range,d.range)}}},86742:(at,ue,e)=>{"use strict";e.d(ue,{R8:()=>N});var f=e(63072),s=e(80152),L=e(53663),M=e(95172),u=e(37464);class A{constructor(c,n,l){this.provider=c,this.hover=n,this.ordinal=l}}function N(p,c,n,l){const d=p.ordered(c).map((m,I)=>function k(p,c,n,l,v){return function(p,c,n,l){return new(n||(n=Promise))(function(d,m){function I(b){try{S(l.next(b))}catch(x){m(x)}}function y(b){try{S(l.throw(b))}catch(x){m(x)}}function S(b){b.done?d(b.value):function v(d){return d instanceof n?d:new n(function(m){m(d)})}(b.value).then(I,y)}S((l=l.apply(p,c||[])).next())})}(this,void 0,void 0,function*(){try{const d=yield Promise.resolve(p.provideHover(n,l,v));if(d&&function a(p){return void 0!==p.range&&void 0!==p.contents&&p.contents&&p.contents.length>0}(d))return new A(p,d,c)}catch(d){(0,L.Cp)(d)}})}(m,I,c,n,l));return f.Aq.fromPromises(d).coalesce()}(0,M.sb)("_executeHoverProvider",(p,c,n)=>function _(p,c,n,l){return N(p,c,n,l).map(v=>v.hover).toPromise()}(p.get(u.p).hoverProvider,c,n,s.T.None))},3184:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{ModesHoverController:()=>ft});var f=e(36950),s=e(52425),L=e(95172),M=e(68451),u=e(29584),P=e(42570),A=e(64034),k=e(58059),N=e(74616),_=e(97648),a=e(93379),p=e.n(a),c=e(7795),n=e.n(c),l=e(90569),v=e.n(l),d=e(3565),m=e.n(d),I=e(19216),y=e.n(I),S=e(44589),b=e.n(S),x=e(93039),T={};T.styleTagTransform=b(),T.setAttributes=m(),T.insert=v().bind(null,"head"),T.domAPI=n(),T.insertStyleElement=y(),p()(x.Z,T);const Z=k.$;class G extends s.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new _.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class F extends s.JT{constructor(Ee,Fe,mt){super(),this.actionContainer=k.R3(Ee,Z("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=k.R3(this.actionContainer,Z("a.action")),this.action.setAttribute("role","button"),Fe.iconClass&&k.R3(this.action,Z(`span.icon.${Fe.iconClass}`)),k.R3(this.action,Z("span")).textContent=mt?`${Fe.label} (${mt})`:Fe.label,this._register(k.nm(this.actionContainer,k.tw.CLICK,qt=>{qt.stopPropagation(),qt.preventDefault(),Fe.run(this.actionContainer)})),this._register(k.nm(this.actionContainer,k.tw.KEY_UP,qt=>{new N.y(qt).equals(3)&&(qt.stopPropagation(),qt.preventDefault(),Fe.run(this.actionContainer))})),this.setEnabled(!0)}static render(Ee,Fe,mt){return new F(Ee,Fe,mt)}setEnabled(Ee){Ee?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}var W=e(18337),B=e(94220),z=e(3508),j=e(66778),Y=e(63072),E=e(53663),V=e(52787);class w{constructor(Ee,Fe,mt){this.value=Ee,this.isComplete=Fe,this.hasLoadingMessage=mt}}class fe extends s.JT{constructor(Ee,Fe){super(),this._editor=Ee,this._computer=Fe,this._onResult=this._register(new V.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new Y.pY(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new Y.pY(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new Y.pY(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(55).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(Ee,Fe=!0){this._state=Ee,Fe&&this._fireResult()}_triggerAsyncComputation(){var st,Ee,Fe,mt;this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,Y.zS)(Ee=>this._computer.computeAsync(Ee)),st=this,Ee=void 0,mt=function*(){var Ee,Fe;try{try{for(var Vt,mt=function(st){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,Ee=st[Symbol.asyncIterator];return Ee?Ee.call(st):(st="function"==typeof __values?__values(st):st[Symbol.iterator](),Fe={},mt("next"),mt("throw"),mt("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe);function mt(qt){Fe[qt]=st[qt]&&function(Cn){return new Promise(function(Gt,en){!function Vt(qt,Cn,Gt,en){Promise.resolve(en).then(function(Yt){qt({value:Yt,done:Gt})},Cn)}(Gt,en,(Cn=st[qt](Cn)).done,Cn.value)})}}}(this._asyncIterable);!(Vt=yield mt.next()).done;){const qt=Vt.value;qt&&(this._result.push(qt),this._fireResult())}}catch(qt){Ee={error:qt}}finally{try{Vt&&!Vt.done&&(Fe=mt.return)&&(yield Fe.call(mt))}finally{if(Ee)throw Ee.error}}this._asyncIterableDone=!0,(3===this._state||4===this._state)&&this._setState(0)}catch(qt){(0,E.dL)(qt)}},new((Fe=void 0)||(Fe=Promise))(function(qt,Cn){function Gt(ht){try{Yt(mt.next(ht))}catch(Ct){Cn(Ct)}}function en(ht){try{Yt(mt.throw(ht))}catch(Ct){Cn(Ct)}}function Yt(ht){ht.done?qt(ht.value):function Vt(qt){return qt instanceof Fe?qt:new Fe(function(Cn){Cn(qt)})}(ht.value).then(Gt,en)}Yt((mt=mt.apply(st,Ee||[])).next())})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){3===this._state&&this._setState(4)}_fireResult(){if(1===this._state||2===this._state)return;const Ee=0===this._state,Fe=4===this._state;this._onResult.fire(new w(this._result.slice(0),Ee,Fe))}start(Ee){if(0===Ee)0===this._state&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}var be=e(1754),me=e(59776),Ie=e(64725),ee=e(77090),ce=e(42094),he=function(st,Ee,Fe,mt){var Cn,Vt=arguments.length,qt=Vt<3?Ee:null===mt?mt=Object.getOwnPropertyDescriptor(Ee,Fe):mt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)qt=Reflect.decorate(st,Ee,Fe,mt);else for(var Gt=st.length-1;Gt>=0;Gt--)(Cn=st[Gt])&&(qt=(Vt<3?Cn(qt):Vt>3?Cn(Ee,Fe,qt):Cn(Ee,Fe))||qt);return Vt>3&&qt&&Object.defineProperty(Ee,Fe,qt),qt},de=function(st,Ee){return function(Fe,mt){Ee(Fe,mt,st)}};const ge=k.$;let re=class Zl extends s.JT{constructor(Ee,Fe,mt){super(),this._editor=Ee,this._instantiationService=Fe,this._keybindingService=mt,this._widget=this._register(this._instantiationService.createInstance(Pe,this._editor)),this._isChangingDecorations=!1,this._messages=[],this._messagesAreComplete=!1,this._participants=[];for(const Vt of be.Ae.getAll())this._participants.push(this._instantiationService.createInstance(Vt,this._editor));this._participants.sort((Vt,qt)=>Vt.hoverOrdinal-qt.hoverOrdinal),this._computer=new ie(this._editor,this._participants),this._hoverOperation=this._register(new fe(this._editor,this._computer)),this._register(this._hoverOperation.onResult(Vt=>{this._withResult(Vt.value,Vt.isComplete,Vt.hasLoadingMessage)})),this._register(this._editor.onDidChangeModelDecorations(()=>{this._isChangingDecorations||this._onModelDecorationsChanged()})),this._register(k.mu(this._widget.getDomNode(),"keydown",Vt=>{Vt.equals(9)&&this.hide()})),this._register(j.RW.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.isColorPickerVisible||this._hoverOperation.start(0))}maybeShowAt(Ee){const Fe=[];for(const Vt of this._participants)if(Vt.suggestHoverAnchor){const qt=Vt.suggestHoverAnchor(Ee);qt&&Fe.push(qt)}const mt=Ee.target;if(6===mt.type&&Fe.push(new be.Qj(0,mt.range)),7===mt.type){const Vt=this._editor.getOption(46).typicalHalfwidthCharacterWidth/2;!mt.detail.isAfterLines&&"number"==typeof mt.detail.horizontalDistanceToText&&mt.detail.horizontalDistanceToText<Vt&&Fe.push(new be.Qj(0,mt.range))}return 0!==Fe.length&&(Fe.sort((Vt,qt)=>qt.priority-Vt.priority),this._startShowingAt(Fe[0],0,!1),!0)}startShowingAtRange(Ee,Fe,mt){this._startShowingAt(new be.Qj(0,Ee),Fe,mt)}_startShowingAt(Ee,Fe,mt){if(!this._computer.anchor||!this._computer.anchor.equals(Ee)){if(this._hoverOperation.cancel(),this._widget.position)if(this._computer.anchor&&Ee.canAdoptVisibleHover(this._computer.anchor,this._widget.position)){const Vt=this._messages.filter(qt=>qt.isValidForHoverAnchor(Ee));if(0===Vt.length)this.hide();else{if(Vt.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(Ee,Vt)}}else this.hide();this._computer.anchor=Ee,this._computer.shouldFocus=mt,this._hoverOperation.start(Fe)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return this._widget.isColorPickerVisible}containsNode(Ee){return this._widget.getDomNode().contains(Ee)}_addLoadingMessage(Ee){if(this._computer.anchor)for(const Fe of this._participants)if(Fe.createLoadingMessage){const mt=Fe.createLoadingMessage(this._computer.anchor);if(mt)return Ee.slice(0).concat([mt])}return Ee}_withResult(Ee,Fe,mt){this._messages=mt?this._addLoadingMessage(Ee):Ee,this._messagesAreComplete=Fe,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):Fe&&this.hide()}_renderMessages(Ee,Fe){const{showAtPosition:mt,showAtRange:Vt,highlightRange:qt}=Zl.computeHoverRanges(Ee.range,Fe),Cn=new s.SL,Gt=Cn.add(new Ve(this._keybindingService)),en=document.createDocumentFragment();let Yt=null;const ht={fragment:en,statusBar:Gt,setColorPicker:Ct=>Yt=Ct,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const Ct of this._participants){const rn=Fe.filter(jt=>jt.owner===Ct);rn.length>0&&Cn.add(Ct.renderHoverParts(ht,rn))}if(Gt.hasContent&&en.appendChild(Gt.hoverElement),en.hasChildNodes()){if(qt){const Ct=this._editor.createDecorationsCollection();try{this._isChangingDecorations=!0,Ct.set([{range:qt,options:Zl._DECORATION_OPTIONS}])}finally{this._isChangingDecorations=!1}Cn.add((0,s.OF)(()=>{try{this._isChangingDecorations=!0,Ct.clear()}finally{this._isChangingDecorations=!1}}))}this._widget.showAt(en,new Se(Yt,mt,Vt,this._editor.getOption(55).above,this._computer.shouldFocus,Cn))}else Cn.dispose()}static computeHoverRanges(Ee,Fe){const mt=Ee.startLineNumber;let Vt=Ee.startColumn,qt=Ee.endColumn,Cn=Fe[0].range,Gt=null;for(const en of Fe)Cn=M.e.plusRange(Cn,en.range),en.range.startLineNumber===mt&&en.range.endLineNumber===mt&&(Vt=Math.min(Vt,en.range.startColumn),qt=Math.max(qt,en.range.endColumn)),en.forceShowAtRange&&(Gt=en.range);return{showAtPosition:Gt?Gt.getStartPosition():new B.L(Ee.startLineNumber,Vt),showAtRange:Gt||new M.e(mt,Vt,mt,qt),highlightRange:Cn}}};re._DECORATION_OPTIONS=z.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),re=he([de(1,Ie.TG),de(2,ee.d)],re);class Se{constructor(Ee,Fe,mt,Vt,qt,Cn){this.colorPicker=Ee,this.showAtPosition=Fe,this.showAtRange=mt,this.preferAbove=Vt,this.stoleFocus=qt,this.disposables=Cn}}let Pe=class $d extends s.JT{constructor(Ee,Fe){super(),this._editor=Ee,this._contextKeyService=Fe,this.allowEditorOverflow=!0,this._hoverVisibleKey=u.u.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new G),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(mt=>{mt.hasChanged(46)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var Ee,Fe;return null!==(Fe=null===(Ee=this._visibleData)||void 0===Ee?void 0:Ee.showAtPosition)&&void 0!==Fe?Fe:null}get isColorPickerVisible(){var Ee;return Boolean(null===(Ee=this._visibleData)||void 0===Ee?void 0:Ee.colorPicker)}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return $d.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let Ee=this._visibleData.preferAbove;return!Ee&&this._contextKeyService.getContextKeyValue(ce._y.Visible.key)&&(Ee=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:Ee?[1,2]:[2,1]}}_setVisibleData(Ee){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=Ee,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const Ee=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:Fe,lineHeight:mt}=this._editor.getOption(46);this._hover.contentsDomNode.style.fontSize=`${Fe}px`,this._hover.contentsDomNode.style.lineHeight=""+mt/Fe,this._hover.contentsDomNode.style.maxHeight=`${Ee}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(.66*this._editor.getLayoutInfo().width,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(Fe=>this._editor.applyFontInfo(Fe))}showAt(Ee,Fe){this._setVisibleData(Fe),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(Ee),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this.onContentsChanged(),this._editor.render(),this.onContentsChanged(),Fe.stoleFocus&&this._hover.containerDomNode.focus(),Fe.colorPicker&&Fe.colorPicker.layout()}hide(){if(this._visibleData){const Ee=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),Ee&&this._editor.focus()}}onContentsChanged(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged();const Ee=this._hover.scrollbar.getScrollDimensions();if(Ee.scrollWidth>Ee.width){const mt=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==mt&&(this._hover.contentsDomNode.style.paddingBottom=mt,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};Pe.ID="editor.contrib.contentHoverWidget",Pe=he([de(1,me.i6)],Pe);let Ve=class extends s.JT{constructor(Ee){super(),this._keybindingService=Ee,this._hasContent=!1,this.hoverElement=ge("div.hover-row.status-bar"),this.actionsElement=k.R3(this.hoverElement,ge("div.actions"))}get hasContent(){return this._hasContent}addAction(Ee){const Fe=this._keybindingService.lookupKeybinding(Ee.commandId),mt=Fe?Fe.getLabel():null;return this._hasContent=!0,this._register(F.render(this.actionsElement,Ee,mt))}append(Ee){const Fe=k.R3(this.actionsElement,Ee);return this._hasContent=!0,Fe}};Ve=he([de(0,ee.d)],Ve);class ie{constructor(Ee,Fe){this._editor=Ee,this._participants=Fe,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(Ee){this._anchor=Ee}get shouldFocus(){return this._shouldFocus}set shouldFocus(Ee){this._shouldFocus=Ee}static _getLineDecorations(Ee,Fe){if(1!==Fe.type)return[];const mt=Ee.getModel(),Vt=Fe.range.startLineNumber;if(Vt>mt.getLineCount())return[];const qt=mt.getLineMaxColumn(Vt);return Ee.getLineDecorations(Vt).filter(Cn=>{if(Cn.options.isWholeLine)return!0;const Gt=Cn.range.startLineNumber===Vt?Cn.range.startColumn:1,en=Cn.range.endLineNumber===Vt?Cn.range.endColumn:qt;if(Cn.options.showIfCollapsed){if(Gt>Fe.range.startColumn+1||Fe.range.endColumn-1>en)return!1}else if(Gt>Fe.range.startColumn||Fe.range.endColumn>en)return!1;return!0})}computeAsync(Ee){const Fe=this._anchor;if(!this._editor.hasModel()||!Fe)return Y.Aq.EMPTY;const mt=ie._getLineDecorations(this._editor,Fe);return Y.Aq.merge(this._participants.map(Vt=>Vt.computeAsync?Vt.computeAsync(Fe,mt,Ee):Y.Aq.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const Ee=ie._getLineDecorations(this._editor,this._anchor);let Fe=[];for(const mt of this._participants)Fe=Fe.concat(mt.computeSync(this._anchor,Ee));return(0,W.kX)(Fe)}}var ye=e(22468),_e=e(53873),Be=e(26589);const Qe=k.$;let Ae=(()=>{class st extends s.JT{constructor(Fe,mt,Vt=Be.SW){super(),this._renderDisposeables=this._register(new s.SL),this._editor=Fe,this._isVisible=!1,this._messages=[],this._hover=this._register(new G),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new _e.$({editor:this._editor},mt,Vt)),this._computer=new pe(this._editor),this._hoverOperation=this._register(new fe(this._editor,this._computer)),this._register(this._hoverOperation.onResult(qt=>{this._withResult(qt.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(qt=>{qt.hasChanged(46)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return st.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(mt=>this._editor.applyFontInfo(mt))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(Fe){this._computer.lineNumber!==Fe&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=Fe,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(Fe){this._messages=Fe,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(Fe,mt){this._renderDisposeables.clear();const Vt=document.createDocumentFragment();for(const qt of mt){const Cn=Qe("div.hover-row.markdown-hover"),Gt=k.R3(Cn,Qe("div.hover-contents")),en=this._renderDisposeables.add(this._markdownRenderer.render(qt.value));Gt.appendChild(en.element),Vt.appendChild(Cn)}this._updateContents(Vt),this._showAt(Fe)}_updateContents(Fe){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(Fe),this._updateFont()}_showAt(Fe){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const mt=this._editor.getLayoutInfo(),Vt=this._editor.getTopForLineNumber(Fe),qt=this._editor.getScrollTop(),Cn=this._editor.getOption(61),en=Vt-qt-(this._hover.containerDomNode.clientHeight-Cn)/2;this._hover.containerDomNode.style.left=`${mt.glyphMarginLeft+mt.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(en),0)}px`}}return st.ID="editor.contrib.modesGlyphHoverWidget",st})();class pe{constructor(Ee){this._editor=Ee,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(Ee){this._lineNumber=Ee}computeSync(){const Ee=Vt=>({value:Vt}),Fe=this._editor.getLineDecorations(this._lineNumber),mt=[];if(!Fe)return mt;for(const Vt of Fe){if(!Vt.options.glyphMarginClassName)continue;const qt=Vt.options.glyphMarginHoverMessage;!qt||(0,ye.CP)(qt)||mt.push(...(0,W._2)(qt).map(Ee))}return mt}}var De=e(40402),Oe=e(28708),Ne=e(23024),ne=e(43306),xe=e(15151),Je=e(82945),gt=e(63124),lt=e(40184),Ke=e(57025),He=e(24617),Ue=e(12882),ot=e(22534),et=e(37464),Mt=function(st,Ee){return function(Fe,mt){Ee(Fe,mt,st)}};const Nt=k.$;class ze{constructor(Ee,Fe,mt){this.owner=Ee,this.range=Fe,this.marker=mt}isValidForHoverAnchor(Ee){return 1===Ee.type&&this.range.startColumn<=Ee.range.startColumn&&this.range.endColumn>=Ee.range.endColumn}}const dt={type:1,filter:{include:Ke.yN.QuickFix},triggerAction:Ke.aQ.QuickFixHover};let $t=class{constructor(Ee,Fe,mt,Vt){this._editor=Ee,this._markerDecorationsService=Fe,this._openerService=mt,this._languageFeaturesService=Vt,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}computeSync(Ee,Fe){if(!this._editor.hasModel()||1!==Ee.type)return[];const mt=this._editor.getModel(),Vt=Ee.range.startLineNumber,qt=mt.getLineMaxColumn(Vt),Cn=[];for(const Gt of Fe){const en=Gt.range.startLineNumber===Vt?Gt.range.startColumn:1,Yt=Gt.range.endLineNumber===Vt?Gt.range.endColumn:qt,ht=this._markerDecorationsService.getMarker(mt.uri,Gt);if(!ht)continue;const Ct=new M.e(Ee.range.startLineNumber,en,Ee.range.startLineNumber,Yt);Cn.push(new ze(this,Ct,ht))}return Cn}renderHoverParts(Ee,Fe){if(!Fe.length)return s.JT.None;const mt=new s.SL;Fe.forEach(qt=>Ee.fragment.appendChild(this.renderMarkerHover(qt,mt)));const Vt=1===Fe.length?Fe[0]:Fe.sort((qt,Cn)=>Ue.ZL.compare(qt.marker.severity,Cn.marker.severity))[0];return this.renderMarkerStatusbar(Ee,Vt,mt),mt}renderMarkerHover(Ee,Fe){const mt=Nt("div.hover-row"),Vt=k.R3(mt,Nt("div.marker.hover-contents")),{source:qt,message:Cn,code:Gt,relatedInformation:en}=Ee.marker;this._editor.applyFontInfo(Vt);const Yt=k.R3(Vt,Nt("span"));if(Yt.style.whiteSpace="pre-wrap",Yt.innerText=Cn,qt||Gt)if(Gt&&"string"!=typeof Gt){const ht=Nt("span");qt&&(k.R3(ht,Nt("span")).innerText=qt);const Ct=k.R3(ht,Nt("a.code-link"));Ct.setAttribute("href",Gt.target.toString()),Fe.add(k.nm(Ct,"click",yn=>{this._openerService.open(Gt.target,{allowCommands:!0}),yn.preventDefault(),yn.stopPropagation()})),k.R3(Ct,Nt("span")).innerText=Gt.value;const jt=k.R3(Vt,ht);jt.style.opacity="0.6",jt.style.paddingLeft="6px"}else{const ht=k.R3(Vt,Nt("span"));ht.style.opacity="0.6",ht.style.paddingLeft="6px",ht.innerText=qt&&Gt?`${qt}(${Gt})`:qt||`(${Gt})`}if((0,W.Of)(en))for(const{message:ht,resource:Ct,startLineNumber:rn,startColumn:jt}of en){const yn=k.R3(Vt,Nt("div"));yn.style.marginTop="8px";const En=k.R3(yn,Nt("a"));En.innerText=`${(0,xe.EZ)(Ct)}(${rn}, ${jt}): `,En.style.cursor="pointer",Fe.add(k.nm(En,"click",Un=>{Un.stopPropagation(),Un.preventDefault(),this._openerService&&this._openerService.open(Ct,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:rn,startColumn:jt}}}).catch(E.dL)}));const xn=k.R3(yn,Nt("span"));xn.innerText=ht,this._editor.applyFontInfo(xn)}return mt}renderMarkerStatusbar(Ee,Fe,mt){if((Fe.marker.severity===Ue.ZL.Error||Fe.marker.severity===Ue.ZL.Warning||Fe.marker.severity===Ue.ZL.Info)&&Ee.statusBar.addAction({label:De.NC("view problem","View Problem"),commandId:He.NextMarkerAction.ID,run:()=>{var Vt;Ee.hide(),null===(Vt=He.MarkerController.get(this._editor))||void 0===Vt||Vt.showAtMarker(Fe.marker),this._editor.focus()}}),!this._editor.getOption(83)){const Vt=Ee.statusBar.append(Nt("div"));this.recentMarkerCodeActionsInfo&&(Ue.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===Ue.H0.makeKey(Fe.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(Vt.textContent=De.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const qt=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?s.JT.None:mt.add((0,Y.Vg)(()=>Vt.textContent=De.NC("checkingForQuickFixes","Checking for quick fixes..."),200));Vt.textContent||(Vt.textContent=String.fromCharCode(160));const Cn=this.getCodeActions(Fe.marker);mt.add((0,s.OF)(()=>Cn.cancel())),Cn.then(Gt=>{if(qt.dispose(),this.recentMarkerCodeActionsInfo={marker:Fe.marker,hasCodeActions:Gt.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions)return Gt.dispose(),void(Vt.textContent=De.NC("noQuickFixes","No quick fixes available"));Vt.style.display="none";let en=!1;mt.add((0,s.OF)(()=>{en||Gt.dispose()})),Ee.statusBar.addAction({label:De.NC("quick fixes","Quick Fix..."),commandId:lt.E7.Id,run:Yt=>{en=!0;const ht=lt.pY.get(this._editor),Ct=k.i(Yt);Ee.hide(),null==ht||ht.showCodeActions(dt,Gt,{x:Ct.left+6,y:Ct.top+Ct.height+6,width:Ct.width,height:Ct.height})}})},E.dL)}}getCodeActions(Ee){return(0,Y.PG)(Fe=>(0,gt.aI)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new M.e(Ee.startLineNumber,Ee.startColumn,Ee.endLineNumber,Ee.endColumn),dt,ot.Ex.None,Fe))}};$t=function(st,Ee,Fe,mt){var Cn,Vt=arguments.length,qt=Vt<3?Ee:null===mt?mt=Object.getOwnPropertyDescriptor(Ee,Fe):mt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)qt=Reflect.decorate(st,Ee,Fe,mt);else for(var Gt=st.length-1;Gt>=0;Gt--)(Cn=st[Gt])&&(qt=(Vt<3?Cn(qt):Vt>3?Cn(Ee,Fe,qt):Cn(Ee,Fe))||qt);return Vt>3&&qt&&Object.defineProperty(Ee,Fe,qt),qt}([Mt(1,Je.i),Mt(2,Be.v4),Mt(3,et.p)],$t),(0,Ne.Ic)((st,Ee)=>{const Fe=st.getColor(Oe.url);Fe&&Ee.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${Fe}; }`);const mt=st.getColor(Oe.sgC);mt&&Ee.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${mt}; }`)});var vn=function(st,Ee){return function(Fe,mt){Ee(Fe,mt,st)}};let ft=class Gd{constructor(Ee,Fe,mt,Vt,qt){this._editor=Ee,this._instantiationService=Fe,this._openerService=mt,this._languageService=Vt,this._toUnhook=new s.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(Cn=>{Cn.hasChanged(55)&&(this._unhookEvents(),this._hookEvents())})}static get(Ee){return Ee.getContribution(Gd.ID)}_hookEvents(){const Fe=this._editor.getOption(55);this._isHoverEnabled=Fe.enabled,this._isHoverSticky=Fe.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(mt=>this._onEditorMouseDown(mt))),this._toUnhook.add(this._editor.onMouseUp(mt=>this._onEditorMouseUp(mt))),this._toUnhook.add(this._editor.onMouseMove(mt=>this._onEditorMouseMove(mt))),this._toUnhook.add(this._editor.onKeyDown(mt=>this._onKeyDown(mt)))):(this._toUnhook.add(this._editor.onMouseMove(mt=>this._onEditorMouseMove(mt))),this._toUnhook.add(this._editor.onKeyDown(mt=>this._onKeyDown(mt)))),this._toUnhook.add(this._editor.onMouseLeave(mt=>this._onEditorMouseLeave(mt))),this._toUnhook.add(this._editor.onDidChangeModel(()=>this._hideWidgets())),this._toUnhook.add(this._editor.onDidScrollChange(mt=>this._onEditorScrollChanged(mt)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(Ee){(Ee.scrollTopChanged||Ee.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(Ee){this._isMouseDown=!0;const Fe=Ee.target;9!==Fe.type||Fe.detail!==Pe.ID?12===Fe.type&&Fe.detail===Ae.ID||(12!==Fe.type&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}_onEditorMouseUp(Ee){this._isMouseDown=!1}_onEditorMouseLeave(Ee){var Fe;null!==(Fe=this._contentWidget)&&void 0!==Fe&&Fe.containsNode(Ee.event.browserEvent.relatedTarget)||this._hideWidgets()}_onEditorMouseMove(Ee){var Fe,mt,Vt,qt,Cn;const Gt=Ee.target;if(!(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&9===Gt.type&&Gt.detail===Pe.ID||this._isHoverSticky&&(null===(mt=null===(Fe=Ee.event.browserEvent.view)||void 0===Fe?void 0:Fe.getSelection())||void 0===mt||!mt.isCollapsed)||!this._isHoverSticky&&9===Gt.type&&Gt.detail===Pe.ID&&(null===(Vt=this._contentWidget)||void 0===Vt?void 0:Vt.isColorPickerVisible())||this._isHoverSticky&&12===Gt.type&&Gt.detail===Ae.ID))if(this._isHoverEnabled){if(!this._getOrCreateContentWidget().maybeShowAt(Ee))return 2===Gt.type&&Gt.position?(null===(Cn=this._contentWidget)||void 0===Cn||Cn.hide(),this._glyphWidget||(this._glyphWidget=new Ae(this._editor,this._languageService,this._openerService)),void this._glyphWidget.startShowingAt(Gt.position.lineNumber)):void this._hideWidgets();null===(qt=this._glyphWidget)||void 0===qt||qt.hide()}else this._hideWidgets()}_onKeyDown(Ee){5!==Ee.keyCode&&6!==Ee.keyCode&&57!==Ee.keyCode&&4!==Ee.keyCode&&this._hideWidgets()}_hideWidgets(){var Ee,Fe,mt;this._isMouseDown&&this._hoverClicked&&(null===(Ee=this._contentWidget)||void 0===Ee?void 0:Ee.isColorPickerVisible())||(this._hoverClicked=!1,null===(Fe=this._glyphWidget)||void 0===Fe||Fe.hide(),null===(mt=this._contentWidget)||void 0===mt||mt.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(re,this._editor)),this._contentWidget}isColorPickerVisible(){var Ee;return(null===(Ee=this._contentWidget)||void 0===Ee?void 0:Ee.isColorPickerVisible())||!1}showContentHover(Ee,Fe,mt){this._getOrCreateContentWidget().startShowingAtRange(Ee,Fe,mt)}dispose(){var Ee,Fe;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(Ee=this._glyphWidget)||void 0===Ee||Ee.dispose(),null===(Fe=this._contentWidget)||void 0===Fe||Fe.dispose()}};ft.ID="editor.contrib.hover",ft=function(st,Ee,Fe,mt){var Cn,Vt=arguments.length,qt=Vt<3?Ee:null===mt?mt=Object.getOwnPropertyDescriptor(Ee,Fe):mt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)qt=Reflect.decorate(st,Ee,Fe,mt);else for(var Gt=st.length-1;Gt>=0;Gt--)(Cn=st[Gt])&&(qt=(Vt<3?Cn(qt):Vt>3?Cn(Ee,Fe,qt):Cn(Ee,Fe))||qt);return Vt>3&&qt&&Object.defineProperty(Ee,Fe,qt),qt}([vn(1,Ie.TG),vn(2,Be.v4),vn(3,P.O),vn(4,me.i6)],ft),(0,L._K)(ft.ID,ft),(0,L.Qr)(class ke extends L.R6{constructor(){super({id:"editor.action.showHover",label:De.NC({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:u.u.editorTextFocus,primary:(0,f.gx)(2089,2087),weight:100}})}run(Ee,Fe){if(!Fe.hasModel())return;const mt=ft.get(Fe);if(!mt)return;const Vt=Fe.getPosition(),qt=new M.e(Vt.lineNumber,Vt.column,Vt.lineNumber,Vt.column),Cn=2===Fe.getOption(2);mt.showContentHover(qt,1,Cn)}}),(0,L.Qr)(class nt extends L.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:De.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(Ee,Fe){const mt=ft.get(Fe);if(!mt)return;const Vt=Fe.getPosition();if(!Vt)return;const qt=new M.e(Vt.lineNumber,Vt.column,Vt.lineNumber,Vt.column),Cn=A.GotoDefinitionAtPositionEditorContribution.get(Fe);Cn&&Cn.startFindDefinitionFromCursor(Vt).then(()=>{mt.showContentHover(qt,1,!0)})}}),be.Ae.register(ne.D5),be.Ae.register($t),(0,Ne.Ic)((st,Ee)=>{const Fe=st.getColor(Oe.ptc);Fe&&Ee.addRule(`.monaco-editor .hoverHighlight { background-color: ${Fe}; }`);const mt=st.getColor(Oe.yJx);mt&&Ee.addRule(`.monaco-editor .monaco-hover { background-color: ${mt}; }`);const Vt=st.getColor(Oe.CNo);Vt&&(Ee.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${Vt}; }`),Ee.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${Vt.transparent(.5)}; }`),Ee.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${Vt.transparent(.5)}; }`),Ee.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${Vt.transparent(.5)}; }`));const qt=st.getColor(Oe.url);qt&&Ee.addRule(`.monaco-editor .monaco-hover a { color: ${qt}; }`);const Cn=st.getColor(Oe.sgC);Cn&&Ee.addRule(`.monaco-editor .monaco-hover a:hover { color: ${Cn}; }`);const Gt=st.getColor(Oe.Sbf);Gt&&Ee.addRule(`.monaco-editor .monaco-hover { color: ${Gt}; }`);const en=st.getColor(Oe.LoV);en&&Ee.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${en}; }`);const Yt=st.getColor(Oe.SwI);Yt&&Ee.addRule(`.monaco-editor .monaco-hover code { background-color: ${Yt}; }`)})},1754:(at,ue,e)=>{"use strict";e.d(ue,{Ae:()=>L,Qj:()=>f,YM:()=>s});class f{constructor(u,P){this.priority=u,this.range=P,this.type=1}equals(u){return 1===u.type&&this.range.equalsRange(u.range)}canAdoptVisibleHover(u,P){return 1===u.type&&P.lineNumber===this.range.startLineNumber}}class s{constructor(u,P,A){this.priority=u,this.owner=P,this.range=A,this.type=2}equals(u){return 2===u.type&&this.owner===u.owner}canAdoptVisibleHover(u,P){return 2===u.type&&this.owner===u.owner}}const L=new class{constructor(){this._participants=[]}register(u){this._participants.push(u)}getAll(){return this._participants}}},43306:(at,ue,e)=>{"use strict";e.d(ue,{D5:()=>I,c:()=>y,hU:()=>m});var f=e(58059),s=e(18337),L=e(63072),M=e(22468),u=e(52425),P=e(53873),A=e(94220),k=e(68451),N=e(42570),_=e(86742),a=e(40402),p=e(9869),c=e(26589),n=e(37464),v=function(S,b){return function(x,T){b(x,T,S)}};const d=f.$;class m{constructor(b,x,T,R){this.owner=b,this.range=x,this.contents=T,this.ordinal=R}isValidForHoverAnchor(b){return 1===b.type&&this.range.startColumn<=b.range.startColumn&&this.range.endColumn>=b.range.endColumn}}let I=class{constructor(b,x,T,R,Q){this._editor=b,this._languageService=x,this._openerService=T,this._configurationService=R,this._languageFeaturesService=Q,this.hoverOrdinal=2}createLoadingMessage(b){return new m(this,b.range,[(new M.W5).appendText(a.NC("modesContentHover.loading","Loading..."))],2e3)}computeSync(b,x){if(!this._editor.hasModel()||1!==b.type)return[];const T=this._editor.getModel(),R=b.range.startLineNumber,Q=T.getLineMaxColumn(R),Z=[];let G=1e3;const F=T.getLineLength(R),W=T.getLanguageIdAtPosition(b.range.startLineNumber,b.range.startColumn),B=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:W});"number"==typeof B&&F>=B&&Z.push(new m(this,b.range,[{value:a.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],G++));for(const z of x){const j=z.range.startLineNumber===R?z.range.startColumn:1,Y=z.range.endLineNumber===R?z.range.endColumn:Q,E=z.options.hoverMessage;if(!E||(0,M.CP)(E))continue;const V=new k.e(b.range.startLineNumber,j,b.range.startLineNumber,Y);Z.push(new m(this,V,(0,s._2)(E),G++))}return Z}computeAsync(b,x,T){if(!this._editor.hasModel()||1!==b.type)return L.Aq.EMPTY;const R=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(R))return L.Aq.EMPTY;const Q=new A.L(b.range.startLineNumber,b.range.startColumn);return(0,_.R8)(this._languageFeaturesService.hoverProvider,R,Q,T).filter(Z=>!(0,M.CP)(Z.hover.contents)).map(Z=>{const G=Z.hover.range?k.e.lift(Z.hover.range):b.range;return new m(this,G,Z.hover.contents,Z.ordinal)})}renderHoverParts(b,x){return y(b,x,this._editor,this._languageService,this._openerService)}};function y(S,b,x,T,R){b.sort((Z,G)=>Z.ordinal-G.ordinal);const Q=new u.SL;for(const Z of b)for(const G of Z.contents){if((0,M.CP)(G))continue;const F=d("div.hover-row.markdown-hover"),W=f.R3(F,d("div.hover-contents")),B=Q.add(new P.$({editor:x},T,R));Q.add(B.onDidRenderAsync(()=>{W.className="hover-contents code-hover-contents",S.onContentsChanged()}));const z=Q.add(B.render(G));W.appendChild(z.element),S.fragment.appendChild(F)}return Q}I=function(S,b,x,T){var Z,R=arguments.length,Q=R<3?b:null===T?T=Object.getOwnPropertyDescriptor(b,x):T;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Q=Reflect.decorate(S,b,x,T);else for(var G=S.length-1;G>=0;G--)(Z=S[G])&&(Q=(R<3?Z(Q):R>3?Z(b,x,Q):Z(b,x))||Q);return R>3&&Q&&Object.defineProperty(b,x,Q),Q}([v(1,N.O),v(2,c.v4),v(3,p.Ui),v(4,n.p)],I)},35852:(at,ue,e)=>{"use strict";e.r(ue);var f=e(63072),s=e(53663),L=e(23914),M=e(95172),u=e(68451),P=e(43210),A=e(29584),k=e(3508),N=e(84084),_=e(53448),a=e(40402),p=e(23024);class c{constructor(y,S,b){this._editRange=y,this._originalSelection=S,this._text=b}getEditOperations(y,S){S.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(y,S){const x=S.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new P.Y(x.endLineNumber,Math.min(this._originalSelection.positionColumn,x.endColumn),x.endLineNumber,Math.min(this._originalSelection.positionColumn,x.endColumn)):new P.Y(x.endLineNumber,x.endColumn-this._text.length,x.endLineNumber,x.endColumn)}}let v=class Ql{constructor(y,S){this.editor=y,this.editorWorkerService=S,this.decorations=this.editor.createDecorationsCollection()}static get(y){return y.getContribution(Ql.ID)}dispose(){}run(y,S){this.currentRequest&&this.currentRequest.cancel();const b=this.editor.getSelection(),x=this.editor.getModel();if(!x||!b)return;let T=b;if(T.startLineNumber!==T.endLineNumber)return;const R=new L.yy(this.editor,5),Q=x.uri;return this.editorWorkerService.canNavigateValueSet(Q)?(this.currentRequest=(0,f.PG)(Z=>this.editorWorkerService.navigateValueSet(Q,T,S)),this.currentRequest.then(Z=>{if(!(Z&&Z.range&&Z.value&&R.validate(this.editor)))return;const G=u.e.lift(Z.range);let F=Z.range;const W=Z.value.length-(T.endColumn-T.startColumn);F={startLineNumber:F.startLineNumber,startColumn:F.startColumn,endLineNumber:F.endLineNumber,endColumn:F.startColumn+Z.value.length},W>1&&(T=new P.Y(T.startLineNumber,T.startColumn,T.endLineNumber,T.endColumn+W-1));const B=new c(G,T,Z.value);this.editor.pushUndoStop(),this.editor.executeCommand(y,B),this.editor.pushUndoStop(),this.decorations.set([{range:F,options:Ql.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,f.Vs)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(s.dL)}).catch(s.dL)):Promise.resolve(void 0)}};var y;v.ID="editor.contrib.inPlaceReplaceController",v.DECORATION=k.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),v=function(I,y,S,b){var R,x=arguments.length,T=x<3?y:null===b?b=Object.getOwnPropertyDescriptor(y,S):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(I,y,S,b);else for(var Q=I.length-1;Q>=0;Q--)(R=I[Q])&&(T=(x<3?R(T):x>3?R(y,S,T):R(y,S))||T);return x>3&&T&&Object.defineProperty(y,S,T),T}([(1,y=N.p,function(S,b){y(S,b,1)})],v),(0,M._K)(v.ID,v),(0,M.Qr)(class d extends M.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:a.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:A.u.writable,kbOpts:{kbExpr:A.u.editorTextFocus,primary:3154,weight:100}})}run(y,S){const b=v.get(S);return b?b.run(this.id,!0):Promise.resolve(void 0)}}),(0,M.Qr)(class m extends M.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:a.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:A.u.writable,kbOpts:{kbExpr:A.u.editorTextFocus,primary:3156,weight:100}})}run(y,S){const b=v.get(S);return b?b.run(this.id,!1):Promise.resolve(void 0)}}),(0,p.Ic)((I,y)=>{const S=I.getColor(_.Dl);S&&y.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${S}; }`)})},75951:(at,ue,e)=>{"use strict";function f(L,M){let u=0;for(let P=0;P<L.length;P++)"\t"===L.charAt(P)?u+=M:u++;return u}function s(L,M,u){L=L<0?0:L;let P="";if(!u){const A=Math.floor(L/M);L%=M;for(let k=0;k<A;k++)P+="\t"}for(let A=0;A<L;A++)P+=" ";return P}e.d(ue,{J:()=>s,Y:()=>f})},6585:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{AutoIndentOnPaste:()=>G,AutoIndentOnPasteCommand:()=>Z,ChangeIndentationSizeAction:()=>S,DetectIndentation:()=>T,IndentUsingSpaces:()=>x,IndentUsingTabs:()=>b,IndentationToSpacesAction:()=>I,IndentationToSpacesCommand:()=>W,IndentationToTabsAction:()=>y,IndentationToTabsCommand:()=>B,ReindentLinesAction:()=>R,ReindentSelectedLinesAction:()=>Q,getReindentEditOperations:()=>m});var f=e(52425),s=e(93059),L=e(95172),M=e(81050),u=e(12033),P=e(68451),A=e(43210),k=e(29584),N=e(23924),_=e(8648),a=e(75951),p=e(40402),c=e(17098),n=e(96910),l=e(88030);function m(z,j,Y,E,V){if(1===z.getLineCount()&&1===z.getLineMaxColumn(1))return[];const $=j.getLanguageConfiguration(z.getLanguageId()).indentationRules;if(!$)return[];for(E=Math.min(E,z.getLineCount());Y<=E&&$.unIndentedLinePattern;){const ge=z.getLineContent(Y);if(!$.unIndentedLinePattern.test(ge))break;Y++}if(Y>E-1)return[];const{tabSize:te,indentSize:w,insertSpaces:fe}=z.getOptions(),be=(ge,re)=>M.U.shiftIndent(ge,ge.length+(re=re||1),te,w,fe),me=(ge,re)=>M.U.unshiftIndent(ge,ge.length+(re=re||1),te,w,fe),Ie=[];let ee;const ce=z.getLineContent(Y);let he=ce;if(null!=V){ee=V;const ge=s.V8(ce);he=ee+ce.substring(ge.length),$.decreaseIndentPattern&&$.decreaseIndentPattern.test(he)&&(ee=me(ee),he=ee+ce.substring(ge.length)),ce!==he&&Ie.push(u.h.replaceMove(new A.Y(Y,1,Y,ge.length+1),(0,n.x)(ee,w,fe)))}else ee=s.V8(ce);let de=ee;$.increaseIndentPattern&&$.increaseIndentPattern.test(he)?(de=be(de),ee=be(ee)):$.indentNextLinePattern&&$.indentNextLinePattern.test(he)&&(de=be(de));for(let ge=++Y;ge<=E;ge++){const re=z.getLineContent(ge),Se=s.V8(re),Pe=de+re.substring(Se.length);$.decreaseIndentPattern&&$.decreaseIndentPattern.test(Pe)&&(de=me(de),ee=me(ee)),Se!==de&&Ie.push(u.h.replaceMove(new A.Y(ge,1,ge,Se.length+1),(0,n.x)(de,w,fe))),(!$.unIndentedLinePattern||!$.unIndentedLinePattern.test(re))&&($.increaseIndentPattern&&$.increaseIndentPattern.test(Pe)?(ee=be(ee),de=ee):de=$.indentNextLinePattern&&$.indentNextLinePattern.test(Pe)?be(de):ee)}return Ie}let I=(()=>{class z extends L.R6{constructor(){super({id:z.ID,label:p.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:k.u.writable})}run(Y,E){const V=E.getModel();if(!V)return;const $=V.getOptions(),te=E.getSelection();if(!te)return;const w=new W(te,$.tabSize);E.pushUndoStop(),E.executeCommands(this.id,[w]),E.pushUndoStop(),V.updateOptions({insertSpaces:!0})}}return z.ID="editor.action.indentationToSpaces",z})(),y=(()=>{class z extends L.R6{constructor(){super({id:z.ID,label:p.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:k.u.writable})}run(Y,E){const V=E.getModel();if(!V)return;const $=V.getOptions(),te=E.getSelection();if(!te)return;const w=new B(te,$.tabSize);E.pushUndoStop(),E.executeCommands(this.id,[w]),E.pushUndoStop(),V.updateOptions({insertSpaces:!1})}}return z.ID="editor.action.indentationToTabs",z})();class S extends L.R6{constructor(j,Y){super(Y),this.insertSpaces=j}run(j,Y){const E=j.get(c.eJ),V=j.get(_.q),$=Y.getModel();if(!$)return;const te=V.getCreationOptions($.getLanguageId(),$.uri,$.isForSimpleWidget),w=[1,2,3,4,5,6,7,8].map(be=>({id:be.toString(),label:be.toString(),description:be===te.tabSize?p.NC("configuredTabSize","Configured Tab Size"):void 0})),fe=Math.min($.getOptions().tabSize-1,7);setTimeout(()=>{E.pick(w,{placeHolder:p.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:w[fe]}).then(be=>{be&&$&&!$.isDisposed()&&$.updateOptions({tabSize:parseInt(be.label,10),insertSpaces:this.insertSpaces})})},50)}}let b=(()=>{class z extends S{constructor(){super(!1,{id:z.ID,label:p.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}return z.ID="editor.action.indentUsingTabs",z})(),x=(()=>{class z extends S{constructor(){super(!0,{id:z.ID,label:p.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}return z.ID="editor.action.indentUsingSpaces",z})(),T=(()=>{class z extends L.R6{constructor(){super({id:z.ID,label:p.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(Y,E){const V=Y.get(_.q),$=E.getModel();if(!$)return;const te=V.getCreationOptions($.getLanguageId(),$.uri,$.isForSimpleWidget);$.detectIndentation(te.insertSpaces,te.tabSize)}}return z.ID="editor.action.detectIndentation",z})();class R extends L.R6{constructor(){super({id:"editor.action.reindentlines",label:p.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:k.u.writable})}run(j,Y){const E=j.get(N.c_),V=Y.getModel();if(!V)return;const $=m(V,E,1,V.getLineCount());$.length>0&&(Y.pushUndoStop(),Y.executeEdits(this.id,$),Y.pushUndoStop())}}class Q extends L.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:p.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:k.u.writable})}run(j,Y){const E=j.get(N.c_),V=Y.getModel();if(!V)return;const $=Y.getSelections();if(null===$)return;const te=[];for(const w of $){let fe=w.startLineNumber,be=w.endLineNumber;if(fe!==be&&1===w.endColumn&&be--,1===fe){if(fe===be)continue}else fe--;const me=m(V,E,fe,be);te.push(...me)}te.length>0&&(Y.pushUndoStop(),Y.executeEdits(this.id,te),Y.pushUndoStop())}}class Z{constructor(j,Y){this._initialSelection=Y,this._edits=[],this._selectionId=null;for(const E of j)E.range&&"string"==typeof E.text&&this._edits.push(E)}getEditOperations(j,Y){for(const V of this._edits)Y.addEditOperation(P.e.lift(V.range),V.text);let E=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(E=!0,this._selectionId=Y.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(E=!0,this._selectionId=Y.trackSelection(this._initialSelection,!1))),E||(this._selectionId=Y.trackSelection(this._initialSelection))}computeCursorState(j,Y){return Y.getTrackedSelection(this._selectionId)}}let G=class{constructor(j,Y){this.editor=j,this._languageConfigurationService=Y,this.callOnDispose=new f.SL,this.callOnModel=new f.SL,this.callOnDispose.add(j.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(j.onDidChangeModel(()=>this.update())),this.callOnDispose.add(j.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(50))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:j})=>{this.trigger(j)})))}trigger(j){const Y=this.editor.getSelections();if(null===Y||Y.length>1)return;const E=this.editor.getModel();if(!E||!E.tokenization.isCheapToTokenize(j.getStartPosition().lineNumber))return;const V=this.editor.getOption(9),{tabSize:$,indentSize:te,insertSpaces:w}=E.getOptions(),fe=[],be={shiftIndent:ce=>M.U.shiftIndent(ce,ce.length+1,$,te,w),unshiftIndent:ce=>M.U.unshiftIndent(ce,ce.length+1,$,te,w)};let me=j.startLineNumber;for(;me<=j.endLineNumber&&this.shouldIgnoreLine(E,me);)me++;if(me>j.endLineNumber)return;let Ie=E.getLineContent(me);if(!/\S/.test(Ie.substring(0,j.startColumn-1))){const ce=(0,l.n8)(V,E,E.getLanguageId(),me,be,this._languageConfigurationService);if(null!==ce){const he=s.V8(Ie),de=a.Y(ce,$);if(de!==a.Y(he,$)){const re=a.J(de,$,w);fe.push({range:new P.e(me,1,me,he.length+1),text:re}),Ie=re+Ie.substr(he.length)}else{const re=(0,l.tI)(E,me,this._languageConfigurationService);if(0===re||8===re)return}}}const ee=me;for(;me<j.endLineNumber&&!/\S/.test(E.getLineContent(me+1));)me++;if(me!==j.endLineNumber){const he=(0,l.n8)(V,{tokenization:{getLineTokens:de=>E.tokenization.getLineTokens(de),getLanguageId:()=>E.getLanguageId(),getLanguageIdAtPosition:(de,ge)=>E.getLanguageIdAtPosition(de,ge)},getLineContent:de=>de===ee?Ie:E.getLineContent(de)},E.getLanguageId(),me+1,be,this._languageConfigurationService);if(null!==he){const de=a.Y(he,$),ge=a.Y(s.V8(E.getLineContent(me+1)),$);if(de!==ge){const re=de-ge;for(let Se=me+1;Se<=j.endLineNumber;Se++){const Pe=E.getLineContent(Se),Ve=s.V8(Pe),ye=a.Y(Ve,$)+re,_e=a.J(ye,$,w);_e!==Ve&&fe.push({range:new P.e(Se,1,Se,Ve.length+1),text:_e})}}}}if(fe.length>0){this.editor.pushUndoStop();const ce=new Z(fe,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",ce),this.editor.pushUndoStop()}}shouldIgnoreLine(j,Y){j.tokenization.forceTokenization(Y);const E=j.getLineFirstNonWhitespaceColumn(Y);if(0===E)return!0;const V=j.tokenization.getLineTokens(Y);if(V.getCount()>0){const $=V.findTokenIndexAtOffset(E);if($>=0&&1===V.getStandardTokenType($))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};var j;function F(z,j,Y,E){if(1===z.getLineCount()&&1===z.getLineMaxColumn(1))return;let V="";for(let te=0;te<Y;te++)V+=" ";const $=new RegExp(V,"gi");for(let te=1,w=z.getLineCount();te<=w;te++){let fe=z.getLineFirstNonWhitespaceColumn(te);if(0===fe&&(fe=z.getLineMaxColumn(te)),1===fe)continue;const be=new P.e(te,1,te,fe),me=z.getValueInRange(be),Ie=E?me.replace(/\t/gi,V):me.replace($,"\t");j.addEditOperation(be,Ie)}}G.ID="editor.contrib.autoIndentOnPaste",G=function(z,j,Y,E){var te,V=arguments.length,$=V<3?j:null===E?E=Object.getOwnPropertyDescriptor(j,Y):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(z,j,Y,E);else for(var w=z.length-1;w>=0;w--)(te=z[w])&&($=(V<3?te($):V>3?te(j,Y,$):te(j,Y))||$);return V>3&&$&&Object.defineProperty(j,Y,$),$}([(1,j=N.c_,function(Y,E){j(Y,E,1)})],G);class W{constructor(j,Y){this.selection=j,this.tabSize=Y,this.selectionId=null}getEditOperations(j,Y){this.selectionId=Y.trackSelection(this.selection),F(j,Y,this.tabSize,!0)}computeCursorState(j,Y){return Y.getTrackedSelection(this.selectionId)}}class B{constructor(j,Y){this.selection=j,this.tabSize=Y,this.selectionId=null}getEditOperations(j,Y){this.selectionId=Y.trackSelection(this.selection),F(j,Y,this.tabSize,!1)}computeCursorState(j,Y){return Y.getTrackedSelection(this.selectionId)}}(0,L._K)(G.ID,G),(0,L.Qr)(I),(0,L.Qr)(y),(0,L.Qr)(b),(0,L.Qr)(x),(0,L.Qr)(T),(0,L.Qr)(R),(0,L.Qr)(Q)},43988:(at,ue,e)=>{"use strict";e.r(ue);var f=e(95172),s=e(1754),L=e(58059),M=e(18337),u=e(63072),P=e(80152),A=e(53663),k=e(52425),N=e(7838),_=e(54435),a=e(74672),p=e(28460),c=e(16367),n=e(12033),l=e(68451),v=e(66778),d=e(32213),m=e(3508),I=e(79974),y=e(37464),S=e(87424),b=e(98033),x=e(94220),T=e(90278),R=function(Ke,He,Ue,ot){return new(Ue||(Ue=Promise))(function(Ze,Mt){function Nt($t){try{dt(ot.next($t))}catch(hn){Mt(hn)}}function ze($t){try{dt(ot.throw($t))}catch(hn){Mt(hn)}}function dt($t){$t.done?Ze($t.value):function et(Ze){return Ze instanceof Ue?Ze:new Ue(function(Mt){Mt(Ze)})}($t.value).then(Nt,ze)}dt((ot=ot.apply(Ke,He||[])).next())})};class Q{constructor(He,Ue){this.range=He,this.direction=Ue}}class Z{constructor(He,Ue,ot){this.hint=He,this.anchor=Ue,this.provider=ot,this._isResolved=!1}with(He){const Ue=new Z(this.hint,He.anchor,this.provider);return Ue._isResolved=this._isResolved,Ue._currentResolve=this._currentResolve,Ue}resolve(He){return R(this,void 0,void 0,function*(){if("function"==typeof this.provider.resolveInlayHint){if(this._currentResolve)return yield this._currentResolve,He.isCancellationRequested?void 0:this.resolve(He);this._isResolved||(this._currentResolve=this._doResolve(He).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(He){var Ue,ot;return R(this,void 0,void 0,function*(){try{const et=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,He));this.hint.tooltip=null!==(Ue=null==et?void 0:et.tooltip)&&void 0!==Ue?Ue:this.hint.tooltip,this.hint.label=null!==(ot=null==et?void 0:et.label)&&void 0!==ot?ot:this.hint.label,this._isResolved=!0}catch(et){(0,A.Cp)(et),this._isResolved=!1}})}}class G{constructor(He,Ue,ot){this._disposables=new k.SL,this.ranges=He,this.provider=new Set;const et=[];for(const[Ze,Mt]of Ue){this._disposables.add(Ze),this.provider.add(Mt);for(const Nt of Ze.hints){const ze=ot.validatePosition(Nt.position);let dt="before";const $t=G._getRangeAtPosition(ot,ze);let hn;$t.getStartPosition().isBefore(ze)?(hn=l.e.fromPositions($t.getStartPosition(),ze),dt="after"):(hn=l.e.fromPositions(ze,$t.getEndPosition()),dt="before"),et.push(new Z(Nt,new Q(hn,dt),Mt))}}this.items=et.sort((Ze,Mt)=>x.L.compare(Ze.hint.position,Mt.hint.position))}static create(He,Ue,ot,et){return R(this,void 0,void 0,function*(){const Ze=[],Mt=He.ordered(Ue).reverse().map(Nt=>ot.map(ze=>R(this,void 0,void 0,function*(){try{const dt=yield Nt.provideInlayHints(Ue,ze,et);null!=dt&&dt.hints.length&&Ze.push([dt,Nt])}catch(dt){(0,A.Cp)(dt)}})));if(yield Promise.all(Mt.flat()),et.isCancellationRequested||Ue.isDisposed())throw new A.FU;return new G(ot,Ze,Ue)})}dispose(){this._disposables.dispose()}static _getRangeAtPosition(He,Ue){const ot=Ue.lineNumber,et=He.getWordAtPosition(Ue);if(et)return new l.e(ot,et.startColumn,ot,et.endColumn);He.tokenization.tokenizeIfCheap(ot);const Ze=He.tokenization.getLineTokens(ot),Mt=Ue.column-1,Nt=Ze.findTokenIndexAtOffset(Mt);let ze=Ze.getStartOffset(Nt),dt=Ze.getEndOffset(Nt);return dt-ze==1&&(ze===Mt&&Nt>1?(ze=Ze.getStartOffset(Nt-1),dt=Ze.getEndOffset(Nt-1)):dt===Mt&&Nt<Ze.getCount()-1&&(ze=Ze.getStartOffset(Nt+1),dt=Ze.getEndOffset(Nt+1))),new l.e(ot,ze+1,ot,dt+1)}}var W=e(85113),B=e(20793),z=e(77273),j=e(61004),Y=e(23884),E=e(59776),V=e(34394),$=e(64725),te=e(78782),w=function(Ke,He,Ue,ot){return new(Ue||(Ue=Promise))(function(Ze,Mt){function Nt($t){try{dt(ot.next($t))}catch(hn){Mt(hn)}}function ze($t){try{dt(ot.throw($t))}catch(hn){Mt(hn)}}function dt($t){$t.done?Ze($t.value):function et(Ze){return Ze instanceof Ue?Ze:new Ue(function(Mt){Mt(Ze)})}($t.value).then(Nt,ze)}dt((ot=ot.apply(Ke,He||[])).next())})};function fe(Ke,He,Ue,ot){var et;return w(this,void 0,void 0,function*(){const Ze=Ke.get(S.S),Mt=Ke.get(V.i),Nt=Ke.get(Y.Hy),ze=Ke.get($.TG),dt=Ke.get(te.lT);if(yield ot.item.resolve(P.T.None),!ot.part.location)return;const $t=ot.part.location,hn=[],vn=new Set(j.BH.getMenuItems(j.eH.EditorContext).map(ke=>(0,j.vr)(ke)?ke.command.id:""));for(const ke of f.Uc.getEditorActions())ke instanceof B.SymbolNavigationAction&&vn.has(ke.id)&&hn.push(new W.aU(ke.id,ke.label,void 0,!0,()=>w(this,void 0,void 0,function*(){const nt=yield Ze.createModelReference($t.uri);try{yield ze.invokeFunction(ke.run.bind(ke),He,new B.SymbolNavigationAnchor(nt.object.textEditorModel,l.e.getStartPosition($t.range)))}finally{nt.dispose()}})));if(ot.part.command){const{command:ke}=ot.part;hn.push(new W.Z0),hn.push(new W.aU(ke.id,ke.title,void 0,!0,()=>w(this,void 0,void 0,function*(){var nt;try{yield Nt.executeCommand(ke.id,...null!==(nt=ke.arguments)&&void 0!==nt?nt:[])}catch(st){dt.notify({severity:te.zb.Error,source:ot.item.provider.displayName,message:st})}})))}const ft=He.getOption(117);Mt.showContextMenu({domForShadowRoot:ft&&null!==(et=He.getDomNode())&&void 0!==et?et:void 0,getAnchor:()=>{const ke=L.i(Ue);return{x:ke.left,y:ke.top+ke.height+8}},getActions:()=>hn,onHide:()=>{He.focus()},autoSelectFirstItem:!0})})}function be(Ke,He,Ue,ot){return w(this,void 0,void 0,function*(){const Ze=yield Ke.get(S.S).createModelReference(ot.uri);yield Ue.invokeWithinContext(Mt=>w(this,void 0,void 0,function*(){const Nt=He.hasSideBySideModifier,ze=Mt.get(E.i6),dt=z.Jy.inPeekEditor.getValue(ze),$t=!Nt&&Ue.getOption(80)&&!dt;return new B.DefinitionAction({openToSide:Nt,openInPeek:$t,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(Mt,Ue,{model:Ze.object.textEditorModel,position:l.e.getStartPosition(ot.range)})})),Ze.dispose()})}var me=e(18790),Ie=e(28708),ee=e(23024),he=function(Ke,He){return function(Ue,ot){He(Ue,ot,Ke)}},de=function(Ke,He,Ue,ot){return new(Ue||(Ue=Promise))(function(Ze,Mt){function Nt($t){try{dt(ot.next($t))}catch(hn){Mt(hn)}}function ze($t){try{dt(ot.throw($t))}catch(hn){Mt(hn)}}function dt($t){$t.done?Ze($t.value):function et(Ze){return Ze instanceof Ue?Ze:new Ue(function(Mt){Mt(Ze)})}($t.value).then(Nt,ze)}dt((ot=ot.apply(Ke,He||[])).next())})};class ge{constructor(){this._entries=new N.z6(50)}get(He){const Ue=ge._key(He);return this._entries.get(Ue)}set(He,Ue){const ot=ge._key(He);this._entries.set(ot,Ue)}static _key(He){return`${He.uri.toString()}/${He.getVersionId()}`}}const re=(0,$.yh)("IInlayHintsCache");(0,me.z)(re,ge,!0);class Se{constructor(He,Ue){this.item=He,this.index=Ue}get part(){const He=this.item.hint.label;return"string"==typeof He?{label:He}:He[this.index]}}class Pe{constructor(He,Ue){this.part=He,this.hasTriggerModifier=Ue}}let Ve=class Yl{constructor(He,Ue,ot,et,Ze,Mt,Nt){this._editor=He,this._languageFeaturesService=Ue,this._inlayHintsCache=et,this._commandService=Ze,this._notificationService=Mt,this._instaService=Nt,this._disposables=new k.SL,this._sessionDisposables=new k.SL,this._decorationsMetadata=new Map,this._ruleFactory=new p.t7(this._editor),this._activeRenderMode=0,this._debounceInfo=ot.for(Ue.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(Ue.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(He.onDidChangeModel(()=>this._update())),this._disposables.add(He.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(He.onDidChangeConfiguration(ze=>{ze.hasChanged(129)&&this._update()})),this._update()}static get(He){var Ue;return null!==(Ue=He.getContribution(Yl.ID))&&void 0!==Ue?Ue:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const He=this._editor.getOption(129);if("off"===He.enabled)return;const Ue=this._editor.getModel();if(!Ue||!this._languageFeaturesService.inlayHintsProvider.has(Ue))return;const ot=this._inlayHintsCache.get(Ue);let et;ot&&this._updateHintsDecorators([Ue.getFullModelRange()],ot),this._sessionDisposables.add((0,k.OF)(()=>{Ue.isDisposed()||this._cacheHintsForFastRestore(Ue)}));const Ze=new Set,Mt=new u.pY(()=>de(this,void 0,void 0,function*(){const Nt=Date.now();null==et||et.dispose(!0),et=new P.A;const ze=Ue.onWillDispose(()=>null==et?void 0:et.cancel());try{const dt=et.token,$t=yield G.create(this._languageFeaturesService.inlayHintsProvider,Ue,this._getHintsRanges(),dt);if(Mt.delay=this._debounceInfo.update(Ue,Date.now()-Nt),dt.isCancellationRequested)return void $t.dispose();for(const hn of $t.provider)"function"==typeof hn.onDidChangeInlayHints&&!Ze.has(hn)&&(Ze.add(hn),this._sessionDisposables.add(hn.onDidChangeInlayHints(()=>{Mt.isScheduled()||Mt.schedule()})));this._sessionDisposables.add($t),this._updateHintsDecorators($t.ranges,$t.items),this._cacheHintsForFastRestore(Ue)}catch(dt){(0,A.dL)(dt)}finally{et.dispose(),ze.dispose()}}),this._debounceInfo.get(Ue));if(this._sessionDisposables.add(Mt),this._sessionDisposables.add((0,k.OF)(()=>null==et?void 0:et.dispose(!0))),Mt.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(Nt=>{(Nt.scrollTopChanged||!Mt.isScheduled())&&Mt.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(Nt=>{const ze=Math.max(Mt.delay,1250);Mt.schedule(ze)})),"on"===He.enabled)this._activeRenderMode=0;else{let Nt,ze;"onUnlessPressed"===He.enabled?(Nt=0,ze=1):(Nt=1,ze=0),this._activeRenderMode=Nt,this._sessionDisposables.add(L._q.getInstance().event(dt=>{if(!this._editor.hasModel())return;const $t=dt.altKey&&dt.ctrlKey?ze:Nt;if($t!==this._activeRenderMode){this._activeRenderMode=$t;const hn=this._editor.getModel(),vn=this._copyInlayHintsWithCurrentAnchor(hn);this._updateHintsDecorators([hn.getFullModelRange()],vn),Mt.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>Mt.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const He=new k.SL,Ue=He.add(new b.yN(this._editor)),ot=new k.SL;return He.add(ot),He.add(Ue.onMouseMoveOrRelevantKeyDown(et=>{const[Ze]=et,Mt=this._getInlayHintLabelPart(Ze),Nt=this._editor.getModel();if(!Mt||!Nt)return void ot.clear();const ze=new P.A;ot.add((0,k.OF)(()=>ze.dispose(!0))),Mt.item.resolve(ze.token),this._activeInlayHintPart=Mt.part.command||Mt.part.location?new Pe(Mt,Ze.hasTriggerModifier):void 0;const dt=Mt.item.hint.position.lineNumber,$t=new l.e(dt,1,dt,Nt.getLineMaxColumn(dt)),hn=this._getInlineHintsForRange($t);this._updateHintsDecorators([$t],hn),ot.add((0,k.OF)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([$t],hn)}))})),He.add(Ue.onCancel(()=>ot.clear())),He.add(Ue.onExecute(et=>de(this,void 0,void 0,function*(){const Ze=this._getInlayHintLabelPart(et);if(Ze){const Mt=Ze.part;Mt.location?this._instaService.invokeFunction(be,et,this._editor,Mt.location):v.mY.is(Mt.command)&&(yield this._invokeCommand(Mt.command,Ze.item))}}))),He}_getInlineHintsForRange(He){const Ue=new Set;for(const ot of this._decorationsMetadata.values())He.containsRange(ot.item.anchor.range)&&Ue.add(ot.item);return Array.from(Ue)}_installDblClickGesture(He){return this._editor.onMouseUp(Ue=>de(this,void 0,void 0,function*(){if(2!==Ue.event.detail)return;const ot=this._getInlayHintLabelPart(Ue);if(ot&&(Ue.event.preventDefault(),yield ot.item.resolve(P.T.None),(0,M.Of)(ot.item.hint.textEdits))){const et=ot.item.hint.textEdits.map(Ze=>n.h.replace(l.e.lift(Ze.range),Ze.text));this._editor.executeEdits("inlayHint.default",et),He()}}))}_installContextMenu(){return this._editor.onContextMenu(He=>de(this,void 0,void 0,function*(){if(!(He.event.target instanceof HTMLElement))return;const Ue=this._getInlayHintLabelPart(He);Ue&&(yield this._instaService.invokeFunction(fe,this._editor,He.event.target,Ue))}))}_getInlayHintLabelPart(He){var Ue;if(6!==He.target.type)return;const ot=null===(Ue=He.target.detail.injectedText)||void 0===Ue?void 0:Ue.options;return ot instanceof m.HS&&(null==ot?void 0:ot.attachedData)instanceof Se?ot.attachedData:void 0}_invokeCommand(He,Ue){var ot;return de(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(He.id,...null!==(ot=He.arguments)&&void 0!==ot?ot:[])}catch(et){this._notificationService.notify({severity:te.zb.Error,source:Ue.provider.displayName,message:et})}})}_cacheHintsForFastRestore(He){const Ue=this._copyInlayHintsWithCurrentAnchor(He);this._inlayHintsCache.set(He,Ue)}_copyInlayHintsWithCurrentAnchor(He){const Ue=new Map;for(const[ot,et]of this._decorationsMetadata){if(Ue.has(et.item))continue;const Ze=He.getDecorationRange(ot);if(Ze){const Mt=new Q(Ze,et.item.anchor.direction),Nt=et.item.with({anchor:Mt});Ue.set(et.item,Nt)}}return Array.from(Ue.values())}_getHintsRanges(){const Ue=this._editor.getModel(),ot=this._editor.getVisibleRangesPlusViewportAboveBelow(),et=[];for(const Ze of ot.sort(l.e.compareRangesUsingStarts)){const Mt=Ue.validateRange(new l.e(Ze.startLineNumber-30,Ze.startColumn,Ze.endLineNumber+30,Ze.endColumn));0!==et.length&&l.e.areIntersectingOrTouching(et[et.length-1],Mt)?et[et.length-1]=l.e.plusRange(et[et.length-1],Mt):et.push(Mt)}return et}_updateHintsDecorators(He,Ue){var ot,et;const Ze=[],Mt=(ke,nt,st,Ee,Fe)=>{const mt={content:st,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:nt.className,cursorStops:Ee,attachedData:Fe};Ze.push({item:ke,classNameRef:nt,decoration:{range:ke.anchor.range,options:{description:"InlayHint",showIfCollapsed:ke.anchor.range.isEmpty(),collapseOnReplaceEdit:!ke.anchor.range.isEmpty(),stickiness:0,[ke.anchor.direction]:0===this._activeRenderMode?mt:void 0}}})},Nt=(ke,nt)=>{const st=this._ruleFactory.createClassNameRef({width:(ze/3|0)+"px",display:"inline-block"});Mt(ke,st,"\u200a",nt?d.RM.Right:d.RM.None)},{fontSize:ze,fontFamily:dt,padding:$t,isUniform:hn}=this._getLayoutInfo(),vn="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(vn,dt);for(const ke of Ue){ke.hint.paddingLeft&&Nt(ke,!1);const nt="string"==typeof ke.hint.label?[{label:ke.hint.label}]:ke.hint.label;for(let st=0;st<nt.length;st++){const Ee=nt[st],Fe=0===st,mt=st===nt.length-1,Vt={fontSize:`${ze}px`,fontFamily:`var(${vn}), ${c.hL.fontFamily}`,verticalAlign:hn?"baseline":"middle"};(0,M.Of)(ke.hint.textEdits)&&(Vt.cursor="default"),this._fillInColors(Vt,ke.hint),(Ee.command||Ee.location)&&(null===(ot=this._activeInlayHintPart)||void 0===ot?void 0:ot.part.item)===ke&&this._activeInlayHintPart.part.index===st&&(Vt.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(Vt.color=(0,ee.EN)(Ie._Yy),Vt.cursor="pointer")),$t&&(Fe&&mt?(Vt.padding=`1px ${0|Math.max(1,ze/4)}px`,Vt.borderRadius=(ze/4|0)+"px"):Fe?(Vt.padding=`1px 0 1px ${0|Math.max(1,ze/4)}px`,Vt.borderRadius=`${ze/4|0}px 0 0 ${ze/4|0}px`):mt?(Vt.padding=`1px ${0|Math.max(1,ze/4)}px 1px 0`,Vt.borderRadius=`0 ${ze/4|0}px ${ze/4|0}px 0`):Vt.padding="1px 0 1px 0"),Mt(ke,this._ruleFactory.createClassNameRef(Vt),Ee.label.replace(/[ \t]/g,"\xa0"),mt&&!ke.hint.paddingRight?d.RM.Right:d.RM.None,new Se(ke,st))}if(ke.hint.paddingRight&&Nt(ke,!0),Ze.length>Yl._MAX_DECORATORS)break}const ft=[];for(const ke of He)for(const{id:nt}of null!==(et=this._editor.getDecorationsInRange(ke))&&void 0!==et?et:[]){const st=this._decorationsMetadata.get(nt);st&&(ft.push(nt),st.classNameRef.dispose(),this._decorationsMetadata.delete(nt))}this._editor.changeDecorations(ke=>{const nt=ke.deltaDecorations(ft,Ze.map(st=>st.decoration));for(let st=0;st<nt.length;st++)this._decorationsMetadata.set(nt[st],Ze[st])})}_fillInColors(He,Ue){Ue.kind===v.gl.Parameter?(He.backgroundColor=(0,ee.EN)(Ie.phM),He.color=(0,ee.EN)(Ie.HCL)):Ue.kind===v.gl.Type?(He.backgroundColor=(0,ee.EN)(Ie.bKB),He.color=(0,ee.EN)(Ie.hX8)):(He.backgroundColor=(0,ee.EN)(Ie.PpC),He.color=(0,ee.EN)(Ie.VVv))}_getLayoutInfo(){const He=this._editor.getOption(129),Ue=He.padding,ot=this._editor.getOption(48),et=this._editor.getOption(45);let Ze=He.fontSize;(!Ze||Ze<5||Ze>ot)&&(Ze=ot);const Mt=He.fontFamily||et;return{fontSize:Ze,fontFamily:Mt,padding:Ue,isUniform:!Ue&&Mt===et&&Ze===ot}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const He of this._decorationsMetadata.values())He.classNameRef.dispose();this._decorationsMetadata.clear()}};Ve.ID="editor.contrib.InlayHints",Ve._MAX_DECORATORS=1500,Ve=function(Ke,He,Ue,ot){var Mt,et=arguments.length,Ze=et<3?He:null===ot?ot=Object.getOwnPropertyDescriptor(He,Ue):ot;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ze=Reflect.decorate(Ke,He,Ue,ot);else for(var Nt=Ke.length-1;Nt>=0;Nt--)(Mt=Ke[Nt])&&(Ze=(et<3?Mt(Ze):et>3?Mt(He,Ue,Ze):Mt(He,Ue))||Ze);return et>3&&Ze&&Object.defineProperty(He,Ue,Ze),Ze}([he(1,y.p),he(2,I.A),he(3,re),he(4,Y.Hy),he(5,te.lT),he(6,$.TG)],Ve),Y.P0.registerCommand("_executeInlayHintProvider",(Ke,...He)=>de(void 0,void 0,void 0,function*(){const[Ue,ot]=He;(0,_.p_)(a.o.isUri(Ue)),(0,_.p_)(l.e.isIRange(ot));const{inlayHintsProvider:et}=Ke.get(y.p),Ze=yield Ke.get(S.S).createModelReference(Ue);try{const Mt=yield G.create(et,Ze.object.textEditorModel,[l.e.lift(ot)],P.T.None),Nt=Mt.items.map(ze=>ze.hint);return setTimeout(()=>Mt.dispose(),0),Nt}finally{Ze.dispose()}}));var ye=e(22468),_e=e(42570),Be=e(86742),Qe=e(43306),Ae=e(9869),pe=e(26589),De=e(40402),Oe=e(38972),ne=function(Ke,He){return function(Ue,ot){He(Ue,ot,Ke)}},xe=function(Ke,He,Ue,ot){return new(Ue||(Ue=Promise))(function(Ze,Mt){function Nt($t){try{dt(ot.next($t))}catch(hn){Mt(hn)}}function ze($t){try{dt(ot.throw($t))}catch(hn){Mt(hn)}}function dt($t){$t.done?Ze($t.value):function et(Ze){return Ze instanceof Ue?Ze:new Ue(function(Mt){Mt(Ze)})}($t.value).then(Nt,ze)}dt((ot=ot.apply(Ke,He||[])).next())})};class gt extends s.YM{constructor(He,Ue){super(10,Ue,He.item.anchor.range),this.part=He}}let lt=class extends Qe.D5{constructor(He,Ue,ot,et,Ze,Mt){super(He,Ue,ot,et,Mt),this._resolverService=Ze,this.hoverOrdinal=6}suggestHoverAnchor(He){var Ue;if(!Ve.get(this._editor)||6!==He.target.type)return null;const et=null===(Ue=He.target.detail.injectedText)||void 0===Ue?void 0:Ue.options;return et instanceof m.HS&&et.attachedData instanceof Se?new gt(et.attachedData,this):null}computeSync(){return[]}computeAsync(He,Ue,ot){return He instanceof gt?new u.Aq(et=>xe(this,void 0,void 0,function*(){var Ze,Mt;const{part:Nt}=He;if(yield Nt.item.resolve(ot),ot.isCancellationRequested)return;let ze,dt;if("string"==typeof Nt.item.hint.tooltip?ze=(new ye.W5).appendText(Nt.item.hint.tooltip):Nt.item.hint.tooltip&&(ze=Nt.item.hint.tooltip),ze&&et.emitOne(new Qe.hU(this,He.range,[ze],0)),(0,M.Of)(Nt.item.hint.textEdits)&&et.emitOne(new Qe.hU(this,He.range,[(new ye.W5).appendText((0,De.NC)("hint.dbl","Double click to insert"))],10001)),"string"==typeof Nt.part.tooltip?dt=(new ye.W5).appendText(Nt.part.tooltip):Nt.part.tooltip&&(dt=Nt.part.tooltip),dt&&et.emitOne(new Qe.hU(this,He.range,[dt],1)),Nt.part.location||Nt.part.command){let ft;const nt="altKey"===this._editor.getOption(72)?Oe.dz?(0,De.NC)("links.navigate.kb.meta.mac","cmd + click"):(0,De.NC)("links.navigate.kb.meta","ctrl + click"):Oe.dz?(0,De.NC)("links.navigate.kb.alt.mac","option + click"):(0,De.NC)("links.navigate.kb.alt","alt + click");Nt.part.location&&Nt.part.command?ft=(new ye.W5).appendText((0,De.NC)("hint.defAndCommand","Go to Definition ({0}), right click for more",nt)):Nt.part.location?ft=(new ye.W5).appendText((0,De.NC)("hint.def","Go to Definition ({0})",nt)):Nt.part.command&&(ft=new ye.W5(`[${(0,De.NC)("hint.cmd","Execute Command")}](${function F(Ke){return a.o.from({scheme:T.lg.command,path:Ke.id,query:Ke.arguments&&encodeURIComponent(JSON.stringify(Ke.arguments))}).toString()}(Nt.part.command)} "${Nt.part.command.title}") (${nt})`,{isTrusted:!0})),ft&&et.emitOne(new Qe.hU(this,He.range,[ft],1e4))}const $t=yield this._resolveInlayHintLabelPartHover(Nt,ot);try{for(var vn,hn=function(Ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,He=Ke[Symbol.asyncIterator];return He?He.call(Ke):(Ke="function"==typeof __values?__values(Ke):Ke[Symbol.iterator](),Ue={},ot("next"),ot("throw"),ot("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue);function ot(Ze){Ue[Ze]=Ke[Ze]&&function(Mt){return new Promise(function(Nt,ze){!function et(Ze,Mt,Nt,ze){Promise.resolve(ze).then(function(dt){Ze({value:dt,done:Nt})},Mt)}(Nt,ze,(Mt=Ke[Ze](Mt)).done,Mt.value)})}}}($t);!(vn=yield hn.next()).done;)et.emitOne(vn.value)}catch(ft){Ze={error:ft}}finally{try{vn&&!vn.done&&(Mt=hn.return)&&(yield Mt.call(hn))}finally{if(Ze)throw Ze.error}}})):u.Aq.EMPTY}_resolveInlayHintLabelPartHover(He,Ue){return xe(this,void 0,void 0,function*(){if(!He.part.location)return u.Aq.EMPTY;const{uri:ot,range:et}=He.part.location,Ze=yield this._resolverService.createModelReference(ot);try{const Mt=Ze.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(Mt)?(0,Be.R8)(this._languageFeaturesService.hoverProvider,Mt,new x.L(et.startLineNumber,et.startColumn),Ue).filter(Nt=>!(0,ye.CP)(Nt.hover.contents)).map(Nt=>new Qe.hU(this,He.item.anchor.range,Nt.hover.contents,2+Nt.ordinal)):u.Aq.EMPTY}finally{Ze.dispose()}})}};lt=function(Ke,He,Ue,ot){var Mt,et=arguments.length,Ze=et<3?He:null===ot?ot=Object.getOwnPropertyDescriptor(He,Ue):ot;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ze=Reflect.decorate(Ke,He,Ue,ot);else for(var Nt=Ke.length-1;Nt>=0;Nt--)(Mt=Ke[Nt])&&(Ze=(et<3?Mt(Ze):et>3?Mt(He,Ue,Ze):Mt(He,Ue))||Ze);return et>3&&Ze&&Object.defineProperty(He,Ue,Ze),Ze}([ne(1,_e.O),ne(2,pe.v4),ne(3,Ae.Ui),ne(4,S.S),ne(5,y.p)],lt),(0,f._K)(Ve.ID,Ve),s.Ae.register(lt)},35854:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{commitInlineSuggestionAction:()=>ln});var f=e(95172),s=e(29584),L=e(1754);const M="editor.action.inlineSuggest.commit";var u=e(52787),P=e(52425),A=e(93059),k=e(74826),N=e(94220),_=e(66778),a=e(63072),p=e(80152),c=e(53663),n=e(99839),l=e(12033),v=e(68451);class I{constructor($e){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let wt=0;wt<$e.length;wt++)"\n"===$e.charAt(wt)&&this.lineStartOffsetByLineIdx.push(wt+1)}getOffset($e){return this.lineStartOffsetByLineIdx[$e.lineNumber-1]+$e.column-1}}const y=[];class b{constructor($e,wt,Bt=0){this.lineNumber=$e,this.parts=wt,this.additionalReservedLineCount=Bt}renderForScreenReader($e){return 0===this.parts.length?"":function m(Ot,$e){const wt=new I(Ot),Bt=$e.map(Xt=>{const nn=v.e.lift(Xt.range);return{startOffset:wt.getOffset(nn.getStartPosition()),endOffset:wt.getOffset(nn.getEndPosition()),text:Xt.text}});Bt.sort((Xt,nn)=>nn.startOffset-Xt.startOffset);for(const Xt of Bt)Ot=Ot.substring(0,Xt.startOffset)+Xt.text+Ot.substring(Xt.endOffset);return Ot}($e.substr(0,this.parts[this.parts.length-1].column-1),this.parts.map(nn=>({range:{startLineNumber:1,endLineNumber:1,startColumn:nn.column,endColumn:nn.column},text:nn.lines.join("\n")}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every($e=>0===$e.lines.length)}}class x{constructor($e,wt,Bt){this.column=$e,this.lines=wt,this.preview=Bt}}class T{constructor($e,wt,Bt,Xt,nn=0){this.lineNumber=$e,this.columnStart=wt,this.length=Bt,this.newLines=Xt,this.additionalReservedLineCount=nn,this.parts=[new x(this.columnStart+this.length,this.newLines,!1)]}renderForScreenReader($e){return this.newLines.join("\n")}}class R extends P.JT{constructor($e){super(),this.editor=$e,this._expanded=void 0,this.onDidChangeEmitter=new u.Q5,this.onDidChange=this.onDidChangeEmitter.event,this._register($e.onDidChangeConfiguration(wt=>{wt.hasChanged(108)&&void 0===this._expanded&&this.onDidChangeEmitter.fire()}))}setExpanded($e){this._expanded=!0,this.onDidChangeEmitter.fire()}}var Q=e(23884),Z=e(14171);function G(Ot,$e){if(!$e)return $e;const wt=Ot.getValueInRange($e.range),Bt=A.Mh(wt,$e.insertText),Xt=Ot.getOffsetAt($e.range.getStartPosition())+Bt,nn=Ot.getPositionAt(Xt),Kt=wt.substr(Bt),Ge=A.P1(Kt,$e.insertText),ct=Ot.getPositionAt(Math.max(Xt,Ot.getOffsetAt($e.range.getEndPosition())-Ge));return{range:v.e.fromPositions(nn,ct),insertText:$e.insertText.substr(Bt,$e.insertText.length-Bt-Ge),snippetInfo:$e.snippetInfo,filterText:$e.filterText,additionalTextEdits:$e.additionalTextEdits}}function W(Ot,$e,wt,Bt,Xt=0){if(Ot.range.startLineNumber!==Ot.range.endLineNumber)return;const nn=$e.getLineContent(Ot.range.startLineNumber),Kt=A.V8(nn).length;if(Ot.range.startColumn-1<=Kt){const Pt=A.V8(Ot.insertText).length,wn=nn.substring(Ot.range.startColumn-1,Kt),Fn=v.e.fromPositions(Ot.range.getStartPosition().delta(0,wn.length),Ot.range.getEndPosition()),Qt=Ot.insertText.startsWith(wn)?Ot.insertText.substring(wn.length):Ot.insertText.substring(Pt);Ot={range:Fn,insertText:Qt,command:Ot.command,snippetInfo:void 0,filterText:Ot.filterText,additionalTextEdits:Ot.additionalTextEdits}}const ct=$e.getValueInRange(Ot.range),St=function z(Ot,$e){if((null==B?void 0:B.originalValue)===Ot&&(null==B?void 0:B.newValue)===$e)return null==B?void 0:B.changes;{let wt=Y(Ot,$e,!0);if(wt){const Bt=j(wt);if(Bt>0){const Xt=Y(Ot,$e,!1);Xt&&j(Xt)<Bt&&(wt=Xt)}}return B={originalValue:Ot,newValue:$e,changes:wt},wt}}(ct,Ot.insertText);if(!St)return;const It=Ot.range.startLineNumber,Zt=new Array;if("prefix"===wt){const Pt=St.filter(wn=>0===wn.originalLength);if(Pt.length>1||1===Pt.length&&Pt[0].originalStart!==ct.length)return}const Ht=Ot.insertText.length-Xt;for(const Pt of St){const wn=Ot.range.startColumn+Pt.originalStart+Pt.originalLength;if("subwordSmart"===wt&&Bt&&Bt.lineNumber===Ot.range.startLineNumber&&wn<Bt.column||Pt.originalLength>0)return;if(0===Pt.modifiedLength)continue;const Fn=Pt.modifiedStart+Pt.modifiedLength,Qt=Math.max(Pt.modifiedStart,Math.min(Fn,Ht)),Kn=Ot.insertText.substring(Pt.modifiedStart,Qt),Zn=Ot.insertText.substring(Qt,Math.max(Pt.modifiedStart,Fn));if(Kn.length>0){const _t=A.uq(Kn);Zt.push(new x(wn,_t,!1))}if(Zn.length>0){const _t=A.uq(Zn);Zt.push(new x(wn,_t,!0))}}return new b(It,Zt,0)}let B;function j(Ot){let $e=0;for(const wt of Ot)$e+=Math.max(wt.originalLength-wt.modifiedLength,0);return $e}function Y(Ot,$e,wt){if(Ot.length>5e3||$e.length>5e3)return;function Bt(St){let It=0;for(let Zt=0,Ht=St.length;Zt<Ht;Zt++){const Pt=St.charCodeAt(Zt);Pt>It&&(It=Pt)}return It}const Xt=Math.max(Bt(Ot),Bt($e));function nn(St){if(St<0)throw new Error("unexpected");return Xt+St+1}function Kt(St){let It=0,Zt=0;const Ht=new Int32Array(St.length);for(let Pt=0,wn=St.length;Pt<wn;Pt++)wt&&"("===St[Pt]?(Ht[Pt]=nn(2*(100*Zt+It)),It++):wt&&")"===St[Pt]?(It=Math.max(It-1,0),Ht[Pt]=nn(2*(100*Zt+It)+1),0===It&&Zt++):Ht[Pt]=St.charCodeAt(Pt);return Ht}const Ge=Kt(Ot),ct=Kt($e);return new Z.Hs({getElements:()=>Ge},{getElements:()=>ct}).ComputeDiff(!1).changes}var E=e(23924),V=e(53087),$=e(29329),te=e(94778),w=e(830),fe=e(9462);class me{constructor($e){this.lines=$e,this.tokenization={getLineTokens:wt=>this.lines[wt-1]}}getLineCount(){return this.lines.length}getLineLength($e){return this.lines[$e-1].getLineContent().length}}var Ie=e(37464),ee=e(79974),ce=e(65676),he=e(76295),de=e(54435),ge=e(81979),re=e(9869),Pe=function(Ot,$e){return function(wt,Bt){$e(wt,Bt,Ot)}},Ve=function(Ot,$e,wt,Bt){return new(wt||(wt=Promise))(function(nn,Kt){function Ge(It){try{St(Bt.next(It))}catch(Zt){Kt(Zt)}}function ct(It){try{St(Bt.throw(It))}catch(Zt){Kt(Zt)}}function St(It){It.done?nn(It.value):function Xt(nn){return nn instanceof wt?nn:new wt(function(Kt){Kt(nn)})}(It.value).then(Ge,ct)}St((Bt=Bt.apply(Ot,$e||[])).next())})};let ie=class extends P.JT{constructor($e,wt,Bt,Xt,nn,Kt,Ge){super(),this.editor=$e,this.cache=wt,this.commandService=Bt,this.languageConfigurationService=Xt,this.languageFeaturesService=nn,this.debounceService=Kt,this.onDidChangeEmitter=new u.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new P.XK),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(Bt.onDidExecuteCommand(ct=>{new Set([n.CoreEditingCommands.Tab.id,n.CoreEditingCommands.DeleteLeft.id,n.CoreEditingCommands.DeleteRight.id,M,"acceptSelectedSuggestion"]).has(ct.commandId)&&$e.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(ct=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(ct=>{(3===ct.reason||this.session&&!this.session.isValid)&&this.hide()})),this._register((0,P.OF)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{Ge.getValue("editor.inlineSuggest.hideOnBlur")||this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var $e;return null===($e=this.session)||void 0===$e?void 0:$e.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded($e){var wt;null===(wt=this.session)||void 0===wt||wt.setExpanded($e)}setActive($e){var wt;this.active=$e,$e&&(null===(wt=this.session)||void 0===wt||wt.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(57).enabled||this.session&&this.session.isValid||this.trigger(_.bw.Automatic)}trigger($e){this.completionSession.value?$e===_.bw.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext():(this.completionSession.value=new ye(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,$e,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()})))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var $e;null===($e=this.session)||void 0===$e||$e.commitCurrentCompletion()}showNext(){var $e;null===($e=this.session)||void 0===$e||$e.showNextInlineCompletion()}showPrevious(){var $e;null===($e=this.session)||void 0===$e||$e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var $e;return Ve(this,void 0,void 0,function*(){const wt=yield null===($e=this.session)||void 0===$e?void 0:$e.hasMultipleInlineCompletions();return void 0!==wt&&wt})}};ie=function(Ot,$e,wt,Bt){var Kt,Xt=arguments.length,nn=Xt<3?$e:null===Bt?Bt=Object.getOwnPropertyDescriptor($e,wt):Bt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)nn=Reflect.decorate(Ot,$e,wt,Bt);else for(var Ge=Ot.length-1;Ge>=0;Ge--)(Kt=Ot[Ge])&&(nn=(Xt<3?Kt(nn):Xt>3?Kt($e,wt,nn):Kt($e,wt))||nn);return Xt>3&&nn&&Object.defineProperty($e,wt,nn),nn}([Pe(2,Q.Hy),Pe(3,E.c_),Pe(4,Ie.p),Pe(5,ee.A),Pe(6,re.Ui)],ie);class ye extends R{constructor($e,wt,Bt,Xt,nn,Kt,Ge,ct,St){let It;super($e),this.triggerPosition=wt,this.shouldUpdate=Bt,this.commandService=Xt,this.cache=nn,this.initialTriggerKind=Kt,this.languageConfigurationService=Ge,this.registry=ct,this.debounce=St,this.minReservedLineCount=0,this.updateOperation=this._register(new P.XK),this.updateSoon=this._register(new a.pY(()=>{const Zt=this.initialTriggerKind;return this.initialTriggerKind=_.bw.Automatic,this.update(Zt)},50)),this.filteredCompletions=[],this.currentlySelectedCompletionId=void 0,this._register(this.onDidChange(()=>{var Zt;const Ht=this.currentCompletion;if(Ht&&Ht.sourceInlineCompletion!==It){It=Ht.sourceInlineCompletion;const Pt=Ht.sourceProvider;null===(Zt=Pt.handleItemDidShow)||void 0===Zt||Zt.call(Pt,Ht.sourceInlineCompletions,It)}})),this._register((0,P.OF)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(Zt=>{var Ht;3!==Zt.reason&&(null===(Ht=this.cache.value)||void 0===Ht||Ht.updateRanges(),this.cache.value&&(this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire()))})),this._register(this.editor.onDidChangeModelContent(Zt=>{var Ht;null===(Ht=this.cache.value)||void 0===Ht||Ht.updateRanges(),this.updateFilteredInlineCompletions(),this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}updateFilteredInlineCompletions(){if(!this.cache.value)return void(this.filteredCompletions=[]);const $e=this.editor.getModel(),wt=$e.validatePosition(this.editor.getPosition());this.filteredCompletions=this.cache.value.completions.filter(Bt=>{const Xt=$e.getValueInRange(Bt.synchronizedRange).toLowerCase(),nn=Bt.inlineCompletion.filterText.toLowerCase(),Kt=$e.getLineIndentColumn(Bt.synchronizedRange.startLineNumber),Ge=Math.max(0,wt.column-Bt.synchronizedRange.startColumn);let ct=nn.substring(0,Ge),St=nn.substring(Ge),It=Xt.substring(0,Ge),Zt=Xt.substring(Ge);return Bt.synchronizedRange.startColumn<=Kt&&(It=It.trimStart(),0===It.length&&(Zt=Zt.trimStart()),ct=ct.trimStart(),0===ct.length&&(St=St.trimStart())),ct.startsWith(It)&&(0,ge.Sy)(Zt,St)})}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||0===this.cache.value.completions.length)return 0;const $e=this.filteredCompletions.findIndex(wt=>wt.semanticId===this.currentlySelectedCompletionId);return-1===$e?(this.currentlySelectedCompletionId=void 0,0):$e}get currentCachedCompletion(){if(this.cache.value)return this.filteredCompletions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){return Ve(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const $e=this.filteredCompletions||[];if($e.length>0){const wt=(this.fixAndGetIndexOfCurrentSelection()+1)%$e.length;this.currentlySelectedCompletionId=$e[wt].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){return Ve(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const $e=this.filteredCompletions||[];if($e.length>0){const wt=(this.fixAndGetIndexOfCurrentSelection()+$e.length-1)%$e.length;this.currentlySelectedCompletionId=$e[wt].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var $e;return Ve(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===_.bw.Explicit?yield this.updateOperation.value.promise:yield this.update(_.bw.Explicit):(null===($e=this.cache.value)||void 0===$e?void 0:$e.triggerKind)!==_.bw.Explicit&&(yield this.update(_.bw.Explicit))})}hasMultipleInlineCompletions(){var $e;return Ve(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),((null===($e=this.cache.value)||void 0===$e?void 0:$e.completions.length)||0)>1})}get ghostText(){const $e=this.currentCompletion;if(!$e)return;const wt=this.editor.getPosition();if($e.range.getEndPosition().isBefore(wt))return;const Bt=this.editor.getOptions().get(57).mode,Xt=W($e,this.editor.getModel(),Bt,wt);return Xt?Xt.isEmpty()?void 0:Xt:new T($e.range.startLineNumber,$e.range.startColumn,$e.range.endColumn-$e.range.startColumn,$e.insertText.split("\n"),0)}get currentCompletion(){const $e=this.currentCachedCompletion;if($e)return $e.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update($e){return Ve(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const wt=this.editor.getPosition(),Bt=new Date,Xt=(0,a.PG)(Kt=>Ve(this,void 0,void 0,function*(){let Ge;try{Ge=yield Ae(this.registry,wt,this.editor.getModel(),{triggerKind:$e,selectedSuggestionInfo:void 0},Kt,this.languageConfigurationService);const ct=new Date;this.debounce.update(this.editor.getModel(),ct.getTime()-Bt.getTime())}catch(ct){return void(0,c.dL)(ct)}Kt.isCancellationRequested||(this.cache.setValue(this.editor,Ge,$e),this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire())})),nn=new _e(Xt,$e);this.updateOperation.value=nn,yield Xt,this.updateOperation.value===nn&&this.updateOperation.clear()})}takeOwnership($e){this._register($e)}commitCurrentCompletion(){if(!this.ghostText)return;const wt=this.currentCompletion;wt&&this.commit(wt)}commit($e){var wt;const Bt=this.cache.clearAndLeak();$e.snippetInfo?(this.editor.executeEdits("inlineSuggestion.accept",[l.h.replaceMove($e.range,""),...$e.additionalTextEdits]),this.editor.setPosition($e.snippetInfo.range.getStartPosition()),null===(wt=he.SnippetController2.get(this.editor))||void 0===wt||wt.insert($e.snippetInfo.snippet)):this.editor.executeEdits("inlineSuggestion.accept",[l.h.replaceMove($e.range,$e.insertText),...$e.additionalTextEdits]),$e.command?this.commandService.executeCommand($e.command.id,...$e.command.arguments||[]).finally(()=>{null==Bt||Bt.dispose()}).then(void 0,c.Cp):null==Bt||Bt.dispose(),this.onDidChangeEmitter.fire()}get commands(){var $e;return[...new Set((null===($e=this.cache.value)||void 0===$e?void 0:$e.completions.map(Bt=>Bt.inlineCompletion.sourceInlineCompletions))||[])].flatMap(Bt=>Bt.commands||[])}}class _e{constructor($e,wt){this.promise=$e,this.triggerKind=wt}dispose(){this.promise.cancel()}}class Be extends P.JT{constructor($e,wt,Bt,Xt){super(),this.editor=wt,this.onChange=Bt,this.triggerKind=Xt,this.isDisposing=!1;const nn=wt.changeDecorations(Kt=>Kt.deltaDecorations([],$e.items.map(Ge=>({range:Ge.range,options:{description:"inline-completion-tracking-range"}}))));this._register((0,P.OF)(()=>{this.isDisposing=!0,wt.removeDecorations(nn)})),this.completions=$e.items.map((Kt,Ge)=>new Qe(Kt,nn[Ge])),this._register(wt.onDidChangeModelContent(()=>{this.updateRanges()})),this._register($e)}updateRanges(){if(this.isDisposing)return;let $e=!1;const wt=this.editor.getModel();for(const Bt of this.completions){const Xt=wt.getDecorationRange(Bt.decorationId);Xt?Bt.synchronizedRange.equalsRange(Xt)||($e=!0,Bt.synchronizedRange=Xt):(0,c.dL)(new Error("Decoration has no range"))}$e&&this.onChange()}}class Qe{constructor($e,wt){this.inlineCompletion=$e,this.decorationId=wt,this.semanticId=JSON.stringify({text:this.inlineCompletion.insertText,abbreviation:this.inlineCompletion.filterText,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=$e.range}toLiveInlineCompletion(){return{insertText:this.inlineCompletion.insertText,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion,snippetInfo:this.inlineCompletion.snippetInfo,filterText:this.inlineCompletion.filterText,additionalTextEdits:this.inlineCompletion.additionalTextEdits}}}function Ae(Ot,$e,wt,Bt,Xt=p.T.None,nn){return Ve(this,void 0,void 0,function*(){const Kt=function pe(Ot,$e){const wt=$e.getWordAtPosition(Ot),Bt=$e.getLineMaxColumn(Ot.lineNumber);return wt?new v.e(Ot.lineNumber,wt.startColumn,Ot.lineNumber,Bt):v.e.fromPositions(Ot,Ot.with(void 0,Bt))}($e,wt),Ge=Ot.all(wt),ct=yield Promise.all(Ge.map(It=>Ve(this,void 0,void 0,function*(){const Zt=yield Promise.resolve(It.provideInlineCompletions(wt,$e,Bt,Xt)).catch(c.Cp);return{completions:Zt,provider:It,dispose:()=>{Zt&&It.freeInlineCompletions(Zt)}}}))),St=new Map;for(const It of ct){const Zt=It.completions;if(Zt)for(const Ht of Zt.items){let wn,Fn,Pt=Ht.range?v.e.lift(Ht.range):Kt;if(Pt.startLineNumber!==Pt.endLineNumber)continue;if("string"==typeof Ht.insertText){if(wn=Ht.insertText,nn&&Ht.completeBracketPairs){wn=De(wn,Pt.getStartPosition(),wt,nn);const Kn=wn.length-Ht.insertText.length;0!==Kn&&(Pt=new v.e(Pt.startLineNumber,Pt.startColumn,Pt.endLineNumber,Pt.endColumn+Kn))}Fn=void 0}else"snippet"in Ht.insertText?(wn=(new ce.Yj).parse(Ht.insertText.snippet).toString(),Fn={snippet:Ht.insertText.snippet,range:Pt}):(0,de.vE)(Ht.insertText);const Qt={insertText:wn,snippetInfo:Fn,range:Pt,command:Ht.command,sourceProvider:It.provider,sourceInlineCompletions:Zt,sourceInlineCompletion:Ht,filterText:Ht.filterText||wn,additionalTextEdits:Ht.additionalTextEdits||y};St.set(JSON.stringify({insertText:wn,range:Ht.range}),Qt)}}return{items:[...St.values()],dispose:()=>{for(const It of ct)It.dispose()}}})}function De(Ot,$e,wt,Bt){const nn=wt.getLineContent($e.lineNumber).substring(0,$e.column-1)+Ot,Kt=wt.tokenization.tokenizeLineWithEdit($e,nn.length-($e.column-1),Ot),Ge=null==Kt?void 0:Kt.sliceAndInflate($e.column-1,nn.length,0);return Ge?function be(Ot,$e){const wt=new w.FE,Bt=new V.Z(wt,St=>$e.getLanguageConfiguration(St)),Xt=new fe.xH(new me([Ot]),Bt),nn=(0,te.w)(Xt,[],void 0,!0);let Kt="";const Ge=Ot.getLineContent();return function ct(St,It){if(2===St.kind)ct(St.openingBracket,It),It=(0,$.Ii)(It,St.openingBracket.length),St.child&&(ct(St.child,It),It=(0,$.Ii)(It,St.child.length)),St.closingBracket?(ct(St.closingBracket,It),It=(0,$.Ii)(It,St.closingBracket.length)):Kt+=Bt.getSingleLanguageBracketTokens(St.openingBracket.languageId).findClosingTokenText(St.openingBracket.bracketIds);else if(3!==St.kind)if(0===St.kind||1===St.kind)Kt+=Ge.substring((0,$.F_)(It),(0,$.F_)((0,$.Ii)(It,St.length)));else if(4===St.kind)for(const Zt of St.children)ct(Zt,It),It=(0,$.Ii)(It,Zt.length)}(nn,$.xl),Kt}(Ge,Bt):Ot}var Oe=e(18337),Ne=e(87760),ne=e(67471);class xe extends P.JT{constructor($e,wt){super(),this.editor=$e,this.suggestControllerPreselector=wt,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new u.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new a.pY(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register($e.onKeyDown(Xt=>{Xt.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register($e.onKeyUp(Xt=>{Xt.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const Bt=ne.SuggestController.get(this.editor);if(Bt){this._register(Bt.registerSelector({priority:100,select:(Kt,Ge,ct)=>{const St=this.editor.getModel(),It=G(St,this.suggestControllerPreselector());if(!It)return-1;const Zt=N.L.lift(Ge),Ht=ct.map((wn,Fn)=>{const Qt=lt(Bt,Zt,wn,this.isShiftKeyPressed),Kn=G(St,null==Qt?void 0:Qt.normalizedInlineCompletion);if(!Kn)return;const Zn=function Je(Ot,$e){return $e.startLineNumber===Ot.startLineNumber&&$e.startColumn===Ot.startColumn&&($e.endLineNumber<Ot.endLineNumber||$e.endLineNumber===Ot.endLineNumber&&$e.endColumn<=Ot.endColumn)}(It.range,Kn.range)&&It.insertText.startsWith(Kn.insertText);return{index:Fn,valid:Zn,prefixLength:Kn.insertText.length,suggestItem:wn}}).filter(wn=>wn&&wn.valid),Pt=(0,Oe.Dc)(Ht,(0,Oe.tT)(wn=>wn.prefixLength,Oe.fv));return Pt?Pt.index:-1}}));let Xt=!1;const nn=()=>{Xt||(Xt=!0,this._register(Bt.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(Bt.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(Bt.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(u.ju.once(Bt.model.onDidTrigger)(Kt=>{nn()}))}this.update(this._isActive)}get state(){if(this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update($e){const wt=this.getSuggestItemInfo();let Bt=!1;(function gt(Ot,$e){return Ot===$e||!(!Ot||!$e)&&Ot.completionItemKind===$e.completionItemKind&&Ot.isSnippetText===$e.isSnippetText&&function F(Ot,$e){return Ot===$e||!(!Ot||!$e)&&Ot.range.equalsRange($e.range)&&Ot.insertText===$e.insertText&&Ot.command===$e.command}(Ot.normalizedInlineCompletion,$e.normalizedInlineCompletion)})(this._currentSuggestItemInfo,wt)||(this._currentSuggestItemInfo=wt,Bt=!0),this._isActive!==$e&&(this._isActive=$e,Bt=!0),Bt&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const $e=ne.SuggestController.get(this.editor);if(!$e||!this.isSuggestWidgetVisible)return;const wt=$e.widget.value.getFocusedItem();return wt?lt($e,this.editor.getPosition(),wt.item,this.isShiftKeyPressed):void 0}stopForceRenderingAbove(){const $e=ne.SuggestController.get(this.editor);$e&&$e.stopForceRenderingAbove()}forceRenderingAbove(){const $e=ne.SuggestController.get(this.editor);$e&&$e.forceRenderingAbove()}}function lt(Ot,$e,wt,Bt){if(Array.isArray(wt.completion.additionalTextEdits)&&wt.completion.additionalTextEdits.length>0)return{completionItemKind:wt.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:v.e.fromPositions($e,$e),insertText:"",filterText:"",snippetInfo:void 0,additionalTextEdits:[]}};let{insertText:Xt}=wt.completion,nn=!1;if(4&wt.completion.insertTextRules){const Ge=(new ce.Yj).parse(Xt),ct=Ot.editor.getModel();if(Ge.children.length>100)return;Ne.l.adjustWhitespace(ct,$e,Ge,!0,!0),Xt=Ge.toString(),nn=!0}const Kt=Ot.getOverwriteInfo(wt,Bt);return{isSnippetText:nn,completionItemKind:wt.completion.kind,normalizedInlineCompletion:{insertText:Xt,filterText:Xt,range:v.e.fromPositions($e.delta(0,-Kt.overwriteBefore),$e.delta(0,Math.max(Kt.overwriteAfter,0))),snippetInfo:void 0,additionalTextEdits:[]}}}var Ue=function(Ot,$e,wt,Bt){return new(wt||(wt=Promise))(function(nn,Kt){function Ge(It){try{St(Bt.next(It))}catch(Zt){Kt(Zt)}}function ct(It){try{St(Bt.throw(It))}catch(Zt){Kt(Zt)}}function St(It){It.done?nn(It.value):function Xt(nn){return nn instanceof wt?nn:new wt(function(Kt){Kt(nn)})}(It.value).then(Ge,ct)}St((Bt=Bt.apply(Ot,$e||[])).next())})};let ot=class extends R{constructor($e,wt,Bt){super($e),this.cache=wt,this.languageFeaturesService=Bt,this.suggestionInlineCompletionSource=this._register(new xe(this.editor,()=>{var Xt,nn;return null===(nn=null===(Xt=this.cache.value)||void 0===Xt?void 0:Xt.completions[0])||void 0===nn?void 0:nn.toLiveInlineCompletion()})),this.updateOperation=this._register(new P.XK),this.updateCacheSoon=this._register(new a.pY(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{if(!this.editor.hasModel())return;this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const nn=this.ghostText;nn&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,function et(Ot){return Ot.reduce(($e,wt)=>$e+wt,0)}(nn.parts.map(Kt=>Kt.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(Xt=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,P.OF)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return void 0!==this.suggestionInlineCompletionSource.state}isSuggestionPreviewEnabled(){return this.editor.getOption(108).preview}updateCache(){return Ue(this,void 0,void 0,function*(){const $e=this.suggestionInlineCompletionSource.state;if(!$e||!$e.selectedItem)return;const wt={text:$e.selectedItem.normalizedInlineCompletion.insertText,range:$e.selectedItem.normalizedInlineCompletion.range,isSnippetText:$e.selectedItem.isSnippetText,completionKind:$e.selectedItem.completionItemKind},Bt=this.editor.getPosition();if($e.selectedItem.isSnippetText||27===$e.selectedItem.completionItemKind||20===$e.selectedItem.completionItemKind||23===$e.selectedItem.completionItemKind)return void this.cache.clear();const Xt=(0,a.PG)(Kt=>Ue(this,void 0,void 0,function*(){let Ge;try{Ge=yield Ae(this.languageFeaturesService.inlineCompletionsProvider,Bt,this.editor.getModel(),{triggerKind:_.bw.Automatic,selectedSuggestionInfo:wt},Kt)}catch(ct){return void(0,c.dL)(ct)}Kt.isCancellationRequested?Ge.dispose():(this.cache.setValue(this.editor,Ge,_.bw.Automatic),this.onDidChangeEmitter.fire())})),nn=new _e(Xt,_.bw.Automatic);this.updateOperation.value=nn,yield Xt,this.updateOperation.value===nn&&this.updateOperation.clear()})}get ghostText(){var $e,wt,Bt;const Xt=this.isSuggestionPreviewEnabled(),nn=this.editor.getModel(),Kt=G(nn,null===(wt=null===($e=this.cache.value)||void 0===$e?void 0:$e.completions[0])||void 0===wt?void 0:wt.toLiveInlineCompletion()),Ge=this.suggestionInlineCompletionSource.state,ct=G(nn,null===(Bt=null==Ge?void 0:Ge.selectedItem)||void 0===Bt?void 0:Bt.normalizedInlineCompletion),St=Kt&&ct&&Kt.insertText.startsWith(ct.insertText)&&Kt.range.equalsRange(ct.range);if(!Xt&&!St)return;const It=St?Kt:ct||Kt;return this.toGhostText(It,St?It.insertText.length-ct.insertText.length:0)}toGhostText($e,wt){const Bt=this.editor.getOptions().get(108).previewMode;return $e?W($e,this.editor.getModel(),Bt,this.editor.getPosition(),wt)||new b($e.range.endLineNumber,[],this.minReservedLineCount):void 0}};var $e;ot=function(Ot,$e,wt,Bt){var Kt,Xt=arguments.length,nn=Xt<3?$e:null===Bt?Bt=Object.getOwnPropertyDescriptor($e,wt):Bt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)nn=Reflect.decorate(Ot,$e,wt,Bt);else for(var Ge=Ot.length-1;Ge>=0;Ge--)(Kt=Ot[Ge])&&(nn=(Xt<3?Kt(nn):Xt>3?Kt($e,wt,nn):Kt($e,wt))||nn);return Xt>3&&nn&&Object.defineProperty($e,wt,nn),nn}([(2,$e=Ie.p,function(wt,Bt){$e(wt,Bt,2)})],ot);var Ze=e(64725);class dt extends P.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new u.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new P.XK)}get targetModel(){var $e;return null===($e=this.currentModelRef.value)||void 0===$e?void 0:$e.object}setTargetModel($e){var wt;(null===(wt=this.currentModelRef.value)||void 0===wt?void 0:wt.object)!==$e&&(this.currentModelRef.clear(),this.currentModelRef.value=$e?function d(Ot,$e){return{object:Ot,dispose:()=>null==$e?void 0:$e.dispose()}}($e,$e.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var $e,wt;return this.hasCachedGhostText||(this.cachedGhostText=null===(wt=null===($e=this.currentModelRef.value)||void 0===$e?void 0:$e.object)||void 0===wt?void 0:wt.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded($e){var wt;null===(wt=this.targetModel)||void 0===wt||wt.setExpanded($e)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let $t=class extends dt{constructor($e,wt){super(),this.editor=$e,this.instantiationService=wt,this.sharedCache=this._register(new hn),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(ot,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(ie,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt($e){var wt;const Bt=null===(wt=this.activeInlineCompletionsModel)||void 0===wt?void 0:wt.ghostText;return!!Bt&&Bt.parts.some(Xt=>$e.containsPosition(new N.L(Bt.lineNumber,Xt.column)))}triggerInlineCompletion(){var $e;null===($e=this.activeInlineCompletionsModel)||void 0===$e||$e.trigger(_.bw.Explicit)}commitInlineCompletion(){var $e;null===($e=this.activeInlineCompletionsModel)||void 0===$e||$e.commitCurrentSuggestion()}hideInlineCompletion(){var $e;null===($e=this.activeInlineCompletionsModel)||void 0===$e||$e.hide()}showNextInlineCompletion(){var $e;null===($e=this.activeInlineCompletionsModel)||void 0===$e||$e.showNext()}showPreviousInlineCompletion(){var $e;null===($e=this.activeInlineCompletionsModel)||void 0===$e||$e.showPrevious()}hasMultipleInlineCompletions(){var $e;return function(Ot,$e,wt,Bt){return new(wt||(wt=Promise))(function(nn,Kt){function Ge(It){try{St(Bt.next(It))}catch(Zt){Kt(Zt)}}function ct(It){try{St(Bt.throw(It))}catch(Zt){Kt(Zt)}}function St(It){It.done?nn(It.value):function Xt(nn){return nn instanceof wt?nn:new wt(function(Kt){Kt(nn)})}(It.value).then(Ge,ct)}St((Bt=Bt.apply(Ot,$e||[])).next())})}(this,void 0,void 0,function*(){const wt=yield null===($e=this.activeInlineCompletionsModel)||void 0===$e?void 0:$e.hasMultipleInlineCompletions();return void 0!==wt&&wt})}};$t=function(Ot,$e,wt,Bt){var Kt,Xt=arguments.length,nn=Xt<3?$e:null===Bt?Bt=Object.getOwnPropertyDescriptor($e,wt):Bt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)nn=Reflect.decorate(Ot,$e,wt,Bt);else for(var Ge=Ot.length-1;Ge>=0;Ge--)(Kt=Ot[Ge])&&(nn=(Xt<3?Kt(nn):Xt>3?Kt($e,wt,nn):Kt($e,wt))||nn);return Xt>3&&nn&&Object.defineProperty($e,wt,nn),nn}([function(Ot,$e){return function(wt,Bt){$e(wt,Bt,1)}}(0,Ze.TG)],$t);class hn extends P.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new u.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new P.XK)}get value(){return this.cache.value}setValue($e,wt,Bt){this.cache.value=new Be(wt,$e,()=>this.onDidChangeEmitter.fire(),Bt)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var vn=e(58059),ft=e(93379),ke=e.n(ft),nt=e(7795),st=e.n(nt),Ee=e(90569),Fe=e.n(Ee),mt=e(3565),Vt=e.n(mt),qt=e(19216),Cn=e.n(qt),Gt=e(44589),en=e.n(Gt),Yt=e(77682),ht={};ht.styleTagTransform=en(),ht.setAttributes=Vt(),ht.insert=Fe().bind(null,"head"),ht.domAPI=st(),ht.insertStyleElement=Cn(),ke()(Yt.Z,ht);var Dt,jt=e(95748),yn=e(16367),En=e(8028),xn=e(68511),Un=e(32213),ai=e(42570),ei=e(53448),Di=e(94500),li=e(26046),Qn=e(23024),Dn=function(Ot,$e){return function(wt,Bt){$e(wt,Bt,Ot)}};const Te=null===(Dt=window.trustedTypes)||void 0===Dt?void 0:Dt.createPolicy("editorGhostText",{createHTML:Ot=>Ot});let oe=class extends P.JT{constructor($e,wt,Bt,Xt){super(),this.editor=$e,this.model=wt,this.instantiationService=Bt,this.languageService=Xt,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(We,this.editor)),this.additionalLinesWidget=this._register(new it(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this.replacementDecoration=this._register(new Le(this.editor)),this._register(this.editor.onDidChangeConfiguration(nn=>{(nn.hasChanged(29)||nn.hasChanged(107)||nn.hasChanged(90)||nn.hasChanged(85)||nn.hasChanged(47)||nn.hasChanged(46)||nn.hasChanged(61))&&this.update()})),this._register((0,P.OF)(()=>{var nn;this.disposed=!0,this.update(),null===(nn=this.viewMoreContentWidget)||void 0===nn||nn.dispose(),this.viewMoreContentWidget=void 0})),this._register(wt.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone($e){return this.additionalLinesWidget.viewZoneId===$e}update(){var $e;const wt=this.model.ghostText;if(!this.editor.hasModel()||!wt||this.disposed)return this.partsWidget.clear(),this.additionalLinesWidget.clear(),void this.replacementDecoration.clear();const Bt=new Array,Xt=new Array;function nn(St,It){if(Xt.length>0){const Zt=Xt[Xt.length-1];It&&Zt.decorations.push(new Di.Kp(Zt.content.length+1,Zt.content.length+1+St[0].length,It,0)),Zt.content+=St[0],St=St.slice(1)}for(const Zt of St)Xt.push({content:Zt,decorations:It?[new Di.Kp(1,Zt.length+1,It,0)]:[]})}this.replacementDecoration.setDecorations(wt instanceof T?[{range:new v.e(wt.lineNumber,wt.columnStart,wt.lineNumber,wt.columnStart+wt.length),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}]:[]);const Kt=this.editor.getModel().getLineContent(wt.lineNumber);let Ge,ct=0;for(const St of wt.parts){let It=St.lines;void 0===Ge?(Bt.push({column:St.column,text:It[0],preview:St.preview}),It=It.slice(1)):nn([Kt.substring(ct,St.column-1)],void 0),It.length>0&&(nn(It,"ghost-text"),void 0===Ge&&St.column<=Kt.length&&(Ge=St.column)),ct=St.column-1}void 0!==Ge&&nn([Kt.substring(ct)],void 0),this.partsWidget.setParts(wt.lineNumber,Bt,void 0!==Ge?{column:Ge,length:Kt.length+1-Ge}:void 0),this.additionalLinesWidget.updateLines(wt.lineNumber,Xt,wt.additionalReservedLineCount),null===($e=this.viewMoreContentWidget)||void 0===$e||$e.dispose(),this.viewMoreContentWidget=void 0}renderViewMoreLines($e,wt,Bt){const Xt=this.editor.getOption(46),nn=document.createElement("div");nn.className="suggest-preview-additional-widget",(0,jt.N)(nn,Xt);const Kt=document.createElement("span");Kt.className="content-spacer",Kt.append(wt),nn.append(Kt);const Ge=document.createElement("span");Ge.className="content-newline suggest-preview-text",Ge.append("\u23ce  "),nn.append(Ge);const ct=new P.SL,St=document.createElement("div");return St.className="button suggest-preview-text",St.append(`+${Bt} lines\u2026`),ct.add(vn.mu(St,"mousedown",It=>{var Zt;null===(Zt=this.model)||void 0===Zt||Zt.setExpanded(!0),It.preventDefault(),this.editor.focus()})),nn.append(St),new Et(this.editor,$e,nn,ct)}};oe=function(Ot,$e,wt,Bt){var Kt,Xt=arguments.length,nn=Xt<3?$e:null===Bt?Bt=Object.getOwnPropertyDescriptor($e,wt):Bt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)nn=Reflect.decorate(Ot,$e,wt,Bt);else for(var Ge=Ot.length-1;Ge>=0;Ge--)(Kt=Ot[Ge])&&(nn=(Xt<3?Kt(nn):Xt>3?Kt($e,wt,nn):Kt($e,wt))||nn);return Xt>3&&nn&&Object.defineProperty($e,wt,nn),nn}([Dn(2,Ze.TG),Dn(3,ai.O)],oe);class Le{constructor($e){this.editor=$e,this.decorationIds=[]}setDecorations($e){this.editor.changeDecorations(wt=>{this.decorationIds=wt.deltaDecorations(this.decorationIds,$e)})}clear(){this.setDecorations([])}dispose(){this.clear()}}class We{constructor($e){this.editor=$e,this.decorationIds=[]}dispose(){this.clear()}clear(){this.editor.changeDecorations($e=>{this.decorationIds=$e.deltaDecorations(this.decorationIds,[])})}setParts($e,wt,Bt){if(!this.editor.getModel())return;const nn=new Array;Bt&&nn.push({range:v.e.fromPositions(new N.L($e,Bt.column),new N.L($e,Bt.column+Bt.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.editor.changeDecorations(Kt=>{this.decorationIds=Kt.deltaDecorations(this.decorationIds,wt.map(Ge=>({range:v.e.fromPositions(new N.L($e,Ge.column)),options:{description:"ghost-text",after:{content:Ge.text,inlineClassName:Ge.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:Un.RM.Left},showIfCollapsed:!0}})).concat(nn))})}}class it{constructor($e,wt){this.editor=$e,this.languageIdCodec=wt,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones($e=>{this._viewZoneId&&($e.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines($e,wt,Bt){const Xt=this.editor.getModel();if(!Xt)return;const{tabSize:nn}=Xt.getOptions();this.editor.changeViewZones(Kt=>{this._viewZoneId&&(Kt.removeZone(this._viewZoneId),this._viewZoneId=void 0);const Ge=Math.max(wt.length,Bt);if(Ge>0){const ct=document.createElement("div");(function pt(Ot,$e,wt,Bt,Xt){const nn=Bt.get(29),Kt=Bt.get(107),ct=Bt.get(85),St=Bt.get(47),It=Bt.get(46),Zt=Bt.get(61),Ht=(0,xn.l$)(1e4);Ht.appendASCIIString('<div class="suggest-preview-text">');for(let Fn=0,Qt=wt.length;Fn<Qt;Fn++){const Kn=wt[Fn],Zn=Kn.content;Ht.appendASCIIString('<div class="view-line'),Ht.appendASCIIString('" style="top:'),Ht.appendASCIIString(String(Fn*Zt)),Ht.appendASCIIString('px;width:1000000px;">');const _t=A.$i(Zn),D=A.Ut(Zn),K=En.A.createEmpty(Zn,Xt);(0,li.d1)(new li.IJ(It.isMonospace&&!nn,It.canUseHalfwidthRightwardsArrow,Zn,!1,_t,D,0,K,Kn.decorations,$e,0,It.spaceWidth,It.middotWidth,It.wsmiddotWidth,Kt,"none",ct,St!==yn.n0.OFF,null),Ht),Ht.appendASCIIString("</div>")}Ht.appendASCIIString("</div>"),(0,jt.N)(Ot,It);const Pt=Ht.build(),wn=Te?Te.createHTML(Pt):Pt;Ot.innerHTML=wn})(ct,nn,wt,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=Kt.addZone({afterLineNumber:$e,heightInLines:Ge,domNode:ct,afterColumnAffinity:1})}})}}class Et extends P.JT{constructor($e,wt,Bt,Xt){super(),this.editor=$e,this.position=wt,this.domNode=Bt,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(Xt),this._register((0,P.OF)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,Qn.Ic)((Ot,$e)=>{const wt=Ot.getColor(ei.N5);wt&&($e.addRule(`.monaco-editor .ghost-text-decoration { color: ${wt.toString()} !important; }`),$e.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${wt.toString()} !important; }`),$e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${wt.toString()} !important; }`));const Bt=Ot.getColor(ei.IO);Bt&&($e.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${Bt.toString()}; }`),$e.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${Bt.toString()}; }`),$e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${Bt.toString()}; }`));const Xt=Ot.getColor(ei.x3);Xt&&($e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${Xt}; }`),$e.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${Xt}; }`),$e.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${Xt}; }`))});var Ut=e(40402),sn=e(59776),pn=function(Ot,$e,wt,Bt){var Kt,Xt=arguments.length,nn=Xt<3?$e:null===Bt?Bt=Object.getOwnPropertyDescriptor($e,wt):Bt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)nn=Reflect.decorate(Ot,$e,wt,Bt);else for(var Ge=Ot.length-1;Ge>=0;Ge--)(Kt=Ot[Ge])&&(nn=(Xt<3?Kt(nn):Xt>3?Kt($e,wt,nn):Kt($e,wt))||nn);return Xt>3&&nn&&Object.defineProperty($e,wt,nn),nn},In=function(Ot,$e){return function(wt,Bt){$e(wt,Bt,Ot)}},On=function(Ot,$e,wt,Bt){return new(wt||(wt=Promise))(function(nn,Kt){function Ge(It){try{St(Bt.next(It))}catch(Zt){Kt(Zt)}}function ct(It){try{St(Bt.throw(It))}catch(Zt){Kt(Zt)}}function St(It){It.done?nn(It.value):function Xt(nn){return nn instanceof wt?nn:new wt(function(Kt){Kt(nn)})}(It.value).then(Ge,ct)}St((Bt=Bt.apply(Ot,$e||[])).next())})};let Tn=class Zd extends P.JT{constructor($e,wt){super(),this.editor=$e,this.instantiationService=wt,this.triggeredExplicitly=!1,this.activeController=this._register(new P.XK),this.activeModelDidChangeEmitter=this._register(new u.Q5),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(Bt=>{Bt.hasChanged(108)&&this.updateModelController(),Bt.hasChanged(57)&&this.updateModelController()})),this.updateModelController()}static get($e){return $e.getContribution(Zd.ID)}get activeModel(){var $e;return null===($e=this.activeController.value)||void 0===$e?void 0:$e.model}updateModelController(){const $e=this.editor.getOption(108),wt=this.editor.getOption(57);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&($e.preview||wt.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(An,this.editor):void 0,this.activeModelDidChangeEmitter.fire()}shouldShowHoverAt($e){var wt;return(null===(wt=this.activeModel)||void 0===wt?void 0:wt.shouldShowHoverAt($e))||!1}shouldShowHoverAtViewZone($e){var wt,Bt;return(null===(Bt=null===(wt=this.activeController.value)||void 0===wt?void 0:wt.widget)||void 0===Bt?void 0:Bt.shouldShowHoverAtViewZone($e))||!1}trigger(){var $e;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),null===($e=this.activeModel)||void 0===$e||$e.triggerInlineCompletion()}commit(){var $e;null===($e=this.activeModel)||void 0===$e||$e.commitInlineCompletion()}hide(){var $e;null===($e=this.activeModel)||void 0===$e||$e.hideInlineCompletion()}showNextInlineCompletion(){var $e;null===($e=this.activeModel)||void 0===$e||$e.showNextInlineCompletion()}showPreviousInlineCompletion(){var $e;null===($e=this.activeModel)||void 0===$e||$e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var $e;return On(this,void 0,void 0,function*(){const wt=yield null===($e=this.activeModel)||void 0===$e?void 0:$e.hasMultipleInlineCompletions();return void 0!==wt&&wt})}};Tn.inlineSuggestionVisible=new sn.uy("inlineSuggestionVisible",!1,Ut.NC("inlineSuggestionVisible","Whether an inline suggestion is visible")),Tn.inlineSuggestionHasIndentation=new sn.uy("inlineSuggestionHasIndentation",!1,Ut.NC("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),Tn.inlineSuggestionHasIndentationLessThanTabSize=new sn.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,Ut.NC("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),Tn.ID="editor.contrib.ghostTextController",Tn=pn([In(1,Ze.TG)],Tn);class kn{constructor($e){this.contextKeyService=$e,this.inlineCompletionVisible=Tn.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=Tn.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=Tn.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let An=class extends P.JT{constructor($e,wt,Bt){super(),this.editor=$e,this.instantiationService=wt,this.contextKeyService=Bt,this.contextKeys=new kn(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance($t,this.editor)),this.widget=this._register(this.instantiationService.createInstance(oe,this.editor,this.model)),this._register((0,P.OF)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var $e;this.contextKeys.inlineCompletionVisible.set(void 0!==(null===($e=this.model.activeInlineCompletionsModel)||void 0===$e?void 0:$e.ghostText));let wt=!1,Bt=!0;const Xt=this.model.inlineCompletionsModel.ghostText;if(this.model.activeInlineCompletionsModel&&Xt&&Xt.parts.length>0){const{column:nn,lines:Kt}=Xt.parts[0],Ge=Kt[0];if(nn<=this.editor.getModel().getLineIndentColumn(Xt.lineNumber)){let It=(0,A.LC)(Ge);-1===It&&(It=Ge.length-1),wt=It>0;const Zt=this.editor.getModel().getOptions().tabSize;Bt=k.i.visibleColumnFromColumn(Ge,It+1,Zt)<Zt}}this.contextKeys.inlineCompletionSuggestsIndentation.set(wt),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(Bt)}};An=pn([In(1,Ze.TG),In(2,sn.i6)],An);let Gn=(()=>{class Ot extends f.R6{constructor(){super({id:Ot.ID,label:Ut.NC("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:sn.Ao.and(s.u.writable,Tn.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(wt,Bt){return On(this,void 0,void 0,function*(){const Xt=Tn.get(Bt);Xt&&(Xt.showNextInlineCompletion(),Bt.focus())})}}return Ot.ID="editor.action.inlineSuggest.showNext",Ot})(),ri=(()=>{class Ot extends f.R6{constructor(){super({id:Ot.ID,label:Ut.NC("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:sn.Ao.and(s.u.writable,Tn.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(wt,Bt){return On(this,void 0,void 0,function*(){const Xt=Tn.get(Bt);Xt&&(Xt.showPreviousInlineCompletion(),Bt.focus())})}}return Ot.ID="editor.action.inlineSuggest.showPrevious",Ot})();var Si=e(22468),xi=e(53873),Li=e(12452),Yn=e(61004),fi=e(26589),mn=function(Ot,$e){return function(wt,Bt){$e(wt,Bt,Ot)}};class bt{constructor($e,wt,Bt){this.owner=$e,this.range=wt,this.controller=Bt}isValidForHoverAnchor($e){return 1===$e.type&&this.range.startColumn<=$e.range.startColumn&&this.range.endColumn>=$e.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}get commands(){var $e,wt,Bt;return(null===(Bt=null===(wt=null===($e=this.controller.activeModel)||void 0===$e?void 0:$e.activeInlineCompletionsModel)||void 0===wt?void 0:wt.completionSession.value)||void 0===Bt?void 0:Bt.commands)||[]}}let Lt=class{constructor($e,wt,Bt,Xt,nn,Kt,Ge){this._editor=$e,this._commandService=wt,this._menuService=Bt,this._contextKeyService=Xt,this._languageService=nn,this._openerService=Kt,this.accessibilityService=Ge,this.hoverOrdinal=3}suggestHoverAnchor($e){const wt=Tn.get(this._editor);if(!wt)return null;const Bt=$e.target;if(8===Bt.type){const Xt=Bt.detail;if(wt.shouldShowHoverAtViewZone(Xt.viewZoneId))return new L.YM(1e3,this,v.e.fromPositions(Xt.positionBefore||Xt.position,Xt.positionBefore||Xt.position))}return 7===Bt.type&&wt.shouldShowHoverAt(Bt.range)||6===Bt.type&&Bt.detail.mightBeForeignElement&&wt.shouldShowHoverAt(Bt.range)?new L.YM(1e3,this,Bt.range):null}computeSync($e,wt){const Bt=Tn.get(this._editor);return Bt&&Bt.shouldShowHoverAt($e.range)?[new bt(this,$e.range,Bt)]:[]}renderHoverParts($e,wt){const Bt=new P.SL,Xt=wt[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText($e,Xt,Bt);const nn=Bt.add(this._menuService.createMenu(Yn.eH.InlineCompletionsActions,this._contextKeyService)),Kt=$e.statusBar.addAction({label:Ut.NC("showNextInlineSuggestion","Next"),commandId:Gn.ID,run:()=>this._commandService.executeCommand(Gn.ID)}),Ge=$e.statusBar.addAction({label:Ut.NC("showPreviousInlineSuggestion","Previous"),commandId:ri.ID,run:()=>this._commandService.executeCommand(ri.ID)});$e.statusBar.addAction({label:Ut.NC("acceptInlineSuggestion","Accept"),commandId:M,run:()=>this._commandService.executeCommand(M)});const ct=[Kt,Ge];for(const St of ct)St.setEnabled(!1);Xt.hasMultipleSuggestions().then(St=>{for(const It of ct)It.setEnabled(St)});for(const St of Xt.commands)$e.statusBar.addAction({label:St.title,commandId:St.id,run:()=>this._commandService.executeCommand(St.id,...St.arguments||[])});for(const[St,It]of nn.getActions())for(const Zt of It)Zt instanceof Yn.U8&&$e.statusBar.addAction({label:Zt.label,commandId:Zt.item.id,run:()=>this._commandService.executeCommand(Zt.item.id)});return Bt}renderScreenReaderText($e,wt,Bt){var Xt,nn;const Kt=vn.$,Ge=Kt("div.hover-row.markdown-hover"),ct=vn.R3(Ge,Kt("div.hover-contents")),St=Bt.add(new xi.$({editor:this._editor},this._languageService,this._openerService)),Zt=null===(nn=null===(Xt=wt.controller.activeModel)||void 0===Xt?void 0:Xt.inlineCompletionsModel)||void 0===nn?void 0:nn.ghostText;if(Zt){const Ht=this._editor.getModel().getLineContent(Zt.lineNumber);(Ht=>{Bt.add(St.onDidRenderAsync(()=>{ct.className="hover-contents code-hover-contents",$e.onContentsChanged()}));const Pt=Ut.NC("inlineSuggestionFollows","Suggestion:"),wn=Bt.add(St.render((new Si.W5).appendText(Pt).appendCodeblock("text",Ht)));ct.replaceChildren(wn.element)})(Zt.renderForScreenReader(Ht))}$e.fragment.appendChild(Ge)}};Lt=function(Ot,$e,wt,Bt){var Kt,Xt=arguments.length,nn=Xt<3?$e:null===Bt?Bt=Object.getOwnPropertyDescriptor($e,wt):Bt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)nn=Reflect.decorate(Ot,$e,wt,Bt);else for(var Ge=Ot.length-1;Ge>=0;Ge--)(Kt=Ot[Ge])&&(nn=(Xt<3?Kt(nn):Xt>3?Kt($e,wt,nn):Kt($e,wt))||nn);return Xt>3&&nn&&Object.defineProperty($e,wt,nn),nn}([mn(1,Q.Hy),mn(2,Yn.co),mn(3,sn.i6),mn(4,ai.O),mn(5,fi.v4),mn(6,Li.F)],Lt);var Ft=e(7550);(0,f._K)(Tn.ID,Tn),(0,f.Qr)(class si extends f.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:Ut.NC("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:s.u.writable})}run($e,wt){return On(this,void 0,void 0,function*(){const Bt=Tn.get(wt);Bt&&Bt.trigger()})}}),(0,f.Qr)(Gn),(0,f.Qr)(ri),L.Ae.register(Lt);const un=f._l.bindToContribution(Tn.get),ln=new un({id:M,precondition:Tn.inlineSuggestionVisible,handler(Ot){Ot.commit(),Ot.editor.focus()}});(0,f.fK)(ln),Ft.W.registerKeybindingRule({primary:2,weight:200,id:ln.id,when:sn.Ao.and(ln.precondition,s.u.tabMovesFocus.toNegated(),Tn.inlineSuggestionHasIndentationLessThanTabSize)}),(0,f.fK)(new un({id:"editor.action.inlineSuggest.hide",precondition:Tn.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(Ot){Ot.hide()}}))},79888:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{ExpandLineSelectionAction:()=>u});var f=e(95172),s=e(46396),L=e(29584),M=e(40402);class u extends f.R6{constructor(){super({id:"expandLineSelection",label:M.NC("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:L.u.textInputFocus,primary:2090}})}run(A,k,N){if(N=N||{},!k.hasModel())return;const _=k._getViewModel();_.model.pushStackElement(),_.setCursorStates(N.source,3,s.P.expandLineSelection(_,_.getCursorStates())),_.revealPrimaryCursor(N.source,!0)}}(0,f.Qr)(u)},89158:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{AbstractCaseAction:()=>Pe,AbstractDeleteAllToBoundaryAction:()=>he,AbstractSortLinesAction:()=>V,DeleteAllLeftAction:()=>de,DeleteAllRightAction:()=>ge,DeleteDuplicateLinesAction:()=>w,DeleteLinesAction:()=>be,DuplicateSelectionAction:()=>z,IndentLinesAction:()=>me,InsertLineAfterAction:()=>ce,InsertLineBeforeAction:()=>ee,JoinLinesAction:()=>re,KebabCaseAction:()=>Qe,LowerCaseAction:()=>ie,SnakeCaseAction:()=>Be,SortLinesAscendingAction:()=>$,SortLinesDescendingAction:()=>te,TitleCaseAction:()=>_e,TransposeAction:()=>Se,TrimTrailingWhitespaceAction:()=>fe,UpperCaseAction:()=>Ve});var f=e(36950),s=e(99839),L=e(95172),M=e(85753),u=e(93059),P=e(12033),A=e(68451);class k{constructor(pe,De){this._selection=pe,this._cursors=De,this._selectionId=null}getEditOperations(pe,De){const Oe=function N(Ae,pe){pe.sort((xe,Je)=>xe.lineNumber===Je.lineNumber?xe.column-Je.column:xe.lineNumber-Je.lineNumber);for(let xe=pe.length-2;xe>=0;xe--)pe[xe].lineNumber===pe[xe+1].lineNumber&&pe.splice(xe,1);const De=[];let Oe=0,Ne=0;const ne=pe.length;for(let xe=1,Je=Ae.getLineCount();xe<=Je;xe++){const gt=Ae.getLineContent(xe),lt=gt.length+1;let Ke=0;if(Ne<ne&&pe[Ne].lineNumber===xe&&(Ke=pe[Ne].column,Ne++,Ke===lt)||0===gt.length)continue;const He=u.ow(gt);let Ue=0;if(-1===He)Ue=1;else{if(He===gt.length-1)continue;Ue=He+2}Ue=Math.max(Ke,Ue),De[Oe++]=P.h.delete(new A.e(xe,Ue,xe,lt))}return De}(pe,this._cursors);for(let Ne=0,ne=Oe.length;Ne<ne;Ne++){const xe=Oe[Ne];De.addEditOperation(xe.range,xe.text)}this._selectionId=De.trackSelection(this._selection)}computeCursorState(pe,De){return De.getTrackedSelection(this._selectionId)}}var _=e(36786),a=e(94220),p=e(43210),c=e(29584);class n{constructor(pe,De,Oe){this._selection=pe,this._isCopyingDown=De,this._noop=Oe||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(pe,De){let Oe=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,Oe.startLineNumber<Oe.endLineNumber&&1===Oe.endColumn&&(this._endLineNumberDelta=1,Oe=Oe.setEndPosition(Oe.endLineNumber-1,pe.getLineMaxColumn(Oe.endLineNumber-1)));const Ne=[];for(let xe=Oe.startLineNumber;xe<=Oe.endLineNumber;xe++)Ne.push(pe.getLineContent(xe));const ne=Ne.join("\n");""===ne&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?De.addEditOperation(new A.e(Oe.endLineNumber,pe.getLineMaxColumn(Oe.endLineNumber),Oe.endLineNumber+1,1),Oe.endLineNumber===pe.getLineCount()?"":"\n"):this._isCopyingDown?De.addEditOperation(new A.e(Oe.startLineNumber,1,Oe.startLineNumber,1),ne+"\n"):De.addEditOperation(new A.e(Oe.endLineNumber,pe.getLineMaxColumn(Oe.endLineNumber),Oe.endLineNumber,pe.getLineMaxColumn(Oe.endLineNumber)),"\n"+ne),this._selectionId=De.trackSelection(Oe),this._selectionDirection=this._selection.getDirection()}computeCursorState(pe,De){let Oe=De.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let Ne=Oe.startLineNumber,ne=Oe.startColumn,xe=Oe.endLineNumber,Je=Oe.endColumn;0!==this._startLineNumberDelta&&(Ne+=this._startLineNumberDelta,ne=1),0!==this._endLineNumberDelta&&(xe+=this._endLineNumberDelta,Je=1),Oe=p.Y.createWithDirection(Ne,ne,xe,Je,this._selectionDirection)}return Oe}}var l=e(81050),v=e(5526),d=e(23924),m=e(75951),I=e(88030),y=e(42641);let x=class{constructor(pe,De,Oe,Ne){this._languageConfigurationService=Ne,this._selection=pe,this._isMovingDown=De,this._autoIndent=Oe,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(pe,De){const Oe=pe.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===Oe)return void(this._selectionId=De.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=De.trackSelection(this._selection));this._moveEndPositionDown=!1;let Ne=this._selection;Ne.startLineNumber<Ne.endLineNumber&&1===Ne.endColumn&&(this._moveEndPositionDown=!0,Ne=Ne.setEndPosition(Ne.endLineNumber-1,pe.getLineMaxColumn(Ne.endLineNumber-1)));const{tabSize:ne,indentSize:xe,insertSpaces:Je}=pe.getOptions(),gt=this.buildIndentConverter(ne,xe,Je),lt={tokenization:{getLineTokens:Ke=>pe.tokenization.getLineTokens(Ke),getLanguageId:()=>pe.getLanguageId(),getLanguageIdAtPosition:(Ke,He)=>pe.getLanguageIdAtPosition(Ke,He)},getLineContent:null};if(Ne.startLineNumber===Ne.endLineNumber&&1===pe.getLineMaxColumn(Ne.startLineNumber)){const Ke=Ne.startLineNumber,He=this._isMovingDown?Ke+1:Ke-1;1===pe.getLineMaxColumn(He)?De.addEditOperation(new A.e(1,1,1,1),null):(De.addEditOperation(new A.e(Ke,1,Ke,1),pe.getLineContent(He)),De.addEditOperation(new A.e(He,1,He,pe.getLineMaxColumn(He)),null)),Ne=new p.Y(He,1,He,1)}else{let Ke,He;if(this._isMovingDown){Ke=Ne.endLineNumber+1,He=pe.getLineContent(Ke),De.addEditOperation(new A.e(Ke-1,pe.getLineMaxColumn(Ke-1),Ke,pe.getLineMaxColumn(Ke)),null);let Ue=He;if(this.shouldAutoIndent(pe,Ne)){const ot=this.matchEnterRule(pe,gt,ne,Ke,Ne.startLineNumber-1);if(null!==ot){const Ze=u.V8(pe.getLineContent(Ke)),Mt=ot+m.Y(Ze,ne);Ue=m.J(Mt,ne,Je)+this.trimLeft(He)}else{lt.getLineContent=Mt=>pe.getLineContent(Mt===Ne.startLineNumber?Ke:Mt);const Ze=(0,I.n8)(this._autoIndent,lt,pe.getLanguageIdAtPosition(Ke,1),Ne.startLineNumber,gt,this._languageConfigurationService);if(null!==Ze){const Mt=u.V8(pe.getLineContent(Ke)),Nt=m.Y(Ze,ne);Nt!==m.Y(Mt,ne)&&(Ue=m.J(Nt,ne,Je)+this.trimLeft(He))}}De.addEditOperation(new A.e(Ne.startLineNumber,1,Ne.startLineNumber,1),Ue+"\n");const et=this.matchEnterRuleMovingDown(pe,gt,ne,Ne.startLineNumber,Ke,Ue);if(null!==et)0!==et&&this.getIndentEditsOfMovingBlock(pe,De,Ne,ne,Je,et);else{lt.getLineContent=Mt=>Mt===Ne.startLineNumber?Ue:pe.getLineContent(Mt>=Ne.startLineNumber+1&&Mt<=Ne.endLineNumber+1?Mt-1:Mt);const Ze=(0,I.n8)(this._autoIndent,lt,pe.getLanguageIdAtPosition(Ke,1),Ne.startLineNumber+1,gt,this._languageConfigurationService);if(null!==Ze){const Mt=u.V8(pe.getLineContent(Ne.startLineNumber)),Nt=m.Y(Ze,ne),ze=m.Y(Mt,ne);Nt!==ze&&this.getIndentEditsOfMovingBlock(pe,De,Ne,ne,Je,Nt-ze)}}}else De.addEditOperation(new A.e(Ne.startLineNumber,1,Ne.startLineNumber,1),Ue+"\n")}else if(Ke=Ne.startLineNumber-1,He=pe.getLineContent(Ke),De.addEditOperation(new A.e(Ke,1,Ke+1,1),null),De.addEditOperation(new A.e(Ne.endLineNumber,pe.getLineMaxColumn(Ne.endLineNumber),Ne.endLineNumber,pe.getLineMaxColumn(Ne.endLineNumber)),"\n"+He),this.shouldAutoIndent(pe,Ne)){lt.getLineContent=ot=>pe.getLineContent(ot===Ke?Ne.startLineNumber:ot);const Ue=this.matchEnterRule(pe,gt,ne,Ne.startLineNumber,Ne.startLineNumber-2);if(null!==Ue)0!==Ue&&this.getIndentEditsOfMovingBlock(pe,De,Ne,ne,Je,Ue);else{const ot=(0,I.n8)(this._autoIndent,lt,pe.getLanguageIdAtPosition(Ne.startLineNumber,1),Ke,gt,this._languageConfigurationService);if(null!==ot){const et=u.V8(pe.getLineContent(Ne.startLineNumber)),Ze=m.Y(ot,ne),Mt=m.Y(et,ne);Ze!==Mt&&this.getIndentEditsOfMovingBlock(pe,De,Ne,ne,Je,Ze-Mt)}}}}this._selectionId=De.trackSelection(Ne)}buildIndentConverter(pe,De,Oe){return{shiftIndent:Ne=>l.U.shiftIndent(Ne,Ne.length+1,pe,De,Oe),unshiftIndent:Ne=>l.U.unshiftIndent(Ne,Ne.length+1,pe,De,Oe)}}parseEnterResult(pe,De,Oe,Ne,ne){if(ne){let xe=ne.indentation;ne.indentAction===v.wU.None||ne.indentAction===v.wU.Indent?xe=ne.indentation+ne.appendText:ne.indentAction===v.wU.IndentOutdent?xe=ne.indentation:ne.indentAction===v.wU.Outdent&&(xe=De.unshiftIndent(ne.indentation)+ne.appendText);const Je=pe.getLineContent(Ne);if(this.trimLeft(Je).indexOf(this.trimLeft(xe))>=0){const gt=u.V8(pe.getLineContent(Ne));let lt=u.V8(xe);const Ke=(0,I.tI)(pe,Ne,this._languageConfigurationService);return null!==Ke&&2&Ke&&(lt=De.unshiftIndent(lt)),m.Y(lt,Oe)-m.Y(gt,Oe)}}return null}matchEnterRuleMovingDown(pe,De,Oe,Ne,ne,xe){if(u.ow(xe)>=0){const Je=pe.getLineMaxColumn(ne),gt=(0,y.A)(this._autoIndent,pe,new A.e(ne,Je,ne,Je),this._languageConfigurationService);return this.parseEnterResult(pe,De,Oe,Ne,gt)}{let Je=Ne-1;for(;Je>=1;){const Ke=pe.getLineContent(Je);if(u.ow(Ke)>=0)break;Je--}if(Je<1||Ne>pe.getLineCount())return null;const gt=pe.getLineMaxColumn(Je),lt=(0,y.A)(this._autoIndent,pe,new A.e(Je,gt,Je,gt),this._languageConfigurationService);return this.parseEnterResult(pe,De,Oe,Ne,lt)}}matchEnterRule(pe,De,Oe,Ne,ne,xe){let Je=ne;for(;Je>=1;){let Ke;if(Ke=Je===ne&&void 0!==xe?xe:pe.getLineContent(Je),u.ow(Ke)>=0)break;Je--}if(Je<1||Ne>pe.getLineCount())return null;const gt=pe.getLineMaxColumn(Je),lt=(0,y.A)(this._autoIndent,pe,new A.e(Je,gt,Je,gt),this._languageConfigurationService);return this.parseEnterResult(pe,De,Oe,Ne,lt)}trimLeft(pe){return pe.replace(/^\s+/,"")}shouldAutoIndent(pe,De){if(this._autoIndent<4||!pe.tokenization.isCheapToTokenize(De.startLineNumber))return!1;const Oe=pe.getLanguageIdAtPosition(De.startLineNumber,1);return!(Oe!==pe.getLanguageIdAtPosition(De.endLineNumber,1)||null===this._languageConfigurationService.getLanguageConfiguration(Oe).indentRulesSupport)}getIndentEditsOfMovingBlock(pe,De,Oe,Ne,ne,xe){for(let Je=Oe.startLineNumber;Je<=Oe.endLineNumber;Je++){const gt=pe.getLineContent(Je),lt=u.V8(gt),He=m.Y(lt,Ne)+xe,Ue=m.J(He,Ne,ne);Ue!==lt&&(De.addEditOperation(new A.e(Je,1,Je,lt.length+1),Ue),Je===Oe.endLineNumber&&Oe.endColumn<=lt.length+1&&""===Ue&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(pe,De){let Oe=De.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(Oe=Oe.setEndPosition(Oe.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&Oe.startLineNumber<Oe.endLineNumber&&(Oe=Oe.setEndPosition(Oe.endLineNumber,2)),Oe}};var pe;x=function(Ae,pe,De,Oe){var xe,Ne=arguments.length,ne=Ne<3?pe:null===Oe?Oe=Object.getOwnPropertyDescriptor(pe,De):Oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ne=Reflect.decorate(Ae,pe,De,Oe);else for(var Je=Ae.length-1;Je>=0;Je--)(xe=Ae[Je])&&(ne=(Ne<3?xe(ne):Ne>3?xe(pe,De,ne):xe(pe,De))||ne);return Ne>3&&ne&&Object.defineProperty(pe,De,ne),ne}([(3,pe=d.c_,function(De,Oe){pe(De,Oe,3)})],x);let T=(()=>{class Ae{constructor(De,Oe){this.selection=De,this.descending=Oe,this.selectionId=null}static getCollator(){return Ae._COLLATOR||(Ae._COLLATOR=new Intl.Collator),Ae._COLLATOR}getEditOperations(De,Oe){const Ne=function Q(Ae,pe,De){const Oe=R(Ae,pe,De);return Oe?P.h.replace(new A.e(Oe.startLineNumber,1,Oe.endLineNumber,Ae.getLineMaxColumn(Oe.endLineNumber)),Oe.after.join("\n")):null}(De,this.selection,this.descending);Ne&&Oe.addEditOperation(Ne.range,Ne.text),this.selectionId=Oe.trackSelection(this.selection)}computeCursorState(De,Oe){return Oe.getTrackedSelection(this.selectionId)}static canRun(De,Oe,Ne){if(null===De)return!1;const ne=R(De,Oe,Ne);if(!ne)return!1;for(let xe=0,Je=ne.before.length;xe<Je;xe++)if(ne.before[xe]!==ne.after[xe])return!0;return!1}}return Ae._COLLATOR=null,Ae})();function R(Ae,pe,De){const Oe=pe.startLineNumber;let Ne=pe.endLineNumber;if(1===pe.endColumn&&Ne--,Oe>=Ne)return null;const ne=[];for(let Je=Oe;Je<=Ne;Je++)ne.push(Ae.getLineContent(Je));let xe=ne.slice(0);return xe.sort(T.getCollator().compare),!0===De&&(xe=xe.reverse()),{startLineNumber:Oe,endLineNumber:Ne,before:ne,after:xe}}var Z=e(40402),G=e(61004);class F extends L.R6{constructor(pe,De){super(De),this.down=pe}run(pe,De){if(!De.hasModel())return;const Oe=De.getSelections().map((xe,Je)=>({selection:xe,index:Je,ignore:!1}));Oe.sort((xe,Je)=>A.e.compareRangesUsingStarts(xe.selection,Je.selection));let Ne=Oe[0];for(let xe=1;xe<Oe.length;xe++){const Je=Oe[xe];Ne.selection.endLineNumber===Je.selection.startLineNumber&&(Ne.index<Je.index?Je.ignore=!0:(Ne.ignore=!0,Ne=Je))}const ne=[];for(const xe of Oe)ne.push(new n(xe.selection,this.down,xe.ignore));De.pushUndoStop(),De.executeCommands(this.id,ne),De.pushUndoStop()}}class z extends L.R6{constructor(){super({id:"editor.action.duplicateSelection",label:Z.NC("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:c.u.writable,menuOpts:{menuId:G.eH.MenubarSelectionMenu,group:"2_line",title:Z.NC({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(pe,De,Oe){if(!De.hasModel())return;const Ne=[],ne=De.getSelections(),xe=De.getModel();for(const Je of ne)if(Je.isEmpty())Ne.push(new n(Je,!0));else{const gt=new p.Y(Je.endLineNumber,Je.endColumn,Je.endLineNumber,Je.endColumn);Ne.push(new M.OY(gt,xe.getValueInRange(Je)))}De.pushUndoStop(),De.executeCommands(this.id,Ne),De.pushUndoStop()}}class j extends L.R6{constructor(pe,De){super(De),this.down=pe}run(pe,De){const Oe=pe.get(d.c_),Ne=[],ne=De.getSelections()||[],xe=De.getOption(9);for(const Je of ne)Ne.push(new x(Je,this.down,xe,Oe));De.pushUndoStop(),De.executeCommands(this.id,Ne),De.pushUndoStop()}}class V extends L.R6{constructor(pe,De){super(De),this.descending=pe}run(pe,De){const Oe=De.getSelections()||[];for(const ne of Oe)if(!T.canRun(De.getModel(),ne,this.descending))return;const Ne=[];for(let ne=0,xe=Oe.length;ne<xe;ne++)Ne[ne]=new T(Oe[ne],this.descending);De.pushUndoStop(),De.executeCommands(this.id,Ne),De.pushUndoStop()}}class $ extends V{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:Z.NC("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:c.u.writable})}}class te extends V{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:Z.NC("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:c.u.writable})}}class w extends L.R6{constructor(){super({id:"editor.action.removeDuplicateLines",label:Z.NC("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:c.u.writable})}run(pe,De){if(!De.hasModel())return;const Oe=De.getModel();if(1===Oe.getLineCount()&&1===Oe.getLineMaxColumn(1))return;const Ne=[],ne=[];let xe=0;for(const Je of De.getSelections()){const gt=new Set,lt=[];for(let ot=Je.startLineNumber;ot<=Je.endLineNumber;ot++){const et=Oe.getLineContent(ot);gt.has(et)||(lt.push(et),gt.add(et))}const Ke=new p.Y(Je.startLineNumber,1,Je.endLineNumber,Oe.getLineMaxColumn(Je.endLineNumber)),He=Je.startLineNumber-xe,Ue=new p.Y(He,1,He+lt.length-1,lt[lt.length-1].length);Ne.push(P.h.replace(Ke,lt.join("\n"))),ne.push(Ue),xe+=Je.endLineNumber-Je.startLineNumber+1-lt.length}De.pushUndoStop(),De.executeEdits(this.id,Ne,ne),De.pushUndoStop()}}let fe=(()=>{class Ae extends L.R6{constructor(){super({id:Ae.ID,label:Z.NC("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:(0,f.gx)(2089,2102),weight:100}})}run(De,Oe,Ne){let ne=[];"auto-save"===Ne.reason&&(ne=(Oe.getSelections()||[]).map(gt=>new a.L(gt.positionLineNumber,gt.positionColumn)));const xe=Oe.getSelection();if(null===xe)return;const Je=new k(xe,ne);Oe.pushUndoStop(),Oe.executeCommands(this.id,[Je]),Oe.pushUndoStop()}}return Ae.ID="editor.action.trimTrailingWhitespace",Ae})();class be extends L.R6{constructor(){super({id:"editor.action.deleteLines",label:Z.NC("lines.delete","Delete Line"),alias:"Delete Line",precondition:c.u.writable,kbOpts:{kbExpr:c.u.textInputFocus,primary:3113,weight:100}})}run(pe,De){if(!De.hasModel())return;const Oe=this._getLinesToRemove(De),Ne=De.getModel();if(1===Ne.getLineCount()&&1===Ne.getLineMaxColumn(1))return;let ne=0;const xe=[],Je=[];for(let gt=0,lt=Oe.length;gt<lt;gt++){const Ke=Oe[gt];let He=Ke.startLineNumber,Ue=Ke.endLineNumber,ot=1,et=Ne.getLineMaxColumn(Ue);Ue<Ne.getLineCount()?(Ue+=1,et=1):He>1&&(He-=1,ot=Ne.getLineMaxColumn(He)),xe.push(P.h.replace(new p.Y(He,ot,Ue,et),"")),Je.push(new p.Y(He-ne,Ke.positionColumn,He-ne,Ke.positionColumn)),ne+=Ke.endLineNumber-Ke.startLineNumber+1}De.pushUndoStop(),De.executeEdits(this.id,xe,Je),De.pushUndoStop()}_getLinesToRemove(pe){const De=pe.getSelections().map(ne=>{let xe=ne.endLineNumber;return ne.startLineNumber<ne.endLineNumber&&1===ne.endColumn&&(xe-=1),{startLineNumber:ne.startLineNumber,selectionStartColumn:ne.selectionStartColumn,endLineNumber:xe,positionColumn:ne.positionColumn}});De.sort((ne,xe)=>ne.startLineNumber===xe.startLineNumber?ne.endLineNumber-xe.endLineNumber:ne.startLineNumber-xe.startLineNumber);const Oe=[];let Ne=De[0];for(let ne=1;ne<De.length;ne++)Ne.endLineNumber+1>=De[ne].startLineNumber?Ne.endLineNumber=De[ne].endLineNumber:(Oe.push(Ne),Ne=De[ne]);return Oe.push(Ne),Oe}}class me extends L.R6{constructor(){super({id:"editor.action.indentLines",label:Z.NC("lines.indent","Indent Line"),alias:"Indent Line",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:2137,weight:100}})}run(pe,De){const Oe=De._getViewModel();!Oe||(De.pushUndoStop(),De.executeCommands(this.id,_.u6.indent(Oe.cursorConfig,De.getModel(),De.getSelections())),De.pushUndoStop())}}class ee extends L.R6{constructor(){super({id:"editor.action.insertLineBefore",label:Z.NC("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:3075,weight:100}})}run(pe,De){const Oe=De._getViewModel();!Oe||(De.pushUndoStop(),De.executeCommands(this.id,_.u6.lineInsertBefore(Oe.cursorConfig,De.getModel(),De.getSelections())))}}class ce extends L.R6{constructor(){super({id:"editor.action.insertLineAfter",label:Z.NC("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:2051,weight:100}})}run(pe,De){const Oe=De._getViewModel();!Oe||(De.pushUndoStop(),De.executeCommands(this.id,_.u6.lineInsertAfter(Oe.cursorConfig,De.getModel(),De.getSelections())))}}class he extends L.R6{run(pe,De){if(!De.hasModel())return;const Oe=De.getSelection(),Ne=this._getRangesToDelete(De),ne=[];for(let gt=0,lt=Ne.length-1;gt<lt;gt++){const Ke=Ne[gt],He=Ne[gt+1];null===A.e.intersectRanges(Ke,He)?ne.push(Ke):Ne[gt+1]=A.e.plusRange(Ke,He)}ne.push(Ne[Ne.length-1]);const xe=this._getEndCursorState(Oe,ne),Je=ne.map(gt=>P.h.replace(gt,""));De.pushUndoStop(),De.executeEdits(this.id,Je,xe),De.pushUndoStop()}}class de extends he{constructor(){super({id:"deleteAllLeft",label:Z.NC("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:c.u.writable,kbOpts:{kbExpr:c.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(pe,De){let Oe=null;const Ne=[];let ne=0;return De.forEach(xe=>{let Je;if(1===xe.endColumn&&ne>0){const gt=xe.startLineNumber-ne;Je=new p.Y(gt,xe.startColumn,gt,xe.startColumn)}else Je=new p.Y(xe.startLineNumber,xe.startColumn,xe.startLineNumber,xe.startColumn);ne+=xe.endLineNumber-xe.startLineNumber,xe.intersectRanges(pe)?Oe=Je:Ne.push(Je)}),Oe&&Ne.unshift(Oe),Ne}_getRangesToDelete(pe){const De=pe.getSelections();if(null===De)return[];let Oe=De;const Ne=pe.getModel();return null===Ne?[]:(Oe.sort(A.e.compareRangesUsingStarts),Oe=Oe.map(ne=>{if(ne.isEmpty()){if(1===ne.startColumn){const xe=Math.max(1,ne.startLineNumber-1),Je=1===ne.startLineNumber?1:Ne.getLineContent(xe).length+1;return new A.e(xe,Je,ne.startLineNumber,1)}return new A.e(ne.startLineNumber,1,ne.startLineNumber,ne.startColumn)}return new A.e(ne.startLineNumber,1,ne.endLineNumber,ne.endColumn)}),Oe)}}class ge extends he{constructor(){super({id:"deleteAllRight",label:Z.NC("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:c.u.writable,kbOpts:{kbExpr:c.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(pe,De){let Oe=null;const Ne=[];for(let ne=0,xe=De.length,Je=0;ne<xe;ne++){const gt=De[ne],lt=new p.Y(gt.startLineNumber-Je,gt.startColumn,gt.startLineNumber-Je,gt.startColumn);gt.intersectRanges(pe)?Oe=lt:Ne.push(lt)}return Oe&&Ne.unshift(Oe),Ne}_getRangesToDelete(pe){const De=pe.getModel();if(null===De)return[];const Oe=pe.getSelections();if(null===Oe)return[];const Ne=Oe.map(ne=>{if(ne.isEmpty()){const xe=De.getLineMaxColumn(ne.startLineNumber);return ne.startColumn===xe?new A.e(ne.startLineNumber,ne.startColumn,ne.startLineNumber+1,1):new A.e(ne.startLineNumber,ne.startColumn,ne.startLineNumber,xe)}return ne});return Ne.sort(A.e.compareRangesUsingStarts),Ne}}class re extends L.R6{constructor(){super({id:"editor.action.joinLines",label:Z.NC("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(pe,De){const Oe=De.getSelections();if(null===Oe)return;let Ne=De.getSelection();if(null===Ne)return;Oe.sort(A.e.compareRangesUsingStarts);const ne=[],xe=Oe.reduce((Ue,ot)=>Ue.isEmpty()?Ue.endLineNumber===ot.startLineNumber?(Ne.equalsSelection(Ue)&&(Ne=ot),ot):ot.startLineNumber>Ue.endLineNumber+1?(ne.push(Ue),ot):new p.Y(Ue.startLineNumber,Ue.startColumn,ot.endLineNumber,ot.endColumn):ot.startLineNumber>Ue.endLineNumber?(ne.push(Ue),ot):new p.Y(Ue.startLineNumber,Ue.startColumn,ot.endLineNumber,ot.endColumn));ne.push(xe);const Je=De.getModel();if(null===Je)return;const gt=[],lt=[];let Ke=Ne,He=0;for(let Ue=0,ot=ne.length;Ue<ot;Ue++){const et=ne[Ue],Ze=et.startLineNumber,Mt=1;let ze,dt,Nt=0;const $t=Je.getLineContent(et.endLineNumber).length-et.endColumn;if(et.isEmpty()||et.startLineNumber===et.endLineNumber){const ft=et.getStartPosition();ft.lineNumber<Je.getLineCount()?(ze=Ze+1,dt=Je.getLineMaxColumn(ze)):(ze=ft.lineNumber,dt=Je.getLineMaxColumn(ft.lineNumber))}else ze=et.endLineNumber,dt=Je.getLineMaxColumn(ze);let hn=Je.getLineContent(Ze);for(let ft=Ze+1;ft<=ze;ft++){const ke=Je.getLineContent(ft),nt=Je.getLineFirstNonWhitespaceColumn(ft);if(nt>=1){let st=!0;""===hn&&(st=!1),st&&(" "===hn.charAt(hn.length-1)||"\t"===hn.charAt(hn.length-1))&&(st=!1,hn=hn.replace(/[\s\uFEFF\xA0]+$/g," "));const Ee=ke.substr(nt-1);hn+=(st?" ":"")+Ee,Nt=st?Ee.length+1:Ee.length}else Nt=0}const vn=new A.e(Ze,Mt,ze,dt);if(!vn.isEmpty()){let ft;et.isEmpty()?(gt.push(P.h.replace(vn,hn)),ft=new p.Y(vn.startLineNumber-He,hn.length-Nt+1,Ze-He,hn.length-Nt+1)):et.startLineNumber===et.endLineNumber?(gt.push(P.h.replace(vn,hn)),ft=new p.Y(et.startLineNumber-He,et.startColumn,et.endLineNumber-He,et.endColumn)):(gt.push(P.h.replace(vn,hn)),ft=new p.Y(et.startLineNumber-He,et.startColumn,et.startLineNumber-He,hn.length-$t)),null!==A.e.intersectRanges(vn,Ne)?Ke=ft:lt.push(ft)}He+=vn.endLineNumber-vn.startLineNumber}lt.unshift(Ke),De.pushUndoStop(),De.executeEdits(this.id,gt,lt),De.pushUndoStop()}}class Se extends L.R6{constructor(){super({id:"editor.action.transpose",label:Z.NC("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:c.u.writable})}run(pe,De){const Oe=De.getSelections();if(null===Oe)return;const Ne=De.getModel();if(null===Ne)return;const ne=[];for(let xe=0,Je=Oe.length;xe<Je;xe++){const gt=Oe[xe];if(!gt.isEmpty())continue;const lt=gt.getStartPosition(),Ke=Ne.getLineMaxColumn(lt.lineNumber);if(lt.column>=Ke){if(lt.lineNumber===Ne.getLineCount())continue;const He=new A.e(lt.lineNumber,Math.max(1,lt.column-1),lt.lineNumber+1,1),Ue=Ne.getValueInRange(He).split("").reverse().join("");ne.push(new M.T4(new p.Y(lt.lineNumber,Math.max(1,lt.column-1),lt.lineNumber+1,1),Ue))}else{const He=new A.e(lt.lineNumber,Math.max(1,lt.column-1),lt.lineNumber,lt.column+1),Ue=Ne.getValueInRange(He).split("").reverse().join("");ne.push(new M.hP(He,Ue,new p.Y(lt.lineNumber,lt.column+1,lt.lineNumber,lt.column+1)))}}De.pushUndoStop(),De.executeCommands(this.id,ne),De.pushUndoStop()}}class Pe extends L.R6{run(pe,De){const Oe=De.getSelections();if(null===Oe)return;const Ne=De.getModel();if(null===Ne)return;const ne=De.getOption(119),xe=[];for(const Je of Oe)if(Je.isEmpty()){const gt=Je.getStartPosition(),lt=De.getConfiguredWordAtPosition(gt);if(!lt)continue;const Ke=new A.e(gt.lineNumber,lt.startColumn,gt.lineNumber,lt.endColumn),He=Ne.getValueInRange(Ke);xe.push(P.h.replace(Ke,this._modifyText(He,ne)))}else{const gt=Ne.getValueInRange(Je);xe.push(P.h.replace(Je,this._modifyText(gt,ne)))}De.pushUndoStop(),De.executeEdits(this.id,xe),De.pushUndoStop()}}class Ve extends Pe{constructor(){super({id:"editor.action.transformToUppercase",label:Z.NC("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:c.u.writable})}_modifyText(pe,De){return pe.toLocaleUpperCase()}}class ie extends Pe{constructor(){super({id:"editor.action.transformToLowercase",label:Z.NC("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:c.u.writable})}_modifyText(pe,De){return pe.toLocaleLowerCase()}}class ye{constructor(pe,De){this._pattern=pe,this._flags=De,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(pe){}}return this._actual}isSupported(){return null!==this.get()}}class _e extends Pe{constructor(){super({id:"editor.action.transformToTitlecase",label:Z.NC("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:c.u.writable})}_modifyText(pe,De){const Oe=_e.titleBoundary.get();return Oe?pe.toLocaleLowerCase().replace(Oe,Ne=>Ne.toLocaleUpperCase()):pe}}_e.titleBoundary=new ye("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class Be extends Pe{constructor(){super({id:"editor.action.transformToSnakecase",label:Z.NC("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:c.u.writable})}_modifyText(pe,De){const Oe=Be.caseBoundary.get(),Ne=Be.singleLetters.get();return Oe&&Ne?pe.replace(Oe,"$1_$2").replace(Ne,"$1_$2$3").toLocaleLowerCase():pe}}Be.caseBoundary=new ye("(\\p{Ll})(\\p{Lu})","gmu"),Be.singleLetters=new ye("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class Qe extends Pe{constructor(){super({id:"editor.action.transformToKebabcase",label:Z.NC("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:c.u.writable})}static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(De=>De.isSupported())}_modifyText(pe,De){const Oe=Qe.caseBoundary.get(),Ne=Qe.singleLetters.get(),ne=Qe.underscoreBoundary.get();return Oe&&Ne&&ne?pe.replace(ne,"$1-$3").replace(Oe,"$1-$2").replace(Ne,"$1-$2").toLocaleLowerCase():pe}}Qe.caseBoundary=new ye("(\\p{Ll})(\\p{Lu})","gmu"),Qe.singleLetters=new ye("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),Qe.underscoreBoundary=new ye("(\\S)(_)(\\S)","gm"),(0,L.Qr)(class W extends F{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:Z.NC("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:G.eH.MenubarSelectionMenu,group:"2_line",title:Z.NC({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}),(0,L.Qr)(class B extends F{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:Z.NC("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:G.eH.MenubarSelectionMenu,group:"2_line",title:Z.NC({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}),(0,L.Qr)(z),(0,L.Qr)(class Y extends j{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:Z.NC("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:G.eH.MenubarSelectionMenu,group:"2_line",title:Z.NC({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}),(0,L.Qr)(class E extends j{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:Z.NC("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:G.eH.MenubarSelectionMenu,group:"2_line",title:Z.NC({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}),(0,L.Qr)($),(0,L.Qr)(te),(0,L.Qr)(w),(0,L.Qr)(fe),(0,L.Qr)(be),(0,L.Qr)(me),(0,L.Qr)(class Ie extends L.R6{constructor(){super({id:"editor.action.outdentLines",label:Z.NC("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:2135,weight:100}})}run(pe,De){s.CoreEditingCommands.Outdent.runEditorCommand(pe,De,null)}}),(0,L.Qr)(ee),(0,L.Qr)(ce),(0,L.Qr)(de),(0,L.Qr)(ge),(0,L.Qr)(re),(0,L.Qr)(Se),(0,L.Qr)(Ve),(0,L.Qr)(ie),Be.caseBoundary.isSupported()&&Be.singleLetters.isSupported()&&(0,L.Qr)(Be),_e.titleBoundary.isSupported()&&(0,L.Qr)(_e),Qe.isSupported()&&(0,L.Qr)(Qe)},88025:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE:()=>Z,LinkedEditingAction:()=>W,LinkedEditingContribution:()=>F,editorLinkedEditingBackground:()=>j});var f=e(18337),s=e(63072),L=e(80152),M=e(68927),u=e(53663),P=e(52787),A=e(52425),k=e(93059),N=e(74672),_=e(95172),a=e(7221),p=e(94220),c=e(68451),n=e(29584),l=e(3508),v=e(23924),d=e(40402),m=e(59776),I=e(28708),y=e(23024),S=e(37464),b=e(79974),x=e(41724),R=function(Y,E){return function(V,$){E(V,$,Y)}},Q=function(Y,E,V,$){return new(V||(V=Promise))(function(w,fe){function be(ee){try{Ie($.next(ee))}catch(ce){fe(ce)}}function me(ee){try{Ie($.throw(ee))}catch(ce){fe(ce)}}function Ie(ee){ee.done?w(ee.value):function te(w){return w instanceof V?w:new V(function(fe){fe(w)})}(ee.value).then(be,me)}Ie(($=$.apply(Y,E||[])).next())})};const Z=new m.uy("LinkedEditingInputVisible",!1),G="linked-editing-decoration";let F=class Xl extends A.JT{constructor(E,V,$,te,w){super(),this.languageConfigurationService=te,this._syncRangesToken=0,this._localToDispose=this._register(new A.SL),this._editor=E,this._providers=$.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=Z.bindTo(V),this._debounceInformation=w.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new A.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(fe=>{(fe.hasChanged(64)||fe.hasChanged(84))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(E){return E.getContribution(Xl.ID)}reinitialize(E){const V=this._editor.getModel(),$=null!==V&&(this._editor.getOption(64)||this._editor.getOption(84))&&this._providers.has(V);if($===this._enabled&&!E||(this._enabled=$,this.clearRanges(),this._localToDispose.clear(),!$||null===V))return;this._localToDispose.add(P.ju.runAndSubscribe(V.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(V.getLanguageId()).getWordDefinition()}));const te=new s.vp(this._debounceInformation.get(V)),w=()=>{var me;this._rangeUpdateTriggerPromise=te.trigger(()=>this.updateRanges(),null!==(me=this._debounceDuration)&&void 0!==me?me:this._debounceInformation.get(V))},fe=new s.vp(0),be=me=>{this._rangeSyncTriggerPromise=fe.trigger(()=>this._syncRanges(me))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{w()})),this._localToDispose.add(this._editor.onDidChangeModelContent(me=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const Ie=this._currentDecorations.getRange(0);if(Ie&&me.changes.every(ee=>Ie.intersectRanges(ee.range)))return void be(this._syncRangesToken)}w()})),this._localToDispose.add({dispose:()=>{te.dispose(),fe.dispose()}}),this.updateRanges()}_syncRanges(E){if(!this._editor.hasModel()||E!==this._syncRangesToken||0===this._currentDecorations.length)return;const V=this._editor.getModel(),$=this._currentDecorations.getRange(0);if(!$||$.startLineNumber!==$.endLineNumber)return this.clearRanges();const te=V.getValueInRange($);if(this._currentWordPattern){const fe=te.match(this._currentWordPattern);if((fe?fe[0].length:0)!==te.length)return this.clearRanges()}const w=[];for(let fe=1,be=this._currentDecorations.length;fe<be;fe++){const me=this._currentDecorations.getRange(fe);if(me)if(me.startLineNumber!==me.endLineNumber)w.push({range:me,text:te});else{let Ie=V.getValueInRange(me),ee=te,ce=me.startColumn,he=me.endColumn;const de=k.Mh(Ie,ee);ce+=de,Ie=Ie.substr(de),ee=ee.substr(de);const ge=k.P1(Ie,ee);he-=ge,Ie=Ie.substr(0,Ie.length-ge),ee=ee.substr(0,ee.length-ge),(ce!==he||0!==ee.length)&&w.push({range:new c.e(me.startLineNumber,ce,me.endLineNumber,he),text:ee})}}if(0!==w.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const fe=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",w),this._editor._getViewModel().setPrevEditOperationType(fe)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(E=!1){return Q(this,void 0,void 0,function*(){if(!this._editor.hasModel())return void this.clearRanges();const V=this._editor.getPosition();if(!this._enabled&&!E||this._editor.getSelections().length>1)return void this.clearRanges();const $=this._editor.getModel(),te=$.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===te){if(V.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const fe=this._currentDecorations.getRange(0);if(fe&&fe.containsPosition(V))return}}this._currentRequestPosition=V,this._currentRequestModelVersion=te;const w=(0,s.PG)(fe=>Q(this,void 0,void 0,function*(){try{const be=new x.G(!1),me=yield z(this._providers,$,V,fe);if(this._debounceInformation.update($,be.elapsed()),w!==this._currentRequest||(this._currentRequest=null,te!==$.getVersionId()))return;let Ie=[];null!=me&&me.ranges&&(Ie=me.ranges),this._currentWordPattern=(null==me?void 0:me.wordPattern)||this._languageWordPattern;let ee=!1;for(let he=0,de=Ie.length;he<de;he++)if(c.e.containsPosition(Ie[he],V)){if(ee=!0,0!==he){const ge=Ie[he];Ie.splice(he,1),Ie.unshift(ge)}break}if(!ee)return void this.clearRanges();const ce=Ie.map(he=>({range:he,options:Xl.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(ce),this._syncRangesToken++}catch(be){(0,u.n2)(be)||(0,u.dL)(be),(this._currentRequest===w||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=w,w})}};F.ID="editor.contrib.linkedEditing",F.DECORATION=l.qx.register({description:"linked-editing",stickiness:0,className:G}),F=function(Y,E,V,$){var fe,te=arguments.length,w=te<3?E:null===$?$=Object.getOwnPropertyDescriptor(E,V):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(Y,E,V,$);else for(var be=Y.length-1;be>=0;be--)(fe=Y[be])&&(w=(te<3?fe(w):te>3?fe(E,V,w):fe(E,V))||w);return te>3&&w&&Object.defineProperty(E,V,w),w}([R(1,m.i6),R(2,S.p),R(3,v.c_),R(4,b.A)],F);class W extends _.R6{constructor(){super({id:"editor.action.linkedEditing",label:d.NC("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:m.Ao.and(n.u.writable,n.u.hasRenameProvider),kbOpts:{kbExpr:n.u.editorTextFocus,primary:3132,weight:100}})}runCommand(E,V){const $=E.get(a.$),[te,w]=Array.isArray(V)&&V||[void 0,void 0];return N.o.isUri(te)&&p.L.isIPosition(w)?$.openCodeEditor({resource:te},$.getActiveCodeEditor()).then(fe=>{!fe||(fe.setPosition(w),fe.invokeWithinContext(be=>(this.reportTelemetry(be,fe),this.run(be,fe))))},u.dL):super.runCommand(E,V)}run(E,V){const $=F.get(V);return $?Promise.resolve($.updateRanges(!0)):Promise.resolve()}}const B=_._l.bindToContribution(F.get);function z(Y,E,V,$){const te=Y.ordered(E);return(0,s.Ps)(te.map(w=>()=>Q(this,void 0,void 0,function*(){try{return yield w.provideLinkedEditingRanges(E,V,$)}catch(fe){return void(0,u.Cp)(fe)}})),w=>!!w&&f.Of(null==w?void 0:w.ranges))}(0,_.fK)(new B({id:"cancelLinkedEditingInput",precondition:Z,handler:Y=>Y.clearRanges(),kbOpts:{kbExpr:n.u.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));const j=(0,I.P6G)("editor.linkedEditingBackground",{dark:M.Il.fromHex("#f00").transparent(.3),light:M.Il.fromHex("#f00").transparent(.3),hcDark:M.Il.fromHex("#f00").transparent(.3),hcLight:M.Il.white},d.NC("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,y.Ic)((Y,E)=>{const V=Y.getColor(j);V&&E.addRule(`.monaco-editor .${G} { background: ${V}; border-left-color: ${V}; }`)}),(0,_.sb)("_executeLinkedEditingProvider",(Y,E,V)=>{const{linkedEditingRangeProvider:$}=Y.get(S.p);return z($,E,V,L.T.None)}),(0,_._K)(F.ID,F),(0,_.Qr)(W)},36755:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{LinkDetector:()=>re});var f=e(63072),s=e(80152),L=e(53663),M=e(22468),u=e(52425),P=e(90278),A=e(38972),k=e(15151),N=e(41724),_=e(74672),a=e(93379),p=e.n(a),c=e(7795),n=e.n(c),l=e(90569),v=e.n(l),d=e(3565),m=e.n(d),I=e(19216),y=e.n(I),S=e(44589),b=e.n(S),x=e(28477),T={};T.styleTagTransform=b(),T.setAttributes=m(),T.insert=v().bind(null,"head"),T.domAPI=n(),T.insertStyleElement=y(),p()(x.Z,T);var Z=e(95172),G=e(3508),F=e(79974),W=e(37464),B=e(98033),z=e(18337),j=e(54435),Y=e(68451),E=e(8648),V=e(23884),$=function(ye,_e,Be,Qe){return new(Be||(Be=Promise))(function(pe,De){function Oe(xe){try{ne(Qe.next(xe))}catch(Je){De(Je)}}function Ne(xe){try{ne(Qe.throw(xe))}catch(Je){De(Je)}}function ne(xe){xe.done?pe(xe.value):function Ae(pe){return pe instanceof Be?pe:new Be(function(De){De(pe)})}(xe.value).then(Oe,Ne)}ne((Qe=Qe.apply(ye,_e||[])).next())})};class te{constructor(_e,Be){this._link=_e,this._provider=Be}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(_e){return $(this,void 0,void 0,function*(){return this._link.url?this._link.url:"function"==typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,_e)).then(Be=>(this._link=Be||this._link,this._link.url?this.resolve(_e):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class w{constructor(_e){this._disposables=new u.SL;let Be=[];for(const[Qe,Ae]of _e){const pe=Qe.links.map(De=>new te(De,Ae));Be=w._union(Be,pe),(0,u.Wf)(Qe)&&this._disposables.add(Qe)}this.links=Be}dispose(){this._disposables.dispose(),this.links.length=0}static _union(_e,Be){const Qe=[];let Ae,pe,De,Oe;for(Ae=0,De=0,pe=_e.length,Oe=Be.length;Ae<pe&&De<Oe;){const Ne=_e[Ae],ne=Be[De];Y.e.areIntersectingOrTouching(Ne.range,ne.range)?Ae++:Y.e.compareRangesUsingStarts(Ne.range,ne.range)<0?(Qe.push(Ne),Ae++):(Qe.push(ne),De++)}for(;Ae<pe;Ae++)Qe.push(_e[Ae]);for(;De<Oe;De++)Qe.push(Be[De]);return Qe}}function fe(ye,_e,Be){const Qe=[],Ae=ye.ordered(_e).reverse().map((pe,De)=>Promise.resolve(pe.provideLinks(_e,Be)).then(Oe=>{Oe&&(Qe[De]=[Oe,pe])},L.Cp));return Promise.all(Ae).then(()=>{const pe=new w((0,z.kX)(Qe));return Be.isCancellationRequested?(pe.dispose(),new w([])):pe})}V.P0.registerCommand("_executeLinkProvider",(ye,..._e)=>$(void 0,void 0,void 0,function*(){let[Be,Qe]=_e;(0,j.p_)(Be instanceof _.o),"number"!=typeof Qe&&(Qe=0);const{linkProvider:Ae}=ye.get(W.p),pe=ye.get(E.q).getModel(Be);if(!pe)return[];const De=yield fe(Ae,pe,s.T.None);if(!De)return[];for(let Ne=0;Ne<Math.min(Qe,De.links.length);Ne++)yield De.links[Ne].resolve(s.T.None);const Oe=De.links.slice(0);return De.dispose(),Oe}));var be=e(40402),me=e(78782),Ie=e(26589),ee=e(28708),ce=e(23024),de=function(ye,_e){return function(Be,Qe){_e(Be,Qe,ye)}};let re=class Qd extends u.JT{constructor(_e,Be,Qe,Ae,pe){super(),this.editor=_e,this.openerService=Be,this.notificationService=Qe,this.languageFeaturesService=Ae,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=pe.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new f.pY(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const De=this._register(new B.yN(_e));this._register(De.onMouseMoveOrRelevantKeyDown(([Oe,Ne])=>{this._onEditorMouseMove(Oe,Ne)})),this._register(De.onExecute(Oe=>{this.onEditorMouseUp(Oe)})),this._register(De.onCancel(Oe=>{this.cleanUpActiveLinkDecoration()})),this._register(_e.onDidChangeConfiguration(Oe=>{!Oe.hasChanged(65)||(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(_e.onDidChangeModelContent(Oe=>{!this.editor.hasModel()||this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(_e.onDidChangeModel(Oe=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(_e.onDidChangeModelLanguage(Oe=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(Oe=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}static get(_e){return _e.getContribution(Qd.ID)}computeLinksNow(){return ye=this,_e=void 0,Qe=function*(){if(!this.editor.hasModel()||!this.editor.getOption(65))return;const _e=this.editor.getModel();if(this.providers.has(_e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,f.PG)(Be=>fe(this.providers,_e,Be));try{const Be=new N.G(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(_e,Be.elapsed()),_e.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(Be){(0,L.dL)(Be)}finally{this.computePromise=null}}},new((Be=void 0)||(Be=Promise))(function(pe,De){function Oe(xe){try{ne(Qe.next(xe))}catch(Je){De(Je)}}function Ne(xe){try{ne(Qe.throw(xe))}catch(Je){De(Je)}}function ne(xe){xe.done?pe(xe.value):function Ae(pe){return pe instanceof Be?pe:new Be(function(De){De(pe)})}(xe.value).then(Oe,Ne)}ne((Qe=Qe.apply(ye,_e||[])).next())});var ye,_e,Be,Qe}updateDecorations(_e){const Be="altKey"===this.editor.getOption(72),Qe=[],Ae=Object.keys(this.currentOccurrences);for(const De of Ae)Qe.push(this.currentOccurrences[De].decorationId);const pe=[];if(_e)for(const De of _e)pe.push(Pe.decoration(De,Be));this.editor.changeDecorations(De=>{const Oe=De.deltaDecorations(Qe,pe);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let Ne=0,ne=Oe.length;Ne<ne;Ne++){const xe=new Pe(_e[Ne],Oe[Ne]);this.currentOccurrences[xe.decorationId]=xe}})}_onEditorMouseMove(_e,Be){const Qe="altKey"===this.editor.getOption(72);if(this.isEnabled(_e,Be)){this.cleanUpActiveLinkDecoration();const Ae=this.getLinkOccurrence(_e.target.position);Ae&&this.editor.changeDecorations(pe=>{Ae.activate(pe,Qe),this.activeLinkDecorationId=Ae.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const _e="altKey"===this.editor.getOption(72);if(this.activeLinkDecorationId){const Be=this.currentOccurrences[this.activeLinkDecorationId];Be&&this.editor.changeDecorations(Qe=>{Be.deactivate(Qe,_e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(_e){if(!this.isEnabled(_e))return;const Be=this.getLinkOccurrence(_e.target.position);!Be||this.openLinkOccurrence(Be,_e.hasSideBySideModifier,!0)}openLinkOccurrence(_e,Be,Qe=!1){if(!this.openerService)return;const{link:Ae}=_e;Ae.resolve(s.T.None).then(pe=>{if("string"==typeof pe&&this.editor.hasModel()){const De=this.editor.getModel().uri;if(De.scheme===P.lg.file&&pe.startsWith(`${P.lg.file}:`)){const Oe=_.o.parse(pe);if(Oe.scheme===P.lg.file){const Ne=k.z_(Oe);let ne=null;Ne.startsWith("/./")?ne=`.${Ne.substr(1)}`:Ne.startsWith("//./")&&(ne=`.${Ne.substr(2)}`),ne&&(pe=k.Vo(De,ne))}}}return this.openerService.open(pe,{openToSide:Be,fromUserGesture:Qe,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},pe=>{const De=pe instanceof Error?pe.message:pe;"invalid"===De?this.notificationService.warn(be.NC("invalid.url","Failed to open this link because it is not well-formed: {0}",Ae.url.toString())):"missing"===De?this.notificationService.warn(be.NC("missing.url","Failed to open this link because its target is missing.")):(0,L.dL)(pe)})}getLinkOccurrence(_e){if(!this.editor.hasModel()||!_e)return null;const Be=this.editor.getModel().getDecorationsInRange({startLineNumber:_e.lineNumber,startColumn:_e.column,endLineNumber:_e.lineNumber,endColumn:_e.column},0,!0);for(const Qe of Be){const Ae=this.currentOccurrences[Qe.id];if(Ae)return Ae}return null}isEnabled(_e,Be){return Boolean(6===_e.target.type&&(_e.hasTriggerModifier||Be&&Be.keyCodeIsTriggerKey))}stop(){var _e;this.computeLinks.cancel(),this.activeLinksList&&(null===(_e=this.activeLinksList)||void 0===_e||_e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};re.ID="editor.linkDetector",re=function(ye,_e,Be,Qe){var De,Ae=arguments.length,pe=Ae<3?_e:null===Qe?Qe=Object.getOwnPropertyDescriptor(_e,Be):Qe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(ye,_e,Be,Qe);else for(var Oe=ye.length-1;Oe>=0;Oe--)(De=ye[Oe])&&(pe=(Ae<3?De(pe):Ae>3?De(_e,Be,pe):De(_e,Be))||pe);return Ae>3&&pe&&Object.defineProperty(_e,Be,pe),pe}([de(1,Ie.v4),de(2,me.lT),de(3,W.p),de(4,F.A)],re);const Se={general:G.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:G.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class Pe{constructor(_e,Be){this.link=_e,this.decorationId=Be}static decoration(_e,Be){return{range:_e.range,options:Pe._getOptions(_e,Be,!1)}}static _getOptions(_e,Be,Qe){const Ae=Object.assign({},Qe?Se.active:Se.general);return Ae.hoverMessage=function Ve(ye,_e){const Be=ye.url&&/^command:/i.test(ye.url.toString()),Qe=ye.tooltip?ye.tooltip:Be?be.NC("links.navigate.executeCmd","Execute command"):be.NC("links.navigate.follow","Follow link"),Ae=_e?A.dz?be.NC("links.navigate.kb.meta.mac","cmd + click"):be.NC("links.navigate.kb.meta","ctrl + click"):A.dz?be.NC("links.navigate.kb.alt.mac","option + click"):be.NC("links.navigate.kb.alt","alt + click");if(ye.url){let pe="";if(/^command:/i.test(ye.url.toString())){const Oe=ye.url.toString().match(/^command:([^?#]+)/);Oe&&(pe=be.NC("tooltip.explanation","Execute command {0}",Oe[1]))}return new M.W5("",!0).appendLink(ye.url.toString(!0).replace(/ /g,"%20"),Qe,pe).appendMarkdown(` (${Ae})`)}return(new M.W5).appendText(`${Qe} (${Ae})`)}(_e,Be),Ae}activate(_e,Be){_e.changeDecorationOptions(this.decorationId,Pe._getOptions(this.link,Be,!0))}deactivate(_e,Be){_e.changeDecorationOptions(this.decorationId,Pe._getOptions(this.link,Be,!1))}}(0,Z._K)(re.ID,re),(0,Z.Qr)(class ie extends Z.R6{constructor(){super({id:"editor.action.openLink",label:be.NC("label","Open Link"),alias:"Open Link",precondition:void 0})}run(_e,Be){const Qe=re.get(Be);if(!Qe||!Be.hasModel())return;const Ae=Be.getSelections();for(const pe of Ae){const De=Qe.getLinkOccurrence(pe.getEndPosition());De&&Qe.openLinkOccurrence(De,!1)}}}),(0,ce.Ic)((ye,_e)=>{const Be=ye.getColor(ee._Yy);Be&&_e.addRule(`.monaco-editor .detected-link-active { color: ${Be} !important; }`)})},53873:(at,ue,e)=>{"use strict";e.d(ue,{$:()=>Y});var f=e(58059),s=e(37011),L=e(65691),M=e(95109),u=e(7457),P=e(84459),A=e(53663),k=e(52787),N=e(22468),_=e(10661),a=e(68900),p=e(52425);let c={};!function(){function E(V,$){$(c)}var V,$;E.amd=!0,V=this,$=function(V){function $(Gt,en){for(var Yt=0;Yt<en.length;Yt++){var ht=en[Yt];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(Gt,ht.key,ht)}}function fe(Gt,en){(null==en||en>Gt.length)&&(en=Gt.length);for(var Yt=0,ht=new Array(en);Yt<en;Yt++)ht[Yt]=Gt[Yt];return ht}function be(Gt,en){var Yt="undefined"!=typeof Symbol&&Gt[Symbol.iterator]||Gt["@@iterator"];if(Yt)return(Yt=Yt.call(Gt)).next.bind(Yt);if(Array.isArray(Gt)||(Yt=function w(Gt,en){if(Gt){if("string"==typeof Gt)return fe(Gt,en);var Yt=Object.prototype.toString.call(Gt).slice(8,-1);if("Object"===Yt&&Gt.constructor&&(Yt=Gt.constructor.name),"Map"===Yt||"Set"===Yt)return Array.from(Gt);if("Arguments"===Yt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Yt))return fe(Gt,en)}}(Gt))||en&&Gt&&"number"==typeof Gt.length){Yt&&(Gt=Yt);var ht=0;return function(){return ht>=Gt.length?{done:!0}:{done:!1,value:Gt[ht++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function me(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}V.defaults={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};var ee=/[&<>"']/,ce=/[&<>"']/g,he=/[<>"']|&(?!#?\w+;)/,de=/[<>"']|&(?!#?\w+;)/g,ge={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},re=function(en){return ge[en]};function Se(Gt,en){if(en){if(ee.test(Gt))return Gt.replace(ce,re)}else if(he.test(Gt))return Gt.replace(de,re);return Gt}var Pe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Ve(Gt){return Gt.replace(Pe,function(en,Yt){return"colon"===(Yt=Yt.toLowerCase())?":":"#"===Yt.charAt(0)?"x"===Yt.charAt(1)?String.fromCharCode(parseInt(Yt.substring(2),16)):String.fromCharCode(+Yt.substring(1)):""})}var ie=/(^|[^\[])\^/g;function ye(Gt,en){Gt="string"==typeof Gt?Gt:Gt.source,en=en||"";var Yt={replace:function(Ct,rn){return rn=(rn=rn.source||rn).replace(ie,"$1"),Gt=Gt.replace(Ct,rn),Yt},getRegex:function(){return new RegExp(Gt,en)}};return Yt}var _e=/[^\w:]/g,Be=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Qe(Gt,en,Yt){if(Gt){var ht;try{ht=decodeURIComponent(Ve(Yt)).replace(_e,"").toLowerCase()}catch(Ct){return null}if(0===ht.indexOf("javascript:")||0===ht.indexOf("vbscript:")||0===ht.indexOf("data:"))return null}en&&!Be.test(Yt)&&(Yt=function Ne(Gt,en){Ae[" "+Gt]||(Ae[" "+Gt]=pe.test(Gt)?Gt+"/":gt(Gt,"/",!0));var Yt=-1===(Gt=Ae[" "+Gt]).indexOf(":");return"//"===en.substring(0,2)?Yt?en:Gt.replace(De,"$1")+en:"/"===en.charAt(0)?Yt?en:Gt.replace(Oe,"$1")+en:Gt+en}(en,Yt));try{Yt=encodeURI(Yt).replace(/%25/g,"%")}catch(Ct){return null}return Yt}var Ae={},pe=/^[^:]+:\/*[^/]*$/,De=/^([^:]+:)[\s\S]*$/,Oe=/^([^:]+:\/*[^/]*)[\s\S]*$/,ne={exec:function(){}};function xe(Gt){for(var Yt,ht,en=1;en<arguments.length;en++)for(ht in Yt=arguments[en])Object.prototype.hasOwnProperty.call(Yt,ht)&&(Gt[ht]=Yt[ht]);return Gt}function Je(Gt,en){var ht=Gt.replace(/\|/g,function(rn,jt,yn){for(var En=!1,xn=jt;--xn>=0&&"\\"===yn[xn];)En=!En;return En?"|":" |"}).split(/ \|/),Ct=0;if(ht[0].trim()||ht.shift(),ht.length>0&&!ht[ht.length-1].trim()&&ht.pop(),ht.length>en)ht.splice(en);else for(;ht.length<en;)ht.push("");for(;Ct<ht.length;Ct++)ht[Ct]=ht[Ct].trim().replace(/\\\|/g,"|");return ht}function gt(Gt,en,Yt){var ht=Gt.length;if(0===ht)return"";for(var Ct=0;Ct<ht;){var rn=Gt.charAt(ht-Ct-1);if(rn!==en||Yt){if(rn===en||!Yt)break;Ct++}else Ct++}return Gt.slice(0,ht-Ct)}function Ke(Gt){Gt&&Gt.sanitize&&!Gt.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function He(Gt,en){if(en<1)return"";for(var Yt="";en>1;)1&en&&(Yt+=Gt),en>>=1,Gt+=Gt;return Yt+Gt}function Ue(Gt,en,Yt,ht){var Ct=en.href,rn=en.title?Se(en.title):null,jt=Gt[1].replace(/\\([\[\]])/g,"$1");if("!"!==Gt[0].charAt(0)){ht.state.inLink=!0;var yn={type:"link",raw:Yt,href:Ct,title:rn,text:jt,tokens:ht.inlineTokens(jt,[])};return ht.state.inLink=!1,yn}return{type:"image",raw:Yt,href:Ct,title:rn,text:Se(jt)}}var et=function(){function Gt(Yt){this.options=Yt||V.defaults}var en=Gt.prototype;return en.space=function(ht){var Ct=this.rules.block.newline.exec(ht);if(Ct&&Ct[0].length>0)return{type:"space",raw:Ct[0]}},en.code=function(ht){var Ct=this.rules.block.code.exec(ht);if(Ct){var rn=Ct[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Ct[0],codeBlockStyle:"indented",text:this.options.pedantic?rn:gt(rn,"\n")}}},en.fences=function(ht){var Ct=this.rules.block.fences.exec(ht);if(Ct){var rn=Ct[0],jt=function ot(Gt,en){var Yt=Gt.match(/^(\s+)(?:```)/);if(null===Yt)return en;var ht=Yt[1];return en.split("\n").map(function(Ct){var rn=Ct.match(/^\s+/);return null===rn?Ct:rn[0].length>=ht.length?Ct.slice(ht.length):Ct}).join("\n")}(rn,Ct[3]||"");return{type:"code",raw:rn,lang:Ct[2]?Ct[2].trim():Ct[2],text:jt}}},en.heading=function(ht){var Ct=this.rules.block.heading.exec(ht);if(Ct){var rn=Ct[2].trim();if(/#$/.test(rn)){var jt=gt(rn,"#");(this.options.pedantic||!jt||/ $/.test(jt))&&(rn=jt.trim())}var yn={type:"heading",raw:Ct[0],depth:Ct[1].length,text:rn,tokens:[]};return this.lexer.inline(yn.text,yn.tokens),yn}},en.hr=function(ht){var Ct=this.rules.block.hr.exec(ht);if(Ct)return{type:"hr",raw:Ct[0]}},en.blockquote=function(ht){var Ct=this.rules.block.blockquote.exec(ht);if(Ct){var rn=Ct[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:Ct[0],tokens:this.lexer.blockTokens(rn,[]),text:rn}}},en.list=function(ht){var Ct=this.rules.block.list.exec(ht);if(Ct){var rn,jt,yn,En,xn,Un,ai,ei,Di,li,Qn,wi,Dn=Ct[1].trim(),Dt=Dn.length>1,Te={type:"list",raw:"",ordered:Dt,start:Dt?+Dn.slice(0,-1):"",loose:!1,items:[]};Dn=Dt?"\\d{1,9}\\"+Dn.slice(-1):"\\"+Dn,this.options.pedantic&&(Dn=Dt?Dn:"[*+-]");for(var oe=new RegExp("^( {0,3}"+Dn+")((?:[\t ][^\\n]*)?(?:\\n|$))");ht&&(wi=!1,(Ct=oe.exec(ht))&&!this.rules.block.hr.test(ht));){if(ht=ht.substring((rn=Ct[0]).length),ei=Ct[2].split("\n",1)[0],Di=ht.split("\n",1)[0],this.options.pedantic?(En=2,Qn=ei.trimLeft()):(En=Ct[2].search(/[^ ]/),Qn=ei.slice(En=En>4?1:En),En+=Ct[1].length),Un=!1,!ei&&/^ *$/.test(Di)&&(rn+=Di+"\n",ht=ht.substring(Di.length+1),wi=!0),!wi)for(var Le=new RegExp("^ {0,"+Math.min(3,En-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),We=new RegExp("^ {0,"+Math.min(3,En-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)");ht&&(ei=li=ht.split("\n",1)[0],this.options.pedantic&&(ei=ei.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!Le.test(ei)&&!We.test(ht));){if(ei.search(/[^ ]/)>=En||!ei.trim())Qn+="\n"+ei.slice(En);else{if(Un)break;Qn+="\n"+ei}!Un&&!ei.trim()&&(Un=!0),rn+=li+"\n",ht=ht.substring(li.length+1)}Te.loose||(ai?Te.loose=!0:/\n *\n *$/.test(rn)&&(ai=!0)),this.options.gfm&&(jt=/^\[[ xX]\] /.exec(Qn))&&(yn="[ ] "!==jt[0],Qn=Qn.replace(/^\[[ xX]\] +/,"")),Te.items.push({type:"list_item",raw:rn,task:!!jt,checked:yn,loose:!1,text:Qn}),Te.raw+=rn}Te.items[Te.items.length-1].raw=rn.trimRight(),Te.items[Te.items.length-1].text=Qn.trimRight(),Te.raw=Te.raw.trimRight();var it=Te.items.length;for(xn=0;xn<it;xn++){this.lexer.state.top=!1,Te.items[xn].tokens=this.lexer.blockTokens(Te.items[xn].text,[]);var pt=Te.items[xn].tokens.filter(function(Ut){return"space"===Ut.type}),Et=pt.every(function(Ut){for(var On,pn=0,In=be(Ut.raw.split(""));!(On=In()).done;)if("\n"===On.value&&(pn+=1),pn>1)return!0;return!1});!Te.loose&&pt.length&&Et&&(Te.loose=!0,Te.items[xn].loose=!0)}return Te}},en.html=function(ht){var Ct=this.rules.block.html.exec(ht);if(Ct){var rn={type:"html",raw:Ct[0],pre:!this.options.sanitizer&&("pre"===Ct[1]||"script"===Ct[1]||"style"===Ct[1]),text:Ct[0]};return this.options.sanitize&&(rn.type="paragraph",rn.text=this.options.sanitizer?this.options.sanitizer(Ct[0]):Se(Ct[0]),rn.tokens=[],this.lexer.inline(rn.text,rn.tokens)),rn}},en.def=function(ht){var Ct=this.rules.block.def.exec(ht);if(Ct)return Ct[3]&&(Ct[3]=Ct[3].substring(1,Ct[3].length-1)),{type:"def",tag:Ct[1].toLowerCase().replace(/\s+/g," "),raw:Ct[0],href:Ct[2],title:Ct[3]}},en.table=function(ht){var Ct=this.rules.block.table.exec(ht);if(Ct){var rn={type:"table",header:Je(Ct[1]).map(function(ai){return{text:ai}}),align:Ct[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Ct[3]&&Ct[3].trim()?Ct[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(rn.header.length===rn.align.length){rn.raw=Ct[0];var yn,En,xn,Un,jt=rn.align.length;for(yn=0;yn<jt;yn++)rn.align[yn]=/^ *-+: *$/.test(rn.align[yn])?"right":/^ *:-+: *$/.test(rn.align[yn])?"center":/^ *:-+ *$/.test(rn.align[yn])?"left":null;for(jt=rn.rows.length,yn=0;yn<jt;yn++)rn.rows[yn]=Je(rn.rows[yn],rn.header.length).map(function(ai){return{text:ai}});for(jt=rn.header.length,En=0;En<jt;En++)rn.header[En].tokens=[],this.lexer.inline(rn.header[En].text,rn.header[En].tokens);for(jt=rn.rows.length,En=0;En<jt;En++)for(Un=rn.rows[En],xn=0;xn<Un.length;xn++)Un[xn].tokens=[],this.lexer.inline(Un[xn].text,Un[xn].tokens);return rn}}},en.lheading=function(ht){var Ct=this.rules.block.lheading.exec(ht);if(Ct){var rn={type:"heading",raw:Ct[0],depth:"="===Ct[2].charAt(0)?1:2,text:Ct[1],tokens:[]};return this.lexer.inline(rn.text,rn.tokens),rn}},en.paragraph=function(ht){var Ct=this.rules.block.paragraph.exec(ht);if(Ct){var rn={type:"paragraph",raw:Ct[0],text:"\n"===Ct[1].charAt(Ct[1].length-1)?Ct[1].slice(0,-1):Ct[1],tokens:[]};return this.lexer.inline(rn.text,rn.tokens),rn}},en.text=function(ht){var Ct=this.rules.block.text.exec(ht);if(Ct){var rn={type:"text",raw:Ct[0],text:Ct[0],tokens:[]};return this.lexer.inline(rn.text,rn.tokens),rn}},en.escape=function(ht){var Ct=this.rules.inline.escape.exec(ht);if(Ct)return{type:"escape",raw:Ct[0],text:Se(Ct[1])}},en.tag=function(ht){var Ct=this.rules.inline.tag.exec(ht);if(Ct)return!this.lexer.state.inLink&&/^<a /i.test(Ct[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Ct[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Ct[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Ct[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Ct[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Ct[0]):Se(Ct[0]):Ct[0]}},en.link=function(ht){var Ct=this.rules.inline.link.exec(ht);if(Ct){var rn=Ct[2].trim();if(!this.options.pedantic&&/^</.test(rn)){if(!/>$/.test(rn))return;var jt=gt(rn.slice(0,-1),"\\");if((rn.length-jt.length)%2==0)return}else{var yn=function lt(Gt,en){if(-1===Gt.indexOf(en[1]))return-1;for(var Yt=Gt.length,ht=0,Ct=0;Ct<Yt;Ct++)if("\\"===Gt[Ct])Ct++;else if(Gt[Ct]===en[0])ht++;else if(Gt[Ct]===en[1]&&--ht<0)return Ct;return-1}(Ct[2],"()");if(yn>-1){var xn=(0===Ct[0].indexOf("!")?5:4)+Ct[1].length+yn;Ct[2]=Ct[2].substring(0,yn),Ct[0]=Ct[0].substring(0,xn).trim(),Ct[3]=""}}var Un=Ct[2],ai="";if(this.options.pedantic){var ei=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Un);ei&&(Un=ei[1],ai=ei[3])}else ai=Ct[3]?Ct[3].slice(1,-1):"";return Un=Un.trim(),/^</.test(Un)&&(Un=this.options.pedantic&&!/>$/.test(rn)?Un.slice(1):Un.slice(1,-1)),Ue(Ct,{href:Un&&Un.replace(this.rules.inline._escapes,"$1"),title:ai&&ai.replace(this.rules.inline._escapes,"$1")},Ct[0],this.lexer)}},en.reflink=function(ht,Ct){var rn;if((rn=this.rules.inline.reflink.exec(ht))||(rn=this.rules.inline.nolink.exec(ht))){var jt=(rn[2]||rn[1]).replace(/\s+/g," ");if(!(jt=Ct[jt.toLowerCase()])||!jt.href){var yn=rn[0].charAt(0);return{type:"text",raw:yn,text:yn}}return Ue(rn,jt,rn[0],this.lexer)}},en.emStrong=function(ht,Ct,rn){void 0===rn&&(rn="");var jt=this.rules.inline.emStrong.lDelim.exec(ht);if(jt&&(!jt[3]||!rn.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var yn=jt[1]||jt[2]||"";if(!yn||yn&&(""===rn||this.rules.inline.punctuation.exec(rn))){var xn,Un,En=jt[0].length-1,ai=En,ei=0,Di="*"===jt[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Di.lastIndex=0,Ct=Ct.slice(-1*ht.length+En);null!=(jt=Di.exec(Ct));)if(xn=jt[1]||jt[2]||jt[3]||jt[4]||jt[5]||jt[6]){if(Un=xn.length,jt[3]||jt[4]){ai+=Un;continue}if((jt[5]||jt[6])&&En%3&&!((En+Un)%3)){ei+=Un;continue}if(!((ai-=Un)>0)){if(Un=Math.min(Un,Un+ai+ei),Math.min(En,Un)%2){var li=ht.slice(1,En+jt.index+Un);return{type:"em",raw:ht.slice(0,En+jt.index+Un+1),text:li,tokens:this.lexer.inlineTokens(li,[])}}var Qn=ht.slice(2,En+jt.index+Un-1);return{type:"strong",raw:ht.slice(0,En+jt.index+Un+1),text:Qn,tokens:this.lexer.inlineTokens(Qn,[])}}}}}},en.codespan=function(ht){var Ct=this.rules.inline.code.exec(ht);if(Ct){var rn=Ct[2].replace(/\n/g," "),jt=/[^ ]/.test(rn),yn=/^ /.test(rn)&&/ $/.test(rn);return jt&&yn&&(rn=rn.substring(1,rn.length-1)),rn=Se(rn,!0),{type:"codespan",raw:Ct[0],text:rn}}},en.br=function(ht){var Ct=this.rules.inline.br.exec(ht);if(Ct)return{type:"br",raw:Ct[0]}},en.del=function(ht){var Ct=this.rules.inline.del.exec(ht);if(Ct)return{type:"del",raw:Ct[0],text:Ct[2],tokens:this.lexer.inlineTokens(Ct[2],[])}},en.autolink=function(ht,Ct){var jt,yn,rn=this.rules.inline.autolink.exec(ht);if(rn)return yn="@"===rn[2]?"mailto:"+(jt=Se(this.options.mangle?Ct(rn[1]):rn[1])):jt=Se(rn[1]),{type:"link",raw:rn[0],text:jt,href:yn,tokens:[{type:"text",raw:jt,text:jt}]}},en.url=function(ht,Ct){var rn;if(rn=this.rules.inline.url.exec(ht)){var jt,yn;if("@"===rn[2])yn="mailto:"+(jt=Se(this.options.mangle?Ct(rn[0]):rn[0]));else{var En;do{En=rn[0],rn[0]=this.rules.inline._backpedal.exec(rn[0])[0]}while(En!==rn[0]);jt=Se(rn[0]),yn="www."===rn[1]?"http://"+jt:jt}return{type:"link",raw:rn[0],text:jt,href:yn,tokens:[{type:"text",raw:jt,text:jt}]}}},en.inlineText=function(ht,Ct){var jt,rn=this.rules.inline.text.exec(ht);if(rn)return jt=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(rn[0]):Se(rn[0]):rn[0]:Se(this.options.smartypants?Ct(rn[0]):rn[0]),{type:"text",raw:rn[0],text:jt}},Gt}(),Ze={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ne,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Ze.def=ye(Ze.def).replace("label",Ze._label).replace("title",Ze._title).getRegex(),Ze.bullet=/(?:[*+-]|\d{1,9}[.)])/,Ze.listItemStart=ye(/^( *)(bull) */).replace("bull",Ze.bullet).getRegex(),Ze.list=ye(Ze.list).replace(/bull/g,Ze.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ze.def.source+")").getRegex(),Ze._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ze._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Ze.html=ye(Ze.html,"i").replace("comment",Ze._comment).replace("tag",Ze._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ze.paragraph=ye(Ze._paragraph).replace("hr",Ze.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ze._tag).getRegex(),Ze.blockquote=ye(Ze.blockquote).replace("paragraph",Ze.paragraph).getRegex(),Ze.normal=xe({},Ze),Ze.gfm=xe({},Ze.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Ze.gfm.table=ye(Ze.gfm.table).replace("hr",Ze.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ze._tag).getRegex(),Ze.gfm.paragraph=ye(Ze._paragraph).replace("hr",Ze.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ze.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ze._tag).getRegex(),Ze.pedantic=xe({},Ze.normal,{html:ye("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Ze._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ne,paragraph:ye(Ze.normal._paragraph).replace("hr",Ze.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Ze.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Mt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ne,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ne,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Nt(Gt){return Gt.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function ze(Gt){var Yt,ht,en="",Ct=Gt.length;for(Yt=0;Yt<Ct;Yt++)ht=Gt.charCodeAt(Yt),Math.random()>.5&&(ht="x"+ht.toString(16)),en+="&#"+ht+";";return en}Mt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Mt.punctuation=ye(Mt.punctuation).replace(/punctuation/g,Mt._punctuation).getRegex(),Mt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Mt.escapedEmSt=/\\\*|\\_/g,Mt._comment=ye(Ze._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Mt.emStrong.lDelim=ye(Mt.emStrong.lDelim).replace(/punct/g,Mt._punctuation).getRegex(),Mt.emStrong.rDelimAst=ye(Mt.emStrong.rDelimAst,"g").replace(/punct/g,Mt._punctuation).getRegex(),Mt.emStrong.rDelimUnd=ye(Mt.emStrong.rDelimUnd,"g").replace(/punct/g,Mt._punctuation).getRegex(),Mt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Mt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Mt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Mt.autolink=ye(Mt.autolink).replace("scheme",Mt._scheme).replace("email",Mt._email).getRegex(),Mt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Mt.tag=ye(Mt.tag).replace("comment",Mt._comment).replace("attribute",Mt._attribute).getRegex(),Mt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Mt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Mt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Mt.link=ye(Mt.link).replace("label",Mt._label).replace("href",Mt._href).replace("title",Mt._title).getRegex(),Mt.reflink=ye(Mt.reflink).replace("label",Mt._label).replace("ref",Ze._label).getRegex(),Mt.nolink=ye(Mt.nolink).replace("ref",Ze._label).getRegex(),Mt.reflinkSearch=ye(Mt.reflinkSearch,"g").replace("reflink",Mt.reflink).replace("nolink",Mt.nolink).getRegex(),Mt.normal=xe({},Mt),Mt.pedantic=xe({},Mt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ye(/^!?\[(label)\]\((.*?)\)/).replace("label",Mt._label).getRegex(),reflink:ye(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Mt._label).getRegex()}),Mt.gfm=xe({},Mt.normal,{escape:ye(Mt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Mt.gfm.url=ye(Mt.gfm.url,"i").replace("email",Mt.gfm._extended_email).getRegex(),Mt.breaks=xe({},Mt.gfm,{br:ye(Mt.br).replace("{2,}","*").getRegex(),text:ye(Mt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var dt=function(){function Gt(Yt){this.tokens=[],this.tokens.links=Object.create(null),this.options=Yt||V.defaults,this.options.tokenizer=this.options.tokenizer||new et,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var ht={block:Ze.normal,inline:Mt.normal};this.options.pedantic?(ht.block=Ze.pedantic,ht.inline=Mt.pedantic):this.options.gfm&&(ht.block=Ze.gfm,ht.inline=this.options.breaks?Mt.breaks:Mt.gfm),this.tokenizer.rules=ht}Gt.lex=function(ht,Ct){return new Gt(Ct).lex(ht)},Gt.lexInline=function(ht,Ct){return new Gt(Ct).inlineTokens(ht)};var en=Gt.prototype;return en.lex=function(ht){ht=ht.replace(/\r\n|\r/g,"\n"),this.blockTokens(ht,this.tokens);for(var Ct;Ct=this.inlineQueue.shift();)this.inlineTokens(Ct.src,Ct.tokens);return this.tokens},en.blockTokens=function(ht,Ct){var jt,yn,En,xn,rn=this;for(void 0===Ct&&(Ct=[]),ht=this.options.pedantic?ht.replace(/\t/g,"    ").replace(/^ +$/gm,""):ht.replace(/^( *)(\t+)/gm,function(ai,ei,Di){return ei+"    ".repeat(Di.length)});ht;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(ai){return!!(jt=ai.call({lexer:rn},ht,Ct))&&(ht=ht.substring(jt.raw.length),Ct.push(jt),!0)}))){if(jt=this.tokenizer.space(ht)){ht=ht.substring(jt.raw.length),1===jt.raw.length&&Ct.length>0?Ct[Ct.length-1].raw+="\n":Ct.push(jt);continue}if(jt=this.tokenizer.code(ht)){ht=ht.substring(jt.raw.length),!(yn=Ct[Ct.length-1])||"paragraph"!==yn.type&&"text"!==yn.type?Ct.push(jt):(yn.raw+="\n"+jt.raw,yn.text+="\n"+jt.text,this.inlineQueue[this.inlineQueue.length-1].src=yn.text);continue}if(jt=this.tokenizer.fences(ht)){ht=ht.substring(jt.raw.length),Ct.push(jt);continue}if(jt=this.tokenizer.heading(ht)){ht=ht.substring(jt.raw.length),Ct.push(jt);continue}if(jt=this.tokenizer.hr(ht)){ht=ht.substring(jt.raw.length),Ct.push(jt);continue}if(jt=this.tokenizer.blockquote(ht)){ht=ht.substring(jt.raw.length),Ct.push(jt);continue}if(jt=this.tokenizer.list(ht)){ht=ht.substring(jt.raw.length),Ct.push(jt);continue}if(jt=this.tokenizer.html(ht)){ht=ht.substring(jt.raw.length),Ct.push(jt);continue}if(jt=this.tokenizer.def(ht)){ht=ht.substring(jt.raw.length),!(yn=Ct[Ct.length-1])||"paragraph"!==yn.type&&"text"!==yn.type?this.tokens.links[jt.tag]||(this.tokens.links[jt.tag]={href:jt.href,title:jt.title}):(yn.raw+="\n"+jt.raw,yn.text+="\n"+jt.raw,this.inlineQueue[this.inlineQueue.length-1].src=yn.text);continue}if(jt=this.tokenizer.table(ht)){ht=ht.substring(jt.raw.length),Ct.push(jt);continue}if(jt=this.tokenizer.lheading(ht)){ht=ht.substring(jt.raw.length),Ct.push(jt);continue}if(En=ht,this.options.extensions&&this.options.extensions.startBlock&&function(){var ai=1/0,ei=ht.slice(1),Di=void 0;rn.options.extensions.startBlock.forEach(function(li){"number"==typeof(Di=li.call({lexer:this},ei))&&Di>=0&&(ai=Math.min(ai,Di))}),ai<1/0&&ai>=0&&(En=ht.substring(0,ai+1))}(),this.state.top&&(jt=this.tokenizer.paragraph(En))){yn=Ct[Ct.length-1],xn&&"paragraph"===yn.type?(yn.raw+="\n"+jt.raw,yn.text+="\n"+jt.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=yn.text):Ct.push(jt),xn=En.length!==ht.length,ht=ht.substring(jt.raw.length);continue}if(jt=this.tokenizer.text(ht)){ht=ht.substring(jt.raw.length),(yn=Ct[Ct.length-1])&&"text"===yn.type?(yn.raw+="\n"+jt.raw,yn.text+="\n"+jt.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=yn.text):Ct.push(jt);continue}if(ht){var Un="Infinite loop on byte: "+ht.charCodeAt(0);if(this.options.silent){console.error(Un);break}throw new Error(Un)}}return this.state.top=!0,Ct},en.inline=function(ht,Ct){this.inlineQueue.push({src:ht,tokens:Ct})},en.inlineTokens=function(ht,Ct){var rn=this;void 0===Ct&&(Ct=[]);var jt,yn,En,Un,ai,ei,xn=ht;if(this.tokens.links){var Di=Object.keys(this.tokens.links);if(Di.length>0)for(;null!=(Un=this.tokenizer.rules.inline.reflinkSearch.exec(xn));)Di.includes(Un[0].slice(Un[0].lastIndexOf("[")+1,-1))&&(xn=xn.slice(0,Un.index)+"["+He("a",Un[0].length-2)+"]"+xn.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Un=this.tokenizer.rules.inline.blockSkip.exec(xn));)xn=xn.slice(0,Un.index)+"["+He("a",Un[0].length-2)+"]"+xn.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(Un=this.tokenizer.rules.inline.escapedEmSt.exec(xn));)xn=xn.slice(0,Un.index)+"++"+xn.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;ht;)if(ai||(ei=""),ai=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Qn){return!!(jt=Qn.call({lexer:rn},ht,Ct))&&(ht=ht.substring(jt.raw.length),Ct.push(jt),!0)}))){if(jt=this.tokenizer.escape(ht)){ht=ht.substring(jt.raw.length),Ct.push(jt);continue}if(jt=this.tokenizer.tag(ht)){ht=ht.substring(jt.raw.length),(yn=Ct[Ct.length-1])&&"text"===jt.type&&"text"===yn.type?(yn.raw+=jt.raw,yn.text+=jt.text):Ct.push(jt);continue}if(jt=this.tokenizer.link(ht)){ht=ht.substring(jt.raw.length),Ct.push(jt);continue}if(jt=this.tokenizer.reflink(ht,this.tokens.links)){ht=ht.substring(jt.raw.length),(yn=Ct[Ct.length-1])&&"text"===jt.type&&"text"===yn.type?(yn.raw+=jt.raw,yn.text+=jt.text):Ct.push(jt);continue}if(jt=this.tokenizer.emStrong(ht,xn,ei)){ht=ht.substring(jt.raw.length),Ct.push(jt);continue}if(jt=this.tokenizer.codespan(ht)){ht=ht.substring(jt.raw.length),Ct.push(jt);continue}if(jt=this.tokenizer.br(ht)){ht=ht.substring(jt.raw.length),Ct.push(jt);continue}if(jt=this.tokenizer.del(ht)){ht=ht.substring(jt.raw.length),Ct.push(jt);continue}if(jt=this.tokenizer.autolink(ht,ze)){ht=ht.substring(jt.raw.length),Ct.push(jt);continue}if(!this.state.inLink&&(jt=this.tokenizer.url(ht,ze))){ht=ht.substring(jt.raw.length),Ct.push(jt);continue}if(En=ht,this.options.extensions&&this.options.extensions.startInline&&function(){var Qn=1/0,wi=ht.slice(1),Dn=void 0;rn.options.extensions.startInline.forEach(function(Dt){"number"==typeof(Dn=Dt.call({lexer:this},wi))&&Dn>=0&&(Qn=Math.min(Qn,Dn))}),Qn<1/0&&Qn>=0&&(En=ht.substring(0,Qn+1))}(),jt=this.tokenizer.inlineText(En,Nt)){ht=ht.substring(jt.raw.length),"_"!==jt.raw.slice(-1)&&(ei=jt.raw.slice(-1)),ai=!0,(yn=Ct[Ct.length-1])&&"text"===yn.type?(yn.raw+=jt.raw,yn.text+=jt.text):Ct.push(jt);continue}if(ht){var li="Infinite loop on byte: "+ht.charCodeAt(0);if(this.options.silent){console.error(li);break}throw new Error(li)}}return Ct},function te(Gt,en,Yt){en&&$(Gt.prototype,en),Yt&&$(Gt,Yt),Object.defineProperty(Gt,"prototype",{writable:!1})}(Gt,null,[{key:"rules",get:function(){return{block:Ze,inline:Mt}}}]),Gt}(),$t=function(){function Gt(Yt){this.options=Yt||V.defaults}var en=Gt.prototype;return en.code=function(ht,Ct,rn){var jt=(Ct||"").match(/\S*/)[0];if(this.options.highlight){var yn=this.options.highlight(ht,jt);null!=yn&&yn!==ht&&(rn=!0,ht=yn)}return ht=ht.replace(/\n$/,"")+"\n",jt?'<pre><code class="'+this.options.langPrefix+Se(jt,!0)+'">'+(rn?ht:Se(ht,!0))+"</code></pre>\n":"<pre><code>"+(rn?ht:Se(ht,!0))+"</code></pre>\n"},en.blockquote=function(ht){return"<blockquote>\n"+ht+"</blockquote>\n"},en.html=function(ht){return ht},en.heading=function(ht,Ct,rn,jt){return this.options.headerIds?"<h"+Ct+' id="'+(this.options.headerPrefix+jt.slug(rn))+'">'+ht+"</h"+Ct+">\n":"<h"+Ct+">"+ht+"</h"+Ct+">\n"},en.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},en.list=function(ht,Ct,rn){var jt=Ct?"ol":"ul";return"<"+jt+(Ct&&1!==rn?' start="'+rn+'"':"")+">\n"+ht+"</"+jt+">\n"},en.listitem=function(ht){return"<li>"+ht+"</li>\n"},en.checkbox=function(ht){return"<input "+(ht?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},en.paragraph=function(ht){return"<p>"+ht+"</p>\n"},en.table=function(ht,Ct){return Ct&&(Ct="<tbody>"+Ct+"</tbody>"),"<table>\n<thead>\n"+ht+"</thead>\n"+Ct+"</table>\n"},en.tablerow=function(ht){return"<tr>\n"+ht+"</tr>\n"},en.tablecell=function(ht,Ct){var rn=Ct.header?"th":"td";return(Ct.align?"<"+rn+' align="'+Ct.align+'">':"<"+rn+">")+ht+"</"+rn+">\n"},en.strong=function(ht){return"<strong>"+ht+"</strong>"},en.em=function(ht){return"<em>"+ht+"</em>"},en.codespan=function(ht){return"<code>"+ht+"</code>"},en.br=function(){return this.options.xhtml?"<br/>":"<br>"},en.del=function(ht){return"<del>"+ht+"</del>"},en.link=function(ht,Ct,rn){if(null===(ht=Qe(this.options.sanitize,this.options.baseUrl,ht)))return rn;var jt='<a href="'+Se(ht)+'"';return Ct&&(jt+=' title="'+Ct+'"'),jt+">"+rn+"</a>"},en.image=function(ht,Ct,rn){if(null===(ht=Qe(this.options.sanitize,this.options.baseUrl,ht)))return rn;var jt='<img src="'+ht+'" alt="'+rn+'"';return Ct&&(jt+=' title="'+Ct+'"'),jt+(this.options.xhtml?"/>":">")},en.text=function(ht){return ht},Gt}(),hn=function(){function Gt(){}var en=Gt.prototype;return en.strong=function(ht){return ht},en.em=function(ht){return ht},en.codespan=function(ht){return ht},en.del=function(ht){return ht},en.html=function(ht){return ht},en.text=function(ht){return ht},en.link=function(ht,Ct,rn){return""+rn},en.image=function(ht,Ct,rn){return""+rn},en.br=function(){return""},Gt}(),vn=function(){function Gt(){this.seen={}}var en=Gt.prototype;return en.serialize=function(ht){return ht.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},en.getNextSafeSlug=function(ht,Ct){var rn=ht,jt=0;if(this.seen.hasOwnProperty(rn)){jt=this.seen[ht];do{rn=ht+"-"+ ++jt}while(this.seen.hasOwnProperty(rn))}return Ct||(this.seen[ht]=jt,this.seen[rn]=0),rn},en.slug=function(ht,Ct){void 0===Ct&&(Ct={});var rn=this.serialize(ht);return this.getNextSafeSlug(rn,Ct.dryrun)},Gt}(),ft=function(){function Gt(Yt){this.options=Yt||V.defaults,this.options.renderer=this.options.renderer||new $t,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new hn,this.slugger=new vn}Gt.parse=function(ht,Ct){return new Gt(Ct).parse(ht)},Gt.parseInline=function(ht,Ct){return new Gt(Ct).parseInline(ht)};var en=Gt.prototype;return en.parse=function(ht,Ct){void 0===Ct&&(Ct=!0);var jt,yn,En,xn,Un,ai,ei,Di,li,Qn,wi,Dn,Dt,Te,oe,Le,We,it,pt,rn="",Et=ht.length;for(jt=0;jt<Et;jt++)if(Qn=ht[jt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Qn.type]&&(!1!==(pt=this.options.extensions.renderers[Qn.type].call({parser:this},Qn))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Qn.type)))rn+=pt||"";else switch(Qn.type){case"space":continue;case"hr":rn+=this.renderer.hr();continue;case"heading":rn+=this.renderer.heading(this.parseInline(Qn.tokens),Qn.depth,Ve(this.parseInline(Qn.tokens,this.textRenderer)),this.slugger);continue;case"code":rn+=this.renderer.code(Qn.text,Qn.lang,Qn.escaped);continue;case"table":for(Di="",ei="",xn=Qn.header.length,yn=0;yn<xn;yn++)ei+=this.renderer.tablecell(this.parseInline(Qn.header[yn].tokens),{header:!0,align:Qn.align[yn]});for(Di+=this.renderer.tablerow(ei),li="",xn=Qn.rows.length,yn=0;yn<xn;yn++){for(ei="",Un=(ai=Qn.rows[yn]).length,En=0;En<Un;En++)ei+=this.renderer.tablecell(this.parseInline(ai[En].tokens),{header:!1,align:Qn.align[En]});li+=this.renderer.tablerow(ei)}rn+=this.renderer.table(Di,li);continue;case"blockquote":li=this.parse(Qn.tokens),rn+=this.renderer.blockquote(li);continue;case"list":for(wi=Qn.ordered,Dn=Qn.start,Dt=Qn.loose,xn=Qn.items.length,li="",yn=0;yn<xn;yn++)Le=(oe=Qn.items[yn]).checked,We=oe.task,Te="",oe.task&&(it=this.renderer.checkbox(Le),Dt?oe.tokens.length>0&&"paragraph"===oe.tokens[0].type?(oe.tokens[0].text=it+" "+oe.tokens[0].text,oe.tokens[0].tokens&&oe.tokens[0].tokens.length>0&&"text"===oe.tokens[0].tokens[0].type&&(oe.tokens[0].tokens[0].text=it+" "+oe.tokens[0].tokens[0].text)):oe.tokens.unshift({type:"text",text:it}):Te+=it),Te+=this.parse(oe.tokens,Dt),li+=this.renderer.listitem(Te,We,Le);rn+=this.renderer.list(li,wi,Dn);continue;case"html":rn+=this.renderer.html(Qn.text);continue;case"paragraph":rn+=this.renderer.paragraph(this.parseInline(Qn.tokens));continue;case"text":for(li=Qn.tokens?this.parseInline(Qn.tokens):Qn.text;jt+1<Et&&"text"===ht[jt+1].type;)li+="\n"+((Qn=ht[++jt]).tokens?this.parseInline(Qn.tokens):Qn.text);rn+=Ct?this.renderer.paragraph(li):li;continue;default:var Ut='Token with "'+Qn.type+'" type was not found.';if(this.options.silent)return void console.error(Ut);throw new Error(Ut)}return rn},en.parseInline=function(ht,Ct){Ct=Ct||this.renderer;var jt,yn,En,rn="",xn=ht.length;for(jt=0;jt<xn;jt++)if(yn=ht[jt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[yn.type]&&(!1!==(En=this.options.extensions.renderers[yn.type].call({parser:this},yn))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(yn.type)))rn+=En||"";else switch(yn.type){case"escape":case"text":rn+=Ct.text(yn.text);break;case"html":rn+=Ct.html(yn.text);break;case"link":rn+=Ct.link(yn.href,yn.title,this.parseInline(yn.tokens,Ct));break;case"image":rn+=Ct.image(yn.href,yn.title,yn.text);break;case"strong":rn+=Ct.strong(this.parseInline(yn.tokens,Ct));break;case"em":rn+=Ct.em(this.parseInline(yn.tokens,Ct));break;case"codespan":rn+=Ct.codespan(yn.text);break;case"br":rn+=Ct.br();break;case"del":rn+=Ct.del(this.parseInline(yn.tokens,Ct));break;default:var Un='Token with "'+yn.type+'" type was not found.';if(this.options.silent)return void console.error(Un);throw new Error(Un)}return rn},Gt}();function ke(Gt,en,Yt){if(null==Gt)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof Gt)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Gt)+", string expected");if("function"==typeof en&&(Yt=en,en=null),Ke(en=xe({},ke.defaults,en||{})),Yt){var Ct,ht=en.highlight;try{Ct=dt.lex(Gt,en)}catch(En){return Yt(En)}var rn=function(xn){var Un;if(!xn)try{en.walkTokens&&ke.walkTokens(Ct,en.walkTokens),Un=ft.parse(Ct,en)}catch(ai){xn=ai}return en.highlight=ht,xn?Yt(xn):Yt(null,Un)};if(!ht||ht.length<3||(delete en.highlight,!Ct.length))return rn();var jt=0;return ke.walkTokens(Ct,function(En){"code"===En.type&&(jt++,setTimeout(function(){ht(En.text,En.lang,function(xn,Un){if(xn)return rn(xn);null!=Un&&Un!==En.text&&(En.text=Un,En.escaped=!0),0==--jt&&rn()})},0))}),void(0===jt&&rn())}try{var yn=dt.lex(Gt,en);return en.walkTokens&&ke.walkTokens(yn,en.walkTokens),ft.parse(yn,en)}catch(En){if(En.message+="\nPlease report this to https://github.com/markedjs/marked.",en.silent)return"<p>An error occurred:</p><pre>"+Se(En.message+"",!0)+"</pre>";throw En}}ke.options=ke.setOptions=function(Gt){return xe(ke.defaults,Gt),function Ie(Gt){V.defaults=Gt}(ke.defaults),ke},ke.getDefaults=me,ke.defaults=V.defaults,ke.use=function(){for(var Gt=arguments.length,en=new Array(Gt),Yt=0;Yt<Gt;Yt++)en[Yt]=arguments[Yt];var rn,ht=xe.apply(void 0,[{}].concat(en)),Ct=ke.defaults.extensions||{renderers:{},childTokens:{}};en.forEach(function(jt){if(jt.extensions&&(rn=!0,jt.extensions.forEach(function(En){if(!En.name)throw new Error("extension name required");if(En.renderer){var xn=Ct.renderers?Ct.renderers[En.name]:null;Ct.renderers[En.name]=xn?function(){for(var Un=arguments.length,ai=new Array(Un),ei=0;ei<Un;ei++)ai[ei]=arguments[ei];var Di=En.renderer.apply(this,ai);return!1===Di&&(Di=xn.apply(this,ai)),Di}:En.renderer}if(En.tokenizer){if(!En.level||"block"!==En.level&&"inline"!==En.level)throw new Error("extension level must be 'block' or 'inline'");Ct[En.level]?Ct[En.level].unshift(En.tokenizer):Ct[En.level]=[En.tokenizer],En.start&&("block"===En.level?Ct.startBlock?Ct.startBlock.push(En.start):Ct.startBlock=[En.start]:"inline"===En.level&&(Ct.startInline?Ct.startInline.push(En.start):Ct.startInline=[En.start]))}En.childTokens&&(Ct.childTokens[En.name]=En.childTokens)})),jt.renderer&&function(){var En=ke.defaults.renderer||new $t,xn=function(ei){var Di=En[ei];En[ei]=function(){for(var li=arguments.length,Qn=new Array(li),wi=0;wi<li;wi++)Qn[wi]=arguments[wi];var Dn=jt.renderer[ei].apply(En,Qn);return!1===Dn&&(Dn=Di.apply(En,Qn)),Dn}};for(var Un in jt.renderer)xn(Un);ht.renderer=En}(),jt.tokenizer&&function(){var En=ke.defaults.tokenizer||new et,xn=function(ei){var Di=En[ei];En[ei]=function(){for(var li=arguments.length,Qn=new Array(li),wi=0;wi<li;wi++)Qn[wi]=arguments[wi];var Dn=jt.tokenizer[ei].apply(En,Qn);return!1===Dn&&(Dn=Di.apply(En,Qn)),Dn}};for(var Un in jt.tokenizer)xn(Un);ht.tokenizer=En}(),jt.walkTokens){var yn=ke.defaults.walkTokens;ht.walkTokens=function(En){jt.walkTokens.call(this,En),yn&&yn.call(this,En)}}rn&&(ht.extensions=Ct),ke.setOptions(ht)})},ke.walkTokens=function(Gt,en){for(var Ct,Yt=function(){var jt=Ct.value;switch(en.call(ke,jt),jt.type){case"table":for(var En,yn=be(jt.header);!(En=yn()).done;)ke.walkTokens(En.value.tokens,en);for(var ai,Un=be(jt.rows);!(ai=Un()).done;)for(var li,Di=be(ai.value);!(li=Di()).done;)ke.walkTokens(li.value.tokens,en);break;case"list":ke.walkTokens(jt.items,en);break;default:ke.defaults.extensions&&ke.defaults.extensions.childTokens&&ke.defaults.extensions.childTokens[jt.type]?ke.defaults.extensions.childTokens[jt.type].forEach(function(wi){ke.walkTokens(jt[wi],en)}):jt.tokens&&ke.walkTokens(jt.tokens,en)}},ht=be(Gt);!(Ct=ht()).done;)Yt()},ke.parseInline=function(Gt,en){if(null==Gt)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof Gt)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Gt)+", string expected");Ke(en=xe({},ke.defaults,en||{}));try{var Yt=dt.lexInline(Gt,en);return en.walkTokens&&ke.walkTokens(Yt,en.walkTokens),ft.parseInline(Yt,en)}catch(ht){if(ht.message+="\nPlease report this to https://github.com/markedjs/marked.",en.silent)return"<p>An error occurred:</p><pre>"+Se(ht.message+"",!0)+"</pre>";throw ht}},ke.Parser=ft,ke.parser=ft.parse,ke.Renderer=$t,ke.TextRenderer=hn,ke.Lexer=dt,ke.lexer=dt.lex,ke.Tokenizer=et,ke.Slugger=vn,ke.parse=ke;var nt=ke.options,st=ke.setOptions,Ee=ke.use,Fe=ke.walkTokens,mt=ke.parseInline,Vt=ke,qt=ft.parse,Cn=dt.lex;V.Lexer=dt,V.Parser=ft,V.Renderer=$t,V.Slugger=vn,V.TextRenderer=hn,V.Tokenizer=et,V.getDefaults=me,V.lexer=Cn,V.marked=ke,V.options=nt,V.parse=Vt,V.parseInline=mt,V.parser=qt,V.setOptions=st,V.use=Ee,V.walkTokens=Fe,Object.defineProperty(V,"__esModule",{value:!0})},"object"==typeof exports?$(exports):E.amd?E(0,$):$((V="undefined"!=typeof globalThis?globalThis:V||self).marked={})}();var n=c||exports,l=e(63314),v=e(90278),d=e(85271),m=e(15151),I=e(93059),y=e(74672);function S(E,V={},$={}){var te;const w=new p.SL;let fe=!1;const be=(0,M.az)(V),me=function(Se){let Pe;try{Pe=(0,l.Q)(decodeURIComponent(Se))}catch(Ve){}return Pe?(Pe=(0,d.rs)(Pe,Ve=>{if(E.uris&&E.uris[Ve])return y.o.revive(E.uris[Ve])}),encodeURIComponent(JSON.stringify(Pe))):Se},Ie=function(Se,Pe){let ie=y.o.revive(E.uris&&E.uris[Se]);return Pe?Se.startsWith(v.lg.data+":")?Se:(ie||(ie=y.o.parse(Se)),v.Gi.asBrowserUri(ie).toString(!0)):ie&&y.o.parse(Se).toString()!==ie.toString()?(ie.query&&(ie=ie.with({query:me(ie.query)})),ie.toString()):Se},ee=new n.Renderer;ee.image=(Se,Pe,Ve)=>{let ie=[],ye=[];return Se&&(({href:Se,dimensions:ie}=(0,N.v1)(Se)),ye.push(`src="${(0,N.d9)(Se)}"`)),Ve&&ye.push(`alt="${(0,N.d9)(Ve)}"`),Pe&&ye.push(`title="${(0,N.d9)(Pe)}"`),ie.length&&(ye=ye.concat(ie)),"<img "+ye.join(" ")+">"},ee.link=(Se,Pe,Ve)=>"string"!=typeof Se?"":(Se===Ve&&(Ve=(0,N.oR)(Ve)),Pe="string"==typeof Pe?(0,N.d9)((0,N.oR)(Pe)):"",`<a href="${Se=(Se=(0,N.oR)(Se)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}" title="${Pe||Se}">${Ve}</a>`),ee.paragraph=Se=>`<p>${Se}</p>`;const ce=[];if(V.codeBlockRenderer&&(ee.code=(Se,Pe)=>{const Ve=a.a.nextId(),ie=V.codeBlockRenderer(null!=Pe?Pe:"",Se);return ce.push(ie.then(ye=>[Ve,ye])),`<div class="code" data-code="${Ve}">${(0,I.YU)(Se)}</div>`}),V.actionHandler){const Se=V.actionHandler.disposables.add(new L.Y(be,"click")),Pe=V.actionHandler.disposables.add(new L.Y(be,"auxclick"));V.actionHandler.disposables.add(k.ju.any(Se.event,Pe.event)(Ve=>{const ie=new u.n(Ve);if(!ie.leftButton&&!ie.middleButton)return;let ye=ie.target;if("A"===ye.tagName||(ye=ye.parentElement,ye&&"A"===ye.tagName))try{let _e=ye.dataset.href;_e&&(E.baseUri&&(_e=b(y.o.from(E.baseUri),_e)),V.actionHandler.callback(_e,ie))}catch(_e){(0,A.dL)(_e)}finally{ie.preventDefault()}}))}E.supportHtml||($.sanitizer=Se=>(E.isTrusted?Se.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?Se:"",$.sanitize=!0,$.silent=!0),$.renderer=ee;let he=null!==(te=E.value)&&void 0!==te?te:"";he.length>1e5&&(he=`${he.substr(0,1e5)}\u2026`),E.supportThemeIcons&&(he=(0,_.f$)(he));let de=n.parse(he,$);E.supportThemeIcons&&(de=(0,P.T)(de).map(Pe=>"string"==typeof Pe?Pe:Pe.outerHTML).join(""));const re=(new DOMParser).parseFromString(x(E,de),"text/html");if(re.body.querySelectorAll("img").forEach(Se=>{const Pe=Se.getAttribute("src");if(Pe){let Ve=Pe;try{E.baseUri&&(Ve=b(y.o.from(E.baseUri),Ve))}catch(ie){}Se.src=Ie(Ve,!0)}}),re.body.querySelectorAll("a").forEach(Se=>{const Pe=Se.getAttribute("href");if(Se.setAttribute("href",""),!Pe||/^data:|javascript:/i.test(Pe)||/^command:/i.test(Pe)&&!E.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(Pe))Se.replaceWith(...Se.childNodes);else{let Ve=Ie(Pe,!1);E.baseUri&&(Ve=b(y.o.from(E.baseUri),Pe)),Se.dataset.href=Ve}}),be.innerHTML=x(E,re.body.innerHTML),ce.length>0&&Promise.all(ce).then(Se=>{var Pe,Ve;if(fe)return;const ie=new Map(Se),ye=be.querySelectorAll("div[data-code]");for(const _e of ye){const Be=ie.get(null!==(Pe=_e.dataset.code)&&void 0!==Pe?Pe:"");Be&&f.mc(_e,Be)}null===(Ve=V.asyncRenderCallback)||void 0===Ve||Ve.call(V)}),V.asyncRenderCallback)for(const Se of be.getElementsByTagName("img")){const Pe=w.add(f.nm(Se,"load",()=>{Pe.dispose(),V.asyncRenderCallback()}))}return{element:be,dispose:()=>{fe=!0,w.dispose()}}}function b(E,V){return/^\w[\w\d+.-]*:/.test(V)?V:E.path.endsWith("/")?(0,m.i3)(E,V).toString():(0,m.i3)((0,m.XX)(E),V).toString()}function x(E,V){const{config:$,allowedSchemes:te}=function T(E){const V=[v.lg.http,v.lg.https,v.lg.mailto,v.lg.data,v.lg.file,v.lg.vscodeFileResource,v.lg.vscodeRemote,v.lg.vscodeRemoteResource];return E.isTrusted&&V.push(v.lg.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:V}}(E);s.v5("uponSanitizeAttribute",(fe,be)=>{if("style"!==be.attrName&&"class"!==be.attrName);else{if("SPAN"===fe.tagName){if("style"===be.attrName)return void(be.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(be.attrValue));if("class"===be.attrName)return void(be.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(be.attrValue))}be.keepAttr=!1}});const w=f._F(te);try{return s.Nw(V,Object.assign(Object.assign({},$),{RETURN_TRUSTED_TYPE:!0}))}finally{s.ok("uponSanitizeAttribute"),w.dispose()}}var j,R=e(26589),Q=e(42570),Z=e(6689),G=e(95748),F=e(64669),B=function(E,V){return function($,te){V($,te,E)}};let Y=class Yd{constructor(V,$,te){this._options=V,this._languageService=$,this._openerService=te,this._onDidRenderAsync=new k.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(V,$,te){if(!V)return{element:document.createElement("span"),dispose:()=>{}};const w=new p.SL;return{element:w.add(S(V,Object.assign(Object.assign({},this._getRenderOptions(V,w)),$),te)).element,dispose:()=>w.dispose()}}_getRenderOptions(V,$){return{codeBlockRenderer:(te,w)=>function(E,V,$,te){return new($||($=Promise))(function(fe,be){function me(ce){try{ee(te.next(ce))}catch(he){be(he)}}function Ie(ce){try{ee(te.throw(ce))}catch(he){be(he)}}function ee(ce){ce.done?fe(ce.value):function w(fe){return fe instanceof $?fe:new $(function(be){be(fe)})}(ce.value).then(me,Ie)}ee((te=te.apply(E,V||[])).next())})}(this,void 0,void 0,function*(){var fe,be,me;let Ie;te?Ie=this._languageService.getLanguageIdByLanguageName(te):this._options.editor&&(Ie=null===(fe=this._options.editor.getModel())||void 0===fe?void 0:fe.getLanguageId()),Ie||(Ie=F.bd);const ee=yield(0,Z.C2)(this._languageService,w,Ie),ce=document.createElement("span");if(ce.innerHTML=null!==(me=null===(be=Yd._ttpTokenizer)||void 0===be?void 0:be.createHTML(ee))&&void 0!==me?me:ee,this._options.editor){const he=this._options.editor.getOption(46);(0,G.N)(ce,he)}else this._options.codeBlockFontFamily&&(ce.style.fontFamily=this._options.codeBlockFontFamily);return void 0!==this._options.codeBlockFontSize&&(ce.style.fontSize=this._options.codeBlockFontSize),ce}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:te=>this._openerService.open(te,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:V.isTrusted}).catch(A.dL),disposables:$}}}};Y._ttpTokenizer=null===(j=window.trustedTypes)||void 0===j?void 0:j.createPolicy("tokenizeToString",{createHTML:E=>E}),Y=function(E,V,$,te){var be,w=arguments.length,fe=w<3?V:null===te?te=Object.getOwnPropertyDescriptor(V,$):te;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)fe=Reflect.decorate(E,V,$,te);else for(var me=E.length-1;me>=0;me--)(be=E[me])&&(fe=(w<3?be(fe):w>3?be(V,$,fe):be(V,$))||fe);return w>3&&fe&&Object.defineProperty(V,$,fe),fe}([B(1,Q.O),B(2,R.v4)],Y)},10806:(at,ue,e)=>{"use strict";e.d(ue,{O:()=>Q});var f=e(71578),s=e(63072),L=e(52425),M=e(93379),u=e.n(M),P=e(7795),A=e.n(P),k=e(90569),N=e.n(k),_=e(3565),a=e.n(_),p=e(19216),c=e.n(p),n=e(44589),l=e.n(n),v=e(65807),d={};d.styleTagTransform=l(),d.setAttributes=a(),d.insert=N().bind(null,"head"),d.domAPI=A(),d.insertStyleElement=c(),u()(v.Z,d);var y=e(95172),S=e(68451),b=e(40402),x=e(59776);let Q=class Jl{constructor(W,B){this._messageWidget=new L.XK,this._messageListeners=new L.SL,this._editor=W,this._visible=Jl.MESSAGE_VISIBLE.bindTo(B)}static get(W){return W.getContribution(Jl.ID)}dispose(){this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(W,B){let z;(0,f.Z9)(W),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new G(this._editor,B,W),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new s._F(()=>this.closeMessage(),3e3)),this._messageListeners.add(this._editor.onMouseMove(j=>{!j.target.position||(z?z.containsPosition(j.target.position)||this.closeMessage():z=new S.e(B.lineNumber-3,1,j.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(G.fadeOut(this._messageWidget.value))}};var W;Q.ID="editor.contrib.messageController",Q.MESSAGE_VISIBLE=new x.uy("messageVisible",!1,b.NC("messageVisible","Whether the editor is currently showing an inline message")),Q=function(F,W,B,z){var E,j=arguments.length,Y=j<3?W:null===z?z=Object.getOwnPropertyDescriptor(W,B):z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Y=Reflect.decorate(F,W,B,z);else for(var V=F.length-1;V>=0;V--)(E=F[V])&&(Y=(j<3?E(Y):j>3?E(W,B,Y):E(W,B))||Y);return j>3&&Y&&Object.defineProperty(W,B,Y),Y}([(1,W=x.i6,function(B,z){W(B,z,1)})],Q);const Z=y._l.bindToContribution(Q.get);(0,y.fK)(new Z({id:"leaveEditorMessage",precondition:Q.MESSAGE_VISIBLE,handler:F=>F.closeMessage(),kbOpts:{weight:130,primary:9}}));class G{constructor(W,{lineNumber:B,column:z},j){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=W,this._editor.revealLinesInCenterIfOutsideViewport(B,B,0),this._position={lineNumber:B,column:z},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const Y=document.createElement("div");Y.classList.add("anchor","top"),this._domNode.appendChild(Y);const E=document.createElement("div");E.classList.add("message"),E.textContent=j,this._domNode.appendChild(E);const V=document.createElement("div");V.classList.add("anchor","below"),this._domNode.appendChild(V),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(W){const B=()=>{W.dispose(),clearTimeout(z),W.getDomNode().removeEventListener("animationend",B)},z=setTimeout(B,110);return W.getDomNode().addEventListener("animationend",B),W.getDomNode().classList.add("fadeOut"),{dispose:B}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(W){this._domNode.classList.toggle("below",2===W)}}(0,y._K)(Q.ID,Q)},31734:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{AddSelectionToNextFindMatchAction:()=>B,AddSelectionToPreviousFindMatchAction:()=>z,CompatChangeAll:()=>V,FocusNextCursor:()=>be,FocusPreviousCursor:()=>me,InsertCursorAbove:()=>b,InsertCursorBelow:()=>x,MoveSelectionToNextFindMatchAction:()=>j,MoveSelectionToPreviousFindMatchAction:()=>Y,MultiCursorSelectionController:()=>F,MultiCursorSelectionControllerAction:()=>W,MultiCursorSession:()=>G,MultiCursorSessionResult:()=>Z,SelectHighlightsAction:()=>E,SelectionHighlighter:()=>te});var f=e(71578),s=e(63072),L=e(36950),M=e(52425),u=e(95172),P=e(46396),A=e(68451),k=e(43210),N=e(29584),_=e(32213),a=e(3508),p=e(72811),c=e(40402),n=e(61004),l=e(59776),v=e(28708),d=e(23024),m=e(37464);function S(Ie,ee){const ce=ee.filter(he=>!Ie.find(de=>de.equals(he)));if(ce.length>=1){const he=ce.map(ge=>`line ${ge.viewState.position.lineNumber} column ${ge.viewState.position.column}`).join(", "),de=1===ce.length?c.NC("cursorAdded","Cursor added: {0}",he):c.NC("cursorsAdded","Cursors added: {0}",he);(0,f.i7)(de)}}class b extends u.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:c.NC("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:N.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(ee,ce,he){if(!ce.hasModel())return;let de=!0;he&&!1===he.logicalLine&&(de=!1);const ge=ce._getViewModel();if(ge.cursorConfig.readOnly)return;ge.model.pushStackElement();const re=ge.getCursorStates();ge.setCursorStates(he.source,3,P.P.addCursorUp(ge,re,de)),ge.revealTopMostCursor(he.source),S(re,ge.getCursorStates())}}class x extends u.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:c.NC("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:N.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(ee,ce,he){if(!ce.hasModel())return;let de=!0;he&&!1===he.logicalLine&&(de=!1);const ge=ce._getViewModel();if(ge.cursorConfig.readOnly)return;ge.model.pushStackElement();const re=ge.getCursorStates();ge.setCursorStates(he.source,3,P.P.addCursorDown(ge,re,de)),ge.revealBottomMostCursor(he.source),S(re,ge.getCursorStates())}}class Z{constructor(ee,ce,he){this.selections=ee,this.revealRange=ce,this.revealScrollType=he}}class G{constructor(ee,ce,he,de,ge,re,Se){this._editor=ee,this.findController=ce,this.isDisconnectedFromFindController=he,this.searchText=de,this.wholeWord=ge,this.matchCase=re,this.currentMatch=Se}static create(ee,ce){if(!ee.hasModel())return null;const he=ce.getState();if(!ee.hasTextFocus()&&he.isRevealed&&he.searchString.length>0)return new G(ee,ce,!1,he.searchString,he.wholeWord,he.matchCase,null);let ge,re,de=!1;const Se=ee.getSelections();1===Se.length&&Se[0].isEmpty()?(de=!0,ge=!0,re=!0):(ge=he.wholeWord,re=he.matchCase);const Pe=ee.getSelection();let Ve,ie=null;if(Pe.isEmpty()){const ye=ee.getConfiguredWordAtPosition(Pe.getStartPosition());if(!ye)return null;Ve=ye.word,ie=new k.Y(Pe.startLineNumber,ye.startColumn,Pe.startLineNumber,ye.endColumn)}else Ve=ee.getModel().getValueInRange(Pe).replace(/\r\n/g,"\n");return new G(ee,ce,de,Ve,ge,re,ie)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const ee=this._getNextMatch();if(!ee)return null;const ce=this._editor.getSelections();return new Z(ce.concat(ee),ee,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const ee=this._getNextMatch();if(!ee)return null;const ce=this._editor.getSelections();return new Z(ce.slice(0,ce.length-1).concat(ee),ee,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const de=this.currentMatch;return this.currentMatch=null,de}this.findController.highlightFindOptions();const ee=this._editor.getSelections(),ce=ee[ee.length-1],he=this._editor.getModel().findNextMatch(this.searchText,ce.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return he?new k.Y(he.range.startLineNumber,he.range.startColumn,he.range.endLineNumber,he.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const ee=this._getPreviousMatch();if(!ee)return null;const ce=this._editor.getSelections();return new Z(ce.concat(ee),ee,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const ee=this._getPreviousMatch();if(!ee)return null;const ce=this._editor.getSelections();return new Z(ce.slice(0,ce.length-1).concat(ee),ee,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const de=this.currentMatch;return this.currentMatch=null,de}this.findController.highlightFindOptions();const ee=this._editor.getSelections(),ce=ee[ee.length-1],he=this._editor.getModel().findPreviousMatch(this.searchText,ce.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return he?new k.Y(he.range.startLineNumber,he.range.startColumn,he.range.endLineNumber,he.range.endColumn):null}selectAll(ee){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();return this._editor.getModel().findMatches(this.searchText,ee||!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824)}}let F=(()=>{class Ie extends M.JT{constructor(ce){super(),this._sessionDispose=this._register(new M.SL),this._editor=ce,this._ignoreSelectionChange=!1,this._session=null}static get(ce){return ce.getContribution(Ie.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(ce){if(!this._session){const he=G.create(this._editor,ce);if(!he)return;this._session=he;const de={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(de.wholeWordOverride=1,de.matchCaseOverride=1,de.isRegexOverride=2),ce.getState().change(de,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(ge=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(ce.getState().onFindReplaceStateChange(ge=>{(ge.matchCase||ge.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const ce={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(ce,!1)}this._session=null}_setSelections(ce){this._ignoreSelectionChange=!0,this._editor.setSelections(ce),this._ignoreSelectionChange=!1}_expandEmptyToWord(ce,he){if(!he.isEmpty())return he;const de=this._editor.getConfiguredWordAtPosition(he.getStartPosition());return de?new k.Y(he.startLineNumber,de.startColumn,he.startLineNumber,de.endColumn):he}_applySessionResult(ce){!ce||(this._setSelections(ce.selections),ce.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(ce.revealRange,ce.revealScrollType))}getSession(ce){return this._session}addSelectionToNextFindMatch(ce){if(this._editor.hasModel()){if(!this._session){const he=this._editor.getSelections();if(he.length>1){const ge=ce.getState().matchCase;if(!w(this._editor.getModel(),he,ge)){const Se=this._editor.getModel(),Pe=[];for(let Ve=0,ie=he.length;Ve<ie;Ve++)Pe[Ve]=this._expandEmptyToWord(Se,he[Ve]);return void this._editor.setSelections(Pe)}}}this._beginSessionIfNeeded(ce),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(ce){this._beginSessionIfNeeded(ce),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(ce){this._beginSessionIfNeeded(ce),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(ce){this._beginSessionIfNeeded(ce),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(ce){if(!this._editor.hasModel())return;let he=null;const de=ce.getState();if(de.isRevealed&&de.searchString.length>0&&de.isRegex){he=this._editor.getModel().findMatches(de.searchString,!de.searchScope||de.searchScope,de.isRegex,de.matchCase,de.wholeWord?this._editor.getOption(119):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(ce),!this._session)return;he=this._session.selectAll(de.searchScope)}if(he.length>0){const ge=this._editor.getSelection();for(let re=0,Se=he.length;re<Se;re++){const Pe=he[re];if(Pe.range.intersectRanges(ge)){he[re]=he[0],he[0]=Pe;break}}this._setSelections(he.map(re=>new k.Y(re.range.startLineNumber,re.range.startColumn,re.range.endLineNumber,re.range.endColumn)))}}}return Ie.ID="editor.contrib.multiCursorController",Ie})();class W extends u.R6{run(ee,ce){const he=F.get(ce);if(!he)return;const de=p.CommonFindController.get(ce);if(!de)return;const ge=ce._getViewModel();if(ge){const re=ge.getCursorStates();this._run(he,de),S(re,ge.getCursorStates())}}}class B extends W{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:c.NC("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:N.u.focus,primary:2082,weight:100},menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(ee,ce){ee.addSelectionToNextFindMatch(ce)}}class z extends W{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:c.NC("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(ee,ce){ee.addSelectionToPreviousFindMatch(ce)}}class j extends W{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:c.NC("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:N.u.focus,primary:(0,L.gx)(2089,2082),weight:100}})}_run(ee,ce){ee.moveSelectionToNextFindMatch(ce)}}class Y extends W{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:c.NC("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(ee,ce){ee.moveSelectionToPreviousFindMatch(ce)}}class E extends W{constructor(){super({id:"editor.action.selectHighlights",label:c.NC("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:N.u.focus,primary:3114,weight:100},menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(ee,ce){ee.selectAll(ce)}}class V extends W{constructor(){super({id:"editor.action.changeAll",label:c.NC("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:l.Ao.and(N.u.writable,N.u.editorTextFocus),kbOpts:{kbExpr:N.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(ee,ce){ee.selectAll(ce)}}class ${constructor(ee,ce,he,de,ge){this._model=ee,this._searchText=ce,this._matchCase=he,this._wordSeparators=de,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,ge&&this._model===ge._model&&this._searchText===ge._searchText&&this._matchCase===ge._matchCase&&this._wordSeparators===ge._wordSeparators&&this._modelVersionId===ge._modelVersionId&&(this._cachedFindMatches=ge._cachedFindMatches)}findMatches(){return null===this._cachedFindMatches&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(ee=>ee.range),this._cachedFindMatches.sort(A.e.compareRangesUsingStarts)),this._cachedFindMatches}}let te=class Ka extends M.JT{constructor(ee,ce){super(),this._languageFeaturesService=ce,this.editor=ee,this._isEnabled=ee.getOption(99),this._decorations=ee.createDecorationsCollection(),this.updateSoon=this._register(new s.pY(()=>this._update(),300)),this.state=null,this._register(ee.onDidChangeConfiguration(de=>{this._isEnabled=ee.getOption(99)})),this._register(ee.onDidChangeCursorSelection(de=>{!this._isEnabled||(de.selection.isEmpty()?3===de.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(ee.onDidChangeModel(de=>{this._setState(null)})),this._register(ee.onDidChangeModelContent(de=>{this._isEnabled&&this.updateSoon.schedule()}));const he=p.CommonFindController.get(ee);he&&this._register(he.getState().onFindReplaceStateChange(de=>{this._update()}))}_update(){this._setState(Ka._createState(this.state,this._isEnabled,this.editor))}static _createState(ee,ce,he){if(!ce||!he.hasModel())return null;const de=he.getSelection();if(de.startLineNumber!==de.endLineNumber)return null;const ge=F.get(he);if(!ge)return null;const re=p.CommonFindController.get(he);if(!re)return null;let Se=ge.getSession(re);if(!Se){const ie=he.getSelections();if(ie.length>1){const _e=re.getState().matchCase;if(!w(he.getModel(),ie,_e))return null}Se=G.create(he,re)}if(!Se||Se.currentMatch||/^[ \t]+$/.test(Se.searchText)||Se.searchText.length>200)return null;const Pe=re.getState(),Ve=Pe.matchCase;if(Pe.isRevealed){let ie=Pe.searchString;Ve||(ie=ie.toLowerCase());let ye=Se.searchText;if(Ve||(ye=ye.toLowerCase()),ie===ye&&Se.matchCase===Pe.matchCase&&Se.wholeWord===Pe.wholeWord&&!Pe.isRegex)return null}return new $(he.getModel(),Se.searchText,Se.matchCase,Se.wholeWord?he.getOption(119):null,ee)}_setState(ee){if(this.state=ee,!this.state)return void this._decorations.clear();if(!this.editor.hasModel())return;const ce=this.editor.getModel();if(ce.isTooLargeForTokenization())return;const he=this.state.findMatches(),de=this.editor.getSelections();de.sort(A.e.compareRangesUsingStarts);const ge=[];for(let Pe=0,Ve=0,ie=he.length,ye=de.length;Pe<ie;){const _e=he[Pe];if(Ve>=ye)ge.push(_e),Pe++;else{const Be=A.e.compareRangesUsingStarts(_e,de[Ve]);Be<0?((de[Ve].isEmpty()||!A.e.areIntersecting(_e,de[Ve]))&&ge.push(_e),Pe++):(Be>0||Pe++,Ve++)}}const re=this._languageFeaturesService.documentHighlightProvider.has(ce)&&this.editor.getOption(74),Se=ge.map(Pe=>({range:Pe,options:re?Ka._SELECTION_HIGHLIGHT:Ka._SELECTION_HIGHLIGHT_OVERVIEW}));this._decorations.set(Se)}dispose(){this._setState(null),super.dispose()}};var ee;function w(Ie,ee,ce){const he=fe(Ie,ee[0],!ce);for(let de=1,ge=ee.length;de<ge;de++){const re=ee[de];if(re.isEmpty())return!1;if(he!==fe(Ie,re,!ce))return!1}return!0}function fe(Ie,ee,ce){const he=Ie.getValueInRange(ee);return ce?he.toLowerCase():he}te.ID="editor.contrib.selectionHighlighter",te._SELECTION_HIGHLIGHT_OVERVIEW=a.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,d.EN)(v.IYc),position:_.F5.Inline},overviewRuler:{color:(0,d.EN)(v.SPM),position:_.sh.Center}}),te._SELECTION_HIGHLIGHT=a.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),te=function(Ie,ee,ce,he){var re,de=arguments.length,ge=de<3?ee:null===he?he=Object.getOwnPropertyDescriptor(ee,ce):he;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ge=Reflect.decorate(Ie,ee,ce,he);else for(var Se=Ie.length-1;Se>=0;Se--)(re=Ie[Se])&&(ge=(de<3?re(ge):de>3?re(ee,ce,ge):re(ee,ce))||ge);return de>3&&ge&&Object.defineProperty(ee,ce,ge),ge}([(1,ee=m.p,function(ce,he){ee(ce,he,1)})],te);class be extends u.R6{constructor(){super({id:"editor.action.focusNextCursor",label:c.NC("mutlicursor.focusNextCursor","Focus Next Cursor"),description:{description:c.NC("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(ee,ce,he){if(!ce.hasModel())return;const de=ce._getViewModel();if(de.cursorConfig.readOnly)return;de.model.pushStackElement();const ge=Array.from(de.getCursorStates()),re=ge.shift();!re||(ge.push(re),de.setCursorStates(he.source,3,ge),de.revealPrimaryCursor(he.source,!0),S(ge,de.getCursorStates()))}}class me extends u.R6{constructor(){super({id:"editor.action.focusPreviousCursor",label:c.NC("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),description:{description:c.NC("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(ee,ce,he){if(!ce.hasModel())return;const de=ce._getViewModel();if(de.cursorConfig.readOnly)return;de.model.pushStackElement();const ge=Array.from(de.getCursorStates()),re=ge.pop();!re||(ge.unshift(re),de.setCursorStates(he.source,3,ge),de.revealPrimaryCursor(he.source,!0),S(ge,de.getCursorStates()))}}(0,u._K)(F.ID,F),(0,u._K)(te.ID,te),(0,u.Qr)(b),(0,u.Qr)(x),(0,u.Qr)(class T extends u.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:c.NC("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:N.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(ee,ce,he){if(!ee.isEmpty()){for(let de=ee.startLineNumber;de<ee.endLineNumber;de++){const ge=ce.getLineMaxColumn(de);he.push(new k.Y(de,ge,de,ge))}ee.endColumn>1&&he.push(new k.Y(ee.endLineNumber,ee.endColumn,ee.endLineNumber,ee.endColumn))}}run(ee,ce){if(!ce.hasModel())return;const he=ce.getModel(),de=ce.getSelections(),ge=ce._getViewModel(),re=ge.getCursorStates(),Se=[];de.forEach(Pe=>this.getCursorsForSelection(Pe,he,Se)),Se.length>0&&ce.setSelections(Se),S(re,ge.getCursorStates())}}),(0,u.Qr)(B),(0,u.Qr)(z),(0,u.Qr)(j),(0,u.Qr)(Y),(0,u.Qr)(E),(0,u.Qr)(V),(0,u.Qr)(class R extends u.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:c.NC("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(ee,ce){if(!ce.hasModel())return;const he=ce.getSelections(),de=ce.getModel().getLineCount(),ge=[];for(let Pe=he[0].startLineNumber;Pe<=de;Pe++)ge.push(new k.Y(Pe,he[0].startColumn,Pe,he[0].endColumn));const re=ce._getViewModel(),Se=re.getCursorStates();ge.length>0&&ce.setSelections(ge),S(Se,re.getCursorStates())}}),(0,u.Qr)(class Q extends u.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:c.NC("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(ee,ce){if(!ce.hasModel())return;const he=ce.getSelections(),de=[];for(let Se=he[0].startLineNumber;Se>=1;Se--)de.push(new k.Y(Se,he[0].startColumn,Se,he[0].endColumn));const ge=ce._getViewModel(),re=ge.getCursorStates();de.length>0&&ce.setSelections(de),S(re,ge.getCursorStates())}}),(0,u.Qr)(be),(0,u.Qr)(me)},44594:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{TriggerParameterHintsAction:()=>xe});var f=e(52425),s=e(95172),L=e(29584),M=e(66778),u=e(80152),P=e(53663),A=e(54435),k=e(74672),N=e(94220),_=e(37464),a=e(87424),p=e(23884),c=e(59776),n=function(lt,Ke,He,Ue){return new(He||(He=Promise))(function(et,Ze){function Mt(dt){try{ze(Ue.next(dt))}catch($t){Ze($t)}}function Nt(dt){try{ze(Ue.throw(dt))}catch($t){Ze($t)}}function ze(dt){dt.done?et(dt.value):function ot(et){return et instanceof He?et:new He(function(Ze){Ze(et)})}(dt.value).then(Mt,Nt)}ze((Ue=Ue.apply(lt,Ke||[])).next())})};const l={Visible:new c.uy("parameterHintsVisible",!1),MultipleSignatures:new c.uy("parameterHintsMultipleSignatures",!1)};function v(lt,Ke,He,Ue,ot){return n(this,void 0,void 0,function*(){const et=lt.ordered(Ke);for(const Ze of et)try{const Mt=yield Ze.provideSignatureHelp(Ke,He,ot,Ue);if(Mt)return Mt}catch(Mt){(0,P.Cp)(Mt)}})}p.P0.registerCommand("_executeSignatureHelpProvider",(lt,...Ke)=>n(void 0,void 0,void 0,function*(){const[He,Ue,ot]=Ke;(0,A.p_)(k.o.isUri(He)),(0,A.p_)(N.L.isIPosition(Ue)),(0,A.p_)("string"==typeof ot||!ot);const et=lt.get(_.p),Ze=yield lt.get(a.S).createModelReference(He);try{const Mt=yield v(et.signatureHelpProvider,Ze.object.textEditorModel,N.L.lift(Ue),{triggerKind:M.WW.Invoke,isRetrigger:!1,triggerCharacter:ot},u.T.None);return Mt?(setTimeout(()=>Mt.dispose(),0),Mt.value):void 0}finally{Ze.dispose()}}));var d=e(40402),m=e(64725),I=e(58059),y=e(71578),S=e(97648),b=e(2450),x=e(52787),T=e(93059),R=e(93379),Q=e.n(R),Z=e(7795),G=e.n(Z),F=e(90569),W=e.n(F),B=e(3565),z=e.n(B),j=e(19216),Y=e.n(j),E=e(44589),V=e.n(E),$=e(81386),te={};te.styleTagTransform=V(),te.setAttributes=z(),te.insert=W().bind(null,"head"),te.domAPI=G(),te.insertStyleElement=Y(),Q()($.Z,te);var he,be=e(42570),me=e(53873),Ie=e(63072),ee=e(57686);!function(lt){lt.Default={type:0},lt.Pending=class Ke{constructor(ot,et){this.request=ot,this.previouslyActiveHints=et,this.type=2}},lt.Active=class He{constructor(ot){this.hints=ot,this.type=1}}}(he||(he={}));let de=(()=>{class lt extends f.JT{constructor(He,Ue,ot=lt.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new x.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=he.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new f.XK),this.triggerChars=new ee.q,this.retriggerChars=new ee.q,this.triggerId=0,this.editor=He,this.providers=Ue,this.throttledDelayer=new Ie.vp(ot),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(et=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(et=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(et=>this.onCursorChange(et))),this._register(this.editor.onDidChangeModelContent(et=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(et=>this.onDidType(et))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(He){2===this._state.type&&this._state.request.cancel(),this._state=He}cancel(He=!1){this.state=he.Default,this.throttledDelayer.cancel(),He||this._onChangedHints.fire(void 0)}trigger(He,Ue){const ot=this.editor.getModel();if(!ot||!this.providers.has(ot))return;const et=++this.triggerId;this._pendingTriggers.push(He),this.throttledDelayer.trigger(()=>this.doTrigger(et),Ue).catch(P.dL)}next(){if(1!==this.state.type)return;const He=this.state.hints.signatures.length,Ue=this.state.hints.activeSignature,ot=Ue%He==He-1,et=this.editor.getOption(78).cycle;!(He<2||ot)||et?this.updateActiveSignature(ot&&et?0:Ue+1):this.cancel()}previous(){if(1!==this.state.type)return;const He=this.state.hints.signatures.length,Ue=this.state.hints.activeSignature,ot=0===Ue,et=this.editor.getOption(78).cycle;!(He<2||ot)||et?this.updateActiveSignature(ot&&et?He-1:Ue-1):this.cancel()}updateActiveSignature(He){1===this.state.type&&(this.state=new he.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:He})),this._onChangedHints.fire(this.state.hints))}doTrigger(He){return function(lt,Ke,He,Ue){return new(He||(He=Promise))(function(et,Ze){function Mt(dt){try{ze(Ue.next(dt))}catch($t){Ze($t)}}function Nt(dt){try{ze(Ue.throw(dt))}catch($t){Ze($t)}}function ze(dt){dt.done?et(dt.value):function ot(et){return et instanceof He?et:new He(function(Ze){Ze(et)})}(dt.value).then(Mt,Nt)}ze((Ue=Ue.apply(lt,Ke||[])).next())})}(this,void 0,void 0,function*(){const Ue=1===this.state.type||2===this.state.type,ot=this.getLastActiveHints();if(this.cancel(!0),0===this._pendingTriggers.length)return!1;const et=this._pendingTriggers.reduce(ge);this._pendingTriggers=[];const Ze={triggerKind:et.triggerKind,triggerCharacter:et.triggerCharacter,isRetrigger:Ue,activeSignatureHelp:ot};if(!this.editor.hasModel())return!1;const Mt=this.editor.getModel(),Nt=this.editor.getPosition();this.state=new he.Pending((0,Ie.PG)(ze=>v(this.providers,Mt,Nt,Ze,ze)),ot);try{const ze=yield this.state.request;return He!==this.triggerId?(null==ze||ze.dispose(),!1):ze&&ze.value.signatures&&0!==ze.value.signatures.length?(this.state=new he.Active(ze.value),this._lastSignatureHelpResult.value=ze,this._onChangedHints.fire(this.state.hints),!0):(null==ze||ze.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(ze){return He===this.triggerId&&(this.state=he.Default),(0,P.dL)(ze),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new ee.q,this.retriggerChars=new ee.q;const He=this.editor.getModel();if(He)for(const Ue of this.providers.ordered(He)){for(const ot of Ue.signatureHelpTriggerCharacters||[])this.triggerChars.add(ot.charCodeAt(0)),this.retriggerChars.add(ot.charCodeAt(0));for(const ot of Ue.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(ot.charCodeAt(0))}}onDidType(He){if(!this.triggerOnType)return;const Ue=He.length-1,ot=He.charCodeAt(Ue);(this.triggerChars.has(ot)||this.isTriggered&&this.retriggerChars.has(ot))&&this.trigger({triggerKind:M.WW.TriggerCharacter,triggerCharacter:He.charAt(Ue)})}onCursorChange(He){"mouse"===He.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:M.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:M.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(78).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}return lt.DEFAULT_DELAY=120,lt})();function ge(lt,Ke){switch(Ke.triggerKind){case M.WW.Invoke:return Ke;case M.WW.ContentChange:return lt;default:return Ke}}var re=e(26589),Se=e(28708),Pe=e(95836),Ve=e(58676),ie=e(23024),_e=function(lt,Ke){return function(He,Ue){Ke(He,Ue,lt)}};const Be=I.$,Qe=(0,Pe.q5)("parameter-hints-next",b.lA.chevronDown,d.NC("parameterHintsNextIcon","Icon for show next parameter hint.")),Ae=(0,Pe.q5)("parameter-hints-previous",b.lA.chevronUp,d.NC("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let pe=class Xd extends f.JT{constructor(Ke,He,Ue,ot,et){super(),this.editor=Ke,this.renderDisposeables=this._register(new f.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new me.$({editor:Ke},ot,Ue)),this.model=this._register(new de(Ke,et.signatureHelpProvider)),this.keyVisible=l.Visible.bindTo(He),this.keyMultipleSignatures=l.MultipleSignatures.bindTo(He),this._register(this.model.onChangedHints(Ze=>{Ze?(this.show(),this.render(Ze)):this.hide()}))}createParameterHintDOMNodes(){const Ke=Be(".editor-widget.parameter-hints-widget"),He=I.R3(Ke,Be(".phwrapper"));He.tabIndex=-1;const Ue=I.R3(He,Be(".controls")),ot=I.R3(Ue,Be(".button"+ie.kS.asCSSSelector(Ae))),et=I.R3(Ue,Be(".overloads")),Ze=I.R3(Ue,Be(".button"+ie.kS.asCSSSelector(Qe)));this._register(I.nm(ot,"click",hn=>{I.zB.stop(hn),this.previous()})),this._register(I.nm(Ze,"click",hn=>{I.zB.stop(hn),this.next()}));const Mt=Be(".body"),Nt=new S.s$(Mt,{alwaysConsumeMouseWheel:!0});this._register(Nt),He.appendChild(Nt.getDomNode());const ze=I.R3(Mt,Be(".signature")),dt=I.R3(Mt,Be(".docs"));Ke.style.userSelect="text",this.domNodes={element:Ke,signature:ze,overloads:et,docs:dt,scrollbar:Nt},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(hn=>{this.visible&&this.editor.layoutContentWidget(this)}));const $t=()=>{if(!this.domNodes)return;const hn=this.editor.getOption(46);this.domNodes.element.style.fontSize=`${hn.fontSize}px`,this.domNodes.element.style.lineHeight=""+hn.lineHeight/hn.fontSize};$t(),this._register(x.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(hn=>hn.hasChanged(46)).on($t,null)),this._register(this.editor.onDidLayoutChange(hn=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var Ke;null===(Ke=this.domNodes)||void 0===Ke||Ke.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var Ke;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,null===(Ke=this.domNodes)||void 0===Ke||Ke.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(Ke){var He;if(this.renderDisposeables.clear(),!this.domNodes)return;const Ue=Ke.signatures.length>1;this.domNodes.element.classList.toggle("multiple",Ue),this.keyMultipleSignatures.set(Ue),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const ot=Ke.signatures[Ke.activeSignature];if(!ot)return;const et=I.R3(this.domNodes.signature,Be(".code")),Ze=this.editor.getOption(46);et.style.fontSize=`${Ze.fontSize}px`,et.style.fontFamily=Ze.fontFamily;const Nt=null!==(He=ot.activeParameter)&&void 0!==He?He:Ke.activeParameter;ot.parameters.length>0?this.renderParameters(et,ot,Nt):I.R3(et,Be("span")).textContent=ot.label;const ze=ot.parameters[Nt];if(null!=ze&&ze.documentation){const $t=Be("span.documentation");if("string"==typeof ze.documentation)$t.textContent=ze.documentation;else{const hn=this.renderMarkdownDocs(ze.documentation);$t.appendChild(hn.element)}I.R3(this.domNodes.docs,Be("p",{},$t))}if(void 0!==ot.documentation)if("string"==typeof ot.documentation)I.R3(this.domNodes.docs,Be("p",{},ot.documentation));else{const $t=this.renderMarkdownDocs(ot.documentation);I.R3(this.domNodes.docs,$t.element)}const dt=this.hasDocs(ot,ze);if(this.domNodes.signature.classList.toggle("has-docs",dt),this.domNodes.docs.classList.toggle("empty",!dt),this.domNodes.overloads.textContent=String(Ke.activeSignature+1).padStart(Ke.signatures.length.toString().length,"0")+"/"+Ke.signatures.length,ze){let $t="";const hn=ot.parameters[Nt];$t=Array.isArray(hn.label)?ot.label.substring(hn.label[0],hn.label[1]):hn.label,hn.documentation&&($t+="string"==typeof hn.documentation?`, ${hn.documentation}`:`, ${hn.documentation.value}`),ot.documentation&&($t+="string"==typeof ot.documentation?`, ${ot.documentation}`:`, ${ot.documentation.value}`),this.announcedLabel!==$t&&(y.Z9(d.NC("hint","{0}, hint",$t)),this.announcedLabel=$t)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(Ke){const He=this.renderDisposeables.add(this.markdownRenderer.render(Ke,{asyncRenderCallback:()=>{var Ue;null===(Ue=this.domNodes)||void 0===Ue||Ue.scrollbar.scanDomNode()}}));return He.element.classList.add("markdown-docs"),He}hasDocs(Ke,He){return!!(He&&"string"==typeof He.documentation&&(0,A.cW)(He.documentation).length>0||He&&"object"==typeof He.documentation&&(0,A.cW)(He.documentation).value.length>0||Ke.documentation&&"string"==typeof Ke.documentation&&(0,A.cW)(Ke.documentation).length>0||Ke.documentation&&"object"==typeof Ke.documentation&&(0,A.cW)(Ke.documentation.value).length>0)}renderParameters(Ke,He,Ue){const[ot,et]=this.getParameterLabelOffsets(He,Ue),Ze=document.createElement("span");Ze.textContent=He.label.substring(0,ot);const Mt=document.createElement("span");Mt.textContent=He.label.substring(ot,et),Mt.className="parameter active";const Nt=document.createElement("span");Nt.textContent=He.label.substring(et),I.R3(Ke,Ze,Mt,Nt)}getParameterLabelOffsets(Ke,He){const Ue=Ke.parameters[He];if(Ue){if(Array.isArray(Ue.label))return Ue.label;if(Ue.label.length){const ot=new RegExp(`(\\W|^)${(0,T.ec)(Ue.label)}(?=\\W|$)`,"g");ot.test(Ke.label);const et=ot.lastIndex-Ue.label.length;return et>=0?[et,ot.lastIndex]:[0,0]}return[0,0]}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return Xd.ID}trigger(Ke){this.model.trigger(Ke,0)}updateMaxHeight(){if(!this.domNodes)return;const He=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=He;const Ue=this.domNodes.element.getElementsByClassName("phwrapper");Ue.length&&(Ue[0].style.maxHeight=He)}};pe.ID="editor.widget.parameterHintsWidget",pe=function(lt,Ke,He,Ue){var Ze,ot=arguments.length,et=ot<3?Ke:null===Ue?Ue=Object.getOwnPropertyDescriptor(Ke,He):Ue;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)et=Reflect.decorate(lt,Ke,He,Ue);else for(var Mt=lt.length-1;Mt>=0;Mt--)(Ze=lt[Mt])&&(et=(ot<3?Ze(et):ot>3?Ze(Ke,He,et):Ze(Ke,He))||et);return ot>3&&et&&Object.defineProperty(Ke,He,et),et}([_e(1,c.i6),_e(2,re.v4),_e(3,be.O),_e(4,_.p)],pe);const De=(0,Se.P6G)("editorHoverWidget.highlightForeground",{dark:Se.Gwp,light:Se.Gwp,hcDark:Se.Gwp,hcLight:Se.Gwp},d.NC("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));(0,ie.Ic)((lt,Ke)=>{const He=lt.getColor(Se.CNo);if(He){const ze=(0,Ve.c3)(lt.type)?2:1;Ke.addRule(`.monaco-editor .parameter-hints-widget { border: ${ze}px solid ${He}; }`),Ke.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${He.transparent(.5)}; }`),Ke.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${He.transparent(.5)}; }`)}const Ue=lt.getColor(Se.yJx);Ue&&Ke.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${Ue}; }`);const ot=lt.getColor(Se.url);ot&&Ke.addRule(`.monaco-editor .parameter-hints-widget a { color: ${ot}; }`);const et=lt.getColor(Se.sgC);et&&Ke.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${et}; }`);const Ze=lt.getColor(Se.Sbf);Ze&&Ke.addRule(`.monaco-editor .parameter-hints-widget { color: ${Ze}; }`);const Mt=lt.getColor(Se.SwI);Mt&&Ke.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${Mt}; }`);const Nt=lt.getColor(De);Nt&&Ke.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${Nt}}`)});let ne=class Jd extends f.JT{constructor(Ke,He){super(),this.editor=Ke,this.widget=this._register(He.createInstance(pe,this.editor))}static get(Ke){return Ke.getContribution(Jd.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(Ke){this.widget.trigger(Ke)}};var Ke;ne.ID="editor.controller.parameterHints",ne=function(lt,Ke,He,Ue){var Ze,ot=arguments.length,et=ot<3?Ke:null===Ue?Ue=Object.getOwnPropertyDescriptor(Ke,He):Ue;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)et=Reflect.decorate(lt,Ke,He,Ue);else for(var Mt=lt.length-1;Mt>=0;Mt--)(Ze=lt[Mt])&&(et=(ot<3?Ze(et):ot>3?Ze(Ke,He,et):Ze(Ke,He))||et);return ot>3&&et&&Object.defineProperty(Ke,He,et),et}([(1,Ke=m.TG,function(He,Ue){Ke(He,Ue,1)})],ne);class xe extends s.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:d.NC("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:L.u.hasSignatureHelpProvider,kbOpts:{kbExpr:L.u.editorTextFocus,primary:3082,weight:100}})}run(Ke,He){const Ue=ne.get(He);Ue&&Ue.trigger({triggerKind:M.WW.Invoke})}}(0,s._K)(ne.ID,ne),(0,s.Qr)(xe);const gt=s._l.bindToContribution(ne.get);(0,s.fK)(new gt({id:"closeParameterHints",precondition:l.Visible,handler:lt=>lt.cancel(),kbOpts:{weight:175,kbExpr:L.u.focus,primary:9,secondary:[1033]}})),(0,s.fK)(new gt({id:"showPrevParameterHint",precondition:c.Ao.and(l.Visible,l.MultipleSignatures),handler:lt=>lt.previous(),kbOpts:{weight:175,kbExpr:L.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,s.fK)(new gt({id:"showNextParameterHint",precondition:c.Ao.and(l.Visible,l.MultipleSignatures),handler:lt=>lt.next(),kbOpts:{weight:175,kbExpr:L.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},77273:(at,ue,e)=>{"use strict";e.d(ue,{Fw:()=>Pe,Jy:()=>Ve,vk:()=>Be,rc:()=>ye,SC:()=>De,M8:()=>Oe,KY:()=>Qe,IH:()=>Ae,R7:()=>pe});var f=e(58059),s=e(84039),L=e(85113),M=e(2450),u=e(68927),P=e(52787),A=e(85271),k=e(93379),N=e.n(k),_=e(7795),a=e.n(_),p=e(90569),c=e.n(p),n=e(3565),l=e.n(n),v=e(19216),d=e.n(v),m=e(44589),I=e.n(m),y=e(8881),S={};S.styleTagTransform=I(),S.setAttributes=l(),S.insert=c().bind(null,"head"),S.domAPI=a(),S.insertStyleElement=d(),N()(y.Z,S);var T=e(95172),R=e(7221),Q=e(85390),Z=e(37397),G=e(68900),F=e(52425),W=e(51564),B={};B.styleTagTransform=I(),B.setAttributes=l(),B.insert=c().bind(null,"head"),B.domAPI=a(),B.insertStyleElement=d(),N()(W.Z,B);var Y=e(68451),E=e(3508);const V=new u.Il(new u.VS(0,122,204)),$={showArrow:!0,showFrame:!0,className:"",frameColor:V,arrowColor:V,keepEditorSelection:!1};class w{constructor(et,Ze,Mt,Nt,ze,dt){this.id="",this.domNode=et,this.afterLineNumber=Ze,this.afterColumn=Mt,this.heightInLines=Nt,this._onDomNodeTop=ze,this._onComputedHeight=dt}onDomNodeTop(et){this._onDomNodeTop(et)}onComputedHeight(et){this._onComputedHeight(et)}}class fe{constructor(et,Ze){this._id=et,this._domNode=Ze}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class be{constructor(et){this._editor=et,this._ruleName=be._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),f.uN(this._ruleName)}set color(et){this._color!==et&&(this._color=et,this._updateStyle())}set height(et){this._height!==et&&(this._height=et,this._updateStyle())}_updateStyle(){f.uN(this._ruleName),f.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(et){1===et.column&&(et={lineNumber:et.lineNumber,column:2}),this._decorations.set([{range:Y.e.fromPositions(et),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}be._IdGenerator=new G.R(".arrow-decoration-");var Ie=e(40402),ee=e(55755),ce=e(59776),he=e(18790),de=e(64725),ge=e(28708),re=function(ot,et,Ze,Mt){var dt,Nt=arguments.length,ze=Nt<3?et:null===Mt?Mt=Object.getOwnPropertyDescriptor(et,Ze):Mt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ze=Reflect.decorate(ot,et,Ze,Mt);else for(var $t=ot.length-1;$t>=0;$t--)(dt=ot[$t])&&(ze=(Nt<3?dt(ze):Nt>3?dt(et,Ze,ze):dt(et,Ze))||ze);return Nt>3&&ze&&Object.defineProperty(et,Ze,ze),ze},Se=function(ot,et){return function(Ze,Mt){et(Ze,Mt,ot)}};const Pe=(0,de.yh)("IPeekViewService");var Ve,ot;(0,he.z)(Pe,class{constructor(){this._widgets=new Map}addExclusiveWidget(ot,et){const Ze=this._widgets.get(ot);Ze&&(Ze.listener.dispose(),Ze.widget.dispose()),this._widgets.set(ot,{widget:et,listener:et.onDidClose(()=>{const Nt=this._widgets.get(ot);Nt&&Nt.widget===et&&(Nt.listener.dispose(),this._widgets.delete(ot))})})}}),(ot=Ve||(Ve={})).inPeekEditor=new ce.uy("inReferenceSearchEditor",!0,Ie.NC("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),ot.notInPeekEditor=ot.inPeekEditor.toNegated();let ie=class{constructor(et,Ze){et instanceof Q.H&&Ve.inPeekEditor.bindTo(Ze)}dispose(){}};function ye(ot){const et=ot.get(R.$).getFocusedCodeEditor();return et instanceof Q.H?et.getParentEditor():et}ie.ID="editor.contrib.referenceController",ie=re([Se(1,ce.i6)],ie),(0,T._K)(ie.ID,ie);const _e={headerBackgroundColor:u.Il.white,primaryHeadingColor:u.Il.fromHex("#333333"),secondaryHeadingColor:u.Il.fromHex("#6c6c6cb3")};let Be=class extends class me{constructor(et,Ze={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new F.SL,this.container=null,this._isShowing=!1,this.editor=et,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=A.I8(Ze),A.jB(this.options,$,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(Mt=>{const Nt=this._getWidth(Mt);this.domNode.style.width=Nt+"px",this.domNode.style.left=this._getLeft(Mt)+"px",this._onWidth(Nt)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(et=>{this._viewZone&&et.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new be(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(et){et.frameColor&&(this.options.frameColor=et.frameColor),et.arrowColor&&(this.options.arrowColor=et.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const et=this.options.frameColor.toString();this.container.style.borderTopColor=et,this.container.style.borderBottomColor=et}if(this._arrow&&this.options.arrowColor){const et=this.options.arrowColor.toString();this._arrow.color=et}}_getWidth(et){return et.width-et.minimap.minimapWidth-et.verticalScrollbarWidth}_getLeft(et){return et.minimap.minimapWidth>0&&0===et.minimap.minimapLeft?et.minimap.minimapWidth:0}_onViewZoneTop(et){this.domNode.style.top=et+"px"}_onViewZoneHeight(et){if(this.domNode.style.height=`${et}px`,this.container){const Ze=et-this._decoratingElementsHeight();this.container.style.height=`${Ze}px`;const Mt=this.editor.getLayoutInfo();this._doLayout(Ze,this._getWidth(Mt))}this._resizeSash&&this._resizeSash.layout()}get position(){const et=this._positionMarkerId.getRange(0);if(et)return et.getStartPosition()}show(et,Ze){const Mt=Y.e.isIRange(et)?Y.e.lift(et):Y.e.fromPositions(et);this._isShowing=!0,this._showImpl(Mt,Ze),this._isShowing=!1,this._positionMarkerId.set([{range:Mt,options:E.qx.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(et=>{this._viewZone&&et.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){const et=this.editor.getOption(61);let Ze=0;return this.options.showArrow&&(Ze+=2*Math.round(et/3)),this.options.showFrame&&(Ze+=2*Math.round(et/9)),Ze}_showImpl(et,Ze){const Mt=et.getStartPosition(),Nt=this.editor.getLayoutInfo(),ze=this._getWidth(Nt);this.domNode.style.width=`${ze}px`,this.domNode.style.left=this._getLeft(Nt)+"px";const dt=document.createElement("div");dt.style.overflow="hidden";const $t=this.editor.getOption(61),hn=Math.max(12,this.editor.getLayoutInfo().height/$t*.8);Ze=Math.min(Ze,hn);let vn=0,ft=0;if(this._arrow&&this.options.showArrow&&(vn=Math.round($t/3),this._arrow.height=vn,this._arrow.show(Mt)),this.options.showFrame&&(ft=Math.round($t/9)),this.editor.changeViewZones(st=>{this._viewZone&&st.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new w(dt,Mt.lineNumber,Mt.column,Ze,Ee=>this._onViewZoneTop(Ee),Ee=>this._onViewZoneHeight(Ee)),this._viewZone.id=st.addZone(this._viewZone),this._overlayWidget=new fe("vs.editor.contrib.zoneWidget"+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const st=this.options.frameWidth?this.options.frameWidth:ft;this.container.style.borderTopWidth=st+"px",this.container.style.borderBottomWidth=st+"px"}const ke=Ze*$t-this._decoratingElementsHeight();this.container&&(this.container.style.top=vn+"px",this.container.style.height=ke+"px",this.container.style.overflow="hidden"),this._doLayout(ke,ze),this.options.keepEditorSelection||this.editor.setSelection(et);const nt=this.editor.getModel();if(nt){const st=et.endLineNumber+1;st<=nt.getLineCount()?this.revealLine(st,!1):this.revealLine(nt.getLineCount(),!0)}}revealLine(et,Ze){Ze?this.editor.revealLineInCenter(et,0):this.editor.revealLine(et,0)}setCssClass(et,Ze){!this.container||(Ze&&this.container.classList.remove(Ze),this.container.classList.add(et))}_onWidth(et){}_doLayout(et,Ze){}_relayout(et){this._viewZone&&this._viewZone.heightInLines!==et&&this.editor.changeViewZones(Ze=>{this._viewZone&&(this._viewZone.heightInLines=et,Ze.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;let et;this._resizeSash=this._disposables.add(new Z.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart(Ze=>{this._viewZone&&(et={startY:Ze.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{et=void 0})),this._disposables.add(this._resizeSash.onDidChange(Ze=>{if(et){const Mt=(Ze.currentY-et.startY)/this.editor.getOption(61),Nt=Mt<0?Math.ceil(Mt):Math.floor(Mt),ze=et.heightInLines+Nt;ze>5&&ze<35&&this._relayout(ze)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const et=this.editor.getLayoutInfo();return et.width-et.minimap.minimapWidth}}{constructor(et,Ze,Mt){super(et,Ze),this.instantiationService=Mt,this._onDidClose=new P.Q5,this.onDidClose=this._onDidClose.event,A.jB(this.options,_e,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(et){const Ze=this.options;et.headerBackgroundColor&&(Ze.headerBackgroundColor=et.headerBackgroundColor),et.primaryHeadingColor&&(Ze.primaryHeadingColor=et.primaryHeadingColor),et.secondaryHeadingColor&&(Ze.secondaryHeadingColor=et.secondaryHeadingColor),super.style(et)}_applyStyles(){super._applyStyles();const et=this.options;this._headElement&&et.headerBackgroundColor&&(this._headElement.style.backgroundColor=et.headerBackgroundColor.toString()),this._primaryHeading&&et.primaryHeadingColor&&(this._primaryHeading.style.color=et.primaryHeadingColor.toString()),this._secondaryHeading&&et.secondaryHeadingColor&&(this._secondaryHeading.style.color=et.secondaryHeadingColor.toString()),this._bodyElement&&et.frameColor&&(this._bodyElement.style.borderColor=et.frameColor.toString())}_fillContainer(et){this.setCssClass("peekview-widget"),this._headElement=f.$(".head"),this._bodyElement=f.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),et.appendChild(this._headElement),et.appendChild(this._bodyElement)}_fillHead(et,Ze){const Mt=f.$(".peekview-title");this.options.supportOnTitleClick&&(Mt.classList.add("clickable"),f.mu(Mt,"click",dt=>this._onTitleClick(dt))),f.R3(this._headElement,Mt),this._fillTitleIcon(Mt),this._primaryHeading=f.$("span.filename"),this._secondaryHeading=f.$("span.dirname"),this._metaHeading=f.$("span.meta"),f.R3(Mt,this._primaryHeading,this._secondaryHeading,this._metaHeading);const Nt=f.$(".peekview-actions");f.R3(this._headElement,Nt);const ze=this._getActionBarOptions();this._actionbarWidget=new s.o(Nt,ze),this._disposables.add(this._actionbarWidget),Ze||this._actionbarWidget.push(new L.aU("peekview.close",Ie.NC("label.close","Close"),M.lA.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(et){}_getActionBarOptions(){return{actionViewItemProvider:ee.Id.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(et){}setTitle(et,Ze){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=et,this._primaryHeading.setAttribute("title",et),Ze?this._secondaryHeading.innerText=Ze:f.PO(this._secondaryHeading))}setMetaTitle(et){this._metaHeading&&(et?(this._metaHeading.innerText=et,f.$Z(this._metaHeading)):f.Cp(this._metaHeading))}_doLayout(et,Ze){if(!this._isShowing&&et<0)return void this.dispose();const Mt=Math.ceil(1.2*this.editor.getOption(61)),Nt=Math.round(et-(Mt+2));this._doLayoutHead(Mt,Ze),this._doLayoutBody(Nt,Ze)}_doLayoutHead(et,Ze){this._headElement&&(this._headElement.style.height=`${et}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(et,Ze){this._bodyElement&&(this._bodyElement.style.height=`${et}px`)}};Be=re([Se(2,de.TG)],Be);const Qe=(0,ge.P6G)("peekViewTitle.background",{dark:(0,ge.ZnX)(ge.c63,.1),light:(0,ge.ZnX)(ge.c63,.1),hcDark:null,hcLight:null},Ie.NC("peekViewTitleBackground","Background color of the peek view title area.")),Ae=(0,ge.P6G)("peekViewTitleLabel.foreground",{dark:u.Il.white,light:u.Il.black,hcDark:u.Il.white,hcLight:ge.NOs},Ie.NC("peekViewTitleForeground","Color of the peek view title.")),pe=(0,ge.P6G)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},Ie.NC("peekViewTitleInfoForeground","Color of the peek view title info.")),De=(0,ge.P6G)("peekView.border",{dark:ge.c63,light:ge.c63,hcDark:ge.lRK,hcLight:ge.lRK},Ie.NC("peekViewBorder","Color of the peek view borders and arrow.")),Oe=(0,ge.P6G)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:u.Il.black,hcLight:u.Il.white},Ie.NC("peekViewResultsBackground","Background color of the peek view result list.")),gt=((0,ge.P6G)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:u.Il.white,hcLight:ge.NOs},Ie.NC("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),(0,ge.P6G)("peekViewResult.fileForeground",{dark:u.Il.white,light:"#1E1E1E",hcDark:u.Il.white,hcLight:ge.NOs},Ie.NC("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),(0,ge.P6G)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},Ie.NC("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),(0,ge.P6G)("peekViewResult.selectionForeground",{dark:u.Il.white,light:"#6C6C6C",hcDark:u.Il.white,hcLight:ge.NOs},Ie.NC("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),(0,ge.P6G)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:u.Il.black,hcLight:u.Il.white},Ie.NC("peekViewEditorBackground","Background color of the peek view editor.")));(0,ge.P6G)("peekViewEditorGutter.background",{dark:gt,light:gt,hcDark:gt,hcLight:gt},Ie.NC("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),(0,ge.P6G)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},Ie.NC("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),(0,ge.P6G)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},Ie.NC("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),(0,ge.P6G)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:ge.xL1,hcLight:ge.xL1},Ie.NC("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},67089:(at,ue,e)=>{"use strict";e.d(ue,{X:()=>k});var f=e(52706),s=e(52425),L=e(54435),M=e(7109),u=e(32213),P=e(53448),A=e(23024);class k{constructor(_){this.options=_,this.rangeHighlightDecorationId=void 0}provide(_,a){var p;const c=new s.SL;_.canAcceptInBackground=!(null===(p=this.options)||void 0===p||!p.canAcceptInBackground),_.matchOnLabel=_.matchOnDescription=_.matchOnDetail=_.sortByLabel=!1;const n=c.add(new s.XK);return n.value=this.doProvide(_,a),c.add(this.onDidActiveTextEditorControlChange(()=>{n.value=void 0,n.value=this.doProvide(_,a)})),c}doProvide(_,a){const p=new s.SL,c=this.activeTextEditorControl;if(c&&this.canProvideWithTextEditor(c)){const n={editor:c},l=(0,M.Pi)(c);if(l){let v=(0,L.f6)(c.saveViewState());p.add(l.onDidChangeCursorPosition(()=>{v=(0,L.f6)(c.saveViewState())})),n.restoreViewState=()=>{v&&c===this.activeTextEditorControl&&c.restoreViewState(v)},p.add((0,f.I)(a.onCancellationRequested)(()=>{var d;return null===(d=n.restoreViewState)||void 0===d?void 0:d.call(n)}))}p.add((0,s.OF)(()=>this.clearDecorations(c))),p.add(this.provideWithTextEditor(n,_,a))}else p.add(this.provideWithoutTextEditor(_,a));return p}canProvideWithTextEditor(_){return!0}gotoLocation({editor:_},a){_.setSelection(a.range),_.revealRangeInCenter(a.range,0),a.preserveFocus||_.focus()}getModel(_){var a;return(0,M.QI)(_)?null===(a=_.getModel())||void 0===a?void 0:a.modified:_.getModel()}addDecorations(_,a){_.changeDecorations(p=>{const c=[];this.rangeHighlightDecorationId&&(c.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),c.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const n=[{range:a,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:a,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,A.EN)(P.m9),position:u.sh.Full}}}],[l,v]=p.deltaDecorations(c,n);this.rangeHighlightDecorationId={rangeHighlightId:l,overviewRulerDecorationId:v}})}clearDecorations(_){const a=this.rangeHighlightDecorationId;a&&(_.changeDecorations(p=>{p.deltaDecorations([a.overviewRulerDecorationId,a.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}},24086:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{ReadOnlyMessageController:()=>u});var f=e(52425),s=e(95172),L=e(10806),M=e(40402);let u=(()=>{class P extends f.JT{constructor(k){super(),this.editor=k,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const k=L.O.get(this.editor);k&&this.editor.hasModel()&&k.showMessage(this.editor.isSimpleWidget?M.NC("editor.simple.readonly","Cannot edit in read-only input"):M.NC("editor.readonly","Cannot edit in read-only editor"),this.editor.getPosition())}}return P.ID="editor.contrib.readOnlyMessageController",P})();(0,s._K)(u.ID,u)},43774:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{RenameAction:()=>_e,rename:()=>ie});var f=e(71578),s=e(63072),L=e(80152),M=e(53663),u=e(52425),P=e(54435),A=e(74672),k=e(23914),N=e(95172),_=e(84067),a=e(7221),p=e(94220),c=e(68451),n=e(29584),l=e(3810),v=e(10806),d=e(40402),m=e(17732),I=e(59776),y=e(64725),S=e(42241),b=e(78782),x=e(22534),T=e(29537),R=e(93379),Q=e.n(R),Z=e(7795),G=e.n(Z),F=e(90569),W=e.n(F),B=e(3565),z=e.n(B),j=e(19216),Y=e.n(j),E=e(44589),V=e.n(E),$=e(88342),te={};te.styleTagTransform=V(),te.setAttributes=z(),te.insert=W().bind(null,"head"),te.domAPI=G(),te.insertStyleElement=Y(),Q()($.Z,te);var be=e(77090),me=e(28708),Ie=e(23024),ce=function(Qe,Ae){return function(pe,De){Ae(pe,De,Qe)}};const he=new I.uy("renameInputVisible",!1,(0,d.NC)("renameInputVisible","Whether the rename input widget is visible"));let de=class{constructor(Ae,pe,De,Oe,Ne){this._editor=Ae,this._acceptKeybindings=pe,this._themeService=De,this._keybindingService=Oe,this._disposables=new u.SL,this.allowEditorOverflow=!0,this._visibleContextKey=he.bindTo(Ne),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(ne=>{ne.hasChanged(46)&&this._updateFont()})),this._disposables.add(De.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,d.NC)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const Ae=()=>{var pe,De;const[Oe,Ne]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(Oe),this._label.innerText=(0,d.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",null===(pe=this._keybindingService.lookupKeybinding(Oe))||void 0===pe?void 0:pe.getLabel(),null===(De=this._keybindingService.lookupKeybinding(Ne))||void 0===De?void 0:De.getLabel())};Ae(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(Ae)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(Ae){var pe,De,Oe,Ne;if(!this._input||!this._domNode)return;const ne=Ae.getColor(me.rh);this._domNode.style.backgroundColor=String(null!==(pe=Ae.getColor(me.D0T))&&void 0!==pe?pe:""),this._domNode.style.boxShadow=ne?` 0 0 8px 2px ${ne}`:"",this._domNode.style.color=String(null!==(De=Ae.getColor(me.zJb))&&void 0!==De?De:""),this._input.style.backgroundColor=String(null!==(Oe=Ae.getColor(me.sEe))&&void 0!==Oe?Oe:"");const xe=Ae.getColor(me.dt_);this._input.style.borderWidth=xe?"1px":"0px",this._input.style.borderStyle=xe?"solid":"none",this._input.style.borderColor=null!==(Ne=null==xe?void 0:xe.toString())&&void 0!==Ne?Ne:"none"}_updateFont(){if(!this._input||!this._label)return;const Ae=this._editor.getOption(46);this._input.style.fontFamily=Ae.fontFamily,this._input.style.fontWeight=Ae.fontWeight,this._input.style.fontSize=`${Ae.fontSize}px`,this._label.style.fontSize=.8*Ae.fontSize+"px"}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(Ae){Ae||this.cancelInput(!0)}acceptInput(Ae){var pe;null===(pe=this._currentAcceptInput)||void 0===pe||pe.call(this,Ae)}cancelInput(Ae){var pe;null===(pe=this._currentCancelInput)||void 0===pe||pe.call(this,Ae)}getInput(Ae,pe,De,Oe,Ne,ne){this._domNode.classList.toggle("preview",Ne),this._position=new p.L(Ae.startLineNumber,Ae.startColumn),this._input.value=pe,this._input.setAttribute("selectionStart",De.toString()),this._input.setAttribute("selectionEnd",Oe.toString()),this._input.size=Math.max(1.1*(Ae.endColumn-Ae.startColumn),20);const xe=new u.SL;return new Promise(Je=>{this._currentCancelInput=gt=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Je(gt),!0),this._currentAcceptInput=gt=>{0!==this._input.value.trim().length&&this._input.value!==pe?(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Je({newName:this._input.value,wantsPreview:Ne&&gt})):this.cancelInput(!0)},xe.add(ne.onCancellationRequested(()=>this.cancelInput(!0))),xe.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{xe.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};de=function(Qe,Ae,pe,De){var ne,Oe=arguments.length,Ne=Oe<3?Ae:null===De?De=Object.getOwnPropertyDescriptor(Ae,pe):De;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ne=Reflect.decorate(Qe,Ae,pe,De);else for(var xe=Qe.length-1;xe>=0;xe--)(ne=Qe[xe])&&(Ne=(Oe<3?ne(Ne):Oe>3?ne(Ae,pe,Ne):ne(Ae,pe))||Ne);return Oe>3&&Ne&&Object.defineProperty(Ae,pe,Ne),Ne}([ce(2,Ie.XE),ce(3,be.d),ce(4,I.i6)],de);var ge=e(37464),Se=function(Qe,Ae){return function(pe,De){Ae(pe,De,Qe)}},Pe=function(Qe,Ae,pe,De){return new(pe||(pe=Promise))(function(Ne,ne){function xe(lt){try{gt(De.next(lt))}catch(Ke){ne(Ke)}}function Je(lt){try{gt(De.throw(lt))}catch(Ke){ne(Ke)}}function gt(lt){lt.done?Ne(lt.value):function Oe(Ne){return Ne instanceof pe?Ne:new pe(function(ne){ne(Ne)})}(lt.value).then(xe,Je)}gt((De=De.apply(Qe,Ae||[])).next())})};class Ve{constructor(Ae,pe,De){this.model=Ae,this.position=pe,this._providerRenameIdx=0,this._providers=De.ordered(Ae)}hasProvider(){return this._providers.length>0}resolveRenameLocation(Ae){return Pe(this,void 0,void 0,function*(){const pe=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const Oe=this._providers[this._providerRenameIdx];if(!Oe.resolveRenameLocation)break;const Ne=yield Oe.resolveRenameLocation(this.model,this.position,Ae);if(Ne){if(Ne.rejectReason){pe.push(Ne.rejectReason);continue}return Ne}}const De=this.model.getWordAtPosition(this.position);return De?{range:new c.e(this.position.lineNumber,De.startColumn,this.position.lineNumber,De.endColumn),text:De.word,rejectReason:pe.length>0?pe.join("\n"):void 0}:{range:c.e.fromPositions(this.position),text:"",rejectReason:pe.length>0?pe.join("\n"):void 0}})}provideRenameEdits(Ae,pe){return Pe(this,void 0,void 0,function*(){return this._provideRenameEdits(Ae,this._providerRenameIdx,[],pe)})}_provideRenameEdits(Ae,pe,De,Oe){return Pe(this,void 0,void 0,function*(){const Ne=this._providers[pe];if(!Ne)return{edits:[],rejectReason:De.join("\n")};const ne=yield Ne.provideRenameEdits(this.model,this.position,Ae,Oe);return ne?ne.rejectReason?this._provideRenameEdits(Ae,pe+1,De.concat(ne.rejectReason),Oe):ne:this._provideRenameEdits(Ae,pe+1,De.concat(d.NC("no result","No result.")),Oe)})}}function ie(Qe,Ae,pe,De){return Pe(this,void 0,void 0,function*(){const Oe=new Ve(Ae,pe,Qe),Ne=yield Oe.resolveRenameLocation(L.T.None);return null!=Ne&&Ne.rejectReason?{edits:[],rejectReason:Ne.rejectReason}:Oe.provideRenameEdits(De,L.T.None)})}let ye=class qd{constructor(Ae,pe,De,Oe,Ne,ne,xe,Je){this.editor=Ae,this._instaService=pe,this._notificationService=De,this._bulkEditService=Oe,this._progressService=Ne,this._logService=ne,this._configService=xe,this._languageFeaturesService=Je,this._disposableStore=new u.SL,this._cts=new L.A,this._renameInputField=this._disposableStore.add(new s.Ue(()=>this._disposableStore.add(this._instaService.createInstance(de,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(Ae){return Ae.getContribution(qd.ID)}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var Ae,pe;return Pe(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const De=this.editor.getPosition(),Oe=new Ve(this.editor.getModel(),De,this._languageFeaturesService.renameProvider);if(!Oe.hasProvider())return;let Ne;this._cts=new k.Dl(this.editor,5);try{const He=Oe.resolveRenameLocation(this._cts.token);this._progressService.showWhile(He,250),Ne=yield He}catch(He){return void(null===(Ae=v.O.get(this.editor))||void 0===Ae||Ae.showMessage(He||d.NC("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),De))}if(!Ne)return;if(Ne.rejectReason)return void(null===(pe=v.O.get(this.editor))||void 0===pe||pe.showMessage(Ne.rejectReason,De));if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new k.Dl(this.editor,5,Ne.range);const ne=this.editor.getSelection();let xe=0,Je=Ne.text.length;!c.e.isEmpty(ne)&&!c.e.spansMultipleLines(ne)&&c.e.containsRange(Ne.range,ne)&&(xe=Math.max(0,ne.startColumn-Ne.range.startColumn),Je=Math.min(Ne.range.endColumn,ne.endColumn)-Ne.range.startColumn);const gt=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),lt=yield this._renameInputField.value.getInput(Ne.range,Ne.text,xe,Je,gt,this._cts.token);if("boolean"==typeof lt)return void(lt&&this.editor.focus());this.editor.focus();const Ke=(0,s.eP)(Oe.provideRenameEdits(lt.newName,this._cts.token),this._cts.token).then(He=>Pe(this,void 0,void 0,function*(){if(He&&this.editor.hasModel()){if(He.rejectReason)return void this._notificationService.info(He.rejectReason);this.editor.setSelection(c.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(_.fo.convert(He),{editor:this.editor,showPreview:lt.wantsPreview,label:d.NC("label","Renaming '{0}' to '{1}'",null==Ne?void 0:Ne.text,lt.newName),code:"undoredo.rename",quotableLabel:d.NC("quotableLabel","Renaming {0} to {1}",null==Ne?void 0:Ne.text,lt.newName),respectAutoSaveConfig:!0}).then(Ue=>{Ue.ariaSummary&&(0,f.Z9)(d.NC("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",Ne.text,lt.newName,Ue.ariaSummary))}).catch(Ue=>{this._notificationService.error(d.NC("rename.failedApply","Rename failed to apply edits")),this._logService.error(Ue)})}}),He=>{this._notificationService.error(d.NC("rename.failed","Rename failed to compute edits")),this._logService.error(He)});return this._progressService.showWhile(Ke,250),Ke})}acceptRenameInput(Ae){this._renameInputField.value.acceptInput(Ae)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};ye.ID="editor.contrib.renameController",ye=function(Qe,Ae,pe,De){var ne,Oe=arguments.length,Ne=Oe<3?Ae:null===De?De=Object.getOwnPropertyDescriptor(Ae,pe):De;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ne=Reflect.decorate(Qe,Ae,pe,De);else for(var xe=Qe.length-1;xe>=0;xe--)(ne=Qe[xe])&&(Ne=(Oe<3?ne(Ne):Oe>3?ne(Ae,pe,Ne):ne(Ae,pe))||Ne);return Oe>3&&Ne&&Object.defineProperty(Ae,pe,Ne),Ne}([Se(1,y.TG),Se(2,b.lT),Se(3,_.vu),Se(4,x.ek),Se(5,S.VZ),Se(6,l.V),Se(7,ge.p)],ye);class _e extends N.R6{constructor(){super({id:"editor.action.rename",label:d.NC("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:I.Ao.and(n.u.writable,n.u.hasRenameProvider),kbOpts:{kbExpr:n.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(Ae,pe){const De=Ae.get(a.$),[Oe,Ne]=Array.isArray(pe)&&pe||[void 0,void 0];return A.o.isUri(Oe)&&p.L.isIPosition(Ne)?De.openCodeEditor({resource:Oe},De.getActiveCodeEditor()).then(ne=>{!ne||(ne.setPosition(Ne),ne.invokeWithinContext(xe=>(this.reportTelemetry(xe,ne),this.run(xe,ne))))},M.dL):super.runCommand(Ae,pe)}run(Ae,pe){const De=ye.get(pe);return De?De.run():Promise.resolve()}}(0,N._K)(ye.ID,ye),(0,N.Qr)(_e);const Be=N._l.bindToContribution(ye.get);(0,N.fK)(new Be({id:"acceptRenameInput",precondition:he,handler:Qe=>Qe.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:n.u.focus,primary:3}})),(0,N.fK)(new Be({id:"acceptRenameInputWithPreview",precondition:I.Ao.and(he,I.Ao.has("config.editor.rename.enablePreview")),handler:Qe=>Qe.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:n.u.focus,primary:1027}})),(0,N.fK)(new Be({id:"cancelRenameInput",precondition:he,handler:Qe=>Qe.cancelRenameInput(),kbOpts:{weight:199,kbExpr:n.u.focus,primary:9,secondary:[1033]}})),(0,N.sb)("_executeDocumentRenameProvider",function(Qe,Ae,pe,...De){const[Oe]=De;(0,P.p_)("string"==typeof Oe);const{renameProvider:Ne}=Qe.get(ge.p);return ie(Ne,Ae,pe,Oe)}),(0,N.sb)("_executePrepareRename",function(Qe,Ae,pe){return Pe(this,void 0,void 0,function*(){const{renameProvider:De}=Qe.get(ge.p),Ne=yield new Ve(Ae,pe,De).resolveRenameLocation(L.T.None);if(null!=Ne&&Ne.rejectReason)throw new Error(Ne.rejectReason);return Ne})}),T.B.as(m.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:d.NC("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})},58582:(at,ue,e)=>{"use strict";e.d(ue,{x:()=>u});var f=e(38460),s=e(94220),L=e(68451);let u=(()=>{class P{provideSelectionRanges(k,N){return function(P,A,k,N){return new(k||(k=Promise))(function(a,p){function c(v){try{l(N.next(v))}catch(d){p(d)}}function n(v){try{l(N.throw(v))}catch(d){p(d)}}function l(v){v.done?a(v.value):function _(a){return a instanceof k?a:new k(function(p){p(a)})}(v.value).then(c,n)}l((N=N.apply(P,A||[])).next())})}(this,void 0,void 0,function*(){const _=[];for(const a of N){const p=[];_.push(p);const c=new Map;yield new Promise(n=>P._bracketsRightYield(n,0,k,a,c)),yield new Promise(n=>P._bracketsLeftYield(n,0,k,a,c,p))}return _})}static _bracketsRightYield(k,N,_,a,p){const c=new Map,n=Date.now();for(;;){if(N>=P._maxRounds){k();break}if(!a){k();break}const l=_.bracketPairs.findNextBracket(a);if(!l){k();break}if(Date.now()-n>P._maxDuration){setTimeout(()=>P._bracketsRightYield(k,N+1,_,a,p));break}if(l.bracketInfo.isOpeningBracket){const d=l.bracketInfo.bracketText,m=c.has(d)?c.get(d):0;c.set(d,m+1)}else{const d=l.bracketInfo.getClosedBrackets()[0].bracketText;let m=c.has(d)?c.get(d):0;if(m-=1,c.set(d,Math.max(0,m)),m<0){let I=p.get(d);I||(I=new f.S,p.set(d,I)),I.push(l.range)}}a=l.range.getEndPosition()}}static _bracketsLeftYield(k,N,_,a,p,c){const n=new Map,l=Date.now();for(;;){if(N>=P._maxRounds&&0===p.size){k();break}if(!a){k();break}const v=_.bracketPairs.findPrevBracket(a);if(!v){k();break}if(Date.now()-l>P._maxDuration){setTimeout(()=>P._bracketsLeftYield(k,N+1,_,a,p,c));break}if(v.bracketInfo.isOpeningBracket){const m=v.bracketInfo.bracketText;let I=n.has(m)?n.get(m):0;if(I-=1,n.set(m,Math.max(0,I)),I<0){const y=p.get(m);if(y){const S=y.shift();0===y.size&&p.delete(m);const b=L.e.fromPositions(v.range.getEndPosition(),S.getStartPosition()),x=L.e.fromPositions(v.range.getStartPosition(),S.getEndPosition());c.push({range:b}),c.push({range:x}),P._addBracketLeading(_,x,c)}}}else{const m=v.bracketInfo.getClosedBrackets()[0].bracketText,I=n.has(m)?n.get(m):0;n.set(m,I+1)}a=v.range.getStartPosition()}}static _addBracketLeading(k,N,_){if(N.startLineNumber===N.endLineNumber)return;const a=N.startLineNumber,p=k.getLineFirstNonWhitespaceColumn(a);0!==p&&p!==N.startColumn&&(_.push({range:L.e.fromPositions(new s.L(a,p),N.getEndPosition())}),_.push({range:L.e.fromPositions(new s.L(a,1),N.getEndPosition())}));const c=a-1;if(c>0){const n=k.getLineFirstNonWhitespaceColumn(c);n===N.startColumn&&n!==k.getLineLastNonWhitespaceColumn(c)&&(_.push({range:L.e.fromPositions(new s.L(c,n),N.getEndPosition())}),_.push({range:L.e.fromPositions(new s.L(c,1),N.getEndPosition())}))}}}return P._maxDuration=30,P._maxRounds=2,P})()},59419:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{provideSelectionRanges:()=>Z});var f=e(18337),s=e(80152),L=e(53663),M=e(95172),u=e(94220),P=e(68451),A=e(43210),k=e(29584),N=e(58582),_=e(93059);class a{provideSelectionRanges(F,W){const B=[];for(const z of W){const j=[];B.push(j),this._addInWordRanges(j,F,z),this._addWordRanges(j,F,z),this._addWhitespaceLine(j,F,z),j.push({range:F.getFullModelRange()})}return B}_addInWordRanges(F,W,B){const z=W.getWordAtPosition(B);if(!z)return;const{word:j,startColumn:Y}=z,E=B.column-Y;let V=E,$=E,te=0;for(;V>=0;V--){const w=j.charCodeAt(V);if(V!==E&&(95===w||45===w))break;if((0,_.mK)(w)&&(0,_.df)(te))break;te=w}for(V+=1;$<j.length;$++){const w=j.charCodeAt($);if((0,_.df)(w)&&(0,_.mK)(te))break;if(95===w||45===w)break;te=w}V<$&&F.push({range:new P.e(B.lineNumber,Y+V,B.lineNumber,Y+$)})}_addWordRanges(F,W,B){const z=W.getWordAtPosition(B);z&&F.push({range:new P.e(B.lineNumber,z.startColumn,B.lineNumber,z.endColumn)})}_addWhitespaceLine(F,W,B){W.getLineLength(B.lineNumber)>0&&0===W.getLineFirstNonWhitespaceColumn(B.lineNumber)&&0===W.getLineLastNonWhitespaceColumn(B.lineNumber)&&F.push({range:new P.e(B.lineNumber,1,B.lineNumber,W.getLineMaxColumn(B.lineNumber))})}}var p=e(40402),c=e(61004),n=e(23884),l=e(37464),v=e(87424),d=e(54435),m=e(74672),S=function(G,F,W,B){return new(W||(W=Promise))(function(j,Y){function E(te){try{$(B.next(te))}catch(w){Y(w)}}function V(te){try{$(B.throw(te))}catch(w){Y(w)}}function $(te){te.done?j(te.value):function z(j){return j instanceof W?j:new W(function(Y){Y(j)})}(te.value).then(E,V)}$((B=B.apply(G,F||[])).next())})};class b{constructor(F,W){this.index=F,this.ranges=W}mov(F){const W=this.index+(F?1:-1);if(W<0||W>=this.ranges.length)return this;const B=new b(W,this.ranges);return B.ranges[W].equalsRange(this.ranges[this.index])?B.mov(F):B}}let x=class ec{constructor(F,W){this._editor=F,this._languageFeaturesService=W,this._ignoreSelection=!1}static get(F){return F.getContribution(ec.ID)}dispose(){var F;null===(F=this._selectionListener)||void 0===F||F.dispose()}run(F){return S(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const W=this._editor.getSelections(),B=this._editor.getModel();if(this._state||(yield Z(this._languageFeaturesService.selectionRangeProvider,B,W.map(j=>j.getPosition()),this._editor.getOption(104),s.T.None).then(j=>{var Y;if(f.Of(j)&&j.length===W.length&&this._editor.hasModel()&&f.fS(this._editor.getSelections(),W,(E,V)=>E.equalsSelection(V))){for(let E=0;E<j.length;E++)j[E]=j[E].filter(V=>V.containsPosition(W[E].getStartPosition())&&V.containsPosition(W[E].getEndPosition())),j[E].unshift(W[E]);this._state=j.map(E=>new b(0,E)),null===(Y=this._selectionListener)||void 0===Y||Y.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var E;this._ignoreSelection||(null===(E=this._selectionListener)||void 0===E||E.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(j=>j.mov(F));const z=this._state.map(j=>A.Y.fromPositions(j.ranges[j.index].getStartPosition(),j.ranges[j.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(z)}finally{this._ignoreSelection=!1}})}};var F;x.ID="editor.contrib.smartSelectController",x=function(G,F,W,B){var Y,z=arguments.length,j=z<3?F:null===B?B=Object.getOwnPropertyDescriptor(F,W):B;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(G,F,W,B);else for(var E=G.length-1;E>=0;E--)(Y=G[E])&&(j=(z<3?Y(j):z>3?Y(F,W,j):Y(F,W))||j);return z>3&&j&&Object.defineProperty(F,W,j),j}([(1,F=l.p,function(W,B){F(W,B,1)})],x);class T extends M.R6{constructor(F,W){super(W),this._forward=F}run(F,W){return S(this,void 0,void 0,function*(){const B=x.get(W);B&&(yield B.run(this._forward))})}}function Z(G,F,W,B,z){return S(this,void 0,void 0,function*(){const j=G.all(F).concat(new a);1===j.length&&j.unshift(new N.x);const Y=[],E=[];for(const V of j)Y.push(Promise.resolve(V.provideSelectionRanges(F,W,z)).then($=>{if(f.Of($)&&$.length===W.length)for(let te=0;te<W.length;te++){E[te]||(E[te]=[]);for(const w of $[te])P.e.isIRange(w.range)&&P.e.containsPosition(w.range,W[te])&&E[te].push(P.e.lift(w.range))}},L.Cp));return yield Promise.all(Y),E.map(V=>{if(0===V.length)return[];V.sort((fe,be)=>u.L.isBefore(fe.getStartPosition(),be.getStartPosition())?1:u.L.isBefore(be.getStartPosition(),fe.getStartPosition())||u.L.isBefore(fe.getEndPosition(),be.getEndPosition())?-1:u.L.isBefore(be.getEndPosition(),fe.getEndPosition())?1:0);const $=[];let te;for(const fe of V)(!te||P.e.containsRange(fe,te)&&!P.e.equalsRange(fe,te))&&($.push(fe),te=fe);if(!B.selectLeadingAndTrailingWhitespace)return $;const w=[$[0]];for(let fe=1;fe<$.length;fe++){const be=$[fe-1],me=$[fe];if(me.startLineNumber!==be.startLineNumber||me.endLineNumber!==be.endLineNumber){const Ie=new P.e(be.startLineNumber,F.getLineFirstNonWhitespaceColumn(be.startLineNumber),be.endLineNumber,F.getLineLastNonWhitespaceColumn(be.endLineNumber));Ie.containsRange(be)&&!Ie.equalsRange(be)&&me.containsRange(Ie)&&!me.equalsRange(Ie)&&w.push(Ie);const ee=new P.e(be.startLineNumber,1,be.endLineNumber,F.getLineMaxColumn(be.endLineNumber));ee.containsRange(be)&&!ee.equalsRange(Ie)&&me.containsRange(ee)&&!me.equalsRange(ee)&&w.push(ee)}w.push(me)}return w})})}n.P0.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand"),(0,M._K)(x.ID,x),(0,M.Qr)(class R extends T{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:p.NC("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:k.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:c.eH.MenubarSelectionMenu,group:"1_basic",title:p.NC({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}),(0,M.Qr)(class Q extends T{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:p.NC("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:k.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:c.eH.MenubarSelectionMenu,group:"1_basic",title:p.NC({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}),n.P0.registerCommand("_executeSelectionRangeProvider",function(G,...F){return S(this,void 0,void 0,function*(){const[W,B]=F;(0,d.p_)(m.o.isUri(W));const z=G.get(l.p).selectionRangeProvider,j=yield G.get(v.S).createModelReference(W);try{return Z(z,j.object.textEditorModel,B,{selectLeadingAndTrailingWhitespace:!0},s.T.None)}finally{j.dispose()}})})},76295:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{SnippetController2:()=>d,performSnippetEdit:()=>I});var f=e(52425),s=e(54435),L=e(95172),M=e(94220),u=e(43210),P=e(29584),A=e(23924),k=e(37464),N=e(42094),_=e(40402),a=e(59776),p=e(42241),c=e(87760),l=function(y,S){return function(b,x){S(b,x,y)}};const v={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let d=class da{constructor(S,b,x,T,R){this._editor=S,this._logService=b,this._languageFeaturesService=x,this._languageConfigurationService=R,this._snippetListener=new f.SL,this._modelVersionId=-1,this._inSnippet=da.InSnippetMode.bindTo(T),this._hasNextTabstop=da.HasNextTabstop.bindTo(T),this._hasPrevTabstop=da.HasPrevTabstop.bindTo(T)}static get(S){return S.getContribution(da.ID)}dispose(){var S;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),null===(S=this._session)||void 0===S||S.dispose(),this._snippetListener.dispose()}apply(S,b){try{this._doInsert(S,void 0===b?v:Object.assign(Object.assign({},v),b))}catch(x){this.cancel(),this._logService.error(x),this._logService.error("snippet_error"),this._logService.error("insert_edits=",S),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}insert(S,b){try{this._doInsert(S,void 0===b?v:Object.assign(Object.assign({},v),b))}catch(x){this.cancel(),this._logService.error(x),this._logService.error("snippet_error"),this._logService.error("insert_template=",S),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(S,b){var x;if(this._editor.hasModel()){if(this._snippetListener.clear(),b.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&"string"!=typeof S&&this.cancel(),this._session?((0,s.p_)("string"==typeof S),this._session.merge(S,b)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new c.l(this._editor,S,b,this._languageConfigurationService),this._session.insert()),b.undoStopAfter&&this._editor.getModel().pushStackElement(),null!==(x=this._session)&&void 0!==x&&x.hasChoice){this._choiceCompletionItemProvider={provideCompletionItems:(R,Q)=>{if(!this._session||R!==this._editor.getModel()||!M.L.equals(this._editor.getPosition(),Q))return;const{activeChoice:Z}=this._session;if(!Z||0===Z.choice.options.length)return;const G=R.getValueInRange(Z.range),F=Boolean(Z.choice.options.find(B=>B.value===G)),W=[];for(let B=0;B<Z.choice.options.length;B++){const z=Z.choice.options[B];W.push({kind:13,label:z.value,insertText:z.value,sortText:"a".repeat(B+1),range:Z.range,filterText:F?`${G}_${z.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,_.NC)("next","Go to next placeholder...")}})}return{suggestions:W}}};const T=this._languageFeaturesService.completionProvider.register({language:this._editor.getModel().getLanguageId(),pattern:this._editor.getModel().uri.fsPath,scheme:this._editor.getModel().uri.scheme},this._choiceCompletionItemProvider);this._snippetListener.add(T)}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(T=>T.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel())return void(this._currentChoice=void 0);const{activeChoice:S}=this._session;S&&this._choiceCompletionItemProvider?this._currentChoice!==S.choice&&(this._currentChoice=S.choice,queueMicrotask(()=>{(0,N.i5)(this._editor,this._choiceCompletionItemProvider)})):this._currentChoice=void 0}finish(){for(;this._inSnippet.get();)this.next()}cancel(S=!1){var b;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,null===(b=this._session)||void 0===b||b.dispose(),this._session=void 0,this._modelVersionId=-1,S&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};d.ID="snippetController2",d.InSnippetMode=new a.uy("inSnippetMode",!1,(0,_.NC)("inSnippetMode","Whether the editor in current in snippet mode")),d.HasNextTabstop=new a.uy("hasNextTabstop",!1,(0,_.NC)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),d.HasPrevTabstop=new a.uy("hasPrevTabstop",!1,(0,_.NC)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),d=function(y,S,b,x){var Q,T=arguments.length,R=T<3?S:null===x?x=Object.getOwnPropertyDescriptor(S,b):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(y,S,b,x);else for(var Z=y.length-1;Z>=0;Z--)(Q=y[Z])&&(R=(T<3?Q(R):T>3?Q(S,b,R):Q(S,b))||R);return T>3&&R&&Object.defineProperty(S,b,R),R}([l(1,p.VZ),l(2,k.p),l(3,a.i6),l(4,A.c_)],d),(0,L._K)(d.ID,d);const m=L._l.bindToContribution(d.get);function I(y,S,b){const x=d.get(y);return!!x&&(y.focus(),x.apply(b.map(T=>({range:u.Y.liftSelection(T),template:S}))),x.isInSnippet())}(0,L.fK)(new m({id:"jumpToNextSnippetPlaceholder",precondition:a.Ao.and(d.InSnippetMode,d.HasNextTabstop),handler:y=>y.next(),kbOpts:{weight:130,kbExpr:P.u.editorTextFocus,primary:2}})),(0,L.fK)(new m({id:"jumpToPrevSnippetPlaceholder",precondition:a.Ao.and(d.InSnippetMode,d.HasPrevTabstop),handler:y=>y.prev(),kbOpts:{weight:130,kbExpr:P.u.editorTextFocus,primary:1026}})),(0,L.fK)(new m({id:"leaveSnippet",precondition:d.InSnippetMode,handler:y=>y.cancel(!0),kbOpts:{weight:130,kbExpr:P.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,L.fK)(new m({id:"acceptSnippet",precondition:d.InSnippetMode,handler:y=>y.finish()}))},65676:(at,ue,e)=>{"use strict";e.d(ue,{Lv:()=>P,Vm:()=>u,Yj:()=>p,xv:()=>L,y1:()=>a});let f=(()=>{class c{constructor(){this.value="",this.pos=0}static isDigitCharacter(l){return l>=48&&l<=57}static isVariableCharacter(l){return 95===l||l>=97&&l<=122||l>=65&&l<=90}text(l){this.value=l,this.pos=0}tokenText(l){return this.value.substr(l.pos,l.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const l=this.pos;let m,v=0,d=this.value.charCodeAt(l);if(m=c._table[d],"number"==typeof m)return this.pos+=1,{type:m,pos:l,len:1};if(c.isDigitCharacter(d)){m=8;do{v+=1,d=this.value.charCodeAt(l+v)}while(c.isDigitCharacter(d));return this.pos+=v,{type:m,pos:l,len:v}}if(c.isVariableCharacter(d)){m=9;do{d=this.value.charCodeAt(l+ ++v)}while(c.isVariableCharacter(d)||c.isDigitCharacter(d));return this.pos+=v,{type:m,pos:l,len:v}}m=10;do{v+=1,d=this.value.charCodeAt(l+v)}while(!isNaN(d)&&void 0===c._table[d]&&!c.isDigitCharacter(d)&&!c.isVariableCharacter(d));return this.pos+=v,{type:m,pos:l,len:v}}}return c._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13},c})();class s{constructor(){this._children=[]}appendChild(n){return n instanceof L&&this._children[this._children.length-1]instanceof L?this._children[this._children.length-1].value+=n.value:(n.parent=this,this._children.push(n)),this}replace(n,l){const{parent:v}=n,d=v.children.indexOf(n),m=v.children.slice(0);m.splice(d,1,...l),v._children=m,function I(y,S){for(const b of y)b.parent=S,I(b.children,b)}(l,v)}get children(){return this._children}get snippet(){let n=this;for(;;){if(!n)return;if(n instanceof a)return n;n=n.parent}}toString(){return this.children.reduce((n,l)=>n+l.toString(),"")}len(){return 0}}class L extends s{constructor(n){super(),this.value=n}toString(){return this.value}len(){return this.value.length}clone(){return new L(this.value)}}class M extends s{}class u extends M{constructor(n){super(),this.index=n}static compareByIndex(n,l){return n.index===l.index?0:n.isFinalTabstop?1:l.isFinalTabstop||n.index<l.index?-1:n.index>l.index?1:0}get isFinalTabstop(){return 0===this.index}get choice(){return 1===this._children.length&&this._children[0]instanceof P?this._children[0]:void 0}clone(){const n=new u(this.index);return this.transform&&(n.transform=this.transform.clone()),n._children=this.children.map(l=>l.clone()),n}}class P extends s{constructor(){super(...arguments),this.options=[]}appendChild(n){return n instanceof L&&(n.parent=this,this.options.push(n)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const n=new P;return this.options.forEach(n.appendChild,n),n}}class A extends s{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(n){const l=this;let v=!1,d=n.replace(this.regexp,function(){return v=!0,l._replace(Array.prototype.slice.call(arguments,0,-2))});return!v&&this._children.some(m=>m instanceof k&&Boolean(m.elseValue))&&(d=this._replace([])),d}_replace(n){let l="";for(const v of this._children)if(v instanceof k){let d=n[v.index]||"";d=v.resolve(d),l+=d}else l+=v.toString();return l}toString(){return""}clone(){const n=new A;return n.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),n._children=this.children.map(l=>l.clone()),n}}class k extends s{constructor(n,l,v,d){super(),this.index=n,this.shorthandName=l,this.ifValue=v,this.elseValue=d}resolve(n){return"upcase"===this.shorthandName?n?n.toLocaleUpperCase():"":"downcase"===this.shorthandName?n?n.toLocaleLowerCase():"":"capitalize"===this.shorthandName?n?n[0].toLocaleUpperCase()+n.substr(1):"":"pascalcase"===this.shorthandName?n?this._toPascalCase(n):"":"camelcase"===this.shorthandName?n?this._toCamelCase(n):"":Boolean(n)&&"string"==typeof this.ifValue?this.ifValue:Boolean(n)||"string"!=typeof this.elseValue?n||"":this.elseValue}_toPascalCase(n){const l=n.match(/[a-z0-9]+/gi);return l?l.map(v=>v.charAt(0).toUpperCase()+v.substr(1)).join(""):n}_toCamelCase(n){const l=n.match(/[a-z0-9]+/gi);return l?l.map((v,d)=>0===d?v.charAt(0).toLowerCase()+v.substr(1):v.charAt(0).toUpperCase()+v.substr(1)).join(""):n}clone(){return new k(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class N extends M{constructor(n){super(),this.name=n}resolve(n){let l=n.resolve(this);return this.transform&&(l=this.transform.resolve(l||"")),void 0!==l&&(this._children=[new L(l)],!0)}clone(){const n=new N(this.name);return this.transform&&(n.transform=this.transform.clone()),n._children=this.children.map(l=>l.clone()),n}}function _(c,n){const l=[...c];for(;l.length>0;){const v=l.shift();if(!n(v))break;l.unshift(...v.children)}}class a extends s{get placeholderInfo(){if(!this._placeholders){const n=[];let l;this.walk(function(v){return v instanceof u&&(n.push(v),l=!l||l.index<v.index?v:l),!0}),this._placeholders={all:n,last:l}}return this._placeholders}get placeholders(){const{all:n}=this.placeholderInfo;return n}offset(n){let l=0,v=!1;return this.walk(d=>d===n?(v=!0,!1):(l+=d.len(),!0)),v?l:-1}fullLen(n){let l=0;return _([n],v=>(l+=v.len(),!0)),l}enclosingPlaceholders(n){const l=[];let{parent:v}=n;for(;v;)v instanceof u&&l.push(v),v=v.parent;return l}resolveVariables(n){return this.walk(l=>(l instanceof N&&l.resolve(n)&&(this._placeholders=void 0),!0)),this}appendChild(n){return this._placeholders=void 0,super.appendChild(n)}replace(n,l){return this._placeholders=void 0,super.replace(n,l)}clone(){const n=new a;return this._children=this.children.map(l=>l.clone()),n}walk(n){_(this.children,n)}}class p{constructor(){this._scanner=new f,this._token={type:14,pos:0,len:0}}static escape(n){return n.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(n){return/\${?CLIPBOARD/.test(n)}parse(n,l,v){const d=new a;return this.parseFragment(n,d),this.ensureFinalTabstop(d,null!=v&&v,null!=l&&l),d}parseFragment(n,l){const v=l.children.length;for(this._scanner.text(n),this._token=this._scanner.next();this._parse(l););const d=new Map,m=[];l.walk(I=>(I instanceof u&&(I.isFinalTabstop?d.set(0,void 0):!d.has(I.index)&&I.children.length>0?d.set(I.index,I.children):m.push(I)),!0));for(const I of m){const y=d.get(I.index);if(y){const S=new u(I.index);S.transform=I.transform;for(const b of y)S.appendChild(b.clone());l.replace(I,[S])}}return l.children.slice(v)}ensureFinalTabstop(n,l,v){(l||v&&n.placeholders.length>0)&&(n.placeholders.find(m=>0===m.index)||n.appendChild(new u(0)))}_accept(n,l){if(void 0===n||this._token.type===n){const v=!l||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),v}return!1}_backTo(n){return this._scanner.pos=n.pos+n.len,this._token=n,!1}_until(n){const l=this._token;for(;this._token.type!==n;){if(14===this._token.type)return!1;if(5===this._token.type){const d=this._scanner.next();if(0!==d.type&&4!==d.type&&5!==d.type)return!1}this._token=this._scanner.next()}const v=this._scanner.value.substring(l.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),v}_parse(n){return this._parseEscaped(n)||this._parseTabstopOrVariableName(n)||this._parseComplexPlaceholder(n)||this._parseComplexVariable(n)||this._parseAnything(n)}_parseEscaped(n){let l;return!!(l=this._accept(5,!0))&&(l=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||l,n.appendChild(new L(l)),!0)}_parseTabstopOrVariableName(n){let l;const v=this._token;return this._accept(0)&&(l=this._accept(9,!0)||this._accept(8,!0))?(n.appendChild(/^\d+$/.test(l)?new u(Number(l)):new N(l)),!0):this._backTo(v)}_parseComplexPlaceholder(n){let l;const v=this._token;if(!(this._accept(0)&&this._accept(3)&&(l=this._accept(8,!0))))return this._backTo(v);const m=new u(Number(l));if(this._accept(1))for(;;){if(this._accept(4))return n.appendChild(m),!0;if(!this._parse(m))return n.appendChild(new L("${"+l+":")),m.children.forEach(n.appendChild,n),!0}else{if(!(m.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(m)?(n.appendChild(m),!0):(this._backTo(v),!1):this._accept(4)?(n.appendChild(m),!0):this._backTo(v);{const I=new P;for(;;){if(this._parseChoiceElement(I)){if(this._accept(2))continue;if(this._accept(7)&&(m.appendChild(I),this._accept(4)))return n.appendChild(m),!0}return this._backTo(v),!1}}}}_parseChoiceElement(n){const l=this._token,v=[];for(;2!==this._token.type&&7!==this._token.type;){let d;if(d=(d=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||d:this._accept(void 0,!0),!d)return this._backTo(l),!1;v.push(d)}return 0===v.length?(this._backTo(l),!1):(n.appendChild(new L(v.join(""))),!0)}_parseComplexVariable(n){let l;const v=this._token;if(!(this._accept(0)&&this._accept(3)&&(l=this._accept(9,!0))))return this._backTo(v);const m=new N(l);if(!this._accept(1))return this._accept(6)?this._parseTransform(m)?(n.appendChild(m),!0):(this._backTo(v),!1):this._accept(4)?(n.appendChild(m),!0):this._backTo(v);for(;;){if(this._accept(4))return n.appendChild(m),!0;if(!this._parse(m))return n.appendChild(new L("${"+l+":")),m.children.forEach(n.appendChild,n),!0}}_parseTransform(n){const l=new A;let v="",d="";for(;!this._accept(6);){let m;if(m=this._accept(5,!0))m=this._accept(6,!0)||m,v+=m;else{if(14===this._token.type)return!1;v+=this._accept(void 0,!0)}}for(;!this._accept(6);){let m;if(m=this._accept(5,!0))m=this._accept(5,!0)||this._accept(6,!0)||m,l.appendChild(new L(m));else if(!this._parseFormatString(l)&&!this._parseAnything(l))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;d+=this._accept(void 0,!0)}try{l.regexp=new RegExp(v,d)}catch(m){return!1}return n.transform=l,!0}_parseFormatString(n){const l=this._token;if(!this._accept(0))return!1;let v=!1;this._accept(3)&&(v=!0);const d=this._accept(8,!0);if(!d)return this._backTo(l),!1;if(!v)return n.appendChild(new k(Number(d))),!0;if(this._accept(4))return n.appendChild(new k(Number(d))),!0;if(!this._accept(1))return this._backTo(l),!1;if(this._accept(6)){const m=this._accept(9,!0);return m&&this._accept(4)?(n.appendChild(new k(Number(d),m)),!0):(this._backTo(l),!1)}if(this._accept(11)){const m=this._until(4);if(m)return n.appendChild(new k(Number(d),void 0,m,void 0)),!0}else if(this._accept(12)){const m=this._until(4);if(m)return n.appendChild(new k(Number(d),void 0,void 0,m)),!0}else if(this._accept(13)){const m=this._until(1);if(m){const I=this._until(4);if(I)return n.appendChild(new k(Number(d),void 0,m,I)),!0}}else{const m=this._until(4);if(m)return n.appendChild(new k(Number(d),void 0,void 0,m)),!0}return this._backTo(l),!1}_parseAnything(n){return 14!==this._token.type&&(n.appendChild(new L(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}},87760:(at,ue,e)=>{"use strict";e.d(ue,{l:()=>Pe});var f=e(18337),s=e(52425),L=e(93059),M=e(93379),u=e.n(M),P=e(7795),A=e.n(P),k=e(90569),N=e.n(k),_=e(3565),a=e.n(_),p=e(19216),c=e.n(p),n=e(44589),l=e.n(n),v=e(15756),d={};d.styleTagTransform=l(),d.setAttributes=a(),d.insert=N().bind(null,"head"),d.domAPI=A(),d.insertStyleElement=c(),u()(v.Z,d);var y=e(12033),S=e(68451),b=e(43210),x=e(23924),T=e(3508),R=e(50203),Q=e(2405),Z=e(65676),G=e(25170),F=e(38972);function W(Ve,ie=F.ED){return(0,G.oP)(Ve,ie)?Ve.charAt(0).toUpperCase()+Ve.slice(1):Ve}var z=e(34163),j=e(15151),Y=e(54010),E=e(40402);Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class w{constructor(ie){this._delegates=ie}resolve(ie){for(const ye of this._delegates){const _e=ye.resolve(ie);if(void 0!==_e)return _e}}}class fe{constructor(ie,ye,_e,Be){this._model=ie,this._selection=ye,this._selectionIdx=_e,this._overtypingCapturer=Be}resolve(ie){const{name:ye}=ie;if("SELECTION"===ye||"TM_SELECTED_TEXT"===ye){let _e=this._model.getValueInRange(this._selection)||void 0,Be=this._selection.startLineNumber!==this._selection.endLineNumber;if(!_e&&this._overtypingCapturer){const Qe=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);Qe&&(_e=Qe.value,Be=Qe.multiline)}if(_e&&Be&&ie.snippet){const Qe=this._model.getLineContent(this._selection.startLineNumber),Ae=(0,L.V8)(Qe,0,this._selection.startColumn-1);let pe=Ae;ie.snippet.walk(Oe=>Oe!==ie&&(Oe instanceof Z.xv&&(pe=(0,L.V8)((0,L.uq)(Oe.value).pop())),!0));const De=(0,L.Mh)(pe,Ae);_e=_e.replace(/(\r\n|\r|\n)(.*)/g,(Oe,Ne,ne)=>`${Ne}${pe.substr(De)}${ne}`)}return _e}if("TM_CURRENT_LINE"===ye)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===ye){const _e=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return _e&&_e.word||void 0}return"TM_LINE_INDEX"===ye?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===ye?String(this._selection.positionLineNumber):"CURSOR_INDEX"===ye?String(this._selectionIdx):"CURSOR_NUMBER"===ye?String(this._selectionIdx+1):void 0}}class be{constructor(ie,ye){this._labelService=ie,this._model=ye}resolve(ie){const{name:ye}=ie;if("TM_FILENAME"===ye)return z.EZ(this._model.uri.fsPath);if("TM_FILENAME_BASE"===ye){const _e=z.EZ(this._model.uri.fsPath),Be=_e.lastIndexOf(".");return Be<=0?_e:_e.slice(0,Be)}return"TM_DIRECTORY"===ye?"."===z.XX(this._model.uri.fsPath)?"":this._labelService.getUriLabel((0,j.XX)(this._model.uri)):"TM_FILEPATH"===ye?this._labelService.getUriLabel(this._model.uri):"RELATIVE_FILEPATH"===ye?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0}}class me{constructor(ie,ye,_e,Be){this._readClipboardText=ie,this._selectionIdx=ye,this._selectionCount=_e,this._spread=Be}resolve(ie){if("CLIPBOARD"!==ie.name)return;const ye=this._readClipboardText();if(ye){if(this._spread){const _e=ye.split(/\r\n|\n|\r/).filter(Be=>!(0,L.m5)(Be));if(_e.length===this._selectionCount)return _e[this._selectionIdx]}return ye}}}let Ie=class{constructor(ie,ye,_e){this._model=ie,this._selection=ye,this._languageConfigurationService=_e}resolve(ie){const{name:ye}=ie,_e=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),Be=this._languageConfigurationService.getLanguageConfiguration(_e).comments;if(Be){if("LINE_COMMENT"===ye)return Be.lineCommentToken||void 0;if("BLOCK_COMMENT_START"===ye)return Be.blockCommentStartToken||void 0;if("BLOCK_COMMENT_END"===ye)return Be.blockCommentEndToken||void 0}}};var ie;Ie=function(Ve,ie,ye,_e){var Ae,Be=arguments.length,Qe=Be<3?ie:null===_e?_e=Object.getOwnPropertyDescriptor(ie,ye):_e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Qe=Reflect.decorate(Ve,ie,ye,_e);else for(var pe=Ve.length-1;pe>=0;pe--)(Ae=Ve[pe])&&(Qe=(Be<3?Ae(Qe):Be>3?Ae(ie,ye,Qe):Ae(ie,ye))||Qe);return Be>3&&Qe&&Object.defineProperty(ie,ye,Qe),Qe}([(2,ie=x.c_,function(ye,_e){ie(ye,_e,2)})],Ie);class ee{constructor(){this._date=new Date}resolve(ie){const{name:ye}=ie;return"CURRENT_YEAR"===ye?String(this._date.getFullYear()):"CURRENT_YEAR_SHORT"===ye?String(this._date.getFullYear()).slice(-2):"CURRENT_MONTH"===ye?String(this._date.getMonth().valueOf()+1).padStart(2,"0"):"CURRENT_DATE"===ye?String(this._date.getDate().valueOf()).padStart(2,"0"):"CURRENT_HOUR"===ye?String(this._date.getHours().valueOf()).padStart(2,"0"):"CURRENT_MINUTE"===ye?String(this._date.getMinutes().valueOf()).padStart(2,"0"):"CURRENT_SECOND"===ye?String(this._date.getSeconds().valueOf()).padStart(2,"0"):"CURRENT_DAY_NAME"===ye?ee.dayNames[this._date.getDay()]:"CURRENT_DAY_NAME_SHORT"===ye?ee.dayNamesShort[this._date.getDay()]:"CURRENT_MONTH_NAME"===ye?ee.monthNames[this._date.getMonth()]:"CURRENT_MONTH_NAME_SHORT"===ye?ee.monthNamesShort[this._date.getMonth()]:"CURRENT_SECONDS_UNIX"===ye?String(Math.floor(this._date.getTime()/1e3)):void 0}}ee.dayNames=[E.NC("Sunday","Sunday"),E.NC("Monday","Monday"),E.NC("Tuesday","Tuesday"),E.NC("Wednesday","Wednesday"),E.NC("Thursday","Thursday"),E.NC("Friday","Friday"),E.NC("Saturday","Saturday")],ee.dayNamesShort=[E.NC("SundayShort","Sun"),E.NC("MondayShort","Mon"),E.NC("TuesdayShort","Tue"),E.NC("WednesdayShort","Wed"),E.NC("ThursdayShort","Thu"),E.NC("FridayShort","Fri"),E.NC("SaturdayShort","Sat")],ee.monthNames=[E.NC("January","January"),E.NC("February","February"),E.NC("March","March"),E.NC("April","April"),E.NC("May","May"),E.NC("June","June"),E.NC("July","July"),E.NC("August","August"),E.NC("September","September"),E.NC("October","October"),E.NC("November","November"),E.NC("December","December")],ee.monthNamesShort=[E.NC("JanuaryShort","Jan"),E.NC("FebruaryShort","Feb"),E.NC("MarchShort","Mar"),E.NC("AprilShort","Apr"),E.NC("MayShort","May"),E.NC("JuneShort","Jun"),E.NC("JulyShort","Jul"),E.NC("AugustShort","Aug"),E.NC("SeptemberShort","Sep"),E.NC("OctoberShort","Oct"),E.NC("NovemberShort","Nov"),E.NC("DecemberShort","Dec")];class ce{constructor(ie){this._workspaceService=ie}resolve(ie){if(!this._workspaceService)return;const ye=(0,Q.uT)(this._workspaceService.getWorkspace());if(ye){if("WORKSPACE_NAME"===ie.name)return this._resolveWorkspaceName(ye);if("WORKSPACE_FOLDER"===ie.name)return this._resoveWorkspacePath(ye)}}_resolveWorkspaceName(ie){if((0,Q.eb)(ie))return z.EZ(ie.uri.path);let ye=z.EZ(ie.configPath.path);return ye.endsWith(Q.A6)&&(ye=ye.substr(0,ye.length-Q.A6.length-1)),ye}_resoveWorkspacePath(ie){if((0,Q.eb)(ie))return W(ie.uri.fsPath);const ye=z.EZ(ie.configPath.path);let _e=ie.configPath.fsPath;return _e.endsWith(ye)&&(_e=_e.substr(0,_e.length-ye.length-1)),_e?W(_e):"/"}}class he{resolve(ie){const{name:ye}=ie;return"RANDOM"===ye?Math.random().toString().slice(-6):"RANDOM_HEX"===ye?Math.random().toString(16).slice(-6):"UUID"===ye?(0,Y.R)():void 0}}class re{constructor(ie,ye,_e){this._editor=ie,this._snippet=ye,this._snippetLineLeadingWhitespace=_e,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,f.vM)(ye.placeholders,Z.Vm.compareByIndex),this._placeholderGroupsIdx=-1}initialize(ie){this._offset=ie.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(-1===this._offset)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const ie=this._editor.getModel();this._editor.changeDecorations(ye=>{for(const _e of this._snippet.placeholders){const Be=this._snippet.offset(_e),Qe=this._snippet.fullLen(_e),Ae=S.e.fromPositions(ie.getPositionAt(this._offset+Be),ie.getPositionAt(this._offset+Be+Qe)),De=ye.addDecoration(Ae,_e.isFinalTabstop?re._decor.inactiveFinal:re._decor.inactive);this._placeholderDecorations.set(_e,De)}})}move(ie){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const Be=[];for(const Qe of this._placeholderGroups[this._placeholderGroupsIdx])if(Qe.transform){const Ae=this._placeholderDecorations.get(Qe),pe=this._editor.getModel().getDecorationRange(Ae),De=this._editor.getModel().getValueInRange(pe),Oe=Qe.transform.resolve(De).split(/\r\n|\r|\n/);for(let Ne=1;Ne<Oe.length;Ne++)Oe[Ne]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+Oe[Ne]);Be.push(y.h.replace(pe,Oe.join(this._editor.getModel().getEOL())))}Be.length>0&&this._editor.executeEdits("snippet.placeholderTransform",Be)}let ye=!1;!0===ie&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,ye=!0):!1===ie&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,ye=!0);const _e=this._editor.getModel().changeDecorations(Be=>{const Qe=new Set,Ae=[];for(const pe of this._placeholderGroups[this._placeholderGroupsIdx]){const De=this._placeholderDecorations.get(pe),Oe=this._editor.getModel().getDecorationRange(De);Ae.push(new b.Y(Oe.startLineNumber,Oe.startColumn,Oe.endLineNumber,Oe.endColumn)),ye=ye&&this._hasPlaceholderBeenCollapsed(pe),Be.changeDecorationOptions(De,pe.isFinalTabstop?re._decor.activeFinal:re._decor.active),Qe.add(pe);for(const Ne of this._snippet.enclosingPlaceholders(pe)){const ne=this._placeholderDecorations.get(Ne);Be.changeDecorationOptions(ne,Ne.isFinalTabstop?re._decor.activeFinal:re._decor.active),Qe.add(Ne)}}for(const[pe,De]of this._placeholderDecorations)Qe.has(pe)||Be.changeDecorationOptions(De,pe.isFinalTabstop?re._decor.inactiveFinal:re._decor.inactive);return Ae});return ye?this.move(ie):null!=_e?_e:[]}_hasPlaceholderBeenCollapsed(ie){let ye=ie;for(;ye;){if(ye instanceof Z.Vm){const _e=this._placeholderDecorations.get(ye);if(this._editor.getModel().getDecorationRange(_e).isEmpty()&&ye.toString().length>0)return!0}ye=ye.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){return 0===this._snippet.placeholders.length||1===this._snippet.placeholders.length&&this._snippet.placeholders[0].isFinalTabstop}computePossibleSelections(){const ie=new Map;for(const ye of this._placeholderGroups){let _e;for(const Be of ye){if(Be.isFinalTabstop)break;_e||(_e=[],ie.set(Be.index,_e));const Qe=this._placeholderDecorations.get(Be),Ae=this._editor.getModel().getDecorationRange(Qe);if(!Ae){ie.delete(Be.index);break}_e.push(Ae)}}return ie}get activeChoice(){if(!this._placeholderDecorations)return;const ie=this._placeholderGroups[this._placeholderGroupsIdx][0];if(null==ie||!ie.choice)return;const ye=this._placeholderDecorations.get(ie);if(!ye)return;const _e=this._editor.getModel().getDecorationRange(ye);return _e?{range:_e,choice:ie.choice}:void 0}get hasChoice(){let ie=!1;return this._snippet.walk(ye=>(ie=ye instanceof Z.Lv,!ie)),ie}merge(ie){const ye=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(_e=>{for(const Be of this._placeholderGroups[this._placeholderGroupsIdx]){const Qe=ie.shift();console.assert(-1!==Qe._offset),console.assert(!Qe._placeholderDecorations);const Ae=Qe._snippet.placeholderInfo.last.index;for(const De of Qe._snippet.placeholderInfo.all)De.index=De.isFinalTabstop?Be.index+(Ae+1)/this._nestingLevel:Be.index+De.index/this._nestingLevel;this._snippet.replace(Be,Qe._snippet.children);const pe=this._placeholderDecorations.get(Be);_e.removeDecoration(pe),this._placeholderDecorations.delete(Be);for(const De of Qe._snippet.placeholders){const Oe=Qe._snippet.offset(De),Ne=Qe._snippet.fullLen(De),ne=S.e.fromPositions(ye.getPositionAt(Qe._offset+Oe),ye.getPositionAt(Qe._offset+Oe+Ne)),xe=_e.addDecoration(ne,re._decor.inactive);this._placeholderDecorations.set(De,xe)}}this._placeholderGroups=(0,f.vM)(this._snippet.placeholders,Z.Vm.compareByIndex)})}}re._decor={active:T.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:T.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:T.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:T.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const Se={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let Pe=class fs{constructor(ie,ye,_e=Se,Be){this._editor=ie,this._template=ye,this._options=_e,this._languageConfigurationService=Be,this._templateMerges=[],this._snippets=[]}static adjustWhitespace(ie,ye,_e,Be,Qe){const Ae=ie.getLineContent(ye.lineNumber),pe=(0,L.V8)(Ae,0,ye.column-1);let De;return _e.walk(Oe=>{if(!(Oe instanceof Z.xv)||Oe.parent instanceof Z.Lv)return!0;const Ne=Oe.value.split(/\r\n|\r|\n/);if(Be){const xe=_e.offset(Oe);if(0===xe)Ne[0]=ie.normalizeIndentation(Ne[0]);else{De=null!=De?De:_e.toString();const Je=De.charCodeAt(xe-1);(10===Je||13===Je)&&(Ne[0]=ie.normalizeIndentation(pe+Ne[0]))}for(let Je=1;Je<Ne.length;Je++)Ne[Je]=ie.normalizeIndentation(pe+Ne[Je])}const ne=Ne.join(ie.getEOL());return ne!==Oe.value&&(Oe.parent.replace(Oe,[new Z.xv(ne)]),De=void 0),!0}),pe}static adjustSelection(ie,ye,_e,Be){if(0!==_e||0!==Be){const{positionLineNumber:Qe,positionColumn:Ae}=ye,Oe=ie.validateRange({startLineNumber:Qe,startColumn:Ae-_e,endLineNumber:Qe,endColumn:Ae+Be});ye=b.Y.createWithDirection(Oe.startLineNumber,Oe.startColumn,Oe.endLineNumber,Oe.endColumn,ye.getDirection())}return ye}static createEditsAndSnippetsFromSelections(ie,ye,_e,Be,Qe,Ae,pe,De,Oe){const Ne=[],ne=[];if(!ie.hasModel())return{edits:Ne,snippets:ne};const xe=ie.getModel(),Je=ie.invokeWithinContext(et=>et.get(Q.ec)),gt=ie.invokeWithinContext(et=>new be(et.get(R.e),xe)),lt=()=>pe,Ke=xe.getValueInRange(fs.adjustSelection(xe,ie.getSelection(),_e,0)),He=xe.getValueInRange(fs.adjustSelection(xe,ie.getSelection(),0,Be)),Ue=xe.getLineFirstNonWhitespaceColumn(ie.getSelection().positionLineNumber),ot=ie.getSelections().map((et,Ze)=>({selection:et,idx:Ze})).sort((et,Ze)=>S.e.compareRangesUsingStarts(et.selection,Ze.selection));for(const{selection:et,idx:Ze}of ot){let Mt=fs.adjustSelection(xe,et,_e,0),Nt=fs.adjustSelection(xe,et,0,Be);Ke!==xe.getValueInRange(Mt)&&(Mt=et),He!==xe.getValueInRange(Nt)&&(Nt=et);const ze=et.setStartPosition(Mt.startLineNumber,Mt.startColumn).setEndPosition(Nt.endLineNumber,Nt.endColumn),dt=(new Z.Yj).parse(ye,!0,Qe),$t=ze.getStartPosition(),hn=fs.adjustWhitespace(xe,$t,dt,Ae||Ze>0&&Ue!==xe.getLineFirstNonWhitespaceColumn(et.positionLineNumber),!0);dt.resolveVariables(new w([gt,new me(lt,Ze,ot.length,"spread"===ie.getOption(73)),new fe(xe,et,Ze,De),new Ie(xe,et,Oe),new ee,new ce(Je),new he])),Ne[Ze]=y.h.replace(ze,dt.toString()),Ne[Ze].identifier={major:Ze,minor:0},Ne[Ze]._isTracked=!0,ne[Ze]=new re(ie,dt,hn)}return{edits:Ne,snippets:ne}}static createEditsAndSnippetsFromEdits(ie,ye,_e,Be,Qe,Ae,pe){if(!ie.hasModel()||0===ye.length)return{edits:[],snippets:[]};const De=[],Oe=ie.getModel(),Ne=new Z.Yj,ne=new Z.y1,xe=new w([ie.invokeWithinContext(gt=>new be(gt.get(R.e),Oe)),new me(()=>Qe,0,ie.getSelections().length,"spread"===ie.getOption(73)),new fe(Oe,ie.getSelection(),0,Ae),new Ie(Oe,ie.getSelection(),pe),new ee,new ce(ie.invokeWithinContext(gt=>gt.get(Q.ec))),new he]);ye=ye.sort((gt,lt)=>S.e.compareRangesUsingStarts(gt.range,lt.range));let Je=0;for(let gt=0;gt<ye.length;gt++){const{range:lt,template:Ke}=ye[gt];if(gt>0){const Ze=S.e.fromPositions(ye[gt-1].range.getEndPosition(),lt.getStartPosition()),Mt=new Z.xv(Oe.getValueInRange(Ze));ne.appendChild(Mt),Je+=Mt.value.length}Ne.parseFragment(Ke,ne),ne.resolveVariables(xe);const He=ne.toString(),Ue=He.slice(Je);Je=He.length;const ot=y.h.replace(lt,Ue);ot.identifier={major:gt,minor:0},ot._isTracked=!0,De.push(ot)}return Ne.ensureFinalTabstop(ne,_e,!0),{edits:De,snippets:[new re(ie,ne,"")]}}dispose(){(0,s.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:ie,snippets:ye}="string"==typeof this._template?fs.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):fs.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=ye,this._editor.executeEdits("snippet",ie,_e=>{const Be=_e.filter(Qe=>!!Qe.identifier);for(let Qe=0;Qe<ye.length;Qe++)ye[Qe].initialize(Be[Qe].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):Be.map(Qe=>b.Y.fromPositions(Qe.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(ie,ye=Se){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,ie]);const{edits:_e,snippets:Be}=fs.createEditsAndSnippetsFromSelections(this._editor,ie,ye.overwriteBefore,ye.overwriteAfter,!0,ye.adjustWhitespace,ye.clipboardText,ye.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",_e,Qe=>{const Ae=Qe.filter(De=>!!De.identifier);for(let De=0;De<Be.length;De++)Be[De].initialize(Ae[De].textChange);const pe=Be[0].isTrivialSnippet;if(!pe){for(const De of this._snippets)De.merge(Be);console.assert(0===Be.length)}return this._snippets[0].hasPlaceholder&&!pe?this._move(void 0):Ae.map(De=>b.Y.fromPositions(De.range.getEndPosition()))})}next(){const ie=this._move(!0);this._editor.setSelections(ie),this._editor.revealPositionInCenterIfOutsideViewport(ie[0].getPosition())}prev(){const ie=this._move(!1);this._editor.setSelections(ie),this._editor.revealPositionInCenterIfOutsideViewport(ie[0].getPosition())}_move(ie){const ye=[];for(const _e of this._snippets){const Be=_e.move(ie);ye.push(...Be)}return ye}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const ie=this._editor.getSelections();if(ie.length<this._snippets.length)return!1;const ye=new Map;for(const _e of this._snippets){const Be=_e.computePossibleSelections();if(0===ye.size)for(const[Qe,Ae]of Be){Ae.sort(S.e.compareRangesUsingStarts);for(const pe of ie)if(Ae[0].containsRange(pe)){ye.set(Qe,[]);break}}if(0===ye.size)return!1;ye.forEach((Qe,Ae)=>{Qe.push(...Be.get(Ae))})}ie.sort(S.e.compareRangesUsingStarts);for(const[_e,Be]of ye)if(Be.length===ie.length){Be.sort(S.e.compareRangesUsingStarts);for(let Qe=0;Qe<Be.length;Qe++)if(!Be[Qe].containsRange(ie[Qe])){ye.delete(_e);continue}}else ye.delete(_e);return ye.size>0}};Pe=function(Ve,ie,ye,_e){var Ae,Be=arguments.length,Qe=Be<3?ie:null===_e?_e=Object.getOwnPropertyDescriptor(ie,ye):_e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Qe=Reflect.decorate(Ve,ie,ye,_e);else for(var pe=Ve.length-1;pe>=0;pe--)(Ae=Ve[pe])&&(Qe=(Be<3?Ae(Qe):Be>3?Ae(ie,ye,Qe):Ae(ie,ye))||Qe);return Be>3&&Qe&&Object.defineProperty(ie,ye,Qe),Qe}([function(Ve,ie){return function(ye,_e){ie(ye,_e,3)}}(0,x.c_)],Pe)},49479:(at,ue,e)=>{"use strict";e.r(ue);var l,f=e(52425),s=e(95172),L=e(37464),M=e(60741),u=e(80152),P=e(58059),A=e(68511),k=e(26046),N=e(94500),_=e(63072),a=e(94220),n=function(y,S,b,x){return new(b||(b=Promise))(function(R,Q){function Z(W){try{F(x.next(W))}catch(B){Q(B)}}function G(W){try{F(x.throw(W))}catch(B){Q(B)}}function F(W){W.done?R(W.value):function T(R){return R instanceof b?R:new b(function(Q){Q(R)})}(W.value).then(Z,G)}F((x=x.apply(y,S||[])).next())})};let v=class extends f.JT{constructor(S,b){super(),this._sessionStore=new f.SL,this._ranges=[],this._rangesVersionId=0,this._editor=S,this._languageFeaturesService=b,this.stickyScrollWidget=new I(this._editor),this._register(this._editor.onDidChangeConfiguration(x=>{x.hasChanged(34)&&this.onConfigurationChange()})),this._updateSoon=this._register(new _.pY(()=>this._update(!0),50)),this.onConfigurationChange()}onConfigurationChange(){if(!1===this._editor.getOption(34).stickyScroll.enabled)return this.stickyScrollWidget.emptyRootNode(),this._editor.removeOverlayWidget(this.stickyScrollWidget),void this._sessionStore.clear();this._editor.addOverlayWidget(this.stickyScrollWidget),this._sessionStore.add(this._editor.onDidChangeModel(()=>this._update(!0))),this._sessionStore.add(this._editor.onDidScrollChange(()=>this._update(!1))),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this._update(!0))),this._sessionStore.add(this._editor.onDidChangeModelTokens(b=>this._onTokensChange(b))),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this._update(!0))),this._update(!0)}_needsUpdate(S){const b=this.stickyScrollWidget.getCurrentLines();for(const x of b)for(const T of S.ranges)if(x>=T.fromLineNumber&&x<=T.toLineNumber)return!0;return!1}_onTokensChange(S){this._needsUpdate(S)&&this._update(!1)}_update(S=!1){var b,x;return n(this,void 0,void 0,function*(){S&&(null===(b=this._cts)||void 0===b||b.dispose(!0),this._cts=new u.A,yield this._updateOutlineModel(this._cts.token));const T=null===(x=this._editor._getViewModel())||void 0===x?void 0:x.getHiddenAreas();if(T)for(const R of T)this._ranges=this._ranges.filter(Q=>!(Q[0]>=R.startLineNumber&&Q[1]<=R.endLineNumber+1));this._renderStickyScroll()})}_findLineRanges(S,b){if(null!=S&&S.children.size){let x=!1;for(const T of null==S?void 0:S.children.values()){const R=T.symbol.kind;(4===R||8===R||11===R||10===R||5===R||1===R)&&(x=!0,this._findLineRanges(T,b+1))}x||this._addOutlineRanges(S,b)}else this._addOutlineRanges(S,b)}_addOutlineRanges(S,b){let x=0,T=0;for(;S;){const R=S.symbol.kind;if((4===R||8===R||11===R||10===R||5===R||1===R)&&(x=null==S?void 0:S.symbol.range.startLineNumber,T=null==S?void 0:S.symbol.range.endLineNumber,this._ranges.push([x,T,b]),b--),!(S.parent instanceof M.sT))break;S=S.parent}}_updateOutlineModel(S){return n(this,void 0,void 0,function*(){if(this._editor.hasModel()){const b=this._editor.getModel(),x=b.getVersionId(),T=yield M.C3.create(this._languageFeaturesService.documentSymbolProvider,b,S);if(S.isCancellationRequested)return;this._ranges=[],this._rangesVersionId=x;for(const R of T.children.values()){if(R instanceof M.sT){const Z=R.symbol.kind;this._findLineRanges(R,4===Z||8===Z||11===Z||10===Z||5===Z||1===Z?1:0)}this._ranges=this._ranges.sort(function(Z,G){return Z[0]!==G[0]?Z[0]-G[0]:Z[1]!==G[1]?G[1]-Z[1]:Z[2]-G[2]});let Q=[];for(const[Z,G]of this._ranges.entries()){const[F,W,B]=G;Q[0]===F&&Q[1]===W?this._ranges.splice(Z,1):Q=G}}}})}_renderStickyScroll(){if(!this._editor.hasModel())return;const S=this._editor.getOption(61),b=this._editor.getModel();if(this._rangesVersionId!==b.getVersionId())return;const x=this._editor.getScrollTop();this.stickyScrollWidget.emptyRootNode();const T=new Set;for(const[R,Q]of this._ranges.entries()){const[Z,G,F]=Q;if(G-Z>0&&""!==b.getLineContent(Z)){const W=(F-1)*S,B=F*S,z=this._editor.getBottomForLineNumber(Z)-x,j=this._editor.getTopForLineNumber(G)-x,Y=this._editor.getBottomForLineNumber(G)-x;if(T.has(Z))this._ranges.splice(R,1);else{if(W>=j-1&&W<Y-2){T.add(Z),this.stickyScrollWidget.pushCodeLine(new m(Z,F,this._editor,-1,Y-B));break}B>z&&B<Y-1&&(T.add(Z),this.stickyScrollWidget.pushCodeLine(new m(Z,F,this._editor,0,0)))}}}this.stickyScrollWidget.updateRootNode()}dispose(){super.dispose(),this._sessionStore.dispose()}};var S;v.ID="store.contrib.stickyScrollController",v=function(y,S,b,x){var Q,T=arguments.length,R=T<3?S:null===x?x=Object.getOwnPropertyDescriptor(S,b):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(y,S,b,x);else for(var Z=y.length-1;Z>=0;Z--)(Q=y[Z])&&(R=(T<3?Q(R):T>3?Q(S,b,R):Q(S,b))||R);return T>3&&R&&Object.defineProperty(S,b,R),R}([(1,S=L.p,function(b,x){S(b,x,1)})],v);const d=null===(l=window.trustedTypes)||void 0===l?void 0:l.createPolicy("stickyScrollViewLayer",{createHTML:y=>y});class m{constructor(S,b,x,T,R){this._lineNumber=S,this._depth=b,this._editor=x,this._zIndex=T,this._relativePosition=R,this.effectiveLineHeight=0,this.effectiveLineHeight=this._editor.getOption(61)+this._relativePosition}get lineNumber(){return this._lineNumber}getDomNode(){const S=document.createElement("div"),b=this._editor._getViewModel(),x=b.coordinatesConverter.convertModelPositionToViewPosition(new a.L(this._lineNumber,1)).lineNumber,T=b.getViewLineRenderingData(x);let R;try{R=N.Kp.filter(T.inlineDecorations,x,T.minColumn,T.maxColumn)}catch(z){R=[]}const Q=new k.IJ(!0,!0,T.content,T.continuesWithWrappedLine,T.isBasicASCII,T.containsRTL,0,T.tokens,R,T.tabSize,T.startVisibleColumn,1,1,1,100,"none",!0,!0,null),Z=(0,A.l$)(400);let G;(0,k.d1)(Q,Z),G=d?d.createHTML(Z.build()):Z.build();const F=document.createElement("span");F.style.backgroundColor="var(--vscode-editorStickyScroll-background)",F.style.overflow="hidden",F.style.whiteSpace="nowrap",F.style.display="inline-block",F.style.lineHeight=this._editor.getOption(61).toString()+"px",F.innerHTML=G;const W=document.createElement("span");W.style.width=this._editor.getLayoutInfo().contentLeft.toString()+"px",W.style.backgroundColor="var(--vscode-editorStickyScroll-background)",W.style.color="var(--vscode-editorLineNumber-foreground)",W.style.display="inline-block",W.style.lineHeight=this._editor.getOption(61).toString()+"px";const B=document.createElement("span");return B.innerText=this._lineNumber.toString(),B.style.paddingLeft=this._editor.getLayoutInfo().lineNumbersLeft.toString()+"px",B.style.width=this._editor.getLayoutInfo().lineNumbersWidth.toString()+"px",B.style.backgroundColor="var(--vscode-editorStickyScroll-background)",B.style.textAlign="right",B.style.float="left",B.style.lineHeight=this._editor.getOption(61).toString()+"px",W.appendChild(B),S.onclick=z=>{z.stopPropagation(),z.preventDefault(),this._editor.revealPosition({lineNumber:this._lineNumber-this._depth+1,column:1})},S.onmouseover=z=>{B.style.background="var(--vscode-editorStickyScrollHover-background)",F.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",W.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",S.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",B.style.cursor="pointer",F.style.cursor="pointer",S.style.cursor="pointer",W.style.cursor="pointer"},S.onmouseleave=z=>{B.style.background="var(--vscode-editorStickyScroll-background)",F.style.backgroundColor="var(--vscode-editorStickyScroll-background)",W.style.backgroundColor="var(--vscode-editorStickyScroll-background)",S.style.backgroundColor="var(--vscode-editorStickyScroll-background)"},this._editor.applyFontInfo(F),this._editor.applyFontInfo(B),S.appendChild(W),S.appendChild(F),S.style.zIndex=this._zIndex.toString(),S.style.backgroundColor="var(--vscode-editorStickyScroll-background)",S.style.overflow="hidden",S.style.whiteSpace="nowrap",S.style.width="100%",S.style.lineHeight=this._editor.getOption(61).toString()+"px",S.style.height=this._editor.getOption(61).toString()+"px",this._relativePosition&&(S.style.position="relative",S.style.top=this._relativePosition+"px",S.style.width="100%"),S}}class I{constructor(S){this._editor=S,this.arrayOfCodeLines=[],this.rootDomNode=document.createElement("div"),this.rootDomNode=document.createElement("div"),this.rootDomNode.style.width="100%",this.rootDomNode.style.boxShadow="var(--vscode-scrollbar-shadow) 0 6px 6px -6px"}getCurrentLines(){const S=[];for(const b of this.arrayOfCodeLines)S.push(b.lineNumber);return S}pushCodeLine(S){this.arrayOfCodeLines.push(S)}updateRootNode(){let S=0;for(const b of this.arrayOfCodeLines)S+=b.effectiveLineHeight,this.rootDomNode.appendChild(b.getDomNode());this.rootDomNode.style.height=S.toString()+"px"}emptyRootNode(){this.arrayOfCodeLines.length=0,P.PO(this.rootDomNode)}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this.rootDomNode.style.zIndex="2",this.rootDomNode.style.backgroundColor="var(--vscode-editorStickyScroll-background)",this.rootDomNode}getPosition(){return{preference:null}}}(0,s._K)(v.ID,v)},31452:(at,ue,e)=>{"use strict";e.d(ue,{_:()=>u,t:()=>M});var f=e(18337),s=e(81979),L=e(93059);class M{constructor(A,k){this.leadingLineContent=A,this.characterCountDelta=k}}class u{constructor(A,k,N,_,a,p,c=s.mX.default,n){this.clipboardText=n,this._snippetCompareFn=u._compareCompletionItems,this._items=A,this._column=k,this._wordDistance=_,this._options=a,this._refilterKind=1,this._lineContext=N,this._fuzzyScoreOptions=c,"top"===p?this._snippetCompareFn=u._compareCompletionItemsSnippetsUp:"bottom"===p&&(this._snippetCompareFn=u._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(A){(this._lineContext.leadingLineContent!==A.leadingLineContent||this._lineContext.characterCountDelta!==A.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<A.characterCountDelta&&this._filteredItems?2:1,this._lineContext=A)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const A=new Set;for(const[k,N]of this._providerInfo)N&&A.add(k);return A}adopt(A){const k=[];for(let N=0;N<this._items.length;)A.has(this._items[N].provider)?N++:(k.push(this._items[N]),this._items[N]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,k}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){0!==this._refilterKind&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const A=[],{leadingLineContent:k,characterCountDelta:N}=this._lineContext;let _="",a="";const p=1===this._refilterKind?this._items:this._filteredItems,c=[],n=!this._options.filterGraceful||p.length>2e3?s.EW:s.l7;for(let l=0;l<p.length;l++){const v=p[l];if(v.isInvalid)continue;this._providerInfo.set(v.provider,Boolean(v.container.incomplete));const d=v.position.column-v.editStart.column,m=d+N-(v.position.column-this._column);if(_.length!==m&&(_=0===m?"":k.slice(-m),a=_.toLowerCase()),v.word=_,0===m)v.score=s.CL.Default;else{let I=0;for(;I<d;){const y=_.charCodeAt(I);if(32!==y&&9!==y)break;I+=1}if(I>=m)v.score=s.CL.Default;else if("string"==typeof v.completion.filterText){const y=n(_,a,I,v.completion.filterText,v.filterTextLow,0,this._fuzzyScoreOptions);if(!y)continue;0===(0,L.zY)(v.completion.filterText,v.textLabel)?v.score=y:(v.score=(0,s.jB)(_,a,I,v.textLabel,v.labelLow,0),v.score[0]=y[0])}else{const y=n(_,a,I,v.textLabel,v.labelLow,0,this._fuzzyScoreOptions);if(!y)continue;v.score=y}}v.idx=l,v.distance=this._wordDistance.distance(v.position,v.completion),c.push(v),A.push(v.textLabel.length)}this._filteredItems=c.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:A.length?(0,f.HW)(A.length-.85,A,(l,v)=>l-v):0}}static _compareCompletionItems(A,k){return A.score[0]>k.score[0]?-1:A.score[0]<k.score[0]?1:A.distance<k.distance?-1:A.distance>k.distance?1:A.idx<k.idx?-1:A.idx>k.idx?1:0}static _compareCompletionItemsSnippetsDown(A,k){if(A.completion.kind!==k.completion.kind){if(27===A.completion.kind)return 1;if(27===k.completion.kind)return-1}return u._compareCompletionItems(A,k)}static _compareCompletionItemsSnippetsUp(A,k){if(A.completion.kind!==k.completion.kind){if(27===A.completion.kind)return-1;if(27===k.completion.kind)return 1}return u._compareCompletionItems(A,k)}}},42094:(at,ue,e)=>{"use strict";e.d(ue,{A9:()=>b,GI:()=>y,ZJ:()=>T,_y:()=>I,i5:()=>z,kL:()=>Q,tG:()=>j,wg:()=>B});var f=e(80152),s=e(53663),L=e(81979),M=e(52425),u=e(41724),P=e(54435),A=e(74672),k=e(94220),N=e(68451),_=e(87424),a=e(65676),p=e(40402),c=e(61004),n=e(23884),l=e(59776),v=e(37464),d=e(66855),m=function(Y,E,V,$){return new(V||(V=Promise))(function(w,fe){function be(ee){try{Ie($.next(ee))}catch(ce){fe(ce)}}function me(ee){try{Ie($.throw(ee))}catch(ce){fe(ce)}}function Ie(ee){ee.done?w(ee.value):function te(w){return w instanceof V?w:new V(function(fe){fe(w)})}(ee.value).then(be,me)}Ie(($=$.apply(Y,E||[])).next())})};const I={Visible:d.iX,HasFocusedSuggestion:new l.uy("suggestWidgetHasFocusedSuggestion",!1,(0,p.NC)("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new l.uy("suggestWidgetDetailsVisible",!1,(0,p.NC)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new l.uy("suggestWidgetMultipleSuggestions",!1,(0,p.NC)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new l.uy("suggestionMakesTextEdit",!0,(0,p.NC)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new l.uy("acceptSuggestionOnEnter",!0,(0,p.NC)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new l.uy("suggestionHasInsertAndReplaceRange",!1,(0,p.NC)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new l.uy("suggestionInsertMode",void 0,{type:"string",description:(0,p.NC)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new l.uy("suggestionCanResolve",!1,(0,p.NC)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},y=new c.eH("suggestWidgetStatusBar");class S{constructor(E,V,$,te){this.position=E,this.completion=V,this.container=$,this.provider=te,this.isInvalid=!1,this.score=L.CL.Default,this.distance=0,this.textLabel="string"==typeof V.label?V.label:V.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=V.sortText&&V.sortText.toLowerCase(),this.filterTextLow=V.filterText&&V.filterText.toLowerCase(),this.extensionId=V.extensionId,N.e.isIRange(V.range)?(this.editStart=new k.L(V.range.startLineNumber,V.range.startColumn),this.editInsertEnd=new k.L(V.range.endLineNumber,V.range.endColumn),this.editReplaceEnd=new k.L(V.range.endLineNumber,V.range.endColumn),this.isInvalid=this.isInvalid||N.e.spansMultipleLines(V.range)||V.range.startLineNumber!==E.lineNumber):(this.editStart=new k.L(V.range.insert.startLineNumber,V.range.insert.startColumn),this.editInsertEnd=new k.L(V.range.insert.endLineNumber,V.range.insert.endColumn),this.editReplaceEnd=new k.L(V.range.replace.endLineNumber,V.range.replace.endColumn),this.isInvalid=this.isInvalid||N.e.spansMultipleLines(V.range.insert)||N.e.spansMultipleLines(V.range.replace)||V.range.insert.startLineNumber!==E.lineNumber||V.range.replace.startLineNumber!==E.lineNumber||V.range.insert.startColumn!==V.range.replace.startColumn),"function"!=typeof te.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(E){return m(this,void 0,void 0,function*(){if(!this._resolveCache){const V=E.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,E)).then($=>{Object.assign(this.completion,$),this._isResolved=!0,V.dispose()},$=>{(0,s.n2)($)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class b{constructor(E=2,V=new Set,$=new Set,te=!0){this.snippetSortOrder=E,this.kindFilter=V,this.providerFilter=$,this.showDeprecated=te}}function T(){}b.default=new b;class R{constructor(E,V,$,te){this.items=E,this.needsClipboard=V,this.durations=$,this.disposable=te}}function Q(Y,E,V,$=b.default,te={triggerKind:0},w=f.T.None){return m(this,void 0,void 0,function*(){const fe=new u.G(!0);V=V.clone();const be=E.getWordAtPosition(V),me=be?new N.e(V.lineNumber,be.startColumn,V.lineNumber,be.endColumn):N.e.fromPositions(V),Ie={replace:me,insert:me.setEndPosition(V.lineNumber,V.column)},ee=[],ce=new M.SL,he=[];let de=!1;const ge=(Se,Pe,Ve)=>{var ie,ye,_e;let Be=!1;if(!Pe)return Be;for(const Qe of Pe.suggestions)if(!$.kindFilter.has(Qe.kind)){if(!$.showDeprecated&&(null===(ie=null==Qe?void 0:Qe.tags)||void 0===ie?void 0:ie.includes(1)))continue;Qe.range||(Qe.range=Ie),Qe.sortText||(Qe.sortText="string"==typeof Qe.label?Qe.label:Qe.label.label),!de&&Qe.insertTextRules&&4&Qe.insertTextRules&&(de=a.Yj.guessNeedsClipboard(Qe.insertText)),ee.push(new S(V,Qe,Pe,Se)),Be=!0}return(0,M.Wf)(Pe)&&ce.add(Pe),he.push({providerName:null!==(ye=Se._debugDisplayName)&&void 0!==ye?ye:"unknown_provider",elapsedProvider:null!==(_e=Pe.duration)&&void 0!==_e?_e:-1,elapsedOverall:Ve.elapsed()}),Be},re=(()=>m(this,void 0,void 0,function*(){}))();for(const Se of Y.orderedGroups(E)){let Pe=!1;if(yield Promise.all(Se.map(Ve=>m(this,void 0,void 0,function*(){if(!($.providerFilter.size>0)||$.providerFilter.has(Ve))try{const ie=new u.G(!0),ye=yield Ve.provideCompletionItems(E,V,te,w);Pe=ge(Ve,ye,ie)||Pe}catch(ie){(0,s.Cp)(ie)}}))),Pe||w.isCancellationRequested)break}return yield re,w.isCancellationRequested?(ce.dispose(),Promise.reject(new s.FU)):new R(ee.sort(B($.snippetSortOrder)),de,{entries:he,elapsed:fe.elapsed()},ce)})}function Z(Y,E){if(Y.sortTextLow&&E.sortTextLow){if(Y.sortTextLow<E.sortTextLow)return-1;if(Y.sortTextLow>E.sortTextLow)return 1}return Y.textLabel<E.textLabel?-1:Y.textLabel>E.textLabel?1:Y.completion.kind-E.completion.kind}const W=new Map;function B(Y){return W.get(Y)}function z(Y,E){var V;null===(V=Y.getContribution("editor.contrib.suggestController"))||void 0===V||V.triggerSuggest((new Set).add(E),void 0,!0)}W.set(0,function G(Y,E){if(Y.completion.kind!==E.completion.kind){if(27===Y.completion.kind)return-1;if(27===E.completion.kind)return 1}return Z(Y,E)}),W.set(2,function F(Y,E){if(Y.completion.kind!==E.completion.kind){if(27===Y.completion.kind)return 1;if(27===E.completion.kind)return-1}return Z(Y,E)}),W.set(1,Z),n.P0.registerCommand("_executeCompletionItemProvider",(Y,...E)=>m(void 0,void 0,void 0,function*(){const[V,$,te,w]=E;(0,P.p_)(A.o.isUri(V)),(0,P.p_)(k.L.isIPosition($)),(0,P.p_)("string"==typeof te||!te),(0,P.p_)("number"==typeof w||!w);const{completionProvider:fe}=Y.get(v.p),be=yield Y.get(_.S).createModelReference(V);try{const me={incomplete:!1,suggestions:[]},Ie=[],ee=yield Q(fe,be.object.textEditorModel,k.L.lift($),void 0,{triggerCharacter:te,triggerKind:te?1:0});for(const ce of ee.items)Ie.length<(null!=w?w:0)&&Ie.push(ce.resolve(f.T.None)),me.incomplete=me.incomplete||ce.container.incomplete,me.suggestions.push(ce.completion);try{return yield Promise.all(Ie),me}finally{setTimeout(()=>ee.disposable.dispose(),100)}}finally{be.dispose()}}));class j{static isAllOff(E){return"off"===E.other&&"off"===E.comments&&"off"===E.strings}static isAllOn(E){return"on"===E.other&&"on"===E.comments&&"on"===E.strings}static valueFor(E,V){switch(V){case 1:return E.comments;case 2:return E.strings;default:return E.other}}}},67471:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{SuggestController:()=>$e,TriggerSuggestAction:()=>Bt});var f=e(71578),s=e(18337),L=e(63072),M=e(80152),u=e(53663),P=e(52787),A=e(5016),k=e(52425),N=e(38972),_=e(41724),a=e(54435),p=e(11210),c=e(95172),n=e(12033),l=e(94220),v=e(68451),d=e(29584),m=e(76295),I=e(65676),y=e(30277),S=e(59776);let T=class tc{constructor(Ge,ct){this._editor=Ge,this._enabled=!1,this._ckAtEnd=tc.AtEnd.bindTo(ct),this._configListener=this._editor.onDidChangeConfiguration(St=>St.hasChanged(113)&&this._update()),this._update()}dispose(){var Ge;this._configListener.dispose(),null===(Ge=this._selectionListener)||void 0===Ge||Ge.dispose(),this._ckAtEnd.reset()}_update(){const Ge="on"===this._editor.getOption(113);if(this._enabled!==Ge)if(this._enabled=Ge,this._enabled){const ct=()=>{if(!this._editor.hasModel())return void this._ckAtEnd.set(!1);const St=this._editor.getModel(),It=this._editor.getSelection(),Zt=St.getWordAtPosition(It.getStartPosition());this._ckAtEnd.set(!!Zt&&Zt.endColumn===It.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(ct),ct()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};var Ge;T.AtEnd=new S.uy("atEndOfWord",!1),T=function(Kt,Ge,ct,St){var Ht,It=arguments.length,Zt=It<3?Ge:null===St?St=Object.getOwnPropertyDescriptor(Ge,ct):St;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Zt=Reflect.decorate(Kt,Ge,ct,St);else for(var Pt=Kt.length-1;Pt>=0;Pt--)(Ht=Kt[Pt])&&(Zt=(It<3?Ht(Zt):It>3?Ht(Ge,ct,Zt):Ht(Ge,ct))||Zt);return It>3&&Zt&&Object.defineProperty(Ge,ct,Zt),Zt}([(1,Ge=S.i6,function(ct,St){Ge(ct,St,1)})],T);var R=e(40402),Q=e(23884),Z=e(64725),G=e(42241),F=e(42094);let z=class $a{constructor(Ge,ct){this._editor=Ge,this._index=0,this._ckOtherSuggestions=$a.OtherSuggestions.bindTo(ct)}dispose(){this.reset()}reset(){var Ge;this._ckOtherSuggestions.reset(),null===(Ge=this._listener)||void 0===Ge||Ge.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:Ge,index:ct},St){0!==Ge.items.length&&$a._moveIndex(!0,Ge,ct)!==ct?(this._acceptNext=St,this._model=Ge,this._index=ct,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)):this.reset()}static _moveIndex(Ge,ct,St){let It=St;for(;It=(It+ct.items.length+(Ge?1:-1))%ct.items.length,It!==St&&ct.items[It].completion.additionalTextEdits;);return It}next(){this._move(!0)}prev(){this._move(!1)}_move(Ge){if(this._model)try{this._ignore=!0,this._index=$a._moveIndex(Ge,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};z.OtherSuggestions=new S.uy("hasOtherSuggestions",!1),z=function(Kt,Ge,ct,St){var Ht,It=arguments.length,Zt=It<3?Ge:null===St?St=Object.getOwnPropertyDescriptor(Ge,ct):St;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Zt=Reflect.decorate(Kt,Ge,ct,St);else for(var Pt=Kt.length-1;Pt>=0;Pt--)(Ht=Kt[Pt])&&(Zt=(It<3?Ht(Zt):It>3?Ht(Ge,ct,Zt):Ht(Ge,ct))||Zt);return It>3&&Zt&&Object.defineProperty(Ge,ct,Zt),Zt}([function(Kt,Ge){return function(ct,St){Ge(ct,St,1)}}(0,S.i6)],z);var j=e(57686);class Y{constructor(Ge,ct,St){this._disposables=new k.SL,this._disposables.add(ct.onDidShow(()=>this._onItem(ct.getFocusedItem()))),this._disposables.add(ct.onDidFocus(this._onItem,this)),this._disposables.add(ct.onDidHide(this.reset,this)),this._disposables.add(Ge.onWillType(It=>{if(this._active&&!ct.isFrozen()){const Zt=It.charCodeAt(It.length-1);this._active.acceptCharacters.has(Zt)&&Ge.getOption(0)&&St(this._active.item)}}))}_onItem(Ge){if(!Ge||!(0,s.Of)(Ge.item.completion.commitCharacters))return void this.reset();if(this._active&&this._active.item.item===Ge.item)return;const ct=new j.q;for(const St of Ge.item.completion.commitCharacters)St.length>0&&ct.add(St.charCodeAt(0));this._active={acceptCharacters:ct,item:Ge}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var E=e(93059),V=e(43210),$=e(84084),te=e(57926),w=e(80777),fe=e(9869),be=e(19881),me=e(31452),Ie=e(37464),ce=function(Kt,Ge){return function(ct,St){Ge(ct,St,Kt)}};class de{constructor(Ge,ct,St,It,Zt){this.leadingLineContent=Ge.getLineContent(ct.lineNumber).substr(0,ct.column-1),this.leadingWord=Ge.getWordUntilPosition(ct),this.lineNumber=ct.lineNumber,this.column=ct.column,this.auto=St,this.shy=It,this.noSelect=Zt}static shouldAutoTrigger(Ge){if(!Ge.hasModel())return!1;const ct=Ge.getModel(),St=Ge.getPosition();ct.tokenization.tokenizeIfCheap(St.lineNumber);const It=ct.getWordAtPosition(St);return!(!It||It.endColumn!==St.column||!isNaN(Number(It.word)))}}let Pe=class nc{constructor(Ge,ct,St,It,Zt,Ht,Pt,wn){this._editor=Ge,this._editorWorkerService=ct,this._clipboardService=St,this._telemetryService=It,this._logService=Zt,this._contextKeyService=Ht,this._configurationService=Pt,this._languageFeaturesService=wn,this._toDispose=new k.SL,this._triggerCharacterListener=new k.SL,this._triggerQuickSuggest=new L._F,this._state=0,this._completionDisposables=new k.SL,this._onDidCancel=new P.Q5,this._onDidTrigger=new P.Q5,this._onDidSuggest=new P.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new V.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let Fn=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{Fn=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{Fn=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(Qt=>{Fn||this._onCursorChange(Qt)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{Fn||this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,k.B9)(this._triggerCharacterListener),(0,k.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(83)||!this._editor.hasModel()||!this._editor.getOption(111))return;const Ge=new Map;for(const St of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const It of St.triggerCharacters||[]){let Zt=Ge.get(It);Zt||(Zt=new Set,Zt.add((0,F.ZJ)()),Ge.set(It,Zt)),Zt.add(St)}const ct=St=>{if(!function Se(Kt,Ge,ct){if(!Boolean(Ge.getContextKeyValue("inlineSuggestionVisible")))return!0;const St=ct.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return void 0!==St&&Boolean(St)}(0,this._contextKeyService,this._configurationService)||de.shouldAutoTrigger(this._editor))return;if(!St){const Ht=this._editor.getPosition();St=this._editor.getModel().getLineContent(Ht.lineNumber).substr(0,Ht.column-1)}let It="";(0,E.YK)(St.charCodeAt(St.length-1))?(0,E.ZG)(St.charCodeAt(St.length-2))&&(It=St.substr(St.length-2)):It=St.charAt(St.length-1);const Zt=Ge.get(It);if(Zt){const Ht=this._completionModel?{items:this._completionModel.adopt(Zt),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,noSelect:!1,triggerCharacter:It},Boolean(this._completionModel),Zt,Ht)}};this._triggerCharacterListener.add(this._editor.onDidType(ct)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>ct()))}get state(){return this._state}cancel(Ge=!1){var ct;0!==this._state&&(this._triggerQuickSuggest.cancel(),null===(ct=this._requestToken)||void 0===ct||ct.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:Ge}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){0!==this._state&&(this._editor.hasModel()&&this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1,noSelect:!1},!0):this.cancel())}_onCursorChange(Ge){if(!this._editor.hasModel())return;const ct=this._currentSelection;this._currentSelection=this._editor.getSelection(),!Ge.selection.isEmpty()||0!==Ge.reason&&3!==Ge.reason||"keyboard"!==Ge.source&&"deleteLeft"!==Ge.source?this.cancel():0===this._state&&0===Ge.reason?(ct.containsRange(this._currentSelection)||ct.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():0!==this._state&&3===Ge.reason&&this._refilterCompletionItems()}_onCompositionEnd(){0===this._state?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var Ge;F.tG.isAllOff(this._editor.getOption(81))||this._editor.getOption(108).snippetsPreventQuickSuggestions&&(null===(Ge=m.SnippetController2.get(this._editor))||void 0===Ge?void 0:Ge.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(0!==this._state||!de.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const ct=this._editor.getModel(),St=this._editor.getPosition(),It=this._editor.getOption(81);if(!F.tG.isAllOff(It)){if(!F.tG.isAllOn(It)){ct.tokenization.tokenizeIfCheap(St.lineNumber);const Zt=ct.tokenization.getLineTokens(St.lineNumber),Ht=Zt.getStandardTokenType(Zt.findTokenIndexAtOffset(Math.max(St.column-1-1,0)));if("on"!==F.tG.valueFor(It,Ht))return}!function re(Kt,Ge,ct){if(!Boolean(Ge.getContextKeyValue("inlineSuggestionVisible")))return!0;const St=ct.getValue("editor.inlineSuggest.allowQuickSuggestions");return void 0!==St&&Boolean(St)}(0,this._contextKeyService,this._configurationService)||!this._languageFeaturesService.completionProvider.has(ct)||this.trigger({auto:!0,shy:!1,noSelect:!1})}},this._editor.getOption(82)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(0===this._state||!this._editor.hasModel())return;const Ge=this._editor.getModel(),ct=this._editor.getPosition(),St=new de(Ge,ct,2===this._state,!1,!1);this._onNewContext(St)})}trigger(Ge,ct=!1,St,It,Zt){var Ht;if(!this._editor.hasModel())return;const Pt=this._editor.getModel(),wn=Ge.auto,Fn=new de(Pt,this._editor.getPosition(),wn,Ge.shy,Ge.noSelect);this.cancel(ct),this._state=wn?2:1,this._onDidTrigger.fire({auto:wn,shy:Ge.shy,position:this._editor.getPosition()}),this._context=Fn;let Qt={triggerKind:null!==(Ht=Ge.triggerKind)&&void 0!==Ht?Ht:0};Ge.triggerCharacter&&(Qt={triggerKind:1,triggerCharacter:Ge.triggerCharacter}),this._requestToken=new M.A;const Kn=this._editor.getOption(103);let Zn=1;switch(Kn){case"top":Zn=0;break;case"bottom":Zn=2}const{itemKind:_t,showDeprecated:D}=nc._createSuggestFilter(this._editor),K=new F.A9(Zn,Zt?new Set:_t,St,D),q=te.K.create(this._editorWorkerService,this._editor),we=(0,F.kL)(this._languageFeaturesService.completionProvider,Pt,this._editor.getPosition(),K,Qt,this._requestToken.token);Promise.all([we,q]).then(([Re,Xe])=>function(Kt,Ge,ct,St){return new(ct||(ct=Promise))(function(Zt,Ht){function Pt(Qt){try{Fn(St.next(Qt))}catch(Kn){Ht(Kn)}}function wn(Qt){try{Fn(St.throw(Qt))}catch(Kn){Ht(Kn)}}function Fn(Qt){Qt.done?Zt(Qt.value):function It(Zt){return Zt instanceof ct?Zt:new ct(function(Ht){Ht(Zt)})}(Qt.value).then(Pt,wn)}Fn((St=St.apply(Kt,Ge||[])).next())})}(this,void 0,void 0,function*(){var xt;if(null===(xt=this._requestToken)||void 0===xt||xt.dispose(),!this._editor.hasModel())return;let At=null==It?void 0:It.clipboardText;if(!At&&Re.needsClipboard&&(At=yield this._clipboardService.readText()),0===this._state)return;const tn=this._editor.getModel();let an=Re.items;if(It){const gn=(0,F.wg)(Zn);an=an.concat(It.items).sort(gn)}const fn=new de(tn,this._editor.getPosition(),wn,Ge.shy,Ge.noSelect);this._completionModel=new me._(an,this._context.column,{leadingLineContent:fn.leadingLineContent,characterCountDelta:fn.column-this._context.column},Xe,this._editor.getOption(108),this._editor.getOption(103),void 0,At),this._completionDisposables.add(Re.disposable),this._onNewContext(fn),this._reportDurationsTelemetry(Re.durations)})).catch(u.dL)}_reportDurationsTelemetry(Ge){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(Ge)}),this._logService.debug("suggest.durations.json",Ge)})}static _createSuggestFilter(Ge){const ct=new Set;"none"===Ge.getOption(103)&&ct.add(27);const It=Ge.getOption(108);return It.showMethods||ct.add(0),It.showFunctions||ct.add(1),It.showConstructors||ct.add(2),It.showFields||ct.add(3),It.showVariables||ct.add(4),It.showClasses||ct.add(5),It.showStructs||ct.add(6),It.showInterfaces||ct.add(7),It.showModules||ct.add(8),It.showProperties||ct.add(9),It.showEvents||ct.add(10),It.showOperators||ct.add(11),It.showUnits||ct.add(12),It.showValues||ct.add(13),It.showConstants||ct.add(14),It.showEnums||ct.add(15),It.showEnumMembers||ct.add(16),It.showKeywords||ct.add(17),It.showWords||ct.add(18),It.showColors||ct.add(19),It.showFiles||ct.add(20),It.showReferences||ct.add(21),It.showColors||ct.add(22),It.showFolders||ct.add(23),It.showTypeParameters||ct.add(24),It.showSnippets||ct.add(27),It.showUsers||ct.add(25),It.showIssues||ct.add(26),{itemKind:ct,showDeprecated:It.showDeprecated}}_onNewContext(Ge){if(this._context){if(Ge.lineNumber!==this._context.lineNumber)return void this.cancel();if((0,E.V8)(Ge.leadingLineContent)!==(0,E.V8)(this._context.leadingLineContent))return void this.cancel();if(Ge.column<this._context.column)return void(Ge.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0):this.cancel());if(this._completionModel){if(0!==Ge.leadingWord.word.length&&Ge.leadingWord.startColumn>this._context.leadingWord.startColumn){const ct=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));for(const It of this._completionModel.allProvider)ct.delete(It);const St=this._completionModel.adopt(new Set);return void this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0,ct,{items:St,clipboardText:this._completionModel.clipboardText})}if(Ge.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==Ge.leadingWord.word.length){const{incomplete:ct}=this._completionModel,St=this._completionModel.adopt(ct);this.trigger({auto:2===this._state,shy:!1,noSelect:!1,triggerKind:2},!0,ct,{items:St,clipboardText:this._completionModel.clipboardText})}else{const ct=this._completionModel.lineContext;let St=!1;if(this._completionModel.lineContext={leadingLineContent:Ge.leadingLineContent,characterCountDelta:Ge.column-this._context.column},0===this._completionModel.items.length){if(de.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<Ge.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=ct,St=this._completionModel.items.length>0,St&&0===Ge.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,noSelect:this._context.noSelect,isFrozen:St})}}}}};Pe=function(Kt,Ge,ct,St){var Ht,It=arguments.length,Zt=It<3?Ge:null===St?St=Object.getOwnPropertyDescriptor(Ge,ct):St;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Zt=Reflect.decorate(Kt,Ge,ct,St);else for(var Pt=Kt.length-1;Pt>=0;Pt--)(Ht=Kt[Pt])&&(Zt=(It<3?Ht(Zt):It>3?Ht(Ge,ct,Zt):Ht(Ge,ct))||Zt);return It>3&&Zt&&Object.defineProperty(Ge,ct,Zt),Zt}([ce(1,$.p),ce(2,w.p),ce(3,be.b),ce(4,G.VZ),ce(5,S.i6),ce(6,fe.Ui),ce(7,Ie.p)],Pe);let Ve=(()=>{class Kt{constructor(ct,St){this._disposables=new k.SL,this._lastOvertyped=[],this._empty=!0,this._disposables.add(ct.onWillType(()=>{if(!this._empty||!ct.hasModel())return;const It=ct.getSelections(),Zt=It.length;let Ht=!1;for(let wn=0;wn<Zt;wn++)if(!It[wn].isEmpty()){Ht=!0;break}if(!Ht)return;this._lastOvertyped=[];const Pt=ct.getModel();for(let wn=0;wn<Zt;wn++){const Fn=It[wn];if(Pt.getValueLengthInRange(Fn)>Kt._maxSelectionLength)return;this._lastOvertyped[wn]={value:Pt.getValueInRange(Fn),multiline:Fn.startLineNumber!==Fn.endLineNumber}}this._empty=!1})),this._disposables.add(St.onDidCancel(It=>{!this._empty&&!It.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(ct){if(!this._empty&&ct>=0&&ct<this._lastOvertyped.length)return this._lastOvertyped[ct]}dispose(){this._disposables.dispose()}}return Kt._maxSelectionLength=51200,Kt})();var ie=e(58059),_e=(e(53001),e(17367)),Be=e(38829),Qe=e(93379),Ae=e.n(Qe),pe=e(7795),De=e.n(pe),Oe=e(90569),Ne=e.n(Oe),ne=e(3565),xe=e.n(ne),Je=e(19216),gt=e.n(Je),lt=e(44589),Ke=e.n(lt),He=e(45224),Ue={};Ue.styleTagTransform=Ke(),Ue.setAttributes=xe(),Ue.insert=Ne().bind(null,"head"),Ue.domAPI=De(),Ue.insertStyleElement=gt(),Ae()(He.Z,Ue);var Ze=e(85390),Mt=e(84039),Nt=e(55755),ze=e(61004),$t=function(Kt,Ge){return function(ct,St){Ge(ct,St,Kt)}};class hn extends Nt.Mm{updateLabel(){const Ge=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!Ge)return super.updateLabel();this.label&&(this.label.textContent=(0,R.NC)("ddd","{0} ({1})",this._action.label,hn.symbolPrintEnter(Ge)))}static symbolPrintEnter(Ge){var ct;return null===(ct=Ge.getLabel())||void 0===ct?void 0:ct.replace(/\benter\b/gi,"\u23ce")}}let vn=class{constructor(Ge,ct,St,It){this._menuService=St,this._contextKeyService=It,this._menuDisposables=new k.SL,this.element=ie.R3(Ge,ie.$(".suggest-status-bar"));const Zt=Ht=>Ht instanceof ze.U8?ct.createInstance(hn,Ht,void 0):void 0;this._leftActions=new Mt.o(this.element,{actionViewItemProvider:Zt}),this._rightActions=new Mt.o(this.element,{actionViewItemProvider:Zt}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const Ge=this._menuService.createMenu(F.GI,this._contextKeyService),ct=()=>{const St=[],It=[];for(const[Zt,Ht]of Ge.getActions())"left"===Zt?St.push(...Ht):It.push(...Ht);this._leftActions.clear(),this._leftActions.push(St),this._rightActions.clear(),this._rightActions.push(It)};this._menuDisposables.add(Ge.onDidChange(()=>ct())),this._menuDisposables.add(Ge)}hide(){this._menuDisposables.clear()}};vn=function(Kt,Ge,ct,St){var Ht,It=arguments.length,Zt=It<3?Ge:null===St?St=Object.getOwnPropertyDescriptor(Ge,ct):St;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Zt=Reflect.decorate(Kt,Ge,ct,St);else for(var Pt=Kt.length-1;Pt>=0;Pt--)(Ht=Kt[Pt])&&(Zt=(It<3?Ht(Zt):It>3?Ht(Ge,ct,Zt):Ht(Ge,ct))||Zt);return It>3&&Zt&&Object.defineProperty(Ge,ct,Zt),Zt}([$t(1,Z.TG),$t(2,ze.co),$t(3,S.i6)],vn),e(50716);var ke=e(99571),nt=e(28708),st=e(32151),Ee=e(58676),Fe=e(23024),mt=e(37397);class Vt{constructor(){this._onDidWillResize=new P.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new P.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new k.SL,this._size=new ie.Ro(0,0),this._minSize=new ie.Ro(0,0),this._maxSize=new ie.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new mt.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new mt.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new mt.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:mt.l.North}),this._southSash=new mt.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:mt.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let Ge,ct=0,St=0;this._sashListener.add(P.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{void 0===Ge&&(this._onDidWillResize.fire(),Ge=this._size,ct=0,St=0)})),this._sashListener.add(P.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{void 0!==Ge&&(Ge=void 0,ct=0,St=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(It=>{Ge&&(St=It.currentX-It.startX,this.layout(Ge.height+ct,Ge.width+St),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(It=>{Ge&&(St=-(It.currentX-It.startX),this.layout(Ge.height+ct,Ge.width+St),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(It=>{Ge&&(ct=-(It.currentY-It.startY),this.layout(Ge.height+ct,Ge.width+St),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(It=>{Ge&&(ct=It.currentY-It.startY,this.layout(Ge.height+ct,Ge.width+St),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(P.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(It=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(P.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(It=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(Ge,ct,St,It){this._northSash.state=Ge?3:0,this._eastSash.state=ct?3:0,this._southSash.state=St?3:0,this._westSash.state=It?3:0}layout(Ge=this.size.height,ct=this.size.width){const{height:St,width:It}=this._minSize,{height:Zt,width:Ht}=this._maxSize;Ge=Math.max(St,Math.min(Zt,Ge)),ct=Math.max(It,Math.min(Ht,ct));const Pt=new ie.Ro(ct,Ge);ie.Ro.equals(Pt,this._size)||(this.domNode.style.height=Ge+"px",this.domNode.style.width=ct+"px",this._size=Pt,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(Ge){this._maxSize=Ge}get maxSize(){return this._maxSize}set minSize(Ge){this._minSize=Ge}get minSize(){return this._minSize}set preferredSize(Ge){this._preferredSize=Ge}get preferredSize(){return this._preferredSize}}var qt=e(97648),Cn=e(2450),Gt=e(22468),en=e(53873);function Ct(Kt){return!!Kt&&Boolean(Kt.completion.documentation||Kt.completion.detail&&Kt.completion.detail!==Kt.completion.label)}let rn=class{constructor(Ge,ct){this._editor=Ge,this._onDidClose=new P.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new P.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new k.SL,this._renderDisposeable=new k.SL,this._borderWidth=1,this._size=new ie.Ro(330,0),this.domNode=ie.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=ct.createInstance(en.$,{editor:Ge}),this._body=ie.$(".body"),this._scrollbar=new qt.s$(this._body,{alwaysConsumeMouseWheel:!0}),ie.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=ie.R3(this._body,ie.$(".header")),this._close=ie.R3(this._header,ie.$("span"+Cn.lA.close.cssSelector)),this._close.title=R.NC("details.close","Close"),this._type=ie.R3(this._header,ie.$("p.type")),this._docs=ie.R3(this._body,ie.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(St=>{St.hasChanged(46)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const Ge=this._editor.getOptions(),ct=Ge.get(46),St=ct.getMassagedFontFamily(),It=Ge.get(109)||ct.fontSize,Zt=Ge.get(110)||ct.lineHeight,Ht=ct.fontWeight,wn=`${Zt}px`;this.domNode.style.fontSize=`${It}px`,this.domNode.style.lineHeight=""+Zt/It,this.domNode.style.fontWeight=Ht,this.domNode.style.fontFeatureSettings=ct.fontFeatureSettings,this._type.style.fontFamily=St,this._close.style.height=wn,this._close.style.width=wn}getLayoutInfo(){const Ge=this._editor.getOption(110)||this._editor.getOption(46).lineHeight,ct=this._borderWidth;return{lineHeight:Ge,borderWidth:ct,borderHeight:2*ct,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=R.NC("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)}renderItem(Ge,ct){var St,It;this._renderDisposeable.clear();let{detail:Zt,documentation:Ht}=Ge.completion;if(ct){let Pt="";Pt+=`score: ${Ge.score[0]}\n`,Pt+=`prefix: ${null!==(St=Ge.word)&&void 0!==St?St:"(no prefix)"}\n`,Pt+=`word: ${Ge.completion.filterText?Ge.completion.filterText+" (filterText)":Ge.textLabel}\n`,Pt+=`distance: ${Ge.distance} (localityBonus-setting)\n`,Pt+=`index: ${Ge.idx}, based on ${Ge.completion.sortText&&`sortText: "${Ge.completion.sortText}"`||"label"}\n`,Pt+=`commit_chars: ${null===(It=Ge.completion.commitCharacters)||void 0===It?void 0:It.join("")}\n`,Ht=(new Gt.W5).appendCodeblock("empty",Pt),Zt=`Provider: ${Ge.provider._debugDisplayName}`}if(ct||Ct(Ge)){if(this.domNode.classList.remove("no-docs","no-type"),Zt){const Pt=Zt.length>1e5?`${Zt.substr(0,1e5)}\u2026`:Zt;this._type.textContent=Pt,this._type.title=Pt,ie.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(Pt))}else ie.PO(this._type),this._type.title="",ie.Cp(this._type),this.domNode.classList.add("no-type");if(ie.PO(this._docs),"string"==typeof Ht)this._docs.classList.remove("markdown-docs"),this._docs.textContent=Ht;else if(Ht){this._docs.classList.add("markdown-docs"),ie.PO(this._docs);const Pt=this._markdownRenderer.render(Ht);this._docs.appendChild(Pt.element),this._renderDisposeable.add(Pt),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=Pt=>{Pt.preventDefault(),Pt.stopPropagation()},this._close.onclick=Pt=>{Pt.preventDefault(),Pt.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}else this.clearContents()}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(Ge,ct){const St=new ie.Ro(Ge,ct);ie.Ro.equals(St,this._size)||(this._size=St,ie.dp(this.domNode,Ge,ct)),this._scrollbar.scanDomNode()}scrollDown(Ge=8){this._body.scrollTop+=Ge}scrollUp(Ge=8){this._body.scrollTop-=Ge}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(Ge){this._borderWidth=Ge}get borderWidth(){return this._borderWidth}};rn=function(Kt,Ge,ct,St){var Ht,It=arguments.length,Zt=It<3?Ge:null===St?St=Object.getOwnPropertyDescriptor(Ge,ct):St;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Zt=Reflect.decorate(Kt,Ge,ct,St);else for(var Pt=Kt.length-1;Pt>=0;Pt--)(Ht=Kt[Pt])&&(Zt=(It<3?Ht(Zt):It>3?Ht(Ge,ct,Zt):Ht(Ge,ct))||Zt);return It>3&&Zt&&Object.defineProperty(Ge,ct,Zt),Zt}([function(Kt,Ge){return function(ct,St){Ge(ct,St,1)}}(0,Z.TG)],rn);class jt{constructor(Ge,ct){this.widget=Ge,this._editor=ct,this._disposables=new k.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new Vt,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(Ge.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let St,It,Zt=0,Ht=0;this._disposables.add(this._resizable.onDidWillResize(()=>{St=this._topLeft,It=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(Pt=>{if(St&&It){this.widget.layout(Pt.dimension.width,Pt.dimension.height);let wn=!1;Pt.west&&(Ht=It.width-Pt.dimension.width,wn=!0),Pt.north&&(Zt=It.height-Pt.dimension.height,wn=!0),wn&&this._applyTopLeft({top:St.top+Zt,left:St.left+Ht})}Pt.done&&(St=void 0,It=void 0,Zt=0,Ht=0,this._userSize=Pt.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var Pt;this._anchorBox&&this._placeAtAnchor(this._anchorBox,null!==(Pt=this._userSize)&&void 0!==Pt?Pt:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(Ge=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),Ge&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(Ge,ct){var St;const It=Ge.getBoundingClientRect();this._anchorBox=It,this._preferAlignAtTop=ct,this._placeAtAnchor(this._anchorBox,null!==(St=this._userSize)&&void 0!==St?St:this.widget.size,ct)}_placeAtAnchor(Ge,ct,St){var It;const Zt=ie.D6(document.body),Ht=this.widget.getLayoutInfo(),Pt=new ie.Ro(220,2*Ht.lineHeight),wn=Ge.top,Fn=function(){const Xe=Zt.width-(Ge.left+Ge.width+Ht.borderWidth+Ht.horizontalPadding),xt=-Ht.borderWidth+Ge.left+Ge.width,At=new ie.Ro(Xe,Zt.height-Ge.top-Ht.borderHeight-Ht.verticalPadding),tn=At.with(void 0,Ge.top+Ge.height-Ht.borderHeight-Ht.verticalPadding);return{top:wn,left:xt,fit:Xe-ct.width,maxSizeTop:At,maxSizeBottom:tn,minSize:Pt.with(Math.min(Xe,Pt.width))}}(),Zn=[Fn,function(){const Xe=Ge.left-Ht.borderWidth-Ht.horizontalPadding,xt=Math.max(Ht.horizontalPadding,Ge.left-ct.width-Ht.borderWidth),At=new ie.Ro(Xe,Zt.height-Ge.top-Ht.borderHeight-Ht.verticalPadding),tn=At.with(void 0,Ge.top+Ge.height-Ht.borderHeight-Ht.verticalPadding);return{top:wn,left:xt,fit:Xe-ct.width,maxSizeTop:At,maxSizeBottom:tn,minSize:Pt.with(Math.min(Xe,Pt.width))}}(),function(){const Xe=Ge.left,xt=-Ht.borderWidth+Ge.top+Ge.height,At=new ie.Ro(Ge.width-Ht.borderHeight,Zt.height-Ge.top-Ge.height-Ht.verticalPadding);return{top:xt,left:Xe,fit:At.height-ct.height,maxSizeBottom:At,maxSizeTop:At,minSize:Pt.with(At.width)}}()],_t=null!==(It=Zn.find(Xe=>Xe.fit>=0))&&void 0!==It?It:Zn.sort((Xe,xt)=>xt.fit-Xe.fit)[0],D=Ge.top+Ge.height-Ht.borderHeight;let K,q=ct.height;const we=Math.max(_t.maxSizeTop.height,_t.maxSizeBottom.height);let Re;q>we&&(q=we),St?q<=_t.maxSizeTop.height?(K=!0,Re=_t.maxSizeTop):(K=!1,Re=_t.maxSizeBottom):q<=_t.maxSizeBottom.height?(K=!1,Re=_t.maxSizeBottom):(K=!0,Re=_t.maxSizeTop),this._applyTopLeft({left:_t.left,top:K?_t.top:D-q}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!K,_t===Fn,K,_t!==Fn),this._resizable.minSize=_t.minSize,this._resizable.maxSize=Re,this._resizable.layout(q,Math.min(Re.width,ct.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(Ge){this._topLeft=Ge,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var yn=e(61021),En=e(81979),xn=e(74672),Un=e(66778),ai=e(90278),ei=e(15151),Di=e(64669),li=(()=>(function(Kt){Kt[Kt.FILE=0]="FILE",Kt[Kt.FOLDER=1]="FOLDER",Kt[Kt.ROOT_FOLDER=2]="ROOT_FOLDER"}(li||(li={})),li))();const Qn=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function wi(Kt,Ge,ct,St){const It=St===li.ROOT_FOLDER?["rootfolder-icon"]:St===li.FOLDER?["folder-icon"]:["file-icon"];if(ct){let Zt;if(ct.scheme===ai.lg.data)Zt=ei.Vb.parseMetaData(ct).get(ei.Vb.META_DATA_LABEL);else{const Ht=ct.path.match(Qn);Ht?(Zt=Dt(Ht[2].toLowerCase()),Ht[1]&&It.push(`${Dt(Ht[1].toLowerCase())}-name-dir-icon`)):Zt=Dt(ct.authority.toLowerCase())}if(St===li.FOLDER)It.push(`${Zt}-name-folder-icon`);else{if(Zt){if(It.push(`${Zt}-name-file-icon`),It.push("name-file-icon"),Zt.length<=255){const Pt=Zt.split(".");for(let wn=1;wn<Pt.length;wn++)It.push(`${Pt.slice(wn).join(".")}-ext-file-icon`)}It.push("ext-file-icon")}const Ht=function Dn(Kt,Ge,ct){if(!ct)return null;let St=null;if(ct.scheme===ai.lg.data){const Zt=ei.Vb.parseMetaData(ct).get(ei.Vb.META_DATA_MIME);Zt&&(St=Ge.getLanguageIdByMimeType(Zt))}else{const It=Kt.getModel(ct);It&&(St=It.getLanguageId())}return St&&St!==Di.bd?St:Ge.guessLanguageIdByFilepathOrFirstLine(ct)}(Kt,Ge,ct);Ht&&It.push(`${Dt(Ht)}-lang-file-icon`)}}return It}function Dt(Kt){return Kt.replace(/[\11\12\14\15\40]/g,"/")}var pt,Te=e(8648),oe=e(42570),it=function(Kt,Ge){return function(ct,St){Ge(ct,St,Kt)}};function Et(Kt){return`suggest-aria-id:${Kt}`}const Ut=(0,e(95836).q5)("suggest-more-info",Cn.lA.chevronRight,R.NC("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),sn=new(pt=class Ga{extract(Ge,ct){if(Ge.textLabel.match(Ga._regexStrict))return ct[0]=Ge.textLabel,!0;if(Ge.completion.detail&&Ge.completion.detail.match(Ga._regexStrict))return ct[0]=Ge.completion.detail,!0;if("string"==typeof Ge.completion.documentation){const St=Ga._regexRelaxed.exec(Ge.completion.documentation);if(St&&(0===St.index||St.index+St[0].length===Ge.completion.documentation.length))return ct[0]=St[0],!0}return!1}},pt._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,pt._regexStrict=new RegExp(`^${pt._regexRelaxed.source}$`,"i"),pt);let pn=class{constructor(Ge,ct,St,It){this._editor=Ge,this._modelService=ct,this._languageService=St,this._themeService=It,this._onDidToggleDetails=new P.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(Ge){const ct=Object.create(null);ct.disposables=new k.SL,ct.root=Ge,ct.root.classList.add("show-file-icons"),ct.icon=(0,ie.R3)(Ge,(0,ie.$)(".icon")),ct.colorspan=(0,ie.R3)(ct.icon,(0,ie.$)("span.colorspan"));const St=(0,ie.R3)(Ge,(0,ie.$)(".contents")),It=(0,ie.R3)(St,(0,ie.$)(".main"));ct.iconContainer=(0,ie.R3)(It,(0,ie.$)(".icon-label.codicon")),ct.left=(0,ie.R3)(It,(0,ie.$)("span.left")),ct.right=(0,ie.R3)(It,(0,ie.$)("span.right")),ct.iconLabel=new yn.g(ct.left,{supportHighlights:!0,supportIcons:!0}),ct.disposables.add(ct.iconLabel),ct.parametersLabel=(0,ie.R3)(ct.left,(0,ie.$)("span.signature-label")),ct.qualifierLabel=(0,ie.R3)(ct.left,(0,ie.$)("span.qualifier-label")),ct.detailsLabel=(0,ie.R3)(ct.right,(0,ie.$)("span.details-label")),ct.readMore=(0,ie.R3)(ct.right,(0,ie.$)("span.readMore"+Fe.kS.asCSSSelector(Ut))),ct.readMore.title=R.NC("readMore","Read More");const Zt=()=>{const Ht=this._editor.getOptions(),Pt=Ht.get(46),wn=Pt.getMassagedFontFamily(),Fn=Pt.fontFeatureSettings,Qt=Ht.get(109)||Pt.fontSize,Kn=Ht.get(110)||Pt.lineHeight,Zn=Pt.fontWeight,K=`${Kn}px`,q=`${Pt.letterSpacing}px`;ct.root.style.fontSize=`${Qt}px`,ct.root.style.fontWeight=Zn,ct.root.style.letterSpacing=q,It.style.fontFamily=wn,It.style.fontFeatureSettings=Fn,It.style.lineHeight=K,ct.icon.style.height=K,ct.icon.style.width=K,ct.readMore.style.height=K,ct.readMore.style.width=K};return Zt(),ct.disposables.add(this._editor.onDidChangeConfiguration(Ht=>{(Ht.hasChanged(46)||Ht.hasChanged(109)||Ht.hasChanged(110))&&Zt()})),ct}renderElement(Ge,ct,St){const{completion:It}=Ge;St.root.id=Et(ct),St.colorspan.style.backgroundColor="";const Zt={labelEscapeNewLines:!0,matches:(0,En.mB)(Ge.score)},Ht=[];if(19===It.kind&&sn.extract(Ge,Ht))St.icon.className="icon customcolor",St.iconContainer.className="icon hide",St.colorspan.style.backgroundColor=Ht[0];else if(20===It.kind&&this._themeService.getFileIconTheme().hasFileIcons){St.icon.className="icon hide",St.iconContainer.className="icon hide";const Pt=wi(this._modelService,this._languageService,xn.o.from({scheme:"fake",path:Ge.textLabel}),li.FILE),wn=wi(this._modelService,this._languageService,xn.o.from({scheme:"fake",path:It.detail}),li.FILE);Zt.extraClasses=Pt.length>wn.length?Pt:wn}else 23===It.kind&&this._themeService.getFileIconTheme().hasFolderIcons?(St.icon.className="icon hide",St.iconContainer.className="icon hide",Zt.extraClasses=[wi(this._modelService,this._languageService,xn.o.from({scheme:"fake",path:Ge.textLabel}),li.FOLDER),wi(this._modelService,this._languageService,xn.o.from({scheme:"fake",path:It.detail}),li.FOLDER)].flat()):(St.icon.className="icon hide",St.iconContainer.className="",St.iconContainer.classList.add("suggest-icon",...Cn.dT.asClassNameArray(Un.gX.toIcon(It.kind))));It.tags&&It.tags.indexOf(1)>=0&&(Zt.extraClasses=(Zt.extraClasses||[]).concat(["deprecated"]),Zt.matches=[]),St.iconLabel.setLabel(Ge.textLabel,void 0,Zt),"string"==typeof It.label?(St.parametersLabel.textContent="",St.detailsLabel.textContent=In(It.detail||""),St.root.classList.add("string-label")):(St.parametersLabel.textContent=In(It.label.detail||""),St.detailsLabel.textContent=In(It.label.description||""),St.root.classList.remove("string-label")),this._editor.getOption(108).showInlineDetails?(0,ie.$Z)(St.detailsLabel):(0,ie.Cp)(St.detailsLabel),Ct(Ge)?(St.right.classList.add("can-expand-details"),(0,ie.$Z)(St.readMore),St.readMore.onmousedown=Pt=>{Pt.stopPropagation(),Pt.preventDefault()},St.readMore.onclick=Pt=>{Pt.stopPropagation(),Pt.preventDefault(),this._onDidToggleDetails.fire()}):(St.right.classList.remove("can-expand-details"),(0,ie.Cp)(St.readMore),St.readMore.onmousedown=null,St.readMore.onclick=null)}disposeTemplate(Ge){Ge.disposables.dispose()}};function In(Kt){return Kt.replace(/\r\n|\r|\n/g,"")}pn=function(Kt,Ge,ct,St){var Ht,It=arguments.length,Zt=It<3?Ge:null===St?St=Object.getOwnPropertyDescriptor(Ge,ct):St;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Zt=Reflect.decorate(Kt,Ge,ct,St);else for(var Pt=Kt.length-1;Pt>=0;Pt--)(Ht=Kt[Pt])&&(Zt=(It<3?Ht(Zt):It>3?Ht(Ge,ct,Zt):Ht(Ge,ct))||Zt);return It>3&&Zt&&Object.defineProperty(Ge,ct,Zt),Zt}([it(1,Te.q),it(2,oe.O),it(3,Fe.XE)],pn);var Tn=function(Kt,Ge){return function(ct,St){Ge(ct,St,Kt)}};(0,nt.P6G)("editorSuggestWidget.background",{dark:nt.D0T,light:nt.D0T,hcDark:nt.D0T,hcLight:nt.D0T},R.NC("editorSuggestWidgetBackground","Background color of the suggest widget.")),(0,nt.P6G)("editorSuggestWidget.border",{dark:nt.D1_,light:nt.D1_,hcDark:nt.D1_,hcLight:nt.D1_},R.NC("editorSuggestWidgetBorder","Border color of the suggest widget."));const ri=(0,nt.P6G)("editorSuggestWidget.foreground",{dark:nt.NOs,light:nt.NOs,hcDark:nt.NOs,hcLight:nt.NOs},R.NC("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),xi=((0,nt.P6G)("editorSuggestWidget.selectedForeground",{dark:nt.NPS,light:nt.NPS,hcDark:nt.NPS,hcLight:nt.NPS},R.NC("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),(0,nt.P6G)("editorSuggestWidget.selectedIconForeground",{dark:nt.cbQ,light:nt.cbQ,hcDark:nt.cbQ,hcLight:nt.cbQ},R.NC("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),(0,nt.P6G)("editorSuggestWidget.selectedBackground",{dark:nt.Vqd,light:nt.Vqd,hcDark:nt.Vqd,hcLight:nt.Vqd},R.NC("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")));(0,nt.P6G)("editorSuggestWidget.highlightForeground",{dark:nt.Gwp,light:nt.Gwp,hcDark:nt.Gwp,hcLight:nt.Gwp},R.NC("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),(0,nt.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:nt.PX0,light:nt.PX0,hcDark:nt.PX0,hcLight:nt.PX0},R.NC("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),(0,nt.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,nt.ZnX)(ri,.5),light:(0,nt.ZnX)(ri,.5),hcDark:(0,nt.ZnX)(ri,.5),hcLight:(0,nt.ZnX)(ri,.5)},R.NC("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class pi{constructor(Ge,ct){this._service=Ge,this._key=`suggestWidget.size/${ct.getEditorType()}/${ct instanceof Ze.H}`}restore(){var Ge;const ct=null!==(Ge=this._service.get(this._key,0))&&void 0!==Ge?Ge:"";try{const St=JSON.parse(ct);if(ie.Ro.is(St))return ie.Ro.lift(St)}catch(St){}}store(Ge){this._service.store(this._key,JSON.stringify(Ge),0,1)}reset(){this._service.remove(this._key,0)}}let mn=class ql{constructor(Ge,ct,St,It,Zt){this.editor=Ge,this._storageService=ct,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new L._F,this._disposables=new k.SL,this._onDidSelect=new P.Q5,this._onDidFocus=new P.Q5,this._onDidHide=new P.Q5,this._onDidShow=new P.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new P.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new Vt,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new bt(this,Ge),this._persistedSize=new pi(ct,Ge);class Ht{constructor(_t,D,K=!1,q=!1){this.persistedSize=_t,this.currentSize=D,this.persistHeight=K,this.persistWidth=q}}let Pt;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),Pt=new Ht(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(Zn=>{var _t,D,K,q;if(this._resize(Zn.dimension.width,Zn.dimension.height),Pt&&(Pt.persistHeight=Pt.persistHeight||!!Zn.north||!!Zn.south,Pt.persistWidth=Pt.persistWidth||!!Zn.east||!!Zn.west),Zn.done){if(Pt){const{itemHeight:we,defaultSize:Re}=this.getLayoutInfo(),Xe=Math.round(we/2);let{width:xt,height:At}=this.element.size;(!Pt.persistHeight||Math.abs(Pt.currentSize.height-At)<=Xe)&&(At=null!==(D=null===(_t=Pt.persistedSize)||void 0===_t?void 0:_t.height)&&void 0!==D?D:Re.height),(!Pt.persistWidth||Math.abs(Pt.currentSize.width-xt)<=Xe)&&(xt=null!==(q=null===(K=Pt.persistedSize)||void 0===K?void 0:K.width)&&void 0!==q?q:Re.width),this._persistedSize.store(new ie.Ro(xt,At))}this._contentWidget.unlockPreference(),Pt=void 0}})),this._messageElement=ie.R3(this.element.domNode,ie.$(".message")),this._listElement=ie.R3(this.element.domNode,ie.$(".tree"));const wn=Zt.createInstance(rn,this.editor);wn.onDidClose(this.toggleDetails,this,this._disposables),this._details=new jt(wn,this.editor);const Fn=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(108).showIcons);Fn();const Qt=Zt.createInstance(pn,this.editor);this._disposables.add(Qt),this._disposables.add(Qt.onDidToggleDetails(()=>this.toggleDetails())),this._list=new _e.aV("SuggestWidget",this._listElement,{getHeight:Zn=>this.getLayoutInfo().itemHeight,getTemplateId:Zn=>"suggestion"},[Qt],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>R.NC("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:Zn=>{let _t=Zn.textLabel;if("string"!=typeof Zn.completion.label){const{detail:we,description:Re}=Zn.completion.label;we&&Re?_t=R.NC("label.full","{0}{1}, {2}",_t,we,Re):we?_t=R.NC("label.detail","{0}{1}",_t,we):Re&&(_t=R.NC("label.desc","{0}, {1}",_t,Re))}if(!Zn.isResolved||!this._isDetailsVisible())return _t;const{documentation:D,detail:K}=Zn.completion,q=E.WU("{0}{1}",K||"",D?"string"==typeof D?D:D.value:"");return R.NC("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",_t,q)}}}),this._status=Zt.createInstance(vn,this.element.domNode);const Kn=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(108).showStatusBar);Kn(),this._disposables.add((0,st.Jl)(this._list,It,{listInactiveFocusBackground:xi,listInactiveFocusOutline:nt.xL1})),this._disposables.add(It.onDidColorThemeChange(Zn=>this._onThemeChange(Zn))),this._onThemeChange(It.getColorTheme()),this._disposables.add(this._list.onMouseDown(Zn=>this._onListMouseDownOrTap(Zn))),this._disposables.add(this._list.onTap(Zn=>this._onListMouseDownOrTap(Zn))),this._disposables.add(this._list.onDidChangeSelection(Zn=>this._onListSelection(Zn))),this._disposables.add(this._list.onDidChangeFocus(Zn=>this._onListFocus(Zn))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(Zn=>{Zn.hasChanged(108)&&(Kn(),Fn())})),this._ctxSuggestWidgetVisible=F._y.Visible.bindTo(St),this._ctxSuggestWidgetDetailsVisible=F._y.DetailsVisible.bindTo(St),this._ctxSuggestWidgetMultipleSuggestions=F._y.MultipleSuggestions.bindTo(St),this._ctxSuggestWidgetHasFocusedSuggestion=F._y.HasFocusedSuggestion.bindTo(St),this._disposables.add(ie.mu(this._details.widget.domNode,"keydown",Zn=>{this._onDetailsKeydown.fire(Zn)})),this._disposables.add(this.editor.onMouseDown(Zn=>this._onEditorMouseDown(Zn)))}dispose(){var Ge;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),null===(Ge=this._loadingTimeout)||void 0===Ge||Ge.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(Ge){this._details.widget.domNode.contains(Ge.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(Ge.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){0!==this._state&&this._contentWidget.layout()}_onListMouseDownOrTap(Ge){void 0===Ge.element||void 0===Ge.index||(Ge.browserEvent.preventDefault(),Ge.browserEvent.stopPropagation(),this._select(Ge.element,Ge.index))}_onListSelection(Ge){Ge.elements.length&&this._select(Ge.elements[0],Ge.indexes[0])}_select(Ge,ct){const St=this._completionModel;St&&(this._onDidSelect.fire({item:Ge,index:ct,model:St}),this.editor.focus())}_onThemeChange(Ge){this._details.widget.borderWidth=(0,Ee.c3)(Ge.type)?2:1}_onListFocus(Ge){var ct;if(this._ignoreFocusEvents)return;if(!Ge.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),void this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const St=Ge.elements[0],It=Ge.indexes[0];St!==this._focusedItem&&(null===(ct=this._currentSuggestionDetails)||void 0===ct||ct.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=St,this._list.reveal(It),this._currentSuggestionDetails=(0,L.PG)(Zt=>function(Kt,Ge,ct,St){return new(ct||(ct=Promise))(function(Zt,Ht){function Pt(Qt){try{Fn(St.next(Qt))}catch(Kn){Ht(Kn)}}function wn(Qt){try{Fn(St.throw(Qt))}catch(Kn){Ht(Kn)}}function Fn(Qt){Qt.done?Zt(Qt.value):function It(Zt){return Zt instanceof ct?Zt:new ct(function(Ht){Ht(Zt)})}(Qt.value).then(Pt,wn)}Fn((St=St.apply(Kt,Ge||[])).next())})}(this,void 0,void 0,function*(){const Ht=(0,L.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),Pt=Zt.onCancellationRequested(()=>Ht.dispose()),wn=yield St.resolve(Zt);return Ht.dispose(),Pt.dispose(),wn})),this._currentSuggestionDetails.then(()=>{It>=this._list.length||St!==this._list.element(It)||(this._ignoreFocusEvents=!0,this._list.splice(It,1,[St]),this._list.setFocus([It]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:Et(It)}))}).catch(u.dL)),this._onDidFocus.fire({item:St,index:It,model:this._completionModel})}_setState(Ge){if(this._state!==Ge)switch(this._state=Ge,this.element.domNode.classList.toggle("frozen",4===Ge),this.element.domNode.classList.remove("message"),Ge){case 0:ie.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=ql.LOADING_MESSAGE,ie.Cp(this._listElement,this._status.element),ie.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=ql.NO_SUGGESTIONS_MESSAGE,ie.Cp(this._listElement,this._status.element),ie.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:case 4:ie.Cp(this._messageElement),ie.$Z(this._listElement,this._status.element),this._show();break;case 5:ie.Cp(this._messageElement),ie.$Z(this._listElement,this._status.element),this._details.show(),this._show()}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(Ge,ct){0===this._state&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!Ge,this._isAuto||(this._loadingTimeout=(0,L.Vg)(()=>this._setState(1),ct)))}showSuggestions(Ge,ct,St,It){var Zt,Ht;if(this._contentWidget.setPosition(this.editor.getPosition()),null===(Zt=this._loadingTimeout)||void 0===Zt||Zt.dispose(),null===(Ht=this._currentSuggestionDetails)||void 0===Ht||Ht.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==Ge&&(this._completionModel=Ge),St&&2!==this._state&&0!==this._state)return void this._setState(4);const Pt=this._completionModel.items.length,wn=0===Pt;if(this._ctxSuggestWidgetMultipleSuggestions.set(Pt>1),wn)return this._setState(It?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(St?4:3),ct>=0&&(this._list.reveal(ct,0),this._list.setFocus([ct])),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(0!==this._state&&2!==this._state&&1!==this._state&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){5===this._state?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):3===this._state&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(Ct(this._list.getFocusedElements()[0])||this._explainMode)&&(3===this._state||5===this._state||4===this._state)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(Ge){this._details.show(),Ge?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var Ge;null===(Ge=this._loadingTimeout)||void 0===Ge||Ge.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const ct=this._persistedSize.restore(),St=Math.ceil(4.3*this.getLayoutInfo().itemHeight);ct&&ct.height<St&&this._persistedSize.store(ct.with(void 0,St))}isFrozen(){return 4===this._state}_afterRender(Ge){null!==Ge?2===this._state||1===this._state||(this._isDetailsVisible()&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()}_layout(Ge){var ct,St,It;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const Zt=ie.D6(document.body),Ht=this.getLayoutInfo();Ge||(Ge=Ht.defaultSize);let Pt=Ge.height,wn=Ge.width;if(this._status.element.style.lineHeight=`${Ht.itemHeight}px`,2===this._state||1===this._state)Pt=Ht.itemHeight+Ht.borderHeight,wn=Ht.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new ie.Ro(wn,Pt),this._contentWidget.setPreference(2);else{const Fn=Zt.width-Ht.borderHeight-2*Ht.horizontalPadding;wn>Fn&&(wn=Fn);const Qt=this._completionModel?this._completionModel.stats.pLabelLen*Ht.typicalHalfwidthCharacterWidth:wn,Kn=Ht.statusBarHeight+this._list.contentHeight+Ht.borderHeight,Zn=Ht.itemHeight+Ht.statusBarHeight,_t=ie.i(this.editor.getDomNode()),D=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),q=Math.min(Zt.height-(_t.top+D.top+D.height)-Ht.verticalPadding,Kn),we=_t.top+D.top-Ht.verticalPadding,Re=Math.min(we,Kn);let Xe=Math.min(Math.max(Re,q)+Ht.borderHeight,Kn);Pt===(null===(ct=this._cappedHeight)||void 0===ct?void 0:ct.capped)&&(Pt=this._cappedHeight.wanted),Pt<Zn&&(Pt=Zn),Pt>Xe&&(Pt=Xe);const xt=150;Pt>q||this._forceRenderingAbove&&we>xt?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),Xe=Re):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),Xe=q),this.element.preferredSize=new ie.Ro(Qt,Ht.defaultSize.height),this.element.maxSize=new ie.Ro(Fn,Xe),this.element.minSize=new ie.Ro(220,Zn),this._cappedHeight=Pt===Kn?{wanted:null!==(It=null===(St=this._cappedHeight)||void 0===St?void 0:St.wanted)&&void 0!==It?It:Ge.height,capped:Pt}:void 0}this._resize(wn,Pt)}_resize(Ge,ct){const{width:St,height:It}=this.element.maxSize;Ge=Math.min(St,Ge),ct=Math.min(It,ct);const{statusBarHeight:Zt}=this.getLayoutInfo();this._list.layout(ct-Zt,Ge),this._listElement.style.height=ct-Zt+"px",this.element.layout(ct,Ge),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var Ge;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,2===(null===(Ge=this._contentWidget.getPosition())||void 0===Ge?void 0:Ge.preference[0]))}getLayoutInfo(){const Ge=this.editor.getOption(46),ct=(0,Be.uZ)(this.editor.getOption(110)||Ge.lineHeight,8,1e3),St=this.editor.getOption(108).showStatusBar&&2!==this._state&&1!==this._state?ct:0,It=this._details.widget.borderWidth,Zt=2*It;return{itemHeight:ct,statusBarHeight:St,borderWidth:It,borderHeight:Zt,typicalHalfwidthCharacterWidth:Ge.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new ie.Ro(430,St+12*ct+Zt)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(Ge){this._storageService.store("expandSuggestionDocs",Ge,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};mn.LOADING_MESSAGE=R.NC("suggestWidget.loading","Loading..."),mn.NO_SUGGESTIONS_MESSAGE=R.NC("suggestWidget.noSuggestions","No suggestions."),mn=function(Kt,Ge,ct,St){var Ht,It=arguments.length,Zt=It<3?Ge:null===St?St=Object.getOwnPropertyDescriptor(Ge,ct):St;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Zt=Reflect.decorate(Kt,Ge,ct,St);else for(var Pt=Kt.length-1;Pt>=0;Pt--)(Ht=Kt[Pt])&&(Zt=(It<3?Ht(Zt):It>3?Ht(Ge,ct,Zt):Ht(Ge,ct))||Zt);return It>3&&Zt&&Object.defineProperty(Ge,ct,Zt),Zt}([Tn(1,ke.Uy),Tn(2,S.i6),Tn(3,Fe.XE),Tn(4,Z.TG)],mn);class bt{constructor(Ge,ct){this._widget=Ge,this._editor=ct,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null}beforeRender(){const{height:Ge,width:ct}=this._widget.element.size,{borderWidth:St,horizontalPadding:It}=this._widget.getLayoutInfo();return new ie.Ro(ct+2*St+It,Ge+2*St)}afterRender(Ge){this._widget._afterRender(Ge)}setPreference(Ge){this._preferenceLocked||(this._preference=Ge)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(Ge){this._position=Ge}}var Lt=e(92638),un=function(Kt,Ge){return function(ct,St){Ge(ct,St,Kt)}};class Ot{constructor(Ge,ct){if(this._model=Ge,this._position=ct,Ge.getLineMaxColumn(ct.lineNumber)!==ct.column){const It=Ge.getOffsetAt(ct),Zt=Ge.getPositionAt(It+1);this._marker=Ge.deltaDecorations([],[{range:v.e.fromPositions(ct,Zt),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(Ge){if(this._model.isDisposed()||this._position.lineNumber!==Ge.lineNumber)return 0;if(this._marker){const ct=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(ct.getStartPosition())-this._model.getOffsetAt(Ge)}return this._model.getLineMaxColumn(Ge.lineNumber)-Ge.column}}let $e=class ic{constructor(Ge,ct,St,It,Zt,Ht,Pt){this._memoryService=ct,this._commandService=St,this._contextKeyService=It,this._instantiationService=Zt,this._logService=Ht,this._telemetryService=Pt,this._lineSuffix=new k.XK,this._toDispose=new k.SL,this._selectors=new wt(Kn=>Kn.priority),this._telemetryGate=0,this.editor=Ge,this.model=Zt.createInstance(Pe,this.editor);const wn=F._y.InsertMode.bindTo(It);wn.set(Ge.getOption(108).insertMode),this.model.onDidTrigger(()=>wn.set(Ge.getOption(108).insertMode)),this.widget=this._toDispose.add(new L.Ue(()=>{const Kn=this._instantiationService.createInstance(mn,this.editor);this._toDispose.add(Kn),this._toDispose.add(Kn.onDidSelect(q=>this._insertSuggestion(q,0),this));const Zn=new Y(this.editor,Kn,q=>this._insertSuggestion(q,2));this._toDispose.add(Zn),this._toDispose.add(this.model.onDidSuggest(q=>{0===q.completionModel.items.length&&Zn.reset()}));const _t=F._y.MakesTextEdit.bindTo(this._contextKeyService),D=F._y.HasInsertAndReplaceRange.bindTo(this._contextKeyService),K=F._y.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,k.OF)(()=>{_t.reset(),D.reset(),K.reset()})),this._toDispose.add(Kn.onDidFocus(({item:q})=>{const we=this.editor.getPosition(),Re=q.editStart.column,Xe=we.column;let xt=!0;"smart"===this.editor.getOption(1)&&2===this.model.state&&!q.completion.additionalTextEdits&&!(4&q.completion.insertTextRules)&&Xe-Re===q.completion.insertText.length&&(xt=this.editor.getModel().getValueInRange({startLineNumber:we.lineNumber,startColumn:Re,endLineNumber:we.lineNumber,endColumn:Xe})!==q.completion.insertText),_t.set(xt),D.set(!l.L.equals(q.editInsertEnd,q.editReplaceEnd)),K.set(Boolean(q.provider.resolveCompletionItem)||Boolean(q.completion.documentation)||q.completion.detail!==q.completion.label)})),this._toDispose.add(Kn.onDetailsKeyDown(q=>{q.toKeybinding().equals(new A.QC(!0,!1,!1,!1,33))||N.dz&&q.toKeybinding().equals(new A.QC(!1,!1,!1,!0,33))?q.stopPropagation():q.toKeybinding().isModifierKey()||this.editor.focus()})),Kn})),this._overtypingCapturer=this._toDispose.add(new L.Ue(()=>this._toDispose.add(new Ve(this.editor,this.model)))),this._alternatives=this._toDispose.add(new L.Ue(()=>this._toDispose.add(new z(this.editor,this._contextKeyService)))),this._toDispose.add(Zt.createInstance(T,Ge)),this._toDispose.add(this.model.onDidTrigger(Kn=>{this.widget.value.showTriggered(Kn.auto,Kn.shy?250:50),this._lineSuffix.value=new Ot(this.editor.getModel(),Kn.position)})),this._toDispose.add(this.model.onDidSuggest(Kn=>{if(Kn.shy)return;let Zn=-1;if(!Kn.noSelect){for(const _t of this._selectors.itemsOrderedByPriorityDesc)if(Zn=_t.select(this.editor.getModel(),this.editor.getPosition(),Kn.completionModel.items),-1!==Zn)break;-1===Zn&&(Zn=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),Kn.completionModel.items))}this.widget.value.showSuggestions(Kn.completionModel,Zn,Kn.isFrozen,Kn.auto)})),this._toDispose.add(this.model.onDidCancel(Kn=>{Kn.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{this.model.cancel(),this.model.clear()}));const Fn=F._y.AcceptSuggestionsOnEnter.bindTo(It),Qt=()=>{const Kn=this.editor.getOption(1);Fn.set("on"===Kn||"smart"===Kn)};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>Qt())),Qt()}static get(Ge){return Ge.getContribution(ic.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(Ge,ct){if(!Ge||!Ge.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(!this.editor.hasModel())return;const St=m.SnippetController2.get(this.editor);if(!St)return;const It=this.editor.getModel(),Zt=It.getAlternativeVersionId(),{item:Ht}=Ge,Pt=[],wn=new M.A;1&ct||this.editor.pushUndoStop();const Fn=this.getOverwriteInfo(Ht,Boolean(8&ct));if(this._memoryService.memorize(It,this.editor.getPosition(),Ht),Array.isArray(Ht.completion.additionalTextEdits)){const Kn=p.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",Ht.completion.additionalTextEdits.map(Zn=>n.h.replaceMove(v.e.lift(Zn.range),Zn.text))),Kn.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!Ht.isResolved){const Kn=new _.G(!0);let Zn;const _t=It.onDidChangeContent(we=>{if(we.isFlush)return wn.cancel(),void _t.dispose();for(const Re of we.changes){const Xe=v.e.getEndPosition(Re.range);(!Zn||l.L.isBefore(Xe,Zn))&&(Zn=Xe)}}),D=ct;ct|=2;let K=!1;const q=this.editor.onWillType(()=>{q.dispose(),K=!0,2&D||this.editor.pushUndoStop()});Pt.push(Ht.resolve(wn.token).then(()=>{if(!Ht.completion.additionalTextEdits||wn.token.isCancellationRequested||Zn&&Ht.completion.additionalTextEdits.some(Re=>l.L.isBefore(Zn,v.e.getStartPosition(Re.range))))return!1;K&&this.editor.pushUndoStop();const we=p.Z.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",Ht.completion.additionalTextEdits.map(Re=>n.h.replaceMove(v.e.lift(Re.range),Re.text))),we.restoreRelativeVerticalPositionOfCursor(this.editor),(K||!(2&D))&&this.editor.pushUndoStop(),!0}).then(we=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",Kn.elapsed(),we),_t.dispose(),q.dispose()}))}let{insertText:Qt}=Ht.completion;4&Ht.completion.insertTextRules||(Qt=I.Yj.escape(Qt)),St.insert(Qt,{overwriteBefore:Fn.overwriteBefore,overwriteAfter:Fn.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&Ht.completion.insertTextRules),clipboardText:Ge.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&ct||this.editor.pushUndoStop(),Ht.completion.command?Ht.completion.command.id===Bt.id?this.model.trigger({auto:!0,shy:!1,noSelect:!1},!0):(Pt.push(this._commandService.executeCommand(Ht.completion.command.id,...Ht.completion.command.arguments?[...Ht.completion.command.arguments]:[]).catch(u.dL)),this.model.cancel()):this.model.cancel(),4&ct&&this._alternatives.value.set(Ge,Kn=>{for(wn.cancel();It.canUndo();){Zt!==It.getAlternativeVersionId()&&It.undo(),this._insertSuggestion(Kn,3|(8&ct?8:0));break}}),this._alertCompletionItem(Ht),Promise.all(Pt).finally(()=>{this._reportSuggestionAcceptedTelemetry(Ht,It,Ge),this.model.clear(),wn.dispose()})}_reportSuggestionAcceptedTelemetry(Ge,ct,St){var It;if(this._telemetryGate++%100!=0)return;const Zt=Ge.extensionId?Ge.extensionId.value:(null!==(It=St.item.provider._debugDisplayName)&&void 0!==It?It:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:Zt,kind:Ge.completion.kind,basenameHash:(0,Lt.vp)((0,ei.EZ)(ct.uri)).toString(16),languageId:ct.getLanguageId(),fileExtension:(0,ei.DZ)(ct.uri)})}getOverwriteInfo(Ge,ct){(0,a.p_)(this.editor.hasModel());let St="replace"===this.editor.getOption(108).insertMode;ct&&(St=!St);const Zt=(St?Ge.editReplaceEnd.column:Ge.editInsertEnd.column)-Ge.position.column;return{overwriteBefore:Ge.position.column-Ge.editStart.column+(this.editor.getPosition().column-Ge.position.column),overwriteAfter:Zt+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}_alertCompletionItem(Ge){if((0,s.Of)(Ge.completion.additionalTextEdits)){const ct=R.NC("aria.alert.snippet","Accepting '{0}' made {1} additional edits",Ge.textLabel,Ge.completion.additionalTextEdits.length);(0,f.Z9)(ct)}}triggerSuggest(Ge,ct,St,It){this.editor.hasModel()&&(this.model.trigger({auto:null!=ct&&ct,shy:!1,noSelect:null!=It&&It},!1,Ge,void 0,St),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(Ge){if(!this.editor.hasModel())return;const ct=this.editor.getPosition(),St=()=>{ct.equals(this.editor.getPosition())&&this._commandService.executeCommand(Ge.fallback)},It=Zt=>{if(4&Zt.completion.insertTextRules||Zt.completion.additionalTextEdits)return!0;const Ht=this.editor.getPosition(),Pt=Zt.editStart.column,wn=Ht.column;return wn-Pt!==Zt.completion.insertText.length||this.editor.getModel().getValueInRange({startLineNumber:Ht.lineNumber,startColumn:Pt,endLineNumber:Ht.lineNumber,endColumn:wn})!==Zt.completion.insertText};P.ju.once(this.model.onDidTrigger)(Zt=>{const Ht=[];P.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,k.B9)(Ht),St()},void 0,Ht),this.model.onDidSuggest(({completionModel:Pt})=>{if((0,k.B9)(Ht),0===Pt.items.length)return void St();const wn=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),Pt.items),Fn=Pt.items[wn];It(Fn)?(this.editor.pushUndoStop(),this._insertSuggestion({index:wn,item:Fn,model:Pt},7)):St()},void 0,Ht)}),this.model.trigger({auto:!1,shy:!0,noSelect:!1}),this.editor.revealPosition(ct,0),this.editor.focus()}acceptSelectedSuggestion(Ge,ct){const St=this.widget.value.getFocusedItem();let It=0;Ge&&(It|=4),ct&&(It|=8),this._insertSuggestion(St,It)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(Ge){return this._selectors.register(Ge)}};$e.ID="editor.contrib.suggestController",$e=function(Kt,Ge,ct,St){var Ht,It=arguments.length,Zt=It<3?Ge:null===St?St=Object.getOwnPropertyDescriptor(Ge,ct):St;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Zt=Reflect.decorate(Kt,Ge,ct,St);else for(var Pt=Kt.length-1;Pt>=0;Pt--)(Ht=Kt[Pt])&&(Zt=(It<3?Ht(Zt):It>3?Ht(Ge,ct,Zt):Ht(Ge,ct))||Zt);return It>3&&Zt&&Object.defineProperty(Ge,ct,Zt),Zt}([un(1,y.Fh),un(2,Q.Hy),un(3,S.i6),un(4,Z.TG),un(5,G.VZ),un(6,be.b)],$e);class wt{constructor(Ge){this.prioritySelector=Ge,this._items=new Array}register(Ge){if(-1!==this._items.indexOf(Ge))throw new Error("Value is already registered");return this._items.push(Ge),this._items.sort((ct,St)=>this.prioritySelector(St)-this.prioritySelector(ct)),{dispose:()=>{const ct=this._items.indexOf(Ge);ct>=0&&this._items.splice(ct,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}let Bt=(()=>{class Kt extends c.R6{constructor(){super({id:Kt.id,label:R.NC("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:S.Ao.and(d.u.writable,d.u.hasCompletionItemProvider),kbOpts:{kbExpr:d.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(ct,St,It){const Zt=$e.get(St);if(!Zt)return;let Ht,Pt;It&&"object"==typeof It&&(!0===It.auto&&(Ht=!0),!0===It.noSelection&&(Pt=!0)),Zt.triggerSuggest(void 0,Ht,void 0,Pt)}}return Kt.id="editor.action.triggerSuggest",Kt})();(0,c._K)($e.ID,$e),(0,c.Qr)(Bt);const Xt=190,nn=c._l.bindToContribution($e.get);(0,c.fK)(new nn({id:"acceptSelectedSuggestion",precondition:S.Ao.and(F._y.Visible,F._y.HasFocusedSuggestion),handler(Kt){Kt.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:S.Ao.and(F._y.Visible,d.u.textInputFocus),weight:Xt},{primary:3,kbExpr:S.Ao.and(F._y.Visible,d.u.textInputFocus,F._y.AcceptSuggestionsOnEnter,F._y.MakesTextEdit),weight:Xt}],menuOpts:[{menuId:F.GI,title:R.NC("accept.insert","Insert"),group:"left",order:1,when:F._y.HasInsertAndReplaceRange.toNegated()},{menuId:F.GI,title:R.NC("accept.insert","Insert"),group:"left",order:1,when:S.Ao.and(F._y.HasInsertAndReplaceRange,F._y.InsertMode.isEqualTo("insert"))},{menuId:F.GI,title:R.NC("accept.replace","Replace"),group:"left",order:1,when:S.Ao.and(F._y.HasInsertAndReplaceRange,F._y.InsertMode.isEqualTo("replace"))}]})),(0,c.fK)(new nn({id:"acceptAlternativeSelectedSuggestion",precondition:S.Ao.and(F._y.Visible,d.u.textInputFocus,F._y.HasFocusedSuggestion),kbOpts:{weight:Xt,kbExpr:d.u.textInputFocus,primary:1027,secondary:[1026]},handler(Kt){Kt.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:F.GI,group:"left",order:2,when:S.Ao.and(F._y.HasInsertAndReplaceRange,F._y.InsertMode.isEqualTo("insert")),title:R.NC("accept.replace","Replace")},{menuId:F.GI,group:"left",order:2,when:S.Ao.and(F._y.HasInsertAndReplaceRange,F._y.InsertMode.isEqualTo("replace")),title:R.NC("accept.insert","Insert")}]})),Q.P0.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,c.fK)(new nn({id:"hideSuggestWidget",precondition:F._y.Visible,handler:Kt=>Kt.cancelSuggestWidget(),kbOpts:{weight:Xt,kbExpr:d.u.textInputFocus,primary:9,secondary:[1033]}})),(0,c.fK)(new nn({id:"selectNextSuggestion",precondition:S.Ao.and(F._y.Visible,F._y.MultipleSuggestions),handler:Kt=>Kt.selectNextSuggestion(),kbOpts:{weight:Xt,kbExpr:d.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,c.fK)(new nn({id:"selectNextPageSuggestion",precondition:S.Ao.and(F._y.Visible,F._y.MultipleSuggestions),handler:Kt=>Kt.selectNextPageSuggestion(),kbOpts:{weight:Xt,kbExpr:d.u.textInputFocus,primary:12,secondary:[2060]}})),(0,c.fK)(new nn({id:"selectLastSuggestion",precondition:S.Ao.and(F._y.Visible,F._y.MultipleSuggestions),handler:Kt=>Kt.selectLastSuggestion()})),(0,c.fK)(new nn({id:"selectPrevSuggestion",precondition:S.Ao.and(F._y.Visible,F._y.MultipleSuggestions),handler:Kt=>Kt.selectPrevSuggestion(),kbOpts:{weight:Xt,kbExpr:d.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,c.fK)(new nn({id:"selectPrevPageSuggestion",precondition:S.Ao.and(F._y.Visible,F._y.MultipleSuggestions),handler:Kt=>Kt.selectPrevPageSuggestion(),kbOpts:{weight:Xt,kbExpr:d.u.textInputFocus,primary:11,secondary:[2059]}})),(0,c.fK)(new nn({id:"selectFirstSuggestion",precondition:S.Ao.and(F._y.Visible,F._y.MultipleSuggestions),handler:Kt=>Kt.selectFirstSuggestion()})),(0,c.fK)(new nn({id:"toggleSuggestionDetails",precondition:F._y.Visible,handler:Kt=>Kt.toggleSuggestionDetails(),kbOpts:{weight:Xt,kbExpr:d.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:F.GI,group:"right",order:1,when:S.Ao.and(F._y.DetailsVisible,F._y.CanResolve),title:R.NC("detail.more","show less")},{menuId:F.GI,group:"right",order:1,when:S.Ao.and(F._y.DetailsVisible.toNegated(),F._y.CanResolve),title:R.NC("detail.less","show more")}]})),(0,c.fK)(new nn({id:"toggleExplainMode",precondition:F._y.Visible,handler:Kt=>Kt.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,c.fK)(new nn({id:"toggleSuggestionFocus",precondition:F._y.Visible,handler:Kt=>Kt.toggleSuggestionFocus(),kbOpts:{weight:Xt,kbExpr:d.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,c.fK)(new nn({id:"insertBestCompletion",precondition:S.Ao.and(d.u.textInputFocus,S.Ao.equals("config.editor.tabCompletion","on"),T.AtEnd,F._y.Visible.toNegated(),z.OtherSuggestions.toNegated(),m.SnippetController2.InSnippetMode.toNegated()),handler:(Kt,Ge)=>{Kt.triggerSuggestAndAcceptBest((0,a.Kn)(Ge)?Object.assign({fallback:"tab"},Ge):{fallback:"tab"})},kbOpts:{weight:Xt,primary:2}})),(0,c.fK)(new nn({id:"insertNextSuggestion",precondition:S.Ao.and(d.u.textInputFocus,S.Ao.equals("config.editor.tabCompletion","on"),z.OtherSuggestions,F._y.Visible.toNegated(),m.SnippetController2.InSnippetMode.toNegated()),handler:Kt=>Kt.acceptNextSuggestion(),kbOpts:{weight:Xt,kbExpr:d.u.textInputFocus,primary:2}})),(0,c.fK)(new nn({id:"insertPrevSuggestion",precondition:S.Ao.and(d.u.textInputFocus,S.Ao.equals("config.editor.tabCompletion","on"),z.OtherSuggestions,F._y.Visible.toNegated(),m.SnippetController2.InSnippetMode.toNegated()),handler:Kt=>Kt.acceptPrevSuggestion(),kbOpts:{weight:Xt,kbExpr:d.u.textInputFocus,primary:1026}})),(0,c.Qr)(class extends c.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:R.NC("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(Kt,Ge){var ct;null===(ct=$e.get(Ge))||void 0===ct||ct.resetWidgetSize()}})},40931:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{SuggestInlineCompletions:()=>S});var f=e(80152),s=e(81979),L=e(67981),M=e(52425),u=e(95172),P=e(7221),A=e(68451),k=e(37464),N=e(41071),_=e(31452),a=e(42094),p=e(30277),c=e(57926),n=e(80777),l=e(64725),v=function(x,T,R,Q){var F,Z=arguments.length,G=Z<3?T:null===Q?Q=Object.getOwnPropertyDescriptor(T,R):Q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)G=Reflect.decorate(x,T,R,Q);else for(var W=x.length-1;W>=0;W--)(F=x[W])&&(G=(Z<3?F(G):Z>3?F(T,R,G):F(T,R))||G);return Z>3&&G&&Object.defineProperty(T,R,G),G},d=function(x,T){return function(R,Q){T(R,Q,x)}};class I{constructor(T,R,Q,Z,G,F){this.range=T,this.insertText=R,this.filterText=Q,this.additionalTextEdits=Z,this.command=G,this.completion=F}}let y=class extends M.L6{constructor(T,R,Q,Z,G,F){super(G.disposable),this.model=T,this.line=R,this.word=Q,this.completionModel=Z,this._suggestMemoryService=F}canBeReused(T,R,Q){return this.model===T&&this.line===R&&this.word.word.length>0&&this.word.startColumn===Q.startColumn&&this.word.endColumn<Q.endColumn&&0===this.completionModel.incomplete.size}get items(){var T;const R=[],{items:Q}=this.completionModel,Z=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},Q),G=L.$.slice(Q,Z),F=L.$.slice(Q,0,Z);let W=5;for(const B of L.$.concat(G,F)){if(B.score===s.CL.Default)continue;const z=new A.e(B.editStart.lineNumber,B.editStart.column,B.editInsertEnd.lineNumber,B.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta);R.push(new I(z,B.completion.insertTextRules&&B.completion.insertTextRules&N.a7.InsertAsSnippet?{snippet:B.completion.insertText}:B.completion.insertText,null!==(T=B.filterTextLow)&&void 0!==T?T:B.labelLow,B.completion.additionalTextEdits,B.completion.command,B)),W-- >=0&&B.resolve(f.T.None)}return R}};y=v([d(5,p.Fh)],y);let S=class{constructor(T,R,Q,Z){this._getEditorOption=T,this._languageFeatureService=R,this._clipboardService=Q,this._suggestMemoryService=Z}provideInlineCompletions(T,R,Q,Z){var G;return function(x,T,R,Q){return new(R||(R=Promise))(function(G,F){function W(j){try{z(Q.next(j))}catch(Y){F(Y)}}function B(j){try{z(Q.throw(j))}catch(Y){F(Y)}}function z(j){j.done?G(j.value):function Z(G){return G instanceof R?G:new R(function(F){F(G)})}(j.value).then(W,B)}z((Q=Q.apply(x,T||[])).next())})}(this,void 0,void 0,function*(){if(Q.selectedSuggestionInfo)return;const F=this._getEditorOption(81,T);if(a.tG.isAllOff(F))return;T.tokenization.tokenizeIfCheap(R.lineNumber);const W=T.tokenization.getLineTokens(R.lineNumber),B=W.getStandardTokenType(W.findTokenIndexAtOffset(Math.max(R.column-1-1,0)));if("inline"!==a.tG.valueFor(F,B))return;let j,Y,z=T.getWordAtPosition(R);if(null!=z&&z.word||(j=this._getTriggerCharacterInfo(T,R)),(null==z||!z.word)&&!j||(z||(z=T.getWordUntilPosition(R)),z.endColumn!==R.column))return;const E=T.getValueInRange(new A.e(R.lineNumber,1,R.lineNumber,R.column));if(!j&&(null===(G=this._lastResult)||void 0===G?void 0:G.canBeReused(T,R.lineNumber,z))){const V=new _.t(E,R.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=V,this._lastResult.acquire(),Y=this._lastResult}else{const V=yield(0,a.kL)(this._languageFeatureService.completionProvider,T,R,new a.A9(void 0,void 0,null==j?void 0:j.providers),j&&{triggerKind:1,triggerCharacter:j.ch},Z);let $;V.needsClipboard&&($=yield this._clipboardService.readText());const te=new _._(V.items,R.column,new _.t(E,0),c.K.None,this._getEditorOption(108,T),this._getEditorOption(103,T),{boostFullMatch:!1,firstMatchCanBeWeak:!1},$);Y=new y(T,R.lineNumber,z,te,V,this._suggestMemoryService)}return this._lastResult=Y,Y})}handleItemDidShow(T,R){R.completion.resolve(f.T.None)}freeInlineCompletions(T){T.release()}_getTriggerCharacterInfo(T,R){var Q;const Z=T.getValueInRange(A.e.fromPositions({lineNumber:R.lineNumber,column:R.column-1},R)),G=new Set;for(const F of this._languageFeatureService.completionProvider.all(T))null!==(Q=F.triggerCharacters)&&void 0!==Q&&Q.includes(Z)&&G.add(F);if(0!==G.size)return{providers:G,ch:Z}}};S=v([d(1,k.p),d(2,n.p),d(3,p.Fh)],S);let b=class vr{constructor(T,R,Q,Z){if(1==++vr._counter){const G=Z.createInstance(S,(F,W)=>{var B;return(null!==(B=Q.listCodeEditors().find(j=>j.getModel()===W))&&void 0!==B?B:T).getOption(F)});vr._disposable=R.inlineCompletionsProvider.register("*",G)}}dispose(){var T;0==--vr._counter&&(null===(T=vr._disposable)||void 0===T||T.dispose(),vr._disposable=void 0)}};b._counter=0,b=v([d(1,k.p),d(2,P.$),d(3,l.TG)],b),(0,u._K)("suggest.inlineCompletionsProvider",b)},30277:(at,ue,e)=>{"use strict";e.d(ue,{Fh:()=>v});var f=e(63072),s=e(52425),L=e(7838),M=e(66778),u=e(9869),P=e(18790),A=e(64725),k=e(99571),_=function(d,m){return function(I,y){m(I,y,d)}};class a{constructor(m){this.name=m}select(m,I,y){if(0===y.length)return 0;const S=y[0].score[0];for(let b=0;b<y.length;b++){const{score:x,completion:T}=y[b];if(x[0]!==S)break;if(T.preselect)return b}return 0}}class p extends a{constructor(){super("first")}memorize(m,I,y){}toJSON(){}fromJSON(){}}let l=class Za{constructor(m,I){this._storageService=m,this._configService=I,this._disposables=new s.SL,this._persistSoon=new f.pY(()=>this._saveState(),500),this._disposables.add(m.onWillSaveState(y=>{y.reason===k.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(m,I,y){this._withStrategy(m,I).memorize(m,I,y),this._persistSoon.schedule()}select(m,I,y){return this._withStrategy(m,I).select(m,I,y)}_withStrategy(m,I){var y;const S=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:m.getLanguageIdAtPosition(I.lineNumber,I.column),resource:m.uri});if((null===(y=this._strategy)||void 0===y?void 0:y.name)!==S){this._saveState();const b=Za._strategyCtors.get(S)||p;this._strategy=new b;try{const T=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,R=this._storageService.get(`${Za._storagePrefix}/${S}`,T);R&&this._strategy.fromJSON(JSON.parse(R))}catch(x){}}return this._strategy}_saveState(){if(this._strategy){const I=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,y=JSON.stringify(this._strategy);this._storageService.store(`${Za._storagePrefix}/${this._strategy.name}`,y,I,1)}}};l._strategyCtors=new Map([["recentlyUsedByPrefix",class n extends a{constructor(){super("recentlyUsedByPrefix"),this._trie=L.Id.forStrings(),this._seq=0}memorize(m,I,y){const{word:S}=m.getWordUntilPosition(I),b=`${m.getLanguageId()}/${S}`;this._trie.set(b,{type:y.completion.kind,insertText:y.completion.insertText,touch:this._seq++})}select(m,I,y){const{word:S}=m.getWordUntilPosition(I);if(!S)return super.select(m,I,y);const b=`${m.getLanguageId()}/${S}`;let x=this._trie.get(b);if(x||(x=this._trie.findSubstr(b)),x)for(let T=0;T<y.length;T++){const{kind:R,insertText:Q}=y[T].completion;if(R===x.type&&Q===x.insertText)return T}return super.select(m,I,y)}toJSON(){const m=[];return this._trie.forEach((I,y)=>m.push([y,I])),m.sort((I,y)=>-(I[1].touch-y[1].touch)).forEach((I,y)=>I[1].touch=y),m.slice(0,200)}fromJSON(m){if(this._trie.clear(),m.length>0){this._seq=m[0][1].touch+1;for(const[I,y]of m)y.type="number"==typeof y.type?y.type:M.gX.fromString(y.type),this._trie.set(I,y)}}}],["recentlyUsed",class c extends a{constructor(){super("recentlyUsed"),this._cache=new L.z6(300,.66),this._seq=0}memorize(m,I,y){const S=`${m.getLanguageId()}/${y.textLabel}`;this._cache.set(S,{touch:this._seq++,type:y.completion.kind,insertText:y.completion.insertText})}select(m,I,y){if(0===y.length)return 0;const S=m.getLineContent(I.lineNumber).substr(I.column-10,I.column-1);if(/\s$/.test(S))return super.select(m,I,y);const b=y[0].score[0];let T=-1,R=-1;for(let Q=0;Q<y.length&&y[Q].score[0]===b;Q++){const Z=`${m.getLanguageId()}/${y[Q].textLabel}`,G=this._cache.peek(Z);if(G&&G.touch>R&&G.type===y[Q].completion.kind&&G.insertText===y[Q].completion.insertText&&(R=G.touch,T=Q),y[Q].completion.preselect)return Q}return-1!==T?T:0}toJSON(){return this._cache.toJSON()}fromJSON(m){this._cache.clear();for(const[y,S]of m)S.touch=0,S.type="number"==typeof S.type?S.type:M.gX.fromString(S.type),this._cache.set(y,S);this._seq=this._cache.size}}],["first",p]]),l._storagePrefix="suggest/memories",l=function(d,m,I,y){var x,S=arguments.length,b=S<3?m:null===y?y=Object.getOwnPropertyDescriptor(m,I):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(d,m,I,y);else for(var T=d.length-1;T>=0;T--)(x=d[T])&&(b=(S<3?x(b):S>3?x(m,I,b):x(m,I))||b);return S>3&&b&&Object.defineProperty(m,I,b),b}([_(0,k.Uy),_(1,u.Ui)],l);const v=(0,A.yh)("ISuggestMemories");(0,P.z)(v,l,!0)},57926:(at,ue,e)=>{"use strict";e.d(ue,{K:()=>u});var f=e(18337),s=e(68451),L=e(58582);class u{static create(A,k){return function(P,A,k,N){return new(k||(k=Promise))(function(a,p){function c(v){try{l(N.next(v))}catch(d){p(d)}}function n(v){try{l(N.throw(v))}catch(d){p(d)}}function l(v){v.done?a(v.value):function _(a){return a instanceof k?a:new k(function(p){p(a)})}(v.value).then(c,n)}l((N=N.apply(P,A||[])).next())})}(this,void 0,void 0,function*(){if(!k.getOption(108).localityBonus||!k.hasModel())return u.None;const N=k.getModel(),_=k.getPosition();if(!A.canComputeWordRanges(N.uri))return u.None;const[a]=yield(new L.x).provideSelectionRanges(N,[_]);if(0===a.length)return u.None;const p=yield A.computeWordRanges(N.uri,a[0].range);if(!p)return u.None;const c=N.getWordUntilPosition(_);return delete p[c.word],new class extends u{distance(n,l){if(!_.equals(k.getPosition()))return 0;if(17===l.kind)return 2<<20;const d=p["string"==typeof l.label?l.label:l.label.label];if((0,f.XY)(d))return 2<<20;const m=(0,f.ry)(d,s.e.fromPositions(n),s.e.compareRangesUsingStarts),I=m>=0?d[m]:d[Math.max(0,~m-1)];let y=a.length;for(const S of a){if(!s.e.containsRange(S.range,I))break;y-=1}return y}}})}}u.None=new class extends u{distance(){return 0}}},50716:(at,ue,e)=>{"use strict";var f=e(2450),s=e(40402),L=e(28708),M=e(23024);const u=(0,L.P6G)("symbolIcon.arrayForeground",{dark:L.dRz,light:L.dRz,hcDark:L.dRz,hcLight:L.dRz},(0,s.NC)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),P=(0,L.P6G)("symbolIcon.booleanForeground",{dark:L.dRz,light:L.dRz,hcDark:L.dRz,hcLight:L.dRz},(0,s.NC)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),A=(0,L.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,s.NC)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),k=(0,L.P6G)("symbolIcon.colorForeground",{dark:L.dRz,light:L.dRz,hcDark:L.dRz,hcLight:L.dRz},(0,s.NC)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),N=(0,L.P6G)("symbolIcon.constantForeground",{dark:L.dRz,light:L.dRz,hcDark:L.dRz,hcLight:L.dRz},(0,s.NC)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_=(0,L.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,s.NC)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),a=(0,L.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,s.NC)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),p=(0,L.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,s.NC)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),c=(0,L.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,s.NC)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),n=(0,L.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,s.NC)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),l=(0,L.P6G)("symbolIcon.fileForeground",{dark:L.dRz,light:L.dRz,hcDark:L.dRz,hcLight:L.dRz},(0,s.NC)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),v=(0,L.P6G)("symbolIcon.folderForeground",{dark:L.dRz,light:L.dRz,hcDark:L.dRz,hcLight:L.dRz},(0,s.NC)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),d=(0,L.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,s.NC)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),m=(0,L.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,s.NC)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),I=(0,L.P6G)("symbolIcon.keyForeground",{dark:L.dRz,light:L.dRz,hcDark:L.dRz,hcLight:L.dRz},(0,s.NC)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),y=(0,L.P6G)("symbolIcon.keywordForeground",{dark:L.dRz,light:L.dRz,hcDark:L.dRz,hcLight:L.dRz},(0,s.NC)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),S=(0,L.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,s.NC)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),b=(0,L.P6G)("symbolIcon.moduleForeground",{dark:L.dRz,light:L.dRz,hcDark:L.dRz,hcLight:L.dRz},(0,s.NC)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),x=(0,L.P6G)("symbolIcon.namespaceForeground",{dark:L.dRz,light:L.dRz,hcDark:L.dRz,hcLight:L.dRz},(0,s.NC)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),T=(0,L.P6G)("symbolIcon.nullForeground",{dark:L.dRz,light:L.dRz,hcDark:L.dRz,hcLight:L.dRz},(0,s.NC)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),R=(0,L.P6G)("symbolIcon.numberForeground",{dark:L.dRz,light:L.dRz,hcDark:L.dRz,hcLight:L.dRz},(0,s.NC)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Q=(0,L.P6G)("symbolIcon.objectForeground",{dark:L.dRz,light:L.dRz,hcDark:L.dRz,hcLight:L.dRz},(0,s.NC)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Z=(0,L.P6G)("symbolIcon.operatorForeground",{dark:L.dRz,light:L.dRz,hcDark:L.dRz,hcLight:L.dRz},(0,s.NC)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),G=(0,L.P6G)("symbolIcon.packageForeground",{dark:L.dRz,light:L.dRz,hcDark:L.dRz,hcLight:L.dRz},(0,s.NC)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),F=(0,L.P6G)("symbolIcon.propertyForeground",{dark:L.dRz,light:L.dRz,hcDark:L.dRz,hcLight:L.dRz},(0,s.NC)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),W=(0,L.P6G)("symbolIcon.referenceForeground",{dark:L.dRz,light:L.dRz,hcDark:L.dRz,hcLight:L.dRz},(0,s.NC)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),B=(0,L.P6G)("symbolIcon.snippetForeground",{dark:L.dRz,light:L.dRz,hcDark:L.dRz,hcLight:L.dRz},(0,s.NC)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),z=(0,L.P6G)("symbolIcon.stringForeground",{dark:L.dRz,light:L.dRz,hcDark:L.dRz,hcLight:L.dRz},(0,s.NC)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),j=(0,L.P6G)("symbolIcon.structForeground",{dark:L.dRz,light:L.dRz,hcDark:L.dRz,hcLight:L.dRz},(0,s.NC)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Y=(0,L.P6G)("symbolIcon.textForeground",{dark:L.dRz,light:L.dRz,hcDark:L.dRz,hcLight:L.dRz},(0,s.NC)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),E=(0,L.P6G)("symbolIcon.typeParameterForeground",{dark:L.dRz,light:L.dRz,hcDark:L.dRz,hcLight:L.dRz},(0,s.NC)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),V=(0,L.P6G)("symbolIcon.unitForeground",{dark:L.dRz,light:L.dRz,hcDark:L.dRz,hcLight:L.dRz},(0,s.NC)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$=(0,L.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,s.NC)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));(0,M.Ic)((te,w)=>{const fe=te.getColor(u);fe&&w.addRule(`${f.lA.symbolArray.cssSelector} { color: ${fe}; }`);const be=te.getColor(P);be&&w.addRule(`${f.lA.symbolBoolean.cssSelector} { color: ${be}; }`);const me=te.getColor(A);me&&w.addRule(`${f.lA.symbolClass.cssSelector} { color: ${me}; }`);const Ie=te.getColor(S);Ie&&w.addRule(`${f.lA.symbolMethod.cssSelector} { color: ${Ie}; }`);const ee=te.getColor(k);ee&&w.addRule(`${f.lA.symbolColor.cssSelector} { color: ${ee}; }`);const ce=te.getColor(N);ce&&w.addRule(`${f.lA.symbolConstant.cssSelector} { color: ${ce}; }`);const he=te.getColor(_);he&&w.addRule(`${f.lA.symbolConstructor.cssSelector} { color: ${he}; }`);const de=te.getColor(a);de&&w.addRule(`\n\t\t\t${f.lA.symbolValue.cssSelector},${f.lA.symbolEnum.cssSelector} { color: ${de}; }`);const ge=te.getColor(p);ge&&w.addRule(`${f.lA.symbolEnumMember.cssSelector} { color: ${ge}; }`);const re=te.getColor(c);re&&w.addRule(`${f.lA.symbolEvent.cssSelector} { color: ${re}; }`);const Se=te.getColor(n);Se&&w.addRule(`${f.lA.symbolField.cssSelector} { color: ${Se}; }`);const Pe=te.getColor(l);Pe&&w.addRule(`${f.lA.symbolFile.cssSelector} { color: ${Pe}; }`);const Ve=te.getColor(v);Ve&&w.addRule(`${f.lA.symbolFolder.cssSelector} { color: ${Ve}; }`);const ie=te.getColor(d);ie&&w.addRule(`${f.lA.symbolFunction.cssSelector} { color: ${ie}; }`);const ye=te.getColor(m);ye&&w.addRule(`${f.lA.symbolInterface.cssSelector} { color: ${ye}; }`);const _e=te.getColor(I);_e&&w.addRule(`${f.lA.symbolKey.cssSelector} { color: ${_e}; }`);const Be=te.getColor(y);Be&&w.addRule(`${f.lA.symbolKeyword.cssSelector} { color: ${Be}; }`);const Qe=te.getColor(b);Qe&&w.addRule(`${f.lA.symbolModule.cssSelector} { color: ${Qe}; }`);const Ae=te.getColor(x);Ae&&w.addRule(`${f.lA.symbolNamespace.cssSelector} { color: ${Ae}; }`);const pe=te.getColor(T);pe&&w.addRule(`${f.lA.symbolNull.cssSelector} { color: ${pe}; }`);const De=te.getColor(R);De&&w.addRule(`${f.lA.symbolNumber.cssSelector} { color: ${De}; }`);const Oe=te.getColor(Q);Oe&&w.addRule(`${f.lA.symbolObject.cssSelector} { color: ${Oe}; }`);const Ne=te.getColor(Z);Ne&&w.addRule(`${f.lA.symbolOperator.cssSelector} { color: ${Ne}; }`);const ne=te.getColor(G);ne&&w.addRule(`${f.lA.symbolPackage.cssSelector} { color: ${ne}; }`);const xe=te.getColor(F);xe&&w.addRule(`${f.lA.symbolProperty.cssSelector} { color: ${xe}; }`);const Je=te.getColor(W);Je&&w.addRule(`${f.lA.symbolReference.cssSelector} { color: ${Je}; }`);const gt=te.getColor(B);gt&&w.addRule(`${f.lA.symbolSnippet.cssSelector} { color: ${gt}; }`);const lt=te.getColor(z);lt&&w.addRule(`${f.lA.symbolString.cssSelector} { color: ${lt}; }`);const Ke=te.getColor(j);Ke&&w.addRule(`${f.lA.symbolStruct.cssSelector} { color: ${Ke}; }`);const He=te.getColor(Y);He&&w.addRule(`${f.lA.symbolText.cssSelector} { color: ${He}; }`);const Ue=te.getColor(E);Ue&&w.addRule(`${f.lA.symbolTypeParameter.cssSelector} { color: ${Ue}; }`);const ot=te.getColor(V);ot&&w.addRule(`${f.lA.symbolUnit.cssSelector} { color: ${ot}; }`);const et=te.getColor($);et&&w.addRule(`${f.lA.symbolVariable.cssSelector} { color: ${et}; }`)})},9503:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{ToggleTabFocusModeAction:()=>u});var f=e(71578),s=e(75617),L=e(95172),M=e(40402);let u=(()=>{class P extends L.R6{constructor(){super({id:P.ID,label:M.NC({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(k,N){const a=!s.n.getTabFocusMode();s.n.setTabFocusMode(a),(0,f.Z9)(a?M.NC("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element"):M.NC("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}return P.ID="editor.action.toggleTabFocusMode",P})();(0,L.Qr)(u)},84325:(at,ue,e)=>{"use strict";e.r(ue);var f=e(41724),s=e(95172),L=e(40402);(0,s.Qr)(class M extends s.R6{constructor(){super({id:"editor.action.forceRetokenize",label:L.NC("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(P,A){if(!A.hasModel())return;const k=A.getModel();k.tokenization.resetTokenization();const N=new f.G(!0);k.tokenization.forceTokenization(k.getLineCount()),N.stop(),console.log(`tokenization took ${N.elapsed()}`)}})},70926:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{DisableHighlightingInCommentsAction:()=>Nt,DisableHighlightingInStringsAction:()=>ze,DisableHighlightingOfAmbiguousCharactersAction:()=>dt,DisableHighlightingOfInvisibleCharactersAction:()=>$t,DisableHighlightingOfNonBasicAsciiCharactersAction:()=>hn,ShowExcludeOptions:()=>vn,UnicodeHighlighter:()=>Je,UnicodeHighlighterHoverParticipant:()=>He,warningIcon:()=>xe});var f=e(63072),s=e(2450),L=e(22468),M=e(52425),u=e(38972),P=e(93059),A=e(93379),k=e.n(A),N=e(7795),_=e.n(N),a=e(90569),p=e.n(a),c=e(3565),n=e.n(c),l=e(19216),v=e.n(l),d=e(44589),m=e.n(d),I=e(98679),y={};y.styleTagTransform=m(),y.setAttributes=n(),y.insert=p().bind(null,"head"),y.domAPI=_(),y.insertStyleElement=v(),k()(I.Z,y);var x=e(95172),T=e(16367),R=e(3508),Q=e(96198),Z=e(84084),G=e(42570),F=e(21322),W=e(1754),B=e(43306),z=e(98367),j={};j.styleTagTransform=m(),j.setAttributes=n(),j.insert=p().bind(null,"head"),j.domAPI=_(),j.insertStyleElement=v(),k()(z.Z,j);var V=e(58059),$=e(84039),te=e(85113),w=e(53873),fe=e(64725),be=e(65691),me=e(74616),Ie=e(79680),ee=e(52787),ce=e(26589),he=e(28708),de=e(23024);let Se=class extends M.JT{constructor(Ee,Fe,mt={},Vt){var qt;super(),this._link=Fe,this._enabled=!0,this.el=(0,V.R3)(Ee,(0,V.$)("a.monaco-link",{tabIndex:null!==(qt=Fe.tabIndex)&&void 0!==qt?qt:0,href:Fe.href,title:Fe.title},Fe.label)),this.el.setAttribute("role","button");const Cn=this._register(new be.Y(this.el,"click")),Gt=this._register(new be.Y(this.el,"keypress")),en=ee.ju.chain(Gt.event).map(Ct=>new me.y(Ct)).filter(Ct=>3===Ct.keyCode).event,Yt=this._register(new be.Y(this.el,Ie.t.Tap)).event;this._register(Ie.o.addTarget(this.el));const ht=ee.ju.any(Cn.event,en,Yt);this._register(ht(Ct=>{!this.enabled||(V.zB.stop(Ct,!0),null!=mt&&mt.opener?mt.opener(this._link.href):Vt.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(Ee){Ee?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=Ee}};var Ee;Se=function(st,Ee,Fe,mt){var Cn,Vt=arguments.length,qt=Vt<3?Ee:null===mt?mt=Object.getOwnPropertyDescriptor(Ee,Fe):mt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)qt=Reflect.decorate(st,Ee,Fe,mt);else for(var Gt=st.length-1;Gt>=0;Gt--)(Cn=st[Gt])&&(qt=(Vt<3?Cn(qt):Vt>3?Cn(Ee,Fe,qt):Cn(Ee,Fe))||qt);return Vt>3&&qt&&Object.defineProperty(Ee,Fe,qt),qt}([(3,Ee=ce.v4,function(Fe,mt){Ee(Fe,mt,3)})],Se),(0,de.Ic)((st,Ee)=>{const Fe=st.getColor(he.url);Fe&&Ee.addRule(`.monaco-link { color: ${Fe}; }`);const mt=st.getColor(he.sgC);mt&&Ee.addRule(`.monaco-link:hover { color: ${mt}; }`)});var Pe=e(95836),Ve=function(st,Ee,Fe,mt){var Cn,Vt=arguments.length,qt=Vt<3?Ee:null===mt?mt=Object.getOwnPropertyDescriptor(Ee,Fe):mt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)qt=Reflect.decorate(st,Ee,Fe,mt);else for(var Gt=st.length-1;Gt>=0;Gt--)(Cn=st[Gt])&&(qt=(Vt<3?Cn(qt):Vt>3?Cn(Ee,Fe,qt):Cn(Ee,Fe))||qt);return Vt>3&&qt&&Object.defineProperty(Ee,Fe,qt),qt},ie=function(st,Ee){return function(Fe,mt){Ee(Fe,mt,st)}};let _e=class extends M.JT{constructor(Ee,Fe){super(),this._editor=Ee,this.instantiationService=Fe,this.banner=this._register(this.instantiationService.createInstance(Be))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(Ee){this.banner.show(Object.assign(Object.assign({},Ee),{onClose:()=>{var Fe;this.hide(),null===(Fe=Ee.onClose)||void 0===Fe||Fe.call(Ee)}})),this._editor.setBanner(this.banner.element,26)}};_e=Ve([ie(1,fe.TG)],_e);let Be=class extends M.JT{constructor(Ee){super(),this.instantiationService=Ee,this.markdownRenderer=this.instantiationService.createInstance(w.$,{}),this.element=(0,V.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(Ee){return Ee.ariaLabel?Ee.ariaLabel:"string"==typeof Ee.message?Ee.message:void 0}getBannerMessage(Ee){if("string"==typeof Ee){const Fe=(0,V.$)("span");return Fe.innerText=Ee,Fe}return this.markdownRenderer.render(Ee).element}clear(){(0,V.PO)(this.element)}show(Ee){(0,V.PO)(this.element);const Fe=this.getAriaLabel(Ee);Fe&&this.element.setAttribute("aria-label",Fe);const mt=(0,V.R3)(this.element,(0,V.$)("div.icon-container"));mt.setAttribute("aria-hidden","true"),Ee.icon&&mt.appendChild((0,V.$)(`div${de.kS.asCSSSelector(Ee.icon)}`));const Vt=(0,V.R3)(this.element,(0,V.$)("div.message-container"));if(Vt.setAttribute("aria-hidden","true"),Vt.appendChild(this.getBannerMessage(Ee.message)),this.messageActionsContainer=(0,V.R3)(this.element,(0,V.$)("div.message-actions-container")),Ee.actions)for(const Cn of Ee.actions)this._register(this.instantiationService.createInstance(Se,this.messageActionsContainer,Object.assign(Object.assign({},Cn),{tabIndex:-1}),{}));const qt=(0,V.R3)(this.element,(0,V.$)("div.action-container"));this.actionBar=this._register(new $.o(qt)),this.actionBar.push(this._register(new te.aU("banner.close","Close Banner",de.kS.asClassName(Pe.s_),!0,()=>{"function"==typeof Ee.onClose&&Ee.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};Be=Ve([ie(0,fe.TG)],Be);var Qe=e(40402),Ae=e(9869),pe=e(17098),De=e(26031),Oe=function(st,Ee,Fe,mt){var Cn,Vt=arguments.length,qt=Vt<3?Ee:null===mt?mt=Object.getOwnPropertyDescriptor(Ee,Fe):mt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)qt=Reflect.decorate(st,Ee,Fe,mt);else for(var Gt=st.length-1;Gt>=0;Gt--)(Cn=st[Gt])&&(qt=(Vt<3?Cn(qt):Vt>3?Cn(Ee,Fe,qt):Cn(Ee,Fe))||qt);return Vt>3&&qt&&Object.defineProperty(Ee,Fe,qt),qt},Ne=function(st,Ee){return function(Fe,mt){Ee(Fe,mt,st)}},ne=function(st,Ee,Fe,mt){return new(Fe||(Fe=Promise))(function(qt,Cn){function Gt(ht){try{Yt(mt.next(ht))}catch(Ct){Cn(Ct)}}function en(ht){try{Yt(mt.throw(ht))}catch(Ct){Cn(Ct)}}function Yt(ht){ht.done?qt(ht.value):function Vt(qt){return qt instanceof Fe?qt:new Fe(function(Cn){Cn(qt)})}(ht.value).then(Gt,en)}Yt((mt=mt.apply(st,Ee||[])).next())})};const xe=(0,Pe.q5)("extensions-warning-message",s.lA.warning,Qe.NC("warningIcon","Icon shown with a warning message in the extensions editor."));let Je=class extends M.JT{constructor(Ee,Fe,mt,Vt){super(),this._editor=Ee,this._editorWorkerService=Fe,this._workspaceTrustService=mt,this._highlighter=null,this._bannerClosed=!1,this._updateState=qt=>{if(qt&&qt.hasMore){if(this._bannerClosed)return;const Cn=Math.max(qt.ambiguousCharacterCount,qt.nonBasicAsciiCharacterCount,qt.invisibleCharacterCount);let Gt;if(qt.nonBasicAsciiCharacterCount>=Cn)Gt={message:Qe.NC("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new hn};else if(qt.ambiguousCharacterCount>=Cn)Gt={message:Qe.NC("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new dt};else{if(!(qt.invisibleCharacterCount>=Cn))throw new Error("Unreachable");Gt={message:Qe.NC("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new $t}}this._bannerController.show({id:"unicodeHighlightBanner",message:Gt.message,icon:xe,actions:[{label:Gt.command.shortLabel,href:`command:${Gt.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(Vt.createInstance(_e,Ee)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=Ee.getOption(115),this._register(mt.onDidChangeTrust(qt=>{this._updateHighlighter()})),this._register(Ee.onDidChangeConfiguration(qt=>{qt.hasChanged(115)&&(this._options=Ee.getOption(115),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const Ee=function gt(st,Ee){return{nonBasicASCII:Ee.nonBasicASCII===T.Av?!st:Ee.nonBasicASCII,ambiguousCharacters:Ee.ambiguousCharacters,invisibleCharacters:Ee.invisibleCharacters,includeComments:Ee.includeComments===T.Av?!st:Ee.includeComments,includeStrings:Ee.includeStrings===T.Av?!st:Ee.includeStrings,allowedCharacters:Ee.allowedCharacters,allowedLocales:Ee.allowedLocales}}(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([Ee.nonBasicASCII,Ee.ambiguousCharacters,Ee.invisibleCharacters].every(mt=>!1===mt))return;const Fe={nonBasicASCII:Ee.nonBasicASCII,ambiguousCharacters:Ee.ambiguousCharacters,invisibleCharacters:Ee.invisibleCharacters,includeComments:Ee.includeComments,includeStrings:Ee.includeStrings,allowedCodePoints:Object.keys(Ee.allowedCharacters).map(mt=>mt.codePointAt(0)),allowedLocales:Object.keys(Ee.allowedLocales).map(mt=>"_os"===mt?(new Intl.NumberFormat).resolvedOptions().locale:"_vscode"===mt?u.dK:mt)};this._highlighter=this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?new lt(this._editor,Fe,this._updateState,this._editorWorkerService):new Ke(this._editor,Fe,this._updateState)}getDecorationInfo(Ee){return this._highlighter?this._highlighter.getDecorationInfo(Ee):null}};Je.ID="editor.contrib.unicodeHighlighter",Je=Oe([Ne(1,Z.p),Ne(2,De.Y),Ne(3,fe.TG)],Je);let lt=class extends M.JT{constructor(Ee,Fe,mt,Vt){super(),this._editor=Ee,this._options=Fe,this._updateState=mt,this._editorWorkerService=Vt,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new f.pY(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void this._decorations.clear();const Ee=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(Fe=>{if(this._model.isDisposed()||this._model.getVersionId()!==Ee)return;this._updateState(Fe);const mt=[];if(!Fe.hasMore)for(const Vt of Fe.ranges)mt.push({range:Vt,options:Mt.instance.getDecorationFromOptions(this._options)});this._decorations.set(mt)})}getDecorationInfo(Ee){if(!this._decorations.has(Ee))return null;const Fe=this._editor.getModel();return(0,F.Fd)(Fe,Ee)?{reason:Ze(Fe.getValueInRange(Ee.range),this._options),inComment:(0,F.$t)(Fe,Ee),inString:(0,F.zg)(Fe,Ee)}:null}};lt=Oe([Ne(3,Z.p)],lt);class Ke extends M.JT{constructor(Ee,Fe,mt){super(),this._editor=Ee,this._options=Fe,this._updateState=mt,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new f.pY(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void this._decorations.clear();const Ee=this._editor.getVisibleRanges(),Fe=[],mt={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const Vt of Ee){const qt=Q.a.computeUnicodeHighlights(this._model,this._options,Vt);for(const Cn of qt.ranges)mt.ranges.push(Cn);mt.ambiguousCharacterCount+=mt.ambiguousCharacterCount,mt.invisibleCharacterCount+=mt.invisibleCharacterCount,mt.nonBasicAsciiCharacterCount+=mt.nonBasicAsciiCharacterCount,mt.hasMore=mt.hasMore||qt.hasMore}if(!mt.hasMore)for(const Vt of mt.ranges)Fe.push({range:Vt,options:Mt.instance.getDecorationFromOptions(this._options)});this._updateState(mt),this._decorations.set(Fe)}getDecorationInfo(Ee){if(!this._decorations.has(Ee))return null;const Fe=this._editor.getModel(),mt=Fe.getValueInRange(Ee.range);return(0,F.Fd)(Fe,Ee)?{reason:Ze(mt,this._options),inComment:(0,F.$t)(Fe,Ee),inString:(0,F.zg)(Fe,Ee)}:null}}let He=class{constructor(Ee,Fe,mt){this._editor=Ee,this._languageService=Fe,this._openerService=mt,this.hoverOrdinal=4}computeSync(Ee,Fe){if(!this._editor.hasModel()||1!==Ee.type)return[];const mt=this._editor.getModel(),Vt=this._editor.getContribution(Je.ID);if(!Vt)return[];const qt=[];let Cn=300;for(const Gt of Fe){const en=Vt.getDecorationInfo(Gt);if(!en)continue;const ht=mt.getValueInRange(Gt.range).codePointAt(0),Ct=ot(ht);let rn;switch(en.reason.kind){case 0:rn=Qe.NC("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",Ct,ot(en.reason.confusableWith.codePointAt(0)));break;case 1:rn=Qe.NC("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",Ct);break;case 2:rn=Qe.NC("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",Ct)}const jt={codePoint:ht,reason:en.reason,inComment:en.inComment,inString:en.inString},yn=Qe.NC("unicodeHighlight.adjustSettings","Adjust settings"),En=`command:${vn.ID}?${encodeURIComponent(JSON.stringify(jt))}`,xn=new L.W5("",!0).appendMarkdown(rn).appendText(" ").appendLink(En,yn);qt.push(new B.hU(this,Gt.range,[xn],Cn++))}return qt}renderHoverParts(Ee,Fe){return(0,B.c)(Ee,Fe,this._editor,this._languageService,this._openerService)}};function Ue(st){return`U+${st.toString(16).padStart(4,"0")}`}function ot(st){let Ee=`\`${Ue(st)}\``;return P.vU.isInvisibleCharacter(st)||(Ee+=` "${function et(st){return 96===st?"`` ` ``":"`"+String.fromCodePoint(st)+"`"}(st)}"`),Ee}function Ze(st,Ee){return Q.a.computeUnicodeHighlightReason(st,Ee)}He=Oe([Ne(1,G.O),Ne(2,ce.v4)],He);class Mt{constructor(){this.map=new Map}getDecorationFromOptions(Ee){return this.getDecoration(!Ee.includeComments,!Ee.includeStrings)}getDecoration(Ee,Fe){const mt=`${Ee}${Fe}`;let Vt=this.map.get(mt);return Vt||(Vt=R.qx.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:Ee,hideInStringTokens:Fe}),this.map.set(mt,Vt)),Vt}}Mt.instance=new Mt;class Nt extends x.R6{constructor(){super({id:dt.ID,label:Qe.NC("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=Qe.NC("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(Ee,Fe,mt){return ne(this,void 0,void 0,function*(){const Vt=null==Ee?void 0:Ee.get(Ae.Ui);Vt&&this.runAction(Vt)})}runAction(Ee){return ne(this,void 0,void 0,function*(){yield Ee.updateValue(T.qt.includeComments,!1,2)})}}class ze extends x.R6{constructor(){super({id:dt.ID,label:Qe.NC("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=Qe.NC("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(Ee,Fe,mt){return ne(this,void 0,void 0,function*(){const Vt=null==Ee?void 0:Ee.get(Ae.Ui);Vt&&this.runAction(Vt)})}runAction(Ee){return ne(this,void 0,void 0,function*(){yield Ee.updateValue(T.qt.includeStrings,!1,2)})}}let dt=(()=>{class st extends x.R6{constructor(){super({id:st.ID,label:Qe.NC("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=Qe.NC("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(Fe,mt,Vt){return ne(this,void 0,void 0,function*(){const qt=null==Fe?void 0:Fe.get(Ae.Ui);qt&&this.runAction(qt)})}runAction(Fe){return ne(this,void 0,void 0,function*(){yield Fe.updateValue(T.qt.ambiguousCharacters,!1,2)})}}return st.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters",st})(),$t=(()=>{class st extends x.R6{constructor(){super({id:st.ID,label:Qe.NC("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=Qe.NC("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(Fe,mt,Vt){return ne(this,void 0,void 0,function*(){const qt=null==Fe?void 0:Fe.get(Ae.Ui);qt&&this.runAction(qt)})}runAction(Fe){return ne(this,void 0,void 0,function*(){yield Fe.updateValue(T.qt.invisibleCharacters,!1,2)})}}return st.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters",st})(),hn=(()=>{class st extends x.R6{constructor(){super({id:st.ID,label:Qe.NC("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=Qe.NC("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(Fe,mt,Vt){return ne(this,void 0,void 0,function*(){const qt=null==Fe?void 0:Fe.get(Ae.Ui);qt&&this.runAction(qt)})}runAction(Fe){return ne(this,void 0,void 0,function*(){yield Fe.updateValue(T.qt.nonBasicASCII,!1,2)})}}return st.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters",st})(),vn=(()=>{class st extends x.R6{constructor(){super({id:st.ID,label:Qe.NC("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(Fe,mt,Vt){return ne(this,void 0,void 0,function*(){const{codePoint:qt,reason:Cn,inString:Gt,inComment:en}=Vt,Yt=String.fromCodePoint(qt),ht=Fe.get(pe.eJ),Ct=Fe.get(Ae.Ui),jt=[];if(0===Cn.kind)for(const En of Cn.notAmbiguousInLocales)jt.push({label:Qe.NC("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',En),run:()=>ne(this,void 0,void 0,function*(){ke(Ct,[En])})});if(jt.push({label:function rn(En){return P.vU.isInvisibleCharacter(En)?Qe.NC("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",Ue(En)):Qe.NC("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${Ue(En)} "${Yt}"`)}(qt),run:()=>function ft(st,Ee){return ne(this,void 0,void 0,function*(){const Fe=st.getValue(T.qt.allowedCharacters);let mt;mt="object"==typeof Fe&&Fe?Fe:{};for(const Vt of Ee)mt[String.fromCodePoint(Vt)]=!0;yield st.updateValue(T.qt.allowedCharacters,mt,2)})}(Ct,[qt])}),en){const En=new Nt;jt.push({label:En.label,run:()=>ne(this,void 0,void 0,function*(){return En.runAction(Ct)})})}else if(Gt){const En=new ze;jt.push({label:En.label,run:()=>ne(this,void 0,void 0,function*(){return En.runAction(Ct)})})}if(0===Cn.kind){const En=new dt;jt.push({label:En.label,run:()=>ne(this,void 0,void 0,function*(){return En.runAction(Ct)})})}else if(1===Cn.kind){const En=new $t;jt.push({label:En.label,run:()=>ne(this,void 0,void 0,function*(){return En.runAction(Ct)})})}else if(2===Cn.kind){const En=new hn;jt.push({label:En.label,run:()=>ne(this,void 0,void 0,function*(){return En.runAction(Ct)})})}else!function nt(st){throw new Error(`Unexpected value: ${st}`)}(Cn);const yn=yield ht.pick(jt,{title:Qe.NC("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});yn&&(yield yn.run())})}}return st.ID="editor.action.unicodeHighlight.showExcludeOptions",st})();function ke(st,Ee){var Fe;return ne(this,void 0,void 0,function*(){const mt=null===(Fe=st.inspect(T.qt.allowedLocales).user)||void 0===Fe?void 0:Fe.value;let Vt;Vt="object"==typeof mt&&mt?Object.assign({},mt):{};for(const qt of Ee)Vt[qt]=!0;yield st.updateValue(T.qt.allowedLocales,Vt,2)})}(0,x.Qr)(dt),(0,x.Qr)($t),(0,x.Qr)(hn),(0,x.Qr)(vn),(0,x._K)(Je.ID,Je),W.Ae.register(He)},98164:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{UnusualLineTerminatorsDetector:()=>c});var f=e(52425),s=e(15151),L=e(95172),M=e(7221),u=e(40402),P=e(20161),k=function(n,l){return function(v,d){l(v,d,n)}};const _="ignoreUnusualLineTerminators";let c=class extends f.JT{constructor(l,v,d){super(),this._editor=l,this._dialogService=v,this._codeEditorService=d,this._config=this._editor.getOption(116),this._register(this._editor.onDidChangeConfiguration(m=>{m.hasChanged(116)&&(this._config=this._editor.getOption(116),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(m=>{m.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return n=this,l=void 0,d=function*(){if("off"===this._config||!this._editor.hasModel())return;const l=this._editor.getModel();l.mightContainUnusualLineTerminators()&&!0!==function p(n,l){return n.getModelProperty(l.uri,_)}(this._codeEditorService,l)&&!this._editor.getOption(83)&&("auto"!==this._config?(yield this._dialogService.confirm({title:u.NC("unusualLineTerminators.title","Unusual Line Terminators"),message:u.NC("unusualLineTerminators.message","Detected unusual line terminators"),detail:u.NC("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,s.EZ)(l.uri)),primaryButton:u.NC("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:u.NC("unusualLineTerminators.ignore","Ignore")})).confirmed?l.removeUnusualLineTerminators(this._editor.getSelections()):function a(n,l,v){n.setModelProperty(l.uri,_,v)}(this._codeEditorService,l,!0):l.removeUnusualLineTerminators(this._editor.getSelections()))},new((v=void 0)||(v=Promise))(function(I,y){function S(T){try{x(d.next(T))}catch(R){y(R)}}function b(T){try{x(d.throw(T))}catch(R){y(R)}}function x(T){T.done?I(T.value):function m(I){return I instanceof v?I:new v(function(y){y(I)})}(T.value).then(S,b)}x((d=d.apply(n,l||[])).next())});var n,l,v,d}};c.ID="editor.contrib.unusualLineTerminatorsDetector",c=function(n,l,v,d){var y,m=arguments.length,I=m<3?l:null===d?d=Object.getOwnPropertyDescriptor(l,v):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(n,l,v,d);else for(var S=n.length-1;S>=0;S--)(y=n[S])&&(I=(m<3?y(I):m>3?y(l,v,I):y(l,v))||I);return m>3&&I&&Object.defineProperty(l,v,I),I}([k(1,P.S),k(2,M.$)],c),(0,L._K)(c.ID,c)},67296:(at,ue,e)=>{"use strict";e.r(ue);var f=e(63072),s=e(52425),L=e(95172),M=e(98531),u=e(8648),P=e(76844),A=e(45836),k=e(9869),N=e(23024),_=e(79974),a=e(41724),p=e(37464),n=function(v,d){return function(m,I){d(m,I,v)}};let l=class extends s.JT{constructor(d,m,I,y,S,b){super(),this._modelService=m,this._themeService=I,this._configurationService=y,this._editor=d,this._provider=b.documentRangeSemanticTokensProvider,this._debounceInformation=S.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new f.pY(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const x=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{x()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),x()})),this._register(this._editor.onDidChangeModelContent(T=>{this._cancelAll(),x()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),x()})),this._register(this._configurationService.onDidChangeConfiguration(T=>{T.affectsConfiguration(P.e3)&&(this._cancelAll(),x())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),x()}))}_cancelAll(){for(const d of this._outstandingRequests)d.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(d){for(let m=0,I=this._outstandingRequests.length;m<I;m++)if(this._outstandingRequests[m]===d)return void this._outstandingRequests.splice(m,1)}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const d=this._editor.getModel();if(d.tokenization.hasCompleteSemanticTokens())return;if(!(0,P.tw)(d,this._themeService,this._configurationService))return void(d.tokenization.hasSomeSemanticTokens()&&d.tokenization.setSemanticTokens(null,!1));if(!(0,M.KO)(this._provider,d))return void(d.tokenization.hasSomeSemanticTokens()&&d.tokenization.setSemanticTokens(null,!1));const m=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(m.map(I=>this._requestRange(d,I)))}_requestRange(d,m){const I=d.getVersionId(),y=(0,f.PG)(b=>Promise.resolve((0,M.OG)(this._provider,d,m,b))),S=new a.G(!1);return y.then(b=>{if(this._debounceInformation.update(d,S.elapsed()),!b||!b.tokens||d.isDisposed()||d.getVersionId()!==I)return;const{provider:x,tokens:T}=b,R=this._modelService.getSemanticTokensProviderStyling(x);d.tokenization.setPartialSemanticTokens(m,(0,A.h)(T,R,d.getLanguageId()))}).then(()=>this._removeOutstandingRequest(y),()=>this._removeOutstandingRequest(y)),y}};l.ID="editor.contrib.viewportSemanticTokens",l=function(v,d,m,I){var b,y=arguments.length,S=y<3?d:null===I?I=Object.getOwnPropertyDescriptor(d,m):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)S=Reflect.decorate(v,d,m,I);else for(var x=v.length-1;x>=0;x--)(b=v[x])&&(S=(y<3?b(S):y>3?b(d,m,S):b(d,m))||S);return y>3&&S&&Object.defineProperty(d,m,S),S}([n(1,u.q),n(2,N.XE),n(3,k.Ui),n(4,_.A),n(5,p.p)],l),(0,L._K)(l.ID,l)},47759:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{getOccurrencesAtPosition:()=>G});var f=e(71578),s=e(18337),L=e(63072),M=e(80152),u=e(53663),P=e(52425),A=e(95172),k=e(68451),N=e(29584),_=e(32213),a=e(3508),p=e(66778),c=e(40402),n=e(59776),l=e(28708),v=e(23024),d=e(37464),m=e(58676),y=function(w,fe){return function(be,me){fe(be,me,w)}};const S=(0,l.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},c.NC("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),b=(0,l.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},c.NC("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),x=(0,l.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:l.xL1,hcLight:l.xL1},c.NC("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),T=(0,l.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:l.xL1,hcLight:l.xL1},c.NC("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),R=(0,l.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},c.NC("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Q=(0,l.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},c.NC("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Z=new n.uy("hasWordHighlights",!1);function G(w,fe,be,me){const Ie=w.ordered(fe);return(0,L.Ps)(Ie.map(ee=>()=>Promise.resolve(ee.provideDocumentHighlights(fe,be,me)).then(void 0,u.Cp)),s.Of)}class F{constructor(fe,be,me){this._model=fe,this._selection=be,this._wordSeparators=me,this._wordRange=this._getCurrentWordRange(fe,be),this._result=null}get result(){return this._result||(this._result=(0,L.PG)(fe=>this._compute(this._model,this._selection,this._wordSeparators,fe))),this._result}_getCurrentWordRange(fe,be){const me=fe.getWordAtPosition(be.getPosition());return me?new k.e(be.startLineNumber,me.startColumn,be.startLineNumber,me.endColumn):null}isValid(fe,be,me){const Ie=be.startLineNumber,ee=be.startColumn,ce=be.endColumn,he=this._getCurrentWordRange(fe,be);let de=Boolean(this._wordRange&&this._wordRange.equalsRange(he));for(let ge=0,re=me.length;!de&&ge<re;ge++){const Se=me.getRange(ge);Se&&Se.startLineNumber===Ie&&Se.startColumn<=ee&&Se.endColumn>=ce&&(de=!0)}return de}cancel(){this.result.cancel()}}class W extends F{constructor(fe,be,me,Ie){super(fe,be,me),this._providers=Ie}_compute(fe,be,me,Ie){return G(this._providers,fe,be.getPosition(),Ie).then(ee=>ee||[])}}class B extends F{constructor(fe,be,me){super(fe,be,me),this._selectionIsEmpty=be.isEmpty()}_compute(fe,be,me,Ie){return(0,L.Vs)(250,Ie).then(()=>{if(!be.isEmpty())return[];const ee=fe.getWordAtPosition(be.getPosition());return!ee||ee.word.length>1e3?[]:fe.findMatches(ee.word,!0,!1,!0,me,!1).map(he=>({range:he.range,kind:p.MY.Text}))})}isValid(fe,be,me){const Ie=be.isEmpty();return this._selectionIsEmpty===Ie&&super.isValid(fe,be,me)}}(0,A.sb)("_executeDocumentHighlights",(w,fe,be)=>G(w.get(d.p).documentHighlightProvider,fe,be,M.T.None));class j{constructor(fe,be,me){this.toUnhook=new P.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=fe,this.providers=be,this._hasWordHighlights=Z.bindTo(me),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(74),this.model=this.editor.getModel(),this.toUnhook.add(fe.onDidChangeCursorPosition(Ie=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(Ie)})),this.toUnhook.add(fe.onDidChangeModelContent(Ie=>{this._stopAll()})),this.toUnhook.add(fe.onDidChangeConfiguration(Ie=>{const ee=this.editor.getOption(74);this.occurrencesHighlight!==ee&&(this.occurrencesHighlight=ee,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(k.e.compareRangesUsingStarts)}moveNext(){const fe=this._getSortedHighlights(),me=(fe.findIndex(ee=>ee.containsPosition(this.editor.getPosition()))+1)%fe.length,Ie=fe[me];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(Ie.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(Ie);const ee=this._getWord();if(ee){const ce=this.editor.getModel().getLineContent(Ie.startLineNumber);(0,f.Z9)(`${ce}, ${me+1} of ${fe.length} for '${ee.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const fe=this._getSortedHighlights(),me=(fe.findIndex(ee=>ee.containsPosition(this.editor.getPosition()))-1+fe.length)%fe.length,Ie=fe[me];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(Ie.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(Ie);const ee=this._getWord();if(ee){const ce=this.editor.getModel().getLineContent(Ie.startLineNumber);(0,f.Z9)(`${ce}, ${me+1} of ${fe.length} for '${ee.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(fe){this.occurrencesHighlight&&3===fe.reason?this._run():this._stopAll()}_getWord(){const fe=this.editor.getSelection();return this.model.getWordAtPosition({lineNumber:fe.startLineNumber,column:fe.startColumn})}_run(){const fe=this.editor.getSelection();if(fe.startLineNumber!==fe.endLineNumber)return void this._stopAll();const be=fe.startColumn,me=fe.endColumn,Ie=this._getWord();if(!Ie||Ie.startColumn>be||Ie.endColumn<me)return void this._stopAll();const ee=this.workerRequest&&this.workerRequest.isValid(this.model,fe,this.decorations);if(this.lastCursorPositionChangeTime=(new Date).getTime(),ee)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const ce=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=function z(w,fe,be,me){return w.has(fe)?new W(fe,be,me,w):new B(fe,be,me)}(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(119)),this.workerRequest.result.then(he=>{ce===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=he||[],this._beginRenderDecorations())},u.dL)}}_beginRenderDecorations(){const fe=(new Date).getTime(),be=this.lastCursorPositionChangeTime+250;fe>=be?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},be-fe)}renderDecorations(){this.renderDecorationsTimer=-1;const fe=[];for(const be of this.workerRequestValue)be.range&&fe.push({range:be.range,options:j._getDecorationOptions(be.kind)});this.decorations.set(fe),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(fe){return fe===p.MY.Write?this._WRITE_OPTIONS:fe===p.MY.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}j._WRITE_OPTIONS=a.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,v.EN)(Q),position:_.sh.Center},minimap:{color:(0,v.EN)(l.IYc),position:_.F5.Inline}}),j._TEXT_OPTIONS=a.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,v.EN)(l.SPM),position:_.sh.Center},minimap:{color:(0,v.EN)(l.IYc),position:_.F5.Inline}}),j._REGULAR_OPTIONS=a.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,v.EN)(R),position:_.sh.Center},minimap:{color:(0,v.EN)(l.IYc),position:_.F5.Inline}});let Y=class oc extends P.JT{constructor(fe,be,me){super(),this.wordHighlighter=null;const Ie=()=>{fe.hasModel()&&(this.wordHighlighter=new j(fe,me.documentHighlightProvider,be))};this._register(fe.onDidChangeModel(ee=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),Ie()})),Ie()}static get(fe){return fe.getContribution(oc.ID)}saveViewState(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(fe){this.wordHighlighter&&fe&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};Y.ID="editor.contrib.wordHighlighter",Y=function(w,fe,be,me){var ce,Ie=arguments.length,ee=Ie<3?fe:null===me?me=Object.getOwnPropertyDescriptor(fe,be):me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ee=Reflect.decorate(w,fe,be,me);else for(var he=w.length-1;he>=0;he--)(ce=w[he])&&(ee=(Ie<3?ce(ee):Ie>3?ce(fe,be,ee):ce(fe,be))||ee);return Ie>3&&ee&&Object.defineProperty(fe,be,ee),ee}([y(1,n.i6),y(2,d.p)],Y);class E extends A.R6{constructor(fe,be){super(be),this._isNext=fe}run(fe,be){const me=Y.get(be);!me||(this._isNext?me.moveNext():me.moveBack())}}(0,A._K)(Y.ID,Y),(0,A.Qr)(class V extends E{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:c.NC("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:Z,kbOpts:{kbExpr:N.u.editorTextFocus,primary:65,weight:100}})}}),(0,A.Qr)(class $ extends E{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:c.NC("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:Z,kbOpts:{kbExpr:N.u.editorTextFocus,primary:1089,weight:100}})}}),(0,A.Qr)(class te extends A.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:c.NC("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:Z.toNegated(),kbOpts:{kbExpr:N.u.editorTextFocus,primary:0,weight:100}})}run(fe,be,me){const Ie=Y.get(be);!Ie||Ie.restoreViewState(!0)}}),(0,v.Ic)((w,fe)=>{const be=w.getColor(l.Rzx);be&&(fe.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${be}; }`),fe.addRule(`.monaco-editor .selectionHighlight { background-color: ${be.transparent(.5)}; }`));const me=w.getColor(S);me&&fe.addRule(`.monaco-editor .wordHighlight { background-color: ${me}; }`);const Ie=w.getColor(b);Ie&&fe.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${Ie}; }`);const ee=w.getColor(l.g_n);ee&&fe.addRule(`.monaco-editor .selectionHighlight { border: 1px ${(0,m.c3)(w.type)?"dotted":"solid"} ${ee}; box-sizing: border-box; }`);const ce=w.getColor(x);ce&&fe.addRule(`.monaco-editor .wordHighlight { border: 1px ${(0,m.c3)(w.type)?"dashed":"solid"} ${ce}; box-sizing: border-box; }`);const he=w.getColor(T);he&&fe.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${(0,m.c3)(w.type)?"dashed":"solid"} ${he}; box-sizing: border-box; }`)})},13015:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{CursorWordAccessibilityLeft:()=>R,CursorWordAccessibilityLeftSelect:()=>Q,CursorWordAccessibilityRight:()=>j,CursorWordAccessibilityRightSelect:()=>Y,CursorWordEndLeft:()=>y,CursorWordEndLeftSelect:()=>x,CursorWordEndRight:()=>G,CursorWordEndRightSelect:()=>B,CursorWordLeft:()=>S,CursorWordLeftSelect:()=>T,CursorWordRight:()=>F,CursorWordRightSelect:()=>z,CursorWordStartLeft:()=>I,CursorWordStartLeftSelect:()=>b,CursorWordStartRight:()=>Z,CursorWordStartRightSelect:()=>W,DeleteInsideWord:()=>ee,DeleteWordCommand:()=>E,DeleteWordEndLeft:()=>w,DeleteWordEndRight:()=>me,DeleteWordLeft:()=>fe,DeleteWordLeftCommand:()=>V,DeleteWordRight:()=>Ie,DeleteWordRightCommand:()=>$,DeleteWordStartLeft:()=>te,DeleteWordStartRight:()=>be,MoveWordCommand:()=>v,WordLeftCommand:()=>d,WordRightCommand:()=>m});var f=e(95172),s=e(85753),L=e(16367),M=e(95062),u=e(97616),P=e(30681),A=e(94220),k=e(68451),N=e(43210),_=e(29584),a=e(23924),p=e(40402),c=e(12452),n=e(59776),l=e(59239);class v extends f._l{constructor(he){super(he),this._inSelectionMode=he.inSelectionMode,this._wordNavigationType=he.wordNavigationType}runEditorCommand(he,de,ge){if(!de.hasModel())return;const re=(0,P.u)(de.getOption(119)),Se=de.getModel(),Ve=de.getSelections().map(ie=>{const ye=new A.L(ie.positionLineNumber,ie.positionColumn),_e=this._move(re,Se,ye,this._wordNavigationType);return this._moveTo(ie,_e,this._inSelectionMode)});if(Se.pushStackElement(),de._getViewModel().setCursorStates("moveWordCommand",3,Ve.map(ie=>M.Vi.fromModelSelection(ie))),1===Ve.length){const ie=new A.L(Ve[0].positionLineNumber,Ve[0].positionColumn);de.revealPosition(ie,0)}}_moveTo(he,de,ge){return ge?new N.Y(he.selectionStartLineNumber,he.selectionStartColumn,de.lineNumber,de.column):new N.Y(de.lineNumber,de.column,de.lineNumber,de.column)}}class d extends v{_move(he,de,ge,re){return u.w.moveWordLeft(he,de,ge,re)}}class m extends v{_move(he,de,ge,re){return u.w.moveWordRight(he,de,ge,re)}}class I extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class y extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class S extends d{constructor(){var he;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(_.u.textInputFocus,null===(he=n.Ao.and(c.U,l.cv))||void 0===he?void 0:he.negate()),primary:2063,mac:{primary:527},weight:100}})}}class b extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class x extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class T extends d{constructor(){var he;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(_.u.textInputFocus,null===(he=n.Ao.and(c.U,l.cv))||void 0===he?void 0:he.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class R extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(he,de,ge,re){return super._move((0,P.u)(L.BH.wordSeparators.defaultValue),de,ge,re)}}class Q extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(he,de,ge,re){return super._move((0,P.u)(L.BH.wordSeparators.defaultValue),de,ge,re)}}class Z extends m{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class G extends m{constructor(){var he;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(_.u.textInputFocus,null===(he=n.Ao.and(c.U,l.cv))||void 0===he?void 0:he.negate()),primary:2065,mac:{primary:529},weight:100}})}}class F extends m{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class W extends m{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class B extends m{constructor(){var he;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(_.u.textInputFocus,null===(he=n.Ao.and(c.U,l.cv))||void 0===he?void 0:he.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class z extends m{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class j extends m{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(he,de,ge,re){return super._move((0,P.u)(L.BH.wordSeparators.defaultValue),de,ge,re)}}class Y extends m{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(he,de,ge,re){return super._move((0,P.u)(L.BH.wordSeparators.defaultValue),de,ge,re)}}class E extends f._l{constructor(he){super(he),this._whitespaceHeuristics=he.whitespaceHeuristics,this._wordNavigationType=he.wordNavigationType}runEditorCommand(he,de,ge){const re=he.get(a.c_);if(!de.hasModel())return;const Se=(0,P.u)(de.getOption(119)),Pe=de.getModel(),Ve=de.getSelections(),ie=de.getOption(5),ye=de.getOption(8),_e=re.getLanguageConfiguration(Pe.getLanguageId()).getAutoClosingPairs(),Be=de._getViewModel(),Qe=Ve.map(Ae=>{const pe=this._delete({wordSeparators:Se,model:Pe,selection:Ae,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:de.getOption(6),autoClosingBrackets:ie,autoClosingQuotes:ye,autoClosingPairs:_e,autoClosedCharacters:Be.getCursorAutoClosedCharacters()},this._wordNavigationType);return new s.T4(pe,"")});de.pushUndoStop(),de.executeCommands(this.id,Qe),de.pushUndoStop()}}class V extends E{_delete(he,de){return u.w.deleteWordLeft(he,de)||new k.e(1,1,1,1)}}class $ extends E{_delete(he,de){const ge=u.w.deleteWordRight(he,de);if(ge)return ge;const re=he.model.getLineCount(),Se=he.model.getLineMaxColumn(re);return new k.e(re,Se,re,Se)}}class te extends V{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:_.u.writable})}}class w extends V{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:_.u.writable})}}class fe extends V{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:_.u.writable,kbOpts:{kbExpr:_.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class be extends ${constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:_.u.writable})}}class me extends ${constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:_.u.writable})}}class Ie extends ${constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:_.u.writable,kbOpts:{kbExpr:_.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class ee extends f.R6{constructor(){super({id:"deleteInsideWord",precondition:_.u.writable,label:p.NC("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(he,de,ge){if(!de.hasModel())return;const re=(0,P.u)(de.getOption(119)),Se=de.getModel(),Ve=de.getSelections().map(ie=>{const ye=u.w.deleteInsideWord(re,Se,ie);return new s.T4(ye,"")});de.pushUndoStop(),de.executeCommands(this.id,Ve),de.pushUndoStop()}}(0,f.fK)(new I),(0,f.fK)(new y),(0,f.fK)(new S),(0,f.fK)(new b),(0,f.fK)(new x),(0,f.fK)(new T),(0,f.fK)(new Z),(0,f.fK)(new G),(0,f.fK)(new F),(0,f.fK)(new W),(0,f.fK)(new B),(0,f.fK)(new z),(0,f.fK)(new R),(0,f.fK)(new Q),(0,f.fK)(new j),(0,f.fK)(new Y),(0,f.fK)(new te),(0,f.fK)(new w),(0,f.fK)(new fe),(0,f.fK)(new be),(0,f.fK)(new me),(0,f.fK)(new Ie),(0,f.Qr)(ee)},8364:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{CursorWordPartLeft:()=>_,CursorWordPartLeftSelect:()=>a,CursorWordPartRight:()=>c,CursorWordPartRightSelect:()=>n,DeleteWordPartLeft:()=>A,DeleteWordPartRight:()=>k,WordPartLeftCommand:()=>N,WordPartRightCommand:()=>p});var f=e(95172),s=e(97616),L=e(68451),M=e(29584),u=e(13015),P=e(23884);class A extends u.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:M.u.writable,kbOpts:{kbExpr:M.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(v,d){return s.L.deleteWordPartLeft(v)||new L.e(1,1,1,1)}}class k extends u.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:M.u.writable,kbOpts:{kbExpr:M.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(v,d){const m=s.L.deleteWordPartRight(v);if(m)return m;const I=v.model.getLineCount(),y=v.model.getLineMaxColumn(I);return new L.e(I,y,I,y)}}class N extends u.MoveWordCommand{_move(v,d,m,I){return s.L.moveWordPartLeft(v,d,m)}}class _ extends N{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:M.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}P.P0.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class a extends N{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:M.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}P.P0.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class p extends u.MoveWordCommand{_move(v,d,m,I){return s.L.moveWordPartRight(v,d,m)}}class c extends p{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:M.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class n extends p{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:M.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}(0,f.fK)(new A),(0,f.fK)(new k),(0,f.fK)(new _),(0,f.fK)(new a),(0,f.fK)(new c),(0,f.fK)(new n)},9873:(at,ue,e)=>{"use strict";e.r(ue);var f=e(93379),s=e.n(f),L=e(7795),M=e.n(L),u=e(90569),P=e.n(u),A=e(3565),k=e.n(A),N=e(19216),_=e.n(N),a=e(44589),p=e.n(a),c=e(88844),n={};n.styleTagTransform=p(),n.setAttributes=k(),n.insert=P().bind(null,"head"),n.domAPI=M(),n.insertStyleElement=_(),s()(c.Z,n);var d=e(58059),m=e(48554),I=e(95109),y=e(71578),S=e(83568),b=e(52425),x=e(38972),T=e(93059),R=e(74672),Q=e(95172),Z=e(29584),G=e(9503),F=e(59776),W=e(64725),B=e(77090),z=e(26589),j=e(28708),Y=e(23024),E=e(29710),V=function(ee,ce,he,de){var Se,ge=arguments.length,re=ge<3?ce:null===de?de=Object.getOwnPropertyDescriptor(ce,he):de;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)re=Reflect.decorate(ee,ce,he,de);else for(var Pe=ee.length-1;Pe>=0;Pe--)(Se=ee[Pe])&&(re=(ge<3?Se(re):ge>3?Se(ce,he,re):Se(ce,he))||re);return ge>3&&re&&Object.defineProperty(ce,he,re),re},$=function(ee,ce){return function(he,de){ce(he,de,ee)}};const te=new F.uy("accessibilityHelpWidgetVisible",!1);let w=class sc extends b.JT{constructor(ce,he){super(),this._editor=ce,this._widget=this._register(he.createInstance(be,this._editor))}static get(ce){return ce.getContribution(sc.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};w.ID="editor.contrib.accessibilityHelpController",w=V([$(1,W.TG)],w);let be=class Qa extends S.${constructor(ce,he,de,ge){super(),this._contextKeyService=he,this._keybindingService=de,this._openerService=ge,this._editor=ce,this._isVisibleKey=te.bindTo(this._contextKeyService),this._domNode=(0,m.X)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,m.X)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(d.mu(this._contentDomNode.domNode,"keydown",re=>{if(this._isVisible&&(re.equals(2083)&&((0,y.Z9)(E.Oe.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),d.PO(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),re.preventDefault(),re.stopPropagation()),re.equals(2086))){(0,y.Z9)(E.Oe.openingDocs);let Se=this._editor.getRawOptions().accessibilityHelpUrl;void 0===Se&&(Se="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(R.o.parse(Se)),re.preventDefault(),re.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Qa.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(ce,he,de){const ge=this._keybindingService.lookupKeybinding(ce);return ge?T.WU(he,ge.getAriaLabel()):T.WU(de,ce)}_buildContent(){const ce=this._editor.getOptions(),he=this._editor.getSelections();let de=0;if(he){const Pe=this._editor.getModel();Pe&&he.forEach(Ve=>{de+=Pe.getValueLengthInRange(Ve)})}let ge=function fe(ee,ce){return ee&&0!==ee.length?1===ee.length?ce?T.WU(E.Oe.singleSelectionRange,ee[0].positionLineNumber,ee[0].positionColumn,ce):T.WU(E.Oe.singleSelection,ee[0].positionLineNumber,ee[0].positionColumn):ce?T.WU(E.Oe.multiSelectionRange,ee.length,ce):ee.length>0?T.WU(E.Oe.multiSelection,ee.length):"":E.Oe.noSelection}(he,de);ce.get(56)?ce.get(83)?ge+=E.Oe.readonlyDiffEditor:ge+=E.Oe.editableDiffEditor:ce.get(83)?ge+=E.Oe.readonlyEditor:ge+=E.Oe.editableEditor;const re=x.dz?E.Oe.changeConfigToOnMac:E.Oe.changeConfigToOnWinLinux;switch(ce.get(2)){case 0:ge+="\n\n - "+re;break;case 2:ge+="\n\n - "+E.Oe.auto_on;break;case 1:ge+="\n\n - "+E.Oe.auto_off,ge+=" "+re}ce.get(132)?ge+="\n\n - "+this._descriptionForCommand(G.ToggleTabFocusModeAction.ID,E.Oe.tabFocusModeOnMsg,E.Oe.tabFocusModeOnMsgNoKb):ge+="\n\n - "+this._descriptionForCommand(G.ToggleTabFocusModeAction.ID,E.Oe.tabFocusModeOffMsg,E.Oe.tabFocusModeOffMsgNoKb),ge+="\n\n - "+(x.dz?E.Oe.openDocMac:E.Oe.openDocWinLinux),ge+="\n\n"+E.Oe.outroMsg,this._contentDomNode.domNode.appendChild((0,I.BO)(ge)),this._contentDomNode.domNode.setAttribute("aria-label",ge)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,d.PO(this._contentDomNode.domNode),this._editor.focus())}_layout(){const ce=this._editor.getLayoutInfo(),he=Math.max(5,Math.min(Qa.WIDTH,ce.width-40)),de=Math.max(5,Math.min(Qa.HEIGHT,ce.height-40));this._domNode.setWidth(he),this._domNode.setHeight(de);const ge=Math.round((ce.height-de)/2);this._domNode.setTop(ge);const re=Math.round((ce.width-he)/2);this._domNode.setLeft(re)}};be.ID="editor.contrib.accessibilityHelpWidget",be.WIDTH=500,be.HEIGHT=300,be=V([$(1,F.i6),$(2,B.d),$(3,z.v4)],be),(0,Q._K)(w.ID,w),(0,Q.Qr)(class me extends Q.R6{constructor(){super({id:"editor.action.showAccessibilityHelp",label:E.Oe.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(ce,he){const de=w.get(he);de&&de.show()}});const Ie=Q._l.bindToContribution(w.get);(0,Q.fK)(new Ie({id:"closeAccessibilityHelp",precondition:te,handler:ee=>ee.hide(),kbOpts:{weight:200,kbExpr:Z.u.focus,primary:9,secondary:[1033]}})),(0,Y.Ic)((ee,ce)=>{const he=ee.getColor(j.D0T);he&&ce.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${he}; }`);const de=ee.getColor(j.Hfx);de&&ce.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${de}; }`);const ge=ee.getColor(j.rh);ge&&ce.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${ge}; }`);const re=ee.getColor(j.lRK);re&&ce.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${re}; }`)})},22212:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{IPadShowKeyboard:()=>S});var f=e(93379),s=e.n(f),L=e(7795),M=e.n(L),u=e(90569),P=e.n(u),A=e(3565),k=e.n(A),N=e(19216),_=e.n(N),a=e(44589),p=e.n(a),c=e(21556),n={};n.styleTagTransform=p(),n.setAttributes=k(),n.insert=P().bind(null,"head"),n.domAPI=M(),n.insertStyleElement=_(),s()(c.Z,n);var d=e(58059),m=e(52425),I=e(95172),y=e(38972);let S=(()=>{class x extends m.JT{constructor(R){super(),this.editor=R,this.widget=null,y.gn&&(this._register(R.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const R=!this.editor.getOption(83);!this.widget&&R?this.widget=new b(this.editor):this.widget&&!R&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}return x.ID="editor.contrib.iPadShowKeyboard",x})(),b=(()=>{class x extends m.JT{constructor(R){super(),this.editor=R,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(d.nm(this._domNode,"touchstart",Q=>{this.editor.focus()})),this._register(d.nm(this._domNode,"focus",Q=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return x.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}return x.ID="editor.contrib.ShowKeyboardWidget",x})();(0,I._K)(S.ID,S)},15423:(at,ue,e)=>{"use strict";e.r(ue);var f=e(93379),s=e.n(f),L=e(7795),M=e.n(L),u=e(90569),P=e.n(u),A=e(3565),k=e.n(A),N=e(19216),_=e.n(N),a=e(44589),p=e.n(a),c=e(75189),n={};n.styleTagTransform=p(),n.setAttributes=k(),n.insert=P().bind(null,"head"),n.domAPI=M(),n.insertStyleElement=_(),s()(c.Z,n);var d=e(58059),m=e(68927),I=e(52425),y=e(95172),S=e(66778),b=e(43258),x=e(73728),T=e(42570),R=e(56021),Q=e(28708),Z=e(23024),G=e(29710),F=e(58676),B=function($,te){return function(w,fe){te(w,fe,$)}};let z=class rc extends I.JT{constructor(te,w,fe){super(),this._editor=te,this._languageService=fe,this._widget=null,this._register(this._editor.onDidChangeModel(be=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(be=>this.stop())),this._register(S.RW.onDidChange(be=>this.stop())),this._register(this._editor.onKeyUp(be=>9===be.keyCode&&this.stop()))}static get(te){return te.getContribution(rc.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new V(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};z.ID="editor.contrib.inspectTokens",z=function($,te,w,fe){var Ie,be=arguments.length,me=be<3?te:null===fe?fe=Object.getOwnPropertyDescriptor(te,w):fe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)me=Reflect.decorate($,te,w,fe);else for(var ee=$.length-1;ee>=0;ee--)(Ie=$[ee])&&(me=(be<3?Ie(me):be>3?Ie(te,w,me):Ie(te,w))||me);return be>3&&me&&Object.defineProperty(te,w,me),me}([B(1,R.Z),B(2,T.O)],z);let V=(()=>{class $ extends I.JT{constructor(w,fe){super(),this.allowEditorOverflow=!0,this._editor=w,this._languageService=fe,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=function E($,te){const w=S.RW.get(te);if(w)return w;const fe=$.encodeLanguageId(te);return{getInitialState:()=>x.TJ,tokenize:(be,me,Ie)=>(0,x.Ri)(te,Ie),tokenizeEncoded:(be,me,Ie)=>(0,x.Dy)(fe,Ie)}}(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(be=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return $._ID}_compute(w){const fe=this._getTokensAtLine(w.lineNumber);let be=0;for(let he=fe.tokens1.length-1;he>=0;he--)if(w.column-1>=fe.tokens1[he].offset){be=he;break}let me=0;for(let he=fe.tokens2.length>>>1;he>=0;he--)if(w.column-1>=fe.tokens2[he<<1]){me=he;break}const Ie=this._model.getLineContent(w.lineNumber);let ee="";be<fe.tokens1.length&&(ee=Ie.substring(fe.tokens1[be].offset,be+1<fe.tokens1.length?fe.tokens1[be+1].offset:Ie.length)),(0,d.mc)(this._domNode,(0,d.$)("h2.tm-token",void 0,function Y($){let te="";for(let w=0,fe=$.length;w<fe;w++){const be=$.charCodeAt(w);switch(be){case 9:te+="\u2192";break;case 32:te+="\xb7";break;default:te+=String.fromCharCode(be)}}return te}(ee),(0,d.$)("span.tm-token-length",void 0,`${ee.length} ${1===ee.length?"char":"chars"}`))),(0,d.R3)(this._domNode,(0,d.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const ce=1+(me<<1)<fe.tokens2.length?this._decodeMetadata(fe.tokens2[1+(me<<1)]):null;(0,d.R3)(this._domNode,(0,d.$)("table.tm-metadata-table",void 0,(0,d.$)("tbody",void 0,(0,d.$)("tr",void 0,(0,d.$)("td.tm-metadata-key",void 0,"language"),(0,d.$)("td.tm-metadata-value",void 0,`${ce?ce.languageId:"-?-"}`)),(0,d.$)("tr",void 0,(0,d.$)("td.tm-metadata-key",void 0,"token type"),(0,d.$)("td.tm-metadata-value",void 0,`${ce?this._tokenTypeToString(ce.tokenType):"-?-"}`)),(0,d.$)("tr",void 0,(0,d.$)("td.tm-metadata-key",void 0,"font style"),(0,d.$)("td.tm-metadata-value",void 0,`${ce?this._fontStyleToString(ce.fontStyle):"-?-"}`)),(0,d.$)("tr",void 0,(0,d.$)("td.tm-metadata-key",void 0,"foreground"),(0,d.$)("td.tm-metadata-value",void 0,`${ce?m.Il.Format.CSS.formatHex(ce.foreground):"-?-"}`)),(0,d.$)("tr",void 0,(0,d.$)("td.tm-metadata-key",void 0,"background"),(0,d.$)("td.tm-metadata-value",void 0,`${ce?m.Il.Format.CSS.formatHex(ce.background):"-?-"}`))))),(0,d.R3)(this._domNode,(0,d.$)("hr.tokens-inspect-separator")),be<fe.tokens1.length&&(0,d.R3)(this._domNode,(0,d.$)("span.tm-token-type",void 0,fe.tokens1[be].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(w){const fe=S.RW.getColorMap(),be=b.N.getLanguageId(w),me=b.N.getTokenType(w),Ie=b.N.getFontStyle(w),ee=b.N.getForeground(w),ce=b.N.getBackground(w);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(be),tokenType:me,fontStyle:Ie,foreground:fe[ee],background:fe[ce]}}_tokenTypeToString(w){switch(w){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(w){let fe="";return 1&w&&(fe+="italic "),2&w&&(fe+="bold "),4&w&&(fe+="underline "),8&w&&(fe+="strikethrough "),0===fe.length&&(fe="---"),fe}_getTokensAtLine(w){const fe=this._getStateBeforeLine(w),be=this._tokenizationSupport.tokenize(this._model.getLineContent(w),!0,fe),me=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(w),!0,fe);return{startState:fe,tokens1:be.tokens,tokens2:me.tokens,endState:be.endState}}_getStateBeforeLine(w){let fe=this._tokenizationSupport.getInitialState();for(let be=1;be<w;be++)fe=this._tokenizationSupport.tokenize(this._model.getLineContent(be),!0,fe).endState;return fe}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}return $._ID="editor.contrib.inspectTokensWidget",$})();(0,y._K)(z.ID,z),(0,y.Qr)(class j extends y.R6{constructor(){super({id:"editor.action.inspectTokens",label:G.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(te,w){const fe=z.get(w);fe&&fe.launch()}}),(0,Z.Ic)(($,te)=>{const w=$.getColor(Q.CNo);if(w){const me=(0,F.c3)($.type)?2:1;te.addRule(`.monaco-editor .tokens-inspect-widget { border: ${me}px solid ${w}; }`),te.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${w}; }`)}const fe=$.getColor(Q.yJx);fe&&te.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${fe}; }`);const be=$.getColor(Q.Sbf);be&&te.addRule(`.monaco-editor .tokens-inspect-widget { color: ${be}; }`)})},89418:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{GotoLineAction:()=>ce,StandaloneCommandsQuickAccessProvider:()=>ee});var f=e(29537),s=e(54203),L=e(29710),M=e(7221),u=e(10661),P=e(18337),A=e(54435),k=e(40402);function N(he,de){return de&&(he.stack||he.stacktrace)?k.NC("stackTrace.format","{0}: {1}",a(he),_(he.stack)||_(he.stacktrace)):a(he)}function _(he){return Array.isArray(he)?he.join("\n"):he}function a(he){return"string"==typeof he.code&&"number"==typeof he.errno&&"string"==typeof he.syscall?k.NC("nodeExceptionMessage","A system error occurred ({0})",he.message):he.message||k.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function p(he=null,de=!1){if(!he)return k.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(he)){const ge=P.kX(he),re=p(ge[0],de);return ge.length>1?k.NC("error.moreErrors","{0} ({1} errors in total)",re,ge.length):re}if(A.HD(he))return he;if(he.detail){const ge=he.detail;if(ge.error)return N(ge.error,de);if(ge.exception)return N(ge.exception,de)}return he.stack?N(he,de):he.message?he.message:k.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var c=e(53663),n=e(81979),l=e(52425),v=e(7838),d=e(63570),m=e(23884),I=e(9869),y=e(20161),S=e(64725),b=e(77090),x=e(63072),T=e(80152),R=function(he,de,ge,re){return new(ge||(ge=Promise))(function(Pe,Ve){function ie(Be){try{_e(re.next(Be))}catch(Qe){Ve(Qe)}}function ye(Be){try{_e(re.throw(Be))}catch(Qe){Ve(Qe)}}function _e(Be){Be.done?Pe(Be.value):function Se(Pe){return Pe instanceof ge?Pe:new ge(function(Ve){Ve(Pe)})}(Be.value).then(ie,ye)}_e((re=re.apply(he,de||[])).next())})},Q=(()=>{return(he=Q||(Q={}))[he.NO_ACTION=0]="NO_ACTION",he[he.CLOSE_PICKER=1]="CLOSE_PICKER",he[he.REFRESH_PICKER=2]="REFRESH_PICKER",he[he.REMOVE_ITEM=3]="REMOVE_ITEM",Q;var he})();function Z(he){return Array.isArray(he.items)}let F=(()=>{class he extends l.JT{constructor(ge,re){super(),this.prefix=ge,this.options=re}provide(ge,re){var Se;const Pe=new l.SL;let Ve;ge.canAcceptInBackground=!(null===(Se=this.options)||void 0===Se||!Se.canAcceptInBackground),ge.matchOnLabel=ge.matchOnDescription=ge.matchOnDetail=ge.sortByLabel=!1;const ie=Pe.add(new l.XK),ye=()=>R(this,void 0,void 0,function*(){const _e=ie.value=new l.SL;null==Ve||Ve.dispose(!0),ge.busy=!1,Ve=new T.A(re);const Be=Ve.token,Qe=ge.value.substr(this.prefix.length).trim(),Ae=this._getPicks(Qe,_e,Be),pe=(De,Oe)=>{var Ne;let ne,xe;if(Z(De)?(ne=De.items,xe=De.active):ne=De,0===ne.length){if(Oe)return!1;Qe.length>0&&(null===(Ne=this.options)||void 0===Ne?void 0:Ne.noResultsPick)&&(ne=[this.options.noResultsPick])}return ge.items=ne,xe&&(ge.activeItems=[xe]),!0};if(null!==Ae)if(function G(he){return!!he.picks&&he.additionalPicks instanceof Promise}(Ae)){let De=!1,Oe=!1;yield Promise.all([(()=>R(this,void 0,void 0,function*(){yield(0,x.Vs)(he.FAST_PICKS_RACE_DELAY),!Be.isCancellationRequested&&(Oe||(De=pe(Ae.picks,!0)))}))(),(()=>R(this,void 0,void 0,function*(){ge.busy=!0;try{const Ne=yield Ae.additionalPicks;if(Be.isCancellationRequested)return;let ne,xe,Je,gt;if(Z(Ae.picks)?(ne=Ae.picks.items,xe=Ae.picks.active):ne=Ae.picks,Z(Ne)?(Je=Ne.items,gt=Ne.active):Je=Ne,Je.length>0||!De){let lt;if(!xe&&!gt){const Ke=ge.activeItems[0];Ke&&-1!==ne.indexOf(Ke)&&(lt=Ke)}pe({items:[...ne,...Je],active:xe||gt||lt})}}finally{Be.isCancellationRequested||(ge.busy=!1),Oe=!0}}))()])}else if(Ae instanceof Promise){ge.busy=!0;try{const De=yield Ae;if(Be.isCancellationRequested)return;pe(De)}finally{Be.isCancellationRequested||(ge.busy=!1)}}else pe(Ae)});return Pe.add(ge.onDidChangeValue(()=>ye())),ye(),Pe.add(ge.onDidAccept(_e=>{const[Be]=ge.selectedItems;"function"==typeof(null==Be?void 0:Be.accept)&&(_e.inBackground||ge.hide(),Be.accept(ge.keyMods,_e))})),Pe.add(ge.onDidTriggerItemButton(({button:_e,item:Be})=>R(this,void 0,void 0,function*(){var Qe,Ae;if("function"==typeof Be.trigger){const pe=null!==(Ae=null===(Qe=Be.buttons)||void 0===Qe?void 0:Qe.indexOf(_e))&&void 0!==Ae?Ae:-1;if(pe>=0){const De=Be.trigger(pe,ge.keyMods),Oe="number"==typeof De?De:yield De;if(re.isCancellationRequested)return;switch(Oe){case Q.NO_ACTION:break;case Q.CLOSE_PICKER:ge.hide();break;case Q.REFRESH_PICKER:ye();break;case Q.REMOVE_ITEM:{const Ne=ge.items.indexOf(Be);if(-1!==Ne){const ne=ge.items.slice(),xe=ne.splice(Ne,1),Je=ge.activeItems.filter(lt=>lt!==xe[0]),gt=ge.keepScrollPosition;ge.keepScrollPosition=!0,ge.items=ne,Je&&(ge.activeItems=Je),ge.keepScrollPosition=gt}break}}}}}))),Pe}}return he.FAST_PICKS_RACE_DELAY=200,he})();var W=e(99571),B=e(19881),z=function(he,de,ge,re){var Ve,Se=arguments.length,Pe=Se<3?de:null===re?re=Object.getOwnPropertyDescriptor(de,ge):re;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pe=Reflect.decorate(he,de,ge,re);else for(var ie=he.length-1;ie>=0;ie--)(Ve=he[ie])&&(Pe=(Se<3?Ve(Pe):Se>3?Ve(de,ge,Pe):Ve(de,ge))||Pe);return Se>3&&Pe&&Object.defineProperty(de,ge,Pe),Pe},j=function(he,de){return function(ge,re){de(ge,re,he)}},Y=function(he,de,ge,re){return new(ge||(ge=Promise))(function(Pe,Ve){function ie(Be){try{_e(re.next(Be))}catch(Qe){Ve(Qe)}}function ye(Be){try{_e(re.throw(Be))}catch(Qe){Ve(Qe)}}function _e(Be){Be.done?Pe(Be.value):function Se(Pe){return Pe instanceof ge?Pe:new ge(function(Ve){Ve(Pe)})}(Be.value).then(ie,ye)}_e((re=re.apply(he,de||[])).next())})};let E=class Ya extends F{constructor(de,ge,re,Se,Pe,Ve){super(Ya.PREFIX,de),this.instantiationService=ge,this.keybindingService=re,this.commandService=Se,this.telemetryService=Pe,this.dialogService=Ve,this.commandsHistory=this._register(this.instantiationService.createInstance(V)),this.options=de}_getPicks(de,ge,re){return Y(this,void 0,void 0,function*(){const Se=yield this.getCommandPicks(ge,re);if(re.isCancellationRequested)return[];const Pe=[];for(const _e of Se){const Be=(0,A.f6)(Ya.WORD_FILTER(de,_e.label)),Qe=_e.commandAlias?(0,A.f6)(Ya.WORD_FILTER(de,_e.commandAlias)):void 0;Be||Qe?(_e.highlights={label:Be,detail:this.options.showAlias?Qe:void 0},Pe.push(_e)):de===_e.commandId&&Pe.push(_e)}const Ve=new Map;for(const _e of Pe){const Be=Ve.get(_e.label);Be?(_e.description=_e.commandId,Be.description=Be.commandId):Ve.set(_e.label,_e)}Pe.sort((_e,Be)=>{const Qe=this.commandsHistory.peek(_e.commandId),Ae=this.commandsHistory.peek(Be.commandId);return Qe&&Ae?Qe>Ae?-1:1:Qe?-1:Ae?1:_e.label.localeCompare(Be.label)});const ie=[];let ye=!1;for(let _e=0;_e<Pe.length;_e++){const Be=Pe[_e],Qe=this.keybindingService.lookupKeybinding(Be.commandId),Ae=Qe?(0,k.NC)("commandPickAriaLabelWithKeybinding","{0}, {1}",Be.label,Qe.getAriaLabel()):Be.label;0===_e&&this.commandsHistory.peek(Be.commandId)&&(ie.push({type:"separator",label:(0,k.NC)("recentlyUsed","recently used")}),ye=!0),0!==_e&&ye&&!this.commandsHistory.peek(Be.commandId)&&(ie.push({type:"separator",label:(0,k.NC)("morecCommands","other commands")}),ye=!1),ie.push(Object.assign(Object.assign({},Be),{ariaLabel:Ae,detail:this.options.showAlias&&Be.commandAlias!==Be.label?Be.commandAlias:void 0,keybinding:Qe,accept:()=>Y(this,void 0,void 0,function*(){this.commandsHistory.push(Be.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:Be.commandId,from:"quick open"});try{yield this.commandService.executeCommand(Be.commandId)}catch(pe){(0,c.n2)(pe)||this.dialogService.show(d.Z.Error,(0,k.NC)("canNotRun","Command '{0}' resulted in an error ({1})",Be.label,p(pe)))}})}))}return ie})}};E.PREFIX=">",E.WORD_FILTER=(0,n.or)(n.Ji,n.KZ,n.ir),E=z([j(1,S.TG),j(2,b.d),j(3,m.Hy),j(4,B.b),j(5,y.S)],E);let V=class co extends l.JT{constructor(de,ge){super(),this.storageService=de,this.configurationService=ge,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=co.getConfiguredCommandHistoryLength(this.configurationService),co.cache&&co.cache.limit!==this.configuredCommandsHistoryLength&&(co.cache.limit=this.configuredCommandsHistoryLength,co.saveState(this.storageService))}load(){const de=this.storageService.get(co.PREF_KEY_CACHE,0);let ge;if(de)try{ge=JSON.parse(de)}catch(Se){}const re=co.cache=new v.z6(this.configuredCommandsHistoryLength,1);if(ge){let Se;Se=ge.usesLRU?ge.entries:ge.entries.sort((Pe,Ve)=>Pe.value-Ve.value),Se.forEach(Pe=>re.set(Pe.key,Pe.value))}co.counter=this.storageService.getNumber(co.PREF_KEY_COUNTER,0,co.counter)}push(de){!co.cache||(co.cache.set(de,co.counter++),co.saveState(this.storageService))}peek(de){var ge;return null===(ge=co.cache)||void 0===ge?void 0:ge.peek(de)}static saveState(de){if(!co.cache)return;const ge={usesLRU:!0,entries:[]};co.cache.forEach((re,Se)=>ge.entries.push({key:Se,value:re})),de.store(co.PREF_KEY_CACHE,JSON.stringify(ge),0,0),de.store(co.PREF_KEY_COUNTER,co.counter,0,0)}static getConfiguredCommandHistoryLength(de){var ge,re;const Pe=null===(re=null===(ge=de.getValue().workbench)||void 0===ge?void 0:ge.commandPalette)||void 0===re?void 0:re.history;return"number"==typeof Pe?Pe:co.DEFAULT_COMMANDS_HISTORY_LENGTH}};V.DEFAULT_COMMANDS_HISTORY_LENGTH=50,V.PREF_KEY_CACHE="commandPalette.mru.cache",V.PREF_KEY_COUNTER="commandPalette.mru.counter",V.counter=1,V=z([j(0,W.Uy),j(1,I.Ui)],V);class $ extends E{constructor(de,ge,re,Se,Pe,Ve){super(de,ge,re,Se,Pe,Ve)}getCodeEditorCommandPicks(){const de=this.activeTextEditorControl;if(!de)return[];const ge=[];for(const re of de.getSupportedActions())ge.push({commandId:re.id,commandAlias:re.alias,label:(0,u.x$)(re.label)||re.id});return ge}}var te=e(95172),w=e(29584),fe=e(17098),me=function(he,de){return function(ge,re){de(ge,re,he)}};let ee=class extends ${constructor(de,ge,re,Se,Pe,Ve){super({showAlias:!1},de,re,Se,Pe,Ve),this.codeEditorService=ge}get activeTextEditorControl(){return(0,A.f6)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return he=this,de=void 0,re=function*(){return this.getCodeEditorCommandPicks()},new((ge=void 0)||(ge=Promise))(function(Pe,Ve){function ie(Be){try{_e(re.next(Be))}catch(Qe){Ve(Qe)}}function ye(Be){try{_e(re.throw(Be))}catch(Qe){Ve(Qe)}}function _e(Be){Be.done?Pe(Be.value):function Se(Pe){return Pe instanceof ge?Pe:new ge(function(Ve){Ve(Pe)})}(Be.value).then(ie,ye)}_e((re=re.apply(he,de||[])).next())});var he,de,ge,re}};ee=function(he,de,ge,re){var Ve,Se=arguments.length,Pe=Se<3?de:null===re?re=Object.getOwnPropertyDescriptor(de,ge):re;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pe=Reflect.decorate(he,de,ge,re);else for(var ie=he.length-1;ie>=0;ie--)(Ve=he[ie])&&(Pe=(Se<3?Ve(Pe):Se>3?Ve(de,ge,Pe):Ve(de,ge))||Pe);return Se>3&&Pe&&Object.defineProperty(de,ge,Pe),Pe}([me(0,S.TG),me(1,M.$),me(2,b.d),me(3,m.Hy),me(4,B.b),me(5,y.S)],ee);let ce=(()=>{class he extends te.R6{constructor(){super({id:he.ID,label:L.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:w.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(ge){ge.get(fe.eJ).quickAccess.show(ee.PREFIX)}}return he.ID="editor.action.quickCommand",he})();(0,te.Qr)(ce),f.B.as(s.IP.Quickaccess).registerQuickAccessProvider({ctor:ee,prefix:ee.PREFIX,helpEntries:[{description:L.UX.quickCommandHelp,commandId:ce.ID}]})},47801:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{GotoLineAction:()=>m,StandaloneGotoLineQuickAccessProvider:()=>d});var f=e(52425),s=e(7109),L=e(67089),M=e(40402);let u=(()=>{class I extends L.X{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(S){const b=(0,M.NC)("cannotRunGotoLine","Open a text editor first to go to a line.");return S.items=[{label:b}],S.ariaLabel=b,f.JT.None}provideWithTextEditor(S,b,x){const T=S.editor,R=new f.SL;R.add(b.onDidAccept(G=>{const[F]=b.selectedItems;if(F){if(!this.isValidLineNumber(T,F.lineNumber))return;this.gotoLocation(S,{range:this.toRange(F.lineNumber,F.column),keyMods:b.keyMods,preserveFocus:G.inBackground}),G.inBackground||b.hide()}}));const Q=()=>{const G=this.parsePosition(T,b.value.trim().substr(I.PREFIX.length)),F=this.getPickLabel(T,G.lineNumber,G.column);if(b.items=[{lineNumber:G.lineNumber,column:G.column,label:F}],b.ariaLabel=F,!this.isValidLineNumber(T,G.lineNumber))return void this.clearDecorations(T);const W=this.toRange(G.lineNumber,G.column);T.revealRangeInCenter(W,0),this.addDecorations(T,W)};Q(),R.add(b.onDidChangeValue(()=>Q()));const Z=(0,s.Pi)(T);return Z&&2===Z.getOptions().get(62).renderType&&(Z.updateOptions({lineNumbers:"on"}),R.add((0,f.OF)(()=>Z.updateOptions({lineNumbers:"relative"})))),R}toRange(S=1,b=1){return{startLineNumber:S,startColumn:b,endLineNumber:S,endColumn:b}}parsePosition(S,b){const x=b.split(/,|:|#/).map(R=>parseInt(R,10)).filter(R=>!isNaN(R)),T=this.lineCount(S)+1;return{lineNumber:x[0]>0?x[0]:T+x[0],column:x[1]}}getPickLabel(S,b,x){if(this.isValidLineNumber(S,b))return this.isValidColumn(S,b,x)?(0,M.NC)("gotoLineColumnLabel","Go to line {0} and character {1}.",b,x):(0,M.NC)("gotoLineLabel","Go to line {0}.",b);const T=S.getPosition()||{lineNumber:1,column:1},R=this.lineCount(S);return R>1?(0,M.NC)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",T.lineNumber,T.column,R):(0,M.NC)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",T.lineNumber,T.column)}isValidLineNumber(S,b){return!(!b||"number"!=typeof b)&&b>0&&b<=this.lineCount(S)}isValidColumn(S,b,x){if(!x||"number"!=typeof x)return!1;const T=this.getModel(S);if(!T)return!1;const R={lineNumber:b,column:x};return T.validatePosition(R).equals(R)}lineCount(S){var b,x;return null!==(x=null===(b=this.getModel(S))||void 0===b?void 0:b.getLineCount())&&void 0!==x?x:0}}return I.PREFIX=":",I})();var P=e(29537),A=e(54203),k=e(7221),N=e(54435),_=e(29710),a=e(52787),p=e(95172),c=e(29584),n=e(17098);let d=class extends u{constructor(y){super(),this.editorService=y,this.onDidActiveTextEditorControlChange=a.ju.None}get activeTextEditorControl(){return(0,N.f6)(this.editorService.getFocusedCodeEditor())}};var y;d=function(I,y,S,b){var R,x=arguments.length,T=x<3?y:null===b?b=Object.getOwnPropertyDescriptor(y,S):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(I,y,S,b);else for(var Q=I.length-1;Q>=0;Q--)(R=I[Q])&&(T=(x<3?R(T):x>3?R(y,S,T):R(y,S))||T);return x>3&&T&&Object.defineProperty(y,S,T),T}([(0,y=k.$,function(S,b){y(S,b,0)})],d);let m=(()=>{class I extends p.R6{constructor(){super({id:I.ID,label:_.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:c.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(S){S.get(n.eJ).quickAccess.show(d.PREFIX)}}return I.ID="editor.action.gotoLine",I})();(0,p.Qr)(m),P.B.as(A.IP.Quickaccess).registerQuickAccessProvider({ctor:d,prefix:d.PREFIX,helpEntries:[{description:_.qq.gotoLineActionLabel,commandId:m.ID}]})},76754:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{GotoSymbolAction:()=>ge,StandaloneGotoSymbolQuickAccessProvider:()=>de}),e(53001),e(50716);var L=e(63072),M=e(80152),u=e(2450),P=e(81979),A=e(34163),k=e(38972),N=e(93059);const _=[void 0,[]];function a(re,Se,Pe=0,Ve=0){return Se.values&&Se.values.length>1?function p(re,Se,Pe,Ve){let ie=0;const ye=[];for(const _e of Se){const[Be,Qe]=c(re,_e,Pe,Ve);if("number"!=typeof Be)return _;ie+=Be,ye.push(...Qe)}return[ie,l(ye)]}(re,Se.values,Pe,Ve):c(re,Se,Pe,Ve)}function c(re,Se,Pe,Ve){const ie=(0,P.EW)(Se.original,Se.originalLowercase,Pe,re,re.toLowerCase(),Ve,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return ie?[ie[0],(0,P.mB)(ie)]:_}function l(re){const Se=re.sort((ie,ye)=>ie.start-ye.start),Pe=[];let Ve;for(const ie of Se)Ve&&v(Ve,ie)?(Ve.start=Math.min(Ve.start,ie.start),Ve.end=Math.max(Ve.end,ie.end)):(Ve=ie,Pe.push(ie));return Pe}function v(re,Se){return!(re.end<Se.start||Se.end<re.start)}function d(re){return re.startsWith('"')&&re.endsWith('"')}function I(re){"string"!=typeof re&&(re="");const Se=re.toLowerCase(),{pathNormalized:Pe,normalized:Ve,normalizedLowercase:ie}=y(re),ye=Pe.indexOf(A.ir)>=0,_e=d(re);let Be;const Qe=re.split(" ");if(Qe.length>1)for(const Ae of Qe){const pe=d(Ae),{pathNormalized:De,normalized:Oe,normalizedLowercase:Ne}=y(Ae);Oe&&(Be||(Be=[]),Be.push({original:Ae,originalLowercase:Ae.toLowerCase(),pathNormalized:De,normalized:Oe,normalizedLowercase:Ne,expectContiguousMatch:pe}))}return{original:re,originalLowercase:Se,pathNormalized:Pe,normalized:Ve,normalizedLowercase:ie,values:Be,containsPathSeparator:ye,expectContiguousMatch:_e}}function y(re){let Se;Se=re.replace(k.ED?/\//g:/\\/g,A.ir);const Pe=(0,N.R1)(Se).replace(/\s|"/g,"");return{pathNormalized:Se,normalized:Pe,normalizedLowercase:Pe.toLowerCase()}}function S(re){return Array.isArray(re)?I(re.map(Se=>Se.original).join(" ")):I(re.original)}Object.freeze({score:0});var b=e(52425),x=e(68451),T=e(66778),R=e(60741),Q=e(67089),Z=e(40402),G=e(37464),F=e(18337),B=function(re,Se){return function(Pe,Ve){Se(Pe,Ve,re)}},z=function(re,Se,Pe,Ve){return new(Pe||(Pe=Promise))(function(ye,_e){function Be(pe){try{Ae(Ve.next(pe))}catch(De){_e(De)}}function Qe(pe){try{Ae(Ve.throw(pe))}catch(De){_e(De)}}function Ae(pe){pe.done?ye(pe.value):function ie(ye){return ye instanceof Pe?ye:new Pe(function(_e){_e(ye)})}(pe.value).then(Be,Qe)}Ae((Ve=Ve.apply(re,Se||[])).next())})};let j=class ed extends Q.X{constructor(Se,Pe,Ve=Object.create(null)){super(Ve),this._languageFeaturesService=Se,this._outlineModelService=Pe,this.options=Ve,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(Se){return this.provideLabelPick(Se,(0,Z.NC)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),b.JT.None}provideWithTextEditor(Se,Pe,Ve){const ye=this.getModel(Se.editor);return ye?this._languageFeaturesService.documentSymbolProvider.has(ye)?this.doProvideWithEditorSymbols(Se,ye,Pe,Ve):this.doProvideWithoutEditorSymbols(Se,ye,Pe,Ve):b.JT.None}doProvideWithoutEditorSymbols(Se,Pe,Ve,ie){const ye=new b.SL;return this.provideLabelPick(Ve,(0,Z.NC)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),z(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(Pe,ye))||ie.isCancellationRequested||ye.add(this.doProvideWithEditorSymbols(Se,Pe,Ve,ie))}),ye}provideLabelPick(Se,Pe){Se.items=[{label:Pe,index:0,kind:14}],Se.ariaLabel=Pe}waitForLanguageSymbolRegistry(Se,Pe){return z(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(Se))return!0;const Ve=new L.CR,ie=Pe.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(Se)&&(ie.dispose(),Ve.complete(!0))}));return Pe.add((0,b.OF)(()=>Ve.complete(!1))),Ve.p})}doProvideWithEditorSymbols(Se,Pe,Ve,ie){var ye;const _e=Se.editor,Be=new b.SL;Be.add(Ve.onDidAccept(Oe=>{const[Ne]=Ve.selectedItems;Ne&&Ne.range&&(this.gotoLocation(Se,{range:Ne.range.selection,keyMods:Ve.keyMods,preserveFocus:Oe.inBackground}),Oe.inBackground||Ve.hide())})),Be.add(Ve.onDidTriggerItemButton(({item:Oe})=>{Oe&&Oe.range&&(this.gotoLocation(Se,{range:Oe.range.selection,keyMods:Ve.keyMods,forceSideBySide:!0}),Ve.hide())}));const Qe=this.getDocumentSymbols(Pe,ie);let Ae;const pe=Oe=>z(this,void 0,void 0,function*(){null==Ae||Ae.dispose(!0),Ve.busy=!1,Ae=new M.A(ie),Ve.busy=!0;try{const Ne=I(Ve.value.substr(ed.PREFIX.length).trim()),ne=yield this.doGetSymbolPicks(Qe,Ne,void 0,Ae.token);if(ie.isCancellationRequested)return;if(ne.length>0){if(Ve.items=ne,Oe&&0===Ne.original.length){const xe=(0,F.dF)(ne,Je=>Boolean("separator"!==Je.type&&Je.range&&x.e.containsPosition(Je.range.decoration,Oe)));xe&&(Ve.activeItems=[xe])}}else this.provideLabelPick(Ve,Ne.original.length>0?(0,Z.NC)("noMatchingSymbolResults","No matching editor symbols"):(0,Z.NC)("noSymbolResults","No editor symbols"))}finally{ie.isCancellationRequested||(Ve.busy=!1)}});Be.add(Ve.onDidChangeValue(()=>pe(void 0))),pe(null===(ye=_e.getSelection())||void 0===ye?void 0:ye.getPosition());let De=2;return Be.add(Ve.onDidChangeActive(()=>{const[Oe]=Ve.activeItems;if(Oe&&Oe.range){if(De-- >0)return;_e.revealRangeInCenter(Oe.range.selection,0),this.addDecorations(_e,Oe.range.decoration)}})),Be}doGetSymbolPicks(Se,Pe,Ve,ie){return z(this,void 0,void 0,function*(){const ye=yield Se;if(ie.isCancellationRequested)return[];const _e=0===Pe.original.indexOf(ed.SCOPE_PREFIX),Be=_e?1:0;let Qe,Ae;Pe.values&&Pe.values.length>1?(Qe=S(Pe.values[0]),Ae=S(Pe.values.slice(1))):Qe=Pe;const pe=[];for(let Ne=0;Ne<ye.length;Ne++){const ne=ye[Ne],xe=(0,N.fy)(ne.name),Je=`$(${T.uZ.toIcon(ne.kind).id}) ${xe}`,gt=Je.length-xe.length;let Ke,He,Ue,ot,lt=ne.containerName;if(null!=Ve&&Ve.extraContainerLabel&&(lt=lt?`${Ve.extraContainerLabel} \u2022 ${lt}`:Ve.extraContainerLabel),Pe.original.length>Be){let Ze=!1;if(Qe!==Pe&&([Ke,He]=a(Je,Object.assign(Object.assign({},Pe),{values:void 0}),Be,gt),"number"==typeof Ke&&(Ze=!0)),"number"!=typeof Ke&&([Ke,He]=a(Je,Qe,Be,gt),"number"!=typeof Ke))continue;if(!Ze&&Ae){if(lt&&Ae.original.length>0&&([Ue,ot]=a(lt,Ae)),"number"!=typeof Ue)continue;"number"==typeof Ke&&(Ke+=Ue)}}const et=ne.tags&&ne.tags.indexOf(1)>=0;pe.push({index:Ne,kind:ne.kind,score:Ke,label:Je,ariaLabel:xe,description:lt,highlights:et?void 0:{label:He,description:ot},range:{selection:x.e.collapseToStart(ne.selectionRange),decoration:ne.range},strikethrough:et,buttons:(()=>{var Ze,Mt;const Nt=null!==(Ze=this.options)&&void 0!==Ze&&Ze.openSideBySideDirection?null===(Mt=this.options)||void 0===Mt?void 0:Mt.openSideBySideDirection():void 0;if(Nt)return[{iconClass:"right"===Nt?u.lA.splitHorizontal.classNames:u.lA.splitVertical.classNames,tooltip:"right"===Nt?(0,Z.NC)("openToSide","Open to the Side"):(0,Z.NC)("openToBottom","Open to the Bottom")}]})()})}const De=pe.sort((Ne,ne)=>_e?this.compareByKindAndScore(Ne,ne):this.compareByScore(Ne,ne));let Oe=[];if(_e){let Ne,ne,Je=function(){ne&&"number"==typeof Ne&&xe>0&&(ne.label=(0,N.WU)(E[Ne]||Y,xe))},xe=0;for(const gt of De)Ne!==gt.kind?(Je(),Ne=gt.kind,xe=1,ne={type:"separator"},Oe.push(ne)):xe++,Oe.push(gt);Je()}else De.length>0&&(Oe=[{label:(0,Z.NC)("symbols","symbols ({0})",pe.length),type:"separator"},...De]);return Oe})}compareByScore(Se,Pe){if("number"!=typeof Se.score&&"number"==typeof Pe.score)return 1;if("number"==typeof Se.score&&"number"!=typeof Pe.score)return-1;if("number"==typeof Se.score&&"number"==typeof Pe.score){if(Se.score>Pe.score)return-1;if(Se.score<Pe.score)return 1}return Se.index<Pe.index?-1:Se.index>Pe.index?1:0}compareByKindAndScore(Se,Pe){const ye=(E[Se.kind]||Y).localeCompare(E[Pe.kind]||Y);return 0===ye?this.compareByScore(Se,Pe):ye}getDocumentSymbols(Se,Pe){return z(this,void 0,void 0,function*(){const Ve=yield this._outlineModelService.getOrCreate(Se,Pe);return Pe.isCancellationRequested?[]:Ve.asListOfDocumentSymbols()})}};j.PREFIX="@",j.SCOPE_PREFIX=":",j.PREFIX_BY_CATEGORY=`${j.PREFIX}${j.SCOPE_PREFIX}`,j=function(re,Se,Pe,Ve){var _e,ie=arguments.length,ye=ie<3?Se:null===Ve?Ve=Object.getOwnPropertyDescriptor(Se,Pe):Ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ye=Reflect.decorate(re,Se,Pe,Ve);else for(var Be=re.length-1;Be>=0;Be--)(_e=re[Be])&&(ye=(ie<3?_e(ye):ie>3?_e(Se,Pe,ye):_e(Se,Pe))||ye);return ie>3&&ye&&Object.defineProperty(Se,Pe,ye),ye}([B(0,G.p),B(1,R.Je)],j);const Y=(0,Z.NC)("property","properties ({0})"),E={5:(0,Z.NC)("method","methods ({0})"),11:(0,Z.NC)("function","functions ({0})"),8:(0,Z.NC)("_constructor","constructors ({0})"),12:(0,Z.NC)("variable","variables ({0})"),4:(0,Z.NC)("class","classes ({0})"),22:(0,Z.NC)("struct","structs ({0})"),23:(0,Z.NC)("event","events ({0})"),24:(0,Z.NC)("operator","operators ({0})"),10:(0,Z.NC)("interface","interfaces ({0})"),2:(0,Z.NC)("namespace","namespaces ({0})"),3:(0,Z.NC)("package","packages ({0})"),25:(0,Z.NC)("typeParameter","type parameters ({0})"),1:(0,Z.NC)("modules","modules ({0})"),6:(0,Z.NC)("property","properties ({0})"),9:(0,Z.NC)("enum","enumerations ({0})"),21:(0,Z.NC)("enumMember","enumeration members ({0})"),14:(0,Z.NC)("string","strings ({0})"),0:(0,Z.NC)("file","files ({0})"),17:(0,Z.NC)("array","arrays ({0})"),15:(0,Z.NC)("number","numbers ({0})"),16:(0,Z.NC)("boolean","booleans ({0})"),18:(0,Z.NC)("object","objects ({0})"),19:(0,Z.NC)("key","keys ({0})"),7:(0,Z.NC)("field","fields ({0})"),13:(0,Z.NC)("constant","constants ({0})")};var V=e(29537),$=e(54203),te=e(7221),w=e(54435),fe=e(29710),be=e(52787),me=e(95172),Ie=e(29584),ee=e(17098),he=function(re,Se){return function(Pe,Ve){Se(Pe,Ve,re)}};let de=class extends j{constructor(Se,Pe,Ve){super(Pe,Ve),this.editorService=Se,this.onDidActiveTextEditorControlChange=be.ju.None}get activeTextEditorControl(){return(0,w.f6)(this.editorService.getFocusedCodeEditor())}};de=function(re,Se,Pe,Ve){var _e,ie=arguments.length,ye=ie<3?Se:null===Ve?Ve=Object.getOwnPropertyDescriptor(Se,Pe):Ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ye=Reflect.decorate(re,Se,Pe,Ve);else for(var Be=re.length-1;Be>=0;Be--)(_e=re[Be])&&(ye=(ie<3?_e(ye):ie>3?_e(Se,Pe,ye):_e(Se,Pe))||ye);return ie>3&&ye&&Object.defineProperty(Se,Pe,ye),ye}([he(0,te.$),he(1,G.p),he(2,R.Je)],de);let ge=(()=>{class re extends me.R6{constructor(){super({id:re.ID,label:fe.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:Ie.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:Ie.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(Pe){Pe.get(ee.eJ).quickAccess.show(j.PREFIX)}}return re.ID="editor.action.quickOutline",re})();(0,me.Qr)(ge),V.B.as($.IP.Quickaccess).registerQuickAccessProvider({ctor:de,prefix:j.PREFIX,helpEntries:[{description:fe.aq.quickOutlineActionLabel,prefix:j.PREFIX,commandId:ge.ID},{description:fe.aq.quickOutlineByCategoryActionLabel,prefix:j.PREFIX_BY_CATEGORY}]})},27779:(at,ue,e)=>{"use strict";e.r(ue);var f=e(29537),s=e(54203),L=e(29710),M=e(40402),u=e(52425),P=e(77090),A=e(17098),N=function(a,p){return function(c,n){p(c,n,a)}};let _=class Xa{constructor(p,c){this.quickInputService=p,this.keybindingService=c,this.registry=f.B.as(s.IP.Quickaccess)}provide(p){const c=new u.SL;return c.add(p.onDidAccept(()=>{const[n]=p.selectedItems;n&&this.quickInputService.quickAccess.show(n.prefix,{preserveValue:!0})})),c.add(p.onDidChangeValue(n=>{const l=this.registry.getQuickAccessProvider(n.substr(Xa.PREFIX.length));l&&l.prefix&&l.prefix!==Xa.PREFIX&&this.quickInputService.quickAccess.show(l.prefix,{preserveValue:!0})})),p.items=this.getQuickAccessProviders(),c}getQuickAccessProviders(){const p=[];for(const c of this.registry.getQuickAccessProviders().sort((n,l)=>n.prefix.localeCompare(l.prefix)))if(c.prefix!==Xa.PREFIX)for(const n of c.helpEntries){const l=n.prefix||c.prefix,v=l||"\u2026";p.push({prefix:l,label:v,keybinding:n.commandId?this.keybindingService.lookupKeybinding(n.commandId):void 0,ariaLabel:(0,M.NC)("helpPickAriaLabel","{0}, {1}",v,n.description),description:n.description})}return p}};_.PREFIX="?",_=function(a,p,c,n){var d,l=arguments.length,v=l<3?p:null===n?n=Object.getOwnPropertyDescriptor(p,c):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(a,p,c,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(v=(l<3?d(v):l>3?d(p,c,v):d(p,c))||v);return l>3&&v&&Object.defineProperty(p,c,v),v}([N(0,A.eJ),N(1,P.d)],_),f.B.as(s.IP.Quickaccess).registerQuickAccessProvider({ctor:_,prefix:"",helpEntries:[{description:L.ld.helpQuickAccessActionLabel}]})},4395:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{StandaloneReferencesController:()=>a});var f=e(95172),s=e(7221),L=e(64917),M=e(9869),u=e(59776),P=e(64725),A=e(78782),k=e(99571),_=function(p,c){return function(n,l){c(n,l,p)}};let a=class extends L.J{constructor(c,n,l,v,d,m,I){super(!0,c,n,l,v,d,m,I)}};a=function(p,c,n,l){var m,v=arguments.length,d=v<3?c:null===l?l=Object.getOwnPropertyDescriptor(c,n):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(p,c,n,l);else for(var I=p.length-1;I>=0;I--)(m=p[I])&&(d=(v<3?m(d):v>3?m(c,n,d):m(c,n))||d);return v>3&&d&&Object.defineProperty(c,n,d),d}([_(1,u.i6),_(2,s.$),_(3,A.lT),_(4,P.TG),_(5,k.Uy),_(6,M.Ui)],a),(0,f._K)(L.J.ID,a)},9924:(at,ue,e)=>{"use strict";e.d(ue,{kR:()=>Y,MU:()=>E,nI:()=>me,rW:()=>j,TG:()=>z});var f=e(58059),s=e(13366),L=e(68927),M=e(52787),u=e(66778),P=e(43258);class A{constructor(ee,ce,he,de,ge){this._parsedThemeRuleBrand=void 0,this.token=ee,this.index=ce,this.fontStyle=he,this.foreground=de,this.background=ge}}const _=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class a{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(ee){if(null===ee)return 0;const ce=ee.match(_);if(!ce)throw new Error("Illegal value for token color: "+ee);ee=ce[1].toUpperCase();let he=this._color2id.get(ee);return he||(he=++this._lastColorId,this._color2id.set(ee,he),this._id2color[he]=L.Il.fromHex("#"+ee),he)}getColorMap(){return this._id2color.slice(0)}}class p{constructor(ee,ce){this._colorMap=ee,this._root=ce,this._cache=new Map}static createFromRawTokenTheme(ee,ce){return this.createFromParsedTokenTheme(function k(Ie){if(!Ie||!Array.isArray(Ie))return[];const ee=[];let ce=0;for(let he=0,de=Ie.length;he<de;he++){const ge=Ie[he];let re=-1;if("string"==typeof ge.fontStyle){re=0;const Ve=ge.fontStyle.split(" ");for(let ie=0,ye=Ve.length;ie<ye;ie++)switch(Ve[ie]){case"italic":re|=1;break;case"bold":re|=2;break;case"underline":re|=4;break;case"strikethrough":re|=8}}let Se=null;"string"==typeof ge.foreground&&(Se=ge.foreground);let Pe=null;"string"==typeof ge.background&&(Pe=ge.background),ee[ce++]=new A(ge.token||"",he,re,Se,Pe)}return ee}(ee),ce)}static createFromParsedTokenTheme(ee,ce){return function N(Ie,ee){Ie.sort((ie,ye)=>{const _e=function l(Ie,ee){return Ie<ee?-1:Ie>ee?1:0}(ie.token,ye.token);return 0!==_e?_e:ie.index-ye.index});let ce=0,he="000000",de="ffffff";for(;Ie.length>=1&&""===Ie[0].token;){const ie=Ie.shift();-1!==ie.fontStyle&&(ce=ie.fontStyle),null!==ie.foreground&&(he=ie.foreground),null!==ie.background&&(de=ie.background)}const ge=new a;for(const ie of ee)ge.getId(ie);const re=ge.getId(he),Se=ge.getId(de),Pe=new v(ce,re,Se),Ve=new d(Pe);for(let ie=0,ye=Ie.length;ie<ye;ie++){const _e=Ie[ie];Ve.insert(_e.token,_e.fontStyle,ge.getId(_e.foreground),ge.getId(_e.background))}return new p(ge,Ve)}(ee,ce)}getColorMap(){return this._colorMap.getColorMap()}_match(ee){return this._root.match(ee)}match(ee,ce){let he=this._cache.get(ce);if(void 0===he){const de=this._match(ce),ge=function n(Ie){const ee=Ie.match(c);if(!ee)return 0;switch(ee[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}(ce);he=(de.metadata|ge<<8)>>>0,this._cache.set(ce,he)}return(he|ee<<0)>>>0}}const c=/\b(comment|string|regex|regexp)\b/;class v{constructor(ee,ce,he){this._themeTrieElementRuleBrand=void 0,this._fontStyle=ee,this._foreground=ce,this._background=he,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new v(this._fontStyle,this._foreground,this._background)}acceptOverwrite(ee,ce,he){-1!==ee&&(this._fontStyle=ee),0!==ce&&(this._foreground=ce),0!==he&&(this._background=he),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class d{constructor(ee){this._themeTrieElementBrand=void 0,this._mainRule=ee,this._children=new Map}match(ee){if(""===ee)return this._mainRule;const ce=ee.indexOf(".");let he,de;-1===ce?(he=ee,de=""):(he=ee.substring(0,ce),de=ee.substring(ce+1));const ge=this._children.get(he);return void 0!==ge?ge.match(de):this._mainRule}insert(ee,ce,he,de){if(""===ee)return void this._mainRule.acceptOverwrite(ce,he,de);const ge=ee.indexOf(".");let re,Se;-1===ge?(re=ee,Se=""):(re=ee.substring(0,ge),Se=ee.substring(ge+1));let Pe=this._children.get(re);void 0===Pe&&(Pe=new d(this._mainRule.clone()),this._children.set(re,Pe)),Pe.insert(Se,ce,he,de)}}var I=e(53448),y=e(28708);const S={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[y.cvW]:"#FFFFFE",[y.NOs]:"#000000",[y.ES4]:"#E5EBF1",[I.tR]:"#D3D3D3",[I.Ym]:"#939393",[y.Rzx]:"#ADD6FF4D"}},b={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[y.cvW]:"#1E1E1E",[y.NOs]:"#D4D4D4",[y.ES4]:"#3A3D41",[I.tR]:"#404040",[I.Ym]:"#707070",[y.Rzx]:"#ADD6FF26"}},x={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[y.cvW]:"#000000",[y.NOs]:"#FFFFFF",[I.tR]:"#FFFFFF",[I.Ym]:"#FFFFFF"}},T={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[y.cvW]:"#FFFFFF",[y.NOs]:"#292929",[I.tR]:"#292929",[I.Ym]:"#292929"}};var R=e(29537),Q=e(23024),Z=e(52425),G=e(58676),F=e(95836);class B{getIcon(ee){const ce=(0,F.Ks)();let he=ee.defaults;for(;Q.kS.isThemeIcon(he);){const de=ce.getIcon(he.id);if(!de)return;he=de.defaults}return he}}const z="vs",j="vs-dark",Y="hc-black",E="hc-light",V=R.B.as(y.IPX.ColorContribution),$=R.B.as(Q.IP.ThemingContribution);class te{constructor(ee,ce){this.semanticHighlighting=!1,this.themeData=ce;const he=ce.base;ee.length>0?(this.id=w(ee)?ee:he+" "+ee,this.themeName=ee):(this.id=he,this.themeName=he),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const ee=new Map;for(const ce in this.themeData.colors)ee.set(ce,L.Il.fromHex(this.themeData.colors[ce]));if(this.themeData.inherit){const ce=fe(this.themeData.base);for(const he in ce.colors)ee.has(he)||ee.set(he,L.Il.fromHex(ce.colors[he]))}this.colors=ee}return this.colors}getColor(ee,ce){return this.getColors().get(ee)||(!1!==ce?this.getDefault(ee):void 0)}getDefault(ee){let ce=this.defaultColors[ee];return ce||(ce=V.resolveDefaultColor(ee,this),this.defaultColors[ee]=ce,ce)}defines(ee){return Object.prototype.hasOwnProperty.call(this.getColors(),ee)}get type(){switch(this.base){case z:return G.eL.LIGHT;case Y:return G.eL.HIGH_CONTRAST_DARK;case E:return G.eL.HIGH_CONTRAST_LIGHT;default:return G.eL.DARK}}get tokenTheme(){if(!this._tokenTheme){let ee=[],ce=[];if(this.themeData.inherit){const ge=fe(this.themeData.base);ee=ge.rules,ge.encodedTokensColors&&(ce=ge.encodedTokensColors)}const he=this.themeData.colors["editor.foreground"],de=this.themeData.colors["editor.background"];if(he||de){const ge={token:""};he&&(ge.foreground=he),de&&(ge.background=de),ee.push(ge)}ee=ee.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(ce=this.themeData.encodedTokensColors),this._tokenTheme=p.createFromRawTokenTheme(ee,ce)}return this._tokenTheme}getTokenStyleMetadata(ee,ce,he){const ge=this.tokenTheme._match([ee].concat(ce).join(".")).metadata,re=P.N.getForeground(ge),Se=P.N.getFontStyle(ge);return{foreground:re,italic:Boolean(1&Se),bold:Boolean(2&Se),underline:Boolean(4&Se),strikethrough:Boolean(8&Se)}}}function w(Ie){return Ie===z||Ie===j||Ie===Y||Ie===E}function fe(Ie){switch(Ie){case z:return S;case j:return b;case Y:return x;case E:return T}}function be(Ie){const ee=fe(Ie);return new te(Ie,ee)}class me extends Z.JT{constructor(){super(),this._onColorThemeChange=this._register(new M.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new M.Q5),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new B,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(z,be(z)),this._knownThemes.set(j,be(j)),this._knownThemes.set(Y,be(Y)),this._knownThemes.set(E,be(E));const ee=function W(Ie){const ee=new M.Q5,ce=(0,F.Ks)();return ce.onDidChange(()=>ee.fire()),null==Ie||Ie.onDidProductIconThemeChange(()=>ee.fire()),{onDidChange:ee.event,getCSS(){const he=Ie?Ie.getProductIconTheme():new B,de={},ge=Se=>{const Pe=he.getIcon(Se);if(!Pe)return;const Ve=Pe.font;return Ve?(de[Ve.id]=Ve.definition,`.codicon-${Se.id}:before { content: '${Pe.fontCharacter}'; font-family: ${(0,f._h)(Ve.id)}; }`):`.codicon-${Se.id}:before { content: '${Pe.fontCharacter}'; }`},re=[];for(const Se of ce.getIcons()){const Pe=ge(Se);Pe&&re.push(Pe)}for(const Se in de){const Pe=de[Se],Ve=Pe.weight?`font-weight: ${Pe.weight};`:"",ie=Pe.style?`font-style: ${Pe.style};`:"",ye=Pe.src.map(_e=>`${(0,f.wY)(_e.location)} format('${_e.format}')`).join(", ");re.push(`@font-face { src: ${ye}; font-family: ${(0,f._h)(Se)};${Ve}${ie} font-display: block; }`)}return re.join("\n")}}}(this);this._codiconCSS=ee.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(z),this._onOSSchemeChanged(),ee.onDidChange(()=>{this._codiconCSS=ee.getCSS(),this._updateCSS()}),(0,s.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(ee){return f.OO(ee)?this._registerShadowDomContainer(ee):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=f.dS(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),Z.JT.None}_registerShadowDomContainer(ee){const ce=f.dS(ee);return ce.className="monaco-colors",ce.textContent=this._allCSS,this._styleElements.push(ce),{dispose:()=>{for(let he=0;he<this._styleElements.length;he++)if(this._styleElements[he]===ce)return void this._styleElements.splice(he,1)}}}defineTheme(ee,ce){if(!/^[a-z0-9\-]+$/i.test(ee))throw new Error("Illegal theme name!");if(!w(ce.base)&&!w(ee))throw new Error("Illegal theme base!");this._knownThemes.set(ee,new te(ee,ce)),w(ee)&&this._knownThemes.forEach(he=>{he.base===ee&&he.notifyBaseUpdated()}),this._theme.themeName===ee&&this.setTheme(ee)}getColorTheme(){return this._theme}setColorMapOverride(ee){this._colorMapOverride=ee,this._updateThemeOrColorMap()}setTheme(ee){let ce;ce=this._knownThemes.has(ee)?this._knownThemes.get(ee):this._knownThemes.get(z),this._updateActualTheme(ce)}_updateActualTheme(ee){!ee||this._theme===ee||(this._theme=ee,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const ee=window.matchMedia("(forced-colors: active)").matches;if(ee!==(0,G.c3)(this._theme.type)){let ce;ce=(0,G._T)(this._theme.type)?ee?Y:j:ee?E:z,this._updateActualTheme(this._knownThemes.get(ce))}}}setAutoDetectHighContrast(ee){this._autoDetectHighContrast=ee,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const ee=[],ce={},he={addRule:re=>{ce[re]||(ee.push(re),ce[re]=!0)}};$.getThemingParticipants().forEach(re=>re(this._theme,he,this._environment));const de=[];for(const re of V.getColors()){const Se=this._theme.getColor(re.id,!0);Se&&de.push(`${(0,y.QO2)(re.id)}: ${Se.toString()};`)}he.addRule(`.monaco-editor { ${de.join("\n")} }`);const ge=this._colorMapOverride||this._theme.tokenTheme.getColorMap();he.addRule(function m(Ie){const ee=[];for(let ce=1,he=Ie.length;ce<he;ce++)ee[ce]=`.mtk${ce} { color: ${Ie[ce]}; }`;return ee.push(".mtki { font-style: italic; }"),ee.push(".mtkb { font-weight: bold; }"),ee.push(".mtku { text-decoration: underline; text-underline-position: under; }"),ee.push(".mtks { text-decoration: line-through; }"),ee.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),ee.join("\n")}(ge)),this._themeCSS=ee.join("\n"),this._updateCSS(),u.RW.setColorMap(ge),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach(ee=>ee.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}},20590:(at,ue,e)=>{"use strict";e.r(ue);var f=e(95172),s=e(56021),L=e(29710),M=e(58676),u=e(9924);(0,f.Qr)(class P extends f.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:L.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(k,N){const _=k.get(s.Z),a=_.getColorTheme();(0,M.c3)(a.type)?(_.setTheme(this._originalThemeName||((0,M._T)(a.type)?u.rW:u.TG)),this._originalThemeName=null):(_.setTheme((0,M._T)(a.type)?u.kR:u.MU),this._originalThemeName=a.themeName)}})},56021:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>s});const s=(0,e(64725).yh)("themeService")},98381:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{cssDefaults:()=>p,lessDefaults:()=>n,scssDefaults:()=>c});var f=e(3597),s=Object.defineProperty,L=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyNames,u=Object.prototype.hasOwnProperty,P=(v,d,m,I)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let y of M(d))!u.call(v,y)&&y!==m&&s(v,y,{get:()=>d[y],enumerable:!(I=L(d,y))||I.enumerable});return v},k={};P(k,f,"default");var N=class{constructor(v,d,m){io(this,"_onDidChange",new k.Emitter),io(this,"_options"),io(this,"_modeConfiguration"),io(this,"_languageId"),this._languageId=v,this.setOptions(d),this.setModeConfiguration(m)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(v){this._options=v||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(v){this.setOptions(v)}setModeConfiguration(v){this._modeConfiguration=v||Object.create(null),this._onDidChange.fire(this)}},_={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},a={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},p=new N("css",_,a),c=new N("scss",_,a),n=new N("less",_,a);function l(){return e.e(3814).then(e.bind(e,3814))}k.languages.css={cssDefaults:p,lessDefaults:n,scssDefaults:c},k.languages.onLanguage("less",()=>{l().then(v=>v.setupMode(n))}),k.languages.onLanguage("scss",()=>{l().then(v=>v.setupMode(c))}),k.languages.onLanguage("css",()=>{l().then(v=>v.setupMode(p))})},46518:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{handlebarDefaults:()=>y,handlebarLanguageService:()=>I,htmlDefaults:()=>m,htmlLanguageService:()=>d,razorDefaults:()=>b,razorLanguageService:()=>S,registerHTMLLanguageService:()=>T});var f=e(15861),s=e(3597),L=Object.defineProperty,M=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,P=Object.prototype.hasOwnProperty,A=(R,Q,Z,G)=>{if(Q&&"object"==typeof Q||"function"==typeof Q)for(let F of u(Q))!P.call(R,F)&&F!==Z&&L(R,F,{get:()=>Q[F],enumerable:!(G=M(Q,F))||G.enumerable});return R},N={};A(N,s,"default");var p={format:{tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},suggest:{},data:{useDefaultDataProvider:!0}};function c(R){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:R===n,documentFormattingEdits:R===n,documentRangeFormattingEdits:R===n}}var n="html",l="handlebars",v="razor",d=T(n,p,c(n)),m=d.defaults,I=T(l,p,c(l)),y=I.defaults,S=T(v,p,c(v)),b=S.defaults;function T(R,Q=p,Z=c(R)){const G=new class{constructor(R,Q,Z){io(this,"_onDidChange",new N.Emitter),io(this,"_options"),io(this,"_modeConfiguration"),io(this,"_languageId"),this._languageId=R,this.setOptions(Q),this.setModeConfiguration(Z)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(R){this._options=R||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(R){this._modeConfiguration=R||Object.create(null),this._onDidChange.fire(this)}}(R,Q,Z);let F;const W=N.languages.onLanguage(R,(0,f.Z)(function*(){F=(yield function x(){return e.e(3606).then(e.bind(e,23606))}()).setupMode(G)}));return{defaults:G,dispose(){W.dispose(),null==F||F.dispose(),F=void 0}}}N.languages.html={htmlDefaults:m,razorDefaults:b,handlebarDefaults:y,htmlLanguageService:d,handlebarLanguageService:I,razorLanguageService:S,registerHTMLLanguageService:T}},41417:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{JsxEmit:()=>a,ModuleKind:()=>_,ModuleResolutionKind:()=>n,NewLineKind:()=>p,ScriptTarget:()=>c,getJavaScriptWorker:()=>y,getTypeScriptWorker:()=>I,javascriptDefaults:()=>m,typescriptDefaults:()=>d,typescriptVersion:()=>v});var f=e(3597),s=Object.defineProperty,L=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyNames,u=Object.prototype.hasOwnProperty,P=(b,x,T,R)=>{if(x&&"object"==typeof x||"function"==typeof x)for(let Q of M(x))!u.call(b,Q)&&Q!==T&&s(b,Q,{get:()=>x[Q],enumerable:!(R=L(x,Q))||R.enumerable});return b},N={};P(N,f,"default");var _=(b=>(b[b.None=0]="None",b[b.CommonJS=1]="CommonJS",b[b.AMD=2]="AMD",b[b.UMD=3]="UMD",b[b.System=4]="System",b[b.ES2015=5]="ES2015",b[b.ESNext=99]="ESNext",b))(_||{}),a=(b=>(b[b.None=0]="None",b[b.Preserve=1]="Preserve",b[b.React=2]="React",b[b.ReactNative=3]="ReactNative",b[b.ReactJSX=4]="ReactJSX",b[b.ReactJSXDev=5]="ReactJSXDev",b))(a||{}),p=(b=>(b[b.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",b[b.LineFeed=1]="LineFeed",b))(p||{}),c=(b=>(b[b.ES3=0]="ES3",b[b.ES5=1]="ES5",b[b.ES2015=2]="ES2015",b[b.ES2016=3]="ES2016",b[b.ES2017=4]="ES2017",b[b.ES2018=5]="ES2018",b[b.ES2019=6]="ES2019",b[b.ES2020=7]="ES2020",b[b.ESNext=99]="ESNext",b[b.JSON=100]="JSON",b[b.Latest=99]="Latest",b))(c||{}),n=(b=>(b[b.Classic=1]="Classic",b[b.NodeJs=2]="NodeJs",b))(n||{}),l=class{constructor(b,x,T,R){io(this,"_onDidChange",new N.Emitter),io(this,"_onDidExtraLibsChange",new N.Emitter),io(this,"_extraLibs"),io(this,"_removedExtraLibs"),io(this,"_eagerModelSync"),io(this,"_compilerOptions"),io(this,"_diagnosticsOptions"),io(this,"_workerOptions"),io(this,"_onDidExtraLibsChangeTimeout"),io(this,"_inlayHintsOptions"),this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(b),this.setDiagnosticsOptions(x),this.setWorkerOptions(T),this.setInlayHintsOptions(R),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(b,x){let T;if(T=void 0===x?`ts:extralib-${Math.random().toString(36).substring(2,15)}`:x,this._extraLibs[T]&&this._extraLibs[T].content===b)return{dispose:()=>{}};let R=1;return this._removedExtraLibs[T]&&(R=this._removedExtraLibs[T]+1),this._extraLibs[T]&&(R=this._extraLibs[T].version+1),this._extraLibs[T]={content:b,version:R},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let Q=this._extraLibs[T];!Q||Q.version===R&&(delete this._extraLibs[T],this._removedExtraLibs[T]=R,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(b){for(const x in this._extraLibs)this._removedExtraLibs[x]=this._extraLibs[x].version;if(this._extraLibs=Object.create(null),b&&b.length>0)for(const x of b){const T=x.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`;let Q=1;this._removedExtraLibs[T]&&(Q=this._removedExtraLibs[T]+1),this._extraLibs[T]={content:x.content,version:Q}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(b){this._compilerOptions=b||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(b){this._diagnosticsOptions=b||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(b){this._workerOptions=b||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(b){this._inlayHintsOptions=b||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(b){}setEagerModelSync(b){this._eagerModelSync=b}getEagerModelSync(){return this._eagerModelSync}},v="4.5.5",d=new l({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),m=new l({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),I=()=>S().then(b=>b.getTypeScriptWorker()),y=()=>S().then(b=>b.getJavaScriptWorker());function S(){return e.e(8032).then(e.bind(e,68032))}N.languages.typescript={ModuleKind:_,JsxEmit:a,NewLineKind:p,ScriptTarget:c,ModuleResolutionKind:n,typescriptVersion:v,typescriptDefaults:d,javascriptDefaults:m,getTypeScriptWorker:I,getJavaScriptWorker:y},N.languages.onLanguage("typescript",()=>S().then(b=>b.setupTypeScript(d))),N.languages.onLanguage("javascript",()=>S().then(b=>b.setupJavaScript(m)))},40402:(at,ue,e)=>{"use strict";e.d(ue,{NC:()=>N,aj:()=>_});let s="undefined"!=typeof document&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function N(n,l,...v){return function M(n,l){let v;return v=0===l.length?n:n.replace(/\{(\d+)\}/g,(d,m)=>{const y=l[m[0]];let S=d;return"string"==typeof y?S=y:("number"==typeof y||"boolean"==typeof y||null==y)&&(S=String(y)),S}),s&&(v="\uff3b"+v.replace(/[aouei]/g,"$&$&")+"\uff3d"),v}(l,v)}function _(n){}},12452:(at,ue,e)=>{"use strict";e.d(ue,{F:()=>L,U:()=>M});var f=e(59776);const L=(0,e(64725).yh)("accessibilityService"),M=new f.uy("accessibilityModeEnabled",!1)},55755:(at,ue,e)=>{"use strict";e.d(ue,{Mm:()=>Se,Id:()=>ie,vr:()=>de});var f=e(58059),s=e(74616),L=e(45909),M=e(79680),u=e(85113),P=e(52787),A=e(93379),k=e.n(A),N=e(7795),_=e.n(N),a=e(90569),p=e.n(a),c=e(3565),n=e.n(c),l=e(19216),v=e.n(l),d=e(44589),m=e.n(d),I=e(25035),y={};y.styleTagTransform=m(),y.setAttributes=n(),y.insert=p().bind(null,"head"),y.domAPI=_(),y.insertStyleElement=v(),k()(I.Z,y);class x extends u.Wi{constructor(_e,Be){super(),this._onDidChangeVisibility=this._register(new P.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,f.R3)(_e,(0,f.$)(".monaco-dropdown")),this._label=(0,f.R3)(this._element,(0,f.$)(".dropdown-label"));let Qe=Be.labelRenderer;Qe||(Qe=pe=>(pe.textContent=Be.label||"",null));for(const pe of[f.tw.CLICK,f.tw.MOUSE_DOWN,M.t.Tap])this._register((0,f.nm)(this.element,pe,De=>f.zB.stop(De,!0)));for(const pe of[f.tw.MOUSE_DOWN,M.t.Tap])this._register((0,f.nm)(this._label,pe,De=>{De instanceof MouseEvent&&(De.detail>1||0!==De.button)||(this.visible?this.hide():this.show())}));this._register((0,f.nm)(this._label,f.tw.KEY_UP,pe=>{const De=new s.y(pe);(De.equals(3)||De.equals(10))&&(f.zB.stop(pe,!0),this.visible?this.hide():this.show())}));const Ae=Qe(this._label);Ae&&this._register(Ae),this._register(M.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class T extends x{constructor(_e,Be){super(_e,Be),this._actions=[],this._contextMenuProvider=Be.contextMenuProvider,this.actions=Be.actions||[],this.actionProvider=Be.actionProvider,this.menuClassName=Be.menuClassName||"",this.menuAsChild=!!Be.menuAsChild}set menuOptions(_e){this._menuOptions=_e}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(_e){this._actions=_e}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:_e=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(_e):void 0,getKeyBinding:_e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(_e):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class R extends L.Y{constructor(_e,Be,Qe,Ae=Object.create(null)){super(null,_e,Ae),this.actionItem=null,this._onDidChangeVisibility=this._register(new P.Q5),this.menuActionsOrProvider=Be,this.contextMenuProvider=Qe,this.options=Ae,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(_e){this.actionItem=_e;const Qe=Array.isArray(this.menuActionsOrProvider);if(this.dropdownMenu=this._register(new T(_e,{contextMenuProvider:this.contextMenuProvider,labelRenderer:pe=>{this.element=(0,f.R3)(pe,(0,f.$)("a.action-label"));let De=[];return"string"==typeof this.options.classNames?De=this.options.classNames.split(/\s+/g).filter(Oe=>!!Oe):this.options.classNames&&(De=this.options.classNames),De.find(Oe=>"icon"===Oe)||De.push("codicon"),this.element.classList.add(...De),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},menuAsChild:this.options.menuAsChild,actions:Qe?this.menuActionsOrProvider:void 0,actionProvider:Qe?void 0:this.menuActionsOrProvider})),this._register(this.dropdownMenu.onDidChangeVisibility(pe=>{var De;null===(De=this.element)||void 0===De||De.setAttribute("aria-expanded",`${pe}`),this._onDidChangeVisibility.fire(pe)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const pe=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return pe.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let _e=null;return this.getAction().tooltip?_e=this.getAction().tooltip:this.getAction().label&&(_e=this.getAction().label),null!=_e?_e:void 0}setActionContext(_e){super.setActionContext(_e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=_e:this.dropdownMenu.menuOptions={context:_e})}updateEnabled(){var _e,Be;const Qe=!this.getAction().enabled;null===(_e=this.actionItem)||void 0===_e||_e.classList.toggle("disabled",Qe),null===(Be=this.element)||void 0===Be||Be.classList.toggle("disabled",Qe)}}var Q=e(27),Z=e(52425),G=e(38972),F=e(51854),W={};W.styleTagTransform=m(),W.setAttributes=n(),W.insert=p().bind(null,"head"),W.domAPI=_(),W.insertStyleElement=v(),k()(F.Z,W);var j=e(40402),Y=e(61004),E=e(59776),V=e(34394),$=e(64725),te=e(77090),w=e(78782),fe=e(99571),be=e(23024),me=e(58676),Ie=e(54435),ee=function(ye,_e,Be,Qe){var De,Ae=arguments.length,pe=Ae<3?_e:null===Qe?Qe=Object.getOwnPropertyDescriptor(_e,Be):Qe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(ye,_e,Be,Qe);else for(var Oe=ye.length-1;Oe>=0;Oe--)(De=ye[Oe])&&(pe=(Ae<3?De(pe):Ae>3?De(_e,Be,pe):De(_e,Be))||pe);return Ae>3&&pe&&Object.defineProperty(_e,Be,pe),pe},ce=function(ye,_e){return function(Be,Qe){_e(Be,Qe,ye)}},he=function(ye,_e,Be,Qe){return new(Be||(Be=Promise))(function(pe,De){function Oe(xe){try{ne(Qe.next(xe))}catch(Je){De(Je)}}function Ne(xe){try{ne(Qe.throw(xe))}catch(Je){De(Je)}}function ne(xe){xe.done?pe(xe.value):function Ae(pe){return pe instanceof Be?pe:new Be(function(De){De(pe)})}(xe.value).then(Oe,Ne)}ne((Qe=Qe.apply(ye,_e||[])).next())})};function de(ye,_e,Be,Qe,Ae,pe,De){const Oe=ye.getActions(_e);return function re(ye,_e,Be,Qe=(Oe=>"navigation"===Oe),Ae=Number.MAX_SAFE_INTEGER,pe=(()=>!1),De=!1){let Oe,Ne;Array.isArray(_e)?(Oe=_e,Ne=_e):(Oe=_e.primary,Ne=_e.secondary);const ne=new Set;for(const[xe,Je]of ye){let gt;Qe(xe)?(gt=Oe,gt.length>0&&De&&gt.push(new u.Z0)):(gt=Ne,gt.length>0&&gt.push(new u.Z0));for(let lt of Je){Be&&(lt=lt instanceof Y.U8&&lt.alt?lt.alt:lt);const Ke=gt.push(lt);lt instanceof u.wY&&ne.add({group:xe,action:lt,index:Ke-1})}}for(const{group:xe,action:Je,index:gt}of ne){const lt=Qe(xe)?Oe:Ne,Ke=Je.actions;(Ke.length<=1||lt.length+Ke.length-2<=Ae)&&pe(Je,xe,lt.length)&&lt.splice(gt,1,...Ke)}if(Oe!==Ne&&Oe.length>Ae){const xe=Oe.splice(Ae,Oe.length-Ae);Ne.unshift(...xe,new u.Z0)}}(Oe,Be,!1,"string"==typeof Qe?ne=>ne===Qe:Qe,Ae,pe,De),function ge(ye){const _e=new Z.SL;for(const[,Be]of ye)for(const Qe of Be)_e.add(Qe);return _e}(Oe)}let Se=class extends L.g{constructor(_e,Be,Qe,Ae,pe,De,Oe){super(void 0,_e,{icon:!(!_e.class&&!_e.item.icon),label:!_e.class&&!_e.item.icon,draggable:null==Be?void 0:Be.draggable,keybinding:null==Be?void 0:Be.keybinding,hoverDelegate:null==Be?void 0:Be.hoverDelegate}),this._keybindingService=Qe,this._notificationService=Ae,this._contextKeyService=pe,this._themeService=De,this._contextMenuService=Oe,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new Z.XK),this._altKey=f._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(_e){return he(this,void 0,void 0,function*(){_e.preventDefault(),_e.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(Be){this._notificationService.error(Be)}})}render(_e){super.render(_e),_e.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let Be=!1,Qe=this._altKey.keyStatus.altKey||(G.ED||G.IJ)&&this._altKey.keyStatus.shiftKey;const Ae=()=>{var pe;const De=Be&&Qe&&!(null===(pe=this._commandAction.alt)||void 0===pe||!pe.enabled);De!==this._wantsAltCommand&&(this._wantsAltCommand=De,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(pe=>{Qe=pe.altKey||(G.ED||G.IJ)&&pe.shiftKey,Ae()})),this._register((0,f.nm)(_e,"mouseleave",pe=>{Be=!1,Ae()})),this._register((0,f.nm)(_e,"mouseenter",pe=>{Be=!0,Ae()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var _e;const Be=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),Qe=Be&&Be.getLabel(),Ae=this._commandAction.tooltip||this._commandAction.label;let pe=Qe?(0,j.NC)("titleAndKb","{0} ({1})",Ae,Qe):Ae;if(!this._wantsAltCommand&&(null===(_e=this._menuItemAction.alt)||void 0===_e?void 0:_e.enabled)){const De=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,Oe=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),Ne=Oe&&Oe.getLabel(),ne=Ne?(0,j.NC)("titleAndKb","{0} ({1})",De,Ne):De;pe=(0,j.NC)("titleAndKbAndAlt","{0}\n[{1}] {2}",pe,Q.xo.modifierLabels[G.OS].altKey,ne)}return pe}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(_e){var Be;this._itemClassDispose.value=void 0;const{element:Qe,label:Ae}=this;if(!Qe||!Ae)return;const pe=this._commandAction.checked&&(null===(Be=_e.toggled)||void 0===Be?void 0:Be.icon)?_e.toggled.icon:_e.icon;if(pe)if(be.kS.isThemeIcon(pe)){const De=be.kS.asClassNameArray(pe);Ae.classList.add(...De),this._itemClassDispose.value=(0,Z.OF)(()=>{Ae.classList.remove(...De)})}else Ae.style.backgroundImage=(0,me._T)(this._themeService.getColorTheme().type)?(0,f.wY)(pe.dark):(0,f.wY)(pe.light),Ae.classList.add("icon"),this._itemClassDispose.value=(0,Z.F8)((0,Z.OF)(()=>{Ae.style.backgroundImage="",Ae.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};Se=ee([ce(2,te.d),ce(3,w.lT),ce(4,E.i6),ce(5,be.XE),ce(6,V.i)],Se);let Pe=class extends R{constructor(_e,Be,Qe,Ae){var pe,De;const Oe=Object.assign({},null!=Be?Be:Object.create(null),{menuAsChild:null!==(pe=null==Be?void 0:Be.menuAsChild)&&void 0!==pe&&pe,classNames:null!==(De=null==Be?void 0:Be.classNames)&&void 0!==De?De:be.kS.isThemeIcon(_e.item.icon)?be.kS.asClassName(_e.item.icon):void 0});super(_e,{getActions:()=>_e.actions},Qe,Oe),this._contextMenuService=Qe,this._themeService=Ae}render(_e){super.render(_e),(0,Ie.p_)(this.element),_e.classList.add("menu-entry");const Be=this._action,{icon:Qe}=Be.item;if(Qe&&!be.kS.isThemeIcon(Qe)){this.element.classList.add("icon");const Ae=()=>{this.element&&(this.element.style.backgroundImage=(0,me._T)(this._themeService.getColorTheme().type)?(0,f.wY)(Qe.dark):(0,f.wY)(Qe.light))};Ae(),this._register(this._themeService.onDidColorThemeChange(()=>{Ae()}))}}};Pe=ee([ce(2,V.i),ce(3,be.XE)],Pe);let Ve=class extends L.Y{constructor(_e,Be,Qe,Ae,pe,De,Oe,Ne){var ne,xe,Je;let gt;super(null,_e),this._keybindingService=Qe,this._notificationService=Ae,this._contextMenuService=pe,this._menuService=De,this._instaService=Oe,this._storageService=Ne,this._container=null,this._options=Be,this._storageKey=`${_e.item.submenu.id}_lastActionId`;const lt=Ne.get(this._storageKey,1);lt&&(gt=_e.actions.find(He=>lt===He.id)),gt||(gt=_e.actions[0]),this._defaultAction=this._instaService.createInstance(Se,gt,{keybinding:this._getDefaultActionKeybindingLabel(gt)});const Ke=Object.assign({},null!=Be?Be:Object.create(null),{menuAsChild:null===(ne=null==Be?void 0:Be.menuAsChild)||void 0===ne||ne,classNames:null!==(xe=null==Be?void 0:Be.classNames)&&void 0!==xe?xe:["codicon","codicon-chevron-down"],actionRunner:null!==(Je=null==Be?void 0:Be.actionRunner)&&void 0!==Je?Je:new u.Wi});this._dropdown=new R(_e,_e.actions,this._contextMenuService,Ke),this._dropdown.actionRunner.onDidRun(He=>{He.action instanceof Y.U8&&this.update(He.action)})}update(_e){this._storageService.store(this._storageKey,_e.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(Se,_e,{keybinding:this._getDefaultActionKeybindingLabel(_e)}),this._defaultAction.actionRunner=new class extends u.Wi{runAction(Be,Qe){return he(this,void 0,void 0,function*(){yield Be.run(void 0)})}},this._container&&this._defaultAction.render((0,f.Ce)(this._container,(0,f.$)(".action-container")))}_getDefaultActionKeybindingLabel(_e){var Be;let Qe;if(null!==(Be=this._options)&&void 0!==Be&&Be.renderKeybindingWithDefaultActionLabel){const Ae=this._keybindingService.lookupKeybinding(_e.id);Ae&&(Qe=`(${Ae.getLabel()})`)}return Qe}setActionContext(_e){super.setActionContext(_e),this._defaultAction.setActionContext(_e),this._dropdown.setActionContext(_e)}render(_e){this._container=_e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const Be=(0,f.$)(".action-container");this._defaultAction.render((0,f.R3)(this._container,Be)),this._register((0,f.nm)(Be,f.tw.KEY_DOWN,Ae=>{const pe=new s.y(Ae);pe.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),pe.stopPropagation())}));const Qe=(0,f.$)(".dropdown-action-container");this._dropdown.render((0,f.R3)(this._container,Qe)),this._register((0,f.nm)(Qe,f.tw.KEY_DOWN,Ae=>{var pe;const De=new s.y(Ae);De.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),null===(pe=this._defaultAction.element)||void 0===pe||pe.focus(),De.stopPropagation())}))}focus(_e){_e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(_e){_e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};function ie(ye,_e,Be){return _e instanceof Y.U8?ye.createInstance(Se,_e,Be):_e instanceof Y.NZ?ye.createInstance(_e.item.rememberDefaultAction?Ve:Pe,_e,Be):void 0}Ve=ee([ce(2,te.d),ce(3,w.lT),ce(4,V.i),ce(5,Y.co),ce(6,$.TG),ce(7,fe.Uy)],Ve)},61004:(at,ue,e)=>{"use strict";e.d(ue,{BH:()=>v,NZ:()=>d,U8:()=>m,co:()=>l,eH:()=>n,vr:()=>c});var f=e(85113),s=e(2450),L=e(52787),M=e(67981),u=e(52425),P=e(38460),A=e(23884),k=e(59776),N=e(64725),_=e(23024),p=function(I,y){return function(S,b){y(S,b,I)}};function c(I){return void 0!==I.command}class n{constructor(y){if(n._instances.has(y))throw new TypeError(`MenuId with identifier '${y}' already exists. Use MenuId.for(ident) or a unique identifier`);n._instances.set(y,this),this.id=y}}n._instances=new Map,n.CommandPalette=new n("CommandPalette"),n.DebugBreakpointsContext=new n("DebugBreakpointsContext"),n.DebugCallStackContext=new n("DebugCallStackContext"),n.DebugConsoleContext=new n("DebugConsoleContext"),n.DebugVariablesContext=new n("DebugVariablesContext"),n.DebugWatchContext=new n("DebugWatchContext"),n.DebugToolBar=new n("DebugToolBar"),n.DebugToolBarStop=new n("DebugToolBarStop"),n.EditorContext=new n("EditorContext"),n.SimpleEditorContext=new n("SimpleEditorContext"),n.EditorContextCopy=new n("EditorContextCopy"),n.EditorContextPeek=new n("EditorContextPeek"),n.EditorContextShare=new n("EditorContextShare"),n.EditorTitle=new n("EditorTitle"),n.EditorTitleRun=new n("EditorTitleRun"),n.EditorTitleContext=new n("EditorTitleContext"),n.EmptyEditorGroup=new n("EmptyEditorGroup"),n.EmptyEditorGroupContext=new n("EmptyEditorGroupContext"),n.ExplorerContext=new n("ExplorerContext"),n.ExtensionContext=new n("ExtensionContext"),n.GlobalActivity=new n("GlobalActivity"),n.CommandCenter=new n("CommandCenter"),n.LayoutControlMenuSubmenu=new n("LayoutControlMenuSubmenu"),n.LayoutControlMenu=new n("LayoutControlMenu"),n.MenubarMainMenu=new n("MenubarMainMenu"),n.MenubarAppearanceMenu=new n("MenubarAppearanceMenu"),n.MenubarDebugMenu=new n("MenubarDebugMenu"),n.MenubarEditMenu=new n("MenubarEditMenu"),n.MenubarCopy=new n("MenubarCopy"),n.MenubarFileMenu=new n("MenubarFileMenu"),n.MenubarGoMenu=new n("MenubarGoMenu"),n.MenubarHelpMenu=new n("MenubarHelpMenu"),n.MenubarLayoutMenu=new n("MenubarLayoutMenu"),n.MenubarNewBreakpointMenu=new n("MenubarNewBreakpointMenu"),n.MenubarPanelAlignmentMenu=new n("MenubarPanelAlignmentMenu"),n.MenubarPanelPositionMenu=new n("MenubarPanelPositionMenu"),n.MenubarPreferencesMenu=new n("MenubarPreferencesMenu"),n.MenubarRecentMenu=new n("MenubarRecentMenu"),n.MenubarSelectionMenu=new n("MenubarSelectionMenu"),n.MenubarShare=new n("MenubarShare"),n.MenubarSwitchEditorMenu=new n("MenubarSwitchEditorMenu"),n.MenubarSwitchGroupMenu=new n("MenubarSwitchGroupMenu"),n.MenubarTerminalMenu=new n("MenubarTerminalMenu"),n.MenubarViewMenu=new n("MenubarViewMenu"),n.MenubarHomeMenu=new n("MenubarHomeMenu"),n.OpenEditorsContext=new n("OpenEditorsContext"),n.ProblemsPanelContext=new n("ProblemsPanelContext"),n.SCMChangeContext=new n("SCMChangeContext"),n.SCMResourceContext=new n("SCMResourceContext"),n.SCMResourceFolderContext=new n("SCMResourceFolderContext"),n.SCMResourceGroupContext=new n("SCMResourceGroupContext"),n.SCMSourceControl=new n("SCMSourceControl"),n.SCMTitle=new n("SCMTitle"),n.SearchContext=new n("SearchContext"),n.StatusBarWindowIndicatorMenu=new n("StatusBarWindowIndicatorMenu"),n.StatusBarRemoteIndicatorMenu=new n("StatusBarRemoteIndicatorMenu"),n.TestItem=new n("TestItem"),n.TestItemGutter=new n("TestItemGutter"),n.TestPeekElement=new n("TestPeekElement"),n.TestPeekTitle=new n("TestPeekTitle"),n.TouchBarContext=new n("TouchBarContext"),n.TitleBarContext=new n("TitleBarContext"),n.TitleBarTitleContext=new n("TitleBarTitleContext"),n.TunnelContext=new n("TunnelContext"),n.TunnelPrivacy=new n("TunnelPrivacy"),n.TunnelProtocol=new n("TunnelProtocol"),n.TunnelPortInline=new n("TunnelInline"),n.TunnelTitle=new n("TunnelTitle"),n.TunnelLocalAddressInline=new n("TunnelLocalAddressInline"),n.TunnelOriginInline=new n("TunnelOriginInline"),n.ViewItemContext=new n("ViewItemContext"),n.ViewContainerTitle=new n("ViewContainerTitle"),n.ViewContainerTitleContext=new n("ViewContainerTitleContext"),n.ViewTitle=new n("ViewTitle"),n.ViewTitleContext=new n("ViewTitleContext"),n.CommentThreadTitle=new n("CommentThreadTitle"),n.CommentThreadActions=new n("CommentThreadActions"),n.CommentTitle=new n("CommentTitle"),n.CommentActions=new n("CommentActions"),n.InteractiveToolbar=new n("InteractiveToolbar"),n.InteractiveCellTitle=new n("InteractiveCellTitle"),n.InteractiveCellDelete=new n("InteractiveCellDelete"),n.InteractiveCellExecute=new n("InteractiveCellExecute"),n.InteractiveInputExecute=new n("InteractiveInputExecute"),n.NotebookToolbar=new n("NotebookToolbar"),n.NotebookCellTitle=new n("NotebookCellTitle"),n.NotebookCellDelete=new n("NotebookCellDelete"),n.NotebookCellInsert=new n("NotebookCellInsert"),n.NotebookCellBetween=new n("NotebookCellBetween"),n.NotebookCellListTop=new n("NotebookCellTop"),n.NotebookCellExecute=new n("NotebookCellExecute"),n.NotebookCellExecutePrimary=new n("NotebookCellExecutePrimary"),n.NotebookDiffCellInputTitle=new n("NotebookDiffCellInputTitle"),n.NotebookDiffCellMetadataTitle=new n("NotebookDiffCellMetadataTitle"),n.NotebookDiffCellOutputsTitle=new n("NotebookDiffCellOutputsTitle"),n.NotebookOutputToolbar=new n("NotebookOutputToolbar"),n.NotebookEditorLayoutConfigure=new n("NotebookEditorLayoutConfigure"),n.NotebookKernelSource=new n("NotebookKernelSource"),n.BulkEditTitle=new n("BulkEditTitle"),n.BulkEditContext=new n("BulkEditContext"),n.TimelineItemContext=new n("TimelineItemContext"),n.TimelineTitle=new n("TimelineTitle"),n.TimelineTitleContext=new n("TimelineTitleContext"),n.TimelineFilterSubMenu=new n("TimelineFilterSubMenu"),n.AccountsContext=new n("AccountsContext"),n.PanelTitle=new n("PanelTitle"),n.AuxiliaryBarTitle=new n("AuxiliaryBarTitle"),n.TerminalInstanceContext=new n("TerminalInstanceContext"),n.TerminalEditorInstanceContext=new n("TerminalEditorInstanceContext"),n.TerminalNewDropdownContext=new n("TerminalNewDropdownContext"),n.TerminalTabContext=new n("TerminalTabContext"),n.TerminalTabEmptyAreaContext=new n("TerminalTabEmptyAreaContext"),n.TerminalInlineTabContext=new n("TerminalInlineTabContext"),n.WebviewContext=new n("WebviewContext"),n.InlineCompletionsActions=new n("InlineCompletionsActions"),n.NewFile=new n("NewFile"),n.MergeToolbar=new n("MergeToolbar"),n.MergeInput1Toolbar=new n("MergeToolbar1Toolbar"),n.MergeInput2Toolbar=new n("MergeToolbar2Toolbar");const l=(0,N.yh)("menuService"),v=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new L.Q5,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:I=>I===n.CommandPalette}}addCommand(I){return this.addCommands(M.$.single(I))}addCommands(I){for(const y of I)this._commands.set(y.id,y);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,u.OF)(()=>{let y=!1;for(const S of I)y=this._commands.delete(S.id)||y;y&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(I){return this._commands.get(I)}getCommands(){const I=new Map;return this._commands.forEach((y,S)=>I.set(S,y)),I}appendMenuItem(I,y){return this.appendMenuItems(M.$.single({id:I,item:y}))}appendMenuItems(I){const y=new Set,S=new P.S;for(const{id:b,item:x}of I){let T=this._menuItems.get(b);T||(T=new P.S,this._menuItems.set(b,T)),S.push(T.push(x)),y.add(b)}return this._onDidChangeMenu.fire(y),(0,u.OF)(()=>{if(S.size>0){for(const b of S)b();this._onDidChangeMenu.fire(y),S.clear()}})}getMenuItems(I){let y;return y=this._menuItems.has(I)?[...this._menuItems.get(I)]:[],I===n.CommandPalette&&this._appendImplicitItems(y),y}_appendImplicitItems(I){const y=new Set;for(const S of I)c(S)&&(y.add(S.command.id),S.alt&&y.add(S.alt.id));this._commands.forEach((S,b)=>{y.has(b)||I.push({command:S})})}};class d extends f.wY{constructor(y,S,b,x){super(`submenuitem.${y.submenu.id}`,"string"==typeof y.title?y.title:y.title.value,[],"submenu"),this.item=y,this._menuService=S,this._contextKeyService=b,this._options=x}get actions(){const y=[],S=this._menuService.createMenu(this.item.submenu,this._contextKeyService),b=S.getActions(this._options);S.dispose();for(const[,x]of b)x.length>0&&(y.push(...x),y.push(new f.Z0));return y.length&&y.pop(),y}}let m=class ac{constructor(y,S,b,x,T,R){var Q,Z;if(this.hideActions=x,this._commandService=R,this.id=y.id,this.label=(null==b?void 0:b.renderShortTitle)&&y.shortTitle?"string"==typeof y.shortTitle?y.shortTitle:y.shortTitle.value:"string"==typeof y.title?y.title:y.title.value,this.tooltip=null!==(Z="string"==typeof y.tooltip?y.tooltip:null===(Q=y.tooltip)||void 0===Q?void 0:Q.value)&&void 0!==Z?Z:"",this.enabled=!y.precondition||T.contextMatchesRules(y.precondition),this.checked=void 0,y.toggled){const G=y.toggled.condition?y.toggled:{condition:y.toggled};this.checked=T.contextMatchesRules(G.condition),this.checked&&G.tooltip&&(this.tooltip="string"==typeof G.tooltip?G.tooltip:G.tooltip.value),G.title&&(this.label="string"==typeof G.title?G.title:G.title.value)}this.item=y,this.alt=S?new ac(S,void 0,b,x,T,R):void 0,this._options=b,_.kS.isThemeIcon(y.icon)&&(this.class=s.dT.asClassName(y.icon))}dispose(){}run(...y){var S,b;let x=[];return!(null===(S=this._options)||void 0===S)&&S.arg&&(x=[...x,this._options.arg]),!(null===(b=this._options)||void 0===b)&&b.shouldForwardArgs&&(x=[...x,...y]),this._commandService.executeCommand(this.id,...x)}};m=function(I,y,S,b){var R,x=arguments.length,T=x<3?y:null===b?b=Object.getOwnPropertyDescriptor(y,S):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(I,y,S,b);else for(var Q=I.length-1;Q>=0;Q--)(R=I[Q])&&(T=(x<3?R(T):x>3?R(y,S,T):R(y,S))||T);return x>3&&T&&Object.defineProperty(y,S,T),T}([p(4,k.i6),p(5,A.Hy)],m)},80777:(at,ue,e)=>{"use strict";e.d(ue,{p:()=>s});const s=(0,e(64725).yh)("clipboardService")},23884:(at,ue,e)=>{"use strict";e.d(ue,{Hy:()=>A,P0:()=>k});var f=e(52787),s=e(67981),L=e(52425),M=e(38460),u=e(54435);const A=(0,e(64725).yh)("commandService"),k=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new f.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(_,a){if(!_)throw new Error("invalid command");if("string"==typeof _){if(!a)throw new Error("invalid command");return this.registerCommand({id:_,handler:a})}if(_.description){const v=[];for(const m of _.description.args)v.push(m.constraint);const d=_.handler;_.handler=function(m,...I){return(0,u.D8)(I,v),d(m,...I)}}const{id:p}=_;let c=this._commands.get(p);c||(c=new M.S,this._commands.set(p,c));const n=c.unshift(_),l=(0,L.OF)(()=>{n();const v=this._commands.get(p);null!=v&&v.isEmpty()&&this._commands.delete(p)});return this._onDidRegisterCommand.fire(p),l}registerCommandAlias(_,a){return k.registerCommand(_,(p,...c)=>p.get(A).executeCommand(a,...c))}getCommand(_){const a=this._commands.get(_);if(a&&!a.isEmpty())return s.$.first(a)}getCommands(){const _=new Map;for(const a of this._commands.keys()){const p=this.getCommand(a);p&&_.set(a,p)}return _}};k.registerCommand("noop",()=>{})},9869:(at,ue,e)=>{"use strict";e.d(ue,{KV:()=>M,Mt:()=>A,Od:()=>L,UI:()=>k,Ui:()=>s,xL:()=>u});const s=(0,e(64725).yh)("configurationService");function L(N,_){const a=Object.create(null);for(const p in N)M(a,p,N[p],_);return a}function M(N,_,a,p){const c=_.split("."),n=c.pop();let l=N;for(let v=0;v<c.length;v++){const d=c[v];let m=l[d];switch(typeof m){case"undefined":m=l[d]=Object.create(null);break;case"object":break;default:return void p(`Ignoring ${_} as ${c.slice(0,v+1).join(".")} is ${JSON.stringify(m)}`)}l=m}if("object"==typeof l&&null!==l)try{l[n]=a}catch(v){p(`Ignoring ${_} as ${c.join(".")} is ${JSON.stringify(l)}`)}else p(`Ignoring ${_} as ${c.join(".")} is ${JSON.stringify(l)}`)}function u(N,_){P(N,_.split("."))}function P(N,_){const a=_.shift();if(0!==_.length){if(-1!==Object.keys(N).indexOf(a)){const p=N[a];"object"==typeof p&&!Array.isArray(p)&&(P(p,_),0===Object.keys(p).length&&delete N[a])}}else delete N[a]}function A(N,_,a){const n=function p(l,v){let d=l;for(const m of v){if("object"!=typeof d||null===d)return;d=d[m]}return d}(N,_.split("."));return void 0===n?a:n}function k(N){return N.replace(/[\[\]]/g,"")}},17732:(at,ue,e)=>{"use strict";e.d(ue,{IP:()=>k,eU:()=>S,ny:()=>b});var f=e(18337),s=e(52787),L=e(54435),M=e(40402),u=e(9869),P=e(83350),A=e(29537);const k={Configuration:"base.contributions.configuration"},N={properties:{},patternProperties:{}},_={properties:{},patternProperties:{}},a={properties:{},patternProperties:{}},p={properties:{},patternProperties:{}},c={properties:{},patternProperties:{}},n={properties:{},patternProperties:{}},l="vscode://schemas/settings/resourceLanguage",v=A.B.as(P.I.JSONContribution),m="\\[([^\\]]+)\\]",I=new RegExp(m,"g"),y=`^(${m})+$`,S=new RegExp(y);function b(Q){const Z=[];if(S.test(Q)){let G=I.exec(Q);for(;null!=G&&G.length;){const F=G[1].trim();F&&Z.push(F),G=I.exec(Q)}}return(0,f.EB)(Z)}const T=new class d{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new s.Q5,this._onDidUpdateConfiguration=new s.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:M.NC("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},v.registerSchema(l,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(Z,G=!0){this.registerConfigurations([Z],G)}registerConfigurations(Z,G=!0){const F=this.doRegisterConfigurations(Z,G);v.registerSchema(l,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:F})}registerDefaultConfigurations(Z){var G;const F=[],W=[];for(const{overrides:B,source:z}of Z)for(const j in B)if(F.push(j),S.test(j)){const Y=this.configurationDefaultsOverrides.get(j),E=null!==(G=null==Y?void 0:Y.valuesSources)&&void 0!==G?G:new Map;if(z)for(const w of Object.keys(B[j]))E.set(w,z);const V=Object.assign(Object.assign({},(null==Y?void 0:Y.value)||{}),B[j]);this.configurationDefaultsOverrides.set(j,{source:z,value:V,valuesSources:E});const $=(0,u.UI)(j),te={type:"object",default:V,description:M.NC("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",$),$ref:l,defaultDefaultValue:V,source:L.HD(z)?void 0:z,defaultValueSource:z};W.push(...b(j)),this.configurationProperties[j]=te,this.defaultLanguageConfigurationOverridesNode.properties[j]=te}else{this.configurationDefaultsOverrides.set(j,{value:B[j],source:z});const Y=this.configurationProperties[j];Y&&(this.updatePropertyDefaultValue(j,Y),this.updateSchema(j,Y))}this.registerOverrideIdentifiers(W),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:F,defaultsOverrides:!0})}registerOverrideIdentifiers(Z){for(const G of Z)this.overrideIdentifiers.add(G);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(Z,G){const F=[];return Z.forEach(W=>{F.push(...this.validateAndRegisterProperties(W,G,W.extensionInfo,W.restrictedProperties)),this.configurationContributors.push(W),this.registerJSONConfiguration(W)}),F}validateAndRegisterProperties(Z,G=!0,F,W,B=3){var z;B=L.Jp(Z.scope)?B:Z.scope;const j=[],Y=Z.properties;if(Y)for(const V in Y){const $=Y[V];G&&R(V,$)?delete Y[V]:($.source=F,$.defaultDefaultValue=Y[V].default,this.updatePropertyDefaultValue(V,$),S.test(V)?$.scope=void 0:($.scope=L.Jp($.scope)?B:$.scope,$.restricted=L.Jp($.restricted)?!(null==W||!W.includes(V)):$.restricted),!Y[V].hasOwnProperty("included")||Y[V].included?(this.configurationProperties[V]=Y[V],null!==(z=Y[V].policy)&&void 0!==z&&z.name&&this.policyConfigurations.set(Y[V].policy.name,V),!Y[V].deprecationMessage&&Y[V].markdownDeprecationMessage&&(Y[V].deprecationMessage=Y[V].markdownDeprecationMessage),j.push(V)):(this.excludedConfigurationProperties[V]=Y[V],delete Y[V]))}const E=Z.allOf;if(E)for(const V of E)j.push(...this.validateAndRegisterProperties(V,G,F,W,B));return j}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(Z){const G=F=>{const W=F.properties;if(W)for(const z in W)this.updateSchema(z,W[z]);const B=F.allOf;null==B||B.forEach(G)};G(Z)}updateSchema(Z,G){switch(N.properties[Z]=G,G.scope){case 1:_.properties[Z]=G;break;case 2:a.properties[Z]=G;break;case 6:p.properties[Z]=G;break;case 3:c.properties[Z]=G;break;case 4:n.properties[Z]=G;break;case 5:n.properties[Z]=G,this.resourceLanguageSettingsSchema.properties[Z]=G}}updateOverridePropertyPatternKey(){for(const Z of this.overrideIdentifiers.values()){const G=`[${Z}]`,F={type:"object",description:M.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:M.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:l};this.updatePropertyDefaultValue(G,F),N.properties[G]=F,_.properties[G]=F,a.properties[G]=F,p.properties[G]=F,c.properties[G]=F,n.properties[G]=F}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const Z={type:"object",description:M.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:M.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:l};N.patternProperties[y]=Z,_.patternProperties[y]=Z,a.patternProperties[y]=Z,p.patternProperties[y]=Z,c.patternProperties[y]=Z,n.patternProperties[y]=Z,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(Z,G){const F=this.configurationDefaultsOverrides.get(Z);let W=null==F?void 0:F.value,B=null==F?void 0:F.source;L.o8(W)&&(W=G.defaultDefaultValue,B=void 0),L.o8(W)&&(W=function x(Q){switch(Array.isArray(Q)?Q[0]:Q){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(G.type)),G.default=W,G.defaultValueSource=B}};function R(Q,Z){var G,F,W,B;return Q.trim()?S.test(Q)?M.NC("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",Q):void 0!==T.getConfigurationProperties()[Q]?M.NC("config.property.duplicate","Cannot register '{0}'. This property is already registered.",Q):(null===(G=Z.policy)||void 0===G?void 0:G.name)&&void 0!==T.getPolicyConfigurations().get(null===(F=Z.policy)||void 0===F?void 0:F.name)?M.NC("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",Q,null===(W=Z.policy)||void 0===W?void 0:W.name,T.getPolicyConfigurations().get(null===(B=Z.policy)||void 0===B?void 0:B.name)):null:M.NC("config.property.empty","Cannot register an empty property")}A.B.add(k.Configuration,T)},59776:(at,ue,e)=>{"use strict";e.d(ue,{Ao:()=>P,Eq:()=>F,Fb:()=>A,K8:()=>z,i6:()=>G,uy:()=>Z});var f=e(38972),s=e(93059),L=e(64725);const M=new Map;M.set("false",!1),M.set("true",!0),M.set("isMac",f.dz),M.set("isLinux",f.IJ),M.set("isWindows",f.ED),M.set("isWeb",f.$L),M.set("isMacNative",f.dz&&!f.$L),M.set("isEdge",f.un),M.set("isFirefox",f.vU),M.set("isChrome",f.i7),M.set("isSafari",f.G6);const u=Object.prototype.hasOwnProperty;class P{static has(E){return a.create(E)}static equals(E,V){return p.create(E,V)}static regex(E,V){return b.create(E,V)}static not(E){return v.create(E)}static and(...E){return R.create(E,null)}static or(...E){return Q.create(E,null,!0)}static deserialize(E,V=!1){if(E)return this._deserializeOrExpression(E,V)}static _deserializeOrExpression(E,V){const $=E.split("||");return Q.create($.map(te=>this._deserializeAndExpression(te,V)),null,!0)}static _deserializeAndExpression(E,V){const $=E.split("&&");return R.create($.map(te=>this._deserializeOne(te,V)),null)}static _deserializeOne(E,V){if((E=E.trim()).indexOf("!=")>=0){const $=E.split("!=");return l.create($[0].trim(),this._deserializeValue($[1],V))}if(E.indexOf("==")>=0){const $=E.split("==");return p.create($[0].trim(),this._deserializeValue($[1],V))}if(E.indexOf("=~")>=0){const $=E.split("=~");return b.create($[0].trim(),this._deserializeRegexValue($[1],V))}if(E.indexOf(" not in ")>=0){const $=E.split(" not in ");return n.create($[0].trim(),$[1].trim())}if(E.indexOf(" in ")>=0){const $=E.split(" in ");return c.create($[0].trim(),$[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(E)){const $=E.split(">=");return I.create($[0].trim(),$[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(E)){const $=E.split(">");return m.create($[0].trim(),$[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(E)){const $=E.split("<=");return S.create($[0].trim(),$[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(E)){const $=E.split("<");return y.create($[0].trim(),$[1].trim())}return/^\!\s*/.test(E)?v.create(E.substr(1).trim()):a.create(E)}static _deserializeValue(E,V){if("true"===(E=E.trim()))return!0;if("false"===E)return!1;const $=/^'([^']*)'$/.exec(E);return $?$[1].trim():E}static _deserializeRegexValue(E,V){if((0,s.m5)(E)){if(V)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}const $=E.indexOf("/"),te=E.lastIndexOf("/");if($===te||$<0){if(V)throw new Error(`bad regexp-value '${E}', missing /-enclosure`);return console.warn(`bad regexp-value '${E}', missing /-enclosure`),null}const w=E.slice($+1,te),fe="i"===E[te+1]?"i":"";try{return new RegExp(w,fe)}catch(be){if(V)throw new Error(`bad regexp-value '${E}', parse error: ${be}`);return console.warn(`bad regexp-value '${E}', parse error: ${be}`),null}}}function A(Y,E){const V=Y?Y.substituteConstants():void 0,$=E?E.substituteConstants():void 0;return!V&&!$||!(!V||!$)&&V.equals($)}function k(Y,E){return Y.cmp(E)}class N{constructor(){this.type=0}cmp(E){return this.type-E.type}equals(E){return E.type===this.type}substituteConstants(){return this}evaluate(E){return!1}serialize(){return"false"}keys(){return[]}negate(){return _.INSTANCE}}N.INSTANCE=new N;class _{constructor(){this.type=1}cmp(E){return this.type-E.type}equals(E){return E.type===this.type}substituteConstants(){return this}evaluate(E){return!0}serialize(){return"true"}keys(){return[]}negate(){return N.INSTANCE}}_.INSTANCE=new _;class a{constructor(E,V){this.key=E,this.negated=V,this.type=2}static create(E,V=null){const $=M.get(E);return"boolean"==typeof $?$?_.INSTANCE:N.INSTANCE:new a(E,V)}cmp(E){return E.type!==this.type?this.type-E.type:W(this.key,E.key)}equals(E){return E.type===this.type&&this.key===E.key}substituteConstants(){const E=M.get(this.key);return"boolean"==typeof E?E?_.INSTANCE:N.INSTANCE:this}evaluate(E){return!!E.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=v.create(this.key,this)),this.negated}}class p{constructor(E,V,$){this.key=E,this.value=V,this.negated=$,this.type=4}static create(E,V,$=null){if("boolean"==typeof V)return V?a.create(E,$):v.create(E,$);const te=M.get(E);return"boolean"==typeof te?V===(te?"true":"false")?_.INSTANCE:N.INSTANCE:new p(E,V,$)}cmp(E){return E.type!==this.type?this.type-E.type:B(this.key,this.value,E.key,E.value)}equals(E){return E.type===this.type&&this.key===E.key&&this.value===E.value}substituteConstants(){const E=M.get(this.key);return"boolean"==typeof E?this.value===(E?"true":"false")?_.INSTANCE:N.INSTANCE:this}evaluate(E){return E.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=l.create(this.key,this.value,this)),this.negated}}class c{constructor(E,V){this.key=E,this.valueKey=V,this.type=10,this.negated=null}static create(E,V){return new c(E,V)}cmp(E){return E.type!==this.type?this.type-E.type:B(this.key,this.valueKey,E.key,E.valueKey)}equals(E){return E.type===this.type&&this.key===E.key&&this.valueKey===E.valueKey}substituteConstants(){return this}evaluate(E){const V=E.getValue(this.valueKey),$=E.getValue(this.key);return Array.isArray(V)?V.includes($):"string"==typeof $&&"object"==typeof V&&null!==V&&u.call(V,$)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=n.create(this.key,this.valueKey)),this.negated}}class n{constructor(E,V){this.key=E,this.valueKey=V,this.type=11,this._negated=c.create(E,V)}static create(E,V){return new n(E,V)}cmp(E){return E.type!==this.type?this.type-E.type:this._negated.cmp(E._negated)}equals(E){return E.type===this.type&&this._negated.equals(E._negated)}substituteConstants(){return this}evaluate(E){return!this._negated.evaluate(E)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class l{constructor(E,V,$){this.key=E,this.value=V,this.negated=$,this.type=5}static create(E,V,$=null){if("boolean"==typeof V)return V?v.create(E,$):a.create(E,$);const te=M.get(E);return"boolean"==typeof te?V===(te?"true":"false")?N.INSTANCE:_.INSTANCE:new l(E,V,$)}cmp(E){return E.type!==this.type?this.type-E.type:B(this.key,this.value,E.key,E.value)}equals(E){return E.type===this.type&&this.key===E.key&&this.value===E.value}substituteConstants(){const E=M.get(this.key);return"boolean"==typeof E?this.value===(E?"true":"false")?N.INSTANCE:_.INSTANCE:this}evaluate(E){return E.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=p.create(this.key,this.value,this)),this.negated}}class v{constructor(E,V){this.key=E,this.negated=V,this.type=3}static create(E,V=null){const $=M.get(E);return"boolean"==typeof $?$?N.INSTANCE:_.INSTANCE:new v(E,V)}cmp(E){return E.type!==this.type?this.type-E.type:W(this.key,E.key)}equals(E){return E.type===this.type&&this.key===E.key}substituteConstants(){const E=M.get(this.key);return"boolean"==typeof E?E?N.INSTANCE:_.INSTANCE:this}evaluate(E){return!E.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=a.create(this.key,this)),this.negated}}function d(Y,E){if("string"==typeof Y){const V=parseFloat(Y);isNaN(V)||(Y=V)}return"string"==typeof Y||"number"==typeof Y?E(Y):N.INSTANCE}class m{constructor(E,V,$){this.key=E,this.value=V,this.negated=$,this.type=12}static create(E,V,$=null){return d(V,te=>new m(E,te,$))}cmp(E){return E.type!==this.type?this.type-E.type:B(this.key,this.value,E.key,E.value)}equals(E){return E.type===this.type&&this.key===E.key&&this.value===E.value}substituteConstants(){return this}evaluate(E){return"string"!=typeof this.value&&parseFloat(E.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=S.create(this.key,this.value,this)),this.negated}}class I{constructor(E,V,$){this.key=E,this.value=V,this.negated=$,this.type=13}static create(E,V,$=null){return d(V,te=>new I(E,te,$))}cmp(E){return E.type!==this.type?this.type-E.type:B(this.key,this.value,E.key,E.value)}equals(E){return E.type===this.type&&this.key===E.key&&this.value===E.value}substituteConstants(){return this}evaluate(E){return"string"!=typeof this.value&&parseFloat(E.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=y.create(this.key,this.value,this)),this.negated}}class y{constructor(E,V,$){this.key=E,this.value=V,this.negated=$,this.type=14}static create(E,V,$=null){return d(V,te=>new y(E,te,$))}cmp(E){return E.type!==this.type?this.type-E.type:B(this.key,this.value,E.key,E.value)}equals(E){return E.type===this.type&&this.key===E.key&&this.value===E.value}substituteConstants(){return this}evaluate(E){return"string"!=typeof this.value&&parseFloat(E.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=I.create(this.key,this.value,this)),this.negated}}class S{constructor(E,V,$){this.key=E,this.value=V,this.negated=$,this.type=15}static create(E,V,$=null){return d(V,te=>new S(E,te,$))}cmp(E){return E.type!==this.type?this.type-E.type:B(this.key,this.value,E.key,E.value)}equals(E){return E.type===this.type&&this.key===E.key&&this.value===E.value}substituteConstants(){return this}evaluate(E){return"string"!=typeof this.value&&parseFloat(E.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=m.create(this.key,this.value,this)),this.negated}}class b{constructor(E,V){this.key=E,this.regexp=V,this.type=7,this.negated=null}static create(E,V){return new b(E,V)}cmp(E){if(E.type!==this.type)return this.type-E.type;if(this.key<E.key)return-1;if(this.key>E.key)return 1;const V=this.regexp?this.regexp.source:"",$=E.regexp?E.regexp.source:"";return V<$?-1:V>$?1:0}equals(E){if(E.type===this.type){const V=this.regexp?this.regexp.source:"",$=E.regexp?E.regexp.source:"";return this.key===E.key&&V===$}return!1}substituteConstants(){return this}evaluate(E){const V=E.getValue(this.key);return!!this.regexp&&this.regexp.test(V)}serialize(){return`${this.key} =~ ${this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/"}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=x.create(this)),this.negated}}class x{constructor(E){this._actual=E,this.type=8}static create(E){return new x(E)}cmp(E){return E.type!==this.type?this.type-E.type:this._actual.cmp(E._actual)}equals(E){return E.type===this.type&&this._actual.equals(E._actual)}substituteConstants(){return this}evaluate(E){return!this._actual.evaluate(E)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function T(Y){let E=null;for(let V=0,$=Y.length;V<$;V++){const te=Y[V].substituteConstants();if(Y[V]!==te&&null===E){E=[];for(let w=0;w<V;w++)E[w]=Y[w]}null!==E&&(E[V]=te)}return null===E?Y:E}class R{constructor(E,V){this.expr=E,this.negated=V,this.type=6}static create(E,V){return R._normalizeArr(E,V)}cmp(E){if(E.type!==this.type)return this.type-E.type;if(this.expr.length<E.expr.length)return-1;if(this.expr.length>E.expr.length)return 1;for(let V=0,$=this.expr.length;V<$;V++){const te=k(this.expr[V],E.expr[V]);if(0!==te)return te}return 0}equals(E){if(E.type===this.type){if(this.expr.length!==E.expr.length)return!1;for(let V=0,$=this.expr.length;V<$;V++)if(!this.expr[V].equals(E.expr[V]))return!1;return!0}return!1}substituteConstants(){const E=T(this.expr);return E===this.expr?this:R.create(E,this.negated)}evaluate(E){for(let V=0,$=this.expr.length;V<$;V++)if(!this.expr[V].evaluate(E))return!1;return!0}static _normalizeArr(E,V){const $=[];let te=!1;for(const w of E)if(w){if(1===w.type){te=!0;continue}if(0===w.type)return N.INSTANCE;if(6===w.type){$.push(...w.expr);continue}$.push(w)}if(0===$.length&&te)return _.INSTANCE;if(0!==$.length){if(1===$.length)return $[0];$.sort(k);for(let w=1;w<$.length;w++)$[w-1].equals($[w])&&($.splice(w,1),w--);if(1===$.length)return $[0];for(;$.length>1;){const w=$[$.length-1];if(9!==w.type)break;$.pop();const fe=$.pop(),be=0===$.length,me=Q.create(w.expr.map(Ie=>R.create([Ie,fe],null)),null,be);me&&($.push(me),$.sort(k))}return 1===$.length?$[0]:new R($,V)}}serialize(){return this.expr.map(E=>E.serialize()).join(" && ")}keys(){const E=[];for(const V of this.expr)E.push(...V.keys());return E}negate(){if(!this.negated){const E=[];for(const V of this.expr)E.push(V.negate());this.negated=Q.create(E,this,!0)}return this.negated}}class Q{constructor(E,V){this.expr=E,this.negated=V,this.type=9}static create(E,V,$){return Q._normalizeArr(E,V,$)}cmp(E){if(E.type!==this.type)return this.type-E.type;if(this.expr.length<E.expr.length)return-1;if(this.expr.length>E.expr.length)return 1;for(let V=0,$=this.expr.length;V<$;V++){const te=k(this.expr[V],E.expr[V]);if(0!==te)return te}return 0}equals(E){if(E.type===this.type){if(this.expr.length!==E.expr.length)return!1;for(let V=0,$=this.expr.length;V<$;V++)if(!this.expr[V].equals(E.expr[V]))return!1;return!0}return!1}substituteConstants(){const E=T(this.expr);return E===this.expr?this:Q.create(E,this.negated,!1)}evaluate(E){for(let V=0,$=this.expr.length;V<$;V++)if(this.expr[V].evaluate(E))return!0;return!1}static _normalizeArr(E,V,$){let te=[],w=!1;if(E){for(let fe=0,be=E.length;fe<be;fe++){const me=E[fe];if(me){if(0===me.type){w=!0;continue}if(1===me.type)return _.INSTANCE;if(9===me.type){te=te.concat(me.expr);continue}te.push(me)}}if(0===te.length&&w)return N.INSTANCE;te.sort(k)}if(0!==te.length){if(1===te.length)return te[0];for(let fe=1;fe<te.length;fe++)te[fe-1].equals(te[fe])&&(te.splice(fe,1),fe--);if(1===te.length)return te[0];if($){for(let fe=0;fe<te.length;fe++)for(let be=fe+1;be<te.length;be++)z(te[fe],te[be])&&(te.splice(be,1),be--);if(1===te.length)return te[0]}return new Q(te,V)}}serialize(){return this.expr.map(E=>E.serialize()).join(" || ")}keys(){const E=[];for(const V of this.expr)E.push(...V.keys());return E}negate(){if(!this.negated){const E=[];for(const V of this.expr)E.push(V.negate());for(;E.length>1;){const V=E.shift(),$=E.shift(),te=[];for(const fe of j(V))for(const be of j($))te.push(R.create([fe,be],null));E.unshift(Q.create(te,null,0===E.length))}this.negated=E[0]}return this.negated}}let Z=(()=>{class Y extends a{constructor(V,$,te){super(V,null),this._defaultValue=$,"object"==typeof te?Y._info.push(Object.assign(Object.assign({},te),{key:V})):!0!==te&&Y._info.push({key:V,description:te,type:null!=$?typeof $:void 0})}static all(){return Y._info.values()}bindTo(V){return V.createKey(this.key,this._defaultValue)}getValue(V){return V.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(V){return p.create(this.key,V)}}return Y._info=[],Y})();const G=(0,L.yh)("contextKeyService"),F="setContext";function W(Y,E){return Y<E?-1:Y>E?1:0}function B(Y,E,V,$){return Y<V?-1:Y>V?1:E<$?-1:E>$?1:0}function z(Y,E){if(6===E.type&&9!==Y.type&&6!==Y.type)for(const te of E.expr)if(Y.equals(te))return!0;const $=j(Y.negate()).concat(j(E));$.sort(k);for(let te=0;te<$.length;te++){const fe=$[te].negate();for(let be=te+1;be<$.length;be++)if(fe.equals($[be]))return!0}return!1}function j(Y){return 9===Y.type?Y.expr:[Y]}},59239:(at,ue,e)=>{"use strict";e.d(ue,{cv:()=>P,d0:()=>p});var f=e(38972),s=e(40402),L=e(59776);new L.uy("isMac",f.dz,(0,s.NC)("isMac","Whether the operating system is macOS")),new L.uy("isLinux",f.IJ,(0,s.NC)("isLinux","Whether the operating system is Linux"));const P=new L.uy("isWindows",f.ED,(0,s.NC)("isWindows","Whether the operating system is Windows")),p=(new L.uy("isWeb",f.$L,(0,s.NC)("isWeb","Whether the platform is a web browser")),new L.uy("isMacNative",f.dz&&!f.$L,(0,s.NC)("isMacNative","Whether the operating system is macOS on a non-browser platform")),new L.uy("isIOS",f.gn,(0,s.NC)("isIOS","Whether the operating system is iOS")),new L.uy("isDevelopment",!1,!0),new L.uy("productQualityType","",(0,s.NC)("productQualityType","Quality type of VS Code")),"inputFocus");new L.uy(p,!1,(0,s.NC)("inputFocus","Whether keyboard focus is inside an input box"))},34394:(at,ue,e)=>{"use strict";e.d(ue,{i:()=>L,u:()=>s});var f=e(64725);const s=(0,f.yh)("contextViewService"),L=(0,f.yh)("contextMenuService")},20161:(at,ue,e)=>{"use strict";e.d(ue,{S:()=>s});const s=(0,e(64725).yh)("dialogService")},66855:(at,ue,e)=>{"use strict";e.d(ue,{Yb:()=>Q,Nq:()=>Z,iX:()=>I});var f=e(12796),s=e(58059),L=e(41488),M=e(3372),u=e(83568),P=e(2450),A=e(52787),N=(e(30340),e(40402));const _=N.NC("defaultLabel","input"),a=N.NC("label.preserveCaseToggle","Preserve Case");class p extends L.Z{constructor(F){super({icon:P.lA.preserveCase,title:a+F.appendTitle,isChecked:F.isChecked,inputActiveOptionBorder:F.inputActiveOptionBorder,inputActiveOptionForeground:F.inputActiveOptionForeground,inputActiveOptionBackground:F.inputActiveOptionBackground})}}class c extends u.${constructor(F,W,B,z){super(),this._showOptionButtons=B,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new A.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new A.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new A.Q5),this._onInput=this._register(new A.Q5),this._onKeyUp=this._register(new A.Q5),this._onPreserveCaseKeyDown=this._register(new A.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=W,this.placeholder=z.placeholder||"",this.validation=z.validation,this.label=z.label||_,this.inputActiveOptionBorder=z.inputActiveOptionBorder,this.inputActiveOptionForeground=z.inputActiveOptionForeground,this.inputActiveOptionBackground=z.inputActiveOptionBackground,this.inputBackground=z.inputBackground,this.inputForeground=z.inputForeground,this.inputBorder=z.inputBorder,this.inputValidationInfoBorder=z.inputValidationInfoBorder,this.inputValidationInfoBackground=z.inputValidationInfoBackground,this.inputValidationInfoForeground=z.inputValidationInfoForeground,this.inputValidationWarningBorder=z.inputValidationWarningBorder,this.inputValidationWarningBackground=z.inputValidationWarningBackground,this.inputValidationWarningForeground=z.inputValidationWarningForeground,this.inputValidationErrorBorder=z.inputValidationErrorBorder,this.inputValidationErrorBackground=z.inputValidationErrorBackground,this.inputValidationErrorForeground=z.inputValidationErrorForeground;const j=z.appendPreserveCaseLabel||"",Y=z.history||[],E=!!z.flexibleHeight,V=!!z.flexibleWidth,$=z.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new M.p(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:Y,showHistoryHint:z.showHistoryHint,flexibleHeight:E,flexibleWidth:V,flexibleMaxHeight:$})),this.preserveCase=this._register(new p({appendTitle:j,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(fe=>{this._onDidOptionChange.fire(fe),!fe&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(fe=>{this._onPreserveCaseKeyDown.fire(fe)})),this.cachedOptionsWidth=this._showOptionButtons?this.preserveCase.width():0;const te=[this.preserveCase.domNode];this.onkeydown(this.domNode,fe=>{if(fe.equals(15)||fe.equals(17)||fe.equals(9)){const be=te.indexOf(document.activeElement);if(be>=0){let me=-1;fe.equals(17)?me=(be+1)%te.length:fe.equals(15)&&(me=0===be?te.length-1:be-1),fe.equals(9)?(te[be].blur(),this.inputBox.focus()):me>=0&&te[me].focus(),s.zB.stop(fe,!0)}}});const w=document.createElement("div");w.className="controls",w.style.display=this._showOptionButtons?"block":"none",w.appendChild(this.preserveCase.domNode),this.domNode.appendChild(w),null==F||F.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,fe=>this._onKeyDown.fire(fe)),this.onkeyup(this.inputBox.inputElement,fe=>this._onKeyUp.fire(fe)),this.oninput(this.inputBox.inputElement,fe=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,fe=>this._onMouseDown.fire(fe))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(F){F?this.enable():this.disable()}style(F){this.inputActiveOptionBorder=F.inputActiveOptionBorder,this.inputActiveOptionForeground=F.inputActiveOptionForeground,this.inputActiveOptionBackground=F.inputActiveOptionBackground,this.inputBackground=F.inputBackground,this.inputForeground=F.inputForeground,this.inputBorder=F.inputBorder,this.inputValidationInfoBackground=F.inputValidationInfoBackground,this.inputValidationInfoForeground=F.inputValidationInfoForeground,this.inputValidationInfoBorder=F.inputValidationInfoBorder,this.inputValidationWarningBackground=F.inputValidationWarningBackground,this.inputValidationWarningForeground=F.inputValidationWarningForeground,this.inputValidationWarningBorder=F.inputValidationWarningBorder,this.inputValidationErrorBackground=F.inputValidationErrorBackground,this.inputValidationErrorForeground=F.inputValidationErrorForeground,this.inputValidationErrorBorder=F.inputValidationErrorBorder,this.applyStyles()}applyStyles(){this.domNode&&(this.preserveCase.style({inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground}),this.inputBox.style({inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder}))}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(F){this.preserveCase.checked=F}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(F){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=F,this.domNode.style.width=F+"px"}dispose(){super.dispose()}}var n=e(59776),l=e(7550),v=e(52425),d=function(G,F,W,B){var Y,z=arguments.length,j=z<3?F:null===B?B=Object.getOwnPropertyDescriptor(F,W):B;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(G,F,W,B);else for(var E=G.length-1;E>=0;E--)(Y=G[E])&&(j=(z<3?Y(j):z>3?Y(F,W,j):Y(F,W))||j);return z>3&&j&&Object.defineProperty(F,W,j),j},m=function(G,F){return function(W,B){F(W,B,G)}};const I=new n.uy("suggestWidgetVisible",!1,(0,N.NC)("suggestWidgetVisible","Whether suggestion are visible")),y="historyNavigationWidgetFocus",S="historyNavigationForwardsEnabled",b="historyNavigationBackwardsEnabled";let x;const T=[];function R(G,F){if(T.includes(F))throw new Error("Cannot register the same widget multiple times");T.push(F);const W=new v.SL,B=W.add(G.createScoped(F.element)),z=new n.uy(y,!1).bindTo(B),j=new n.uy(S,!0).bindTo(B),Y=new n.uy(b,!0).bindTo(B),E=()=>{z.set(!0),x=F},V=()=>{z.set(!1),x===F&&(x=void 0)};return F.element===document.activeElement&&E(),W.add(F.onDidFocus(()=>E())),W.add(F.onDidBlur(()=>V())),W.add((0,v.OF)(()=>{T.splice(T.indexOf(F),1),V()})),{scopedContextKeyService:B,historyNavigationForwardsEnablement:j,historyNavigationBackwardsEnablement:Y,dispose(){W.dispose()}}}let Q=class extends f.V{constructor(F,W,B,z,j=!1){super(F,W,j,B),this._register(R(z,this.inputBox))}};Q=d([m(3,n.i6)],Q);let Z=class extends c{constructor(F,W,B,z,j=!1){super(F,W,j,B),this._register(R(z,this.inputBox))}};Z=d([m(3,n.i6)],Z),l.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:n.Ao.and(n.Ao.has(y),n.Ao.equals(b,!0),I.isEqualTo(!1)),primary:16,secondary:[528],handler:G=>{x&&x.showPreviousValue()}}),l.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:n.Ao.and(n.Ao.has(y),n.Ao.equals(S,!0),I.isEqualTo(!1)),primary:18,secondary:[530],handler:G=>{x&&x.showNextValue()}})},99524:(at,ue,e)=>{"use strict";e.d(ue,{M:()=>f});class f{constructor(L,M=[],u=!1){this.ctor=L,this.staticArguments=M,this.supportsDelayedInstantiation=u}}},18790:(at,ue,e)=>{"use strict";e.d(ue,{d:()=>M,z:()=>L});var f=e(99524);const s=[];function L(u,P,A){P instanceof f.M||(P=new f.M(P,[],A)),s.push([u,P])}function M(){return s}},64725:(at,ue,e)=>{"use strict";var f,u;e.d(ue,{I8:()=>f,TG:()=>s,yh:()=>M}),(u=f||(f={})).serviceIds=new Map,u.DI_TARGET="$di$target",u.DI_DEPENDENCIES="$di$dependencies",u.getServiceDependencies=function P(A){return A[u.DI_DEPENDENCIES]||[]};const s=M("instantiationService");function L(u,P,A){P[f.DI_TARGET]===P?P[f.DI_DEPENDENCIES].push({id:u,index:A}):(P[f.DI_DEPENDENCIES]=[{id:u,index:A}],P[f.DI_TARGET]=P)}function M(u){if(f.serviceIds.has(u))return f.serviceIds.get(u);const P=function(A,k,N){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");L(P,A,N)};return P.toString=()=>u,f.serviceIds.set(u,P),P}},12281:(at,ue,e)=>{"use strict";e.d(ue,{y:()=>f});class f{constructor(...L){this._entries=new Map;for(const[M,u]of L)this.set(M,u)}set(L,M){const u=this._entries.get(L);return this._entries.set(L,M),u}get(L){return this._entries.get(L)}}},83350:(at,ue,e)=>{"use strict";e.d(ue,{I:()=>L});var f=e(52787),s=e(29537);const L={JSONContribution:"base.contributions.json"},P=new class u{constructor(){this._onDidChangeSchema=new f.Q5,this.schemasById={}}registerSchema(k,N){this.schemasById[function M(A){return A.length>0&&"#"===A.charAt(A.length-1)?A.substring(0,A.length-1):A}(k)]=N,this._onDidChangeSchema.fire(k)}notifySchemaChanged(k){this._onDidChangeSchema.fire(k)}};s.B.add(L.JSONContribution,P)},77090:(at,ue,e)=>{"use strict";e.d(ue,{d:()=>s});const s=(0,e(64725).yh)("keybindingService")},7550:(at,ue,e)=>{"use strict";e.d(ue,{W:()=>P});var f=e(5016),s=e(38972),L=e(23884),M=e(29537);class u{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(_){if(1===s.OS){if(_&&_.win)return _.win}else if(2===s.OS){if(_&&_.mac)return _.mac}else if(_&&_.linux)return _.linux;return _}registerKeybindingRule(_){const a=u.bindToCurrentPlatform(_);if(a&&a.primary){const p=(0,f.gm)(a.primary,s.OS);p&&this._registerDefaultKeybinding(p,_.id,_.args,_.weight,0,_.when)}if(a&&Array.isArray(a.secondary))for(let p=0,c=a.secondary.length;p<c;p++){const l=(0,f.gm)(a.secondary[p],s.OS);l&&this._registerDefaultKeybinding(l,_.id,_.args,_.weight,-p-1,_.when)}}registerCommandAndKeybindingRule(_){this.registerKeybindingRule(_),L.P0.registerCommand(_)}static _mightProduceChar(_){return _>=21&&_<=30||_>=31&&_<=56||80===_||81===_||82===_||83===_||84===_||85===_||86===_||110===_||111===_||87===_||88===_||89===_||90===_||91===_||92===_}_assertNoCtrlAlt(_,a){_.ctrlKey&&_.altKey&&!_.metaKey&&u._mightProduceChar(_.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",_," for ",a)}_registerDefaultKeybinding(_,a,p,c,n,l){1===s.OS&&this._assertNoCtrlAlt(_.parts[0],a),this._coreKeybindings.push({keybinding:_.parts,command:a,commandArgs:p,when:l,weight1:c,weight2:n,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(k)),this._cachedMergedKeybindings.slice(0)}}const P=new u;function k(N,_){if(N.weight1!==_.weight1)return N.weight1-_.weight1;if(N.command&&_.command){if(N.command<_.command)return-1;if(N.command>_.command)return 1}return N.weight2-_.weight2}M.B.add("platform.keybindingsRegistry",P)},50203:(at,ue,e)=>{"use strict";e.d(ue,{e:()=>s});const s=(0,e(64725).yh)("labelService")},98071:(at,ue,e)=>{"use strict";e.d(ue,{Lw:()=>fi,XN:()=>pi,ls:()=>Vn,ev:()=>Re,CQ:()=>Lt,PS:()=>wt,uJ:()=>Xt});var f=e(58059),s=e(18337),L=e(80152),M=e(52787),u=e(52425),A=(e(33164),e(17367));class k{constructor(X,Ce){this.renderer=X,this.modelProvider=Ce}get templateId(){return this.renderer.templateId}renderTemplate(X){return{data:this.renderer.renderTemplate(X),disposable:u.JT.None}}renderElement(X,Ce,tt,Rt){if(tt.disposable&&tt.disposable.dispose(),!tt.data)return;const zt=this.modelProvider();if(zt.isResolved(X))return this.renderer.renderElement(zt.get(X),X,tt.data,Rt);const dn=new L.A,Sn=zt.resolve(X,dn.token);tt.disposable={dispose:()=>dn.cancel()},this.renderer.renderPlaceholder(X,tt.data),Sn.then(Nn=>this.renderer.renderElement(Nn,X,tt.data,Rt))}disposeTemplate(X){X.disposable&&(X.disposable.dispose(),X.disposable=void 0),X.data&&(this.renderer.disposeTemplate(X.data),X.data=void 0)}}class N{constructor(X,Ce){this.modelProvider=X,this.accessibilityProvider=Ce}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(X){const Ce=this.modelProvider();return Ce.isResolved(X)?this.accessibilityProvider.getAriaLabel(Ce.get(X)):null}}var p=e(42983),c=e(93379),n=e.n(c),l=e(7795),v=e.n(l),d=e(90569),m=e.n(d),I=e(3565),y=e.n(I),S=e(19216),b=e.n(S),x=e(44589),T=e.n(x),R=e(1728),Q={};Q.styleTagTransform=T(),Q.setAttributes=y(),Q.insert=m().bind(null,"head"),Q.domAPI=v(),Q.insertStyleElement=b(),n()(R.Z,Q);let F=(()=>{class Jt{constructor(Ce,tt,Rt){this.columns=Ce,this.getColumnSize=Rt,this.templateId=Jt.TemplateId,this.renderedTemplates=new Set;const zt=new Map(tt.map(dn=>[dn.templateId,dn]));this.renderers=[];for(const dn of Ce){const Sn=zt.get(dn.templateId);if(!Sn)throw new Error(`Table cell renderer for template id ${dn.templateId} not found.`);this.renderers.push(Sn)}}renderTemplate(Ce){const tt=(0,f.R3)(Ce,(0,f.$)(".monaco-table-tr")),Rt=[],zt=[];for(let Sn=0;Sn<this.columns.length;Sn++){const Nn=this.renderers[Sn],jn=(0,f.R3)(tt,(0,f.$)(".monaco-table-td",{"data-col-index":Sn}));jn.style.width=`${this.getColumnSize(Sn)}px`,Rt.push(jn),zt.push(Nn.renderTemplate(jn))}const dn={container:Ce,cellContainers:Rt,cellTemplateData:zt};return this.renderedTemplates.add(dn),dn}renderElement(Ce,tt,Rt,zt){for(let dn=0;dn<this.columns.length;dn++){const Nn=this.columns[dn].project(Ce);this.renderers[dn].renderElement(Nn,tt,Rt.cellTemplateData[dn],zt)}}disposeElement(Ce,tt,Rt,zt){for(let dn=0;dn<this.columns.length;dn++){const Sn=this.renderers[dn];if(Sn.disposeElement){const jn=this.columns[dn].project(Ce);Sn.disposeElement(jn,tt,Rt.cellTemplateData[dn],zt)}}}disposeTemplate(Ce){for(let tt=0;tt<this.columns.length;tt++)this.renderers[tt].disposeTemplate(Ce.cellTemplateData[tt]);(0,f.PO)(Ce.container),this.renderedTemplates.delete(Ce)}layoutColumn(Ce,tt){for(const{cellContainers:Rt}of this.renderedTemplates)Rt[Ce].style.width=`${tt}px`}}return Jt.TemplateId="row",Jt})();class B{constructor(X,Ce){this.column=X,this.index=Ce,this._onDidLayout=new M.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,f.$)(".monaco-table-th",{"data-col-index":Ce,title:X.tooltip},X.label)}get minimumSize(){var X;return null!==(X=this.column.minimumWidth)&&void 0!==X?X:120}get maximumSize(){var X;return null!==(X=this.column.maximumWidth)&&void 0!==X?X:Number.POSITIVE_INFINITY}get onDidChange(){var X;return null!==(X=this.column.onDidChangeWidthConstraints)&&void 0!==X?X:M.ju.None}layout(X){this._onDidLayout.fire([this.index,X])}}let z=(()=>{class Jt{constructor(Ce,tt,Rt,zt,dn,Sn){this.virtualDelegate=Rt,this.domId="table_id_"+ ++Jt.InstanceCount,this.disposables=new u.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,f.R3)(tt,(0,f.$)(`.monaco-table.${this.domId}`));const Nn=zt.map((Xn,ci)=>new B(Xn,ci)),jn={size:Nn.reduce((Xn,ci)=>Xn+ci.column.weight,0),views:Nn.map(Xn=>({size:Xn.column.weight,view:Xn}))};this.splitview=this.disposables.add(new p.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:jn})),this.splitview.el.style.height=`${Rt.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${Rt.headerRowHeight}px`;const $n=new F(zt,dn,Xn=>this.splitview.getViewSize(Xn));this.list=this.disposables.add(new A.aV(Ce,this.domNode,function W(Jt){return{getHeight:X=>Jt.getHeight(X),getTemplateId:()=>F.TemplateId}}(Rt),[$n],Sn)),M.ju.any(...Nn.map(Xn=>Xn.onDidLayout))(([Xn,ci])=>$n.layoutColumn(Xn,ci),null,this.disposables),this.splitview.onDidSashReset(Xn=>{const ci=zt.reduce((ni,ui)=>ni+ui.weight,0);this.splitview.resizeView(Xn,zt[Xn].weight/ci*this.cachedWidth)},null,this.disposables),this.styleElement=(0,f.dS)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(Ce){this.list.updateOptions(Ce)}splice(Ce,tt,Rt=[]){this.list.splice(Ce,tt,Rt)}getHTMLElement(){return this.domNode}style(Ce){const tt=[];tt.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`),this.styleElement.textContent=tt.join("\n"),this.list.style(Ce)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}return Jt.InstanceCount=0,Jt})();e(65691);var Y=e(74616),$=(e(84039),e(12796),e(1100)),w=(e(41488),(()=>{return(Jt=w||(w={}))[Jt.Unknown=0]="Unknown",Jt[Jt.Twistie=1]="Twistie",Jt[Jt.Element=2]="Element",Jt[Jt.Filter=3]="Filter",w;var Jt})());class fe extends Error{constructor(X,Ce){super(`TreeError [${X}] ${Ce}`)}}class be{constructor(X){this.fn=X,this._map=new WeakMap}map(X){let Ce=this._map.get(X);return Ce||(Ce=this.fn(X),this._map.set(X,Ce)),Ce}}var me=e(63072),Ie=e(14171),ee=e(67981);function ce(Jt){return"object"==typeof Jt&&"visibility"in Jt&&"data"in Jt}function he(Jt){switch(Jt){case!0:return 1;case!1:return 0;default:return Jt}}function de(Jt){return"boolean"==typeof Jt.collapsible}class ge{constructor(X,Ce,tt,Rt={}){this.user=X,this.list=Ce,this.rootRef=[],this.eventBufferer=new M.E7,this._onDidChangeCollapseState=new M.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new M.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new M.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new me.vp(me.ne),this.collapseByDefault=void 0!==Rt.collapseByDefault&&Rt.collapseByDefault,this.filter=Rt.filter,this.autoExpandSingleChildren=void 0!==Rt.autoExpandSingleChildren&&Rt.autoExpandSingleChildren,this.root={parent:void 0,element:tt,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(X,Ce,tt=ee.$.empty(),Rt={}){if(0===X.length)throw new fe(this.user,"Invalid tree location");Rt.diffIdentityProvider?this.spliceSmart(Rt.diffIdentityProvider,X,Ce,tt,Rt):this.spliceSimple(X,Ce,tt,Rt)}spliceSmart(X,Ce,tt,Rt,zt,dn){var Sn;void 0===Rt&&(Rt=ee.$.empty()),void 0===dn&&(dn=null!==(Sn=zt.diffDepth)&&void 0!==Sn?Sn:0);const{parentNode:Nn}=this.getParentNodeWithListIndex(Ce);if(!Nn.lastDiffIds)return this.spliceSimple(Ce,tt,Rt,zt);const jn=[...Rt],$n=Ce[Ce.length-1],Xn=new Ie.Hs({getElements:()=>Nn.lastDiffIds},{getElements:()=>[...Nn.children.slice(0,$n),...jn,...Nn.children.slice($n+tt)].map(mi=>X.getId(mi.element).toString())}).ComputeDiff(!1);if(Xn.quitEarly)return Nn.lastDiffIds=void 0,this.spliceSimple(Ce,tt,jn,zt);const ci=Ce.slice(0,-1),Jn=(mi,Mi,$i)=>{if(dn>0)for(let po=0;po<$i;po++)mi--,Mi--,this.spliceSmart(X,[...ci,mi,0],Number.MAX_SAFE_INTEGER,jn[Mi].children,zt,dn-1)};let ni=Math.min(Nn.children.length,$n+tt),ui=jn.length;for(const mi of Xn.changes.sort((Mi,$i)=>$i.originalStart-Mi.originalStart))Jn(ni,ui,ni-(mi.originalStart+mi.originalLength)),ni=mi.originalStart,ui=mi.modifiedStart-$n,this.spliceSimple([...ci,ni],mi.originalLength,ee.$.slice(jn,ui,ui+mi.modifiedLength),zt);Jn(ni,ui,ni)}spliceSimple(X,Ce,tt=ee.$.empty(),{onDidCreateNode:Rt,onDidDeleteNode:zt,diffIdentityProvider:dn}){const{parentNode:Sn,listIndex:Nn,revealed:jn,visible:$n}=this.getParentNodeWithListIndex(X),Xn=[],ci=ee.$.map(tt,Ri=>this.createTreeNode(Ri,Sn,Sn.visible?1:0,jn,Xn,Rt)),Jn=X[X.length-1],ni=Sn.children.length>0;let ui=0;for(let Ri=Jn;Ri>=0&&Ri<Sn.children.length;Ri--){const ki=Sn.children[Ri];if(ki.visible){ui=ki.visibleChildIndex;break}}const mi=[];let Mi=0,$i=0;for(const Ri of ci)mi.push(Ri),$i+=Ri.renderNodeCount,Ri.visible&&(Ri.visibleChildIndex=ui+Mi++);const po=(0,s.db)(Sn.children,Jn,Ce,mi);dn?Sn.lastDiffIds?(0,s.db)(Sn.lastDiffIds,Jn,Ce,mi.map(Ri=>dn.getId(Ri.element).toString())):Sn.lastDiffIds=Sn.children.map(Ri=>dn.getId(Ri.element).toString()):Sn.lastDiffIds=void 0;let ho=0;for(const Ri of po)Ri.visible&&ho++;if(0!==ho)for(let Ri=Jn+mi.length;Ri<Sn.children.length;Ri++){const ki=Sn.children[Ri];ki.visible&&(ki.visibleChildIndex-=ho)}if(Sn.visibleChildrenCount+=Mi-ho,jn&&$n){const Ri=po.reduce((ki,fo)=>ki+(fo.visible?fo.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(Sn,$i-Ri),this.list.splice(Nn,Ri,Xn)}if(po.length>0&&zt){const Ri=ki=>{zt(ki),ki.children.forEach(Ri)};po.forEach(Ri)}this._onDidSplice.fire({insertedNodes:mi,deletedNodes:po});const $s=Sn.children.length>0;ni!==$s&&this.setCollapsible(X.slice(0,-1),$s);let Io=Sn;for(;Io;){if(2===Io.visibility){this.refilterDelayer.trigger(()=>this.refilter());break}Io=Io.parent}}rerender(X){if(0===X.length)throw new fe(this.user,"Invalid tree location");const{node:Ce,listIndex:tt,revealed:Rt}=this.getTreeNodeWithListIndex(X);Ce.visible&&Rt&&this.list.splice(tt,1,[Ce])}has(X){return this.hasTreeNode(X)}getListIndex(X){const{listIndex:Ce,visible:tt,revealed:Rt}=this.getTreeNodeWithListIndex(X);return tt&&Rt?Ce:-1}getListRenderCount(X){return this.getTreeNode(X).renderNodeCount}isCollapsible(X){return this.getTreeNode(X).collapsible}setCollapsible(X,Ce){const tt=this.getTreeNode(X);void 0===Ce&&(Ce=!tt.collapsible);const Rt={collapsible:Ce};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(X,Rt))}isCollapsed(X){return this.getTreeNode(X).collapsed}setCollapsed(X,Ce,tt){const Rt=this.getTreeNode(X);void 0===Ce&&(Ce=!Rt.collapsed);const zt={collapsed:Ce,recursive:tt||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(X,zt))}_setCollapseState(X,Ce){const{node:tt,listIndex:Rt,revealed:zt}=this.getTreeNodeWithListIndex(X),dn=this._setListNodeCollapseState(tt,Rt,zt,Ce);if(tt!==this.root&&this.autoExpandSingleChildren&&dn&&!de(Ce)&&tt.collapsible&&!tt.collapsed&&!Ce.recursive){let Sn=-1;for(let Nn=0;Nn<tt.children.length;Nn++)if(tt.children[Nn].visible){if(Sn>-1){Sn=-1;break}Sn=Nn}Sn>-1&&this._setCollapseState([...X,Sn],Ce)}return dn}_setListNodeCollapseState(X,Ce,tt,Rt){const zt=this._setNodeCollapseState(X,Rt,!1);if(!tt||!X.visible||!zt)return zt;const dn=X.renderNodeCount,Sn=this.updateNodeAfterCollapseChange(X);return this.list.splice(Ce+1,dn-(-1===Ce?0:1),Sn.slice(1)),zt}_setNodeCollapseState(X,Ce,tt){let Rt;if(X===this.root?Rt=!1:(de(Ce)?(Rt=X.collapsible!==Ce.collapsible,X.collapsible=Ce.collapsible):X.collapsible?(Rt=X.collapsed!==Ce.collapsed,X.collapsed=Ce.collapsed):Rt=!1,Rt&&this._onDidChangeCollapseState.fire({node:X,deep:tt})),!de(Ce)&&Ce.recursive)for(const zt of X.children)Rt=this._setNodeCollapseState(zt,Ce,!0)||Rt;return Rt}expandTo(X){this.eventBufferer.bufferEvents(()=>{let Ce=this.getTreeNode(X);for(;Ce.parent;)Ce=Ce.parent,X=X.slice(0,X.length-1),Ce.collapsed&&this._setCollapseState(X,{collapsed:!1,recursive:!1})})}refilter(){const X=this.root.renderNodeCount,Ce=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,X,Ce),this.refilterDelayer.cancel()}createTreeNode(X,Ce,tt,Rt,zt,dn){const Sn={parent:Ce,element:X.element,children:[],depth:Ce.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof X.collapsible?X.collapsible:void 0!==X.collapsed,collapsed:void 0===X.collapsed?this.collapseByDefault:X.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},Nn=this._filterNode(Sn,tt);Sn.visibility=Nn,Rt&&zt.push(Sn);const jn=X.children||ee.$.empty(),$n=Rt&&0!==Nn&&!Sn.collapsed,Xn=ee.$.map(jn,ni=>this.createTreeNode(ni,Sn,Nn,$n,zt,dn));let ci=0,Jn=1;for(const ni of Xn)Sn.children.push(ni),Jn+=ni.renderNodeCount,ni.visible&&(ni.visibleChildIndex=ci++);return Sn.collapsible=Sn.collapsible||Sn.children.length>0,Sn.visibleChildrenCount=ci,Sn.visible=2===Nn?ci>0:1===Nn,Sn.visible?Sn.collapsed||(Sn.renderNodeCount=Jn):(Sn.renderNodeCount=0,Rt&&zt.pop()),null==dn||dn(Sn),Sn}updateNodeAfterCollapseChange(X){const Ce=X.renderNodeCount,tt=[];return this._updateNodeAfterCollapseChange(X,tt),this._updateAncestorsRenderNodeCount(X.parent,tt.length-Ce),tt}_updateNodeAfterCollapseChange(X,Ce){if(!1===X.visible)return 0;if(Ce.push(X),X.renderNodeCount=1,!X.collapsed)for(const tt of X.children)X.renderNodeCount+=this._updateNodeAfterCollapseChange(tt,Ce);return this._onDidChangeRenderNodeCount.fire(X),X.renderNodeCount}updateNodeAfterFilterChange(X){const Ce=X.renderNodeCount,tt=[];return this._updateNodeAfterFilterChange(X,X.visible?1:0,tt),this._updateAncestorsRenderNodeCount(X.parent,tt.length-Ce),tt}_updateNodeAfterFilterChange(X,Ce,tt,Rt=!0){let zt;if(X!==this.root){if(zt=this._filterNode(X,Ce),0===zt)return X.visible=!1,X.renderNodeCount=0,!1;Rt&&tt.push(X)}const dn=tt.length;X.renderNodeCount=X===this.root?0:1;let Sn=!1;if(X.collapsed&&0===zt)X.visibleChildrenCount=0;else{let Nn=0;for(const jn of X.children)Sn=this._updateNodeAfterFilterChange(jn,zt,tt,Rt&&!X.collapsed)||Sn,jn.visible&&(jn.visibleChildIndex=Nn++);X.visibleChildrenCount=Nn}return X!==this.root&&(X.visible=2===zt?Sn:1===zt,X.visibility=zt),X.visible?X.collapsed||(X.renderNodeCount+=tt.length-dn):(X.renderNodeCount=0,Rt&&tt.pop()),this._onDidChangeRenderNodeCount.fire(X),X.visible}_updateAncestorsRenderNodeCount(X,Ce){if(0!==Ce)for(;X;)X.renderNodeCount+=Ce,this._onDidChangeRenderNodeCount.fire(X),X=X.parent}_filterNode(X,Ce){const tt=this.filter?this.filter.filter(X.element,Ce):1;return"boolean"==typeof tt?(X.filterData=void 0,tt?1:0):ce(tt)?(X.filterData=tt.data,he(tt.visibility)):(X.filterData=void 0,he(tt))}hasTreeNode(X,Ce=this.root){if(!X||0===X.length)return!0;const[tt,...Rt]=X;return!(tt<0||tt>Ce.children.length)&&this.hasTreeNode(Rt,Ce.children[tt])}getTreeNode(X,Ce=this.root){if(!X||0===X.length)return Ce;const[tt,...Rt]=X;if(tt<0||tt>Ce.children.length)throw new fe(this.user,"Invalid tree location");return this.getTreeNode(Rt,Ce.children[tt])}getTreeNodeWithListIndex(X){if(0===X.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:Ce,listIndex:tt,revealed:Rt,visible:zt}=this.getParentNodeWithListIndex(X),dn=X[X.length-1];if(dn<0||dn>Ce.children.length)throw new fe(this.user,"Invalid tree location");const Sn=Ce.children[dn];return{node:Sn,listIndex:tt,revealed:Rt,visible:zt&&Sn.visible}}getParentNodeWithListIndex(X,Ce=this.root,tt=0,Rt=!0,zt=!0){const[dn,...Sn]=X;if(dn<0||dn>Ce.children.length)throw new fe(this.user,"Invalid tree location");for(let Nn=0;Nn<dn;Nn++)tt+=Ce.children[Nn].renderNodeCount;return Rt=Rt&&!Ce.collapsed,zt=zt&&Ce.visible,0===Sn.length?{parentNode:Ce,listIndex:tt,revealed:Rt,visible:zt}:this.getParentNodeWithListIndex(Sn,Ce.children[dn],tt+1,Rt,zt)}getNode(X=[]){return this.getTreeNode(X)}getNodeLocation(X){const Ce=[];let tt=X;for(;tt.parent;)Ce.push(tt.parent.children.indexOf(tt)),tt=tt.parent;return Ce.reverse()}getParentNodeLocation(X){if(0!==X.length)return 1===X.length?[]:(0,s.JH)(X)[0]}getFirstElementChild(X){const Ce=this.getTreeNode(X);if(0!==Ce.children.length)return Ce.children[0].element}}e(85113);var Se=e(2450);class Pe{constructor(){this.map=new Map}add(X,Ce){let tt=this.map.get(X);tt||(tt=new Set,this.map.set(X,tt)),tt.add(Ce)}delete(X,Ce){const tt=this.map.get(X);!tt||(tt.delete(Ce),0===tt.size&&this.map.delete(X))}forEach(X,Ce){const tt=this.map.get(X);!tt||tt.forEach(Ce)}}var Ve=e(81979),ie=e(38829),ye=e(54435),_e=e(61766),Be={};Be.styleTagTransform=T(),Be.setAttributes=y(),Be.insert=m().bind(null,"head"),Be.domAPI=v(),Be.insertStyleElement=b(),n()(_e.Z,Be);var pe=e(40402);class Oe extends $.kX{constructor(X){super(X.elements.map(Ce=>Ce.element)),this.data=X}}function Ne(Jt){return Jt instanceof $.kX?new Oe(Jt):Jt}class ne{constructor(X,Ce){this.modelProvider=X,this.dnd=Ce,this.autoExpandDisposable=u.JT.None}getDragURI(X){return this.dnd.getDragURI(X.element)}getDragLabel(X,Ce){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(X.map(tt=>tt.element),Ce)}onDragStart(X,Ce){var tt,Rt;null===(Rt=(tt=this.dnd).onDragStart)||void 0===Rt||Rt.call(tt,Ne(X),Ce)}onDragOver(X,Ce,tt,Rt,zt=!0){const dn=this.dnd.onDragOver(Ne(X),Ce&&Ce.element,tt,Rt),Sn=this.autoExpandNode!==Ce;if(Sn&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=Ce),void 0===Ce)return dn;if(Sn&&"boolean"!=typeof dn&&dn.autoExpand&&(this.autoExpandDisposable=(0,me.Vg)(()=>{const ci=this.modelProvider(),Jn=ci.getNodeLocation(Ce);ci.isCollapsed(Jn)&&ci.setCollapsed(Jn,!1),this.autoExpandNode=void 0},500)),"boolean"==typeof dn||!dn.accept||void 0===dn.bubble||dn.feedback)return zt?dn:{accept:"boolean"==typeof dn?dn:dn.accept,effect:"boolean"==typeof dn?void 0:dn.effect,feedback:[tt]};if(1===dn.bubble){const ci=this.modelProvider(),Jn=ci.getNodeLocation(Ce),ni=ci.getParentNodeLocation(Jn),ui=ci.getNode(ni),mi=ni&&ci.getListIndex(ni);return this.onDragOver(X,ui,mi,Rt,!1)}const Nn=this.modelProvider(),jn=Nn.getNodeLocation(Ce),$n=Nn.getListIndex(jn),Xn=Nn.getListRenderCount(jn);return Object.assign(Object.assign({},dn),{feedback:(0,s.w6)($n,$n+Xn)})}drop(X,Ce,tt,Rt){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(Ne(X),Ce&&Ce.element,tt,Rt)}onDragEnd(X){var Ce,tt;null===(tt=(Ce=this.dnd).onDragEnd)||void 0===tt||tt.call(Ce,X)}}class Je{constructor(X){this.delegate=X}getHeight(X){return this.delegate.getHeight(X.element)}getTemplateId(X){return this.delegate.getTemplateId(X.element)}hasDynamicHeight(X){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(X.element)}setDynamicHeight(X,Ce){var tt,Rt;null===(Rt=(tt=this.delegate).setDynamicHeight)||void 0===Rt||Rt.call(tt,X.element,Ce)}}var gt=(()=>{return(Jt=gt||(gt={})).None="none",Jt.OnHover="onHover",Jt.Always="always",gt;var Jt})();class lt{constructor(X,Ce=[]){this._elements=Ce,this.disposables=new u.SL,this.onDidChange=M.ju.forEach(X,tt=>this._elements=tt,this.disposables)}get elements(){return this._elements}dispose(){this.disposables.dispose()}}let Ke=(()=>{class Jt{constructor(Ce,tt,Rt,zt,dn={}){var Sn;this.renderer=Ce,this.modelProvider=tt,this.activeNodes=zt,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=Jt.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new Pe,this.activeIndentNodes=new Set,this.indentGuidesDisposable=u.JT.None,this.disposables=new u.SL,this.templateId=Ce.templateId,this.updateOptions(dn),M.ju.map(Rt,Nn=>Nn.node)(this.onDidChangeNodeTwistieState,this,this.disposables),null===(Sn=Ce.onDidChangeTwistieState)||void 0===Sn||Sn.call(Ce,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(Ce={}){if(void 0!==Ce.indent&&(this.indent=(0,ie.uZ)(Ce.indent,0,40)),void 0!==Ce.renderIndentGuides){const tt=Ce.renderIndentGuides!==gt.None;if(tt!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=tt,this.indentGuidesDisposable.dispose(),tt)){const Rt=new u.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,Rt),this.indentGuidesDisposable=Rt,this._onDidChangeActiveNodes(this.activeNodes.elements)}}void 0!==Ce.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=Ce.hideTwistiesOfChildlessElements)}renderTemplate(Ce){const tt=(0,f.R3)(Ce,(0,f.$)(".monaco-tl-row")),Rt=(0,f.R3)(tt,(0,f.$)(".monaco-tl-indent")),zt=(0,f.R3)(tt,(0,f.$)(".monaco-tl-twistie")),dn=(0,f.R3)(tt,(0,f.$)(".monaco-tl-contents")),Sn=this.renderer.renderTemplate(dn);return{container:Ce,indent:Rt,twistie:zt,indentGuidesDisposable:u.JT.None,templateData:Sn}}renderElement(Ce,tt,Rt,zt){"number"==typeof zt&&(this.renderedNodes.set(Ce,{templateData:Rt,height:zt}),this.renderedElements.set(Ce.element,Ce));const dn=Jt.DefaultIndent+(Ce.depth-1)*this.indent;Rt.twistie.style.paddingLeft=`${dn}px`,Rt.indent.style.width=dn+this.indent-16+"px",this.renderTwistie(Ce,Rt),"number"==typeof zt&&this.renderIndentGuides(Ce,Rt),this.renderer.renderElement(Ce,tt,Rt.templateData,zt)}disposeElement(Ce,tt,Rt,zt){var dn,Sn;Rt.indentGuidesDisposable.dispose(),null===(Sn=(dn=this.renderer).disposeElement)||void 0===Sn||Sn.call(dn,Ce,tt,Rt.templateData,zt),"number"==typeof zt&&(this.renderedNodes.delete(Ce),this.renderedElements.delete(Ce.element))}disposeTemplate(Ce){this.renderer.disposeTemplate(Ce.templateData)}onDidChangeTwistieState(Ce){const tt=this.renderedElements.get(Ce);!tt||this.onDidChangeNodeTwistieState(tt)}onDidChangeNodeTwistieState(Ce){const tt=this.renderedNodes.get(Ce);!tt||(this.renderTwistie(Ce,tt.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(Ce,tt.templateData))}renderTwistie(Ce,tt){tt.twistie.classList.remove(...Se.lA.treeItemExpanded.classNamesArray);let Rt=!1;this.renderer.renderTwistie&&(Rt=this.renderer.renderTwistie(Ce.element,tt.twistie)),Ce.collapsible&&(!this.hideTwistiesOfChildlessElements||Ce.visibleChildrenCount>0)?(Rt||tt.twistie.classList.add(...Se.lA.treeItemExpanded.classNamesArray),tt.twistie.classList.add("collapsible"),tt.twistie.classList.toggle("collapsed",Ce.collapsed)):tt.twistie.classList.remove("collapsible","collapsed"),Ce.collapsible?tt.container.setAttribute("aria-expanded",String(!Ce.collapsed)):tt.container.removeAttribute("aria-expanded")}renderIndentGuides(Ce,tt){if((0,f.PO)(tt.indent),tt.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const Rt=new u.SL,zt=this.modelProvider();let dn=Ce;for(;;){const Sn=zt.getNodeLocation(dn),Nn=zt.getParentNodeLocation(Sn);if(!Nn)break;const jn=zt.getNode(Nn),$n=(0,f.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(jn)&&$n.classList.add("active"),0===tt.indent.childElementCount?tt.indent.appendChild($n):tt.indent.insertBefore($n,tt.indent.firstElementChild),this.renderedIndentGuides.add(jn,$n),Rt.add((0,u.OF)(()=>this.renderedIndentGuides.delete(jn,$n))),dn=jn}tt.indentGuidesDisposable=Rt}_onDidChangeActiveNodes(Ce){if(!this.shouldRenderIndentGuides)return;const tt=new Set,Rt=this.modelProvider();Ce.forEach(zt=>{const dn=Rt.getNodeLocation(zt);try{const Sn=Rt.getParentNodeLocation(dn);zt.collapsible&&zt.children.length>0&&!zt.collapsed?tt.add(zt):Sn&&tt.add(Rt.getNode(Sn))}catch(Sn){}}),this.activeIndentNodes.forEach(zt=>{tt.has(zt)||this.renderedIndentGuides.forEach(zt,dn=>dn.classList.remove("active"))}),tt.forEach(zt=>{this.activeIndentNodes.has(zt)||this.renderedIndentGuides.forEach(zt,dn=>dn.classList.add("active"))}),this.activeIndentNodes=tt}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,u.B9)(this.disposables)}}return Jt.DefaultIndent=8,Jt})();class He{constructor(X,Ce,tt){this.tree=X,this.keyboardNavigationLabelProvider=Ce,this._filter=tt,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new u.SL,X.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}filter(X,Ce){let tt=1;if(this._filter){const dn=this._filter.filter(X,Ce);if(tt="boolean"==typeof dn?dn?1:0:ce(dn)?he(dn.visibility):dn,0===tt)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:Ve.CL.Default,visibility:tt};const Rt=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(X),zt=Array.isArray(Rt)?Rt:[Rt];for(const dn of zt){const Sn=dn&&dn.toString();if(void 0===Sn)return{data:Ve.CL.Default,visibility:tt};const Nn=(0,Ve.EW)(this._pattern,this._lowercasePattern,0,Sn,Sn.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(Nn)return this._matchCount++,1===zt.length?{data:Nn,visibility:tt}:{data:{label:Sn,score:Nn},visibility:tt}}return this.tree.findMode===ot.Filter?2:{data:Ve.CL.Default,visibility:tt}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,u.B9)(this.disposables)}}var ot=(()=>{return(Jt=ot||(ot={}))[Jt.Highlight=0]="Highlight",Jt[Jt.Filter=1]="Filter",ot;var Jt})();class Ze{constructor(X,Ce,tt,Rt,zt){var dn;this.tree=X,this.view=tt,this.filter=Rt,this.contextViewProvider=zt,this._pattern="",this.width=0,this._onDidChangeMode=new M.Q5,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangePattern=new M.Q5,this._onDidChangeOpenState=new M.Q5,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new u.SL,this.disposables=new u.SL,this._mode=null!==(dn=X.options.defaultFindMode)&&void 0!==dn?dn:ot.Highlight,Ce.onDidSplice(this.onDidSpliceModel,this,this.disposables)}get pattern(){return this._pattern}get mode(){return this._mode}set mode(X){X!==this._mode&&(this._mode=X,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(X))}onDidSpliceModel(){!this.widget||0===this.pattern.length||(this.tree.refilter(),this.render())}render(){var X,Ce;this.pattern&&this.filter.totalCount>0&&0===this.filter.matchCount?null===(X=this.widget)||void 0===X||X.showMessage({type:2,content:(0,pe.NC)("not found","No elements found.")}):null===(Ce=this.widget)||void 0===Ce||Ce.clearMessage()}shouldAllowFocus(X){return!this.widget||!this.pattern||this._mode===ot.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1||!Ve.CL.isDefault(X.filterData)}style(X){var Ce;this.styles=X,null===(Ce=this.widget)||void 0===Ce||Ce.style(X)}layout(X){var Ce;this.width=X,null===(Ce=this.widget)||void 0===Ce||Ce.layout(X)}dispose(){this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function Mt(Jt){let X=w.Unknown;return(0,f.uU)(Jt.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?X=w.Twistie:(0,f.uU)(Jt.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?X=w.Element:(0,f.uU)(Jt.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(X=w.Filter),{browserEvent:Jt.browserEvent,element:Jt.element?Jt.element.element:null,target:X}}function Nt(Jt,X){X(Jt),Jt.children.forEach(Ce=>Nt(Ce,X))}class ze{constructor(X,Ce){this.getFirstViewElementWithTrait=X,this.identityProvider=Ce,this.nodes=[],this._onDidChange=new M.Q5,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(X,Ce){(null==Ce||!Ce.__forceEvent)&&(0,s.fS)(this.nodes,X)||this._set(X,!1,Ce)}_set(X,Ce,tt){if(this.nodes=[...X],this.elements=void 0,this._nodeSet=void 0,!Ce){const Rt=this;this._onDidChange.fire({get elements(){return Rt.get()},browserEvent:tt})}}get(){return this.elements||(this.elements=this.nodes.map(X=>X.element)),[...this.elements]}getNodes(){return this.nodes}has(X){return this.nodeSet.has(X)}onDidModelSplice({insertedNodes:X,deletedNodes:Ce}){if(!this.identityProvider){const Nn=this.createNodeSet(),jn=$n=>Nn.delete($n);return Ce.forEach($n=>Nt($n,jn)),void this.set([...Nn.values()])}const tt=new Set,Rt=Nn=>tt.add(this.identityProvider.getId(Nn.element).toString());Ce.forEach(Nn=>Nt(Nn,Rt));const zt=new Map,dn=Nn=>zt.set(this.identityProvider.getId(Nn.element).toString(),Nn);X.forEach(Nn=>Nt(Nn,dn));const Sn=[];for(const Nn of this.nodes){const jn=this.identityProvider.getId(Nn.element).toString();if(tt.has(jn)){const Xn=zt.get(jn);Xn&&Sn.push(Xn)}else Sn.push(Nn)}if(this.nodes.length>0&&0===Sn.length){const Nn=this.getFirstViewElementWithTrait();Nn&&Sn.push(Nn)}this._set(Sn,!0)}createNodeSet(){const X=new Set;for(const Ce of this.nodes)X.add(Ce);return X}}class dt extends A.sx{constructor(X,Ce){super(X),this.tree=Ce}onViewPointer(X){if((0,A.iK)(X.browserEvent.target)||(0,A.cK)(X.browserEvent.target)||(0,A.hD)(X.browserEvent.target))return;const Ce=X.element;if(!Ce)return super.onViewPointer(X);if(this.isSelectionRangeChangeEvent(X)||this.isSelectionSingleChangeEvent(X))return super.onViewPointer(X);const tt=X.browserEvent.target,Rt=tt.classList.contains("monaco-tl-twistie")||tt.classList.contains("monaco-icon-label")&&tt.classList.contains("folder-icon")&&X.browserEvent.offsetX<16;let zt=!1;if(zt="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(Ce.element):!!this.tree.expandOnlyOnTwistieClick,zt&&!Rt&&2!==X.browserEvent.detail)return super.onViewPointer(X);if(!this.tree.expandOnDoubleClick&&2===X.browserEvent.detail)return super.onViewPointer(X);if(Ce.collapsible){const dn=this.tree.model,Sn=dn.getNodeLocation(Ce),Nn=X.browserEvent.altKey;if(this.tree.setFocus([Sn]),dn.setCollapsed(Sn,void 0,Nn),zt&&Rt)return}super.onViewPointer(X)}onDoubleClick(X){X.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(X)}}class $t extends A.aV{constructor(X,Ce,tt,Rt,zt,dn,Sn,Nn){super(X,Ce,tt,Rt,Nn),this.focusTrait=zt,this.selectionTrait=dn,this.anchorTrait=Sn}createMouseController(X){return new dt(this,X.tree)}splice(X,Ce,tt=[]){if(super.splice(X,Ce,tt),0===tt.length)return;const Rt=[],zt=[];let dn;tt.forEach((Sn,Nn)=>{this.focusTrait.has(Sn)&&Rt.push(X+Nn),this.selectionTrait.has(Sn)&&zt.push(X+Nn),this.anchorTrait.has(Sn)&&(dn=X+Nn)}),Rt.length>0&&super.setFocus((0,s.EB)([...super.getFocus(),...Rt])),zt.length>0&&super.setSelection((0,s.EB)([...super.getSelection(),...zt])),"number"==typeof dn&&super.setAnchor(dn)}setFocus(X,Ce,tt=!1){super.setFocus(X,Ce),tt||this.focusTrait.set(X.map(Rt=>this.element(Rt)),Ce)}setSelection(X,Ce,tt=!1){super.setSelection(X,Ce),tt||this.selectionTrait.set(X.map(Rt=>this.element(Rt)),Ce)}setAnchor(X,Ce=!1){super.setAnchor(X),Ce||this.anchorTrait.set(void 0===X?[]:[this.element(X)])}}class hn{constructor(X,Ce,tt,Rt,zt={}){var dn;this._user=X,this._options=zt,this.eventBufferer=new M.E7,this.onDidChangeFindOpenState=M.ju.None,this.disposables=new u.SL,this._onWillRefilter=new M.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new M.Q5;const Sn=new Je(tt),Nn=new M.ZD,jn=new M.ZD,$n=this.disposables.add(new lt(jn.event));this.renderers=Rt.map(Jn=>new Ke(Jn,()=>this.model,Nn.event,$n,zt));for(const Jn of this.renderers)this.disposables.add(Jn);let Xn;zt.keyboardNavigationLabelProvider&&(Xn=new He(this,zt.keyboardNavigationLabelProvider,zt.filter),zt=Object.assign(Object.assign({},zt),{filter:Xn}),this.disposables.add(Xn)),this.focus=new ze(()=>this.view.getFocusedElements()[0],zt.identityProvider),this.selection=new ze(()=>this.view.getSelectedElements()[0],zt.identityProvider),this.anchor=new ze(()=>this.view.getAnchorElement(),zt.identityProvider),this.view=new $t(X,Ce,Sn,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},function xe(Jt,X){return X&&Object.assign(Object.assign({},X),{identityProvider:X.identityProvider&&{getId:Ce=>X.identityProvider.getId(Ce.element)},dnd:X.dnd&&new ne(Jt,X.dnd),multipleSelectionController:X.multipleSelectionController&&{isSelectionSingleChangeEvent:Ce=>X.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},Ce),{element:Ce.element})),isSelectionRangeChangeEvent:Ce=>X.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},Ce),{element:Ce.element}))},accessibilityProvider:X.accessibilityProvider&&Object.assign(Object.assign({},X.accessibilityProvider),{getSetSize(Ce){const tt=Jt(),Rt=tt.getNodeLocation(Ce),zt=tt.getParentNodeLocation(Rt);return tt.getNode(zt).visibleChildrenCount},getPosInSet:Ce=>Ce.visibleChildIndex+1,isChecked:X.accessibilityProvider&&X.accessibilityProvider.isChecked?Ce=>X.accessibilityProvider.isChecked(Ce.element):void 0,getRole:X.accessibilityProvider&&X.accessibilityProvider.getRole?Ce=>X.accessibilityProvider.getRole(Ce.element):()=>"treeitem",getAriaLabel:Ce=>X.accessibilityProvider.getAriaLabel(Ce.element),getWidgetAriaLabel:()=>X.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:X.accessibilityProvider&&X.accessibilityProvider.getWidgetRole?()=>X.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:X.accessibilityProvider&&X.accessibilityProvider.getAriaLevel?Ce=>X.accessibilityProvider.getAriaLevel(Ce.element):Ce=>Ce.depth,getActiveDescendantId:X.accessibilityProvider.getActiveDescendantId&&(Ce=>X.accessibilityProvider.getActiveDescendantId(Ce.element))}),keyboardNavigationLabelProvider:X.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},X.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:Ce=>X.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Ce.element)})})}(()=>this.model,zt)),{tree:this})),this.model=this.createModel(X,this.view,zt),Nn.input=this.model.onDidChangeCollapseState;const ci=M.ju.forEach(this.model.onDidSplice,Jn=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(Jn),this.selection.onDidModelSplice(Jn)})},this.disposables);if(ci(()=>null,null,this.disposables),jn.input=M.ju.chain(M.ju.any(ci,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const Jn=new Set;for(const ni of this.focus.getNodes())Jn.add(ni);for(const ni of this.selection.getNodes())Jn.add(ni);return[...Jn.values()]}).event,!1!==zt.keyboardSupport){const Jn=M.ju.chain(this.view.onKeyDown).filter(ni=>!(0,A.cK)(ni.target)).map(ni=>new Y.y(ni));Jn.filter(ni=>15===ni.keyCode).on(this.onLeftArrow,this,this.disposables),Jn.filter(ni=>17===ni.keyCode).on(this.onRightArrow,this,this.disposables),Jn.filter(ni=>10===ni.keyCode).on(this.onSpace,this,this.disposables)}(null===(dn=zt.findWidgetEnabled)||void 0===dn||dn)&&zt.keyboardNavigationLabelProvider&&zt.contextViewProvider?(this.findController=new Ze(this,this.model,this.view,Xn,zt.contextViewProvider),this.focusNavigationFilter=Jn=>this.findController.shouldAllowFocus(Jn),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode):this.onDidChangeFindMode=M.ju.None,this.styleElement=(0,f.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===gt.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return M.ju.filter(M.ju.map(this.view.onMouseDblClick,Mt),X=>X.target!==w.Filter)}get onPointer(){return M.ju.map(this.view.onPointer,Mt)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return M.ju.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var X,Ce;return null!==(Ce=null===(X=this.findController)||void 0===X?void 0:X.mode)&&void 0!==Ce?Ce:ot.Highlight}set findMode(X){this.findController&&(this.findController.mode=X)}get expandOnDoubleClick(){return void 0===this._options.expandOnDoubleClick||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return void 0===this._options.expandOnlyOnTwistieClick||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(X={}){this._options=Object.assign(Object.assign({},this._options),X);for(const Ce of this.renderers)Ce.updateOptions(X);this.view.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===gt.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(X){this.view.scrollTop=X}domFocus(){this.view.domFocus()}layout(X,Ce){var tt;this.view.layout(X,Ce),(0,ye.hj)(Ce)&&(null===(tt=this.findController)||void 0===tt||tt.layout(Ce))}style(X){var Ce;const tt=`.${this.view.domId}`,Rt=[];X.treeIndentGuidesStroke&&(Rt.push(`.monaco-list${tt}:hover .monaco-tl-indent > .indent-guide, .monaco-list${tt}.always .monaco-tl-indent > .indent-guide  { border-color: ${X.treeIndentGuidesStroke.transparent(.4)}; }`),Rt.push(`.monaco-list${tt} .monaco-tl-indent > .indent-guide.active { border-color: ${X.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=Rt.join("\n"),null===(Ce=this.findController)||void 0===Ce||Ce.style(X),this.view.style(X)}getParentElement(X){const Ce=this.model.getParentNodeLocation(X);return this.model.getNode(Ce).element}getFirstElementChild(X){return this.model.getFirstElementChild(X)}getNode(X){return this.model.getNode(X)}collapse(X,Ce=!1){return this.model.setCollapsed(X,!0,Ce)}expand(X,Ce=!1){return this.model.setCollapsed(X,!1,Ce)}isCollapsible(X){return this.model.isCollapsible(X)}setCollapsible(X,Ce){return this.model.setCollapsible(X,Ce)}isCollapsed(X){return this.model.isCollapsed(X)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(X,Ce){const tt=X.map(zt=>this.model.getNode(zt));this.selection.set(tt,Ce);const Rt=X.map(zt=>this.model.getListIndex(zt)).filter(zt=>zt>-1);this.view.setSelection(Rt,Ce,!0)}getSelection(){return this.selection.get()}setFocus(X,Ce){const tt=X.map(zt=>this.model.getNode(zt));this.focus.set(tt,Ce);const Rt=X.map(zt=>this.model.getListIndex(zt)).filter(zt=>zt>-1);this.view.setFocus(Rt,Ce,!0)}getFocus(){return this.focus.get()}reveal(X,Ce){this.model.expandTo(X);const tt=this.model.getListIndex(X);-1!==tt&&this.view.reveal(tt,Ce)}onLeftArrow(X){X.preventDefault(),X.stopPropagation();const Ce=this.view.getFocusedElements();if(0===Ce.length)return;const Rt=this.model.getNodeLocation(Ce[0]);if(!this.model.setCollapsed(Rt,!0)){const dn=this.model.getParentNodeLocation(Rt);if(!dn)return;const Sn=this.model.getListIndex(dn);this.view.reveal(Sn),this.view.setFocus([Sn])}}onRightArrow(X){X.preventDefault(),X.stopPropagation();const Ce=this.view.getFocusedElements();if(0===Ce.length)return;const tt=Ce[0],Rt=this.model.getNodeLocation(tt);if(!this.model.setCollapsed(Rt,!1)){if(!tt.children.some(Nn=>Nn.visible))return;const[dn]=this.view.getFocus(),Sn=dn+1;this.view.reveal(Sn),this.view.setFocus([Sn])}}onSpace(X){X.preventDefault(),X.stopPropagation();const Ce=this.view.getFocusedElements();if(0===Ce.length)return;const Rt=this.model.getNodeLocation(Ce[0]);this.model.setCollapsed(Rt,void 0,X.browserEvent.altKey)}dispose(){(0,u.B9)(this.disposables),this.view.dispose()}}class vn{constructor(X,Ce,tt={}){this.user=X,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new ge(X,Ce,null,tt),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,tt.sorter&&(this.sorter={compare:(Rt,zt)=>tt.sorter.compare(Rt.element,zt.element)}),this.identityProvider=tt.identityProvider}setChildren(X,Ce=ee.$.empty(),tt={}){const Rt=this.getElementLocation(X);this._setChildren(Rt,this.preserveCollapseState(Ce),tt)}_setChildren(X,Ce=ee.$.empty(),tt){const Rt=new Set,zt=new Set;this.model.splice([...X,0],Number.MAX_VALUE,Ce,Object.assign(Object.assign({},tt),{onDidCreateNode:Nn=>{var jn;if(null===Nn.element)return;const $n=Nn;if(Rt.add($n.element),this.nodes.set($n.element,$n),this.identityProvider){const Xn=this.identityProvider.getId($n.element).toString();zt.add(Xn),this.nodesByIdentity.set(Xn,$n)}null===(jn=tt.onDidCreateNode)||void 0===jn||jn.call(tt,$n)},onDidDeleteNode:Nn=>{var jn;if(null===Nn.element)return;const $n=Nn;if(Rt.has($n.element)||this.nodes.delete($n.element),this.identityProvider){const Xn=this.identityProvider.getId($n.element).toString();zt.has(Xn)||this.nodesByIdentity.delete(Xn)}null===(jn=tt.onDidDeleteNode)||void 0===jn||jn.call(tt,$n)}}))}preserveCollapseState(X=ee.$.empty()){return this.sorter&&(X=[...X].sort(this.sorter.compare.bind(this.sorter))),ee.$.map(X,Ce=>{let tt=this.nodes.get(Ce.element);if(!tt&&this.identityProvider){const dn=this.identityProvider.getId(Ce.element).toString();tt=this.nodesByIdentity.get(dn)}if(!tt)return Object.assign(Object.assign({},Ce),{children:this.preserveCollapseState(Ce.children)});const Rt="boolean"==typeof Ce.collapsible?Ce.collapsible:tt.collapsible,zt=void 0!==Ce.collapsed?Ce.collapsed:tt.collapsed;return Object.assign(Object.assign({},Ce),{collapsible:Rt,collapsed:zt,children:this.preserveCollapseState(Ce.children)})})}rerender(X){const Ce=this.getElementLocation(X);this.model.rerender(Ce)}getFirstElementChild(X=null){const Ce=this.getElementLocation(X);return this.model.getFirstElementChild(Ce)}has(X){return this.nodes.has(X)}getListIndex(X){const Ce=this.getElementLocation(X);return this.model.getListIndex(Ce)}getListRenderCount(X){const Ce=this.getElementLocation(X);return this.model.getListRenderCount(Ce)}isCollapsible(X){const Ce=this.getElementLocation(X);return this.model.isCollapsible(Ce)}setCollapsible(X,Ce){const tt=this.getElementLocation(X);return this.model.setCollapsible(tt,Ce)}isCollapsed(X){const Ce=this.getElementLocation(X);return this.model.isCollapsed(Ce)}setCollapsed(X,Ce,tt){const Rt=this.getElementLocation(X);return this.model.setCollapsed(Rt,Ce,tt)}expandTo(X){const Ce=this.getElementLocation(X);this.model.expandTo(Ce)}refilter(){this.model.refilter()}getNode(X=null){if(null===X)return this.model.getNode(this.model.rootRef);const Ce=this.nodes.get(X);if(!Ce)throw new fe(this.user,`Tree element not found: ${X}`);return Ce}getNodeLocation(X){return X.element}getParentNodeLocation(X){if(null===X)throw new fe(this.user,"Invalid getParentNodeLocation call");const Ce=this.nodes.get(X);if(!Ce)throw new fe(this.user,`Tree element not found: ${X}`);const tt=this.model.getNodeLocation(Ce),Rt=this.model.getParentNodeLocation(tt);return this.model.getNode(Rt).element}getElementLocation(X){if(null===X)return[];const Ce=this.nodes.get(X);if(!Ce)throw new fe(this.user,`Tree element not found: ${X}`);return this.model.getNodeLocation(Ce)}}function ft(Jt){return{element:{elements:[Jt.element],incompressible:Jt.incompressible||!1},children:ee.$.map(ee.$.from(Jt.children),ft),collapsible:Jt.collapsible,collapsed:Jt.collapsed}}function ke(Jt){const X=[Jt.element],Ce=Jt.incompressible||!1;let tt,Rt;for(;[Rt,tt]=ee.$.consume(ee.$.from(Jt.children),2),1===Rt.length&&!Rt[0].incompressible;)X.push((Jt=Rt[0]).element);return{element:{elements:X,incompressible:Ce},children:ee.$.map(ee.$.concat(Rt,tt),ke),collapsible:Jt.collapsible,collapsed:Jt.collapsed}}function nt(Jt,X=0){let Ce;return Ce=X<Jt.element.elements.length-1?[nt(Jt,X+1)]:ee.$.map(ee.$.from(Jt.children),tt=>nt(tt,0)),0===X&&Jt.element.incompressible?{element:Jt.element.elements[X],children:Ce,incompressible:!0,collapsible:Jt.collapsible,collapsed:Jt.collapsed}:{element:Jt.element.elements[X],children:Ce,collapsible:Jt.collapsible,collapsed:Jt.collapsed}}function st(Jt){return nt(Jt,0)}function Ee(Jt,X,Ce){return Object.assign(Object.assign({},Jt),Jt.element===X?{children:Ce}:{children:ee.$.map(ee.$.from(Jt.children),tt=>Ee(tt,X,Ce))})}class mt{constructor(X,Ce,tt={}){this.user=X,this.rootRef=null,this.nodes=new Map,this.model=new vn(X,Ce,tt),this.enabled=void 0===tt.compressionEnabled||tt.compressionEnabled,this.identityProvider=tt.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(X,Ce=ee.$.empty(),tt){const Rt=tt.diffIdentityProvider&&(Jt=tt.diffIdentityProvider,{getId:X=>X.elements.map(Ce=>Jt.getId(Ce).toString()).join("\0")});var Jt;if(null===X){const Jn=ee.$.map(Ce,this.enabled?ke:ft);return void this._setChildren(null,Jn,{diffIdentityProvider:Rt,diffDepth:1/0})}const zt=this.nodes.get(X);if(!zt)throw new Error("Unknown compressed tree node");const dn=this.model.getNode(zt),Sn=this.model.getParentNodeLocation(zt),Nn=this.model.getNode(Sn),$n=Ee(st(dn),X,Ce),Xn=(this.enabled?ke:ft)($n),ci=Nn.children.map(Jn=>Jn===dn?Xn:Jn);this._setChildren(Nn.element,ci,{diffIdentityProvider:Rt,diffDepth:dn.depth-Nn.depth})}setCompressionEnabled(X){if(X===this.enabled)return;this.enabled=X;const tt=this.model.getNode().children,Rt=ee.$.map(tt,st),zt=ee.$.map(Rt,X?ke:ft);this._setChildren(null,zt,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(X,Ce,tt){const Rt=new Set;this.model.setChildren(X,Ce,Object.assign(Object.assign({},tt),{onDidCreateNode:Sn=>{for(const Nn of Sn.element.elements)Rt.add(Nn),this.nodes.set(Nn,Sn.element)},onDidDeleteNode:Sn=>{for(const Nn of Sn.element.elements)Rt.has(Nn)||this.nodes.delete(Nn)}}))}has(X){return this.nodes.has(X)}getListIndex(X){const Ce=this.getCompressedNode(X);return this.model.getListIndex(Ce)}getListRenderCount(X){const Ce=this.getCompressedNode(X);return this.model.getListRenderCount(Ce)}getNode(X){if(void 0===X)return this.model.getNode();const Ce=this.getCompressedNode(X);return this.model.getNode(Ce)}getNodeLocation(X){const Ce=this.model.getNodeLocation(X);return null===Ce?null:Ce.elements[Ce.elements.length-1]}getParentNodeLocation(X){const Ce=this.getCompressedNode(X),tt=this.model.getParentNodeLocation(Ce);return null===tt?null:tt.elements[tt.elements.length-1]}getFirstElementChild(X){const Ce=this.getCompressedNode(X);return this.model.getFirstElementChild(Ce)}isCollapsible(X){const Ce=this.getCompressedNode(X);return this.model.isCollapsible(Ce)}setCollapsible(X,Ce){const tt=this.getCompressedNode(X);return this.model.setCollapsible(tt,Ce)}isCollapsed(X){const Ce=this.getCompressedNode(X);return this.model.isCollapsed(Ce)}setCollapsed(X,Ce,tt){const Rt=this.getCompressedNode(X);return this.model.setCollapsed(Rt,Ce,tt)}expandTo(X){const Ce=this.getCompressedNode(X);this.model.expandTo(Ce)}rerender(X){const Ce=this.getCompressedNode(X);this.model.rerender(Ce)}refilter(){this.model.refilter()}getCompressedNode(X){if(null===X)return null;const Ce=this.nodes.get(X);if(!Ce)throw new fe(this.user,`Tree element not found: ${X}`);return Ce}}const Vt=Jt=>Jt[Jt.length-1];class qt{constructor(X,Ce){this.unwrapper=X,this.node=Ce}get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(X=>new qt(this.unwrapper,X))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class en{constructor(X,Ce,tt={}){this.rootRef=null,this.elementMapper=tt.elementMapper||Vt;const Rt=zt=>this.elementMapper(zt.elements);this.nodeMapper=new be(zt=>new qt(Rt,zt)),this.model=new mt(X,function Cn(Jt,X){return{splice(Ce,tt,Rt){X.splice(Ce,tt,Rt.map(zt=>Jt.map(zt)))},updateElementHeight(Ce,tt){X.updateElementHeight(Ce,tt)}}}(this.nodeMapper,Ce),function Gt(Jt,X){return Object.assign(Object.assign({},X),{identityProvider:X.identityProvider&&{getId:Ce=>X.identityProvider.getId(Jt(Ce))},sorter:X.sorter&&{compare:(Ce,tt)=>X.sorter.compare(Ce.elements[0],tt.elements[0])},filter:X.filter&&{filter:(Ce,tt)=>X.filter.filter(Jt(Ce),tt)}})}(Rt,tt))}get onDidSplice(){return M.ju.map(this.model.onDidSplice,({insertedNodes:X,deletedNodes:Ce})=>({insertedNodes:X.map(tt=>this.nodeMapper.map(tt)),deletedNodes:Ce.map(tt=>this.nodeMapper.map(tt))}))}get onDidChangeCollapseState(){return M.ju.map(this.model.onDidChangeCollapseState,({node:X,deep:Ce})=>({node:this.nodeMapper.map(X),deep:Ce}))}get onDidChangeRenderNodeCount(){return M.ju.map(this.model.onDidChangeRenderNodeCount,X=>this.nodeMapper.map(X))}setChildren(X,Ce=ee.$.empty(),tt={}){this.model.setChildren(X,Ce,tt)}setCompressionEnabled(X){this.model.setCompressionEnabled(X)}has(X){return this.model.has(X)}getListIndex(X){return this.model.getListIndex(X)}getListRenderCount(X){return this.model.getListRenderCount(X)}getNode(X){return this.nodeMapper.map(this.model.getNode(X))}getNodeLocation(X){return X.element}getParentNodeLocation(X){return this.model.getParentNodeLocation(X)}getFirstElementChild(X){const Ce=this.model.getFirstElementChild(X);return null==Ce?Ce:this.elementMapper(Ce.elements)}isCollapsible(X){return this.model.isCollapsible(X)}setCollapsible(X,Ce){return this.model.setCollapsible(X,Ce)}isCollapsed(X){return this.model.isCollapsed(X)}setCollapsed(X,Ce,tt){return this.model.setCollapsed(X,Ce,tt)}expandTo(X){return this.model.expandTo(X)}rerender(X){return this.model.rerender(X)}refilter(){return this.model.refilter()}getCompressedTreeNode(X=null){return this.model.getNode(X)}}var Yt=e(10087);class Ct extends hn{constructor(X,Ce,tt,Rt,zt={}){super(X,Ce,tt,Rt,zt),this.user=X}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(X,Ce=ee.$.empty(),tt){this.model.setChildren(X,Ce,tt)}rerender(X){void 0!==X?this.model.rerender(X):this.view.rerender()}hasElement(X){return this.model.has(X)}createModel(X,Ce,tt){return new vn(X,Ce,tt)}}class rn{constructor(X,Ce){this._compressedTreeNodeProvider=X,this.renderer=Ce,this.templateId=Ce.templateId,Ce.onDidChangeTwistieState&&(this.onDidChangeTwistieState=Ce.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(X){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(X)}}renderElement(X,Ce,tt,Rt){const zt=this.compressedTreeNodeProvider.getCompressedTreeNode(X.element);1===zt.element.elements.length?(tt.compressedTreeNode=void 0,this.renderer.renderElement(X,Ce,tt.data,Rt)):(tt.compressedTreeNode=zt,this.renderer.renderCompressedElements(zt,Ce,tt.data,Rt))}disposeElement(X,Ce,tt,Rt){var zt,dn,Sn,Nn;tt.compressedTreeNode?null===(dn=(zt=this.renderer).disposeCompressedElements)||void 0===dn||dn.call(zt,tt.compressedTreeNode,Ce,tt.data,Rt):null===(Nn=(Sn=this.renderer).disposeElement)||void 0===Nn||Nn.call(Sn,X,Ce,tt.data,Rt)}disposeTemplate(X){this.renderer.disposeTemplate(X.data)}renderTwistie(X,Ce){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(X,Ce)}}!function(Jt,X,Ce,tt){var dn,Rt=arguments.length,zt=Rt<3?X:null===tt?tt=Object.getOwnPropertyDescriptor(X,Ce):tt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)zt=Reflect.decorate(Jt,X,Ce,tt);else for(var Sn=Jt.length-1;Sn>=0;Sn--)(dn=Jt[Sn])&&(zt=(Rt<3?dn(zt):Rt>3?dn(X,Ce,zt):dn(X,Ce))||zt);Rt>3&&zt&&Object.defineProperty(X,Ce,zt)}([Yt.H],rn.prototype,"compressedTreeNodeProvider",null);class yn extends Ct{constructor(X,Ce,tt,Rt,zt={}){const dn=()=>this;super(X,Ce,tt,Rt.map(Nn=>new rn(dn,Nn)),function jt(Jt,X){return X&&Object.assign(Object.assign({},X),{keyboardNavigationLabelProvider:X.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(Ce){let tt;try{tt=Jt().getCompressedTreeNode(Ce)}catch(Rt){return X.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Ce)}return 1===tt.element.elements.length?X.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Ce):X.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(tt.element.elements)}}})}(dn,zt))}setChildren(X,Ce=ee.$.empty(),tt){this.model.setChildren(X,Ce,tt)}createModel(X,Ce,tt){return new en(X,Ce,tt)}updateOptions(X={}){super.updateOptions(X),void 0!==X.compressionEnabled&&this.model.setCompressionEnabled(X.compressionEnabled)}getCompressedTreeNode(X=null){return this.model.getCompressedTreeNode(X)}}var En=e(53663),xn=function(Jt,X,Ce,tt){return new(Ce||(Ce=Promise))(function(zt,dn){function Sn($n){try{jn(tt.next($n))}catch(Xn){dn(Xn)}}function Nn($n){try{jn(tt.throw($n))}catch(Xn){dn(Xn)}}function jn($n){$n.done?zt($n.value):function Rt(zt){return zt instanceof Ce?zt:new Ce(function(dn){dn(zt)})}($n.value).then(Sn,Nn)}jn((tt=tt.apply(Jt,X||[])).next())})};function Un(Jt){return Object.assign(Object.assign({},Jt),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function ai(Jt,X){return!!X.parent&&(X.parent===Jt||ai(Jt,X.parent))}class Di{constructor(X){this.node=X}get element(){return this.node.element.element}get children(){return this.node.children.map(X=>new Di(X))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class li{constructor(X,Ce,tt){this.renderer=X,this.nodeMapper=Ce,this.onDidChangeTwistieState=tt,this.renderedNodes=new Map,this.templateId=X.templateId}renderTemplate(X){return{templateData:this.renderer.renderTemplate(X)}}renderElement(X,Ce,tt,Rt){this.renderer.renderElement(this.nodeMapper.map(X),Ce,tt.templateData,Rt)}renderTwistie(X,Ce){return X.slow?(Ce.classList.add(...Se.lA.treeItemLoading.classNamesArray),!0):(Ce.classList.remove(...Se.lA.treeItemLoading.classNamesArray),!1)}disposeElement(X,Ce,tt,Rt){var zt,dn;null===(dn=(zt=this.renderer).disposeElement)||void 0===dn||dn.call(zt,this.nodeMapper.map(X),Ce,tt.templateData,Rt)}disposeTemplate(X){this.renderer.disposeTemplate(X.templateData)}dispose(){this.renderedNodes.clear()}}function Qn(Jt){return{browserEvent:Jt.browserEvent,elements:Jt.elements.map(X=>X.element)}}function wi(Jt){return{browserEvent:Jt.browserEvent,element:Jt.element&&Jt.element.element,target:Jt.target}}class Dn extends $.kX{constructor(X){super(X.elements.map(Ce=>Ce.element)),this.data=X}}function Dt(Jt){return Jt instanceof $.kX?new Dn(Jt):Jt}class Te{constructor(X){this.dnd=X}getDragURI(X){return this.dnd.getDragURI(X.element)}getDragLabel(X,Ce){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(X.map(tt=>tt.element),Ce)}onDragStart(X,Ce){var tt,Rt;null===(Rt=(tt=this.dnd).onDragStart)||void 0===Rt||Rt.call(tt,Dt(X),Ce)}onDragOver(X,Ce,tt,Rt,zt=!0){return this.dnd.onDragOver(Dt(X),Ce&&Ce.element,tt,Rt)}drop(X,Ce,tt,Rt){this.dnd.drop(Dt(X),Ce&&Ce.element,tt,Rt)}onDragEnd(X){var Ce,tt;null===(tt=(Ce=this.dnd).onDragEnd)||void 0===tt||tt.call(Ce,X)}}function oe(Jt){return Jt&&Object.assign(Object.assign({},Jt),{collapseByDefault:!0,identityProvider:Jt.identityProvider&&{getId:X=>Jt.identityProvider.getId(X.element)},dnd:Jt.dnd&&new Te(Jt.dnd),multipleSelectionController:Jt.multipleSelectionController&&{isSelectionSingleChangeEvent:X=>Jt.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},X),{element:X.element})),isSelectionRangeChangeEvent:X=>Jt.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},X),{element:X.element}))},accessibilityProvider:Jt.accessibilityProvider&&Object.assign(Object.assign({},Jt.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:Jt.accessibilityProvider.getRole?X=>Jt.accessibilityProvider.getRole(X.element):()=>"treeitem",isChecked:Jt.accessibilityProvider.isChecked?X=>{var Ce;return!(null===(Ce=Jt.accessibilityProvider)||void 0===Ce||!Ce.isChecked(X.element))}:void 0,getAriaLabel:X=>Jt.accessibilityProvider.getAriaLabel(X.element),getWidgetAriaLabel:()=>Jt.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:Jt.accessibilityProvider.getWidgetRole?()=>Jt.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:Jt.accessibilityProvider.getAriaLevel&&(X=>Jt.accessibilityProvider.getAriaLevel(X.element)),getActiveDescendantId:Jt.accessibilityProvider.getActiveDescendantId&&(X=>Jt.accessibilityProvider.getActiveDescendantId(X.element))}),filter:Jt.filter&&{filter:(X,Ce)=>Jt.filter.filter(X.element,Ce)},keyboardNavigationLabelProvider:Jt.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},Jt.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:X=>Jt.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(X.element)}),sorter:void 0,expandOnlyOnTwistieClick:void 0===Jt.expandOnlyOnTwistieClick?void 0:"function"!=typeof Jt.expandOnlyOnTwistieClick?Jt.expandOnlyOnTwistieClick:X=>Jt.expandOnlyOnTwistieClick(X.element),additionalScrollHeight:Jt.additionalScrollHeight})}function Le(Jt,X){X(Jt),Jt.children.forEach(Ce=>Le(Ce,X))}class We{constructor(X,Ce,tt,Rt,zt,dn={}){this.user=X,this.dataSource=zt,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new M.Q5,this._onDidChangeNodeSlowState=new M.Q5,this.nodeMapper=new be(Sn=>new Di(Sn)),this.disposables=new u.SL,this.identityProvider=dn.identityProvider,this.autoExpandSingleChildren=void 0!==dn.autoExpandSingleChildren&&dn.autoExpandSingleChildren,this.sorter=dn.sorter,this.collapseByDefault=dn.collapseByDefault,this.tree=this.createTree(X,Ce,tt,Rt,dn),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=Un({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return M.ju.map(this.tree.onDidChangeFocus,Qn)}get onDidChangeSelection(){return M.ju.map(this.tree.onDidChangeSelection,Qn)}get onMouseDblClick(){return M.ju.map(this.tree.onMouseDblClick,wi)}get onPointer(){return M.ju.map(this.tree.onPointer,wi)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}createTree(X,Ce,tt,Rt,zt){const dn=new Je(tt),Sn=Rt.map(jn=>new li(jn,this.nodeMapper,this._onDidChangeNodeSlowState.event)),Nn=oe(zt)||{};return new Ct(X,Ce,dn,Sn,Nn)}updateOptions(X={}){this.tree.updateOptions(X)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(X){this.tree.scrollTop=X}domFocus(){this.tree.domFocus()}layout(X,Ce){this.tree.layout(X,Ce)}style(X){this.tree.style(X)}getInput(){return this.root.element}setInput(X,Ce){return xn(this,void 0,void 0,function*(){this.refreshPromises.forEach(Rt=>Rt.cancel()),this.refreshPromises.clear(),this.root.element=X;const tt=Ce&&{viewState:Ce,focus:[],selection:[]};yield this._updateChildren(X,!0,!1,tt),tt&&(this.tree.setFocus(tt.focus),this.tree.setSelection(tt.selection)),Ce&&"number"==typeof Ce.scrollTop&&(this.scrollTop=Ce.scrollTop)})}_updateChildren(X=this.root.element,Ce=!0,tt=!1,Rt,zt){return xn(this,void 0,void 0,function*(){if(void 0===this.root.element)throw new fe(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield M.ju.toPromise(this._onDidRender.event));const dn=this.getDataNode(X);if(yield this.refreshAndRenderNode(dn,Ce,Rt,zt),tt)try{this.tree.rerender(dn)}catch(Sn){}})}rerender(X){if(void 0===X||X===this.root.element)return void this.tree.rerender();const Ce=this.getDataNode(X);this.tree.rerender(Ce)}getNode(X=this.root.element){const Ce=this.getDataNode(X),tt=this.tree.getNode(Ce===this.root?null:Ce);return this.nodeMapper.map(tt)}collapse(X,Ce=!1){const tt=this.getDataNode(X);return this.tree.collapse(tt===this.root?null:tt,Ce)}expand(X,Ce=!1){return xn(this,void 0,void 0,function*(){if(void 0===this.root.element)throw new fe(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield M.ju.toPromise(this._onDidRender.event));const tt=this.getDataNode(X);if(this.tree.hasElement(tt)&&!this.tree.isCollapsible(tt)||(tt.refreshPromise&&(yield this.root.refreshPromise,yield M.ju.toPromise(this._onDidRender.event)),tt!==this.root&&!tt.refreshPromise&&!this.tree.isCollapsed(tt)))return!1;const Rt=this.tree.expand(tt===this.root?null:tt,Ce);return tt.refreshPromise&&(yield this.root.refreshPromise,yield M.ju.toPromise(this._onDidRender.event)),Rt})}setSelection(X,Ce){const tt=X.map(Rt=>this.getDataNode(Rt));this.tree.setSelection(tt,Ce)}getSelection(){return this.tree.getSelection().map(Ce=>Ce.element)}setFocus(X,Ce){const tt=X.map(Rt=>this.getDataNode(Rt));this.tree.setFocus(tt,Ce)}getFocus(){return this.tree.getFocus().map(Ce=>Ce.element)}reveal(X,Ce){this.tree.reveal(this.getDataNode(X),Ce)}getParentElement(X){const Ce=this.tree.getParentElement(this.getDataNode(X));return Ce&&Ce.element}getFirstElementChild(X=this.root.element){const Ce=this.getDataNode(X),tt=this.tree.getFirstElementChild(Ce===this.root?null:Ce);return tt&&tt.element}getDataNode(X){const Ce=this.nodes.get(X===this.root.element?null:X);if(!Ce)throw new fe(this.user,`Data tree node not found: ${X}`);return Ce}refreshAndRenderNode(X,Ce,tt,Rt){return xn(this,void 0,void 0,function*(){yield this.refreshNode(X,Ce,tt),this.render(X,tt,Rt)})}refreshNode(X,Ce,tt){return xn(this,void 0,void 0,function*(){let Rt;return this.subTreeRefreshPromises.forEach((zt,dn)=>{!Rt&&function ei(Jt,X){return Jt===X||ai(Jt,X)||ai(X,Jt)}(dn,X)&&(Rt=zt.then(()=>this.refreshNode(X,Ce,tt)))}),Rt||(X!==this.root&&this.tree.getNode(X).collapsed?(X.hasChildren=!!this.dataSource.hasChildren(X.element),void(X.stale=!0)):this.doRefreshSubTree(X,Ce,tt))})}doRefreshSubTree(X,Ce,tt){return xn(this,void 0,void 0,function*(){let Rt;X.refreshPromise=new Promise(zt=>Rt=zt),this.subTreeRefreshPromises.set(X,X.refreshPromise),X.refreshPromise.finally(()=>{X.refreshPromise=void 0,this.subTreeRefreshPromises.delete(X)});try{const zt=yield this.doRefreshNode(X,Ce,tt);X.stale=!1,yield me.jT.settled(zt.map(dn=>this.doRefreshSubTree(dn,Ce,tt)))}finally{Rt()}})}doRefreshNode(X,Ce,tt){return xn(this,void 0,void 0,function*(){let Rt;if(X.hasChildren=!!this.dataSource.hasChildren(X.element),X.hasChildren){const zt=this.doGetChildren(X);if((0,ye.TW)(zt))Rt=Promise.resolve(zt);else{const dn=(0,me.Vs)(800);dn.then(()=>{X.slow=!0,this._onDidChangeNodeSlowState.fire(X)},Sn=>null),Rt=zt.finally(()=>dn.cancel())}}else Rt=Promise.resolve(ee.$.empty());try{const zt=yield Rt;return this.setChildren(X,zt,Ce,tt)}catch(zt){if(X!==this.root&&this.tree.hasElement(X)&&this.tree.collapse(X),(0,En.n2)(zt))return[];throw zt}finally{X.slow&&(X.slow=!1,this._onDidChangeNodeSlowState.fire(X))}})}doGetChildren(X){let Ce=this.refreshPromises.get(X);if(Ce)return Ce;const tt=this.dataSource.getChildren(X.element);return(0,ye.TW)(tt)?this.processChildren(tt):(Ce=(0,me.PG)(()=>xn(this,void 0,void 0,function*(){return this.processChildren(yield tt)})),this.refreshPromises.set(X,Ce),Ce.finally(()=>{this.refreshPromises.delete(X)}))}_onDidChangeCollapseState({node:X,deep:Ce}){null!==X.element&&!X.collapsed&&X.element.stale&&(Ce?this.collapse(X.element.element):this.refreshAndRenderNode(X.element,!1).catch(En.dL))}setChildren(X,Ce,tt,Rt){const zt=[...Ce];if(0===X.children.length&&0===zt.length)return[];const dn=new Map,Sn=new Map;for(const $n of X.children)if(dn.set($n.element,$n),this.identityProvider){const Xn=this.tree.isCollapsed($n);Sn.set($n.id,{node:$n,collapsed:Xn})}const Nn=[],jn=zt.map($n=>{const Xn=!!this.dataSource.hasChildren($n);if(!this.identityProvider){const ui=Un({element:$n,parent:X,hasChildren:Xn});return Xn&&this.collapseByDefault&&!this.collapseByDefault($n)&&(ui.collapsedByDefault=!1,Nn.push(ui)),ui}const ci=this.identityProvider.getId($n).toString(),Jn=Sn.get(ci);if(Jn){const ui=Jn.node;return dn.delete(ui.element),this.nodes.delete(ui.element),this.nodes.set($n,ui),ui.element=$n,ui.hasChildren=Xn,tt?Jn.collapsed?(ui.children.forEach(mi=>Le(mi,Mi=>this.nodes.delete(Mi.element))),ui.children.splice(0,ui.children.length),ui.stale=!0):Nn.push(ui):Xn&&this.collapseByDefault&&!this.collapseByDefault($n)&&(ui.collapsedByDefault=!1,Nn.push(ui)),ui}const ni=Un({element:$n,parent:X,id:ci,hasChildren:Xn});return Rt&&Rt.viewState.focus&&Rt.viewState.focus.indexOf(ci)>-1&&Rt.focus.push(ni),Rt&&Rt.viewState.selection&&Rt.viewState.selection.indexOf(ci)>-1&&Rt.selection.push(ni),Rt&&Rt.viewState.expanded&&Rt.viewState.expanded.indexOf(ci)>-1?Nn.push(ni):Xn&&this.collapseByDefault&&!this.collapseByDefault($n)&&(ni.collapsedByDefault=!1,Nn.push(ni)),ni});for(const $n of dn.values())Le($n,Xn=>this.nodes.delete(Xn.element));for(const $n of jn)this.nodes.set($n.element,$n);return X.children.splice(0,X.children.length,...jn),X!==this.root&&this.autoExpandSingleChildren&&1===jn.length&&0===Nn.length&&(jn[0].collapsedByDefault=!1,Nn.push(jn[0])),Nn}render(X,Ce,tt){const Rt=X.children.map(dn=>this.asTreeElement(dn,Ce)),zt=tt&&Object.assign(Object.assign({},tt),{diffIdentityProvider:tt.diffIdentityProvider&&{getId:dn=>tt.diffIdentityProvider.getId(dn.element)}});this.tree.setChildren(X===this.root?null:X,Rt,zt),X!==this.root&&this.tree.setCollapsible(X,X.hasChildren),this._onDidRender.fire()}asTreeElement(X,Ce){if(X.stale)return{element:X,collapsible:X.hasChildren,collapsed:!0};let tt;return tt=!(Ce&&Ce.viewState.expanded&&X.id&&Ce.viewState.expanded.indexOf(X.id)>-1)&&X.collapsedByDefault,X.collapsedByDefault=void 0,{element:X,children:X.hasChildren?ee.$.map(X.children,Rt=>this.asTreeElement(Rt,Ce)):[],collapsible:X.hasChildren,collapsed:tt}}processChildren(X){return this.sorter&&(X=[...X].sort(this.sorter.compare.bind(this.sorter))),X}dispose(){this.disposables.dispose()}}class it{constructor(X){this.node=X}get element(){return{elements:this.node.element.elements.map(X=>X.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(X=>new it(X))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class pt{constructor(X,Ce,tt,Rt){this.renderer=X,this.nodeMapper=Ce,this.compressibleNodeMapperProvider=tt,this.onDidChangeTwistieState=Rt,this.renderedNodes=new Map,this.disposables=[],this.templateId=X.templateId}renderTemplate(X){return{templateData:this.renderer.renderTemplate(X)}}renderElement(X,Ce,tt,Rt){this.renderer.renderElement(this.nodeMapper.map(X),Ce,tt.templateData,Rt)}renderCompressedElements(X,Ce,tt,Rt){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(X),Ce,tt.templateData,Rt)}renderTwistie(X,Ce){return X.slow?(Ce.classList.add(...Se.lA.treeItemLoading.classNamesArray),!0):(Ce.classList.remove(...Se.lA.treeItemLoading.classNamesArray),!1)}disposeElement(X,Ce,tt,Rt){var zt,dn;null===(dn=(zt=this.renderer).disposeElement)||void 0===dn||dn.call(zt,this.nodeMapper.map(X),Ce,tt.templateData,Rt)}disposeCompressedElements(X,Ce,tt,Rt){var zt,dn;null===(dn=(zt=this.renderer).disposeCompressedElements)||void 0===dn||dn.call(zt,this.compressibleNodeMapperProvider().map(X),Ce,tt.templateData,Rt)}disposeTemplate(X){this.renderer.disposeTemplate(X.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,u.B9)(this.disposables)}}class Ut extends We{constructor(X,Ce,tt,Rt,zt,dn,Sn={}){super(X,Ce,tt,zt,dn,Sn),this.compressionDelegate=Rt,this.compressibleNodeMapper=new be(Nn=>new it(Nn)),this.filter=Sn.filter}createTree(X,Ce,tt,Rt,zt){const dn=new Je(tt),Sn=Rt.map(jn=>new pt(jn,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),Nn=function Et(Jt){const X=Jt&&oe(Jt);return X&&Object.assign(Object.assign({},X),{keyboardNavigationLabelProvider:X.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},X.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:Ce=>Jt.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(Ce.map(tt=>tt.element))})})}(zt)||{};return new yn(X,Ce,dn,Sn,Nn)}asTreeElement(X,Ce){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(X.element)},super.asTreeElement(X,Ce))}updateOptions(X={}){this.tree.updateOptions(X)}render(X,Ce){if(!this.identityProvider)return super.render(X,Ce);const tt=ci=>this.identityProvider.getId(ci).toString(),Rt=ci=>{const Jn=new Set;for(const ni of ci){const ui=this.tree.getCompressedTreeNode(ni===this.root?null:ni);if(ui.element)for(const mi of ui.element.elements)Jn.add(tt(mi.element))}return Jn},zt=Rt(this.tree.getSelection()),dn=Rt(this.tree.getFocus());super.render(X,Ce);const Sn=this.getSelection();let Nn=!1;const jn=this.getFocus();let $n=!1;const Xn=ci=>{const Jn=ci.element;if(Jn)for(let ni=0;ni<Jn.elements.length;ni++){const ui=tt(Jn.elements[ni].element),mi=Jn.elements[Jn.elements.length-1].element;zt.has(ui)&&-1===Sn.indexOf(mi)&&(Sn.push(mi),Nn=!0),dn.has(ui)&&-1===jn.indexOf(mi)&&(jn.push(mi),$n=!0)}ci.children.forEach(Xn)};Xn(this.tree.getCompressedTreeNode(X===this.root?null:X)),Nn&&this.setSelection(Sn),$n&&this.setFocus(jn)}processChildren(X){return this.filter&&(X=ee.$.filter(X,Ce=>{const Rt=function sn(Jt){return"boolean"==typeof Jt?Jt?1:0:ce(Jt)?he(Jt.visibility):he(Jt)}(this.filter.filter(Ce,1));if(2===Rt)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===Rt})),super.processChildren(X)}}class pn extends hn{constructor(X,Ce,tt,Rt,zt,dn={}){super(X,Ce,tt,Rt,dn),this.user=X,this.dataSource=zt,this.identityProvider=dn.identityProvider}createModel(X,Ce,tt){return new vn(X,Ce,tt)}}var In=e(9869),On=e(17732),Tn=e(59776),kn=e(59239),An=e(34394),Gn=e(64725),ri=e(77090),si=e(29537),Si=e(32151),xi=e(23024),Li=function(Jt,X,Ce,tt){var dn,Rt=arguments.length,zt=Rt<3?X:null===tt?tt=Object.getOwnPropertyDescriptor(X,Ce):tt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)zt=Reflect.decorate(Jt,X,Ce,tt);else for(var Sn=Jt.length-1;Sn>=0;Sn--)(dn=Jt[Sn])&&(zt=(Rt<3?dn(zt):Rt>3?dn(X,Ce,zt):dn(X,Ce))||zt);return Rt>3&&zt&&Object.defineProperty(X,Ce,zt),zt},Yn=function(Jt,X){return function(Ce,tt){X(Ce,tt,Jt)}};const fi=(0,Gn.yh)("listService");let pi=class{constructor(X){this._themeService=X,this.disposables=new u.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(X){var Ce,tt;X!==this._lastFocusedWidget&&(null===(Ce=this._lastFocusedWidget)||void 0===Ce||Ce.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=X,null===(tt=this._lastFocusedWidget)||void 0===tt||tt.getHTMLElement().classList.add("last-focused"))}register(X,Ce){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const Rt=new A.wD((0,f.dS)(),"");this.disposables.add((0,Si.Jl)(Rt,this._themeService))}if(this.lists.some(Rt=>Rt.widget===X))throw new Error("Cannot register the same widget multiple times");const tt={widget:X,extraContextKeys:Ce};return this.lists.push(tt),X.getHTMLElement()===document.activeElement&&this.setLastFocusedList(X),(0,u.F8)(X.onDidFocus(()=>this.setLastFocusedList(X)),(0,u.OF)(()=>this.lists.splice(this.lists.indexOf(tt),1)),X.onDidDispose(()=>{this.lists=this.lists.filter(Rt=>Rt!==tt),this._lastFocusedWidget===X&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};pi=Li([Yn(0,xi.XE)],pi);const mn=new Tn.uy("listFocus",!0),bt=new Tn.uy("listSupportsMultiselect",!0),Lt=Tn.Ao.and(mn,Tn.Ao.not(kn.d0)),Ft=new Tn.uy("listHasSelectionOrFocus",!1),un=new Tn.uy("listDoubleSelection",!1),ln=new Tn.uy("listMultiSelection",!1),Ot=new Tn.uy("listSelectionNavigation",!1),$e=new Tn.uy("listSupportsFind",!0),wt=new Tn.uy("treeElementCanCollapse",!1),Bt=new Tn.uy("treeElementHasParent",!1),Xt=new Tn.uy("treeElementCanExpand",!1),nn=new Tn.uy("treeElementHasChild",!1),Kt=new Tn.uy("treeFindOpen",!1),Ge="listTypeNavigationMode",ct="listAutomaticKeyboardNavigation";function St(Jt,X){const Ce=Jt.createScoped(X.getHTMLElement());return mn.bindTo(Ce),Ce}const It="workbench.list.multiSelectModifier",Zt="workbench.list.openMode",Ht="workbench.list.horizontalScrolling",Pt="workbench.list.defaultFindMode",wn="workbench.list.keyboardNavigation",Fn="workbench.tree.indent",Qt="workbench.tree.renderIndentGuides",Kn="workbench.list.smoothScrolling",Zn="workbench.list.mouseWheelScrollSensitivity",_t="workbench.list.fastScrollSensitivity",D="workbench.tree.expandMode";function K(Jt){return"alt"===Jt.getValue(It)}class q extends u.JT{constructor(X){super(),this.configurationService=X,this.useAltAsMultipleSelectionModifier=K(X),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(X=>{X.affectsConfiguration(It)&&(this.useAltAsMultipleSelectionModifier=K(this.configurationService))}))}isSelectionSingleChangeEvent(X){return this.useAltAsMultipleSelectionModifier?X.browserEvent.altKey:(0,A.Zo)(X)}isSelectionRangeChangeEvent(X){return(0,A.wn)(X)}}function we(Jt,X){var Ce;const tt=Jt.get(In.Ui),Rt=Jt.get(ri.d),zt=new u.SL;return[Object.assign(Object.assign({},X),{keyboardNavigationDelegate:{mightProducePrintableCharacter:Sn=>Rt.mightProducePrintableCharacter(Sn)},smoothScrolling:Boolean(tt.getValue(Kn)),mouseWheelScrollSensitivity:tt.getValue(Zn),fastScrollSensitivity:tt.getValue(_t),multipleSelectionController:null!==(Ce=X.multipleSelectionController)&&void 0!==Ce?Ce:zt.add(new q(tt)),keyboardNavigationEventFilter:gn(Rt)}),zt]}let Re=class extends A.aV{constructor(X,Ce,tt,Rt,zt,dn,Sn,Nn,jn,$n){const Xn=void 0!==zt.horizontalScrolling?zt.horizontalScrolling:Boolean(jn.getValue(Ht)),[ci,Jn]=$n.invokeFunction(we,zt);super(X,Ce,tt,Rt,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Si.o)(Nn.getColorTheme(),Si.O2)),ci),{horizontalScrolling:Xn})),this.disposables.add(Jn),this.contextKeyService=St(dn,this),this.themeService=Nn,this.listSupportsMultiSelect=bt.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==zt.multipleSelectionSupport),Ot.bindTo(this.contextKeyService).set(Boolean(zt.selectionNavigation)),this.listHasSelectionOrFocus=Ft.bindTo(this.contextKeyService),this.listDoubleSelection=un.bindTo(this.contextKeyService),this.listMultiSelection=ln.bindTo(this.contextKeyService),this.horizontalScrolling=zt.horizontalScrolling,this._useAltAsMultipleSelectionModifier=K(jn),this.disposables.add(this.contextKeyService),this.disposables.add(Sn.register(this)),zt.overrideStyles&&this.updateStyles(zt.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const ui=this.getSelection(),mi=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(ui.length>0||mi.length>0),this.listMultiSelection.set(ui.length>1),this.listDoubleSelection.set(2===ui.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const ui=this.getSelection(),mi=this.getFocus();this.listHasSelectionOrFocus.set(ui.length>0||mi.length>0)})),this.disposables.add(jn.onDidChangeConfiguration(ui=>{ui.affectsConfiguration(It)&&(this._useAltAsMultipleSelectionModifier=K(jn));let mi={};if(ui.affectsConfiguration(Ht)&&void 0===this.horizontalScrolling){const Mi=Boolean(jn.getValue(Ht));mi=Object.assign(Object.assign({},mi),{horizontalScrolling:Mi})}if(ui.affectsConfiguration(Kn)){const Mi=Boolean(jn.getValue(Kn));mi=Object.assign(Object.assign({},mi),{smoothScrolling:Mi})}if(ui.affectsConfiguration(Zn)){const Mi=jn.getValue(Zn);mi=Object.assign(Object.assign({},mi),{mouseWheelScrollSensitivity:Mi})}if(ui.affectsConfiguration(_t)){const Mi=jn.getValue(_t);mi=Object.assign(Object.assign({},mi),{fastScrollSensitivity:Mi})}Object.keys(mi).length>0&&this.updateOptions(mi)})),this.navigator=new tn(this,Object.assign({configurationService:jn},zt)),this.disposables.add(this.navigator)}updateOptions(X){super.updateOptions(X),X.overrideStyles&&this.updateStyles(X.overrideStyles),void 0!==X.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!X.multipleSelectionSupport)}updateStyles(X){var Ce;null===(Ce=this._styler)||void 0===Ce||Ce.dispose(),this._styler=(0,Si.Jl)(this,this.themeService,X)}dispose(){var X;null===(X=this._styler)||void 0===X||X.dispose(),super.dispose()}};Re=Li([Yn(5,Tn.i6),Yn(6,fi),Yn(7,xi.XE),Yn(8,In.Ui),Yn(9,Gn.TG)],Re);let Xe=class extends class a{constructor(X,Ce,tt,Rt,zt={}){const dn=()=>this.model,Sn=Rt.map(Nn=>new k(Nn,dn));this.list=new A.aV(X,Ce,tt,Sn,function _(Jt,X){return Object.assign(Object.assign({},X),{accessibilityProvider:X.accessibilityProvider&&new N(Jt,X.accessibilityProvider)})}(dn,zt))}updateOptions(X){this.list.updateOptions(X)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return M.ju.map(this.list.onMouseDblClick,({element:X,index:Ce,browserEvent:tt})=>({element:void 0===X?void 0:this._model.get(X),index:Ce,browserEvent:tt}))}get onPointer(){return M.ju.map(this.list.onPointer,({element:X,index:Ce,browserEvent:tt})=>({element:void 0===X?void 0:this._model.get(X),index:Ce,browserEvent:tt}))}get onDidChangeSelection(){return M.ju.map(this.list.onDidChangeSelection,({elements:X,indexes:Ce,browserEvent:tt})=>({elements:X.map(Rt=>this._model.get(Rt)),indexes:Ce,browserEvent:tt}))}get model(){return this._model}set model(X){this._model=X,this.list.splice(0,this.list.length,(0,s.w6)(X.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(X=>this.model.get(X))}style(X){this.list.style(X)}dispose(){this.list.dispose()}}{constructor(X,Ce,tt,Rt,zt,dn,Sn,Nn,jn,$n){const Xn=void 0!==zt.horizontalScrolling?zt.horizontalScrolling:Boolean(jn.getValue(Ht)),[ci,Jn]=$n.invokeFunction(we,zt);super(X,Ce,tt,Rt,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Si.o)(Nn.getColorTheme(),Si.O2)),ci),{horizontalScrolling:Xn})),this.disposables=new u.SL,this.disposables.add(Jn),this.contextKeyService=St(dn,this),this.themeService=Nn,this.horizontalScrolling=zt.horizontalScrolling,this.listSupportsMultiSelect=bt.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==zt.multipleSelectionSupport),Ot.bindTo(this.contextKeyService).set(Boolean(zt.selectionNavigation)),this._useAltAsMultipleSelectionModifier=K(jn),this.disposables.add(this.contextKeyService),this.disposables.add(Sn.register(this)),zt.overrideStyles&&this.updateStyles(zt.overrideStyles),zt.overrideStyles&&this.disposables.add((0,Si.Jl)(this,Nn,zt.overrideStyles)),this.disposables.add(jn.onDidChangeConfiguration(ui=>{ui.affectsConfiguration(It)&&(this._useAltAsMultipleSelectionModifier=K(jn));let mi={};if(ui.affectsConfiguration(Ht)&&void 0===this.horizontalScrolling){const Mi=Boolean(jn.getValue(Ht));mi=Object.assign(Object.assign({},mi),{horizontalScrolling:Mi})}if(ui.affectsConfiguration(Kn)){const Mi=Boolean(jn.getValue(Kn));mi=Object.assign(Object.assign({},mi),{smoothScrolling:Mi})}if(ui.affectsConfiguration(Zn)){const Mi=jn.getValue(Zn);mi=Object.assign(Object.assign({},mi),{mouseWheelScrollSensitivity:Mi})}if(ui.affectsConfiguration(_t)){const Mi=jn.getValue(_t);mi=Object.assign(Object.assign({},mi),{fastScrollSensitivity:Mi})}Object.keys(mi).length>0&&this.updateOptions(mi)})),this.navigator=new tn(this,Object.assign({configurationService:jn},zt)),this.disposables.add(this.navigator)}updateOptions(X){super.updateOptions(X),X.overrideStyles&&this.updateStyles(X.overrideStyles),void 0!==X.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!X.multipleSelectionSupport)}updateStyles(X){var Ce;null===(Ce=this._styler)||void 0===Ce||Ce.dispose(),this._styler=(0,Si.Jl)(this,this.themeService,X)}dispose(){var X;null===(X=this._styler)||void 0===X||X.dispose(),this.disposables.dispose(),super.dispose()}};Xe=Li([Yn(5,Tn.i6),Yn(6,fi),Yn(7,xi.XE),Yn(8,In.Ui),Yn(9,Gn.TG)],Xe);let xt=class extends z{constructor(X,Ce,tt,Rt,zt,dn,Sn,Nn,jn,$n,Xn){const ci=void 0!==dn.horizontalScrolling?dn.horizontalScrolling:Boolean($n.getValue(Ht)),[Jn,ni]=Xn.invokeFunction(we,dn);super(X,Ce,tt,Rt,zt,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Si.o)(jn.getColorTheme(),Si.O2)),Jn),{horizontalScrolling:ci})),this.disposables.add(ni),this.contextKeyService=St(Sn,this),this.themeService=jn,this.listSupportsMultiSelect=bt.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==dn.multipleSelectionSupport),Ot.bindTo(this.contextKeyService).set(Boolean(dn.selectionNavigation)),this.listHasSelectionOrFocus=Ft.bindTo(this.contextKeyService),this.listDoubleSelection=un.bindTo(this.contextKeyService),this.listMultiSelection=ln.bindTo(this.contextKeyService),this.horizontalScrolling=dn.horizontalScrolling,this._useAltAsMultipleSelectionModifier=K($n),this.disposables.add(this.contextKeyService),this.disposables.add(Nn.register(this)),dn.overrideStyles&&this.updateStyles(dn.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const mi=this.getSelection(),Mi=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(mi.length>0||Mi.length>0),this.listMultiSelection.set(mi.length>1),this.listDoubleSelection.set(2===mi.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const mi=this.getSelection(),Mi=this.getFocus();this.listHasSelectionOrFocus.set(mi.length>0||Mi.length>0)})),this.disposables.add($n.onDidChangeConfiguration(mi=>{mi.affectsConfiguration(It)&&(this._useAltAsMultipleSelectionModifier=K($n));let Mi={};if(mi.affectsConfiguration(Ht)&&void 0===this.horizontalScrolling){const $i=Boolean($n.getValue(Ht));Mi=Object.assign(Object.assign({},Mi),{horizontalScrolling:$i})}if(mi.affectsConfiguration(Kn)){const $i=Boolean($n.getValue(Kn));Mi=Object.assign(Object.assign({},Mi),{smoothScrolling:$i})}if(mi.affectsConfiguration(Zn)){const $i=$n.getValue(Zn);Mi=Object.assign(Object.assign({},Mi),{mouseWheelScrollSensitivity:$i})}if(mi.affectsConfiguration(_t)){const $i=$n.getValue(_t);Mi=Object.assign(Object.assign({},Mi),{fastScrollSensitivity:$i})}Object.keys(Mi).length>0&&this.updateOptions(Mi)})),this.navigator=new an(this,Object.assign({configurationService:$n},dn)),this.disposables.add(this.navigator)}updateOptions(X){super.updateOptions(X),X.overrideStyles&&this.updateStyles(X.overrideStyles),void 0!==X.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!X.multipleSelectionSupport)}updateStyles(X){var Ce;null===(Ce=this._styler)||void 0===Ce||Ce.dispose(),this._styler=(0,Si.Jl)(this,this.themeService,X)}dispose(){var X;null===(X=this._styler)||void 0===X||X.dispose(),this.disposables.dispose(),super.dispose()}};xt=Li([Yn(6,Tn.i6),Yn(7,fi),Yn(8,xi.XE),Yn(9,In.Ui),Yn(10,Gn.TG)],xt);class At extends u.JT{constructor(X,Ce){var tt;super(),this.widget=X,this._onDidOpen=this._register(new M.Q5),this.onDidOpen=this._onDidOpen.event,this._register(M.ju.filter(this.widget.onDidChangeSelection,Rt=>Rt.browserEvent instanceof KeyboardEvent)(Rt=>this.onSelectionFromKeyboard(Rt))),this._register(this.widget.onPointer(Rt=>this.onPointer(Rt.element,Rt.browserEvent))),this._register(this.widget.onMouseDblClick(Rt=>this.onMouseDblClick(Rt.element,Rt.browserEvent))),"boolean"!=typeof(null==Ce?void 0:Ce.openOnSingleClick)&&(null==Ce?void 0:Ce.configurationService)?(this.openOnSingleClick="doubleClick"!==(null==Ce?void 0:Ce.configurationService.getValue(Zt)),this._register(null==Ce?void 0:Ce.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick="doubleClick"!==(null==Ce?void 0:Ce.configurationService.getValue(Zt))}))):this.openOnSingleClick=null===(tt=null==Ce?void 0:Ce.openOnSingleClick)||void 0===tt||tt}onSelectionFromKeyboard(X){if(1!==X.elements.length)return;const Ce=X.browserEvent,tt="boolean"!=typeof Ce.preserveFocus||Ce.preserveFocus,Rt="boolean"==typeof Ce.pinned?Ce.pinned:!tt;this._open(this.getSelectedElement(),tt,Rt,!1,X.browserEvent)}onPointer(X,Ce){this.openOnSingleClick&&2!==Ce.detail&&this._open(X,!0,1===Ce.button,Ce.ctrlKey||Ce.metaKey||Ce.altKey,Ce)}onMouseDblClick(X,Ce){if(!Ce)return;const tt=Ce.target;tt.classList.contains("monaco-tl-twistie")||tt.classList.contains("monaco-icon-label")&&tt.classList.contains("folder-icon")&&Ce.offsetX<16||this._open(X,!1,!0,Ce.ctrlKey||Ce.metaKey||Ce.altKey,Ce)}_open(X,Ce,tt,Rt,zt){!X||this._onDidOpen.fire({editorOptions:{preserveFocus:Ce,pinned:tt,revealIfVisible:!0},sideBySide:Rt,element:X,browserEvent:zt})}}class tn extends At{constructor(X,Ce){super(X,Ce),this.widget=X}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class an extends At{constructor(X,Ce){super(X,Ce)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class fn extends At{constructor(X,Ce){super(X,Ce)}getSelectedElement(){var X;return null!==(X=this.widget.getSelection()[0])&&void 0!==X?X:void 0}}function gn(Jt){let X=!1;return Ce=>{if(Ce.toKeybinding().isModifierKey())return!1;if(X)return X=!1,!1;const tt=Jt.softDispatch(Ce,Ce.target);return null!=tt&&tt.enterChord?(X=!0,!1):(X=!1,!tt)}}let Ln=class extends Ct{constructor(X,Ce,tt,Rt,zt,dn,Sn,Nn,jn,$n){const{options:Xn,getTypeNavigationMode:ci,disposable:Jn}=dn.invokeFunction(ii,zt);super(X,Ce,tt,Rt,Xn),this.disposables.add(Jn),this.internals=new Ni(this,zt,ci,zt.overrideStyles,Sn,Nn,jn,$n),this.disposables.add(this.internals)}updateOptions(X){super.updateOptions(X),this.internals.updateOptions(X)}};Ln=Li([Yn(5,Gn.TG),Yn(6,Tn.i6),Yn(7,fi),Yn(8,xi.XE),Yn(9,In.Ui)],Ln);let Rn=class extends yn{constructor(X,Ce,tt,Rt,zt,dn,Sn,Nn,jn,$n){const{options:Xn,getTypeNavigationMode:ci,disposable:Jn}=dn.invokeFunction(ii,zt);super(X,Ce,tt,Rt,Xn),this.disposables.add(Jn),this.internals=new Ni(this,zt,ci,zt.overrideStyles,Sn,Nn,jn,$n),this.disposables.add(this.internals)}updateOptions(X={}){super.updateOptions(X),X.overrideStyles&&this.internals.updateStyleOverrides(X.overrideStyles),this.internals.updateOptions(X)}};Rn=Li([Yn(5,Gn.TG),Yn(6,Tn.i6),Yn(7,fi),Yn(8,xi.XE),Yn(9,In.Ui)],Rn);let zn=class extends pn{constructor(X,Ce,tt,Rt,zt,dn,Sn,Nn,jn,$n,Xn){const{options:ci,getTypeNavigationMode:Jn,disposable:ni}=Sn.invokeFunction(ii,dn);super(X,Ce,tt,Rt,zt,ci),this.disposables.add(ni),this.internals=new Ni(this,dn,Jn,dn.overrideStyles,Nn,jn,$n,Xn),this.disposables.add(this.internals)}updateOptions(X={}){super.updateOptions(X),X.overrideStyles&&this.internals.updateStyleOverrides(X.overrideStyles),this.internals.updateOptions(X)}};zn=Li([Yn(6,Gn.TG),Yn(7,Tn.i6),Yn(8,fi),Yn(9,xi.XE),Yn(10,In.Ui)],zn);let Vn=class extends We{constructor(X,Ce,tt,Rt,zt,dn,Sn,Nn,jn,$n,Xn){const{options:ci,getTypeNavigationMode:Jn,disposable:ni}=Sn.invokeFunction(ii,dn);super(X,Ce,tt,Rt,zt,ci),this.disposables.add(ni),this.internals=new Ni(this,dn,Jn,dn.overrideStyles,Nn,jn,$n,Xn),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(X={}){super.updateOptions(X),X.overrideStyles&&this.internals.updateStyleOverrides(X.overrideStyles),this.internals.updateOptions(X)}};Vn=Li([Yn(6,Gn.TG),Yn(7,Tn.i6),Yn(8,fi),Yn(9,xi.XE),Yn(10,In.Ui)],Vn);let oi=class extends Ut{constructor(X,Ce,tt,Rt,zt,dn,Sn,Nn,jn,$n,Xn,ci){const{options:Jn,getTypeNavigationMode:ni,disposable:ui}=Nn.invokeFunction(ii,Sn);super(X,Ce,tt,Rt,zt,dn,Jn),this.disposables.add(ui),this.internals=new Ni(this,Sn,ni,Sn.overrideStyles,jn,$n,Xn,ci),this.disposables.add(this.internals)}updateOptions(X){super.updateOptions(X),this.internals.updateOptions(X)}};function hi(Jt){const X=Jt.getValue(Pt);if("highlight"===X)return ot.Highlight;if("filter"===X)return ot.Filter;const Ce=Jt.getValue(wn);return"simple"===Ce||"highlight"===Ce?ot.Highlight:"filter"===Ce?ot.Filter:void 0}function ii(Jt,X){var Ce;const tt=Jt.get(In.Ui),Rt=Jt.get(An.u),zt=Jt.get(Tn.i6),dn=Jt.get(Gn.TG),Nn=void 0!==X.horizontalScrolling?X.horizontalScrolling:Boolean(tt.getValue(Ht)),[jn,$n]=dn.invokeFunction(we,X),Xn=X.additionalScrollHeight;return{getTypeNavigationMode:()=>{const ci=zt.getContextKeyValue(Ge);return"automatic"===ci?A.AA.Automatic:"trigger"===ci||!1===zt.getContextKeyValue(ct)?A.AA.Trigger:void 0},disposable:$n,options:Object.assign(Object.assign({keyboardSupport:!1},jn),{indent:"number"==typeof tt.getValue(Fn)?tt.getValue(Fn):void 0,renderIndentGuides:tt.getValue(Qt),smoothScrolling:Boolean(tt.getValue(Kn)),defaultFindMode:hi(tt),horizontalScrolling:Nn,additionalScrollHeight:Xn,hideTwistiesOfChildlessElements:X.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(Ce=X.expandOnlyOnTwistieClick)&&void 0!==Ce?Ce:"doubleClick"===tt.getValue(D),contextViewProvider:Rt})}}oi=Li([Yn(7,Gn.TG),Yn(8,Tn.i6),Yn(9,fi),Yn(10,xi.XE),Yn(11,In.Ui)],oi);let Ni=class{constructor(X,Ce,tt,Rt,zt,dn,Sn,Nn){var jn;this.tree=X,this.themeService=Sn,this.disposables=[],this.contextKeyService=St(zt,X),this.listSupportsMultiSelect=bt.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==Ce.multipleSelectionSupport),Ot.bindTo(this.contextKeyService).set(Boolean(Ce.selectionNavigation)),this.listSupportFindWidget=$e.bindTo(this.contextKeyService),this.listSupportFindWidget.set(null===(jn=Ce.findWidgetEnabled)||void 0===jn||jn),this.hasSelectionOrFocus=Ft.bindTo(this.contextKeyService),this.hasDoubleSelection=un.bindTo(this.contextKeyService),this.hasMultiSelection=ln.bindTo(this.contextKeyService),this.treeElementCanCollapse=wt.bindTo(this.contextKeyService),this.treeElementHasParent=Bt.bindTo(this.contextKeyService),this.treeElementCanExpand=Xt.bindTo(this.contextKeyService),this.treeElementHasChild=nn.bindTo(this.contextKeyService),this.treeFindOpen=Kt.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=K(Nn),this.updateStyleOverrides(Rt);const Xn=()=>{const Jn=X.getFocus()[0];if(!Jn)return;const ni=X.getNode(Jn);this.treeElementCanCollapse.set(ni.collapsible&&!ni.collapsed),this.treeElementHasParent.set(!!X.getParentElement(Jn)),this.treeElementCanExpand.set(ni.collapsible&&ni.collapsed),this.treeElementHasChild.set(!!X.getFirstElementChild(Jn))},ci=new Set;ci.add(Ge),ci.add(ct),this.disposables.push(this.contextKeyService,dn.register(X),X.onDidChangeSelection(()=>{const Jn=X.getSelection(),ni=X.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(Jn.length>0||ni.length>0),this.hasMultiSelection.set(Jn.length>1),this.hasDoubleSelection.set(2===Jn.length)})}),X.onDidChangeFocus(()=>{const Jn=X.getSelection(),ni=X.getFocus();this.hasSelectionOrFocus.set(Jn.length>0||ni.length>0),Xn()}),X.onDidChangeCollapseState(Xn),X.onDidChangeModel(Xn),X.onDidChangeFindOpenState(Jn=>this.treeFindOpen.set(Jn)),Nn.onDidChangeConfiguration(Jn=>{let ni={};if(Jn.affectsConfiguration(It)&&(this._useAltAsMultipleSelectionModifier=K(Nn)),Jn.affectsConfiguration(Fn)){const ui=Nn.getValue(Fn);ni=Object.assign(Object.assign({},ni),{indent:ui})}if(Jn.affectsConfiguration(Qt)){const ui=Nn.getValue(Qt);ni=Object.assign(Object.assign({},ni),{renderIndentGuides:ui})}if(Jn.affectsConfiguration(Kn)){const ui=Boolean(Nn.getValue(Kn));ni=Object.assign(Object.assign({},ni),{smoothScrolling:ui})}if((Jn.affectsConfiguration(Pt)||Jn.affectsConfiguration(wn))&&X.updateOptions({defaultFindMode:hi(Nn)}),Jn.affectsConfiguration(Ht)&&void 0===Ce.horizontalScrolling){const ui=Boolean(Nn.getValue(Ht));ni=Object.assign(Object.assign({},ni),{horizontalScrolling:ui})}if(Jn.affectsConfiguration(D)&&void 0===Ce.expandOnlyOnTwistieClick&&(ni=Object.assign(Object.assign({},ni),{expandOnlyOnTwistieClick:"doubleClick"===Nn.getValue(D)})),Jn.affectsConfiguration(Zn)){const ui=Nn.getValue(Zn);ni=Object.assign(Object.assign({},ni),{mouseWheelScrollSensitivity:ui})}if(Jn.affectsConfiguration(_t)){const ui=Nn.getValue(_t);ni=Object.assign(Object.assign({},ni),{fastScrollSensitivity:ui})}Object.keys(ni).length>0&&X.updateOptions(ni)}),this.contextKeyService.onDidChangeContext(Jn=>{Jn.affectsSome(ci)&&X.updateOptions({typeNavigationMode:tt()})})),this.navigator=new fn(X,Object.assign({configurationService:Nn},Ce)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(X){void 0!==X.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!X.multipleSelectionSupport)}updateStyleOverrides(X){(0,u.B9)(this.styler),this.styler=X?(0,Si.Jl)(this.tree,this.themeService,X):u.JT.None}dispose(){this.disposables=(0,u.B9)(this.disposables),(0,u.B9)(this.styler),this.styler=void 0}};Ni=Li([Yn(4,Tn.i6),Yn(5,fi),Yn(6,xi.XE),Yn(7,In.Ui)],Ni),si.B.as(On.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,pe.NC)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[It]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,pe.NC)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,pe.NC)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,pe.NC)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[Zt]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,pe.NC)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Ht]:{type:"boolean",default:!1,description:(0,pe.NC)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[Fn]:{type:"number",default:8,minimum:4,maximum:40,description:(0,pe.NC)("tree indent setting","Controls tree indentation in pixels.")},[Qt]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,pe.NC)("render tree indent guides","Controls whether the tree should render indent guides.")},[Kn]:{type:"boolean",default:!1,description:(0,pe.NC)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[Zn]:{type:"number",default:1,markdownDescription:(0,pe.NC)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[_t]:{type:"number",default:5,description:(0,pe.NC)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[Pt]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,pe.NC)("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),(0,pe.NC)("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:(0,pe.NC)("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[wn]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,pe.NC)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,pe.NC)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,pe.NC)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,pe.NC)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:(0,pe.NC)("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' instead.")},[D]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,pe.NC)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}})},42241:(at,ue,e)=>{"use strict";e.d(ue,{$V:()=>N,VZ:()=>M,in:()=>u,kw:()=>k});var f=e(52787),s=e(52425);const M=(0,e(64725).yh)("logService");var u=(()=>{return(_=u||(u={}))[_.Trace=0]="Trace",_[_.Debug=1]="Debug",_[_.Info=2]="Info",_[_.Warning=3]="Warning",_[_.Error=4]="Error",_[_.Critical=5]="Critical",_[_.Off=6]="Off",u;var _})();const P=u.Info;class A extends s.JT{constructor(){super(...arguments),this.level=P,this._onDidChangeLogLevel=this._register(new f.Q5)}setLevel(a){this.level!==a&&(this.level=a,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class k extends A{constructor(a=P){super(),this.setLevel(a)}trace(a,...p){this.getLevel()<=u.Trace&&console.log("%cTRACE","color: #888",a,...p)}debug(a,...p){this.getLevel()<=u.Debug&&console.log("%cDEBUG","background: #eee; color: #888",a,...p)}info(a,...p){this.getLevel()<=u.Info&&console.log("%c INFO","color: #33f",a,...p)}error(a,...p){this.getLevel()<=u.Error&&console.log("%c  ERR","color: #f33",a,...p)}dispose(){}}class N extends s.JT{constructor(a){super(),this.logger=a,this._register(a)}getLevel(){return this.logger.getLevel()}trace(a,...p){this.logger.trace(a,...p)}debug(a,...p){this.logger.debug(a,...p)}info(a,...p){this.logger.info(a,...p)}error(a,...p){this.logger.error(a,...p)}}},12882:(at,ue,e)=>{"use strict";e.d(ue,{H0:()=>u,ZL:()=>M,lT:()=>P});var u,f=e(63570),s=e(40402),L=e(64725),M=(()=>{return(A=M||(M={}))[A.Hint=1]="Hint",A[A.Info=2]="Info",A[A.Warning=4]="Warning",A[A.Error=8]="Error",M;var A})();!function(A){A.compare=function k(c,n){return n-c};const N=Object.create(null);N[A.Error]=(0,s.NC)("sev.error","Error"),N[A.Warning]=(0,s.NC)("sev.warning","Warning"),N[A.Info]=(0,s.NC)("sev.info","Info"),A.toString=function _(c){return N[c]||""},A.fromSeverity=function a(c){switch(c){case f.Z.Error:return A.Error;case f.Z.Warning:return A.Warning;case f.Z.Info:return A.Info;case f.Z.Ignore:return A.Hint}},A.toSeverity=function p(c){switch(c){case A.Error:return f.Z.Error;case A.Warning:return f.Z.Warning;case A.Info:return f.Z.Info;case A.Hint:return f.Z.Ignore}}}(M||(M={})),function(A){const k="";function _(a,p){const c=[k];return c.push(a.source?a.source.replace("\xa6","\\\xa6"):k),c.push(a.code?"string"==typeof a.code?a.code.replace("\xa6","\\\xa6"):a.code.value.replace("\xa6","\\\xa6"):k),c.push(null!=a.severity?M.toString(a.severity):k),c.push(a.message&&p?a.message.replace("\xa6","\\\xa6"):k),c.push(null!=a.startLineNumber?a.startLineNumber.toString():k),c.push(null!=a.startColumn?a.startColumn.toString():k),c.push(null!=a.endLineNumber?a.endLineNumber.toString():k),c.push(null!=a.endColumn?a.endColumn.toString():k),c.push(k),c.join("\xa6")}A.makeKey=function N(a){return _(a,!0)},A.makeKeyOptionalMessage=_}(u||(u={}));const P=(0,L.yh)("markerService")},78782:(at,ue,e)=>{"use strict";e.d(ue,{EO:()=>u,lT:()=>M,zb:()=>L});var f=e(63570),s=e(64725),L=f.Z;const M=(0,s.yh)("notificationService");class u{}},26589:(at,ue,e)=>{"use strict";e.d(ue,{Gs:()=>N,SW:()=>A,v4:()=>P,xI:()=>_,xn:()=>k});var f=e(52425),s=e(93059),L=e(74672),M=e(64725),u=function(a,p,c,n){return new(c||(c=Promise))(function(v,d){function m(S){try{y(n.next(S))}catch(b){d(b)}}function I(S){try{y(n.throw(S))}catch(b){d(b)}}function y(S){S.done?v(S.value):function l(v){return v instanceof c?v:new c(function(d){d(v)})}(S.value).then(m,I)}y((n=n.apply(a,p||[])).next())})};const P=(0,M.yh)("openerService"),A=Object.freeze({_serviceBrand:void 0,registerOpener:()=>f.JT.None,registerValidator:()=>f.JT.None,registerExternalUriResolver:()=>f.JT.None,setDefaultExternalOpener(){},registerExternalOpener:()=>f.JT.None,open(){return u(this,void 0,void 0,function*(){return!1})},resolveExternalUri(a){return u(this,void 0,void 0,function*(){return{resolved:a,dispose(){}}})}});function k(a,p){return L.o.isUri(a)?(0,s.qq)(a.scheme,p):(0,s.ok)(a,p+":")}function N(a,...p){return p.some(c=>k(a,c))}function _(a){let p;const c=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(a.fragment);return c&&(p={startLineNumber:parseInt(c[1]),startColumn:c[2]?parseInt(c[2]):1,endLineNumber:c[4]?parseInt(c[4]):void 0,endColumn:c[4]?c[5]?parseInt(c[5]):1:void 0},a=a.with({fragment:""})),{selection:p,uri:a}}},22534:(at,ue,e)=>{"use strict";e.d(ue,{Ex:()=>M,R9:()=>s,ek:()=>u});var f=e(64725);const s=(0,f.yh)("progressService");Object.freeze({total(){},worked(){},done(){}});class M{constructor(A){this.callback=A}report(A){this._value=A,this.callback(this._value)}}M.None=Object.freeze({report(){}});const u=(0,f.yh)("editorProgressService")},54203:(at,ue,e)=>{"use strict";e.d(ue,{IP:()=>u,Ry:()=>M});var f=e(18337),s=e(52425),L=e(29537),M=(()=>{return(A=M||(M={}))[A.PRESERVE=0]="PRESERVE",A[A.LAST=1]="LAST",M;var A})();const u={Quickaccess:"workbench.contributions.quickaccess"};L.B.add(u.Quickaccess,new class P{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(k){return 0===k.prefix.length?this.defaultProvider=k:this.providers.push(k),this.providers.sort((N,_)=>_.prefix.length-N.prefix.length),(0,s.OF)(()=>{this.providers.splice(this.providers.indexOf(k),1),this.defaultProvider===k&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,f.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(k){return k&&this.providers.find(_=>k.startsWith(_.prefix))||this.defaultProvider}})},17098:(at,ue,e)=>{"use strict";e.d(ue,{eJ:()=>L,jG:()=>s.jG});var f=e(64725),s=e(42099);const L=(0,f.yh)("quickInputService")},29537:(at,ue,e)=>{"use strict";e.d(ue,{B:()=>M});var f=e(48797),s=e(54435);const M=new class L{constructor(){this.data=new Map}add(P,A){f.ok(s.HD(P)),f.ok(s.Kn(A)),f.ok(!this.data.has(P),"There is already an extension with this id"),this.data.set(P,A)}as(P){return this.data.get(P)||null}}},99571:(at,ue,e)=>{"use strict";e.d(ue,{Uy:()=>a,vm:()=>n,fk:()=>p});var f=e(52787),s=e(52425),L=e(54435),M=e(63072),u=function(l,v,d,m){return new(d||(d=Promise))(function(y,S){function b(R){try{T(m.next(R))}catch(Q){S(Q)}}function x(R){try{T(m.throw(R))}catch(Q){S(Q)}}function T(R){R.done?y(R.value):function I(y){return y instanceof d?y:new d(function(S){S(y)})}(R.value).then(b,x)}T((m=m.apply(l,v||[])).next())})},P=(()=>{return(l=P||(P={}))[l.None=0]="None",l[l.Initialized=1]="Initialized",l[l.Closed=2]="Closed",P;var l})();let A=(()=>{class l extends s.JT{constructor(d,m=Object.create(null)){super(),this.database=d,this.options=m,this._onDidChangeStorage=this._register(new f.Q5),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=P.None,this.cache=new Map,this.flushDelayer=new M.rH(l.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(d=>this.onDidChangeItemsExternal(d)))}onDidChangeItemsExternal(d){var m,I;null===(m=d.changed)||void 0===m||m.forEach((y,S)=>this.accept(S,y)),null===(I=d.deleted)||void 0===I||I.forEach(y=>this.accept(y,void 0))}accept(d,m){if(this.state===P.Closed)return;let I=!1;(0,L.Jp)(m)?I=this.cache.delete(d):this.cache.get(d)!==m&&(this.cache.set(d,m),I=!0),I&&this._onDidChangeStorage.fire(d)}get(d,m){const I=this.cache.get(d);return(0,L.Jp)(I)?m:I}getBoolean(d,m){const I=this.get(d);return(0,L.Jp)(I)?m:"true"===I}getNumber(d,m){const I=this.get(d);return(0,L.Jp)(I)?m:parseInt(I,10)}set(d,m){return u(this,void 0,void 0,function*(){if(this.state===P.Closed)return;if((0,L.Jp)(m))return this.delete(d);const I=String(m);return this.cache.get(d)!==I?(this.cache.set(d,I),this.pendingInserts.set(d,I),this.pendingDeletes.delete(d),this._onDidChangeStorage.fire(d),this.doFlush()):void 0})}delete(d){return u(this,void 0,void 0,function*(){if(this.state!==P.Closed&&this.cache.delete(d))return this.pendingDeletes.has(d)||this.pendingDeletes.add(d),this.pendingInserts.delete(d),this._onDidChangeStorage.fire(d),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return u(this,void 0,void 0,function*(){if(!this.hasPending)return;const d={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(d).finally(()=>{var m;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)null===(m=this.whenFlushedCallbacks.pop())||void 0===m||m()})})}doFlush(d){return u(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),d)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}return l.DEFAULT_FLUSH_DELAY=100,l})();class k{constructor(){this.onDidChangeItemsExternal=f.ju.None,this.items=new Map}updateItems(v){var d,m;return u(this,void 0,void 0,function*(){null===(d=v.insert)||void 0===d||d.forEach((I,y)=>this.items.set(y,I)),null===(m=v.delete)||void 0===m||m.forEach(I=>this.items.delete(I))})}}var N=e(64725);const _="__$__targetStorageMarker",a=(0,N.yh)("storageService");var p=(()=>{return(l=p||(p={}))[l.NONE=0]="NONE",l[l.SHUTDOWN=1]="SHUTDOWN",p;var l})();let c=(()=>{class l extends s.JT{constructor(d={flushInterval:l.DEFAULT_FLUSH_INTERVAL}){super(),this.options=d,this._onDidChangeValue=this._register(new f.K3),this.onDidChangeValue=this._onDidChangeValue.event,this._onDidChangeTarget=this._register(new f.K3),this._onWillSaveState=this._register(new f.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}emitDidChangeValue(d,m){if(m===_){switch(d){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0}this._onDidChangeTarget.fire({scope:d})}else this._onDidChangeValue.fire({scope:d,key:m,target:this.getKeyTargets(d)[m]})}get(d,m,I){var y;return null===(y=this.getStorage(m))||void 0===y?void 0:y.get(d,I)}getBoolean(d,m,I){var y;return null===(y=this.getStorage(m))||void 0===y?void 0:y.getBoolean(d,I)}getNumber(d,m,I){var y;return null===(y=this.getStorage(m))||void 0===y?void 0:y.getNumber(d,I)}store(d,m,I,y){(0,L.Jp)(m)?this.remove(d,I):this.withPausedEmitters(()=>{var S;this.updateKeyTarget(d,I,y),null===(S=this.getStorage(I))||void 0===S||S.set(d,m)})}remove(d,m){this.withPausedEmitters(()=>{var I;this.updateKeyTarget(d,m,void 0),null===(I=this.getStorage(m))||void 0===I||I.delete(d)})}withPausedEmitters(d){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{d()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(d,m,I){var y,S;const b=this.getKeyTargets(m);"number"==typeof I?b[d]!==I&&(b[d]=I,null===(y=this.getStorage(m))||void 0===y||y.set(_,JSON.stringify(b))):"number"==typeof b[d]&&(delete b[d],null===(S=this.getStorage(m))||void 0===S||S.set(_,JSON.stringify(b)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(d){switch(d){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(d){const m=this.get(_,d);if(m)try{return JSON.parse(m)}catch(I){}return Object.create(null)}}return l.DEFAULT_FLUSH_INTERVAL=6e4,l})();class n extends c{constructor(){super(),this.applicationStorage=this._register(new A(new k)),this.profileStorage=this._register(new A(new k)),this.workspaceStorage=this._register(new A(new k)),this._register(this.workspaceStorage.onDidChangeStorage(v=>this.emitDidChangeValue(1,v))),this._register(this.profileStorage.onDidChangeStorage(v=>this.emitDidChangeValue(0,v))),this._register(this.applicationStorage.onDidChangeStorage(v=>this.emitDidChangeValue(-1,v)))}getStorage(v){switch(v){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}},19881:(at,ue,e)=>{"use strict";e.d(ue,{b:()=>s});const s=(0,e(64725).yh)("telemetryService")},28708:(at,ue,e)=>{"use strict";e.d(ue,{$DX:()=>ii,$d5:()=>Pt,ABB:()=>lt,AS1:()=>wn,AWI:()=>jt,BOY:()=>Uo,Bqu:()=>Bt,C3g:()=>ee,CA6:()=>Zs,CNo:()=>pt,Cdg:()=>zn,CzK:()=>ri,D0T:()=>Fe,D1_:()=>Vt,DEr:()=>Vn,Dut:()=>hn,E3h:()=>Ni,EPQ:()=>be,EQn:()=>tn,ES4:()=>Un,EiJ:()=>Dn,F3d:()=>Zt,F9q:()=>bt,Fm_:()=>Cr,Fu1:()=>An,GO4:()=>Ae,Gj_:()=>es,Gwp:()=>Fn,HCL:()=>Tn,Hfx:()=>mt,Hz8:()=>oi,IPX:()=>N,IYc:()=>Wo,Ido:()=>v,Itd:()=>Zo,Ivo:()=>Ts,JpG:()=>ss,K19:()=>yn,LLc:()=>un,L_H:()=>Ue,L_t:()=>ln,LoV:()=>Et,M6C:()=>nn,MUv:()=>li,NOs:()=>nt,NPS:()=>gn,Ng6:()=>qt,OLZ:()=>Qs,OZR:()=>de,Oop:()=>wt,P4M:()=>xi,P6G:()=>c,P6Y:()=>mn,PRb:()=>Y,PX0:()=>Qt,PpC:()=>pn,Pvw:()=>$,QO2:()=>k,R80:()=>I,RV_:()=>me,Rzx:()=>ai,SPM:()=>Gs,SUG:()=>Ie,SUY:()=>Po,Saq:()=>q,Sbf:()=>it,Snq:()=>Co,SwI:()=>F,T83:()=>$t,Tnx:()=>Kt,UnT:()=>xt,VVv:()=>sn,Vqd:()=>Rn,XEs:()=>V,XL$:()=>Lt,XZx:()=>m,Xy4:()=>Ns,YI3:()=>fe,ZGJ:()=>Ki,ZnX:()=>_i,_2n:()=>$e,_Yy:()=>Ut,_bK:()=>Ot,_lC:()=>w,_t9:()=>he,_wn:()=>Je,b6y:()=>et,b7$:()=>Qe,bKB:()=>On,brw:()=>Ho,c63:()=>dt,cbQ:()=>Ln,cvW:()=>ke,dCr:()=>Xt,dRz:()=>n,dt_:()=>j,etL:()=>gt,fEB:()=>vn,few:()=>ze,g8u:()=>ne,g_n:()=>ei,gkn:()=>Dt,gpD:()=>Ze,hEj:()=>En,hX8:()=>In,hzo:()=>Li,j51:()=>fi,j5u:()=>_e,jUe:()=>Qn,jbW:()=>hi,kJk:()=>Yt,kVY:()=>ts,keg:()=>si,kvU:()=>St,kwl:()=>Ys,lRK:()=>y,lUq:()=>Jt,lWp:()=>rn,lXJ:()=>ot,loF:()=>en,mHy:()=>Ft,mV1:()=>Ht,nyM:()=>Di,oQ$:()=>Ct,oSI:()=>K,opG:()=>ht,ov3:()=>Vo,pW3:()=>Nt,paE:()=>ce,phM:()=>kn,pnM:()=>wi,ptc:()=>Le,qeD:()=>xe,rg2:()=>Ge,rh:()=>W,s$:()=>It,sEe:()=>B,sKV:()=>Gn,sgC:()=>R,tZ6:()=>Gt,uoC:()=>Mt,url:()=>T,uxu:()=>At,vGG:()=>D,xL1:()=>S,xi6:()=>Yn,y65:()=>we,yJx:()=>We,yb5:()=>xn,ynu:()=>Ke,ypS:()=>Si,ytC:()=>ct,zJb:()=>z,zKr:()=>Cn,zOm:()=>pi,zRJ:()=>He});var f=e(63072),s=e(68927),L=e(52787),M=e(54435),u=e(40402),P=e(83350),A=e(29537);function k(Ii){return`--vscode-${Ii.replace(/\./g,"-")}`}const N={ColorContribution:"base.contributions.colors"},a=new class _{constructor(){this._onDidChangeSchema=new L.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(Fi,Xi,ro,vo=!1,ao){this.colorsById[Fi]={id:Fi,description:ro,defaults:Xi,needsTransparency:vo,deprecationMessage:ao};const ps={type:"string",description:ro,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return ao&&(ps.deprecationMessage=ao),this.colorSchema.properties[Fi]=ps,this.colorReferenceSchema.enum.push(Fi),this.colorReferenceSchema.enumDescriptions.push(ro),this._onDidChangeSchema.fire(),Fi}getColors(){return Object.keys(this.colorsById).map(Fi=>this.colorsById[Fi])}resolveDefaultColor(Fi,Xi){const ro=this.colorsById[Fi];if(ro&&ro.defaults)return Co(ro.defaults[Xi.type],Xi)}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort((Xi,ro)=>{const vo=-1===Xi.indexOf(".")?0:1,ao=-1===ro.indexOf(".")?0:1;return vo!==ao?vo-ao:Xi.localeCompare(ro)}).map(Xi=>`- \`${Xi}\`: ${this.colorsById[Xi].description}`).join("\n")}};function c(Ii,Fi,Xi,ro,vo){return a.registerColor(Ii,function p(Ii){return null===Ii||void 0===Ii.hcLight&&(Ii.hcLight=null===Ii.hcDark||"string"==typeof Ii.hcDark?Ii.hcDark:Ii.light),Ii}(Fi),Xi,ro,vo)}A.B.add(N.ColorContribution,a);const n=c("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},u.NC("foreground","Overall foreground color. This color is only used if not overridden by a component.")),v=(c("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},u.NC("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),c("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},u.NC("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component."))),m=(c("descriptionForeground",{light:"#717171",dark:_i(n,.7),hcDark:_i(n,.7),hcLight:_i(n,.7)},u.NC("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),c("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},u.NC("iconForeground","The default color for icons in the workbench."))),I=c("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#0F4A85"},u.NC("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),y=c("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},u.NC("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),S=c("contrastActiveBorder",{light:null,dark:null,hcDark:I,hcLight:I},u.NC("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),T=(c("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},u.NC("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),c("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:s.Il.black,hcLight:"#292929"},u.NC("textSeparatorForeground","Color for text separators.")),c("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},u.NC("textLinkForeground","Foreground color for links in text."))),R=c("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},u.NC("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),F=(c("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},u.NC("textPreformatForeground","Foreground color for preformatted text segments.")),c("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},u.NC("textBlockQuoteBackground","Background color for block quotes in text.")),c("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:s.Il.white,hcLight:"#292929"},u.NC("textBlockQuoteBorder","Border color for block quotes in text.")),c("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:s.Il.black,hcLight:"#F2F2F2"},u.NC("textCodeBlockBackground","Background color for code blocks in text."))),W=c("widget.shadow",{dark:_i(s.Il.black,.36),light:_i(s.Il.black,.16),hcDark:null,hcLight:null},u.NC("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),B=c("input.background",{dark:"#3C3C3C",light:s.Il.white,hcDark:s.Il.black,hcLight:s.Il.white},u.NC("inputBoxBackground","Input box background.")),z=c("input.foreground",{dark:n,light:n,hcDark:n,hcLight:n},u.NC("inputBoxForeground","Input box foreground.")),j=c("input.border",{dark:null,light:null,hcDark:y,hcLight:y},u.NC("inputBoxBorder","Input box border.")),Y=c("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hcDark:y,hcLight:y},u.NC("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),V=(c("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},u.NC("inputOption.hoverBackground","Background color of activated options in input fields.")),c("inputOption.activeBackground",{dark:_i(I,.4),light:_i(I,.2),hcDark:s.Il.transparent,hcLight:s.Il.transparent},u.NC("inputOption.activeBackground","Background hover color of options in input fields."))),$=c("inputOption.activeForeground",{dark:s.Il.white,light:s.Il.black,hcDark:null,hcLight:n},u.NC("inputOption.activeForeground","Foreground color of activated options in input fields.")),w=(c("input.placeholderForeground",{light:_i(n,.5),dark:_i(n,.5),hcDark:_i(n,.7),hcLight:_i(n,.7)},u.NC("inputPlaceholderForeground","Input box foreground color for placeholder text.")),c("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:s.Il.black,hcLight:s.Il.white},u.NC("inputValidationInfoBackground","Input validation background color for information severity."))),fe=c("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:n},u.NC("inputValidationInfoForeground","Input validation foreground color for information severity.")),be=c("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:y,hcLight:y},u.NC("inputValidationInfoBorder","Input validation border color for information severity.")),me=c("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:s.Il.black,hcLight:s.Il.white},u.NC("inputValidationWarningBackground","Input validation background color for warning severity.")),Ie=c("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:n},u.NC("inputValidationWarningForeground","Input validation foreground color for warning severity.")),ee=c("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:y,hcLight:y},u.NC("inputValidationWarningBorder","Input validation border color for warning severity.")),ce=c("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:s.Il.black,hcLight:s.Il.white},u.NC("inputValidationErrorBackground","Input validation background color for error severity.")),he=c("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:n},u.NC("inputValidationErrorForeground","Input validation foreground color for error severity.")),de=c("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:y,hcLight:y},u.NC("inputValidationErrorBorder","Input validation border color for error severity.")),ge=c("dropdown.background",{dark:"#3C3C3C",light:s.Il.white,hcDark:s.Il.black,hcLight:s.Il.white},u.NC("dropdownBackground","Dropdown background.")),Se=(c("dropdown.listBackground",{dark:null,light:null,hcDark:s.Il.black,hcLight:s.Il.white},u.NC("dropdownListBackground","Dropdown list background.")),c("dropdown.foreground",{dark:"#F0F0F0",light:null,hcDark:s.Il.white,hcLight:n},u.NC("dropdownForeground","Dropdown foreground."))),Pe=c("dropdown.border",{dark:ge,light:"#CECECE",hcDark:y,hcLight:y},u.NC("dropdownBorder","Dropdown border.")),_e=(c("checkbox.background",{dark:ge,light:ge,hcDark:ge,hcLight:ge},u.NC("checkbox.background","Background color of checkbox widget.")),c("checkbox.foreground",{dark:Se,light:Se,hcDark:Se,hcLight:Se},u.NC("checkbox.foreground","Foreground color of checkbox widget.")),c("checkbox.border",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},u.NC("checkbox.border","Border color of checkbox widget.")),c("button.foreground",{dark:s.Il.white,light:s.Il.white,hcDark:s.Il.white,hcLight:s.Il.white},u.NC("buttonForeground","Button foreground color."))),Qe=(c("button.separator",{dark:_i(_e,.4),light:_i(_e,.4),hcDark:_i(_e,.4),hcLight:_i(_e,.4)},u.NC("buttonSeparator","Button separator color.")),c("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},u.NC("buttonBackground","Button background color."))),Ae=c("button.hoverBackground",{dark:go(Qe,.2),light:xo(Qe,.2),hcDark:null,hcLight:null},u.NC("buttonHoverBackground","Button background color when hovering.")),Oe=(c("button.border",{dark:y,light:y,hcDark:y,hcLight:y},u.NC("buttonBorder","Button border color.")),c("button.secondaryForeground",{dark:s.Il.white,light:s.Il.white,hcDark:s.Il.white,hcLight:n},u.NC("buttonSecondaryForeground","Secondary button foreground color.")),c("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:s.Il.white},u.NC("buttonSecondaryBackground","Secondary button background color."))),ne=(c("button.secondaryHoverBackground",{dark:go(Oe,.2),light:xo(Oe,.2),hcDark:null,hcLight:null},u.NC("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),c("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:s.Il.black,hcLight:"#0F4A85"},u.NC("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count."))),xe=c("badge.foreground",{dark:s.Il.white,light:"#333",hcDark:s.Il.white,hcLight:s.Il.white},u.NC("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Je=c("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},u.NC("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),gt=c("scrollbarSlider.background",{dark:s.Il.fromHex("#797979").transparent(.4),light:s.Il.fromHex("#646464").transparent(.4),hcDark:_i(y,.6),hcLight:_i(y,.4)},u.NC("scrollbarSliderBackground","Scrollbar slider background color.")),lt=c("scrollbarSlider.hoverBackground",{dark:s.Il.fromHex("#646464").transparent(.7),light:s.Il.fromHex("#646464").transparent(.7),hcDark:_i(y,.8),hcLight:_i(y,.8)},u.NC("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Ke=c("scrollbarSlider.activeBackground",{dark:s.Il.fromHex("#BFBFBF").transparent(.4),light:s.Il.fromHex("#000000").transparent(.6),hcDark:y,hcLight:y},u.NC("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),He=c("progressBar.background",{dark:s.Il.fromHex("#0E70C0"),light:s.Il.fromHex("#0E70C0"),hcDark:y,hcLight:y},u.NC("progressBarBackground","Background color of the progress bar that can show for long running operations.")),Ue=c("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},u.NC("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),ot=c("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},u.NC("editorError.foreground","Foreground color of error squigglies in the editor.")),et=c("editorError.border",{dark:null,light:null,hcDark:s.Il.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},u.NC("errorBorder","Border color of error boxes in the editor.")),Ze=c("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},u.NC("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Mt=c("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD37",hcLight:"#895503"},u.NC("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),Nt=c("editorWarning.border",{dark:null,light:null,hcDark:s.Il.fromHex("#FFCC00").transparent(.8),hcLight:"#"},u.NC("warningBorder","Border color of warning boxes in the editor.")),ze=c("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},u.NC("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),dt=c("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},u.NC("editorInfo.foreground","Foreground color of info squigglies in the editor.")),$t=c("editorInfo.border",{dark:null,light:null,hcDark:s.Il.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},u.NC("infoBorder","Border color of info boxes in the editor.")),hn=c("editorHint.foreground",{dark:s.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},u.NC("editorHint.foreground","Foreground color of hint squigglies in the editor.")),vn=c("editorHint.border",{dark:null,light:null,hcDark:s.Il.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},u.NC("hintBorder","Border color of hint boxes in the editor.")),ke=(c("sash.hoverBorder",{dark:I,light:I,hcDark:I,hcLight:I},u.NC("sashActiveBorder","Border color of active sashes.")),c("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:s.Il.black,hcLight:s.Il.white},u.NC("editorBackground","Editor background color."))),nt=c("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:s.Il.white,hcLight:n},u.NC("editorForeground","Editor default foreground color.")),Fe=(c("editorStickyScroll.background",{light:ke,dark:ke,hcDark:ke,hcLight:ke},u.NC("editorStickyScrollBackground","Sticky scroll background color for the editor")),c("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:s.Il.fromHex("#0F4A85").transparent(.1)},u.NC("editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor")),c("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:s.Il.white},u.NC("editorWidgetBackground","Background color of editor widgets, such as find/replace."))),mt=c("editorWidget.foreground",{dark:n,light:n,hcDark:n,hcLight:n},u.NC("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),Vt=c("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:y,hcLight:y},u.NC("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),qt=c("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},u.NC("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),Cn=c("quickInput.background",{dark:Fe,light:Fe,hcDark:Fe,hcLight:Fe},u.NC("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),Gt=c("quickInput.foreground",{dark:mt,light:mt,hcDark:mt,hcLight:mt},u.NC("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),en=c("quickInputTitle.background",{dark:new s.Il(new s.VS(255,255,255,.105)),light:new s.Il(new s.VS(0,0,0,.06)),hcDark:"#000000",hcLight:s.Il.white},u.NC("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Yt=c("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:s.Il.white,hcLight:"#0F4A85"},u.NC("pickerGroupForeground","Quick picker color for grouping labels.")),ht=c("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:s.Il.white,hcLight:"#0F4A85"},u.NC("pickerGroupBorder","Quick picker color for grouping borders.")),Ct=c("keybindingLabel.background",{dark:new s.Il(new s.VS(128,128,128,.17)),light:new s.Il(new s.VS(221,221,221,.4)),hcDark:s.Il.transparent,hcLight:s.Il.transparent},u.NC("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),rn=c("keybindingLabel.foreground",{dark:s.Il.fromHex("#CCCCCC"),light:s.Il.fromHex("#555555"),hcDark:s.Il.white,hcLight:n},u.NC("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),jt=c("keybindingLabel.border",{dark:new s.Il(new s.VS(51,51,51,.6)),light:new s.Il(new s.VS(204,204,204,.4)),hcDark:new s.Il(new s.VS(111,195,223)),hcLight:y},u.NC("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),yn=c("keybindingLabel.bottomBorder",{dark:new s.Il(new s.VS(68,68,68,.6)),light:new s.Il(new s.VS(187,187,187,.4)),hcDark:new s.Il(new s.VS(111,195,223)),hcLight:n},u.NC("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),En=c("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},u.NC("editorSelectionBackground","Color of the editor selection.")),xn=c("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:s.Il.white},u.NC("editorSelectionForeground","Color of the selected text for high contrast.")),Un=c("editor.inactiveSelectionBackground",{light:_i(En,.5),dark:_i(En,.5),hcDark:_i(En,.7),hcLight:_i(En,.5)},u.NC("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),ai=c("editor.selectionHighlightBackground",{light:Mo(En,ke,.3,.6),dark:Mo(En,ke,.3,.6),hcDark:null,hcLight:null},u.NC("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),ei=c("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:S,hcLight:S},u.NC("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),Di=c("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},u.NC("editorFindMatch","Color of the current search match.")),li=c("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},u.NC("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Qn=c("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},u.NC("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),wi=c("editor.findMatchBorder",{light:null,dark:null,hcDark:S,hcLight:S},u.NC("editorFindMatchBorder","Border color of the current search match.")),Dn=c("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:S,hcLight:S},u.NC("findMatchHighlightBorder","Border color of the other search matches.")),Dt=c("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:_i(S,.4),hcLight:_i(S,.4)},u.NC("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Le=(c("searchEditor.findMatchBackground",{light:_i(li,.66),dark:_i(li,.66),hcDark:li,hcLight:li},u.NC("searchEditor.queryMatch","Color of the Search Editor query matches.")),c("searchEditor.findMatchBorder",{light:_i(Dn,.66),dark:_i(Dn,.66),hcDark:Dn,hcLight:Dn},u.NC("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),c("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},u.NC("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0)),We=c("editorHoverWidget.background",{light:Fe,dark:Fe,hcDark:Fe,hcLight:Fe},u.NC("hoverBackground","Background color of the editor hover.")),it=c("editorHoverWidget.foreground",{light:mt,dark:mt,hcDark:mt,hcLight:mt},u.NC("hoverForeground","Foreground color of the editor hover.")),pt=c("editorHoverWidget.border",{light:Vt,dark:Vt,hcDark:Vt,hcLight:Vt},u.NC("hoverBorder","Border color of the editor hover.")),Et=c("editorHoverWidget.statusBarBackground",{dark:go(We,.2),light:xo(We,.05),hcDark:Fe,hcLight:Fe},u.NC("statusBarBackground","Background color of the editor hover status bar.")),Ut=c("editorLink.activeForeground",{dark:"#4E94CE",light:s.Il.blue,hcDark:s.Il.cyan,hcLight:"#292929"},u.NC("activeLinkForeground","Color of active links.")),sn=c("editorInlayHint.foreground",{dark:_i(xe,.8),light:_i(xe,.8),hcDark:xe,hcLight:xe},u.NC("editorInlayHintForeground","Foreground color of inline hints")),pn=c("editorInlayHint.background",{dark:_i(ne,.6),light:_i(ne,.3),hcDark:ne,hcLight:ne},u.NC("editorInlayHintBackground","Background color of inline hints")),In=c("editorInlayHint.typeForeground",{dark:sn,light:sn,hcDark:sn,hcLight:sn},u.NC("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),On=c("editorInlayHint.typeBackground",{dark:pn,light:pn,hcDark:pn,hcLight:pn},u.NC("editorInlayHintBackgroundTypes","Background color of inline hints for types")),Tn=c("editorInlayHint.parameterForeground",{dark:sn,light:sn,hcDark:sn,hcLight:sn},u.NC("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),kn=c("editorInlayHint.parameterBackground",{dark:pn,light:pn,hcDark:pn,hcLight:pn},u.NC("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),An=c("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},u.NC("editorLightBulbForeground","The color used for the lightbulb actions icon.")),Gn=c("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},u.NC("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),ri=new s.Il(new s.VS(155,185,85,.2)),si=new s.Il(new s.VS(255,0,0,.2)),Si=c("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c66",hcDark:null,hcLight:null},u.NC("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),xi=c("diffEditor.removedTextBackground",{dark:"#ff000066",light:"#ff00004d",hcDark:null,hcLight:null},u.NC("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Li=c("diffEditor.insertedLineBackground",{dark:ri,light:ri,hcDark:null,hcLight:null},u.NC("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Yn=c("diffEditor.removedLineBackground",{dark:si,light:si,hcDark:null,hcLight:null},u.NC("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),fi=c("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},u.NC("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),pi=c("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},u.NC("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),mn=c("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},u.NC("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),bt=c("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},u.NC("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),Lt=c("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},u.NC("diffEditorInsertedOutline","Outline color for the text that got inserted.")),Ft=c("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},u.NC("diffEditorRemovedOutline","Outline color for text that got removed.")),un=c("diffEditor.border",{dark:null,light:null,hcDark:y,hcLight:y},u.NC("diffEditorBorder","Border color between the two text editors.")),ln=c("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},u.NC("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),Ot=c("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},u.NC("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),$e=c("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},u.NC("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),wt=c("list.focusOutline",{dark:I,light:I,hcDark:S,hcLight:S},u.NC("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Bt=c("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},u.NC("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Xt=c("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:s.Il.fromHex("#0F4A85").transparent(.1)},u.NC("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),nn=c("list.activeSelectionForeground",{dark:s.Il.white,light:s.Il.white,hcDark:null,hcLight:null},u.NC("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Kt=c("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},u.NC("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ge=c("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:s.Il.fromHex("#0F4A85").transparent(.1)},u.NC("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ct=c("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},u.NC("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),St=c("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},u.NC("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),It=c("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},u.NC("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Zt=c("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},u.NC("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ht=c("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:s.Il.fromHex("#0F4A85").transparent(.1)},u.NC("listHoverBackground","List/Tree background when hovering over items using the mouse.")),Pt=c("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},u.NC("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),wn=c("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},u.NC("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Fn=c("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:I,hcLight:I},u.NC("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),Qt=c("list.focusHighlightForeground",{dark:Fn,light:function Ro(Ii,Fi,Xi){return{op:5,if:Ii,then:Fi,else:Xi}}(Xt,Fn,"#BBE7FF"),hcDark:Fn,hcLight:Fn},u.NC("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),D=(c("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},u.NC("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),c("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},u.NC("listErrorForeground","Foreground color of list items containing errors.")),c("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},u.NC("listWarningForeground","Foreground color of list items containing warnings.")),c("listFilterWidget.background",{light:xo(Fe,0),dark:go(Fe,0),hcDark:Fe,hcLight:Fe},u.NC("listFilterWidgetBackground","Background color of the type filter widget in lists and trees."))),K=c("listFilterWidget.outline",{dark:s.Il.transparent,light:s.Il.transparent,hcDark:"#f38518",hcLight:"#007ACC"},u.NC("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),q=c("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:y,hcLight:y},u.NC("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),we=c("listFilterWidget.shadow",{dark:W,light:W,hcDark:W,hcLight:W},u.NC("listFilterWidgetShadow","Shadown color of the type filter widget in lists and trees.")),xt=(c("list.filterMatchBackground",{dark:li,light:li,hcDark:null,hcLight:null},u.NC("listFilterMatchHighlight","Background color of the filtered match.")),c("list.filterMatchBorder",{dark:Dn,light:Dn,hcDark:y,hcLight:S},u.NC("listFilterMatchHighlightBorder","Border color of the filtered match.")),c("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},u.NC("treeIndentGuidesStroke","Tree stroke color for the indentation guides."))),At=c("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},u.NC("tableColumnsBorder","Table border color between columns.")),tn=c("tree.tableOddRowsBackground",{dark:_i(n,.04),light:_i(n,.04),hcDark:null,hcLight:null},u.NC("tableOddRowsBackgroundColor","Background color for odd table rows.")),fn=(c("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},u.NC("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),c("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,u.NC("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead"))),gn=c("quickInputList.focusForeground",{dark:nn,light:nn,hcDark:nn,hcLight:nn},u.NC("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),Ln=c("quickInputList.focusIconForeground",{dark:Kt,light:Kt,hcDark:Kt,hcLight:Kt},u.NC("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),Rn=c("quickInputList.focusBackground",{dark:Ys(fn,Xt),light:Ys(fn,Xt),hcDark:null,hcLight:null},u.NC("quickInput.listFocusBackground","Quick picker background color for the focused item.")),zn=c("menu.border",{dark:null,light:null,hcDark:y,hcLight:y},u.NC("menuBorder","Border color of menus.")),Vn=c("menu.foreground",{dark:Se,light:n,hcDark:Se,hcLight:Se},u.NC("menuForeground","Foreground color of menu items.")),oi=c("menu.background",{dark:ge,light:ge,hcDark:ge,hcLight:ge},u.NC("menuBackground","Background color of menu items.")),hi=c("menu.selectionForeground",{dark:nn,light:nn,hcDark:nn,hcLight:nn},u.NC("menuSelectionForeground","Foreground color of the selected menu item in menus.")),ii=c("menu.selectionBackground",{dark:Xt,light:Xt,hcDark:Xt,hcLight:Xt},u.NC("menuSelectionBackground","Background color of the selected menu item in menus.")),Ni=c("menu.selectionBorder",{dark:null,light:null,hcDark:S,hcLight:S},u.NC("menuSelectionBorder","Border color of the selected menu item in menus.")),Ki=c("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:y,hcLight:y},u.NC("menuSeparatorBackground","Color of a separator menu item in menus.")),Jt=c("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},u.NC("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),Jn=(c("toolbar.hoverOutline",{dark:null,light:null,hcDark:S,hcLight:S},u.NC("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),c("toolbar.activeBackground",{dark:go(Jt,.1),light:xo(Jt,.1),hcDark:null,hcLight:null},u.NC("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),c("editor.snippetTabstopHighlightBackground",{dark:new s.Il(new s.VS(124,124,124,.3)),light:new s.Il(new s.VS(10,50,100,.2)),hcDark:new s.Il(new s.VS(124,124,124,.3)),hcLight:new s.Il(new s.VS(10,50,100,.2))},u.NC("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),c("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},u.NC("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),c("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},u.NC("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),c("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new s.Il(new s.VS(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},u.NC("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),c("breadcrumb.foreground",{light:_i(n,.8),dark:_i(n,.8),hcDark:_i(n,.8),hcLight:_i(n,.8)},u.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),c("breadcrumb.background",{light:ke,dark:ke,hcDark:ke,hcLight:ke},u.NC("breadcrumbsBackground","Background color of breadcrumb items.")),c("breadcrumb.focusForeground",{light:xo(n,.2),dark:go(n,.1),hcDark:go(n,.1),hcLight:go(n,.1)},u.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),c("breadcrumb.activeSelectionForeground",{light:xo(n,.2),dark:go(n,.1),hcDark:go(n,.1),hcLight:go(n,.1)},u.NC("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),c("breadcrumbPicker.background",{light:Fe,dark:Fe,hcDark:Fe,hcLight:Fe},u.NC("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),s.Il.fromHex("#40C8AE").transparent(.5)),ni=s.Il.fromHex("#40A6FF").transparent(.5),ui=s.Il.fromHex("#606060").transparent(.4),mi=.4,$i=c("merge.currentHeaderBackground",{dark:Jn,light:Jn,hcDark:null,hcLight:null},u.NC("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),ho=(c("merge.currentContentBackground",{dark:_i($i,mi),light:_i($i,mi),hcDark:_i($i,mi),hcLight:_i($i,mi)},u.NC("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),c("merge.incomingHeaderBackground",{dark:ni,light:ni,hcDark:null,hcLight:null},u.NC("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),Io=(c("merge.incomingContentBackground",{dark:_i(ho,mi),light:_i(ho,mi),hcDark:_i(ho,mi),hcLight:_i(ho,mi)},u.NC("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),c("merge.commonHeaderBackground",{dark:ui,light:ui,hcDark:null,hcLight:null},u.NC("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),ki=(c("merge.commonContentBackground",{dark:_i(Io,mi),light:_i(Io,mi),hcDark:_i(Io,mi),hcLight:_i(Io,mi)},u.NC("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),c("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},u.NC("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."))),Cr=(c("editorOverviewRuler.currentContentForeground",{dark:_i($i,1),light:_i($i,1),hcDark:ki,hcLight:ki},u.NC("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),c("editorOverviewRuler.incomingContentForeground",{dark:_i(ho,1),light:_i(ho,1),hcDark:ki,hcLight:ki},u.NC("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),c("editorOverviewRuler.commonContentForeground",{dark:_i(Io,1),light:_i(Io,1),hcDark:ki,hcLight:ki},u.NC("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),c("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},u.NC("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0)),Gs=c("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},u.NC("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Po=c("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},u.NC("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),Wo=c("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},u.NC("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),Vo=c("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},u.NC("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),es=c("minimap.errorHighlight",{dark:new s.Il(new s.VS(255,18,18,.7)),light:new s.Il(new s.VS(255,18,18,.7)),hcDark:new s.Il(new s.VS(255,50,50,1)),hcLight:"#B5200D"},u.NC("minimapError","Minimap marker color for errors.")),Ts=c("minimap.warningHighlight",{dark:Mt,light:Mt,hcDark:Nt,hcLight:Nt},u.NC("overviewRuleWarning","Minimap marker color for warnings.")),ts=c("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},u.NC("minimapBackground","Minimap background color.")),Zo=c("minimap.foregroundOpacity",{dark:s.Il.fromHex("#000f"),light:s.Il.fromHex("#000f"),hcDark:s.Il.fromHex("#000f"),hcLight:s.Il.fromHex("#000f")},u.NC("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),Zs=c("minimapSlider.background",{light:_i(gt,.5),dark:_i(gt,.5),hcDark:_i(gt,.5),hcLight:_i(gt,.5)},u.NC("minimapSliderBackground","Minimap slider background color.")),Ns=c("minimapSlider.hoverBackground",{light:_i(lt,.5),dark:_i(lt,.5),hcDark:_i(lt,.5),hcLight:_i(lt,.5)},u.NC("minimapSliderHoverBackground","Minimap slider background color when hovering.")),Ho=c("minimapSlider.activeBackground",{light:_i(Ke,.5),dark:_i(Ke,.5),hcDark:_i(Ke,.5),hcLight:_i(Ke,.5)},u.NC("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),ss=c("problemsErrorIcon.foreground",{dark:ot,light:ot,hcDark:ot,hcLight:ot},u.NC("problemsErrorIconForeground","The color used for the problems error icon.")),Uo=c("problemsWarningIcon.foreground",{dark:Mt,light:Mt,hcDark:Mt,hcLight:Mt},u.NC("problemsWarningIconForeground","The color used for the problems warning icon.")),Qs=c("problemsInfoIcon.foreground",{dark:dt,light:dt,hcDark:dt,hcLight:dt},u.NC("problemsInfoIconForeground","The color used for the problems info icon."));function xo(Ii,Fi){return{op:0,value:Ii,factor:Fi}}function go(Ii,Fi){return{op:1,value:Ii,factor:Fi}}function _i(Ii,Fi){return{op:2,value:Ii,factor:Fi}}function Ys(...Ii){return{op:3,values:Ii}}function Mo(Ii,Fi,Xi,ro){return{op:4,value:Ii,background:Fi,factor:Xi,transparency:ro}}function Co(Ii,Fi){if(null!==Ii){if("string"==typeof Ii)return"#"===Ii[0]?s.Il.fromHex(Ii):Fi.getColor(Ii);if(Ii instanceof s.Il)return Ii;if("object"==typeof Ii)return function Sr(Ii,Fi){var Xi,ro,vo;switch(Ii.op){case 0:return null===(Xi=Co(Ii.value,Fi))||void 0===Xi?void 0:Xi.darken(Ii.factor);case 1:return null===(ro=Co(Ii.value,Fi))||void 0===ro?void 0:ro.lighten(Ii.factor);case 2:return null===(vo=Co(Ii.value,Fi))||void 0===vo?void 0:vo.transparent(Ii.factor);case 3:for(const ao of Ii.values){const uo=Co(ao,Fi);if(uo)return uo}return;case 5:return Co(Fi.defines(Ii.if)?Ii.then:Ii.else,Fi);case 4:{const ao=Co(Ii.value,Fi);if(!ao)return;const uo=Co(Ii.background,Fi);return uo?ao.isDarkerThan(uo)?s.Il.getLighterColor(ao,uo,Ii.factor).transparent(Ii.transparency):s.Il.getDarkerColor(ao,uo,Ii.factor).transparent(Ii.transparency):ao.transparent(Ii.factor*Ii.transparency)}default:throw(0,M.vE)(Ii)}}(Ii,Fi)}}c("charts.foreground",{dark:n,light:n,hcDark:n,hcLight:n},u.NC("chartsForeground","The foreground color used in charts.")),c("charts.lines",{dark:_i(n,.5),light:_i(n,.5),hcDark:_i(n,.5),hcLight:_i(n,.5)},u.NC("chartsLines","The color used for horizontal lines in charts.")),c("charts.red",{dark:ot,light:ot,hcDark:ot,hcLight:ot},u.NC("chartsRed","The red color used in chart visualizations.")),c("charts.blue",{dark:dt,light:dt,hcDark:dt,hcLight:dt},u.NC("chartsBlue","The blue color used in chart visualizations.")),c("charts.yellow",{dark:Mt,light:Mt,hcDark:Mt,hcLight:Mt},u.NC("chartsYellow","The yellow color used in chart visualizations.")),c("charts.orange",{dark:Po,light:Po,hcDark:Po,hcLight:Po},u.NC("chartsOrange","The orange color used in chart visualizations.")),c("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},u.NC("chartsGreen","The green color used in chart visualizations.")),c("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},u.NC("chartsPurple","The purple color used in chart visualizations."));const yr="vscode://schemas/workbench-colors",wr=A.B.as(P.I.JSONContribution);wr.registerSchema(yr,a.getColorSchema());const Xs=new f.pY(()=>wr.notifySchemaChanged(yr),200);a.onDidChangeSchema(()=>{Xs.isScheduled()||Xs.schedule()})},95836:(at,ue,e)=>{"use strict";e.d(ue,{Ks:()=>v,q5:()=>l,s_:()=>S});var a,p,Q,f=e(63072),s=e(2450),L=e(52787),M=e(54435),u=e(74672),P=e(40402),A=e(83350),k=e(29537),N=e(23024);(a||(a={})).getDefinition=function Z(G,F){let W=G.defaults;for(;N.kS.isThemeIcon(W);){const B=n.getIcon(W.id);if(!B)return;W=B.defaults}return W},(Q=p||(p={})).toJSONObject=function Z(F){return{weight:F.weight,style:F.style,src:F.src.map(W=>({format:W.format,location:W.location.toString()}))}},Q.fromJSONObject=function G(F){const W=B=>(0,M.HD)(B)?B:void 0;if(F&&Array.isArray(F.src)&&F.src.every(B=>(0,M.HD)(B.format)&&(0,M.HD)(B.location)))return{weight:W(F.weight),style:W(F.style),src:F.src.map(B=>({format:B.format,location:u.o.parse(B.location)}))}};const n=new class c{constructor(){this._onDidChange=new L.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,P.NC)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,P.NC)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${s.dT.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(Z,G,F,W){const B=this.iconsById[Z];if(B){if(F&&!B.description){B.description=F,this.iconSchema.properties[Z].markdownDescription=`${F} $(${Z})`;const Y=this.iconReferenceSchema.enum.indexOf(Z);-1!==Y&&(this.iconReferenceSchema.enumDescriptions[Y]=F),this._onDidChange.fire()}return B}this.iconsById[Z]={id:Z,description:F,defaults:G,deprecationMessage:W};const j={$ref:"#/definitions/icons"};return W&&(j.deprecationMessage=W),F&&(j.markdownDescription=`${F}: $(${Z})`),this.iconSchema.properties[Z]=j,this.iconReferenceSchema.enum.push(Z),this.iconReferenceSchema.enumDescriptions.push(F||""),this._onDidChange.fire(),{id:Z}}getIcons(){return Object.keys(this.iconsById).map(Z=>this.iconsById[Z])}getIcon(Z){return this.iconsById[Z]}getIconSchema(){return this.iconSchema}toString(){const Z=(B,z)=>B.id.localeCompare(z.id),G=B=>{for(;N.kS.isThemeIcon(B.defaults);)B=this.iconsById[B.defaults.id];return`codicon codicon-${B?B.id:""}`},F=[];F.push("| preview     | identifier                        | default codicon ID                | description"),F.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const W=Object.keys(this.iconsById).map(B=>this.iconsById[B]);for(const B of W.filter(z=>!!z.description).sort(Z))F.push(`|<i class="${G(B)}"></i>|${B.id}|${N.kS.isThemeIcon(B.defaults)?B.defaults.id:B.id}|${B.description||""}|`);F.push("| preview     | identifier                        "),F.push("| ----------- | --------------------------------- |");for(const B of W.filter(z=>!N.kS.isThemeIcon(z.defaults)).sort(Z))F.push(`|<i class="${G(B)}"></i>|${B.id}|`);return F.join("\n")}};function l(Q,Z,G,F){return n.registerIcon(Q,Z,G,F)}function v(){return n}k.B.add("base.contributions.icons",n),function d(){for(const Q of s.lA.getAll())n.registerIcon(Q.id,Q.definition,Q.description)}();const m="vscode://schemas/icons",I=k.B.as(A.I.JSONContribution);I.registerSchema(m,n.getIconSchema());const y=new f.pY(()=>I.notifySchemaChanged(m),200);n.onDidChange(()=>{y.isScheduled()||y.schedule()});const S=l("widget-close",s.lA.close,(0,P.NC)("widgetClose","Icon for the close action in widgets."));l("goto-previous-location",s.lA.arrowUp,(0,P.NC)("previousChangeIcon","Icon for goto previous editor location.")),l("goto-next-location",s.lA.arrowDown,(0,P.NC)("nextChangeIcon","Icon for goto next editor location.")),N.kS.modify(s.lA.sync,"spin"),N.kS.modify(s.lA.loading,"spin")},32151:(at,ue,e)=>{"use strict";e.d(ue,{Jl:()=>u,O2:()=>P,WZ:()=>M,o:()=>s,tj:()=>k});var f=e(28708);function s(N,_){const a=Object.create(null);for(const p in _){const c=_[p];c&&(a[p]=(0,f.Snq)(c,N))}return a}function L(N,_,a){function p(){const c=s(N.getColorTheme(),_);"function"==typeof a?a(c):a.style(c)}return p(),N.onDidColorThemeChange(p)}function M(N,_,a){return L(_,{badgeBackground:(null==a?void 0:a.badgeBackground)||f.g8u,badgeForeground:(null==a?void 0:a.badgeForeground)||f.qeD,badgeBorder:f.lRK},N)}function u(N,_,a){return L(_,Object.assign(Object.assign({},P),a||{}),N)}const P={listFocusBackground:f._bK,listFocusForeground:f._2n,listFocusOutline:f.Oop,listActiveSelectionBackground:f.dCr,listActiveSelectionForeground:f.M6C,listActiveSelectionIconForeground:f.Tnx,listFocusAndSelectionOutline:f.Bqu,listFocusAndSelectionBackground:f.dCr,listFocusAndSelectionForeground:f.M6C,listInactiveSelectionBackground:f.rg2,listInactiveSelectionIconForeground:f.kvU,listInactiveSelectionForeground:f.ytC,listInactiveFocusBackground:f.s$,listInactiveFocusOutline:f.F3d,listHoverBackground:f.mV1,listHoverForeground:f.$d5,listDropBackground:f.AS1,listSelectionOutline:f.xL1,listHoverOutline:f.xL1,listFilterWidgetBackground:f.vGG,listFilterWidgetOutline:f.oSI,listFilterWidgetNoMatchesOutline:f.Saq,listFilterWidgetShadow:f.y65,treeIndentGuidesStroke:f.UnT,tableColumnsBorder:f.uxu,tableOddRowsBackgroundColor:f.EQn,inputActiveOptionBorder:f.PRb,inputActiveOptionForeground:f.Pvw,inputActiveOptionBackground:f.XEs,inputBackground:f.sEe,inputForeground:f.zJb,inputBorder:f.dt_,inputValidationInfoBackground:f._lC,inputValidationInfoForeground:f.YI3,inputValidationInfoBorder:f.EPQ,inputValidationWarningBackground:f.RV_,inputValidationWarningForeground:f.SUG,inputValidationWarningBorder:f.C3g,inputValidationErrorBackground:f.paE,inputValidationErrorForeground:f._t9,inputValidationErrorBorder:f.OZR},A={shadowColor:f.rh,borderColor:f.Cdg,foregroundColor:f.DEr,backgroundColor:f.Hz8,selectionForegroundColor:f.jbW,selectionBackgroundColor:f.$DX,selectionBorderColor:f.E3h,separatorColor:f.ZGJ,scrollbarShadow:f._wn,scrollbarSliderBackground:f.etL,scrollbarSliderHoverBackground:f.ABB,scrollbarSliderActiveBackground:f.ynu};function k(N,_,a){return L(_,Object.assign(Object.assign({},A),a),N)}},58676:(at,ue,e)=>{"use strict";e.d(ue,{_T:()=>L,c3:()=>s,eL:()=>f});var f=(()=>{return(M=f||(f={})).DARK="dark",M.LIGHT="light",M.HIGH_CONTRAST_DARK="hcDark",M.HIGH_CONTRAST_LIGHT="hcLight",f;var M})();function s(M){return M===f.HIGH_CONTRAST_DARK||M===f.HIGH_CONTRAST_LIGHT}function L(M){return M===f.DARK||M===f.HIGH_CONTRAST_DARK}},23024:(at,ue,e)=>{"use strict";e.d(ue,{EN:()=>N,IP:()=>p,Ic:()=>l,XE:()=>A,bB:()=>v,kS:()=>_,m6:()=>a});var f=e(2450),s=e(52787),L=e(52425),M=e(64725),u=e(29537),P=e(58676);const A=(0,M.yh)("themeService");var k,_;function N(d){return{id:d}}function a(d){switch(d){case P.eL.DARK:return"vs-dark";case P.eL.HIGH_CONTRAST_DARK:return"hc-black";case P.eL.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}(k||(k={})).isThemeColor=function m(I){return I&&"object"==typeof I&&"string"==typeof I.id},function(d){d.isThemeIcon=function m(Q){return Q&&"object"==typeof Q&&"string"==typeof Q.id&&(void 0===Q.color||k.isThemeColor(Q.color))};const I=new RegExp(`^\\$\\((${f.dT.iconNameExpression}(?:${f.dT.iconModifierExpression})?)\\)$`);d.fromString=function y(Q){const Z=I.exec(Q);if(!Z)return;const[,G]=Z;return{id:G}},d.fromId=function S(Q){return{id:Q}},d.modify=function b(Q,Z){let G=Q.id;const F=G.lastIndexOf("~");return-1!==F&&(G=G.substring(0,F)),Z&&(G=`${G}~${Z}`),{id:G}},d.getModifier=function x(Q){const Z=Q.id.lastIndexOf("~");if(-1!==Z)return Q.id.substring(Z+1)},d.isEqual=function T(Q,Z){var G,F;return Q.id===Z.id&&(null===(G=Q.color)||void 0===G?void 0:G.id)===(null===(F=Z.color)||void 0===F?void 0:F.id)},d.asThemeIcon=function R(Q,Z){return{id:Q.id,color:Z?N(Z):void 0}},d.asClassNameArray=f.dT.asClassNameArray,d.asClassName=f.dT.asClassName,d.asCSSSelector=f.dT.asCSSSelector}(_||(_={}));const p={ThemingContribution:"base.contributions.theming"},n=new class c{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new s.Q5}onColorThemeChange(m){return this.themingParticipants.push(m),this.onThemingParticipantAddedEmitter.fire(m),(0,L.OF)(()=>{const I=this.themingParticipants.indexOf(m);this.themingParticipants.splice(I,1)})}getThemingParticipants(){return this.themingParticipants}};function l(d){return n.onColorThemeChange(d)}u.B.add(p.ThemingContribution,n);class v extends L.JT{constructor(m){super(),this.themeService=m,this.theme=m.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(I=>this.onThemeChange(I)))}onThemeChange(m){this.theme=m,this.updateStyles()}updateStyles(){}}},18846:(at,ue,e)=>{"use strict";e.d(ue,{Xt:()=>M,YO:()=>L,gJ:()=>u,tJ:()=>s});const s=(0,e(64725).yh)("undoRedoService");class L{constructor(A,k){this.resource=A,this.elements=k}}class M{constructor(){this.id=M._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}M._ID=0,M.None=new M;class u{constructor(){this.id=u._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}u._ID=0,u.None=new u},2405:(at,ue,e)=>{"use strict";e.d(ue,{A6:()=>_,eb:()=>P,ec:()=>u,md:()=>N,uT:()=>A});var f=e(40402),L=(e(7838),e(74672));const u=(0,e(64725).yh)("contextService");function P(p){return"string"==typeof(null==p?void 0:p.id)&&L.o.isUri(p.uri)}function A(p){return p.configuration?{id:p.id,configPath:p.configuration}:1===p.folders.length?{id:p.id,uri:p.folders[0].uri}:void 0}class N{constructor(c,n){this.raw=n,this.uri=c.uri,this.index=c.index,this.name=c.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const _="code-workspace";(0,f.NC)("codeWorkspace","Code Workspace")},26031:(at,ue,e)=>{"use strict";e.d(ue,{Y:()=>s});const s=(0,e(64725).yh)("workspaceTrustManagementService")},32757:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-action-bar {\n\twhite-space: nowrap;\n\theight: 100%;\n}\n\n.monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\theight: 100%;\n\twidth: 100%;\n\talign-items: center;\n}\n\n.monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-action-bar .action-item {\n\tdisplay: block;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-action-bar .action-item .icon,\n.monaco-action-bar .action-item .codicon {\n\tdisplay: block;\n}\n\n.monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 16px;\n\theight: 16px;\n}\n\n.monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n}\n\n.monaco-action-bar .action-item.disabled .action-label,\n.monaco-action-bar .action-item.disabled .action-label::before,\n.monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.6;\n}\n\n/* Vertical actions */\n\n.monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-action-bar .action-item .action-label.separator {\n\twidth: 1px;\n\theight: 16px;\n\tmargin: 5px 4px !important;\n\tcursor: default;\n\tmin-width: 1px;\n\tpadding: 0;\n\tbackground-color: #bbb;\n}\n\n.secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item {\n\tdisplay: flex;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item > .action-label {\n\tmargin-right: 1px;\n}\n",""]);const P=u},93:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-aria-container {\n\tposition: absolute; /* try to hide from window but not from screen readers */\n\tleft:-999em;\n}",""]);const P=u},72013:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-text-button {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\twidth: 100%;\n\tpadding: 4px;\n\ttext-align: center;\n\tcursor: pointer;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-text-button:focus {\n\toutline-offset: 2px !important;\n}\n\n.monaco-text-button:hover {\n\ttext-decoration: none !important;\n}\n\n.monaco-button.disabled:focus,\n.monaco-button.disabled {\n\topacity: 0.4 !important;\n\tcursor: default;\n}\n\n.monaco-text-button > .codicon {\n\tmargin: 0 0.2em;\n\tcolor: inherit !important;\n}\n\n.monaco-button-dropdown {\n\tdisplay: flex;\n\tcursor: pointer;\n}\n\n.monaco-button-dropdown.disabled {\n\tcursor: default;\n}\n\n.monaco-button-dropdown > .monaco-button:focus {\n\toutline-offset: -1px !important;\n}\n\n.monaco-button-dropdown.disabled > .monaco-button.disabled,\n.monaco-button-dropdown.disabled > .monaco-button.disabled:focus,\n.monaco-button-dropdown.disabled > .monaco-button-dropdown-separator {\n\topacity: 0.4 !important;\n}\n\n.monaco-button-dropdown > .monaco-button.monaco-text-button {\n\tborder-right-width: 0 !important;\n}\n\n.monaco-button-dropdown .monaco-button-dropdown-separator {\n\tpadding: 4px 0;\n\tcursor: default;\n}\n\n.monaco-button-dropdown .monaco-button-dropdown-separator > div {\n\theight: 100%;\n\twidth: 1px;\n}\n\n.monaco-button-dropdown > .monaco-button.monaco-dropdown-button {\n\tborder-left-width: 0 !important;\n}\n\n.monaco-description-button {\n\tflex-direction: column;\n}\n\n.monaco-description-button .monaco-button-label {\n\tfont-weight: 500;\n}\n\n.monaco-description-button .monaco-button-description {\n\tfont-style: italic;\n}\n\n.monaco-description-button .monaco-button-label,\n.monaco-description-button .monaco-button-description\n{\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-description-button .monaco-button-label > .codicon,\n.monaco-description-button .monaco-button-description > .codicon\n{\n\tmargin: 0 0.2em;\n\tcolor: inherit !important;\n}\n",""]);const P=u},24081:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.codicon-wrench-subaction {\n\topacity: 0.5;\n}\n\n@keyframes codicon-spin {\n\t100% {\n\t\ttransform:rotate(360deg);\n\t}\n}\n\n.codicon-sync.codicon-modifier-spin,\n.codicon-loading.codicon-modifier-spin,\n.codicon-gear.codicon-modifier-spin,\n.codicon-notebook-state-executing.codicon-modifier-spin {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\tanimation: codicon-spin 1.5s steps(30) infinite;\n}\n\n.codicon-modifier-disabled {\n\topacity: 0.4;\n}\n\n/* custom speed & easing for loading icon */\n.codicon-loading,\n.codicon-tree-item-loading::before {\n\tanimation-duration: 1s !important;\n\tanimation-timing-function: cubic-bezier(0.53, 0.21, 0.29, 0.67) !important;\n}\n",""]);const P=u},50058:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>_});var f=e(60135),s=e.n(f),L=e(40479),M=e.n(L),u=e(91475),P=e.n(u),A=new URL("./codicon.ttf","file:///home/runner/work/covalent/covalent/node_modules/monaco-editor/esm/vs/base/browser/ui/codicons/codicon/codicon.css"),k=M()(s()),N=P()(A);k.push([at.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n@font-face {\n\tfont-family: "codicon";\n\tfont-display: block;\n\tsrc: url('+N+") format(\"truetype\");\n}\n\n.codicon[class*='codicon-'] {\n\tfont: normal normal normal 16px/1 codicon;\n\tdisplay: inline-block;\n\ttext-decoration: none;\n\ttext-rendering: auto;\n\ttext-align: center;\n\ttext-transform: none;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/* icon rules are dynamically created by the platform theme service (see iconsStyleSheet.ts) */\n",""]);const _=k},16328:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.context-view {\n\tposition: absolute;\n}\n\n.context-view.fixed {\n\tall: initial;\n\tfont-family: inherit;\n\tfont-size: 13px;\n\tposition: fixed;\n\tcolor: inherit;\n}\n",""]);const P=u},90477:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-count-badge {\n\tpadding: 3px 6px;\n\tborder-radius: 11px;\n\tfont-size: 11px;\n\tmin-width: 18px;\n\tmin-height: 18px;\n\tline-height: 11px;\n\tfont-weight: normal;\n\ttext-align: center;\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n}\n\n.monaco-count-badge.long {\n\tpadding: 2px 3px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n",""]);const P=u},25035:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-dropdown {\n\theight: 100%;\n\tpadding: 0;\n}\n\n.monaco-dropdown > .dropdown-label {\n\tcursor: pointer;\n\theight: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.monaco-dropdown > .dropdown-label > .action-label.disabled {\n\tcursor: default;\n}\n\n.monaco-dropdown-with-primary {\n\tdisplay: flex !important;\n\tflex-direction: row;\n\tborder-radius: 5px;\n}\n\n.monaco-dropdown-with-primary > .action-container > .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label .codicon[class*='codicon-'] {\n\tfont-size: 12px;\n\tpadding-left: 0px;\n\tpadding-right: 0px;\n\tline-height: 16px;\n\tmargin-left: -3px;\n}\n\n.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label > .action-label {\n\tdisplay: block;\n\tbackground-size: 16px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n}\n",""]);const P=u},96266:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* ---------- Find input ---------- */\n\n.monaco-findInput {\n\tposition: relative;\n}\n\n.monaco-findInput .monaco-inputbox {\n\tfont-size: 13px;\n\twidth: 100%;\n}\n\n.monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n\n.vs .monaco-findInput.disabled {\n\tbackground-color: #E1E1E1;\n}\n\n/* Theming */\n.vs-dark .monaco-findInput.disabled {\n\tbackground-color: #333;\n}\n\n/* Highlighting */\n.monaco-findInput.highlight-0 .controls,\n.hc-light .monaco-findInput.highlight-0 .controls {\n\tanimation: monaco-findInput-highlight-0 100ms linear 0s;\n}\n\n.monaco-findInput.highlight-1 .controls,\n.hc-light .monaco-findInput.highlight-1 .controls {\n\tanimation: monaco-findInput-highlight-1 100ms linear 0s;\n}\n\n.hc-black .monaco-findInput.highlight-0 .controls,\n.vs-dark  .monaco-findInput.highlight-0 .controls {\n\tanimation: monaco-findInput-highlight-dark-0 100ms linear 0s;\n}\n\n.hc-black .monaco-findInput.highlight-1 .controls,\n.vs-dark  .monaco-findInput.highlight-1 .controls {\n\tanimation: monaco-findInput-highlight-dark-1 100ms linear 0s;\n}\n\n@keyframes monaco-findInput-highlight-0 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t100% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-1 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}\n\n@keyframes monaco-findInput-highlight-dark-0 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t100% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-dark-1 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}\n",""]);const P=u},93039:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-hover {\n\tcursor: default;\n\tposition: absolute;\n\toverflow: hidden;\n\tz-index: 50;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tbox-sizing: initial;\n\tanimation: fadein 100ms linear;\n\tline-height: 1.5em;\n}\n\n.monaco-hover.hidden {\n\tdisplay: none;\n}\n\n.monaco-hover a:hover {\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-contents:not(.html-hover-contents) {\n\tpadding: 4px 8px;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) {\n\tmax-width: 500px;\n\tword-wrap: break-word;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) hr {\n\tmin-width: 100%;\n}\n\n.monaco-hover p,\n.monaco-hover .code,\n.monaco-hover ul {\n\tmargin: 8px 0;\n}\n\n.monaco-hover code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-hover hr {\n\tbox-sizing: border-box;\n\tborder-left: 0px;\n\tborder-right: 0px;\n\tmargin-top: 4px;\n\tmargin-bottom: -4px;\n\tmargin-left: -8px;\n\tmargin-right: -8px;\n\theight: 1px;\n}\n\n.monaco-hover p:first-child,\n.monaco-hover .code:first-child,\n.monaco-hover ul:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-hover p:last-child,\n.monaco-hover .code:last-child,\n.monaco-hover ul:last-child {\n\tmargin-bottom: 0;\n}\n\n/* MarkupContent Layout */\n.monaco-hover ul {\n\tpadding-left: 20px;\n}\n.monaco-hover ol {\n\tpadding-left: 20px;\n}\n\n.monaco-hover li > p {\n\tmargin-bottom: 0;\n}\n\n.monaco-hover li > ul {\n\tmargin-top: 0;\n}\n\n.monaco-hover code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-hover .monaco-tokenized-source {\n\twhite-space: pre-wrap;\n}\n\n.monaco-hover .hover-row.status-bar {\n\tfont-size: 12px;\n\tline-height: 22px;\n}\n\n.monaco-hover .hover-row.status-bar .actions {\n\tdisplay: flex;\n\tpadding: 0px 8px;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container {\n\tmargin-right: 16px;\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container .action .icon {\n\tpadding-right: 4px;\n}\n\n.monaco-hover .markdown-hover .hover-contents .codicon {\n\tcolor: inherit;\n\tfont-size: inherit;\n\tvertical-align: middle;\n}\n\n.monaco-hover .hover-contents a.code-link:hover,\n.monaco-hover .hover-contents a.code-link {\n\tcolor: inherit;\n}\n\n.monaco-hover .hover-contents a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-hover .hover-contents a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-hover .hover-contents a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n}\n\n/** Spans in markdown hovers need a margin-bottom to avoid looking cramped: https://github.com/microsoft/vscode/issues/101496 **/\n.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span {\n\tmargin-bottom: 4px;\n\tdisplay: inline-block;\n}\n\n.monaco-hover-content .action-container a {\n\t-webkit-user-select: none;\n\tuser-select: none;\n}\n\n.monaco-hover-content .action-container.disabled {\n\tpointer-events: none;\n\topacity: 0.4;\n\tcursor: default;\n}\n",""]);const P=u},94269:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* ---------- Icon label ---------- */\n\n.monaco-icon-label {\n\tdisplay: flex; /* required for icons support :before rule */\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-icon-label::before {\n\n\t/* svg icons rendered as background image */\n\tbackground-size: 16px;\n\tbackground-position: left center;\n\tbackground-repeat: no-repeat;\n\tpadding-right: 6px;\n\twidth: 16px;\n\theight: 22px;\n\tline-height: inherit !important;\n\tdisplay: inline-block;\n\n\t/* fonts icons */\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tvertical-align: top;\n\n\tflex-shrink: 0; /* fix for https://github.com/microsoft/vscode/issues/13787 */\n}\n\n.monaco-icon-label > .monaco-icon-label-container {\n\tmin-width: 0;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tflex: 1;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name {\n\tcolor: inherit;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name > .label-separator {\n\tmargin: 0 2px;\n\topacity: 0.5;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .7;\n\tmargin-left: 0.5em;\n\tfont-size: 0.9em;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.monaco-icon-label.nowrap > .monaco-icon-label-container > .monaco-icon-description-container > .label-description{\n\twhite-space: nowrap\n}\n\n.vs .monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .95;\n}\n\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\tfont-style: italic;\n}\n\n.monaco-icon-label.deprecated {\n\ttext-decoration: line-through;\n\topacity: 0.66;\n}\n\n/* make sure apply italic font style to decorations as well */\n.monaco-icon-label.italic::after {\n\tfont-style: italic;\n}\n\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\ttext-decoration: line-through;\n}\n\n.monaco-icon-label::after {\n\topacity: 0.75;\n\tfont-size: 90%;\n\tfont-weight: 600;\n\tmargin: auto 16px 0 5px; /* https://github.com/microsoft/vscode/issues/113223 */\n\ttext-align: center;\n}\n\n/* make sure selection color wins when a label is being selected */\n.monaco-list:focus .selected .monaco-icon-label, /* list */\n.monaco-list:focus .selected .monaco-icon-label::after\n{\n\tcolor: inherit !important;\n}\n\n.monaco-list-row.focused.selected .label-description,\n.monaco-list-row.selected .label-description {\n\topacity: .8;\n}\n",""]);const P=u},41188:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-inputbox {\n\tposition: relative;\n\tdisplay: block;\n\tpadding: 0;\n\tbox-sizing:\tborder-box;\n\n\t/* Customizable */\n\tfont-size: inherit;\n}\n\n.monaco-inputbox.idle {\n\tborder: 1px solid transparent;\n}\n\n.monaco-inputbox > .ibwrapper > .input,\n.monaco-inputbox > .ibwrapper > .mirror {\n\n\t/* Customizable */\n\tpadding: 4px;\n}\n\n.monaco-inputbox > .ibwrapper {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-inputbox > .ibwrapper > .input {\n\tdisplay: inline-block;\n\tbox-sizing:\tborder-box;\n\twidth: 100%;\n\theight: 100%;\n\tline-height: inherit;\n\tborder: none;\n\tfont-family: inherit;\n\tfont-size: inherit;\n\tresize: none;\n\tcolor: inherit;\n}\n\n.monaco-inputbox > .ibwrapper > input {\n\ttext-overflow: ellipsis;\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input {\n\tdisplay: block;\n\t-ms-overflow-style: none; /* IE 10+: hide scrollbars */\n\tscrollbar-width: none; /* Firefox: hide scrollbars */\n\toutline: none;\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input::-webkit-scrollbar {\n\tdisplay: none; /* Chrome + Safari: hide scrollbar */\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input.empty {\n\twhite-space: nowrap;\n}\n\n.monaco-inputbox > .ibwrapper > .mirror {\n\tposition: absolute;\n\tdisplay: inline-block;\n\twidth: 100%;\n\ttop: 0;\n\tleft: 0;\n\tbox-sizing: border-box;\n\twhite-space: pre-wrap;\n\tvisibility: hidden;\n\tword-wrap: break-word;\n}\n\n/* Context view */\n\n.monaco-inputbox-container {\n\ttext-align: right;\n}\n\n.monaco-inputbox-container .monaco-inputbox-message {\n\tdisplay: inline-block;\n\toverflow: hidden;\n\ttext-align: left;\n\twidth: 100%;\n\tbox-sizing:\tborder-box;\n\tpadding: 0.4em;\n\tfont-size: 12px;\n\tline-height: 17px;\n\tmargin-top: -1px;\n\tword-wrap: break-word;\n}\n\n/* Action bar support */\n.monaco-inputbox .monaco-action-bar {\n\tposition: absolute;\n\tright: 2px;\n\ttop: 4px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item {\n\tmargin-left: 2px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item .codicon {\n\tbackground-repeat: no-repeat;\n\twidth: 16px;\n\theight: 16px;\n}\n",""]);const P=u},72298:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-keybinding {\n\tdisplay: flex;\n\talign-items: center;\n\tline-height: 10px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key {\n\tdisplay: inline-block;\n\tborder-style: solid;\n\tborder-width: 1px;\n\tborder-radius: 3px;\n\tvertical-align: middle;\n\tfont-size: 11px;\n\tpadding: 3px 5px;\n\tmargin: 0 2px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:first-child {\n\tmargin-left: 0;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:last-child {\n\tmargin-right: 0;\n}\n\n.monaco-keybinding > .monaco-keybinding-key-separator {\n\tdisplay: inline-block;\n}\n\n.monaco-keybinding > .monaco-keybinding-key-chord-separator {\n\twidth: 6px;\n}\n",""]);const P=u},27703:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-list {\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\twhite-space: nowrap;\n}\n\n.monaco-list.mouse-support {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-list > .monaco-scrollable-element {\n\theight: 100%;\n}\n\n.monaco-list-rows {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-list.horizontal-scrolling .monaco-list-rows {\n\twidth: auto;\n\tmin-width: 100%;\n}\n\n.monaco-list-row {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\twidth: 100%;\n}\n\n.monaco-list.mouse-support .monaco-list-row {\n\tcursor: pointer;\n\ttouch-action: none;\n}\n\n/* for OS X ballistic scrolling */\n.monaco-list-row.scrolling {\n\tdisplay: none !important;\n}\n\n/* Focus */\n.monaco-list.element-focused,\n.monaco-list.selection-single,\n.monaco-list.selection-multiple {\n\toutline: 0 !important;\n}\n\n/* Dnd */\n.monaco-drag-image {\n\tdisplay: inline-block;\n\tpadding: 1px 7px;\n\tborder-radius: 10px;\n\tfont-size: 12px;\n\tposition: absolute;\n\tz-index: 1000;\n}\n\n/* Filter */\n\n.monaco-list-type-filter-message {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tpadding: 40px 1em 1em 1em;\n\ttext-align: center;\n\twhite-space: normal;\n\topacity: 0.7;\n\tpointer-events: none;\n}\n\n.monaco-list-type-filter-message:empty {\n\tdisplay: none;\n}\n",""]);const P=u},67548:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-mouse-cursor-text {\n\tcursor: text;\n}\n",""]);const P=u},64185:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-progress-container {\n\twidth: 100%;\n\theight: 5px;\n\toverflow: hidden; /* keep progress bit in bounds */\n}\n\n.monaco-progress-container .progress-bit {\n\twidth: 2%;\n\theight: 5px;\n\tposition: absolute;\n\tleft: 0;\n\tdisplay: none;\n}\n\n.monaco-progress-container.active .progress-bit {\n\tdisplay: inherit;\n}\n\n.monaco-progress-container.discrete .progress-bit {\n\tleft: 0;\n\ttransition: width 100ms linear;\n}\n\n.monaco-progress-container.discrete.done .progress-bit {\n\twidth: 100%;\n}\n\n.monaco-progress-container.infinite .progress-bit {\n\tanimation-name: progress;\n\tanimation-duration: 4s;\n\tanimation-iteration-count: infinite;\n\ttransform: translate3d(0px, 0px, 0px);\n\tanimation-timing-function: linear;\n}\n\n.monaco-progress-container.infinite.infinite-long-running .progress-bit {\n\t/*\n\t\tThe more smooth `linear` timing function can cause\n\t\thigher GPU consumption as indicated in\n\t\thttps://github.com/microsoft/vscode/issues/97900 &\n\t\thttps://github.com/microsoft/vscode/issues/138396\n\t*/\n\tanimation-timing-function: steps(100);\n}\n\n/**\n * The progress bit has a width: 2% (1/50) of the parent container. The animation moves it from 0% to 100% of\n * that container. Since translateX is relative to the progress bit size, we have to multiple it with\n * its relative size to the parent container:\n * parent width: 5000%\n *    bit width: 100%\n * translateX should be as follow:\n *  50%: 5000% * 50% - 50% (set to center) = 2450%\n * 100%: 5000% * 100% - 100% (do not overflow) = 4900%\n */\n@keyframes progress { from { transform: translateX(0%) scaleX(1) } 50% { transform: translateX(2500%) scaleX(3) } to { transform: translateX(4900%) scaleX(1) } }\n",""]);const P=u},91629:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n:root {\n\t--sash-size: 4px;\n}\n\n.monaco-sash {\n\tposition: absolute;\n\tz-index: 35;\n\ttouch-action: none;\n}\n\n.monaco-sash.disabled {\n\tpointer-events: none;\n}\n\n.monaco-sash.mac.vertical {\n\tcursor: col-resize;\n}\n\n.monaco-sash.vertical.minimum {\n\tcursor: e-resize;\n}\n\n.monaco-sash.vertical.maximum {\n\tcursor: w-resize;\n}\n\n.monaco-sash.mac.horizontal {\n\tcursor: row-resize;\n}\n\n.monaco-sash.horizontal.minimum {\n\tcursor: s-resize;\n}\n\n.monaco-sash.horizontal.maximum {\n\tcursor: n-resize;\n}\n\n.monaco-sash.disabled {\n\tcursor: default !important;\n\tpointer-events: none !important;\n}\n\n.monaco-sash.vertical {\n\tcursor: ew-resize;\n\ttop: 0;\n\twidth: var(--sash-size);\n\theight: 100%;\n}\n\n.monaco-sash.horizontal {\n\tcursor: ns-resize;\n\tleft: 0;\n\twidth: 100%;\n\theight: var(--sash-size);\n}\n\n.monaco-sash:not(.disabled) > .orthogonal-drag-handle {\n\tcontent: \" \";\n\theight: calc(var(--sash-size) * 2);\n\twidth: calc(var(--sash-size) * 2);\n\tz-index: 100;\n\tdisplay: block;\n\tcursor: all-scroll;\n\tposition: absolute;\n}\n\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\n\t> .orthogonal-drag-handle.start,\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\n\t> .orthogonal-drag-handle.end {\n\tcursor: nwse-resize;\n}\n\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\n\t> .orthogonal-drag-handle.end,\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\n\t> .orthogonal-drag-handle.start {\n\tcursor: nesw-resize;\n}\n\n.monaco-sash.vertical > .orthogonal-drag-handle.start {\n\tleft: calc(var(--sash-size) * -0.5);\n\ttop: calc(var(--sash-size) * -1);\n}\n.monaco-sash.vertical > .orthogonal-drag-handle.end {\n\tleft: calc(var(--sash-size) * -0.5);\n\tbottom: calc(var(--sash-size) * -1);\n}\n.monaco-sash.horizontal > .orthogonal-drag-handle.start {\n\ttop: calc(var(--sash-size) * -0.5);\n\tleft: calc(var(--sash-size) * -1);\n}\n.monaco-sash.horizontal > .orthogonal-drag-handle.end {\n\ttop: calc(var(--sash-size) * -0.5);\n\tright: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash:before {\n\tcontent: '';\n\tpointer-events: none;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\ttransition: background-color 0.1s ease-out;\n\tbackground: transparent;\n}\n\n.monaco-sash.vertical:before {\n\twidth: var(--sash-hover-size);\n\tleft: calc(50% - (var(--sash-hover-size) / 2));\n}\n\n.monaco-sash.horizontal:before {\n\theight: var(--sash-hover-size);\n\ttop: calc(50% - (var(--sash-hover-size) / 2));\n}\n\n.pointer-events-disabled {\n\tpointer-events: none !important;\n}\n\n/** Debug **/\n\n.monaco-sash.debug {\n\tbackground: cyan;\n}\n\n.monaco-sash.debug.disabled {\n\tbackground: rgba(0, 255, 255, 0.2);\n}\n\n.monaco-sash.debug:not(.disabled) > .orthogonal-drag-handle {\n\tbackground: red;\n}\n",""]);const P=u},7198:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Arrows */\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n}\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n}\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n",""]);const P=u},82470:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-split-view2 {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-split-view2 > .sash-container {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\tpointer-events: none;\n}\n\n.monaco-split-view2 > .sash-container > .monaco-sash {\n\tpointer-events: initial;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element {\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container {\n\twidth: 100%;\n\theight: 100%;\n\twhite-space: nowrap;\n\tposition: relative;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\twhite-space: initial;\n\tposition: absolute;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view:not(.visible) {\n\tdisplay: none;\n}\n\n.monaco-split-view2.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\twidth: 100%;\n}\n\n.monaco-split-view2.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\theight: 100%;\n}\n\n.monaco-split-view2.separator-border > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\tcontent: ' ';\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 5;\n\tpointer-events: none;\n\tbackground-color: var(--separator-border);\n}\n\n.monaco-split-view2.separator-border.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 100%;\n\twidth: 1px;\n}\n\n.monaco-split-view2.separator-border.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 1px;\n\twidth: 100%;\n}\n",""]);const P=u},1728:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-table {\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\twhite-space: nowrap;\n}\n\n.monaco-table > .monaco-split-view2 {\n\tborder-bottom: 1px solid transparent;\n}\n\n.monaco-table > .monaco-list {\n\tflex: 1;\n}\n\n.monaco-table-tr {\n\tdisplay: flex;\n\theight: 100%;\n}\n\n.monaco-table-th {\n\twidth: 100%;\n\theight: 100%;\n\tfont-weight: bold;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-table-th,\n.monaco-table-td {\n\tbox-sizing: border-box;\n\tflex-shrink: 0;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\tcontent: "";\n\tposition: absolute;\n\tleft: calc(var(--sash-size) / 2);\n\twidth: 0;\n\tborder-left: 1px solid transparent;\n}\n\n.monaco-table > .monaco-split-view2,\n.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\ttransition: border-color 0.2s ease-out;\n}\n/*\n.monaco-table:hover > .monaco-split-view2,\n.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\tborder-color: rgba(204, 204, 204, 0.2);\n} */\n',""]);const P=u},16310:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-custom-toggle {\n\tmargin-left: 2px;\n\tfloat: left;\n\tcursor: pointer;\n\toverflow: hidden;\n\twidth: 20px;\n\theight: 20px;\n\tborder-radius: 3px;\n\tborder: 1px solid transparent;\n\tpadding: 1px;\n\tbox-sizing:\tborder-box;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-custom-toggle:hover {\n\tbackground-color: var(--vscode-inputOption-hoverBackground);\n}\n\n.hc-black .monaco-custom-toggle:hover,\n.hc-light .monaco-custom-toggle:hover {\n\tborder: 1px dashed var(--vscode-focusBorder);\n}\n\n.hc-black .monaco-custom-toggle,\n.hc-light .monaco-custom-toggle {\n\tbackground: none;\n}\n\n.hc-black .monaco-custom-toggle:hover,\n.hc-light .monaco-custom-toggle:hover {\n\tbackground: none;\n}\n\n.monaco-custom-toggle.monaco-checkbox {\n\theight: 18px;\n\twidth: 18px;\n\tborder: 1px solid transparent;\n\tborder-radius: 3px;\n\tmargin-right: 9px;\n\tmargin-left: 0px;\n\tpadding: 0px;\n\topacity: 1;\n\tbackground-size: 16px !important;\n}\n\n/* hide check when unchecked */\n.monaco-custom-toggle.monaco-checkbox:not(.checked)::before {\n\tvisibility: hidden;\n}\n",""]);const P=u},61766:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-tl-row {\n\tdisplay: flex;\n\theight: 100%;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-tl-indent {\n\theight: 100%;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 16px;\n\tpointer-events: none;\n}\n\n.hide-arrows .monaco-tl-indent {\n\tleft: 12px;\n}\n\n.monaco-tl-indent > .indent-guide {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\theight: 100%;\n\tborder-left: 1px solid transparent;\n}\n\n.monaco-tl-indent > .indent-guide {\n\ttransition: border-color 0.1s linear;\n}\n\n.monaco-tl-twistie,\n.monaco-tl-contents {\n\theight: 100%;\n}\n\n.monaco-tl-twistie {\n\tfont-size: 10px;\n\ttext-align: right;\n\tpadding-right: 6px;\n\tflex-shrink: 0;\n\twidth: 16px;\n\tdisplay: flex !important;\n\talign-items: center;\n\tjustify-content: center;\n\ttransform: translateX(3px);\n}\n\n.monaco-tl-contents {\n\tflex: 1;\n\toverflow: hidden;\n}\n\n.monaco-tl-twistie::before {\n\tborder-radius: 20px;\n}\n\n.monaco-tl-twistie.collapsed::before {\n\ttransform: rotate(-90deg);\n}\n\n.monaco-tl-twistie.codicon-tree-item-loading::before {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\tanimation: codicon-spin 1.25s steps(30) infinite;\n}\n\n.monaco-tree-type-filter {\n\tposition: absolute;\n\ttop: 0;\n\tdisplay: flex;\n\tpadding: 3px;\n\ttransition: top 0.3s;\n\tmax-width: 200px;\n\tz-index: 100;\n\tmargin: 0 6px;\n}\n\n.monaco-tree-type-filter.disabled {\n\ttop: -40px;\n}\n\n.monaco-tree-type-filter-grab {\n\tdisplay: flex !important;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: grab;\n\tmargin-right: 2px;\n}\n\n.monaco-tree-type-filter-grab.grabbing {\n\tcursor: grabbing;\n}\n\n.monaco-tree-type-filter-input {\n\tflex: 1;\n}\n\n.monaco-tree-type-filter-input .monaco-inputbox {\n\theight: 23px;\n}\n\n.monaco-tree-type-filter-input .monaco-inputbox > .ibwrapper > .input,\n.monaco-tree-type-filter-input .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding: 2px 4px;\n}\n\n.monaco-tree-type-filter-input .monaco-findInput > .controls {\n\ttop: 2px;\n}\n\n.monaco-tree-type-filter-actionbar {\n\tmargin-left: 4px;\n}\n\n.monaco-tree-type-filter-actionbar .monaco-action-bar .action-label {\n\tpadding: 2px;\n}\n",""]);const P=u},53257:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tposition: absolute;\n\twidth: 600px;\n\tz-index: 2550;\n\tleft: 50%;\n\tmargin-left: -300px;\n\t-webkit-app-region: no-drag;\n}\n\n.quick-input-titlebar {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-left-action-bar {\n\tdisplay: flex;\n\tmargin-left: 4px;\n\tflex: 1;\n}\n\n.quick-input-title {\n\tpadding: 3px 0px;\n\ttext-align: center;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.quick-input-right-action-bar {\n\tdisplay: flex;\n\tmargin-right: 4px;\n\tflex: 1;\n}\n\n.quick-input-right-action-bar > .actions-container {\n\tjustify-content: flex-end;\n}\n\n.quick-input-titlebar .monaco-action-bar .action-label.codicon {\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\tpadding: 2px;\n}\n\n.quick-input-description {\n\tmargin: 6px;\n}\n\n.quick-input-header .quick-input-description {\n\tmargin: 4px 2px;\n}\n\n.quick-input-header {\n\tdisplay: flex;\n\tpadding: 6px 6px 0px 6px;\n\tmargin-bottom: -2px;\n}\n\n.quick-input-widget.hidden-input .quick-input-header {\n\t/* reduce margins and paddings when input box hidden */\n\tpadding: 0;\n\tmargin-bottom: 0;\n}\n\n.quick-input-and-message {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n\tmin-width: 0;\n\tposition: relative;\n}\n\n.quick-input-check-all {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-filter {\n\tflex-grow: 1;\n\tdisplay: flex;\n\tposition: relative;\n}\n\n.quick-input-box {\n\tflex-grow: 1;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-box,\n.quick-input-widget.show-checkboxes .quick-input-message {\n\tmargin-left: 5px;\n}\n\n.quick-input-visible-count {\n\tposition: absolute;\n\tleft: -10000px;\n}\n\n.quick-input-count {\n\talign-self: center;\n\tposition: absolute;\n\tright: 4px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-count .monaco-count-badge {\n\tvertical-align: middle;\n\tpadding: 2px 4px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n\n.quick-input-action {\n\tmargin-left: 6px;\n}\n\n.quick-input-action .monaco-text-button {\n\tfont-size: 11px;\n\tpadding: 0 6px;\n\tdisplay: flex;\n\theight: 27.5px;\n\talign-items: center;\n}\n\n.quick-input-message {\n\tmargin-top: -1px;\n\tpadding: 5px;\n\toverflow-wrap: break-word;\n}\n\n.quick-input-message > .codicon {\n\tmargin: 0 0.2em;\n\tvertical-align: text-bottom;\n}\n\n.quick-input-progress.monaco-progress-container {\n\tposition: relative;\n}\n\n.quick-input-progress.monaco-progress-container,\n.quick-input-progress.monaco-progress-container .progress-bit {\n\theight: 2px;\n}\n\n.quick-input-list {\n\tline-height: 22px;\n\tmargin-top: 6px;\n\tpadding: 0px 1px 1px 1px;\n}\n\n.quick-input-widget.hidden-input .quick-input-list {\n\tmargin-top: 0; /* reduce margins when input box hidden */\n}\n\n.quick-input-list .monaco-list {\n\toverflow: hidden;\n\tmax-height: calc(20 * 22px);\n}\n\n.quick-input-list .quick-input-list-entry {\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tpadding: 0 6px;\n}\n\n.quick-input-list .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-width: 1px;\n\tborder-top-style: solid;\n}\n\n.quick-input-list .monaco-list-row[data-index=\"0\"] .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-style: none;\n}\n\n.quick-input-list .quick-input-list-label {\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tflex: 1;\n}\n\n.quick-input-list .quick-input-list-checkbox {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-list .quick-input-list-rows {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n\tflex: 1;\n\tmargin-left: 5px;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows {\n\tmargin-left: 10px;\n}\n\n.quick-input-widget .quick-input-list .quick-input-list-checkbox {\n\tdisplay: none;\n}\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox {\n\tdisplay: inline;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label,\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label .monaco-icon-label-container > .monaco-icon-name-container {\n\tflex: 1; /* make sure the icon label grows within the row */\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .codicon[class*='codicon-'] {\n\tvertical-align: text-bottom;\n}\n\n.quick-input-list .quick-input-list-rows .monaco-highlighted-label span {\n\topacity: 1;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding {\n\tmargin-right: 8px; /* separate from the separator label or scrollbar if any */\n}\n\n.quick-input-list .quick-input-list-label-meta {\n\topacity: 0.7;\n\tline-height: normal;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.quick-input-list .monaco-highlighted-label .highlight {\n\tfont-weight: bold;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-separator {\n\tmargin-right: 8px; /* separate from keybindings or actions */\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tdisplay: flex;\n\tflex: 0;\n\toverflow: visible;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label {\n\t/*\n\t * By default, actions in the quick input action bar are hidden\n\t * until hovered over them or selected.\n\t */\n\tdisplay: none;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon {\n\tmargin-right: 4px;\n\tpadding: 0px 2px 2px 2px;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-top: 1px;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-right: 4px; /* separate from scrollbar */\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,\n.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label,\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label {\n\tdisplay: flex;\n}\n\n/* focused items in quick pick */\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator {\n\tcolor: inherit\n}\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key {\n\tbackground: none;\n}\n",""]);const P=u},40504:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .inputarea {\n\tmin-width: 0;\n\tmin-height: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\toutline: none !important;\n\tresize: none;\n\tborder: none;\n\toverflow: hidden;\n\tcolor: transparent;\n\tbackground-color: transparent;\n}\n/*.monaco-editor .inputarea {\n\tposition: fixed !important;\n\twidth: 800px !important;\n\theight: 500px !important;\n\ttop: initial !important;\n\tleft: initial !important;\n\tbottom: 0 !important;\n\tright: 0 !important;\n\tcolor: black !important;\n\tbackground: white !important;\n\tline-height: 15px !important;\n\tfont-size: 14px !important;\n}*/\n.monaco-editor .inputarea.ime-input {\n\tz-index: 10;\n}\n",""]);const P=u},29463:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .blockDecorations-container {\n\tposition: absolute;\n\ttop: 0;\n}\n\n.monaco-editor .blockDecorations-block {\n\tposition: absolute;\n\tbox-sizing: border-box;\n}\n",""]);const P=u},91260:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .margin-view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both {\n\tborder-right: 0;\n}\n",""]);const P=u},71329:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcdr = core decorations rendering (div)\n*/\n.monaco-editor .lines-content .cdr {\n\tposition: absolute;\n}",""]);const P=u},64827:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .glyph-margin {\n\tposition: absolute;\n\ttop: 0;\n}\n\n/*\n\tKeeping name short for faster parsing.\n\tcgmr = core glyph margin rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cgmr {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n",""]);const P=u},86848:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .lines-content .core-guide {\n\tposition: absolute;\n\tbox-sizing: border-box;\n}\n",""]);const P=u},6184:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .margin-view-overlays .line-numbers {\n\tfont-variant-numeric: tabular-nums;\n\tposition: absolute;\n\ttext-align: right;\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\tcursor: default;\n\theight: 100%;\n}\n\n.monaco-editor .relative-current-line-number {\n\ttext-align: left;\n\tdisplay: inline-block;\n\twidth: 100%;\n}\n\n.monaco-editor .margin-view-overlays .line-numbers.lh-odd {\n\tmargin-top: 1px;\n}\n",""]);const P=u},89565:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Uncomment to see lines flashing when they're painted */\n/*.monaco-editor .view-lines > .view-line {\n\tbackground-color: none;\n\tanimation-name: flash-background;\n\tanimation-duration: 800ms;\n}\n@keyframes flash-background {\n\t0%   { background-color: lightgreen; }\n\t100% { background-color: none }\n}*/\n\n.mtkcontrol {\n\tcolor: rgb(255, 255, 255) !important;\n\tbackground: rgb(150, 0, 0) !important;\n}\n\n.monaco-editor.no-user-select .lines-content,\n.monaco-editor.no-user-select .view-line,\n.monaco-editor.no-user-select .view-lines {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-editor.enable-user-select {\n\tuser-select: initial;\n\t-webkit-user-select: initial;\n\t-ms-user-select: initial;\n}\n\n.monaco-editor .view-lines {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .view-line {\n\tposition: absolute;\n\twidth: 100%;\n}\n\n.monaco-editor .mtkz {\n\tdisplay: inline-block;\n}\n\n/* TODO@tokenization bootstrap fix */\n/*.monaco-editor .view-line > span > span {\n\tfloat: none;\n\tmin-height: inherit;\n\tmargin-left: inherit;\n}*/\n",""]);const P=u},74444:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .lines-decorations {\n\tposition: absolute;\n\ttop: 0;\n\tbackground: white;\n}\n\n/*\n\tKeeping name short for faster parsing.\n\tcldr = core lines decorations rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cldr {\n\tposition: absolute;\n\theight: 100%;\n}",""]);const P=u},29364:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcmdr = core margin decorations rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cmdr {\n\tposition: absolute;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}",""]);const P=u},40563:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* START cover the case that slider is visible on mouseover */\n.monaco-editor .minimap.slider-mouseover .minimap-slider {\n\topacity: 0;\n\ttransition: opacity 100ms linear;\n}\n.monaco-editor .minimap.slider-mouseover:hover .minimap-slider {\n\topacity: 1;\n}\n.monaco-editor .minimap.slider-mouseover .minimap-slider.active {\n\topacity: 1;\n}\n/* END cover the case that slider is visible on mouseover */\n\n.monaco-editor .minimap-shadow-hidden {\n\tposition: absolute;\n\twidth: 0;\n}\n.monaco-editor .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -6px;\n\twidth: 6px;\n}\n.monaco-editor.no-minimap-shadow .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -1px;\n\twidth: 1px;\n}\n\n/* 0.5s fade in/out for the minimap */\n.minimap.autohide {\n\topacity: 0.0;\n\ttransition: opacity 0.5s;\n}\n.minimap.autohide:hover {\n\topacity: 1.0;\n}\n",""]);const P=u},59822:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .overlayWidgets {\n\tposition: absolute;\n\ttop: 0;\n\tleft:0;\n}",""]);const P=u},29443:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-ruler {\n\tposition: absolute;\n\ttop: 0;\n}",""]);const P=u},39649:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .scroll-decoration {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\theight: 6px;\n}",""]);const P=u},52595:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcslr = core selections layer rendering (div)\n*/\n.monaco-editor .lines-content .cslr {\n\tposition: absolute;\n}\n\n.monaco-editor\t\t\t.top-left-radius\t\t{ border-top-left-radius: 3px; }\n.monaco-editor\t\t\t.bottom-left-radius\t\t{ border-bottom-left-radius: 3px; }\n.monaco-editor\t\t\t.top-right-radius\t\t{ border-top-right-radius: 3px; }\n.monaco-editor\t\t\t.bottom-right-radius\t{ border-bottom-right-radius: 3px; }\n\n.monaco-editor.hc-black .top-left-radius\t\t{ border-top-left-radius: 0; }\n.monaco-editor.hc-black .bottom-left-radius\t\t{ border-bottom-left-radius: 0; }\n.monaco-editor.hc-black .top-right-radius\t\t{ border-top-right-radius: 0; }\n.monaco-editor.hc-black .bottom-right-radius\t{ border-bottom-right-radius: 0; }\n\n.monaco-editor.hc-light .top-left-radius\t\t{ border-top-left-radius: 0; }\n.monaco-editor.hc-light .bottom-left-radius\t\t{ border-bottom-left-radius: 0; }\n.monaco-editor.hc-light .top-right-radius\t\t{ border-top-right-radius: 0; }\n.monaco-editor.hc-light .bottom-right-radius\t{ border-bottom-right-radius: 0; }\n",""]);const P=u},4057:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .cursors-layer {\n\tposition: absolute;\n\ttop: 0;\n}\n\n.monaco-editor .cursors-layer > .cursor {\n\tposition: absolute;\n\toverflow: hidden;\n}\n\n/* -- smooth-caret-animation -- */\n.monaco-editor .cursors-layer.cursor-smooth-caret-animation > .cursor {\n\ttransition: all 80ms;\n}\n\n/* -- block-outline-style -- */\n.monaco-editor .cursors-layer.cursor-block-outline-style > .cursor {\n\tbox-sizing: border-box;\n\tbackground: transparent !important;\n\tborder-style: solid;\n\tborder-width: 1px;\n}\n\n/* -- underline-style -- */\n.monaco-editor .cursors-layer.cursor-underline-style > .cursor {\n\tborder-bottom-width: 2px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n\tbox-sizing: border-box;\n}\n\n/* -- underline-thin-style -- */\n.monaco-editor .cursors-layer.cursor-underline-thin-style > .cursor {\n\tborder-bottom-width: 1px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n\tbox-sizing: border-box;\n}\n\n@keyframes monaco-cursor-smooth {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t60%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes monaco-cursor-phase {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t90%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes monaco-cursor-expand {\n\t0%,\n\t20% {\n\t\ttransform: scaleY(1);\n\t}\n\t80%,\n\t100% {\n\t\ttransform: scaleY(0);\n\t}\n}\n\n.cursor-smooth {\n\tanimation: monaco-cursor-smooth 0.5s ease-in-out 0s 20 alternate;\n}\n\n.cursor-phase {\n\tanimation: monaco-cursor-phase 0.5s ease-in-out 0s 20 alternate;\n}\n\n.cursor-expand > .cursor {\n\tanimation: monaco-cursor-expand 0.5s ease-in-out 0s 20 alternate;\n}\n",""]);const P=u},22360:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* ---------- DiffEditor ---------- */\n\n.monaco-diff-editor .diffOverview {\n\tz-index: 9;\n}\n\n.monaco-diff-editor .diffOverview .diffViewport {\n\tz-index: 10;\n}\n\n/* colors not externalized: using transparancy on background */\n.monaco-diff-editor.vs\t\t\t.diffOverview { background: rgba(0, 0, 0, 0.03); }\n.monaco-diff-editor.vs-dark\t\t.diffOverview { background: rgba(255, 255, 255, 0.01); }\n\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs\t\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black\t.scrollbar { background: none; }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-light\t.scrollbar { background: none; }\n\n.monaco-scrollable-element.modified-in-monaco-diff-editor .slider {\n\tz-index: 10;\n}\n.modified-in-monaco-diff-editor\t\t\t\t.slider.active { background: rgba(171, 171, 171, .4); }\n.modified-in-monaco-diff-editor.hc-black\t.slider.active { background: none; }\n.modified-in-monaco-diff-editor.hc-light\t.slider.active { background: none; }\n\n/* ---------- Diff ---------- */\n\n.monaco-editor .insert-sign,\n.monaco-diff-editor .insert-sign,\n.monaco-editor .delete-sign,\n.monaco-diff-editor .delete-sign {\n\tfont-size: 11px !important;\n\topacity: 0.7 !important;\n\tdisplay: flex !important;\n\talign-items: center;\n}\n.monaco-editor.hc-black .insert-sign,\n.monaco-diff-editor.hc-black .insert-sign,\n.monaco-editor.hc-black .delete-sign,\n.monaco-diff-editor.hc-black .delete-sign,\n.monaco-editor.hc-light .insert-sign,\n.monaco-diff-editor.hc-light .insert-sign,\n.monaco-editor.hc-light .delete-sign,\n.monaco-diff-editor.hc-light .delete-sign {\n\topacity: 1;\n}\n\n.monaco-editor .inline-deleted-margin-view-zone {\n\ttext-align: right;\n}\n.monaco-editor .inline-added-margin-view-zone {\n\ttext-align: right;\n}\n\n.monaco-editor .arrow-revert-change {\n\tz-index: 10;\n\tposition: absolute;\n}\n\n.monaco-editor .arrow-revert-change:hover {\n\tcursor: pointer;\n}\n\n/* ---------- Inline Diff ---------- */\n\n.monaco-editor .view-zones .view-lines .view-line span {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .margin-view-zones .lightbulb-glyph:hover {\n\tcursor: pointer;\n}\n",""]);const P=u},34504:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-diff-editor .diff-review-line-number {\n\ttext-align: right;\n\tdisplay: inline-block;\n}\n\n.monaco-diff-editor .diff-review {\n\tposition: absolute;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-diff-editor .diff-review-summary {\n\tpadding-left: 10px;\n}\n\n.monaco-diff-editor .diff-review-shadow {\n\tposition: absolute;\n}\n\n.monaco-diff-editor .diff-review-row {\n\twhite-space: pre;\n}\n\n.monaco-diff-editor .diff-review-table {\n\tdisplay: table;\n\tmin-width: 100%;\n}\n\n.monaco-diff-editor .diff-review-row {\n\tdisplay: table-row;\n\twidth: 100%;\n}\n\n.monaco-diff-editor .diff-review-spacer {\n\tdisplay: inline-block;\n\twidth: 10px;\n\tvertical-align: middle;\n}\n\n.monaco-diff-editor .diff-review-spacer > .codicon {\n\tfont-size: 9px !important;\n}\n\n.monaco-diff-editor .diff-review-actions {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tright: 10px;\n\ttop: 2px;\n}\n\n.monaco-diff-editor .diff-review-actions .action-label {\n\twidth: 16px;\n\theight: 16px;\n\tmargin: 2px 0;\n}\n",""]);const P=u},97337:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -------------------- IE10 remove auto clear button -------------------- */\n\n::-ms-clear {\n\tdisplay: none;\n}\n\n/* All widgets */\n/* I am not a big fan of this rule */\n.monaco-editor .editor-widget input {\n\tcolor: inherit;\n}\n\n/* -------------------- Editor -------------------- */\n\n.monaco-editor {\n\tposition: relative;\n\toverflow: visible;\n\t-webkit-text-size-adjust: 100%;\n}\n\n/* -------------------- Misc -------------------- */\n\n.monaco-editor .overflow-guard {\n\tposition: relative;\n\toverflow: hidden;\n}\n\n.monaco-editor .view-overlays {\n\tposition: absolute;\n\ttop: 0;\n}\n\n/*\n.monaco-editor .auto-closed-character {\n\topacity: 0.3;\n}\n*/\n",""]);const P=u},34055:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .selection-anchor {\n\tbackground-color: #007ACC;\n\twidth: 2px !important;\n}\n",""]);const P=u},12205:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .bracket-match {\n\tbox-sizing: border-box;\n}\n",""]);const P=u},32874:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .contentWidgets .codicon-light-bulb,\n.monaco-editor .contentWidgets .codicon-lightbulb-autofix {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.monaco-editor .contentWidgets .codicon-light-bulb:hover,\n.monaco-editor .contentWidgets .codicon-lightbulb-autofix:hover {\n\tcursor: pointer;\n}\n",""]);const P=u},97598:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.codeActionMenuWidget {\n\tpadding: 8px 0px 8px 0px;\n\toverflow: auto;\n\tfont-size: 13px;\n\tborder-radius: 5px;\n\tmin-width: 160px;\n\tz-index: 40;\n\tdisplay: block;\n\t/* flex-direction: column;\n\tflex: 0 1 auto; */\n\twidth: 100%;\n\tborder-width: 0px;\n\tborder-color: none;\n\tbackground-color: var(--vscode-menu-background);\n\tcolor: var(--vscode-menu-foreground);\n\tbox-shadow: rgb(0,0,0, 16%) 0px 2px 8px;\n}\n\n.codeActionMenuWidget .monaco-list:not(.element-focused):focus:before {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 5; /* make sure we are on top of the tree items */\n\tcontent: "";\n\tpointer-events: none; /* enable click through */\n\toutline: 0px solid !important; /* we still need to handle the empty tree or no focus item case */\n\toutline-width: 0px !important;\n\toutline-style: none !important;\n\toutline-offset: 0px !important;\n}\n\n.codeActionMenuWidget .monaco-list {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tborder: none !important;\n\tborder-width: 0px !important;\n}\n\n/* .codeActionMenuWidget .monaco-list:not(.element-focus) {\n\tborder: none !important;\n\tborder-width: 0px !important;\n} */\n\n.codeActionMenuWidget .monaco-list .monaco-scrollable-element .monaco-list-rows {\n\theight: 100% !important;\n}\n\n.codeActionMenuWidget .monaco-list .monaco-scrollable-element {\n\toverflow: visible;\n}\n/** Styles for each row in the list element **/\n\n.codeActionMenuWidget .monaco-list .monaco-list-row:not(.separator) {\n\tdisplay: flex;\n\t-mox-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tpadding: 0px 26px 0px 26px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 2px 2px;\n\twhite-space: nowrap;\n\tcursor: pointer;\n\ttouch-action: none;\n\twidth: 100%;\n}\n\n\n.codeActionMenuWidget .monaco-list .monaco-list-row:hover:not(.option-disabled),\n.codeActionMenuWidget .monaco-list .moncao-list-row.focused:not(.option-disabled) {\n\tcolor: var(--vscode-menu-selectionForeground) !important;\n\tbackground-color: var(--vscode-menu-selectionBackground) !important;\n}\n\n.codeActionMenuWidget .monaco-list .option-disabled,\n.codeActionMenuWidget .monaco-list .option-disabled .focused {\n\tpointer-events: none;\n\t-webkit-touch-callout: none;\n\t-webkit-user-select: none;\n\t-khtml-user-select: none;\n\t-moz-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none;\n\tcolor: var(--vscode-disabledForeground) !important;\n}\n\n.codeActionMenuWidget .monaco-list .separator {\n\tborder-bottom: 1px solid var(--vscode-menu-separatorBackground);\n\tpadding-top: 0px !important;\n\t/* padding: 30px; */\n\twidth: 100%;\n\theight: 0px !important;\n\topacity: 1;\n\tfont-size: inherit;\n\tmargin: 5px 0 !important;\n\tborder-radius: 0;\n\tdisplay: flex;\n\t-mox-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 2px 2px;\n\twhite-space: nowrap;\n\tcursor: pointer;\n\ttouch-action: none;\n}\n',""]);const P=u},32849:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .codelens-decoration {\n\toverflow: hidden;\n\tdisplay: inline-block;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tcolor: var(--vscode-editorCodeLens-foreground)\n}\n\n.monaco-editor .codelens-decoration>span,\n.monaco-editor .codelens-decoration>a {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\twhite-space: nowrap;\n\tvertical-align: sub;\n}\n\n.monaco-editor .codelens-decoration>a {\n\ttext-decoration: none;\n}\n\n.monaco-editor .codelens-decoration>a:hover {\n\tcursor: pointer;\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n\n.monaco-editor .codelens-decoration>a:hover .codicon {\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n\n.monaco-editor .codelens-decoration .codicon {\n\tvertical-align: middle;\n\tcolor: currentColor !important;\n\tcolor: var(--vscode-editorCodeLens-foreground);\n}\n\n.monaco-editor .codelens-decoration>a:hover .codicon::before {\n\tcursor: pointer;\n}\n\n@keyframes fadein {\n\t0% {\n\t\topacity: 0;\n\t\tvisibility: visible;\n\t}\n\n\t100% {\n\t\topacity: 1;\n\t}\n}\n\n.monaco-editor .codelens-decoration.fadein {\n\tanimation: fadein 0.1s linear;\n}\n",""]);const P=u},3395:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>_});var f=e(60135),s=e.n(f),L=e(40479),M=e.n(L),u=e(91475),P=e.n(u),A=new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=","file:///home/runner/work/covalent/covalent/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPicker.css"),k=M()(s()),N=P()(A);k.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.colorpicker-widget {\n\theight: 190px;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/* Decoration */\n\n.colorpicker-color-decoration,\n.hc-light .colorpicker-color-decoration {\n\tborder: solid 0.1em #000;\n\tbox-sizing: border-box;\n\tmargin: 0.1em 0.2em 0 0.2em;\n\twidth: 0.8em;\n\theight: 0.8em;\n\tline-height: 0.8em;\n\tdisplay: inline-block;\n\tcursor: pointer;\n}\n\n.hc-black .colorpicker-color-decoration,\n.vs-dark .colorpicker-color-decoration {\n\tborder: solid 0.1em #eee;\n}\n\n/* Header */\n\n.colorpicker-header {\n\tdisplay: flex;\n\theight: 24px;\n\tposition: relative;\n\tbackground: url("+N+");\n\tbackground-size: 9px 9px;\n\timage-rendering: pixelated;\n}\n\n.colorpicker-header .picked-color {\n\twidth: 216px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tline-height: 24px;\n\tcursor: pointer;\n\tcolor: white;\n\tflex: 1;\n}\n\n.colorpicker-header .picked-color .codicon {\n\tcolor: inherit;\n\tfont-size: 14px;\n\tposition: absolute;\n\tleft: 8px;\n}\n\n.colorpicker-header .picked-color.light {\n\tcolor: black;\n}\n\n.colorpicker-header .original-color {\n\twidth: 74px;\n\tz-index: inherit;\n\tcursor: pointer;\n}\n\n\n/* Body */\n\n.colorpicker-body {\n\tdisplay: flex;\n\tpadding: 8px;\n\tposition: relative;\n}\n\n.colorpicker-body .saturation-wrap {\n\toverflow: hidden;\n\theight: 150px;\n\tposition: relative;\n\tmin-width: 220px;\n\tflex: 1;\n}\n\n.colorpicker-body .saturation-box {\n\theight: 150px;\n\tposition: absolute;\n}\n\n.colorpicker-body .saturation-selection {\n\twidth: 9px;\n\theight: 9px;\n\tmargin: -5px 0 0 -5px;\n\tborder: 1px solid rgb(255, 255, 255);\n\tborder-radius: 100%;\n\tbox-shadow: 0px 0px 2px rgba(0, 0, 0, 0.8);\n\tposition: absolute;\n}\n\n.colorpicker-body .strip {\n\twidth: 25px;\n\theight: 150px;\n}\n\n.colorpicker-body .hue-strip {\n\tposition: relative;\n\tmargin-left: 8px;\n\tcursor: grab;\n\tbackground: linear-gradient(to bottom, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\n}\n\n.colorpicker-body .opacity-strip {\n\tposition: relative;\n\tmargin-left: 8px;\n\tcursor: grab;\n\tbackground: url("+N+");\n\tbackground-size: 9px 9px;\n\timage-rendering: pixelated;\n}\n\n.colorpicker-body .strip.grabbing {\n\tcursor: grabbing;\n}\n\n.colorpicker-body .slider {\n\tposition: absolute;\n\ttop: 0;\n\tleft: -2px;\n\twidth: calc(100% + 4px);\n\theight: 4px;\n\tbox-sizing: border-box;\n\tborder: 1px solid rgba(255, 255, 255, 0.71);\n\tbox-shadow: 0px 0px 1px rgba(0, 0, 0, 0.85);\n}\n\n.colorpicker-body .strip .overlay {\n\theight: 150px;\n\tpointer-events: none;\n}\n",""]);const _=k},97070:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor.vs .dnd-target,\n.monaco-editor.hc-light .dnd-target {\n\tborder-right: 2px dotted black;\n\tcolor: white; /* opposite of black */\n}\n.monaco-editor.vs-dark .dnd-target {\n\tborder-right: 2px dotted #AEAFAD;\n\tcolor: #51504f; /* opposite of #AEAFAD */\n}\n.monaco-editor.hc-black .dnd-target {\n\tborder-right: 2px dotted #fff;\n\tcolor: #000; /* opposite of #fff */\n}\n\n.monaco-editor.mouse-default .view-lines,\n.monaco-editor.vs-dark.mac.mouse-default .view-lines,\n.monaco-editor.hc-black.mac.mouse-default .view-lines,\n.monaco-editor.hc-light.mac.mouse-default .view-lines {\n\tcursor: default;\n}\n.monaco-editor.mouse-copy .view-lines,\n.monaco-editor.vs-dark.mac.mouse-copy .view-lines,\n.monaco-editor.hc-black.mac.mouse-copy .view-lines,\n.monaco-editor.hc-light.mac.mouse-copy .view-lines {\n\tcursor: copy;\n}\n",""]);const P=u},56950:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Find widget */\n.monaco-editor .find-widget {\n\tposition: absolute;\n\tz-index: 35;\n\theight: 33px;\n\toverflow: hidden;\n\tline-height: 19px;\n\ttransition: transform 200ms linear;\n\tpadding: 0 4px;\n\tbox-sizing: border-box;\n\ttransform: translateY(calc(-100% - 10px)); /* shadow (10px) */\n}\n\n.monaco-workbench.reduce-motion .monaco-editor .find-widget {\n\ttransition: transform 0ms linear;\n}\n\n.monaco-editor .find-widget textarea {\n\tmargin: 0px;\n}\n\n.monaco-editor .find-widget.hiddenEditor {\n\tdisplay: none;\n}\n\n/* Find widget when replace is toggled on */\n.monaco-editor .find-widget.replaceToggled > .replace-part {\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget.visible  {\n\ttransform: translateY(0);\n}\n\n.monaco-editor .find-widget .monaco-inputbox.synthetic-focus {\n\toutline: 1px solid -webkit-focus-ring-color;\n\toutline-offset: -1px;\n}\n\n.monaco-editor .find-widget .monaco-inputbox .input {\n\tbackground-color: transparent;\n\tmin-height: 0;\n}\n\n.monaco-editor .find-widget .monaco-findInput .input {\n\tfont-size: 13px;\n}\n\n.monaco-editor .find-widget > .find-part,\n.monaco-editor .find-widget > .replace-part {\n\tmargin: 4px 0 0 17px;\n\tfont-size: 12px;\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox {\n\tmin-height: 25px;\n}\n\n\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding-right: 22px;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .input,\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .mirror,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .input,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding-top: 2px;\n\tpadding-bottom: 2px;\n}\n\n.monaco-editor .find-widget > .find-part .find-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget > .replace-part .replace-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget .monaco-findInput {\n\tvertical-align: middle;\n\tdisplay: flex;\n\tflex:1;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element {\n\t/* Make sure textarea inherits the width correctly */\n\twidth: 100%;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical {\n\t/* Hide vertical scrollbar */\n\topacity: 0;\n}\n\n.monaco-editor .find-widget .matchesCount {\n\tdisplay: flex;\n\tflex: initial;\n\tmargin: 0 0 0 3px;\n\tpadding: 2px 0 0 2px;\n\theight: 25px;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\ttext-align: center;\n\tline-height: 23px;\n}\n\n.monaco-editor .find-widget .button {\n\twidth: 16px;\n\theight: 16px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n\tdisplay: flex;\n\tflex: initial;\n\tmargin-left: 3px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n\tcursor: pointer;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* find in selection button */\n.monaco-editor .find-widget .codicon-find-selection {\n\twidth: 22px;\n\theight: 22px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n}\n\n.monaco-editor .find-widget .button.left {\n\tmargin-left: 0;\n\tmargin-right: 3px;\n}\n\n.monaco-editor .find-widget .button.wide {\n\twidth: auto;\n\tpadding: 1px 6px;\n\ttop: -1px;\n}\n\n.monaco-editor .find-widget .button.toggle {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 3px;\n\twidth: 18px;\n\theight: 100%;\n\tborder-radius: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .find-widget .button.toggle.disabled {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget .disabled {\n\tcolor: var(--vscode-disabledForeground);\n\tcursor: default;\n}\n\n.monaco-editor .find-widget > .replace-part {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput {\n\tposition: relative;\n\tdisplay: flex;\n\tvertical-align: middle;\n\tflex: auto;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n\n/* REDUCED */\n.monaco-editor .find-widget.reduced-find-widget .matchesCount {\n\tdisplay:none;\n}\n\n/* NARROW (SMALLER THAN REDUCED) */\n.monaco-editor .find-widget.narrow-find-widget {\n\tmax-width: 257px !important;\n}\n\n/* COLLAPSED (SMALLER THAN NARROW) */\n.monaco-editor .find-widget.collapsed-find-widget {\n\tmax-width: 170px !important;\n}\n\n.monaco-editor .find-widget.collapsed-find-widget .button.previous,\n.monaco-editor .find-widget.collapsed-find-widget .button.next,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,\n.monaco-editor .find-widget.collapsed-find-widget > .find-part .monaco-findInput .controls {\n\tdisplay:none;\n}\n\n.monaco-editor .findMatch {\n\tanimation-duration: 0;\n\tanimation-name: inherit !important;\n}\n\n.monaco-editor .find-widget .monaco-sash {\n\tleft: 0 !important;\n}\n\n.monaco-editor.hc-black .find-widget .button:before {\n\tposition: relative;\n\ttop: 1px;\n\tleft: 2px;\n}\n",""]);const P=u},43388:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,\n.monaco-editor .margin-view-overlays .codicon-folding-manual-expanded,\n.monaco-editor .margin-view-overlays .codicon-folding-expanded,\n.monaco-editor .margin-view-overlays .codicon-folding-collapsed {\n\tcursor: pointer;\n\topacity: 0;\n\ttransition: opacity 0.5s;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tfont-size: 140%;\n\tmargin-left: 2px;\n}\n\n.monaco-editor .margin-view-overlays:hover .codicon,\n.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,\n.monaco-editor .margin-view-overlays .codicon.codicon-folding-manual-collapsed,\n.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons {\n\topacity: 1;\n}\n\n.monaco-editor .inline-folded:after {\n\tcolor: grey;\n\tmargin: 0.1em 0.2em 0 0.2em;\n\tcontent: "\u22ef";\n\tdisplay: inline;\n\tline-height: 1em;\n\tcursor: pointer;\n}\n\n',""]);const P=u},35351:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* marker zone */\n\n.monaco-editor .peekview-widget .head .peekview-title .severity-icon {\n\tdisplay: inline-block;\n\tvertical-align: text-top;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .marker-widget {\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .marker-widget > .stale {\n\topacity: 0.6;\n\tfont-style: italic;\n}\n\n.monaco-editor .marker-widget .title {\n\tdisplay: inline-block;\n\tpadding-right: 5px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer {\n\tposition: absolute;\n\twhite-space: pre;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tpadding: 8px 12px 0 20px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .details {\n\tpadding-left: 6px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .source,\n.monaco-editor .marker-widget .descriptioncontainer .message span.code {\n\topacity: 0.6;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link {\n\topacity: 0.6;\n\tcolor: inherit;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .filename {\n\tcursor: pointer;\n}\n",""]);const P=u},33257:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .goto-definition-link {\n\ttext-decoration: underline;\n\tcursor: pointer;\n}",""]);const P=u},60879:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -- zone widget */\n.monaco-editor .zone-widget .zone-widget-container.reference-zone-widget {\n\tborder-top-width: 1px;\n\tborder-bottom-width: 1px;\n}\n\n.monaco-editor .reference-zone-widget .inline {\n\tdisplay: inline-block;\n\tvertical-align: top;\n}\n\n.monaco-editor .reference-zone-widget .messages {\n\theight: 100%;\n\twidth: 100%;\n\ttext-align: center;\n\tpadding: 3em 0;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree {\n\tline-height: 23px;\n\tbackground-color: var(--vscode-peekViewResult-background);\n\tcolor: var(--vscode-peekViewResult-lineForeground);\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference {\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file {\n\tdisplay: inline-flex;\n\twidth: 100%;\n\theight: 100%;\n\tcolor: var(--vscode-peekViewResult-fileForeground);\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file {\n\tcolor: inherit !important;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) {\n\tbackground-color: var(--vscode-peekViewResult-selectionBackground);\n\tcolor: var(--vscode-peekViewResult-selectionForeground) !important;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file .count {\n\tmargin-right: 12px;\n\tmargin-left: auto;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight {\n\tbackground-color: var(--vscode-peekViewResult-matchHighlightBackground);\n}\n\n.monaco-editor .reference-zone-widget .preview .reference-decoration {\n\tbackground-color: var(--vscode-peekViewEditor-matchHighlightBackground);\n\tborder: 2px solid var(--vscode-peekViewEditor-matchHighlightBorder);\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,\n.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\n\tbackground-color: var(--vscode-peekViewEditor-background);\n}\n\n.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\n\tbackground-color: var(--vscode-peekViewEditorGutter-background);\n}\n\n/* High Contrast Theming */\n\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file,\n.monaco-editor.hc-light .reference-zone-widget .ref-tree .reference-file {\n\tfont-weight: bold;\n}\n\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .referenceMatch .highlight,\n.monaco-editor.hc-light .reference-zone-widget .ref-tree .referenceMatch .highlight {\n\tborder: 1px dotted var(--vscode-contrastActiveBorder, transparent);\n\tbox-sizing: border-box;\n}\n",""]);const P=u},77682:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .suggest-preview-additional-widget {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .suggest-preview-additional-widget .content-spacer {\n\tcolor: transparent;\n\twhite-space: pre;\n}\n\n.monaco-editor .suggest-preview-additional-widget .button {\n\tdisplay: inline-block;\n\tcursor: pointer;\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n\n.monaco-editor .ghost-text-hidden {\n\topacity: 0;\n\tfont-size: 0;\n}\n\n.monaco-editor .ghost-text-decoration {\n\tfont-style: italic;\n}\n\n.monaco-editor .suggest-preview-text {\n\tfont-style: italic;\n}\n\n.monaco-editor .inline-completion-text-to-replace {\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n",""]);const P=u},28477:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .detected-link,\n.monaco-editor .detected-link-active {\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n\n.monaco-editor .detected-link-active {\n\tcursor: pointer;\n}\n",""]);const P=u},65807:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .monaco-editor-overlaymessage {\n\tpadding-bottom: 8px;\n\tz-index: 10000;\n}\n\n.monaco-editor .monaco-editor-overlaymessage.below {\n\tpadding-bottom: 0;\n\tpadding-top: 8px;\n\tz-index: 10000;\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto { opacity: 1; }\n}\n.monaco-editor .monaco-editor-overlaymessage.fadeIn {\n\tanimation: fadeIn 150ms ease-out;\n}\n\n@keyframes fadeOut {\n\tfrom { opacity: 1; }\n\tto { opacity: 0; }\n}\n.monaco-editor .monaco-editor-overlaymessage.fadeOut {\n\tanimation: fadeOut 100ms ease-out;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .message {\n\tpadding: 1px 4px;\n\tcolor: var(--vscode-inputValidation-infoForeground);\n\tbackground-color: var(--vscode-inputValidation-infoBackground);\n\tborder: 1px solid var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor.hc-black .monaco-editor-overlaymessage .message,\n.monaco-editor.hc-light .monaco-editor-overlaymessage .message {\n\tborder-width: 2px;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor {\n\twidth: 0 !important;\n\theight: 0 !important;\n\tborder-color: transparent;\n\tborder-style: solid;\n\tz-index: 1000;\n\tborder-width: 8px;\n\tposition: absolute;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor.top {\n\tborder-bottom-color: var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor.below {\n\tborder-top-color: var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor .monaco-editor-overlaymessage:not(.below) .anchor.top,\n.monaco-editor .monaco-editor-overlaymessage.below .anchor.below {\n\tdisplay: none;\n}\n\n.monaco-editor .monaco-editor-overlaymessage.below .anchor.top {\n\tdisplay: inherit;\n\ttop: -8px;\n}\n",""]);const P=u},81386:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .parameter-hints-widget {\n\t/* Must be higher than the sash's z-index and terminal canvases but lower than the suggest widget */\n\tz-index: 39;\n\tdisplay: flex;\n\tflex-direction: column;\n\tline-height: 1.5em;\n\tcursor: default;\n}\n\n.monaco-editor .parameter-hints-widget > .phwrapper {\n\tmax-width: 440px;\n\tdisplay: flex;\n\tflex-direction: row;\n}\n\n.monaco-editor .parameter-hints-widget.multiple {\n\tmin-height: 3.3em;\n\tpadding: 0;\n}\n\n.monaco-editor .parameter-hints-widget.visible {\n\ttransition: left .05s ease-in-out;\n}\n\n.monaco-editor .parameter-hints-widget p,\n.monaco-editor .parameter-hints-widget ul {\n\tmargin: 8px 0;\n}\n\n.monaco-editor .parameter-hints-widget .monaco-scrollable-element,\n.monaco-editor .parameter-hints-widget .body {\n\tdisplay: flex;\n\tflex: 1;\n\tflex-direction: column;\n\tmin-height: 100%;\n}\n\n.monaco-editor .parameter-hints-widget .signature {\n\tpadding: 4px 5px;\n}\n\n.monaco-editor .parameter-hints-widget .docs {\n\tpadding: 0 10px 0 5px;\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .parameter-hints-widget .docs.empty {\n\tdisplay: none;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs {\n\twhite-space: initial;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs a:hover {\n\tcursor: pointer;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .parameter-hints-widget .docs  .monaco-tokenized-source,\n.monaco-editor .parameter-hints-widget .docs .code {\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .parameter-hints-widget .docs code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-editor .parameter-hints-widget .controls {\n\tdisplay: none;\n\tflex-direction: column;\n\talign-items: center;\n\tmin-width: 22px;\n\tjustify-content: flex-end;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .controls {\n\tdisplay: flex;\n\tpadding: 0 2px;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .button {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tcursor: pointer;\n}\n\n.monaco-editor .parameter-hints-widget .button.previous {\n\tbottom: 24px;\n}\n\n.monaco-editor .parameter-hints-widget .overloads {\n\ttext-align: center;\n\theight: 12px;\n\tline-height: 12px;\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .parameter-hints-widget .signature .parameter.active {\n\tfont-weight: bold;\n}\n\n.monaco-editor .parameter-hints-widget .documentation-parameter > .parameter {\n\tfont-weight: bold;\n\tmargin-right: 0.5em;\n}\n",""]);const P=u},8881:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .peekview-widget .head {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tflex-wrap: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title {\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 13px;\n\tmargin-left: 20px;\n\tmin-width: 0;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title.clickable {\n\tcursor: pointer;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .dirname:not(:empty) {\n\tfont-size: 0.9em;\n\tmargin-left: 0.5em;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .meta {\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .dirname {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .filename {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .meta:not(:empty)::before {\n\tcontent: '-';\n\tpadding: 0 0.3em;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions {\n\tflex: 1;\n\ttext-align: right;\n\tpadding-right: 2px;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar,\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar > .actions-container {\n\theight: 100%;\n}\n\n.monaco-editor .peekview-widget > .body {\n\tborder-top: 1px solid;\n\tposition: relative;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .codicon {\n\tmargin-right: 4px;\n}\n\n.monaco-editor .peekview-widget .monaco-list .monaco-list-row.focused .codicon {\n\tcolor: inherit !important;\n}\n",""]);const P=u},88342:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .rename-box {\n\tz-index: 100;\n\tcolor: inherit;\n}\n\n.monaco-editor .rename-box.preview {\n\tpadding: 3px 3px 0 3px;\n}\n\n.monaco-editor .rename-box .rename-input {\n\tpadding: 3px;\n\twidth: calc(100% - 6px);\n}\n\n.monaco-editor .rename-box .rename-label {\n\tdisplay: none;\n\topacity: .8;\n}\n\n.monaco-editor .rename-box.preview .rename-label {\n\tdisplay: inherit;\n}\n",""]);const P=u},15756:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .snippet-placeholder {\n\tmin-width: 2px;\n\toutline-style: solid;\n\toutline-width: 1px;\n\tbackground-color: var(--vscode-editor-snippetTabstopHighlightBackground, transparent);\n\toutline-color: var(--vscode-editor-snippetTabstopHighlightBorder, transparent);\n}\n\n.monaco-editor .finish-snippet-placeholder {\n\toutline-style: solid;\n\toutline-width: 1px;\n\tbackground-color: var(--vscode-editor-snippetFinalTabstopHighlightBackground, transparent);\n\toutline-color: var(--vscode-editor-snippetFinalTabstopHighlightBorder, transparent);\n}\n",""]);const P=u},45224:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Suggest widget*/\n\n.monaco-editor .suggest-widget {\n\twidth: 430px;\n\tz-index: 40;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-editor .suggest-widget.message {\n\tflex-direction: row;\n\talign-items: center;\n}\n\n.monaco-editor .suggest-widget,\n.monaco-editor .suggest-details {\n\tflex: 0 1 auto;\n\twidth: 100%;\n\tborder-style: solid;\n\tborder-width: 1px;\n\tborder-color: var(--vscode-editorSuggestWidget-border);\n\tbackground-color: var(--vscode-editorSuggestWidget-background);\n}\n\n.monaco-editor.hc-black .suggest-widget,\n.monaco-editor.hc-black .suggest-details,\n.monaco-editor.hc-light .suggest-widget,\n.monaco-editor.hc-light .suggest-details {\n\tborder-width: 2px;\n}\n\n/* Styles for status bar part */\n\n\n.monaco-editor .suggest-widget .suggest-status-bar {\n\tbox-sizing: border-box;\n\tdisplay: none;\n\tflex-flow: row nowrap;\n\tjustify-content: space-between;\n\twidth: 100%;\n\tfont-size: 80%;\n\tpadding: 0 4px 0 4px;\n\tborder-top: 1px solid var(--vscode-editorSuggestWidget-border);\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar {\n\tdisplay: flex;\n}\n\n.monaco-editor .suggest-widget .suggest-status-bar .left {\n\tpadding-right: 8px;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label {\n\tcolor: var(--vscode-editorSuggestWidgetStatus-foreground);\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label::after {\n\tcontent: ', ';\n\tmargin-right: 0.3em;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label {\n\twidth: 100%;\n}\n\n/* Styles for Message element for when widget is loading or is empty */\n\n.monaco-editor .suggest-widget>.message {\n\tpadding-left: 22px;\n}\n\n/** Styles for the list element **/\n\n.monaco-editor .suggest-widget>.tree {\n\theight: 100%;\n\twidth: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/** Styles for each row in the list element **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row {\n\tdisplay: flex;\n\t-mox-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tpadding-right: 10px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 2px 2px;\n\twhite-space: nowrap;\n\tcursor: pointer;\n\ttouch-action: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused {\n\tcolor: var(--vscode-editorSuggestWidget-selectedForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon {\n\tcolor: var(--vscode-editorSuggestWidget-selectedIconForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents {\n\tflex: 1;\n\theight: 100%;\n\toverflow: hidden;\n\tpadding-left: 2px;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main {\n\tdisplay: flex;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: pre;\n\tjustify-content: space-between;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right {\n\tdisplay: flex;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.focused)>.contents>.main .monaco-icon-label {\n\tcolor: var(--vscode-editorSuggestWidget-foreground);\n}\n\n.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight {\n\tfont-weight: bold;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main .monaco-highlighted-label .highlight {\n\tcolor: var(--vscode-editorSuggestWidget-highlightForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused>.contents>.main .monaco-highlighted-label .highlight {\n\tcolor: var(--vscode-editorSuggestWidget-focusHighlightForeground);\n}\n\n/** ReadMore Icon styles **/\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore::before {\n\tcolor: inherit;\n\topacity: 1;\n\tfont-size: 14px;\n\tcursor: pointer;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close {\n\tposition: absolute;\n\ttop: 6px;\n\tright: 2px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close:hover,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:hover {\n\topacity: 1;\n}\n\n/** signature, qualifier, type/details opacity **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\topacity: 0.7;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.signature-label {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\topacity: 0.6;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.qualifier-label {\n\tmargin-left: 12px;\n\topacity: 0.4;\n\tfont-size: 85%;\n\tline-height: initial;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\talign-self: center;\n}\n\n/** Type Info and icon next to the label in the focused completion item **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\tfont-size: 85%;\n\tmargin-left: 1.1em;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label>.monaco-tokenized-source {\n\tdisplay: inline;\n}\n\n/** Details: if using CompletionItem#details, show on focus **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused>.contents>.main>.right>.details-label {\n\tdisplay: inline;\n}\n\n/** Details: if using CompletionItemLabel#details, always show **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.right>.details-label,\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label)>.contents>.main>.right>.details-label {\n\tdisplay: inline;\n}\n\n/** Ellipsis on hover **/\n\n.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right.can-expand-details>.details-label {\n\twidth: calc(100% - 26px);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left {\n\tflex-shrink: 1;\n\tflex-grow: 1;\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.monaco-icon-label {\n\tflex-shrink: 0;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.left>.monaco-icon-label {\n\tmax-width: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.left>.monaco-icon-label {\n\tflex-shrink: 1;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right {\n\toverflow: hidden;\n\tflex-shrink: 4;\n\tmax-width: 70%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tright: 10px;\n\twidth: 18px;\n\theight: 18px;\n\tvisibility: hidden;\n}\n\n/** Do NOT display ReadMore when docs is side/below **/\n\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore {\n\tdisplay: none !important;\n}\n\n/** Do NOT display ReadMore when using plain CompletionItemLabel (details/documentation might not be resolved) **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.right>.readMore {\n\tdisplay: none;\n}\n\n/** Focused item can show ReadMore, but can't when docs is side/below **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right>.readMore {\n\tvisibility: visible;\n}\n\n/** Styles for each row in the list **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated {\n\topacity: 0.66;\n\ttext-decoration: unset;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated>.monaco-icon-label-container>.monaco-icon-name-container {\n\ttext-decoration: line-through;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label::before {\n\theight: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon {\n\tdisplay: block;\n\theight: 16px;\n\twidth: 16px;\n\tmargin-left: 2px;\n\tbackground-repeat: no-repeat;\n\tbackground-size: 80%;\n\tbackground-position: center;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon,\n.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon::before {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan {\n\tmargin: 0 0 0 0.3em;\n\tborder: 0.1em solid #000;\n\twidth: 0.7em;\n\theight: 0.7em;\n\tdisplay: inline-block;\n}\n\n/** Styles for the docs of the completion item in focus **/\n\n.monaco-editor .suggest-details-container {\n\tz-index: 41;\n}\n\n.monaco-editor .suggest-details {\n\tdisplay: flex;\n\tflex-direction: column;\n\tcursor: default;\n\tcolor: var(--vscode-editorSuggestWidget-foreground);\n}\n\n.monaco-editor .suggest-details.focused {\n\tborder-color: var(--vscode-focusBorder);\n}\n\n.monaco-editor .suggest-details a {\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .suggest-details a:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .suggest-details code {\n\tbackground-color: var(--vscode-textCodeBlock-background);\n}\n\n.monaco-editor .suggest-details.no-docs {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element {\n\tflex: 1;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body {\n\tbox-sizing: border-box;\n\theight: 100%;\n\twidth: 100%;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type {\n\tflex: 2;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\topacity: 0.7;\n\twhite-space: pre;\n\tmargin: 0 24px 0 0;\n\tpadding: 4px 0 12px 5px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type.auto-wrap {\n\twhite-space: normal;\n\tword-break: break-all;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs {\n\tmargin: 0;\n\tpadding: 4px 5px;\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .suggest-details.no-type>.monaco-scrollable-element>.body>.docs {\n\tmargin-right: 24px;\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs {\n\tpadding: 0;\n\twhite-space: initial;\n\tmin-height: calc(1rem + 8px);\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div,\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>span:not(:empty) {\n\tpadding: 4px 5px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:last-child {\n\tmargin-bottom: 0;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .monaco-tokenized-source {\n\twhite-space: pre;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs .code {\n\twhite-space: pre-wrap;\n\tword-wrap: break-word;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .codicon {\n\tvertical-align: sub;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>p:empty {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-details code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-editor .suggest-details ul {\n\tpadding-left: 20px;\n}\n\n.monaco-editor .suggest-details ol {\n\tpadding-left: 20px;\n}\n\n.monaco-editor .suggest-details p code {\n\tfont-family: var(--monaco-monospace-font);\n}\n",""]);const P=u},98367:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.editor-banner {\n\tbox-sizing: border-box;\n\tcursor: default;\n\twidth: 100%;\n\tfont-size: 12px;\n\tdisplay: flex;\n\toverflow: visible;\n\n\theight: 26px;\n\n\tbackground: var(--vscode-banner-background);\n}\n\n\n.editor-banner .icon-container {\n\tdisplay: flex;\n\tflex-shrink: 0;\n\talign-items: center;\n\tpadding: 0 6px 0 10px;\n}\n\n.editor-banner .icon-container.custom-icon {\n\tbackground-repeat: no-repeat;\n\tbackground-position: center center;\n\tbackground-size: 16px;\n\twidth: 16px;\n\tpadding: 0;\n\tmargin: 0 6px 0 10px;\n}\n\n.editor-banner .message-container {\n\tdisplay: flex;\n\talign-items: center;\n\tline-height: 26px;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\toverflow: hidden;\n}\n\n.editor-banner .message-container p {\n\tmargin-block-start: 0;\n\tmargin-block-end: 0;\n}\n\n.editor-banner .message-actions-container {\n\tflex-grow: 1;\n\tflex-shrink: 0;\n\tline-height: 26px;\n\tmargin: 0 4px;\n}\n\n.editor-banner .message-actions-container a.monaco-button {\n\twidth: inherit;\n\tmargin: 2px 8px;\n\tpadding: 0px 12px;\n}\n\n.editor-banner .message-actions-container a {\n\tpadding: 3px;\n\tmargin-left: 12px;\n\ttext-decoration: underline;\n}\n\n.editor-banner .action-container {\n\tpadding: 0 10px 0 6px;\n}\n\n.editor-banner {\n\tbackground-color: var(--vscode-banner-background);\n}\n\n.editor-banner,\n.editor-banner .action-container .codicon,\n.editor-banner .message-actions-container .monaco-link {\n\tcolor: var(--vscode-banner-foreground);\n}\n\n.editor-banner .icon-container .codicon {\n\tcolor: var(--vscode-banner-iconForeground);\n}\n",""]);const P=u},98679:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .unicode-highlight {\n\tborder: 1px solid var(--vscode-editorUnicodeHighlight-border);\n\tbackground-color: var(--vscode-editorUnicodeHighlight-background);\n\tbox-sizing: border-box;\n}\n",""]);const P=u},51564:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .zone-widget {\n\tposition: absolute;\n\tz-index: 10;\n}\n\n\n.monaco-editor .zone-widget .zone-widget-container {\n\tborder-top-style: solid;\n\tborder-bottom-style: solid;\n\tborder-top-width: 0;\n\tborder-bottom-width: 0;\n\tposition: relative;\n}\n",""]);const P=u},88844:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .accessibilityHelpWidget {\n\tpadding: 10px;\n\tvertical-align: middle;\n\toverflow: scroll;\n}",""]);const P=u},21556:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>p});var f=e(60135),s=e.n(f),L=e(40479),M=e.n(L),u=e(91475),P=e.n(u),A=new URL("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjNDI0MjQyIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==","file:///home/runner/work/covalent/covalent/node_modules/monaco-editor/esm/vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard.css"),k=new URL("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjQzVDNUM1Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==","file:///home/runner/work/covalent/covalent/node_modules/monaco-editor/esm/vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard.css"),N=M()(s()),_=P()(A),a=P()(k);N.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .iPadShowKeyboard {\n\twidth: 58px;\n\tmin-width: 0;\n\theight: 36px;\n\tmin-height: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\tresize: none;\n\toverflow: hidden;\n\tbackground: url("+_+") center center no-repeat;\n\tborder: 4px solid #F6F6F6;\n\tborder-radius: 4px;\n}\n\n.monaco-editor.vs-dark .iPadShowKeyboard {\n\tbackground: url("+a+") center center no-repeat;\n\tborder: 4px solid #252526;\n}",""]);const p=N},75189:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .tokens-inspect-widget {\n\tz-index: 50;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tpadding: 10px;\n}\n\n.tokens-inspect-separator {\n\theight: 1px;\n\tborder: 0;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token-length {\n\tfont-weight: normal;\n\tfont-size: 60%;\n\tfloat: right;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-metadata-table {\n\twidth: 100%;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-metadata-value {\n\tfont-family: var(--monaco-monospace-font);\n\ttext-align: right;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token-type {\n\tfont-family: var(--monaco-monospace-font);\n}\n",""]);const P=u},93198:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tfont-size: 13px;\n}\n\n.quick-input-widget .monaco-highlighted-label .highlight,\n.quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0066BF;\n}\n\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight,\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight {\n\tcolor: #9DDDFF;\n}\n\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight,\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0097fb;\n}\n\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight,\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #F38518;\n}\n\n.hc-light .quick-input-widget .monaco-highlighted-label .highlight,\n.hc-light .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0F4A85;\n}\n\n.monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: rgba(221, 221, 221, 0.4);\n\tborder: solid 1px rgba(204, 204, 204, 0.4);\n\tborder-bottom-color: rgba(187, 187, 187, 0.4);\n\tbox-shadow: inset 0 -1px 0 rgba(187, 187, 187, 0.4);\n\tcolor: #555;\n}\n\n.hc-black .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: transparent;\n\tborder: solid 1px rgb(111, 195, 223);\n\tbox-shadow: none;\n\tcolor: #fff;\n}\n\n.hc-light .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: transparent;\n\tborder: solid 1px #0F4A85;\n\tbox-shadow: none;\n\tcolor: #292929;\n}\n\n.vs-dark .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: rgba(128, 128, 128, 0.17);\n\tborder: solid 1px rgba(51, 51, 51, 0.6);\n\tborder-bottom-color: rgba(68, 68, 68, 0.6);\n\tbox-shadow: inset 0 -1px 0 rgba(68, 68, 68, 0.6);\n\tcolor: #ccc;\n}\n",""]);const P=u},70643:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\n/* Default standalone editor fonts */\n.monaco-editor {\n\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t--monaco-monospace-font: "SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono", "Liberation Mono", "DejaVu Sans Mono", "Courier New", monospace;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n.monaco-editor.hc-light .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n.monaco-hover p {\n\tmargin: 0;\n}\n\n/* See https://github.com/microsoft/monaco-editor/issues/2168#issuecomment-780078600 */\n.monaco-aria-container {\n\tposition: absolute !important;\n\ttop: 0; /* avoid being placed underneath a sibling element */\n\theight: 1px;\n\twidth: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tclip: rect(1px, 1px, 1px, 1px);\n\tclip-path: inset(50%);\n}\n\n/* The hc-black theme is already high contrast optimized */\n.monaco-editor.hc-black,\n.monaco-editor.hc-light {\n\t-ms-high-contrast-adjust: none;\n}\n/* In case the browser goes into high contrast mode and the editor is not configured with the hc-black theme */\n@media screen and (-ms-high-contrast:active) {\n\n\t/* current line highlight */\n\t.monaco-editor.vs .view-overlays .current-line,\n\t.monaco-editor.vs-dark .view-overlays .current-line {\n\t\tborder-color: windowtext !important;\n\t\tborder-left: 0;\n\t\tborder-right: 0;\n\t}\n\n\t/* view cursors */\n\t.monaco-editor.vs .cursor,\n\t.monaco-editor.vs-dark .cursor {\n\t\tbackground-color: windowtext !important;\n\t}\n\t/* dnd target */\n\t.monaco-editor.vs .dnd-target,\n\t.monaco-editor.vs-dark .dnd-target {\n\t\tborder-color: windowtext !important;\n\t}\n\n\t/* selected text background */\n\t.monaco-editor.vs .selected-text,\n\t.monaco-editor.vs-dark .selected-text {\n\t\tbackground-color: highlight !important;\n\t}\n\n\t/* allow the text to have a transparent background. */\n\t.monaco-editor.vs .view-line,\n\t.monaco-editor.vs-dark .view-line {\n\t\t-ms-high-contrast-adjust: none;\n\t}\n\n\t/* text color */\n\t.monaco-editor.vs .view-line span,\n\t.monaco-editor.vs-dark .view-line span {\n\t\tcolor: windowtext !important;\n\t}\n\t/* selected text color */\n\t.monaco-editor.vs .view-line span.inline-selected-text,\n\t.monaco-editor.vs-dark .view-line span.inline-selected-text {\n\t\tcolor: highlighttext !important;\n\t}\n\n\t/* allow decorations */\n\t.monaco-editor.vs .view-overlays,\n\t.monaco-editor.vs-dark .view-overlays {\n\t\t-ms-high-contrast-adjust: none;\n\t}\n\n\t/* various decorations */\n\t.monaco-editor.vs .selectionHighlight,\n\t.monaco-editor.vs-dark .selectionHighlight,\n\t.monaco-editor.vs .wordHighlight,\n\t.monaco-editor.vs-dark .wordHighlight,\n\t.monaco-editor.vs .wordHighlightStrong,\n\t.monaco-editor.vs-dark .wordHighlightStrong,\n\t.monaco-editor.vs .reference-decoration,\n\t.monaco-editor.vs-dark .reference-decoration {\n\t\tborder: 2px dotted highlight !important;\n\t\tbackground: transparent !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .rangeHighlight,\n\t.monaco-editor.vs-dark .rangeHighlight {\n\t\tbackground: transparent !important;\n\t\tborder: 1px dotted activeborder !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .bracket-match,\n\t.monaco-editor.vs-dark .bracket-match {\n\t\tborder-color: windowtext !important;\n\t\tbackground: transparent !important;\n\t}\n\n\t/* find widget */\n\t.monaco-editor.vs .findMatch,\n\t.monaco-editor.vs-dark .findMatch,\n\t.monaco-editor.vs .currentFindMatch,\n\t.monaco-editor.vs-dark .currentFindMatch {\n\t\tborder: 2px dotted activeborder !important;\n\t\tbackground: transparent !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .find-widget,\n\t.monaco-editor.vs-dark .find-widget {\n\t\tborder: 1px solid windowtext;\n\t}\n\n\t/* list - used by suggest widget */\n\t.monaco-editor.vs .monaco-list .monaco-list-row,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row {\n\t\t-ms-high-contrast-adjust: none;\n\t\tcolor: windowtext !important;\n\t}\n\t.monaco-editor.vs .monaco-list .monaco-list-row.focused,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row.focused {\n\t\tcolor: highlighttext !important;\n\t\tbackground-color: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-list .monaco-list-row:hover,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row:hover {\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight;\n\t\tbox-sizing: border-box;\n\t}\n\n\t/* scrollbars */\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar {\n\t\t-ms-high-contrast-adjust: none;\n\t\tbackground: background !important;\n\t\tborder: 1px solid windowtext;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider {\n\t\tbackground: windowtext !important;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider:hover,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\tbackground: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider.active,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider.active {\n\t\tbackground: highlight !important;\n\t}\n\n\t/* overview ruler */\n\t.monaco-editor.vs .decorationsOverviewRuler,\n\t.monaco-editor.vs-dark .decorationsOverviewRuler {\n\t\topacity: 0;\n\t}\n\n\t/* minimap */\n\t.monaco-editor.vs .minimap,\n\t.monaco-editor.vs-dark .minimap {\n\t\tdisplay: none;\n\t}\n\n\t/* squiggles */\n\t.monaco-editor.vs .squiggly-d-error,\n\t.monaco-editor.vs-dark .squiggly-d-error {\n\t\tbackground: transparent !important;\n\t\tborder-bottom: 4px double #E47777;\n\t}\n\t.monaco-editor.vs .squiggly-c-warning,\n\t.monaco-editor.vs-dark .squiggly-c-warning {\n\t\tborder-bottom: 4px double #71B771;\n\t}\n\t.monaco-editor.vs .squiggly-b-info,\n\t.monaco-editor.vs-dark .squiggly-b-info {\n\t\tborder-bottom: 4px double #71B771;\n\t}\n\t.monaco-editor.vs .squiggly-a-hint,\n\t.monaco-editor.vs-dark .squiggly-a-hint {\n\t\tborder-bottom: 4px double #6c6c6c;\n\t}\n\n\t/* contextmenu */\n\t.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n\t.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\n\t\t-ms-high-contrast-adjust: none;\n\t\tcolor: highlighttext !important;\n\t\tbackground-color: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label,\n\t.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label {\n\t\t-ms-high-contrast-adjust: none;\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight;\n\t\tbox-sizing: border-box;\n\t}\n\n\t/* diff editor */\n\t.monaco-diff-editor.vs .diffOverviewRuler,\n\t.monaco-diff-editor.vs-dark .diffOverviewRuler {\n\t\tdisplay: none;\n\t}\n\t.monaco-editor.vs .line-insert,\n\t.monaco-editor.vs-dark .line-insert,\n\t.monaco-editor.vs .line-delete,\n\t.monaco-editor.vs-dark .line-delete {\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .char-insert,\n\t.monaco-editor.vs-dark .char-insert,\n\t.monaco-editor.vs .char-delete,\n\t.monaco-editor.vs-dark .char-delete {\n\t\tbackground: transparent !important;\n\t}\n}\n\n/*.monaco-editor.vs [tabindex="0"]:focus {\n\toutline: 1px solid rgba(0, 122, 204, 0.4);\n\toutline-offset: -1px;\n\topacity: 1 !important;\n}\n\n.monaco-editor.vs-dark [tabindex="0"]:focus {\n\toutline: 1px solid rgba(14, 99, 156, 0.6);\n\toutline-offset: -1px;\n\topacity: 1 !important;\n}*/\n',""]);const P=u},51854:(at,ue,e)=>{"use strict";e.d(ue,{Z:()=>P});var f=e(60135),s=e.n(f),L=e(40479),u=e.n(L)()(s());u.push([at.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-action-bar .action-item.menu-entry .action-label.icon {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 50%;\n\tbackground-size: 16px;\n}\n\n\n.monaco-dropdown-with-default {\n\tdisplay: flex !important;\n\tflex-direction: row;\n\tborder-radius: 5px;\n}\n\n.monaco-dropdown-with-default > .action-container > .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-dropdown-with-default > .action-container.menu-entry > .action-label.icon {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 50%;\n\tbackground-size: 16px;\n}\n\n.monaco-dropdown-with-default > .dropdown-action-container > .monaco-dropdown > .dropdown-label .codicon[class*='codicon-'] {\n\tfont-size: 12px;\n\tpadding-left: 0px;\n\tpadding-right: 0px;\n\tline-height: 16px;\n\tmargin-left: -3px;\n}\n\n.monaco-dropdown-with-default > .dropdown-action-container > .monaco-dropdown > .dropdown-label > .action-label {\n\tdisplay: block;\n\tbackground-size: 16px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n}\n",""]);const P=u},99808:(at,ue,e)=>{"use strict";e.r(ue),e.d(ue,{CancellationTokenSource:()=>ru,Emitter:()=>au,KeyCode:()=>lu,KeyMod:()=>du,MarkerSeverity:()=>gu,MarkerTag:()=>mu,Position:()=>cu,Range:()=>hu,Selection:()=>uu,SelectionDirection:()=>fu,Token:()=>vu,Uri:()=>pu,editor:()=>_u,languages:()=>Cu});var f=e(16367),s=e(80152),L=e(52787),M=e(36950),u=e(74672),P=e(94220),A=e(68451),k=e(43210),N=e(66778),_=e(41071);let a=(()=>{class ae{static chord(r,C){return(0,M.gx)(r,C)}}return ae.CtrlCmd=2048,ae.Shift=1024,ae.Alt=512,ae.WinCtrl=256,ae})();function p(){return{editor:void 0,languages:void 0,CancellationTokenSource:s.A,Emitter:L.Q5,KeyCode:_.VD,KeyMod:a,Position:P.L,Range:A.e,Selection:k.Y,SelectionDirection:_.a$,MarkerSeverity:_.ZL,MarkerTag:_.eB,Uri:u.o,Token:N.WU}}var c=e(93379),n=e.n(c),l=e(7795),v=e.n(l),d=e(90569),m=e.n(d),I=e(3565),y=e.n(I),S=e(19216),b=e.n(S),x=e(44589),T=e.n(x),R=e(70643),Q={};Q.styleTagTransform=T(),Q.setAttributes=y(),Q.insert=m().bind(null,"head"),Q.domAPI=v(),Q.insertStyleElement=b(),n()(R.Z,Q);var F=e(52425),W=e(93059),B=e(33126),z=e(7221),j=e(23817),Y=e(25462),E=e(92651),V=e(32213),$=e(23924),te=e(73728),w=e(42570),fe=e(8648),be=e(63072),me=e(53663),Ie=e(38972),ee=e(54435);let he=!1;function de(ae){!Ie.$L||(he||(he=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(ae.message))}class ge{constructor(i,r,C,U){this.vsWorker=i,this.req=r,this.method=C,this.args=U,this.type=0}}class re{constructor(i,r,C,U){this.vsWorker=i,this.seq=r,this.res=C,this.err=U,this.type=1}}class Se{constructor(i,r,C,U){this.vsWorker=i,this.req=r,this.eventName=C,this.arg=U,this.type=2}}class Pe{constructor(i,r,C){this.vsWorker=i,this.req=r,this.event=C,this.type=3}}class Ve{constructor(i,r){this.vsWorker=i,this.req=r,this.type=4}}class ie{constructor(i){this._workerId=-1,this._handler=i,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(i){this._workerId=i}sendMessage(i,r){const C=String(++this._lastSentReq);return new Promise((U,J)=>{this._pendingReplies[C]={resolve:U,reject:J},this._send(new ge(this._workerId,C,i,r))})}listen(i,r){let C=null;const U=new L.Q5({onFirstListenerAdd:()=>{C=String(++this._lastSentReq),this._pendingEmitters.set(C,U),this._send(new Se(this._workerId,C,i,r))},onLastListenerRemove:()=>{this._pendingEmitters.delete(C),this._send(new Ve(this._workerId,C)),C=null}});return U.event}handleMessage(i){!i||!i.vsWorker||-1!==this._workerId&&i.vsWorker!==this._workerId||this._handleMessage(i)}_handleMessage(i){switch(i.type){case 1:return this._handleReplyMessage(i);case 0:return this._handleRequestMessage(i);case 2:return this._handleSubscribeEventMessage(i);case 3:return this._handleEventMessage(i);case 4:return this._handleUnsubscribeEventMessage(i)}}_handleReplyMessage(i){if(!this._pendingReplies[i.seq])return void console.warn("Got reply to unknown seq");const r=this._pendingReplies[i.seq];if(delete this._pendingReplies[i.seq],i.err){let C=i.err;return i.err.$isError&&(C=new Error,C.name=i.err.name,C.message=i.err.message,C.stack=i.err.stack),void r.reject(C)}r.resolve(i.res)}_handleRequestMessage(i){const r=i.req;this._handler.handleMessage(i.method,i.args).then(U=>{this._send(new re(this._workerId,r,U,void 0))},U=>{U.detail instanceof Error&&(U.detail=(0,me.ri)(U.detail)),this._send(new re(this._workerId,r,void 0,(0,me.ri)(U)))})}_handleSubscribeEventMessage(i){const r=i.req,C=this._handler.handleEvent(i.eventName,i.arg)(U=>{this._send(new Pe(this._workerId,r,U))});this._pendingEvents.set(r,C)}_handleEventMessage(i){this._pendingEmitters.has(i.req)?this._pendingEmitters.get(i.req).fire(i.event):console.warn("Got event for unknown req")}_handleUnsubscribeEventMessage(i){this._pendingEvents.has(i.req)?(this._pendingEvents.get(i.req).dispose(),this._pendingEvents.delete(i.req)):console.warn("Got unsubscribe for unknown req")}_send(i){const r=[];if(0===i.type)for(let C=0;C<i.args.length;C++)i.args[C]instanceof ArrayBuffer&&r.push(i.args[C]);else 1===i.type&&i.res instanceof ArrayBuffer&&r.push(i.res);this._handler.sendMessage(i,r)}}class ye extends F.JT{constructor(i,r,C){super();let U=null;this._worker=this._register(i.create("vs/base/common/worker/simpleWorker",vt=>{this._protocol.handleMessage(vt)},vt=>{null==U||U(vt)})),this._protocol=new ie({sendMessage:(vt,Tt)=>{this._worker.postMessage(vt,Tt)},handleMessage:(vt,Tt)=>{if("function"!=typeof C[vt])return Promise.reject(new Error("Missing method "+vt+" on main thread host."));try{return Promise.resolve(C[vt].apply(C,Tt))}catch(on){return Promise.reject(on)}},handleEvent:(vt,Tt)=>{if(Be(vt)){const on=C[vt].call(C,Tt);if("function"!=typeof on)throw new Error(`Missing dynamic event ${vt} on main thread host.`);return on}if(_e(vt)){const on=C[vt];if("function"!=typeof on)throw new Error(`Missing event ${vt} on main thread host.`);return on}throw new Error(`Malformed event name ${vt}`)}}),this._protocol.setWorkerId(this._worker.getId());let J=null;void 0!==Ie.li.require&&"function"==typeof Ie.li.require.getConfig?J=Ie.li.require.getConfig():void 0!==Ie.li.requirejs&&(J=Ie.li.requirejs.s.contexts._.config);const le=ee.$E(C);this._onModuleLoaded=this._protocol.sendMessage("$initialize",[this._worker.getId(),JSON.parse(JSON.stringify(J)),r,le]);const Me=(vt,Tt)=>this._request(vt,Tt),Ye=(vt,Tt)=>this._protocol.listen(vt,Tt);this._lazyProxy=new Promise((vt,Tt)=>{U=Tt,this._onModuleLoaded.then(on=>{vt(function Qe(ae,i,r){const C=le=>function(){const Me=Array.prototype.slice.call(arguments,0);return i(le,Me)},U=le=>function(Me){return r(le,Me)},J={};for(const le of ae)J[le]=Be(le)?U(le):_e(le)?r(le,void 0):C(le);return J}(on,Me,Ye))},on=>{Tt(on),this._onError("Worker failed to load "+r,on)})})}getProxyObject(){return this._lazyProxy}_request(i,r){return new Promise((C,U)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(i,r).then(C,U)},U)})}_onError(i,r){console.error(i),console.info(r)}}function _e(ae){return"o"===ae[0]&&"n"===ae[1]&&W.df(ae.charCodeAt(2))}function Be(ae){return/^onDynamic/.test(ae)&&W.df(ae.charCodeAt(9))}var De;const Oe=null===(De=window.trustedTypes)||void 0===De?void 0:De.createPolicy("defaultWorkerFactory",{createScriptURL:ae=>ae});class xe{constructor(i,r,C,U,J){this.id=r;const le=function Ne(ae){if(Ie.li.MonacoEnvironment){if("function"==typeof Ie.li.MonacoEnvironment.getWorker)return Ie.li.MonacoEnvironment.getWorker("workerMain.js",ae);if("function"==typeof Ie.li.MonacoEnvironment.getWorkerUrl){const i=Ie.li.MonacoEnvironment.getWorkerUrl("workerMain.js",ae);return new Worker(Oe?Oe.createScriptURL(i):i,{name:ae})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}(C);this.worker=function ne(ae){return"function"==typeof ae.then}(le)?le:Promise.resolve(le),this.postMessage(i,[]),this.worker.then(Me=>{Me.onmessage=function(Ye){U(Ye.data)},Me.onmessageerror=J,"function"==typeof Me.addEventListener&&Me.addEventListener("error",J)})}getId(){return this.id}postMessage(i,r){var C;null===(C=this.worker)||void 0===C||C.then(U=>U.postMessage(i,r))}dispose(){var i;null===(i=this.worker)||void 0===i||i.then(r=>r.terminate()),this.worker=null}}let Je=(()=>{class ae{constructor(r){this._label=r,this._webWorkerFailedBeforeError=!1}create(r,C,U){const J=++ae.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new xe(r,J,this._label||"anonymous"+J,C,le=>{de(le),this._webWorkerFailedBeforeError=le,U(le)})}}return ae.LAST_WORKER_ID=0,ae})();var gt=e(14171);function Ke(ae,i,r,C){return new gt.Hs(ae,i,r).ComputeDiff(C)}class He{constructor(i){const r=[],C=[];for(let U=0,J=i.length;U<J;U++)r[U]=Nt(i[U],1),C[U]=ze(i[U],1);this.lines=i,this._startColumns=r,this._endColumns=C}getElements(){const i=[];for(let r=0,C=this.lines.length;r<C;r++)i[r]=this.lines[r].substring(this._startColumns[r]-1,this._endColumns[r]-1);return i}getStrictElement(i){return this.lines[i]}getStartLineNumber(i){return i+1}getEndLineNumber(i){return i+1}createCharSequence(i,r,C){const U=[],J=[],le=[];let Me=0;for(let Ye=r;Ye<=C;Ye++){const vt=this.lines[Ye],on=i?this._endColumns[Ye]:vt.length+1;for(let Pn=i?this._startColumns[Ye]:1;Pn<on;Pn++)U[Me]=vt.charCodeAt(Pn-1),J[Me]=Ye+1,le[Me]=Pn,Me++;!i&&Ye<C&&(U[Me]=10,J[Me]=Ye+1,le[Me]=vt.length+1,Me++)}return new Ue(U,J,le)}}class Ue{constructor(i,r,C){this._charCodes=i,this._lineNumbers=r,this._columns=C}toString(){return"["+this._charCodes.map((i,r)=>(10===i?"\\n":String.fromCharCode(i))+`-(${this._lineNumbers[r]},${this._columns[r]})`).join(", ")+"]"}_assertIndex(i,r){if(i<0||i>=r.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(i){return i>0&&i===this._lineNumbers.length?this.getEndLineNumber(i-1):(this._assertIndex(i,this._lineNumbers),this._lineNumbers[i])}getEndLineNumber(i){return-1===i?this.getStartLineNumber(i+1):(this._assertIndex(i,this._lineNumbers),10===this._charCodes[i]?this._lineNumbers[i]+1:this._lineNumbers[i])}getStartColumn(i){return i>0&&i===this._columns.length?this.getEndColumn(i-1):(this._assertIndex(i,this._columns),this._columns[i])}getEndColumn(i){return-1===i?this.getStartColumn(i+1):(this._assertIndex(i,this._columns),10===this._charCodes[i]?1:this._columns[i]+1)}}class ot{constructor(i,r,C,U,J,le,Me,Ye){this.originalStartLineNumber=i,this.originalStartColumn=r,this.originalEndLineNumber=C,this.originalEndColumn=U,this.modifiedStartLineNumber=J,this.modifiedStartColumn=le,this.modifiedEndLineNumber=Me,this.modifiedEndColumn=Ye}static createFromDiffChange(i,r,C){const U=r.getStartLineNumber(i.originalStart),J=r.getStartColumn(i.originalStart),le=r.getEndLineNumber(i.originalStart+i.originalLength-1),Me=r.getEndColumn(i.originalStart+i.originalLength-1),Ye=C.getStartLineNumber(i.modifiedStart),vt=C.getStartColumn(i.modifiedStart),Tt=C.getEndLineNumber(i.modifiedStart+i.modifiedLength-1),on=C.getEndColumn(i.modifiedStart+i.modifiedLength-1);return new ot(U,J,le,Me,Ye,vt,Tt,on)}}class Ze{constructor(i,r,C,U,J){this.originalStartLineNumber=i,this.originalEndLineNumber=r,this.modifiedStartLineNumber=C,this.modifiedEndLineNumber=U,this.charChanges=J}static createFromDiffResult(i,r,C,U,J,le,Me){let Ye,vt,Tt,on,Pn;if(0===r.originalLength?(Ye=C.getStartLineNumber(r.originalStart)-1,vt=0):(Ye=C.getStartLineNumber(r.originalStart),vt=C.getEndLineNumber(r.originalStart+r.originalLength-1)),0===r.modifiedLength?(Tt=U.getStartLineNumber(r.modifiedStart)-1,on=0):(Tt=U.getStartLineNumber(r.modifiedStart),on=U.getEndLineNumber(r.modifiedStart+r.modifiedLength-1)),le&&r.originalLength>0&&r.originalLength<20&&r.modifiedLength>0&&r.modifiedLength<20&&J()){const Wn=C.createCharSequence(i,r.originalStart,r.originalStart+r.originalLength-1),Ci=U.createCharSequence(i,r.modifiedStart,r.modifiedStart+r.modifiedLength-1);if(Wn.getElements().length>0&&Ci.getElements().length>0){let Ti=Ke(Wn,Ci,J,!0).changes;Me&&(Ti=function et(ae){if(ae.length<=1)return ae;const i=[ae[0]];let r=i[0];for(let C=1,U=ae.length;C<U;C++){const J=ae[C];Math.min(J.originalStart-(r.originalStart+r.originalLength),J.modifiedStart-(r.modifiedStart+r.modifiedLength))<3?(r.originalLength=J.originalStart+J.originalLength-r.originalStart,r.modifiedLength=J.modifiedStart+J.modifiedLength-r.modifiedStart):(i.push(J),r=J)}return i}(Ti)),Pn=[];for(let Pi=0,Vi=Ti.length;Pi<Vi;Pi++)Pn.push(ot.createFromDiffChange(Ti[Pi],Wn,Ci))}}return new Ze(Ye,vt,Tt,on,Pn)}}class Mt{constructor(i,r,C){this.shouldComputeCharChanges=C.shouldComputeCharChanges,this.shouldPostProcessCharChanges=C.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=C.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=C.shouldMakePrettyDiff,this.originalLines=i,this.modifiedLines=r,this.original=new He(i),this.modified=new He(r),this.continueLineDiff=dt(C.maxComputationTime),this.continueCharDiff=dt(0===C.maxComputationTime?0:Math.min(C.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const i=Ke(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),r=i.changes,C=i.quitEarly;if(this.shouldIgnoreTrimWhitespace){const Me=[];for(let Ye=0,vt=r.length;Ye<vt;Ye++)Me.push(Ze.createFromDiffResult(this.shouldIgnoreTrimWhitespace,r[Ye],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:C,changes:Me}}const U=[];let J=0,le=0;for(let Me=-1,Ye=r.length;Me<Ye;Me++){const vt=Me+1<Ye?r[Me+1]:null,Tt=vt?vt.originalStart:this.originalLines.length,on=vt?vt.modifiedStart:this.modifiedLines.length;for(;J<Tt&&le<on;){const Pn=this.originalLines[J],Wn=this.modifiedLines[le];if(Pn!==Wn){{let Ci=Nt(Pn,1),Ti=Nt(Wn,1);for(;Ci>1&&Ti>1&&Pn.charCodeAt(Ci-2)===Wn.charCodeAt(Ti-2);)Ci--,Ti--;(Ci>1||Ti>1)&&this._pushTrimWhitespaceCharChange(U,J+1,1,Ci,le+1,1,Ti)}{let Ci=ze(Pn,1),Ti=ze(Wn,1);const Pi=Pn.length+1,Vi=Wn.length+1;for(;Ci<Pi&&Ti<Vi&&Pn.charCodeAt(Ci-1)===Pn.charCodeAt(Ti-1);)Ci++,Ti++;(Ci<Pi||Ti<Vi)&&this._pushTrimWhitespaceCharChange(U,J+1,Ci,Pi,le+1,Ti,Vi)}}J++,le++}vt&&(U.push(Ze.createFromDiffResult(this.shouldIgnoreTrimWhitespace,vt,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),J+=vt.originalLength,le+=vt.modifiedLength)}return{quitEarly:C,changes:U}}_pushTrimWhitespaceCharChange(i,r,C,U,J,le,Me){if(this._mergeTrimWhitespaceCharChange(i,r,C,U,J,le,Me))return;let Ye;this.shouldComputeCharChanges&&(Ye=[new ot(r,C,r,U,J,le,J,Me)]),i.push(new Ze(r,r,J,J,Ye))}_mergeTrimWhitespaceCharChange(i,r,C,U,J,le,Me){const Ye=i.length;if(0===Ye)return!1;const vt=i[Ye-1];return 0!==vt.originalEndLineNumber&&0!==vt.modifiedEndLineNumber&&vt.originalEndLineNumber+1===r&&vt.modifiedEndLineNumber+1===J&&(vt.originalEndLineNumber=r,vt.modifiedEndLineNumber=J,this.shouldComputeCharChanges&&vt.charChanges&&vt.charChanges.push(new ot(r,C,r,U,J,le,J,Me)),!0)}}function Nt(ae,i){const r=W.LC(ae);return-1===r?i:r+1}function ze(ae,i){const r=W.ow(ae);return-1===r?i:r+2}function dt(ae){if(0===ae)return()=>!0;const i=Date.now();return()=>Date.now()-i<ae}var $t=e(45589),vn=e(85519),ft=e(57686);class ke{constructor(i,r,C){const U=new Uint8Array(i*r);for(let J=0,le=i*r;J<le;J++)U[J]=C;this._data=U,this.rows=i,this.cols=r}get(i,r){return this._data[i*this.cols+r]}set(i,r,C){this._data[i*this.cols+r]=C}}class nt{constructor(i){let r=0,C=0;for(let J=0,le=i.length;J<le;J++){const[Me,Ye,vt]=i[J];Ye>r&&(r=Ye),Me>C&&(C=Me),vt>C&&(C=vt)}r++,C++;const U=new ke(C,r,0);for(let J=0,le=i.length;J<le;J++){const[Me,Ye,vt]=i[J];U.set(Me,Ye,vt)}this._states=U,this._maxCharCode=r}nextState(i,r){return r<0||r>=this._maxCharCode?0:this._states.get(i,r)}}let st=null,Fe=null;class Vt{static _createLink(i,r,C,U,J){let le=J-1;do{const Me=r.charCodeAt(le);if(2!==i.get(Me))break;le--}while(le>U);if(U>0){const Me=r.charCodeAt(U-1),Ye=r.charCodeAt(le);(40===Me&&41===Ye||91===Me&&93===Ye||123===Me&&125===Ye)&&le--}return{range:{startLineNumber:C,startColumn:U+1,endLineNumber:C,endColumn:le+2},url:r.substring(U,le+1)}}static computeLinks(i,r=function Ee(){return null===st&&(st=new nt([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),st}()){const C=function mt(){if(null===Fe){Fe=new ft.N(0);const ae=" \t<>'\"\u3001\u3002\uff61\uff64\uff0c\uff0e\uff1a\uff1b\u2018\u3008\u300c\u300e\u3014\uff08\uff3b\uff5b\uff62\uff63\uff5d\uff3d\uff09\u3015\u300f\u300d\u3009\u2019\uff40\uff5e\u2026";for(let r=0;r<ae.length;r++)Fe.set(ae.charCodeAt(r),1);const i=".,;:";for(let r=0;r<i.length;r++)Fe.set(i.charCodeAt(r),2)}return Fe}(),U=[];for(let J=1,le=i.getLineCount();J<=le;J++){const Me=i.getLineContent(J),Ye=Me.length;let vt=0,Tt=0,on=0,Pn=1,Wn=!1,Ci=!1,Ti=!1,Pi=!1;for(;vt<Ye;){let Vi=!1;const zi=Me.charCodeAt(vt);if(13===Pn){let Oi;switch(zi){case 40:Wn=!0,Oi=0;break;case 41:Oi=Wn?0:1;break;case 91:Ti=!0,Ci=!0,Oi=0;break;case 93:Ti=!1,Oi=Ci?0:1;break;case 123:Pi=!0,Oi=0;break;case 125:Oi=Pi?0:1;break;case 39:Oi=39===on?1:0;break;case 34:Oi=34===on?1:0;break;case 96:Oi=96===on?1:0;break;case 42:Oi=42===on?1:0;break;case 124:Oi=124===on?1:0;break;case 32:Oi=Ti?0:1;break;default:Oi=C.get(zi)}1===Oi&&(U.push(Vt._createLink(C,Me,J,Tt,vt)),Vi=!0)}else if(12===Pn){let Oi;91===zi?(Ci=!0,Oi=0):Oi=C.get(zi),1===Oi?Vi=!0:Pn=13}else Pn=r.nextState(Pn,zi),0===Pn&&(Vi=!0);Vi&&(Pn=1,Wn=!1,Ci=!1,Pi=!1,Tt=vt+1,on=zi),vt++}13===Pn&&U.push(Vt._createLink(C,Me,J,Tt,Ye))}return U}}class Cn{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(i,r,C,U,J){if(i&&r){const le=this.doNavigateValueSet(r,J);if(le)return{range:i,value:le}}if(C&&U){const le=this.doNavigateValueSet(U,J);if(le)return{range:C,value:le}}return null}doNavigateValueSet(i,r){const C=this.numberReplace(i,r);return null!==C?C:this.textReplace(i,r)}numberReplace(i,r){const C=Math.pow(10,i.length-(i.lastIndexOf(".")+1));let U=Number(i);const J=parseFloat(i);return isNaN(U)||isNaN(J)||U!==J?null:0!==U||r?(U=Math.floor(U*C),U+=r?C:-C,String(U/C)):null}textReplace(i,r){return this.valueSetsReplace(this._defaultValueSet,i,r)}valueSetsReplace(i,r,C){let U=null;for(let J=0,le=i.length;null===U&&J<le;J++)U=this.valueSetReplace(i[J],r,C);return U}valueSetReplace(i,r,C){let U=i.indexOf(r);return U>=0?(U+=C?1:-1,U<0?U=i.length-1:U%=i.length,i[U]):null}}Cn.INSTANCE=new Cn;var Gt=e(41724),en=e(96198),Yt=function(ae,i,r,C){return new(r||(r=Promise))(function(J,le){function Me(Tt){try{vt(C.next(Tt))}catch(on){le(on)}}function Ye(Tt){try{vt(C.throw(Tt))}catch(on){le(on)}}function vt(Tt){Tt.done?J(Tt.value):function U(J){return J instanceof r?J:new r(function(le){le(J)})}(Tt.value).then(Me,Ye)}vt((C=C.apply(ae,i||[])).next())})};class ht extends class hn{constructor(i,r,C,U){this._uri=i,this._lines=r,this._eol=C,this._versionId=U,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(i){i.eol&&i.eol!==this._eol&&(this._eol=i.eol,this._lineStarts=null);const r=i.changes;for(const C of r)this._acceptDeleteRange(C.range),this._acceptInsertText(new P.L(C.range.startLineNumber,C.range.startColumn),C.text);this._versionId=i.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const i=this._eol.length,r=this._lines.length,C=new Uint32Array(r);for(let U=0;U<r;U++)C[U]=this._lines[U].length+i;this._lineStarts=new $t.oQ(C)}}_setLineText(i,r){this._lines[i]=r,this._lineStarts&&this._lineStarts.setValue(i,this._lines[i].length+this._eol.length)}_acceptDeleteRange(i){if(i.startLineNumber!==i.endLineNumber)this._setLineText(i.startLineNumber-1,this._lines[i.startLineNumber-1].substring(0,i.startColumn-1)+this._lines[i.endLineNumber-1].substring(i.endColumn-1)),this._lines.splice(i.startLineNumber,i.endLineNumber-i.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(i.startLineNumber,i.endLineNumber-i.startLineNumber);else{if(i.startColumn===i.endColumn)return;this._setLineText(i.startLineNumber-1,this._lines[i.startLineNumber-1].substring(0,i.startColumn-1)+this._lines[i.startLineNumber-1].substring(i.endColumn-1))}}_acceptInsertText(i,r){if(0===r.length)return;const C=(0,W.uq)(r);if(1===C.length)return void this._setLineText(i.lineNumber-1,this._lines[i.lineNumber-1].substring(0,i.column-1)+C[0]+this._lines[i.lineNumber-1].substring(i.column-1));C[C.length-1]+=this._lines[i.lineNumber-1].substring(i.column-1),this._setLineText(i.lineNumber-1,this._lines[i.lineNumber-1].substring(0,i.column-1)+C[0]);const U=new Uint32Array(C.length-1);for(let J=1;J<C.length;J++)this._lines.splice(i.lineNumber+J-1,0,C[J]),U[J-1]=C[J].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(i.lineNumber,U)}}{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(i){return this._lines[i-1]}getWordAtPosition(i,r){const C=(0,vn.t2)(i.column,(0,vn.eq)(r),this._lines[i.lineNumber-1],0);return C?new A.e(i.lineNumber,C.startColumn,i.lineNumber,C.endColumn):null}words(i){const r=this._lines,C=this._wordenize.bind(this);let U=0,J="",le=0,Me=[];return{*[Symbol.iterator](){for(;;)if(le<Me.length){const Ye=J.substring(Me[le].start,Me[le].end);le+=1,yield Ye}else{if(!(U<r.length))break;J=r[U],Me=C(J,i),le=0,U+=1}}}}getLineWords(i,r){const C=this._lines[i-1],U=this._wordenize(C,r),J=[];for(const le of U)J.push({word:C.substring(le.start,le.end),startColumn:le.start+1,endColumn:le.end+1});return J}_wordenize(i,r){const C=[];let U;for(r.lastIndex=0;(U=r.exec(i))&&0!==U[0].length;)C.push({start:U.index,end:U.index+U[0].length});return C}getValueInRange(i){if((i=this._validateRange(i)).startLineNumber===i.endLineNumber)return this._lines[i.startLineNumber-1].substring(i.startColumn-1,i.endColumn-1);const r=this._eol,C=i.startLineNumber-1,U=i.endLineNumber-1,J=[];J.push(this._lines[C].substring(i.startColumn-1));for(let le=C+1;le<U;le++)J.push(this._lines[le]);return J.push(this._lines[U].substring(0,i.endColumn-1)),J.join(r)}offsetAt(i){return i=this._validatePosition(i),this._ensureLineStarts(),this._lineStarts.getPrefixSum(i.lineNumber-2)+(i.column-1)}positionAt(i){i=Math.floor(i),i=Math.max(0,i),this._ensureLineStarts();const r=this._lineStarts.getIndexOf(i);return{lineNumber:1+r.index,column:1+Math.min(r.remainder,this._lines[r.index].length)}}_validateRange(i){const r=this._validatePosition({lineNumber:i.startLineNumber,column:i.startColumn}),C=this._validatePosition({lineNumber:i.endLineNumber,column:i.endColumn});return r.lineNumber!==i.startLineNumber||r.column!==i.startColumn||C.lineNumber!==i.endLineNumber||C.column!==i.endColumn?{startLineNumber:r.lineNumber,startColumn:r.column,endLineNumber:C.lineNumber,endColumn:C.column}:i}_validatePosition(i){if(!P.L.isIPosition(i))throw new Error("bad position");let{lineNumber:r,column:C}=i,U=!1;if(r<1)r=1,C=1,U=!0;else if(r>this._lines.length)r=this._lines.length,C=this._lines[r-1].length+1,U=!0;else{const J=this._lines[r-1].length+1;C<1?(C=1,U=!0):C>J&&(C=J,U=!0)}return U?{lineNumber:r,column:C}:i}}let Ct=(()=>{class ae{constructor(r,C){this._host=r,this._models=Object.create(null),this._foreignModuleFactory=C,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(r){return this._models[r]}_getModels(){const r=[];return Object.keys(this._models).forEach(C=>r.push(this._models[C])),r}acceptNewModel(r){this._models[r.url]=new ht(u.o.parse(r.url),r.lines,r.EOL,r.versionId)}acceptModelChanged(r,C){this._models[r]&&this._models[r].onEvents(C)}acceptRemovedModel(r){!this._models[r]||delete this._models[r]}computeUnicodeHighlights(r,C,U){return Yt(this,void 0,void 0,function*(){const J=this._getModel(r);return J?en.a.computeUnicodeHighlights(J,C,U):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(r,C,U,J){return Yt(this,void 0,void 0,function*(){const le=this._getModel(r),Me=this._getModel(C);return le&&Me?ae.computeDiff(le,Me,U,J):null})}static computeDiff(r,C,U,J){const le=r.getLinesContent(),Me=C.getLinesContent(),vt=new Mt(le,Me,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:U,shouldMakePrettyDiff:!0,maxComputationTime:J}).computeDiff(),Tt=!(vt.changes.length>0)&&this._modelsAreIdentical(r,C);return{quitEarly:vt.quitEarly,identical:Tt,changes:vt.changes}}static _modelsAreIdentical(r,C){const U=r.getLineCount();if(U!==C.getLineCount())return!1;for(let le=1;le<=U;le++)if(r.getLineContent(le)!==C.getLineContent(le))return!1;return!0}computeMoreMinimalEdits(r,C){return Yt(this,void 0,void 0,function*(){const U=this._getModel(r);if(!U)return C;const J=[];let le;C=C.slice(0).sort((Me,Ye)=>Me.range&&Ye.range?A.e.compareRangesUsingStarts(Me.range,Ye.range):(Me.range?0:1)-(Ye.range?0:1));for(let{range:Me,text:Ye,eol:vt}of C){if("number"==typeof vt&&(le=vt),A.e.isEmpty(Me)&&!Ye)continue;const Tt=U.getValueInRange(Me);if(Ye=Ye.replace(/\r\n|\n|\r/g,U.eol),Tt===Ye)continue;if(Math.max(Ye.length,Tt.length)>ae._diffLimit){J.push({range:Me,text:Ye});continue}const on=(0,gt.a$)(Tt,Ye,!1),Pn=U.offsetAt(A.e.lift(Me).getStartPosition());for(const Wn of on){const Ci=U.positionAt(Pn+Wn.originalStart),Ti=U.positionAt(Pn+Wn.originalStart+Wn.originalLength),Pi={text:Ye.substr(Wn.modifiedStart,Wn.modifiedLength),range:{startLineNumber:Ci.lineNumber,startColumn:Ci.column,endLineNumber:Ti.lineNumber,endColumn:Ti.column}};U.getValueInRange(Pi.range)!==Pi.text&&J.push(Pi)}}return"number"==typeof le&&J.push({eol:le,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),J})}computeLinks(r){return Yt(this,void 0,void 0,function*(){const C=this._getModel(r);return C?function qt(ae){return ae&&"function"==typeof ae.getLineCount&&"function"==typeof ae.getLineContent?Vt.computeLinks(ae):[]}(C):null})}textualSuggest(r,C,U,J){return Yt(this,void 0,void 0,function*(){const le=new Gt.G(!0),Me=new RegExp(U,J),Ye=new Set;e:for(const vt of r){const Tt=this._getModel(vt);if(Tt)for(const on of Tt.words(Me))if(on!==C&&isNaN(Number(on))&&(Ye.add(on),Ye.size>ae._suggestionsLimit))break e}return{words:Array.from(Ye),duration:le.elapsed()}})}computeWordRanges(r,C,U,J){return Yt(this,void 0,void 0,function*(){const le=this._getModel(r);if(!le)return Object.create(null);const Me=new RegExp(U,J),Ye=Object.create(null);for(let vt=C.startLineNumber;vt<C.endLineNumber;vt++){const Tt=le.getLineWords(vt,Me);for(const on of Tt){if(!isNaN(Number(on.word)))continue;let Pn=Ye[on.word];Pn||(Pn=[],Ye[on.word]=Pn),Pn.push({startLineNumber:vt,startColumn:on.startColumn,endLineNumber:vt,endColumn:on.endColumn})}}return Ye})}navigateValueSet(r,C,U,J,le){return Yt(this,void 0,void 0,function*(){const Me=this._getModel(r);if(!Me)return null;const Ye=new RegExp(J,le);C.startColumn===C.endColumn&&(C={startLineNumber:C.startLineNumber,startColumn:C.startColumn,endLineNumber:C.endLineNumber,endColumn:C.endColumn+1});const vt=Me.getValueInRange(C),Tt=Me.getWordAtPosition({lineNumber:C.startLineNumber,column:C.startColumn},Ye);if(!Tt)return null;const on=Me.getValueInRange(Tt);return Cn.INSTANCE.navigateValueSet(C,vt,Tt,on,U)})}loadForeignModule(r,C,U){const Me={host:ee.IU(U,(Ye,vt)=>this._host.fhr(Ye,vt)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(Me,C),Promise.resolve(ee.$E(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(r,C){if(!this._foreignModule||"function"!=typeof this._foreignModule[r])return Promise.reject(new Error("Missing requestHandler or method: "+r));try{return Promise.resolve(this._foreignModule[r].apply(this._foreignModule,C))}catch(U){return Promise.reject(U)}}}return ae._diffLimit=1e5,ae._suggestionsLimit=1e4,ae})();"function"==typeof importScripts&&(Ie.li.monaco=p());var jt=e(3810),yn=e(18337),En=e(42241),xn=e(37464),ai=function(ae,i){return function(r,C){i(r,C,ae)}},ei=function(ae,i,r,C){return new(r||(r=Promise))(function(J,le){function Me(Tt){try{vt(C.next(Tt))}catch(on){le(on)}}function Ye(Tt){try{vt(C.throw(Tt))}catch(on){le(on)}}function vt(Tt){Tt.done?J(Tt.value):function U(J){return J instanceof r?J:new r(function(le){le(J)})}(Tt.value).then(Me,Ye)}vt((C=C.apply(ae,i||[])).next())})};function Qn(ae,i){const r=ae.getModel(i);return!(!r||r.isTooLargeForSyncing())}let wi=class extends F.JT{constructor(i,r,C,U,J){super(),this._modelService=i,this._workerManager=this._register(new Dt(this._modelService,U)),this._logService=C,this._register(J.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(le,Me)=>Qn(this._modelService,le.uri)?this._workerManager.withWorker().then(Ye=>Ye.computeLinks(le.uri)).then(Ye=>Ye&&{links:Ye}):Promise.resolve({links:[]})})),this._register(J.completionProvider.register("*",new Dn(this._workerManager,r,this._modelService,U)))}dispose(){super.dispose()}canComputeUnicodeHighlights(i){return Qn(this._modelService,i)}computedUnicodeHighlights(i,r,C){return this._workerManager.withWorker().then(U=>U.computedUnicodeHighlights(i,r,C))}computeDiff(i,r,C,U){return this._workerManager.withWorker().then(J=>J.computeDiff(i,r,C,U))}computeMoreMinimalEdits(i,r){if((0,yn.Of)(r)){if(!Qn(this._modelService,i))return Promise.resolve(r);const C=Gt.G.create(!0),U=this._workerManager.withWorker().then(J=>J.computeMoreMinimalEdits(i,r));return U.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",i.toString(!0),C.elapsed())),Promise.race([U,(0,be.Vs)(1e3).then(()=>r)])}return Promise.resolve(void 0)}canNavigateValueSet(i){return Qn(this._modelService,i)}navigateValueSet(i,r,C){return this._workerManager.withWorker().then(U=>U.navigateValueSet(i,r,C))}canComputeWordRanges(i){return Qn(this._modelService,i)}computeWordRanges(i,r){return this._workerManager.withWorker().then(C=>C.computeWordRanges(i,r))}};wi=function(ae,i,r,C){var le,U=arguments.length,J=U<3?i:null===C?C=Object.getOwnPropertyDescriptor(i,r):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(ae,i,r,C);else for(var Me=ae.length-1;Me>=0;Me--)(le=ae[Me])&&(J=(U<3?le(J):U>3?le(i,r,J):le(i,r))||J);return U>3&&J&&Object.defineProperty(i,r,J),J}([ai(0,fe.q),ai(1,jt.V),ai(2,En.VZ),ai(3,$.c_),ai(4,xn.p)],wi);class Dn{constructor(i,r,C,U){this.languageConfigurationService=U,this._debugDisplayName="wordbasedCompletions",this._workerManager=i,this._configurationService=r,this._modelService=C}provideCompletionItems(i,r){return ei(this,void 0,void 0,function*(){const C=this._configurationService.getValue(i.uri,r,"editor");if(!C.wordBasedSuggestions)return;const U=[];if("currentDocument"===C.wordBasedSuggestionsMode)Qn(this._modelService,i.uri)&&U.push(i.uri);else for(const on of this._modelService.getModels())!Qn(this._modelService,on.uri)||(on===i?U.unshift(on.uri):("allDocuments"===C.wordBasedSuggestionsMode||on.getLanguageId()===i.getLanguageId())&&U.push(on.uri));if(0===U.length)return;const J=this.languageConfigurationService.getLanguageConfiguration(i.getLanguageId()).getWordDefinition(),le=i.getWordAtPosition(r),Me=le?new A.e(r.lineNumber,le.startColumn,r.lineNumber,le.endColumn):A.e.fromPositions(r),Ye=Me.setEndPosition(r.lineNumber,r.column),Tt=yield(yield this._workerManager.withWorker()).textualSuggest(U,null==le?void 0:le.word,J);return Tt?{duration:Tt.duration,suggestions:Tt.words.map(on=>({kind:18,label:on,insertText:on,range:{insert:Ye,replace:Me}}))}:void 0})}}class Dt extends F.JT{constructor(i,r){super(),this.languageConfigurationService=r,this._modelService=i,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new be.zh).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(15e4)),this._register(this._modelService.onModelRemoved(U=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){this._editorWorkerClient&&0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){this._editorWorkerClient&&(new Date).getTime()-this._lastWorkerUsedTime>3e5&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new We(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class Te extends F.JT{constructor(i,r,C){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=i,this._modelService=r,!C){const U=new be.zh;U.cancelAndSet(()=>this._checkStopModelSync(),Math.round(3e4)),this._register(U)}}dispose(){for(const i in this._syncedModels)(0,F.B9)(this._syncedModels[i]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(i,r){for(const C of i){const U=C.toString();this._syncedModels[U]||this._beginModelSync(C,r),this._syncedModels[U]&&(this._syncedModelsLastUsedTime[U]=(new Date).getTime())}}_checkStopModelSync(){const i=(new Date).getTime(),r=[];for(const C in this._syncedModelsLastUsedTime)i-this._syncedModelsLastUsedTime[C]>6e4&&r.push(C);for(const C of r)this._stopModelSync(C)}_beginModelSync(i,r){const C=this._modelService.getModel(i);if(!C||!r&&C.isTooLargeForSyncing())return;const U=i.toString();this._proxy.acceptNewModel({url:C.uri.toString(),lines:C.getLinesContent(),EOL:C.getEOL(),versionId:C.getVersionId()});const J=new F.SL;J.add(C.onDidChangeContent(le=>{this._proxy.acceptModelChanged(U.toString(),le)})),J.add(C.onWillDispose(()=>{this._stopModelSync(U)})),J.add((0,F.OF)(()=>{this._proxy.acceptRemovedModel(U)})),this._syncedModels[U]=J}_stopModelSync(i){const r=this._syncedModels[i];delete this._syncedModels[i],delete this._syncedModelsLastUsedTime[i],(0,F.B9)(r)}}class oe{constructor(i){this._instance=i,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class Le{constructor(i){this._workerClient=i}fhr(i,r){return this._workerClient.fhr(i,r)}}class We extends F.JT{constructor(i,r,C,U){super(),this.languageConfigurationService=U,this._disposed=!1,this._modelService=i,this._keepIdleModels=r,this._workerFactory=new Je(C),this._worker=null,this._modelManager=null}fhr(i,r){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new ye(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new Le(this)))}catch(i){de(i),this._worker=new oe(new Ct(new Le(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,i=>(de(i),this._worker=new oe(new Ct(new Le(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(i){return this._modelManager||(this._modelManager=this._register(new Te(i,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(i,r=!1){return ei(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,me.F0)()):this._getProxy().then(C=>(this._getOrCreateModelManager(C).ensureSyncedResources(i,r),C))})}computedUnicodeHighlights(i,r,C){return this._withSyncedResources([i]).then(U=>U.computeUnicodeHighlights(i.toString(),r,C))}computeDiff(i,r,C,U){return this._withSyncedResources([i,r],!0).then(J=>J.computeDiff(i.toString(),r.toString(),C,U))}computeMoreMinimalEdits(i,r){return this._withSyncedResources([i]).then(C=>C.computeMoreMinimalEdits(i.toString(),r))}computeLinks(i){return this._withSyncedResources([i]).then(r=>r.computeLinks(i.toString()))}textualSuggest(i,r,C){return ei(this,void 0,void 0,function*(){const U=yield this._withSyncedResources(i),J=C.source,le=(0,W.mr)(C);return U.textualSuggest(i.map(Me=>Me.toString()),r,J,le)})}computeWordRanges(i,r){return this._withSyncedResources([i]).then(C=>{const U=this._modelService.getModel(i);if(!U)return Promise.resolve(null);const J=this.languageConfigurationService.getLanguageConfiguration(U.getLanguageId()).getWordDefinition(),le=J.source,Me=(0,W.mr)(J);return C.computeWordRanges(i.toString(),r,le,Me)})}navigateValueSet(i,r,C){return this._withSyncedResources([i]).then(U=>{const J=this._modelService.getModel(i);if(!J)return null;const le=this.languageConfigurationService.getLanguageConfiguration(J.getLanguageId()).getWordDefinition(),Me=le.source,Ye=(0,W.mr)(le);return U.navigateValueSet(i.toString(),r,C,Me,Ye)})}dispose(){super.dispose(),this._disposed=!0}}class pt extends We{constructor(i,r,C){super(i,C.keepIdleModels||!1,C.label,r),this._foreignModuleId=C.moduleId,this._foreignModuleCreateData=C.createData||null,this._foreignModuleHost=C.host||null,this._foreignProxy=null}fhr(i,r){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[i])return Promise.reject(new Error("Missing method "+i+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[i].apply(this._foreignModuleHost,r))}catch(C){return Promise.reject(C)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(i=>{const r=this._foreignModuleHost?ee.$E(this._foreignModuleHost):[];return i.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,r).then(C=>{this._foreignModuleCreateData=null;const U=(Me,Ye)=>i.fmr(Me,Ye),J=(Me,Ye)=>function(){const vt=Array.prototype.slice.call(arguments,0);return Ye(Me,vt)},le={};for(const Me of C)le[Me]=J(Me,U);return le})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(i){return this._withSyncedResources(i).then(r=>this.getProxy())}}var Et=e(8028),Ut=e(26046),sn=e(91962);function In(ae){return!function pn(ae){return Array.isArray(ae)}(ae)}function On(ae){return"string"==typeof ae}function Tn(ae){return!On(ae)}function kn(ae){return!ae}function An(ae,i){return ae.ignoreCase&&i?i.toLowerCase():i}function Gn(ae){return ae.replace(/[&<>'"_]/g,"-")}function ri(ae,i){console.log(`${ae.languageId}: ${i}`)}function si(ae,i){return new Error(`${ae.languageId}: ${i}`)}function Si(ae,i,r,C,U){let le=null;return i.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,function(Me,Ye,vt,Tt,on,Pn,Wn,Ci,Ti){return kn(vt)?kn(Tt)?!kn(on)&&on<C.length?An(ae,C[on]):!kn(Wn)&&ae&&"string"==typeof ae[Wn]?ae[Wn]:(null===le&&(le=U.split("."),le.unshift(U)),!kn(Pn)&&Pn<le.length?An(ae,le[Pn]):""):An(ae,r):"$"})}function xi(ae,i){let r=i;for(;r&&r.length>0;){const C=ae.tokenizer[r];if(C)return C;const U=r.lastIndexOf(".");r=U<0?null:r.substr(0,U)}return null}var Yn=e(9869);class bt{constructor(i){this._maxCacheDepth=i,this._entries=Object.create(null)}static create(i,r){return this._INSTANCE.create(i,r)}create(i,r){if(null!==i&&i.depth>=this._maxCacheDepth)return new Lt(i,r);let C=Lt.getStackElementId(i);C.length>0&&(C+="|"),C+=r;let U=this._entries[C];return U||(U=new Lt(i,r),this._entries[C]=U,U)}}bt._INSTANCE=new bt(5);class Lt{constructor(i,r){this.parent=i,this.state=r,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(i){let r="";for(;null!==i;)r.length>0&&(r+="|"),r+=i.state,i=i.parent;return r}static _equals(i,r){for(;null!==i&&null!==r;){if(i===r)return!0;if(i.state!==r.state)return!1;i=i.parent,r=r.parent}return null===i&&null===r}equals(i){return Lt._equals(this,i)}push(i){return bt.create(this,i)}pop(){return this.parent}popall(){let i=this;for(;i.parent;)i=i.parent;return i}switchTo(i){return bt.create(this.parent,i)}}class Ft{constructor(i,r){this.languageId=i,this.state=r}equals(i){return this.languageId===i.languageId&&this.state.equals(i.state)}clone(){return this.state.clone()===this.state?this:new Ft(this.languageId,this.state)}}class un{constructor(i){this._maxCacheDepth=i,this._entries=Object.create(null)}static create(i,r){return this._INSTANCE.create(i,r)}create(i,r){if(null!==r)return new ln(i,r);if(null!==i&&i.depth>=this._maxCacheDepth)return new ln(i,r);const C=Lt.getStackElementId(i);let U=this._entries[C];return U||(U=new ln(i,null),this._entries[C]=U,U)}}un._INSTANCE=new un(5);class ln{constructor(i,r){this.stack=i,this.embeddedLanguageData=r}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:un.create(this.stack,this.embeddedLanguageData)}equals(i){return!!(i instanceof ln&&this.stack.equals(i.stack))&&(null===this.embeddedLanguageData&&null===i.embeddedLanguageData||null!==this.embeddedLanguageData&&null!==i.embeddedLanguageData&&this.embeddedLanguageData.equals(i.embeddedLanguageData))}}class Ot{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(i){this._languageId=i}emit(i,r){this._lastTokenType===r&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=r,this._lastTokenLanguage=this._languageId,this._tokens.push(new N.WU(i,r,this._languageId)))}nestedLanguageTokenize(i,r,C,U){const J=C.languageId,le=C.state,Me=N.RW.get(J);if(!Me)return this.enterLanguage(J),this.emit(U,""),le;const Ye=Me.tokenize(i,r,le);if(0!==U)for(const vt of Ye.tokens)this._tokens.push(new N.WU(vt.offset+U,vt.type,vt.language));else this._tokens=this._tokens.concat(Ye.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,Ye.endState}finalize(i){return new N.hG(this._tokens,i)}}class $e{constructor(i,r){this._languageService=i,this._theme=r,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(i){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(i)}emit(i,r){const C=this._theme.match(this._currentLanguageId,r);this._lastTokenMetadata!==C&&(this._lastTokenMetadata=C,this._tokens.push(i),this._tokens.push(C))}static _merge(i,r,C){const U=null!==i?i.length:0,J=r.length,le=null!==C?C.length:0;if(0===U&&0===J&&0===le)return new Uint32Array(0);if(0===U&&0===J)return C;if(0===J&&0===le)return i;const Me=new Uint32Array(U+J+le);null!==i&&Me.set(i);for(let Ye=0;Ye<J;Ye++)Me[U+Ye]=r[Ye];return null!==C&&Me.set(C,U+J),Me}nestedLanguageTokenize(i,r,C,U){const J=C.languageId,le=C.state,Me=N.RW.get(J);if(!Me)return this.enterLanguage(J),this.emit(U,""),le;const Ye=Me.tokenizeEncoded(i,r,le);if(0!==U)for(let vt=0,Tt=Ye.tokens.length;vt<Tt;vt+=2)Ye.tokens[vt]+=U;return this._prependTokens=$e._merge(this._prependTokens,this._tokens,Ye.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,Ye.endState}finalize(i){return new N.DI($e._merge(this._prependTokens,this._tokens,null),i)}}let wt=class lc{constructor(i,r,C,U,J){this._configurationService=J,this._languageService=i,this._standaloneThemeService=r,this._languageId=C,this._lexer=U,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let le=!1;this._tokenizationRegistryListener=N.RW.onDidChange(Me=>{if(le)return;let Ye=!1;for(let vt=0,Tt=Me.changedLanguages.length;vt<Tt;vt++)if(this._embeddedLanguages[Me.changedLanguages[vt]]){Ye=!0;break}Ye&&(le=!0,N.RW.fire([this._languageId]),le=!1)}),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration(Me=>{Me.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const i=[];for(const r in this._embeddedLanguages){const C=N.RW.get(r);if(C){if(C instanceof lc){const U=C.getLoadStatus();!1===U.loaded&&i.push(U.promise)}}else N.RW.isResolved(r)||i.push(N.RW.getOrCreate(r))}return 0===i.length?{loaded:!0}:{loaded:!1,promise:Promise.all(i).then(r=>{})}}getInitialState(){const i=bt.create(null,this._lexer.start);return un.create(i,null)}tokenize(i,r,C){if(i.length>=this._maxTokenizationLineLength)return(0,te.Ri)(this._languageId,C);const U=new Ot,J=this._tokenize(i,r,C,U);return U.finalize(J)}tokenizeEncoded(i,r,C){if(i.length>=this._maxTokenizationLineLength)return(0,te.Dy)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),C);const U=new $e(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),J=this._tokenize(i,r,C,U);return U.finalize(J)}_tokenize(i,r,C,U){return C.embeddedLanguageData?this._nestedTokenize(i,r,C,0,U):this._myTokenize(i,r,C,0,U)}_findLeavingNestedLanguageOffset(i,r){let C=this._lexer.tokenizer[r.stack.state];if(!C&&(C=xi(this._lexer,r.stack.state),!C))throw si(this._lexer,"tokenizer state is not defined: "+r.stack.state);let U=-1,J=!1;for(const le of C){if(!Tn(le.action)||"@pop"!==le.action.nextEmbedded)continue;J=!0;let Me=le.regex;const Ye=le.regex.source;if("^(?:"===Ye.substr(0,4)&&")"===Ye.substr(Ye.length-1,1)){const Tt=(Me.ignoreCase?"i":"")+(Me.unicode?"u":"");Me=new RegExp(Ye.substr(4,Ye.length-5),Tt)}const vt=i.search(Me);-1===vt||0!==vt&&le.matchOnlyAtLineStart||(-1===U||vt<U)&&(U=vt)}if(!J)throw si(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+r.stack.state);return U}_nestedTokenize(i,r,C,U,J){const le=this._findLeavingNestedLanguageOffset(i,C);if(-1===le){const vt=J.nestedLanguageTokenize(i,r,C.embeddedLanguageData,U);return un.create(C.stack,new Ft(C.embeddedLanguageData.languageId,vt))}const Me=i.substring(0,le);Me.length>0&&J.nestedLanguageTokenize(Me,!1,C.embeddedLanguageData,U);const Ye=i.substring(le);return this._myTokenize(Ye,r,C,U+le,J)}_safeRuleName(i){return i?i.name:"(unknown)"}_myTokenize(i,r,C,U,J){J.enterLanguage(this._languageId);const le=i.length,Me=r&&this._lexer.includeLF?i+"\n":i,Ye=Me.length;let vt=C.embeddedLanguageData,Tt=C.stack,on=0,Pn=null,Wn=!0;for(;Wn||on<Ye;){const Ci=on,Ti=Tt.depth,Pi=Pn?Pn.groups.length:0,Vi=Tt.state;let zi=null,Oi=null,Bi=null,Fo=null,us=null;if(Pn){zi=Pn.matches;const Gi=Pn.groups.shift();Oi=Gi.matched,Bi=Gi.action,Fo=Pn.rule,0===Pn.groups.length&&(Pn=null)}else{if(!Wn&&on>=Ye)break;Wn=!1;let Gi=this._lexer.tokenizer[Vi];if(!Gi&&(Gi=xi(this._lexer,Vi),!Gi))throw si(this._lexer,"tokenizer state is not defined: "+Vi);const mo=Me.substr(on);for(const Hi of Gi)if((0===on||!Hi.matchOnlyAtLineStart)&&(zi=mo.match(Hi.regex),zi)){Oi=zi[0],Bi=Hi.action;break}}if(zi||(zi=[""],Oi=""),Bi||(on<Ye&&(zi=[Me.charAt(on)],Oi=zi[0]),Bi=this._lexer.defaultToken),null===Oi)break;for(on+=Oi.length;In(Bi)&&Tn(Bi)&&Bi.test;)Bi=Bi.test(Oi,zi,Vi,on===Ye);let So=null;if("string"==typeof Bi||Array.isArray(Bi))So=Bi;else if(Bi.group)So=Bi.group;else if(null!=Bi.token){if(So=Bi.tokenSubst?Si(this._lexer,Bi.token,Oi,zi,Vi):Bi.token,Bi.nextEmbedded)if("@pop"===Bi.nextEmbedded){if(!vt)throw si(this._lexer,"cannot pop embedded language if not inside one");vt=null}else{if(vt)throw si(this._lexer,"cannot enter embedded language from within an embedded language");us=Si(this._lexer,Bi.nextEmbedded,Oi,zi,Vi)}if(Bi.goBack&&(on=Math.max(0,on-Bi.goBack)),Bi.switchTo&&"string"==typeof Bi.switchTo){let Gi=Si(this._lexer,Bi.switchTo,Oi,zi,Vi);if("@"===Gi[0]&&(Gi=Gi.substr(1)),!xi(this._lexer,Gi))throw si(this._lexer,"trying to switch to a state '"+Gi+"' that is undefined in rule: "+this._safeRuleName(Fo));Tt=Tt.switchTo(Gi)}else{if(Bi.transform&&"function"==typeof Bi.transform)throw si(this._lexer,"action.transform not supported");if(Bi.next)if("@push"===Bi.next){if(Tt.depth>=this._lexer.maxStack)throw si(this._lexer,"maximum tokenizer stack size reached: ["+Tt.state+","+Tt.parent.state+",...]");Tt=Tt.push(Vi)}else if("@pop"===Bi.next){if(Tt.depth<=1)throw si(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(Fo));Tt=Tt.pop()}else if("@popall"===Bi.next)Tt=Tt.popall();else{let Gi=Si(this._lexer,Bi.next,Oi,zi,Vi);if("@"===Gi[0]&&(Gi=Gi.substr(1)),!xi(this._lexer,Gi))throw si(this._lexer,"trying to set a next state '"+Gi+"' that is undefined in rule: "+this._safeRuleName(Fo));Tt=Tt.push(Gi)}}Bi.log&&"string"==typeof Bi.log&&ri(this._lexer,this._lexer.languageId+": "+Si(this._lexer,Bi.log,Oi,zi,Vi))}if(null===So)throw si(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(Fo));const qo=Gi=>{const mo=this._languageService.getLanguageIdByLanguageName(Gi)||this._languageService.getLanguageIdByMimeType(Gi)||Gi,Hi=this._getNestedEmbeddedLanguageData(mo);if(on<Ye){const Go=i.substr(on);return this._nestedTokenize(Go,r,un.create(Tt,Hi),U+on,J)}return un.create(Tt,Hi)};if(Array.isArray(So)){if(Pn&&Pn.groups.length>0)throw si(this._lexer,"groups cannot be nested: "+this._safeRuleName(Fo));if(zi.length!==So.length+1)throw si(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(Fo));let Gi=0;for(let mo=1;mo<zi.length;mo++)Gi+=zi[mo].length;if(Gi!==Oi.length)throw si(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(Fo));Pn={rule:Fo,matches:zi,groups:[]};for(let mo=0;mo<So.length;mo++)Pn.groups[mo]={action:So[mo],matched:zi[mo+1]};on-=Oi.length}else{{if("@rematch"===So&&(on-=Oi.length,Oi="",zi=null,So="",null!==us))return qo(us);if(0===Oi.length){if(0===Ye||Ti!==Tt.depth||Vi!==Tt.state||(Pn?Pn.groups.length:0)!==Pi)continue;throw si(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(Fo))}let Gi=null;if(On(So)&&0===So.indexOf("@brackets")){const mo=So.substr(9),Hi=Bt(this._lexer,Oi);if(!Hi)throw si(this._lexer,"@brackets token returned but no bracket defined as: "+Oi);Gi=Gn(Hi.token+mo)}else Gi=Gn(""===So?"":So+this._lexer.tokenPostfix);Ci<le&&J.emit(Ci+U,Gi)}if(null!==us)return qo(us)}}return un.create(Tt,vt)}_getNestedEmbeddedLanguageData(i){if(!this._languageService.isRegisteredLanguageId(i))return new Ft(i,te.TJ);i!==this._languageId&&(N.RW.getOrCreate(i),this._embeddedLanguages[i]=!0);const r=N.RW.get(i);return new Ft(i,r?r.getInitialState():te.TJ)}};var i;function Bt(ae,i){if(!i)return null;i=An(ae,i);const r=ae.brackets;for(const C of r){if(C.open===i)return{token:C.token,bracketType:1};if(C.close===i)return{token:C.token,bracketType:-1}}return null}wt=function(ae,i,r,C){var le,U=arguments.length,J=U<3?i:null===C?C=Object.getOwnPropertyDescriptor(i,r):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(ae,i,r,C);else for(var Me=ae.length-1;Me>=0;Me--)(le=ae[Me])&&(J=(U<3?le(J):U>3?le(i,r,J):le(i,r))||J);return U>3&&J&&Object.defineProperty(i,r,J),J}([(4,i=Yn.Ui,function(r,C){i(r,C,4)})],wt);var nn;const Kt=null===(nn=window.trustedTypes)||void 0===nn?void 0:nn.createPolicy("standaloneColorizer",{createHTML:ae=>ae});class Ge{static colorizeElement(i,r,C,U){const J=(U=U||{}).theme||"vs",le=U.mimeType||C.getAttribute("lang")||C.getAttribute("data-lang");if(!le)return console.error("Mode not detected"),Promise.resolve();const Me=r.getLanguageIdByMimeType(le)||le;i.setTheme(J);const Ye=C.firstChild?C.firstChild.nodeValue:"";return C.className+=" "+J,this.colorize(r,Ye||"",Me,U).then(Tt=>{var on;const Pn=null!==(on=null==Kt?void 0:Kt.createHTML(Tt))&&void 0!==on?on:Tt;C.innerHTML=Pn},Tt=>console.error(Tt))}static colorize(i,r,C,U){return function(ae,i,r,C){return new(r||(r=Promise))(function(J,le){function Me(Tt){try{vt(C.next(Tt))}catch(on){le(on)}}function Ye(Tt){try{vt(C.throw(Tt))}catch(on){le(on)}}function vt(Tt){Tt.done?J(Tt.value):function U(J){return J instanceof r?J:new r(function(le){le(J)})}(Tt.value).then(Me,Ye)}vt((C=C.apply(ae,i||[])).next())})}(this,void 0,void 0,function*(){const J=i.languageIdCodec;let le=4;U&&"number"==typeof U.tabSize&&(le=U.tabSize),W.uS(r)&&(r=r.substr(1));const Me=W.uq(r);if(!i.isRegisteredLanguageId(C))return St(Me,le,J);const Ye=yield N.RW.getOrCreate(C);return Ye?function ct(ae,i,r,C){return new Promise((U,J)=>{const le=()=>{const Me=function It(ae,i,r,C){let U=[],J=r.getInitialState();for(let le=0,Me=ae.length;le<Me;le++){const Ye=ae[le],vt=r.tokenizeEncoded(Ye,!0,J);Et.A.convertToEndOffset(vt.tokens,Ye.length);const Tt=new Et.A(vt.tokens,Ye,C),on=sn.wA.isBasicASCII(Ye,!0),Pn=sn.wA.containsRTL(Ye,on,!0),Wn=(0,Ut.tF)(new Ut.IJ(!1,!0,Ye,!1,on,Pn,0,Tt.inflate(),[],i,0,0,0,0,-1,"none",!1,!1,null));U=U.concat(Wn.html),U.push("<br/>"),J=vt.endState}return U.join("")}(ae,i,r,C);if(r instanceof wt){const Ye=r.getLoadStatus();if(!1===Ye.loaded)return void Ye.promise.then(le,J)}U(Me)};le()})}(Me,le,Ye,J):St(Me,le,J)})}static colorizeLine(i,r,C,U,J=4){const le=sn.wA.isBasicASCII(i,r),Me=sn.wA.containsRTL(i,le,C);return(0,Ut.tF)(new Ut.IJ(!1,!0,i,!1,le,Me,0,U,[],J,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(i,r,C=4){const U=i.getLineContent(r);i.tokenization.forceTokenization(r);const le=i.tokenization.getLineTokens(r).inflate();return this.colorizeLine(U,i.mightContainNonBasicASCII(),i.mightContainRTL(),le,C)}}function St(ae,i,r){let C=[];const J=new Uint32Array(2);J[0]=0,J[1]=33587200;for(let le=0,Me=ae.length;le<Me;le++){const Ye=ae[le];J[0]=Ye.length;const vt=new Et.A(J,Ye,r),Tt=sn.wA.isBasicASCII(Ye,!0),on=sn.wA.containsRTL(Ye,Tt,!0),Pn=(0,Ut.tF)(new Ut.IJ(!1,!0,Ye,!1,Tt,on,0,vt,[],i,0,0,0,0,-1,"none",!1,!1,null));C=C.concat(Pn.html),C.push("<br/>")}return C.join("")}var Zt=e(71578),Ht=e(37972),Pt=e(85190),wn=e(90658),Fn=e(84084),Qt=e(58059),Kn=e(90278),Zn=e(38460),_t=e(23024);let we=class extends F.JT{constructor(i){super(),this._themeService=i,this._onCodeEditorAdd=this._register(new L.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new L.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new L.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new L.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new Zn.S,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(i){this._codeEditors[i.getId()]=i,this._onCodeEditorAdd.fire(i)}removeCodeEditor(i){delete this._codeEditors[i.getId()]&&this._onCodeEditorRemove.fire(i)}listCodeEditors(){return Object.keys(this._codeEditors).map(i=>this._codeEditors[i])}addDiffEditor(i){this._diffEditors[i.getId()]=i,this._onDiffEditorAdd.fire(i)}removeDiffEditor(i){delete this._diffEditors[i.getId()]&&this._onDiffEditorRemove.fire(i)}listDiffEditors(){return Object.keys(this._diffEditors).map(i=>this._diffEditors[i])}getFocusedCodeEditor(){let i=null;const r=this.listCodeEditors();for(const C of r){if(C.hasTextFocus())return C;C.hasWidgetFocus()&&(i=C)}return i}removeDecorationType(i){const r=this._decorationOptionProviders.get(i);r&&(r.refCount--,r.refCount<=0&&(this._decorationOptionProviders.delete(i),r.dispose(),this.listCodeEditors().forEach(C=>C.removeDecorationsByType(i))))}setModelProperty(i,r,C){const U=i.toString();let J;this._modelProperties.has(U)?J=this._modelProperties.get(U):(J=new Map,this._modelProperties.set(U,J)),J.set(r,C)}getModelProperty(i,r){const C=i.toString();if(this._modelProperties.has(C))return this._modelProperties.get(C).get(r)}openCodeEditor(i,r,C){return function(ae,i,r,C){return new(r||(r=Promise))(function(J,le){function Me(Tt){try{vt(C.next(Tt))}catch(on){le(on)}}function Ye(Tt){try{vt(C.throw(Tt))}catch(on){le(on)}}function vt(Tt){Tt.done?J(Tt.value):function U(J){return J instanceof r?J:new r(function(le){le(J)})}(Tt.value).then(Me,Ye)}vt((C=C.apply(ae,i||[])).next())})}(this,void 0,void 0,function*(){for(const U of this._codeEditorOpenHandlers){const J=yield U(i,r,C);if(null!==J)return J}return null})}registerCodeEditorOpenHandler(i){const r=this._codeEditorOpenHandlers.unshift(i);return(0,F.OF)(r)}};we=function(ae,i,r,C){var le,U=arguments.length,J=U<3?i:null===C?C=Object.getOwnPropertyDescriptor(i,r):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(ae,i,r,C);else for(var Me=ae.length-1;Me>=0;Me--)(le=ae[Me])&&(J=(U<3?le(J):U>3?le(i,r,J):le(i,r))||J);return U>3&&J&&Object.defineProperty(i,r,J),J}([function(ae,i){return function(r,C){i(r,C,0)}}(0,_t.XE)],we);var Xe=e(59776),xt=e(18790),tn=function(ae,i){return function(r,C){i(r,C,ae)}};let fn=class extends we{constructor(i,r){super(r),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=i.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this.registerCodeEditorOpenHandler((C,U,J)=>function(ae,i,r,C){return new(r||(r=Promise))(function(J,le){function Me(Tt){try{vt(C.next(Tt))}catch(on){le(on)}}function Ye(Tt){try{vt(C.throw(Tt))}catch(on){le(on)}}function vt(Tt){Tt.done?J(Tt.value):function U(J){return J instanceof r?J:new r(function(le){le(J)})}(Tt.value).then(Me,Ye)}vt((C=C.apply(ae,i||[])).next())})}(this,void 0,void 0,function*(){return U?this.doOpenEditor(U,C):null}))}_checkContextKey(){let i=!1;for(const r of this.listCodeEditors())if(!r.isSimpleWidget){i=!0;break}this._editorIsOpen.set(i)}setActiveCodeEditor(i){this._activeCodeEditor=i}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(i,r){if(!this.findModel(i,r.resource)){if(r.resource){const J=r.resource.scheme;if(J===Kn.lg.http||J===Kn.lg.https)return(0,Qt.V3)(r.resource.toString()),i}return null}const U=r.options?r.options.selection:null;if(U)if("number"==typeof U.endLineNumber&&"number"==typeof U.endColumn)i.setSelection(U),i.revealRangeInCenter(U,1);else{const J={lineNumber:U.startLineNumber,column:U.startColumn};i.setPosition(J),i.revealPositionInCenter(J,1)}return i}findModel(i,r){const C=i.getModel();return C&&C.uri.toString()!==r.toString()?null:C}};fn=function(ae,i,r,C){var le,U=arguments.length,J=U<3?i:null===C?C=Object.getOwnPropertyDescriptor(i,r):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(ae,i,r,C);else for(var Me=ae.length-1;Me>=0;Me--)(le=ae[Me])&&(J=(U<3?le(J):U>3?le(i,r,J):le(i,r))||J);return U>3&&J&&Object.defineProperty(i,r,J),J}([tn(0,Xe.i6),tn(1,_t.XE)],fn),(0,xt.z)(z.$,fn);var gn=e(64725);const Ln=(0,gn.yh)("layoutService");var Rn=function(ae,i,r,C){var le,U=arguments.length,J=U<3?i:null===C?C=Object.getOwnPropertyDescriptor(i,r):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(ae,i,r,C);else for(var Me=ae.length-1;Me>=0;Me--)(le=ae[Me])&&(J=(U<3?le(J):U>3?le(i,r,J):le(i,r))||J);return U>3&&J&&Object.defineProperty(i,r,J),J},zn=function(ae,i){return function(r,C){i(r,C,ae)}};let Vn=class{constructor(i){this._codeEditorService=i,this.onDidLayout=L.ju.None,this.offset={top:0,quickPickTop:0}}get dimension(){return this._dimension||(this._dimension=Qt.D6(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var i;null===(i=this._codeEditorService.getFocusedCodeEditor())||void 0===i||i.focus()}};Vn=Rn([zn(0,z.$)],Vn);let oi=class extends Vn{constructor(i,r){super(r),this._container=i}get hasContainer(){return!1}get container(){return this._container}};oi=Rn([zn(1,z.$)],oi),(0,xt.z)(Ln,Vn);var hi=e(63570),ii=e(40402),Ni=e(20161),Ki=e(78782),Jt=e(18846),Ce=function(ae,i){return function(r,C){i(r,C,ae)}},tt=function(ae,i,r,C){return new(r||(r=Promise))(function(J,le){function Me(Tt){try{vt(C.next(Tt))}catch(on){le(on)}}function Ye(Tt){try{vt(C.throw(Tt))}catch(on){le(on)}}function vt(Tt){Tt.done?J(Tt.value):function U(J){return J instanceof r?J:new r(function(le){le(J)})}(Tt.value).then(Me,Ye)}vt((C=C.apply(ae,i||[])).next())})};function zt(ae){return ae.scheme===Kn.lg.file?ae.fsPath:ae.path}let dn=0;class Sn{constructor(i,r,C,U,J,le,Me){this.id=++dn,this.type=0,this.actual=i,this.label=i.label,this.confirmBeforeUndo=i.confirmBeforeUndo||!1,this.resourceLabel=r,this.strResource=C,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=U,this.groupOrder=J,this.sourceId=le,this.sourceOrder=Me,this.isValid=!0}setValid(i){this.isValid=i}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Nn{constructor(i,r){this.resourceLabel=i,this.reason=r}}class jn{constructor(){this.elements=new Map}createMessage(){const i=[],r=[];for(const[,U]of this.elements)(0===U.reason?i:r).push(U.resourceLabel);const C=[];return i.length>0&&C.push(ii.NC({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",i.join(", "))),r.length>0&&C.push(ii.NC({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",r.join(", "))),C.join("\n")}get size(){return this.elements.size}has(i){return this.elements.has(i)}set(i,r){this.elements.set(i,r)}delete(i){return this.elements.delete(i)}}class $n{constructor(i,r,C,U,J,le,Me){this.id=++dn,this.type=1,this.actual=i,this.label=i.label,this.confirmBeforeUndo=i.confirmBeforeUndo||!1,this.resourceLabels=r,this.strResources=C,this.groupId=U,this.groupOrder=J,this.sourceId=le,this.sourceOrder=Me,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(i,r,C){this.removedResources||(this.removedResources=new jn),this.removedResources.has(r)||this.removedResources.set(r,new Nn(i,C))}setValid(i,r,C){C?this.invalidatedResources&&(this.invalidatedResources.delete(r),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new jn),this.invalidatedResources.has(r)||this.invalidatedResources.set(r,new Nn(i,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Xn{constructor(i,r){this.resourceLabel=i,this.strResource=r,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const i of this._past)1===i.type&&i.removeResource(this.resourceLabel,this.strResource,0);for(const i of this._future)1===i.type&&i.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const i=[];i.push(`* ${this.strResource}:`);for(let r=0;r<this._past.length;r++)i.push(`   * [UNDO] ${this._past[r]}`);for(let r=this._future.length-1;r>=0;r--)i.push(`   * [REDO] ${this._future[r]}`);return i.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(i,r){1===i.type?i.setValid(this.resourceLabel,this.strResource,r):i.setValid(r)}setElementsValidFlag(i,r){for(const C of this._past)r(C.actual)&&this._setElementValidFlag(C,i);for(const C of this._future)r(C.actual)&&this._setElementValidFlag(C,i)}pushElement(i){for(const r of this._future)1===r.type&&r.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(i),this.versionId++}createSnapshot(i){const r=[];for(let C=0,U=this._past.length;C<U;C++)r.push(this._past[C].id);for(let C=this._future.length-1;C>=0;C--)r.push(this._future[C].id);return new Jt.YO(i,r)}restoreSnapshot(i){const r=i.elements.length;let C=!0,U=0,J=-1;for(let Me=0,Ye=this._past.length;Me<Ye;Me++,U++){const vt=this._past[Me];C&&(U>=r||vt.id!==i.elements[U])&&(C=!1,J=0),!C&&1===vt.type&&vt.removeResource(this.resourceLabel,this.strResource,0)}let le=-1;for(let Me=this._future.length-1;Me>=0;Me--,U++){const Ye=this._future[Me];C&&(U>=r||Ye.id!==i.elements[U])&&(C=!1,le=Me),!C&&1===Ye.type&&Ye.removeResource(this.resourceLabel,this.strResource,0)}-1!==J&&(this._past=this._past.slice(0,J)),-1!==le&&(this._future=this._future.slice(le+1)),this.versionId++}getElements(){const i=[],r=[];for(const C of this._past)i.push(C.actual);for(const C of this._future)r.push(C.actual);return{past:i,future:r}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(i,r){for(let C=this._past.length-1;C>=0;C--)if(this._past[C]===i){r.has(this.strResource)?this._past[C]=r.get(this.strResource):this._past.splice(C,1);break}this.versionId++}splitFutureWorkspaceElement(i,r){for(let C=this._future.length-1;C>=0;C--)if(this._future[C]===i){r.has(this.strResource)?this._future[C]=r.get(this.strResource):this._future.splice(C,1);break}this.versionId++}moveBackward(i){this._past.pop(),this._future.push(i),this.versionId++}moveForward(i){this._future.pop(),this._past.push(i),this.versionId++}}class ci{constructor(i){this.editStacks=i,this._versionIds=[];for(let r=0,C=this.editStacks.length;r<C;r++)this._versionIds[r]=this.editStacks[r].versionId}isValid(){for(let i=0,r=this.editStacks.length;i<r;i++)if(this._versionIds[i]!==this.editStacks[i].versionId)return!1;return!0}}const Jn=new Xn("","");Jn.locked=!0;let ni=class{constructor(i,r){this._dialogService=i,this._notificationService=r,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(i){for(const r of this._uriComparisonKeyComputers)if(r[0]===i.scheme)return r[1].getComparisonKey(i);return i.toString()}_print(i){console.log("------------------------------------"),console.log(`AFTER ${i}: `);const r=[];for(const C of this._editStacks)r.push(C[1].toString());console.log(r.join("\n"))}pushElement(i,r=Jt.Xt.None,C=Jt.gJ.None){if(0===i.type){const U=zt(i.resource),J=this.getUriComparisonKey(i.resource);this._pushElement(new Sn(i,U,J,r.id,r.nextOrder(),C.id,C.nextOrder()))}else{const U=new Set,J=[],le=[];for(const Me of i.resources){const Ye=zt(Me),vt=this.getUriComparisonKey(Me);U.has(vt)||(U.add(vt),J.push(Ye),le.push(vt))}this._pushElement(1===J.length?new Sn(i,J[0],le[0],r.id,r.nextOrder(),C.id,C.nextOrder()):new $n(i,J,le,r.id,r.nextOrder(),C.id,C.nextOrder()))}}_pushElement(i){for(let r=0,C=i.strResources.length;r<C;r++){const U=i.resourceLabels[r],J=i.strResources[r];let le;this._editStacks.has(J)?le=this._editStacks.get(J):(le=new Xn(U,J),this._editStacks.set(J,le)),le.pushElement(i)}}getLastElement(i){const r=this.getUriComparisonKey(i);if(this._editStacks.has(r)){const C=this._editStacks.get(r);if(C.hasFutureElements())return null;const U=C.getClosestPastElement();return U?U.actual:null}return null}_splitPastWorkspaceElement(i,r){const C=i.actual.split(),U=new Map;for(const J of C){const le=zt(J.resource),Me=this.getUriComparisonKey(J.resource),Ye=new Sn(J,le,Me,0,0,0,0);U.set(Ye.strResource,Ye)}for(const J of i.strResources)r&&r.has(J)||this._editStacks.get(J).splitPastWorkspaceElement(i,U)}_splitFutureWorkspaceElement(i,r){const C=i.actual.split(),U=new Map;for(const J of C){const le=zt(J.resource),Me=this.getUriComparisonKey(J.resource),Ye=new Sn(J,le,Me,0,0,0,0);U.set(Ye.strResource,Ye)}for(const J of i.strResources)r&&r.has(J)||this._editStacks.get(J).splitFutureWorkspaceElement(i,U)}removeElements(i){const r="string"==typeof i?i:this.getUriComparisonKey(i);this._editStacks.has(r)&&(this._editStacks.get(r).dispose(),this._editStacks.delete(r))}setElementsValidFlag(i,r,C){const U=this.getUriComparisonKey(i);this._editStacks.has(U)&&this._editStacks.get(U).setElementsValidFlag(r,C)}createSnapshot(i){const r=this.getUriComparisonKey(i);return this._editStacks.has(r)?this._editStacks.get(r).createSnapshot(i):new Jt.YO(i,[])}restoreSnapshot(i){const r=this.getUriComparisonKey(i.resource);if(this._editStacks.has(r)){const C=this._editStacks.get(r);C.restoreSnapshot(i),!C.hasPastElements()&&!C.hasFutureElements()&&(C.dispose(),this._editStacks.delete(r))}}getElements(i){const r=this.getUriComparisonKey(i);return this._editStacks.has(r)?this._editStacks.get(r).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(i){if(!i)return[null,null];let r=null,C=null;for(const[U,J]of this._editStacks){const le=J.getClosestPastElement();!le||le.sourceId===i&&(!r||le.sourceOrder>r.sourceOrder)&&(r=le,C=U)}return[r,C]}canUndo(i){if(i instanceof Jt.gJ){const[,C]=this._findClosestUndoElementWithSource(i.id);return!!C}const r=this.getUriComparisonKey(i);return!!this._editStacks.has(r)&&this._editStacks.get(r).hasPastElements()}_onError(i,r){(0,me.dL)(i);for(const C of r.strResources)this.removeElements(C);this._notificationService.error(i)}_acquireLocks(i){for(const r of i.editStacks)if(r.locked)throw new Error("Cannot acquire edit stack lock");for(const r of i.editStacks)r.locked=!0;return()=>{for(const r of i.editStacks)r.locked=!1}}_safeInvokeWithLocks(i,r,C,U,J){const le=this._acquireLocks(C);let Me;try{Me=r()}catch(Ye){return le(),U.dispose(),this._onError(Ye,i)}return Me?Me.then(()=>(le(),U.dispose(),J()),Ye=>(le(),U.dispose(),this._onError(Ye,i))):(le(),U.dispose(),J())}_invokeWorkspacePrepare(i){return tt(this,void 0,void 0,function*(){if(void 0===i.actual.prepareUndoRedo)return F.JT.None;const r=i.actual.prepareUndoRedo();return void 0===r?F.JT.None:r})}_invokeResourcePrepare(i,r){if(1!==i.actual.type||void 0===i.actual.prepareUndoRedo)return r(F.JT.None);const C=i.actual.prepareUndoRedo();return C?(0,F.Wf)(C)?r(C):C.then(U=>r(U)):r(F.JT.None)}_getAffectedEditStacks(i){const r=[];for(const C of i.strResources)r.push(this._editStacks.get(C)||Jn);return new ci(r)}_tryToSplitAndUndo(i,r,C,U){if(r.canSplit())return this._splitPastWorkspaceElement(r,C),this._notificationService.warn(U),new ui(this._undo(i,0,!0));for(const J of r.strResources)this.removeElements(J);return this._notificationService.warn(U),new ui}_checkWorkspaceUndo(i,r,C,U){if(r.removedResources)return this._tryToSplitAndUndo(i,r,r.removedResources,ii.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",r.label,r.removedResources.createMessage()));if(U&&r.invalidatedResources)return this._tryToSplitAndUndo(i,r,r.invalidatedResources,ii.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",r.label,r.invalidatedResources.createMessage()));const J=[];for(const Me of C.editStacks)Me.getClosestPastElement()!==r&&J.push(Me.resourceLabel);if(J.length>0)return this._tryToSplitAndUndo(i,r,null,ii.NC({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",r.label,J.join(", ")));const le=[];for(const Me of C.editStacks)Me.locked&&le.push(Me.resourceLabel);return le.length>0?this._tryToSplitAndUndo(i,r,null,ii.NC({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",r.label,le.join(", "))):C.isValid()?null:this._tryToSplitAndUndo(i,r,null,ii.NC({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",r.label))}_workspaceUndo(i,r,C){const U=this._getAffectedEditStacks(r),J=this._checkWorkspaceUndo(i,r,U,!1);return J?J.returnValue:this._confirmAndExecuteWorkspaceUndo(i,r,U,C)}_isPartOfUndoGroup(i){if(!i.groupId)return!1;for(const[,r]of this._editStacks){const C=r.getClosestPastElement();if(C){if(C===i){const U=r.getSecondClosestPastElement();if(U&&U.groupId===i.groupId)return!0}if(C.groupId===i.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(i,r,C,U){return tt(this,void 0,void 0,function*(){if(r.canSplit()&&!this._isPartOfUndoGroup(r)){const Me=yield this._dialogService.show(hi.Z.Info,ii.NC("confirmWorkspace","Would you like to undo '{0}' across all files?",r.label),[ii.NC({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",C.editStacks.length),ii.NC("nok","Undo this File"),ii.NC("cancel","Cancel")],{cancelId:2});if(2===Me.choice)return;if(1===Me.choice)return this._splitPastWorkspaceElement(r,null),this._undo(i,0,!0);const Ye=this._checkWorkspaceUndo(i,r,C,!1);if(Ye)return Ye.returnValue;U=!0}let J;try{J=yield this._invokeWorkspacePrepare(r)}catch(Me){return this._onError(Me,r)}const le=this._checkWorkspaceUndo(i,r,C,!0);if(le)return J.dispose(),le.returnValue;for(const Me of C.editStacks)Me.moveBackward(r);return this._safeInvokeWithLocks(r,()=>r.actual.undo(),C,J,()=>this._continueUndoInGroup(r.groupId,U))})}_resourceUndo(i,r,C){if(r.isValid){if(!i.locked)return this._invokeResourcePrepare(r,U=>(i.moveBackward(r),this._safeInvokeWithLocks(r,()=>r.actual.undo(),new ci([i]),U,()=>this._continueUndoInGroup(r.groupId,C))));{const U=ii.NC({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",r.label);this._notificationService.warn(U)}}else i.flushAllElements()}_findClosestUndoElementInGroup(i){if(!i)return[null,null];let r=null,C=null;for(const[U,J]of this._editStacks){const le=J.getClosestPastElement();!le||le.groupId===i&&(!r||le.groupOrder>r.groupOrder)&&(r=le,C=U)}return[r,C]}_continueUndoInGroup(i,r){if(!i)return;const[,C]=this._findClosestUndoElementInGroup(i);return C?this._undo(C,0,r):void 0}undo(i){if(i instanceof Jt.gJ){const[,r]=this._findClosestUndoElementWithSource(i.id);return r?this._undo(r,i.id,!1):void 0}return this._undo("string"==typeof i?i:this.getUriComparisonKey(i),0,!1)}_undo(i,r=0,C){if(!this._editStacks.has(i))return;const U=this._editStacks.get(i),J=U.getClosestPastElement();if(J){if(J.groupId){const[Me,Ye]=this._findClosestUndoElementInGroup(J.groupId);if(J!==Me&&Ye)return this._undo(Ye,r,C)}if((J.sourceId!==r||J.confirmBeforeUndo)&&!C)return this._confirmAndContinueUndo(i,r,J);try{return 1===J.type?this._workspaceUndo(i,J,C):this._resourceUndo(U,J,C)}finally{}}}_confirmAndContinueUndo(i,r,C){return tt(this,void 0,void 0,function*(){if(1!==(yield this._dialogService.show(hi.Z.Info,ii.NC("confirmDifferentSource","Would you like to undo '{0}'?",C.label),[ii.NC("confirmDifferentSource.yes","Yes"),ii.NC("confirmDifferentSource.no","No")],{cancelId:1})).choice)return this._undo(i,r,!0)})}_findClosestRedoElementWithSource(i){if(!i)return[null,null];let r=null,C=null;for(const[U,J]of this._editStacks){const le=J.getClosestFutureElement();!le||le.sourceId===i&&(!r||le.sourceOrder<r.sourceOrder)&&(r=le,C=U)}return[r,C]}canRedo(i){if(i instanceof Jt.gJ){const[,C]=this._findClosestRedoElementWithSource(i.id);return!!C}const r=this.getUriComparisonKey(i);return!!this._editStacks.has(r)&&this._editStacks.get(r).hasFutureElements()}_tryToSplitAndRedo(i,r,C,U){if(r.canSplit())return this._splitFutureWorkspaceElement(r,C),this._notificationService.warn(U),new ui(this._redo(i));for(const J of r.strResources)this.removeElements(J);return this._notificationService.warn(U),new ui}_checkWorkspaceRedo(i,r,C,U){if(r.removedResources)return this._tryToSplitAndRedo(i,r,r.removedResources,ii.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",r.label,r.removedResources.createMessage()));if(U&&r.invalidatedResources)return this._tryToSplitAndRedo(i,r,r.invalidatedResources,ii.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",r.label,r.invalidatedResources.createMessage()));const J=[];for(const Me of C.editStacks)Me.getClosestFutureElement()!==r&&J.push(Me.resourceLabel);if(J.length>0)return this._tryToSplitAndRedo(i,r,null,ii.NC({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",r.label,J.join(", ")));const le=[];for(const Me of C.editStacks)Me.locked&&le.push(Me.resourceLabel);return le.length>0?this._tryToSplitAndRedo(i,r,null,ii.NC({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",r.label,le.join(", "))):C.isValid()?null:this._tryToSplitAndRedo(i,r,null,ii.NC({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",r.label))}_workspaceRedo(i,r){const C=this._getAffectedEditStacks(r),U=this._checkWorkspaceRedo(i,r,C,!1);return U?U.returnValue:this._executeWorkspaceRedo(i,r,C)}_executeWorkspaceRedo(i,r,C){return tt(this,void 0,void 0,function*(){let U;try{U=yield this._invokeWorkspacePrepare(r)}catch(le){return this._onError(le,r)}const J=this._checkWorkspaceRedo(i,r,C,!0);if(J)return U.dispose(),J.returnValue;for(const le of C.editStacks)le.moveForward(r);return this._safeInvokeWithLocks(r,()=>r.actual.redo(),C,U,()=>this._continueRedoInGroup(r.groupId))})}_resourceRedo(i,r){if(r.isValid){if(!i.locked)return this._invokeResourcePrepare(r,C=>(i.moveForward(r),this._safeInvokeWithLocks(r,()=>r.actual.redo(),new ci([i]),C,()=>this._continueRedoInGroup(r.groupId))));{const C=ii.NC({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",r.label);this._notificationService.warn(C)}}else i.flushAllElements()}_findClosestRedoElementInGroup(i){if(!i)return[null,null];let r=null,C=null;for(const[U,J]of this._editStacks){const le=J.getClosestFutureElement();!le||le.groupId===i&&(!r||le.groupOrder<r.groupOrder)&&(r=le,C=U)}return[r,C]}_continueRedoInGroup(i){if(!i)return;const[,r]=this._findClosestRedoElementInGroup(i);return r?this._redo(r):void 0}redo(i){if(i instanceof Jt.gJ){const[,r]=this._findClosestRedoElementWithSource(i.id);return r?this._redo(r):void 0}return this._redo("string"==typeof i?i:this.getUriComparisonKey(i))}_redo(i){if(!this._editStacks.has(i))return;const r=this._editStacks.get(i),C=r.getClosestFutureElement();if(C){if(C.groupId){const[U,J]=this._findClosestRedoElementInGroup(C.groupId);if(C!==U&&J)return this._redo(J)}try{return 1===C.type?this._workspaceRedo(i,C):this._resourceRedo(r,C)}finally{}}}};ni=function(ae,i,r,C){var le,U=arguments.length,J=U<3?i:null===C?C=Object.getOwnPropertyDescriptor(i,r):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(ae,i,r,C);else for(var Me=ae.length-1;Me>=0;Me--)(le=ae[Me])&&(J=(U<3?le(J):U>3?le(i,r,J):le(i,r))||J);return U>3&&J&&Object.defineProperty(i,r,J),J}([Ce(0,Ni.S),Ce(1,Ki.lT)],ni);class ui{constructor(i){this.returnValue=i}}(0,xt.z)(Jt.tJ,ni),e(79974);var Mi=e(74616),$i=e(5016),po=e(84067),ho=e(90586),$s=e(12033),Io=e(87424),Ri=e(23884),ki=e(7838),fo=e(85271);class to{constructor(i={},r=[],C=[]){this._contents=i,this._keys=r,this._overrides=C,this.frozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(i){return i?(0,Yn.Mt)(this.contents,i):this.contents}getOverrideValue(i,r){const C=this.getContentsForOverrideIdentifer(r);return C?i?(0,Yn.Mt)(C,i):C:void 0}override(i){let r=this.overrideConfigurations.get(i);return r||(r=this.createOverrideConfigurationModel(i),this.overrideConfigurations.set(i,r)),r}merge(...i){const r=fo.I8(this.contents),C=fo.I8(this.overrides),U=[...this.keys];for(const J of i)if(!J.isEmpty()){this.mergeContents(r,J.contents);for(const le of J.overrides){const[Me]=C.filter(Ye=>yn.fS(Ye.identifiers,le.identifiers));Me?(this.mergeContents(Me.contents,le.contents),Me.keys.push(...le.keys),Me.keys=yn.EB(Me.keys)):C.push(fo.I8(le))}for(const le of J.keys)-1===U.indexOf(le)&&U.push(le)}return new to(r,U,C)}freeze(){return this.frozen=!0,this}createOverrideConfigurationModel(i){const r=this.getContentsForOverrideIdentifer(i);if(!r||"object"!=typeof r||!Object.keys(r).length)return this;const C={};for(const U of yn.EB([...Object.keys(this.contents),...Object.keys(r)])){let J=this.contents[U];const le=r[U];le&&("object"==typeof J&&"object"==typeof le?(J=fo.I8(J),this.mergeContents(J,le)):J=le),C[U]=J}return new to(C,this.keys,this.overrides)}mergeContents(i,r){for(const C of Object.keys(r))C in i&&ee.Kn(i[C])&&ee.Kn(r[C])?this.mergeContents(i[C],r[C]):i[C]=fo.I8(r[C])}checkAndFreeze(i){return this.frozen&&!Object.isFrozen(i)?fo._A(i):i}getContentsForOverrideIdentifer(i){let r=null,C=null;const U=J=>{J&&(C?this.mergeContents(C,J):C=fo.I8(J))};for(const J of this.overrides)yn.fS(J.identifiers,[i])?r=J.contents:J.identifiers.includes(i)&&U(J.contents);return U(r),C}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(i,r){this.addKey(i),(0,Yn.KV)(this.contents,i,r,C=>{throw new Error(C)})}removeValue(i){this.removeKey(i)&&(0,Yn.xL)(this.contents,i)}addKey(i){let r=this.keys.length;for(let C=0;C<r;C++)0===i.indexOf(this.keys[C])&&(r=C);this.keys.splice(r,1,i)}removeKey(i){const r=this.keys.indexOf(i);return-1!==r&&(this.keys.splice(r,1),!0)}}class Ms{constructor(i,r,C,U,J=new to,le=new to,Me=new ki.Y9,Ye=new to,vt=new ki.Y9,Tt=!0){this._defaultConfiguration=i,this._policyConfiguration=r,this._applicationConfiguration=C,this._localUserConfiguration=U,this._remoteUserConfiguration=J,this._workspaceConfiguration=le,this._folderConfigurations=Me,this._memoryConfiguration=Ye,this._memoryConfigurationByResource=vt,this._freeze=Tt,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new ki.Y9,this._userConfiguration=null}getValue(i,r,C){return this.getConsolidatedConfigurationModel(i,r,C).getValue(i)}updateValue(i,r,C={}){let U;C.resource?(U=this._memoryConfigurationByResource.get(C.resource),U||(U=new to,this._memoryConfigurationByResource.set(C.resource,U))):U=this._memoryConfiguration,void 0===r?U.removeValue(i):U.setValue(i,r),C.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(i,r,C){const U=this.getConsolidatedConfigurationModel(i,r,C),J=this.getFolderConfigurationModelForResource(r.resource,C),le=r.resource&&this._memoryConfigurationByResource.get(r.resource)||this._memoryConfiguration,Me=r.overrideIdentifier?this._defaultConfiguration.freeze().override(r.overrideIdentifier).getValue(i):this._defaultConfiguration.freeze().getValue(i),Ye=this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration.freeze().getValue(i),vt=this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration.freeze().getValue(i),Tt=r.overrideIdentifier?this.userConfiguration.freeze().override(r.overrideIdentifier).getValue(i):this.userConfiguration.freeze().getValue(i),on=r.overrideIdentifier?this.localUserConfiguration.freeze().override(r.overrideIdentifier).getValue(i):this.localUserConfiguration.freeze().getValue(i),Pn=r.overrideIdentifier?this.remoteUserConfiguration.freeze().override(r.overrideIdentifier).getValue(i):this.remoteUserConfiguration.freeze().getValue(i),Wn=C?r.overrideIdentifier?this._workspaceConfiguration.freeze().override(r.overrideIdentifier).getValue(i):this._workspaceConfiguration.freeze().getValue(i):void 0,Ci=J?r.overrideIdentifier?J.freeze().override(r.overrideIdentifier).getValue(i):J.freeze().getValue(i):void 0,Ti=r.overrideIdentifier?le.override(r.overrideIdentifier).getValue(i):le.getValue(i),Pi=U.getValue(i),Vi=yn.EB(U.overrides.map(zi=>zi.identifiers).flat()).filter(zi=>void 0!==U.getOverrideValue(i,zi));return{defaultValue:Me,policyValue:Ye,applicationValue:vt,userValue:Tt,userLocalValue:on,userRemoteValue:Pn,workspaceValue:Wn,workspaceFolderValue:Ci,memoryValue:Ti,value:Pi,default:void 0!==Me?{value:this._defaultConfiguration.freeze().getValue(i),override:r.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(i,r.overrideIdentifier):void 0}:void 0,policy:void 0!==Ye?{value:Ye}:void 0,application:void 0!==vt?{value:vt,override:r.overrideIdentifier?this.applicationConfiguration.freeze().getOverrideValue(i,r.overrideIdentifier):void 0}:void 0,user:void 0!==Tt?{value:this.userConfiguration.freeze().getValue(i),override:r.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(i,r.overrideIdentifier):void 0}:void 0,userLocal:void 0!==on?{value:this.localUserConfiguration.freeze().getValue(i),override:r.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(i,r.overrideIdentifier):void 0}:void 0,userRemote:void 0!==Pn?{value:this.remoteUserConfiguration.freeze().getValue(i),override:r.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(i,r.overrideIdentifier):void 0}:void 0,workspace:void 0!==Wn?{value:this._workspaceConfiguration.freeze().getValue(i),override:r.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(i,r.overrideIdentifier):void 0}:void 0,workspaceFolder:void 0!==Ci?{value:null==J?void 0:J.freeze().getValue(i),override:r.overrideIdentifier?null==J?void 0:J.freeze().getOverrideValue(i,r.overrideIdentifier):void 0}:void 0,memory:void 0!==Ti?{value:le.getValue(i),override:r.overrideIdentifier?le.getOverrideValue(i,r.overrideIdentifier):void 0}:void 0,overrideIdentifiers:Vi.length?Vi:void 0}}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(i,r,C){let U=this.getConsolidatedConfigurationModelForResource(r,C);return r.overrideIdentifier&&(U=U.override(r.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&void 0!==this._policyConfiguration.getValue(i)&&(U=U.merge(this._policyConfiguration)),U}getConsolidatedConfigurationModelForResource({resource:i},r){let C=this.getWorkspaceConsolidatedConfiguration();if(r&&i){const U=r.getFolder(i);U&&(C=this.getFolderConsolidatedConfiguration(U.uri)||C);const J=this._memoryConfigurationByResource.get(i);J&&(C=C.merge(J))}return C}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(i){let r=this._foldersConsolidatedConfigurations.get(i);if(!r){const C=this.getWorkspaceConsolidatedConfiguration(),U=this._folderConfigurations.get(i);U?(r=C.merge(U),this._freeze&&(r=r.freeze()),this._foldersConsolidatedConfigurations.set(i,r)):r=C}return r}getFolderConfigurationModelForResource(i,r){if(r&&i){const C=r.getFolder(i);if(C)return this._folderConfigurations.get(C.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((i,r)=>{const{contents:C,overrides:U,keys:J}=this._folderConfigurations.get(r);return i.push([r,{contents:C,overrides:U,keys:J}]),i},[])}}static parse(i){const r=this.parseConfigurationModel(i.defaults),C=this.parseConfigurationModel(i.policy),U=this.parseConfigurationModel(i.application),J=this.parseConfigurationModel(i.user),le=this.parseConfigurationModel(i.workspace),Me=i.folders.reduce((Ye,vt)=>(Ye.set(u.o.revive(vt[0]),this.parseConfigurationModel(vt[1])),Ye),new ki.Y9);return new Ms(r,C,U,J,new to,le,Me,new to,new ki.Y9,!1)}static parseConfigurationModel(i){return new to(i.contents,i.keys,i.overrides).freeze()}}class Cr{constructor(i,r,C,U){this.change=i,this.previous=r,this.currentConfiguraiton=C,this.currentWorkspace=U,this._previousConfiguration=void 0;const J=new Set;i.keys.forEach(Me=>J.add(Me)),i.overrides.forEach(([,Me])=>Me.forEach(Ye=>J.add(Ye))),this.affectedKeys=[...J.values()];const le=new to;this.affectedKeys.forEach(Me=>le.setValue(Me,{})),this.affectedKeysTree=le.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=Ms.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(i,r){var C;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,i)){if(r){const U=this.previousConfiguration?this.previousConfiguration.getValue(i,r,null===(C=this.previous)||void 0===C?void 0:C.workspace):void 0,J=this.currentConfiguraiton.getValue(i,r,this.currentWorkspace);return!fo.fS(U,J)}return!0}return!1}doesAffectedKeysTreeContains(i,r){let U,C=(0,Yn.Od)({[r]:!0},()=>{});for(;"object"==typeof C&&(U=Object.keys(C)[0]);){if(!(i=i[U]))return!1;C=C[U]}return!0}}const Gs=/^(cursor|delete)/;class Po extends F.JT{constructor(i,r,C,U,J){super(),this._contextKeyService=i,this._commandService=r,this._telemetryService=C,this._notificationService=U,this._logService=J,this._onDidUpdateKeybindings=this._register(new L.Q5),this._currentChord=null,this._currentChordChecker=new be.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=Wo.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new be._F,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:L.ju.None}dispose(){super.dispose()}_log(i){this._logging&&this._logService.info(`[KeybindingService]: ${i}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(i,r){const C=this._getResolver().lookupPrimaryKeybinding(i,r||this._contextKeyService);if(C)return C.resolvedKeybinding}dispatchEvent(i,r){return this._dispatch(i,r)}softDispatch(i,r){this._log("/ Soft dispatching keyboard event");const C=this.resolveKeyboardEvent(i);if(C.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[U]=C.getDispatchParts();if(null===U)return this._log("\\ Keyboard event cannot be dispatched"),null;const J=this._contextKeyService.getContext(r),le=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(J,le,U)}_enterChordMode(i,r){this._currentChord={keypress:i,label:r},this._currentChordStatusMessage=this._notificationService.status(ii.NC("first.chord","({0}) was pressed. Waiting for second key of chord...",r));const C=Date.now();this._currentChordChecker.cancelAndSet(()=>{this._documentHasFocus()?Date.now()-C>5e3&&this._leaveChordMode():this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(i,r){return this._doDispatch(this.resolveKeyboardEvent(i),r,!1)}_singleModifierDispatch(i,r){const C=this.resolveKeyboardEvent(i),[U]=C.getSingleModifierDispatchParts();if(U)return this._ignoreSingleModifiers.has(U)?(this._log(`+ Ignoring single modifier ${U} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=Wo.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=Wo.EMPTY,null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${U}.`),this._currentSingleModifier=U,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):U===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${U} ${U}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(C,r,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${U}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[J]=C.getParts();return this._ignoreSingleModifiers=new Wo(J),null!==this._currentSingleModifier&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(i,r,C=!1){let U=!1;if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let J=null,le=null;if(C){const[Tt]=i.getSingleModifierDispatchParts();J=Tt,le=Tt}else[J]=i.getDispatchParts(),le=this._currentChord?this._currentChord.keypress:null;if(null===J)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),U;const Me=this._contextKeyService.getContext(r),Ye=i.getLabel(),vt=this._getResolver().resolve(Me,le,J);return this._logService.trace("KeybindingService#dispatch",Ye,null==vt?void 0:vt.commandId),vt&&vt.enterChord?(U=!0,this._enterChordMode(J,Ye),this._log("+ Entering chord mode..."),U):(this._currentChord&&(!vt||!vt.commandId)&&(this._log(`+ Leaving chord mode: Nothing bound to "${this._currentChord.label} ${Ye}".`),this._notificationService.status(ii.NC("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,Ye),{hideAfter:1e4}),U=!0),this._leaveChordMode(),vt&&vt.commandId&&(vt.bubble||(U=!0),this._log(`+ Invoking command ${vt.commandId}.`),void 0===vt.commandArgs?this._commandService.executeCommand(vt.commandId).then(void 0,Tt=>this._notificationService.warn(Tt)):this._commandService.executeCommand(vt.commandId,vt.commandArgs).then(void 0,Tt=>this._notificationService.warn(Tt)),Gs.test(vt.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:vt.commandId,from:"keybinding"})),U)}mightProducePrintableCharacter(i){return!i.ctrlKey&&!i.metaKey&&(i.keyCode>=31&&i.keyCode<=56||i.keyCode>=21&&i.keyCode<=30)}}class Wo{constructor(i){this._ctrlKey=!!i&&i.ctrlKey,this._shiftKey=!!i&&i.shiftKey,this._altKey=!!i&&i.altKey,this._metaKey=!!i&&i.metaKey}has(i){switch(i){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}Wo.EMPTY=new Wo(null);var Vo=e(77090);class es{constructor(i,r,C){this._log=C,this._defaultKeybindings=i,this._defaultBoundCommands=new Map;for(const U of i){const J=U.command;J&&"-"!==J.charAt(0)&&this._defaultBoundCommands.set(J,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=es.handleRemovals([].concat(i).concat(r));for(let U=0,J=this._keybindings.length;U<J;U++){const le=this._keybindings[U];0!==le.keypressParts.length&&(le.when&&0===le.when.type||this._addKeyPress(le.keypressParts[0],le))}}static _isTargetedForRemoval(i,r,C,U){return!(r&&i.keypressParts[0]!==r||C&&i.keypressParts[1]!==C||U&&(!i.when||!(0,Xe.Fb)(U,i.when)))}static handleRemovals(i){const r=new Map;for(let U=0,J=i.length;U<J;U++){const le=i[U];if(le.command&&"-"===le.command.charAt(0)){const Me=le.command.substring(1);r.has(Me)?r.get(Me).push(le):r.set(Me,[le])}}if(0===r.size)return i;const C=[];for(let U=0,J=i.length;U<J;U++){const le=i[U];if(!le.command||0===le.command.length){C.push(le);continue}if("-"===le.command.charAt(0))continue;const Me=r.get(le.command);if(!Me||!le.isDefault){C.push(le);continue}let Ye=!1;for(const vt of Me)if(this._isTargetedForRemoval(le,vt.keypressParts[0],vt.keypressParts[1],vt.when)){Ye=!0;break}Ye||C.push(le)}return C}_addKeyPress(i,r){const C=this._map.get(i);if(void 0===C)return this._map.set(i,[r]),void this._addToLookupMap(r);for(let U=C.length-1;U>=0;U--){const J=C[U];if(J.command===r.command)continue;const Me=r.keypressParts.length>1;J.keypressParts.length>1&&Me&&J.keypressParts[1]!==r.keypressParts[1]||es.whenIsEntirelyIncluded(J.when,r.when)&&this._removeFromLookupMap(J)}C.push(r),this._addToLookupMap(r)}_addToLookupMap(i){if(!i.command)return;let r=this._lookupMap.get(i.command);void 0===r?(r=[i],this._lookupMap.set(i.command,r)):r.push(i)}_removeFromLookupMap(i){if(!i.command)return;const r=this._lookupMap.get(i.command);if(void 0!==r)for(let C=0,U=r.length;C<U;C++)if(r[C]===i)return void r.splice(C,1)}static whenIsEntirelyIncluded(i,r){return!r||1===r.type||!(!i||1===i.type)&&(0,Xe.K8)(i,r)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(i,r){const C=this._lookupMap.get(i);if(void 0===C||0===C.length)return null;if(1===C.length)return C[0];for(let U=C.length-1;U>=0;U--){const J=C[U];if(r.contextMatchesRules(J.when))return J}return C[C.length-1]}resolve(i,r,C){this._log(`| Resolving ${C}${r?` chorded from ${r}`:""}`);let U=null;if(null!==r){const le=this._map.get(r);if(void 0===le)return this._log("\\ No keybinding entries."),null;U=[];for(let Me=0,Ye=le.length;Me<Ye;Me++){const vt=le[Me];vt.keypressParts[1]===C&&U.push(vt)}}else{const le=this._map.get(C);if(void 0===le)return this._log("\\ No keybinding entries."),null;U=le}const J=this._findCommand(i,U);return J?null===r&&J.keypressParts.length>1&&null!==J.keypressParts[1]?(this._log(`\\ From ${U.length} keybinding entries, matched chord, when: ${Ts(J.when)}, source: ${ts(J)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${U.length} keybinding entries, matched ${J.command}, when: ${Ts(J.when)}, source: ${ts(J)}.`),{enterChord:!1,leaveChord:J.keypressParts.length>1,commandId:J.command,commandArgs:J.commandArgs,bubble:J.bubble}):(this._log(`\\ From ${U.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(i,r){for(let C=r.length-1;C>=0;C--){const U=r[C];if(es._contextMatchesRules(i,U.when))return U}return null}static _contextMatchesRules(i,r){return!r||r.evaluate(i)}}function Ts(ae){return ae?`${ae.serialize()}`:"no when condition"}function ts(ae){return ae.extensionId?ae.isBuiltinExtension?`built-in extension ${ae.extensionId}`:`user extension ${ae.extensionId}`:ae.isDefault?"built-in":"user"}var Zo=e(7550);class Zs{constructor(i,r,C,U,J,le,Me){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=i,this.keypressParts=i?Ns(i.getDispatchParts()):[],i&&0===this.keypressParts.length&&(this.keypressParts=Ns(i.getSingleModifierDispatchParts())),this.bubble=!!r&&94===r.charCodeAt(0),this.command=this.bubble?r.substr(1):r,this.commandArgs=C,this.when=U,this.isDefault=J,this.extensionId=le,this.isBuiltinExtension=Me}}function Ns(ae){const i=[];for(let r=0,C=ae.length;r<C;r++){const U=ae[r];if(!U)return i;i.push(U)}return i}var Ho=e(27);class ss extends $i.f1{constructor(i,r){if(super(),0===r.length)throw(0,me.b1)("parts");this._os=i,this._parts=r}getLabel(){return Ho.xo.toLabel(this._os,this._parts,i=>this._getLabel(i))}getAriaLabel(){return Ho.X4.toLabel(this._os,this._parts,i=>this._getAriaLabel(i))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:Ho.jC.toLabel(this._os,this._parts,i=>this._getElectronAccelerator(i))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(i=>this._getPart(i))}_getPart(i){return new $i.BQ(i.ctrlKey,i.shiftKey,i.altKey,i.metaKey,this._getLabel(i),this._getAriaLabel(i))}getDispatchParts(){return this._parts.map(i=>this._getDispatchPart(i))}getSingleModifierDispatchParts(){return this._parts.map(i=>this._getSingleModifierDispatchPart(i))}}class Uo extends ss{constructor(i,r){super(r,i.parts)}_keyCodeToUILabel(i){if(2===this._os)switch(i){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return M.kL.toString(i)}_getLabel(i){return i.isDuplicateModifierCase()?"":this._keyCodeToUILabel(i.keyCode)}_getAriaLabel(i){return i.isDuplicateModifierCase()?"":M.kL.toString(i.keyCode)}_getElectronAccelerator(i){return M.kL.toElectronAccelerator(i.keyCode)}_getDispatchPart(i){return Uo.getDispatchStr(i)}static getDispatchStr(i){if(i.isModifierKey())return null;let r="";return i.ctrlKey&&(r+="ctrl+"),i.shiftKey&&(r+="shift+"),i.altKey&&(r+="alt+"),i.metaKey&&(r+="meta+"),r+=M.kL.toString(i.keyCode),r}_getSingleModifierDispatchPart(i){return 5!==i.keyCode||i.shiftKey||i.altKey||i.metaKey?4!==i.keyCode||i.ctrlKey||i.altKey||i.metaKey?6!==i.keyCode||i.ctrlKey||i.shiftKey||i.metaKey?57!==i.keyCode||i.ctrlKey||i.shiftKey||i.altKey?null:"meta":"alt":"shift":"ctrl"}static _scanCodeToKeyCode(i){const r=M.Vd[i];if(-1!==r)return r;switch(i){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(i){if(!i)return null;if(i instanceof $i.QC)return i;const r=this._scanCodeToKeyCode(i.scanCode);return 0===r?null:new $i.QC(i.ctrlKey,i.shiftKey,i.altKey,i.metaKey,r)}static resolveUserBinding(i,r){const C=Ns(i.map(U=>this._resolveSimpleUserBinding(U)));return C.length>0?[new Uo(new $i.X_(C),r)]:[]}}var Qs=e(50203),gs=e(22534),Qo=e(19881),br=e(2405),rs=e(29710),ms=e(15151),As=e(26031),Oo=e(34394),Ja=e(27991),Sr=e(86656),xo=e(16328),go={};go.styleTagTransform=T(),go.setAttributes=y(),go.insert=m().bind(null,"head"),go.domAPI=v(),go.insertStyleElement=b(),n()(xo.Z,go);var Ro=(()=>(function(ae){ae[ae.AVOID=0]="AVOID",ae[ae.ALIGN=1]="ALIGN"}(Ro||(Ro={})),Ro))();function Mo(ae,i,r){const C=r.mode===Ro.ALIGN?r.offset:r.offset+r.size,U=r.mode===Ro.ALIGN?r.offset+r.size:r.offset;return 0===r.position?i<=ae-C?C:i<=U?U-i:Math.max(ae-i,0):i<=U?U-i:i<=ae-C?C:0}let Co=(()=>{class ae extends F.JT{constructor(r,C){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=F.JT.None,this.toDisposeOnSetContainer=F.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=Qt.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,Qt.Cp(this.view),this.setContainer(r,C),this._register((0,F.OF)(()=>this.setContainer(null,1)))}setContainer(r,C){var U;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,null===(U=this.shadowRootHostElement)||void 0===U||U.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),r){if(this.container=r,this.useFixedPosition=1!==C,this.useShadowDOM=3===C,this.useShadowDOM){this.shadowRootHostElement=Qt.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const le=document.createElement("style");le.textContent=yr,this.shadowRoot.appendChild(le),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(Qt.$("slot"))}else this.container.appendChild(this.view);const J=new F.SL;ae.BUBBLE_UP_EVENTS.forEach(le=>{J.add(Qt.mu(this.container,le,Me=>{this.onDOMEvent(Me,!1)}))}),ae.BUBBLE_DOWN_EVENTS.forEach(le=>{J.add(Qt.mu(this.container,le,Me=>{this.onDOMEvent(Me,!0)},!0))}),this.toDisposeOnSetContainer=J}}show(r){var C,U;this.isVisible()&&this.hide(),Qt.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",Qt.$Z(this.view),this.toDisposeOnClean=r.render(this.view)||F.JT.None,this.delegate=r,this.doLayout(),null===(U=(C=this.delegate).focus)||void 0===U||U.call(C)}getViewElement(){return this.view}layout(){if(this.isVisible()){if(!(!1!==this.delegate.canRelayout||Ie.gn&&Ja.D.pointerEvents))return void this.hide();this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const r=this.delegate.getAnchor();let C;if(Qt.Re(r)){const Pn=Qt.i(r),Wn=Qt.I8(r);C={top:Pn.top*Wn,left:Pn.left*Wn,width:Pn.width*Wn,height:Pn.height*Wn}}else C={top:r.y,left:r.x,width:r.width||1,height:r.height||2};const U=Qt.w(this.view),J=Qt.wn(this.view),le=this.delegate.anchorPosition||0,Me=this.delegate.anchorAlignment||0;let vt,Tt;if(0===(this.delegate.anchorAxisAlignment||0)){const Pn={offset:C.top-window.pageYOffset,size:C.height,position:0===le?0:1},Wn={offset:C.left,size:C.width,position:0===Me?0:1,mode:Ro.ALIGN};vt=Mo(window.innerHeight,J,Pn)+window.pageYOffset,Sr.e.intersects({start:vt,end:vt+J},{start:Pn.offset,end:Pn.offset+Pn.size})&&(Wn.mode=Ro.AVOID),Tt=Mo(window.innerWidth,U,Wn)}else{const Pn={offset:C.left,size:C.width,position:0===Me?0:1},Wn={offset:C.top,size:C.height,position:0===le?0:1,mode:Ro.ALIGN};Tt=Mo(window.innerWidth,U,Pn),Sr.e.intersects({start:Tt,end:Tt+U},{start:Pn.offset,end:Pn.offset+Pn.size})&&(Wn.mode=Ro.AVOID),vt=Mo(window.innerHeight,J,Wn)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(0===le?"bottom":"top"),this.view.classList.add(0===Me?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const on=Qt.i(this.container);this.view.style.top=vt-(this.useFixedPosition?Qt.i(this.view).top:on.top)+"px",this.view.style.left=Tt-(this.useFixedPosition?Qt.i(this.view).left:on.left)+"px",this.view.style.width="initial"}hide(r){const C=this.delegate;this.delegate=null,null!=C&&C.onHide&&C.onHide(r),this.toDisposeOnClean.dispose(),Qt.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(r,C){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(r,document.activeElement):C&&!Qt.jg(r.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}return ae.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],ae.BUBBLE_DOWN_EVENTS=["click"],ae})();const yr='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t@font-face {\n\t\tfont-family: "codicon";\n\t\tfont-display: block;\n\t\tsrc: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n';let Ii=class extends F.JT{constructor(i){super(),this.layoutService=i,this.currentViewDisposable=F.JT.None,this.container=i.hasContainer?i.container:null,this.contextView=this._register(new Co(this.container,1)),this.layout(),this._register(i.onDidLayout(()=>this.layout()))}setContainer(i,r){this.contextView.setContainer(i,r||1)}showContextView(i,r,C){r?(r!==this.container||this.shadowRoot!==C)&&(this.container=r,this.setContainer(r,C?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=C,this.contextView.show(i);const U=(0,F.OF)(()=>{this.currentViewDisposable===U&&this.hideContextView()});return this.currentViewDisposable=U,U}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(i){this.contextView.hide(i)}};Ii=function(ae,i,r,C){var le,U=arguments.length,J=U<3?i:null===C?C=Object.getOwnPropertyDescriptor(i,r):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(ae,i,r,C);else for(var Me=ae.length-1;Me>=0;Me--)(le=ae[Me])&&(J=(U<3?le(J):U>3?le(i,r,J):le(i,r))||J);return U>3&&J&&Object.defineProperty(i,r,J),J}([function(ae,i){return function(r,C){i(r,C,0)}}(0,Ln)],Ii);var Fi=e(25170),Xi=e(34163),ro=function(ae,i,r,C){return new(r||(r=Promise))(function(J,le){function Me(Tt){try{vt(C.next(Tt))}catch(on){le(on)}}function Ye(Tt){try{vt(C.throw(Tt))}catch(on){le(on)}}function vt(Tt){Tt.done?J(Tt.value):function U(J){return J instanceof r?J:new r(function(le){le(J)})}(Tt.value).then(Me,Ye)}vt((C=C.apply(ae,i||[])).next())})};const ps="[^/\\\\]",td=/\//g;function ha(ae,i){switch(ae){case 0:return"";case 1:return`${ps}*?`;default:return`(?:[/\\\\]|${ps}+[/\\\\]${i?`|[/\\\\]${ps}+`:""})*?`}}function ua(ae,i){if(!ae)return[];const r=[];let C=!1,U=!1,J="";for(const le of ae){switch(le){case i:if(!C&&!U){r.push(J),J="";continue}break;case"{":C=!0;break;case"}":C=!1;break;case"[":U=!0;break;case"]":U=!1}J+=le}return J&&r.push(J),r}function fa(ae){if(!ae)return"";let i="";const r=ua(ae,"/");if(r.every(C=>"**"===C))i=".*";else{let C=!1;r.forEach((U,J)=>{if("**"===U){if(C)return;i+=ha(2,J===r.length-1)}else{let le=!1,Me="",Ye=!1,vt="";for(const Tt of U)if("}"!==Tt&&le)Me+=Tt;else if(!Ye||"]"===Tt&&vt)switch(Tt){case"{":le=!0;continue;case"[":Ye=!0;continue;case"}":i+=`(?:${ua(Me,",").map(Wn=>fa(Wn)).join("|")})`,le=!1,Me="";break;case"]":i+="["+vt+"]",Ye=!1,vt="";break;case"?":i+=ps;continue;case"*":i+=ha(1);continue;default:i+=(0,W.ec)(Tt)}else{let on;on="-"===Tt?Tt:"^"!==Tt&&"!"!==Tt||vt?"/"===Tt?"":(0,W.ec)(Tt):"^",vt+=on}J<r.length-1&&("**"!==r[J+1]||J+2<r.length)&&(i+="[/\\\\]")}C="**"===U})}return i}const qa=/^\*\*\/\*\.[\w\.-]+$/,el=/^\*\*\/([\w\.-]+)\/?$/,Js=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,qs=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,vs=/^\*\*((\/[\w\.-]+)+)\/?$/,nd=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,tl=new ki.z6(1e4),Lr=function(){return!1},ko=function(){return null};function Er(ae,i){if(!ae)return ko;let r;r="string"!=typeof ae?ae.pattern:ae,r=r.trim();const C=`${r}_${!!i.trimForExclusions}`;let J,U=tl.get(C);return U||(U=qa.test(r)?function nl(ae,i){return function(r,C){return"string"==typeof r&&r.endsWith(ae)?i:null}}(r.substr(4),r):(J=el.exec(Dr(r,i)))?function il(ae,i){const r=`/${ae}`,C=`\\${ae}`,U=function(le,Me){return"string"!=typeof le?null:Me?Me===ae?i:null:le===ae||le.endsWith(r)||le.endsWith(C)?i:null},J=[ae];return U.basenames=J,U.patterns=[i],U.allBasenames=J,U}(J[1],r):(i.trimForExclusions?qs:Js).test(r)?function ol(ae,i){const r=ma(ae.slice(1,-1).split(",").map(Me=>Er(Me,i)).filter(Me=>Me!==ko),ae),C=r.length;if(!C)return ko;if(1===C)return r[0];const U=function(Me,Ye){for(let vt=0,Tt=r.length;vt<Tt;vt++)if(r[vt](Me,Ye))return ae;return null},J=r.find(Me=>!!Me.allBasenames);J&&(U.allBasenames=J.allBasenames);const le=r.reduce((Me,Ye)=>Ye.allPaths?Me.concat(Ye.allPaths):Me,[]);return le.length&&(U.allPaths=le),U}(r,i):(J=vs.exec(Dr(r,i)))?ga(J[1].substr(1),r,!0):(J=nd.exec(Dr(r,i)))?ga(J[1],r,!1):function tr(ae){try{const i=new RegExp(`^${fa(ae)}$`);return function(r){return i.lastIndex=0,"string"==typeof r&&i.test(r)?ae:null}}catch(i){return ko}}(r),tl.set(C,U)),function er(ae,i){if("string"==typeof i)return ae;const r=function(C,U){return(0,Fi.KM)(C,i.base,!Ie.IJ)?ae(C.substr(i.base.length+1),U):null};return r.allBasenames=ae.allBasenames,r.allPaths=ae.allPaths,r.basenames=ae.basenames,r.patterns=ae.patterns,r}(U,ae)}function Dr(ae,i){return i.trimForExclusions&&ae.endsWith("/**")?ae.substr(0,ae.length-2):ae}function ga(ae,i,r){const C=Xi.ir===Xi.KR.sep,U=C?ae:ae.replace(td,Xi.ir),J=Xi.ir+U,le=Xi.KR.sep+ae;let Me;return Me=r?function(Ye,vt){return"string"!=typeof Ye||Ye!==U&&!Ye.endsWith(J)&&(C||Ye!==ae&&!Ye.endsWith(le))?null:i}:function(Ye,vt){return"string"!=typeof Ye||Ye!==U&&(C||Ye!==ae)?null:i},Me.allPaths=[(r?"*/":"./")+ae],Me}function sl(ae,i={}){if(!ae)return Lr;if("string"==typeof ae||function id(ae){return!!ae&&"string"==typeof ae.base&&"string"==typeof ae.pattern}(ae)){const r=Er(ae,i);if(r===ko)return Lr;const C=function(U,J){return!!r(U,J)};return r.allBasenames&&(C.allBasenames=r.allBasenames),r.allPaths&&(C.allPaths=r.allPaths),C}return function rl(ae,i){const r=ma(Object.getOwnPropertyNames(ae).map(Me=>function al(ae,i,r){if(!1===i)return ko;const C=Er(ae,r);if(C===ko)return ko;if("boolean"==typeof i)return C;if(i){const U=i.when;if("string"==typeof U){const J=(le,Me,Ye,vt)=>{if(!vt||!C(le,Me))return null;const on=vt(U.replace("$(basename)",Ye));return(0,be.J8)(on)?on.then(Pn=>Pn?ae:null):on?ae:null};return J.requiresSiblings=!0,J}}return C}(Me,ae[Me],i)).filter(Me=>Me!==ko)),C=r.length;if(!C)return ko;if(!r.some(Me=>!!Me.requiresSiblings)){if(1===C)return r[0];const Me=function(Tt,on){let Pn;for(let Wn=0,Ci=r.length;Wn<Ci;Wn++){const Ti=r[Wn](Tt,on);if("string"==typeof Ti)return Ti;(0,be.J8)(Ti)&&(Pn||(Pn=[]),Pn.push(Ti))}return Pn?(()=>ro(this,void 0,void 0,function*(){for(const Wn of Pn){const Ci=yield Wn;if("string"==typeof Ci)return Ci}return null}))():null},Ye=r.find(Tt=>!!Tt.allBasenames);Ye&&(Me.allBasenames=Ye.allBasenames);const vt=r.reduce((Tt,on)=>on.allPaths?Tt.concat(on.allPaths):Tt,[]);return vt.length&&(Me.allPaths=vt),Me}const U=function(Me,Ye,vt){let Tt,on;for(let Pn=0,Wn=r.length;Pn<Wn;Pn++){const Ci=r[Pn];Ci.requiresSiblings&&vt&&(Ye||(Ye=(0,Xi.EZ)(Me)),Tt||(Tt=Ye.substr(0,Ye.length-(0,Xi.DZ)(Me).length)));const Ti=Ci(Me,Ye,Tt,vt);if("string"==typeof Ti)return Ti;(0,be.J8)(Ti)&&(on||(on=[]),on.push(Ti))}return on?(()=>ro(this,void 0,void 0,function*(){for(const Pn of on){const Wn=yield Pn;if("string"==typeof Wn)return Wn}return null}))():null},J=r.find(Me=>!!Me.allBasenames);J&&(U.allBasenames=J.allBasenames);const le=r.reduce((Me,Ye)=>Ye.allPaths?Me.concat(Ye.allPaths):Me,[]);return le.length&&(U.allPaths=le),U}(ae,i)}function ma(ae,i){const r=ae.filter(Me=>!!Me.basenames);if(r.length<2)return ae;const C=r.reduce((Me,Ye)=>{const vt=Ye.basenames;return vt?Me.concat(vt):Me},[]);let U;if(i){U=[];for(let Me=0,Ye=C.length;Me<Ye;Me++)U.push(i)}else U=r.reduce((Me,Ye)=>{const vt=Ye.patterns;return vt?Me.concat(vt):Me},[]);const J=function(Me,Ye){if("string"!=typeof Me)return null;if(!Ye){let Tt;for(Tt=Me.length;Tt>0;Tt--){const on=Me.charCodeAt(Tt-1);if(47===on||92===on)break}Ye=Me.substr(Tt)}const vt=C.indexOf(Ye);return-1!==vt?U[vt]:null};J.basenames=C,J.patterns=U,J.allBasenames=C;const le=ae.filter(Me=>!Me.basenames);return le.push(J),le}var no=e(59341),Do=e(64669);let as=[],nr=[],pa=[];function zo(ae,i=!1){!function jo(ae,i,r){const C=function ll(ae,i){return{id:ae.id,mime:ae.mime,filename:ae.filename,extension:ae.extension,filepattern:ae.filepattern,firstline:ae.firstline,userConfigured:i,filenameLowercase:ae.filename?ae.filename.toLowerCase():void 0,extensionLowercase:ae.extension?ae.extension.toLowerCase():void 0,filepatternLowercase:ae.filepattern?sl(ae.filepattern.toLowerCase()):void 0,filepatternOnPath:!!ae.filepattern&&ae.filepattern.indexOf(Xi.KR.sep)>=0}}(ae,i);as.push(C),C.userConfigured?pa.push(C):nr.push(C),r&&!C.userConfigured&&as.forEach(U=>{U.mime===C.mime||U.userConfigured||(C.extension&&U.extension===C.extension&&console.warn(`Overwriting extension <<${C.extension}>> to now point to mime <<${C.mime}>>`),C.filename&&U.filename===C.filename&&console.warn(`Overwriting filename <<${C.filename}>> to now point to mime <<${C.mime}>>`),C.filepattern&&U.filepattern===C.filepattern&&console.warn(`Overwriting filepattern <<${C.filepattern}>> to now point to mime <<${C.mime}>>`),C.firstline&&U.firstline===C.firstline&&console.warn(`Overwriting firstline <<${C.firstline}>> to now point to mime <<${C.mime}>>`))})}(ae,!1,i)}function ls(ae,i,r){var C;let U,J,le;for(let Me=r.length-1;Me>=0;Me--){const Ye=r[Me];if(i===Ye.filenameLowercase){U=Ye;break}if(Ye.filepattern&&(!J||Ye.filepattern.length>J.filepattern.length)){const vt=Ye.filepatternOnPath?ae:i;null!==(C=Ye.filepatternLowercase)&&void 0!==C&&C.call(Ye,vt)&&(J=Ye)}Ye.extension&&(!le||Ye.extension.length>le.extension.length)&&i.endsWith(Ye.extensionLowercase)&&(le=Ye)}return U||J||le||void 0}var or=e(17732),Ir=e(29537);const ds=Object.prototype.hasOwnProperty,xr="vs.editor.nullLanguage";class Mr{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(xr,0),this._register(Do.bd,1),this._nextLanguageId=2}_register(i,r){this._languageIdToLanguage[r]=i,this._languageToLanguageId.set(i,r)}register(i){if(this._languageToLanguageId.has(i))return;const r=this._nextLanguageId++;this._register(i,r)}encodeLanguageId(i){return this._languageToLanguageId.get(i)||0}decodeLanguageId(i){return this._languageIdToLanguage[i]||xr}}let Tr=(()=>{class ae extends F.JT{constructor(r=!0,C=!1){super(),this._onDidChange=this._register(new L.Q5),this.onDidChange=this._onDidChange.event,ae.instanceCount++,this._warnOnOverwrite=C,this.languageIdCodec=new Mr,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},r&&(this._initializeFromRegistry(),this._register(Do.dQ.onDidChangeLanguages(U=>{this._initializeFromRegistry()})))}dispose(){ae.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},function dl(){as=as.filter(ae=>ae.userConfigured),nr=[]}();const r=[].concat(Do.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(r)}_registerLanguages(r){for(const C of r)this._registerLanguage(C);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(C=>{const U=this._languages[C];U.name&&(this._nameMap[U.name]=U.identifier),U.aliases.forEach(J=>{this._lowercaseNameMap[J.toLowerCase()]=U.identifier}),U.mimetypes.forEach(J=>{this._mimeTypesMap[J]=U.identifier})}),Ir.B.as(or.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(r){const C=r.id;let U;ds.call(this._languages,C)?U=this._languages[C]:(this.languageIdCodec.register(C),U={identifier:C,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[C]=U),this._mergeLanguage(U,r)}_mergeLanguage(r,C){const U=C.id;let J=null;if(Array.isArray(C.mimetypes)&&C.mimetypes.length>0&&(r.mimetypes.push(...C.mimetypes),J=C.mimetypes[0]),J||(J=`text/x-${U}`,r.mimetypes.push(J)),Array.isArray(C.extensions)){r.extensions=C.configuration?C.extensions.concat(r.extensions):r.extensions.concat(C.extensions);for(const Ye of C.extensions)zo({id:U,mime:J,extension:Ye},this._warnOnOverwrite)}if(Array.isArray(C.filenames))for(const Ye of C.filenames)zo({id:U,mime:J,filename:Ye},this._warnOnOverwrite),r.filenames.push(Ye);if(Array.isArray(C.filenamePatterns))for(const Ye of C.filenamePatterns)zo({id:U,mime:J,filepattern:Ye},this._warnOnOverwrite);if("string"==typeof C.firstLine&&C.firstLine.length>0){let Ye=C.firstLine;"^"!==Ye.charAt(0)&&(Ye="^"+Ye);try{const vt=new RegExp(Ye);(0,W.IO)(vt)||zo({id:U,mime:J,firstline:vt},this._warnOnOverwrite)}catch(vt){(0,me.dL)(vt)}}r.aliases.push(U);let le=null;if(void 0!==C.aliases&&Array.isArray(C.aliases)&&(le=0===C.aliases.length?[null]:C.aliases),null!==le)for(const Ye of le)!Ye||0===Ye.length||r.aliases.push(Ye);const Me=null!==le&&le.length>0;if(!Me||null!==le[0]){const Ye=(Me?le[0]:null)||U;(Me||!r.name)&&(r.name=Ye)}C.configuration&&r.configurationFiles.push(C.configuration),C.icon&&r.icons.push(C.icon)}isRegisteredLanguageId(r){return!!r&&ds.call(this._languages,r)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(r){const C=r.toLowerCase();return ds.call(this._lowercaseNameMap,C)?this._lowercaseNameMap[C]:null}getLanguageIdByMimeType(r){return r&&ds.call(this._mimeTypesMap,r)?this._mimeTypesMap[r]:null}guessLanguageIdByFilepathOrFirstLine(r,C){return r||C?function cl(ae,i){return function hl(ae,i){let r;if(ae)switch(ae.scheme){case Kn.lg.file:r=ae.fsPath;break;case Kn.lg.data:r=ms.Vb.parseMetaData(ae).get(ms.Vb.META_DATA_LABEL);break;case Kn.lg.vscodeNotebookCell:r=void 0;break;default:r=ae.path}if(!r)return[{id:"unknown",mime:no.v.unknown}];r=r.toLowerCase();const C=(0,Xi.EZ)(r),U=ls(r,C,pa);if(U)return[U,{id:Do.bd,mime:no.v.text}];const J=ls(r,C,nr);if(J)return[J,{id:Do.bd,mime:no.v.text}];if(i){const le=function ir(ae){if((0,W.uS)(ae)&&(ae=ae.substr(1)),ae.length>0)for(let i=as.length-1;i>=0;i--){const r=as[i];if(!r.firstline)continue;const C=ae.match(r.firstline);if(C&&C.length>0)return r}}(i);if(le)return[le,{id:Do.bd,mime:no.v.text}]}return[{id:"unknown",mime:no.v.unknown}]}(ae,i).map(r=>r.id)}(r,C):[]}}return ae.instanceCount=0,ae})(),sr=(()=>{class ae extends F.JT{constructor(r=!1){super(),this._onDidEncounterLanguage=this._register(new L.Q5),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new L.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,ae.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new Tr(!0,r)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){ae.instanceCount--,super.dispose()}isRegisteredLanguageId(r){return this._registry.isRegisteredLanguageId(r)}getLanguageIdByLanguageName(r){return this._registry.getLanguageIdByLanguageName(r)}getLanguageIdByMimeType(r){return this._registry.getLanguageIdByMimeType(r)}guessLanguageIdByFilepathOrFirstLine(r,C){const U=this._registry.guessLanguageIdByFilepathOrFirstLine(r,C);return(0,yn.Xh)(U,null)}createById(r){return new va(this.onDidChange,()=>this._createAndGetLanguageIdentifier(r))}createByFilepathOrFirstLine(r,C){return new va(this.onDidChange,()=>{const U=this.guessLanguageIdByFilepathOrFirstLine(r,C);return this._createAndGetLanguageIdentifier(U)})}_createAndGetLanguageIdentifier(r){return(!r||!this.isRegisteredLanguageId(r))&&(r=Do.bd),this._encounteredLanguages.has(r)||(this._encounteredLanguages.add(r),N.RW.getOrCreate(r),this._onDidEncounterLanguage.fire(r)),r}}return ae.instanceCount=0,ae})();class va{constructor(i,r){this._onDidChangeLanguages=i,this._selector=r,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new L.Q5({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var i;const r=this._selector();r!==this.languageId&&(this.languageId=r,null===(i=this._emitter)||void 0===i||i.fire(this.languageId))}}var Nr=e(7457),Ar=e(13366),Cs=e(79680),rr=e(84039),_a=e(45909),Ca=e(53001),Pr=e(97648),To=e(85113),ns=e(2450),Bo=e(10661);const Or=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,bs=/(&amp;)?(&amp;)([^\s&])/g;var Ps=(()=>(function(ae){ae[ae.Right=0]="Right",ae[ae.Left=1]="Left"}(Ps||(Ps={})),Ps))();class Ss extends rr.o{constructor(i,r,C={}){i.classList.add("monaco-menu-container"),i.setAttribute("role","presentation");const U=document.createElement("div");U.classList.add("monaco-menu"),U.setAttribute("role","presentation"),super(U,{orientation:1,actionViewItemProvider:Me=>this.doGetActionViewItem(Me,C,J),context:C.context,actionRunner:C.actionRunner,ariaLabel:C.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...Ie.dz||Ie.IJ?[10]:[]],keyDown:!0}}),this.menuElement=U,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new F.SL),this.initializeOrUpdateStyleSheet(i,{}),this._register(Cs.o.addTarget(U)),(0,Qt.nm)(U,Qt.tw.KEY_DOWN,Me=>{new Mi.y(Me).equals(2)&&Me.preventDefault()}),C.enableMnemonics&&this.menuDisposables.add((0,Qt.nm)(U,Qt.tw.KEY_DOWN,Me=>{const Ye=Me.key.toLocaleLowerCase();if(this.mnemonics.has(Ye)){Qt.zB.stop(Me,!0);const vt=this.mnemonics.get(Ye);if(1===vt.length&&(vt[0]instanceof ba&&vt[0].container&&this.focusItemByElement(vt[0].container),vt[0].onClick(Me)),vt.length>1){const Tt=vt.shift();Tt&&Tt.container&&(this.focusItemByElement(Tt.container),vt.push(Tt)),this.mnemonics.set(Ye,vt)}}})),Ie.IJ&&this._register((0,Qt.nm)(U,Qt.tw.KEY_DOWN,Me=>{const Ye=new Mi.y(Me);Ye.equals(14)||Ye.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),Qt.zB.stop(Me,!0)):(Ye.equals(13)||Ye.equals(12))&&(this.focusedItem=0,this.focusPrevious(),Qt.zB.stop(Me,!0))})),this._register((0,Qt.nm)(this.domNode,Qt.tw.MOUSE_OUT,Me=>{(0,Qt.jg)(Me.relatedTarget,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),Me.stopPropagation())})),this._register((0,Qt.nm)(this.actionsList,Qt.tw.MOUSE_OVER,Me=>{let Ye=Me.target;if(Ye&&(0,Qt.jg)(Ye,this.actionsList)&&Ye!==this.actionsList){for(;Ye.parentElement!==this.actionsList&&null!==Ye.parentElement;)Ye=Ye.parentElement;if(Ye.classList.contains("action-item")){const vt=this.focusedItem;this.setFocusedItem(Ye),vt!==this.focusedItem&&this.updateFocus()}}})),this._register(Cs.o.addTarget(this.actionsList)),this._register((0,Qt.nm)(this.actionsList,Cs.t.Tap,Me=>{let Ye=Me.initialTarget;if(Ye&&(0,Qt.jg)(Ye,this.actionsList)&&Ye!==this.actionsList){for(;Ye.parentElement!==this.actionsList&&null!==Ye.parentElement;)Ye=Ye.parentElement;if(Ye.classList.contains("action-item")){const vt=this.focusedItem;this.setFocusedItem(Ye),vt!==this.focusedItem&&this.updateFocus()}}}));const J={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new Pr.s$(U,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const le=this.scrollableElement.getDomNode();le.style.position="",this._register((0,Qt.nm)(U,Cs.t.Change,Me=>{Qt.zB.stop(Me,!0);const Ye=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:Ye-Me.translationY})})),this._register((0,Qt.nm)(le,Qt.tw.MOUSE_UP,Me=>{Me.preventDefault()})),U.style.maxHeight=`${Math.max(10,window.innerHeight-i.getBoundingClientRect().top-35)}px`,r=r.filter(Me=>{var Ye;return null===(Ye=C.submenuIds)||void 0===Ye||!Ye.has(Me.id)||(console.warn(`Found submenu cycle: ${Me.id}`),!1)}),this.push(r,{icon:!0,label:!0,isMenu:!0}),i.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(Me=>!(Me instanceof kr)).forEach((Me,Ye,vt)=>{Me.updatePositionInSet(Ye+1,vt.length)})}initializeOrUpdateStyleSheet(i,r){this.styleSheet||((0,Qt.OO)(i)?this.styleSheet=(0,Qt.dS)(i):(Ss.globalStyleSheet||(Ss.globalStyleSheet=(0,Qt.dS)()),this.styleSheet=Ss.globalStyleSheet)),this.styleSheet.textContent=function fl(ae,i){let r=`\n.monaco-menu {\n\tfont-size: 13px;\n\tborder-radius: 5px;\n\tmin-width: 160px;\n}\n\n${(0,Ca.a)(ns.lA.menuSelection)}\n${(0,Ca.a)(ns.lA.menuSubmenu)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221a\u03c6 */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\tcolor: var(--vscode-disabledForeground);\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid var(--vscode-menu-separatorBackground);\n\tpadding-top: 1px;\n\tpadding: 30px;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {\n\topacity: unset;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\twidth: 100%;\n\theight: 0px !important;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.hc-black .context-view.monaco-menu-container,\n.hc-light .context-view.monaco-menu-container,\n:host-context(.hc-black) .context-view.monaco-menu-container,\n:host-context(.hc-light) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .6em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tmargin: 5px 0 !important;\n\tpadding: 0;\n\tborder-radius: 0;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}`;if(i){r+="\n\t\t\t/* Arrows */\n\t\t\t.monaco-scrollable-element > .scrollbar > .scra {\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-size: 11px !important;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .visible {\n\t\t\t\topacity: 1;\n\n\t\t\t\t/* Background rule added for IE9 - to allow clicks on dom node */\n\t\t\t\tbackground:rgba(0,0,0,0);\n\n\t\t\t\ttransition: opacity 100ms linear;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible {\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible.fade {\n\t\t\t\ttransition: opacity 800ms linear;\n\t\t\t}\n\n\t\t\t/* Scrollable Content Inset Shadow */\n\t\t\t.monaco-scrollable-element > .shadow {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 3px;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 3px;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top-left-corner {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t";const C=ae.scrollbarShadow;C&&(r+=`\n\t\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\t\tbox-shadow: ${C} 0 6px 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\t\tbox-shadow: ${C} 6px 0 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\t\tbox-shadow: ${C} 6px 6px 6px -6px inset;\n\t\t\t\t}\n\t\t\t`);const U=ae.scrollbarSliderBackground;U&&(r+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\t\tbackground: ${U};\n\t\t\t\t}\n\t\t\t`);const J=ae.scrollbarSliderHoverBackground;J&&(r+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\t\tbackground: ${J};\n\t\t\t\t}\n\t\t\t`);const le=ae.scrollbarSliderActiveBackground;le&&(r+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\t\tbackground: ${le};\n\t\t\t\t}\n\t\t\t`)}return r}(r,(0,Qt.OO)(i))}style(i){const r=this.getContainer();this.initializeOrUpdateStyleSheet(r,i);const C=i.foregroundColor?`${i.foregroundColor}`:"",U=i.backgroundColor?`${i.backgroundColor}`:"",Me=i.shadowColor?`0 2px 8px ${i.shadowColor}`:"";r.style.outline=i.borderColor?`1px solid ${i.borderColor}`:"",r.style.borderRadius="5px",r.style.color=C,r.style.backgroundColor=U,r.style.boxShadow=Me,this.viewItems&&this.viewItems.forEach(Ye=>{(Ye instanceof Rr||Ye instanceof kr)&&Ye.style(i)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(i){const r=this.focusedItem;this.setFocusedItem(i),r!==this.focusedItem&&this.updateFocus()}setFocusedItem(i){for(let r=0;r<this.actionsList.children.length;r++)if(i===this.actionsList.children[r]){this.focusedItem=r;break}}updateFocus(i){super.updateFocus(i,!0,!0),void 0!==this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(i,r,C){if(i instanceof To.Z0)return new kr(r.context,i,{icon:!0});if(i instanceof To.wY){const U=new ba(i,i.actions,C,Object.assign(Object.assign({},r),{submenuIds:new Set([...r.submenuIds||[],i.id])}));if(r.enableMnemonics){const J=U.getMnemonic();if(J&&U.isEnabled()){let le=[];this.mnemonics.has(J)&&(le=this.mnemonics.get(J)),le.push(U),this.mnemonics.set(J,le)}}return U}{const U={enableMnemonics:r.enableMnemonics,useEventAsContext:r.useEventAsContext};if(r.getKeyBinding){const le=r.getKeyBinding(i);if(le){const Me=le.getLabel();Me&&(U.keybinding=Me)}}const J=new Rr(r.context,i,U);if(r.enableMnemonics){const le=J.getMnemonic();if(le&&J.isEnabled()){let Me=[];this.mnemonics.has(le)&&(Me=this.mnemonics.get(le)),Me.push(J),this.mnemonics.set(le,Me)}}return J}}}class Rr extends _a.Y{constructor(i,r,C={}){if(C.isMenu=!0,super(r,r,C),this.options=C,this.options.icon=void 0!==C.icon&&C.icon,this.options.label=void 0===C.label||C.label,this.cssClass="",this.options.label&&C.enableMnemonics){const U=this.getAction().label;if(U){const J=Or.exec(U);J&&(this.mnemonic=(J[1]?J[1]:J[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new be.pY(()=>{!this.element||(this._register((0,Qt.nm)(this.element,Qt.tw.MOUSE_UP,U=>{if(Qt.zB.stop(U,!0),Ar.isFirefox){if(new Nr.n(U).rightButton)return;this.onClick(U)}else setTimeout(()=>{this.onClick(U)},0)})),this._register((0,Qt.nm)(this.element,Qt.tw.CONTEXT_MENU,U=>{Qt.zB.stop(U,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(i){super.render(i),this.element&&(this.container=i,this.item=(0,Qt.R3)(this.element,(0,Qt.$)("a.action-menu-item")),this._action.id===To.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,Qt.R3)(this.item,(0,Qt.$)("span.menu-item-check"+ns.lA.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,Qt.R3)(this.item,(0,Qt.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,Qt.R3)(this.item,(0,Qt.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(i,r){this.item&&(this.item.setAttribute("aria-posinset",`${i}`),this.item.setAttribute("aria-setsize",`${r}`))}updateLabel(){var i;if(this.label&&this.options.label){(0,Qt.PO)(this.label);let r=(0,Bo.x$)(this.getAction().label);if(r){const C=function ul(ae){const i=Or,r=i.exec(ae);return r?ae.replace(i,r[1]?"":"$2$3").trim():ae}(r);this.options.enableMnemonics||(r=C),this.label.setAttribute("aria-label",C.replace(/&&/g,"&"));const U=Or.exec(r);if(U){r=W.YU(r),bs.lastIndex=0;let J=bs.exec(r);for(;J&&J[1];)J=bs.exec(r);const le=Me=>Me.replace(/&amp;&amp;/g,"&amp;");J?this.label.append(W.j3(le(r.substr(0,J.index))," "),(0,Qt.$)("u",{"aria-hidden":"true"},J[3]),W.oL(le(r.substr(J.index+J[0].length))," ")):this.label.innerText=le(r).trim(),null===(i=this.item)||void 0===i||i.setAttribute("aria-keyshortcuts",(U[1]?U[1]:U[3]).toLocaleLowerCase())}else this.label.innerText=r.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const i=this.getAction().checked;this.item.classList.toggle("checked",!!i),void 0!==i?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",i?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const i=this.element&&this.element.classList.contains("focused"),r=i&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,C=i&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,U=i&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",J=i&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=r?r.toString():"",this.item.style.backgroundColor=C?C.toString():"",this.item.style.outline=U,this.item.style.outlineOffset=J),this.check&&(this.check.style.color=r?r.toString():"")}style(i){this.menuStyle=i,this.applyStyle()}}class ba extends Rr{constructor(i,r,C,U){super(i,i,U),this.submenuActions=r,this.parentData=C,this.submenuOptions=U,this.mysubmenu=null,this.submenuDisposables=this._register(new F.SL),this.mouseOver=!1,this.expandDirection=U&&void 0!==U.expandDirection?U.expandDirection:Ps.Right,this.showScheduler=new be.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new be.pY(()=>{this.element&&!(0,Qt.jg)((0,Qt.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(i){super.render(i),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,Qt.R3)(this.item,(0,Qt.$)("span.submenu-indicator"+ns.lA.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,Qt.nm)(this.element,Qt.tw.KEY_UP,r=>{const C=new Mi.y(r);(C.equals(17)||C.equals(3))&&(Qt.zB.stop(r,!0),this.createSubmenu(!0))})),this._register((0,Qt.nm)(this.element,Qt.tw.KEY_DOWN,r=>{const C=new Mi.y(r);(0,Qt.vY)()===this.item&&(C.equals(17)||C.equals(3))&&Qt.zB.stop(r,!0)})),this._register((0,Qt.nm)(this.element,Qt.tw.MOUSE_OVER,r=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,Qt.nm)(this.element,Qt.tw.MOUSE_LEAVE,r=>{this.mouseOver=!1})),this._register((0,Qt.nm)(this.element,Qt.tw.FOCUS_OUT,r=>{this.element&&!(0,Qt.jg)((0,Qt.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(i){Qt.zB.stop(i,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(i){if(this.parentData.submenu&&(i||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(r){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(i,r,C,U){const J={top:0,left:0};return J.left=Mo(i.width,r.width,{position:U===Ps.Right?0:1,offset:C.left,size:C.width}),J.left>=C.left&&J.left<C.left+C.width&&(C.left+10+r.width<=i.width&&(J.left=C.left+10),C.top+=10,C.height=0),J.top=Mo(i.height,r.height,{position:0,offset:C.top,size:0}),J.top+r.height===C.top&&J.top+C.height+r.height<=i.height&&(J.top+=C.height),J}createSubmenu(i=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,Qt.R3)(this.element,(0,Qt.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const r=getComputedStyle(this.parentData.parent.domNode),C=parseFloat(r.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new Ss(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new To.eZ],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const U=this.element.getBoundingClientRect(),J={top:U.top-C,left:U.left,height:U.height+2*C,width:U.width},le=this.submenuContainer.getBoundingClientRect(),{top:Me,left:Ye}=this.calculateSubmenuMenuLayout(new Qt.Ro(window.innerWidth,window.innerHeight),Qt.Ro.lift(le),J,this.expandDirection);this.submenuContainer.style.left=Ye-le.left+"px",this.submenuContainer.style.top=Me-le.top+"px",this.submenuDisposables.add((0,Qt.nm)(this.submenuContainer,Qt.tw.KEY_UP,vt=>{new Mi.y(vt).equals(15)&&(Qt.zB.stop(vt,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,Qt.nm)(this.submenuContainer,Qt.tw.KEY_DOWN,vt=>{new Mi.y(vt).equals(15)&&Qt.zB.stop(vt,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(i),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(i){var r;this.item&&(null===(r=this.item)||void 0===r||r.setAttribute("aria-expanded",i))}applyStyle(){var i;if(super.applyStyle(),!this.menuStyle)return;const C=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=C?`${C}`:""),null===(i=this.parentData.submenu)||void 0===i||i.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class kr extends _a.g{style(i){this.label&&(this.label.style.borderBottomColor=i.separatorColor?`${i.separatorColor}`:"")}}var Yo=e(32151);class Os{constructor(i,r,C,U,J){this.contextViewService=i,this.telemetryService=r,this.notificationService=C,this.keybindingService=U,this.themeService=J,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(i){this.options=i}showContextMenu(i){const r=i.getActions();if(!r.length)return;let C;this.focusToReturn=document.activeElement;const U=(0,Qt.Re)(i.domForShadowRoot)?i.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>i.getAnchor(),canRelayout:!1,anchorAlignment:i.anchorAlignment,anchorAxisAlignment:i.anchorAxisAlignment,render:J=>{const le=i.getMenuClassName?i.getMenuClassName():"";le&&(J.className+=" "+le),this.options.blockMouse&&(this.block=J.appendChild((0,Qt.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,Qt.nm)(this.block,Qt.tw.MOUSE_DOWN,vt=>vt.stopPropagation()));const Me=new F.SL,Ye=i.actionRunner||new To.Wi;return Ye.onBeforeRun(this.onActionRun,this,Me),Ye.onDidRun(this.onDidActionRun,this,Me),C=new Ss(J,r,{actionViewItemProvider:i.getActionViewItem,context:i.getActionsContext?i.getActionsContext():null,actionRunner:Ye,getKeyBinding:i.getKeyBinding?i.getKeyBinding:vt=>this.keybindingService.lookupKeybinding(vt.id)}),Me.add((0,Yo.tj)(C,this.themeService)),C.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,Me),C.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,Me),Me.add((0,Qt.nm)(window,Qt.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),Me.add((0,Qt.nm)(window,Qt.tw.MOUSE_DOWN,vt=>{if(vt.defaultPrevented)return;const Tt=new Nr.n(vt);let on=Tt.target;if(!Tt.rightButton){for(;on;){if(on===J)return;on=on.parentElement}this.contextViewService.hideContextView(!0)}})),(0,F.F8)(Me,C)},focus:()=>{null==C||C.focus(!!i.autoSelectFirstItem)},onHide:J=>{var le;null===(le=i.onHide)||void 0===le||le.call(i,!!J),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},U,!!U)}onActionRun(i){this.telemetryService.publicLog2("workbenchActionExecuted",{id:i.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(i){i.error&&!(0,me.n2)(i.error)&&this.notificationService.error(i.error)}}var Rs=function(ae,i){return function(r,C){i(r,C,ae)}};let Br=class extends F.JT{constructor(i,r,C,U,J){super(),this._onDidShowContextMenu=new L.Q5,this._onDidHideContextMenu=new L.Q5,this.contextMenuHandler=new Os(C,i,r,U,J)}configure(i){this.contextMenuHandler.configure(i)}showContextMenu(i){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},i),{onHide:r=>{var C;null===(C=i.onHide)||void 0===C||C.call(i,r),this._onDidHideContextMenu.fire()}})),Qt._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};Br=function(ae,i,r,C){var le,U=arguments.length,J=U<3?i:null===C?C=Object.getOwnPropertyDescriptor(i,r):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(ae,i,r,C);else for(var Me=ae.length-1;Me>=0;Me--)(le=ae[Me])&&(J=(U<3?le(J):U>3?le(i,r,J):le(i,r))||J);return U>3&&J&&Object.defineProperty(i,r,J),J}([Rs(0,Qo.b),Rs(1,Ki.lT),Rs(2,Oo.u),Rs(3,Vo.d),Rs(4,_t.XE)],Br);var ys=e(63314),ks=(()=>(function(ae){ae[ae.API=0]="API",ae[ae.USER=1]="USER"}(ks||(ks={})),ks))(),Bs=e(26589),ji=function(ae,i,r,C){var le,U=arguments.length,J=U<3?i:null===C?C=Object.getOwnPropertyDescriptor(i,r):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(ae,i,r,C);else for(var Me=ae.length-1;Me>=0;Me--)(le=ae[Me])&&(J=(U<3?le(J):U>3?le(i,r,J):le(i,r))||J);return U>3&&J&&Object.defineProperty(i,r,J),J},Fs=function(ae,i){return function(r,C){i(r,C,ae)}},cs=function(ae,i,r,C){return new(r||(r=Promise))(function(J,le){function Me(Tt){try{vt(C.next(Tt))}catch(on){le(on)}}function Ye(Tt){try{vt(C.throw(Tt))}catch(on){le(on)}}function vt(Tt){Tt.done?J(Tt.value):function U(J){return J instanceof r?J:new r(function(le){le(J)})}(Tt.value).then(Me,Ye)}vt((C=C.apply(ae,i||[])).next())})};let Fr=class{constructor(i){this._commandService=i}open(i,r){return cs(this,void 0,void 0,function*(){if(!(0,Bs.xn)(i,Kn.lg.command))return!1;if(null==r||!r.allowCommands)return!0;"string"==typeof i&&(i=u.o.parse(i));let C=[];try{C=(0,ys.Q)(decodeURIComponent(i.query))}catch(U){try{C=(0,ys.Q)(i.query)}catch(J){}}return Array.isArray(C)||(C=[C]),yield this._commandService.executeCommand(i.path,...C),!0})}};Fr=ji([Fs(0,Ri.Hy)],Fr);let Wr=class{constructor(i){this._editorService=i}open(i,r){return cs(this,void 0,void 0,function*(){"string"==typeof i&&(i=u.o.parse(i));const{selection:C,uri:U}=(0,Bs.xI)(i);return(i=U).scheme===Kn.lg.file&&(i=(0,ms.AH)(i)),yield this._editorService.openCodeEditor({resource:i,options:Object.assign({selection:C,source:null!=r&&r.fromUserGesture?ks.USER:ks.API},null==r?void 0:r.editorOptions)},this._editorService.getFocusedCodeEditor(),null==r?void 0:r.openToSide),!0})}};Wr=ji([Fs(0,z.$)],Wr);let Vr=class{constructor(i,r){this._openers=new Zn.S,this._validators=new Zn.S,this._resolvers=new Zn.S,this._resolvedUriTargets=new ki.Y9(C=>C.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new Zn.S,this._defaultExternalOpener={openExternal:C=>cs(this,void 0,void 0,function*(){return(0,Bs.Gs)(C,Kn.lg.http,Kn.lg.https)?Qt.V3(C):window.location.href=C,!0})},this._openers.push({open:(C,U)=>cs(this,void 0,void 0,function*(){return!(!(null==U?void 0:U.openExternal)&&!(0,Bs.Gs)(C,Kn.lg.mailto,Kn.lg.http,Kn.lg.https,Kn.lg.vsls)||(yield this._doOpenExternal(C,U),0))})}),this._openers.push(new Fr(r)),this._openers.push(new Wr(i))}registerOpener(i){return{dispose:this._openers.unshift(i)}}registerValidator(i){return{dispose:this._validators.push(i)}}registerExternalUriResolver(i){return{dispose:this._resolvers.push(i)}}setDefaultExternalOpener(i){this._defaultExternalOpener=i}registerExternalOpener(i){return{dispose:this._externalOpeners.push(i)}}open(i,r){var C;return cs(this,void 0,void 0,function*(){const U="string"==typeof i?u.o.parse(i):i,J=null!==(C=this._resolvedUriTargets.get(U))&&void 0!==C?C:i;for(const le of this._validators)if(!(yield le.shouldOpen(J,r)))return!1;for(const le of this._openers)if(yield le.open(i,r))return!0;return!1})}resolveExternalUri(i,r){return cs(this,void 0,void 0,function*(){for(const C of this._resolvers)try{const U=yield C.resolveExternalUri(i,r);if(U)return this._resolvedUriTargets.has(U.resolved)||this._resolvedUriTargets.set(U.resolved,i),U}catch(U){}throw new Error("Could not resolve external URI: "+i.toString())})}_doOpenExternal(i,r){return cs(this,void 0,void 0,function*(){const C="string"==typeof i?u.o.parse(i):i;let U,J;try{U=(yield this.resolveExternalUri(C,r)).resolved}catch(le){U=C}if(J="string"==typeof i&&C.toString()===U.toString()?i:encodeURI(U.toString(!0)),null!=r&&r.allowContributedOpeners){const le="string"==typeof(null==r?void 0:r.allowContributedOpeners)?null==r?void 0:r.allowContributedOpeners:void 0;for(const Me of this._externalOpeners)if(yield Me.openExternal(J,{sourceUri:C,preferredOpenerId:le},s.T.None))return!0}return this._defaultExternalOpener.openExternal(J,{sourceUri:C},s.T.None)})}dispose(){this._validators.clear()}};Vr=ji([Fs(0,z.$),Fs(1,Ri.Hy)],Vr);var yo=e(12882),Hr=e(53448),Wi=e(28708),ya=function(ae,i){return function(r,C){i(r,C,ae)}};class gl extends F.JT{constructor(i){super(),this.model=i,this._markersData=new Map,this._register((0,F.OF)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(i,r){const C=[...this._markersData.keys()];this._markersData.clear();const U=this.model.deltaDecorations(C,r);for(let J=0;J<U.length;J++)this._markersData.set(U[J],i[J]);return 0!==C.length||0!==U.length}getMarker(i){return this._markersData.get(i.id)}}let Ur=class extends F.JT{constructor(i,r){super(),this._markerService=r,this._onDidChangeMarker=this._register(new L.Q5),this._markerDecorations=new ki.Y9,i.getModels().forEach(C=>this._onModelAdded(C)),this._register(i.onModelAdded(this._onModelAdded,this)),this._register(i.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(i=>i.dispose()),this._markerDecorations.clear()}getMarker(i,r){const C=this._markerDecorations.get(i);return C&&C.getMarker(r)||null}_handleMarkerChange(i){i.forEach(r=>{const C=this._markerDecorations.get(r);C&&this._updateDecorations(C)})}_onModelAdded(i){const r=new gl(i);this._markerDecorations.set(i.uri,r),this._updateDecorations(r)}_onModelRemoved(i){var r;const C=this._markerDecorations.get(i.uri);C&&(C.dispose(),this._markerDecorations.delete(i.uri)),(i.uri.scheme===Kn.lg.inMemory||i.uri.scheme===Kn.lg.internal||i.uri.scheme===Kn.lg.vscode)&&(null===(r=this._markerService)||void 0===r||r.read({resource:i.uri}).map(U=>U.owner).forEach(U=>this._markerService.remove(U,[i.uri])))}_updateDecorations(i){const r=this._markerService.read({resource:i.model.uri,take:500}),C=r.map(U=>({range:this._createDecorationRange(i.model,U),options:this._createDecorationOption(U)}));i.update(r,C)&&this._onDidChangeMarker.fire(i.model)}_createDecorationRange(i,r){let C=A.e.lift(r);if(r.severity===yo.ZL.Hint&&!this._hasMarkerTag(r,1)&&!this._hasMarkerTag(r,2)&&(C=C.setEndPosition(C.startLineNumber,C.startColumn+2)),C=i.validateRange(C),C.isEmpty()){const U=i.getLineLastNonWhitespaceColumn(C.startLineNumber)||i.getLineMaxColumn(C.startLineNumber);if(1===U||C.endColumn>=U)return C;const J=i.getWordAtPosition(C.getStartPosition());J&&(C=new A.e(C.startLineNumber,J.startColumn,C.endLineNumber,J.endColumn))}else if(r.endColumn===Number.MAX_VALUE&&1===r.startColumn&&C.startLineNumber===C.endLineNumber){const U=i.getLineFirstNonWhitespaceColumn(r.startLineNumber);U<C.endColumn&&(C=new A.e(C.startLineNumber,U,C.endLineNumber,C.endColumn),r.startColumn=U)}return C}_createDecorationOption(i){let r,C,U,J,le;switch(i.severity){case yo.ZL.Hint:r=this._hasMarkerTag(i,2)?void 0:this._hasMarkerTag(i,1)?"squiggly-unnecessary":"squiggly-hint",U=0;break;case yo.ZL.Warning:r="squiggly-warning",C=(0,_t.EN)(Hr.Re),U=20,le={color:(0,_t.EN)(Wi.Ivo),position:V.F5.Inline};break;case yo.ZL.Info:r="squiggly-info",C=(0,_t.EN)(Hr.eS),U=10;break;default:r="squiggly-error",C=(0,_t.EN)(Hr.lK),U=30,le={color:(0,_t.EN)(Wi.Gj_),position:V.F5.Inline}}return i.tags&&(-1!==i.tags.indexOf(1)&&(J="squiggly-inline-unnecessary"),-1!==i.tags.indexOf(2)&&(J="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:r,showIfCollapsed:!0,overviewRuler:{color:C,position:V.sh.Right},minimap:le,zIndex:U,inlineClassName:J}}_hasMarkerTag(i,r){return!!i.tags&&i.tags.indexOf(r)>=0}};Ur=function(ae,i,r,C){var le,U=arguments.length,J=U<3?i:null===C?C=Object.getOwnPropertyDescriptor(i,r):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(ae,i,r,C);else for(var Me=ae.length-1;Me>=0;Me--)(le=ae[Me])&&(J=(U<3?le(J):U>3?le(i,r,J):le(i,r))||J);return U>3&&J&&Object.defineProperty(i,r,J),J}([ya(0,fe.q),ya(1,yo.lT)],Ur);var ml=e(82945),zr=e(76844),ar=e(93198),Xo={};Xo.styleTagTransform=T(),Xo.setAttributes=y(),Xo.insert=m().bind(null,"head"),Xo.domAPI=v(),Xo.insertStyleElement=b(),n()(ar.Z,Xo);var Kr=e(95172),ws=e(12452),La=e(84459),Ls=e(68927),lr=e(72013),hs={};hs.styleTagTransform=T(),hs.setAttributes=y(),hs.insert=m().bind(null,"head"),hs.domAPI=v(),hs.insertStyleElement=b(),n()(lr.Z,hs);const vl={buttonBackground:Ls.Il.fromHex("#0E639C"),buttonHoverBackground:Ls.Il.fromHex("#006BB3"),buttonSeparator:Ls.Il.white,buttonForeground:Ls.Il.white};class Ea extends F.JT{constructor(i,r){super(),this._onDidClick=this._register(new L.Q5),this.options=r||Object.create(null),(0,fo.jB)(this.options,vl,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),i.appendChild(this._element),this._register(Cs.o.addTarget(this._element)),[Qt.tw.CLICK,Cs.t.Tap].forEach(C=>{this._register((0,Qt.nm)(this._element,C,U=>{this.enabled?this._onDidClick.fire(U):Qt.zB.stop(U)}))}),this._register((0,Qt.nm)(this._element,Qt.tw.KEY_DOWN,C=>{const U=new Mi.y(C);let J=!1;this.enabled&&(U.equals(3)||U.equals(10))?(this._onDidClick.fire(C),J=!0):U.equals(9)&&(this._element.blur(),J=!0),J&&Qt.zB.stop(U,!0)})),this._register((0,Qt.nm)(this._element,Qt.tw.MOUSE_OVER,C=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,Qt.nm)(this._element,Qt.tw.MOUSE_OUT,C=>{this.applyStyles()})),this.focusTracker=this._register((0,Qt.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.setHoverBackground()})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.applyStyles()})),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let i;i=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null,i&&(this._element.style.backgroundColor=i)}style(i){this.buttonForeground=i.buttonForeground,this.buttonBackground=i.buttonBackground,this.buttonHoverBackground=i.buttonHoverBackground,this.buttonSecondaryForeground=i.buttonSecondaryForeground,this.buttonSecondaryBackground=i.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=i.buttonSecondaryHoverBackground,this.buttonBorder=i.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let i,r;this.options.secondary?(r=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",i=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(r=this.buttonForeground?this.buttonForeground.toString():"",i=this.buttonBackground?this.buttonBackground.toString():"");const C=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=r,this._element.style.backgroundColor=i,this._element.style.borderWidth=C?"1px":"",this._element.style.borderStyle=C?"solid":"",this._element.style.borderColor=C}}get element(){return this._element}set label(i){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,Qt.mc)(this._element,...(0,La.T)(i)):this._element.textContent=i,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=i)}set enabled(i){i?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}var Da=e(39914),dr=e(64185),is={};is.styleTagTransform=T(),is.setAttributes=y(),is.insert=m().bind(null,"head"),is.domAPI=v(),is.insertStyleElement=b(),n()(dr.Z,is);const Gr="infinite",Zr="infinite-long-running",xa="discrete",Vs={progressBarBackground:Ls.Il.fromHex("#0E70C0")};let Ma=(()=>{class ae extends F.JT{constructor(r,C){super(),this.options=C||Object.create(null),(0,fo.jB)(this.options,Vs,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new be.pY(()=>(0,Qt.$Z)(this.element),0)),this.longRunningScheduler=this._register(new be.pY(()=>this.infiniteLongRunning(),ae.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(r)}create(r){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),r.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove("active",Gr,Zr,xa),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(r){return this.element.classList.add("done"),this.element.classList.contains(Gr)?(this.bit.style.opacity="0",r?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",r?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(xa,"done",Zr),this.element.classList.add("active",Gr),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(Zr)}getContainer(){return this.element}style(r){this.progressBarBackground=r.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const r=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=r}}}return ae.LONG_RUNNING_INFINITE_THRESHOLD=1e4,ae})();var Ta=e(68900),Qr=e(53257),Jo={};Jo.styleTagTransform=T(),Jo.setAttributes=y(),Jo.insert=m().bind(null,"head"),Jo.domAPI=v(),Jo.insertStyleElement=b(),n()(Qr.Z,Jo);const Hs={},Yr=new Ta.R("quick-input-button-icon-");function Xr(ae){if(!ae)return;let i;const r=ae.dark.toString();return Hs[r]?i=Hs[r]:(i=Yr.nextId(),Qt.fk(`.${i}, .hc-light .${i}`,`background-image: ${Qt.wY(ae.light||ae.dark)}`),Qt.fk(`.vs-dark .${i}, .hc-black .${i}`,`background-image: ${Qt.wY(ae.dark)}`),Hs[r]=i),i}var No=e(42099),Us=e(3372);const Aa=Qt.$;class Jr extends F.JT{constructor(i){super(),this.parent=i,this.onKeyDown=r=>Qt.nm(this.inputBox.inputElement,Qt.tw.KEY_DOWN,C=>{r(new Mi.y(C))}),this.onMouseDown=r=>Qt.nm(this.inputBox.inputElement,Qt.tw.MOUSE_DOWN,C=>{r(new Nr.n(C))}),this.onDidChange=r=>this.inputBox.onDidChange(r),this.container=Qt.R3(this.parent,Aa(".quick-input-box")),this.inputBox=this._register(new Us.W(this.container,void 0))}get value(){return this.inputBox.value}set value(i){this.inputBox.value=i}select(i=null){this.inputBox.select(i)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(i){this.inputBox.setPlaceHolder(i)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(i){this.inputBox.setAriaLabel(i)}get password(){return"password"===this.inputBox.inputElement.type}set password(i){this.inputBox.inputElement.type=i?"password":"text"}setAttribute(i,r){this.inputBox.inputElement.setAttribute(i,r)}removeAttribute(i){this.inputBox.inputElement.removeAttribute(i)}showDecoration(i){i===hi.Z.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:i===hi.Z.Info?1:i===hi.Z.Warning?2:3,content:""})}stylesForType(i){return this.inputBox.stylesForType(i===hi.Z.Info?1:i===hi.Z.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(i){this.inputBox.style(i)}}var qr=e(61021),Es=e(72298),os={};os.styleTagTransform=T(),os.setAttributes=y(),os.insert=m().bind(null,"head"),os.domAPI=v(),os.insertStyleElement=b(),n()(Es.Z,os);const cr=Qt.$;class ea{constructor(i,r,C){this.os=r,this.keyElements=new Set,this.options=C||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=Qt.R3(i,cr(".monaco-keybinding")),this.didEverRender=!1,i.appendChild(this.domNode)}get element(){return this.domNode}set(i,r){this.didEverRender&&this.keybinding===i&&ea.areSame(this.matches,r)||(this.keybinding=i,this.matches=r,this.render())}render(){if(this.clear(),this.keybinding){const[i,r]=this.keybinding.getParts();i&&this.renderPart(this.domNode,i,this.matches?this.matches.firstPart:null),r&&(Qt.R3(this.domNode,cr("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,r,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){Qt.PO(this.domNode),this.keyElements.clear()}renderPart(i,r,C){const U=Ho.xo.modifierLabels[this.os];r.ctrlKey&&this.renderKey(i,U.ctrlKey,Boolean(null==C?void 0:C.ctrlKey),U.separator),r.shiftKey&&this.renderKey(i,U.shiftKey,Boolean(null==C?void 0:C.shiftKey),U.separator),r.altKey&&this.renderKey(i,U.altKey,Boolean(null==C?void 0:C.altKey),U.separator),r.metaKey&&this.renderKey(i,U.metaKey,Boolean(null==C?void 0:C.metaKey),U.separator);const J=r.keyLabel;J&&this.renderKey(i,J,Boolean(null==C?void 0:C.keyCode),"")}renderKey(i,r,C,U){Qt.R3(i,this.createKeyElement(r,C?".highlight":"")),U&&Qt.R3(i,cr("span.monaco-keybinding-key-separator",void 0,U))}renderUnbound(i){Qt.R3(i,this.createKeyElement((0,ii.NC)("unbound","Unbound")))}createKeyElement(i,r=""){const C=cr("span.monaco-keybinding-key"+r,void 0,i);return this.keyElements.add(C),C}style(i){this.labelBackground=i.keybindingLabelBackground,this.labelForeground=i.keybindingLabelForeground,this.labelBorder=i.keybindingLabelBorder,this.labelBottomBorder=i.keybindingLabelBottomBorder,this.labelShadow=i.keybindingLabelShadow,this.applyStyles()}applyStyles(){var i;if(this.element){for(const r of this.keyElements)this.labelBackground&&(r.style.backgroundColor=null===(i=this.labelBackground)||void 0===i?void 0:i.toString()),this.labelBorder&&(r.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(r.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(r.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(i,r){return i===r||!i&&!r||!!i&&!!r&&(0,fo.fS)(i.firstPart,r.firstPart)&&(0,fo.fS)(i.chordPart,r.chordPart)}}const hr=new be.Ue(()=>{const ae=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:ae,collatorIsNumeric:ae.resolvedOptions().numeric}});new be.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),new be.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));var Ko=e(10087),Ra=function(ae,i,r,C){var le,U=arguments.length,J=U<3?i:null===C?C=Object.getOwnPropertyDescriptor(i,r):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(ae,i,r,C);else for(var Me=ae.length-1;Me>=0;Me--)(le=ae[Me])&&(J=(U<3?le(J):U>3?le(i,r,J):le(i,r))||J);return U>3&&J&&Object.defineProperty(i,r,J),J};const $o=Qt.$;class ur{constructor(i){this.hidden=!1,this._onChecked=new L.Q5,this.onChecked=this._onChecked.event,Object.assign(this,i)}get checked(){return!!this._checked}set checked(i){i!==this._checked&&(this._checked=i,this._onChecked.fire(i))}dispose(){this._onChecked.dispose()}}let ta=(()=>{class ae{get templateId(){return ae.ID}renderTemplate(r){const C=Object.create(null);C.toDisposeElement=[],C.toDisposeTemplate=[],C.entry=Qt.R3(r,$o(".quick-input-list-entry"));const U=Qt.R3(C.entry,$o("label.quick-input-list-label"));C.toDisposeTemplate.push(Qt.mu(U,Qt.tw.CLICK,Tt=>{C.checkbox.offsetParent||Tt.preventDefault()})),C.checkbox=Qt.R3(U,$o("input.quick-input-list-checkbox")),C.checkbox.type="checkbox",C.toDisposeTemplate.push(Qt.mu(C.checkbox,Qt.tw.CHANGE,Tt=>{C.element.checked=C.checkbox.checked}));const J=Qt.R3(U,$o(".quick-input-list-rows")),le=Qt.R3(J,$o(".quick-input-list-row")),Me=Qt.R3(J,$o(".quick-input-list-row"));C.label=new qr.g(le,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const Ye=Qt.R3(le,$o(".quick-input-list-entry-keybinding"));C.keybinding=new ea(Ye,Ie.OS);const vt=Qt.R3(Me,$o(".quick-input-list-label-meta"));return C.detail=new qr.g(vt,{supportHighlights:!0,supportIcons:!0}),C.separator=Qt.R3(C.entry,$o(".quick-input-list-separator")),C.actionBar=new rr.o(C.entry),C.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),C.toDisposeTemplate.push(C.actionBar),C}renderElement(r,C,U){U.toDisposeElement=(0,F.B9)(U.toDisposeElement),U.element=r,U.checkbox.checked=r.checked,U.toDisposeElement.push(r.onChecked(Tt=>U.checkbox.checked=Tt));const{labelHighlights:J,descriptionHighlights:le,detailHighlights:Me}=r,Ye=Object.create(null);Ye.matches=J||[],Ye.descriptionTitle=r.saneDescription,Ye.descriptionMatches=le||[],Ye.extraClasses=r.item.iconClasses,Ye.italic=r.item.italic,Ye.strikethrough=r.item.strikethrough,U.label.setLabel(r.saneLabel,r.saneDescription,Ye),U.keybinding.set(r.item.keybinding),r.saneDetail&&U.detail.setLabel(r.saneDetail,void 0,{matches:Me,title:r.saneDetail}),r.separator&&r.separator.label?(U.separator.textContent=r.separator.label,U.separator.style.display=""):U.separator.style.display="none",U.entry.classList.toggle("quick-input-list-separator-border",!!r.separator),U.actionBar.clear();const vt=r.item.buttons;vt&&vt.length?(U.actionBar.push(vt.map((Tt,on)=>{let Pn=Tt.iconClass||(Tt.iconPath?Xr(Tt.iconPath):void 0);Tt.alwaysVisible&&(Pn=Pn?`${Pn} always-visible`:"always-visible");const Wn=new To.aU(`id-${on}`,"",Pn,!0,()=>function(ae,i,r,C){return new(r||(r=Promise))(function(J,le){function Me(Tt){try{vt(C.next(Tt))}catch(on){le(on)}}function Ye(Tt){try{vt(C.throw(Tt))}catch(on){le(on)}}function vt(Tt){Tt.done?J(Tt.value):function U(J){return J instanceof r?J:new r(function(le){le(J)})}(Tt.value).then(Me,Ye)}vt((C=C.apply(ae,i||[])).next())})}(this,void 0,void 0,function*(){r.fireButtonTriggered({button:Tt,item:r.item})}));return Wn.tooltip=Tt.tooltip||"",Wn}),{icon:!0,label:!1}),U.entry.classList.add("has-actions")):U.entry.classList.remove("has-actions")}disposeElement(r,C,U){U.toDisposeElement=(0,F.B9)(U.toDisposeElement)}disposeTemplate(r){r.toDisposeElement=(0,F.B9)(r.toDisposeElement),r.toDisposeTemplate=(0,F.B9)(r.toDisposeTemplate)}}return ae.ID="listelement",ae})();class yl{getHeight(i){return i.saneDetail?44:22}getTemplateId(i){return ta.ID}}var Ji=(()=>(function(ae){ae[ae.First=1]="First",ae[ae.Second=2]="Second",ae[ae.Last=3]="Last",ae[ae.Next=4]="Next",ae[ae.Previous=5]="Previous",ae[ae.NextPage=6]="NextPage",ae[ae.PreviousPage=7]="PreviousPage"}(Ji||(Ji={})),Ji))();class na{constructor(i,r,C){this.parent=i,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new L.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new L.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new L.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new L.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new L.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new L.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new L.Q5,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=r,this.container=Qt.R3(this.parent,$o(".quick-input-list"));const U=new yl,J=new ia;this.list=C.createList("QuickInput",this.container,U,[new ta],{identityProvider:{getId:le=>le.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:J}),this.list.getHTMLElement().id=r,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(le=>{const Me=new Mi.y(le);switch(Me.keyCode){case 10:this.toggleCheckbox();break;case 31:(Ie.dz?le.metaKey:le.ctrlKey)&&this.list.setFocus((0,yn.w6)(this.list.length));break;case 16:{const Ye=this.list.getFocus();1===Ye.length&&0===Ye[0]&&this._onLeave.fire();break}case 18:{const Ye=this.list.getFocus();1===Ye.length&&Ye[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(Me)})),this.disposables.push(this.list.onMouseDown(le=>{2!==le.browserEvent.button&&le.browserEvent.preventDefault()})),this.disposables.push(Qt.nm(this.container,Qt.tw.CLICK,le=>{(le.x||le.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(le=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(le=>{"number"==typeof le.index&&(le.browserEvent.preventDefault(),this.list.setSelection([le.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return L.ju.map(this.list.onDidChangeFocus,i=>i.elements.map(r=>r.item))}get onDidChangeSelection(){return L.ju.map(this.list.onDidChangeSelection,i=>({items:i.elements.map(r=>r.item),event:i.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(i){this.list.scrollTop=i}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(i,r=!0){for(let C=0,U=i.length;C<U;C++){const J=i[C];if(!J.hidden){if(!J.checked)return!1;r=!0}}return r}getCheckedCount(){let i=0;const r=this.elements;for(let C=0,U=r.length;C<U;C++)r[C].checked&&i++;return i}getVisibleCount(){let i=0;const r=this.elements;for(let C=0,U=r.length;C<U;C++)r[C].hidden||i++;return i}setAllVisibleChecked(i){try{this._fireCheckedEvents=!1,this.elements.forEach(r=>{r.hidden||(r.checked=i)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(i){this.elementDisposables=(0,F.B9)(this.elementDisposables);const r=C=>this.fireButtonTriggered(C);this.inputElements=i,this.elements=i.reduce((C,U,J)=>{var le,Me,Ye;if("separator"!==U.type){const vt=J&&i[J-1],Tt=U.label&&U.label.replace(/\r?\n/g," "),on=(0,Bo.Ho)(Tt).text.trim(),Pn=U.meta&&U.meta.replace(/\r?\n/g," "),Wn=U.description&&U.description.replace(/\r?\n/g," "),Ci=U.detail&&U.detail.replace(/\r?\n/g," "),Ti=U.ariaLabel||[Tt,Wn,Ci].map(Vi=>(0,ns.JL)(Vi)).filter(Vi=>!!Vi).join(", "),Pi=this.parent.classList.contains("show-checkboxes");C.push(new ur({hasCheckbox:Pi,index:J,item:U,saneLabel:Tt,saneSortLabel:on,saneMeta:Pn,saneAriaLabel:Ti,saneDescription:Wn,saneDetail:Ci,labelHighlights:null===(le=U.highlights)||void 0===le?void 0:le.label,descriptionHighlights:null===(Me=U.highlights)||void 0===Me?void 0:Me.description,detailHighlights:null===(Ye=U.highlights)||void 0===Ye?void 0:Ye.detail,checked:!1,separator:vt&&"separator"===vt.type?vt:void 0,fireButtonTriggered:r}))}return C},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(C=>C.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((C,U,J)=>(C.set(U.item,J),C),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(i=>i.item)}setFocusedElements(i){if(this.list.setFocus(i.filter(r=>this.elementsToIndexes.has(r)).map(r=>this.elementsToIndexes.get(r))),i.length>0){const r=this.list.getFocus()[0];"number"==typeof r&&this.list.reveal(r)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(i){this.list.setSelection(i.filter(r=>this.elementsToIndexes.has(r)).map(r=>this.elementsToIndexes.get(r)))}getCheckedElements(){return this.elements.filter(i=>i.checked).map(i=>i.item)}setCheckedElements(i){try{this._fireCheckedEvents=!1;const r=new Set;for(const C of i)r.add(C);for(const C of this.elements)C.checked=r.has(C.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(i){this.list.getHTMLElement().style.pointerEvents=i?"":"none"}focus(i){if(!this.list.length)return;switch(i===Ji.Next&&this.list.getFocus()[0]===this.list.length-1&&(i=Ji.First),i===Ji.Previous&&0===this.list.getFocus()[0]&&(i=Ji.Last),i===Ji.Second&&this.list.length<2&&(i=Ji.First),i){case Ji.First:this.list.focusFirst();break;case Ji.Second:this.list.focusNth(1);break;case Ji.Last:this.list.focusLast();break;case Ji.Next:this.list.focusNext();break;case Ji.Previous:this.list.focusPrevious();break;case Ji.NextPage:this.list.focusNextPage();break;case Ji.PreviousPage:this.list.focusPreviousPage()}const r=this.list.getFocus()[0];"number"==typeof r&&this.list.reveal(r)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(i){this.list.getHTMLElement().style.maxHeight=i?`calc(${44*Math.floor(i/44)}px)`:"",this.list.layout()}filter(i){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const r=i;if((i=i.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let U;this.elements.forEach(J=>{let le;le="fuzzy"===this.matchOnLabelMode?this.matchOnLabel?(0,ee.f6)((0,Bo.Gt)(i,(0,Bo.Ho)(J.saneLabel))):void 0:this.matchOnLabel?(0,ee.f6)(function wl(ae,i){const{text:r,iconOffsets:C}=i;if(!C||0===C.length)return ka(ae,r);const U=(0,W.j3)(r," "),J=r.length-U.length,le=ka(ae,U);if(le)for(const Me of le){const Ye=C[Me.start+J]+J;Me.start+=Ye,Me.end+=Ye}return le}(r,(0,Bo.Ho)(J.saneLabel))):void 0;const Me=this.matchOnDescription?(0,ee.f6)((0,Bo.Gt)(i,(0,Bo.Ho)(J.saneDescription||""))):void 0,Ye=this.matchOnDetail?(0,ee.f6)((0,Bo.Gt)(i,(0,Bo.Ho)(J.saneDetail||""))):void 0,vt=this.matchOnMeta?(0,ee.f6)((0,Bo.Gt)(i,(0,Bo.Ho)(J.saneMeta||""))):void 0;if(le||Me||Ye||vt?(J.labelHighlights=le,J.descriptionHighlights=Me,J.detailHighlights=Ye,J.hidden=!1):(J.labelHighlights=void 0,J.descriptionHighlights=void 0,J.detailHighlights=void 0,J.hidden=!J.item.alwaysShow),J.separator=void 0,!this.sortByLabel){const Tt=J.index&&this.inputElements[J.index-1];U=Tt&&"separator"===Tt.type?Tt:U,U&&!J.hidden&&(J.separator=U,U=void 0)}})}else this.elements.forEach(U=>{U.labelHighlights=void 0,U.descriptionHighlights=void 0,U.detailHighlights=void 0,U.hidden=!1;const J=U.index&&this.inputElements[U.index-1];U.separator=J&&"separator"===J.type?J:void 0});const C=this.elements.filter(U=>!U.hidden);if(this.sortByLabel&&i){const U=i.toLowerCase();C.sort((J,le)=>function Ll(ae,i,r){const C=ae.labelHighlights||[],U=i.labelHighlights||[];return C.length&&!U.length?-1:!C.length&&U.length?1:0===C.length&&0===U.length?0:function Cl(ae,i,r){const C=ae.toLowerCase(),U=i.toLowerCase(),J=function bl(ae,i,r){const C=ae.toLowerCase(),U=i.toLowerCase(),J=C.startsWith(r),le=U.startsWith(r);if(J!==le)return J?-1:1;if(J&&le){if(C.length<U.length)return-1;if(C.length>U.length)return 1}return 0}(ae,i,r);if(J)return J;const le=C.endsWith(r);if(le!==U.endsWith(r))return le?-1:1;const Ye=function _l(ae,i,r=!1){const C=ae||"",U=i||"",J=hr.value.collator.compare(C,U);return hr.value.collatorIsNumeric&&0===J&&C!==U?C<U?-1:1:J}(C,U);return 0!==Ye?Ye:C.localeCompare(U)}(ae.saneSortLabel,i.saneSortLabel,r)}(J,le,U))}return this.elementsToIndexes=C.reduce((U,J,le)=>(U.set(J.item,le),U),new Map),this.list.splice(0,this.list.length,C),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(C.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const i=this.list.getFocusedElements(),r=this.allVisibleChecked(i);for(const C of i)C.checked=!r}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(i){this.container.style.display=i?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=(0,F.B9)(this.elementDisposables),this.disposables=(0,F.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(i){this._onButtonTriggered.fire(i)}style(i){this.list.style(i)}}function ka(ae,i){const r=i.toLowerCase().indexOf(ae.toLowerCase());return-1!==r?[{start:r,end:r+ae.length}]:null}Ra([Ko.H],na.prototype,"onDidChangeFocus",null),Ra([Ko.H],na.prototype,"onDidChangeSelection",null);class ia{getWidgetAriaLabel(){return(0,ii.NC)("quickInput","Quick Input")}getAriaLabel(i){var r;return null!==(r=i.separator)&&void 0!==r&&r.label?`${i.saneAriaLabel}, ${i.separator.label}`:i.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(i){return i.hasCheckbox?"checkbox":"option"}isChecked(i){if(i.hasCheckbox)return{value:i.checked,onDidChange:i.onChecked}}}var Ba=function(ae,i,r,C){return new(r||(r=Promise))(function(J,le){function Me(Tt){try{vt(C.next(Tt))}catch(on){le(on)}}function Ye(Tt){try{vt(C.throw(Tt))}catch(on){le(on)}}function vt(Tt){Tt.done?J(Tt.value):function U(J){return J instanceof r?J:new r(function(le){le(J)})}(Tt.value).then(Me,Ye)}vt((C=C.apply(ae,i||[])).next())})};const Lo=Qt.$,oa={iconClass:ns.lA.quickInputBack.classNames,tooltip:(0,ii.NC)("quickInput.back","Back"),handle:-1};class ut extends F.JT{constructor(i){super(),this.ui=i,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=ut.noPromptMessage,this._severity=hi.Z.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new L.Q5),this.onDidHideEmitter=this._register(new L.Q5),this.onDisposeEmitter=this._register(new L.Q5),this.visibleDisposables=this._register(new F.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(i){this._title=i,this.update()}get description(){return this._description}set description(i){this._description=i,this.update()}get step(){return this._steps}set step(i){this._steps=i,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(i){this._totalSteps=i,this.update()}get enabled(){return this._enabled}set enabled(i){this._enabled=i,this.update()}get contextKey(){return this._contextKey}set contextKey(i){this._contextKey=i,this.update()}get busy(){return this._busy}set busy(i){this._busy=i,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(i){const r=this._ignoreFocusOut!==i&&!Ie.gn;this._ignoreFocusOut=i&&!Ie.gn,r&&this.update()}get buttons(){return this._buttons}set buttons(i){this._buttons=i,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(i){this._validationMessage=i,this.update()}get severity(){return this._severity}set severity(i){this._severity=i,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(i=>{-1!==this.buttons.indexOf(i)&&this.onDidTriggerButtonEmitter.fire(i)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(i=No.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:i})}update(){if(!this.visible)return;const i=this.getTitle();i&&this.ui.title.textContent!==i?this.ui.title.textContent=i:!i&&"&nbsp;"!==this.ui.title.innerHTML&&(this.ui.title.innerText="\xa0");const r=this.getDescription();if(this.ui.description1.textContent!==r&&(this.ui.description1.textContent=r),this.ui.description2.textContent!==r&&(this.ui.description2.textContent=r),this.busy&&!this.busyDelay&&(this.busyDelay=new be._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const U=this.buttons.filter(le=>le===oa);this.ui.leftActionBar.push(U.map((le,Me)=>{const Ye=new To.aU(`id-${Me}`,"",le.iconClass||Xr(le.iconPath),!0,()=>Ba(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(le)}));return Ye.tooltip=le.tooltip||"",Ye}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const J=this.buttons.filter(le=>le!==oa);this.ui.rightActionBar.push(J.map((le,Me)=>{const Ye=new To.aU(`id-${Me}`,"",le.iconClass||Xr(le.iconPath),!0,()=>Ba(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(le)}));return Ye.tooltip=le.tooltip||"",Ye}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const C=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==C&&(this._lastValidationMessage=C,Qt.mc(this.ui.message,...(0,La.T)(C))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,ii.NC)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(i){if(this.ui.inputBox.showDecoration(i),i!==hi.Z.Ignore){const r=this.ui.inputBox.stylesForType(i);this.ui.message.style.color=r.foreground?`${r.foreground}`:"",this.ui.message.style.backgroundColor=r.background?`${r.background}`:"",this.ui.message.style.border=r.border?`1px solid ${r.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}ut.noPromptMessage=(0,ii.NC)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class t extends ut{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new L.Q5),this.onWillAcceptEmitter=this._register(new L.Q5),this.onDidAcceptEmitter=this._register(new L.Q5),this.onDidCustomEmitter=this._register(new L.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?No.jG.NONE:No.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new L.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new L.Q5),this.onDidTriggerItemButtonEmitter=this._register(new L.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=i=>i,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(i){this._quickNavigate=i,this.update()}get value(){return this._value}set value(i){this.doSetValue(i)}doSetValue(i,r){this._value!==i&&(this._value=i,r||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(i){this._ariaLabel=i,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(i){this._placeholder=i,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(i){this.ui.list.scrollTop=i}set items(i){this._items=i,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(i){this._canSelectMany=i,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(i){this._canAcceptInBackground=i}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(i){this._matchOnDescription=i,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(i){this._matchOnDetail=i,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(i){this._matchOnLabel=i,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(i){this._matchOnLabelMode=i,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(i){this._sortByLabel=i,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(i){this._autoFocusOnList=i,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(i){this._keepScrollPosition=i}get itemActivation(){return this._itemActivation}set itemActivation(i){this._itemActivation=i}get activeItems(){return this._activeItems}set activeItems(i){this._activeItems=i,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(i){this._selectedItems=i,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?No.X5:this.ui.keyMods}set valueSelection(i){this._valueSelection=i,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(i){this._customButton=i,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(i){this._customButtonLabel=i,this.update()}get customHover(){return this._customButtonHover}set customHover(i){this._customButtonHover=i,this.update()}get ok(){return this._ok}set ok(i){this._ok=i,this.update()}get hideInput(){return!!this._hideInput}set hideInput(i){this._hideInput=i,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Ji.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(i=>{this.doSetValue(i,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(i=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(i=>{switch(i.keyCode){case 18:this.ui.list.focus(Ji.Next),this.canSelectMany&&this.ui.list.domFocus(),Qt.zB.stop(i,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Ji.Previous):this.ui.list.focus(Ji.Last),this.canSelectMany&&this.ui.list.domFocus(),Qt.zB.stop(i,!0);break;case 12:this.ui.list.focus(Ji.NextPage),this.canSelectMany&&this.ui.list.domFocus(),Qt.zB.stop(i,!0);break;case 11:this.ui.list.focus(Ji.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),Qt.zB.stop(i,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(i.ctrlKey||i.metaKey)&&!i.shiftKey&&!i.altKey&&(this.ui.list.focus(Ji.First),Qt.zB.stop(i,!0));break;case 13:(i.ctrlKey||i.metaKey)&&!i.shiftKey&&!i.altKey&&(this.ui.list.focus(Ji.Last),Qt.zB.stop(i,!0))}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(i=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,yn.fS)(i,this._activeItems,(r,C)=>r===C)||(this._activeItems=i,this.onDidChangeActiveEmitter.fire(i))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:i,event:r})=>{this.canSelectMany?i.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&(0,yn.fS)(i,this._selectedItems,(C,U)=>C===U)||(this._selectedItems=i,this.onDidChangeSelectionEmitter.fire(i),i.length&&this.handleAccept(r instanceof MouseEvent&&1===r.button))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(i=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,yn.fS)(i,this._selectedItems,(r,C)=>r===C)||(this._selectedItems=i,this.onDidChangeSelectionEmitter.fire(i))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(i=>this.onDidTriggerItemButtonEmitter.fire(i))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(i){let r=!1;this.onWillAcceptEmitter.fire({veto:()=>r=!0}),r||this.onDidAcceptEmitter.fire({inBackground:i})}registerQuickNavigation(){return Qt.nm(this.ui.container,Qt.tw.KEY_UP,i=>{if(this.canSelectMany||!this._quickNavigate)return;const r=new Mi.y(i),C=r.keyCode;this._quickNavigate.keybindings.some(le=>{const[Me,Ye]=le.getParts();return!(Ye||(Me.shiftKey&&4===C?r.ctrlKey||r.altKey||r.metaKey:!(Me.altKey&&6===C||Me.ctrlKey&&5===C||Me.metaKey&&57===C)))})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const i=this.keepScrollPosition?this.scrollTop:0,r=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",r&&!this.description);const C={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!r,progressBar:!r,visibleCount:!0,count:this.canSelectMany,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(C),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let U=this.ariaLabel;if(U||(U=this.placeholder||t.DEFAULT_ARIA_LABEL,this.title&&(U+=` - ${this.title}`)),this.ui.inputBox.ariaLabel!==U&&(this.ui.inputBox.ariaLabel=U),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case No.jG.NONE:this._itemActivation=No.jG.FIRST;break;case No.jG.SECOND:this.ui.list.focus(Ji.Second),this._itemActivation=No.jG.FIRST;break;case No.jG.LAST:this.ui.list.focus(Ji.Last),this._itemActivation=No.jG.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),C.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Ji.First)),this.keepScrollPosition&&(this.scrollTop=i)}}t.DEFAULT_ARIA_LABEL=(0,ii.NC)("quickInputBox.ariaLabel","Type to narrow down results.");let o=(()=>{class ae extends F.JT{constructor(r){super(),this.options=r,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new L.Q5),this.onDidCustomEmitter=this._register(new L.Q5),this.onDidTriggerButtonEmitter=this._register(new L.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new L.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new L.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=r.idPrefix,this.parentElement=r.container,this.styles=r.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const r=C=>{this.keyMods.ctrlCmd=C.ctrlKey||C.metaKey,this.keyMods.alt=C.altKey};this._register(Qt.nm(window,Qt.tw.KEY_DOWN,r,!0)),this._register(Qt.nm(window,Qt.tw.KEY_UP,r,!0)),this._register(Qt.nm(window,Qt.tw.MOUSE_DOWN,r,!0))}getUI(){if(this.ui)return this.ui;const r=Qt.R3(this.parentElement,Lo(".quick-input-widget.show-file-icons"));r.tabIndex=-1,r.style.display="none";const C=Qt.dS(r),U=Qt.R3(r,Lo(".quick-input-titlebar")),J=this._register(new rr.o(U));J.domNode.classList.add("quick-input-left-action-bar");const le=Qt.R3(U,Lo(".quick-input-title")),Me=this._register(new rr.o(U));Me.domNode.classList.add("quick-input-right-action-bar");const Ye=Qt.R3(r,Lo(".quick-input-description")),vt=Qt.R3(r,Lo(".quick-input-header")),Tt=Qt.R3(vt,Lo("input.quick-input-check-all"));Tt.type="checkbox",Tt.setAttribute("aria-label",(0,ii.NC)("quickInput.checkAll","Toggle all checkboxes")),this._register(Qt.mu(Tt,Qt.tw.CHANGE,Hi=>{qo.setAllVisibleChecked(Tt.checked)})),this._register(Qt.nm(Tt,Qt.tw.CLICK,Hi=>{(Hi.x||Hi.y)&&Ci.setFocus()}));const on=Qt.R3(vt,Lo(".quick-input-description")),Pn=Qt.R3(vt,Lo(".quick-input-and-message")),Wn=Qt.R3(Pn,Lo(".quick-input-filter")),Ci=this._register(new Jr(Wn));Ci.setAttribute("aria-describedby",`${this.idPrefix}message`);const Ti=Qt.R3(Wn,Lo(".quick-input-visible-count"));Ti.setAttribute("aria-live","polite"),Ti.setAttribute("aria-atomic","true");const Pi=new Da.Z(Ti,{countFormat:(0,ii.NC)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),Vi=Qt.R3(Wn,Lo(".quick-input-count"));Vi.setAttribute("aria-live","polite");const zi=new Da.Z(Vi,{countFormat:(0,ii.NC)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),Oi=Qt.R3(vt,Lo(".quick-input-action")),Bi=new Ea(Oi);Bi.label=(0,ii.NC)("ok","OK"),this._register(Bi.onDidClick(Hi=>{this.onDidAcceptEmitter.fire()}));const Fo=Qt.R3(vt,Lo(".quick-input-action")),us=new Ea(Fo);us.label=(0,ii.NC)("custom","Custom"),this._register(us.onDidClick(Hi=>{this.onDidCustomEmitter.fire()}));const So=Qt.R3(Pn,Lo(`#${this.idPrefix}message.quick-input-message`)),qo=this._register(new na(r,this.idPrefix+"list",this.options));this._register(qo.onChangedAllVisibleChecked(Hi=>{Tt.checked=Hi})),this._register(qo.onChangedVisibleCount(Hi=>{Pi.setCount(Hi)})),this._register(qo.onChangedCheckedCount(Hi=>{zi.setCount(Hi)})),this._register(qo.onLeave(()=>{setTimeout(()=>{Ci.setFocus(),this.controller instanceof t&&this.controller.canSelectMany&&qo.clearFocus()},0)})),this._register(qo.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const Gi=new Ma(r);Gi.getContainer().classList.add("quick-input-progress");const mo=Qt.go(r);return this._register(mo),this._register(Qt.nm(r,Qt.tw.FOCUS,Hi=>{this.previousFocusElement=Hi.relatedTarget instanceof HTMLElement?Hi.relatedTarget:void 0},!0)),this._register(mo.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(No.Jq.Blur),this.previousFocusElement=void 0})),this._register(Qt.nm(r,Qt.tw.FOCUS,Hi=>{Ci.setFocus()})),this._register(Qt.nm(r,Qt.tw.KEY_DOWN,Hi=>{const Go=new Mi.y(Hi);switch(Go.keyCode){case 3:Qt.zB.stop(Hi,!0),this.onDidAcceptEmitter.fire();break;case 9:Qt.zB.stop(Hi,!0),this.hide(No.Jq.Gesture);break;case 2:if(!Go.altKey&&!Go.ctrlKey&&!Go.metaKey){const Ua=[".action-label.codicon"];r.classList.contains("show-checkboxes")?Ua.push("input"):Ua.push("input[type=text]"),this.getUI().list.isDisplayed()&&Ua.push(".monaco-list");const mr=r.querySelectorAll(Ua.join(", "));Go.shiftKey&&Go.target===mr[0]?(Qt.zB.stop(Hi,!0),mr[mr.length-1].focus()):!Go.shiftKey&&Go.target===mr[mr.length-1]&&(Qt.zB.stop(Hi,!0),mr[0].focus())}}})),this.ui={container:r,styleSheet:C,leftActionBar:J,titleBar:U,title:le,description1:Ye,description2:on,rightActionBar:Me,checkAll:Tt,filterContainer:Wn,inputBox:Ci,visibleCountContainer:Ti,visibleCount:Pi,countContainer:Vi,count:zi,okContainer:Oi,ok:Bi,message:So,customButtonContainer:Fo,customButton:us,list:qo,progressBar:Gi,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:Hi=>this.show(Hi),hide:()=>this.hide(),setVisibilities:Hi=>this.setVisibilities(Hi),setComboboxAccessibility:Hi=>this.setComboboxAccessibility(Hi),setEnabled:Hi=>this.setEnabled(Hi),setContextKey:Hi=>this.options.setContextKey(Hi)},this.updateStyles(),this.ui}pick(r,C={},U=s.T.None){return new Promise((J,le)=>{let Me=on=>{var Pn;Me=J,null===(Pn=C.onKeyMods)||void 0===Pn||Pn.call(C,Ye.keyMods),J(on)};if(U.isCancellationRequested)return void Me(void 0);const Ye=this.createQuickPick();let vt;const Tt=[Ye,Ye.onDidAccept(()=>{if(Ye.canSelectMany)Me(Ye.selectedItems.slice()),Ye.hide();else{const on=Ye.activeItems[0];on&&(Me(on),Ye.hide())}}),Ye.onDidChangeActive(on=>{const Pn=on[0];Pn&&C.onDidFocus&&C.onDidFocus(Pn)}),Ye.onDidChangeSelection(on=>{if(!Ye.canSelectMany){const Pn=on[0];Pn&&(Me(Pn),Ye.hide())}}),Ye.onDidTriggerItemButton(on=>C.onDidTriggerItemButton&&C.onDidTriggerItemButton(Object.assign(Object.assign({},on),{removeItem:()=>{const Pn=Ye.items.indexOf(on.item);if(-1!==Pn){const Wn=Ye.items.slice(),Ci=Wn.splice(Pn,1),Ti=Ye.activeItems.filter(Vi=>Vi!==Ci[0]),Pi=Ye.keepScrollPosition;Ye.keepScrollPosition=!0,Ye.items=Wn,Ti&&(Ye.activeItems=Ti),Ye.keepScrollPosition=Pi}}}))),Ye.onDidChangeValue(on=>{vt&&!on&&(1!==Ye.activeItems.length||Ye.activeItems[0]!==vt)&&(Ye.activeItems=[vt])}),U.onCancellationRequested(()=>{Ye.hide()}),Ye.onDidHide(()=>{(0,F.B9)(Tt),Me(void 0)})];Ye.title=C.title,Ye.canSelectMany=!!C.canPickMany,Ye.placeholder=C.placeHolder,Ye.ignoreFocusOut=!!C.ignoreFocusLost,Ye.matchOnDescription=!!C.matchOnDescription,Ye.matchOnDetail=!!C.matchOnDetail,Ye.matchOnLabel=void 0===C.matchOnLabel||C.matchOnLabel,Ye.autoFocusOnList=void 0===C.autoFocusOnList||C.autoFocusOnList,Ye.quickNavigate=C.quickNavigate,Ye.hideInput=!!C.hideInput,Ye.contextKey=C.contextKey,Ye.busy=!0,Promise.all([r,C.activeItem]).then(([on,Pn])=>{vt=Pn,Ye.busy=!1,Ye.items=on,Ye.canSelectMany&&(Ye.selectedItems=on.filter(Wn=>"separator"!==Wn.type&&Wn.picked)),vt&&(Ye.activeItems=[vt])}),Ye.show(),Promise.resolve(r).then(void 0,on=>{le(on),Ye.hide()})})}createQuickPick(){const r=this.getUI();return new t(r)}show(r){const C=this.getUI();this.onShowEmitter.fire();const U=this.controller;this.controller=r,U&&U.didHide(),this.setEnabled(!0),C.leftActionBar.clear(),C.title.textContent="",C.description1.textContent="",C.description2.textContent="",C.rightActionBar.clear(),C.checkAll.checked=!1,C.inputBox.placeholder="",C.inputBox.password=!1,C.inputBox.showDecoration(hi.Z.Ignore),C.visibleCount.setCount(0),C.count.setCount(0),Qt.mc(C.message),C.progressBar.stop(),C.list.setElements([]),C.list.matchOnDescription=!1,C.list.matchOnDetail=!1,C.list.matchOnLabel=!0,C.list.sortByLabel=!0,C.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),C.inputBox.ariaLabel="";const J=this.options.backKeybindingLabel();oa.tooltip=J?(0,ii.NC)("quickInput.backWithKeybinding","Back ({0})",J):(0,ii.NC)("quickInput.back","Back"),C.container.style.display="",this.updateLayout(),C.inputBox.setFocus()}setVisibilities(r){const C=this.getUI();C.title.style.display=r.title?"":"none",C.description1.style.display=r.description&&(r.inputBox||r.checkAll)?"":"none",C.description2.style.display=!r.description||r.inputBox||r.checkAll?"none":"",C.checkAll.style.display=r.checkAll?"":"none",C.filterContainer.style.display=r.inputBox?"":"none",C.visibleCountContainer.style.display=r.visibleCount?"":"none",C.countContainer.style.display=r.count?"":"none",C.okContainer.style.display=r.ok?"":"none",C.customButtonContainer.style.display=r.customButton?"":"none",C.message.style.display=r.message?"":"none",C.progressBar.getContainer().style.display=r.progressBar?"":"none",C.list.display(!!r.list),C.container.classList[r.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(r){if(r!==this.comboboxAccessibility){const C=this.getUI();this.comboboxAccessibility=r,this.comboboxAccessibility?(C.inputBox.setAttribute("role","combobox"),C.inputBox.setAttribute("aria-haspopup","true"),C.inputBox.setAttribute("aria-autocomplete","list"),C.inputBox.setAttribute("aria-activedescendant",C.list.getActiveDescendant()||"")):(C.inputBox.removeAttribute("role"),C.inputBox.removeAttribute("aria-haspopup"),C.inputBox.removeAttribute("aria-autocomplete"),C.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(r){if(r!==this.enabled){this.enabled=r;for(const C of this.getUI().leftActionBar.viewItems)C.getAction().enabled=r;for(const C of this.getUI().rightActionBar.viewItems)C.getAction().enabled=r;this.getUI().checkAll.disabled=!r,this.getUI().ok.enabled=r,this.getUI().list.enabled=r}}hide(r){var C;const U=this.controller;if(U){const J=!(null!==(C=this.ui)&&void 0!==C&&C.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!J){let le=this.previousFocusElement;for(;le&&!le.offsetParent;)le=(0,ee.f6)(le.parentElement);null!=le&&le.offsetParent?(le.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}U.didHide(r)}}layout(r,C){this.dimension=r,this.titleBarOffset=C,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const r=this.ui.container.style,C=Math.min(.62*this.dimension.width,ae.MAX_WIDTH);r.width=C+"px",r.marginLeft="-"+C/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(r){this.styles=r,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:r,quickInputBackground:C,quickInputForeground:U,contrastBorder:J,widgetShadow:le}=this.styles.widget;this.ui.titleBar.style.backgroundColor=r?r.toString():"",this.ui.container.style.backgroundColor=C?C.toString():"",this.ui.container.style.color=U?U.toString():"",this.ui.container.style.border=J?`1px solid ${J}`:"",this.ui.container.style.boxShadow=le?`0 0 8px 2px ${le}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const Me=[];this.styles.list.pickerGroupBorder&&Me.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&Me.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(Me.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&Me.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&Me.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&Me.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&Me.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&Me.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),Me.push("}"));const Ye=Me.join("\n");Ye!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=Ye)}}}return ae.MAX_WIDTH=600,ae})();var g=e(98071),O=e(52706),H=e(54203),se=e(17098),je=function(ae,i){return function(r,C){i(r,C,ae)}};let qe=class extends F.JT{constructor(i,r){super(),this.quickInputService=i,this.instantiationService=r,this.registry=Ir.B.as(H.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(i="",r){this.doShowOrPick(i,!1,r)}doShowOrPick(i,r,C){var U;const[J,le]=this.getOrInstantiateProvider(i),Me=this.visibleQuickAccess,Ye=null==Me?void 0:Me.descriptor;if(Me&&le&&Ye===le)return i!==le.prefix&&!(null!=C&&C.preserveValue)&&(Me.picker.value=i),void this.adjustValueSelection(Me.picker,le,C);if(le&&(null==C||!C.preserveValue)){let Wn;if(Me&&Ye&&Ye!==le){const Ci=Me.value.substr(Ye.prefix.length);Ci&&(Wn=`${le.prefix}${Ci}`)}if(!Wn){const Ci=null==J?void 0:J.defaultFilterValue;Ci===H.Ry.LAST?Wn=this.lastAcceptedPickerValues.get(le):"string"==typeof Ci&&(Wn=`${le.prefix}${Ci}`)}"string"==typeof Wn&&(i=Wn)}const vt=new F.SL,Tt=vt.add(this.quickInputService.createQuickPick());let on;Tt.value=i,this.adjustValueSelection(Tt,le,C),Tt.placeholder=null==le?void 0:le.placeholder,Tt.quickNavigate=null==C?void 0:C.quickNavigateConfiguration,Tt.hideInput=!!Tt.quickNavigate&&!Me,("number"==typeof(null==C?void 0:C.itemActivation)||(null==C?void 0:C.quickNavigateConfiguration))&&(Tt.itemActivation=null!==(U=null==C?void 0:C.itemActivation)&&void 0!==U?U:se.jG.SECOND),Tt.contextKey=null==le?void 0:le.contextKey,Tt.filterValue=Wn=>Wn.substring(le?le.prefix.length:0),null!=le&&le.placeholder&&(Tt.ariaLabel=null==le?void 0:le.placeholder),r&&(on=new be.CR,vt.add((0,O.I)(Tt.onWillAccept)(Wn=>{Wn.veto(),Tt.hide()}))),vt.add(this.registerPickerListeners(Tt,J,le,i));const Pn=vt.add(new s.A);return J&&vt.add(J.provide(Tt,Pn.token)),(0,O.I)(Tt.onDidHide)(()=>{0===Tt.selectedItems.length&&Pn.cancel(),vt.dispose(),null==on||on.complete(Tt.selectedItems.slice(0))}),Tt.show(),r?null==on?void 0:on.p:void 0}adjustValueSelection(i,r,C){var U;let J;J=null!=C&&C.preserveValue?[i.value.length,i.value.length]:[null!==(U=null==r?void 0:r.prefix.length)&&void 0!==U?U:0,i.value.length],i.valueSelection=J}registerPickerListeners(i,r,C,U){const J=new F.SL,le=this.visibleQuickAccess={picker:i,descriptor:C,value:U};return J.add((0,F.OF)(()=>{le===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),J.add(i.onDidChangeValue(Me=>{const[Ye]=this.getOrInstantiateProvider(Me);Ye!==r?this.show(Me,{preserveValue:!0}):le.value=Me})),C&&J.add(i.onDidAccept(()=>{this.lastAcceptedPickerValues.set(C,i.value)})),J}getOrInstantiateProvider(i){const r=this.registry.getQuickAccessProvider(i);if(!r)return[void 0,void 0];let C=this.mapProviderToDescriptor.get(r);return C||(C=this.instantiationService.createInstance(r.ctor),this.mapProviderToDescriptor.set(r,C)),[C,r]}};qe=function(ae,i,r,C){var le,U=arguments.length,J=U<3?i:null===C?C=Object.getOwnPropertyDescriptor(i,r):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(ae,i,r,C);else for(var Me=ae.length-1;Me>=0;Me--)(le=ae[Me])&&(J=(U<3?le(J):U>3?le(i,r,J):le(i,r))||J);return U>3&&J&&Object.defineProperty(i,r,J),J}([je(0,se.eJ),je(1,gn.TG)],qe);var yt=function(ae,i){return function(r,C){i(r,C,ae)}};let kt=class extends _t.bB{constructor(i,r,C,U,J){super(C),this.instantiationService=i,this.contextKeyService=r,this.accessibilityService=U,this.layoutService=J,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(qe))),this._quickAccess}createController(i=this.layoutService,r){const C={idPrefix:"quickInput_",container:i.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:J=>this.setContextKey(J),returnFocus:()=>i.focus(),createList:(J,le,Me,Ye,vt)=>this.instantiationService.createInstance(g.ev,J,le,Me,Ye,vt),styles:this.computeStyles()},U=this._register(new o(Object.assign(Object.assign({},C),r)));return U.layout(i.dimension,i.offset.quickPickTop),this._register(i.onDidLayout(J=>U.layout(J,i.offset.quickPickTop))),this._register(U.onShow(()=>this.resetContextKeys())),this._register(U.onHide(()=>this.resetContextKeys())),U}setContextKey(i){let r;i&&(r=this.contexts.get(i),r||(r=new Xe.uy(i,!1).bindTo(this.contextKeyService),this.contexts.set(i,r))),(!r||!r.get())&&(this.resetContextKeys(),null==r||r.set(!0))}resetContextKeys(){this.contexts.forEach(i=>{i.get()&&i.reset()})}pick(i,r={},C=s.T.None){return this.controller.pick(i,r,C)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,Yo.o)(this.theme,{quickInputBackground:Wi.zKr,quickInputForeground:Wi.tZ6,quickInputTitleBackground:Wi.loF,contrastBorder:Wi.lRK,widgetShadow:Wi.rh})),inputBox:(0,Yo.o)(this.theme,{inputForeground:Wi.zJb,inputBackground:Wi.sEe,inputBorder:Wi.dt_,inputValidationInfoBackground:Wi._lC,inputValidationInfoForeground:Wi.YI3,inputValidationInfoBorder:Wi.EPQ,inputValidationWarningBackground:Wi.RV_,inputValidationWarningForeground:Wi.SUG,inputValidationWarningBorder:Wi.C3g,inputValidationErrorBackground:Wi.paE,inputValidationErrorForeground:Wi._t9,inputValidationErrorBorder:Wi.OZR}),countBadge:(0,Yo.o)(this.theme,{badgeBackground:Wi.g8u,badgeForeground:Wi.qeD,badgeBorder:Wi.lRK}),button:(0,Yo.o)(this.theme,{buttonForeground:Wi.j5u,buttonBackground:Wi.b7$,buttonHoverBackground:Wi.GO4,buttonBorder:Wi.lRK}),progressBar:(0,Yo.o)(this.theme,{progressBarBackground:Wi.zRJ}),keybindingLabel:(0,Yo.o)(this.theme,{keybindingLabelBackground:Wi.oQ$,keybindingLabelForeground:Wi.lWp,keybindingLabelBorder:Wi.AWI,keybindingLabelBottomBorder:Wi.K19,keybindingLabelShadow:Wi.rh}),list:(0,Yo.o)(this.theme,{listBackground:Wi.zKr,listInactiveFocusForeground:Wi.NPS,listInactiveSelectionIconForeground:Wi.cbQ,listInactiveFocusBackground:Wi.Vqd,listFocusOutline:Wi.xL1,listInactiveFocusOutline:Wi.xL1,pickerGroupBorder:Wi.opG,pickerGroupForeground:Wi.kJk})}}};kt=function(ae,i,r,C){var le,U=arguments.length,J=U<3?i:null===C?C=Object.getOwnPropertyDescriptor(i,r):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(ae,i,r,C);else for(var Me=ae.length-1;Me>=0;Me--)(le=ae[Me])&&(J=(U<3?le(J):U>3?le(i,r,J):le(i,r))||J);return U>3&&J&&Object.defineProperty(i,r,J),J}([yt(0,gn.TG),yt(1,Xe.i6),yt(2,_t.XE),yt(3,ws.F),yt(4,Ln)],kt);var Wt=function(ae,i,r,C){var le,U=arguments.length,J=U<3?i:null===C?C=Object.getOwnPropertyDescriptor(i,r):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(ae,i,r,C);else for(var Me=ae.length-1;Me>=0;Me--)(le=ae[Me])&&(J=(U<3?le(J):U>3?le(i,r,J):le(i,r))||J);return U>3&&J&&Object.defineProperty(i,r,J),J},cn=function(ae,i){return function(r,C){i(r,C,ae)}};let _n=class extends kt{constructor(i,r,C,U,J,le){super(r,C,U,J,new oi(i.getContainerDomNode(),le)),this.host=void 0;const Me=Mn.get(i);if(Me){const Ye=Me.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return Ye.getDomNode()},get dimension(){return i.getLayoutInfo()},get onDidLayout(){return i.onDidLayoutChange},focus:()=>i.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};_n=Wt([cn(1,gn.TG),cn(2,Xe.i6),cn(3,_t.XE),cn(4,ws.F),cn(5,z.$)],_n);let bn=class{constructor(i,r){this.instantiationService=i,this.codeEditorService=r,this.mapEditorToService=new Map}get activeService(){const i=this.codeEditorService.getFocusedCodeEditor();if(!i)throw new Error("Quick input service needs a focused editor to work.");let r=this.mapEditorToService.get(i);if(!r){const C=r=this.instantiationService.createInstance(_n,i);this.mapEditorToService.set(i,r),(0,O.I)(i.onDidDispose)(()=>{C.dispose(),this.mapEditorToService.delete(i)})}return r}get quickAccess(){return this.activeService.quickAccess}pick(i,r={},C=s.T.None){return this.activeService.pick(i,r,C)}createQuickPick(){return this.activeService.createQuickPick()}};bn=Wt([cn(0,gn.TG),cn(1,z.$)],bn);let Mn=(()=>{class ae{constructor(r){this.editor=r,this.widget=new Bn(this.editor)}static get(r){return r.getContribution(ae.ID)}dispose(){this.widget.dispose()}}return ae.ID="editor.controller.quickInput",ae})(),Bn=(()=>{class ae{constructor(r){this.codeEditor=r,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return ae.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}return ae.ID="editor.contrib.quickInputWidget",ae})();(0,Kr._K)(Mn.ID,Mn);var Hn=e(9924),ti=e(56021),di=function(ae,i){return function(r,C){i(r,C,ae)}};let vi=class extends F.JT{constructor(i,r,C){super(),this._contextKeyService=i,this._layoutService=r,this._configurationService=C,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new L.Q5,this._onDidChangeReducedMotion=new L.Q5,this._accessibilityModeEnabledContext=ws.U.bindTo(this._contextKeyService);const U=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(le=>{le.affectsConfiguration("editor.accessibilitySupport")&&(U(),this._onDidChangeScreenReaderOptimized.fire()),le.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),U(),this._register(this.onDidChangeScreenReaderOptimized(()=>U()));const J=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=J.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(J)}initReducedMotionListeners(i){if(!this._layoutService.hasContainer)return;this._register((0,Qt.nm)(i,"change",()=>{this._systemMotionReduced=i.matches,"auto"===this._configMotionReduced&&this._onDidChangeReducedMotion.fire()}));const r=()=>{const C=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",C),this._layoutService.container.classList.toggle("enable-motion",!C)};r(),this._register(this.onDidChangeReducedMotion(()=>r()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const i=this._configurationService.getValue("editor.accessibilitySupport");return"on"===i||"auto"===i&&2===this._accessibilitySupport}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const i=this._configMotionReduced;return"on"===i||"auto"===i&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};vi=function(ae,i,r,C){var le,U=arguments.length,J=U<3?i:null===C?C=Object.getOwnPropertyDescriptor(i,r):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(ae,i,r,C);else for(var Me=ae.length-1;Me>=0;Me--)(le=ae[Me])&&(J=(U<3?le(J):U>3?le(i,r,J):le(i,r))||J);return U>3&&J&&Object.defineProperty(i,r,J),J}([di(0,Xe.i6),di(1,Ln),di(2,Yn.Ui)],vi);var qn=e(61004),bi=e(99571),Ai=function(ae,i,r,C){var le,U=arguments.length,J=U<3?i:null===C?C=Object.getOwnPropertyDescriptor(i,r):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(ae,i,r,C);else for(var Me=ae.length-1;Me>=0;Me--)(le=ae[Me])&&(J=(U<3?le(J):U>3?le(i,r,J):le(i,r))||J);return U>3&&J&&Object.defineProperty(i,r,J),J},Ei=function(ae,i){return function(r,C){i(r,C,ae)}};let Qi=class{constructor(i,r){this._commandService=i,this._hiddenStates=new Zi(r)}createMenu(i,r,C){return new oo(i,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},C),this._commandService,r,this)}};Qi=Ai([Ei(0,Ri.Hy),Ei(1,bi.Uy)],Qi);let Zi=class ca{constructor(i){this._storageService=i,this._disposables=new F.SL,this._onDidChange=new L.Q5,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1;try{const r=i.get(ca._key,0,"{}");this._data=JSON.parse(r)}catch(r){this._data=Object.create(null)}this._disposables.add(i.onDidChangeValue(r=>{if(r.key===ca._key){if(!this._ignoreChangeEvent)try{const C=i.get(ca._key,0,"{}");this._data=JSON.parse(C)}catch(C){console.log("FAILED to read storage after UPDATE",C)}this._onDidChange.fire()}}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}isHidden(i,r){var C,U;return null!==(U=null===(C=this._data[i.id])||void 0===C?void 0:C.includes(r))&&void 0!==U&&U}updateHidden(i,r,C){const U=this._data[i.id];if(C)U?U.indexOf(r)<0&&U.push(r):this._data[i.id]=[r];else if(U){const J=U.indexOf(r);J>=0&&(0,yn.LS)(U,J),0===U.length&&delete this._data[i.id]}this._persist()}_persist(){try{this._ignoreChangeEvent=!0;const i=JSON.stringify(this._data);this._storageService.store(ca._key,i,0,0)}finally{this._ignoreChangeEvent=!1}}};Zi._key="menu.hiddenCommands",Zi=Ai([Ei(0,bi.Uy)],Zi);let oo=class _r{constructor(i,r,C,U,J,le){this._id=i,this._hiddenStates=r,this._options=C,this._commandService=U,this._contextKeyService=J,this._menuService=le,this._disposables=new F.SL,this._menuGroups=[],this._contextKeys=new Set,this._build();const Me=new be.pY(()=>{this._build(),this._onDidChange.fire(this)},C.eventDebounceDelay);this._disposables.add(Me),this._disposables.add(qn.BH.onDidChangeMenu(Tt=>{Tt.has(i)&&Me.schedule()}));const Ye=this._disposables.add(new F.SL);this._onDidChange=new L.Q5({onFirstListenerAdd:()=>{const Tt=new be.pY(()=>this._onDidChange.fire(this),C.eventDebounceDelay);Ye.add(Tt),Ye.add(J.onDidChangeContext(on=>{on.affectsSome(this._contextKeys)&&Tt.schedule()})),Ye.add(r.onDidChange(()=>{Tt.schedule()}))},onLastListenerRemove:Ye.clear.bind(Ye)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const i=qn.BH.getMenuItems(this._id);let r;i.sort(_r._compareMenuItems);for(const C of i){const U=C.group||"";(!r||r[0]!==U)&&(r=[U,[]],this._menuGroups.push(r)),r[1].push(C),this._collectContextKeys(C)}}_collectContextKeys(i){_r._fillInKbExprKeys(i.when,this._contextKeys),(0,qn.vr)(i)?(i.command.precondition&&_r._fillInKbExprKeys(i.command.precondition,this._contextKeys),i.command.toggled&&_r._fillInKbExprKeys(i.command.toggled.condition||i.command.toggled,this._contextKeys)):this._options.emitEventsForSubmenuChanges&&qn.BH.getMenuItems(i.submenu).forEach(this._collectContextKeys,this)}getActions(i){const r=[],C=[];for(const U of this._menuGroups){const[J,le]=U,Me=[],Ye=[];for(const vt of le)if(this._contextKeyService.contextMatchesRules(vt.when)){let Tt;if((0,qn.vr)(vt)){const Pn=Ui(this._id,vt.command,this._hiddenStates);Tt=new qn.U8(vt.command,vt.alt,i,Pn,this._contextKeyService,this._commandService)}else Tt=new qn.NZ(vt,this._menuService,this._contextKeyService,i),0===Tt.actions.length&&(Tt.dispose(),Tt=void 0);Tt&&Ye.push(Tt)}Ye.length>0&&r.push([J,Ye]),Me.length>0&&C.push(Me)}return r}static _fillInKbExprKeys(i,r){if(i)for(const C of i.keys())r.add(C)}static _compareMenuItems(i,r){const C=i.group,U=r.group;if(C!==U){if(!C)return 1;if(!U)return-1;if("navigation"===C)return-1;if("navigation"===U)return 1;const Me=C.localeCompare(U);if(0!==Me)return Me}const J=i.order||0,le=r.order||0;return J<le?-1:J>le?1:_r._compareTitles((0,qn.vr)(i)?i.command.title:i.title,(0,qn.vr)(r)?r.command.title:r.title)}static _compareTitles(i,r){return("string"==typeof i?i:i.original).localeCompare("string"==typeof r?r:r.original)}};function Ui(ae,i,r){const C=`${ae.id}/${i.id}`,U="string"==typeof i.title?i.title:i.title.value,J=(0,To.xw)({id:C,label:(0,ii.NC)("hide.label","Hide '{0}'",U),run(){r.updateHidden(ae,i.id,!0)}}),le=(0,To.xw)({id:C,label:U,get checked(){return!r.isHidden(ae,i.id)},run(){const Me=!r.isHidden(ae,i.id);r.updateHidden(ae,i.id,Me)}});return{hide:J,toggle:le,get isHidden(){return!le.checked}}}oo=Ai([Ei(3,Ri.Hy),Ei(4,Xe.i6),Ei(5,qn.co)],oo);var so=function(ae,i){return function(r,C){i(r,C,ae)}},qi=function(ae,i,r,C){return new(r||(r=Promise))(function(J,le){function Me(Tt){try{vt(C.next(Tt))}catch(on){le(on)}}function Ye(Tt){try{vt(C.throw(Tt))}catch(on){le(on)}}function vt(Tt){Tt.done?J(Tt.value):function U(J){return J instanceof r?J:new r(function(le){le(J)})}(Tt.value).then(Me,Ye)}vt((C=C.apply(ae,i||[])).next())})};let Eo=class extends F.JT{constructor(i,r){super(),this.layoutService=i,this.logService=r,this.mapTextToType=new Map,this.findText="",this.resources=[],(Ar.isSafari||Ar.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const i=()=>{const r=new be.CR;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=r,navigator.clipboard.write([new ClipboardItem({"text/plain":r.p})]).catch(C=>qi(this,void 0,void 0,function*(){(!(C instanceof Error)||"NotAllowedError"!==C.name||!r.isRejected)&&this.logService.error(C)}))};this.layoutService.hasContainer&&(this._register((0,Qt.nm)(this.layoutService.container,"click",i)),this._register((0,Qt.nm)(this.layoutService.container,"keydown",i)))}writeText(i,r){return qi(this,void 0,void 0,function*(){if(r)return void this.mapTextToType.set(r,i);if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(i);try{return yield navigator.clipboard.writeText(i)}catch(J){console.error(J)}const C=document.activeElement,U=document.body.appendChild((0,Qt.$)("textarea",{"aria-hidden":!0}));U.style.height="1px",U.style.width="1px",U.style.position="absolute",U.value=i,U.focus(),U.select(),document.execCommand("copy"),C instanceof HTMLElement&&C.focus(),document.body.removeChild(U)})}readText(i){return qi(this,void 0,void 0,function*(){if(i)return this.mapTextToType.get(i)||"";try{return yield navigator.clipboard.readText()}catch(r){return console.error(r),""}})}readFindText(){return qi(this,void 0,void 0,function*(){return this.findText})}writeFindText(i){return qi(this,void 0,void 0,function*(){this.findText=i})}readResources(){return qi(this,void 0,void 0,function*(){return this.resources})}};Eo=function(ae,i,r,C){var le,U=arguments.length,J=U<3?i:null===C?C=Object.getOwnPropertyDescriptor(i,r):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(ae,i,r,C);else for(var Me=ae.length-1;Me>=0;Me--)(le=ae[Me])&&(J=(U<3?le(J):U>3?le(i,r,J):le(i,r))||J);return U>3&&J&&Object.defineProperty(i,r,J),J}([so(0,Ln),so(1,En.VZ)],Eo);var cd=e(80777),zs=e(67981);const sa="data-keybinding-context";class El{constructor(i,r){this._id=i,this._parent=r,this._value=Object.create(null),this._value._contextId=i}get value(){return Object.assign({},this._value)}setValue(i,r){return this._value[i]!==r&&(this._value[i]=r,!0)}removeValue(i){return i in this._value&&(delete this._value[i],!0)}getValue(i){const r=this._value[i];return void 0===r&&this._parent?this._parent.getValue(i):r}}class fr extends El{constructor(){super(-1,null)}setValue(i,r){return!1}removeValue(i){return!1}getValue(i){}}fr.INSTANCE=new fr;let hc=(()=>{class ae extends El{constructor(r,C,U){super(r,null),this._configurationService=C,this._values=ki.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(J=>{if(7===J.source){const le=Array.from(zs.$.map(this._values,([Me])=>Me));this._values.clear(),U.fire(new ud(le))}else{const le=[];for(const Me of J.affectedKeys){const Ye=`config.${Me}`,vt=this._values.findSuperstr(Ye);void 0!==vt&&(le.push(...zs.$.map(vt,([Tt])=>Tt)),this._values.deleteSuperstr(Ye)),this._values.has(Ye)&&(le.push(Ye),this._values.delete(Ye))}U.fire(new ud(le))}})}dispose(){this._listener.dispose()}getValue(r){if(0!==r.indexOf(ae._keyPrefix))return super.getValue(r);if(this._values.has(r))return this._values.get(r);const C=r.substr(ae._keyPrefix.length),U=this._configurationService.getValue(C);let J;switch(typeof U){case"number":case"boolean":case"string":J=U;break;default:J=Array.isArray(U)?JSON.stringify(U):U}return this._values.set(r,J),J}setValue(r,C){return super.setValue(r,C)}removeValue(r){return super.removeValue(r)}}return ae._keyPrefix="config.",ae})();class uc{constructor(i,r,C){this._service=i,this._key=r,this._defaultValue=C,this.reset()}set(i){this._service.setContext(this._key,i)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class hd{constructor(i){this.key=i}affectsSome(i){return i.has(this.key)}allKeysContainedIn(i){return this.affectsSome(i)}}class ud{constructor(i){this.keys=i}affectsSome(i){for(const r of this.keys)if(i.has(r))return!0;return!1}allKeysContainedIn(i){return this.keys.every(r=>i.has(r))}}class fc{constructor(i){this.events=i}affectsSome(i){for(const r of this.events)if(r.affectsSome(i))return!0;return!1}allKeysContainedIn(i){return this.events.every(r=>r.allKeysContainedIn(i))}}class fd{constructor(i){this._onDidChangeContext=new L.K3({merge:r=>new fc(r)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=i}createKey(i,r){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new uc(this,i,r)}bufferChangeEvents(i){this._onDidChangeContext.pause();try{i()}finally{this._onDidChangeContext.resume()}}createScoped(i){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new mc(this,i)}contextMatchesRules(i){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const r=this.getContextValuesContainer(this._myContextId);return!i||i.evaluate(r)}getContextKeyValue(i){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(i)}setContext(i,r){if(this._isDisposed)return;const C=this.getContextValuesContainer(this._myContextId);!C||C.setValue(i,r)&&this._onDidChangeContext.fire(new hd(i))}removeContext(i){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(i)&&this._onDidChangeContext.fire(new hd(i))}getContext(i){return this._isDisposed?fr.INSTANCE:this.getContextValuesContainer(function pc(ae){for(;ae;){if(ae.hasAttribute(sa)){const i=ae.getAttribute(sa);return i?parseInt(i,10):NaN}ae=ae.parentElement}return 0}(i))}}let Dl=class extends fd{constructor(i){super(0),this._contexts=new Map,this._toDispose=new F.SL,this._lastContextId=0;const r=new hc(this._myContextId,i,this._onDidChangeContext);this._contexts.set(this._myContextId,r),this._toDispose.add(r)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(i){return this._isDisposed?fr.INSTANCE:this._contexts.get(i)||fr.INSTANCE}createChildContext(i=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const r=++this._lastContextId;return this._contexts.set(r,new El(r,this.getContextValuesContainer(i))),r}disposeContext(i){this._isDisposed||this._contexts.delete(i)}};Dl=function(ae,i,r,C){var le,U=arguments.length,J=U<3?i:null===C?C=Object.getOwnPropertyDescriptor(i,r):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(ae,i,r,C);else for(var Me=ae.length-1;Me>=0;Me--)(le=ae[Me])&&(J=(U<3?le(J):U>3?le(i,r,J):le(i,r))||J);return U>3&&J&&Object.defineProperty(i,r,J),J}([function(ae,i){return function(r,C){i(r,C,0)}}(0,Yn.Ui)],Dl);class mc extends fd{constructor(i,r){if(super(i.createChildContext()),this._parentChangeListener=new F.XK,this._parent=i,this._updateParentChangeListener(),this._domNode=r,this._domNode.hasAttribute(sa)){let C="";this._domNode.classList&&(C=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(C?": "+C:""))}this._domNode.setAttribute(sa,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(i=>{(function gc(ae,i){return ae.allKeysContainedIn(new Set(Object.keys(i)))})(i,this._parent.getContextValuesContainer(this._myContextId).value)||this._onDidChangeContext.fire(i)})}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(sa),this._isDisposed=!0)}getContextValuesContainer(i){return this._isDisposed?fr.INSTANCE:this._parent.getContextValuesContainer(i)}createChildContext(i=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(i)}disposeContext(i){this._isDisposed||this._parent.disposeContext(i)}}Ri.P0.registerCommand(Xe.Eq,function vc(ae,i,r){ae.get(Xe.i6).createKey(String(i),function _c(ae){return(0,fo.rs)(ae,i=>"object"==typeof i&&1===i.$mid?u.o.revive(i).toString():i instanceof u.o?i.toString():void 0)}(r))}),Ri.P0.registerCommand({id:"getContextKeyInfo",handler:()=>[...Xe.uy.all()].sort((ae,i)=>ae.key.localeCompare(i.key)),description:{description:(0,ii.NC)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),Ri.P0.registerCommand("_generateContextKeyInfo",function(){const ae=[],i=new Set;for(const r of Xe.uy.all())i.has(r.key)||(i.add(r.key),ae.push(r));ae.sort((r,C)=>r.key.localeCompare(C.key)),console.log(JSON.stringify(ae,void 0,2))});var Ds=e(99524);class Cc{constructor(i){this.incoming=new Map,this.outgoing=new Map,this.data=i}}class bc{constructor(i){this._hashFn=i,this._nodes=new Map}roots(){const i=[];for(const r of this._nodes.values())0===r.outgoing.size&&i.push(r);return i}insertEdge(i,r){const C=this.lookupOrInsertNode(i),U=this.lookupOrInsertNode(r);C.outgoing.set(this._hashFn(r),U),U.incoming.set(this._hashFn(i),C)}removeNode(i){const r=this._hashFn(i);this._nodes.delete(r);for(const C of this._nodes.values())C.outgoing.delete(r),C.incoming.delete(r)}lookupOrInsertNode(i){const r=this._hashFn(i);let C=this._nodes.get(r);return C||(C=new Cc(i),this._nodes.set(r,C)),C}isEmpty(){return 0===this._nodes.size}toString(){const i=[];for(const[r,C]of this._nodes)i.push(`${r}, (incoming)[${[...C.incoming.keys()].join(", ")}], (outgoing)[${[...C.outgoing.keys()].join(",")}]`);return i.join("\n")}findCycleSlow(){for(const[i,r]of this._nodes){const U=this._findCycle(r,new Set([i]));if(U)return U}}_findCycle(i,r){for(const[C,U]of i.outgoing){if(r.has(C))return[...r,C].join(" -> ");r.add(C);const J=this._findCycle(U,r);if(J)return J;r.delete(C)}}}var gd=e(12281);class pd extends Error{constructor(i){var r;super("cyclic dependency between services"),this.message=null!==(r=i.findCycleSlow())&&void 0!==r?r:`UNABLE to detect cycle, dumping graph: \n${i.toString()}`}}class Il{constructor(i=new gd.y,r=!1,C){this._activeInstantiations=new Set,this._services=i,this._strict=r,this._parent=C,this._services.set(gn.TG,this)}createChild(i){return new Il(i,this._strict,this)}invokeFunction(i,...r){const C=Ao.traceInvocation(i);let U=!1;try{return i({get:le=>{if(U)throw(0,me.L6)("service accessor is only valid during the invocation of its target method");const Me=this._getOrCreateServiceInstance(le,C);if(!Me)throw new Error(`[invokeFunction] unknown service '${le}'`);return Me}},...r)}finally{U=!0,C.stop()}}createInstance(i,...r){let C,U;return i instanceof Ds.M?(C=Ao.traceCreation(i.ctor),U=this._createInstance(i.ctor,i.staticArguments.concat(r),C)):(C=Ao.traceCreation(i),U=this._createInstance(i,r,C)),C.stop(),U}_createInstance(i,r=[],C){const U=gn.I8.getServiceDependencies(i).sort((Me,Ye)=>Me.index-Ye.index),J=[];for(const Me of U){const Ye=this._getOrCreateServiceInstance(Me.id,C);Ye||this._throwIfStrict(`[createInstance] ${i.name} depends on UNKNOWN service ${Me.id}.`,!1),J.push(Ye)}const le=U.length>0?U[0].index:r.length;if(r.length!==le){console.trace(`[createInstance] First service dependency of ${i.name} at position ${le+1} conflicts with ${r.length} static arguments`);const Me=le-r.length;r=Me>0?r.concat(new Array(Me)):r.slice(0,le)}return new i(...r,...J)}_setServiceInstance(i,r){if(this._services.get(i)instanceof Ds.M)this._services.set(i,r);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(i,r)}}_getServiceInstanceOrDescriptor(i){const r=this._services.get(i);return!r&&this._parent?this._parent._getServiceInstanceOrDescriptor(i):r}_getOrCreateServiceInstance(i,r){const C=this._getServiceInstanceOrDescriptor(i);return C instanceof Ds.M?this._safeCreateAndCacheServiceInstance(i,C,r.branch(i,!0)):(r.branch(i,!1),C)}_safeCreateAndCacheServiceInstance(i,r,C){if(this._activeInstantiations.has(i))throw new Error(`illegal state - RECURSIVELY instantiating service '${i}'`);this._activeInstantiations.add(i);try{return this._createAndCacheServiceInstance(i,r,C)}finally{this._activeInstantiations.delete(i)}}_createAndCacheServiceInstance(i,r,C){const U=new bc(Me=>Me.id.toString());let J=0;const le=[{id:i,desc:r,_trace:C}];for(;le.length;){const Me=le.pop();if(U.lookupOrInsertNode(Me),J++>1e3)throw new pd(U);for(const Ye of gn.I8.getServiceDependencies(Me.desc.ctor)){const vt=this._getServiceInstanceOrDescriptor(Ye.id);if(vt||this._throwIfStrict(`[createInstance] ${i} depends on ${Ye.id} which is NOT registered.`,!0),vt instanceof Ds.M){const Tt={id:Ye.id,desc:vt,_trace:Me._trace.branch(Ye.id,!0)};U.insertEdge(Me,Tt),le.push(Tt)}}}for(;;){const Me=U.roots();if(0===Me.length){if(!U.isEmpty())throw new pd(U);break}for(const{data:Ye}of Me){if(this._getServiceInstanceOrDescriptor(Ye.id)instanceof Ds.M){const Tt=this._createServiceInstanceWithOwner(Ye.id,Ye.desc.ctor,Ye.desc.staticArguments,Ye.desc.supportsDelayedInstantiation,Ye._trace);this._setServiceInstance(Ye.id,Tt)}U.removeNode(Ye)}}return this._getServiceInstanceOrDescriptor(i)}_createServiceInstanceWithOwner(i,r,C=[],U,J){if(this._services.get(i)instanceof Ds.M)return this._createServiceInstance(r,C,U,J);if(this._parent)return this._parent._createServiceInstanceWithOwner(i,r,C,U,J);throw new Error(`illegalState - creating UNKNOWN service instance ${r.name}`)}_createServiceInstance(i,r=[],C,U){if(C){const J=new be.Ue(()=>this._createInstance(i,r,U));return new Proxy(Object.create(null),{get(le,Me){if(Me in le)return le[Me];const Ye=J.value;let vt=Ye[Me];return"function"!=typeof vt||(vt=vt.bind(Ye),le[Me]=vt),vt},set:(le,Me,Ye)=>(J.value[Me]=Ye,!0)})}return this._createInstance(i,r,U)}_throwIfStrict(i,r){if(r&&console.warn(i),this._strict)throw new Error(i)}}class Ao{constructor(i,r){this.type=i,this.name=r,this._start=Date.now(),this._dep=[]}static traceInvocation(i){return Ao._None}static traceCreation(i){return Ao._None}branch(i,r){const C=new Ao(2,i.toString());return this._dep.push([i,r,C]),C}stop(){const i=Date.now()-this._start;Ao._totals+=i;let r=!1;const U=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,`${function C(J,le){const Me=[],Ye=new Array(J+1).join("\t");for(const[vt,Tt,on]of le._dep)if(Tt&&on){r=!0,Me.push(`${Ye}CREATES -> ${vt}`);const Pn=C(J+1,on);Pn&&Me.push(Pn)}else Me.push(`${Ye}uses -> ${vt}`);return Me.join("\n")}(1,this)}`,`DONE, took ${i.toFixed(2)}ms (grand total ${Ao._totals.toFixed(2)}ms)`];(i>2||r)&&console.log(U.join("\n"))}}Ao._None=new class extends Ao{constructor(){super(-1,null)}stop(){}branch(){return this}},Ao._totals=0;class Sc{constructor(){this._byResource=new ki.Y9,this._byOwner=new Map}set(i,r,C){let U=this._byResource.get(i);U||(U=new Map,this._byResource.set(i,U)),U.set(r,C);let J=this._byOwner.get(r);J||(J=new ki.Y9,this._byOwner.set(r,J)),J.set(i,C)}get(i,r){const C=this._byResource.get(i);return null==C?void 0:C.get(r)}delete(i,r){let C=!1,U=!1;const J=this._byResource.get(i);J&&(C=J.delete(r));const le=this._byOwner.get(r);if(le&&(U=le.delete(i)),C!==U)throw new Error("illegal state");return C&&U}values(i){var r,C,U,J;return"string"==typeof i?null!==(C=null===(r=this._byOwner.get(i))||void 0===r?void 0:r.values())&&void 0!==C?C:zs.$.empty():u.o.isUri(i)?null!==(J=null===(U=this._byResource.get(i))||void 0===U?void 0:U.values())&&void 0!==J?J:zs.$.empty():zs.$.map(zs.$.concat(...this._byOwner.values()),le=>le[1])}}class yc{constructor(i){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new ki.Y9,this._service=i,this._subscription=i.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(i){for(const r of i){const C=this._data.get(r);C&&this._substract(C);const U=this._resourceStats(r);this._add(U),this._data.set(r,U)}}_resourceStats(i){const r={errors:0,warnings:0,infos:0,unknowns:0};if(i.scheme===Kn.lg.inMemory||i.scheme===Kn.lg.walkThrough||i.scheme===Kn.lg.walkThroughSnippet||i.scheme===Kn.lg.vscodeSourceControl)return r;for(const{severity:C}of this._service.read({resource:i}))C===yo.ZL.Error?r.errors+=1:C===yo.ZL.Warning?r.warnings+=1:C===yo.ZL.Info?r.infos+=1:r.unknowns+=1;return r}_substract(i){this.errors-=i.errors,this.warnings-=i.warnings,this.infos-=i.infos,this.unknowns-=i.unknowns}_add(i){this.errors+=i.errors,this.warnings+=i.warnings,this.infos+=i.infos,this.unknowns+=i.unknowns}}class Is{constructor(){this._onMarkerChanged=new L.D0({delay:0,merge:Is._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new Sc,this._stats=new yc(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(i,r){for(const C of r||[])this.changeOne(i,C,[])}changeOne(i,r,C){if((0,yn.XY)(C))this._data.delete(r,i)&&this._onMarkerChanged.fire([r]);else{const U=[];for(const J of C){const le=Is._toMarker(i,r,J);le&&U.push(le)}this._data.set(r,i,U),this._onMarkerChanged.fire([r])}}static _toMarker(i,r,C){let{code:U,severity:J,message:le,source:Me,startLineNumber:Ye,startColumn:vt,endLineNumber:Tt,endColumn:on,relatedInformation:Pn,tags:Wn}=C;if(le)return Ye=Ye>0?Ye:1,vt=vt>0?vt:1,Tt=Tt>=Ye?Tt:Ye,on=on>0?on:vt,{resource:r,owner:i,code:U,severity:J,message:le,source:Me,startLineNumber:Ye,startColumn:vt,endLineNumber:Tt,endColumn:on,relatedInformation:Pn,tags:Wn}}changeAll(i,r){const C=[],U=this._data.values(i);if(U)for(const J of U){const le=zs.$.first(J);le&&(C.push(le.resource),this._data.delete(le.resource,i))}if((0,yn.Of)(r)){const J=new ki.Y9;for(const{resource:le,marker:Me}of r){const Ye=Is._toMarker(i,le,Me);if(!Ye)continue;const vt=J.get(le);vt?vt.push(Ye):(J.set(le,[Ye]),C.push(le))}for(const[le,Me]of J)this._data.set(le,i,Me)}C.length>0&&this._onMarkerChanged.fire(C)}read(i=Object.create(null)){let{owner:r,resource:C,severities:U,take:J}=i;if((!J||J<0)&&(J=-1),r&&C){const le=this._data.get(C,r);if(le){const Me=[];for(const Ye of le)if(Is._accept(Ye,U)){const vt=Me.push(Ye);if(J>0&&vt===J)break}return Me}return[]}if(r||C){const le=this._data.values(null!=C?C:r),Me=[];for(const Ye of le)for(const vt of Ye)if(Is._accept(vt,U)){const Tt=Me.push(vt);if(J>0&&Tt===J)return Me}return Me}{const le=[];for(const Me of this._data.values())for(const Ye of Me)if(Is._accept(Ye,U)){const vt=le.push(Ye);if(J>0&&vt===J)return le}return le}}static _accept(i,r){return void 0===r||(r&i.severity)===i.severity}static _merge(i){const r=new ki.Y9;for(const C of i)for(const U of C)r.set(U,!0);return Array.from(r.keys())}}function vd(ae,i,r,C,U,J){if(Array.isArray(ae)){let le=0;for(const Me of ae){const Ye=vd(Me,i,r,C,U,J);if(10===Ye)return Ye;Ye>le&&(le=Ye)}return le}if("string"==typeof ae)return C?"*"===ae?5:ae===r?10:0:0;if(ae){const{language:le,pattern:Me,scheme:Ye,hasAccessToAllModels:vt,notebookType:Tt}=ae;if(!C&&!vt)return 0;Tt&&U&&(i=U);let on=0;if(Ye)if(Ye===i.scheme)on=10;else{if("*"!==Ye)return 0;on=5}if(le)if(le===r)on=10;else{if("*"!==le)return 0;on=Math.max(on,5)}if(Tt)if(Tt===J)on=10;else{if("*"!==Tt||void 0===J)return 0;on=Math.max(on,5)}if(Me){let Pn;if(Pn="string"==typeof Me?Me:Object.assign(Object.assign({},Me),{base:(0,Xi.Fv)(Me.base)}),Pn!==i.fsPath&&!function _s(ae,i,r){return!(!ae||"string"!=typeof i)&&sl(ae)(i,void 0,r)}(Pn,i.fsPath))return 0;on=10}return on}return 0}function _d(ae){return"string"!=typeof ae&&(Array.isArray(ae)?ae.every(_d):!!ae.exclusive)}class Cd{constructor(i,r,C,U){this.uri=i,this.languageId=r,this.notebookUri=C,this.notebookType=U}equals(i){var r,C;return this.notebookType===i.notebookType&&this.languageId===i.languageId&&this.uri.toString()===i.uri.toString()&&(null===(r=this.notebookUri)||void 0===r?void 0:r.toString())===(null===(C=i.notebookUri)||void 0===C?void 0:C.toString())}}class eo{constructor(i){this._notebookInfoResolver=i,this._clock=0,this._entries=[],this._onDidChange=new L.Q5,this.onDidChange=this._onDidChange.event}register(i,r){let C={selector:i,provider:r,_score:-1,_time:this._clock++};return this._entries.push(C),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,F.OF)(()=>{if(C){const U=this._entries.indexOf(C);U>=0&&(this._entries.splice(U,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),C=void 0)}})}has(i){return this.all(i).length>0}all(i){if(!i)return[];this._updateScores(i);const r=[];for(const C of this._entries)C._score>0&&r.push(C.provider);return r}ordered(i){const r=[];return this._orderedForEach(i,C=>r.push(C.provider)),r}orderedGroups(i){const r=[];let C,U;return this._orderedForEach(i,J=>{C&&U===J._score?C.push(J.provider):(U=J._score,C=[J.provider],r.push(C))}),r}_orderedForEach(i,r){this._updateScores(i);for(const C of this._entries)C._score>0&&r(C)}_updateScores(i){var r,C;const U=null===(r=this._notebookInfoResolver)||void 0===r?void 0:r.call(this,i.uri),J=U?new Cd(i.uri,i.getLanguageId(),U.uri,U.type):new Cd(i.uri,i.getLanguageId(),void 0,void 0);if(null===(C=this._lastCandidate)||void 0===C||!C.equals(J)){this._lastCandidate=J;for(const le of this._entries)if(le._score=vd(le.selector,J.uri,J.languageId,(0,V.pt)(i),J.notebookUri,J.notebookType),_d(le.selector)&&le._score>0){for(const Me of this._entries)Me._score=0;le._score=1e3;break}this._entries.sort(eo._compareByScoreAndTime)}}static _compareByScoreAndTime(i,r){return i._score<r._score?1:i._score>r._score?-1:i._time<r._time?1:i._time>r._time?-1:0}}(0,xt.z)(xn.p,class wc{constructor(){this.referenceProvider=new eo(this._score.bind(this)),this.renameProvider=new eo(this._score.bind(this)),this.codeActionProvider=new eo(this._score.bind(this)),this.definitionProvider=new eo(this._score.bind(this)),this.typeDefinitionProvider=new eo(this._score.bind(this)),this.declarationProvider=new eo(this._score.bind(this)),this.implementationProvider=new eo(this._score.bind(this)),this.documentSymbolProvider=new eo(this._score.bind(this)),this.inlayHintsProvider=new eo(this._score.bind(this)),this.colorProvider=new eo(this._score.bind(this)),this.codeLensProvider=new eo(this._score.bind(this)),this.documentFormattingEditProvider=new eo(this._score.bind(this)),this.documentRangeFormattingEditProvider=new eo(this._score.bind(this)),this.onTypeFormattingEditProvider=new eo(this._score.bind(this)),this.signatureHelpProvider=new eo(this._score.bind(this)),this.hoverProvider=new eo(this._score.bind(this)),this.documentHighlightProvider=new eo(this._score.bind(this)),this.selectionRangeProvider=new eo(this._score.bind(this)),this.foldingRangeProvider=new eo(this._score.bind(this)),this.linkProvider=new eo(this._score.bind(this)),this.inlineCompletionsProvider=new eo(this._score.bind(this)),this.completionProvider=new eo(this._score.bind(this)),this.linkedEditingRangeProvider=new eo(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new eo(this._score.bind(this)),this.documentSemanticTokensProvider=new eo(this._score.bind(this)),this.documentOnDropEditProvider=new eo(this._score.bind(this)),this.documentPasteEditProvider=new eo(this._score.bind(this))}_score(i){var r;return null===(r=this._notebookTypeResolver)||void 0===r?void 0:r.call(this,i)}},!0);class Lc extends to{constructor(i={}){const r=Ir.B.as(or.IP.Configuration).getConfigurationProperties(),C=Object.keys(r),U=Object.create(null),J=[];for(const le in r){const Me=i[le];(0,Yn.KV)(U,le,void 0!==Me?Me:r[le].default,vt=>console.error(`Conflict in default settings: ${vt}`))}for(const le of Object.keys(U))or.eU.test(le)&&J.push({identifiers:(0,or.ny)(le),keys:Object.keys(U[le]),contents:(0,Yn.Od)(U[le],Me=>console.error(`Conflict in default settings file: ${Me}`))});super(U,C,J)}}var xs=function(ae,i,r,C){var le,U=arguments.length,J=U<3?i:null===C?C=Object.getOwnPropertyDescriptor(i,r):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(ae,i,r,C);else for(var Me=ae.length-1;Me>=0;Me--)(le=ae[Me])&&(J=(U<3?le(J):U>3?le(i,r,J):le(i,r))||J);return U>3&&J&&Object.defineProperty(i,r,J),J},bo=function(ae,i){return function(r,C){i(r,C,ae)}},bd=function(ae,i,r,C){return new(r||(r=Promise))(function(J,le){function Me(Tt){try{vt(C.next(Tt))}catch(on){le(on)}}function Ye(Tt){try{vt(C.throw(Tt))}catch(on){le(on)}}function vt(Tt){Tt.done?J(Tt.value):function U(J){return J instanceof r?J:new r(function(le){le(J)})}(Tt.value).then(Me,Ye)}vt((C=C.apply(ae,i||[])).next())})};class Ec{constructor(i){this.disposed=!1,this.model=i,this._onWillDispose=new L.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let xl=class{constructor(i){this.modelService=i}createModelReference(i){const r=this.modelService.getModel(i);return r?Promise.resolve(new F.Jz(new Ec(r))):Promise.reject(new Error("Model not found"))}};xl=xs([bo(0,fe.q)],xl);let Dc=(()=>{class ae{show(){return ae.NULL_PROGRESS_RUNNER}showWhile(r,C){return bd(this,void 0,void 0,function*(){yield r})}}return ae.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}},ae})();class Fa{info(i){return this.notify({severity:hi.Z.Info,message:i})}warn(i){return this.notify({severity:hi.Z.Warning,message:i})}error(i){return this.notify({severity:hi.Z.Error,message:i})}notify(i){switch(i.severity){case hi.Z.Error:console.error(i.message);break;case hi.Z.Warning:console.warn(i.message);break;default:console.log(i.message)}return Fa.NO_OP}status(i,r){return F.JT.None}}Fa.NO_OP=new Ki.EO;let Ml=class{constructor(i){this._onWillExecuteCommand=new L.Q5,this._onDidExecuteCommand=new L.Q5,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=i}executeCommand(i,...r){const C=Ri.P0.getCommand(i);if(!C)return Promise.reject(new Error(`command '${i}' not found`));try{this._onWillExecuteCommand.fire({commandId:i,args:r});const U=this._instantiationService.invokeFunction.apply(this._instantiationService,[C.handler,...r]);return this._onDidExecuteCommand.fire({commandId:i,args:r}),Promise.resolve(U)}catch(U){return Promise.reject(U)}}};Ml=xs([bo(0,gn.TG)],Ml);let gr=class extends Po{constructor(i,r,C,U,J,le){super(i,r,C,U,J),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const Me=Wn=>{const Ci=new F.SL;Ci.add(Qt.nm(Wn,Qt.tw.KEY_DOWN,Ti=>{const Pi=new Mi.y(Ti);this._dispatch(Pi,Pi.target)&&(Pi.preventDefault(),Pi.stopPropagation())})),Ci.add(Qt.nm(Wn,Qt.tw.KEY_UP,Ti=>{const Pi=new Mi.y(Ti);this._singleModifierDispatch(Pi,Pi.target)&&Pi.preventDefault()})),this._domNodeListeners.push(new Mc(Wn,Ci))},Ye=Wn=>{for(let Ci=0;Ci<this._domNodeListeners.length;Ci++){const Ti=this._domNodeListeners[Ci];Ti.domNode===Wn&&(this._domNodeListeners.splice(Ci,1),Ti.dispose())}},vt=Wn=>{Wn.getOption(56)||Me(Wn.getContainerDomNode())};this._register(le.onCodeEditorAdd(vt)),this._register(le.onCodeEditorRemove(Wn=>{Wn.getOption(56)||Ye(Wn.getContainerDomNode())})),le.listCodeEditors().forEach(vt);const on=Wn=>{Me(Wn.getContainerDomNode())};this._register(le.onDiffEditorAdd(on)),this._register(le.onDiffEditorRemove(Wn=>{Ye(Wn.getContainerDomNode())})),le.listDiffEditors().forEach(on)}addDynamicKeybinding(i,r,C,U){return(0,F.F8)(Ri.P0.registerCommand(i,C),this.addDynamicKeybindings([{keybinding:r,command:i,when:U}]))}addDynamicKeybindings(i){const r=i.map(C=>{var U,J;const le=(0,$i.gm)(C.keybinding,Ie.OS);return{keybinding:null!==(U=null==le?void 0:le.parts)&&void 0!==U?U:null,command:null!==(J=C.command)&&void 0!==J?J:null,commandArgs:C.commandArgs,when:C.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(r),this.updateResolver(),(0,F.OF)(()=>{for(let C=0;C<this._dynamicKeybindings.length;C++)if(this._dynamicKeybindings[C]===r[0])return this._dynamicKeybindings.splice(C,r.length),void this.updateResolver()})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const i=this._toNormalizedKeybindingItems(Zo.W.getDefaultKeybindings(),!0),r=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new es(i,r,C=>this._log(C))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(i,r){const C=[];let U=0;for(const J of i){const le=J.when||void 0,Me=J.keybinding;if(Me){const Ye=Uo.resolveUserBinding(Me,Ie.OS);for(const vt of Ye)C[U++]=new Zs(vt,J.command,J.commandArgs,le,r,null,!1)}else C[U++]=new Zs(void 0,J.command,J.commandArgs,le,r,null,!1)}return C}resolveKeyboardEvent(i){const r=new $i.QC(i.ctrlKey,i.shiftKey,i.altKey,i.metaKey,i.keyCode).toChord();return new Uo(r,Ie.OS)}};gr=xs([bo(0,Xe.i6),bo(1,Ri.Hy),bo(2,Qo.b),bo(3,Ki.lT),bo(4,En.VZ),bo(5,z.$)],gr);class Mc extends F.JT{constructor(i,r){super(),this.domNode=i,this._register(r)}}function Sd(ae){return ae&&"object"==typeof ae&&(!ae.overrideIdentifier||"string"==typeof ae.overrideIdentifier)&&(!ae.resource||ae.resource instanceof u.o)}class yd{constructor(){this._onDidChangeConfiguration=new L.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new Ms(new Lc,new to,new to,new to)}getValue(i,r){const C="string"==typeof i?i:void 0,U=Sd(i)?i:Sd(r)?r:{};return this._configuration.getValue(C,U,void 0)}updateValues(i){const r={data:this._configuration.toData()},C=[];for(const U of i){const[J,le]=U;this.getValue(J)!==le&&(this._configuration.updateValue(J,le),C.push(J))}if(C.length>0){const U=new Cr({keys:C,overrides:[]},r,this._configuration);U.source=8,U.sourceConfig=null,this._onDidChangeConfiguration.fire(U)}return Promise.resolve()}updateValue(i,r,C,U){return this.updateValues([[i,r]])}inspect(i,r={}){return this._configuration.inspect(i,r,void 0)}}let Tl=class{constructor(i){this.configurationService=i,this._onDidChangeConfiguration=new L.Q5,this.configurationService.onDidChangeConfiguration(r=>{this._onDidChangeConfiguration.fire({affectedKeys:r.affectedKeys,affectsConfiguration:(C,U)=>r.affectsConfiguration(U)})})}getValue(i,r,C){const J=P.L.isIPosition(r)&&r?"string"==typeof C?C:void 0:"string"==typeof r?r:void 0;return void 0===J?this.configurationService.getValue():this.configurationService.getValue(J)}};Tl=xs([bo(0,Yn.Ui)],Tl);let Nl=class{constructor(i){this.configurationService=i}getEOL(i,r){const C=this.configurationService.getValue("files.eol",{overrideIdentifier:r,resource:i});return C&&"string"==typeof C&&"auto"!==C?C:Ie.IJ||Ie.dz?"\n":"\r\n"}};Nl=xs([bo(0,Yn.Ui)],Nl);let Nc=(()=>{class ae{constructor(){const r=u.o.from({scheme:ae.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new br.md({uri:r,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(r){return r&&r.scheme===ae.SCHEME?this.workspace.folders[0]:null}}return ae.SCHEME="inmemory",ae})();function Wa(ae,i,r){if(!(i&&ae instanceof yd))return;const C=[];Object.keys(i).forEach(U=>{(0,ho.ei)(U)&&C.push([`editor.${U}`,i[U]]),r&&(0,ho.Pe)(U)&&C.push([`diffEditor.${U}`,i[U]])}),C.length>0&&ae.updateValues(C)}let Al=class{constructor(i){this._modelService=i}hasPreviewHandler(){return!1}apply(i,r){return bd(this,void 0,void 0,function*(){const C=new Map;for(const le of i){if(!(le instanceof po.Gl))throw new Error("bad edit - only text edits are supported");const Me=this._modelService.getModel(le.resource);if(!Me)throw new Error("bad edit - model not found");if("number"==typeof le.versionId&&Me.getVersionId()!==le.versionId)throw new Error("bad state - model changed in the meantime");let Ye=C.get(Me);Ye||(Ye=[],C.set(Me,Ye)),Ye.push($s.h.replaceMove(A.e.lift(le.textEdit.range),le.textEdit.text))}let U=0,J=0;for(const[le,Me]of C)le.pushStackElement(),le.pushEditOperations([],Me,()=>[]),le.pushStackElement(),J+=1,U+=Me.length;return{ariaSummary:W.WU(rs.iN.bulkEditServiceSummary,U,J)}})}};Al=xs([bo(0,fe.q)],Al);let Pl=class extends Ii{constructor(i,r){super(i),this._codeEditorService=r}showContextView(i,r,C){if(!r){const U=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();U&&(r=U.getContainerDomNode())}return super.showContextView(i,r,C)}};Pl=xs([bo(0,Ln),bo(1,z.$)],Pl);let Ol=class extends Br{constructor(i,r,C,U,J){super(i,r,C,U,J),this.configure({blockMouse:!1})}};var yi;Ol=xs([bo(0,Qo.b),bo(1,Ki.lT),bo(2,Oo.u),bo(3,Vo.d),bo(4,_t.XE)],Ol),(0,xt.z)(Yn.Ui,yd),(0,xt.z)(jt.V,Tl),(0,xt.z)(jt.y,Nl),(0,xt.z)(br.ec,Nc),(0,xt.z)(Qs.e,class Ac{getUriLabel(i,r){return"file"===i.scheme?i.fsPath:i.path}getUriBasenameLabel(i){return(0,ms.EZ)(i)}}),(0,xt.z)(Qo.b,class Tc{publicLog(i,r){return Promise.resolve(void 0)}publicLog2(i,r){return this.publicLog(i,r)}}),(0,xt.z)(Ni.S,class xc{confirm(i){return this.doConfirm(i).then(r=>({confirmed:r,checkboxChecked:!1}))}doConfirm(i){let r=i.message;return i.detail&&(r=r+"\n\n"+i.detail),Promise.resolve(window.confirm(r))}show(i,r,C,U){return Promise.resolve({choice:0})}}),(0,xt.z)(Ki.lT,Fa),(0,xt.z)(yo.lT,Is),(0,xt.z)(w.O,class Oc extends sr{constructor(){super()}}),(0,xt.z)(ti.Z,Hn.nI),(0,xt.z)(En.VZ,class Rc extends En.$V{constructor(){super(new En.kw)}}),(0,xt.z)(fe.q,zr.b$),(0,xt.z)(ml.i,Ur),(0,xt.z)(Xe.i6,Dl),(0,xt.z)(gs.R9,class Ic{withProgress(i,r,C){return r({report:()=>{}})}}),(0,xt.z)(gs.ek,Dc),(0,xt.z)(bi.Uy,bi.vm),(0,xt.z)(Fn.p,wi),(0,xt.z)(po.vu,Al),(0,xt.z)(As.Y,class Pc{constructor(){this._neverEmitter=new L.Q5,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}),(0,xt.z)(Io.S,xl),(0,xt.z)(ws.F,vi),(0,xt.z)(g.Lw,g.XN),(0,xt.z)(Ri.Hy,Ml),(0,xt.z)(Vo.d,gr),(0,xt.z)(se.eJ,bn),(0,xt.z)(Oo.u,Pl),(0,xt.z)(Bs.v4,Vr),(0,xt.z)(cd.p,Eo),(0,xt.z)(Oo.i,Ol),(0,xt.z)(qn.co,Qi),function(ae){const i=new gd.y;for(const[le,Me]of(0,xt.d)())i.set(le,Me);const r=new Il(i,!0);i.set(gn.TG,r),ae.get=function C(le){const Me=i.get(le);if(!Me)throw new Error("Missing service "+le);return Me instanceof Ds.M?r.invokeFunction(Ye=>Ye.get(le)):Me};let U=!1;ae.initialize=function J(le){if(U)return r;U=!0;for(const[Me,Ye]of(0,xt.d)())i.get(Me)||i.set(Me,Ye);for(const Me in le)if(le.hasOwnProperty(Me)){const Ye=(0,gn.yh)(Me);i.get(Ye)instanceof Ds.M&&i.set(Ye,le[Me])}return r}}(yi||(yi={}));var Rl=function(ae,i,r,C){var le,U=arguments.length,J=U<3?i:null===C?C=Object.getOwnPropertyDescriptor(i,r):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(ae,i,r,C);else for(var Me=ae.length-1;Me>=0;Me--)(le=ae[Me])&&(J=(U<3?le(J):U>3?le(i,r,J):le(i,r))||J);return U>3&&J&&Object.defineProperty(i,r,J),J},Yi=function(ae,i){return function(r,C){i(r,C,ae)}};let kc=0,wd=!1,Va=class extends Ht.Gm{constructor(i,r,C,U,J,le,Me,Ye,vt,Tt,on,Pn){const Wn=Object.assign({},r);Wn.ariaLabel=Wn.ariaLabel||rs.B8.editorViewAccessibleLabel,Wn.ariaLabel=Wn.ariaLabel+";"+rs.B8.accessibilityHelpMessage,super(i,Wn,{},C,U,J,le,Ye,vt,Tt,on,Pn),this._standaloneKeybindingService=Me instanceof gr?Me:null,function Bc(ae){if(!ae){if(wd)return;wd=!0}Zt.wW(ae||document.body)}(Wn.ariaContainerElement)}addCommand(i,r,C){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const U="DYNAMIC_"+ ++kc,J=Xe.Ao.deserialize(C);return this._standaloneKeybindingService.addDynamicKeybinding(U,i,r,J),U}createContextKey(i,r){return this._contextKeyService.createKey(i,r)}addAction(i){if("string"!=typeof i.id||"string"!=typeof i.label||"function"!=typeof i.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),F.JT.None;const r=i.id,C=i.label,U=Xe.Ao.and(Xe.Ao.equals("editorId",this.getId()),Xe.Ao.deserialize(i.precondition)),J=i.keybindings,le=Xe.Ao.and(U,Xe.Ao.deserialize(i.keybindingContext)),Me=i.contextMenuGroupId||null,Ye=i.contextMenuOrder||0,vt=(Wn,...Ci)=>Promise.resolve(i.run(this,...Ci)),Tt=new F.SL,on=this.getId()+":"+r;if(Tt.add(Ri.P0.registerCommand(on,vt)),Me&&Tt.add(qn.BH.appendMenuItem(qn.eH.EditorContext,{command:{id:on,title:C},when:U,group:Me,order:Ye})),Array.isArray(J))for(const Wn of J)Tt.add(this._standaloneKeybindingService.addDynamicKeybinding(on,Wn,vt,le));const Pn=new wn.p(on,C,C,U,vt,this._contextKeyService);return this._actions[r]=Pn,Tt.add((0,F.OF)(()=>{delete this._actions[r]})),Tt}_triggerCommand(i,r){if(this._codeEditorService instanceof fn)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(i,r)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(i,r)}};Va=Rl([Yi(2,gn.TG),Yi(3,z.$),Yi(4,Ri.Hy),Yi(5,Xe.i6),Yi(6,Vo.d),Yi(7,_t.XE),Yi(8,Ki.lT),Yi(9,ws.F),Yi(10,$.c_),Yi(11,xn.p)],Va);let kl=class extends Va{constructor(i,r,C,U,J,le,Me,Ye,vt,Tt,on,Pn,Wn,Ci,Ti){const Pi=Object.assign({},r);Wa(Tt,Pi,!1);const Vi=Ye.registerEditorContainer(i);"string"==typeof Pi.theme&&Ye.setTheme(Pi.theme),void 0!==Pi.autoDetectHighContrast&&Ye.setAutoDetectHighContrast(Boolean(Pi.autoDetectHighContrast));const zi=Pi.model;let Oi;if(delete Pi.model,super(i,Pi,C,U,J,le,Me,Ye,vt,on,Ci,Ti),this._configurationService=Tt,this._standaloneThemeService=Ye,this._register(Vi),void 0===zi){const Bi=Wn.getLanguageIdByMimeType(Pi.language)||Pi.language||Do.bd;Oi=Ld(Pn,Wn,Pi.value||"",Bi,void 0),this._ownsModel=!0}else Oi=zi,this._ownsModel=!1;this._attachModel(Oi),Oi&&this._onDidChangeModel.fire({oldModelUrl:null,newModelUrl:Oi.uri})}dispose(){super.dispose()}updateOptions(i){Wa(this._configurationService,i,!1),"string"==typeof i.theme&&this._standaloneThemeService.setTheme(i.theme),void 0!==i.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(i.autoDetectHighContrast)),super.updateOptions(i)}_postDetachModelCleanup(i){super._postDetachModelCleanup(i),i&&this._ownsModel&&(i.dispose(),this._ownsModel=!1)}};kl=Rl([Yi(2,gn.TG),Yi(3,z.$),Yi(4,Ri.Hy),Yi(5,Xe.i6),Yi(6,Vo.d),Yi(7,ti.Z),Yi(8,Ki.lT),Yi(9,Yn.Ui),Yi(10,ws.F),Yi(11,fe.q),Yi(12,w.O),Yi(13,$.c_),Yi(14,xn.p)],kl);let Bl=class extends Pt.p{constructor(i,r,C,U,J,le,Me,Ye,vt,Tt,on,Pn){const Wn=Object.assign({},r);Wa(vt,Wn,!0);const Ci=Me.registerEditorContainer(i);"string"==typeof Wn.theme&&Me.setTheme(Wn.theme),void 0!==Wn.autoDetectHighContrast&&Me.setAutoDetectHighContrast(Boolean(Wn.autoDetectHighContrast)),super(i,Wn,{},Pn,J,U,C,le,Me,Ye,Tt,on),this._configurationService=vt,this._standaloneThemeService=Me,this._register(Ci)}dispose(){super.dispose()}updateOptions(i){Wa(this._configurationService,i,!0),"string"==typeof i.theme&&this._standaloneThemeService.setTheme(i.theme),void 0!==i.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(i.autoDetectHighContrast)),super.updateOptions(i)}_createInnerEditor(i,r,C){return i.createInstance(Va,r,C)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(i,r,C){return this.getModifiedEditor().addCommand(i,r,C)}createContextKey(i,r){return this.getModifiedEditor().createContextKey(i,r)}addAction(i){return this.getModifiedEditor().addAction(i)}};function Ld(ae,i,r,C,U){if(r=r||"",!C){const J=r.indexOf("\n");let le=r;return-1!==J&&(le=r.substring(0,J)),Ed(ae,r,i.createByFilepathOrFirstLine(U||null,le),U)}return Ed(ae,r,i.createById(C),U)}function Ed(ae,i,r,C){return ae.createModel(i,r,C)}function Fc(ae,i,r){return yi.initialize(r||{}).createInstance(kl,ae,i)}function Wc(ae){return yi.get(z.$).onCodeEditorAdd(r=>{ae(r)})}function Vc(ae){return yi.get(z.$).onDiffEditorAdd(r=>{ae(r)})}function Hc(){return yi.get(z.$).listCodeEditors()}function Uc(){return yi.get(z.$).listDiffEditors()}function zc(ae,i,r){return yi.initialize(r||{}).createInstance(Bl,ae,i)}function jc(ae,i){return new j.F(ae,i)}function Kc(ae){if("string"!=typeof ae.id||"function"!=typeof ae.run)throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return Ri.P0.registerCommand(ae.id,ae.run)}function $c(ae){if("string"!=typeof ae.id||"string"!=typeof ae.label||"function"!=typeof ae.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const i=Xe.Ao.deserialize(ae.precondition),C=new F.SL;if(C.add(Ri.P0.registerCommand(ae.id,(U,...J)=>Kr._l.runEditorCommand(U,J,i,(le,Me,Ye)=>Promise.resolve(ae.run(Me,...Ye))))),ae.contextMenuGroupId&&C.add(qn.BH.appendMenuItem(qn.eH.EditorContext,{command:{id:ae.id,title:ae.label},when:i,group:ae.contextMenuGroupId,order:ae.contextMenuOrder||0})),Array.isArray(ae.keybindings)){const U=yi.get(Vo.d);if(U instanceof gr){const J=Xe.Ao.and(i,Xe.Ao.deserialize(ae.keybindingContext));C.add(U.addDynamicKeybindings(ae.keybindings.map(le=>({keybinding:le,command:ae.id,when:J}))))}else console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService")}return C}function Gc(ae){return Dd([ae])}function Dd(ae){const i=yi.get(Vo.d);return i instanceof gr?i.addDynamicKeybindings(ae.map(r=>({keybinding:r.keybinding,command:r.command,commandArgs:r.commandArgs,when:Xe.Ao.deserialize(r.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),F.JT.None)}function Zc(ae,i,r){const C=yi.get(w.O),U=C.getLanguageIdByMimeType(i)||i;return Ld(yi.get(fe.q),C,ae,U,r)}function Qc(ae,i){const r=yi.get(w.O);yi.get(fe.q).setMode(ae,r.createById(i))}function Yc(ae,i,r){ae&&yi.get(yo.lT).changeOne(i,ae.uri,r)}function Xc(ae){yi.get(yo.lT).changeAll(ae,[])}function Jc(ae){return yi.get(yo.lT).read(ae)}function qc(ae){return yi.get(yo.lT).onMarkerChanged(ae)}function eh(ae){return yi.get(fe.q).getModel(ae)}function th(){return yi.get(fe.q).getModels()}function nh(ae){return yi.get(fe.q).onModelAdded(ae)}function ih(ae){return yi.get(fe.q).onModelRemoved(ae)}function oh(ae){return yi.get(fe.q).onModelLanguageChanged(r=>{ae({model:r.model,oldLanguage:r.oldLanguageId})})}function sh(ae){return function it(ae,i,r){return new pt(ae,i,r)}(yi.get(fe.q),yi.get($.c_),ae)}function rh(ae,i){const r=yi.get(w.O),C=yi.get(ti.Z);return C.registerEditorContainer(ae),Ge.colorizeElement(C,r,ae,i)}function ah(ae,i,r){const C=yi.get(w.O);return yi.get(ti.Z).registerEditorContainer(document.body),Ge.colorize(C,ae,i,r)}function lh(ae,i,r=4){return yi.get(ti.Z).registerEditorContainer(document.body),Ge.colorizeModelLine(ae,i,r)}function ch(ae,i){N.RW.getOrCreate(i);const r=function dh(ae){return N.RW.get(ae)||{getInitialState:()=>te.TJ,tokenize:(r,C,U)=>(0,te.Ri)(ae,U)}}(i),C=(0,W.uq)(ae),U=[];let J=r.getInitialState();for(let le=0,Me=C.length;le<Me;le++){const vt=r.tokenize(C[le],!0,J);U[le]=vt.tokens,J=vt.endState}return U}function hh(ae,i){yi.get(ti.Z).defineTheme(ae,i)}function uh(ae){yi.get(ti.Z).setTheme(ae)}function fh(){B.g.clearAllFontInfos()}function gh(ae,i){return Ri.P0.registerCommand({id:ae,handler:i})}function Ha(ae,i){return"boolean"==typeof ae?ae:i}function Id(ae,i){return"string"==typeof ae?ae:i}function xd(ae,i=!1){i&&(ae=ae.map(function(C){return C.toLowerCase()}));const r=function vh(ae){const i={};for(const r of ae)i[r]=!0;return i}(ae);return i?function(C){return void 0!==r[C.toLowerCase()]&&r.hasOwnProperty(C.toLowerCase())}:function(C){return void 0!==r[C]&&r.hasOwnProperty(C)}}function Fl(ae,i){i=i.replace(/@@/g,"\x01");let C,r=0;do{C=!1,i=i.replace(/@(\w+)/g,function(J,le){C=!0;let Me="";if("string"==typeof ae[le])Me=ae[le];else{if(!(ae[le]&&ae[le]instanceof RegExp))throw si(ae,void 0===ae[le]?"language definition does not contain attribute '"+le+"', used at: "+i:"attribute reference '"+le+"' must be a string, used at: "+i);Me=ae[le].source}return kn(Me)?"":"(?:"+Me+")"}),r++}while(C&&r<5);return i=i.replace(/\x01/g,"@"),new RegExp(i,(ae.ignoreCase?"i":"")+(ae.unicode?"u":""))}function Ch(ae,i,r,C){let U=-1,J=r,le=r.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);le&&(le[3]&&(U=parseInt(le[3]),le[2]&&(U+=100)),J=le[4]);let vt,Me="~",Ye=J;if(J&&0!==J.length?/^\w*$/.test(Ye)?Me="==":(le=J.match(/^(@|!@|~|!~|==|!=)(.*)$/),le&&(Me=le[1],Ye=le[2])):(Me="!=",Ye=""),"~"!==Me&&"!~"!==Me||!/^(\w|\|)*$/.test(Ye))if("@"===Me||"!@"===Me){const Tt=ae[Ye];if(!Tt)throw si(ae,"the @ match target '"+Ye+"' is not defined, in rule: "+i);if(!function ph(ae,i){if(!i||!Array.isArray(i))return!1;for(const r of i)if(!ae(r))return!1;return!0}(function(Pn){return"string"==typeof Pn},Tt))throw si(ae,"the @ match target '"+Ye+"' must be an array of strings, in rule: "+i);const on=xd(Tt,ae.ignoreCase);vt=function(Pn){return"@"===Me?on(Pn):!on(Pn)}}else if("~"===Me||"!~"===Me)if(Ye.indexOf("$")<0){const Tt=Fl(ae,"^"+Ye+"$");vt=function(on){return"~"===Me?Tt.test(on):!Tt.test(on)}}else vt=function(Tt,on,Pn,Wn){return Fl(ae,"^"+Si(ae,Ye,on,Pn,Wn)+"$").test(Tt)};else if(Ye.indexOf("$")<0){const Tt=An(ae,Ye);vt=function(on){return"=="===Me?on===Tt:on!==Tt}}else{const Tt=An(ae,Ye);vt=function(on,Pn,Wn,Ci,Ti){const Pi=Si(ae,Tt,Pn,Wn,Ci);return"=="===Me?on===Pi:on!==Pi}}else{const Tt=xd(Ye.split("|"),ae.ignoreCase);vt=function(on){return"~"===Me?Tt(on):!Tt(on)}}return-1===U?{name:r,value:C,test:function(Tt,on,Pn,Wn){return vt(Tt,Tt,on,Pn,Wn)}}:{name:r,value:C,test:function(Tt,on,Pn,Wn){const Ci=function _h(ae,i,r,C){if(C<0)return ae;if(C<i.length)return i[C];if(C>=100){C-=100;const U=r.split(".");if(U.unshift(r),C<U.length)return U[C]}return null}(Tt,on,Pn,U);return vt(Ci||"",Tt,on,Pn,Wn)}}}function Wl(ae,i,r){if(r){if("string"==typeof r)return r;if(r.token||""===r.token){if("string"!=typeof r.token)throw si(ae,"a 'token' attribute must be of type string, in rule: "+i);{const C={token:r.token};if(r.token.indexOf("$")>=0&&(C.tokenSubst=!0),"string"==typeof r.bracket)if("@open"===r.bracket)C.bracket=1;else{if("@close"!==r.bracket)throw si(ae,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+i);C.bracket=-1}if(r.next){if("string"!=typeof r.next)throw si(ae,"the next state must be a string value in rule: "+i);{let U=r.next;if(!/^(@pop|@push|@popall)$/.test(U)&&("@"===U[0]&&(U=U.substr(1)),U.indexOf("$")<0&&!function Li(ae,i){let r=i;for(;r&&r.length>0;){if(ae.stateNames[r])return!0;const U=r.lastIndexOf(".");r=U<0?null:r.substr(0,U)}return!1}(ae,Si(ae,U,"",[],""))))throw si(ae,"the next state '"+r.next+"' is not defined in rule: "+i);C.next=U}}return"number"==typeof r.goBack&&(C.goBack=r.goBack),"string"==typeof r.switchTo&&(C.switchTo=r.switchTo),"string"==typeof r.log&&(C.log=r.log),"string"==typeof r.nextEmbedded&&(C.nextEmbedded=r.nextEmbedded,ae.usesEmbedded=!0),C}}if(Array.isArray(r)){const C=[];for(let U=0,J=r.length;U<J;U++)C[U]=Wl(ae,i,r[U]);return{group:C}}if(r.cases){const C=[];for(const J in r.cases)if(r.cases.hasOwnProperty(J)){const le=Wl(ae,i,r.cases[J]);C.push("@default"===J||"@"===J||""===J?{test:void 0,value:le,name:J}:"@eos"===J?{test:function(Me,Ye,vt,Tt){return Tt},value:le,name:J}:Ch(ae,i,J,le))}const U=ae.defaultToken;return{test:function(J,le,Me,Ye){for(const vt of C)if(!vt.test||vt.test(J,le,Me,Ye))return vt.value;return U}}}throw si(ae,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+i)}return{token:""}}Bl=Rl([Yi(2,gn.TG),Yi(3,Xe.i6),Yi(4,Fn.p),Yi(5,z.$),Yi(6,ti.Z),Yi(7,Ki.lT),Yi(8,Yn.Ui),Yi(9,Oo.i),Yi(10,gs.ek),Yi(11,cd.p)],Bl);class bh{constructor(i){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=i}setRegex(i,r){let C;if("string"==typeof r)C=r;else{if(!(r instanceof RegExp))throw si(i,"rules must start with a match string or regular expression: "+this.name);C=r.source}this.matchOnlyAtLineStart=C.length>0&&"^"===C[0],this.name=this.name+": "+C,this.regex=Fl(i,"^(?:"+(this.matchOnlyAtLineStart?C.substr(1):C)+")")}setAction(i,r){this.action=Wl(i,this.name,r)}}function Md(ae,i){if(!i||"object"!=typeof i)throw new Error("Monarch: expecting a language definition object");const r={};r.languageId=ae,r.includeLF=Ha(i.includeLF,!1),r.noThrow=!1,r.maxStack=100,r.start="string"==typeof i.start?i.start:null,r.ignoreCase=Ha(i.ignoreCase,!1),r.unicode=Ha(i.unicode,!1),r.tokenPostfix=Id(i.tokenPostfix,"."+r.languageId),r.defaultToken=Id(i.defaultToken,"source"),r.usesEmbedded=!1;const C=i;function U(le,Me,Ye){for(const vt of Ye){let Tt=vt.include;if(Tt){if("string"!=typeof Tt)throw si(r,"an 'include' attribute must be a string at: "+le);if("@"===Tt[0]&&(Tt=Tt.substr(1)),!i.tokenizer[Tt])throw si(r,"include target '"+Tt+"' is not defined at: "+le);U(le+"."+Tt,Me,i.tokenizer[Tt])}else{const on=new bh(le);if(Array.isArray(vt)&&vt.length>=1&&vt.length<=3)if(on.setRegex(C,vt[0]),vt.length>=3)if("string"==typeof vt[1])on.setAction(C,{token:vt[1],next:vt[2]});else{if("object"!=typeof vt[1])throw si(r,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+le);{const Pn=vt[1];Pn.next=vt[2],on.setAction(C,Pn)}}else on.setAction(C,vt[1]);else{if(!vt.regex)throw si(r,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+le);vt.name&&"string"==typeof vt.name&&(on.name=vt.name),vt.matchOnlyAtStart&&(on.matchOnlyAtLineStart=Ha(vt.matchOnlyAtLineStart,!1)),on.setRegex(C,vt.regex),on.setAction(C,vt.action)}Me.push(on)}}}if(C.languageId=ae,C.includeLF=r.includeLF,C.ignoreCase=r.ignoreCase,C.unicode=r.unicode,C.noThrow=r.noThrow,C.usesEmbedded=r.usesEmbedded,C.stateNames=i.tokenizer,C.defaultToken=r.defaultToken,!i.tokenizer||"object"!=typeof i.tokenizer)throw si(r,"a language definition must define the 'tokenizer' attribute as an object");r.tokenizer=[];for(const le in i.tokenizer)if(i.tokenizer.hasOwnProperty(le)){r.start||(r.start=le);const Me=i.tokenizer[le];r.tokenizer[le]=new Array,U("tokenizer."+le,r.tokenizer[le],Me)}if(r.usesEmbedded=C.usesEmbedded,i.brackets){if(!Array.isArray(i.brackets))throw si(r,"the 'brackets' attribute must be defined as an array")}else i.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const J=[];for(const le of i.brackets){let Me=le;if(Me&&Array.isArray(Me)&&3===Me.length&&(Me={token:Me[2],open:Me[0],close:Me[1]}),Me.open===Me.close)throw si(r,"open and close brackets in a 'brackets' attribute must be different: "+Me.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof Me.open||"string"!=typeof Me.token||"string"!=typeof Me.close)throw si(r,"every element in the 'brackets' array must be a '{open,close,token}' object or array");J.push({token:Me.token+r.tokenPostfix,open:An(r,Me.open),close:An(r,Me.close)})}return r.brackets=J,r.noThrow=!0,r}function yh(ae){Do.dQ.registerLanguage(ae)}function wh(){let ae=[];return ae=ae.concat(Do.dQ.getLanguages()),ae}function Lh(ae){return yi.get(w.O).languageIdCodec.encodeLanguageId(ae)}function Eh(ae,i){const C=yi.get(w.O).onDidEncounterLanguage(U=>{U===ae&&(C.dispose(),i())});return C}function Dh(ae,i){if(!yi.get(w.O).isRegisteredLanguageId(ae))throw new Error(`Cannot set configuration for unknown language ${ae}`);return yi.get($.c_).register(ae,i,100)}class Ih{constructor(i,r){this._languageId=i,this._actual=r}getInitialState(){return this._actual.getInitialState()}tokenize(i,r,C){if("function"==typeof this._actual.tokenize)return ra.adaptTokenize(this._languageId,this._actual,i,C);throw new Error("Not supported!")}tokenizeEncoded(i,r,C){const U=this._actual.tokenizeEncoded(i,C);return new N.DI(U.tokens,U.endState)}}class ra{constructor(i,r,C,U){this._languageId=i,this._actual=r,this._languageService=C,this._standaloneThemeService=U}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(i,r){const C=[];let U=0;for(let J=0,le=i.length;J<le;J++){const Me=i[J];let Ye=Me.startIndex;0===J?Ye=0:Ye<U&&(Ye=U),C[J]=new N.WU(Ye,Me.scopes,r),U=Ye}return C}static adaptTokenize(i,r,C,U){const J=r.tokenize(C,U),le=ra._toClassicTokens(J.tokens,i);let Me;return Me=J.endState.equals(U)?U:J.endState,new N.hG(le,Me)}tokenize(i,r,C){return ra.adaptTokenize(this._languageId,this._actual,i,C)}_toBinaryTokens(i,r){const C=i.encodeLanguageId(this._languageId),U=this._standaloneThemeService.getColorTheme().tokenTheme,J=[];let le=0,Me=0;for(let vt=0,Tt=r.length;vt<Tt;vt++){const on=r[vt],Pn=U.match(C,on.scopes);if(le>0&&J[le-1]===Pn)continue;let Wn=on.startIndex;0===vt?Wn=0:Wn<Me&&(Wn=Me),J[le++]=Wn,J[le++]=Pn,Me=Wn}const Ye=new Uint32Array(le);for(let vt=0;vt<le;vt++)Ye[vt]=J[vt];return Ye}tokenizeEncoded(i,r,C){const U=this._actual.tokenize(i,C),J=this._toBinaryTokens(this._languageService.languageIdCodec,U.tokens);let le;return le=U.endState.equals(C)?C:U.endState,new N.DI(J,le)}}function Td(ae){return ae&&"function"==typeof ae.then}function Th(ae){const i=yi.get(ti.Z);if(ae){const r=[null];for(let C=1,U=ae.length;C<U;C++)r[C]=Ls.Il.fromHex(ae[C]);i.setColorMapOverride(r)}else i.setColorMapOverride(null)}function Nd(ae,i){return function Mh(ae){return"tokenizeEncoded"in ae}(i)?new Ih(ae,i):new ra(ae,i,yi.get(w.O),yi.get(ti.Z))}function Vl(ae,i){return N.RW.registerFactory(ae,{createTokenizationSupport:()=>function(ae,i,r,C){return new(r||(r=Promise))(function(J,le){function Me(Tt){try{vt(C.next(Tt))}catch(on){le(on)}}function Ye(Tt){try{vt(C.throw(Tt))}catch(on){le(on)}}function vt(Tt){Tt.done?J(Tt.value):function U(J){return J instanceof r?J:new r(function(le){le(J)})}(Tt.value).then(Me,Ye)}vt((C=C.apply(ae,i||[])).next())})}(this,void 0,void 0,function*(){const C=yield Promise.resolve(i.create());return C?function xh(ae){return"function"==typeof ae.getInitialState}(C)?Nd(ae,C):new wt(yi.get(w.O),yi.get(ti.Z),ae,Md(ae,C),yi.get(Yn.Ui)):null})})}function Nh(ae,i){if(!yi.get(w.O).isRegisteredLanguageId(ae))throw new Error(`Cannot set tokens provider for unknown language ${ae}`);return Td(i)?Vl(ae,{create:()=>i}):N.RW.register(ae,Nd(ae,i))}function Ah(ae,i){return Td(i)?Vl(ae,{create:()=>i}):N.RW.register(ae,(C=i,new wt(yi.get(w.O),yi.get(ti.Z),ae,Md(ae,C),yi.get(Yn.Ui))));var C}function Ph(ae,i){return yi.get(xn.p).referenceProvider.register(ae,i)}function Oh(ae,i){return yi.get(xn.p).renameProvider.register(ae,i)}function Rh(ae,i){return yi.get(xn.p).signatureHelpProvider.register(ae,i)}function kh(ae,i){return yi.get(xn.p).hoverProvider.register(ae,{provideHover:(C,U,J)=>{const le=C.getWordAtPosition(U);return Promise.resolve(i.provideHover(C,U,J)).then(Me=>{if(Me)return!Me.range&&le&&(Me.range=new A.e(U.lineNumber,le.startColumn,U.lineNumber,le.endColumn)),Me.range||(Me.range=new A.e(U.lineNumber,U.column,U.lineNumber,U.column)),Me})}})}function Bh(ae,i){return yi.get(xn.p).documentSymbolProvider.register(ae,i)}function Fh(ae,i){return yi.get(xn.p).documentHighlightProvider.register(ae,i)}function Wh(ae,i){return yi.get(xn.p).linkedEditingRangeProvider.register(ae,i)}function Vh(ae,i){return yi.get(xn.p).definitionProvider.register(ae,i)}function Hh(ae,i){return yi.get(xn.p).implementationProvider.register(ae,i)}function Uh(ae,i){return yi.get(xn.p).typeDefinitionProvider.register(ae,i)}function zh(ae,i){return yi.get(xn.p).codeLensProvider.register(ae,i)}function jh(ae,i,r){return yi.get(xn.p).codeActionProvider.register(ae,{providedCodeActionKinds:null==r?void 0:r.providedCodeActionKinds,documentation:null==r?void 0:r.documentation,provideCodeActions:(U,J,le,Me)=>{const vt=yi.get(yo.lT).read({resource:U.uri}).filter(Tt=>A.e.areIntersectingOrTouching(Tt,J));return i.provideCodeActions(U,J,{markers:vt,only:le.only,trigger:le.trigger},Me)},resolveCodeAction:i.resolveCodeAction})}function Kh(ae,i){return yi.get(xn.p).documentFormattingEditProvider.register(ae,i)}function $h(ae,i){return yi.get(xn.p).documentRangeFormattingEditProvider.register(ae,i)}function Gh(ae,i){return yi.get(xn.p).onTypeFormattingEditProvider.register(ae,i)}function Zh(ae,i){return yi.get(xn.p).linkProvider.register(ae,i)}function Qh(ae,i){return yi.get(xn.p).completionProvider.register(ae,i)}function Yh(ae,i){return yi.get(xn.p).colorProvider.register(ae,i)}function Xh(ae,i){return yi.get(xn.p).foldingRangeProvider.register(ae,i)}function Jh(ae,i){return yi.get(xn.p).declarationProvider.register(ae,i)}function qh(ae,i){return yi.get(xn.p).selectionRangeProvider.register(ae,i)}function eu(ae,i){return yi.get(xn.p).documentSemanticTokensProvider.register(ae,i)}function tu(ae,i){return yi.get(xn.p).documentRangeSemanticTokensProvider.register(ae,i)}function nu(ae,i){return yi.get(xn.p).inlineCompletionsProvider.register(ae,i)}function iu(ae,i){return yi.get(xn.p).inlayHintsProvider.register(ae,i)}var Hl,su=e(89957);f.BH.wrappingIndent.defaultValue=0,f.BH.glyphMargin.defaultValue=!1,f.BH.autoIndent.defaultValue=3,f.BH.overviewRulerLanes.defaultValue=2,su.xC.setFormatterSelector((ae,i,r)=>Promise.resolve(ae[0]));const wo=p();wo.editor=function mh(){return{create:Fc,getEditors:Hc,getDiffEditors:Uc,onDidCreateEditor:Wc,onDidCreateDiffEditor:Vc,createDiffEditor:zc,createDiffNavigator:jc,addCommand:Kc,addEditorAction:$c,addKeybindingRule:Gc,addKeybindingRules:Dd,createModel:Zc,setModelLanguage:Qc,setModelMarkers:Yc,getModelMarkers:Jc,removeAllMarkers:Xc,onDidChangeMarkers:qc,getModels:th,getModel:eh,onDidCreateModel:nh,onWillDisposeModel:ih,onDidChangeModelLanguage:oh,createWebWorker:sh,colorizeElement:rh,colorize:ah,colorizeModelLine:lh,tokenize:ch,defineTheme:hh,setTheme:uh,remeasureFonts:fh,registerCommand:gh,AccessibilitySupport:_.ao,ContentWidgetPositionPreference:_.r3,CursorChangeReason:_.Vi,DefaultEndOfLine:_._x,EditorAutoIndentStrategy:_.rf,EditorOption:_.wT,EndOfLinePreference:_.gm,EndOfLineSequence:_.jl,MinimapPosition:_.F5,MouseTargetType:_.MG,OverlayWidgetPositionPreference:_.E$,OverviewRulerLane:_.sh,RenderLineNumbersType:_.Lu,RenderMinimap:_.vQ,ScrollbarVisibility:_.g_,ScrollType:_.g4,TextEditorCursorBlinkingStyle:_.In,TextEditorCursorStyle:_.d2,TrackedRangeStickiness:_.OI,WrappingIndent:_.up,InjectedTextCursorStops:_.RM,PositionAffinity:_.py,ConfigurationChangedEvent:f.Bb,BareFontInfo:Y.E4,FontInfo:Y.pR,TextModelResolvedOptions:V.dJ,FindMatch:V.tk,ApplyUpdateResult:f.rk,EditorType:E.g,EditorOptions:f.BH}}(),wo.languages=function ou(){return{register:yh,getLanguages:wh,onLanguage:Eh,getEncodedLanguageId:Lh,setLanguageConfiguration:Dh,setColorMap:Th,registerTokensProviderFactory:Vl,setTokensProvider:Nh,setMonarchTokensProvider:Ah,registerReferenceProvider:Ph,registerRenameProvider:Oh,registerCompletionItemProvider:Qh,registerSignatureHelpProvider:Rh,registerHoverProvider:kh,registerDocumentSymbolProvider:Bh,registerDocumentHighlightProvider:Fh,registerLinkedEditingRangeProvider:Wh,registerDefinitionProvider:Vh,registerImplementationProvider:Hh,registerTypeDefinitionProvider:Uh,registerCodeLensProvider:zh,registerCodeActionProvider:jh,registerDocumentFormattingEditProvider:Kh,registerDocumentRangeFormattingEditProvider:$h,registerOnTypeFormattingEditProvider:Gh,registerLinkProvider:Zh,registerColorProvider:Yh,registerFoldingRangeProvider:Xh,registerDeclarationProvider:Jh,registerSelectionRangeProvider:qh,registerDocumentSemanticTokensProvider:eu,registerDocumentRangeSemanticTokensProvider:tu,registerInlineCompletionsProvider:nu,registerInlayHintsProvider:iu,DocumentHighlightKind:_.MY,CompletionItemKind:_.cm,CompletionItemTag:_.we,CompletionItemInsertTextRule:_.a7,SymbolKind:_.cR,SymbolTag:_.r4,IndentAction:_.wU,CompletionTriggerKind:_.Ij,SignatureHelpTriggerKind:_.WW,InlayHintKind:_.gl,InlineCompletionTriggerKind:_.bw,CodeActionTriggerType:_.np,FoldingRangeKind:N.AD}}();const ru=wo.CancellationTokenSource,au=wo.Emitter,lu=wo.KeyCode,du=wo.KeyMod,cu=wo.Position,hu=wo.Range,uu=wo.Selection,fu=wo.SelectionDirection,gu=wo.MarkerSeverity,mu=wo.MarkerTag,pu=wo.Uri,vu=wo.Token,_u=wo.editor,Cu=wo.languages;((null===(Hl=Ie.li.MonacoEnvironment)||void 0===Hl?void 0:Hl.globalAPI)||"function"==typeof define&&e.amdO)&&(self.monaco=wo),void 0!==self.require&&"function"==typeof self.require.config&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},92782:(at,ue,e)=>{"use strict";e.d(ue,{editor:()=>f.editor,languages:()=>f.languages});var f=e(3597),s=e(73384);(0,s.H)({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>e.e(9892).then(e.bind(e,79892))}),(0,s.H)({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>e.e(1981).then(e.bind(e,61981))}),(0,s.H)({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>e.e(9432).then(e.bind(e,29432))}),(0,s.H)({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>e.e(8679).then(e.bind(e,78679))}),(0,s.H)({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>e.e(8186).then(e.bind(e,78186))}),(0,s.H)({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>e.e(5880).then(e.bind(e,85880))}),(0,s.H)({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>e.e(176).then(e.bind(e,176))}),(0,s.H)({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>e.e(7831).then(e.bind(e,37831))}),(0,s.H)({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>e.e(7381).then(e.bind(e,17381))}),(0,s.H)({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>e.e(7381).then(e.bind(e,17381))}),(0,s.H)({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>e.e(1863).then(e.bind(e,31863))}),(0,s.H)({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>e.e(3251).then(e.bind(e,54563))}),e(8820),(0,s.H)({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>e.e(3403).then(e.bind(e,63403))}),(0,s.H)({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>e.e(8007).then(e.bind(e,38007))}),(0,s.H)({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>e.e(368).then(e.bind(e,20368))}),(0,s.H)({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>e.e(1633).then(e.bind(e,61633))}),(0,s.H)({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>e.e(8896).then(e.bind(e,88896))}),(0,s.H)({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>e.e(472).then(e.bind(e,70472))}),(0,s.H)({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>e.e(7616).then(e.bind(e,87616))}),(0,s.H)({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>e.e(4286).then(e.bind(e,24286)).then(Fe=>Fe.TagAutoInterpolationDollar)}),(0,s.H)({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>e.e(4286).then(e.bind(e,24286)).then(Fe=>Fe.TagAngleInterpolationDollar)}),(0,s.H)({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>e.e(4286).then(e.bind(e,24286)).then(Fe=>Fe.TagBracketInterpolationDollar)}),(0,s.H)({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>e.e(4286).then(e.bind(e,24286)).then(Fe=>Fe.TagAngleInterpolationBracket)}),(0,s.H)({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>e.e(4286).then(e.bind(e,24286)).then(Fe=>Fe.TagBracketInterpolationBracket)}),(0,s.H)({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>e.e(4286).then(e.bind(e,24286)).then(Fe=>Fe.TagAutoInterpolationDollar)}),(0,s.H)({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>e.e(4286).then(e.bind(e,24286)).then(Fe=>Fe.TagAutoInterpolationBracket)}),(0,s.H)({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>e.e(5733).then(e.bind(e,5733))}),(0,s.H)({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>e.e(4823).then(e.bind(e,64823))}),(0,s.H)({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>e.e(326).then(e.bind(e,20326))}),(0,s.H)({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>e.e(8960).then(e.bind(e,88960))}),e(36429),(0,s.H)({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>e.e(4217).then(e.bind(e,64217))}),(0,s.H)({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>e.e(8992).then(e.bind(e,38992))}),e(13168),(0,s.H)({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>e.e(8218).then(e.bind(e,68218))}),(0,s.H)({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>e.e(838).then(e.bind(e,27925))}),(0,s.H)({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>e.e(5228).then(e.bind(e,15228))}),(0,s.H)({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>e.e(1138).then(e.bind(e,21138))}),(0,s.H)({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>e.e(3731).then(e.bind(e,53731))}),(0,s.H)({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>e.e(3109).then(e.bind(e,43109))}),(0,s.H)({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>e.e(4515).then(e.bind(e,94515))}),(0,s.H)({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>e.e(8353).then(e.bind(e,68353))}),(0,s.H)({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>e.e(8371).then(e.bind(e,58371))}),(0,s.H)({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>e.e(9313).then(e.bind(e,99313))}),(0,s.H)({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>e.e(8058).then(e.bind(e,28058))}),(0,s.H)({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>e.e(3190).then(e.bind(e,83190))}),(0,s.H)({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>e.e(1404).then(e.bind(e,11404))}),(0,s.H)({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>e.e(3510).then(e.bind(e,3510))}),(0,s.H)({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:()=>e.e(9745).then(e.bind(e,39745))}),(0,s.H)({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>e.e(9621).then(e.bind(e,69621))}),(0,s.H)({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>e.e(9613).then(e.bind(e,49613))}),(0,s.H)({id:"pla",extensions:[".pla"],loader:()=>e.e(5124).then(e.bind(e,95124))}),(0,s.H)({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>e.e(7848).then(e.bind(e,77848))}),(0,s.H)({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>e.e(3180).then(e.bind(e,73180))}),(0,s.H)({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>e.e(9224).then(e.bind(e,89224))}),(0,s.H)({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>e.e(9063).then(e.bind(e,99063))}),(0,s.H)({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>e.e(5723).then(e.bind(e,35723))}),(0,s.H)({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>e.e(7769).then(e.bind(e,67769))}),(0,s.H)({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>e.e(2223).then(e.bind(e,42223))}),(0,s.H)({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>e.e(903).then(e.bind(e,90903))}),(0,s.H)({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>e.e(8566).then(e.bind(e,8566))}),(0,s.H)({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>e.e(3371).then(e.bind(e,23371))}),(0,s.H)({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>e.e(4164).then(e.bind(e,34164))}),(0,s.H)({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>e.e(7526).then(e.bind(e,37526))}),(0,s.H)({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>e.e(7340).then(e.bind(e,37340))}),(0,s.H)({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>e.e(5554).then(e.bind(e,75554))}),(0,s.H)({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>e.e(1701).then(e.bind(e,51701))}),(0,s.H)({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>e.e(3085).then(e.bind(e,13085))}),(0,s.H)({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>e.e(665).then(e.bind(e,60665))}),(0,s.H)({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>e.e(643).then(e.bind(e,643))}),(0,s.H)({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>e.e(5115).then(e.bind(e,85115))}),(0,s.H)({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>e.e(1808).then(e.bind(e,41808))}),(0,s.H)({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>e.e(8866).then(e.bind(e,88866))}),(0,s.H)({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>e.e(4553).then(e.bind(e,74553))}),e(97491),(0,s.H)({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:()=>e.e(5638).then(e.bind(e,35638))}),(0,s.H)({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>e.e(8037).then(e.bind(e,18037))}),(0,s.H)({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>e.e(1755).then(e.bind(e,61755))}),(0,s.H)({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>e.e(1755).then(e.bind(e,61755))}),(0,s.H)({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>e.e(2026).then(e.bind(e,12026))}),(0,s.H)({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>e.e(5930).then(e.bind(e,95930))}),e(57862),(0,s.H)({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>e.e(5922).then(e.bind(e,85922))}),(0,s.H)({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>e.e(8844).then(e.bind(e,8844))}),(0,s.H)({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>e.e(2594).then(e.bind(e,32594))}),e(98381),e(46518);var _=Object.defineProperty,a=Object.getOwnPropertyDescriptor,p=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,n=(Fe,mt,Vt,qt)=>{if(mt&&"object"==typeof mt||"function"==typeof mt)for(let Cn of p(mt))!c.call(Fe,Cn)&&Cn!==Vt&&_(Fe,Cn,{get:()=>mt[Cn],enumerable:!(qt=a(mt,Cn))||qt.enumerable});return Fe},v={};n(v,f,"default");var y=new class{constructor(Fe,mt,Vt){io(this,"_onDidChange",new v.Emitter),io(this,"_diagnosticsOptions"),io(this,"_modeConfiguration"),io(this,"_languageId"),this._languageId=Fe,this.setDiagnosticsOptions(mt),this.setModeConfiguration(Vt)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(Fe){this._diagnosticsOptions=Fe||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(Fe){this._modeConfiguration=Fe||Object.create(null),this._onDidChange.fire(this)}}("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0});v.languages.json={jsonDefaults:y},v.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),v.languages.onLanguage("json",()=>{(function S(){return e.e(5447).then(e.bind(e,65447))})().then(Fe=>Fe.setupMode(y))}),e(41417),e(99839),e(37972),e(85190),e(23817),e(25359),e(4310),e(52026),e(48453),e(63783),e(89901),e(36576),e(22226),e(39342),e(50425),e(13334),e(72304),e(16949),e(79077),e(72811),e(55107),e(5716),e(64810),e(9675),e(35854),e(20793),e(64034),e(24617),e(3184),e(6585),e(43988),e(35852),e(79888),e(89158),e(88025),e(36755),e(31734),e(44594),e(43774),e(49479),e(59419),e(76295),e(67471),e(40931),e(84325),e(9503),e(70926),e(98164),e(67296),e(47759),e(13015),e(8364),e(24086),e(29710),e(53001),e(9873),e(22212),e(15423),e(27779),e(47801),e(76754),e(89418),e(4395),e(20590)},75408:(at,ue,e)=>{"use strict";var f=e(93379),s=e.n(f),L=e(7795),M=e.n(L),u=e(90569),P=e.n(u),A=e(3565),k=e.n(A),N=e(19216),_=e.n(N),a=e(44589),p=e.n(a),c=e(32757),n={};n.styleTagTransform=p(),n.setAttributes=k(),n.insert=P().bind(null,"head"),n.domAPI=M(),n.insertStyleElement=_(),s()(c.Z,n)},30340:(at,ue,e)=>{"use strict";var f=e(93379),s=e.n(f),L=e(7795),M=e.n(L),u=e(90569),P=e.n(u),A=e(3565),k=e.n(A),N=e(19216),_=e.n(N),a=e(44589),p=e.n(a),c=e(96266),n={};n.styleTagTransform=p(),n.setAttributes=k(),n.insert=P().bind(null,"head"),n.domAPI=M(),n.insertStyleElement=_(),s()(c.Z,n)},33164:(at,ue,e)=>{"use strict";var f=e(93379),s=e.n(f),L=e(7795),M=e.n(L),u=e(90569),P=e.n(u),A=e(3565),k=e.n(A),N=e(19216),_=e.n(N),a=e(44589),p=e.n(a),c=e(27703),n={};n.styleTagTransform=p(),n.setAttributes=k(),n.insert=P().bind(null,"head"),n.domAPI=M(),n.insertStyleElement=_(),s()(c.Z,n)},93379:at=>{"use strict";var ue=[];function e(L){for(var M=-1,u=0;u<ue.length;u++)if(ue[u].identifier===L){M=u;break}return M}function f(L,M){for(var u={},P=[],A=0;A<L.length;A++){var k=L[A],N=M.base?k[0]+M.base:k[0],_=u[N]||0,a="".concat(N," ").concat(_);u[N]=_+1;var p=e(a),c={css:k[1],media:k[2],sourceMap:k[3],supports:k[4],layer:k[5]};if(-1!==p)ue[p].references++,ue[p].updater(c);else{var n=s(c,M);M.byIndex=A,ue.splice(A,0,{identifier:a,updater:n,references:1})}P.push(a)}return P}function s(L,M){var u=M.domAPI(M);return u.update(L),function(k){if(k){if(k.css===L.css&&k.media===L.media&&k.sourceMap===L.sourceMap&&k.supports===L.supports&&k.layer===L.layer)return;u.update(L=k)}else u.remove()}}at.exports=function(L,M){var u=f(L=L||[],M=M||{});return function(A){A=A||[];for(var k=0;k<u.length;k++){var _=e(u[k]);ue[_].references--}for(var a=f(A,M),p=0;p<u.length;p++){var n=e(u[p]);0===ue[n].references&&(ue[n].updater(),ue.splice(n,1))}u=a}}},90569:at=>{"use strict";var ue={};at.exports=function f(s,L){var M=function e(s){if(void 0===ue[s]){var L=document.querySelector(s);if(window.HTMLIFrameElement&&L instanceof window.HTMLIFrameElement)try{L=L.contentDocument.head}catch(M){L=null}ue[s]=L}return ue[s]}(s);if(!M)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");M.appendChild(L)}},19216:at=>{"use strict";at.exports=function ue(e){var f=document.createElement("style");return e.setAttributes(f,e.attributes),e.insert(f,e.options),f}},3565:(at,ue,e)=>{"use strict";at.exports=function f(s){var L=e.nc;L&&s.setAttribute("nonce",L)}},7795:at=>{"use strict";at.exports=function f(s){var L=s.insertStyleElement(s);return{update:function(u){!function ue(s,L,M){var u="";M.supports&&(u+="@supports (".concat(M.supports,") {")),M.media&&(u+="@media ".concat(M.media," {"));var P=void 0!==M.layer;P&&(u+="@layer".concat(M.layer.length>0?" ".concat(M.layer):""," {")),u+=M.css,P&&(u+="}"),M.media&&(u+="}"),M.supports&&(u+="}");var A=M.sourceMap;A&&"undefined"!=typeof btoa&&(u+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(A))))," */")),L.styleTagTransform(u,s,L.options)}(L,s,u)},remove:function(){!function e(s){if(null===s.parentNode)return!1;s.parentNode.removeChild(s)}(L)}}}},44589:at=>{"use strict";at.exports=function ue(e,f){if(f.styleSheet)f.styleSheet.cssText=e;else{for(;f.firstChild;)f.removeChild(f.firstChild);f.appendChild(document.createTextNode(e))}}}}]);