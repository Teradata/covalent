"use strict";var fe=Object.defineProperty,be=Object.defineProperties,me=Object.getOwnPropertyDescriptors,ee=Object.getOwnPropertySymbols,he=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable,K=(k,_,y)=>_ in k?fe(k,_,{enumerable:!0,configurable:!0,writable:!0,value:y}):k[_]=y,te=(k,_)=>{for(var y in _||(_={}))he.call(_,y)&&K(k,y,_[y]);if(ee)for(var y of ee(_))_e.call(_,y)&&K(k,y,_[y]);return k},re=(k,_)=>be(k,me(_)),x=(k,_,y)=>(K(k,"symbol"!=typeof _?_+"":_,y),y);(self.webpackChunkdocs_app=self.webpackChunkdocs_app||[]).push([[8032],{68032:(k,_,y)=>{y.r(_),y.d(_,{Adapter:()=>w,CodeActionAdaptor:()=>Q,DefinitionAdapter:()=>U,DiagnosticsAdapter:()=>V,FormatAdapter:()=>J,FormatHelper:()=>A,FormatOnTypeAdapter:()=>G,InlayHintsAdapter:()=>Y,Kind:()=>l,LibFiles:()=>W,OccurrencesAdapter:()=>B,OutlineAdapter:()=>z,QuickInfoAdapter:()=>j,ReferenceAdapter:()=>$,RenameAdapter:()=>X,SignatureHelpAdapter:()=>I,SuggestAdapter:()=>F,WorkerManager:()=>H,flattenDiagnosticMessageText:()=>O,getJavaScriptWorker:()=>ge,getTypeScriptWorker:()=>pe,setupJavaScript:()=>de,setupTypeScript:()=>ce});var v=y(15861),se=y(3597),ie=y(41417),E=Object.defineProperty,ne=Object.getOwnPropertyDescriptor,oe=Object.getOwnPropertyNames,ae=Object.prototype.hasOwnProperty,R=(e,t,r,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of oe(t))!ae.call(e,n)&&n!==r&&E(e,n,{get:()=>t[n],enumerable:!(s=ne(t,n))||s.enumerable});return e},m=(e,t,r)=>(((e,t,r)=>{t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r),i={};R(i,se,"default");var H=class{constructor(e,t){x(this,"_configChangeListener"),x(this,"_updateExtraLibsToken"),x(this,"_extraLibsChangeListener"),x(this,"_worker"),x(this,"_client"),this._modeId=e,this._defaults=t,this._worker=null,this._client=null,this._configChangeListener=this._defaults.onDidChange(()=>this._stopWorker()),this._updateExtraLibsToken=0,this._extraLibsChangeListener=this._defaults.onDidExtraLibsChange(()=>this._updateExtraLibs())}dispose(){this._configChangeListener.dispose(),this._extraLibsChangeListener.dispose(),this._stopWorker()}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}_updateExtraLibs(){var e=this;return(0,v.Z)(function*(){if(!e._worker)return;const t=++e._updateExtraLibsToken,r=yield e._worker.getProxy();e._updateExtraLibsToken===t&&r.updateExtraLibs(e._defaults.getExtraLibs())})()}_getClient(){var e=this;return this._client||(this._client=(0,v.Z)(function*(){return e._worker=i.editor.createWebWorker({moduleId:"vs/language/typescript/tsWorker",label:e._modeId,keepIdleModels:!0,createData:{compilerOptions:e._defaults.getCompilerOptions(),extraLibs:e._defaults.getExtraLibs(),customWorkerPath:e._defaults.workerOptions.customWorkerPath,inlayHintsOptions:e._defaults.inlayHintsOptions}}),e._defaults.getEagerModelSync()?yield e._worker.withSyncedResources(i.editor.getModels().filter(t=>t.getLanguageId()===e._modeId).map(t=>t.uri)):yield e._worker.getProxy()})()),this._client}getLanguageServiceWorker(...e){var t=this;return(0,v.Z)(function*(){const r=yield t._getClient();return t._worker&&(yield t._worker.withSyncedResources(e)),r})()}},a={};function O(e,t,r=0){if("string"==typeof e)return e;if(void 0===e)return"";let s="";if(r){s+=t;for(let n=0;n<r;n++)s+="  "}if(s+=e.messageText,r++,e.next)for(const n of e.next)s+=O(n,t,r);return s}function C(e){return e?e.map(t=>t.text).join(""):""}a["lib.d.ts"]=!0,a["lib.dom.d.ts"]=!0,a["lib.dom.iterable.d.ts"]=!0,a["lib.es2015.collection.d.ts"]=!0,a["lib.es2015.core.d.ts"]=!0,a["lib.es2015.d.ts"]=!0,a["lib.es2015.generator.d.ts"]=!0,a["lib.es2015.iterable.d.ts"]=!0,a["lib.es2015.promise.d.ts"]=!0,a["lib.es2015.proxy.d.ts"]=!0,a["lib.es2015.reflect.d.ts"]=!0,a["lib.es2015.symbol.d.ts"]=!0,a["lib.es2015.symbol.wellknown.d.ts"]=!0,a["lib.es2016.array.include.d.ts"]=!0,a["lib.es2016.d.ts"]=!0,a["lib.es2016.full.d.ts"]=!0,a["lib.es2017.d.ts"]=!0,a["lib.es2017.full.d.ts"]=!0,a["lib.es2017.intl.d.ts"]=!0,a["lib.es2017.object.d.ts"]=!0,a["lib.es2017.sharedmemory.d.ts"]=!0,a["lib.es2017.string.d.ts"]=!0,a["lib.es2017.typedarrays.d.ts"]=!0,a["lib.es2018.asyncgenerator.d.ts"]=!0,a["lib.es2018.asynciterable.d.ts"]=!0,a["lib.es2018.d.ts"]=!0,a["lib.es2018.full.d.ts"]=!0,a["lib.es2018.intl.d.ts"]=!0,a["lib.es2018.promise.d.ts"]=!0,a["lib.es2018.regexp.d.ts"]=!0,a["lib.es2019.array.d.ts"]=!0,a["lib.es2019.d.ts"]=!0,a["lib.es2019.full.d.ts"]=!0,a["lib.es2019.object.d.ts"]=!0,a["lib.es2019.string.d.ts"]=!0,a["lib.es2019.symbol.d.ts"]=!0,a["lib.es2020.bigint.d.ts"]=!0,a["lib.es2020.d.ts"]=!0,a["lib.es2020.full.d.ts"]=!0,a["lib.es2020.intl.d.ts"]=!0,a["lib.es2020.promise.d.ts"]=!0,a["lib.es2020.sharedmemory.d.ts"]=!0,a["lib.es2020.string.d.ts"]=!0,a["lib.es2020.symbol.wellknown.d.ts"]=!0,a["lib.es2021.d.ts"]=!0,a["lib.es2021.full.d.ts"]=!0,a["lib.es2021.intl.d.ts"]=!0,a["lib.es2021.promise.d.ts"]=!0,a["lib.es2021.string.d.ts"]=!0,a["lib.es2021.weakref.d.ts"]=!0,a["lib.es5.d.ts"]=!0,a["lib.es6.d.ts"]=!0,a["lib.esnext.d.ts"]=!0,a["lib.esnext.full.d.ts"]=!0,a["lib.esnext.intl.d.ts"]=!0,a["lib.esnext.promise.d.ts"]=!0,a["lib.esnext.string.d.ts"]=!0,a["lib.esnext.weakref.d.ts"]=!0,a["lib.scripthost.d.ts"]=!0,a["lib.webworker.d.ts"]=!0,a["lib.webworker.importscripts.d.ts"]=!0,a["lib.webworker.iterable.d.ts"]=!0;var w=class{constructor(e){this._worker=e}_textSpanToRange(e,t){let r=e.getPositionAt(t.start),s=e.getPositionAt(t.start+t.length),{lineNumber:n,column:c}=r,{lineNumber:g,column:d}=s;return{startLineNumber:n,startColumn:c,endLineNumber:g,endColumn:d}}},W=class{constructor(e){x(this,"_libFiles"),x(this,"_hasFetchedLibFiles"),x(this,"_fetchLibFilesPromise"),this._worker=e,this._libFiles={},this._hasFetchedLibFiles=!1,this._fetchLibFilesPromise=null}isLibFile(e){return!(!e||0!==e.path.indexOf("/lib.")||!a[e.path.slice(1)])}getOrCreateModel(e){const t=i.Uri.parse(e),r=i.editor.getModel(t);if(r)return r;if(this.isLibFile(t)&&this._hasFetchedLibFiles)return i.editor.createModel(this._libFiles[t.path.slice(1)],"typescript",t);const s=ie.typescriptDefaults.getExtraLibs()[e];return s?i.editor.createModel(s.content,"typescript",t):null}_containsLibFile(e){for(let t of e)if(this.isLibFile(t))return!0;return!1}fetchLibFilesIfNecessary(e){var t=this;return(0,v.Z)(function*(){!t._containsLibFile(e)||(yield t._fetchLibFiles())})()}_fetchLibFiles(){return this._fetchLibFilesPromise||(this._fetchLibFilesPromise=this._worker().then(e=>e.getLibFiles()).then(e=>{this._hasFetchedLibFiles=!0,this._libFiles=e})),this._fetchLibFilesPromise}},V=class extends w{constructor(t,r,s,n){super(n),x(this,"_disposables",[]),x(this,"_listener",Object.create(null)),this._libFiles=t,this._defaults=r,this._selector=s;const c=o=>{if(o.getLanguageId()!==s)return;const u=()=>{const{onlyVisible:h}=this._defaults.getDiagnosticsOptions();h?o.isAttachedToEditor()&&this._doValidate(o):this._doValidate(o)};let f;const p=o.onDidChangeContent(()=>{clearTimeout(f),f=window.setTimeout(u,500)}),b=o.onDidChangeAttached(()=>{const{onlyVisible:h}=this._defaults.getDiagnosticsOptions();h&&(o.isAttachedToEditor()?u():i.editor.setModelMarkers(o,this._selector,[]))});this._listener[o.uri.toString()]={dispose(){p.dispose(),b.dispose(),clearTimeout(f)}},u()},g=o=>{i.editor.setModelMarkers(o,this._selector,[]);const u=o.uri.toString();this._listener[u]&&(this._listener[u].dispose(),delete this._listener[u])};this._disposables.push(i.editor.onDidCreateModel(o=>c(o))),this._disposables.push(i.editor.onWillDisposeModel(g)),this._disposables.push(i.editor.onDidChangeModelLanguage(o=>{g(o.model),c(o.model)})),this._disposables.push({dispose(){for(const o of i.editor.getModels())g(o)}});const d=()=>{for(const o of i.editor.getModels())g(o),c(o)};this._disposables.push(this._defaults.onDidChange(d)),this._disposables.push(this._defaults.onDidExtraLibsChange(d)),i.editor.getModels().forEach(o=>c(o))}dispose(){this._disposables.forEach(t=>t&&t.dispose()),this._disposables=[]}_doValidate(t){var r=this;return(0,v.Z)(function*(){const s=yield r._worker(t.uri);if(t.isDisposed())return;const n=[],{noSyntaxValidation:c,noSemanticValidation:g,noSuggestionDiagnostics:d}=r._defaults.getDiagnosticsOptions();c||n.push(s.getSyntacticDiagnostics(t.uri.toString())),g||n.push(s.getSemanticDiagnostics(t.uri.toString())),d||n.push(s.getSuggestionDiagnostics(t.uri.toString()));const o=yield Promise.all(n);if(!o||t.isDisposed())return;const u=o.reduce((p,b)=>b.concat(p),[]).filter(p=>-1===(r._defaults.getDiagnosticsOptions().diagnosticCodesToIgnore||[]).indexOf(p.code)),f=u.map(p=>p.relatedInformation||[]).reduce((p,b)=>b.concat(p),[]).map(p=>p.file?i.Uri.parse(p.file.fileName):null);yield r._libFiles.fetchLibFilesIfNecessary(f),!t.isDisposed()&&i.editor.setModelMarkers(t,r._selector,u.map(p=>r._convertDiagnostics(t,p)))})()}_convertDiagnostics(t,r){const s=r.start||0,n=r.length||1,{lineNumber:c,column:g}=t.getPositionAt(s),{lineNumber:d,column:o}=t.getPositionAt(s+n),u=[];return r.reportsUnnecessary&&u.push(i.MarkerTag.Unnecessary),r.reportsDeprecated&&u.push(i.MarkerTag.Deprecated),{severity:this._tsDiagnosticCategoryToMarkerSeverity(r.category),startLineNumber:c,startColumn:g,endLineNumber:d,endColumn:o,message:O(r.messageText,"\n"),code:r.code.toString(),tags:u,relatedInformation:this._convertRelatedInformation(t,r.relatedInformation)}}_convertRelatedInformation(t,r){if(!r)return[];const s=[];return r.forEach(n=>{let c=t;if(n.file&&(c=this._libFiles.getOrCreateModel(n.file.fileName)),!c)return;const g=n.start||0,d=n.length||1,{lineNumber:o,column:u}=c.getPositionAt(g),{lineNumber:f,column:p}=c.getPositionAt(g+d);s.push({resource:c.uri,startLineNumber:o,startColumn:u,endLineNumber:f,endColumn:p,message:O(n.messageText,"\n")})}),s}_tsDiagnosticCategoryToMarkerSeverity(t){switch(t){case 1:return i.MarkerSeverity.Error;case 3:return i.MarkerSeverity.Info;case 0:return i.MarkerSeverity.Warning;case 2:return i.MarkerSeverity.Hint}return i.MarkerSeverity.Info}},F=class extends w{get triggerCharacters(){return["."]}provideCompletionItems(e,t,r,s){var n=this;return(0,v.Z)(function*(){const c=e.getWordUntilPosition(t),g=new i.Range(t.lineNumber,c.startColumn,t.lineNumber,c.endColumn),d=e.uri,o=e.getOffsetAt(t),u=yield n._worker(d);if(e.isDisposed())return;const f=yield u.getCompletionsAtPosition(d.toString(),o);return!f||e.isDisposed()?void 0:{suggestions:f.entries.map(b=>{var P;let h=g;if(b.replacementSpan){const T=e.getPositionAt(b.replacementSpan.start),L=e.getPositionAt(b.replacementSpan.start+b.replacementSpan.length);h=new i.Range(T.lineNumber,T.column,L.lineNumber,L.column)}const D=[];return-1!==(null==(P=b.kindModifiers)?void 0:P.indexOf("deprecated"))&&D.push(i.languages.CompletionItemTag.Deprecated),{uri:d,position:t,offset:o,range:h,label:b.name,insertText:b.name,sortText:b.sortText,kind:F.convertKind(b.kind),tags:D}})}})()}resolveCompletionItem(e,t){var r=this;return(0,v.Z)(function*(){const s=e,n=s.uri,c=s.position,g=s.offset,o=yield(yield r._worker(n)).getCompletionEntryDetails(n.toString(),g,s.label);return o?{uri:n,position:c,label:o.name,kind:F.convertKind(o.kind),detail:C(o.displayParts),documentation:{value:F.createDocumentationString(o)}}:s})()}static convertKind(e){switch(e){case l.primitiveType:case l.keyword:return i.languages.CompletionItemKind.Keyword;case l.variable:case l.localVariable:return i.languages.CompletionItemKind.Variable;case l.memberVariable:case l.memberGetAccessor:case l.memberSetAccessor:return i.languages.CompletionItemKind.Field;case l.function:case l.memberFunction:case l.constructSignature:case l.callSignature:case l.indexSignature:return i.languages.CompletionItemKind.Function;case l.enum:return i.languages.CompletionItemKind.Enum;case l.module:return i.languages.CompletionItemKind.Module;case l.class:return i.languages.CompletionItemKind.Class;case l.interface:return i.languages.CompletionItemKind.Interface;case l.warning:return i.languages.CompletionItemKind.File}return i.languages.CompletionItemKind.Property}static createDocumentationString(e){let t=C(e.documentation);if(e.tags)for(const r of e.tags)t+=`\n\n${Z(r)}`;return t}};function Z(e){let t=`*@${e.name}*`;if("param"===e.name&&e.text){const[r,...s]=e.text;t+=`\`${r.text}\``,s.length>0&&(t+=` \u2014 ${s.map(n=>n.text).join(" ")}`)}else Array.isArray(e.text)?t+=` \u2014 ${e.text.map(r=>r.text).join(" ")}`:e.text&&(t+=` \u2014 ${e.text}`);return t}var I=class extends w{constructor(){super(...arguments),x(this,"signatureHelpTriggerCharacters",["(",","])}static _toSignatureHelpTriggerReason(t){switch(t.triggerKind){case i.languages.SignatureHelpTriggerKind.TriggerCharacter:return t.triggerCharacter?t.isRetrigger?{kind:"retrigger",triggerCharacter:t.triggerCharacter}:{kind:"characterTyped",triggerCharacter:t.triggerCharacter}:{kind:"invoked"};case i.languages.SignatureHelpTriggerKind.ContentChange:return t.isRetrigger?{kind:"retrigger"}:{kind:"invoked"};default:return{kind:"invoked"}}}provideSignatureHelp(t,r,s,n){var c=this;return(0,v.Z)(function*(){const g=t.uri,d=t.getOffsetAt(r),o=yield c._worker(g);if(t.isDisposed())return;const u=yield o.getSignatureHelpItems(g.toString(),d,{triggerReason:I._toSignatureHelpTriggerReason(n)});if(!u||t.isDisposed())return;const f={activeSignature:u.selectedItemIndex,activeParameter:u.argumentIndex,signatures:[]};return u.items.forEach(p=>{const b={label:"",parameters:[]};b.documentation={value:C(p.documentation)},b.label+=C(p.prefixDisplayParts),p.parameters.forEach((h,D,P)=>{const T=C(h.displayParts),L={label:T,documentation:{value:C(h.documentation)}};b.label+=T,b.parameters.push(L),D<P.length-1&&(b.label+=C(p.separatorDisplayParts))}),b.label+=C(p.suffixDisplayParts),f.signatures.push(b)}),{value:f,dispose(){}}})()}},j=class extends w{provideHover(e,t,r){var s=this;return(0,v.Z)(function*(){const n=e.uri,c=e.getOffsetAt(t),g=yield s._worker(n);if(e.isDisposed())return;const d=yield g.getQuickInfoAtPosition(n.toString(),c);if(!d||e.isDisposed())return;const o=C(d.documentation),u=d.tags?d.tags.map(p=>Z(p)).join("  \n\n"):"",f=C(d.displayParts);return{range:s._textSpanToRange(e,d.textSpan),contents:[{value:"```typescript\n"+f+"\n```\n"},{value:o+(u?"\n\n"+u:"")}]}})()}},B=class extends w{provideDocumentHighlights(e,t,r){var s=this;return(0,v.Z)(function*(){const n=e.uri,c=e.getOffsetAt(t),g=yield s._worker(n);if(e.isDisposed())return;const d=yield g.getOccurrencesAtPosition(n.toString(),c);return d&&!e.isDisposed()?d.map(o=>({range:s._textSpanToRange(e,o.textSpan),kind:o.isWriteAccess?i.languages.DocumentHighlightKind.Write:i.languages.DocumentHighlightKind.Text})):void 0})()}},U=class extends w{constructor(e,t){super(t),this._libFiles=e}provideDefinition(e,t,r){var s=this;return(0,v.Z)(function*(){const n=e.uri,c=e.getOffsetAt(t),g=yield s._worker(n);if(e.isDisposed())return;const d=yield g.getDefinitionAtPosition(n.toString(),c);if(!d||e.isDisposed()||(yield s._libFiles.fetchLibFilesIfNecessary(d.map(u=>i.Uri.parse(u.fileName))),e.isDisposed()))return;const o=[];for(let u of d){const f=s._libFiles.getOrCreateModel(u.fileName);f&&o.push({uri:f.uri,range:s._textSpanToRange(f,u.textSpan)})}return o})()}},$=class extends w{constructor(e,t){super(t),this._libFiles=e}provideReferences(e,t,r,s){var n=this;return(0,v.Z)(function*(){const c=e.uri,g=e.getOffsetAt(t),d=yield n._worker(c);if(e.isDisposed())return;const o=yield d.getReferencesAtPosition(c.toString(),g);if(!o||e.isDisposed()||(yield n._libFiles.fetchLibFilesIfNecessary(o.map(f=>i.Uri.parse(f.fileName))),e.isDisposed()))return;const u=[];for(let f of o){const p=n._libFiles.getOrCreateModel(f.fileName);p&&u.push({uri:p.uri,range:n._textSpanToRange(p,f.textSpan)})}return u})()}},z=class extends w{provideDocumentSymbols(e,t){var r=this;return(0,v.Z)(function*(){const s=e.uri,n=yield r._worker(s);if(e.isDisposed())return;const c=yield n.getNavigationBarItems(s.toString());if(!c||e.isDisposed())return;const g=(o,u,f)=>{let p={name:u.text,detail:"",kind:S[u.kind]||i.languages.SymbolKind.Variable,range:r._textSpanToRange(e,u.spans[0]),selectionRange:r._textSpanToRange(e,u.spans[0]),tags:[]};if(f&&(p.containerName=f),u.childItems&&u.childItems.length>0)for(let b of u.childItems)g(o,b,p.name);o.push(p)};let d=[];return c.forEach(o=>g(d,o)),d})()}},l=class{};m(l,"unknown",""),m(l,"keyword","keyword"),m(l,"script","script"),m(l,"module","module"),m(l,"class","class"),m(l,"interface","interface"),m(l,"type","type"),m(l,"enum","enum"),m(l,"variable","var"),m(l,"localVariable","local var"),m(l,"function","function"),m(l,"localFunction","local function"),m(l,"memberFunction","method"),m(l,"memberGetAccessor","getter"),m(l,"memberSetAccessor","setter"),m(l,"memberVariable","property"),m(l,"constructorImplementation","constructor"),m(l,"callSignature","call"),m(l,"indexSignature","index"),m(l,"constructSignature","construct"),m(l,"parameter","parameter"),m(l,"typeParameter","type parameter"),m(l,"primitiveType","primitive type"),m(l,"label","label"),m(l,"alias","alias"),m(l,"const","const"),m(l,"let","let"),m(l,"warning","warning");var S=Object.create(null);S[l.module]=i.languages.SymbolKind.Module,S[l.class]=i.languages.SymbolKind.Class,S[l.enum]=i.languages.SymbolKind.Enum,S[l.interface]=i.languages.SymbolKind.Interface,S[l.memberFunction]=i.languages.SymbolKind.Method,S[l.memberVariable]=i.languages.SymbolKind.Property,S[l.memberGetAccessor]=i.languages.SymbolKind.Property,S[l.memberSetAccessor]=i.languages.SymbolKind.Property,S[l.variable]=i.languages.SymbolKind.Variable,S[l.const]=i.languages.SymbolKind.Variable,S[l.localVariable]=i.languages.SymbolKind.Variable,S[l.variable]=i.languages.SymbolKind.Variable,S[l.function]=i.languages.SymbolKind.Function,S[l.localFunction]=i.languages.SymbolKind.Function;var M,N,A=class extends w{static _convertOptions(e){return{ConvertTabsToSpaces:e.insertSpaces,TabSize:e.tabSize,IndentSize:e.tabSize,IndentStyle:2,NewLineCharacter:"\n",InsertSpaceAfterCommaDelimiter:!0,InsertSpaceAfterSemicolonInForStatements:!0,InsertSpaceBeforeAndAfterBinaryOperators:!0,InsertSpaceAfterKeywordsInControlFlowStatements:!0,InsertSpaceAfterFunctionKeywordForAnonymousFunctions:!0,InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis:!1,InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets:!1,InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces:!1,PlaceOpenBraceOnNewLineForControlBlocks:!1,PlaceOpenBraceOnNewLineForFunctions:!1}}_convertTextChanges(e,t){return{text:t.newText,range:this._textSpanToRange(e,t.span)}}},J=class extends A{provideDocumentRangeFormattingEdits(e,t,r,s){var n=this;return(0,v.Z)(function*(){const c=e.uri,g=e.getOffsetAt({lineNumber:t.startLineNumber,column:t.startColumn}),d=e.getOffsetAt({lineNumber:t.endLineNumber,column:t.endColumn}),o=yield n._worker(c);if(e.isDisposed())return;const u=yield o.getFormattingEditsForRange(c.toString(),g,d,A._convertOptions(r));return u&&!e.isDisposed()?u.map(f=>n._convertTextChanges(e,f)):void 0})()}},G=class extends A{get autoFormatTriggerCharacters(){return[";","}","\n"]}provideOnTypeFormattingEdits(e,t,r,s,n){var c=this;return(0,v.Z)(function*(){const g=e.uri,d=e.getOffsetAt(t),o=yield c._worker(g);if(e.isDisposed())return;const u=yield o.getFormattingEditsAfterKeystroke(g.toString(),d,r,A._convertOptions(s));return u&&!e.isDisposed()?u.map(f=>c._convertTextChanges(e,f)):void 0})()}},Q=class extends A{provideCodeActions(e,t,r,s){var n=this;return(0,v.Z)(function*(){const c=e.uri,g=e.getOffsetAt({lineNumber:t.startLineNumber,column:t.startColumn}),d=e.getOffsetAt({lineNumber:t.endLineNumber,column:t.endColumn}),o=A._convertOptions(e.getOptions()),u=r.markers.filter(h=>h.code).map(h=>h.code).map(Number),f=yield n._worker(c);if(e.isDisposed())return;const p=yield f.getCodeFixesAtPosition(c.toString(),g,d,u,o);return!p||e.isDisposed()?{actions:[],dispose:()=>{}}:{actions:p.filter(h=>0===h.changes.filter(D=>D.isNewFile).length).map(h=>n._tsCodeFixActionToMonacoCodeAction(e,r,h)),dispose:()=>{}}})()}_tsCodeFixActionToMonacoCodeAction(e,t,r){const s=[];for(const c of r.changes)for(const g of c.textChanges)s.push({resource:e.uri,versionId:void 0,textEdit:{range:this._textSpanToRange(e,g.span),text:g.newText}});return{title:r.description,edit:{edits:s},diagnostics:t.markers,kind:"quickfix"}}},X=class extends w{constructor(e,t){super(t),this._libFiles=e}provideRenameEdits(e,t,r,s){var n=this;return(0,v.Z)(function*(){const c=e.uri,g=c.toString(),d=e.getOffsetAt(t),o=yield n._worker(c);if(e.isDisposed())return;const u=yield o.getRenameInfo(g,d,{allowRenameOfImportPath:!1});if(!1===u.canRename)return{edits:[],rejectReason:u.localizedErrorMessage};if(void 0!==u.fileToRename)throw new Error("Renaming files is not supported.");const f=yield o.findRenameLocations(g,d,!1,!1,!1);if(!f||e.isDisposed())return;const p=[];for(const b of f){const h=n._libFiles.getOrCreateModel(b.fileName);if(!h)throw new Error(`Unknown file ${b.fileName}.`);p.push({resource:h.uri,versionId:void 0,textEdit:{range:n._textSpanToRange(h,b.textSpan),text:r}})}return{edits:p}})()}},Y=class extends w{provideInlayHints(e,t,r){var s=this;return(0,v.Z)(function*(){const n=e.uri,c=n.toString(),g=e.getOffsetAt({lineNumber:t.startLineNumber,column:t.startColumn}),d=e.getOffsetAt({lineNumber:t.endLineNumber,column:t.endColumn}),o=yield s._worker(n);return e.isDisposed()?null:{hints:(yield o.provideInlayHints(c,g,d)).map(p=>re(te({},p),{label:p.text,position:e.getPositionAt(p.position),kind:s._convertHintKind(p.kind)})),dispose:()=>{}}})()}_convertHintKind(e){return"Parameter"===e?i.languages.InlayHintKind.Parameter:i.languages.InlayHintKind.Type}};function ce(e){N=q(e,"typescript")}function de(e){M=q(e,"javascript")}function ge(){return new Promise((e,t)=>{if(!M)return t("JavaScript not registered!");e(M)})}function pe(){return new Promise((e,t)=>{if(!N)return t("TypeScript not registered!");e(N)})}function q(e,t){const r=new H(t,e),s=(...c)=>r.getLanguageServiceWorker(...c),n=new W(s);return i.languages.registerCompletionItemProvider(t,new F(s)),i.languages.registerSignatureHelpProvider(t,new I(s)),i.languages.registerHoverProvider(t,new j(s)),i.languages.registerDocumentHighlightProvider(t,new B(s)),i.languages.registerDefinitionProvider(t,new U(n,s)),i.languages.registerReferenceProvider(t,new $(n,s)),i.languages.registerDocumentSymbolProvider(t,new z(s)),i.languages.registerDocumentRangeFormattingEditProvider(t,new J(s)),i.languages.registerOnTypeFormattingEditProvider(t,new G(s)),i.languages.registerCodeActionProvider(t,new Q(s)),i.languages.registerRenameProvider(t,new X(n,s)),i.languages.registerInlayHintsProvider(t,new Y(s)),new V(n,e,t,s),s}}}]);