<div flex>
  <md-chip-list>
    <ng-template let-chip ngFor [ngForOf]="value">
      <md-basic-chip>
        <span>{{chip}}</span>
        <md-icon *ngIf="!readOnly"
                [tabIndex]="0" 
                (keydown.enter)="removeItem(chip)" 
                (click)="removeItem(chip)">
            cancel
        </md-icon>
      </md-basic-chip>
    </ng-template>
    <md-input-container [dividerColor]="matches ? 'primary' : 'warn'">
      <input mdInput
              flex="100" 
              #input
              [mdAutocomplete]="autocomplete"
              [formControl]="inputControl"
              [placeholder]="readOnly? '' : placeholder"
              [readonly]="readOnly"
              (keyup.enter)="(matches = addItem(input.value)) && input.value = ''"
              (focus)="handleFocus()"
              (blur)="handleBlur()">
    </md-input-container>
    <md-autocomplete #autocomplete="mdAutocomplete">
      <ng-template let-item ngFor [ngForOf]="filteredItems | async">
        <md-option (click)="matches = addItem(input.value); input.value = ''" [value]="item">{{item}}</md-option>
      </ng-template>
    </md-autocomplete>
  </md-chip-list>
  <div class="mat-input-underline"
       [class.mat-disabled]="readOnly">
    <span class="mat-input-ripple"
          [class.mat-focused]="focused"
          [class.mat-warn]="!matches"></span>
  </div>
</div>
