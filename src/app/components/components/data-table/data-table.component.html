<md-card>
  <md-card-title>Data Table</md-card-title>
  <md-card-subtitle>Display sets of raw data</md-card-subtitle>
  <md-divider></md-divider>
  <md-card-content>
    <h3 class="md-title">Custom Data Table</h3>
    <h4 class="md-subhead">with custom headings, columns, and inline editing</h4>
    <md-divider></md-divider>
    <div class="md-table-container">
      <table td-data-table>
        <th td-data-table-column>
          <md-icon>comment</md-icon>
          <span>Comments</span>
        </th>
        <th td-data-table-column 
            *ngFor="let column of columns"
            [numeric]="column.numeric">
          {{column.label}}
        </th>
        <tr td-data-table-row *ngFor="let row of basicData">
          <td td-data-table-cell (click)="openPrompt(row, 'comments')">
            <button md-button [class.md-accent]="!row['comments']">{{row['comments'] || 'Add Comment'}}</button>
          </td>
          <td td-data-table-cell *ngFor="let column of columns" [numeric]="column.numeric">
            {{row[column.name]}}
          </td>
        </tr>
      </table>
    </div>
  </md-card-content>
  <md-card-content>
    <h3 class="md-title">Basic Demo</h3>
    <md-divider></md-divider>
    <td-data-table
      [data]="basicData"
      [columns]="columns"
      [selectable]="selectable"
      [multiple]="multiple">
    </td-data-table>
  </md-card-content>
  <md-card-content>
    <h3 class="md-title">Table with components</h3>
    <h4 class="md-subhead">Paging Bar / Search Box / Sortable components</h4>
    <md-divider></md-divider>
    <div layout="row" layout-align="start center" class="pad-left-sm pad-right-sm" [class.md-selected-title]="selectedRows.length && selectable">
      <span *ngIf="!searchBox.searchVisible" class="push-left-sm">
        <span *ngIf="(selectable && !selectedRows.length) || !selectable" class="md-title">Title here</span>
        <span *ngIf="selectedRows.length && selectable" class="md-body-1">{{selectedRows.length}} item(s) selected</span>
      </span>
      <td-search-box #searchBox backIcon="arrow_back" class="push-right-sm" placeholder="Search here" (searchDebounce)="search($event)" flex>
      </td-search-box>
      <button md-icon-button>
        <md-icon>more_vert</md-icon>
      </button>
    </div>
    <md-divider></md-divider>
    <td-data-table
      [data]="filteredData"
      [columns]="columns"
      [selectable]="selectable"
      [multiple]="multiple"
      [sortable]="true"
      [sortBy]="sortBy"
      [(ngModel)]="selectedRows"
      [sortOrder]="sortOrder"
      (sortChange)="sort($event)">
    </td-data-table>
    <td-paging-bar [pageSizes]="[5, 10, 15, 20]" [total]="filteredTotal" (change)="page($event)"></td-paging-bar>
  </md-card-content>
  <md-divider></md-divider>
  <md-card-actions>
    <button md-button color="primary" (click)="toggleSelectable()">
      Toggle Selectable
      ({{selectable ? 'ON' : 'OFF'}})
    </button>
    <button md-button color="primary" (click)="toggleMultiple()" [disabled]="!selectable">
      Toggle Multiple Selection
      ({{multiple ? 'ON' : 'OFF'}})
    </button>
    <button md-button color="primary" (click)="toggleTooltips()">
      Toggle Tooltip
      ({{areTooltipsOn() ? 'ON' : 'OFF'}})
    </button>
  </md-card-actions>
</md-card>
<md-card>
  <md-card-title>TdDataTableComponent</md-card-title>
  <md-card-subtitle>How to use this component</md-card-subtitle>
  <md-divider></md-divider>
  <md-card-content>
    <h2><code><![CDATA[<td-data-table>]]></code></h2>
    <p>Use <code><![CDATA[<td-data-table>]]></code> element to generate a table.</p>
    <p>Pass an array of javascript objects with the information to be displayed on the table to the [data] attribute.</p>
    <h3>Properties:</h3>
    <p>The <code><![CDATA[<td-data-table>]]></code> component has {{dataTableAttrs.length}} properties:</p>
    <md-list>
      <template let-attr let-last="attr" ngFor [ngForOf]="dataTableAttrs">
        <a md-list-item layout-align="row">
          <h3 md-line> {{attr.name}}: <span>{{attr.type}}</span></h3>
          <p md-line> {{attr.description}} </p>
        </a>
        <md-divider *ngIf="!last"></md-divider>
      </template>
    </md-list>
    <h3>Example:</h3>
    <p>HTML:</p>
    <td-highlight lang="html">
      <![CDATA[
        <td-data-table
          [data]="data"
          [columns]="columns"
          [selectable]="true|false"
          [multiple]="true|false"
          [sortable]="true|false"
          [sortBy]="sortBy"
          [sortOrder]="'ASC'|'DESC'"
          (sortChange)="sortEvent($event)">
        </td-data-table>
      ]]>
    </td-highlight>
    <p>Typescript:</p>
    <td-highlight lang="typescript">
      <![CDATA[
        ...
        })
        export class Demo {
          private data: any[] = [
            { sku: '1452-2', item: 'Pork Chops', price: 32.11 },
            { sku: '1421-0', item: 'Prime Rib', price: 41.15 },
          ];
          private columns: any[] = [
            { name: 'sku', label: 'SKU #', tooltip: 'Stock Keeping Unit' },
            { name: 'item', label: 'Item name' },
            { name: 'price', label 'Price (US$)', numeric: true, format: v => v.toFixed(2) },
          ];
        }
      ]]>
    </td-highlight>
    <h3>Setup:</h3>
    <p>Import the [CovalentDataTableModule] using the <code>forRoot()</code> method in your NgModule:</p>
    <td-highlight lang="typescript">
      <![CDATA[
        import { CovalentDataTableModule } from '@covalent/data-table';
        @NgModule({
          imports: [
            CovalentDataTableModule.forRoot(),
            ...
          ],
          ...
        })
        export class MyModule {}
      ]]>
    </td-highlight>
  </md-card-content>
</md-card>
