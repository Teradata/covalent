<mat-card>
  <mat-card-title>Loading</mat-card-title>
  <mat-card-subtitle>Circular or linear progress loader</mat-card-subtitle>
  <mat-divider></mat-divider>
  <mat-card-content>
    <h3 class="mat-title">[tdLoading] directive with (*) syntax</h3>
    <h4 class="mat-subheading-2">with indetederminate [tdLoadingMode], circular [tdLoadingType], overlay [tdLoadingStrategy], accent [tdLoadingColor]</h4>
    <mat-tab-group mat-stretch-tabs dynamicHeight>
      <mat-tab>
        <ng-template matTabLabel>Demo</ng-template>
        <div *tdLoading="'overlayStarSyntax'; mode:'indeterminate'; type:'circle'; strategy:'overlay'; color:'accent'">
          <div layout="row">
            <mat-form-field flex>
              <input matInput [(ngModel)]="overlayDemo.name" placeholder="Name"/>
            </mat-form-field>
          </div>
          <div layout="row">
            <mat-form-field flex>
              <textarea matInput [(ngModel)]="overlayDemo.description" placeholder="Description" rows="4"></textarea>
            </mat-form-field>
          </div>
        </div>
        <div layout="row">
          <button mat-button color="primary" (click)="toggleOverlayStarSyntax()" class="text-upper">Toggle Loader</button>
        </div>
      </mat-tab>
      <mat-tab>
        <ng-template matTabLabel>Code</ng-template>
        <p>HTML:</p>
        <td-highlight lang="html">
          <![CDATA[
            <div *tdLoading="'overlayStarSyntax'; mode:'indeterminate'; type:'circle'; strategy:'overlay'; color:'accent'">
              <div layout="row">
                <mat-form-field flex>
                  <input matInput [(ngModel)]="overlayDemo.name" placeholder="Name"/>
                </mat-form-field>
              </div>
              <div layout="row">
                <mat-form-field flex>
                  <textarea matInput [(ngModel)]="overlayDemo.description" placeholder="Description" rows="4"></textarea>
                </mat-form-field>
              </div>
            </div>
            <div layout="row">
              <button mat-button color="primary" (click)="toggleOverlayStarSyntax()" class="text-upper">Toggle Loader</button>
            </div>
          ]]>
        </td-highlight>
        <p>Typescript:</p>
        <td-highlight lang="typescript">
          <![CDATA[
            import { TdLoadingService } from '@covalent/core/loading';
            ...
            export class Demo implements OnInit {
              overlayStarSyntax: boolean = false;

              overlayDemo: any = {
                name: '',
                description: '',
              };

              constructor(private _loadingService: TdLoadingService) {}

              ngOnInit(): void {
                this._loadingService.register('overlayStarSyntax');
              }

              toggleOverlayStarSyntax(): void {
                if (this.overlayStarSyntax) {
                  this._loadingService.register('overlayStarSyntax');
                } else {
                  this._loadingService.resolve('overlayStarSyntax');
                }
                this.overlayStarSyntax = !this.overlayStarSyntax;
              }
            }
          ]]>
        </td-highlight>
      </mat-tab>
    </mat-tab-group>
  </mat-card-content>
</mat-card>
<mat-card>
  <mat-card-content>
    <h3 class="mat-title">[tdLoading] directive with template syntax</h3>
    <h4 class="mat-subheading-2">with determinate [tdLoadingMode], linear [tdLoadingType], replace [tdLoadingStrategy], warn [tdLoadingColor]</h4>
    <mat-tab-group mat-stretch-tabs dynamicHeight>
      <mat-tab>
        <ng-template matTabLabel>Demo</ng-template>
        <ng-template tdLoading="replaceTemplateSyntax" tdLoadingMode="determinate" tdLoadingType="linear" tdLoadingStrategy="replace" tdLoadingColor="warn">
          <div layout="row">
            <mat-form-field flex>
              <input matInput [(ngModel)]="replaceDemo.name" placeholder="Name"/>
            </mat-form-field>
          </div>
          <div layout="row">
            <mat-form-field flex>
              <textarea matInput [(ngModel)]="replaceDemo.description" placeholder="Description" rows="4"></textarea>
            </mat-form-field>
          </div>
        </ng-template>
        <div layout="row">
          <button mat-button color="primary" [disabled]="replaceTemplateSyntaxDisabled" (click)="toggleReplaceTemplateSyntax()" class="text-upper">Toggle Loader</button>
        </div>
      </mat-tab>
      <mat-tab>
        <ng-template matTabLabel>Code</ng-template>
        <p>HTML:</p>
        <td-highlight lang="html">
          <![CDATA[
            <ng-template tdLoading="replaceTemplateSyntax" tdLoadingMode="determinate" tdLoadingType="linear" tdLoadingStrategy="replace" tdLoadingColor="warn">
              <div layout="row">
                <mat-form-field flex>
                  <input matInput [(ngModel)]="replaceDemo.name" placeholder="Name"/>
                </mat-form-field>
              </div>
              <div layout="row">
                <mat-form-field flex>
                  <textarea matInput [(ngModel)]="replaceDemo.description" placeholder="Description" rows="4"></textarea>
                </mat-form-field>
              </div>
            </ng-template>
            <div layout="row">
              <button mat-button color="primary" (click)="toggleReplaceTemplateSyntax()" class="text-upper">Toggle Loader</button>
            </div>
          ]]>
        </td-highlight>
        <p>Typescript:</p>
        <td-highlight lang="typescript">
          <![CDATA[
            import { TdLoadingService } from '@covalent/core/loading';
            ...
            export class Demo {
              replaceDemo: any = {
                name: '',
                select: '',
                description: '',
              };

              constructor(private _loadingService: TdLoadingService) {}

              toggleReplaceTemplateSyntax(): void {
                this._loadingService.register('replaceTemplateSyntax');
                let value: number = 0;
                let interval: number = setInterval(() => {
                  this._loadingService.setValue('replaceTemplateSyntax', value);
                  value = value + 10;
                  if (value > 100) {
                    clearInterval(interval);
                  }
                }, 250);
                setTimeout(() => {
                  this._loadingService.resolve('replaceTemplateSyntax');
                }, 3000);
              }
            }
          ]]>
        </td-highlight>
      </mat-tab>
    </mat-tab-group>
  </mat-card-content>
</mat-card>
<mat-card>
  <mat-card-content>
    <h3 class="mat-title">[tdLoading] until usage with icons</h3>
    <h4 class="mat-subheading-2">using the template syntax</h4>
    <mat-tab-group mat-stretch-tabs dynamicHeight>
      <mat-tab>
        <ng-template matTabLabel>Demo</ng-template>
        <mat-list>
          <ng-template let-item let-last="last" ngFor [ngForOf]="itemList">
            <mat-list-item>
              <div matListAvatar>
                <ng-template tdLoading [tdLoadingUntil]="!item.value" tdLoadingStrategy="overlay">
                  <mat-icon matListAvatar>
                    settings_backup_restore
                  </mat-icon>
                </ng-template>
              </div>
              <h3 matLine>{{item.label}}</h3>
            </mat-list-item>
            <mat-divider *ngIf="!last"></mat-divider>
          </ng-template>
        </mat-list>
      </mat-tab>
      <mat-tab>
        <ng-template matTabLabel>Code</ng-template>
        <p>HTML:</p>
        <td-highlight lang="html">
          <![CDATA[
            <mat-list>
              <ng-template let-item let-last="last" ngFor [ngForOf]="itemList">
                <mat-list-item>
                  <div matListAvatar>
                    <ng-template tdLoading [tdLoadingUntil]="!item.value" tdLoadingStrategy="overlay">
                      <mat-icon matListAvatar>
                        settings_backup_restore
                      </mat-icon>
                    </ng-template>
                  </div>
                  <h3 matLine>{ {item.label} }</h3>
                </mat-list-item>
                <mat-divider *ngIf="!last"></mat-divider>
              </ng-template>
            </mat-list>
          ]]>
        </td-highlight>
        <p>Typescript:</p>
        <td-highlight lang="typescript">
          <![CDATA[
            ...
            export class Demo {
              items: any[] = [
                {label: 'Light', value: true},
                {label: 'Console', value: false},
                {label: 'T.V.', value: true}];
            }
          ]]>
        </td-highlight>
      </mat-tab>
    </mat-tab-group>
  </mat-card-content>
</mat-card>
<mat-card>
  <mat-card-content>
    <h3 class="mat-title">[tdLoading] until star syntax with variable reference and observables</h3>
    <h4 class="mat-subheading-2">with accent [tdLoadingColor]</h4>
    <mat-tab-group mat-stretch-tabs dynamicHeight>
      <mat-tab>
        <ng-template matTabLabel>Demo</ng-template>
        <div *tdLoading="let items until listObservable | async; color: 'accent'">
          <mat-list>
            <ng-template let-item let-last="last" ngFor [ngForOf]="items">
              <mat-list-item>
                <mat-slide-toggle matLine [checked]="item.value">
                  {{item.label}}
                </mat-slide-toggle>
              </mat-list-item>
              <mat-divider *ngIf="!last"></mat-divider>
            </ng-template>
          </mat-list>
        </div>
        <div layout="row">
          <button mat-button color="primary" [disabled]="listObservableDisabled" (click)="createObservableList()" class="text-upper">Create observable</button>
        </div>
      </mat-tab>
      <mat-tab>
        <ng-template matTabLabel>Code</ng-template>
        <p>HTML:</p>
        <td-highlight lang="html">
          <![CDATA[
            <div *tdLoading="let items until listObservable | async; type: circle; color: accent">
              <mat-list>
                <ng-template let-item let-last="last" ngFor [ngForOf]="items">
                  <mat-list-item>
                    <mat-slide-toggle matLine [checked]="item.value">
                      { {item.label} }
                    </mat-slide-toggle>
                  </mat-list-item>
                  <mat-divider *ngIf="!last"></mat-divider>
                </ng-template>
              </mat-list>
            </div>
            <div layout="row">
              <button mat-button color="primary" (click)="createObservableList()" class="text-upper">Create observable</button>
            </div>
          ]]>
        </td-highlight>
        <p>Typescript:</p>
        <td-highlight lang="typescript">
          <![CDATA[
            import { Observable } from 'rxjs/Observable';
            import { Subscriber } from 'rxjs/Subscriber';
            ...
            export class Demo {
              listObservable: Observable<any[]>;

              createObservableList(): void {
                this.listObservable = new Observable<any[]>((subscriber: Subscriber<any[]>) => {
                  setTimeout(() => {
                    subscriber.next([{label: 'Light', value: true}, {label: 'Console', value: false}, {label: 'T.V.', value: true}]);
                  }, 3000);
                });
              }
            }
          ]]>
        </td-highlight>
      </mat-tab>
    </mat-tab-group>
  </mat-card-content>
</mat-card>
<mat-card>
  <mat-card-content>
    <h3 class="mat-title">[tdLoading] until template syntax with booleans</h3>
    <h4 class="mat-subheading-2">with overlay [tdLoadingStrategy], linear [tdLoadingType]</h4>
    <mat-tab-group mat-stretch-tabs dynamicHeight>
      <mat-tab>
        <ng-template matTabLabel>Demo</ng-template>
        <ng-template tdLoading [tdLoadingUntil]="!loading" tdLoadingStrategy="overlay" tdLoadingType="linear">
          <div layout="row">
            <mat-form-field flex>
              <input matInput [(ngModel)]="untilOverlayDemo.name" placeholder="Name"/>
            </mat-form-field>
          </div>
          <div layout="row">
            <mat-form-field flex>
              <textarea matInput [(ngModel)]="untilOverlayDemo.description" placeholder="Description" rows="4"></textarea>
            </mat-form-field>
          </div>
        </ng-template>
        <div class="pad-sm">
          <mat-slide-toggle [(ngModel)]="loading">Loading Mask</mat-slide-toggle>
        </div>
      </mat-tab>
      <mat-tab>
        <ng-template matTabLabel>Code</ng-template>
        <p>HTML:</p>
        <td-highlight lang="html">
          <![CDATA[
            <ng-template tdLoading [tdLoadingUntil]="!loading" tdLoadingStrategy="overlay" tdLoadingType="linear">
              <div layout="row">
                <mat-form-field flex>
                  <input matInput [(ngModel)]="untilOverlayDemo.name" placeholder="Name"/>
                </mat-form-field>
              </div>
              <div layout="row">
                <mat-form-field flex>
                  <textarea matInput [(ngModel)]="untilOverlayDemo.description" placeholder="Description" rows="4"></textarea>
                </mat-form-field>
              </div>
            </ng-template>
            <div class="pad-sm">
              <mat-slide-toggle [(ngModel)]="loading">Loading Mask</mat-slide-toggle>
            </div>
          ]]>
        </td-highlight>
        <p>Typescript:</p>
        <td-highlight lang="typescript">
          <![CDATA[
            ...
            export class Demo {
              loading: boolean = false;

              untilOverlayDemo: any = {
                name: '',
                description: '',
              };
            }
          ]]>
        </td-highlight>
      </mat-tab>
    </mat-tab-group>
  </mat-card-content>
</mat-card>
<mat-card>
  <mat-card-content>
    <h3 class="mat-title">Preloaded [TdLoading] fullscreen mask</h3>
    <h4 class="mat-subheading-2">with indeterminate [mode], circular [type], primary [color] by default</h4>
    <mat-tab-group mat-stretch-tabs dynamicHeight>
      <mat-tab>
        <ng-template matTabLabel>Demo</ng-template>
        <div layout="row">
          <button mat-button color="primary" (click)="toggleDefaultFullscreenDemo()" class="text-upper">Toggle Loader</button>
        </div>
      </mat-tab>
      <mat-tab>
        <ng-template matTabLabel>Code</ng-template>
        <p>HTML:</p>
        <td-highlight lang="html">
          <![CDATA[
            <div layout="row">
              <button mat-button color="primary" (click)="toggleDefaultFullscreenDemo()" class="text-upper">Toggle Loader</button>
            </div>
          ]]>
        </td-highlight>
        <p>Typescript:</p>
        <td-highlight lang="typescript">
          <![CDATA[
            import { TdLoadingService } from '@covalent/core/loading';
            ...
            export class Demo implements OnInit {
              constructor(private _loadingService: TdLoadingService) {}

              ngOnInit(): void {
                this.toggleDefaultFullscreenDemo();
              }

              toggleDefaultFullscreenDemo(): void {
                this._loadingService.register();
                setTimeout(() => {
                  this._loadingService.resolve();
                }, 1500);
              }
            }
          ]]>
        </td-highlight>
      </mat-tab>
    </mat-tab-group>
  </mat-card-content>
</mat-card>
<mat-card>
  <mat-card-content>
   <h3 class="mat-title">Custom [TdLoading] linear at top of page</h3>
    <h4 class="mat-subheading-2">with indeterminate [mode], linear [type], accent [color]</h4>
    <mat-tab-group mat-stretch-tabs dynamicHeight>
      <mat-tab>
        <ng-template matTabLabel>Demo</ng-template>
        <div layout="row">
          <button mat-button color="primary" (click)="toggleConfigFullscreenDemo()" class="text-upper">Toggle Loader</button>
        </div>
      </mat-tab>
      <mat-tab>
        <ng-template matTabLabel>Code</ng-template>
        <p>HTML:</p>
        <td-highlight lang="html">
          <![CDATA[
            <div layout="row">
              <button mat-button color="primary" (click)="toggleConfigFullscreenDemo()" class="text-upper">Toggle Loader</button>
            </div>
          ]]>
        </td-highlight>
        <p>Typescript:</p>
        <td-highlight lang="typescript">
          <![CDATA[
            import { TdLoadingService } from '@covalent/core/loading';
            ...
            export class Demo {
              constructor(private _loadingService: TdLoadingService) {
                this._loadingService.create({
                  name: 'configFullscreenDemo',
                  mode: LoadingMode.Indeterminate,
                  type: LoadingType.Linear,
                  color: 'accent',
                });
              }

              toggleConfigFullscreenDemo(): void {
                this._loadingService.register('configFullscreenDemo');
                setTimeout(() => {
                  this._loadingService.resolve('configFullscreenDemo');
                }, 1500);
              }
            }
          ]]>
        </td-highlight>
      </mat-tab>
    </mat-tab-group>
  </mat-card-content>
</mat-card>

<td-readme-loader resourceUrl="platform/core/loading/README.md"></td-readme-loader>
