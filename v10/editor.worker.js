(()=>{var Es={833:(Ve,ve,x)=>{"use strict";function s(ie,T,V=(J,re)=>J===re){if(ie===T)return!0;if(!ie||!T||ie.length!==T.length)return!1;for(let J=0,re=ie.length;J<re;J++)if(!V(ie[J],T[J]))return!1;return!0}function*D(ie,T){let V,J;for(const re of ie)void 0!==J&&T(J,re)?V.push(re):(V&&(yield V),V=[re]),J=re;V&&(yield V)}function Z(ie,T){for(let V=0;V<=ie.length;V++)T(0===V?void 0:ie[V-1],V===ie.length?void 0:ie[V])}function H(ie,T){for(let V=0;V<ie.length;V++)T(0===V?void 0:ie[V-1],ie[V],V+1===ie.length?void 0:ie[V+1])}function h(ie,T=V=>V){const V=new Set;return ie.filter(J=>{const re=T(J);return!V.has(re)&&(V.add(re),!0)})}function he(ie,T){return ie.length>0?ie[0]:T}function d(ie,T,V){const J=ie.slice(0,T),re=ie.slice(T);return J.concat(V,re)}function R(ie,T){for(const V of T)ie.push(V)}var W,ie;function S(ie,T){return(V,J)=>T(ie(V),ie(J))}x.d(ve,{E4:()=>R,Fy:()=>he,Hw:()=>oe,U9:()=>G,VE:()=>S,aI:()=>s,c1:()=>K,dM:()=>h,j3:()=>q,kj:()=>H,n:()=>D,nK:()=>d,pN:()=>Z}),(ie=W||(W={})).isLessThan=function T(de){return de<0},ie.isLessThanOrEqual=function V(de){return de<=0},ie.isGreaterThan=function J(de){return de>0},ie.isNeitherLessOrGreaterThan=function re(de){return 0===de},ie.greaterThan=1,ie.lessThan=-1,ie.neitherLessOrGreaterThan=0;const G=(ie,T)=>ie-T;function oe(ie){return(T,V)=>-ie(T,V)}class q{constructor(T){this.items=T,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(T){let V=this.firstIdx;for(;V<this.items.length&&T(this.items[V]);)V++;const J=V===this.firstIdx?null:this.items.slice(this.firstIdx,V);return this.firstIdx=V,J}takeFromEndWhile(T){let V=this.lastIdx;for(;V>=0&&T(this.items[V]);)V--;const J=V===this.lastIdx?null:this.items.slice(V+1,this.lastIdx+1);return this.lastIdx=V,J}peek(){if(0!==this.length)return this.items[this.firstIdx]}dequeue(){const T=this.items[this.firstIdx];return this.firstIdx++,T}takeCount(T){const V=this.items.slice(this.firstIdx,this.firstIdx+T);return this.firstIdx+=T,V}}class K{static{this.empty=new K(T=>{})}constructor(T){this.iterate=T}toArray(){const T=[];return this.iterate(V=>(T.push(V),!0)),T}filter(T){return new K(V=>this.iterate(J=>!T(J)||V(J)))}map(T){return new K(V=>this.iterate(J=>V(T(J))))}findLast(T){let V;return this.iterate(J=>(T(J)&&(V=J),!0)),V}findLastMaxBy(T){let V,J=!0;return this.iterate(re=>((J||W.isGreaterThan(T(re,V)))&&(J=!1,V=re),!0)),V}}},2210:(Ve,ve,x)=>{"use strict";function N(_,y){const C=function $(_,y,C=_.length-1){for(let h=C;h>=0;h--)if(y(_[h]))return h;return-1}(_,y);if(-1!==C)return _[C]}function s(_,y){const C=E(_,y);return-1===C?void 0:_[C]}function E(_,y,C=0,h=_.length){let he=C,se=h;for(;he<se;){const d=Math.floor((he+se)/2);y(_[d])?he=d+1:se=d}return he-1}function p(_,y){const C=P(_,y);return C===_.length?void 0:_[C]}function P(_,y,C=0,h=_.length){let he=C,se=h;for(;he<se;){const d=Math.floor((he+se)/2);y(_[d])?se=d:he=d+1}return he}x.d(ve,{Uk:()=>N,XP:()=>p,hw:()=>P,iM:()=>E,lx:()=>s,vJ:()=>l});let l=(()=>{class _{static{this.assertInvariants=!1}constructor(C){this._array=C,this._findLastMonotonousLastIdx=0}findLastMonotonous(C){if(_.assertInvariants){if(this._prevFindLastPredicate)for(const he of this._array)if(this._prevFindLastPredicate(he)&&!C(he))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.");this._prevFindLastPredicate=C}const h=E(this._array,C,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=h+1,-1===h?void 0:this._array[h]}}return _})()},3929:(Ve,ve,x)=>{"use strict";x.d(ve,{Ft:()=>p,Xo:()=>P,ok:()=>$,xb:()=>s});var N=x(5680);function $(l,I){if(!l)throw new Error(I?`Assertion failed (${I})`:"Assertion Failed")}function s(l,I="Unreachable"){throw new Error(I)}function p(l){l()||(l(),(0,N.dz)(new N.D7("Assertion Failed")))}function P(l,I){let D=0;for(;D<l.length-1;){if(!I(l[D],l[D+1]))return!1;D++}return!0}},795:(Ve,ve,x)=>{"use strict";x.d(ve,{vb:()=>m,uC:()=>R,Qg:()=>D,$6:()=>F});var N=x(467),$=x(9495),E=(x(1468),x(5680)),p=x(5643),P=x(4061),l=x(1828);function D(oe){return!!oe&&"function"==typeof oe.then}Symbol("MicrotaskDelay");class m{constructor(){this.disposable=void 0,this.isDisposed=!1}cancel(){this.disposable?.dispose(),this.disposable=void 0}cancelAndSet(q,K,be=globalThis){if(this.isDisposed)throw new E.D7("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();const ie=be.setInterval(()=>{q()},K);this.disposable=(0,P.s)(()=>{be.clearInterval(ie),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}}class R{constructor(q,K){this.timeoutToken=-1,this.runner=q,this.timeout=K,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(q=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,q)}get delay(){return this.timeout}set delay(q){this.timeout=q}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner?.()}}let F,O;var S;O="function"!=typeof globalThis.requestIdleCallback||"function"!=typeof globalThis.cancelIdleCallback?(oe,q)=>{(0,l._p)(()=>{if(K)return;const be=Date.now()+15;q(Object.freeze({didTimeout:!0,timeRemaining:()=>Math.max(0,be-Date.now())}))});let K=!1;return{dispose(){K||(K=!0)}}}:(oe,q,K)=>{const be=oe.requestIdleCallback(q,"number"==typeof K?{timeout:K}:void 0);let ie=!1;return{dispose(){ie||(ie=!0,oe.cancelIdleCallback(be))}}},F=oe=>O(globalThis,oe),function(oe){function K(){return(K=(0,N.A)(function*(ie){let T;const V=yield Promise.all(ie.map(J=>J.then(re=>re,re=>{T||(T=re)})));if(typeof T<"u")throw T;return V})).apply(this,arguments)}oe.settled=function q(ie){return K.apply(this,arguments)},oe.withAsyncBody=function be(ie){return new Promise(function(){var T=(0,N.A)(function*(V,J){try{yield ie(V,J)}catch(re){J(re)}});return function(V,J){return T.apply(this,arguments)}}())}}(S||(S={}));class M{static fromArray(q){return new M(K=>{K.emitMany(q)})}static fromPromise(q){return new M(function(){var K=(0,N.A)(function*(be){be.emitMany(yield q)});return function(be){return K.apply(this,arguments)}}())}static fromPromises(q){return new M(function(){var K=(0,N.A)(function*(be){yield Promise.all(q.map(function(){var ie=(0,N.A)(function*(T){return be.emitOne(yield T)});return function(T){return ie.apply(this,arguments)}}()))});return function(be){return K.apply(this,arguments)}}())}static merge(q){return new M(function(){var K=(0,N.A)(function*(be){yield Promise.all(q.map(function(){var ie=(0,N.A)(function*(T){var re,V=!1,J=!1;try{for(var _e,de=(0,$.A)(T);V=!(_e=yield de.next()).done;V=!1)be.emitOne(_e.value)}catch(Se){J=!0,re=Se}finally{try{V&&null!=de.return&&(yield de.return())}finally{if(J)throw re}}});return function(T){return ie.apply(this,arguments)}}()))});return function(be){return K.apply(this,arguments)}}())}static{this.EMPTY=M.fromArray([])}constructor(q,K){var be=this;this._state=0,this._results=[],this._error=null,this._onReturn=K,this._onStateChanged=new p.vl,queueMicrotask((0,N.A)(function*(){const ie={emitOne:T=>be.emitOne(T),emitMany:T=>be.emitMany(T),reject:T=>be.reject(T)};try{yield Promise.resolve(q(ie)),be.resolve()}catch(T){be.reject(T)}finally{ie.emitOne=void 0,ie.emitMany=void 0,ie.reject=void 0}}))}[Symbol.asyncIterator](){var q=this;let K=0;return{next:(be=(0,N.A)(function*(){for(;;){if(2===q._state)throw q._error;if(K<q._results.length)return{done:!1,value:q._results[K++]};if(1===q._state)return{done:!0,value:void 0};yield p.Jh.toPromise(q._onStateChanged.event)}}),function(){return be.apply(this,arguments)}),return:function(){var be=(0,N.A)(function*(){return q._onReturn?.(),{done:!0,value:void 0}});return function(){return be.apply(this,arguments)}}()};var be}static map(q,K){return new M(function(){var be=(0,N.A)(function*(ie){var J,T=!1,V=!1;try{for(var de,re=(0,$.A)(q);T=!(de=yield re.next()).done;T=!1)ie.emitOne(K(de.value))}catch(_e){V=!0,J=_e}finally{try{T&&null!=re.return&&(yield re.return())}finally{if(V)throw J}}});return function(ie){return be.apply(this,arguments)}}())}map(q){return M.map(this,q)}static filter(q,K){return new M(function(){var be=(0,N.A)(function*(ie){var J,T=!1,V=!1;try{for(var de,re=(0,$.A)(q);T=!(de=yield re.next()).done;T=!1){const _e=de.value;K(_e)&&ie.emitOne(_e)}}catch(_e){V=!0,J=_e}finally{try{T&&null!=re.return&&(yield re.return())}finally{if(V)throw J}}});return function(ie){return be.apply(this,arguments)}}())}filter(q){return M.filter(this,q)}static coalesce(q){return M.filter(q,K=>!!K)}coalesce(){return M.coalesce(this)}static toPromise(q){return(0,N.A)(function*(){const K=[];var T,be=!1,ie=!1;try{for(var J,V=(0,$.A)(q);be=!(J=yield V.next()).done;be=!1)K.push(J.value)}catch(re){ie=!0,T=re}finally{try{be&&null!=V.return&&(yield V.return())}finally{if(ie)throw T}}return K})()}toPromise(){return M.toPromise(this)}emitOne(q){0===this._state&&(this._results.push(q),this._onStateChanged.fire())}emitMany(q){0===this._state&&(this._results=this._results.concat(q),this._onStateChanged.fire())}resolve(){0===this._state&&(this._state=1,this._onStateChanged.fire())}reject(q){0===this._state&&(this._state=2,this._error=q,this._onStateChanged.fire())}}},3233:(Ve,ve,x)=>{"use strict";x.d(ve,{$l:()=>P,Gs:()=>H,MB:()=>p,Sw:()=>D,bb:()=>I,gN:()=>l,pJ:()=>Z});var N=x(7081);const $=typeof Buffer<"u";let E;new N.d(()=>new Uint8Array(256));class p{static wrap(_){return $&&!Buffer.isBuffer(_)&&(_=Buffer.from(_.buffer,_.byteOffset,_.byteLength)),new p(_)}constructor(_){this.buffer=_,this.byteLength=this.buffer.byteLength}toString(){return $?this.buffer.toString():(E||(E=new TextDecoder),E.decode(this.buffer))}}function P(L,_){return(0|L[_+0])>>>0|L[_+1]<<8>>>0}function l(L,_,y){L[y+0]=255&_,L[y+1]=255&(_>>>=8)}function I(L,_){return 16777216*L[_]+65536*L[_+1]+256*L[_+2]+L[_+3]}function D(L,_,y){L[y+3]=_,L[y+2]=_>>>=8,L[y+1]=_>>>=8,L[y]=_>>>=8}function Z(L,_){return L[_]}function H(L,_,y){L[y]=_}},9969:(Ve,ve,x)=>{"use strict";function N(E){return E}x.d(ve,{VV:()=>s,o5:()=>$});class ${constructor(p,P){this.lastCache=void 0,this.lastArgKey=void 0,"function"==typeof p?(this._fn=p,this._computeKey=N):(this._fn=P,this._computeKey=p.getCacheKey)}get(p){const P=this._computeKey(p);return this.lastArgKey!==P&&(this.lastArgKey=P,this.lastCache=this._fn(p)),this.lastCache}}class s{get cachedValues(){return this._map}constructor(p,P){this._map=new Map,this._map2=new Map,"function"==typeof p?(this._fn=p,this._computeKey=N):(this._fn=P,this._computeKey=p.getCacheKey)}get(p){const P=this._computeKey(p);if(this._map2.has(P))return this._map2.get(P);const l=this._fn(p);return this._map.set(p,l),this._map2.set(P,l),l}}},1468:(Ve,ve,x)=>{"use strict";x.d(ve,{Qi:()=>p});var N=x(5643);const $=Object.freeze(function(l,I){const D=setTimeout(l.bind(I),0);return{dispose(){clearTimeout(D)}}});var s,l;(l=s||(s={})).isCancellationToken=function I(D){return D===l.None||D===l.Cancelled||D instanceof E||!(!D||"object"!=typeof D)&&"boolean"==typeof D.isCancellationRequested&&"function"==typeof D.onCancellationRequested},l.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:N.Jh.None}),l.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:$});class E{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?$:(this._emitter||(this._emitter=new N.vl),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class p{constructor(I){this._token=void 0,this._parentListener=void 0,this._parentListener=I&&I.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new E),this._token}cancel(){this._token?this._token instanceof E&&this._token.cancel():this._token=s.Cancelled}dispose(I=!1){I&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof E&&this._token.dispose():this._token=s.None}}},3616:(Ve,ve,x)=>{"use strict";x.d(ve,{W:()=>l});var N=x(6702);const $=Object.create(null);function s(I,D){if((0,N.Kg)(D)){const Z=$[D];if(void 0===Z)throw new Error(`${I} references an unknown codicon: ${D}`);D=Z}return $[I]=D,{id:I}}const l={add:s("add",6e4),plus:s("plus",6e4),gistNew:s("gist-new",6e4),repoCreate:s("repo-create",6e4),lightbulb:s("lightbulb",60001),lightBulb:s("light-bulb",60001),repo:s("repo",60002),repoDelete:s("repo-delete",60002),gistFork:s("gist-fork",60003),repoForked:s("repo-forked",60003),gitPullRequest:s("git-pull-request",60004),gitPullRequestAbandoned:s("git-pull-request-abandoned",60004),recordKeys:s("record-keys",60005),keyboard:s("keyboard",60005),tag:s("tag",60006),gitPullRequestLabel:s("git-pull-request-label",60006),tagAdd:s("tag-add",60006),tagRemove:s("tag-remove",60006),person:s("person",60007),personFollow:s("person-follow",60007),personOutline:s("person-outline",60007),personFilled:s("person-filled",60007),gitBranch:s("git-branch",60008),gitBranchCreate:s("git-branch-create",60008),gitBranchDelete:s("git-branch-delete",60008),sourceControl:s("source-control",60008),mirror:s("mirror",60009),mirrorPublic:s("mirror-public",60009),star:s("star",60010),starAdd:s("star-add",60010),starDelete:s("star-delete",60010),starEmpty:s("star-empty",60010),comment:s("comment",60011),commentAdd:s("comment-add",60011),alert:s("alert",60012),warning:s("warning",60012),search:s("search",60013),searchSave:s("search-save",60013),logOut:s("log-out",60014),signOut:s("sign-out",60014),logIn:s("log-in",60015),signIn:s("sign-in",60015),eye:s("eye",60016),eyeUnwatch:s("eye-unwatch",60016),eyeWatch:s("eye-watch",60016),circleFilled:s("circle-filled",60017),primitiveDot:s("primitive-dot",60017),closeDirty:s("close-dirty",60017),debugBreakpoint:s("debug-breakpoint",60017),debugBreakpointDisabled:s("debug-breakpoint-disabled",60017),debugHint:s("debug-hint",60017),terminalDecorationSuccess:s("terminal-decoration-success",60017),primitiveSquare:s("primitive-square",60018),edit:s("edit",60019),pencil:s("pencil",60019),info:s("info",60020),issueOpened:s("issue-opened",60020),gistPrivate:s("gist-private",60021),gitForkPrivate:s("git-fork-private",60021),lock:s("lock",60021),mirrorPrivate:s("mirror-private",60021),close:s("close",60022),removeClose:s("remove-close",60022),x:s("x",60022),repoSync:s("repo-sync",60023),sync:s("sync",60023),clone:s("clone",60024),desktopDownload:s("desktop-download",60024),beaker:s("beaker",60025),microscope:s("microscope",60025),vm:s("vm",60026),deviceDesktop:s("device-desktop",60026),file:s("file",60027),fileText:s("file-text",60027),more:s("more",60028),ellipsis:s("ellipsis",60028),kebabHorizontal:s("kebab-horizontal",60028),mailReply:s("mail-reply",60029),reply:s("reply",60029),organization:s("organization",60030),organizationFilled:s("organization-filled",60030),organizationOutline:s("organization-outline",60030),newFile:s("new-file",60031),fileAdd:s("file-add",60031),newFolder:s("new-folder",60032),fileDirectoryCreate:s("file-directory-create",60032),trash:s("trash",60033),trashcan:s("trashcan",60033),history:s("history",60034),clock:s("clock",60034),folder:s("folder",60035),fileDirectory:s("file-directory",60035),symbolFolder:s("symbol-folder",60035),logoGithub:s("logo-github",60036),markGithub:s("mark-github",60036),github:s("github",60036),terminal:s("terminal",60037),console:s("console",60037),repl:s("repl",60037),zap:s("zap",60038),symbolEvent:s("symbol-event",60038),error:s("error",60039),stop:s("stop",60039),variable:s("variable",60040),symbolVariable:s("symbol-variable",60040),array:s("array",60042),symbolArray:s("symbol-array",60042),symbolModule:s("symbol-module",60043),symbolPackage:s("symbol-package",60043),symbolNamespace:s("symbol-namespace",60043),symbolObject:s("symbol-object",60043),symbolMethod:s("symbol-method",60044),symbolFunction:s("symbol-function",60044),symbolConstructor:s("symbol-constructor",60044),symbolBoolean:s("symbol-boolean",60047),symbolNull:s("symbol-null",60047),symbolNumeric:s("symbol-numeric",60048),symbolNumber:s("symbol-number",60048),symbolStructure:s("symbol-structure",60049),symbolStruct:s("symbol-struct",60049),symbolParameter:s("symbol-parameter",60050),symbolTypeParameter:s("symbol-type-parameter",60050),symbolKey:s("symbol-key",60051),symbolText:s("symbol-text",60051),symbolReference:s("symbol-reference",60052),goToFile:s("go-to-file",60052),symbolEnum:s("symbol-enum",60053),symbolValue:s("symbol-value",60053),symbolRuler:s("symbol-ruler",60054),symbolUnit:s("symbol-unit",60054),activateBreakpoints:s("activate-breakpoints",60055),archive:s("archive",60056),arrowBoth:s("arrow-both",60057),arrowDown:s("arrow-down",60058),arrowLeft:s("arrow-left",60059),arrowRight:s("arrow-right",60060),arrowSmallDown:s("arrow-small-down",60061),arrowSmallLeft:s("arrow-small-left",60062),arrowSmallRight:s("arrow-small-right",60063),arrowSmallUp:s("arrow-small-up",60064),arrowUp:s("arrow-up",60065),bell:s("bell",60066),bold:s("bold",60067),book:s("book",60068),bookmark:s("bookmark",60069),debugBreakpointConditionalUnverified:s("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:s("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:s("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:s("debug-breakpoint-data-unverified",60072),debugBreakpointData:s("debug-breakpoint-data",60073),debugBreakpointDataDisabled:s("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:s("debug-breakpoint-log-unverified",60074),debugBreakpointLog:s("debug-breakpoint-log",60075),debugBreakpointLogDisabled:s("debug-breakpoint-log-disabled",60075),briefcase:s("briefcase",60076),broadcast:s("broadcast",60077),browser:s("browser",60078),bug:s("bug",60079),calendar:s("calendar",60080),caseSensitive:s("case-sensitive",60081),check:s("check",60082),checklist:s("checklist",60083),chevronDown:s("chevron-down",60084),chevronLeft:s("chevron-left",60085),chevronRight:s("chevron-right",60086),chevronUp:s("chevron-up",60087),chromeClose:s("chrome-close",60088),chromeMaximize:s("chrome-maximize",60089),chromeMinimize:s("chrome-minimize",60090),chromeRestore:s("chrome-restore",60091),circleOutline:s("circle-outline",60092),circle:s("circle",60092),debugBreakpointUnverified:s("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:s("terminal-decoration-incomplete",60092),circleSlash:s("circle-slash",60093),circuitBoard:s("circuit-board",60094),clearAll:s("clear-all",60095),clippy:s("clippy",60096),closeAll:s("close-all",60097),cloudDownload:s("cloud-download",60098),cloudUpload:s("cloud-upload",60099),code:s("code",60100),collapseAll:s("collapse-all",60101),colorMode:s("color-mode",60102),commentDiscussion:s("comment-discussion",60103),creditCard:s("credit-card",60105),dash:s("dash",60108),dashboard:s("dashboard",60109),database:s("database",60110),debugContinue:s("debug-continue",60111),debugDisconnect:s("debug-disconnect",60112),debugPause:s("debug-pause",60113),debugRestart:s("debug-restart",60114),debugStart:s("debug-start",60115),debugStepInto:s("debug-step-into",60116),debugStepOut:s("debug-step-out",60117),debugStepOver:s("debug-step-over",60118),debugStop:s("debug-stop",60119),debug:s("debug",60120),deviceCameraVideo:s("device-camera-video",60121),deviceCamera:s("device-camera",60122),deviceMobile:s("device-mobile",60123),diffAdded:s("diff-added",60124),diffIgnored:s("diff-ignored",60125),diffModified:s("diff-modified",60126),diffRemoved:s("diff-removed",60127),diffRenamed:s("diff-renamed",60128),diff:s("diff",60129),diffSidebyside:s("diff-sidebyside",60129),discard:s("discard",60130),editorLayout:s("editor-layout",60131),emptyWindow:s("empty-window",60132),exclude:s("exclude",60133),extensions:s("extensions",60134),eyeClosed:s("eye-closed",60135),fileBinary:s("file-binary",60136),fileCode:s("file-code",60137),fileMedia:s("file-media",60138),filePdf:s("file-pdf",60139),fileSubmodule:s("file-submodule",60140),fileSymlinkDirectory:s("file-symlink-directory",60141),fileSymlinkFile:s("file-symlink-file",60142),fileZip:s("file-zip",60143),files:s("files",60144),filter:s("filter",60145),flame:s("flame",60146),foldDown:s("fold-down",60147),foldUp:s("fold-up",60148),fold:s("fold",60149),folderActive:s("folder-active",60150),folderOpened:s("folder-opened",60151),gear:s("gear",60152),gift:s("gift",60153),gistSecret:s("gist-secret",60154),gist:s("gist",60155),gitCommit:s("git-commit",60156),gitCompare:s("git-compare",60157),compareChanges:s("compare-changes",60157),gitMerge:s("git-merge",60158),githubAction:s("github-action",60159),githubAlt:s("github-alt",60160),globe:s("globe",60161),grabber:s("grabber",60162),graph:s("graph",60163),gripper:s("gripper",60164),heart:s("heart",60165),home:s("home",60166),horizontalRule:s("horizontal-rule",60167),hubot:s("hubot",60168),inbox:s("inbox",60169),issueReopened:s("issue-reopened",60171),issues:s("issues",60172),italic:s("italic",60173),jersey:s("jersey",60174),json:s("json",60175),kebabVertical:s("kebab-vertical",60176),key:s("key",60177),law:s("law",60178),lightbulbAutofix:s("lightbulb-autofix",60179),linkExternal:s("link-external",60180),link:s("link",60181),listOrdered:s("list-ordered",60182),listUnordered:s("list-unordered",60183),liveShare:s("live-share",60184),loading:s("loading",60185),location:s("location",60186),mailRead:s("mail-read",60187),mail:s("mail",60188),markdown:s("markdown",60189),megaphone:s("megaphone",60190),mention:s("mention",60191),milestone:s("milestone",60192),gitPullRequestMilestone:s("git-pull-request-milestone",60192),mortarBoard:s("mortar-board",60193),move:s("move",60194),multipleWindows:s("multiple-windows",60195),mute:s("mute",60196),noNewline:s("no-newline",60197),note:s("note",60198),octoface:s("octoface",60199),openPreview:s("open-preview",60200),package:s("package",60201),paintcan:s("paintcan",60202),pin:s("pin",60203),play:s("play",60204),run:s("run",60204),plug:s("plug",60205),preserveCase:s("preserve-case",60206),preview:s("preview",60207),project:s("project",60208),pulse:s("pulse",60209),question:s("question",60210),quote:s("quote",60211),radioTower:s("radio-tower",60212),reactions:s("reactions",60213),references:s("references",60214),refresh:s("refresh",60215),regex:s("regex",60216),remoteExplorer:s("remote-explorer",60217),remote:s("remote",60218),remove:s("remove",60219),replaceAll:s("replace-all",60220),replace:s("replace",60221),repoClone:s("repo-clone",60222),repoForcePush:s("repo-force-push",60223),repoPull:s("repo-pull",60224),repoPush:s("repo-push",60225),report:s("report",60226),requestChanges:s("request-changes",60227),rocket:s("rocket",60228),rootFolderOpened:s("root-folder-opened",60229),rootFolder:s("root-folder",60230),rss:s("rss",60231),ruby:s("ruby",60232),saveAll:s("save-all",60233),saveAs:s("save-as",60234),save:s("save",60235),screenFull:s("screen-full",60236),screenNormal:s("screen-normal",60237),searchStop:s("search-stop",60238),server:s("server",60240),settingsGear:s("settings-gear",60241),settings:s("settings",60242),shield:s("shield",60243),smiley:s("smiley",60244),sortPrecedence:s("sort-precedence",60245),splitHorizontal:s("split-horizontal",60246),splitVertical:s("split-vertical",60247),squirrel:s("squirrel",60248),starFull:s("star-full",60249),starHalf:s("star-half",60250),symbolClass:s("symbol-class",60251),symbolColor:s("symbol-color",60252),symbolConstant:s("symbol-constant",60253),symbolEnumMember:s("symbol-enum-member",60254),symbolField:s("symbol-field",60255),symbolFile:s("symbol-file",60256),symbolInterface:s("symbol-interface",60257),symbolKeyword:s("symbol-keyword",60258),symbolMisc:s("symbol-misc",60259),symbolOperator:s("symbol-operator",60260),symbolProperty:s("symbol-property",60261),wrench:s("wrench",60261),wrenchSubaction:s("wrench-subaction",60261),symbolSnippet:s("symbol-snippet",60262),tasklist:s("tasklist",60263),telescope:s("telescope",60264),textSize:s("text-size",60265),threeBars:s("three-bars",60266),thumbsdown:s("thumbsdown",60267),thumbsup:s("thumbsup",60268),tools:s("tools",60269),triangleDown:s("triangle-down",60270),triangleLeft:s("triangle-left",60271),triangleRight:s("triangle-right",60272),triangleUp:s("triangle-up",60273),twitter:s("twitter",60274),unfold:s("unfold",60275),unlock:s("unlock",60276),unmute:s("unmute",60277),unverified:s("unverified",60278),verified:s("verified",60279),versions:s("versions",60280),vmActive:s("vm-active",60281),vmOutline:s("vm-outline",60282),vmRunning:s("vm-running",60283),watch:s("watch",60284),whitespace:s("whitespace",60285),wholeWord:s("whole-word",60286),window:s("window",60287),wordWrap:s("word-wrap",60288),zoomIn:s("zoom-in",60289),zoomOut:s("zoom-out",60290),listFilter:s("list-filter",60291),listFlat:s("list-flat",60292),listSelection:s("list-selection",60293),selection:s("selection",60293),listTree:s("list-tree",60294),debugBreakpointFunctionUnverified:s("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:s("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:s("debug-breakpoint-function-disabled",60296),debugStackframeActive:s("debug-stackframe-active",60297),circleSmallFilled:s("circle-small-filled",60298),debugStackframeDot:s("debug-stackframe-dot",60298),terminalDecorationMark:s("terminal-decoration-mark",60298),debugStackframe:s("debug-stackframe",60299),debugStackframeFocused:s("debug-stackframe-focused",60299),debugBreakpointUnsupported:s("debug-breakpoint-unsupported",60300),symbolString:s("symbol-string",60301),debugReverseContinue:s("debug-reverse-continue",60302),debugStepBack:s("debug-step-back",60303),debugRestartFrame:s("debug-restart-frame",60304),debugAlt:s("debug-alt",60305),callIncoming:s("call-incoming",60306),callOutgoing:s("call-outgoing",60307),menu:s("menu",60308),expandAll:s("expand-all",60309),feedback:s("feedback",60310),gitPullRequestReviewer:s("git-pull-request-reviewer",60310),groupByRefType:s("group-by-ref-type",60311),ungroupByRefType:s("ungroup-by-ref-type",60312),account:s("account",60313),gitPullRequestAssignee:s("git-pull-request-assignee",60313),bellDot:s("bell-dot",60314),debugConsole:s("debug-console",60315),library:s("library",60316),output:s("output",60317),runAll:s("run-all",60318),syncIgnored:s("sync-ignored",60319),pinned:s("pinned",60320),githubInverted:s("github-inverted",60321),serverProcess:s("server-process",60322),serverEnvironment:s("server-environment",60323),pass:s("pass",60324),issueClosed:s("issue-closed",60324),stopCircle:s("stop-circle",60325),playCircle:s("play-circle",60326),record:s("record",60327),debugAltSmall:s("debug-alt-small",60328),vmConnect:s("vm-connect",60329),cloud:s("cloud",60330),merge:s("merge",60331),export:s("export",60332),graphLeft:s("graph-left",60333),magnet:s("magnet",60334),notebook:s("notebook",60335),redo:s("redo",60336),checkAll:s("check-all",60337),pinnedDirty:s("pinned-dirty",60338),passFilled:s("pass-filled",60339),circleLargeFilled:s("circle-large-filled",60340),circleLarge:s("circle-large",60341),circleLargeOutline:s("circle-large-outline",60341),combine:s("combine",60342),gather:s("gather",60342),table:s("table",60343),variableGroup:s("variable-group",60344),typeHierarchy:s("type-hierarchy",60345),typeHierarchySub:s("type-hierarchy-sub",60346),typeHierarchySuper:s("type-hierarchy-super",60347),gitPullRequestCreate:s("git-pull-request-create",60348),runAbove:s("run-above",60349),runBelow:s("run-below",60350),notebookTemplate:s("notebook-template",60351),debugRerun:s("debug-rerun",60352),workspaceTrusted:s("workspace-trusted",60353),workspaceUntrusted:s("workspace-untrusted",60354),workspaceUnknown:s("workspace-unknown",60355),terminalCmd:s("terminal-cmd",60356),terminalDebian:s("terminal-debian",60357),terminalLinux:s("terminal-linux",60358),terminalPowershell:s("terminal-powershell",60359),terminalTmux:s("terminal-tmux",60360),terminalUbuntu:s("terminal-ubuntu",60361),terminalBash:s("terminal-bash",60362),arrowSwap:s("arrow-swap",60363),copy:s("copy",60364),personAdd:s("person-add",60365),filterFilled:s("filter-filled",60366),wand:s("wand",60367),debugLineByLine:s("debug-line-by-line",60368),inspect:s("inspect",60369),layers:s("layers",60370),layersDot:s("layers-dot",60371),layersActive:s("layers-active",60372),compass:s("compass",60373),compassDot:s("compass-dot",60374),compassActive:s("compass-active",60375),azure:s("azure",60376),issueDraft:s("issue-draft",60377),gitPullRequestClosed:s("git-pull-request-closed",60378),gitPullRequestDraft:s("git-pull-request-draft",60379),debugAll:s("debug-all",60380),debugCoverage:s("debug-coverage",60381),runErrors:s("run-errors",60382),folderLibrary:s("folder-library",60383),debugContinueSmall:s("debug-continue-small",60384),beakerStop:s("beaker-stop",60385),graphLine:s("graph-line",60386),graphScatter:s("graph-scatter",60387),pieChart:s("pie-chart",60388),bracket:s("bracket",60175),bracketDot:s("bracket-dot",60389),bracketError:s("bracket-error",60390),lockSmall:s("lock-small",60391),azureDevops:s("azure-devops",60392),verifiedFilled:s("verified-filled",60393),newline:s("newline",60394),layout:s("layout",60395),layoutActivitybarLeft:s("layout-activitybar-left",60396),layoutActivitybarRight:s("layout-activitybar-right",60397),layoutPanelLeft:s("layout-panel-left",60398),layoutPanelCenter:s("layout-panel-center",60399),layoutPanelJustify:s("layout-panel-justify",60400),layoutPanelRight:s("layout-panel-right",60401),layoutPanel:s("layout-panel",60402),layoutSidebarLeft:s("layout-sidebar-left",60403),layoutSidebarRight:s("layout-sidebar-right",60404),layoutStatusbar:s("layout-statusbar",60405),layoutMenubar:s("layout-menubar",60406),layoutCentered:s("layout-centered",60407),target:s("target",60408),indent:s("indent",60409),recordSmall:s("record-small",60410),errorSmall:s("error-small",60411),terminalDecorationError:s("terminal-decoration-error",60411),arrowCircleDown:s("arrow-circle-down",60412),arrowCircleLeft:s("arrow-circle-left",60413),arrowCircleRight:s("arrow-circle-right",60414),arrowCircleUp:s("arrow-circle-up",60415),layoutSidebarRightOff:s("layout-sidebar-right-off",60416),layoutPanelOff:s("layout-panel-off",60417),layoutSidebarLeftOff:s("layout-sidebar-left-off",60418),blank:s("blank",60419),heartFilled:s("heart-filled",60420),map:s("map",60421),mapHorizontal:s("map-horizontal",60421),foldHorizontal:s("fold-horizontal",60421),mapFilled:s("map-filled",60422),mapHorizontalFilled:s("map-horizontal-filled",60422),foldHorizontalFilled:s("fold-horizontal-filled",60422),circleSmall:s("circle-small",60423),bellSlash:s("bell-slash",60424),bellSlashDot:s("bell-slash-dot",60425),commentUnresolved:s("comment-unresolved",60426),gitPullRequestGoToChanges:s("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:s("git-pull-request-new-changes",60428),searchFuzzy:s("search-fuzzy",60429),commentDraft:s("comment-draft",60430),send:s("send",60431),sparkle:s("sparkle",60432),insert:s("insert",60433),mic:s("mic",60434),thumbsdownFilled:s("thumbsdown-filled",60435),thumbsupFilled:s("thumbsup-filled",60436),coffee:s("coffee",60437),snake:s("snake",60438),game:s("game",60439),vr:s("vr",60440),chip:s("chip",60441),piano:s("piano",60442),music:s("music",60443),micFilled:s("mic-filled",60444),repoFetch:s("repo-fetch",60445),copilot:s("copilot",60446),lightbulbSparkle:s("lightbulb-sparkle",60447),robot:s("robot",60448),sparkleFilled:s("sparkle-filled",60449),diffSingle:s("diff-single",60450),diffMultiple:s("diff-multiple",60451),surroundWith:s("surround-with",60452),share:s("share",60453),gitStash:s("git-stash",60454),gitStashApply:s("git-stash-apply",60455),gitStashPop:s("git-stash-pop",60456),vscode:s("vscode",60457),vscodeInsiders:s("vscode-insiders",60458),codeOss:s("code-oss",60459),runCoverage:s("run-coverage",60460),runAllCoverage:s("run-all-coverage",60461),coverage:s("coverage",60462),githubProject:s("github-project",60463),mapVertical:s("map-vertical",60464),foldVertical:s("fold-vertical",60464),mapVerticalFilled:s("map-vertical-filled",60465),foldVerticalFilled:s("fold-vertical-filled",60465),goToSearch:s("go-to-search",60466),percentage:s("percentage",60467),sortPercentage:s("sort-percentage",60467),attach:s("attach",60468),dialogError:s("dialog-error","error"),dialogWarning:s("dialog-warning","warning"),dialogInfo:s("dialog-info","info"),dialogClose:s("dialog-close","close"),treeItemExpanded:s("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:s("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:s("tree-filter-on-type-off","list-selection"),treeFilterClear:s("tree-filter-clear","close"),treeItemLoading:s("tree-item-loading","loading"),menuSelection:s("menu-selection","check"),menuSubmenu:s("menu-submenu","chevron-right"),menuBarMore:s("menubar-more","more"),scrollbarButtonLeft:s("scrollbar-button-left","triangle-left"),scrollbarButtonRight:s("scrollbar-button-right","triangle-right"),scrollbarButtonUp:s("scrollbar-button-up","triangle-up"),scrollbarButtonDown:s("scrollbar-button-down","triangle-down"),toolBarMore:s("toolbar-more","more"),quickInputBack:s("quick-input-back","arrow-left"),dropDownButton:s("drop-down-button",60084),symbolCustomColor:s("symbol-customcolor",60252),exportIcon:s("export",60332),workspaceUnspecified:s("workspace-unspecified",60355),newLine:s("newline",60394),thumbsDownFilled:s("thumbsdown-filled",60435),thumbsUpFilled:s("thumbsup-filled",60436),gitFetch:s("git-fetch",60445),lightbulbSparkleAutofix:s("lightbulb-sparkle-autofix",60447),debugBreakpointPending:s("debug-breakpoint-pending",60377)}},4072:(Ve,ve,x)=>{"use strict";function N(P,l){const I=Math.pow(10,l);return Math.round(P*I)/I}x.d(ve,{Q1:()=>p,bU:()=>$,hB:()=>s});class ${constructor(l,I,D,Z=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,l)),this.g=0|Math.min(255,Math.max(0,I)),this.b=0|Math.min(255,Math.max(0,D)),this.a=N(Math.max(Math.min(1,Z),0),3)}static equals(l,I){return l.r===I.r&&l.g===I.g&&l.b===I.b&&l.a===I.a}}class s{constructor(l,I,D,Z){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,l),0),this.s=N(Math.max(Math.min(1,I),0),3),this.l=N(Math.max(Math.min(1,D),0),3),this.a=N(Math.max(Math.min(1,Z),0),3)}static equals(l,I){return l.h===I.h&&l.s===I.s&&l.l===I.l&&l.a===I.a}static fromRGBA(l){const I=l.r/255,D=l.g/255,Z=l.b/255,H=l.a,L=Math.max(I,D,Z),_=Math.min(I,D,Z);let y=0,C=0;const h=(_+L)/2,he=L-_;if(he>0){switch(C=Math.min(h<=.5?he/(2*h):he/(2-2*h),1),L){case I:y=(D-Z)/he+(D<Z?6:0);break;case D:y=(Z-I)/he+2;break;case Z:y=(I-D)/he+4}y*=60,y=Math.round(y)}return new s(y,C,h,H)}static _hue2rgb(l,I,D){return D<0&&(D+=1),D>1&&(D-=1),D<.16666666666666666?l+6*(I-l)*D:D<.5?I:D<.6666666666666666?l+(I-l)*(.6666666666666666-D)*6:l}static toRGBA(l){const I=l.h/360,{s:D,l:Z,a:H}=l;let L,_,y;if(0===D)L=_=y=Z;else{const C=Z<.5?Z*(1+D):Z+D-Z*D,h=2*Z-C;L=s._hue2rgb(h,C,I+.3333333333333333),_=s._hue2rgb(h,C,I),y=s._hue2rgb(h,C,I-.3333333333333333)}return new $(Math.round(255*L),Math.round(255*_),Math.round(255*y),H)}}class E{constructor(l,I,D,Z){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,l),0),this.s=N(Math.max(Math.min(1,I),0),3),this.v=N(Math.max(Math.min(1,D),0),3),this.a=N(Math.max(Math.min(1,Z),0),3)}static equals(l,I){return l.h===I.h&&l.s===I.s&&l.v===I.v&&l.a===I.a}static fromRGBA(l){const I=l.r/255,D=l.g/255,Z=l.b/255,H=Math.max(I,D,Z),_=H-Math.min(I,D,Z),y=0===H?0:_/H;let C;return C=0===_?0:H===I?((D-Z)/_%6+6)%6:H===D?(Z-I)/_+2:(I-D)/_+4,new E(Math.round(60*C),y,H,l.a)}static toRGBA(l){const{h:I,s:D,v:Z,a:H}=l,L=Z*D,_=L*(1-Math.abs(I/60%2-1)),y=Z-L;let[C,h,he]=[0,0,0];return I<60?(C=L,h=_):I<120?(C=_,h=L):I<180?(h=L,he=_):I<240?(h=_,he=L):I<300?(C=_,he=L):I<=360&&(C=L,he=_),C=Math.round(255*(C+y)),h=Math.round(255*(h+y)),he=Math.round(255*(he+y)),new $(C,h,he,H)}}class p{static fromHex(l){return p.Format.CSS.parseHex(l)||p.red}static equals(l,I){return!l&&!I||!(!l||!I)&&l.equals(I)}get hsla(){return this._hsla?this._hsla:s.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:E.fromRGBA(this.rgba)}constructor(l){if(!l)throw new Error("Color needs a value");if(l instanceof $)this.rgba=l;else if(l instanceof s)this._hsla=l,this.rgba=s.toRGBA(l);else{if(!(l instanceof E))throw new Error("Invalid color ctor argument");this._hsva=l,this.rgba=E.toRGBA(l)}}equals(l){return!!l&&$.equals(this.rgba,l.rgba)&&s.equals(this.hsla,l.hsla)&&E.equals(this.hsva,l.hsva)}getRelativeLuminance(){return N(.2126*p._relativeLuminanceForComponent(this.rgba.r)+.7152*p._relativeLuminanceForComponent(this.rgba.g)+.0722*p._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(l){const I=l/255;return I<=.03928?I/12.92:Math.pow((I+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(l){return this.getRelativeLuminance()>l.getRelativeLuminance()}isDarkerThan(l){return this.getRelativeLuminance()<l.getRelativeLuminance()}lighten(l){return new p(new s(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*l,this.hsla.a))}darken(l){return new p(new s(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*l,this.hsla.a))}transparent(l){const{r:I,g:D,b:Z,a:H}=this.rgba;return new p(new $(I,D,Z,H*l))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new p(new $(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(l){if(this.isOpaque()||1!==l.rgba.a)return this;const{r:I,g:D,b:Z,a:H}=this.rgba;return new p(new $(l.rgba.r-H*(l.rgba.r-I),l.rgba.g-H*(l.rgba.g-D),l.rgba.b-H*(l.rgba.b-Z),1))}toString(){return this._toString||(this._toString=p.Format.CSS.format(this)),this._toString}static getLighterColor(l,I,D){if(l.isLighterThan(I))return l;D=D||.5;const Z=l.getRelativeLuminance(),H=I.getRelativeLuminance();return l.lighten(D=D*(H-Z)/H)}static getDarkerColor(l,I,D){if(l.isDarkerThan(I))return l;D=D||.5;const Z=l.getRelativeLuminance(),H=I.getRelativeLuminance();return l.darken(D=D*(Z-H)/Z)}static{this.white=new p(new $(255,255,255,1))}static{this.black=new p(new $(0,0,0,1))}static{this.red=new p(new $(255,0,0,1))}static{this.blue=new p(new $(0,0,255,1))}static{this.green=new p(new $(0,255,0,1))}static{this.cyan=new p(new $(0,255,255,1))}static{this.lightgrey=new p(new $(211,211,211,1))}static{this.transparent=new p(new $(0,0,0,0))}}!function(P){let l;!function(I){let D;!function(Z){function C(m){const R=m.toString(16);return 2!==R.length?"0"+R:R}function k(m){switch(m){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}Z.formatRGB=function H(m){return 1===m.rgba.a?`rgb(${m.rgba.r}, ${m.rgba.g}, ${m.rgba.b})`:P.Format.CSS.formatRGBA(m)},Z.formatRGBA=function L(m){return`rgba(${m.rgba.r}, ${m.rgba.g}, ${m.rgba.b}, ${+m.rgba.a.toFixed(2)})`},Z.formatHSL=function _(m){return 1===m.hsla.a?`hsl(${m.hsla.h}, ${(100*m.hsla.s).toFixed(2)}%, ${(100*m.hsla.l).toFixed(2)}%)`:P.Format.CSS.formatHSLA(m)},Z.formatHSLA=function y(m){return`hsla(${m.hsla.h}, ${(100*m.hsla.s).toFixed(2)}%, ${(100*m.hsla.l).toFixed(2)}%, ${m.hsla.a.toFixed(2)})`},Z.formatHex=function h(m){return`#${C(m.rgba.r)}${C(m.rgba.g)}${C(m.rgba.b)}`},Z.formatHexA=function he(m,R=!1){return R&&1===m.rgba.a?P.Format.CSS.formatHex(m):`#${C(m.rgba.r)}${C(m.rgba.g)}${C(m.rgba.b)}${C(Math.round(255*m.rgba.a))}`},Z.format=function se(m){return m.isOpaque()?P.Format.CSS.formatHex(m):P.Format.CSS.formatRGBA(m)},Z.parseHex=function d(m){const R=m.length;if(0===R||35!==m.charCodeAt(0))return null;if(7===R){const F=16*k(m.charCodeAt(1))+k(m.charCodeAt(2)),O=16*k(m.charCodeAt(3))+k(m.charCodeAt(4)),v=16*k(m.charCodeAt(5))+k(m.charCodeAt(6));return new P(new $(F,O,v,1))}if(9===R){const F=16*k(m.charCodeAt(1))+k(m.charCodeAt(2)),O=16*k(m.charCodeAt(3))+k(m.charCodeAt(4)),v=16*k(m.charCodeAt(5))+k(m.charCodeAt(6)),A=16*k(m.charCodeAt(7))+k(m.charCodeAt(8));return new P(new $(F,O,v,A/255))}if(4===R){const F=k(m.charCodeAt(1)),O=k(m.charCodeAt(2)),v=k(m.charCodeAt(3));return new P(new $(16*F+F,16*O+O,16*v+v))}if(5===R){const F=k(m.charCodeAt(1)),O=k(m.charCodeAt(2)),v=k(m.charCodeAt(3)),A=k(m.charCodeAt(4));return new P(new $(16*F+F,16*O+O,16*v+v,(16*A+A)/255))}return null}}(D=I.CSS||(I.CSS={}))}(l=P.Format||(P.Format={}))}(p||(p={}))},5680:(Ve,ve,x)=>{"use strict";x.d(ve,{D7:()=>y,EM:()=>L,Qg:()=>Z,cU:()=>p,dz:()=>s,iH:()=>H});const $=new class N{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(h){setTimeout(()=>{throw h.stack?_.isErrorNoTelemetry(h)?new _(h.message+"\n\n"+h.stack):new Error(h.message+"\n\n"+h.stack):h},0)}}emit(h){this.listeners.forEach(he=>{he(h)})}onUnexpectedError(h){this.unexpectedErrorHandler(h),this.emit(h)}onUnexpectedExternalError(h){this.unexpectedErrorHandler(h)}};function s(C){(function l(C){return C instanceof I||C instanceof Error&&C.name===P&&C.message===P})(C)||$.onUnexpectedError(C)}function p(C){if(C instanceof Error){const{name:h,message:he}=C;return{$isError:!0,name:h,message:he,stack:C.stacktrace||C.stack,noTelemetry:_.isErrorNoTelemetry(C)}}return C}const P="Canceled";class I extends Error{constructor(){super(P),this.name=this.message}}function Z(C){return C?new Error(`Illegal argument: ${C}`):new Error("Illegal argument")}function H(C){return C?new Error(`Illegal state: ${C}`):new Error("Illegal state")}class L extends Error{constructor(h){super("NotSupported"),h&&(this.message=h)}}class _ extends Error{constructor(h){super(h),this.name="CodeExpectedError"}static fromError(h){if(h instanceof _)return h;const he=new _;return he.message=h.message,he.stack=h.stack,he}static isErrorNoTelemetry(h){return"CodeExpectedError"===h.name}}class y extends Error{constructor(h){super(h||"An unexpected bug occurred."),Object.setPrototypeOf(this,y.prototype)}}},5643:(Ve,ve,x)=>{"use strict";x.d(ve,{Jh:()=>I,vl:()=>d});var I,N=x(5680),$=x(4061),E=(x(8002),x(2588));!function(S){function ne(Qe){return(Oe,Ne=null,b)=>{let Ee,te=!1;return Ee=Qe(U=>{if(!te)return Ee?Ee.dispose():te=!0,Oe.call(Ne,U)},null,b),te&&Ee.dispose(),Ee}}function q(Qe,Oe,Ne){return J((b,te=null,Ee)=>Qe(U=>b.call(te,Oe(U)),null,Ee),Ne)}function be(Qe,Oe,Ne){return J((b,te=null,Ee)=>Qe(U=>Oe(U)&&b.call(te,U),null,Ee),Ne)}function J(Qe,Oe){let Ne;const te=new d({onWillAddFirstListener(){Ne=Qe(te.fire,te)},onDidRemoveLastListener(){Ne?.dispose()}});return Oe?.add(te),te.event}function de(Qe,Oe,Ne=100,b=!1,te=!1,Ee,U){let Ce,we,Fe,n,qe=0;const gt=new d({leakWarningThreshold:Ee,onWillAddFirstListener(){Ce=Qe(Lt=>{qe++,we=Oe(we,Lt),b&&!Fe&&(gt.fire(we),we=void 0),n=()=>{const Ot=we;we=void 0,Fe=void 0,(!b||qe>1)&&gt.fire(Ot),qe=0},"number"==typeof Ne?(clearTimeout(Fe),Fe=setTimeout(n,Ne)):void 0===Fe&&(Fe=0,queueMicrotask(n))})},onWillRemoveListener(){te&&qe>0&&n?.()},onDidRemoveLastListener(){n=void 0,Ce.dispose()}});return U?.add(gt),gt.event}S.None=()=>$.jG.None,S.defer=function G(Qe,Oe){return de(Qe,()=>{},0,void 0,!0,void 0,Oe)},S.once=ne,S.onceIf=function oe(Qe,Oe){return S.once(S.filter(Qe,Oe))},S.map=q,S.forEach=function K(Qe,Oe,Ne){return J((b,te=null,Ee)=>Qe(U=>{Oe(U),b.call(te,U)},null,Ee),Ne)},S.filter=be,S.signal=function ie(Qe){return Qe},S.any=function T(...Qe){return(Oe,Ne=null,b)=>function re(Qe,Oe){return Oe instanceof Array?Oe.push(Qe):Oe&&Oe.add(Qe),Qe}((0,$.qE)(...Qe.map(Ee=>Ee(U=>Oe.call(Ne,U)))),b)},S.reduce=function V(Qe,Oe,Ne,b){let te=Ne;return q(Qe,Ee=>(te=Oe(te,Ee),te),b)},S.debounce=de,S.accumulate=function _e(Qe,Oe=0,Ne){return S.debounce(Qe,(b,te)=>b?(b.push(te),b):[te],Oe,void 0,!0,void 0,Ne)},S.latch=function Se(Qe,Oe=(b,te)=>b===te,Ne){let te,b=!0;return be(Qe,Ee=>{const U=b||!Oe(Ee,te);return b=!1,te=Ee,U},Ne)},S.split=function xe(Qe,Oe,Ne){return[S.filter(Qe,Oe,Ne),S.filter(Qe,b=>!Oe(b),Ne)]},S.buffer=function ze(Qe,Oe=!1,Ne=[],b){let te=Ne.slice(),Ee=Qe(we=>{te?te.push(we):Ce.fire(we)});b&&b.add(Ee);const U=()=>{te?.forEach(we=>Ce.fire(we)),te=null},Ce=new d({onWillAddFirstListener(){Ee||(Ee=Qe(we=>Ce.fire(we)),b&&b.add(Ee))},onDidAddFirstListener(){te&&(Oe?setTimeout(U):U())},onDidRemoveLastListener(){Ee&&Ee.dispose(),Ee=null}});return b&&b.add(Ce),Ce.event},S.chain=function Be(Qe,Oe){return(b,te,Ee)=>{const U=Oe(new We);return Qe(function(Ce){const we=U.evaluate(Ce);we!==$e&&b.call(te,we)},void 0,Ee)}};const $e=Symbol("HaltChainable");class We{constructor(){this.steps=[]}map(Oe){return this.steps.push(Oe),this}forEach(Oe){return this.steps.push(Ne=>(Oe(Ne),Ne)),this}filter(Oe){return this.steps.push(Ne=>Oe(Ne)?Ne:$e),this}reduce(Oe,Ne){let b=Ne;return this.steps.push(te=>(b=Oe(b,te),b)),this}latch(Oe=(Ne,b)=>Ne===b){let b,Ne=!0;return this.steps.push(te=>{const Ee=Ne||!Oe(te,b);return Ne=!1,b=te,Ee?te:$e}),this}evaluate(Oe){for(const Ne of this.steps)if((Oe=Ne(Oe))===$e)break;return Oe}}S.fromNodeEventEmitter=function Ge(Qe,Oe,Ne=b=>b){const b=(...Ce)=>U.fire(Ne(...Ce)),U=new d({onWillAddFirstListener:()=>Qe.on(Oe,b),onDidRemoveLastListener:()=>Qe.removeListener(Oe,b)});return U.event},S.fromDOMEventEmitter=function Je(Qe,Oe,Ne=b=>b){const b=(...Ce)=>U.fire(Ne(...Ce)),U=new d({onWillAddFirstListener:()=>Qe.addEventListener(Oe,b),onDidRemoveLastListener:()=>Qe.removeEventListener(Oe,b)});return U.event},S.toPromise=function bt(Qe){return new Promise(Oe=>ne(Qe)(Oe))},S.fromPromise=function At(Qe){const Oe=new d;return Qe.then(Ne=>{Oe.fire(Ne)},()=>{Oe.fire(void 0)}).finally(()=>{Oe.dispose()}),Oe.event},S.forward=function _t(Qe,Oe){return Qe(Ne=>Oe.fire(Ne))},S.runAndSubscribe=function Bt(Qe,Oe,Ne){return Oe(Ne),Qe(b=>Oe(b))};class jt{constructor(Oe,Ne){this._observable=Oe,this._counter=0,this._hasChanged=!1;this.emitter=new d({onWillAddFirstListener:()=>{Oe.addObserver(this),this._observable.reportChanges()},onDidRemoveLastListener:()=>{Oe.removeObserver(this)}}),Ne&&Ne.add(this.emitter)}beginUpdate(Oe){this._counter++}handlePossibleChange(Oe){}handleChange(Oe,Ne){this._hasChanged=!0}endUpdate(Oe){this._counter--,0===this._counter&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}S.fromObservable=function Yt(Qe,Oe){return new jt(Qe,Oe).emitter.event},S.fromObservableLight=function zt(Qe){return(Oe,Ne,b)=>{let te=0,Ee=!1;const U={beginUpdate(){te++},endUpdate(){te--,0===te&&(Qe.reportChanges(),Ee&&(Ee=!1,Oe.call(Ne)))},handlePossibleChange(){},handleChange(){Ee=!0}};Qe.addObserver(U),Qe.reportChanges();const Ce={dispose(){Qe.removeObserver(U)}};return b instanceof $.Cm?b.add(Ce):Array.isArray(b)&&b.push(Ce),Ce}}}(I||(I={}));class D{static{this.all=new Set}static{this._idPool=0}constructor(M){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${M}_${D._idPool++}`,D.all.add(this)}start(M){this._stopWatch=new E.W,this.listenerCount=M}stop(){if(this._stopWatch){const M=this._stopWatch.elapsed();this.durations.push(M),this.elapsedOverall+=M,this.invocationCount+=1,this._stopWatch=void 0}}}let H=(()=>{class S{static{this._idPool=1}constructor(G,ne,oe=(S._idPool++).toString(16).padStart(3,"0")){this._errorHandler=G,this.threshold=ne,this.name=oe,this._warnCountdown=0}dispose(){this._stacks?.clear()}check(G,ne){const oe=this.threshold;if(oe<=0||ne<oe)return;this._stacks||(this._stacks=new Map);const q=this._stacks.get(G.value)||0;if(this._stacks.set(G.value,q+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=.5*oe;const[K,be]=this.getMostFrequentStack(),ie=`[${this.name}] potential listener LEAK detected, having ${ne} listeners already. MOST frequent listener (${be}):`;console.warn(ie),console.warn(K);const T=new _(ie,K);this._errorHandler(T)}return()=>{const K=this._stacks.get(G.value)||0;this._stacks.set(G.value,K-1)}}getMostFrequentStack(){if(!this._stacks)return;let G,ne=0;for(const[oe,q]of this._stacks)(!G||ne<q)&&(G=[oe,q],ne=q);return G}}return S})();class L{static create(){const M=new Error;return new L(M.stack??"")}constructor(M){this.value=M}print(){console.warn(this.value.split("\n").slice(2).join("\n"))}}class _ extends Error{constructor(M,G){super(M),this.name="ListenerLeakError",this.stack=G}}class y extends Error{constructor(M,G){super(M),this.name="ListenerRefusalError",this.stack=G}}class C{constructor(M){this.value=M}}class d{constructor(M){this._size=0,this._options=M,this._leakageMon=this._options?.leakWarningThreshold?new H(M?.onListenerError??N.dz,this._options?.leakWarningThreshold??-1):void 0,this._perfMon=this._options?._profName?new D(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){this._disposed||(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose())}get event(){return this._event??=(M,G,ne)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){const ie=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(ie);const T=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],V=new y(`${ie}. HINT: Stack shows most frequent listener (${T[1]}-times)`,T[0]);return(this._options?.onListenerError||N.dz)(V),$.jG.None}if(this._disposed)return $.jG.None;G&&(M=M.bind(G));const oe=new C(M);let q;this._leakageMon&&this._size>=Math.ceil(.2*this._leakageMon.threshold)&&(oe.stack=L.create(),q=this._leakageMon.check(oe.stack,this._size+1)),this._listeners?this._listeners instanceof C?(this._deliveryQueue??=new m,this._listeners=[this._listeners,oe]):this._listeners.push(oe):(this._options?.onWillAddFirstListener?.(this),this._listeners=oe,this._options?.onDidAddFirstListener?.(this)),this._size++;const be=(0,$.s)(()=>{q?.(),this._removeListener(oe)});return ne instanceof $.Cm?ne.add(be):Array.isArray(ne)&&ne.push(be),be},this._event}_removeListener(M){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(1===this._size)return this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),void(this._size=0);const G=this._listeners,ne=G.indexOf(M);if(-1===ne)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,G[ne]=void 0;const oe=this._deliveryQueue.current===this;if(2*this._size<=G.length){let q=0;for(let K=0;K<G.length;K++)G[K]?G[q++]=G[K]:oe&&(this._deliveryQueue.end--,q<this._deliveryQueue.i&&this._deliveryQueue.i--);G.length=q}}_deliver(M,G){if(!M)return;const ne=this._options?.onListenerError||N.dz;if(ne)try{M.value(G)}catch(oe){ne(oe)}else M.value(G)}_deliverQueue(M){const G=M.current._listeners;for(;M.i<M.end;)this._deliver(G[M.i++],M.value);M.reset()}fire(M){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof C)this._deliver(this._listeners,M);else{const G=this._deliveryQueue;G.enqueue(this,M,this._listeners.length),this._deliverQueue(G)}this._perfMon?.stop()}hasListeners(){return this._size>0}}class m{constructor(){this.i=-1,this.end=0}enqueue(M,G,ne){this.i=0,this.end=ne,this.current=M,this.value=G}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}},9007:(Ve,ve,x)=>{"use strict";x.d(ve,{TH:()=>p,Zn:()=>l,_1:()=>I,kb:()=>P});var N=x(1824),s=(x(1828),x(6653));function E(H){return 47===H||92===H}function p(H){return H.replace(/[\\/]/g,N.SA.sep)}function P(H){return-1===H.indexOf("/")&&(H=p(H)),/^[a-zA-Z]:(\/|$)/.test(H)&&(H="/"+H),H}function l(H,L=N.SA.sep){if(!H)return"";const _=H.length,y=H.charCodeAt(0);if(E(y)){if(E(H.charCodeAt(1))&&!E(H.charCodeAt(2))){let h=3;const he=h;for(;h<_&&!E(H.charCodeAt(h));h++);if(he!==h&&!E(H.charCodeAt(h+1)))for(h+=1;h<_;h++)if(E(H.charCodeAt(h)))return H.slice(0,h+1).replace(/[\\/]/g,L)}return L}if(function D(H){return H>=65&&H<=90||H>=97&&H<=122}(y)&&58===H.charCodeAt(1))return E(H.charCodeAt(2))?H.slice(0,2)+L:H.slice(0,2);let C=H.indexOf("://");if(-1!==C)for(C+=3;C<_;C++)if(E(H.charCodeAt(C)))return H.slice(0,C+1);return""}function I(H,L,_,y=N.Vn){if(H===L)return!0;if(!H||!L||L.length>H.length)return!1;if(_){if(!(0,s.ns)(H,L))return!1;if(L.length===H.length)return!0;let h=L.length;return L.charAt(L.length-1)===y&&h--,H.charAt(h)===y}return L.charAt(L.length-1)!==y&&(L+=y),0===H.indexOf(L)}},7441:(Ve,ve,x)=>{"use strict";x.d(ve,{YW:()=>q,qg:()=>K});var N=x(467),$=x(795),s=x(9007),E=x(53),p=x(1824),P=x(1828),l=x(6653);const I="**",D="/",Z="[/\\\\]",H="[^/\\\\]",L=/\//g;function _(J,re){switch(J){case 0:return"";case 1:return`${H}*?`;default:return`(?:${Z}|${H}+${Z}${re?`|${Z}${H}+`:""})*?`}}function y(J,re){if(!J)return[];const de=[];let _e=!1,Se=!1,xe="";for(const ze of J){switch(ze){case re:if(!_e&&!Se){de.push(xe),xe="";continue}break;case"{":_e=!0;break;case"}":_e=!1;break;case"[":Se=!0;break;case"]":Se=!1}xe+=ze}return xe&&de.push(xe),de}function C(J){if(!J)return"";let re="";const de=y(J,D);if(de.every(_e=>_e===I))re=".*";else{let _e=!1;de.forEach((Se,xe)=>{if(Se===I){if(_e)return;re+=_(2,xe===de.length-1)}else{let ze=!1,Be="",$e=!1,We="";for(const Ge of Se)if("}"!==Ge&&ze)Be+=Ge;else if(!$e||"]"===Ge&&We)switch(Ge){case"{":ze=!0;continue;case"[":$e=!0;continue;case"}":{const bt=`(?:${y(Be,",").map(At=>C(At)).join("|")})`;re+=bt,ze=!1,Be="";break}case"]":re+="["+We+"]",$e=!1,We="";break;case"?":re+=H;continue;case"*":re+=_(1);continue;default:re+=(0,l.bm)(Ge)}else{let Je;Je="-"===Ge?Ge:"^"!==Ge&&"!"!==Ge||We?Ge===D?"":(0,l.bm)(Ge):"^",We+=Je}xe<de.length-1&&(de[xe+1]!==I||xe+2<de.length)&&(re+=Z)}_e=Se===I})}return re}const h=/^\*\*\/\*\.[\w\.-]+$/,he=/^\*\*\/([\w\.-]+)\/?$/,se=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,d=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,k=/^\*\*((\/[\w\.-]+)+)\/?$/,m=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,R=new E.qK(1e4),F=function(){return!1},O=function(){return null};function v(J,re){if(!J)return O;let de;de="string"!=typeof J?J.pattern:J,de=de.trim();const _e=`${de}_${!!re.trimForExclusions}`;let xe,Se=R.get(_e);return Se||(Se=h.test(de)?function S(J,re){return function(de,_e){return"string"==typeof de&&de.endsWith(J)?re:null}}(de.substr(4),de):(xe=he.exec(W(de,re)))?function M(J,re){const de=`/${J}`,_e=`\\${J}`,Se=function(ze,Be){return"string"!=typeof ze?null:Be?Be===J?re:null:ze===J||ze.endsWith(de)||ze.endsWith(_e)?re:null},xe=[J];return Se.basenames=xe,Se.patterns=[re],Se.allBasenames=xe,Se}(xe[1],de):(re.trimForExclusions?d:se).test(de)?function G(J,re){const de=V(J.slice(1,-1).split(",").map(Be=>v(Be,re)).filter(Be=>Be!==O),J),_e=de.length;if(!_e)return O;if(1===_e)return de[0];const Se=function(Be,$e){for(let We=0,Ge=de.length;We<Ge;We++)if(de[We](Be,$e))return J;return null},xe=de.find(Be=>!!Be.allBasenames);xe&&(Se.allBasenames=xe.allBasenames);const ze=de.reduce((Be,$e)=>$e.allPaths?Be.concat($e.allPaths):Be,[]);return ze.length&&(Se.allPaths=ze),Se}(de,re):(xe=k.exec(W(de,re)))?ne(xe[1].substr(1),de,!0):(xe=m.exec(W(de,re)))?ne(xe[1],de,!1):function oe(J){try{const re=new RegExp(`^${C(J)}$`);return function(de){return re.lastIndex=0,"string"==typeof de&&re.test(de)?J:null}}catch{return O}}(de),R.set(_e,Se)),function A(J,re){if("string"==typeof re)return J;const de=function(_e,Se){return(0,s._1)(_e,re.base,!P.j9)?J((0,l.NB)(_e.substr(re.base.length),p.Vn),Se):null};return de.allBasenames=J.allBasenames,de.allPaths=J.allPaths,de.basenames=J.basenames,de.patterns=J.patterns,de}(Se,J)}function W(J,re){return re.trimForExclusions&&J.endsWith("/**")?J.substr(0,J.length-2):J}function ne(J,re,de){const _e=p.Vn===p.SA.sep,Se=_e?J:J.replace(L,p.Vn),xe=p.Vn+Se,ze=p.SA.sep+J;let Be;return Be=de?function($e,We){return"string"!=typeof $e||$e!==Se&&!$e.endsWith(xe)&&(_e||$e!==J&&!$e.endsWith(ze))?null:re}:function($e,We){return"string"!=typeof $e||$e!==Se&&(_e||$e!==J)?null:re},Be.allPaths=[(de?"*/":"./")+J],Be}function q(J,re,de){return!(!J||"string"!=typeof re)&&K(J)(re,void 0,de)}function K(J,re={}){if(!J)return F;if("string"==typeof J||function be(J){return!!J&&"string"==typeof J.base&&"string"==typeof J.pattern}(J)){const de=v(J,re);if(de===O)return F;const _e=function(Se,xe){return!!de(Se,xe)};return de.allBasenames&&(_e.allBasenames=de.allBasenames),de.allPaths&&(_e.allPaths=de.allPaths),_e}return function ie(J,re){const de=V(Object.getOwnPropertyNames(J).map(Be=>function T(J,re,de){if(!1===re)return O;const _e=v(J,de);if(_e===O)return O;if("boolean"==typeof re)return _e;if(re){const Se=re.when;if("string"==typeof Se){const xe=(ze,Be,$e,We)=>{if(!We||!_e(ze,Be))return null;const Je=We(Se.replace("$(basename)",()=>$e));return(0,$.Qg)(Je)?Je.then(bt=>bt?J:null):Je?J:null};return xe.requiresSiblings=!0,xe}}return _e}(Be,J[Be],re)).filter(Be=>Be!==O)),_e=de.length;if(!_e)return O;if(!de.some(Be=>!!Be.requiresSiblings)){if(1===_e)return de[0];const Be=function(Ge,Je){let bt;for(let At=0,_t=de.length;At<_t;At++){const Bt=de[At](Ge,Je);if("string"==typeof Bt)return Bt;(0,$.Qg)(Bt)&&(bt||(bt=[]),bt.push(Bt))}return bt?(0,N.A)(function*(){for(const At of bt){const _t=yield At;if("string"==typeof _t)return _t}return null})():null},$e=de.find(Ge=>!!Ge.allBasenames);$e&&(Be.allBasenames=$e.allBasenames);const We=de.reduce((Ge,Je)=>Je.allPaths?Ge.concat(Je.allPaths):Ge,[]);return We.length&&(Be.allPaths=We),Be}const Se=function(Be,$e,We){let Ge,Je;for(let bt=0,At=de.length;bt<At;bt++){const _t=de[bt];_t.requiresSiblings&&We&&($e||($e=(0,p.P8)(Be)),Ge||(Ge=$e.substr(0,$e.length-(0,p.LC)(Be).length)));const Bt=_t(Be,$e,Ge,We);if("string"==typeof Bt)return Bt;(0,$.Qg)(Bt)&&(Je||(Je=[]),Je.push(Bt))}return Je?(0,N.A)(function*(){for(const bt of Je){const At=yield bt;if("string"==typeof At)return At}return null})():null},xe=de.find(Be=>!!Be.allBasenames);xe&&(Se.allBasenames=xe.allBasenames);const ze=de.reduce((Be,$e)=>$e.allPaths?Be.concat($e.allPaths):Be,[]);return ze.length&&(Se.allPaths=ze),Se}(J,re)}function V(J,re){const de=J.filter(Be=>!!Be.basenames);if(de.length<2)return J;const _e=de.reduce((Be,$e)=>{const We=$e.basenames;return We?Be.concat(We):Be},[]);let Se;if(re){Se=[];for(let Be=0,$e=_e.length;Be<$e;Be++)Se.push(re)}else Se=de.reduce((Be,$e)=>{const We=$e.patterns;return We?Be.concat(We):Be},[]);const xe=function(Be,$e){if("string"!=typeof Be)return null;if(!$e){let Ge;for(Ge=Be.length;Ge>0;Ge--){const Je=Be.charCodeAt(Ge-1);if(47===Je||92===Je)break}$e=Be.substr(Ge)}const We=_e.indexOf($e);return-1!==We?Se[We]:null};xe.basenames=_e,xe.patterns=Se,xe.allBasenames=_e;const ze=J.filter(Be=>!Be.basenames);return ze.push(xe),ze}},5763:(Ve,ve,x)=>{"use strict";x.d(ve,{e2:()=>P,sN:()=>s,v7:()=>_});var N=x(6653);function s(y,C){switch(typeof y){case"object":return null===y?E(349,C):Array.isArray(y)?function l(y,C){return C=E(104579,C),y.reduce((h,he)=>s(he,h),C)}(y,C):function I(y,C){return C=E(181387,C),Object.keys(y).sort().reduce((h,he)=>(h=P(he,h),s(y[he],h)),C)}(y,C);case"string":return P(y,C);case"boolean":return function p(y,C){return E(y?433:863,C)}(y,C);case"number":return E(y,C);case"undefined":return E(937,C);default:return E(617,C)}}function E(y,C){return(C<<5)-C+y|0}function P(y,C){C=E(149417,C);for(let h=0,he=y.length;h<he;h++)C=E(y.charCodeAt(h),C);return C}function D(y,C,h=32){const he=h-C;return(y<<C|(~((1<<he)-1)&y)>>>he)>>>0}function Z(y,C=0,h=y.byteLength,he=0){for(let se=0;se<h;se++)y[C+se]=he}function L(y,C=32){return y instanceof ArrayBuffer?Array.from(new Uint8Array(y)).map(h=>h.toString(16).padStart(2,"0")).join(""):function H(y,C,h="0"){for(;y.length<C;)y=h+y;return y}((y>>>0).toString(16),C/4)}class _{static{this._bigBlock32=new DataView(new ArrayBuffer(320))}constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(C){const h=C.length;if(0===h)return;const he=this._buff;let k,m,se=this._buffLen,d=this._leftoverHighSurrogate;for(0!==d?(k=d,m=-1,d=0):(k=C.charCodeAt(0),m=0);;){let R=k;if(N.pc(k)){if(!(m+1<h)){d=k;break}{const F=C.charCodeAt(m+1);N.LJ(F)?(m++,R=N.z_(k,F)):R=65533}}else N.LJ(k)&&(R=65533);if(se=this._push(he,se,R),m++,!(m<h))break;k=C.charCodeAt(m)}this._buffLen=se,this._leftoverHighSurrogate=d}_push(C,h,he){return he<128?C[h++]=he:he<2048?(C[h++]=192|(1984&he)>>>6,C[h++]=128|(63&he)>>>0):he<65536?(C[h++]=224|(61440&he)>>>12,C[h++]=128|(4032&he)>>>6,C[h++]=128|(63&he)>>>0):(C[h++]=240|(1835008&he)>>>18,C[h++]=128|(258048&he)>>>12,C[h++]=128|(4032&he)>>>6,C[h++]=128|(63&he)>>>0),h>=64&&(this._step(),h-=64,this._totalLen+=64,C[0]=C[64],C[1]=C[65],C[2]=C[66]),h}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),L(this._h0)+L(this._h1)+L(this._h2)+L(this._h3)+L(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,Z(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Z(this._buff));const C=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(C/4294967296),!1),this._buffDV.setUint32(60,C%4294967296,!1),this._step()}_step(){const C=_._bigBlock32,h=this._buffDV;for(let v=0;v<64;v+=4)C.setUint32(v,h.getUint32(v,!1),!1);for(let v=64;v<320;v+=4)C.setUint32(v,D(C.getUint32(v-12,!1)^C.getUint32(v-32,!1)^C.getUint32(v-56,!1)^C.getUint32(v-64,!1),1),!1);let R,F,O,he=this._h0,se=this._h1,d=this._h2,k=this._h3,m=this._h4;for(let v=0;v<80;v++)v<20?(R=se&d|~se&k,F=1518500249):v<40?(R=se^d^k,F=1859775393):v<60?(R=se&d|se&k|d&k,F=2400959708):(R=se^d^k,F=3395469782),O=D(he,5)+R+m+F+C.getUint32(4*v,!1)&4294967295,m=k,k=d,d=D(se,30),se=he,he=O;this._h0=this._h0+he&4294967295,this._h1=this._h1+se&4294967295,this._h2=this._h2+d&4294967295,this._h3=this._h3+k&4294967295,this._h4=this._h4+m&4294967295}}},8481:(Ve,ve,x)=>{"use strict";x.d(ve,{f:()=>s});var s,N=x(467),$=x(9495);!function(E){function p(v){return v&&"object"==typeof v&&"function"==typeof v[Symbol.iterator]}E.is=p;const P=Object.freeze([]);function*I(v){yield v}function O(){return(O=(0,N.A)(function*(v){const A=[];var M,W=!1,S=!1;try{for(var ne,G=(0,$.A)(v);W=!(ne=yield G.next()).done;W=!1)A.push(ne.value)}catch(oe){S=!0,M=oe}finally{try{W&&null!=G.return&&(yield G.return())}finally{if(S)throw M}}return Promise.resolve(A)})).apply(this,arguments)}E.empty=function l(){return P},E.single=I,E.wrap=function D(v){return p(v)?v:I(v)},E.from=function Z(v){return v||P},E.reverse=function*H(v){for(let A=v.length-1;A>=0;A--)yield v[A]},E.isEmpty=function L(v){return!v||!0===v[Symbol.iterator]().next().done},E.first=function _(v){return v[Symbol.iterator]().next().value},E.some=function y(v,A){let W=0;for(const S of v)if(A(S,W++))return!0;return!1},E.find=function C(v,A){for(const W of v)if(A(W))return W},E.filter=function*h(v,A){for(const W of v)A(W)&&(yield W)},E.map=function*he(v,A){let W=0;for(const S of v)yield A(S,W++)},E.flatMap=function*se(v,A){let W=0;for(const S of v)yield*A(S,W++)},E.concat=function*d(...v){for(const A of v)yield*A},E.reduce=function k(v,A,W){let S=W;for(const M of v)S=A(S,M);return S},E.slice=function*m(v,A,W=v.length){for(A<0&&(A+=v.length),W<0?W+=v.length:W>v.length&&(W=v.length);A<W;A++)yield v[A]},E.consume=function R(v,A=Number.POSITIVE_INFINITY){const W=[];if(0===A)return[W,v];const S=v[Symbol.iterator]();for(let M=0;M<A;M++){const G=S.next();if(G.done)return[W,E.empty()];W.push(G.value)}return[W,{[Symbol.iterator]:()=>S}]},E.asyncToArray=function F(v){return O.apply(this,arguments)}}(s||(s={}))},7081:(Ve,ve,x)=>{"use strict";x.d(ve,{d:()=>N});class N{constructor(s){this.executor=s,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(s){this._error=s}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},4061:(Ve,ve,x)=>{"use strict";function N(m,R){const F=this;let v,O=!1;return function(){if(O)return v;if(O=!0,R)try{v=m.apply(F,arguments)}finally{R()}else v=m.apply(F,arguments);return v}}x.d(ve,{jG:()=>h,$w:()=>k,Cm:()=>C,HE:()=>he,qE:()=>_,AS:()=>L,VD:()=>l,s:()=>y,Ay:()=>P});var $=x(8481);let E=null;function P(m){return E?.trackDisposable(m),m}function l(m){E?.markAsDisposed(m)}function I(m,R){E?.setParent(m,R)}function L(m){if($.f.is(m)){const R=[];for(const F of m)if(F)try{F.dispose()}catch(O){R.push(O)}if(1===R.length)throw R[0];if(R.length>1)throw new AggregateError(R,"Encountered errors while disposing of store");return Array.isArray(m)?[]:m}if(m)return m.dispose(),m}function _(...m){const R=y(()=>L(m));return function D(m,R){if(E)for(const F of m)E.setParent(F,R)}(m,R),R}function y(m){const R=P({dispose:N(()=>{l(R),m()})});return R}let C=(()=>{class m{static{this.DISABLE_DISPOSED_WARNING=!1}constructor(){this._toDispose=new Set,this._isDisposed=!1,P(this)}dispose(){this._isDisposed||(l(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(0!==this._toDispose.size)try{L(this._toDispose)}finally{this._toDispose.clear()}}add(F){if(!F)return F;if(F===this)throw new Error("Cannot register a disposable on itself!");return I(F,this),this._isDisposed?m.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(F),F}deleteAndLeak(F){F&&this._toDispose.has(F)&&(this._toDispose.delete(F),I(F,null))}}return m})();class h{static{this.None=Object.freeze({dispose(){}})}constructor(){this._store=new C,P(this),I(this._store,this)}dispose(){l(this),this._store.dispose()}_register(R){if(R===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(R)}}class he{constructor(){this._isDisposed=!1,P(this)}get value(){return this._isDisposed?void 0:this._value}set value(R){this._isDisposed||R===this._value||(this._value?.dispose(),R&&I(R,this),this._value=R)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,l(this),this._value?.dispose(),this._value=void 0}}class k{constructor(){this._store=new Map,this._isDisposed=!1,P(this)}dispose(){l(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{L(this._store.values())}finally{this._store.clear()}}get(R){return this._store.get(R)}set(R,F,O=!1){this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),O||this._store.get(R)?.dispose(),this._store.set(R,F)}deleteAndDispose(R){this._store.get(R)?.dispose(),this._store.delete(R)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}},8002:(Ve,ve,x)=>{"use strict";x.d(ve,{w:()=>$});class N{static{this.Undefined=new N(void 0)}constructor(E){this.element=E,this.next=N.Undefined,this.prev=N.Undefined}}class ${constructor(){this._first=N.Undefined,this._last=N.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===N.Undefined}clear(){let E=this._first;for(;E!==N.Undefined;){const p=E.next;E.prev=N.Undefined,E.next=N.Undefined,E=p}this._first=N.Undefined,this._last=N.Undefined,this._size=0}unshift(E){return this._insert(E,!1)}push(E){return this._insert(E,!0)}_insert(E,p){const P=new N(E);if(this._first===N.Undefined)this._first=P,this._last=P;else if(p){const I=this._last;this._last=P,P.prev=I,I.next=P}else{const I=this._first;this._first=P,P.next=I,I.prev=P}this._size+=1;let l=!1;return()=>{l||(l=!0,this._remove(P))}}shift(){if(this._first!==N.Undefined){const E=this._first.element;return this._remove(this._first),E}}pop(){if(this._last!==N.Undefined){const E=this._last.element;return this._remove(this._last),E}}_remove(E){if(E.prev!==N.Undefined&&E.next!==N.Undefined){const p=E.prev;p.next=E.next,E.next.prev=p}else E.prev===N.Undefined&&E.next===N.Undefined?(this._first=N.Undefined,this._last=N.Undefined):E.next===N.Undefined?(this._last=this._last.prev,this._last.next=N.Undefined):E.prev===N.Undefined&&(this._first=this._first.next,this._first.prev=N.Undefined);this._size-=1}*[Symbol.iterator](){let E=this._first;for(;E!==N.Undefined;)yield E.element,E=E.next}}},53:(Ve,ve,x)=>{"use strict";var N,$;x.d(ve,{cO:()=>D,db:()=>Z,fT:()=>p,qK:()=>I});class s{constructor(L,_){this.uri=L,this.value=_}}let p=(()=>{class H{static{this.defaultToKey=_=>_.toString()}constructor(_,y){if(this[N]="ResourceMap",_ instanceof H)this.map=new Map(_.map),this.toKey=y??H.defaultToKey;else if(function E(H){return Array.isArray(H)}(_)){this.map=new Map,this.toKey=y??H.defaultToKey;for(const[C,h]of _)this.set(C,h)}else this.map=new Map,this.toKey=_??H.defaultToKey}set(_,y){return this.map.set(this.toKey(_),new s(_,y)),this}get(_){return this.map.get(this.toKey(_))?.value}has(_){return this.map.has(this.toKey(_))}get size(){return this.map.size}clear(){this.map.clear()}delete(_){return this.map.delete(this.toKey(_))}forEach(_,y){typeof y<"u"&&(_=_.bind(y));for(const[C,h]of this.map)_(h.value,h.uri,this)}*values(){for(const _ of this.map.values())yield _.value}*keys(){for(const _ of this.map.values())yield _.uri}*entries(){for(const _ of this.map.values())yield[_.uri,_.value]}*[(N=Symbol.toStringTag,Symbol.iterator)](){for(const[,_]of this.map)yield[_.uri,_.value]}}return H})();class P{constructor(){this[$]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(L){return this._map.has(L)}get(L,_=0){const y=this._map.get(L);if(y)return 0!==_&&this.touch(y,_),y.value}set(L,_,y=0){let C=this._map.get(L);if(C)C.value=_,0!==y&&this.touch(C,y);else{switch(C={key:L,value:_,next:void 0,previous:void 0},y){case 0:case 2:default:this.addItemLast(C);break;case 1:this.addItemFirst(C)}this._map.set(L,C),this._size++}return this}delete(L){return!!this.remove(L)}remove(L){const _=this._map.get(L);if(_)return this._map.delete(L),this.removeItem(_),this._size--,_.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const L=this._head;return this._map.delete(L.key),this.removeItem(L),this._size--,L.value}forEach(L,_){const y=this._state;let C=this._head;for(;C;){if(_?L.bind(_)(C.value,C.key,this):L(C.value,C.key,this),this._state!==y)throw new Error("LinkedMap got modified during iteration.");C=C.next}}keys(){const L=this,_=this._state;let y=this._head;const C={[Symbol.iterator]:()=>C,next(){if(L._state!==_)throw new Error("LinkedMap got modified during iteration.");if(y){const h={value:y.key,done:!1};return y=y.next,h}return{value:void 0,done:!0}}};return C}values(){const L=this,_=this._state;let y=this._head;const C={[Symbol.iterator]:()=>C,next(){if(L._state!==_)throw new Error("LinkedMap got modified during iteration.");if(y){const h={value:y.value,done:!1};return y=y.next,h}return{value:void 0,done:!0}}};return C}entries(){const L=this,_=this._state;let y=this._head;const C={[Symbol.iterator]:()=>C,next(){if(L._state!==_)throw new Error("LinkedMap got modified during iteration.");if(y){const h={value:[y.key,y.value],done:!1};return y=y.next,h}return{value:void 0,done:!0}}};return C}[($=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(L){if(L>=this.size)return;if(0===L)return void this.clear();let _=this._head,y=this.size;for(;_&&y>L;)this._map.delete(_.key),_=_.next,y--;this._head=_,this._size=y,_&&(_.previous=void 0),this._state++}trimNew(L){if(L>=this.size)return;if(0===L)return void this.clear();let _=this._tail,y=this.size;for(;_&&y>L;)this._map.delete(_.key),_=_.previous,y--;this._tail=_,this._size=y,_&&(_.next=void 0),this._state++}addItemFirst(L){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");L.next=this._head,this._head.previous=L}else this._tail=L;this._head=L,this._state++}addItemLast(L){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");L.previous=this._tail,this._tail.next=L}else this._head=L;this._tail=L,this._state++}removeItem(L){if(L===this._head&&L===this._tail)this._head=void 0,this._tail=void 0;else if(L===this._head){if(!L.next)throw new Error("Invalid list");L.next.previous=void 0,this._head=L.next}else if(L===this._tail){if(!L.previous)throw new Error("Invalid list");L.previous.next=void 0,this._tail=L.previous}else{const _=L.next,y=L.previous;if(!_||!y)throw new Error("Invalid list");_.previous=y,y.next=_}L.next=void 0,L.previous=void 0,this._state++}touch(L,_){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===_||2===_)if(1===_){if(L===this._head)return;const y=L.next,C=L.previous;L===this._tail?(C.next=void 0,this._tail=C):(y.previous=C,C.next=y),L.previous=void 0,L.next=this._head,this._head.previous=L,this._head=L,this._state++}else if(2===_){if(L===this._tail)return;const y=L.next,C=L.previous;L===this._head?(y.previous=void 0,this._head=y):(y.previous=C,C.next=y),L.next=void 0,L.previous=this._tail,this._tail.next=L,this._tail=L,this._state++}}toJSON(){const L=[];return this.forEach((_,y)=>{L.push([y,_])}),L}fromJSON(L){this.clear();for(const[_,y]of L)this.set(_,y)}}class l extends P{constructor(L,_=1){super(),this._limit=L,this._ratio=Math.min(Math.max(0,_),1)}get limit(){return this._limit}set limit(L){this._limit=L,this.checkTrim()}get(L,_=2){return super.get(L,_)}peek(L){return super.get(L,0)}set(L,_){return super.set(L,_,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}}class I extends l{constructor(L,_=1){super(L,_)}trim(L){this.trimOld(L)}set(L,_){return super.set(L,_),this.checkTrim(),this}}class D{constructor(L){if(this._m1=new Map,this._m2=new Map,L)for(const[_,y]of L)this.set(_,y)}clear(){this._m1.clear(),this._m2.clear()}set(L,_){this._m1.set(L,_),this._m2.set(_,L)}get(L){return this._m1.get(L)}getKey(L){return this._m2.get(L)}delete(L){const _=this._m1.get(L);return void 0!==_&&(this._m1.delete(L),this._m2.delete(_),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}class Z{constructor(){this.map=new Map}add(L,_){let y=this.map.get(L);y||(y=new Set,this.map.set(L,y)),y.add(_)}delete(L,_){const y=this.map.get(L);y&&(y.delete(_),0===y.size&&this.map.delete(L))}forEach(L,_){const y=this.map.get(L);y&&y.forEach(_)}get(L){return this.map.get(L)||new Set}}},2323:(Ve,ve,x)=>{"use strict";x.d(ve,{K:()=>N});const N=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},5109:(Ve,ve,x)=>{"use strict";x.d(ve,{ny:()=>P,v$:()=>l,zl:()=>y});var N=x(5680),$=x(1828),s=x(6653),E=x(2417),p=x(1824),P=function(h){return h.inMemory="inmemory",h.vscode="vscode",h.internal="private",h.walkThrough="walkThrough",h.walkThroughSnippet="walkThroughSnippet",h.http="http",h.https="https",h.file="file",h.mailto="mailto",h.untitled="untitled",h.data="data",h.command="command",h.vscodeRemote="vscode-remote",h.vscodeRemoteResource="vscode-remote-resource",h.vscodeManagedRemoteResource="vscode-managed-remote-resource",h.vscodeUserData="vscode-userdata",h.vscodeCustomEditor="vscode-custom-editor",h.vscodeNotebookCell="vscode-notebook-cell",h.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",h.vscodeNotebookCellMetadataDiff="vscode-notebook-cell-metadata-diff",h.vscodeNotebookCellOutput="vscode-notebook-cell-output",h.vscodeNotebookCellOutputDiff="vscode-notebook-cell-output-diff",h.vscodeNotebookMetadata="vscode-notebook-metadata",h.vscodeInteractiveInput="vscode-interactive-input",h.vscodeSettings="vscode-settings",h.vscodeWorkspaceTrust="vscode-workspace-trust",h.vscodeTerminal="vscode-terminal",h.vscodeChatCodeBlock="vscode-chat-code-block",h.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",h.vscodeChatSesssion="vscode-chat-editor",h.webviewPanel="webview-panel",h.vscodeWebview="vscode-webview",h.extension="extension",h.vscodeFileResource="vscode-file",h.tmp="tmp",h.vsls="vsls",h.vscodeSourceControl="vscode-scm",h.commentsInput="comment",h.codeSetting="code-setting",h.outputChannel="output",h}(P||{});function l(h,he){return E.r.isUri(h)?(0,s.Q_)(h.scheme,he):(0,s.ns)(h,he+":")}const H=new class Z{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._serverRootPath="/"}setPreferredWebSchema(he){this._preferredWebSchema=he}get _remoteResourcesPath(){return p.SA.join(this._serverRootPath,P.vscodeRemoteResource)}rewrite(he){if(this._delegate)try{return this._delegate(he)}catch(F){return N.dz(F),he}const se=he.authority;let d=this._hosts[se];d&&-1!==d.indexOf(":")&&-1===d.indexOf("[")&&(d=`[${d}]`);const k=this._ports[se],m=this._connectionTokens[se];let R=`path=${encodeURIComponent(he.path)}`;return"string"==typeof m&&(R+=`&tkn=${encodeURIComponent(m)}`),E.r.from({scheme:$.HZ?this._preferredWebSchema:P.vscodeRemoteResource,authority:`${d}:${k}`,path:this._remoteResourcesPath,query:R})}},y=new((()=>{class h{static{this.FALLBACK_AUTHORITY="vscode-app"}asBrowserUri(se){const d=this.toUri(se);return this.uriToBrowserUri(d)}uriToBrowserUri(se){return se.scheme===P.vscodeRemote?H.rewrite(se):se.scheme!==P.file||!$.ib&&$.lg!==`${P.vscodeFileResource}://${h.FALLBACK_AUTHORITY}`?se:se.with({scheme:P.vscodeFileResource,authority:se.authority||h.FALLBACK_AUTHORITY,query:null,fragment:null})}toUri(se,d){if(E.r.isUri(se))return se;if(globalThis._VSCODE_FILE_ROOT){const k=globalThis._VSCODE_FILE_ROOT;if(/^\w[\w\d+.-]*:\/\//.test(k))return E.r.joinPath(E.r.parse(k,!0),se);const m=p.fj(k,se);return E.r.file(m)}return E.r.parse(d.toUrl(se))}}return h})());var C;!function(h){const he=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);h.CoopAndCoep=Object.freeze(he.get("3"));const se="vscode-coi";h.getHeadersFromQuery=function d(m){let R;"string"==typeof m?R=new URL(m).searchParams:m instanceof URL?R=m.searchParams:E.r.isUri(m)&&(R=new URL(m.toString(!0)).searchParams);const F=R?.get(se);if(F)return he.get(F)},h.addSearchParam=function k(m,R,F){if(!globalThis.crossOriginIsolated)return;const O=R&&F?"3":F?"2":"1";m instanceof URLSearchParams?m.set(se,O):m[se]=O}}(C||(C={}))},4311:(Ve,ve,x)=>{"use strict";function l(H,L){if(H===L)return!0;if(null==H||null==L||typeof H!=typeof L||"object"!=typeof H||Array.isArray(H)!==Array.isArray(L))return!1;let _,y;if(Array.isArray(H)){if(H.length!==L.length)return!1;for(_=0;_<H.length;_++)if(!l(H[_],L[_]))return!1}else{const C=[];for(y in H)C.push(y);C.sort();const h=[];for(y in L)h.push(y);if(h.sort(),!l(C,h))return!1;for(_=0;_<C.length;_++)if(!l(H[C[_]],L[C[_]]))return!1}return!0}function D(H){const L=[];for(const _ of function I(H){let L=[];for(;Object.prototype!==H;)L=L.concat(Object.getOwnPropertyNames(H)),H=Object.getPrototypeOf(H);return L}(H))"function"==typeof H[_]&&L.push(_);return L}function Z(H,L){const _=C=>function(){const h=Array.prototype.slice.call(arguments,0);return L(C,h)},y={};for(const C of H)y[C]=_(C);return y}x.d(ve,{V0:()=>D,aI:()=>l,kT:()=>Z})},1824:(Ve,ve,x)=>{"use strict";x.d(ve,{P8:()=>K,pD:()=>q,LC:()=>be,fj:()=>G,S8:()=>M,SA:()=>S,V8:()=>oe,hd:()=>ne,Vn:()=>ie,IN:()=>A});var N=x(1828);let $;const s=globalThis.vscode;if(typeof s<"u"&&typeof s.process<"u"){const T=s.process;$={get platform(){return T.platform},get arch(){return T.arch},get env(){return T.env},cwd:()=>T.cwd()}}else $=typeof process<"u"&&"string"==typeof process?.versions?.node?{get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd:()=>process.env.VSCODE_CWD||process.cwd()}:{get platform(){return N.uF?"win32":N.zx?"darwin":"linux"},get arch(){},get env(){return{}},cwd:()=>"/"};const E=$.cwd,p=$.env,P=$.platform,H=46,L=47,_=92,y=58;class h extends Error{constructor(V,J,re){let de;"string"==typeof J&&0===J.indexOf("not ")?(de="must not be",J=J.replace(/^not /,"")):de="must be";const _e=-1!==V.indexOf(".")?"property":"argument";let Se=`The "${V}" ${_e} ${de} of type ${J}`;Se+=". Received type "+typeof re,super(Se),this.code="ERR_INVALID_ARG_TYPE"}}function se(T,V){if("string"!=typeof T)throw new h(V,"string",T)}const d="win32"===P;function k(T){return T===L||T===_}function m(T){return T===L}function R(T){return T>=65&&T<=90||T>=97&&T<=122}function F(T,V,J,re){let de="",_e=0,Se=-1,xe=0,ze=0;for(let Be=0;Be<=T.length;++Be){if(Be<T.length)ze=T.charCodeAt(Be);else{if(re(ze))break;ze=L}if(re(ze)){if(Se!==Be-1&&1!==xe)if(2===xe){if(de.length<2||2!==_e||de.charCodeAt(de.length-1)!==H||de.charCodeAt(de.length-2)!==H){if(de.length>2){const $e=de.lastIndexOf(J);-1===$e?(de="",_e=0):(de=de.slice(0,$e),_e=de.length-1-de.lastIndexOf(J)),Se=Be,xe=0;continue}if(0!==de.length){de="",_e=0,Se=Be,xe=0;continue}}V&&(de+=de.length>0?`${J}..`:"..",_e=2)}else de.length>0?de+=`${J}${T.slice(Se+1,Be)}`:de=T.slice(Se+1,Be),_e=Be-Se-1;Se=Be,xe=0}else ze===H&&-1!==xe?++xe:xe=-1}return de}function v(T,V){!function he(T,V){if(null===T||"object"!=typeof T)throw new h(V,"Object",T)}(V,"pathObject");const J=V.dir||V.root,re=V.base||`${V.name||""}${function O(T){return T?`${"."===T[0]?"":"."}${T}`:""}(V.ext)}`;return J?J===V.root?`${J}${re}`:`${J}${T}${re}`:re}const A={resolve(...T){let V="",J="",re=!1;for(let de=T.length-1;de>=-1;de--){let _e;if(de>=0){if(_e=T[de],se(_e,`paths[${de}]`),0===_e.length)continue}else 0===V.length?_e=E():(_e=p[`=${V}`]||E(),(void 0===_e||_e.slice(0,2).toLowerCase()!==V.toLowerCase()&&_e.charCodeAt(2)===_)&&(_e=`${V}\\`));const Se=_e.length;let xe=0,ze="",Be=!1;const $e=_e.charCodeAt(0);if(1===Se)k($e)&&(xe=1,Be=!0);else if(k($e))if(Be=!0,k(_e.charCodeAt(1))){let We=2,Ge=We;for(;We<Se&&!k(_e.charCodeAt(We));)We++;if(We<Se&&We!==Ge){const Je=_e.slice(Ge,We);for(Ge=We;We<Se&&k(_e.charCodeAt(We));)We++;if(We<Se&&We!==Ge){for(Ge=We;We<Se&&!k(_e.charCodeAt(We));)We++;(We===Se||We!==Ge)&&(ze=`\\\\${Je}\\${_e.slice(Ge,We)}`,xe=We)}}}else xe=1;else R($e)&&_e.charCodeAt(1)===y&&(ze=_e.slice(0,2),xe=2,Se>2&&k(_e.charCodeAt(2))&&(Be=!0,xe=3));if(ze.length>0)if(V.length>0){if(ze.toLowerCase()!==V.toLowerCase())continue}else V=ze;if(re){if(V.length>0)break}else if(J=`${_e.slice(xe)}\\${J}`,re=Be,Be&&V.length>0)break}return J=F(J,!re,"\\",k),re?`${V}\\${J}`:`${V}${J}`||"."},normalize(T){se(T,"path");const V=T.length;if(0===V)return".";let re,J=0,de=!1;const _e=T.charCodeAt(0);if(1===V)return m(_e)?"\\":T;if(k(_e))if(de=!0,k(T.charCodeAt(1))){let xe=2,ze=xe;for(;xe<V&&!k(T.charCodeAt(xe));)xe++;if(xe<V&&xe!==ze){const Be=T.slice(ze,xe);for(ze=xe;xe<V&&k(T.charCodeAt(xe));)xe++;if(xe<V&&xe!==ze){for(ze=xe;xe<V&&!k(T.charCodeAt(xe));)xe++;if(xe===V)return`\\\\${Be}\\${T.slice(ze)}\\`;xe!==ze&&(re=`\\\\${Be}\\${T.slice(ze,xe)}`,J=xe)}}}else J=1;else R(_e)&&T.charCodeAt(1)===y&&(re=T.slice(0,2),J=2,V>2&&k(T.charCodeAt(2))&&(de=!0,J=3));let Se=J<V?F(T.slice(J),!de,"\\",k):"";return 0===Se.length&&!de&&(Se="."),Se.length>0&&k(T.charCodeAt(V-1))&&(Se+="\\"),void 0===re?de?`\\${Se}`:Se:de?`${re}\\${Se}`:`${re}${Se}`},isAbsolute(T){se(T,"path");const V=T.length;if(0===V)return!1;const J=T.charCodeAt(0);return k(J)||V>2&&R(J)&&T.charCodeAt(1)===y&&k(T.charCodeAt(2))},join(...T){if(0===T.length)return".";let V,J;for(let _e=0;_e<T.length;++_e){const Se=T[_e];se(Se,"path"),Se.length>0&&(void 0===V?V=J=Se:V+=`\\${Se}`)}if(void 0===V)return".";let re=!0,de=0;if("string"==typeof J&&k(J.charCodeAt(0))){++de;const _e=J.length;_e>1&&k(J.charCodeAt(1))&&(++de,_e>2&&(k(J.charCodeAt(2))?++de:re=!1))}if(re){for(;de<V.length&&k(V.charCodeAt(de));)de++;de>=2&&(V=`\\${V.slice(de)}`)}return A.normalize(V)},relative(T,V){if(se(T,"from"),se(V,"to"),T===V)return"";const J=A.resolve(T),re=A.resolve(V);if(J===re||(T=J.toLowerCase())===(V=re.toLowerCase()))return"";let de=0;for(;de<T.length&&T.charCodeAt(de)===_;)de++;let _e=T.length;for(;_e-1>de&&T.charCodeAt(_e-1)===_;)_e--;const Se=_e-de;let xe=0;for(;xe<V.length&&V.charCodeAt(xe)===_;)xe++;let ze=V.length;for(;ze-1>xe&&V.charCodeAt(ze-1)===_;)ze--;const Be=ze-xe,$e=Se<Be?Se:Be;let We=-1,Ge=0;for(;Ge<$e;Ge++){const bt=T.charCodeAt(de+Ge);if(bt!==V.charCodeAt(xe+Ge))break;bt===_&&(We=Ge)}if(Ge!==$e){if(-1===We)return re}else{if(Be>$e){if(V.charCodeAt(xe+Ge)===_)return re.slice(xe+Ge+1);if(2===Ge)return re.slice(xe+Ge)}Se>$e&&(T.charCodeAt(de+Ge)===_?We=Ge:2===Ge&&(We=3)),-1===We&&(We=0)}let Je="";for(Ge=de+We+1;Ge<=_e;++Ge)(Ge===_e||T.charCodeAt(Ge)===_)&&(Je+=0===Je.length?"..":"\\..");return xe+=We,Je.length>0?`${Je}${re.slice(xe,ze)}`:(re.charCodeAt(xe)===_&&++xe,re.slice(xe,ze))},toNamespacedPath(T){if("string"!=typeof T||0===T.length)return T;const V=A.resolve(T);if(V.length<=2)return T;if(V.charCodeAt(0)===_){if(V.charCodeAt(1)===_){const J=V.charCodeAt(2);if(63!==J&&J!==H)return`\\\\?\\UNC\\${V.slice(2)}`}}else if(R(V.charCodeAt(0))&&V.charCodeAt(1)===y&&V.charCodeAt(2)===_)return`\\\\?\\${V}`;return T},dirname(T){se(T,"path");const V=T.length;if(0===V)return".";let J=-1,re=0;const de=T.charCodeAt(0);if(1===V)return k(de)?T:".";if(k(de)){if(J=re=1,k(T.charCodeAt(1))){let xe=2,ze=xe;for(;xe<V&&!k(T.charCodeAt(xe));)xe++;if(xe<V&&xe!==ze){for(ze=xe;xe<V&&k(T.charCodeAt(xe));)xe++;if(xe<V&&xe!==ze){for(ze=xe;xe<V&&!k(T.charCodeAt(xe));)xe++;if(xe===V)return T;xe!==ze&&(J=re=xe+1)}}}}else R(de)&&T.charCodeAt(1)===y&&(J=V>2&&k(T.charCodeAt(2))?3:2,re=J);let _e=-1,Se=!0;for(let xe=V-1;xe>=re;--xe)if(k(T.charCodeAt(xe))){if(!Se){_e=xe;break}}else Se=!1;if(-1===_e){if(-1===J)return".";_e=J}return T.slice(0,_e)},basename(T,V){void 0!==V&&se(V,"suffix"),se(T,"path");let _e,J=0,re=-1,de=!0;if(T.length>=2&&R(T.charCodeAt(0))&&T.charCodeAt(1)===y&&(J=2),void 0!==V&&V.length>0&&V.length<=T.length){if(V===T)return"";let Se=V.length-1,xe=-1;for(_e=T.length-1;_e>=J;--_e){const ze=T.charCodeAt(_e);if(k(ze)){if(!de){J=_e+1;break}}else-1===xe&&(de=!1,xe=_e+1),Se>=0&&(ze===V.charCodeAt(Se)?-1==--Se&&(re=_e):(Se=-1,re=xe))}return J===re?re=xe:-1===re&&(re=T.length),T.slice(J,re)}for(_e=T.length-1;_e>=J;--_e)if(k(T.charCodeAt(_e))){if(!de){J=_e+1;break}}else-1===re&&(de=!1,re=_e+1);return-1===re?"":T.slice(J,re)},extname(T){se(T,"path");let V=0,J=-1,re=0,de=-1,_e=!0,Se=0;T.length>=2&&T.charCodeAt(1)===y&&R(T.charCodeAt(0))&&(V=re=2);for(let xe=T.length-1;xe>=V;--xe){const ze=T.charCodeAt(xe);if(k(ze)){if(!_e){re=xe+1;break}}else-1===de&&(_e=!1,de=xe+1),ze===H?-1===J?J=xe:1!==Se&&(Se=1):-1!==J&&(Se=-1)}return-1===J||-1===de||0===Se||1===Se&&J===de-1&&J===re+1?"":T.slice(J,de)},format:v.bind(null,"\\"),parse(T){se(T,"path");const V={root:"",dir:"",base:"",ext:"",name:""};if(0===T.length)return V;const J=T.length;let re=0,de=T.charCodeAt(0);if(1===J)return k(de)?(V.root=V.dir=T,V):(V.base=V.name=T,V);if(k(de)){if(re=1,k(T.charCodeAt(1))){let We=2,Ge=We;for(;We<J&&!k(T.charCodeAt(We));)We++;if(We<J&&We!==Ge){for(Ge=We;We<J&&k(T.charCodeAt(We));)We++;if(We<J&&We!==Ge){for(Ge=We;We<J&&!k(T.charCodeAt(We));)We++;We===J?re=We:We!==Ge&&(re=We+1)}}}}else if(R(de)&&T.charCodeAt(1)===y){if(J<=2)return V.root=V.dir=T,V;if(re=2,k(T.charCodeAt(2))){if(3===J)return V.root=V.dir=T,V;re=3}}re>0&&(V.root=T.slice(0,re));let _e=-1,Se=re,xe=-1,ze=!0,Be=T.length-1,$e=0;for(;Be>=re;--Be)if(de=T.charCodeAt(Be),k(de)){if(!ze){Se=Be+1;break}}else-1===xe&&(ze=!1,xe=Be+1),de===H?-1===_e?_e=Be:1!==$e&&($e=1):-1!==_e&&($e=-1);return-1!==xe&&(-1===_e||0===$e||1===$e&&_e===xe-1&&_e===Se+1?V.base=V.name=T.slice(Se,xe):(V.name=T.slice(Se,_e),V.base=T.slice(Se,xe),V.ext=T.slice(_e,xe))),V.dir=Se>0&&Se!==re?T.slice(0,Se-1):V.root,V},sep:"\\",delimiter:";",win32:null,posix:null},W=(()=>{if(d){const T=/\\/g;return()=>{const V=E().replace(T,"/");return V.slice(V.indexOf("/"))}}return()=>E()})(),S={resolve(...T){let V="",J=!1;for(let re=T.length-1;re>=-1&&!J;re--){const de=re>=0?T[re]:W();se(de,`paths[${re}]`),0!==de.length&&(V=`${de}/${V}`,J=de.charCodeAt(0)===L)}return V=F(V,!J,"/",m),J?`/${V}`:V.length>0?V:"."},normalize(T){if(se(T,"path"),0===T.length)return".";const V=T.charCodeAt(0)===L,J=T.charCodeAt(T.length-1)===L;return 0===(T=F(T,!V,"/",m)).length?V?"/":J?"./":".":(J&&(T+="/"),V?`/${T}`:T)},isAbsolute:T=>(se(T,"path"),T.length>0&&T.charCodeAt(0)===L),join(...T){if(0===T.length)return".";let V;for(let J=0;J<T.length;++J){const re=T[J];se(re,"path"),re.length>0&&(void 0===V?V=re:V+=`/${re}`)}return void 0===V?".":S.normalize(V)},relative(T,V){if(se(T,"from"),se(V,"to"),T===V||(T=S.resolve(T))===(V=S.resolve(V)))return"";const re=T.length,de=re-1,Se=V.length-1,xe=de<Se?de:Se;let ze=-1,Be=0;for(;Be<xe;Be++){const We=T.charCodeAt(1+Be);if(We!==V.charCodeAt(1+Be))break;We===L&&(ze=Be)}if(Be===xe)if(Se>xe){if(V.charCodeAt(1+Be)===L)return V.slice(1+Be+1);if(0===Be)return V.slice(1+Be)}else de>xe&&(T.charCodeAt(1+Be)===L?ze=Be:0===Be&&(ze=0));let $e="";for(Be=1+ze+1;Be<=re;++Be)(Be===re||T.charCodeAt(Be)===L)&&($e+=0===$e.length?"..":"/..");return`${$e}${V.slice(1+ze)}`},toNamespacedPath:T=>T,dirname(T){if(se(T,"path"),0===T.length)return".";const V=T.charCodeAt(0)===L;let J=-1,re=!0;for(let de=T.length-1;de>=1;--de)if(T.charCodeAt(de)===L){if(!re){J=de;break}}else re=!1;return-1===J?V?"/":".":V&&1===J?"//":T.slice(0,J)},basename(T,V){void 0!==V&&se(V,"ext"),se(T,"path");let _e,J=0,re=-1,de=!0;if(void 0!==V&&V.length>0&&V.length<=T.length){if(V===T)return"";let Se=V.length-1,xe=-1;for(_e=T.length-1;_e>=0;--_e){const ze=T.charCodeAt(_e);if(ze===L){if(!de){J=_e+1;break}}else-1===xe&&(de=!1,xe=_e+1),Se>=0&&(ze===V.charCodeAt(Se)?-1==--Se&&(re=_e):(Se=-1,re=xe))}return J===re?re=xe:-1===re&&(re=T.length),T.slice(J,re)}for(_e=T.length-1;_e>=0;--_e)if(T.charCodeAt(_e)===L){if(!de){J=_e+1;break}}else-1===re&&(de=!1,re=_e+1);return-1===re?"":T.slice(J,re)},extname(T){se(T,"path");let V=-1,J=0,re=-1,de=!0,_e=0;for(let Se=T.length-1;Se>=0;--Se){const xe=T.charCodeAt(Se);if(xe!==L)-1===re&&(de=!1,re=Se+1),xe===H?-1===V?V=Se:1!==_e&&(_e=1):-1!==V&&(_e=-1);else if(!de){J=Se+1;break}}return-1===V||-1===re||0===_e||1===_e&&V===re-1&&V===J+1?"":T.slice(V,re)},format:v.bind(null,"/"),parse(T){se(T,"path");const V={root:"",dir:"",base:"",ext:"",name:""};if(0===T.length)return V;const J=T.charCodeAt(0)===L;let re;J?(V.root="/",re=1):re=0;let de=-1,_e=0,Se=-1,xe=!0,ze=T.length-1,Be=0;for(;ze>=re;--ze){const $e=T.charCodeAt(ze);if($e!==L)-1===Se&&(xe=!1,Se=ze+1),$e===H?-1===de?de=ze:1!==Be&&(Be=1):-1!==de&&(Be=-1);else if(!xe){_e=ze+1;break}}if(-1!==Se){const $e=0===_e&&J?1:_e;-1===de||0===Be||1===Be&&de===Se-1&&de===_e+1?V.base=V.name=T.slice($e,Se):(V.name=T.slice($e,de),V.base=T.slice($e,Se),V.ext=T.slice(de,Se))}return _e>0?V.dir=T.slice(0,_e-1):J&&(V.dir="/"),V},sep:"/",delimiter:":",win32:null,posix:null};S.win32=A.win32=A,S.posix=A.posix=S;const M=d?A.normalize:S.normalize,G=d?A.join:S.join,ne=d?A.resolve:S.resolve,oe=d?A.relative:S.relative,q=d?A.dirname:S.dirname,K=d?A.basename:S.basename,be=d?A.extname:S.extname,ie=d?A.sep:S.sep},1828:(Ve,ve,x)=>{"use strict";x.d(ve,{H8:()=>re,HZ:()=>W,OS:()=>ie,UP:()=>Se,_p:()=>be,cm:()=>J,gm:()=>de,ib:()=>A,j9:()=>v,lg:()=>M,nr:()=>_e,uF:()=>F,zx:()=>O});var N=x(1913);const $="en";let _,he,s=!1,E=!1,p=!1,P=!1,l=!1,I=!1,D=!1,Z=!1,H=!1,y=null,C=null,h=null;const se=globalThis;let d;typeof se.vscode<"u"&&typeof se.vscode.process<"u"?d=se.vscode.process:typeof process<"u"&&"string"==typeof process?.versions?.node&&(d=process);const k="string"==typeof d?.versions?.electron,m=k&&"renderer"===d?.type;if("object"==typeof d){s="win32"===d.platform,E="darwin"===d.platform,p="linux"===d.platform,P=p&&!!d.env.SNAP&&!!d.env.SNAP_REVISION,D=k,H=!!d.env.CI||!!d.env.BUILD_ARTIFACTSTAGINGDIRECTORY,_=$,y=$;const ze=d.env.VSCODE_NLS_CONFIG;if(ze)try{const Be=JSON.parse(ze);_=Be.userLocale,C=Be.osLocale,y=Be.resolvedLanguage||$,h=Be.languagePack?.translationsConfigFile}catch{}l=!0}else"object"!=typeof navigator||m?console.error("Unable to resolve platform."):(he=navigator.userAgent,s=he.indexOf("Windows")>=0,E=he.indexOf("Macintosh")>=0,Z=(he.indexOf("Macintosh")>=0||he.indexOf("iPad")>=0||he.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,p=he.indexOf("Linux")>=0,he?.indexOf("Mobi"),I=!0,y=N.i8()||$,_=navigator.language.toLowerCase(),C=_);let R=0;E?R=1:s?R=3:p&&(R=2);const F=s,O=E,v=p,A=l,W=I,M=I&&"function"==typeof se.importScripts?se.origin:void 0,oe=he,K="function"==typeof se.postMessage&&!se.importScripts,be=(()=>{if(K){const ze=[];se.addEventListener("message",$e=>{if($e.data&&$e.data.vscodeScheduleAsyncWork)for(let We=0,Ge=ze.length;We<Ge;We++){const Je=ze[We];if(Je.id===$e.data.vscodeScheduleAsyncWork)return ze.splice(We,1),void Je.callback()}});let Be=0;return $e=>{const We=++Be;ze.push({id:We,callback:$e}),se.postMessage({vscodeScheduleAsyncWork:We},"*")}}return ze=>setTimeout(ze)})(),ie=E||Z?2:s?1:3;let T=!0,V=!1;function J(){if(!V){V=!0;const ze=new Uint8Array(2);ze[0]=1,ze[1]=2,T=513===new Uint16Array(ze.buffer)[0]}return T}const re=!!(oe&&oe.indexOf("Chrome")>=0),de=!!(oe&&oe.indexOf("Firefox")>=0),_e=!!(!re&&oe&&oe.indexOf("Safari")>=0),Se=!!(oe&&oe.indexOf("Edg/")>=0);oe&&oe.indexOf("Android")},6698:(Ve,ve,x)=>{"use strict";x.d(ve,{B6:()=>S,P8:()=>h});var N=x(9007),$=x(5109),s=x(1824),E=x(1828),p=x(6653),P=x(2417);function l(M){return(0,P.I)(M,!0)}class I{constructor(G){this._ignorePathCasing=G}compare(G,ne,oe=!1){return G===ne?0:(0,p.UD)(this.getComparisonKey(G,oe),this.getComparisonKey(ne,oe))}isEqual(G,ne,oe=!1){return G===ne||!(!G||!ne)&&this.getComparisonKey(G,oe)===this.getComparisonKey(ne,oe)}getComparisonKey(G,ne=!1){return G.with({path:this._ignorePathCasing(G)?G.path.toLowerCase():void 0,fragment:ne?null:void 0}).toString()}isEqualOrParent(G,ne,oe=!1){if(G.scheme===ne.scheme){if(G.scheme===$.ny.file)return N._1(l(G),l(ne),this._ignorePathCasing(G))&&G.query===ne.query&&(oe||G.fragment===ne.fragment);if(O(G.authority,ne.authority))return N._1(G.path,ne.path,this._ignorePathCasing(G),"/")&&G.query===ne.query&&(oe||G.fragment===ne.fragment)}return!1}joinPath(G,...ne){return P.r.joinPath(G,...ne)}basenameOrAuthority(G){return h(G)||G.authority}basename(G){return s.SA.basename(G.path)}extname(G){return s.SA.extname(G.path)}dirname(G){if(0===G.path.length)return G;let ne;return G.scheme===$.ny.file?ne=P.r.file(s.pD(l(G))).path:(ne=s.SA.dirname(G.path),G.authority&&ne.length&&47!==ne.charCodeAt(0)&&(console.error(`dirname("${G.toString})) resulted in a relative path`),ne="/")),G.with({path:ne})}normalizePath(G){if(!G.path.length)return G;let ne;return ne=G.scheme===$.ny.file?P.r.file(s.S8(l(G))).path:s.SA.normalize(G.path),G.with({path:ne})}relativePath(G,ne){if(G.scheme!==ne.scheme||!O(G.authority,ne.authority))return;if(G.scheme===$.ny.file){const K=s.V8(l(G),l(ne));return E.uF?N.TH(K):K}let oe=G.path||"/";const q=ne.path||"/";if(this._ignorePathCasing(G)){let K=0;for(const be=Math.min(oe.length,q.length);K<be&&(oe.charCodeAt(K)===q.charCodeAt(K)||oe.charAt(K).toLowerCase()===q.charAt(K).toLowerCase());K++);oe=q.substr(0,K)+oe.substr(K)}return s.SA.relative(oe,q)}resolvePath(G,ne){if(G.scheme===$.ny.file){const oe=P.r.file(s.hd(l(G),ne));return G.with({authority:oe.authority,path:oe.path})}return ne=N.kb(ne),G.with({path:s.SA.resolve(G.path,ne)})}isAbsolutePath(G){return!!G.path&&"/"===G.path[0]}isEqualAuthority(G,ne){return G===ne||void 0!==G&&void 0!==ne&&(0,p.Q_)(G,ne)}hasTrailingPathSeparator(G,ne=s.Vn){if(G.scheme===$.ny.file){const oe=l(G);return oe.length>N.Zn(oe).length&&oe[oe.length-1]===ne}{const oe=G.path;return oe.length>1&&47===oe.charCodeAt(oe.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(G.fsPath)}}removeTrailingPathSeparator(G,ne=s.Vn){return v(G,ne)?G.with({path:G.path.substr(0,G.path.length-1)}):G}addTrailingPathSeparator(G,ne=s.Vn){let oe=!1;if(G.scheme===$.ny.file){const q=l(G);oe=void 0!==q&&q.length===N.Zn(q).length&&q[q.length-1]===ne}else{ne="/";const q=G.path;oe=1===q.length&&47===q.charCodeAt(q.length-1)}return oe||v(G,ne)?G:G.with({path:G.path+"/"})}}const D=new I(()=>!1),h=(new I(M=>M.scheme!==$.ny.file||!E.j9),new I(M=>!0),D.isEqual.bind(D),D.isEqualOrParent.bind(D),D.getComparisonKey.bind(D),D.basenameOrAuthority.bind(D),D.basename.bind(D)),O=(D.extname.bind(D),D.dirname.bind(D),D.joinPath.bind(D),D.normalizePath.bind(D),D.relativePath.bind(D),D.resolvePath.bind(D),D.isAbsolutePath.bind(D),D.isEqualAuthority.bind(D)),v=D.hasTrailingPathSeparator.bind(D);var S,M;D.removeTrailingPathSeparator.bind(D),D.addTrailingPathSeparator.bind(D),(M=S||(S={})).META_DATA_LABEL="label",M.META_DATA_DESCRIPTION="description",M.META_DATA_SIZE="size",M.META_DATA_MIME="mime",M.parseMetaData=function G(ne){const oe=new Map;ne.path.substring(ne.path.indexOf(";")+1,ne.path.lastIndexOf(";")).split(";").forEach(be=>{const[ie,T]=be.split(":");ie&&T&&oe.set(ie,T)});const K=ne.path.substring(0,ne.path.indexOf(";"));return K&&oe.set(M.META_DATA_MIME,K),oe}},2588:(Ve,ve,x)=>{"use strict";x.d(ve,{W:()=>$});const N=globalThis.performance&&"function"==typeof globalThis.performance.now;class ${static create(E){return new $(E)}constructor(E){this._now=N&&!1===E?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}}},6653:(Ve,ve,x)=>{"use strict";x.d(ve,{$X:()=>We,AV:()=>s,E_:()=>xe,HG:()=>se,LJ:()=>q,LU:()=>At,NB:()=>Z,OS:()=>y,Q_:()=>S,Ss:()=>Je,UD:()=>m,Wv:()=>W,Z5:()=>be,_J:()=>$e,aC:()=>Be,bm:()=>I,eY:()=>C,jy:()=>P,km:()=>V,lT:()=>k,ne:()=>Ge,ns:()=>M,pc:()=>oe,r_:()=>bt,tk:()=>Bt,tl:()=>te,uz:()=>h,y_:()=>Ee,z_:()=>K});var N=x(9969),$=x(7081);function s(U){return!U||"string"!=typeof U||0===U.trim().length}function P(U){return U.replace(/[<>"'&]/g,Ce=>{switch(Ce){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return Ce})}function I(U){return U.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function Z(U,Ce){if(!U||!Ce)return U;const we=Ce.length;if(0===we||0===U.length)return U;let Fe=0;for(;U.indexOf(Ce,Fe)===Fe;)Fe+=we;return U.substring(Fe)}function y(U,Ce,we={}){if(!U)throw new Error("Cannot create regex from empty string");Ce||(U=I(U)),we.wholeWord&&(/\B/.test(U.charAt(0))||(U="\\b"+U),/\B/.test(U.charAt(U.length-1))||(U+="\\b"));let Fe="";return we.global&&(Fe+="g"),we.matchCase||(Fe+="i"),we.multiline&&(Fe+="m"),we.unicode&&(Fe+="u"),new RegExp(U,Fe)}function C(U){return"^"!==U.source&&"^$"!==U.source&&"$"!==U.source&&"^\\s*$"!==U.source&&!(!U.exec("")||0!==U.lastIndex)}function h(U){return U.split(/\r\n|\r|\n/)}function se(U){for(let Ce=0,we=U.length;Ce<we;Ce++){const Fe=U.charCodeAt(Ce);if(32!==Fe&&9!==Fe)return Ce}return-1}function k(U,Ce=U.length-1){for(let we=Ce;we>=0;we--){const Fe=U.charCodeAt(we);if(32!==Fe&&9!==Fe)return we}return-1}function m(U,Ce){return U<Ce?-1:U>Ce?1:0}function R(U,Ce,we=0,Fe=U.length,qe=0,n=Ce.length){for(;we<Fe&&qe<n;we++,qe++){const Lt=U.charCodeAt(we),Ot=Ce.charCodeAt(qe);if(Lt<Ot)return-1;if(Lt>Ot)return 1}const ct=Fe-we,gt=n-qe;return ct<gt?-1:ct>gt?1:0}function O(U,Ce,we=0,Fe=U.length,qe=0,n=Ce.length){for(;we<Fe&&qe<n;we++,qe++){let Lt=U.charCodeAt(we),Ot=Ce.charCodeAt(qe);if(Lt===Ot)continue;if(Lt>=128||Ot>=128)return R(U.toLowerCase(),Ce.toLowerCase(),we,Fe,qe,n);A(Lt)&&(Lt-=32),A(Ot)&&(Ot-=32);const Pt=Lt-Ot;if(0!==Pt)return Pt}const ct=Fe-we,gt=n-qe;return ct<gt?-1:ct>gt?1:0}function A(U){return U>=97&&U<=122}function W(U){return U>=65&&U<=90}function S(U,Ce){return U.length===Ce.length&&0===O(U,Ce)}function M(U,Ce){return!(Ce.length>U.length)&&0===O(U,Ce,0,Ce.length)}function oe(U){return 55296<=U&&U<=56319}function q(U){return 56320<=U&&U<=57343}function K(U,Ce){return Ce-56320+(U-55296<<10)+65536}function be(U,Ce,we){const Fe=U.charCodeAt(we);if(oe(Fe)&&we+1<Ce){const qe=U.charCodeAt(we+1);if(q(qe))return K(Fe,qe)}return Fe}class T{get offset(){return this._offset}constructor(Ce,we=0){this._str=Ce,this._len=Ce.length,this._offset=we}setOffset(Ce){this._offset=Ce}prevCodePoint(){const Ce=function ie(U,Ce){const we=U.charCodeAt(Ce-1);if(q(we)&&Ce>1){const Fe=U.charCodeAt(Ce-2);if(oe(Fe))return K(Fe,we)}return we}(this._str,this._offset);return this._offset-=Ce>=65536?2:1,Ce}nextCodePoint(){const Ce=be(this._str,this._len,this._offset);return this._offset+=Ce>=65536?2:1,Ce}eol(){return this._offset>=this._len}}class V{get offset(){return this._iterator.offset}constructor(Ce,we=0){this._iterator=new T(Ce,we)}nextGraphemeLength(){const Ce=Yt.getInstance(),we=this._iterator,Fe=we.offset;let qe=Ce.getGraphemeBreakType(we.nextCodePoint());for(;!we.eol();){const n=we.offset,ct=Ce.getGraphemeBreakType(we.nextCodePoint());if(jt(qe,ct)){we.setOffset(n);break}qe=ct}return we.offset-Fe}prevGraphemeLength(){const Ce=Yt.getInstance(),we=this._iterator,Fe=we.offset;let qe=Ce.getGraphemeBreakType(we.prevCodePoint());for(;we.offset>0;){const n=we.offset,ct=Ce.getGraphemeBreakType(we.prevCodePoint());if(jt(ct,qe)){we.setOffset(n);break}qe=ct}return Fe-we.offset}eol(){return this._iterator.eol()}}let _e;function xe(U){return _e||(_e=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/),_e.test(U)}const ze=/^[\t\n\r\x20-\x7E]*$/;function Be(U){return ze.test(U)}const $e=/[\u2028\u2029]/;function We(U){return $e.test(U)}function Ge(U){return U>=11904&&U<=55215||U>=63744&&U<=64255||U>=65281&&U<=65374}function Je(U){return U>=127462&&U<=127487||8986===U||8987===U||9200===U||9203===U||U>=9728&&U<=10175||11088===U||11093===U||U>=127744&&U<=128591||U>=128640&&U<=128764||U>=128992&&U<=129008||U>=129280&&U<=129535||U>=129648&&U<=129782}const bt="\ufeff";function At(U){return!!(U&&U.length>0&&65279===U.charCodeAt(0))}function Bt(U){return U%=52,String.fromCharCode(U<26?97+U:65+U-26)}function jt(U,Ce){return 0===U?5!==Ce&&7!==Ce:!(2===U&&3===Ce||4!==U&&2!==U&&3!==U&&4!==Ce&&2!==Ce&&3!==Ce&&(8===U&&(8===Ce||9===Ce||11===Ce||12===Ce)||(11===U||9===U)&&(9===Ce||10===Ce)||(12===U||10===U)&&10===Ce||5===Ce||13===Ce||7===Ce||1===U||13===U&&14===Ce||6===U&&6===Ce))}let Yt=(()=>{class U{static{this._INSTANCE=null}static getInstance(){return U._INSTANCE||(U._INSTANCE=new U),U._INSTANCE}constructor(){this._data=function zt(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}()}getGraphemeBreakType(we){if(we<32)return 10===we?3:13===we?2:4;if(we<127)return 0;const Fe=this._data,qe=Fe.length/3;let n=1;for(;n<=qe;)if(we<Fe[3*n])n*=2;else{if(!(we>Fe[3*n+1]))return Fe[3*n+2];n=2*n+1}return 0}}return U})();class te{static{this.ambiguousCharacterData=new $.d(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))}static{this.cache=new N.o5({getCacheKey:JSON.stringify},Ce=>{function we(Pt){const kt=new Map;for(let vt=0;vt<Pt.length;vt+=2)kt.set(Pt[vt],Pt[vt+1]);return kt}function qe(Pt,kt){if(!Pt)return kt;const vt=new Map;for(const[Nt,Xt]of Pt)kt.has(Nt)&&vt.set(Nt,Xt);return vt}const n=this.ambiguousCharacterData.value;let gt,ct=Ce.filter(Pt=>!Pt.startsWith("_")&&Pt in n);0===ct.length&&(ct=["_default"]);for(const Pt of ct)gt=qe(gt,we(n[Pt]));const Ot=function Fe(Pt,kt){const vt=new Map(Pt);for(const[Nt,Xt]of kt)vt.set(Nt,Xt);return vt}(we(n._common),gt);return new te(Ot)})}static getInstance(Ce){return te.cache.get(Array.from(Ce))}static{this._locales=new $.d(()=>Object.keys(te.ambiguousCharacterData.value).filter(Ce=>!Ce.startsWith("_")))}static getLocales(){return te._locales.value}constructor(Ce){this.confusableDictionary=Ce}isAmbiguous(Ce){return this.confusableDictionary.has(Ce)}getPrimaryConfusable(Ce){return this.confusableDictionary.get(Ce)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}class Ee{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static{this._data=void 0}static getData(){return this._data||(this._data=new Set(Ee.getRawData())),this._data}static isInvisibleCharacter(Ce){return Ee.getData().has(Ce)}static get codePoints(){return Ee.getData()}}},6702:(Ve,ve,x)=>{"use strict";function N(C){return"string"==typeof C}function $(C){return!("object"!=typeof C||null===C||Array.isArray(C)||C instanceof RegExp||C instanceof Date)}function l(C){return typeof C>"u"}function D(C){return l(C)||null===C}x.d(ve,{Gv:()=>$,Kg:()=>N,b0:()=>l,z:()=>D})},4371:(Ve,ve,x)=>{"use strict";function N(s){return s<0?0:s>255?255:0|s}function $(s){return s<0?0:s>4294967295?4294967295:0|s}x.d(ve,{W:()=>N,j:()=>$})},2417:(Ve,ve,x)=>{"use strict";x.d(ve,{I:()=>se,r:()=>L});var N=x(1824),$=x(1828);const s=/^\w[\w\d+.-]*$/,E=/^\//,p=/^\/\//,D="",Z="/",H=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class L{static isUri(O){return O instanceof L||!!O&&"string"==typeof O.authority&&"string"==typeof O.fragment&&"string"==typeof O.path&&"string"==typeof O.query&&"string"==typeof O.scheme&&"string"==typeof O.fsPath&&"function"==typeof O.with&&"function"==typeof O.toString}constructor(O,v,A,W,S,M=!1){"object"==typeof O?(this.scheme=O.scheme||D,this.authority=O.authority||D,this.path=O.path||D,this.query=O.query||D,this.fragment=O.fragment||D):(this.scheme=function l(F,O){return F||O?F:"file"}(O,M),this.authority=v||D,this.path=function I(F,O){switch(F){case"https":case"http":case"file":O?O[0]!==Z&&(O=Z+O):O=Z}return O}(this.scheme,A||D),this.query=W||D,this.fragment=S||D,function P(F,O){if(!F.scheme&&O)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${F.authority}", path: "${F.path}", query: "${F.query}", fragment: "${F.fragment}"}`);if(F.scheme&&!s.test(F.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(F.path)if(F.authority){if(!E.test(F.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(p.test(F.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this,M))}get fsPath(){return se(this,!1)}with(O){if(!O)return this;let{scheme:v,authority:A,path:W,query:S,fragment:M}=O;return void 0===v?v=this.scheme:null===v&&(v=D),void 0===A?A=this.authority:null===A&&(A=D),void 0===W?W=this.path:null===W&&(W=D),void 0===S?S=this.query:null===S&&(S=D),void 0===M?M=this.fragment:null===M&&(M=D),v===this.scheme&&A===this.authority&&W===this.path&&S===this.query&&M===this.fragment?this:new y(v,A,W,S,M)}static parse(O,v=!1){const A=H.exec(O);return A?new y(A[2]||D,R(A[4]||D),R(A[5]||D),R(A[7]||D),R(A[9]||D),v):new y(D,D,D,D,D)}static file(O){let v=D;if($.uF&&(O=O.replace(/\\/g,Z)),O[0]===Z&&O[1]===Z){const A=O.indexOf(Z,2);-1===A?(v=O.substring(2),O=Z):(v=O.substring(2,A),O=O.substring(A)||Z)}return new y("file",v,O,D,D)}static from(O,v){return new y(O.scheme,O.authority,O.path,O.query,O.fragment,v)}static joinPath(O,...v){if(!O.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let A;return A=$.uF&&"file"===O.scheme?L.file(N.IN.join(se(O,!0),...v)).path:N.SA.join(O.path,...v),O.with({path:A})}toString(O=!1){return d(this,O)}toJSON(){return this}static revive(O){if(O){if(O instanceof L)return O;{const v=new y(O);return v._formatted=O.external??null,v._fsPath=O._sep===_?O.fsPath??null:null,v}}return O}}const _=$.uF?1:void 0;class y extends L{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=se(this,!1)),this._fsPath}toString(O=!1){return O?d(this,!0):(this._formatted||(this._formatted=d(this,!1)),this._formatted)}toJSON(){const O={$mid:1};return this._fsPath&&(O.fsPath=this._fsPath,O._sep=_),this._formatted&&(O.external=this._formatted),this.path&&(O.path=this.path),this.scheme&&(O.scheme=this.scheme),this.authority&&(O.authority=this.authority),this.query&&(O.query=this.query),this.fragment&&(O.fragment=this.fragment),O}}const C={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function h(F,O,v){let A,W=-1;for(let S=0;S<F.length;S++){const M=F.charCodeAt(S);if(M>=97&&M<=122||M>=65&&M<=90||M>=48&&M<=57||45===M||46===M||95===M||126===M||O&&47===M||v&&91===M||v&&93===M||v&&58===M)-1!==W&&(A+=encodeURIComponent(F.substring(W,S)),W=-1),void 0!==A&&(A+=F.charAt(S));else{void 0===A&&(A=F.substr(0,S));const G=C[M];void 0!==G?(-1!==W&&(A+=encodeURIComponent(F.substring(W,S)),W=-1),A+=G):-1===W&&(W=S)}}return-1!==W&&(A+=encodeURIComponent(F.substring(W))),void 0!==A?A:F}function he(F){let O;for(let v=0;v<F.length;v++){const A=F.charCodeAt(v);35===A||63===A?(void 0===O&&(O=F.substr(0,v)),O+=C[A]):void 0!==O&&(O+=F[v])}return void 0!==O?O:F}function se(F,O){let v;return v=F.authority&&F.path.length>1&&"file"===F.scheme?`//${F.authority}${F.path}`:47===F.path.charCodeAt(0)&&(F.path.charCodeAt(1)>=65&&F.path.charCodeAt(1)<=90||F.path.charCodeAt(1)>=97&&F.path.charCodeAt(1)<=122)&&58===F.path.charCodeAt(2)?O?F.path.substr(1):F.path[1].toLowerCase()+F.path.substr(2):F.path,$.uF&&(v=v.replace(/\//g,"\\")),v}function d(F,O){const v=O?he:h;let A="",{scheme:W,authority:S,path:M,query:G,fragment:ne}=F;if(W&&(A+=W,A+=":"),(S||"file"===W)&&(A+=Z,A+=Z),S){let oe=S.indexOf("@");if(-1!==oe){const q=S.substr(0,oe);S=S.substr(oe+1),oe=q.lastIndexOf(":"),-1===oe?A+=v(q,!1,!1):(A+=v(q.substr(0,oe),!1,!1),A+=":",A+=v(q.substr(oe+1),!1,!0)),A+="@"}S=S.toLowerCase(),oe=S.lastIndexOf(":"),-1===oe?A+=v(S,!1,!0):(A+=v(S.substr(0,oe),!1,!0),A+=S.substr(oe))}if(M){if(M.length>=3&&47===M.charCodeAt(0)&&58===M.charCodeAt(2)){const oe=M.charCodeAt(1);oe>=65&&oe<=90&&(M=`/${String.fromCharCode(oe+32)}:${M.substr(3)}`)}else if(M.length>=2&&58===M.charCodeAt(1)){const oe=M.charCodeAt(0);oe>=65&&oe<=90&&(M=`${String.fromCharCode(oe+32)}:${M.substr(2)}`)}A+=v(M,!0,!1)}return G&&(A+="?",A+=v(G,!1,!1)),ne&&(A+="#",A+=O?ne:h(ne,!1,!1)),A}function k(F){try{return decodeURIComponent(F)}catch{return F.length>3?F.substr(0,3)+k(F.substr(3)):F}}const m=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function R(F){return F.match(m)?F.replace(m,O=>k(O)):F}},5252:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{SimpleWorkerClient:()=>d,SimpleWorkerServer:()=>R,create:()=>F,logOnceWebWorkerWarning:()=>L});var N=x(467),$=x(5680),s=x(5643),E=x(4061),p=x(5109),P=x(1828),l=x(6653);const D="default",Z="$initialize";let H=!1;function L(O){P.HZ&&(H||(H=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(O.message))}class _{constructor(v,A,W,S,M){this.vsWorker=v,this.req=A,this.channel=W,this.method=S,this.args=M,this.type=0}}class y{constructor(v,A,W,S){this.vsWorker=v,this.seq=A,this.res=W,this.err=S,this.type=1}}class C{constructor(v,A,W,S,M){this.vsWorker=v,this.req=A,this.channel=W,this.eventName=S,this.arg=M,this.type=2}}class h{constructor(v,A,W){this.vsWorker=v,this.req=A,this.event=W,this.type=3}}class he{constructor(v,A){this.vsWorker=v,this.req=A,this.type=4}}class se{constructor(v){this._workerId=-1,this._handler=v,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(v){this._workerId=v}sendMessage(v,A,W){const S=String(++this._lastSentReq);return new Promise((M,G)=>{this._pendingReplies[S]={resolve:M,reject:G},this._send(new _(this._workerId,S,v,A,W))})}listen(v,A,W){let S=null;const M=new s.vl({onWillAddFirstListener:()=>{S=String(++this._lastSentReq),this._pendingEmitters.set(S,M),this._send(new C(this._workerId,S,v,A,W))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(S),this._send(new he(this._workerId,S)),S=null}});return M.event}handleMessage(v){!v||!v.vsWorker||-1!==this._workerId&&v.vsWorker!==this._workerId||this._handleMessage(v)}createProxyToRemoteChannel(v,A){var W=this;const S={get:(M,G)=>("string"==typeof G&&!M[G]&&(m(G)?M[G]=ne=>this.listen(v,G,ne):k(G)?M[G]=this.listen(v,G,void 0):36===G.charCodeAt(0)&&(M[G]=(0,N.A)(function*(...ne){return yield A?.(),W.sendMessage(v,G,ne)}))),M[G])};return new Proxy(Object.create(null),S)}_handleMessage(v){switch(v.type){case 1:return this._handleReplyMessage(v);case 0:return this._handleRequestMessage(v);case 2:return this._handleSubscribeEventMessage(v);case 3:return this._handleEventMessage(v);case 4:return this._handleUnsubscribeEventMessage(v)}}_handleReplyMessage(v){if(!this._pendingReplies[v.seq])return void console.warn("Got reply to unknown seq");const A=this._pendingReplies[v.seq];if(delete this._pendingReplies[v.seq],v.err){let W=v.err;return v.err.$isError&&(W=new Error,W.name=v.err.name,W.message=v.err.message,W.stack=v.err.stack),void A.reject(W)}A.resolve(v.res)}_handleRequestMessage(v){const A=v.req;this._handler.handleMessage(v.channel,v.method,v.args).then(S=>{this._send(new y(this._workerId,A,S,void 0))},S=>{S.detail instanceof Error&&(S.detail=(0,$.cU)(S.detail)),this._send(new y(this._workerId,A,void 0,(0,$.cU)(S)))})}_handleSubscribeEventMessage(v){const A=v.req,W=this._handler.handleEvent(v.channel,v.eventName,v.arg)(S=>{this._send(new h(this._workerId,A,S))});this._pendingEvents.set(A,W)}_handleEventMessage(v){this._pendingEmitters.has(v.req)?this._pendingEmitters.get(v.req).fire(v.event):console.warn("Got event for unknown req")}_handleUnsubscribeEventMessage(v){this._pendingEvents.has(v.req)?(this._pendingEvents.get(v.req).dispose(),this._pendingEvents.delete(v.req)):console.warn("Got unsubscribe for unknown req")}_send(v){const A=[];if(0===v.type)for(let W=0;W<v.args.length;W++)v.args[W]instanceof ArrayBuffer&&A.push(v.args[W]);else 1===v.type&&v.res instanceof ArrayBuffer&&A.push(v.res);this._handler.sendMessage(v,A)}}class d extends E.jG{constructor(v,A){var W;super(),W=this,this._localChannels=new Map,this._worker=this._register(v.create({amdModuleId:"vs/base/common/worker/simpleWorker",esmModuleLocation:A.esmModuleLocation,label:A.label},G=>{this._protocol.handleMessage(G)},G=>{(0,$.dz)(G)})),this._protocol=new se({sendMessage:(G,ne)=>{this._worker.postMessage(G,ne)},handleMessage:(G,ne,oe)=>this._handleMessage(G,ne,oe),handleEvent:(G,ne,oe)=>this._handleEvent(G,ne,oe)}),this._protocol.setWorkerId(this._worker.getId());let S=null;const M=globalThis.require;typeof M<"u"&&"function"==typeof M.getConfig?S=M.getConfig():typeof globalThis.requirejs<"u"&&(S=globalThis.requirejs.s.contexts._.config),this._onModuleLoaded=this._protocol.sendMessage(D,Z,[this._worker.getId(),JSON.parse(JSON.stringify(S)),A.amdModuleId]),this.proxy=this._protocol.createProxyToRemoteChannel(D,(0,N.A)(function*(){yield W._onModuleLoaded})),this._onModuleLoaded.catch(G=>{this._onError("Worker failed to load "+A.amdModuleId,G)})}_handleMessage(v,A,W){const S=this._localChannels.get(v);if(!S)return Promise.reject(new Error(`Missing channel ${v} on main thread`));if("function"!=typeof S[A])return Promise.reject(new Error(`Missing method ${A} on main thread channel ${v}`));try{return Promise.resolve(S[A].apply(S,W))}catch(M){return Promise.reject(M)}}_handleEvent(v,A,W){const S=this._localChannels.get(v);if(!S)throw new Error(`Missing channel ${v} on main thread`);if(m(A)){const M=S[A].call(S,W);if("function"!=typeof M)throw new Error(`Missing dynamic event ${A} on main thread channel ${v}.`);return M}if(k(A)){const M=S[A];if("function"!=typeof M)throw new Error(`Missing event ${A} on main thread channel ${v}.`);return M}throw new Error(`Malformed event name ${A}`)}setChannel(v,A){this._localChannels.set(v,A)}_onError(v,A){console.error(v),console.info(A)}}function k(O){return"o"===O[0]&&"n"===O[1]&&l.Wv(O.charCodeAt(2))}function m(O){return/^onDynamic/.test(O)&&l.Wv(O.charCodeAt(9))}class R{constructor(v,A){this._localChannels=new Map,this._remoteChannels=new Map,this._requestHandlerFactory=A,this._requestHandler=null,this._protocol=new se({sendMessage:(W,S)=>{v(W,S)},handleMessage:(W,S,M)=>this._handleMessage(W,S,M),handleEvent:(W,S,M)=>this._handleEvent(W,S,M)})}onmessage(v){this._protocol.handleMessage(v)}_handleMessage(v,A,W){if(v===D&&A===Z)return this.initialize(W[0],W[1],W[2]);const S=v===D?this._requestHandler:this._localChannels.get(v);if(!S)return Promise.reject(new Error(`Missing channel ${v} on worker thread`));if("function"!=typeof S[A])return Promise.reject(new Error(`Missing method ${A} on worker thread channel ${v}`));try{return Promise.resolve(S[A].apply(S,W))}catch(M){return Promise.reject(M)}}_handleEvent(v,A,W){const S=v===D?this._requestHandler:this._localChannels.get(v);if(!S)throw new Error(`Missing channel ${v} on worker thread`);if(m(A)){const M=S[A].call(S,W);if("function"!=typeof M)throw new Error(`Missing dynamic event ${A} on request handler.`);return M}if(k(A)){const M=S[A];if("function"!=typeof M)throw new Error(`Missing event ${A} on request handler.`);return M}throw new Error(`Malformed event name ${A}`)}getChannel(v){if(!this._remoteChannels.has(v)){const A=this._protocol.createProxyToRemoteChannel(v);this._remoteChannels.set(v,A)}return this._remoteChannels.get(v)}initialize(v,A,W){var S=this;return(0,N.A)(function*(){if(S._protocol.setWorkerId(v),!S._requestHandlerFactory){A&&(typeof A.baseUrl<"u"&&delete A.baseUrl,typeof A.paths<"u"&&typeof A.paths.vs<"u"&&delete A.paths.vs,typeof A.trustedTypesPolicy<"u"&&delete A.trustedTypesPolicy,A.catchError=!0,globalThis.require.config(A));{const M=p.zl.asBrowserUri(`${W}.js`).toString(!0);return x(5890)(`${M}`).then(G=>{if(S._requestHandler=G.create(S),!S._requestHandler)throw new Error("No RequestHandler!")})}}S._requestHandler=S._requestHandlerFactory(S)})()}}function F(O){return new R(O,null)}},2493:(Ve,ve,x)=>{"use strict";x.d(ve,{V:()=>$});var N=x(4371);class ${constructor(p){const P=(0,N.W)(p);this._defaultValue=P,this._asciiMap=$._createAsciiMap(P),this._map=new Map}static _createAsciiMap(p){const P=new Uint8Array(256);return P.fill(p),P}set(p,P){const l=(0,N.W)(P);p>=0&&p<256?this._asciiMap[p]=l:this._map.set(p,l)}get(p){return p>=0&&p<256?this._asciiMap[p]:this._map.get(p)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}},976:(Ve,ve,x)=>{"use strict";x.d(ve,{AQ:()=>At,aZ:()=>bt,l5:()=>Yt,lQ:()=>Bt,s7:()=>Oe,sH:()=>zt,sN:()=>_t,ss:()=>jt,yI:()=>Je,zp:()=>Qe});var N=x(1913),$=x(4072),s=x(5478),E=x(7464);const p=(0,s.x1A)("editor.lineHighlightBackground",null,N.kg("lineHighlight","Background color for the highlight of line at the cursor position.")),H=((0,s.x1A)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:s.b1q},N.kg("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),(0,s.x1A)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},N.kg("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),(0,s.x1A)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:s.buw,hcLight:s.buw},N.kg("rangeHighlightBorder","Background color of the border around highlighted ranges.")),(0,s.x1A)("editor.symbolHighlightBackground",{dark:s.Ubg,light:s.Ubg,hcDark:null,hcLight:null},N.kg("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),(0,s.x1A)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:s.buw,hcLight:s.buw},N.kg("symbolHighlightBorder","Background color of the border around highlighted symbols.")),(0,s.x1A)("editorCursor.foreground",{dark:"#AEAFAD",light:$.Q1.black,hcDark:$.Q1.white,hcLight:"#0F4A85"},N.kg("caret","Color of the editor cursor."))),L=(0,s.x1A)("editorCursor.background",null,N.kg("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),he=((0,s.x1A)("editorMultiCursor.primary.foreground",H,N.kg("editorMultiCursorPrimaryForeground","Color of the primary editor cursor when multiple cursors are present.")),(0,s.x1A)("editorMultiCursor.primary.background",L,N.kg("editorMultiCursorPrimaryBackground","The background color of the primary editor cursor when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),(0,s.x1A)("editorMultiCursor.secondary.foreground",H,N.kg("editorMultiCursorSecondaryForeground","Color of secondary editor cursors when multiple cursors are present.")),(0,s.x1A)("editorMultiCursor.secondary.background",L,N.kg("editorMultiCursorSecondaryBackground","The background color of secondary editor cursors when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),(0,s.x1A)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},N.kg("editorWhitespaces","Color of whitespace characters in the editor."))),d=((0,s.x1A)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:$.Q1.white,hcLight:"#292929"},N.kg("editorLineNumbers","Color of editor line numbers.")),(0,s.x1A)("editorIndentGuide.background",he,N.kg("editorIndentGuides","Color of the editor indentation guides."),!1,N.kg("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead."))),k=(0,s.x1A)("editorIndentGuide.activeBackground",he,N.kg("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,N.kg("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),q=((0,s.x1A)("editorIndentGuide.background1",d,N.kg("editorIndentGuides1","Color of the editor indentation guides (1).")),(0,s.x1A)("editorIndentGuide.background2","#00000000",N.kg("editorIndentGuides2","Color of the editor indentation guides (2).")),(0,s.x1A)("editorIndentGuide.background3","#00000000",N.kg("editorIndentGuides3","Color of the editor indentation guides (3).")),(0,s.x1A)("editorIndentGuide.background4","#00000000",N.kg("editorIndentGuides4","Color of the editor indentation guides (4).")),(0,s.x1A)("editorIndentGuide.background5","#00000000",N.kg("editorIndentGuides5","Color of the editor indentation guides (5).")),(0,s.x1A)("editorIndentGuide.background6","#00000000",N.kg("editorIndentGuides6","Color of the editor indentation guides (6).")),(0,s.x1A)("editorIndentGuide.activeBackground1",k,N.kg("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),(0,s.x1A)("editorIndentGuide.activeBackground2","#00000000",N.kg("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),(0,s.x1A)("editorIndentGuide.activeBackground3","#00000000",N.kg("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),(0,s.x1A)("editorIndentGuide.activeBackground4","#00000000",N.kg("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),(0,s.x1A)("editorIndentGuide.activeBackground5","#00000000",N.kg("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),(0,s.x1A)("editorIndentGuide.activeBackground6","#00000000",N.kg("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),(0,s.x1A)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:s.buw,hcLight:s.buw},N.kg("editorActiveLineNumber","Color of editor active line number"),!1,N.kg("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead."))),We=((0,s.x1A)("editorLineNumber.activeForeground",q,N.kg("editorActiveLineNumber","Color of editor active line number")),(0,s.x1A)("editorLineNumber.dimmedForeground",null,N.kg("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed.")),(0,s.x1A)("editorRuler.foreground",{dark:"#5A5A5A",light:$.Q1.lightgrey,hcDark:$.Q1.white,hcLight:"#292929"},N.kg("editorRuler","Color of the editor rulers.")),(0,s.x1A)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},N.kg("editorCodeLensForeground","Foreground color of editor CodeLens")),(0,s.x1A)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},N.kg("editorBracketMatchBackground","Background color behind matching brackets")),(0,s.x1A)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:s.b1q,hcLight:s.b1q},N.kg("editorBracketMatchBorder","Color for matching brackets boxes")),(0,s.x1A)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},N.kg("editorOverviewRulerBorder","Color of the overview ruler border.")),(0,s.x1A)("editorOverviewRuler.background",null,N.kg("editorOverviewRulerBackground","Background color of the editor overview ruler.")),(0,s.x1A)("editorGutter.background",s.YtV,N.kg("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),(0,s.x1A)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:$.Q1.fromHex("#fff").transparent(.8),hcLight:s.b1q},N.kg("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),(0,s.x1A)("editorUnnecessaryCode.opacity",{dark:$.Q1.fromHex("#000a"),light:$.Q1.fromHex("#0007"),hcDark:null,hcLight:null},N.kg("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),(0,s.x1A)("editorGhostText.border",{dark:null,light:null,hcDark:$.Q1.fromHex("#fff").transparent(.8),hcLight:$.Q1.fromHex("#292929").transparent(.8)},N.kg("editorGhostTextBorder","Border color of ghost text in the editor.")),(0,s.x1A)("editorGhostText.foreground",{dark:$.Q1.fromHex("#ffffff56"),light:$.Q1.fromHex("#0007"),hcDark:null,hcLight:null},N.kg("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),(0,s.x1A)("editorGhostText.background",null,N.kg("editorGhostTextBackground","Background color of the ghost text in the editor.")),new $.Q1(new $.bU(0,122,204,.6))),Je=((0,s.x1A)("editorOverviewRuler.rangeHighlightForeground",We,N.kg("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),(0,s.x1A)("editorOverviewRuler.errorForeground",{dark:new $.Q1(new $.bU(255,18,18,.7)),light:new $.Q1(new $.bU(255,18,18,.7)),hcDark:new $.Q1(new $.bU(255,50,50,1)),hcLight:"#B5200D"},N.kg("overviewRuleError","Overview ruler marker color for errors."))),bt=(0,s.x1A)("editorOverviewRuler.warningForeground",{dark:s.Hng,light:s.Hng,hcDark:s.Stt,hcLight:s.Stt},N.kg("overviewRuleWarning","Overview ruler marker color for warnings.")),At=(0,s.x1A)("editorOverviewRuler.infoForeground",{dark:s.pOz,light:s.pOz,hcDark:s.IIb,hcLight:s.IIb},N.kg("overviewRuleInfo","Overview ruler marker color for infos.")),_t=(0,s.x1A)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},N.kg("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),Bt=(0,s.x1A)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},N.kg("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),jt=(0,s.x1A)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},N.kg("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),Yt=(0,s.x1A)("editorBracketHighlight.foreground4","#00000000",N.kg("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),zt=(0,s.x1A)("editorBracketHighlight.foreground5","#00000000",N.kg("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),Qe=(0,s.x1A)("editorBracketHighlight.foreground6","#00000000",N.kg("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),Oe=(0,s.x1A)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new $.Q1(new $.bU(255,18,18,.8)),light:new $.Q1(new $.bU(255,18,18,.8)),hcDark:"new Color(new RGBA(255, 50, 50, 1))",hcLight:"#B5200D"},N.kg("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets."));(0,s.x1A)("editorBracketPairGuide.background1","#00000000",N.kg("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),(0,s.x1A)("editorBracketPairGuide.background2","#00000000",N.kg("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),(0,s.x1A)("editorBracketPairGuide.background3","#00000000",N.kg("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),(0,s.x1A)("editorBracketPairGuide.background4","#00000000",N.kg("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),(0,s.x1A)("editorBracketPairGuide.background5","#00000000",N.kg("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),(0,s.x1A)("editorBracketPairGuide.background6","#00000000",N.kg("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),(0,s.x1A)("editorBracketPairGuide.activeBackground1","#00000000",N.kg("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),(0,s.x1A)("editorBracketPairGuide.activeBackground2","#00000000",N.kg("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),(0,s.x1A)("editorBracketPairGuide.activeBackground3","#00000000",N.kg("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),(0,s.x1A)("editorBracketPairGuide.activeBackground4","#00000000",N.kg("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),(0,s.x1A)("editorBracketPairGuide.activeBackground5","#00000000",N.kg("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),(0,s.x1A)("editorBracketPairGuide.activeBackground6","#00000000",N.kg("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),(0,s.x1A)("editorUnicodeHighlight.border",s.Hng,N.kg("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),(0,s.x1A)("editorUnicodeHighlight.background",s.whs,N.kg("editorUnicodeHighlight.background","Background color used to highlight unicode characters.")),(0,E.zy)((Pt,kt)=>{const vt=Pt.getColor(s.YtV),Nt=Pt.getColor(p),Xt=Nt&&!Nt.isTransparent()?Nt:vt;Xt&&kt.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${Xt}; }`)})},5583:(Ve,ve,x)=>{"use strict";function N($){let s=0,E=0,p=0,P=0;for(let l=0,I=$.length;l<I;l++){const D=$.charCodeAt(l);13===D?(0===s&&(E=l),s++,l+1<I&&10===$.charCodeAt(l+1)?(P|=2,l++):P|=3,p=l+1):10===D&&(P|=1,0===s&&(E=l),s++,p=l+1)}return 0===s&&(E=$.length),[s,E,$.length-p,P]}x.d(ve,{W:()=>N})},4132:(Ve,ve,x)=>{"use strict";x.d(ve,{M:()=>p,S:()=>P});var N=x(5680),$=x(1639),s=x(3678),E=x(2210);class p{static fromRangeInclusive(I){return new p(I.startLineNumber,I.endLineNumber+1)}static joinMany(I){if(0===I.length)return[];let D=new P(I[0].slice());for(let Z=1;Z<I.length;Z++)D=D.getUnion(new P(I[Z].slice()));return D.ranges}static join(I){if(0===I.length)throw new N.D7("lineRanges cannot be empty");let D=I[0].startLineNumber,Z=I[0].endLineNumberExclusive;for(let H=1;H<I.length;H++)D=Math.min(D,I[H].startLineNumber),Z=Math.max(Z,I[H].endLineNumberExclusive);return new p(D,Z)}static ofLength(I,D){return new p(I,I+D)}static deserialize(I){return new p(I[0],I[1])}constructor(I,D){if(I>D)throw new N.D7(`startLineNumber ${I} cannot be after endLineNumberExclusive ${D}`);this.startLineNumber=I,this.endLineNumberExclusive=D}contains(I){return this.startLineNumber<=I&&I<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(I){return new p(this.startLineNumber+I,this.endLineNumberExclusive+I)}deltaLength(I){return new p(this.startLineNumber,this.endLineNumberExclusive+I)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(I){return new p(Math.min(this.startLineNumber,I.startLineNumber),Math.max(this.endLineNumberExclusive,I.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(I){const D=Math.max(this.startLineNumber,I.startLineNumber),Z=Math.min(this.endLineNumberExclusive,I.endLineNumberExclusive);if(D<=Z)return new p(D,Z)}intersectsStrict(I){return this.startLineNumber<I.endLineNumberExclusive&&I.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(I){return this.startLineNumber<=I.endLineNumberExclusive&&I.startLineNumber<=this.endLineNumberExclusive}equals(I){return this.startLineNumber===I.startLineNumber&&this.endLineNumberExclusive===I.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new s.Q(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new s.Q(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(I){const D=[];for(let Z=this.startLineNumber;Z<this.endLineNumberExclusive;Z++)D.push(I(Z));return D}forEach(I){for(let D=this.startLineNumber;D<this.endLineNumberExclusive;D++)I(D)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(I){return this.startLineNumber<=I&&I<this.endLineNumberExclusive}toOffsetRange(){return new $.L(this.startLineNumber-1,this.endLineNumberExclusive-1)}}class P{constructor(I=[]){this._normalizedRanges=I}get ranges(){return this._normalizedRanges}addRange(I){if(0===I.length)return;const D=(0,E.hw)(this._normalizedRanges,H=>H.endLineNumberExclusive>=I.startLineNumber),Z=(0,E.iM)(this._normalizedRanges,H=>H.startLineNumber<=I.endLineNumberExclusive)+1;if(D===Z)this._normalizedRanges.splice(D,0,I);else if(D===Z-1)this._normalizedRanges[D]=this._normalizedRanges[D].join(I);else{const H=this._normalizedRanges[D].join(this._normalizedRanges[Z-1]).join(I);this._normalizedRanges.splice(D,Z-D,H)}}contains(I){const D=(0,E.lx)(this._normalizedRanges,Z=>Z.startLineNumber<=I);return!!D&&D.endLineNumberExclusive>I}intersects(I){const D=(0,E.lx)(this._normalizedRanges,Z=>Z.startLineNumber<I.endLineNumberExclusive);return!!D&&D.endLineNumberExclusive>I.startLineNumber}getUnion(I){if(0===this._normalizedRanges.length)return I;if(0===I._normalizedRanges.length)return this;const D=[];let Z=0,H=0,L=null;for(;Z<this._normalizedRanges.length||H<I._normalizedRanges.length;){let _=null;if(Z<this._normalizedRanges.length&&H<I._normalizedRanges.length){const y=this._normalizedRanges[Z],C=I._normalizedRanges[H];y.startLineNumber<C.startLineNumber?(_=y,Z++):(_=C,H++)}else Z<this._normalizedRanges.length?(_=this._normalizedRanges[Z],Z++):(_=I._normalizedRanges[H],H++);null===L?L=_:L.endLineNumberExclusive>=_.startLineNumber?L=new p(L.startLineNumber,Math.max(L.endLineNumberExclusive,_.endLineNumberExclusive)):(D.push(L),L=_)}return null!==L&&D.push(L),new P(D)}subtractFrom(I){const D=(0,E.hw)(this._normalizedRanges,_=>_.endLineNumberExclusive>=I.startLineNumber),Z=(0,E.iM)(this._normalizedRanges,_=>_.startLineNumber<=I.endLineNumberExclusive)+1;if(D===Z)return new P([I]);const H=[];let L=I.startLineNumber;for(let _=D;_<Z;_++){const y=this._normalizedRanges[_];y.startLineNumber>L&&H.push(new p(L,y.startLineNumber)),L=y.endLineNumberExclusive}return L<I.endLineNumberExclusive&&H.push(new p(L,I.endLineNumberExclusive)),new P(H)}toString(){return this._normalizedRanges.map(I=>I.toString()).join(", ")}getIntersection(I){const D=[];let Z=0,H=0;for(;Z<this._normalizedRanges.length&&H<I._normalizedRanges.length;){const L=this._normalizedRanges[Z],_=I._normalizedRanges[H],y=L.intersect(_);y&&!y.isEmpty&&D.push(y),L.endLineNumberExclusive<_.endLineNumberExclusive?Z++:H++}return new P(D)}getWithDelta(I){return new P(this._normalizedRanges.map(D=>D.delta(I)))}}},1639:(Ve,ve,x)=>{"use strict";x.d(ve,{L:()=>$});var N=x(5680);class ${static addRange(p,P){let l=0;for(;l<P.length&&P[l].endExclusive<p.start;)l++;let I=l;for(;I<P.length&&P[I].start<=p.endExclusive;)I++;if(l===I)P.splice(l,0,p);else{const D=Math.min(p.start,P[l].start),Z=Math.max(p.endExclusive,P[I-1].endExclusive);P.splice(l,I-l,new $(D,Z))}}static tryCreate(p,P){if(!(p>P))return new $(p,P)}static ofLength(p){return new $(0,p)}static ofStartAndLength(p,P){return new $(p,p+P)}constructor(p,P){if(this.start=p,this.endExclusive=P,p>P)throw new N.D7(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(p){return new $(this.start+p,this.endExclusive+p)}deltaStart(p){return new $(this.start+p,this.endExclusive)}deltaEnd(p){return new $(this.start,this.endExclusive+p)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(p){return this.start<=p&&p<this.endExclusive}join(p){return new $(Math.min(this.start,p.start),Math.max(this.endExclusive,p.endExclusive))}intersect(p){const P=Math.max(this.start,p.start),l=Math.min(this.endExclusive,p.endExclusive);if(P<=l)return new $(P,l)}intersects(p){return Math.max(this.start,p.start)<Math.min(this.endExclusive,p.endExclusive)}isBefore(p){return this.endExclusive<=p.start}isAfter(p){return this.start>=p.endExclusive}slice(p){return p.slice(this.start,this.endExclusive)}substring(p){return p.substring(this.start,this.endExclusive)}clip(p){if(this.isEmpty)throw new N.D7(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,p))}clipCyclic(p){if(this.isEmpty)throw new N.D7(`Invalid clipping range: ${this.toString()}`);return p<this.start?this.endExclusive-(this.start-p)%this.length:p>=this.endExclusive?this.start+(p-this.start)%this.length:p}forEach(p){for(let P=this.start;P<this.endExclusive;P++)p(P)}}},3632:(Ve,ve,x)=>{"use strict";x.d(ve,{y:()=>N});class N{constructor(s,E){this.lineNumber=s,this.column=E}with(s=this.lineNumber,E=this.column){return s===this.lineNumber&&E===this.column?this:new N(s,E)}delta(s=0,E=0){return this.with(this.lineNumber+s,this.column+E)}equals(s){return N.equals(this,s)}static equals(s,E){return!s&&!E||!!s&&!!E&&s.lineNumber===E.lineNumber&&s.column===E.column}isBefore(s){return N.isBefore(this,s)}static isBefore(s,E){return s.lineNumber<E.lineNumber||!(E.lineNumber<s.lineNumber)&&s.column<E.column}isBeforeOrEqual(s){return N.isBeforeOrEqual(this,s)}static isBeforeOrEqual(s,E){return s.lineNumber<E.lineNumber||!(E.lineNumber<s.lineNumber)&&s.column<=E.column}static compare(s,E){const p=0|s.lineNumber,P=0|E.lineNumber;return p===P?(0|s.column)-(0|E.column):p-P}clone(){return new N(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(s){return new N(s.lineNumber,s.column)}static isIPosition(s){return s&&"number"==typeof s.lineNumber&&"number"==typeof s.column}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}}},3678:(Ve,ve,x)=>{"use strict";x.d(ve,{Q:()=>$});var N=x(3632);class ${constructor(E,p,P,l){E>P||E===P&&p>l?(this.startLineNumber=P,this.startColumn=l,this.endLineNumber=E,this.endColumn=p):(this.startLineNumber=E,this.startColumn=p,this.endLineNumber=P,this.endColumn=l)}isEmpty(){return $.isEmpty(this)}static isEmpty(E){return E.startLineNumber===E.endLineNumber&&E.startColumn===E.endColumn}containsPosition(E){return $.containsPosition(this,E)}static containsPosition(E,p){return!(p.lineNumber<E.startLineNumber||p.lineNumber>E.endLineNumber||p.lineNumber===E.startLineNumber&&p.column<E.startColumn||p.lineNumber===E.endLineNumber&&p.column>E.endColumn)}static strictContainsPosition(E,p){return!(p.lineNumber<E.startLineNumber||p.lineNumber>E.endLineNumber||p.lineNumber===E.startLineNumber&&p.column<=E.startColumn||p.lineNumber===E.endLineNumber&&p.column>=E.endColumn)}containsRange(E){return $.containsRange(this,E)}static containsRange(E,p){return!(p.startLineNumber<E.startLineNumber||p.endLineNumber<E.startLineNumber||p.startLineNumber>E.endLineNumber||p.endLineNumber>E.endLineNumber||p.startLineNumber===E.startLineNumber&&p.startColumn<E.startColumn||p.endLineNumber===E.endLineNumber&&p.endColumn>E.endColumn)}strictContainsRange(E){return $.strictContainsRange(this,E)}static strictContainsRange(E,p){return!(p.startLineNumber<E.startLineNumber||p.endLineNumber<E.startLineNumber||p.startLineNumber>E.endLineNumber||p.endLineNumber>E.endLineNumber||p.startLineNumber===E.startLineNumber&&p.startColumn<=E.startColumn||p.endLineNumber===E.endLineNumber&&p.endColumn>=E.endColumn)}plusRange(E){return $.plusRange(this,E)}static plusRange(E,p){let P,l,I,D;return p.startLineNumber<E.startLineNumber?(P=p.startLineNumber,l=p.startColumn):p.startLineNumber===E.startLineNumber?(P=p.startLineNumber,l=Math.min(p.startColumn,E.startColumn)):(P=E.startLineNumber,l=E.startColumn),p.endLineNumber>E.endLineNumber?(I=p.endLineNumber,D=p.endColumn):p.endLineNumber===E.endLineNumber?(I=p.endLineNumber,D=Math.max(p.endColumn,E.endColumn)):(I=E.endLineNumber,D=E.endColumn),new $(P,l,I,D)}intersectRanges(E){return $.intersectRanges(this,E)}static intersectRanges(E,p){let P=E.startLineNumber,l=E.startColumn,I=E.endLineNumber,D=E.endColumn;const Z=p.startLineNumber,H=p.startColumn,L=p.endLineNumber,_=p.endColumn;return P<Z?(P=Z,l=H):P===Z&&(l=Math.max(l,H)),I>L?(I=L,D=_):I===L&&(D=Math.min(D,_)),P>I||P===I&&l>D?null:new $(P,l,I,D)}equalsRange(E){return $.equalsRange(this,E)}static equalsRange(E,p){return!E&&!p||!!E&&!!p&&E.startLineNumber===p.startLineNumber&&E.startColumn===p.startColumn&&E.endLineNumber===p.endLineNumber&&E.endColumn===p.endColumn}getEndPosition(){return $.getEndPosition(this)}static getEndPosition(E){return new N.y(E.endLineNumber,E.endColumn)}getStartPosition(){return $.getStartPosition(this)}static getStartPosition(E){return new N.y(E.startLineNumber,E.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(E,p){return new $(this.startLineNumber,this.startColumn,E,p)}setStartPosition(E,p){return new $(E,p,this.endLineNumber,this.endColumn)}collapseToStart(){return $.collapseToStart(this)}static collapseToStart(E){return new $(E.startLineNumber,E.startColumn,E.startLineNumber,E.startColumn)}collapseToEnd(){return $.collapseToEnd(this)}static collapseToEnd(E){return new $(E.endLineNumber,E.endColumn,E.endLineNumber,E.endColumn)}delta(E){return new $(this.startLineNumber+E,this.startColumn,this.endLineNumber+E,this.endColumn)}static fromPositions(E,p=E){return new $(E.lineNumber,E.column,p.lineNumber,p.column)}static lift(E){return E?new $(E.startLineNumber,E.startColumn,E.endLineNumber,E.endColumn):null}static isIRange(E){return E&&"number"==typeof E.startLineNumber&&"number"==typeof E.startColumn&&"number"==typeof E.endLineNumber&&"number"==typeof E.endColumn}static areIntersectingOrTouching(E,p){return!(E.endLineNumber<p.startLineNumber||E.endLineNumber===p.startLineNumber&&E.endColumn<p.startColumn||p.endLineNumber<E.startLineNumber||p.endLineNumber===E.startLineNumber&&p.endColumn<E.startColumn)}static areIntersecting(E,p){return!(E.endLineNumber<p.startLineNumber||E.endLineNumber===p.startLineNumber&&E.endColumn<=p.startColumn||p.endLineNumber<E.startLineNumber||p.endLineNumber===E.startLineNumber&&p.endColumn<=E.startColumn)}static compareRangesUsingStarts(E,p){if(E&&p){const I=0|E.startLineNumber,D=0|p.startLineNumber;if(I===D){const Z=0|E.startColumn,H=0|p.startColumn;if(Z===H){const L=0|E.endLineNumber,_=0|p.endLineNumber;return L===_?(0|E.endColumn)-(0|p.endColumn):L-_}return Z-H}return I-D}return(E?1:0)-(p?1:0)}static compareRangesUsingEnds(E,p){return E.endLineNumber===p.endLineNumber?E.endColumn===p.endColumn?E.startLineNumber===p.startLineNumber?E.startColumn-p.startColumn:E.startLineNumber-p.startLineNumber:E.endColumn-p.endColumn:E.endLineNumber-p.endLineNumber}static spansMultipleLines(E){return E.endLineNumber>E.startLineNumber}toJSON(){return this}}},4105:(Ve,ve,x)=>{"use strict";x.d(ve,{L:()=>s});var N=x(3632),$=x(3678);class s extends $.Q{constructor(p,P,l,I){super(p,P,l,I),this.selectionStartLineNumber=p,this.selectionStartColumn=P,this.positionLineNumber=l,this.positionColumn=I}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(p){return s.selectionsEqual(this,p)}static selectionsEqual(p,P){return p.selectionStartLineNumber===P.selectionStartLineNumber&&p.selectionStartColumn===P.selectionStartColumn&&p.positionLineNumber===P.positionLineNumber&&p.positionColumn===P.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(p,P){return 0===this.getDirection()?new s(this.startLineNumber,this.startColumn,p,P):new s(p,P,this.startLineNumber,this.startColumn)}getPosition(){return new N.y(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new N.y(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(p,P){return 0===this.getDirection()?new s(p,P,this.endLineNumber,this.endColumn):new s(this.endLineNumber,this.endColumn,p,P)}static fromPositions(p,P=p){return new s(p.lineNumber,p.column,P.lineNumber,P.column)}static fromRange(p,P){return 0===P?new s(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn):new s(p.endLineNumber,p.endColumn,p.startLineNumber,p.startColumn)}static liftSelection(p){return new s(p.selectionStartLineNumber,p.selectionStartColumn,p.positionLineNumber,p.positionColumn)}static selectionsArrEqual(p,P){if(p&&!P||!p&&P)return!1;if(!p&&!P)return!0;if(p.length!==P.length)return!1;for(let l=0,I=p.length;l<I;l++)if(!this.selectionsEqual(p[l],P[l]))return!1;return!0}static isISelection(p){return p&&"number"==typeof p.selectionStartLineNumber&&"number"==typeof p.selectionStartColumn&&"number"==typeof p.positionLineNumber&&"number"==typeof p.positionColumn}static createWithDirection(p,P,l,I,D){return 0===D?new s(p,P,l,I):new s(l,I,p,P)}}},7676:(Ve,ve,x)=>{"use strict";x.d(ve,{W:()=>s});var N=x(3632),$=x(3678);class s{static{this.zero=new s(0,0)}static betweenPositions(p,P){return p.lineNumber===P.lineNumber?new s(0,P.column-p.column):new s(P.lineNumber-p.lineNumber,P.column-1)}static ofRange(p){return s.betweenPositions(p.getStartPosition(),p.getEndPosition())}static ofText(p){let P=0,l=0;for(const I of p)"\n"===I?(P++,l=0):l++;return new s(P,l)}constructor(p,P){this.lineCount=p,this.columnCount=P}isGreaterThanOrEqualTo(p){return this.lineCount!==p.lineCount?this.lineCount>p.lineCount:this.columnCount>=p.columnCount}createRange(p){return 0===this.lineCount?new $.Q(p.lineNumber,p.column,p.lineNumber,p.column+this.columnCount):new $.Q(p.lineNumber,p.column,p.lineNumber+this.lineCount,this.columnCount+1)}addToPosition(p){return 0===this.lineCount?new N.y(p.lineNumber,p.column+this.columnCount):new N.y(p.lineNumber+this.lineCount,this.columnCount+1)}toString(){return`${this.lineCount},${this.columnCount}`}}},199:(Ve,ve,x)=>{"use strict";x.d(ve,{Io:()=>P,Ld:()=>p,Th:()=>I});var N=x(8481),$=x(8002);const p=function E(Z=""){let H="(-?\\d*\\.\\d\\w*)|([^";for(const L of"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?")Z.indexOf(L)>=0||(H+="\\"+L);return H+="\\s]+)",new RegExp(H,"g")}();function P(Z){let H=p;if(Z&&Z instanceof RegExp)if(Z.global)H=Z;else{let L="g";Z.ignoreCase&&(L+="i"),Z.multiline&&(L+="m"),Z.unicode&&(L+="u"),H=new RegExp(Z.source,L)}return H.lastIndex=0,H}const l=new $.w;function I(Z,H,L,_,y){if(H=P(H),y||(y=N.f.first(l)),L.length>y.maxLen){let d=Z-y.maxLen/2;return d<0?d=0:_+=d,I(Z,H,L=L.substring(d,Z+y.maxLen/2),_,y)}const C=Date.now(),h=Z-1-_;let he=-1,se=null;for(let d=1;!(Date.now()-C>=y.timeBudget);d++){const k=h-y.windowSize*d;H.lastIndex=Math.max(0,k);const m=D(H,L,h,he);if(!m&&se||(se=m,k<=0))break;he=k}if(se){const d={word:se[0],startColumn:_+1+se.index,endColumn:_+1+se.index+se[0].length};return H.lastIndex=0,d}return null}function D(Z,H,L,_){let y;for(;y=Z.exec(H);){const C=y.index||0;if(C<=L&&Z.lastIndex>=L)return y;if(_>0&&C>_)return null}return null}l.unshift({maxLen:1e3,windowSize:15,timeBudget:150})},1861:(Ve,ve,x)=>{"use strict";x.d(ve,{x:()=>N});class N{static getLanguageId(s){return(255&s)>>>0}static getTokenType(s){return(768&s)>>>8}static containsBalancedBrackets(s){return!!(1024&s)}static getFontStyle(s){return(30720&s)>>>11}static getForeground(s){return(16744448&s)>>>15}static getBackground(s){return(4278190080&s)>>>24}static getClassNameFromMetadata(s){let p="mtk"+this.getForeground(s);const P=this.getFontStyle(s);return 1&P&&(p+=" mtki"),2&P&&(p+=" mtkb"),4&P&&(p+=" mtku"),8&P&&(p+=" mtks"),p}static getInlineStyleFromMetadata(s,E){const p=this.getForeground(s),P=this.getFontStyle(s);let l=`color: ${E[p]};`;1&P&&(l+="font-style: italic;"),2&P&&(l+="font-weight: bold;");let I="";return 4&P&&(I+=" underline"),8&P&&(I+=" line-through"),I&&(l+=`text-decoration:${I};`),l}static getPresentationFromMetadata(s){const E=this.getForeground(s),p=this.getFontStyle(s);return{foreground:E,italic:!!(1&p),bold:!!(2&p),underline:!!(4&p),strikethrough:!!(8&p)}}}},1489:(Ve,ve,x)=>{"use strict";x.d(ve,{rY:()=>H,ou:()=>D,dG:()=>G,OB:()=>ne});var N=x(3616),s=(x(2417),x(467)),E=x(5643),p=x(4061);class P{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new E.vl,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(K){this._onDidChange.fire({changedLanguages:K,changedColorMap:!1})}register(K,be){return this._tokenizationSupports.set(K,be),this.handleChange([K]),(0,p.s)(()=>{this._tokenizationSupports.get(K)===be&&(this._tokenizationSupports.delete(K),this.handleChange([K]))})}get(K){return this._tokenizationSupports.get(K)||null}registerFactory(K,be){this._factories.get(K)?.dispose();const ie=new l(this,K,be);return this._factories.set(K,ie),(0,p.s)(()=>{const T=this._factories.get(K);!T||T!==ie||(this._factories.delete(K),T.dispose())})}getOrCreate(K){var be=this;return(0,s.A)(function*(){const ie=be.get(K);if(ie)return ie;const T=be._factories.get(K);return!T||T.isResolved?null:(yield T.resolve(),be.get(K))})()}isResolved(K){if(this.get(K))return!0;const ie=this._factories.get(K);return!(ie&&!ie.isResolved)}setColorMap(K){this._colorMap=K,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}class l extends p.jG{get isResolved(){return this._isResolved}constructor(K,be,ie){super(),this._registry=K,this._languageId=be,this._factory=ie,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}resolve(){var K=this;return(0,s.A)(function*(){return K._resolvePromise||(K._resolvePromise=K._create()),K._resolvePromise})()}_create(){var K=this;return(0,s.A)(function*(){const be=yield K._factory.tokenizationSupport;K._isResolved=!0,be&&!K._isDisposed&&K._register(K._registry.register(K._languageId,be))})()}}var _,R,W,I=x(1913);class D{constructor(K,be,ie){this.offset=K,this.type=be,this.language=ie,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}class H{constructor(K,be){this.tokens=K,this.endState=be,this._encodedTokenizationResultBrand=void 0}}!function(q){const K=new Map;K.set(0,N.W.symbolMethod),K.set(1,N.W.symbolFunction),K.set(2,N.W.symbolConstructor),K.set(3,N.W.symbolField),K.set(4,N.W.symbolVariable),K.set(5,N.W.symbolClass),K.set(6,N.W.symbolStruct),K.set(7,N.W.symbolInterface),K.set(8,N.W.symbolModule),K.set(9,N.W.symbolProperty),K.set(10,N.W.symbolEvent),K.set(11,N.W.symbolOperator),K.set(12,N.W.symbolUnit),K.set(13,N.W.symbolValue),K.set(15,N.W.symbolEnum),K.set(14,N.W.symbolConstant),K.set(15,N.W.symbolEnum),K.set(16,N.W.symbolEnumMember),K.set(17,N.W.symbolKeyword),K.set(27,N.W.symbolSnippet),K.set(18,N.W.symbolText),K.set(19,N.W.symbolColor),K.set(20,N.W.symbolFile),K.set(21,N.W.symbolReference),K.set(22,N.W.symbolCustomColor),K.set(23,N.W.symbolFolder),K.set(24,N.W.symbolTypeParameter),K.set(25,N.W.account),K.set(26,N.W.issues),q.toIcon=function be(V){let J=K.get(V);return J||(console.info("No codicon found for CompletionItemKind "+V),J=N.W.symbolProperty),J};const ie=new Map;ie.set("method",0),ie.set("function",1),ie.set("constructor",2),ie.set("field",3),ie.set("variable",4),ie.set("class",5),ie.set("struct",6),ie.set("interface",7),ie.set("module",8),ie.set("property",9),ie.set("event",10),ie.set("operator",11),ie.set("unit",12),ie.set("value",13),ie.set("constant",14),ie.set("enum",15),ie.set("enum-member",16),ie.set("enumMember",16),ie.set("keyword",17),ie.set("snippet",27),ie.set("text",18),ie.set("color",19),ie.set("file",20),ie.set("reference",21),ie.set("customcolor",22),ie.set("folder",23),ie.set("type-parameter",24),ie.set("typeParameter",24),ie.set("account",25),ie.set("issue",26),q.fromString=function T(V,J){let re=ie.get(V);return typeof re>"u"&&!J&&(re=9),re}}(_||(_={})),(0,I.kg)("Array","array"),(0,I.kg)("Boolean","boolean"),(0,I.kg)("Class","class"),(0,I.kg)("Constant","constant"),(0,I.kg)("Constructor","constructor"),(0,I.kg)("Enum","enumeration"),(0,I.kg)("EnumMember","enumeration member"),(0,I.kg)("Event","event"),(0,I.kg)("Field","field"),(0,I.kg)("File","file"),(0,I.kg)("Function","function"),(0,I.kg)("Interface","interface"),(0,I.kg)("Key","key"),(0,I.kg)("Method","method"),(0,I.kg)("Module","module"),(0,I.kg)("Namespace","namespace"),(0,I.kg)("Null","null"),(0,I.kg)("Number","number"),(0,I.kg)("Object","object"),(0,I.kg)("Operator","operator"),(0,I.kg)("Package","package"),(0,I.kg)("Property","property"),(0,I.kg)("String","string"),(0,I.kg)("Struct","struct"),(0,I.kg)("TypeParameter","type parameter"),(0,I.kg)("Variable","variable"),function(q){const K=new Map;K.set(0,N.W.symbolFile),K.set(1,N.W.symbolModule),K.set(2,N.W.symbolNamespace),K.set(3,N.W.symbolPackage),K.set(4,N.W.symbolClass),K.set(5,N.W.symbolMethod),K.set(6,N.W.symbolProperty),K.set(7,N.W.symbolField),K.set(8,N.W.symbolConstructor),K.set(9,N.W.symbolEnum),K.set(10,N.W.symbolInterface),K.set(11,N.W.symbolFunction),K.set(12,N.W.symbolVariable),K.set(13,N.W.symbolConstant),K.set(14,N.W.symbolString),K.set(15,N.W.symbolNumber),K.set(16,N.W.symbolBoolean),K.set(17,N.W.symbolArray),K.set(18,N.W.symbolObject),K.set(19,N.W.symbolKey),K.set(20,N.W.symbolNull),K.set(21,N.W.symbolEnumMember),K.set(22,N.W.symbolStruct),K.set(23,N.W.symbolEvent),K.set(24,N.W.symbolOperator),K.set(25,N.W.symbolTypeParameter),q.toIcon=function be(ie){let T=K.get(ie);return T||(console.info("No codicon found for SymbolKind "+ie),T=N.W.symbolProperty),T}}(R||(R={}));class O{static{this.Comment=new O("comment")}static{this.Imports=new O("imports")}static{this.Region=new O("region")}static fromValue(K){switch(K){case"comment":return O.Comment;case"imports":return O.Imports;case"region":return O.Region}return new O(K)}constructor(K){this.value=K}}(W||(W={})).is=function K(be){return!(!be||"object"!=typeof be)&&"string"==typeof be.id&&"string"==typeof be.title};const G=new P,ne=new P},385:(Ve,ve,x)=>{"use strict";x.d(ve,{L:()=>$});const $=(0,x(598).u1)("languageService")},7864:(Ve,ve,x)=>{"use strict";x.d(ve,{W6:()=>I,vH:()=>D});var N=x(1913),$=x(5643),s=x(7018),E=x(2323),p=x(987);const I=new class l{constructor(){this._onDidChangeLanguages=new $.vl,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(L){return this._languages.push(L),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let _=0,y=this._languages.length;_<y;_++)if(this._languages[_]===L)return void this._languages.splice(_,1)}}}getLanguages(){return this._languages}};s.O.add("editor.modesRegistry",I);const D="plaintext";I.registerLanguage({id:D,extensions:[".txt"],aliases:[N.kg("plainText.alias","Plain Text"),"text"],mimetypes:[E.K.text]}),s.O.as(p.Fd.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},3782:(Ve,ve,x)=>{"use strict";x.d(ve,{A5:()=>$,Dg:()=>P,F4:()=>Z,L5:()=>D,Wo:()=>I,X2:()=>p,ZS:()=>s,nk:()=>l,vd:()=>H});var N=x(4311),$=function(L){return L[L.Left=1]="Left",L[L.Center=2]="Center",L[L.Right=4]="Right",L[L.Full=7]="Full",L}($||{}),s=function(L){return L[L.Left=1]="Left",L[L.Center=2]="Center",L[L.Right=3]="Right",L}(s||{});class p{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(_){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|_.tabSize),"tabSize"===_.indentSize?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,0|_.indentSize),this._indentSizeIsTabSize=!1),this.insertSpaces=!!_.insertSpaces,this.defaultEOL=0|_.defaultEOL,this.trimAutoWhitespace=!!_.trimAutoWhitespace,this.bracketPairColorizationOptions=_.bracketPairColorizationOptions}equals(_){return this.tabSize===_.tabSize&&this._indentSizeIsTabSize===_._indentSizeIsTabSize&&this.indentSize===_.indentSize&&this.insertSpaces===_.insertSpaces&&this.defaultEOL===_.defaultEOL&&this.trimAutoWhitespace===_.trimAutoWhitespace&&(0,N.aI)(this.bracketPairColorizationOptions,_.bracketPairColorizationOptions)}createChangeEvent(_){return{tabSize:this.tabSize!==_.tabSize,indentSize:this.indentSize!==_.indentSize,insertSpaces:this.insertSpaces!==_.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==_.trimAutoWhitespace}}}class P{constructor(_,y){this._findMatchBrand=void 0,this.range=_,this.matches=y}}function l(L){return L&&"function"==typeof L.read}class I{constructor(_,y,C,h,he,se){this.identifier=_,this.range=y,this.text=C,this.forceMoveMarkers=h,this.isAutoWhitespaceEdit=he,this._isTracked=se}}class D{constructor(_,y,C){this.regex=_,this.wordSeparators=y,this.simpleSearch=C}}class Z{constructor(_,y,C){this.reverseEdits=_,this.changes=y,this.trimAutoWhitespaceLineNumbers=C}}function H(L){return!L.isTooLargeForSyncing()&&!L.isForSimpleWidget}},9966:(Ve,ve,x)=>{"use strict";x.d(ve,{lt:()=>H,W5:()=>d,hB:()=>C,dr:()=>_,wC:()=>se});var N=x(6653),$=x(53),s=x(2493);class E extends s.V{constructor(m,R){super(0),this._segmenter=null,this._cachedLine=null,this._cachedSegments=[],this.intlSegmenterLocales=R,this._segmenter=this.intlSegmenterLocales.length>0?new Intl.Segmenter(this.intlSegmenterLocales,{granularity:"word"}):null;for(let F=0,O=m.length;F<O;F++)this.set(m.charCodeAt(F),2);this.set(32,1),this.set(9,1)}findPrevIntlWordBeforeOrAtOffset(m,R){let F=null;for(const O of this._getIntlSegmenterWordsOnLine(m)){if(O.index>R)break;F=O}return F}findNextIntlWordAtOrAfterOffset(m,R){for(const F of this._getIntlSegmenterWordsOnLine(m))if(!(F.index<R))return F;return null}_getIntlSegmenterWordsOnLine(m){return this._segmenter?(this._cachedLine===m||(this._cachedLine=m,this._cachedSegments=this._filterWordSegments(this._segmenter.segment(m))),this._cachedSegments):[]}_filterWordSegments(m){const R=[];for(const F of m)this._isWordLike(F)&&R.push(F);return R}_isWordLike(m){return!!m.isWordLike}}const p=new $.qK(10);var l=x(3632),I=x(3678),D=x(3782);class H{constructor(m,R,F,O){this.searchString=m,this.isRegex=R,this.matchCase=F,this.wordSeparators=O}parseSearchRequest(){if(""===this.searchString)return null;let m;m=this.isRegex?function L(k){if(!k||0===k.length)return!1;for(let m=0,R=k.length;m<R;m++){const F=k.charCodeAt(m);if(10===F)return!0;if(92===F){if(m++,m>=R)break;const O=k.charCodeAt(m);if(110===O||114===O||87===O)return!0}}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let R=null;try{R=N.OS(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:m,global:!0,unicode:!0})}catch{return null}if(!R)return null;let F=!this.isRegex&&!m;return F&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(F=this.matchCase),new D.L5(R,this.wordSeparators?function P(k,m){const R=`${k}/${m.join(",")}`;let F=p.get(R);return F||(F=new E(k,m),p.set(R,F)),F}(this.wordSeparators,[]):null,F?this.searchString:null)}}function _(k,m,R){if(!R)return new D.Dg(k,null);const F=[];for(let O=0,v=m.length;O<v;O++)F[O]=m[O];return new D.Dg(k,F)}class y{constructor(m){const R=[];let F=0;for(let O=0,v=m.length;O<v;O++)10===m.charCodeAt(O)&&(R[F++]=O);this._lineFeedsOffsets=R}findLineFeedCountBeforeOffset(m){const R=this._lineFeedsOffsets;let F=0,O=R.length-1;if(-1===O||m<=R[0])return 0;for(;F<O;){const v=F+((O-F)/2|0);R[v]>=m?O=v-1:R[v+1]>=m?(F=v,O=v):F=v+1}return F+1}}class C{static findMatches(m,R,F,O,v){const A=R.parseSearchRequest();return A?A.regex.multiline?this._doFindMatchesMultiline(m,F,new d(A.wordSeparators,A.regex),O,v):this._doFindMatchesLineByLine(m,F,A,O,v):[]}static _getMultilineMatchRange(m,R,F,O,v,A){let W,M,S=0;if(O?(S=O.findLineFeedCountBeforeOffset(v),W=R+v+S):W=R+v,O){const q=O.findLineFeedCountBeforeOffset(v+A.length)-S;M=W+A.length+q}else M=W+A.length;const G=m.getPositionAt(W),ne=m.getPositionAt(M);return new I.Q(G.lineNumber,G.column,ne.lineNumber,ne.column)}static _doFindMatchesMultiline(m,R,F,O,v){const A=m.getOffsetAt(R.getStartPosition()),W=m.getValueInRange(R,1),S="\r\n"===m.getEOL()?new y(W):null,M=[];let ne,G=0;for(F.reset(0);ne=F.next(W);)if(M[G++]=_(this._getMultilineMatchRange(m,A,W,S,ne.index,ne[0]),ne,O),G>=v)return M;return M}static _doFindMatchesLineByLine(m,R,F,O,v){const A=[];let W=0;if(R.startLineNumber===R.endLineNumber){const M=m.getLineContent(R.startLineNumber).substring(R.startColumn-1,R.endColumn-1);return W=this._findMatchesInLine(F,M,R.startLineNumber,R.startColumn-1,W,A,O,v),A}const S=m.getLineContent(R.startLineNumber).substring(R.startColumn-1);W=this._findMatchesInLine(F,S,R.startLineNumber,R.startColumn-1,W,A,O,v);for(let M=R.startLineNumber+1;M<R.endLineNumber&&W<v;M++)W=this._findMatchesInLine(F,m.getLineContent(M),M,0,W,A,O,v);if(W<v){const M=m.getLineContent(R.endLineNumber).substring(0,R.endColumn-1);W=this._findMatchesInLine(F,M,R.endLineNumber,0,W,A,O,v)}return A}static _findMatchesInLine(m,R,F,O,v,A,W,S){const M=m.wordSeparators;if(!W&&m.simpleSearch){const oe=m.simpleSearch,q=oe.length,K=R.length;let be=-q;for(;-1!==(be=R.indexOf(oe,be+q));)if((!M||se(M,R,K,be,q))&&(A[v++]=new D.Dg(new I.Q(F,be+1+O,F,be+1+q+O),null),v>=S))return v;return v}const G=new d(m.wordSeparators,m.regex);let ne;G.reset(0);do{if(ne=G.next(R),ne&&(A[v++]=_(new I.Q(F,ne.index+1+O,F,ne.index+1+ne[0].length+O),ne,W),v>=S))return v}while(ne);return v}static findNextMatch(m,R,F,O){const v=R.parseSearchRequest();if(!v)return null;const A=new d(v.wordSeparators,v.regex);return v.regex.multiline?this._doFindNextMatchMultiline(m,F,A,O):this._doFindNextMatchLineByLine(m,F,A,O)}static _doFindNextMatchMultiline(m,R,F,O){const v=new l.y(R.lineNumber,1),A=m.getOffsetAt(v),W=m.getLineCount(),S=m.getValueInRange(new I.Q(v.lineNumber,v.column,W,m.getLineMaxColumn(W)),1),M="\r\n"===m.getEOL()?new y(S):null;F.reset(R.column-1);const G=F.next(S);return G?_(this._getMultilineMatchRange(m,A,S,M,G.index,G[0]),G,O):1!==R.lineNumber||1!==R.column?this._doFindNextMatchMultiline(m,new l.y(1,1),F,O):null}static _doFindNextMatchLineByLine(m,R,F,O){const v=m.getLineCount(),A=R.lineNumber,W=m.getLineContent(A),S=this._findFirstMatchInLine(F,W,A,R.column,O);if(S)return S;for(let M=1;M<=v;M++){const G=(A+M-1)%v,ne=m.getLineContent(G+1),oe=this._findFirstMatchInLine(F,ne,G+1,1,O);if(oe)return oe}return null}static _findFirstMatchInLine(m,R,F,O,v){m.reset(O-1);const A=m.next(R);return A?_(new I.Q(F,A.index+1,F,A.index+1+A[0].length),A,v):null}static findPreviousMatch(m,R,F,O){const v=R.parseSearchRequest();if(!v)return null;const A=new d(v.wordSeparators,v.regex);return v.regex.multiline?this._doFindPreviousMatchMultiline(m,F,A,O):this._doFindPreviousMatchLineByLine(m,F,A,O)}static _doFindPreviousMatchMultiline(m,R,F,O){const v=this._doFindMatchesMultiline(m,new I.Q(1,1,R.lineNumber,R.column),F,O,9990);if(v.length>0)return v[v.length-1];const A=m.getLineCount();return R.lineNumber!==A||R.column!==m.getLineMaxColumn(A)?this._doFindPreviousMatchMultiline(m,new l.y(A,m.getLineMaxColumn(A)),F,O):null}static _doFindPreviousMatchLineByLine(m,R,F,O){const v=m.getLineCount(),A=R.lineNumber,W=m.getLineContent(A).substring(0,R.column-1),S=this._findLastMatchInLine(F,W,A,O);if(S)return S;for(let M=1;M<=v;M++){const G=(v+A-M-1)%v,ne=m.getLineContent(G+1),oe=this._findLastMatchInLine(F,ne,G+1,O);if(oe)return oe}return null}static _findLastMatchInLine(m,R,F,O){let A,v=null;for(m.reset(0);A=m.next(R);)v=_(new I.Q(F,A.index+1,F,A.index+1+A[0].length),A,O);return v}}function se(k,m,R,F,O){return function h(k,m,R,F,O){if(0===F)return!0;const v=m.charCodeAt(F-1);if(0!==k.get(v)||13===v||10===v)return!0;if(O>0){const A=m.charCodeAt(F);if(0!==k.get(A))return!0}return!1}(k,m,0,F,O)&&function he(k,m,R,F,O){if(F+O===R)return!0;const v=m.charCodeAt(F+O);if(0!==k.get(v)||13===v||10===v)return!0;if(O>0){const A=m.charCodeAt(F+O-1);if(0!==k.get(A))return!0}return!1}(k,m,R,F,O)}class d{constructor(m,R){this._wordSeparators=m,this._searchRegex=R,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(m){this._searchRegex.lastIndex=m,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(m){const R=m.length;let F;do{if(this._prevMatchStartIndex+this._prevMatchLength===R||(F=this._searchRegex.exec(m),!F))return null;const O=F.index,v=F[0].length;if(O===this._prevMatchStartIndex&&v===this._prevMatchLength){if(0===v){N.Z5(m,R,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=O,this._prevMatchLength=v,!this._wordSeparators||se(this._wordSeparators,m,R,O,v))return F}while(F);return null}}},5521:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{KeyMod:()=>Fe,createMonacoBaseAPI:()=>qe});var N=x(1468),$=x(5643);class s{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(ct,gt){this._keyCodeToStr[ct]=gt,this._strToKeyCode[gt.toLowerCase()]=ct}keyCodeToStr(ct){return this._keyCodeToStr[ct]}strToKeyCode(ct){return this._strToKeyCode[ct.toLowerCase()]||0}}const E=new s,p=new s,P=new s,l=new Array(230),I={},D=[],Z=Object.create(null),H=Object.create(null),L=[],_=[];for(let n=0;n<=193;n++)L[n]=-1;for(let n=0;n<=132;n++)_[n]=-1;var y,n;!function(){const n="",ct=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",n,n],[1,1,"Hyper",0,n,0,n,n,n],[1,2,"Super",0,n,0,n,n,n],[1,3,"Fn",0,n,0,n,n,n],[1,4,"FnLock",0,n,0,n,n,n],[1,5,"Suspend",0,n,0,n,n,n],[1,6,"Resume",0,n,0,n,n,n],[1,7,"Turbo",0,n,0,n,n,n],[1,8,"Sleep",0,n,0,"VK_SLEEP",n,n],[1,9,"WakeUp",0,n,0,n,n,n],[0,10,"KeyA",31,"A",65,"VK_A",n,n],[0,11,"KeyB",32,"B",66,"VK_B",n,n],[0,12,"KeyC",33,"C",67,"VK_C",n,n],[0,13,"KeyD",34,"D",68,"VK_D",n,n],[0,14,"KeyE",35,"E",69,"VK_E",n,n],[0,15,"KeyF",36,"F",70,"VK_F",n,n],[0,16,"KeyG",37,"G",71,"VK_G",n,n],[0,17,"KeyH",38,"H",72,"VK_H",n,n],[0,18,"KeyI",39,"I",73,"VK_I",n,n],[0,19,"KeyJ",40,"J",74,"VK_J",n,n],[0,20,"KeyK",41,"K",75,"VK_K",n,n],[0,21,"KeyL",42,"L",76,"VK_L",n,n],[0,22,"KeyM",43,"M",77,"VK_M",n,n],[0,23,"KeyN",44,"N",78,"VK_N",n,n],[0,24,"KeyO",45,"O",79,"VK_O",n,n],[0,25,"KeyP",46,"P",80,"VK_P",n,n],[0,26,"KeyQ",47,"Q",81,"VK_Q",n,n],[0,27,"KeyR",48,"R",82,"VK_R",n,n],[0,28,"KeyS",49,"S",83,"VK_S",n,n],[0,29,"KeyT",50,"T",84,"VK_T",n,n],[0,30,"KeyU",51,"U",85,"VK_U",n,n],[0,31,"KeyV",52,"V",86,"VK_V",n,n],[0,32,"KeyW",53,"W",87,"VK_W",n,n],[0,33,"KeyX",54,"X",88,"VK_X",n,n],[0,34,"KeyY",55,"Y",89,"VK_Y",n,n],[0,35,"KeyZ",56,"Z",90,"VK_Z",n,n],[0,36,"Digit1",22,"1",49,"VK_1",n,n],[0,37,"Digit2",23,"2",50,"VK_2",n,n],[0,38,"Digit3",24,"3",51,"VK_3",n,n],[0,39,"Digit4",25,"4",52,"VK_4",n,n],[0,40,"Digit5",26,"5",53,"VK_5",n,n],[0,41,"Digit6",27,"6",54,"VK_6",n,n],[0,42,"Digit7",28,"7",55,"VK_7",n,n],[0,43,"Digit8",29,"8",56,"VK_8",n,n],[0,44,"Digit9",30,"9",57,"VK_9",n,n],[0,45,"Digit0",21,"0",48,"VK_0",n,n],[1,46,"Enter",3,"Enter",13,"VK_RETURN",n,n],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",n,n],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",n,n],[1,49,"Tab",2,"Tab",9,"VK_TAB",n,n],[1,50,"Space",10,"Space",32,"VK_SPACE",n,n],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,n,0,n,n,n],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",n,n],[1,64,"F1",59,"F1",112,"VK_F1",n,n],[1,65,"F2",60,"F2",113,"VK_F2",n,n],[1,66,"F3",61,"F3",114,"VK_F3",n,n],[1,67,"F4",62,"F4",115,"VK_F4",n,n],[1,68,"F5",63,"F5",116,"VK_F5",n,n],[1,69,"F6",64,"F6",117,"VK_F6",n,n],[1,70,"F7",65,"F7",118,"VK_F7",n,n],[1,71,"F8",66,"F8",119,"VK_F8",n,n],[1,72,"F9",67,"F9",120,"VK_F9",n,n],[1,73,"F10",68,"F10",121,"VK_F10",n,n],[1,74,"F11",69,"F11",122,"VK_F11",n,n],[1,75,"F12",70,"F12",123,"VK_F12",n,n],[1,76,"PrintScreen",0,n,0,n,n,n],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",n,n],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",n,n],[1,79,"Insert",19,"Insert",45,"VK_INSERT",n,n],[1,80,"Home",14,"Home",36,"VK_HOME",n,n],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",n,n],[1,82,"Delete",20,"Delete",46,"VK_DELETE",n,n],[1,83,"End",13,"End",35,"VK_END",n,n],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",n,n],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",n],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",n],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",n],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",n],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",n,n],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",n,n],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",n,n],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",n,n],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",n,n],[1,94,"NumpadEnter",3,n,0,n,n,n],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",n,n],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",n,n],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",n,n],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",n,n],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",n,n],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",n,n],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",n,n],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",n,n],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",n,n],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",n,n],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",n,n],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",n,n],[1,107,"ContextMenu",58,"ContextMenu",93,n,n,n],[1,108,"Power",0,n,0,n,n,n],[1,109,"NumpadEqual",0,n,0,n,n,n],[1,110,"F13",71,"F13",124,"VK_F13",n,n],[1,111,"F14",72,"F14",125,"VK_F14",n,n],[1,112,"F15",73,"F15",126,"VK_F15",n,n],[1,113,"F16",74,"F16",127,"VK_F16",n,n],[1,114,"F17",75,"F17",128,"VK_F17",n,n],[1,115,"F18",76,"F18",129,"VK_F18",n,n],[1,116,"F19",77,"F19",130,"VK_F19",n,n],[1,117,"F20",78,"F20",131,"VK_F20",n,n],[1,118,"F21",79,"F21",132,"VK_F21",n,n],[1,119,"F22",80,"F22",133,"VK_F22",n,n],[1,120,"F23",81,"F23",134,"VK_F23",n,n],[1,121,"F24",82,"F24",135,"VK_F24",n,n],[1,122,"Open",0,n,0,n,n,n],[1,123,"Help",0,n,0,n,n,n],[1,124,"Select",0,n,0,n,n,n],[1,125,"Again",0,n,0,n,n,n],[1,126,"Undo",0,n,0,n,n,n],[1,127,"Cut",0,n,0,n,n,n],[1,128,"Copy",0,n,0,n,n,n],[1,129,"Paste",0,n,0,n,n,n],[1,130,"Find",0,n,0,n,n,n],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",n,n],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",n,n],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",n,n],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",n,n],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",n,n],[1,136,"KanaMode",0,n,0,n,n,n],[0,137,"IntlYen",0,n,0,n,n,n],[1,138,"Convert",0,n,0,n,n,n],[1,139,"NonConvert",0,n,0,n,n,n],[1,140,"Lang1",0,n,0,n,n,n],[1,141,"Lang2",0,n,0,n,n,n],[1,142,"Lang3",0,n,0,n,n,n],[1,143,"Lang4",0,n,0,n,n,n],[1,144,"Lang5",0,n,0,n,n,n],[1,145,"Abort",0,n,0,n,n,n],[1,146,"Props",0,n,0,n,n,n],[1,147,"NumpadParenLeft",0,n,0,n,n,n],[1,148,"NumpadParenRight",0,n,0,n,n,n],[1,149,"NumpadBackspace",0,n,0,n,n,n],[1,150,"NumpadMemoryStore",0,n,0,n,n,n],[1,151,"NumpadMemoryRecall",0,n,0,n,n,n],[1,152,"NumpadMemoryClear",0,n,0,n,n,n],[1,153,"NumpadMemoryAdd",0,n,0,n,n,n],[1,154,"NumpadMemorySubtract",0,n,0,n,n,n],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",n,n],[1,156,"NumpadClearEntry",0,n,0,n,n,n],[1,0,n,5,"Ctrl",17,"VK_CONTROL",n,n],[1,0,n,4,"Shift",16,"VK_SHIFT",n,n],[1,0,n,6,"Alt",18,"VK_MENU",n,n],[1,0,n,57,"Meta",91,"VK_COMMAND",n,n],[1,157,"ControlLeft",5,n,0,"VK_LCONTROL",n,n],[1,158,"ShiftLeft",4,n,0,"VK_LSHIFT",n,n],[1,159,"AltLeft",6,n,0,"VK_LMENU",n,n],[1,160,"MetaLeft",57,n,0,"VK_LWIN",n,n],[1,161,"ControlRight",5,n,0,"VK_RCONTROL",n,n],[1,162,"ShiftRight",4,n,0,"VK_RSHIFT",n,n],[1,163,"AltRight",6,n,0,"VK_RMENU",n,n],[1,164,"MetaRight",57,n,0,"VK_RWIN",n,n],[1,165,"BrightnessUp",0,n,0,n,n,n],[1,166,"BrightnessDown",0,n,0,n,n,n],[1,167,"MediaPlay",0,n,0,n,n,n],[1,168,"MediaRecord",0,n,0,n,n,n],[1,169,"MediaFastForward",0,n,0,n,n,n],[1,170,"MediaRewind",0,n,0,n,n,n],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",n,n],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",n,n],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",n,n],[1,174,"Eject",0,n,0,n,n,n],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",n,n],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",n,n],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",n,n],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",n,n],[1,179,"LaunchApp1",0,n,0,"VK_MEDIA_LAUNCH_APP1",n,n],[1,180,"SelectTask",0,n,0,n,n,n],[1,181,"LaunchScreenSaver",0,n,0,n,n,n],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",n,n],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",n,n],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",n,n],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",n,n],[1,186,"BrowserStop",0,n,0,"VK_BROWSER_STOP",n,n],[1,187,"BrowserRefresh",0,n,0,"VK_BROWSER_REFRESH",n,n],[1,188,"BrowserFavorites",0,n,0,"VK_BROWSER_FAVORITES",n,n],[1,189,"ZoomToggle",0,n,0,n,n,n],[1,190,"MailReply",0,n,0,n,n,n],[1,191,"MailForward",0,n,0,n,n,n],[1,192,"MailSend",0,n,0,n,n,n],[1,0,n,114,"KeyInComposition",229,n,n,n],[1,0,n,116,"ABNT_C2",194,"VK_ABNT_C2",n,n],[1,0,n,96,"OEM_8",223,"VK_OEM_8",n,n],[1,0,n,0,n,0,"VK_KANA",n,n],[1,0,n,0,n,0,"VK_HANGUL",n,n],[1,0,n,0,n,0,"VK_JUNJA",n,n],[1,0,n,0,n,0,"VK_FINAL",n,n],[1,0,n,0,n,0,"VK_HANJA",n,n],[1,0,n,0,n,0,"VK_KANJI",n,n],[1,0,n,0,n,0,"VK_CONVERT",n,n],[1,0,n,0,n,0,"VK_NONCONVERT",n,n],[1,0,n,0,n,0,"VK_ACCEPT",n,n],[1,0,n,0,n,0,"VK_MODECHANGE",n,n],[1,0,n,0,n,0,"VK_SELECT",n,n],[1,0,n,0,n,0,"VK_PRINT",n,n],[1,0,n,0,n,0,"VK_EXECUTE",n,n],[1,0,n,0,n,0,"VK_SNAPSHOT",n,n],[1,0,n,0,n,0,"VK_HELP",n,n],[1,0,n,0,n,0,"VK_APPS",n,n],[1,0,n,0,n,0,"VK_PROCESSKEY",n,n],[1,0,n,0,n,0,"VK_PACKET",n,n],[1,0,n,0,n,0,"VK_DBE_SBCSCHAR",n,n],[1,0,n,0,n,0,"VK_DBE_DBCSCHAR",n,n],[1,0,n,0,n,0,"VK_ATTN",n,n],[1,0,n,0,n,0,"VK_CRSEL",n,n],[1,0,n,0,n,0,"VK_EXSEL",n,n],[1,0,n,0,n,0,"VK_EREOF",n,n],[1,0,n,0,n,0,"VK_PLAY",n,n],[1,0,n,0,n,0,"VK_ZOOM",n,n],[1,0,n,0,n,0,"VK_NONAME",n,n],[1,0,n,0,n,0,"VK_PA1",n,n],[1,0,n,0,n,0,"VK_OEM_CLEAR",n,n]],gt=[],Lt=[];for(const Ot of ct){const[Pt,kt,vt,Nt,Xt,En,cn,Zt,en]=Ot;if(Lt[kt]||(Lt[kt]=!0,D[kt]=vt,Z[vt]=kt,H[vt.toLowerCase()]=kt,Pt&&(L[kt]=Nt,0!==Nt&&3!==Nt&&5!==Nt&&4!==Nt&&6!==Nt&&57!==Nt&&(_[Nt]=kt))),!gt[Nt]){if(gt[Nt]=!0,!Xt)throw new Error(`String representation missing for key code ${Nt} around scan code ${vt}`);E.define(Nt,Xt),p.define(Nt,Zt||Xt),P.define(Nt,en||Zt||Xt)}En&&(l[En]=Nt),cn&&(I[cn]=Nt)}_[3]=46}(),(n=y||(y={})).toString=function ct(vt){return E.keyCodeToStr(vt)},n.fromString=function gt(vt){return E.strToKeyCode(vt)},n.toUserSettingsUS=function Lt(vt){return p.keyCodeToStr(vt)},n.toUserSettingsGeneral=function Ot(vt){return P.keyCodeToStr(vt)},n.fromUserSettings=function Pt(vt){return p.strToKeyCode(vt)||P.strToKeyCode(vt)},n.toElectronAccelerator=function kt(vt){if(vt>=98&&vt<=113)return null;switch(vt){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return E.keyCodeToStr(vt)};var h=x(2417),he=x(3632),se=x(3678),d=x(4105),k=x(1489),_e=function(n){return n[n.DependsOnKbLayout=-1]="DependsOnKbLayout",n[n.Unknown=0]="Unknown",n[n.Backspace=1]="Backspace",n[n.Tab=2]="Tab",n[n.Enter=3]="Enter",n[n.Shift=4]="Shift",n[n.Ctrl=5]="Ctrl",n[n.Alt=6]="Alt",n[n.PauseBreak=7]="PauseBreak",n[n.CapsLock=8]="CapsLock",n[n.Escape=9]="Escape",n[n.Space=10]="Space",n[n.PageUp=11]="PageUp",n[n.PageDown=12]="PageDown",n[n.End=13]="End",n[n.Home=14]="Home",n[n.LeftArrow=15]="LeftArrow",n[n.UpArrow=16]="UpArrow",n[n.RightArrow=17]="RightArrow",n[n.DownArrow=18]="DownArrow",n[n.Insert=19]="Insert",n[n.Delete=20]="Delete",n[n.Digit0=21]="Digit0",n[n.Digit1=22]="Digit1",n[n.Digit2=23]="Digit2",n[n.Digit3=24]="Digit3",n[n.Digit4=25]="Digit4",n[n.Digit5=26]="Digit5",n[n.Digit6=27]="Digit6",n[n.Digit7=28]="Digit7",n[n.Digit8=29]="Digit8",n[n.Digit9=30]="Digit9",n[n.KeyA=31]="KeyA",n[n.KeyB=32]="KeyB",n[n.KeyC=33]="KeyC",n[n.KeyD=34]="KeyD",n[n.KeyE=35]="KeyE",n[n.KeyF=36]="KeyF",n[n.KeyG=37]="KeyG",n[n.KeyH=38]="KeyH",n[n.KeyI=39]="KeyI",n[n.KeyJ=40]="KeyJ",n[n.KeyK=41]="KeyK",n[n.KeyL=42]="KeyL",n[n.KeyM=43]="KeyM",n[n.KeyN=44]="KeyN",n[n.KeyO=45]="KeyO",n[n.KeyP=46]="KeyP",n[n.KeyQ=47]="KeyQ",n[n.KeyR=48]="KeyR",n[n.KeyS=49]="KeyS",n[n.KeyT=50]="KeyT",n[n.KeyU=51]="KeyU",n[n.KeyV=52]="KeyV",n[n.KeyW=53]="KeyW",n[n.KeyX=54]="KeyX",n[n.KeyY=55]="KeyY",n[n.KeyZ=56]="KeyZ",n[n.Meta=57]="Meta",n[n.ContextMenu=58]="ContextMenu",n[n.F1=59]="F1",n[n.F2=60]="F2",n[n.F3=61]="F3",n[n.F4=62]="F4",n[n.F5=63]="F5",n[n.F6=64]="F6",n[n.F7=65]="F7",n[n.F8=66]="F8",n[n.F9=67]="F9",n[n.F10=68]="F10",n[n.F11=69]="F11",n[n.F12=70]="F12",n[n.F13=71]="F13",n[n.F14=72]="F14",n[n.F15=73]="F15",n[n.F16=74]="F16",n[n.F17=75]="F17",n[n.F18=76]="F18",n[n.F19=77]="F19",n[n.F20=78]="F20",n[n.F21=79]="F21",n[n.F22=80]="F22",n[n.F23=81]="F23",n[n.F24=82]="F24",n[n.NumLock=83]="NumLock",n[n.ScrollLock=84]="ScrollLock",n[n.Semicolon=85]="Semicolon",n[n.Equal=86]="Equal",n[n.Comma=87]="Comma",n[n.Minus=88]="Minus",n[n.Period=89]="Period",n[n.Slash=90]="Slash",n[n.Backquote=91]="Backquote",n[n.BracketLeft=92]="BracketLeft",n[n.Backslash=93]="Backslash",n[n.BracketRight=94]="BracketRight",n[n.Quote=95]="Quote",n[n.OEM_8=96]="OEM_8",n[n.IntlBackslash=97]="IntlBackslash",n[n.Numpad0=98]="Numpad0",n[n.Numpad1=99]="Numpad1",n[n.Numpad2=100]="Numpad2",n[n.Numpad3=101]="Numpad3",n[n.Numpad4=102]="Numpad4",n[n.Numpad5=103]="Numpad5",n[n.Numpad6=104]="Numpad6",n[n.Numpad7=105]="Numpad7",n[n.Numpad8=106]="Numpad8",n[n.Numpad9=107]="Numpad9",n[n.NumpadMultiply=108]="NumpadMultiply",n[n.NumpadAdd=109]="NumpadAdd",n[n.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",n[n.NumpadSubtract=111]="NumpadSubtract",n[n.NumpadDecimal=112]="NumpadDecimal",n[n.NumpadDivide=113]="NumpadDivide",n[n.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",n[n.ABNT_C1=115]="ABNT_C1",n[n.ABNT_C2=116]="ABNT_C2",n[n.AudioVolumeMute=117]="AudioVolumeMute",n[n.AudioVolumeUp=118]="AudioVolumeUp",n[n.AudioVolumeDown=119]="AudioVolumeDown",n[n.BrowserSearch=120]="BrowserSearch",n[n.BrowserHome=121]="BrowserHome",n[n.BrowserBack=122]="BrowserBack",n[n.BrowserForward=123]="BrowserForward",n[n.MediaTrackNext=124]="MediaTrackNext",n[n.MediaTrackPrevious=125]="MediaTrackPrevious",n[n.MediaStop=126]="MediaStop",n[n.MediaPlayPause=127]="MediaPlayPause",n[n.LaunchMediaPlayer=128]="LaunchMediaPlayer",n[n.LaunchMail=129]="LaunchMail",n[n.LaunchApp2=130]="LaunchApp2",n[n.Clear=131]="Clear",n[n.MAX_VALUE=132]="MAX_VALUE",n}(_e||{}),Se=function(n){return n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error",n}(Se||{}),xe=function(n){return n[n.Unnecessary=1]="Unnecessary",n[n.Deprecated=2]="Deprecated",n}(xe||{}),Qe=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Qe||{});let Fe=(()=>{class n{static{this.CtrlCmd=2048}static{this.Shift=1024}static{this.Alt=512}static{this.WinCtrl=256}static chord(gt,Lt){return function C(n,ct){return(n|(65535&ct)<<16>>>0)>>>0}(gt,Lt)}}return n})();function qe(){return{editor:void 0,languages:void 0,CancellationTokenSource:N.Qi,Emitter:$.vl,KeyCode:_e,KeyMod:Fe,Position:he.y,Range:se.Q,Selection:d.L,SelectionDirection:Qe,MarkerSeverity:Se,MarkerTag:xe,Uri:h.r,Token:k.ou}}},2195:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{BaseEditorSimpleWorker:()=>Pn,EditorSimpleWorker:()=>Wn,create:()=>Ti});var N=x(467);class ${constructor(c,g,B,j){this.originalStart=c,this.originalLength=g,this.modifiedStart=B,this.modifiedLength=j}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var s=x(5763);class E{constructor(c){this.source=c}getElements(){const c=this.source,g=new Int32Array(c.length);for(let B=0,j=c.length;B<j;B++)g[B]=c.charCodeAt(B);return g}}function p(fe,c,g){return new D(new E(fe),new E(c)).ComputeDiff(g).changes}class P{static Assert(c,g){if(!c)throw new Error(g)}}class l{static Copy(c,g,B,j,ee){for(let ue=0;ue<ee;ue++)B[j+ue]=c[g+ue]}static Copy2(c,g,B,j,ee){for(let ue=0;ue<ee;ue++)B[j+ue]=c[g+ue]}}class I{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new $(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(c,g){this.m_originalStart=Math.min(this.m_originalStart,c),this.m_modifiedStart=Math.min(this.m_modifiedStart,g),this.m_originalCount++}AddModifiedElement(c,g){this.m_originalStart=Math.min(this.m_originalStart,c),this.m_modifiedStart=Math.min(this.m_modifiedStart,g),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class D{constructor(c,g,B=null){this.ContinueProcessingPredicate=B,this._originalSequence=c,this._modifiedSequence=g;const[j,ee,ue]=D._getElements(c),[ge,ce,pe]=D._getElements(g);this._hasStrings=ue&&pe,this._originalStringElements=j,this._originalElementsOrHash=ee,this._modifiedStringElements=ge,this._modifiedElementsOrHash=ce,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(c){return c.length>0&&"string"==typeof c[0]}static _getElements(c){const g=c.getElements();if(D._isStringArray(g)){const B=new Int32Array(g.length);for(let j=0,ee=g.length;j<ee;j++)B[j]=(0,s.e2)(g[j],0);return[g,B,!0]}return g instanceof Int32Array?[[],g,!1]:[[],new Int32Array(g),!1]}ElementsAreEqual(c,g){return this._originalElementsOrHash[c]===this._modifiedElementsOrHash[g]&&(!this._hasStrings||this._originalStringElements[c]===this._modifiedStringElements[g])}ElementsAreStrictEqual(c,g){return!!this.ElementsAreEqual(c,g)&&D._getStrictElement(this._originalSequence,c)===D._getStrictElement(this._modifiedSequence,g)}static _getStrictElement(c,g){return"function"==typeof c.getStrictElement?c.getStrictElement(g):null}OriginalElementsAreEqual(c,g){return this._originalElementsOrHash[c]===this._originalElementsOrHash[g]&&(!this._hasStrings||this._originalStringElements[c]===this._originalStringElements[g])}ModifiedElementsAreEqual(c,g){return this._modifiedElementsOrHash[c]===this._modifiedElementsOrHash[g]&&(!this._hasStrings||this._modifiedStringElements[c]===this._modifiedStringElements[g])}ComputeDiff(c){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,c)}_ComputeDiff(c,g,B,j,ee){const ue=[!1];let ge=this.ComputeDiffRecursive(c,g,B,j,ue);return ee&&(ge=this.PrettifyChanges(ge)),{quitEarly:ue[0],changes:ge}}ComputeDiffRecursive(c,g,B,j,ee){for(ee[0]=!1;c<=g&&B<=j&&this.ElementsAreEqual(c,B);)c++,B++;for(;g>=c&&j>=B&&this.ElementsAreEqual(g,j);)g--,j--;if(c>g||B>j){let Ae;return B<=j?(P.Assert(c===g+1,"originalStart should only be one more than originalEnd"),Ae=[new $(c,0,B,j-B+1)]):c<=g?(P.Assert(B===j+1,"modifiedStart should only be one more than modifiedEnd"),Ae=[new $(c,g-c+1,B,0)]):(P.Assert(c===g+1,"originalStart should only be one more than originalEnd"),P.Assert(B===j+1,"modifiedStart should only be one more than modifiedEnd"),Ae=[]),Ae}const ue=[0],ge=[0],ce=this.ComputeRecursionPoint(c,g,B,j,ue,ge,ee),pe=ue[0],Ie=ge[0];if(null!==ce)return ce;if(!ee[0]){const Ae=this.ComputeDiffRecursive(c,pe,B,Ie,ee);let ye=[];return ye=ee[0]?[new $(pe+1,g-(pe+1)+1,Ie+1,j-(Ie+1)+1)]:this.ComputeDiffRecursive(pe+1,g,Ie+1,j,ee),this.ConcatenateChanges(Ae,ye)}return[new $(c,g-c+1,B,j-B+1)]}WALKTRACE(c,g,B,j,ee,ue,ge,ce,pe,Ie,Ae,ye,Me,Pe,He,Ye,nt,rt){let Xe=null,lt=null,et=new I,ut=g,dt=B,st=Me[0]-Ye[0]-j,Ut=-1073741824,Vt=this.m_forwardHistory.length-1;do{const Dt=st+c;Dt===ut||Dt<dt&&pe[Dt-1]<pe[Dt+1]?(Pe=(Ae=pe[Dt+1])-st-j,Ae<Ut&&et.MarkNextChange(),Ut=Ae,et.AddModifiedElement(Ae+1,Pe),st=Dt+1-c):(Pe=(Ae=pe[Dt-1]+1)-st-j,Ae<Ut&&et.MarkNextChange(),Ut=Ae-1,et.AddOriginalElement(Ae,Pe+1),st=Dt-1-c),Vt>=0&&(c=(pe=this.m_forwardHistory[Vt])[0],ut=1,dt=pe.length-1)}while(--Vt>=-1);if(Xe=et.getReverseChanges(),rt[0]){let Dt=Me[0]+1,mt=Ye[0]+1;if(null!==Xe&&Xe.length>0){const kn=Xe[Xe.length-1];Dt=Math.max(Dt,kn.getOriginalEnd()),mt=Math.max(mt,kn.getModifiedEnd())}lt=[new $(Dt,ye-Dt+1,mt,He-mt+1)]}else{et=new I,ut=ue,dt=ge,st=Me[0]-Ye[0]-ce,Ut=1073741824,Vt=nt?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const Dt=st+ee;Dt===ut||Dt<dt&&Ie[Dt-1]>=Ie[Dt+1]?(Pe=(Ae=Ie[Dt+1]-1)-st-ce,Ae>Ut&&et.MarkNextChange(),Ut=Ae+1,et.AddOriginalElement(Ae+1,Pe+1),st=Dt+1-ee):(Pe=(Ae=Ie[Dt-1])-st-ce,Ae>Ut&&et.MarkNextChange(),Ut=Ae,et.AddModifiedElement(Ae+1,Pe+1),st=Dt-1-ee),Vt>=0&&(ee=(Ie=this.m_reverseHistory[Vt])[0],ut=1,dt=Ie.length-1)}while(--Vt>=-1);lt=et.getChanges()}return this.ConcatenateChanges(Xe,lt)}ComputeRecursionPoint(c,g,B,j,ee,ue,ge){let ce=0,pe=0,Ie=0,Ae=0,ye=0,Me=0;c--,B--,ee[0]=0,ue[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const Pe=g-c+(j-B),He=Pe+1,Ye=new Int32Array(He),nt=new Int32Array(He),rt=j-B,Xe=g-c,lt=c-B,et=g-j,dt=(Xe-rt)%2==0;Ye[rt]=c,nt[Xe]=g,ge[0]=!1;for(let st=1;st<=Pe/2+1;st++){let Ut=0,Vt=0;Ie=this.ClipDiagonalBound(rt-st,st,rt,He),Ae=this.ClipDiagonalBound(rt+st,st,rt,He);for(let mt=Ie;mt<=Ae;mt+=2){ce=mt===Ie||mt<Ae&&Ye[mt-1]<Ye[mt+1]?Ye[mt+1]:Ye[mt-1]+1,pe=ce-(mt-rt)-lt;const kn=ce;for(;ce<g&&pe<j&&this.ElementsAreEqual(ce+1,pe+1);)ce++,pe++;if(Ye[mt]=ce,ce+pe>Ut+Vt&&(Ut=ce,Vt=pe),!dt&&Math.abs(mt-Xe)<=st-1&&ce>=nt[mt])return ee[0]=ce,ue[0]=pe,kn<=nt[mt]&&st<=1448?this.WALKTRACE(rt,Ie,Ae,lt,Xe,ye,Me,et,Ye,nt,ce,g,ee,pe,j,ue,dt,ge):null}const Dt=(Ut-c+(Vt-B)-st)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(Ut,Dt))return ge[0]=!0,ee[0]=Ut,ue[0]=Vt,Dt>0&&st<=1448?this.WALKTRACE(rt,Ie,Ae,lt,Xe,ye,Me,et,Ye,nt,ce,g,ee,pe,j,ue,dt,ge):(c++,B++,[new $(c,g-c+1,B,j-B+1)]);ye=this.ClipDiagonalBound(Xe-st,st,Xe,He),Me=this.ClipDiagonalBound(Xe+st,st,Xe,He);for(let mt=ye;mt<=Me;mt+=2){ce=mt===ye||mt<Me&&nt[mt-1]>=nt[mt+1]?nt[mt+1]-1:nt[mt-1],pe=ce-(mt-Xe)-et;const kn=ce;for(;ce>c&&pe>B&&this.ElementsAreEqual(ce,pe);)ce--,pe--;if(nt[mt]=ce,dt&&Math.abs(mt-rt)<=st&&ce<=Ye[mt])return ee[0]=ce,ue[0]=pe,kn>=Ye[mt]&&st<=1448?this.WALKTRACE(rt,Ie,Ae,lt,Xe,ye,Me,et,Ye,nt,ce,g,ee,pe,j,ue,dt,ge):null}if(st<=1447){let mt=new Int32Array(Ae-Ie+2);mt[0]=rt-Ie+1,l.Copy2(Ye,Ie,mt,1,Ae-Ie+1),this.m_forwardHistory.push(mt),mt=new Int32Array(Me-ye+2),mt[0]=Xe-ye+1,l.Copy2(nt,ye,mt,1,Me-ye+1),this.m_reverseHistory.push(mt)}}return this.WALKTRACE(rt,Ie,Ae,lt,Xe,ye,Me,et,Ye,nt,ce,g,ee,pe,j,ue,dt,ge)}PrettifyChanges(c){for(let g=0;g<c.length;g++){const B=c[g],j=g<c.length-1?c[g+1].originalStart:this._originalElementsOrHash.length,ee=g<c.length-1?c[g+1].modifiedStart:this._modifiedElementsOrHash.length,ue=B.originalLength>0,ge=B.modifiedLength>0;for(;B.originalStart+B.originalLength<j&&B.modifiedStart+B.modifiedLength<ee&&(!ue||this.OriginalElementsAreEqual(B.originalStart,B.originalStart+B.originalLength))&&(!ge||this.ModifiedElementsAreEqual(B.modifiedStart,B.modifiedStart+B.modifiedLength));){const pe=this.ElementsAreStrictEqual(B.originalStart,B.modifiedStart);if(this.ElementsAreStrictEqual(B.originalStart+B.originalLength,B.modifiedStart+B.modifiedLength)&&!pe)break;B.originalStart++,B.modifiedStart++}const ce=[null];g<c.length-1&&this.ChangesOverlap(c[g],c[g+1],ce)&&(c[g]=ce[0],c.splice(g+1,1),g--)}for(let g=c.length-1;g>=0;g--){const B=c[g];let j=0,ee=0;if(g>0){const Ae=c[g-1];j=Ae.originalStart+Ae.originalLength,ee=Ae.modifiedStart+Ae.modifiedLength}const ue=B.originalLength>0,ge=B.modifiedLength>0;let ce=0,pe=this._boundaryScore(B.originalStart,B.originalLength,B.modifiedStart,B.modifiedLength);for(let Ae=1;;Ae++){const ye=B.originalStart-Ae,Me=B.modifiedStart-Ae;if(ye<j||Me<ee||ue&&!this.OriginalElementsAreEqual(ye,ye+B.originalLength)||ge&&!this.ModifiedElementsAreEqual(Me,Me+B.modifiedLength))break;const He=(ye===j&&Me===ee?5:0)+this._boundaryScore(ye,B.originalLength,Me,B.modifiedLength);He>pe&&(pe=He,ce=Ae)}B.originalStart-=ce,B.modifiedStart-=ce;const Ie=[null];g>0&&this.ChangesOverlap(c[g-1],c[g],Ie)&&(c[g-1]=Ie[0],c.splice(g,1),g++)}if(this._hasStrings)for(let g=1,B=c.length;g<B;g++){const j=c[g-1],ee=c[g],ue=ee.originalStart-j.originalStart-j.originalLength,ge=j.originalStart,ce=ee.originalStart+ee.originalLength,pe=ce-ge,Ie=j.modifiedStart,Ae=ee.modifiedStart+ee.modifiedLength,ye=Ae-Ie;if(ue<5&&pe<20&&ye<20){const Me=this._findBetterContiguousSequence(ge,pe,Ie,ye,ue);if(Me){const[Pe,He]=Me;(Pe!==j.originalStart+j.originalLength||He!==j.modifiedStart+j.modifiedLength)&&(j.originalLength=Pe-j.originalStart,j.modifiedLength=He-j.modifiedStart,ee.originalStart=Pe+ue,ee.modifiedStart=He+ue,ee.originalLength=ce-ee.originalStart,ee.modifiedLength=Ae-ee.modifiedStart)}}}return c}_findBetterContiguousSequence(c,g,B,j,ee){if(g<ee||j<ee)return null;const ue=c+g-ee+1,ge=B+j-ee+1;let ce=0,pe=0,Ie=0;for(let Ae=c;Ae<ue;Ae++)for(let ye=B;ye<ge;ye++){const Me=this._contiguousSequenceScore(Ae,ye,ee);Me>0&&Me>ce&&(ce=Me,pe=Ae,Ie=ye)}return ce>0?[pe,Ie]:null}_contiguousSequenceScore(c,g,B){let j=0;for(let ee=0;ee<B;ee++){if(!this.ElementsAreEqual(c+ee,g+ee))return 0;j+=this._originalStringElements[c+ee].length}return j}_OriginalIsBoundary(c){return c<=0||c>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[c])}_OriginalRegionIsBoundary(c,g){if(this._OriginalIsBoundary(c)||this._OriginalIsBoundary(c-1))return!0;if(g>0){const B=c+g;if(this._OriginalIsBoundary(B-1)||this._OriginalIsBoundary(B))return!0}return!1}_ModifiedIsBoundary(c){return c<=0||c>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[c])}_ModifiedRegionIsBoundary(c,g){if(this._ModifiedIsBoundary(c)||this._ModifiedIsBoundary(c-1))return!0;if(g>0){const B=c+g;if(this._ModifiedIsBoundary(B-1)||this._ModifiedIsBoundary(B))return!0}return!1}_boundaryScore(c,g,B,j){return(this._OriginalRegionIsBoundary(c,g)?1:0)+(this._ModifiedRegionIsBoundary(B,j)?1:0)}ConcatenateChanges(c,g){const B=[];if(0===c.length||0===g.length)return g.length>0?g:c;if(this.ChangesOverlap(c[c.length-1],g[0],B)){const j=new Array(c.length+g.length-1);return l.Copy(c,0,j,0,c.length-1),j[c.length-1]=B[0],l.Copy(g,1,j,c.length,g.length-1),j}{const j=new Array(c.length+g.length);return l.Copy(c,0,j,0,c.length),l.Copy(g,0,j,c.length,g.length),j}}ChangesOverlap(c,g,B){if(P.Assert(c.originalStart<=g.originalStart,"Left change is not less than or equal to right change"),P.Assert(c.modifiedStart<=g.modifiedStart,"Left change is not less than or equal to right change"),c.originalStart+c.originalLength>=g.originalStart||c.modifiedStart+c.modifiedLength>=g.modifiedStart){let ee=c.originalLength,ge=c.modifiedLength;return c.originalStart+c.originalLength>=g.originalStart&&(ee=g.originalStart+g.originalLength-c.originalStart),c.modifiedStart+c.modifiedLength>=g.modifiedStart&&(ge=g.modifiedStart+g.modifiedLength-c.modifiedStart),B[0]=new $(c.originalStart,ee,c.modifiedStart,ge),!0}return B[0]=null,!1}ClipDiagonalBound(c,g,B,j){if(c>=0&&c<j)return c;const ge=g%2==0;return c<0?ge===(B%2==0)?0:1:ge===((j-B-1)%2==0)?j-1:j-2}}var Z=x(3678),H=x(2493);class L{constructor(c,g,B){const j=new Uint8Array(c*g);for(let ee=0,ue=c*g;ee<ue;ee++)j[ee]=B;this._data=j,this.rows=c,this.cols=g}get(c,g){return this._data[c*this.cols+g]}set(c,g,B){this._data[c*this.cols+g]=B}}class _{constructor(c){let g=0,B=0;for(let ee=0,ue=c.length;ee<ue;ee++){const[ge,ce,pe]=c[ee];ce>g&&(g=ce),ge>B&&(B=ge),pe>B&&(B=pe)}g++,B++;const j=new L(B,g,0);for(let ee=0,ue=c.length;ee<ue;ee++){const[ge,ce,pe]=c[ee];j.set(ge,ce,pe)}this._states=j,this._maxCharCode=g}nextState(c,g){return g<0||g>=this._maxCharCode?0:this._states.get(c,g)}}let y=null,h=null;class se{static _createLink(c,g,B,j,ee){let ue=ee-1;do{const ge=g.charCodeAt(ue);if(2!==c.get(ge))break;ue--}while(ue>j);if(j>0){const ge=g.charCodeAt(j-1),ce=g.charCodeAt(ue);(40===ge&&41===ce||91===ge&&93===ce||123===ge&&125===ce)&&ue--}return{range:{startLineNumber:B,startColumn:j+1,endLineNumber:B,endColumn:ue+2},url:g.substring(j,ue+1)}}static computeLinks(c,g=function C(){return null===y&&(y=new _([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),y}()){const B=function he(){if(null===h){h=new H.V(0);const fe=" \t<>'\"\u3001\u3002\uff61\uff64\uff0c\uff0e\uff1a\uff1b\u2018\u3008\u300c\u300e\u3014\uff08\uff3b\uff5b\uff62\uff63\uff5d\uff3d\uff09\u3015\u300f\u300d\u3009\u2019\uff40\uff5e\u2026";for(let g=0;g<fe.length;g++)h.set(fe.charCodeAt(g),1);const c=".,;:";for(let g=0;g<c.length;g++)h.set(c.charCodeAt(g),2)}return h}(),j=[];for(let ee=1,ue=c.getLineCount();ee<=ue;ee++){const ge=c.getLineContent(ee),ce=ge.length;let pe=0,Ie=0,Ae=0,ye=1,Me=!1,Pe=!1,He=!1,Ye=!1;for(;pe<ce;){let nt=!1;const rt=ge.charCodeAt(pe);if(13===ye){let Xe;switch(rt){case 40:Me=!0,Xe=0;break;case 41:Xe=Me?0:1;break;case 91:He=!0,Pe=!0,Xe=0;break;case 93:He=!1,Xe=Pe?0:1;break;case 123:Ye=!0,Xe=0;break;case 125:Xe=Ye?0:1;break;case 39:case 34:case 96:Xe=Ae===rt?1:39===Ae||34===Ae||96===Ae?0:1;break;case 42:Xe=42===Ae?1:0;break;case 124:Xe=124===Ae?1:0;break;case 32:Xe=He?0:1;break;default:Xe=B.get(rt)}1===Xe&&(j.push(se._createLink(B,ge,ee,Ie,pe)),nt=!0)}else if(12===ye){let Xe;91===rt?(Pe=!0,Xe=0):Xe=B.get(rt),1===Xe?nt=!0:ye=13}else ye=g.nextState(ye,rt),0===ye&&(nt=!0);nt&&(ye=1,Me=!1,Pe=!1,Ye=!1,Ie=pe+1,Ae=rt),pe++}13===ye&&j.push(se._createLink(B,ge,ee,Ie,ce))}return j}}class k{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}static{this.INSTANCE=new k}navigateValueSet(c,g,B,j,ee){if(c&&g){const ue=this.doNavigateValueSet(g,ee);if(ue)return{range:c,value:ue}}if(B&&j){const ue=this.doNavigateValueSet(j,ee);if(ue)return{range:B,value:ue}}return null}doNavigateValueSet(c,g){const B=this.numberReplace(c,g);return null!==B?B:this.textReplace(c,g)}numberReplace(c,g){const B=Math.pow(10,c.length-(c.lastIndexOf(".")+1));let j=Number(c);const ee=parseFloat(c);return isNaN(j)||isNaN(ee)||j!==ee?null:0!==j||g?(j=Math.floor(j*B),j+=g?B:-B,String(j/B)):null}textReplace(c,g){return this.valueSetsReplace(this._defaultValueSet,c,g)}valueSetsReplace(c,g,B){let j=null;for(let ee=0,ue=c.length;null===j&&ee<ue;ee++)j=this.valueSetReplace(c[ee],g,B);return j}valueSetReplace(c,g,B){let j=c.indexOf(g);return j>=0?(j+=B?1:-1,j<0?j=c.length-1:j%=c.length,c[j]):null}}var m=x(5521),R=x(2607),F=x(2588),O=x(8752);class v{constructor(c,g,B){this.changes=c,this.moves=g,this.hitTimeout=B}}class A{constructor(c,g){this.lineRangeMapping=c,this.changes=g}}var W=x(5680),S=x(4132),M=x(3632),G=x(3929),ne=x(1639);x(7676);class be{constructor(c,g){this.range=c,this.text=g}toSingleEditOperation(){return{range:this.range,text:this.text}}}class J{static inverse(c,g,B){const j=[];let ee=1,ue=1;for(const ce of c){const pe=new J(new S.M(ee,ce.original.startLineNumber),new S.M(ue,ce.modified.startLineNumber));pe.modified.isEmpty||j.push(pe),ee=ce.original.endLineNumberExclusive,ue=ce.modified.endLineNumberExclusive}const ge=new J(new S.M(ee,g+1),new S.M(ue,B+1));return ge.modified.isEmpty||j.push(ge),j}static clip(c,g,B){const j=[];for(const ee of c){const ue=ee.original.intersect(g),ge=ee.modified.intersect(B);ue&&!ue.isEmpty&&ge&&!ge.isEmpty&&j.push(new J(ue,ge))}return j}constructor(c,g){this.original=c,this.modified=g}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new J(this.modified,this.original)}join(c){return new J(this.original.join(c.original),this.modified.join(c.modified))}toRangeMapping(){const c=this.original.toInclusiveRange(),g=this.modified.toInclusiveRange();if(c&&g)return new Se(c,g);if(1===this.original.startLineNumber||1===this.modified.startLineNumber){if(1!==this.modified.startLineNumber||1!==this.original.startLineNumber)throw new W.D7("not a valid diff");return new Se(new Z.Q(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new Z.Q(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1))}return new Se(new Z.Q(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),new Z.Q(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER))}toRangeMapping2(c,g){if(de(this.original.endLineNumberExclusive,c)&&de(this.modified.endLineNumberExclusive,g))return new Se(new Z.Q(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new Z.Q(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1));if(!this.original.isEmpty&&!this.modified.isEmpty)return new Se(Z.Q.fromPositions(new M.y(this.original.startLineNumber,1),re(new M.y(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),c)),Z.Q.fromPositions(new M.y(this.modified.startLineNumber,1),re(new M.y(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),g)));if(this.original.startLineNumber>1&&this.modified.startLineNumber>1)return new Se(Z.Q.fromPositions(re(new M.y(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER),c),re(new M.y(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),c)),Z.Q.fromPositions(re(new M.y(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER),g),re(new M.y(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),g)));throw new W.D7}}function re(fe,c){if(fe.lineNumber<1)return new M.y(1,1);if(fe.lineNumber>c.length)return new M.y(c.length,c[c.length-1].length+1);const g=c[fe.lineNumber-1];return fe.column>g.length+1?new M.y(fe.lineNumber,g.length+1):fe}function de(fe,c){return fe>=1&&fe<=c.length}class _e extends J{static fromRangeMappings(c){const g=S.M.join(c.map(j=>S.M.fromRangeInclusive(j.originalRange))),B=S.M.join(c.map(j=>S.M.fromRangeInclusive(j.modifiedRange)));return new _e(g,B,c)}constructor(c,g,B){super(c,g),this.innerChanges=B}flip(){return new _e(this.modified,this.original,this.innerChanges?.map(c=>c.flip()))}withInnerChangesFromLineRanges(){return new _e(this.original,this.modified,[this.toRangeMapping()])}}class Se{static assertSorted(c){for(let g=1;g<c.length;g++){const B=c[g-1],j=c[g];if(!B.originalRange.getEndPosition().isBeforeOrEqual(j.originalRange.getStartPosition())||!B.modifiedRange.getEndPosition().isBeforeOrEqual(j.modifiedRange.getStartPosition()))throw new W.D7("Range mappings must be sorted")}}constructor(c,g){this.originalRange=c,this.modifiedRange=g}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new Se(this.modifiedRange,this.originalRange)}toTextEdit(c){const g=c.getValueOfRange(this.modifiedRange);return new be(this.originalRange,g)}}var xe=x(6653);class Be{computeDiff(c,g,B){const ee=new _t(c,g,{maxComputationTime:B.maxComputationTimeMs,shouldIgnoreTrimWhitespace:B.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),ue=[];let ge=null;for(const ce of ee.changes){let pe,Ie;pe=0===ce.originalEndLineNumber?new S.M(ce.originalStartLineNumber+1,ce.originalStartLineNumber+1):new S.M(ce.originalStartLineNumber,ce.originalEndLineNumber+1),Ie=0===ce.modifiedEndLineNumber?new S.M(ce.modifiedStartLineNumber+1,ce.modifiedStartLineNumber+1):new S.M(ce.modifiedStartLineNumber,ce.modifiedEndLineNumber+1);let Ae=new _e(pe,Ie,ce.charChanges?.map(ye=>new Se(new Z.Q(ye.originalStartLineNumber,ye.originalStartColumn,ye.originalEndLineNumber,ye.originalEndColumn),new Z.Q(ye.modifiedStartLineNumber,ye.modifiedStartColumn,ye.modifiedEndLineNumber,ye.modifiedEndColumn))));ge&&(ge.modified.endLineNumberExclusive===Ae.modified.startLineNumber||ge.original.endLineNumberExclusive===Ae.original.startLineNumber)&&(Ae=new _e(ge.original.join(Ae.original),ge.modified.join(Ae.modified),ge.innerChanges&&Ae.innerChanges?ge.innerChanges.concat(Ae.innerChanges):void 0),ue.pop()),ue.push(Ae),ge=Ae}return(0,G.Ft)(()=>(0,G.Xo)(ue,(ce,pe)=>pe.original.startLineNumber-ce.original.endLineNumberExclusive==pe.modified.startLineNumber-ce.modified.endLineNumberExclusive&&ce.original.endLineNumberExclusive<pe.original.startLineNumber&&ce.modified.endLineNumberExclusive<pe.modified.startLineNumber)),new v(ue,[],ee.quitEarly)}}function $e(fe,c,g,B){return new D(fe,c,g).ComputeDiff(B)}class We{constructor(c){const g=[],B=[];for(let j=0,ee=c.length;j<ee;j++)g[j]=Bt(c[j],1),B[j]=jt(c[j],1);this.lines=c,this._startColumns=g,this._endColumns=B}getElements(){const c=[];for(let g=0,B=this.lines.length;g<B;g++)c[g]=this.lines[g].substring(this._startColumns[g]-1,this._endColumns[g]-1);return c}getStrictElement(c){return this.lines[c]}getStartLineNumber(c){return c+1}getEndLineNumber(c){return c+1}createCharSequence(c,g,B){const j=[],ee=[],ue=[];let ge=0;for(let ce=g;ce<=B;ce++){const pe=this.lines[ce],Ae=c?this._endColumns[ce]:pe.length+1;for(let ye=c?this._startColumns[ce]:1;ye<Ae;ye++)j[ge]=pe.charCodeAt(ye-1),ee[ge]=ce+1,ue[ge]=ye,ge++;!c&&ce<B&&(j[ge]=10,ee[ge]=ce+1,ue[ge]=pe.length+1,ge++)}return new Ge(j,ee,ue)}}class Ge{constructor(c,g,B){this._charCodes=c,this._lineNumbers=g,this._columns=B}toString(){return"["+this._charCodes.map((c,g)=>(10===c?"\\n":String.fromCharCode(c))+`-(${this._lineNumbers[g]},${this._columns[g]})`).join(", ")+"]"}_assertIndex(c,g){if(c<0||c>=g.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(c){return c>0&&c===this._lineNumbers.length?this.getEndLineNumber(c-1):(this._assertIndex(c,this._lineNumbers),this._lineNumbers[c])}getEndLineNumber(c){return-1===c?this.getStartLineNumber(c+1):(this._assertIndex(c,this._lineNumbers),10===this._charCodes[c]?this._lineNumbers[c]+1:this._lineNumbers[c])}getStartColumn(c){return c>0&&c===this._columns.length?this.getEndColumn(c-1):(this._assertIndex(c,this._columns),this._columns[c])}getEndColumn(c){return-1===c?this.getStartColumn(c+1):(this._assertIndex(c,this._columns),10===this._charCodes[c]?1:this._columns[c]+1)}}class Je{constructor(c,g,B,j,ee,ue,ge,ce){this.originalStartLineNumber=c,this.originalStartColumn=g,this.originalEndLineNumber=B,this.originalEndColumn=j,this.modifiedStartLineNumber=ee,this.modifiedStartColumn=ue,this.modifiedEndLineNumber=ge,this.modifiedEndColumn=ce}static createFromDiffChange(c,g,B){const j=g.getStartLineNumber(c.originalStart),ee=g.getStartColumn(c.originalStart),ue=g.getEndLineNumber(c.originalStart+c.originalLength-1),ge=g.getEndColumn(c.originalStart+c.originalLength-1),ce=B.getStartLineNumber(c.modifiedStart),pe=B.getStartColumn(c.modifiedStart),Ie=B.getEndLineNumber(c.modifiedStart+c.modifiedLength-1),Ae=B.getEndColumn(c.modifiedStart+c.modifiedLength-1);return new Je(j,ee,ue,ge,ce,pe,Ie,Ae)}}class At{constructor(c,g,B,j,ee){this.originalStartLineNumber=c,this.originalEndLineNumber=g,this.modifiedStartLineNumber=B,this.modifiedEndLineNumber=j,this.charChanges=ee}static createFromDiffResult(c,g,B,j,ee,ue,ge){let ce,pe,Ie,Ae,ye;if(0===g.originalLength?(ce=B.getStartLineNumber(g.originalStart)-1,pe=0):(ce=B.getStartLineNumber(g.originalStart),pe=B.getEndLineNumber(g.originalStart+g.originalLength-1)),0===g.modifiedLength?(Ie=j.getStartLineNumber(g.modifiedStart)-1,Ae=0):(Ie=j.getStartLineNumber(g.modifiedStart),Ae=j.getEndLineNumber(g.modifiedStart+g.modifiedLength-1)),ue&&g.originalLength>0&&g.originalLength<20&&g.modifiedLength>0&&g.modifiedLength<20&&ee()){const Me=B.createCharSequence(c,g.originalStart,g.originalStart+g.originalLength-1),Pe=j.createCharSequence(c,g.modifiedStart,g.modifiedStart+g.modifiedLength-1);if(Me.getElements().length>0&&Pe.getElements().length>0){let He=$e(Me,Pe,ee,!0).changes;ge&&(He=function bt(fe){if(fe.length<=1)return fe;const c=[fe[0]];let g=c[0];for(let B=1,j=fe.length;B<j;B++){const ee=fe[B];Math.min(ee.originalStart-(g.originalStart+g.originalLength),ee.modifiedStart-(g.modifiedStart+g.modifiedLength))<3?(g.originalLength=ee.originalStart+ee.originalLength-g.originalStart,g.modifiedLength=ee.modifiedStart+ee.modifiedLength-g.modifiedStart):(c.push(ee),g=ee)}return c}(He)),ye=[];for(let Ye=0,nt=He.length;Ye<nt;Ye++)ye.push(Je.createFromDiffChange(He[Ye],Me,Pe))}}return new At(ce,pe,Ie,Ae,ye)}}class _t{constructor(c,g,B){this.shouldComputeCharChanges=B.shouldComputeCharChanges,this.shouldPostProcessCharChanges=B.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=B.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=B.shouldMakePrettyDiff,this.originalLines=c,this.modifiedLines=g,this.original=new We(c),this.modified=new We(g),this.continueLineDiff=Yt(B.maxComputationTime),this.continueCharDiff=Yt(0===B.maxComputationTime?0:Math.min(B.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const c=$e(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),g=c.changes,B=c.quitEarly;if(this.shouldIgnoreTrimWhitespace){const ge=[];for(let ce=0,pe=g.length;ce<pe;ce++)ge.push(At.createFromDiffResult(this.shouldIgnoreTrimWhitespace,g[ce],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:B,changes:ge}}const j=[];let ee=0,ue=0;for(let ge=-1,ce=g.length;ge<ce;ge++){const pe=ge+1<ce?g[ge+1]:null,Ie=pe?pe.originalStart:this.originalLines.length,Ae=pe?pe.modifiedStart:this.modifiedLines.length;for(;ee<Ie&&ue<Ae;){const ye=this.originalLines[ee],Me=this.modifiedLines[ue];if(ye!==Me){{let Pe=Bt(ye,1),He=Bt(Me,1);for(;Pe>1&&He>1&&ye.charCodeAt(Pe-2)===Me.charCodeAt(He-2);)Pe--,He--;(Pe>1||He>1)&&this._pushTrimWhitespaceCharChange(j,ee+1,1,Pe,ue+1,1,He)}{let Pe=jt(ye,1),He=jt(Me,1);const Ye=ye.length+1,nt=Me.length+1;for(;Pe<Ye&&He<nt&&ye.charCodeAt(Pe-1)===ye.charCodeAt(He-1);)Pe++,He++;(Pe<Ye||He<nt)&&this._pushTrimWhitespaceCharChange(j,ee+1,Pe,Ye,ue+1,He,nt)}}ee++,ue++}pe&&(j.push(At.createFromDiffResult(this.shouldIgnoreTrimWhitespace,pe,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),ee+=pe.originalLength,ue+=pe.modifiedLength)}return{quitEarly:B,changes:j}}_pushTrimWhitespaceCharChange(c,g,B,j,ee,ue,ge){if(this._mergeTrimWhitespaceCharChange(c,g,B,j,ee,ue,ge))return;let ce;this.shouldComputeCharChanges&&(ce=[new Je(g,B,g,j,ee,ue,ee,ge)]),c.push(new At(g,g,ee,ee,ce))}_mergeTrimWhitespaceCharChange(c,g,B,j,ee,ue,ge){const ce=c.length;if(0===ce)return!1;const pe=c[ce-1];return 0!==pe.originalEndLineNumber&&0!==pe.modifiedEndLineNumber&&(pe.originalEndLineNumber===g&&pe.modifiedEndLineNumber===ee?(this.shouldComputeCharChanges&&pe.charChanges&&pe.charChanges.push(new Je(g,B,g,j,ee,ue,ee,ge)),!0):pe.originalEndLineNumber+1===g&&pe.modifiedEndLineNumber+1===ee&&(pe.originalEndLineNumber=g,pe.modifiedEndLineNumber=ee,this.shouldComputeCharChanges&&pe.charChanges&&pe.charChanges.push(new Je(g,B,g,j,ee,ue,ee,ge)),!0))}}function Bt(fe,c){const g=xe.HG(fe);return-1===g?c:g+1}function jt(fe,c){const g=xe.lT(fe);return-1===g?c:g+2}function Yt(fe){if(0===fe)return()=>!0;const c=Date.now();return()=>Date.now()-c<fe}var zt=x(833);class Qe{static trivial(c,g){return new Qe([new Oe(ne.L.ofLength(c.length),ne.L.ofLength(g.length))],!1)}static trivialTimedOut(c,g){return new Qe([new Oe(ne.L.ofLength(c.length),ne.L.ofLength(g.length))],!0)}constructor(c,g){this.diffs=c,this.hitTimeout=g}}class Oe{static invert(c,g){const B=[];return(0,zt.pN)(c,(j,ee)=>{B.push(Oe.fromOffsetPairs(j?j.getEndExclusives():Ne.zero,ee?ee.getStarts():new Ne(g,(j?j.seq2Range.endExclusive-j.seq1Range.endExclusive:0)+g)))}),B}static fromOffsetPairs(c,g){return new Oe(new ne.L(c.offset1,g.offset1),new ne.L(c.offset2,g.offset2))}static assertSorted(c){let g;for(const B of c){if(g&&!(g.seq1Range.endExclusive<=B.seq1Range.start&&g.seq2Range.endExclusive<=B.seq2Range.start))throw new W.D7("Sequence diffs must be sorted");g=B}}constructor(c,g){this.seq1Range=c,this.seq2Range=g}swap(){return new Oe(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(c){return new Oe(this.seq1Range.join(c.seq1Range),this.seq2Range.join(c.seq2Range))}delta(c){return 0===c?this:new Oe(this.seq1Range.delta(c),this.seq2Range.delta(c))}deltaStart(c){return 0===c?this:new Oe(this.seq1Range.deltaStart(c),this.seq2Range.deltaStart(c))}deltaEnd(c){return 0===c?this:new Oe(this.seq1Range.deltaEnd(c),this.seq2Range.deltaEnd(c))}intersect(c){const g=this.seq1Range.intersect(c.seq1Range),B=this.seq2Range.intersect(c.seq2Range);if(g&&B)return new Oe(g,B)}getStarts(){return new Ne(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new Ne(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}class Ne{static{this.zero=new Ne(0,0)}static{this.max=new Ne(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER)}constructor(c,g){this.offset1=c,this.offset2=g}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(c){return 0===c?this:new Ne(this.offset1+c,this.offset2+c)}equals(c){return this.offset1===c.offset1&&this.offset2===c.offset2}}class b{static{this.instance=new b}isValid(){return!0}}class te{constructor(c){if(this.timeout=c,this.startTime=Date.now(),this.valid=!0,c<=0)throw new W.D7("timeout must be positive")}isValid(){return Date.now()-this.startTime<this.timeout||!this.valid||(this.valid=!1),this.valid}}class Ee{constructor(c,g){this.width=c,this.height=g,this.array=[],this.array=new Array(c*g)}get(c,g){return this.array[c+g*this.width]}set(c,g,B){this.array[c+g*this.width]=B}}function U(fe){return 32===fe||9===fe}class Ce{static{this.chrKeys=new Map}static getKey(c){let g=this.chrKeys.get(c);return void 0===g&&(g=this.chrKeys.size,this.chrKeys.set(c,g)),g}constructor(c,g,B){this.range=c,this.lines=g,this.source=B,this.histogram=[];let j=0;for(let ee=c.startLineNumber-1;ee<c.endLineNumberExclusive-1;ee++){const ue=g[ee];for(let ce=0;ce<ue.length;ce++){j++;const Ie=Ce.getKey(ue[ce]);this.histogram[Ie]=(this.histogram[Ie]||0)+1}j++;const ge=Ce.getKey("\n");this.histogram[ge]=(this.histogram[ge]||0)+1}this.totalCount=j}computeSimilarity(c){let g=0;const B=Math.max(this.histogram.length,c.histogram.length);for(let j=0;j<B;j++)g+=Math.abs((this.histogram[j]??0)-(c.histogram[j]??0));return 1-g/(this.totalCount+c.totalCount)}}class we{compute(c,g,B=b.instance,j){if(0===c.length||0===g.length)return Qe.trivial(c,g);const ee=new Ee(c.length,g.length),ue=new Ee(c.length,g.length),ge=new Ee(c.length,g.length);for(let Pe=0;Pe<c.length;Pe++)for(let He=0;He<g.length;He++){if(!B.isValid())return Qe.trivialTimedOut(c,g);const Ye=0===Pe?0:ee.get(Pe-1,He),nt=0===He?0:ee.get(Pe,He-1);let rt;c.getElement(Pe)===g.getElement(He)?(rt=0===Pe||0===He?0:ee.get(Pe-1,He-1),Pe>0&&He>0&&3===ue.get(Pe-1,He-1)&&(rt+=ge.get(Pe-1,He-1)),rt+=j?j(Pe,He):1):rt=-1;const Xe=Math.max(Ye,nt,rt);if(Xe===rt){const lt=Pe>0&&He>0?ge.get(Pe-1,He-1):0;ge.set(Pe,He,lt+1),ue.set(Pe,He,3)}else Xe===Ye?(ge.set(Pe,He,0),ue.set(Pe,He,1)):Xe===nt&&(ge.set(Pe,He,0),ue.set(Pe,He,2));ee.set(Pe,He,Xe)}const ce=[];let pe=c.length,Ie=g.length;function Ae(Pe,He){(Pe+1!==pe||He+1!==Ie)&&ce.push(new Oe(new ne.L(Pe+1,pe),new ne.L(He+1,Ie))),pe=Pe,Ie=He}let ye=c.length-1,Me=g.length-1;for(;ye>=0&&Me>=0;)3===ue.get(ye,Me)?(Ae(ye,Me),ye--,Me--):1===ue.get(ye,Me)?ye--:Me--;return Ae(-1,-1),ce.reverse(),new Qe(ce,!1)}}class Fe{compute(c,g,B=b.instance){if(0===c.length||0===g.length)return Qe.trivial(c,g);const j=c,ee=g;function ue(He,Ye){for(;He<j.length&&Ye<ee.length&&j.getElement(He)===ee.getElement(Ye);)He++,Ye++;return He}let ge=0;const ce=new n;ce.set(0,ue(0,0));const pe=new ct;pe.set(0,0===ce.get(0)?null:new qe(null,0,0,ce.get(0)));let Ie=0;e:for(;;){if(ge++,!B.isValid())return Qe.trivialTimedOut(j,ee);const He=-Math.min(ge,ee.length+ge%2),Ye=Math.min(ge,j.length+ge%2);for(Ie=He;Ie<=Ye;Ie+=2){let nt=0;const rt=Ie===Ye?-1:ce.get(Ie+1),Xe=Ie===He?-1:ce.get(Ie-1)+1;nt++;const lt=Math.min(Math.max(rt,Xe),j.length),et=lt-Ie;if(nt++,lt>j.length||et>ee.length)continue;const ut=ue(lt,et);ce.set(Ie,ut);const dt=pe.get(lt===rt?Ie+1:Ie-1);if(pe.set(Ie,ut!==lt?new qe(dt,lt,et,ut-lt):dt),ce.get(Ie)===j.length&&ce.get(Ie)-Ie===ee.length)break e}}let Ae=pe.get(Ie);const ye=[];let Me=j.length,Pe=ee.length;for(;;){const He=Ae?Ae.x+Ae.length:0,Ye=Ae?Ae.y+Ae.length:0;if((He!==Me||Ye!==Pe)&&ye.push(new Oe(new ne.L(He,Me),new ne.L(Ye,Pe))),!Ae)break;Me=Ae.x,Pe=Ae.y,Ae=Ae.prev}return ye.reverse(),new Qe(ye,!1)}}class qe{constructor(c,g,B,j){this.prev=c,this.x=g,this.y=B,this.length=j}}class n{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(c){return c<0?this.negativeArr[c=-c-1]:this.positiveArr[c]}set(c,g){if(c<0){if((c=-c-1)>=this.negativeArr.length){const B=this.negativeArr;this.negativeArr=new Int32Array(2*B.length),this.negativeArr.set(B)}this.negativeArr[c]=g}else{if(c>=this.positiveArr.length){const B=this.positiveArr;this.positiveArr=new Int32Array(2*B.length),this.positiveArr.set(B)}this.positiveArr[c]=g}}}class ct{constructor(){this.positiveArr=[],this.negativeArr=[]}get(c){return c<0?this.negativeArr[c=-c-1]:this.positiveArr[c]}set(c,g){c<0?this.negativeArr[c=-c-1]=g:this.positiveArr[c]=g}}var gt=x(2210),Lt=x(53);class Ot{constructor(c,g,B){this.lines=c,this.range=g,this.considerWhitespaceChanges=B,this.elements=[],this.firstElementOffsetByLineIdx=[],this.lineStartOffsets=[],this.trimmedWsLengthsByLineIdx=[],this.firstElementOffsetByLineIdx.push(0);for(let j=this.range.startLineNumber;j<=this.range.endLineNumber;j++){let ee=c[j-1],ue=0;j===this.range.startLineNumber&&this.range.startColumn>1&&(ue=this.range.startColumn-1,ee=ee.substring(ue)),this.lineStartOffsets.push(ue);let ge=0;if(!B){const pe=ee.trimStart();ge=ee.length-pe.length,ee=pe.trimEnd()}this.trimmedWsLengthsByLineIdx.push(ge);const ce=j===this.range.endLineNumber?Math.min(this.range.endColumn-1-ue-ge,ee.length):ee.length;for(let pe=0;pe<ce;pe++)this.elements.push(ee.charCodeAt(pe));j<this.range.endLineNumber&&(this.elements.push(10),this.firstElementOffsetByLineIdx.push(this.elements.length))}}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new ne.L(0,this.length))}getText(c){return this.elements.slice(c.start,c.endExclusive).map(g=>String.fromCharCode(g)).join("")}getElement(c){return this.elements[c]}get length(){return this.elements.length}getBoundaryScore(c){const g=Nt(c>0?this.elements[c-1]:-1),B=Nt(c<this.elements.length?this.elements[c]:-1);if(7===g&&8===B)return 0;if(8===g)return 150;let j=0;return g!==B&&(j+=10,0===g&&1===B&&(j+=1)),j+=vt(g),j+=vt(B),j}translateOffset(c,g="right"){const B=(0,gt.iM)(this.firstElementOffsetByLineIdx,ee=>ee<=c),j=c-this.firstElementOffsetByLineIdx[B];return new M.y(this.range.startLineNumber+B,1+this.lineStartOffsets[B]+j+(0===j&&"left"===g?0:this.trimmedWsLengthsByLineIdx[B]))}translateRange(c){const g=this.translateOffset(c.start,"right"),B=this.translateOffset(c.endExclusive,"left");return B.isBefore(g)?Z.Q.fromPositions(B,B):Z.Q.fromPositions(g,B)}findWordContaining(c){if(c<0||c>=this.elements.length||!Pt(this.elements[c]))return;let g=c;for(;g>0&&Pt(this.elements[g-1]);)g--;let B=c;for(;B<this.elements.length&&Pt(this.elements[B]);)B++;return new ne.L(g,B)}countLinesIn(c){return this.translateOffset(c.endExclusive).lineNumber-this.translateOffset(c.start).lineNumber}isStronglyEqual(c,g){return this.elements[c]===this.elements[g]}extendToFullLines(c){const g=(0,gt.lx)(this.firstElementOffsetByLineIdx,j=>j<=c.start)??0,B=(0,gt.XP)(this.firstElementOffsetByLineIdx,j=>c.endExclusive<=j)??this.elements.length;return new ne.L(g,B)}}function Pt(fe){return fe>=97&&fe<=122||fe>=65&&fe<=90||fe>=48&&fe<=57}const kt={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function vt(fe){return kt[fe]}function Nt(fe){return 10===fe?8:13===fe?7:U(fe)?6:fe>=97&&fe<=122?0:fe>=65&&fe<=90?1:fe>=48&&fe<=57?2:-1===fe?3:44===fe||59===fe?5:4}function en(fe,c,g){if(fe.trim()===c.trim())return!0;if(fe.length>300&&c.length>300)return!1;const j=(new Fe).compute(new Ot([fe],new Z.Q(1,1,1,fe.length),!1),new Ot([c],new Z.Q(1,1,1,c.length),!1),g);let ee=0;const ue=Oe.invert(j.diffs,fe.length);for(const Ie of ue)Ie.seq1Range.forEach(Ae=>{U(fe.charCodeAt(Ae))||ee++});const ce=function ge(Ie){let Ae=0;for(let ye=0;ye<fe.length;ye++)U(Ie.charCodeAt(ye))||Ae++;return Ae}(fe.length>c.length?fe:c);return ee/ce>.6&&ce>10}function ei(fe,c,g){let B=g;return B=hn(fe,c,B),B=hn(fe,c,B),B=function Gt(fe,c,g){if(!fe.getBoundaryScore||!c.getBoundaryScore)return g;for(let B=0;B<g.length;B++){const j=B>0?g[B-1]:void 0,ee=g[B],ue=B+1<g.length?g[B+1]:void 0,ge=new ne.L(j?j.seq1Range.endExclusive+1:0,ue?ue.seq1Range.start-1:fe.length),ce=new ne.L(j?j.seq2Range.endExclusive+1:0,ue?ue.seq2Range.start-1:c.length);ee.seq1Range.isEmpty?g[B]=Dn(ee,fe,c,ge,ce):ee.seq2Range.isEmpty&&(g[B]=Dn(ee.swap(),c,fe,ce,ge).swap())}return g}(fe,c,B),B}function hn(fe,c,g){if(0===g.length)return g;const B=[];B.push(g[0]);for(let ee=1;ee<g.length;ee++){const ue=B[B.length-1];let ge=g[ee];if(ge.seq1Range.isEmpty||ge.seq2Range.isEmpty){const ce=ge.seq1Range.start-ue.seq1Range.endExclusive;let pe;for(pe=1;pe<=ce&&fe.getElement(ge.seq1Range.start-pe)===fe.getElement(ge.seq1Range.endExclusive-pe)&&c.getElement(ge.seq2Range.start-pe)===c.getElement(ge.seq2Range.endExclusive-pe);pe++);if(pe--,pe===ce){B[B.length-1]=new Oe(new ne.L(ue.seq1Range.start,ge.seq1Range.endExclusive-ce),new ne.L(ue.seq2Range.start,ge.seq2Range.endExclusive-ce));continue}ge=ge.delta(-pe)}B.push(ge)}const j=[];for(let ee=0;ee<B.length-1;ee++){const ue=B[ee+1];let ge=B[ee];if(ge.seq1Range.isEmpty||ge.seq2Range.isEmpty){const ce=ue.seq1Range.start-ge.seq1Range.endExclusive;let pe;for(pe=0;pe<ce&&fe.isStronglyEqual(ge.seq1Range.start+pe,ge.seq1Range.endExclusive+pe)&&c.isStronglyEqual(ge.seq2Range.start+pe,ge.seq2Range.endExclusive+pe);pe++);if(pe===ce){B[ee+1]=new Oe(new ne.L(ge.seq1Range.start+ce,ue.seq1Range.endExclusive),new ne.L(ge.seq2Range.start+ce,ue.seq2Range.endExclusive));continue}pe>0&&(ge=ge.delta(pe))}j.push(ge)}return B.length>0&&j.push(B[B.length-1]),j}function Dn(fe,c,g,B,j){let ue=1;for(;fe.seq1Range.start-ue>=B.start&&fe.seq2Range.start-ue>=j.start&&g.isStronglyEqual(fe.seq2Range.start-ue,fe.seq2Range.endExclusive-ue)&&ue<100;)ue++;ue--;let ge=0;for(;fe.seq1Range.start+ge<B.endExclusive&&fe.seq2Range.endExclusive+ge<j.endExclusive&&g.isStronglyEqual(fe.seq2Range.start+ge,fe.seq2Range.endExclusive+ge)&&ge<100;)ge++;if(0===ue&&0===ge)return fe;let ce=0,pe=-1;for(let Ie=-ue;Ie<=ge;Ie++){const Ae=fe.seq2Range.start+Ie,ye=fe.seq2Range.endExclusive+Ie,Pe=c.getBoundaryScore(fe.seq1Range.start+Ie)+g.getBoundaryScore(Ae)+g.getBoundaryScore(ye);Pe>pe&&(pe=Pe,ce=Ie)}return fe.delta(ce)}class Mt{constructor(c,g){this.trimmedHash=c,this.lines=g}getElement(c){return this.trimmedHash[c]}get length(){return this.trimmedHash.length}getBoundaryScore(c){return 1e3-((0===c?0:ni(this.lines[c-1]))+(c===this.lines.length?0:ni(this.lines[c])))}getText(c){return this.lines.slice(c.start,c.endExclusive).join("\n")}isStronglyEqual(c,g){return this.lines[c]===this.lines[g]}}function ni(fe){let c=0;for(;c<fe.length&&(32===fe.charCodeAt(c)||9===fe.charCodeAt(c));)c++;return c}class ii{constructor(){this.dynamicProgrammingDiffing=new we,this.myersDiffingAlgorithm=new Fe}computeDiff(c,g,B){if(c.length<=1&&(0,zt.aI)(c,g,(et,ut)=>et===ut))return new v([],[],!1);if(1===c.length&&0===c[0].length||1===g.length&&0===g[0].length)return new v([new _e(new S.M(1,c.length+1),new S.M(1,g.length+1),[new Se(new Z.Q(1,1,c.length,c[c.length-1].length+1),new Z.Q(1,1,g.length,g[g.length-1].length+1))])],[],!1);const j=0===B.maxComputationTimeMs?b.instance:new te(B.maxComputationTimeMs),ee=!B.ignoreTrimWhitespace,ue=new Map;function ge(et){let ut=ue.get(et);return void 0===ut&&(ut=ue.size,ue.set(et,ut)),ut}const ce=c.map(et=>ge(et.trim())),pe=g.map(et=>ge(et.trim())),Ie=new Mt(ce,c),Ae=new Mt(pe,g),ye=Ie.length+Ae.length<1700?this.dynamicProgrammingDiffing.compute(Ie,Ae,j,(et,ut)=>c[et]===g[ut]?0===g[ut].length?.1:1+Math.log(1+g[ut].length):.99):this.myersDiffingAlgorithm.compute(Ie,Ae,j);let Me=ye.diffs,Pe=ye.hitTimeout;Me=ei(Ie,Ae,Me),Me=function jn(fe,c,g){let B=g;if(0===B.length)return B;let ee,j=0;do{ee=!1;const ue=[B[0]];for(let ge=1;ge<B.length;ge++){let Ie=function(ye,Me){const Pe=new ne.L(pe.seq1Range.endExclusive,ce.seq1Range.start);return fe.getText(Pe).replace(/\s/g,"").length<=4&&(ye.seq1Range.length+ye.seq2Range.length>5||Me.seq1Range.length+Me.seq2Range.length>5)};const ce=B[ge],pe=ue[ue.length-1];Ie(pe,ce)?(ee=!0,ue[ue.length-1]=ue[ue.length-1].join(ce)):ue.push(ce)}B=ue}while(j++<10&&ee);return B}(Ie,0,Me);const He=[],Ye=et=>{if(ee)for(let ut=0;ut<et;ut++){const dt=nt+ut,st=rt+ut;if(c[dt]!==g[st]){const Ut=this.refineDiff(c,g,new Oe(new ne.L(dt,dt+1),new ne.L(st,st+1)),j,ee);for(const Vt of Ut.mappings)He.push(Vt);Ut.hitTimeout&&(Pe=!0)}}};let nt=0,rt=0;for(const et of Me){(0,G.Ft)(()=>et.seq1Range.start-nt==et.seq2Range.start-rt),Ye(et.seq1Range.start-nt),nt=et.seq1Range.endExclusive,rt=et.seq2Range.endExclusive;const dt=this.refineDiff(c,g,et,j,ee);dt.hitTimeout&&(Pe=!0);for(const st of dt.mappings)He.push(st)}Ye(c.length-nt);const Xe=_n(He,c,g);let lt=[];return B.computeMoves&&(lt=this.computeMoves(Xe,c,g,ce,pe,j,ee)),(0,G.Ft)(()=>{function et(dt,st){return!(dt.lineNumber<1||dt.lineNumber>st.length)&&!(dt.column<1||dt.column>st[dt.lineNumber-1].length+1)}function ut(dt,st){return!(dt.startLineNumber<1||dt.startLineNumber>st.length+1||dt.endLineNumberExclusive<1||dt.endLineNumberExclusive>st.length+1)}for(const dt of Xe){if(!dt.innerChanges)return!1;for(const st of dt.innerChanges)if(!(et(st.modifiedRange.getStartPosition(),g)&&et(st.modifiedRange.getEndPosition(),g)&&et(st.originalRange.getStartPosition(),c)&&et(st.originalRange.getEndPosition(),c)))return!1;if(!ut(dt.modified,g)||!ut(dt.original,c))return!1}return!0}),new v(Xe,lt,Pe)}computeMoves(c,g,B,j,ee,ue,ge){return function Xt(fe,c,g,B,j,ee){let{moves:ue,excludedChanges:ge}=function cn(fe,c,g,B){const j=[],ee=fe.filter(ce=>ce.modified.isEmpty&&ce.original.length>=3).map(ce=>new Ce(ce.original,c,ce)),ue=new Set(fe.filter(ce=>ce.original.isEmpty&&ce.modified.length>=3).map(ce=>new Ce(ce.modified,g,ce))),ge=new Set;for(const ce of ee){let Ie,pe=-1;for(const Ae of ue){const ye=ce.computeSimilarity(Ae);ye>pe&&(pe=ye,Ie=Ae)}if(pe>.9&&Ie&&(ue.delete(Ie),j.push(new J(ce.range,Ie.range)),ge.add(ce.source),ge.add(Ie.source)),!B.isValid())return{moves:j,excludedChanges:ge}}return{moves:j,excludedChanges:ge}}(fe,c,g,ee);if(!ee.isValid())return[];const pe=function Zt(fe,c,g,B,j,ee){const ue=[],ge=new Lt.db;for(const ye of fe)for(let Me=ye.original.startLineNumber;Me<ye.original.endLineNumberExclusive-2;Me++)ge.add(`${c[Me-1]}:${c[Me+1-1]}:${c[Me+2-1]}`,{range:new S.M(Me,Me+3)});const ce=[];fe.sort((0,zt.VE)(ye=>ye.modified.startLineNumber,zt.U9));for(const ye of fe){let Me=[];for(let Pe=ye.modified.startLineNumber;Pe<ye.modified.endLineNumberExclusive-2;Pe++){const He=`${g[Pe-1]}:${g[Pe+1-1]}:${g[Pe+2-1]}`,Ye=new S.M(Pe,Pe+3),nt=[];ge.forEach(He,({range:rt})=>{for(const lt of Me)if(lt.originalLineRange.endLineNumberExclusive+1===rt.endLineNumberExclusive&&lt.modifiedLineRange.endLineNumberExclusive+1===Ye.endLineNumberExclusive)return lt.originalLineRange=new S.M(lt.originalLineRange.startLineNumber,rt.endLineNumberExclusive),lt.modifiedLineRange=new S.M(lt.modifiedLineRange.startLineNumber,Ye.endLineNumberExclusive),void nt.push(lt);const Xe={modifiedLineRange:Ye,originalLineRange:rt};ce.push(Xe),nt.push(Xe)}),Me=nt}if(!ee.isValid())return[]}ce.sort((0,zt.Hw)((0,zt.VE)(ye=>ye.modifiedLineRange.length,zt.U9)));const pe=new S.S,Ie=new S.S;for(const ye of ce){const Me=ye.modifiedLineRange.startLineNumber-ye.originalLineRange.startLineNumber,Pe=pe.subtractFrom(ye.modifiedLineRange),He=Ie.subtractFrom(ye.originalLineRange).getWithDelta(Me),Ye=Pe.getIntersection(He);for(const nt of Ye.ranges){if(nt.length<3)continue;const rt=nt,Xe=nt.delta(-Me);ue.push(new J(Xe,rt)),pe.addRange(rt),Ie.addRange(Xe)}}ue.sort((0,zt.VE)(ye=>ye.original.startLineNumber,zt.U9));const Ae=new gt.vJ(fe);for(let ye=0;ye<ue.length;ye++){const Me=ue[ye],Pe=Ae.findLastMonotonous(ut=>ut.original.startLineNumber<=Me.original.startLineNumber),He=(0,gt.lx)(fe,ut=>ut.modified.startLineNumber<=Me.modified.startLineNumber),Ye=Math.max(Me.original.startLineNumber-Pe.original.startLineNumber,Me.modified.startLineNumber-He.modified.startLineNumber),nt=Ae.findLastMonotonous(ut=>ut.original.startLineNumber<Me.original.endLineNumberExclusive),rt=(0,gt.lx)(fe,ut=>ut.modified.startLineNumber<Me.modified.endLineNumberExclusive),Xe=Math.max(nt.original.endLineNumberExclusive-Me.original.endLineNumberExclusive,rt.modified.endLineNumberExclusive-Me.modified.endLineNumberExclusive);let lt,et;for(lt=0;lt<Ye;lt++){const ut=Me.original.startLineNumber-lt-1,dt=Me.modified.startLineNumber-lt-1;if(ut>B.length||dt>j.length||pe.contains(dt)||Ie.contains(ut)||!en(B[ut-1],j[dt-1],ee))break}for(lt>0&&(Ie.addRange(new S.M(Me.original.startLineNumber-lt,Me.original.startLineNumber)),pe.addRange(new S.M(Me.modified.startLineNumber-lt,Me.modified.startLineNumber))),et=0;et<Xe;et++){const ut=Me.original.endLineNumberExclusive+et,dt=Me.modified.endLineNumberExclusive+et;if(ut>B.length||dt>j.length||pe.contains(dt)||Ie.contains(ut)||!en(B[ut-1],j[dt-1],ee))break}et>0&&(Ie.addRange(new S.M(Me.original.endLineNumberExclusive,Me.original.endLineNumberExclusive+et)),pe.addRange(new S.M(Me.modified.endLineNumberExclusive,Me.modified.endLineNumberExclusive+et))),(lt>0||et>0)&&(ue[ye]=new J(new S.M(Me.original.startLineNumber-lt,Me.original.endLineNumberExclusive+et),new S.M(Me.modified.startLineNumber-lt,Me.modified.endLineNumberExclusive+et)))}return ue}(fe.filter(Ie=>!ge.has(Ie)),B,j,c,g,ee);return(0,zt.E4)(ue,pe),ue=function Jn(fe){if(0===fe.length)return fe;fe.sort((0,zt.VE)(g=>g.original.startLineNumber,zt.U9));const c=[fe[0]];for(let g=1;g<fe.length;g++){const B=c[c.length-1],j=fe[g],ee=j.original.startLineNumber-B.original.endLineNumberExclusive,ue=j.modified.startLineNumber-B.modified.endLineNumberExclusive;ee>=0&&ue>=0&&ee+ue<=2?c[c.length-1]=B.join(j):c.push(j)}return c}(ue),ue=ue.filter(Ie=>{const Ae=Ie.original.toOffsetRange().slice(c).map(Me=>Me.trim());return Ae.join("\n").length>=15&&function En(fe,c){let g=0;for(const B of fe)c(B)&&g++;return g}(Ae,Me=>Me.length>=2)>=2}),ue=function _i(fe,c){const g=new gt.vJ(fe);return c=c.filter(B=>{const j=g.findLastMonotonous(ge=>ge.original.startLineNumber<B.original.endLineNumberExclusive)||new J(new S.M(1,1),new S.M(1,1)),ee=(0,gt.lx)(fe,ge=>ge.modified.startLineNumber<B.modified.endLineNumberExclusive);return j!==ee}),c}(fe,ue),ue}(c,g,B,j,ee,ue).map(Ie=>{const ye=_n(this.refineDiff(g,B,new Oe(Ie.original.toOffsetRange(),Ie.modified.toOffsetRange()),ue,ge).mappings,g,B,!0);return new A(Ie,ye)})}refineDiff(c,g,B,j,ee){const ge=function me(fe){return new J(new S.M(fe.seq1Range.start+1,fe.seq1Range.endExclusive+1),new S.M(fe.seq2Range.start+1,fe.seq2Range.endExclusive+1))}(B).toRangeMapping2(c,g),ce=new Ot(c,ge.originalRange,ee),pe=new Ot(g,ge.modifiedRange,ee),Ie=ce.length+pe.length<500?this.dynamicProgrammingDiffing.compute(ce,pe,j):this.myersDiffingAlgorithm.compute(ce,pe,j);let ye=Ie.diffs;ye=ei(ce,pe,ye),ye=function Ft(fe,c,g){const B=Oe.invert(g,fe.length),j=[];let ee=new Ne(0,0);function ue(ce,pe){if(ce.offset1<ee.offset1||ce.offset2<ee.offset2)return;const Ie=fe.findWordContaining(ce.offset1),Ae=c.findWordContaining(ce.offset2);if(!Ie||!Ae)return;let ye=new Oe(Ie,Ae);const Me=ye.intersect(pe);let Pe=Me.seq1Range.length,He=Me.seq2Range.length;for(;B.length>0;){const Ye=B[0];if(!Ye.seq1Range.intersects(ye.seq1Range)&&!Ye.seq2Range.intersects(ye.seq2Range))break;const rt=fe.findWordContaining(Ye.seq1Range.start),Xe=c.findWordContaining(Ye.seq2Range.start),lt=new Oe(rt,Xe),et=lt.intersect(Ye);if(Pe+=et.seq1Range.length,He+=et.seq2Range.length,ye=ye.join(lt),!(ye.seq1Range.endExclusive>=Ye.seq1Range.endExclusive))break;B.shift()}Pe+He<2*(ye.seq1Range.length+ye.seq2Range.length)/3&&j.push(ye),ee=ye.getEndExclusives()}for(;B.length>0;){const ce=B.shift();ce.seq1Range.isEmpty||(ue(ce.getStarts(),ce),ue(ce.getEndExclusives().delta(-1),ce))}return function Jt(fe,c){const g=[];for(;fe.length>0||c.length>0;){const B=fe[0],j=c[0];let ee;ee=B&&(!j||B.seq1Range.start<j.seq1Range.start)?fe.shift():c.shift(),g.length>0&&g[g.length-1].seq1Range.endExclusive>=ee.seq1Range.start?g[g.length-1]=g[g.length-1].join(ee):g.push(ee)}return g}(g,j)}(ce,pe,ye),ye=function Kt(fe,c,g){const B=[];for(const j of g){const ee=B[B.length-1];ee&&(j.seq1Range.start-ee.seq1Range.endExclusive<=2||j.seq2Range.start-ee.seq2Range.endExclusive<=2)?B[B.length-1]=new Oe(ee.seq1Range.join(j.seq1Range),ee.seq2Range.join(j.seq2Range)):B.push(j)}return B}(0,0,ye),ye=function ti(fe,c,g){let B=g;if(0===B.length)return B;let ee,j=0;do{ee=!1;const ge=[B[0]];for(let ce=1;ce<B.length;ce++){let Ae=function(Me,Pe){const He=new ne.L(Ie.seq1Range.endExclusive,pe.seq1Range.start);if(fe.countLinesIn(He)>5||He.length>500)return!1;const nt=fe.getText(He).trim();if(nt.length>20||nt.split(/\r\n|\r|\n/).length>1)return!1;const rt=fe.countLinesIn(Me.seq1Range),Xe=Me.seq1Range.length,lt=c.countLinesIn(Me.seq2Range),et=Me.seq2Range.length,ut=fe.countLinesIn(Pe.seq1Range),dt=Pe.seq1Range.length,st=c.countLinesIn(Pe.seq2Range),Ut=Pe.seq2Range.length;function Dt(mt){return Math.min(mt,130)}return Math.pow(Math.pow(Dt(40*rt+Xe),1.5)+Math.pow(Dt(40*lt+et),1.5),1.5)+Math.pow(Math.pow(Dt(40*ut+dt),1.5)+Math.pow(Dt(40*st+Ut),1.5),1.5)>74184.96480721243};const pe=B[ce],Ie=ge[ge.length-1];Ae(Ie,pe)?(ee=!0,ge[ge.length-1]=ge[ge.length-1].join(pe)):ge.push(pe)}B=ge}while(j++<10&&ee);const ue=[];return(0,zt.kj)(B,(ge,ce,pe)=>{let Ie=ce;function Ae(nt){return nt.length>0&&nt.trim().length<=3&&ce.seq1Range.length+ce.seq2Range.length>100}const ye=fe.extendToFullLines(ce.seq1Range),Me=fe.getText(new ne.L(ye.start,ce.seq1Range.start));Ae(Me)&&(Ie=Ie.deltaStart(-Me.length));const Pe=fe.getText(new ne.L(ce.seq1Range.endExclusive,ye.endExclusive));Ae(Pe)&&(Ie=Ie.deltaEnd(Pe.length));const He=Oe.fromOffsetPairs(ge?ge.getEndExclusives():Ne.zero,pe?pe.getStarts():Ne.max),Ye=Ie.intersect(He);ue.length>0&&Ye.getStarts().equals(ue[ue.length-1].getEndExclusives())?ue[ue.length-1]=ue[ue.length-1].join(Ye):ue.push(Ye)}),ue}(ce,pe,ye);return{mappings:ye.map(Pe=>new Se(ce.translateRange(Pe.seq1Range),pe.translateRange(Pe.seq2Range))),hitTimeout:Ie.hitTimeout}}}function _n(fe,c,g,B=!1){const j=[];for(const ee of(0,zt.n)(fe.map(ue=>function mn(fe,c,g){let B=0,j=0;1===fe.modifiedRange.endColumn&&1===fe.originalRange.endColumn&&fe.originalRange.startLineNumber+B<=fe.originalRange.endLineNumber&&fe.modifiedRange.startLineNumber+B<=fe.modifiedRange.endLineNumber&&(j=-1),fe.modifiedRange.startColumn-1>=g[fe.modifiedRange.startLineNumber-1].length&&fe.originalRange.startColumn-1>=c[fe.originalRange.startLineNumber-1].length&&fe.originalRange.startLineNumber<=fe.originalRange.endLineNumber+j&&fe.modifiedRange.startLineNumber<=fe.modifiedRange.endLineNumber+j&&(B=1);const ee=new S.M(fe.originalRange.startLineNumber+B,fe.originalRange.endLineNumber+1+j),ue=new S.M(fe.modifiedRange.startLineNumber+B,fe.modifiedRange.endLineNumber+1+j);return new _e(ee,ue,[fe])}(ue,c,g)),(ue,ge)=>ue.original.overlapOrTouch(ge.original)||ue.modified.overlapOrTouch(ge.modified))){const ue=ee[0],ge=ee[ee.length-1];j.push(new _e(ue.original.join(ge.original),ue.modified.join(ge.modified),ee.map(ce=>ce.innerChanges[0])))}return(0,G.Ft)(()=>!(!B&&j.length>0&&(j[0].modified.startLineNumber!==j[0].original.startLineNumber||g.length-j[j.length-1].modified.endLineNumberExclusive!=c.length-j[j.length-1].original.endLineNumberExclusive))&&(0,G.Xo)(j,(ee,ue)=>ue.original.startLineNumber-ee.original.endLineNumberExclusive==ue.modified.startLineNumber-ee.modified.endLineNumberExclusive&&ee.original.endLineNumberExclusive<ue.original.startLineNumber&&ee.modified.endLineNumberExclusive<ue.modified.startLineNumber)),j}var ae=x(4311),De=x(5109),Ue=x(4072);function Ke(fe){const c=[];for(const g of fe){const B=Number(g);(B||0===B&&""!==g.replace(/\s/g,""))&&c.push(B)}return c}function ht(fe,c,g,B){return{red:fe/255,blue:g/255,green:c/255,alpha:B}}function Ct(fe,c){const g=c.index,B=c[0].length;if(!g)return;const j=fe.positionAt(g);return{startLineNumber:j.lineNumber,startColumn:j.column,endLineNumber:j.lineNumber,endColumn:j.column+B}}function sn(fe,c){if(!fe)return;const g=Ue.Q1.Format.CSS.parseHex(c);return g?{range:fe,color:ht(g.rgba.r,g.rgba.g,g.rgba.b,g.rgba.a)}:void 0}function Et(fe,c,g){if(!fe||1!==c.length)return;const ee=Ke(c[0].values());return{range:fe,color:ht(ee[0],ee[1],ee[2],g?ee[3]:1)}}function tn(fe,c,g){if(!fe||1!==c.length)return;const ee=Ke(c[0].values()),ue=new Ue.Q1(new Ue.hB(ee[0],ee[1]/100,ee[2]/100,g?ee[3]:1));return{range:fe,color:ht(ue.rgba.r,ue.rgba.g,ue.rgba.b,ue.rgba.a)}}function an(fe,c){return"string"==typeof fe?[...fe.matchAll(c)]:fe.findMatches(c)}var fn=x(2906),Fn=x(3296);let Pn=(()=>{class fe{constructor(){this._workerTextModelSyncServer=new Fn.WorkerTextModelSyncServer}dispose(){}_getModel(g){return this._workerTextModelSyncServer.getModel(g)}_getModels(){return this._workerTextModelSyncServer.getModels()}$acceptNewModel(g){this._workerTextModelSyncServer.$acceptNewModel(g)}$acceptModelChanged(g,B){this._workerTextModelSyncServer.$acceptModelChanged(g,B)}$acceptRemovedModel(g){this._workerTextModelSyncServer.$acceptRemovedModel(g)}$computeUnicodeHighlights(g,B,j){var ee=this;return(0,N.A)(function*(){const ue=ee._getModel(g);return ue?O.UnicodeTextModelHighlighter.computeUnicodeHighlights(ue,B,j):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})()}$findSectionHeaders(g,B){var j=this;return(0,N.A)(function*(){const ee=j._getModel(g);return ee?(0,fn.findSectionHeaders)(ee,B):[]})()}$computeDiff(g,B,j,ee){var ue=this;return(0,N.A)(function*(){const ge=ue._getModel(g),ce=ue._getModel(B);return ge&&ce?Wn.computeDiff(ge,ce,j,ee):null})()}static computeDiff(g,B,j,ee){const ue="advanced"===ee?new ii:new Be,ge=g.getLinesContent(),ce=B.getLinesContent(),pe=ue.computeDiff(ge,ce,j);function Ae(ye){return ye.map(Me=>[Me.original.startLineNumber,Me.original.endLineNumberExclusive,Me.modified.startLineNumber,Me.modified.endLineNumberExclusive,Me.innerChanges?.map(Pe=>[Pe.originalRange.startLineNumber,Pe.originalRange.startColumn,Pe.originalRange.endLineNumber,Pe.originalRange.endColumn,Pe.modifiedRange.startLineNumber,Pe.modifiedRange.startColumn,Pe.modifiedRange.endLineNumber,Pe.modifiedRange.endColumn])])}return{identical:!(pe.changes.length>0)&&this._modelsAreIdentical(g,B),quitEarly:pe.hitTimeout,changes:Ae(pe.changes),moves:pe.moves.map(ye=>[ye.lineRangeMapping.original.startLineNumber,ye.lineRangeMapping.original.endLineNumberExclusive,ye.lineRangeMapping.modified.startLineNumber,ye.lineRangeMapping.modified.endLineNumberExclusive,Ae(ye.changes)])}}static _modelsAreIdentical(g,B){const j=g.getLineCount();if(j!==B.getLineCount())return!1;for(let ue=1;ue<=j;ue++)if(g.getLineContent(ue)!==B.getLineContent(ue))return!1;return!0}static{this._diffLimit=1e5}$computeMoreMinimalEdits(g,B,j){var ee=this;return(0,N.A)(function*(){const ue=ee._getModel(g);if(!ue)return B;const ge=[];let ce;B=B.slice(0).sort((Ie,Ae)=>Ie.range&&Ae.range?Z.Q.compareRangesUsingStarts(Ie.range,Ae.range):(Ie.range?0:1)-(Ae.range?0:1));let pe=0;for(let Ie=1;Ie<B.length;Ie++)Z.Q.getEndPosition(B[pe].range).equals(Z.Q.getStartPosition(B[Ie].range))?(B[pe].range=Z.Q.fromPositions(Z.Q.getStartPosition(B[pe].range),Z.Q.getEndPosition(B[Ie].range)),B[pe].text+=B[Ie].text):(pe++,B[pe]=B[Ie]);B.length=pe+1;for(let{range:Ie,text:Ae,eol:ye}of B){if("number"==typeof ye&&(ce=ye),Z.Q.isEmpty(Ie)&&!Ae)continue;const Me=ue.getValueInRange(Ie);if(Ae=Ae.replace(/\r\n|\n|\r/g,ue.eol),Me===Ae)continue;if(Math.max(Ae.length,Me.length)>Wn._diffLimit){ge.push({range:Ie,text:Ae});continue}const Pe=p(Me,Ae,j),He=ue.offsetAt(Z.Q.lift(Ie).getStartPosition());for(const Ye of Pe){const nt=ue.positionAt(He+Ye.originalStart),rt=ue.positionAt(He+Ye.originalStart+Ye.originalLength),Xe={text:Ae.substr(Ye.modifiedStart,Ye.modifiedLength),range:{startLineNumber:nt.lineNumber,startColumn:nt.column,endLineNumber:rt.lineNumber,endColumn:rt.column}};ue.getValueInRange(Xe.range)!==Xe.text&&ge.push(Xe)}}return"number"==typeof ce&&ge.push({eol:ce,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),ge})()}$computeLinks(g){var B=this;return(0,N.A)(function*(){const j=B._getModel(g);return j?function d(fe){return fe&&"function"==typeof fe.getLineCount&&"function"==typeof fe.getLineContent?se.computeLinks(fe):[]}(j):null})()}$computeDefaultDocumentColors(g){var B=this;return(0,N.A)(function*(){const j=B._getModel(g);return j?function bn(fe){return fe&&"function"==typeof fe.getValue&&"function"==typeof fe.positionAt?function dn(fe){const c=[],B=an(fe,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(B.length>0)for(const j of B){const ee=j.filter(pe=>void 0!==pe),ue=ee[1],ge=ee[2];if(!ge)continue;let ce;if("rgb"===ue){const pe=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;ce=Et(Ct(fe,j),an(ge,pe),!1)}else if("rgba"===ue){const pe=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;ce=Et(Ct(fe,j),an(ge,pe),!0)}else if("hsl"===ue){const pe=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;ce=tn(Ct(fe,j),an(ge,pe),!1)}else if("hsla"===ue){const pe=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;ce=tn(Ct(fe,j),an(ge,pe),!0)}else"#"===ue&&(ce=sn(Ct(fe,j),ue+ge));ce&&c.push(ce)}return c}(fe):[]}(j):null})()}static{this._suggestionsLimit=1e4}$textualSuggest(g,B,j,ee){var ue=this;return(0,N.A)(function*(){const ge=new F.W,ce=new RegExp(j,ee),pe=new Set;e:for(const Ie of g){const Ae=ue._getModel(Ie);if(Ae)for(const ye of Ae.words(ce))if(ye!==B&&isNaN(Number(ye))&&(pe.add(ye),pe.size>Wn._suggestionsLimit))break e}return{words:Array.from(pe),duration:ge.elapsed()}})()}$computeWordRanges(g,B,j,ee){var ue=this;return(0,N.A)(function*(){const ge=ue._getModel(g);if(!ge)return Object.create(null);const ce=new RegExp(j,ee),pe=Object.create(null);for(let Ie=B.startLineNumber;Ie<B.endLineNumber;Ie++){const Ae=ge.getLineWords(Ie,ce);for(const ye of Ae){if(!isNaN(Number(ye.word)))continue;let Me=pe[ye.word];Me||(Me=[],pe[ye.word]=Me),Me.push({startLineNumber:Ie,startColumn:ye.startColumn,endLineNumber:Ie,endColumn:ye.endColumn})}}return pe})()}$navigateValueSet(g,B,j,ee,ue){var ge=this;return(0,N.A)(function*(){const ce=ge._getModel(g);if(!ce)return null;const pe=new RegExp(ee,ue);B.startColumn===B.endColumn&&(B={startLineNumber:B.startLineNumber,startColumn:B.startColumn,endLineNumber:B.endLineNumber,endColumn:B.endColumn+1});const Ie=ce.getValueInRange(B),Ae=ce.getWordAtPosition({lineNumber:B.startLineNumber,column:B.startColumn},pe);if(!Ae)return null;const ye=ce.getValueInRange(Ae);return k.INSTANCE.navigateValueSet(B,Ie,Ae,ye,j)})()}}return fe})();class Wn extends Pn{constructor(c,g){super(),this._host=c,this._foreignModuleFactory=g,this._foreignModule=null}$ping(){return(0,N.A)(function*(){return"pong"})()}$loadForeignModule(c,g,B){const ue={host:(0,ae.kT)(B,(ge,ce)=>this._host.$fhr(ge,ce)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(ue,g),Promise.resolve((0,ae.V0)(this._foreignModule))):new Promise((ge,ce)=>{const pe=Ie=>{this._foreignModule=Ie.create(ue,g),ge((0,ae.V0)(this._foreignModule))};{const Ie=De.zl.asBrowserUri(`${c}.js`).toString(!0);x(9204)(`${Ie}`).then(pe).catch(ce)}})}$fmr(c,g){if(!this._foreignModule||"function"!=typeof this._foreignModule[c])return Promise.reject(new Error("Missing requestHandler or method: "+c));try{return Promise.resolve(this._foreignModule[c].apply(this._foreignModule,g))}catch(B){return Promise.reject(B)}}}function Ti(fe){return new Wn(R.EditorWorkerHost.getChannel(fe),null)}"function"==typeof importScripts&&(globalThis.monaco=(0,m.createMonacoBaseAPI)())},4225:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{IEditorWorkerService:()=>$});const $=(0,x(598).u1)("editorWorkerService")},2607:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{EditorWorkerHost:()=>N});let N=(()=>{class ${static{this.CHANNEL_NAME="editorWorkerHost"}static getChannel(E){return E.getChannel($.CHANNEL_NAME)}static setChannel(E,p){E.setChannel($.CHANNEL_NAME,p)}}return $})()},2906:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{findSectionHeaders:()=>s});const N=new RegExp("\\bMARK:\\s*(.*)$","d"),$=/^-+|-+$/g;function s(I,D){let Z=[];if(D.findRegionSectionHeaders&&D.foldingRules?.markers){const H=function E(I,D){const Z=[],H=I.getLineCount();for(let L=1;L<=H;L++){const _=I.getLineContent(L),y=_.match(D.foldingRules.markers.start);if(y){const C={startLineNumber:L,startColumn:y[0].length+1,endLineNumber:L,endColumn:_.length+1};if(C.endColumn>C.startColumn){const h={range:C,...l(_.substring(y[0].length)),shouldBeInComments:!1};(h.text||h.hasSeparatorLine)&&Z.push(h)}}}return Z}(I,D);Z=Z.concat(H)}if(D.findMarkSectionHeaders){const H=function p(I){const D=[],Z=I.getLineCount();for(let H=1;H<=Z;H++)P(I.getLineContent(H),H,D);return D}(I);Z=Z.concat(H)}return Z}function P(I,D,Z){N.lastIndex=0;const H=N.exec(I);if(H){const y={startLineNumber:D,startColumn:H.indices[1][0]+1,endLineNumber:D,endColumn:H.indices[1][1]+1};if(y.endColumn>y.startColumn){const C={range:y,...l(H[1]),shouldBeInComments:!0};(C.text||C.hasSeparatorLine)&&Z.push(C)}}}function l(I){const D=(I=I.trim()).startsWith("-");return{text:I=I.replace($,""),hasSeparatorLine:D}}},3700:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{getIconClasses:()=>Z});var l,I,N=x(5109),$=x(6698),s=x(2417),E=x(7864),p=function(_){return _[_.FILE=0]="FILE",_[_.FOLDER=1]="FOLDER",_[_.ROOT_FOLDER=2]="ROOT_FOLDER",_}(p||{}),P=x(3616);(l||(l={})).isThemeColor=function y(C){return C&&"object"==typeof C&&"string"==typeof C.id},function(_){_.iconNameSegment="[A-Za-z0-9]+",_.iconNameExpression="[A-Za-z0-9-]+",_.iconModifierExpression="~[A-Za-z]+",_.iconNameCharacter="[A-Za-z0-9~-]";const y=new RegExp(`^(${_.iconNameExpression})(${_.iconModifierExpression})?$`);function C(v){const A=y.exec(v.id);if(!A)return C(P.W.error);const[,W,S]=A,M=["codicon","codicon-"+W];return S&&M.push("codicon-modifier-"+S.substring(1)),M}_.asClassNameArray=C,_.asClassName=function h(v){return C(v).join(" ")},_.asCSSSelector=function he(v){return"."+C(v).join(".")},_.isThemeIcon=function se(v){return v&&"object"==typeof v&&"string"==typeof v.id&&(typeof v.color>"u"||l.isThemeColor(v.color))};const d=new RegExp(`^\\$\\((${_.iconNameExpression}(?:${_.iconModifierExpression})?)\\)$`);_.fromString=function k(v){const A=d.exec(v);if(!A)return;const[,W]=A;return{id:W}},_.fromId=function m(v){return{id:v}},_.modify=function R(v,A){let W=v.id;const S=W.lastIndexOf("~");return-1!==S&&(W=W.substring(0,S)),A&&(W=`${W}~${A}`),{id:W}},_.getModifier=function F(v){const A=v.id.lastIndexOf("~");if(-1!==A)return v.id.substring(A+1)},_.isEqual=function O(v,A){return v.id===A.id&&v.color?.id===A.color?.id}}(I||(I={}));const D=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function Z(_,y,C,h,he){if(I.isThemeIcon(he))return[`codicon-${he.id}`,"predefined-file-icon"];if(s.r.isUri(he))return[];const se=h===p.ROOT_FOLDER?["rootfolder-icon"]:h===p.FOLDER?["folder-icon"]:["file-icon"];if(C){let d;if(C.scheme===N.ny.data)d=$.B6.parseMetaData(C).get($.B6.META_DATA_LABEL);else{const k=C.path.match(D);k?(d=L(k[2].toLowerCase()),k[1]&&se.push(`${L(k[1].toLowerCase())}-name-dir-icon`)):d=L(C.authority.toLowerCase())}if(h===p.ROOT_FOLDER)se.push(`${d}-root-name-folder-icon`);else if(h===p.FOLDER)se.push(`${d}-name-folder-icon`);else{if(d){if(se.push(`${d}-name-file-icon`),se.push("name-file-icon"),d.length<=255){const m=d.split(".");for(let R=1;R<m.length;R++)se.push(`${m.slice(R).join(".")}-ext-file-icon`)}se.push("ext-file-icon")}const k=function H(_,y,C){if(!C)return null;let h=null;if(C.scheme===N.ny.data){const se=$.B6.parseMetaData(C).get($.B6.META_DATA_MIME);se&&(h=y.getLanguageIdByMimeType(se))}else{const he=_.getModel(C);he&&(h=he.getLanguageId())}return h&&h!==E.vH?h:y.guessLanguageIdByFilepathOrFirstLine(C)}(_,y,C);k&&se.push(`${L(k)}-lang-file-icon`)}}return se}function L(_){return _.replace(/[\s]/g,"/")}},8525:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{ILanguageFeatureDebounceService:()=>_,LanguageFeatureDebounceService:()=>he});var N=x(5763),$=x(53);function s(se,d,k){return Math.min(Math.max(se,d),k)}class E{constructor(){this._n=1,this._val=0}update(d){return this._val=this._val+(d-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class p{constructor(d){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(d),this._values.fill(0,0,d)}update(d){const k=this._values[this._index];return this._values[this._index]=d,this._index=(this._index+1)%this._values.length,this._sum-=k,this._sum+=d,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}var P=x(598);const l=(0,P.u1)("environmentService");var I=x(2534),D=x(2124),Z=x(5109),L=function(se,d){return function(k,m){d(k,m,se)}};const _=(0,P.u1)("ILanguageFeatureDebounceService");var y;!function(se){const d=new WeakMap;let k=0;se.of=function m(R){let F=d.get(R);return void 0===F&&(F=++k,d.set(R,F)),F}}(y||(y={}));class C{constructor(d){this._default=d}get(d){return this._default}update(d,k){return this._default}default(){return this._default}}class h{constructor(d,k,m,R,F,O){this._logService=d,this._name=k,this._registry=m,this._default=R,this._min=F,this._max=O,this._cache=new $.qK(50,.7)}_key(d){return d.id+this._registry.all(d).reduce((k,m)=>(0,N.sN)(y.of(m),k),0)}get(d){const k=this._key(d),m=this._cache.get(k);return m?s(m.value,this._min,this._max):this.default()}update(d,k){const m=this._key(d);let R=this._cache.get(m);R||(R=new p(6),this._cache.set(m,R));const F=s(R.update(k),this._min,this._max);return(0,Z.v$)(d.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${d.uri.toString()} is ${F}ms`),F}_overall(){const d=new E;for(const[,k]of this._cache)d.update(k.value);return d.value}default(){return s(0|this._overall()||this._default,this._min,this._max)}}let he=class{constructor(d,k){this._logService=d,this._data=new Map,this._isDev=k.isExtensionDevelopment||!k.isBuilt}for(d,k,m){const R=m?.min??50,F=m?.max??R**2,O=m?.key??void 0,v=`${y.of(d)},${R}${O?","+O:""}`;let A=this._data.get(v);return A||(this._isDev?(this._logService.debug(`[DEBOUNCE: ${k}] is disabled in developed mode`),A=new C(1.5*R)):A=new h(this._logService,k,d,0|this._overallAverage()||1.5*R,R,F),this._data.set(v,A)),A}_overallAverage(){const d=new E;for(const k of this._data.values())d.update(k.default());return d.value}};he=function(se,d,k,m){var O,R=arguments.length,F=R<3?d:null===m?m=Object.getOwnPropertyDescriptor(d,k):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)F=Reflect.decorate(se,d,k,m);else for(var v=se.length-1;v>=0;v--)(O=se[v])&&(F=(R<3?O(F):R>3?O(d,k,F):O(d,k))||F);return R>3&&F&&Object.defineProperty(d,k,F),F}([L(0,D.rr),L(1,l)],he),(0,I.v)(_,he,1)},5307:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{ILanguageFeaturesService:()=>$});const $=(0,x(598).u1)("ILanguageFeaturesService")},2579:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{LanguageFeaturesService:()=>_});var N=x(5643),$=x(4061),s=x(3782),E=x(7441),p=x(1824);function P(y,C,h,he,se,d){if(Array.isArray(y)){let k=0;for(const m of y){const R=P(m,C,h,he,se,d);if(10===R)return R;R>k&&(k=R)}return k}if("string"==typeof y)return he?"*"===y?5:y===h?10:0:0;if(y){const{language:k,pattern:m,scheme:R,hasAccessToAllModels:F,notebookType:O}=y;if(!he&&!F)return 0;O&&se&&(C=se);let v=0;if(R)if(R===C.scheme)v=10;else{if("*"!==R)return 0;v=5}if(k)if(k===h)v=10;else{if("*"!==k)return 0;v=Math.max(v,5)}if(O)if(O===d)v=10;else{if("*"!==O||void 0===d)return 0;v=Math.max(v,5)}if(m){let A;if(A="string"==typeof m?m:{...m,base:(0,p.S8)(m.base)},A!==C.fsPath&&!(0,E.YW)(A,C.fsPath))return 0;v=10}return v}return 0}function l(y){return"string"!=typeof y&&(Array.isArray(y)?y.every(l):!!y.exclusive)}class I{constructor(C,h,he,se,d){this.uri=C,this.languageId=h,this.notebookUri=he,this.notebookType=se,this.recursive=d}equals(C){return this.notebookType===C.notebookType&&this.languageId===C.languageId&&this.uri.toString()===C.uri.toString()&&this.notebookUri?.toString()===C.notebookUri?.toString()&&this.recursive===C.recursive}}class D{constructor(C){this._notebookInfoResolver=C,this._clock=0,this._entries=[],this._onDidChange=new N.vl,this.onDidChange=this._onDidChange.event}register(C,h){let he={selector:C,provider:h,_score:-1,_time:this._clock++};return this._entries.push(he),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,$.s)(()=>{if(he){const se=this._entries.indexOf(he);se>=0&&(this._entries.splice(se,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),he=void 0)}})}has(C){return this.all(C).length>0}all(C){if(!C)return[];this._updateScores(C,!1);const h=[];for(const he of this._entries)he._score>0&&h.push(he.provider);return h}ordered(C,h=!1){const he=[];return this._orderedForEach(C,h,se=>he.push(se.provider)),he}orderedGroups(C){const h=[];let he,se;return this._orderedForEach(C,!1,d=>{he&&se===d._score?he.push(d.provider):(se=d._score,he=[d.provider],h.push(he))}),h}_orderedForEach(C,h,he){this._updateScores(C,h);for(const se of this._entries)se._score>0&&he(se)}_updateScores(C,h){const he=this._notebookInfoResolver?.(C.uri),se=he?new I(C.uri,C.getLanguageId(),he.uri,he.type,h):new I(C.uri,C.getLanguageId(),void 0,void 0,h);if(!this._lastCandidate?.equals(se)){this._lastCandidate=se;for(const d of this._entries)if(d._score=P(d.selector,se.uri,se.languageId,(0,s.vd)(C),se.notebookUri,se.notebookType),l(d.selector)&&d._score>0){if(!h){for(const k of this._entries)k._score=0;d._score=1e3;break}d._score=0}this._entries.sort(D._compareByScoreAndTime)}}static _compareByScoreAndTime(C,h){return C._score<h._score?1:C._score>h._score?-1:Z(C.selector)&&!Z(h.selector)?1:!Z(C.selector)&&Z(h.selector)?-1:C._time<h._time?1:C._time>h._time?-1:0}}function Z(y){return"string"!=typeof y&&(Array.isArray(y)?y.some(Z):!!y.isBuiltin)}var H=x(5307),L=x(2534);class _{constructor(){this.referenceProvider=new D(this._score.bind(this)),this.renameProvider=new D(this._score.bind(this)),this.newSymbolNamesProvider=new D(this._score.bind(this)),this.codeActionProvider=new D(this._score.bind(this)),this.definitionProvider=new D(this._score.bind(this)),this.typeDefinitionProvider=new D(this._score.bind(this)),this.declarationProvider=new D(this._score.bind(this)),this.implementationProvider=new D(this._score.bind(this)),this.documentSymbolProvider=new D(this._score.bind(this)),this.inlayHintsProvider=new D(this._score.bind(this)),this.colorProvider=new D(this._score.bind(this)),this.codeLensProvider=new D(this._score.bind(this)),this.documentFormattingEditProvider=new D(this._score.bind(this)),this.documentRangeFormattingEditProvider=new D(this._score.bind(this)),this.onTypeFormattingEditProvider=new D(this._score.bind(this)),this.signatureHelpProvider=new D(this._score.bind(this)),this.hoverProvider=new D(this._score.bind(this)),this.documentHighlightProvider=new D(this._score.bind(this)),this.multiDocumentHighlightProvider=new D(this._score.bind(this)),this.selectionRangeProvider=new D(this._score.bind(this)),this.foldingRangeProvider=new D(this._score.bind(this)),this.linkProvider=new D(this._score.bind(this)),this.inlineCompletionsProvider=new D(this._score.bind(this)),this.inlineEditProvider=new D(this._score.bind(this)),this.completionProvider=new D(this._score.bind(this)),this.linkedEditingRangeProvider=new D(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new D(this._score.bind(this)),this.documentSemanticTokensProvider=new D(this._score.bind(this)),this.documentDropEditProvider=new D(this._score.bind(this)),this.documentPasteEditProvider=new D(this._score.bind(this))}_score(C){return this._notebookTypeResolver?.(C)}}(0,L.v)(H.ILanguageFeaturesService,_,1)},518:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{LanguageService:()=>_n});var N=x(5643),$=x(4061),s=x(3908),E=x(833),p=x(1489),P=x(7864);const l=(me,Q)=>me===Q;class _{constructor(Q,ae,De){this.owner=Q,this.debugNameSource=ae,this.referenceFn=De}getDebugName(Q){return function h(me,Q){const ae=C.get(me);if(ae)return ae;const De=function he(me,Q){const ae=C.get(me);if(ae)return ae;const De=Q.owner?function m(me){const Q=k.get(me);if(Q)return Q;const ae=function R(me){const Q=me.constructor;return Q?Q.name:"Object"}(me);let De=d.get(ae)??0;De++,d.set(ae,De);const Ue=1===De?ae:`${ae}#${De}`;return k.set(me,Ue),Ue}(Q.owner)+".":"";let Ue;const Ke=Q.debugNameSource;if(void 0!==Ke){if("function"!=typeof Ke)return De+Ke;if(Ue=Ke(),void 0!==Ue)return De+Ue}const ht=Q.referenceFn;if(void 0!==ht&&(Ue=F(ht),void 0!==Ue))return De+Ue;if(void 0!==Q.owner){const Ct=function se(me,Q){for(const ae in me)if(me[ae]===Q)return ae}(Q.owner,me);if(void 0!==Ct)return De+Ct}}(me,Q);if(De){let Ue=y.get(De)??0;Ue++,y.set(De,Ue);const Ke=1===Ue?De:`${De}#${Ue}`;return C.set(me,Ke),Ke}}(Q,this)}}const y=new Map,C=new WeakMap,d=new Map,k=new WeakMap;function F(me){const Q=me.toString(),De=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(Q);return(De?De[1]:void 0)?.trim()}let T,J,de;class Se{get TChange(){return null}reportChanges(){this.get()}read(Q){return Q?Q.readObservable(this):this.get()}map(Q,ae){const De=void 0===ae?void 0:Q,Ue=void 0===ae?Q:ae;return de({owner:De,debugName:()=>{const Ke=F(Ue);if(void 0!==Ke)return Ke;const Ct=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(Ue.toString());return Ct?`${this.debugName}.${Ct[2]}`:De?void 0:`${this.debugName} (mapped)`},debugReferenceFn:Ue},Ke=>Ue(this.read(Ke),Ke))}flatten(){return de({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},Q=>this.read(Q).read(Q))}recomputeInitiallyAndOnChange(Q,ae){return Q.add(T(this,ae)),this}keepObserved(Q){return Q.add(J(this)),this}}class xe extends Se{constructor(){super(...arguments),this.observers=new Set}addObserver(Q){const ae=this.observers.size;this.observers.add(Q),0===ae&&this.onFirstObserverAdded()}removeObserver(Q){this.observers.delete(Q)&&0===this.observers.size&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}class bt{constructor(Q,ae){this._fn=Q,this._getDebugName=ae,this.updatingObservers=[]}getDebugName(){return this._getDebugName?this._getDebugName():F(this._fn)}updateObserver(Q,ae){this.updatingObservers.push({observer:Q,observable:ae}),Q.beginUpdate(ae)}finish(){const Q=this.updatingObservers;for(let ae=0;ae<Q.length;ae++){const{observer:De,observable:Ue}=Q[ae];De.endUpdate(Ue)}this.updatingObservers=null}}var me,Yt=x(3929);!function _e(me){de=me}(function Oe(me,Q){return new Ee(new _(me.owner,me.debugName,me.debugReferenceFn),Q,void 0,void 0,me.onLastObserverRemoved,me.equalsFn??l)});class Ee extends xe{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(Q,ae,De,Ue,Ke=void 0,ht){super(),this._debugNameData=Q,this._computeFn=ae,this.createChangeSummary=De,this._handleChange=Ue,this._handleLastObserverRemoved=Ke,this._equalityComparator=ht,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=this.createChangeSummary?.()}onLastObserverRemoved(){this.state=0,this.value=void 0;for(const Q of this.dependencies)Q.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(0===this.observers.size){const Q=this._computeFn(this,this.createChangeSummary?.());return this.onLastObserverRemoved(),Q}do{if(1===this.state)for(const Q of this.dependencies)if(Q.reportChanges(),2===this.state)break;1===this.state&&(this.state=3),this._recomputeIfNeeded()}while(3!==this.state);return this.value}_recomputeIfNeeded(){if(3===this.state)return;const Q=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=Q;const ae=0!==this.state,De=this.value;this.state=3;const Ue=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this.value=this._computeFn(this,Ue)}finally{for(const ht of this.dependenciesToBeRemoved)ht.removeObserver(this);this.dependenciesToBeRemoved.clear()}const Ke=ae&&!this._equalityComparator(De,this.value);if(Ke)for(const ht of this.observers)ht.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(Q){this.updateCount++;const ae=1===this.updateCount;if(3===this.state&&(this.state=1,!ae))for(const De of this.observers)De.handlePossibleChange(this);if(ae)for(const De of this.observers)De.beginUpdate(this)}endUpdate(Q){if(this.updateCount--,0===this.updateCount){const ae=[...this.observers];for(const De of ae)De.endUpdate(this)}(0,Yt.Ft)(()=>this.updateCount>=0)}handlePossibleChange(Q){if(3===this.state&&this.dependencies.has(Q)&&!this.dependenciesToBeRemoved.has(Q)){this.state=1;for(const ae of this.observers)ae.handlePossibleChange(this)}}handleChange(Q,ae){if(this.dependencies.has(Q)&&!this.dependenciesToBeRemoved.has(Q)){const De=!this._handleChange||this._handleChange({changedObservable:Q,change:ae,didChange:Ke=>Ke===Q},this.changeSummary),Ue=3===this.state;if(De&&(1===this.state||Ue)&&(this.state=2,Ue))for(const Ke of this.observers)Ke.handlePossibleChange(this)}}readObservable(Q){Q.addObserver(this);const ae=Q.get();return this.dependencies.add(Q),this.dependenciesToBeRemoved.delete(Q),ae}addObserver(Q){const ae=!this.observers.has(Q)&&this.updateCount>0;super.addObserver(Q),ae&&Q.beginUpdate(this)}removeObserver(Q){const ae=this.observers.has(Q)&&this.updateCount>0;super.removeObserver(Q),ae&&Q.endUpdate(this)}}function Ce(me){return new ct(new _(void 0,void 0,me),me,void 0,void 0)}class ct{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(Q,ae,De,Ue){this._debugNameData=Q,this._runFn=ae,this.createChangeSummary=De,this._handleChange=Ue,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=this.createChangeSummary?.(),this._runIfNeeded(),(0,$.Ay)(this)}dispose(){this.disposed=!0;for(const Q of this.dependencies)Q.removeObserver(this);this.dependencies.clear(),(0,$.VD)(this)}_runIfNeeded(){if(3===this.state)return;const Q=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=Q,this.state=3;const ae=this.disposed;try{if(!ae){const De=this.changeSummary;this.changeSummary=this.createChangeSummary?.(),this._runFn(this,De)}}finally{for(const De of this.dependenciesToBeRemoved)De.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){3===this.state&&(this.state=1),this.updateCount++}endUpdate(){if(1===this.updateCount)do{if(1===this.state){this.state=3;for(const Q of this.dependencies)if(Q.reportChanges(),2===this.state)break}this._runIfNeeded()}while(3!==this.state);this.updateCount--,(0,Yt.Ft)(()=>this.updateCount>=0)}handlePossibleChange(Q){3===this.state&&this.dependencies.has(Q)&&!this.dependenciesToBeRemoved.has(Q)&&(this.state=1)}handleChange(Q,ae){this.dependencies.has(Q)&&!this.dependenciesToBeRemoved.has(Q)&&(!this._handleChange||this._handleChange({changedObservable:Q,change:ae,didChange:Ue=>Ue===Q},this.changeSummary))&&(this.state=2)}readObservable(Q){if(this.disposed)return Q.get();Q.addObserver(this);const ae=Q.get();return this.dependencies.add(Q),this.dependenciesToBeRemoved.delete(Q),ae}}function Ot(...me){let Q,ae,De;return 3===me.length?[Q,ae,De]=me:[ae,De]=me,new kt(new _(Q,void 0,De),ae,De,()=>kt.globalTransaction,l)}(Ce||(Ce={})).Observer=ct;class kt extends xe{constructor(Q,ae,De,Ue,Ke){super(),this._debugNameData=Q,this.event=ae,this._getValue=De,this._getTransaction=Ue,this._equalityComparator=Ke,this.hasValue=!1,this.handleEvent=ht=>{const Ct=this._getValue(ht),sn=this.value,Et=!this.hasValue||!this._equalityComparator(sn,Ct);let tn=!1;Et&&(this.value=Ct,this.hasValue&&(tn=!0,function Je(me,Q,ae){me?Q(me):function ze(me,Q){const ae=new bt(me,Q);try{me(ae)}finally{ae.finish()}}(Q,ae)}(this._getTransaction(),an=>{for(const dn of this.observers)an.updateObserver(dn,this),dn.handleChange(this,void 0)},()=>{const an=this.getDebugName();return"Event fired"+(an?`: ${an}`:"")})),this.hasValue=!0)}}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){const Q=this.getDebugName();return"From Event"+(Q?`: ${Q}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}(me=Ot||(Ot={})).Observer=kt,me.batchEventsGlobally=function Q(ae,De){let Ue=!1;void 0===kt.globalTransaction&&(kt.globalTransaction=ae,Ue=!0);try{De()}finally{Ue&&(kt.globalTransaction=void 0)}},function re(me){J=me}(function cn(me){const Q=new en(!1,void 0);return me.addObserver(Q),(0,$.s)(()=>{me.removeObserver(Q)})}),function V(me){T=me}(function Zt(me,Q){const ae=new en(!0,Q);return me.addObserver(ae),Q?Q(me.get()):me.reportChanges(),(0,$.s)(()=>{me.removeObserver(ae)})});class en{constructor(Q,ae){this._forceRecompute=Q,this._handleValue=ae,this._counter=0}beginUpdate(Q){this._counter++}endUpdate(Q){this._counter--,0===this._counter&&this._forceRecompute&&(this._handleValue?this._handleValue(Q.get()):Q.reportChanges())}handlePossibleChange(Q){}handleChange(Q,ae){}}x(5680);let _n=(()=>{class me extends $.jG{static{this.instanceCount=0}constructor(ae=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new N.vl),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new N.vl),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new N.vl({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,me.instanceCount++,this._registry=this._register(new s.LanguagesRegistry(!0,ae)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){me.instanceCount--,super.dispose()}isRegisteredLanguageId(ae){return this._registry.isRegisteredLanguageId(ae)}getLanguageIdByLanguageName(ae){return this._registry.getLanguageIdByLanguageName(ae)}getLanguageIdByMimeType(ae){return this._registry.getLanguageIdByMimeType(ae)}guessLanguageIdByFilepathOrFirstLine(ae,De){const Ue=this._registry.guessLanguageIdByFilepathOrFirstLine(ae,De);return(0,E.Fy)(Ue,null)}createById(ae){return new mn(this.onDidChange,()=>this._createAndGetLanguageIdentifier(ae))}createByFilepathOrFirstLine(ae,De){return new mn(this.onDidChange,()=>{const Ue=this.guessLanguageIdByFilepathOrFirstLine(ae,De);return this._createAndGetLanguageIdentifier(Ue)})}_createAndGetLanguageIdentifier(ae){return(!ae||!this.isRegisteredLanguageId(ae))&&(ae=P.vH),ae}requestBasicLanguageFeatures(ae){this._requestedBasicLanguages.has(ae)||(this._requestedBasicLanguages.add(ae),this._onDidRequestBasicLanguageFeatures.fire(ae))}requestRichLanguageFeatures(ae){this._requestedRichLanguages.has(ae)||(this._requestedRichLanguages.add(ae),this.requestBasicLanguageFeatures(ae),p.dG.getOrCreate(ae),this._onDidRequestRichLanguageFeatures.fire(ae))}}return me})();class mn{constructor(Q,ae){this._value=Ot(this,Q,()=>ae()),this.onDidChange=N.Jh.fromObservable(this._value)}get languageId(){return this._value.get()}}},7059:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{clearPlatformLanguageAssociations:()=>y,getLanguageIds:()=>C,registerPlatformLanguageAssociation:()=>H});var N=x(7441),$=x(2323),s=x(5109),E=x(1824),p=x(6698),P=x(6653),l=x(7864);let I=[],D=[],Z=[];function H(d,k=!1){!function L(d,k,m){const R=function _(d,k){return{id:d.id,mime:d.mime,filename:d.filename,extension:d.extension,filepattern:d.filepattern,firstline:d.firstline,userConfigured:k,filenameLowercase:d.filename?d.filename.toLowerCase():void 0,extensionLowercase:d.extension?d.extension.toLowerCase():void 0,filepatternLowercase:d.filepattern?(0,N.qg)(d.filepattern.toLowerCase()):void 0,filepatternOnPath:!!d.filepattern&&d.filepattern.indexOf(E.SA.sep)>=0}}(d,k);I.push(R),R.userConfigured?Z.push(R):D.push(R),m&&!R.userConfigured&&I.forEach(F=>{F.mime===R.mime||F.userConfigured||(R.extension&&F.extension===R.extension&&console.warn(`Overwriting extension <<${R.extension}>> to now point to mime <<${R.mime}>>`),R.filename&&F.filename===R.filename&&console.warn(`Overwriting filename <<${R.filename}>> to now point to mime <<${R.mime}>>`),R.filepattern&&F.filepattern===R.filepattern&&console.warn(`Overwriting filepattern <<${R.filepattern}>> to now point to mime <<${R.mime}>>`),R.firstline&&F.firstline===R.firstline&&console.warn(`Overwriting firstline <<${R.firstline}>> to now point to mime <<${R.mime}>>`))})}(d,!1,k)}function y(){I=I.filter(d=>d.userConfigured),D=[]}function C(d,k){return function h(d,k){let m;if(d)switch(d.scheme){case s.ny.file:m=d.fsPath;break;case s.ny.data:m=p.B6.parseMetaData(d).get(p.B6.META_DATA_LABEL);break;case s.ny.vscodeNotebookCell:m=void 0;break;default:m=d.path}if(!m)return[{id:"unknown",mime:$.K.unknown}];m=m.toLowerCase();const R=(0,E.P8)(m),F=he(m,R,Z);if(F)return[F,{id:l.vH,mime:$.K.text}];const O=he(m,R,D);if(O)return[O,{id:l.vH,mime:$.K.text}];if(k){const v=function se(d){if((0,P.LU)(d)&&(d=d.substr(1)),d.length>0)for(let k=I.length-1;k>=0;k--){const m=I[k];if(!m.firstline)continue;const R=d.match(m.firstline);if(R&&R.length>0)return m}}(k);if(v)return[v,{id:l.vH,mime:$.K.text}]}return[{id:"unknown",mime:$.K.unknown}]}(d,k).map(m=>m.id)}function he(d,k,m){let R,F,O;for(let v=m.length-1;v>=0;v--){const A=m[v];if(k===A.filenameLowercase){R=A;break}if(A.filepattern&&(!F||A.filepattern.length>F.filepattern.length)){const W=A.filepatternOnPath?d:k;A.filepatternLowercase?.(W)&&(F=A)}A.extension&&(!O||A.extension.length>O.extension.length)&&k.endsWith(A.extensionLowercase)&&(O=A)}return R||F||O||void 0}},3908:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{LanguageIdCodec:()=>Z,LanguagesRegistry:()=>H});var N=x(5643),$=x(4061),s=x(6653),E=x(7059),p=x(7864),P=x(987),l=x(7018);const I=Object.prototype.hasOwnProperty,D="vs.editor.nullLanguage";class Z{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(D,0),this._register(p.vH,1),this._nextLanguageId=2}_register(_,y){this._languageIdToLanguage[y]=_,this._languageToLanguageId.set(_,y)}register(_){if(this._languageToLanguageId.has(_))return;const y=this._nextLanguageId++;this._register(_,y)}encodeLanguageId(_){return this._languageToLanguageId.get(_)||0}decodeLanguageId(_){return this._languageIdToLanguage[_]||D}}let H=(()=>{class L extends $.jG{static{this.instanceCount=0}constructor(y=!0,C=!1){super(),this._onDidChange=this._register(new N.vl),this.onDidChange=this._onDidChange.event,L.instanceCount++,this._warnOnOverwrite=C,this.languageIdCodec=new Z,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},y&&(this._initializeFromRegistry(),this._register(p.W6.onDidChangeLanguages(h=>{this._initializeFromRegistry()})))}dispose(){L.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,E.clearPlatformLanguageAssociations)();const y=[].concat(p.W6.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(y)}_registerLanguages(y){for(const C of y)this._registerLanguage(C);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(C=>{const h=this._languages[C];h.name&&(this._nameMap[h.name]=h.identifier),h.aliases.forEach(he=>{this._lowercaseNameMap[he.toLowerCase()]=h.identifier}),h.mimetypes.forEach(he=>{this._mimeTypesMap[he]=h.identifier})}),l.O.as(P.Fd.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(y){const C=y.id;let h;I.call(this._languages,C)?h=this._languages[C]:(this.languageIdCodec.register(C),h={identifier:C,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[C]=h),this._mergeLanguage(h,y)}_mergeLanguage(y,C){const h=C.id;let he=null;if(Array.isArray(C.mimetypes)&&C.mimetypes.length>0&&(y.mimetypes.push(...C.mimetypes),he=C.mimetypes[0]),he||(he=`text/x-${h}`,y.mimetypes.push(he)),Array.isArray(C.extensions)){y.extensions=C.configuration?C.extensions.concat(y.extensions):y.extensions.concat(C.extensions);for(const k of C.extensions)(0,E.registerPlatformLanguageAssociation)({id:h,mime:he,extension:k},this._warnOnOverwrite)}if(Array.isArray(C.filenames))for(const k of C.filenames)(0,E.registerPlatformLanguageAssociation)({id:h,mime:he,filename:k},this._warnOnOverwrite),y.filenames.push(k);if(Array.isArray(C.filenamePatterns))for(const k of C.filenamePatterns)(0,E.registerPlatformLanguageAssociation)({id:h,mime:he,filepattern:k},this._warnOnOverwrite);if("string"==typeof C.firstLine&&C.firstLine.length>0){let k=C.firstLine;"^"!==k.charAt(0)&&(k="^"+k);try{const m=new RegExp(k);(0,s.eY)(m)||(0,E.registerPlatformLanguageAssociation)({id:h,mime:he,firstline:m},this._warnOnOverwrite)}catch(m){console.warn(`[${C.id}]: Invalid regular expression \`${k}\`: `,m)}}y.aliases.push(h);let se=null;if(typeof C.aliases<"u"&&Array.isArray(C.aliases)&&(se=0===C.aliases.length?[null]:C.aliases),null!==se)for(const k of se)!k||0===k.length||y.aliases.push(k);const d=null!==se&&se.length>0;d&&null===se[0]||(d||!y.name)&&(y.name=(d?se[0]:null)||h),C.configuration&&y.configurationFiles.push(C.configuration),C.icon&&y.icons.push(C.icon)}isRegisteredLanguageId(y){return!!y&&I.call(this._languages,y)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(y){const C=y.toLowerCase();return I.call(this._lowercaseNameMap,C)?this._lowercaseNameMap[C]:null}getLanguageIdByMimeType(y){return y&&I.call(this._mimeTypesMap,y)?this._mimeTypesMap[y]:null}guessLanguageIdByFilepathOrFirstLine(y,C){return y||C?(0,E.getLanguageIds)(y,C):[]}}return L})()},9313:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{IMarkerDecorationsService:()=>$});const $=(0,x(598).u1)("markerDecorationsService")},5901:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{MarkerDecorationsService:()=>F});var N=x(6653),$=function(v){return v[v.Ignore=0]="Ignore",v[v.Info=1]="Info",v[v.Warning=2]="Warning",v[v.Error=3]="Error",v}($||{});!function(v){const A="error",W="warning",M="info";v.fromValue=function ne(q){return q?N.Q_(A,q)?v.Error:N.Q_(W,q)||N.Q_("warn",q)?v.Warning:N.Q_(M,q)?v.Info:v.Ignore:v.Ignore},v.toString=function oe(q){switch(q){case v.Error:return A;case v.Warning:return W;case v.Info:return M;default:return"ignore"}}}($||($={}));const s=$;var l,E=x(1913),p=x(598),P=function(v){return v[v.Hint=1]="Hint",v[v.Info=2]="Info",v[v.Warning=4]="Warning",v[v.Error=8]="Error",v}(P||{});!function(v){v.compare=function A(ne,oe){return oe-ne};const W=Object.create(null);W[v.Error]=(0,E.kg)("sev.error","Error"),W[v.Warning]=(0,E.kg)("sev.warning","Warning"),W[v.Info]=(0,E.kg)("sev.info","Info"),v.toString=function S(ne){return W[ne]||""},v.fromSeverity=function M(ne){switch(ne){case s.Error:return v.Error;case s.Warning:return v.Warning;case s.Info:return v.Info;case s.Ignore:return v.Hint}},v.toSeverity=function G(ne){switch(ne){case v.Error:return s.Error;case v.Warning:return s.Warning;case v.Info:return s.Info;case v.Hint:return s.Ignore}}}(P||(P={})),function(v){const A="";function S(M,G){const ne=[A];return ne.push(M.source?M.source.replace("\xa6","\\\xa6"):A),ne.push(M.code?"string"==typeof M.code?M.code.replace("\xa6","\\\xa6"):M.code.value.replace("\xa6","\\\xa6"):A),ne.push(null!=M.severity?P.toString(M.severity):A),ne.push(M.message&&G?M.message.replace("\xa6","\\\xa6"):A),ne.push(null!=M.startLineNumber?M.startLineNumber.toString():A),ne.push(null!=M.startColumn?M.startColumn.toString():A),ne.push(null!=M.endLineNumber?M.endLineNumber.toString():A),ne.push(null!=M.endColumn?M.endColumn.toString():A),ne.push(A),ne.join("\xa6")}v.makeKey=function W(M){return S(M,!0)},v.makeKeyOptionalMessage=S}(l||(l={}));const I=(0,p.u1)("markerService");var D=x(4061),Z=x(3782),H=x(7464),L=x(976),_=x(1925),y=x(3678),C=x(5109),h=x(5643),he=x(5478),se=x(53),R=function(v,A){return function(W,S){A(W,S,v)}};let F=class extends D.jG{constructor(A,W){super(),this._markerService=W,this._onDidChangeMarker=this._register(new h.vl),this._markerDecorations=new se.fT,A.getModels().forEach(S=>this._onModelAdded(S)),this._register(A.onModelAdded(this._onModelAdded,this)),this._register(A.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(A=>A.dispose()),this._markerDecorations.clear()}getMarker(A,W){const S=this._markerDecorations.get(A);return S&&S.getMarker(W)||null}_handleMarkerChange(A){A.forEach(W=>{const S=this._markerDecorations.get(W);S&&this._updateDecorations(S)})}_onModelAdded(A){const W=new O(A);this._markerDecorations.set(A.uri,W),this._updateDecorations(W)}_onModelRemoved(A){const W=this._markerDecorations.get(A.uri);W&&(W.dispose(),this._markerDecorations.delete(A.uri)),(A.uri.scheme===C.ny.inMemory||A.uri.scheme===C.ny.internal||A.uri.scheme===C.ny.vscode)&&this._markerService?.read({resource:A.uri}).map(S=>S.owner).forEach(S=>this._markerService.remove(S,[A.uri]))}_updateDecorations(A){const W=this._markerService.read({resource:A.model.uri,take:500});A.update(W)&&this._onDidChangeMarker.fire(A.model)}};F=function(v,A,W,S){var ne,M=arguments.length,G=M<3?A:null===S?S=Object.getOwnPropertyDescriptor(A,W):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)G=Reflect.decorate(v,A,W,S);else for(var oe=v.length-1;oe>=0;oe--)(ne=v[oe])&&(G=(M<3?ne(G):M>3?ne(A,W,G):ne(A,W))||G);return M>3&&G&&Object.defineProperty(A,W,G),G}([R(0,_.IModelService),R(1,I)],F);class O extends D.jG{constructor(A){super(),this.model=A,this._map=new se.cO,this._register((0,D.s)(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(A){const{added:W,removed:S}=function d(v,A){const W=[],S=[];for(const M of v)A.has(M)||W.push(M);for(const M of A)v.has(M)||S.push(M);return{removed:W,added:S}}(new Set(this._map.keys()),new Set(A));if(0===W.length&&0===S.length)return!1;const M=S.map(oe=>this._map.get(oe)),G=W.map(oe=>({range:this._createDecorationRange(this.model,oe),options:this._createDecorationOption(oe)})),ne=this.model.deltaDecorations(M,G);for(const oe of S)this._map.delete(oe);for(let oe=0;oe<ne.length;oe++)this._map.set(W[oe],ne[oe]);return!0}getMarker(A){return this._map.getKey(A.id)}_createDecorationRange(A,W){let S=y.Q.lift(W);if(W.severity===P.Hint&&!this._hasMarkerTag(W,1)&&!this._hasMarkerTag(W,2)&&(S=S.setEndPosition(S.startLineNumber,S.startColumn+2)),S=A.validateRange(S),S.isEmpty()){const M=A.getLineLastNonWhitespaceColumn(S.startLineNumber)||A.getLineMaxColumn(S.startLineNumber);if(1===M||S.endColumn>=M)return S;const G=A.getWordAtPosition(S.getStartPosition());G&&(S=new y.Q(S.startLineNumber,G.startColumn,S.endLineNumber,G.endColumn))}else if(W.endColumn===Number.MAX_VALUE&&1===W.startColumn&&S.startLineNumber===S.endLineNumber){const M=A.getLineFirstNonWhitespaceColumn(W.startLineNumber);M<S.endColumn&&(S=new y.Q(S.startLineNumber,M,S.endLineNumber,S.endColumn),W.startColumn=M)}return S}_createDecorationOption(A){let W,S,M,G,ne;switch(A.severity){case P.Hint:W=this._hasMarkerTag(A,2)?void 0:this._hasMarkerTag(A,1)?"squiggly-unnecessary":"squiggly-hint",M=0;break;case P.Info:W="squiggly-info",S=(0,H.Yf)(L.AQ),M=10,ne={color:(0,H.Yf)(he.KoI),position:1};break;case P.Warning:W="squiggly-warning",S=(0,H.Yf)(L.aZ),M=20,ne={color:(0,H.Yf)(he.uMG),position:1};break;default:W="squiggly-error",S=(0,H.Yf)(L.yI),M=30,ne={color:(0,H.Yf)(he.yLC),position:1}}return A.tags&&(-1!==A.tags.indexOf(1)&&(G="squiggly-inline-unnecessary"),-1!==A.tags.indexOf(2)&&(G="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:W,showIfCollapsed:!0,overviewRuler:{color:S,position:Z.A5.Right},minimap:ne,zIndex:M,inlineClassName:G}}_hasMarkerTag(A,W){return!!A.tags&&A.tags.indexOf(W)>=0}}},1925:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{IModelService:()=>$});const $=(0,x(598).u1)("modelService")},9557:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{DefaultModelSHA1Computer:()=>ws,ModelService:()=>wr});var N=x(5643),$=x(4061),s=x(1828),E=x(833),p=x(4072),P=x(5680),l=x(6653),I=x(2417),D=x(5583);class Z{static _nextVisibleColumn(e,t,i){return 9===e?Z.nextRenderTabStop(t,i):l.ne(e)||l.Ss(e)?t+2:t+1}static visibleColumnFromColumn(e,t,i){const r=Math.min(t-1,e.length),o=e.substring(0,r),a=new l.km(o);let f=0;for(;!a.eol();){const w=l.Z5(o,r,a.offset);a.nextGraphemeLength(),f=this._nextVisibleColumn(w,f,i)}return f}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;const r=e.length,o=new l.km(e);let a=0,f=1;for(;!o.eol();){const w=l.Z5(e,r,o.offset);o.nextGraphemeLength();const z=this._nextVisibleColumn(w,a,i),Y=o.offset+1;if(z>=t)return z-t<t-a?Y:f;a=z,f=Y}return r+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}var _=x(3632),y=x(3678),C=x(4105);const h={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}};var he=x(385),se=x(199),d=function(u){return u[u.None=0]="None",u[u.Indent=1]="Indent",u[u.IndentOutdent=2]="IndentOutdent",u[u.Outdent=3]="Outdent",u}(d||{});class k{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++)switch(e.notIn[t]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}isOK(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(0===e.getTokenCount())return!0;const i=e.findTokenIndexAtOffset(t-2),r=e.getStandardTokenType(i);return this.isOK(r)}_findNeutralCharacterInRange(e,t){for(let i=e;i<=t;i++){const r=String.fromCharCode(i);if(!this.open.includes(r)&&!this.close.includes(r))return r}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class m{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)R(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),R(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),R(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),R(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),1===t.close.length&&1===t.open.length&&R(this.autoClosingPairsCloseSingleChar,t.close,t)}}function R(u,e,t){u.has(e)?u.get(e).push(t):u.set(e,[t])}let F=(()=>{class u{static{this.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=";:.,=}])> \n\t"}static{this.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS="'\"`;:.,=}])> \n\t"}constructor(t){if(this._autoClosingPairs=t.autoClosingPairs?t.autoClosingPairs.map(i=>new k(i)):t.brackets?t.brackets.map(i=>new k({open:i[0],close:i[1]})):[],t.__electricCharacterSupport&&t.__electricCharacterSupport.docComment){const i=t.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new k({open:i.open,close:i.close||""}))}this._autoCloseBeforeForQuotes="string"==typeof t.autoCloseBefore?t.autoCloseBefore:u.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets="string"==typeof t.autoCloseBefore?t.autoCloseBefore:u.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=t.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(t){return t?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}return u})();function A(u){return!!(3&u)}var W=x(3233);let S,G,oe;function M(){return S||(S=new TextDecoder("UTF-16LE")),S}class T{constructor(e,t,i,r,o,a){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=i,this.close=r,this.forwardRegex=o,this.reversedRegex=a,this._openSet=T._toSet(this.open),this._closeSet=T._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const i of e)t.add(i);return t}}class J{constructor(e,t){this._richEditBracketsBrand=void 0;const i=function V(u){const e=u.length;u=u.map(a=>[a[0].toLowerCase(),a[1].toLowerCase()]);const t=[];for(let a=0;a<e;a++)t[a]=a;const i=(a,f)=>{const[w,z]=a,[Y,X]=f;return w===Y||w===X||z===Y||z===X},r=(a,f)=>{const w=Math.min(a,f),z=Math.max(a,f);for(let Y=0;Y<e;Y++)t[Y]===z&&(t[Y]=w)};for(let a=0;a<e;a++){const f=u[a];for(let w=a+1;w<e;w++)i(f,u[w])&&r(t[a],t[w])}const o=[];for(let a=0;a<e;a++){const f=[],w=[];for(let z=0;z<e;z++)if(t[z]===a){const[Y,X]=u[z];f.push(Y),w.push(X)}f.length>0&&o.push({open:f,close:w})}return o}(t);this.brackets=i.map((r,o)=>new T(e,o,r.open,r.close,function Se(u,e,t,i){let r=[];r=r.concat(u),r=r.concat(e);for(let o=0,a=r.length;o<a;o++)re(r[o],t,i,r);return r=_e(r),r.sort(de),r.reverse(),We(r)}(r.open,r.close,i,o),function xe(u,e,t,i){let r=[];r=r.concat(u),r=r.concat(e);for(let o=0,a=r.length;o<a;o++)re(r[o],t,i,r);return r=_e(r),r.sort(de),r.reverse(),We(r.map(Ge))}(r.open,r.close,i,o))),this.forwardRegex=function ze(u){let e=[];for(const t of u){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=_e(e),We(e)}(this.brackets),this.reversedRegex=function Be(u){let e=[];for(const t of u){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=_e(e),We(e.map(Ge))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const r of this.brackets){for(const o of r.open)this.textIsBracket[o]=r,this.textIsOpenBracket[o]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,o.length);for(const o of r.close)this.textIsBracket[o]=r,this.textIsOpenBracket[o]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,o.length)}}}function re(u,e,t,i){for(let r=0,o=e.length;r<o;r++){if(r===t)continue;const a=e[r];for(const f of a.open)f.indexOf(u)>=0&&i.push(f);for(const f of a.close)f.indexOf(u)>=0&&i.push(f)}}function de(u,e){return u.length-e.length}function _e(u){if(u.length<=1)return u;const e=[],t=new Set;for(const i of u)t.has(i)||(e.push(i),t.add(i));return e}function $e(u){const e=/^[\w ]+$/.test(u);return u=l.bm(u),e?`\\b${u}\\b`:u}function We(u,e){const t=`(${u.map($e).join(")|(")})`;return l.OS(t,!0,e)}const Ge=function(){let e=null,t=null;return function(r){return e!==r&&(e=r,t=function u(i){const r=new Uint16Array(i.length);let o=0;for(let a=i.length-1;a>=0;a--)r[o++]=i.charCodeAt(a);return function q(){return oe||(oe=s.cm()?M():function ne(){return G||(G=new TextDecoder("UTF-16BE")),G}()),oe}().decode(r)}(e)),t}}();class Je{static _findPrevBracketInText(e,t,i,r){const o=i.match(e);if(!o)return null;const w=r+(i.length-(o.index||0));return new y.Q(t,w-o[0].length+1,t,w+1)}static findPrevBracketInRange(e,t,i,r,o){const f=Ge(i).substring(i.length-o,i.length-r);return this._findPrevBracketInText(e,t,f,r)}static findNextBracketInText(e,t,i,r){const o=i.match(e);if(!o)return null;const f=o[0].length;if(0===f)return null;const w=r+(o.index||0);return new y.Q(t,w+1,t,w+1+f)}static findNextBracketInRange(e,t,i,r,o){const a=i.substring(r,o);return this.findNextBracketInText(e,t,a,r)}}class bt{constructor(e){this._richEditBrackets=e}getElectricCharacters(){const e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const i of t.close){const r=i.charAt(i.length-1);e.push(r)}return(0,E.dM)(e)}onElectricCharacter(e,t,i){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const r=t.findTokenIndexAtOffset(i-1);if(A(t.getStandardTokenType(r)))return null;const o=this._richEditBrackets.reversedRegex,a=t.getLineContent().substring(0,i-1)+e,f=Je.findPrevBracketInRange(o,1,a,0,a.length);if(!f)return null;const w=a.substring(f.startColumn-1,f.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[w])return null;const Y=t.getActualLineContentBefore(f.startColumn-1);return/^\s*$/.test(Y)?{matchOpenBracket:w}:null}}function At(u){return u.global&&(u.lastIndex=0),!0}class _t{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&At(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&At(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&At(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&At(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}class Bt{constructor(e){(e=e||{}).brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(t=>{const i=Bt._createOpenBracketRegExp(t[0]),r=Bt._createCloseBracketRegExp(t[1]);i&&r&&this._brackets.push({open:t[0],openRegExp:i,close:t[1],closeRegExp:r})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,r){if(e>=3)for(let o=0,a=this._regExpRules.length;o<a;o++){const f=this._regExpRules[o];if([{reg:f.beforeText,text:i},{reg:f.afterText,text:r},{reg:f.previousLineText,text:t}].every(z=>!z.reg||(z.reg.lastIndex=0,z.reg.test(z.text))))return f.action}if(e>=2&&i.length>0&&r.length>0)for(let o=0,a=this._brackets.length;o<a;o++){const f=this._brackets[o];if(f.openRegExp.test(i)&&f.closeRegExp.test(r))return{indentAction:d.IndentOutdent}}if(e>=2&&i.length>0)for(let o=0,a=this._brackets.length;o<a;o++)if(this._brackets[o].openRegExp.test(i))return{indentAction:d.Indent};return null}static _createOpenBracketRegExp(e){let t=l.bm(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",Bt._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=l.bm(e);return/\B/.test(t.charAt(t.length-1))||(t+="\\b"),t="^\\s*"+t,Bt._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return(0,P.dz)(t),null}}}var jt=x(598),Yt=x(5072),zt=x(2534),Qe=x(7864),Oe=x(9969);class Ne{constructor(e,t){this.languageId=e;const i=t.brackets?b(t.brackets):[],r=new Oe.VV(f=>{const w=new Set;return{info:new Ee(this,f,w),closing:w}}),o=new Oe.VV(f=>{const w=new Set,z=new Set;return{info:new U(this,f,w,z),opening:w,openingColorized:z}});for(const[f,w]of i){const z=r.get(f),Y=o.get(w);z.closing.add(Y.info),Y.opening.add(z.info)}const a=t.colorizedBracketPairs?b(t.colorizedBracketPairs):i.filter(f=>!("<"===f[0]&&">"===f[1]));for(const[f,w]of a){const z=r.get(f),Y=o.get(w);z.closing.add(Y.info),Y.openingColorized.add(z.info),Y.opening.add(z.info)}this._openingBrackets=new Map([...r.cachedValues].map(([f,w])=>[f,w.info])),this._closingBrackets=new Map([...o.cachedValues].map(([f,w])=>[f,w.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(e){return this._openingBrackets.get(e)}getClosingBracketInfo(e){return this._closingBrackets.get(e)}getBracketInfo(e){return this.getOpeningBracketInfo(e)||this.getClosingBracketInfo(e)}getBracketRegExp(e){return We(Array.from([...this._openingBrackets.keys(),...this._closingBrackets.keys()]),e)}}function b(u){return u.filter(([e,t])=>""!==e&&""!==t)}class te{constructor(e,t){this.config=e,this.bracketText=t}get languageId(){return this.config.languageId}}class Ee extends te{constructor(e,t,i){super(e,t),this.openedBrackets=i,this.isOpeningBracket=!0}}class U extends te{constructor(e,t,i,r){super(e,t),this.openingBrackets=i,this.openingColorizedBrackets=r,this.isOpeningBracket=!1}closes(e){return e.config===this.config&&this.openingBrackets.has(e)}closesColorized(e){return e.config===this.config&&this.openingColorizedBrackets.has(e)}getOpeningBrackets(){return[...this.openingBrackets]}}var we=function(u,e){return function(t,i){e(t,i,u)}};class Fe{constructor(e){this.languageId=e}affects(e){return!this.languageId||this.languageId===e}}const qe=(0,jt.u1)("languageConfigurationService");let n=class extends $.jG{constructor(e,t){super(),this.configurationService=e,this.languageService=t,this._registry=this._register(new En),this.onDidChangeEmitter=this._register(new N.vl),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const i=new Set(Object.values(gt));this._register(this.configurationService.onDidChangeConfiguration(r=>{const o=r.change.keys.some(f=>i.has(f)),a=r.change.overrides.filter(([f,w])=>w.some(z=>i.has(z))).map(([f])=>f);if(o)this.configurations.clear(),this.onDidChangeEmitter.fire(new Fe(void 0));else for(const f of a)this.languageService.isRegisteredLanguageId(f)&&(this.configurations.delete(f),this.onDidChangeEmitter.fire(new Fe(f)))})),this._register(this._registry.onDidChange(r=>{this.configurations.delete(r.languageId),this.onDidChangeEmitter.fire(new Fe(r.languageId))}))}register(e,t,i){return this._registry.register(e,t,i)}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=function ct(u,e,t,i){let r=e.getLanguageConfiguration(u);if(!r){if(!i.isRegisteredLanguageId(u))return new cn(u,{});r=new cn(u,{})}const o=function Lt(u,e){const t=e.getValue(gt.brackets,{overrideIdentifier:u}),i=e.getValue(gt.colorizedBracketPairs,{overrideIdentifier:u});return{brackets:Ot(t),colorizedBracketPairs:Ot(i)}}(r.languageId,t),a=vt([r.underlyingConfig,o]);return new cn(r.languageId,a)}(e,this._registry,this.configurationService,this.languageService),this.configurations.set(e,t)),t}};n=function(u,e,t,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(u,e,t,i);else for(var f=u.length-1;f>=0;f--)(a=u[f])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o}([we(0,Yt.pG),we(1,he.L)],n);const gt={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function Ot(u){if(Array.isArray(u))return u.map(e=>{if(Array.isArray(e)&&2===e.length)return[e[0],e[1]]}).filter(e=>!!e)}class kt{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const i=new Nt(e,t,++this._order);return this._entries.push(i),this._resolved=null,(0,$.s)(()=>{for(let r=0;r<this._entries.length;r++)if(this._entries[r]===i){this._entries.splice(r,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new cn(this.languageId,e))}return this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort(Nt.cmp),vt(this._entries.map(e=>e.configuration)))}}function vt(u){let e={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const t of u)e={comments:t.comments||e.comments,brackets:t.brackets||e.brackets,wordPattern:t.wordPattern||e.wordPattern,indentationRules:t.indentationRules||e.indentationRules,onEnterRules:t.onEnterRules||e.onEnterRules,autoClosingPairs:t.autoClosingPairs||e.autoClosingPairs,surroundingPairs:t.surroundingPairs||e.surroundingPairs,autoCloseBefore:t.autoCloseBefore||e.autoCloseBefore,folding:t.folding||e.folding,colorizedBracketPairs:t.colorizedBracketPairs||e.colorizedBracketPairs,__electricCharacterSupport:t.__electricCharacterSupport||e.__electricCharacterSupport};return e}class Nt{constructor(e,t,i){this.configuration=e,this.priority=t,this.order=i}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class Xt{constructor(e){this.languageId=e}}class En extends $.jG{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new N.vl),this.onDidChange=this._onDidChange.event,this._register(this.register(Qe.vH,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(e,t,i=0){let r=this._entries.get(e);r||(r=new kt(e),this._entries.set(e,r));const o=r.register(t,i);return this._onDidChange.fire(new Xt(e)),(0,$.s)(()=>{o.dispose(),this._onDidChange.fire(new Xt(e))})}getLanguageConfiguration(e){return this._entries.get(e)?.getResolvedConfiguration()||null}}class cn{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new Bt(this.underlyingConfig):null,this.comments=cn._handleComments(this.underlyingConfig),this.characterPair=new F(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||se.Ld,this.indentationRules=this.underlyingConfig.indentationRules,this.indentRulesSupport=this.underlyingConfig.indentationRules?new _t(this.underlyingConfig.indentationRules):null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new Ne(e,this.underlyingConfig)}getWordDefinition(){return(0,se.Io)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new J(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new bt(this.brackets)),this._electricCharacter}onEnter(e,t,i,r){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,r):null}getAutoClosingPairs(){return new m(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(e){return this.characterPair.getAutoCloseBeforeSet(e)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(e){const t=e.comments;if(!t)return null;const i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){const[r,o]=t.blockComment;i.blockCommentStartToken=r,i.blockCommentEndToken=o}return i}}(0,zt.v)(qe,n,1);var Zt=x(3782);class en{constructor(e,t,i,r){this.range=e,this.nestingLevel=t,this.nestingLevelOfEqualBracketType=i,this.isInvalid=r}}class Jn{constructor(e,t,i,r,o,a){this.range=e,this.openingBracketRange=t,this.closingBracketRange=i,this.nestingLevel=r,this.nestingLevelOfEqualBracketType=o,this.bracketPairNode=a}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class _i extends Jn{constructor(e,t,i,r,o,a,f){super(e,t,i,r,o,a),this.minVisibleColumnIndentation=f}}var ei=x(7676);function Dn(u){return 0===u}const Kt=2**26;function Ft(u,e){return u*Kt+e}function Jt(u){const e=u,t=Math.floor(e/Kt);return new ei.W(t,e-t*Kt)}function Mt(u,e){let t=u+e;return e>=Kt&&(t-=u%Kt),t}function ni(u,e){return u.reduce((t,i)=>Mt(t,e(i)),0)}function ii(u,e){return u===e}function _n(u,e){const t=u,i=e;if(i-t<=0)return 0;const o=Math.floor(t/Kt),a=Math.floor(i/Kt),f=i-a*Kt;return o===a?Ft(0,f-(t-o*Kt)):Ft(a-o,f)}function mn(u,e){return u<e}function me(u,e){return u<=e}function Q(u,e){return u>=e}function ae(u){return Ft(u.lineNumber-1,u.column-1)}function De(u,e){const t=u,i=Math.floor(t/Kt),r=t-i*Kt,o=e,a=Math.floor(o/Kt);return new y.Q(i+1,r+1,a+1,o-a*Kt+1)}class Ke{static fromModelContentChanges(e){return e.map(i=>{const r=y.Q.lift(i.range);return new Ke(ae(r.getStartPosition()),ae(r.getEndPosition()),function Ue(u){const e=(0,l.uz)(u);return Ft(e.length-1,e[e.length-1].length)}(i.text))}).reverse()}constructor(e,t,i){this.startOffset=e,this.endOffset=t,this.newLength=i}toString(){return`[${Jt(this.startOffset)}...${Jt(this.endOffset)}) -> ${Jt(this.newLength)}`}}class ht{constructor(e){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map(t=>Ct.from(t))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);const t=this.edits[this.nextEditIdx],i=t?this.translateOldToCur(t.offsetObj):null;return null===i?null:_n(e,i)}translateOldToCur(e){return Ft(e.lineCount+this.deltaOldToNewLineCount,e.lineCount===this.deltaLineIdxInOld?e.columnCount+this.deltaOldToNewColumnCount:e.columnCount)}translateCurToOld(e){const t=Jt(e);return Ft(t.lineCount-this.deltaOldToNewLineCount,t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?t.columnCount-this.deltaOldToNewColumnCount:t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){const t=this.edits[this.nextEditIdx],i=this.translateOldToCur(t.endOffsetAfterObj);if(!me(i,e))break;{this.nextEditIdx++;const r=Jt(i),o=Jt(this.translateOldToCur(t.endOffsetBeforeObj));this.deltaOldToNewLineCount+=r.lineCount-o.lineCount,this.deltaOldToNewColumnCount=(this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0)+(r.columnCount-o.columnCount),this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}}}}class Ct{static from(e){return new Ct(e.startOffset,e.endOffset,e.newLength)}constructor(e,t,i){this.endOffsetBeforeObj=Jt(t),this.endOffsetAfterObj=Jt(Mt(e,i)),this.offsetObj=Jt(e)}}const sn=[];class Et{static{this.cache=new Array(129)}static create(e,t){if(e<=128&&0===t.length){let i=Et.cache[e];return i||(i=new Et(e,t),Et.cache[e]=i),i}return new Et(e,t)}static{this.empty=Et.create(0,sn)}static getEmpty(){return this.empty}constructor(e,t){this.items=e,this.additionalItems=t}add(e,t){const i=t.getKey(e);let r=i>>5;if(0===r){const a=1<<i|this.items;return a===this.items?this:Et.create(a,this.additionalItems)}r--;const o=this.additionalItems.slice(0);for(;o.length<r;)o.push(0);return o[r]|=1<<(31&i),Et.create(this.items,o)}merge(e){const t=this.items|e.items;if(this.additionalItems===sn&&e.additionalItems===sn)return t===this.items?this:t===e.items?e:Et.create(t,sn);const i=[];for(let r=0;r<Math.max(this.additionalItems.length,e.additionalItems.length);r++)i.push((this.additionalItems[r]||0)|(e.additionalItems[r]||0));return Et.create(t,i)}intersects(e){if(this.items&e.items)return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(this.additionalItems[t]&e.additionalItems[t])return!0;return!1}}const tn={getKey:u=>u};class an{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return void 0===t&&(t=this.items.size,this.items.set(e,t)),t}}class dn{get length(){return this._length}constructor(e){this._length=e}}class bn extends dn{static create(e,t,i){let r=e.length;return t&&(r=Mt(r,t.length)),i&&(r=Mt(r,i.length)),new bn(r,e,t,i,t?t.missingOpeningBracketIds:Et.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=[];return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}constructor(e,t,i,r,o){super(e),this.openingBracket=t,this.child=i,this.closingBracket=r,this.missingOpeningBracketIds=o}canBeReused(e){return!(null===this.closingBracket||e.intersects(this.missingOpeningBracketIds))}deepClone(){return new bn(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation(Mt(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}class fn extends dn{static create23(e,t,i,r=!1){let o=e.length,a=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(o=Mt(o,t.length),a=a.merge(t.missingOpeningBracketIds),i){if(e.listHeight!==i.listHeight)throw new Error("Invalid list heights");o=Mt(o,i.length),a=a.merge(i.missingOpeningBracketIds)}return r?new Ai(o,e.listHeight+1,e,t,i,a):new Fn(o,e.listHeight+1,e,t,i,a)}static getEmpty(){return new Wn(0,0,[],Et.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(e,t,i){super(e),this.listHeight=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(0===e)return;const t=this.getChild(e-1),i=4===t.kind?t.toMutable():t;return t!==i&&this.setChild(e-1,i),i}makeFirstElementMutable(){if(this.throwIfImmutable(),0===this.childrenLength)return;const t=this.getChild(0),i=4===t.kind?t.toMutable():t;return t!==i&&this.setChild(0,i),i}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds)||0===this.childrenLength)return!1;let t=this;for(;4===t.kind;){const i=t.childrenLength;if(0===i)throw new P.D7;t=t.getChild(i-1)}return t.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();const e=this.childrenLength;let t=this.getChild(0).length,i=this.getChild(0).missingOpeningBracketIds;for(let r=1;r<e;r++){const o=this.getChild(r);t=Mt(t,o.length),i=i.merge(o.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let i=Number.MAX_SAFE_INTEGER,r=e;for(let o=0;o<this.childrenLength;o++){const a=this.getChild(o);a&&(i=Math.min(i,a.computeMinIndentation(r,t)),r=Mt(r,a.length))}return this.cachedMinIndentation=i,i}}class Fn extends fn{get childrenLength(){return null!==this._item3?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:return void(this._item1=t);case 1:return void(this._item2=t);case 2:return void(this._item3=t)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(e,t,i,r,o,a){super(e,t,a),this._item1=i,this._item2=r,this._item3=o}deepClone(){return new Fn(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}}class Ai extends Fn{toMutable(){return new Fn(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class Pn extends fn{get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}constructor(e,t,i,r){super(e,t,r),this._children=i}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new Pn(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}}class Wn extends Pn{toMutable(){return new Pn(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const Ti=[];class fe extends dn{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return Ti}deepClone(){return this}}class c extends fe{get kind(){return 0}get missingOpeningBracketIds(){return Et.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){const i=Jt(e),r=(0===i.columnCount?i.lineCount:i.lineCount+1)+1,o=function jn(u){return Math.floor(u/Kt)}(Mt(e,this.length))+1;let a=Number.MAX_SAFE_INTEGER;for(let f=r;f<=o;f++){const w=t.getLineFirstNonWhitespaceColumn(f),z=t.getLineContent(f);if(0===w)continue;const Y=Z.visibleColumnFromColumn(z,w,t.getOptions().tabSize);a=Math.min(a,Y)}return a}}class g extends fe{static create(e,t,i){return new g(e,t,i)}get kind(){return 1}get missingOpeningBracketIds(){return Et.getEmpty()}constructor(e,t,i){super(e),this.bracketInfo=t,this.bracketIds=i}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class B extends fe{get kind(){return 3}constructor(e,t){super(t),this.missingOpeningBracketIds=e}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}var j=x(1861);class ee{constructor(e,t,i,r,o){this.length=e,this.kind=t,this.bracketId=i,this.bracketIds=r,this.astNode=o}}class ue{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new ge(this.textModel,this.bracketTokens),this._offset=0,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return Ft(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=Mt(this._offset,e);const t=Jt(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=Mt(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class ge{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,null!==this.line&&(this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const o=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=o.length,o}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const e=this.lineIdx,t=this.lineCharOffset;let i=0;for(;;){const o=this.lineTokens,a=o.getCount();let f=null;if(this.lineTokenOffset<a){const w=o.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<a&&w===o.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const z=0===j.x.getTokenType(w),Y=j.x.containsBalancedBrackets(w),X=o.getEndOffset(this.lineTokenOffset);if(Y&&z&&this.lineCharOffset<X){const le=o.getLanguageId(this.lineTokenOffset),ke=this.line.substring(this.lineCharOffset,X),Le=this.bracketTokens.getSingleLanguageBracketTokens(le),Te=Le.regExpGlobal;if(Te){Te.lastIndex=0;const Re=Te.exec(ke);Re&&(f=Le.getToken(Re[0]),f&&(this.lineCharOffset+=Re.index))}}if(i+=X-this.lineCharOffset,f){if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=f;break}return this.lineCharOffset+=f.length,f}this.lineTokenOffset++,this.lineCharOffset=X}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,i+=33,i>1e3))break;if(i>1500)break}const r=function hn(u,e,t,i){return u!==t?Ft(t-u,i):Ft(0,i-e)}(e,t,this.lineIdx,this.lineCharOffset);return new ee(r,0,-1,Et.getEmpty(),new c(r))}}class ce{constructor(e,t){this.text=e,this._offset=0,this.idx=0;const i=t.getRegExpStr(),r=i?new RegExp(i+"|\n","gi"):null,o=[];let a,f=0,w=0,z=0,Y=0;const X=[];for(let Le=0;Le<60;Le++)X.push(new ee(Ft(0,Le),0,-1,Et.getEmpty(),new c(Ft(0,Le))));const le=[];for(let Le=0;Le<60;Le++)le.push(new ee(Ft(1,Le),0,-1,Et.getEmpty(),new c(Ft(1,Le))));if(r)for(r.lastIndex=0;null!==(a=r.exec(e));){const Le=a.index,Te=a[0];if("\n"===Te)f++,w=Le+1;else{if(z!==Le){let Re;if(Y===f){const je=Le-z;if(je<X.length)Re=X[je];else{const Ze=Ft(0,je);Re=new ee(Ze,0,-1,Et.getEmpty(),new c(Ze))}}else{const je=f-Y,Ze=Le-w;if(1===je&&Ze<le.length)Re=le[Ze];else{const it=Ft(je,Ze);Re=new ee(it,0,-1,Et.getEmpty(),new c(it))}}o.push(Re)}o.push(t.getToken(Te)),z=Le+Te.length,Y=f}}const ke=e.length;if(z!==ke){const Le=Y===f?Ft(0,ke-z):Ft(f-Y,ke-w);o.push(new ee(Le,0,-1,Et.getEmpty(),new c(Le)))}this.length=Ft(f,ke-w),this.tokens=o}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new P.EM}}class pe{static createFromLanguage(e,t){function i(o){return t.getKey(`${o.languageId}:::${o.bracketText}`)}const r=new Map;for(const o of e.bracketsNew.openingBrackets){const a=Ft(0,o.bracketText.length),f=i(o),w=Et.getEmpty().add(f,tn);r.set(o.bracketText,new ee(a,1,f,w,g.create(a,o,w)))}for(const o of e.bracketsNew.closingBrackets){const a=Ft(0,o.bracketText.length);let f=Et.getEmpty();const w=o.getOpeningBrackets();for(const z of w)f=f.add(i(z),tn);r.set(o.bracketText,new ee(a,2,i(w[0]),f,g.create(a,o,f)))}return new pe(r)}constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const e=[...this.map.keys()];return e.sort(),e.reverse(),e.map(t=>function Ie(u){let e=(0,l.bm)(u);return/^[\w ]+/.test(u)&&(e=`\\b${e}`),/[\w ]+$/.test(u)&&(e=`${e}\\b`),e}(t)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e.toLowerCase())}findClosingTokenText(e){for(const[t,i]of this.map)if(2===i.kind&&i.bracketIds.intersects(e))return t}get isEmpty(){return 0===this.map.size}}class Ae{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){return this.languageIdToBracketTokens.has(e)}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=pe.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}function Me(u,e=!1){if(0===u.length)return null;if(1===u.length)return u[0];let t=u.length;for(;t>3;){const i=t>>1;for(let r=0;r<i;r++){const o=r<<1;u[r]=fn.create23(u[o],u[o+1],o+3===t?u[o+2]:null,e)}t=i}return fn.create23(u[0],u[1],t>=3?u[2]:null,e)}function Pe(u,e){return Math.abs(u.listHeight-e.listHeight)}function He(u,e){return u.listHeight===e.listHeight?fn.create23(u,e,null,!1):u.listHeight>e.listHeight?function Ye(u,e){let t=u=u.toMutable();const i=[];let r;for(;;){if(e.listHeight===t.listHeight){r=e;break}if(4!==t.kind)throw new Error("unexpected");i.push(t),t=t.makeLastElementMutable()}for(let o=i.length-1;o>=0;o--){const a=i[o];r?a.childrenLength>=3?r=fn.create23(a.unappendChild(),r,null,!1):(a.appendChildOfSameHeight(r),r=void 0):a.handleChildrenChanged()}return r?fn.create23(u,r,null,!1):u}(u,e):function nt(u,e){let t=u=u.toMutable();const i=[];for(;e.listHeight!==t.listHeight;){if(4!==t.kind)throw new Error("unexpected");i.push(t),t=t.makeFirstElementMutable()}let r=e;for(let o=i.length-1;o>=0;o--){const a=i[o];r?a.childrenLength>=3?r=fn.create23(r,a.unprependChild(),null,!1):(a.prependChildOfSameHeight(r),r=void 0):a.handleChildrenChanged()}return r?fn.create23(r,u,null,!1):u}(e,u)}class rt{constructor(e){this.lastOffset=0,this.nextNodes=[e],this.offsets=[0],this.idxs=[]}readLongestNodeAt(e,t){if(mn(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){const i=lt(this.nextNodes);if(!i)return;const r=lt(this.offsets);if(mn(e,r))return;if(mn(r,e))if(Mt(r,i.length)<=e)this.nextNodeAfterCurrent();else{const o=Xe(i);-1!==o?(this.nextNodes.push(i.getChild(o)),this.offsets.push(r),this.idxs.push(o)):this.nextNodeAfterCurrent()}else{if(t(i))return this.nextNodeAfterCurrent(),i;{const o=Xe(i);if(-1===o)return void this.nextNodeAfterCurrent();this.nextNodes.push(i.getChild(o)),this.offsets.push(r),this.idxs.push(o)}}}}nextNodeAfterCurrent(){for(;;){const e=lt(this.offsets),t=lt(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const i=lt(this.nextNodes),r=Xe(i,this.idxs[this.idxs.length-1]);if(-1!==r){this.nextNodes.push(i.getChild(r)),this.offsets.push(Mt(e,t.length)),this.idxs[this.idxs.length-1]=r;break}this.idxs.pop()}}}function Xe(u,e=-1){for(;;){if(++e>=u.childrenLength)return-1;if(u.getChild(e))return e}}function lt(u){return u.length>0?u[u.length-1]:void 0}function et(u,e,t,i){return new ut(u,e,t,i).parseDocument()}class ut{constructor(e,t,i,r){if(this.tokenizer=e,this.createImmutableLists=r,this._itemsConstructed=0,this._itemsFromCache=0,i&&r)throw new Error("Not supported");this.oldNodeReader=i?new rt(i):void 0,this.positionMapper=new ht(t)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(Et.getEmpty(),0);return e||(e=fn.getEmpty()),e}parseList(e,t){const i=[];for(;;){let o=this.tryReadChildFromCache(e);if(!o){const a=this.tokenizer.peek();if(!a||2===a.kind&&a.bracketIds.intersects(e))break;o=this.parseChild(e,t+1)}4===o.kind&&0===o.childrenLength||i.push(o)}return this.oldNodeReader?function ye(u){if(0===u.length)return null;if(1===u.length)return u[0];let e=0;function t(){if(e>=u.length)return null;const a=e,f=u[a].listHeight;for(e++;e<u.length&&u[e].listHeight===f;)e++;return e-a>=2?Me(0===a&&e===u.length?u:u.slice(a,e),!1):u[a]}let i=t(),r=t();if(!r)return i;for(let a=t();a;a=t())Pe(i,r)<=Pe(r,a)?(i=He(i,r),r=a):r=He(r,a);return He(i,r)}(i):Me(i,this.createImmutableLists)}tryReadChildFromCache(e){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(null===t||!Dn(t)){const i=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),r=>!(null!==t&&!mn(r.length,t))&&r.canBeReused(e));if(i)return this._itemsFromCache++,this.tokenizer.skip(i.length),i}}}parseChild(e,t){this._itemsConstructed++;const i=this.tokenizer.read();switch(i.kind){case 2:return new B(i.bracketIds,i.length);case 0:return i.astNode;case 1:{if(t>300)return new c(i.length);const r=e.merge(i.bracketIds),o=this.parseList(r,t+1),a=this.tokenizer.peek();return a&&2===a.kind&&(a.bracketId===i.bracketId||a.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),bn.create(i.astNode,o,a.astNode)):bn.create(i.astNode,o,null)}default:throw new Error("unexpected")}}}function dt(u,e){if(0===u.length)return e;if(0===e.length)return u;const t=new E.j3(Ut(u)),i=Ut(e);i.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let r=t.dequeue();function o(z){if(void 0===z){const X=t.takeWhile(le=>!0)||[];return r&&X.unshift(r),X}const Y=[];for(;r&&!Dn(z);){const[X,le]=r.splitAt(z);Y.push(X),z=_n(X.lengthAfter,z),r=le??t.dequeue()}return Dn(z)||Y.push(new st(!1,z,z)),Y}const a=[];function f(z,Y,X){if(a.length>0&&ii(a[a.length-1].endOffset,z)){const le=a[a.length-1];a[a.length-1]=new Ke(le.startOffset,Y,Mt(le.newLength,X))}else a.push({startOffset:z,endOffset:Y,newLength:X})}let w=0;for(const z of i){const Y=o(z.lengthBefore);if(z.modified){const le=Mt(w,ni(Y,ke=>ke.lengthBefore));f(w,le,z.lengthAfter),w=le}else for(const X of Y){const le=w;w=Mt(w,X.lengthBefore),X.modified&&f(le,w,X.lengthAfter)}}return a}class st{constructor(e,t,i){this.modified=e,this.lengthBefore=t,this.lengthAfter=i}splitAt(e){const t=_n(e,this.lengthAfter);return ii(t,0)?[this,void 0]:this.modified?[new st(this.modified,this.lengthBefore,e),new st(this.modified,0,t)]:[new st(this.modified,e,e),new st(this.modified,t,t)]}toString(){return`${this.modified?"M":"U"}:${Jt(this.lengthBefore)} -> ${Jt(this.lengthAfter)}`}}function Ut(u){const e=[];let t=0;for(const i of u){const r=_n(t,i.startOffset);Dn(r)||e.push(new st(!1,r,r));const o=_n(i.startOffset,i.endOffset);e.push(new st(!0,o,i.newLength)),t=i.endOffset}return e}class Vt extends $.jG{didLanguageChange(e){return this.brackets.didLanguageChange(e)}constructor(e,t){if(super(),this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new N.vl,this.denseKeyProvider=new an,this.brackets=new Ae(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],e.tokenization.hasTokens)2===e.tokenization.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const i=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),r=new ce(this.textModel.getValue(),i);this.initialAstWithoutTokens=et(r,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(2===this.textModel.tokenization.backgroundTokenizationState){const e=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:e}){const t=e.map(i=>new Ke(Ft(i.fromLineNumber-1,0),Ft(i.toLineNumber,0),Ft(i.toLineNumber-i.fromLineNumber+1,0)));this.handleEdits(t,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(e){const t=Ke.fromModelContentChanges(e.changes);this.handleEdits(t,!1)}handleEdits(e,t){const i=dt(this.queuedTextEdits,e);this.queuedTextEdits=i,this.initialAstWithoutTokens&&!t&&(this.queuedTextEditsForInitialAstWithoutTokens=dt(this.queuedTextEditsForInitialAstWithoutTokens,e))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(e,t,i){const o=t;return et(new ue(this.textModel,this.brackets),e,o,i)}getBracketsInRange(e,t){this.flushQueue();const i=Ft(e.startLineNumber-1,e.startColumn-1),r=Ft(e.endLineNumber-1,e.endColumn-1);return new E.c1(o=>{const a=this.initialAstWithoutTokens||this.astWithTokens;kn(a,0,a.length,i,r,o,0,0,new Map,t)})}getBracketPairsInRange(e,t){this.flushQueue();const i=ae(e.getStartPosition()),r=ae(e.getEndPosition());return new E.c1(o=>{const a=this.initialAstWithoutTokens||this.astWithTokens,f=new Ir(o,t,this.textModel);Ni(a,0,a.length,i,r,f,0,new Map)})}getFirstBracketAfter(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return mt(t,0,t.length,ae(e))}getFirstBracketBefore(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return Dt(t,0,t.length,ae(e))}}function Dt(u,e,t,i){if(4===u.kind||2===u.kind){const r=[];for(const o of u.children)t=Mt(e,o.length),r.push({nodeOffsetStart:e,nodeOffsetEnd:t}),e=t;for(let o=r.length-1;o>=0;o--){const{nodeOffsetStart:a,nodeOffsetEnd:f}=r[o];if(mn(a,i)){const w=Dt(u.children[o],a,f,i);if(w)return w}}return null}if(3===u.kind)return null;if(1===u.kind){const r=De(e,t);return{bracketInfo:u.bracketInfo,range:r}}return null}function mt(u,e,t,i){if(4===u.kind||2===u.kind){for(const r of u.children){if(mn(i,t=Mt(e,r.length))){const o=mt(r,e,t,i);if(o)return o}e=t}return null}if(3===u.kind)return null;if(1===u.kind){const r=De(e,t);return{bracketInfo:u.bracketInfo,range:r}}return null}function kn(u,e,t,i,r,o,a,f,w,z,Y=!1){if(a>200)return!0;e:for(;;)switch(u.kind){case 4:{const X=u.childrenLength;for(let le=0;le<X;le++){const ke=u.getChild(le);if(ke){if(t=Mt(e,ke.length),me(e,r)&&Q(t,i)){if(Q(t,r)){u=ke;continue e}if(!kn(ke,e,t,i,r,o,a,0,w,z))return!1}e=t}}return!0}case 2:{const X=!z||!u.closingBracket||u.closingBracket.bracketInfo.closesColorized(u.openingBracket.bracketInfo);let le=0;if(w){let Le=w.get(u.openingBracket.text);void 0===Le&&(Le=0),le=Le,X&&(Le++,w.set(u.openingBracket.text,Le))}const ke=u.childrenLength;for(let Le=0;Le<ke;Le++){const Te=u.getChild(Le);if(Te){if(t=Mt(e,Te.length),me(e,r)&&Q(t,i)){if(Q(t,r)&&1!==Te.kind){u=Te,X?(a++,f=le+1):f=le;continue e}if((X||1!==Te.kind||!u.closingBracket)&&!kn(Te,e,t,i,r,o,X?a+1:a,X?le+1:le,w,z,!u.closingBracket))return!1}e=t}}return w?.set(u.openingBracket.text,le),!0}case 3:{const X=De(e,t);return o(new en(X,a-1,0,!0))}case 1:{const X=De(e,t);return o(new en(X,a-1,f-1,Y))}case 0:return!0}}class Ir{constructor(e,t,i){this.push=e,this.includeMinIndentation=t,this.textModel=i}}function Ni(u,e,t,i,r,o,a,f){if(a>200)return!0;let w=!0;if(2===u.kind){let z=0;if(f){let le=f.get(u.openingBracket.text);void 0===le&&(le=0),z=le,le++,f.set(u.openingBracket.text,le)}const Y=Mt(e,u.openingBracket.length);let X=-1;if(o.includeMinIndentation&&(X=u.computeMinIndentation(e,o.textModel)),w=o.push(new _i(De(e,t),De(e,Y),u.closingBracket?De(Mt(Y,u.child?.length||0),t):void 0,a,z,u,X)),e=Y,w&&u.child){const le=u.child;if(t=Mt(e,le.length),me(e,r)&&Q(t,i)&&(w=Ni(le,e,t,i,r,o,a+1,f),!w))return!1}f?.set(u.openingBracket.text,z)}else{let z=e;for(const Y of u.children){const X=z;if(z=Mt(z,Y.length),me(X,r)&&me(i,z)&&(w=Ni(Y,X,z,i,r,o,a,f),!w))return!1}}return w}class Ar extends $.jG{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.bracketPairsTree=this._register(new $.HE),this.onDidChangeEmitter=new N.vl,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1}handleLanguageConfigurationServiceChange(e){(!e.languageId||this.bracketPairsTree.value?.object.didLanguageChange(e.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}handleDidChangeOptions(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(e){this.bracketPairsTree.value?.object.handleContentChanged(e)}handleDidChangeBackgroundTokenizationState(){this.bracketPairsTree.value?.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(e){this.bracketPairsTree.value?.object.handleDidChangeTokens(e)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const e=new $.Cm;this.bracketPairsTree.value=function Tr(u,e){return{object:u,dispose:()=>e?.dispose()}}(e.add(new Vt(this.textModel,t=>this.languageConfigurationService.getLanguageConfiguration(t))),e),e.add(this.bracketPairsTree.value.object.onDidChange(t=>this.onDidChangeEmitter.fire(t))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(e){return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getBracketPairsInRange(e,!1)||E.c1.empty}getBracketPairsInRangeWithMinIndentation(e){return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getBracketPairsInRange(e,!0)||E.c1.empty}getBracketsInRange(e,t=!1){return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getBracketsInRange(e,t)||E.c1.empty}findMatchingBracketUp(e,t,i){const r=this.textModel.validatePosition(t),o=this.textModel.getLanguageIdAtPosition(r.lineNumber,r.column);if(this.canBuildAST){const a=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew.getClosingBracketInfo(e);if(!a)return null;const f=this.getBracketPairsInRange(y.Q.fromPositions(t,t)).findLast(w=>a.closes(w.openingBracketInfo));return f?f.openingBracketRange:null}{const a=e.toLowerCase(),f=this.languageConfigurationService.getLanguageConfiguration(o).brackets;if(!f)return null;const w=f.textIsBracket[a];return w?bi(this._findMatchingBracketUp(w,r,Di(i))):null}}matchBracket(e,t){if(this.canBuildAST){const i=this.getBracketPairsInRange(y.Q.fromPositions(e,e)).filter(r=>void 0!==r.closingBracketRange&&(r.openingBracketRange.containsPosition(e)||r.closingBracketRange.containsPosition(e))).findLastMaxBy((0,E.VE)(r=>r.openingBracketRange.containsPosition(e)?r.openingBracketRange:r.closingBracketRange,y.Q.compareRangesUsingStarts));return i?[i.openingBracketRange,i.closingBracketRange]:null}{const i=Di(t);return this._matchBracket(this.textModel.validatePosition(e),i)}}_establishBracketSearchOffsets(e,t,i,r){const o=t.getCount(),a=t.getLanguageId(r);let f=Math.max(0,e.column-1-i.maxBracketLength);for(let z=r-1;z>=0;z--){const Y=t.getEndOffset(z);if(Y<=f)break;if(A(t.getStandardTokenType(z))||t.getLanguageId(z)!==a){f=Y;break}}let w=Math.min(t.getLineContent().length,e.column-1+i.maxBracketLength);for(let z=r+1;z<o;z++){const Y=t.getStartOffset(z);if(Y>=w)break;if(A(t.getStandardTokenType(z))||t.getLanguageId(z)!==a){w=Y;break}}return{searchStartOffset:f,searchEndOffset:w}}_matchBracket(e,t){const i=e.lineNumber,r=this.textModel.tokenization.getLineTokens(i),o=this.textModel.getLineContent(i),a=r.findTokenIndexAtOffset(e.column-1);if(a<0)return null;const f=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId(a)).brackets;if(f&&!A(r.getStandardTokenType(a))){let{searchStartOffset:w,searchEndOffset:z}=this._establishBracketSearchOffsets(e,r,f,a),Y=null;for(;;){const X=Je.findNextBracketInRange(f.forwardRegex,i,o,w,z);if(!X)break;if(X.startColumn<=e.column&&e.column<=X.endColumn){const le=o.substring(X.startColumn-1,X.endColumn-1).toLowerCase(),ke=this._matchFoundBracket(X,f.textIsBracket[le],f.textIsOpenBracket[le],t);if(ke){if(ke instanceof vn)return null;Y=ke}}w=X.endColumn-1}if(Y)return Y}if(a>0&&r.getStartOffset(a)===e.column-1){const w=a-1,z=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId(w)).brackets;if(z&&!A(r.getStandardTokenType(w))){const{searchStartOffset:Y,searchEndOffset:X}=this._establishBracketSearchOffsets(e,r,z,w),le=Je.findPrevBracketInRange(z.reversedRegex,i,o,Y,X);if(le&&le.startColumn<=e.column&&e.column<=le.endColumn){const ke=o.substring(le.startColumn-1,le.endColumn-1).toLowerCase(),Le=this._matchFoundBracket(le,z.textIsBracket[ke],z.textIsOpenBracket[ke],t);if(Le)return Le instanceof vn?null:Le}}}return null}_matchFoundBracket(e,t,i,r){if(!t)return null;const o=i?this._findMatchingBracketDown(t,e.getEndPosition(),r):this._findMatchingBracketUp(t,e.getStartPosition(),r);return o?o instanceof vn?o:[e,o]:null}_findMatchingBracketUp(e,t,i){const r=e.languageId,o=e.reversedRegex;let a=-1,f=0;const w=(z,Y,X,le)=>{for(;;){if(i&&++f%100==0&&!i())return vn.INSTANCE;const ke=Je.findPrevBracketInRange(o,z,Y,X,le);if(!ke)break;const Le=Y.substring(ke.startColumn-1,ke.endColumn-1).toLowerCase();if(e.isOpen(Le)?a++:e.isClose(Le)&&a--,0===a)return ke;le=ke.startColumn-1}return null};for(let z=t.lineNumber;z>=1;z--){const Y=this.textModel.tokenization.getLineTokens(z),X=Y.getCount(),le=this.textModel.getLineContent(z);let ke=X-1,Le=le.length,Te=le.length;z===t.lineNumber&&(ke=Y.findTokenIndexAtOffset(t.column-1),Le=t.column-1,Te=t.column-1);let Re=!0;for(;ke>=0;ke--){const je=Y.getLanguageId(ke)===r&&!A(Y.getStandardTokenType(ke));if(je)Re?Le=Y.getStartOffset(ke):(Le=Y.getStartOffset(ke),Te=Y.getEndOffset(ke));else if(Re&&Le!==Te){const Ze=w(z,le,Le,Te);if(Ze)return Ze}Re=je}if(Re&&Le!==Te){const je=w(z,le,Le,Te);if(je)return je}}return null}_findMatchingBracketDown(e,t,i){const r=e.languageId,o=e.forwardRegex;let a=1,f=0;const w=(Y,X,le,ke)=>{for(;;){if(i&&++f%100==0&&!i())return vn.INSTANCE;const Le=Je.findNextBracketInRange(o,Y,X,le,ke);if(!Le)break;const Te=X.substring(Le.startColumn-1,Le.endColumn-1).toLowerCase();if(e.isOpen(Te)?a++:e.isClose(Te)&&a--,0===a)return Le;le=Le.endColumn-1}return null},z=this.textModel.getLineCount();for(let Y=t.lineNumber;Y<=z;Y++){const X=this.textModel.tokenization.getLineTokens(Y),le=X.getCount(),ke=this.textModel.getLineContent(Y);let Le=0,Te=0,Re=0;Y===t.lineNumber&&(Le=X.findTokenIndexAtOffset(t.column-1),Te=t.column-1,Re=t.column-1);let je=!0;for(;Le<le;Le++){const Ze=X.getLanguageId(Le)===r&&!A(X.getStandardTokenType(Le));if(Ze)je||(Te=X.getStartOffset(Le)),Re=X.getEndOffset(Le);else if(je&&Te!==Re){const it=w(Y,ke,Te,Re);if(it)return it}je=Ze}if(je&&Te!==Re){const Ze=w(Y,ke,Te,Re);if(Ze)return Ze}}return null}findPrevBracket(e){const t=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getFirstBracketBefore(t)||null;let i=null,r=null,o=null;for(let a=t.lineNumber;a>=1;a--){const f=this.textModel.tokenization.getLineTokens(a),w=f.getCount(),z=this.textModel.getLineContent(a);let Y=w-1,X=z.length,le=z.length;if(a===t.lineNumber){Y=f.findTokenIndexAtOffset(t.column-1),X=t.column-1,le=t.column-1;const Le=f.getLanguageId(Y);i!==Le&&(i=Le,r=this.languageConfigurationService.getLanguageConfiguration(i).brackets,o=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew)}let ke=!0;for(;Y>=0;Y--){const Le=f.getLanguageId(Y);if(i!==Le){if(r&&o&&ke&&X!==le){const Re=Je.findPrevBracketInRange(r.reversedRegex,a,z,X,le);if(Re)return this._toFoundBracket(o,Re);ke=!1}i=Le,r=this.languageConfigurationService.getLanguageConfiguration(i).brackets,o=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew}const Te=!!r&&!A(f.getStandardTokenType(Y));if(Te)ke?X=f.getStartOffset(Y):(X=f.getStartOffset(Y),le=f.getEndOffset(Y));else if(o&&r&&ke&&X!==le){const Re=Je.findPrevBracketInRange(r.reversedRegex,a,z,X,le);if(Re)return this._toFoundBracket(o,Re)}ke=Te}if(o&&r&&ke&&X!==le){const Le=Je.findPrevBracketInRange(r.reversedRegex,a,z,X,le);if(Le)return this._toFoundBracket(o,Le)}}return null}findNextBracket(e){const t=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getFirstBracketAfter(t)||null;const i=this.textModel.getLineCount();let r=null,o=null,a=null;for(let f=t.lineNumber;f<=i;f++){const w=this.textModel.tokenization.getLineTokens(f),z=w.getCount(),Y=this.textModel.getLineContent(f);let X=0,le=0,ke=0;if(f===t.lineNumber){X=w.findTokenIndexAtOffset(t.column-1),le=t.column-1,ke=t.column-1;const Te=w.getLanguageId(X);r!==Te&&(r=Te,o=this.languageConfigurationService.getLanguageConfiguration(r).brackets,a=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew)}let Le=!0;for(;X<z;X++){const Te=w.getLanguageId(X);if(r!==Te){if(a&&o&&Le&&le!==ke){const je=Je.findNextBracketInRange(o.forwardRegex,f,Y,le,ke);if(je)return this._toFoundBracket(a,je);Le=!1}r=Te,o=this.languageConfigurationService.getLanguageConfiguration(r).brackets,a=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew}const Re=!!o&&!A(w.getStandardTokenType(X));if(Re)Le||(le=w.getStartOffset(X)),ke=w.getEndOffset(X);else if(a&&o&&Le&&le!==ke){const je=Je.findNextBracketInRange(o.forwardRegex,f,Y,le,ke);if(je)return this._toFoundBracket(a,je)}Le=Re}if(a&&o&&Le&&le!==ke){const Te=Je.findNextBracketInRange(o.forwardRegex,f,Y,le,ke);if(Te)return this._toFoundBracket(a,Te)}}return null}findEnclosingBrackets(e,t){const i=this.textModel.validatePosition(e);if(this.canBuildAST){const ke=y.Q.fromPositions(i),Le=this.getBracketPairsInRange(y.Q.fromPositions(i,i)).findLast(Te=>void 0!==Te.closingBracketRange&&Te.range.strictContainsRange(ke));return Le?[Le.openingBracketRange,Le.closingBracketRange]:null}const r=Di(t),o=this.textModel.getLineCount(),a=new Map;let f=[];const w=(ke,Le)=>{if(!a.has(ke)){const Te=[];for(let Re=0,je=Le?Le.brackets.length:0;Re<je;Re++)Te[Re]=0;a.set(ke,Te)}f=a.get(ke)};let z=0;const Y=(ke,Le,Te,Re,je)=>{for(;;){if(r&&++z%100==0&&!r())return vn.INSTANCE;const Ze=Je.findNextBracketInRange(ke.forwardRegex,Le,Te,Re,je);if(!Ze)break;const it=Te.substring(Ze.startColumn-1,Ze.endColumn-1).toLowerCase(),pt=ke.textIsBracket[it];if(pt&&(pt.isOpen(it)?f[pt.index]++:pt.isClose(it)&&f[pt.index]--,-1===f[pt.index]))return this._matchFoundBracket(Ze,pt,!1,r);Re=Ze.endColumn-1}return null};let X=null,le=null;for(let ke=i.lineNumber;ke<=o;ke++){const Le=this.textModel.tokenization.getLineTokens(ke),Te=Le.getCount(),Re=this.textModel.getLineContent(ke);let je=0,Ze=0,it=0;if(ke===i.lineNumber){je=Le.findTokenIndexAtOffset(i.column-1),Ze=i.column-1,it=i.column-1;const Wt=Le.getLanguageId(je);X!==Wt&&(X=Wt,le=this.languageConfigurationService.getLanguageConfiguration(X).brackets,w(X,le))}let pt=!0;for(;je<Te;je++){const Wt=Le.getLanguageId(je);if(X!==Wt){if(le&&pt&&Ze!==it){const It=Y(le,ke,Re,Ze,it);if(It)return bi(It);pt=!1}X=Wt,le=this.languageConfigurationService.getLanguageConfiguration(X).brackets,w(X,le)}const Ht=!!le&&!A(Le.getStandardTokenType(je));if(Ht)pt||(Ze=Le.getStartOffset(je)),it=Le.getEndOffset(je);else if(le&&pt&&Ze!==it){const It=Y(le,ke,Re,Ze,it);if(It)return bi(It)}pt=Ht}if(le&&pt&&Ze!==it){const Wt=Y(le,ke,Re,Ze,it);if(Wt)return bi(Wt)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.textModel.getValueInRange(t);i=i.toLowerCase();const r=e.getBracketInfo(i);return r?{range:t,bracketInfo:r}:null}}function Di(u){if(typeof u>"u")return()=>!0;{const e=Date.now();return()=>Date.now()-e<=u}}class vn{static{this.INSTANCE=new vn}constructor(){this._searchCanceledBrand=void 0}}function bi(u){return u instanceof vn?null:u}var zn=x(976),Ji=x(7464);class er extends $.jG{constructor(e){super(),this.textModel=e,this.colorProvider=new Bi,this.onDidChangeEmitter=new N.vl,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.bracketPairs.onDidChange(t=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(e){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(e,t,i,r){return r||void 0===t?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(e,!0).map(a=>({id:`bracket${a.range.toString()}-${a.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(a,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:a.range})).toArray():[]}getAllDecorations(e,t){return void 0===e?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new y.Q(1,1,this.textModel.getLineCount(),1),e,t):[]}}class Bi{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e,t){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t?e.nestingLevelOfEqualBracketType:e.nestingLevel)}getInlineClassNameOfLevel(e){return"bracket-highlighting-"+e%30}}(0,Ji.zy)((u,e)=>{const t=[zn.sN,zn.lQ,zn.ss,zn.l5,zn.sH,zn.zp],i=new Bi;e.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${u.getColor(zn.s7)}; }`);const r=t.map(o=>u.getColor(o)).filter(o=>!!o).filter(o=>!o.isTransparent());for(let o=0;o<30;o++){const a=r[o%r.length];e.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(o)} { color: ${a}; }`)}});var Nr=x(1913);function ki(u){return u.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class Qt{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(e,t,i,r){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=r}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${ki(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${ki(this.oldText)}")`:`(replace@${this.oldPosition} "${ki(this.oldText)}" with "${ki(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){const r=t.length;W.Sw(e,r,i),i+=4;for(let o=0;o<r;o++)W.gN(e,t.charCodeAt(o),i),i+=2;return i}static _readString(e,t){const i=W.bb(e,t);return function K(u,e,t){const i=new Uint16Array(u.buffer,e,t);return t>0&&(65279===i[0]||65534===i[0])?function be(u,e,t){const i=[];let r=0;for(let o=0;o<t;o++){const a=W.$l(u,e);e+=2,i[r++]=String.fromCharCode(a)}return i.join("")}(u,e,t):M().decode(i)}(e,t+=4,i)}writeSize(){return 8+Qt._writeStringSize(this.oldText)+Qt._writeStringSize(this.newText)}write(e,t){return W.Sw(e,this.oldPosition,t),W.Sw(e,this.newPosition,t+=4),t=Qt._writeString(e,this.oldText,t+=4),Qt._writeString(e,this.newText,t)}static read(e,t,i){const r=W.bb(e,t),o=W.bb(e,t+=4),a=Qt._readString(e,t+=4);t+=Qt._writeStringSize(a);const f=Qt._readString(e,t);return t+=Qt._writeStringSize(f),i.push(new Qt(r,a,o,f)),t}}class Cn{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),r=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(null===i){this._acceptCurr(r),r=this._getCurr(++t);continue}if(null===r){this._acceptPrev(i),i=this._getPrev(++e);continue}if(r.oldEnd<=i.newPosition){this._acceptCurr(r),r=this._getCurr(++t);continue}if(i.newEnd<=r.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(r.oldPosition<i.newPosition){const[z,Y]=Cn._splitCurr(r,i.newPosition-r.oldPosition);this._acceptCurr(z),r=Y;continue}if(i.newPosition<r.oldPosition){const[z,Y]=Cn._splitPrev(i,r.oldPosition-i.newPosition);this._acceptPrev(z),i=Y;continue}let f,w;if(r.oldEnd===i.newEnd)f=i,w=r,i=this._getPrev(++e),r=this._getCurr(++t);else if(r.oldEnd<i.newEnd){const[z,Y]=Cn._splitPrev(i,r.oldLength);f=z,w=r,i=Y,r=this._getCurr(++t)}else{const[z,Y]=Cn._splitCurr(r,i.newLength);f=i,w=z,i=this._getPrev(++e),r=Y}this._result[this._resultLen++]=new Qt(f.oldPosition,f.oldText,w.newPosition,w.newText),this._prevDeltaOffset+=f.newLength-f.oldLength,this._currDeltaOffset+=w.newLength-w.oldLength}const o=Cn._merge(this._result);return Cn._removeNoOps(o)}_acceptCurr(e){this._result[this._resultLen++]=Cn._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=Cn._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new Qt(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new Qt(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const i=e.newText.substr(0,t),r=e.newText.substr(t);return[new Qt(e.oldPosition,e.oldText,e.newPosition,i),new Qt(e.oldEnd,"",e.newPosition+t,r)]}static _splitCurr(e,t){const i=e.oldText.substr(0,t),r=e.oldText.substr(t);return[new Qt(e.oldPosition,i,e.newPosition,e.newText),new Qt(e.oldPosition+t,r,e.newEnd,"")]}static _merge(e){if(0===e.length)return e;const t=[];let i=0,r=e[0];for(let o=1;o<e.length;o++){const a=e[o];r.oldEnd===a.oldPosition?r=new Qt(r.oldPosition,r.oldText+a.oldText,r.newPosition,r.newText+a.newText):(t[i++]=r,r=a)}return t[i++]=r,t}static _removeNoOps(e){if(0===e.length)return e;const t=[];let i=0;for(let r=0;r<e.length;r++){const o=e[r];o.oldText!==o.newText&&(t[i++]=o)}return t}}var Br=x(6698);function $n(u){return u.toString()}class $t{static create(e,t){const i=e.getAlternativeVersionId(),r=Ri(e);return new $t(i,i,r,r,t,t,[])}constructor(e,t,i,r,o,a,f){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=r,this.beforeCursorState=o,this.afterCursorState=a,this.changes=f}append(e,t,i,r,o){t.length>0&&(this.changes=function Dr(u,e){return null===u||0===u.length?e:new Cn(u,e).compress()}(this.changes,t)),this.afterEOL=i,this.afterVersionId=r,this.afterCursorState=o}static _writeSelectionsSize(e){return 4+16*(e?e.length:0)}static _writeSelections(e,t,i){if(W.Sw(e,t?t.length:0,i),i+=4,t)for(const r of t)W.Sw(e,r.selectionStartLineNumber,i),W.Sw(e,r.selectionStartColumn,i+=4),W.Sw(e,r.positionLineNumber,i+=4),W.Sw(e,r.positionColumn,i+=4),i+=4;return i}static _readSelections(e,t,i){const r=W.bb(e,t);t+=4;for(let o=0;o<r;o++){const a=W.bb(e,t),f=W.bb(e,t+=4),w=W.bb(e,t+=4),z=W.bb(e,t+=4);t+=4,i.push(new C.L(a,f,w,z))}return t}serialize(){let e=10+$t._writeSelectionsSize(this.beforeCursorState)+$t._writeSelectionsSize(this.afterCursorState)+4;for(const r of this.changes)e+=r.writeSize();const t=new Uint8Array(e);let i=0;W.Sw(t,this.beforeVersionId,i),i+=4,W.Sw(t,this.afterVersionId,i),i+=4,W.Gs(t,this.beforeEOL,i),i+=1,W.Gs(t,this.afterEOL,i),i+=1,i=$t._writeSelections(t,this.beforeCursorState,i),i=$t._writeSelections(t,this.afterCursorState,i),W.Sw(t,this.changes.length,i),i+=4;for(const r of this.changes)i=r.write(t,i);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let i=0;const r=W.bb(t,i);i+=4;const o=W.bb(t,i);i+=4;const a=W.pJ(t,i);i+=1;const f=W.pJ(t,i);i+=1;const w=[];i=$t._readSelections(t,i,w);const z=[];i=$t._readSelections(t,i,z);const Y=W.bb(t,i);i+=4;const X=[];for(let le=0;le<Y;le++)i=Qt.read(t,i,X);return new $t(r,o,a,f,w,z,X)}}class tr{get type(){return 0}get resource(){return I.r.isUri(this.model)?this.model:this.model.uri}constructor(e,t,i,r){this.label=e,this.code=t,this.model=i,this._data=$t.create(i,r)}toString(){return(this._data instanceof $t?this._data:$t.deserialize(this._data)).changes.map(t=>t.toString()).join(", ")}matchesResource(e){return(I.r.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof $t}append(e,t,i,r,o){this._data instanceof $t&&this._data.append(e,t,i,r,o)}close(){this._data instanceof $t&&(this._data=this._data.serialize())}open(){this._data instanceof $t||(this._data=$t.deserialize(this._data))}undo(){if(I.r.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof $t&&(this._data=this._data.serialize());const e=$t.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(I.r.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof $t&&(this._data=this._data.serialize());const e=$t.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof $t&&(this._data=this._data.serialize()),this._data.byteLength+168}}class Rr{get resources(){return this._editStackElementsArr.map(e=>e.resource)}constructor(e,t,i){this.label=e,this.code=t,this.type=1,this._isOpen=!0,this._editStackElementsArr=i.slice(0),this._editStackElementsMap=new Map;for(const r of this._editStackElementsArr){const o=$n(r.resource);this._editStackElementsMap.set(o,r)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=$n(e);return this._editStackElementsMap.has(t)}setModel(e){const t=$n(I.r.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=$n(e.uri);return!!this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).canAppend(e)}append(e,t,i,r,o){const a=$n(e.uri);this._editStackElementsMap.get(a).append(e,t,i,r,o)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=$n(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){const e=[];for(const t of this._editStackElementsArr)e.push(`${(0,Br.P8)(t.resource)}: ${t}`);return`{${e.join(", ")}}`}}function Ri(u){return"\n"===u.getEOL()?0:1}function yn(u){return!!u&&(u instanceof tr||u instanceof Rr)}class Mi{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);yn(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);yn(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e,t){const i=this._undoRedoService.getLastElement(this._model.uri);if(yn(i)&&i.canAppend(this._model))return i;const r=new tr(Nr.kg("edit","Typing"),"undoredo.textBufferEdit",this._model,e);return this._undoRedoService.pushElement(r,t),r}pushEOL(e){const t=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(e),t.append(this._model,[],Ri(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i,r){const o=this._getOrCreateEditStackElement(e,r),a=this._model.applyEdits(t,!0),f=Mi._computeCursorState(i,a),w=a.map((z,Y)=>({index:Y,textChange:z.textChange}));return w.sort((z,Y)=>z.textChange.oldPosition===Y.textChange.oldPosition?z.index-Y.index:z.textChange.oldPosition-Y.textChange.oldPosition),o.append(this._model,w.map(z=>z.textChange),Ri(this._model),this._model.getAlternativeVersionId(),f),f}static _computeCursorState(e,t){try{return e?e(t):null}catch(i){return(0,P.dz)(i),null}}}var Mr=x(2210);class nr extends $.jG{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}var vi=function(u){return u[u.Disabled=0]="Disabled",u[u.EnabledForActive=1]="EnabledForActive",u[u.Enabled=2]="Enabled",u}(vi||{});class ri{constructor(e,t,i,r,o,a){if(this.visibleColumn=e,this.column=t,this.className=i,this.horizontalLine=r,this.forWrappedLinesAfterColumn=o,this.forWrappedLinesBeforeOrAtColumn=a,-1!==e==(-1!==t))throw new Error}}class Ci{constructor(e,t){this.top=e,this.endColumn=t}}class ir extends nr{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t}getLanguageConfiguration(e){return this.languageConfigurationService.getLanguageConfiguration(e)}_computeIndentLevel(e){return function Or(u,e){let t=0,i=0;const r=u.length;for(;i<r;){const o=u.charCodeAt(i);if(32===o)t++;else{if(9!==o)break;t=t-t%e+e}i++}return i===r?-1:t}(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(e,t,i){this.assertNotDisposed();const r=this.textModel.getLineCount();if(e<1||e>r)throw new P.D7("Illegal value for lineNumber");const o=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,a=!(!o||!o.offSide);let f=-2,w=-1,z=-2,Y=-1;const X=It=>{if(-1!==f&&(-2===f||f>It-1)){f=-1,w=-1;for(let wt=It-2;wt>=0;wt--){const St=this._computeIndentLevel(wt);if(St>=0){f=wt,w=St;break}}}if(-2===z){z=-1,Y=-1;for(let wt=It;wt<r;wt++){const St=this._computeIndentLevel(wt);if(St>=0){z=wt,Y=St;break}}}};let le=-2,ke=-1,Le=-2,Te=-1;const Re=It=>{if(-2===le){le=-1,ke=-1;for(let wt=It-2;wt>=0;wt--){const St=this._computeIndentLevel(wt);if(St>=0){le=wt,ke=St;break}}}if(-1!==Le&&(-2===Le||Le<It-1)){Le=-1,Te=-1;for(let wt=It;wt<r;wt++){const St=this._computeIndentLevel(wt);if(St>=0){Le=wt,Te=St;break}}}};let je=0,Ze=!0,it=0,pt=!0,Wt=0,Ht=0;for(let It=0;Ze||pt;It++){const wt=e-It,St=e+It;It>1&&(wt<1||wt<t)&&(Ze=!1),It>1&&(St>r||St>i)&&(pt=!1),It>5e4&&(Ze=!1,pt=!1);let nn=-1;if(Ze&&wt>=1){const wn=this._computeIndentLevel(wt-1);wn>=0?(z=wt-1,Y=wn,nn=Math.ceil(wn/this.textModel.getOptions().indentSize)):(X(wt),nn=this._getIndentLevelForWhitespaceLine(a,w,Y))}let gn=-1;if(pt&&St<=r){const wn=this._computeIndentLevel(St-1);wn>=0?(le=St-1,ke=wn,gn=Math.ceil(wn/this.textModel.getOptions().indentSize)):(Re(St),gn=this._getIndentLevelForWhitespaceLine(a,ke,Te))}if(0!==It){if(1===It){if(St<=r&&gn>=0&&Ht+1===gn){Ze=!1,je=St,it=St,Wt=gn;continue}if(wt>=1&&nn>=0&&nn-1===Ht){pt=!1,je=wt,it=wt,Wt=nn;continue}if(je=e,it=e,Wt=Ht,0===Wt)return{startLineNumber:je,endLineNumber:it,indent:Wt}}Ze&&(nn>=Wt?je=wt:Ze=!1),pt&&(gn>=Wt?it=St:pt=!1)}else Ht=nn}return{startLineNumber:je,endLineNumber:it,indent:Wt}}getLinesBracketGuides(e,t,i,r){const o=[];for(let X=e;X<=t;X++)o.push([]);const f=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new y.Q(e,1,t,this.textModel.getLineMaxColumn(t))).toArray();let w;if(i&&f.length>0){const X=(e<=i.lineNumber&&i.lineNumber<=t?f:this.textModel.bracketPairs.getBracketPairsInRange(y.Q.fromPositions(i)).toArray()).filter(le=>y.Q.strictContainsPosition(le.range,i));w=(0,Mr.Uk)(X,le=>true)?.range}const z=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,Y=new Fr;for(const X of f){if(!X.closingBracketRange)continue;const le=w&&X.range.equalsRange(w);if(!le&&!r.includeInactive)continue;const ke=Y.getInlineClassName(X.nestingLevel,X.nestingLevelOfEqualBracketType,z)+(r.highlightActive&&le?" "+Y.activeClassName:""),Le=X.openingBracketRange.getStartPosition(),Te=X.closingBracketRange.getStartPosition(),Re=r.horizontalGuides===vi.Enabled||r.horizontalGuides===vi.EnabledForActive&&le;if(X.range.startLineNumber===X.range.endLineNumber){Re&&o[X.range.startLineNumber-e].push(new ri(-1,X.openingBracketRange.getEndPosition().column,ke,new Ci(!1,Te.column),-1,-1));continue}const je=this.getVisibleColumnFromPosition(Te),Ze=this.getVisibleColumnFromPosition(X.openingBracketRange.getStartPosition()),it=Math.min(Ze,je,X.minVisibleColumnIndentation+1);let pt=!1;l.HG(this.textModel.getLineContent(X.closingBracketRange.startLineNumber))<X.closingBracketRange.startColumn-1&&(pt=!0);const It=Math.max(Le.lineNumber,e),wt=Math.min(Te.lineNumber,t),St=pt?1:0;for(let nn=It;nn<wt+St;nn++)o[nn-e].push(new ri(it,-1,ke,null,nn===Le.lineNumber?Le.column:-1,nn===Te.lineNumber?Te.column:-1));Re&&(Le.lineNumber>=e&&Ze>it&&o[Le.lineNumber-e].push(new ri(it,-1,ke,new Ci(!1,Le.column),-1,-1)),Te.lineNumber<=t&&je>it&&o[Te.lineNumber-e].push(new ri(it,-1,ke,new Ci(!pt,Te.column),-1,-1)))}for(const X of o)X.sort((le,ke)=>le.visibleColumn-ke.visibleColumn);return o}getVisibleColumnFromPosition(e){return Z.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(e,t){this.assertNotDisposed();const i=this.textModel.getLineCount();if(e<1||e>i)throw new Error("Illegal value for startLineNumber");if(t<1||t>i)throw new Error("Illegal value for endLineNumber");const r=this.textModel.getOptions(),o=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,a=!(!o||!o.offSide),f=new Array(t-e+1);let w=-2,z=-1,Y=-2,X=-1;for(let le=e;le<=t;le++){const ke=le-e,Le=this._computeIndentLevel(le-1);if(Le>=0)w=le-1,z=Le,f[ke]=Math.ceil(Le/r.indentSize);else{if(-2===w){w=-1,z=-1;for(let Te=le-2;Te>=0;Te--){const Re=this._computeIndentLevel(Te);if(Re>=0){w=Te,z=Re;break}}}if(-1!==Y&&(-2===Y||Y<le-1)){Y=-1,X=-1;for(let Te=le;Te<i;Te++){const Re=this._computeIndentLevel(Te);if(Re>=0){Y=Te,X=Re;break}}}f[ke]=this._getIndentLevelForWhitespaceLine(a,z,X)}}return f}_getIndentLevelForWhitespaceLine(e,t,i){const r=this.textModel.getOptions();return-1===t||-1===i?0:t<i?1+Math.floor(t/r.indentSize):t===i||e?Math.ceil(i/r.indentSize):1+Math.floor(i/r.indentSize)}}class Fr{constructor(){this.activeClassName="indent-active"}getInlineClassName(e,t,i){return this.getInlineClassNameOfLevel(i?t:e)}getInlineClassNameOfLevel(e){return"bracket-indent-guide lvl-"+e%30}}class Pr{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function Wr(u,e,t,i,r){let o;for(r.spacesDiff=0,r.looksLikeAlignment=!1,o=0;o<e&&o<i&&u.charCodeAt(o)===t.charCodeAt(o);o++);let a=0,f=0;for(let le=o;le<e;le++)32===u.charCodeAt(le)?a++:f++;let w=0,z=0;for(let le=o;le<i;le++)32===t.charCodeAt(le)?w++:z++;if(a>0&&f>0||w>0&&z>0)return;const Y=Math.abs(f-z),X=Math.abs(a-w);if(0===Y)return r.spacesDiff=X,void(X>0&&0<=w-1&&w-1<u.length&&w<t.length&&32!==t.charCodeAt(w)&&32===u.charCodeAt(w-1)&&44===u.charCodeAt(u.length-1)&&(r.looksLikeAlignment=!0));X%Y!=0||(r.spacesDiff=X/Y)}function rr(u,e,t){const i=Math.min(u.getLineCount(),1e4);let r=0,o=0,a="",f=0;const w=[2,4,6,8,3,5,7],Y=[0,0,0,0,0,0,0,0,0],X=new Pr;for(let Le=1;Le<=i;Le++){const Te=u.getLineLength(Le),Re=u.getLineContent(Le),je=Te<=65536;let Ze=!1,it=0,pt=0,Wt=0;for(let It=0,wt=Te;It<wt;It++){const St=je?Re.charCodeAt(It):u.getLineCharCode(Le,It);if(9===St)Wt++;else{if(32!==St){Ze=!0,it=It;break}pt++}}if(!Ze||(Wt>0?r++:pt>1&&o++,Wr(a,f,Re,it,X),X.looksLikeAlignment&&(!t||e!==X.spacesDiff)))continue;const Ht=X.spacesDiff;Ht<=8&&Y[Ht]++,a=Re,f=it}let le=t;r!==o&&(le=r<o);let ke=e;if(le){let Le=le?0:.1*i;w.forEach(Te=>{const Re=Y[Te];Re>Le&&(Le=Re,ke=Te)}),4===ke&&Y[4]>0&&Y[2]>0&&Y[2]>=Y[4]/2&&(ke=2)}return{insertSpaces:le,tabSize:ke}}function rn(u){return(1&u.metadata)>>>0}function Tt(u,e){u.metadata=254&u.metadata|e}function qt(u){return(2&u.metadata)>>>1==1}function yt(u,e){u.metadata=253&u.metadata|(e?1:0)<<1}function sr(u){return(4&u.metadata)>>>2==1}function or(u,e){u.metadata=251&u.metadata|(e?1:0)<<2}function si(u){return(64&u.metadata)>>>6==1}function ar(u,e){u.metadata=191&u.metadata|(e?1:0)<<6}function Fi(u,e){u.metadata=231&u.metadata|e<<3}function ur(u,e){u.metadata=223&u.metadata|(e?1:0)<<5}class Gn{constructor(e,t,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,Tt(this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,or(this,!1),ar(this,!1),Fi(this,1),ur(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,yt(this,!1)}reset(e,t,i,r){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=r}setOptions(e){this.options=e;const t=this.options.className;or(this,"squiggly-error"===t||"squiggly-warning"===t||"squiggly-info"===t),ar(this,null!==this.options.glyphMarginClassName),Fi(this,this.options.stickiness),ur(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const at=new Gn(null,0,0);at.parent=at,at.left=at,at.right=at,Tt(at,0);class Pi{constructor(){this.root=at,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,r,o,a){return this.root===at?[]:function Gr(u,e,t,i,r,o,a){let f=u.root,w=0,z=0,Y=0,X=0;const le=[];let ke=0;for(;f!==at;)if(qt(f))yt(f.left,!1),yt(f.right,!1),f===f.parent.right&&(w-=f.parent.delta),f=f.parent;else{if(!qt(f.left)){if(z=w+f.maxEnd,z<e){yt(f,!0);continue}if(f.left!==at){f=f.left;continue}}if(Y=w+f.start,Y>t)yt(f,!0);else{if(X=w+f.end,X>=e){f.setCachedOffsets(Y,X,o);let Le=!0;i&&f.ownerId&&f.ownerId!==i&&(Le=!1),r&&sr(f)&&(Le=!1),a&&!si(f)&&(Le=!1),Le&&(le[ke++]=f)}yt(f,!0),f.right===at||qt(f.right)||(w+=f.delta,f=f.right)}}return yt(u.root,!1),le}(this,e,t,i,r,o,a)}search(e,t,i,r){return this.root===at?[]:function $r(u,e,t,i,r){let o=u.root,a=0,f=0,w=0;const z=[];let Y=0;for(;o!==at;){if(qt(o)){yt(o.left,!1),yt(o.right,!1),o===o.parent.right&&(a-=o.parent.delta),o=o.parent;continue}if(o.left!==at&&!qt(o.left)){o=o.left;continue}f=a+o.start,w=a+o.end,o.setCachedOffsets(f,w,i);let X=!0;e&&o.ownerId&&o.ownerId!==e&&(X=!1),t&&sr(o)&&(X=!1),r&&!si(o)&&(X=!1),X&&(z[Y++]=o),yt(o,!0),o.right===at||qt(o.right)||(a+=o.delta,o=o.right)}return yt(u.root,!1),z}(this,e,t,i,r)}collectNodesFromOwner(e){return function Hr(u,e){let t=u.root;const i=[];let r=0;for(;t!==at;)qt(t)?(yt(t.left,!1),yt(t.right,!1),t=t.parent):t.left===at||qt(t.left)?(t.ownerId===e&&(i[r++]=t),yt(t,!0),t.right===at||qt(t.right)||(t=t.right)):t=t.left;return yt(u.root,!1),i}(this,e)}collectNodesPostOrder(){return function jr(u){let e=u.root;const t=[];let i=0;for(;e!==at;)qt(e)?(yt(e.left,!1),yt(e.right,!1),e=e.parent):e.left===at||qt(e.left)?e.right===at||qt(e.right)?(t[i++]=e,yt(e,!0)):e=e.right:e=e.left;return yt(u.root,!1),t}(this)}insert(e){cr(this,e),this._normalizeDeltaIfNecessary()}delete(e){hr(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const i=e;let r=0;for(;e!==this.root;)e===e.parent.right&&(r+=e.parent.delta),e=e.parent;i.setCachedOffsets(i.start+r,i.end+r,t)}acceptReplace(e,t,i,r){const o=function oi(u,e,t){let i=u.root,r=0,o=0,a=0,f=0;const w=[];let z=0;for(;i!==at;)if(qt(i))yt(i.left,!1),yt(i.right,!1),i===i.parent.right&&(r-=i.parent.delta),i=i.parent;else{if(!qt(i.left)){if(o=r+i.maxEnd,o<e){yt(i,!0);continue}if(i.left!==at){i=i.left;continue}}a=r+i.start,a>t?yt(i,!0):(f=r+i.end,f>=e&&(i.setCachedOffsets(a,f,0),w[z++]=i),yt(i,!0),i.right===at||qt(i.right)||(r+=i.delta,i=i.right))}return yt(u.root,!1),w}(this,e,e+t);for(let a=0,f=o.length;a<f;a++)hr(this,o[a]);this._normalizeDeltaIfNecessary(),function Vr(u,e,t,i){let r=u.root,o=0,a=0,f=0;const w=i-(t-e);for(;r!==at;)if(qt(r))yt(r.left,!1),yt(r.right,!1),r===r.parent.right&&(o-=r.parent.delta),Rn(r),r=r.parent;else{if(!qt(r.left)){if(a=o+r.maxEnd,a<e){yt(r,!0);continue}if(r.left!==at){r=r.left;continue}}f=o+r.start,f>t?(r.start+=w,r.end+=w,r.delta+=w,(r.delta<-1073741824||r.delta>1073741824)&&(u.requestNormalizeDelta=!0),yt(r,!0)):(yt(r,!0),r.right===at||qt(r.right)||(o+=r.delta,r=r.right))}yt(u.root,!1)}(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let a=0,f=o.length;a<f;a++){const w=o[a];w.start=w.cachedAbsoluteStart,w.end=w.cachedAbsoluteEnd,Ur(w,e,e+t,i,r),w.maxEnd=w.end,cr(this,w)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function zr(u){let e=u.root,t=0;for(;e!==at;)e.left===at||qt(e.left)?e.right===at||qt(e.right)?(e.start=t+e.start,e.end=t+e.end,e.delta=0,Rn(e),yt(e,!0),yt(e.left,!1),yt(e.right,!1),e===e.parent.right&&(t-=e.parent.delta),e=e.parent):(t+=e.delta,e=e.right):e=e.left;yt(u.root,!1)}(this))}}function Bn(u,e,t,i){return u<t||!(u>t||1===i)&&(2===i||e)}function Ur(u,e,t,i,r){const o=function Oi(u){return(24&u.metadata)>>>3}(u),a=0===o||2===o,f=1===o||2===o,w=t-e,z=i,Y=Math.min(w,z),X=u.start;let le=!1;const ke=u.end;let Le=!1;e<=X&&ke<=t&&function lr(u){return(32&u.metadata)>>>5==1}(u)&&(u.start=e,le=!0,u.end=e,Le=!0);{const Re=r?1:w>0?2:0;!le&&Bn(X,a,e,Re)&&(le=!0),!Le&&Bn(ke,f,e,Re)&&(Le=!0)}if(Y>0&&!r){const Re=w>z?2:0;!le&&Bn(X,a,e+Y,Re)&&(le=!0),!Le&&Bn(ke,f,e+Y,Re)&&(Le=!0)}{const Re=r?1:0;!le&&Bn(X,a,t,Re)&&(u.start=e+z,le=!0),!Le&&Bn(ke,f,t,Re)&&(u.end=e+z,Le=!0)}const Te=z-w;le||(u.start=Math.max(0,X+Te)),Le||(u.end=Math.max(0,ke+Te)),u.start>u.end&&(u.end=u.start)}function cr(u,e){if(u.root===at)return e.parent=at,e.left=at,e.right=at,Tt(e,0),u.root=e,u.root;(function Qr(u,e){let t=0,i=u.root;const r=e.start,o=e.end;for(;;)if(Kr(r,o,i.start+t,i.end+t)<0){if(i.left===at){e.start-=t,e.end-=t,e.maxEnd-=t,i.left=e;break}i=i.left}else{if(i.right===at){e.start-=t+i.delta,e.end-=t+i.delta,e.maxEnd-=t+i.delta,i.right=e;break}t+=i.delta,i=i.right}e.parent=i,e.left=at,e.right=at,Tt(e,1)})(u,e),Mn(e.parent);let t=e;for(;t!==u.root&&1===rn(t.parent);)if(t.parent===t.parent.parent.left){const i=t.parent.parent.right;1===rn(i)?(Tt(t.parent,0),Tt(i,0),Tt(t.parent.parent,1),t=t.parent.parent):(t===t.parent.right&&(t=t.parent,ai(u,t)),Tt(t.parent,0),Tt(t.parent.parent,1),li(u,t.parent.parent))}else{const i=t.parent.parent.left;1===rn(i)?(Tt(t.parent,0),Tt(i,0),Tt(t.parent.parent,1),t=t.parent.parent):(t===t.parent.left&&(t=t.parent,li(u,t)),Tt(t.parent,0),Tt(t.parent.parent,1),ai(u,t.parent.parent))}return Tt(u.root,0),e}function hr(u,e){let t,i;if(e.left===at?(t=e.right,i=e,t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(u.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta):e.right===at?(t=e.left,i=e):(i=function qr(u){for(;u.left!==at;)u=u.left;return u}(e.right),t=i.right,t.start+=i.delta,t.end+=i.delta,t.delta+=i.delta,(t.delta<-1073741824||t.delta>1073741824)&&(u.requestNormalizeDelta=!0),i.start+=e.delta,i.end+=e.delta,i.delta=e.delta,(i.delta<-1073741824||i.delta>1073741824)&&(u.requestNormalizeDelta=!0)),i===u.root)return u.root=t,Tt(t,0),e.detach(),Wi(),Rn(t),void(u.root.parent=at);const r=1===rn(i);if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?t.parent=i.parent:(t.parent=i.parent===e?i:i.parent,i.left=e.left,i.right=e.right,i.parent=e.parent,Tt(i,rn(e)),e===u.root?u.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==at&&(i.left.parent=i),i.right!==at&&(i.right.parent=i)),e.detach(),r)return Mn(t.parent),i!==e&&(Mn(i),Mn(i.parent)),void Wi();let o;for(Mn(t),Mn(t.parent),i!==e&&(Mn(i),Mn(i.parent));t!==u.root&&0===rn(t);)t===t.parent.left?(o=t.parent.right,1===rn(o)&&(Tt(o,0),Tt(t.parent,1),ai(u,t.parent),o=t.parent.right),0===rn(o.left)&&0===rn(o.right)?(Tt(o,1),t=t.parent):(0===rn(o.right)&&(Tt(o.left,0),Tt(o,1),li(u,o),o=t.parent.right),Tt(o,rn(t.parent)),Tt(t.parent,0),Tt(o.right,0),ai(u,t.parent),t=u.root)):(o=t.parent.left,1===rn(o)&&(Tt(o,0),Tt(t.parent,1),li(u,t.parent),o=t.parent.left),0===rn(o.left)&&0===rn(o.right)?(Tt(o,1),t=t.parent):(0===rn(o.left)&&(Tt(o.right,0),Tt(o,1),ai(u,o),o=t.parent.left),Tt(o,rn(t.parent)),Tt(t.parent,0),Tt(o.left,0),li(u,t.parent),t=u.root));Tt(t,0),Wi()}function Wi(){at.parent=at,at.delta=0,at.start=0,at.end=0}function ai(u,e){const t=e.right;t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(u.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta,e.right=t.left,t.left!==at&&(t.left.parent=e),t.parent=e.parent,e.parent===at?u.root=t:e===e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,Rn(e),Rn(t)}function li(u,e){const t=e.left;e.delta-=t.delta,(e.delta<-1073741824||e.delta>1073741824)&&(u.requestNormalizeDelta=!0),e.start-=t.delta,e.end-=t.delta,e.left=t.right,t.right!==at&&(t.right.parent=e),t.parent=e.parent,e.parent===at?u.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,Rn(e),Rn(t)}function dr(u){let e=u.end;if(u.left!==at){const t=u.left.maxEnd;t>e&&(e=t)}if(u.right!==at){const t=u.right.maxEnd+u.delta;t>e&&(e=t)}return e}function Rn(u){u.maxEnd=dr(u)}function Mn(u){for(;u!==at;){const e=dr(u);if(u.maxEnd===e)return;u.maxEnd=e,u=u.parent}}function Kr(u,e,t,i){return u===t?e-i:u-t}class zi{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==tt)return Ui(this.right);let e=this;for(;e.parent!==tt&&e.parent.left!==e;)e=e.parent;return e.parent===tt?tt:e.parent}prev(){if(this.left!==tt)return Un(this.left);let e=this;for(;e.parent!==tt&&e.parent.right!==e;)e=e.parent;return e.parent===tt?tt:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const tt=new zi(null,0);function Ui(u){for(;u.left!==tt;)u=u.left;return u}function Un(u){for(;u.right!==tt;)u=u.right;return u}function Qn(u){return u===tt?0:u.size_left+u.piece.length+Qn(u.right)}function Li(u){return u===tt?0:u.lf_left+u.piece.lineFeedCnt+Li(u.right)}function Vi(){tt.parent=tt}function ui(u,e){const t=e.right;t.size_left+=e.size_left+(e.piece?e.piece.length:0),t.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=t.left,t.left!==tt&&(t.left.parent=e),t.parent=e.parent,e.parent===tt?u.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}function ci(u,e){const t=e.left;e.left=t.right,t.right!==tt&&(t.right.parent=e),t.parent=e.parent,e.size_left-=t.size_left+(t.piece?t.piece.length:0),e.lf_left-=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),e.parent===tt?u.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}function xi(u,e){let t,i;if(e.left===tt?(i=e,t=i.right):e.right===tt?(i=e,t=i.left):(i=Ui(e.right),t=i.right),i===u.root)return u.root=t,t.color=0,e.detach(),Vi(),void(u.root.parent=tt);const r=1===i.color;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?(t.parent=i.parent,hi(u,t)):(t.parent=i.parent===e?i:i.parent,hi(u,t),i.left=e.left,i.right=e.right,i.parent=e.parent,i.color=e.color,e===u.root?u.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==tt&&(i.left.parent=i),i.right!==tt&&(i.right.parent=i),i.size_left=e.size_left,i.lf_left=e.lf_left,hi(u,i)),e.detach(),t.parent.left===t){const a=Qn(t),f=Li(t);if(a!==t.parent.size_left||f!==t.parent.lf_left){const w=a-t.parent.size_left,z=f-t.parent.lf_left;t.parent.size_left=a,t.parent.lf_left=f,In(u,t.parent,w,z)}}if(hi(u,t.parent),r)return void Vi();let o;for(;t!==u.root&&0===t.color;)t===t.parent.left?(o=t.parent.right,1===o.color&&(o.color=0,t.parent.color=1,ui(u,t.parent),o=t.parent.right),0===o.left.color&&0===o.right.color?(o.color=1,t=t.parent):(0===o.right.color&&(o.left.color=0,o.color=1,ci(u,o),o=t.parent.right),o.color=t.parent.color,t.parent.color=0,o.right.color=0,ui(u,t.parent),t=u.root)):(o=t.parent.left,1===o.color&&(o.color=0,t.parent.color=1,ci(u,t.parent),o=t.parent.left),0===o.left.color&&0===o.right.color?(o.color=1,t=t.parent):(0===o.left.color&&(o.right.color=0,o.color=1,ui(u,o),o=t.parent.left),o.color=t.parent.color,t.parent.color=0,o.left.color=0,ci(u,t.parent),t=u.root));t.color=0,Vi()}function fr(u,e){for(hi(u,e);e!==u.root&&1===e.parent.color;)if(e.parent===e.parent.parent.left){const t=e.parent.parent.right;1===t.color?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&ui(u,e=e.parent),e.parent.color=0,e.parent.parent.color=1,ci(u,e.parent.parent))}else{const t=e.parent.parent.left;1===t.color?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&ci(u,e=e.parent),e.parent.color=0,e.parent.parent.color=1,ui(u,e.parent.parent))}u.root.color=0}function In(u,e,t,i){for(;e!==u.root&&e!==tt;)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}function hi(u,e){let t=0,i=0;if(e!==u.root){for(;e!==u.root&&e===e.parent.right;)e=e.parent;if(e!==u.root)for(t=Qn((e=e.parent).left)-e.size_left,i=Li(e.left)-e.lf_left,e.size_left+=t,e.lf_left+=i;e!==u.root&&(0!==t||0!==i);)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}}tt.parent=tt,tt.left=tt,tt.right=tt,tt.color=0;var ln=x(9966);const An=65535;function qn(u){let e;return e=u[u.length-1]<65536?new Uint16Array(u.length):new Uint32Array(u.length),e.set(u,0),e}class Yr{constructor(e,t,i,r,o){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=r,this.isBasicASCII=o}}function Tn(u,e=!0){const t=[0];let i=1;for(let r=0,o=u.length;r<o;r++){const a=u.charCodeAt(r);13===a?r+1<o&&10===u.charCodeAt(r+1)?(t[i++]=r+2,r++):t[i++]=r+1:10===a&&(t[i++]=r+1)}return e?qn(t):t}class on{constructor(e,t,i,r,o){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=r,this.length=o}}class Vn{constructor(e,t){this.buffer=e,this.lineStarts=t}}class Zr{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==tt&&e.iterate(e.root,i=>(i!==tt&&this._pieces.push(i.piece),!0))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class Jr{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1;const i=this._cache;for(let r=0;r<i.length;r++){const o=i[r];(null===o.node.parent||o.nodeStartOffset>=e)&&(i[r]=null,t=!0)}if(t){const r=[];for(const o of i)null!==o&&r.push(o);this._cache=r}}}class es{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new Vn("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=tt,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let r=null;for(let o=0,a=e.length;o<a;o++)if(e[o].buffer.length>0){e[o].lineStarts||(e[o].lineStarts=Tn(e[o].buffer));const f=new on(o+1,{line:0,column:0},{line:e[o].lineStarts.length-1,column:e[o].buffer.length-e[o].lineStarts[e[o].lineStarts.length-1]},e[o].lineStarts.length-1,e[o].buffer.length);this._buffers.push(e[o]),r=this.rbInsertRight(r,f)}this._searchCache=new Jr(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){const i=An-Math.floor(An/3),r=2*i;let o="",a=0;const f=[];if(this.iterate(this.root,w=>{const z=this.getNodeContent(w),Y=z.length;if(a<=i||a+Y<r)return o+=z,a+=Y,!0;const X=o.replace(/\r\n|\r|\n/g,e);return f.push(new Vn(X,Tn(X))),o=z,a=Y,!0}),a>0){const w=o.replace(/\r\n|\r|\n/g,e);f.push(new Vn(w,Tn(w)))}this.create(f,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new Zr(this,e)}getOffsetAt(e,t){let i=0,r=this.root;for(;r!==tt;)if(r.left!==tt&&r.lf_left+1>=e)r=r.left;else{if(r.lf_left+r.piece.lineFeedCnt+1>=e)return i+=r.size_left,i+(this.getAccumulatedValue(r,e-r.lf_left-2)+t-1);e-=r.lf_left+r.piece.lineFeedCnt,i+=r.size_left+r.piece.length,r=r.right}return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0;const r=e;for(;t!==tt;)if(0!==t.size_left&&t.size_left>=e)t=t.left;else{if(t.size_left+t.piece.length>=e){const o=this.getIndexOf(t,e-t.size_left);if(i+=t.lf_left+o.index,0===o.index){const a=this.getOffsetAt(i+1,1);return new _.y(i+1,r-a+1)}return new _.y(i+1,o.remainder+1)}if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===tt){const o=this.getOffsetAt(i+1,1);return new _.y(i+1,r-e-o+1)}t=t.right}return new _.y(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";const i=this.nodeAt2(e.startLineNumber,e.startColumn),r=this.nodeAt2(e.endLineNumber,e.endColumn),o=this.getValueInRange2(i,r);return t?t===this._EOL&&this._EOLNormalized&&t===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,t):o}getValueInRange2(e,t){if(e.node===t.node){const f=e.node,w=this._buffers[f.piece.bufferIndex].buffer,z=this.offsetInBuffer(f.piece.bufferIndex,f.piece.start);return w.substring(z+e.remainder,z+t.remainder)}let i=e.node;const r=this._buffers[i.piece.bufferIndex].buffer,o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);let a=r.substring(o+e.remainder,o+i.piece.length);for(i=i.next();i!==tt;){const f=this._buffers[i.piece.bufferIndex].buffer,w=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===t.node){a+=f.substring(w,w+t.remainder);break}a+=f.substr(w,i.piece.length),i=i.next()}return a}getLinesContent(){const e=[];let t=0,i="",r=!1;return this.iterate(this.root,o=>{if(o===tt)return!0;const a=o.piece;let f=a.length;if(0===f)return!0;const w=this._buffers[a.bufferIndex].buffer,z=this._buffers[a.bufferIndex].lineStarts,Y=a.start.line,X=a.end.line;let le=z[Y]+a.start.column;if(r&&(10===w.charCodeAt(le)&&(le++,f--),e[t++]=i,i="",r=!1,0===f))return!0;if(Y===X)return this._EOLNormalized||13!==w.charCodeAt(le+f-1)?i+=w.substr(le,f):(r=!0,i+=w.substr(le,f-1)),!0;i+=this._EOLNormalized?w.substring(le,Math.max(le,z[Y+1]-this._EOLLength)):w.substring(le,z[Y+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let ke=Y+1;ke<X;ke++)i=this._EOLNormalized?w.substring(z[ke],z[ke+1]-this._EOLLength):w.substring(z[ke],z[ke+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return this._EOLNormalized||13!==w.charCodeAt(z[X]+a.end.column-1)?i=w.substr(z[X],a.end.column):(r=!0,0===a.end.column?t--:i=w.substr(z[X],a.end.column-1)),!0}),r&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e||(this._lastVisitedLine.lineNumber=e,this._lastVisitedLine.value=e===this._lineCnt?this.getLineRawContent(e):this._EOLNormalized?this.getLineRawContent(e,this._EOLLength):this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(e){if(e.remainder===e.node.piece.length){const t=e.node.next();if(!t)return 0;const i=this._buffers[t.piece.bufferIndex],r=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return i.buffer.charCodeAt(r)}{const t=this._buffers[e.node.piece.bufferIndex],r=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(r)}}getLineCharCode(e,t){const i=this.nodeAt2(e,t+1);return this._getCharCode(i)}getLineLength(e){if(e===this.getLineCount()){const t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,i,r,o,a,f,w,z,Y,X){const le=this._buffers[e.piece.bufferIndex],ke=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),Le=this.offsetInBuffer(e.piece.bufferIndex,o),Te=this.offsetInBuffer(e.piece.bufferIndex,a);let Re;const je={line:0,column:0};let Ze,it;t._wordSeparators?(Ze=le.buffer.substring(Le,Te),it=pt=>pt+Le,t.reset(0)):(Ze=le.buffer,it=pt=>pt,t.reset(Le));do{if(Re=t.next(Ze),Re){if(it(Re.index)>=Te)return Y;this.positionInBuffer(e,it(Re.index)-ke,je);const pt=this.getLineFeedCnt(e.piece.bufferIndex,o,je),Wt=je.line===o.line?je.column-o.column+r:je.column+1;if(X[Y++]=(0,ln.dr)(new y.Q(i+pt,Wt,i+pt,Wt+Re[0].length),Re,w),it(Re.index)+Re[0].length>=Te||Y>=z)return Y}}while(Re);return Y}findMatchesLineByLine(e,t,i,r){const o=[];let a=0;const f=new ln.W5(t.wordSeparators,t.regex);let w=this.nodeAt2(e.startLineNumber,e.startColumn);if(null===w)return[];const z=this.nodeAt2(e.endLineNumber,e.endColumn);if(null===z)return[];let Y=this.positionInBuffer(w.node,w.remainder);const X=this.positionInBuffer(z.node,z.remainder);if(w.node===z.node)return this.findMatchesInNode(w.node,f,e.startLineNumber,e.startColumn,Y,X,t,i,r,a,o),o;let le=e.startLineNumber,ke=w.node;for(;ke!==z.node;){const Te=this.getLineFeedCnt(ke.piece.bufferIndex,Y,ke.piece.end);if(Te>=1){const je=this._buffers[ke.piece.bufferIndex].lineStarts,Ze=this.offsetInBuffer(ke.piece.bufferIndex,ke.piece.start);if(a=this.findMatchesInNode(ke,f,le,le===e.startLineNumber?e.startColumn:1,Y,this.positionInBuffer(ke,je[Y.line+Te]-Ze),t,i,r,a,o),a>=r)return o;le+=Te}const Re=le===e.startLineNumber?e.startColumn-1:0;if(le===e.endLineNumber){const je=this.getLineContent(le).substring(Re,e.endColumn-1);return a=this._findMatchesInLine(t,f,je,e.endLineNumber,Re,a,o,i,r),o}if(a=this._findMatchesInLine(t,f,this.getLineContent(le).substr(Re),le,Re,a,o,i,r),a>=r)return o;le++,w=this.nodeAt2(le,1),ke=w.node,Y=this.positionInBuffer(w.node,w.remainder)}if(le===e.endLineNumber){const Te=le===e.startLineNumber?e.startColumn-1:0,Re=this.getLineContent(le).substring(Te,e.endColumn-1);return a=this._findMatchesInLine(t,f,Re,e.endLineNumber,Te,a,o,i,r),o}return a=this.findMatchesInNode(z.node,f,le,le===e.startLineNumber?e.startColumn:1,Y,X,t,i,r,a,o),o}_findMatchesInLine(e,t,i,r,o,a,f,w,z){const Y=e.wordSeparators;if(!w&&e.simpleSearch){const le=e.simpleSearch,ke=le.length,Le=i.length;let Te=-ke;for(;-1!==(Te=i.indexOf(le,Te+ke));)if((!Y||(0,ln.wC)(Y,i,Le,Te,ke))&&(f[a++]=new Zt.Dg(new y.Q(r,Te+1+o,r,Te+1+ke+o),null),a>=z))return a;return a}let X;t.reset(0);do{if(X=t.next(i),X&&(f[a++]=(0,ln.dr)(new y.Q(r,X.index+1+o,r,X.index+1+X[0].length+o),X,w),a>=z))return a}while(X);return a}insert(e,t,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==tt){const{node:r,remainder:o,nodeStartOffset:a}=this.nodeAt(e),f=r.piece,w=f.bufferIndex,z=this.positionInBuffer(r,o);if(0===r.piece.bufferIndex&&f.end.line===this._lastChangeBufferPos.line&&f.end.column===this._lastChangeBufferPos.column&&a+f.length===e&&t.length<An)return this.appendToNode(r,t),void this.computeBufferMetadata();if(a===e)this.insertContentToNodeLeft(t,r),this._searchCache.validate(e);else if(a+r.piece.length>e){const Y=[];let X=new on(f.bufferIndex,z,f.end,this.getLineFeedCnt(f.bufferIndex,z,f.end),this.offsetInBuffer(w,f.end)-this.offsetInBuffer(w,z));if(this.shouldCheckCRLF()&&this.endWithCR(t)&&10===this.nodeCharCodeAt(r,o)){const Te={line:X.start.line+1,column:0};X=new on(X.bufferIndex,Te,X.end,this.getLineFeedCnt(X.bufferIndex,Te,X.end),X.length-1),t+="\n"}if(this.shouldCheckCRLF()&&this.startWithLF(t))if(13===this.nodeCharCodeAt(r,o-1)){const Te=this.positionInBuffer(r,o-1);this.deleteNodeTail(r,Te),t="\r"+t,0===r.piece.length&&Y.push(r)}else this.deleteNodeTail(r,z);else this.deleteNodeTail(r,z);const le=this.createNewPieces(t);X.length>0&&this.rbInsertRight(r,X);let ke=r;for(let Le=0;Le<le.length;Le++)ke=this.rbInsertRight(ke,le[Le]);this.deleteNodes(Y)}else this.insertContentToNodeRight(t,r)}else{const r=this.createNewPieces(t);let o=this.rbInsertLeft(null,r[0]);for(let a=1;a<r.length;a++)o=this.rbInsertRight(o,r[a])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===tt)return;const i=this.nodeAt(e),r=this.nodeAt(e+t),o=i.node,a=r.node;if(o===a){const le=this.positionInBuffer(o,i.remainder),ke=this.positionInBuffer(o,r.remainder);if(i.nodeStartOffset===e){if(t===o.piece.length){const Le=o.next();return xi(this,o),this.validateCRLFWithPrevNode(Le),void this.computeBufferMetadata()}return this.deleteNodeHead(o,ke),this._searchCache.validate(e),this.validateCRLFWithPrevNode(o),void this.computeBufferMetadata()}return i.nodeStartOffset+o.piece.length===e+t?(this.deleteNodeTail(o,le),this.validateCRLFWithNextNode(o),void this.computeBufferMetadata()):(this.shrinkNode(o,le,ke),void this.computeBufferMetadata())}const f=[],w=this.positionInBuffer(o,i.remainder);this.deleteNodeTail(o,w),this._searchCache.validate(e),0===o.piece.length&&f.push(o);const z=this.positionInBuffer(a,r.remainder);this.deleteNodeHead(a,z),0===a.piece.length&&f.push(a);for(let le=o.next();le!==tt&&le!==a;le=le.next())f.push(le);const X=0===o.piece.length?o.prev():o;this.deleteNodes(f),this.validateCRLFWithNextNode(X),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){const i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){const a=t.piece,f={line:a.start.line+1,column:0},w=new on(a.bufferIndex,f,a.end,this.getLineFeedCnt(a.bufferIndex,f,a.end),a.length-1);t.piece=w,e+="\n",In(this,t,-1,-1),0===t.piece.length&&i.push(t)}const r=this.createNewPieces(e);let o=this.rbInsertLeft(t,r[r.length-1]);for(let a=r.length-2;a>=0;a--)o=this.rbInsertLeft(o,r[a]);this.validateCRLFWithPrevNode(o),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+="\n");const i=this.createNewPieces(e),r=this.rbInsertRight(t,i[0]);let o=r;for(let a=1;a<i.length;a++)o=this.rbInsertRight(o,i[a]);this.validateCRLFWithPrevNode(r)}positionInBuffer(e,t,i){const r=e.piece,a=this._buffers[e.piece.bufferIndex].lineStarts,w=a[r.start.line]+r.start.column+t;let z=r.start.line,Y=r.end.line,X=0,le=0,ke=0;for(;z<=Y&&(X=z+(Y-z)/2|0,ke=a[X],X!==Y);)if(le=a[X+1],w<ke)Y=X-1;else{if(!(w>=le))break;z=X+1}return i?(i.line=X,i.column=w-ke,null):{line:X,column:w-ke}}getLineFeedCnt(e,t,i){if(0===i.column)return i.line-t.line;const r=this._buffers[e].lineStarts;if(i.line===r.length-1)return i.line-t.line;const a=r[i.line]+i.column;return r[i.line+1]>a+1?i.line-t.line:13===this._buffers[e].buffer.charCodeAt(a-1)?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)xi(this,e[t])}createNewPieces(e){if(e.length>An){const Y=[];for(;e.length>An;){const le=e.charCodeAt(An-1);let ke;13===le||le>=55296&&le<=56319?(ke=e.substring(0,An-1),e=e.substring(An-1)):(ke=e.substring(0,An),e=e.substring(An));const Le=Tn(ke);Y.push(new on(this._buffers.length,{line:0,column:0},{line:Le.length-1,column:ke.length-Le[Le.length-1]},Le.length-1,ke.length)),this._buffers.push(new Vn(ke,Le))}const X=Tn(e);return Y.push(new on(this._buffers.length,{line:0,column:0},{line:X.length-1,column:e.length-X[X.length-1]},X.length-1,e.length)),this._buffers.push(new Vn(e,X)),Y}let t=this._buffers[0].buffer.length;const i=Tn(e,!1);let r=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&0!==t&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},r=this._lastChangeBufferPos;for(let Y=0;Y<i.length;Y++)i[Y]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(0!==t)for(let Y=0;Y<i.length;Y++)i[Y]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=e}const o=this._buffers[0].buffer.length,a=this._buffers[0].lineStarts.length-1,w={line:a,column:o-this._buffers[0].lineStarts[a]},z=new on(0,r,w,this.getLineFeedCnt(0,r,w),o-t);return this._lastChangeBufferPos=w,[z]}getLineRawContent(e,t=0){let i=this.root,r="";const o=this._searchCache.get2(e);if(o){i=o.node;const a=this.getAccumulatedValue(i,e-o.nodeStartLineNumber-1),f=this._buffers[i.piece.bufferIndex].buffer,w=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(o.nodeStartLineNumber+i.piece.lineFeedCnt!==e){const z=this.getAccumulatedValue(i,e-o.nodeStartLineNumber);return f.substring(w+a,w+z-t)}r=f.substring(w+a,w+i.piece.length)}else{let a=0;const f=e;for(;i!==tt;)if(i.left!==tt&&i.lf_left>=e-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>e-1){const w=this.getAccumulatedValue(i,e-i.lf_left-2),z=this.getAccumulatedValue(i,e-i.lf_left-1),Y=this._buffers[i.piece.bufferIndex].buffer,X=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return a+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:a,nodeStartLineNumber:f-(e-1-i.lf_left)}),Y.substring(X+w,X+z-t)}if(i.lf_left+i.piece.lineFeedCnt===e-1){const w=this.getAccumulatedValue(i,e-i.lf_left-2),z=this._buffers[i.piece.bufferIndex].buffer,Y=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);r=z.substring(Y+w,Y+i.piece.length);break}e-=i.lf_left+i.piece.lineFeedCnt,a+=i.size_left+i.piece.length,i=i.right}}for(i=i.next();i!==tt;){const a=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){const f=this.getAccumulatedValue(i,0),w=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return r+=a.substring(w,w+f-t),r}{const f=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);r+=a.substr(f,i.piece.length)}i=i.next()}return r}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==tt;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){const i=e.piece,r=this.positionInBuffer(e,t),o=r.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){const a=this.getLineFeedCnt(e.piece.bufferIndex,i.start,r);if(a!==o)return{index:a,remainder:0}}return{index:o,remainder:r.column}}getAccumulatedValue(e,t){if(t<0)return 0;const i=e.piece,r=this._buffers[i.bufferIndex].lineStarts,o=i.start.line+t+1;return o>i.end.line?r[i.end.line]+i.end.column-r[i.start.line]-i.start.column:r[o]-r[i.start.line]-i.start.column}deleteNodeTail(e,t){const i=e.piece,r=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.end),a=t,f=this.offsetInBuffer(i.bufferIndex,a),w=this.getLineFeedCnt(i.bufferIndex,i.start,a),z=w-r,Y=f-o;e.piece=new on(i.bufferIndex,i.start,a,w,i.length+Y),In(this,e,Y,z)}deleteNodeHead(e,t){const i=e.piece,r=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.start),a=t,f=this.getLineFeedCnt(i.bufferIndex,a,i.end),z=f-r,Y=o-this.offsetInBuffer(i.bufferIndex,a);e.piece=new on(i.bufferIndex,a,i.end,f,i.length+Y),In(this,e,Y,z)}shrinkNode(e,t,i){const r=e.piece,o=r.start,a=r.end,f=r.length,w=r.lineFeedCnt,z=t,Y=this.getLineFeedCnt(r.bufferIndex,r.start,z),X=this.offsetInBuffer(r.bufferIndex,t)-this.offsetInBuffer(r.bufferIndex,o);e.piece=new on(r.bufferIndex,r.start,z,Y,X),In(this,e,X-f,Y-w);const le=new on(r.bufferIndex,i,a,this.getLineFeedCnt(r.bufferIndex,i,a),this.offsetInBuffer(r.bufferIndex,a)-this.offsetInBuffer(r.bufferIndex,i)),ke=this.rbInsertRight(e,le);this.validateCRLFWithPrevNode(ke)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+="\n");const i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),r=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const o=Tn(t,!1);for(let ke=0;ke<o.length;ke++)o[ke]+=r;if(i){const ke=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:r-ke}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));const a=this._buffers[0].lineStarts.length-1,w={line:a,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[a]},z=e.piece.length+t.length,Y=e.piece.lineFeedCnt,X=this.getLineFeedCnt(0,e.piece.start,w),le=X-Y;e.piece=new on(e.piece.bufferIndex,e.piece.start,w,X,z),this._lastChangeBufferPos=w,In(this,e,t.length,le)}nodeAt(e){let t=this.root;const i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let r=0;for(;t!==tt;)if(t.size_left>e)t=t.left;else{if(t.size_left+t.piece.length>=e){r+=t.size_left;const o={node:t,remainder:e-t.size_left,nodeStartOffset:r};return this._searchCache.set(o),o}e-=t.size_left+t.piece.length,r+=t.size_left+t.piece.length,t=t.right}return null}nodeAt2(e,t){let i=this.root,r=0;for(;i!==tt;)if(i.left!==tt&&i.lf_left>=e-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>e-1){const o=this.getAccumulatedValue(i,e-i.lf_left-2),a=this.getAccumulatedValue(i,e-i.lf_left-1);return r+=i.size_left,{node:i,remainder:Math.min(o+t-1,a),nodeStartOffset:r}}if(i.lf_left+i.piece.lineFeedCnt===e-1){const o=this.getAccumulatedValue(i,e-i.lf_left-2);if(o+t-1<=i.piece.length)return{node:i,remainder:o+t-1,nodeStartOffset:r};t-=i.piece.length-o;break}e-=i.lf_left+i.piece.lineFeedCnt,r+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==tt;){if(i.piece.lineFeedCnt>0){const o=this.getAccumulatedValue(i,0),a=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,o),nodeStartOffset:a}}if(i.piece.length>=t-1)return{node:i,remainder:t-1,nodeStartOffset:this.offsetOfNode(i)};t-=i.piece.length,i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;const i=this._buffers[e.piece.bufferIndex],r=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(r)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(e){if("string"==typeof e)return 10===e.charCodeAt(0);if(e===tt||0===e.piece.lineFeedCnt)return!1;const t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,r=t.start.line,o=i[r]+t.start.column;return!(r===i.length-1||i[r+1]>o+1)&&10===this._buffers[t.bufferIndex].buffer.charCodeAt(o)}endWithCR(e){return"string"==typeof e?13===e.charCodeAt(e.length-1):e!==tt&&0!==e.piece.lineFeedCnt&&13===this.nodeCharCodeAt(e,e.piece.length-1)}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){const t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){const i=[],r=this._buffers[e.piece.bufferIndex].lineStarts;let o;o=0===e.piece.end.column?{line:e.piece.end.line-1,column:r[e.piece.end.line]-r[e.piece.end.line-1]-1}:{line:e.piece.end.line,column:e.piece.end.column-1},e.piece=new on(e.piece.bufferIndex,e.piece.start,o,e.piece.lineFeedCnt-1,e.piece.length-1),In(this,e,-1,-1),0===e.piece.length&&i.push(e);const w={line:t.piece.start.line+1,column:0},z=t.piece.length-1,Y=this.getLineFeedCnt(t.piece.bufferIndex,w,t.piece.end);t.piece=new on(t.piece.bufferIndex,w,t.piece.end,Y,z),In(this,t,-1,-1),0===t.piece.length&&i.push(t);const X=this.createNewPieces("\r\n");this.rbInsertRight(e,X[0]);for(let le=0;le<i.length;le++)xi(this,i[le])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const i=t.next();if(this.startWithLF(i)){if(e+="\n",1===i.piece.length)xi(this,i);else{const r=i.piece,o={line:r.start.line+1,column:0},a=r.length-1,f=this.getLineFeedCnt(r.bufferIndex,o,r.end);i.piece=new on(r.bufferIndex,o,r.end,f,a),In(this,i,-1,-1)}return!0}}return!1}iterate(e,t){return e===tt?t(tt):this.iterate(e.left,t)&&t(e)&&this.iterate(e.right,t)}getNodeContent(e){if(e===tt)return"";const t=this._buffers[e.piece.bufferIndex],i=e.piece,r=this.offsetInBuffer(i.bufferIndex,i.start),o=this.offsetInBuffer(i.bufferIndex,i.end);return t.buffer.substring(r,o)}getPieceContent(e){const t=this._buffers[e.bufferIndex],i=this.offsetInBuffer(e.bufferIndex,e.start),r=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,r)}rbInsertRight(e,t){const i=new zi(t,1);if(i.left=tt,i.right=tt,i.parent=tt,i.size_left=0,i.lf_left=0,this.root===tt)this.root=i,i.color=0;else if(e.right===tt)e.right=i,i.parent=e;else{const o=Ui(e.right);o.left=i,i.parent=o}return fr(this,i),i}rbInsertLeft(e,t){const i=new zi(t,1);if(i.left=tt,i.right=tt,i.parent=tt,i.size_left=0,i.lf_left=0,this.root===tt)this.root=i,i.color=0;else if(e.left===tt)e.left=i,i.parent=e;else{const r=Un(e.left);r.right=i,i.parent=r}return fr(this,i),i}}class Kn extends $.jG{constructor(e,t,i,r,o,a,f){super(),this._onDidChangeContent=this._register(new N.vl),this._BOM=t,this._mightContainNonBasicASCII=!a,this._mightContainRTL=r,this._mightContainUnusualLineTerminators=o,this._pieceTree=new es(e,i,f)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){const i=e+t,r=this.getPositionAt(e),o=this.getPositionAt(i);return new y.Q(r.lineNumber,r.column,o.lineNumber,o.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,i)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;const i=this.getOffsetAt(e.startLineNumber,e.startColumn),r=this.getOffsetAt(e.endLineNumber,e.endColumn);let o=0;const a=this._getEndOfLine(t),f=this.getEOL();return a.length!==f.length&&(o=(a.length-f.length)*(e.endLineNumber-e.startLineNumber)),r-i+o}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let i=0;const r=e.startLineNumber,o=e.endLineNumber;for(let a=r;a<=o;a++){const f=this.getLineContent(a),z=a===o?e.endColumn-1:f.length;for(let Y=a===r?e.startColumn-1:0;Y<z;Y++)l.pc(f.charCodeAt(Y))?(i+=1,Y+=1):i+=1}return i+=this._getEndOfLine(t).length*(o-r),i}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=l.HG(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=l.lT(this.getLineContent(e));return-1===t?0:t+2}_getEndOfLine(e){switch(e){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let r=this._mightContainRTL,o=this._mightContainUnusualLineTerminators,a=this._mightContainNonBasicASCII,f=!0,w=[];for(let Te=0;Te<e.length;Te++){const Re=e[Te];f&&Re._isTracked&&(f=!1);const je=Re.range;if(Re.text){let Ht=!0;a||(Ht=!l.aC(Re.text),a=Ht),!r&&Ht&&(r=l.E_(Re.text)),!o&&Ht&&(o=l.$X(Re.text))}let Ze="",it=0,pt=0,Wt=0;if(Re.text){let Ht;[it,pt,Wt,Ht]=(0,D.W)(Re.text);const It=this.getEOL();Ze=0===Ht||Ht===("\r\n"===It?2:1)?Re.text:Re.text.replace(/\r\n|\r|\n/g,It)}w[Te]={sortIndex:Te,identifier:Re.identifier||null,range:je,rangeOffset:this.getOffsetAt(je.startLineNumber,je.startColumn),rangeLength:this.getValueLengthInRange(je),text:Ze,eolCount:it,firstLineLength:pt,lastLineLength:Wt,forceMoveMarkers:!!Re.forceMoveMarkers,isAutoWhitespaceEdit:Re.isAutoWhitespaceEdit||!1}}w.sort(Kn._sortOpsAscending);let z=!1;for(let Te=0,Re=w.length-1;Te<Re;Te++){const je=w[Te].range.getEndPosition(),Ze=w[Te+1].range.getStartPosition();if(Ze.isBeforeOrEqual(je)){if(Ze.isBefore(je))throw new Error("Overlapping ranges are not allowed!");z=!0}}f&&(w=this._reduceOperations(w));const Y=i||t?Kn._getInverseEditRanges(w):[],X=[];if(t)for(let Te=0;Te<w.length;Te++){const Re=w[Te],je=Y[Te];if(Re.isAutoWhitespaceEdit&&Re.range.isEmpty())for(let Ze=je.startLineNumber;Ze<=je.endLineNumber;Ze++){let it="";Ze===je.startLineNumber&&(it=this.getLineContent(Re.range.startLineNumber),-1!==l.HG(it))||X.push({lineNumber:Ze,oldContent:it})}}let le=null;if(i){let Te=0;le=[];for(let Re=0;Re<w.length;Re++){const je=w[Re],Ze=Y[Re],it=this.getValueInRange(je.range),pt=je.rangeOffset+Te;Te+=je.text.length-it.length,le[Re]={sortIndex:je.sortIndex,identifier:je.identifier,range:Ze,text:it,textChange:new Qt(je.rangeOffset,it,pt,je.text)}}z||le.sort((Re,je)=>Re.sortIndex-je.sortIndex)}this._mightContainRTL=r,this._mightContainUnusualLineTerminators=o,this._mightContainNonBasicASCII=a;const ke=this._doApplyEdits(w);let Le=null;if(t&&X.length>0){X.sort((Te,Re)=>Re.lineNumber-Te.lineNumber),Le=[];for(let Te=0,Re=X.length;Te<Re;Te++){const je=X[Te].lineNumber;if(Te>0&&X[Te-1].lineNumber===je)continue;const Ze=X[Te].oldContent,it=this.getLineContent(je);0===it.length||it===Ze||-1!==l.HG(it)||Le.push(je)}}return this._onDidChangeContent.fire(),new Zt.F4(le,ke,Le)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const i=e[0].range,r=e[e.length-1].range,o=new y.Q(i.startLineNumber,i.startColumn,r.endLineNumber,r.endColumn);let a=i.startLineNumber,f=i.startColumn;const w=[];for(let ke=0,Le=e.length;ke<Le;ke++){const Te=e[ke],Re=Te.range;t=t||Te.forceMoveMarkers,w.push(this.getValueInRange(new y.Q(a,f,Re.startLineNumber,Re.startColumn))),Te.text.length>0&&w.push(Te.text),a=Re.endLineNumber,f=Re.endColumn}const z=w.join(""),[Y,X,le]=(0,D.W)(z);return{sortIndex:0,identifier:e[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,0),text:z,eolCount:Y,firstLineLength:X,lastLineLength:le,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(Kn._sortOpsDescending);const t=[];for(let i=0;i<e.length;i++){const r=e[i],o=r.range.startLineNumber,a=r.range.startColumn,f=r.range.endLineNumber,w=r.range.endColumn;if(o===f&&a===w&&0===r.text.length)continue;r.text?(this._pieceTree.delete(r.rangeOffset,r.rangeLength),this._pieceTree.insert(r.rangeOffset,r.text,!0)):this._pieceTree.delete(r.rangeOffset,r.rangeLength);const z=new y.Q(o,a,f,w);t.push({range:z,rangeLength:r.rangeLength,text:r.text,rangeOffset:r.rangeOffset,forceMoveMarkers:r.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,i,r){return this._pieceTree.findMatchesLineByLine(e,t,i,r)}static _getInverseEditRanges(e){const t=[];let i=0,r=0,o=null;for(let a=0,f=e.length;a<f;a++){const w=e[a];let z,Y,X;if(o?o.range.endLineNumber===w.range.startLineNumber?(z=i,Y=r+(w.range.startColumn-o.range.endColumn)):(z=i+(w.range.startLineNumber-o.range.endLineNumber),Y=w.range.startColumn):(z=w.range.startLineNumber,Y=w.range.startColumn),w.text.length>0){const le=w.eolCount+1;X=1===le?new y.Q(z,Y,z,Y+w.firstLineLength):new y.Q(z,Y,z+le-1,w.lastLineLength+1)}else X=new y.Q(z,Y,z,Y);i=X.endLineNumber,r=X.endColumn,t.push(X),o=w}return t}static _sortOpsAscending(e,t){const i=y.Q.compareRangesUsingEnds(e.range,t.range);return 0===i?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){const i=y.Q.compareRangesUsingEnds(e.range,t.range);return 0===i?t.sortIndex-e.sortIndex:-i}}class ts{constructor(e,t,i,r,o,a,f,w,z){this._chunks=e,this._bom=t,this._cr=i,this._lf=r,this._crlf=o,this._containsRTL=a,this._containsUnusualLineTerminators=f,this._isBasicASCII=w,this._normalizeEOL=z}_getEOL(e){const t=this._cr+this._lf+this._crlf;return 0===t?1===e?"\n":"\r\n":this._cr+this._crlf>t/2?"\r\n":"\n"}create(e){const t=this._getEOL(e),i=this._chunks;if(this._normalizeEOL&&("\r\n"===t&&(this._cr>0||this._lf>0)||"\n"===t&&(this._cr>0||this._crlf>0)))for(let o=0,a=i.length;o<a;o++){const f=i[o].buffer.replace(/\r\n|\r|\n/g,t),w=Tn(f);i[o]=new Vn(f,w)}const r=new Kn(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:r,disposable:r}}}class gr{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(0===e.length)return;0===this.chunks.length&&l.LU(e)&&(this.BOM=l.r_,e=e.substr(1));const t=e.charCodeAt(e.length-1);13===t||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){!t&&0===e.length||this._acceptChunk2(this._hasPreviousChar?String.fromCharCode(this._previousChar)+e:e)}_acceptChunk2(e){const t=function Xr(u,e){u.length=0,u[0]=0;let t=1,i=0,r=0,o=0,a=!0;for(let w=0,z=e.length;w<z;w++){const Y=e.charCodeAt(w);13===Y?w+1<z&&10===e.charCodeAt(w+1)?(o++,u[t++]=w+2,w++):(i++,u[t++]=w+1):10===Y?(r++,u[t++]=w+1):a&&9!==Y&&(Y<32||Y>126)&&(a=!1)}const f=new Yr(qn(u),i,r,o,a);return u.length=0,f}(this._tmpLineStarts,e);this.chunks.push(new Vn(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,t.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=l.E_(e)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=l.$X(e)))}finish(e=!0){return this._finish(),new ts(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);const t=Tn(e.buffer);e.lineStarts=t,13===this._previousChar&&this.cr++}}}var di=x(4132),Yn=x(1489),mr=x(795),ns=x(2588),pn=x(1639);const is=new class{clone(){return this}equals(u){return this===u}};class ss{constructor(e){this._default=e,this._store=[]}get(e){return e<this._store.length?this._store[e]:this._default}set(e,t){for(;e>=this._store.length;)this._store[this._store.length]=this._default;this._store[e]=t}replace(e,t,i){if(e>=this._store.length)return;if(0===t)return void this.insert(e,i);if(0===i)return void this.delete(e,t);const r=this._store.slice(0,e),o=this._store.slice(e+t),a=function os(u,e){const t=[];for(let i=0;i<u;i++)t[i]=e;return t}(i,this._default);this._store=r.concat(a,o)}delete(e,t){0===t||e>=this._store.length||this._store.splice(e,t)}insert(e,t){if(0===t||e>=this._store.length)return;const i=[];for(let r=0;r<t;r++)i[r]=this._default;this._store=(0,E.nK)(this._store,e,i)}}class as{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(e,t){this._startLineNumber=e,this._tokens=t}getLineTokens(e){return this._tokens[e-this._startLineNumber]}appendLineTokens(e){this._tokens.push(e)}}class Hi{constructor(){this._tokens=[]}add(e,t){if(this._tokens.length>0){const i=this._tokens[this._tokens.length-1];if(i.endLineNumber+1===e)return void i.appendLineTokens(t)}this._tokens.push(new as(e,[t]))}finalize(){return this._tokens}}let Ln=(()=>{class u{static{this.defaultTokenMetadata=33587200}static createEmpty(t,i){const r=u.defaultTokenMetadata,o=new Uint32Array(2);return o[0]=t.length,o[1]=r,new u(o,t,i)}static createFromTextAndMetadata(t,i){let r=0,o="";const a=new Array;for(const{text:f,metadata:w}of t)a.push(r+f.length,w),r+=f.length,o+=f;return new u(new Uint32Array(a),o,i)}constructor(t,i,r){this._lineTokensBrand=void 0,this._tokens=t,this._tokensCount=this._tokens.length>>>1,this._text=i,this.languageIdCodec=r}equals(t){return t instanceof u&&this.slicedEquals(t,0,this._tokensCount)}slicedEquals(t,i,r){if(this._text!==t._text||this._tokensCount!==t._tokensCount)return!1;const o=i<<1,a=o+(r<<1);for(let f=o;f<a;f++)if(this._tokens[f]!==t._tokens[f])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(t){return t>0?this._tokens[t-1<<1]:0}getMetadata(t){return this._tokens[1+(t<<1)]}getLanguageId(t){const r=j.x.getLanguageId(this._tokens[1+(t<<1)]);return this.languageIdCodec.decodeLanguageId(r)}getStandardTokenType(t){return j.x.getTokenType(this._tokens[1+(t<<1)])}getForeground(t){return j.x.getForeground(this._tokens[1+(t<<1)])}getClassName(t){return j.x.getClassNameFromMetadata(this._tokens[1+(t<<1)])}getInlineStyle(t,i){return j.x.getInlineStyleFromMetadata(this._tokens[1+(t<<1)],i)}getPresentation(t){return j.x.getPresentationFromMetadata(this._tokens[1+(t<<1)])}getEndOffset(t){return this._tokens[t<<1]}findTokenIndexAtOffset(t){return u.findIndexInTokensArray(this._tokens,t)}inflate(){return this}sliceAndInflate(t,i,r){return new ji(this,t,i,r)}static convertToEndOffset(t,i){const o=(t.length>>>1)-1;for(let a=0;a<o;a++)t[a<<1]=t[a+1<<1];t[o<<1]=i}static findIndexInTokensArray(t,i){if(t.length<=2)return 0;let r=0,o=(t.length>>>1)-1;for(;r<o;){const a=r+Math.floor((o-r)/2),f=t[a<<1];if(f===i)return a+1;f<i?r=a+1:f>i&&(o=a)}return r}withInserted(t){if(0===t.length)return this;let i=0,r=0,o="";const a=new Array;let f=0;for(;;){const w=i<this._tokensCount?this._tokens[i<<1]:-1,z=r<t.length?t[r]:null;if(-1!==w&&(null===z||w<=z.offset))o+=this._text.substring(f,w),a.push(o.length,this._tokens[1+(i<<1)]),i++,f=w;else{if(!z)break;z.offset>f&&(o+=this._text.substring(f,z.offset),a.push(o.length,this._tokens[1+(i<<1)]),f=z.offset),o+=z.text,a.push(o.length,z.tokenMetadata),r++}}return new u(new Uint32Array(a),o,this.languageIdCodec)}getTokenText(t){const i=this.getStartOffset(t),r=this.getEndOffset(t);return this._text.substring(i,r)}forEach(t){const i=this.getCount();for(let r=0;r<i;r++)t(r)}}return u})();class ji{constructor(e,t,i,r){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=r,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this.languageIdCodec=e.languageIdCodec,this._tokensCount=0;for(let o=this._firstTokenIndex,a=e.getCount();o<a&&!(e.getStartOffset(o)>=i);o++)this._tokensCount++}getMetadata(e){return this._source.getMetadata(this._firstTokenIndex+e)}getLanguageId(e){return this._source.getLanguageId(this._firstTokenIndex+e)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof ji&&this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount)}getCount(){return this._tokensCount}getStandardTokenType(e){return this._source.getStandardTokenType(this._firstTokenIndex+e)}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}getPresentation(e){return this._source.getPresentation(this._firstTokenIndex+e)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}getTokenText(e){const t=this._firstTokenIndex+e,i=this._source.getStartOffset(t),r=this._source.getEndOffset(t);let o=this._source.getTokenText(t);return i<this._startOffset&&(o=o.substring(this._startOffset-i)),r>this._endOffset&&(o=o.substring(0,o.length-(r-this._endOffset))),o}forEach(e){for(let t=0;t<this.getCount();t++)e(t)}}class ls{constructor(e,t){this.tokenizationSupport=t,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new $i(e)}getStartState(e){return this.store.getStartState(e,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class us extends ls{constructor(e,t,i,r){super(e,t),this._textModel=i,this._languageIdCodec=r}updateTokensUntilLine(e,t){const i=this._textModel.getLanguageId();for(;;){const r=this.getFirstInvalidLine();if(!r||r.lineNumber>t)break;const o=this._textModel.getLineContent(r.lineNumber),a=Hn(this._languageIdCodec,i,this.tokenizationSupport,o,!0,r.startState);e.add(r.lineNumber,a.tokens),this.store.setEndState(r.lineNumber,a.endState)}}getTokenTypeIfInsertingCharacter(e,t){const i=this.getStartState(e.lineNumber);if(!i)return 0;const r=this._textModel.getLanguageId(),o=this._textModel.getLineContent(e.lineNumber),a=o.substring(0,e.column-1)+t+o.substring(e.column-1),f=Hn(this._languageIdCodec,r,this.tokenizationSupport,a,!0,i),w=new Ln(f.tokens,a,this._languageIdCodec);if(0===w.getCount())return 0;const z=w.findTokenIndexAtOffset(e.column-1);return w.getStandardTokenType(z)}tokenizeLineWithEdit(e,t,i){const r=e.lineNumber,o=e.column,a=this.getStartState(r);if(!a)return null;const f=this._textModel.getLineContent(r),w=f.substring(0,o-1)+i+f.substring(o-1+t),z=this._textModel.getLanguageIdAtPosition(r,0),Y=Hn(this._languageIdCodec,z,this.tokenizationSupport,w,!0,a);return new Ln(Y.tokens,w,this._languageIdCodec)}hasAccurateTokensForLine(e){return e<this.store.getFirstInvalidEndStateLineNumberOrMax()}isCheapToTokenize(e){const t=this.store.getFirstInvalidEndStateLineNumberOrMax();return e<t||e===t&&this._textModel.getLineLength(e)<2048}tokenizeHeuristically(e,t,i){if(i<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(t<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(e,i),{heuristicTokens:!1};let r=this.guessStartState(t);const o=this._textModel.getLanguageId();for(let a=t;a<=i;a++){const f=this._textModel.getLineContent(a),w=Hn(this._languageIdCodec,o,this.tokenizationSupport,f,!0,r);e.add(a,w.tokens),r=w.endState}return{heuristicTokens:!0}}guessStartState(e){let t=this._textModel.getLineFirstNonWhitespaceColumn(e);const i=[];let r=null;for(let f=e-1;t>1&&f>=1;f--){const w=this._textModel.getLineFirstNonWhitespaceColumn(f);if(0!==w&&w<t&&(i.push(this._textModel.getLineContent(f)),t=w,r=this.getStartState(f),r))break}r||(r=this.tokenizationSupport.getInitialState()),i.reverse();const o=this._textModel.getLanguageId();let a=r;for(const f of i)a=Hn(this._languageIdCodec,o,this.tokenizationSupport,f,!1,a).endState;return a}}class $i{constructor(e){this.lineCount=e,this._tokenizationStateStore=new cs,this._invalidEndStatesLineNumbers=new hs,this._invalidEndStatesLineNumbers.addRange(new pn.L(1,e+1))}getEndState(e){return this._tokenizationStateStore.getEndState(e)}setEndState(e,t){if(!t)throw new P.D7("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(e);const i=this._tokenizationStateStore.setEndState(e,t);return i&&e<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new pn.L(e+1,e+2)),i}acceptChange(e,t){this.lineCount+=t-e.length,this._tokenizationStateStore.acceptChange(e,t),this._invalidEndStatesLineNumbers.addRangeAndResize(new pn.L(e.startLineNumber,e.endLineNumberExclusive),t)}acceptChanges(e){for(const t of e){const[i]=(0,D.W)(t.text);this.acceptChange(new di.M(t.range.startLineNumber,t.range.endLineNumber+1),i+1)}}invalidateEndStateRange(e){this._invalidEndStatesLineNumbers.addRange(new pn.L(e.startLineNumber,e.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return null===this._invalidEndStatesLineNumbers.min}getStartState(e,t){return 1===e?t:this.getEndState(e-1)}getFirstInvalidLine(e){const t=this.getFirstInvalidEndStateLineNumber();if(null===t)return null;const i=this.getStartState(t,e);if(!i)throw new P.D7("Start state must be defined");return{lineNumber:t,startState:i}}}class cs{constructor(){this._lineEndStates=new ss(null)}getEndState(e){return this._lineEndStates.get(e)}setEndState(e,t){const i=this._lineEndStates.get(e);return!(i&&i.equals(t)||(this._lineEndStates.set(e,t),0))}acceptChange(e,t){let i=e.length;t>0&&i>0&&(i--,t--),this._lineEndStates.replace(e.startLineNumber,i,t)}}class hs{constructor(){this._ranges=[]}get min(){return 0===this._ranges.length?null:this._ranges[0].start}delete(e){const t=this._ranges.findIndex(i=>i.contains(e));if(-1!==t){const i=this._ranges[t];i.start===e?i.endExclusive===e+1?this._ranges.splice(t,1):this._ranges[t]=new pn.L(e+1,i.endExclusive):i.endExclusive===e+1?this._ranges[t]=new pn.L(i.start,e):this._ranges.splice(t,1,new pn.L(i.start,e),new pn.L(e+1,i.endExclusive))}}addRange(e){pn.L.addRange(e,this._ranges)}addRangeAndResize(e,t){let i=0;for(;!(i>=this._ranges.length||e.start<=this._ranges[i].endExclusive);)i++;let r=i;for(;!(r>=this._ranges.length||e.endExclusive<this._ranges[r].start);)r++;const o=t-e.length;for(let a=r;a<this._ranges.length;a++)this._ranges[a]=this._ranges[a].delta(o);if(i===r){const a=new pn.L(e.start,e.start+t);a.isEmpty||this._ranges.splice(i,0,a)}else{const a=Math.min(e.start,this._ranges[i].start),f=Math.max(e.endExclusive,this._ranges[r-1].endExclusive),w=new pn.L(a,f+o);w.isEmpty?this._ranges.splice(i,r-i):this._ranges.splice(i,r-i,w)}}toString(){return this._ranges.map(e=>e.toString()).join(" + ")}}function Hn(u,e,t,i,r,o){let a=null;if(t)try{a=t.tokenizeEncoded(i,r,o.clone())}catch(f){(0,P.dz)(f)}return a||(a=function rs(u,e){const t=new Uint32Array(2);return t[0]=0,t[1]=(33587200|u)>>>0,new Yn.rY(t,null===e?is:e)}(u.encodeLanguageId(e),o)),Ln.convertToEndOffset(a.tokens,i.length),a}class ds{constructor(e,t){this._tokenizerWithStateStore=e,this._backgroundTokenStore=t,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,mr.$6)(e=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(e)}))}_backgroundTokenizeWithDeadline(e){const t=Date.now()+e.timeRemaining(),i=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<t?(0,s._p)(i):this._beginBackgroundTokenization())};i()}_backgroundTokenizeForAtLeast1ms(){const e=this._tokenizerWithStateStore._textModel.getLineCount(),t=new Hi,i=ns.W.create(!1);do{if(i.elapsed()>1||this._tokenizeOneInvalidLine(t)>=e)break}while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(t.finalize()),this.checkFinished()}_hasLinesToTokenize(){return!!this._tokenizerWithStateStore&&!this._tokenizerWithStateStore.store.allStatesValid()}_tokenizeOneInvalidLine(e){const t=this._tokenizerWithStateStore?.getFirstInvalidLine();return t?(this._tokenizerWithStateStore.updateTokensUntilLine(e,t.lineNumber),t.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(e,t){this._tokenizerWithStateStore.store.invalidateEndStateRange(new di.M(e,t))}}class fs{constructor(){this._onDidChangeVisibleRanges=new N.vl,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const e=new gs(t=>{this._onDidChangeVisibleRanges.fire({view:e,state:t})});return this._views.add(e),e}detachView(e){this._views.delete(e),this._onDidChangeVisibleRanges.fire({view:e,state:void 0})}}class gs{constructor(e){this.handleStateChange=e}setVisibleLines(e,t){const i=e.map(r=>new di.M(r.startLineNumber,r.endLineNumber+1));this.handleStateChange({visibleLineRanges:i,stabilized:t})}}class ms extends $.jG{get lineRanges(){return this._lineRanges}constructor(e){super(),this._refreshTokens=e,this.runner=this._register(new mr.uC(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,E.aI)(this._computedLineRanges,this._lineRanges,(e,t)=>e.equals(t))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(e){this._lineRanges=e.visibleLineRanges,e.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}class pr extends $.jG{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(e,t,i){super(),this._languageIdCodec=e,this._textModel=t,this.getLanguageId=i,this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new N.vl),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new N.vl),this.onDidChangeTokens=this._onDidChangeTokens.event}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}}class _r extends pr{constructor(e,t,i,r){super(t,i,r),this._treeSitterService=e,this._tokenizationSupport=null,this._initialize()}_initialize(){const e=this.getLanguageId();(!this._tokenizationSupport||this._lastLanguageId!==e)&&(this._lastLanguageId=e,this._tokenizationSupport=Yn.OB.get(e))}getLineTokens(e){const t=this._textModel.getLineContent(e);if(this._tokenizationSupport){const i=this._tokenizationSupport.tokenizeEncoded(e,this._textModel);if(i)return new Ln(i,t,this._languageIdCodec)}return Ln.createEmpty(t,this._languageIdCodec)}resetTokenization(e=!0){e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]}),this._initialize()}handleDidChangeAttached(){}handleDidChangeContent(e){e.isFlush&&this.resetTokenization(!1)}forceTokenization(e){}hasAccurateTokensForLine(e){return!0}isCheapToTokenize(e){return!0}getTokenTypeIfInsertingCharacter(e,t,i){return 0}tokenizeLineWithEdit(e,t,i){return null}get hasTokens(){return void 0!==this._treeSitterService.getParseResult(this._textModel)}}var ot=x(2291);const ft=new Uint32Array(0).buffer;class xt{static deleteBeginning(e,t){return null===e||e===ft?e:xt.delete(e,0,t)}static deleteEnding(e,t){if(null===e||e===ft)return e;const i=Rt(e);return xt.delete(e,t,i[i.length-2])}static delete(e,t,i){if(null===e||e===ft||t===i)return e;const r=Rt(e),o=r.length>>>1;if(0===t&&r[r.length-2]===i)return ft;const a=Ln.findIndexInTokensArray(r,t),f=a>0?r[a-1<<1]:0;if(i<r[a<<1]){const ke=i-t;for(let Le=a;Le<o;Le++)r[Le<<1]-=ke;return e}let z,Y;f!==t?(r[a<<1]=t,z=a+1<<1,Y=t):(z=a<<1,Y=f);const X=i-t;for(let ke=a+1;ke<o;ke++){const Le=r[ke<<1]-X;Le>Y&&(r[z++]=Le,r[z++]=r[1+(ke<<1)],Y=Le)}if(z===r.length)return e;const le=new Uint32Array(z);return le.set(r.subarray(0,z),0),le.buffer}static append(e,t){if(t===ft)return e;if(e===ft)return t;if(null===e)return e;if(null===t)return null;const i=Rt(e),r=Rt(t),o=r.length>>>1,a=new Uint32Array(i.length+r.length);a.set(i,0);let f=i.length;const w=i[i.length-2];for(let z=0;z<o;z++)a[f++]=r[z<<1]+w,a[f++]=r[1+(z<<1)];return a.buffer}static insert(e,t,i){if(null===e||e===ft)return e;const r=Rt(e),o=r.length>>>1;let a=Ln.findIndexInTokensArray(r,t);a>0&&r[a-1<<1]===t&&a--;for(let f=a;f<o;f++)r[f<<1]+=i;return e}}function Rt(u){return u instanceof Uint32Array?u:new Uint32Array(u)}class un{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(e,t,i){let r=null;if(t<this._len&&(r=this._lineTokens[t]),null!==r&&r!==ft)return new Ln(Rt(r),i,this._languageIdCodec);const o=new Uint32Array(2);return o[0]=i.length,o[1]=On(this._languageIdCodec.encodeLanguageId(e)),new Ln(o,i,this._languageIdCodec)}static _massageTokens(e,t,i){const r=i?Rt(i):null;if(0===t){let o=!1;if(r&&r.length>1&&(o=j.x.getLanguageId(r[1])!==e),!o)return ft}if(!r||0===r.length){const o=new Uint32Array(2);return o[0]=t,o[1]=On(e),o.buffer}return r[r.length-2]=t,0===r.byteOffset&&r.byteLength===r.buffer.byteLength?r.buffer:r}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(0===t)return;const i=[];for(let r=0;r<t;r++)i[r]=null;this._lineTokens=E.nK(this._lineTokens,e,i),this._len+=t}setTokens(e,t,i,r,o){const a=un._massageTokens(this._languageIdCodec.encodeLanguageId(e),i,r);this._ensureLine(t);const f=this._lineTokens[t];return this._lineTokens[t]=a,!!o&&!un._equals(f,a)}static _equals(e,t){if(!e||!t)return!e&&!t;const i=Rt(e),r=Rt(t);if(i.length!==r.length)return!1;for(let o=0,a=i.length;o<a;o++)if(i[o]!==r[o])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new _.y(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;return void(this._lineTokens[t]=xt.delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1))}this._lineTokens[t]=xt.deleteEnding(this._lineTokens[t],e.startColumn-1);const i=e.endLineNumber-1;let r=null;i<this._len&&(r=xt.deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=xt.append(this._lineTokens[t],r),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,i){if(0===t&&0===i)return;const r=e.lineNumber-1;if(!(r>=this._len)){if(0===t)return void(this._lineTokens[r]=xt.insert(this._lineTokens[r],e.column-1,i));this._lineTokens[r]=xt.deleteEnding(this._lineTokens[r],e.column-1),this._lineTokens[r]=xt.insert(this._lineTokens[r],e.column-1,i),this._insertLines(e.lineNumber,t)}}setMultilineTokens(e,t){if(0===e.length)return{changes:[]};const i=[];for(let r=0,o=e.length;r<o;r++){const a=e[r];let f=0,w=0,z=!1;for(let Y=a.startLineNumber;Y<=a.endLineNumber;Y++)z?(this.setTokens(t.getLanguageId(),Y-1,t.getLineLength(Y),a.getLineTokens(Y),!1),w=Y):this.setTokens(t.getLanguageId(),Y-1,t.getLineLength(Y),a.getLineTokens(Y),!0)&&(z=!0,f=Y,w=Y);z&&i.push({fromLineNumber:f,toLineNumber:w})}return{changes:i}}}function On(u){return(33588224|u)>>>0}class wi{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(t.length>0){const o=t[0].getRange(),a=t[t.length-1].getRange();if(!o||!a)return e;i=e.plusRange(o).plusRange(a)}let r=null;for(let o=0,a=this._pieces.length;o<a;o++){const f=this._pieces[o];if(f.endLineNumber<i.startLineNumber)continue;if(f.startLineNumber>i.endLineNumber){r=r||{index:o};break}if(f.removeTokens(i),f.isEmpty()){this._pieces.splice(o,1),o--,a--;continue}if(f.endLineNumber<i.startLineNumber)continue;if(f.startLineNumber>i.endLineNumber){r=r||{index:o};continue}const[w,z]=f.split(i);w.isEmpty()?r=r||{index:o}:z.isEmpty()||(this._pieces.splice(o,1,w,z),o++,a++,r=r||{index:o})}return r=r||{index:this._pieces.length},t.length>0&&(this._pieces=E.nK(this._pieces,r.index,t)),i}isComplete(){return this._isComplete}addSparseTokens(e,t){if(0===t.getLineContent().length)return t;const i=this._pieces;if(0===i.length)return t;const o=i[wi._findFirstPieceWithLine(i,e)].getLineTokens(e);if(!o)return t;const a=t.getCount(),f=o.getCount();let w=0;const z=[];let Y=0,X=0;const le=(ke,Le)=>{ke!==X&&(X=ke,z[Y++]=ke,z[Y++]=Le)};for(let ke=0;ke<f;ke++){const Le=o.getStartCharacter(ke),Te=o.getEndCharacter(ke),Re=o.getMetadata(ke),je=((1&Re?2048:0)|(2&Re?4096:0)|(4&Re?8192:0)|(8&Re?16384:0)|(16&Re?16744448:0)|(32&Re?4278190080:0))>>>0,Ze=~je>>>0;for(;w<a&&t.getEndOffset(w)<=Le;)le(t.getEndOffset(w),t.getMetadata(w)),w++;for(w<a&&t.getStartOffset(w)<Le&&le(Le,t.getMetadata(w));w<a&&t.getEndOffset(w)<Te;)le(t.getEndOffset(w),t.getMetadata(w)&Ze|Re&je),w++;if(w<a)le(Te,t.getMetadata(w)&Ze|Re&je),t.getEndOffset(w)===Te&&w++;else{const it=Math.min(Math.max(0,w-1),a-1);le(Te,t.getMetadata(it)&Ze|Re&je)}}for(;w<a;)le(t.getEndOffset(w),t.getMetadata(w)),w++;return new Ln(new Uint32Array(z),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let i=0,r=e.length-1;for(;i<r;){let o=i+Math.floor((r-i)/2);if(e[o].endLineNumber<t)i=o+1;else{if(!(e[o].startLineNumber>t)){for(;o>i&&e[o-1].startLineNumber<=t&&t<=e[o-1].endLineNumber;)o--;return o}r=o-1}}return i}acceptEdit(e,t,i,r,o){for(const a of this._pieces)a.acceptEdit(e,t,i,r,o)}}var Gi,br=function(u,e){return function(t,i){e(t,i,u)}};let kr=Gi=class extends nr{constructor(e,t,i,r,o,a,f){super(),this._textModel=e,this._bracketPairsTextModelPart=t,this._languageId=i,this._attachedViews=r,this._languageService=o,this._languageConfigurationService=a,this._treeSitterService=f,this._semanticTokens=new wi(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new N.vl),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new N.vl),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new N.vl),this.onDidChangeTokens=this._onDidChangeTokens.event,this._tokensDisposables=this._register(new $.Cm),this._register(this._languageConfigurationService.onDidChange(w=>{w.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(N.Jh.filter(Yn.OB.onDidChange,w=>w.changedLanguages.includes(this._languageId))(()=>{this.createPreferredTokenProvider()})),this.createPreferredTokenProvider()}createGrammarTokens(){return this._register(new ps(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews))}createTreeSitterTokens(){return this._register(new _r(this._treeSitterService,this._languageService.languageIdCodec,this._textModel,()=>this._languageId))}createTokens(e){const t=void 0!==this._tokens;this._tokens?.dispose(),this._tokens=e?this.createTreeSitterTokens():this.createGrammarTokens(),this._tokensDisposables.clear(),this._tokensDisposables.add(this._tokens.onDidChangeTokens(i=>{this._emitModelTokensChangedEvent(i)})),this._tokensDisposables.add(this._tokens.onDidChangeBackgroundTokenizationState(i=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()})),t&&this._tokens.resetTokenization()}createPreferredTokenProvider(){Yn.OB.get(this._languageId)?this._tokens instanceof _r||this.createTokens(!0):this._tokens instanceof ps||this.createTokens(!1)}handleLanguageConfigurationServiceChange(e){e.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}handleDidChangeContent(e){if(e.isFlush)this._semanticTokens.flush();else if(!e.isEolChange)for(const t of e.changes){const[i,r,o]=(0,D.W)(t.text);this._semanticTokens.acceptEdit(t.range,i,r,o,t.text.length>0?t.text.charCodeAt(0):0)}this._tokens.handleDidChangeContent(e)}handleDidChangeAttached(){this._tokens.handleDidChangeAttached()}getLineTokens(e){this.validateLineNumber(e);const t=this._tokens.getLineTokens(e);return this._semanticTokens.addSparseTokens(e,t)}_emitModelTokensChangedEvent(e){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(e),this._onDidChangeTokens.fire(e))}validateLineNumber(e){if(e<1||e>this._textModel.getLineCount())throw new P.D7("Illegal value for lineNumber")}get hasTokens(){return this._tokens.hasTokens}resetTokenization(){this._tokens.resetTokenization()}get backgroundTokenizationState(){return this._tokens.backgroundTokenizationState}forceTokenization(e){this.validateLineNumber(e),this._tokens.forceTokenization(e)}hasAccurateTokensForLine(e){return this.validateLineNumber(e),this._tokens.hasAccurateTokensForLine(e)}isCheapToTokenize(e){return this.validateLineNumber(e),this._tokens.isCheapToTokenize(e)}tokenizeIfCheap(e){this.validateLineNumber(e),this._tokens.tokenizeIfCheap(e)}getTokenTypeIfInsertingCharacter(e,t,i){return this._tokens.getTokenTypeIfInsertingCharacter(e,t,i)}tokenizeLineWithEdit(e,t,i){return this._tokens.tokenizeLineWithEdit(e,t,i)}setSemanticTokens(e,t){this._semanticTokens.set(e,t),this._emitModelTokensChangedEvent({semanticTokensApplied:null!==e,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const i=this._textModel.validateRange(this._semanticTokens.setPartial(e,t));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}getWordAtPosition(e){this.assertNotDisposed();const t=this._textModel.validatePosition(e),i=this._textModel.getLineContent(t.lineNumber),r=this.getLineTokens(t.lineNumber),o=r.findTokenIndexAtOffset(t.column-1),[a,f]=Gi._findLanguageBoundaries(r,o),w=(0,se.Th)(t.column,this.getLanguageConfiguration(r.getLanguageId(o)).getWordDefinition(),i.substring(a,f),a);if(w&&w.startColumn<=e.column&&e.column<=w.endColumn)return w;if(o>0&&a===t.column-1){const[z,Y]=Gi._findLanguageBoundaries(r,o-1),X=(0,se.Th)(t.column,this.getLanguageConfiguration(r.getLanguageId(o-1)).getWordDefinition(),i.substring(z,Y),z);if(X&&X.startColumn<=e.column&&e.column<=X.endColumn)return X}return null}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}static _findLanguageBoundaries(e,t){const i=e.getLanguageId(t);let r=0;for(let a=t;a>=0&&e.getLanguageId(a)===i;a--)r=e.getStartOffset(a);let o=e.getLineContent().length;for(let a=t,f=e.getCount();a<f&&e.getLanguageId(a)===i;a++)o=e.getEndOffset(a);return[r,o]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(e,t){const i=this._textModel.validatePosition(new _.y(e,t)),r=this.getLineTokens(i.lineNumber);return r.getLanguageId(r.findTokenIndexAtOffset(i.column-1))}setLanguageId(e,t="api"){if(this._languageId===e)return;const i={oldLanguage:this._languageId,newLanguage:e,source:t};this._languageId=e,this._bracketPairsTextModelPart.handleDidChangeLanguage(i),this._tokens.resetTokenization(),this.createPreferredTokenProvider(),this._onDidChangeLanguage.fire(i),this._onDidChangeLanguageConfiguration.fire({})}};kr=Gi=function(u,e,t,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(u,e,t,i);else for(var f=u.length-1;f>=0;f--)(a=u[f])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o}([br(4,he.L),br(5,qe),br(6,ot.ITreeSitterParserService)],kr);class ps extends pr{constructor(e,t,i,r){super(e,t,i),this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new $.HE),this._tokens=new un(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new $.HE),this._attachedViewStates=this._register(new $.$w),this._register(Yn.dG.onDidChange(o=>{const a=this.getLanguageId();-1!==o.changedLanguages.indexOf(a)&&this.resetTokenization()})),this.resetTokenization(),this._register(r.onDidChangeVisibleRanges(({view:o,state:a})=>{if(a){let f=this._attachedViewStates.get(o);f||(f=new ms(()=>this.refreshRanges(f.lineRanges)),this._attachedViewStates.set(o,f)),f.handleStateChange(a)}else this._attachedViewStates.deleteAndDispose(o)}))}resetTokenization(e=!0){this._tokens.flush(),this._debugBackgroundTokens?.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new $i(this._textModel.getLineCount())),e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const[i,r]=(()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const o=Yn.dG.get(this.getLanguageId());if(!o)return[null,null];let a;try{a=o.getInitialState()}catch(f){return(0,P.dz)(f),[null,null]}return[o,a]})();if(this._tokenizer=i&&r?new us(this._textModel.getLineCount(),i,this._textModel,this._languageIdCodec):null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const o={setTokens:a=>{this.setTokens(a)},backgroundTokenizationFinished:()=>{2!==this._backgroundTokenizationState&&(this._backgroundTokenizationState=2,this._onDidChangeBackgroundTokenizationState.fire())},setEndState:(a,f)=>{if(!this._tokenizer)return;const w=this._tokenizer.store.getFirstInvalidEndStateLineNumber();null!==w&&a>=w&&this._tokenizer?.store.setEndState(a,f)}};i&&i.createBackgroundTokenizer&&!i.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=i.createBackgroundTokenizer(this._textModel,o)),!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization()&&(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new ds(this._tokenizer,o),this._defaultBackgroundTokenizer.handleChanges()),i?.backgroundTokenizerShouldOnlyVerifyTokens&&i.createBackgroundTokenizer?(this._debugBackgroundTokens=new un(this._languageIdCodec),this._debugBackgroundStates=new $i(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=i.createBackgroundTokenizer(this._textModel,{setTokens:a=>{this._debugBackgroundTokens?.setMultilineTokens(a,this._textModel)},backgroundTokenizationFinished(){},setEndState:(a,f)=>{this._debugBackgroundStates?.setEndState(a,f)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){this._defaultBackgroundTokenizer?.handleChanges()}handleDidChangeContent(e){if(e.isFlush)this.resetTokenization(!1);else if(!e.isEolChange){for(const t of e.changes){const[i,r]=(0,D.W)(t.text);this._tokens.acceptEdit(t.range,i,r),this._debugBackgroundTokens?.acceptEdit(t.range,i,r)}this._debugBackgroundStates?.acceptChanges(e.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(e.changes),this._defaultBackgroundTokenizer?.handleChanges()}}setTokens(e){const{changes:t}=this._tokens.setMultilineTokens(e,this._textModel);return t.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:t}),{changes:t}}refreshAllVisibleLineTokens(){const e=di.M.joinMany([...this._attachedViewStates].map(([t,i])=>i.lineRanges));this.refreshRanges(e)}refreshRanges(e){for(const t of e)this.refreshRange(t.startLineNumber,t.endLineNumberExclusive-1)}refreshRange(e,t){if(!this._tokenizer)return;e=Math.max(1,Math.min(this._textModel.getLineCount(),e)),t=Math.min(this._textModel.getLineCount(),t);const i=new Hi,{heuristicTokens:r}=this._tokenizer.tokenizeHeuristically(i,e,t),o=this.setTokens(i.finalize());if(r)for(const a of o.changes)this._backgroundTokenizer.value?.requestTokens(a.fromLineNumber,a.toLineNumber+1);this._defaultBackgroundTokenizer?.checkFinished()}forceTokenization(e){const t=new Hi;this._tokenizer?.updateTokensUntilLine(t,e),this.setTokens(t.finalize()),this._defaultBackgroundTokenizer?.checkFinished()}hasAccurateTokensForLine(e){return!this._tokenizer||this._tokenizer.hasAccurateTokensForLine(e)}isCheapToTokenize(e){return!this._tokenizer||this._tokenizer.isCheapToTokenize(e)}getLineTokens(e){const t=this._textModel.getLineContent(e),i=this._tokens.getTokens(this._textModel.getLanguageId(),e-1,t);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>e&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>e){const r=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),e-1,t);!i.equals(r)&&this._debugBackgroundTokenizer.value?.reportMismatchingTokens&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(e)}return i}getTokenTypeIfInsertingCharacter(e,t,i){if(!this._tokenizer)return 0;const r=this._textModel.validatePosition(new _.y(e,t));return this.forceTokenization(r.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(r,i)}tokenizeLineWithEdit(e,t,i){if(!this._tokenizer)return null;const r=this._textModel.validatePosition(e);return this.forceTokenization(r.lineNumber),this._tokenizer.tokenizeLineWithEdit(r,t,i)}get hasTokens(){return this._tokens.hasTokens}}class As{constructor(){this.changeType=1}}class Si{static applyInjectedText(e,t){if(!t||0===t.length)return e;let i="",r=0;for(const o of t)i+=e.substring(r,o.column-1),r=o.column-1,i+=o.options.content;return i+=e.substring(r),i}static fromDecorations(e){const t=[];for(const i of e)i.options.before&&i.options.before.content.length>0&&t.push(new Si(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&i.options.after.content.length>0&&t.push(new Si(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return t.sort((i,r)=>i.lineNumber===r.lineNumber?i.column===r.column?i.order-r.order:i.column-r.column:i.lineNumber-r.lineNumber),t}constructor(e,t,i,r,o){this.ownerId=e,this.lineNumber=t,this.column=i,this.options=r,this.order=o}}class _s{constructor(e,t,i){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=i}}class Ts{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class Ns{constructor(e,t,i,r){this.changeType=4,this.injectedTexts=r,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}}class Ds{constructor(){this.changeType=5}}class gi{constructor(e,t,i,r){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=r,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++)if(this.changes[t].changeType===e)return!0;return!1}static merge(e,t){const i=[].concat(e.changes).concat(t.changes);return new gi(i,t.versionId,e.isUndoing||t.isUndoing,e.isRedoing||t.isRedoing)}}class Bs{constructor(e){this.changes=e}}class Qi{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=gi.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),i=Qi._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new Qi(t,i)}static _mergeChangeEvents(e,t){return{changes:[].concat(e.changes).concat(t.changes),eol:t.eol,isEolChange:e.isEolChange&&t.isEolChange,versionId:t.versionId,isUndoing:e.isUndoing||t.isUndoing,isRedoing:e.isRedoing||t.isRedoing,isFlush:e.isFlush||t.isFlush}}}const bs=(0,jt.u1)("undoRedoService");class vr{static{this._ID=0}constructor(){this.id=vr._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}static{this.None=new vr}}class Cr{static{this._ID=0}constructor(){this.id=Cr._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}static{this.None=new Cr}}var Xn,qi=function(u,e){return function(t,i){e(t,i,u)}};function ks(u,e){let t;return t="string"==typeof u?function Ms(u){const e=new gr;return e.acceptChunk(u),e.finish()}(u):Zt.nk(u)?function Os(u){const e=new gr;let t;for(;"string"==typeof(t=u.read());)e.acceptChunk(t);return e.finish()}(u):u,t.create(e)}let Ki=0;class Ws{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;const e=[];let t=0,i=0;for(;;){const r=this._source.read();if(null===r)return this._eos=!0,0===t?null:e.join("");if(r.length>0&&(e[t++]=r,i+=r.length),i>=65536)return e.join("")}}}const Ei=()=>{throw new Error("Invalid change accessor")};let Lr=class extends $.jG{static{Xn=this}static{this._MODEL_SYNC_LIMIT=52428800}static{this.LARGE_FILE_SIZE_THRESHOLD=20971520}static{this.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5}static{this.LARGE_FILE_HEAP_OPERATION_THRESHOLD=268435456}static{this.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:h.tabSize,indentSize:h.indentSize,insertSpaces:h.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:h.trimAutoWhitespace,largeFileOptimizations:h.largeFileOptimizations,bracketPairColorizationOptions:h.bracketPairColorizationOptions}}static resolveOptions(e,t){if(t.detectIndentation){const i=rr(e,t.tabSize,t.insertSpaces);return new Zt.X2({tabSize:i.tabSize,indentSize:"tabSize",insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new Zt.X2(t)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(e){return this._eventEmitter.slowEvent(t=>e(t.contentChangedEvent))}onDidChangeContentOrInjectedText(e){return(0,$.qE)(this._eventEmitter.fastEvent(t=>e(t)),this._onDidChangeInjectedText.event(t=>e(t)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(e,t,i,r=null,o,a,f,w){super(),this._undoRedoService=o,this._languageService=a,this._languageConfigurationService=f,this.instantiationService=w,this._onWillDispose=this._register(new N.vl),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new $s(Le=>this.handleBeforeFireDecorationsChangedEvent(Le))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new N.vl),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new N.vl),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new N.vl),this._eventEmitter=this._register(new Gs),this._languageSelectionListener=this._register(new $.HE),this._deltaDecorationCallCnt=0,this._attachedViews=new fs,Ki++,this.id="$model"+Ki,this.isForSimpleWidget=i.isForSimpleWidget,this._associatedResource=typeof r>"u"||null===r?I.r.parse("inmemory://model/"+Ki):r,this._attachedEditorCount=0;const{textBuffer:z,disposable:Y}=ks(e,i.defaultEOL);this._buffer=z,this._bufferDisposable=Y,this._options=Xn.resolveOptions(this._buffer,i);const X="string"==typeof t?t:t.languageId;"string"!=typeof t&&(this._languageSelectionListener.value=t.onDidChange(()=>this._setLanguage(t.languageId))),this._bracketPairs=this._register(new Ar(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new ir(this,this._languageConfigurationService)),this._decorationProvider=this._register(new er(this)),this._tokenizationTextModelPart=this.instantiationService.createInstance(kr,this,this._bracketPairs,X,this._attachedViews);const le=this._buffer.getLineCount(),ke=this._buffer.getValueLengthInRange(new y.Q(1,1,le,this._buffer.getLineLength(le)+1),0);i.largeFileOptimizations?(this._isTooLargeForTokenization=ke>Xn.LARGE_FILE_SIZE_THRESHOLD||le>Xn.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=ke>Xn.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=ke>Xn._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=l.tk(Ki),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new vs,this._commandManager=new Mi(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(X),this._register(this._languageConfigurationService.onDidChange(Le=>{this._bracketPairs.handleLanguageConfigurationServiceChange(Le),this._tokenizationTextModelPart.handleLanguageConfigurationServiceChange(Le)}))}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const e=new Kn([],"","\n",!1,!1,!0,!0);e.dispose(),this._buffer=e,this._bufferDisposable=$.jG.None}_assertNotDisposed(){if(this._isDisposed)throw new P.D7("Model is disposed!")}_emitContentChangedEvent(e,t){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(t),this._bracketPairs.handleDidChangeContent(t),this._eventEmitter.fire(new Qi(e,t)))}setValue(e){if(this._assertNotDisposed(),null==e)throw(0,P.Qg)();const{textBuffer:t,disposable:i}=ks(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,i)}_createContentChanged2(e,t,i,r,o,a,f,w){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:r}],eol:this._buffer.getEOL(),isEolChange:w,versionId:this.getVersionId(),isUndoing:o,isRedoing:a,isFlush:f}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const i=this.getFullModelRange(),r=this.getValueLengthInRange(i),o=this.getLineCount(),a=this.getLineMaxColumn(o);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new vs,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new gi([new As],this._versionId,!1,!1),this._createContentChanged2(new y.Q(1,1,o,a),0,r,this.getValue(),!1,!1,!0,!1))}setEOL(e){this._assertNotDisposed();const t=1===e?"\r\n":"\n";if(this._buffer.getEOL()===t)return;const i=this.getFullModelRange(),r=this.getValueLengthInRange(i),o=this.getLineCount(),a=this.getLineMaxColumn(o);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new gi([new Ds],this._versionId,!1,!1),this._createContentChanged2(new y.Q(1,1,o,a),0,r,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let i=0,r=t.length;i<r;i++){const o=t[i],a=o.range,f=o.cachedAbsoluteStart-o.start,w=this._buffer.getOffsetAt(a.startLineNumber,a.startColumn),z=this._buffer.getOffsetAt(a.endLineNumber,a.endColumn);o.cachedAbsoluteStart=w,o.cachedAbsoluteEnd=z,o.cachedVersionId=e,o.start=w-f,o.end=z-f,Rn(o)}}onBeforeAttached(){return this._attachedEditorCount++,1===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(e){this._attachedEditorCount--,0===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(e)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const i=this._buffer.getLineCount();for(let r=1;r<=i;r++){const o=this._buffer.getLineLength(r);o>=1e4?t+=o:e+=o}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();const f=new Zt.X2({tabSize:typeof e.tabSize<"u"?e.tabSize:this._options.tabSize,indentSize:typeof e.indentSize<"u"?e.indentSize:this._options.originalIndentSize,insertSpaces:typeof e.insertSpaces<"u"?e.insertSpaces:this._options.insertSpaces,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:typeof e.trimAutoWhitespace<"u"?e.trimAutoWhitespace:this._options.trimAutoWhitespace,bracketPairColorizationOptions:typeof e.bracketColorizationOptions<"u"?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions});if(this._options.equals(f))return;const w=this._options.createChangeEvent(f);this._options=f,this._bracketPairs.handleDidChangeOptions(w),this._decorationProvider.handleDidChangeOptions(w),this._onDidChangeOptions.fire(w)}detectIndentation(e,t){this._assertNotDisposed();const i=rr(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}normalizeIndentation(e){return this._assertNotDisposed(),function L(u,e,t){let i=l.HG(u);return-1===i&&(i=u.length),function H(u,e,t){let i=0;for(let o=0;o<u.length;o++)"\t"===u.charAt(o)?i=Z.nextIndentTabStop(i,e):i++;let r="";if(!t){const o=Math.floor(i/e);i%=e;for(let a=0;a<o;a++)r+="\t"}for(let o=0;o<i;o++)r+=" ";return r}(u.substring(0,i),e,t)+u.substring(i)}(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(l._J.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map(i=>({range:i.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();const t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();const t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new P.D7("Operation would exceed heap memory limits");const i=this.getFullModelRange(),r=this.getValueInRange(i,e);return t?this._buffer.getBOM()+r:r}createSnapshot(e=!1){return new Ws(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),r=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+r:r}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new P.D7("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new P.D7("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new P.D7("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new P.D7("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new P.D7("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new P.D7("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),i=e.startLineNumber,r=e.startColumn;let o=Math.floor("number"!=typeof i||isNaN(i)?1:i),a=Math.floor("number"!=typeof r||isNaN(r)?1:r);if(o<1)o=1,a=1;else if(o>t)o=t,a=this.getLineMaxColumn(o);else if(a<=1)a=1;else{const X=this.getLineMaxColumn(o);a>=X&&(a=X)}const f=e.endLineNumber,w=e.endColumn;let z=Math.floor("number"!=typeof f||isNaN(f)?1:f),Y=Math.floor("number"!=typeof w||isNaN(w)?1:w);if(z<1)z=1,Y=1;else if(z>t)z=t,Y=this.getLineMaxColumn(z);else if(Y<=1)Y=1;else{const X=this.getLineMaxColumn(z);Y>=X&&(Y=X)}return i===o&&r===a&&f===z&&w===Y&&e instanceof y.Q&&!(e instanceof C.L)?e:new y.Q(o,a,z,Y)}_isValidPosition(e,t,i){if("number"!=typeof e||"number"!=typeof t||isNaN(e)||isNaN(t)||e<1||t<1||(0|e)!==e||(0|t)!==t)return!1;if(e>this._buffer.getLineCount())return!1;if(1===t)return!0;if(t>this.getLineMaxColumn(e))return!1;if(1===i){const a=this._buffer.getLineCharCode(e,t-2);if(l.pc(a))return!1}return!0}_validatePosition(e,t,i){const r=Math.floor("number"!=typeof e||isNaN(e)?1:e),o=Math.floor("number"!=typeof t||isNaN(t)?1:t),a=this._buffer.getLineCount();if(r<1)return new _.y(1,1);if(r>a)return new _.y(a,this.getLineMaxColumn(a));if(o<=1)return new _.y(r,1);const f=this.getLineMaxColumn(r);if(o>=f)return new _.y(r,f);if(1===i){const w=this._buffer.getLineCharCode(r,o-2);if(l.pc(w))return new _.y(r,o-1)}return new _.y(r,o)}validatePosition(e){return this._assertNotDisposed(),e instanceof _.y&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const i=e.startLineNumber,r=e.startColumn,o=e.endLineNumber,a=e.endColumn;if(!this._isValidPosition(i,r,0)||!this._isValidPosition(o,a,0))return!1;if(1===t){const f=r>1?this._buffer.getLineCharCode(i,r-2):0,w=a>1&&a<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,a-2):0,z=l.pc(f),Y=l.pc(w);return!z&&!Y}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof y.Q&&!(e instanceof C.L)&&this._isValidRange(e,1))return e;const i=this._validatePosition(e.startLineNumber,e.startColumn,0),r=this._validatePosition(e.endLineNumber,e.endColumn,0),o=i.lineNumber,a=i.column,f=r.lineNumber,w=r.column;{const z=a>1?this._buffer.getLineCharCode(o,a-2):0,Y=w>1&&w<=this._buffer.getLineLength(f)?this._buffer.getLineCharCode(f,w-2):0,X=l.pc(z),le=l.pc(Y);return X||le?o===f&&a===w?new y.Q(o,a-1,f,w-1):X&&le?new y.Q(o,a-1,f,w+1):X?new y.Q(o,a-1,f,w):new y.Q(o,a,f,w+1):new y.Q(o,a,f,w)}}modifyPosition(e,t){this._assertNotDisposed();const i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new y.Q(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,r){return this._buffer.findMatchesLineByLine(e,t,i,r)}findMatches(e,t,i,r,o,a,f=999){this._assertNotDisposed();let w=null;null!==t&&(Array.isArray(t)||(t=[t]),t.every(X=>y.Q.isIRange(X))&&(w=t.map(X=>this.validateRange(X)))),null===w&&(w=[this.getFullModelRange()]),w=w.sort((X,le)=>X.startLineNumber-le.startLineNumber||X.startColumn-le.startColumn);const z=[];let Y;if(z.push(w.reduce((X,le)=>y.Q.areIntersecting(X,le)?X.plusRange(le):(z.push(X),le))),!i&&e.indexOf("\n")<0){const le=new ln.lt(e,i,r,o).parseSearchRequest();if(!le)return[];Y=ke=>this.findMatchesLineByLine(ke,le,a,f)}else Y=X=>ln.hB.findMatches(this,new ln.lt(e,i,r,o),X,a,f);return z.map(Y).reduce((X,le)=>X.concat(le),[])}findNextMatch(e,t,i,r,o,a){this._assertNotDisposed();const f=this.validatePosition(t);if(!i&&e.indexOf("\n")<0){const z=new ln.lt(e,i,r,o).parseSearchRequest();if(!z)return null;const Y=this.getLineCount();let X=new y.Q(f.lineNumber,f.column,Y,this.getLineMaxColumn(Y)),le=this.findMatchesLineByLine(X,z,a,1);return ln.hB.findNextMatch(this,new ln.lt(e,i,r,o),f,a),le.length>0||(X=new y.Q(1,1,f.lineNumber,this.getLineMaxColumn(f.lineNumber)),le=this.findMatchesLineByLine(X,z,a,1),le.length>0)?le[0]:null}return ln.hB.findNextMatch(this,new ln.lt(e,i,r,o),f,a)}findPreviousMatch(e,t,i,r,o,a){this._assertNotDisposed();const f=this.validatePosition(t);return ln.hB.findPreviousMatch(this,new ln.lt(e,i,r,o),f,a)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if(("\n"===this.getEOL()?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof Zt.Wo?e:new Zt.Wo(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let i=0,r=e.length;i<r;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i,r){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i,r)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i,r){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const o=t.map(f=>({range:this.validateRange(f.range),text:f.text}));let a=!0;if(e)for(let f=0,w=e.length;f<w;f++){const z=e[f];let Y=!1;for(let X=0,le=o.length;X<le;X++){const ke=o[X].range;if(!(ke.startLineNumber>z.endLineNumber||z.startLineNumber>ke.endLineNumber)){Y=!0;break}}if(!Y){a=!1;break}}if(a)for(let f=0,w=this._trimAutoWhitespaceLines.length;f<w;f++){const z=this._trimAutoWhitespaceLines[f],Y=this.getLineMaxColumn(z);let X=!0;for(let le=0,ke=o.length;le<ke;le++){const Le=o[le].range,Te=o[le].text;if(!(z<Le.startLineNumber||z>Le.endLineNumber||z===Le.startLineNumber&&Le.startColumn===Y&&Le.isEmpty()&&Te&&Te.length>0&&"\n"===Te.charAt(0)||z===Le.startLineNumber&&1===Le.startColumn&&Le.isEmpty()&&Te&&Te.length>0&&"\n"===Te.charAt(Te.length-1))){X=!1;break}}if(X){const le=new y.Q(z,1,z,Y);t.push(new Zt.Wo(null,le,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i,r)}_applyUndo(e,t,i,r){const o=e.map(a=>{const f=this.getPositionAt(a.newPosition),w=this.getPositionAt(a.newEnd);return{range:new y.Q(f.lineNumber,f.column,w.lineNumber,w.column),text:a.oldText}});this._applyUndoRedoEdits(o,t,!0,!1,i,r)}_applyRedo(e,t,i,r){const o=e.map(a=>{const f=this.getPositionAt(a.oldPosition),w=this.getPositionAt(a.oldEnd);return{range:new y.Q(f.lineNumber,f.column,w.lineNumber,w.column),text:a.newText}});this._applyUndoRedoEdits(o,t,!1,!0,i,r)}_applyUndoRedoEdits(e,t,i,r,o,a){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=r,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(o)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(a),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const i=this._buffer.getLineCount(),r=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),o=this._buffer.getLineCount(),a=r.changes;if(this._trimAutoWhitespaceLines=r.trimAutoWhitespaceLineNumbers,0!==a.length){for(let z=0,Y=a.length;z<Y;z++){const X=a[z];this._decorationsTree.acceptReplace(X.rangeOffset,X.rangeLength,X.text.length,X.forceMoveMarkers)}const f=[];this._increaseVersionId();let w=i;for(let z=0,Y=a.length;z<Y;z++){const X=a[z],[le]=(0,D.W)(X.text);this._onDidChangeDecorations.fire();const ke=X.range.startLineNumber,Le=X.range.endLineNumber,Te=Le-ke,Re=le,je=Math.min(Te,Re),Ze=Re-Te,it=o-w-Ze+ke,Wt=it+Re,Ht=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new _.y(it,1)),this.getOffsetAt(new _.y(Wt,this.getLineMaxColumn(Wt))),0),It=Si.fromDecorations(Ht),wt=new E.j3(It);for(let St=je;St>=0;St--){const nn=ke+St,gn=it+St;wt.takeFromEndWhile(pi=>pi.lineNumber>gn);const wn=wt.takeFromEndWhile(pi=>pi.lineNumber===gn);f.push(new _s(nn,this.getLineContent(gn),wn))}if(je<Te&&f.push(new Ts(ke+je+1,Le)),je<Re){const St=new E.j3(It),nn=ke+je,gn=Re-je,wn=o-w-gn+nn+1,pi=[],Ss=[];for(let Ii=0;Ii<gn;Ii++){const Sr=wn+Ii;Ss[Ii]=this.getLineContent(Sr),St.takeWhile(Er=>Er.lineNumber<Sr),pi[Ii]=St.takeWhile(Er=>Er.lineNumber===Sr)}f.push(new Ns(nn+1,ke+Re,Ss,pi))}w+=Ze}this._emitContentChangedEvent(new gi(f,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:a,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===r.reverseEdits?void 0:r.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(null===e||0===e.size)return;const i=Array.from(e).map(r=>new _s(r,this.getLineContent(r),this._getInjectedTextInLine(r)));this._onDidChangeInjectedText.fire(new Bs(i))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){const i={addDecoration:(o,a)=>this._deltaDecorationsImpl(e,[],[{range:o,options:a}])[0],changeDecoration:(o,a)=>{this._changeDecorationImpl(o,a)},changeDecorationOptions:(o,a)=>{this._changeDecorationOptionsImpl(o,xs(a))},removeDecoration:o=>{this._deltaDecorationsImpl(e,[o],[])},deltaDecorations:(o,a)=>0===o.length&&0===a.length?[]:this._deltaDecorationsImpl(e,o,a)};let r=null;try{r=t(i)}catch(o){(0,P.dz)(o)}return i.addDecoration=Ei,i.changeDecoration=Ei,i.changeDecorationOptions=Ei,i.removeDecoration=Ei,i.deltaDecorations=Ei,r}deltaDecorations(e,t,i=0){if(this._assertNotDisposed(),e||(e=[]),0===e.length&&0===t.length)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,P.dz)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){const r=e?this._decorations[e]:null;if(!r)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:Ls[i]}],!0)[0]:null;if(!t)return this._decorationsTree.delete(r),delete this._decorations[r.id],null;const o=this._validateRangeRelaxedNoAllocations(t),a=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),f=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);return this._decorationsTree.delete(r),r.reset(this.getVersionId(),a,f,o),r.setOptions(Ls[i]),this._decorationsTree.insert(r),r.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let i=0,r=t.length;i<r;i++){const o=t[i];this._decorationsTree.delete(o),delete this._decorations[o.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,i=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t,i=0,r=!1,o=!1){const a=this.getLineCount(),f=Math.min(a,Math.max(1,e)),w=Math.min(a,Math.max(1,t)),z=this.getLineMaxColumn(w),Y=new y.Q(f,1,w,z),X=this._getDecorationsInRange(Y,i,r,o);return(0,E.E4)(X,this._decorationProvider.getDecorationsInRange(Y,i,r)),X}getDecorationsInRange(e,t=0,i=!1,r=!1,o=!1){const a=this.validateRange(e),f=this._getDecorationsInRange(a,t,i,o);return(0,E.E4)(f,this._decorationProvider.getDecorationsInRange(a,t,i,r)),f}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0,!1)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1),i=t+this._buffer.getLineLength(e),r=this._decorationsTree.getInjectedTextInInterval(this,t,i,0);return Si.fromDecorations(r).filter(o=>o.lineNumber===e)}getAllDecorations(e=0,t=!1){let i=this._decorationsTree.getAll(this,e,t,!1,!1);return i=i.concat(this._decorationProvider.getAllDecorations(e,t)),i}getAllMarginDecorations(e=0){return this._decorationsTree.getAll(this,e,!1,!1,!0)}_getDecorationsInRange(e,t,i,r){const o=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),a=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,o,a,t,i,r)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const i=this._decorations[e];if(!i)return;if(i.options.after){const f=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(f.endLineNumber)}if(i.options.before){const f=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(f.startLineNumber)}const r=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),a=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),o,a,r),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.startLineNumber)}_changeDecorationOptionsImpl(e,t){const i=this._decorations[e];if(!i)return;const r=!(!i.options.overviewRuler||!i.options.overviewRuler.color),o=!(!t.overviewRuler||!t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),i.options.after||t.after){const w=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(w.endLineNumber)}if(i.options.before||t.before){const w=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(w.startLineNumber)}const a=r!==o,f=function Us(u){return!!u.after||!!u.before}(t)!==Yi(i);a||f?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t)}_deltaDecorationsImpl(e,t,i,r=!1){const o=this.getVersionId(),a=t.length;let f=0;const w=i.length;let z=0;this._onDidChangeDecorations.beginDeferredEmit();try{const Y=new Array(w);for(;f<a||z<w;){let X=null;if(f<a){do{X=this._decorations[t[f++]]}while(!X&&f<a);if(X){if(X.options.after){const le=this._decorationsTree.getNodeRange(this,X);this._onDidChangeDecorations.recordLineAffectedByInjectedText(le.endLineNumber)}if(X.options.before){const le=this._decorationsTree.getNodeRange(this,X);this._onDidChangeDecorations.recordLineAffectedByInjectedText(le.startLineNumber)}this._decorationsTree.delete(X),r||this._onDidChangeDecorations.checkAffectedAndFire(X.options)}}if(z<w){if(!X){const je=++this._lastDecorationId,Ze=`${this._instanceId};${je}`;X=new Gn(Ze,0,0),this._decorations[Ze]=X}const le=i[z],ke=this._validateRangeRelaxedNoAllocations(le.range),Le=xs(le.options),Te=this._buffer.getOffsetAt(ke.startLineNumber,ke.startColumn),Re=this._buffer.getOffsetAt(ke.endLineNumber,ke.endColumn);X.ownerId=e,X.reset(o,Te,Re,ke),X.setOptions(Le),X.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ke.endLineNumber),X.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ke.startLineNumber),r||this._onDidChangeDecorations.checkAffectedAndFire(Le),this._decorationsTree.insert(X),Y[z]=X.id,z++}else X&&delete this._decorations[X.id]}return Y}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(e,t){"string"==typeof e?(this._languageSelectionListener.clear(),this._setLanguage(e,t)):(this._languageSelectionListener.value=e.onDidChange(()=>this._setLanguage(e.languageId,t)),this._setLanguage(e.languageId,t))}_setLanguage(e,t){this.tokenization.setLanguageId(e,t),this._languageService.requestRichLanguageFeatures(e)}getLanguageIdAtPosition(e,t){return this.tokenization.getLanguageIdAtPosition(e,t)}getWordAtPosition(e){return this._tokenizationTextModelPart.getWordAtPosition(e)}getWordUntilPosition(e){return this._tokenizationTextModelPart.getWordUntilPosition(e)}normalizePosition(e,t){return e}getLineIndentColumn(e){return function zs(u){let e=0;for(const t of u){if(" "!==t&&"\t"!==t)break;e++}return e}(this.getLineContent(e))+1}};function xr(u){return!(!u.options.overviewRuler||!u.options.overviewRuler.color)}function Yi(u){return!!u.options.after||!!u.options.before}Lr=Xn=function(u,e,t,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(u,e,t,i);else for(var f=u.length-1;f>=0;f--)(a=u[f])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o}([qi(4,bs),qi(5,he.L),qi(6,qe),qi(7,jt._Y)],Lr);class vs{constructor(){this._decorationsTree0=new Pi,this._decorationsTree1=new Pi,this._injectedTextDecorationsTree=new Pi}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1,!1)}_ensureNodesHaveRanges(e,t){for(const i of t)null===i.range&&(i.range=e.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd));return t}getAllInInterval(e,t,i,r,o,a){const f=e.getVersionId(),w=this._intervalSearch(t,i,r,o,f,a);return this._ensureNodesHaveRanges(e,w)}_intervalSearch(e,t,i,r,o,a){const f=this._decorationsTree0.intervalSearch(e,t,i,r,o,a),w=this._decorationsTree1.intervalSearch(e,t,i,r,o,a),z=this._injectedTextDecorationsTree.intervalSearch(e,t,i,r,o,a);return f.concat(w).concat(z)}getInjectedTextInInterval(e,t,i,r){const o=e.getVersionId(),a=this._injectedTextDecorationsTree.intervalSearch(t,i,r,!1,o,!1);return this._ensureNodesHaveRanges(e,a).filter(f=>f.options.showIfCollapsed||!f.range.isEmpty())}getAllInjectedText(e,t){const i=e.getVersionId(),r=this._injectedTextDecorationsTree.search(t,!1,i,!1);return this._ensureNodesHaveRanges(e,r).filter(o=>o.options.showIfCollapsed||!o.range.isEmpty())}getAll(e,t,i,r,o){const a=e.getVersionId(),f=this._search(t,i,r,a,o);return this._ensureNodesHaveRanges(e,f)}_search(e,t,i,r,o){if(i)return this._decorationsTree1.search(e,t,r,o);{const a=this._decorationsTree0.search(e,t,r,o),f=this._decorationsTree1.search(e,t,r,o),w=this._injectedTextDecorationsTree.search(e,t,r,o);return a.concat(f).concat(w)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),i=this._decorationsTree1.collectNodesFromOwner(e),r=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(i).concat(r)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),i=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(i)}insert(e){Yi(e)?this._injectedTextDecorationsTree.insert(e):xr(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){Yi(e)?this._injectedTextDecorationsTree.delete(e):xr(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){const i=e.getVersionId();return t.cachedVersionId!==i&&this._resolveNode(t,i),null===t.range&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){Yi(e)?this._injectedTextDecorationsTree.resolveNode(e,t):xr(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,i,r){this._decorationsTree0.acceptReplace(e,t,i,r),this._decorationsTree1.acceptReplace(e,t,i,r),this._injectedTextDecorationsTree.acceptReplace(e,t,i,r)}}function Nn(u){return u.replace(/[^a-z0-9\-_]/gi," ")}class Cs{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class Vs extends Cs{constructor(e){super(e),this._resolvedColor=null,this.position="number"==typeof e.position?e.position:Zt.A5.Center}getColor(e){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==e.type&&this.darkColor?this.darkColor:this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if("string"==typeof e)return e;const i=e?t.getColor(e.id):null;return i?i.toString():""}}class Hs{constructor(e){this.position=e?.position??Zt.ZS.Center,this.persistLane=e?.persistLane}}class js extends Cs{constructor(e){super(e),this.position=e.position,this.sectionHeaderStyle=e.sectionHeaderStyle??null,this.sectionHeaderText=e.sectionHeaderText??null}getColor(e){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==e.type&&this.darkColor?this.darkColor:this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return"string"==typeof e?p.Q1.fromHex(e):t.getColor(e.id)}}class yi{static from(e){return e instanceof yi?e:new yi(e)}constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=e.attachedData||null,this.cursorStops=e.cursorStops||null}}class xn{static register(e){return new xn(e)}static createDynamic(e){return new xn(e)}constructor(e){this.description=e.description,this.blockClassName=e.blockClassName?Nn(e.blockClassName):null,this.blockDoesNotCollapse=e.blockDoesNotCollapse??null,this.blockIsAfterEnd=e.blockIsAfterEnd??null,this.blockPadding=e.blockPadding??null,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?Nn(e.className):null,this.shouldFillLineOnLineBreak=e.shouldFillLineOnLineBreak??null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=e.lineNumberHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new Vs(e.overviewRuler):null,this.minimap=e.minimap?new js(e.minimap):null,this.glyphMargin=e.glyphMarginClassName?new Hs(e.glyphMargin):null,this.glyphMarginClassName=e.glyphMarginClassName?Nn(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?Nn(e.linesDecorationsClassName):null,this.lineNumberClassName=e.lineNumberClassName?Nn(e.lineNumberClassName):null,this.linesDecorationsTooltip=e.linesDecorationsTooltip?l.jy(e.linesDecorationsTooltip):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?Nn(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?Nn(e.marginClassName):null,this.inlineClassName=e.inlineClassName?Nn(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?Nn(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?Nn(e.afterContentClassName):null,this.after=e.after?yi.from(e.after):null,this.before=e.before?yi.from(e.before):null,this.hideInCommentTokens=e.hideInCommentTokens??!1,this.hideInStringTokens=e.hideInStringTokens??!1}}xn.EMPTY=xn.register({description:"empty"});const Ls=[xn.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),xn.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),xn.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),xn.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function xs(u){return u instanceof xn?u:xn.createDynamic(u)}class $s extends $.jG{constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new N.vl),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){this._deferredCnt--,0===this._deferredCnt&&(this._shouldFireDeferred&&this.doFire(),this._affectedInjectedTextLines?.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){this._affectsMinimap||=!!e.minimap?.position,this._affectsOverviewRuler||=!!e.overviewRuler?.color,this._affectsGlyphMargin||=!!e.glyphMarginClassName,this._affectsLineNumber||=!!e.lineNumberClassName,this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){0===this._deferredCnt?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(e)}}class Gs extends $.jG{constructor(){super(),this._fastEmitter=this._register(new N.vl),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new N.vl),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){this._deferredCnt>0?this._deferredEvent=this._deferredEvent?this._deferredEvent.merge(e):e:(this._fastEmitter.fire(e),this._slowEmitter.fire(e))}}var mi,Qs=x(1355),qs=x(5763),Xi=x(5109),Ks=x(4311),Zi=function(u,e){return function(t,i){e(t,i,u)}};function Zn(u){return u.toString()}class Xs{constructor(e,t,i){this.model=e,this._modelEventListeners=new $.Cm,this.model=e,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(r=>i(e,r)))}dispose(){this._modelEventListeners.dispose()}}const Zs=s.j9||s.zx?1:2;class Js{constructor(e,t,i,r,o,a,f,w){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=r,this.heapSize=o,this.sha1=a,this.versionId=f,this.alternativeVersionId=w}}let wr=class extends $.jG{static{mi=this}static{this.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520}constructor(t,i,r,o){super(),this._configurationService=t,this._resourcePropertiesService=i,this._undoRedoService=r,this._instantiationService=o,this._onModelAdded=this._register(new N.vl),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new N.vl),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new N.vl),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(a=>this._updateModelOptions(a))),this._updateModelOptions(void 0)}static _readModelOptions(t,i){let r=h.tabSize;if(t.editor&&typeof t.editor.tabSize<"u"){const ke=parseInt(t.editor.tabSize,10);isNaN(ke)||(r=ke),r<1&&(r=1)}let o="tabSize";if(t.editor&&typeof t.editor.indentSize<"u"&&"tabSize"!==t.editor.indentSize){const ke=parseInt(t.editor.indentSize,10);isNaN(ke)||(o=Math.max(ke,1))}let a=h.insertSpaces;t.editor&&typeof t.editor.insertSpaces<"u"&&(a="false"!==t.editor.insertSpaces&&!!t.editor.insertSpaces);let f=Zs;const w=t.eol;"\r\n"===w?f=2:"\n"===w&&(f=1);let z=h.trimAutoWhitespace;t.editor&&typeof t.editor.trimAutoWhitespace<"u"&&(z="false"!==t.editor.trimAutoWhitespace&&!!t.editor.trimAutoWhitespace);let Y=h.detectIndentation;t.editor&&typeof t.editor.detectIndentation<"u"&&(Y="false"!==t.editor.detectIndentation&&!!t.editor.detectIndentation);let X=h.largeFileOptimizations;t.editor&&typeof t.editor.largeFileOptimizations<"u"&&(X="false"!==t.editor.largeFileOptimizations&&!!t.editor.largeFileOptimizations);let le=h.bracketPairColorizationOptions;return t.editor?.bracketPairColorization&&"object"==typeof t.editor.bracketPairColorization&&(le={enabled:!!t.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!t.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:i,tabSize:r,indentSize:o,insertSpaces:a,detectIndentation:Y,defaultEOL:f,trimAutoWhitespace:z,largeFileOptimizations:X,bracketPairColorizationOptions:le}}_getEOL(t,i){if(t)return this._resourcePropertiesService.getEOL(t,i);const r=this._configurationService.getValue("files.eol",{overrideIdentifier:i});return r&&"string"==typeof r&&"auto"!==r?r:3===s.OS||2===s.OS?"\n":"\r\n"}_shouldRestoreUndoStack(){const t=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof t||t}getCreationOptions(t,i,r){const o="string"==typeof t?t:t.languageId;let a=this._modelCreationOptionsByLanguageAndResource[o+i];if(!a){const f=this._configurationService.getValue("editor",{overrideIdentifier:o,resource:i}),w=this._getEOL(i,o);a=mi._readModelOptions({editor:f,eol:w},r),this._modelCreationOptionsByLanguageAndResource[o+i]=a}return a}_updateModelOptions(t){const i=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const r=Object.keys(this._models);for(let o=0,a=r.length;o<a;o++){const w=this._models[r[o]],z=w.model.getLanguageId(),Y=w.model.uri;if(t&&!t.affectsConfiguration("editor",{overrideIdentifier:z,resource:Y})&&!t.affectsConfiguration("files.eol",{overrideIdentifier:z,resource:Y}))continue;const X=i[z+Y],le=this.getCreationOptions(z,Y,w.model.isForSimpleWidget);mi._setModelOptionsForModel(w.model,le,X)}}static _setModelOptionsForModel(t,i,r){r&&r.defaultEOL!==i.defaultEOL&&1===t.getLineCount()&&t.setEOL(1===i.defaultEOL?0:1),(!r||r.detectIndentation!==i.detectIndentation||r.insertSpaces!==i.insertSpaces||r.tabSize!==i.tabSize||r.indentSize!==i.indentSize||r.trimAutoWhitespace!==i.trimAutoWhitespace||!(0,Ks.aI)(r.bracketPairColorizationOptions,i.bracketPairColorizationOptions))&&(i.detectIndentation?(t.detectIndentation(i.insertSpaces,i.tabSize),t.updateOptions({trimAutoWhitespace:i.trimAutoWhitespace,bracketColorizationOptions:i.bracketPairColorizationOptions})):t.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.indentSize,trimAutoWhitespace:i.trimAutoWhitespace,bracketColorizationOptions:i.bracketPairColorizationOptions}))}_insertDisposedModel(t){this._disposedModels.set(Zn(t.uri),t),this._disposedModelsHeapSize+=t.heapSize}_removeDisposedModel(t){const i=this._disposedModels.get(Zn(t));return i&&(this._disposedModelsHeapSize-=i.heapSize),this._disposedModels.delete(Zn(t)),i}_ensureDisposedModelsHeapSize(t){if(this._disposedModelsHeapSize>t){const i=[];for(this._disposedModels.forEach(r=>{r.sharesUndoRedoStack||i.push(r)}),i.sort((r,o)=>r.time-o.time);i.length>0&&this._disposedModelsHeapSize>t;){const r=i.shift();this._removeDisposedModel(r.uri),null!==r.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(r.initialUndoRedoSnapshot)}}}_createModelData(t,i,r,o){const a=this.getCreationOptions(i,r,o),f=this._instantiationService.createInstance(Lr,t,i,a,r);if(r&&this._disposedModels.has(Zn(r))){const Y=this._removeDisposedModel(r),X=this._undoRedoService.getElements(r),le=this._getSHA1Computer(),ke=!!le.canComputeSHA1(f)&&le.computeSHA1(f)===Y.sha1;if(ke||Y.sharesUndoRedoStack){for(const Le of X.past)yn(Le)&&Le.matchesResource(r)&&Le.setModel(f);for(const Le of X.future)yn(Le)&&Le.matchesResource(r)&&Le.setModel(f);this._undoRedoService.setElementsValidFlag(r,!0,Le=>yn(Le)&&Le.matchesResource(r)),ke&&(f._overwriteVersionId(Y.versionId),f._overwriteAlternativeVersionId(Y.alternativeVersionId),f._overwriteInitialUndoRedoSnapshot(Y.initialUndoRedoSnapshot))}else null!==Y.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(Y.initialUndoRedoSnapshot)}const w=Zn(f.uri);if(this._models[w])throw new Error("ModelService: Cannot add model because it already exists!");const z=new Xs(f,Y=>this._onWillDispose(Y),(Y,X)=>this._onDidChangeLanguage(Y,X));return this._models[w]=z,z}createModel(t,i,r,o=!1){let a;return a=this._createModelData(t,i||Qe.vH,r,o),this._onModelAdded.fire(a.model),a.model}getModels(){const t=[],i=Object.keys(this._models);for(let r=0,o=i.length;r<o;r++)t.push(this._models[i[r]].model);return t}getModel(t){const i=Zn(t),r=this._models[i];return r?r.model:null}_schemaShouldMaintainUndoRedoElements(t){return t.scheme===Xi.ny.file||t.scheme===Xi.ny.vscodeRemote||t.scheme===Xi.ny.vscodeUserData||t.scheme===Xi.ny.vscodeNotebookCell||"fake-fs"===t.scheme}_onWillDispose(t){const i=Zn(t.uri),r=this._models[i],o=this._undoRedoService.getUriComparisonKey(t.uri)!==t.uri.toString();let a=!1,f=0;if(o||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(t.uri)){const Y=this._undoRedoService.getElements(t.uri);if(Y.past.length>0||Y.future.length>0){for(const X of Y.past)yn(X)&&X.matchesResource(t.uri)&&(a=!0,f+=X.heapSize(t.uri),X.setModel(t.uri));for(const X of Y.future)yn(X)&&X.matchesResource(t.uri)&&(a=!0,f+=X.heapSize(t.uri),X.setModel(t.uri))}}const w=mi.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,z=this._getSHA1Computer();if(a)if(o||!(f>w)&&z.canComputeSHA1(t))this._ensureDisposedModelsHeapSize(w-f),this._undoRedoService.setElementsValidFlag(t.uri,!1,Y=>yn(Y)&&Y.matchesResource(t.uri)),this._insertDisposedModel(new Js(t.uri,r.model.getInitialUndoRedoSnapshot(),Date.now(),o,f,z.computeSHA1(t),t.getVersionId(),t.getAlternativeVersionId()));else{const Y=r.model.getInitialUndoRedoSnapshot();null!==Y&&this._undoRedoService.restoreSnapshot(Y)}else if(!o){const Y=r.model.getInitialUndoRedoSnapshot();null!==Y&&this._undoRedoService.restoreSnapshot(Y)}delete this._models[i],r.dispose(),delete this._modelCreationOptionsByLanguageAndResource[t.getLanguageId()+t.uri],this._onModelRemoved.fire(t)}_onDidChangeLanguage(t,i){const r=i.oldLanguage,o=t.getLanguageId(),a=this.getCreationOptions(r,t.uri,t.isForSimpleWidget),f=this.getCreationOptions(o,t.uri,t.isForSimpleWidget);mi._setModelOptionsForModel(t,f,a),this._onModelModeChanged.fire({model:t,oldLanguageId:r})}_getSHA1Computer(){return new ws}};wr=mi=function(u,e,t,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(u,e,t,i);else for(var f=u.length-1;f>=0;f--)(a=u[f])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o}([Zi(0,Yt.pG),Zi(1,Qs.ITextResourcePropertiesService),Zi(2,bs),Zi(3,jt._Y)],wr);let ws=(()=>{class u{static{this.MAX_MODEL_SIZE=10485760}canComputeSHA1(t){return t.getValueLength()<=u.MAX_MODEL_SIZE}computeSHA1(t){const i=new qs.v7,r=t.createSnapshot();let o;for(;o=r.read();)i.update(o);return i.digest()}}return u})()},5425:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{ITextModelService:()=>$});const $=(0,x(598).u1)("textModelService")},4567:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{encodeSemanticTokensDto:()=>p});var N=x(3233),$=x(1828);function p(l){const I=new Uint32Array(function P(l){let I=0;if(I+=2,"full"===l.type)I+=1+l.data.length;else{I+=1,I+=3*l.deltas.length;for(const D of l.deltas)D.data&&(I+=D.data.length)}return I}(l));let D=0;if(I[D++]=l.id,"full"===l.type)I[D++]=1,I[D++]=l.data.length,I.set(l.data,D),D+=l.data.length;else{I[D++]=2,I[D++]=l.deltas.length;for(const Z of l.deltas)I[D++]=Z.start,I[D++]=Z.deleteCount,Z.data?(I[D++]=Z.data.length,I.set(Z.data,D),D+=Z.data.length):I[D++]=0}return function E(l){const I=new Uint8Array(l.buffer,l.byteOffset,4*l.length);return $.cm()||function s(l){for(let I=0,D=l.length;I<D;I+=4){const Z=l[I+0],H=l[I+1],L=l[I+2];l[I+0]=l[I+3],l[I+1]=L,l[I+2]=H,l[I+3]=Z}}(I),N.MB.wrap(I)}(I)}},7088:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{SemanticTokensProviderStyling:()=>y,toMultilineTokens2:()=>C}),x(1861);var $=x(7464),s=x(2124),E=x(3632),p=x(3678),P=x(5583);class l{static create(d,k){return new l(d,new I(k))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(d,k){this._startLineNumber=d,this._tokens=k,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(d){return this._startLineNumber<=d&&d<=this._endLineNumber?this._tokens.getLineTokens(d-this._startLineNumber):null}getRange(){const d=this._tokens.getRange();return d&&new p.Q(this._startLineNumber+d.startLineNumber,d.startColumn,this._startLineNumber+d.endLineNumber,d.endColumn)}removeTokens(d){this._startLineNumber+=this._tokens.removeTokens(d.startLineNumber-this._startLineNumber,d.startColumn-1,d.endLineNumber-this._startLineNumber,d.endColumn-1),this._updateEndLineNumber()}split(d){const k=d.startLineNumber-this._startLineNumber,m=d.endLineNumber-this._startLineNumber,[R,F,O]=this._tokens.split(k,d.startColumn-1,m,d.endColumn-1);return[new l(this._startLineNumber,R),new l(this._startLineNumber+O,F)]}applyEdit(d,k){const[m,R,F]=(0,P.W)(k);this.acceptEdit(d,m,R,F,k.length>0?k.charCodeAt(0):0)}acceptEdit(d,k,m,R,F){this._acceptDeleteRange(d),this._acceptInsertText(new E.y(d.startLineNumber,d.startColumn),k,m,R,F),this._updateEndLineNumber()}_acceptDeleteRange(d){if(d.startLineNumber===d.endLineNumber&&d.startColumn===d.endColumn)return;const k=d.startLineNumber-this._startLineNumber,m=d.endLineNumber-this._startLineNumber;if(m<0)return void(this._startLineNumber-=m-k);const R=this._tokens.getMaxDeltaLine();if(!(k>=R+1)){if(k<0&&m>=R+1)return this._startLineNumber=0,void this._tokens.clear();k<0?(this._startLineNumber-=-k,this._tokens.acceptDeleteRange(d.startColumn-1,0,0,m,d.endColumn-1)):this._tokens.acceptDeleteRange(0,k,d.startColumn-1,m,d.endColumn-1)}}_acceptInsertText(d,k,m,R,F){if(0===k&&0===m)return;const O=d.lineNumber-this._startLineNumber;O<0?this._startLineNumber+=k:O>=this._tokens.getMaxDeltaLine()+1||this._tokens.acceptInsertText(O,d.column-1,k,m,R,F)}}class I{constructor(d){this._tokens=d,this._tokenCount=d.length/4}toString(d){const k=[];for(let m=0;m<this._tokenCount;m++)k.push(`(${this._getDeltaLine(m)+d},${this._getStartCharacter(m)}-${this._getEndCharacter(m)})`);return`[${k.join(",")}]`}getMaxDeltaLine(){const d=this._getTokenCount();return 0===d?-1:this._getDeltaLine(d-1)}getRange(){const d=this._getTokenCount();if(0===d)return null;const k=this._getStartCharacter(0),m=this._getDeltaLine(d-1),R=this._getEndCharacter(d-1);return new p.Q(0,k+1,m,R+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(d){return this._tokens[4*d]}_getStartCharacter(d){return this._tokens[4*d+1]}_getEndCharacter(d){return this._tokens[4*d+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(d){let k=0,m=this._getTokenCount()-1;for(;k<m;){const R=k+Math.floor((m-k)/2),F=this._getDeltaLine(R);if(F<d)k=R+1;else{if(!(F>d)){let O=R;for(;O>k&&this._getDeltaLine(O-1)===d;)O--;let v=R;for(;v<m&&this._getDeltaLine(v+1)===d;)v++;return new D(this._tokens.subarray(4*O,4*v+4))}m=R-1}}return this._getDeltaLine(k)===d?new D(this._tokens.subarray(4*k,4*k+4)):null}clear(){this._tokenCount=0}removeTokens(d,k,m,R){const F=this._tokens,O=this._tokenCount;let v=0,A=!1,W=0;for(let S=0;S<O;S++){const M=4*S,G=F[M],ne=F[M+1],oe=F[M+2],q=F[M+3];if((G>d||G===d&&oe>=k)&&(G<m||G===m&&ne<=R))A=!0;else{if(0===v&&(W=G),A){const K=4*v;F[K]=G-W,F[K+1]=ne,F[K+2]=oe,F[K+3]=q}v++}}return this._tokenCount=v,W}split(d,k,m,R){const F=this._tokens,O=this._tokenCount,v=[],A=[];let W=v,S=0,M=0;for(let G=0;G<O;G++){const ne=4*G,oe=F[ne],q=F[ne+1],K=F[ne+2],be=F[ne+3];if(oe>d||oe===d&&K>=k){if(oe<m||oe===m&&q<=R)continue;W!==A&&(W=A,S=0,M=oe)}W[S++]=oe-M,W[S++]=q,W[S++]=K,W[S++]=be}return[new I(new Uint32Array(v)),new I(new Uint32Array(A)),M]}acceptDeleteRange(d,k,m,R,F){const O=this._tokens,v=this._tokenCount,A=R-k;let W=0,S=!1;for(let M=0;M<v;M++){const G=4*M;let ne=O[G],oe=O[G+1],q=O[G+2];const K=O[G+3];if(ne<k||ne===k&&q<=m){W++;continue}if(ne===k&&oe<m)ne===R&&q>F?q-=F-m:q=m;else if(ne===k&&oe===m){if(!(ne===R&&q>F)){S=!0;continue}q-=F-m}else if(ne<R||ne===R&&oe<F){if(!(ne===R&&q>F)){S=!0;continue}ne=k,oe=m,q=oe+(q-F)}else if(ne>R){if(0===A&&!S){W=v;break}ne-=A}else{if(!(ne===R&&oe>=F))throw new Error("Not possible!");d&&0===ne&&(oe+=d,q+=d),ne-=A,oe-=F-m,q-=F-m}const be=4*W;O[be]=ne,O[be+1]=oe,O[be+2]=q,O[be+3]=K,W++}this._tokenCount=W}acceptInsertText(d,k,m,R,F,O){const v=0===m&&1===R&&(O>=48&&O<=57||O>=65&&O<=90||O>=97&&O<=122),A=this._tokens,W=this._tokenCount;for(let S=0;S<W;S++){const M=4*S;let G=A[M],ne=A[M+1],oe=A[M+2];if(!(G<d||G===d&&oe<k)){if(G===d&&oe===k){if(!v)continue;oe+=1}else if(G===d&&ne<k&&k<oe)0===m?oe+=R:oe=k;else{if(G===d&&ne===k&&v)continue;if(G===d)if(G+=m,0===m)ne+=R,oe+=R;else{const q=oe-ne;ne=F+(ne-k),oe=ne+q}else G+=m}A[M]=G,A[M+1]=ne,A[M+2]=oe}}}}class D{constructor(d){this._tokens=d}getCount(){return this._tokens.length/4}getStartCharacter(d){return this._tokens[4*d+1]}getEndCharacter(d){return this._tokens[4*d+2]}getMetadata(d){return this._tokens[4*d+3]}}var Z=x(385),L=function(se,d){return function(k,m){d(k,m,se)}};let y=class{constructor(d,k,m,R){this._legend=d,this._themeService=k,this._languageService=m,this._logService=R,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new he}getMetadata(d,k,m){const R=this._languageService.languageIdCodec.encodeLanguageId(m),F=this._hashTable.get(d,k,R);let O;if(F)O=F.metadata;else{let v=this._legend.tokenTypes[d];const A=[];if(v){let W=k;for(let M=0;W>0&&M<this._legend.tokenModifiers.length;M++)1&W&&A.push(this._legend.tokenModifiers[M]),W>>=1;const S=this._themeService.getColorTheme().getTokenStyleMetadata(v,A,m);typeof S>"u"?O=2147483647:(O=0,typeof S.italic<"u"&&(O|=1|(S.italic?1:0)<<11),typeof S.bold<"u"&&(O|=2|(S.bold?2:0)<<11),typeof S.underline<"u"&&(O|=4|(S.underline?4:0)<<11),typeof S.strikethrough<"u"&&(O|=8|(S.strikethrough?8:0)<<11),S.foreground&&(O|=16|S.foreground<<15),0===O&&(O=2147483647))}else O=2147483647,v="not-in-legend";this._hashTable.add(d,k,R,O)}return O}warnOverlappingSemanticTokens(d,k){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${d}, column ${k}`))}warnInvalidLengthSemanticTokens(d,k){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${d}, column ${k}`))}warnInvalidEditStart(d,k,m,R,F){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${d}, resultId: ${k}) at edit #${m}: The provided start offset ${R} is outside the previous data (length ${F}).`))}};function C(se,d,k){const m=se.data,R=se.data.length/5|0,F=Math.max(Math.ceil(R/1024),400),O=[];let v=0,A=1,W=0;for(;v<R;){const S=v;let M=Math.min(S+F,R);if(M<R){let ie=M;for(;ie-1>S&&0===m[5*ie];)ie--;if(ie-1===S){let T=M;for(;T+1<R&&0===m[5*T];)T++;M=T}else M=ie}let G=new Uint32Array(4*(M-S)),ne=0,oe=0,q=0,K=0;for(;v<M;){const ie=5*v,T=m[ie],V=m[ie+1],J=A+T|0,re=0===T?W+V|0:V,_e=re+m[ie+2]|0,Se=m[ie+3],xe=m[ie+4];if(_e<=re)d.warnInvalidLengthSemanticTokens(J,re+1);else if(q===J&&K>re)d.warnOverlappingSemanticTokens(J,re+1);else{const ze=d.getMetadata(Se,xe,k);2147483647!==ze&&(0===oe&&(oe=J),G[ne]=J-oe,G[ne+1]=re,G[ne+2]=_e,G[ne+3]=ze,ne+=4,q=J,K=_e)}A=J,W=re,v++}ne!==G.length&&(G=G.subarray(0,ne));const be=l.create(oe,G);O.push(be)}return O}y=function(se,d,k,m){var O,R=arguments.length,F=R<3?d:null===m?m=Object.getOwnPropertyDescriptor(d,k):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)F=Reflect.decorate(se,d,k,m);else for(var v=se.length-1;v>=0;v--)(O=se[v])&&(F=(R<3?O(F):R>3?O(d,k,F):O(d,k))||F);return R>3&&F&&Object.defineProperty(d,k,F),F}([L(1,$.Gy),L(2,Z.L),L(3,s.rr)],y);class h{constructor(d,k,m,R){this.tokenTypeIndex=d,this.tokenModifierSet=k,this.languageId=m,this.metadata=R,this.next=null}}let he=(()=>{class se{static{this._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=se._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<se._SIZES.length?2/3*this._currentLength:0),this._elements=[],se._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(k,m){for(let R=0;R<m;R++)k[R]=null}_hash2(k,m){return(k<<5)-k+m|0}_hashFunc(k,m,R){return this._hash2(this._hash2(k,m),R)%this._currentLength}get(k,m,R){const F=this._hashFunc(k,m,R);let O=this._elements[F];for(;O;){if(O.tokenTypeIndex===k&&O.tokenModifierSet===m&&O.languageId===R)return O;O=O.next}return null}add(k,m,R,F){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const O=this._elements;this._currentLengthIndex++,this._currentLength=se._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<se._SIZES.length?2/3*this._currentLength:0),this._elements=[],se._nullOutEntries(this._elements,this._currentLength);for(const v of O){let A=v;for(;A;){const W=A.next;A.next=null,this._add(A),A=W}}}this._add(new h(k,m,R,F))}_add(k){const m=this._hashFunc(k.tokenTypeIndex,k.tokenModifierSet,k.languageId);k.next=this._elements[m],this._elements[m]=k}}return se})()},5424:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{ISemanticTokensStylingService:()=>$});const $=(0,x(598).u1)("semanticTokensStylingService")},281:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{SemanticTokensStylingService:()=>Z});var N=x(4061),$=x(385),s=x(7464),E=x(2124),p=x(7088),P=x(5424),l=x(2534),D=function(H,L){return function(_,y){L(_,y,H)}};let Z=class extends N.jG{constructor(L,_,y){super(),this._themeService=L,this._logService=_,this._languageService=y,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(L){return this._caches.has(L)||this._caches.set(L,new p.SemanticTokensProviderStyling(L.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(L)}};Z=function(H,L,_,y){var he,C=arguments.length,h=C<3?L:null===y?y=Object.getOwnPropertyDescriptor(L,_):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(H,L,_,y);else for(var se=H.length-1;se>=0;se--)(he=H[se])&&(h=(C<3?he(h):C>3?he(L,_,h):he(L,_))||h);return C>3&&h&&Object.defineProperty(L,_,h),h}([D(0,s.Gy),D(1,E.rr),D(2,$.L)],Z),(0,l.v)(P.ISemanticTokensStylingService,Z,1)},3296:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{MirrorModel:()=>he,STOP_SYNC_MODEL_DELTA_TIME_MS:()=>y,WorkerTextModelSyncClient:()=>C,WorkerTextModelSyncServer:()=>h});var N=x(795),$=x(4061),s=x(2417),E=x(3632),p=x(3678),P=x(199),l=x(6653),D=(x(833),x(4371));class Z{constructor(d){this.values=d,this.prefixSum=new Uint32Array(d.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(d,k){d=(0,D.j)(d);const m=this.values,R=this.prefixSum,F=k.length;return 0!==F&&(this.values=new Uint32Array(m.length+F),this.values.set(m.subarray(0,d),0),this.values.set(m.subarray(d),d+F),this.values.set(k,d),d-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=d-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(R.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(d,k){return d=(0,D.j)(d),k=(0,D.j)(k),this.values[d]!==k&&(this.values[d]=k,d-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=d-1),!0)}removeValues(d,k){d=(0,D.j)(d),k=(0,D.j)(k);const m=this.values,R=this.prefixSum;if(d>=m.length)return!1;const F=m.length-d;return k>=F&&(k=F),0!==k&&(this.values=new Uint32Array(m.length-k),this.values.set(m.subarray(0,d),0),this.values.set(m.subarray(d+k),d),this.prefixSum=new Uint32Array(this.values.length),d-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=d-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(R.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(d){return d<0?0:(d=(0,D.j)(d),this._getPrefixSum(d))}_getPrefixSum(d){if(d<=this.prefixSumValidIndex[0])return this.prefixSum[d];let k=this.prefixSumValidIndex[0]+1;0===k&&(this.prefixSum[0]=this.values[0],k++),d>=this.values.length&&(d=this.values.length-1);for(let m=k;m<=d;m++)this.prefixSum[m]=this.prefixSum[m-1]+this.values[m];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],d),this.prefixSum[d]}getIndexOf(d){d=Math.floor(d),this.getTotalSum();let k=0,m=this.values.length-1,R=0,F=0,O=0;for(;k<=m;)if(R=k+(m-k)/2|0,F=this.prefixSum[R],O=F-this.values[R],d<O)m=R-1;else{if(!(d>=F))break;k=R+1}return new L(R,d-O)}}class L{constructor(d,k){this.index=d,this.remainder=k,this._prefixSumIndexOfResultBrand=void 0,this.index=d,this.remainder=k}}class _{constructor(d,k,m,R){this._uri=d,this._lines=k,this._eol=m,this._versionId=R,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(d){d.eol&&d.eol!==this._eol&&(this._eol=d.eol,this._lineStarts=null);const k=d.changes;for(const m of k)this._acceptDeleteRange(m.range),this._acceptInsertText(new E.y(m.range.startLineNumber,m.range.startColumn),m.text);this._versionId=d.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const d=this._eol.length,k=this._lines.length,m=new Uint32Array(k);for(let R=0;R<k;R++)m[R]=this._lines[R].length+d;this._lineStarts=new Z(m)}}_setLineText(d,k){this._lines[d]=k,this._lineStarts&&this._lineStarts.setValue(d,this._lines[d].length+this._eol.length)}_acceptDeleteRange(d){if(d.startLineNumber!==d.endLineNumber)this._setLineText(d.startLineNumber-1,this._lines[d.startLineNumber-1].substring(0,d.startColumn-1)+this._lines[d.endLineNumber-1].substring(d.endColumn-1)),this._lines.splice(d.startLineNumber,d.endLineNumber-d.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(d.startLineNumber,d.endLineNumber-d.startLineNumber);else{if(d.startColumn===d.endColumn)return;this._setLineText(d.startLineNumber-1,this._lines[d.startLineNumber-1].substring(0,d.startColumn-1)+this._lines[d.startLineNumber-1].substring(d.endColumn-1))}}_acceptInsertText(d,k){if(0===k.length)return;const m=(0,l.uz)(k);if(1===m.length)return void this._setLineText(d.lineNumber-1,this._lines[d.lineNumber-1].substring(0,d.column-1)+m[0]+this._lines[d.lineNumber-1].substring(d.column-1));m[m.length-1]+=this._lines[d.lineNumber-1].substring(d.column-1),this._setLineText(d.lineNumber-1,this._lines[d.lineNumber-1].substring(0,d.column-1)+m[0]);const R=new Uint32Array(m.length-1);for(let F=1;F<m.length;F++)this._lines.splice(d.lineNumber+F-1,0,m[F]),R[F-1]=m[F].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(d.lineNumber,R)}}const y=6e4;class C extends $.jG{constructor(d,k,m=!1){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=d,this._modelService=k,!m){const R=new N.vb;R.cancelAndSet(()=>this._checkStopModelSync(),Math.round(y/2)),this._register(R)}}dispose(){for(const d in this._syncedModels)(0,$.AS)(this._syncedModels[d]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(d,k=!1){for(const m of d){const R=m.toString();this._syncedModels[R]||this._beginModelSync(m,k),this._syncedModels[R]&&(this._syncedModelsLastUsedTime[R]=(new Date).getTime())}}_checkStopModelSync(){const d=(new Date).getTime(),k=[];for(const m in this._syncedModelsLastUsedTime)d-this._syncedModelsLastUsedTime[m]>y&&k.push(m);for(const m of k)this._stopModelSync(m)}_beginModelSync(d,k){const m=this._modelService.getModel(d);if(!m||!k&&m.isTooLargeForSyncing())return;const R=d.toString();this._proxy.$acceptNewModel({url:m.uri.toString(),lines:m.getLinesContent(),EOL:m.getEOL(),versionId:m.getVersionId()});const F=new $.Cm;F.add(m.onDidChangeContent(O=>{this._proxy.$acceptModelChanged(R.toString(),O)})),F.add(m.onWillDispose(()=>{this._stopModelSync(R)})),F.add((0,$.s)(()=>{this._proxy.$acceptRemovedModel(R)})),this._syncedModels[R]=F}_stopModelSync(d){const k=this._syncedModels[d];delete this._syncedModels[d],delete this._syncedModelsLastUsedTime[d],(0,$.AS)(k)}}class h{constructor(){this._models=Object.create(null)}getModel(d){return this._models[d]}getModels(){const d=[];return Object.keys(this._models).forEach(k=>d.push(this._models[k])),d}$acceptNewModel(d){this._models[d.url]=new he(s.r.parse(d.url),d.lines,d.EOL,d.versionId)}$acceptModelChanged(d,k){this._models[d]&&this._models[d].onEvents(k)}$acceptRemovedModel(d){this._models[d]&&delete this._models[d]}}class he extends _{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(d){const k=[];for(let m=0;m<this._lines.length;m++){const R=this._lines[m],F=this.offsetAt(new E.y(m+1,1)),O=R.matchAll(d);for(const v of O)(v.index||0===v.index)&&(v.index=v.index+F),k.push(v)}return k}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(d){return this._lines[d-1]}getWordAtPosition(d,k){const m=(0,P.Th)(d.column,(0,P.Io)(k),this._lines[d.lineNumber-1],0);return m?new p.Q(d.lineNumber,m.startColumn,d.lineNumber,m.endColumn):null}words(d){const k=this._lines,m=this._wordenize.bind(this);let R=0,F="",O=0,v=[];return{*[Symbol.iterator](){for(;;)if(O<v.length){const A=F.substring(v[O].start,v[O].end);O+=1,yield A}else{if(!(R<k.length))break;F=k[R],v=m(F,d),O=0,R+=1}}}}getLineWords(d,k){const m=this._lines[d-1],R=this._wordenize(m,k),F=[];for(const O of R)F.push({word:m.substring(O.start,O.end),startColumn:O.start+1,endColumn:O.end+1});return F}_wordenize(d,k){const m=[];let R;for(k.lastIndex=0;(R=k.exec(d))&&0!==R[0].length;)m.push({start:R.index,end:R.index+R[0].length});return m}getValueInRange(d){if((d=this._validateRange(d)).startLineNumber===d.endLineNumber)return this._lines[d.startLineNumber-1].substring(d.startColumn-1,d.endColumn-1);const k=this._eol,m=d.startLineNumber-1,R=d.endLineNumber-1,F=[];F.push(this._lines[m].substring(d.startColumn-1));for(let O=m+1;O<R;O++)F.push(this._lines[O]);return F.push(this._lines[R].substring(0,d.endColumn-1)),F.join(k)}offsetAt(d){return d=this._validatePosition(d),this._ensureLineStarts(),this._lineStarts.getPrefixSum(d.lineNumber-2)+(d.column-1)}positionAt(d){d=Math.floor(d),d=Math.max(0,d),this._ensureLineStarts();const k=this._lineStarts.getIndexOf(d);return{lineNumber:1+k.index,column:1+Math.min(k.remainder,this._lines[k.index].length)}}_validateRange(d){const k=this._validatePosition({lineNumber:d.startLineNumber,column:d.startColumn}),m=this._validatePosition({lineNumber:d.endLineNumber,column:d.endColumn});return k.lineNumber!==d.startLineNumber||k.column!==d.startColumn||m.lineNumber!==d.endLineNumber||m.column!==d.endColumn?{startLineNumber:k.lineNumber,startColumn:k.column,endLineNumber:m.lineNumber,endColumn:m.column}:d}_validatePosition(d){if(!E.y.isIPosition(d))throw new Error("bad position");let{lineNumber:k,column:m}=d,R=!1;if(k<1)k=1,m=1,R=!0;else if(k>this._lines.length)k=this._lines.length,m=this._lines[k-1].length+1,R=!0;else{const F=this._lines[k-1].length+1;m<1?(m=1,R=!0):m>F&&(m=F,R=!0)}return R?{lineNumber:k,column:m}:d}}},2045:(Ve,ve,x)=>{"use strict";x.r(ve)},1355:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{ITextResourceConfigurationService:()=>$,ITextResourcePropertiesService:()=>s});var N=x(598);const $=(0,N.u1)("textResourceConfigurationService"),s=(0,N.u1)("textResourcePropertiesService")},2291:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{ITreeSitterParserService:()=>$});const $=(0,x(598).u1)("treeSitterParserService")},1734:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{DraggedTreeItemsIdentifier:()=>$,TreeViewsDnDService:()=>N});class N{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(E){if(E&&this._dragOperations.has(E)){const p=this._dragOperations.get(E);return this._dragOperations.delete(E),p}}}class ${constructor(E){this.identifier=E}}},1083:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{ITreeViewsDnDService:()=>E});var N=x(2534),$=x(598),s=x(1734);const E=(0,$.u1)("treeViewsDndService");(0,N.v)(E,s.TreeViewsDnDService,1)},8752:(Ve,ve,x)=>{"use strict";x.r(ve),x.d(ve,{UnicodeTextModelHighlighter:()=>P});var N=x(3678),$=x(9966),s=x(6653),E=x(3929),p=x(199);class P{static computeUnicodeHighlights(H,L,_){const y=_?_.startLineNumber:1,C=_?_.endLineNumber:H.getLineCount(),h=new I(L),he=h.getCandidateCodePoints();let se;se="allNonBasicAscii"===he?new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):new RegExp(`${function l(Z){return`[${s.bm(Z.map(_=>String.fromCodePoint(_)).join(""))}]`}(Array.from(he))}`,"g");const d=new $.W5(null,se),k=[];let R,m=!1,F=0,O=0,v=0;e:for(let A=y,W=C;A<=W;A++){const S=H.getLineContent(A),M=S.length;d.reset(0);do{if(R=d.next(S),R){let G=R.index,ne=R.index+R[0].length;if(G>0){const be=S.charCodeAt(G-1);s.pc(be)&&G--}if(ne+1<M){const be=S.charCodeAt(ne-1);s.pc(be)&&ne++}const oe=S.substring(G,ne);let q=(0,p.Th)(G+1,p.Ld,S,0);q&&q.endColumn<=G+1&&(q=null);const K=h.shouldHighlightNonBasicASCII(oe,q?q.word:null);if(0!==K){if(3===K?F++:2===K?O++:1===K?v++:(0,E.xb)(K),k.length>=1e3){m=!0;break e}k.push(new N.Q(A,G+1,A,ne+1))}}}while(R)}return{ranges:k,hasMore:m,ambiguousCharacterCount:F,invisibleCharacterCount:O,nonBasicAsciiCharacterCount:v}}static computeUnicodeHighlightReason(H,L){const _=new I(L);switch(_.shouldHighlightNonBasicASCII(H,null)){case 0:return null;case 2:return{kind:1};case 3:{const C=H.codePointAt(0),h=_.ambiguousCharacters.getPrimaryConfusable(C),he=s.tl.getLocales().filter(se=>!s.tl.getInstance(new Set([...L.allowedLocales,se])).isAmbiguous(C));return{kind:0,confusableWith:String.fromCodePoint(h),notAmbiguousInLocales:he}}case 1:return{kind:2}}}}class I{constructor(H){this.options=H,this.allowedCodePoints=new Set(H.allowedCodePoints),this.ambiguousCharacters=s.tl.getInstance(new Set(H.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const H=new Set;if(this.options.invisibleCharacters)for(const L of s.y_.codePoints)D(String.fromCodePoint(L))||H.add(L);if(this.options.ambiguousCharacters)for(const L of this.ambiguousCharacters.getConfusableCodePoints())H.add(L);for(const L of this.allowedCodePoints)H.delete(L);return H}shouldHighlightNonBasicASCII(H,L){const _=H.codePointAt(0);if(this.allowedCodePoints.has(_))return 0;if(this.options.nonBasicASCII)return 1;let y=!1,C=!1;if(L)for(const h of L){const he=h.codePointAt(0),se=s.aC(h);y=y||se,!se&&!this.ambiguousCharacters.isAmbiguous(he)&&!s.y_.isInvisibleCharacter(he)&&(C=!0)}return!y&&C?0:this.options.invisibleCharacters&&!D(H)&&s.y_.isInvisibleCharacter(_)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(_)?3:0}}function D(Z){return" "===Z||"\n"===Z||"\t"===Z}},1913:(Ve,ve,x)=>{"use strict";function $(){return globalThis._VSCODE_NLS_LANGUAGE}x.d(ve,{i8:()=>$,kg:()=>p});const s="pseudo"===$()||typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function p(I,D,...Z){return function E(I,D){let Z;return Z=0===D.length?I:I.replace(/\{(\d+)\}/g,(H,L)=>{const y=D[L[0]];let C=H;return"string"==typeof y?C=y:("number"==typeof y||"boolean"==typeof y||null==y)&&(C=String(y)),C}),s&&(Z="\uff3b"+Z.replace(/[aouei]/g,"$&$&")+"\uff3d"),Z}("number"==typeof I?function P(I,D){const Z=function N(){return globalThis._VSCODE_NLS_MESSAGES}()?.[I];if("string"!=typeof Z){if("string"==typeof D)return D;throw new Error(`!!! NLS MISSING: ${I} !!!`)}return Z}(I,D):D,Z)}},5072:(Ve,ve,x)=>{"use strict";x.d(ve,{Mo:()=>I,pG:()=>$});const $=(0,x(598).u1)("configurationService");function I(D){return D.replace(/[\[\]]/g,"")}},987:(Ve,ve,x)=>{"use strict";x.d(ve,{Fd:()=>I});var N=x(833),$=x(5643),s=x(6702),E=x(1913),p=x(5072),P=x(4027),l=x(7018);const I={Configuration:"base.contributions.configuration"},D={properties:{},patternProperties:{}},Z={properties:{},patternProperties:{}},H={properties:{},patternProperties:{}},L={properties:{},patternProperties:{}},_={properties:{},patternProperties:{}},y={properties:{},patternProperties:{}},C="vscode://schemas/settings/resourceLanguage",h=l.O.as(P.F.JSONContribution),se="\\[([^\\]]+)\\]",d=new RegExp(se,"g"),k=`^(${se})+$`,m=new RegExp(k);function R(A){const W=[];if(m.test(A)){let S=d.exec(A);for(;S?.length;){const M=S[1].trim();M&&W.push(M),S=d.exec(A)}}return(0,N.dM)(W)}const O=new class he{constructor(){this.registeredConfigurationDefaults=[],this.overrideIdentifiers=new Set,this._onDidSchemaChange=new $.vl,this._onDidUpdateConfiguration=new $.vl,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:E.kg("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},h.registerSchema(C,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(W,S=!0){this.registerConfigurations([W],S)}registerConfigurations(W,S=!0){const M=new Set;this.doRegisterConfigurations(W,S,M),h.registerSchema(C,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:M})}registerDefaultConfigurations(W){const S=new Set;this.doRegisterDefaultConfigurations(W,S),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:S,defaultsOverrides:!0})}doRegisterDefaultConfigurations(W,S){this.registeredConfigurationDefaults.push(...W);const M=[];for(const{overrides:G,source:ne}of W)for(const oe in G){S.add(oe);const q=this.configurationDefaultsOverrides.get(oe)??this.configurationDefaultsOverrides.set(oe,{configurationDefaultOverrides:[]}).get(oe),K=G[oe];if(q.configurationDefaultOverrides.push({value:K,source:ne}),m.test(oe)){const be=this.mergeDefaultConfigurationsForOverrideIdentifier(oe,K,ne,q.configurationDefaultOverrideValue);if(!be)continue;q.configurationDefaultOverrideValue=be,this.updateDefaultOverrideProperty(oe,be,ne),M.push(...R(oe))}else{const be=this.mergeDefaultConfigurationsForConfigurationProperty(oe,K,ne,q.configurationDefaultOverrideValue);if(!be)continue;q.configurationDefaultOverrideValue=be;const ie=this.configurationProperties[oe];ie&&(this.updatePropertyDefaultValue(oe,ie),this.updateSchema(oe,ie))}}this.doRegisterOverrideIdentifiers(M)}updateDefaultOverrideProperty(W,S,M){const G={type:"object",default:S.value,description:E.kg("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",(0,p.Mo)(W)),$ref:C,defaultDefaultValue:S.value,source:M,defaultValueSource:M};this.configurationProperties[W]=G,this.defaultLanguageConfigurationOverridesNode.properties[W]=G}mergeDefaultConfigurationsForOverrideIdentifier(W,S,M,G){const ne=G?.value||{},oe=G?.source??new Map;if(oe instanceof Map){for(const q of Object.keys(S)){const K=S[q];if(s.Gv(K)&&(s.b0(ne[q])||s.Gv(ne[q]))){if(ne[q]={...ne[q]??{},...K},M)for(const ie in K)oe.set(`${q}.${ie}`,M)}else ne[q]=K,M?oe.set(q,M):oe.delete(q)}return{value:ne,source:oe}}console.error("objectConfigurationSources is not a Map")}mergeDefaultConfigurationsForConfigurationProperty(W,S,M,G){const ne=this.configurationProperties[W],oe=G?.value??ne?.defaultDefaultValue;let q=M;if(s.Gv(S)&&(void 0!==ne&&"object"===ne.type||void 0===ne&&(s.b0(oe)||s.Gv(oe)))){if(q=G?.source??new Map,!(q instanceof Map))return void console.error("defaultValueSource is not a Map");for(const be in S)M&&q.set(`${W}.${be}`,M);S={...s.Gv(oe)?oe:{},...S}}return{value:S,source:q}}registerOverrideIdentifiers(W){this.doRegisterOverrideIdentifiers(W),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(W){for(const S of W)this.overrideIdentifiers.add(S);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(W,S,M){W.forEach(G=>{this.validateAndRegisterProperties(G,S,G.extensionInfo,G.restrictedProperties,void 0,M),this.configurationContributors.push(G),this.registerJSONConfiguration(G)})}validateAndRegisterProperties(W,S=!0,M,G,ne=3,oe){ne=s.z(W.scope)?ne:W.scope;const q=W.properties;if(q)for(const be in q){const ie=q[be];S&&v(be,ie)?delete q[be]:(ie.source=M,ie.defaultDefaultValue=q[be].default,this.updatePropertyDefaultValue(be,ie),m.test(be)?ie.scope=void 0:(ie.scope=s.z(ie.scope)?ne:ie.scope,ie.restricted=s.z(ie.restricted)?!!G?.includes(be):ie.restricted),!q[be].hasOwnProperty("included")||q[be].included?(this.configurationProperties[be]=q[be],q[be].policy?.name&&this.policyConfigurations.set(q[be].policy.name,be),!q[be].deprecationMessage&&q[be].markdownDeprecationMessage&&(q[be].deprecationMessage=q[be].markdownDeprecationMessage),oe.add(be)):(this.excludedConfigurationProperties[be]=q[be],delete q[be]))}const K=W.allOf;if(K)for(const be of K)this.validateAndRegisterProperties(be,S,M,G,ne,oe)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(W){const S=M=>{const G=M.properties;if(G)for(const oe in G)this.updateSchema(oe,G[oe]);M.allOf?.forEach(S)};S(W)}updateSchema(W,S){switch(D.properties[W]=S,S.scope){case 1:Z.properties[W]=S;break;case 2:H.properties[W]=S;break;case 6:L.properties[W]=S;break;case 3:_.properties[W]=S;break;case 4:y.properties[W]=S;break;case 5:y.properties[W]=S,this.resourceLanguageSettingsSchema.properties[W]=S}}updateOverridePropertyPatternKey(){for(const W of this.overrideIdentifiers.values()){const S=`[${W}]`,M={type:"object",description:E.kg("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:E.kg("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:C};this.updatePropertyDefaultValue(S,M),D.properties[S]=M,Z.properties[S]=M,H.properties[S]=M,L.properties[S]=M,_.properties[S]=M,y.properties[S]=M}}registerOverridePropertyPatternKey(){const W={type:"object",description:E.kg("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:E.kg("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:C};D.patternProperties[k]=W,Z.patternProperties[k]=W,H.patternProperties[k]=W,L.patternProperties[k]=W,_.patternProperties[k]=W,y.patternProperties[k]=W,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(W,S){const M=this.configurationDefaultsOverrides.get(W)?.configurationDefaultOverrideValue;let G,ne;M&&(!S.disallowConfigurationDefault||!M.source)&&(G=M.value,ne=M.source),s.b0(G)&&(G=S.defaultDefaultValue,ne=void 0),s.b0(G)&&(G=function F(A){switch(Array.isArray(A)?A[0]:A){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(S.type)),S.default=G,S.defaultValueSource=ne}};function v(A,W){return A.trim()?m.test(A)?E.kg("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",A):void 0!==O.getConfigurationProperties()[A]?E.kg("config.property.duplicate","Cannot register '{0}'. This property is already registered.",A):W.policy?.name&&void 0!==O.getPolicyConfigurations().get(W.policy?.name)?E.kg("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",A,W.policy?.name,O.getPolicyConfigurations().get(W.policy?.name)):null:E.kg("config.property.empty","Cannot register an empty property")}l.O.add(I.Configuration,O)},2534:(Ve,ve,x)=>{"use strict";x.d(ve,{v:()=>s});class N{constructor(P,l=[],I=!1){this.ctor=P,this.staticArguments=l,this.supportsDelayedInstantiation=I}}const $=[];function s(p,P,l){P instanceof N||(P=new N(P,[],!!l)),$.push([p,P])}},598:(Ve,ve,x)=>{"use strict";var N,p;x.d(ve,{_Y:()=>$,u1:()=>E}),(p=N||(N={})).serviceIds=new Map,p.DI_TARGET="$di$target",p.DI_DEPENDENCIES="$di$dependencies",p.getServiceDependencies=function P(l){return l[p.DI_DEPENDENCIES]||[]};const $=E("instantiationService");function E(p){if(N.serviceIds.has(p))return N.serviceIds.get(p);const P=function(l,I,D){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function s(p,P,l){P[N.DI_TARGET]===P?P[N.DI_DEPENDENCIES].push({id:p,index:l}):(P[N.DI_DEPENDENCIES]=[{id:p,index:l}],P[N.DI_TARGET]=P)}(P,l,D)};return P.toString=()=>p,N.serviceIds.set(p,P),P}},4027:(Ve,ve,x)=>{"use strict";x.d(ve,{F:()=>s});var N=x(5643),$=x(7018);const s={JSONContribution:"base.contributions.json"},P=new class p{constructor(){this._onDidChangeSchema=new N.vl,this.schemasById={}}registerSchema(I,D){this.schemasById[function E(l){return l.length>0&&"#"===l.charAt(l.length-1)?l.substring(0,l.length-1):l}(I)]=D,this._onDidChangeSchema.fire(I)}notifySchemaChanged(I){this._onDidChangeSchema.fire(I)}};$.O.add(s.JSONContribution,P)},2124:(Ve,ve,x)=>{"use strict";x.d(ve,{rr:()=>At,$b:()=>_t}),x(5643),x(4061);var s=x(1828),E=x(6653),p=x(5680),P=x(1913);function l(...Ne){switch(Ne.length){case 1:return(0,P.kg)("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",Ne[0]);case 2:return(0,P.kg)("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",Ne[0],Ne[1]);case 3:return(0,P.kg)("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",Ne[0],Ne[1],Ne[2]);default:return}}const I=(0,P.kg)("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),D=(0,P.kg)("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");class Z{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(b){switch(b.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return b.isTripleEq?"===":"==";case 4:return b.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:case 8:return">=";case 9:return"=~";case 10:case 17:case 18:case 19:return b.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 20:return"EOF";default:throw(0,p.iH)(`unhandled token type: ${JSON.stringify(b)}; have you forgotten to add a case?`)}}static{this._regexFlags=new Set(["i","g","s","m","y","u"].map(b=>b.charCodeAt(0)))}static{this._keywords=new Map([["not",14],["in",13],["false",12],["true",11]])}reset(b){return this._input=b,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const te=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:te})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const te=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:te})}else this._match(126)?this._addToken(9):this._error(l("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(l("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(l("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(b){return!this._isAtEnd()&&this._input.charCodeAt(this._current)===b&&(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(b){this._tokens.push({type:b,offset:this._start})}_error(b){const te=this._start,Ee=this._input.substring(this._start,this._current),U={type:19,offset:this._start,lexeme:Ee};this._errors.push({offset:te,lexeme:Ee,additionalInfo:b}),this._tokens.push(U)}_string(){this.stringRe.lastIndex=this._start;const b=this.stringRe.exec(this._input);if(b){this._current=this._start+b[0].length;const te=this._input.substring(this._start,this._current),Ee=Z._keywords.get(te);Ee?this._addToken(Ee):this._tokens.push({type:17,lexeme:te,offset:this._start})}}_quotedString(){for(;39!==this._peek()&&!this._isAtEnd();)this._advance();this._isAtEnd()?this._error(I):(this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1}))}_regex(){let b=this._current,te=!1,Ee=!1;for(;;){if(b>=this._input.length)return this._current=b,void this._error(D);const Ce=this._input.charCodeAt(b);if(te)te=!1;else{if(47===Ce&&!Ee){b++;break}91===Ce?Ee=!0:92===Ce?te=!0:93===Ce&&(Ee=!1)}b++}for(;b<this._input.length&&Z._regexFlags.has(this._input.charCodeAt(b));)b++;this._current=b;const U=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:U,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}var H=x(598);const L=new Map;L.set("false",!1),L.set("true",!0),L.set("isMac",s.zx),L.set("isLinux",s.j9),L.set("isWindows",s.uF),L.set("isWeb",s.HZ),L.set("isMacNative",s.zx&&!s.HZ),L.set("isEdge",s.UP),L.set("isFirefox",s.gm),L.set("isChrome",s.H8),L.set("isSafari",s.nr);const _=Object.prototype.hasOwnProperty,y={regexParsingWithErrorRecovery:!0},C=(0,P.kg)("contextkey.parser.error.emptyString","Empty context key expression"),h=(0,P.kg)("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),he=(0,P.kg)("contextkey.parser.error.noInAfterNot","'in' after 'not'."),se=(0,P.kg)("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),d=(0,P.kg)("contextkey.parser.error.unexpectedToken","Unexpected token"),k=(0,P.kg)("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),m=(0,P.kg)("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),R=(0,P.kg)("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");class F{static{this._parseError=new Error}constructor(b=y){this._config=b,this._scanner=new Z,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(b){if(""!==b){this._tokens=this._scanner.reset(b).scan(),this._current=0,this._parsingErrors=[];try{const te=this._expr();if(!this._isAtEnd()){const Ee=this._peek(),U=17===Ee.type?k:void 0;throw this._parsingErrors.push({message:d,offset:Ee.offset,lexeme:Z.getLexeme(Ee),additionalInfo:U}),F._parseError}return te}catch(te){if(te!==F._parseError)throw te;return}}else this._parsingErrors.push({message:C,offset:0,lexeme:"",additionalInfo:h})}_expr(){return this._or()}_or(){const b=[this._and()];for(;this._matchOne(16);){const te=this._and();b.push(te)}return 1===b.length?b[0]:O.or(...b)}_and(){const b=[this._term()];for(;this._matchOne(15);){const te=this._term();b.push(te)}return 1===b.length?b[0]:O.and(...b)}_term(){if(this._matchOne(2)){const b=this._peek();switch(b.type){case 11:return this._advance(),W.INSTANCE;case 12:return this._advance(),S.INSTANCE;case 0:{this._advance();const te=this._expr();return this._consume(1,se),te?.negate()}case 17:return this._advance(),K.create(b.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",b)}}return this._primary()}_primary(){const b=this._peek();switch(b.type){case 11:return this._advance(),O.true();case 12:return this._advance(),O.false();case 0:{this._advance();const te=this._expr();return this._consume(1,se),te}case 17:{const te=b.lexeme;if(this._advance(),this._matchOne(9)){const U=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),10!==U.type)throw this._errExpectedButGot("REGEX",U);const Ce=U.lexeme,we=Ce.lastIndexOf("/"),Fe=we===Ce.length-1?void 0:this._removeFlagsGY(Ce.substring(we+1));let qe;try{qe=new RegExp(Ce.substring(1,we),Fe)}catch{throw this._errExpectedButGot("REGEX",U)}return re.create(te,qe)}switch(U.type){case 10:case 19:{const Ce=[U.lexeme];this._advance();let we=this._peek(),Fe=0;for(let Lt=0;Lt<U.lexeme.length;Lt++)40===U.lexeme.charCodeAt(Lt)?Fe++:41===U.lexeme.charCodeAt(Lt)&&Fe--;for(;!this._isAtEnd()&&15!==we.type&&16!==we.type;){switch(we.type){case 0:Fe++;break;case 1:Fe--;break;case 10:case 18:for(let Lt=0;Lt<we.lexeme.length;Lt++)40===we.lexeme.charCodeAt(Lt)?Fe++:41===U.lexeme.charCodeAt(Lt)&&Fe--}if(Fe<0)break;Ce.push(Z.getLexeme(we)),this._advance(),we=this._peek()}const qe=Ce.join(""),n=qe.lastIndexOf("/"),ct=n===qe.length-1?void 0:this._removeFlagsGY(qe.substring(n+1));let gt;try{gt=new RegExp(qe.substring(1,n),ct)}catch{throw this._errExpectedButGot("REGEX",U)}return O.regex(te,gt)}case 18:{const Ce=U.lexeme;this._advance();let we=null;if(!(0,E.AV)(Ce)){const Fe=Ce.indexOf("/"),qe=Ce.lastIndexOf("/");if(Fe!==qe&&Fe>=0){const n=Ce.slice(Fe+1,qe),ct="i"===Ce[qe+1]?"i":"";try{we=new RegExp(n,ct)}catch{throw this._errExpectedButGot("REGEX",U)}}}if(null===we)throw this._errExpectedButGot("REGEX",U);return re.create(te,we)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,he);const U=this._value();return O.notIn(te,U)}switch(this._peek().type){case 3:{this._advance();const U=this._value();if(18===this._previous().type)return O.equals(te,U);switch(U){case"true":return O.has(te);case"false":return O.not(te);default:return O.equals(te,U)}}case 4:{this._advance();const U=this._value();if(18===this._previous().type)return O.notEquals(te,U);switch(U){case"true":return O.not(te);case"false":return O.has(te);default:return O.notEquals(te,U)}}case 5:return this._advance(),V.create(te,this._value());case 6:return this._advance(),J.create(te,this._value());case 7:return this._advance(),ie.create(te,this._value());case 8:return this._advance(),T.create(te,this._value());case 13:return this._advance(),O.in(te,this._value());default:return O.has(te)}}case 20:throw this._parsingErrors.push({message:m,offset:b.offset,lexeme:"",additionalInfo:R}),F._parseError;default:throw this._errExpectedButGot("true | false | KEY \n\t| KEY '=~' REGEX \n\t| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value",this._peek())}}_value(){const b=this._peek();switch(b.type){case 17:case 18:return this._advance(),b.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(b){return b.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(b){return!!this._check(b)&&(this._advance(),!0)}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(b,te){if(this._check(b))return this._advance();throw this._errExpectedButGot(te,this._peek())}_errExpectedButGot(b,te,Ee){const U=(0,P.kg)("contextkey.parser.error.expectedButGot","Expected: {0}\nReceived: '{1}'.",b,Z.getLexeme(te)),Ce=te.offset,we=Z.getLexeme(te);return this._parsingErrors.push({message:U,offset:Ce,lexeme:we,additionalInfo:Ee}),F._parseError}_check(b){return this._peek().type===b}_peek(){return this._tokens[this._current]}_isAtEnd(){return 20===this._peek().type}}class O{static false(){return W.INSTANCE}static true(){return S.INSTANCE}static has(b){return M.create(b)}static equals(b,te){return G.create(b,te)}static notEquals(b,te){return q.create(b,te)}static regex(b,te){return re.create(b,te)}static in(b,te){return ne.create(b,te)}static notIn(b,te){return oe.create(b,te)}static not(b){return K.create(b)}static and(...b){return Se.create(b,null,!0)}static or(...b){return xe.create(b,null,!0)}static{this._parser=new F({regexParsingWithErrorRecovery:!1})}static deserialize(b){return null==b?void 0:this._parser.parse(b)}}function A(Ne,b){return Ne.cmp(b)}class W{static{this.INSTANCE=new W}constructor(){this.type=0}cmp(b){return this.type-b.type}equals(b){return b.type===this.type}substituteConstants(){return this}evaluate(b){return!1}serialize(){return"false"}keys(){return[]}negate(){return S.INSTANCE}}class S{static{this.INSTANCE=new S}constructor(){this.type=1}cmp(b){return this.type-b.type}equals(b){return b.type===this.type}substituteConstants(){return this}evaluate(b){return!0}serialize(){return"true"}keys(){return[]}negate(){return W.INSTANCE}}class M{static create(b,te=null){const Ee=L.get(b);return"boolean"==typeof Ee?Ee?S.INSTANCE:W.INSTANCE:new M(b,te)}constructor(b,te){this.key=b,this.negated=te,this.type=2}cmp(b){return b.type!==this.type?this.type-b.type:$e(this.key,b.key)}equals(b){return b.type===this.type&&this.key===b.key}substituteConstants(){const b=L.get(this.key);return"boolean"==typeof b?b?S.INSTANCE:W.INSTANCE:this}evaluate(b){return!!b.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=K.create(this.key,this)),this.negated}}class G{static create(b,te,Ee=null){if("boolean"==typeof te)return te?M.create(b,Ee):K.create(b,Ee);const U=L.get(b);return"boolean"==typeof U?te===(U?"true":"false")?S.INSTANCE:W.INSTANCE:new G(b,te,Ee)}constructor(b,te,Ee){this.key=b,this.value=te,this.negated=Ee,this.type=4}cmp(b){return b.type!==this.type?this.type-b.type:We(this.key,this.value,b.key,b.value)}equals(b){return b.type===this.type&&this.key===b.key&&this.value===b.value}substituteConstants(){const b=L.get(this.key);return"boolean"==typeof b?this.value===(b?"true":"false")?S.INSTANCE:W.INSTANCE:this}evaluate(b){return b.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=q.create(this.key,this.value,this)),this.negated}}class ne{static create(b,te){return new ne(b,te)}constructor(b,te){this.key=b,this.valueKey=te,this.type=10,this.negated=null}cmp(b){return b.type!==this.type?this.type-b.type:We(this.key,this.valueKey,b.key,b.valueKey)}equals(b){return b.type===this.type&&this.key===b.key&&this.valueKey===b.valueKey}substituteConstants(){return this}evaluate(b){const te=b.getValue(this.valueKey),Ee=b.getValue(this.key);return Array.isArray(te)?te.includes(Ee):"string"==typeof Ee&&"object"==typeof te&&null!==te&&_.call(te,Ee)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=oe.create(this.key,this.valueKey)),this.negated}}class oe{static create(b,te){return new oe(b,te)}constructor(b,te){this.key=b,this.valueKey=te,this.type=11,this._negated=ne.create(b,te)}cmp(b){return b.type!==this.type?this.type-b.type:this._negated.cmp(b._negated)}equals(b){return b.type===this.type&&this._negated.equals(b._negated)}substituteConstants(){return this}evaluate(b){return!this._negated.evaluate(b)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class q{static create(b,te,Ee=null){if("boolean"==typeof te)return te?K.create(b,Ee):M.create(b,Ee);const U=L.get(b);return"boolean"==typeof U?te===(U?"true":"false")?W.INSTANCE:S.INSTANCE:new q(b,te,Ee)}constructor(b,te,Ee){this.key=b,this.value=te,this.negated=Ee,this.type=5}cmp(b){return b.type!==this.type?this.type-b.type:We(this.key,this.value,b.key,b.value)}equals(b){return b.type===this.type&&this.key===b.key&&this.value===b.value}substituteConstants(){const b=L.get(this.key);return"boolean"==typeof b?this.value===(b?"true":"false")?W.INSTANCE:S.INSTANCE:this}evaluate(b){return b.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=G.create(this.key,this.value,this)),this.negated}}class K{static create(b,te=null){const Ee=L.get(b);return"boolean"==typeof Ee?Ee?W.INSTANCE:S.INSTANCE:new K(b,te)}constructor(b,te){this.key=b,this.negated=te,this.type=3}cmp(b){return b.type!==this.type?this.type-b.type:$e(this.key,b.key)}equals(b){return b.type===this.type&&this.key===b.key}substituteConstants(){const b=L.get(this.key);return"boolean"==typeof b?b?W.INSTANCE:S.INSTANCE:this}evaluate(b){return!b.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=M.create(this.key,this)),this.negated}}function be(Ne,b){if("string"==typeof Ne){const te=parseFloat(Ne);isNaN(te)||(Ne=te)}return"string"==typeof Ne||"number"==typeof Ne?b(Ne):W.INSTANCE}class ie{static create(b,te,Ee=null){return be(te,U=>new ie(b,U,Ee))}constructor(b,te,Ee){this.key=b,this.value=te,this.negated=Ee,this.type=12}cmp(b){return b.type!==this.type?this.type-b.type:We(this.key,this.value,b.key,b.value)}equals(b){return b.type===this.type&&this.key===b.key&&this.value===b.value}substituteConstants(){return this}evaluate(b){return"string"!=typeof this.value&&parseFloat(b.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=J.create(this.key,this.value,this)),this.negated}}class T{static create(b,te,Ee=null){return be(te,U=>new T(b,U,Ee))}constructor(b,te,Ee){this.key=b,this.value=te,this.negated=Ee,this.type=13}cmp(b){return b.type!==this.type?this.type-b.type:We(this.key,this.value,b.key,b.value)}equals(b){return b.type===this.type&&this.key===b.key&&this.value===b.value}substituteConstants(){return this}evaluate(b){return"string"!=typeof this.value&&parseFloat(b.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=V.create(this.key,this.value,this)),this.negated}}class V{static create(b,te,Ee=null){return be(te,U=>new V(b,U,Ee))}constructor(b,te,Ee){this.key=b,this.value=te,this.negated=Ee,this.type=14}cmp(b){return b.type!==this.type?this.type-b.type:We(this.key,this.value,b.key,b.value)}equals(b){return b.type===this.type&&this.key===b.key&&this.value===b.value}substituteConstants(){return this}evaluate(b){return"string"!=typeof this.value&&parseFloat(b.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=T.create(this.key,this.value,this)),this.negated}}class J{static create(b,te,Ee=null){return be(te,U=>new J(b,U,Ee))}constructor(b,te,Ee){this.key=b,this.value=te,this.negated=Ee,this.type=15}cmp(b){return b.type!==this.type?this.type-b.type:We(this.key,this.value,b.key,b.value)}equals(b){return b.type===this.type&&this.key===b.key&&this.value===b.value}substituteConstants(){return this}evaluate(b){return"string"!=typeof this.value&&parseFloat(b.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ie.create(this.key,this.value,this)),this.negated}}class re{static create(b,te){return new re(b,te)}constructor(b,te){this.key=b,this.regexp=te,this.type=7,this.negated=null}cmp(b){if(b.type!==this.type)return this.type-b.type;if(this.key<b.key)return-1;if(this.key>b.key)return 1;const te=this.regexp?this.regexp.source:"",Ee=b.regexp?b.regexp.source:"";return te<Ee?-1:te>Ee?1:0}equals(b){return b.type===this.type&&(this.key===b.key&&(this.regexp?this.regexp.source:"")===(b.regexp?b.regexp.source:""))}substituteConstants(){return this}evaluate(b){const te=b.getValue(this.key);return!!this.regexp&&this.regexp.test(te)}serialize(){return`${this.key} =~ ${this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/"}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=de.create(this)),this.negated}}class de{static create(b){return new de(b)}constructor(b){this._actual=b,this.type=8}cmp(b){return b.type!==this.type?this.type-b.type:this._actual.cmp(b._actual)}equals(b){return b.type===this.type&&this._actual.equals(b._actual)}substituteConstants(){return this}evaluate(b){return!this._actual.evaluate(b)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function _e(Ne){let b=null;for(let te=0,Ee=Ne.length;te<Ee;te++){const U=Ne[te].substituteConstants();if(Ne[te]!==U&&null===b){b=[];for(let Ce=0;Ce<te;Ce++)b[Ce]=Ne[Ce]}null!==b&&(b[te]=U)}return null===b?Ne:b}class Se{static create(b,te,Ee){return Se._normalizeArr(b,te,Ee)}constructor(b,te){this.expr=b,this.negated=te,this.type=6}cmp(b){if(b.type!==this.type)return this.type-b.type;if(this.expr.length<b.expr.length)return-1;if(this.expr.length>b.expr.length)return 1;for(let te=0,Ee=this.expr.length;te<Ee;te++){const U=A(this.expr[te],b.expr[te]);if(0!==U)return U}return 0}equals(b){if(b.type===this.type){if(this.expr.length!==b.expr.length)return!1;for(let te=0,Ee=this.expr.length;te<Ee;te++)if(!this.expr[te].equals(b.expr[te]))return!1;return!0}return!1}substituteConstants(){const b=_e(this.expr);return b===this.expr?this:Se.create(b,this.negated,!1)}evaluate(b){for(let te=0,Ee=this.expr.length;te<Ee;te++)if(!this.expr[te].evaluate(b))return!1;return!0}static _normalizeArr(b,te,Ee){const U=[];let Ce=!1;for(const we of b)if(we){if(1===we.type){Ce=!0;continue}if(0===we.type)return W.INSTANCE;if(6===we.type){U.push(...we.expr);continue}U.push(we)}if(0===U.length&&Ce)return S.INSTANCE;if(0!==U.length){if(1===U.length)return U[0];U.sort(A);for(let we=1;we<U.length;we++)U[we-1].equals(U[we])&&(U.splice(we,1),we--);if(1===U.length)return U[0];for(;U.length>1;){const we=U[U.length-1];if(9!==we.type)break;U.pop();const Fe=U.pop(),qe=0===U.length,n=xe.create(we.expr.map(ct=>Se.create([ct,Fe],null,Ee)),null,qe);n&&(U.push(n),U.sort(A))}if(1===U.length)return U[0];if(Ee){for(let we=0;we<U.length;we++)for(let Fe=we+1;Fe<U.length;Fe++)if(U[we].negate().equals(U[Fe]))return W.INSTANCE;if(1===U.length)return U[0]}return new Se(U,te)}}serialize(){return this.expr.map(b=>b.serialize()).join(" && ")}keys(){const b=[];for(const te of this.expr)b.push(...te.keys());return b}negate(){if(!this.negated){const b=[];for(const te of this.expr)b.push(te.negate());this.negated=xe.create(b,this,!0)}return this.negated}}class xe{static create(b,te,Ee){return xe._normalizeArr(b,te,Ee)}constructor(b,te){this.expr=b,this.negated=te,this.type=9}cmp(b){if(b.type!==this.type)return this.type-b.type;if(this.expr.length<b.expr.length)return-1;if(this.expr.length>b.expr.length)return 1;for(let te=0,Ee=this.expr.length;te<Ee;te++){const U=A(this.expr[te],b.expr[te]);if(0!==U)return U}return 0}equals(b){if(b.type===this.type){if(this.expr.length!==b.expr.length)return!1;for(let te=0,Ee=this.expr.length;te<Ee;te++)if(!this.expr[te].equals(b.expr[te]))return!1;return!0}return!1}substituteConstants(){const b=_e(this.expr);return b===this.expr?this:xe.create(b,this.negated,!1)}evaluate(b){for(let te=0,Ee=this.expr.length;te<Ee;te++)if(this.expr[te].evaluate(b))return!0;return!1}static _normalizeArr(b,te,Ee){let U=[],Ce=!1;if(b){for(let we=0,Fe=b.length;we<Fe;we++){const qe=b[we];if(qe){if(0===qe.type){Ce=!0;continue}if(1===qe.type)return S.INSTANCE;if(9===qe.type){U=U.concat(qe.expr);continue}U.push(qe)}}if(0===U.length&&Ce)return W.INSTANCE;U.sort(A)}if(0!==U.length){if(1===U.length)return U[0];for(let we=1;we<U.length;we++)U[we-1].equals(U[we])&&(U.splice(we,1),we--);if(1===U.length)return U[0];if(Ee){for(let we=0;we<U.length;we++)for(let Fe=we+1;Fe<U.length;Fe++)if(U[we].negate().equals(U[Fe]))return S.INSTANCE;if(1===U.length)return U[0]}return new xe(U,te)}}serialize(){return this.expr.map(b=>b.serialize()).join(" || ")}keys(){const b=[];for(const te of this.expr)b.push(...te.keys());return b}negate(){if(!this.negated){const b=[];for(const te of this.expr)b.push(te.negate());for(;b.length>1;){const te=b.shift(),Ee=b.shift(),U=[];for(const Ce of bt(te))for(const we of bt(Ee))U.push(Se.create([Ce,we],null,!1));b.unshift(xe.create(U,null,!1))}this.negated=xe.create(b,this,!0)}return this.negated}}let ze=(()=>{class Ne extends M{static{this._info=[]}static all(){return Ne._info.values()}constructor(te,Ee,U){super(te,null),this._defaultValue=Ee,"object"==typeof U?Ne._info.push({...U,key:te}):!0!==U&&Ne._info.push({key:te,description:U,type:null!=Ee?typeof Ee:void 0})}bindTo(te){return te.createKey(this.key,this._defaultValue)}getValue(te){return te.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(te){return G.create(this.key,te)}}return Ne})();function $e(Ne,b){return Ne<b?-1:Ne>b?1:0}function We(Ne,b,te,Ee){return Ne<te?-1:Ne>te?1:b<Ee?-1:b>Ee?1:0}function bt(Ne){return 9===Ne.type?Ne.expr:[Ne]}(0,H.u1)("contextKeyService");const At=(0,H.u1)("logService");var _t=function(Ne){return Ne[Ne.Off=0]="Off",Ne[Ne.Trace=1]="Trace",Ne[Ne.Debug=2]="Debug",Ne[Ne.Info=3]="Info",Ne[Ne.Warning=4]="Warning",Ne[Ne.Error=5]="Error",Ne}(_t||{});new ze("logLevel",function Qe(Ne){switch(Ne){case _t.Trace:return"trace";case _t.Debug:return"debug";case _t.Info:return"info";case _t.Warning:return"warn";case _t.Error:return"error";case _t.Off:return"off"}}(_t.Info))},7018:(Ve,ve,x)=>{"use strict";x.d(ve,{O:()=>E});var N=x(3929),$=x(6702);const E=new class s{constructor(){this.data=new Map}add(P,l){N.ok($.Kg(P)),N.ok($.Gv(l)),N.ok(!this.data.has(P),"There is already an extension with this id"),this.data.set(P,l)}as(P){return this.data.get(P)||null}}},5478:(Ve,ve,x)=>{"use strict";x.d(ve,{buw:()=>be,b1q:()=>K,YtV:()=>_t,Ubg:()=>en,IIb:()=>gt,pOz:()=>ct,whs:()=>we,Stt:()=>qe,Hng:()=>Fe,yLC:()=>Bi,KoI:()=>Ji,uMG:()=>er,x1A:()=>h});var N=x(3929),$=x(795),s=x(4072),E=x(5643),p=x(4027),P=x(7018),l=x(1913);const C=new class y{constructor(){this._onDidChangeSchema=new E.vl,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(ft,xt,Rt,un=!1,On){this.colorsById[ft]={id:ft,description:Rt,defaults:xt,needsTransparency:un,deprecationMessage:On};const fi={type:"string",format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return On&&(fi.deprecationMessage=On),un&&(fi.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",fi.patternErrorMessage=l.kg("transparecyRequired","This color must be transparent or it will obscure content")),this.colorSchema.properties[ft]={description:Rt,oneOf:[fi,{type:"string",const:"default",description:l.kg("useDefault","Use the default color.")}]},this.colorReferenceSchema.enum.push(ft),this.colorReferenceSchema.enumDescriptions.push(Rt),this._onDidChangeSchema.fire(),ft}getColors(){return Object.keys(this.colorsById).map(ft=>this.colorsById[ft])}resolveDefaultColor(ft,xt){const Rt=this.colorsById[ft];if(Rt?.defaults)return O(function H(ot){return null!==ot&&"object"==typeof ot&&"light"in ot&&"dark"in ot}(Rt.defaults)?Rt.defaults[xt.type]:Rt.defaults,xt)}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort((xt,Rt)=>{const un=-1===xt.indexOf(".")?0:1,On=-1===Rt.indexOf(".")?0:1;return un!==On?un-On:xt.localeCompare(Rt)}).map(xt=>`- \`${xt}\`: ${this.colorsById[xt].description}`).join("\n")}};function h(ot,ft,xt,Rt,un){return C.registerColor(ot,ft,xt,Rt,un)}function se(ot,ft){return{op:0,value:ot,factor:ft}}function d(ot,ft){return{op:1,value:ot,factor:ft}}function k(ot,ft){return{op:2,value:ot,factor:ft}}function m(...ot){return{op:4,values:ot}}function F(ot,ft,xt,Rt){return{op:5,value:ot,background:ft,factor:xt,transparency:Rt}}function O(ot,ft){if(null!==ot){if("string"==typeof ot)return"#"===ot[0]?s.Q1.fromHex(ot):ft.getColor(ot);if(ot instanceof s.Q1)return ot;if("object"==typeof ot)return function he(ot,ft){switch(ot.op){case 0:return O(ot.value,ft)?.darken(ot.factor);case 1:return O(ot.value,ft)?.lighten(ot.factor);case 2:return O(ot.value,ft)?.transparent(ot.factor);case 3:{const xt=O(ot.background,ft);return xt?O(ot.value,ft)?.makeOpaque(xt):O(ot.value,ft)}case 4:for(const xt of ot.values){const Rt=O(xt,ft);if(Rt)return Rt}return;case 6:return O(ft.defines(ot.if)?ot.then:ot.else,ft);case 5:{const xt=O(ot.value,ft);if(!xt)return;const Rt=O(ot.background,ft);return Rt?xt.isDarkerThan(Rt)?s.Q1.getLighterColor(xt,Rt,ot.factor).transparent(ot.transparency):s.Q1.getDarkerColor(xt,Rt,ot.factor).transparent(ot.transparency):xt.transparent(ot.factor*ot.transparency)}default:throw(0,N.xb)(ot)}}(ot,ft)}}P.O.add("base.contributions.colors",C);const v="vscode://schemas/workbench-colors",A=P.O.as(p.F.JSONContribution);A.registerSchema(v,C.getColorSchema());const W=new $.uC(()=>A.notifySchemaChanged(v),200);C.onDidChangeSchema(()=>{W.isScheduled()||W.schedule()});const S=h("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},l.kg("foreground","Overall foreground color. This color is only used if not overridden by a component.")),oe=(h("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},l.kg("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),h("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},l.kg("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),h("descriptionForeground",{light:"#717171",dark:k(S,.7),hcDark:k(S,.7),hcLight:k(S,.7)},l.kg("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),h("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},l.kg("iconForeground","The default color for icons in the workbench."))),q=h("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},l.kg("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),K=h("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},l.kg("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),be=h("contrastActiveBorder",{light:null,dark:null,hcDark:q,hcLight:q},l.kg("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),Be=(h("selection.background",null,l.kg("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),h("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},l.kg("textLinkForeground","Foreground color for links in text.")),h("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},l.kg("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),h("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:s.Q1.black,hcLight:"#292929"},l.kg("textSeparatorForeground","Color for text separators.")),h("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},l.kg("textPreformatForeground","Foreground color for preformatted text segments.")),h("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},l.kg("textPreformatBackground","Background color for preformatted text segments.")),h("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},l.kg("textBlockQuoteBackground","Background color for block quotes in text.")),h("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:s.Q1.white,hcLight:"#292929"},l.kg("textBlockQuoteBorder","Border color for block quotes in text.")),h("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:s.Q1.black,hcLight:"#F2F2F2"},l.kg("textCodeBlockBackground","Background color for code blocks in text.")),h("sash.hoverBorder",q,l.kg("sashActiveBorder","Border color of active sashes.")),h("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:s.Q1.black,hcLight:"#0F4A85"},l.kg("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count."))),We=(h("badge.foreground",{dark:s.Q1.white,light:"#333",hcDark:s.Q1.white,hcLight:s.Q1.white},l.kg("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),h("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},l.kg("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled."))),Ge=h("scrollbarSlider.background",{dark:s.Q1.fromHex("#797979").transparent(.4),light:s.Q1.fromHex("#646464").transparent(.4),hcDark:k(K,.6),hcLight:k(K,.4)},l.kg("scrollbarSliderBackground","Scrollbar slider background color.")),Je=h("scrollbarSlider.hoverBackground",{dark:s.Q1.fromHex("#646464").transparent(.7),light:s.Q1.fromHex("#646464").transparent(.7),hcDark:k(K,.8),hcLight:k(K,.8)},l.kg("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),bt=h("scrollbarSlider.activeBackground",{dark:s.Q1.fromHex("#BFBFBF").transparent(.4),light:s.Q1.fromHex("#000000").transparent(.6),hcDark:K,hcLight:K},l.kg("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),_t=(h("progressBar.background",{dark:s.Q1.fromHex("#0E70C0"),light:s.Q1.fromHex("#0E70C0"),hcDark:K,hcLight:K},l.kg("progressBarBackground","Background color of the progress bar that can show for long running operations.")),h("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:s.Q1.black,hcLight:s.Q1.white},l.kg("editorBackground","Editor background color."))),Oe=(h("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:s.Q1.white,hcLight:S},l.kg("editorForeground","Editor default foreground color.")),h("editorStickyScroll.background",_t,l.kg("editorStickyScrollBackground","Background color of sticky scroll in the editor")),h("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:s.Q1.fromHex("#0F4A85").transparent(.1)},l.kg("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor")),h("editorStickyScroll.border",{dark:null,light:null,hcDark:K,hcLight:K},l.kg("editorStickyScrollBorder","Border color of sticky scroll in the editor")),h("editorStickyScroll.shadow",We,l.kg("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor")),h("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:s.Q1.white},l.kg("editorWidgetBackground","Background color of editor widgets, such as find/replace."))),Ne=h("editorWidget.foreground",S,l.kg("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),b=h("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:K,hcLight:K},l.kg("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),U=(h("editorWidget.resizeBorder",null,l.kg("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),h("editorError.background",null,l.kg("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),h("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},l.kg("editorError.foreground","Foreground color of error squigglies in the editor."))),we=(h("editorError.border",{dark:null,light:null,hcDark:s.Q1.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},l.kg("errorBorder","If set, color of double underlines for errors in the editor.")),h("editorWarning.background",null,l.kg("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0)),Fe=h("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},l.kg("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),qe=h("editorWarning.border",{dark:null,light:null,hcDark:s.Q1.fromHex("#FFCC00").transparent(.8),hcLight:s.Q1.fromHex("#FFCC00").transparent(.8)},l.kg("warningBorder","If set, color of double underlines for warnings in the editor.")),ct=(h("editorInfo.background",null,l.kg("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),h("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},l.kg("editorInfo.foreground","Foreground color of info squigglies in the editor."))),gt=h("editorInfo.border",{dark:null,light:null,hcDark:s.Q1.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},l.kg("infoBorder","If set, color of double underlines for infos in the editor.")),kt=(h("editorHint.foreground",{dark:s.Q1.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},l.kg("editorHint.foreground","Foreground color of hint squigglies in the editor.")),h("editorHint.border",{dark:null,light:null,hcDark:s.Q1.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},l.kg("hintBorder","If set, color of double underlines for hints in the editor.")),h("editorLink.activeForeground",{dark:"#4E94CE",light:s.Q1.blue,hcDark:s.Q1.cyan,hcLight:"#292929"},l.kg("activeLinkForeground","Color of active links.")),h("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},l.kg("editorSelectionBackground","Color of the editor selection."))),en=(h("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:s.Q1.white},l.kg("editorSelectionForeground","Color of the selected text for high contrast.")),h("editor.inactiveSelectionBackground",{light:k(kt,.5),dark:k(kt,.5),hcDark:k(kt,.7),hcLight:k(kt,.5)},l.kg("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),h("editor.selectionHighlightBackground",{light:F(kt,_t,.3,.6),dark:F(kt,_t,.3,.6),hcDark:null,hcLight:null},l.kg("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),h("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:be,hcLight:be},l.kg("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),h("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},l.kg("editorFindMatch","Color of the current search match.")),h("editor.findMatchForeground",null,l.kg("editorFindMatchForeground","Text color of the current search match.")),h("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},l.kg("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0)),hn=(h("editor.findMatchHighlightForeground",null,l.kg("findMatchHighlightForeground","Foreground color of the other search matches."),!0),h("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},l.kg("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),h("editor.findMatchBorder",{light:null,dark:null,hcDark:be,hcLight:be},l.kg("editorFindMatchBorder","Border color of the current search match.")),h("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:be,hcLight:be},l.kg("findMatchHighlightBorder","Border color of the other search matches."))),Kt=(h("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:k(be,.4),hcLight:k(be,.4)},l.kg("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),h("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},l.kg("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),h("editorHoverWidget.background",Oe,l.kg("hoverBackground","Background color of the editor hover."))),ti=(h("editorHoverWidget.foreground",Ne,l.kg("hoverForeground","Foreground color of the editor hover.")),h("editorHoverWidget.border",b,l.kg("hoverBorder","Border color of the editor hover.")),h("editorHoverWidget.statusBarBackground",{dark:d(Kt,.2),light:se(Kt,.05),hcDark:Oe,hcLight:Oe},l.kg("statusBarBackground","Background color of the editor hover status bar.")),h("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:s.Q1.white,hcLight:s.Q1.black},l.kg("editorInlayHintForeground","Foreground color of inline hints"))),Mt=h("editorInlayHint.background",{dark:k(Be,.1),light:k(Be,.1),hcDark:k(s.Q1.white,.1),hcLight:k(Be,.1)},l.kg("editorInlayHintBackground","Background color of inline hints")),me=(h("editorInlayHint.typeForeground",ti,l.kg("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),h("editorInlayHint.typeBackground",Mt,l.kg("editorInlayHintBackgroundTypes","Background color of inline hints for types")),h("editorInlayHint.parameterForeground",ti,l.kg("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),h("editorInlayHint.parameterBackground",Mt,l.kg("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),h("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},l.kg("editorLightBulbForeground","The color used for the lightbulb actions icon."))),Ct=(h("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},l.kg("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),h("editorLightBulbAi.foreground",me,l.kg("editorLightBulbAiForeground","The color used for the lightbulb AI icon.")),h("editor.snippetTabstopHighlightBackground",{dark:new s.Q1(new s.bU(124,124,124,.3)),light:new s.Q1(new s.bU(10,50,100,.2)),hcDark:new s.Q1(new s.bU(124,124,124,.3)),hcLight:new s.Q1(new s.bU(10,50,100,.2))},l.kg("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),h("editor.snippetTabstopHighlightBorder",null,l.kg("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),h("editor.snippetFinalTabstopHighlightBackground",null,l.kg("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),h("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new s.Q1(new s.bU(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},l.kg("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),new s.Q1(new s.bU(155,185,85,.2))),sn=new s.Q1(new s.bU(255,0,0,.2)),j=(h("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},l.kg("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),h("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},l.kg("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),h("diffEditor.insertedLineBackground",{dark:Ct,light:Ct,hcDark:null,hcLight:null},l.kg("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),h("diffEditor.removedLineBackground",{dark:sn,light:sn,hcDark:null,hcLight:null},l.kg("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),h("diffEditorGutter.insertedLineBackground",null,l.kg("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),h("diffEditorGutter.removedLineBackground",null,l.kg("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),h("diffEditorOverview.insertedForeground",null,l.kg("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),h("diffEditorOverview.removedForeground",null,l.kg("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),h("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},l.kg("diffEditorInsertedOutline","Outline color for the text that got inserted.")),h("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},l.kg("diffEditorRemovedOutline","Outline color for text that got removed.")),h("diffEditor.border",{dark:null,light:null,hcDark:K,hcLight:K},l.kg("diffEditorBorder","Border color between the two text editors.")),h("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},l.kg("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),h("diffEditor.unchangedRegionBackground","sideBar.background",l.kg("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor.")),h("diffEditor.unchangedRegionForeground","foreground",l.kg("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor.")),h("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},l.kg("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor.")),h("widget.shadow",{dark:k(s.Q1.black,.36),light:k(s.Q1.black,.16),hcDark:null,hcLight:null},l.kg("widgetShadow","Shadow color of widgets such as find/replace inside the editor."))),ue=(h("widget.border",{dark:null,light:null,hcDark:K,hcLight:K},l.kg("widgetBorder","Border color of widgets such as find/replace inside the editor.")),h("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},l.kg("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse"))),He=(h("toolbar.hoverOutline",{dark:null,light:null,hcDark:be,hcLight:be},l.kg("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),h("toolbar.activeBackground",{dark:d(ue,.1),light:se(ue,.1),hcDark:null,hcLight:null},l.kg("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),h("breadcrumb.foreground",k(S,.8),l.kg("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),h("breadcrumb.background",_t,l.kg("breadcrumbsBackground","Background color of breadcrumb items.")),h("breadcrumb.focusForeground",{light:se(S,.2),dark:d(S,.1),hcDark:d(S,.1),hcLight:d(S,.1)},l.kg("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),h("breadcrumb.activeSelectionForeground",{light:se(S,.2),dark:d(S,.1),hcDark:d(S,.1),hcLight:d(S,.1)},l.kg("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),h("breadcrumbPicker.background",Oe,l.kg("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),s.Q1.fromHex("#40C8AE").transparent(.5)),Ye=s.Q1.fromHex("#40A6FF").transparent(.5),nt=s.Q1.fromHex("#606060").transparent(.4),lt=h("merge.currentHeaderBackground",{dark:He,light:He,hcDark:null,hcLight:null},l.kg("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),ut=(h("merge.currentContentBackground",k(lt,.4),l.kg("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),h("merge.incomingHeaderBackground",{dark:Ye,light:Ye,hcDark:null,hcLight:null},l.kg("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),st=(h("merge.incomingContentBackground",k(ut,.4),l.kg("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),h("merge.commonHeaderBackground",{dark:nt,light:nt,hcDark:null,hcLight:null},l.kg("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),Vt=(h("merge.commonContentBackground",k(st,.4),l.kg("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),h("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},l.kg("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."))),vn=(h("editorOverviewRuler.currentContentForeground",{dark:k(lt,1),light:k(lt,1),hcDark:Vt,hcLight:Vt},l.kg("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),h("editorOverviewRuler.incomingContentForeground",{dark:k(ut,1),light:k(ut,1),hcDark:Vt,hcLight:Vt},l.kg("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),h("editorOverviewRuler.commonContentForeground",{dark:k(st,1),light:k(st,1),hcDark:Vt,hcLight:Vt},l.kg("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),h("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:"#AB5A00"},l.kg("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),h("editorOverviewRuler.selectionHighlightForeground","#A0A0A0CC",l.kg("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),h("problemsErrorIcon.foreground",U,l.kg("problemsErrorIconForeground","The color used for the problems error icon.")),h("problemsWarningIcon.foreground",Fe,l.kg("problemsWarningIconForeground","The color used for the problems warning icon.")),h("problemsInfoIcon.foreground",ct,l.kg("problemsInfoIconForeground","The color used for the problems info icon.")),h("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},l.kg("minimapFindMatchHighlight","Minimap marker color for find matches."),!0)),Ji=(h("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},l.kg("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),h("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},l.kg("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),h("minimap.infoHighlight",{dark:ct,light:ct,hcDark:gt,hcLight:gt},l.kg("minimapInfo","Minimap marker color for infos."))),er=h("minimap.warningHighlight",{dark:Fe,light:Fe,hcDark:qe,hcLight:qe},l.kg("overviewRuleWarning","Minimap marker color for warnings.")),Bi=h("minimap.errorHighlight",{dark:new s.Q1(new s.bU(255,18,18,.7)),light:new s.Q1(new s.bU(255,18,18,.7)),hcDark:new s.Q1(new s.bU(255,50,50,1)),hcLight:"#B5200D"},l.kg("minimapError","Minimap marker color for errors.")),vi=(h("minimap.background",null,l.kg("minimapBackground","Minimap background color.")),h("minimap.foregroundOpacity",s.Q1.fromHex("#000f"),l.kg("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),h("minimapSlider.background",k(Ge,.5),l.kg("minimapSliderBackground","Minimap slider background color.")),h("minimapSlider.hoverBackground",k(Je,.5),l.kg("minimapSliderHoverBackground","Minimap slider background color when hovering.")),h("minimapSlider.activeBackground",k(bt,.5),l.kg("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),h("charts.foreground",S,l.kg("chartsForeground","The foreground color used in charts.")),h("charts.lines",k(S,.5),l.kg("chartsLines","The color used for horizontal lines in charts.")),h("charts.red",U,l.kg("chartsRed","The red color used in chart visualizations.")),h("charts.blue",ct,l.kg("chartsBlue","The blue color used in chart visualizations.")),h("charts.yellow",Fe,l.kg("chartsYellow","The yellow color used in chart visualizations.")),h("charts.orange",vn,l.kg("chartsOrange","The orange color used in chart visualizations.")),h("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},l.kg("chartsGreen","The green color used in chart visualizations.")),h("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},l.kg("chartsPurple","The purple color used in chart visualizations.")),h("input.background",{dark:"#3C3C3C",light:s.Q1.white,hcDark:s.Q1.black,hcLight:s.Q1.white},l.kg("inputBoxBackground","Input box background.")),h("input.foreground",S,l.kg("inputBoxForeground","Input box foreground.")),h("input.border",{dark:null,light:null,hcDark:K,hcLight:K},l.kg("inputBoxBorder","Input box border.")),h("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:K,hcLight:K},l.kg("inputBoxActiveOptionBorder","Border color of activated options in input fields."))),ri=h("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},l.kg("inputOption.hoverBackground","Background color of activated options in input fields.")),Ci=h("inputOption.activeBackground",{dark:k(q,.4),light:k(q,.2),hcDark:s.Q1.transparent,hcLight:s.Q1.transparent},l.kg("inputOption.activeBackground","Background hover color of options in input fields.")),ir=h("inputOption.activeForeground",{dark:s.Q1.white,light:s.Q1.black,hcDark:S,hcLight:S},l.kg("inputOption.activeForeground","Foreground color of activated options in input fields.")),si=(h("input.placeholderForeground",{light:k(S,.5),dark:k(S,.5),hcDark:k(S,.7),hcLight:k(S,.7)},l.kg("inputPlaceholderForeground","Input box foreground color for placeholder text.")),h("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:s.Q1.black,hcLight:s.Q1.white},l.kg("inputValidationInfoBackground","Input validation background color for information severity.")),h("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:S},l.kg("inputValidationInfoForeground","Input validation foreground color for information severity.")),h("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:K,hcLight:K},l.kg("inputValidationInfoBorder","Input validation border color for information severity.")),h("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:s.Q1.black,hcLight:s.Q1.white},l.kg("inputValidationWarningBackground","Input validation background color for warning severity.")),h("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:S},l.kg("inputValidationWarningForeground","Input validation foreground color for warning severity.")),h("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:K,hcLight:K},l.kg("inputValidationWarningBorder","Input validation border color for warning severity.")),h("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:s.Q1.black,hcLight:s.Q1.white},l.kg("inputValidationErrorBackground","Input validation background color for error severity.")),h("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:S},l.kg("inputValidationErrorForeground","Input validation foreground color for error severity.")),h("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:K,hcLight:K},l.kg("inputValidationErrorBorder","Input validation border color for error severity.")),h("dropdown.background",{dark:"#3C3C3C",light:s.Q1.white,hcDark:s.Q1.black,hcLight:s.Q1.white},l.kg("dropdownBackground","Dropdown background."))),Oi=(h("dropdown.listBackground",{dark:null,light:null,hcDark:s.Q1.black,hcLight:s.Q1.white},l.kg("dropdownListBackground","Dropdown list background.")),h("dropdown.foreground",{dark:"#F0F0F0",light:S,hcDark:s.Q1.white,hcLight:S},l.kg("dropdownForeground","Dropdown foreground."))),Fi=h("dropdown.border",{dark:si,light:"#CECECE",hcDark:K,hcLight:K},l.kg("dropdownBorder","Dropdown border.")),lr=h("button.foreground",s.Q1.white,l.kg("buttonForeground","Button foreground color.")),Gn=(h("button.separator",k(lr,.4),l.kg("buttonSeparator","Button separator color.")),h("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},l.kg("buttonBackground","Button background color."))),Bn=(h("button.hoverBackground",{dark:d(Gn,.2),light:se(Gn,.2),hcDark:Gn,hcLight:Gn},l.kg("buttonHoverBackground","Button background color when hovering.")),h("button.border",K,l.kg("buttonBorder","Button border color.")),h("button.secondaryForeground",{dark:s.Q1.white,light:s.Q1.white,hcDark:s.Q1.white,hcLight:S},l.kg("buttonSecondaryForeground","Secondary button foreground color.")),h("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:s.Q1.white},l.kg("buttonSecondaryBackground","Secondary button background color."))),oi=(h("button.secondaryHoverBackground",{dark:d(Bn,.2),light:se(Bn,.2),hcDark:null,hcLight:null},l.kg("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),h("radio.activeForeground",ir,l.kg("radioActiveForeground","Foreground color of active radio option."))),Un=(h("radio.activeBackground",Ci,l.kg("radioBackground","Background color of active radio option.")),h("radio.activeBorder",vi,l.kg("radioActiveBorder","Border color of the active radio option.")),h("radio.inactiveForeground",null,l.kg("radioInactiveForeground","Foreground color of inactive radio option.")),h("radio.inactiveBackground",null,l.kg("radioInactiveBackground","Background color of inactive radio option.")),h("radio.inactiveBorder",{light:k(oi,.2),dark:k(oi,.2),hcDark:k(oi,.4),hcLight:k(oi,.2)},l.kg("radioInactiveBorder","Border color of the inactive radio option.")),h("radio.inactiveHoverBackground",ri,l.kg("radioHoverBackground","Background color of inactive active radio option when hovering.")),h("checkbox.background",si,l.kg("checkbox.background","Background color of checkbox widget.")),h("checkbox.selectBackground",Oe,l.kg("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),h("checkbox.foreground",Oi,l.kg("checkbox.foreground","Foreground color of checkbox widget.")),h("checkbox.border",Fi,l.kg("checkbox.border","Border color of checkbox widget.")),h("checkbox.selectBorder",oe,l.kg("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),h("keybindingLabel.background",{dark:new s.Q1(new s.bU(128,128,128,.17)),light:new s.Q1(new s.bU(221,221,221,.4)),hcDark:s.Q1.transparent,hcLight:s.Q1.transparent},l.kg("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),h("keybindingLabel.foreground",{dark:s.Q1.fromHex("#CCCCCC"),light:s.Q1.fromHex("#555555"),hcDark:s.Q1.white,hcLight:S},l.kg("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),h("keybindingLabel.border",{dark:new s.Q1(new s.bU(51,51,51,.6)),light:new s.Q1(new s.bU(204,204,204,.4)),hcDark:new s.Q1(new s.bU(111,195,223)),hcLight:K},l.kg("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),h("keybindingLabel.bottomBorder",{dark:new s.Q1(new s.bU(68,68,68,.6)),light:new s.Q1(new s.bU(187,187,187,.4)),hcDark:new s.Q1(new s.bU(111,195,223)),hcLight:S},l.kg("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),h("list.focusBackground",null,l.kg("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),h("list.focusForeground",null,l.kg("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),h("list.focusOutline",{dark:q,light:q,hcDark:be,hcLight:be},l.kg("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),h("list.focusAndSelectionOutline",null,l.kg("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),h("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:s.Q1.fromHex("#0F4A85").transparent(.1)},l.kg("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."))),Qn=h("list.activeSelectionForeground",{dark:s.Q1.white,light:s.Q1.white,hcDark:null,hcLight:null},l.kg("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Li=h("list.activeSelectionIconForeground",null,l.kg("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),qn=(h("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:s.Q1.fromHex("#0F4A85").transparent(.1)},l.kg("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),h("list.inactiveSelectionForeground",null,l.kg("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),h("list.inactiveSelectionIconForeground",null,l.kg("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),h("list.inactiveFocusBackground",null,l.kg("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),h("list.inactiveFocusOutline",null,l.kg("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),h("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:s.Q1.white.transparent(.1),hcLight:s.Q1.fromHex("#0F4A85").transparent(.1)},l.kg("listHoverBackground","List/Tree background when hovering over items using the mouse.")),h("list.hoverForeground",null,l.kg("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),h("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},l.kg("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),h("list.dropBetweenBackground",{dark:oe,light:oe,hcDark:null,hcLight:null},l.kg("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),h("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:q,hcLight:q},l.kg("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree."))),di=(h("list.focusHighlightForeground",{dark:qn,light:function R(ot,ft,xt){return{op:6,if:ot,then:ft,else:xt}}(Un,qn,"#BBE7FF"),hcDark:qn,hcLight:qn},l.kg("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),h("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},l.kg("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),h("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},l.kg("listErrorForeground","Foreground color of list items containing errors.")),h("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},l.kg("listWarningForeground","Foreground color of list items containing warnings.")),h("listFilterWidget.background",{light:se(Oe,0),dark:d(Oe,0),hcDark:Oe,hcLight:Oe},l.kg("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),h("listFilterWidget.outline",{dark:s.Q1.transparent,light:s.Q1.transparent,hcDark:"#f38518",hcLight:"#007ACC"},l.kg("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),h("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:K,hcLight:K},l.kg("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),h("listFilterWidget.shadow",j,l.kg("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),h("list.filterMatchBackground",{dark:en,light:en,hcDark:null,hcLight:null},l.kg("listFilterMatchHighlight","Background color of the filtered match.")),h("list.filterMatchBorder",{dark:hn,light:hn,hcDark:K,hcLight:be},l.kg("listFilterMatchHighlightBorder","Border color of the filtered match.")),h("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},l.kg("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized.")),h("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},l.kg("treeIndentGuidesStroke","Tree stroke color for the indentation guides."))),Hn=(h("tree.inactiveIndentGuidesStroke",k(di,.4),l.kg("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),h("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},l.kg("tableColumnsBorder","Table border color between columns.")),h("tree.tableOddRowsBackground",{dark:k(S,.04),light:k(S,.04),hcDark:null,hcLight:null},l.kg("tableOddRowsBackgroundColor","Background color for odd table rows.")),h("editorActionList.background",Oe,l.kg("editorActionListBackground","Action List background color.")),h("editorActionList.foreground",Ne,l.kg("editorActionListForeground","Action List foreground color.")),h("editorActionList.focusForeground",Qn,l.kg("editorActionListFocusForeground","Action List foreground color for the focused item.")),h("editorActionList.focusBackground",Un,l.kg("editorActionListFocusBackground","Action List background color for the focused item.")),h("menu.border",{dark:null,light:null,hcDark:K,hcLight:K},l.kg("menuBorder","Border color of menus.")),h("menu.foreground",Oi,l.kg("menuForeground","Foreground color of menu items.")),h("menu.background",si,l.kg("menuBackground","Background color of menu items.")),h("menu.selectionForeground",Qn,l.kg("menuSelectionForeground","Foreground color of the selected menu item in menus.")),h("menu.selectionBackground",Un,l.kg("menuSelectionBackground","Background color of the selected menu item in menus.")),h("menu.selectionBorder",{dark:null,light:null,hcDark:be,hcLight:be},l.kg("menuSelectionBorder","Border color of the selected menu item in menus.")),h("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:K,hcLight:K},l.kg("menuSeparatorBackground","Color of a separator menu item in menus.")),h("quickInput.background",Oe,l.kg("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),h("quickInput.foreground",Ne,l.kg("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),h("quickInputTitle.background",{dark:new s.Q1(new s.bU(255,255,255,.105)),light:new s.Q1(new s.bU(0,0,0,.06)),hcDark:"#000000",hcLight:s.Q1.white},l.kg("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),h("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:s.Q1.white,hcLight:"#0F4A85"},l.kg("pickerGroupForeground","Quick picker color for grouping labels.")),h("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:s.Q1.white,hcLight:"#0F4A85"},l.kg("pickerGroupBorder","Quick picker color for grouping borders.")),h("quickInput.list.focusBackground",null,"",void 0,l.kg("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")));h("quickInputList.focusForeground",Qn,l.kg("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),h("quickInputList.focusIconForeground",Li,l.kg("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),h("quickInputList.focusBackground",{dark:m(Hn,Un),light:m(Hn,Un),hcDark:null,hcLight:null},l.kg("quickInput.listFocusBackground","Quick picker background color for the focused item.")),h("search.resultsInfoForeground",{light:S,dark:k(S,.65),hcDark:S,hcLight:S},l.kg("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),h("searchEditor.findMatchBackground",{light:k(en,.66),dark:k(en,.66),hcDark:en,hcLight:en},l.kg("searchEditor.queryMatch","Color of the Search Editor query matches.")),h("searchEditor.findMatchBorder",{light:k(hn,.66),dark:k(hn,.66),hcDark:hn,hcLight:hn},l.kg("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."))},7464:(Ve,ve,x)=>{"use strict";x.d(ve,{Gy:()=>I,zy:()=>y,Yf:()=>D});var N=x(5643),$=x(4061),s=x(598),E=x(7018);const I=(0,s.u1)("themeService");function D(h){return{id:h}}const _=new class L{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new N.vl}onColorThemeChange(he){return this.themingParticipants.push(he),this.onThemingParticipantAddedEmitter.fire(he),(0,$.s)(()=>{const se=this.themingParticipants.indexOf(he);this.themingParticipants.splice(se,1)})}getThemingParticipants(){return this.themingParticipants}};function y(h){return _.onColorThemeChange(h)}E.O.add("base.contributions.theming",_)},5890:(Ve,ve,x)=>{var N={"./simpleWorker":5252,"./simpleWorker.js":5252,"node_modules/monaco-editor/esm/vs/base/common/worker/simpleWorker":5252,"node_modules/monaco-editor/esm/vs/base/common/worker/simpleWorker.js":5252};function $(s){return Promise.resolve().then(()=>{if(!x.o(N,s)){var E=new Error("Cannot find module '"+s+"'");throw E.code="MODULE_NOT_FOUND",E}return x(N[s])})}$.keys=()=>Object.keys(N),$.id=5890,Ve.exports=$},9204:(Ve,ve,x)=>{var N={"./editorBaseApi":[5521],"./editorBaseApi.js":[5521],"./editorSimpleWorker":[2195],"./editorSimpleWorker.js":[2195],"./editorWorker":[4225,792],"./editorWorker.js":[4225,792],"./editorWorkerHost":[2607],"./editorWorkerHost.js":[2607],"./findSectionHeaders":[2906],"./findSectionHeaders.js":[2906],"./getIconClasses":[3700,792],"./getIconClasses.js":[3700,792],"./languageFeatureDebounce":[8525,792],"./languageFeatureDebounce.js":[8525,792],"./languageFeatures":[5307,792],"./languageFeatures.js":[5307,792],"./languageFeaturesService":[2579,792],"./languageFeaturesService.js":[2579,792],"./languageService":[518,792],"./languageService.js":[518,792],"./languagesAssociations":[7059,792],"./languagesAssociations.js":[7059,792],"./languagesRegistry":[3908,792],"./languagesRegistry.js":[3908,792],"./markerDecorations":[9313,792],"./markerDecorations.js":[9313,792],"./markerDecorationsService":[5901,792],"./markerDecorationsService.js":[5901,792],"./model":[1925,792],"./model.js":[1925,792],"./modelService":[9557,792],"./modelService.js":[9557,792],"./resolverService":[5425,792],"./resolverService.js":[5425,792],"./semanticTokensDto":[4567,792],"./semanticTokensDto.js":[4567,792],"./semanticTokensProviderStyling":[7088,792],"./semanticTokensProviderStyling.js":[7088,792],"./semanticTokensStyling":[5424,792],"./semanticTokensStyling.js":[5424,792],"./semanticTokensStylingService":[281,792],"./semanticTokensStylingService.js":[281,792],"./textModelSync/textModelSync.impl":[3296],"./textModelSync/textModelSync.impl.js":[3296],"./textModelSync/textModelSync.protocol":[2045,792],"./textModelSync/textModelSync.protocol.js":[2045,792],"./textResourceConfiguration":[1355,792],"./textResourceConfiguration.js":[1355,792],"./treeSitterParserService":[2291,792],"./treeSitterParserService.js":[2291,792],"./treeViewsDnd":[1734,792],"./treeViewsDnd.js":[1734,792],"./treeViewsDndService":[1083,792],"./treeViewsDndService.js":[1083,792],"./unicodeTextModelHighlighter":[8752],"./unicodeTextModelHighlighter.js":[8752],"node_modules/monaco-editor/esm/vs/editor/common/services/editorBaseApi":[5521],"node_modules/monaco-editor/esm/vs/editor/common/services/editorBaseApi.js":[5521],"node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker":[2195],"node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js":[2195],"node_modules/monaco-editor/esm/vs/editor/common/services/editorWorker":[4225,792],"node_modules/monaco-editor/esm/vs/editor/common/services/editorWorker.js":[4225,792],"node_modules/monaco-editor/esm/vs/editor/common/services/editorWorkerHost":[2607],"node_modules/monaco-editor/esm/vs/editor/common/services/editorWorkerHost.js":[2607],"node_modules/monaco-editor/esm/vs/editor/common/services/findSectionHeaders":[2906],"node_modules/monaco-editor/esm/vs/editor/common/services/findSectionHeaders.js":[2906],"node_modules/monaco-editor/esm/vs/editor/common/services/getIconClasses":[3700,792],"node_modules/monaco-editor/esm/vs/editor/common/services/getIconClasses.js":[3700,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatureDebounce":[8525,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatureDebounce.js":[8525,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatures":[5307,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatures.js":[5307,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeaturesService":[2579,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeaturesService.js":[2579,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languageService":[518,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languageService.js":[518,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languagesAssociations":[7059,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languagesAssociations.js":[7059,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languagesRegistry":[3908,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languagesRegistry.js":[3908,792],"node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorations":[9313,792],"node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorations.js":[9313,792],"node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsService":[5901,792],"node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsService.js":[5901,792],"node_modules/monaco-editor/esm/vs/editor/common/services/model":[1925,792],"node_modules/monaco-editor/esm/vs/editor/common/services/model.js":[1925,792],"node_modules/monaco-editor/esm/vs/editor/common/services/modelService":[9557,792],"node_modules/monaco-editor/esm/vs/editor/common/services/modelService.js":[9557,792],"node_modules/monaco-editor/esm/vs/editor/common/services/resolverService":[5425,792],"node_modules/monaco-editor/esm/vs/editor/common/services/resolverService.js":[5425,792],"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensDto":[4567,792],"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensDto.js":[4567,792],"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensProviderStyling":[7088,792],"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensProviderStyling.js":[7088,792],"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStyling":[5424,792],"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStyling.js":[5424,792],"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStylingService":[281,792],"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStylingService.js":[281,792],"node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.impl":[3296],"node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.impl.js":[3296],"node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.protocol":[2045,792],"node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.protocol.js":[2045,792],"node_modules/monaco-editor/esm/vs/editor/common/services/textResourceConfiguration":[1355,792],"node_modules/monaco-editor/esm/vs/editor/common/services/textResourceConfiguration.js":[1355,792],"node_modules/monaco-editor/esm/vs/editor/common/services/treeSitterParserService":[2291,792],"node_modules/monaco-editor/esm/vs/editor/common/services/treeSitterParserService.js":[2291,792],"node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDnd":[1734,792],"node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDnd.js":[1734,792],"node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDndService":[1083,792],"node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDndService.js":[1083,792],"node_modules/monaco-editor/esm/vs/editor/common/services/unicodeTextModelHighlighter":[8752],"node_modules/monaco-editor/esm/vs/editor/common/services/unicodeTextModelHighlighter.js":[8752]};function $(s){if(!x.o(N,s))return Promise.resolve().then(()=>{var P=new Error("Cannot find module '"+s+"'");throw P.code="MODULE_NOT_FOUND",P});var E=N[s],p=E[0];return Promise.all(E.slice(1).map(x.e)).then(()=>x(p))}$.keys=()=>Object.keys(N),$.id=9204,Ve.exports=$},7614:(Ve,ve,x)=>{var N={"./editorBaseApi":5521,"./editorBaseApi.js":5521,"./editorSimpleWorker":2195,"./editorSimpleWorker.js":2195,"./editorWorker":4225,"./editorWorker.js":4225,"./editorWorkerHost":2607,"./editorWorkerHost.js":2607,"./findSectionHeaders":2906,"./findSectionHeaders.js":2906,"./getIconClasses":3700,"./getIconClasses.js":3700,"./languageFeatureDebounce":8525,"./languageFeatureDebounce.js":8525,"./languageFeatures":5307,"./languageFeatures.js":5307,"./languageFeaturesService":2579,"./languageFeaturesService.js":2579,"./languageService":518,"./languageService.js":518,"./languagesAssociations":7059,"./languagesAssociations.js":7059,"./languagesRegistry":3908,"./languagesRegistry.js":3908,"./markerDecorations":9313,"./markerDecorations.js":9313,"./markerDecorationsService":5901,"./markerDecorationsService.js":5901,"./model":1925,"./model.js":1925,"./modelService":9557,"./modelService.js":9557,"./resolverService":5425,"./resolverService.js":5425,"./semanticTokensDto":4567,"./semanticTokensDto.js":4567,"./semanticTokensProviderStyling":7088,"./semanticTokensProviderStyling.js":7088,"./semanticTokensStyling":5424,"./semanticTokensStyling.js":5424,"./semanticTokensStylingService":281,"./semanticTokensStylingService.js":281,"./textModelSync/textModelSync.impl":3296,"./textModelSync/textModelSync.impl.js":3296,"./textModelSync/textModelSync.protocol":2045,"./textModelSync/textModelSync.protocol.js":2045,"./textResourceConfiguration":1355,"./textResourceConfiguration.js":1355,"./treeSitterParserService":2291,"./treeSitterParserService.js":2291,"./treeViewsDnd":1734,"./treeViewsDnd.js":1734,"./treeViewsDndService":1083,"./treeViewsDndService.js":1083,"./unicodeTextModelHighlighter":8752,"./unicodeTextModelHighlighter.js":8752,"node_modules/monaco-editor/esm/vs/editor/common/services/editorBaseApi":5521,"node_modules/monaco-editor/esm/vs/editor/common/services/editorBaseApi.js":5521,"node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker":2195,"node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js":2195,"node_modules/monaco-editor/esm/vs/editor/common/services/editorWorker":4225,"node_modules/monaco-editor/esm/vs/editor/common/services/editorWorker.js":4225,"node_modules/monaco-editor/esm/vs/editor/common/services/editorWorkerHost":2607,"node_modules/monaco-editor/esm/vs/editor/common/services/editorWorkerHost.js":2607,"node_modules/monaco-editor/esm/vs/editor/common/services/findSectionHeaders":2906,"node_modules/monaco-editor/esm/vs/editor/common/services/findSectionHeaders.js":2906,"node_modules/monaco-editor/esm/vs/editor/common/services/getIconClasses":3700,"node_modules/monaco-editor/esm/vs/editor/common/services/getIconClasses.js":3700,"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatureDebounce":8525,"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatureDebounce.js":8525,"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatures":5307,"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatures.js":5307,"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeaturesService":2579,"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeaturesService.js":2579,"node_modules/monaco-editor/esm/vs/editor/common/services/languageService":518,"node_modules/monaco-editor/esm/vs/editor/common/services/languageService.js":518,"node_modules/monaco-editor/esm/vs/editor/common/services/languagesAssociations":7059,"node_modules/monaco-editor/esm/vs/editor/common/services/languagesAssociations.js":7059,"node_modules/monaco-editor/esm/vs/editor/common/services/languagesRegistry":3908,"node_modules/monaco-editor/esm/vs/editor/common/services/languagesRegistry.js":3908,"node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorations":9313,"node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorations.js":9313,"node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsService":5901,"node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsService.js":5901,"node_modules/monaco-editor/esm/vs/editor/common/services/model":1925,"node_modules/monaco-editor/esm/vs/editor/common/services/model.js":1925,"node_modules/monaco-editor/esm/vs/editor/common/services/modelService":9557,"node_modules/monaco-editor/esm/vs/editor/common/services/modelService.js":9557,"node_modules/monaco-editor/esm/vs/editor/common/services/resolverService":5425,"node_modules/monaco-editor/esm/vs/editor/common/services/resolverService.js":5425,"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensDto":4567,"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensDto.js":4567,"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensProviderStyling":7088,"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensProviderStyling.js":7088,"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStyling":5424,"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStyling.js":5424,"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStylingService":281,"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStylingService.js":281,"node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.impl":3296,"node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.impl.js":3296,"node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.protocol":2045,"node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.protocol.js":2045,"node_modules/monaco-editor/esm/vs/editor/common/services/textResourceConfiguration":1355,"node_modules/monaco-editor/esm/vs/editor/common/services/textResourceConfiguration.js":1355,"node_modules/monaco-editor/esm/vs/editor/common/services/treeSitterParserService":2291,"node_modules/monaco-editor/esm/vs/editor/common/services/treeSitterParserService.js":2291,"node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDnd":1734,"node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDnd.js":1734,"node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDndService":1083,"node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDndService.js":1083,"node_modules/monaco-editor/esm/vs/editor/common/services/unicodeTextModelHighlighter":8752,"node_modules/monaco-editor/esm/vs/editor/common/services/unicodeTextModelHighlighter.js":8752};function $(E){var p=s(E);return x(p)}function s(E){if(!x.o(N,E)){var p=new Error("Cannot find module '"+E+"'");throw p.code="MODULE_NOT_FOUND",p}return N[E]}$.keys=function(){return Object.keys(N)},$.resolve=s,Ve.exports=$,$.id=7614},9495:(Ve,ve,x)=>{"use strict";function N(s){var E,p,P,l=2;for(typeof Symbol<"u"&&(p=Symbol.asyncIterator,P=Symbol.iterator);l--;){if(p&&null!=(E=s[p]))return E.call(s);if(P&&null!=(E=s[P]))return new $(E.call(s));p="@@asyncIterator",P="@@iterator"}throw new TypeError("Object is not async iterable")}function $(s){function E(p){if(Object(p)!==p)return Promise.reject(new TypeError(p+" is not an object."));var P=p.done;return Promise.resolve(p.value).then(function(l){return{value:l,done:P}})}return($=function(P){this.s=P,this.n=P.next}).prototype={s:null,n:null,next:function(){return E(this.n.apply(this.s,arguments))},return:function(P){var l=this.s.return;return void 0===l?Promise.resolve({value:P,done:!0}):E(l.apply(this.s,arguments))},throw:function(P){var l=this.s.return;return void 0===l?Promise.reject(P):E(l.apply(this.s,arguments))}},new $(s)}x.d(ve,{A:()=>N})},467:(Ve,ve,x)=>{"use strict";function N(s,E,p,P,l,I,D){try{var Z=s[I](D),H=Z.value}catch(L){return void p(L)}Z.done?E(H):Promise.resolve(H).then(P,l)}function $(s){return function(){var E=this,p=arguments;return new Promise(function(P,l){var I=s.apply(E,p);function D(H){N(I,P,l,D,Z,"next",H)}function Z(H){N(I,P,l,D,Z,"throw",H)}D(void 0)})}}x.d(ve,{A:()=>$})}},yr={};function Sn(Ve){var ve=yr[Ve];if(void 0!==ve)return ve.exports;var x=yr[Ve]={exports:{}};return Es[Ve](x,x.exports,Sn),x.exports}Sn.d=(Ve,ve)=>{for(var x in ve)Sn.o(ve,x)&&!Sn.o(Ve,x)&&Object.defineProperty(Ve,x,{enumerable:!0,get:ve[x]})},Sn.e=()=>Promise.resolve(),Sn.o=(Ve,ve)=>Object.prototype.hasOwnProperty.call(Ve,ve),Sn.r=Ve=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ve,"__esModule",{value:!0})},(()=>{"use strict";var Ve=Sn(5252),ve=Sn(2195),x=Sn(2607);let N=!1;globalThis.onmessage=s=>{N||function $(s){if(N)return;N=!0;const E=new Ve.SimpleWorkerServer(p=>{globalThis.postMessage(p)},p=>new ve.EditorSimpleWorker(x.EditorWorkerHost.getChannel(p),s));globalThis.onmessage=p=>{E.onmessage(p.data)}}(null)}})()})();