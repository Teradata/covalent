var ZL=Object.defineProperty,qL=(Ae,xe,L)=>xe in Ae?ZL(Ae,xe,{enumerable:!0,configurable:!0,writable:!0,value:L}):Ae[xe]=L,Zi=(Ae,xe,L)=>(qL(Ae,"symbol"!=typeof xe?xe+"":xe,L),L);(self.webpackChunkdocs_app=self.webpackChunkdocs_app||[]).push([[2481],{36634:(Ae,xe,L)=>{"use strict";L.d(xe,{dD:()=>H});var _=L(5e3),h=L(69808),ee=L(93075),y=L(77579),v=L(39646),Z=L(56451),$=L(54968),B=L(5963),x=L(78372),R=L(71884),O=L(82722),b=L(68349),V=L(76077);const f=["editorContainer"],N=()=>{};let A=0;const P=(0,V.b8)((0,V.Id)(class I{constructor(T){this._changeDetectorRef=T}}),[]);let H=(()=>{class F extends P{constructor(q,Y,te,me){super(q),this._elementRef=Y,this._ngZone=te,this.platformId=me,this._destroy=new y.x,this._widthSubject=new y.x,this._heightSubject=new y.x,this._editorStyle="width:100%;height:100%;border:1px solid grey;",this._value="",this._theme="vs",this._language="javascript",this._subject=new y.x,this._editorInnerContainer="editorInnerContainer"+A++,this._fromEditor=!1,this._componentInitialized=!1,this._editorOptions={},this._isFullScreen=!1,this._registeredLanguagesStyles=[],this._disposables=[],this.editorInitialized=new _.vpe,this.editorConfigurationChanged=new _.vpe,this.editorLanguageChanged=new _.vpe,this.editorValueChange=new _.vpe,this.propagateChange=_e=>N}set value(q){this._value=q,this._componentInitialized&&this.applyValue()}get value(){return this._value}applyValue(){this._fromEditor||this._editor.setValue(this._value),this._fromEditor=!1,this.propagateChange(this._value),this.editorValueChange.emit()}registerOnChange(q){this.propagateChange=q}registerOnTouched(q){this.onTouched=q}getValue(){return this._componentInitialized?(setTimeout(()=>{this._subject.next(this._value),this._subject.complete(),this._subject=new y.x}),this._subject.asObservable()):(0,v.of)("")}set language(q){this._language=q,this._componentInitialized&&this.applyLanguage()}get language(){return this._language}applyLanguage(){this._language&&(b.editor.setModelLanguage(this._editor.getModel(),this._language),this.editorLanguageChanged.emit())}registerLanguage(q){if(this._componentInitialized){b.languages.register({id:q.id}),this._disposables.push(b.languages.setMonarchTokensProvider(q.id,{tokenizer:{root:q.monarchTokensProvider}})),b.editor.defineTheme(q.customTheme.id,q.customTheme.theme),this._theme=q.customTheme.id,this._disposables.push(b.languages.registerCompletionItemProvider(q.id,{provideCompletionItems:()=>q.completionItemProvider}));const Y=document.createElement("style");Y.type="text/css",Y.innerHTML=q.monarchTokensProviderCSS,document.body.appendChild(Y),this.editorConfigurationChanged.emit(),this._registeredLanguagesStyles=[...this._registeredLanguagesStyles,Y]}}set editorStyle(q){this._editorStyle=q,this._componentInitialized&&this.applyStyle()}get editorStyle(){return this._editorStyle}applyStyle(){this._editorStyle&&this._editorContainer.nativeElement.setAttribute("style",this._editorStyle)}set theme(q){this._theme=q,this._componentInitialized&&(this._editor.updateOptions({theme:q}),this.editorConfigurationChanged.emit())}get theme(){return this._theme}set fullScreenKeyBinding(q){this._keycode=q}get fullScreenKeyBinding(){return this._keycode}set editorOptions(q){this._editorOptions=q,this._componentInitialized&&(this._editor.updateOptions(q),this.editorConfigurationChanged.emit())}get editorOptions(){return this._editorOptions}layout(){this._componentInitialized&&this._editor.layout()}get isFullScreen(){return this._isFullScreen}ngOnInit(){if((0,h.PM)(this.platformId))return;const q=this._editorContainer.nativeElement;q.id=this._editorInnerContainer,this._editor=b.editor.create(q,Object.assign({value:this._value,language:this.language,theme:this._theme},this.editorOptions)),this._componentInitialized=!0,setTimeout(()=>{this.applyLanguage(),this._fromEditor=!0,this.applyValue(),this.applyStyle(),this.editorInitialized.emit(this._editor),this.editorConfigurationChanged.emit()}),this._disposables.push(this._editor.getModel().onDidChangeContent(()=>{this._fromEditor=!0,this.writeValue(this._editor.getValue()),this.layout()})),this.addFullScreenModeCommand(),this._ngZone.runOutsideAngular(()=>(0,Z.T)((0,$.R)(window,"resize").pipe((0,x.b)(100)),this._widthSubject.asObservable().pipe((0,R.x)()),this._heightSubject.asObservable().pipe((0,R.x)())).pipe((0,x.b)(100),(0,O.R)(this._destroy)).subscribe(()=>{this.layout()})),this._ngZone.runOutsideAngular(()=>(0,B.H)(500,250).pipe((0,O.R)(this._destroy)).subscribe(()=>{const{width:Y,height:te}=this._elementRef.nativeElement.getBoundingClientRect();this._widthSubject.next(Y),this._heightSubject.next(te)}))}ngOnDestroy(){var q;for(this._changeDetectorRef.detach(),this._registeredLanguagesStyles.forEach(Y=>Y.remove());this._disposables.length;)null===(q=this._disposables.pop())||void 0===q||q.dispose();this._editor&&this._editor.dispose(),this._destroy.next(!0),this._destroy.unsubscribe()}showFullScreenEditor(){this._componentInitialized&&this._editorContainer.nativeElement.requestFullscreen(),this._isFullScreen=!0}exitFullScreenEditor(){this._componentInitialized&&document.exitFullscreen(),this._isFullScreen=!1}addFullScreenModeCommand(){this._disposables.push(this._editor.addAction({id:"fullScreen",label:"Full Screen",contextMenuGroupId:"navigation",keybindings:this._keycode,contextMenuOrder:1.5,run:()=>{this.showFullScreenEditor()}}))}}return F.\u0275fac=function(q){return new(q||F)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b),_.Y36(_.Lbi))},F.\u0275cmp=_.Xpm({type:F,selectors:[["td-code-editor"]],viewQuery:function(q,Y){if(1&q&&_.Gf(f,7),2&q){let te;_.iGM(te=_.CRH())&&(Y._editorContainer=te.first)}},inputs:{value:"value",language:"language",editorStyle:"editorStyle",theme:"theme",fullScreenKeyBinding:"fullScreenKeyBinding",editorOptions:"editorOptions"},outputs:{editorInitialized:"editorInitialized",editorConfigurationChanged:"editorConfigurationChanged",editorLanguageChanged:"editorLanguageChanged",editorValueChange:"editorValueChange"},features:[_._Bn([{provide:ee.JU,useExisting:(0,_.Gpc)(()=>F),multi:!0}]),_.qOj],decls:2,vars:0,consts:[[1,"editor-container"],["editorContainer",""]],template:function(q,Y){1&q&&_._UZ(0,"div",0,1)},styles:["[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]   .editor-container[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}  .monaco-aria-container{display:none}"]}),F})()},52481:(Ae,xe,L)=>{"use strict";L.d(xe,{T:()=>y});var _=L(36634),h=L(69808),ee=L(5e3);let y=(()=>{class v{}return v.\u0275fac=function($){return new($||v)},v.\u0275mod=ee.oAB({type:v,bootstrap:[_.dD]}),v.\u0275inj=ee.cJS({imports:[[h.ez]]}),v})()},68349:(Ae,xe,L)=>{var _;self.MonacoEnvironment=(_={editorWorkerService:"editor.worker.js",css:"css.worker.js",html:"html.worker.js",typescript:"ts.worker.js",javascript:"ts.worker.js",less:"css.worker.js",scss:"css.worker.js",handlebars:"html.worker.js",razor:"html.worker.js"},{globalAPI:!1,getWorkerUrl:function(ee,y){var v=L.p,Z=(v?function h(ee){return ee.replace(/\/$/,"")}(v)+"/":"")+_[y];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(Z)){var $=String(window.location),B=$.substr(0,$.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(Z.substring(0,B.length)!==B){/^(\/\/)/.test(Z)&&(Z=window.location.protocol+Z);var R=new Blob(["/*"+y+'*/importScripts("'+Z+'");'],{type:"application/javascript"});return URL.createObjectURL(R)}}return Z}}),L(13334),L(63783),L(36260),Ae.exports=L(12053),L(8820),L(98381),L(36429),L(46518),L(13168),L(97491),L(57862),L(41417)},13366:(Ae,xe,L)=>{"use strict";L.r(xe),L.d(xe,{PixelRatio:()=>Z,getZoomFactor:()=>$,isAndroid:()=>A,isChrome:()=>O,isEdgeLegacyWebView:()=>f,isElectron:()=>N,isFirefox:()=>x,isSafari:()=>b,isStandalone:()=>I,isWebKit:()=>R,isWebkitWebView:()=>V});var _=L(52787),h=L(52425);class ee{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}ee.INSTANCE=new ee;class y extends h.JT{constructor(){super(),this._onDidChange=this._register(new _.Q5),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio(),this._removeListener=this._installResolutionListener()}get value(){return this._value}dispose(){this._removeListener(),super.dispose()}_installResolutionListener(){const H=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),F=()=>this._updateValue();return H.addEventListener("change",F),()=>{H.removeEventListener("change",F)}}_updateValue(){this._value=this._getPixelRatio(),this._onDidChange.fire(this._value),this._removeListener=this._installResolutionListener()}_getPixelRatio(){const H=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(H.webkitBackingStorePixelRatio||H.mozBackingStorePixelRatio||H.msBackingStorePixelRatio||H.oBackingStorePixelRatio||H.backingStorePixelRatio||1)}}const Z=new class v{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=new y),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}};function $(){return ee.INSTANCE.getZoomFactor()}const B=navigator.userAgent,x=B.indexOf("Firefox")>=0,R=B.indexOf("AppleWebKit")>=0,O=B.indexOf("Chrome")>=0,b=!O&&B.indexOf("Safari")>=0,V=!O&&!b&&R,f=B.indexOf("Edge/")>=0&&B.indexOf("WebView/")>=0,N=B.indexOf("Electron/")>=0,A=B.indexOf("Android")>=0,I=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches},27991:(Ae,xe,L)=>{"use strict";L.d(xe,{D:()=>ee});var _=L(13366),h=L(38972);const ee={clipboard:{writeText:h.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:h.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:h.tY||_.isStandalone?0:navigator.keyboard||_.isSafari?1:2,touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},26889:(Ae,xe,L)=>{"use strict";L.d(xe,{P$:()=>y,TN:()=>ee,go:()=>h});const h={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:L(59341).v.text,TERMINALS:"Terminals"};class ee{constructor(Z){this.data=Z}update(){}getData(){return this.data}}const y={CurrentDragAndDropData:void 0}},58059:(Ae,xe,L)=>{"use strict";L.d(xe,{$:()=>pi,$Z:()=>fi,Ay:()=>Ni,Cp:()=>Be,D6:()=>w,DI:()=>Ee,Dx:()=>W,FK:()=>Ke,Fx:()=>St,H$:()=>Mi,IC:()=>te,If:()=>tt,OO:()=>Ci,PO:()=>O,R3:()=>Pt,RE:()=>Y,Re:()=>Yt,Ro:()=>D,Uh:()=>ri,Uw:()=>b,V3:()=>Xe,Y_:()=>oe,_0:()=>Ge,_h:()=>rt,_q:()=>bi,dS:()=>yi,fk:()=>mt,go:()=>gt,i:()=>ye,jL:()=>Se,j_:()=>q,jg:()=>bt,jt:()=>Ze,lI:()=>de,mc:()=>mi,mu:()=>I,nm:()=>f,tw:()=>Dt,uB:()=>un,uU:()=>yt,vL:()=>De,vY:()=>Ji,w:()=>Me,wY:()=>Xt,wn:()=>ht,xQ:()=>z,zB:()=>Gt});var _=L(13366),ee=(L(27991),L(74616)),y=L(78394),v=L(63072),Z=L(53663),$=L(52787),B=L(52425),x=L(90278),R=L(38972);function O(Re){for(;Re.firstChild;)Re.firstChild.remove()}function b(Re){var Oe;return null!==(Oe=null==Re?void 0:Re.isConnected)&&void 0!==Oe&&Oe}class V{constructor(Oe,st,Lt,Ht){this._node=Oe,this._type=st,this._handler=Lt,this._options=Ht||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function f(Re,Oe,st,Lt){return new V(Re,Oe,st,Lt)}let I=function(Oe,st,Lt,Ht){let gi=Lt;return"click"===st||"mousedown"===st?gi=function N(Re){return function(Oe){return Re(new y.n(Oe))}}(Lt):("keydown"===st||"keypress"===st||"keyup"===st)&&(gi=function A(Re){return function(Oe){return Re(new ee.y(Oe))}}(Lt)),f(Oe,st,gi,Ht)};function q(Re,Oe){return f(Re,"mouseout",st=>{let Lt=st.relatedTarget;for(;Lt&&Lt!==Re;)Lt=Lt.parentNode;Lt!==Re&&Oe(st)})}function Y(Re,Oe){return f(Re,"pointerout",st=>{let Lt=st.relatedTarget;for(;Lt&&Lt!==Re;)Lt=Lt.parentNode;Lt!==Re&&Oe(st)})}function te(Re,Oe,st){let Lt=null;const Ht=zt=>ei.fire(zt),ei=new $.Q5({onFirstListenerAdd:()=>{Lt||(Lt=new V(Re,Oe,Ht,st))},onLastListenerRemove:()=>{Lt&&(Lt.dispose(),Lt=null)}});return ei}let de,Se,me=null;class Ve{constructor(Oe,st=0){this._runner=Oe,this.priority=st,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(Oe){(0,Z.dL)(Oe)}}static sort(Oe,st){return st.priority-Oe.priority}}!function(){let Re=[],Oe=null,st=!1,Lt=!1,Ht=()=>{for(st=!1,Oe=Re,Re=[],Lt=!0;Oe.length>0;)Oe.sort(Ve.sort),Oe.shift().execute();Lt=!1};Se=(gi,_i=0)=>{let ei=new Ve(gi,_i);return Re.push(ei),st||(st=!0,function _e(Re){if(!me){const Oe=st=>setTimeout(()=>st((new Date).getTime()),0);me=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||Oe}me.call(self,Re)}(Ht)),ei},de=(gi,_i)=>{if(Lt){let ei=new Ve(gi,_i);return Oe.push(ei),ei}return Se(gi,_i)}}();const K=function(Re,Oe){return Oe};class ie extends B.JT{constructor(Oe,st,Lt,Ht=K,gi=8){super();let _i=null,ei=0,zt=this._register(new v._F),Si=()=>{ei=(new Date).getTime(),Lt(_i),_i=null};this._register(f(Oe,st,Jt=>{_i=Ht(_i,Jt);let fn=(new Date).getTime()-ei;fn>=gi?(zt.cancel(),Si()):zt.setIfNotSet(Si,gi-fn)}))}}function oe(Re,Oe,st,Lt,Ht){return new ie(Re,Oe,st,Lt,Ht)}function W(Re){return document.defaultView.getComputedStyle(Re,null)}function w(Re){if(Re!==document.body)return new D(Re.clientWidth,Re.clientHeight);if(R.gn&&window.visualViewport)return new D(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new D(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new D(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new D(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class U{static convertToPixels(Oe,st){return parseFloat(st)||0}static getDimension(Oe,st,Lt){let Ht=W(Oe),gi="0";return Ht&&(gi=Ht.getPropertyValue?Ht.getPropertyValue(st):Ht.getAttribute(Lt)),U.convertToPixels(Oe,gi)}static getBorderLeftWidth(Oe){return U.getDimension(Oe,"border-left-width","borderLeftWidth")}static getBorderRightWidth(Oe){return U.getDimension(Oe,"border-right-width","borderRightWidth")}static getBorderTopWidth(Oe){return U.getDimension(Oe,"border-top-width","borderTopWidth")}static getBorderBottomWidth(Oe){return U.getDimension(Oe,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(Oe){return U.getDimension(Oe,"padding-left","paddingLeft")}static getPaddingRight(Oe){return U.getDimension(Oe,"padding-right","paddingRight")}static getPaddingTop(Oe){return U.getDimension(Oe,"padding-top","paddingTop")}static getPaddingBottom(Oe){return U.getDimension(Oe,"padding-bottom","paddingBottom")}static getMarginLeft(Oe){return U.getDimension(Oe,"margin-left","marginLeft")}static getMarginTop(Oe){return U.getDimension(Oe,"margin-top","marginTop")}static getMarginRight(Oe){return U.getDimension(Oe,"margin-right","marginRight")}static getMarginBottom(Oe){return U.getDimension(Oe,"margin-bottom","marginBottom")}}class D{constructor(Oe,st){this.width=Oe,this.height=st}with(Oe=this.width,st=this.height){return Oe!==this.width||st!==this.height?new D(Oe,st):this}static is(Oe){return"object"==typeof Oe&&"number"==typeof Oe.height&&"number"==typeof Oe.width}static lift(Oe){return Oe instanceof D?Oe:new D(Oe.width,Oe.height)}static equals(Oe,st){return Oe===st||!(!Oe||!st)&&Oe.width===st.width&&Oe.height===st.height}}function z(Re){let Oe=Re.offsetParent,st=Re.offsetTop,Lt=Re.offsetLeft;for(;null!==(Re=Re.parentNode)&&Re!==document.body&&Re!==document.documentElement;){st-=Re.scrollTop;const Ht=_t(Re)?null:W(Re);Ht&&(Lt-="rtl"!==Ht.direction?Re.scrollLeft:-Re.scrollLeft),Re===Oe&&(Lt+=U.getBorderLeftWidth(Re),st+=U.getBorderTopWidth(Re),st+=Re.offsetTop,Lt+=Re.offsetLeft,Oe=Re.offsetParent)}return{left:Lt,top:st}}function ye(Re){let Oe=Re.getBoundingClientRect();return{left:Oe.left+Ee.scrollX,top:Oe.top+Ee.scrollY,width:Oe.width,height:Oe.height}}D.None=new D(0,0);const Ee=new class{get scrollX(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function Me(Re){let Oe=U.getMarginLeft(Re)+U.getMarginRight(Re);return Re.offsetWidth+Oe}function Ke(Re){let Oe=U.getBorderLeftWidth(Re)+U.getBorderRightWidth(Re),st=U.getPaddingLeft(Re)+U.getPaddingRight(Re);return Re.offsetWidth-Oe-st}function tt(Re){let Oe=U.getBorderTopWidth(Re)+U.getBorderBottomWidth(Re),st=U.getPaddingTop(Re)+U.getPaddingBottom(Re);return Re.offsetHeight-Oe-st}function ht(Re){let Oe=U.getMarginTop(Re)+U.getMarginBottom(Re);return Re.offsetHeight+Oe}function bt(Re,Oe){for(;Re;){if(Re===Oe)return!0;Re=Re.parentNode}return!1}function St(Re,Oe,st){for(;Re&&Re.nodeType===Re.ELEMENT_NODE;){if(Re.classList.contains(Oe))return Re;if(st)if("string"==typeof st){if(Re.classList.contains(st))return null}else if(Re===st)return null;Re=Re.parentNode}return null}function yt(Re,Oe,st){return!!St(Re,Oe,st)}function _t(Re){return Re&&!!Re.host&&!!Re.mode}function Ci(Re){return!!Ni(Re)}function Ni(Re){for(;Re.parentNode;){if(Re===document.body)return null;Re=Re.parentNode}return _t(Re)?Re:null}function Ji(){let Re=document.activeElement;for(;null==Re?void 0:Re.shadowRoot;)Re=Re.shadowRoot.activeElement;return Re}function yi(Re=document.getElementsByTagName("head")[0]){let Oe=document.createElement("style");return Oe.type="text/css",Oe.media="screen",Re.appendChild(Oe),Oe}let oi=null;function mt(Re,Oe,st=function Ot(){return oi||(oi=yi()),oi}()){!st||!Oe||st.sheet.insertRule(Re+"{"+Oe+"}",0)}function Yt(Re){return"object"==typeof HTMLElement?Re instanceof HTMLElement:Re&&"object"==typeof Re&&1===Re.nodeType&&"string"==typeof Re.nodeName}const Dt={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:_.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:_.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:_.isWebKit?"webkitAnimationIteration":"animationiteration"},Gt={stop:function(Re,Oe){Re.preventDefault?Re.preventDefault():Re.returnValue=!1,Oe&&(Re.stopPropagation?Re.stopPropagation():Re.cancelBubble=!0)}};function De(Re){let Oe=[];for(let st=0;Re&&Re.nodeType===Re.ELEMENT_NODE;st++)Oe[st]=Re.scrollTop,Re=Re.parentNode;return Oe}function Ge(Re,Oe){for(let st=0;Re&&Re.nodeType===Re.ELEMENT_NODE;st++)Re.scrollTop!==Oe[st]&&(Re.scrollTop=Oe[st]),Re=Re.parentNode}class Je extends B.JT{constructor(Oe){super(),this._onDidFocus=this._register(new $.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new $.Q5),this.onDidBlur=this._onDidBlur.event;let st=Je.hasFocusWithin(Oe),Lt=!1;const Ht=()=>{Lt=!1,st||(st=!0,this._onDidFocus.fire())},gi=()=>{st&&(Lt=!0,window.setTimeout(()=>{Lt&&(Lt=!1,st=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{Je.hasFocusWithin(Oe)!==st&&(st?gi():Ht())},this._register(f(Oe,Dt.FOCUS,Ht,!0)),this._register(f(Oe,Dt.BLUR,gi,!0)),this._register(f(Oe,Dt.FOCUS_IN,()=>this._refreshStateHandler())),this._register(f(Oe,Dt.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(Oe){const st=Ni(Oe);return bt(st?st.activeElement:document.activeElement,Oe)}}function gt(Re){return new Je(Re)}function Pt(Re,...Oe){if(Re.append(...Oe),1===Oe.length&&"string"!=typeof Oe[0])return Oe[0]}function mi(Re,...Oe){Re.innerText="",Pt(Re,...Oe)}const Li=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Ii=(()=>{return(Re=Ii||(Ii={})).HTML="http://www.w3.org/1999/xhtml",Re.SVG="http://www.w3.org/2000/svg",Ii;var Re})();function Ue(Re,Oe,st,...Lt){let Ht=Li.exec(Oe);if(!Ht)throw new Error("Bad use of emmet");st=Object.assign({},st||{});let _i,gi=Ht[1]||"div";return _i=Re!==Ii.HTML?document.createElementNS(Re,gi):document.createElement(gi),Ht[3]&&(_i.id=Ht[3]),Ht[4]&&(_i.className=Ht[4].replace(/\./g," ").trim()),Object.keys(st).forEach(ei=>{const zt=st[ei];void 0!==zt&&(/^on\w+$/.test(ei)?_i[ei]=zt:"selected"===ei?zt&&_i.setAttribute(ei,"true"):_i.setAttribute(ei,zt))}),_i.append(...Lt),_i}function pi(Re,Oe,...st){return Ue(Ii.HTML,Re,Oe,...st)}function fi(...Re){for(let Oe of Re)Oe.style.display="",Oe.removeAttribute("aria-hidden")}function Be(...Re){for(let Oe of Re)Oe.style.display="none",Oe.setAttribute("aria-hidden","true")}function Mi(Re){return Array.prototype.slice.call(document.getElementsByTagName(Re),0)}function ri(Re){const Oe=window.devicePixelRatio*Re;return Math.max(1,Math.floor(Oe))/window.devicePixelRatio}function Xe(Re){window.open(Re,"_blank","noopener")}function Ze(Re){const Oe=()=>{Re(),st=Se(Oe)};let st=Se(Oe);return(0,B.OF)(()=>st.dispose())}function Xt(Re){return Re?`url('${x.Gi.asBrowserUri(Re).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function rt(Re){return`'${Re.replace(/'/g,"%27")}'`}pi.SVG=function(Re,Oe,...st){return Ue(Ii.SVG,Re,Oe,...st)},x.WX.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");class bi extends $.Q5{constructor(){super(),this._subscriptions=new B.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(f(window,"keydown",Oe=>{if(Oe.defaultPrevented)return;const st=new ee.y(Oe);if(6!==st.keyCode||!Oe.repeat){if(Oe.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Oe.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Oe.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Oe.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else{if(6===st.keyCode)return;this._keyStatus.lastKeyPressed=void 0}this._keyStatus.altKey=Oe.altKey,this._keyStatus.ctrlKey=Oe.ctrlKey,this._keyStatus.metaKey=Oe.metaKey,this._keyStatus.shiftKey=Oe.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=Oe,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(f(window,"keyup",Oe=>{Oe.defaultPrevented||(this._keyStatus.lastKeyReleased=!Oe.altKey&&this._keyStatus.altKey?"alt":!Oe.ctrlKey&&this._keyStatus.ctrlKey?"ctrl":!Oe.metaKey&&this._keyStatus.metaKey?"meta":!Oe.shiftKey&&this._keyStatus.shiftKey?"shift":void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=Oe.altKey,this._keyStatus.ctrlKey=Oe.ctrlKey,this._keyStatus.metaKey=Oe.metaKey,this._keyStatus.shiftKey=Oe.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=Oe,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(f(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(f(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(f(document.body,"mousemove",Oe=>{Oe.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(f(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return bi.instance||(bi.instance=new bi),bi.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}function un(Re,Oe){window.matchMedia(Re).addEventListener("change",Oe)}},65691:(Ae,xe,L)=>{"use strict";L.d(xe,{Y:()=>h,p:()=>ee});var _=L(52787);class h{constructor(v,Z,$){const B=x=>this.emitter.fire(x);this.emitter=new _.Q5({onFirstListenerAdd:()=>v.addEventListener(Z,B,$),onLastListenerRemove:()=>v.removeEventListener(Z,B,$)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function ee(y){return y.preventDefault(),y.stopPropagation(),y}},48554:(Ae,xe,L)=>{"use strict";L.d(xe,{X:()=>h,Z:()=>_});class _{constructor(y){this.domNode=y,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(y){this._maxWidth!==y&&(this._maxWidth=y,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(y){this._width!==y&&(this._width=y,this.domNode.style.width=this._width+"px")}setHeight(y){this._height!==y&&(this._height=y,this.domNode.style.height=this._height+"px")}setTop(y){this._top!==y&&(this._top=y,this.domNode.style.top=this._top+"px")}unsetTop(){-1!==this._top&&(this._top=-1,this.domNode.style.top="")}setLeft(y){this._left!==y&&(this._left=y,this.domNode.style.left=this._left+"px")}setBottom(y){this._bottom!==y&&(this._bottom=y,this.domNode.style.bottom=this._bottom+"px")}setRight(y){this._right!==y&&(this._right=y,this.domNode.style.right=this._right+"px")}setFontFamily(y){this._fontFamily!==y&&(this._fontFamily=y,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(y){this._fontWeight!==y&&(this._fontWeight=y,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(y){this._fontSize!==y&&(this._fontSize=y,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(y){this._fontFeatureSettings!==y&&(this._fontFeatureSettings=y,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(y){this._lineHeight!==y&&(this._lineHeight=y,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(y){this._letterSpacing!==y&&(this._letterSpacing=y,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(y){this._className!==y&&(this._className=y,this.domNode.className=this._className)}toggleClassName(y,v){this.domNode.classList.toggle(y,v),this._className=this.domNode.className}setDisplay(y){this._display!==y&&(this._display=y,this.domNode.style.display=this._display)}setPosition(y){this._position!==y&&(this._position=y,this.domNode.style.position=this._position)}setVisibility(y){this._visibility!==y&&(this._visibility=y,this.domNode.style.visibility=this._visibility)}setBackgroundColor(y){this._backgroundColor!==y&&(this._backgroundColor=y,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(y){this._layerHint!==y&&(this._layerHint=y,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(y){this._boxShadow!==y&&(this._boxShadow=y,this.domNode.style.boxShadow=y)}setContain(y){this._contain!==y&&(this._contain=y,this.domNode.style.contain=this._contain)}setAttribute(y,v){this.domNode.setAttribute(y,v)}removeAttribute(y){this.domNode.removeAttribute(y)}appendChild(y){this.domNode.appendChild(y.domNode)}removeChild(y){this.domNode.removeChild(y.domNode)}}function h(ee){return new _(ee)}},43449:(Ae,xe,L)=>{"use strict";L.d(xe,{Z:()=>$,e:()=>Z});var _=L(58059),h=L(79220),ee=L(78394),y=L(52425),v=L(38972);function Z(B,x){let R=new ee.n(x);return R.preventDefault(),{leftButton:R.leftButton,buttons:R.buttons,posx:R.posx,posy:R.posy}}class ${constructor(){this._hooks=new y.SL,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(x,R){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const O=this._onStopCallback;this._onStopCallback=null,x&&O&&O(R)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(x,R,O,b,V){if(this.isMonitoring())return;this._mouseMoveEventMerger=O,this._mouseMoveCallback=b,this._onStopCallback=V;const f=h.E.getSameOriginWindowChain(),N=v.gn?"pointermove":"mousemove",I=f.map(H=>H.window.document),P=_.Ay(x);P&&I.unshift(P);for(const H of I)this._hooks.add(_.Y_(H,N,F=>{F.buttons===R?this._mouseMoveCallback(F):this.stopMonitoring(!0)},(F,T)=>this._mouseMoveEventMerger(F,T))),this._hooks.add(_.nm(H,"mouseup",F=>this.stopMonitoring(!0)));if(h.E.hasDifferentOriginAncestor()){let H=f[f.length-1];this._hooks.add(_.nm(H.window.document,"mouseout",F=>{"html"===new ee.n(F).target.tagName.toLowerCase()&&this.stopMonitoring(!0)})),this._hooks.add(_.nm(H.window.document,"mouseover",F=>{"html"===new ee.n(F).target.tagName.toLowerCase()&&this.stopMonitoring(!0)})),this._hooks.add(_.nm(H.window.document.body,"mouseleave",F=>{this.stopMonitoring(!0)}))}}}},79220:(Ae,xe,L)=>{"use strict";L.d(xe,{E:()=>y});let _=!1,h=null;function ee(v){if(!v.parent||v.parent===v)return null;try{let Z=v.location,$=v.parent.location;if("null"!==Z.origin&&"null"!==$.origin&&Z.origin!==$.origin)return _=!0,null}catch(Z){return _=!0,null}return v.parent}class y{static getSameOriginWindowChain(){if(!h){h=[];let $,Z=window;do{$=ee(Z),h.push($?{window:Z,iframeElement:Z.frameElement||null}:{window:Z,iframeElement:null}),Z=$}while(Z)}return h.slice(0)}static hasDifferentOriginAncestor(){return h||this.getSameOriginWindowChain(),_}static getPositionOfChildWindowRelativeToAncestorWindow(Z,$){if(!$||Z===$)return{top:0,left:0};let B=0,x=0,R=this.getSameOriginWindowChain();for(const O of R){if(B+=O.window.scrollY,x+=O.window.scrollX,O.window===$||!O.iframeElement)break;let b=O.iframeElement.getBoundingClientRect();B+=b.top,x+=b.left}return{top:B,left:x}}}},74616:(Ae,xe,L)=>{"use strict";L.d(xe,{y:()=>R});var _=L(13366),h=L(36950),ee=L(5016),y=L(38972);const Z=y.dz?256:2048,x=y.dz?2048:256;class R{constructor(b){this._standardKeyboardEventBrand=!0;let V=b;this.browserEvent=V,this.target=V.target,this.ctrlKey=V.ctrlKey,this.shiftKey=V.shiftKey,this.altKey=V.altKey,this.metaKey=V.metaKey,this.keyCode=function v(O){if(O.charCode){let V=String.fromCharCode(O.charCode).toUpperCase();return h.kL.fromString(V)}const b=O.keyCode;if(3===b)return 7;if(_.isFirefox){if(59===b)return 80;if(107===b)return 81;if(109===b)return 83;if(y.dz&&224===b)return 57}else if(_.isWebKit){if(91===b)return 57;if(y.dz&&93===b)return 57;if(!y.dz&&92===b)return 57}return h.H_[b]||0}(V),this.code=V.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(b){return this._asKeybinding===b}_computeKeybinding(){let b=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(b=this.keyCode);let V=0;return this.ctrlKey&&(V|=Z),this.altKey&&(V|=512),this.shiftKey&&(V|=1024),this.metaKey&&(V|=x),V|=b,V}_computeRuntimeKeybinding(){let b=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(b=this.keyCode),new ee.QC(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,b)}}},78394:(Ae,xe,L)=>{"use strict";L.d(xe,{n:()=>y,q:()=>v});var _=L(13366),h=L(79220),ee=L(38972);class y{constructor($){this.timestamp=Date.now(),this.browserEvent=$,this.leftButton=0===$.button,this.middleButton=1===$.button,this.rightButton=2===$.button,this.buttons=$.buttons,this.target=$.target,this.detail=$.detail||1,"dblclick"===$.type&&(this.detail=2),this.ctrlKey=$.ctrlKey,this.shiftKey=$.shiftKey,this.altKey=$.altKey,this.metaKey=$.metaKey,"number"==typeof $.pageX?(this.posx=$.pageX,this.posy=$.pageY):(this.posx=$.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=$.clientY+document.body.scrollTop+document.documentElement.scrollTop);let B=h.E.getPositionOfChildWindowRelativeToAncestorWindow(self,$.view);this.posx-=B.left,this.posy-=B.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class v{constructor($,B=0,x=0){if(this.browserEvent=$||null,this.target=$?$.target||$.targetNode||$.srcElement:null,this.deltaY=x,this.deltaX=B,$){let R=$,O=$;void 0!==R.wheelDeltaY?this.deltaY=R.wheelDeltaY/120:void 0!==O.VERTICAL_AXIS&&O.axis===O.VERTICAL_AXIS?this.deltaY=-O.detail/3:"wheel"===$.type&&(this.deltaY=$.deltaMode===$.DOM_DELTA_LINE?_.isFirefox&&!ee.dz?-$.deltaY/3:-$.deltaY:-$.deltaY/40),void 0!==R.wheelDeltaX?this.deltaX=_.isSafari&&ee.ED?-R.wheelDeltaX/120:R.wheelDeltaX/120:void 0!==O.HORIZONTAL_AXIS&&O.axis===O.HORIZONTAL_AXIS?this.deltaX=-$.detail/3:"wheel"===$.type&&(this.deltaX=$.deltaMode===$.DOM_DELTA_LINE?_.isFirefox&&!ee.dz?-$.deltaX/3:-$.deltaX:-$.deltaX/40),0===this.deltaY&&0===this.deltaX&&$.wheelDelta&&(this.deltaY=$.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}},79680:(Ae,xe,L)=>{"use strict";L.d(xe,{o:()=>$,t:()=>Z});var _=L(58059),h=L(18337),ee=L(10087),y=L(52425),Z=(()=>{return(B=Z||(Z={})).Tap="-monaco-gesturetap",B.Change="-monaco-gesturechange",B.Start="-monaco-gesturestart",B.End="-monaco-gesturesend",B.Contextmenu="-monaco-gesturecontextmenu",Z;var B})();class $ extends y.JT{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(_.nm(document,"touchstart",x=>this.onTouchStart(x),{passive:!1})),this._register(_.nm(document,"touchend",x=>this.onTouchEnd(x))),this._register(_.nm(document,"touchmove",x=>this.onTouchMove(x),{passive:!1}))}static addTarget(x){return $.isTouchDevice()?($.INSTANCE||($.INSTANCE=new $),$.INSTANCE.targets.push(x),{dispose:()=>{$.INSTANCE.targets=$.INSTANCE.targets.filter(R=>R!==x)}}):y.JT.None}static ignoreTarget(x){return $.isTouchDevice()?($.INSTANCE||($.INSTANCE=new $),$.INSTANCE.ignoreTargets.push(x),{dispose:()=>{$.INSTANCE.ignoreTargets=$.INSTANCE.ignoreTargets.filter(R=>R!==x)}}):y.JT.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(x){let R=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let O=0,b=x.targetTouches.length;O<b;O++){let V=x.targetTouches.item(O);this.activeTouches[V.identifier]={id:V.identifier,initialTarget:V.target,initialTimeStamp:R,initialPageX:V.pageX,initialPageY:V.pageY,rollingTimestamps:[R],rollingPageX:[V.pageX],rollingPageY:[V.pageY]};let f=this.newGestureEvent(Z.Start,V.target);f.pageX=V.pageX,f.pageY=V.pageY,this.dispatchEvent(f)}this.dispatched&&(x.preventDefault(),x.stopPropagation(),this.dispatched=!1)}onTouchEnd(x){let R=Date.now(),O=Object.keys(this.activeTouches).length;for(let b=0,V=x.changedTouches.length;b<V;b++){let f=x.changedTouches.item(b);if(!this.activeTouches.hasOwnProperty(String(f.identifier))){console.warn("move of an UNKNOWN touch",f);continue}let N=this.activeTouches[f.identifier],A=Date.now()-N.initialTimeStamp;if(A<$.HOLD_DELAY&&Math.abs(N.initialPageX-h.Gb(N.rollingPageX))<30&&Math.abs(N.initialPageY-h.Gb(N.rollingPageY))<30){let I=this.newGestureEvent(Z.Tap,N.initialTarget);I.pageX=h.Gb(N.rollingPageX),I.pageY=h.Gb(N.rollingPageY),this.dispatchEvent(I)}else if(A>=$.HOLD_DELAY&&Math.abs(N.initialPageX-h.Gb(N.rollingPageX))<30&&Math.abs(N.initialPageY-h.Gb(N.rollingPageY))<30){let I=this.newGestureEvent(Z.Contextmenu,N.initialTarget);I.pageX=h.Gb(N.rollingPageX),I.pageY=h.Gb(N.rollingPageY),this.dispatchEvent(I)}else if(1===O){let I=h.Gb(N.rollingPageX),P=h.Gb(N.rollingPageY),H=h.Gb(N.rollingTimestamps)-N.rollingTimestamps[0],F=I-N.rollingPageX[0],T=P-N.rollingPageY[0];const q=this.targets.filter(Y=>N.initialTarget instanceof Node&&Y.contains(N.initialTarget));this.inertia(q,R,Math.abs(F)/H,F>0?1:-1,I,Math.abs(T)/H,T>0?1:-1,P)}this.dispatchEvent(this.newGestureEvent(Z.End,N.initialTarget)),delete this.activeTouches[f.identifier]}this.dispatched&&(x.preventDefault(),x.stopPropagation(),this.dispatched=!1)}newGestureEvent(x,R){let O=document.createEvent("CustomEvent");return O.initEvent(x,!1,!0),O.initialTarget=R,O.tapCount=0,O}dispatchEvent(x){if(x.type===Z.Tap){const R=(new Date).getTime();let O=0;O=R-this._lastSetTapCountTime>$.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=R,x.tapCount=O}else(x.type===Z.Change||x.type===Z.Contextmenu)&&(this._lastSetTapCountTime=0);for(let R=0;R<this.ignoreTargets.length;R++)if(x.initialTarget instanceof Node&&this.ignoreTargets[R].contains(x.initialTarget))return;this.targets.forEach(R=>{x.initialTarget instanceof Node&&R.contains(x.initialTarget)&&(R.dispatchEvent(x),this.dispatched=!0)})}inertia(x,R,O,b,V,f,N,A){this.handle=_.jL(()=>{let I=Date.now(),P=I-R,H=0,F=0,T=!0;(O+=$.SCROLL_FRICTION*P)>0&&(T=!1,H=b*O*P),(f+=$.SCROLL_FRICTION*P)>0&&(T=!1,F=N*f*P);let q=this.newGestureEvent(Z.Change);q.translationX=H,q.translationY=F,x.forEach(Y=>Y.dispatchEvent(q)),T||this.inertia(x,I,O,b,V+H,f,N,A+F)})}onTouchMove(x){let R=Date.now();for(let O=0,b=x.changedTouches.length;O<b;O++){let V=x.changedTouches.item(O);if(!this.activeTouches.hasOwnProperty(String(V.identifier))){console.warn("end of an UNKNOWN touch",V);continue}let f=this.activeTouches[V.identifier],N=this.newGestureEvent(Z.Change,f.initialTarget);N.translationX=V.pageX-h.Gb(f.rollingPageX),N.translationY=V.pageY-h.Gb(f.rollingPageY),N.pageX=V.pageX,N.pageY=V.pageY,this.dispatchEvent(N),f.rollingPageX.length>3&&(f.rollingPageX.shift(),f.rollingPageY.shift(),f.rollingTimestamps.shift()),f.rollingPageX.push(V.pageX),f.rollingPageY.push(V.pageY),f.rollingTimestamps.push(R)}this.dispatched&&(x.preventDefault(),x.stopPropagation(),this.dispatched=!1)}}$.SCROLL_FRICTION=-.005,$.HOLD_DELAY=700,$.CLEAR_TAP_COUNT_TIME=400,function(B,x,R,O){var f,b=arguments.length,V=b<3?x:null===O?O=Object.getOwnPropertyDescriptor(x,R):O;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)V=Reflect.decorate(B,x,R,O);else for(var N=B.length-1;N>=0;N--)(f=B[N])&&(V=(b<3?f(V):b>3?f(x,R,V):f(x,R))||V);b>3&&V&&Object.defineProperty(x,R,V)}([ee.H],$,"isTouchDevice",null)},45909:(Ae,xe,L)=>{"use strict";L.d(xe,{Y:()=>O,g:()=>b});var _=L(13366),h=L(26889),ee=L(58059),y=L(79680),v=L(85113),Z=L(52425),$=L(38972),B=L(54435),R=(L(70552),L(40402));class O extends Z.JT{constructor(f,N,A={}){super(),this.options=A,this._context=f||this,this._action=N,N instanceof v.aU&&this._register(N.onDidChange(I=>{!this.element||this.handleActionChangeEvent(I)}))}handleActionChangeEvent(f){void 0!==f.enabled&&this.updateEnabled(),void 0!==f.checked&&this.updateChecked(),void 0!==f.class&&this.updateClass(),void 0!==f.label&&(this.updateLabel(),this.updateTooltip()),void 0!==f.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new v.Wi)),this._actionRunner}set actionRunner(f){this._actionRunner=f}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(f){this._context=f}render(f){const N=this.element=f;this._register(y.o.addTarget(f));const A=this.options&&this.options.draggable;A&&(f.draggable=!0,_.isFirefox&&this._register((0,ee.nm)(f,ee.tw.DRAG_START,I=>{var P;return null===(P=I.dataTransfer)||void 0===P?void 0:P.setData(h.go.TEXT,this._action.label)}))),this._register((0,ee.nm)(N,y.t.Tap,I=>this.onClick(I,!0))),this._register((0,ee.nm)(N,ee.tw.MOUSE_DOWN,I=>{A||ee.zB.stop(I,!0),this._action.enabled&&0===I.button&&N.classList.add("active")})),$.dz&&this._register((0,ee.nm)(N,ee.tw.CONTEXT_MENU,I=>{0===I.button&&!0===I.ctrlKey&&this.onClick(I)})),this._register((0,ee.nm)(N,ee.tw.CLICK,I=>{ee.zB.stop(I,!0),this.options&&this.options.isMenu||this.onClick(I)})),this._register((0,ee.nm)(N,ee.tw.DBLCLICK,I=>{ee.zB.stop(I,!0)})),[ee.tw.MOUSE_UP,ee.tw.MOUSE_OUT].forEach(I=>{this._register((0,ee.nm)(N,I,P=>{ee.zB.stop(P),N.classList.remove("active")}))})}onClick(f,N=!1){var A;ee.zB.stop(f,!0);const I=B.Jp(this._context)?(null===(A=this.options)||void 0===A?void 0:A.useEventAsContext)?f:{preserveFocus:N}:this._context;this.actionRunner.run(this._action,I)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(f){this.element&&(this.element.tabIndex=f?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class b extends O{constructor(f,N,A={}){super(f,N,A),this.options=A,this.options.icon=void 0!==A.icon&&A.icon,this.options.label=void 0===A.label||A.label,this.cssClass=""}render(f){super.render(f),this.element&&(this.label=(0,ee.R3)(this.element,(0,ee.$)("a.action-label"))),this.label&&this.label.setAttribute("role",this._action.id===v.Z0.ID?"presentation":this.options.isMenu?"menuitem":"button"),this.options.label&&this.options.keybinding&&this.element&&((0,ee.R3)(this.element,(0,ee.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(f){this.label&&(this.label.tabIndex=f?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let f=null;this.getAction().tooltip?f=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(f=this.getAction().label,this.options.keybinding&&(f=R.N({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",f,this.options.keybinding))),f&&this.label&&(this.label.title=f)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}},84039:(Ae,xe,L)=>{"use strict";L.d(xe,{o:()=>R});var _=L(58059),h=L(74616),ee=L(45909),y=L(85113),v=L(52787),Z=L(52425),$=L(54435),x=(L(70552),function(O,b,V,f){return new(V||(V=Promise))(function(A,I){function P(T){try{F(f.next(T))}catch(q){I(q)}}function H(T){try{F(f.throw(T))}catch(q){I(q)}}function F(T){T.done?A(T.value):function N(A){return A instanceof V?A:new V(function(I){I(A)})}(T.value).then(P,H)}F((f=f.apply(O,b||[])).next())})});class R extends Z.JT{constructor(b,V={}){var f,N,A,I,P,H;let F,T;switch(super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new v.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new v.Q5({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new v.Q5),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new v.Q5),this.onBeforeRun=this._onBeforeRun.event,this.options=V,this._context=null!==(f=V.context)&&void 0!==f?f:null,this._orientation=null!==(N=this.options.orientation)&&void 0!==N?N:0,this._triggerKeys={keyDown:null!==(I=null===(A=this.options.triggerKeys)||void 0===A?void 0:A.keyDown)&&void 0!==I&&I,keys:null!==(H=null===(P=this.options.triggerKeys)||void 0===P?void 0:P.keys)&&void 0!==H?H:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new y.Wi,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(q=>this._onDidRun.fire(q))),this._register(this._actionRunner.onBeforeRun(q=>this._onBeforeRun.fire(q))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==V.animated&&this.domNode.classList.add("animated"),this._orientation){case 0:F=[15],T=[17];break;case 1:F=[16],T=[18],this.domNode.className+=" vertical"}this._register(_.nm(this.domNode,_.tw.KEY_DOWN,q=>{const Y=new h.y(q);let te=!0;const me="number"==typeof this.focusedItem?this.viewItems[this.focusedItem]:void 0;F&&(Y.equals(F[0])||Y.equals(F[1]))?te=this.focusPrevious():T&&(Y.equals(T[0])||Y.equals(T[1]))?te=this.focusNext():Y.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():Y.equals(14)?te=this.focusFirst():Y.equals(13)?te=this.focusLast():Y.equals(2)&&me instanceof ee.Y&&me.trapsArrowNavigation?te=this.focusNext():this.isTriggerKeyEvent(Y)?this._triggerKeys.keyDown?this.doTrigger(Y):this.triggerKeyDown=!0:te=!1,te&&(Y.preventDefault(),Y.stopPropagation())})),this._register(_.nm(this.domNode,_.tw.KEY_UP,q=>{const Y=new h.y(q);this.isTriggerKeyEvent(Y)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(Y)),Y.preventDefault(),Y.stopPropagation()):(Y.equals(2)||Y.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(_.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(_.vY()===this.domNode||!_.jg(_.vY(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),b.appendChild(this.domNode)}setFocusable(b){if(this.focusable=b,this.focusable){const V=this.viewItems.find(f=>f instanceof ee.Y&&f.isEnabled());V instanceof ee.Y&&V.setFocusable(!0)}else this.viewItems.forEach(V=>{V instanceof ee.Y&&V.setFocusable(!1)})}isTriggerKeyEvent(b){let V=!1;return this._triggerKeys.keys.forEach(f=>{V=V||b.equals(f)}),V}updateFocusedItem(){for(let b=0;b<this.actionsList.children.length;b++){const V=this.actionsList.children[b];if(_.jg(_.vY(),V)){this.focusedItem=b;break}}}get context(){return this._context}set context(b){this._context=b,this.viewItems.forEach(V=>V.setActionContext(b))}get actionRunner(){return this._actionRunner}set actionRunner(b){b&&(this._actionRunner=b,this.viewItems.forEach(V=>V.actionRunner=b))}getContainer(){return this.domNode}push(b,V={}){const f=Array.isArray(b)?b:[b];let N=$.hj(V.index)?V.index:null;f.forEach(A=>{const I=document.createElement("li");let P;I.className="action-item",I.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(_.nm(I,_.tw.CONTEXT_MENU,H=>{_.zB.stop(H,!0)})),this.options.actionViewItemProvider&&(P=this.options.actionViewItemProvider(A)),P||(P=new ee.g(this.context,A,V)),P.actionRunner=this._actionRunner,P.setActionContext(this.context),P.render(I),this.focusable&&P instanceof ee.Y&&0===this.viewItems.length&&P.setFocusable(!0),null===N||N<0||N>=this.actionsList.children.length?(this.actionsList.appendChild(I),this.viewItems.push(P),this._actionIds.push(A.id)):(this.actionsList.insertBefore(I,this.actionsList.children[N]),this.viewItems.splice(N,0,P),this._actionIds.splice(N,0,A.id),N++)}),"number"==typeof this.focusedItem&&this.focus(this.focusedItem)}clear(){(0,Z.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],_.PO(this.actionsList)}length(){return this.viewItems.length}focus(b){let f,V=!1;if(void 0===b?V=!0:"number"==typeof b?f=b:"boolean"==typeof b&&(V=b),V&&void 0===this.focusedItem){const N=this.viewItems.findIndex(A=>A.isEnabled());this.focusedItem=-1===N?void 0:N,this.updateFocus(void 0,void 0,!0)}else void 0!==f&&(this.focusedItem=f),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(b){if(void 0===this.focusedItem)this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const V=this.focusedItem;let f;do{if(!b&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=V,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,f=this.viewItems[this.focusedItem]}while(this.focusedItem!==V&&this.options.focusOnlyEnabledItems&&!f.isEnabled());return this.updateFocus(),!0}focusPrevious(b){if(void 0===this.focusedItem)this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const V=this.focusedItem;let f;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!b&&this.options.preventLoopNavigation)return this.focusedItem=V,!1;this.focusedItem=this.viewItems.length-1}f=this.viewItems[this.focusedItem]}while(this.focusedItem!==V&&this.options.focusOnlyEnabledItems&&!f.isEnabled());return this.updateFocus(!0),!0}updateFocus(b,V,f=!1){var N;void 0===this.focusedItem&&this.actionsList.focus({preventScroll:V}),void 0!==this.previouslyFocusedItem&&this.previouslyFocusedItem!==this.focusedItem&&(null===(N=this.viewItems[this.previouslyFocusedItem])||void 0===N||N.blur());const A=void 0!==this.focusedItem&&this.viewItems[this.focusedItem];if(A){let I=!0;$.mf(A.focus)||(I=!1),this.options.focusOnlyEnabledItems&&$.mf(A.isEnabled)&&!A.isEnabled()&&(I=!1),I?(f||this.previouslyFocusedItem!==this.focusedItem)&&(A.focus(b),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:V}),this.previouslyFocusedItem=void 0)}}doTrigger(b){if(void 0===this.focusedItem)return;const V=this.viewItems[this.focusedItem];V instanceof ee.Y&&this.run(V._action,null==V._context?b:V._context)}run(b,V){return x(this,void 0,void 0,function*(){yield this._actionRunner.run(b,V)})}dispose(){(0,Z.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}},23619:(Ae,xe,L)=>{"use strict";L.d(xe,{Z9:()=>O,i7:()=>b,wW:()=>R});var _=L(58059),h=L(38972);let v,Z,$,B,x;function R(f){v=document.createElement("div"),v.className="monaco-aria-container";const N=()=>{const I=document.createElement("div");return I.className="monaco-alert",I.setAttribute("role","alert"),I.setAttribute("aria-atomic","true"),v.appendChild(I),I};Z=N(),$=N();const A=()=>{const I=document.createElement("div");return I.className="monaco-status",I.setAttribute("role","complementary"),I.setAttribute("aria-live","polite"),I.setAttribute("aria-atomic","true"),v.appendChild(I),I};B=A(),x=A(),f.appendChild(v)}function O(f){!v||(Z.textContent!==f?(_.PO($),V(Z,f)):(_.PO(Z),V($,f)))}function b(f){!v||(h.dz?O(f):B.textContent!==f?(_.PO(x),V(B,f)):(_.PO(B),V(x,f)))}function V(f,N){_.PO(f),N.length>2e4&&(N=N.substr(0,2e4)),f.textContent=N,f.style.visibility="hidden",f.style.visibility="visible"}L(2898)},64786:(Ae,xe,L)=>{"use strict";L.d(xe,{p:()=>me,W:()=>te});var _=L(58059),h=L(65691);function y(_e,de={}){const Se=v(de);return $(Se,function B(_e,de){const Se={type:1,children:[]};let Ve=0,ce=Se;const K=[],ie=new Z(_e);for(;!ie.eos();){let oe=ie.next();const W="\\"===oe&&0!==R(ie.peek(),de);if(W&&(oe=ie.next()),!W&&x(oe,de)&&oe===ie.peek()){ie.advance(),2===ce.type&&(ce=K.pop());const w=R(oe,de);if(ce.type===w||5===ce.type&&6===w)ce=K.pop();else{const U={type:w,children:[]};5===w&&(U.index=Ve,Ve++),ce.children.push(U),K.push(ce),ce=U}}else if("\n"===oe)2===ce.type&&(ce=K.pop()),ce.children.push({type:8});else if(2!==ce.type){const w={type:2,content:oe};ce.children.push(w),K.push(ce),ce=w}else ce.content+=oe}return 2===ce.type&&(ce=K.pop()),Se}(_e,!!de.renderCodeSegments),de.actionHandler,de.renderCodeSegments),Se}function v(_e){const Se=document.createElement(_e.inline?"span":"div");return _e.className&&(Se.className=_e.className),Se}class Z{constructor(de){this.source=de,this.index=0}eos(){return this.index>=this.source.length}next(){const de=this.peek();return this.advance(),de}peek(){return this.source[this.index]}advance(){this.index++}}function $(_e,de,Se,Ve){let ce;if(2===de.type)ce=document.createTextNode(de.content||"");else if(3===de.type)ce=document.createElement("b");else if(4===de.type)ce=document.createElement("i");else if(7===de.type&&Ve)ce=document.createElement("code");else if(5===de.type&&Se){const K=document.createElement("a");Se.disposables.add(_.mu(K,"click",ie=>{Se.callback(String(de.index),ie)})),ce=K}else 8===de.type?ce=document.createElement("br"):1===de.type&&(ce=_e);ce&&_e!==ce&&_e.appendChild(ce),ce&&Array.isArray(de.children)&&de.children.forEach(K=>{$(ce,K,Se,Ve)})}function x(_e,de){return 0!==R(_e,de)}function R(_e,de){switch(_e){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return de?7:0;default:return 0}}var O=L(84039),b=L(23619),V=L(48152),f=L(83568),N=L(68927),A=L(52787);class I{constructor(de,Se=0,Ve=de.length,ce=Se-1){this.items=de,this.start=Se,this.end=Ve,this.index=ce}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class P{constructor(de=[],Se=10){this._initialize(de),this._limit=Se,this._onChange()}getHistory(){return this._elements}add(de){this._history.delete(de),this._history.add(de),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(de){return this._history.has(de)}_onChange(){this._reduceToLimit();const de=this._elements;this._navigator=new I(de,0,de.length,de.length)}_reduceToLimit(){const de=this._elements;de.length>this._limit&&this._initialize(de.slice(de.length-this._limit))}_currentPosition(){const de=this._navigator.current();return de?this._elements.indexOf(de):-1}_initialize(de){this._history=new Set;for(const Se of de)this._history.add(Se)}get _elements(){const de=[];return this._history.forEach(Se=>de.push(Se)),de}}var H=L(85271),T=(L(65395),L(40402));const q=_.$,Y={inputBackground:N.Il.fromHex("#3C3C3C"),inputForeground:N.Il.fromHex("#CCCCCC"),inputValidationInfoBorder:N.Il.fromHex("#55AAFF"),inputValidationInfoBackground:N.Il.fromHex("#063B49"),inputValidationWarningBorder:N.Il.fromHex("#B89500"),inputValidationWarningBackground:N.Il.fromHex("#352A05"),inputValidationErrorBorder:N.Il.fromHex("#BE1100"),inputValidationErrorBackground:N.Il.fromHex("#5A1D1D")};class te extends f.${constructor(de,Se,Ve){var ce;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new A.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new A.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=Se,this.options=Ve||Object.create(null),(0,H.jB)(this.options,Y,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=null!==(ce=this.options.tooltip)&&void 0!==ce?ce:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=_.R3(de,q(".monaco-inputbox.idle"));let K=this.options.flexibleHeight?"textarea":"input",ie=_.R3(this.element,q(".ibwrapper"));if(this.input=_.R3(ie,q(K+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=_.R3(ie,q("div.mirror")),this.mirror.innerText="\xa0",this.scrollableElement=new V.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),_.R3(de,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(w=>this.input.scrollTop=w.scrollTop));const oe=this._register(new h.Y(document,"selectionchange")),W=A.ju.filter(oe.event,()=>{const w=document.getSelection();return(null==w?void 0:w.anchorNode)===ie});this._register(W(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new O.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(de){this.placeholder=de,this.input.setAttribute("placeholder",de)}setTooltip(de){this.tooltip=de,this.input.title=de}setAriaLabel(de){this.ariaLabel=de,de?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(de){this.input.value!==de&&(this.input.value=de,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:_.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(de=null){this.input.select(),de&&(this.input.setSelectionRange(de.start,de.end),de.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return _.w(this.input)}set width(de){if(this.options.flexibleHeight&&this.options.flexibleWidth){let Se=0;this.mirror&&(Se=(parseFloat(this.mirror.style.paddingLeft||"")||0)+(parseFloat(this.mirror.style.paddingRight||"")||0)),this.input.style.width=de-Se+"px"}else this.input.style.width=de+"px";this.mirror&&(this.mirror.style.width=de+"px")}set paddingRight(de){this.input.style.width=`calc(100% - ${de}px)`,this.mirror&&(this.mirror.style.paddingRight=de+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const Ve=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:this.cachedContentHeight,height:this.cachedHeight}),this.scrollableElement.setScrollPosition({scrollTop:Ve})}showMessage(de,Se){this.message=de,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(de.type));const Ve=this.stylesForType(this.message.type);this.element.style.border=Ve.border?`1px solid ${Ve.border}`:"",(this.hasFocus()||Se)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let de=null;return this.validation&&(de=this.validation(this.value),de?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(de)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),null==de?void 0:de.type}stylesForType(de){switch(de){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(de){switch(de){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let de,Ve,Se=()=>de.style.width=_.w(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:ce=>{if(!this.message)return null;de=_.R3(ce,q(".monaco-inputbox-container")),Se();const K={inline:!0,className:"monaco-inputbox-message"},ie=this.message.formatContent?y(this.message.content,K):function ee(_e,de={}){const Se=v(de);return Se.textContent=_e,Se}(this.message.content,K);ie.classList.add(this.classForType(this.message.type));const oe=this.stylesForType(this.message.type);return ie.style.backgroundColor=oe.background?oe.background.toString():"",ie.style.color=oe.foreground?oe.foreground.toString():"",ie.style.border=oe.border?`1px solid ${oe.border}`:"",_.R3(de,ie),null},onHide:()=>{this.state="closed"},layout:Se}),Ve=3===this.message.type?T.N("alertErrorMessage","Error: {0}",this.message.content):2===this.message.type?T.N("alertWarningMessage","Warning: {0}",this.message.content):T.N("alertInfoMessage","Info: {0}",this.message.content),b.Z9(Ve),this.state="open"}_hideMessage(){!this.contextViewProvider||("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const de=this.value,Ve=10===de.charCodeAt(de.length-1)?" ":"";(de+Ve).replace(/\u000c/g,"")?this.mirror.textContent=de+Ve:this.mirror.innerText="\xa0",this.layout()}style(de){this.inputBackground=de.inputBackground,this.inputForeground=de.inputForeground,this.inputBorder=de.inputBorder,this.inputValidationInfoBackground=de.inputValidationInfoBackground,this.inputValidationInfoForeground=de.inputValidationInfoForeground,this.inputValidationInfoBorder=de.inputValidationInfoBorder,this.inputValidationWarningBackground=de.inputValidationWarningBackground,this.inputValidationWarningForeground=de.inputValidationWarningForeground,this.inputValidationWarningBorder=de.inputValidationWarningBorder,this.inputValidationErrorBackground=de.inputValidationErrorBackground,this.inputValidationErrorForeground=de.inputValidationErrorForeground,this.inputValidationErrorBorder=de.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const de=this.inputBackground?this.inputBackground.toString():"",Se=this.inputForeground?this.inputForeground.toString():"",Ve=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=de,this.element.style.color=Se,this.input.style.backgroundColor="inherit",this.input.style.color=Se,this.element.style.borderWidth=Ve?"1px":"",this.element.style.borderStyle=Ve?"solid":"",this.element.style.borderColor=Ve}layout(){if(!this.mirror)return;const de=this.cachedContentHeight;this.cachedContentHeight=_.wn(this.mirror),de!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(de){const Se=this.inputElement,Ve=Se.selectionStart,ce=Se.selectionEnd,K=Se.value;null!==Ve&&null!==ce&&(this.value=K.substr(0,Ve)+de+K.substr(ce),Se.setSelectionRange(Ve+1,Ve+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class me extends te{constructor(de,Se,Ve){const ce=T.N({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21c5 plus a single space, then used as a hint where input field keeps history"]},"for history"),K=` or \u21c5 ${ce}`,ie=` (\u21c5 ${ce})`;super(de,Se,Ve),this.history=new P(Ve.history,100);const oe=()=>{if(Ve.showHistoryHint&&Ve.showHistoryHint()&&!this.placeholder.endsWith(K)&&!this.placeholder.endsWith(ie)&&this.history.getHistory().length){const W=this.placeholder.endsWith(")")?K:ie,w=this.placeholder+W;Ve.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=w:this.setPlaceHolder(w)}};this.observer=new MutationObserver((W,w)=>{W.forEach(U=>{U.target.textContent||oe()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>oe()),this.onblur(this.input,()=>{const W=w=>{if(this.placeholder.endsWith(w)){const U=this.placeholder.slice(0,this.placeholder.length-w.length);return Ve.showPlaceholderOnFocus?this.placeholder=U:this.setPlaceHolder(U),!0}return!1};W(ie)||W(K)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let de=this.getNextValue();de&&(de=de===this.value?this.getNextValue():de),de&&(this.value=de,b.i7(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let de=this.getPreviousValue();de&&(de=de===this.value?this.getPreviousValue():de),de&&(this.value=de,b.i7(this.value))}getCurrentValue(){let de=this.history.current();return de||(de=this.history.last(),this.history.next()),de}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},67687:(Ae,xe,L)=>{"use strict";L.d(xe,{g:()=>T});var _=L(58059),h=L(65691),ee=L(79680),y=L(63072),v=L(10087),Z=L(52787),$=L(52425),B=L(38972),R=(L(69215),function(q,Y,te,me){var Se,_e=arguments.length,de=_e<3?Y:null===me?me=Object.getOwnPropertyDescriptor(Y,te):me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)de=Reflect.decorate(q,Y,te,me);else for(var Ve=q.length-1;Ve>=0;Ve--)(Se=q[Ve])&&(de=(_e<3?Se(de):_e>3?Se(Y,te,de):Se(Y,te))||de);return _e>3&&de&&Object.defineProperty(Y,te,de),de});const f=new Z.Q5,A=new Z.Q5;class I{constructor(){this.disposables=new $.SL}get onPointerMove(){return this.disposables.add(new h.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new h.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}R([v.H],I.prototype,"onPointerMove",null),R([v.H],I.prototype,"onPointerUp",null);class P{constructor(Y){this.el=Y,this.disposables=new $.SL}get onPointerMove(){return this.disposables.add(new h.Y(this.el,ee.t.Change)).event}get onPointerUp(){return this.disposables.add(new h.Y(this.el,ee.t.End)).event}dispose(){this.disposables.dispose()}}R([v.H],P.prototype,"onPointerMove",null),R([v.H],P.prototype,"onPointerUp",null);class H{constructor(Y){this.factory=Y}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}R([v.H],H.prototype,"onPointerMove",null),R([v.H],H.prototype,"onPointerUp",null);const F="pointer-events-disabled";class T extends $.JT{constructor(Y,te,me){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new y.vp(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new Z.Q5),this._onDidStart=this._register(new Z.Q5),this._onDidChange=this._register(new Z.Q5),this._onDidReset=this._register(new Z.Q5),this._onDidEnd=this._register(new Z.Q5),this.orthogonalStartSashDisposables=this._register(new $.SL),this.orthogonalStartDragHandleDisposables=this._register(new $.SL),this.orthogonalEndSashDisposables=this._register(new $.SL),this.orthogonalEndDragHandleDisposables=this._register(new $.SL),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,_.R3)(Y,(0,_.$)(".monaco-sash")),me.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${me.orthogonalEdge}`),B.dz&&this.el.classList.add("mac");const _e=this._register(new h.Y(this.el,"mousedown")).event;this._register(_e(oe=>this.onPointerStart(oe,new I),this));const de=this._register(new h.Y(this.el,"dblclick")).event;this._register(de(this.onPointerDoublePress,this));const Se=this._register(new h.Y(this.el,"mouseenter")).event;this._register(Se(()=>T.onMouseEnter(this)));const Ve=this._register(new h.Y(this.el,"mouseleave")).event;this._register(Ve(()=>T.onMouseLeave(this))),this._register(ee.o.addTarget(this.el));const ce=Z.ju.map(this._register(new h.Y(this.el,ee.t.Start)).event,oe=>{var W;return Object.assign(Object.assign({},oe),{target:null!==(W=oe.initialTarget)&&void 0!==W?W:null})});this._register(ce(oe=>this.onPointerStart(oe,new P(this.el)),this));const K=this._register(new h.Y(this.el,ee.t.Tap)).event,ie=Z.ju.map(Z.ju.filter(Z.ju.debounce(K,(oe,W)=>{var w;return{event:W,count:(null!==(w=null==oe?void 0:oe.count)&&void 0!==w?w:0)+1}},250),({count:oe})=>2===oe),({event:oe})=>{var W;return Object.assign(Object.assign({},oe),{target:null!==(W=oe.initialTarget)&&void 0!==W?W:null})});this._register(ie(this.onPointerDoublePress,this)),"number"==typeof me.size?(this.size=me.size,0===me.orientation?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=4,this._register(f.event(oe=>{this.size=oe,this.layout()}))),this._register(A.event(oe=>this.hoverDelay=oe)),this.layoutProvider=te,this.orthogonalStartSash=me.orthogonalStartSash,this.orthogonalEndSash=me.orthogonalEndSash,this.orientation=me.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",!1),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(Y){this._state!==Y&&(this.el.classList.toggle("disabled",0===Y),this.el.classList.toggle("minimum",1===Y),this.el.classList.toggle("maximum",2===Y),this._state=Y,this.onDidEnablementChange.fire(Y))}set orthogonalStartSash(Y){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),Y){const te=me=>{this.orthogonalStartDragHandleDisposables.clear(),0!==me&&(this._orthogonalStartDragHandle=(0,_.R3)(this.el,(0,_.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,$.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new h.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>T.onMouseEnter(Y),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new h.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>T.onMouseLeave(Y),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(Y.onDidEnablementChange.event(te,this)),te(Y.state)}this._orthogonalStartSash=Y}set orthogonalEndSash(Y){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),Y){const te=me=>{this.orthogonalEndDragHandleDisposables.clear(),0!==me&&(this._orthogonalEndDragHandle=(0,_.R3)(this.el,(0,_.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,$.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new h.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>T.onMouseEnter(Y),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new h.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>T.onMouseLeave(Y),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(Y.onDidEnablementChange.event(te,this)),te(Y.state)}this._orthogonalEndSash=Y}onPointerStart(Y,te){_.zB.stop(Y);let me=!1;if(!Y.__orthogonalSashEvent){const U=this.getOrthogonalSash(Y);U&&(me=!0,Y.__orthogonalSashEvent=!0,U.onPointerStart(Y,new H(te)))}if(this.linkedSash&&!Y.__linkedSashEvent&&(Y.__linkedSashEvent=!0,this.linkedSash.onPointerStart(Y,new H(te))),!this.state)return;const _e=(0,_.H$)("iframe");for(const U of _e)U.classList.add(F);const de=Y.pageX,Se=Y.pageY,Ve=Y.altKey,ce={startX:de,currentX:de,startY:Se,currentY:Se,altKey:Ve};this.el.classList.add("active"),this._onDidStart.fire(ce);const K=(0,_.dS)(this.el),ie=()=>{let U="";U=me?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":B.dz?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":B.dz?"col-resize":"ew-resize",K.textContent=`* { cursor: ${U} !important; }`},oe=new $.SL;ie(),me||this.onDidEnablementChange.event(ie,null,oe),te.onPointerMove(U=>{_.zB.stop(U,!1),this._onDidChange.fire({startX:de,currentX:U.pageX,startY:Se,currentY:U.pageY,altKey:Ve})},null,oe),te.onPointerUp(U=>{_.zB.stop(U,!1),this.el.removeChild(K),this.el.classList.remove("active"),this._onDidEnd.fire(),oe.dispose();for(const D of _e)D.classList.remove(F)},null,oe),oe.add(te)}onPointerDoublePress(Y){const te=this.getOrthogonalSash(Y);te&&te._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(Y,te=!1){Y.el.classList.contains("active")?(Y.hoverDelayer.cancel(),Y.el.classList.add("hover")):Y.hoverDelayer.trigger(()=>Y.el.classList.add("hover"),Y.hoverDelay).then(void 0,()=>{}),!te&&Y.linkedSash&&T.onMouseEnter(Y.linkedSash,!0)}static onMouseLeave(Y,te=!1){Y.hoverDelayer.cancel(),Y.el.classList.remove("hover"),!te&&Y.linkedSash&&T.onMouseLeave(Y.linkedSash,!0)}clearSashHoverState(){T.onMouseLeave(this)}layout(){if(0===this.orientation){const Y=this.layoutProvider;this.el.style.left=Y.getVerticalSashLeft(this)-this.size/2+"px",Y.getVerticalSashTop&&(this.el.style.top=Y.getVerticalSashTop(this)+"px"),Y.getVerticalSashHeight&&(this.el.style.height=Y.getVerticalSashHeight(this)+"px")}else{const Y=this.layoutProvider;this.el.style.top=Y.getHorizontalSashTop(this)-this.size/2+"px",Y.getHorizontalSashLeft&&(this.el.style.left=Y.getHorizontalSashLeft(this)+"px"),Y.getHorizontalSashWidth&&(this.el.style.width=Y.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(Y){if(Y.target&&Y.target instanceof HTMLElement&&Y.target.classList.contains("orthogonal-drag-handle"))return Y.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},48152:(Ae,xe,L)=>{"use strict";L.d(xe,{s$:()=>K,NB:()=>Ve,$Z:()=>ce});var _=L(13366),h=L(58059),ee=L(48554),y=L(78394),v=L(43449),Z=L(83568),$=L(63072);class x extends Z.${constructor(W){super(),this._onActivate=W.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=W.bgWidth+"px",this.bgDomNode.style.height=W.bgHeight+"px",void 0!==W.top&&(this.bgDomNode.style.top="0px"),void 0!==W.left&&(this.bgDomNode.style.left="0px"),void 0!==W.bottom&&(this.bgDomNode.style.bottom="0px"),void 0!==W.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=W.className,this.domNode.classList.add(...W.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px",void 0!==W.top&&(this.domNode.style.top=W.top+"px"),void 0!==W.left&&(this.domNode.style.left=W.left+"px"),void 0!==W.bottom&&(this.domNode.style.bottom=W.bottom+"px"),void 0!==W.right&&(this.domNode.style.right=W.right+"px"),this._mouseMoveMonitor=this._register(new v.Z),this.onmousedown(this.bgDomNode,w=>this._arrowMouseDown(w)),this.onmousedown(this.domNode,w=>this._arrowMouseDown(w)),this._mousedownRepeatTimer=this._register(new $.zh),this._mousedownScheduleRepeatTimer=this._register(new $._F)}_arrowMouseDown(W){this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),41.666666666666664)},200),this._mouseMoveMonitor.startMonitoring(W.target,W.buttons,v.e,U=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),W.preventDefault()}}var R=L(52425);class O extends R.JT{constructor(W,w,U){super(),this._visibility=W,this._visibleClassName=w,this._invisibleClassName=U,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new $._F)}setVisibility(W){this._visibility!==W&&(this._visibility=W,this._updateShouldBeVisible())}setShouldBeVisible(W){this._rawShouldBeVisible=W,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){const W=this._applyVisibilitySetting();this._shouldBeVisible!==W&&(this._shouldBeVisible=W,this.ensureVisibility())}setIsNeeded(W){this._isNeeded!==W&&(this._isNeeded=W,this.ensureVisibility())}setDomNode(W){this._domNode=W,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(W){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(W?" fade":"")))}}var b=L(38972);class f extends Z.${constructor(W){super(),this._lazyRender=W.lazyRender,this._host=W.host,this._scrollable=W.scrollable,this._scrollByPage=W.scrollByPage,this._scrollbarState=W.scrollbarState,this._visibilityController=this._register(new O(W.visibility,"visible scrollbar "+W.extraScrollbarClassName,"invisible scrollbar "+W.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new v.Z),this._shouldRender=!0,this.domNode=(0,ee.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,w=>this._domNodeMouseDown(w))}_createArrow(W){const w=this._register(new x(W));this.domNode.domNode.appendChild(w.bgDomNode),this.domNode.domNode.appendChild(w.domNode)}_createSlider(W,w,U,D){this.slider=(0,ee.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(W),this.slider.setLeft(w),"number"==typeof U&&this.slider.setWidth(U),"number"==typeof D&&this.slider.setHeight(D),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,z=>{z.leftButton&&(z.preventDefault(),this._sliderMouseDown(z,()=>{}))}),this.onclick(this.slider.domNode,z=>{z.leftButton&&z.stopPropagation()})}_onElementSize(W){return this._scrollbarState.setVisibleSize(W)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(W){return this._scrollbarState.setScrollSize(W)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(W){return this._scrollbarState.setScrollPosition(W)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(W){W.target===this.domNode.domNode&&this._onMouseDown(W)}delegateMouseDown(W){const w=this.domNode.domNode.getClientRects()[0].top,U=w+this._scrollbarState.getSliderPosition(),D=w+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),z=this._sliderMousePosition(W);U<=z&&z<=D?W.leftButton&&(W.preventDefault(),this._sliderMouseDown(W,()=>{})):this._onMouseDown(W)}_onMouseDown(W){let w,U;if(W.target===this.domNode.domNode&&"number"==typeof W.browserEvent.offsetX&&"number"==typeof W.browserEvent.offsetY)w=W.browserEvent.offsetX,U=W.browserEvent.offsetY;else{const z=h.i(this.domNode.domNode);w=W.posx-z.left,U=W.posy-z.top}const D=this._mouseDownRelativePosition(w,U);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(D):this._scrollbarState.getDesiredScrollPositionFromOffset(D)),W.leftButton&&(W.preventDefault(),this._sliderMouseDown(W,()=>{}))}_sliderMouseDown(W,w){const U=this._sliderMousePosition(W),D=this._sliderOrthogonalMousePosition(W),z=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(W.target,W.buttons,v.e,ae=>{const ye=this._sliderOrthogonalMousePosition(ae),Ee=Math.abs(ye-D);if(b.ED&&Ee>140)return void this._setDesiredScrollPositionNow(z.getScrollPosition());const Ke=this._sliderMousePosition(ae)-U;this._setDesiredScrollPositionNow(z.getDesiredScrollPositionFromDelta(Ke))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),w()}),this._host.onDragStart()}_setDesiredScrollPositionNow(W){const w={};this.writeScrollPosition(w,W),this._scrollable.setScrollPositionNow(w)}updateScrollbarSize(W){this._updateScrollbarSize(W),this._scrollbarState.setScrollbarSize(W),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}class A{constructor(W,w,U,D,z,ae){this._scrollbarSize=Math.round(w),this._oppositeScrollbarSize=Math.round(U),this._arrowSize=Math.round(W),this._visibleSize=D,this._scrollSize=z,this._scrollPosition=ae,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new A(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(W){const w=Math.round(W);return this._visibleSize!==w&&(this._visibleSize=w,this._refreshComputedValues(),!0)}setScrollSize(W){const w=Math.round(W);return this._scrollSize!==w&&(this._scrollSize=w,this._refreshComputedValues(),!0)}setScrollPosition(W){const w=Math.round(W);return this._scrollPosition!==w&&(this._scrollPosition=w,this._refreshComputedValues(),!0)}setScrollbarSize(W){this._scrollbarSize=Math.round(W)}setOppositeScrollbarSize(W){this._oppositeScrollbarSize=Math.round(W)}static _computeValues(W,w,U,D,z){const ae=Math.max(0,U-W),ye=Math.max(0,ae-2*w),Ee=D>0&&D>U;if(!Ee)return{computedAvailableSize:Math.round(ae),computedIsNeeded:Ee,computedSliderSize:Math.round(ye),computedSliderRatio:0,computedSliderPosition:0};const Me=Math.round(Math.max(20,Math.floor(U*ye/D))),Ke=(ye-Me)/(D-U),tt=z*Ke;return{computedAvailableSize:Math.round(ae),computedIsNeeded:Ee,computedSliderSize:Math.round(Me),computedSliderRatio:Ke,computedSliderPosition:Math.round(tt)}}_refreshComputedValues(){const W=A._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=W.computedAvailableSize,this._computedIsNeeded=W.computedIsNeeded,this._computedSliderSize=W.computedSliderSize,this._computedSliderRatio=W.computedSliderRatio,this._computedSliderPosition=W.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(W){return this._computedIsNeeded?Math.round((W-this._arrowSize-this._computedSliderSize/2)/this._computedSliderRatio):0}getDesiredScrollPositionFromOffsetPaged(W){if(!this._computedIsNeeded)return 0;let U=this._scrollPosition;return W-this._arrowSize<this._computedSliderPosition?U-=this._visibleSize:U+=this._visibleSize,U}getDesiredScrollPositionFromDelta(W){return this._computedIsNeeded?Math.round((this._computedSliderPosition+W)/this._computedSliderRatio):0}}var I=L(2450);class P extends f{constructor(W,w,U){const D=W.getScrollDimensions(),z=W.getCurrentScrollPosition();if(super({lazyRender:w.lazyRender,host:U,scrollbarState:new A(w.horizontalHasArrows?w.arrowSize:0,2===w.horizontal?0:w.horizontalScrollbarSize,2===w.vertical?0:w.verticalScrollbarSize,D.width,D.scrollWidth,z.scrollLeft),visibility:w.horizontal,extraScrollbarClassName:"horizontal",scrollable:W,scrollByPage:w.scrollByPage}),w.horizontalHasArrows){const ae=(w.arrowSize-11)/2,ye=(w.horizontalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:I.lA.scrollbarButtonLeft,top:ye,left:ae,bottom:void 0,right:void 0,bgWidth:w.arrowSize,bgHeight:w.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new y.q(null,1,0))}),this._createArrow({className:"scra",icon:I.lA.scrollbarButtonRight,top:ye,left:void 0,bottom:void 0,right:ae,bgWidth:w.arrowSize,bgHeight:w.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new y.q(null,-1,0))})}this._createSlider(Math.floor((w.horizontalScrollbarSize-w.horizontalSliderSize)/2),0,void 0,w.horizontalSliderSize)}_updateSlider(W,w){this.slider.setWidth(W),this.slider.setLeft(w)}_renderDomNode(W,w){this.domNode.setWidth(W),this.domNode.setHeight(w),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(W){return this._shouldRender=this._onElementScrollSize(W.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(W.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(W.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(W,w){return W}_sliderMousePosition(W){return W.posx}_sliderOrthogonalMousePosition(W){return W.posy}_updateScrollbarSize(W){this.slider.setHeight(W)}writeScrollPosition(W,w){W.scrollLeft=w}updateOptions(W){this.updateScrollbarSize(2===W.horizontal?0:W.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===W.vertical?0:W.verticalScrollbarSize),this._visibilityController.setVisibility(W.horizontal),this._scrollByPage=W.scrollByPage}}class H extends f{constructor(W,w,U){const D=W.getScrollDimensions(),z=W.getCurrentScrollPosition();if(super({lazyRender:w.lazyRender,host:U,scrollbarState:new A(w.verticalHasArrows?w.arrowSize:0,2===w.vertical?0:w.verticalScrollbarSize,0,D.height,D.scrollHeight,z.scrollTop),visibility:w.vertical,extraScrollbarClassName:"vertical",scrollable:W,scrollByPage:w.scrollByPage}),w.verticalHasArrows){const ae=(w.arrowSize-11)/2,ye=(w.verticalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:I.lA.scrollbarButtonUp,top:ae,left:ye,bottom:void 0,right:void 0,bgWidth:w.verticalScrollbarSize,bgHeight:w.arrowSize,onActivate:()=>this._host.onMouseWheel(new y.q(null,0,1))}),this._createArrow({className:"scra",icon:I.lA.scrollbarButtonDown,top:void 0,left:ye,bottom:ae,right:void 0,bgWidth:w.verticalScrollbarSize,bgHeight:w.arrowSize,onActivate:()=>this._host.onMouseWheel(new y.q(null,0,-1))})}this._createSlider(0,Math.floor((w.verticalScrollbarSize-w.verticalSliderSize)/2),w.verticalSliderSize,void 0)}_updateSlider(W,w){this.slider.setHeight(W),this.slider.setTop(w)}_renderDomNode(W,w){this.domNode.setWidth(w),this.domNode.setHeight(W),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(W){return this._shouldRender=this._onElementScrollSize(W.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(W.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(W.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(W,w){return w}_sliderMousePosition(W){return W.posy}_sliderOrthogonalMousePosition(W){return W.posx}_updateScrollbarSize(W){this.slider.setWidth(W)}writeScrollPosition(W,w){W.scrollTop=w}updateOptions(W){this.updateScrollbarSize(2===W.vertical?0:W.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(W.vertical),this._scrollByPage=W.scrollByPage}}var F=L(52787),T=L(17838);L(85352);class _e{constructor(W,w,U){this.timestamp=W,this.deltaX=w,this.deltaY=U,this.score=0}}class de{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let W=1,w=0,U=1,D=this._rear;for(;;){const z=D===this._front?W:Math.pow(2,-U);if(W-=z,w+=this._memory[D].score*z,D===this._front)break;D=(this._capacity+D-1)%this._capacity,U++}return w<=.5}accept(W,w,U){const D=new _e(W,w,U);D.score=this._computeScore(D),-1===this._front&&-1===this._rear?(this._memory[0]=D,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=D)}_computeScore(W){if(Math.abs(W.deltaX)>0&&Math.abs(W.deltaY)>0)return 1;let w=.5;return(!this._isAlmostInt(W.deltaX)||!this._isAlmostInt(W.deltaY))&&(w+=.25),Math.min(Math.max(w,0),1)}_isAlmostInt(W){return Math.abs(Math.round(W)-W)<.01}}de.INSTANCE=new de;class Se extends Z.${constructor(W,w,U){super(),this._onScroll=this._register(new F.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new F.Q5),W.style.overflow="hidden",this._options=function ie(oe){const W={lazyRender:void 0!==oe.lazyRender&&oe.lazyRender,className:void 0!==oe.className?oe.className:"",useShadows:void 0===oe.useShadows||oe.useShadows,handleMouseWheel:void 0===oe.handleMouseWheel||oe.handleMouseWheel,flipAxes:void 0!==oe.flipAxes&&oe.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:void 0!==oe.consumeMouseWheelIfScrollbarIsNeeded&&oe.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:void 0!==oe.alwaysConsumeMouseWheel&&oe.alwaysConsumeMouseWheel,scrollYToX:void 0!==oe.scrollYToX&&oe.scrollYToX,mouseWheelScrollSensitivity:void 0!==oe.mouseWheelScrollSensitivity?oe.mouseWheelScrollSensitivity:1,fastScrollSensitivity:void 0!==oe.fastScrollSensitivity?oe.fastScrollSensitivity:5,scrollPredominantAxis:void 0===oe.scrollPredominantAxis||oe.scrollPredominantAxis,mouseWheelSmoothScroll:void 0===oe.mouseWheelSmoothScroll||oe.mouseWheelSmoothScroll,arrowSize:void 0!==oe.arrowSize?oe.arrowSize:11,listenOnDomNode:void 0!==oe.listenOnDomNode?oe.listenOnDomNode:null,horizontal:void 0!==oe.horizontal?oe.horizontal:1,horizontalScrollbarSize:void 0!==oe.horizontalScrollbarSize?oe.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==oe.horizontalSliderSize?oe.horizontalSliderSize:0,horizontalHasArrows:void 0!==oe.horizontalHasArrows&&oe.horizontalHasArrows,vertical:void 0!==oe.vertical?oe.vertical:1,verticalScrollbarSize:void 0!==oe.verticalScrollbarSize?oe.verticalScrollbarSize:10,verticalHasArrows:void 0!==oe.verticalHasArrows&&oe.verticalHasArrows,verticalSliderSize:void 0!==oe.verticalSliderSize?oe.verticalSliderSize:0,scrollByPage:void 0!==oe.scrollByPage&&oe.scrollByPage};return W.horizontalSliderSize=void 0!==oe.horizontalSliderSize?oe.horizontalSliderSize:W.horizontalScrollbarSize,W.verticalSliderSize=void 0!==oe.verticalSliderSize?oe.verticalSliderSize:W.verticalScrollbarSize,b.dz&&(W.className+=" mac"),W}(w),this._scrollable=U,this._register(this._scrollable.onScroll(z=>{this._onWillScroll.fire(z),this._onDidScroll(z),this._onScroll.fire(z)}));const D={onMouseWheel:z=>this._onMouseWheel(z),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new H(this._scrollable,this._options,D)),this._horizontalScrollbar=this._register(new P(this._scrollable,this._options,D)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(W),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,ee.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,ee.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,ee.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,z=>this._onMouseOver(z)),this.onnonbubblingmouseout(this._listenOnDomNode,z=>this._onMouseOut(z)),this._hideTimeout=this._register(new $._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=(0,R.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(W){this._verticalScrollbar.delegateMouseDown(W)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(W){this._scrollable.setScrollDimensions(W,!1)}updateClassName(W){this._options.className=W,b.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(W){void 0!==W.handleMouseWheel&&(this._options.handleMouseWheel=W.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),void 0!==W.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=W.mouseWheelScrollSensitivity),void 0!==W.fastScrollSensitivity&&(this._options.fastScrollSensitivity=W.fastScrollSensitivity),void 0!==W.scrollPredominantAxis&&(this._options.scrollPredominantAxis=W.scrollPredominantAxis),void 0!==W.horizontal&&(this._options.horizontal=W.horizontal),void 0!==W.vertical&&(this._options.vertical=W.vertical),void 0!==W.horizontalScrollbarSize&&(this._options.horizontalScrollbarSize=W.horizontalScrollbarSize),void 0!==W.verticalScrollbarSize&&(this._options.verticalScrollbarSize=W.verticalScrollbarSize),void 0!==W.scrollByPage&&(this._options.scrollByPage=W.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(W){this._mouseWheelToDispose.length>0!==W&&(this._mouseWheelToDispose=(0,R.B9)(this._mouseWheelToDispose),W)&&this._mouseWheelToDispose.push(h.nm(this._listenOnDomNode,h.tw.MOUSE_WHEEL,D=>{this._onMouseWheel(new y.q(D))},{passive:!1}))}_onMouseWheel(W){const w=de.INSTANCE;{const z=window.devicePixelRatio/(0,_.getZoomFactor)();b.ED||b.IJ?w.accept(Date.now(),W.deltaX/z,W.deltaY/z):w.accept(Date.now(),W.deltaX,W.deltaY)}let U=!1;if(W.deltaY||W.deltaX){let z=W.deltaY*this._options.mouseWheelScrollSensitivity,ae=W.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(z)>=Math.abs(ae)?ae=0:z=0),this._options.flipAxes&&([z,ae]=[ae,z]);const ye=!b.dz&&W.browserEvent&&W.browserEvent.shiftKey;(this._options.scrollYToX||ye)&&!ae&&(ae=z,z=0),W.browserEvent&&W.browserEvent.altKey&&(ae*=this._options.fastScrollSensitivity,z*=this._options.fastScrollSensitivity);const Ee=this._scrollable.getFutureScrollPosition();let Me={};if(z){const Ke=50*z,tt=Ee.scrollTop-(Ke<0?Math.floor(Ke):Math.ceil(Ke));this._verticalScrollbar.writeScrollPosition(Me,tt)}if(ae){const Ke=50*ae,tt=Ee.scrollLeft-(Ke<0?Math.floor(Ke):Math.ceil(Ke));this._horizontalScrollbar.writeScrollPosition(Me,tt)}Me=this._scrollable.validateScrollPosition(Me),(Ee.scrollLeft!==Me.scrollLeft||Ee.scrollTop!==Me.scrollTop)&&(this._options.mouseWheelSmoothScroll&&w.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(Me):this._scrollable.setScrollPositionNow(Me),U=!0)}let D=U;!D&&this._options.alwaysConsumeMouseWheel&&(D=!0),!D&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(D=!0),D&&(W.preventDefault(),W.stopPropagation())}_onDidScroll(W){this._shouldRender=this._horizontalScrollbar.onDidScroll(W)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(W)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const W=this._scrollable.getCurrentScrollPosition(),w=W.scrollTop>0,U=W.scrollLeft>0,D=U?" left":"",z=w?" top":"",ae=U||w?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${D}`),this._topShadowDomNode.setClassName(`shadow${z}`),this._topLeftShadowDomNode.setClassName(`shadow${ae}${z}${D}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(W){this._mouseIsOver=!1,this._hide()}_onMouseOver(W){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),500)}}class Ve extends Se{constructor(W,w){(w=w||{}).mouseWheelSmoothScroll=!1;const U=new T.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:D=>h.jL(D)});super(W,w,U),this._register(U)}setScrollPosition(W){this._scrollable.setScrollPositionNow(W)}}class ce extends Se{constructor(W,w,U){super(W,w,U)}setScrollPosition(W){W.reuseAnimation?this._scrollable.setScrollPositionSmooth(W,W.reuseAnimation):this._scrollable.setScrollPositionNow(W)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class K extends Se{constructor(W,w){(w=w||{}).mouseWheelSmoothScroll=!1;const U=new T.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:D=>h.jL(D)});super(W,w,U),this._register(U),this._element=W,this.onScroll(D=>{D.scrollTopChanged&&(this._element.scrollTop=D.scrollTop),D.scrollLeftChanged&&(this._element.scrollLeft=D.scrollLeft)}),this.scanDomNode()}setScrollPosition(W){this._scrollable.setScrollPositionNow(W)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}},83568:(Ae,xe,L)=>{"use strict";L.d(xe,{$:()=>Z});var _=L(58059),h=L(74616),ee=L(78394),y=L(79680),v=L(52425);class Z extends v.JT{onclick(B,x){this._register(_.nm(B,_.tw.CLICK,R=>x(new ee.n(R))))}onmousedown(B,x){this._register(_.nm(B,_.tw.MOUSE_DOWN,R=>x(new ee.n(R))))}onmouseover(B,x){this._register(_.nm(B,_.tw.MOUSE_OVER,R=>x(new ee.n(R))))}onnonbubblingmouseout(B,x){this._register(_.j_(B,R=>x(new ee.n(R))))}onkeydown(B,x){this._register(_.nm(B,_.tw.KEY_DOWN,R=>x(new h.y(R))))}onkeyup(B,x){this._register(_.nm(B,_.tw.KEY_UP,R=>x(new h.y(R))))}oninput(B,x){this._register(_.nm(B,_.tw.INPUT,x))}onblur(B,x){this._register(_.nm(B,_.tw.BLUR,x))}onfocus(B,x){this._register(_.nm(B,_.tw.FOCUS,x))}ignoreGesture(B){y.o.ignoreTarget(B)}}},85113:(Ae,xe,L)=>{"use strict";L.d(xe,{Wi:()=>Z,Z0:()=>$,aU:()=>v,eZ:()=>x,wY:()=>B});var _=L(52787),h=L(52425),ee=L(40402),y=function(R,O,b,V){return new(b||(b=Promise))(function(N,A){function I(F){try{H(V.next(F))}catch(T){A(T)}}function P(F){try{H(V.throw(F))}catch(T){A(T)}}function H(F){F.done?N(F.value):function f(N){return N instanceof b?N:new b(function(A){A(N)})}(F.value).then(I,P)}H((V=V.apply(R,O||[])).next())})};class v extends h.JT{constructor(O,b="",V="",f=!0,N){super(),this._onDidChange=this._register(new _.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=O,this._label=b,this._cssClass=V,this._enabled=f,this._actionCallback=N}get id(){return this._id}get label(){return this._label}set label(O){this._setLabel(O)}_setLabel(O){this._label!==O&&(this._label=O,this._onDidChange.fire({label:O}))}get tooltip(){return this._tooltip||""}set tooltip(O){this._setTooltip(O)}_setTooltip(O){this._tooltip!==O&&(this._tooltip=O,this._onDidChange.fire({tooltip:O}))}get class(){return this._cssClass}set class(O){this._setClass(O)}_setClass(O){this._cssClass!==O&&(this._cssClass=O,this._onDidChange.fire({class:O}))}get enabled(){return this._enabled}set enabled(O){this._setEnabled(O)}_setEnabled(O){this._enabled!==O&&(this._enabled=O,this._onDidChange.fire({enabled:O}))}get checked(){return this._checked}set checked(O){this._setChecked(O)}_setChecked(O){this._checked!==O&&(this._checked=O,this._onDidChange.fire({checked:O}))}run(O,b){return y(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(O))})}}class Z extends h.JT{constructor(){super(...arguments),this._onBeforeRun=this._register(new _.Q5),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new _.Q5),this.onDidRun=this._onDidRun.event}run(O,b){return y(this,void 0,void 0,function*(){if(!O.enabled)return;let V;this._onBeforeRun.fire({action:O});try{yield this.runAction(O,b)}catch(f){V=f}this._onDidRun.fire({action:O,error:V})})}runAction(O,b){return y(this,void 0,void 0,function*(){yield O.run(b)})}}let $=(()=>{class R extends v{constructor(b){super(R.ID,b,b?"separator text":"separator"),this.checked=!1,this.enabled=!1}}return R.ID="vs.actions.separator",R})();class B{constructor(O,b,V,f){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=O,this.label=b,this.class=f,this._actions=V}get actions(){return this._actions}dispose(){}run(){return y(this,void 0,void 0,function*(){})}}let x=(()=>{class R extends v{constructor(){super(R.ID,ee.N("submenu.empty","(empty)"),void 0,!1)}}return R.ID="vs.actions.empty",R})()},18337:(Ae,xe,L)=>{"use strict";function _(ce,K=0){return ce[ce.length-(1+K)]}function h(ce){if(0===ce.length)throw new Error("Invalid tail call");return[ce.slice(0,ce.length-1),ce[ce.length-1]]}function ee(ce,K,ie=((oe,W)=>oe===W)){if(ce===K)return!0;if(!ce||!K||ce.length!==K.length)return!1;for(let oe=0,W=ce.length;oe<W;oe++)if(!ie(ce[oe],K[oe]))return!1;return!0}function y(ce,K,ie){let oe=0,W=ce.length-1;for(;oe<=W;){const w=(oe+W)/2|0,U=ie(ce[w],K);if(U<0)oe=w+1;else{if(!(U>0))return w;W=w-1}}return-(oe+1)}function v(ce,K){let ie=0,oe=ce.length;if(0===oe)return 0;for(;ie<oe;){const W=Math.floor((ie+oe)/2);K(ce[W])?oe=W:ie=W+1}return ie}function B(ce){return ce.filter(K=>!!K)}function x(ce){return!Array.isArray(ce)||0===ce.length}function R(ce){return Array.isArray(ce)&&ce.length>0}function O(ce,K=(ie=>ie)){const ie=new Set;return ce.filter(oe=>{const W=K(oe);return!ie.has(W)&&(ie.add(W),!0)})}function b(ce,K){const ie=function V(ce,K){for(let ie=ce.length-1;ie>=0;ie--)if(K(ce[ie]))return ie;return-1}(ce,K);if(-1!==ie)return ce[ie]}function f(ce,K){return ce.length>0?ce[0]:K}function N(ce){return[].concat(...ce)}function A(ce,K){let ie="number"==typeof K?ce:0;"number"==typeof K?ie=ce:(ie=0,K=ce);const oe=[];if(ie<=K)for(let W=ie;W<K;W++)oe.push(W);else for(let W=ie;W>K;W--)oe.push(W);return oe}function I(ce,K,ie){const oe=ce.slice(0,K),W=ce.slice(K);return oe.concat(ie,W)}function P(ce,K){const ie=ce.indexOf(K);ie>-1&&(ce.splice(ie,1),ce.unshift(K))}function H(ce,K){const ie=ce.indexOf(K);ie>-1&&(ce.splice(ie,1),ce.push(K))}function q(ce,K,ie,oe){const W=Y(ce,K),w=ce.splice(W,ie);return function T(ce,K,ie){const oe=Y(ce,K),W=ce.length,w=ie.length;ce.length=W+w;for(let U=W-1;U>=oe;U--)ce[U+w]=ce[U];for(let U=0;U<w;U++)ce[U+oe]=ie[U]}(ce,W,oe),w}function Y(ce,K){return K<0?Math.max(K+ce.length,0):Math.min(K,ce.length)}function te(ce,K){return(ie,oe)=>K(ce(ie),ce(oe))}function de(ce,K){if(0===ce.length)return;let ie=ce[0];for(let oe=1;oe<ce.length;oe++){const W=ce[oe];K(W,ie)>=0&&(ie=W)}return ie}function Se(ce,K){return function _e(ce,K){if(0===ce.length)return;let ie=ce[0];for(let oe=1;oe<ce.length;oe++){const W=ce[oe];K(W,ie)>0&&(ie=W)}return ie}(ce,(ie,oe)=>-K(ie,oe))}L.d(xe,{EB:()=>O,Gb:()=>_,H9:()=>Ve,JH:()=>h,Of:()=>R,VJ:()=>Se,XY:()=>x,Xh:()=>f,Zv:()=>I,al:()=>H,dF:()=>b,db:()=>q,fS:()=>ee,jV:()=>de,kX:()=>B,lG:()=>v,ry:()=>y,tT:()=>te,w6:()=>A,xH:()=>N,zI:()=>P});class Ve{constructor(K){this.items=K,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(K){let ie=this.firstIdx;for(;ie<this.items.length&&K(this.items[ie]);)ie++;const oe=ie===this.firstIdx?null:this.items.slice(this.firstIdx,ie);return this.firstIdx=ie,oe}takeFromEndWhile(K){let ie=this.lastIdx;for(;ie>=0&&K(this.items[ie]);)ie--;const oe=ie===this.lastIdx?null:this.items.slice(ie+1,this.lastIdx+1);return this.lastIdx=ie,oe}peek(){return this.items[this.firstIdx]}dequeue(){const K=this.items[this.firstIdx];return this.firstIdx++,K}takeCount(K){const ie=this.items.slice(this.firstIdx,this.firstIdx+K);return this.firstIdx+=K,ie}}},48797:(Ae,xe,L)=>{"use strict";function _(h,ee){if(!h)throw new Error(ee?`Assertion failed (${ee})`:"Assertion Failed")}L.d(xe,{ok:()=>_})},63072:(Ae,xe,L)=>{"use strict";L.d(xe,{CR:()=>me,J8:()=>B,PG:()=>x,To:()=>Y,Ue:()=>te,Vg:()=>P,Vs:()=>I,_F:()=>F,jT:()=>_e,ne:()=>f,pY:()=>q,rH:()=>A,vp:()=>N,zh:()=>T});var _=L(80152),h=L(53663),ee=L(52787),y=L(52425),v=L(38972),Z=function(ce,K,ie,oe){return new(ie||(ie=Promise))(function(w,U){function D(ye){try{ae(oe.next(ye))}catch(Ee){U(Ee)}}function z(ye){try{ae(oe.throw(ye))}catch(Ee){U(Ee)}}function ae(ye){ye.done?w(ye.value):function W(w){return w instanceof ie?w:new ie(function(U){U(w)})}(ye.value).then(D,z)}ae((oe=oe.apply(ce,K||[])).next())})},$=function(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,K=ce[Symbol.asyncIterator];return K?K.call(ce):(ce="function"==typeof __values?__values(ce):ce[Symbol.iterator](),ie={},oe("next"),oe("throw"),oe("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function oe(w){ie[w]=ce[w]&&function(U){return new Promise(function(D,z){!function W(w,U,D,z){Promise.resolve(z).then(function(ae){w({value:ae,done:D})},U)}(D,z,(U=ce[w](U)).done,U.value)})}}};function B(ce){return!!ce&&"function"==typeof ce.then}function x(ce){const K=new _.A,ie=ce(K.token),oe=new Promise((W,w)=>{const U=K.token.onCancellationRequested(()=>{U.dispose(),K.dispose(),w(new h.FU)});Promise.resolve(ie).then(D=>{U.dispose(),K.dispose(),W(D)},D=>{U.dispose(),K.dispose(),w(D)})});return new class{cancel(){K.cancel()}then(W,w){return oe.then(W,w)}catch(W){return this.then(void 0,W)}finally(W){return oe.finally(W)}}}class O{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(K){if(this.activePromise){if(this.queuedPromiseFactory=K,!this.queuedPromise){const ie=()=>{this.queuedPromise=null;const oe=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,oe};this.queuedPromise=new Promise(oe=>{this.activePromise.then(ie,ie).then(oe)})}return new Promise((ie,oe)=>{this.queuedPromise.then(ie,oe)})}return this.activePromise=K(),new Promise((ie,oe)=>{this.activePromise.then(W=>{this.activePromise=null,ie(W)},W=>{this.activePromise=null,oe(W)})})}}const f=Symbol("MicrotaskDelay");class N{constructor(K){this.defaultDelay=K,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(K,ie=this.defaultDelay){this.task=K,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((W,w)=>{this.doResolve=W,this.doReject=w}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const W=this.task;return this.task=null,W()}}));const oe=()=>{var W;this.deferred=null,null===(W=this.doResolve)||void 0===W||W.call(this,null)};return this.deferred=ie===f?(ce=>{let K=!0;return queueMicrotask(()=>{K&&(K=!1,ce())}),{isTriggered:()=>K,dispose:()=>{K=!1}}})(oe):((ce,K)=>{let ie=!0;const oe=setTimeout(()=>{ie=!1,K()},ce);return{isTriggered:()=>ie,dispose:()=>{clearTimeout(oe),ie=!1}}})(ie,oe),this.completionPromise}isTriggered(){var K;return!!(null===(K=this.deferred)||void 0===K?void 0:K.isTriggered())}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(new h.FU),this.completionPromise=null)}cancelTimeout(){var K;null===(K=this.deferred)||void 0===K||K.dispose(),this.deferred=null}dispose(){this.cancel()}}class A{constructor(K){this.delayer=new N(K),this.throttler=new O}trigger(K,ie){return this.delayer.trigger(()=>this.throttler.queue(K),ie)}dispose(){this.delayer.dispose()}}function I(ce,K){return K?new Promise((ie,oe)=>{const W=setTimeout(()=>{w.dispose(),ie()},ce),w=K.onCancellationRequested(()=>{clearTimeout(W),w.dispose(),oe(new h.FU)})}):x(ie=>I(ce,ie))}function P(ce,K=0){const ie=setTimeout(ce,K);return(0,y.OF)(()=>clearTimeout(ie))}class F{constructor(K,ie){this._token=-1,"function"==typeof K&&"number"==typeof ie&&this.setIfNotSet(K,ie)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(K,ie){this.cancel(),this._token=setTimeout(()=>{this._token=-1,K()},ie)}setIfNotSet(K,ie){-1===this._token&&(this._token=setTimeout(()=>{this._token=-1,K()},ie))}}class T{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet(K,ie){this.cancel(),this._token=setInterval(()=>{K()},ie)}}class q{constructor(K,ie){this.timeoutToken=-1,this.runner=K,this.timeout=ie,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(K=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,K)}get delay(){return this.timeout}set delay(K){this.timeout=K}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}let Y;Y="function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback?ce=>{(0,v.fn)(()=>{if(K)return;const ie=Date.now()+15;ce(Object.freeze({didTimeout:!0,timeRemaining:()=>Math.max(0,ie-Date.now())}))});let K=!1;return{dispose(){K||(K=!0)}}}:(ce,K)=>{const ie=requestIdleCallback(ce,"number"==typeof K?{timeout:K}:void 0);let oe=!1;return{dispose(){oe||(oe=!0,cancelIdleCallback(ie))}}};class te{constructor(K){this._didRun=!1,this._executor=()=>{try{this._value=K()}catch(ie){this._error=ie}finally{this._didRun=!0}},this._handle=Y(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class me{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((K,ie)=>{this.completeCallback=K,this.errorCallback=ie})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(K){return new Promise(ie=>{this.completeCallback(K),this.resolved=!0,ie()})}cancel(){new Promise(K=>{this.errorCallback(new h.FU),this.rejected=!0,K()})}}var _e,ce;(ce=_e||(_e={})).settled=function K(oe){return Z(this,void 0,void 0,function*(){let W;const w=yield Promise.all(oe.map(U=>U.then(D=>D,D=>{W||(W=D)})));if(void 0!==W)throw W;return w})},ce.withAsyncBody=function ie(oe){return new Promise((W,w)=>Z(this,void 0,void 0,function*(){try{yield oe(W,w)}catch(U){w(U)}}))};class de{constructor(K){this._state=0,this._results=[],this._error=null,this._onStateChanged=new ee.Q5,queueMicrotask(()=>Z(this,void 0,void 0,function*(){const ie={emitOne:oe=>this.emitOne(oe),emitMany:oe=>this.emitMany(oe),reject:oe=>this.reject(oe)};try{yield Promise.resolve(K(ie)),this.resolve()}catch(oe){this.reject(oe)}finally{ie.emitOne=void 0,ie.emitMany=void 0,ie.reject=void 0}}))}static fromArray(K){return new de(ie=>{ie.emitMany(K)})}static fromPromise(K){return new de(ie=>Z(this,void 0,void 0,function*(){ie.emitMany(yield K)}))}static fromPromises(K){return new de(ie=>Z(this,void 0,void 0,function*(){yield Promise.all(K.map(oe=>Z(this,void 0,void 0,function*(){return ie.emitOne(yield oe)})))}))}static merge(K){return new de(ie=>Z(this,void 0,void 0,function*(){yield Promise.all(K.map(oe=>{var W,w;return Z(this,void 0,void 0,function*(){var U,D;try{for(W=$(oe);!(w=yield W.next()).done;)ie.emitOne(w.value)}catch(z){U={error:z}}finally{try{w&&!w.done&&(D=W.return)&&(yield D.call(W))}finally{if(U)throw U.error}}})}))}))}[Symbol.asyncIterator](){let K=0;return{next:()=>Z(this,void 0,void 0,function*(){for(;;){if(2===this._state)throw this._error;if(K<this._results.length)return{done:!1,value:this._results[K++]};if(1===this._state)return{done:!0,value:void 0};yield ee.ju.toPromise(this._onStateChanged.event)}})}}static map(K,ie){return new de(oe=>Z(this,void 0,void 0,function*(){var W,w;try{for(var D,U=$(K);!(D=yield U.next()).done;)oe.emitOne(ie(D.value))}catch(z){W={error:z}}finally{try{D&&!D.done&&(w=U.return)&&(yield w.call(U))}finally{if(W)throw W.error}}}))}map(K){return de.map(this,K)}static filter(K,ie){return new de(oe=>Z(this,void 0,void 0,function*(){var W,w;try{for(var D,U=$(K);!(D=yield U.next()).done;){const z=D.value;ie(z)&&oe.emitOne(z)}}catch(z){W={error:z}}finally{try{D&&!D.done&&(w=U.return)&&(yield w.call(U))}finally{if(W)throw W.error}}}))}filter(K){return de.filter(this,K)}static coalesce(K){return de.filter(K,ie=>!!ie)}coalesce(){return de.coalesce(this)}static toPromise(K){var ie,oe,W,w;return Z(this,void 0,void 0,function*(){const U=[];try{for(ie=$(K);!(oe=yield ie.next()).done;)U.push(oe.value)}catch(D){W={error:D}}finally{try{oe&&!oe.done&&(w=ie.return)&&(yield w.call(ie))}finally{if(W)throw W.error}}return U})}toPromise(){return de.toPromise(this)}emitOne(K){0===this._state&&(this._results.push(K),this._onStateChanged.fire())}emitMany(K){0===this._state&&(this._results=this._results.concat(K),this._onStateChanged.fire())}resolve(){0===this._state&&(this._state=1,this._onStateChanged.fire())}reject(K){0===this._state&&(this._state=2,this._error=K,this._onStateChanged.fire())}}de.EMPTY=de.fromArray([])},38923:(Ae,xe,L)=>{"use strict";L.d(xe,{Ag:()=>Z,Cg:()=>x,KN:()=>ee,Q$:()=>B,T4:()=>$,mP:()=>y,oq:()=>v});const _="undefined"!=typeof Buffer;let h;class ee{constructor(O){this.buffer=O,this.byteLength=this.buffer.byteLength}static wrap(O){return _&&!Buffer.isBuffer(O)&&(O=Buffer.from(O.buffer,O.byteOffset,O.byteLength)),new ee(O)}toString(){return _?this.buffer.toString():(h||(h=new TextDecoder),h.decode(this.buffer))}}function y(R,O){return R[O+0]<<0>>>0|R[O+1]<<8>>>0}function v(R,O,b){R[b+0]=255&O,R[b+1]=255&(O>>>=8)}function Z(R,O){return R[O]*Math.pow(2,24)+R[O+1]*Math.pow(2,16)+R[O+2]*Math.pow(2,8)+R[O+3]}function $(R,O,b){R[b+3]=O,R[b+2]=O>>>=8,R[b+1]=O>>>=8,R[b]=O>>>=8}function B(R,O){return R[O]}function x(R,O,b){R[b]=O}},80152:(Ae,xe,L)=>{"use strict";L.d(xe,{A:()=>v,T:()=>ee});var _=L(52787);const h=Object.freeze(function(Z,$){const B=setTimeout(Z.bind($),0);return{dispose(){clearTimeout(B)}}});var ee,Z;(Z=ee||(ee={})).isCancellationToken=function $(B){return B===Z.None||B===Z.Cancelled||B instanceof y||!(!B||"object"!=typeof B)&&"boolean"==typeof B.isCancellationRequested&&"function"==typeof B.onCancellationRequested},Z.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:_.ju.None}),Z.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:h});class y{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?h:(this._emitter||(this._emitter=new _.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class v{constructor($){this._token=void 0,this._parentListener=void 0,this._parentListener=$&&$.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new y),this._token}cancel(){this._token?this._token instanceof y&&this._token.cancel():this._token=ee.Cancelled}dispose($=!1){$&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof y&&this._token.dispose():this._token=ee.None}}},2450:(Ae,xe,L)=>{"use strict";function _(y){return y?y.replace(/\$\((.*?)\)/g,(v,Z)=>` ${Z} `).trim():""}L.d(xe,{JL:()=>_,dT:()=>ee,lA:()=>h});class h{constructor(v,Z,$){this.id=v,this.definition=Z,this.description=$,h._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return h._allCodicons}}var ee;h._allCodicons=[],h.add=new h("add",{fontCharacter:"\\ea60"}),h.plus=new h("plus",h.add.definition),h.gistNew=new h("gist-new",h.add.definition),h.repoCreate=new h("repo-create",h.add.definition),h.lightbulb=new h("lightbulb",{fontCharacter:"\\ea61"}),h.lightBulb=new h("light-bulb",{fontCharacter:"\\ea61"}),h.repo=new h("repo",{fontCharacter:"\\ea62"}),h.repoDelete=new h("repo-delete",{fontCharacter:"\\ea62"}),h.gistFork=new h("gist-fork",{fontCharacter:"\\ea63"}),h.repoForked=new h("repo-forked",{fontCharacter:"\\ea63"}),h.gitPullRequest=new h("git-pull-request",{fontCharacter:"\\ea64"}),h.gitPullRequestAbandoned=new h("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),h.recordKeys=new h("record-keys",{fontCharacter:"\\ea65"}),h.keyboard=new h("keyboard",{fontCharacter:"\\ea65"}),h.tag=new h("tag",{fontCharacter:"\\ea66"}),h.tagAdd=new h("tag-add",{fontCharacter:"\\ea66"}),h.tagRemove=new h("tag-remove",{fontCharacter:"\\ea66"}),h.person=new h("person",{fontCharacter:"\\ea67"}),h.personFollow=new h("person-follow",{fontCharacter:"\\ea67"}),h.personOutline=new h("person-outline",{fontCharacter:"\\ea67"}),h.personFilled=new h("person-filled",{fontCharacter:"\\ea67"}),h.gitBranch=new h("git-branch",{fontCharacter:"\\ea68"}),h.gitBranchCreate=new h("git-branch-create",{fontCharacter:"\\ea68"}),h.gitBranchDelete=new h("git-branch-delete",{fontCharacter:"\\ea68"}),h.sourceControl=new h("source-control",{fontCharacter:"\\ea68"}),h.mirror=new h("mirror",{fontCharacter:"\\ea69"}),h.mirrorPublic=new h("mirror-public",{fontCharacter:"\\ea69"}),h.star=new h("star",{fontCharacter:"\\ea6a"}),h.starAdd=new h("star-add",{fontCharacter:"\\ea6a"}),h.starDelete=new h("star-delete",{fontCharacter:"\\ea6a"}),h.starEmpty=new h("star-empty",{fontCharacter:"\\ea6a"}),h.comment=new h("comment",{fontCharacter:"\\ea6b"}),h.commentAdd=new h("comment-add",{fontCharacter:"\\ea6b"}),h.alert=new h("alert",{fontCharacter:"\\ea6c"}),h.warning=new h("warning",{fontCharacter:"\\ea6c"}),h.search=new h("search",{fontCharacter:"\\ea6d"}),h.searchSave=new h("search-save",{fontCharacter:"\\ea6d"}),h.logOut=new h("log-out",{fontCharacter:"\\ea6e"}),h.signOut=new h("sign-out",{fontCharacter:"\\ea6e"}),h.logIn=new h("log-in",{fontCharacter:"\\ea6f"}),h.signIn=new h("sign-in",{fontCharacter:"\\ea6f"}),h.eye=new h("eye",{fontCharacter:"\\ea70"}),h.eyeUnwatch=new h("eye-unwatch",{fontCharacter:"\\ea70"}),h.eyeWatch=new h("eye-watch",{fontCharacter:"\\ea70"}),h.circleFilled=new h("circle-filled",{fontCharacter:"\\ea71"}),h.primitiveDot=new h("primitive-dot",{fontCharacter:"\\ea71"}),h.closeDirty=new h("close-dirty",{fontCharacter:"\\ea71"}),h.debugBreakpoint=new h("debug-breakpoint",{fontCharacter:"\\ea71"}),h.debugBreakpointDisabled=new h("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),h.debugHint=new h("debug-hint",{fontCharacter:"\\ea71"}),h.primitiveSquare=new h("primitive-square",{fontCharacter:"\\ea72"}),h.edit=new h("edit",{fontCharacter:"\\ea73"}),h.pencil=new h("pencil",{fontCharacter:"\\ea73"}),h.info=new h("info",{fontCharacter:"\\ea74"}),h.issueOpened=new h("issue-opened",{fontCharacter:"\\ea74"}),h.gistPrivate=new h("gist-private",{fontCharacter:"\\ea75"}),h.gitForkPrivate=new h("git-fork-private",{fontCharacter:"\\ea75"}),h.lock=new h("lock",{fontCharacter:"\\ea75"}),h.mirrorPrivate=new h("mirror-private",{fontCharacter:"\\ea75"}),h.close=new h("close",{fontCharacter:"\\ea76"}),h.removeClose=new h("remove-close",{fontCharacter:"\\ea76"}),h.x=new h("x",{fontCharacter:"\\ea76"}),h.repoSync=new h("repo-sync",{fontCharacter:"\\ea77"}),h.sync=new h("sync",{fontCharacter:"\\ea77"}),h.clone=new h("clone",{fontCharacter:"\\ea78"}),h.desktopDownload=new h("desktop-download",{fontCharacter:"\\ea78"}),h.beaker=new h("beaker",{fontCharacter:"\\ea79"}),h.microscope=new h("microscope",{fontCharacter:"\\ea79"}),h.vm=new h("vm",{fontCharacter:"\\ea7a"}),h.deviceDesktop=new h("device-desktop",{fontCharacter:"\\ea7a"}),h.file=new h("file",{fontCharacter:"\\ea7b"}),h.fileText=new h("file-text",{fontCharacter:"\\ea7b"}),h.more=new h("more",{fontCharacter:"\\ea7c"}),h.ellipsis=new h("ellipsis",{fontCharacter:"\\ea7c"}),h.kebabHorizontal=new h("kebab-horizontal",{fontCharacter:"\\ea7c"}),h.mailReply=new h("mail-reply",{fontCharacter:"\\ea7d"}),h.reply=new h("reply",{fontCharacter:"\\ea7d"}),h.organization=new h("organization",{fontCharacter:"\\ea7e"}),h.organizationFilled=new h("organization-filled",{fontCharacter:"\\ea7e"}),h.organizationOutline=new h("organization-outline",{fontCharacter:"\\ea7e"}),h.newFile=new h("new-file",{fontCharacter:"\\ea7f"}),h.fileAdd=new h("file-add",{fontCharacter:"\\ea7f"}),h.newFolder=new h("new-folder",{fontCharacter:"\\ea80"}),h.fileDirectoryCreate=new h("file-directory-create",{fontCharacter:"\\ea80"}),h.trash=new h("trash",{fontCharacter:"\\ea81"}),h.trashcan=new h("trashcan",{fontCharacter:"\\ea81"}),h.history=new h("history",{fontCharacter:"\\ea82"}),h.clock=new h("clock",{fontCharacter:"\\ea82"}),h.folder=new h("folder",{fontCharacter:"\\ea83"}),h.fileDirectory=new h("file-directory",{fontCharacter:"\\ea83"}),h.symbolFolder=new h("symbol-folder",{fontCharacter:"\\ea83"}),h.logoGithub=new h("logo-github",{fontCharacter:"\\ea84"}),h.markGithub=new h("mark-github",{fontCharacter:"\\ea84"}),h.github=new h("github",{fontCharacter:"\\ea84"}),h.terminal=new h("terminal",{fontCharacter:"\\ea85"}),h.console=new h("console",{fontCharacter:"\\ea85"}),h.repl=new h("repl",{fontCharacter:"\\ea85"}),h.zap=new h("zap",{fontCharacter:"\\ea86"}),h.symbolEvent=new h("symbol-event",{fontCharacter:"\\ea86"}),h.error=new h("error",{fontCharacter:"\\ea87"}),h.stop=new h("stop",{fontCharacter:"\\ea87"}),h.variable=new h("variable",{fontCharacter:"\\ea88"}),h.symbolVariable=new h("symbol-variable",{fontCharacter:"\\ea88"}),h.array=new h("array",{fontCharacter:"\\ea8a"}),h.symbolArray=new h("symbol-array",{fontCharacter:"\\ea8a"}),h.symbolModule=new h("symbol-module",{fontCharacter:"\\ea8b"}),h.symbolPackage=new h("symbol-package",{fontCharacter:"\\ea8b"}),h.symbolNamespace=new h("symbol-namespace",{fontCharacter:"\\ea8b"}),h.symbolObject=new h("symbol-object",{fontCharacter:"\\ea8b"}),h.symbolMethod=new h("symbol-method",{fontCharacter:"\\ea8c"}),h.symbolFunction=new h("symbol-function",{fontCharacter:"\\ea8c"}),h.symbolConstructor=new h("symbol-constructor",{fontCharacter:"\\ea8c"}),h.symbolBoolean=new h("symbol-boolean",{fontCharacter:"\\ea8f"}),h.symbolNull=new h("symbol-null",{fontCharacter:"\\ea8f"}),h.symbolNumeric=new h("symbol-numeric",{fontCharacter:"\\ea90"}),h.symbolNumber=new h("symbol-number",{fontCharacter:"\\ea90"}),h.symbolStructure=new h("symbol-structure",{fontCharacter:"\\ea91"}),h.symbolStruct=new h("symbol-struct",{fontCharacter:"\\ea91"}),h.symbolParameter=new h("symbol-parameter",{fontCharacter:"\\ea92"}),h.symbolTypeParameter=new h("symbol-type-parameter",{fontCharacter:"\\ea92"}),h.symbolKey=new h("symbol-key",{fontCharacter:"\\ea93"}),h.symbolText=new h("symbol-text",{fontCharacter:"\\ea93"}),h.symbolReference=new h("symbol-reference",{fontCharacter:"\\ea94"}),h.goToFile=new h("go-to-file",{fontCharacter:"\\ea94"}),h.symbolEnum=new h("symbol-enum",{fontCharacter:"\\ea95"}),h.symbolValue=new h("symbol-value",{fontCharacter:"\\ea95"}),h.symbolRuler=new h("symbol-ruler",{fontCharacter:"\\ea96"}),h.symbolUnit=new h("symbol-unit",{fontCharacter:"\\ea96"}),h.activateBreakpoints=new h("activate-breakpoints",{fontCharacter:"\\ea97"}),h.archive=new h("archive",{fontCharacter:"\\ea98"}),h.arrowBoth=new h("arrow-both",{fontCharacter:"\\ea99"}),h.arrowDown=new h("arrow-down",{fontCharacter:"\\ea9a"}),h.arrowLeft=new h("arrow-left",{fontCharacter:"\\ea9b"}),h.arrowRight=new h("arrow-right",{fontCharacter:"\\ea9c"}),h.arrowSmallDown=new h("arrow-small-down",{fontCharacter:"\\ea9d"}),h.arrowSmallLeft=new h("arrow-small-left",{fontCharacter:"\\ea9e"}),h.arrowSmallRight=new h("arrow-small-right",{fontCharacter:"\\ea9f"}),h.arrowSmallUp=new h("arrow-small-up",{fontCharacter:"\\eaa0"}),h.arrowUp=new h("arrow-up",{fontCharacter:"\\eaa1"}),h.bell=new h("bell",{fontCharacter:"\\eaa2"}),h.bold=new h("bold",{fontCharacter:"\\eaa3"}),h.book=new h("book",{fontCharacter:"\\eaa4"}),h.bookmark=new h("bookmark",{fontCharacter:"\\eaa5"}),h.debugBreakpointConditionalUnverified=new h("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),h.debugBreakpointConditional=new h("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),h.debugBreakpointConditionalDisabled=new h("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),h.debugBreakpointDataUnverified=new h("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),h.debugBreakpointData=new h("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),h.debugBreakpointDataDisabled=new h("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),h.debugBreakpointLogUnverified=new h("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),h.debugBreakpointLog=new h("debug-breakpoint-log",{fontCharacter:"\\eaab"}),h.debugBreakpointLogDisabled=new h("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),h.briefcase=new h("briefcase",{fontCharacter:"\\eaac"}),h.broadcast=new h("broadcast",{fontCharacter:"\\eaad"}),h.browser=new h("browser",{fontCharacter:"\\eaae"}),h.bug=new h("bug",{fontCharacter:"\\eaaf"}),h.calendar=new h("calendar",{fontCharacter:"\\eab0"}),h.caseSensitive=new h("case-sensitive",{fontCharacter:"\\eab1"}),h.check=new h("check",{fontCharacter:"\\eab2"}),h.checklist=new h("checklist",{fontCharacter:"\\eab3"}),h.chevronDown=new h("chevron-down",{fontCharacter:"\\eab4"}),h.dropDownButton=new h("drop-down-button",h.chevronDown.definition),h.chevronLeft=new h("chevron-left",{fontCharacter:"\\eab5"}),h.chevronRight=new h("chevron-right",{fontCharacter:"\\eab6"}),h.chevronUp=new h("chevron-up",{fontCharacter:"\\eab7"}),h.chromeClose=new h("chrome-close",{fontCharacter:"\\eab8"}),h.chromeMaximize=new h("chrome-maximize",{fontCharacter:"\\eab9"}),h.chromeMinimize=new h("chrome-minimize",{fontCharacter:"\\eaba"}),h.chromeRestore=new h("chrome-restore",{fontCharacter:"\\eabb"}),h.circleOutline=new h("circle-outline",{fontCharacter:"\\eabc"}),h.debugBreakpointUnverified=new h("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),h.circleSlash=new h("circle-slash",{fontCharacter:"\\eabd"}),h.circuitBoard=new h("circuit-board",{fontCharacter:"\\eabe"}),h.clearAll=new h("clear-all",{fontCharacter:"\\eabf"}),h.clippy=new h("clippy",{fontCharacter:"\\eac0"}),h.closeAll=new h("close-all",{fontCharacter:"\\eac1"}),h.cloudDownload=new h("cloud-download",{fontCharacter:"\\eac2"}),h.cloudUpload=new h("cloud-upload",{fontCharacter:"\\eac3"}),h.code=new h("code",{fontCharacter:"\\eac4"}),h.collapseAll=new h("collapse-all",{fontCharacter:"\\eac5"}),h.colorMode=new h("color-mode",{fontCharacter:"\\eac6"}),h.commentDiscussion=new h("comment-discussion",{fontCharacter:"\\eac7"}),h.compareChanges=new h("compare-changes",{fontCharacter:"\\eafd"}),h.creditCard=new h("credit-card",{fontCharacter:"\\eac9"}),h.dash=new h("dash",{fontCharacter:"\\eacc"}),h.dashboard=new h("dashboard",{fontCharacter:"\\eacd"}),h.database=new h("database",{fontCharacter:"\\eace"}),h.debugContinue=new h("debug-continue",{fontCharacter:"\\eacf"}),h.debugDisconnect=new h("debug-disconnect",{fontCharacter:"\\ead0"}),h.debugPause=new h("debug-pause",{fontCharacter:"\\ead1"}),h.debugRestart=new h("debug-restart",{fontCharacter:"\\ead2"}),h.debugStart=new h("debug-start",{fontCharacter:"\\ead3"}),h.debugStepInto=new h("debug-step-into",{fontCharacter:"\\ead4"}),h.debugStepOut=new h("debug-step-out",{fontCharacter:"\\ead5"}),h.debugStepOver=new h("debug-step-over",{fontCharacter:"\\ead6"}),h.debugStop=new h("debug-stop",{fontCharacter:"\\ead7"}),h.debug=new h("debug",{fontCharacter:"\\ead8"}),h.deviceCameraVideo=new h("device-camera-video",{fontCharacter:"\\ead9"}),h.deviceCamera=new h("device-camera",{fontCharacter:"\\eada"}),h.deviceMobile=new h("device-mobile",{fontCharacter:"\\eadb"}),h.diffAdded=new h("diff-added",{fontCharacter:"\\eadc"}),h.diffIgnored=new h("diff-ignored",{fontCharacter:"\\eadd"}),h.diffModified=new h("diff-modified",{fontCharacter:"\\eade"}),h.diffRemoved=new h("diff-removed",{fontCharacter:"\\eadf"}),h.diffRenamed=new h("diff-renamed",{fontCharacter:"\\eae0"}),h.diff=new h("diff",{fontCharacter:"\\eae1"}),h.discard=new h("discard",{fontCharacter:"\\eae2"}),h.editorLayout=new h("editor-layout",{fontCharacter:"\\eae3"}),h.emptyWindow=new h("empty-window",{fontCharacter:"\\eae4"}),h.exclude=new h("exclude",{fontCharacter:"\\eae5"}),h.extensions=new h("extensions",{fontCharacter:"\\eae6"}),h.eyeClosed=new h("eye-closed",{fontCharacter:"\\eae7"}),h.fileBinary=new h("file-binary",{fontCharacter:"\\eae8"}),h.fileCode=new h("file-code",{fontCharacter:"\\eae9"}),h.fileMedia=new h("file-media",{fontCharacter:"\\eaea"}),h.filePdf=new h("file-pdf",{fontCharacter:"\\eaeb"}),h.fileSubmodule=new h("file-submodule",{fontCharacter:"\\eaec"}),h.fileSymlinkDirectory=new h("file-symlink-directory",{fontCharacter:"\\eaed"}),h.fileSymlinkFile=new h("file-symlink-file",{fontCharacter:"\\eaee"}),h.fileZip=new h("file-zip",{fontCharacter:"\\eaef"}),h.files=new h("files",{fontCharacter:"\\eaf0"}),h.filter=new h("filter",{fontCharacter:"\\eaf1"}),h.flame=new h("flame",{fontCharacter:"\\eaf2"}),h.foldDown=new h("fold-down",{fontCharacter:"\\eaf3"}),h.foldUp=new h("fold-up",{fontCharacter:"\\eaf4"}),h.fold=new h("fold",{fontCharacter:"\\eaf5"}),h.folderActive=new h("folder-active",{fontCharacter:"\\eaf6"}),h.folderOpened=new h("folder-opened",{fontCharacter:"\\eaf7"}),h.gear=new h("gear",{fontCharacter:"\\eaf8"}),h.gift=new h("gift",{fontCharacter:"\\eaf9"}),h.gistSecret=new h("gist-secret",{fontCharacter:"\\eafa"}),h.gist=new h("gist",{fontCharacter:"\\eafb"}),h.gitCommit=new h("git-commit",{fontCharacter:"\\eafc"}),h.gitCompare=new h("git-compare",{fontCharacter:"\\eafd"}),h.gitMerge=new h("git-merge",{fontCharacter:"\\eafe"}),h.githubAction=new h("github-action",{fontCharacter:"\\eaff"}),h.githubAlt=new h("github-alt",{fontCharacter:"\\eb00"}),h.globe=new h("globe",{fontCharacter:"\\eb01"}),h.grabber=new h("grabber",{fontCharacter:"\\eb02"}),h.graph=new h("graph",{fontCharacter:"\\eb03"}),h.gripper=new h("gripper",{fontCharacter:"\\eb04"}),h.heart=new h("heart",{fontCharacter:"\\eb05"}),h.home=new h("home",{fontCharacter:"\\eb06"}),h.horizontalRule=new h("horizontal-rule",{fontCharacter:"\\eb07"}),h.hubot=new h("hubot",{fontCharacter:"\\eb08"}),h.inbox=new h("inbox",{fontCharacter:"\\eb09"}),h.issueClosed=new h("issue-closed",{fontCharacter:"\\eba4"}),h.issueReopened=new h("issue-reopened",{fontCharacter:"\\eb0b"}),h.issues=new h("issues",{fontCharacter:"\\eb0c"}),h.italic=new h("italic",{fontCharacter:"\\eb0d"}),h.jersey=new h("jersey",{fontCharacter:"\\eb0e"}),h.json=new h("json",{fontCharacter:"\\eb0f"}),h.kebabVertical=new h("kebab-vertical",{fontCharacter:"\\eb10"}),h.key=new h("key",{fontCharacter:"\\eb11"}),h.law=new h("law",{fontCharacter:"\\eb12"}),h.lightbulbAutofix=new h("lightbulb-autofix",{fontCharacter:"\\eb13"}),h.linkExternal=new h("link-external",{fontCharacter:"\\eb14"}),h.link=new h("link",{fontCharacter:"\\eb15"}),h.listOrdered=new h("list-ordered",{fontCharacter:"\\eb16"}),h.listUnordered=new h("list-unordered",{fontCharacter:"\\eb17"}),h.liveShare=new h("live-share",{fontCharacter:"\\eb18"}),h.loading=new h("loading",{fontCharacter:"\\eb19"}),h.location=new h("location",{fontCharacter:"\\eb1a"}),h.mailRead=new h("mail-read",{fontCharacter:"\\eb1b"}),h.mail=new h("mail",{fontCharacter:"\\eb1c"}),h.markdown=new h("markdown",{fontCharacter:"\\eb1d"}),h.megaphone=new h("megaphone",{fontCharacter:"\\eb1e"}),h.mention=new h("mention",{fontCharacter:"\\eb1f"}),h.milestone=new h("milestone",{fontCharacter:"\\eb20"}),h.mortarBoard=new h("mortar-board",{fontCharacter:"\\eb21"}),h.move=new h("move",{fontCharacter:"\\eb22"}),h.multipleWindows=new h("multiple-windows",{fontCharacter:"\\eb23"}),h.mute=new h("mute",{fontCharacter:"\\eb24"}),h.noNewline=new h("no-newline",{fontCharacter:"\\eb25"}),h.note=new h("note",{fontCharacter:"\\eb26"}),h.octoface=new h("octoface",{fontCharacter:"\\eb27"}),h.openPreview=new h("open-preview",{fontCharacter:"\\eb28"}),h.package_=new h("package",{fontCharacter:"\\eb29"}),h.paintcan=new h("paintcan",{fontCharacter:"\\eb2a"}),h.pin=new h("pin",{fontCharacter:"\\eb2b"}),h.play=new h("play",{fontCharacter:"\\eb2c"}),h.run=new h("run",{fontCharacter:"\\eb2c"}),h.plug=new h("plug",{fontCharacter:"\\eb2d"}),h.preserveCase=new h("preserve-case",{fontCharacter:"\\eb2e"}),h.preview=new h("preview",{fontCharacter:"\\eb2f"}),h.project=new h("project",{fontCharacter:"\\eb30"}),h.pulse=new h("pulse",{fontCharacter:"\\eb31"}),h.question=new h("question",{fontCharacter:"\\eb32"}),h.quote=new h("quote",{fontCharacter:"\\eb33"}),h.radioTower=new h("radio-tower",{fontCharacter:"\\eb34"}),h.reactions=new h("reactions",{fontCharacter:"\\eb35"}),h.references=new h("references",{fontCharacter:"\\eb36"}),h.refresh=new h("refresh",{fontCharacter:"\\eb37"}),h.regex=new h("regex",{fontCharacter:"\\eb38"}),h.remoteExplorer=new h("remote-explorer",{fontCharacter:"\\eb39"}),h.remote=new h("remote",{fontCharacter:"\\eb3a"}),h.remove=new h("remove",{fontCharacter:"\\eb3b"}),h.replaceAll=new h("replace-all",{fontCharacter:"\\eb3c"}),h.replace=new h("replace",{fontCharacter:"\\eb3d"}),h.repoClone=new h("repo-clone",{fontCharacter:"\\eb3e"}),h.repoForcePush=new h("repo-force-push",{fontCharacter:"\\eb3f"}),h.repoPull=new h("repo-pull",{fontCharacter:"\\eb40"}),h.repoPush=new h("repo-push",{fontCharacter:"\\eb41"}),h.report=new h("report",{fontCharacter:"\\eb42"}),h.requestChanges=new h("request-changes",{fontCharacter:"\\eb43"}),h.rocket=new h("rocket",{fontCharacter:"\\eb44"}),h.rootFolderOpened=new h("root-folder-opened",{fontCharacter:"\\eb45"}),h.rootFolder=new h("root-folder",{fontCharacter:"\\eb46"}),h.rss=new h("rss",{fontCharacter:"\\eb47"}),h.ruby=new h("ruby",{fontCharacter:"\\eb48"}),h.saveAll=new h("save-all",{fontCharacter:"\\eb49"}),h.saveAs=new h("save-as",{fontCharacter:"\\eb4a"}),h.save=new h("save",{fontCharacter:"\\eb4b"}),h.screenFull=new h("screen-full",{fontCharacter:"\\eb4c"}),h.screenNormal=new h("screen-normal",{fontCharacter:"\\eb4d"}),h.searchStop=new h("search-stop",{fontCharacter:"\\eb4e"}),h.server=new h("server",{fontCharacter:"\\eb50"}),h.settingsGear=new h("settings-gear",{fontCharacter:"\\eb51"}),h.settings=new h("settings",{fontCharacter:"\\eb52"}),h.shield=new h("shield",{fontCharacter:"\\eb53"}),h.smiley=new h("smiley",{fontCharacter:"\\eb54"}),h.sortPrecedence=new h("sort-precedence",{fontCharacter:"\\eb55"}),h.splitHorizontal=new h("split-horizontal",{fontCharacter:"\\eb56"}),h.splitVertical=new h("split-vertical",{fontCharacter:"\\eb57"}),h.squirrel=new h("squirrel",{fontCharacter:"\\eb58"}),h.starFull=new h("star-full",{fontCharacter:"\\eb59"}),h.starHalf=new h("star-half",{fontCharacter:"\\eb5a"}),h.symbolClass=new h("symbol-class",{fontCharacter:"\\eb5b"}),h.symbolColor=new h("symbol-color",{fontCharacter:"\\eb5c"}),h.symbolCustomColor=new h("symbol-customcolor",{fontCharacter:"\\eb5c"}),h.symbolConstant=new h("symbol-constant",{fontCharacter:"\\eb5d"}),h.symbolEnumMember=new h("symbol-enum-member",{fontCharacter:"\\eb5e"}),h.symbolField=new h("symbol-field",{fontCharacter:"\\eb5f"}),h.symbolFile=new h("symbol-file",{fontCharacter:"\\eb60"}),h.symbolInterface=new h("symbol-interface",{fontCharacter:"\\eb61"}),h.symbolKeyword=new h("symbol-keyword",{fontCharacter:"\\eb62"}),h.symbolMisc=new h("symbol-misc",{fontCharacter:"\\eb63"}),h.symbolOperator=new h("symbol-operator",{fontCharacter:"\\eb64"}),h.symbolProperty=new h("symbol-property",{fontCharacter:"\\eb65"}),h.wrench=new h("wrench",{fontCharacter:"\\eb65"}),h.wrenchSubaction=new h("wrench-subaction",{fontCharacter:"\\eb65"}),h.symbolSnippet=new h("symbol-snippet",{fontCharacter:"\\eb66"}),h.tasklist=new h("tasklist",{fontCharacter:"\\eb67"}),h.telescope=new h("telescope",{fontCharacter:"\\eb68"}),h.textSize=new h("text-size",{fontCharacter:"\\eb69"}),h.threeBars=new h("three-bars",{fontCharacter:"\\eb6a"}),h.thumbsdown=new h("thumbsdown",{fontCharacter:"\\eb6b"}),h.thumbsup=new h("thumbsup",{fontCharacter:"\\eb6c"}),h.tools=new h("tools",{fontCharacter:"\\eb6d"}),h.triangleDown=new h("triangle-down",{fontCharacter:"\\eb6e"}),h.triangleLeft=new h("triangle-left",{fontCharacter:"\\eb6f"}),h.triangleRight=new h("triangle-right",{fontCharacter:"\\eb70"}),h.triangleUp=new h("triangle-up",{fontCharacter:"\\eb71"}),h.twitter=new h("twitter",{fontCharacter:"\\eb72"}),h.unfold=new h("unfold",{fontCharacter:"\\eb73"}),h.unlock=new h("unlock",{fontCharacter:"\\eb74"}),h.unmute=new h("unmute",{fontCharacter:"\\eb75"}),h.unverified=new h("unverified",{fontCharacter:"\\eb76"}),h.verified=new h("verified",{fontCharacter:"\\eb77"}),h.versions=new h("versions",{fontCharacter:"\\eb78"}),h.vmActive=new h("vm-active",{fontCharacter:"\\eb79"}),h.vmOutline=new h("vm-outline",{fontCharacter:"\\eb7a"}),h.vmRunning=new h("vm-running",{fontCharacter:"\\eb7b"}),h.watch=new h("watch",{fontCharacter:"\\eb7c"}),h.whitespace=new h("whitespace",{fontCharacter:"\\eb7d"}),h.wholeWord=new h("whole-word",{fontCharacter:"\\eb7e"}),h.window=new h("window",{fontCharacter:"\\eb7f"}),h.wordWrap=new h("word-wrap",{fontCharacter:"\\eb80"}),h.zoomIn=new h("zoom-in",{fontCharacter:"\\eb81"}),h.zoomOut=new h("zoom-out",{fontCharacter:"\\eb82"}),h.listFilter=new h("list-filter",{fontCharacter:"\\eb83"}),h.listFlat=new h("list-flat",{fontCharacter:"\\eb84"}),h.listSelection=new h("list-selection",{fontCharacter:"\\eb85"}),h.selection=new h("selection",{fontCharacter:"\\eb85"}),h.listTree=new h("list-tree",{fontCharacter:"\\eb86"}),h.debugBreakpointFunctionUnverified=new h("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),h.debugBreakpointFunction=new h("debug-breakpoint-function",{fontCharacter:"\\eb88"}),h.debugBreakpointFunctionDisabled=new h("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),h.debugStackframeActive=new h("debug-stackframe-active",{fontCharacter:"\\eb89"}),h.debugStackframeDot=new h("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),h.debugStackframe=new h("debug-stackframe",{fontCharacter:"\\eb8b"}),h.debugStackframeFocused=new h("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),h.debugBreakpointUnsupported=new h("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),h.symbolString=new h("symbol-string",{fontCharacter:"\\eb8d"}),h.debugReverseContinue=new h("debug-reverse-continue",{fontCharacter:"\\eb8e"}),h.debugStepBack=new h("debug-step-back",{fontCharacter:"\\eb8f"}),h.debugRestartFrame=new h("debug-restart-frame",{fontCharacter:"\\eb90"}),h.callIncoming=new h("call-incoming",{fontCharacter:"\\eb92"}),h.callOutgoing=new h("call-outgoing",{fontCharacter:"\\eb93"}),h.menu=new h("menu",{fontCharacter:"\\eb94"}),h.expandAll=new h("expand-all",{fontCharacter:"\\eb95"}),h.feedback=new h("feedback",{fontCharacter:"\\eb96"}),h.groupByRefType=new h("group-by-ref-type",{fontCharacter:"\\eb97"}),h.ungroupByRefType=new h("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),h.account=new h("account",{fontCharacter:"\\eb99"}),h.bellDot=new h("bell-dot",{fontCharacter:"\\eb9a"}),h.debugConsole=new h("debug-console",{fontCharacter:"\\eb9b"}),h.library=new h("library",{fontCharacter:"\\eb9c"}),h.output=new h("output",{fontCharacter:"\\eb9d"}),h.runAll=new h("run-all",{fontCharacter:"\\eb9e"}),h.syncIgnored=new h("sync-ignored",{fontCharacter:"\\eb9f"}),h.pinned=new h("pinned",{fontCharacter:"\\eba0"}),h.githubInverted=new h("github-inverted",{fontCharacter:"\\eba1"}),h.debugAlt=new h("debug-alt",{fontCharacter:"\\eb91"}),h.serverProcess=new h("server-process",{fontCharacter:"\\eba2"}),h.serverEnvironment=new h("server-environment",{fontCharacter:"\\eba3"}),h.pass=new h("pass",{fontCharacter:"\\eba4"}),h.stopCircle=new h("stop-circle",{fontCharacter:"\\eba5"}),h.playCircle=new h("play-circle",{fontCharacter:"\\eba6"}),h.record=new h("record",{fontCharacter:"\\eba7"}),h.debugAltSmall=new h("debug-alt-small",{fontCharacter:"\\eba8"}),h.vmConnect=new h("vm-connect",{fontCharacter:"\\eba9"}),h.cloud=new h("cloud",{fontCharacter:"\\ebaa"}),h.merge=new h("merge",{fontCharacter:"\\ebab"}),h.exportIcon=new h("export",{fontCharacter:"\\ebac"}),h.graphLeft=new h("graph-left",{fontCharacter:"\\ebad"}),h.magnet=new h("magnet",{fontCharacter:"\\ebae"}),h.notebook=new h("notebook",{fontCharacter:"\\ebaf"}),h.redo=new h("redo",{fontCharacter:"\\ebb0"}),h.checkAll=new h("check-all",{fontCharacter:"\\ebb1"}),h.pinnedDirty=new h("pinned-dirty",{fontCharacter:"\\ebb2"}),h.passFilled=new h("pass-filled",{fontCharacter:"\\ebb3"}),h.circleLargeFilled=new h("circle-large-filled",{fontCharacter:"\\ebb4"}),h.circleLargeOutline=new h("circle-large-outline",{fontCharacter:"\\ebb5"}),h.combine=new h("combine",{fontCharacter:"\\ebb6"}),h.gather=new h("gather",{fontCharacter:"\\ebb6"}),h.table=new h("table",{fontCharacter:"\\ebb7"}),h.variableGroup=new h("variable-group",{fontCharacter:"\\ebb8"}),h.typeHierarchy=new h("type-hierarchy",{fontCharacter:"\\ebb9"}),h.typeHierarchySub=new h("type-hierarchy-sub",{fontCharacter:"\\ebba"}),h.typeHierarchySuper=new h("type-hierarchy-super",{fontCharacter:"\\ebbb"}),h.gitPullRequestCreate=new h("git-pull-request-create",{fontCharacter:"\\ebbc"}),h.runAbove=new h("run-above",{fontCharacter:"\\ebbd"}),h.runBelow=new h("run-below",{fontCharacter:"\\ebbe"}),h.notebookTemplate=new h("notebook-template",{fontCharacter:"\\ebbf"}),h.debugRerun=new h("debug-rerun",{fontCharacter:"\\ebc0"}),h.workspaceTrusted=new h("workspace-trusted",{fontCharacter:"\\ebc1"}),h.workspaceUntrusted=new h("workspace-untrusted",{fontCharacter:"\\ebc2"}),h.workspaceUnspecified=new h("workspace-unspecified",{fontCharacter:"\\ebc3"}),h.terminalCmd=new h("terminal-cmd",{fontCharacter:"\\ebc4"}),h.terminalDebian=new h("terminal-debian",{fontCharacter:"\\ebc5"}),h.terminalLinux=new h("terminal-linux",{fontCharacter:"\\ebc6"}),h.terminalPowershell=new h("terminal-powershell",{fontCharacter:"\\ebc7"}),h.terminalTmux=new h("terminal-tmux",{fontCharacter:"\\ebc8"}),h.terminalUbuntu=new h("terminal-ubuntu",{fontCharacter:"\\ebc9"}),h.terminalBash=new h("terminal-bash",{fontCharacter:"\\ebca"}),h.arrowSwap=new h("arrow-swap",{fontCharacter:"\\ebcb"}),h.copy=new h("copy",{fontCharacter:"\\ebcc"}),h.personAdd=new h("person-add",{fontCharacter:"\\ebcd"}),h.filterFilled=new h("filter-filled",{fontCharacter:"\\ebce"}),h.wand=new h("wand",{fontCharacter:"\\ebcf"}),h.debugLineByLine=new h("debug-line-by-line",{fontCharacter:"\\ebd0"}),h.inspect=new h("inspect",{fontCharacter:"\\ebd1"}),h.layers=new h("layers",{fontCharacter:"\\ebd2"}),h.layersDot=new h("layers-dot",{fontCharacter:"\\ebd3"}),h.layersActive=new h("layers-active",{fontCharacter:"\\ebd4"}),h.compass=new h("compass",{fontCharacter:"\\ebd5"}),h.compassDot=new h("compass-dot",{fontCharacter:"\\ebd6"}),h.compassActive=new h("compass-active",{fontCharacter:"\\ebd7"}),h.azure=new h("azure",{fontCharacter:"\\ebd8"}),h.issueDraft=new h("issue-draft",{fontCharacter:"\\ebd9"}),h.gitPullRequestClosed=new h("git-pull-request-closed",{fontCharacter:"\\ebda"}),h.gitPullRequestDraft=new h("git-pull-request-draft",{fontCharacter:"\\ebdb"}),h.debugAll=new h("debug-all",{fontCharacter:"\\ebdc"}),h.debugCoverage=new h("debug-coverage",{fontCharacter:"\\ebdd"}),h.runErrors=new h("run-errors",{fontCharacter:"\\ebde"}),h.folderLibrary=new h("folder-library",{fontCharacter:"\\ebdf"}),h.debugContinueSmall=new h("debug-continue-small",{fontCharacter:"\\ebe0"}),h.beakerStop=new h("beaker-stop",{fontCharacter:"\\ebe1"}),h.graphLine=new h("graph-line",{fontCharacter:"\\ebe2"}),h.graphScatter=new h("graph-scatter",{fontCharacter:"\\ebe3"}),h.pieChart=new h("pie-chart",{fontCharacter:"\\ebe4"}),h.bracket=new h("bracket",h.json.definition),h.bracketDot=new h("bracket-dot",{fontCharacter:"\\ebe5"}),h.bracketError=new h("bracket-error",{fontCharacter:"\\ebe6"}),h.lockSmall=new h("lock-small",{fontCharacter:"\\ebe7"}),h.azureDevops=new h("azure-devops",{fontCharacter:"\\ebe8"}),h.verifiedFilled=new h("verified-filled",{fontCharacter:"\\ebe9"}),h.newLine=new h("newline",{fontCharacter:"\\ebea"}),h.layout=new h("layout",{fontCharacter:"\\ebeb"}),h.layoutActivitybarLeft=new h("layout-activitybar-left",{fontCharacter:"\\ebec"}),h.layoutActivitybarRight=new h("layout-activitybar-right",{fontCharacter:"\\ebed"}),h.layoutPanelLeft=new h("layout-panel-left",{fontCharacter:"\\ebee"}),h.layoutPanelCenter=new h("layout-panel-center",{fontCharacter:"\\ebef"}),h.layoutPanelJustify=new h("layout-panel-justify",{fontCharacter:"\\ebf0"}),h.layoutPanelRight=new h("layout-panel-right",{fontCharacter:"\\ebf1"}),h.layoutPanel=new h("layout-panel",{fontCharacter:"\\ebf2"}),h.layoutSidebarLeft=new h("layout-sidebar-left",{fontCharacter:"\\ebf3"}),h.layoutSidebarRight=new h("layout-sidebar-right",{fontCharacter:"\\ebf4"}),h.layoutStatusbar=new h("layout-statusbar",{fontCharacter:"\\ebf5"}),h.layoutMenubar=new h("layout-menubar",{fontCharacter:"\\ebf6"}),h.layoutCentered=new h("layout-centered",{fontCharacter:"\\ebf7"}),h.target=new h("target",{fontCharacter:"\\ebf8"}),h.dialogError=new h("dialog-error",h.error.definition),h.dialogWarning=new h("dialog-warning",h.warning.definition),h.dialogInfo=new h("dialog-info",h.info.definition),h.dialogClose=new h("dialog-close",h.close.definition),h.treeItemExpanded=new h("tree-item-expanded",h.chevronDown.definition),h.treeFilterOnTypeOn=new h("tree-filter-on-type-on",h.listFilter.definition),h.treeFilterOnTypeOff=new h("tree-filter-on-type-off",h.listSelection.definition),h.treeFilterClear=new h("tree-filter-clear",h.close.definition),h.treeItemLoading=new h("tree-item-loading",h.loading.definition),h.menuSelection=new h("menu-selection",h.check.definition),h.menuSubmenu=new h("menu-submenu",h.chevronRight.definition),h.menuBarMore=new h("menubar-more",h.more.definition),h.scrollbarButtonLeft=new h("scrollbar-button-left",h.triangleLeft.definition),h.scrollbarButtonRight=new h("scrollbar-button-right",h.triangleRight.definition),h.scrollbarButtonUp=new h("scrollbar-button-up",h.triangleUp.definition),h.scrollbarButtonDown=new h("scrollbar-button-down",h.triangleDown.definition),h.toolBarMore=new h("toolbar-more",h.more.definition),h.quickInputBack=new h("quick-input-back",h.arrowLeft.definition),function(y){y.iconNameSegment="[A-Za-z0-9]+",y.iconNameExpression="[A-Za-z0-9-]+",y.iconModifierExpression="~[A-Za-z]+",y.iconNameCharacter="[A-Za-z0-9~-]";const v=new RegExp(`^(${y.iconNameExpression})(${y.iconModifierExpression})?$`);function Z(x){if(x instanceof h)return["codicon","codicon-"+x.id];const R=v.exec(x.id);if(!R)return Z(h.error);let[,O,b]=R;const V=["codicon","codicon-"+O];return b&&V.push("codicon-modifier-"+b.substr(1)),V}y.asClassNameArray=Z,y.asClassName=function $(x){return Z(x).join(" ")},y.asCSSSelector=function B(x){return"."+Z(x).join(".")}}(ee||(ee={}))},68927:(Ae,xe,L)=>{"use strict";function _(Z,$){const B=Math.pow(10,$);return Math.round(Z*B)/B}L.d(xe,{Il:()=>v,VS:()=>h});class h{constructor($,B,x,R=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,$)),this.g=0|Math.min(255,Math.max(0,B)),this.b=0|Math.min(255,Math.max(0,x)),this.a=_(Math.max(Math.min(1,R),0),3)}static equals($,B){return $.r===B.r&&$.g===B.g&&$.b===B.b&&$.a===B.a}}class ee{constructor($,B,x,R){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,$),0),this.s=_(Math.max(Math.min(1,B),0),3),this.l=_(Math.max(Math.min(1,x),0),3),this.a=_(Math.max(Math.min(1,R),0),3)}static equals($,B){return $.h===B.h&&$.s===B.s&&$.l===B.l&&$.a===B.a}static fromRGBA($){const B=$.r/255,x=$.g/255,R=$.b/255,O=$.a,b=Math.max(B,x,R),V=Math.min(B,x,R);let f=0,N=0;const A=(V+b)/2,I=b-V;if(I>0){switch(N=Math.min(A<=.5?I/(2*A):I/(2-2*A),1),b){case B:f=(x-R)/I+(x<R?6:0);break;case x:f=(R-B)/I+2;break;case R:f=(B-x)/I+4}f*=60,f=Math.round(f)}return new ee(f,N,A,O)}static _hue2rgb($,B,x){return x<0&&(x+=1),x>1&&(x-=1),x<1/6?$+6*(B-$)*x:x<.5?B:x<2/3?$+(B-$)*(2/3-x)*6:$}static toRGBA($){const B=$.h/360,{s:x,l:R,a:O}=$;let b,V,f;if(0===x)b=V=f=R;else{const N=R<.5?R*(1+x):R+x-R*x,A=2*R-N;b=ee._hue2rgb(A,N,B+1/3),V=ee._hue2rgb(A,N,B),f=ee._hue2rgb(A,N,B-1/3)}return new h(Math.round(255*b),Math.round(255*V),Math.round(255*f),O)}}class y{constructor($,B,x,R){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,$),0),this.s=_(Math.max(Math.min(1,B),0),3),this.v=_(Math.max(Math.min(1,x),0),3),this.a=_(Math.max(Math.min(1,R),0),3)}static equals($,B){return $.h===B.h&&$.s===B.s&&$.v===B.v&&$.a===B.a}static fromRGBA($){const B=$.r/255,x=$.g/255,R=$.b/255,O=Math.max(B,x,R),V=O-Math.min(B,x,R),f=0===O?0:V/O;let N;return N=0===V?0:O===B?((x-R)/V%6+6)%6:O===x?(R-B)/V+2:(B-x)/V+4,new y(Math.round(60*N),f,O,$.a)}static toRGBA($){const{h:B,s:x,v:R,a:O}=$,b=R*x,V=b*(1-Math.abs(B/60%2-1)),f=R-b;let[N,A,I]=[0,0,0];return B<60?(N=b,A=V):B<120?(N=V,A=b):B<180?(A=b,I=V):B<240?(A=V,I=b):B<300?(N=V,I=b):B<=360&&(N=b,I=V),N=Math.round(255*(N+f)),A=Math.round(255*(A+f)),I=Math.round(255*(I+f)),new h(N,A,I,O)}}class v{constructor($){if(!$)throw new Error("Color needs a value");if($ instanceof h)this.rgba=$;else if($ instanceof ee)this._hsla=$,this.rgba=ee.toRGBA($);else{if(!($ instanceof y))throw new Error("Invalid color ctor argument");this._hsva=$,this.rgba=y.toRGBA($)}}static fromHex($){return v.Format.CSS.parseHex($)||v.red}get hsla(){return this._hsla?this._hsla:ee.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:y.fromRGBA(this.rgba)}equals($){return!!$&&h.equals(this.rgba,$.rgba)&&ee.equals(this.hsla,$.hsla)&&y.equals(this.hsva,$.hsva)}getRelativeLuminance(){return _(.2126*v._relativeLuminanceForComponent(this.rgba.r)+.7152*v._relativeLuminanceForComponent(this.rgba.g)+.0722*v._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent($){const B=$/255;return B<=.03928?B/12.92:Math.pow((B+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan($){return this.getRelativeLuminance()>$.getRelativeLuminance()}isDarkerThan($){return this.getRelativeLuminance()<$.getRelativeLuminance()}lighten($){return new v(new ee(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*$,this.hsla.a))}darken($){return new v(new ee(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*$,this.hsla.a))}transparent($){const{r:B,g:x,b:R,a:O}=this.rgba;return new v(new h(B,x,R,O*$))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new v(new h(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=v.Format.CSS.format(this)),this._toString}static getLighterColor($,B,x){if($.isLighterThan(B))return $;x=x||.5;const R=$.getRelativeLuminance(),O=B.getRelativeLuminance();return $.lighten(x=x*(O-R)/O)}static getDarkerColor($,B,x){if($.isDarkerThan(B))return $;x=x||.5;const R=$.getRelativeLuminance(),O=B.getRelativeLuminance();return $.darken(x=x*(R-O)/R)}}v.white=new v(new h(255,255,255,1)),v.black=new v(new h(0,0,0,1)),v.red=new v(new h(255,0,0,1)),v.blue=new v(new h(0,0,255,1)),v.green=new v(new h(0,255,0,1)),v.cyan=new v(new h(0,255,255,1)),v.lightgrey=new v(new h(211,211,211,1)),v.transparent=new v(new h(0,0,0,0)),function(Z){let $;!function(B){let x;!function(R){function N(T){const q=T.toString(16);return 2!==q.length?"0"+q:q}function F(T){switch(T){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}R.formatRGB=function O(T){return 1===T.rgba.a?`rgb(${T.rgba.r}, ${T.rgba.g}, ${T.rgba.b})`:Z.Format.CSS.formatRGBA(T)},R.formatRGBA=function b(T){return`rgba(${T.rgba.r}, ${T.rgba.g}, ${T.rgba.b}, ${+T.rgba.a.toFixed(2)})`},R.formatHSL=function V(T){return 1===T.hsla.a?`hsl(${T.hsla.h}, ${(100*T.hsla.s).toFixed(2)}%, ${(100*T.hsla.l).toFixed(2)}%)`:Z.Format.CSS.formatHSLA(T)},R.formatHSLA=function f(T){return`hsla(${T.hsla.h}, ${(100*T.hsla.s).toFixed(2)}%, ${(100*T.hsla.l).toFixed(2)}%, ${T.hsla.a.toFixed(2)})`},R.formatHex=function A(T){return`#${N(T.rgba.r)}${N(T.rgba.g)}${N(T.rgba.b)}`},R.formatHexA=function I(T,q=!1){return q&&1===T.rgba.a?Z.Format.CSS.formatHex(T):`#${N(T.rgba.r)}${N(T.rgba.g)}${N(T.rgba.b)}${N(Math.round(255*T.rgba.a))}`},R.format=function P(T){return T.isOpaque()?Z.Format.CSS.formatHex(T):Z.Format.CSS.formatRGBA(T)},R.parseHex=function H(T){const q=T.length;if(0===q||35!==T.charCodeAt(0))return null;if(7===q){const Y=16*F(T.charCodeAt(1))+F(T.charCodeAt(2)),te=16*F(T.charCodeAt(3))+F(T.charCodeAt(4)),me=16*F(T.charCodeAt(5))+F(T.charCodeAt(6));return new Z(new h(Y,te,me,1))}if(9===q){const Y=16*F(T.charCodeAt(1))+F(T.charCodeAt(2)),te=16*F(T.charCodeAt(3))+F(T.charCodeAt(4)),me=16*F(T.charCodeAt(5))+F(T.charCodeAt(6)),_e=16*F(T.charCodeAt(7))+F(T.charCodeAt(8));return new Z(new h(Y,te,me,_e/255))}if(4===q){const Y=F(T.charCodeAt(1)),te=F(T.charCodeAt(2)),me=F(T.charCodeAt(3));return new Z(new h(16*Y+Y,16*te+te,16*me+me))}if(5===q){const Y=F(T.charCodeAt(1)),te=F(T.charCodeAt(2)),me=F(T.charCodeAt(3)),_e=F(T.charCodeAt(4));return new Z(new h(16*Y+Y,16*te+te,16*me+me,(16*_e+_e)/255))}return null}}(x=B.CSS||(B.CSS={}))}($=Z.Format||(Z.Format={}))}(v||(v={}))},10087:(Ae,xe,L)=>{"use strict";function _(h,ee,y){let v=null,Z=null;if("function"==typeof y.value?(v="value",Z=y.value,0!==Z.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof y.get&&(v="get",Z=y.get),!Z)throw new Error("not supported");const $=`$memoize$${ee}`;y[v]=function(...B){return this.hasOwnProperty($)||Object.defineProperty(this,$,{configurable:!1,enumerable:!1,writable:!1,value:Z.apply(this,B)}),this[$]}}L.d(xe,{H:()=>_})},53663:(Ae,xe,L)=>{"use strict";L.d(xe,{B8:()=>b,Cp:()=>y,F0:()=>x,FU:()=>B,L6:()=>O,b1:()=>R,dL:()=>ee,n2:()=>$,ri:()=>v});const h=new class _{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(f){setTimeout(()=>{throw f.stack?new Error(f.message+"\n\n"+f.stack):f},0)}}emit(f){this.listeners.forEach(N=>{N(f)})}onUnexpectedError(f){this.unexpectedErrorHandler(f),this.emit(f)}onUnexpectedExternalError(f){this.unexpectedErrorHandler(f)}};function ee(V){$(V)||h.onUnexpectedError(V)}function y(V){$(V)||h.onUnexpectedExternalError(V)}function v(V){if(V instanceof Error){let{name:f,message:N}=V;return{$isError:!0,name:f,message:N,stack:V.stacktrace||V.stack}}return V}const Z="Canceled";function $(V){return V instanceof B||V instanceof Error&&V.name===Z&&V.message===Z}class B extends Error{constructor(){super(Z),this.name=this.message}}function x(){const V=new Error(Z);return V.name=V.message,V}function R(V){return V?new Error(`Illegal argument: ${V}`):new Error("Illegal argument")}function O(V){return V?new Error(`Illegal state: ${V}`):new Error("Illegal state")}class b extends Error{constructor(f){super("NotSupported"),f&&(this.message=f)}}},52787:(Ae,xe,L)=>{"use strict";L.d(xe,{D0:()=>O,E7:()=>b,K3:()=>R,Q5:()=>x,ZD:()=>V,ju:()=>v});var v,_=L(53663),h=L(52425),ee=L(38460),y=L(41724);!function(f){function N(w){return(U,D=null,z)=>{let ye,ae=!1;return ye=w(Ee=>{if(!ae)return ye?ye.dispose():ae=!0,U.call(D,Ee)},null,z),ae&&ye.dispose(),ye}}function A(w,U){return q((D,z=null,ae)=>w(ye=>D.call(z,U(ye)),null,ae))}function I(w,U){return q((D,z=null,ae)=>w(ye=>{U(ye),D.call(z,ye)},null,ae))}function P(w,U){return q((D,z=null,ae)=>w(ye=>U(ye)&&D.call(z,ye),null,ae))}function T(w,U,D){let z=D;return A(w,ae=>(z=U(z,ae),z))}function q(w){let U;const D=new x({onFirstListenerAdd(){U=w(D.fire,D)},onLastListenerRemove(){U.dispose()}});return D.event}function te(w,U,D=100,z=!1,ae){let ye,Ee,Me,Ke=0;const tt=new x({leakWarningThreshold:ae,onFirstListenerAdd(){ye=w(ht=>{Ke++,Ee=U(Ee,ht),z&&!Me&&(tt.fire(Ee),Ee=void 0),clearTimeout(Me),Me=setTimeout(()=>{const bt=Ee;Ee=void 0,Me=void 0,(!z||Ke>1)&&tt.fire(bt),Ke=0},D)})},onLastListenerRemove(){ye.dispose()}});return tt.event}function me(w,U=((D,z)=>D===z)){let z,D=!0;return P(w,ae=>{const ye=D||!U(ae,z);return D=!1,z=ae,ye})}f.None=()=>h.JT.None,f.once=N,f.map=A,f.forEach=I,f.filter=P,f.signal=function H(w){return w},f.any=function F(...w){return(U,D=null,z)=>(0,h.F8)(...w.map(ae=>ae(ye=>U.call(D,ye),null,z)))},f.reduce=T,f.debouncedListener=function Y(w,U,D,z=100,ae=!1){let ye,Ee,Me=0;return w(Ke=>{Me++,ye=D(ye,Ke),ae&&!Ee&&(U(ye),ye=void 0),clearTimeout(Ee),Ee=setTimeout(()=>{const tt=ye;ye=void 0,Ee=void 0,(!ae||Me>1)&&U(tt),Me=0},z)})},f.debounce=te,f.latch=me,f.split=function _e(w,U){return[f.filter(w,U),f.filter(w,D=>!U(D))]},f.buffer=function de(w,U=!1,D=[]){let z=D.slice(),ae=w(Me=>{z?z.push(Me):Ee.fire(Me)});const ye=()=>{z&&z.forEach(Me=>Ee.fire(Me)),z=null},Ee=new x({onFirstListenerAdd(){ae||(ae=w(Me=>Ee.fire(Me)))},onFirstListenerDidAdd(){z&&(U?setTimeout(ye):ye())},onLastListenerRemove(){ae&&ae.dispose(),ae=null}});return Ee.event};class Se{constructor(U){this.event=U}map(U){return new Se(A(this.event,U))}forEach(U){return new Se(I(this.event,U))}filter(U){return new Se(P(this.event,U))}reduce(U,D){return new Se(T(this.event,U,D))}latch(){return new Se(me(this.event))}debounce(U,D=100,z=!1,ae){return new Se(te(this.event,U,D,z,ae))}on(U,D,z){return this.event(U,D,z)}once(U,D,z){return N(this.event)(U,D,z)}}f.chain=function Ve(w){return new Se(w)},f.fromNodeEventEmitter=function ce(w,U,D=(z=>z)){const z=(...Me)=>Ee.fire(D(...Me)),Ee=new x({onFirstListenerAdd:()=>w.on(U,z),onLastListenerRemove:()=>w.removeListener(U,z)});return Ee.event},f.fromDOMEventEmitter=function K(w,U,D=(z=>z)){const z=(...Me)=>Ee.fire(D(...Me)),Ee=new x({onFirstListenerAdd:()=>w.addEventListener(U,z),onLastListenerRemove:()=>w.removeEventListener(U,z)});return Ee.event},f.toPromise=function ie(w){return new Promise(U=>N(w)(U))},f.runAndSubscribe=function oe(w,U){return U(void 0),w(D=>U(D))},f.runAndSubscribeWithStore=function W(w,U){let D=null;function z(ye){null==D||D.dispose(),D=new h.SL,U(ye,D)}z(void 0);const ae=w(ye=>z(ye));return(0,h.OF)(()=>{ae.dispose(),null==D||D.dispose()})}}(v||(v={}));let Z=(()=>{class f{constructor(A){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${A}_${f._idPool++}`}start(A){this._stopWatch=new y.G(!0),this._listenerCount=A}stop(){if(this._stopWatch){const A=this._stopWatch.elapsed();this._elapsedOverall+=A,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${A.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}return f._idPool=0,f})();class x{constructor(N){var A;this._disposed=!1,this._options=N,this._leakageMon=void 0,this._perfMon=(null===(A=this._options)||void 0===A?void 0:A._profName)?new Z(this._options._profName):void 0}get event(){return this._event||(this._event=(N,A,I)=>{var P;this._listeners||(this._listeners=new ee.S);const H=this._listeners.isEmpty();H&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const F=this._listeners.push(A?[N,A]:N);H&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,N,A);const T=null===(P=this._leakageMon)||void 0===P?void 0:P.check(this._listeners.size),q=(0,h.OF)(()=>{T&&T(),this._disposed||(F(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return I instanceof h.SL?I.add(q):Array.isArray(I)&&I.push(q),q}),this._event}fire(N){var A,I;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new ee.S);for(let P of this._listeners)this._deliveryQueue.push([P,N]);for(null===(A=this._perfMon)||void 0===A||A.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[P,H]=this._deliveryQueue.shift();try{"function"==typeof P?P.call(void 0,H):P[0].call(P[1],H)}catch(F){(0,_.dL)(F)}}null===(I=this._perfMon)||void 0===I||I.stop()}}dispose(){var N,A,I,P,H;this._disposed||(this._disposed=!0,null===(N=this._listeners)||void 0===N||N.clear(),null===(A=this._deliveryQueue)||void 0===A||A.clear(),null===(P=null===(I=this._options)||void 0===I?void 0:I.onLastListenerRemove)||void 0===P||P.call(I),null===(H=this._leakageMon)||void 0===H||H.dispose())}}class R extends x{constructor(N){super(N),this._isPaused=0,this._eventQueue=new ee.S,this._mergeFn=null==N?void 0:N.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){const N=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(N))}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(N){this._listeners&&(0!==this._isPaused?this._eventQueue.push(N):super.fire(N))}}class O extends R{constructor(N){var A;super(N),this._delay=null!==(A=N.delay)&&void 0!==A?A:100}fire(N){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(N)}}class b{constructor(){this.buffers=[]}wrapEvent(N){return(A,I,P)=>N(H=>{const F=this.buffers[this.buffers.length-1];F?F.push(()=>A.call(I,H)):A.call(I,H)},void 0,P)}bufferEvents(N){const A=[];this.buffers.push(A);const I=N();return this.buffers.pop(),A.forEach(P=>P()),I}}class V{constructor(){this.listening=!1,this.inputEvent=v.None,this.inputEventListener=h.JT.None,this.emitter=new x({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(N){this.inputEvent=N,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=N(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},25170:(Ae,xe,L)=>{"use strict";L.d(xe,{KM:()=>B,ej:()=>v,fn:()=>Z,yj:()=>$});var _=L(34163),ee=(L(38972),L(13088));function y(b){return 47===b||92===b}function v(b){return b.replace(/[\\/]/g,_.KR.sep)}function Z(b){return-1===b.indexOf("/")&&(b=v(b)),/^[a-zA-Z]:(\/|$)/.test(b)&&(b="/"+b),b}function $(b,V=_.KR.sep){if(!b)return"";const f=b.length,N=b.charCodeAt(0);if(y(N)){if(y(b.charCodeAt(1))&&!y(b.charCodeAt(2))){let I=3;const P=I;for(;I<f&&!y(b.charCodeAt(I));I++);if(P!==I&&!y(b.charCodeAt(I+1)))for(I+=1;I<f;I++)if(y(b.charCodeAt(I)))return b.slice(0,I+1).replace(/[\\/]/g,V)}return V}if(function x(b){return b>=65&&b<=90||b>=97&&b<=122}(N)&&58===b.charCodeAt(1))return y(b.charCodeAt(2))?b.slice(0,2)+V:b.slice(0,2);let A=b.indexOf("://");if(-1!==A)for(A+=3;A<f;A++)if(y(b.charCodeAt(A)))return b.slice(0,A+1);return""}function B(b,V,f,N=_.ir){if(b===V)return!0;if(!b||!V||V.length>b.length)return!1;if(f){if(!(0,ee.ok)(b,V))return!1;if(V.length===b.length)return!0;let I=V.length;return V.charAt(V.length-1)===N&&I--,b.charAt(I)===N}return V.charAt(V.length-1)!==N&&(V+=N),0===b.indexOf(V)}},52706:(Ae,xe,L)=>{"use strict";function _(h){const ee=this;let v,y=!1;return function(){return y||(y=!0,v=h.apply(ee,arguments)),v}}L.d(xe,{I:()=>_})},31383:(Ae,xe,L)=>{"use strict";L.d(xe,{EQ:()=>K,Qc:()=>ie});var _=L(63072),h=L(25170),ee=L(7838),y=L(34163),v=L(38972),Z=L(13088);const $="**",x="[/\\\\]",R="[^/\\\\]",O=/\//g;function b(D){switch(D){case 0:return"";case 1:return`${R}*?`;default:return`(?:${x}|${R}+${x}|${x}${R}+)*?`}}function V(D,z){if(!D)return[];const ae=[];let ye=!1,Ee=!1,Me="";for(const Ke of D){switch(Ke){case z:if(!ye&&!Ee){ae.push(Me),Me="";continue}break;case"{":ye=!0;break;case"}":ye=!1;break;case"[":Ee=!0;break;case"]":Ee=!1}Me+=Ke}return Me&&ae.push(Me),ae}function f(D){if(!D)return"";let z="";const ae=V(D,"/");if(ae.every(ye=>ye===$))z=".*";else{let ye=!1;ae.forEach((Ee,Me)=>{if(Ee===$)return void(ye||(z+=b(2),ye=!0));let Ke=!1,tt="",ht=!1,bt="";for(const St of Ee)if("}"!==St&&Ke)tt+=St;else if(!ht||"]"===St&&bt)switch(St){case"{":Ke=!0;continue;case"[":ht=!0;continue;case"}":z+=`(?:${V(tt,",").map(Ci=>f(Ci)).join("|")})`,Ke=!1,tt="";break;case"]":z+="["+bt+"]",ht=!1,bt="";break;case"?":z+=R;continue;case"*":z+=b(1);continue;default:z+=(0,Z.ec)(St)}else{let yt;yt="-"===St?St:"^"!==St&&"!"!==St||bt?"/"===St?"":(0,Z.ec)(St):"^",bt+=yt}Me<ae.length-1&&(ae[Me+1]!==$||Me+2<ae.length)&&(z+=x),ye=!1})}return z}const N=/^\*\*\/\*\.[\w\.-]+$/,A=/^\*\*\/([\w\.-]+)\/?$/,I=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,P=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,H=/^\*\*((\/[\w\.-]+)+)\/?$/,F=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,T=new ee.z6(1e4),q=function(){return!1},Y=function(){return null};function te(D,z){if(!D)return Y;let ae;ae="string"!=typeof D?D.pattern:D,ae=ae.trim();const ye=`${ae}_${!!z.trimForExclusions}`;let Me,Ee=T.get(ye);if(Ee)return me(Ee,D);if(N.test(ae)){const Ke=ae.substr(4);Ee=function(tt,ht){return"string"==typeof tt&&tt.endsWith(Ke)?ae:null}}else Ee=(Me=A.exec(_e(ae,z)))?function de(D,z){const ae=`/${D}`,ye=`\\${D}`,Ee=function(Ke,tt){return"string"!=typeof Ke?null:tt?tt===D?z:null:Ke===D||Ke.endsWith(ae)||Ke.endsWith(ye)?z:null},Me=[D];return Ee.basenames=Me,Ee.patterns=[z],Ee.allBasenames=Me,Ee}(Me[1],ae):(z.trimForExclusions?P:I).test(ae)?function Se(D,z){const ae=U(D.slice(1,-1).split(",").map(tt=>te(tt,z)).filter(tt=>tt!==Y),D),ye=ae.length;if(!ye)return Y;if(1===ye)return ae[0];const Ee=function(tt,ht){for(let bt=0,St=ae.length;bt<St;bt++)if(ae[bt](tt,ht))return D;return null},Me=ae.find(tt=>!!tt.allBasenames);Me&&(Ee.allBasenames=Me.allBasenames);const Ke=ae.reduce((tt,ht)=>ht.allPaths?tt.concat(ht.allPaths):tt,[]);return Ke.length&&(Ee.allPaths=Ke),Ee}(ae,z):(Me=H.exec(_e(ae,z)))?Ve(Me[1].substr(1),ae,!0):(Me=F.exec(_e(ae,z)))?Ve(Me[1],ae,!1):function ce(D){try{const z=new RegExp(`^${f(D)}$`);return function(ae){return z.lastIndex=0,"string"==typeof ae&&z.test(ae)?D:null}}catch(z){return Y}}(ae);return T.set(ye,Ee),me(Ee,D)}function me(D,z){return"string"==typeof z?D:function(ae,ye){return(0,h.KM)(ae,z.base,!v.IJ)?D(ae.substr(z.base.length+1),ye):null}}function _e(D,z){return z.trimForExclusions&&D.endsWith("/**")?D.substr(0,D.length-2):D}function Ve(D,z,ae){const ye=y.ir===y.KR.sep,Ee=ye?D:D.replace(O,y.ir),Me=y.ir+Ee,Ke=y.KR.sep+D,tt=ae?function(ht,bt){return"string"!=typeof ht||ht!==Ee&&!ht.endsWith(Me)&&(ye||ht!==D&&!ht.endsWith(Ke))?null:z}:function(ht,bt){return"string"!=typeof ht||ht!==Ee&&(ye||ht!==D)?null:z};return tt.allPaths=[(ae?"*/":"./")+D],tt}function K(D,z,ae){return!(!D||"string"!=typeof z)&&ie(D)(z,void 0,ae)}function ie(D,z={}){if(!D)return q;if("string"==typeof D||function oe(D){return!!D&&"string"==typeof D.base&&"string"==typeof D.pattern}(D)){const ae=te(D,z);if(ae===Y)return q;const ye=function(Ee,Me){return!!ae(Ee,Me)};return ae.allBasenames&&(ye.allBasenames=ae.allBasenames),ae.allPaths&&(ye.allPaths=ae.allPaths),ye}return function W(D,z){const ae=U(Object.getOwnPropertyNames(D).map(tt=>function w(D,z,ae){if(!1===z)return Y;const ye=te(D,ae);if(ye===Y)return Y;if("boolean"==typeof z)return ye;if(z){const Ee=z.when;if("string"==typeof Ee){const Me=(Ke,tt,ht,bt)=>{if(!bt||!ye(Ke,tt))return null;const yt=bt(Ee.replace("$(basename)",ht));return(0,_.J8)(yt)?yt.then(_t=>_t?D:null):yt?D:null};return Me.requiresSiblings=!0,Me}}return ye}(tt,D[tt],z)).filter(tt=>tt!==Y)),ye=ae.length;if(!ye)return Y;if(!ae.some(tt=>!!tt.requiresSiblings)){if(1===ye)return ae[0];const tt=function(St,yt){for(let _t=0,Ci=ae.length;_t<Ci;_t++){const Ni=ae[_t](St,yt);if(Ni)return Ni}return null},ht=ae.find(St=>!!St.allBasenames);ht&&(tt.allBasenames=ht.allBasenames);const bt=ae.reduce((St,yt)=>yt.allPaths?St.concat(yt.allPaths):St,[]);return bt.length&&(tt.allPaths=bt),tt}const Ee=function(tt,ht,bt){let St;for(let yt=0,_t=ae.length;yt<_t;yt++){const Ci=ae[yt];Ci.requiresSiblings&&bt&&(ht||(ht=(0,y.EZ)(tt)),St||(St=ht.substr(0,ht.length-(0,y.DZ)(tt).length)));const Ni=Ci(tt,ht,St,bt);if(Ni)return Ni}return null},Me=ae.find(tt=>!!tt.allBasenames);Me&&(Ee.allBasenames=Me.allBasenames);const Ke=ae.reduce((tt,ht)=>ht.allPaths?tt.concat(ht.allPaths):tt,[]);return Ke.length&&(Ee.allPaths=Ke),Ee}(D,z)}function U(D,z){const ae=D.filter(tt=>!!tt.basenames);if(ae.length<2)return D;const ye=ae.reduce((tt,ht)=>{const bt=ht.basenames;return bt?tt.concat(bt):tt},[]);let Ee;if(z){Ee=[];for(let tt=0,ht=ye.length;tt<ht;tt++)Ee.push(z)}else Ee=ae.reduce((tt,ht)=>{const bt=ht.patterns;return bt?tt.concat(bt):tt},[]);const Me=function(tt,ht){if("string"!=typeof tt)return null;if(!ht){let St;for(St=tt.length;St>0;St--){const yt=tt.charCodeAt(St-1);if(47===yt||92===yt)break}ht=tt.substr(St)}const bt=ye.indexOf(ht);return-1!==bt?Ee[bt]:null};Me.basenames=ye,Me.patterns=Ee,Me.allBasenames=ye;const Ke=D.filter(tt=>!tt.basenames);return Ke.push(Me),Ke}},67981:(Ae,xe,L)=>{"use strict";var _;L.d(xe,{$:()=>_}),function(h){h.is=function ee(F){return F&&"object"==typeof F&&"function"==typeof F[Symbol.iterator]};const y=Object.freeze([]);h.empty=function v(){return y},h.single=function*Z(F){yield F},h.from=function $(F){return F||y},h.isEmpty=function B(F){return!F||!0===F[Symbol.iterator]().next().done},h.first=function x(F){return F[Symbol.iterator]().next().value},h.some=function R(F,T){for(const q of F)if(T(q))return!0;return!1},h.find=function O(F,T){for(const q of F)if(T(q))return q},h.filter=function*b(F,T){for(const q of F)T(q)&&(yield q)},h.map=function*V(F,T){let q=0;for(const Y of F)yield T(Y,q++)},h.concat=function*f(...F){for(const T of F)for(const q of T)yield q},h.concatNested=function*N(F){for(const T of F)for(const q of T)yield q},h.reduce=function A(F,T,q){let Y=q;for(const te of F)Y=T(Y,te);return Y},h.slice=function*I(F,T,q=F.length){for(T<0&&(T+=F.length),q<0?q+=F.length:q>F.length&&(q=F.length);T<q;T++)yield F[T]},h.consume=function P(F,T=Number.POSITIVE_INFINITY){const q=[];if(0===T)return[q,F];const Y=F[Symbol.iterator]();for(let te=0;te<T;te++){const me=Y.next();if(me.done)return[q,h.empty()];q.push(me.value)}return[q,{[Symbol.iterator]:()=>Y}]},h.equals=function H(F,T,q=((Y,te)=>Y===te)){const Y=F[Symbol.iterator](),te=T[Symbol.iterator]();for(;;){const me=Y.next(),_e=te.next();if(me.done!==_e.done)return!1;if(me.done)return!0;if(!q(me.value,_e.value))return!1}}}(_||(_={}))},36950:(Ae,xe,L)=>{"use strict";L.d(xe,{H_:()=>v,Vd:()=>R,gx:()=>V,kL:()=>b});class _{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(N,A){this._keyCodeToStr[N]=A,this._strToKeyCode[A.toLowerCase()]=N}keyCodeToStr(N){return this._keyCodeToStr[N]}strToKeyCode(N){return this._strToKeyCode[N.toLowerCase()]||0}}const h=new _,ee=new _,y=new _,v=new Array(230),Z={},$=[],B=Object.create(null),x=Object.create(null),R=[],O=[];for(let f=0;f<=193;f++)R[f]=-1;for(let f=0;f<=126;f++)O[f]=-1;var b,f;function V(f,N){return(f|(65535&N)<<16>>>0)>>>0}!function(){const f="",N=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",f,f],[0,1,1,"Hyper",0,f,0,f,f,f],[0,1,2,"Super",0,f,0,f,f,f],[0,1,3,"Fn",0,f,0,f,f,f],[0,1,4,"FnLock",0,f,0,f,f,f],[0,1,5,"Suspend",0,f,0,f,f,f],[0,1,6,"Resume",0,f,0,f,f,f],[0,1,7,"Turbo",0,f,0,f,f,f],[0,1,8,"Sleep",0,f,0,"VK_SLEEP",f,f],[0,1,9,"WakeUp",0,f,0,f,f,f],[31,0,10,"KeyA",31,"A",65,"VK_A",f,f],[32,0,11,"KeyB",32,"B",66,"VK_B",f,f],[33,0,12,"KeyC",33,"C",67,"VK_C",f,f],[34,0,13,"KeyD",34,"D",68,"VK_D",f,f],[35,0,14,"KeyE",35,"E",69,"VK_E",f,f],[36,0,15,"KeyF",36,"F",70,"VK_F",f,f],[37,0,16,"KeyG",37,"G",71,"VK_G",f,f],[38,0,17,"KeyH",38,"H",72,"VK_H",f,f],[39,0,18,"KeyI",39,"I",73,"VK_I",f,f],[40,0,19,"KeyJ",40,"J",74,"VK_J",f,f],[41,0,20,"KeyK",41,"K",75,"VK_K",f,f],[42,0,21,"KeyL",42,"L",76,"VK_L",f,f],[43,0,22,"KeyM",43,"M",77,"VK_M",f,f],[44,0,23,"KeyN",44,"N",78,"VK_N",f,f],[45,0,24,"KeyO",45,"O",79,"VK_O",f,f],[46,0,25,"KeyP",46,"P",80,"VK_P",f,f],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",f,f],[48,0,27,"KeyR",48,"R",82,"VK_R",f,f],[49,0,28,"KeyS",49,"S",83,"VK_S",f,f],[50,0,29,"KeyT",50,"T",84,"VK_T",f,f],[51,0,30,"KeyU",51,"U",85,"VK_U",f,f],[52,0,31,"KeyV",52,"V",86,"VK_V",f,f],[53,0,32,"KeyW",53,"W",87,"VK_W",f,f],[54,0,33,"KeyX",54,"X",88,"VK_X",f,f],[55,0,34,"KeyY",55,"Y",89,"VK_Y",f,f],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",f,f],[22,0,36,"Digit1",22,"1",49,"VK_1",f,f],[23,0,37,"Digit2",23,"2",50,"VK_2",f,f],[24,0,38,"Digit3",24,"3",51,"VK_3",f,f],[25,0,39,"Digit4",25,"4",52,"VK_4",f,f],[26,0,40,"Digit5",26,"5",53,"VK_5",f,f],[27,0,41,"Digit6",27,"6",54,"VK_6",f,f],[28,0,42,"Digit7",28,"7",55,"VK_7",f,f],[29,0,43,"Digit8",29,"8",56,"VK_8",f,f],[30,0,44,"Digit9",30,"9",57,"VK_9",f,f],[21,0,45,"Digit0",21,"0",48,"VK_0",f,f],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",f,f],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",f,f],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",f,f],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",f,f],[10,1,50,"Space",10,"Space",32,"VK_SPACE",f,f],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,f,0,f,f,f],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",f,f],[59,1,64,"F1",59,"F1",112,"VK_F1",f,f],[60,1,65,"F2",60,"F2",113,"VK_F2",f,f],[61,1,66,"F3",61,"F3",114,"VK_F3",f,f],[62,1,67,"F4",62,"F4",115,"VK_F4",f,f],[63,1,68,"F5",63,"F5",116,"VK_F5",f,f],[64,1,69,"F6",64,"F6",117,"VK_F6",f,f],[65,1,70,"F7",65,"F7",118,"VK_F7",f,f],[66,1,71,"F8",66,"F8",119,"VK_F8",f,f],[67,1,72,"F9",67,"F9",120,"VK_F9",f,f],[68,1,73,"F10",68,"F10",121,"VK_F10",f,f],[69,1,74,"F11",69,"F11",122,"VK_F11",f,f],[70,1,75,"F12",70,"F12",123,"VK_F12",f,f],[0,1,76,"PrintScreen",0,f,0,f,f,f],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",f,f],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",f,f],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",f,f],[14,1,80,"Home",14,"Home",36,"VK_HOME",f,f],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",f,f],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",f,f],[13,1,83,"End",13,"End",35,"VK_END",f,f],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",f,f],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",f],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",f],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",f],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",f],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",f,f],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",f,f],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",f,f],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",f,f],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",f,f],[3,1,94,"NumpadEnter",3,f,0,f,f,f],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",f,f],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",f,f],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",f,f],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",f,f],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",f,f],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",f,f],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",f,f],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",f,f],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",f,f],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",f,f],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",f,f],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",f,f],[58,1,107,"ContextMenu",58,"ContextMenu",93,f,f,f],[0,1,108,"Power",0,f,0,f,f,f],[0,1,109,"NumpadEqual",0,f,0,f,f,f],[71,1,110,"F13",71,"F13",124,"VK_F13",f,f],[72,1,111,"F14",72,"F14",125,"VK_F14",f,f],[73,1,112,"F15",73,"F15",126,"VK_F15",f,f],[74,1,113,"F16",74,"F16",127,"VK_F16",f,f],[75,1,114,"F17",75,"F17",128,"VK_F17",f,f],[76,1,115,"F18",76,"F18",129,"VK_F18",f,f],[77,1,116,"F19",77,"F19",130,"VK_F19",f,f],[0,1,117,"F20",0,f,0,"VK_F20",f,f],[0,1,118,"F21",0,f,0,"VK_F21",f,f],[0,1,119,"F22",0,f,0,"VK_F22",f,f],[0,1,120,"F23",0,f,0,"VK_F23",f,f],[0,1,121,"F24",0,f,0,"VK_F24",f,f],[0,1,122,"Open",0,f,0,f,f,f],[0,1,123,"Help",0,f,0,f,f,f],[0,1,124,"Select",0,f,0,f,f,f],[0,1,125,"Again",0,f,0,f,f,f],[0,1,126,"Undo",0,f,0,f,f,f],[0,1,127,"Cut",0,f,0,f,f,f],[0,1,128,"Copy",0,f,0,f,f,f],[0,1,129,"Paste",0,f,0,f,f,f],[0,1,130,"Find",0,f,0,f,f,f],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",f,f],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",f,f],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",f,f],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",f,f],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",f,f],[0,1,136,"KanaMode",0,f,0,f,f,f],[0,0,137,"IntlYen",0,f,0,f,f,f],[0,1,138,"Convert",0,f,0,f,f,f],[0,1,139,"NonConvert",0,f,0,f,f,f],[0,1,140,"Lang1",0,f,0,f,f,f],[0,1,141,"Lang2",0,f,0,f,f,f],[0,1,142,"Lang3",0,f,0,f,f,f],[0,1,143,"Lang4",0,f,0,f,f,f],[0,1,144,"Lang5",0,f,0,f,f,f],[0,1,145,"Abort",0,f,0,f,f,f],[0,1,146,"Props",0,f,0,f,f,f],[0,1,147,"NumpadParenLeft",0,f,0,f,f,f],[0,1,148,"NumpadParenRight",0,f,0,f,f,f],[0,1,149,"NumpadBackspace",0,f,0,f,f,f],[0,1,150,"NumpadMemoryStore",0,f,0,f,f,f],[0,1,151,"NumpadMemoryRecall",0,f,0,f,f,f],[0,1,152,"NumpadMemoryClear",0,f,0,f,f,f],[0,1,153,"NumpadMemoryAdd",0,f,0,f,f,f],[0,1,154,"NumpadMemorySubtract",0,f,0,f,f,f],[0,1,155,"NumpadClear",0,f,0,f,f,f],[0,1,156,"NumpadClearEntry",0,f,0,f,f,f],[5,1,0,f,5,"Ctrl",17,"VK_CONTROL",f,f],[4,1,0,f,4,"Shift",16,"VK_SHIFT",f,f],[6,1,0,f,6,"Alt",18,"VK_MENU",f,f],[57,1,0,f,57,"Meta",0,"VK_COMMAND",f,f],[5,1,157,"ControlLeft",5,f,0,"VK_LCONTROL",f,f],[4,1,158,"ShiftLeft",4,f,0,"VK_LSHIFT",f,f],[6,1,159,"AltLeft",6,f,0,"VK_LMENU",f,f],[57,1,160,"MetaLeft",57,f,0,"VK_LWIN",f,f],[5,1,161,"ControlRight",5,f,0,"VK_RCONTROL",f,f],[4,1,162,"ShiftRight",4,f,0,"VK_RSHIFT",f,f],[6,1,163,"AltRight",6,f,0,"VK_RMENU",f,f],[57,1,164,"MetaRight",57,f,0,"VK_RWIN",f,f],[0,1,165,"BrightnessUp",0,f,0,f,f,f],[0,1,166,"BrightnessDown",0,f,0,f,f,f],[0,1,167,"MediaPlay",0,f,0,f,f,f],[0,1,168,"MediaRecord",0,f,0,f,f,f],[0,1,169,"MediaFastForward",0,f,0,f,f,f],[0,1,170,"MediaRewind",0,f,0,f,f,f],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",f,f],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",f,f],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",f,f],[0,1,174,"Eject",0,f,0,f,f,f],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",f,f],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",f,f],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",f,f],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",f,f],[0,1,179,"LaunchApp1",0,f,0,"VK_MEDIA_LAUNCH_APP1",f,f],[0,1,180,"SelectTask",0,f,0,f,f,f],[0,1,181,"LaunchScreenSaver",0,f,0,f,f,f],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",f,f],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",f,f],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",f,f],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",f,f],[0,1,186,"BrowserStop",0,f,0,"VK_BROWSER_STOP",f,f],[0,1,187,"BrowserRefresh",0,f,0,"VK_BROWSER_REFRESH",f,f],[0,1,188,"BrowserFavorites",0,f,0,"VK_BROWSER_FAVORITES",f,f],[0,1,189,"ZoomToggle",0,f,0,f,f,f],[0,1,190,"MailReply",0,f,0,f,f,f],[0,1,191,"MailForward",0,f,0,f,f,f],[0,1,192,"MailSend",0,f,0,f,f,f],[109,1,0,f,109,"KeyInComposition",229,f,f,f],[111,1,0,f,111,"ABNT_C2",194,"VK_ABNT_C2",f,f],[91,1,0,f,91,"OEM_8",223,"VK_OEM_8",f,f],[0,1,0,f,0,f,0,"VK_CLEAR",f,f],[0,1,0,f,0,f,0,"VK_KANA",f,f],[0,1,0,f,0,f,0,"VK_HANGUL",f,f],[0,1,0,f,0,f,0,"VK_JUNJA",f,f],[0,1,0,f,0,f,0,"VK_FINAL",f,f],[0,1,0,f,0,f,0,"VK_HANJA",f,f],[0,1,0,f,0,f,0,"VK_KANJI",f,f],[0,1,0,f,0,f,0,"VK_CONVERT",f,f],[0,1,0,f,0,f,0,"VK_NONCONVERT",f,f],[0,1,0,f,0,f,0,"VK_ACCEPT",f,f],[0,1,0,f,0,f,0,"VK_MODECHANGE",f,f],[0,1,0,f,0,f,0,"VK_SELECT",f,f],[0,1,0,f,0,f,0,"VK_PRINT",f,f],[0,1,0,f,0,f,0,"VK_EXECUTE",f,f],[0,1,0,f,0,f,0,"VK_SNAPSHOT",f,f],[0,1,0,f,0,f,0,"VK_HELP",f,f],[0,1,0,f,0,f,0,"VK_APPS",f,f],[0,1,0,f,0,f,0,"VK_PROCESSKEY",f,f],[0,1,0,f,0,f,0,"VK_PACKET",f,f],[0,1,0,f,0,f,0,"VK_DBE_SBCSCHAR",f,f],[0,1,0,f,0,f,0,"VK_DBE_DBCSCHAR",f,f],[0,1,0,f,0,f,0,"VK_ATTN",f,f],[0,1,0,f,0,f,0,"VK_CRSEL",f,f],[0,1,0,f,0,f,0,"VK_EXSEL",f,f],[0,1,0,f,0,f,0,"VK_EREOF",f,f],[0,1,0,f,0,f,0,"VK_PLAY",f,f],[0,1,0,f,0,f,0,"VK_ZOOM",f,f],[0,1,0,f,0,f,0,"VK_NONAME",f,f],[0,1,0,f,0,f,0,"VK_PA1",f,f],[0,1,0,f,0,f,0,"VK_OEM_CLEAR",f,f]];let A=[],I=[];for(const P of N){const[H,F,T,q,Y,te,me,_e,de,Se]=P;if(I[T]||(I[T]=!0,$[T]=q,B[q]=T,x[q.toLowerCase()]=T,F&&(R[T]=Y,0!==Y&&3!==Y&&5!==Y&&4!==Y&&6!==Y&&57!==Y&&(O[Y]=T))),!A[Y]){if(A[Y]=!0,!te)throw new Error(`String representation missing for key code ${Y} around scan code ${q}`);h.define(Y,te),ee.define(Y,de||te),y.define(Y,Se||de||te)}me&&(v[me]=Y),_e&&(Z[_e]=Y)}O[3]=46}(),(f=b||(b={})).toString=function N(T){return h.keyCodeToStr(T)},f.fromString=function A(T){return h.strToKeyCode(T)},f.toUserSettingsUS=function I(T){return ee.keyCodeToStr(T)},f.toUserSettingsGeneral=function P(T){return y.keyCodeToStr(T)},f.fromUserSettings=function H(T){return ee.strToKeyCode(T)||y.strToKeyCode(T)},f.toElectronAccelerator=function F(T){if(T>=93&&T<=108)return null;switch(T){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return h.keyCodeToStr(T)}},5016:(Ae,xe,L)=>{"use strict";L.d(xe,{BQ:()=>$,QC:()=>y,X_:()=>v,f1:()=>B,gm:()=>h});var _=L(53663);function h(x,R){if(0===x)return null;const O=(65535&x)>>>0,b=(4294901760&x)>>>16;return new v(0!==b?[ee(O,R),ee(b,R)]:[ee(O,R)])}function ee(x,R){const O=!!(2048&x),b=!!(256&x);return new y(2===R?b:O,!!(1024&x),!!(512&x),2===R?O:b,255&x)}class y{constructor(R,O,b,V,f){this.ctrlKey=R,this.shiftKey=O,this.altKey=b,this.metaKey=V,this.keyCode=f}equals(R){return this.ctrlKey===R.ctrlKey&&this.shiftKey===R.shiftKey&&this.altKey===R.altKey&&this.metaKey===R.metaKey&&this.keyCode===R.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}toChord(){return new v([this])}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class v{constructor(R){if(0===R.length)throw(0,_.b1)("parts");this.parts=R}}class ${constructor(R,O,b,V,f,N){this.ctrlKey=R,this.shiftKey=O,this.altKey=b,this.metaKey=V,this.keyLabel=f,this.keyAriaLabel=N}}class B{}},52425:(Ae,xe,L)=>{"use strict";L.d(xe,{B9:()=>V,F8:()=>f,JT:()=>I,Jz:()=>H,OF:()=>N,SL:()=>A,Wf:()=>b,XK:()=>P,dk:()=>R});var _=L(52706),h=L(67981);let y=null;function R(F){return F}class O extends Error{constructor(T){super(`Encountered errors while disposing of store. Errors: [${T.join(", ")}]`),this.errors=T}}function b(F){return"function"==typeof F.dispose&&0===F.dispose.length}function V(F){if(h.$.is(F)){let T=[];for(const q of F)if(q)try{q.dispose()}catch(Y){T.push(Y)}if(1===T.length)throw T[0];if(T.length>1)throw new O(T);return Array.isArray(F)?[]:F}if(F)return F.dispose(),F}function f(...F){const T=N(()=>V(F));return function x(F,T){y}(),T}function N(F){const T={dispose:(0,_.I)(()=>{F()})};return T}let A=(()=>{class F{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{V(this._toDispose.values())}finally{this._toDispose.clear()}}add(q){if(!q)return q;if(q===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?F.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(q),q}}return F.DISABLE_DISPOSED_WARNING=!1,F})();class I{constructor(){this._store=new A}dispose(){this._store.dispose()}_register(T){if(T===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(T)}}I.None=Object.freeze({dispose(){}});class P{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(T){var q;this._isDisposed||T===this._value||(null===(q=this._value)||void 0===q||q.dispose(),this._value=T)}clear(){this.value=void 0}dispose(){var T;this._isDisposed=!0,null===(T=this._value)||void 0===T||T.dispose(),this._value=void 0}clearAndLeak(){const T=this._value;return this._value=void 0,T}}class H{constructor(T){this.object=T}dispose(){}}},38460:(Ae,xe,L)=>{"use strict";L.d(xe,{S:()=>h});class _{constructor(y){this.element=y,this.next=_.Undefined,this.prev=_.Undefined}}_.Undefined=new _(void 0);class h{constructor(){this._first=_.Undefined,this._last=_.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===_.Undefined}clear(){let y=this._first;for(;y!==_.Undefined;){const v=y.next;y.prev=_.Undefined,y.next=_.Undefined,y=v}this._first=_.Undefined,this._last=_.Undefined,this._size=0}unshift(y){return this._insert(y,!1)}push(y){return this._insert(y,!0)}_insert(y,v){const Z=new _(y);if(this._first===_.Undefined)this._first=Z,this._last=Z;else if(v){const B=this._last;this._last=Z,Z.prev=B,B.next=Z}else{const B=this._first;this._first=Z,Z.next=B,B.prev=Z}this._size+=1;let $=!1;return()=>{$||($=!0,this._remove(Z))}}shift(){if(this._first!==_.Undefined){const y=this._first.element;return this._remove(this._first),y}}pop(){if(this._last!==_.Undefined){const y=this._last.element;return this._remove(this._last),y}}_remove(y){if(y.prev!==_.Undefined&&y.next!==_.Undefined){const v=y.prev;v.next=y.next,y.next.prev=v}else y.prev===_.Undefined&&y.next===_.Undefined?(this._first=_.Undefined,this._last=_.Undefined):y.next===_.Undefined?(this._last=this._last.prev,this._last.next=_.Undefined):y.prev===_.Undefined&&(this._first=this._first.next,this._first.prev=_.Undefined);this._size-=1}*[Symbol.iterator](){let y=this._first;for(;y!==_.Undefined;)yield y.element,y=y.next}}},7838:(Ae,xe,L)=>{"use strict";L.d(xe,{Id:()=>x,Y9:()=>O,z6:()=>V});var h,ee,_=L(13088);class y{constructor(){this._value="",this._pos=0}reset(N){return this._value=N,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(N){return N.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class v{constructor(N=!0){this._caseSensitive=N}reset(N){return this._value=N,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let N=!0;for(;this._to<this._value.length;this._to++)if(46===this._value.charCodeAt(this._to)){if(!N)break;this._from++}else N=!1;return this}cmp(N){return this._caseSensitive?(0,_.TT)(N,this._value,0,N.length,this._from,this._to):(0,_.j_)(N,this._value,0,N.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Z{constructor(N=!0,A=!0){this._splitOnBackslash=N,this._caseSensitive=A}reset(N){this._from=0,this._to=0,this._value=N,this._valueLen=N.length;for(let A=N.length-1;A>=0;A--,this._valueLen--){const I=this._value.charCodeAt(A);if(!(47===I||this._splitOnBackslash&&92===I))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let N=!0;for(;this._to<this._valueLen;this._to++){const A=this._value.charCodeAt(this._to);if(47===A||this._splitOnBackslash&&92===A){if(!N)break;this._from++}else N=!1}return this}cmp(N){return this._caseSensitive?(0,_.TT)(N,this._value,0,N.length,this._from,this._to):(0,_.j_)(N,this._value,0,N.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class ${constructor(N){this._ignorePathCasing=N,this._states=[],this._stateIdx=0}reset(N){return this._value=N,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new Z(!1,!this._ignorePathCasing(N)),this._pathIterator.reset(N.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(N){if(1===this._states[this._stateIdx])return(0,_.zY)(N,this._value.scheme);if(2===this._states[this._stateIdx])return(0,_.zY)(N,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(N);if(4===this._states[this._stateIdx])return(0,_.qu)(N,this._value.query);if(5===this._states[this._stateIdx])return(0,_.qu)(N,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class B{constructor(){this.height=1}rotateLeft(){const N=this.right;return this.right=N.left,N.left=this,this.updateHeight(),N.updateHeight(),N}rotateRight(){const N=this.left;return this.left=N.right,N.right=this,this.updateHeight(),N.updateHeight(),N}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var N,A;return null!==(A=null===(N=this.left)||void 0===N?void 0:N.height)&&void 0!==A?A:0}get heightRight(){var N,A;return null!==(A=null===(N=this.right)||void 0===N?void 0:N.height)&&void 0!==A?A:0}}class x{constructor(N){this._iter=N}static forUris(N=(()=>!1)){return new x(new $(N))}static forStrings(){return new x(new y)}static forConfigKeys(){return new x(new v)}clear(){this._root=void 0}set(N,A){const I=this._iter.reset(N);let P;this._root||(this._root=new B,this._root.segment=I.value());const H=[];for(P=this._root;;){const T=I.cmp(P.segment);if(T>0)P.left||(P.left=new B,P.left.segment=I.value()),H.push([-1,P]),P=P.left;else if(T<0)P.right||(P.right=new B,P.right.segment=I.value()),H.push([1,P]),P=P.right;else{if(!I.hasNext())break;I.next(),P.mid||(P.mid=new B,P.mid.segment=I.value()),H.push([0,P]),P=P.mid}}const F=P.value;P.value=A,P.key=N;for(let T=H.length-1;T>=0;T--){const q=H[T][1];q.updateHeight();const Y=q.balanceFactor();if(Y<-1||Y>1){const te=H[T][0],me=H[T+1][0];if(1===te&&1===me)H[T][1]=q.rotateLeft();else if(-1===te&&-1===me)H[T][1]=q.rotateRight();else if(1===te&&-1===me)q.right=H[T+1][1]=H[T+1][1].rotateRight(),H[T][1]=q.rotateLeft();else{if(-1!==te||1!==me)throw new Error;q.left=H[T+1][1]=H[T+1][1].rotateLeft(),H[T][1]=q.rotateRight()}if(T>0)switch(H[T-1][0]){case-1:H[T-1][1].left=H[T][1];break;case 1:H[T-1][1].right=H[T][1];break;case 0:H[T-1][1].mid=H[T][1]}else this._root=H[0][1]}}return F}get(N){var A;return null===(A=this._getNode(N))||void 0===A?void 0:A.value}_getNode(N){const A=this._iter.reset(N);let I=this._root;for(;I;){const P=A.cmp(I.segment);if(P>0)I=I.left;else if(P<0)I=I.right;else{if(!A.hasNext())break;A.next(),I=I.mid}}return I}has(N){const A=this._getNode(N);return!(void 0===(null==A?void 0:A.value)&&void 0===(null==A?void 0:A.mid))}delete(N){return this._delete(N,!1)}deleteSuperstr(N){return this._delete(N,!0)}_delete(N,A){var I;const P=this._iter.reset(N),H=[];let F=this._root;for(;F;){const T=P.cmp(F.segment);if(T>0)H.push([-1,F]),F=F.left;else if(T<0)H.push([1,F]),F=F.right;else{if(!P.hasNext())break;P.next(),H.push([0,F]),F=F.mid}}if(F){if(A?(F.left=void 0,F.mid=void 0,F.right=void 0,F.height=1):(F.key=void 0,F.value=void 0),!F.mid&&!F.value)if(F.left&&F.right){const T=this._min(F.right),{key:q,value:Y,segment:te}=T;this._delete(T.key,!1),F.key=q,F.value=Y,F.segment=te}else{const T=null!==(I=F.left)&&void 0!==I?I:F.right;if(H.length>0){const[q,Y]=H[H.length-1];switch(q){case-1:Y.left=T;break;case 0:Y.mid=T;break;case 1:Y.right=T}}else this._root=T}for(let T=H.length-1;T>=0;T--){const q=H[T][1];q.updateHeight();const Y=q.balanceFactor();if(Y>1?(q.right.balanceFactor()>=0||(q.right=q.right.rotateRight()),H[T][1]=q.rotateLeft()):Y<-1&&(q.left.balanceFactor()<=0||(q.left=q.left.rotateLeft()),H[T][1]=q.rotateRight()),T>0)switch(H[T-1][0]){case-1:H[T-1][1].left=H[T][1];break;case 1:H[T-1][1].right=H[T][1];break;case 0:H[T-1][1].mid=H[T][1]}else this._root=H[0][1]}}}_min(N){for(;N.left;)N=N.left;return N}findSubstr(N){const A=this._iter.reset(N);let P,I=this._root;for(;I;){const H=A.cmp(I.segment);if(H>0)I=I.left;else if(H<0)I=I.right;else{if(!A.hasNext())break;A.next(),P=I.value||P,I=I.mid}}return I&&I.value||P}findSuperstr(N){const A=this._iter.reset(N);let I=this._root;for(;I;){const P=A.cmp(I.segment);if(P>0)I=I.left;else if(P<0)I=I.right;else{if(!A.hasNext())return I.mid?this._entries(I.mid):void 0;A.next(),I=I.mid}}}forEach(N){for(const[A,I]of this)N(I,A)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(N){!N||(N.left&&(yield*this._entries(N.left)),N.value&&(yield[N.key,N.value]),N.mid&&(yield*this._entries(N.mid)),N.right&&(yield*this._entries(N.right)))}}class R{constructor(N,A){this.uri=N,this.value=A}}let O=(()=>{class f{constructor(A,I){this[h]="ResourceMap",A instanceof f?(this.map=new Map(A.map),this.toKey=null!=I?I:f.defaultToKey):(this.map=new Map,this.toKey=null!=A?A:f.defaultToKey)}set(A,I){return this.map.set(this.toKey(A),new R(A,I)),this}get(A){var I;return null===(I=this.map.get(this.toKey(A)))||void 0===I?void 0:I.value}has(A){return this.map.has(this.toKey(A))}get size(){return this.map.size}clear(){this.map.clear()}delete(A){return this.map.delete(this.toKey(A))}forEach(A,I){void 0!==I&&(A=A.bind(I));for(let[P,H]of this.map)A(H.value,H.uri,this)}*values(){for(let A of this.map.values())yield A.value}*keys(){for(let A of this.map.values())yield A.uri}*entries(){for(let A of this.map.values())yield[A.uri,A.value]}*[(h=Symbol.toStringTag,Symbol.iterator)](){for(let[,A]of this.map)yield[A.uri,A.value]}}return f.defaultToKey=N=>N.toString(),f})();class b{constructor(){this[ee]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var N;return null===(N=this._head)||void 0===N?void 0:N.value}get last(){var N;return null===(N=this._tail)||void 0===N?void 0:N.value}has(N){return this._map.has(N)}get(N,A=0){const I=this._map.get(N);if(I)return 0!==A&&this.touch(I,A),I.value}set(N,A,I=0){let P=this._map.get(N);if(P)P.value=A,0!==I&&this.touch(P,I);else{switch(P={key:N,value:A,next:void 0,previous:void 0},I){case 0:case 2:default:this.addItemLast(P);break;case 1:this.addItemFirst(P)}this._map.set(N,P),this._size++}return this}delete(N){return!!this.remove(N)}remove(N){const A=this._map.get(N);if(A)return this._map.delete(N),this.removeItem(A),this._size--,A.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const N=this._head;return this._map.delete(N.key),this.removeItem(N),this._size--,N.value}forEach(N,A){const I=this._state;let P=this._head;for(;P;){if(A?N.bind(A)(P.value,P.key,this):N(P.value,P.key,this),this._state!==I)throw new Error("LinkedMap got modified during iteration.");P=P.next}}keys(){const N=this,A=this._state;let I=this._head;const P={[Symbol.iterator]:()=>P,next(){if(N._state!==A)throw new Error("LinkedMap got modified during iteration.");if(I){const H={value:I.key,done:!1};return I=I.next,H}return{value:void 0,done:!0}}};return P}values(){const N=this,A=this._state;let I=this._head;const P={[Symbol.iterator]:()=>P,next(){if(N._state!==A)throw new Error("LinkedMap got modified during iteration.");if(I){const H={value:I.value,done:!1};return I=I.next,H}return{value:void 0,done:!0}}};return P}entries(){const N=this,A=this._state;let I=this._head;const P={[Symbol.iterator]:()=>P,next(){if(N._state!==A)throw new Error("LinkedMap got modified during iteration.");if(I){const H={value:[I.key,I.value],done:!1};return I=I.next,H}return{value:void 0,done:!0}}};return P}[(ee=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(N){if(N>=this.size)return;if(0===N)return void this.clear();let A=this._head,I=this.size;for(;A&&I>N;)this._map.delete(A.key),A=A.next,I--;this._head=A,this._size=I,A&&(A.previous=void 0),this._state++}addItemFirst(N){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");N.next=this._head,this._head.previous=N}else this._tail=N;this._head=N,this._state++}addItemLast(N){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");N.previous=this._tail,this._tail.next=N}else this._head=N;this._tail=N,this._state++}removeItem(N){if(N===this._head&&N===this._tail)this._head=void 0,this._tail=void 0;else if(N===this._head){if(!N.next)throw new Error("Invalid list");N.next.previous=void 0,this._head=N.next}else if(N===this._tail){if(!N.previous)throw new Error("Invalid list");N.previous.next=void 0,this._tail=N.previous}else{const A=N.next,I=N.previous;if(!A||!I)throw new Error("Invalid list");A.previous=I,I.next=A}N.next=void 0,N.previous=void 0,this._state++}touch(N,A){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===A||2===A)if(1===A){if(N===this._head)return;const I=N.next,P=N.previous;N===this._tail?(P.next=void 0,this._tail=P):(I.previous=P,P.next=I),N.previous=void 0,N.next=this._head,this._head.previous=N,this._head=N,this._state++}else if(2===A){if(N===this._tail)return;const I=N.next,P=N.previous;N===this._head?(I.previous=void 0,this._head=I):(I.previous=P,P.next=I),N.next=void 0,N.previous=this._tail,this._tail.next=N,this._tail=N,this._state++}}toJSON(){const N=[];return this.forEach((A,I)=>{N.push([I,A])}),N}fromJSON(N){this.clear();for(const[A,I]of N)this.set(A,I)}}class V extends b{constructor(N,A=1){super(),this._limit=N,this._ratio=Math.min(Math.max(0,A),1)}get limit(){return this._limit}set limit(N){this._limit=N,this.checkTrim()}get(N,A=2){return super.get(N,A)}peek(N){return super.get(N,0)}set(N,A){return super.set(N,A,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},59341:(Ae,xe,L)=>{"use strict";L.d(xe,{v:()=>_});var _=(()=>{return(h=_||(_={})).text="text/plain",h.binary="application/octet-stream",h.unknown="application/unknown",h.markdown="text/markdown",h.latex="text/latex",_;var h})()},90278:(Ae,xe,L)=>{"use strict";L.d(xe,{Gi:()=>B,WX:()=>Z,lg:()=>ee});var _=L(38972),h=L(74672),ee=(()=>{return(x=ee||(ee={})).inMemory="inmemory",x.vscode="vscode",x.internal="private",x.walkThrough="walkThrough",x.walkThroughSnippet="walkThroughSnippet",x.http="http",x.https="https",x.file="file",x.mailto="mailto",x.untitled="untitled",x.data="data",x.command="command",x.vscodeRemote="vscode-remote",x.vscodeRemoteResource="vscode-remote-resource",x.userData="vscode-userdata",x.vscodeCustomEditor="vscode-custom-editor",x.vscodeNotebook="vscode-notebook",x.vscodeNotebookCell="vscode-notebook-cell",x.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",x.vscodeNotebookCellOutput="vscode-notebook-cell-output",x.vscodeInteractive="vscode-interactive",x.vscodeInteractiveInput="vscode-interactive-input",x.vscodeSettings="vscode-settings",x.vscodeWorkspaceTrust="vscode-workspace-trust",x.vscodeTerminal="vscode-terminal",x.webviewPanel="webview-panel",x.vscodeWebview="vscode-webview",x.extension="extension",x.vscodeFileResource="vscode-file",x.tmp="tmp",x.vsls="vsls",ee;var x})();const Z=new class v{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(R){this._preferredWebSchema=R}rewrite(R){if(this._delegate)return this._delegate(R);const O=R.authority;let b=this._hosts[O];b&&-1!==b.indexOf(":")&&(b=`[${b}]`);const V=this._ports[O],f=this._connectionTokens[O];let N=`path=${encodeURIComponent(R.path)}`;return"string"==typeof f&&(N+=`&tkn=${encodeURIComponent(f)}`),h.o.from({scheme:_.$L?this._preferredWebSchema:ee.vscodeRemoteResource,authority:`${b}:${V}`,path:"/vscode-remote-resource",query:N})}},B=new((()=>{class x{asBrowserUri(O,b){const V=this.toUri(O,b);return V.scheme===ee.vscodeRemote?Z.rewrite(V):V.scheme===ee.file&&(_.tY||"function"==typeof _.li.importScripts&&_.li.origin===`${ee.vscodeFileResource}://${x.FALLBACK_AUTHORITY}`)?V.with({scheme:ee.vscodeFileResource,authority:V.authority||x.FALLBACK_AUTHORITY,query:null,fragment:null}):V}toUri(O,b){return h.o.isUri(O)?O:h.o.parse(b.toUrl(O))}}return x.FALLBACK_AUTHORITY="vscode-app",x})())},85271:(Ae,xe,L)=>{"use strict";L.d(xe,{CJ:()=>x,I8:()=>h,_A:()=>ee,fS:()=>B,jB:()=>$});var _=L(54435);function h(R){if(!R||"object"!=typeof R||R instanceof RegExp)return R;const O=Array.isArray(R)?[]:{};return Object.keys(R).forEach(b=>{O[b]=R[b]&&"object"==typeof R[b]?h(R[b]):R[b]}),O}function ee(R){if(!R||"object"!=typeof R)return R;const O=[R];for(;O.length>0;){const b=O.shift();Object.freeze(b);for(const V in b)if(y.call(b,V)){const f=b[V];"object"==typeof f&&!Object.isFrozen(f)&&O.push(f)}}return R}const y=Object.prototype.hasOwnProperty;function $(R,O,b=!0){return(0,_.Kn)(R)?((0,_.Kn)(O)&&Object.keys(O).forEach(V=>{V in R?b&&((0,_.Kn)(R[V])&&(0,_.Kn)(O[V])?$(R[V],O[V],b):R[V]=O[V]):R[V]=O[V]}),R):O}function B(R,O){if(R===O)return!0;if(null==R||null==O||typeof R!=typeof O||"object"!=typeof R||Array.isArray(R)!==Array.isArray(O))return!1;let b,V;if(Array.isArray(R)){if(R.length!==O.length)return!1;for(b=0;b<R.length;b++)if(!B(R[b],O[b]))return!1}else{const f=[];for(V in R)f.push(V);f.sort();const N=[];for(V in O)N.push(V);if(N.sort(),!B(f,N))return!1;for(b=0;b<f.length;b++)if(!B(R[f[b]],O[f[b]]))return!1}return!0}function x(R,O,b){const V=O(R);return void 0===V?b:V}},34163:(Ae,xe,L)=>{"use strict";L.d(xe,{EZ:()=>Se,XX:()=>de,DZ:()=>Ve,Fv:()=>te,KR:()=>Y,Gf:()=>_e,DB:()=>me,ir:()=>ce,Ku:()=>q});var _=L(38972);let h;if(void 0!==_.li.vscode&&void 0!==_.li.vscode.process){const K=_.li.vscode.process;h={get platform(){return K.platform},get arch(){return K.arch},get env(){return K.env},cwd:()=>K.cwd()}}else h="undefined"!=typeof process?{get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd:()=>process.env.VSCODE_CWD||process.cwd()}:{get platform(){return _.ED?"win32":_.dz?"darwin":"linux"},get arch(){},get env(){return{}},cwd:()=>"/"};const ee=h.cwd,y=h.env,v=h.platform,R=46,O=47,b=92,V=58;class N extends Error{constructor(ie,oe,W){let w;"string"==typeof oe&&0===oe.indexOf("not ")?(w="must not be",oe=oe.replace(/^not /,"")):w="must be";const U=-1!==ie.indexOf(".")?"property":"argument";let D=`The "${ie}" ${U} ${w} of type ${oe}`;D+=". Received type "+typeof W,super(D),this.code="ERR_INVALID_ARG_TYPE"}}function A(K,ie){if("string"!=typeof K)throw new N(ie,"string",K)}function I(K){return K===O||K===b}function P(K){return K===O}function H(K){return K>=65&&K<=90||K>=97&&K<=122}function F(K,ie,oe,W){let w="",U=0,D=-1,z=0,ae=0;for(let ye=0;ye<=K.length;++ye){if(ye<K.length)ae=K.charCodeAt(ye);else{if(W(ae))break;ae=O}if(W(ae)){if(D!==ye-1&&1!==z)if(2===z){if(w.length<2||2!==U||w.charCodeAt(w.length-1)!==R||w.charCodeAt(w.length-2)!==R){if(w.length>2){const Ee=w.lastIndexOf(oe);-1===Ee?(w="",U=0):(w=w.slice(0,Ee),U=w.length-1-w.lastIndexOf(oe)),D=ye,z=0;continue}if(0!==w.length){w="",U=0,D=ye,z=0;continue}}ie&&(w+=w.length>0?`${oe}..`:"..",U=2)}else w.length>0?w+=`${oe}${K.slice(D+1,ye)}`:w=K.slice(D+1,ye),U=ye-D-1;D=ye,z=0}else ae===R&&-1!==z?++z:z=-1}return w}function T(K,ie){if(null===ie||"object"!=typeof ie)throw new N("pathObject","Object",ie);const oe=ie.dir||ie.root,W=ie.base||`${ie.name||""}${ie.ext||""}`;return oe?oe===ie.root?`${oe}${W}`:`${oe}${K}${W}`:W}const q={resolve(...K){let ie="",oe="",W=!1;for(let w=K.length-1;w>=-1;w--){let U;if(w>=0){if(U=K[w],A(U,"path"),0===U.length)continue}else 0===ie.length?U=ee():(U=y[`=${ie}`]||ee(),(void 0===U||U.slice(0,2).toLowerCase()!==ie.toLowerCase()&&U.charCodeAt(2)===b)&&(U=`${ie}\\`));const D=U.length;let z=0,ae="",ye=!1;const Ee=U.charCodeAt(0);if(1===D)I(Ee)&&(z=1,ye=!0);else if(I(Ee))if(ye=!0,I(U.charCodeAt(1))){let Me=2,Ke=Me;for(;Me<D&&!I(U.charCodeAt(Me));)Me++;if(Me<D&&Me!==Ke){const tt=U.slice(Ke,Me);for(Ke=Me;Me<D&&I(U.charCodeAt(Me));)Me++;if(Me<D&&Me!==Ke){for(Ke=Me;Me<D&&!I(U.charCodeAt(Me));)Me++;(Me===D||Me!==Ke)&&(ae=`\\\\${tt}\\${U.slice(Ke,Me)}`,z=Me)}}}else z=1;else H(Ee)&&U.charCodeAt(1)===V&&(ae=U.slice(0,2),z=2,D>2&&I(U.charCodeAt(2))&&(ye=!0,z=3));if(ae.length>0)if(ie.length>0){if(ae.toLowerCase()!==ie.toLowerCase())continue}else ie=ae;if(W){if(ie.length>0)break}else if(oe=`${U.slice(z)}\\${oe}`,W=ye,ye&&ie.length>0)break}return oe=F(oe,!W,"\\",I),W?`${ie}\\${oe}`:`${ie}${oe}`||"."},normalize(K){A(K,"path");const ie=K.length;if(0===ie)return".";let W,oe=0,w=!1;const U=K.charCodeAt(0);if(1===ie)return P(U)?"\\":K;if(I(U))if(w=!0,I(K.charCodeAt(1))){let z=2,ae=z;for(;z<ie&&!I(K.charCodeAt(z));)z++;if(z<ie&&z!==ae){const ye=K.slice(ae,z);for(ae=z;z<ie&&I(K.charCodeAt(z));)z++;if(z<ie&&z!==ae){for(ae=z;z<ie&&!I(K.charCodeAt(z));)z++;if(z===ie)return`\\\\${ye}\\${K.slice(ae)}\\`;z!==ae&&(W=`\\\\${ye}\\${K.slice(ae,z)}`,oe=z)}}}else oe=1;else H(U)&&K.charCodeAt(1)===V&&(W=K.slice(0,2),oe=2,ie>2&&I(K.charCodeAt(2))&&(w=!0,oe=3));let D=oe<ie?F(K.slice(oe),!w,"\\",I):"";return 0===D.length&&!w&&(D="."),D.length>0&&I(K.charCodeAt(ie-1))&&(D+="\\"),void 0===W?w?`\\${D}`:D:w?`${W}\\${D}`:`${W}${D}`},isAbsolute(K){A(K,"path");const ie=K.length;if(0===ie)return!1;const oe=K.charCodeAt(0);return I(oe)||ie>2&&H(oe)&&K.charCodeAt(1)===V&&I(K.charCodeAt(2))},join(...K){if(0===K.length)return".";let ie,oe;for(let U=0;U<K.length;++U){const D=K[U];A(D,"path"),D.length>0&&(void 0===ie?ie=oe=D:ie+=`\\${D}`)}if(void 0===ie)return".";let W=!0,w=0;if("string"==typeof oe&&I(oe.charCodeAt(0))){++w;const U=oe.length;U>1&&I(oe.charCodeAt(1))&&(++w,U>2&&(I(oe.charCodeAt(2))?++w:W=!1))}if(W){for(;w<ie.length&&I(ie.charCodeAt(w));)w++;w>=2&&(ie=`\\${ie.slice(w)}`)}return q.normalize(ie)},relative(K,ie){if(A(K,"from"),A(ie,"to"),K===ie)return"";const oe=q.resolve(K),W=q.resolve(ie);if(oe===W||(K=oe.toLowerCase())===(ie=W.toLowerCase()))return"";let w=0;for(;w<K.length&&K.charCodeAt(w)===b;)w++;let U=K.length;for(;U-1>w&&K.charCodeAt(U-1)===b;)U--;const D=U-w;let z=0;for(;z<ie.length&&ie.charCodeAt(z)===b;)z++;let ae=ie.length;for(;ae-1>z&&ie.charCodeAt(ae-1)===b;)ae--;const ye=ae-z,Ee=D<ye?D:ye;let Me=-1,Ke=0;for(;Ke<Ee;Ke++){const ht=K.charCodeAt(w+Ke);if(ht!==ie.charCodeAt(z+Ke))break;ht===b&&(Me=Ke)}if(Ke!==Ee){if(-1===Me)return W}else{if(ye>Ee){if(ie.charCodeAt(z+Ke)===b)return W.slice(z+Ke+1);if(2===Ke)return W.slice(z+Ke)}D>Ee&&(K.charCodeAt(w+Ke)===b?Me=Ke:2===Ke&&(Me=3)),-1===Me&&(Me=0)}let tt="";for(Ke=w+Me+1;Ke<=U;++Ke)(Ke===U||K.charCodeAt(Ke)===b)&&(tt+=0===tt.length?"..":"\\..");return z+=Me,tt.length>0?`${tt}${W.slice(z,ae)}`:(W.charCodeAt(z)===b&&++z,W.slice(z,ae))},toNamespacedPath(K){if("string"!=typeof K)return K;if(0===K.length)return"";const ie=q.resolve(K);if(ie.length<=2)return K;if(ie.charCodeAt(0)===b){if(ie.charCodeAt(1)===b){const oe=ie.charCodeAt(2);if(63!==oe&&oe!==R)return`\\\\?\\UNC\\${ie.slice(2)}`}}else if(H(ie.charCodeAt(0))&&ie.charCodeAt(1)===V&&ie.charCodeAt(2)===b)return`\\\\?\\${ie}`;return K},dirname(K){A(K,"path");const ie=K.length;if(0===ie)return".";let oe=-1,W=0;const w=K.charCodeAt(0);if(1===ie)return I(w)?K:".";if(I(w)){if(oe=W=1,I(K.charCodeAt(1))){let z=2,ae=z;for(;z<ie&&!I(K.charCodeAt(z));)z++;if(z<ie&&z!==ae){for(ae=z;z<ie&&I(K.charCodeAt(z));)z++;if(z<ie&&z!==ae){for(ae=z;z<ie&&!I(K.charCodeAt(z));)z++;if(z===ie)return K;z!==ae&&(oe=W=z+1)}}}}else H(w)&&K.charCodeAt(1)===V&&(oe=ie>2&&I(K.charCodeAt(2))?3:2,W=oe);let U=-1,D=!0;for(let z=ie-1;z>=W;--z)if(I(K.charCodeAt(z))){if(!D){U=z;break}}else D=!1;if(-1===U){if(-1===oe)return".";U=oe}return K.slice(0,U)},basename(K,ie){void 0!==ie&&A(ie,"ext"),A(K,"path");let U,oe=0,W=-1,w=!0;if(K.length>=2&&H(K.charCodeAt(0))&&K.charCodeAt(1)===V&&(oe=2),void 0!==ie&&ie.length>0&&ie.length<=K.length){if(ie===K)return"";let D=ie.length-1,z=-1;for(U=K.length-1;U>=oe;--U){const ae=K.charCodeAt(U);if(I(ae)){if(!w){oe=U+1;break}}else-1===z&&(w=!1,z=U+1),D>=0&&(ae===ie.charCodeAt(D)?-1==--D&&(W=U):(D=-1,W=z))}return oe===W?W=z:-1===W&&(W=K.length),K.slice(oe,W)}for(U=K.length-1;U>=oe;--U)if(I(K.charCodeAt(U))){if(!w){oe=U+1;break}}else-1===W&&(w=!1,W=U+1);return-1===W?"":K.slice(oe,W)},extname(K){A(K,"path");let ie=0,oe=-1,W=0,w=-1,U=!0,D=0;K.length>=2&&K.charCodeAt(1)===V&&H(K.charCodeAt(0))&&(ie=W=2);for(let z=K.length-1;z>=ie;--z){const ae=K.charCodeAt(z);if(I(ae)){if(!U){W=z+1;break}}else-1===w&&(U=!1,w=z+1),ae===R?-1===oe?oe=z:1!==D&&(D=1):-1!==oe&&(D=-1)}return-1===oe||-1===w||0===D||1===D&&oe===w-1&&oe===W+1?"":K.slice(oe,w)},format:T.bind(null,"\\"),parse(K){A(K,"path");const ie={root:"",dir:"",base:"",ext:"",name:""};if(0===K.length)return ie;const oe=K.length;let W=0,w=K.charCodeAt(0);if(1===oe)return I(w)?(ie.root=ie.dir=K,ie):(ie.base=ie.name=K,ie);if(I(w)){if(W=1,I(K.charCodeAt(1))){let Me=2,Ke=Me;for(;Me<oe&&!I(K.charCodeAt(Me));)Me++;if(Me<oe&&Me!==Ke){for(Ke=Me;Me<oe&&I(K.charCodeAt(Me));)Me++;if(Me<oe&&Me!==Ke){for(Ke=Me;Me<oe&&!I(K.charCodeAt(Me));)Me++;Me===oe?W=Me:Me!==Ke&&(W=Me+1)}}}}else if(H(w)&&K.charCodeAt(1)===V){if(oe<=2)return ie.root=ie.dir=K,ie;if(W=2,I(K.charCodeAt(2))){if(3===oe)return ie.root=ie.dir=K,ie;W=3}}W>0&&(ie.root=K.slice(0,W));let U=-1,D=W,z=-1,ae=!0,ye=K.length-1,Ee=0;for(;ye>=W;--ye)if(w=K.charCodeAt(ye),I(w)){if(!ae){D=ye+1;break}}else-1===z&&(ae=!1,z=ye+1),w===R?-1===U?U=ye:1!==Ee&&(Ee=1):-1!==U&&(Ee=-1);return-1!==z&&(-1===U||0===Ee||1===Ee&&U===z-1&&U===D+1?ie.base=ie.name=K.slice(D,z):(ie.name=K.slice(D,U),ie.base=K.slice(D,z),ie.ext=K.slice(U,z))),ie.dir=D>0&&D!==W?K.slice(0,D-1):ie.root,ie},sep:"\\",delimiter:";",win32:null,posix:null},Y={resolve(...K){let ie="",oe=!1;for(let W=K.length-1;W>=-1&&!oe;W--){const w=W>=0?K[W]:ee();A(w,"path"),0!==w.length&&(ie=`${w}/${ie}`,oe=w.charCodeAt(0)===O)}return ie=F(ie,!oe,"/",P),oe?`/${ie}`:ie.length>0?ie:"."},normalize(K){if(A(K,"path"),0===K.length)return".";const ie=K.charCodeAt(0)===O,oe=K.charCodeAt(K.length-1)===O;return 0===(K=F(K,!ie,"/",P)).length?ie?"/":oe?"./":".":(oe&&(K+="/"),ie?`/${K}`:K)},isAbsolute:K=>(A(K,"path"),K.length>0&&K.charCodeAt(0)===O),join(...K){if(0===K.length)return".";let ie;for(let oe=0;oe<K.length;++oe){const W=K[oe];A(W,"path"),W.length>0&&(void 0===ie?ie=W:ie+=`/${W}`)}return void 0===ie?".":Y.normalize(ie)},relative(K,ie){if(A(K,"from"),A(ie,"to"),K===ie||(K=Y.resolve(K))===(ie=Y.resolve(ie)))return"";const W=K.length,w=W-1,D=ie.length-1,z=w<D?w:D;let ae=-1,ye=0;for(;ye<z;ye++){const Me=K.charCodeAt(1+ye);if(Me!==ie.charCodeAt(1+ye))break;Me===O&&(ae=ye)}if(ye===z)if(D>z){if(ie.charCodeAt(1+ye)===O)return ie.slice(1+ye+1);if(0===ye)return ie.slice(1+ye)}else w>z&&(K.charCodeAt(1+ye)===O?ae=ye:0===ye&&(ae=0));let Ee="";for(ye=1+ae+1;ye<=W;++ye)(ye===W||K.charCodeAt(ye)===O)&&(Ee+=0===Ee.length?"..":"/..");return`${Ee}${ie.slice(1+ae)}`},toNamespacedPath:K=>K,dirname(K){if(A(K,"path"),0===K.length)return".";const ie=K.charCodeAt(0)===O;let oe=-1,W=!0;for(let w=K.length-1;w>=1;--w)if(K.charCodeAt(w)===O){if(!W){oe=w;break}}else W=!1;return-1===oe?ie?"/":".":ie&&1===oe?"//":K.slice(0,oe)},basename(K,ie){void 0!==ie&&A(ie,"ext"),A(K,"path");let U,oe=0,W=-1,w=!0;if(void 0!==ie&&ie.length>0&&ie.length<=K.length){if(ie===K)return"";let D=ie.length-1,z=-1;for(U=K.length-1;U>=0;--U){const ae=K.charCodeAt(U);if(ae===O){if(!w){oe=U+1;break}}else-1===z&&(w=!1,z=U+1),D>=0&&(ae===ie.charCodeAt(D)?-1==--D&&(W=U):(D=-1,W=z))}return oe===W?W=z:-1===W&&(W=K.length),K.slice(oe,W)}for(U=K.length-1;U>=0;--U)if(K.charCodeAt(U)===O){if(!w){oe=U+1;break}}else-1===W&&(w=!1,W=U+1);return-1===W?"":K.slice(oe,W)},extname(K){A(K,"path");let ie=-1,oe=0,W=-1,w=!0,U=0;for(let D=K.length-1;D>=0;--D){const z=K.charCodeAt(D);if(z!==O)-1===W&&(w=!1,W=D+1),z===R?-1===ie?ie=D:1!==U&&(U=1):-1!==ie&&(U=-1);else if(!w){oe=D+1;break}}return-1===ie||-1===W||0===U||1===U&&ie===W-1&&ie===oe+1?"":K.slice(ie,W)},format:T.bind(null,"/"),parse(K){A(K,"path");const ie={root:"",dir:"",base:"",ext:"",name:""};if(0===K.length)return ie;const oe=K.charCodeAt(0)===O;let W;oe?(ie.root="/",W=1):W=0;let w=-1,U=0,D=-1,z=!0,ae=K.length-1,ye=0;for(;ae>=W;--ae){const Ee=K.charCodeAt(ae);if(Ee!==O)-1===D&&(z=!1,D=ae+1),Ee===R?-1===w?w=ae:1!==ye&&(ye=1):-1!==w&&(ye=-1);else if(!z){U=ae+1;break}}if(-1!==D){const Ee=0===U&&oe?1:U;-1===w||0===ye||1===ye&&w===D-1&&w===U+1?ie.base=ie.name=K.slice(Ee,D):(ie.name=K.slice(Ee,w),ie.base=K.slice(Ee,D),ie.ext=K.slice(w,D))}return U>0?ie.dir=K.slice(0,U-1):oe&&(ie.dir="/"),ie},sep:"/",delimiter:":",win32:null,posix:null};Y.win32=q.win32=q,Y.posix=q.posix=Y;const te="win32"===v?q.normalize:Y.normalize,me="win32"===v?q.resolve:Y.resolve,_e="win32"===v?q.relative:Y.relative,de="win32"===v?q.dirname:Y.dirname,Se="win32"===v?q.basename:Y.basename,Ve="win32"===v?q.extname:Y.extname,ce="win32"===v?q.sep:Y.sep},38972:(Ae,xe,L)=>{"use strict";var _;L.d(xe,{$L:()=>te,ED:()=>F,G6:()=>w,IJ:()=>q,OS:()=>Ve,dz:()=>T,fn:()=>Se,gn:()=>me,i7:()=>oe,li:()=>N,r:()=>ie,tY:()=>Y,un:()=>U,vU:()=>W});const h="en";let O,f,ee=!1,y=!1,v=!1,Z=!1,$=!1,B=!1,x=!1,R=!1,b=null,V=null;const N="object"==typeof self?self:"object"==typeof global?global:{};let A;void 0!==N.vscode&&void 0!==N.vscode.process?A=N.vscode.process:"undefined"!=typeof process&&(A=process);const I="string"==typeof(null===(_=null==A?void 0:A.versions)||void 0===_?void 0:_.electron);if("object"!=typeof navigator||I&&"renderer"===(null==A?void 0:A.type))if("object"==typeof A){ee="win32"===A.platform,y="darwin"===A.platform,v="linux"===A.platform,Z=v&&!!A.env.SNAP&&!!A.env.SNAP_REVISION,x=I,O=h,b=h;const z=A.env.VSCODE_NLS_CONFIG;if(z)try{const ae=JSON.parse(z);O=ae.locale,b=ae.availableLanguages["*"]||h,V=ae._translationsConfigFile}catch(ae){}$=!0}else console.error("Unable to resolve platform.");else f=navigator.userAgent,ee=f.indexOf("Windows")>=0,y=f.indexOf("Macintosh")>=0,R=(f.indexOf("Macintosh")>=0||f.indexOf("iPad")>=0||f.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,v=f.indexOf("Linux")>=0,B=!0,O=navigator.language,b=O;let H=0;y?H=1:ee?H=3:v&&(H=2);const F=ee,T=y,q=v,Y=$,te=B,me=R,_e=f,Se=(()=>{if("function"==typeof N.postMessage&&!N.importScripts){let z=[];N.addEventListener("message",ye=>{if(ye.data&&ye.data.vscodeScheduleAsyncWork)for(let Ee=0,Me=z.length;Ee<Me;Ee++){const Ke=z[Ee];if(Ke.id===ye.data.vscodeScheduleAsyncWork)return z.splice(Ee,1),void Ke.callback()}});let ae=0;return ye=>{const Ee=++ae;z.push({id:Ee,callback:ye}),N.postMessage({vscodeScheduleAsyncWork:Ee},"*")}}return z=>setTimeout(z)})(),Ve=y||R?2:ee?1:3;let ce=!0,K=!1;function ie(){if(!K){K=!0;const z=new Uint8Array(2);z[0]=1,z[1]=2,ce=513===new Uint16Array(z.buffer)[0]}return ce}const oe=!!(_e&&_e.indexOf("Chrome")>=0),W=!!(_e&&_e.indexOf("Firefox")>=0),w=!!(!oe&&_e&&_e.indexOf("Safari")>=0),U=!!(_e&&_e.indexOf("Edg/")>=0);_e&&_e.indexOf("Android")},15151:(Ae,xe,L)=>{"use strict";L.d(xe,{AH:()=>F,EZ:()=>A,Vb:()=>Se});var _=L(25170),h=L(90278),ee=L(34163),y=L(38972),v=L(13088),Z=L(74672);function $(Ve){return(0,Z.q)(Ve,!0)}class B{constructor(ce){this._ignorePathCasing=ce}compare(ce,K,ie=!1){return ce===K?0:(0,v.qu)(this.getComparisonKey(ce,ie),this.getComparisonKey(K,ie))}isEqual(ce,K,ie=!1){return ce===K||!(!ce||!K)&&this.getComparisonKey(ce,ie)===this.getComparisonKey(K,ie)}getComparisonKey(ce,K=!1){return ce.with({path:this._ignorePathCasing(ce)?ce.path.toLowerCase():void 0,fragment:K?null:void 0}).toString()}isEqualOrParent(ce,K,ie=!1){if(ce.scheme===K.scheme){if(ce.scheme===h.lg.file)return _.KM($(ce),$(K),this._ignorePathCasing(ce))&&ce.query===K.query&&(ie||ce.fragment===K.fragment);if(te(ce.authority,K.authority))return _.KM(ce.path,K.path,this._ignorePathCasing(ce),"/")&&ce.query===K.query&&(ie||ce.fragment===K.fragment)}return!1}joinPath(ce,...K){return Z.o.joinPath(ce,...K)}basenameOrAuthority(ce){return A(ce)||ce.authority}basename(ce){return ee.KR.basename(ce.path)}extname(ce){return ee.KR.extname(ce.path)}dirname(ce){if(0===ce.path.length)return ce;let K;return ce.scheme===h.lg.file?K=Z.o.file(ee.XX($(ce))).path:(K=ee.KR.dirname(ce.path),ce.authority&&K.length&&47!==K.charCodeAt(0)&&(console.error(`dirname("${ce.toString})) resulted in a relative path`),K="/")),ce.with({path:K})}normalizePath(ce){if(!ce.path.length)return ce;let K;return K=ce.scheme===h.lg.file?Z.o.file(ee.Fv($(ce))).path:ee.KR.normalize(ce.path),ce.with({path:K})}relativePath(ce,K){if(ce.scheme!==K.scheme||!te(ce.authority,K.authority))return;if(ce.scheme===h.lg.file){const W=ee.Gf($(ce),$(K));return y.ED?_.ej(W):W}let ie=ce.path||"/",oe=K.path||"/";if(this._ignorePathCasing(ce)){let W=0;for(const w=Math.min(ie.length,oe.length);W<w&&(ie.charCodeAt(W)===oe.charCodeAt(W)||ie.charAt(W).toLowerCase()===oe.charAt(W).toLowerCase());W++);ie=oe.substr(0,W)+ie.substr(W)}return ee.KR.relative(ie,oe)}resolvePath(ce,K){if(ce.scheme===h.lg.file){const ie=Z.o.file(ee.DB($(ce),K));return ce.with({authority:ie.authority,path:ie.path})}return K=_.fn(K),ce.with({path:ee.KR.resolve(ce.path,K)})}isAbsolutePath(ce){return!!ce.path&&"/"===ce.path[0]}isEqualAuthority(ce,K){return ce===K||void 0!==ce&&void 0!==K&&(0,v.qq)(ce,K)}hasTrailingPathSeparator(ce,K=ee.ir){if(ce.scheme===h.lg.file){const ie=$(ce);return ie.length>_.yj(ie).length&&ie[ie.length-1]===K}{const ie=ce.path;return ie.length>1&&47===ie.charCodeAt(ie.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(ce.fsPath)}}removeTrailingPathSeparator(ce,K=ee.ir){return me(ce,K)?ce.with({path:ce.path.substr(0,ce.path.length-1)}):ce}addTrailingPathSeparator(ce,K=ee.ir){let ie=!1;if(ce.scheme===h.lg.file){const oe=$(ce);ie=void 0!==oe&&oe.length===_.yj(oe).length&&oe[oe.length-1]===K}else{K="/";const oe=ce.path;ie=1===oe.length&&47===oe.charCodeAt(oe.length-1)}return ie||me(ce,K)?ce:ce.with({path:ce.path+"/"})}}const x=new B(()=>!1),A=(new B(Ve=>Ve.scheme!==h.lg.file||!y.IJ),new B(Ve=>!0),x.isEqual.bind(x),x.isEqualOrParent.bind(x),x.getComparisonKey.bind(x),x.basenameOrAuthority.bind(x),x.basename.bind(x)),F=(x.extname.bind(x),x.dirname.bind(x),x.joinPath.bind(x),x.normalizePath.bind(x)),te=(x.relativePath.bind(x),x.resolvePath.bind(x),x.isAbsolutePath.bind(x),x.isEqualAuthority.bind(x)),me=x.hasTrailingPathSeparator.bind(x);var Se,Ve;x.removeTrailingPathSeparator.bind(x),x.addTrailingPathSeparator.bind(x),(Ve=Se||(Se={})).META_DATA_LABEL="label",Ve.META_DATA_DESCRIPTION="description",Ve.META_DATA_SIZE="size",Ve.META_DATA_MIME="mime",Ve.parseMetaData=function ce(K){const ie=new Map;K.path.substring(K.path.indexOf(";")+1,K.path.lastIndexOf(";")).split(";").forEach(w=>{const[U,D]=w.split(":");U&&D&&ie.set(U,D)});const W=K.path.substring(0,K.path.indexOf(";"));return W&&ie.set(Ve.META_DATA_MIME,W),ie}},17838:(Ae,xe,L)=>{"use strict";L.d(xe,{Rm:()=>y});var _=L(52787),h=L(52425);class ee{constructor(b,V,f,N,A,I,P){this._forceIntegerValues=b,this._scrollStateBrand=void 0,this._forceIntegerValues&&(V|=0,f|=0,N|=0,A|=0,I|=0,P|=0),this.rawScrollLeft=N,this.rawScrollTop=P,V<0&&(V=0),N+V>f&&(N=f-V),N<0&&(N=0),A<0&&(A=0),P+A>I&&(P=I-A),P<0&&(P=0),this.width=V,this.scrollWidth=f,this.scrollLeft=N,this.height=A,this.scrollHeight=I,this.scrollTop=P}equals(b){return this.rawScrollLeft===b.rawScrollLeft&&this.rawScrollTop===b.rawScrollTop&&this.width===b.width&&this.scrollWidth===b.scrollWidth&&this.scrollLeft===b.scrollLeft&&this.height===b.height&&this.scrollHeight===b.scrollHeight&&this.scrollTop===b.scrollTop}withScrollDimensions(b,V){return new ee(this._forceIntegerValues,void 0!==b.width?b.width:this.width,void 0!==b.scrollWidth?b.scrollWidth:this.scrollWidth,V?this.rawScrollLeft:this.scrollLeft,void 0!==b.height?b.height:this.height,void 0!==b.scrollHeight?b.scrollHeight:this.scrollHeight,V?this.rawScrollTop:this.scrollTop)}withScrollPosition(b){return new ee(this._forceIntegerValues,this.width,this.scrollWidth,void 0!==b.scrollLeft?b.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,void 0!==b.scrollTop?b.scrollTop:this.rawScrollTop)}createScrollEvent(b,V){return{inSmoothScrolling:V,oldWidth:b.width,oldScrollWidth:b.scrollWidth,oldScrollLeft:b.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:b.height,oldScrollHeight:b.scrollHeight,oldScrollTop:b.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:this.width!==b.width,scrollWidthChanged:this.scrollWidth!==b.scrollWidth,scrollLeftChanged:this.scrollLeft!==b.scrollLeft,heightChanged:this.height!==b.height,scrollHeightChanged:this.scrollHeight!==b.scrollHeight,scrollTopChanged:this.scrollTop!==b.scrollTop}}}class y extends h.JT{constructor(b){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new _.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=b.smoothScrollDuration,this._scheduleAtNextAnimationFrame=b.scheduleAtNextAnimationFrame,this._state=new ee(b.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(b){this._smoothScrollDuration=b}validateScrollPosition(b){return this._state.withScrollPosition(b)}getScrollDimensions(){return this._state}setScrollDimensions(b,V){const f=this._state.withScrollDimensions(b,V);this._setState(f,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(b){const V=this._state.withScrollPosition(b);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(V,!1)}setScrollPositionSmooth(b,V){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(b);if(this._smoothScrolling){const f=this._state.withScrollPosition(b={scrollLeft:void 0===b.scrollLeft?this._smoothScrolling.to.scrollLeft:b.scrollLeft,scrollTop:void 0===b.scrollTop?this._smoothScrolling.to.scrollTop:b.scrollTop});if(this._smoothScrolling.to.scrollLeft===f.scrollLeft&&this._smoothScrolling.to.scrollTop===f.scrollTop)return;let N;N=V?new B(this._smoothScrolling.from,f,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,f,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=N}else{const f=this._state.withScrollPosition(b);this._smoothScrolling=B.start(this._state,f,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const b=this._smoothScrolling.tick(),V=this._state.withScrollPosition(b);if(this._setState(V,!0),this._smoothScrolling){if(b.isDone)return this._smoothScrolling.dispose(),void(this._smoothScrolling=null);this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(b,V){const f=this._state;f.equals(b)||(this._state=b,this._onScroll.fire(this._state.createScrollEvent(f,V)))}}class v{constructor(b,V,f){this.scrollLeft=b,this.scrollTop=V,this.isDone=f}}function Z(O,b){const V=b-O;return function(f){return O+V*function R(O){return 1-function x(O){return Math.pow(O,3)}(1-O)}(f)}}class B{constructor(b,V,f,N){this.from=b,this.to=V,this.duration=N,this.startTime=f,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(b,V,f){if(Math.abs(b-V)>2.5*f){let A,I;return b<V?(A=b+.75*f,I=V-.75*f):(A=b-.75*f,I=V+.75*f),function $(O,b,V){return function(f){return f<V?O(f/V):b((f-V)/(1-V))}}(Z(b,A),Z(I,V),.33)}return Z(b,V)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(b){this.to=b.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(b){const V=(b-this.startTime)/this.duration;if(V<1){const f=this.scrollLeft(V),N=this.scrollTop(V);return new v(f,N,!1)}return new v(this.to.scrollLeft,this.to.scrollTop,!0)}combine(b,V,f){return B.start(b,V,f)}static start(b,V,f){f+=10;const N=Date.now()-10;return new B(b,V,N,f)}}},63570:(Ae,xe,L)=>{"use strict";L.d(xe,{Z:()=>ee});var _=L(13088),h=(()=>{return(y=h||(h={}))[y.Ignore=0]="Ignore",y[y.Info=1]="Info",y[y.Warning=2]="Warning",y[y.Error=3]="Error",h;var y})();!function(y){const v="error",Z="warning",B="info";y.fromValue=function R(b){return b?_.qq(v,b)?y.Error:_.qq(Z,b)||_.qq("warn",b)?y.Warning:_.qq(B,b)?y.Info:y.Ignore:y.Ignore},y.toString=function O(b){switch(b){case y.Error:return v;case y.Warning:return Z;case y.Info:return B;default:return"ignore"}}}(h||(h={}));const ee=h},41724:(Ae,xe,L)=>{"use strict";L.d(xe,{G:()=>ee});var _=L(38972);const h=_.li.performance&&"function"==typeof _.li.performance.now;class ee{constructor(v){this._highResolution=h&&v,this._startTime=this._now(),this._stopTime=-1}static create(v=!0){return new ee(v)}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?_.li.performance.now():Date.now()}}},13088:(Ae,xe,L)=>{"use strict";L.d(xe,{ZK:()=>Dt,W1:()=>D,vU:()=>Gt,Qe:()=>ht,c1:()=>_t,Mh:()=>Ve,P1:()=>ce,qu:()=>T,zY:()=>Y,TT:()=>q,j_:()=>te,rL:()=>oe,Ut:()=>Me,ab:()=>bt,Kw:()=>Ni,un:()=>b,GF:()=>f,qq:()=>de,YU:()=>$,ec:()=>B,LC:()=>P,WU:()=>Z,J_:()=>ye,V8:()=>H,oH:()=>$e,ZH:()=>W,$i:()=>tt,C8:()=>yt,m5:()=>y,K7:()=>St,ZG:()=>K,YK:()=>ie,mK:()=>me,df:()=>_e,ow:()=>F,j3:()=>R,vH:()=>z,HO:()=>ae,mr:()=>A,IO:()=>N,oL:()=>O,PJ:()=>Ji,uq:()=>I,ok:()=>Se,uS:()=>Ci});class h{constructor(Ge){this.executor=Ge,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(Ge){this._error=Ge}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}var ee;function y(De){return!De||"string"!=typeof De||0===De.trim().length}const v=/{(\d+)}/g;function Z(De,...Ge){return 0===Ge.length?De:De.replace(v,function(Je,gt){const Pt=parseInt(gt,10);return isNaN(Pt)||Pt<0||Pt>=Ge.length?Je:Ge[Pt]})}function $(De){return De.replace(/[<>&]/g,function(Ge){switch(Ge){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return Ge}})}function B(De){return De.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function R(De,Ge){if(!De||!Ge)return De;const Je=Ge.length;if(0===Je||0===De.length)return De;let gt=0;for(;De.indexOf(Ge,gt)===gt;)gt+=Je;return De.substring(gt)}function O(De,Ge){if(!De||!Ge)return De;const Je=Ge.length,gt=De.length;if(0===Je||0===gt)return De;let Pt=gt,ii=-1;for(;ii=De.lastIndexOf(Ge,Pt-1),-1!==ii&&ii+Je===Pt;){if(0===ii)return"";Pt=ii}return De.substring(0,Pt)}function b(De){return De.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function f(De,Ge,Je={}){if(!De)throw new Error("Cannot create regex from empty string");Ge||(De=B(De)),Je.wholeWord&&(/\B/.test(De.charAt(0))||(De="\\b"+De),/\B/.test(De.charAt(De.length-1))||(De+="\\b"));let gt="";return Je.global&&(gt+="g"),Je.matchCase||(gt+="i"),Je.multiline&&(gt+="m"),Je.unicode&&(gt+="u"),new RegExp(De,gt)}function N(De){return"^"!==De.source&&"^$"!==De.source&&"$"!==De.source&&"^\\s*$"!==De.source&&!(!De.exec("")||0!==De.lastIndex)}function A(De){return(De.global?"g":"")+(De.ignoreCase?"i":"")+(De.multiline?"m":"")+(De.unicode?"u":"")}function I(De){return De.split(/\r\n|\r|\n/)}function P(De){for(let Ge=0,Je=De.length;Ge<Je;Ge++){const gt=De.charCodeAt(Ge);if(32!==gt&&9!==gt)return Ge}return-1}function H(De,Ge=0,Je=De.length){for(let gt=Ge;gt<Je;gt++){const Pt=De.charCodeAt(gt);if(32!==Pt&&9!==Pt)return De.substring(Ge,gt)}return De.substring(Ge,Je)}function F(De,Ge=De.length-1){for(let Je=Ge;Je>=0;Je--){const gt=De.charCodeAt(Je);if(32!==gt&&9!==gt)return Je}return-1}function T(De,Ge){return De<Ge?-1:De>Ge?1:0}function q(De,Ge,Je=0,gt=De.length,Pt=0,ii=Ge.length){for(;Je<gt&&Pt<ii;Je++,Pt++){let Ii=De.charCodeAt(Je),Ue=Ge.charCodeAt(Pt);if(Ii<Ue)return-1;if(Ii>Ue)return 1}const mi=gt-Je,Li=ii-Pt;return mi<Li?-1:mi>Li?1:0}function Y(De,Ge){return te(De,Ge,0,De.length,0,Ge.length)}function te(De,Ge,Je=0,gt=De.length,Pt=0,ii=Ge.length){for(;Je<gt&&Pt<ii;Je++,Pt++){let Ii=De.charCodeAt(Je),Ue=Ge.charCodeAt(Pt);if(Ii===Ue)continue;if(Ii>=128||Ue>=128)return q(De.toLowerCase(),Ge.toLowerCase(),Je,gt,Pt,ii);me(Ii)&&(Ii-=32),me(Ue)&&(Ue-=32);const pi=Ii-Ue;if(0!==pi)return pi}const mi=gt-Je,Li=ii-Pt;return mi<Li?-1:mi>Li?1:0}function me(De){return De>=97&&De<=122}function _e(De){return De>=65&&De<=90}function de(De,Ge){return De.length===Ge.length&&0===te(De,Ge)}function Se(De,Ge){return!(Ge.length>De.length)&&0===te(De,Ge,0,Ge.length)}function Ve(De,Ge){let Je,gt=Math.min(De.length,Ge.length);for(Je=0;Je<gt;Je++)if(De.charCodeAt(Je)!==Ge.charCodeAt(Je))return Je;return gt}function ce(De,Ge){let Je,gt=Math.min(De.length,Ge.length);const Pt=De.length-1,ii=Ge.length-1;for(Je=0;Je<gt;Je++)if(De.charCodeAt(Pt-Je)!==Ge.charCodeAt(ii-Je))return Je;return gt}function K(De){return 55296<=De&&De<=56319}function ie(De){return 56320<=De&&De<=57343}function oe(De,Ge){return Ge-56320+(De-55296<<10)+65536}function W(De,Ge,Je){const gt=De.charCodeAt(Je);if(K(gt)&&Je+1<Ge){const Pt=De.charCodeAt(Je+1);if(ie(Pt))return oe(gt,Pt)}return gt}class U{constructor(Ge,Je=0){this._str=Ge,this._len=Ge.length,this._offset=Je}get offset(){return this._offset}setOffset(Ge){this._offset=Ge}prevCodePoint(){const Ge=function w(De,Ge){const Je=De.charCodeAt(Ge-1);if(ie(Je)&&Ge>1){const gt=De.charCodeAt(Ge-2);if(K(gt))return oe(gt,Je)}return Je}(this._str,this._offset);return this._offset-=Ge>=65536?2:1,Ge}nextCodePoint(){const Ge=W(this._str,this._len,this._offset);return this._offset+=Ge>=65536?2:1,Ge}eol(){return this._offset>=this._len}}class D{constructor(Ge,Je=0){this._iterator=new U(Ge,Je)}get offset(){return this._iterator.offset}nextGraphemeLength(){const Ge=oi.getInstance(),Je=this._iterator,gt=Je.offset;let Pt=Ge.getGraphemeBreakType(Je.nextCodePoint());for(;!Je.eol();){const ii=Je.offset,mi=Ge.getGraphemeBreakType(Je.nextCodePoint());if(yi(Pt,mi)){Je.setOffset(ii);break}Pt=mi}return Je.offset-gt}prevGraphemeLength(){const Ge=oi.getInstance(),Je=this._iterator,gt=Je.offset;let Pt=Ge.getGraphemeBreakType(Je.prevCodePoint());for(;Je.offset>0;){const ii=Je.offset,mi=Ge.getGraphemeBreakType(Je.prevCodePoint());if(yi(mi,Pt)){Je.setOffset(ii);break}Pt=mi}return gt-Je.offset}eol(){return this._iterator.eol()}}function z(De,Ge){return new D(De,Ge).nextGraphemeLength()}function ae(De,Ge){return new D(De,Ge).prevGraphemeLength()}function ye(De,Ge){Ge>0&&ie(De.charCodeAt(Ge))&&Ge--;const Je=Ge+z(De,Ge);return[Je-ae(De,Je),Je]}const Ee=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function Me(De){return Ee.test(De)}const Ke=/^[\t\n\r\x20-\x7E]*$/;function tt(De){return Ke.test(De)}const ht=/[\u2028\u2029]/;function bt(De){return ht.test(De)}function St(De){return De>=11904&&De<=55215||De>=63744&&De<=64255||De>=65281&&De<=65374}function yt(De){return De>=127462&&De<=127487||8986===De||8987===De||9200===De||9203===De||De>=9728&&De<=10175||11088===De||11093===De||De>=127744&&De<=128591||De>=128640&&De<=128764||De>=128992&&De<=129008||De>=129280&&De<=129535||De>=129648&&De<=129782}const _t=String.fromCharCode(65279);function Ci(De){return!!(De&&De.length>0&&65279===De.charCodeAt(0))}function Ni(De,Ge=!1){return!!De&&(Ge&&(De=De.replace(/\\./g,"")),De.toLowerCase()!==De)}function Ji(De){return De%=52,String.fromCharCode(De<26?97+De:65+De-26)}function yi(De,Ge){return 0===De?5!==Ge&&7!==Ge:!(2===De&&3===Ge||4!==De&&2!==De&&3!==De&&4!==Ge&&2!==Ge&&3!==Ge&&(8===De&&(8===Ge||9===Ge||11===Ge||12===Ge)||(11===De||9===De)&&(9===Ge||10===Ge)||(12===De||10===De)&&10===Ge||5===Ge||13===Ge||7===Ge||1===De||13===De&&14===Ge||6===De&&6===Ge))}let oi=(()=>{class De{constructor(){this._data=function Ot(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}()}static getInstance(){return De._INSTANCE||(De._INSTANCE=new De),De._INSTANCE}getGraphemeBreakType(Je){if(Je<32)return 10===Je?3:13===Je?2:4;if(Je<127)return 0;const gt=this._data,Pt=gt.length/3;let ii=1;for(;ii<=Pt;)if(Je<gt[3*ii])ii*=2;else{if(!(Je>gt[3*ii+1]))return gt[3*ii+2];ii=2*ii+1}return 0}}return De._INSTANCE=null,De})();function $e(De,Ge){if(0===De)return 0;const Je=function mt(De,Ge){const Je=new U(Ge,De);let gt=Je.prevCodePoint();for(;ct(gt)||65039===gt||8419===gt;){if(0===Je.offset)return;gt=Je.prevCodePoint()}if(!yt(gt))return;let Pt=Je.offset;return Pt>0&&8205===Je.prevCodePoint()&&(Pt=Je.offset),Pt}(De,Ge);if(void 0!==Je)return Je;const gt=new U(Ge,De);return gt.prevCodePoint(),gt.offset}function ct(De){return 127995<=De&&De<=127999}class Dt{constructor(Ge){this.confusableDictionary=Ge}static getInstance(Ge){return Dt.cache.get(Array.from(Ge))}static getLocales(){return Dt._locales.getValue()}isAmbiguous(Ge){return this.confusableDictionary.has(Ge)}getPrimaryConfusable(Ge){return this.confusableDictionary.get(Ge)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}ee=Dt,Dt.ambiguousCharacterData=new h(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),Dt.cache=new class _{constructor(Ge){this.computeFn=Ge,this.lastCache=void 0,this.lastArgKey=void 0}get(Ge){const Je=JSON.stringify(Ge);return this.lastArgKey!==Je&&(this.lastArgKey=Je,this.lastCache=this.computeFn(Ge)),this.lastCache}}(De=>{function Ge(Ue){const pi=new Map;for(let fi=0;fi<Ue.length;fi+=2)pi.set(Ue[fi],Ue[fi+1]);return pi}function gt(Ue,pi){if(!Ue)return pi;const fi=new Map;for(const[Be,Mi]of Ue)pi.has(Be)&&fi.set(Be,Mi);return fi}const Pt=ee.ambiguousCharacterData.getValue();let mi,ii=De.filter(Ue=>!Ue.startsWith("_")&&Ue in Pt);0===ii.length&&(ii=["_default"]);for(const Ue of ii)mi=gt(mi,Ge(Pt[Ue]));const Ii=function Je(Ue,pi){const fi=new Map(Ue);for(const[Be,Mi]of pi)fi.set(Be,Mi);return fi}(Ge(Pt._common),mi);return new Dt(Ii)}),Dt._locales=new h(()=>Object.keys(Dt.ambiguousCharacterData.getValue()).filter(De=>!De.startsWith("_")));class Gt{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(Gt.getRawData())),this._data}static isInvisibleCharacter(Ge){return Gt.getData().has(Ge)}static get codePoints(){return Gt.getData()}}Gt._data=void 0},54435:(Ae,xe,L)=>{"use strict";function h(H){return"string"==typeof H}function ee(H){return!("object"!=typeof H||null===H||Array.isArray(H)||H instanceof RegExp||H instanceof Date)}function y(H){return"number"==typeof H&&!isNaN(H)}function v(H){return!0===H||!1===H}function Z(H){return void 0===H}function $(H){return!B(H)}function B(H){return Z(H)||null===H}function x(H,F){if(!H)throw new Error(F?`Unexpected type, expected '${F}'`:"Unexpected type")}function O(H){return"function"==typeof H}function b(H,F){const T=Math.min(H.length,F.length);for(let q=0;q<T;q++)V(H[q],F[q])}function V(H,F){if(h(F)){if(typeof H!==F)throw new Error(`argument does not match constraint: typeof ${F}`)}else if(O(F)){try{if(H instanceof F)return}catch(T){}if(!B(H)&&H.constructor===F||1===F.length&&!0===F.call(void 0,H))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function N(H){const F=[];for(const T of function f(H){let F=[],T=Object.getPrototypeOf(H);for(;Object.prototype!==T;)F=F.concat(Object.getOwnPropertyNames(T)),T=Object.getPrototypeOf(T);return F}(H))"function"==typeof H[T]&&F.push(T);return F}function A(H,F){const T=Y=>function(){const te=Array.prototype.slice.call(arguments,0);return F(Y,te)};let q={};for(const Y of H)q[Y]=T(Y);return q}function I(H){return null===H?void 0:H}function P(H,F="Unreachable"){throw new Error(F)}L.d(xe,{$E:()=>N,$K:()=>$,D8:()=>b,HD:()=>h,IU:()=>A,Jp:()=>B,Kn:()=>ee,f6:()=>I,hj:()=>y,jn:()=>v,mf:()=>O,o8:()=>Z,p_:()=>x,vE:()=>P})},45129:(Ae,xe,L)=>{"use strict";function _(ee){return ee<0?0:ee>255?255:0|ee}function h(ee){return ee<0?0:ee>4294967295?4294967295:0|ee}L.d(xe,{A:()=>h,K:()=>_})},74672:(Ae,xe,L)=>{"use strict";L.d(xe,{o:()=>b,q:()=>P});var _=L(34163),h=L(38972);const ee=/^\w[\w\d+.-]*$/,y=/^\//,v=/^\/\//;function Z(Y,te){if(!Y.scheme&&te)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${Y.authority}", path: "${Y.path}", query: "${Y.query}", fragment: "${Y.fragment}"}`);if(Y.scheme&&!ee.test(Y.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(Y.path)if(Y.authority){if(!y.test(Y.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(v.test(Y.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const x="",R="/",O=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class b{constructor(te,me,_e,de,Se,Ve=!1){"object"==typeof te?(this.scheme=te.scheme||x,this.authority=te.authority||x,this.path=te.path||x,this.query=te.query||x,this.fragment=te.fragment||x):(this.scheme=function $(Y,te){return Y||te?Y:"file"}(te,Ve),this.authority=me||x,this.path=function B(Y,te){switch(Y){case"https":case"http":case"file":te?te[0]!==R&&(te=R+te):te=R}return te}(this.scheme,_e||x),this.query=de||x,this.fragment=Se||x,Z(this,Ve))}static isUri(te){return te instanceof b||!!te&&"string"==typeof te.authority&&"string"==typeof te.fragment&&"string"==typeof te.path&&"string"==typeof te.query&&"string"==typeof te.scheme&&"string"==typeof te.fsPath&&"function"==typeof te.with&&"function"==typeof te.toString}get fsPath(){return P(this,!1)}with(te){if(!te)return this;let{scheme:me,authority:_e,path:de,query:Se,fragment:Ve}=te;return void 0===me?me=this.scheme:null===me&&(me=x),void 0===_e?_e=this.authority:null===_e&&(_e=x),void 0===de?de=this.path:null===de&&(de=x),void 0===Se?Se=this.query:null===Se&&(Se=x),void 0===Ve?Ve=this.fragment:null===Ve&&(Ve=x),me===this.scheme&&_e===this.authority&&de===this.path&&Se===this.query&&Ve===this.fragment?this:new f(me,_e,de,Se,Ve)}static parse(te,me=!1){const _e=O.exec(te);return _e?new f(_e[2]||x,q(_e[4]||x),q(_e[5]||x),q(_e[7]||x),q(_e[9]||x),me):new f(x,x,x,x,x)}static file(te){let me=x;if(h.ED&&(te=te.replace(/\\/g,R)),te[0]===R&&te[1]===R){const _e=te.indexOf(R,2);-1===_e?(me=te.substring(2),te=R):(me=te.substring(2,_e),te=te.substring(_e)||R)}return new f("file",me,te,x,x)}static from(te){const me=new f(te.scheme,te.authority,te.path,te.query,te.fragment);return Z(me,!0),me}static joinPath(te,...me){if(!te.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let _e;return _e=h.ED&&"file"===te.scheme?b.file(_.Ku.join(P(te,!0),...me)).path:_.KR.join(te.path,...me),te.with({path:_e})}toString(te=!1){return H(this,te)}toJSON(){return this}static revive(te){if(te){if(te instanceof b)return te;{const me=new f(te);return me._formatted=te.external,me._fsPath=te._sep===V?te.fsPath:null,me}}return te}}const V=h.ED?1:void 0;class f extends b{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=P(this,!1)),this._fsPath}toString(te=!1){return te?H(this,!0):(this._formatted||(this._formatted=H(this,!1)),this._formatted)}toJSON(){const te={$mid:1};return this._fsPath&&(te.fsPath=this._fsPath,te._sep=V),this._formatted&&(te.external=this._formatted),this.path&&(te.path=this.path),this.scheme&&(te.scheme=this.scheme),this.authority&&(te.authority=this.authority),this.query&&(te.query=this.query),this.fragment&&(te.fragment=this.fragment),te}}const N={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function A(Y,te){let me,_e=-1;for(let de=0;de<Y.length;de++){const Se=Y.charCodeAt(de);if(Se>=97&&Se<=122||Se>=65&&Se<=90||Se>=48&&Se<=57||45===Se||46===Se||95===Se||126===Se||te&&47===Se)-1!==_e&&(me+=encodeURIComponent(Y.substring(_e,de)),_e=-1),void 0!==me&&(me+=Y.charAt(de));else{void 0===me&&(me=Y.substr(0,de));const Ve=N[Se];void 0!==Ve?(-1!==_e&&(me+=encodeURIComponent(Y.substring(_e,de)),_e=-1),me+=Ve):-1===_e&&(_e=de)}}return-1!==_e&&(me+=encodeURIComponent(Y.substring(_e))),void 0!==me?me:Y}function I(Y){let te;for(let me=0;me<Y.length;me++){const _e=Y.charCodeAt(me);35===_e||63===_e?(void 0===te&&(te=Y.substr(0,me)),te+=N[_e]):void 0!==te&&(te+=Y[me])}return void 0!==te?te:Y}function P(Y,te){let me;return me=Y.authority&&Y.path.length>1&&"file"===Y.scheme?`//${Y.authority}${Y.path}`:47===Y.path.charCodeAt(0)&&(Y.path.charCodeAt(1)>=65&&Y.path.charCodeAt(1)<=90||Y.path.charCodeAt(1)>=97&&Y.path.charCodeAt(1)<=122)&&58===Y.path.charCodeAt(2)?te?Y.path.substr(1):Y.path[1].toLowerCase()+Y.path.substr(2):Y.path,h.ED&&(me=me.replace(/\//g,"\\")),me}function H(Y,te){const me=te?I:A;let _e="",{scheme:de,authority:Se,path:Ve,query:ce,fragment:K}=Y;if(de&&(_e+=de,_e+=":"),(Se||"file"===de)&&(_e+=R,_e+=R),Se){let ie=Se.indexOf("@");if(-1!==ie){const oe=Se.substr(0,ie);Se=Se.substr(ie+1),ie=oe.indexOf(":"),-1===ie?_e+=me(oe,!1):(_e+=me(oe.substr(0,ie),!1),_e+=":",_e+=me(oe.substr(ie+1),!1)),_e+="@"}Se=Se.toLowerCase(),ie=Se.indexOf(":"),-1===ie?_e+=me(Se,!1):(_e+=me(Se.substr(0,ie),!1),_e+=Se.substr(ie))}if(Ve){if(Ve.length>=3&&47===Ve.charCodeAt(0)&&58===Ve.charCodeAt(2)){const ie=Ve.charCodeAt(1);ie>=65&&ie<=90&&(Ve=`/${String.fromCharCode(ie+32)}:${Ve.substr(3)}`)}else if(Ve.length>=2&&58===Ve.charCodeAt(1)){const ie=Ve.charCodeAt(0);ie>=65&&ie<=90&&(Ve=`${String.fromCharCode(ie+32)}:${Ve.substr(2)}`)}_e+=me(Ve,!0)}return ce&&(_e+="?",_e+=me(ce,!1)),K&&(_e+="#",_e+=te?K:A(K,!1)),_e}function F(Y){try{return decodeURIComponent(Y)}catch(te){return Y.length>3?Y.substr(0,3)+F(Y.substr(3)):Y}}const T=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function q(Y){return Y.match(T)?Y.replace(T,te=>F(te)):Y}},73384:(Ae,xe,L)=>{"use strict";L.d(xe,{H:()=>f});var _=L(15861),h=L(68349),ee=Object.defineProperty,y=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,Z=Object.prototype.hasOwnProperty,B={};((N,A,I,P)=>{if(A&&"object"==typeof A||"function"==typeof A)for(let H of v(A))!Z.call(N,H)&&"default"!==H&&ee(N,H,{get:()=>A[H],enumerable:!(P=y(A,H))||P.enumerable})})(B,h);var x={},R={},O=class{constructor(N){Zi(this,"_languageId"),Zi(this,"_loadingTriggered"),Zi(this,"_lazyLoadPromise"),Zi(this,"_lazyLoadPromiseResolve"),Zi(this,"_lazyLoadPromiseReject"),this._languageId=N,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((A,I)=>{this._lazyLoadPromiseResolve=A,this._lazyLoadPromiseReject=I})}static getOrCreate(N){return R[N]||(R[N]=new O(N)),R[N]}load(){return this._loadingTriggered||(this._loadingTriggered=!0,x[this._languageId].loader().then(N=>this._lazyLoadPromiseResolve(N),N=>this._lazyLoadPromiseReject(N))),this._lazyLoadPromise}};function f(N){const A=N.id;x[A]=N,B.languages.register(N);const I=O.getOrCreate(A);var P;B.languages.registerTokensProviderFactory(A,{create:(P=(0,_.Z)(function*(){return(yield I.load()).language}),function(){return P.apply(this,arguments)})}),B.languages.onLanguage(A,(0,_.Z)(function*(){const P=yield I.load();B.languages.setLanguageConfiguration(A,P.conf)}))}},8820:(Ae,xe,L)=>{"use strict";L.r(xe),(0,L(73384).H)({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>L.e(6982).then(L.bind(L,36982))})},36429:(Ae,xe,L)=>{"use strict";L.r(xe),(0,L(73384).H)({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>L.e(6073).then(L.bind(L,66073))})},13168:(Ae,xe,L)=>{"use strict";L.r(xe),(0,L(73384).H)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>Promise.all([L.e(8592),L.e(4121)]).then(L.bind(L,14121))})},97491:(Ae,xe,L)=>{"use strict";L.r(xe),(0,L(73384).H)({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>L.e(4118).then(L.bind(L,4118))})},57862:(Ae,xe,L)=>{"use strict";L.r(xe),(0,L(73384).H)({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>L.e(8592).then(L.bind(L,61696))})},47462:(Ae,xe,L)=>{"use strict";L.d(xe,{Fz:()=>N,Nl:()=>V,RA:()=>b,Tj:()=>I,pd:()=>O});var _=L(13366),h=L(58059),ee=L(74616),y=L(63072),v=L(52787),Z=L(52425),$=L(59341),B=L(13088),x=L(62562),R=L(43210),O=(()=>((O||(O={})).Tap="-monaco-textarea-synthetic-tap",O))();const b={forceCopyWithSyntaxHighlighting:!1};class V{constructor(){this._lastState=null}set(H,F){this._lastState={lastCopiedValue:H,data:F}}get(H){return this._lastState&&this._lastState.lastCopiedValue===H?this._lastState.data:(this._lastState=null,null)}}V.INSTANCE=new V;class f{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(H){const F={text:H=H||"",replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=H.length,F}}class N extends Z.JT{constructor(H,F,T,q){super(),this._host=H,this._textArea=F,this._OS=T,this._browser=q,this._onFocus=this._register(new v.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new v.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new v.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new v.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new v.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new v.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new v.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new v.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new v.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new v.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new v.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new y.pY(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new y.pY(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=x.un.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let Y=null;this._register(this._textArea.onKeyDown(te=>{const me=new ee.y(te);(109===me.keyCode||this._currentComposition&&1===me.keyCode)&&me.stopPropagation(),me.equals(9)&&me.preventDefault(),Y=me,this._onKeyDown.fire(me)})),this._register(this._textArea.onKeyUp(te=>{const me=new ee.y(te);this._onKeyUp.fire(me)})),this._register(this._textArea.onCompositionStart(te=>{x.al&&console.log("[compositionstart]",te);const me=new f;if(!this._currentComposition)return this._currentComposition=me,2===this._OS&&Y&&Y.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===te.data&&("ArrowRight"===Y.code||"ArrowLeft"===Y.code)?(x.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",te),me.handleCompositionUpdate("x"),void this._onCompositionStart.fire({data:te.data})):void this._onCompositionStart.fire({data:te.data});this._currentComposition=me})),this._register(this._textArea.onCompositionUpdate(te=>{x.al&&console.log("[compositionupdate]",te);const me=this._currentComposition;if(!me)return;if(this._browser.isAndroid){const de=x.un.readFromTextArea(this._textArea),Se=x.un.deduceAndroidCompositionInput(this._textAreaState,de);return this._textAreaState=de,this._onType.fire(Se),void this._onCompositionUpdate.fire(te)}const _e=me.handleCompositionUpdate(te.data);this._textAreaState=x.un.readFromTextArea(this._textArea),this._onType.fire(_e),this._onCompositionUpdate.fire(te)})),this._register(this._textArea.onCompositionEnd(te=>{x.al&&console.log("[compositionend]",te);const me=this._currentComposition;if(!me)return;if(this._currentComposition=null,this._browser.isAndroid){const de=x.un.readFromTextArea(this._textArea),Se=x.un.deduceAndroidCompositionInput(this._textAreaState,de);return this._textAreaState=de,this._onType.fire(Se),void this._onCompositionEnd.fire()}const _e=me.handleCompositionUpdate(te.data);this._textAreaState=x.un.readFromTextArea(this._textArea),this._onType.fire(_e),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(te=>{if(x.al&&console.log("[input]",te),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const me=x.un.readFromTextArea(this._textArea),_e=x.un.deduceInput(this._textAreaState,me,2===this._OS);0===_e.replacePrevCharCnt&&1===_e.text.length&&B.ZG(_e.text.charCodeAt(0))||(this._textAreaState=me,(""!==_e.text||0!==_e.replacePrevCharCnt||0!==_e.replaceNextCharCnt||0!==_e.positionDelta)&&this._onType.fire(_e))})),this._register(this._textArea.onCut(te=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(te),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(te=>{this._ensureClipboardGetsEditorSelection(te)})),this._register(this._textArea.onPaste(te=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),te.preventDefault(),!te.clipboardData)return;let[me,_e]=A.getTextData(te.clipboardData);!me||(_e=_e||V.INSTANCE.get(me),this._onPaste.fire({text:me,metadata:_e}))})),this._register(this._textArea.onFocus(()=>{const te=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!te&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let H=0;return h.nm(document,"selectionchange",F=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const T=Date.now(),q=T-H;if(H=T,q<5)return;const Y=T-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),Y<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const te=this._textArea.getValue();if(this._textAreaState.value!==te)return;const me=this._textArea.getSelectionStart(),_e=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===me&&this._textAreaState.selectionEnd===_e)return;const de=this._textAreaState.deduceEditorPosition(me),Se=this._host.deduceModelPosition(de[0],de[1],de[2]),Ve=this._textAreaState.deduceEditorPosition(_e),ce=this._host.deduceModelPosition(Ve[0],Ve[1],Ve[2]),K=new R.Y(Se.lineNumber,Se.column,ce.lineNumber,ce.column);this._onSelectionChangeRequest.fire(K)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(H){this._hasFocus!==H&&(this._hasFocus=H,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(H,F){this._hasFocus||(F=F.collapseSelection()),F.writeToTextArea(H,this._textArea,this._hasFocus),this._textAreaState=F}writeScreenReaderContent(H){this._currentComposition||this._setAndWriteTextAreaState(H,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(H){const F=this._host.getDataToCopy(),T={version:1,isFromEmptySelection:F.isFromEmptySelection,multicursorText:F.multicursorText,mode:F.mode};V.INSTANCE.set(this._browser.isFirefox?F.text.replace(/\r\n/g,"\n"):F.text,T),H.preventDefault(),H.clipboardData&&A.setTextData(H.clipboardData,F.text,F.html,T)}}class A{static getTextData(H){const F=H.getData($.v.text);let T=null;const q=H.getData("vscode-editor-data");if("string"==typeof q)try{T=JSON.parse(q),1!==T.version&&(T=null)}catch(Y){}return[F,T]}static setTextData(H,F,T,q){H.setData($.v.text,F),"string"==typeof T&&H.setData("text/html",T),H.setData("vscode-editor-data",JSON.stringify(q))}}class I extends Z.JT{constructor(H){super(),this._actual=H,this.onKeyDown=this._register(h.IC(this._actual,"keydown")).event,this.onKeyUp=this._register(h.IC(this._actual,"keyup")).event,this.onCompositionStart=this._register(h.IC(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(h.IC(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(h.IC(this._actual,"compositionend")).event,this.onInput=this._register(h.IC(this._actual,"input")).event,this.onCut=this._register(h.IC(this._actual,"cut")).event,this.onCopy=this._register(h.IC(this._actual,"copy")).event,this.onPaste=this._register(h.IC(this._actual,"paste")).event,this.onFocus=this._register(h.IC(this._actual,"focus")).event,this.onBlur=this._register(h.IC(this._actual,"blur")).event,this._onSyntheticTap=this._register(new v.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(h.nm(this._actual,O.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const H=h.Ay(this._actual);return H?H.activeElement===this._actual:!!h.Uw(this._actual)&&document.activeElement===this._actual}setIgnoreSelectionChangeTime(H){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(H,F){const T=this._actual;T.value!==F&&(this.setIgnoreSelectionChangeTime("setValue"),T.value=F)}getSelectionStart(){return"backward"===this._actual.selectionDirection?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return"backward"===this._actual.selectionDirection?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(H,F,T){const q=this._actual;let Y=null;const te=h.Ay(q);Y=te?te.activeElement:document.activeElement;const me=Y===q;if(me&&q.selectionStart===F&&q.selectionEnd===T)_.isFirefox&&window.parent!==window&&q.focus();else{if(me)return this.setIgnoreSelectionChangeTime("setSelectionRange"),q.setSelectionRange(F,T),void(_.isFirefox&&window.parent!==window&&q.focus());try{const Se=h.vL(q);this.setIgnoreSelectionChangeTime("setSelectionRange"),q.focus(),q.setSelectionRange(F,T),h._0(q,Se)}catch(Se){}}}}},62562:(Ae,xe,L)=>{"use strict";L.d(xe,{al:()=>y,ee:()=>Z,un:()=>v});var _=L(13088),h=L(94220),ee=L(68451);const y=!1;class v{constructor(B,x,R,O,b){this.value=B,this.selectionStart=x,this.selectionEnd=R,this.selectionStartPosition=O,this.selectionEndPosition=b}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(B){return new v(B.getValue(),B.getSelectionStart(),B.getSelectionEnd(),null,null)}collapseSelection(){return new v(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(B,x,R){y&&console.log(`writeToTextArea ${B}: ${this.toString()}`),x.setValue(B,this.value),R&&x.setSelectionRange(B,this.selectionStart,this.selectionEnd)}deduceEditorPosition(B){if(B<=this.selectionStart){const O=this.value.substring(B,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,O,-1)}if(B>=this.selectionEnd){const O=this.value.substring(this.selectionEnd,B);return this._finishDeduceEditorPosition(this.selectionEndPosition,O,1)}const x=this.value.substring(this.selectionStart,B);if(-1===x.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,x,1);const R=this.value.substring(B,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,R,-1)}_finishDeduceEditorPosition(B,x,R){let O=0,b=-1;for(;-1!==(b=x.indexOf("\n",b+1));)O++;return[B,R*x.length,O]}static deduceInput(B,x,R){if(!B)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};y&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${B.toString()}`),console.log(`CURRENT STATE: ${x.toString()}`));const O=Math.min(_.Mh(B.value,x.value),B.selectionStart,x.selectionStart),b=Math.min(_.P1(B.value,x.value),B.value.length-B.selectionEnd,x.value.length-x.selectionEnd),V=B.value.substring(O,B.value.length-b),f=x.value.substring(O,x.value.length-b),N=B.selectionStart-O,A=B.selectionEnd-O,I=x.selectionStart-O,P=x.selectionEnd-O;if(y&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${V}>, selectionStart: ${N}, selectionEnd: ${A}`),console.log(`AFTER DIFFING CURRENT STATE: <${f}>, selectionStart: ${I}, selectionEnd: ${P}`)),I===P){const F=B.selectionStart-O;return y&&console.log(`REMOVE PREVIOUS: ${F} chars`),{text:f,replacePrevCharCnt:F,replaceNextCharCnt:0,positionDelta:0}}return{text:f,replacePrevCharCnt:A-N,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(B,x){if(!B)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(y&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${B.toString()}`),console.log(`CURRENT STATE: ${x.toString()}`)),B.value===x.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:x.selectionEnd-B.selectionEnd};const R=Math.min(_.Mh(B.value,x.value),B.selectionEnd),O=Math.min(_.P1(B.value,x.value),B.value.length-B.selectionEnd),b=B.value.substring(R,B.value.length-O),V=x.value.substring(R,x.value.length-O),N=B.selectionEnd-R,A=x.selectionStart-R,I=x.selectionEnd-R;return y&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${b}>, selectionStart: ${B.selectionStart-R}, selectionEnd: ${N}`),console.log(`AFTER DIFFING CURRENT STATE: <${V}>, selectionStart: ${A}, selectionEnd: ${I}`)),{text:V,replacePrevCharCnt:N,replaceNextCharCnt:b.length-N,positionDelta:I-V.length}}}v.EMPTY=new v("",0,0,null,null);class Z{static _getPageOfLine(B,x){return Math.floor((B-1)/x)}static _getRangeForPage(B,x){const R=B*x;return new ee.e(R+1,1,R+x+1,1)}static fromEditorSelection(B,x,R,O,b){const V=Z._getPageOfLine(R.startLineNumber,O),f=Z._getRangeForPage(V,O),N=Z._getPageOfLine(R.endLineNumber,O),A=Z._getRangeForPage(N,O),I=f.intersectRanges(new ee.e(1,1,R.startLineNumber,R.startColumn));let P=x.getValueInRange(I,1);const H=x.getLineCount(),F=x.getLineMaxColumn(H),T=A.intersectRanges(new ee.e(R.endLineNumber,R.endColumn,H,F));let Y,q=x.getValueInRange(T,1);if(V===N||V+1===N)Y=x.getValueInRange(R,1);else{const te=f.intersectRanges(R),me=A.intersectRanges(R);Y=x.getValueInRange(te,1)+String.fromCharCode(8230)+x.getValueInRange(me,1)}return b&&(P.length>500&&(P=P.substring(P.length-500,P.length)),q.length>500&&(q=q.substring(0,500)),Y.length>1e3&&(Y=Y.substring(0,500)+String.fromCharCode(8230)+Y.substring(Y.length-500,Y.length))),new v(P+Y+q,P.length,P.length+Y.length,new h.L(R.startLineNumber,R.startColumn),new h.L(R.endLineNumber,R.endColumn))}}},95172:(Ae,xe,L)=>{"use strict";L.d(xe,{AJ:()=>N,Qr:()=>Y,R6:()=>P,Sq:()=>oe,Uc:()=>de,_K:()=>_e,_l:()=>I,fK:()=>q,jY:()=>H,kz:()=>ie,mY:()=>f,n_:()=>K,rn:()=>te});var de,W,_=L(40402),ee=(L(74672),L(7221)),Z=(L(8648),L(87424),L(61004)),$=L(23884),B=L(59776),x=L(7550),R=L(29537),O=L(19881),b=L(54435),V=L(42241);class f{constructor(w){this.id=w.id,this.precondition=w.precondition,this._kbOpts=w.kbOpts,this._menuOpts=w.menuOpts,this._description=w.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const w=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const U of w){let D=U.kbExpr;this.precondition&&(D=D?B.Ao.and(D,this.precondition):this.precondition),x.W.registerKeybindingRule({id:this.id,weight:U.weight,args:U.args,when:D,primary:U.primary,secondary:U.secondary,win:U.win,linux:U.linux,mac:U.mac})}}$.P0.registerCommand({id:this.id,handler:(w,U)=>this.runCommand(w,U),description:this._description})}_registerMenuItem(w){Z.BH.appendMenuItem(w.menuId,{group:w.group,command:{id:this.id,title:w.title,icon:w.icon,precondition:this.precondition},when:w.when,order:w.order})}}class N extends f{constructor(){super(...arguments),this._implementations=[]}addImplementation(w,U,D){return this._implementations.push({priority:w,name:U,implementation:D}),this._implementations.sort((z,ae)=>ae.priority-z.priority),{dispose:()=>{for(let z=0;z<this._implementations.length;z++)if(this._implementations[z].implementation===D)return void this._implementations.splice(z,1)}}}runCommand(w,U){const D=w.get(V.VZ);D.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const z of this._implementations){const ae=z.implementation(w,U);if(ae)return D.trace(`Command '${this.id}' was handled by '${z.name}'.`),"boolean"==typeof ae?void 0:ae}D.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class A extends f{constructor(w,U){super(U),this.command=w}runCommand(w,U){return this.command.runCommand(w,U)}}class I extends f{static bindToContribution(w){return class extends I{constructor(D){super(D),this._callback=D.handler}runEditorCommand(D,z,ae){const ye=w(z);ye&&this._callback(ye,ae)}}}runCommand(w,U){const D=w.get(ee.$),z=D.getFocusedCodeEditor()||D.getActiveCodeEditor();if(z)return z.invokeWithinContext(ae=>{if(ae.get(B.i6).contextMatchesRules((0,b.f6)(this.precondition)))return this.runEditorCommand(ae,z,U)})}}class P extends I{constructor(w){super(P.convertOptions(w)),this.label=w.label,this.alias=w.alias}static convertOptions(w){let U;function D(z){return z.menuId||(z.menuId=Z.eH.EditorContext),z.title||(z.title=w.label),z.when=B.Ao.and(w.precondition,z.when),z}return U=Array.isArray(w.menuOpts)?w.menuOpts:w.menuOpts?[w.menuOpts]:[],Array.isArray(w.contextMenuOpts)?U.push(...w.contextMenuOpts.map(D)):w.contextMenuOpts&&U.push(D(w.contextMenuOpts)),w.menuOpts=U,w}runEditorCommand(w,U,D){return this.reportTelemetry(w,U),this.run(w,U,D||{})}reportTelemetry(w,U){w.get(O.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class H extends P{constructor(){super(...arguments),this._implementations=[]}addImplementation(w,U){return this._implementations.push([w,U]),this._implementations.sort((D,z)=>z[0]-D[0]),{dispose:()=>{for(let D=0;D<this._implementations.length;D++)if(this._implementations[D][1]===U)return void this._implementations.splice(D,1)}}}run(w,U,D){for(const z of this._implementations){const ae=z[1](w,U,D);if(ae)return"boolean"==typeof ae?void 0:ae}}}function q(W){return Ve.INSTANCE.registerEditorCommand(W),W}function Y(W){const w=new W;return Ve.INSTANCE.registerEditorAction(w),w}function te(W){return Ve.INSTANCE.registerEditorAction(W),W}function _e(W,w){Ve.INSTANCE.registerEditorContribution(W,w)}(W=de||(de={})).getEditorCommand=function w(ye){return Ve.INSTANCE.getEditorCommand(ye)},W.getEditorActions=function U(){return Ve.INSTANCE.getEditorActions()},W.getEditorContributions=function D(){return Ve.INSTANCE.getEditorContributions()},W.getSomeEditorContributions=function z(ye){return Ve.INSTANCE.getEditorContributions().filter(Ee=>ye.indexOf(Ee.id)>=0)},W.getDiffEditorContributions=function ae(){return Ve.INSTANCE.getDiffEditorContributions()};class Ve{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(w,U){this.editorContributions.push({id:w,ctor:U})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(w){w.register(),this.editorActions.push(w)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(w){w.register(),this.editorCommands[w.id]=w}getEditorCommand(w){return this.editorCommands[w]||null}}function ce(W){return W.register(),W}Ve.INSTANCE=new Ve,R.B.add("editor.contributions",Ve.INSTANCE);const K=ce(new N({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:Z.eH.MenubarEditMenu,group:"1_do",title:_.N({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:Z.eH.CommandPalette,group:"",title:_.N("undo","Undo"),order:1}]}));ce(new A(K,{id:"default:undo",precondition:void 0}));const ie=ce(new N({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:Z.eH.MenubarEditMenu,group:"1_do",title:_.N({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:Z.eH.CommandPalette,group:"",title:_.N("redo","Redo"),order:1}]}));ce(new A(ie,{id:"default:redo",precondition:void 0}));const oe=ce(new N({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:Z.eH.MenubarSelectionMenu,group:"1_basic",title:_.N({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:Z.eH.CommandPalette,group:"",title:_.N("selectAll","Select All"),order:1}]}))},7221:(Ae,xe,L)=>{"use strict";L.d(xe,{$:()=>h});const h=(0,L(64725).yh)("codeEditorService")},85753:(Ae,xe,L)=>{"use strict";L.d(xe,{Sj:()=>y,T4:()=>h,Uo:()=>v,hP:()=>Z});var _=L(43210);class h{constructor(B,x,R=!1){this._range=B,this._text=x,this.insertsAutoWhitespace=R}getEditOperations(B,x){x.addTrackedEditOperation(this._range,this._text)}computeCursorState(B,x){const O=x.getInverseEditOperations()[0].range;return _.Y.fromPositions(O.getEndPosition())}}class y{constructor(B,x,R=!1){this._range=B,this._text=x,this.insertsAutoWhitespace=R}getEditOperations(B,x){x.addTrackedEditOperation(this._range,this._text)}computeCursorState(B,x){const O=x.getInverseEditOperations()[0].range;return _.Y.fromPositions(O.getStartPosition())}}class v{constructor(B,x,R,O,b=!1){this._range=B,this._text=x,this._columnDeltaOffset=O,this._lineNumberDeltaOffset=R,this.insertsAutoWhitespace=b}getEditOperations(B,x){x.addTrackedEditOperation(this._range,this._text)}computeCursorState(B,x){const O=x.getInverseEditOperations()[0].range;return _.Y.fromPositions(O.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class Z{constructor(B,x,R,O=!1){this._range=B,this._text=x,this._initialSelection=R,this._forceMoveMarkers=O,this._selectionId=null}getEditOperations(B,x){x.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=x.trackSelection(this._initialSelection)}computeCursorState(B,x){return x.getTrackedSelection(this._selectionId)}}},57686:(Ae,xe,L)=>{"use strict";L.d(xe,{N:()=>h});var _=L(45129);class h{constructor(v){const Z=(0,_.K)(v);this._defaultValue=Z,this._asciiMap=h._createAsciiMap(Z),this._map=new Map}static _createAsciiMap(v){const Z=new Uint8Array(256);for(let $=0;$<256;$++)Z[$]=v;return Z}set(v,Z){const $=(0,_.K)(Z);v>=0&&v<256?this._asciiMap[v]=$:this._map.set(v,$)}get(v){return v>=0&&v<256?this._asciiMap[v]:this._map.get(v)||this._defaultValue}}},74826:(Ae,xe,L)=>{"use strict";L.d(xe,{i:()=>h});var _=L(13088);class h{static _nextVisibleColumn(y,v,Z){return 9===y?h.nextRenderTabStop(v,Z):_.K7(y)||_.C8(y)?v+2:v+1}static visibleColumnFromColumn(y,v,Z){const $=Math.min(v-1,y.length),B=y.substring(0,$),x=new _.W1(B);let R=0;for(;!x.eol();){const O=_.ZH(B,$,x.offset);x.nextGraphemeLength(),R=this._nextVisibleColumn(O,R,Z)}return R}static columnFromVisibleColumn(y,v,Z){if(v<=0)return 1;const $=y.length,B=new _.W1(y);let x=0,R=1;for(;!B.eol();){const O=_.ZH(y,$,B.offset);B.nextGraphemeLength();const b=this._nextVisibleColumn(O,x,Z),V=B.offset+1;if(b>=v)return b-v<v-x?V:R;x=b,R=V}return $+1}static nextRenderTabStop(y,v){return y+v-y%v}static nextIndentTabStop(y,v){return y+v-y%v}static prevRenderTabStop(y,v){return Math.max(0,y-1-(y-1)%v)}static prevIndentTabStop(y,v){return Math.max(0,y-1-(y-1)%v)}}},53448:(Ae,xe,L)=>{"use strict";L.d(xe,{CE:()=>z,DD:()=>P,DS:()=>ht,HV:()=>yi,Jn:()=>St,Kh:()=>v,L7:()=>Ji,Mm:()=>Z,Qb:()=>_t,Re:()=>W,To:()=>Ni,UP:()=>ae,Vs:()=>D,YF:()=>yt,Ym:()=>N,eS:()=>w,e_:()=>te,f9:()=>oi,fY:()=>b,hw:()=>A,kp:()=>_e,lK:()=>oe,lS:()=>bt,m$:()=>tt,m1:()=>Ee,m3:()=>Ci,n0:()=>O,oV:()=>Ke,r0:()=>ye,tR:()=>f,ts:()=>Me,zJ:()=>U,zk:()=>H,zu:()=>de,zw:()=>Y});var _=L(40402),h=L(68927),ee=L(28708),y=L(23024);const v=(0,ee.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},_.N("lineHighlight","Background color for the highlight of line at the cursor position.")),Z=(0,ee.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},_.N("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),$=(0,ee.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},_.N("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),B=(0,ee.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hc:ee.xL1},_.N("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),x=(0,ee.P6G)("editor.symbolHighlightBackground",{dark:ee.MUv,light:ee.MUv,hc:null},_.N("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),R=(0,ee.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hc:ee.xL1},_.N("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),O=(0,ee.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:h.Il.black,hc:h.Il.white},_.N("caret","Color of the editor cursor.")),b=(0,ee.P6G)("editorCursor.background",null,_.N("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),V=(0,ee.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},_.N("editorWhitespaces","Color of whitespace characters in the editor.")),f=(0,ee.P6G)("editorIndentGuide.background",{dark:V,light:V,hc:V},_.N("editorIndentGuides","Color of the editor indentation guides.")),N=(0,ee.P6G)("editorIndentGuide.activeBackground",{dark:V,light:V,hc:V},_.N("editorActiveIndentGuide","Color of the active editor indentation guides.")),A=(0,ee.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:h.Il.white},_.N("editorLineNumbers","Color of editor line numbers.")),I=(0,ee.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:ee.xL1},_.N("editorActiveLineNumber","Color of editor active line number"),!1,_.N("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),P=(0,ee.P6G)("editorLineNumber.activeForeground",{dark:I,light:I,hc:I},_.N("editorActiveLineNumber","Color of editor active line number")),H=(0,ee.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:h.Il.lightgrey,hc:h.Il.white},_.N("editorRuler","Color of the editor rulers.")),Y=((0,ee.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},_.N("editorCodeLensForeground","Foreground color of editor CodeLens")),(0,ee.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},_.N("editorBracketMatchBackground","Background color behind matching brackets")),(0,ee.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:ee.lRK},_.N("editorBracketMatchBorder","Color for matching brackets boxes")),(0,ee.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},_.N("editorOverviewRulerBorder","Color of the overview ruler border."))),te=(0,ee.P6G)("editorOverviewRuler.background",null,_.N("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),me=(0,ee.P6G)("editorGutter.background",{dark:ee.cvW,light:ee.cvW,hc:ee.cvW},_.N("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),_e=(0,ee.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hc:h.Il.fromHex("#fff").transparent(.8)},_.N("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),de=(0,ee.P6G)("editorUnnecessaryCode.opacity",{dark:h.Il.fromHex("#000a"),light:h.Il.fromHex("#0007"),hc:null},_.N("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),K=((0,ee.P6G)("editorGhostText.border",{dark:null,light:null,hc:h.Il.fromHex("#fff").transparent(.8)},_.N("editorGhostTextBorder","Border color of ghost text in the editor.")),(0,ee.P6G)("editorGhostText.foreground",{dark:h.Il.fromHex("#ffffff56"),light:h.Il.fromHex("#0007"),hc:null},_.N("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),(0,ee.P6G)("editorGhostText.background",{dark:null,light:null,hc:null},_.N("editorGhostTextBackground","Background color of the ghost text in the editor.")),new h.Il(new h.VS(0,122,204,.6))),oe=((0,ee.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:K,light:K,hc:K},_.N("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),(0,ee.P6G)("editorOverviewRuler.errorForeground",{dark:new h.Il(new h.VS(255,18,18,.7)),light:new h.Il(new h.VS(255,18,18,.7)),hc:new h.Il(new h.VS(255,50,50,1))},_.N("overviewRuleError","Overview ruler marker color for errors."))),W=(0,ee.P6G)("editorOverviewRuler.warningForeground",{dark:ee.uoC,light:ee.uoC,hc:ee.pW3},_.N("overviewRuleWarning","Overview ruler marker color for warnings.")),w=(0,ee.P6G)("editorOverviewRuler.infoForeground",{dark:ee.c63,light:ee.c63,hc:ee.T83},_.N("overviewRuleInfo","Overview ruler marker color for infos.")),U=(0,ee.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},_.N("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),D=(0,ee.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},_.N("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),z=(0,ee.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},_.N("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),ae=(0,ee.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},_.N("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),ye=(0,ee.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},_.N("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),Ee=(0,ee.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},_.N("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),Me=(0,ee.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new h.Il(new h.VS(255,18,18,.8)),light:new h.Il(new h.VS(255,18,18,.8)),hc:new h.Il(new h.VS(255,50,50,1))},_.N("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),Ke=(0,ee.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},_.N("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),tt=(0,ee.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},_.N("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),ht=(0,ee.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},_.N("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),bt=(0,ee.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},_.N("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),St=(0,ee.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},_.N("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),yt=(0,ee.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},_.N("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),_t=(0,ee.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},_.N("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),Ci=(0,ee.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},_.N("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Ni=(0,ee.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},_.N("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Ji=(0,ee.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},_.N("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),yi=(0,ee.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},_.N("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),oi=(0,ee.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},_.N("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));(0,ee.P6G)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hc:"#ff0000"},_.N("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),(0,y.Ic)(($e,mt)=>{const ct=$e.getColor(ee.cvW);ct&&mt.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${ct}; }`);const Yt=$e.getColor(ee.NOs);Yt&&mt.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${Yt}; }`);const Dt=$e.getColor(me);Dt&&mt.addRule(`.monaco-editor .margin { background-color: ${Dt}; }`);const Gt=$e.getColor($);Gt&&mt.addRule(`.monaco-editor .rangeHighlight { background-color: ${Gt}; }`);const De=$e.getColor(B);De&&mt.addRule(`.monaco-editor .rangeHighlight { border: 1px ${"hc"===$e.type?"dotted":"solid"} ${De}; }`);const Ge=$e.getColor(x);Ge&&mt.addRule(`.monaco-editor .symbolHighlight { background-color: ${Ge}; }`);const Je=$e.getColor(R);Je&&mt.addRule(`.monaco-editor .symbolHighlight { border: 1px ${"hc"===$e.type?"dotted":"solid"} ${Je}; }`);const gt=$e.getColor(V);gt&&(mt.addRule(`.monaco-editor .mtkw { color: ${gt} !important; }`),mt.addRule(`.monaco-editor .mtkz { color: ${gt} !important; }`))})},37846:(Ae,xe,L)=>{"use strict";function _(h){let ee=0,y=0,v=0,Z=0;for(let $=0,B=h.length;$<B;$++){const x=h.charCodeAt($);13===x?(0===ee&&(y=$),ee++,$+1<B&&10===h.charCodeAt($+1)?(Z|=2,$++):Z|=3,v=$+1):10===x&&(Z|=1,0===ee&&(y=$),ee++,v=$+1)}return 0===ee&&(y=h.length),[ee,y,h.length-v,Z]}L.d(xe,{Q:()=>_})},94220:(Ae,xe,L)=>{"use strict";L.d(xe,{L:()=>_});class _{constructor(ee,y){this.lineNumber=ee,this.column=y}with(ee=this.lineNumber,y=this.column){return ee===this.lineNumber&&y===this.column?this:new _(ee,y)}delta(ee=0,y=0){return this.with(this.lineNumber+ee,this.column+y)}equals(ee){return _.equals(this,ee)}static equals(ee,y){return!ee&&!y||!!ee&&!!y&&ee.lineNumber===y.lineNumber&&ee.column===y.column}isBefore(ee){return _.isBefore(this,ee)}static isBefore(ee,y){return ee.lineNumber<y.lineNumber||!(y.lineNumber<ee.lineNumber)&&ee.column<y.column}isBeforeOrEqual(ee){return _.isBeforeOrEqual(this,ee)}static isBeforeOrEqual(ee,y){return ee.lineNumber<y.lineNumber||!(y.lineNumber<ee.lineNumber)&&ee.column<=y.column}static compare(ee,y){const v=0|ee.lineNumber,Z=0|y.lineNumber;return v===Z?(0|ee.column)-(0|y.column):v-Z}clone(){return new _(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(ee){return new _(ee.lineNumber,ee.column)}static isIPosition(ee){return ee&&"number"==typeof ee.lineNumber&&"number"==typeof ee.column}}},68451:(Ae,xe,L)=>{"use strict";L.d(xe,{e:()=>h});var _=L(94220);class h{constructor(y,v,Z,$){y>Z||y===Z&&v>$?(this.startLineNumber=Z,this.startColumn=$,this.endLineNumber=y,this.endColumn=v):(this.startLineNumber=y,this.startColumn=v,this.endLineNumber=Z,this.endColumn=$)}isEmpty(){return h.isEmpty(this)}static isEmpty(y){return y.startLineNumber===y.endLineNumber&&y.startColumn===y.endColumn}containsPosition(y){return h.containsPosition(this,y)}static containsPosition(y,v){return!(v.lineNumber<y.startLineNumber||v.lineNumber>y.endLineNumber||v.lineNumber===y.startLineNumber&&v.column<y.startColumn||v.lineNumber===y.endLineNumber&&v.column>y.endColumn)}static strictContainsPosition(y,v){return!(v.lineNumber<y.startLineNumber||v.lineNumber>y.endLineNumber||v.lineNumber===y.startLineNumber&&v.column<=y.startColumn||v.lineNumber===y.endLineNumber&&v.column>=y.endColumn)}containsRange(y){return h.containsRange(this,y)}static containsRange(y,v){return!(v.startLineNumber<y.startLineNumber||v.endLineNumber<y.startLineNumber||v.startLineNumber>y.endLineNumber||v.endLineNumber>y.endLineNumber||v.startLineNumber===y.startLineNumber&&v.startColumn<y.startColumn||v.endLineNumber===y.endLineNumber&&v.endColumn>y.endColumn)}strictContainsRange(y){return h.strictContainsRange(this,y)}static strictContainsRange(y,v){return!(v.startLineNumber<y.startLineNumber||v.endLineNumber<y.startLineNumber||v.startLineNumber>y.endLineNumber||v.endLineNumber>y.endLineNumber||v.startLineNumber===y.startLineNumber&&v.startColumn<=y.startColumn||v.endLineNumber===y.endLineNumber&&v.endColumn>=y.endColumn)}plusRange(y){return h.plusRange(this,y)}static plusRange(y,v){let Z,$,B,x;return v.startLineNumber<y.startLineNumber?(Z=v.startLineNumber,$=v.startColumn):v.startLineNumber===y.startLineNumber?(Z=v.startLineNumber,$=Math.min(v.startColumn,y.startColumn)):(Z=y.startLineNumber,$=y.startColumn),v.endLineNumber>y.endLineNumber?(B=v.endLineNumber,x=v.endColumn):v.endLineNumber===y.endLineNumber?(B=v.endLineNumber,x=Math.max(v.endColumn,y.endColumn)):(B=y.endLineNumber,x=y.endColumn),new h(Z,$,B,x)}intersectRanges(y){return h.intersectRanges(this,y)}static intersectRanges(y,v){let Z=y.startLineNumber,$=y.startColumn,B=y.endLineNumber,x=y.endColumn,R=v.startLineNumber,O=v.startColumn,b=v.endLineNumber,V=v.endColumn;return Z<R?(Z=R,$=O):Z===R&&($=Math.max($,O)),B>b?(B=b,x=V):B===b&&(x=Math.min(x,V)),Z>B||Z===B&&$>x?null:new h(Z,$,B,x)}equalsRange(y){return h.equalsRange(this,y)}static equalsRange(y,v){return!!y&&!!v&&y.startLineNumber===v.startLineNumber&&y.startColumn===v.startColumn&&y.endLineNumber===v.endLineNumber&&y.endColumn===v.endColumn}getEndPosition(){return h.getEndPosition(this)}static getEndPosition(y){return new _.L(y.endLineNumber,y.endColumn)}getStartPosition(){return h.getStartPosition(this)}static getStartPosition(y){return new _.L(y.startLineNumber,y.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(y,v){return new h(this.startLineNumber,this.startColumn,y,v)}setStartPosition(y,v){return new h(y,v,this.endLineNumber,this.endColumn)}collapseToStart(){return h.collapseToStart(this)}static collapseToStart(y){return new h(y.startLineNumber,y.startColumn,y.startLineNumber,y.startColumn)}static fromPositions(y,v=y){return new h(y.lineNumber,y.column,v.lineNumber,v.column)}static lift(y){return y?new h(y.startLineNumber,y.startColumn,y.endLineNumber,y.endColumn):null}static isIRange(y){return y&&"number"==typeof y.startLineNumber&&"number"==typeof y.startColumn&&"number"==typeof y.endLineNumber&&"number"==typeof y.endColumn}static areIntersectingOrTouching(y,v){return!(y.endLineNumber<v.startLineNumber||y.endLineNumber===v.startLineNumber&&y.endColumn<v.startColumn||v.endLineNumber<y.startLineNumber||v.endLineNumber===y.startLineNumber&&v.endColumn<y.startColumn)}static areIntersecting(y,v){return!(y.endLineNumber<v.startLineNumber||y.endLineNumber===v.startLineNumber&&y.endColumn<=v.startColumn||v.endLineNumber<y.startLineNumber||v.endLineNumber===y.startLineNumber&&v.endColumn<=y.startColumn)}static compareRangesUsingStarts(y,v){if(y&&v){const B=0|y.startLineNumber,x=0|v.startLineNumber;if(B===x){const R=0|y.startColumn,O=0|v.startColumn;if(R===O){const b=0|y.endLineNumber,V=0|v.endLineNumber;return b===V?(0|y.endColumn)-(0|v.endColumn):b-V}return R-O}return B-x}return(y?1:0)-(v?1:0)}static compareRangesUsingEnds(y,v){return y.endLineNumber===v.endLineNumber?y.endColumn===v.endColumn?y.startLineNumber===v.startLineNumber?y.startColumn-v.startColumn:y.startLineNumber-v.startLineNumber:y.endColumn-v.endColumn:y.endLineNumber-v.endLineNumber}static spansMultipleLines(y){return y.endLineNumber>y.startLineNumber}}},43210:(Ae,xe,L)=>{"use strict";L.d(xe,{Y:()=>ee});var _=L(94220),h=L(68451);class ee extends h.e{constructor(v,Z,$,B){super(v,Z,$,B),this.selectionStartLineNumber=v,this.selectionStartColumn=Z,this.positionLineNumber=$,this.positionColumn=B}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(v){return ee.selectionsEqual(this,v)}static selectionsEqual(v,Z){return v.selectionStartLineNumber===Z.selectionStartLineNumber&&v.selectionStartColumn===Z.selectionStartColumn&&v.positionLineNumber===Z.positionLineNumber&&v.positionColumn===Z.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(v,Z){return 0===this.getDirection()?new ee(this.startLineNumber,this.startColumn,v,Z):new ee(v,Z,this.startLineNumber,this.startColumn)}getPosition(){return new _.L(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new _.L(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(v,Z){return 0===this.getDirection()?new ee(v,Z,this.endLineNumber,this.endColumn):new ee(this.endLineNumber,this.endColumn,v,Z)}static fromPositions(v,Z=v){return new ee(v.lineNumber,v.column,Z.lineNumber,Z.column)}static fromRange(v,Z){return 0===Z?new ee(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn):new ee(v.endLineNumber,v.endColumn,v.startLineNumber,v.startColumn)}static liftSelection(v){return new ee(v.selectionStartLineNumber,v.selectionStartColumn,v.positionLineNumber,v.positionColumn)}static selectionsArrEqual(v,Z){if(v&&!Z||!v&&Z)return!1;if(!v&&!Z)return!0;if(v.length!==Z.length)return!1;for(let $=0,B=v.length;$<B;$++)if(!this.selectionsEqual(v[$],Z[$]))return!1;return!0}static isISelection(v){return v&&"number"==typeof v.selectionStartLineNumber&&"number"==typeof v.selectionStartColumn&&"number"==typeof v.positionLineNumber&&"number"==typeof v.positionColumn}static createWithDirection(v,Z,$,B,x){return 0===x?new ee(v,Z,$,B):new ee($,B,v,Z)}}},68511:(Ae,xe,L)=>{"use strict";L.d(xe,{kH:()=>b,l$:()=>O,lZ:()=>R,oe:()=>x});var _=L(13088),h=L(38972),ee=L(38923);let y,Z,B;function v(){return y||(y=new TextDecoder("UTF-16LE")),y}function x(){return B||(B=h.r()?v():function $(){return Z||(Z=new TextDecoder("UTF-16BE")),Z}()),B}const R="undefined"!=typeof TextDecoder;let O,b;function f(I,P,H){const F=[];let T=0;for(let q=0;q<H;q++){const Y=ee.mP(I,P);P+=2,F[T++]=String.fromCharCode(Y)}return F.join("")}R?(O=I=>new N(I),b=function V(I,P,H){const F=new Uint16Array(I.buffer,P,H);return H>0&&(65279===F[0]||65534===F[0])?f(I,P,H):v().decode(F)}):(O=I=>new A,b=f);class N{constructor(P){this._capacity=0|P,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const P=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return x().decode(P)}_flushBuffer(){const P=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[P]:this._completedStrings[this._completedStrings.length]=P}write1(P){const H=this._capacity-this._bufferLength;H<=1&&(0===H||_.ZG(P))&&this._flushBuffer(),this._buffer[this._bufferLength++]=P}appendASCII(P){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=P}appendASCIIString(P){const H=P.length;if(this._bufferLength+H>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=P);for(let F=0;F<H;F++)this._buffer[this._bufferLength++]=P.charCodeAt(F)}}class A{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(P){this._pieces[this._piecesLen++]=String.fromCharCode(P)}appendASCII(P){this._pieces[this._piecesLen++]=String.fromCharCode(P)}appendASCIIString(P){this._pieces[this._piecesLen++]=P}}},97614:(Ae,xe,L)=>{"use strict";L.d(xe,{b:()=>v,q:()=>y});var _=L(38923),h=L(68511);function ee($){return $.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class y{constructor(B,x,R,O){this.oldPosition=B,this.oldText=x,this.newPosition=R,this.newText=O}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${ee(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${ee(this.oldText)}")`:`(replace@${this.oldPosition} "${ee(this.oldText)}" with "${ee(this.newText)}")`}static _writeStringSize(B){return 4+2*B.length}static _writeString(B,x,R){const O=x.length;_.T4(B,O,R),R+=4;for(let b=0;b<O;b++)_.oq(B,x.charCodeAt(b),R),R+=2;return R}static _readString(B,x){const R=_.Ag(B,x);return(0,h.kH)(B,x+=4,R)}writeSize(){return 8+y._writeStringSize(this.oldText)+y._writeStringSize(this.newText)}write(B,x){return _.T4(B,this.oldPosition,x),_.T4(B,this.newPosition,x+=4),x=y._writeString(B,this.oldText,x+=4),y._writeString(B,this.newText,x)}static read(B,x,R){const O=_.Ag(B,x),b=_.Ag(B,x+=4),V=y._readString(B,x+=4);x+=y._writeStringSize(V);const f=y._readString(B,x);return x+=y._writeStringSize(f),R.push(new y(O,V,b,f)),x}}function v($,B){return null===$||0===$.length?B:new Z($,B).compress()}class Z{constructor(B,x){this._prevEdits=B,this._currEdits=x,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let B=0,x=0,R=this._getPrev(B),O=this._getCurr(x);for(;B<this._prevLen||x<this._currLen;){if(null===R){this._acceptCurr(O),O=this._getCurr(++x);continue}if(null===O){this._acceptPrev(R),R=this._getPrev(++B);continue}if(O.oldEnd<=R.newPosition){this._acceptCurr(O),O=this._getCurr(++x);continue}if(R.newEnd<=O.oldPosition){this._acceptPrev(R),R=this._getPrev(++B);continue}if(O.oldPosition<R.newPosition){const[A,I]=Z._splitCurr(O,R.newPosition-O.oldPosition);this._acceptCurr(A),O=I;continue}if(R.newPosition<O.oldPosition){const[A,I]=Z._splitPrev(R,O.oldPosition-R.newPosition);this._acceptPrev(A),R=I;continue}let f,N;if(O.oldEnd===R.newEnd)f=R,N=O,R=this._getPrev(++B),O=this._getCurr(++x);else if(O.oldEnd<R.newEnd){const[A,I]=Z._splitPrev(R,O.oldLength);f=A,N=O,R=I,O=this._getCurr(++x)}else{const[A,I]=Z._splitCurr(O,R.newLength);f=R,N=A,R=this._getPrev(++B),O=I}this._result[this._resultLen++]=new y(f.oldPosition,f.oldText,N.newPosition,N.newText),this._prevDeltaOffset+=f.newLength-f.oldLength,this._currDeltaOffset+=N.newLength-N.oldLength}const b=Z._merge(this._result);return Z._removeNoOps(b)}_acceptCurr(B){this._result[this._resultLen++]=Z._rebaseCurr(this._prevDeltaOffset,B),this._currDeltaOffset+=B.newLength-B.oldLength}_getCurr(B){return B<this._currLen?this._currEdits[B]:null}_acceptPrev(B){this._result[this._resultLen++]=Z._rebasePrev(this._currDeltaOffset,B),this._prevDeltaOffset+=B.newLength-B.oldLength}_getPrev(B){return B<this._prevLen?this._prevEdits[B]:null}static _rebaseCurr(B,x){return new y(x.oldPosition-B,x.oldText,x.newPosition,x.newText)}static _rebasePrev(B,x){return new y(x.oldPosition,x.oldText,x.newPosition+B,x.newText)}static _splitPrev(B,x){const R=B.newText.substr(0,x),O=B.newText.substr(x);return[new y(B.oldPosition,B.oldText,B.newPosition,R),new y(B.oldEnd,"",B.newPosition+x,O)]}static _splitCurr(B,x){const R=B.oldText.substr(0,x),O=B.oldText.substr(x);return[new y(B.oldPosition,R,B.newPosition,B.newText),new y(B.oldPosition+x,O,B.newEnd,"")]}static _merge(B){if(0===B.length)return B;const x=[];let R=0,O=B[0];for(let b=1;b<B.length;b++){const V=B[b];O.oldEnd===V.oldPosition?O=new y(O.oldPosition,O.oldText+V.oldText,O.newPosition,O.newText+V.newText):(x[R++]=O,O=V)}return x[R++]=O,x}static _removeNoOps(B){if(0===B.length)return B;const x=[];let R=0;for(let O=0;O<B.length;O++){const b=B[O];b.oldText!==b.newText&&(x[R++]=b)}return x}}},32931:(Ae,xe,L)=>{"use strict";L.d(xe,{D:()=>_});const _={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}}},30681:(Ae,xe,L)=>{"use strict";L.d(xe,{u:()=>y});var _=L(57686);class h extends _.N{constructor(Z){super(0);for(let $=0,B=Z.length;$<B;$++)this.set(Z.charCodeAt($),2);this.set(32,1),this.set(9,1)}}const y=function ee(v){const Z={};return $=>(Z.hasOwnProperty($)||(Z[$]=v($)),Z[$])}(v=>new h(v))},85519:(Ae,xe,L)=>{"use strict";L.d(xe,{Af:()=>ee,eq:()=>y,t2:()=>Z,vu:()=>_});const _="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",ee=function h(B=""){let x="(-?\\d*\\.\\d\\w*)|([^";for(const R of _)B.indexOf(R)>=0||(x+="\\"+R);return x+="\\s]+)",new RegExp(x,"g")}();function y(B){let x=ee;if(B&&B instanceof RegExp)if(B.global)x=B;else{let R="g";B.ignoreCase&&(R+="i"),B.multiline&&(R+="m"),B.unicode&&(R+="u"),x=new RegExp(B.source,R)}return x.lastIndex=0,x}const v={maxLen:1e3,windowSize:15,timeBudget:150};function Z(B,x,R,O,b=v){if(R.length>b.maxLen){let I=B-b.maxLen/2;return I<0?I=0:O+=I,Z(B,x,R=R.substring(I,B+b.maxLen/2),O,b)}const V=Date.now(),f=B-1-O;let N=-1,A=null;for(let I=1;!(Date.now()-V>=b.timeBudget);I++){const P=f-b.windowSize*I;x.lastIndex=Math.max(0,P);const H=$(x,R,f,N);if(!H&&A||(A=H,P<=0))break;N=P}if(A){const I={word:A[0],startColumn:O+1+A.index,endColumn:O+1+A.index+A[0].length};return x.lastIndex=0,I}return null}function $(B,x,R,O){let b;for(;b=B.exec(x);){const V=b.index||0;if(V<=R&&B.lastIndex>=R)return b;if(O>0&&V>O)return null}return null}},29584:(Ae,xe,L)=>{"use strict";L.d(xe,{u:()=>ee});var ee,y,_=L(40402),h=L(59776);(y=ee||(ee={})).editorSimpleInput=new h.uy("editorSimpleInput",!1,!0),y.editorTextFocus=new h.uy("editorTextFocus",!1,_.N("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),y.focus=new h.uy("editorFocus",!1,_.N("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),y.textInputFocus=new h.uy("textInputFocus",!1,_.N("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),y.readOnly=new h.uy("editorReadonly",!1,_.N("editorReadonly","Whether the editor is read only")),y.inDiffEditor=new h.uy("inDiffEditor",!1,_.N("inDiffEditor","Whether the context is a diff editor")),y.columnSelection=new h.uy("editorColumnSelection",!1,_.N("editorColumnSelection","Whether `editor.columnSelection` is enabled")),y.writable=y.readOnly.toNegated(),y.hasNonEmptySelection=new h.uy("editorHasSelection",!1,_.N("editorHasSelection","Whether the editor has text selected")),y.hasOnlyEmptySelection=y.hasNonEmptySelection.toNegated(),y.hasMultipleSelections=new h.uy("editorHasMultipleSelections",!1,_.N("editorHasMultipleSelections","Whether the editor has multiple selections")),y.hasSingleSelection=y.hasMultipleSelections.toNegated(),y.tabMovesFocus=new h.uy("editorTabMovesFocus",!1,_.N("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),y.tabDoesNotMoveFocus=y.tabMovesFocus.toNegated(),y.isInWalkThroughSnippet=new h.uy("isInEmbeddedEditor",!1,!0),y.canUndo=new h.uy("canUndo",!1,!0),y.canRedo=new h.uy("canRedo",!1,!0),y.hoverVisible=new h.uy("editorHoverVisible",!1,_.N("editorHoverVisible","Whether the editor hover is visible")),y.inCompositeEditor=new h.uy("inCompositeEditor",void 0,_.N("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),y.notInCompositeEditor=y.inCompositeEditor.toNegated(),y.languageId=new h.uy("editorLangId","",_.N("editorLangId","The language identifier of the editor")),y.hasCompletionItemProvider=new h.uy("editorHasCompletionItemProvider",!1,_.N("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),y.hasCodeActionsProvider=new h.uy("editorHasCodeActionsProvider",!1,_.N("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),y.hasCodeLensProvider=new h.uy("editorHasCodeLensProvider",!1,_.N("editorHasCodeLensProvider","Whether the editor has a code lens provider")),y.hasDefinitionProvider=new h.uy("editorHasDefinitionProvider",!1,_.N("editorHasDefinitionProvider","Whether the editor has a definition provider")),y.hasDeclarationProvider=new h.uy("editorHasDeclarationProvider",!1,_.N("editorHasDeclarationProvider","Whether the editor has a declaration provider")),y.hasImplementationProvider=new h.uy("editorHasImplementationProvider",!1,_.N("editorHasImplementationProvider","Whether the editor has an implementation provider")),y.hasTypeDefinitionProvider=new h.uy("editorHasTypeDefinitionProvider",!1,_.N("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),y.hasHoverProvider=new h.uy("editorHasHoverProvider",!1,_.N("editorHasHoverProvider","Whether the editor has a hover provider")),y.hasDocumentHighlightProvider=new h.uy("editorHasDocumentHighlightProvider",!1,_.N("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),y.hasDocumentSymbolProvider=new h.uy("editorHasDocumentSymbolProvider",!1,_.N("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),y.hasReferenceProvider=new h.uy("editorHasReferenceProvider",!1,_.N("editorHasReferenceProvider","Whether the editor has a reference provider")),y.hasRenameProvider=new h.uy("editorHasRenameProvider",!1,_.N("editorHasRenameProvider","Whether the editor has a rename provider")),y.hasSignatureHelpProvider=new h.uy("editorHasSignatureHelpProvider",!1,_.N("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),y.hasInlayHintsProvider=new h.uy("editorHasInlayHintsProvider",!1,_.N("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),y.hasDocumentFormattingProvider=new h.uy("editorHasDocumentFormattingProvider",!1,_.N("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),y.hasDocumentSelectionFormattingProvider=new h.uy("editorHasDocumentSelectionFormattingProvider",!1,_.N("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),y.hasMultipleDocumentFormattingProvider=new h.uy("editorHasMultipleDocumentFormattingProvider",!1,_.N("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),y.hasMultipleDocumentSelectionFormattingProvider=new h.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,_.N("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))},5283:(Ae,xe,L)=>{"use strict";L.d(xe,{H9:()=>tt,He:()=>Me,OH:()=>_t,KZ:()=>Ve,RN:()=>ae,Ct:()=>z,Az:()=>ht,vH:()=>U,vN:()=>bt,K7:()=>yi,wT:()=>Ji,vJ:()=>w,DI:()=>I,AD:()=>te,aC:()=>Ni,xp:()=>ie,vI:()=>ye,mX:()=>Ke,zu:()=>ce,pM:()=>yt,id:()=>D,ln:()=>St,FL:()=>de,G0:()=>Se,AC:()=>Ci,nD:()=>K,WU:()=>N,NX:()=>f,RW:()=>oi,hG:()=>A,tA:()=>Ee}),L(74672);var h=L(52787),ee=L(52425),y=L(32213),v=L(31383),Z=L(34163);function $(Ot,$e,mt,ct){if(Array.isArray(Ot)){let Yt=0;for(const Dt of Ot){const Gt=$(Dt,$e,mt,ct);if(10===Gt)return Gt;Gt>Yt&&(Yt=Gt)}return Yt}if("string"==typeof Ot)return ct?"*"===Ot?5:Ot===mt?10:0:0;if(Ot){const{language:Yt,pattern:Dt,scheme:Gt,hasAccessToAllModels:De}=Ot;if(!ct&&!De)return 0;let Ge=0;if(Gt)if(Gt===$e.scheme)Ge=10;else{if("*"!==Gt)return 0;Ge=5}if(Yt)if(Yt===mt)Ge=10;else{if("*"!==Yt)return 0;Ge=Math.max(Ge,5)}if(Dt){let Je;if(Je="string"==typeof Dt?Dt:Object.assign(Object.assign({},Dt),{base:(0,Z.Fv)(Dt.base)}),Je!==$e.fsPath&&!(0,v.EQ)(Je,$e.fsPath))return 0;Ge=10}return Ge}return 0}function B(Ot){return"string"!=typeof Ot&&(Array.isArray(Ot)?Ot.every(B):!!Ot.exclusive)}class x{constructor(){this._clock=0,this._entries=[],this._onDidChange=new h.Q5}get onDidChange(){return this._onDidChange.event}register($e,mt){let ct={selector:$e,provider:mt,_score:-1,_time:this._clock++};return this._entries.push(ct),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,ee.OF)(()=>{if(ct){const Yt=this._entries.indexOf(ct);Yt>=0&&(this._entries.splice(Yt,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),ct=void 0)}})}has($e){return this.all($e).length>0}all($e){if(!$e)return[];this._updateScores($e);const mt=[];for(let ct of this._entries)ct._score>0&&mt.push(ct.provider);return mt}ordered($e){const mt=[];return this._orderedForEach($e,ct=>mt.push(ct.provider)),mt}orderedGroups($e){const mt=[];let ct,Yt;return this._orderedForEach($e,Dt=>{ct&&Yt===Dt._score?ct.push(Dt.provider):(Yt=Dt._score,ct=[Dt.provider],mt.push(ct))}),mt}_orderedForEach($e,mt){if($e){this._updateScores($e);for(const ct of this._entries)ct._score>0&&mt(ct)}}_updateScores($e){const mt={uri:$e.uri.toString(),language:$e.getLanguageId()};if(!this._lastCandidate||this._lastCandidate.language!==mt.language||this._lastCandidate.uri!==mt.uri){this._lastCandidate=mt;for(let ct of this._entries)if(ct._score=$(ct.selector,$e.uri,$e.getLanguageId(),(0,y.pt)($e)),B(ct.selector)&&ct._score>0){for(let Yt of this._entries)Yt._score=0;ct._score=1e3;break}this._entries.sort(x._compareByScoreAndTime)}}static _compareByScoreAndTime($e,mt){return $e._score<mt._score?1:$e._score>mt._score?-1:$e._time<mt._time?1:$e._time>mt._time?-1:0}}var R=function(Ot,$e,mt,ct){return new(mt||(mt=Promise))(function(Dt,Gt){function De(gt){try{Je(ct.next(gt))}catch(Pt){Gt(Pt)}}function Ge(gt){try{Je(ct.throw(gt))}catch(Pt){Gt(Pt)}}function Je(gt){gt.done?Dt(gt.value):function Yt(Dt){return Dt instanceof mt?Dt:new mt(function(Gt){Gt(Dt)})}(gt.value).then(De,Ge)}Je((ct=ct.apply(Ot,$e||[])).next())})};class b extends ee.JT{constructor($e,mt,ct){super(),this._registry=$e,this._languageId=mt,this._factory=ct,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return R(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return R(this,void 0,void 0,function*(){const $e=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,$e&&!this._isDisposed&&this._register(this._registry.register(this._languageId,$e))})}}var P,Y,me,V=L(2450);class f{static getLanguageId($e){return(255&$e)>>>0}static getTokenType($e){return(768&$e)>>>8}static getFontStyle($e){return(15360&$e)>>>10}static getForeground($e){return(8372224&$e)>>>14}static getBackground($e){return(4286578688&$e)>>>23}static getClassNameFromMetadata($e){let ct="mtk"+this.getForeground($e);const Yt=this.getFontStyle($e);return 1&Yt&&(ct+=" mtki"),2&Yt&&(ct+=" mtkb"),4&Yt&&(ct+=" mtku"),8&Yt&&(ct+=" mtks"),ct}static getInlineStyleFromMetadata($e,mt){const ct=this.getForeground($e),Yt=this.getFontStyle($e);let Dt=`color: ${mt[ct]};`;1&Yt&&(Dt+="font-style: italic;"),2&Yt&&(Dt+="font-weight: bold;");let Gt="";return 4&Yt&&(Gt+=" underline"),8&Yt&&(Gt+=" line-through"),Gt&&(Dt+=`text-decoration:${Gt};`),Dt}static getPresentationFromMetadata($e){const mt=this.getForeground($e),ct=this.getFontStyle($e);return{foreground:mt,italic:Boolean(1&ct),bold:Boolean(2&ct),underline:Boolean(4&ct),strikethrough:Boolean(8&ct)}}}class N{constructor($e,mt,ct){this._tokenBrand=void 0,this.offset=$e,this.type=mt,this.language=ct}toString(){return"("+this.offset+", "+this.type+")"}}class A{constructor($e,mt){this._tokenizationResultBrand=void 0,this.tokens=$e,this.endState=mt}}class I{constructor($e,mt){this._encodedTokenizationResultBrand=void 0,this.tokens=$e,this.endState=mt}}!function(Ot){const $e=new Map;$e.set(0,V.lA.symbolMethod),$e.set(1,V.lA.symbolFunction),$e.set(2,V.lA.symbolConstructor),$e.set(3,V.lA.symbolField),$e.set(4,V.lA.symbolVariable),$e.set(5,V.lA.symbolClass),$e.set(6,V.lA.symbolStruct),$e.set(7,V.lA.symbolInterface),$e.set(8,V.lA.symbolModule),$e.set(9,V.lA.symbolProperty),$e.set(10,V.lA.symbolEvent),$e.set(11,V.lA.symbolOperator),$e.set(12,V.lA.symbolUnit),$e.set(13,V.lA.symbolValue),$e.set(15,V.lA.symbolEnum),$e.set(14,V.lA.symbolConstant),$e.set(15,V.lA.symbolEnum),$e.set(16,V.lA.symbolEnumMember),$e.set(17,V.lA.symbolKeyword),$e.set(27,V.lA.symbolSnippet),$e.set(18,V.lA.symbolText),$e.set(19,V.lA.symbolColor),$e.set(20,V.lA.symbolFile),$e.set(21,V.lA.symbolReference),$e.set(22,V.lA.symbolCustomColor),$e.set(23,V.lA.symbolFolder),$e.set(24,V.lA.symbolTypeParameter),$e.set(25,V.lA.account),$e.set(26,V.lA.issues),Ot.toIcon=function mt(Dt){let Gt=$e.get(Dt);return Gt||(console.info("No codicon found for CompletionItemKind "+Dt),Gt=V.lA.symbolProperty),Gt};const ct=new Map;ct.set("method",0),ct.set("function",1),ct.set("constructor",2),ct.set("field",3),ct.set("variable",4),ct.set("class",5),ct.set("struct",6),ct.set("interface",7),ct.set("module",8),ct.set("property",9),ct.set("event",10),ct.set("operator",11),ct.set("unit",12),ct.set("value",13),ct.set("constant",14),ct.set("enum",15),ct.set("enum-member",16),ct.set("enumMember",16),ct.set("keyword",17),ct.set("snippet",27),ct.set("text",18),ct.set("color",19),ct.set("file",20),ct.set("reference",21),ct.set("customcolor",22),ct.set("folder",23),ct.set("type-parameter",24),ct.set("typeParameter",24),ct.set("account",25),ct.set("issue",26),Ot.fromString=function Yt(Dt,Gt){let De=ct.get(Dt);return void 0===De&&!Gt&&(De=9),De}}(P||(P={})),function(Ot){const $e=new Map;$e.set(0,V.lA.symbolFile),$e.set(1,V.lA.symbolModule),$e.set(2,V.lA.symbolNamespace),$e.set(3,V.lA.symbolPackage),$e.set(4,V.lA.symbolClass),$e.set(5,V.lA.symbolMethod),$e.set(6,V.lA.symbolProperty),$e.set(7,V.lA.symbolField),$e.set(8,V.lA.symbolConstructor),$e.set(9,V.lA.symbolEnum),$e.set(10,V.lA.symbolInterface),$e.set(11,V.lA.symbolFunction),$e.set(12,V.lA.symbolVariable),$e.set(13,V.lA.symbolConstant),$e.set(14,V.lA.symbolString),$e.set(15,V.lA.symbolNumber),$e.set(16,V.lA.symbolBoolean),$e.set(17,V.lA.symbolArray),$e.set(18,V.lA.symbolObject),$e.set(19,V.lA.symbolKey),$e.set(20,V.lA.symbolNull),$e.set(21,V.lA.symbolEnumMember),$e.set(22,V.lA.symbolStruct),$e.set(23,V.lA.symbolEvent),$e.set(24,V.lA.symbolOperator),$e.set(25,V.lA.symbolTypeParameter),Ot.toIcon=function mt(ct){let Yt=$e.get(ct);return Yt||(console.info("No codicon found for SymbolKind "+ct),Yt=V.lA.symbolProperty),Yt}}(Y||(Y={}));class te{constructor($e){this.value=$e}}te.Comment=new te("comment"),te.Imports=new te("imports"),te.Region=new te("region"),(me||(me={})).is=function $e(mt){return!(!mt||"object"!=typeof mt)&&"string"==typeof mt.id&&"string"==typeof mt.title};const de=new x,Se=new x,Ve=new x,ce=new x,K=new x,ie=new x,w=(new x,new x,new x),U=new x,D=new x,z=new x,ae=new x,ye=new x,Ee=new x,Me=new x,Ke=new x,tt=new x,ht=new x,bt=new x,St=new x,yt=new x,_t=new x,Ci=new x,Ni=new x,Ji=new x,yi=new x,oi=new class O{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new h.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire($e){this._onDidChange.fire({changedLanguages:$e,changedColorMap:!1})}register($e,mt){return this._map.set($e,mt),this.fire([$e]),(0,ee.OF)(()=>{this._map.get($e)===mt&&(this._map.delete($e),this.fire([$e]))})}registerFactory($e,mt){var ct;null===(ct=this._factories.get($e))||void 0===ct||ct.dispose();const Yt=new b(this,$e,mt);return this._factories.set($e,Yt),(0,ee.OF)(()=>{const Dt=this._factories.get($e);!Dt||Dt!==Yt||(this._factories.delete($e),Dt.dispose())})}getOrCreate($e){return R(this,void 0,void 0,function*(){const mt=this.get($e);if(mt)return mt;const ct=this._factories.get($e);return!ct||ct.isResolved?null:(yield ct.resolve(),this.get($e))})}get($e){return this._map.get($e)||null}isResolved($e){if(this.get($e))return!0;const ct=this._factories.get($e);return!(ct&&!ct.isResolved)}setColorMap($e){this._colorMap=$e,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}},5526:(Ae,xe,L)=>{"use strict";L.d(xe,{V6:()=>h,c$:()=>ee,wU:()=>_});var _=(()=>{return(v=_||(_={}))[v.None=0]="None",v[v.Indent=1]="Indent",v[v.IndentOutdent=2]="IndentOutdent",v[v.Outdent=3]="Outdent",_;var v})();class h{constructor(Z){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=Z.open,this.close=Z.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(Z.notIn))for(let $=0,B=Z.notIn.length;$<B;$++)switch(Z.notIn[$]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}isOK(Z){switch(Z){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(Z,$){if(0===Z.getTokenCount())return!0;const B=Z.findTokenIndexAtOffset($-2),x=Z.getStandardTokenType(B);return this.isOK(x)}_findNeutralCharacterInRange(Z,$){for(let B=Z;B<=$;B++){const x=String.fromCharCode(B);if(!this.open.includes(x)&&!this.close.includes(x))return x}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class ee{constructor(Z){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const $ of Z)y(this.autoClosingPairsOpenByStart,$.open.charAt(0),$),y(this.autoClosingPairsOpenByEnd,$.open.charAt($.open.length-1),$),y(this.autoClosingPairsCloseByStart,$.close.charAt(0),$),y(this.autoClosingPairsCloseByEnd,$.close.charAt($.close.length-1),$),1===$.close.length&&1===$.open.length&&y(this.autoClosingPairsCloseSingleChar,$.close,$)}}function y(v,Z,$){v.has(Z)?v.get(Z).push($):v.set(Z,[$])}},17372:(Ae,xe,L)=>{"use strict";L.d(xe,{c_:()=>Y,zu:()=>K});var _=L(52787),h=L(52425),ee=L(13088),y=L(85519),v=L(5526),Z=L(18555);let $=(()=>{class U{constructor(z){if(this._autoClosingPairs=z.autoClosingPairs?z.autoClosingPairs.map(ae=>new v.V6(ae)):z.brackets?z.brackets.map(ae=>new v.V6({open:ae[0],close:ae[1]})):[],this._colorizedBracketPairs=z.colorizedBracketPairs?B(z.colorizedBracketPairs.map(ae=>[ae[0],ae[1]])):z.brackets?B(z.brackets.map(ae=>[ae[0],ae[1]]).filter(ae=>!("<"===ae[0]&&">"===ae[1]))):[],z.__electricCharacterSupport&&z.__electricCharacterSupport.docComment){const ae=z.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new v.V6({open:ae.open,close:ae.close||""}))}this._autoCloseBefore="string"==typeof z.autoCloseBefore?z.autoCloseBefore:U.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=z.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}return U.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t",U})();function B(U){return U.filter(([D,z])=>""!==D&&""!==z)}var x=L(18337),R=L(93404);class O{constructor(D){this._richEditBrackets=D}getElectricCharacters(){const D=[];if(this._richEditBrackets)for(const z of this._richEditBrackets.brackets)for(const ae of z.close){const ye=ae.charAt(ae.length-1);D.push(ye)}return(0,x.EB)(D)}onElectricCharacter(D,z,ae){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const ye=z.findTokenIndexAtOffset(ae-1);if((0,Z.Bu)(z.getStandardTokenType(ye)))return null;const Ee=this._richEditBrackets.reversedRegex,Me=z.getLineContent().substring(0,ae-1)+D,Ke=R.Vr.findPrevBracketInRange(Ee,1,Me,0,Me.length);if(!Ke)return null;const tt=Me.substring(Ke.startColumn-1,Ke.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[tt])return null;const bt=z.getActualLineContentBefore(Ke.startColumn-1);return/^\s*$/.test(bt)?{matchOpenBracket:tt}:null}}function b(U){return U.global&&(U.lastIndex=0),!0}class V{constructor(D){this._indentationRules=D}shouldIncrease(D){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&b(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(D))}shouldDecrease(D){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&b(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(D))}shouldIndentNextLine(D){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&b(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(D))}shouldIgnore(D){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&b(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(D))}getIndentMetadata(D){let z=0;return this.shouldIncrease(D)&&(z+=1),this.shouldDecrease(D)&&(z+=2),this.shouldIndentNextLine(D)&&(z+=4),this.shouldIgnore(D)&&(z+=8),z}}var f=L(53663);class N{constructor(D){(D=D||{}).brackets=D.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],D.brackets.forEach(z=>{const ae=N._createOpenBracketRegExp(z[0]),ye=N._createCloseBracketRegExp(z[1]);ae&&ye&&this._brackets.push({open:z[0],openRegExp:ae,close:z[1],closeRegExp:ye})}),this._regExpRules=D.onEnterRules||[]}onEnter(D,z,ae,ye){if(D>=3)for(let Ee=0,Me=this._regExpRules.length;Ee<Me;Ee++){const Ke=this._regExpRules[Ee];if([{reg:Ke.beforeText,text:ae},{reg:Ke.afterText,text:ye},{reg:Ke.previousLineText,text:z}].every(ht=>!ht.reg||(ht.reg.lastIndex=0,ht.reg.test(ht.text))))return Ke.action}if(D>=2&&ae.length>0&&ye.length>0)for(let Ee=0,Me=this._brackets.length;Ee<Me;Ee++){const Ke=this._brackets[Ee];if(Ke.openRegExp.test(ae)&&Ke.closeRegExp.test(ye))return{indentAction:v.wU.IndentOutdent}}if(D>=2&&ae.length>0)for(let Ee=0,Me=this._brackets.length;Ee<Me;Ee++)if(this._brackets[Ee].openRegExp.test(ae))return{indentAction:v.wU.Indent};return null}static _createOpenBracketRegExp(D){let z=ee.ec(D);return/\B/.test(z.charAt(0))||(z="\\b"+z),z+="\\s*$",N._safeRegExp(z)}static _createCloseBracketRegExp(D){let z=ee.ec(D);return/\B/.test(z.charAt(z.length-1))||(z+="\\b"),z="^\\s*"+z,N._safeRegExp(z)}static _safeRegExp(D){try{return new RegExp(D)}catch(z){return(0,f.dL)(z),null}}}var A=L(64725),I=L(9869),P=L(47675),H=L(18790),T=function(U,D){return function(z,ae){D(z,ae,U)}};class q{constructor(D){this.languageId=D}affects(D){return!this.languageId||this.languageId===D}}const Y=(0,A.yh)("languageConfigurationService");let te=class extends h.JT{constructor(D,z){super(),this.configurationService=D,this.languageService=z,this.onDidChangeEmitter=this._register(new _.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const ae=new Set(Object.values(_e));this._register(this.configurationService.onDidChangeConfiguration(ye=>{const Ee=ye.change.keys.some(Ke=>ae.has(Ke)),Me=ye.change.overrides.filter(([Ke,tt])=>tt.some(ht=>ae.has(ht))).map(([Ke])=>Ke);if(Ee)this.configurations.clear(),this.onDidChangeEmitter.fire(new q(void 0));else for(const Ke of Me)this.languageService.isRegisteredLanguageId(Ke)&&(this.configurations.delete(Ke),this.onDidChangeEmitter.fire(new q(Ke)))})),this._register(K.onDidChange(ye=>{this.configurations.delete(ye.languageId),this.onDidChangeEmitter.fire(new q(ye.languageId))}))}getLanguageConfiguration(D){let z=this.configurations.get(D);return z||(z=function me(U,D,z){let ae=K.getLanguageConfiguration(U);if(!ae){if(!z.isRegisteredLanguageId(U))throw new Error("Unexpected languageId");ae=new w(U,{})}const ye=function de(U,D){const z=D.getValue(_e.brackets,{overrideIdentifier:U}),ae=D.getValue(_e.colorizedBracketPairs,{overrideIdentifier:U});return{brackets:Se(z),colorizedBracketPairs:Se(ae)}}(ae.languageId,D),Ee=oe([ae.underlyingConfig,ye]);return new w(ae.languageId,Ee)}(D,this.configurationService,this.languageService),this.configurations.set(D,z)),z}};te=function(U,D,z,ae){var Me,ye=arguments.length,Ee=ye<3?D:null===ae?ae=Object.getOwnPropertyDescriptor(D,z):ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ee=Reflect.decorate(U,D,z,ae);else for(var Ke=U.length-1;Ke>=0;Ke--)(Me=U[Ke])&&(Ee=(ye<3?Me(Ee):ye>3?Me(D,z,Ee):Me(D,z))||Ee);return ye>3&&Ee&&Object.defineProperty(D,z,Ee),Ee}([T(0,I.Ui),T(1,P.O)],te);const _e={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function Se(U){if(Array.isArray(U))return U.map(D=>{if(Array.isArray(D)&&2===D.length)return[D[0],D[1]]}).filter(D=>!!D)}class Ve{constructor(D){this.languageId=D}}const K=new class ce{constructor(){this._entries=new Map,this._onDidChange=new _.Q5,this.onDidChange=this._onDidChange.event}register(D,z,ae=0){let ye=this._entries.get(D);ye||(ye=new ie(D),this._entries.set(D,ye));const Ee=ye.register(z,ae);return this._onDidChange.fire(new Ve(D)),(0,h.OF)(()=>{Ee.dispose(),this._onDidChange.fire(new Ve(D))})}getLanguageConfiguration(D){const z=this._entries.get(D);return(null==z?void 0:z.getResolvedConfiguration())||null}getComments(D){const z=this.getLanguageConfiguration(D);return z&&z.comments||null}getIndentRulesSupport(D){const z=this.getLanguageConfiguration(D);return z&&z.indentRulesSupport||null}getPrecedingValidLine(D,z,ae){const ye=D.getLanguageIdAtPosition(z,0);if(z>1){let Ee,Me=-1;for(Ee=z-1;Ee>=1;Ee--){if(D.getLanguageIdAtPosition(Ee,0)!==ye)return Me;const Ke=D.getLineContent(Ee);if(!ae.shouldIgnore(Ke)&&!/^\s+$/.test(Ke)&&""!==Ke)return Ee;Me=Ee}}return-1}getInheritIndentForLine(D,z,ae,ye=!0){if(D<4)return null;const Ee=this.getIndentRulesSupport(z.getLanguageId());if(!Ee)return null;if(ae<=1)return{indentation:"",action:null};const Me=this.getPrecedingValidLine(z,ae,Ee);if(Me<0)return null;if(Me<1)return{indentation:"",action:null};const Ke=z.getLineContent(Me);if(Ee.shouldIncrease(Ke)||Ee.shouldIndentNextLine(Ke))return{indentation:ee.V8(Ke),action:v.wU.Indent,line:Me};if(Ee.shouldDecrease(Ke))return{indentation:ee.V8(Ke),action:null,line:Me};{if(1===Me)return{indentation:ee.V8(z.getLineContent(Me)),action:null,line:Me};const tt=Me-1,ht=Ee.getIndentMetadata(z.getLineContent(tt));if(!(3&ht)&&4&ht){let bt=0;for(let St=tt-1;St>0;St--)if(!Ee.shouldIndentNextLine(z.getLineContent(St))){bt=St;break}return{indentation:ee.V8(z.getLineContent(bt+1)),action:null,line:bt+1}}if(ye)return{indentation:ee.V8(z.getLineContent(Me)),action:null,line:Me};for(let bt=Me;bt>0;bt--){const St=z.getLineContent(bt);if(Ee.shouldIncrease(St))return{indentation:ee.V8(St),action:v.wU.Indent,line:bt};if(Ee.shouldIndentNextLine(St)){let yt=0;for(let _t=bt-1;_t>0;_t--)if(!Ee.shouldIndentNextLine(z.getLineContent(bt))){yt=_t;break}return{indentation:ee.V8(z.getLineContent(yt+1)),action:null,line:yt+1}}if(Ee.shouldDecrease(St))return{indentation:ee.V8(St),action:null,line:bt}}return{indentation:ee.V8(z.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(D,z,ae,ye,Ee){if(D<4)return null;const Me=this.getLanguageConfiguration(ae);if(!Me)return null;const Ke=this.getIndentRulesSupport(ae);if(!Ke)return null;const tt=this.getInheritIndentForLine(D,z,ye),ht=z.getLineContent(ye);if(tt){const bt=tt.line;if(void 0!==bt){const St=Me.onEnter(D,"",z.getLineContent(bt),"");if(St){let yt=ee.V8(z.getLineContent(bt));return St.removeText&&(yt=yt.substring(0,yt.length-St.removeText)),St.indentAction===v.wU.Indent||St.indentAction===v.wU.IndentOutdent?yt=Ee.shiftIndent(yt):St.indentAction===v.wU.Outdent&&(yt=Ee.unshiftIndent(yt)),Ke.shouldDecrease(ht)&&(yt=Ee.unshiftIndent(yt)),St.appendText&&(yt+=St.appendText),ee.V8(yt)}}return Ke.shouldDecrease(ht)?tt.action===v.wU.Indent?tt.indentation:Ee.unshiftIndent(tt.indentation):tt.action===v.wU.Indent?Ee.shiftIndent(tt.indentation):tt.indentation}return null}getIndentForEnter(D,z,ae,ye){if(D<4)return null;z.forceTokenization(ae.startLineNumber);const Ee=z.getLineTokens(ae.startLineNumber),Me=(0,Z.wH)(Ee,ae.startColumn-1),Ke=Me.getLineContent();let ht,bt,tt=!1;Me.firstCharOffset>0&&Ee.getLanguageId(0)!==Me.languageId?(tt=!0,ht=Ke.substr(0,ae.startColumn-1-Me.firstCharOffset)):ht=Ee.getLineContent().substring(0,ae.startColumn-1),bt=ae.isEmpty()?Ke.substr(ae.startColumn-1-Me.firstCharOffset):this.getScopedLineTokens(z,ae.endLineNumber,ae.endColumn).getLineContent().substr(ae.endColumn-1-Me.firstCharOffset);const St=this.getIndentRulesSupport(Me.languageId);if(!St)return null;const yt=ht,_t=ee.V8(ht),Ci={getLineTokens:oi=>z.getLineTokens(oi),getLanguageId:()=>z.getLanguageId(),getLanguageIdAtPosition:(oi,Ot)=>z.getLanguageIdAtPosition(oi,Ot),getLineContent:oi=>oi===ae.startLineNumber?yt:z.getLineContent(oi)},Ni=ee.V8(Ee.getLineContent()),Ji=this.getInheritIndentForLine(D,Ci,ae.startLineNumber+1);if(!Ji){const oi=tt?Ni:_t;return{beforeEnter:oi,afterEnter:oi}}let yi=tt?Ni:Ji.indentation;return Ji.action===v.wU.Indent&&(yi=ye.shiftIndent(yi)),St.shouldDecrease(bt)&&(yi=ye.unshiftIndent(yi)),{beforeEnter:tt?Ni:_t,afterEnter:yi}}getIndentActionForType(D,z,ae,ye,Ee){if(D<4)return null;const Me=this.getScopedLineTokens(z,ae.startLineNumber,ae.startColumn);if(Me.firstCharOffset)return null;const Ke=this.getIndentRulesSupport(Me.languageId);if(!Ke)return null;const tt=Me.getLineContent(),ht=tt.substr(0,ae.startColumn-1-Me.firstCharOffset);let bt;if(bt=ae.isEmpty()?tt.substr(ae.startColumn-1-Me.firstCharOffset):this.getScopedLineTokens(z,ae.endLineNumber,ae.endColumn).getLineContent().substr(ae.endColumn-1-Me.firstCharOffset),!Ke.shouldDecrease(ht+bt)&&Ke.shouldDecrease(ht+ye+bt)){const St=this.getInheritIndentForLine(D,z,ae.startLineNumber,!1);if(!St)return null;let yt=St.indentation;return St.action!==v.wU.Indent&&(yt=Ee.unshiftIndent(yt)),yt}return null}getIndentMetadata(D,z){const ae=this.getIndentRulesSupport(D.getLanguageId());return!ae||z<1||z>D.getLineCount()?null:ae.getIndentMetadata(D.getLineContent(z))}getEnterAction(D,z,ae){const ye=this.getScopedLineTokens(z,ae.startLineNumber,ae.startColumn),Ee=this.getLanguageConfiguration(ye.languageId);if(!Ee)return null;const Me=ye.getLineContent(),Ke=Me.substr(0,ae.startColumn-1-ye.firstCharOffset);let tt;tt=ae.isEmpty()?Me.substr(ae.startColumn-1-ye.firstCharOffset):this.getScopedLineTokens(z,ae.endLineNumber,ae.endColumn).getLineContent().substr(ae.endColumn-1-ye.firstCharOffset);let ht="";if(ae.startLineNumber>1&&0===ye.firstCharOffset){const Ni=this.getScopedLineTokens(z,ae.startLineNumber-1);Ni.languageId===ye.languageId&&(ht=Ni.getLineContent())}const bt=Ee.onEnter(D,ht,Ke,tt);if(!bt)return null;const St=bt.indentAction;let yt=bt.appendText;const _t=bt.removeText||0;yt?St===v.wU.Indent&&(yt="\t"+yt):yt=St===v.wU.Indent||St===v.wU.IndentOutdent?"\t":"";let Ci=this.getIndentationAtPosition(z,ae.startLineNumber,ae.startColumn);return _t&&(Ci=Ci.substring(0,Ci.length-_t)),{indentAction:St,appendText:yt,removeText:_t,indentation:Ci}}getIndentationAtPosition(D,z,ae){const ye=D.getLineContent(z);let Ee=ee.V8(ye);return Ee.length>ae-1&&(Ee=Ee.substring(0,ae-1)),Ee}getScopedLineTokens(D,z,ae){D.forceTokenization(z);const ye=D.getLineTokens(z),Ee=void 0===ae?D.getLineMaxColumn(z)-1:ae-1;return(0,Z.wH)(ye,Ee)}};class ie{constructor(D){this.languageId=D,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(D,z){const ae=new W(D,z,++this._order);return this._entries.push(ae),this._resolved=null,(0,h.OF)(()=>{for(let ye=0;ye<this._entries.length;ye++)if(this._entries[ye]===ae){this._entries.splice(ye,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const D=this._resolve();D&&(this._resolved=new w(this.languageId,D))}return this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort(W.cmp),oe(this._entries.map(D=>D.configuration)))}}function oe(U){let D={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const z of U)D={comments:z.comments||D.comments,brackets:z.brackets||D.brackets,wordPattern:z.wordPattern||D.wordPattern,indentationRules:z.indentationRules||D.indentationRules,onEnterRules:z.onEnterRules||D.onEnterRules,autoClosingPairs:z.autoClosingPairs||D.autoClosingPairs,surroundingPairs:z.surroundingPairs||D.surroundingPairs,autoCloseBefore:z.autoCloseBefore||D.autoCloseBefore,folding:z.folding||D.folding,colorizedBracketPairs:z.colorizedBracketPairs||D.colorizedBracketPairs,__electricCharacterSupport:z.__electricCharacterSupport||D.__electricCharacterSupport};return D}class W{constructor(D,z,ae){this.configuration=D,this.priority=z,this.order=ae}static cmp(D,z){return D.priority===z.priority?D.order-z.order:D.priority-z.priority}}class w{constructor(D,z){this.languageId=D,this.underlyingConfig=z,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new N(this.underlyingConfig):null,this.comments=w._handleComments(this.underlyingConfig),this.characterPair=new $(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||y.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.indentRulesSupport=this.underlyingConfig.indentationRules?new V(this.underlyingConfig.indentationRules):null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return(0,y.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new R.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new O(this.brackets)),this._electricCharacter}onEnter(D,z,ae,ye){return this._onEnterSupport?this._onEnterSupport.onEnter(D,z,ae,ye):null}getAutoClosingPairs(){return new v.c$(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(D){const z=D.comments;if(!z)return null;const ae={};if(z.lineComment&&(ae.lineCommentToken=z.lineComment),z.blockComment){const[ye,Ee]=z.blockComment;ae.blockCommentStartToken=ye,ae.blockCommentEndToken=Ee}return ae}}(0,H.z)(Y,te)},5052:(Ae,xe,L)=>{"use strict";L.d(xe,{Dy:()=>y,Ri:()=>ee,TJ:()=>h});var _=L(5283);const h=new class{clone(){return this}equals(v){return this===v}};function ee(v,Z){return new _.hG([new _.WU(0,"",v)],Z)}function y(v,Z){const $=new Uint32Array(2);return $[0]=0,$[1]=(16384|v<<0|2<<23)>>>0,new _.DI($,null===Z?h:Z)}},18555:(Ae,xe,L)=>{"use strict";function _(y,v){const Z=y.getCount(),$=y.findTokenIndexAtOffset(v),B=y.getLanguageId($);let x=$;for(;x+1<Z&&y.getLanguageId(x+1)===B;)x++;let R=$;for(;R>0&&y.getLanguageId(R-1)===B;)R--;return new h(y,B,R,x+1,y.getStartOffset(R),y.getEndOffset(x))}L.d(xe,{Bu:()=>ee,wH:()=>_});class h{constructor(v,Z,$,B,x,R){this._scopedLineTokensBrand=void 0,this._actual=v,this.languageId=Z,this._firstTokenIndex=$,this._lastTokenIndex=B,this.firstCharOffset=x,this._lastCharOffset=R}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(v){return this._actual.getLineContent().substring(0,this.firstCharOffset+v)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(v){return this._actual.findTokenIndexAtOffset(v+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(v){return this._actual.getStandardTokenType(v+this._firstTokenIndex)}}function ee(y){return 0!=(3&y)}},93404:(Ae,xe,L)=>{"use strict";L.d(xe,{EA:()=>Z,Vr:()=>I});var _=L(13088),h=L(68511),ee=L(68451);class y{constructor(H,F,T,q,Y,te){this._richEditBracketBrand=void 0,this.languageId=H,this.index=F,this.open=T,this.close=q,this.forwardRegex=Y,this.reversedRegex=te,this._openSet=y._toSet(this.open),this._closeSet=y._toSet(this.close)}isOpen(H){return this._openSet.has(H)}isClose(H){return this._closeSet.has(H)}static _toSet(H){const F=new Set;for(const T of H)F.add(T);return F}}class Z{constructor(H,F){this._richEditBracketsBrand=void 0;const T=function v(P){const H=P.length;P=P.map(te=>[te[0].toLowerCase(),te[1].toLowerCase()]);const F=[];for(let te=0;te<H;te++)F[te]=te;const T=(te,me)=>{const[_e,de]=te,[Se,Ve]=me;return _e===Se||_e===Ve||de===Se||de===Ve},q=(te,me)=>{const _e=Math.min(te,me),de=Math.max(te,me);for(let Se=0;Se<H;Se++)F[Se]===de&&(F[Se]=_e)};for(let te=0;te<H;te++){const me=P[te];for(let _e=te+1;_e<H;_e++)T(me,P[_e])&&q(F[te],F[_e])}const Y=[];for(let te=0;te<H;te++){const me=[],_e=[];for(let de=0;de<H;de++)if(F[de]===te){const[Se,Ve]=P[de];me.push(Se),_e.push(Ve)}me.length>0&&Y.push({open:me,close:_e})}return Y}(F);this.brackets=T.map((q,Y)=>new y(H,Y,q.open,q.close,function R(P,H,F,T){let q=[];q=q.concat(P),q=q.concat(H);for(let Y=0,te=q.length;Y<te;Y++)$(q[Y],F,T,q);return q=x(q),q.sort(B),q.reverse(),N(q)}(q.open,q.close,T,Y),function O(P,H,F,T){let q=[];q=q.concat(P),q=q.concat(H);for(let Y=0,te=q.length;Y<te;Y++)$(q[Y],F,T,q);return q=x(q),q.sort(B),q.reverse(),N(q.map(A))}(q.open,q.close,T,Y))),this.forwardRegex=function b(P){let H=[];for(const F of P){for(const T of F.open)H.push(T);for(const T of F.close)H.push(T)}return H=x(H),N(H)}(this.brackets),this.reversedRegex=function V(P){let H=[];for(const F of P){for(const T of F.open)H.push(T);for(const T of F.close)H.push(T)}return H=x(H),N(H.map(A))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const q of this.brackets){for(const Y of q.open)this.textIsBracket[Y]=q,this.textIsOpenBracket[Y]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,Y.length);for(const Y of q.close)this.textIsBracket[Y]=q,this.textIsOpenBracket[Y]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,Y.length)}}}function $(P,H,F,T){for(let q=0,Y=H.length;q<Y;q++){if(q===F)continue;const te=H[q];for(const me of te.open)me.indexOf(P)>=0&&T.push(me);for(const me of te.close)me.indexOf(P)>=0&&T.push(me)}}function B(P,H){return P.length-H.length}function x(P){if(P.length<=1)return P;const H=[],F=new Set;for(const T of P)F.has(T)||(H.push(T),F.add(T));return H}function f(P){const H=/^[\w ]+$/.test(P);return P=_.ec(P),H?`\\b${P}\\b`:P}function N(P){const H=`(${P.map(f).join(")|(")})`;return _.GF(H,!0)}const A=function(){let H=null,F=null;return function(q){return H!==q&&(H=q,F=function P(T){if(h.lZ){const q=new Uint16Array(T.length);let Y=0;for(let te=T.length-1;te>=0;te--)q[Y++]=T.charCodeAt(te);return h.oe().decode(q)}{const q=[];let Y=0;for(let te=T.length-1;te>=0;te--)q[Y++]=T.charAt(te);return q.join("")}}(H)),F}}();class I{static _findPrevBracketInText(H,F,T,q){const Y=T.match(H);if(!Y)return null;const _e=q+(T.length-(Y.index||0));return new ee.e(F,_e-Y[0].length+1,F,_e+1)}static findPrevBracketInRange(H,F,T,q,Y){const me=A(T).substring(T.length-Y,T.length-q);return this._findPrevBracketInText(H,F,me,q)}static findNextBracketInText(H,F,T,q){const Y=T.match(H);if(!Y)return null;const me=Y[0].length;if(0===me)return null;const _e=q+(Y.index||0);return new ee.e(F,_e+1,F,_e+1+me)}static findNextBracketInRange(H,F,T,q,Y){const te=T.substring(q,Y);return this.findNextBracketInText(H,F,te,q)}}},32213:(Ae,xe,L)=>{"use strict";L.d(xe,{F5:()=>ee,Qi:()=>$,RM:()=>y,Tx:()=>B,dJ:()=>v,je:()=>x,pt:()=>R,sh:()=>h,tk:()=>Z});var _=L(85271),h=(()=>{return(O=h||(h={}))[O.Left=1]="Left",O[O.Center=2]="Center",O[O.Right=4]="Right",O[O.Full=7]="Full",h;var O})(),ee=(()=>{return(O=ee||(ee={}))[O.Inline=1]="Inline",O[O.Gutter=2]="Gutter",ee;var O})(),y=(()=>{return(O=y||(y={}))[O.Both=0]="Both",O[O.Right=1]="Right",O[O.Left=2]="Left",O[O.None=3]="None",y;var O})();class v{constructor(b){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|b.tabSize),this.indentSize=0|b.tabSize,this.insertSpaces=Boolean(b.insertSpaces),this.defaultEOL=0|b.defaultEOL,this.trimAutoWhitespace=Boolean(b.trimAutoWhitespace),this.bracketPairColorizationOptions=b.bracketPairColorizationOptions}equals(b){return this.tabSize===b.tabSize&&this.indentSize===b.indentSize&&this.insertSpaces===b.insertSpaces&&this.defaultEOL===b.defaultEOL&&this.trimAutoWhitespace===b.trimAutoWhitespace&&(0,_.fS)(this.bracketPairColorizationOptions,b.bracketPairColorizationOptions)}createChangeEvent(b){return{tabSize:this.tabSize!==b.tabSize,indentSize:this.indentSize!==b.indentSize,insertSpaces:this.insertSpaces!==b.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==b.trimAutoWhitespace}}}class Z{constructor(b,V){this._findMatchBrand=void 0,this.range=b,this.matches=V}}class ${constructor(b,V,f,N,A,I){this.identifier=b,this.range=V,this.text=f,this.forceMoveMarkers=N,this.isAutoWhitespaceEdit=A,this._isTracked=I}}class B{constructor(b,V,f){this.regex=b,this.wordSeparators=V,this.simpleSearch=f}}class x{constructor(b,V,f){this.reverseEdits=b,this.changes=V,this.trimAutoWhitespaceLineNumbers=f}}function R(O){return!O.isTooLargeForSyncing()&&!O.isForSimpleWidget}},94898:(Ae,xe,L)=>{"use strict";L.d(xe,{NL:()=>f,e9:()=>V});var _=L(40402),h=L(53663),ee=L(43210),y=L(74672),v=L(97614),Z=L(38923),$=L(15151);function B(N){return N.toString()}class x{constructor(A,I,P,H,F,T,q){this.beforeVersionId=A,this.afterVersionId=I,this.beforeEOL=P,this.afterEOL=H,this.beforeCursorState=F,this.afterCursorState=T,this.changes=q}static create(A,I){const P=A.getAlternativeVersionId(),H=b(A);return new x(P,P,H,H,I,I,[])}append(A,I,P,H,F){I.length>0&&(this.changes=(0,v.b)(this.changes,I)),this.afterEOL=P,this.afterVersionId=H,this.afterCursorState=F}static _writeSelectionsSize(A){return 4+16*(A?A.length:0)}static _writeSelections(A,I,P){if(Z.T4(A,I?I.length:0,P),P+=4,I)for(const H of I)Z.T4(A,H.selectionStartLineNumber,P),Z.T4(A,H.selectionStartColumn,P+=4),Z.T4(A,H.positionLineNumber,P+=4),Z.T4(A,H.positionColumn,P+=4),P+=4;return P}static _readSelections(A,I,P){const H=Z.Ag(A,I);I+=4;for(let F=0;F<H;F++){const T=Z.Ag(A,I),q=Z.Ag(A,I+=4),Y=Z.Ag(A,I+=4),te=Z.Ag(A,I+=4);I+=4,P.push(new ee.Y(T,q,Y,te))}return I}serialize(){let A=10+x._writeSelectionsSize(this.beforeCursorState)+x._writeSelectionsSize(this.afterCursorState)+4;for(const H of this.changes)A+=H.writeSize();const I=new Uint8Array(A);let P=0;Z.T4(I,this.beforeVersionId,P),P+=4,Z.T4(I,this.afterVersionId,P),P+=4,Z.Cg(I,this.beforeEOL,P),P+=1,Z.Cg(I,this.afterEOL,P),P+=1,P=x._writeSelections(I,this.beforeCursorState,P),P=x._writeSelections(I,this.afterCursorState,P),Z.T4(I,this.changes.length,P),P+=4;for(const H of this.changes)P=H.write(I,P);return I.buffer}static deserialize(A){const I=new Uint8Array(A);let P=0;const H=Z.Ag(I,P);P+=4;const F=Z.Ag(I,P);P+=4;const T=Z.Q$(I,P);P+=1;const q=Z.Q$(I,P);P+=1;const Y=[];P=x._readSelections(I,P,Y);const te=[];P=x._readSelections(I,P,te);const me=Z.Ag(I,P);P+=4;const _e=[];for(let de=0;de<me;de++)P=v.q.read(I,P,_e);return new x(H,F,T,q,Y,te,_e)}}class R{constructor(A,I){this.model=A,this._data=x.create(A,I)}get type(){return 0}get resource(){return y.o.isUri(this.model)?this.model:this.model.uri}get label(){return _.N("edit","Typing")}toString(){return(this._data instanceof x?this._data:x.deserialize(this._data)).changes.map(I=>I.toString()).join(", ")}matchesResource(A){return(y.o.isUri(this.model)?this.model:this.model.uri).toString()===A.toString()}setModel(A){this.model=A}canAppend(A){return this.model===A&&this._data instanceof x}append(A,I,P,H,F){this._data instanceof x&&this._data.append(A,I,P,H,F)}close(){this._data instanceof x&&(this._data=this._data.serialize())}open(){this._data instanceof x||(this._data=x.deserialize(this._data))}undo(){if(y.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof x&&(this._data=this._data.serialize());const A=x.deserialize(this._data);this.model._applyUndo(A.changes,A.beforeEOL,A.beforeVersionId,A.beforeCursorState)}redo(){if(y.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof x&&(this._data=this._data.serialize());const A=x.deserialize(this._data);this.model._applyRedo(A.changes,A.afterEOL,A.afterVersionId,A.afterCursorState)}heapSize(){return this._data instanceof x&&(this._data=this._data.serialize()),this._data.byteLength+168}}function b(N){return"\n"===N.getEOL()?0:1}function V(N){return!!N&&(N instanceof R||N instanceof class O{constructor(A,I){this.type=1,this.label=A,this._isOpen=!0,this._editStackElementsArr=I.slice(0),this._editStackElementsMap=new Map;for(const P of this._editStackElementsArr){const H=B(P.resource);this._editStackElementsMap.set(H,P)}this._delegate=null}get resources(){return this._editStackElementsArr.map(A=>A.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(A){const I=B(A);return this._editStackElementsMap.has(I)}setModel(A){const I=B(y.o.isUri(A)?A:A.uri);this._editStackElementsMap.has(I)&&this._editStackElementsMap.get(I).setModel(A)}canAppend(A){if(!this._isOpen)return!1;const I=B(A.uri);return!!this._editStackElementsMap.has(I)&&this._editStackElementsMap.get(I).canAppend(A)}append(A,I,P,H,F){const T=B(A.uri);this._editStackElementsMap.get(T).append(A,I,P,H,F)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const A of this._editStackElementsArr)A.undo()}redo(){for(const A of this._editStackElementsArr)A.redo()}heapSize(A){const I=B(A);return this._editStackElementsMap.has(I)?this._editStackElementsMap.get(I).heapSize():0}split(){return this._editStackElementsArr}toString(){let A=[];for(const I of this._editStackElementsArr)A.push(`${(0,$.EZ)(I.resource)}: ${I}`);return`{${A.join(", ")}}`}})}class f{constructor(A,I){this._model=A,this._undoRedoService=I}pushStackElement(){const A=this._undoRedoService.getLastElement(this._model.uri);V(A)&&A.close()}popStackElement(){const A=this._undoRedoService.getLastElement(this._model.uri);V(A)&&A.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(A){const I=this._undoRedoService.getLastElement(this._model.uri);if(V(I)&&I.canAppend(this._model))return I;const P=new R(this._model,A);return this._undoRedoService.pushElement(P),P}pushEOL(A){const I=this._getOrCreateEditStackElement(null);this._model.setEOL(A),I.append(this._model,[],b(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(A,I,P){const H=this._getOrCreateEditStackElement(A),F=this._model.applyEdits(I,!0),T=f._computeCursorState(P,F),q=F.map((Y,te)=>({index:te,textChange:Y.textChange}));return q.sort((Y,te)=>Y.textChange.oldPosition===te.textChange.oldPosition?Y.index-te.index:Y.textChange.oldPosition-te.textChange.oldPosition),H.append(this._model,q.map(Y=>Y.textChange),b(this._model),this._model.getAlternativeVersionId(),T),T}static _computeCursorState(A,I){try{return A?A(I):null}catch(P){return(0,h.dL)(P),null}}}},88662:(Ae,xe,L)=>{"use strict";L.d(xe,{W:()=>x,l:()=>B});var _=L(18337),h=L(13088),ee=L(74826),y=L(68451),$=L(52904);class B extends class v{constructor(){this._isDisposed=!1}dispose(){this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}{constructor(O,b){super(),this.textModel=O,this.languageConfigurationService=b}getLanguageConfiguration(O){return this.languageConfigurationService.getLanguageConfiguration(O)}_computeIndentLevel(O){return function Z(R,O){let b=0,V=0;const f=R.length;for(;V<f;){const N=R.charCodeAt(V);if(32===N)b++;else{if(9!==N)break;b=b-b%O+O}V++}return V===f?-1:b}(this.textModel.getLineContent(O+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(O,b,V){this.assertNotDisposed();const f=this.textModel.getLineCount();if(O<1||O>f)throw new Error("Illegal value for lineNumber");const N=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,A=Boolean(N&&N.offSide);let I=-2,P=-1,H=-2,F=-1;const T=oe=>{if(-1!==I&&(-2===I||I>oe-1)){I=-1,P=-1;for(let W=oe-2;W>=0;W--){const w=this._computeIndentLevel(W);if(w>=0){I=W,P=w;break}}}if(-2===H){H=-1,F=-1;for(let W=oe;W<f;W++){const w=this._computeIndentLevel(W);if(w>=0){H=W,F=w;break}}}};let q=-2,Y=-1,te=-2,me=-1;const _e=oe=>{if(-2===q){q=-1,Y=-1;for(let W=oe-2;W>=0;W--){const w=this._computeIndentLevel(W);if(w>=0){q=W,Y=w;break}}}if(-1!==te&&(-2===te||te<oe-1)){te=-1,me=-1;for(let W=oe;W<f;W++){const w=this._computeIndentLevel(W);if(w>=0){te=W,me=w;break}}}};let de=0,Se=!0,Ve=0,ce=!0,K=0,ie=0;for(let oe=0;Se||ce;oe++){const W=O-oe,w=O+oe;oe>1&&(W<1||W<b)&&(Se=!1),oe>1&&(w>f||w>V)&&(ce=!1),oe>5e4&&(Se=!1,ce=!1);let U=-1;if(Se&&W>=1){const z=this._computeIndentLevel(W-1);z>=0?(H=W-1,F=z,U=Math.ceil(z/this.textModel.getOptions().indentSize)):(T(W),U=this._getIndentLevelForWhitespaceLine(A,P,F))}let D=-1;if(ce&&w<=f){const z=this._computeIndentLevel(w-1);z>=0?(q=w-1,Y=z,D=Math.ceil(z/this.textModel.getOptions().indentSize)):(_e(w),D=this._getIndentLevelForWhitespaceLine(A,Y,me))}if(0!==oe){if(1===oe){if(w<=f&&D>=0&&ie+1===D){Se=!1,de=w,Ve=w,K=D;continue}if(W>=1&&U>=0&&U-1===ie){ce=!1,de=W,Ve=W,K=U;continue}if(de=O,Ve=O,K=ie,0===K)return{startLineNumber:de,endLineNumber:Ve,indent:K}}Se&&(U>=K?de=W:Se=!1),ce&&(D>=K?Ve=w:ce=!1)}else ie=U}return{startLineNumber:de,endLineNumber:Ve,indent:K}}getLinesBracketGuides(O,b,V,f){var N,A,I,P,H;const F=[],T=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new y.e(O,1,b,this.textModel.getLineMaxColumn(b)));let q;if(V&&T.length>0){const de=O<=V.lineNumber&&V.lineNumber<=b?T.filter(Se=>y.e.strictContainsPosition(Se.range,V)):this.textModel.bracketPairs.getBracketPairsInRange(y.e.fromPositions(V));q=null===(N=(0,_.dF)(de,Se=>Se.range.startLineNumber!==Se.range.endLineNumber))||void 0===N?void 0:N.range}const Y=new _.H9(T),te=new Array,me=new Array,_e=new x;for(let de=O;de<=b;de++){let Se=new Array;me.length>0&&(Se=Se.concat(me),me.length=0),F.push(Se);for(const ce of Y.takeWhile(K=>K.openingBracketRange.startLineNumber<=de)||[]){if(ce.range.startLineNumber===ce.range.endLineNumber)continue;const K=Math.min(this.getVisibleColumnFromPosition(ce.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition(null!==(I=null===(A=ce.closingBracketRange)||void 0===A?void 0:A.getStartPosition())&&void 0!==I?I:ce.range.getEndPosition()),ce.minVisibleColumnIndentation+1);let ie=!1;ce.closingBracketRange&&h.LC(this.textModel.getLineContent(ce.closingBracketRange.startLineNumber))<ce.closingBracketRange.startColumn-1&&(ie=!0);const oe=ce.openingBracketRange.getStartPosition(),W=null!==(H=null===(P=ce.closingBracketRange)||void 0===P?void 0:P.getStartPosition())&&void 0!==H?H:ce.range.getEndPosition();te[ce.nestingLevel]=void 0===ce.closingBracketRange?null:{nestingLevel:ce.nestingLevel,guideVisibleColumn:K,start:oe,visibleStartColumn:this.getVisibleColumnFromPosition(oe),end:W,visibleEndColumn:this.getVisibleColumnFromPosition(W),bracketPair:ce,renderHorizontalEndLineAtTheBottom:ie}}for(const ce of te){if(!ce)continue;const K=q&&ce.bracketPair.range.equalsRange(q),ie=_e.getInlineClassNameOfLevel(ce.nestingLevel)+(f.highlightActive&&K?" "+_e.activeClassName:"");(K&&f.horizontalGuides!==$.s6.Disabled||f.includeInactive&&f.horizontalGuides===$.s6.Enabled)&&(ce.start.lineNumber===de&&ce.guideVisibleColumn<ce.visibleStartColumn&&Se.push(new $.UO(ce.guideVisibleColumn,ie,new $.vW(!1,ce.start.column))),ce.end.lineNumber===de+1&&ce.guideVisibleColumn<ce.visibleEndColumn&&me.push(new $.UO(ce.guideVisibleColumn,ie,new $.vW(!ce.renderHorizontalEndLineAtTheBottom,ce.end.column))))}let Ve=Number.MAX_SAFE_INTEGER;for(let ce=te.length-1;ce>=0;ce--){const K=te[ce];if(!K)continue;const ie=f.highlightActive&&q&&K.bracketPair.range.equalsRange(q),oe=_e.getInlineClassNameOfLevel(K.nestingLevel)+(ie?" "+_e.activeClassName:"");(ie||f.includeInactive)&&K.renderHorizontalEndLineAtTheBottom&&K.end.lineNumber===de+1&&me.push(new $.UO(K.guideVisibleColumn,oe,null)),!(K.end.lineNumber<=de||K.start.lineNumber>=de)&&(K.guideVisibleColumn>=Ve&&!ie||(Ve=K.guideVisibleColumn,(ie||f.includeInactive)&&Se.push(new $.UO(K.guideVisibleColumn,oe,null))))}Se.sort((ce,K)=>ce.visibleColumn-K.visibleColumn)}return F}getVisibleColumnFromPosition(O){return ee.i.visibleColumnFromColumn(this.textModel.getLineContent(O.lineNumber),O.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(O,b){this.assertNotDisposed();const V=this.textModel.getLineCount();if(O<1||O>V)throw new Error("Illegal value for startLineNumber");if(b<1||b>V)throw new Error("Illegal value for endLineNumber");const f=this.textModel.getOptions(),N=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,A=Boolean(N&&N.offSide),I=new Array(b-O+1);let P=-2,H=-1,F=-2,T=-1;for(let q=O;q<=b;q++){const Y=q-O,te=this._computeIndentLevel(q-1);if(te>=0)P=q-1,H=te,I[Y]=Math.ceil(te/f.indentSize);else{if(-2===P){P=-1,H=-1;for(let me=q-2;me>=0;me--){const _e=this._computeIndentLevel(me);if(_e>=0){P=me,H=_e;break}}}if(-1!==F&&(-2===F||F<q-1)){F=-1,T=-1;for(let me=q;me<V;me++){const _e=this._computeIndentLevel(me);if(_e>=0){F=me,T=_e;break}}}I[Y]=this._getIndentLevelForWhitespaceLine(A,H,T)}}return I}_getIndentLevelForWhitespaceLine(O,b,V){const f=this.textModel.getOptions();return-1===b||-1===V?0:b<V?1+Math.floor(b/f.indentSize):b===V||O?Math.ceil(V/f.indentSize):1+Math.floor(V/f.indentSize)}}class x{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel(O){return"bracket-indent-guide lvl-"+O%30}}},49401:(Ae,xe,L)=>{"use strict";L.d(xe,{qx:()=>Vn,yO:()=>Gn});var _=L(18337),h=L(68927),ee=L(53663),y=L(52787),v=L(52425),Z=L(13088),$=L(74672),B=L(94220),x=L(68451),R=L(43210),O=L(32213);class b{constructor(c,g,p){this.range=c,this.nestingLevel=g,this.isInvalid=p}}class f extends class V{constructor(c,g,p,E){this.range=c,this.openingBracketRange=g,this.closingBracketRange=p,this.nestingLevel=E}}{constructor(c,g,p,E,k){super(c,g,p,E),this.minVisibleColumnIndentation=k}}class N{constructor(c,g){this.lineCount=c,this.columnCount=g}toString(){return`${this.lineCount},${this.columnCount}`}}N.zero=new N(0,0);const H=Math.pow(2,26);function F(re,c){return re*H+c}function T(re){const c=re,g=Math.floor(c/H);return new N(g,c-g*H)}function te(re,c){return c<H?re+c:re-re%H+c}function _e(re,c){return re<c}function de(re,c){return re<=c}function Se(re,c){return re>=c}function Ve(re){return F(re.lineNumber-1,re.column-1)}function ce(re,c){const g=re,p=Math.floor(g/H),E=g-p*H,k=c,G=Math.floor(k/H);return new x.e(p+1,E+1,G+1,k-G*H+1)}class ie{constructor(c,g,p){this.startOffset=c,this.endOffset=g,this.newLength=p}}class oe{constructor(c,g){this.documentLength=g,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=c.map(p=>W.from(p))}getOffsetBeforeChange(c){return this.adjustNextEdit(c),this.translateCurToOld(c)}getDistanceToNextChange(c){this.adjustNextEdit(c);const g=this.edits[this.nextEditIdx];return function me(re,c){const g=re,p=c;if(p-g<=0)return 0;const k=Math.floor(g/H),G=Math.floor(p/H),fe=p-G*H;return k===G?F(0,fe-(g-k*H)):F(G-k,fe)}(c,g?this.translateOldToCur(g.offsetObj):this.documentLength)}translateOldToCur(c){return F(c.lineCount+this.deltaOldToNewLineCount,c.lineCount===this.deltaLineIdxInOld?c.columnCount+this.deltaOldToNewColumnCount:c.columnCount)}translateCurToOld(c){const g=T(c);return F(g.lineCount-this.deltaOldToNewLineCount,g.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?g.columnCount-this.deltaOldToNewColumnCount:g.columnCount)}adjustNextEdit(c){for(;this.nextEditIdx<this.edits.length;){const g=this.edits[this.nextEditIdx],p=this.translateOldToCur(g.endOffsetAfterObj);if(!de(p,c))break;{this.nextEditIdx++;const E=T(p),k=T(this.translateOldToCur(g.endOffsetBeforeObj));this.deltaOldToNewLineCount+=E.lineCount-k.lineCount,this.deltaOldToNewColumnCount=(this.deltaLineIdxInOld===g.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0)+(E.columnCount-k.columnCount),this.deltaLineIdxInOld=g.endOffsetBeforeObj.lineCount}}}}class W{constructor(c,g,p){this.endOffsetBeforeObj=T(g),this.endOffsetAfterObj=T(te(c,p)),this.offsetObj=T(c)}static from(c){return new W(c.startOffset,c.endOffset,c.newLength)}}var w=L(74826);const U=new Array;class D{constructor(c,g){this.items=c,this.additionalItems=g}static create(c,g){if(c<=128&&0===g.length){let p=D.cache[c];return p||(p=new D(c,g),D.cache[c]=p),p}return new D(c,g)}static getEmpty(){return this.empty}add(c,g){const p=g.getKey(c);let E=p>>5;if(0===E){const G=1<<p|this.items;return G===this.items?this:D.create(G,this.additionalItems)}E--;const k=this.additionalItems.slice(0);for(;k.length<E;)k.push(0);return k[E]|=1<<(31&p),D.create(this.items,k)}merge(c){const g=this.items|c.items;if(this.additionalItems===U&&c.additionalItems===U)return g===this.items?this:g===c.items?c:D.create(g,U);const p=new Array;for(let E=0;E<Math.max(this.additionalItems.length,c.additionalItems.length);E++)p.push((this.additionalItems[E]||0)|(c.additionalItems[E]||0));return D.create(g,p)}intersects(c){if(0!=(this.items&c.items))return!0;for(let g=0;g<Math.min(this.additionalItems.length,c.additionalItems.length);g++)if(0!=(this.additionalItems[g]&c.additionalItems[g]))return!0;return!1}}D.cache=new Array(129),D.empty=D.create(0,U);const z={getKey:re=>re};class ae{constructor(){this.items=new Map}getKey(c){let g=this.items.get(c);return void 0===g&&(g=this.items.size,this.items.set(c,g)),g}}class ye{constructor(c){this._length=c}get length(){return this._length}}class Ee extends ye{constructor(c,g,p,E,k){super(c),this.openingBracket=g,this.child=p,this.closingBracket=E,this.missingOpeningBracketIds=k}static create(c,g,p){let E=c.length;return g&&(E=te(E,g.length)),p&&(E=te(E,p.length)),new Ee(E,c,g,p,g?g.missingOpeningBracketIds:D.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(c){switch(c){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const c=new Array;return c.push(this.openingBracket),this.child&&c.push(this.child),this.closingBracket&&c.push(this.closingBracket),c}canBeReused(c){return!(null===this.closingBracket||c.intersects(this.missingOpeningBracketIds))}deepClone(){return new Ee(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(c,g){return this.child?this.child.computeMinIndentation(te(c,this.openingBracket.length),g):Number.MAX_SAFE_INTEGER}}class Me extends ye{constructor(c,g,p){super(c),this.listHeight=g,this._missingOpeningBracketIds=p,this.cachedMinIndentation=-1}static create23(c,g,p,E=!1){let k=c.length,G=c.missingOpeningBracketIds;if(c.listHeight!==g.listHeight)throw new Error("Invalid list heights");if(k=te(k,g.length),G=G.merge(g.missingOpeningBracketIds),p){if(c.listHeight!==p.listHeight)throw new Error("Invalid list heights");k=te(k,p.length),G=G.merge(p.missingOpeningBracketIds)}return E?new tt(k,c.listHeight+1,c,g,p,G):new Ke(k,c.listHeight+1,c,g,p,G)}static getEmpty(){return new bt(0,0,[],D.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const c=this.childrenLength;if(0===c)return;const g=this.getChild(c-1),p=4===g.kind?g.toMutable():g;return g!==p&&this.setChild(c-1,p),p}makeFirstElementMutable(){if(this.throwIfImmutable(),0===this.childrenLength)return;const g=this.getChild(0),p=4===g.kind?g.toMutable():g;return g!==p&&this.setChild(0,p),p}canBeReused(c){if(c.intersects(this.missingOpeningBracketIds))return!1;let p,g=this;for(;4===g.kind&&(p=g.childrenLength)>0;)g=g.getChild(p-1);return g.canBeReused(c)}handleChildrenChanged(){this.throwIfImmutable();const c=this.childrenLength;let g=this.getChild(0).length,p=this.getChild(0).missingOpeningBracketIds;for(let E=1;E<c;E++){const k=this.getChild(E);g=te(g,k.length),p=p.merge(k.missingOpeningBracketIds)}this._length=g,this._missingOpeningBracketIds=p,this.cachedMinIndentation=-1}computeMinIndentation(c,g){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let p=Number.MAX_SAFE_INTEGER,E=c;for(let k=0;k<this.childrenLength;k++){const G=this.getChild(k);G&&(p=Math.min(p,G.computeMinIndentation(E,g)),E=te(E,G.length))}return this.cachedMinIndentation=p,p}}class Ke extends Me{constructor(c,g,p,E,k,G){super(c,g,G),this._item1=p,this._item2=E,this._item3=k}get childrenLength(){return null!==this._item3?3:2}getChild(c){switch(c){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(c,g){switch(c){case 0:return void(this._item1=g);case 1:return void(this._item2=g);case 2:return void(this._item3=g)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new Ke(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(c){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=c,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const c=this._item3;return this._item3=null,this.handleChildrenChanged(),c}prependChildOfSameHeight(c){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=c,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const c=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),c}toMutable(){return this}}class tt extends Ke{toMutable(){return new Ke(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class ht extends Me{constructor(c,g,p,E){super(c,g,E),this._children=p}get childrenLength(){return this._children.length}getChild(c){return this._children[c]}setChild(c,g){this._children[c]=g}get children(){return this._children}deepClone(){const c=new Array(this._children.length);for(let g=0;g<this._children.length;g++)c[g]=this._children[g].deepClone();return new ht(this.length,this.listHeight,c,this.missingOpeningBracketIds)}appendChildOfSameHeight(c){this.throwIfImmutable(),this._children.push(c),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const c=this._children.pop();return this.handleChildrenChanged(),c}prependChildOfSameHeight(c){this.throwIfImmutable(),this._children.unshift(c),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const c=this._children.shift();return this.handleChildrenChanged(),c}toMutable(){return this}}class bt extends ht{toMutable(){return new ht(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const St=[];class yt extends ye{get listHeight(){return 0}get childrenLength(){return 0}getChild(c){return null}get children(){return St}deepClone(){return this}}class _t extends yt{get kind(){return 0}get missingOpeningBracketIds(){return D.getEmpty()}canBeReused(c){return!0}computeMinIndentation(c,g){const p=T(c),E=(0===p.columnCount?p.lineCount:p.lineCount+1)+1,k=function q(re){return Math.floor(re/H)}(te(c,this.length))+1;let G=Number.MAX_SAFE_INTEGER;for(let fe=E;fe<=k;fe++){const ge=g.getLineFirstNonWhitespaceColumn(fe),Le=g.getLineContent(fe);if(0===ge)continue;const we=w.i.visibleColumnFromColumn(Le,ge,g.getOptions().tabSize);G=Math.min(G,we)}return G}}class Ci extends yt{constructor(c,g,p){super(c),this.languageId=g,this.bracketIds=p}static create(c,g,p){return new Ci(c,g,p)}get kind(){return 1}get missingOpeningBracketIds(){return D.getEmpty()}canBeReused(c){return!1}computeMinIndentation(c,g){return Number.MAX_SAFE_INTEGER}}class Ni extends yt{constructor(c,g){super(g),this.missingOpeningBracketIds=c}get kind(){return 3}canBeReused(c){return!c.intersects(this.missingOpeningBracketIds)}computeMinIndentation(c,g){return Number.MAX_SAFE_INTEGER}}var Ji=L(5283);class yi{constructor(c,g,p,E,k){this.length=c,this.kind=g,this.bracketId=p,this.bracketIds=E,this.astNode=k}}class oi{constructor(c,g){this.textModel=c,this.bracketTokens=g,this.reader=new Ot(this.textModel,this.bracketTokens),this._offset=0,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=c.getLineCount(),this.textBufferLastLineLength=c.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return F(this.textBufferLineCount,this.textBufferLastLineLength)}skip(c){this.didPeek=!1,this._offset=te(this._offset,c);const g=T(this._offset);this.reader.setPosition(g.lineCount,g.columnCount)}read(){let c;return this.peeked?(this.didPeek=!1,c=this.peeked):c=this.reader.read(),c&&(this._offset=te(this._offset,c.length)),c}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class Ot{constructor(c,g){this.textModel=c,this.bracketTokens=g,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=c.getLineCount(),this.textBufferLastLineLength=c.getLineLength(this.textBufferLineCount)}setPosition(c,g){c===this.lineIdx?(this.lineCharOffset=g,this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=c,this.lineCharOffset=g,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const k=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=k.length,k}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const c=this.lineIdx,g=this.lineCharOffset;let p=0;for(;;){const k=this.lineTokens,G=k.getCount();let fe=null;if(this.lineTokenOffset<G){const ge=k.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<G&&ge===k.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const Le=0===Ji.NX.getTokenType(ge),we=k.getEndOffset(this.lineTokenOffset);if(Le&&we!==this.lineCharOffset){const Ie=k.getLanguageId(this.lineTokenOffset),Fe=this.line.substring(this.lineCharOffset,we),He=this.bracketTokens.getSingleLanguageBracketTokens(Ie),Ye=He.regExpGlobal;if(Ye){Ye.lastIndex=0;const at=Ye.exec(Fe);at&&(fe=He.getToken(at[0]),fe&&(this.lineCharOffset+=at.index))}}if(p+=we-this.lineCharOffset,fe){if(c!==this.lineIdx||g!==this.lineCharOffset){this.peekedToken=fe;break}return this.lineCharOffset+=fe.length,fe}this.lineTokenOffset++,this.lineCharOffset=we}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,p+=33,p>1e3))break;if(p>1500)break}const E=function A(re,c,g,p){return re!==g?F(g-re,p):F(0,p-c)}(c,g,this.lineIdx,this.lineCharOffset);return new yi(E,0,-1,D.getEmpty(),new _t(E))}}class $e{constructor(c,g){this.text=c,this._offset=0,this.idx=0;const E=g.getRegExpStr()?new RegExp(g.getRegExpStr()+"|\n","g"):null,k=[];let G,fe=0,ge=0,Le=0,we=0;const Ie=new Array;for(let Ye=0;Ye<60;Ye++)Ie.push(new yi(F(0,Ye),0,-1,D.getEmpty(),new _t(F(0,Ye))));const Fe=new Array;for(let Ye=0;Ye<60;Ye++)Fe.push(new yi(F(1,Ye),0,-1,D.getEmpty(),new _t(F(1,Ye))));if(E)for(E.lastIndex=0;null!==(G=E.exec(c));){const Ye=G.index,at=G[0];if("\n"===at)fe++,ge=Ye+1;else{if(Le!==Ye){let nt;if(we===fe){const Ct=Ye-Le;if(Ct<Ie.length)nt=Ie[Ct];else{const Mt=F(0,Ct);nt=new yi(Mt,0,-1,D.getEmpty(),new _t(Mt))}}else{const Ct=fe-we,Mt=Ye-ge;if(1===Ct&&Mt<Fe.length)nt=Fe[Mt];else{const At=F(Ct,Mt);nt=new yi(At,0,-1,D.getEmpty(),new _t(At))}}k.push(nt)}k.push(g.getToken(at)),Le=Ye+at.length,we=fe}}const He=c.length;if(Le!==He){const Ye=we===fe?F(0,He-Le):F(fe-we,He-ge);k.push(new yi(Ye,0,-1,D.getEmpty(),new _t(Ye)))}this.length=F(fe,He-ge),this.tokens=k}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(c){throw new ee.B8}}class mt{constructor(c){this.map=c,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(c,g){function p(ge,Le){return g.getKey(`${ge}:::${Le}`)}const E=c.characterPair.getColorizedBrackets(),k=new Map,G=new Set;for(const[ge,Le]of E){G.add(ge);let we=k.get(Le);const Ie=p(c.languageId,ge);we||(we={openingBrackets:D.getEmpty(),first:Ie},k.set(Le,we)),we.openingBrackets=we.openingBrackets.add(Ie,z)}const fe=new Map;for(const[ge,Le]of k){const we=F(0,ge.length);fe.set(ge,new yi(we,2,Le.first,Le.openingBrackets,Ci.create(we,c.languageId,Le.openingBrackets)))}for(const ge of G){const Le=F(0,ge.length),we=p(c.languageId,ge),Ie=D.getEmpty().add(we,z);fe.set(ge,new yi(Le,1,we,Ie,Ci.create(Le,c.languageId,Ie)))}return new mt(fe)}getRegExpStr(){if(this.isEmpty)return null;{const c=[...this.map.keys()];return c.sort(),c.reverse(),c.map(g=>function ct(re){const c=(0,Z.ec)(re);return/^[\w ]+$/.test(re)?`\\b${c}\\b`:c}(g)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const c=this.getRegExpStr();this._regExpGlobal=c?new RegExp(c,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(c){return this.map.get(c)}findClosingTokenText(c){for(const[g,p]of this.map)if(p.bracketIds.intersects(c))return g}get isEmpty(){return 0===this.map.size}}class Yt{constructor(c,g){this.denseKeyProvider=c,this.getLanguageConfiguration=g,this.languageIdToBracketTokens=new Map}didLanguageChange(c){const g=this.languageIdToBracketTokens.get(c);if(!g)return!1;const p=mt.createFromLanguage(this.getLanguageConfiguration(c),this.denseKeyProvider).getRegExpStr();return g.getRegExpStr()!==p}getSingleLanguageBracketTokens(c){let g=this.languageIdToBracketTokens.get(c);return g||(g=mt.createFromLanguage(this.getLanguageConfiguration(c),this.denseKeyProvider),this.languageIdToBracketTokens.set(c,g)),g}}function Gt(re,c=!1){if(0===re.length)return null;if(1===re.length)return re[0];let g=re.length;for(;g>3;){const p=g>>1;for(let E=0;E<p;E++){const k=E<<1;re[E]=Me.create23(re[k],re[k+1],k+3===g?re[k+2]:null,c)}g=p}return Me.create23(re[0],re[1],g>=3?re[2]:null,c)}function De(re,c){return Math.abs(re.listHeight-c.listHeight)}function Ge(re,c){return re.listHeight===c.listHeight?Me.create23(re,c,null,!1):re.listHeight>c.listHeight?function Je(re,c){let g=re=re.toMutable();const p=new Array;let E;for(;;){if(c.listHeight===g.listHeight){E=c;break}if(4!==g.kind)throw new Error("unexpected");p.push(g),g=g.makeLastElementMutable()}for(let k=p.length-1;k>=0;k--){const G=p[k];E?G.childrenLength>=3?E=Me.create23(G.unappendChild(),E,null,!1):(G.appendChildOfSameHeight(E),E=void 0):G.handleChildrenChanged()}return E?Me.create23(re,E,null,!1):re}(re,c):function gt(re,c){let g=re=re.toMutable();const p=new Array;for(;c.listHeight!==g.listHeight;){if(4!==g.kind)throw new Error("unexpected");p.push(g),g=g.makeFirstElementMutable()}let E=c;for(let k=p.length-1;k>=0;k--){const G=p[k];E?G.childrenLength>=3?E=Me.create23(E,G.unprependChild(),null,!1):(G.prependChildOfSameHeight(E),E=void 0):G.handleChildrenChanged()}return E?Me.create23(E,re,null,!1):re}(c,re)}class Pt{constructor(c){this.lastOffset=0,this.nextNodes=[c],this.offsets=[0],this.idxs=[]}readLongestNodeAt(c,g){if(_e(c,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=c;;){const p=mi(this.nextNodes);if(!p)return;const E=mi(this.offsets);if(_e(c,E))return;if(_e(E,c))if(te(E,p.length)<=c)this.nextNodeAfterCurrent();else{const k=ii(p);-1!==k?(this.nextNodes.push(p.getChild(k)),this.offsets.push(E),this.idxs.push(k)):this.nextNodeAfterCurrent()}else{if(g(p))return this.nextNodeAfterCurrent(),p;{const k=ii(p);if(-1===k)return void this.nextNodeAfterCurrent();this.nextNodes.push(p.getChild(k)),this.offsets.push(E),this.idxs.push(k)}}}}nextNodeAfterCurrent(){for(;;){const c=mi(this.offsets),g=mi(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const p=mi(this.nextNodes),E=ii(p,this.idxs[this.idxs.length-1]);if(-1!==E){this.nextNodes.push(p.getChild(E)),this.offsets.push(te(c,g.length)),this.idxs[this.idxs.length-1]=E;break}this.idxs.pop()}}}function ii(re,c=-1){for(;;){if(++c>=re.childrenLength)return-1;if(re.getChild(c))return c}}function mi(re){return re.length>0?re[re.length-1]:void 0}function Li(re,c,g,p){return new Ii(re,c,g,p).parseDocument()}class Ii{constructor(c,g,p,E){if(this.tokenizer=c,this.createImmutableLists=E,this._itemsConstructed=0,this._itemsFromCache=0,p&&E)throw new Error("Not supported");this.oldNodeReader=p?new Pt(p):void 0,this.positionMapper=new oe(g,c.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let c=this.parseList(D.getEmpty());return c||(c=Me.getEmpty()),c}parseList(c){const g=new Array;for(;;){const E=this.tokenizer.peek();if(!E||2===E.kind&&E.bracketIds.intersects(c))break;const k=this.parseChild(c);4===k.kind&&0===k.childrenLength||g.push(k)}return this.oldNodeReader?function Dt(re){if(0===re.length)return null;if(1===re.length)return re[0];let c=0;function g(){if(c>=re.length)return null;const G=c,fe=re[G].listHeight;for(c++;c<re.length&&re[c].listHeight===fe;)c++;return c-G>=2?Gt(0===G&&c===re.length?re:re.slice(G,c),!1):re[G]}let p=g(),E=g();if(!E)return p;for(let G=g();G;G=g())De(p,E)<=De(E,G)?(p=Ge(p,E),E=G):E=Ge(E,G);return Ge(p,E)}(g):Gt(g,this.createImmutableLists)}parseChild(c){if(this.oldNodeReader){const p=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!function P(re){return 0===re}(p)){const E=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),k=>!!_e(k.length,p)&&k.canBeReused(c));if(E)return this._itemsFromCache++,this.tokenizer.skip(E.length),E}}this._itemsConstructed++;const g=this.tokenizer.read();switch(g.kind){case 2:return new Ni(g.bracketIds,g.length);case 0:return g.astNode;case 1:{const p=c.merge(g.bracketIds),E=this.parseList(p),k=this.tokenizer.peek();return k&&2===k.kind&&(k.bracketId===g.bracketId||k.bracketIds.intersects(g.bracketIds))?(this.tokenizer.read(),Ee.create(g.astNode,E,k.astNode)):Ee.create(g.astNode,E,null)}default:throw new Error("unexpected")}}}class Ue extends v.JT{constructor(c,g){if(super(),this.textModel=c,this.getLanguageConfiguration=g,this.didChangeEmitter=new y.Q5,this.denseKeyProvider=new ae,this.brackets=new Yt(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this._register(c.onBackgroundTokenizationStateChanged(()=>{if(2===c.backgroundTokenizationState){const p=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,p||this.didChangeEmitter.fire()}})),this._register(c.onDidChangeTokens(({ranges:p})=>{const E=p.map(k=>new ie(F(k.fromLineNumber-1,0),F(k.toLineNumber,0),F(k.toLineNumber-k.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(E,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()})),0===c.backgroundTokenizationState){const p=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),E=new $e(this.textModel.getValue(),p);this.initialAstWithoutTokens=Li(E,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else 2===c.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):1===c.backgroundTokenizationState&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(c){return this.brackets.didLanguageChange(c)}handleContentChanged(c){const g=c.changes.map(p=>{const E=x.e.lift(p.range);return new ie(Ve(E.getStartPosition()),Ve(E.getEndPosition()),function K(re){const c=(0,Z.uq)(re);return F(c.length-1,c[c.length-1].length)}(p.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(g,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(g,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(c,g,p){const k=g;return Li(new oi(this.textModel,this.brackets),c,k,p)}getBracketsInRange(c){const g=F(c.startLineNumber-1,c.startColumn-1),p=F(c.endLineNumber-1,c.endColumn-1),E=new Array,k=this.initialAstWithoutTokens||this.astWithTokens;return pi(k,0,k.length,g,p,E),E}getBracketPairsInRange(c,g){const p=new Array,E=Ve(c.getStartPosition()),k=Ve(c.getEndPosition()),G=this.initialAstWithoutTokens||this.astWithTokens,fe=new fi(p,g,this.textModel);return Be(G,0,G.length,E,k,fe),p}}function pi(re,c,g,p,E,k,G=0){if(1===re.kind){const fe=ce(c,g);k.push(new b(fe,G-1,!1))}else if(3===re.kind){const fe=ce(c,g);k.push(new b(fe,G-1,!0))}else if(4===re.kind)for(const fe of re.children)g=te(c,fe.length),de(c,E)&&Se(g,p)&&pi(fe,c,g,p,E,k,G),c=g;else if(2===re.kind){G++;{const fe=re.openingBracket;g=te(c,fe.length),de(c,E)&&Se(g,p)&&pi(fe,c,g,p,E,k,G),c=g}if(re.child){const fe=re.child;g=te(c,fe.length),de(c,E)&&Se(g,p)&&pi(fe,c,g,p,E,k,G),c=g}if(re.closingBracket){const fe=re.closingBracket;g=te(c,fe.length),de(c,E)&&Se(g,p)&&pi(fe,c,g,p,E,k,G),c=g}}}class fi{constructor(c,g,p){this.result=c,this.includeMinIndentation=g,this.textModel=p}}function Be(re,c,g,p,E,k,G=0){var fe;if(2===re.kind){const Le=te(c,re.openingBracket.length);let we=-1;k.includeMinIndentation&&(we=re.computeMinIndentation(c,k.textModel)),k.result.push(new f(ce(c,g),ce(c,Le),re.closingBracket?ce(te(Le,(null===(fe=re.child)||void 0===fe?void 0:fe.length)||0),g):void 0,G,we)),G++}let ge=c;for(const Le of re.children){const we=ge;ge=te(ge,Le.length),de(we,E)&&de(p,ge)&&Be(Le,we,ge,p,E,k,G)}}var Mi=L(18555),ri=L(93404);class Xe extends v.JT{constructor(c,g){super(),this.textModel=c,this.languageConfigurationService=g,this.bracketPairsTree=this._register(new v.XK),this.onDidChangeEmitter=new y.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(c.onDidChangeOptions(p=>{this.bracketPairsTree.clear(),this.updateBracketPairsTree()})),this._register(c.onDidChangeLanguage(p=>{this.bracketPairsTree.clear(),this.updateBracketPairsTree()})),this._register(this.languageConfigurationService.onDidChange(p=>{var E;(!p.languageId||(null===(E=this.bracketPairsTree.value)||void 0===E?void 0:E.object.didLanguageChange(p.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get isDocumentSupported(){return this.textModel.getValueLength()<=5e6}updateBracketPairsTree(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.bracketPairsTree.value){const c=new v.SL;this.bracketPairsTree.value=function Ze(re,c){return{object:re,dispose:()=>null==c?void 0:c.dispose()}}(c.add(new Ue(this.textModel,g=>this.languageConfigurationService.getLanguageConfiguration(g))),c),c.add(this.bracketPairsTree.value.object.onDidChange(g=>this.onDidChangeEmitter.fire(g))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}handleContentChanged(c){var g;null===(g=this.bracketPairsTree.value)||void 0===g||g.object.handleContentChanged(c)}getBracketPairsInRange(c){var g;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(g=this.bracketPairsTree.value)||void 0===g?void 0:g.object.getBracketPairsInRange(c,!1))||[]}getBracketPairsInRangeWithMinIndentation(c){var g;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(g=this.bracketPairsTree.value)||void 0===g?void 0:g.object.getBracketPairsInRange(c,!0))||[]}getBracketsInRange(c){var g;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(g=this.bracketPairsTree.value)||void 0===g?void 0:g.object.getBracketsInRange(c))||[]}findMatchingBracketUp(c,g){const p=c.toLowerCase(),E=this.textModel.validatePosition(g),k=this.textModel.getLanguageIdAtPosition(E.lineNumber,E.column),G=this.languageConfigurationService.getLanguageConfiguration(k).brackets;if(!G)return null;const fe=G.textIsBracket[p];return fe?rt(this._findMatchingBracketUp(fe,E,null)):null}matchBracket(c){return this._matchBracket(this.textModel.validatePosition(c))}_establishBracketSearchOffsets(c,g,p,E){const k=g.getCount(),G=g.getLanguageId(E);let fe=Math.max(0,c.column-1-p.maxBracketLength);for(let Le=E-1;Le>=0;Le--){const we=g.getEndOffset(Le);if(we<=fe)break;if((0,Mi.Bu)(g.getStandardTokenType(Le))||g.getLanguageId(Le)!==G){fe=we;break}}let ge=Math.min(g.getLineContent().length,c.column-1+p.maxBracketLength);for(let Le=E+1;Le<k;Le++){const we=g.getStartOffset(Le);if(we>=ge)break;if((0,Mi.Bu)(g.getStandardTokenType(Le))||g.getLanguageId(Le)!==G){ge=we;break}}return{searchStartOffset:fe,searchEndOffset:ge}}_matchBracket(c){const g=c.lineNumber,p=this.textModel.getLineTokens(g),E=this.textModel.getLineContent(g),k=p.findTokenIndexAtOffset(c.column-1);if(k<0)return null;const G=this.languageConfigurationService.getLanguageConfiguration(p.getLanguageId(k)).brackets;if(G&&!(0,Mi.Bu)(p.getStandardTokenType(k))){let{searchStartOffset:fe,searchEndOffset:ge}=this._establishBracketSearchOffsets(c,p,G,k),Le=null;for(;;){const we=ri.Vr.findNextBracketInRange(G.forwardRegex,g,E,fe,ge);if(!we)break;if(we.startColumn<=c.column&&c.column<=we.endColumn){const Ie=E.substring(we.startColumn-1,we.endColumn-1).toLowerCase(),Fe=this._matchFoundBracket(we,G.textIsBracket[Ie],G.textIsOpenBracket[Ie],null);if(Fe){if(Fe instanceof Xt)return null;Le=Fe}}fe=we.endColumn-1}if(Le)return Le}if(k>0&&p.getStartOffset(k)===c.column-1){const fe=k-1,ge=this.languageConfigurationService.getLanguageConfiguration(p.getLanguageId(fe)).brackets;if(ge&&!(0,Mi.Bu)(p.getStandardTokenType(fe))){const{searchStartOffset:Le,searchEndOffset:we}=this._establishBracketSearchOffsets(c,p,ge,fe),Ie=ri.Vr.findPrevBracketInRange(ge.reversedRegex,g,E,Le,we);if(Ie&&Ie.startColumn<=c.column&&c.column<=Ie.endColumn){const Fe=E.substring(Ie.startColumn-1,Ie.endColumn-1).toLowerCase(),He=this._matchFoundBracket(Ie,ge.textIsBracket[Fe],ge.textIsOpenBracket[Fe],null);if(He)return He instanceof Xt?null:He}}}return null}_matchFoundBracket(c,g,p,E){if(!g)return null;const k=p?this._findMatchingBracketDown(g,c.getEndPosition(),E):this._findMatchingBracketUp(g,c.getStartPosition(),E);return k?k instanceof Xt?k:[c,k]:null}_findMatchingBracketUp(c,g,p){const E=c.languageId,k=c.reversedRegex;let G=-1,fe=0;const ge=(Le,we,Ie,Fe)=>{for(;;){if(p&&++fe%100==0&&!p())return Xt.INSTANCE;const He=ri.Vr.findPrevBracketInRange(k,Le,we,Ie,Fe);if(!He)break;const Ye=we.substring(He.startColumn-1,He.endColumn-1).toLowerCase();if(c.isOpen(Ye)?G++:c.isClose(Ye)&&G--,0===G)return He;Fe=He.startColumn-1}return null};for(let Le=g.lineNumber;Le>=1;Le--){const we=this.textModel.getLineTokens(Le),Ie=we.getCount(),Fe=this.textModel.getLineContent(Le);let He=Ie-1,Ye=Fe.length,at=Fe.length;Le===g.lineNumber&&(He=we.findTokenIndexAtOffset(g.column-1),Ye=g.column-1,at=g.column-1);let nt=!0;for(;He>=0;He--){const Ct=we.getLanguageId(He)===E&&!(0,Mi.Bu)(we.getStandardTokenType(He));if(Ct)nt?Ye=we.getStartOffset(He):(Ye=we.getStartOffset(He),at=we.getEndOffset(He));else if(nt&&Ye!==at){const Mt=ge(Le,Fe,Ye,at);if(Mt)return Mt}nt=Ct}if(nt&&Ye!==at){const Ct=ge(Le,Fe,Ye,at);if(Ct)return Ct}}return null}_findMatchingBracketDown(c,g,p){const E=c.languageId,k=c.forwardRegex;let G=1,fe=0;const ge=(we,Ie,Fe,He)=>{for(;;){if(p&&++fe%100==0&&!p())return Xt.INSTANCE;const Ye=ri.Vr.findNextBracketInRange(k,we,Ie,Fe,He);if(!Ye)break;const at=Ie.substring(Ye.startColumn-1,Ye.endColumn-1).toLowerCase();if(c.isOpen(at)?G++:c.isClose(at)&&G--,0===G)return Ye;Fe=Ye.endColumn-1}return null},Le=this.textModel.getLineCount();for(let we=g.lineNumber;we<=Le;we++){const Ie=this.textModel.getLineTokens(we),Fe=Ie.getCount(),He=this.textModel.getLineContent(we);let Ye=0,at=0,nt=0;we===g.lineNumber&&(Ye=Ie.findTokenIndexAtOffset(g.column-1),at=g.column-1,nt=g.column-1);let Ct=!0;for(;Ye<Fe;Ye++){const Mt=Ie.getLanguageId(Ye)===E&&!(0,Mi.Bu)(Ie.getStandardTokenType(Ye));if(Mt)Ct||(at=Ie.getStartOffset(Ye)),nt=Ie.getEndOffset(Ye);else if(Ct&&at!==nt){const At=ge(we,He,at,nt);if(At)return At}Ct=Mt}if(Ct&&at!==nt){const Mt=ge(we,He,at,nt);if(Mt)return Mt}}return null}findPrevBracket(c){const g=this.textModel.validatePosition(c);let p=null,E=null;for(let k=g.lineNumber;k>=1;k--){const G=this.textModel.getLineTokens(k),fe=G.getCount(),ge=this.textModel.getLineContent(k);let Le=fe-1,we=ge.length,Ie=ge.length;if(k===g.lineNumber){Le=G.findTokenIndexAtOffset(g.column-1),we=g.column-1,Ie=g.column-1;const He=G.getLanguageId(Le);p!==He&&(p=He,E=this.languageConfigurationService.getLanguageConfiguration(p).brackets)}let Fe=!0;for(;Le>=0;Le--){const He=G.getLanguageId(Le);if(p!==He){if(E&&Fe&&we!==Ie){const at=ri.Vr.findPrevBracketInRange(E.reversedRegex,k,ge,we,Ie);if(at)return this._toFoundBracket(E,at);Fe=!1}p=He,E=this.languageConfigurationService.getLanguageConfiguration(p).brackets}const Ye=!!E&&!(0,Mi.Bu)(G.getStandardTokenType(Le));if(Ye)Fe?we=G.getStartOffset(Le):(we=G.getStartOffset(Le),Ie=G.getEndOffset(Le));else if(E&&Fe&&we!==Ie){const at=ri.Vr.findPrevBracketInRange(E.reversedRegex,k,ge,we,Ie);if(at)return this._toFoundBracket(E,at)}Fe=Ye}if(E&&Fe&&we!==Ie){const He=ri.Vr.findPrevBracketInRange(E.reversedRegex,k,ge,we,Ie);if(He)return this._toFoundBracket(E,He)}}return null}findNextBracket(c){const g=this.textModel.validatePosition(c),p=this.textModel.getLineCount();let E=null,k=null;for(let G=g.lineNumber;G<=p;G++){const fe=this.textModel.getLineTokens(G),ge=fe.getCount(),Le=this.textModel.getLineContent(G);let we=0,Ie=0,Fe=0;if(G===g.lineNumber){we=fe.findTokenIndexAtOffset(g.column-1),Ie=g.column-1,Fe=g.column-1;const Ye=fe.getLanguageId(we);E!==Ye&&(E=Ye,k=this.languageConfigurationService.getLanguageConfiguration(E).brackets)}let He=!0;for(;we<ge;we++){const Ye=fe.getLanguageId(we);if(E!==Ye){if(k&&He&&Ie!==Fe){const nt=ri.Vr.findNextBracketInRange(k.forwardRegex,G,Le,Ie,Fe);if(nt)return this._toFoundBracket(k,nt);He=!1}E=Ye,k=this.languageConfigurationService.getLanguageConfiguration(E).brackets}const at=!!k&&!(0,Mi.Bu)(fe.getStandardTokenType(we));if(at)He||(Ie=fe.getStartOffset(we)),Fe=fe.getEndOffset(we);else if(k&&He&&Ie!==Fe){const nt=ri.Vr.findNextBracketInRange(k.forwardRegex,G,Le,Ie,Fe);if(nt)return this._toFoundBracket(k,nt)}He=at}if(k&&He&&Ie!==Fe){const Ye=ri.Vr.findNextBracketInRange(k.forwardRegex,G,Le,Ie,Fe);if(Ye)return this._toFoundBracket(k,Ye)}}return null}findEnclosingBrackets(c,g){let p;if(void 0===g)p=null;else{const He=Date.now();p=()=>Date.now()-He<=g}const E=this.textModel.validatePosition(c),k=this.textModel.getLineCount(),G=new Map;let fe=[];const ge=(He,Ye)=>{if(!G.has(He)){const at=[];for(let nt=0,Ct=Ye?Ye.brackets.length:0;nt<Ct;nt++)at[nt]=0;G.set(He,at)}fe=G.get(He)};let Le=0;const we=(He,Ye,at,nt,Ct)=>{for(;;){if(p&&++Le%100==0&&!p())return Xt.INSTANCE;const Mt=ri.Vr.findNextBracketInRange(He.forwardRegex,Ye,at,nt,Ct);if(!Mt)break;const At=at.substring(Mt.startColumn-1,Mt.endColumn-1).toLowerCase(),ti=He.textIsBracket[At];if(ti&&(ti.isOpen(At)?fe[ti.index]++:ti.isClose(At)&&fe[ti.index]--,-1===fe[ti.index]))return this._matchFoundBracket(Mt,ti,!1,p);nt=Mt.endColumn-1}return null};let Ie=null,Fe=null;for(let He=E.lineNumber;He<=k;He++){const Ye=this.textModel.getLineTokens(He),at=Ye.getCount(),nt=this.textModel.getLineContent(He);let Ct=0,Mt=0,At=0;if(He===E.lineNumber){Ct=Ye.findTokenIndexAtOffset(E.column-1),Mt=E.column-1,At=E.column-1;const vt=Ye.getLanguageId(Ct);Ie!==vt&&(Ie=vt,Fe=this.languageConfigurationService.getLanguageConfiguration(Ie).brackets,ge(Ie,Fe))}let ti=!0;for(;Ct<at;Ct++){const vt=Ye.getLanguageId(Ct);if(Ie!==vt){if(Fe&&ti&&Mt!==At){const Yi=we(Fe,He,nt,Mt,At);if(Yi)return rt(Yi);ti=!1}Ie=vt,Fe=this.languageConfigurationService.getLanguageConfiguration(Ie).brackets,ge(Ie,Fe)}const qi=!!Fe&&!(0,Mi.Bu)(Ye.getStandardTokenType(Ct));if(qi)ti||(Mt=Ye.getStartOffset(Ct)),At=Ye.getEndOffset(Ct);else if(Fe&&ti&&Mt!==At){const Yi=we(Fe,He,nt,Mt,At);if(Yi)return rt(Yi)}ti=qi}if(Fe&&ti&&Mt!==At){const vt=we(Fe,He,nt,Mt,At);if(vt)return rt(vt)}}return null}_toFoundBracket(c,g){if(!g)return null;let p=this.textModel.getValueInRange(g);p=p.toLowerCase();const E=c.textIsBracket[p];return E?{range:g,open:E.open,close:E.close,isOpen:c.textIsOpenBracket[p]}:null}}class Xt{constructor(){this._searchCanceledBrand=void 0}}function rt(re){return re instanceof Xt?null:re}Xt.INSTANCE=new Xt;var bi=L(53448),un=L(23024);class Re extends v.JT{constructor(c){super(),this.textModel=c,this.colorProvider=new Oe,this.onDidChangeEmitter=new y.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=c.getOptions().bracketPairColorizationOptions,this._register(c.onDidChangeOptions(g=>{this.colorizationOptions=c.getOptions().bracketPairColorizationOptions})),this._register(c.bracketPairs.onDidChange(g=>{this.onDidChangeEmitter.fire()}))}getDecorationsInRange(c,g,p){if(void 0===g)return[];if(!this.colorizationOptions.enabled)return[];const E=new Array,k=this.textModel.bracketPairs.getBracketsInRange(c);for(const G of k)E.push({id:`bracket${G.range.toString()}-${G.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(G)},ownerId:0,range:G.range});return E}getAllDecorations(c,g){return void 0===c?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new x.e(1,1,this.textModel.getLineCount(),1),c,g):[]}}class Oe{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(c){return c.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(c.nestingLevel)}getInlineClassNameOfLevel(c){return"bracket-highlighting-"+c%30}}(0,un.Ic)((re,c)=>{const g=[bi.zJ,bi.Vs,bi.CE,bi.UP,bi.r0,bi.m1],p=new Oe;c.addRule(`.monaco-editor .${p.unexpectedClosingBracketClassName} { color: ${re.getColor(bi.ts)}; }`);const E=g.map(k=>re.getColor(k)).filter(k=>!!k).filter(k=>!k.isTransparent());for(let k=0;k<30;k++){const G=E[k%E.length];c.addRule(`.monaco-editor .${p.getInlineClassNameOfLevel(k)} { color: ${G}; }`)}});var st=L(94898),Lt=L(88662);class Ht{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function gi(re,c,g,p,E){let k;for(E.spacesDiff=0,E.looksLikeAlignment=!1,k=0;k<c&&k<p&&re.charCodeAt(k)===g.charCodeAt(k);k++);let G=0,fe=0;for(let Fe=k;Fe<c;Fe++)32===re.charCodeAt(Fe)?G++:fe++;let ge=0,Le=0;for(let Fe=k;Fe<p;Fe++)32===g.charCodeAt(Fe)?ge++:Le++;if(G>0&&fe>0||ge>0&&Le>0)return;const we=Math.abs(fe-Le),Ie=Math.abs(G-ge);if(0===we)return E.spacesDiff=Ie,void(Ie>0&&0<=ge-1&&ge-1<re.length&&ge<g.length&&32!==g.charCodeAt(ge)&&32===re.charCodeAt(ge-1)&&44===re.charCodeAt(re.length-1)&&(E.looksLikeAlignment=!0));Ie%we!=0||(E.spacesDiff=Ie/we)}function _i(re,c,g){const p=Math.min(re.getLineCount(),1e4);let E=0,k=0,G="",fe=0;const ge=[2,4,6,8,3,5,7],we=[0,0,0,0,0,0,0,0,0],Ie=new Ht;for(let Ye=1;Ye<=p;Ye++){const at=re.getLineLength(Ye),nt=re.getLineContent(Ye),Ct=at<=65536;let Mt=!1,At=0,ti=0,vt=0;for(let Yi=0,So=at;Yi<So;Yi++){const Ft=Ct?nt.charCodeAt(Yi):re.getLineCharCode(Ye,Yi);if(9===Ft)vt++;else{if(32!==Ft){Mt=!0,At=Yi;break}ti++}}if(!Mt||(vt>0?E++:ti>1&&k++,gi(G,fe,nt,At,Ie),Ie.looksLikeAlignment&&(!g||c!==Ie.spacesDiff)))continue;const qi=Ie.spacesDiff;qi<=8&&we[qi]++,G=nt,fe=At}let Fe=g;E!==k&&(Fe=E<k);let He=c;if(Fe){let Ye=Fe?0:.1*p;ge.forEach(at=>{const nt=we[at];nt>Ye&&(Ye=nt,He=at)}),4===He&&we[4]>0&&we[2]>0&&we[2]>=we[4]/2&&(He=2)}return{insertSpaces:Fe,tabSize:He}}function ei(re){return(1&re.metadata)>>>0}function zt(re,c){re.metadata=254&re.metadata|c<<0}function Si(re){return(2&re.metadata)>>>1==1}function Jt(re,c){re.metadata=253&re.metadata|(c?1:0)<<1}function fn(re){return(4&re.metadata)>>>2==1}function Ds(re,c){re.metadata=251&re.metadata|(c?1:0)<<2}function ks(re,c){re.metadata=231&re.metadata|c<<3}function Ts(re,c){re.metadata=223&re.metadata|(c?1:0)<<5}class On{constructor(c,g,p){this.metadata=0,this.parent=this,this.left=this,this.right=this,zt(this,1),this.start=g,this.end=p,this.delta=0,this.maxEnd=p,this.id=c,this.ownerId=0,this.options=null,Ds(this,!1),ks(this,1),Ts(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=g,this.cachedAbsoluteEnd=p,this.range=null,Jt(this,!1)}reset(c,g,p,E){this.start=g,this.end=p,this.maxEnd=p,this.cachedVersionId=c,this.cachedAbsoluteStart=g,this.cachedAbsoluteEnd=p,this.range=E}setOptions(c){this.options=c;const g=this.options.className;Ds(this,"squiggly-error"===g||"squiggly-warning"===g||"squiggly-info"===g),ks(this,this.options.stickiness),Ts(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(c,g,p){this.cachedVersionId!==p&&(this.range=null),this.cachedVersionId=p,this.cachedAbsoluteStart=c,this.cachedAbsoluteEnd=g}detach(){this.parent=null,this.left=null,this.right=null}}const Tt=new On(null,0,0);Tt.parent=Tt,Tt.left=Tt,Tt.right=Tt,zt(Tt,0);class ms{constructor(){this.root=Tt,this.requestNormalizeDelta=!1}intervalSearch(c,g,p,E,k){return this.root===Tt?[]:function fo(re,c,g,p,E,k){let G=re.root,fe=0,ge=0,Le=0,we=0;const Ie=[];let Fe=0;for(;G!==Tt;)if(Si(G))Jt(G.left,!1),Jt(G.right,!1),G===G.parent.right&&(fe-=G.parent.delta),G=G.parent;else{if(!Si(G.left)){if(ge=fe+G.maxEnd,ge<c){Jt(G,!0);continue}if(G.left!==Tt){G=G.left;continue}}if(Le=fe+G.start,Le>g)Jt(G,!0);else{if(we=fe+G.end,we>=c){G.setCachedOffsets(Le,we,k);let He=!0;p&&G.ownerId&&G.ownerId!==p&&(He=!1),E&&fn(G)&&(He=!1),He&&(Ie[Fe++]=G)}Jt(G,!0),G.right===Tt||Si(G.right)||(fe+=G.delta,G=G.right)}}return Jt(re.root,!1),Ie}(this,c,g,p,E,k)}search(c,g,p){return this.root===Tt?[]:function ko(re,c,g,p){let E=re.root,k=0,G=0,fe=0;const ge=[];let Le=0;for(;E!==Tt;){if(Si(E)){Jt(E.left,!1),Jt(E.right,!1),E===E.parent.right&&(k-=E.parent.delta),E=E.parent;continue}if(E.left!==Tt&&!Si(E.left)){E=E.left;continue}G=k+E.start,fe=k+E.end,E.setCachedOffsets(G,fe,p);let we=!0;c&&E.ownerId&&E.ownerId!==c&&(we=!1),g&&fn(E)&&(we=!1),we&&(ge[Le++]=E),Jt(E,!0),E.right===Tt||Si(E.right)||(k+=E.delta,E=E.right)}return Jt(re.root,!1),ge}(this,c,g,p)}collectNodesFromOwner(c){return function ps(re,c){let g=re.root;const p=[];let E=0;for(;g!==Tt;)Si(g)?(Jt(g.left,!1),Jt(g.right,!1),g=g.parent):g.left===Tt||Si(g.left)?(g.ownerId===c&&(p[E++]=g),Jt(g,!0),g.right===Tt||Si(g.right)||(g=g.right)):g=g.left;return Jt(re.root,!1),p}(this,c)}collectNodesPostOrder(){return function bn(re){let c=re.root;const g=[];let p=0;for(;c!==Tt;)Si(c)?(Jt(c.left,!1),Jt(c.right,!1),c=c.parent):c.left===Tt||Si(c.left)?c.right===Tt||Si(c.right)?(g[p++]=c,Jt(c,!0)):c=c.right:c=c.left;return Jt(re.root,!1),g}(this)}insert(c){qn(this,c),this._normalizeDeltaIfNecessary()}delete(c){Nn(this,c),this._normalizeDeltaIfNecessary()}resolveNode(c,g){const p=c;let E=0;for(;c!==this.root;)c===c.parent.right&&(E+=c.parent.delta),c=c.parent;p.setCachedOffsets(p.start+E,p.end+E,g)}acceptReplace(c,g,p,E){const k=function ho(re,c,g){let p=re.root,E=0,k=0,G=0,fe=0;const ge=[];let Le=0;for(;p!==Tt;)if(Si(p))Jt(p.left,!1),Jt(p.right,!1),p===p.parent.right&&(E-=p.parent.delta),p=p.parent;else{if(!Si(p.left)){if(k=E+p.maxEnd,k<c){Jt(p,!0);continue}if(p.left!==Tt){p=p.left;continue}}G=E+p.start,G>g?Jt(p,!0):(fe=E+p.end,fe>=c&&(p.setCachedOffsets(G,fe,0),ge[Le++]=p),Jt(p,!0),p.right===Tt||Si(p.right)||(E+=p.delta,p=p.right))}return Jt(re.root,!1),ge}(this,c,c+g);for(let G=0,fe=k.length;G<fe;G++)Nn(this,k[G]);this._normalizeDeltaIfNecessary(),function uo(re,c,g,p){let E=re.root,k=0,G=0,fe=0;const ge=p-(g-c);for(;E!==Tt;)if(Si(E))Jt(E.left,!1),Jt(E.right,!1),E===E.parent.right&&(k-=E.parent.delta),In(E),E=E.parent;else{if(!Si(E.left)){if(G=k+E.maxEnd,G<c){Jt(E,!0);continue}if(E.left!==Tt){E=E.left;continue}}fe=k+E.start,fe>g?(E.start+=ge,E.end+=ge,E.delta+=ge,(E.delta<-1073741824||E.delta>1073741824)&&(re.requestNormalizeDelta=!0),Jt(E,!0)):(Jt(E,!0),E.right===Tt||Si(E.right)||(k+=E.delta,E=E.right))}Jt(re.root,!1)}(this,c,c+g,p),this._normalizeDeltaIfNecessary();for(let G=0,fe=k.length;G<fe;G++){const ge=k[G];ge.start=ge.cachedAbsoluteStart,ge.end=ge.cachedAbsoluteEnd,co(ge,c,c+g,p,E),ge.maxEnd=ge.end,qn(this,ge)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,function Un(re){let c=re.root,g=0;for(;c!==Tt;)c.left===Tt||Si(c.left)?c.right===Tt||Si(c.right)?(c.start=g+c.start,c.end=g+c.end,c.delta=0,In(c),Jt(c,!0),Jt(c.left,!1),Jt(c.right,!1),c===c.parent.right&&(g-=c.parent.delta),c=c.parent):(g+=c.delta,c=c.right):c=c.left;Jt(re.root,!1)}(this))}}function jn(re,c,g,p){return re<g||!(re>g||1===p)&&(2===p||c)}function co(re,c,g,p,E){const k=function js(re){return(24&re.metadata)>>>3}(re),G=0===k||2===k,fe=1===k||2===k,ge=g-c,Le=p,we=Math.min(ge,Le),Ie=re.start;let Fe=!1;const He=re.end;let Ye=!1;c<=Ie&&He<=g&&function lo(re){return(32&re.metadata)>>>5==1}(re)&&(re.start=c,Fe=!0,re.end=c,Ye=!0);{const nt=E?1:ge>0?2:0;!Fe&&jn(Ie,G,c,nt)&&(Fe=!0),!Ye&&jn(He,fe,c,nt)&&(Ye=!0)}if(we>0&&!E){const nt=ge>Le?2:0;!Fe&&jn(Ie,G,c+we,nt)&&(Fe=!0),!Ye&&jn(He,fe,c+we,nt)&&(Ye=!0)}{const nt=E?1:0;!Fe&&jn(Ie,G,g,nt)&&(re.start=c+Le,Fe=!0),!Ye&&jn(He,fe,g,nt)&&(re.end=c+Le,Ye=!0)}const at=Le-ge;Fe||(re.start=Math.max(0,Ie+at)),Ye||(re.end=Math.max(0,He+at)),re.start>re.end&&(re.end=re.start)}function qn(re,c){if(re.root===Tt)return c.parent=Tt,c.left=Tt,c.right=Tt,zt(c,0),re.root=c,re.root;(function Kn(re,c){let g=0,p=re.root;const E=c.start,k=c.end;for(;;)if(Ei(E,k,p.start+g,p.end+g)<0){if(p.left===Tt){c.start-=g,c.end-=g,c.maxEnd-=g,p.left=c;break}p=p.left}else{if(p.right===Tt){c.start-=g+p.delta,c.end-=g+p.delta,c.maxEnd-=g+p.delta,p.right=c;break}g+=p.delta,p=p.right}c.parent=p,c.left=Tt,c.right=Tt,zt(c,1)})(re,c),ut(c.parent);let g=c;for(;g!==re.root&&1===ei(g.parent);)if(g.parent===g.parent.parent.left){const p=g.parent.parent.right;1===ei(p)?(zt(g.parent,0),zt(p,0),zt(g.parent.parent,1),g=g.parent.parent):(g===g.parent.right&&(g=g.parent,Yn(re,g)),zt(g.parent,0),zt(g.parent.parent,1),Ms(re,g.parent.parent))}else{const p=g.parent.parent.left;1===ei(p)?(zt(g.parent,0),zt(p,0),zt(g.parent.parent,1),g=g.parent.parent):(g===g.parent.left&&(g=g.parent,Ms(re,g)),zt(g.parent,0),zt(g.parent.parent,1),Yn(re,g.parent.parent))}return zt(re.root,0),c}function Nn(re,c){let g,p;if(c.left===Tt?(g=c.right,p=c,g.delta+=c.delta,(g.delta<-1073741824||g.delta>1073741824)&&(re.requestNormalizeDelta=!0),g.start+=c.delta,g.end+=c.delta):c.right===Tt?(g=c.left,p=c):(p=function Ks(re){for(;re.left!==Tt;)re=re.left;return re}(c.right),g=p.right,g.start+=p.delta,g.end+=p.delta,g.delta+=p.delta,(g.delta<-1073741824||g.delta>1073741824)&&(re.requestNormalizeDelta=!0),p.start+=c.delta,p.end+=c.delta,p.delta=c.delta,(p.delta<-1073741824||p.delta>1073741824)&&(re.requestNormalizeDelta=!0)),p===re.root)return re.root=g,zt(g,0),c.detach(),os(),In(g),void(re.root.parent=Tt);const E=1===ei(p);if(p===p.parent.left?p.parent.left=g:p.parent.right=g,p===c?g.parent=p.parent:(g.parent=p.parent===c?p:p.parent,p.left=c.left,p.right=c.right,p.parent=c.parent,zt(p,ei(c)),c===re.root?re.root=p:c===c.parent.left?c.parent.left=p:c.parent.right=p,p.left!==Tt&&(p.left.parent=p),p.right!==Tt&&(p.right.parent=p)),c.detach(),E)return ut(g.parent),p!==c&&(ut(p),ut(p.parent)),void os();let k;for(ut(g),ut(g.parent),p!==c&&(ut(p),ut(p.parent));g!==re.root&&0===ei(g);)g===g.parent.left?(k=g.parent.right,1===ei(k)&&(zt(k,0),zt(g.parent,1),Yn(re,g.parent),k=g.parent.right),0===ei(k.left)&&0===ei(k.right)?(zt(k,1),g=g.parent):(0===ei(k.right)&&(zt(k.left,0),zt(k,1),Ms(re,k),k=g.parent.right),zt(k,ei(g.parent)),zt(g.parent,0),zt(k.right,0),Yn(re,g.parent),g=re.root)):(k=g.parent.left,1===ei(k)&&(zt(k,0),zt(g.parent,1),Ms(re,g.parent),k=g.parent.left),0===ei(k.left)&&0===ei(k.right)?(zt(k,1),g=g.parent):(0===ei(k.left)&&(zt(k.right,0),zt(k,1),Yn(re,k),k=g.parent.left),zt(k,ei(g.parent)),zt(g.parent,0),zt(k.left,0),Ms(re,g.parent),g=re.root));zt(g,0),os()}function os(){Tt.parent=Tt,Tt.delta=0,Tt.start=0,Tt.end=0}function Yn(re,c){const g=c.right;g.delta+=c.delta,(g.delta<-1073741824||g.delta>1073741824)&&(re.requestNormalizeDelta=!0),g.start+=c.delta,g.end+=c.delta,c.right=g.left,g.left!==Tt&&(g.left.parent=c),g.parent=c.parent,c.parent===Tt?re.root=g:c===c.parent.left?c.parent.left=g:c.parent.right=g,g.left=c,c.parent=g,In(c),In(g)}function Ms(re,c){const g=c.left;c.delta-=g.delta,(c.delta<-1073741824||c.delta>1073741824)&&(re.requestNormalizeDelta=!0),c.start-=g.delta,c.end-=g.delta,c.left=g.right,g.right!==Tt&&(g.right.parent=c),g.parent=c.parent,c.parent===Tt?re.root=g:c===c.parent.right?c.parent.right=g:c.parent.left=g,g.right=c,c.parent=g,In(c),In(g)}function To(re){let c=re.end;if(re.left!==Tt){const g=re.left.maxEnd;g>c&&(c=g)}if(re.right!==Tt){const g=re.right.maxEnd+re.delta;g>c&&(c=g)}return c}function In(re){re.maxEnd=To(re)}function ut(re){for(;re!==Tt;){const c=To(re);if(re.maxEnd===c)return;re.maxEnd=c,re=re.parent}}function Ei(re,c,g,p){return re===g?c-p:re-g}class ze{constructor(c,g){this.piece=c,this.color=g,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==dt)return Bi(this.right);let c=this;for(;c.parent!==dt&&c.parent.left!==c;)c=c.parent;return c.parent===dt?dt:c.parent}prev(){if(this.left!==dt)return go(this.left);let c=this;for(;c.parent!==dt&&c.parent.right!==c;)c=c.parent;return c.parent===dt?dt:c.parent}detach(){this.parent=null,this.left=null,this.right=null}}const dt=new ze(null,0);function Bi(re){for(;re.left!==dt;)re=re.left;return re}function go(re){for(;re.right!==dt;)re=re.right;return re}function _s(re){return re===dt?0:re.size_left+re.piece.length+_s(re.right)}function vn(re){return re===dt?0:re.lf_left+re.piece.lineFeedCnt+vn(re.right)}function wn(){dt.parent=dt}function Rs(re,c){const g=c.right;g.size_left+=c.size_left+(c.piece?c.piece.length:0),g.lf_left+=c.lf_left+(c.piece?c.piece.lineFeedCnt:0),c.right=g.left,g.left!==dt&&(g.left.parent=c),g.parent=c.parent,c.parent===dt?re.root=g:c.parent.left===c?c.parent.left=g:c.parent.right=g,g.left=c,c.parent=g}function An(re,c){const g=c.left;c.left=g.right,g.right!==dt&&(g.right.parent=c),g.parent=c.parent,c.size_left-=g.size_left+(g.piece?g.piece.length:0),c.lf_left-=g.lf_left+(g.piece?g.piece.lineFeedCnt:0),c.parent===dt?re.root=g:c===c.parent.right?c.parent.right=g:c.parent.left=g,g.right=c,c.parent=g}function vi(re,c){let g,p;if(c.left===dt?(p=c,g=p.right):c.right===dt?(p=c,g=p.left):(p=Bi(c.right),g=p.right),p===re.root)return re.root=g,g.color=0,c.detach(),wn(),void(re.root.parent=dt);const E=1===p.color;if(p===p.parent.left?p.parent.left=g:p.parent.right=g,p===c?(g.parent=p.parent,Os(re,g)):(g.parent=p.parent===c?p:p.parent,Os(re,g),p.left=c.left,p.right=c.right,p.parent=c.parent,p.color=c.color,c===re.root?re.root=p:c===c.parent.left?c.parent.left=p:c.parent.right=p,p.left!==dt&&(p.left.parent=p),p.right!==dt&&(p.right.parent=p),p.size_left=c.size_left,p.lf_left=c.lf_left,Os(re,p)),c.detach(),g.parent.left===g){const G=_s(g),fe=vn(g);if(G!==g.parent.size_left||fe!==g.parent.lf_left){const ge=G-g.parent.size_left,Le=fe-g.parent.lf_left;g.parent.size_left=G,g.parent.lf_left=fe,rn(re,g.parent,ge,Le)}}if(Os(re,g.parent),E)return void wn();let k;for(;g!==re.root&&0===g.color;)g===g.parent.left?(k=g.parent.right,1===k.color&&(k.color=0,g.parent.color=1,Rs(re,g.parent),k=g.parent.right),0===k.left.color&&0===k.right.color?(k.color=1,g=g.parent):(0===k.right.color&&(k.left.color=0,k.color=1,An(re,k),k=g.parent.right),k.color=g.parent.color,g.parent.color=0,k.right.color=0,Rs(re,g.parent),g=re.root)):(k=g.parent.left,1===k.color&&(k.color=0,g.parent.color=1,An(re,g.parent),k=g.parent.left),0===k.left.color&&0===k.right.color?(k.color=1,g=g.parent):(0===k.left.color&&(k.right.color=0,k.color=1,Rs(re,k),k=g.parent.left),k.color=g.parent.color,g.parent.color=0,k.left.color=0,An(re,g.parent),g=re.root));g.color=0,wn()}function Dn(re,c){for(Os(re,c);c!==re.root&&1===c.parent.color;)if(c.parent===c.parent.parent.left){const g=c.parent.parent.right;1===g.color?(c.parent.color=0,g.color=0,c.parent.parent.color=1,c=c.parent.parent):(c===c.parent.right&&Rs(re,c=c.parent),c.parent.color=0,c.parent.parent.color=1,An(re,c.parent.parent))}else{const g=c.parent.parent.left;1===g.color?(c.parent.color=0,g.color=0,c.parent.parent.color=1,c=c.parent.parent):(c===c.parent.left&&An(re,c=c.parent),c.parent.color=0,c.parent.parent.color=1,Rs(re,c.parent.parent))}re.root.color=0}function rn(re,c,g,p){for(;c!==re.root&&c!==dt;)c.parent.left===c&&(c.parent.size_left+=g,c.parent.lf_left+=p),c=c.parent}function Os(re,c){let g=0,p=0;if(c!==re.root){for(;c!==re.root&&c===c.parent.right;)c=c.parent;if(c!==re.root)for(g=_s((c=c.parent).left)-c.size_left,p=vn(c.left)-c.lf_left,c.size_left+=g,c.lf_left+=p;c!==re.root&&(0!==g||0!==p);)c.parent.left===c&&(c.parent.size_left+=g,c.parent.lf_left+=p),c=c.parent}}dt.parent=dt,dt.left=dt,dt.right=dt,dt.color=0;var en=L(31154);const Sn=65535;function Ti(re){let c;return c=re[re.length-1]<65536?new Uint16Array(re.length):new Uint32Array(re.length),c.set(re,0),c}class Mo{constructor(c,g,p,E,k){this.lineStarts=c,this.cr=g,this.lf=p,this.crlf=E,this.isBasicASCII=k}}function Pn(re,c=!0){const g=[0];let p=1;for(let E=0,k=re.length;E<k;E++){const G=re.charCodeAt(E);13===G?E+1<k&&10===re.charCodeAt(E+1)?(g[p++]=E+2,E++):g[p++]=E+1:10===G&&(g[p++]=E+1)}return c?Ti(g):g}class ji{constructor(c,g,p,E,k){this.bufferIndex=c,this.start=g,this.end=p,this.lineFeedCnt=E,this.length=k}}class Ri{constructor(c,g){this.buffer=c,this.lineStarts=g}}class an{constructor(c,g){this._pieces=[],this._tree=c,this._BOM=g,this._index=0,c.root!==dt&&c.iterate(c.root,p=>(p!==dt&&this._pieces.push(p.piece),!0))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class ln{constructor(c){this._limit=c,this._cache=[]}get(c){for(let g=this._cache.length-1;g>=0;g--){const p=this._cache[g];if(p.nodeStartOffset<=c&&p.nodeStartOffset+p.node.piece.length>=c)return p}return null}get2(c){for(let g=this._cache.length-1;g>=0;g--){const p=this._cache[g];if(p.nodeStartLineNumber&&p.nodeStartLineNumber<c&&p.nodeStartLineNumber+p.node.piece.lineFeedCnt>=c)return p}return null}set(c){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(c)}validate(c){let g=!1;const p=this._cache;for(let E=0;E<p.length;E++){const k=p[E];(null===k.node.parent||k.nodeStartOffset>=c)&&(p[E]=null,g=!0)}if(g){const E=[];for(const k of p)null!==k&&E.push(k);this._cache=E}}}class je{constructor(c,g,p){this.create(c,g,p)}create(c,g,p){this._buffers=[new Ri("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=dt,this._lineCnt=1,this._length=0,this._EOL=g,this._EOLLength=g.length,this._EOLNormalized=p;let E=null;for(let k=0,G=c.length;k<G;k++)if(c[k].buffer.length>0){c[k].lineStarts||(c[k].lineStarts=Pn(c[k].buffer));const fe=new ji(k+1,{line:0,column:0},{line:c[k].lineStarts.length-1,column:c[k].buffer.length-c[k].lineStarts[c[k].lineStarts.length-1]},c[k].lineStarts.length-1,c[k].buffer.length);this._buffers.push(c[k]),E=this.rbInsertRight(E,fe)}this._searchCache=new ln(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(c){const p=65535-Math.floor(21845),E=2*p;let k="",G=0;const fe=[];if(this.iterate(this.root,ge=>{const Le=this.getNodeContent(ge),we=Le.length;if(G<=p||G+we<E)return k+=Le,G+=we,!0;const Ie=k.replace(/\r\n|\r|\n/g,c);return fe.push(new Ri(Ie,Pn(Ie))),k=Le,G=we,!0}),G>0){const ge=k.replace(/\r\n|\r|\n/g,c);fe.push(new Ri(ge,Pn(ge)))}this.create(fe,c,!0)}getEOL(){return this._EOL}setEOL(c){this._EOL=c,this._EOLLength=this._EOL.length,this.normalizeEOL(c)}createSnapshot(c){return new an(this,c)}getOffsetAt(c,g){let p=0,E=this.root;for(;E!==dt;)if(E.left!==dt&&E.lf_left+1>=c)E=E.left;else{if(E.lf_left+E.piece.lineFeedCnt+1>=c)return p+=E.size_left,p+(this.getAccumulatedValue(E,c-E.lf_left-2)+g-1);c-=E.lf_left+E.piece.lineFeedCnt,p+=E.size_left+E.piece.length,E=E.right}return p}getPositionAt(c){c=Math.floor(c),c=Math.max(0,c);let g=this.root,p=0;const E=c;for(;g!==dt;)if(0!==g.size_left&&g.size_left>=c)g=g.left;else{if(g.size_left+g.piece.length>=c){const k=this.getIndexOf(g,c-g.size_left);if(p+=g.lf_left+k.index,0===k.index){const G=this.getOffsetAt(p+1,1);return new B.L(p+1,E-G+1)}return new B.L(p+1,k.remainder+1)}if(c-=g.size_left+g.piece.length,p+=g.lf_left+g.piece.lineFeedCnt,g.right===dt){const k=this.getOffsetAt(p+1,1);return new B.L(p+1,E-c-k+1)}g=g.right}return new B.L(1,1)}getValueInRange(c,g){if(c.startLineNumber===c.endLineNumber&&c.startColumn===c.endColumn)return"";const p=this.nodeAt2(c.startLineNumber,c.startColumn),E=this.nodeAt2(c.endLineNumber,c.endColumn),k=this.getValueInRange2(p,E);return g?g===this._EOL&&this._EOLNormalized&&g===this.getEOL()&&this._EOLNormalized?k:k.replace(/\r\n|\r|\n/g,g):k}getValueInRange2(c,g){if(c.node===g.node){const fe=c.node,ge=this._buffers[fe.piece.bufferIndex].buffer,Le=this.offsetInBuffer(fe.piece.bufferIndex,fe.piece.start);return ge.substring(Le+c.remainder,Le+g.remainder)}let p=c.node;const E=this._buffers[p.piece.bufferIndex].buffer,k=this.offsetInBuffer(p.piece.bufferIndex,p.piece.start);let G=E.substring(k+c.remainder,k+p.piece.length);for(p=p.next();p!==dt;){const fe=this._buffers[p.piece.bufferIndex].buffer,ge=this.offsetInBuffer(p.piece.bufferIndex,p.piece.start);if(p===g.node){G+=fe.substring(ge,ge+g.remainder);break}G+=fe.substr(ge,p.piece.length),p=p.next()}return G}getLinesContent(){const c=[];let g=0,p="",E=!1;return this.iterate(this.root,k=>{if(k===dt)return!0;const G=k.piece;let fe=G.length;if(0===fe)return!0;const ge=this._buffers[G.bufferIndex].buffer,Le=this._buffers[G.bufferIndex].lineStarts,we=G.start.line,Ie=G.end.line;let Fe=Le[we]+G.start.column;if(E&&(10===ge.charCodeAt(Fe)&&(Fe++,fe--),c[g++]=p,p="",E=!1,0===fe))return!0;if(we===Ie)return this._EOLNormalized||13!==ge.charCodeAt(Fe+fe-1)?p+=ge.substr(Fe,fe):(E=!0,p+=ge.substr(Fe,fe-1)),!0;p+=this._EOLNormalized?ge.substring(Fe,Math.max(Fe,Le[we+1]-this._EOLLength)):ge.substring(Fe,Le[we+1]).replace(/(\r\n|\r|\n)$/,""),c[g++]=p;for(let He=we+1;He<Ie;He++)p=this._EOLNormalized?ge.substring(Le[He],Le[He+1]-this._EOLLength):ge.substring(Le[He],Le[He+1]).replace(/(\r\n|\r|\n)$/,""),c[g++]=p;return this._EOLNormalized||13!==ge.charCodeAt(Le[Ie]+G.end.column-1)?p=ge.substr(Le[Ie],G.end.column):(E=!0,0===G.end.column?g--:p=ge.substr(Le[Ie],G.end.column-1)),!0}),E&&(c[g++]=p,p=""),c[g++]=p,c}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(c){return this._lastVisitedLine.lineNumber===c||(this._lastVisitedLine.lineNumber=c,this._lastVisitedLine.value=c===this._lineCnt?this.getLineRawContent(c):this._EOLNormalized?this.getLineRawContent(c,this._EOLLength):this.getLineRawContent(c).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(c){if(c.remainder===c.node.piece.length){const g=c.node.next();if(!g)return 0;const p=this._buffers[g.piece.bufferIndex],E=this.offsetInBuffer(g.piece.bufferIndex,g.piece.start);return p.buffer.charCodeAt(E)}{const g=this._buffers[c.node.piece.bufferIndex],E=this.offsetInBuffer(c.node.piece.bufferIndex,c.node.piece.start)+c.remainder;return g.buffer.charCodeAt(E)}}getLineCharCode(c,g){const p=this.nodeAt2(c,g+1);return this._getCharCode(p)}getLineLength(c){if(c===this.getLineCount()){const g=this.getOffsetAt(c,1);return this.getLength()-g}return this.getOffsetAt(c+1,1)-this.getOffsetAt(c,1)-this._EOLLength}findMatchesInNode(c,g,p,E,k,G,fe,ge,Le,we,Ie){const Fe=this._buffers[c.piece.bufferIndex],He=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start),Ye=this.offsetInBuffer(c.piece.bufferIndex,k),at=this.offsetInBuffer(c.piece.bufferIndex,G);let nt;const Ct={line:0,column:0};let Mt,At;g._wordSeparators?(Mt=Fe.buffer.substring(Ye,at),At=ti=>ti+Ye,g.reset(0)):(Mt=Fe.buffer,At=ti=>ti,g.reset(Ye));do{if(nt=g.next(Mt),nt){if(At(nt.index)>=at)return we;this.positionInBuffer(c,At(nt.index)-He,Ct);const ti=this.getLineFeedCnt(c.piece.bufferIndex,k,Ct),vt=Ct.line===k.line?Ct.column-k.column+E:Ct.column+1;if(Ie[we++]=(0,en.iE)(new x.e(p+ti,vt,p+ti,vt+nt[0].length),nt,ge),At(nt.index)+nt[0].length>=at||we>=Le)return we}}while(nt);return we}findMatchesLineByLine(c,g,p,E){const k=[];let G=0;const fe=new en.sz(g.wordSeparators,g.regex);let ge=this.nodeAt2(c.startLineNumber,c.startColumn);if(null===ge)return[];const Le=this.nodeAt2(c.endLineNumber,c.endColumn);if(null===Le)return[];let we=this.positionInBuffer(ge.node,ge.remainder);const Ie=this.positionInBuffer(Le.node,Le.remainder);if(ge.node===Le.node)return this.findMatchesInNode(ge.node,fe,c.startLineNumber,c.startColumn,we,Ie,g,p,E,G,k),k;let Fe=c.startLineNumber,He=ge.node;for(;He!==Le.node;){const at=this.getLineFeedCnt(He.piece.bufferIndex,we,He.piece.end);if(at>=1){const Ct=this._buffers[He.piece.bufferIndex].lineStarts,Mt=this.offsetInBuffer(He.piece.bufferIndex,He.piece.start);if(G=this.findMatchesInNode(He,fe,Fe,Fe===c.startLineNumber?c.startColumn:1,we,this.positionInBuffer(He,Ct[we.line+at]-Mt),g,p,E,G,k),G>=E)return k;Fe+=at}const nt=Fe===c.startLineNumber?c.startColumn-1:0;if(Fe===c.endLineNumber){const Ct=this.getLineContent(Fe).substring(nt,c.endColumn-1);return G=this._findMatchesInLine(g,fe,Ct,c.endLineNumber,nt,G,k,p,E),k}if(G=this._findMatchesInLine(g,fe,this.getLineContent(Fe).substr(nt),Fe,nt,G,k,p,E),G>=E)return k;Fe++,ge=this.nodeAt2(Fe,1),He=ge.node,we=this.positionInBuffer(ge.node,ge.remainder)}if(Fe===c.endLineNumber){const at=Fe===c.startLineNumber?c.startColumn-1:0,nt=this.getLineContent(Fe).substring(at,c.endColumn-1);return G=this._findMatchesInLine(g,fe,nt,c.endLineNumber,at,G,k,p,E),k}return G=this.findMatchesInNode(Le.node,fe,Fe,Fe===c.startLineNumber?c.startColumn:1,we,Ie,g,p,E,G,k),k}_findMatchesInLine(c,g,p,E,k,G,fe,ge,Le){const we=c.wordSeparators;if(!ge&&c.simpleSearch){const Fe=c.simpleSearch,He=Fe.length,Ye=p.length;let at=-He;for(;-1!==(at=p.indexOf(Fe,at+He));)if((!we||(0,en.cM)(we,p,Ye,at,He))&&(fe[G++]=new O.tk(new x.e(E,at+1+k,E,at+1+He+k),null),G>=Le))return G;return G}let Ie;g.reset(0);do{if(Ie=g.next(p),Ie&&(fe[G++]=(0,en.iE)(new x.e(E,Ie.index+1+k,E,Ie.index+1+Ie[0].length+k),Ie,ge),G>=Le))return G}while(Ie);return G}insert(c,g,p=!1){if(this._EOLNormalized=this._EOLNormalized&&p,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==dt){const{node:E,remainder:k,nodeStartOffset:G}=this.nodeAt(c),fe=E.piece,ge=fe.bufferIndex,Le=this.positionInBuffer(E,k);if(0===E.piece.bufferIndex&&fe.end.line===this._lastChangeBufferPos.line&&fe.end.column===this._lastChangeBufferPos.column&&G+fe.length===c&&g.length<Sn)return this.appendToNode(E,g),void this.computeBufferMetadata();if(G===c)this.insertContentToNodeLeft(g,E),this._searchCache.validate(c);else if(G+E.piece.length>c){const we=[];let Ie=new ji(fe.bufferIndex,Le,fe.end,this.getLineFeedCnt(fe.bufferIndex,Le,fe.end),this.offsetInBuffer(ge,fe.end)-this.offsetInBuffer(ge,Le));if(this.shouldCheckCRLF()&&this.endWithCR(g)&&10===this.nodeCharCodeAt(E,k)){const at={line:Ie.start.line+1,column:0};Ie=new ji(Ie.bufferIndex,at,Ie.end,this.getLineFeedCnt(Ie.bufferIndex,at,Ie.end),Ie.length-1),g+="\n"}if(this.shouldCheckCRLF()&&this.startWithLF(g))if(13===this.nodeCharCodeAt(E,k-1)){const at=this.positionInBuffer(E,k-1);this.deleteNodeTail(E,at),g="\r"+g,0===E.piece.length&&we.push(E)}else this.deleteNodeTail(E,Le);else this.deleteNodeTail(E,Le);const Fe=this.createNewPieces(g);Ie.length>0&&this.rbInsertRight(E,Ie);let He=E;for(let Ye=0;Ye<Fe.length;Ye++)He=this.rbInsertRight(He,Fe[Ye]);this.deleteNodes(we)}else this.insertContentToNodeRight(g,E)}else{const E=this.createNewPieces(g);let k=this.rbInsertLeft(null,E[0]);for(let G=1;G<E.length;G++)k=this.rbInsertRight(k,E[G])}this.computeBufferMetadata()}delete(c,g){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",g<=0||this.root===dt)return;const p=this.nodeAt(c),E=this.nodeAt(c+g),k=p.node,G=E.node;if(k===G){const Fe=this.positionInBuffer(k,p.remainder),He=this.positionInBuffer(k,E.remainder);if(p.nodeStartOffset===c){if(g===k.piece.length){const Ye=k.next();return vi(this,k),this.validateCRLFWithPrevNode(Ye),void this.computeBufferMetadata()}return this.deleteNodeHead(k,He),this._searchCache.validate(c),this.validateCRLFWithPrevNode(k),void this.computeBufferMetadata()}return p.nodeStartOffset+k.piece.length===c+g?(this.deleteNodeTail(k,Fe),this.validateCRLFWithNextNode(k),void this.computeBufferMetadata()):(this.shrinkNode(k,Fe,He),void this.computeBufferMetadata())}const fe=[],ge=this.positionInBuffer(k,p.remainder);this.deleteNodeTail(k,ge),this._searchCache.validate(c),0===k.piece.length&&fe.push(k);const Le=this.positionInBuffer(G,E.remainder);this.deleteNodeHead(G,Le),0===G.piece.length&&fe.push(G);for(let Fe=k.next();Fe!==dt&&Fe!==G;Fe=Fe.next())fe.push(Fe);const Ie=0===k.piece.length?k.prev():k;this.deleteNodes(fe),this.validateCRLFWithNextNode(Ie),this.computeBufferMetadata()}insertContentToNodeLeft(c,g){const p=[];if(this.shouldCheckCRLF()&&this.endWithCR(c)&&this.startWithLF(g)){const G=g.piece,fe={line:G.start.line+1,column:0},ge=new ji(G.bufferIndex,fe,G.end,this.getLineFeedCnt(G.bufferIndex,fe,G.end),G.length-1);g.piece=ge,c+="\n",rn(this,g,-1,-1),0===g.piece.length&&p.push(g)}const E=this.createNewPieces(c);let k=this.rbInsertLeft(g,E[E.length-1]);for(let G=E.length-2;G>=0;G--)k=this.rbInsertLeft(k,E[G]);this.validateCRLFWithPrevNode(k),this.deleteNodes(p)}insertContentToNodeRight(c,g){this.adjustCarriageReturnFromNext(c,g)&&(c+="\n");const p=this.createNewPieces(c),E=this.rbInsertRight(g,p[0]);let k=E;for(let G=1;G<p.length;G++)k=this.rbInsertRight(k,p[G]);this.validateCRLFWithPrevNode(E)}positionInBuffer(c,g,p){const E=c.piece,G=this._buffers[c.piece.bufferIndex].lineStarts,ge=G[E.start.line]+E.start.column+g;let Le=E.start.line,we=E.end.line,Ie=0,Fe=0,He=0;for(;Le<=we&&(Ie=Le+(we-Le)/2|0,He=G[Ie],Ie!==we);)if(Fe=G[Ie+1],ge<He)we=Ie-1;else{if(!(ge>=Fe))break;Le=Ie+1}return p?(p.line=Ie,p.column=ge-He,null):{line:Ie,column:ge-He}}getLineFeedCnt(c,g,p){if(0===p.column)return p.line-g.line;const E=this._buffers[c].lineStarts;if(p.line===E.length-1)return p.line-g.line;const G=E[p.line]+p.column;return E[p.line+1]>G+1?p.line-g.line:13===this._buffers[c].buffer.charCodeAt(G-1)?p.line-g.line+1:p.line-g.line}offsetInBuffer(c,g){return this._buffers[c].lineStarts[g.line]+g.column}deleteNodes(c){for(let g=0;g<c.length;g++)vi(this,c[g])}createNewPieces(c){if(c.length>Sn){const we=[];for(;c.length>Sn;){const Fe=c.charCodeAt(Sn-1);let He;13===Fe||Fe>=55296&&Fe<=56319?(He=c.substring(0,Sn-1),c=c.substring(Sn-1)):(He=c.substring(0,Sn),c=c.substring(Sn));const Ye=Pn(He);we.push(new ji(this._buffers.length,{line:0,column:0},{line:Ye.length-1,column:He.length-Ye[Ye.length-1]},Ye.length-1,He.length)),this._buffers.push(new Ri(He,Ye))}const Ie=Pn(c);return we.push(new ji(this._buffers.length,{line:0,column:0},{line:Ie.length-1,column:c.length-Ie[Ie.length-1]},Ie.length-1,c.length)),this._buffers.push(new Ri(c,Ie)),we}let g=this._buffers[0].buffer.length;const p=Pn(c,!1);let E=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===g&&0!==g&&this.startWithLF(c)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},E=this._lastChangeBufferPos;for(let we=0;we<p.length;we++)p[we]+=g+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(p.slice(1)),this._buffers[0].buffer+="_"+c,g+=1}else{if(0!==g)for(let we=0;we<p.length;we++)p[we]+=g;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(p.slice(1)),this._buffers[0].buffer+=c}const k=this._buffers[0].buffer.length,G=this._buffers[0].lineStarts.length-1,ge={line:G,column:k-this._buffers[0].lineStarts[G]},Le=new ji(0,E,ge,this.getLineFeedCnt(0,E,ge),k-g);return this._lastChangeBufferPos=ge,[Le]}getLineRawContent(c,g=0){let p=this.root,E="";const k=this._searchCache.get2(c);if(k){p=k.node;const G=this.getAccumulatedValue(p,c-k.nodeStartLineNumber-1),fe=this._buffers[p.piece.bufferIndex].buffer,ge=this.offsetInBuffer(p.piece.bufferIndex,p.piece.start);if(k.nodeStartLineNumber+p.piece.lineFeedCnt!==c){const Le=this.getAccumulatedValue(p,c-k.nodeStartLineNumber);return fe.substring(ge+G,ge+Le-g)}E=fe.substring(ge+G,ge+p.piece.length)}else{let G=0;const fe=c;for(;p!==dt;)if(p.left!==dt&&p.lf_left>=c-1)p=p.left;else{if(p.lf_left+p.piece.lineFeedCnt>c-1){const ge=this.getAccumulatedValue(p,c-p.lf_left-2),Le=this.getAccumulatedValue(p,c-p.lf_left-1),we=this._buffers[p.piece.bufferIndex].buffer,Ie=this.offsetInBuffer(p.piece.bufferIndex,p.piece.start);return G+=p.size_left,this._searchCache.set({node:p,nodeStartOffset:G,nodeStartLineNumber:fe-(c-1-p.lf_left)}),we.substring(Ie+ge,Ie+Le-g)}if(p.lf_left+p.piece.lineFeedCnt===c-1){const ge=this.getAccumulatedValue(p,c-p.lf_left-2),Le=this._buffers[p.piece.bufferIndex].buffer,we=this.offsetInBuffer(p.piece.bufferIndex,p.piece.start);E=Le.substring(we+ge,we+p.piece.length);break}c-=p.lf_left+p.piece.lineFeedCnt,G+=p.size_left+p.piece.length,p=p.right}}for(p=p.next();p!==dt;){const G=this._buffers[p.piece.bufferIndex].buffer;if(p.piece.lineFeedCnt>0){const fe=this.getAccumulatedValue(p,0),ge=this.offsetInBuffer(p.piece.bufferIndex,p.piece.start);return E+=G.substring(ge,ge+fe-g),E}{const fe=this.offsetInBuffer(p.piece.bufferIndex,p.piece.start);E+=G.substr(fe,p.piece.length)}p=p.next()}return E}computeBufferMetadata(){let c=this.root,g=1,p=0;for(;c!==dt;)g+=c.lf_left+c.piece.lineFeedCnt,p+=c.size_left+c.piece.length,c=c.right;this._lineCnt=g,this._length=p,this._searchCache.validate(this._length)}getIndexOf(c,g){const p=c.piece,E=this.positionInBuffer(c,g),k=E.line-p.start.line;if(this.offsetInBuffer(p.bufferIndex,p.end)-this.offsetInBuffer(p.bufferIndex,p.start)===g){const G=this.getLineFeedCnt(c.piece.bufferIndex,p.start,E);if(G!==k)return{index:G,remainder:0}}return{index:k,remainder:E.column}}getAccumulatedValue(c,g){if(g<0)return 0;const p=c.piece,E=this._buffers[p.bufferIndex].lineStarts,k=p.start.line+g+1;return k>p.end.line?E[p.end.line]+p.end.column-E[p.start.line]-p.start.column:E[k]-E[p.start.line]-p.start.column}deleteNodeTail(c,g){const p=c.piece,E=p.lineFeedCnt,k=this.offsetInBuffer(p.bufferIndex,p.end),G=g,fe=this.offsetInBuffer(p.bufferIndex,G),ge=this.getLineFeedCnt(p.bufferIndex,p.start,G),Le=ge-E,we=fe-k;c.piece=new ji(p.bufferIndex,p.start,G,ge,p.length+we),rn(this,c,we,Le)}deleteNodeHead(c,g){const p=c.piece,E=p.lineFeedCnt,k=this.offsetInBuffer(p.bufferIndex,p.start),G=g,fe=this.getLineFeedCnt(p.bufferIndex,G,p.end),Le=fe-E,we=k-this.offsetInBuffer(p.bufferIndex,G);c.piece=new ji(p.bufferIndex,G,p.end,fe,p.length+we),rn(this,c,we,Le)}shrinkNode(c,g,p){const E=c.piece,k=E.start,G=E.end,fe=E.length,ge=E.lineFeedCnt,Le=g,we=this.getLineFeedCnt(E.bufferIndex,E.start,Le),Ie=this.offsetInBuffer(E.bufferIndex,g)-this.offsetInBuffer(E.bufferIndex,k);c.piece=new ji(E.bufferIndex,E.start,Le,we,Ie),rn(this,c,Ie-fe,we-ge);const Fe=new ji(E.bufferIndex,p,G,this.getLineFeedCnt(E.bufferIndex,p,G),this.offsetInBuffer(E.bufferIndex,G)-this.offsetInBuffer(E.bufferIndex,p)),He=this.rbInsertRight(c,Fe);this.validateCRLFWithPrevNode(He)}appendToNode(c,g){this.adjustCarriageReturnFromNext(g,c)&&(g+="\n");const p=this.shouldCheckCRLF()&&this.startWithLF(g)&&this.endWithCR(c),E=this._buffers[0].buffer.length;this._buffers[0].buffer+=g;const k=Pn(g,!1);for(let He=0;He<k.length;He++)k[He]+=E;if(p){const He=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:E-He}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(k.slice(1));const G=this._buffers[0].lineStarts.length-1,ge={line:G,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[G]},Le=c.piece.length+g.length,we=c.piece.lineFeedCnt,Ie=this.getLineFeedCnt(0,c.piece.start,ge),Fe=Ie-we;c.piece=new ji(c.piece.bufferIndex,c.piece.start,ge,Ie,Le),this._lastChangeBufferPos=ge,rn(this,c,g.length,Fe)}nodeAt(c){let g=this.root;const p=this._searchCache.get(c);if(p)return{node:p.node,nodeStartOffset:p.nodeStartOffset,remainder:c-p.nodeStartOffset};let E=0;for(;g!==dt;)if(g.size_left>c)g=g.left;else{if(g.size_left+g.piece.length>=c){E+=g.size_left;const k={node:g,remainder:c-g.size_left,nodeStartOffset:E};return this._searchCache.set(k),k}c-=g.size_left+g.piece.length,E+=g.size_left+g.piece.length,g=g.right}return null}nodeAt2(c,g){let p=this.root,E=0;for(;p!==dt;)if(p.left!==dt&&p.lf_left>=c-1)p=p.left;else{if(p.lf_left+p.piece.lineFeedCnt>c-1){const k=this.getAccumulatedValue(p,c-p.lf_left-2),G=this.getAccumulatedValue(p,c-p.lf_left-1);return E+=p.size_left,{node:p,remainder:Math.min(k+g-1,G),nodeStartOffset:E}}if(p.lf_left+p.piece.lineFeedCnt===c-1){const k=this.getAccumulatedValue(p,c-p.lf_left-2);if(k+g-1<=p.piece.length)return{node:p,remainder:k+g-1,nodeStartOffset:E};g-=p.piece.length-k;break}c-=p.lf_left+p.piece.lineFeedCnt,E+=p.size_left+p.piece.length,p=p.right}for(p=p.next();p!==dt;){if(p.piece.lineFeedCnt>0){const k=this.getAccumulatedValue(p,0),G=this.offsetOfNode(p);return{node:p,remainder:Math.min(g-1,k),nodeStartOffset:G}}if(p.piece.length>=g-1)return{node:p,remainder:g-1,nodeStartOffset:this.offsetOfNode(p)};g-=p.piece.length,p=p.next()}return null}nodeCharCodeAt(c,g){if(c.piece.lineFeedCnt<1)return-1;const p=this._buffers[c.piece.bufferIndex],E=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start)+g;return p.buffer.charCodeAt(E)}offsetOfNode(c){if(!c)return 0;let g=c.size_left;for(;c!==this.root;)c.parent.right===c&&(g+=c.parent.size_left+c.parent.piece.length),c=c.parent;return g}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(c){if("string"==typeof c)return 10===c.charCodeAt(0);if(c===dt||0===c.piece.lineFeedCnt)return!1;const g=c.piece,p=this._buffers[g.bufferIndex].lineStarts,E=g.start.line,k=p[E]+g.start.column;return!(E===p.length-1||p[E+1]>k+1)&&10===this._buffers[g.bufferIndex].buffer.charCodeAt(k)}endWithCR(c){return"string"==typeof c?13===c.charCodeAt(c.length-1):c!==dt&&0!==c.piece.lineFeedCnt&&13===this.nodeCharCodeAt(c,c.piece.length-1)}validateCRLFWithPrevNode(c){if(this.shouldCheckCRLF()&&this.startWithLF(c)){const g=c.prev();this.endWithCR(g)&&this.fixCRLF(g,c)}}validateCRLFWithNextNode(c){if(this.shouldCheckCRLF()&&this.endWithCR(c)){const g=c.next();this.startWithLF(g)&&this.fixCRLF(c,g)}}fixCRLF(c,g){const p=[],E=this._buffers[c.piece.bufferIndex].lineStarts;let k;k=0===c.piece.end.column?{line:c.piece.end.line-1,column:E[c.piece.end.line]-E[c.piece.end.line-1]-1}:{line:c.piece.end.line,column:c.piece.end.column-1},c.piece=new ji(c.piece.bufferIndex,c.piece.start,k,c.piece.lineFeedCnt-1,c.piece.length-1),rn(this,c,-1,-1),0===c.piece.length&&p.push(c);const ge={line:g.piece.start.line+1,column:0},Le=g.piece.length-1,we=this.getLineFeedCnt(g.piece.bufferIndex,ge,g.piece.end);g.piece=new ji(g.piece.bufferIndex,ge,g.piece.end,we,Le),rn(this,g,-1,-1),0===g.piece.length&&p.push(g);const Ie=this.createNewPieces("\r\n");this.rbInsertRight(c,Ie[0]);for(let Fe=0;Fe<p.length;Fe++)vi(this,p[Fe])}adjustCarriageReturnFromNext(c,g){if(this.shouldCheckCRLF()&&this.endWithCR(c)){const p=g.next();if(this.startWithLF(p)){if(c+="\n",1===p.piece.length)vi(this,p);else{const E=p.piece,k={line:E.start.line+1,column:0},G=E.length-1,fe=this.getLineFeedCnt(E.bufferIndex,k,E.end);p.piece=new ji(E.bufferIndex,k,E.end,fe,G),rn(this,p,-1,-1)}return!0}}return!1}iterate(c,g){return c===dt?g(dt):this.iterate(c.left,g)&&g(c)&&this.iterate(c.right,g)}getNodeContent(c){if(c===dt)return"";const g=this._buffers[c.piece.bufferIndex];let p;const E=c.piece,k=this.offsetInBuffer(E.bufferIndex,E.start),G=this.offsetInBuffer(E.bufferIndex,E.end);return p=g.buffer.substring(k,G),p}getPieceContent(c){const g=this._buffers[c.bufferIndex],p=this.offsetInBuffer(c.bufferIndex,c.start),E=this.offsetInBuffer(c.bufferIndex,c.end);return g.buffer.substring(p,E)}rbInsertRight(c,g){const p=new ze(g,1);if(p.left=dt,p.right=dt,p.parent=dt,p.size_left=0,p.lf_left=0,this.root===dt)this.root=p,p.color=0;else if(c.right===dt)c.right=p,p.parent=c;else{const k=Bi(c.right);k.left=p,p.parent=k}return Dn(this,p),p}rbInsertLeft(c,g){const p=new ze(g,1);if(p.left=dt,p.right=dt,p.parent=dt,p.size_left=0,p.lf_left=0,this.root===dt)this.root=p,p.color=0;else if(c.left===dt)c.left=p,p.parent=c;else{const E=go(c.left);E.right=p,p.parent=E}return Dn(this,p),p}}var Q=L(37846),se=L(97614);class he extends v.JT{constructor(c,g,p,E,k,G,fe){super(),this._onDidChangeContent=this._register(new y.Q5),this._BOM=g,this._mightContainNonBasicASCII=!G,this._mightContainRTL=E,this._mightContainUnusualLineTerminators=k,this._pieceTree=new je(c,p,fe)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(c){return this._pieceTree.createSnapshot(c?this._BOM:"")}getOffsetAt(c,g){return this._pieceTree.getOffsetAt(c,g)}getPositionAt(c){return this._pieceTree.getPositionAt(c)}getRangeAt(c,g){const p=c+g,E=this.getPositionAt(c),k=this.getPositionAt(p);return new x.e(E.lineNumber,E.column,k.lineNumber,k.column)}getValueInRange(c,g=0){if(c.isEmpty())return"";const p=this._getEndOfLine(g);return this._pieceTree.getValueInRange(c,p)}getValueLengthInRange(c,g=0){if(c.isEmpty())return 0;if(c.startLineNumber===c.endLineNumber)return c.endColumn-c.startColumn;const p=this.getOffsetAt(c.startLineNumber,c.startColumn);return this.getOffsetAt(c.endLineNumber,c.endColumn)-p}getCharacterCountInRange(c,g=0){if(this._mightContainNonBasicASCII){let p=0;const E=c.startLineNumber,k=c.endLineNumber;for(let G=E;G<=k;G++){const fe=this.getLineContent(G),Le=G===k?c.endColumn-1:fe.length;for(let we=G===E?c.startColumn-1:0;we<Le;we++)Z.ZG(fe.charCodeAt(we))?(p+=1,we+=1):p+=1}return p+=this._getEndOfLine(g).length*(k-E),p}return this.getValueLengthInRange(c,g)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(c){return this._pieceTree.getLineContent(c)}getLineCharCode(c,g){return this._pieceTree.getLineCharCode(c,g)}getLineLength(c){return this._pieceTree.getLineLength(c)}getLineFirstNonWhitespaceColumn(c){const g=Z.LC(this.getLineContent(c));return-1===g?0:g+1}getLineLastNonWhitespaceColumn(c){const g=Z.ow(this.getLineContent(c));return-1===g?0:g+2}_getEndOfLine(c){switch(c){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(c){this._pieceTree.setEOL(c)}applyEdits(c,g,p){let E=this._mightContainRTL,k=this._mightContainUnusualLineTerminators,G=this._mightContainNonBasicASCII,fe=!0,ge=[];for(let at=0;at<c.length;at++){const nt=c[at];fe&&nt._isTracked&&(fe=!1);const Ct=nt.range;if(nt.text){let qi=!0;G||(qi=!Z.$i(nt.text),G=qi),!E&&qi&&(E=Z.Ut(nt.text)),!k&&qi&&(k=Z.ab(nt.text))}let Mt="",At=0,ti=0,vt=0;if(nt.text){let qi;[At,ti,vt,qi]=(0,Q.Q)(nt.text);const Yi=this.getEOL();Mt=0===qi||qi===("\r\n"===Yi?2:1)?nt.text:nt.text.replace(/\r\n|\r|\n/g,Yi)}ge[at]={sortIndex:at,identifier:nt.identifier||null,range:Ct,rangeOffset:this.getOffsetAt(Ct.startLineNumber,Ct.startColumn),rangeLength:this.getValueLengthInRange(Ct),text:Mt,eolCount:At,firstLineLength:ti,lastLineLength:vt,forceMoveMarkers:Boolean(nt.forceMoveMarkers),isAutoWhitespaceEdit:nt.isAutoWhitespaceEdit||!1}}ge.sort(he._sortOpsAscending);let Le=!1;for(let at=0,nt=ge.length-1;at<nt;at++){const Ct=ge[at].range.getEndPosition(),Mt=ge[at+1].range.getStartPosition();if(Mt.isBeforeOrEqual(Ct)){if(Mt.isBefore(Ct))throw new Error("Overlapping ranges are not allowed!");Le=!0}}fe&&(ge=this._reduceOperations(ge));const we=p||g?he._getInverseEditRanges(ge):[],Ie=[];if(g)for(let at=0;at<ge.length;at++){const nt=ge[at],Ct=we[at];if(nt.isAutoWhitespaceEdit&&nt.range.isEmpty())for(let Mt=Ct.startLineNumber;Mt<=Ct.endLineNumber;Mt++){let At="";Mt===Ct.startLineNumber&&(At=this.getLineContent(nt.range.startLineNumber),-1!==Z.LC(At))||Ie.push({lineNumber:Mt,oldContent:At})}}let Fe=null;if(p){let at=0;Fe=[];for(let nt=0;nt<ge.length;nt++){const Ct=ge[nt],Mt=we[nt],At=this.getValueInRange(Ct.range),ti=Ct.rangeOffset+at;at+=Ct.text.length-At.length,Fe[nt]={sortIndex:Ct.sortIndex,identifier:Ct.identifier,range:Mt,text:At,textChange:new se.q(Ct.rangeOffset,At,ti,Ct.text)}}Le||Fe.sort((nt,Ct)=>nt.sortIndex-Ct.sortIndex)}this._mightContainRTL=E,this._mightContainUnusualLineTerminators=k,this._mightContainNonBasicASCII=G;const He=this._doApplyEdits(ge);let Ye=null;if(g&&Ie.length>0){Ie.sort((at,nt)=>nt.lineNumber-at.lineNumber),Ye=[];for(let at=0,nt=Ie.length;at<nt;at++){const Ct=Ie[at].lineNumber;if(at>0&&Ie[at-1].lineNumber===Ct)continue;const Mt=Ie[at].oldContent,At=this.getLineContent(Ct);0===At.length||At===Mt||-1!==Z.LC(At)||Ye.push(Ct)}}return this._onDidChangeContent.fire(),new O.je(Fe,He,Ye)}_reduceOperations(c){return c.length<1e3?c:[this._toSingleEditOperation(c)]}_toSingleEditOperation(c){let g=!1;const p=c[0].range,E=c[c.length-1].range,k=new x.e(p.startLineNumber,p.startColumn,E.endLineNumber,E.endColumn);let G=p.startLineNumber,fe=p.startColumn;const ge=[];for(let He=0,Ye=c.length;He<Ye;He++){const at=c[He],nt=at.range;g=g||at.forceMoveMarkers,ge.push(this.getValueInRange(new x.e(G,fe,nt.startLineNumber,nt.startColumn))),at.text.length>0&&ge.push(at.text),G=nt.endLineNumber,fe=nt.endColumn}const Le=ge.join(""),[we,Ie,Fe]=(0,Q.Q)(Le);return{sortIndex:0,identifier:c[0].identifier,range:k,rangeOffset:this.getOffsetAt(k.startLineNumber,k.startColumn),rangeLength:this.getValueLengthInRange(k,0),text:Le,eolCount:we,firstLineLength:Ie,lastLineLength:Fe,forceMoveMarkers:g,isAutoWhitespaceEdit:!1}}_doApplyEdits(c){c.sort(he._sortOpsDescending);const g=[];for(let p=0;p<c.length;p++){const E=c[p],k=E.range.startLineNumber,G=E.range.startColumn,fe=E.range.endLineNumber,ge=E.range.endColumn;if(k===fe&&G===ge&&0===E.text.length)continue;E.text?(this._pieceTree.delete(E.rangeOffset,E.rangeLength),this._pieceTree.insert(E.rangeOffset,E.text,!0)):this._pieceTree.delete(E.rangeOffset,E.rangeLength);const Le=new x.e(k,G,fe,ge);g.push({range:Le,rangeLength:E.rangeLength,text:E.text,rangeOffset:E.rangeOffset,forceMoveMarkers:E.forceMoveMarkers})}return g}findMatchesLineByLine(c,g,p,E){return this._pieceTree.findMatchesLineByLine(c,g,p,E)}static _getInverseEditRanges(c){const g=[];let p=0,E=0,k=null;for(let G=0,fe=c.length;G<fe;G++){const ge=c[G];let Le,we,Ie;if(k?k.range.endLineNumber===ge.range.startLineNumber?(Le=p,we=E+(ge.range.startColumn-k.range.endColumn)):(Le=p+(ge.range.startLineNumber-k.range.endLineNumber),we=ge.range.startColumn):(Le=ge.range.startLineNumber,we=ge.range.startColumn),ge.text.length>0){const Fe=ge.eolCount+1;Ie=1===Fe?new x.e(Le,we,Le,we+ge.firstLineLength):new x.e(Le,we,Le+Fe-1,ge.lastLineLength+1)}else Ie=new x.e(Le,we,Le,we);p=Ie.endLineNumber,E=Ie.endColumn,g.push(Ie),k=ge}return g}static _sortOpsAscending(c,g){const p=x.e.compareRangesUsingEnds(c.range,g.range);return 0===p?c.sortIndex-g.sortIndex:p}static _sortOpsDescending(c,g){const p=x.e.compareRangesUsingEnds(c.range,g.range);return 0===p?g.sortIndex-c.sortIndex:-p}}class be{constructor(c,g,p,E,k,G,fe,ge,Le){this._chunks=c,this._bom=g,this._cr=p,this._lf=E,this._crlf=k,this._containsRTL=G,this._containsUnusualLineTerminators=fe,this._isBasicASCII=ge,this._normalizeEOL=Le}_getEOL(c){const g=this._cr+this._lf+this._crlf;return 0===g?1===c?"\n":"\r\n":this._cr+this._crlf>g/2?"\r\n":"\n"}create(c){const g=this._getEOL(c),p=this._chunks;if(this._normalizeEOL&&("\r\n"===g&&(this._cr>0||this._lf>0)||"\n"===g&&(this._cr>0||this._crlf>0)))for(let k=0,G=p.length;k<G;k++){const fe=p[k].buffer.replace(/\r\n|\r|\n/g,g),ge=Pn(fe);p[k]=new Ri(fe,ge)}const E=new he(p,this._bom,g,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:E,disposable:E}}}class We{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(c){if(0===c.length)return;0===this.chunks.length&&Z.uS(c)&&(this.BOM=Z.c1,c=c.substr(1));const g=c.charCodeAt(c.length-1);13===g||g>=55296&&g<=56319?(this._acceptChunk1(c.substr(0,c.length-1),!1),this._hasPreviousChar=!0,this._previousChar=g):(this._acceptChunk1(c,!1),this._hasPreviousChar=!1,this._previousChar=g)}_acceptChunk1(c,g){!g&&0===c.length||this._acceptChunk2(this._hasPreviousChar?String.fromCharCode(this._previousChar)+c:c)}_acceptChunk2(c){const g=function mo(re,c){re.length=0,re[0]=0;let g=1,p=0,E=0,k=0,G=!0;for(let ge=0,Le=c.length;ge<Le;ge++){const we=c.charCodeAt(ge);13===we?ge+1<Le&&10===c.charCodeAt(ge+1)?(k++,re[g++]=ge+2,ge++):(p++,re[g++]=ge+1):10===we?(E++,re[g++]=ge+1):G&&9!==we&&(we<32||we>126)&&(G=!1)}const fe=new Mo(Ti(re),p,E,k,G);return re.length=0,fe}(this._tmpLineStarts,c);this.chunks.push(new Ri(c,g.lineStarts)),this.cr+=g.cr,this.lf+=g.lf,this.crlf+=g.crlf,this.isBasicASCII&&(this.isBasicASCII=g.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=Z.Ut(c)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=Z.ab(c))}finish(c=!0){return this._finish(),new be(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,c)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const c=this.chunks[this.chunks.length-1];c.buffer+=String.fromCharCode(this._previousChar);const g=Pn(c.buffer);c.lineStarts=g,13===this._previousChar&&this.cr++}}}var qe=L(42814),lt=L(8028),It=L(5052),ft=L(41724);class pt{constructor(c,g){this._startLineNumber=c,this._tokens=g}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(c){return this._tokens[c-this._startLineNumber]}appendLineTokens(c){this._tokens.push(c)}}class xt{constructor(){this._tokens=[]}add(c,g){if(this._tokens.length>0){const p=this._tokens[this._tokens.length-1];if(p.endLineNumber+1===c)return void p.appendLineTokens(g)}this._tokens.push(new pt(c,[g]))}finalize(){return this._tokens}}var Zt=L(63072),jt=L(38972);class Fi{constructor(c){this._default=c,this._store=[]}get(c){return c<this._store.length?this._store[c]:this._default}set(c,g){for(;c>=this._store.length;)this._store[this._store.length]=this._default;this._store[c]=g}delete(c,g){0===g||c>=this._store.length||this._store.splice(c,g)}insert(c,g){if(0===g||c>=this._store.length)return;const p=[];for(let E=0;E<g;E++)p[E]=this._default;this._store=_.Zv(this._store,c,p)}}class tn{constructor(c,g){this.tokenizationSupport=c,this.initialState=g,this._lineBeginState=new Fi(null),this._lineNeedsTokenization=new Fi(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(c){this._lineNeedsTokenization.set(c,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,c)}getBeginState(c){return this._lineBeginState.get(c)}setEndState(c,g,p){if(this._lineNeedsTokenization.set(g,!1),this._firstLineNeedsTokenization=g+1,g===c-1)return;const E=this._lineBeginState.get(g+1);if(null===E||!p.equals(E))return this._lineBeginState.set(g+1,p),void this.markMustBeTokenized(g+1);let k=g+1;for(;k<c&&!this._lineNeedsTokenization.get(k);)k++;this._firstLineNeedsTokenization=k}applyEdits(c,g){this.markMustBeTokenized(c.startLineNumber-1),this._lineBeginState.delete(c.startLineNumber,c.endLineNumber-c.startLineNumber),this._lineNeedsTokenization.delete(c.startLineNumber,c.endLineNumber-c.startLineNumber),this._lineBeginState.insert(c.startLineNumber,g),this._lineNeedsTokenization.insert(c.startLineNumber,g)}}class Qo extends v.JT{constructor(c,g){super(),this._textModel=c,this._languageIdCodec=g,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(Ji.RW.onDidChange(p=>{const E=this._textModel.getLanguageId();-1!==p.changedLanguages.indexOf(E)&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeContentFast(p=>{if(p.isFlush)this._resetTokenizationState();else{if(this._tokenizationStateStore)for(let E=0,k=p.changes.length;E<k;E++){const G=p.changes[E],[fe]=(0,Q.Q)(G.text);this._tokenizationStateStore.applyEdits(G.range,fe)}this._beginBackgroundTokenization()}})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[c,g]=function kr(re){if(re.isTooLargeForTokenization())return[null,null];const c=Ji.RW.get(re.getLanguageId());if(!c)return[null,null];let g;try{g=c.getInitialState()}catch(p){return(0,ee.dL)(p),[null,null]}return[c,g]}(this._textModel);this._tokenizationStateStore=c&&g?new tn(c,g):null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,Zt.To)(c=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(c)}))}_backgroundTokenizeWithDeadline(c){const g=Date.now()+c.timeRemaining(),p=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<g?(0,jt.fn)(p):this._beginBackgroundTokenization())};p()}_backgroundTokenizeForAtLeast1ms(){const c=this._textModel.getLineCount(),g=new xt,p=ft.G.create(!1);do{if(p.elapsed()>1||this._tokenizeOneInvalidLine(g)>=c)break}while(this._hasLinesToTokenize());this._textModel.setTokens(g.finalize(),!this._hasLinesToTokenize())}tokenizeViewport(c,g){const p=new xt;this._tokenizeViewport(p,c,g),this._textModel.setTokens(p.finalize(),!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(c){const g=new xt;this._updateTokensUntilLine(g,c),this._textModel.setTokens(g.finalize(),!this._hasLinesToTokenize())}getTokenTypeIfInsertingCharacter(c,g){if(!this._tokenizationStateStore)return 0;this.forceTokenization(c.lineNumber);const p=this._tokenizationStateStore.getBeginState(c.lineNumber-1);if(!p)return 0;const E=this._textModel.getLanguageId(),k=this._textModel.getLineContent(c.lineNumber),G=k.substring(0,c.column-1)+g+k.substring(c.column-1),fe=po(this._languageIdCodec,E,this._tokenizationStateStore.tokenizationSupport,G,!0,p),ge=new lt.A(fe.tokens,G,this._languageIdCodec);if(0===ge.getCount())return 0;const Le=ge.findTokenIndexAtOffset(c.column-1);return ge.getStandardTokenType(Le)}tokenizeLineWithEdit(c,g,p){const E=c.lineNumber,k=c.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(E);const G=this._tokenizationStateStore.getBeginState(E-1);if(!G)return null;const fe=this._textModel.getLineContent(E),ge=fe.substring(0,k-1)+p+fe.substring(k-1+g),Le=this._textModel.getLanguageIdAtPosition(E,0),we=po(this._languageIdCodec,Le,this._tokenizationStateStore.tokenizationSupport,ge,!0,G);return new lt.A(we.tokens,ge,this._languageIdCodec)}isCheapToTokenize(c){if(!this._tokenizationStateStore)return!0;const g=this._tokenizationStateStore.invalidLineStartIndex+1;return!(c>g)&&(c<g||this._textModel.getLineLength(c)<2048)}_hasLinesToTokenize(){return!!this._tokenizationStateStore&&this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount()}_tokenizeOneInvalidLine(c){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const g=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(c,g),g}_updateTokensUntilLine(c,g){if(!this._tokenizationStateStore)return;const p=this._textModel.getLanguageId(),E=this._textModel.getLineCount(),k=g-1;for(let G=this._tokenizationStateStore.invalidLineStartIndex;G<=k;G++){const fe=this._textModel.getLineContent(G+1),ge=this._tokenizationStateStore.getBeginState(G),Le=po(this._languageIdCodec,p,this._tokenizationStateStore.tokenizationSupport,fe,!0,ge);c.add(G+1,Le.tokens),this._tokenizationStateStore.setEndState(E,G,Le.endState),G=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(c,g,p){if(!this._tokenizationStateStore||p<=this._tokenizationStateStore.invalidLineStartIndex)return;if(g<=this._tokenizationStateStore.invalidLineStartIndex)return void this._updateTokensUntilLine(c,p);let E=this._textModel.getLineFirstNonWhitespaceColumn(g);const k=[];let G=null;for(let Le=g-1;E>1&&Le>=1;Le--){const we=this._textModel.getLineFirstNonWhitespaceColumn(Le);if(0!==we&&we<E){if(G=this._tokenizationStateStore.getBeginState(Le-1),G)break;k.push(this._textModel.getLineContent(Le)),E=we}}G||(G=this._tokenizationStateStore.initialState);const fe=this._textModel.getLanguageId();let ge=G;for(let Le=k.length-1;Le>=0;Le--)ge=po(this._languageIdCodec,fe,this._tokenizationStateStore.tokenizationSupport,k[Le],!1,ge).endState;for(let Le=g;Le<=p;Le++){const we=this._textModel.getLineContent(Le),Ie=po(this._languageIdCodec,fe,this._tokenizationStateStore.tokenizationSupport,we,!0,ge);c.add(Le,Ie.tokens),this._tokenizationStateStore.markMustBeTokenized(Le-1),ge=Ie.endState}}}function po(re,c,g,p,E,k){let G=null;if(g)try{G=g.tokenizeEncoded(p,E,k.clone())}catch(fe){(0,ee.dL)(fe)}return G||(G=(0,It.Dy)(re.encodeLanguageId(c),k)),lt.A.convertToEndOffset(G.tokens,p.length),G}const Cs=new Uint32Array(0).buffer;class Bn{static deleteBeginning(c,g){return null===c||c===Cs?c:Bn.delete(c,0,g)}static deleteEnding(c,g){if(null===c||c===Cs)return c;const p=Qn(c);return Bn.delete(c,g,p[p.length-2])}static delete(c,g,p){if(null===c||c===Cs||g===p)return c;const E=Qn(c),k=E.length>>>1;if(0===g&&E[E.length-2]===p)return Cs;const G=lt.A.findIndexInTokensArray(E,g),fe=G>0?E[G-1<<1]:0;if(p<E[G<<1]){const He=p-g;for(let Ye=G;Ye<k;Ye++)E[Ye<<1]-=He;return c}let Le,we;fe!==g?(E[G<<1]=g,Le=G+1<<1,we=g):(Le=G<<1,we=fe);const Ie=p-g;for(let He=G+1;He<k;He++){const Ye=E[He<<1]-Ie;Ye>we&&(E[Le++]=Ye,E[Le++]=E[1+(He<<1)],we=Ye)}if(Le===E.length)return c;const Fe=new Uint32Array(Le);return Fe.set(E.subarray(0,Le),0),Fe.buffer}static append(c,g){if(g===Cs)return c;if(c===Cs)return g;if(null===c)return c;if(null===g)return null;const p=Qn(c),E=Qn(g),k=E.length>>>1,G=new Uint32Array(p.length+E.length);G.set(p,0);let fe=p.length;const ge=p[p.length-2];for(let Le=0;Le<k;Le++)G[fe++]=E[Le<<1]+ge,G[fe++]=E[1+(Le<<1)];return G.buffer}static insert(c,g,p){if(null===c||c===Cs)return c;const E=Qn(c),k=E.length>>>1;let G=lt.A.findIndexInTokensArray(E,g);G>0&&E[G-1<<1]===g&&G--;for(let fe=G;fe<k;fe++)E[fe<<1]+=p;return c}}function Qn(re){return re instanceof Uint32Array?re:new Uint32Array(re)}class $s{constructor(c){this._lineTokens=[],this._len=0,this._languageIdCodec=c}flush(){this._lineTokens=[],this._len=0}getTokens(c,g,p){let E=null;if(g<this._len&&(E=this._lineTokens[g]),null!==E&&E!==Cs)return new lt.A(Qn(E),p,this._languageIdCodec);const k=new Uint32Array(2);return k[0]=p.length,k[1]=va(this._languageIdCodec.encodeLanguageId(c)),new lt.A(k,p,this._languageIdCodec)}static _massageTokens(c,g,p){const E=p?Qn(p):null;if(0===g){let k=!1;if(E&&E.length>1&&(k=Ji.NX.getLanguageId(E[1])!==c),!k)return Cs}if(!E||0===E.length){const k=new Uint32Array(2);return k[0]=g,k[1]=va(c),k.buffer}return E[E.length-2]=g,0===E.byteOffset&&E.byteLength===E.buffer.byteLength?E.buffer:E}_ensureLine(c){for(;c>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(c,g){0!==g&&(c+g>this._len&&(g=this._len-c),this._lineTokens.splice(c,g),this._len-=g)}_insertLines(c,g){if(0===g)return;const p=[];for(let E=0;E<g;E++)p[E]=null;this._lineTokens=_.Zv(this._lineTokens,c,p),this._len+=g}setTokens(c,g,p,E,k){const G=$s._massageTokens(this._languageIdCodec.encodeLanguageId(c),p,E);this._ensureLine(g);const fe=this._lineTokens[g];return this._lineTokens[g]=G,!!k&&!$s._equals(fe,G)}static _equals(c,g){if(!c||!g)return!c&&!g;const p=Qn(c),E=Qn(g);if(p.length!==E.length)return!1;for(let k=0,G=p.length;k<G;k++)if(p[k]!==E[k])return!1;return!0}acceptEdit(c,g,p){this._acceptDeleteRange(c),this._acceptInsertText(new B.L(c.startLineNumber,c.startColumn),g,p)}_acceptDeleteRange(c){const g=c.startLineNumber-1;if(g>=this._len)return;if(c.startLineNumber===c.endLineNumber){if(c.startColumn===c.endColumn)return;return void(this._lineTokens[g]=Bn.delete(this._lineTokens[g],c.startColumn-1,c.endColumn-1))}this._lineTokens[g]=Bn.deleteEnding(this._lineTokens[g],c.startColumn-1);const p=c.endLineNumber-1;let E=null;p<this._len&&(E=Bn.deleteBeginning(this._lineTokens[p],c.endColumn-1)),this._lineTokens[g]=Bn.append(this._lineTokens[g],E),this._deleteLines(c.startLineNumber,c.endLineNumber-c.startLineNumber)}_acceptInsertText(c,g,p){if(0===g&&0===p)return;const E=c.lineNumber-1;if(!(E>=this._len)){if(0===g)return void(this._lineTokens[E]=Bn.insert(this._lineTokens[E],c.column-1,p));this._lineTokens[E]=Bn.deleteEnding(this._lineTokens[E],c.column-1),this._lineTokens[E]=Bn.insert(this._lineTokens[E],c.column-1,p),this._insertLines(c.lineNumber,g)}}}function va(re){return(16384|re<<0|2<<23)>>>0}class Tr{constructor(c){this._pieces=[],this._isComplete=!1,this._languageIdCodec=c}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(c,g){this._pieces=c||[],this._isComplete=g}setPartial(c,g){let p=c;if(g.length>0){const k=g[0].getRange(),G=g[g.length-1].getRange();if(!k||!G)return c;p=c.plusRange(k).plusRange(G)}let E=null;for(let k=0,G=this._pieces.length;k<G;k++){const fe=this._pieces[k];if(fe.endLineNumber<p.startLineNumber)continue;if(fe.startLineNumber>p.endLineNumber){E=E||{index:k};break}if(fe.removeTokens(p),fe.isEmpty()){this._pieces.splice(k,1),k--,G--;continue}if(fe.endLineNumber<p.startLineNumber)continue;if(fe.startLineNumber>p.endLineNumber){E=E||{index:k};continue}const[ge,Le]=fe.split(p);ge.isEmpty()?E=E||{index:k}:Le.isEmpty()||(this._pieces.splice(k,1,ge,Le),k++,G++,E=E||{index:k})}return E=E||{index:this._pieces.length},g.length>0&&(this._pieces=_.Zv(this._pieces,E.index,g)),p}isComplete(){return this._isComplete}addSparseTokens(c,g){const p=this._pieces;if(0===p.length)return g;const k=p[Tr._findFirstPieceWithLine(p,c)].getLineTokens(c);if(!k)return g;const G=g.getCount(),fe=k.getCount();let ge=0;const Le=[];let we=0,Ie=0;const Fe=(He,Ye)=>{He!==Ie&&(Ie=He,Le[we++]=He,Le[we++]=Ye)};for(let He=0;He<fe;He++){const Ye=k.getStartCharacter(He),at=k.getEndCharacter(He),nt=k.getMetadata(He),Ct=((1&nt?1024:0)|(2&nt?2048:0)|(4&nt?4096:0)|(8&nt?8192:0)|(16&nt?8372224:0)|(32&nt?4286578688:0))>>>0,Mt=~Ct>>>0;for(;ge<G&&g.getEndOffset(ge)<=Ye;)Fe(g.getEndOffset(ge),g.getMetadata(ge)),ge++;for(ge<G&&g.getStartOffset(ge)<Ye&&Fe(Ye,g.getMetadata(ge));ge<G&&g.getEndOffset(ge)<at;)Fe(g.getEndOffset(ge),g.getMetadata(ge)&Mt|nt&Ct),ge++;if(ge<G)Fe(at,g.getMetadata(ge)&Mt|nt&Ct),g.getEndOffset(ge)===at&&ge++;else{const At=Math.min(Math.max(0,ge-1),G-1);Fe(at,g.getMetadata(At)&Mt|nt&Ct)}}for(;ge<G;)Fe(g.getEndOffset(ge),g.getMetadata(ge)),ge++;return new lt.A(new Uint32Array(Le),g.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(c,g){let p=0,E=c.length-1;for(;p<E;){let k=p+Math.floor((E-p)/2);if(c[k].endLineNumber<g)p=k+1;else{if(!(c[k].startLineNumber>g)){for(;k>p&&c[k-1].startLineNumber<=g&&g<=c[k-1].endLineNumber;)k--;return k}E=k-1}}return p}acceptEdit(c,g,p,E,k){for(const G of this._pieces)G.acceptEdit(c,g,p,E,k)}}var wa=L(85519),As=L(17372),id=L(47675),Xo=L(18846),kn=L(32931),Ro=function(re,c){return function(g,p){c(g,p,re)}};function _o(re,c){return("string"==typeof re?function bl(re){const c=function Cl(){return new We}();return c.acceptChunk(re),c.finish()}(re):re).create(c)}let Gs=0;class Fn{constructor(c){this._source=c,this._eos=!1}read(){if(this._eos)return null;const c=[];let g=0,p=0;for(;;){const E=this._source.read();if(null===E)return this._eos=!0,0===g?null:c.join("");if(E.length>0&&(c[g++]=E,p+=E.length),p>=65536)return c.join("")}}}const $n=()=>{throw new Error("Invalid change accessor")};let Gn=class Do extends v.JT{constructor(c,g,p,E=null,k,G,fe){super(),this._undoRedoService=k,this._languageService=G,this._languageConfigurationService=fe,this._onWillDispose=this._register(new y.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new Rr(Fe=>this.handleBeforeFireDecorationsChangedEvent(Fe))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new y.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new y.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new y.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new y.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new y.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new y.Q5),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new er),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new y.Q5),this.onBackgroundTokenizationStateChanged=this._onBackgroundTokenizationStateChanged.event,this._register(this._eventEmitter.fastEvent(Fe=>{this._onDidChangeContentOrInjectedText.fire(Fe.rawContentChangedEvent)})),Gs++,this.id="$model"+Gs,this.isForSimpleWidget=p.isForSimpleWidget,this._associatedResource=null==E?$.o.parse("inmemory://model/"+Gs):E,this._attachedEditorCount=0;const{textBuffer:ge,disposable:Le}=_o(c,p.defaultEOL);this._buffer=ge,this._bufferDisposable=Le,this._options=Do.resolveOptions(this._buffer,p);const we=this._buffer.getLineCount(),Ie=this._buffer.getValueLengthInRange(new x.e(1,1,we,this._buffer.getLineLength(we)+1),0);this._isTooLargeForTokenization=!!p.largeFileOptimizations&&(Ie>Do.LARGE_FILE_SIZE_THRESHOLD||we>Do.LARGE_FILE_LINE_COUNT_THRESHOLD),this._isTooLargeForSyncing=Ie>Do.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=g,this._languageRegistryListener=this._languageConfigurationService.onDidChange(Fe=>{Fe.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=Z.PJ(Gs),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new yn,this._commandManager=new st.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new $s(this._languageService.languageIdCodec),this._semanticTokens=new Tr(this._languageService.languageIdCodec),this._tokenization=new Qo(this,this._languageService.languageIdCodec),this._bracketPairColorizer=this._register(new Xe(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new Lt.l(this,this._languageConfigurationService)),this._decorationProvider=this._register(new Re(this)),this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(c,g){if(g.detectIndentation){const p=_i(c,g.tabSize,g.insertSpaces);return new O.dJ({tabSize:p.tabSize,indentSize:p.tabSize,insertSpaces:p.insertSpaces,trimAutoWhitespace:g.trimAutoWhitespace,defaultEOL:g.defaultEOL,bracketPairColorizationOptions:g.bracketPairColorizationOptions})}return new O.dJ({tabSize:g.tabSize,indentSize:g.indentSize,insertSpaces:g.insertSpaces,trimAutoWhitespace:g.trimAutoWhitespace,defaultEOL:g.defaultEOL,bracketPairColorizationOptions:g.bracketPairColorizationOptions})}onDidChangeContentFast(c){return this._eventEmitter.fastEvent(g=>c(g.contentChangedEvent))}onDidChangeContent(c){return this._eventEmitter.slowEvent(g=>c(g.contentChangedEvent))}get bracketPairs(){return this._bracketPairColorizer}get guides(){return this._guidesTextModelPart}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(c){if(2===this._backgroundTokenizationState)return;const g=c?2:1;this._backgroundTokenizationState!==g&&(this._backgroundTokenizationState=g,this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const c=new he([],"","\n",!1,!1,!0,!0);c.dispose(),this._buffer=c}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(c,g){this._bracketPairColorizer.handleContentChanged(g),!this._isDisposing&&this._eventEmitter.fire(new qe.fV(c,g))}setValue(c){if(this._assertNotDisposed(),null===c)return;const{textBuffer:g,disposable:p}=_o(c,this._options.defaultEOL);this._setValueFromTextBuffer(g,p)}_createContentChanged2(c,g,p,E,k,G,fe){return{changes:[{range:c,rangeOffset:g,rangeLength:p,text:E}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:k,isRedoing:G,isFlush:fe}}_setValueFromTextBuffer(c,g){this._assertNotDisposed();const p=this.getFullModelRange(),E=this.getValueLengthInRange(p),k=this.getLineCount(),G=this.getLineMaxColumn(k);this._buffer=c,this._bufferDisposable.dispose(),this._bufferDisposable=g,this._increaseVersionId(),this._tokens.flush(),this._semanticTokens.flush(),this._decorations=Object.create(null),this._decorationsTree=new yn,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new qe.dQ([new qe.Jx],this._versionId,!1,!1),this._createContentChanged2(new x.e(1,1,k,G),0,E,this.getValue(),!1,!1,!0))}setEOL(c){this._assertNotDisposed();const g=1===c?"\r\n":"\n";if(this._buffer.getEOL()===g)return;const p=this.getFullModelRange(),E=this.getValueLengthInRange(p),k=this.getLineCount(),G=this.getLineMaxColumn(k);this._onBeforeEOLChange(),this._buffer.setEOL(g),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new qe.dQ([new qe.CZ],this._versionId,!1,!1),this._createContentChanged2(new x.e(1,1,k,G),0,E,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const c=this.getVersionId(),g=this._decorationsTree.collectNodesPostOrder();for(let p=0,E=g.length;p<E;p++){const k=g[p],G=k.range,fe=k.cachedAbsoluteStart-k.start,ge=this._buffer.getOffsetAt(G.startLineNumber,G.startColumn),Le=this._buffer.getOffsetAt(G.endLineNumber,G.endColumn);k.cachedAbsoluteStart=ge,k.cachedAbsoluteEnd=Le,k.cachedVersionId=c,k.start=ge-fe,k.end=Le-fe,In(k)}}onBeforeAttached(){this._attachedEditorCount++,1===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,0===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let c=0,g=0;const p=this._buffer.getLineCount();for(let E=1;E<=p;E++){const k=this._buffer.getLineLength(E);k>=1e4?g+=k:c+=k}return g>c}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(c){this._assertNotDisposed();const fe=new O.dJ({tabSize:void 0!==c.tabSize?c.tabSize:this._options.tabSize,indentSize:void 0!==c.indentSize?c.indentSize:this._options.indentSize,insertSpaces:void 0!==c.insertSpaces?c.insertSpaces:this._options.insertSpaces,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:void 0!==c.trimAutoWhitespace?c.trimAutoWhitespace:this._options.trimAutoWhitespace,bracketPairColorizationOptions:void 0!==c.bracketColorizationOptions?c.bracketColorizationOptions:this._options.bracketPairColorizationOptions});if(this._options.equals(fe))return;const ge=this._options.createChangeEvent(fe);this._options=fe,this._onDidChangeOptions.fire(ge)}detectIndentation(c,g){this._assertNotDisposed();const p=_i(this._buffer,g,c);this.updateOptions({insertSpaces:p.insertSpaces,tabSize:p.tabSize,indentSize:p.tabSize})}static _normalizeIndentationFromWhitespace(c,g,p){let E=0;for(let G=0;G<c.length;G++)"\t"===c.charAt(G)?E+=g:E++;let k="";if(!p){const G=Math.floor(E/g);E%=g;for(let fe=0;fe<G;fe++)k+="\t"}for(let G=0;G<E;G++)k+=" ";return k}static normalizeIndentation(c,g,p){let E=Z.LC(c);return-1===E&&(E=c.length),Do._normalizeIndentationFromWhitespace(c.substring(0,E),g,p)+c.substring(E)}normalizeIndentation(c){return this._assertNotDisposed(),Do.normalizeIndentation(c,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(c=null){const g=this.findMatches(Z.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(c,g.map(p=>({range:p.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(c){this._assertNotDisposed();const g=this._validatePosition(c.lineNumber,c.column,0);return this._buffer.getOffsetAt(g.lineNumber,g.column)}getPositionAt(c){this._assertNotDisposed();const g=Math.min(this._buffer.getLength(),Math.max(0,c));return this._buffer.getPositionAt(g)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(c){this._versionId=c}_overwriteAlternativeVersionId(c){this._alternativeVersionId=c}_overwriteInitialUndoRedoSnapshot(c){this._initialUndoRedoSnapshot=c}getValue(c,g=!1){this._assertNotDisposed();const p=this.getFullModelRange(),E=this.getValueInRange(p,c);return g?this._buffer.getBOM()+E:E}createSnapshot(c=!1){return new Fn(this._buffer.createSnapshot(c))}getValueLength(c,g=!1){this._assertNotDisposed();const p=this.getFullModelRange(),E=this.getValueLengthInRange(p,c);return g?this._buffer.getBOM().length+E:E}getValueInRange(c,g=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(c),g)}getValueLengthInRange(c,g=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(c),g)}getCharacterCountInRange(c,g=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(c),g)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(c){if(this._assertNotDisposed(),c<1||c>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(c)}getLineLength(c){if(this._assertNotDisposed(),c<1||c>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(c)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(c){return this._assertNotDisposed(),1}getLineMaxColumn(c){if(this._assertNotDisposed(),c<1||c>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(c)+1}getLineFirstNonWhitespaceColumn(c){if(this._assertNotDisposed(),c<1||c>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(c)}getLineLastNonWhitespaceColumn(c){if(this._assertNotDisposed(),c<1||c>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(c)}_validateRangeRelaxedNoAllocations(c){const g=this._buffer.getLineCount(),p=c.startLineNumber,E=c.startColumn;let k=Math.floor("number"!=typeof p||isNaN(p)?1:p),G=Math.floor("number"!=typeof E||isNaN(E)?1:E);if(k<1)k=1,G=1;else if(k>g)k=g,G=this.getLineMaxColumn(k);else if(G<=1)G=1;else{const Ie=this.getLineMaxColumn(k);G>=Ie&&(G=Ie)}const fe=c.endLineNumber,ge=c.endColumn;let Le=Math.floor("number"!=typeof fe||isNaN(fe)?1:fe),we=Math.floor("number"!=typeof ge||isNaN(ge)?1:ge);if(Le<1)Le=1,we=1;else if(Le>g)Le=g,we=this.getLineMaxColumn(Le);else if(we<=1)we=1;else{const Ie=this.getLineMaxColumn(Le);we>=Ie&&(we=Ie)}return p===k&&E===G&&fe===Le&&ge===we&&c instanceof x.e&&!(c instanceof R.Y)?c:new x.e(k,G,Le,we)}_isValidPosition(c,g,p){if("number"!=typeof c||"number"!=typeof g||isNaN(c)||isNaN(g)||c<1||g<1||(0|c)!==c||(0|g)!==g)return!1;if(c>this._buffer.getLineCount())return!1;if(1===g)return!0;if(g>this.getLineMaxColumn(c))return!1;if(1===p){const G=this._buffer.getLineCharCode(c,g-2);if(Z.ZG(G))return!1}return!0}_validatePosition(c,g,p){const E=Math.floor("number"!=typeof c||isNaN(c)?1:c),k=Math.floor("number"!=typeof g||isNaN(g)?1:g),G=this._buffer.getLineCount();if(E<1)return new B.L(1,1);if(E>G)return new B.L(G,this.getLineMaxColumn(G));if(k<=1)return new B.L(E,1);const fe=this.getLineMaxColumn(E);if(k>=fe)return new B.L(E,fe);if(1===p){const ge=this._buffer.getLineCharCode(E,k-2);if(Z.ZG(ge))return new B.L(E,k-1)}return new B.L(E,k)}validatePosition(c){return this._assertNotDisposed(),c instanceof B.L&&this._isValidPosition(c.lineNumber,c.column,1)?c:this._validatePosition(c.lineNumber,c.column,1)}_isValidRange(c,g){const p=c.startLineNumber,E=c.startColumn,k=c.endLineNumber,G=c.endColumn;if(!this._isValidPosition(p,E,0)||!this._isValidPosition(k,G,0))return!1;if(1===g){const fe=E>1?this._buffer.getLineCharCode(p,E-2):0,ge=G>1&&G<=this._buffer.getLineLength(k)?this._buffer.getLineCharCode(k,G-2):0,Le=Z.ZG(fe),we=Z.ZG(ge);return!Le&&!we}return!0}validateRange(c){if(this._assertNotDisposed(),c instanceof x.e&&!(c instanceof R.Y)&&this._isValidRange(c,1))return c;const p=this._validatePosition(c.startLineNumber,c.startColumn,0),E=this._validatePosition(c.endLineNumber,c.endColumn,0),k=p.lineNumber,G=p.column,fe=E.lineNumber,ge=E.column;{const Le=G>1?this._buffer.getLineCharCode(k,G-2):0,we=ge>1&&ge<=this._buffer.getLineLength(fe)?this._buffer.getLineCharCode(fe,ge-2):0,Ie=Z.ZG(Le),Fe=Z.ZG(we);return Ie||Fe?k===fe&&G===ge?new x.e(k,G-1,fe,ge-1):Ie&&Fe?new x.e(k,G-1,fe,ge+1):Ie?new x.e(k,G-1,fe,ge):new x.e(k,G,fe,ge+1):new x.e(k,G,fe,ge)}}modifyPosition(c,g){this._assertNotDisposed();const p=this.getOffsetAt(c)+g;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,p)))}getFullModelRange(){this._assertNotDisposed();const c=this.getLineCount();return new x.e(1,1,c,this.getLineMaxColumn(c))}findMatchesLineByLine(c,g,p,E){return this._buffer.findMatchesLineByLine(c,g,p,E)}findMatches(c,g,p,E,k,G,fe=999){this._assertNotDisposed();let ge=null;null!==g&&(Array.isArray(g)||(g=[g]),g.every(Ie=>x.e.isIRange(Ie))&&(ge=g.map(Ie=>this.validateRange(Ie)))),null===ge&&(ge=[this.getFullModelRange()]),ge=ge.sort((Ie,Fe)=>Ie.startLineNumber-Fe.startLineNumber||Ie.startColumn-Fe.startColumn);const Le=[];let we;if(Le.push(ge.reduce((Ie,Fe)=>x.e.areIntersecting(Ie,Fe)?Ie.plusRange(Fe):(Le.push(Ie),Fe))),!p&&c.indexOf("\n")<0){const Fe=new en.bc(c,p,E,k).parseSearchRequest();if(!Fe)return[];we=He=>this.findMatchesLineByLine(He,Fe,G,fe)}else we=Ie=>en.pM.findMatches(this,new en.bc(c,p,E,k),Ie,G,fe);return Le.map(we).reduce((Ie,Fe)=>Ie.concat(Fe),[])}findNextMatch(c,g,p,E,k,G){this._assertNotDisposed();const fe=this.validatePosition(g);if(!p&&c.indexOf("\n")<0){const Le=new en.bc(c,p,E,k).parseSearchRequest();if(!Le)return null;const we=this.getLineCount();let Ie=new x.e(fe.lineNumber,fe.column,we,this.getLineMaxColumn(we)),Fe=this.findMatchesLineByLine(Ie,Le,G,1);return en.pM.findNextMatch(this,new en.bc(c,p,E,k),fe,G),Fe.length>0||(Ie=new x.e(1,1,fe.lineNumber,this.getLineMaxColumn(fe.lineNumber)),Fe=this.findMatchesLineByLine(Ie,Le,G,1),Fe.length>0)?Fe[0]:null}return en.pM.findNextMatch(this,new en.bc(c,p,E,k),fe,G)}findPreviousMatch(c,g,p,E,k,G){this._assertNotDisposed();const fe=this.validatePosition(g);return en.pM.findPreviousMatch(this,new en.bc(c,p,E,k),fe,G)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(c){if(("\n"===this.getEOL()?0:1)!==c)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(c)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(c){return c instanceof O.Qi?c:new O.Qi(c.identifier||null,this.validateRange(c.range),c.text,c.forceMoveMarkers||!1,c.isAutoWhitespaceEdit||!1,c._isTracked||!1)}_validateEditOperations(c){const g=[];for(let p=0,E=c.length;p<E;p++)g[p]=this._validateEditOperation(c[p]);return g}pushEditOperations(c,g,p){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(c,this._validateEditOperations(g),p)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(c,g,p){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const E=g.map(G=>({range:this.validateRange(G.range),text:G.text}));let k=!0;if(c)for(let G=0,fe=c.length;G<fe;G++){const ge=c[G];let Le=!1;for(let we=0,Ie=E.length;we<Ie;we++){const Fe=E[we].range,Ye=ge.startLineNumber>Fe.endLineNumber;if(!(Fe.startLineNumber>ge.endLineNumber||Ye)){Le=!0;break}}if(!Le){k=!1;break}}if(k)for(let G=0,fe=this._trimAutoWhitespaceLines.length;G<fe;G++){const ge=this._trimAutoWhitespaceLines[G],Le=this.getLineMaxColumn(ge);let we=!0;for(let Ie=0,Fe=E.length;Ie<Fe;Ie++){const He=E[Ie].range,Ye=E[Ie].text;if(!(ge<He.startLineNumber||ge>He.endLineNumber||ge===He.startLineNumber&&He.startColumn===Le&&He.isEmpty()&&Ye&&Ye.length>0&&"\n"===Ye.charAt(0)||ge===He.startLineNumber&&1===He.startColumn&&He.isEmpty()&&Ye&&Ye.length>0&&"\n"===Ye.charAt(Ye.length-1))){we=!1;break}}if(we){const Ie=new x.e(ge,1,ge,Le);g.push(new O.Qi(null,Ie,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(c,g,p)}_applyUndo(c,g,p,E){const k=c.map(G=>{const fe=this.getPositionAt(G.newPosition),ge=this.getPositionAt(G.newEnd);return{range:new x.e(fe.lineNumber,fe.column,ge.lineNumber,ge.column),text:G.oldText}});this._applyUndoRedoEdits(k,g,!0,!1,p,E)}_applyRedo(c,g,p,E){const k=c.map(G=>{const fe=this.getPositionAt(G.oldPosition),ge=this.getPositionAt(G.oldEnd);return{range:new x.e(fe.lineNumber,fe.column,ge.lineNumber,ge.column),text:G.newText}});this._applyUndoRedoEdits(k,g,!1,!0,p,E)}_applyUndoRedoEdits(c,g,p,E,k,G){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=p,this._isRedoing=E,this.applyEdits(c,!1),this.setEOL(g),this._overwriteAlternativeVersionId(k)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(G),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(c,g=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const p=this._validateEditOperations(c);return this._doApplyEdits(p,g)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(c,g){const p=this._buffer.getLineCount(),E=this._buffer.applyEdits(c,this._options.trimAutoWhitespace,g),k=this._buffer.getLineCount(),G=E.changes;if(this._trimAutoWhitespaceLines=E.trimAutoWhitespaceLineNumbers,0!==G.length){for(let Le=0,we=G.length;Le<we;Le++){const Ie=G[Le],[Fe,He,Ye]=(0,Q.Q)(Ie.text);this._tokens.acceptEdit(Ie.range,Fe,He),this._semanticTokens.acceptEdit(Ie.range,Fe,He,Ye,Ie.text.length>0?Ie.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(Ie.rangeOffset,Ie.rangeLength,Ie.text.length,Ie.forceMoveMarkers)}const fe=[];this._increaseVersionId();let ge=p;for(let Le=0,we=G.length;Le<we;Le++){const Ie=G[Le],[Fe]=(0,Q.Q)(Ie.text);this._onDidChangeDecorations.fire();const He=Ie.range.startLineNumber,Ye=Ie.range.endLineNumber,at=Ye-He,nt=Fe,Ct=Math.min(at,nt),Mt=nt-at,At=k-ge-Mt+He,vt=At+nt,qi=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new B.L(At,1)),this.getOffsetAt(new B.L(vt,this.getLineMaxColumn(vt))),0),Yi=qe.gk.fromDecorations(qi),So=new _.H9(Yi);for(let Ft=Ct;Ft>=0;Ft--){const qs=He+Ft,vs=At+Ft;So.takeFromEndWhile(Wt=>Wt.lineNumber>vs);const dn=So.takeFromEndWhile(Wt=>Wt.lineNumber===vs);fe.push(new qe.rU(qs,this.getLineContent(vs),dn))}if(Ct<at&&fe.push(new qe.lN(He+Ct+1,Ye)),Ct<nt){const Ft=new _.H9(Yi),qs=He+Ct,vs=nt-Ct,dn=k-ge-vs+qs+1,Wt=[],ni=[];for(let Di=0;Di<vs;Di++){const Wi=dn+Di;ni[Di]=this.getLineContent(Wi),Ft.takeWhile(gn=>gn.lineNumber<Wi),Wt[Di]=Ft.takeWhile(gn=>gn.lineNumber===Wi)}fe.push(new qe.Tx(qs+1,He+nt,ni,Wt))}ge+=Mt}this._emitContentChangedEvent(new qe.dQ(fe,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:G,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===E.reverseEdits?void 0:E.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(c){if(null===c||0===c.size)return;const p=[...c].map(E=>new qe.rU(E,this.getLineContent(E),this._getInjectedTextInLine(E)));this._onDidChangeContentOrInjectedText.fire(new qe.D8(p))}changeDecorations(c,g=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(g,c)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(c,g){const p={addDecoration:(k,G)=>this._deltaDecorationsImpl(c,[],[{range:k,options:G}])[0],changeDecoration:(k,G)=>{this._changeDecorationImpl(k,G)},changeDecorationOptions:(k,G)=>{this._changeDecorationOptionsImpl(k,wo(G))},removeDecoration:k=>{this._deltaDecorationsImpl(c,[k],[])},deltaDecorations:(k,G)=>0===k.length&&0===G.length?[]:this._deltaDecorationsImpl(c,k,G)};let E=null;try{E=g(p)}catch(k){(0,ee.dL)(k)}return p.addDecoration=$n,p.changeDecoration=$n,p.changeDecorationOptions=$n,p.removeDecoration=$n,p.deltaDecorations=$n,E}deltaDecorations(c,g,p=0){if(this._assertNotDisposed(),c||(c=[]),0===c.length&&0===g.length)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(p,c,g)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(c){return this.getDecorationRange(c)}_setTrackedRange(c,g,p){const E=c?this._decorations[c]:null;if(!E)return g?this._deltaDecorationsImpl(0,[],[{range:g,options:vo[p]}])[0]:null;if(!g)return this._decorationsTree.delete(E),delete this._decorations[E.id],null;const k=this._validateRangeRelaxedNoAllocations(g),G=this._buffer.getOffsetAt(k.startLineNumber,k.startColumn),fe=this._buffer.getOffsetAt(k.endLineNumber,k.endColumn);return this._decorationsTree.delete(E),E.reset(this.getVersionId(),G,fe,k),E.setOptions(vo[p]),this._decorationsTree.insert(E),E.id}removeAllDecorationsWithOwnerId(c){if(this._isDisposed)return;const g=this._decorationsTree.collectNodesFromOwner(c);for(let p=0,E=g.length;p<E;p++){const k=g[p];this._decorationsTree.delete(k),delete this._decorations[k.id]}}getDecorationOptions(c){const g=this._decorations[c];return g?g.options:null}getDecorationRange(c){const g=this._decorations[c];return g?this._decorationsTree.getNodeRange(this,g):null}getLineDecorations(c,g=0,p=!1){return c<1||c>this.getLineCount()?[]:this.getLinesDecorations(c,c,g,p)}getLinesDecorations(c,g,p=0,E=!1){const k=this.getLineCount(),G=Math.min(k,Math.max(1,c)),fe=Math.min(k,Math.max(1,g)),ge=this.getLineMaxColumn(fe),Le=new x.e(G,1,fe,ge),we=this._getDecorationsInRange(Le,p,E);return we.push(...this._decorationProvider.getDecorationsInRange(Le,p,E)),we}getDecorationsInRange(c,g=0,p=!1){const E=this.validateRange(c),k=this._getDecorationsInRange(E,g,p);return k.push(...this._decorationProvider.getDecorationsInRange(E,g,p)),k}getOverviewRulerDecorations(c=0,g=!1){return this._decorationsTree.getAll(this,c,g,!0)}getInjectedTextDecorations(c=0){return this._decorationsTree.getAllInjectedText(this,c)}_getInjectedTextInLine(c){const g=this._buffer.getOffsetAt(c,1),p=g+this._buffer.getLineLength(c),E=this._decorationsTree.getInjectedTextInInterval(this,g,p,0);return qe.gk.fromDecorations(E).filter(k=>k.lineNumber===c)}getAllDecorations(c=0,g=!1){let p=this._decorationsTree.getAll(this,c,g,!1);return p=p.concat(this._decorationProvider.getAllDecorations(c,g)),p}_getDecorationsInRange(c,g,p){const E=this._buffer.getOffsetAt(c.startLineNumber,c.startColumn),k=this._buffer.getOffsetAt(c.endLineNumber,c.endColumn);return this._decorationsTree.getAllInInterval(this,E,k,g,p)}getRangeAt(c,g){return this._buffer.getRangeAt(c,g-c)}_changeDecorationImpl(c,g){const p=this._decorations[c];if(!p)return;if(p.options.after){const fe=this.getDecorationRange(c);this._onDidChangeDecorations.recordLineAffectedByInjectedText(fe.endLineNumber)}if(p.options.before){const fe=this.getDecorationRange(c);this._onDidChangeDecorations.recordLineAffectedByInjectedText(fe.startLineNumber)}const E=this._validateRangeRelaxedNoAllocations(g),k=this._buffer.getOffsetAt(E.startLineNumber,E.startColumn),G=this._buffer.getOffsetAt(E.endLineNumber,E.endColumn);this._decorationsTree.delete(p),p.reset(this.getVersionId(),k,G,E),this._decorationsTree.insert(p),this._onDidChangeDecorations.checkAffectedAndFire(p.options),p.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(E.endLineNumber),p.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(E.startLineNumber)}_changeDecorationOptionsImpl(c,g){const p=this._decorations[c];if(!p)return;const E=!(!p.options.overviewRuler||!p.options.overviewRuler.color),k=!(!g.overviewRuler||!g.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(p.options),this._onDidChangeDecorations.checkAffectedAndFire(g),p.options.after||g.after){const G=this._decorationsTree.getNodeRange(this,p);this._onDidChangeDecorations.recordLineAffectedByInjectedText(G.endLineNumber)}if(p.options.before||g.before){const G=this._decorationsTree.getNodeRange(this,p);this._onDidChangeDecorations.recordLineAffectedByInjectedText(G.startLineNumber)}E!==k?(this._decorationsTree.delete(p),p.setOptions(g),this._decorationsTree.insert(p)):p.setOptions(g)}_deltaDecorationsImpl(c,g,p){const E=this.getVersionId(),k=g.length;let G=0;const fe=p.length;let ge=0;const Le=new Array(fe);for(;G<k||ge<fe;){let we=null;if(G<k){do{we=this._decorations[g[G++]]}while(!we&&G<k);if(we){if(we.options.after){const Ie=this._decorationsTree.getNodeRange(this,we);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ie.endLineNumber)}if(we.options.before){const Ie=this._decorationsTree.getNodeRange(this,we);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ie.startLineNumber)}this._decorationsTree.delete(we),this._onDidChangeDecorations.checkAffectedAndFire(we.options)}}if(ge<fe){if(!we){const nt=++this._lastDecorationId,Ct=`${this._instanceId};${nt}`;we=new On(Ct,0,0),this._decorations[Ct]=we}const Ie=p[ge],Fe=this._validateRangeRelaxedNoAllocations(Ie.range),He=wo(Ie.options),Ye=this._buffer.getOffsetAt(Fe.startLineNumber,Fe.startColumn),at=this._buffer.getOffsetAt(Fe.endLineNumber,Fe.endColumn);we.ownerId=c,we.reset(E,Ye,at,Fe),we.setOptions(He),we.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Fe.endLineNumber),we.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Fe.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(He),this._decorationsTree.insert(we),Le[ge]=we.id,ge++}else we&&delete this._decorations[we.id]}return Le}setTokens(c,g=!1){if(0!==c.length){const p=[];for(let E=0,k=c.length;E<k;E++){const G=c[E];let fe=0,ge=0,Le=!1;for(let we=G.startLineNumber;we<=G.endLineNumber;we++)Le?(this._tokens.setTokens(this._languageId,we-1,this._buffer.getLineLength(we),G.getLineTokens(we),!1),ge=we):this._tokens.setTokens(this._languageId,we-1,this._buffer.getLineLength(we),G.getLineTokens(we),!0)&&(Le=!0,fe=we,ge=we);Le&&p.push({fromLineNumber:fe,toLineNumber:ge})}p.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:p})}this.handleTokenizationProgress(g)}setSemanticTokens(c,g){this._semanticTokens.set(c,g),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:null!==c,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(c,g){if(this.hasCompleteSemanticTokens())return;const p=this.validateRange(this._semanticTokens.setPartial(c,g));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:p.startLineNumber,toLineNumber:p.endLineNumber}]})}tokenizeViewport(c,g){c=Math.max(1,c),g=Math.min(this._buffer.getLineCount(),g),this._tokenization.tokenizeViewport(c,g)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(c){this._isDisposing||this._onDidChangeTokens.fire(c)}resetTokenization(){this._tokenization.reset()}forceTokenization(c){if(c<1||c>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(c)}isCheapToTokenize(c){return this._tokenization.isCheapToTokenize(c)}tokenizeIfCheap(c){this.isCheapToTokenize(c)&&this.forceTokenization(c)}getLineTokens(c){if(c<1||c>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(c)}_getLineTokens(c){const g=this.getLineContent(c),p=this._tokens.getTokens(this._languageId,c-1,g);return this._semanticTokens.addSparseTokens(c,p)}getLanguageId(){return this._languageId}setMode(c){if(this._languageId===c)return;const g={oldLanguage:this._languageId,newLanguage:c};this._languageId=c,this._onDidChangeLanguage.fire(g),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(c,g){const p=this.validatePosition(new B.L(c,g)),E=this.getLineTokens(p.lineNumber);return E.getLanguageId(E.findTokenIndexAtOffset(p.column-1))}getTokenTypeIfInsertingCharacter(c,g,p){const E=this.validatePosition(new B.L(c,g));return this._tokenization.getTokenTypeIfInsertingCharacter(E,p)}tokenizeLineWithEdit(c,g,p){const E=this.validatePosition(c);return this._tokenization.tokenizeLineWithEdit(E,g,p)}getLanguageConfiguration(c){return this._languageConfigurationService.getLanguageConfiguration(c)}getWordAtPosition(c){this._assertNotDisposed();const g=this.validatePosition(c),p=this.getLineContent(g.lineNumber),E=this._getLineTokens(g.lineNumber),k=E.findTokenIndexAtOffset(g.column-1),[G,fe]=Do._findLanguageBoundaries(E,k),ge=(0,wa.t2)(g.column,this.getLanguageConfiguration(E.getLanguageId(k)).getWordDefinition(),p.substring(G,fe),G);if(ge&&ge.startColumn<=c.column&&c.column<=ge.endColumn)return ge;if(k>0&&G===g.column-1){const[Le,we]=Do._findLanguageBoundaries(E,k-1),Ie=(0,wa.t2)(g.column,this.getLanguageConfiguration(E.getLanguageId(k-1)).getWordDefinition(),p.substring(Le,we),Le);if(Ie&&Ie.startColumn<=c.column&&c.column<=Ie.endColumn)return Ie}return null}static _findLanguageBoundaries(c,g){const p=c.getLanguageId(g);let E=0;for(let G=g;G>=0&&c.getLanguageId(G)===p;G--)E=c.getStartOffset(G);let k=c.getLineContent().length;for(let G=g,fe=c.getCount();G<fe&&c.getLanguageId(G)===p;G++)k=c.getEndOffset(G);return[E,k]}getWordUntilPosition(c){const g=this.getWordAtPosition(c);return g?{word:g.word.substr(0,c.column-g.startColumn),startColumn:g.startColumn,endColumn:c.column}:{word:"",startColumn:c.column,endColumn:c.column}}normalizePosition(c,g){return c}getLineIndentColumn(c){return function Co(re){let c=0;for(const g of re){if(" "!==g&&"\t"!==g)break;c++}return c}(this.getLineContent(c))+1}};function Wn(re){return!(!re.options.overviewRuler||!re.options.overviewRuler.color)}function Jo(re){return!!re.options.after||!!re.options.before}Gn.MODEL_SYNC_LIMIT=52428800,Gn.LARGE_FILE_SIZE_THRESHOLD=20971520,Gn.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,Gn.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:kn.D.tabSize,indentSize:kn.D.indentSize,insertSpaces:kn.D.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:kn.D.trimAutoWhitespace,largeFileOptimizations:kn.D.largeFileOptimizations,bracketPairColorizationOptions:kn.D.bracketPairColorizationOptions},Gn=function(re,c,g,p){var G,E=arguments.length,k=E<3?c:null===p?p=Object.getOwnPropertyDescriptor(c,g):p;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(re,c,g,p);else for(var fe=re.length-1;fe>=0;fe--)(G=re[fe])&&(k=(E<3?G(k):E>3?G(c,g,k):G(c,g))||k);return E>3&&k&&Object.defineProperty(c,g,k),k}([Ro(4,Xo.tJ),Ro(5,id.O),Ro(6,As.c_)],Gn);class yn{constructor(){this._decorationsTree0=new ms,this._decorationsTree1=new ms,this._injectedTextDecorationsTree=new ms}ensureAllNodesHaveRanges(c){this.getAll(c,0,!1,!1)}_ensureNodesHaveRanges(c,g){for(const p of g)null===p.range&&(p.range=c.getRangeAt(p.cachedAbsoluteStart,p.cachedAbsoluteEnd));return g}getAllInInterval(c,g,p,E,k){const G=c.getVersionId(),fe=this._intervalSearch(g,p,E,k,G);return this._ensureNodesHaveRanges(c,fe)}_intervalSearch(c,g,p,E,k){const G=this._decorationsTree0.intervalSearch(c,g,p,E,k),fe=this._decorationsTree1.intervalSearch(c,g,p,E,k),ge=this._injectedTextDecorationsTree.intervalSearch(c,g,p,E,k);return G.concat(fe).concat(ge)}getInjectedTextInInterval(c,g,p,E){const k=c.getVersionId(),G=this._injectedTextDecorationsTree.intervalSearch(g,p,E,!1,k);return this._ensureNodesHaveRanges(c,G).filter(fe=>fe.options.showIfCollapsed||!fe.range.isEmpty())}getAllInjectedText(c,g){const p=c.getVersionId(),E=this._injectedTextDecorationsTree.search(g,!1,p);return this._ensureNodesHaveRanges(c,E).filter(k=>k.options.showIfCollapsed||!k.range.isEmpty())}getAll(c,g,p,E){const k=c.getVersionId(),G=this._search(g,p,E,k);return this._ensureNodesHaveRanges(c,G)}_search(c,g,p,E){if(p)return this._decorationsTree1.search(c,g,E);{const k=this._decorationsTree0.search(c,g,E),G=this._decorationsTree1.search(c,g,E),fe=this._injectedTextDecorationsTree.search(c,g,E);return k.concat(G).concat(fe)}}collectNodesFromOwner(c){const g=this._decorationsTree0.collectNodesFromOwner(c),p=this._decorationsTree1.collectNodesFromOwner(c),E=this._injectedTextDecorationsTree.collectNodesFromOwner(c);return g.concat(p).concat(E)}collectNodesPostOrder(){const c=this._decorationsTree0.collectNodesPostOrder(),g=this._decorationsTree1.collectNodesPostOrder(),p=this._injectedTextDecorationsTree.collectNodesPostOrder();return c.concat(g).concat(p)}insert(c){Jo(c)?this._injectedTextDecorationsTree.insert(c):Wn(c)?this._decorationsTree1.insert(c):this._decorationsTree0.insert(c)}delete(c){Jo(c)?this._injectedTextDecorationsTree.delete(c):Wn(c)?this._decorationsTree1.delete(c):this._decorationsTree0.delete(c)}getNodeRange(c,g){const p=c.getVersionId();return g.cachedVersionId!==p&&this._resolveNode(g,p),null===g.range&&(g.range=c.getRangeAt(g.cachedAbsoluteStart,g.cachedAbsoluteEnd)),g.range}_resolveNode(c,g){Jo(c)?this._injectedTextDecorationsTree.resolveNode(c,g):Wn(c)?this._decorationsTree1.resolveNode(c,g):this._decorationsTree0.resolveNode(c,g)}acceptReplace(c,g,p,E){this._decorationsTree0.acceptReplace(c,g,p,E),this._decorationsTree1.acceptReplace(c,g,p,E),this._injectedTextDecorationsTree.acceptReplace(c,g,p,E)}}function Ps(re){return re.replace(/[^a-z0-9\-_]/gi," ")}class bo{constructor(c){this.color=c.color||"",this.darkColor=c.darkColor||""}}class Sa extends bo{constructor(c){super(c),this._resolvedColor=null,this.position="number"==typeof c.position?c.position:O.sh.Center}getColor(c){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==c.type&&this.darkColor?this.darkColor:this.color,c)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(c,g){if("string"==typeof c)return c;const p=c?g.getColor(c.id):null;return p?p.toString():""}}class vl extends bo{constructor(c){super(c),this.position=c.position}getColor(c){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==c.type&&this.darkColor?this.darkColor:this.color,c)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(c,g){return"string"==typeof c?h.Il.fromHex(c):g.getColor(c.id)}}class bs{constructor(c){this.content=c.content||"",this.inlineClassName=c.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=c.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=c.attachedData||null,this.cursorStops=c.cursorStops||null}static from(c){return c instanceof bs?c:new bs(c)}}class Vn{constructor(c){var g,p;this.description=c.description,this.stickiness=c.stickiness||0,this.zIndex=c.zIndex||0,this.className=c.className?Ps(c.className):null,this.hoverMessage=c.hoverMessage||null,this.glyphMarginHoverMessage=c.glyphMarginHoverMessage||null,this.isWholeLine=c.isWholeLine||!1,this.showIfCollapsed=c.showIfCollapsed||!1,this.collapseOnReplaceEdit=c.collapseOnReplaceEdit||!1,this.overviewRuler=c.overviewRuler?new Sa(c.overviewRuler):null,this.minimap=c.minimap?new vl(c.minimap):null,this.glyphMarginClassName=c.glyphMarginClassName?Ps(c.glyphMarginClassName):null,this.linesDecorationsClassName=c.linesDecorationsClassName?Ps(c.linesDecorationsClassName):null,this.firstLineDecorationClassName=c.firstLineDecorationClassName?Ps(c.firstLineDecorationClassName):null,this.marginClassName=c.marginClassName?Ps(c.marginClassName):null,this.inlineClassName=c.inlineClassName?Ps(c.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=c.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=c.beforeContentClassName?Ps(c.beforeContentClassName):null,this.afterContentClassName=c.afterContentClassName?Ps(c.afterContentClassName):null,this.after=c.after?bs.from(c.after):null,this.before=c.before?bs.from(c.before):null,this.hideInCommentTokens=null!==(g=c.hideInCommentTokens)&&void 0!==g&&g,this.hideInStringTokens=null!==(p=c.hideInStringTokens)&&void 0!==p&&p}static register(c){return new Vn(c)}static createDynamic(c){return new Vn(c)}}Vn.EMPTY=Vn.register({description:"empty"});const vo=[Vn.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Vn.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Vn.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Vn.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function wo(re){return re instanceof Vn?re:Vn.createDynamic(re)}class Rr extends v.JT{constructor(c){super(),this.handleBeforeFire=c,this._actual=this._register(new y.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var c;if(this._deferredCnt--,0===this._deferredCnt){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const g={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(g)}null===(c=this._affectedInjectedTextLines)||void 0===c||c.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(c){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(c)}checkAffectedAndFire(c){this._affectsMinimap||(this._affectsMinimap=!(!c.minimap||!c.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!c.overviewRuler||!c.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class er extends v.JT{constructor(){super(),this._fastEmitter=this._register(new y.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new y.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(c=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=c;const g=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(g),this._slowEmitter.fire(g)}}fire(c){this._deferredCnt>0?this._deferredEvent=this._deferredEvent?this._deferredEvent.merge(c):c:(this._fastEmitter.fire(c),this._slowEmitter.fire(c))}}},31154:(Ae,xe,L)=>{"use strict";L.d(xe,{bc:()=>$,cM:()=>f,iE:()=>x,pM:()=>O,sz:()=>N});var _=L(13088),h=L(30681),ee=L(94220),y=L(68451),v=L(32213);class ${constructor(I,P,H,F){this.searchString=I,this.isRegex=P,this.matchCase=H,this.wordSeparators=F}parseSearchRequest(){if(""===this.searchString)return null;let I;I=this.isRegex?function B(A){if(!A||0===A.length)return!1;for(let I=0,P=A.length;I<P;I++)if(92===A.charCodeAt(I)){if(I++,I>=P)break;const F=A.charCodeAt(I);if(110===F||114===F||87===F)return!0}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let P=null;try{P=_.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:I,global:!0,unicode:!0})}catch(F){return null}if(!P)return null;let H=!this.isRegex&&!I;return H&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(H=this.matchCase),new v.Tx(P,this.wordSeparators?(0,h.u)(this.wordSeparators):null,H?this.searchString:null)}}function x(A,I,P){if(!P)return new v.tk(A,null);const H=[];for(let F=0,T=I.length;F<T;F++)H[F]=I[F];return new v.tk(A,H)}class R{constructor(I){const P=[];let H=0;for(let F=0,T=I.length;F<T;F++)10===I.charCodeAt(F)&&(P[H++]=F);this._lineFeedsOffsets=P}findLineFeedCountBeforeOffset(I){const P=this._lineFeedsOffsets;let H=0,F=P.length-1;if(-1===F||I<=P[0])return 0;for(;H<F;){const T=H+((F-H)/2>>0);P[T]>=I?F=T-1:P[T+1]>=I?(H=T,F=T):H=T+1}return H+1}}class O{static findMatches(I,P,H,F,T){const q=P.parseSearchRequest();return q?q.regex.multiline?this._doFindMatchesMultiline(I,H,new N(q.wordSeparators,q.regex),F,T):this._doFindMatchesLineByLine(I,H,q,F,T):[]}static _getMultilineMatchRange(I,P,H,F,T,q){let Y,me,te=0;if(F?(te=F.findLineFeedCountBeforeOffset(T),Y=P+T+te):Y=P+T,F){const Ve=F.findLineFeedCountBeforeOffset(T+q.length)-te;me=Y+q.length+Ve}else me=Y+q.length;const _e=I.getPositionAt(Y),de=I.getPositionAt(me);return new y.e(_e.lineNumber,_e.column,de.lineNumber,de.column)}static _doFindMatchesMultiline(I,P,H,F,T){const q=I.getOffsetAt(P.getStartPosition()),Y=I.getValueInRange(P,1),te="\r\n"===I.getEOL()?new R(Y):null,me=[];let de,_e=0;for(H.reset(0);de=H.next(Y);)if(me[_e++]=x(this._getMultilineMatchRange(I,q,Y,te,de.index,de[0]),de,F),_e>=T)return me;return me}static _doFindMatchesLineByLine(I,P,H,F,T){const q=[];let Y=0;if(P.startLineNumber===P.endLineNumber){const me=I.getLineContent(P.startLineNumber).substring(P.startColumn-1,P.endColumn-1);return Y=this._findMatchesInLine(H,me,P.startLineNumber,P.startColumn-1,Y,q,F,T),q}const te=I.getLineContent(P.startLineNumber).substring(P.startColumn-1);Y=this._findMatchesInLine(H,te,P.startLineNumber,P.startColumn-1,Y,q,F,T);for(let me=P.startLineNumber+1;me<P.endLineNumber&&Y<T;me++)Y=this._findMatchesInLine(H,I.getLineContent(me),me,0,Y,q,F,T);if(Y<T){const me=I.getLineContent(P.endLineNumber).substring(0,P.endColumn-1);Y=this._findMatchesInLine(H,me,P.endLineNumber,0,Y,q,F,T)}return q}static _findMatchesInLine(I,P,H,F,T,q,Y,te){const me=I.wordSeparators;if(!Y&&I.simpleSearch){const Se=I.simpleSearch,Ve=Se.length,ce=P.length;let K=-Ve;for(;-1!==(K=P.indexOf(Se,K+Ve));)if((!me||f(me,P,ce,K,Ve))&&(q[T++]=new v.tk(new y.e(H,K+1+F,H,K+1+Ve+F),null),T>=te))return T;return T}const _e=new N(I.wordSeparators,I.regex);let de;_e.reset(0);do{if(de=_e.next(P),de&&(q[T++]=x(new y.e(H,de.index+1+F,H,de.index+1+de[0].length+F),de,Y),T>=te))return T}while(de);return T}static findNextMatch(I,P,H,F){const T=P.parseSearchRequest();if(!T)return null;const q=new N(T.wordSeparators,T.regex);return T.regex.multiline?this._doFindNextMatchMultiline(I,H,q,F):this._doFindNextMatchLineByLine(I,H,q,F)}static _doFindNextMatchMultiline(I,P,H,F){const T=new ee.L(P.lineNumber,1),q=I.getOffsetAt(T),Y=I.getLineCount(),te=I.getValueInRange(new y.e(T.lineNumber,T.column,Y,I.getLineMaxColumn(Y)),1),me="\r\n"===I.getEOL()?new R(te):null;H.reset(P.column-1);let _e=H.next(te);return _e?x(this._getMultilineMatchRange(I,q,te,me,_e.index,_e[0]),_e,F):1!==P.lineNumber||1!==P.column?this._doFindNextMatchMultiline(I,new ee.L(1,1),H,F):null}static _doFindNextMatchLineByLine(I,P,H,F){const T=I.getLineCount(),q=P.lineNumber,Y=I.getLineContent(q),te=this._findFirstMatchInLine(H,Y,q,P.column,F);if(te)return te;for(let me=1;me<=T;me++){const _e=(q+me-1)%T,de=I.getLineContent(_e+1),Se=this._findFirstMatchInLine(H,de,_e+1,1,F);if(Se)return Se}return null}static _findFirstMatchInLine(I,P,H,F,T){I.reset(F-1);const q=I.next(P);return q?x(new y.e(H,q.index+1,H,q.index+1+q[0].length),q,T):null}static findPreviousMatch(I,P,H,F){const T=P.parseSearchRequest();if(!T)return null;const q=new N(T.wordSeparators,T.regex);return T.regex.multiline?this._doFindPreviousMatchMultiline(I,H,q,F):this._doFindPreviousMatchLineByLine(I,H,q,F)}static _doFindPreviousMatchMultiline(I,P,H,F){const T=this._doFindMatchesMultiline(I,new y.e(1,1,P.lineNumber,P.column),H,F,9990);if(T.length>0)return T[T.length-1];const q=I.getLineCount();return P.lineNumber!==q||P.column!==I.getLineMaxColumn(q)?this._doFindPreviousMatchMultiline(I,new ee.L(q,I.getLineMaxColumn(q)),H,F):null}static _doFindPreviousMatchLineByLine(I,P,H,F){const T=I.getLineCount(),q=P.lineNumber,Y=I.getLineContent(q).substring(0,P.column-1),te=this._findLastMatchInLine(H,Y,q,F);if(te)return te;for(let me=1;me<=T;me++){const _e=(T+q-me-1)%T,de=I.getLineContent(_e+1),Se=this._findLastMatchInLine(H,de,_e+1,F);if(Se)return Se}return null}static _findLastMatchInLine(I,P,H,F){let q,T=null;for(I.reset(0);q=I.next(P);)T=x(new y.e(H,q.index+1,H,q.index+1+q[0].length),q,F);return T}}function f(A,I,P,H,F){return function b(A,I,P,H,F){if(0===H)return!0;const T=I.charCodeAt(H-1);if(0!==A.get(T)||13===T||10===T)return!0;if(F>0){const q=I.charCodeAt(H);if(0!==A.get(q))return!0}return!1}(A,I,0,H,F)&&function V(A,I,P,H,F){if(H+F===P)return!0;const T=I.charCodeAt(H+F);if(0!==A.get(T)||13===T||10===T)return!0;if(F>0){const q=I.charCodeAt(H+F-1);if(0!==A.get(q))return!0}return!1}(A,I,P,H,F)}class N{constructor(I,P){this._wordSeparators=I,this._searchRegex=P,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(I){this._searchRegex.lastIndex=I,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(I){const P=I.length;let H;do{if(this._prevMatchStartIndex+this._prevMatchLength===P||(H=this._searchRegex.exec(I),!H))return null;const F=H.index,T=H[0].length;if(F===this._prevMatchStartIndex&&T===this._prevMatchLength){if(0===T){_.ZH(I,P,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=F,this._prevMatchLength=T,!this._wordSeparators||f(this._wordSeparators,I,P,F,T))return H}while(H);return null}}},47675:(Ae,xe,L)=>{"use strict";L.d(xe,{O:()=>h});const h=(0,L(64725).yh)("languageService")},8648:(Ae,xe,L)=>{"use strict";L.d(xe,{q:()=>h});const h=(0,L(64725).yh)("modelService")},87424:(Ae,xe,L)=>{"use strict";L.d(xe,{S:()=>h});const h=(0,L(64725).yh)("textModelService")},42814:(Ae,xe,L)=>{"use strict";L.d(xe,{CZ:()=>Z,D8:()=>B,Jx:()=>_,Tx:()=>v,dQ:()=>$,fV:()=>x,gk:()=>h,lN:()=>y,rU:()=>ee});class _{constructor(){this.changeType=1}}class h{constructor(O,b,V,f,N){this.ownerId=O,this.lineNumber=b,this.column=V,this.options=f,this.order=N}static applyInjectedText(O,b){if(!b||0===b.length)return O;let V="",f=0;for(const N of b)V+=O.substring(f,N.column-1),f=N.column-1,V+=N.options.content;return V+=O.substring(f),V}static fromDecorations(O){const b=[];for(const V of O)V.options.before&&V.options.before.content.length>0&&b.push(new h(V.ownerId,V.range.startLineNumber,V.range.startColumn,V.options.before,0)),V.options.after&&V.options.after.content.length>0&&b.push(new h(V.ownerId,V.range.endLineNumber,V.range.endColumn,V.options.after,1));return b.sort((V,f)=>V.lineNumber===f.lineNumber?V.column===f.column?V.order-f.order:V.column-f.column:V.lineNumber-f.lineNumber),b}}class ee{constructor(O,b,V){this.changeType=2,this.lineNumber=O,this.detail=b,this.injectedText=V}}class y{constructor(O,b){this.changeType=3,this.fromLineNumber=O,this.toLineNumber=b}}class v{constructor(O,b,V,f){this.changeType=4,this.injectedTexts=f,this.fromLineNumber=O,this.toLineNumber=b,this.detail=V}}class Z{constructor(){this.changeType=5}}class ${constructor(O,b,V,f){this.changes=O,this.versionId=b,this.isUndoing=V,this.isRedoing=f,this.resultingSelection=null}containsEvent(O){for(let b=0,V=this.changes.length;b<V;b++)if(this.changes[b].changeType===O)return!0;return!1}static merge(O,b){const V=[].concat(O.changes).concat(b.changes);return new $(V,b.versionId,O.isUndoing||b.isUndoing,O.isRedoing||b.isRedoing)}}class B{constructor(O){this.changes=O}}class x{constructor(O,b){this.rawContentChangedEvent=O,this.contentChangedEvent=b}merge(O){const b=$.merge(this.rawContentChangedEvent,O.rawContentChangedEvent),V=x._mergeChangeEvents(this.contentChangedEvent,O.contentChangedEvent);return new x(b,V)}static _mergeChangeEvents(O,b){return{changes:[].concat(O.changes).concat(b.changes),eol:b.eol,versionId:b.versionId,isUndoing:O.isUndoing||b.isUndoing,isRedoing:O.isRedoing||b.isRedoing,isFlush:O.isFlush||b.isFlush}}}},52904:(Ae,xe,L)=>{"use strict";L.d(xe,{UO:()=>h,s6:()=>_,vW:()=>ee});var _=(()=>{return(y=_||(_={}))[y.Disabled=0]="Disabled",y[y.EnabledForActive=1]="EnabledForActive",y[y.Enabled=2]="Enabled",_;var y})();class h{constructor(v,Z,$){this.visibleColumn=v,this.className=Z,this.horizontalLine=$}}class ee{constructor(v,Z){this.top=v,this.endColumn=Z}}},8028:(Ae,xe,L)=>{"use strict";L.d(xe,{A:()=>h});var _=L(5283);let h=(()=>{class y{constructor(Z,$,B){this._lineTokensBrand=void 0,this._tokens=Z,this._tokensCount=this._tokens.length>>>1,this._text=$,this._languageIdCodec=B}static createEmpty(Z,$){const B=y.defaultTokenMetadata,x=new Uint32Array(2);return x[0]=Z.length,x[1]=B,new y(x,Z,$)}equals(Z){return Z instanceof y&&this.slicedEquals(Z,0,this._tokensCount)}slicedEquals(Z,$,B){if(this._text!==Z._text||this._tokensCount!==Z._tokensCount)return!1;const x=$<<1,R=x+(B<<1);for(let O=x;O<R;O++)if(this._tokens[O]!==Z._tokens[O])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(Z){return Z>0?this._tokens[Z-1<<1]:0}getMetadata(Z){return this._tokens[1+(Z<<1)]}getLanguageId(Z){const B=_.NX.getLanguageId(this._tokens[1+(Z<<1)]);return this._languageIdCodec.decodeLanguageId(B)}getStandardTokenType(Z){return _.NX.getTokenType(this._tokens[1+(Z<<1)])}getForeground(Z){return _.NX.getForeground(this._tokens[1+(Z<<1)])}getClassName(Z){return _.NX.getClassNameFromMetadata(this._tokens[1+(Z<<1)])}getInlineStyle(Z,$){return _.NX.getInlineStyleFromMetadata(this._tokens[1+(Z<<1)],$)}getPresentation(Z){return _.NX.getPresentationFromMetadata(this._tokens[1+(Z<<1)])}getEndOffset(Z){return this._tokens[Z<<1]}findTokenIndexAtOffset(Z){return y.findIndexInTokensArray(this._tokens,Z)}inflate(){return this}sliceAndInflate(Z,$,B){return new ee(this,Z,$,B)}static convertToEndOffset(Z,$){const x=(Z.length>>>1)-1;for(let R=0;R<x;R++)Z[R<<1]=Z[R+1<<1];Z[x<<1]=$}static findIndexInTokensArray(Z,$){if(Z.length<=2)return 0;let B=0,x=(Z.length>>>1)-1;for(;B<x;){const R=B+Math.floor((x-B)/2),O=Z[R<<1];if(O===$)return R+1;O<$?B=R+1:O>$&&(x=R)}return B}withInserted(Z){if(0===Z.length)return this;let $=0,B=0,x="";const R=new Array;let O=0;for(;;){const b=$<this._tokensCount?this._tokens[$<<1]:-1,V=B<Z.length?Z[B]:null;if(-1!==b&&(null===V||b<=V.offset))x+=this._text.substring(O,b),R.push(x.length,this._tokens[1+($<<1)]),$++,O=b;else{if(!V)break;V.offset>O&&(x+=this._text.substring(O,V.offset),R.push(x.length,this._tokens[1+($<<1)]),O=V.offset),x+=V.text,R.push(x.length,V.tokenMetadata),B++}}return new y(new Uint32Array(R),x,this._languageIdCodec)}}return y.defaultTokenMetadata=16793600,y})();class ee{constructor(v,Z,$,B){this._source=v,this._startOffset=Z,this._endOffset=$,this._deltaOffset=B,this._firstTokenIndex=v.findTokenIndexAtOffset(Z),this._tokensCount=0;for(let x=this._firstTokenIndex,R=v.getCount();x<R&&!(v.getStartOffset(x)>=$);x++)this._tokensCount++}getMetadata(v){return this._source.getMetadata(this._firstTokenIndex+v)}getLanguageId(v){return this._source.getLanguageId(this._firstTokenIndex+v)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(v){return v instanceof ee&&this._startOffset===v._startOffset&&this._endOffset===v._endOffset&&this._deltaOffset===v._deltaOffset&&this._source.slicedEquals(v._source,this._firstTokenIndex,this._tokensCount)}getCount(){return this._tokensCount}getForeground(v){return this._source.getForeground(this._firstTokenIndex+v)}getEndOffset(v){const Z=this._source.getEndOffset(this._firstTokenIndex+v);return Math.min(this._endOffset,Z)-this._startOffset+this._deltaOffset}getClassName(v){return this._source.getClassName(this._firstTokenIndex+v)}getInlineStyle(v,Z){return this._source.getInlineStyle(this._firstTokenIndex+v,Z)}getPresentation(v){return this._source.getPresentation(this._firstTokenIndex+v)}findTokenIndexAtOffset(v){return this._source.findTokenIndexAtOffset(v+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},63783:(Ae,xe,L)=>{"use strict";L.r(xe),L.d(xe,{CopyAction:()=>I,CutAction:()=>A,PasteAction:()=>P});var _=L(13366),h=L(38972),ee=L(47462),y=L(95172),v=L(7221),Z=L(29584),$=L(40402),B=L(61004),x=L(80777);const O="9_cutcopypaste",b=h.tY||document.queryCommandSupported("cut"),V=h.tY||document.queryCommandSupported("copy"),f=void 0!==navigator.clipboard&&!_.isFirefox||document.queryCommandSupported("paste");function N(T){return T.register(),T}const A=b?N(new y.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:h.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:B.eH.MenubarEditMenu,group:"2_ccp",title:$.N({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:B.eH.EditorContext,group:O,title:$.N("actions.clipboard.cutLabel","Cut"),when:Z.u.writable,order:1},{menuId:B.eH.CommandPalette,group:"",title:$.N("actions.clipboard.cutLabel","Cut"),order:1},{menuId:B.eH.SimpleEditorContext,group:O,title:$.N("actions.clipboard.cutLabel","Cut"),when:Z.u.writable,order:1}]})):void 0,I=V?N(new y.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:h.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:B.eH.MenubarEditMenu,group:"2_ccp",title:$.N({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:B.eH.EditorContext,group:O,title:$.N("actions.clipboard.copyLabel","Copy"),order:2},{menuId:B.eH.CommandPalette,group:"",title:$.N("actions.clipboard.copyLabel","Copy"),order:1},{menuId:B.eH.SimpleEditorContext,group:O,title:$.N("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;B.BH.appendMenuItem(B.eH.MenubarEditMenu,{submenu:B.eH.MenubarCopy,title:{value:$.N("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),B.BH.appendMenuItem(B.eH.EditorContext,{submenu:B.eH.EditorContextCopy,title:{value:$.N("copy as","Copy As"),original:"Copy As"},group:O,order:3});const P=f?N(new y.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:h.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:B.eH.MenubarEditMenu,group:"2_ccp",title:$.N({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:B.eH.EditorContext,group:O,title:$.N("actions.clipboard.pasteLabel","Paste"),when:Z.u.writable,order:4},{menuId:B.eH.CommandPalette,group:"",title:$.N("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:B.eH.SimpleEditorContext,group:O,title:$.N("actions.clipboard.pasteLabel","Paste"),when:Z.u.writable,order:4}]})):void 0;function F(T,q){!T||(T.addImplementation(1e4,"code-editor",(Y,te)=>{const me=Y.get(v.$).getFocusedCodeEditor();if(me&&me.hasTextFocus()){const _e=me.getOption(32),de=me.getSelection();return de&&de.isEmpty()&&!_e||document.execCommand(q),!0}return!1}),T.addImplementation(0,"generic-dom",(Y,te)=>(document.execCommand(q),!0)))}F(A,"cut"),F(I,"copy"),P&&(P.addImplementation(1e4,"code-editor",(T,q)=>{const Y=T.get(v.$),te=T.get(x.p),me=Y.getFocusedCodeEditor();return!(!me||!me.hasTextFocus())&&(!(!document.execCommand("paste")&&h.$L)||function(T,q,Y,te){return new(Y||(Y=Promise))(function(_e,de){function Se(K){try{ce(te.next(K))}catch(ie){de(ie)}}function Ve(K){try{ce(te.throw(K))}catch(ie){de(ie)}}function ce(K){K.done?_e(K.value):function me(_e){return _e instanceof Y?_e:new Y(function(de){de(_e)})}(K.value).then(Se,Ve)}ce((te=te.apply(T,q||[])).next())})}(void 0,void 0,void 0,function*(){const de=yield te.readText();if(""!==de){const Se=ee.Nl.INSTANCE.get(de);let Ve=!1,ce=null,K=null;Se&&(Ve=me.getOption(32)&&!!Se.isFromEmptySelection,ce=void 0!==Se.multicursorText?Se.multicursorText:null,K=Se.mode),me.trigger("keyboard","paste",{text:de,pasteOnNewLine:Ve,multicursorText:ce,mode:K})}}))}),P.addImplementation(0,"generic-dom",(T,q)=>(document.execCommand("paste"),!0))),V&&(0,y.Qr)(class H extends y.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:$.N("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:Z.u.textInputFocus,primary:0,weight:100}})}run(q,Y){!Y.hasModel()||!Y.getOption(32)&&Y.getSelection().isEmpty()||(ee.RA.forceCopyWithSyntaxHighlighting=!0,Y.focus(),document.execCommand("copy"),ee.RA.forceCopyWithSyntaxHighlighting=!1)}})},13334:(Ae,xe,L)=>{"use strict";L.r(xe),L.d(xe,{ContextMenuController:()=>N});var _=L(58059),h=L(45909),ee=L(85113),y=L(52425),v=L(38972),Z=L(95172),$=L(29584),B=L(40402),x=L(61004),R=L(59776),O=L(34394),b=L(77090),f=function(I,P){return function(H,F){P(H,F,I)}};let N=class u_{constructor(P,H,F,T,q,Y){this._contextMenuService=H,this._contextViewService=F,this._contextKeyService=T,this._keybindingService=q,this._menuService=Y,this._toDispose=new y.SL,this._contextMenuIsBeingShownCount=0,this._editor=P,this._toDispose.add(this._editor.onContextMenu(te=>this._onContextMenu(te))),this._toDispose.add(this._editor.onMouseWheel(te=>{if(this._contextMenuIsBeingShownCount>0){const me=this._contextViewService.getContextViewElement(),_e=te.srcElement;_e.shadowRoot&&_.Ay(me)===_e.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(te=>{58===te.keyCode&&(te.preventDefault(),te.stopPropagation(),this.showContextMenu())}))}static get(P){return P.getContribution(u_.ID)}_onContextMenu(P){if(!this._editor.hasModel())return;if(!this._editor.getOption(20))return this._editor.focus(),void(P.target.position&&!this._editor.getSelection().containsPosition(P.target.position)&&this._editor.setPosition(P.target.position));if(12===P.target.type||6===P.target.type&&P.target.detail.injectedText||(P.event.preventDefault(),P.event.stopPropagation(),6!==P.target.type&&7!==P.target.type&&1!==P.target.type))return;if(this._editor.focus(),P.target.position){let F=!1;for(const T of this._editor.getSelections())if(T.containsPosition(P.target.position)){F=!0;break}F||this._editor.setPosition(P.target.position)}let H=null;1!==P.target.type&&(H={x:P.event.posx-1,width:2,y:P.event.posy-1,height:2}),this.showContextMenu(H)}showContextMenu(P){if(!this._editor.getOption(20)||!this._editor.hasModel())return;if(!this._contextMenuService)return void this._editor.focus();const H=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?x.eH.SimpleEditorContext:x.eH.EditorContext);H.length>0&&this._doShowContextMenu(H,P)}_getMenuActions(P,H){const F=[],T=this._menuService.createMenu(H,this._contextKeyService),q=T.getActions({arg:P.uri});T.dispose();for(let Y of q){const[,te]=Y;let me=0;for(const _e of te)if(_e instanceof x.NZ){const de=this._getMenuActions(P,_e.item.submenu);de.length>0&&(F.push(new ee.wY(_e.id,_e.label,de)),me++)}else F.push(_e),me++;me&&F.push(new ee.Z0)}return F.length&&F.pop(),F}_doShowContextMenu(P,H=null){if(!this._editor.hasModel())return;const F=this._editor.getOption(53);if(this._editor.updateOptions({hover:{enabled:!1}}),!H){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const q=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),Y=_.i(this._editor.getDomNode());H={x:Y.left+q.left,y:Y.top+q.top+q.height}}const T=this._editor.getOption(115)&&!v.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:T?this._editor.getDomNode():void 0,getAnchor:()=>H,getActions:()=>P,getActionViewItem:q=>{const Y=this._keybindingFor(q);return Y?new h.g(q,q,{label:!0,keybinding:Y.getLabel(),isMenu:!0}):"function"==typeof q.getActionViewItem?q.getActionViewItem():new h.g(q,q,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:q=>this._keybindingFor(q),onHide:q=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:F})}})}_keybindingFor(P){return this._keybindingService.lookupKeybinding(P.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};N.ID="editor.contrib.contextmenu",N=function(I,P,H,F){var Y,T=arguments.length,q=T<3?P:null===F?F=Object.getOwnPropertyDescriptor(P,H):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=Reflect.decorate(I,P,H,F);else for(var te=I.length-1;te>=0;te--)(Y=I[te])&&(q=(T<3?Y(q):T>3?Y(P,H,q):Y(P,H))||q);return T>3&&q&&Object.defineProperty(P,H,q),q}([f(1,O.i),f(2,O.u),f(3,R.i6),f(4,b.d),f(5,x.co)],N),(0,Z._K)(N.ID,N),(0,Z.Qr)(class A extends Z.R6{constructor(){super({id:"editor.action.showContextMenu",label:B.N("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:$.u.textInputFocus,primary:1092,weight:100}})}run(P,H){var F;null===(F=N.get(H))||void 0===F||F.showContextMenu()}})},36260:(Ae,xe,L)=>{"use strict";L.r(xe),L.d(xe,{CommonFindController:()=>vi,FindController:()=>Dn,MatchFindAction:()=>Ti,NextMatchFindAction:()=>Mo,NextSelectionMatchFindAction:()=>ji,PreviousMatchFindAction:()=>Pn,PreviousSelectionMatchFindAction:()=>Ri,SelectionMatchFindAction:()=>mo,StartFindAction:()=>rn,StartFindReplaceAction:()=>an,StartFindWithArgsAction:()=>en,StartFindWithSelectionAction:()=>Sn,getSelectionSearchString:()=>An});var _=L(63072),h=L(52425),ee=L(13088),y=L(95172),v=L(29584),Z=L(18337),$=L(85753),B=L(94220),x=L(68451),R=L(43210),O=L(31154),b=L(32213),V=L(49401),f=L(28708),N=L(23024);class A{constructor(Q){this._editor=Q,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const Q=this._findScopeDecorationIds.map(se=>this._editor.getModel().getDecorationRange(se)).filter(se=>!!se);if(Q.length)return Q}return null}getStartPosition(){return this._startPosition}setStartPosition(Q){this._startPosition=Q,this.setCurrentFindMatch(null)}_getDecorationIndex(Q){const se=this._decorations.indexOf(Q);return se>=0?se+1:1}getCurrentMatchesPosition(Q){let se=this._editor.getModel().getDecorationsInRange(Q);for(const he of se){const be=he.options;if(be===A._FIND_MATCH_DECORATION||be===A._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(he.id)}return 0}setCurrentFindMatch(Q){let se=null,he=0;if(Q)for(let be=0,We=this._decorations.length;be<We;be++){let qe=this._editor.getModel().getDecorationRange(this._decorations[be]);if(Q.equalsRange(qe)){se=this._decorations[be],he=be+1;break}}return(null!==this._highlightedDecorationId||null!==se)&&this._editor.changeDecorations(be=>{if(null!==this._highlightedDecorationId&&(be.changeDecorationOptions(this._highlightedDecorationId,A._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==se&&(this._highlightedDecorationId=se,be.changeDecorationOptions(this._highlightedDecorationId,A._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(be.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==se){let We=this._editor.getModel().getDecorationRange(se);if(We.startLineNumber!==We.endLineNumber&&1===We.endColumn){let qe=We.endLineNumber-1,lt=this._editor.getModel().getLineMaxColumn(qe);We=new x.e(We.startLineNumber,We.startColumn,qe,lt)}this._rangeHighlightDecorationId=be.addDecoration(We,A._RANGE_HIGHLIGHT_DECORATION)}}),he}set(Q,se){this._editor.changeDecorations(he=>{let be=A._FIND_MATCH_DECORATION,We=[];if(Q.length>1e3){be=A._FIND_MATCH_NO_OVERVIEW_DECORATION;const lt=this._editor.getModel().getLineCount(),ft=this._editor.getLayoutInfo().height/lt,pt=Math.max(2,Math.ceil(3/ft));let xt=Q[0].range.startLineNumber,Zt=Q[0].range.endLineNumber;for(let jt=1,Fi=Q.length;jt<Fi;jt++){const tn=Q[jt].range;Zt+pt>=tn.startLineNumber?tn.endLineNumber>Zt&&(Zt=tn.endLineNumber):(We.push({range:new x.e(xt,1,Zt,1),options:A._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),xt=tn.startLineNumber,Zt=tn.endLineNumber)}We.push({range:new x.e(xt,1,Zt,1),options:A._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let qe=new Array(Q.length);for(let lt=0,It=Q.length;lt<It;lt++)qe[lt]={range:Q[lt].range,options:be};this._decorations=he.deltaDecorations(this._decorations,qe),this._overviewRulerApproximateDecorations=he.deltaDecorations(this._overviewRulerApproximateDecorations,We),this._rangeHighlightDecorationId&&(he.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(lt=>he.removeDecoration(lt)),this._findScopeDecorationIds=[]),(null==se?void 0:se.length)&&(this._findScopeDecorationIds=se.map(lt=>he.addDecoration(lt,A._FIND_SCOPE_DECORATION)))})}matchBeforePosition(Q){if(0===this._decorations.length)return null;for(let se=this._decorations.length-1;se>=0;se--){let he=this._decorations[se],be=this._editor.getModel().getDecorationRange(he);if(be&&!(be.endLineNumber>Q.lineNumber)){if(be.endLineNumber<Q.lineNumber)return be;if(!(be.endColumn>Q.column))return be}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(Q){if(0===this._decorations.length)return null;for(let se=0,he=this._decorations.length;se<he;se++){let be=this._decorations[se],We=this._editor.getModel().getDecorationRange(be);if(We&&!(We.startLineNumber<Q.lineNumber)){if(We.startLineNumber>Q.lineNumber)return We;if(!(We.startColumn<Q.column))return We}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let Q=[];return Q=Q.concat(this._decorations),Q=Q.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&Q.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&Q.push(this._rangeHighlightDecorationId),Q}}A._CURRENT_FIND_MATCH_DECORATION=V.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,N.EN)(f.Fm_),position:b.sh.Center},minimap:{color:(0,N.EN)(f.SUY),position:b.F5.Inline}}),A._FIND_MATCH_DECORATION=V.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,N.EN)(f.Fm_),position:b.sh.Center},minimap:{color:(0,N.EN)(f.SUY),position:b.F5.Inline}}),A._FIND_MATCH_NO_OVERVIEW_DECORATION=V.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),A._FIND_MATCH_ONLY_OVERVIEW_DECORATION=V.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,N.EN)(f.Fm_),position:b.sh.Center}}),A._RANGE_HIGHLIGHT_DECORATION=V.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),A._FIND_SCOPE_DECORATION=V.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class I{constructor(Q,se,he){this._editorSelection=Q,this._ranges=se,this._replaceStrings=he,this._trackedEditorSelectionId=null}getEditOperations(Q,se){if(this._ranges.length>0){let he=[];for(let qe=0;qe<this._ranges.length;qe++)he.push({range:this._ranges[qe],text:this._replaceStrings[qe]});he.sort((qe,lt)=>x.e.compareRangesUsingStarts(qe.range,lt.range));let be=[],We=he[0];for(let qe=1;qe<he.length;qe++)We.range.endLineNumber===he[qe].range.startLineNumber&&We.range.endColumn===he[qe].range.startColumn?(We.range=We.range.plusRange(he[qe].range),We.text=We.text+he[qe].text):(be.push(We),We=he[qe]);be.push(We);for(const qe of be)se.addEditOperation(qe.range,qe.text)}this._trackedEditorSelectionId=se.trackSelection(this._editorSelection)}computeCursorState(Q,se){return se.getTrackedSelection(this._trackedEditorSelectionId)}}function P(je,Q){if(je&&""!==je[0]){const se=H(je,Q,"-"),he=H(je,Q,"_");return se&&!he?F(je,Q,"-"):!se&&he?F(je,Q,"_"):je[0].toUpperCase()===je[0]?Q.toUpperCase():je[0].toLowerCase()===je[0]?Q.toLowerCase():ee.Kw(je[0][0])&&Q.length>0?Q[0].toUpperCase()+Q.substr(1):je[0][0].toUpperCase()!==je[0][0]&&Q.length>0?Q[0].toLowerCase()+Q.substr(1):Q}return Q}function H(je,Q,se){return-1!==je[0].indexOf(se)&&-1!==Q.indexOf(se)&&je[0].split(se).length===Q.split(se).length}function F(je,Q,se){const he=Q.split(se),be=je[0].split(se);let We="";return he.forEach((qe,lt)=>{We+=P([be[lt]],qe)+se}),We.slice(0,-1)}class T{constructor(Q){this.staticValue=Q,this.kind=0}}class q{constructor(Q){this.pieces=Q,this.kind=1}}class Y{constructor(Q){this._state=Q&&0!==Q.length?1===Q.length&&null!==Q[0].staticValue?new T(Q[0].staticValue):new q(Q):new T("")}static fromStaticValue(Q){return new Y([te.staticValue(Q)])}get hasReplacementPatterns(){return 1===this._state.kind}buildReplaceString(Q,se){if(0===this._state.kind)return se?P(Q,this._state.staticValue):this._state.staticValue;let he="";for(let be=0,We=this._state.pieces.length;be<We;be++){let qe=this._state.pieces[be];if(null!==qe.staticValue){he+=qe.staticValue;continue}let lt=Y._substitute(qe.matchIndex,Q);if(null!==qe.caseOps&&qe.caseOps.length>0){let It=[],ft=qe.caseOps.length,pt=0;for(let xt=0,Zt=lt.length;xt<Zt;xt++){if(pt>=ft){It.push(lt.slice(xt));break}switch(qe.caseOps[pt]){case"U":It.push(lt[xt].toUpperCase());break;case"u":It.push(lt[xt].toUpperCase()),pt++;break;case"L":It.push(lt[xt].toLowerCase());break;case"l":It.push(lt[xt].toLowerCase()),pt++;break;default:It.push(lt[xt])}}lt=It.join("")}he+=lt}return he}static _substitute(Q,se){if(null===se)return"";if(0===Q)return se[0];let he="";for(;Q>0;){if(Q<se.length)return(se[Q]||"")+he;he=String(Q%10)+he,Q=Math.floor(Q/10)}return"$"+he}}class te{constructor(Q,se,he){this.staticValue=Q,this.matchIndex=se,this.caseOps=he&&0!==he.length?he.slice(0):null}static staticValue(Q){return new te(Q,-1,null)}static caseOps(Q,se){return new te(null,Q,se)}}class me{constructor(Q){this._source=Q,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(Q){this._emitStatic(this._source.substring(this._lastCharIndex,Q)),this._lastCharIndex=Q}emitStatic(Q,se){this._emitStatic(Q),this._lastCharIndex=se}_emitStatic(Q){0!==Q.length&&(this._currentStaticPiece+=Q)}emitMatchIndex(Q,se,he){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=te.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=te.caseOps(Q,he),this._lastCharIndex=se}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=te.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new Y(this._result)}}var de=L(59776);const Se=new de.uy("findWidgetVisible",!1),ce=(Se.toNegated(),new de.uy("findInputFocussed",!1)),K=new de.uy("replaceInputFocussed",!1),ie={primary:545,mac:{primary:2593}},oe={primary:565,mac:{primary:2613}},W={primary:560,mac:{primary:2608}},w={primary:554,mac:{primary:2602}},U={primary:558,mac:{primary:2606}},z=19999;class ye{constructor(Q,se){this._toDispose=new h.SL,this._editor=Q,this._state=se,this._isDisposed=!1,this._startSearchingTimer=new _._F,this._decorations=new A(Q),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new _.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(he=>{(3===he.reason||5===he.reason||6===he.reason)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(he=>{this._ignoreModelContentChanged||(he.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(he=>this._onStateChanged(he))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,h.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(Q){this._isDisposed||!this._editor.hasModel()||(Q.searchString||Q.isReplaceRevealed||Q.isRegex||Q.wholeWord||Q.matchCase||Q.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{Q.searchScope?this.research(Q.moveCursor,this._state.searchScope):this.research(Q.moveCursor)},240)):Q.searchScope?this.research(Q.moveCursor,this._state.searchScope):this.research(Q.moveCursor))}static _getSearchRange(Q,se){return se||Q.getFullModelRange()}research(Q,se){let he=null;void 0!==se?null!==se&&(he=Array.isArray(se)?se:[se]):he=this._decorations.getFindScopes(),null!==he&&(he=he.map(lt=>{if(lt.startLineNumber!==lt.endLineNumber){let It=lt.endLineNumber;return 1===lt.endColumn&&(It-=1),new x.e(lt.startLineNumber,1,It,this._editor.getModel().getLineMaxColumn(It))}return lt}));let be=this._findMatches(he,!1,z);this._decorations.set(be,he);const We=this._editor.getSelection();let qe=this._decorations.getCurrentMatchesPosition(We);if(0===qe&&be.length>0){const lt=(0,Z.lG)(be.map(It=>It.range),It=>x.e.compareRangesUsingStarts(It,We)>=0);qe=lt>0?lt-1+1:qe}this._state.changeMatchInfo(qe,this._decorations.getCount(),void 0),Q&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let Q=this._decorations.getFindScope();return Q&&this._editor.revealRangeInCenterIfOutsideViewport(Q,0),!0}return!1}_setCurrentFindMatch(Q){let se=this._decorations.setCurrentFindMatch(Q);this._state.changeMatchInfo(se,this._decorations.getCount(),Q),this._editor.setSelection(Q),this._editor.revealRangeInCenterIfOutsideViewport(Q,0)}_prevSearchPosition(Q){let se=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:he,column:be}=Q,We=this._editor.getModel();return se||1===be?(1===he?he=We.getLineCount():he--,be=We.getLineMaxColumn(he)):be--,new B.L(he,be)}_moveToPrevMatch(Q,se=!1){if(!this._state.canNavigateBack()){const pt=this._decorations.matchAfterPosition(Q);return void(pt&&this._setCurrentFindMatch(pt))}if(this._decorations.getCount()<z){let pt=this._decorations.matchBeforePosition(Q);return pt&&pt.isEmpty()&&pt.getStartPosition().equals(Q)&&(Q=this._prevSearchPosition(Q),pt=this._decorations.matchBeforePosition(Q)),void(pt&&this._setCurrentFindMatch(pt))}if(this._cannotFind())return;let he=this._decorations.getFindScope(),be=ye._getSearchRange(this._editor.getModel(),he);be.getEndPosition().isBefore(Q)&&(Q=be.getEndPosition()),Q.isBefore(be.getStartPosition())&&(Q=be.getEndPosition());let{lineNumber:We,column:qe}=Q,lt=this._editor.getModel(),It=new B.L(We,qe),ft=lt.findPreviousMatch(this._state.searchString,It,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1);if(ft&&ft.range.isEmpty()&&ft.range.getStartPosition().equals(It)&&(It=this._prevSearchPosition(It),ft=lt.findPreviousMatch(this._state.searchString,It,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1)),ft){if(!se&&!be.containsRange(ft.range))return this._moveToPrevMatch(ft.range.getStartPosition(),!0);this._setCurrentFindMatch(ft.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(Q){let se=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:he,column:be}=Q,We=this._editor.getModel();return se||be===We.getLineMaxColumn(he)?(he===We.getLineCount()?he=1:he++,be=1):be++,new B.L(he,be)}_moveToNextMatch(Q){if(!this._state.canNavigateForward()){const he=this._decorations.matchBeforePosition(Q);return void(he&&this._setCurrentFindMatch(he))}if(this._decorations.getCount()<z){let he=this._decorations.matchAfterPosition(Q);return he&&he.isEmpty()&&he.getStartPosition().equals(Q)&&(Q=this._nextSearchPosition(Q),he=this._decorations.matchAfterPosition(Q)),void(he&&this._setCurrentFindMatch(he))}let se=this._getNextMatch(Q,!1,!0);se&&this._setCurrentFindMatch(se.range)}_getNextMatch(Q,se,he,be=!1){if(this._cannotFind())return null;let We=this._decorations.getFindScope(),qe=ye._getSearchRange(this._editor.getModel(),We);qe.getEndPosition().isBefore(Q)&&(Q=qe.getStartPosition()),Q.isBefore(qe.getStartPosition())&&(Q=qe.getStartPosition());let{lineNumber:lt,column:It}=Q,ft=this._editor.getModel(),pt=new B.L(lt,It),xt=ft.findNextMatch(this._state.searchString,pt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,se);return he&&xt&&xt.range.isEmpty()&&xt.range.getStartPosition().equals(pt)&&(pt=this._nextSearchPosition(pt),xt=ft.findNextMatch(this._state.searchString,pt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,se)),xt?be||qe.containsRange(xt.range)?xt:this._getNextMatch(xt.range.getEndPosition(),se,he,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?function _e(je){if(!je||0===je.length)return new Y(null);let Q=[],se=new me(je);for(let he=0,be=je.length;he<be;he++){let We=je.charCodeAt(he);if(92!==We){if(36===We){if(he++,he>=be)break;let qe=je.charCodeAt(he);if(36===qe){se.emitUnchanged(he-1),se.emitStatic("$",he+1);continue}if(48===qe||38===qe){se.emitUnchanged(he-1),se.emitMatchIndex(0,he+1,Q),Q.length=0;continue}if(49<=qe&&qe<=57){let lt=qe-48;if(he+1<be){let It=je.charCodeAt(he+1);if(48<=It&&It<=57){he++,lt=10*lt+(It-48),se.emitUnchanged(he-2),se.emitMatchIndex(lt,he+1,Q),Q.length=0;continue}}se.emitUnchanged(he-1),se.emitMatchIndex(lt,he+1,Q),Q.length=0;continue}}}else{if(he++,he>=be)break;let qe=je.charCodeAt(he);switch(qe){case 92:se.emitUnchanged(he-1),se.emitStatic("\\",he+1);break;case 110:se.emitUnchanged(he-1),se.emitStatic("\n",he+1);break;case 116:se.emitUnchanged(he-1),se.emitStatic("\t",he+1);break;case 117:case 85:case 108:case 76:se.emitUnchanged(he-1),se.emitStatic("",he+1),Q.push(String.fromCharCode(qe))}}}return se.finalize()}(this._state.replaceString):Y.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let Q=this._getReplacePattern(),se=this._editor.getSelection(),he=this._getNextMatch(se.getStartPosition(),!0,!1);if(he)if(se.equalsRange(he.range)){let be=Q.buildReplaceString(he.matches,this._state.preserveCase),We=new $.T4(se,be);this._executeEditorCommand("replace",We),this._decorations.setStartPosition(new B.L(se.startLineNumber,se.startColumn+be.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(he.range)}_findMatches(Q,se,he){const be=(Q||[null]).map(We=>ye._getSearchRange(this._editor.getModel(),We));return this._editor.getModel().findMatches(this._state.searchString,be,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,se,he)}replaceAll(){if(!this._hasMatches())return;const Q=this._decorations.getFindScopes();null===Q&&this._state.matchesCount>=z?this._largeReplaceAll():this._regularReplaceAll(Q),this.research(!1)}_largeReplaceAll(){const se=new O.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null).parseSearchRequest();if(!se)return;let he=se.regex;if(!he.multiline){let xt="mu";he.ignoreCase&&(xt+="i"),he.global&&(xt+="g"),he=new RegExp(he.source,xt)}const be=this._editor.getModel(),We=be.getValue(1),qe=be.getFullModelRange(),lt=this._getReplacePattern();let It;const ft=this._state.preserveCase;It=We.replace(he,lt.hasReplacementPatterns||ft?function(){return lt.buildReplaceString(arguments,ft)}:lt.buildReplaceString(null,ft));let pt=new $.hP(qe,It,this._editor.getSelection());this._executeEditorCommand("replaceAll",pt)}_regularReplaceAll(Q){const se=this._getReplacePattern();let he=this._findMatches(Q,se.hasReplacementPatterns||this._state.preserveCase,1073741824),be=[];for(let qe=0,lt=he.length;qe<lt;qe++)be[qe]=se.buildReplaceString(he[qe].matches,this._state.preserveCase);let We=new I(this._editor.getSelection(),he.map(qe=>qe.range),be);this._executeEditorCommand("replaceAll",We)}selectAllMatches(){if(!this._hasMatches())return;let Q=this._decorations.getFindScopes(),he=this._findMatches(Q,!1,1073741824).map(We=>new R.Y(We.range.startLineNumber,We.range.startColumn,We.range.endLineNumber,We.range.endColumn)),be=this._editor.getSelection();for(let We=0,qe=he.length;We<qe;We++)if(he[We].equalsRange(be)){he=[be].concat(he.slice(0,We)).concat(he.slice(We+1));break}this._editor.setSelections(he)}_executeEditorCommand(Q,se){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(Q,se),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var Ee=L(58059),Me=L(83568),Ke=L(2450),tt=L(68927),ht=L(52787);L(59792);const St={inputActiveOptionBorder:tt.Il.fromHex("#007ACC00"),inputActiveOptionForeground:tt.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:tt.Il.fromHex("#0E639C50")};class yt extends Me.${constructor(Q){super(),this._onChange=this._register(new ht.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new ht.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},St),Q),this._checked=this._opts.isChecked;const se=["monaco-custom-checkbox"];this._opts.icon&&se.push(...Ke.dT.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&se.push(...this._opts.actionClassName.split(" ")),this._checked&&se.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...se),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,he=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),he.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,he=>{if(10===he.keyCode||3===he.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),void he.preventDefault();this._onKeyDown.fire(he)})}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(Q){this._checked=Q,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}style(Q){Q.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=Q.inputActiveOptionBorder),Q.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=Q.inputActiveOptionForeground),Q.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=Q.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}var _t=L(40402);const Ci=_t.N("caseDescription","Match Case"),Ni=_t.N("wordsDescription","Match Whole Word"),Ji=_t.N("regexDescription","Use Regular Expression");class yi extends yt{constructor(Q){super({icon:Ke.lA.caseSensitive,title:Ci+Q.appendTitle,isChecked:Q.isChecked,inputActiveOptionBorder:Q.inputActiveOptionBorder,inputActiveOptionForeground:Q.inputActiveOptionForeground,inputActiveOptionBackground:Q.inputActiveOptionBackground})}}class oi extends yt{constructor(Q){super({icon:Ke.lA.wholeWord,title:Ni+Q.appendTitle,isChecked:Q.isChecked,inputActiveOptionBorder:Q.inputActiveOptionBorder,inputActiveOptionForeground:Q.inputActiveOptionForeground,inputActiveOptionBackground:Q.inputActiveOptionBackground})}}class Ot extends yt{constructor(Q){super({icon:Ke.lA.regex,title:Ji+Q.appendTitle,isChecked:Q.isChecked,inputActiveOptionBorder:Q.inputActiveOptionBorder,inputActiveOptionForeground:Q.inputActiveOptionForeground,inputActiveOptionBackground:Q.inputActiveOptionBackground})}}let $e=(()=>{class je extends Me.${constructor(se,he,be,We){super(),this._hideSoon=this._register(new _.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=se,this._state=he,this._keybindingService=be,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const qe=We.getColorTheme().getColor(f.PRb),lt=We.getColorTheme().getColor(f.Pvw),It=We.getColorTheme().getColor(f.XEs);this.caseSensitive=this._register(new yi({appendTitle:this._keybindingLabelFor("toggleFindCaseSensitive"),isChecked:this._state.matchCase,inputActiveOptionBorder:qe,inputActiveOptionForeground:lt,inputActiveOptionBackground:It})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new oi({appendTitle:this._keybindingLabelFor("toggleFindWholeWord"),isChecked:this._state.wholeWord,inputActiveOptionBorder:qe,inputActiveOptionForeground:lt,inputActiveOptionBackground:It})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new Ot({appendTitle:this._keybindingLabelFor("toggleFindRegex"),isChecked:this._state.isRegex,inputActiveOptionBorder:qe,inputActiveOptionForeground:lt,inputActiveOptionBackground:It})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(ft=>{let pt=!1;ft.isRegex&&(this.regex.checked=this._state.isRegex,pt=!0),ft.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,pt=!0),ft.matchCase&&(this.caseSensitive.checked=this._state.matchCase,pt=!0),!this._state.isRevealed&&pt&&this._revealTemporarily()})),this._register(Ee.j_(this._domNode,ft=>this._onMouseOut())),this._register(Ee.nm(this._domNode,"mouseover",ft=>this._onMouseOver())),this._applyTheme(We.getColorTheme()),this._register(We.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(se){let he=this._keybindingService.lookupKeybinding(se);return he?` (${he.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return je.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(se){let he={inputActiveOptionBorder:se.getColor(f.PRb),inputActiveOptionForeground:se.getColor(f.Pvw),inputActiveOptionBackground:se.getColor(f.XEs)};this.caseSensitive.style(he),this.wholeWords.style(he),this.regex.style(he)}}return je.ID="editor.contrib.findOptionsWidget",je})();function mt(je,Q){return 1===je||2!==je&&Q}(0,N.Ic)((je,Q)=>{const se=je.getColor(f.D0T);se&&Q.addRule(`.monaco-editor .findOptionsWidget { background-color: ${se}; }`);const he=je.getColor(f.Hfx);he&&Q.addRule(`.monaco-editor .findOptionsWidget { color: ${he}; }`);const be=je.getColor(f.rh);be&&Q.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${be}; }`);const We=je.getColor(f.lRK);We&&Q.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${We}; }`)});class ct extends h.JT{constructor(){super(),this._onFindReplaceStateChange=this._register(new ht.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return mt(this._isRegexOverride,this._isRegex)}get wholeWord(){return mt(this._wholeWordOverride,this._wholeWord)}get matchCase(){return mt(this._matchCaseOverride,this._matchCase)}get preserveCase(){return mt(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(Q,se,he){let be={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},We=!1;0===se&&(Q=0),Q>se&&(Q=se),this._matchesPosition!==Q&&(this._matchesPosition=Q,be.matchesPosition=!0,We=!0),this._matchesCount!==se&&(this._matchesCount=se,be.matchesCount=!0,We=!0),void 0!==he&&(x.e.equalsRange(this._currentMatch,he)||(this._currentMatch=he,be.currentMatch=!0,We=!0)),We&&this._onFindReplaceStateChange.fire(be)}change(Q,se,he=!0){var be;let We={moveCursor:se,updateHistory:he,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},qe=!1;const lt=this.isRegex,It=this.wholeWord,ft=this.matchCase,pt=this.preserveCase;void 0!==Q.searchString&&this._searchString!==Q.searchString&&(this._searchString=Q.searchString,We.searchString=!0,qe=!0),void 0!==Q.replaceString&&this._replaceString!==Q.replaceString&&(this._replaceString=Q.replaceString,We.replaceString=!0,qe=!0),void 0!==Q.isRevealed&&this._isRevealed!==Q.isRevealed&&(this._isRevealed=Q.isRevealed,We.isRevealed=!0,qe=!0),void 0!==Q.isReplaceRevealed&&this._isReplaceRevealed!==Q.isReplaceRevealed&&(this._isReplaceRevealed=Q.isReplaceRevealed,We.isReplaceRevealed=!0,qe=!0),void 0!==Q.isRegex&&(this._isRegex=Q.isRegex),void 0!==Q.wholeWord&&(this._wholeWord=Q.wholeWord),void 0!==Q.matchCase&&(this._matchCase=Q.matchCase),void 0!==Q.preserveCase&&(this._preserveCase=Q.preserveCase),void 0!==Q.searchScope&&((null===(be=Q.searchScope)||void 0===be?void 0:be.every(xt=>{var Zt;return null===(Zt=this._searchScope)||void 0===Zt?void 0:Zt.some(jt=>!x.e.equalsRange(jt,xt))}))||(this._searchScope=Q.searchScope,We.searchScope=!0,qe=!0)),void 0!==Q.loop&&this._loop!==Q.loop&&(this._loop=Q.loop,We.loop=!0,qe=!0),void 0!==Q.isSearching&&this._isSearching!==Q.isSearching&&(this._isSearching=Q.isSearching,We.isSearching=!0,qe=!0),void 0!==Q.filters&&(this._filters?this._filters.update(Q.filters):this._filters=Q.filters,We.filters=!0,qe=!0),this._isRegexOverride=void 0!==Q.isRegexOverride?Q.isRegexOverride:0,this._wholeWordOverride=void 0!==Q.wholeWordOverride?Q.wholeWordOverride:0,this._matchCaseOverride=void 0!==Q.matchCaseOverride?Q.matchCaseOverride:0,this._preserveCaseOverride=void 0!==Q.preserveCaseOverride?Q.preserveCaseOverride:0,lt!==this.isRegex&&(qe=!0,We.isRegex=!0),It!==this.wholeWord&&(qe=!0,We.wholeWord=!0),ft!==this.matchCase&&(qe=!0,We.matchCase=!0),pt!==this.preserveCase&&(qe=!0,We.preserveCase=!0),qe&&this._onFindReplaceStateChange.fire(We)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=z}}var Yt=L(23619),Dt=L(67687),Gt=L(53663),De=L(38972),Je=(L(17889),L(64786));L(62651);const Pt=_t.N("defaultLabel","input");class ii extends Me.${constructor(Q,se,he,be){super(),this._showOptionButtons=he,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new ht.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new ht.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new ht.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new ht.Q5),this._onKeyUp=this._register(new ht.Q5),this._onCaseSensitiveKeyDown=this._register(new ht.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new ht.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=se,this.placeholder=be.placeholder||"",this.validation=be.validation,this.label=be.label||Pt,this.inputActiveOptionBorder=be.inputActiveOptionBorder,this.inputActiveOptionForeground=be.inputActiveOptionForeground,this.inputActiveOptionBackground=be.inputActiveOptionBackground,this.inputBackground=be.inputBackground,this.inputForeground=be.inputForeground,this.inputBorder=be.inputBorder,this.inputValidationInfoBorder=be.inputValidationInfoBorder,this.inputValidationInfoBackground=be.inputValidationInfoBackground,this.inputValidationInfoForeground=be.inputValidationInfoForeground,this.inputValidationWarningBorder=be.inputValidationWarningBorder,this.inputValidationWarningBackground=be.inputValidationWarningBackground,this.inputValidationWarningForeground=be.inputValidationWarningForeground,this.inputValidationErrorBorder=be.inputValidationErrorBorder,this.inputValidationErrorBackground=be.inputValidationErrorBackground,this.inputValidationErrorForeground=be.inputValidationErrorForeground;const We=be.appendCaseSensitiveLabel||"",qe=be.appendWholeWordsLabel||"",lt=be.appendRegexLabel||"",It=be.history||[],ft=!!be.flexibleHeight,pt=!!be.flexibleWidth,xt=be.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Je.p(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:It,showHistoryHint:be.showHistoryHint,flexibleHeight:ft,flexibleWidth:pt,flexibleMaxHeight:xt})),this.regex=this._register(new Ot({appendTitle:lt,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(jt=>{this._onDidOptionChange.fire(jt),!jt&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(jt=>{this._onRegexKeyDown.fire(jt)})),this.wholeWords=this._register(new oi({appendTitle:qe,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(jt=>{this._onDidOptionChange.fire(jt),!jt&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new yi({appendTitle:We,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(jt=>{this._onDidOptionChange.fire(jt),!jt&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(jt=>{this._onCaseSensitiveKeyDown.fire(jt)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let Zt=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,jt=>{if(jt.equals(15)||jt.equals(17)||jt.equals(9)){let Fi=Zt.indexOf(document.activeElement);if(Fi>=0){let tn=-1;jt.equals(17)?tn=(Fi+1)%Zt.length:jt.equals(15)&&(tn=0===Fi?Zt.length-1:Fi-1),jt.equals(9)?(Zt[Fi].blur(),this.inputBox.focus()):tn>=0&&Zt[tn].focus(),Ee.zB.stop(jt,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this.domNode.appendChild(this.controls),Q&&Q.appendChild(this.domNode),this._register(Ee.nm(this.inputBox.inputElement,"compositionstart",jt=>{this.imeSessionInProgress=!0})),this._register(Ee.nm(this.inputBox.inputElement,"compositionend",jt=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,jt=>this._onKeyDown.fire(jt)),this.onkeyup(this.inputBox.inputElement,jt=>this._onKeyUp.fire(jt)),this.oninput(this.inputBox.inputElement,jt=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,jt=>this._onMouseDown.fire(jt))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(Q){this.fixFocusOnOptionClickEnabled=Q}setEnabled(Q){Q?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(Q){this.inputBox.value!==Q&&(this.inputBox.value=Q)}style(Q){this.inputActiveOptionBorder=Q.inputActiveOptionBorder,this.inputActiveOptionForeground=Q.inputActiveOptionForeground,this.inputActiveOptionBackground=Q.inputActiveOptionBackground,this.inputBackground=Q.inputBackground,this.inputForeground=Q.inputForeground,this.inputBorder=Q.inputBorder,this.inputValidationInfoBackground=Q.inputValidationInfoBackground,this.inputValidationInfoForeground=Q.inputValidationInfoForeground,this.inputValidationInfoBorder=Q.inputValidationInfoBorder,this.inputValidationWarningBackground=Q.inputValidationWarningBackground,this.inputValidationWarningForeground=Q.inputValidationWarningForeground,this.inputValidationWarningBorder=Q.inputValidationWarningBorder,this.inputValidationErrorBackground=Q.inputValidationErrorBackground,this.inputValidationErrorForeground=Q.inputValidationErrorForeground,this.inputValidationErrorBorder=Q.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const Q={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(Q),this.wholeWords.style(Q),this.caseSensitive.style(Q),this.inputBox.style({inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder})}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(Q){this.caseSensitive.checked=Q}getWholeWords(){return this.wholeWords.checked}setWholeWords(Q){this.wholeWords.checked=Q}getRegex(){return this.regex.checked}setRegex(Q){this.regex.checked=Q,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}const mi=_t.N("defaultLabel","input"),Li=_t.N("label.preserveCaseCheckbox","Preserve Case");class Ii extends yt{constructor(Q){super({icon:Ke.lA.preserveCase,title:Li+Q.appendTitle,isChecked:Q.isChecked,inputActiveOptionBorder:Q.inputActiveOptionBorder,inputActiveOptionForeground:Q.inputActiveOptionForeground,inputActiveOptionBackground:Q.inputActiveOptionBackground})}}class Ue extends Me.${constructor(Q,se,he,be){super(),this._showOptionButtons=he,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new ht.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new ht.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new ht.Q5),this._onInput=this._register(new ht.Q5),this._onKeyUp=this._register(new ht.Q5),this._onPreserveCaseKeyDown=this._register(new ht.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=se,this.placeholder=be.placeholder||"",this.validation=be.validation,this.label=be.label||mi,this.inputActiveOptionBorder=be.inputActiveOptionBorder,this.inputActiveOptionForeground=be.inputActiveOptionForeground,this.inputActiveOptionBackground=be.inputActiveOptionBackground,this.inputBackground=be.inputBackground,this.inputForeground=be.inputForeground,this.inputBorder=be.inputBorder,this.inputValidationInfoBorder=be.inputValidationInfoBorder,this.inputValidationInfoBackground=be.inputValidationInfoBackground,this.inputValidationInfoForeground=be.inputValidationInfoForeground,this.inputValidationWarningBorder=be.inputValidationWarningBorder,this.inputValidationWarningBackground=be.inputValidationWarningBackground,this.inputValidationWarningForeground=be.inputValidationWarningForeground,this.inputValidationErrorBorder=be.inputValidationErrorBorder,this.inputValidationErrorBackground=be.inputValidationErrorBackground,this.inputValidationErrorForeground=be.inputValidationErrorForeground;const We=be.appendPreserveCaseLabel||"",qe=be.history||[],lt=!!be.flexibleHeight,It=!!be.flexibleWidth,ft=be.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Je.p(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:qe,showHistoryHint:be.showHistoryHint,flexibleHeight:lt,flexibleWidth:It,flexibleMaxHeight:ft})),this.preserveCase=this._register(new Ii({appendTitle:We,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(Zt=>{this._onDidOptionChange.fire(Zt),!Zt&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(Zt=>{this._onPreserveCaseKeyDown.fire(Zt)})),this.cachedOptionsWidth=this._showOptionButtons?this.preserveCase.width():0;let pt=[this.preserveCase.domNode];this.onkeydown(this.domNode,Zt=>{if(Zt.equals(15)||Zt.equals(17)||Zt.equals(9)){let jt=pt.indexOf(document.activeElement);if(jt>=0){let Fi=-1;Zt.equals(17)?Fi=(jt+1)%pt.length:Zt.equals(15)&&(Fi=0===jt?pt.length-1:jt-1),Zt.equals(9)?(pt[jt].blur(),this.inputBox.focus()):Fi>=0&&pt[Fi].focus(),Ee.zB.stop(Zt,!0)}}});let xt=document.createElement("div");xt.className="controls",xt.style.display=this._showOptionButtons?"block":"none",xt.appendChild(this.preserveCase.domNode),this.domNode.appendChild(xt),Q&&Q.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,Zt=>this._onKeyDown.fire(Zt)),this.onkeyup(this.inputBox.inputElement,Zt=>this._onKeyUp.fire(Zt)),this.oninput(this.inputBox.inputElement,Zt=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,Zt=>this._onMouseDown.fire(Zt))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(Q){Q?this.enable():this.disable()}style(Q){this.inputActiveOptionBorder=Q.inputActiveOptionBorder,this.inputActiveOptionForeground=Q.inputActiveOptionForeground,this.inputActiveOptionBackground=Q.inputActiveOptionBackground,this.inputBackground=Q.inputBackground,this.inputForeground=Q.inputForeground,this.inputBorder=Q.inputBorder,this.inputValidationInfoBackground=Q.inputValidationInfoBackground,this.inputValidationInfoForeground=Q.inputValidationInfoForeground,this.inputValidationInfoBorder=Q.inputValidationInfoBorder,this.inputValidationWarningBackground=Q.inputValidationWarningBackground,this.inputValidationWarningForeground=Q.inputValidationWarningForeground,this.inputValidationWarningBorder=Q.inputValidationWarningBorder,this.inputValidationErrorBackground=Q.inputValidationErrorBackground,this.inputValidationErrorForeground=Q.inputValidationErrorForeground,this.inputValidationErrorBorder=Q.inputValidationErrorBorder,this.applyStyles()}applyStyles(){this.domNode&&(this.preserveCase.style({inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground}),this.inputBox.style({inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder}))}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(Q){this.preserveCase.checked=Q}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(Q){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=Q,this.domNode.style.width=Q+"px"}dispose(){super.dispose()}}var pi=L(7550),fi=function(je,Q,se,he){var qe,be=arguments.length,We=be<3?Q:null===he?he=Object.getOwnPropertyDescriptor(Q,se):he;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)We=Reflect.decorate(je,Q,se,he);else for(var lt=je.length-1;lt>=0;lt--)(qe=je[lt])&&(We=(be<3?qe(We):be>3?qe(Q,se,We):qe(Q,se))||We);return be>3&&We&&Object.defineProperty(Q,se,We),We},Be=function(je,Q){return function(se,he){Q(se,he,je)}};const Mi="suggestWidgetVisible",ri="historyNavigationWidget",Xe="historyNavigationForwardsEnabled",Ze="historyNavigationBackwardsEnabled";function bi(je,Q){return je.getContext(document.activeElement).getValue(Q)}function un(je,Q){const se=function rt(je,Q){return je.createScoped(Q.target)}(je,Q);return function Xt(je,Q,se){new de.uy(se,Q).bindTo(je)}(se,Q,ri),{scopedContextKeyService:se,historyNavigationForwardsEnablement:new de.uy(Xe,!0).bindTo(se),historyNavigationBackwardsEnablement:new de.uy(Ze,!0).bindTo(se)}}let Re=class extends ii{constructor(Q,se,he,be,We=!1){super(Q,se,We,he),this._register(un(be,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};Re=fi([Be(3,de.i6)],Re);let Oe=class extends Ue{constructor(Q,se,he,be,We=!1){super(Q,se,We,he),this._register(un(be,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};function st(je){var Q,se;return"Up"===(null===(Q=je.lookupKeybinding("history.showPrevious"))||void 0===Q?void 0:Q.getElectronAccelerator())&&"Down"===(null===(se=je.lookupKeybinding("history.showNext"))||void 0===se?void 0:se.getElectronAccelerator())}Oe=fi([Be(3,de.i6)],Oe),pi.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:de.Ao.and(de.Ao.has(ri),de.Ao.equals(Ze,!0),de.Ao.equals(Mi,!1)),primary:16,secondary:[528],handler:je=>{const Q=bi(je.get(de.i6),ri);Q&&Q.historyNavigator.showPreviousValue()}}),pi.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:de.Ao.and(de.Ao.has(ri),de.Ao.equals(Xe,!0),de.Ao.equals(Mi,!1)),primary:18,secondary:[530],handler:je=>{const Q=bi(je.get(de.i6),ri);Q&&Q.historyNavigator.showNextValue()}});var Lt=L(95836);const gi=(0,Lt.q5)("find-selection",Ke.lA.selection,_t.N("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),_i=(0,Lt.q5)("find-collapsed",Ke.lA.chevronRight,_t.N("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),ei=(0,Lt.q5)("find-expanded",Ke.lA.chevronDown,_t.N("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),zt=(0,Lt.q5)("find-replace",Ke.lA.replace,_t.N("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Si=(0,Lt.q5)("find-replace-all",Ke.lA.replaceAll,_t.N("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),Jt=(0,Lt.q5)("find-previous-match",Ke.lA.arrowUp,_t.N("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),fn=(0,Lt.q5)("find-next-match",Ke.lA.arrowDown,_t.N("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),Ds=_t.N("label.find","Find"),js=_t.N("placeholder.find","Find"),ks=_t.N("label.previousMatchButton","Previous Match"),lo=_t.N("label.nextMatchButton","Next Match"),Ts=_t.N("label.toggleSelectionFind","Find in Selection"),On=_t.N("label.closeButton","Close"),Tt=_t.N("label.replace","Replace"),ms=_t.N("placeholder.replace","Replace"),Un=_t.N("label.replaceButton","Replace"),jn=_t.N("label.replaceAllButton","Replace All"),co=_t.N("label.toggleReplaceButton","Toggle Replace"),ho=_t.N("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",z),uo=_t.N("label.matchesLocation","{0} of {1}"),ps=_t.N("label.noResults","No results");let qn=69;const Nn="ctrlEnterReplaceAll.windows.donotask",Ks=De.dz?256:2048;class os{constructor(Q){this.afterLineNumber=Q,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function Yn(je,Q,se){const he=!!Q.match(/\n/);se&&he&&se.selectionStart>0&&je.stopPropagation()}function Ms(je,Q,se){const he=!!Q.match(/\n/);se&&he&&se.selectionEnd<se.value.length&&je.stopPropagation()}let To=(()=>{class je extends Me.${constructor(se,he,be,We,qe,lt,It,ft,pt){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=se,this._controller=he,this._state=be,this._contextViewProvider=We,this._keybindingService=qe,this._contextKeyService=lt,this._storageService=ft,this._notificationService=pt,this._ctrlEnterReplaceAllWarningPrompted=!!ft.getBoolean(Nn,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new _.vp(500),this._register((0,h.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(xt=>this._onStateChanged(xt))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(xt=>{if(xt.hasChanged(81)&&(this._codeEditor.getOption(81)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),xt.hasChanged(131)&&this._tryUpdateWidgetWidth(),xt.hasChanged(2)&&this.updateAccessibilitySupport(),xt.hasChanged(35)){const Zt=this._codeEditor.getOption(35).addExtraSpaceOnTop;Zt&&!this._viewZone&&(this._viewZone=new os(0),this._showViewZone()),!Zt&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>function(je,Q,se,he){return new(se||(se=Promise))(function(We,qe){function lt(pt){try{ft(he.next(pt))}catch(xt){qe(xt)}}function It(pt){try{ft(he.throw(pt))}catch(xt){qe(xt)}}function ft(pt){pt.done?We(pt.value):function be(We){return We instanceof se?We:new se(function(qe){qe(We)})}(pt.value).then(lt,It)}ft((he=he.apply(je,Q||[])).next())})}(this,void 0,void 0,function*(){if(this._isVisible){let xt=yield this._controller.getGlobalBufferTerm();xt&&xt!==this._state.searchString&&(this._state.change({searchString:xt},!1),this._findInput.select())}}))),this._findInputFocused=ce.bindTo(lt),this._findFocusTracker=this._register(Ee.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=K.bindTo(lt),this._replaceFocusTracker=this._register(Ee.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new os(0)),this._applyTheme(It.getColorTheme()),this._register(It.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(xt=>{xt.scrollTopChanged?this._layoutViewZone():setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return je.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(se){if(se.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}se.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),se.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),se.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(81)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=Ee.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(se.isRevealed||se.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),se.isRegex&&this._findInput.setRegex(this._state.isRegex),se.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),se.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),se.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),se.searchScope&&(this._toggleSelectionFind.checked=!!this._state.searchScope,this._updateToggleSelectionFindButton()),(se.searchString||se.matchesCount||se.matchesPosition)&&(this._domNode.classList.toggle("no-results",this._state.searchString.length>0&&0===this._state.matchesCount),this._updateMatchesCount(),this._updateButtons()),(se.searchString||se.currentMatch)&&this._layoutViewZone(),se.updateHistory&&this._delayedUpdateHistory(),se.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,Gt.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let se;if(this._matchesCount.style.minWidth=qn+"px",this._matchesCount.title=this._state.matchesCount>=z?ho:"",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){let he=String(this._state.matchesCount);this._state.matchesCount>=z&&(he+="+");let be=String(this._state.matchesPosition);"0"===be&&(be="?"),se=ee.WU(uo,be,he)}else se=ps;this._matchesCount.appendChild(document.createTextNode(se)),(0,Yt.Z9)(this._getAriaLabel(se,this._state.currentMatch,this._state.searchString)),qn=Math.max(qn,this._matchesCount.clientWidth)}_getAriaLabel(se,he,be){if(se===ps)return""===be?_t.N("ariaSearchNoResultEmpty","{0} found",se):_t.N("ariaSearchNoResult","{0} found for '{1}'",se,be);if(he){const We=_t.N("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",se,be,he.startLineNumber+":"+he.startColumn),qe=this._codeEditor.getModel();return qe&&he.startLineNumber<=qe.getLineCount()&&he.startLineNumber>=1?`${qe.getLineContent(he.startLineNumber)}, ${We}`:We}return _t.N("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",se,be)}_updateToggleSelectionFindButton(){let se=this._codeEditor.getSelection();this._isVisible&&(this._toggleSelectionFind.checked||se&&(se.startLineNumber!==se.endLineNumber||se.startColumn!==se.endColumn))?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let se=this._state.searchString.length>0,he=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&se&&he&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&se&&he&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&se),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&se),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let be=!this._codeEditor.getOption(81);this._toggleReplaceBtn.setEnabled(this._isVisible&&be)}_reveal(){if(this._revealTimeouts.forEach(se=>{clearTimeout(se)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const se=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":this._toggleSelectionFind.checked=!!se&&se.startLineNumber!==se.endLineNumber}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let he=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&se){const be=this._codeEditor.getDomNode();if(be){const We=Ee.i(be),qe=this._codeEditor.getScrolledVisiblePosition(se.getStartPosition()),lt=We.left+(qe?qe.left:0),It=qe?qe.top:0;if(this._viewZone&&It<this._viewZone.heightInPx){se.endLineNumber>se.startLineNumber&&(he=!1);const ft=Ee.xQ(this._domNode).left;lt>ft&&(he=!1);const pt=this._codeEditor.getScrolledVisiblePosition(se.getEndPosition());We.left+(pt?pt.left:0)>ft&&(he=!1)}}}this._showViewZone(he)}}_hide(se){this._revealTimeouts.forEach(he=>{clearTimeout(he)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),se&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(se){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;const be=this._viewZone;void 0!==this._viewZoneId||!be||this._codeEditor.changeViewZones(We=>{be.heightInPx=this._getHeight(),this._viewZoneId=We.addZone(be),this._codeEditor.setScrollTop(se||this._codeEditor.getScrollTop()+be.heightInPx)})}_showViewZone(se=!0){if(!this._isVisible||!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;void 0===this._viewZone&&(this._viewZone=new os(0));const be=this._viewZone;this._codeEditor.changeViewZones(We=>{if(void 0!==this._viewZoneId){const qe=this._getHeight();if(qe===be.heightInPx)return;let lt=qe-be.heightInPx;return be.heightInPx=qe,We.layoutZone(this._viewZoneId),void(se&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+lt))}{let qe=this._getHeight();if(qe-=this._codeEditor.getOption(75).top,qe<=0)return;be.heightInPx=qe,this._viewZoneId=We.addZone(be),se&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+qe)}})}_removeViewZone(){this._codeEditor.changeViewZones(se=>{void 0!==this._viewZoneId&&(se.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(se){let he={inputActiveOptionBorder:se.getColor(f.PRb),inputActiveOptionBackground:se.getColor(f.XEs),inputActiveOptionForeground:se.getColor(f.Pvw),inputBackground:se.getColor(f.sEe),inputForeground:se.getColor(f.zJb),inputBorder:se.getColor(f.dt_),inputValidationInfoBackground:se.getColor(f._lC),inputValidationInfoForeground:se.getColor(f.YI3),inputValidationInfoBorder:se.getColor(f.EPQ),inputValidationWarningBackground:se.getColor(f.RV_),inputValidationWarningForeground:se.getColor(f.SUG),inputValidationWarningBorder:se.getColor(f.C3g),inputValidationErrorBackground:se.getColor(f.paE),inputValidationErrorForeground:se.getColor(f._t9),inputValidationErrorBorder:se.getColor(f.OZR)};this._findInput.style(he),this._replaceInput.style(he),this._toggleSelectionFind.style(he)}_tryUpdateWidgetWidth(){if(!this._isVisible||!Ee.Uw(this._domNode))return;const se=this._codeEditor.getLayoutInfo();if(se.contentWidth<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const be=se.width,We=se.minimap.minimapWidth;let qe=!1,lt=!1,It=!1;if(this._resized&&Ee.w(this._domNode)>419)return this._domNode.style.maxWidth=be-28-We-15+"px",void(this._replaceInput.width=Ee.w(this._findInput.domNode));if(447+We>=be&&(lt=!0),447+We-qn>=be&&(It=!0),447+We-qn>=be+50&&(qe=!0),this._domNode.classList.toggle("collapsed-find-widget",qe),this._domNode.classList.toggle("narrow-find-widget",It),this._domNode.classList.toggle("reduced-find-widget",lt),!It&&!qe&&(this._domNode.style.maxWidth=be-28-We-15+"px"),this._resized){this._findInput.inputBox.layout();let ft=this._findInput.inputBox.element.clientWidth;ft>0&&(this._replaceInput.width=ft)}else this._isReplaceVisible&&(this._replaceInput.width=Ee.w(this._findInput.domNode))}_getHeight(){let se=0;return se+=4,se+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(se+=4,se+=this._replaceInput.inputBox.height+2),se+=4,se}_tryUpdateHeight(){const se=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==se)&&(this._cachedHeight=se,this._domNode.style.height=`${se}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let se=this._codeEditor.getSelections();se.map(he=>(1===he.endColumn&&he.endLineNumber>he.startLineNumber&&(he=he.setEndPosition(he.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(he.endLineNumber-1))),he.startLineNumber===he.endLineNumber||x.e.equalsRange(he,this._state.currentMatch)?null:he)).filter(he=>!!he),se.length&&this._state.change({searchScope:se},!0)}}_onFindInputMouseDown(se){se.middleButton&&se.stopPropagation()}_onFindInputKeyDown(se){return se.equals(3|Ks)?(this._keybindingService.dispatchEvent(se,se.target)||this._findInput.inputBox.insertAtCursor("\n"),void se.preventDefault()):se.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void se.preventDefault()):se.equals(2066)?(this._codeEditor.focus(),void se.preventDefault()):se.equals(16)?Yn(se,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):se.equals(18)?Ms(se,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(se){return se.equals(3|Ks)?(this._keybindingService.dispatchEvent(se,se.target)||(De.ED&&De.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(_t.N("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Nn,!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n")),void se.preventDefault()):se.equals(2)?(this._findInput.focusOnCaseSensitive(),void se.preventDefault()):se.equals(1026)?(this._findInput.focus(),void se.preventDefault()):se.equals(2066)?(this._codeEditor.focus(),void se.preventDefault()):se.equals(16)?Yn(se,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):se.equals(18)?Ms(se,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(se){return 0}_keybindingLabelFor(se){let he=this._keybindingService.lookupKeybinding(se);return he?` (${he.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new Re(null,this._contextViewProvider,{width:221,label:Ds,placeholder:js,appendCaseSensitiveLabel:this._keybindingLabelFor("toggleFindCaseSensitive"),appendWholeWordsLabel:this._keybindingLabelFor("toggleFindWholeWord"),appendRegexLabel:this._keybindingLabelFor("toggleFindRegex"),validation:ft=>{if(0===ft.length||!this._findInput.getRegex())return null;try{return new RegExp(ft,"gu"),null}catch(pt){return{content:pt.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>st(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(ft=>this._onFindInputKeyDown(ft))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(ft=>{ft.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),ft.preventDefault())})),this._register(this._findInput.onRegexKeyDown(ft=>{ft.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),ft.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(ft=>{this._tryUpdateHeight()&&this._showViewZone()})),De.IJ&&this._register(this._findInput.onMouseDown(ft=>this._onFindInputMouseDown(ft))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new In({label:ks+this._keybindingLabelFor("editor.action.previousMatchFindAction"),icon:Jt,onTrigger:()=>{this._codeEditor.getAction("editor.action.previousMatchFindAction").run().then(void 0,Gt.dL)}})),this._nextBtn=this._register(new In({label:lo+this._keybindingLabelFor("editor.action.nextMatchFindAction"),icon:fn,onTrigger:()=>{this._codeEditor.getAction("editor.action.nextMatchFindAction").run().then(void 0,Gt.dL)}}));let be=document.createElement("div");be.className="find-part",be.appendChild(this._findInput.domNode);const We=document.createElement("div");We.className="find-actions",be.appendChild(We),We.appendChild(this._matchesCount),We.appendChild(this._prevBtn.domNode),We.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new yt({icon:gi,title:Ts+this._keybindingLabelFor("toggleFindInSelection"),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let ft=this._codeEditor.getSelections();ft.map(pt=>(1===pt.endColumn&&pt.endLineNumber>pt.startLineNumber&&(pt=pt.setEndPosition(pt.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(pt.endLineNumber-1))),pt.isEmpty()?null:pt)).filter(pt=>!!pt),ft.length&&this._state.change({searchScope:ft},!0)}}else this._state.change({searchScope:null},!0)})),We.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new In({label:On+this._keybindingLabelFor("closeFindWidget"),icon:Lt.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:ft=>{ft.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),ft.preventDefault())}})),We.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new Oe(null,void 0,{label:Tt,placeholder:ms,appendPreserveCaseLabel:this._keybindingLabelFor("togglePreserveCase"),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>st(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(ft=>this._onReplaceInputKeyDown(ft))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(ft=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(ft=>{ft.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),ft.preventDefault())})),this._replaceBtn=this._register(new In({label:Un+this._keybindingLabelFor("editor.action.replaceOne"),icon:zt,onTrigger:()=>{this._controller.replace()},onKeyDown:ft=>{ft.equals(1026)&&(this._closeBtn.focus(),ft.preventDefault())}})),this._replaceAllBtn=this._register(new In({label:jn+this._keybindingLabelFor("editor.action.replaceAll"),icon:Si,onTrigger:()=>{this._controller.replaceAll()}}));let qe=document.createElement("div");qe.className="replace-part",qe.appendChild(this._replaceInput.domNode);const lt=document.createElement("div");lt.className="replace-actions",qe.appendChild(lt),lt.appendChild(this._replaceBtn.domNode),lt.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new In({label:co,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=Ee.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(be),this._domNode.appendChild(qe),this._resizeSash=new Dt.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let It=419;this._register(this._resizeSash.onDidStart(()=>{It=Ee.w(this._domNode)})),this._register(this._resizeSash.onDidChange(ft=>{this._resized=!0;let pt=It+ft.startX-ft.currentX;pt<419||pt>(parseFloat(Ee.Dx(this._domNode).maxWidth)||0)||(this._domNode.style.width=`${pt}px`,this._isReplaceVisible&&(this._replaceInput.width=Ee.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const ft=Ee.w(this._domNode);if(ft<419)return;let pt=419;if(!this._resized||419===ft){const xt=this._codeEditor.getLayoutInfo();pt=xt.width-28-xt.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${pt}px`,this._isReplaceVisible&&(this._replaceInput.width=Ee.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const se=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==se)}}return je.ID="editor.contrib.findWidget",je})();class In extends Me.${constructor(Q){super(),this._opts=Q;let se="button";this._opts.className&&(se=se+" "+this._opts.className),this._opts.icon&&(se=se+" "+N.kS.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=se,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,he=>{this._opts.onTrigger(),he.preventDefault()}),this.onkeydown(this._domNode,he=>{if(he.equals(10)||he.equals(3))return this._opts.onTrigger(),void he.preventDefault();this._opts.onKeyDown&&this._opts.onKeyDown(he)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(Q){this._domNode.classList.toggle("disabled",!Q),this._domNode.setAttribute("aria-disabled",String(!Q)),this._domNode.tabIndex=Q?0:-1}setExpanded(Q){this._domNode.setAttribute("aria-expanded",String(!!Q)),Q?(this._domNode.classList.remove(...N.kS.asClassNameArray(_i)),this._domNode.classList.add(...N.kS.asClassNameArray(ei))):(this._domNode.classList.remove(...N.kS.asClassNameArray(ei)),this._domNode.classList.add(...N.kS.asClassNameArray(_i)))}}(0,N.Ic)((je,Q)=>{const se=(Fi,tn)=>{tn&&Q.addRule(`.monaco-editor ${Fi} { background-color: ${tn}; }`)};se(".findMatch",je.getColor(f.MUv)),se(".currentFindMatch",je.getColor(f.nyM)),se(".findScope",je.getColor(f.jUe)),se(".find-widget",je.getColor(f.D0T));const be=je.getColor(f.rh);be&&Q.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${be}; }`);const We=je.getColor(f.EiJ);We&&Q.addRule(`.monaco-editor .findMatch { border: 1px ${"hc"===je.type?"dotted":"solid"} ${We}; box-sizing: border-box; }`);const qe=je.getColor(f.pnM);qe&&Q.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${qe}; padding: 1px; box-sizing: border-box; }`);const lt=je.getColor(f.gkn);lt&&Q.addRule(`.monaco-editor .findScope { border: 1px ${"hc"===je.type?"dashed":"solid"} ${lt}; }`);const It=je.getColor(f.lRK);It&&Q.addRule(`.monaco-editor .find-widget { border: 1px solid ${It}; }`);const ft=je.getColor(f.Hfx);ft&&Q.addRule(`.monaco-editor .find-widget { color: ${ft}; }`);const pt=je.getColor(f.Ido);pt&&Q.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${pt}; }`);const xt=je.getColor(f.Ng6);if(xt)Q.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${xt}; }`);else{const Fi=je.getColor(f.D1_);Fi&&Q.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${Fi}; }`)}const Zt=je.getColor(f.lUq);Zt&&Q.addRule(`\n\t\t.monaco-editor .find-widget .button:not(.disabled):hover,\n\t\t.monaco-editor .find-widget .codicon-find-selection:hover {\n\t\t\tbackground-color: ${Zt} !important;\n\t\t}\n\t`);const jt=je.getColor(f.R80);jt&&Q.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${jt}; }`)});var ut=L(61004),Ei=L(80777),ze=L(34394),dt=L(77090),Bi=L(78782),go=L(99571),_s=function(je,Q,se,he){var qe,be=arguments.length,We=be<3?Q:null===he?he=Object.getOwnPropertyDescriptor(Q,se):he;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)We=Reflect.decorate(je,Q,se,he);else for(var lt=je.length-1;lt>=0;lt--)(qe=je[lt])&&(We=(be<3?qe(We):be>3?qe(Q,se,We):qe(Q,se))||We);return be>3&&We&&Object.defineProperty(Q,se,We),We},vn=function(je,Q){return function(se,he){Q(se,he,je)}},wn=function(je,Q,se,he){return new(se||(se=Promise))(function(We,qe){function lt(pt){try{ft(he.next(pt))}catch(xt){qe(xt)}}function It(pt){try{ft(he.throw(pt))}catch(xt){qe(xt)}}function ft(pt){pt.done?We(pt.value):function be(We){return We instanceof se?We:new se(function(qe){qe(We)})}(pt.value).then(lt,It)}ft((he=he.apply(je,Q||[])).next())})};function An(je,Q="single",se=!1){if(!je.hasModel())return null;const he=je.getSelection();if("single"===Q&&he.startLineNumber===he.endLineNumber||"multiple"===Q)if(he.isEmpty()){const be=je.getConfiguredWordAtPosition(he.getStartPosition());if(be&&!1===se)return be.word}else if(je.getModel().getValueLengthInRange(he)<524288)return je.getModel().getValueInRange(he);return null}let vi=class f_ extends h.JT{constructor(Q,se,he,be){super(),this._editor=Q,this._findWidgetVisible=Se.bindTo(se),this._contextKeyService=se,this._storageService=he,this._clipboardService=be,this._updateHistoryDelayer=new _.vp(500),this._state=this._register(new ct),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(We=>this._onStateChanged(We))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let We=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),We&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})}))}get editor(){return this._editor}static get(Q){return Q.getContribution(f_.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(Q){this.saveQueryState(Q),Q.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),Q.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(Q){Q.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),Q.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),Q.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),Q.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!ce.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let Q=this._editor.getSelections();Q.map(se=>(1===se.endColumn&&se.endLineNumber>se.startLineNumber&&(se=se.setEndPosition(se.endLineNumber-1,this._editor.getModel().getLineMaxColumn(se.endLineNumber-1))),se.isEmpty()?null:se)).filter(se=>!!se),Q.length&&this._state.change({searchScope:Q},!0)}}setSearchString(Q){this._state.isRegex&&(Q=ee.ec(Q)),this._state.change({searchString:Q},!1)}highlightFindOptions(Q=!1){}_start(Q,se){return wn(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let he=Object.assign(Object.assign({},se),{isRevealed:!0});if("single"===Q.seedSearchStringFromSelection){let be=An(this._editor,Q.seedSearchStringFromSelection,Q.seedSearchStringFromNonEmptySelection);be&&(he.searchString=this._state.isRegex?ee.ec(be):be)}else if("multiple"===Q.seedSearchStringFromSelection&&!Q.updateSearchScope){let be=An(this._editor,Q.seedSearchStringFromSelection);be&&(he.searchString=be)}if(!he.searchString&&Q.seedSearchStringFromGlobalClipboard){let be=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;be&&(he.searchString=be)}if(Q.forceRevealReplace||he.isReplaceRevealed?he.isReplaceRevealed=!0:this._findWidgetVisible.get()||(he.isReplaceRevealed=!1),Q.updateSearchScope){let be=this._editor.getSelections();be.some(We=>!We.isEmpty())&&(he.searchScope=be)}he.loop=Q.loop,this._state.change(he,!1),this._model||(this._model=new ye(this._editor,this._state))})}start(Q,se){return this._start(Q,se)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._model.replaceAll(),!0)}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}getGlobalBufferTerm(){return wn(this,void 0,void 0,function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(Q){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(Q)}};vi.ID="editor.contrib.findController",vi=_s([vn(1,de.i6),vn(2,go.Uy),vn(3,Ei.p)],vi);let Dn=class extends vi{constructor(Q,se,he,be,We,qe,lt,It){super(Q,he,lt,It),this._contextViewService=se,this._keybindingService=be,this._themeService=We,this._notificationService=qe,this._widget=null,this._findOptionsWidget=null}_start(Q,se){const he=Object.create(null,{_start:{get:()=>super._start}});return wn(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const be=this._editor.getSelection();let We=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":We=!0;break;case"never":We=!1;break;case"multiline":We=!!be&&be.startLineNumber!==be.endLineNumber}Q.updateSearchScope=Q.updateSearchScope||We,yield he._start.call(this,Q,se),this._widget&&(2===Q.shouldFocus?this._widget.focusReplaceInput():1===Q.shouldFocus&&this._widget.focusFindInput())})}highlightFindOptions(Q=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!Q?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new To(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new $e(this._editor,this._state,this._keybindingService,this._themeService))}};Dn=_s([vn(1,ze.u),vn(2,de.i6),vn(3,dt.d),vn(4,N.XE),vn(5,Bi.lT),vn(6,go.Uy),vn(7,Ei.p)],Dn);const rn=(0,y.rn)(new y.jY({id:"actions.find",label:_t.N("startFindAction","Find"),alias:"Find",precondition:de.Ao.or(v.u.focus,de.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:ut.eH.MenubarEditMenu,group:"3_find",title:_t.N({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));rn.addImplementation(0,(je,Q,se)=>{const he=vi.get(Q);return!!he&&he.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==Q.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===Q.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:Q.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:Q.getOption(35).loop})});const Os={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:_t.N("actions.find.isRegexOverride",'Overrides "Use Regular Expression" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:_t.N("actions.find.wholeWordOverride",'Overrides "Match Whole Word" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:_t.N("actions.find.matchCaseOverride",'Overrides "Math Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:_t.N("actions.find.preserveCaseOverride",'Overrides "Preserve Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},findInSelection:{type:"boolean"}}}}]};class en extends y.R6{constructor(){super({id:"editor.actions.findWithArgs",label:_t.N("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:Os})}run(Q,se,he){return wn(this,void 0,void 0,function*(){const be=vi.get(se);if(be){const We=he?{searchString:he.searchString,replaceString:he.replaceString,isReplaceRevealed:void 0!==he.replaceString,isRegex:he.isRegex,wholeWord:he.matchWholeWord,matchCase:he.isCaseSensitive,preserveCase:he.preserveCase}:{};yield be.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===be.getState().searchString.length&&"never"!==se.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===se.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(null==he?void 0:he.findInSelection)||!1,loop:se.getOption(35).loop},We),be.setGlobalBufferTerm(be.getState().searchString)}})}}class Sn extends y.R6{constructor(){super({id:"actions.findWithSelection",label:_t.N("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(Q,se){return wn(this,void 0,void 0,function*(){const he=vi.get(se);he&&(yield he.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:se.getOption(35).loop}),he.setGlobalBufferTerm(he.getState().searchString))})}}class Ti extends y.R6{run(Q,se){return wn(this,void 0,void 0,function*(){const he=vi.get(se);he&&!this._run(he)&&(yield he.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===he.getState().searchString.length&&"never"!==se.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===se.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:se.getOption(35).loop}),this._run(he))})}}class Mo extends Ti{constructor(){super({id:"editor.action.nextMatchFindAction",label:_t.N("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:v.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:de.Ao.and(v.u.focus,ce),primary:3,weight:100}]})}_run(Q){return!!Q.moveToNextMatch()&&(Q.editor.pushUndoStop(),!0)}}class Pn extends Ti{constructor(){super({id:"editor.action.previousMatchFindAction",label:_t.N("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:v.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:de.Ao.and(v.u.focus,ce),primary:1027,weight:100}]})}_run(Q){return Q.moveToPrevMatch()}}class mo extends y.R6{run(Q,se){return wn(this,void 0,void 0,function*(){const he=vi.get(se);if(!he)return;const be="selection"===se.getOption(35).seedSearchStringFromSelection;let We=null;"never"!==se.getOption(35).seedSearchStringFromSelection&&(We=An(se,"single",be)),We&&he.setSearchString(We),this._run(he)||(yield he.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==se.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:be,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:se.getOption(35).loop}),this._run(he))})}}class ji extends mo{constructor(){super({id:"editor.action.nextSelectionMatchFindAction",label:_t.N("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:v.u.focus,primary:2109,weight:100}})}_run(Q){return Q.moveToNextMatch()}}class Ri extends mo{constructor(){super({id:"editor.action.previousSelectionMatchFindAction",label:_t.N("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:v.u.focus,primary:3133,weight:100}})}_run(Q){return Q.moveToPrevMatch()}}const an=(0,y.rn)(new y.jY({id:"editor.action.startFindReplaceAction",label:_t.N("startReplace","Replace"),alias:"Replace",precondition:de.Ao.or(v.u.focus,de.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:ut.eH.MenubarEditMenu,group:"3_find",title:_t.N({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));an.addImplementation(0,(je,Q,se)=>{if(!Q.hasModel()||Q.getOption(81))return!1;const he=vi.get(Q);if(!he)return!1;const be=Q.getSelection(),We=he.isFindInputFocused(),qe=!be.isEmpty()&&be.startLineNumber===be.endLineNumber&&"never"!==Q.getOption(35).seedSearchStringFromSelection&&!We,lt=We||qe?2:1;return he.start({forceRevealReplace:!0,seedSearchStringFromSelection:qe?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===Q.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:"never"!==Q.getOption(35).seedSearchStringFromSelection,shouldFocus:lt,shouldAnimate:!0,updateSearchScope:!1,loop:Q.getOption(35).loop})}),(0,y._K)(vi.ID,Dn),(0,y.Qr)(en),(0,y.Qr)(Sn),(0,y.Qr)(Mo),(0,y.Qr)(Pn),(0,y.Qr)(ji),(0,y.Qr)(Ri);const ln=y._l.bindToContribution(vi.get);(0,y.fK)(new ln({id:"closeFindWidget",precondition:Se,handler:je=>je.closeFindWidget(),kbOpts:{weight:105,kbExpr:de.Ao.and(v.u.focus,de.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,y.fK)(new ln({id:"toggleFindCaseSensitive",precondition:void 0,handler:je=>je.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:ie.primary,mac:ie.mac,win:ie.win,linux:ie.linux}})),(0,y.fK)(new ln({id:"toggleFindWholeWord",precondition:void 0,handler:je=>je.toggleWholeWords(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:oe.primary,mac:oe.mac,win:oe.win,linux:oe.linux}})),(0,y.fK)(new ln({id:"toggleFindRegex",precondition:void 0,handler:je=>je.toggleRegex(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:W.primary,mac:W.mac,win:W.win,linux:W.linux}})),(0,y.fK)(new ln({id:"toggleFindInSelection",precondition:void 0,handler:je=>je.toggleSearchScope(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:w.primary,mac:w.mac,win:w.win,linux:w.linux}})),(0,y.fK)(new ln({id:"togglePreserveCase",precondition:void 0,handler:je=>je.togglePreserveCase(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:U.primary,mac:U.mac,win:U.win,linux:U.linux}})),(0,y.fK)(new ln({id:"editor.action.replaceOne",precondition:Se,handler:je=>je.replace(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:3094}})),(0,y.fK)(new ln({id:"editor.action.replaceOne",precondition:Se,handler:je=>je.replace(),kbOpts:{weight:105,kbExpr:de.Ao.and(v.u.focus,K),primary:3}})),(0,y.fK)(new ln({id:"editor.action.replaceAll",precondition:Se,handler:je=>je.replaceAll(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:2563}})),(0,y.fK)(new ln({id:"editor.action.replaceAll",precondition:Se,handler:je=>je.replaceAll(),kbOpts:{weight:105,kbExpr:de.Ao.and(v.u.focus,K),primary:void 0,mac:{primary:2051}}})),(0,y.fK)(new ln({id:"editor.action.selectAllMatches",precondition:Se,handler:je=>je.selectAllMatches(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:515}}))},98381:(Ae,xe,L)=>{"use strict";L.r(xe),L.d(xe,{cssDefaults:()=>O,lessDefaults:()=>V,scssDefaults:()=>b});var _=L(68349),h=Object.defineProperty,ee=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,v=Object.prototype.hasOwnProperty,$={};((N,A,I,P)=>{if(A&&"object"==typeof A||"function"==typeof A)for(let H of y(A))!v.call(N,H)&&"default"!==H&&h(N,H,{get:()=>A[H],enumerable:!(P=ee(A,H))||P.enumerable})})($,_);var B=class{constructor(N,A,I){Zi(this,"_onDidChange",new $.Emitter),Zi(this,"_options"),Zi(this,"_modeConfiguration"),Zi(this,"_languageId"),this._languageId=N,this.setOptions(A),this.setModeConfiguration(I)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(N){this._options=N||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(N){this.setOptions(N)}setModeConfiguration(N){this._modeConfiguration=N||Object.create(null),this._onDidChange.fire(this)}},x={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},R={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},O=new B("css",x,R),b=new B("scss",x,R),V=new B("less",x,R);function f(){return L.e(3814).then(L.bind(L,3814))}$.languages.css={cssDefaults:O,lessDefaults:V,scssDefaults:b},$.languages.onLanguage("less",()=>{f().then(N=>N.setupMode(V))}),$.languages.onLanguage("scss",()=>{f().then(N=>N.setupMode(b))}),$.languages.onLanguage("css",()=>{f().then(N=>N.setupMode(O))})},46518:(Ae,xe,L)=>{"use strict";L.r(xe),L.d(xe,{handlebarDefaults:()=>H,handlebarLanguageService:()=>P,htmlDefaults:()=>I,htmlLanguageService:()=>A,razorDefaults:()=>T,razorLanguageService:()=>F,registerHTMLLanguageService:()=>Y});var _=L(15861),h=L(68349),ee=Object.defineProperty,y=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,Z=Object.prototype.hasOwnProperty,B={};((te,me,_e,de)=>{if(me&&"object"==typeof me||"function"==typeof me)for(let Se of v(me))!Z.call(te,Se)&&"default"!==Se&&ee(te,Se,{get:()=>me[Se],enumerable:!(de=y(me,Se))||de.enumerable})})(B,h);var O={format:{tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},suggest:{},data:{useDefaultDataProvider:!0}};function b(te){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:te===V,documentFormattingEdits:te===V,documentRangeFormattingEdits:te===V}}var V="html",f="handlebars",N="razor",A=Y(V,O,b(V)),I=A.defaults,P=Y(f,O,b(f)),H=P.defaults,F=Y(N,O,b(N)),T=F.defaults;function Y(te,me=O,_e=b(te)){const de=new class{constructor(te,me,_e){Zi(this,"_onDidChange",new B.Emitter),Zi(this,"_options"),Zi(this,"_modeConfiguration"),Zi(this,"_languageId"),this._languageId=te,this.setOptions(me),this.setModeConfiguration(_e)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(te){this._options=te||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(te){this._modeConfiguration=te||Object.create(null),this._onDidChange.fire(this)}}(te,me,_e);let Se;const Ve=B.languages.onLanguage(te,(0,_.Z)(function*(){Se=(yield function q(){return L.e(3606).then(L.bind(L,23606))}()).setupMode(de)}));return{defaults:de,dispose(){Ve.dispose(),null==Se||Se.dispose(),Se=void 0}}}B.languages.html={htmlDefaults:I,razorDefaults:T,handlebarDefaults:H,htmlLanguageService:A,handlebarLanguageService:P,razorLanguageService:F,registerHTMLLanguageService:Y}},41417:(Ae,xe,L)=>{"use strict";L.r(xe),L.d(xe,{JsxEmit:()=>R,ModuleKind:()=>x,ModuleResolutionKind:()=>V,NewLineKind:()=>O,ScriptTarget:()=>b,getJavaScriptWorker:()=>H,getTypeScriptWorker:()=>P,javascriptDefaults:()=>I,typescriptDefaults:()=>A,typescriptVersion:()=>N});var _=L(68349),h=Object.defineProperty,ee=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,v=Object.prototype.hasOwnProperty,B={};((T,q,Y,te)=>{if(q&&"object"==typeof q||"function"==typeof q)for(let me of y(q))!v.call(T,me)&&"default"!==me&&h(T,me,{get:()=>q[me],enumerable:!(te=ee(q,me))||te.enumerable})})(B,_);var x=(T=>(T[T.None=0]="None",T[T.CommonJS=1]="CommonJS",T[T.AMD=2]="AMD",T[T.UMD=3]="UMD",T[T.System=4]="System",T[T.ES2015=5]="ES2015",T[T.ESNext=99]="ESNext",T))(x||{}),R=(T=>(T[T.None=0]="None",T[T.Preserve=1]="Preserve",T[T.React=2]="React",T[T.ReactNative=3]="ReactNative",T[T.ReactJSX=4]="ReactJSX",T[T.ReactJSXDev=5]="ReactJSXDev",T))(R||{}),O=(T=>(T[T.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",T[T.LineFeed=1]="LineFeed",T))(O||{}),b=(T=>(T[T.ES3=0]="ES3",T[T.ES5=1]="ES5",T[T.ES2015=2]="ES2015",T[T.ES2016=3]="ES2016",T[T.ES2017=4]="ES2017",T[T.ES2018=5]="ES2018",T[T.ES2019=6]="ES2019",T[T.ES2020=7]="ES2020",T[T.ESNext=99]="ESNext",T[T.JSON=100]="JSON",T[T.Latest=99]="Latest",T))(b||{}),V=(T=>(T[T.Classic=1]="Classic",T[T.NodeJs=2]="NodeJs",T))(V||{}),f=class{constructor(T,q,Y,te){Zi(this,"_onDidChange",new B.Emitter),Zi(this,"_onDidExtraLibsChange",new B.Emitter),Zi(this,"_extraLibs"),Zi(this,"_removedExtraLibs"),Zi(this,"_eagerModelSync"),Zi(this,"_compilerOptions"),Zi(this,"_diagnosticsOptions"),Zi(this,"_workerOptions"),Zi(this,"_onDidExtraLibsChangeTimeout"),Zi(this,"_inlayHintsOptions"),this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(T),this.setDiagnosticsOptions(q),this.setWorkerOptions(Y),this.setInlayHintsOptions(te),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(T,q){let Y;if(Y=void 0===q?`ts:extralib-${Math.random().toString(36).substring(2,15)}`:q,this._extraLibs[Y]&&this._extraLibs[Y].content===T)return{dispose:()=>{}};let te=1;return this._removedExtraLibs[Y]&&(te=this._removedExtraLibs[Y]+1),this._extraLibs[Y]&&(te=this._extraLibs[Y].version+1),this._extraLibs[Y]={content:T,version:te},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let me=this._extraLibs[Y];!me||me.version===te&&(delete this._extraLibs[Y],this._removedExtraLibs[Y]=te,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(T){for(const q in this._extraLibs)this._removedExtraLibs[q]=this._extraLibs[q].version;if(this._extraLibs=Object.create(null),T&&T.length>0)for(const q of T){const Y=q.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`;let me=1;this._removedExtraLibs[Y]&&(me=this._removedExtraLibs[Y]+1),this._extraLibs[Y]={content:q.content,version:me}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(T){this._compilerOptions=T||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(T){this._diagnosticsOptions=T||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(T){this._workerOptions=T||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(T){this._inlayHintsOptions=T||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(T){}setEagerModelSync(T){this._eagerModelSync=T}getEagerModelSync(){return this._eagerModelSync}},N="4.5.5",A=new f({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),I=new f({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),P=()=>F().then(T=>T.getTypeScriptWorker()),H=()=>F().then(T=>T.getJavaScriptWorker());function F(){return L.e(8032).then(L.bind(L,68032))}B.languages.typescript={ModuleKind:x,JsxEmit:R,NewLineKind:O,ScriptTarget:b,ModuleResolutionKind:V,typescriptVersion:N,typescriptDefaults:A,javascriptDefaults:I,getTypeScriptWorker:P,getJavaScriptWorker:H},B.languages.onLanguage("typescript",()=>F().then(T=>T.setupTypeScript(A))),B.languages.onLanguage("javascript",()=>F().then(T=>T.setupJavaScript(I)))},40402:(Ae,xe,L)=>{"use strict";function h(ee,y,...v){return function _(ee,y){let v;return v=0===y.length?ee:ee.replace(/\{(\d+)\}/g,function(Z,$){const B=$[0];return void 0!==y[B]?y[B]:Z}),v}(y,v)}L.d(xe,{N:()=>h})},61004:(Ae,xe,L)=>{"use strict";L.d(xe,{BH:()=>A,NZ:()=>I,U8:()=>P,co:()=>N,eH:()=>f,vr:()=>V});var _=L(85113),h=L(2450),ee=L(52787),y=L(67981),v=L(52425),Z=L(38460),$=L(23884),B=L(59776),x=L(64725),R=L(23024),b=function(H,F){return function(T,q){F(T,q,H)}};function V(H){return void 0!==H.command}class f{constructor(F){this.id=f._idPool++,this._debugName=F}}f._idPool=0,f.CommandPalette=new f("CommandPalette"),f.DebugBreakpointsContext=new f("DebugBreakpointsContext"),f.DebugCallStackContext=new f("DebugCallStackContext"),f.DebugConsoleContext=new f("DebugConsoleContext"),f.DebugVariablesContext=new f("DebugVariablesContext"),f.DebugWatchContext=new f("DebugWatchContext"),f.DebugToolBar=new f("DebugToolBar"),f.EditorContext=new f("EditorContext"),f.SimpleEditorContext=new f("SimpleEditorContext"),f.EditorContextCopy=new f("EditorContextCopy"),f.EditorContextPeek=new f("EditorContextPeek"),f.EditorTitle=new f("EditorTitle"),f.EditorTitleRun=new f("EditorTitleRun"),f.EditorTitleContext=new f("EditorTitleContext"),f.EmptyEditorGroup=new f("EmptyEditorGroup"),f.EmptyEditorGroupContext=new f("EmptyEditorGroupContext"),f.ExplorerContext=new f("ExplorerContext"),f.ExtensionContext=new f("ExtensionContext"),f.GlobalActivity=new f("GlobalActivity"),f.LayoutControlMenu=new f("LayoutControlMenu"),f.MenubarMainMenu=new f("MenubarMainMenu"),f.MenubarAppearanceMenu=new f("MenubarAppearanceMenu"),f.MenubarDebugMenu=new f("MenubarDebugMenu"),f.MenubarEditMenu=new f("MenubarEditMenu"),f.MenubarCopy=new f("MenubarCopy"),f.MenubarFileMenu=new f("MenubarFileMenu"),f.MenubarGoMenu=new f("MenubarGoMenu"),f.MenubarHelpMenu=new f("MenubarHelpMenu"),f.MenubarLayoutMenu=new f("MenubarLayoutMenu"),f.MenubarNewBreakpointMenu=new f("MenubarNewBreakpointMenu"),f.MenubarPanelAlignmentMenu=new f("MenubarPanelAlignmentMenu"),f.MenubarPreferencesMenu=new f("MenubarPreferencesMenu"),f.MenubarRecentMenu=new f("MenubarRecentMenu"),f.MenubarSelectionMenu=new f("MenubarSelectionMenu"),f.MenubarSwitchEditorMenu=new f("MenubarSwitchEditorMenu"),f.MenubarSwitchGroupMenu=new f("MenubarSwitchGroupMenu"),f.MenubarTerminalMenu=new f("MenubarTerminalMenu"),f.MenubarViewMenu=new f("MenubarViewMenu"),f.MenubarHomeMenu=new f("MenubarHomeMenu"),f.OpenEditorsContext=new f("OpenEditorsContext"),f.ProblemsPanelContext=new f("ProblemsPanelContext"),f.SCMChangeContext=new f("SCMChangeContext"),f.SCMResourceContext=new f("SCMResourceContext"),f.SCMResourceFolderContext=new f("SCMResourceFolderContext"),f.SCMResourceGroupContext=new f("SCMResourceGroupContext"),f.SCMSourceControl=new f("SCMSourceControl"),f.SCMTitle=new f("SCMTitle"),f.SearchContext=new f("SearchContext"),f.StatusBarWindowIndicatorMenu=new f("StatusBarWindowIndicatorMenu"),f.StatusBarRemoteIndicatorMenu=new f("StatusBarRemoteIndicatorMenu"),f.TestItem=new f("TestItem"),f.TestItemGutter=new f("TestItemGutter"),f.TestPeekElement=new f("TestPeekElement"),f.TestPeekTitle=new f("TestPeekTitle"),f.TouchBarContext=new f("TouchBarContext"),f.TitleBarContext=new f("TitleBarContext"),f.TunnelContext=new f("TunnelContext"),f.TunnelPrivacy=new f("TunnelPrivacy"),f.TunnelProtocol=new f("TunnelProtocol"),f.TunnelPortInline=new f("TunnelInline"),f.TunnelTitle=new f("TunnelTitle"),f.TunnelLocalAddressInline=new f("TunnelLocalAddressInline"),f.TunnelOriginInline=new f("TunnelOriginInline"),f.ViewItemContext=new f("ViewItemContext"),f.ViewContainerTitle=new f("ViewContainerTitle"),f.ViewContainerTitleContext=new f("ViewContainerTitleContext"),f.ViewTitle=new f("ViewTitle"),f.ViewTitleContext=new f("ViewTitleContext"),f.CommentThreadTitle=new f("CommentThreadTitle"),f.CommentThreadActions=new f("CommentThreadActions"),f.CommentTitle=new f("CommentTitle"),f.CommentActions=new f("CommentActions"),f.InteractiveToolbar=new f("InteractiveToolbar"),f.InteractiveCellTitle=new f("InteractiveCellTitle"),f.InteractiveCellExecute=new f("InteractiveCellExecute"),f.InteractiveInputExecute=new f("InteractiveInputExecute"),f.NotebookToolbar=new f("NotebookToolbar"),f.NotebookCellTitle=new f("NotebookCellTitle"),f.NotebookCellInsert=new f("NotebookCellInsert"),f.NotebookCellBetween=new f("NotebookCellBetween"),f.NotebookCellListTop=new f("NotebookCellTop"),f.NotebookCellExecute=new f("NotebookCellExecute"),f.NotebookCellExecutePrimary=new f("NotebookCellExecutePrimary"),f.NotebookDiffCellInputTitle=new f("NotebookDiffCellInputTitle"),f.NotebookDiffCellMetadataTitle=new f("NotebookDiffCellMetadataTitle"),f.NotebookDiffCellOutputsTitle=new f("NotebookDiffCellOutputsTitle"),f.NotebookOutputToolbar=new f("NotebookOutputToolbar"),f.NotebookEditorLayoutConfigure=new f("NotebookEditorLayoutConfigure"),f.BulkEditTitle=new f("BulkEditTitle"),f.BulkEditContext=new f("BulkEditContext"),f.TimelineItemContext=new f("TimelineItemContext"),f.TimelineTitle=new f("TimelineTitle"),f.TimelineTitleContext=new f("TimelineTitleContext"),f.AccountsContext=new f("AccountsContext"),f.PanelTitle=new f("PanelTitle"),f.TerminalInstanceContext=new f("TerminalInstanceContext"),f.TerminalEditorInstanceContext=new f("TerminalEditorInstanceContext"),f.TerminalNewDropdownContext=new f("TerminalNewDropdownContext"),f.TerminalTabContext=new f("TerminalTabContext"),f.TerminalTabEmptyAreaContext=new f("TerminalTabEmptyAreaContext"),f.TerminalInlineTabContext=new f("TerminalInlineTabContext"),f.WebviewContext=new f("WebviewContext"),f.InlineCompletionsActions=new f("InlineCompletionsActions"),f.NewFile=new f("NewFile");const N=(0,x.yh)("menuService"),A=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new ee.Q5,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:H=>H===f.CommandPalette}}addCommand(H){return this.addCommands(y.$.single(H))}addCommands(H){for(const F of H)this._commands.set(F.id,F);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,v.OF)(()=>{let F=!1;for(const T of H)F=this._commands.delete(T.id)||F;F&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(H){return this._commands.get(H)}getCommands(){const H=new Map;return this._commands.forEach((F,T)=>H.set(T,F)),H}appendMenuItem(H,F){return this.appendMenuItems(y.$.single({id:H,item:F}))}appendMenuItems(H){const F=new Set,T=new Z.S;for(const{id:q,item:Y}of H){let te=this._menuItems.get(q);te||(te=new Z.S,this._menuItems.set(q,te)),T.push(te.push(Y)),F.add(q)}return this._onDidChangeMenu.fire(F),(0,v.OF)(()=>{if(T.size>0){for(let q of T)q();this._onDidChangeMenu.fire(F),T.clear()}})}getMenuItems(H){let F;return F=this._menuItems.has(H)?[...this._menuItems.get(H)]:[],H===f.CommandPalette&&this._appendImplicitItems(F),F}_appendImplicitItems(H){const F=new Set;for(const T of H)V(T)&&(F.add(T.command.id),T.alt&&F.add(T.alt.id));this._commands.forEach((T,q)=>{F.has(q)||H.push({command:T})})}};class I extends _.wY{constructor(F,T,q,Y){super(`submenuitem.${F.submenu.id}`,"string"==typeof F.title?F.title:F.title.value,[],"submenu"),this.item=F,this._menuService=T,this._contextKeyService=q,this._options=Y}get actions(){const F=[],T=this._menuService.createMenu(this.item.submenu,this._contextKeyService),q=T.getActions(this._options);T.dispose();for(const[,Y]of q)Y.length>0&&(F.push(...Y),F.push(new _.Z0));return F.length&&F.pop(),F}}let P=class g_{constructor(F,T,q,Y,te){var me,_e;if(this._commandService=te,this.id=F.id,this.label=(null==q?void 0:q.renderShortTitle)&&F.shortTitle?"string"==typeof F.shortTitle?F.shortTitle:F.shortTitle.value:"string"==typeof F.title?F.title:F.title.value,this.tooltip=null!==(_e="string"==typeof F.tooltip?F.tooltip:null===(me=F.tooltip)||void 0===me?void 0:me.value)&&void 0!==_e?_e:"",this.enabled=!F.precondition||Y.contextMatchesRules(F.precondition),this.checked=void 0,F.toggled){const de=F.toggled.condition?F.toggled:{condition:F.toggled};this.checked=Y.contextMatchesRules(de.condition),this.checked&&de.tooltip&&(this.tooltip="string"==typeof de.tooltip?de.tooltip:de.tooltip.value),de.title&&(this.label="string"==typeof de.title?de.title:de.title.value)}this.item=F,this.alt=T?new g_(T,void 0,q,Y,te):void 0,this._options=q,R.kS.isThemeIcon(F.icon)&&(this.class=h.dT.asClassName(F.icon))}dispose(){}run(...F){var T,q;let Y=[];return(null===(T=this._options)||void 0===T?void 0:T.arg)&&(Y=[...Y,this._options.arg]),(null===(q=this._options)||void 0===q?void 0:q.shouldForwardArgs)&&(Y=[...Y,...F]),this._commandService.executeCommand(this.id,...Y)}};P=function(H,F,T,q){var me,Y=arguments.length,te=Y<3?F:null===q?q=Object.getOwnPropertyDescriptor(F,T):q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(H,F,T,q);else for(var _e=H.length-1;_e>=0;_e--)(me=H[_e])&&(te=(Y<3?me(te):Y>3?me(F,T,te):me(F,T))||te);return Y>3&&te&&Object.defineProperty(F,T,te),te}([b(3,B.i6),b(4,$.Hy)],P)},80777:(Ae,xe,L)=>{"use strict";L.d(xe,{p:()=>h});const h=(0,L(64725).yh)("clipboardService")},23884:(Ae,xe,L)=>{"use strict";L.d(xe,{Hy:()=>$,P0:()=>B});var _=L(52787),h=L(67981),ee=L(52425),y=L(38460),v=L(54435);const $=(0,L(64725).yh)("commandService"),B=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new _.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(R,O){if(!R)throw new Error("invalid command");if("string"==typeof R){if(!O)throw new Error("invalid command");return this.registerCommand({id:R,handler:O})}if(R.description){const A=[];for(let P of R.description.args)A.push(P.constraint);const I=R.handler;R.handler=function(P,...H){return(0,v.D8)(H,A),I(P,...H)}}const{id:b}=R;let V=this._commands.get(b);V||(V=new y.S,this._commands.set(b,V));let f=V.unshift(R),N=(0,ee.OF)(()=>{f();const A=this._commands.get(b);(null==A?void 0:A.isEmpty())&&this._commands.delete(b)});return this._onDidRegisterCommand.fire(b),N}registerCommandAlias(R,O){return B.registerCommand(R,(b,...V)=>b.get($).executeCommand(O,...V))}getCommand(R){const O=this._commands.get(R);if(O&&!O.isEmpty())return h.$.first(O)}getCommands(){const R=new Map;for(const O of this._commands.keys()){const b=this.getCommand(O);b&&R.set(O,b)}return R}};B.registerCommand("noop",()=>{})},9869:(Ae,xe,L)=>{"use strict";L.d(xe,{KV:()=>y,Mt:()=>$,Od:()=>ee,Ui:()=>h,xL:()=>v});const h=(0,L(64725).yh)("configurationService");function ee(B,x){const R=Object.create(null);for(let O in B)y(R,O,B[O],x);return R}function y(B,x,R,O){const b=x.split("."),V=b.pop();let f=B;for(let N=0;N<b.length;N++){let A=b[N],I=f[A];switch(typeof I){case"undefined":I=f[A]=Object.create(null);break;case"object":break;default:return void O(`Ignoring ${x} as ${b.slice(0,N+1).join(".")} is ${JSON.stringify(I)}`)}f=I}if("object"==typeof f&&null!==f)try{f[V]=R}catch(N){O(`Ignoring ${x} as ${b.join(".")} is ${JSON.stringify(f)}`)}else O(`Ignoring ${x} as ${b.join(".")} is ${JSON.stringify(f)}`)}function v(B,x){Z(B,x.split("."))}function Z(B,x){const R=x.shift();if(0!==x.length){if(-1!==Object.keys(B).indexOf(R)){const O=B[R];"object"==typeof O&&!Array.isArray(O)&&(Z(O,x),0===Object.keys(O).length&&delete B[R])}}else delete B[R]}function $(B,x,R){const V=function O(f,N){let A=f;for(const I of N){if("object"!=typeof A||null===A)return;A=A[I]}return A}(B,x.split("."));return void 0===V?R:V}},59776:(Ae,xe,L)=>{"use strict";L.d(xe,{Ao:()=>Z,Eq:()=>Ve,Fb:()=>$,K8:()=>ie,i6:()=>Se,uy:()=>de});var _=L(38972),h=L(13088),ee=L(64725);const y=new Map;y.set("false",!1),y.set("true",!0),y.set("isMac",_.dz),y.set("isLinux",_.IJ),y.set("isWindows",_.ED),y.set("isWeb",_.$L),y.set("isMacNative",_.dz&&!_.$L),y.set("isEdge",_.un),y.set("isFirefox",_.vU),y.set("isChrome",_.i7),y.set("isSafari",_.G6);const v=Object.prototype.hasOwnProperty;class Z{static has(w){return O.create(w)}static equals(w,U){return b.create(w,U)}static regex(w,U){return q.create(w,U)}static not(w){return A.create(w)}static and(...w){return me.create(w,null)}static or(...w){return _e.create(w,null,!0)}static deserialize(w,U=!1){if(w)return this._deserializeOrExpression(w,U)}static _deserializeOrExpression(w,U){let D=w.split("||");return _e.create(D.map(z=>this._deserializeAndExpression(z,U)),null,!0)}static _deserializeAndExpression(w,U){let D=w.split("&&");return me.create(D.map(z=>this._deserializeOne(z,U)),null)}static _deserializeOne(w,U){if((w=w.trim()).indexOf("!=")>=0){let D=w.split("!=");return N.create(D[0].trim(),this._deserializeValue(D[1],U))}if(w.indexOf("==")>=0){let D=w.split("==");return b.create(D[0].trim(),this._deserializeValue(D[1],U))}if(w.indexOf("=~")>=0){let D=w.split("=~");return q.create(D[0].trim(),this._deserializeRegexValue(D[1],U))}if(w.indexOf(" in ")>=0){let D=w.split(" in ");return V.create(D[0].trim(),D[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(w)){const D=w.split(">=");return H.create(D[0].trim(),D[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(w)){const D=w.split(">");return P.create(D[0].trim(),D[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(w)){const D=w.split("<=");return T.create(D[0].trim(),D[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(w)){const D=w.split("<");return F.create(D[0].trim(),D[1].trim())}return/^\!\s*/.test(w)?A.create(w.substr(1).trim()):O.create(w)}static _deserializeValue(w,U){if("true"===(w=w.trim()))return!0;if("false"===w)return!1;let D=/^'([^']*)'$/.exec(w);return D?D[1].trim():w}static _deserializeRegexValue(w,U){if((0,h.m5)(w)){if(U)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let D=w.indexOf("/"),z=w.lastIndexOf("/");if(D===z||D<0){if(U)throw new Error(`bad regexp-value '${w}', missing /-enclosure`);return console.warn(`bad regexp-value '${w}', missing /-enclosure`),null}let ae=w.slice(D+1,z),ye="i"===w[z+1]?"i":"";try{return new RegExp(ae,ye)}catch(Ee){if(U)throw new Error(`bad regexp-value '${w}', parse error: ${Ee}`);return console.warn(`bad regexp-value '${w}', parse error: ${Ee}`),null}}}function $(W,w){const U=W?W.substituteConstants():void 0,D=w?w.substituteConstants():void 0;return!U&&!D||!(!U||!D)&&U.equals(D)}function B(W,w){return W.cmp(w)}class x{constructor(){this.type=0}cmp(w){return this.type-w.type}equals(w){return w.type===this.type}substituteConstants(){return this}evaluate(w){return!1}serialize(){return"false"}keys(){return[]}negate(){return R.INSTANCE}}x.INSTANCE=new x;class R{constructor(){this.type=1}cmp(w){return this.type-w.type}equals(w){return w.type===this.type}substituteConstants(){return this}evaluate(w){return!0}serialize(){return"true"}keys(){return[]}negate(){return x.INSTANCE}}R.INSTANCE=new R;class O{constructor(w,U){this.key=w,this.negated=U,this.type=2}static create(w,U=null){const D=y.get(w);return"boolean"==typeof D?D?R.INSTANCE:x.INSTANCE:new O(w,U)}cmp(w){return w.type!==this.type?this.type-w.type:ce(this.key,w.key)}equals(w){return w.type===this.type&&this.key===w.key}substituteConstants(){const w=y.get(this.key);return"boolean"==typeof w?w?R.INSTANCE:x.INSTANCE:this}evaluate(w){return!!w.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=A.create(this.key,this)),this.negated}}class b{constructor(w,U,D){this.key=w,this.value=U,this.negated=D,this.type=4}static create(w,U,D=null){if("boolean"==typeof U)return U?O.create(w,D):A.create(w,D);const z=y.get(w);return"boolean"==typeof z?U===(z?"true":"false")?R.INSTANCE:x.INSTANCE:new b(w,U,D)}cmp(w){return w.type!==this.type?this.type-w.type:K(this.key,this.value,w.key,w.value)}equals(w){return w.type===this.type&&this.key===w.key&&this.value===w.value}substituteConstants(){const w=y.get(this.key);return"boolean"==typeof w?this.value===(w?"true":"false")?R.INSTANCE:x.INSTANCE:this}evaluate(w){return w.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=N.create(this.key,this.value,this)),this.negated}}class V{constructor(w,U){this.key=w,this.valueKey=U,this.type=10,this.negated=null}static create(w,U){return new V(w,U)}cmp(w){return w.type!==this.type?this.type-w.type:K(this.key,this.valueKey,w.key,w.valueKey)}equals(w){return w.type===this.type&&this.key===w.key&&this.valueKey===w.valueKey}substituteConstants(){return this}evaluate(w){const U=w.getValue(this.valueKey),D=w.getValue(this.key);return Array.isArray(U)?U.indexOf(D)>=0:"string"==typeof D&&"object"==typeof U&&null!==U&&v.call(U,D)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=f.create(this)),this.negated}}class f{constructor(w){this._actual=w,this.type=11}static create(w){return new f(w)}cmp(w){return w.type!==this.type?this.type-w.type:this._actual.cmp(w._actual)}equals(w){return w.type===this.type&&this._actual.equals(w._actual)}substituteConstants(){return this}evaluate(w){return!this._actual.evaluate(w)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class N{constructor(w,U,D){this.key=w,this.value=U,this.negated=D,this.type=5}static create(w,U,D=null){if("boolean"==typeof U)return U?A.create(w,D):O.create(w,D);const z=y.get(w);return"boolean"==typeof z?U===(z?"true":"false")?x.INSTANCE:R.INSTANCE:new N(w,U,D)}cmp(w){return w.type!==this.type?this.type-w.type:K(this.key,this.value,w.key,w.value)}equals(w){return w.type===this.type&&this.key===w.key&&this.value===w.value}substituteConstants(){const w=y.get(this.key);return"boolean"==typeof w?this.value===(w?"true":"false")?x.INSTANCE:R.INSTANCE:this}evaluate(w){return w.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=b.create(this.key,this.value,this)),this.negated}}class A{constructor(w,U){this.key=w,this.negated=U,this.type=3}static create(w,U=null){const D=y.get(w);return"boolean"==typeof D?D?x.INSTANCE:R.INSTANCE:new A(w,U)}cmp(w){return w.type!==this.type?this.type-w.type:ce(this.key,w.key)}equals(w){return w.type===this.type&&this.key===w.key}substituteConstants(){const w=y.get(this.key);return"boolean"==typeof w?w?x.INSTANCE:R.INSTANCE:this}evaluate(w){return!w.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=O.create(this.key,this)),this.negated}}function I(W,w){if("string"==typeof W){const U=parseFloat(W);isNaN(U)||(W=U)}return"string"==typeof W||"number"==typeof W?w(W):x.INSTANCE}class P{constructor(w,U,D){this.key=w,this.value=U,this.negated=D,this.type=12}static create(w,U,D=null){return I(U,z=>new P(w,z,D))}cmp(w){return w.type!==this.type?this.type-w.type:K(this.key,this.value,w.key,w.value)}equals(w){return w.type===this.type&&this.key===w.key&&this.value===w.value}substituteConstants(){return this}evaluate(w){return"string"!=typeof this.value&&parseFloat(w.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=T.create(this.key,this.value,this)),this.negated}}class H{constructor(w,U,D){this.key=w,this.value=U,this.negated=D,this.type=13}static create(w,U,D=null){return I(U,z=>new H(w,z,D))}cmp(w){return w.type!==this.type?this.type-w.type:K(this.key,this.value,w.key,w.value)}equals(w){return w.type===this.type&&this.key===w.key&&this.value===w.value}substituteConstants(){return this}evaluate(w){return"string"!=typeof this.value&&parseFloat(w.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=F.create(this.key,this.value,this)),this.negated}}class F{constructor(w,U,D){this.key=w,this.value=U,this.negated=D,this.type=14}static create(w,U,D=null){return I(U,z=>new F(w,z,D))}cmp(w){return w.type!==this.type?this.type-w.type:K(this.key,this.value,w.key,w.value)}equals(w){return w.type===this.type&&this.key===w.key&&this.value===w.value}substituteConstants(){return this}evaluate(w){return"string"!=typeof this.value&&parseFloat(w.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=H.create(this.key,this.value,this)),this.negated}}class T{constructor(w,U,D){this.key=w,this.value=U,this.negated=D,this.type=15}static create(w,U,D=null){return I(U,z=>new T(w,z,D))}cmp(w){return w.type!==this.type?this.type-w.type:K(this.key,this.value,w.key,w.value)}equals(w){return w.type===this.type&&this.key===w.key&&this.value===w.value}substituteConstants(){return this}evaluate(w){return"string"!=typeof this.value&&parseFloat(w.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=P.create(this.key,this.value,this)),this.negated}}class q{constructor(w,U){this.key=w,this.regexp=U,this.type=7,this.negated=null}static create(w,U){return new q(w,U)}cmp(w){if(w.type!==this.type)return this.type-w.type;if(this.key<w.key)return-1;if(this.key>w.key)return 1;const U=this.regexp?this.regexp.source:"",D=w.regexp?w.regexp.source:"";return U<D?-1:U>D?1:0}equals(w){if(w.type===this.type){const U=this.regexp?this.regexp.source:"",D=w.regexp?w.regexp.source:"";return this.key===w.key&&U===D}return!1}substituteConstants(){return this}evaluate(w){let U=w.getValue(this.key);return!!this.regexp&&this.regexp.test(U)}serialize(){return`${this.key} =~ ${this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/"}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Y.create(this)),this.negated}}class Y{constructor(w){this._actual=w,this.type=8}static create(w){return new Y(w)}cmp(w){return w.type!==this.type?this.type-w.type:this._actual.cmp(w._actual)}equals(w){return w.type===this.type&&this._actual.equals(w._actual)}substituteConstants(){return this}evaluate(w){return!this._actual.evaluate(w)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function te(W){let w=null;for(let U=0,D=W.length;U<D;U++){const z=W[U].substituteConstants();if(W[U]!==z&&null===w){w=[];for(let ae=0;ae<U;ae++)w[ae]=W[ae]}null!==w&&(w[U]=z)}return null===w?W:w}class me{constructor(w,U){this.expr=w,this.negated=U,this.type=6}static create(w,U){return me._normalizeArr(w,U)}cmp(w){if(w.type!==this.type)return this.type-w.type;if(this.expr.length<w.expr.length)return-1;if(this.expr.length>w.expr.length)return 1;for(let U=0,D=this.expr.length;U<D;U++){const z=B(this.expr[U],w.expr[U]);if(0!==z)return z}return 0}equals(w){if(w.type===this.type){if(this.expr.length!==w.expr.length)return!1;for(let U=0,D=this.expr.length;U<D;U++)if(!this.expr[U].equals(w.expr[U]))return!1;return!0}return!1}substituteConstants(){const w=te(this.expr);return w===this.expr?this:me.create(w,this.negated)}evaluate(w){for(let U=0,D=this.expr.length;U<D;U++)if(!this.expr[U].evaluate(w))return!1;return!0}static _normalizeArr(w,U){const D=[];let z=!1;for(const ae of w)if(ae){if(1===ae.type){z=!0;continue}if(0===ae.type)return x.INSTANCE;if(6===ae.type){D.push(...ae.expr);continue}D.push(ae)}if(0===D.length&&z)return R.INSTANCE;if(0!==D.length){if(1===D.length)return D[0];D.sort(B);for(let ae=1;ae<D.length;ae++)D[ae-1].equals(D[ae])&&(D.splice(ae,1),ae--);if(1===D.length)return D[0];for(;D.length>1;){const ae=D[D.length-1];if(9!==ae.type)break;D.pop();const ye=D.pop(),Ee=0===D.length,Me=_e.create(ae.expr.map(Ke=>me.create([Ke,ye],null)),null,Ee);Me&&(D.push(Me),D.sort(B))}return 1===D.length?D[0]:new me(D,U)}}serialize(){return this.expr.map(w=>w.serialize()).join(" && ")}keys(){const w=[];for(let U of this.expr)w.push(...U.keys());return w}negate(){if(!this.negated){const w=[];for(let U of this.expr)w.push(U.negate());this.negated=_e.create(w,this,!0)}return this.negated}}class _e{constructor(w,U){this.expr=w,this.negated=U,this.type=9}static create(w,U,D){return _e._normalizeArr(w,U,D)}cmp(w){if(w.type!==this.type)return this.type-w.type;if(this.expr.length<w.expr.length)return-1;if(this.expr.length>w.expr.length)return 1;for(let U=0,D=this.expr.length;U<D;U++){const z=B(this.expr[U],w.expr[U]);if(0!==z)return z}return 0}equals(w){if(w.type===this.type){if(this.expr.length!==w.expr.length)return!1;for(let U=0,D=this.expr.length;U<D;U++)if(!this.expr[U].equals(w.expr[U]))return!1;return!0}return!1}substituteConstants(){const w=te(this.expr);return w===this.expr?this:_e.create(w,this.negated,!1)}evaluate(w){for(let U=0,D=this.expr.length;U<D;U++)if(this.expr[U].evaluate(w))return!0;return!1}static _normalizeArr(w,U,D){let z=[],ae=!1;if(w){for(let ye=0,Ee=w.length;ye<Ee;ye++){const Me=w[ye];if(Me){if(0===Me.type){ae=!0;continue}if(1===Me.type)return R.INSTANCE;if(9===Me.type){z=z.concat(Me.expr);continue}z.push(Me)}}if(0===z.length&&ae)return x.INSTANCE;z.sort(B)}if(0!==z.length){if(1===z.length)return z[0];for(let ye=1;ye<z.length;ye++)z[ye-1].equals(z[ye])&&(z.splice(ye,1),ye--);if(1===z.length)return z[0];if(D){for(let ye=0;ye<z.length;ye++)for(let Ee=ye+1;Ee<z.length;Ee++)ie(z[ye],z[Ee])&&(z.splice(Ee,1),Ee--);if(1===z.length)return z[0]}return new _e(z,U)}}serialize(){return this.expr.map(w=>w.serialize()).join(" || ")}keys(){const w=[];for(let U of this.expr)w.push(...U.keys());return w}negate(){if(!this.negated){let w=[];for(let U of this.expr)w.push(U.negate());for(;w.length>1;){const U=w.shift(),D=w.shift(),z=[];for(const ye of oe(U))for(const Ee of oe(D))z.push(me.create([ye,Ee],null));w.unshift(_e.create(z,null,0===w.length))}this.negated=w[0]}return this.negated}}let de=(()=>{class W extends O{constructor(U,D,z){super(U,null),this._defaultValue=D,"object"==typeof z?W._info.push(Object.assign(Object.assign({},z),{key:U})):!0!==z&&W._info.push({key:U,description:z,type:null!=D?typeof D:void 0})}static all(){return W._info.values()}bindTo(U){return U.createKey(this.key,this._defaultValue)}getValue(U){return U.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(U){return b.create(this.key,U)}}return W._info=[],W})();const Se=(0,ee.yh)("contextKeyService"),Ve="setContext";function ce(W,w){return W<w?-1:W>w?1:0}function K(W,w,U,D){return W<U?-1:W>U?1:w<D?-1:w>D?1:0}function ie(W,w){if(6===w.type&&9!==W.type&&6!==W.type)for(const z of w.expr)if(W.equals(z))return!0;const D=oe(W.negate()).concat(oe(w));D.sort(B);for(let z=0;z<D.length;z++){const ye=D[z].negate();for(let Ee=z+1;Ee<D.length;Ee++)if(ye.equals(D[Ee]))return!0}return!1}function oe(W){return 9===W.type?W.expr:[W]}},34394:(Ae,xe,L)=>{"use strict";L.d(xe,{i:()=>ee,u:()=>h});var _=L(64725);const h=(0,_.yh)("contextViewService"),ee=(0,_.yh)("contextMenuService")},99524:(Ae,xe,L)=>{"use strict";L.d(xe,{M:()=>_});class _{constructor(ee,y=[],v=!1){this.ctor=ee,this.staticArguments=y,this.supportsDelayedInstantiation=v}}},18790:(Ae,xe,L)=>{"use strict";L.d(xe,{d:()=>y,z:()=>ee});var _=L(99524);const h=[];function ee(v,Z,$){Z instanceof _.M||(Z=new _.M(Z,[],$)),h.push([v,Z])}function y(){return h}},64725:(Ae,xe,L)=>{"use strict";var _,v;L.d(xe,{I8:()=>_,TG:()=>h,yh:()=>y}),(v=_||(_={})).serviceIds=new Map,v.DI_TARGET="$di$target",v.DI_DEPENDENCIES="$di$dependencies",v.getServiceDependencies=function Z($){return $[v.DI_DEPENDENCIES]||[]};const h=y("instantiationService");function ee(v,Z,$,B){Z[_.DI_TARGET]===Z?Z[_.DI_DEPENDENCIES].push({id:v,index:$,optional:B}):(Z[_.DI_DEPENDENCIES]=[{id:v,index:$,optional:B}],Z[_.DI_TARGET]=Z)}function y(v){if(_.serviceIds.has(v))return _.serviceIds.get(v);const Z=function($,B,x){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");ee(Z,$,x,!1)};return Z.toString=()=>v,_.serviceIds.set(v,Z),Z}},83350:(Ae,xe,L)=>{"use strict";L.d(xe,{I:()=>ee});var _=L(52787),h=L(29537);const ee={JSONContribution:"base.contributions.json"},Z=new class v{constructor(){this._onDidChangeSchema=new _.Q5,this.schemasById={}}registerSchema(B,x){this.schemasById[function y($){return $.length>0&&"#"===$.charAt($.length-1)?$.substring(0,$.length-1):$}(B)]=x,this._onDidChangeSchema.fire(B)}notifySchemaChanged(B){this._onDidChangeSchema.fire(B)}};h.B.add(ee.JSONContribution,Z)},77090:(Ae,xe,L)=>{"use strict";L.d(xe,{d:()=>h});const h=(0,L(64725).yh)("keybindingService")},7550:(Ae,xe,L)=>{"use strict";L.d(xe,{W:()=>Z});var _=L(5016),h=L(38972),ee=L(23884),y=L(29537);class v{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(R){if(1===h.OS){if(R&&R.win)return R.win}else if(2===h.OS){if(R&&R.mac)return R.mac}else if(R&&R.linux)return R.linux;return R}registerKeybindingRule(R){const O=v.bindToCurrentPlatform(R);if(O&&O.primary){const b=(0,_.gm)(O.primary,h.OS);b&&this._registerDefaultKeybinding(b,R.id,R.args,R.weight,0,R.when)}if(O&&Array.isArray(O.secondary))for(let b=0,V=O.secondary.length;b<V;b++){const N=(0,_.gm)(O.secondary[b],h.OS);N&&this._registerDefaultKeybinding(N,R.id,R.args,R.weight,-b-1,R.when)}}registerCommandAndKeybindingRule(R){this.registerKeybindingRule(R),ee.P0.registerCommand(R)}static _mightProduceChar(R){return R>=21&&R<=30||R>=31&&R<=56||80===R||81===R||82===R||83===R||84===R||85===R||86===R||110===R||111===R||87===R||88===R||89===R||90===R||91===R||92===R}_assertNoCtrlAlt(R,O){R.ctrlKey&&R.altKey&&!R.metaKey&&v._mightProduceChar(R.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",R," for ",O)}_registerDefaultKeybinding(R,O,b,V,f,N){1===h.OS&&this._assertNoCtrlAlt(R.parts[0],O),this._coreKeybindings.push({keybinding:R.parts,command:O,commandArgs:b,when:N,weight1:V,weight2:f,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(B)),this._cachedMergedKeybindings.slice(0)}}const Z=new v;function B(x,R){return x.weight1!==R.weight1?x.weight1-R.weight1:x.command<R.command?-1:x.command>R.command?1:x.weight2-R.weight2}y.B.add("platform.keybindingsRegistry",Z)},42241:(Ae,xe,L)=>{"use strict";L.d(xe,{$V:()=>x,VZ:()=>y,in:()=>v,kw:()=>B});var _=L(52787),h=L(52425);const y=(0,L(64725).yh)("logService");var v=(()=>{return(R=v||(v={}))[R.Trace=0]="Trace",R[R.Debug=1]="Debug",R[R.Info=2]="Info",R[R.Warning=3]="Warning",R[R.Error=4]="Error",R[R.Critical=5]="Critical",R[R.Off=6]="Off",v;var R})();const Z=v.Info;class $ extends h.JT{constructor(){super(...arguments),this.level=Z,this._onDidChangeLogLevel=this._register(new _.Q5)}setLevel(O){this.level!==O&&(this.level=O,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class B extends ${constructor(O=Z){super(),this.setLevel(O)}trace(O,...b){this.getLevel()<=v.Trace&&console.log("%cTRACE","color: #888",O,...b)}debug(O,...b){this.getLevel()<=v.Debug&&console.log("%cDEBUG","background: #eee; color: #888",O,...b)}info(O,...b){this.getLevel()<=v.Info&&console.log("%c INFO","color: #33f",O,...b)}error(O,...b){this.getLevel()<=v.Error&&console.log("%c  ERR","color: #f33",O,...b)}dispose(){}}class x extends h.JT{constructor(O){super(),this.logger=O,this._register(O)}getLevel(){return this.logger.getLevel()}trace(O,...b){this.logger.trace(O,...b)}debug(O,...b){this.logger.debug(O,...b)}info(O,...b){this.logger.info(O,...b)}error(O,...b){this.logger.error(O,...b)}}},78782:(Ae,xe,L)=>{"use strict";L.d(xe,{EO:()=>v,lT:()=>y}),L(63570);const y=(0,L(64725).yh)("notificationService");class v{}},29537:(Ae,xe,L)=>{"use strict";L.d(xe,{B:()=>y});var _=L(48797),h=L(54435);const y=new class ee{constructor(){this.data=new Map}add(Z,$){_.ok(h.HD(Z)),_.ok(h.Kn($)),_.ok(!this.data.has(Z),"There is already an extension with this id"),this.data.set(Z,$)}as(Z){return this.data.get(Z)||null}}},99571:(Ae,xe,L)=>{"use strict";L.d(xe,{Uy:()=>O,vm:()=>f});var _=L(52787),h=L(52425),ee=L(54435),y=L(63072),v=function(N,A,I,P){return new(I||(I=Promise))(function(F,T){function q(me){try{te(P.next(me))}catch(_e){T(_e)}}function Y(me){try{te(P.throw(me))}catch(_e){T(_e)}}function te(me){me.done?F(me.value):function H(F){return F instanceof I?F:new I(function(T){T(F)})}(me.value).then(q,Y)}te((P=P.apply(N,A||[])).next())})},Z=(()=>{return(N=Z||(Z={}))[N.None=0]="None",N[N.Initialized=1]="Initialized",N[N.Closed=2]="Closed",Z;var N})();let $=(()=>{class N extends h.JT{constructor(I,P=Object.create(null)){super(),this.database=I,this.options=P,this._onDidChangeStorage=this._register(new _.Q5),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=Z.None,this.cache=new Map,this.flushDelayer=new y.rH(N.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(I=>this.onDidChangeItemsExternal(I)))}onDidChangeItemsExternal(I){var P,H;null===(P=I.changed)||void 0===P||P.forEach((F,T)=>this.accept(T,F)),null===(H=I.deleted)||void 0===H||H.forEach(F=>this.accept(F,void 0))}accept(I,P){if(this.state===Z.Closed)return;let H=!1;(0,ee.Jp)(P)?H=this.cache.delete(I):this.cache.get(I)!==P&&(this.cache.set(I,P),H=!0),H&&this._onDidChangeStorage.fire(I)}get(I,P){const H=this.cache.get(I);return(0,ee.Jp)(H)?P:H}getBoolean(I,P){const H=this.get(I);return(0,ee.Jp)(H)?P:"true"===H}getNumber(I,P){const H=this.get(I);return(0,ee.Jp)(H)?P:parseInt(H,10)}set(I,P){return v(this,void 0,void 0,function*(){if(this.state===Z.Closed)return;if((0,ee.Jp)(P))return this.delete(I);const H=String(P);return this.cache.get(I)!==H?(this.cache.set(I,H),this.pendingInserts.set(I,H),this.pendingDeletes.delete(I),this._onDidChangeStorage.fire(I),this.doFlush()):void 0})}delete(I){return v(this,void 0,void 0,function*(){if(this.state!==Z.Closed&&this.cache.delete(I))return this.pendingDeletes.has(I)||this.pendingDeletes.add(I),this.pendingInserts.delete(I),this._onDidChangeStorage.fire(I),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return v(this,void 0,void 0,function*(){if(!this.hasPending)return;const I={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(I).finally(()=>{var P;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)null===(P=this.whenFlushedCallbacks.pop())||void 0===P||P()})})}doFlush(I){return v(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),I)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}return N.DEFAULT_FLUSH_DELAY=100,N})();class B{constructor(){this.onDidChangeItemsExternal=_.ju.None,this.items=new Map}updateItems(A){return v(this,void 0,void 0,function*(){A.insert&&A.insert.forEach((I,P)=>this.items.set(P,I)),A.delete&&A.delete.forEach(I=>this.items.delete(I))})}}var x=L(64725);const R="__$__targetStorageMarker",O=(0,x.yh)("storageService");let V=(()=>{class N extends h.JT{constructor(I={flushInterval:N.DEFAULT_FLUSH_INTERVAL}){super(),this.options=I,this._onDidChangeValue=this._register(new _.K3),this._onDidChangeTarget=this._register(new _.K3),this._onWillSaveState=this._register(new _.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(I,P){P===R?(0===I?this._globalKeyTargets=void 0:1===I&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:I})):this._onDidChangeValue.fire({scope:I,key:P,target:this.getKeyTargets(I)[P]})}get(I,P,H){var F;return null===(F=this.getStorage(P))||void 0===F?void 0:F.get(I,H)}getBoolean(I,P,H){var F;return null===(F=this.getStorage(P))||void 0===F?void 0:F.getBoolean(I,H)}getNumber(I,P,H){var F;return null===(F=this.getStorage(P))||void 0===F?void 0:F.getNumber(I,H)}store(I,P,H,F){(0,ee.Jp)(P)?this.remove(I,H):this.withPausedEmitters(()=>{var T;this.updateKeyTarget(I,H,F),null===(T=this.getStorage(H))||void 0===T||T.set(I,P)})}remove(I,P){this.withPausedEmitters(()=>{var H;this.updateKeyTarget(I,P,void 0),null===(H=this.getStorage(P))||void 0===H||H.delete(I)})}withPausedEmitters(I){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{I()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(I,P,H){var F,T;const q=this.getKeyTargets(P);"number"==typeof H?q[I]!==H&&(q[I]=H,null===(F=this.getStorage(P))||void 0===F||F.set(R,JSON.stringify(q))):"number"==typeof q[I]&&(delete q[I],null===(T=this.getStorage(P))||void 0===T||T.set(R,JSON.stringify(q)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(I){return 0===I?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(I){const P=this.get(R,I);if(P)try{return JSON.parse(P)}catch(H){}return Object.create(null)}}return N.DEFAULT_FLUSH_INTERVAL=6e4,N})();class f extends V{constructor(){super(),this.globalStorage=this._register(new $(new B)),this.workspaceStorage=this._register(new $(new B)),this._register(this.workspaceStorage.onDidChangeStorage(A=>this.emitDidChangeValue(1,A))),this._register(this.globalStorage.onDidChangeStorage(A=>this.emitDidChangeValue(0,A)))}getStorage(A){return 0===A?this.globalStorage:this.workspaceStorage}}},19881:(Ae,xe,L)=>{"use strict";L.d(xe,{b:()=>h});const h=(0,L(64725).yh)("telemetryService")},28708:(Ae,xe,L)=>{"use strict";L.d(xe,{$DX:()=>Cs,$d5:()=>mo,ABB:()=>Je,AS1:()=>ji,AWI:()=>Si,C3g:()=>Me,CA6:()=>E,Cdg:()=>tn,CzK:()=>ut,D0T:()=>bi,D1_:()=>Re,DEr:()=>Qo,Dut:()=>ri,E3h:()=>Bn,EPQ:()=>ae,EQn:()=>ft,ES4:()=>js,EiJ:()=>Un,F3d:()=>Mo,Fm_:()=>Vn,GO4:()=>Ot,Gj_:()=>re,Hfx:()=>un,Hz8:()=>kr,IPX:()=>x,Ido:()=>f,Itd:()=>p,Ivo:()=>c,K19:()=>Jt,LLc:()=>_s,L_H:()=>ii,L_t:()=>vn,M6C:()=>Dn,MUv:()=>On,NOs:()=>rt,NPS:()=>Zt,Ng6:()=>Oe,OZR:()=>ht,Oop:()=>An,P4M:()=>dt,P6G:()=>b,PRb:()=>ie,Pvw:()=>w,QO2:()=>B,R80:()=>I,RV_:()=>ye,Rzx:()=>ks,SUG:()=>Ee,SUY:()=>wo,Saq:()=>be,Snq:()=>Ft,T83:()=>Mi,Tnx:()=>rn,UnT:()=>lt,Vqd:()=>Fi,XEs:()=>W,XL$:()=>Bi,Xy4:()=>k,YI3:()=>z,ZGJ:()=>Qn,_2n:()=>Rs,_bK:()=>wn,_lC:()=>D,_t9:()=>tt,_wn:()=>De,b6y:()=>Li,b7$:()=>oi,brw:()=>G,c63:()=>Be,cbQ:()=>jt,cvW:()=>Xt,dCr:()=>vi,dt_:()=>K,etL:()=>Ge,fEB:()=>Xe,few:()=>fi,g8u:()=>Dt,gkn:()=>jn,gpD:()=>Ii,hEj:()=>fn,j5u:()=>yi,jUe:()=>Tt,jbW:()=>po,kJk:()=>gi,kVY:()=>g,keg:()=>Ei,kvU:()=>Sn,lRK:()=>P,lUq:()=>$s,lWp:()=>zt,lXJ:()=>mi,loF:()=>Ht,mHy:()=>go,mV1:()=>Pn,nyM:()=>Ts,oQ$:()=>ei,oSI:()=>he,opG:()=>_i,ov3:()=>er,pW3:()=>pi,paE:()=>Ke,pnM:()=>ms,qeD:()=>Gt,rg2:()=>Os,rh:()=>Se,s$:()=>Ti,sEe:()=>Ve,tZ6:()=>Lt,uoC:()=>Ue,uxu:()=>It,vGG:()=>se,xL1:()=>H,yb5:()=>Ds,ynu:()=>gt,ypS:()=>ze,ytC:()=>en,zJb:()=>ce,zKr:()=>st,zRJ:()=>Pt});var _=L(63072),h=L(68927),ee=L(52787),y=L(54435),v=L(40402),Z=L(83350),$=L(29537);function B(Wt){return`--vscode-${Wt.replace(".","-")}`}const x={ColorContribution:"base.contributions.colors"},O=new class R{constructor(){this._onDidChangeSchema=new ee.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(ni,Di,Wi,gn=!1,nn){this.colorsById[ni]={id:ni,description:Wi,defaults:Di,needsTransparency:gn,deprecationMessage:nn};let wl={type:"string",description:Wi,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return nn&&(wl.deprecationMessage=nn),this.colorSchema.properties[ni]=wl,this.colorReferenceSchema.enum.push(ni),this.colorReferenceSchema.enumDescriptions.push(Wi),this._onDidChangeSchema.fire(),ni}getColors(){return Object.keys(this.colorsById).map(ni=>this.colorsById[ni])}resolveDefaultColor(ni,Di){const Wi=this.colorsById[ni];if(Wi&&Wi.defaults)return Ft(Wi.defaults[Di.type],Di)}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort((Di,Wi)=>{let gn=-1===Di.indexOf(".")?0:1,nn=-1===Wi.indexOf(".")?0:1;return gn!==nn?gn-nn:Di.localeCompare(Wi)}).map(Di=>`- \`${Di}\`: ${this.colorsById[Di].description}`).join("\n")}};function b(Wt,ni,Di,Wi,gn){return O.registerColor(Wt,ni,Di,Wi,gn)}$.B.add(x.ColorContribution,O);const V=b("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},v.N("foreground","Overall foreground color. This color is only used if not overridden by a component.")),f=b("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},v.N("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),I=(b("descriptionForeground",{light:"#717171",dark:vt(V,.7),hc:vt(V,.7)},v.N("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),b("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},v.N("iconForeground","The default color for icons in the workbench.")),b("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},v.N("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component."))),P=b("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},v.N("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),H=b("contrastActiveBorder",{light:null,dark:null,hc:I},v.N("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),Se=(b("selection.background",{light:null,dark:null,hc:null},v.N("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),b("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hc:h.Il.black},v.N("textSeparatorForeground","Color for text separators.")),b("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},v.N("textLinkForeground","Foreground color for links in text.")),b("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},v.N("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),b("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hc:"#D7BA7D"},v.N("textPreformatForeground","Foreground color for preformatted text segments.")),b("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hc:null},v.N("textBlockQuoteBackground","Background color for block quotes in text.")),b("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hc:h.Il.white},v.N("textBlockQuoteBorder","Border color for block quotes in text.")),b("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:h.Il.black},v.N("textCodeBlockBackground","Background color for code blocks in text.")),b("widget.shadow",{dark:vt(h.Il.black,.36),light:vt(h.Il.black,.16),hc:null},v.N("widgetShadow","Shadow color of widgets such as find/replace inside the editor."))),Ve=b("input.background",{dark:"#3C3C3C",light:h.Il.white,hc:h.Il.black},v.N("inputBoxBackground","Input box background.")),ce=b("input.foreground",{dark:V,light:V,hc:V},v.N("inputBoxForeground","Input box foreground.")),K=b("input.border",{dark:null,light:null,hc:P},v.N("inputBoxBorder","Input box border.")),ie=b("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:P},v.N("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),W=(b("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hc:null},v.N("inputOption.hoverBackground","Background color of activated options in input fields.")),b("inputOption.activeBackground",{dark:vt(I,.4),light:vt(I,.2),hc:h.Il.transparent},v.N("inputOption.activeBackground","Background hover color of options in input fields."))),w=b("inputOption.activeForeground",{dark:h.Il.white,light:h.Il.black,hc:null},v.N("inputOption.activeForeground","Foreground color of activated options in input fields.")),D=(b("input.placeholderForeground",{light:vt(V,.5),dark:vt(V,.5),hc:vt(V,.7)},v.N("inputPlaceholderForeground","Input box foreground color for placeholder text.")),b("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:h.Il.black},v.N("inputValidationInfoBackground","Input validation background color for information severity."))),z=b("inputValidation.infoForeground",{dark:null,light:null,hc:null},v.N("inputValidationInfoForeground","Input validation foreground color for information severity.")),ae=b("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:P},v.N("inputValidationInfoBorder","Input validation border color for information severity.")),ye=b("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:h.Il.black},v.N("inputValidationWarningBackground","Input validation background color for warning severity.")),Ee=b("inputValidation.warningForeground",{dark:null,light:null,hc:null},v.N("inputValidationWarningForeground","Input validation foreground color for warning severity.")),Me=b("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:P},v.N("inputValidationWarningBorder","Input validation border color for warning severity.")),Ke=b("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:h.Il.black},v.N("inputValidationErrorBackground","Input validation background color for error severity.")),tt=b("inputValidation.errorForeground",{dark:null,light:null,hc:null},v.N("inputValidationErrorForeground","Input validation foreground color for error severity.")),ht=b("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:P},v.N("inputValidationErrorBorder","Input validation border color for error severity.")),bt=b("dropdown.background",{dark:"#3C3C3C",light:h.Il.white,hc:h.Il.black},v.N("dropdownBackground","Dropdown background.")),yt=(b("dropdown.listBackground",{dark:null,light:null,hc:h.Il.black},v.N("dropdownListBackground","Dropdown list background.")),b("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:h.Il.white},v.N("dropdownForeground","Dropdown foreground."))),_t=b("dropdown.border",{dark:bt,light:"#CECECE",hc:P},v.N("dropdownBorder","Dropdown border.")),yi=(b("checkbox.background",{dark:bt,light:bt,hc:bt},v.N("checkbox.background","Background color of checkbox widget.")),b("checkbox.foreground",{dark:yt,light:yt,hc:yt},v.N("checkbox.foreground","Foreground color of checkbox widget.")),b("checkbox.border",{dark:_t,light:_t,hc:_t},v.N("checkbox.border","Border color of checkbox widget.")),b("button.foreground",{dark:h.Il.white,light:h.Il.white,hc:h.Il.white},v.N("buttonForeground","Button foreground color."))),oi=b("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},v.N("buttonBackground","Button background color.")),Ot=b("button.hoverBackground",{dark:ti(oi,.2),light:At(oi,.2),hc:null},v.N("buttonHoverBackground","Button background color when hovering.")),ct=(b("button.border",{dark:P,light:P,hc:P},v.N("buttonBorder","Button border color.")),b("button.secondaryForeground",{dark:h.Il.white,light:h.Il.white,hc:h.Il.white},v.N("buttonSecondaryForeground","Secondary button foreground color.")),b("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hc:null},v.N("buttonSecondaryBackground","Secondary button background color."))),Dt=(b("button.secondaryHoverBackground",{dark:ti(ct,.2),light:At(ct,.2),hc:null},v.N("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),b("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:h.Il.black},v.N("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count."))),Gt=b("badge.foreground",{dark:h.Il.white,light:"#333",hc:h.Il.white},v.N("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),De=b("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},v.N("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Ge=b("scrollbarSlider.background",{dark:h.Il.fromHex("#797979").transparent(.4),light:h.Il.fromHex("#646464").transparent(.4),hc:vt(P,.6)},v.N("scrollbarSliderBackground","Scrollbar slider background color.")),Je=b("scrollbarSlider.hoverBackground",{dark:h.Il.fromHex("#646464").transparent(.7),light:h.Il.fromHex("#646464").transparent(.7),hc:vt(P,.8)},v.N("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),gt=b("scrollbarSlider.activeBackground",{dark:h.Il.fromHex("#BFBFBF").transparent(.4),light:h.Il.fromHex("#000000").transparent(.6),hc:P},v.N("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Pt=b("progressBar.background",{dark:h.Il.fromHex("#0E70C0"),light:h.Il.fromHex("#0E70C0"),hc:P},v.N("progressBarBackground","Background color of the progress bar that can show for long running operations.")),ii=b("editorError.background",{dark:null,light:null,hc:null},v.N("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),mi=b("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},v.N("editorError.foreground","Foreground color of error squigglies in the editor.")),Li=b("editorError.border",{dark:null,light:null,hc:h.Il.fromHex("#E47777").transparent(.8)},v.N("errorBorder","Border color of error boxes in the editor.")),Ii=b("editorWarning.background",{dark:null,light:null,hc:null},v.N("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Ue=b("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},v.N("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),pi=b("editorWarning.border",{dark:null,light:null,hc:h.Il.fromHex("#FFCC00").transparent(.8)},v.N("warningBorder","Border color of warning boxes in the editor.")),fi=b("editorInfo.background",{dark:null,light:null,hc:null},v.N("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Be=b("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},v.N("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Mi=b("editorInfo.border",{dark:null,light:null,hc:h.Il.fromHex("#3794FF").transparent(.8)},v.N("infoBorder","Border color of info boxes in the editor.")),ri=b("editorHint.foreground",{dark:h.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},v.N("editorHint.foreground","Foreground color of hint squigglies in the editor.")),Xe=b("editorHint.border",{dark:null,light:null,hc:h.Il.fromHex("#eeeeee").transparent(.8)},v.N("hintBorder","Border color of hint boxes in the editor.")),Xt=(b("sash.hoverBorder",{dark:I,light:I,hc:I},v.N("sashActiveBorder","Border color of active sashes.")),b("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:h.Il.black},v.N("editorBackground","Editor background color."))),rt=b("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:h.Il.white},v.N("editorForeground","Editor default foreground color.")),bi=b("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},v.N("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),un=b("editorWidget.foreground",{dark:V,light:V,hc:V},v.N("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),Re=b("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:P},v.N("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),Oe=b("editorWidget.resizeBorder",{light:null,dark:null,hc:null},v.N("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),st=b("quickInput.background",{dark:bi,light:bi,hc:bi},v.N("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),Lt=b("quickInput.foreground",{dark:un,light:un,hc:un},v.N("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Ht=b("quickInputTitle.background",{dark:new h.Il(new h.VS(255,255,255,.105)),light:new h.Il(new h.VS(0,0,0,.06)),hc:"#000000"},v.N("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),gi=b("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:h.Il.white},v.N("pickerGroupForeground","Quick picker color for grouping labels.")),_i=b("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:h.Il.white},v.N("pickerGroupBorder","Quick picker color for grouping borders.")),ei=b("keybindingLabel.background",{dark:new h.Il(new h.VS(128,128,128,.17)),light:new h.Il(new h.VS(221,221,221,.4)),hc:h.Il.transparent},v.N("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),zt=b("keybindingLabel.foreground",{dark:h.Il.fromHex("#CCCCCC"),light:h.Il.fromHex("#555555"),hc:h.Il.white},v.N("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Si=b("keybindingLabel.border",{dark:new h.Il(new h.VS(51,51,51,.6)),light:new h.Il(new h.VS(204,204,204,.4)),hc:new h.Il(new h.VS(111,195,223))},v.N("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),Jt=b("keybindingLabel.bottomBorder",{dark:new h.Il(new h.VS(68,68,68,.6)),light:new h.Il(new h.VS(187,187,187,.4)),hc:new h.Il(new h.VS(111,195,223))},v.N("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),fn=b("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},v.N("editorSelectionBackground","Color of the editor selection.")),Ds=b("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},v.N("editorSelectionForeground","Color of the selected text for high contrast.")),js=b("editor.inactiveSelectionBackground",{light:vt(fn,.5),dark:vt(fn,.5),hc:vt(fn,.5)},v.N("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),ks=b("editor.selectionHighlightBackground",{light:So(fn,Xt,.3,.6),dark:So(fn,Xt,.3,.6),hc:null},v.N("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),Ts=(b("editor.selectionHighlightBorder",{light:null,dark:null,hc:H},v.N("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),b("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},v.N("editorFindMatch","Color of the current search match."))),On=b("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},v.N("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Tt=b("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},v.N("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),ms=b("editor.findMatchBorder",{light:null,dark:null,hc:H},v.N("editorFindMatchBorder","Border color of the current search match.")),Un=b("editor.findMatchHighlightBorder",{light:null,dark:null,hc:H},v.N("findMatchHighlightBorder","Border color of the other search matches.")),jn=b("editor.findRangeHighlightBorder",{dark:null,light:null,hc:vt(H,.4)},v.N("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),ps=(b("searchEditor.findMatchBackground",{light:vt(On,.66),dark:vt(On,.66),hc:On},v.N("searchEditor.queryMatch","Color of the Search Editor query matches.")),b("searchEditor.findMatchBorder",{light:vt(Un,.66),dark:vt(Un,.66),hc:Un},v.N("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),b("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},v.N("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),b("editorHoverWidget.background",{light:bi,dark:bi,hc:bi},v.N("hoverBackground","Background color of the editor hover."))),Kn=(b("editorHoverWidget.foreground",{light:un,dark:un,hc:un},v.N("hoverForeground","Foreground color of the editor hover.")),b("editorHoverWidget.border",{light:Re,dark:Re,hc:Re},v.N("hoverBorder","Border color of the editor hover.")),b("editorHoverWidget.statusBarBackground",{dark:ti(ps,.2),light:At(ps,.05),hc:bi},v.N("statusBarBackground","Background color of the editor hover status bar.")),b("editorLink.activeForeground",{dark:"#4E94CE",light:h.Il.blue,hc:h.Il.cyan},v.N("activeLinkForeground","Color of active links.")),b("editorInlayHint.foreground",{dark:vt(Gt,.8),light:vt(Gt,.8),hc:Gt},v.N("editorInlayHintForeground","Foreground color of inline hints"))),Nn=b("editorInlayHint.background",{dark:vt(Dt,.6),light:vt(Dt,.3),hc:Dt},v.N("editorInlayHintBackground","Background color of inline hints")),ut=(b("editorInlayHint.typeForeground",{dark:Kn,light:Kn,hc:Kn},v.N("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),b("editorInlayHint.typeBackground",{dark:Nn,light:Nn,hc:Nn},v.N("editorInlayHintBackgroundTypes","Background color of inline hints for types")),b("editorInlayHint.parameterForeground",{dark:Kn,light:Kn,hc:Kn},v.N("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),b("editorInlayHint.parameterBackground",{dark:Nn,light:Nn,hc:Nn},v.N("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),b("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},v.N("editorLightBulbForeground","The color used for the lightbulb actions icon.")),b("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},v.N("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),new h.Il(new h.VS(155,185,85,.2))),Ei=new h.Il(new h.VS(255,0,0,.2)),ze=b("diffEditor.insertedTextBackground",{dark:ut,light:ut,hc:null},v.N("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),dt=b("diffEditor.removedTextBackground",{dark:Ei,light:Ei,hc:null},v.N("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Bi=b("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},v.N("diffEditorInsertedOutline","Outline color for the text that got inserted.")),go=b("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},v.N("diffEditorRemovedOutline","Outline color for text that got removed.")),_s=b("diffEditor.border",{dark:null,light:null,hc:P},v.N("diffEditorBorder","Border color between the two text editors.")),vn=b("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},v.N("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),wn=b("list.focusBackground",{dark:null,light:null,hc:null},v.N("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Rs=b("list.focusForeground",{dark:null,light:null,hc:null},v.N("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),An=b("list.focusOutline",{dark:I,light:I,hc:H},v.N("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),vi=b("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},v.N("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Dn=b("list.activeSelectionForeground",{dark:h.Il.white,light:h.Il.white,hc:null},v.N("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),rn=b("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},v.N("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Os=b("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},v.N("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),en=b("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},v.N("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Sn=b("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},v.N("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ti=b("list.inactiveFocusBackground",{dark:null,light:null,hc:null},v.N("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Mo=b("list.inactiveFocusOutline",{dark:null,light:null,hc:null},v.N("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Pn=b("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},v.N("listHoverBackground","List/Tree background when hovering over items using the mouse.")),mo=b("list.hoverForeground",{dark:null,light:null,hc:null},v.N("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),ji=b("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},v.N("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Ri=b("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:I},v.N("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),se=(b("list.focusHighlightForeground",{dark:Ri,light:function Yi(Wt,ni,Di){return{op:5,if:Wt,then:ni,else:Di}}(vi,Ri,"#9DDDFF"),hc:Ri},v.N("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),b("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hc:"#B89500"},v.N("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),b("list.errorForeground",{dark:"#F88070",light:"#B01011",hc:null},v.N("listErrorForeground","Foreground color of list items containing errors.")),b("list.warningForeground",{dark:"#CCA700",light:"#855F00",hc:null},v.N("listWarningForeground","Foreground color of list items containing warnings.")),b("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:h.Il.black},v.N("listFilterWidgetBackground","Background color of the type filter widget in lists and trees."))),he=b("listFilterWidget.outline",{dark:h.Il.transparent,light:h.Il.transparent,hc:"#f38518"},v.N("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),be=b("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:P},v.N("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),lt=(b("list.filterMatchBackground",{dark:On,light:On,hc:null},v.N("listFilterMatchHighlight","Background color of the filtered match.")),b("list.filterMatchBorder",{dark:Un,light:Un,hc:P},v.N("listFilterMatchHighlightBorder","Border color of the filtered match.")),b("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},v.N("treeIndentGuidesStroke","Tree stroke color for the indentation guides."))),It=b("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},v.N("tableColumnsBorder","Table border color between columns.")),ft=b("tree.tableOddRowsBackground",{dark:vt(V,.04),light:vt(V,.04),hc:null},v.N("tableOddRowsBackgroundColor","Background color for odd table rows.")),xt=(b("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hc:"#A7A8A9"},v.N("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),b("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,v.N("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead"))),Zt=b("quickInputList.focusForeground",{dark:Dn,light:Dn,hc:Dn},v.N("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),jt=b("quickInputList.focusIconForeground",{dark:rn,light:rn,hc:rn},v.N("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),Fi=b("quickInputList.focusBackground",{dark:qi(xt,vi),light:qi(xt,vi),hc:null},v.N("quickInput.listFocusBackground","Quick picker background color for the focused item.")),tn=b("menu.border",{dark:null,light:null,hc:P},v.N("menuBorder","Border color of menus.")),Qo=b("menu.foreground",{dark:yt,light:V,hc:yt},v.N("menuForeground","Foreground color of menu items.")),kr=b("menu.background",{dark:bt,light:bt,hc:bt},v.N("menuBackground","Background color of menu items.")),po=b("menu.selectionForeground",{dark:Dn,light:Dn,hc:Dn},v.N("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Cs=b("menu.selectionBackground",{dark:vi,light:vi,hc:vi},v.N("menuSelectionBackground","Background color of the selected menu item in menus.")),Bn=b("menu.selectionBorder",{dark:null,light:null,hc:H},v.N("menuSelectionBorder","Border color of the selected menu item in menus.")),Qn=b("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:P},v.N("menuSeparatorBackground","Color of a separator menu item in menus.")),$s=b("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},v.N("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),Gs=(b("toolbar.hoverOutline",{dark:null,light:null,hc:H},v.N("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),b("toolbar.activeBackground",{dark:ti($s,.1),light:At($s,.1),hc:null},v.N("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),b("editor.snippetTabstopHighlightBackground",{dark:new h.Il(new h.VS(124,124,124,.3)),light:new h.Il(new h.VS(10,50,100,.2)),hc:new h.Il(new h.VS(124,124,124,.3))},v.N("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),b("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},v.N("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),b("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},v.N("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),b("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new h.Il(new h.VS(10,50,100,.5)),hc:"#525252"},v.N("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),b("breadcrumb.foreground",{light:vt(V,.8),dark:vt(V,.8),hc:vt(V,.8)},v.N("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),b("breadcrumb.background",{light:Xt,dark:Xt,hc:Xt},v.N("breadcrumbsBackground","Background color of breadcrumb items.")),b("breadcrumb.focusForeground",{light:At(V,.2),dark:ti(V,.1),hc:ti(V,.1)},v.N("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),b("breadcrumb.activeSelectionForeground",{light:At(V,.2),dark:ti(V,.1),hc:ti(V,.1)},v.N("breadcrumbsSelectedForegound","Color of selected breadcrumb items.")),b("breadcrumbPicker.background",{light:bi,dark:bi,hc:bi},v.N("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),h.Il.fromHex("#40C8AE").transparent(.5)),Mr=h.Il.fromHex("#40A6FF").transparent(.5),Zs=h.Il.fromHex("#606060").transparent(.4),Fn=.4,Gn=b("merge.currentHeaderBackground",{dark:Gs,light:Gs,hc:null},v.N("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Wn=(b("merge.currentContentBackground",{dark:vt(Gn,Fn),light:vt(Gn,Fn),hc:vt(Gn,Fn)},v.N("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),b("merge.incomingHeaderBackground",{dark:Mr,light:Mr,hc:null},v.N("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),yn=(b("merge.incomingContentBackground",{dark:vt(Wn,Fn),light:vt(Wn,Fn),hc:vt(Wn,Fn)},v.N("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),b("merge.commonHeaderBackground",{dark:Zs,light:Zs,hc:null},v.N("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),bo=(b("merge.commonContentBackground",{dark:vt(yn,Fn),light:vt(yn,Fn),hc:vt(yn,Fn)},v.N("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),b("merge.border",{dark:null,light:null,hc:"#C3DF6F"},v.N("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."))),Vn=(b("editorOverviewRuler.currentContentForeground",{dark:vt(Gn,1),light:vt(Gn,1),hc:bo},v.N("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),b("editorOverviewRuler.incomingContentForeground",{dark:vt(Wn,1),light:vt(Wn,1),hc:bo},v.N("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),b("editorOverviewRuler.commonContentForeground",{dark:vt(yn,1),light:vt(yn,1),hc:bo},v.N("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),b("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},v.N("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0)),wo=(b("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},v.N("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),b("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},v.N("minimapFindMatchHighlight","Minimap marker color for find matches."),!0)),er=(b("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},v.N("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),b("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},v.N("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0)),re=b("minimap.errorHighlight",{dark:new h.Il(new h.VS(255,18,18,.7)),light:new h.Il(new h.VS(255,18,18,.7)),hc:new h.Il(new h.VS(255,50,50,1))},v.N("minimapError","Minimap marker color for errors.")),c=b("minimap.warningHighlight",{dark:Ue,light:Ue,hc:pi},v.N("overviewRuleWarning","Minimap marker color for warnings.")),g=b("minimap.background",{dark:null,light:null,hc:null},v.N("minimapBackground","Minimap background color.")),p=b("minimap.foregroundOpacity",{dark:h.Il.fromHex("#000f"),light:h.Il.fromHex("#000f"),hc:h.Il.fromHex("#000f")},v.N("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),E=b("minimapSlider.background",{light:vt(Ge,.5),dark:vt(Ge,.5),hc:vt(Ge,.5)},v.N("minimapSliderBackground","Minimap slider background color.")),k=b("minimapSlider.hoverBackground",{light:vt(Je,.5),dark:vt(Je,.5),hc:vt(Je,.5)},v.N("minimapSliderHoverBackground","Minimap slider background color when hovering.")),G=b("minimapSlider.activeBackground",{light:vt(gt,.5),dark:vt(gt,.5),hc:vt(gt,.5)},v.N("minimapSliderActiveBackground","Minimap slider background color when clicked on."));function At(Wt,ni){return{op:0,value:Wt,factor:ni}}function ti(Wt,ni){return{op:1,value:Wt,factor:ni}}function vt(Wt,ni){return{op:2,value:Wt,factor:ni}}function qi(...Wt){return{op:3,values:Wt}}function So(Wt,ni,Di,Wi){return{op:4,value:Wt,background:ni,factor:Di,transparency:Wi}}function Ft(Wt,ni){if(null!==Wt){if("string"==typeof Wt)return"#"===Wt[0]?h.Il.fromHex(Wt):ni.getColor(Wt);if(Wt instanceof h.Il)return Wt;if("object"==typeof Wt)return function Mt(Wt,ni){var Di,Wi,gn;switch(Wt.op){case 0:return null===(Di=Ft(Wt.value,ni))||void 0===Di?void 0:Di.darken(Wt.factor);case 1:return null===(Wi=Ft(Wt.value,ni))||void 0===Wi?void 0:Wi.lighten(Wt.factor);case 2:return null===(gn=Ft(Wt.value,ni))||void 0===gn?void 0:gn.transparent(Wt.factor);case 3:for(const nn of Wt.values){const rs=Ft(nn,ni);if(rs)return rs}return;case 5:return Ft(ni.defines(Wt.if)?Wt.then:Wt.else,ni);case 4:{const nn=Ft(Wt.value,ni);if(!nn)return;const rs=Ft(Wt.background,ni);return rs?nn.isDarkerThan(rs)?h.Il.getLighterColor(nn,rs,Wt.factor).transparent(Wt.transparency):h.Il.getDarkerColor(nn,rs,Wt.factor).transparent(Wt.transparency):nn.transparent(Wt.factor*Wt.transparency)}default:throw(0,y.vE)(Wt)}}(Wt,ni)}}b("problemsErrorIcon.foreground",{dark:mi,light:mi,hc:mi},v.N("problemsErrorIconForeground","The color used for the problems error icon.")),b("problemsWarningIcon.foreground",{dark:Ue,light:Ue,hc:Ue},v.N("problemsWarningIconForeground","The color used for the problems warning icon.")),b("problemsInfoIcon.foreground",{dark:Be,light:Be,hc:Be},v.N("problemsInfoIconForeground","The color used for the problems info icon.")),b("charts.foreground",{dark:V,light:V,hc:V},v.N("chartsForeground","The foreground color used in charts.")),b("charts.lines",{dark:vt(V,.5),light:vt(V,.5),hc:vt(V,.5)},v.N("chartsLines","The color used for horizontal lines in charts.")),b("charts.red",{dark:mi,light:mi,hc:mi},v.N("chartsRed","The red color used in chart visualizations.")),b("charts.blue",{dark:Be,light:Be,hc:Be},v.N("chartsBlue","The blue color used in chart visualizations.")),b("charts.yellow",{dark:Ue,light:Ue,hc:Ue},v.N("chartsYellow","The yellow color used in chart visualizations.")),b("charts.orange",{dark:wo,light:wo,hc:wo},v.N("chartsOrange","The orange color used in chart visualizations.")),b("charts.green",{dark:"#89D185",light:"#388A34",hc:"#89D185"},v.N("chartsGreen","The green color used in chart visualizations.")),b("charts.purple",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},v.N("chartsPurple","The purple color used in chart visualizations."));const qs="vscode://schemas/workbench-colors";let vs=$.B.as(Z.I.JSONContribution);vs.registerSchema(qs,O.getColorSchema());const dn=new _.pY(()=>vs.notifySchemaChanged(qs),200);O.onDidChangeSchema(()=>{dn.isScheduled()||dn.schedule()})},95836:(Ae,xe,L)=>{"use strict";L.d(xe,{Ks:()=>V,q5:()=>b,s_:()=>P});var x,_=L(63072),h=L(2450),ee=L(52787),y=L(40402),v=L(83350),Z=L(29537),$=L(23024);(x||(x={})).getDefinition=function te(me,_e){let de=me.defaults;for(;$.kS.isThemeIcon(de);){const Se=O.getIcon(de.id);if(!Se)return;de=Se.defaults}return de};const O=new class R{constructor(){this._onDidChange=new ee.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,y.N)("iconDefintion.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,y.N)("iconDefintion.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${h.dT.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(te,me,_e,de){const Se=this.iconsById[te];if(Se){if(_e&&!Se.description){Se.description=_e,this.iconSchema.properties[te].markdownDescription=`${_e} $(${te})`;const K=this.iconReferenceSchema.enum.indexOf(te);-1!==K&&(this.iconReferenceSchema.enumDescriptions[K]=_e),this._onDidChange.fire()}return Se}this.iconsById[te]={id:te,description:_e,defaults:me,deprecationMessage:de};let ce={$ref:"#/definitions/icons"};return de&&(ce.deprecationMessage=de),_e&&(ce.markdownDescription=`${_e}: $(${te})`),this.iconSchema.properties[te]=ce,this.iconReferenceSchema.enum.push(te),this.iconReferenceSchema.enumDescriptions.push(_e||""),this._onDidChange.fire(),{id:te}}getIcons(){return Object.keys(this.iconsById).map(te=>this.iconsById[te])}getIcon(te){return this.iconsById[te]}getIconSchema(){return this.iconSchema}toString(){const te=(Se,Ve)=>Se.id.localeCompare(Ve.id),me=Se=>{for(;$.kS.isThemeIcon(Se.defaults);)Se=this.iconsById[Se.defaults.id];return`codicon codicon-${Se?Se.id:""}`};let _e=[];_e.push("| preview     | identifier                        | default codicon ID                | description"),_e.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const de=Object.keys(this.iconsById).map(Se=>this.iconsById[Se]);for(const Se of de.filter(Ve=>!!Ve.description).sort(te))_e.push(`|<i class="${me(Se)}"></i>|${Se.id}|${$.kS.isThemeIcon(Se.defaults)?Se.defaults.id:Se.id}|${Se.description||""}|`);_e.push("| preview     | identifier                        "),_e.push("| ----------- | --------------------------------- |");for(const Se of de.filter(Ve=>!$.kS.isThemeIcon(Ve.defaults)).sort(te))_e.push(`|<i class="${me(Se)}"></i>|${Se.id}|`);return _e.join("\n")}};function b(Y,te,me,_e){return O.registerIcon(Y,te,me,_e)}function V(){return O}Z.B.add("base.contributions.icons",O),function f(){for(const Y of h.lA.getAll())O.registerIcon(Y.id,Y.definition,Y.description)}();const N="vscode://schemas/icons";let A=Z.B.as(v.I.JSONContribution);A.registerSchema(N,O.getIconSchema());const I=new _.pY(()=>A.notifySchemaChanged(N),200);O.onDidChange(()=>{I.isScheduled()||I.schedule()});const P=b("widget-close",h.lA.close,(0,y.N)("widgetClose","Icon for the close action in widgets."));b("goto-previous-location",h.lA.arrowUp,(0,y.N)("previousChangeIcon","Icon for goto previous editor location.")),b("goto-next-location",h.lA.arrowDown,(0,y.N)("nextChangeIcon","Icon for goto next editor location.")),$.kS.modify(h.lA.sync,"spin"),$.kS.modify(h.lA.loading,"spin")},58676:(Ae,xe,L)=>{"use strict";L.d(xe,{e:()=>_});var _=(()=>{return(h=_||(_={})).DARK="dark",h.LIGHT="light",h.HIGH_CONTRAST="hc",_;var h})()},23024:(Ae,xe,L)=>{"use strict";L.d(xe,{EN:()=>x,IP:()=>b,Ic:()=>N,XE:()=>$,bB:()=>A,kS:()=>R,m6:()=>O});var _=L(2450),h=L(52787),ee=L(52425),y=L(64725),v=L(29537),Z=L(58676);const $=(0,y.yh)("themeService");var B,R;function x(I){return{id:I}}function O(I){switch(I){case Z.e.DARK:return"vs-dark";case Z.e.HIGH_CONTRAST:return"hc-black";default:return"vs"}}(B||(B={})).isThemeColor=function P(H){return H&&"object"==typeof H&&"string"==typeof H.id},function(I){I.isThemeIcon=function P(_e){return _e&&"object"==typeof _e&&"string"==typeof _e.id&&(void 0===_e.color||B.isThemeColor(_e.color))};const H=new RegExp(`^\\$\\((${_.dT.iconNameExpression}(?:${_.dT.iconModifierExpression})?)\\)$`);I.fromString=function F(_e){const de=H.exec(_e);if(!de)return;let[,Se]=de;return{id:Se}},I.fromId=function T(_e){return{id:_e}},I.modify=function q(_e,de){let Se=_e.id;const Ve=Se.lastIndexOf("~");return-1!==Ve&&(Se=Se.substring(0,Ve)),de&&(Se=`${Se}~${de}`),{id:Se}},I.getModifier=function Y(_e){const de=_e.id.lastIndexOf("~");if(-1!==de)return _e.id.substring(de+1)},I.isEqual=function te(_e,de){var Se,Ve;return _e.id===de.id&&(null===(Se=_e.color)||void 0===Se?void 0:Se.id)===(null===(Ve=de.color)||void 0===Ve?void 0:Ve.id)},I.asThemeIcon=function me(_e,de){return{id:_e.id,color:de?x(de):void 0}},I.asClassNameArray=_.dT.asClassNameArray,I.asClassName=_.dT.asClassName,I.asCSSSelector=_.dT.asCSSSelector}(R||(R={}));const b={ThemingContribution:"base.contributions.theming"};let f=new class V{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new h.Q5}onColorThemeChange(P){return this.themingParticipants.push(P),this.onThemingParticipantAddedEmitter.fire(P),(0,ee.OF)(()=>{const H=this.themingParticipants.indexOf(P);this.themingParticipants.splice(H,1)})}getThemingParticipants(){return this.themingParticipants}};function N(I){return f.onColorThemeChange(I)}v.B.add(b.ThemingContribution,f);class A extends ee.JT{constructor(P){super(),this.themeService=P,this.theme=P.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(H=>this.onThemeChange(H)))}onThemeChange(P){this.theme=P,this.updateStyles()}updateStyles(){}}},18846:(Ae,xe,L)=>{"use strict";L.d(xe,{Xt:()=>y,YO:()=>ee,gJ:()=>v,tJ:()=>h});const h=(0,L(64725).yh)("undoRedoService");class ee{constructor($,B){this.resource=$,this.elements=B}}class y{constructor(){this.id=y._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}y._ID=0,y.None=new y;class v{constructor(){this.id=v._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}v._ID=0,v.None=new v},12053:(Ae,xe,L)=>{"use strict";L.r(xe),L.d(xe,{CancellationTokenSource:()=>OL,Emitter:()=>AL,KeyCode:()=>PL,KeyMod:()=>BL,MarkerSeverity:()=>zL,MarkerTag:()=>UL,Position:()=>FL,Range:()=>WL,Selection:()=>VL,SelectionDirection:()=>HL,Token:()=>KL,Uri:()=>jL,editor:()=>$L,languages:()=>GL});var _=L(40402),h=L(38972),ee=L(85519),y=L(18337),v=L(85271),Z=L(32931);class B{constructor(e){this._values=e}hasChanged(e){return this._values[e]}}class x{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class R{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}applyUpdate(e,t){return b(e,t)}compute(e,t,i){return i}}class O{constructor(e,t){this.newValue=e,this.didChange=t}}function b(o,e){if("object"!=typeof o||"object"!=typeof e||!o||!e)return new O(e,o!==e);if(Array.isArray(o)||Array.isArray(e)){const i=Array.isArray(o)&&Array.isArray(e)&&y.fS(o,e);return new O(e,i)}let t=!1;for(const i in e)if(e.hasOwnProperty(i)){const n=b(o[i],e[i]);n.didChange&&(o[i]=n.newValue,t=!0)}return new O(o,t)}class V{constructor(e){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0}applyUpdate(e,t){return b(e,t)}validate(e){return this.defaultValue}}class f{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}applyUpdate(e,t){return b(e,t)}validate(e){return void 0===e?this.defaultValue:e}compute(e,t,i){return i}}function N(o,e){return void 0===o?e:"false"!==o&&Boolean(o)}class A extends f{constructor(e,t,i,n){void 0!==n&&(n.type="boolean",n.default=i),super(e,t,i,n)}validate(e){return N(e,this.defaultValue)}}function I(o,e,t,i){if(void 0===o)return e;let n=parseInt(o,10);return isNaN(n)?e:(n=Math.max(t,n),n=Math.min(i,n),0|n)}class P extends f{constructor(e,t,i,n,s,r){void 0!==r&&(r.type="integer",r.default=i,r.minimum=n,r.maximum=s),super(e,t,i,r),this.minimum=n,this.maximum=s}static clampedInt(e,t,i,n){return I(e,t,i,n)}validate(e){return P.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}}class H extends f{constructor(e,t,i,n,s){void 0!==s&&(s.type="number",s.default=i),super(e,t,i,s),this.validationFn=n}static clamp(e,t,i){return e<t?t:e>i?i:e}static float(e,t){if("number"==typeof e)return e;if(void 0===e)return t;const i=parseFloat(e);return isNaN(i)?t:i}validate(e){return this.validationFn(H.float(e,this.defaultValue))}}class F extends f{static string(e,t){return"string"!=typeof e?t:e}constructor(e,t,i,n){void 0!==n&&(n.type="string",n.default=i),super(e,t,i,n)}validate(e){return F.string(e,this.defaultValue)}}function T(o,e,t){return"string"!=typeof o||-1===t.indexOf(o)?e:o}class q extends f{constructor(e,t,i,n,s){void 0!==s&&(s.type="string",s.enum=n,s.default=i),super(e,t,i,s),this._allowedValues=n}validate(e){return T(e,this.defaultValue,this._allowedValues)}}class Y extends R{constructor(e,t,i,n,s,r,a){void 0!==a&&(a.type="string",a.enum=s,a.default=n),super(e,t,i,a),this._allowedValues=s,this._convert=r}validate(e){return"string"!=typeof e||-1===this._allowedValues.indexOf(e)?this.defaultValue:this._convert(e)}}var Se=(()=>{return(o=Se||(Se={}))[o.Line=1]="Line",o[o.Block=2]="Block",o[o.Underline=3]="Underline",o[o.LineThin=4]="LineThin",o[o.BlockOutline=5]="BlockOutline",o[o.UnderlineThin=6]="UnderlineThin",Se;var o})();let oe=(()=>{class o extends R{constructor(){super(45,"fontLigatures",o.OFF,{anyOf:[{type:"boolean",description:_.N("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:_.N("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:_.N("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(t){return void 0===t?this.defaultValue:"string"==typeof t?"false"===t?o.OFF:"true"===t?o.ON:t:Boolean(t)?o.ON:o.OFF}}return o.OFF='"liga" off, "calt" off',o.ON='"liga" on, "calt" on',o})(),U=(()=>{class o extends R{constructor(){super(47,"fontWeight",Li.fontWeight,{anyOf:[{type:"number",minimum:o.MINIMUM_VALUE,maximum:o.MAXIMUM_VALUE,errorMessage:_.N("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:o.SUGGESTION_VALUES}],default:Li.fontWeight,description:_.N("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(t){return"normal"===t||"bold"===t?t:String(P.clampedInt(t,Li.fontWeight,o.MINIMUM_VALUE,o.MAXIMUM_VALUE))}}return o.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],o.MINIMUM_VALUE=1,o.MAXIMUM_VALUE=1e3,o})();class ae extends V{constructor(){super(131)}compute(e,t,i){return ae.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio})}static computeContainedMinimapLineCount(e){const t=e.height/e.lineHeight,i=e.scrollBeyondLastLine?t-1:0,n=(e.viewLineCount+i)/(e.pixelRatio*e.height);return{typicalViewportLineCount:t,extraLinesBeyondLastLine:i,desiredRatio:n,minimapLineCount:Math.floor(e.viewLineCount/n)}}static _computeMinimapLayout(e,t){const i=e.outerWidth,n=e.outerHeight,s=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(s*n),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:n};const r=t.stableMinimapLayoutInput,a=r&&e.outerHeight===r.outerHeight&&e.lineHeight===r.lineHeight&&e.typicalHalfwidthCharacterWidth===r.typicalHalfwidthCharacterWidth&&e.pixelRatio===r.pixelRatio&&e.scrollBeyondLastLine===r.scrollBeyondLastLine&&e.minimap.enabled===r.minimap.enabled&&e.minimap.side===r.minimap.side&&e.minimap.size===r.minimap.size&&e.minimap.showSlider===r.minimap.showSlider&&e.minimap.renderCharacters===r.minimap.renderCharacters&&e.minimap.maxColumn===r.minimap.maxColumn&&e.minimap.scale===r.minimap.scale&&e.verticalScrollbarWidth===r.verticalScrollbarWidth&&e.isViewportWrapping===r.isViewportWrapping,l=e.lineHeight,d=e.typicalHalfwidthCharacterWidth,u=e.scrollBeyondLastLine,m=e.minimap.renderCharacters;let C=s>=2?Math.round(2*e.minimap.scale):e.minimap.scale;const S=e.minimap.maxColumn,M=e.minimap.size,j=e.minimap.side,J=e.verticalScrollbarWidth,ne=e.viewLineCount,X=e.remainingWidth,le=e.isViewportWrapping,Ce=m?2:3;let ke=Math.floor(s*n);const Ne=ke/s;let ve=!1,pe=!1,Te=Ce*C,Qe=C/s,Pe=1;if("fill"===M||"fit"===M){const{typicalViewportLineCount:Bt,extraLinesBeyondLastLine:Qt,desiredRatio:Gi,minimapLineCount:Ui}=ae.computeContainedMinimapLineCount({viewLineCount:ne,scrollBeyondLastLine:u,height:n,lineHeight:l,pixelRatio:s});if(ne/Ui>1)ve=!0,pe=!0,C=1,Te=1,Qe=C/s;else{let Is=!1,Rn=C+1;if("fit"===M){const Io=Math.ceil((ne+Qt)*Te);le&&a&&X<=t.stableFitRemainingWidth?(Is=!0,Rn=t.stableFitMaxMinimapScale):Is=Io>ke}if("fill"===M||Is){ve=!0;const Io=C;Te=Math.min(l*s,Math.max(1,Math.floor(1/Gi))),le&&a&&X<=t.stableFitRemainingWidth&&(Rn=t.stableFitMaxMinimapScale),C=Math.min(Rn,Math.max(1,Math.floor(Te/Ce))),C>Io&&(Pe=Math.min(2,C/Io)),Qe=C/s/Pe,ke=Math.ceil(Math.max(Bt,ne+Qt)*Te),le?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=X,t.stableFitMaxMinimapScale=C):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0)}}}const et=Math.floor(S*Qe),ot=Math.min(et,Math.max(0,Math.floor((X-J-2)*Qe/(d+Qe)))+8);let Nt=Math.floor(s*ot);const kt=Nt/s;return Nt=Math.floor(Nt*Pe),{renderMinimap:m?1:2,minimapLeft:"left"===j?0:i-ot-J,minimapWidth:ot,minimapHeightIsEditorHeight:ve,minimapIsSampling:pe,minimapScale:C,minimapLineHeight:Te,minimapCanvasInnerWidth:Nt,minimapCanvasInnerHeight:ke,minimapCanvasOuterWidth:kt,minimapCanvasOuterHeight:Ne}}static computeLayout(e,t){const i=0|t.outerWidth,n=0|t.outerHeight,s=0|t.lineHeight,r=0|t.lineNumbersDigitCount,a=t.typicalHalfwidthCharacterWidth,l=t.maxDigitWidth,d=t.pixelRatio,u=t.viewLineCount,m=e.get(123),C="inherit"===m?e.get(122):m,S="inherit"===C?e.get(118):C,M=e.get(121),j=e.get(2),J=t.isDominatedByLongLines,ne=e.get(50),X=0!==e.get(60).renderType,le=e.get(61),Ce=e.get(94),ke=e.get(65),Ne=e.get(92),ve=Ne.verticalScrollbarSize,pe=Ne.verticalHasArrows,Te=Ne.arrowSize,Qe=Ne.horizontalScrollbarSize,Pe=e.get(58),et=e.get(37);let ot;if("string"==typeof Pe&&/^\d+(\.\d+)?ch$/.test(Pe)){const sf=parseFloat(Pe.substr(0,Pe.length-2));ot=P.clampedInt(sf*a,0,0,1e3)}else ot=P.clampedInt(Pe,0,0,1e3);et&&(ot+=16);let Nt=0;if(X){const sf=Math.max(r,le);Nt=Math.round(sf*l)}let kt=0;ne&&(kt=s);let Vt=0,qt=Vt+kt,Bt=qt+Nt,Qt=Bt+ot;const Gi=i-kt-Nt-ot;let Ui=!1,Us=!1,Is=-1;2!==j&&("inherit"===C&&J?(Ui=!0,Us=!0):"on"===S||"bounded"===S?Us=!0:"wordWrapColumn"===S&&(Is=M));const Rn=ae._computeMinimapLayout({outerWidth:i,outerHeight:n,lineHeight:s,typicalHalfwidthCharacterWidth:a,pixelRatio:d,scrollBeyondLastLine:Ce,minimap:ke,verticalScrollbarWidth:ve,viewLineCount:u,remainingWidth:Gi,isViewportWrapping:Us},t.memory||new x);0!==Rn.renderMinimap&&0===Rn.minimapLeft&&(Vt+=Rn.minimapWidth,qt+=Rn.minimapWidth,Bt+=Rn.minimapWidth,Qt+=Rn.minimapWidth);const Io=Gi-Rn.minimapWidth,ed=Math.max(1,Math.floor((Io-ve-2)/a)),h_=pe?Te:0;return Us&&(Is=Math.max(1,ed),"bounded"===S&&(Is=Math.min(Is,M))),{width:i,height:n,glyphMarginLeft:Vt,glyphMarginWidth:kt,lineNumbersLeft:qt,lineNumbersWidth:Nt,decorationsLeft:Bt,decorationsWidth:ot,contentLeft:Qt,contentWidth:Io,minimap:Rn,viewportColumn:ed,isWordWrapMinified:Ui,isViewportWrapping:Us,wrappingColumn:Is,verticalScrollbarWidth:ve,horizontalScrollbarHeight:Qe,overviewRuler:{top:h_,width:ve,height:n-2*h_,right:0}}}}function Ci(o){const e=o.get(87);return"editable"===e?o.get(81):"on"!==e}function Ji(o,e){if("string"!=typeof o)return e;switch(o){case"hidden":return 2;case"visible":return 3;default:return 1}}const oi="inUntrustedWorkspace";function Dt(o,e,t){const i=t.indexOf(o);return-1===i?e:t[i]}const Li={fontFamily:h.dz?"Menlo, Monaco, 'Courier New', monospace":h.IJ?"'Droid Sans Mono', 'monospace', monospace":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:h.dz?12:14,lineHeight:0,letterSpacing:0},Ii=[];function Ue(o){return Ii[o.id]=o,o}const pi={acceptSuggestionOnCommitCharacter:Ue(new A(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:_.N("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:Ue(new q(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",_.N("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:_.N("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:Ue(new class me extends R{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[_.N("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),_.N("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),_.N("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:_.N("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,i){return 0===i?e.accessibilitySupport:i}}),accessibilityPageSize:Ue(new P(3,"accessibilityPageSize",10,1,1073741824,{description:_.N("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:Ue(new F(4,"ariaLabel",_.N("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:Ue(new q(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",_.N("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),_.N("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:_.N("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:Ue(new q(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",_.N("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:_.N("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:Ue(new q(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",_.N("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:_.N("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:Ue(new q(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",_.N("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),_.N("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:_.N("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:Ue(new Y(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],function te(o){switch(o){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}},{enumDescriptions:[_.N("editor.autoIndent.none","The editor will not insert indentation automatically."),_.N("editor.autoIndent.keep","The editor will keep the current line's indentation."),_.N("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),_.N("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),_.N("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:_.N("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:Ue(new A(10,"automaticLayout",!1)),autoSurround:Ue(new q(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[_.N("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),_.N("editor.autoSurround.quotes","Surround with quotes but not brackets."),_.N("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:_.N("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:Ue(new class ct extends R{constructor(){const e={enabled:Z.D.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:e.enabled,description:_.N("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use 'workbench.colorCustomizations' to override the bracket highlight colors.")}})}validate(e){return e&&"object"==typeof e?{enabled:N(e.enabled,this.defaultValue.enabled)}:this.defaultValue}}),bracketPairGuides:Ue(new class Yt extends R{constructor(){const e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[_.N("editor.guides.bracketPairs.true","Enables bracket pair guides."),_.N("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),_.N("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:e.bracketPairs,description:_.N("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[_.N("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),_.N("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),_.N("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:e.bracketPairsHorizontal,description:_.N("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:e.highlightActiveBracketPair,description:_.N("editor.guides.highlightActiveBracketPair","Controls whether bracket pair guides are enabled or not.")},"editor.guides.indentation":{type:"boolean",default:e.indentation,description:_.N("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:"boolean",default:e.highlightActiveIndentation,description:_.N("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{bracketPairs:Dt(t.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:Dt(t.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:N(t.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:N(t.indentation,this.defaultValue.indentation),highlightActiveIndentation:N(t.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}}),stickyTabStops:Ue(new A(104,"stickyTabStops",!1,{description:_.N("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:Ue(new A(14,"codeLens",!0,{description:_.N("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:Ue(new F(15,"codeLensFontFamily","",{description:_.N("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:Ue(new P(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:_.N("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, 90% of `#editor.fontSize#` is used.")})),colorDecorators:Ue(new A(17,"colorDecorators",!0,{description:_.N("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:Ue(new A(18,"columnSelection",!1,{description:_.N("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:Ue(new class _e extends R{constructor(){const e={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:_.N("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:_.N("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{insertSpace:N(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:N(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:Ue(new A(20,"contextmenu",!0)),copyWithSyntaxHighlighting:Ue(new A(21,"copyWithSyntaxHighlighting",!0,{description:_.N("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:Ue(new Y(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],function de(o){switch(o){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}},{description:_.N("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:Ue(new A(23,"cursorSmoothCaretAnimation",!1,{description:_.N("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:Ue(new Y(24,"cursorStyle",Se.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],function Ve(o){switch(o){case"line":return Se.Line;case"block":return Se.Block;case"underline":return Se.Underline;case"line-thin":return Se.LineThin;case"block-outline":return Se.BlockOutline;case"underline-thin":return Se.UnderlineThin}},{description:_.N("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:Ue(new P(25,"cursorSurroundingLines",0,0,1073741824,{description:_.N("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:Ue(new q(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[_.N("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),_.N("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:_.N("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:Ue(new P(27,"cursorWidth",0,0,1073741824,{markdownDescription:_.N("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:Ue(new A(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:Ue(new A(29,"disableMonospaceOptimizations",!1)),domReadOnly:Ue(new A(30,"domReadOnly",!1)),dragAndDrop:Ue(new A(31,"dragAndDrop",!0,{description:_.N("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:Ue(new class K extends A{constructor(){super(32,"emptySelectionClipboard",!0,{description:_.N("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,t,i){return i&&e.emptySelectionClipboard}}),extraEditorClassName:Ue(new F(33,"extraEditorClassName","")),fastScrollSensitivity:Ue(new H(34,"fastScrollSensitivity",5,o=>o<=0?5:o,{markdownDescription:_.N("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:Ue(new class ie extends R{constructor(){const e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:_.N("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[_.N("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),_.N("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),_.N("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:_.N("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[_.N("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),_.N("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),_.N("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:_.N("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:_.N("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:h.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:_.N("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:_.N("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{cursorMoveOnType:N(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:"boolean"==typeof e.seedSearchStringFromSelection?e.seedSearchStringFromSelection?"always":"never":T(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:"boolean"==typeof e.autoFindInSelection?e.autoFindInSelection?"always":"never":T(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:N(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:N(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:N(t.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:Ue(new A(36,"fixedOverflowWidgets",!1)),folding:Ue(new A(37,"folding",!0,{description:_.N("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:Ue(new q(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[_.N("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),_.N("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:_.N("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:Ue(new A(39,"foldingHighlight",!0,{description:_.N("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:Ue(new A(40,"foldingImportsByDefault",!1,{description:_.N("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:Ue(new P(41,"foldingMaximumRegions",5e3,10,65e3,{description:_.N("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:Ue(new A(42,"unfoldOnClickAfterEndOfLine",!1,{description:_.N("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:Ue(new F(43,"fontFamily",Li.fontFamily,{description:_.N("fontFamily","Controls the font family.")})),fontInfo:Ue(new class W extends V{constructor(){super(44)}compute(e,t,i){return e.fontInfo}}),fontLigatures2:Ue(new oe),fontSize:Ue(new class w extends f{constructor(){super(46,"fontSize",Li.fontSize,{type:"number",minimum:6,maximum:100,default:Li.fontSize,description:_.N("fontSize","Controls the font size in pixels.")})}validate(e){const t=H.float(e,this.defaultValue);return 0===t?Li.fontSize:H.clamp(t,6,100)}compute(e,t,i){return e.fontInfo.fontSize}}),fontWeight:Ue(new U),formatOnPaste:Ue(new A(48,"formatOnPaste",!1,{description:_.N("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:Ue(new A(49,"formatOnType",!1,{description:_.N("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:Ue(new A(50,"glyphMargin",!0,{description:_.N("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:Ue(new class D extends R{constructor(){const e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[_.N("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),_.N("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),_.N("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},i=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(51,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:_.N("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:_.N("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:_.N("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleDeclarations":Object.assign({description:_.N("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleImplementations":Object.assign({description:_.N("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleReferences":Object.assign({description:_.N("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},t),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:i,description:_.N("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:i,description:_.N("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:i,description:_.N("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:i,description:_.N("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:i,description:_.N("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){var t,i,n,s,r;if(!e||"object"!=typeof e)return this.defaultValue;const a=e;return{multiple:T(a.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(t=a.multipleDefinitions)&&void 0!==t?t:T(a.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(i=a.multipleTypeDefinitions)&&void 0!==i?i:T(a.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(n=a.multipleDeclarations)&&void 0!==n?n:T(a.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(s=a.multipleImplementations)&&void 0!==s?s:T(a.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(r=a.multipleReferences)&&void 0!==r?r:T(a.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:F.string(a.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:F.string(a.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:F.string(a.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:F.string(a.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:F.string(a.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:Ue(new A(52,"hideCursorInOverviewRuler",!1,{description:_.N("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:Ue(new class z extends R{constructor(){const e={enabled:!0,delay:300,sticky:!0,above:!0};super(53,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:_.N("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,minimum:0,maximum:1e4,description:_.N("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:_.N("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:e.above,description:_.N("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:N(t.enabled,this.defaultValue.enabled),delay:P.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:N(t.sticky,this.defaultValue.sticky),above:N(t.above,this.defaultValue.above)}}}),inDiffEditor:Ue(new A(54,"inDiffEditor",!1)),letterSpacing:Ue(new H(56,"letterSpacing",Li.letterSpacing,o=>H.clamp(o,-5,20),{description:_.N("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:Ue(new class ye extends R{constructor(){const e={enabled:!0};super(57,"lightbulb",e,{"editor.lightbulb.enabled":{type:"boolean",default:e.enabled,description:_.N("codeActions","Enables the code action lightbulb in the editor.")}})}validate(e){return e&&"object"==typeof e?{enabled:N(e.enabled,this.defaultValue.enabled)}:this.defaultValue}}),lineDecorationsWidth:Ue(new f(58,"lineDecorationsWidth",10)),lineHeight:Ue(new class Me extends H{constructor(){super(59,"lineHeight",Li.lineHeight,e=>H.clamp(e,0,150),{markdownDescription:_.N("lineHeight","Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})}compute(e,t,i){return e.fontInfo.lineHeight}}),lineNumbers:Ue(new class _t extends R{constructor(){super(60,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[_.N("lineNumbers.off","Line numbers are not rendered."),_.N("lineNumbers.on","Line numbers are rendered as absolute number."),_.N("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),_.N("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:_.N("lineNumbers","Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,i=this.defaultValue.renderFn;return void 0!==e&&("function"==typeof e?(t=4,i=e):t="interval"===e?3:"relative"===e?2:"on"===e?1:0),{renderType:t,renderFn:i}}}),lineNumbersMinChars:Ue(new P(61,"lineNumbersMinChars",5,1,300)),linkedEditing:Ue(new A(62,"linkedEditing",!1,{description:_.N("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:Ue(new A(63,"links",!0,{description:_.N("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:Ue(new q(64,"matchBrackets","always",["always","near","never"],{description:_.N("matchBrackets","Highlight matching brackets.")})),minimap:Ue(new class Ke extends R{constructor(){const e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(65,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:_.N("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[_.N("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),_.N("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),_.N("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:_.N("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:_.N("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:_.N("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:_.N("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:_.N("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:_.N("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:N(t.enabled,this.defaultValue.enabled),size:T(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:T(t.side,this.defaultValue.side,["right","left"]),showSlider:T(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:N(t.renderCharacters,this.defaultValue.renderCharacters),scale:P.clampedInt(t.scale,1,1,3),maxColumn:P.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}),mouseStyle:Ue(new q(66,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Ue(new H(67,"mouseWheelScrollSensitivity",1,o=>0===o?1:o,{markdownDescription:_.N("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:Ue(new A(68,"mouseWheelZoom",!1,{markdownDescription:_.N("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:Ue(new A(69,"multiCursorMergeOverlapping",!0,{description:_.N("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:Ue(new Y(70,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],function tt(o){return"ctrlCmd"===o?h.dz?"metaKey":"ctrlKey":"altKey"},{markdownEnumDescriptions:[_.N("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),_.N("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:_.N({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:Ue(new q(71,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[_.N("multiCursorPaste.spread","Each cursor pastes a single line of the text."),_.N("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:_.N("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:Ue(new A(72,"occurrencesHighlight",!0,{description:_.N("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:Ue(new A(73,"overviewRulerBorder",!0,{description:_.N("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:Ue(new P(74,"overviewRulerLanes",3,0,3)),padding:Ue(new class ht extends R{constructor(){super(75,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:_.N("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:_.N("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{top:P.clampedInt(t.top,0,0,1e3),bottom:P.clampedInt(t.bottom,0,0,1e3)}}}),parameterHints:Ue(new class bt extends R{constructor(){const e={enabled:!0,cycle:!1};super(76,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:_.N("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:_.N("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:N(t.enabled,this.defaultValue.enabled),cycle:N(t.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:Ue(new q(77,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[_.N("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),_.N("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:_.N("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:Ue(new A(78,"definitionLinkOpensInPeek",!1,{description:_.N("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:Ue(new class yt extends R{constructor(){const e={other:!0,comments:!1,strings:!1};super(79,"quickSuggestions",e,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:e.strings,description:_.N("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:e.comments,description:_.N("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:e.other,description:_.N("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:e,description:_.N("quickSuggestions","Controls whether suggestions should automatically show up while typing.")}),this.defaultValue=e}validate(e){if("boolean"==typeof e)return e;if(e&&"object"==typeof e){const t=e,i={other:N(t.other,this.defaultValue.other),comments:N(t.comments,this.defaultValue.comments),strings:N(t.strings,this.defaultValue.strings)};return!!(i.other&&i.comments&&i.strings)||!!(i.other||i.comments||i.strings)&&i}return this.defaultValue}}),quickSuggestionsDelay:Ue(new P(80,"quickSuggestionsDelay",10,0,1073741824,{description:_.N("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:Ue(new A(81,"readOnly",!1)),renameOnType:Ue(new A(82,"renameOnType",!1,{description:_.N("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:_.N("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:Ue(new A(83,"renderControlCharacters",!0,{description:_.N("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:Ue(new A(84,"renderFinalNewline",!0,{description:_.N("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:Ue(new q(85,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",_.N("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:_.N("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:Ue(new A(86,"renderLineHighlightOnlyWhenFocus",!1,{description:_.N("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:Ue(new q(87,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Ue(new q(88,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",_.N("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),_.N("renderWhitespace.selection","Render whitespace characters only on selected text."),_.N("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:_.N("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:Ue(new P(89,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:Ue(new A(90,"roundedSelection",!0,{description:_.N("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:Ue(new class Ni extends R{constructor(){const e=[],t={type:"number",description:_.N("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(91,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:_.N("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:_.N("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){const t=[];for(let i of e)if("number"==typeof i)t.push({column:P.clampedInt(i,0,0,1e4),color:null});else if(i&&"object"==typeof i){const n=i;t.push({column:P.clampedInt(n.column,0,0,1e4),color:n.color})}return t.sort((i,n)=>i.column-n.column),t}return this.defaultValue}}),scrollbar:Ue(new class yi extends R{constructor(){const e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(92,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[_.N("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),_.N("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),_.N("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:_.N("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[_.N("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),_.N("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),_.N("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:_.N("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:_.N("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:_.N("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:_.N("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e,i=P.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),n=P.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:P.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:Ji(t.vertical,this.defaultValue.vertical),horizontal:Ji(t.horizontal,this.defaultValue.horizontal),useShadows:N(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:N(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:N(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:N(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:N(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:i,horizontalSliderSize:P.clampedInt(t.horizontalSliderSize,i,0,1e3),verticalScrollbarSize:n,verticalSliderSize:P.clampedInt(t.verticalSliderSize,n,0,1e3),scrollByPage:N(t.scrollByPage,this.defaultValue.scrollByPage)}}}),scrollBeyondLastColumn:Ue(new P(93,"scrollBeyondLastColumn",5,0,1073741824,{description:_.N("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:Ue(new A(94,"scrollBeyondLastLine",!0,{description:_.N("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:Ue(new A(95,"scrollPredominantAxis",!0,{description:_.N("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:Ue(new A(96,"selectionClipboard",!0,{description:_.N("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:h.IJ})),selectionHighlight:Ue(new A(97,"selectionHighlight",!0,{description:_.N("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:Ue(new A(98,"selectOnLineNumbers",!0)),showFoldingControls:Ue(new q(99,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[_.N("showFoldingControls.always","Always show the folding controls."),_.N("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:_.N("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:Ue(new A(100,"showUnused",!0,{description:_.N("showUnused","Controls fading out of unused code.")})),showDeprecated:Ue(new A(126,"showDeprecated",!0,{description:_.N("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:Ue(new class Ee extends R{constructor(){const e={enabled:!0,fontSize:0,fontFamily:""};super(127,"inlayHints",e,{"editor.inlayHints.enabled":{type:"boolean",default:e.enabled,description:_.N("inlayHints.enable","Enables the inlay hints in the editor.")},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:_.N("inlayHints.fontSize","Controls font size of inlay hints in the editor. A default of 90% of `#editor.fontSize#` is used when the configured value is less than `5` or greater than the editor font size.")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,markdownDescription:_.N("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the `#editor.fontFamily#` is used.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:N(t.enabled,this.defaultValue.enabled),fontSize:P.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:F.string(t.fontFamily,this.defaultValue.fontFamily)}}}),snippetSuggestions:Ue(new q(101,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[_.N("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),_.N("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),_.N("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),_.N("snippetSuggestions.none","Do not show snippet suggestions.")],description:_.N("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:Ue(new class De extends R{constructor(){super(102,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:_.N("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(e){return e&&"object"==typeof e?{selectLeadingAndTrailingWhitespace:N(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}:this.defaultValue}}),smoothScrolling:Ue(new A(103,"smoothScrolling",!1,{description:_.N("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:Ue(new P(105,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Ue(new class Gt extends R{constructor(){const e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(106,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[_.N("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),_.N("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:_.N("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:_.N("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:_.N("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:_.N("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:_.N("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:_.N("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:_.N("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:_.N("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:_.N("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:_.N("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:_.N("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:_.N("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{insertMode:T(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:N(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:N(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:N(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:N(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:N(t.showIcons,this.defaultValue.showIcons),showStatusBar:N(t.showStatusBar,this.defaultValue.showStatusBar),preview:N(t.preview,this.defaultValue.preview),previewMode:T(t.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:N(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:N(t.showMethods,this.defaultValue.showMethods),showFunctions:N(t.showFunctions,this.defaultValue.showFunctions),showConstructors:N(t.showConstructors,this.defaultValue.showConstructors),showDeprecated:N(t.showDeprecated,this.defaultValue.showDeprecated),showFields:N(t.showFields,this.defaultValue.showFields),showVariables:N(t.showVariables,this.defaultValue.showVariables),showClasses:N(t.showClasses,this.defaultValue.showClasses),showStructs:N(t.showStructs,this.defaultValue.showStructs),showInterfaces:N(t.showInterfaces,this.defaultValue.showInterfaces),showModules:N(t.showModules,this.defaultValue.showModules),showProperties:N(t.showProperties,this.defaultValue.showProperties),showEvents:N(t.showEvents,this.defaultValue.showEvents),showOperators:N(t.showOperators,this.defaultValue.showOperators),showUnits:N(t.showUnits,this.defaultValue.showUnits),showValues:N(t.showValues,this.defaultValue.showValues),showConstants:N(t.showConstants,this.defaultValue.showConstants),showEnums:N(t.showEnums,this.defaultValue.showEnums),showEnumMembers:N(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:N(t.showKeywords,this.defaultValue.showKeywords),showWords:N(t.showWords,this.defaultValue.showWords),showColors:N(t.showColors,this.defaultValue.showColors),showFiles:N(t.showFiles,this.defaultValue.showFiles),showReferences:N(t.showReferences,this.defaultValue.showReferences),showFolders:N(t.showFolders,this.defaultValue.showFolders),showTypeParameters:N(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:N(t.showSnippets,this.defaultValue.showSnippets),showUsers:N(t.showUsers,this.defaultValue.showUsers),showIssues:N(t.showIssues,this.defaultValue.showIssues)}}}),inlineSuggest:Ue(new class mt extends R{constructor(){const e={enabled:!0,mode:"subwordSmart"};super(55,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:_.N("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:N(t.enabled,this.defaultValue.enabled),mode:T(t.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}),suggestFontSize:Ue(new P(107,"suggestFontSize",0,0,1e3,{markdownDescription:_.N("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:Ue(new P(108,"suggestLineHeight",0,0,1e3,{markdownDescription:_.N("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.")})),suggestOnTriggerCharacters:Ue(new A(109,"suggestOnTriggerCharacters",!0,{description:_.N("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:Ue(new q(110,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[_.N("suggestSelection.first","Always select the first suggestion."),_.N("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),_.N("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:_.N("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:Ue(new q(111,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[_.N("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),_.N("tabCompletion.off","Disable tab completions."),_.N("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:_.N("tabCompletion","Enables tab completions.")})),tabIndex:Ue(new P(112,"tabIndex",0,-1,1073741824)),unicodeHighlight:Ue(new class $e extends R{constructor(){const e={nonBasicASCII:oi,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:oi,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(113,"unicodeHighlight",e,{"editor.unicodeHighlight.nonBasicASCII":{restricted:!0,type:["boolean","string"],enum:[!0,!1,oi],default:e.nonBasicASCII,description:_.N("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},"editor.unicodeHighlight.invisibleCharacters":{restricted:!0,type:"boolean",default:e.invisibleCharacters,description:_.N("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},"editor.unicodeHighlight.ambiguousCharacters":{restricted:!0,type:"boolean",default:e.ambiguousCharacters,description:_.N("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},"editor.unicodeHighlight.includeComments":{restricted:!0,type:["boolean","string"],enum:[!0,!1,oi],default:e.includeComments,description:_.N("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to unicode highlighting.")},"editor.unicodeHighlight.includeStrings":{restricted:!0,type:["boolean","string"],enum:[!0,!1,oi],default:e.includeStrings,description:_.N("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to unicode highlighting.")},"editor.unicodeHighlight.allowedCharacters":{restricted:!0,type:"object",default:e.allowedCharacters,description:_.N("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},"editor.unicodeHighlight.allowedLocales":{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:e.allowedLocales,description:_.N("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(e,t){let i=!1;t.allowedCharacters&&(v.fS(e.allowedCharacters,t.allowedCharacters)||(e=Object.assign(Object.assign({},e),{allowedCharacters:t.allowedCharacters}),i=!0)),t.allowedLocales&&(v.fS(e.allowedLocales,t.allowedLocales)||(e=Object.assign(Object.assign({},e),{allowedLocales:t.allowedLocales}),i=!0));const n=super.applyUpdate(e,t);return i?new O(n.newValue,!0):n}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{nonBasicASCII:Dt(t.nonBasicASCII,oi,[!0,!1,oi]),invisibleCharacters:N(t.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:N(t.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:Dt(t.includeComments,oi,[!0,!1,oi]),includeStrings:Dt(t.includeStrings,oi,[!0,!1,oi]),allowedCharacters:this.validateBooleanMap(e.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(e.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(e,t){if("object"!=typeof e||!e)return t;const i={};for(const[n,s]of Object.entries(e))!0===s&&(i[n]=!0);return i}}),unusualLineTerminators:Ue(new q(114,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[_.N("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),_.N("unusualLineTerminators.off","Unusual line terminators are ignored."),_.N("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:_.N("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:Ue(new A(115,"useShadowDOM",!0)),useTabStops:Ue(new A(116,"useTabStops",!0,{description:_.N("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:Ue(new F(117,"wordSeparators",ee.vu,{description:_.N("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:Ue(new q(118,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[_.N("wordWrap.off","Lines will never wrap."),_.N("wordWrap.on","Lines will wrap at the viewport width."),_.N({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),_.N({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:_.N({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:Ue(new F(119,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;\xa2\xb0\u2032\u2033\u2030\u2103\u3001\u3002\uff61\uff64\uffe0\uff0c\uff0e\uff1a\uff1b\uff1f\uff01\uff05\u30fb\uff65\u309d\u309e\u30fd\u30fe\u30fc\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096\u31f0\u31f1\u31f2\u31f3\u31f4\u31f5\u31f6\u31f7\u31f8\u31f9\u31fa\u31fb\u31fc\u31fd\u31fe\u31ff\u3005\u303b\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f\uff70\u201d\u3009\u300b\u300d\u300f\u3011\u3015\uff09\uff3d\uff5d\uff63")),wordWrapBreakBeforeCharacters:Ue(new F(120,"wordWrapBreakBeforeCharacters","([{\u2018\u201c\u3008\u300a\u300c\u300e\u3010\u3014\uff08\uff3b\uff5b\uff62\xa3\xa5\uff04\uffe1\uffe5+\uff0b")),wordWrapColumn:Ue(new P(121,"wordWrapColumn",80,1,1073741824,{markdownDescription:_.N({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:Ue(new q(122,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Ue(new q(123,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:Ue(new Y(124,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],function Je(o){switch(o){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}},{enumDescriptions:[_.N("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),_.N("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),_.N("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),_.N("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:_.N("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:Ue(new q(125,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[_.N("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),_.N("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:_.N("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:Ue(new class ce extends V{constructor(){super(128)}compute(e,t,i){const n=["monaco-editor"];return t.get(33)&&n.push(t.get(33)),e.extraEditorClassName&&n.push(e.extraEditorClassName),"default"===t.get(66)?n.push("mouse-default"):"copy"===t.get(66)&&n.push("mouse-copy"),t.get(100)&&n.push("showUnused"),t.get(126)&&n.push("showDeprecated"),n.join(" ")}}),pixelRatio:Ue(new class St extends V{constructor(){super(129)}compute(e,t,i){return e.pixelRatio}}),tabFocusMode:Ue(new class Ge extends V{constructor(){super(130)}compute(e,t,i){return!!t.get(81)||e.tabFocusMode}}),layoutInfo:Ue(new ae),wrappingInfo:Ue(new class gt extends V{constructor(){super(132)}compute(e,t,i){const n=t.get(131);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:n.isWordWrapMinified,isViewportWrapping:n.isViewportWrapping,wrappingColumn:n.wrappingColumn}}})};var fi=L(80152),Be=L(52787),Mi=L(36950),ri=L(74672),Xe=L(94220),Ze=L(68451),Xt=L(43210),rt=L(5283),bi=(()=>{return(o=bi||(bi={}))[o.Unknown=0]="Unknown",o[o.Disabled=1]="Disabled",o[o.Enabled=2]="Enabled",bi;var o})(),un=(()=>{return(o=un||(un={}))[o.KeepWhitespace=1]="KeepWhitespace",o[o.InsertAsSnippet=4]="InsertAsSnippet",un;var o})(),Re=(()=>{return(o=Re||(Re={}))[o.Method=0]="Method",o[o.Function=1]="Function",o[o.Constructor=2]="Constructor",o[o.Field=3]="Field",o[o.Variable=4]="Variable",o[o.Class=5]="Class",o[o.Struct=6]="Struct",o[o.Interface=7]="Interface",o[o.Module=8]="Module",o[o.Property=9]="Property",o[o.Event=10]="Event",o[o.Operator=11]="Operator",o[o.Unit=12]="Unit",o[o.Value=13]="Value",o[o.Constant=14]="Constant",o[o.Enum=15]="Enum",o[o.EnumMember=16]="EnumMember",o[o.Keyword=17]="Keyword",o[o.Text=18]="Text",o[o.Color=19]="Color",o[o.File=20]="File",o[o.Reference=21]="Reference",o[o.Customcolor=22]="Customcolor",o[o.Folder=23]="Folder",o[o.TypeParameter=24]="TypeParameter",o[o.User=25]="User",o[o.Issue=26]="Issue",o[o.Snippet=27]="Snippet",Re;var o})(),Oe=(()=>{return(o=Oe||(Oe={}))[o.Deprecated=1]="Deprecated",Oe;var o})(),st=(()=>{return(o=st||(st={}))[o.Invoke=0]="Invoke",o[o.TriggerCharacter=1]="TriggerCharacter",o[o.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",st;var o})(),Lt=(()=>{return(o=Lt||(Lt={}))[o.EXACT=0]="EXACT",o[o.ABOVE=1]="ABOVE",o[o.BELOW=2]="BELOW",Lt;var o})(),Ht=(()=>{return(o=Ht||(Ht={}))[o.NotSet=0]="NotSet",o[o.ContentFlush=1]="ContentFlush",o[o.RecoverFromMarkers=2]="RecoverFromMarkers",o[o.Explicit=3]="Explicit",o[o.Paste=4]="Paste",o[o.Undo=5]="Undo",o[o.Redo=6]="Redo",Ht;var o})(),gi=(()=>{return(o=gi||(gi={}))[o.LF=1]="LF",o[o.CRLF=2]="CRLF",gi;var o})(),_i=(()=>{return(o=_i||(_i={}))[o.Text=0]="Text",o[o.Read=1]="Read",o[o.Write=2]="Write",_i;var o})(),ei=(()=>{return(o=ei||(ei={}))[o.None=0]="None",o[o.Keep=1]="Keep",o[o.Brackets=2]="Brackets",o[o.Advanced=3]="Advanced",o[o.Full=4]="Full",ei;var o})(),zt=(()=>{return(o=zt||(zt={}))[o.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",o[o.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",o[o.accessibilitySupport=2]="accessibilitySupport",o[o.accessibilityPageSize=3]="accessibilityPageSize",o[o.ariaLabel=4]="ariaLabel",o[o.autoClosingBrackets=5]="autoClosingBrackets",o[o.autoClosingDelete=6]="autoClosingDelete",o[o.autoClosingOvertype=7]="autoClosingOvertype",o[o.autoClosingQuotes=8]="autoClosingQuotes",o[o.autoIndent=9]="autoIndent",o[o.automaticLayout=10]="automaticLayout",o[o.autoSurround=11]="autoSurround",o[o.bracketPairColorization=12]="bracketPairColorization",o[o.guides=13]="guides",o[o.codeLens=14]="codeLens",o[o.codeLensFontFamily=15]="codeLensFontFamily",o[o.codeLensFontSize=16]="codeLensFontSize",o[o.colorDecorators=17]="colorDecorators",o[o.columnSelection=18]="columnSelection",o[o.comments=19]="comments",o[o.contextmenu=20]="contextmenu",o[o.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",o[o.cursorBlinking=22]="cursorBlinking",o[o.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",o[o.cursorStyle=24]="cursorStyle",o[o.cursorSurroundingLines=25]="cursorSurroundingLines",o[o.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",o[o.cursorWidth=27]="cursorWidth",o[o.disableLayerHinting=28]="disableLayerHinting",o[o.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",o[o.domReadOnly=30]="domReadOnly",o[o.dragAndDrop=31]="dragAndDrop",o[o.emptySelectionClipboard=32]="emptySelectionClipboard",o[o.extraEditorClassName=33]="extraEditorClassName",o[o.fastScrollSensitivity=34]="fastScrollSensitivity",o[o.find=35]="find",o[o.fixedOverflowWidgets=36]="fixedOverflowWidgets",o[o.folding=37]="folding",o[o.foldingStrategy=38]="foldingStrategy",o[o.foldingHighlight=39]="foldingHighlight",o[o.foldingImportsByDefault=40]="foldingImportsByDefault",o[o.foldingMaximumRegions=41]="foldingMaximumRegions",o[o.unfoldOnClickAfterEndOfLine=42]="unfoldOnClickAfterEndOfLine",o[o.fontFamily=43]="fontFamily",o[o.fontInfo=44]="fontInfo",o[o.fontLigatures=45]="fontLigatures",o[o.fontSize=46]="fontSize",o[o.fontWeight=47]="fontWeight",o[o.formatOnPaste=48]="formatOnPaste",o[o.formatOnType=49]="formatOnType",o[o.glyphMargin=50]="glyphMargin",o[o.gotoLocation=51]="gotoLocation",o[o.hideCursorInOverviewRuler=52]="hideCursorInOverviewRuler",o[o.hover=53]="hover",o[o.inDiffEditor=54]="inDiffEditor",o[o.inlineSuggest=55]="inlineSuggest",o[o.letterSpacing=56]="letterSpacing",o[o.lightbulb=57]="lightbulb",o[o.lineDecorationsWidth=58]="lineDecorationsWidth",o[o.lineHeight=59]="lineHeight",o[o.lineNumbers=60]="lineNumbers",o[o.lineNumbersMinChars=61]="lineNumbersMinChars",o[o.linkedEditing=62]="linkedEditing",o[o.links=63]="links",o[o.matchBrackets=64]="matchBrackets",o[o.minimap=65]="minimap",o[o.mouseStyle=66]="mouseStyle",o[o.mouseWheelScrollSensitivity=67]="mouseWheelScrollSensitivity",o[o.mouseWheelZoom=68]="mouseWheelZoom",o[o.multiCursorMergeOverlapping=69]="multiCursorMergeOverlapping",o[o.multiCursorModifier=70]="multiCursorModifier",o[o.multiCursorPaste=71]="multiCursorPaste",o[o.occurrencesHighlight=72]="occurrencesHighlight",o[o.overviewRulerBorder=73]="overviewRulerBorder",o[o.overviewRulerLanes=74]="overviewRulerLanes",o[o.padding=75]="padding",o[o.parameterHints=76]="parameterHints",o[o.peekWidgetDefaultFocus=77]="peekWidgetDefaultFocus",o[o.definitionLinkOpensInPeek=78]="definitionLinkOpensInPeek",o[o.quickSuggestions=79]="quickSuggestions",o[o.quickSuggestionsDelay=80]="quickSuggestionsDelay",o[o.readOnly=81]="readOnly",o[o.renameOnType=82]="renameOnType",o[o.renderControlCharacters=83]="renderControlCharacters",o[o.renderFinalNewline=84]="renderFinalNewline",o[o.renderLineHighlight=85]="renderLineHighlight",o[o.renderLineHighlightOnlyWhenFocus=86]="renderLineHighlightOnlyWhenFocus",o[o.renderValidationDecorations=87]="renderValidationDecorations",o[o.renderWhitespace=88]="renderWhitespace",o[o.revealHorizontalRightPadding=89]="revealHorizontalRightPadding",o[o.roundedSelection=90]="roundedSelection",o[o.rulers=91]="rulers",o[o.scrollbar=92]="scrollbar",o[o.scrollBeyondLastColumn=93]="scrollBeyondLastColumn",o[o.scrollBeyondLastLine=94]="scrollBeyondLastLine",o[o.scrollPredominantAxis=95]="scrollPredominantAxis",o[o.selectionClipboard=96]="selectionClipboard",o[o.selectionHighlight=97]="selectionHighlight",o[o.selectOnLineNumbers=98]="selectOnLineNumbers",o[o.showFoldingControls=99]="showFoldingControls",o[o.showUnused=100]="showUnused",o[o.snippetSuggestions=101]="snippetSuggestions",o[o.smartSelect=102]="smartSelect",o[o.smoothScrolling=103]="smoothScrolling",o[o.stickyTabStops=104]="stickyTabStops",o[o.stopRenderingLineAfter=105]="stopRenderingLineAfter",o[o.suggest=106]="suggest",o[o.suggestFontSize=107]="suggestFontSize",o[o.suggestLineHeight=108]="suggestLineHeight",o[o.suggestOnTriggerCharacters=109]="suggestOnTriggerCharacters",o[o.suggestSelection=110]="suggestSelection",o[o.tabCompletion=111]="tabCompletion",o[o.tabIndex=112]="tabIndex",o[o.unicodeHighlighting=113]="unicodeHighlighting",o[o.unusualLineTerminators=114]="unusualLineTerminators",o[o.useShadowDOM=115]="useShadowDOM",o[o.useTabStops=116]="useTabStops",o[o.wordSeparators=117]="wordSeparators",o[o.wordWrap=118]="wordWrap",o[o.wordWrapBreakAfterCharacters=119]="wordWrapBreakAfterCharacters",o[o.wordWrapBreakBeforeCharacters=120]="wordWrapBreakBeforeCharacters",o[o.wordWrapColumn=121]="wordWrapColumn",o[o.wordWrapOverride1=122]="wordWrapOverride1",o[o.wordWrapOverride2=123]="wordWrapOverride2",o[o.wrappingIndent=124]="wrappingIndent",o[o.wrappingStrategy=125]="wrappingStrategy",o[o.showDeprecated=126]="showDeprecated",o[o.inlayHints=127]="inlayHints",o[o.editorClassName=128]="editorClassName",o[o.pixelRatio=129]="pixelRatio",o[o.tabFocusMode=130]="tabFocusMode",o[o.layoutInfo=131]="layoutInfo",o[o.wrappingInfo=132]="wrappingInfo",zt;var o})(),Si=(()=>{return(o=Si||(Si={}))[o.TextDefined=0]="TextDefined",o[o.LF=1]="LF",o[o.CRLF=2]="CRLF",Si;var o})(),Jt=(()=>{return(o=Jt||(Jt={}))[o.LF=0]="LF",o[o.CRLF=1]="CRLF",Jt;var o})(),fn=(()=>{return(o=fn||(fn={}))[o.None=0]="None",o[o.Indent=1]="Indent",o[o.IndentOutdent=2]="IndentOutdent",o[o.Outdent=3]="Outdent",fn;var o})(),Ds=(()=>{return(o=Ds||(Ds={}))[o.Both=0]="Both",o[o.Right=1]="Right",o[o.Left=2]="Left",o[o.None=3]="None",Ds;var o})(),js=(()=>{return(o=js||(js={}))[o.Other=0]="Other",o[o.Type=1]="Type",o[o.Parameter=2]="Parameter",js;var o})(),ks=(()=>{return(o=ks||(ks={}))[o.Automatic=0]="Automatic",o[o.Explicit=1]="Explicit",ks;var o})(),lo=(()=>{return(o=lo||(lo={}))[o.DependsOnKbLayout=-1]="DependsOnKbLayout",o[o.Unknown=0]="Unknown",o[o.Backspace=1]="Backspace",o[o.Tab=2]="Tab",o[o.Enter=3]="Enter",o[o.Shift=4]="Shift",o[o.Ctrl=5]="Ctrl",o[o.Alt=6]="Alt",o[o.PauseBreak=7]="PauseBreak",o[o.CapsLock=8]="CapsLock",o[o.Escape=9]="Escape",o[o.Space=10]="Space",o[o.PageUp=11]="PageUp",o[o.PageDown=12]="PageDown",o[o.End=13]="End",o[o.Home=14]="Home",o[o.LeftArrow=15]="LeftArrow",o[o.UpArrow=16]="UpArrow",o[o.RightArrow=17]="RightArrow",o[o.DownArrow=18]="DownArrow",o[o.Insert=19]="Insert",o[o.Delete=20]="Delete",o[o.Digit0=21]="Digit0",o[o.Digit1=22]="Digit1",o[o.Digit2=23]="Digit2",o[o.Digit3=24]="Digit3",o[o.Digit4=25]="Digit4",o[o.Digit5=26]="Digit5",o[o.Digit6=27]="Digit6",o[o.Digit7=28]="Digit7",o[o.Digit8=29]="Digit8",o[o.Digit9=30]="Digit9",o[o.KeyA=31]="KeyA",o[o.KeyB=32]="KeyB",o[o.KeyC=33]="KeyC",o[o.KeyD=34]="KeyD",o[o.KeyE=35]="KeyE",o[o.KeyF=36]="KeyF",o[o.KeyG=37]="KeyG",o[o.KeyH=38]="KeyH",o[o.KeyI=39]="KeyI",o[o.KeyJ=40]="KeyJ",o[o.KeyK=41]="KeyK",o[o.KeyL=42]="KeyL",o[o.KeyM=43]="KeyM",o[o.KeyN=44]="KeyN",o[o.KeyO=45]="KeyO",o[o.KeyP=46]="KeyP",o[o.KeyQ=47]="KeyQ",o[o.KeyR=48]="KeyR",o[o.KeyS=49]="KeyS",o[o.KeyT=50]="KeyT",o[o.KeyU=51]="KeyU",o[o.KeyV=52]="KeyV",o[o.KeyW=53]="KeyW",o[o.KeyX=54]="KeyX",o[o.KeyY=55]="KeyY",o[o.KeyZ=56]="KeyZ",o[o.Meta=57]="Meta",o[o.ContextMenu=58]="ContextMenu",o[o.F1=59]="F1",o[o.F2=60]="F2",o[o.F3=61]="F3",o[o.F4=62]="F4",o[o.F5=63]="F5",o[o.F6=64]="F6",o[o.F7=65]="F7",o[o.F8=66]="F8",o[o.F9=67]="F9",o[o.F10=68]="F10",o[o.F11=69]="F11",o[o.F12=70]="F12",o[o.F13=71]="F13",o[o.F14=72]="F14",o[o.F15=73]="F15",o[o.F16=74]="F16",o[o.F17=75]="F17",o[o.F18=76]="F18",o[o.F19=77]="F19",o[o.NumLock=78]="NumLock",o[o.ScrollLock=79]="ScrollLock",o[o.Semicolon=80]="Semicolon",o[o.Equal=81]="Equal",o[o.Comma=82]="Comma",o[o.Minus=83]="Minus",o[o.Period=84]="Period",o[o.Slash=85]="Slash",o[o.Backquote=86]="Backquote",o[o.BracketLeft=87]="BracketLeft",o[o.Backslash=88]="Backslash",o[o.BracketRight=89]="BracketRight",o[o.Quote=90]="Quote",o[o.OEM_8=91]="OEM_8",o[o.IntlBackslash=92]="IntlBackslash",o[o.Numpad0=93]="Numpad0",o[o.Numpad1=94]="Numpad1",o[o.Numpad2=95]="Numpad2",o[o.Numpad3=96]="Numpad3",o[o.Numpad4=97]="Numpad4",o[o.Numpad5=98]="Numpad5",o[o.Numpad6=99]="Numpad6",o[o.Numpad7=100]="Numpad7",o[o.Numpad8=101]="Numpad8",o[o.Numpad9=102]="Numpad9",o[o.NumpadMultiply=103]="NumpadMultiply",o[o.NumpadAdd=104]="NumpadAdd",o[o.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",o[o.NumpadSubtract=106]="NumpadSubtract",o[o.NumpadDecimal=107]="NumpadDecimal",o[o.NumpadDivide=108]="NumpadDivide",o[o.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",o[o.ABNT_C1=110]="ABNT_C1",o[o.ABNT_C2=111]="ABNT_C2",o[o.AudioVolumeMute=112]="AudioVolumeMute",o[o.AudioVolumeUp=113]="AudioVolumeUp",o[o.AudioVolumeDown=114]="AudioVolumeDown",o[o.BrowserSearch=115]="BrowserSearch",o[o.BrowserHome=116]="BrowserHome",o[o.BrowserBack=117]="BrowserBack",o[o.BrowserForward=118]="BrowserForward",o[o.MediaTrackNext=119]="MediaTrackNext",o[o.MediaTrackPrevious=120]="MediaTrackPrevious",o[o.MediaStop=121]="MediaStop",o[o.MediaPlayPause=122]="MediaPlayPause",o[o.LaunchMediaPlayer=123]="LaunchMediaPlayer",o[o.LaunchMail=124]="LaunchMail",o[o.LaunchApp2=125]="LaunchApp2",o[o.MAX_VALUE=126]="MAX_VALUE",lo;var o})(),Ts=(()=>{return(o=Ts||(Ts={}))[o.Hint=1]="Hint",o[o.Info=2]="Info",o[o.Warning=4]="Warning",o[o.Error=8]="Error",Ts;var o})(),On=(()=>{return(o=On||(On={}))[o.Unnecessary=1]="Unnecessary",o[o.Deprecated=2]="Deprecated",On;var o})(),Tt=(()=>{return(o=Tt||(Tt={}))[o.Inline=1]="Inline",o[o.Gutter=2]="Gutter",Tt;var o})(),ms=(()=>{return(o=ms||(ms={}))[o.UNKNOWN=0]="UNKNOWN",o[o.TEXTAREA=1]="TEXTAREA",o[o.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",o[o.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",o[o.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",o[o.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",o[o.CONTENT_TEXT=6]="CONTENT_TEXT",o[o.CONTENT_EMPTY=7]="CONTENT_EMPTY",o[o.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",o[o.CONTENT_WIDGET=9]="CONTENT_WIDGET",o[o.OVERVIEW_RULER=10]="OVERVIEW_RULER",o[o.SCROLLBAR=11]="SCROLLBAR",o[o.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",o[o.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR",ms;var o})(),Un=(()=>{return(o=Un||(Un={}))[o.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",o[o.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",o[o.TOP_CENTER=2]="TOP_CENTER",Un;var o})(),jn=(()=>{return(o=jn||(jn={}))[o.Left=1]="Left",o[o.Center=2]="Center",o[o.Right=4]="Right",o[o.Full=7]="Full",jn;var o})(),co=(()=>{return(o=co||(co={}))[o.Left=0]="Left",o[o.Right=1]="Right",o[o.None=2]="None",co;var o})(),ho=(()=>{return(o=ho||(ho={}))[o.Off=0]="Off",o[o.On=1]="On",o[o.Relative=2]="Relative",o[o.Interval=3]="Interval",o[o.Custom=4]="Custom",ho;var o})(),uo=(()=>{return(o=uo||(uo={}))[o.None=0]="None",o[o.Text=1]="Text",o[o.Blocks=2]="Blocks",uo;var o})(),ps=(()=>{return(o=ps||(ps={}))[o.Smooth=0]="Smooth",o[o.Immediate=1]="Immediate",ps;var o})(),bn=(()=>{return(o=bn||(bn={}))[o.Auto=1]="Auto",o[o.Hidden=2]="Hidden",o[o.Visible=3]="Visible",bn;var o})(),ko=(()=>{return(o=ko||(ko={}))[o.LTR=0]="LTR",o[o.RTL=1]="RTL",ko;var o})(),fo=(()=>{return(o=fo||(fo={}))[o.Invoke=1]="Invoke",o[o.TriggerCharacter=2]="TriggerCharacter",o[o.ContentChange=3]="ContentChange",fo;var o})(),qn=(()=>{return(o=qn||(qn={}))[o.File=0]="File",o[o.Module=1]="Module",o[o.Namespace=2]="Namespace",o[o.Package=3]="Package",o[o.Class=4]="Class",o[o.Method=5]="Method",o[o.Property=6]="Property",o[o.Field=7]="Field",o[o.Constructor=8]="Constructor",o[o.Enum=9]="Enum",o[o.Interface=10]="Interface",o[o.Function=11]="Function",o[o.Variable=12]="Variable",o[o.Constant=13]="Constant",o[o.String=14]="String",o[o.Number=15]="Number",o[o.Boolean=16]="Boolean",o[o.Array=17]="Array",o[o.Object=18]="Object",o[o.Key=19]="Key",o[o.Null=20]="Null",o[o.EnumMember=21]="EnumMember",o[o.Struct=22]="Struct",o[o.Event=23]="Event",o[o.Operator=24]="Operator",o[o.TypeParameter=25]="TypeParameter",qn;var o})(),Kn=(()=>{return(o=Kn||(Kn={}))[o.Deprecated=1]="Deprecated",Kn;var o})(),Nn=(()=>{return(o=Nn||(Nn={}))[o.Hidden=0]="Hidden",o[o.Blink=1]="Blink",o[o.Smooth=2]="Smooth",o[o.Phase=3]="Phase",o[o.Expand=4]="Expand",o[o.Solid=5]="Solid",Nn;var o})(),Ks=(()=>{return(o=Ks||(Ks={}))[o.Line=1]="Line",o[o.Block=2]="Block",o[o.Underline=3]="Underline",o[o.LineThin=4]="LineThin",o[o.BlockOutline=5]="BlockOutline",o[o.UnderlineThin=6]="UnderlineThin",Ks;var o})(),os=(()=>{return(o=os||(os={}))[o.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",o[o.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",o[o.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",o[o.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter",os;var o})(),Yn=(()=>{return(o=Yn||(Yn={}))[o.None=0]="None",o[o.Same=1]="Same",o[o.Indent=2]="Indent",o[o.DeepIndent=3]="DeepIndent",Yn;var o})();let Ms=(()=>{class o{static chord(t,i){return(0,Mi.gx)(t,i)}}return o.CtrlCmd=2048,o.Shift=1024,o.Alt=512,o.WinCtrl=256,o})();function To(){return{editor:void 0,languages:void 0,CancellationTokenSource:fi.A,Emitter:Be.Q5,KeyCode:lo,KeyMod:Ms,Position:Xe.L,Range:Ze.e,Selection:Xt.Y,SelectionDirection:ko,MarkerSeverity:Ts,MarkerTag:On,Uri:ri.o,Token:rt.WU}}L(14827);var ut=L(13088),Ei=L(13366),ze=L(52425),dt=L(48554);function Bi(o,e){o instanceof dt.Z?(o.setFontFamily(e.getMassagedFontFamily(Ei.isSafari?Li.fontFamily:null)),o.setFontWeight(e.fontWeight),o.setFontSize(e.fontSize),o.setFontFeatureSettings(e.fontFeatureSettings),o.setLineHeight(e.lineHeight),o.setLetterSpacing(e.letterSpacing)):(o.style.fontFamily=e.getMassagedFontFamily(Ei.isSafari?Li.fontFamily:null),o.style.fontWeight=e.fontWeight,o.style.fontSize=e.fontSize+"px",o.style.fontFeatureSettings=e.fontFeatureSettings,o.style.lineHeight=e.lineHeight+"px",o.style.letterSpacing=e.letterSpacing+"px")}class go{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}}class _s{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";const t=document.createElement("div");Bi(t,this._bareFontInfo),e.appendChild(t);const i=document.createElement("div");Bi(i,this._bareFontInfo),i.style.fontWeight="bold",e.appendChild(i);const n=document.createElement("div");Bi(n,this._bareFontInfo),n.style.fontStyle="italic",e.appendChild(n);const s=[];for(const r of this._requests){let a;0===r.type&&(a=t),2===r.type&&(a=i),1===r.type&&(a=n),a.appendChild(document.createElement("br"));const l=document.createElement("span");_s._render(l,r),a.appendChild(l),s.push(l)}this._container=e,this._testElements=s}static _render(e,t){if(" "===t.chr){let i="\xa0";for(let n=0;n<8;n++)i+=i;e.innerText=i}else{let i=t.chr;for(let n=0;n<8;n++)i+=i;e.textContent=i}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++)this._requests[e].fulfill(this._testElements[e].offsetWidth/256)}}const wn=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new Be.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(o){o=Math.min(Math.max(-5,o),20),this._zoomLevel!==o&&(this._zoomLevel=o,this._onDidChangeZoomLevel.fire(this._zoomLevel))}},Rs=h.dz?1.5:1.35;class vi{constructor(e){this._bareFontInfoBrand=void 0,this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.lineHeight=0|e.lineHeight,this.letterSpacing=e.letterSpacing}static createFromValidatedSettings(e,t,i){const n=e.get(43),s=e.get(47),r=e.get(46),a=e.get(45),l=e.get(59),d=e.get(56);return vi._create(n,s,r,a,l,d,t,i)}static _create(e,t,i,n,s,r,a,l){0===s?s=Rs*i:s<8&&(s*=i),(s=Math.round(s))<8&&(s=8);const d=1+(l?0:.1*wn.getZoomLevel());return new vi({pixelRatio:a,fontFamily:e,fontWeight:t,fontSize:i*=d,fontFeatureSettings:n,lineHeight:s*=d,letterSpacing:r})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(e){const t=vi._wrapInQuotes(this.fontFamily);return e&&this.fontFamily!==e?`${t}, ${e}`:t}static _wrapInQuotes(e){return/[,"']/.test(e)?e:/[+ ]/.test(e)?`"${e}"`:e}}class rn extends vi{constructor(e,t){super(e),this._editorStylingBrand=void 0,this.version=1,this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}}class en{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){const t=e.getId();return!!this._values[t]}get(e){const t=e.getId();return this._values[t]}put(e,t){const i=e.getId();this._keys[i]=e,this._values[i]=t}remove(e){const t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map(e=>this._values[e])}}const Sn=new class Os extends ze.JT{constructor(){super(),this._onDidChange=this._register(new Be.Q5),this.onDidChange=this._onDidChange.event,this._cache=new en,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new en,this._onDidChange.fire()}_writeToCache(e,t){this._cache.put(e,t),!t.isTrusted&&-1===this._evictUntrustedReadingsTimeout&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const e=this._cache.getValues();let t=!1;for(const i of e)i.isTrusted||(t=!0,this._cache.remove(i));t&&this._onDidChange.fire()}readFontInfo(e){if(!this._cache.has(e)){let t=this._actualReadFontInfo(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new rn({pixelRatio:Ei.PixelRatio.value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)}_createRequest(e,t,i,n){const s=new go(e,t);return i.push(s),n&&n.push(s),s}_actualReadFontInfo(e){const t=[],i=[],n=this._createRequest("n",0,t,i),s=this._createRequest("\uff4d",0,t,null),r=this._createRequest(" ",0,t,i),a=this._createRequest("0",0,t,i),l=this._createRequest("1",0,t,i),d=this._createRequest("2",0,t,i),u=this._createRequest("3",0,t,i),m=this._createRequest("4",0,t,i),C=this._createRequest("5",0,t,i),S=this._createRequest("6",0,t,i),M=this._createRequest("7",0,t,i),j=this._createRequest("8",0,t,i),J=this._createRequest("9",0,t,i),ne=this._createRequest("\u2192",0,t,i),X=this._createRequest("\uffeb",0,t,null),le=this._createRequest("\xb7",0,t,i),Ce=this._createRequest(String.fromCharCode(11825),0,t,null),ke="|/-_ilm%";for(let Qe=0,Pe=ke.length;Qe<Pe;Qe++)this._createRequest(ke.charAt(Qe),0,t,i),this._createRequest(ke.charAt(Qe),1,t,i),this._createRequest(ke.charAt(Qe),2,t,i);!function vn(o,e){new _s(o,e).read()}(e,t);const Ne=Math.max(a.width,l.width,d.width,u.width,m.width,C.width,S.width,M.width,j.width,J.width);let ve=e.fontFeatureSettings===oe.OFF;const pe=i[0].width;for(let Qe=1,Pe=i.length;ve&&Qe<Pe;Qe++){const et=pe-i[Qe].width;if(et<-.001||et>.001){ve=!1;break}}let Te=!0;return ve&&X.width!==pe&&(Te=!1),X.width>ne.width&&(Te=!1),new rn({pixelRatio:Ei.PixelRatio.value,fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:ve,typicalHalfwidthCharacterWidth:n.width,typicalFullwidthCharacterWidth:s.width,canUseHalfwidthRightwardsArrow:Te,spaceWidth:r.width,middotWidth:le.width,wsmiddotWidth:Ce.width,maxDigitWidth:Ne},!0)}};var Ti=L(7221),Mo=L(48797);const Pn={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class mo extends ze.JT{constructor(e,t={}){super(),this._onDidUpdate=this._register(new Be.Q5),this._editor=e,this._options=v.jB(t,Pn,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(i=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(i=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(e){this.ranges=[],e&&e.forEach(t=>{!this._options.ignoreCharChanges&&t.charChanges?t.charChanges.forEach(i=>{this.ranges.push({rhs:!0,range:new Ze.e(i.modifiedStartLineNumber,i.modifiedStartColumn,i.modifiedEndLineNumber,i.modifiedEndColumn)})}):this.ranges.push(0===t.modifiedEndLineNumber?{rhs:!0,range:new Ze.e(t.modifiedStartLineNumber,1,t.modifiedStartLineNumber+1,1)}:{rhs:!0,range:new Ze.e(t.modifiedStartLineNumber,1,t.modifiedEndLineNumber+1,1)})}),this.ranges.sort((t,i)=>Ze.e.compareRangesUsingStarts(t.range,i.range)),this._onDidUpdate.fire(this)}_initIdx(e){let t=!1;const i=this._editor.getPosition();if(i){for(let n=0,s=this.ranges.length;n<s&&!t;n++)i.isBeforeOrEqual(this.ranges[n].range.getStartPosition())&&(this.nextIdx=n+(e?0:-1),t=!0);t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0}_move(e,t){if(Mo.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;-1===this.nextIdx?this._initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const n=i.range.getStartPosition();this._editor.setPosition(n),this._editor.revealRangeInCenter(i.range,t)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(e=0){this._move(!0,e)}previous(e=0){this._move(!1,e)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}const ji={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"};var Ri=L(32213),an=L(17372),ln=L(5052),je=L(47675),Q=L(8648),se=L(63072),he=L(53663),be=L(54435);let qe=!1;function lt(o){!h.$L||(qe||(qe=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(o.message))}class It{constructor(e,t,i,n){this.vsWorker=e,this.req=t,this.method=i,this.args=n,this.type=0}}class ft{constructor(e,t,i,n){this.vsWorker=e,this.seq=t,this.res=i,this.err=n,this.type=1}}class pt{constructor(e,t,i,n){this.vsWorker=e,this.req=t,this.eventName=i,this.arg=n,this.type=2}}class xt{constructor(e,t,i){this.vsWorker=e,this.req=t,this.event=i,this.type=3}}class Zt{constructor(e,t){this.vsWorker=e,this.req=t,this.type=4}}class jt{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(e){this._workerId=e}sendMessage(e,t){const i=String(++this._lastSentReq);return new Promise((n,s)=>{this._pendingReplies[i]={resolve:n,reject:s},this._send(new It(this._workerId,i,e,t))})}listen(e,t){let i=null;const n=new Be.Q5({onFirstListenerAdd:()=>{i=String(++this._lastSentReq),this._pendingEmitters.set(i,n),this._send(new pt(this._workerId,i,e,t))},onLastListenerRemove:()=>{this._pendingEmitters.delete(i),this._send(new Zt(this._workerId,i)),i=null}});return n.event}handleMessage(e){!e||!e.vsWorker||-1!==this._workerId&&e.vsWorker!==this._workerId||this._handleMessage(e)}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq])return void console.warn("Got reply to unknown seq");let t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let i=e.err;return e.err.$isError&&(i=new Error,i.name=e.err.name,i.message=e.err.message,i.stack=e.err.stack),void t.reject(i)}t.resolve(e.res)}_handleRequestMessage(e){let t=e.req;this._handler.handleMessage(e.method,e.args).then(n=>{this._send(new ft(this._workerId,t,n,void 0))},n=>{n.detail instanceof Error&&(n.detail=(0,he.ri)(n.detail)),this._send(new ft(this._workerId,t,void 0,(0,he.ri)(n)))})}_handleSubscribeEventMessage(e){const t=e.req,i=this._handler.handleEvent(e.eventName,e.arg)(n=>{this._send(new xt(this._workerId,t,n))});this._pendingEvents.set(t,i)}_handleEventMessage(e){this._pendingEmitters.has(e.req)?this._pendingEmitters.get(e.req).fire(e.event):console.warn("Got event for unknown req")}_handleUnsubscribeEventMessage(e){this._pendingEvents.has(e.req)?(this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)):console.warn("Got unsubscribe for unknown req")}_send(e){let t=[];if(0===e.type)for(let i=0;i<e.args.length;i++)e.args[i]instanceof ArrayBuffer&&t.push(e.args[i]);else 1===e.type&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}}class Fi extends ze.JT{constructor(e,t,i){super();let n=null;this._worker=this._register(e.create("vs/base/common/worker/simpleWorker",d=>{this._protocol.handleMessage(d)},d=>{n&&n(d)})),this._protocol=new jt({sendMessage:(d,u)=>{this._worker.postMessage(d,u)},handleMessage:(d,u)=>{if("function"!=typeof i[d])return Promise.reject(new Error("Missing method "+d+" on main thread host."));try{return Promise.resolve(i[d].apply(i,u))}catch(m){return Promise.reject(m)}},handleEvent:(d,u)=>{if(Qo(d)){const m=i[d].call(i,u);if("function"!=typeof m)throw new Error(`Missing dynamic event ${d} on main thread host.`);return m}if(tn(d)){const m=i[d];if("function"!=typeof m)throw new Error(`Missing event ${d} on main thread host.`);return m}throw new Error(`Malformed event name ${d}`)}}),this._protocol.setWorkerId(this._worker.getId());let s=null;void 0!==h.li.require&&"function"==typeof h.li.require.getConfig?s=h.li.require.getConfig():void 0!==h.li.requirejs&&(s=h.li.requirejs.s.contexts._.config);const r=be.$E(i);this._onModuleLoaded=this._protocol.sendMessage("$initialize",[this._worker.getId(),JSON.parse(JSON.stringify(s)),t,r]);const a=(d,u)=>this._request(d,u),l=(d,u)=>this._protocol.listen(d,u);this._lazyProxy=new Promise((d,u)=>{n=u,this._onModuleLoaded.then(m=>{d(function kr(o,e,t){const i=r=>function(){const a=Array.prototype.slice.call(arguments,0);return e(r,a)},n=r=>function(a){return t(r,a)};let s={};for(const r of o)s[r]=Qo(r)?n(r):tn(r)?t(r,void 0):i(r);return s}(m,a,l))},m=>{u(m),this._onError("Worker failed to load "+t,m)})})}getProxyObject(){return this._lazyProxy}_request(e,t){return new Promise((i,n)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(e,t).then(i,n)},n)})}_onError(e,t){console.error(e),console.info(t)}}function tn(o){return"o"===o[0]&&"n"===o[1]&&ut.df(o.charCodeAt(2))}function Qo(o){return/^onDynamic/.test(o)&&ut.df(o.charCodeAt(9))}var Bn;const Qn=null===(Bn=window.trustedTypes)||void 0===Bn?void 0:Bn.createPolicy("defaultWorkerFactory",{createScriptURL:o=>o});class Tr{constructor(e,t,i,n,s){this.id=t;const r=function $s(o){if(h.li.MonacoEnvironment){if("function"==typeof h.li.MonacoEnvironment.getWorker)return h.li.MonacoEnvironment.getWorker("workerMain.js",o);if("function"==typeof h.li.MonacoEnvironment.getWorkerUrl){const e=h.li.MonacoEnvironment.getWorkerUrl("workerMain.js",o);return new Worker(Qn?Qn.createScriptURL(e):e,{name:o})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}(i);this.worker=function va(o){return"function"==typeof o.then}(r)?r:Promise.resolve(r),this.postMessage(e,[]),this.worker.then(a=>{a.onmessage=function(l){n(l.data)},a.onmessageerror=s,"function"==typeof a.addEventListener&&a.addEventListener("error",s)})}getId(){return this.id}postMessage(e,t){this.worker&&this.worker.then(i=>i.postMessage(e,t))}dispose(){this.worker&&this.worker.then(e=>e.terminate()),this.worker=null}}let wa=(()=>{class o{constructor(t){this._label=t,this._webWorkerFailedBeforeError=!1}create(t,i,n){let s=++o.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new Tr(t,s,this._label||"anonymous"+s,i,r=>{lt(r),this._webWorkerFailedBeforeError=r,n(r)})}}return o.LAST_WORKER_ID=0,o})();class As{constructor(e,t,i,n){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=n}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}function Xo(o,e){switch(typeof o){case"object":return null===o?kn(349,e):Array.isArray(o)?function Cl(o,e){return e=kn(104579,e),o.reduce((t,i)=>Xo(i,t),e)}(o,e):function bl(o,e){return e=kn(181387,e),Object.keys(o).sort().reduce((t,i)=>(t=Ro(i,t),Xo(o[i],t)),e)}(o,e);case"string":return Ro(o,e);case"boolean":return function _l(o,e){return kn(o?433:863,e)}(o,e);case"number":return kn(o,e);case"undefined":return kn(937,e);default:return kn(617,e)}}function kn(o,e){return(e<<5)-e+o|0}function Ro(o,e){e=kn(149417,e);for(let t=0,i=o.length;t<i;t++)e=kn(o.charCodeAt(t),e);return e}function _o(o,e,t=32){const i=t-e;return(o<<e|(~((1<<i)-1)&o)>>>i)>>>0}function Gs(o,e=0,t=o.byteLength,i=0){for(let n=0;n<t;n++)o[e+n]=i}function Zs(o,e=32){return o instanceof ArrayBuffer?Array.from(new Uint8Array(o)).map(t=>t.toString(16).padStart(2,"0")).join(""):function Mr(o,e,t="0"){for(;o.length<e;)o=t+o;return o}((o>>>0).toString(16),e/4)}class Fn{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const t=e.length;if(0===t)return;const i=this._buff;let r,a,n=this._buffLen,s=this._leftoverHighSurrogate;for(0!==s?(r=s,a=-1,s=0):(r=e.charCodeAt(0),a=0);;){let l=r;if(ut.ZG(r)){if(!(a+1<t)){s=r;break}{const d=e.charCodeAt(a+1);ut.YK(d)?(a++,l=ut.rL(r,d)):l=65533}}else ut.YK(r)&&(l=65533);if(n=this._push(i,n,l),a++,!(a<t))break;r=e.charCodeAt(a)}this._buffLen=n,this._leftoverHighSurrogate=s}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(1984&i)>>>6,e[t++]=128|(63&i)>>>0):i<65536?(e[t++]=224|(61440&i)>>>12,e[t++]=128|(4032&i)>>>6,e[t++]=128|(63&i)>>>0):(e[t++]=240|(1835008&i)>>>18,e[t++]=128|(258048&i)>>>12,e[t++]=128|(4032&i)>>>6,e[t++]=128|(63&i)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),Zs(this._h0)+Zs(this._h1)+Zs(this._h2)+Zs(this._h3)+Zs(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,Gs(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Gs(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=Fn._bigBlock32,t=this._buffDV;for(let m=0;m<64;m+=4)e.setUint32(m,t.getUint32(m,!1),!1);for(let m=64;m<320;m+=4)e.setUint32(m,_o(e.getUint32(m-12,!1)^e.getUint32(m-32,!1)^e.getUint32(m-56,!1)^e.getUint32(m-64,!1),1),!1);let l,d,u,i=this._h0,n=this._h1,s=this._h2,r=this._h3,a=this._h4;for(let m=0;m<80;m++)m<20?(l=n&s|~n&r,d=1518500249):m<40?(l=n^s^r,d=1859775393):m<60?(l=n&s|n&r|s&r,d=2400959708):(l=n^s^r,d=3395469782),u=_o(i,5)+l+a+d+e.getUint32(4*m,!1)&4294967295,a=r,r=s,s=_o(n,30),n=i,i=u;this._h0=this._h0+i&4294967295,this._h1=this._h1+n&4294967295,this._h2=this._h2+s&4294967295,this._h3=this._h3+r&4294967295,this._h4=this._h4+a&4294967295}}Fn._bigBlock32=new DataView(new ArrayBuffer(320));class $n{constructor(e){this.source=e}getElements(){const e=this.source,t=new Int32Array(e.length);for(let i=0,n=e.length;i<n;i++)t[i]=e.charCodeAt(i);return t}}function Gn(o,e,t){return new yn(new $n(o),new $n(e)).ComputeDiff(t).changes}class Co{static Assert(e,t){if(!e)throw new Error(t)}}class Wn{static Copy(e,t,i,n,s){for(let r=0;r<s;r++)i[n+r]=e[t+r]}static Copy2(e,t,i,n,s){for(let r=0;r<s;r++)i[n+r]=e[t+r]}}class Jo{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new As(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class yn{constructor(e,t,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=t;const[n,s,r]=yn._getElements(e),[a,l,d]=yn._getElements(t);this._hasStrings=r&&d,this._originalStringElements=n,this._originalElementsOrHash=s,this._modifiedStringElements=a,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&"string"==typeof e[0]}static _getElements(e){const t=e.getElements();if(yn._isStringArray(t)){const i=new Int32Array(t.length);for(let n=0,s=t.length;n<s;n++)i[n]=Ro(t[n],0);return[t,i,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._modifiedStringElements[t])}ElementsAreStrictEqual(e,t){return!!this.ElementsAreEqual(e,t)&&yn._getStrictElement(this._originalSequence,e)===yn._getStrictElement(this._modifiedSequence,t)}static _getStrictElement(e,t){return"function"==typeof e.getStrictElement?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]===this._originalElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._originalStringElements[t])}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._modifiedStringElements[e]===this._modifiedStringElements[t])}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,n,s){const r=[!1];let a=this.ComputeDiffRecursive(e,t,i,n,r);return s&&(a=this.PrettifyChanges(a)),{quitEarly:r[0],changes:a}}ComputeDiffRecursive(e,t,i,n,s){for(s[0]=!1;e<=t&&i<=n&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&n>=i&&this.ElementsAreEqual(t,n);)t--,n--;if(e>t||i>n){let m;return i<=n?(Co.Assert(e===t+1,"originalStart should only be one more than originalEnd"),m=[new As(e,0,i,n-i+1)]):e<=t?(Co.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),m=[new As(e,t-e+1,i,0)]):(Co.Assert(e===t+1,"originalStart should only be one more than originalEnd"),Co.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),m=[]),m}const r=[0],a=[0],l=this.ComputeRecursionPoint(e,t,i,n,r,a,s),d=r[0],u=a[0];if(null!==l)return l;if(!s[0]){const m=this.ComputeDiffRecursive(e,d,i,u,s);let C=[];return C=s[0]?[new As(d+1,t-(d+1)+1,u+1,n-(u+1)+1)]:this.ComputeDiffRecursive(d+1,t,u+1,n,s),this.ConcatenateChanges(m,C)}return[new As(e,t-e+1,i,n-i+1)]}WALKTRACE(e,t,i,n,s,r,a,l,d,u,m,C,S,M,j,J,ne,X){let le=null,Ce=null,ke=new Jo,Ne=t,ve=i,pe=S[0]-J[0]-n,Te=-1073741824,Qe=this.m_forwardHistory.length-1;do{const Pe=pe+e;Pe===Ne||Pe<ve&&d[Pe-1]<d[Pe+1]?(M=(m=d[Pe+1])-pe-n,m<Te&&ke.MarkNextChange(),Te=m,ke.AddModifiedElement(m+1,M),pe=Pe+1-e):(M=(m=d[Pe-1]+1)-pe-n,m<Te&&ke.MarkNextChange(),Te=m-1,ke.AddOriginalElement(m,M+1),pe=Pe-1-e),Qe>=0&&(e=(d=this.m_forwardHistory[Qe])[0],Ne=1,ve=d.length-1)}while(--Qe>=-1);if(le=ke.getReverseChanges(),X[0]){let Pe=S[0]+1,et=J[0]+1;if(null!==le&&le.length>0){const ot=le[le.length-1];Pe=Math.max(Pe,ot.getOriginalEnd()),et=Math.max(et,ot.getModifiedEnd())}Ce=[new As(Pe,C-Pe+1,et,j-et+1)]}else{ke=new Jo,Ne=r,ve=a,pe=S[0]-J[0]-l,Te=1073741824,Qe=ne?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const Pe=pe+s;Pe===Ne||Pe<ve&&u[Pe-1]>=u[Pe+1]?(M=(m=u[Pe+1]-1)-pe-l,m>Te&&ke.MarkNextChange(),Te=m+1,ke.AddOriginalElement(m+1,M+1),pe=Pe+1-s):(M=(m=u[Pe-1])-pe-l,m>Te&&ke.MarkNextChange(),Te=m,ke.AddModifiedElement(m+1,M+1),pe=Pe-1-s),Qe>=0&&(s=(u=this.m_reverseHistory[Qe])[0],Ne=1,ve=u.length-1)}while(--Qe>=-1);Ce=ke.getChanges()}return this.ConcatenateChanges(le,Ce)}ComputeRecursionPoint(e,t,i,n,s,r,a){let l=0,d=0,u=0,m=0,C=0,S=0;e--,i--,s[0]=0,r[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const M=t-e+(n-i),j=M+1,J=new Int32Array(j),ne=new Int32Array(j),X=n-i,le=t-e,Ce=e-i,ke=t-n,ve=(le-X)%2==0;J[X]=e,ne[le]=t,a[0]=!1;for(let pe=1;pe<=M/2+1;pe++){let Te=0,Qe=0;u=this.ClipDiagonalBound(X-pe,pe,X,j),m=this.ClipDiagonalBound(X+pe,pe,X,j);for(let et=u;et<=m;et+=2){l=et===u||et<m&&J[et-1]<J[et+1]?J[et+1]:J[et-1]+1,d=l-(et-X)-Ce;const ot=l;for(;l<t&&d<n&&this.ElementsAreEqual(l+1,d+1);)l++,d++;if(J[et]=l,l+d>Te+Qe&&(Te=l,Qe=d),!ve&&Math.abs(et-le)<=pe-1&&l>=ne[et])return s[0]=l,r[0]=d,ot<=ne[et]&&pe<=1448?this.WALKTRACE(X,u,m,Ce,le,C,S,ke,J,ne,l,t,s,d,n,r,ve,a):null}const Pe=(Te-e+(Qe-i)-pe)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(Te,Pe))return a[0]=!0,s[0]=Te,r[0]=Qe,Pe>0&&pe<=1448?this.WALKTRACE(X,u,m,Ce,le,C,S,ke,J,ne,l,t,s,d,n,r,ve,a):(e++,i++,[new As(e,t-e+1,i,n-i+1)]);C=this.ClipDiagonalBound(le-pe,pe,le,j),S=this.ClipDiagonalBound(le+pe,pe,le,j);for(let et=C;et<=S;et+=2){l=et===C||et<S&&ne[et-1]>=ne[et+1]?ne[et+1]-1:ne[et-1],d=l-(et-le)-ke;const ot=l;for(;l>e&&d>i&&this.ElementsAreEqual(l,d);)l--,d--;if(ne[et]=l,ve&&Math.abs(et-X)<=pe&&l<=J[et])return s[0]=l,r[0]=d,ot>=J[et]&&pe<=1448?this.WALKTRACE(X,u,m,Ce,le,C,S,ke,J,ne,l,t,s,d,n,r,ve,a):null}if(pe<=1447){let et=new Int32Array(m-u+2);et[0]=X-u+1,Wn.Copy2(J,u,et,1,m-u+1),this.m_forwardHistory.push(et),et=new Int32Array(S-C+2),et[0]=le-C+1,Wn.Copy2(ne,C,et,1,S-C+1),this.m_reverseHistory.push(et)}}return this.WALKTRACE(X,u,m,Ce,le,C,S,ke,J,ne,l,t,s,d,n,r,ve,a)}PrettifyChanges(e){for(let t=0;t<e.length;t++){const i=e[t],n=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,s=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,r=i.originalLength>0,a=i.modifiedLength>0;for(;i.originalStart+i.originalLength<n&&i.modifiedStart+i.modifiedLength<s&&(!r||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!a||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const d=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!d)break;i.originalStart++,i.modifiedStart++}let l=[null];t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],l)&&(e[t]=l[0],e.splice(t+1,1),t--)}for(let t=e.length-1;t>=0;t--){const i=e[t];let n=0,s=0;if(t>0){const m=e[t-1];n=m.originalStart+m.originalLength,s=m.modifiedStart+m.modifiedLength}const r=i.originalLength>0,a=i.modifiedLength>0;let l=0,d=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let m=1;;m++){const C=i.originalStart-m,S=i.modifiedStart-m;if(C<n||S<s||r&&!this.OriginalElementsAreEqual(C,C+i.originalLength)||a&&!this.ModifiedElementsAreEqual(S,S+i.modifiedLength))break;const j=(C===n&&S===s?5:0)+this._boundaryScore(C,i.originalLength,S,i.modifiedLength);j>d&&(d=j,l=m)}i.originalStart-=l,i.modifiedStart-=l;const u=[null];t>0&&this.ChangesOverlap(e[t-1],e[t],u)&&(e[t-1]=u[0],e.splice(t,1),t++)}if(this._hasStrings)for(let t=1,i=e.length;t<i;t++){const n=e[t-1],s=e[t],r=s.originalStart-n.originalStart-n.originalLength,a=n.originalStart,l=s.originalStart+s.originalLength,d=l-a,u=n.modifiedStart,m=s.modifiedStart+s.modifiedLength,C=m-u;if(r<5&&d<20&&C<20){const S=this._findBetterContiguousSequence(a,d,u,C,r);if(S){const[M,j]=S;(M!==n.originalStart+n.originalLength||j!==n.modifiedStart+n.modifiedLength)&&(n.originalLength=M-n.originalStart,n.modifiedLength=j-n.modifiedStart,s.originalStart=M+r,s.modifiedStart=j+r,s.originalLength=l-s.originalStart,s.modifiedLength=m-s.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,i,n,s){if(t<s||n<s)return null;const r=e+t-s+1,a=i+n-s+1;let l=0,d=0,u=0;for(let m=e;m<r;m++)for(let C=i;C<a;C++){const S=this._contiguousSequenceScore(m,C,s);S>0&&S>l&&(l=S,d=m,u=C)}return l>0?[d,u]:null}_contiguousSequenceScore(e,t,i){let n=0;for(let s=0;s<i;s++){if(!this.ElementsAreEqual(e+s,t+s))return 0;n+=this._originalStringElements[e+s].length}return n}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,n){return(this._OriginalRegionIsBoundary(e,t)?1:0)+(this._ModifiedRegionIsBoundary(i,n)?1:0)}ConcatenateChanges(e,t){let i=[];if(0===e.length||0===t.length)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){const n=new Array(e.length+t.length-1);return Wn.Copy(e,0,n,0,e.length-1),n[e.length-1]=i[0],Wn.Copy(t,1,n,e.length,t.length-1),n}{const n=new Array(e.length+t.length);return Wn.Copy(e,0,n,0,e.length),Wn.Copy(t,0,n,e.length,t.length),n}}ChangesOverlap(e,t,i){if(Co.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),Co.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){let s=e.originalLength,a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(s=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new As(e.originalStart,s,e.modifiedStart,a),!0}return i[0]=null,!1}ClipDiagonalBound(e,t,i,n){if(e>=0&&e<n)return e;const a=t%2==0;return e<0?a===(i%2==0)?0:1:a===((n-i-1)%2==0)?n-1:n-2}}function bo(o,e,t,i){return new yn(o,e,t).ComputeDiff(i)}class Sa{constructor(e){const t=[],i=[];for(let n=0,s=e.length;n<s;n++)t[n]=Rr(e[n],1),i[n]=er(e[n],1);this.lines=e,this._startColumns=t,this._endColumns=i}getElements(){const e=[];for(let t=0,i=this.lines.length;t<i;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,i){const n=[],s=[],r=[];let a=0;for(let l=t;l<=i;l++){const d=this.lines[l],m=e?this._endColumns[l]:d.length+1;for(let C=e?this._startColumns[l]:1;C<m;C++)n[a]=d.charCodeAt(C-1),s[a]=l+1,r[a]=C,a++}return new vl(n,s,r)}}class vl{constructor(e,t,i){this._charCodes=e,this._lineNumbers=t,this._columns=i}getElements(){return this._charCodes}getStartLineNumber(e){return this._lineNumbers[e]}getStartColumn(e){return this._columns[e]}getEndLineNumber(e){return this._lineNumbers[e]}getEndColumn(e){return this._columns[e]+1}}class bs{constructor(e,t,i,n,s,r,a,l){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=i,this.originalEndColumn=n,this.modifiedStartLineNumber=s,this.modifiedStartColumn=r,this.modifiedEndLineNumber=a,this.modifiedEndColumn=l}static createFromDiffChange(e,t,i){let n,s,r,a,l,d,u,m;return 0===e.originalLength?(n=0,s=0,r=0,a=0):(n=t.getStartLineNumber(e.originalStart),s=t.getStartColumn(e.originalStart),r=t.getEndLineNumber(e.originalStart+e.originalLength-1),a=t.getEndColumn(e.originalStart+e.originalLength-1)),0===e.modifiedLength?(l=0,d=0,u=0,m=0):(l=i.getStartLineNumber(e.modifiedStart),d=i.getStartColumn(e.modifiedStart),u=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),m=i.getEndColumn(e.modifiedStart+e.modifiedLength-1)),new bs(n,s,r,a,l,d,u,m)}}class vo{constructor(e,t,i,n,s){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=n,this.charChanges=s}static createFromDiffResult(e,t,i,n,s,r,a){let l,d,u,m,C;if(0===t.originalLength?(l=i.getStartLineNumber(t.originalStart)-1,d=0):(l=i.getStartLineNumber(t.originalStart),d=i.getEndLineNumber(t.originalStart+t.originalLength-1)),0===t.modifiedLength?(u=n.getStartLineNumber(t.modifiedStart)-1,m=0):(u=n.getStartLineNumber(t.modifiedStart),m=n.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),r&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&s()){const S=i.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),M=n.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);let j=bo(S,M,s,!0).changes;a&&(j=function Vn(o){if(o.length<=1)return o;const e=[o[0]];let t=e[0];for(let i=1,n=o.length;i<n;i++){const s=o[i];Math.min(s.originalStart-(t.originalStart+t.originalLength),s.modifiedStart-(t.modifiedStart+t.modifiedLength))<3?(t.originalLength=s.originalStart+s.originalLength-t.originalStart,t.modifiedLength=s.modifiedStart+s.modifiedLength-t.modifiedStart):(e.push(s),t=s)}return e}(j)),C=[];for(let J=0,ne=j.length;J<ne;J++)C.push(bs.createFromDiffChange(j[J],S,M))}return new vo(l,d,u,m,C)}}class wo{constructor(e,t,i){this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new Sa(e),this.modified=new Sa(t),this.continueLineDiff=re(i.maxComputationTime),this.continueCharDiff=re(0===i.maxComputationTime?0:Math.min(i.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const e=bo(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,i=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const a=[];for(let l=0,d=t.length;l<d;l++)a.push(vo.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[l],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:i,changes:a}}const n=[];let s=0,r=0;for(let a=-1,l=t.length;a<l;a++){const d=a+1<l?t[a+1]:null,u=d?d.originalStart:this.originalLines.length,m=d?d.modifiedStart:this.modifiedLines.length;for(;s<u&&r<m;){const C=this.originalLines[s],S=this.modifiedLines[r];if(C!==S){{let M=Rr(C,1),j=Rr(S,1);for(;M>1&&j>1&&C.charCodeAt(M-2)===S.charCodeAt(j-2);)M--,j--;(M>1||j>1)&&this._pushTrimWhitespaceCharChange(n,s+1,1,M,r+1,1,j)}{let M=er(C,1),j=er(S,1);const J=C.length+1,ne=S.length+1;for(;M<J&&j<ne&&C.charCodeAt(M-1)===C.charCodeAt(j-1);)M++,j++;(M<J||j<ne)&&this._pushTrimWhitespaceCharChange(n,s+1,M,J,r+1,j,ne)}}s++,r++}d&&(n.push(vo.createFromDiffResult(this.shouldIgnoreTrimWhitespace,d,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),s+=d.originalLength,r+=d.modifiedLength)}return{quitEarly:i,changes:n}}_pushTrimWhitespaceCharChange(e,t,i,n,s,r,a){if(this._mergeTrimWhitespaceCharChange(e,t,i,n,s,r,a))return;let l;this.shouldComputeCharChanges&&(l=[new bs(t,i,t,n,s,r,s,a)]),e.push(new vo(t,t,s,s,l))}_mergeTrimWhitespaceCharChange(e,t,i,n,s,r,a){const l=e.length;if(0===l)return!1;const d=e[l-1];return 0!==d.originalEndLineNumber&&0!==d.modifiedEndLineNumber&&d.originalEndLineNumber+1===t&&d.modifiedEndLineNumber+1===s&&(d.originalEndLineNumber=t,d.modifiedEndLineNumber=s,this.shouldComputeCharChanges&&d.charChanges&&d.charChanges.push(new bs(t,i,t,n,s,r,s,a)),!0)}}function Rr(o,e){const t=ut.LC(o);return-1===t?e:t+1}function er(o,e){const t=ut.ow(o);return-1===t?e:t+2}function re(o){if(0===o)return()=>!0;const e=Date.now();return()=>Date.now()-e<o}var c=L(45129);class g{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=(0,c.A)(e);const i=this.values,n=this.prefixSum,s=t.length;return 0!==s&&(this.values=new Uint32Array(i.length+s),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+s),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(e,t){return e=(0,c.A)(e),t=(0,c.A)(t),this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=(0,c.A)(e),t=(0,c.A)(t);const i=this.values,n=this.prefixSum;if(e>=i.length)return!1;const s=i.length-e;return t>=s&&(t=s),0!==t&&(this.values=new Uint32Array(i.length-t),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=(0,c.A)(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,i=this.values.length-1,n=0,s=0,r=0;for(;t<=i;)if(n=t+(i-t)/2|0,s=this.prefixSum[n],r=s-this.values[n],e<r)i=n-1;else{if(!(e>=s))break;t=n+1}return new E(n,e-r)}}class p{constructor(e){this._values=e,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(e){return this._ensureValid(),0===e?0:this._prefixSum[e-1]}getIndexOf(e){this._ensureValid();const t=this._indexBySum[e];return new E(t,e-(t>0?this._prefixSum[t-1]:0))}removeValues(e,t){this._values.splice(e,t),this._invalidate(e)}insertValues(e,t){this._values=(0,y.Zv)(this._values,e,t),this._invalidate(e)}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._values.length;e<t;e++){const i=this._values[e],n=e>0?this._prefixSum[e-1]:0;this._prefixSum[e]=n+i;for(let s=0;s<i;s++)this._indexBySum[n+s]=e}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(e,t){this._values[e]!==t&&(this._values[e]=t,this._invalidate(e))}}class E{constructor(e,t){this.index=e,this.remainder=t,this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}}var G=L(57686);class fe{constructor(e,t,i){const n=new Uint8Array(e*t);for(let s=0,r=e*t;s<r;s++)n[s]=i;this._data=n,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,i){this._data[e*this.cols+t]=i}}class ge{constructor(e){let t=0,i=0;for(let s=0,r=e.length;s<r;s++){const[a,l,d]=e[s];l>t&&(t=l),a>i&&(i=a),d>i&&(i=d)}t++,i++;const n=new fe(i,t,0);for(let s=0,r=e.length;s<r;s++){const[a,l,d]=e[s];n.set(a,l,d)}this._states=n,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let Le=null,Ie=null;class He{static _createLink(e,t,i,n,s){let r=s-1;do{const a=t.charCodeAt(r);if(2!==e.get(a))break;r--}while(r>n);if(n>0){const a=t.charCodeAt(n-1),l=t.charCodeAt(r);(40===a&&41===l||91===a&&93===l||123===a&&125===l)&&r--}return{range:{startLineNumber:i,startColumn:n+1,endLineNumber:i,endColumn:r+2},url:t.substring(n,r+1)}}static computeLinks(e,t=function we(){return null===Le&&(Le=new ge([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),Le}()){const i=function Fe(){if(null===Ie){Ie=new G.N(0);const o=" \t<>'\"\u3001\u3002\uff61\uff64\uff0c\uff0e\uff1a\uff1b\u2018\u3008\u300c\u300e\u3014\uff08\uff3b\uff5b\uff62\uff63\uff5d\uff3d\uff09\u3015\u300f\u300d\u3009\u2019\uff40\uff5e\u2026";for(let t=0;t<o.length;t++)Ie.set(o.charCodeAt(t),1);const e=".,;";for(let t=0;t<e.length;t++)Ie.set(e.charCodeAt(t),2)}return Ie}(),n=[];for(let s=1,r=e.getLineCount();s<=r;s++){const a=e.getLineContent(s),l=a.length;let d=0,u=0,m=0,C=1,S=!1,M=!1,j=!1,J=!1;for(;d<l;){let ne=!1;const X=a.charCodeAt(d);if(13===C){let le;switch(X){case 40:S=!0,le=0;break;case 41:le=S?0:1;break;case 91:j=!0,M=!0,le=0;break;case 93:j=!1,le=M?0:1;break;case 123:J=!0,le=0;break;case 125:le=J?0:1;break;case 39:le=34===m||96===m?0:1;break;case 34:le=39===m||96===m?0:1;break;case 96:le=39===m||34===m?0:1;break;case 42:le=42===m?1:0;break;case 124:le=124===m?1:0;break;case 32:le=j?0:1;break;default:le=i.get(X)}1===le&&(n.push(He._createLink(i,a,s,u,d)),ne=!0)}else if(12===C){let le;91===X?(M=!0,le=0):le=i.get(X),1===le?ne=!0:C=13}else C=t.nextState(C,X),0===C&&(ne=!0);ne&&(C=1,S=!1,M=!1,J=!1,u=d+1,m=X),d++}13===C&&n.push(He._createLink(i,a,s,u,l))}return n}}class at{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,i,n,s){if(e&&t){const r=this.doNavigateValueSet(t,s);if(r)return{range:e,value:r}}if(i&&n){const r=this.doNavigateValueSet(n,s);if(r)return{range:i,value:r}}return null}doNavigateValueSet(e,t){const i=this.numberReplace(e,t);return null!==i?i:this.textReplace(e,t)}numberReplace(e,t){const i=Math.pow(10,e.length-(e.lastIndexOf(".")+1));let n=Number(e),s=parseFloat(e);return isNaN(n)||isNaN(s)||n!==s?null:0!==n||t?(n=Math.floor(n*i),n+=t?i:-i,String(n/i)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,i){let n=null;for(let s=0,r=e.length;null===n&&s<r;s++)n=this.valueSetReplace(e[s],t,i);return n}valueSetReplace(e,t,i){let n=e.indexOf(t);return n>=0?(n+=i?1:-1,n<0?n=e.length-1:n%=e.length,e[n]):null}}at.INSTANCE=new at;var nt=L(41724),Ct=L(31154);class ti{constructor(e){this.options=e,this.allowedCodePoints=new Set(e.allowedCodePoints),this.ambiguousCharacters=ut.ZK.getInstance(new Set(e.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const e=new Set;if(this.options.invisibleCharacters)for(const t of ut.vU.codePoints)e.add(t);if(this.options.ambiguousCharacters)for(const t of this.ambiguousCharacters.getConfusableCodePoints())e.add(t);for(const t of this.allowedCodePoints)e.delete(t);return e}shouldHighlightNonBasicASCII(e){const t=e.codePointAt(0);return this.allowedCodePoints.has(t)?0:this.options.nonBasicASCII?1:this.options.invisibleCharacters&&" "!==e&&"\n"!==e&&"\t"!==e&&ut.vU.isInvisibleCharacter(t)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(t)?3:0}}var vt=function(o,e,t,i){return new(t||(t=Promise))(function(s,r){function a(u){try{d(i.next(u))}catch(m){r(m)}}function l(u){try{d(i.throw(u))}catch(m){r(m)}}function d(u){u.done?s(u.value):function n(s){return s instanceof t?s:new t(function(r){r(s)})}(u.value).then(a,l)}d((i=i.apply(o,e||[])).next())})};class qi extends class k{constructor(e,t,i,n){this._uri=e,this._lines=t,this._eol=i,this._versionId=n,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const t=e.changes;for(const i of t)this._acceptDeleteRange(i.range),this._acceptInsertText(new Xe.L(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length,t=this._lines.length,i=new Uint32Array(t);for(let n=0;n<t;n++)i[n]=this._lines[n].length+e;this._lineStarts=new g(i)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.setValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber!==e.endLineNumber)this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber);else{if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1))}}_acceptInsertText(e,t){if(0===t.length)return;const i=(0,ut.uq)(t);if(1===i.length)return void this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);const n=new Uint32Array(i.length-1);for(let s=1;s<i.length;s++)this._lines.splice(e.lineNumber+s-1,0,i[s]),n[s-1]=i[s].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,n)}}{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){const i=(0,ee.t2)(e.column,(0,ee.eq)(t),this._lines[e.lineNumber-1],0);return i?new Ze.e(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null}words(e){const t=this._lines,i=this._wordenize.bind(this);let n=0,s="",r=0,a=[];return{*[Symbol.iterator](){for(;;)if(r<a.length){const l=s.substring(a[r].start,a[r].end);r+=1,yield l}else{if(!(n<t.length))break;s=t[n],a=i(s,e),r=0,n+=1}}}}getLineWords(e,t){const i=this._lines[e-1],n=this._wordenize(i,t),s=[];for(const r of n)s.push({word:i.substring(r.start,r.end),startColumn:r.start+1,endColumn:r.end+1});return s}_wordenize(e,t){const i=[];let n;for(t.lastIndex=0;(n=t.exec(e))&&0!==n[0].length;)i.push({start:n.index,end:n.index+n[0].length});return i}getValueInRange(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);const t=this._eol,i=e.startLineNumber-1,n=e.endLineNumber-1,s=[];s.push(this._lines[i].substring(e.startColumn-1));for(let r=i+1;r<n;r++)s.push(this._lines[r]);return s.push(this._lines[n].substring(0,e.endColumn-1)),s.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();const t=this._lineStarts.getIndexOf(e);return{lineNumber:1+t.index,column:1+Math.min(t.remainder,this._lines[t.index].length)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!Xe.L.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:i}=e,n=!1;if(t<1)t=1,i=1,n=!0;else if(t>this._lines.length)t=this._lines.length,i=this._lines[t-1].length+1,n=!0;else{const s=this._lines[t-1].length+1;i<1?(i=1,n=!0):i>s&&(i=s,n=!0)}return n?{lineNumber:t,column:i}:e}}let Yi=(()=>{class o{constructor(t,i){this._host=t,this._models=Object.create(null),this._foreignModuleFactory=i,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(t){return this._models[t]}_getModels(){const t=[];return Object.keys(this._models).forEach(i=>t.push(this._models[i])),t}acceptNewModel(t){this._models[t.url]=new qi(ri.o.parse(t.url),t.lines,t.EOL,t.versionId)}acceptModelChanged(t,i){this._models[t]&&this._models[t].onEvents(i)}acceptRemovedModel(t){!this._models[t]||delete this._models[t]}computeUnicodeHighlights(t,i,n){return vt(this,void 0,void 0,function*(){const s=this._getModel(t);return s?class Mt{static computeUnicodeHighlights(e,t,i){const n=i?i.startLineNumber:1,s=i?i.endLineNumber:e.getLineCount(),r=new ti(t),a=r.getCandidateCodePoints();let l;l="allNonBasicAscii"===a?new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):new RegExp(`${function At(o,e){return`[${ut.ec(o.map(i=>String.fromCodePoint(i)).join(""))}]`}(Array.from(a))}`,"g");const d=new Ct.sz(null,l),u=[];let C,m=!1,S=0,M=0,j=0;e:for(let J=n,ne=s;J<=ne;J++){const X=e.getLineContent(J),le=X.length;d.reset(0);do{if(C=d.next(X),C){let Ce=C.index,ke=C.index+C[0].length;if(Ce>0){const pe=X.charCodeAt(Ce-1);ut.ZG(pe)&&Ce--}if(ke+1<le){const pe=X.charCodeAt(ke-1);ut.ZG(pe)&&ke++}const Ne=X.substring(Ce,ke),ve=r.shouldHighlightNonBasicASCII(Ne);if(0!==ve){if(3===ve?S++:2===ve?M++:1===ve?j++:(0,be.vE)(ve),u.length>=1e3){m=!0;break e}u.push(new Ze.e(J,Ce+1,J,ke+1))}}}while(C)}return{ranges:u,hasMore:m,ambiguousCharacterCount:S,invisibleCharacterCount:M,nonBasicAsciiCharacterCount:j}}static computeUnicodeHighlightReason(e,t){const i=new ti(t);switch(i.shouldHighlightNonBasicASCII(e)){case 0:return null;case 2:return{kind:1};case 3:{const s=e.codePointAt(0),r=i.ambiguousCharacters.getPrimaryConfusable(s),a=ut.ZK.getLocales().filter(l=>!ut.ZK.getInstance(new Set([...t.allowedLocales,l])).isAmbiguous(s));return{kind:0,confusableWith:String.fromCodePoint(r),notAmbiguousInLocales:a}}case 1:return{kind:2}}}}.computeUnicodeHighlights(s,i,n):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(t,i,n,s){return vt(this,void 0,void 0,function*(){const r=this._getModel(t),a=this._getModel(i);if(!r||!a)return null;const l=r.getLinesContent(),d=a.getLinesContent(),m=new wo(l,d,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:n,shouldMakePrettyDiff:!0,maxComputationTime:s}).computeDiff(),C=!(m.changes.length>0)&&this._modelsAreIdentical(r,a);return{quitEarly:m.quitEarly,identical:C,changes:m.changes}})}_modelsAreIdentical(t,i){const n=t.getLineCount();if(n!==i.getLineCount())return!1;for(let r=1;r<=n;r++)if(t.getLineContent(r)!==i.getLineContent(r))return!1;return!0}computeMoreMinimalEdits(t,i){return vt(this,void 0,void 0,function*(){const n=this._getModel(t);if(!n)return i;const s=[];let r;i=i.slice(0).sort((a,l)=>a.range&&l.range?Ze.e.compareRangesUsingStarts(a.range,l.range):(a.range?0:1)-(l.range?0:1));for(let{range:a,text:l,eol:d}of i){if("number"==typeof d&&(r=d),Ze.e.isEmpty(a)&&!l)continue;const u=n.getValueInRange(a);if(l=l.replace(/\r\n|\n|\r/g,n.eol),u===l)continue;if(Math.max(l.length,u.length)>o._diffLimit){s.push({range:a,text:l});continue}const m=Gn(u,l,!1),C=n.offsetAt(Ze.e.lift(a).getStartPosition());for(const S of m){const M=n.positionAt(C+S.originalStart),j=n.positionAt(C+S.originalStart+S.originalLength),J={text:l.substr(S.modifiedStart,S.modifiedLength),range:{startLineNumber:M.lineNumber,startColumn:M.column,endLineNumber:j.lineNumber,endColumn:j.column}};n.getValueInRange(J.range)!==J.text&&s.push(J)}}return"number"==typeof r&&s.push({eol:r,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),s})}computeLinks(t){return vt(this,void 0,void 0,function*(){const i=this._getModel(t);return i?function Ye(o){return o&&"function"==typeof o.getLineCount&&"function"==typeof o.getLineContent?He.computeLinks(o):[]}(i):null})}textualSuggest(t,i,n,s){return vt(this,void 0,void 0,function*(){const r=new nt.G(!0),a=new RegExp(n,s),l=new Set;e:for(let d of t){const u=this._getModel(d);if(u)for(let m of u.words(a))if(m!==i&&isNaN(Number(m))&&(l.add(m),l.size>o._suggestionsLimit))break e}return{words:Array.from(l),duration:r.elapsed()}})}computeWordRanges(t,i,n,s){return vt(this,void 0,void 0,function*(){const r=this._getModel(t);if(!r)return Object.create(null);const a=new RegExp(n,s),l=Object.create(null);for(let d=i.startLineNumber;d<i.endLineNumber;d++){const u=r.getLineWords(d,a);for(const m of u){if(!isNaN(Number(m.word)))continue;let C=l[m.word];C||(C=[],l[m.word]=C),C.push({startLineNumber:d,startColumn:m.startColumn,endLineNumber:d,endColumn:m.endColumn})}}return l})}navigateValueSet(t,i,n,s,r){return vt(this,void 0,void 0,function*(){const a=this._getModel(t);if(!a)return null;const l=new RegExp(s,r);i.startColumn===i.endColumn&&(i={startLineNumber:i.startLineNumber,startColumn:i.startColumn,endLineNumber:i.endLineNumber,endColumn:i.endColumn+1});const d=a.getValueInRange(i),u=a.getWordAtPosition({lineNumber:i.startLineNumber,column:i.startColumn},l);if(!u)return null;const m=a.getValueInRange(u);return at.INSTANCE.navigateValueSet(i,d,u,m,n)})}loadForeignModule(t,i,n){const a={host:be.IU(n,(l,d)=>this._host.fhr(l,d)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(a,i),Promise.resolve(be.$E(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(t,i){if(!this._foreignModule||"function"!=typeof this._foreignModule[t])return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._foreignModule[t].apply(this._foreignModule,i))}catch(n){return Promise.reject(n)}}}return o._diffLimit=1e5,o._suggestionsLimit=1e4,o})();"function"==typeof importScripts&&(h.li.monaco=To());var Ft=L(64725);const qs=(0,Ft.yh)("textResourceConfigurationService"),vs=(0,Ft.yh)("textResourcePropertiesService");var dn=L(42241),ni=function(o,e){return function(t,i){e(t,i,o)}},Di=function(o,e,t,i){return new(t||(t=Promise))(function(s,r){function a(u){try{d(i.next(u))}catch(m){r(m)}}function l(u){try{d(i.throw(u))}catch(m){r(m)}}function d(u){u.done?s(u.value):function n(s){return s instanceof t?s:new t(function(r){r(s)})}(u.value).then(a,l)}d((i=i.apply(o,e||[])).next())})};function nn(o,e){const t=o.getModel(e);return!(!t||t.isTooLargeForSyncing())}let rs=class extends ze.JT{constructor(e,t,i,n){super(),this._modelService=e,this._workerManager=this._register(new m_(this._modelService,n)),this._logService=i,this._register(rt.pM.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(s,r)=>nn(this._modelService,s.uri)?this._workerManager.withWorker().then(a=>a.computeLinks(s.uri)).then(a=>a&&{links:a}):Promise.resolve({links:[]})})),this._register(rt.KZ.register("*",new wl(this._workerManager,t,this._modelService,n)))}dispose(){super.dispose()}canComputeUnicodeHighlights(e){return nn(this._modelService,e)}computedUnicodeHighlights(e,t,i){return this._workerManager.withWorker().then(n=>n.computedUnicodeHighlights(e,t,i))}computeDiff(e,t,i,n){return this._workerManager.withWorker().then(s=>s.computeDiff(e,t,i,n))}computeMoreMinimalEdits(e,t){if((0,y.Of)(t)){if(!nn(this._modelService,e))return Promise.resolve(t);const i=nt.G.create(!0),n=this._workerManager.withWorker().then(s=>s.computeMoreMinimalEdits(e,t));return n.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),i.elapsed())),Promise.race([n,(0,se.Vs)(1e3).then(()=>t)])}return Promise.resolve(void 0)}canNavigateValueSet(e){return nn(this._modelService,e)}navigateValueSet(e,t,i){return this._workerManager.withWorker().then(n=>n.navigateValueSet(e,t,i))}canComputeWordRanges(e){return nn(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then(i=>i.computeWordRanges(e,t))}};rs=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([ni(0,Q.q),ni(1,qs),ni(2,dn.VZ),ni(3,an.c_)],rs);class wl{constructor(e,t,i,n){this.languageConfigurationService=n,this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}provideCompletionItems(e,t){return Di(this,void 0,void 0,function*(){const i=this._configurationService.getValue(e.uri,t,"editor");if(!i.wordBasedSuggestions)return;const n=[];if("currentDocument"===i.wordBasedSuggestionsMode)nn(this._modelService,e.uri)&&n.push(e.uri);else for(const m of this._modelService.getModels())!nn(this._modelService,m.uri)||(m===e?n.unshift(m.uri):("allDocuments"===i.wordBasedSuggestionsMode||m.getLanguageId()===e.getLanguageId())&&n.push(m.uri));if(0===n.length)return;const s=this.languageConfigurationService.getLanguageConfiguration(e.getLanguageId()).getWordDefinition(),r=e.getWordAtPosition(t),a=r?new Ze.e(t.lineNumber,r.startColumn,t.lineNumber,r.endColumn):Ze.e.fromPositions(t),l=a.setEndPosition(t.lineNumber,t.column),u=yield(yield this._workerManager.withWorker()).textualSuggest(n,null==r?void 0:r.word,s);return u?{duration:u.duration,suggestions:u.words.map(m=>({kind:18,label:m,insertText:m,range:{insert:l,replace:a}}))}:void 0})}}class m_ extends ze.JT{constructor(e,t){super(),this.languageConfigurationService=t,this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new se.zh).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(15e4)),this._register(this._modelService.onModelRemoved(n=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){this._editorWorkerClient&&0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){this._editorWorkerClient&&(new Date).getTime()-this._lastWorkerUsedTime>3e5&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new rf(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class p_ extends ze.JT{constructor(e,t,i){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){const n=new se.zh;n.cancelAndSet(()=>this._checkStopModelSync(),Math.round(3e4)),this._register(n)}}dispose(){for(let e in this._syncedModels)(0,ze.B9)(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t){for(const i of e){const n=i.toString();this._syncedModels[n]||this._beginModelSync(i,t),this._syncedModels[n]&&(this._syncedModelsLastUsedTime[n]=(new Date).getTime())}}_checkStopModelSync(){const e=(new Date).getTime(),t=[];for(let i in this._syncedModelsLastUsedTime)e-this._syncedModelsLastUsedTime[i]>6e4&&t.push(i);for(const i of t)this._stopModelSync(i)}_beginModelSync(e,t){const i=this._modelService.getModel(e);if(!i||!t&&i.isTooLargeForSyncing())return;const n=e.toString();this._proxy.acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});const s=new ze.SL;s.add(i.onDidChangeContent(r=>{this._proxy.acceptModelChanged(n.toString(),r)})),s.add(i.onWillDispose(()=>{this._stopModelSync(n)})),s.add((0,ze.OF)(()=>{this._proxy.acceptRemovedModel(n)})),this._syncedModels[n]=s}_stopModelSync(e){const t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],(0,ze.B9)(t)}}class of{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class nd{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class rf extends ze.JT{constructor(e,t,i,n){super(),this.languageConfigurationService=n,this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new wa(i),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new Fi(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new nd(this)))}catch(e){lt(e),this._worker=new of(new Yi(new nd(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,e=>(lt(e),this._worker=new of(new Yi(new nd(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new p_(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e,t=!1){return Di(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,he.F0)()):this._getProxy().then(i=>(this._getOrCreateModelManager(i).ensureSyncedResources(e,t),i))})}computedUnicodeHighlights(e,t,i){return this._withSyncedResources([e]).then(n=>n.computeUnicodeHighlights(e.toString(),t,i))}computeDiff(e,t,i,n){return this._withSyncedResources([e,t],!0).then(s=>s.computeDiff(e.toString(),t.toString(),i,n))}computeMoreMinimalEdits(e,t){return this._withSyncedResources([e]).then(i=>i.computeMoreMinimalEdits(e.toString(),t))}computeLinks(e){return this._withSyncedResources([e]).then(t=>t.computeLinks(e.toString()))}textualSuggest(e,t,i){return Di(this,void 0,void 0,function*(){const n=yield this._withSyncedResources(e),s=i.source,r=(0,ut.mr)(i);return n.textualSuggest(e.map(a=>a.toString()),t,s,r)})}computeWordRanges(e,t){return this._withSyncedResources([e]).then(i=>{const n=this._modelService.getModel(e);if(!n)return Promise.resolve(null);const s=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId()).getWordDefinition(),r=s.source,a=(0,ut.mr)(s);return i.computeWordRanges(e.toString(),t,r,a)})}navigateValueSet(e,t,i){return this._withSyncedResources([e]).then(n=>{const s=this._modelService.getModel(e);if(!s)return null;const r=this.languageConfigurationService.getLanguageConfiguration(s.getLanguageId()).getWordDefinition(),a=r.source,l=(0,ut.mr)(r);return n.navigateValueSet(e.toString(),t,i,a,l)})}dispose(){super.dispose(),this._disposed=!0}}class C_ extends rf{constructor(e,t,i){super(e,i.keepIdleModels||!1,i.label,t),this._foreignModuleId=i.moduleId,this._foreignModuleCreateData=i.createData||null,this._foreignModuleHost=i.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[e])return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(i){return Promise.reject(i)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(e=>{const t=this._foreignModuleHost?be.$E(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then(i=>{this._foreignModuleCreateData=null;const n=(a,l)=>e.fmr(a,l),s=(a,l)=>function(){const d=Array.prototype.slice.call(arguments,0);return l(a,d)},r={};for(const a of i)r[a]=s(a,n);return r})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then(t=>this.getProxy())}}var ya=L(8028),Sl=L(68511);class ws{constructor(e,t,i,n){this.startColumn=e,this.endColumn=t,this.className=i,this.type=n,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const i=e.length;if(i!==t.length)return!1;for(let s=0;s<i;s++)if(!ws._equals(e[s],t[s]))return!1;return!0}static extractWrapped(e,t,i){if(0===e.length)return e;const n=t+1,s=i+1,r=i-t,a=[];let l=0;for(const d of e)d.endColumn<=n||d.startColumn>=s||(a[l++]=new ws(Math.max(1,d.startColumn-n+1),Math.min(r+1,d.endColumn-n+1),d.className,d.type));return a}static filter(e,t,i,n){if(0===e.length)return[];const s=[];let r=0;for(let a=0,l=e.length;a<l;a++){const d=e[a],u=d.range;u.endLineNumber<t||u.startLineNumber>t||u.isEmpty()&&(0===d.type||3===d.type)||(s[r++]=new ws(u.startLineNumber===t?u.startColumn:i,u.endLineNumber===t?u.endColumn:n,d.inlineClassName,d.type))}return s}static _typeCompare(e,t){const i=[2,0,1,3];return i[e]-i[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;const i=ws._typeCompare(e.type,t.type);return 0!==i?i:e.className!==t.className?e.className<t.className?-1:1:0}}class af{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.className=i,this.metadata=n}}class yl{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let i=0,n=e.length;i<n;i++)t|=e[i];return t}consumeLowerThan(e,t,i){for(;this.count>0&&this.stopOffsets[0]<e;){let n=0;for(;n+1<this.count&&this.stopOffsets[n]===this.stopOffsets[n+1];)n++;i.push(new af(t,this.stopOffsets[n],this.classNames.join(" "),yl._metadata(this.metadata))),t=this.stopOffsets[n]+1,this.stopOffsets.splice(0,n+1),this.classNames.splice(0,n+1),this.metadata.splice(0,n+1),this.count-=n+1}return this.count>0&&t<e&&(i.push(new af(t,e-1,this.classNames.join(" "),yl._metadata(this.metadata))),t=e),t}insert(e,t,i){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(i);else for(let n=0;n<this.count;n++)if(this.stopOffsets[n]>=e){this.stopOffsets.splice(n,0,e),this.classNames.splice(n,0,t),this.metadata.splice(n,0,i);break}this.count++}}class sn{constructor(e,t,i){this._linePartBrand=void 0,this.endIndex=e,this.type=t,this.metadata=i}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class v_{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class Or{constructor(e,t,i,n,s,r,a,l,d,u,m,C,S,M,j,J,ne,X,le){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.continuesWithWrappedLine=n,this.isBasicASCII=s,this.containsRTL=r,this.fauxIndentLength=a,this.lineTokens=l,this.lineDecorations=d.sort(ws.compare),this.tabSize=u,this.startVisibleColumn=m,this.spaceWidth=C,this.stopRenderingLineAfter=j,this.renderWhitespace="all"===J?4:"boundary"===J?1:"selection"===J?2:"trailing"===J?3:0,this.renderControlCharacters=ne,this.fontLigatures=X,this.selectionsOnLine=le&&le.sort((Ne,ve)=>Ne.startOffset<ve.startOffset?-1:1),Math.abs(M-C)<Math.abs(S-C)?(this.renderSpaceWidth=M,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=S,this.renderSpaceCharCode=183)}sameSelection(e){if(null===this.selectionsOnLine)return null===e;if(null===e||e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&ws.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class sd{constructor(e,t){this.partIndex=e,this.charIndex=t}}class Ys{constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(e){return(4294901760&e)>>>16}static getCharIndex(e){return(65535&e)>>>0}setColumnInfo(e,t,i,n){this._data[e-1]=(t<<16|i<<0)>>>0,this._absoluteOffsets[e-1]=n+i}getAbsoluteOffset(e){return 0===this._absoluteOffsets.length?0:this._absoluteOffsets[e-1]}charOffsetToPartData(e){return 0===this.length?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){const t=this.charOffsetToPartData(e-1),i=Ys.getPartIndex(t),n=Ys.getCharIndex(t);return new sd(i,n)}getColumn(e,t){return this.partDataToCharOffset(e.partIndex,t,e.charIndex)+1}partDataToCharOffset(e,t,i){if(0===this.length)return 0;const n=(e<<16|i<<0)>>>0;let s=0,r=this.length-1;for(;s+1<r;){const j=s+r>>>1,J=this._data[j];if(J===n)return j;J>n?r=j:s=j}if(s===r)return s;const a=this._data[s],l=this._data[r];if(a===n)return s;if(l===n)return r;const d=Ys.getPartIndex(a),u=Ys.getCharIndex(a);let C;return C=d!==Ys.getPartIndex(l)?t:Ys.getCharIndex(l),i-u<=C-i?s:r}}class od{constructor(e,t,i){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=i}}function rd(o,e){if(0===o.lineContent.length){if(o.lineDecorations.length>0){e.appendASCIIString("<span>");let t=0,i=0,n=0;for(const r of o.lineDecorations)(1===r.type||2===r.type)&&(e.appendASCIIString('<span class="'),e.appendASCIIString(r.className),e.appendASCIIString('"></span>'),1===r.type&&(n|=1,t++),2===r.type&&(n|=2,i++));e.appendASCIIString("</span>");const s=new Ys(1,t+i);return s.setColumnInfo(1,t,0,0),new od(s,!1,n)}return e.appendASCIIString("<span><span></span></span>"),new od(new Ys(0,0),!1,0)}return function D_(o,e){const t=o.fontIsMonospace,i=o.canUseHalfwidthRightwardsArrow,n=o.containsForeignElements,s=o.lineContent,r=o.len,a=o.isOverflowing,l=o.parts,d=o.fauxIndentLength,u=o.tabSize,m=o.startVisibleColumn,C=o.containsRTL,S=o.spaceWidth,M=o.renderSpaceCharCode,j=o.renderWhitespace,J=o.renderControlCharacters,ne=new Ys(r+1,l.length);let X=!1,le=0,Ce=m,ke=0,Ne=0,ve=0,pe=0;e.appendASCIIString(C?'<span dir="ltr">':"<span>");for(let Te=0,Qe=l.length;Te<Qe;Te++){pe+=ve;const Pe=l[Te],et=Pe.endIndex,ot=Pe.type,Nt=0!==j&&Pe.isWhitespace(),kt=Nt&&!t&&("mtkw"===ot||!n),Vt=le===et&&Pe.isPseudoAfter();if(ke=0,e.appendASCIIString('<span class="'),e.appendASCIIString(kt?"mtkz":ot),e.appendASCII(34),Nt){let qt=0;{let Bt=le,Qt=Ce;for(;Bt<et;Bt++){const Ui=0|(9===s.charCodeAt(Bt)?u-Qt%u:1);qt+=Ui,Bt>=d&&(Qt+=Ui)}}for(kt&&(e.appendASCIIString(' style="width:'),e.appendASCIIString(String(S*qt)),e.appendASCIIString('px"')),e.appendASCII(62);le<et;le++){let Qt;if(ne.setColumnInfo(le+1,Te-Ne,ke,pe),Ne=0,9===s.charCodeAt(le)){Qt=u-Ce%u|0,e.write1(!i||Qt>1?8594:65515);for(let Gi=2;Gi<=Qt;Gi++)e.write1(160)}else Qt=1,e.write1(M);ke+=Qt,le>=d&&(Ce+=Qt)}ve=qt}else{let qt=0;for(e.appendASCII(62);le<et;le++){ne.setColumnInfo(le+1,Te-Ne,ke,pe),Ne=0;const Bt=s.charCodeAt(le);let Qt=1,Gi=1;switch(Bt){case 9:Qt=u-Ce%u,Gi=Qt;for(let Ui=1;Ui<=Qt;Ui++)e.write1(160);break;case 32:e.write1(160);break;case 60:e.appendASCIIString("&lt;");break;case 62:e.appendASCIIString("&gt;");break;case 38:e.appendASCIIString("&amp;");break;case 0:J?e.write1(9216):e.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:e.write1(65533);break;default:ut.K7(Bt)&&Gi++,J&&Bt<32?e.write1(9216+Bt):J&&127===Bt?e.write1(9249):J&&lf(Bt)?(e.appendASCIIString("[U+"),e.appendASCIIString(k_(Bt)),e.appendASCIIString("]"),Qt=8):e.write1(Bt)}ke+=Qt,qt+=Qt,le>=d&&(Ce+=Gi)}ve=qt}Vt?Ne++:Ne=0,le>=r&&!X&&Pe.isPseudoAfter()&&(X=!0,ne.setColumnInfo(le+1,Te,ke,pe)),e.appendASCIIString("</span>")}return X||ne.setColumnInfo(r+1,l.length-1,ke,pe),a&&e.appendASCIIString("<span>&hellip;</span>"),e.appendASCIIString("</span>"),new od(ne,C,n)}(function y_(o){const e=o.lineContent;let t,i;-1!==o.stopRenderingLineAfter&&o.stopRenderingLineAfter<e.length?(t=!0,i=o.stopRenderingLineAfter):(t=!1,i=e.length);let n=function L_(o,e,t){const i=[];let n=0;e>0&&(i[n++]=new sn(e,"",0));for(let s=0,r=o.getCount();s<r;s++){const a=o.getEndOffset(s);if(a<=e)continue;const l=o.getClassName(s);if(a>=t){i[n++]=new sn(t,l,0);break}i[n++]=new sn(a,l,0)}return i}(o.lineTokens,o.fauxIndentLength,i);o.renderControlCharacters&&!o.isBasicASCII&&(n=function x_(o,e){const t=[];let i=new sn(0,"",0),n=0;for(const s of e){const r=s.endIndex;for(;n<r;n++)lf(o.charCodeAt(n))&&(n>i.endIndex&&(i=new sn(n,s.type,s.metadata),t.push(i)),i=new sn(n+1,"mtkcontrol",s.metadata),t.push(i));n>i.endIndex&&(i=new sn(r,s.type,s.metadata),t.push(i))}return t}(e,n)),(4===o.renderWhitespace||1===o.renderWhitespace||2===o.renderWhitespace&&o.selectionsOnLine||3===o.renderWhitespace)&&(n=function N_(o,e,t,i){const n=o.continuesWithWrappedLine,s=o.fauxIndentLength,r=o.tabSize,a=o.startVisibleColumn,l=o.useMonospaceOptimizations,d=o.selectionsOnLine,u=1===o.renderWhitespace,m=3===o.renderWhitespace,C=o.renderSpaceWidth!==o.spaceWidth,S=[];let M=0,j=0,J=i[j].type,ne=i[j].endIndex;const X=i.length;let ke,le=!1,Ce=ut.LC(e);-1===Ce?(le=!0,Ce=t,ke=t):ke=ut.ow(e);let Ne=!1,ve=0,pe=d&&d[ve],Te=a%r;for(let Pe=s;Pe<t;Pe++){const et=e.charCodeAt(Pe);let ot;if(pe&&Pe>=pe.endOffset&&(ve++,pe=d&&d[ve]),Pe<Ce||Pe>ke)ot=!0;else if(9===et)ot=!0;else if(32===et)if(u)if(Ne)ot=!0;else{const Nt=Pe+1<t?e.charCodeAt(Pe+1):0;ot=32===Nt||9===Nt}else ot=!0;else ot=!1;if(ot&&d&&(ot=!!pe&&pe.startOffset<=Pe&&pe.endOffset>Pe),ot&&m&&(ot=le||Pe>ke),Ne){if(!ot||!l&&Te>=r){if(C)for(let kt=(M>0?S[M-1].endIndex:s)+1;kt<=Pe;kt++)S[M++]=new sn(kt,"mtkw",1);else S[M++]=new sn(Pe,"mtkw",1);Te%=r}}else(Pe===ne||ot&&Pe>s)&&(S[M++]=new sn(Pe,J,0),Te%=r);for(9===et?Te=r:ut.K7(et)?Te+=2:Te++,Ne=ot;Pe===ne&&(j++,j<X);)J=i[j].type,ne=i[j].endIndex}let Qe=!1;if(Ne)if(n&&u){const Pe=t>0?e.charCodeAt(t-1):0,et=t>1?e.charCodeAt(t-2):0;32===Pe&&32!==et&&9!==et||(Qe=!0)}else Qe=!0;if(Qe)if(C)for(let et=(M>0?S[M-1].endIndex:s)+1;et<=t;et++)S[M++]=new sn(et,"mtkw",1);else S[M++]=new sn(t,"mtkw",1);else S[M++]=new sn(t,J,0);return S}(o,e,i,n));let s=0;if(o.lineDecorations.length>0){for(let r=0,a=o.lineDecorations.length;r<a;r++){const l=o.lineDecorations[r];3===l.type||1===l.type?s|=1:2===l.type&&(s|=2)}n=function I_(o,e,t,i){i.sort(ws.compare);const n=class b_{static normalize(e,t){if(0===t.length)return[];const i=[],n=new yl;let s=0;for(let r=0,a=t.length;r<a;r++){const l=t[r];let d=l.startColumn,u=l.endColumn;const m=l.className,C=1===l.type?2:2===l.type?4:0;if(d>1){const j=e.charCodeAt(d-2);ut.ZG(j)&&d--}if(u>1){const j=e.charCodeAt(u-2);ut.ZG(j)&&u--}const S=d-1,M=u-2;s=n.consumeLowerThan(S,s,i),0===n.count&&(s=S),n.insert(M,m,C)}return n.consumeLowerThan(1073741824,s,i),i}}.normalize(o,i),s=n.length;let r=0;const a=[];let l=0,d=0;for(let m=0,C=t.length;m<C;m++){const S=t[m],M=S.endIndex,j=S.type,J=S.metadata;for(;r<s&&n[r].startOffset<M;){const ne=n[r];if(ne.startOffset>d&&(d=ne.startOffset,a[l++]=new sn(d,j,J)),!(ne.endOffset+1<=M)){d=M,a[l++]=new sn(d,j+" "+ne.className,J|ne.metadata);break}d=ne.endOffset+1,a[l++]=new sn(d,j+" "+ne.className,J|ne.metadata),r++}M>d&&(d=M,a[l++]=new sn(d,j,J))}const u=t[t.length-1].endIndex;if(r<s&&n[r].startOffset===u)for(;r<s&&n[r].startOffset===u;){const m=n[r];a[l++]=new sn(d,m.className,m.metadata),r++}return a}(e,0,n,o.lineDecorations)}return o.containsRTL||(n=function E_(o,e,t){let i=0;const n=[];let s=0;if(t)for(let r=0,a=e.length;r<a;r++){const l=e[r],d=l.endIndex;if(i+50<d){const u=l.type,m=l.metadata;let C=-1,S=i;for(let M=i;M<d;M++)32===o.charCodeAt(M)&&(C=M),-1!==C&&M-S>=50&&(n[s++]=new sn(C+1,u,m),S=C+1,C=-1);S!==d&&(n[s++]=new sn(d,u,m))}else n[s++]=l;i=d}else for(let r=0,a=e.length;r<a;r++){const l=e[r],d=l.endIndex,u=d-i;if(u>50){const m=l.type,C=l.metadata,S=Math.ceil(u/50);for(let M=1;M<S;M++)n[s++]=new sn(i+50*M,m,C);n[s++]=new sn(d,m,C)}else n[s++]=l;i=d}return n}(e,n,!o.isBasicASCII||o.fontLigatures)),new S_(o.useMonospaceOptimizations,o.canUseHalfwidthRightwardsArrow,e,i,t,n,s,o.fauxIndentLength,o.tabSize,o.startVisibleColumn,o.containsRTL,o.spaceWidth,o.renderSpaceCharCode,o.renderWhitespace,o.renderControlCharacters)}(o),e)}class w_{constructor(e,t,i,n){this.characterMapping=e,this.html=t,this.containsRTL=i,this.containsForeignElements=n}}function Ll(o){const e=(0,Sl.l$)(1e4),t=rd(o,e);return new w_(t.characterMapping,e.build(),t.containsRTL,t.containsForeignElements)}class S_{constructor(e,t,i,n,s,r,a,l,d,u,m,C,S,M,j){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.len=n,this.isOverflowing=s,this.parts=r,this.containsForeignElements=a,this.fauxIndentLength=l,this.tabSize=d,this.startVisibleColumn=u,this.containsRTL=m,this.spaceWidth=C,this.renderSpaceCharCode=S,this.renderWhitespace=M,this.renderControlCharacters=j}}function lf(o){return o<32?9!==o:127===o||o>=8234&&o<=8238||o>=8294&&o<=8297||o>=8206&&o<=8207||1564===o}function k_(o){return o.toString(16).toUpperCase().padStart(4,"0")}class cf{constructor(e,t,i,n){this._viewportBrand=void 0,this.top=0|e,this.left=0|t,this.width=0|i,this.height=0|n}}class T_{constructor(e,t){this.tabSize=e,this.data=t}}class ad{constructor(e,t,i,n,s,r,a){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=i,this.maxColumn=n,this.startVisibleColumn=s,this.tokens=r,this.inlineDecorations=a}}class Xn{constructor(e,t,i,n,s,r,a,l,d,u){this.minColumn=e,this.maxColumn=t,this.content=i,this.continuesWithWrappedLine=n,this.isBasicASCII=Xn.isBasicASCII(i,r),this.containsRTL=Xn.containsRTL(i,this.isBasicASCII,s),this.tokens=a,this.inlineDecorations=l,this.tabSize=d,this.startVisibleColumn=u}static isBasicASCII(e,t){return!t||ut.$i(e)}static containsRTL(e,t,i){return!(t||!i)&&ut.Ut(e)}}class La{constructor(e,t,i){this.range=e,this.inlineClassName=t,this.type=i}}class M_{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=n}toInlineDecoration(e){return new La(new Ze.e(e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class df{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}}class hf{constructor(e,t,i){this.color=e,this.zIndex=t,this.data=i}static cmp(e,t){return e.zIndex===t.zIndex?e.color<t.color?-1:e.color>t.color?1:0:e.zIndex-t.zIndex}}function O_(o){return!function R_(o){return Array.isArray(o)}(o)}function uf(o){return"string"==typeof o}function ff(o){return!uf(o)}function Ar(o){return!o}function Oo(o,e){return o.ignoreCase&&e?e.toLowerCase():e}function gf(o){return o.replace(/[&<>'"_]/g,"-")}function A_(o,e){console.log(`${o.languageId}: ${e}`)}function wi(o,e){return new Error(`${o.languageId}: ${e}`)}function Ao(o,e,t,i,n){let r=null;return e.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,function(a,l,d,u,m,C,S,M,j){return Ar(d)?Ar(u)?!Ar(m)&&m<i.length?Oo(o,i[m]):!Ar(S)&&o&&"string"==typeof o[S]?o[S]:(null===r&&(r=n.split("."),r.unshift(n)),!Ar(C)&&C<r.length?Oo(o,r[C]):""):Oo(o,t):"$"})}function El(o,e){let t=e;for(;t&&t.length>0;){const i=o.tokenizer[t];if(i)return i;const n=t.lastIndexOf(".");t=n<0?null:t.substr(0,n)}return null}class Ea{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(null!==e&&e.depth>=this._maxCacheDepth)return new Pr(e,t);let i=Pr.getStackElementId(e);i.length>0&&(i+="|"),i+=t;let n=this._entries[i];return n||(n=new Pr(e,t),this._entries[i]=n,n)}}Ea._INSTANCE=new Ea(5);class Pr{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;null!==e;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;null!==e&&null!==t;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return null===e&&null===t}equals(e){return Pr._equals(this,e)}push(e){return Ea.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return Ea.create(this.parent,e)}}class Br{constructor(e,t){this.languageId=e,this.state=t}equals(e){return this.languageId===e.languageId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new Br(this.languageId,this.state)}}class Po{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(null!==t)return new xa(e,t);if(null!==e&&e.depth>=this._maxCacheDepth)return new xa(e,t);const i=Pr.getStackElementId(e);let n=this._entries[i];return n||(n=new xa(e,null),this._entries[i]=n,n)}}Po._INSTANCE=new Po(5);class xa{constructor(e,t){this.stack=e,this.embeddedLanguageData=t}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:Po.create(this.stack,this.embeddedLanguageData)}equals(e){return!!(e instanceof xa&&this.stack.equals(e.stack))&&(null===this.embeddedLanguageData&&null===e.embeddedLanguageData||null!==this.embeddedLanguageData&&null!==e.embeddedLanguageData&&this.embeddedLanguageData.equals(e.embeddedLanguageData))}}class B_{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(e){this._languageId=e}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=t,this._lastTokenLanguage=this._languageId,this._tokens.push(new rt.WU(e,t,this._languageId)))}nestedLanguageTokenize(e,t,i,n){const s=i.languageId,r=i.state,a=rt.RW.get(s);if(!a)return this.enterLanguage(s),this.emit(n,""),r;const l=a.tokenize(e,t,r);if(0!==n)for(const d of l.tokens)this._tokens.push(new rt.WU(d.offset+n,d.type,d.language));else this._tokens=this._tokens.concat(l.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,l.endState}finalize(e){return new rt.hG(this._tokens,e)}}class xl{constructor(e,t){this._languageService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(e){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(e)}emit(e,t){const i=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==i&&(this._lastTokenMetadata=i,this._tokens.push(e),this._tokens.push(i))}static _merge(e,t,i){const n=null!==e?e.length:0,s=t.length,r=null!==i?i.length:0;if(0===n&&0===s&&0===r)return new Uint32Array(0);if(0===n&&0===s)return i;if(0===s&&0===r)return e;const a=new Uint32Array(n+s+r);null!==e&&a.set(e);for(let l=0;l<s;l++)a[n+l]=t[l];return null!==i&&a.set(i,n+s),a}nestedLanguageTokenize(e,t,i,n){const s=i.languageId,r=i.state,a=rt.RW.get(s);if(!a)return this.enterLanguage(s),this.emit(n,""),r;const l=a.tokenizeEncoded(e,t,r);if(0!==n)for(let d=0,u=l.tokens.length;d<u;d+=2)l.tokens[d]+=n;return this._prependTokens=xl._merge(this._prependTokens,this._tokens,l.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,l.endState}finalize(e){return new rt.DI(xl._merge(this._prependTokens,this._tokens,null),e)}}class Na{constructor(e,t,i,n){this._languageService=e,this._standaloneThemeService=t,this._languageId=i,this._lexer=n,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let s=!1;this._tokenizationRegistryListener=rt.RW.onDidChange(r=>{if(s)return;let a=!1;for(let l=0,d=r.changedLanguages.length;l<d;l++)if(this._embeddedLanguages[r.changedLanguages[l]]){a=!0;break}a&&(s=!0,rt.RW.fire([this._languageId]),s=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const e=[];for(let t in this._embeddedLanguages){const i=rt.RW.get(t);if(i){if(i instanceof Na){const n=i.getLoadStatus();!1===n.loaded&&e.push(n.promise)}}else rt.RW.isResolved(t)||e.push(rt.RW.getOrCreate(t))}return 0===e.length?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then(t=>{})}}getInitialState(){const e=Ea.create(null,this._lexer.start);return Po.create(e,null)}tokenize(e,t,i){const n=new B_,s=this._tokenize(e,t,i,n);return n.finalize(s)}tokenizeEncoded(e,t,i){const n=new xl(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),s=this._tokenize(e,t,i,n);return n.finalize(s)}_tokenize(e,t,i,n){return i.embeddedLanguageData?this._nestedTokenize(e,t,i,0,n):this._myTokenize(e,t,i,0,n)}_findLeavingNestedLanguageOffset(e,t){let i=this._lexer.tokenizer[t.stack.state];if(!i&&(i=El(this._lexer,t.stack.state),!i))throw wi(this._lexer,"tokenizer state is not defined: "+t.stack.state);let n=-1,s=!1;for(const r of i){if(!ff(r.action)||"@pop"!==r.action.nextEmbedded)continue;s=!0;let a=r.regex;const l=r.regex.source;if("^(?:"===l.substr(0,4)&&")"===l.substr(l.length-1,1)){const u=(a.ignoreCase?"i":"")+(a.unicode?"u":"");a=new RegExp(l.substr(4,l.length-5),u)}const d=e.search(a);-1===d||0!==d&&r.matchOnlyAtLineStart||(-1===n||d<n)&&(n=d)}if(!s)throw wi(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return n}_nestedTokenize(e,t,i,n,s){const r=this._findLeavingNestedLanguageOffset(e,i);if(-1===r){const d=s.nestedLanguageTokenize(e,t,i.embeddedLanguageData,n);return Po.create(i.stack,new Br(i.embeddedLanguageData.languageId,d))}const a=e.substring(0,r);a.length>0&&s.nestedLanguageTokenize(a,!1,i.embeddedLanguageData,n);const l=e.substring(r);return this._myTokenize(l,t,i,n+r,s)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,i,n,s){s.enterLanguage(this._languageId);const r=e.length,a=t&&this._lexer.includeLF?e+"\n":e,l=a.length;let d=i.embeddedLanguageData,u=i.stack,m=0,C=null,S=!0;for(;S||m<l;){const M=m,j=u.depth,J=C?C.groups.length:0,ne=u.state;let X=null,le=null,Ce=null,ke=null,Ne=null;if(C){X=C.matches;const Te=C.groups.shift();le=Te.matched,Ce=Te.action,ke=C.rule,0===C.groups.length&&(C=null)}else{if(!S&&m>=l)break;S=!1;let Te=this._lexer.tokenizer[ne];if(!Te&&(Te=El(this._lexer,ne),!Te))throw wi(this._lexer,"tokenizer state is not defined: "+ne);let Qe=a.substr(m);for(const Pe of Te)if((0===m||!Pe.matchOnlyAtLineStart)&&(X=Qe.match(Pe.regex),X)){le=X[0],Ce=Pe.action;break}}if(X||(X=[""],le=""),Ce||(m<l&&(X=[a.charAt(m)],le=X[0]),Ce=this._lexer.defaultToken),null===le)break;for(m+=le.length;O_(Ce)&&ff(Ce)&&Ce.test;)Ce=Ce.test(le,X,ne,m===l);let ve=null;if("string"==typeof Ce||Array.isArray(Ce))ve=Ce;else if(Ce.group)ve=Ce.group;else if(null!=Ce.token){if(ve=Ce.tokenSubst?Ao(this._lexer,Ce.token,le,X,ne):Ce.token,Ce.nextEmbedded)if("@pop"===Ce.nextEmbedded){if(!d)throw wi(this._lexer,"cannot pop embedded language if not inside one");d=null}else{if(d)throw wi(this._lexer,"cannot enter embedded language from within an embedded language");Ne=Ao(this._lexer,Ce.nextEmbedded,le,X,ne)}if(Ce.goBack&&(m=Math.max(0,m-Ce.goBack)),Ce.switchTo&&"string"==typeof Ce.switchTo){let Te=Ao(this._lexer,Ce.switchTo,le,X,ne);if("@"===Te[0]&&(Te=Te.substr(1)),!El(this._lexer,Te))throw wi(this._lexer,"trying to switch to a state '"+Te+"' that is undefined in rule: "+this._safeRuleName(ke));u=u.switchTo(Te)}else{if(Ce.transform&&"function"==typeof Ce.transform)throw wi(this._lexer,"action.transform not supported");if(Ce.next)if("@push"===Ce.next){if(u.depth>=this._lexer.maxStack)throw wi(this._lexer,"maximum tokenizer stack size reached: ["+u.state+","+u.parent.state+",...]");u=u.push(ne)}else if("@pop"===Ce.next){if(u.depth<=1)throw wi(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(ke));u=u.pop()}else if("@popall"===Ce.next)u=u.popall();else{let Te=Ao(this._lexer,Ce.next,le,X,ne);if("@"===Te[0]&&(Te=Te.substr(1)),!El(this._lexer,Te))throw wi(this._lexer,"trying to set a next state '"+Te+"' that is undefined in rule: "+this._safeRuleName(ke));u=u.push(Te)}}Ce.log&&"string"==typeof Ce.log&&A_(this._lexer,this._lexer.languageId+": "+Ao(this._lexer,Ce.log,le,X,ne))}if(null===ve)throw wi(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(ke));const pe=Te=>{const Qe=this._languageService.getLanguageIdByLanguageName(Te)||this._languageService.getLanguageIdByMimeType(Te)||Te,Pe=this._getNestedEmbeddedLanguageData(Qe);if(m<l){const et=e.substr(m);return this._nestedTokenize(et,t,Po.create(u,Pe),n+m,s)}return Po.create(u,Pe)};if(Array.isArray(ve)){if(C&&C.groups.length>0)throw wi(this._lexer,"groups cannot be nested: "+this._safeRuleName(ke));if(X.length!==ve.length+1)throw wi(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(ke));let Te=0;for(let Qe=1;Qe<X.length;Qe++)Te+=X[Qe].length;if(Te!==le.length)throw wi(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(ke));C={rule:ke,matches:X,groups:[]};for(let Qe=0;Qe<ve.length;Qe++)C.groups[Qe]={action:ve[Qe],matched:X[Qe+1]};m-=le.length}else{{if("@rematch"===ve&&(m-=le.length,le="",X=null,ve="",null!==Ne))return pe(Ne);if(0===le.length){if(0===l||j!==u.depth||ne!==u.state||(C?C.groups.length:0)!==J)continue;throw wi(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(ke))}let Te=null;if(uf(ve)&&0===ve.indexOf("@brackets")){const Qe=ve.substr(9),Pe=F_(this._lexer,le);if(!Pe)throw wi(this._lexer,"@brackets token returned but no bracket defined as: "+le);Te=gf(Pe.token+Qe)}else Te=gf(""===ve?"":ve+this._lexer.tokenPostfix);M<r&&s.emit(M+n,Te)}if(null!==Ne)return pe(Ne)}}return Po.create(u,d)}_getNestedEmbeddedLanguageData(e){if(!this._languageService.isRegisteredLanguageId(e))return new Br(e,ln.TJ);e!==this._languageId&&(rt.RW.getOrCreate(e),this._embeddedLanguages[e]=!0);const t=rt.RW.get(e);return new Br(e,t?t.getInitialState():ln.TJ)}}function F_(o,e){if(!e)return null;e=Oo(o,e);const t=o.brackets;for(const i of t){if(i.open===e)return{token:i.token,bracketType:1};if(i.close===e)return{token:i.token,bracketType:-1}}return null}var ld;const cd=null===(ld=window.trustedTypes)||void 0===ld?void 0:ld.createPolicy("standaloneColorizer",{createHTML:o=>o});class dd{static colorizeElement(e,t,i,n){const s=(n=n||{}).theme||"vs",r=n.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");if(!r)return console.error("Mode not detected"),Promise.resolve();const a=t.getLanguageIdByMimeType(r)||r;e.setTheme(s);const l=i.firstChild?i.firstChild.nodeValue:"";return i.className+=" "+s,this.colorize(t,l||"",a,n).then(u=>{var m;const C=null!==(m=null==cd?void 0:cd.createHTML(u))&&void 0!==m?m:u;i.innerHTML=C},u=>console.error(u))}static colorize(e,t,i,n){return function(o,e,t,i){return new(t||(t=Promise))(function(s,r){function a(u){try{d(i.next(u))}catch(m){r(m)}}function l(u){try{d(i.throw(u))}catch(m){r(m)}}function d(u){u.done?s(u.value):function n(s){return s instanceof t?s:new t(function(r){r(s)})}(u.value).then(a,l)}d((i=i.apply(o,e||[])).next())})}(this,void 0,void 0,function*(){const s=e.languageIdCodec;let r=4;n&&"number"==typeof n.tabSize&&(r=n.tabSize),ut.uS(t)&&(t=t.substr(1));const a=ut.uq(t);if(!e.isRegisteredLanguageId(i))return pf(a,r,s);const l=yield rt.RW.getOrCreate(i);return l?function V_(o,e,t,i){return new Promise((n,s)=>{const r=()=>{const a=function H_(o,e,t,i){let n=[],s=t.getInitialState();for(let r=0,a=o.length;r<a;r++){const l=o[r],d=t.tokenizeEncoded(l,!0,s);ya.A.convertToEndOffset(d.tokens,l.length);const u=new ya.A(d.tokens,l,i),m=Xn.isBasicASCII(l,!0),C=Xn.containsRTL(l,m,!0),S=Ll(new Or(!1,!0,l,!1,m,C,0,u.inflate(),[],e,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(S.html),n.push("<br/>"),s=d.endState}return n.join("")}(o,e,t,i);if(t instanceof Na){const l=t.getLoadStatus();if(!1===l.loaded)return void l.promise.then(r,s)}n(a)};r()})}(a,r,l,s):pf(a,r,s)})}static colorizeLine(e,t,i,n,s=4){const r=Xn.isBasicASCII(e,t),a=Xn.containsRTL(e,r,i);return Ll(new Or(!1,!0,e,!1,r,a,0,n,[],s,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,i=4){const n=e.getLineContent(t);e.forceTokenization(t);const r=e.getLineTokens(t).inflate();return this.colorizeLine(n,e.mightContainNonBasicASCII(),e.mightContainRTL(),r,i)}}function pf(o,e,t){let i=[];const s=new Uint32Array(2);s[0]=0,s[1]=16793600;for(let r=0,a=o.length;r<a;r++){const l=o[r];s[0]=l.length;const d=new ya.A(s,l,t),u=Xn.isBasicASCII(l,!0),m=Xn.containsRTL(l,u,!0),C=Ll(new Or(!1,!0,l,!1,u,m,0,d,[],e,0,0,0,0,-1,"none",!1,!1,null));i=i.concat(C.html),i.push("<br/>")}return i.join("")}var hd=L(23619);const _f=(0,Ft.yh)("markerDecorationsService");var Et=L(95172);let Ia=class{constructor(e,t){}dispose(){}};var e;Ia.ID="editor.contrib.markerDecorations",Ia=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([(1,e=_f,function(t,i){e(t,i,1)})],Ia),(0,Et._K)(Ia.ID,Ia),L(93214);var ue=L(58059),Ki=L(90278);class Cf extends ze.JT{constructor(e,t){super(),this._onDidChange=this._register(new Be.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=e,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(e=>{e&&e[0]&&e[0].contentRect?this.observe({width:e[0].contentRect.width,height:e[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let i=0,n=0;t?(i=t.width,n=t.height):this._referenceDomElement&&(i=this._referenceDomElement.clientWidth,n=this._referenceDomElement.clientHeight),i=Math.max(5,i),n=Math.max(5,n),(this._width!==i||this._height!==n)&&(this._width=i,this._height=n,e&&this._onDidChange.fire())}}const j_=Object.prototype.hasOwnProperty;class $_{constructor(){this.map=new Map}add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){const i=this.map.get(e);!i||(i.delete(t),0===i.size&&this.map.delete(e))}forEach(e,t){const i=this.map.get(e);!i||i.forEach(t)}}const bf=new class Z_{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new Be.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus!==e&&(this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus))}};var Rt=L(59776);const as=(0,Ft.yh)("accessibilityService"),q_=new Rt.uy("accessibilityModeEnabled",!1);let ud=class extends ze.JT{constructor(e,t,i,n){super(),this._accessibilityService=n,this._onDidChange=this._register(new Be.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new Be.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new x,this.isSimpleWidget=e,this._containerObserver=this._register(new Cf(i,t.dimension)),this._rawOptions=vf(t),this._validatedOptions=Bo.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(wn.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(bf.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(Sn.onDidChange(()=>this._recomputeOptions())),this._register(Ei.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const e=this._computeOptions(),t=Bo.checkEquals(this.options,e);null!==t&&(this.options=e,this._onDidChangeFast.fire(t),this._onDidChange.fire(t))}_computeOptions(){const e=this._readEnvConfiguration(),t=vi.createFromValidatedSettings(this._validatedOptions,e.pixelRatio,this.isSimpleWidget),i=this._readFontInfo(t),n={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight-this._reservedHeight,fontInfo:i,extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:bf.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport};return Bo.computeOptions(this._validatedOptions,n)}_readEnvConfiguration(){return{extraEditorClassName:J_(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:Ei.isWebKit||Ei.isFirefox,pixelRatio:Ei.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(e){return Sn.readFontInfo(e)}getRawOptions(){return this._rawOptions}updateOptions(e){const t=vf(e);!Bo.applyUpdate(this._rawOptions,t)||(this._validatedOptions=Bo.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(e){this._containerObserver.observe(e)}setIsDominatedByLongLines(e){this._isDominatedByLongLines!==e&&(this._isDominatedByLongLines=e,this._recomputeOptions())}setModelLineCount(e){const t=function X_(o){let e=0;for(;o;)o=Math.floor(o/10),e++;return e||1}(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}setReservedHeight(e){this._reservedHeight!==e&&(this._reservedHeight=e,this._recomputeOptions())}};function J_(){let o="";return!Ei.isSafari&&!Ei.isWebkitWebView&&(o+="no-user-select "),Ei.isSafari&&(o+="no-minimap-shadow "),h.dz&&(o+="mac "),o}ud=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([function(o,e){return function(t,i){e(t,i,3)}}(0,as)],ud);class e1{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class t1{constructor(){this._values=[]}_read(e){if(e>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[e]}get(e){return this._read(e)}_write(e,t){this._values[e]=t}}class Bo{static validateOptions(e){const t=new e1;for(const i of Ii)t._write(i.id,i.validate("_never_"===i.name?void 0:e[i.name]));return t}static computeOptions(e,t){const i=new t1;for(const n of Ii)i._write(n.id,n.compute(t,i,e._read(n.id)));return i}static _deepEquals(e,t){if("object"!=typeof e||"object"!=typeof t||!e||!t)return e===t;if(Array.isArray(e)||Array.isArray(t))return!(!Array.isArray(e)||!Array.isArray(t))&&y.fS(e,t);if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!Bo._deepEquals(e[i],t[i]))return!1;return!0}static checkEquals(e,t){const i=[];let n=!1;for(const s of Ii){const r=!Bo._deepEquals(e._read(s.id),t._read(s.id));i[s.id]=r,r&&(n=!0)}return n?new B(i):null}static applyUpdate(e,t){let i=!1;for(const n of Ii)if(t.hasOwnProperty(n.name)){const s=n.applyUpdate(e[n.name],t[n.name]);e[n.name]=s.newValue,i=i||s.didChange}return i}}function vf(o){const e=v.I8(o);return function G_(o){const e=o.wordWrap;!0===e?o.wordWrap="on":!1===e&&(o.wordWrap="off");const t=o.lineNumbers;!0===t?o.lineNumbers="on":!1===t&&(o.lineNumbers="off"),!1===o.autoClosingBrackets&&(o.autoClosingBrackets="never",o.autoClosingQuotes="never",o.autoSurround="never"),"visible"===o.cursorBlinking&&(o.cursorBlinking="solid");const s=o.renderWhitespace;!0===s?o.renderWhitespace="boundary":!1===s&&(o.renderWhitespace="none");const r=o.renderLineHighlight;!0===r?o.renderLineHighlight="line":!1===r&&(o.renderLineHighlight="none");const a=o.acceptSuggestionOnEnter;!0===a?o.acceptSuggestionOnEnter="on":!1===a&&(o.acceptSuggestionOnEnter="off");const l=o.tabCompletion;!1===l?o.tabCompletion="off":!0===l&&(o.tabCompletion="onlySnippets");const d=o.suggest;d&&"object"==typeof d.filteredTypes&&d.filteredTypes&&function K_(o,e){for(let t in o)if(j_.call(o,t)&&!1===e({key:t,value:o[t]},function(){delete o[t]}))return}({method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"},ne=>{const X=d.filteredTypes[ne.key];!1===X&&(d[ne.value]=X)});const u=o.hover;!0===u?o.hover={enabled:!0}:!1===u&&(o.hover={enabled:!1});const m=o.parameterHints;!0===m?o.parameterHints={enabled:!0}:!1===m&&(o.parameterHints={enabled:!1});const C=o.autoIndent;!0===C?o.autoIndent="full":!1===C&&(o.autoIndent="advanced");const S=o.matchBrackets;!0===S?o.matchBrackets="always":!1===S&&(o.matchBrackets="never");const{renderIndentGuides:M,highlightActiveIndentGuide:j}=o;o.guides||(o.guides={}),void 0!==M&&(o.guides.indentation=!!M),void 0!==j&&(o.guides.highlightActiveIndentation=!!j)}(e),e}var Qi=L(79680),Da=L(78394),fd=L(43449),it=L(28708);class gd{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new wf(this.x-ue.DI.scrollX,this.y-ue.DI.scrollY)}}class wf{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new gd(this.clientX+ue.DI.scrollX,this.clientY+ue.DI.scrollY)}}class i1{constructor(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n,this._editorPagePositionBrand=void 0}}class n1{constructor(e,t){this.x=e,this.y=t,this._positionRelativeToEditorBrand=void 0}}function Sf(o){const e=ue.i(o);return new i1(e.left,e.top,e.width,e.height)}function yf(o,e,t){return new n1((t.x-e.x)/(e.width/o.offsetWidth),(t.y-e.y)/(e.height/o.offsetHeight))}class tr extends Da.n{constructor(e,t){super(e),this._editorMouseEventBrand=void 0,this.pos=new gd(this.posx,this.posy),this.editorPos=Sf(t),this.relativePos=yf(t,this.editorPos,this.pos)}}class s1{constructor(e){this._editorViewDomNode=e}_create(e){return new tr(e,this._editorViewDomNode)}onContextMenu(e,t){return ue.nm(e,"contextmenu",i=>{t(this._create(i))})}onMouseUp(e,t){return ue.nm(e,"mouseup",i=>{t(this._create(i))})}onMouseDown(e,t){return ue.nm(e,"mousedown",i=>{t(this._create(i))})}onMouseLeave(e,t){return ue.j_(e,i=>{t(this._create(i))})}onMouseMoveThrottled(e,t,i,n){return ue.Y_(e,"mousemove",t,(r,a)=>i(r,this._create(a)),n)}}class o1{constructor(e){this._editorViewDomNode=e}_create(e){return new tr(e,this._editorViewDomNode)}onPointerUp(e,t){return ue.nm(e,"pointerup",i=>{t(this._create(i))})}onPointerDown(e,t){return ue.nm(e,"pointerdown",i=>{t(this._create(i))})}onPointerLeave(e,t){return ue.RE(e,i=>{t(this._create(i))})}onPointerMoveThrottled(e,t,i,n){return ue.Y_(e,"pointermove",t,(r,a)=>i(r,this._create(a)),n)}}class r1 extends ze.JT{constructor(e){super(),this._editorViewDomNode=e,this._globalMouseMoveMonitor=this._register(new fd.Z),this._keydownListener=null}startMonitoring(e,t,i,n,s){this._keydownListener=ue.mu(document,"keydown",a=>{a.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,a.browserEvent)},!0),this._globalMouseMoveMonitor.startMonitoring(e,t,(a,l)=>i(a,new tr(l,this._editorViewDomNode)),n,a=>{this._keydownListener.dispose(),s(a)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}class ka extends ze.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let i=0,n=e.length;i<n;i++){const s=e[i];switch(s.type){case 0:this.onCompositionStart(s)&&(t=!0);break;case 1:this.onCompositionEnd(s)&&(t=!0);break;case 2:this.onConfigurationChanged(s)&&(t=!0);break;case 3:this.onCursorStateChanged(s)&&(t=!0);break;case 4:this.onDecorationsChanged(s)&&(t=!0);break;case 5:this.onFlushed(s)&&(t=!0);break;case 6:this.onFocusChanged(s)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(s)&&(t=!0);break;case 8:this.onLineMappingChanged(s)&&(t=!0);break;case 9:this.onLinesChanged(s)&&(t=!0);break;case 10:this.onLinesDeleted(s)&&(t=!0);break;case 11:this.onLinesInserted(s)&&(t=!0);break;case 12:this.onRevealRangeRequest(s)&&(t=!0);break;case 13:this.onScrollChanged(s)&&(t=!0);break;case 15:this.onTokensChanged(s)&&(t=!0);break;case 14:this.onThemeChanged(s)&&(t=!0);break;case 16:this.onTokensColorsChanged(s)&&(t=!0);break;case 17:this.onZonesChanged(s)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(s)}}t&&(this._shouldRender=!0)}}class ls extends ka{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class Qs{static write(e,t){e.setAttribute("data-mprt",String(t))}static read(e){const t=e.getAttribute("data-mprt");return null===t?0:parseInt(t,10)}static collect(e,t){const i=[];let n=0;for(;e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i[n++]=this.read(e)),e=e.parentElement;const s=new Uint8Array(n);for(let r=0;r<n;r++)s[r]=i[n-r-1];return s}}class c1 extends class l1{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}{constructor(e,t,i){super(e,t),this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class d1{constructor(e,t,i){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=i}}class Nl{constructor(e,t){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(t)}static from(e){const t=new Array(e.length);for(let i=0,n=e.length;i<n;i++){const s=e[i];t[i]=new Nl(s.left,s.width)}return t}toString(){return`[${this.left},${this.width}]`}}class Fr{constructor(e,t){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}}class h1{constructor(e,t){this.outsideRenderedLine=e,this.originalLeft=t,this.left=Math.round(this.originalLeft)}}class u1{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}class md{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,i,n,s){const r=this._createRange();try{return r.setStart(e,t),r.setEnd(i,n),r.getClientRects()}catch(a){return null}finally{this._detachRange(r,s)}}static _mergeAdjacentRanges(e){if(1===e.length)return e;e.sort(Fr.compare);const t=[];let i=0,n=e[0];for(let s=1,r=e.length;s<r;s++){const a=e[s];n.left+n.width+.9>=a.left?n.width=Math.max(n.width,a.left+a.width-n.left):(t[i++]=n,n=a)}return t[i++]=n,t}static _createHorizontalRangesFromClientRects(e,t,i){if(!e||0===e.length)return null;const n=[];for(let s=0,r=e.length;s<r;s++){const a=e[s];n[s]=new Fr(Math.max(0,(a.left-t)/i),a.width/i)}return this._mergeAdjacentRanges(n)}static readHorizontalRanges(e,t,i,n,s,r,a,l){const u=e.children.length-1;if(0>u)return null;if((t=Math.min(u,Math.max(0,t)))===(n=Math.min(u,Math.max(0,n)))&&i===s&&0===i&&!e.children[t].firstChild){const M=e.children[t].getClientRects();return this._createHorizontalRangesFromClientRects(M,r,a)}t!==n&&n>0&&0===s&&(n--,s=1073741824);let m=e.children[t].firstChild,C=e.children[n].firstChild;if((!m||!C)&&(!m&&0===i&&t>0&&(m=e.children[t-1].firstChild,i=1073741824),!C&&0===s&&n>0&&(C=e.children[n-1].firstChild,s=1073741824)),!m||!C)return null;i=Math.min(m.textContent.length,Math.max(0,i)),s=Math.min(C.textContent.length,Math.max(0,s));const S=this._readClientRects(m,i,C,s,l);return this._createHorizontalRangesFromClientRects(S,r,a)}}var Wr=L(58676);const f1=!!h.tY||!(h.IJ||Ei.isFirefox||Ei.isSafari);let Vr=!0;class Lf{constructor(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=t}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const e=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=e.left,this._clientRectScale=e.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}class Ef{constructor(e,t){this.themeType=t;const i=e.options,n=i.get(44);this.renderWhitespace=i.get(88),this.renderControlCharacters=i.get(83),this.spaceWidth=n.spaceWidth,this.middotWidth=n.middotWidth,this.wsmiddotWidth=n.wsmiddotWidth,this.useMonospaceOptimizations=n.isMonospace&&!i.get(29),this.canUseHalfwidthRightwardsArrow=n.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(59),this.stopRenderingLineAfter=i.get(105),this.fontLigatures=i.get(45)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}let ir=(()=>{class o{constructor(t){this._options=t,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(t){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=(0,dt.X)(t)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(t){this._isMaybeInvalid=!0,this._options=t}onSelectionChanged(){return(this._options.themeType===Wr.e.HIGH_CONTRAST||"selection"===this._options.renderWhitespace)&&(this._isMaybeInvalid=!0,!0)}renderLine(t,i,n,s){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const r=n.getViewLineRenderingData(t),a=this._options,l=ws.filter(r.inlineDecorations,t,r.minColumn,r.maxColumn);let d=null;if(a.themeType===Wr.e.HIGH_CONTRAST||"selection"===this._options.renderWhitespace){const S=n.selections;for(const M of S){if(M.endLineNumber<t||M.startLineNumber>t)continue;const j=M.startLineNumber===t?M.startColumn:r.minColumn,J=M.endLineNumber===t?M.endColumn:r.maxColumn;j<J&&(a.themeType===Wr.e.HIGH_CONTRAST||"selection"!==this._options.renderWhitespace?l.push(new ws(j,J,"inline-selected-text",0)):(d||(d=[]),d.push(new v_(j-1,J-1))))}}const u=new Or(a.useMonospaceOptimizations,a.canUseHalfwidthRightwardsArrow,r.content,r.continuesWithWrappedLine,r.isBasicASCII,r.containsRTL,r.minColumn-1,r.tokens,l,r.tabSize,r.startVisibleColumn,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,a.stopRenderingLineAfter,a.renderWhitespace,a.renderControlCharacters,a.fontLigatures!==oe.OFF,d);if(this._renderedViewLine&&this._renderedViewLine.input.equals(u))return!1;s.appendASCIIString('<div style="top:'),s.appendASCIIString(String(i)),s.appendASCIIString("px;height:"),s.appendASCIIString(String(this._options.lineHeight)),s.appendASCIIString('px;" class="'),s.appendASCIIString(o.CLASS_NAME),s.appendASCIIString('">');const m=rd(u,s);s.appendASCIIString("</div>");let C=null;return Vr&&f1&&r.isBasicASCII&&a.useMonospaceOptimizations&&0===m.containsForeignElements&&r.content.length<300&&u.lineTokens.getCount()<100&&(C=new Il(this._renderedViewLine?this._renderedViewLine.domNode:null,u,m.characterMapping)),C||(C=Nf(this._renderedViewLine?this._renderedViewLine.domNode:null,u,m.characterMapping,m.containsRTL,m.containsForeignElements)),this._renderedViewLine=C,!0}layoutLine(t,i){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(i),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof Il}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof Il?this._renderedViewLine.monospaceAssumptionsAreValid():Vr}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof Il&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(t,i,n,s){if(!this._renderedViewLine)return null;i=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,i)),n=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,n));const r=this._renderedViewLine.input.stopRenderingLineAfter;let a=!1;-1!==r&&i>r+1&&n>r+1&&(a=!0),-1!==r&&i>r+1&&(i=r+1),-1!==r&&n>r+1&&(n=r+1);const l=this._renderedViewLine.getVisibleRangesForRange(t,i,n,s);return l&&l.length>0?new u1(a,l):null}getColumnOfNodeOffset(t,i,n){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(t,i,n):1}}return o.CLASS_NAME="view-line",o})();class Il{constructor(e,t,i){this.domNode=e,this.input=t,this._characterMapping=i,this._charWidth=t.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return Vr;const e=this.getWidth();return Math.abs(e-this.domNode.domNode.firstChild.offsetWidth)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),Vr=!1),Vr}toSlowRenderedLine(){return Nf(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,i,n){const s=this._getCharPosition(t),r=this._getCharPosition(i);return[new Fr(s,r-s)]}_getCharPosition(e){const t=this._characterMapping.getAbsoluteOffset(e);return this._charWidth*t}getColumnOfNodeOffset(e,t,i){const n=t.textContent.length;let s=-1;for(;t;)t=t.previousSibling,s++;return this._characterMapping.getColumn(new sd(s,i),n)}}class xf{constructor(e,t,i,n,s){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=s,this._cachedWidth=-1,this._pixelOffsetCache=null,!n||0===this._characterMapping.length){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let r=0,a=this._characterMapping.length;r<=a;r++)this._pixelOffsetCache[r]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(e,t,i,n){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const s=this._readPixelOffset(this.domNode,e,t,n);if(-1===s)return null;const r=this._readPixelOffset(this.domNode,e,i,n);return-1===r?null:[new Fr(s,r-s)]}return this._readVisibleRangesForRange(this.domNode,e,t,i,n)}_readVisibleRangesForRange(e,t,i,n,s){if(i===n){const r=this._readPixelOffset(e,t,i,s);return-1===r?null:[new Fr(r,0)]}return this._readRawVisibleRangesForRange(e,i,n,s)}_readPixelOffset(e,t,i,n){if(0===this._characterMapping.length){if(0===this._containsForeignElements||2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();const s=this._getReadingTarget(e);return s.firstChild?s.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){const s=this._pixelOffsetCache[i];if(-1!==s)return s;const r=this._actualReadPixelOffset(e,t,i,n);return this._pixelOffsetCache[i]=r,r}return this._actualReadPixelOffset(e,t,i,n)}_actualReadPixelOffset(e,t,i,n){if(0===this._characterMapping.length){const l=md.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,n.clientRectDeltaLeft,n.clientRectScale,n.endNode);return l&&0!==l.length?l[0].left:-1}if(i===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();const s=this._characterMapping.getDomPosition(i),r=md.readHorizontalRanges(this._getReadingTarget(e),s.partIndex,s.charIndex,s.partIndex,s.charIndex,n.clientRectDeltaLeft,n.clientRectScale,n.endNode);if(!r||0===r.length)return-1;const a=r[0].left;if(this.input.isBasicASCII){const l=this._characterMapping.getAbsoluteOffset(i),d=Math.round(this.input.spaceWidth*l);if(Math.abs(d-a)<=1)return d}return a}_readRawVisibleRangesForRange(e,t,i,n){if(1===t&&i===this._characterMapping.length)return[new Fr(0,this.getWidth())];const s=this._characterMapping.getDomPosition(t),r=this._characterMapping.getDomPosition(i);return md.readHorizontalRanges(this._getReadingTarget(e),s.partIndex,s.charIndex,r.partIndex,r.charIndex,n.clientRectDeltaLeft,n.clientRectScale,n.endNode)}getColumnOfNodeOffset(e,t,i){const n=t.textContent.length;let s=-1;for(;t;)t=t.previousSibling,s++;return this._characterMapping.getColumn(new sd(s,i),n)}}class g1 extends xf{_readVisibleRangesForRange(e,t,i,n,s){const r=super._readVisibleRangesForRange(e,t,i,n,s);if(!r||0===r.length||i===n||1===i&&n===this._characterMapping.length)return r;if(!this.input.containsRTL){const a=this._readPixelOffset(e,t,n,s);if(-1!==a){const l=r[r.length-1];l.left<a&&(l.width=a-l.left)}}return r}}const Nf=Ei.isWebKit?function m1(o,e,t,i,n){return new g1(o,e,t,i,n)}:function p1(o,e,t,i,n){return new xf(o,e,t,i,n)};var nr,Ln=L(74826);class Ta{static whitespaceVisibleColumn(e,t,i){const n=e.length;let s=0,r=-1,a=-1;for(let l=0;l<n;l++){if(l===t)return[r,a,s];switch(s%i==0&&(r=l,a=s),e.charCodeAt(l)){case 32:s+=1;break;case 9:s=Ln.i.nextRenderTabStop(s,i);break;default:return[-1,-1,-1]}}return t===n?[r,a,s]:[-1,-1,-1]}static atomicPosition(e,t,i,n){const s=e.length,[r,a,l]=Ta.whitespaceVisibleColumn(e,t,i);if(-1===l)return-1;let d;switch(n){case 0:d=!0;break;case 1:d=!1;break;case 2:if(l%i==0)return t;d=l%i<=i/2}if(d){if(-1===r)return-1;let C=a;for(let S=r;S<s;++S){if(C===a+i)return r;switch(e.charCodeAt(S)){case 32:C+=1;break;case 9:C=Ln.i.nextRenderTabStop(C,i);break;default:return-1}}return C===a+i?r:-1}const u=Ln.i.nextRenderTabStop(l,i);let m=l;for(let C=t;C<s;C++){if(m===u)return C;switch(e.charCodeAt(C)){case 32:m+=1;break;case 9:m=Ln.i.nextRenderTabStop(m,i);break;default:return-1}}return m===u?s:-1}}class Fo{constructor(e=null){this.hitTarget=e,this.type=0}}class pd{constructor(e,t,i){this.position=e,this.spanNode=t,this.injectedText=i,this.type=1}}!function(o){o.createFromDOMInfo=function e(t,i,n){const s=t.getPositionFromDOMInfo(i,n);return s?new pd(s,i,null):new Fo(i)}}(nr||(nr={}));class _1{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}}class Hn{static _deduceRage(e,t=null){return!t&&e?new Ze.e(e.lineNumber,e.column,e.lineNumber,e.column):null!=t?t:null}static createUnknown(e,t,i){return{type:0,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createTextarea(e,t){return{type:1,element:e,mouseColumn:t,position:null,range:null}}static createMargin(e,t,i,n,s,r){return{type:e,element:t,mouseColumn:i,position:n,range:s,detail:r}}static createViewZone(e,t,i,n,s){return{type:e,element:t,mouseColumn:i,position:n,range:this._deduceRage(n),detail:s}}static createContentText(e,t,i,n,s){return{type:6,element:e,mouseColumn:t,position:i,range:this._deduceRage(i,n),detail:s}}static createContentEmpty(e,t,i,n){return{type:7,element:e,mouseColumn:t,position:i,range:this._deduceRage(i),detail:n}}static createContentWidget(e,t,i){return{type:9,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createScrollbar(e,t,i){return{type:11,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createOverlayWidget(e,t,i){return{type:12,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createOutsideEditor(e,t){return{type:13,element:null,mouseColumn:e,position:t,range:this._deduceRage(t)}}static _typeToString(e){return 1===e?"TEXTAREA":2===e?"GUTTER_GLYPH_MARGIN":3===e?"GUTTER_LINE_NUMBERS":4===e?"GUTTER_LINE_DECORATIONS":5===e?"GUTTER_VIEW_ZONE":6===e?"CONTENT_TEXT":7===e?"CONTENT_EMPTY":8===e?"CONTENT_VIEW_ZONE":9===e?"CONTENT_WIDGET":10===e?"OVERVIEW_RULER":11===e?"SCROLLBAR":12===e?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+JSON.stringify(e.detail)}}class Ss{static isTextArea(e){return 2===e.length&&3===e[0]&&6===e[1]}static isChildOfViewLines(e){return e.length>=4&&3===e[0]&&7===e[3]}static isStrictChildOfViewLines(e){return e.length>4&&3===e[0]&&7===e[3]}static isChildOfScrollableElement(e){return e.length>=2&&3===e[0]&&5===e[1]}static isChildOfMinimap(e){return e.length>=2&&3===e[0]&&8===e[1]}static isChildOfContentWidgets(e){return e.length>=4&&3===e[0]&&1===e[3]}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&2===e[0]}static isChildOfOverlayWidgets(e){return e.length>=2&&3===e[0]&&4===e[1]}}class Hr{constructor(e,t,i){this.model=e.model;const n=e.configuration.options;this.layoutInfo=n.get(131),this.viewDomNode=t.viewDomNode,this.lineHeight=n.get(59),this.stickyTabStops=n.get(104),this.typicalHalfwidthCharacterWidth=n.get(44).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return Hr.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){const i=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(i){const n=i.verticalOffset+i.height/2,s=e.model.getLineCount();let a,r=null,l=null;return i.afterLineNumber!==s&&(l=new Xe.L(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(r=new Xe.L(i.afterLineNumber,e.model.getLineMaxColumn(i.afterLineNumber))),a=null===l?r:null===r?l:t<n?r:l,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:r,positionAfter:l,position:a}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const n=this._context.model.getLineCount(),s=this._context.model.getLineMaxColumn(n);return{range:new Ze.e(n,s,n,s),isAfterLines:!0}}const t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),i=this._context.model.getLineMaxColumn(t);return{range:new Ze.e(t,1,t,i),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return Hr._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,i){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class _d extends class C1{constructor(e,t,i,n){this.editorPos=t,this.pos=i,this.relativePos=n,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+this.relativePos.x-e.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<e.layoutInfo.contentLeft&&this.relativePos.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,mn._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}{constructor(e,t,i,n,s){super(e,t,i,n),this._ctx=e,s?(this.target=s,this.targetPath=Qs.collect(s,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(e=null){return e&&e.column<this._ctx.model.getLineMaxColumn(e.lineNumber)?Ln.i.visibleColumnFromColumn(this._ctx.model.getLineContent(e.lineNumber),e.column,this._ctx.model.getTextModelOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(e=null){return Hn.createUnknown(this.target,this._getMouseColumn(e),e)}fulfillTextarea(){return Hn.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(e,t,i,n){return Hn.createMargin(e,this.target,this._getMouseColumn(t),t,i,n)}fulfillViewZone(e,t,i){return Hn.createViewZone(e,this.target,this._getMouseColumn(t),t,i)}fulfillContentText(e,t,i){return Hn.createContentText(this.target,this._getMouseColumn(e),e,t,i)}fulfillContentEmpty(e,t){return Hn.createContentEmpty(this.target,this._getMouseColumn(e),e,t)}fulfillContentWidget(e){return Hn.createContentWidget(this.target,this._getMouseColumn(),e)}fulfillScrollbar(e){return Hn.createScrollbar(this.target,this._getMouseColumn(e),e)}fulfillOverlayWidget(e){return Hn.createOverlayWidget(this.target,this._getMouseColumn(),e)}withTarget(e){return new _d(this._ctx,this.editorPos,this.pos,this.relativePos,e)}}const If={isAfterLines:!0};function Cd(o){return{isAfterLines:!1,horizontalDistanceToText:o}}class mn{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){const i=Qs.collect(e.target,this._viewHelper.viewDomNode);return!!(Ss.isChildOfContentWidgets(i)||Ss.isChildOfOverflowingContentWidgets(i)||Ss.isChildOfOverlayWidgets(i))}createMouseTarget(e,t,i,n,s){const r=new Hr(this._context,this._viewHelper,e),a=new _d(r,t,i,n,s);try{return mn._createMouseTarget(r,a,!1)}catch(l){return a.fulfillUnknown()}}static _createMouseTarget(e,t,i){if(null===t.target){if(i)return t.fulfillUnknown();const r=mn._doHitTest(e,t);return 1===r.type?mn.createMouseTargetFromHitTestPosition(e,t,r.spanNode,r.position,r.injectedText):this._createMouseTarget(e,t.withTarget(r.hitTarget),!0)}const n=t;let s=null;return s=s||mn._hitTestContentWidget(e,n),s=s||mn._hitTestOverlayWidget(e,n),s=s||mn._hitTestMinimap(e,n),s=s||mn._hitTestScrollbarSlider(e,n),s=s||mn._hitTestViewZone(e,n),s=s||mn._hitTestMargin(e,n),s=s||mn._hitTestViewCursor(e,n),s=s||mn._hitTestTextArea(e,n),s=s||mn._hitTestViewLines(e,n,i),s=s||mn._hitTestScrollbar(e,n),s||t.fulfillUnknown()}static _hitTestContentWidget(e,t){if(Ss.isChildOfContentWidgets(t.targetPath)||Ss.isChildOfOverflowingContentWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfillContentWidget(i):t.fulfillUnknown()}return null}static _hitTestOverlayWidget(e,t){if(Ss.isChildOfOverlayWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfillOverlayWidget(i):t.fulfillUnknown()}return null}static _hitTestViewCursor(e,t){if(t.target){const i=e.lastRenderData.lastViewCursorsRenderData;for(const n of i)if(t.target===n.domNode)return t.fulfillContentText(n.position,null,{mightBeForeignElement:!1,injectedText:null})}if(t.isInContentArea){const i=e.lastRenderData.lastViewCursorsRenderData,n=t.mouseContentHorizontalOffset,s=t.mouseVerticalOffset;for(const r of i){if(n<r.contentLeft||n>r.contentLeft+r.width)continue;const a=e.getVerticalOffsetForLineNumber(r.position.lineNumber);if(a<=s&&s<=a+r.height)return t.fulfillContentText(r.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(e,t){const i=e.getZoneAtCoord(t.mouseVerticalOffset);return i?t.fulfillViewZone(t.isInContentArea?8:5,i.position,i):null}static _hitTestTextArea(e,t){return Ss.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfillContentText(e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):t.fulfillTextarea():null}static _hitTestMargin(e,t){if(t.isInMarginArea){const i=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),n=i.range.getStartPosition();let s=Math.abs(t.relativePos.x);const r={isAfterLines:i.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:s};return s-=e.layoutInfo.glyphMarginLeft,s<=e.layoutInfo.glyphMarginWidth?t.fulfillMargin(2,n,i.range,r):(s-=e.layoutInfo.glyphMarginWidth,s<=e.layoutInfo.lineNumbersWidth?t.fulfillMargin(3,n,i.range,r):(s-=e.layoutInfo.lineNumbersWidth,t.fulfillMargin(4,n,i.range,r)))}return null}static _hitTestViewLines(e,t,i){if(!Ss.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfillContentEmpty(new Xe.L(1,1),If);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){const s=e.model.getLineCount(),r=e.model.getLineMaxColumn(s);return t.fulfillContentEmpty(new Xe.L(s,r),If)}if(i){if(Ss.isStrictChildOfViewLines(t.targetPath)){const s=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(0===e.model.getLineLength(s)){const a=e.getLineWidth(s),l=Cd(t.mouseContentHorizontalOffset-a);return t.fulfillContentEmpty(new Xe.L(s,1),l)}const r=e.getLineWidth(s);if(t.mouseContentHorizontalOffset>=r){const a=Cd(t.mouseContentHorizontalOffset-r),l=new Xe.L(s,e.model.getLineMaxColumn(s));return t.fulfillContentEmpty(l,a)}}return t.fulfillUnknown()}const n=mn._doHitTest(e,t);return 1===n.type?mn.createMouseTargetFromHitTestPosition(e,t,n.spanNode,n.position,n.injectedText):this._createMouseTarget(e,t.withTarget(n.hitTarget),!0)}static _hitTestMinimap(e,t){if(Ss.isChildOfMinimap(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.model.getLineMaxColumn(i);return t.fulfillScrollbar(new Xe.L(i,n))}return null}static _hitTestScrollbarSlider(e,t){if(Ss.isChildOfScrollableElement(t.targetPath)&&t.target&&1===t.target.nodeType){const i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){const n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),s=e.model.getLineMaxColumn(n);return t.fulfillScrollbar(new Xe.L(n,s))}}return null}static _hitTestScrollbar(e,t){if(Ss.isChildOfScrollableElement(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.model.getLineMaxColumn(i);return t.fulfillScrollbar(new Xe.L(i,n))}return null}getMouseColumn(e){const t=this._context.configuration.options,i=t.get(131),n=this._context.viewLayout.getCurrentScrollLeft()+e.x-i.contentLeft;return mn._getMouseColumn(n,t.get(44).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){return e<0?1:Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,i,n,s){const r=n.lineNumber,a=n.column,l=e.getLineWidth(r);if(t.mouseContentHorizontalOffset>l){const J=Cd(t.mouseContentHorizontalOffset-l);return t.fulfillContentEmpty(n,J)}const d=e.visibleRangeForPosition(r,a);if(!d)return t.fulfillUnknown(n);if(t.mouseContentHorizontalOffset===d.left)return t.fulfillContentText(n,null,{mightBeForeignElement:!!s,injectedText:s});const m=[];if(m.push({offset:d.left,column:a}),a>1){const J=e.visibleRangeForPosition(r,a-1);J&&m.push({offset:J.left,column:a-1})}if(a<e.model.getLineMaxColumn(r)){const J=e.visibleRangeForPosition(r,a+1);J&&m.push({offset:J.left,column:a+1})}m.sort((J,ne)=>J.offset-ne.offset);const S=t.pos.toClientCoordinates(),M=i.getBoundingClientRect(),j=M.left<=S.clientX&&S.clientX<=M.right;for(let J=1;J<m.length;J++){const ne=m[J-1],X=m[J];if(ne.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=X.offset){const le=new Ze.e(r,ne.column,r,X.column);return t.fulfillContentText(n,le,{mightBeForeignElement:!j||!!s,injectedText:s})}}return t.fulfillContentText(n,null,{mightBeForeignElement:!j||!!s,injectedText:s})}static _doHitTestWithCaretRangeFromPoint(e,t){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),s=e.getVerticalOffsetForLineNumber(i)+Math.floor(e.lineHeight/2);let r=t.pos.y+(s-t.mouseVerticalOffset);r<=t.editorPos.y&&(r=t.editorPos.y+1),r>=t.editorPos.y+t.editorPos.height&&(r=t.editorPos.y+t.editorPos.height-1);const a=new gd(t.pos.x,r),l=this._actualDoHitTestWithCaretRangeFromPoint(e,a.toClientCoordinates());return 1===l.type?l:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,t){const i=ue.Ay(e.viewDomNode);let n;if(n=i?void 0===i.caretRangeFromPoint?function b1(o,e,t){const i=document.createRange();let n=o.elementFromPoint(e,t);if(null!==n){for(;n&&n.firstChild&&n.firstChild.nodeType!==n.firstChild.TEXT_NODE&&n.lastChild&&n.lastChild.firstChild;)n=n.lastChild;const s=n.getBoundingClientRect(),r=window.getComputedStyle(n,null).getPropertyValue("font"),a=n.innerText;let u,l=s.left,d=0;if(e>s.left+s.width)d=a.length;else{const m=v1.getInstance();for(let C=0;C<a.length+1;C++){if(u=m.getCharWidth(a.charAt(C),r)/2,l+=u,e<l){d=C;break}l+=u}}i.setStart(n.firstChild,d),i.setEnd(n.firstChild,d)}return i}(i,t.clientX,t.clientY):i.caretRangeFromPoint(t.clientX,t.clientY):document.caretRangeFromPoint(t.clientX,t.clientY),!n||!n.startContainer)return new Fo;const s=n.startContainer;if(s.nodeType===s.TEXT_NODE){const r=s.parentNode,a=r?r.parentNode:null,l=a?a.parentNode:null;return(l&&l.nodeType===l.ELEMENT_NODE?l.className:null)===ir.CLASS_NAME?nr.createFromDOMInfo(e,r,n.startOffset):new Fo(s.parentNode)}if(s.nodeType===s.ELEMENT_NODE){const r=s.parentNode,a=r?r.parentNode:null;return(a&&a.nodeType===a.ELEMENT_NODE?a.className:null)===ir.CLASS_NAME?nr.createFromDOMInfo(e,s,s.textContent.length):new Fo(s)}return new Fo}static _doHitTestWithCaretPositionFromPoint(e,t){const i=document.caretPositionFromPoint(t.clientX,t.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){const n=i.offsetNode.parentNode,s=n?n.parentNode:null,r=s?s.parentNode:null;return(r&&r.nodeType===r.ELEMENT_NODE?r.className:null)===ir.CLASS_NAME?nr.createFromDOMInfo(e,i.offsetNode.parentNode,i.offset):new Fo(i.offsetNode.parentNode)}if(i.offsetNode.nodeType===i.offsetNode.ELEMENT_NODE){const n=i.offsetNode.parentNode,r=n?n.parentNode:null,a=r&&r.nodeType===r.ELEMENT_NODE?r.className:null;if((n&&n.nodeType===n.ELEMENT_NODE?n.className:null)===ir.CLASS_NAME){const l=i.offsetNode.childNodes[Math.min(i.offset,i.offsetNode.childNodes.length-1)];if(l)return nr.createFromDOMInfo(e,l,0)}else if(a===ir.CLASS_NAME)return nr.createFromDOMInfo(e,i.offsetNode,0)}return new Fo(i.offsetNode)}static _snapToSoftTabBoundary(e,t){const i=t.getLineContent(e.lineNumber),{tabSize:n}=t.getTextModelOptions(),s=Ta.atomicPosition(i,e.column-1,n,2);return-1!==s?new Xe.L(e.lineNumber,s+1):e}static _doHitTest(e,t){let i=new Fo;if("function"==typeof document.caretRangeFromPoint?i=this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint&&(i=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates())),1===i.type){const n=e.model.getInjectedTextAt(i.position),s=e.model.normalizePosition(i.position,2);(n||!s.equals(i.position))&&(i=new pd(s,i.spanNode,n))}return 1===i.type&&e.stickyTabStops&&(i=new pd(this._snapToSoftTabBoundary(i.position,e.model),i.spanNode,i.injectedText)),i}}let v1=(()=>{class o{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return o._INSTANCE||(o._INSTANCE=new o),o._INSTANCE}getCharWidth(t,i){const n=t+i;if(this._cache[n])return this._cache[n];const s=this._canvas.getContext("2d");s.font=i;const a=s.measureText(t).width;return this._cache[n]=a,a}}return o._INSTANCE=null,o})();function Dl(o){return function(e,t){let i=!1;return o&&(i=o.mouseTargetIsWidget(t)),i||t.preventDefault(),t}}let kl=(()=>{class o extends ka{constructor(t,i,n){super(),this._context=t,this.viewController=i,this.viewHelper=n,this.mouseTargetFactory=new mn(this._context,n),this._mouseDownOperation=this._register(new w1(this._context,this.viewController,this.viewHelper,(a,l)=>this._createMouseTarget(a,l),a=>this._getMouseColumn(a))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(131).height;const s=new s1(this.viewHelper.viewDomNode);this._register(s.onContextMenu(this.viewHelper.viewDomNode,a=>this._onContextMenu(a,!0))),this._register(s.onMouseMoveThrottled(this.viewHelper.viewDomNode,a=>this._onMouseMove(a),Dl(this.mouseTargetFactory),o.MOUSE_MOVE_MINIMUM_TIME)),this._register(s.onMouseUp(this.viewHelper.viewDomNode,a=>this._onMouseUp(a))),this._register(s.onMouseLeave(this.viewHelper.viewDomNode,a=>this._onMouseLeave(a))),this._register(s.onMouseDown(this.viewHelper.viewDomNode,a=>this._onMouseDown(a))),this._register(ue.nm(this.viewHelper.viewDomNode,ue.tw.MOUSE_WHEEL,a=>{if(this.viewController.emitMouseWheel(a),!this._context.configuration.options.get(68))return;const l=new Da.q(a);if(h.dz?(a.metaKey||a.ctrlKey)&&!a.shiftKey&&!a.altKey:a.ctrlKey&&!a.metaKey&&!a.shiftKey&&!a.altKey){const u=wn.getZoomLevel();wn.setZoomLevel(u+(l.deltaY>0?1:-1)),l.preventDefault(),l.stopPropagation()}},{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(t){if(t.hasChanged(131)){const i=this._context.configuration.options.get(131).height;this._height!==i&&(this._height=i,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(t){return this._mouseDownOperation.onCursorStateChanged(t),!1}onFocusChanged(t){return!1}onScrollChanged(t){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(t,i){const s=new wf(t,i).toPageCoordinates(),r=Sf(this.viewHelper.viewDomNode);if(s.y<r.y||s.y>r.y+r.height||s.x<r.x||s.x>r.x+r.width)return null;const a=yf(this.viewHelper.viewDomNode,r,s);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),r,s,a,null)}_createMouseTarget(t,i){let n=t.target;if(!this.viewHelper.viewDomNode.contains(n)){const s=ue.Ay(this.viewHelper.viewDomNode);s&&(n=s.elementsFromPoint(t.posx,t.posy).find(r=>this.viewHelper.viewDomNode.contains(r)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),t.editorPos,t.pos,t.relativePos,i?n:null)}_getMouseColumn(t){return this.mouseTargetFactory.getMouseColumn(t.relativePos)}_onContextMenu(t,i){this.viewController.emitContextMenu({event:t,target:this._createMouseTarget(t,i)})}_onMouseMove(t){this._mouseDownOperation.isActive()||t.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:t,target:this._createMouseTarget(t,!0)})}_onMouseLeave(t){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:t,target:null})}_onMouseUp(t){this.viewController.emitMouseUp({event:t,target:this._createMouseTarget(t,!0)})}_onMouseDown(t){const i=this._createMouseTarget(t,!0),n=6===i.type||7===i.type,s=2===i.type||3===i.type||4===i.type,r=3===i.type,a=this._context.configuration.options.get(98),l=8===i.type||5===i.type,d=9===i.type;let u=t.leftButton||t.middleButton;h.dz&&t.leftButton&&t.ctrlKey&&(u=!1);const m=()=>{t.preventDefault(),this.viewHelper.focusTextArea()};u&&(n||r&&a)?(m(),this._mouseDownOperation.start(i.type,t)):s?t.preventDefault():l?this.viewHelper.shouldSuppressMouseDownOnViewZone(i.detail.viewZoneId)&&(m(),this._mouseDownOperation.start(i.type,t),t.preventDefault()):d&&this.viewHelper.shouldSuppressMouseDownOnWidget(i.detail)&&(m(),t.preventDefault()),this.viewController.emitMouseDown({event:t,target:i})}}return o.MOUSE_MOVE_MINIMUM_TIME=100,o})();class w1 extends ze.JT{constructor(e,t,i,n,s){super(),this._context=e,this._viewController=t,this._viewHelper=i,this._createMouseTarget=n,this._getMouseColumn=s,this._mouseMoveMonitor=this._register(new r1(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new se._F),this._mouseState=new S1,this._currentSelection=new Xt.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const t=this._findMousePosition(e,!0);!t||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))}start(e,t){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(3===e),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const i=this._findMousePosition(t,!0);if(!i||!i.position)return;this._mouseState.trySetCount(t.detail,i.position),t.detail=this._mouseState.count;const n=this._context.configuration.options;if(!n.get(81)&&n.get(31)&&!n.get(18)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===i.type&&i.position&&this._currentSelection.containsPosition(i.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,Dl(null),s=>this._onMouseDownThenMove(s),s=>{const r=this._findMousePosition(this._lastMouseEvent,!0);s&&s instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:r?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse(i,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,Dl(null),s=>this._onMouseDownThenMove(s),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const e=this._findMousePosition(this._lastMouseEvent,!1);!e||this._mouseState.isDragAndDrop||this._dispatchMouse(e,!0)},10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const t=e.editorPos,i=this._context.model,n=this._context.viewLayout,s=this._getMouseColumn(e);if(e.posy<t.y){const a=Math.max(n.getCurrentScrollTop()-(t.y-e.posy),0),l=Hr.getZoneAtCoord(this._context,a);if(l){const u=this._helpPositionJumpOverViewZone(l);if(u)return Hn.createOutsideEditor(s,u)}const d=n.getLineNumberAtVerticalOffset(a);return Hn.createOutsideEditor(s,new Xe.L(d,1))}if(e.posy>t.y+t.height){const a=n.getCurrentScrollTop()+e.relativePos.y,l=Hr.getZoneAtCoord(this._context,a);if(l){const u=this._helpPositionJumpOverViewZone(l);if(u)return Hn.createOutsideEditor(s,u)}const d=n.getLineNumberAtVerticalOffset(a);return Hn.createOutsideEditor(s,new Xe.L(d,i.getLineMaxColumn(d)))}const r=n.getLineNumberAtVerticalOffset(n.getCurrentScrollTop()+e.relativePos.y);return e.posx<t.x?Hn.createOutsideEditor(s,new Xe.L(r,1)):e.posx>t.x+t.width?Hn.createOutsideEditor(s,new Xe.L(r,i.getLineMaxColumn(r))):null}_findMousePosition(e,t){const i=this._getPositionOutsideEditor(e);if(i)return i;const n=this._createMouseTarget(e,t);if(!n.position)return null;if(8===n.type||5===n.type){const r=this._helpPositionJumpOverViewZone(n.detail);if(r)return Hn.createViewZone(n.type,n.element,n.mouseColumn,r,n.detail)}return n}_helpPositionJumpOverViewZone(e){const t=new Xe.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=e.positionBefore,n=e.positionAfter;return i&&n?i.isBefore(t)?i:n:null}_dispatchMouse(e,t){!e.position||this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}let S1=(()=>{class o{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(t){this._altKey=t.altKey,this._ctrlKey=t.ctrlKey,this._metaKey=t.metaKey,this._shiftKey=t.shiftKey}setStartButtons(t){this._leftButton=t.leftButton,this._middleButton=t.middleButton}setStartedOnLineNumbers(t){this._startedOnLineNumbers=t}trySetCount(t,i){const n=(new Date).getTime();n-this._lastSetMouseDownCountTime>o.CLEAR_MOUSE_DOWN_COUNT_TIME&&(t=1),this._lastSetMouseDownCountTime=n,t>this._lastMouseDownCount+1&&(t=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(i)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=i,this._lastMouseDownCount=Math.min(t,this._lastMouseDownPositionEqualCount)}}return o.CLEAR_MOUSE_DOWN_COUNT_TIME=400,o})();var Df=L(27991),Tl=L(47462);class y1 extends kl{constructor(e,t,i){super(e,t,i),this._register(Qi.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(ue.nm(this.viewHelper.linesContentDomNode,Qi.t.Tap,s=>this.onTap(s))),this._register(ue.nm(this.viewHelper.linesContentDomNode,Qi.t.Change,s=>this.onChange(s))),this._register(ue.nm(this.viewHelper.linesContentDomNode,Qi.t.Contextmenu,s=>this._onContextMenu(new tr(s,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(ue.nm(this.viewHelper.linesContentDomNode,"pointerdown",s=>{const r=s.pointerType;this._lastPointerType="mouse"!==r?"touch"===r?"touch":"pen":"mouse"}));const n=new o1(this.viewHelper.viewDomNode);this._register(n.onPointerMoveThrottled(this.viewHelper.viewDomNode,s=>this._onMouseMove(s),Dl(this.mouseTargetFactory),kl.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onPointerUp(this.viewHelper.viewDomNode,s=>this._onMouseUp(s))),this._register(n.onPointerLeave(this.viewHelper.viewDomNode,s=>this._onMouseLeave(s))),this._register(n.onPointerDown(this.viewHelper.viewDomNode,s=>this._onMouseDown(s)))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new tr(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(e){"touch"===this._lastPointerType&&this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e){"touch"!==e.browserEvent.pointerType&&super._onMouseDown(e)}}class L1 extends kl{constructor(e,t,i){super(e,t,i),this._register(Qi.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(ue.nm(this.viewHelper.linesContentDomNode,Qi.t.Tap,n=>this.onTap(n))),this._register(ue.nm(this.viewHelper.linesContentDomNode,Qi.t.Change,n=>this.onChange(n))),this._register(ue.nm(this.viewHelper.linesContentDomNode,Qi.t.Contextmenu,n=>this._onContextMenu(new tr(n,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new tr(e,this.viewHelper.viewDomNode),!1);if(t.position){const i=document.createEvent("CustomEvent");i.initEvent(Tl.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(i),this.viewController.moveTo(t.position)}}onChange(e){this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}}class E1 extends ze.JT{constructor(e,t,i){super(),this.handler=h.gn&&Df.D.pointerEvents?this._register(new y1(e,t,i)):window.TouchEvent?this._register(new L1(e,t,i)):this._register(new kl(e,t,i))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}}L(52366);var sr=L(62562);L(79399);class zr extends ka{}var si=L(53448),Ut=L(23024);let kf=(()=>{class o extends zr{constructor(t){super(),this._context=t,this._readConfig(),this._lastCursorModelPosition=new Xe.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const t=this._context.configuration.options;this._lineHeight=t.get(59);const i=t.get(60);this._renderLineNumbers=i.renderType,this._renderCustomLineNumbers=i.renderFn,this._renderFinalNewline=t.get(84);const n=t.get(131);this._lineNumbersLeft=n.lineNumbersLeft,this._lineNumbersWidth=n.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){return this._readConfig(),!0}onCursorStateChanged(t){const i=t.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(i);let n=!1;return this._activeLineNumber!==i.lineNumber&&(this._activeLineNumber=i.lineNumber,n=!0),(2===this._renderLineNumbers||3===this._renderLineNumbers)&&(n=!0),n}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_getLineRenderLineNumber(t){const i=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Xe.L(t,1));if(1!==i.column)return"";const n=i.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(n);if(2===this._renderLineNumbers){const s=Math.abs(this._lastCursorModelPosition.lineNumber-n);return 0===s?'<span class="relative-current-line-number">'+n+"</span>":String(s)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===n||n%10==0?String(n):"":String(n)}prepareRender(t){if(0===this._renderLineNumbers)return void(this._renderResult=null);const i=h.IJ?this._lineHeight%2==0?" lh-even":" lh-odd":"",n=t.visibleRange.startLineNumber,s=t.visibleRange.endLineNumber,r='<div class="'+o.CLASS_NAME+i+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',a=this._context.model.getLineCount(),l=[];for(let d=n;d<=s;d++){const u=d-n;if(!this._renderFinalNewline&&d===a&&0===this._context.model.getLineLength(d)){l[u]="";continue}const m=this._getLineRenderLineNumber(d);l[u]=m?d===this._activeLineNumber?'<div class="active-line-number '+o.CLASS_NAME+i+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+m+"</div>":r+m+"</div>":""}this._renderResult=l}render(t,i){if(!this._renderResult)return"";const n=i-t;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}return o.CLASS_NAME="line-numbers",o})();(0,Ut.Ic)((o,e)=>{const t=o.getColor(si.hw);t&&e.addRule(`.monaco-editor .line-numbers { color: ${t}; }`);const i=o.getColor(si.DD);i&&e.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${i}; }`)});let Tf=(()=>{class o extends ls{constructor(t){super(t);const i=this._context.configuration.options,n=i.get(131);this._canUseLayerHinting=!i.get(28),this._contentLeft=n.contentLeft,this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,this._domNode=(0,dt.X)(document.createElement("div")),this._domNode.setClassName(o.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,dt.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(o.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(t){const i=this._context.configuration.options,n=i.get(131);return this._canUseLayerHinting=!i.get(28),this._contentLeft=n.contentLeft,this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,!0}onScrollChanged(t){return super.onScrollChanged(t)||t.scrollTopChanged}prepareRender(t){}render(t){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict"),this._domNode.setTop(-(t.scrollTop-t.bigNumbersDelta));const n=Math.min(t.scrollHeight,1e6);this._domNode.setHeight(n),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(n)}}return o.CLASS_NAME="glyph-margin",o.OUTER_CLASS_NAME="margin",o})();var Ma=L(30681);L(78928);const or="monaco-mouse-cursor-text";var Oi=L(68927);class x1{constructor(e,t,i,n,s){this._context=e,this.modelLineNumber=t,this.distanceToModelLineStart=i,this.widthOfHiddenLineTextBefore=n,this.distanceToModelLineEnd=s,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null}prepareRender(e){const t=new Xe.L(this.modelLineNumber,this.distanceToModelLineStart+1),i=new Xe.L(this.modelLineNumber,this._context.model.getModelLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t),this.endPosition=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(i),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=e.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=e.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}}const Ml=Ei.isFirefox;class N1 extends ls{constructor(e,t,i){super(e),this._primaryCursorPosition=new Xe.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._visibleRangeProvider=i,this._scrollLeft=0,this._scrollTop=0;const n=this._context.configuration.options,s=n.get(131);this._setAccessibilityOptions(n),this._contentLeft=s.contentLeft,this._contentWidth=s.contentWidth,this._contentHeight=s.height,this._fontInfo=n.get(44),this._lineHeight=n.get(59),this._emptySelectionClipboard=n.get(32),this._copyWithSyntaxHighlighting=n.get(21),this._visibleTextArea=null,this._selections=[new Xt.Y(1,1,1,1)],this._modelSelections=[new Xt.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,dt.X)(document.createElement("textarea")),Qs.write(this.textArea,6),this.textArea.setClassName(`inputarea ${or}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(n)),this.textArea.setAttribute("tabindex",String(n.get(112))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",_.N("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),n.get(30)&&n.get(81)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,dt.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const r={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:d=>this._context.model.getLineMaxColumn(d),getValueInRange:(d,u)=>this._context.model.getValueInRange(d,u)},a={getDataToCopy:()=>{const d=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,h.ED),u=this._context.model.getEOL(),m=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),C=Array.isArray(d)?d:null,S=Array.isArray(d)?d.join(u):d;let M,j=null;if(Tl.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&S.length<65536){const J=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);J&&(M=J.html,j=J.mode)}return{isFromEmptySelection:m,multicursorText:C,text:S,html:M,mode:j}},getScreenReaderContent:d=>{if(1===this._accessibilitySupport){if(h.dz){const u=this._selections[0];if(u.isEmpty()){const m=u.getStartPosition();let C=this._getWordBeforePosition(m);if(0===C.length&&(C=this._getCharacterBeforePosition(m)),C.length>0)return new sr.un(C,C.length,C.length,m,m)}}return sr.un.EMPTY}if(Ei.isAndroid){const u=this._selections[0];if(u.isEmpty()){const m=u.getStartPosition(),[C,S]=this._getAndroidWordAtPosition(m);if(C.length>0)return new sr.un(C,S,S,m,m)}return sr.un.EMPTY}return sr.ee.fromEditorSelection(d,r,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(d,u,m)=>this._context.model.deduceModelPositionRelativeToViewPosition(d,u,m)},l=this._register(new Tl.Tj(this.textArea.domNode));this._textAreaInput=this._register(new Tl.Fz(a,l,h.OS,Ei)),this._register(this._textAreaInput.onKeyDown(d=>{this._viewController.emitKeyDown(d)})),this._register(this._textAreaInput.onKeyUp(d=>{this._viewController.emitKeyUp(d)})),this._register(this._textAreaInput.onPaste(d=>{let u=!1,m=null,C=null;d.metadata&&(u=this._emptySelectionClipboard&&!!d.metadata.isFromEmptySelection,m=void 0!==d.metadata.multicursorText?d.metadata.multicursorText:null,C=d.metadata.mode),this._viewController.paste(d.text,u,m,C)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(d=>{d.replacePrevCharCnt||d.replaceNextCharCnt||d.positionDelta?(sr.al&&console.log(` => compositionType: <<${d.text}>>, ${d.replacePrevCharCnt}, ${d.replaceNextCharCnt}, ${d.positionDelta}`),this._viewController.compositionType(d.text,d.replacePrevCharCnt,d.replaceNextCharCnt,d.positionDelta)):(sr.al&&console.log(` => type: <<${d.text}>>`),this._viewController.type(d.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(d=>{this._viewController.setSelection(d)})),this._register(this._textAreaInput.onCompositionStart(d=>{const u=this.textArea.domNode,m=this._modelSelections[0],{distanceToModelLineStart:C,widthOfHiddenTextBefore:S}=(()=>{const j=u.value.substring(0,Math.min(u.selectionStart,u.selectionEnd)),J=j.lastIndexOf("\n"),ne=j.substring(J+1),X=ne.lastIndexOf("\t"),le=ne.length-X-1,Ce=m.getStartPosition(),ke=Math.min(Ce.column-1,le),Ne=Ce.column-1-ke,pe=function I1(o,e){if(0===o.length)return 0;const t=document.createElement("div");t.style.position="absolute",t.style.top="-50000px",t.style.width="50000px";const i=document.createElement("span");Bi(i,e),i.style.whiteSpace="pre",i.append(o),t.appendChild(i),document.body.appendChild(t);const n=i.offsetWidth;return document.body.removeChild(t),n}(ne.substring(0,ne.length-ke),this._fontInfo);return{distanceToModelLineStart:Ne,widthOfHiddenTextBefore:pe}})(),{distanceToModelLineEnd:M}=(()=>{const j=u.value.substring(Math.max(u.selectionStart,u.selectionEnd)),J=j.indexOf("\n"),ne=-1===J?j:j.substring(0,J),X=ne.indexOf("\t"),le=-1===X?ne.length:ne.length-X-1,Ce=m.getEndPosition(),ke=Math.min(this._context.model.getModelLineMaxColumn(Ce.lineNumber)-Ce.column,le);return{distanceToModelLineEnd:this._context.model.getModelLineMaxColumn(Ce.lineNumber)-Ce.column-ke}})();this._context.model.revealRange("keyboard",!0,Ze.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new x1(this._context,m.startLineNumber,C,S,M),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${or} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(d=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${or}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const i=this._context.model.getLineContent(e.lineNumber),n=(0,Ma.u)('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let s=!0,r=e.column,a=!0,l=e.column,d=0;for(;d<50&&(s||a);){if(s&&r<=1&&(s=!1),s){const u=i.charCodeAt(r-2);0!==n.get(u)?s=!1:r--}if(a&&l>i.length&&(a=!1),a){const u=i.charCodeAt(l-1);0!==n.get(u)?a=!1:l++}d++}return[i.substring(r-1,l-1),e.column-r]}_getWordBeforePosition(e){const t=this._context.model.getLineContent(e.lineNumber),i=(0,Ma.u)(this._context.configuration.options.get(117));let n=e.column,s=0;for(;n>1;){const r=t.charCodeAt(n-2);if(0!==i.get(r)||s>50)return t.substring(n-1,e.column-1);s++,n--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const i=this._context.model.getLineContent(e.lineNumber).charAt(e.column-2);if(!ut.ZG(i.charCodeAt(0)))return i}return""}_getAriaLabel(e){return 1===e.get(2)?_.N("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",h.IJ?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const t=e.get(3);this._accessibilityPageSize=2===this._accessibilitySupport&&t===pi.accessibilityPageSize.defaultValue?500:t}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(131);return this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(44),this._lineHeight=t.get(59),this._emptySelectionClipboard=t.get(32),this._copyWithSyntaxHighlighting=t.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("tabindex",String(t.get(112))),(e.hasChanged(30)||e.hasChanged(81))&&(t.get(30)&&t.get(81)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}prepareRender(e){this._primaryCursorPosition=new Xe.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition),this._visibleTextArea&&this._visibleTextArea.prepareRender(e)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const i=this._visibleTextArea.visibleTextareaStart,n=this._visibleTextArea.visibleTextareaEnd,s=this._visibleTextArea.startPosition,r=this._visibleTextArea.endPosition;if(s&&r&&i&&n&&n.left>=this._scrollLeft&&i.left<=this._scrollLeft+this._contentWidth){const a=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,l=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=l*this._lineHeight;let d=this._visibleTextArea.widthOfHiddenLineTextBefore,u=this._contentLeft+i.left-this._scrollLeft,m=n.left-i.left;if(u<this._contentLeft){const ne=this._contentLeft-u;u+=ne,d+=ne,m-=ne}m>this._contentWidth&&(m=this._contentWidth),this.textArea.domNode.scrollLeft=d,this._renderInsideEditor(null,a,u,m,this._lineHeight);const C=this._context.model.getViewLineData(s.lineNumber),S=C.tokens.findTokenIndexAtOffset(s.column-1);let j;j=S===C.tokens.findTokenIndexAtOffset(r.column-1)?C.tokens.getPresentation(S):{foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1};const J=(rt.RW.getColorMap()||[])[j.foreground];this.textArea.domNode.style.color=J?Oi.Il.Format.CSS.formatHex(J):"inherit",this.textArea.domNode.style.fontStyle=j.italic?"italic":"inherit",j.bold&&(this.textArea.domNode.style.fontWeight="bold"),this.textArea.domNode.style.textDecoration=`${j.underline?" underline":""}${j.strikethrough?" line-through":""}`}return}if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(t<0||t>this._contentHeight)this._renderAtTopLeft();else if(h.dz){this._renderInsideEditor(this._primaryCursorPosition,t,e,Ml?0:1,this._lineHeight),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const i=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=i*this._lineHeight}else this._renderInsideEditor(this._primaryCursorPosition,t,e,Ml?0:1,Ml?0:1)}_newlinecount(e){let t=0,i=-1;for(;i=e.indexOf("\n",i+1),-1!==i;)t++;return t}_renderInsideEditor(e,t,i,n,s){this._lastRenderPosition=e;const r=this.textArea,a=this.textAreaCover;Bi(r,this._fontInfo),r.setTop(t),r.setLeft(i),r.setWidth(n),r.setHeight(s),a.setTop(0),a.setLeft(0),a.setWidth(0),a.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const e=this.textArea,t=this.textAreaCover;if(Bi(e,this._fontInfo),e.setTop(0),e.setLeft(0),t.setTop(0),t.setLeft(0),Ml)return e.setWidth(0),e.setHeight(0),t.setWidth(0),void t.setHeight(0);e.setWidth(1),e.setHeight(1),t.setWidth(1),t.setHeight(1);const i=this._context.configuration.options;i.get(50)?t.setClassName("monaco-editor-background textAreaCover "+Tf.OUTER_CLASS_NAME):0!==i.get(60).renderType?t.setClassName("monaco-editor-background textAreaCover "+kf.CLASS_NAME):t.setClassName("monaco-editor-background textAreaCover")}}var ys=L(49401),Mf=L(18555);const D1=()=>!0,k1=()=>!1,T1=o=>" "===o||"\t"===o;class Ur{constructor(e,t,i,n){this.languageConfigurationService=n,this._cursorMoveConfigurationBrand=void 0,this._languageId=e;const s=i.options,r=s.get(131);this.readOnly=s.get(81),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=s.get(104),this.lineHeight=s.get(59),this.pageSize=Math.max(1,Math.floor(r.height/this.lineHeight)-2),this.useTabStops=s.get(116),this.wordSeparators=s.get(117),this.emptySelectionClipboard=s.get(32),this.copyWithSyntaxHighlighting=s.get(21),this.multiCursorMergeOverlapping=s.get(69),this.multiCursorPaste=s.get(71),this.autoClosingBrackets=s.get(5),this.autoClosingQuotes=s.get(8),this.autoClosingDelete=s.get(6),this.autoClosingOvertype=s.get(7),this.autoSurround=s.get(11),this.autoIndent=s.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(e,this.autoClosingQuotes),bracket:this._getShouldAutoClose(e,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(e).getAutoClosingPairs();const a=this.languageConfigurationService.getLanguageConfiguration(e).getSurroundingPairs();if(a)for(const l of a)this.surroundingPairs[l.open]=l.close}static shouldRecreate(e){return e.hasChanged(131)||e.hasChanged(117)||e.hasChanged(32)||e.hasChanged(69)||e.hasChanged(71)||e.hasChanged(5)||e.hasChanged(8)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(116)||e.hasChanged(59)||e.hasChanged(81)}get electricChars(){var e;if(!this._electricChars){this._electricChars={};const t=null===(e=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)||void 0===e?void 0:e.getElectricCharacters();if(t)for(const i of t)this._electricChars[i]=!0}return this._electricChars}onElectricCharacter(e,t,i){const n=(0,Mf.wH)(t,i-1),s=this.languageConfigurationService.getLanguageConfiguration(n.languageId).electricCharacter;return s?s.onElectricCharacter(e,n,i-n.firstCharOffset):null}normalizeIndentation(e){return ys.yO.normalizeIndentation(e,this.indentSize,this.insertSpaces)}_getShouldAutoClose(e,t){switch(t){case"beforeWhitespace":return T1;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(e);case"always":return D1;case"never":return k1}}_getLanguageDefinedShouldAutoClose(e){const t=this.languageConfigurationService.getLanguageConfiguration(e).getAutoCloseBeforeSet();return i=>-1!==t.indexOf(i)}visibleColumnFromColumn(e,t){return Ln.i.visibleColumnFromColumn(e.getLineContent(t.lineNumber),t.column,this.tabSize)}columnFromVisibleColumn(e,t,i){const n=Ln.i.columnFromVisibleColumn(e.getLineContent(t),i,this.tabSize),s=e.getLineMinColumn(t);if(n<s)return s;const r=e.getLineMaxColumn(t);return n>r?r:n}}class Rf{constructor(e,t,i,n){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=i,this.cursorConfig=n}}class Kt{constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}static fromModelState(e){return new M1(e)}static fromViewState(e){return new R1(e)}static fromModelSelection(e){const t=Xt.Y.liftSelection(e),i=new cn(Ze.e.fromPositions(t.getSelectionStart()),0,t.getPosition(),0);return Kt.fromModelState(i)}static fromModelSelections(e){const t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this.fromModelSelection(e[i]);return t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}}class M1{constructor(e){this.modelState=e,this.viewState=null}}class R1{constructor(e){this.modelState=null,this.viewState=e}}class cn{constructor(e,t,i,n){this._singleCursorStateBrand=void 0,this.selectionStart=e,this.selectionStartLeftoverVisibleColumns=t,this.position=i,this.leftoverVisibleColumns=n,this.selection=cn._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,i,n){return e?new cn(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new Xe.L(t,i),n):new cn(new Ze.e(t,i,t,i),n,new Xe.L(t,i),n)}static _computeSelection(e,t){return e.isEmpty()||!t.isBeforeOrEqual(e.getStartPosition())?Xt.Y.fromPositions(e.getStartPosition(),t):Xt.Y.fromPositions(e.getEndPosition(),t)}}class Zn{constructor(e,t,i){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=i.shouldPushStackElementBefore,this.shouldPushStackElementAfter=i.shouldPushStackElementAfter}}function jr(o){return"'"===o||'"'===o||"`"===o}class rr{static columnSelect(e,t,i,n,s,r){const a=Math.abs(s-i)+1,l=i>s,d=n>r,u=n<r,m=[];for(let C=0;C<a;C++){const S=i+(l?-C:C),M=e.columnFromVisibleColumn(t,S,n),j=e.columnFromVisibleColumn(t,S,r),J=e.visibleColumnFromColumn(t,new Xe.L(S,M)),ne=e.visibleColumnFromColumn(t,new Xe.L(S,j));u&&(J>r||ne<n)||d&&(ne>n||J<r)||m.push(new cn(new Ze.e(S,M,S,M),0,new Xe.L(S,j),0))}if(0===m.length)for(let C=0;C<a;C++){const S=i+(l?-C:C),M=t.getLineMaxColumn(S);m.push(new cn(new Ze.e(S,M,S,M),0,new Xe.L(S,M),0))}return{viewStates:m,reversed:l,fromLineNumber:i,fromVisualColumn:n,toLineNumber:s,toVisualColumn:r}}static columnSelectLeft(e,t,i){let n=i.toViewVisualColumn;return n>0&&n--,rr.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,n)}static columnSelectRight(e,t,i){let n=0;const s=Math.min(i.fromViewLineNumber,i.toViewLineNumber),r=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let l=s;l<=r;l++){const d=t.getLineMaxColumn(l),u=e.visibleColumnFromColumn(t,new Xe.L(l,d));n=Math.max(n,u)}let a=i.toViewVisualColumn;return a<n&&a++,this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,a)}static columnSelectUp(e,t,i,n){const r=Math.max(1,i.toViewLineNumber-(n?e.pageSize:1));return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,r,i.toViewVisualColumn)}static columnSelectDown(e,t,i,n){const s=n?e.pageSize:1,r=Math.min(t.getLineCount(),i.toViewLineNumber+s);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,r,i.toViewVisualColumn)}}var Ol,$i=L(85753);class bd{constructor(e,t,i){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=i}}class li{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-ut.HO(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const i=t.lineNumber-1;return new Xe.L(i,e.getLineMaxColumn(i))}return t}static leftPositionAtomicSoftTabs(e,t,i){if(t.column<=e.getLineIndentColumn(t.lineNumber)){const n=e.getLineMinColumn(t.lineNumber),s=e.getLineContent(t.lineNumber),r=Ta.atomicPosition(s,t.column-1,i,0);if(-1!==r&&r+1>=n)return new Xe.L(t.lineNumber,r+1)}return this.leftPosition(e,t)}static left(e,t,i){const n=e.stickyTabStops?li.leftPositionAtomicSoftTabs(t,i,e.tabSize):li.leftPosition(t,i);return new bd(n.lineNumber,n.column,0)}static moveLeft(e,t,i,n,s){let r,a;if(i.hasSelection()&&!n)r=i.selection.startLineNumber,a=i.selection.startColumn;else{const l=i.position.delta(void 0,-(s-1)),d=t.normalizePosition(li.clipPositionColumn(l,t),0),u=li.left(e,t,d);r=u.lineNumber,a=u.column}return i.move(n,r,a,0)}static clipPositionColumn(e,t){return new Xe.L(e.lineNumber,li.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,i){return e<t?t:e>i?i:e}static rightPosition(e,t,i){return i<e.getLineMaxColumn(t)?i+=ut.vH(e.getLineContent(t),i-1):t<e.getLineCount()&&(i=e.getLineMinColumn(t+=1)),new Xe.L(t,i)}static rightPositionAtomicSoftTabs(e,t,i,n,s){if(i<e.getLineIndentColumn(t)){const r=e.getLineContent(t),a=Ta.atomicPosition(r,i-1,n,1);if(-1!==a)return new Xe.L(t,a+1)}return this.rightPosition(e,t,i)}static right(e,t,i){const n=e.stickyTabStops?li.rightPositionAtomicSoftTabs(t,i.lineNumber,i.column,e.tabSize,e.indentSize):li.rightPosition(t,i.lineNumber,i.column);return new bd(n.lineNumber,n.column,0)}static moveRight(e,t,i,n,s){let r,a;if(i.hasSelection()&&!n)r=i.selection.endLineNumber,a=i.selection.endColumn;else{const l=i.position.delta(void 0,s-1),d=t.normalizePosition(li.clipPositionColumn(l,t),1),u=li.right(e,t,d);r=u.lineNumber,a=u.column}return i.move(n,r,a,0)}static vertical(e,t,i,n,s,r,a,l){const d=Ln.i.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize)+s,u=t.getLineCount(),m=1===i&&1===n,C=i===u&&n===t.getLineMaxColumn(i),S=r<i?m:C;if((i=r)<1?(i=1,n=a?t.getLineMinColumn(i):Math.min(t.getLineMaxColumn(i),n)):i>u?(i=u,n=a?t.getLineMaxColumn(i):Math.min(t.getLineMaxColumn(i),n)):n=e.columnFromVisibleColumn(t,i,d),s=S?0:d-Ln.i.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize),void 0!==l){const M=new Xe.L(i,n),j=t.normalizePosition(M,l);s+=n-j.column,i=j.lineNumber,n=j.column}return new bd(i,n,s)}static down(e,t,i,n,s,r,a){return this.vertical(e,t,i,n,s,i+r,a,1)}static moveDown(e,t,i,n,s){let r,a;i.hasSelection()&&!n?(r=i.selection.endLineNumber,a=i.selection.endColumn):(r=i.position.lineNumber,a=i.position.column);const l=li.down(e,t,r,a,i.leftoverVisibleColumns,s,!0);return i.move(n,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateDown(e,t,i){const n=i.selection,s=li.down(e,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),r=li.down(e,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new cn(new Ze.e(s.lineNumber,s.column,s.lineNumber,s.column),s.leftoverVisibleColumns,new Xe.L(r.lineNumber,r.column),r.leftoverVisibleColumns)}static up(e,t,i,n,s,r,a){return this.vertical(e,t,i,n,s,i-r,a,0)}static moveUp(e,t,i,n,s){let r,a;i.hasSelection()&&!n?(r=i.selection.startLineNumber,a=i.selection.startColumn):(r=i.position.lineNumber,a=i.position.column);const l=li.up(e,t,r,a,i.leftoverVisibleColumns,s,!0);return i.move(n,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateUp(e,t,i){const n=i.selection,s=li.up(e,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),r=li.up(e,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new cn(new Ze.e(s.lineNumber,s.column,s.lineNumber,s.column),s.leftoverVisibleColumns,new Xe.L(r.lineNumber,r.column),r.leftoverVisibleColumns)}static _isBlankLine(e,t){return 0===e.getLineFirstNonWhitespaceColumn(t)}static moveToPrevBlankLine(e,t,i,n){let s=i.position.lineNumber;for(;s>1&&this._isBlankLine(t,s);)s--;for(;s>1&&!this._isBlankLine(t,s);)s--;return i.move(n,s,t.getLineMinColumn(s),0)}static moveToNextBlankLine(e,t,i,n){const s=t.getLineCount();let r=i.position.lineNumber;for(;r<s&&this._isBlankLine(t,r);)r++;for(;r<s&&!this._isBlankLine(t,r);)r++;return i.move(n,r,t.getLineMinColumn(r),0)}static moveToBeginningOfLine(e,t,i,n){const s=i.position.lineNumber,r=t.getLineMinColumn(s),a=t.getLineFirstNonWhitespaceColumn(s)||r;let l;return l=i.position.column===a?r:a,i.move(n,s,l,0)}static moveToEndOfLine(e,t,i,n,s){const r=i.position.lineNumber,a=t.getLineMaxColumn(r);return i.move(n,r,a,s?1073741824-a:0)}static moveToBeginningOfBuffer(e,t,i,n){return i.move(n,1,1,0)}static moveToEndOfBuffer(e,t,i,n){const s=t.getLineCount(),r=t.getLineMaxColumn(s);return i.move(n,s,r,0)}}class ar{static deleteRight(e,t,i,n){const s=[];let r=3!==e;for(let a=0,l=n.length;a<l;a++){const d=n[a];let u=d;if(u.isEmpty()){const m=d.getPosition(),C=li.right(t,i,m);u=new Ze.e(C.lineNumber,C.column,m.lineNumber,m.column)}u.isEmpty()?s[a]=null:(u.startLineNumber!==u.endLineNumber&&(r=!0),s[a]=new $i.T4(u,""))}return[r,s]}static isAutoClosingPairDelete(e,t,i,n,s,r,a){if("never"===t&&"never"===i||"never"===e)return!1;for(let l=0,d=r.length;l<d;l++){const u=r[l],m=u.getPosition();if(!u.isEmpty())return!1;const C=s.getLineContent(m.lineNumber);if(m.column<2||m.column>=C.length+1)return!1;const S=C.charAt(m.column-2),M=n.get(S);if(!M)return!1;if(jr(S)){if("never"===i)return!1}else if("never"===t)return!1;const j=C.charAt(m.column-1);let J=!1;for(const ne of M)ne.open===S&&ne.close===j&&(J=!0);if(!J)return!1;if("auto"===e){let ne=!1;for(let X=0,le=a.length;X<le;X++){const Ce=a[X];if(m.lineNumber===Ce.startLineNumber&&m.column===Ce.startColumn){ne=!0;break}}if(!ne)return!1}}return!0}static _runAutoClosingPairDelete(e,t,i){const n=[];for(let s=0,r=i.length;s<r;s++){const a=i[s].getPosition(),l=new Ze.e(a.lineNumber,a.column-1,a.lineNumber,a.column+1);n[s]=new $i.T4(l,"")}return[!0,n]}static deleteLeft(e,t,i,n,s){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,i,n,s))return this._runAutoClosingPairDelete(t,i,n);const r=[];let a=2!==e;for(let l=0,d=n.length;l<d;l++){const u=ar.getDeleteRange(n[l],i,t);u.isEmpty()?r[l]=null:(u.startLineNumber!==u.endLineNumber&&(a=!0),r[l]=new $i.T4(u,""))}return[a,r]}static getDeleteRange(e,t,i){if(!e.isEmpty())return e;const n=e.getPosition();if(i.useTabStops&&n.column>1){const s=t.getLineContent(n.lineNumber),r=ut.LC(s);if(n.column<=(-1===r?s.length+1:r+1)){const l=i.visibleColumnFromColumn(t,n),d=Ln.i.prevIndentTabStop(l,i.indentSize),u=i.columnFromVisibleColumn(t,n.lineNumber,d);return new Ze.e(n.lineNumber,u,n.lineNumber,n.column)}}return Ze.e.fromPositions(ar.getPositionAfterDeleteLeft(n,t),n)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){const i=ut.oH(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,i+1)}if(e.lineNumber>1){const i=e.lineNumber-1;return new Xe.L(i,t.getLineMaxColumn(i))}return e}static cut(e,t,i){const n=[];let s=null;i.sort((r,a)=>Xe.L.compare(r.getStartPosition(),a.getEndPosition()));for(let r=0,a=i.length;r<a;r++){const l=i[r];if(l.isEmpty())if(e.emptySelectionClipboard){const d=l.getPosition();let u,m,C,S;d.lineNumber<t.getLineCount()?(u=d.lineNumber,m=1,C=d.lineNumber+1,S=1):d.lineNumber>1&&(null==s?void 0:s.endLineNumber)!==d.lineNumber?(u=d.lineNumber-1,m=t.getLineMaxColumn(d.lineNumber-1),C=d.lineNumber,S=t.getLineMaxColumn(d.lineNumber)):(u=d.lineNumber,m=1,C=d.lineNumber,S=t.getLineMaxColumn(d.lineNumber));const M=new Ze.e(u,m,C,S);s=M,n[r]=M.isEmpty()?null:new $i.T4(M,"")}else n[r]=null;else n[r]=new $i.T4(l,"")}return new Zn(0,n,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class ci{static _createWord(e,t,i,n,s){return{start:n,end:s,wordType:t,nextCharClass:i}}static _findPreviousWordOnLine(e,t,i){const n=t.getLineContent(i.lineNumber);return this._doFindPreviousWordOnLine(n,e,i)}static _doFindPreviousWordOnLine(e,t,i){let n=0;for(let s=i.column-2;s>=0;s--){const r=e.charCodeAt(s),a=t.get(r);if(0===a){if(2===n)return this._createWord(e,n,a,s+1,this._findEndOfWord(e,t,n,s+1));n=1}else if(2===a){if(1===n)return this._createWord(e,n,a,s+1,this._findEndOfWord(e,t,n,s+1));n=2}else if(1===a&&0!==n)return this._createWord(e,n,a,s+1,this._findEndOfWord(e,t,n,s+1))}return 0!==n?this._createWord(e,n,1,0,this._findEndOfWord(e,t,n,0)):null}static _findEndOfWord(e,t,i,n){const s=e.length;for(let r=n;r<s;r++){const a=e.charCodeAt(r),l=t.get(a);if(1===l||1===i&&2===l||2===i&&0===l)return r}return s}static _findNextWordOnLine(e,t,i){const n=t.getLineContent(i.lineNumber);return this._doFindNextWordOnLine(n,e,i)}static _doFindNextWordOnLine(e,t,i){let n=0;const s=e.length;for(let r=i.column-1;r<s;r++){const a=e.charCodeAt(r),l=t.get(a);if(0===l){if(2===n)return this._createWord(e,n,l,this._findStartOfWord(e,t,n,r-1),r);n=1}else if(2===l){if(1===n)return this._createWord(e,n,l,this._findStartOfWord(e,t,n,r-1),r);n=2}else if(1===l&&0!==n)return this._createWord(e,n,l,this._findStartOfWord(e,t,n,r-1),r)}return 0!==n?this._createWord(e,n,1,this._findStartOfWord(e,t,n,s-1),s):null}static _findStartOfWord(e,t,i,n){for(let s=n;s>=0;s--){const r=e.charCodeAt(s),a=t.get(r);if(1===a||1===i&&2===a||2===i&&0===a)return s+1}return 0}static moveWordLeft(e,t,i,n){let s=i.lineNumber,r=i.column;1===r&&s>1&&(s-=1,r=t.getLineMaxColumn(s));let a=ci._findPreviousWordOnLine(e,t,new Xe.L(s,r));if(0===n)return new Xe.L(s,a?a.start+1:1);if(1===n)return a&&2===a.wordType&&a.end-a.start==1&&0===a.nextCharClass&&(a=ci._findPreviousWordOnLine(e,t,new Xe.L(s,a.start+1))),new Xe.L(s,a?a.start+1:1);if(3===n){for(;a&&2===a.wordType;)a=ci._findPreviousWordOnLine(e,t,new Xe.L(s,a.start+1));return new Xe.L(s,a?a.start+1:1)}return a&&r<=a.end+1&&(a=ci._findPreviousWordOnLine(e,t,new Xe.L(s,a.start+1))),new Xe.L(s,a?a.end+1:1)}static _moveWordPartLeft(e,t){const i=t.lineNumber,n=e.getLineMaxColumn(i);if(1===t.column)return i>1?new Xe.L(i-1,e.getLineMaxColumn(i-1)):t;const s=e.getLineContent(i);for(let r=t.column-1;r>1;r--){const a=s.charCodeAt(r-2),l=s.charCodeAt(r-1);if(95===a&&95!==l)return new Xe.L(i,r);if(ut.mK(a)&&ut.df(l))return new Xe.L(i,r);if(ut.df(a)&&ut.df(l)&&r+1<n){const d=s.charCodeAt(r);if(ut.mK(d))return new Xe.L(i,r)}}return new Xe.L(i,1)}static moveWordRight(e,t,i,n){let s=i.lineNumber,r=i.column,a=!1;r===t.getLineMaxColumn(s)&&s<t.getLineCount()&&(a=!0,s+=1,r=1);let l=ci._findNextWordOnLine(e,t,new Xe.L(s,r));if(2===n)l&&2===l.wordType&&l.end-l.start==1&&0===l.nextCharClass&&(l=ci._findNextWordOnLine(e,t,new Xe.L(s,l.end+1))),r=l?l.end+1:t.getLineMaxColumn(s);else if(3===n){for(a&&(r=0);l&&(2===l.wordType||l.start+1<=r);)l=ci._findNextWordOnLine(e,t,new Xe.L(s,l.end+1));r=l?l.start+1:t.getLineMaxColumn(s)}else l&&!a&&r>=l.start+1&&(l=ci._findNextWordOnLine(e,t,new Xe.L(s,l.end+1))),r=l?l.start+1:t.getLineMaxColumn(s);return new Xe.L(s,r)}static _moveWordPartRight(e,t){const i=t.lineNumber,n=e.getLineMaxColumn(i);if(t.column===n)return i<e.getLineCount()?new Xe.L(i+1,1):t;const s=e.getLineContent(i);for(let r=t.column+1;r<n;r++){const a=s.charCodeAt(r-2),l=s.charCodeAt(r-1);if(95!==a&&95===l)return new Xe.L(i,r);if(ut.mK(a)&&ut.df(l))return new Xe.L(i,r);if(ut.df(a)&&ut.df(l)&&r+1<n){const d=s.charCodeAt(r);if(ut.mK(d))return new Xe.L(i,r)}}return new Xe.L(i,n)}static _deleteWordLeftWhitespace(e,t){const i=e.getLineContent(t.lineNumber),n=t.column-2,s=ut.ow(i,n);return s+1<n?new Ze.e(t.lineNumber,s+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){const i=e.wordSeparators,n=e.model,s=e.selection,r=e.whitespaceHeuristics;if(!s.isEmpty())return s;if(ar.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const m=e.selection.getPosition();return new Ze.e(m.lineNumber,m.column-1,m.lineNumber,m.column+1)}const a=new Xe.L(s.positionLineNumber,s.positionColumn);let l=a.lineNumber,d=a.column;if(1===l&&1===d)return null;if(r){const m=this._deleteWordLeftWhitespace(n,a);if(m)return m}let u=ci._findPreviousWordOnLine(i,n,a);return 0===t?u?d=u.start+1:d>1?d=1:(l--,d=n.getLineMaxColumn(l)):(u&&d<=u.end+1&&(u=ci._findPreviousWordOnLine(i,n,new Xe.L(l,u.start+1))),u?d=u.end+1:d>1?d=1:(l--,d=n.getLineMaxColumn(l))),new Ze.e(l,d,a.lineNumber,a.column)}static deleteInsideWord(e,t,i){if(!i.isEmpty())return i;const n=new Xe.L(i.positionLineNumber,i.positionColumn);return this._deleteInsideWordWhitespace(t,n)||this._deleteInsideWordDetermineDeleteRange(e,t,n)}static _charAtIsWhitespace(e,t){const i=e.charCodeAt(t);return 32===i||9===i}static _deleteInsideWordWhitespace(e,t){const i=e.getLineContent(t.lineNumber),n=i.length;if(0===n)return null;let s=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(i,s))return null;let r=Math.min(t.column-1,n-1);if(!this._charAtIsWhitespace(i,r))return null;for(;s>0&&this._charAtIsWhitespace(i,s-1);)s--;for(;r+1<n&&this._charAtIsWhitespace(i,r+1);)r++;return new Ze.e(t.lineNumber,s+1,t.lineNumber,r+2)}static _deleteInsideWordDetermineDeleteRange(e,t,i){const n=t.getLineContent(i.lineNumber),s=n.length;if(0===s)return i.lineNumber>1?new Ze.e(i.lineNumber-1,t.getLineMaxColumn(i.lineNumber-1),i.lineNumber,1):i.lineNumber<t.getLineCount()?new Ze.e(i.lineNumber,1,i.lineNumber+1,1):new Ze.e(i.lineNumber,1,i.lineNumber,1);const r=m=>m.start+1<=i.column&&i.column<=m.end+1,a=(m,C)=>(m=Math.min(m,i.column),C=Math.max(C,i.column),new Ze.e(i.lineNumber,m,i.lineNumber,C)),l=m=>{let C=m.start+1,S=m.end+1,M=!1;for(;S-1<s&&this._charAtIsWhitespace(n,S-1);)M=!0,S++;if(!M)for(;C>1&&this._charAtIsWhitespace(n,C-2);)C--;return a(C,S)},d=ci._findPreviousWordOnLine(e,t,i);if(d&&r(d))return l(d);const u=ci._findNextWordOnLine(e,t,i);return u&&r(u)?l(u):d&&u?a(d.end+1,u.start+1):d?a(d.start+1,d.end+1):u?a(u.start+1,u.end+1):a(1,s+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),n=ci._moveWordPartLeft(e,i);return new Ze.e(i.lineNumber,i.column,n.lineNumber,n.column)}static _findFirstNonWhitespaceChar(e,t){const i=e.length;for(let n=t;n<i;n++){const s=e.charAt(n);if(" "!==s&&"\t"!==s)return n}return i}static _deleteWordRightWhitespace(e,t){const i=e.getLineContent(t.lineNumber),n=t.column-1,s=this._findFirstNonWhitespaceChar(i,n);return n+1<s?new Ze.e(t.lineNumber,t.column,t.lineNumber,s+1):null}static deleteWordRight(e,t){const i=e.wordSeparators,n=e.model,s=e.selection,r=e.whitespaceHeuristics;if(!s.isEmpty())return s;const a=new Xe.L(s.positionLineNumber,s.positionColumn);let l=a.lineNumber,d=a.column;const u=n.getLineCount(),m=n.getLineMaxColumn(l);if(l===u&&d===m)return null;if(r){const S=this._deleteWordRightWhitespace(n,a);if(S)return S}let C=ci._findNextWordOnLine(i,n,a);return 2===t?C?d=C.end+1:d<m||l===u?d=m:(l++,C=ci._findNextWordOnLine(i,n,new Xe.L(l,1)),d=C?C.start+1:n.getLineMaxColumn(l)):(C&&d>=C.start+1&&(C=ci._findNextWordOnLine(i,n,new Xe.L(l,C.end+1))),C?d=C.start+1:d<m||l===u?d=m:(l++,C=ci._findNextWordOnLine(i,n,new Xe.L(l,1)),d=C?C.start+1:n.getLineMaxColumn(l))),new Ze.e(l,d,a.lineNumber,a.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),n=ci._moveWordPartRight(e,i);return new Ze.e(i.lineNumber,i.column,n.lineNumber,n.column)}static _createWordAtPosition(e,t,i){const n=new Ze.e(t,i.start+1,t,i.end+1);return{word:e.getValueInRange(n),startColumn:n.startColumn,endColumn:n.endColumn}}static getWordAtPosition(e,t,i){const n=(0,Ma.u)(t),s=ci._findPreviousWordOnLine(n,e,i);if(s&&1===s.wordType&&s.start<=i.column-1&&i.column-1<=s.end)return ci._createWordAtPosition(e,i.lineNumber,s);const r=ci._findNextWordOnLine(n,e,i);return r&&1===r.wordType&&r.start<=i.column-1&&i.column-1<=r.end?ci._createWordAtPosition(e,i.lineNumber,r):null}static word(e,t,i,n,s){const r=(0,Ma.u)(e.wordSeparators),a=ci._findPreviousWordOnLine(r,t,s),l=ci._findNextWordOnLine(r,t,s);if(!n){let S,M;return a&&1===a.wordType&&a.start<=s.column-1&&s.column-1<=a.end?(S=a.start+1,M=a.end+1):l&&1===l.wordType&&l.start<=s.column-1&&s.column-1<=l.end?(S=l.start+1,M=l.end+1):(S=a?a.end+1:1,M=l?l.start+1:t.getLineMaxColumn(s.lineNumber)),new cn(new Ze.e(s.lineNumber,S,s.lineNumber,M),0,new Xe.L(s.lineNumber,M),0)}let d,u;a&&1===a.wordType&&a.start<s.column-1&&s.column-1<a.end?(d=a.start+1,u=a.end+1):l&&1===l.wordType&&l.start<s.column-1&&s.column-1<l.end?(d=l.start+1,u=l.end+1):(d=s.column,u=s.column);const m=s.lineNumber;let C;if(i.selectionStart.containsPosition(s))C=i.selectionStart.endColumn;else if(s.isBeforeOrEqual(i.selectionStart.getStartPosition())){C=d;const S=new Xe.L(m,C);i.selectionStart.containsPosition(S)&&(C=i.selectionStart.endColumn)}else{C=u;const S=new Xe.L(m,C);i.selectionStart.containsPosition(S)&&(C=i.selectionStart.startColumn)}return i.move(!0,m,C,0)}}class En{static addCursorDown(e,t,i){const n=[];let s=0;for(let r=0,a=t.length;r<a;r++){const l=t[r];n[s++]=new Kt(l.modelState,l.viewState),n[s++]=i?Kt.fromModelState(li.translateDown(e.cursorConfig,e.model,l.modelState)):Kt.fromViewState(li.translateDown(e.cursorConfig,e,l.viewState))}return n}static addCursorUp(e,t,i){const n=[];let s=0;for(let r=0,a=t.length;r<a;r++){const l=t[r];n[s++]=new Kt(l.modelState,l.viewState),n[s++]=i?Kt.fromModelState(li.translateUp(e.cursorConfig,e.model,l.modelState)):Kt.fromViewState(li.translateUp(e.cursorConfig,e,l.viewState))}return n}static moveToBeginningOfLine(e,t,i){let n=[];for(let s=0,r=t.length;s<r;s++)n[s]=this._moveToLineStart(e,t[s],i);return n}static _moveToLineStart(e,t,i){const n=t.viewState.position.column,r=n===t.modelState.position.column,l=e.getLineFirstNonWhitespaceColumn(t.viewState.position.lineNumber);return r||n===l?this._moveToLineStartByModel(e,t,i):this._moveToLineStartByView(e,t,i)}static _moveToLineStartByView(e,t,i){return Kt.fromViewState(li.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,i))}static _moveToLineStartByModel(e,t,i){return Kt.fromModelState(li.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,i))}static moveToEndOfLine(e,t,i,n){const s=[];for(let r=0,a=t.length;r<a;r++)s[r]=this._moveToLineEnd(e,t[r],i,n);return s}static _moveToLineEnd(e,t,i,n){const s=t.viewState.position,r=e.getLineMaxColumn(s.lineNumber),a=s.column===r,l=t.modelState.position,d=e.model.getLineMaxColumn(l.lineNumber);return a||r-s.column==d-l.column?this._moveToLineEndByModel(e,t,i,n):this._moveToLineEndByView(e,t,i,n)}static _moveToLineEndByView(e,t,i,n){return Kt.fromViewState(li.moveToEndOfLine(e.cursorConfig,e,t.viewState,i,n))}static _moveToLineEndByModel(e,t,i,n){return Kt.fromModelState(li.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,i,n))}static expandLineSelection(e,t){const i=[];for(let n=0,s=t.length;n<s;n++){const r=t[n],a=r.modelState.selection.startLineNumber,l=e.model.getLineCount();let u,d=r.modelState.selection.endLineNumber;d===l?u=e.model.getLineMaxColumn(l):(d++,u=1),i[n]=Kt.fromModelState(new cn(new Ze.e(a,1,a,1),0,new Xe.L(d,u),0))}return i}static moveToBeginningOfBuffer(e,t,i){const n=[];for(let s=0,r=t.length;s<r;s++)n[s]=Kt.fromModelState(li.moveToBeginningOfBuffer(e.cursorConfig,e.model,t[s].modelState,i));return n}static moveToEndOfBuffer(e,t,i){const n=[];for(let s=0,r=t.length;s<r;s++)n[s]=Kt.fromModelState(li.moveToEndOfBuffer(e.cursorConfig,e.model,t[s].modelState,i));return n}static selectAll(e,t){const i=e.model.getLineCount(),n=e.model.getLineMaxColumn(i);return Kt.fromModelState(new cn(new Ze.e(1,1,1,1),0,new Xe.L(i,n),0))}static line(e,t,i,n,s){const r=e.model.validatePosition(n),a=s?e.coordinatesConverter.validateViewPosition(new Xe.L(s.lineNumber,s.column),r):e.coordinatesConverter.convertModelPositionToViewPosition(r);if(!i||!t.modelState.hasSelection()){const d=e.model.getLineCount();let u=r.lineNumber+1,m=1;return u>d&&(u=d,m=e.model.getLineMaxColumn(u)),Kt.fromModelState(new cn(new Ze.e(r.lineNumber,1,u,m),0,new Xe.L(u,m),0))}const l=t.modelState.selectionStart.getStartPosition().lineNumber;if(r.lineNumber<l)return Kt.fromViewState(t.viewState.move(t.modelState.hasSelection(),a.lineNumber,1,0));if(r.lineNumber>l){const d=e.getLineCount();let u=a.lineNumber+1,m=1;return u>d&&(u=d,m=e.getLineMaxColumn(u)),Kt.fromViewState(t.viewState.move(t.modelState.hasSelection(),u,m,0))}{const d=t.modelState.selectionStart.getEndPosition();return Kt.fromModelState(t.modelState.move(t.modelState.hasSelection(),d.lineNumber,d.column,0))}}static word(e,t,i,n){const s=e.model.validatePosition(n);return Kt.fromModelState(ci.word(e.cursorConfig,e.model,t.modelState,i,s))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new Kt(t.modelState,t.viewState);const i=t.viewState.position.lineNumber,n=t.viewState.position.column;return Kt.fromViewState(new cn(new Ze.e(i,n,i,n),0,new Xe.L(i,n),0))}static moveTo(e,t,i,n,s){const r=e.model.validatePosition(n),a=s?e.coordinatesConverter.validateViewPosition(new Xe.L(s.lineNumber,s.column),r):e.coordinatesConverter.convertModelPositionToViewPosition(r);return Kt.fromViewState(t.viewState.move(i,a.lineNumber,a.column,0))}static simpleMove(e,t,i,n,s,r){switch(i){case 0:return 4===r?this._moveHalfLineLeft(e,t,n):this._moveLeft(e,t,n,s);case 1:return 4===r?this._moveHalfLineRight(e,t,n):this._moveRight(e,t,n,s);case 2:return 2===r?this._moveUpByViewLines(e,t,n,s):this._moveUpByModelLines(e,t,n,s);case 3:return 2===r?this._moveDownByViewLines(e,t,n,s):this._moveDownByModelLines(e,t,n,s);case 4:return t.map(2===r?a=>Kt.fromViewState(li.moveToPrevBlankLine(e.cursorConfig,e,a.viewState,n)):a=>Kt.fromModelState(li.moveToPrevBlankLine(e.cursorConfig,e.model,a.modelState,n)));case 5:return t.map(2===r?a=>Kt.fromViewState(li.moveToNextBlankLine(e.cursorConfig,e,a.viewState,n)):a=>Kt.fromModelState(li.moveToNextBlankLine(e.cursorConfig,e.model,a.modelState,n)));case 6:return this._moveToViewMinColumn(e,t,n);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,n);case 8:return this._moveToViewCenterColumn(e,t,n);case 9:return this._moveToViewMaxColumn(e,t,n);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,n);default:return null}}static viewportMove(e,t,i,n,s){const r=e.getCompletelyVisibleViewRange(),a=e.coordinatesConverter.convertViewRangeToModelRange(r);switch(i){case 11:{const l=this._firstLineNumberInRange(e.model,a,s),d=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],n,l,d)]}case 13:{const l=this._lastLineNumberInRange(e.model,a,s),d=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],n,l,d)]}case 12:{const l=Math.round((a.startLineNumber+a.endLineNumber)/2),d=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],n,l,d)]}case 14:{const l=[];for(let d=0,u=t.length;d<u;d++)l[d]=this.findPositionInViewportIfOutside(e,t[d],r,n);return l}default:return null}}static findPositionInViewportIfOutside(e,t,i,n){const s=t.viewState.position.lineNumber;if(i.startLineNumber<=s&&s<=i.endLineNumber-1)return new Kt(t.modelState,t.viewState);{let r;r=s>i.endLineNumber-1?i.endLineNumber-1:s<i.startLineNumber?i.startLineNumber:s;const a=li.vertical(e.cursorConfig,e,s,t.viewState.position.column,t.viewState.leftoverVisibleColumns,r,!1);return Kt.fromViewState(t.viewState.move(n,a.lineNumber,a.column,a.leftoverVisibleColumns))}}static _firstLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.min(t.endLineNumber,n+i-1)}static _lastLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.max(n,t.endLineNumber-i+1)}static _moveLeft(e,t,i,n){return t.map(s=>Kt.fromViewState(li.moveLeft(e.cursorConfig,e,s.viewState,i,n)))}static _moveHalfLineLeft(e,t,i){const n=[];for(let s=0,r=t.length;s<r;s++){const a=t[s],d=Math.round(e.getLineContent(a.viewState.position.lineNumber).length/2);n[s]=Kt.fromViewState(li.moveLeft(e.cursorConfig,e,a.viewState,i,d))}return n}static _moveRight(e,t,i,n){return t.map(s=>Kt.fromViewState(li.moveRight(e.cursorConfig,e,s.viewState,i,n)))}static _moveHalfLineRight(e,t,i){const n=[];for(let s=0,r=t.length;s<r;s++){const a=t[s],d=Math.round(e.getLineContent(a.viewState.position.lineNumber).length/2);n[s]=Kt.fromViewState(li.moveRight(e.cursorConfig,e,a.viewState,i,d))}return n}static _moveDownByViewLines(e,t,i,n){const s=[];for(let r=0,a=t.length;r<a;r++)s[r]=Kt.fromViewState(li.moveDown(e.cursorConfig,e,t[r].viewState,i,n));return s}static _moveDownByModelLines(e,t,i,n){const s=[];for(let r=0,a=t.length;r<a;r++)s[r]=Kt.fromModelState(li.moveDown(e.cursorConfig,e.model,t[r].modelState,i,n));return s}static _moveUpByViewLines(e,t,i,n){const s=[];for(let r=0,a=t.length;r<a;r++)s[r]=Kt.fromViewState(li.moveUp(e.cursorConfig,e,t[r].viewState,i,n));return s}static _moveUpByModelLines(e,t,i,n){const s=[];for(let r=0,a=t.length;r<a;r++)s[r]=Kt.fromModelState(li.moveUp(e.cursorConfig,e.model,t[r].modelState,i,n));return s}static _moveToViewPosition(e,t,i,n,s){return Kt.fromViewState(t.viewState.move(i,n,s,0))}static _moveToModelPosition(e,t,i,n,s){return Kt.fromModelState(t.modelState.move(i,n,s,0))}static _moveToViewMinColumn(e,t,i){const n=[];for(let s=0,r=t.length;s<r;s++){const a=t[s],l=a.viewState.position.lineNumber,d=e.getLineMinColumn(l);n[s]=this._moveToViewPosition(e,a,i,l,d)}return n}static _moveToViewFirstNonWhitespaceColumn(e,t,i){const n=[];for(let s=0,r=t.length;s<r;s++){const a=t[s],l=a.viewState.position.lineNumber,d=e.getLineFirstNonWhitespaceColumn(l);n[s]=this._moveToViewPosition(e,a,i,l,d)}return n}static _moveToViewCenterColumn(e,t,i){const n=[];for(let s=0,r=t.length;s<r;s++){const a=t[s],l=a.viewState.position.lineNumber,d=Math.round((e.getLineMaxColumn(l)+e.getLineMinColumn(l))/2);n[s]=this._moveToViewPosition(e,a,i,l,d)}return n}static _moveToViewMaxColumn(e,t,i){const n=[];for(let s=0,r=t.length;s<r;s++){const a=t[s],l=a.viewState.position.lineNumber,d=e.getLineMaxColumn(l);n[s]=this._moveToViewPosition(e,a,i,l,d)}return n}static _moveToViewLastNonWhitespaceColumn(e,t,i){const n=[];for(let s=0,r=t.length;s<r;s++){const a=t[s],l=a.viewState.position.lineNumber,d=e.getLineLastNonWhitespaceColumn(l);n[s]=this._moveToViewPosition(e,a,i,l,d)}return n}}!function(o){o.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(i){if(!be.Kn(i))return!1;const n=i;return!(!be.HD(n.to)||!be.o8(n.select)&&!be.jn(n.select)||!be.o8(n.by)&&!be.HD(n.by)||!be.o8(n.value)&&!be.hj(n.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},o.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},o.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},o.parse=function t(i){if(!i.to)return null;let n;switch(i.to){case o.RawDirection.Left:n=0;break;case o.RawDirection.Right:n=1;break;case o.RawDirection.Up:n=2;break;case o.RawDirection.Down:n=3;break;case o.RawDirection.PrevBlankLine:n=4;break;case o.RawDirection.NextBlankLine:n=5;break;case o.RawDirection.WrappedLineStart:n=6;break;case o.RawDirection.WrappedLineFirstNonWhitespaceCharacter:n=7;break;case o.RawDirection.WrappedLineColumnCenter:n=8;break;case o.RawDirection.WrappedLineEnd:n=9;break;case o.RawDirection.WrappedLineLastNonWhitespaceCharacter:n=10;break;case o.RawDirection.ViewPortTop:n=11;break;case o.RawDirection.ViewPortBottom:n=13;break;case o.RawDirection.ViewPortCenter:n=12;break;case o.RawDirection.ViewPortIfOutside:n=14;break;default:return null}let s=0;switch(i.by){case o.RawUnit.Line:s=1;break;case o.RawUnit.WrappedLine:s=2;break;case o.RawUnit.Character:s=3;break;case o.RawUnit.HalfLine:s=4}return{direction:n,unit:s,select:!!i.select,value:i.value||1}}}(Ol||(Ol={}));const vd=Object.create(null);function lr(o,e){if(e<=0)return"";vd[o]||(vd[o]=["",o]);const t=vd[o];for(let i=t.length;i<=e;i++)t[i]=t[i-1]+o;return t[e]}class Wo{constructor(e,t){this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(e,t,i,n,s){const r=Ln.i.visibleColumnFromColumn(e,t,i);if(s){const a=lr(" ",n);return lr(a,Ln.i.prevIndentTabStop(r,n)/n)}return lr("\t",Ln.i.prevRenderTabStop(r,i)/i)}static shiftIndent(e,t,i,n,s){const r=Ln.i.visibleColumnFromColumn(e,t,i);if(s){const a=lr(" ",n);return lr(a,Ln.i.nextIndentTabStop(r,n)/n)}return lr("\t",Ln.i.nextRenderTabStop(r,i)/i)}_addEditOperation(e,t,i){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,i):e.addEditOperation(t,i)}getEditOperations(e,t){const i=this._selection.startLineNumber;let n=this._selection.endLineNumber;1===this._selection.endColumn&&i!==n&&(n-=1);const{tabSize:s,indentSize:r,insertSpaces:a}=this._opts,l=i===n;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(i))&&(this._useLastEditRangeForCursorEndPosition=!0);let d=0,u=0;for(let m=i;m<=n;m++,d=u){u=0;const C=e.getLineContent(m);let M,S=ut.LC(C);if((!this._opts.isUnshift||0!==C.length&&0!==S)&&(l||this._opts.isUnshift||0!==C.length)){if(-1===S&&(S=C.length),m>1&&Ln.i.visibleColumnFromColumn(C,S+1,s)%r!=0&&e.isCheapToTokenize(m-1)){const J=an.zu.getEnterAction(this._opts.autoIndent,e,new Ze.e(m-1,e.getLineMaxColumn(m-1),m-1,e.getLineMaxColumn(m-1)));if(J){if(u=d,J.appendText)for(let ne=0,X=J.appendText.length;ne<X&&u<r&&32===J.appendText.charCodeAt(ne);ne++)u++;J.removeText&&(u=Math.max(0,u-J.removeText));for(let ne=0;ne<u&&0!==S&&32===C.charCodeAt(S-1);ne++)S--}}this._opts.isUnshift&&0===S||(M=this._opts.isUnshift?Wo.unshiftIndent(C,S+1,s,r,a):Wo.shiftIndent(C,S+1,s,r,a),this._addEditOperation(t,new Ze.e(m,1,m,S+1),M),m===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=S+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===e.getLineLength(i)&&(this._useLastEditRangeForCursorEndPosition=!0);const d=a?lr(" ",r):"\t";for(let u=i;u<=n;u++){const m=e.getLineContent(u);let C=ut.LC(m);if((!this._opts.isUnshift||0!==m.length&&0!==C)&&(l||this._opts.isUnshift||0!==m.length)&&(-1===C&&(C=m.length),!this._opts.isUnshift||0!==C))if(this._opts.isUnshift){C=Math.min(C,r);for(let S=0;S<C;S++)if(9===m.charCodeAt(S)){C=S+1;break}this._addEditOperation(t,new Ze.e(u,1,u,C+1),"")}else this._addEditOperation(t,new Ze.e(u,1,u,1),d),u===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){const n=t.getInverseEditOperations()[0];return new Xt.Y(n.range.endLineNumber,n.range.endColumn,n.range.endLineNumber,n.range.endColumn)}const i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const n=this._selection.startColumn;return i.startColumn<=n?i:0===i.getDirection()?new Xt.Y(i.startLineNumber,n,i.endLineNumber,i.endColumn):new Xt.Y(i.endLineNumber,i.endColumn,i.startLineNumber,n)}return i}}class O1{constructor(e,t,i){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=i}getEditOperations(e,t){t.addTrackedEditOperation(new Ze.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new Ze.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){const i=t.getInverseEditOperations(),n=i[0].range,s=i[1].range;return new Xt.Y(n.endLineNumber,n.endColumn,s.endLineNumber,s.endColumn-this._charAfterSelection.length)}}var Kr=L(5526);class Ai{static indent(e,t,i){if(null===t||null===i)return[];const n=[];for(let s=0,r=i.length;s<r;s++)n[s]=new Wo(i[s],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return n}static outdent(e,t,i){const n=[];for(let s=0,r=i.length;s<r;s++)n[s]=new Wo(i[s],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return n}static shiftIndent(e,t,i){return Wo.shiftIndent(t,t.length+(i=i||1),e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,i){return Wo.unshiftIndent(t,t.length+(i=i||1),e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,i,n){const s=[];for(let r=0,a=i.length;r<a;r++)s[r]=new $i.T4(i[r],n[r]);return new Zn(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,i,n,s){const r=[];for(let a=0,l=i.length;a<l;a++){const d=i[a],u=d.getPosition();if(s&&!d.isEmpty()&&(s=!1),s&&n.indexOf("\n")!==n.length-1&&(s=!1),s){const m=new Ze.e(u.lineNumber,1,u.lineNumber,1);r[a]=new $i.hP(m,n,d,!0)}else r[a]=new $i.T4(d,n)}return new Zn(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,i,n,s){if(n||1===t.length)return null;if(s&&s.length===t.length)return s;if("spread"===e.multiCursorPaste){10===i.charCodeAt(i.length-1)&&(i=i.substr(0,i.length-1)),13===i.charCodeAt(i.length-1)&&(i=i.substr(0,i.length-1));const r=ut.uq(i);if(r.length===t.length)return r}return null}static paste(e,t,i,n,s,r){const a=this._distributePasteToCursors(e,i,n,s,r);return a?(i=i.sort(Ze.e.compareRangesUsingStarts),this._distributedPaste(e,t,i,a)):this._simplePaste(e,t,i,n,s)}static _goodIndentForLine(e,t,i){let n=null,s="";const r=an.zu.getInheritIndentForLine(e.autoIndent,t,i,!1);if(r)n=r.action,s=r.indentation;else if(i>1){let a;for(a=i-1;a>=1;a--){const u=t.getLineContent(a);if(ut.ow(u)>=0)break}if(a<1)return null;const l=t.getLineMaxColumn(a),d=an.zu.getEnterAction(e.autoIndent,t,new Ze.e(a,l,a,l));d&&(s=d.indentation+d.appendText)}return n&&(n===Kr.wU.Indent&&(s=Ai.shiftIndent(e,s)),n===Kr.wU.Outdent&&(s=Ai.unshiftIndent(e,s)),s=e.normalizeIndentation(s)),s||null}static _replaceJumpToNextIndent(e,t,i,n){let s="";const r=i.getStartPosition();if(e.insertSpaces){const a=e.visibleColumnFromColumn(t,r),l=e.indentSize,d=l-a%l;for(let u=0;u<d;u++)s+=" "}else s="\t";return new $i.T4(i,s,n)}static tab(e,t,i){const n=[];for(let s=0,r=i.length;s<r;s++){const a=i[s];if(a.isEmpty()){const l=t.getLineContent(a.startLineNumber);if(/^\s*$/.test(l)&&t.isCheapToTokenize(a.startLineNumber)){let d=this._goodIndentForLine(e,t,a.startLineNumber);d=d||"\t";const u=e.normalizeIndentation(d);if(!l.startsWith(u)){n[s]=new $i.T4(new Ze.e(a.startLineNumber,1,a.startLineNumber,l.length+1),u,!0);continue}}n[s]=this._replaceJumpToNextIndent(e,t,a,!0)}else{if(a.startLineNumber===a.endLineNumber){const l=t.getLineMaxColumn(a.startLineNumber);if(1!==a.startColumn||a.endColumn!==l){n[s]=this._replaceJumpToNextIndent(e,t,a,!1);continue}}n[s]=new Wo(a,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent})}}return n}static compositionType(e,t,i,n,s,r,a,l){const d=n.map(u=>this._compositionType(i,u,s,r,a,l));return new Zn(4,d,{shouldPushStackElementBefore:Al(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,i,n,s,r){if(!t.isEmpty())return null;const a=t.getPosition(),l=Math.max(1,a.column-n),d=Math.min(e.getLineMaxColumn(a.lineNumber),a.column+s),u=new Ze.e(a.lineNumber,l,a.lineNumber,d);return e.getValueInRange(u)===i&&0===r?null:new $i.Uo(u,i,0,r)}static _typeCommand(e,t,i){return i?new $i.Sj(e,t,!0):new $i.T4(e,t,!0)}static _enter(e,t,i,n){if(0===e.autoIndent)return Ai._typeCommand(n,"\n",i);if(!t.isCheapToTokenize(n.getStartPosition().lineNumber)||1===e.autoIndent){const l=t.getLineContent(n.startLineNumber),d=ut.V8(l).substring(0,n.startColumn-1);return Ai._typeCommand(n,"\n"+e.normalizeIndentation(d),i)}const s=an.zu.getEnterAction(e.autoIndent,t,n);if(s){if(s.indentAction===Kr.wU.None)return Ai._typeCommand(n,"\n"+e.normalizeIndentation(s.indentation+s.appendText),i);if(s.indentAction===Kr.wU.Indent)return Ai._typeCommand(n,"\n"+e.normalizeIndentation(s.indentation+s.appendText),i);if(s.indentAction===Kr.wU.IndentOutdent){const l=e.normalizeIndentation(s.indentation),d=e.normalizeIndentation(s.indentation+s.appendText),u="\n"+d+"\n"+l;return i?new $i.Sj(n,u,!0):new $i.Uo(n,u,-1,d.length-l.length,!0)}if(s.indentAction===Kr.wU.Outdent){const l=Ai.unshiftIndent(e,s.indentation);return Ai._typeCommand(n,"\n"+e.normalizeIndentation(l+s.appendText),i)}}const r=t.getLineContent(n.startLineNumber),a=ut.V8(r).substring(0,n.startColumn-1);if(e.autoIndent>=4){const l=an.zu.getIndentForEnter(e.autoIndent,t,n,{unshiftIndent:d=>Ai.unshiftIndent(e,d),shiftIndent:d=>Ai.shiftIndent(e,d),normalizeIndentation:d=>e.normalizeIndentation(d)});if(l){let d=e.visibleColumnFromColumn(t,n.getEndPosition());const u=n.endColumn,m=t.getLineContent(n.endLineNumber),C=ut.LC(m);if(n=n.setEndPosition(n.endLineNumber,C>=0?Math.max(n.endColumn,C+1):t.getLineMaxColumn(n.endLineNumber)),i)return new $i.Sj(n,"\n"+e.normalizeIndentation(l.afterEnter),!0);{let S=0;return u<=C+1&&(e.insertSpaces||(d=Math.ceil(d/e.indentSize)),S=Math.min(d+1-e.normalizeIndentation(l.afterEnter).length-1,0)),new $i.Uo(n,"\n"+e.normalizeIndentation(l.afterEnter),0,S,!0)}}}return Ai._typeCommand(n,"\n"+e.normalizeIndentation(a),i)}static _isAutoIndentType(e,t,i){if(e.autoIndent<4)return!1;for(let n=0,s=i.length;n<s;n++)if(!t.isCheapToTokenize(i[n].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,i,n){const s=an.zu.getIndentationAtPosition(t,i.startLineNumber,i.startColumn),r=an.zu.getIndentActionForType(e.autoIndent,t,i,n,{shiftIndent:a=>Ai.shiftIndent(e,a),unshiftIndent:a=>Ai.unshiftIndent(e,a)});if(null===r)return null;if(r!==e.normalizeIndentation(s)){const a=t.getLineFirstNonWhitespaceColumn(i.startLineNumber);return Ai._typeCommand(new Ze.e(i.startLineNumber,1,i.endLineNumber,i.endColumn),0===a?e.normalizeIndentation(r)+n:e.normalizeIndentation(r)+t.getLineContent(i.startLineNumber).substring(a-1,i.startColumn-1)+n,!1)}return null}static _isAutoClosingOvertype(e,t,i,n,s){if("never"===e.autoClosingOvertype||!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(s))return!1;for(let r=0,a=i.length;r<a;r++){const l=i[r];if(!l.isEmpty())return!1;const d=l.getPosition(),u=t.getLineContent(d.lineNumber);if(u.charAt(d.column-1)!==s)return!1;const C=jr(s);if(92===(d.column>2?u.charCodeAt(d.column-2):0)&&C)return!1;if("auto"===e.autoClosingOvertype){let M=!1;for(let j=0,J=n.length;j<J;j++){const ne=n[j];if(d.lineNumber===ne.startLineNumber&&d.column===ne.startColumn){M=!0;break}}if(!M)return!1}}return!0}static _runAutoClosingOvertype(e,t,i,n,s){const r=[];for(let a=0,l=n.length;a<l;a++){const u=n[a].getPosition(),m=new Ze.e(u.lineNumber,u.column,u.lineNumber,u.column+1);r[a]=new $i.T4(m,s)}return new Zn(4,r,{shouldPushStackElementBefore:Al(e,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,t){const i=t.charAt(0),n=e.autoClosingPairs.autoClosingPairsOpenByStart.get(i)||[],s=e.autoClosingPairs.autoClosingPairsCloseByStart.get(i)||[],r=n.some(l=>t.startsWith(l.open)),a=s.some(l=>t.startsWith(l.close));return!r&&a}static _findAutoClosingPairOpen(e,t,i,n){const s=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(n);if(!s)return null;let r=null;for(const a of s)if(null===r||a.open.length>r.open.length){let l=!0;for(const d of i)if(t.getValueInRange(new Ze.e(d.lineNumber,d.column-a.open.length+1,d.lineNumber,d.column))+n!==a.open){l=!1;break}l&&(r=a)}return r}static _findContainedAutoClosingPair(e,t){if(t.open.length<=1)return null;const i=t.close.charAt(t.close.length-1),n=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(i)||[];let s=null;for(const r of n)r.open!==t.open&&t.open.includes(r.open)&&t.close.endsWith(r.close)&&(!s||r.open.length>s.open.length)&&(s=r);return s}static _getAutoClosingPairClose(e,t,i,n,s){const r=jr(n),a=r?e.autoClosingQuotes:e.autoClosingBrackets,l=r?e.shouldAutoCloseBefore.quote:e.shouldAutoCloseBefore.bracket;if("never"===a)return null;for(const M of i)if(!M.isEmpty())return null;const d=i.map(M=>{const j=M.getPosition();return s?{lineNumber:j.lineNumber,beforeColumn:j.column-n.length,afterColumn:j.column}:{lineNumber:j.lineNumber,beforeColumn:j.column,afterColumn:j.column}}),u=this._findAutoClosingPairOpen(e,t,d.map(M=>new Xe.L(M.lineNumber,M.beforeColumn)),n);if(!u)return null;const m=this._findContainedAutoClosingPair(e,u),C=m?m.close:"";let S=!0;for(const M of d){const{lineNumber:j,beforeColumn:J,afterColumn:ne}=M,X=t.getLineContent(j),le=X.substring(0,J-1),Ce=X.substring(ne-1);if(Ce.startsWith(C)||(S=!1),Ce.length>0){const pe=Ce.charAt(0);if(!Ai._isBeforeClosingBrace(e,Ce)&&!l(pe))return null}if(1===u.open.length&&("'"===n||'"'===n)&&"always"!==a){const pe=(0,Ma.u)(e.wordSeparators);if(le.length>0){const Te=le.charCodeAt(le.length-1);if(0===pe.get(Te))return null}}if(!t.isCheapToTokenize(j))return null;t.forceTokenization(j);const ke=t.getLineTokens(j),Ne=(0,Mf.wH)(ke,J-1);if(!u.shouldAutoClose(Ne,J-Ne.firstCharOffset))return null;const ve=u.findNeutralCharacter();if(ve){const pe=t.getTokenTypeIfInsertingCharacter(j,J,ve);if(!u.isOK(pe))return null}}return S?u.close.substring(0,u.close.length-C.length):u.close}static _runAutoClosingOpenCharType(e,t,i,n,s,r,a){const l=[];for(let d=0,u=n.length;d<u;d++)l[d]=new Of(n[d],s,!r,a);return new Zn(4,l,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return jr(t)?"quotes"===e.autoSurround||"languageDefined"===e.autoSurround:"brackets"===e.autoSurround||"languageDefined"===e.autoSurround}static _isSurroundSelectionType(e,t,i,n){if(!Ai._shouldSurroundChar(e,n)||!e.surroundingPairs.hasOwnProperty(n))return!1;const s=jr(n);for(let r=0,a=i.length;r<a;r++){const l=i[r];if(l.isEmpty())return!1;let d=!0;for(let u=l.startLineNumber;u<=l.endLineNumber;u++){const m=t.getLineContent(u),M=m.substring(u===l.startLineNumber?l.startColumn-1:0,u===l.endLineNumber?l.endColumn-1:m.length);if(/[^ \t]/.test(M)){d=!1;break}}if(d)return!1;if(s&&l.startLineNumber===l.endLineNumber&&l.startColumn+1===l.endColumn&&jr(t.getValueInRange(l)))return!1}return!0}static _runSurroundSelectionType(e,t,i,n,s){const r=[];for(let a=0,l=n.length;a<l;a++)r[a]=new O1(n[a],s,t.surroundingPairs[s]);return new Zn(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,i){return!(1!==i.length||!t.isCheapToTokenize(i[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,i,n,s){if(!t.electricChars.hasOwnProperty(s)||!n.isEmpty())return null;const r=n.getPosition();i.forceTokenization(r.lineNumber);const a=i.getLineTokens(r.lineNumber);let l;try{l=t.onElectricCharacter(s,a,r.column)}catch(d){return(0,he.dL)(d),null}if(!l)return null;if(l.matchOpenBracket){const d=(a.getLineContent()+s).lastIndexOf(l.matchOpenBracket)+1,u=i.bracketPairs.findMatchingBracketUp(l.matchOpenBracket,{lineNumber:r.lineNumber,column:d});if(u){if(u.startLineNumber===r.lineNumber)return null;const m=i.getLineContent(u.startLineNumber),C=ut.V8(m),S=t.normalizeIndentation(C),M=i.getLineContent(r.lineNumber),j=i.getLineFirstNonWhitespaceColumn(r.lineNumber)||r.column,ne=S+M.substring(j-1,r.column-1)+s,X=new Ze.e(r.lineNumber,1,r.lineNumber,r.column),le=new $i.T4(X,ne);return new Zn(wd(ne,e),[le],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,i,n,s,r){if(!n||Xt.Y.selectionsArrEqual(n,s))return null;let a=null;for(const d of s){if(!d.isEmpty())return null;const u=d.getPosition(),m=i.getValueInRange(new Ze.e(u.lineNumber,u.column-1,u.lineNumber,u.column));if(null===a)a=m;else if(a!==m)return null}if(!a)return null;if(this._isAutoClosingOvertype(t,i,s,r,a)){const d=s.map(u=>new $i.T4(new Ze.e(u.positionLineNumber,u.positionColumn,u.positionLineNumber,u.positionColumn+1),"",!1));return new Zn(4,d,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const l=this._getAutoClosingPairClose(t,i,s,a,!0);return null!==l?this._runAutoClosingOpenCharType(e,t,i,s,a,!0,l):null}static typeWithInterceptors(e,t,i,n,s,r,a){if(!e&&"\n"===a){const u=[];for(let m=0,C=s.length;m<C;m++)u[m]=Ai._enter(i,n,!1,s[m]);return new Zn(4,u,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(i,n,s)){const u=[];let m=!1;for(let C=0,S=s.length;C<S;C++)if(u[C]=this._runAutoIndentType(i,n,s[C],a),!u[C]){m=!0;break}if(!m)return new Zn(4,u,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoClosingOvertype(i,n,s,r,a))return this._runAutoClosingOvertype(t,i,n,s,a);if(!e){const u=this._getAutoClosingPairClose(i,n,s,a,!1);if(u)return this._runAutoClosingOpenCharType(t,i,n,s,a,!1,u)}if(this._isSurroundSelectionType(i,n,s,a))return this._runSurroundSelectionType(t,i,n,s,a);if(!e&&this._isTypeInterceptorElectricChar(i,n,s)){const u=this._typeInterceptorElectricChar(t,i,n,s[0],a);if(u)return u}const l=[];for(let u=0,m=s.length;u<m;u++)l[u]=new $i.T4(s[u],a);const d=wd(a,t);return new Zn(d,l,{shouldPushStackElementBefore:Al(t,d),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,i,n,s){const r=[];for(let l=0,d=n.length;l<d;l++)r[l]=new $i.T4(n[l],s);const a=wd(s,e);return new Zn(a,r,{shouldPushStackElementBefore:Al(e,a),shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,i){if(null===t||null===i)return[];const n=[];for(let s=0,r=i.length;s<r;s++){let a=i[s].positionLineNumber;if(1===a)n[s]=new $i.Sj(new Ze.e(1,1,1,1),"\n");else{a--;const l=t.getLineMaxColumn(a);n[s]=this._enter(e,t,!1,new Ze.e(a,l,a,l))}}return n}static lineInsertAfter(e,t,i){if(null===t||null===i)return[];const n=[];for(let s=0,r=i.length;s<r;s++){const a=i[s].positionLineNumber,l=t.getLineMaxColumn(a);n[s]=this._enter(e,t,!1,new Ze.e(a,l,a,l))}return n}static lineBreakInsert(e,t,i){const n=[];for(let s=0,r=i.length;s<r;s++)n[s]=this._enter(e,t,!0,i[s]);return n}}class Of extends $i.Uo{constructor(e,t,i,n){super(e,(i?t:"")+n,0,-n.length),this._openCharacter=t,this._closeCharacter=n,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){const n=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new Ze.e(n.startLineNumber,n.endColumn-this._closeCharacter.length,n.endLineNumber,n.endColumn),this.enclosingRange=new Ze.e(n.startLineNumber,n.endColumn-this._openCharacter.length-this._closeCharacter.length,n.endLineNumber,n.endColumn),super.computeCursorState(e,t)}}function wd(o,e){return" "===o?5===e||6===e?6:5:4}function Al(o,e){return!(!Pf(o)||Pf(e))||5!==o&&Af(o)!==Af(e)}function Af(o){return 6===o||5===o?"space":o}function Pf(o){return 4===o||5===o||6===o}var Pl,$r,on,wt=L(29584),Bf=L(7550);class Vi extends Et._l{runEditorCommand(e,t,i){const n=t._getViewModel();!n||this.runCoreEditorCommand(n,i||{})}}!function(o){o.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(i){if(!be.Kn(i))return!1;const n=i;return!(!be.HD(n.to)||!be.o8(n.by)&&!be.HD(n.by)||!be.o8(n.value)&&!be.hj(n.value)||!be.o8(n.revealCursor)&&!be.jn(n.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},o.RawDirection={Up:"up",Down:"down"},o.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},o.parse=function t(i){let n,s;switch(i.to){case o.RawDirection.Up:n=1;break;case o.RawDirection.Down:n=2;break;default:return null}switch(i.by){case o.RawUnit.Line:s=1;break;case o.RawUnit.WrappedLine:s=2;break;case o.RawUnit.Page:s=3;break;case o.RawUnit.HalfPage:s=4;break;default:s=2}return{direction:n,unit:s,value:Math.floor(i.value||1),revealCursor:!!i.revealCursor,select:!!i.select}}}(Pl||(Pl={})),function(o){o.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(t){if(!be.Kn(t))return!1;const i=t;return!(!be.hj(i.lineNumber)&&!be.HD(i.lineNumber)||!be.o8(i.at)&&!be.HD(i.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},o.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}($r||($r={}));class Sd{constructor(e){e.addImplementation(1e4,"code-editor",(t,i)=>{const n=t.get(Ti.$).getFocusedCodeEditor();return!(!n||!n.hasTextFocus())&&this._runEditorCommand(t,n,i)}),e.addImplementation(1e3,"generic-dom-input-textarea",(t,i)=>{const n=document.activeElement;return!!(n&&["input","textarea"].indexOf(n.tagName.toLowerCase())>=0)&&(this.runDOMCommand(),!0)}),e.addImplementation(0,"generic-dom",(t,i)=>{const n=t.get(Ti.$).getActiveCodeEditor();return!!n&&(n.focus(),this._runEditorCommand(t,n,i))})}_runEditorCommand(e,t,i){return this.runEditorCommand(e,t,i)||!0}}!function(o){class e extends Vi{constructor(X){super(X),this._minimalReveal=X.minimalReveal,this._inSelectionMode=X.inSelectionMode}runCoreEditorCommand(X,le){X.model.pushStackElement(),X.setCursorStates(le.source,3,[En.moveTo(X,X.getPrimaryCursorState(),this._inSelectionMode,le.position,le.viewPosition)])&&X.revealPrimaryCursor(le.source,!0,this._minimalReveal)}}o.MoveTo=(0,Et.fK)(new e({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),o.MoveToSelect=(0,Et.fK)(new e({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class t extends Vi{runCoreEditorCommand(X,le){X.model.pushStackElement();const Ce=this._getColumnSelectResult(X,X.getPrimaryCursorState(),X.getCursorColumnSelectData(),le);X.setCursorStates(le.source,3,Ce.viewStates.map(ke=>Kt.fromViewState(ke))),X.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:Ce.fromLineNumber,fromViewVisualColumn:Ce.fromVisualColumn,toViewLineNumber:Ce.toLineNumber,toViewVisualColumn:Ce.toVisualColumn}),Ce.reversed?X.revealTopMostCursor(le.source):X.revealBottomMostCursor(le.source)}}o.ColumnSelect=(0,Et.fK)(new class extends t{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(ne,X,le,Ce){const ke=ne.model.validatePosition(Ce.position),Ne=ne.coordinatesConverter.validateViewPosition(new Xe.L(Ce.viewPosition.lineNumber,Ce.viewPosition.column),ke);return rr.columnSelect(ne.cursorConfig,ne,Ce.doColumnSelect?le.fromViewLineNumber:Ne.lineNumber,Ce.doColumnSelect?le.fromViewVisualColumn:Ce.mouseColumn-1,Ne.lineNumber,Ce.mouseColumn-1)}}),o.CursorColumnSelectLeft=(0,Et.fK)(new class extends t{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(ne,X,le,Ce){return rr.columnSelectLeft(ne.cursorConfig,ne,le)}}),o.CursorColumnSelectRight=(0,Et.fK)(new class extends t{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(ne,X,le,Ce){return rr.columnSelectRight(ne.cursorConfig,ne,le)}});class i extends t{constructor(X){super(X),this._isPaged=X.isPaged}_getColumnSelectResult(X,le,Ce,ke){return rr.columnSelectUp(X.cursorConfig,X,Ce,this._isPaged)}}o.CursorColumnSelectUp=(0,Et.fK)(new i({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:3600,linux:{primary:0}}})),o.CursorColumnSelectPageUp=(0,Et.fK)(new i({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:3595,linux:{primary:0}}}));class n extends t{constructor(X){super(X),this._isPaged=X.isPaged}_getColumnSelectResult(X,le,Ce,ke){return rr.columnSelectDown(X.cursorConfig,X,Ce,this._isPaged)}}o.CursorColumnSelectDown=(0,Et.fK)(new n({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:3602,linux:{primary:0}}})),o.CursorColumnSelectPageDown=(0,Et.fK)(new n({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:3596,linux:{primary:0}}}));class s extends Vi{constructor(){super({id:"cursorMove",precondition:void 0,description:Ol.description})}runCoreEditorCommand(X,le){const Ce=Ol.parse(le);!Ce||this._runCursorMove(X,le.source,Ce)}_runCursorMove(X,le,Ce){X.model.pushStackElement(),X.setCursorStates(le,3,s._move(X,X.getCursorStates(),Ce)),X.revealPrimaryCursor(le,!0)}static _move(X,le,Ce){const ke=Ce.select,Ne=Ce.value;switch(Ce.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return En.simpleMove(X,le,Ce.direction,ke,Ne,Ce.unit);case 11:case 13:case 12:case 14:return En.viewportMove(X,le,Ce.direction,ke,Ne);default:return null}}}o.CursorMoveImpl=s,o.CursorMove=(0,Et.fK)(new s);class r extends Vi{constructor(X){super(X),this._staticArgs=X.args}runCoreEditorCommand(X,le){let Ce=this._staticArgs;-1===this._staticArgs.value&&(Ce={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:le.pageSize||X.cursorConfig.pageSize}),X.model.pushStackElement(),X.setCursorStates(le.source,3,En.simpleMove(X,X.getCursorStates(),Ce.direction,Ce.select,Ce.value,Ce.unit)),X.revealPrimaryCursor(le.source,!0)}}o.CursorLeft=(0,Et.fK)(new r({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),o.CursorLeftSelect=(0,Et.fK)(new r({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:1039}})),o.CursorRight=(0,Et.fK)(new r({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),o.CursorRightSelect=(0,Et.fK)(new r({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:1041}})),o.CursorUp=(0,Et.fK)(new r({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),o.CursorUpSelect=(0,Et.fK)(new r({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),o.CursorPageUp=(0,Et.fK)(new r({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:11}})),o.CursorPageUpSelect=(0,Et.fK)(new r({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:1035}})),o.CursorDown=(0,Et.fK)(new r({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),o.CursorDownSelect=(0,Et.fK)(new r({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),o.CursorPageDown=(0,Et.fK)(new r({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:12}})),o.CursorPageDownSelect=(0,Et.fK)(new r({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:1036}})),o.CreateCursor=(0,Et.fK)(new class extends Vi{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(ne,X){let le;le=X.wholeLine?En.line(ne,ne.getPrimaryCursorState(),!1,X.position,X.viewPosition):En.moveTo(ne,ne.getPrimaryCursorState(),!1,X.position,X.viewPosition);const Ce=ne.getCursorStates();if(Ce.length>1){const ke=le.modelState?le.modelState.position:null,Ne=le.viewState?le.viewState.position:null;for(let ve=0,pe=Ce.length;ve<pe;ve++){const Te=Ce[ve];if((!ke||Te.modelState.selection.containsPosition(ke))&&(!Ne||Te.viewState.selection.containsPosition(Ne)))return Ce.splice(ve,1),ne.model.pushStackElement(),void ne.setCursorStates(X.source,3,Ce)}}Ce.push(le),ne.model.pushStackElement(),ne.setCursorStates(X.source,3,Ce)}}),o.LastCursorMoveToSelect=(0,Et.fK)(new class extends Vi{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(ne,X){const le=ne.getLastAddedCursorIndex(),Ce=ne.getCursorStates(),ke=Ce.slice(0);ke[le]=En.moveTo(ne,Ce[le],!0,X.position,X.viewPosition),ne.model.pushStackElement(),ne.setCursorStates(X.source,3,ke)}});class a extends Vi{constructor(X){super(X),this._inSelectionMode=X.inSelectionMode}runCoreEditorCommand(X,le){X.model.pushStackElement(),X.setCursorStates(le.source,3,En.moveToBeginningOfLine(X,X.getCursorStates(),this._inSelectionMode)),X.revealPrimaryCursor(le.source,!0)}}o.CursorHome=(0,Et.fK)(new a({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),o.CursorHomeSelect=(0,Et.fK)(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class l extends Vi{constructor(X){super(X),this._inSelectionMode=X.inSelectionMode}runCoreEditorCommand(X,le){X.model.pushStackElement(),X.setCursorStates(le.source,3,this._exec(X.getCursorStates())),X.revealPrimaryCursor(le.source,!0)}_exec(X){const le=[];for(let Ce=0,ke=X.length;Ce<ke;Ce++){const Ne=X[Ce];le[Ce]=Kt.fromModelState(Ne.modelState.move(this._inSelectionMode,Ne.modelState.position.lineNumber,1,0))}return le}}o.CursorLineStart=(0,Et.fK)(new l({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:0,mac:{primary:287}}})),o.CursorLineStartSelect=(0,Et.fK)(new l({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:0,mac:{primary:1311}}}));class d extends Vi{constructor(X){super(X),this._inSelectionMode=X.inSelectionMode}runCoreEditorCommand(X,le){X.model.pushStackElement(),X.setCursorStates(le.source,3,En.moveToEndOfLine(X,X.getCursorStates(),this._inSelectionMode,le.sticky||!1)),X.revealPrimaryCursor(le.source,!0)}}o.CursorEnd=(0,Et.fK)(new d({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:wt.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:_.N("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),o.CursorEndSelect=(0,Et.fK)(new d({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:wt.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:_.N("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class u extends Vi{constructor(X){super(X),this._inSelectionMode=X.inSelectionMode}runCoreEditorCommand(X,le){X.model.pushStackElement(),X.setCursorStates(le.source,3,this._exec(X,X.getCursorStates())),X.revealPrimaryCursor(le.source,!0)}_exec(X,le){const Ce=[];for(let ke=0,Ne=le.length;ke<Ne;ke++){const ve=le[ke],pe=ve.modelState.position.lineNumber,Te=X.model.getLineMaxColumn(pe);Ce[ke]=Kt.fromModelState(ve.modelState.move(this._inSelectionMode,pe,Te,0))}return Ce}}o.CursorLineEnd=(0,Et.fK)(new u({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:0,mac:{primary:291}}})),o.CursorLineEndSelect=(0,Et.fK)(new u({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:0,mac:{primary:1315}}}));class m extends Vi{constructor(X){super(X),this._inSelectionMode=X.inSelectionMode}runCoreEditorCommand(X,le){X.model.pushStackElement(),X.setCursorStates(le.source,3,En.moveToBeginningOfBuffer(X,X.getCursorStates(),this._inSelectionMode)),X.revealPrimaryCursor(le.source,!0)}}o.CursorTop=(0,Et.fK)(new m({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:2062,mac:{primary:2064}}})),o.CursorTopSelect=(0,Et.fK)(new m({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class C extends Vi{constructor(X){super(X),this._inSelectionMode=X.inSelectionMode}runCoreEditorCommand(X,le){X.model.pushStackElement(),X.setCursorStates(le.source,3,En.moveToEndOfBuffer(X,X.getCursorStates(),this._inSelectionMode)),X.revealPrimaryCursor(le.source,!0)}}o.CursorBottom=(0,Et.fK)(new C({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:2061,mac:{primary:2066}}})),o.CursorBottomSelect=(0,Et.fK)(new C({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class S extends Vi{constructor(){super({id:"editorScroll",precondition:void 0,description:Pl.description})}runCoreEditorCommand(X,le){const Ce=Pl.parse(le);!Ce||this._runEditorScroll(X,le.source,Ce)}_runEditorScroll(X,le,Ce){const ke=this._computeDesiredScrollTop(X,Ce);if(Ce.revealCursor){const Ne=X.getCompletelyVisibleViewRangeAtScrollTop(ke);X.setCursorStates(le,3,[En.findPositionInViewportIfOutside(X,X.getPrimaryCursorState(),Ne,Ce.select)])}X.setScrollTop(ke,0)}_computeDesiredScrollTop(X,le){if(1===le.unit){const Ne=X.getCompletelyVisibleViewRange(),ve=X.coordinatesConverter.convertViewRangeToModelRange(Ne);let pe;pe=1===le.direction?Math.max(1,ve.startLineNumber-le.value):Math.min(X.model.getLineCount(),ve.startLineNumber+le.value);const Te=X.coordinatesConverter.convertModelPositionToViewPosition(new Xe.L(pe,1));return X.getVerticalOffsetForLineNumber(Te.lineNumber)}let Ce;Ce=3===le.unit?X.cursorConfig.pageSize*le.value:4===le.unit?Math.round(X.cursorConfig.pageSize/2)*le.value:le.value;const ke=(1===le.direction?-1:1)*Ce;return X.getScrollTop()+ke*X.cursorConfig.lineHeight}}o.EditorScrollImpl=S,o.EditorScroll=(0,Et.fK)(new S),o.ScrollLineUp=(0,Et.fK)(new class extends Vi{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(ne,X){o.EditorScroll._runEditorScroll(ne,X.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),o.ScrollPageUp=(0,Et.fK)(new class extends Vi{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(ne,X){o.EditorScroll._runEditorScroll(ne,X.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),o.ScrollLineDown=(0,Et.fK)(new class extends Vi{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(ne,X){o.EditorScroll._runEditorScroll(ne,X.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),o.ScrollPageDown=(0,Et.fK)(new class extends Vi{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(ne,X){o.EditorScroll._runEditorScroll(ne,X.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class M extends Vi{constructor(X){super(X),this._inSelectionMode=X.inSelectionMode}runCoreEditorCommand(X,le){X.model.pushStackElement(),X.setCursorStates(le.source,3,[En.word(X,X.getPrimaryCursorState(),this._inSelectionMode,le.position)]),X.revealPrimaryCursor(le.source,!0)}}o.WordSelect=(0,Et.fK)(new M({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),o.WordSelectDrag=(0,Et.fK)(new M({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),o.LastCursorWordSelect=(0,Et.fK)(new class extends Vi{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(ne,X){const le=ne.getLastAddedCursorIndex(),Ce=ne.getCursorStates(),ke=Ce.slice(0),Ne=Ce[le];ke[le]=En.word(ne,Ne,Ne.modelState.hasSelection(),X.position),ne.model.pushStackElement(),ne.setCursorStates(X.source,3,ke)}});class j extends Vi{constructor(X){super(X),this._inSelectionMode=X.inSelectionMode}runCoreEditorCommand(X,le){X.model.pushStackElement(),X.setCursorStates(le.source,3,[En.line(X,X.getPrimaryCursorState(),this._inSelectionMode,le.position,le.viewPosition)]),X.revealPrimaryCursor(le.source,!1)}}o.LineSelect=(0,Et.fK)(new j({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),o.LineSelectDrag=(0,Et.fK)(new j({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class J extends Vi{constructor(X){super(X),this._inSelectionMode=X.inSelectionMode}runCoreEditorCommand(X,le){const Ce=X.getLastAddedCursorIndex(),ke=X.getCursorStates(),Ne=ke.slice(0);Ne[Ce]=En.line(X,ke[Ce],this._inSelectionMode,le.position,le.viewPosition),X.model.pushStackElement(),X.setCursorStates(le.source,3,Ne)}}o.LastCursorLineSelect=(0,Et.fK)(new J({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),o.LastCursorLineSelectDrag=(0,Et.fK)(new J({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),o.CancelSelection=(0,Et.fK)(new class extends Vi{constructor(){super({id:"cancelSelection",precondition:wt.u.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(ne,X){ne.model.pushStackElement(),ne.setCursorStates(X.source,3,[En.cancelSelection(ne,ne.getPrimaryCursorState())]),ne.revealPrimaryCursor(X.source,!0)}}),o.RemoveSecondaryCursors=(0,Et.fK)(new class extends Vi{constructor(){super({id:"removeSecondaryCursors",precondition:wt.u.hasMultipleSelections,kbOpts:{weight:1,kbExpr:wt.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(ne,X){ne.model.pushStackElement(),ne.setCursorStates(X.source,3,[ne.getPrimaryCursorState()]),ne.revealPrimaryCursor(X.source,!0),(0,hd.i7)(_.N("removedCursor","Removed secondary cursors"))}}),o.RevealLine=(0,Et.fK)(new class extends Vi{constructor(){super({id:"revealLine",precondition:void 0,description:$r.description})}runCoreEditorCommand(ne,X){const le=X,Ce=le.lineNumber||0;let ke="number"==typeof Ce?Ce+1:parseInt(Ce)+1;ke<1&&(ke=1);const Ne=ne.model.getLineCount();ke>Ne&&(ke=Ne);const ve=new Ze.e(ke,1,ke,ne.model.getLineMaxColumn(ke));let pe=0;if(le.at)switch(le.at){case $r.RawAtArgument.Top:pe=3;break;case $r.RawAtArgument.Center:pe=1;break;case $r.RawAtArgument.Bottom:pe=4}const Te=ne.coordinatesConverter.convertModelRangeToViewRange(ve);ne.revealRange(X.source,!1,Te,pe,0)}}),o.SelectAll=new class extends Sd{constructor(){super(Et.Sq)}runDOMCommand(){Ei.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(ne,X,le){const Ce=X._getViewModel();!Ce||this.runCoreEditorCommand(Ce,le)}runCoreEditorCommand(ne,X){ne.model.pushStackElement(),ne.setCursorStates("keyboard",3,[En.selectAll(ne,ne.getPrimaryCursorState())])}},o.SetSelection=(0,Et.fK)(new class extends Vi{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(ne,X){ne.model.pushStackElement(),ne.setCursorStates(X.source,3,[Kt.fromModelSelection(X.selection)])}})}(on||(on={}));const A1=Rt.Ao.and(wt.u.textInputFocus,wt.u.columnSelection);function Gr(o,e){Bf.W.registerKeybindingRule({id:o,primary:e,when:A1,weight:1})}function Ff(o){return o.register(),o}var Wf,yd;Gr(on.CursorColumnSelectLeft.id,1039),Gr(on.CursorColumnSelectRight.id,1041),Gr(on.CursorColumnSelectUp.id,1040),Gr(on.CursorColumnSelectPageUp.id,1035),Gr(on.CursorColumnSelectDown.id,1042),Gr(on.CursorColumnSelectPageDown.id,1036),function(o){class e extends Et._l{runEditorCommand(i,n,s){const r=n._getViewModel();!r||this.runCoreEditingCommand(n,r,s||{})}}o.CoreEditingCommand=e,o.LineBreakInsert=(0,Et.fK)(new class extends e{constructor(){super({id:"lineBreakInsert",precondition:wt.u.writable,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(t,i,n){t.pushUndoStop(),t.executeCommands(this.id,Ai.lineBreakInsert(i.cursorConfig,i.model,i.getCursorStates().map(s=>s.modelState.selection)))}}),o.Outdent=(0,Et.fK)(new class extends e{constructor(){super({id:"outdent",precondition:wt.u.writable,kbOpts:{weight:0,kbExpr:Rt.Ao.and(wt.u.editorTextFocus,wt.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(t,i,n){t.pushUndoStop(),t.executeCommands(this.id,Ai.outdent(i.cursorConfig,i.model,i.getCursorStates().map(s=>s.modelState.selection))),t.pushUndoStop()}}),o.Tab=(0,Et.fK)(new class extends e{constructor(){super({id:"tab",precondition:wt.u.writable,kbOpts:{weight:0,kbExpr:Rt.Ao.and(wt.u.editorTextFocus,wt.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(t,i,n){t.pushUndoStop(),t.executeCommands(this.id,Ai.tab(i.cursorConfig,i.model,i.getCursorStates().map(s=>s.modelState.selection))),t.pushUndoStop()}}),o.DeleteLeft=(0,Et.fK)(new class extends e{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(t,i,n){const[s,r]=ar.deleteLeft(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection),i.getCursorAutoClosedCharacters());s&&t.pushUndoStop(),t.executeCommands(this.id,r),i.setPrevEditOperationType(2)}}),o.DeleteRight=(0,Et.fK)(new class extends e{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:wt.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(t,i,n){const[s,r]=ar.deleteRight(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection));s&&t.pushUndoStop(),t.executeCommands(this.id,r),i.setPrevEditOperationType(3)}}),o.Undo=new class extends Sd{constructor(){super(Et.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(t,i,n){if(i.hasModel()&&!0!==i.getOption(81))return i.getModel().undo()}},o.Redo=new class extends Sd{constructor(){super(Et.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(t,i,n){if(i.hasModel()&&!0!==i.getOption(81))return i.getModel().redo()}}}(Wf||(Wf={}));class Vf extends Et.mY{constructor(e,t,i){super({id:e,precondition:void 0,description:i}),this._handlerId=t}runCommand(e,t){const i=e.get(Ti.$).getFocusedCodeEditor();!i||i.trigger("keyboard",this._handlerId,t)}}function cr(o,e){Ff(new Vf("default:"+o,o)),Ff(new Vf(o,o,e))}cr("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),cr("replacePreviousChar"),cr("compositionType"),cr("compositionStart"),cr("compositionEnd"),cr("paste"),cr("cut");class P1{constructor(e,t,i,n){this.configuration=e,this.viewModel=t,this.userInputEvents=i,this.commandDelegate=n}paste(e,t,i,n){this.commandDelegate.paste(e,t,i,n)}type(e){this.commandDelegate.type(e)}compositionType(e,t,i,n){this.commandDelegate.compositionType(e,t,i,n)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){on.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new Xe.L(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(70)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(70)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const t=this.configuration.options,i=h.IJ&&t.get(96),n=t.get(18);e.middleButton&&!i?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():3===e.mouseDownCount?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):2===e.mouseDownCount?this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey||n?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)}_usualArgs(e){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e}}moveTo(e){on.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_moveToSelect(e){on.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_columnSelect(e,t,i){e=this._validateViewColumn(e),on.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})}_createCursor(e,t){e=this._validateViewColumn(e),on.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e){on.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelect(e){on.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelectDrag(e){on.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorWordSelect(e){on.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelect(e){on.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelectDrag(e){on.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelect(e){on.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelectDrag(e){on.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_selectAll(){on.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class Bl{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){this.onKeyDown&&this.onKeyDown(e)}emitKeyUp(e){this.onKeyUp&&this.onKeyUp(e)}emitContextMenu(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))}emitMouseMove(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))}emitMouseDown(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))}emitMouseUp(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(e){this.onMouseWheel&&this.onMouseWheel(e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return Bl.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){const i=Object.assign({},e);return i.position&&(i.position=t.convertViewPositionToModelPosition(i.position)),i.range&&(i.range=t.convertViewRangeToModelRange(i.range)),i}}class Hf{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(0===this.getCount())return null;const i=this.getStartLineNumber(),n=this.getEndLineNumber();if(t<i)return this._rendLineNumberStart-=t-e+1,null;if(e>n)return null;let s=0,r=0;for(let l=i;l<=n;l++){const d=l-this._rendLineNumberStart;e<=l&&l<=t&&(0===r?(s=d,r=1):r++)}if(e<i){let l=0;l=t<i?t-e+1:i-e,this._rendLineNumberStart-=l}return this._lines.splice(s,r)}onLinesChanged(e,t){if(0===this.getCount())return!1;const i=this.getStartLineNumber(),n=this.getEndLineNumber();let s=!1;for(let r=e;r<=t;r++)r>=i&&r<=n&&(this._lines[r-this._rendLineNumberStart].onContentChanged(),s=!0);return s}onLinesInserted(e,t){if(0===this.getCount())return null;const i=t-e+1,n=this.getStartLineNumber(),s=this.getEndLineNumber();if(e<=n)return this._rendLineNumberStart+=i,null;if(e>s)return null;if(i+e>s)return this._lines.splice(e-this._rendLineNumberStart,s-e+1);const r=[];for(let m=0;m<i;m++)r[m]=this._createLine();const a=e-this._rendLineNumberStart,l=this._lines.slice(0,a),d=this._lines.slice(a,this._lines.length-i),u=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=l.concat(r).concat(d),u}onTokensChanged(e){if(0===this.getCount())return!1;const t=this.getStartLineNumber(),i=this.getEndLineNumber();let n=!1;for(let s=0,r=e.length;s<r;s++){const a=e[s];if(a.toLineNumber<t||a.fromLineNumber>i)continue;const l=Math.max(t,a.fromLineNumber),d=Math.min(i,a.toLineNumber);for(let u=l;u<=d;u++)this._lines[u-this._rendLineNumberStart].onTokensChanged(),n=!0}return n}}class zf{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new Hf(()=>this._host.createVisibleLine())}_createDomNode(){const e=(0,dt.X)(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(131)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){const t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,n=t.length;i<n;i++){const s=t[i].getDomNode();s&&this.domNode.domNode.removeChild(s)}return!0}onLinesInserted(e){const t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,n=t.length;i<n;i++){const s=t[i].getDomNode();s&&this.domNode.domNode.removeChild(s)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const t=this._linesCollection._get(),s=new yo(this.domNode.domNode,this._host,e).render({rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(s.rendLineNumberStart,s.lines)}}class yo{constructor(e,t,i){this.domNode=e,this.host=t,this.viewportData=i}render(e,t,i,n){const s={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(s.rendLineNumberStart+s.linesLength-1<t||i<s.rendLineNumberStart){s.rendLineNumberStart=t,s.linesLength=i-t+1,s.lines=[];for(let r=t;r<=i;r++)s.lines[r-t]=this.host.createVisibleLine();return this._finishRendering(s,!0,n),s}if(this._renderUntouchedLines(s,Math.max(t-s.rendLineNumberStart,0),Math.min(i-s.rendLineNumberStart,s.linesLength-1),n,t),s.rendLineNumberStart>t){const r=t,a=Math.min(i,s.rendLineNumberStart-1);r<=a&&(this._insertLinesBefore(s,r,a,n,t),s.linesLength+=a-r+1)}else if(s.rendLineNumberStart<t){const r=Math.min(s.linesLength,t-s.rendLineNumberStart);r>0&&(this._removeLinesBefore(s,r),s.linesLength-=r)}if(s.rendLineNumberStart=t,s.rendLineNumberStart+s.linesLength-1<i){const r=s.rendLineNumberStart+s.linesLength,a=i;r<=a&&(this._insertLinesAfter(s,r,a,n,t),s.linesLength+=a-r+1)}else if(s.rendLineNumberStart+s.linesLength-1>i){const r=Math.max(0,i-s.rendLineNumberStart+1),l=s.linesLength-1-r+1;l>0&&(this._removeLinesAfter(s,l),s.linesLength-=l)}return this._finishRendering(s,!1,n),s}_renderUntouchedLines(e,t,i,n,s){const r=e.rendLineNumberStart,a=e.lines;for(let l=t;l<=i;l++){const d=r+l;a[l].layoutLine(d,n[d-s])}}_insertLinesBefore(e,t,i,n,s){const r=[];let a=0;for(let l=t;l<=i;l++)r[a++]=this.host.createVisibleLine();e.lines=r.concat(e.lines)}_removeLinesBefore(e,t){for(let i=0;i<t;i++){const n=e.lines[i].getDomNode();n&&this.domNode.removeChild(n)}e.lines.splice(0,t)}_insertLinesAfter(e,t,i,n,s){const r=[];let a=0;for(let l=t;l<=i;l++)r[a++]=this.host.createVisibleLine();e.lines=e.lines.concat(r)}_removeLinesAfter(e,t){const i=e.linesLength-t;for(let n=0;n<t;n++){const s=e.lines[i+n].getDomNode();s&&this.domNode.removeChild(s)}e.lines.splice(i,t)}_finishRenderingNewLines(e,t,i,n){yo._ttPolicy&&(i=yo._ttPolicy.createHTML(i));const s=this.domNode.lastChild;t||!s?this.domNode.innerHTML=i:s.insertAdjacentHTML("afterend",i);let r=this.domNode.lastChild;for(let a=e.linesLength-1;a>=0;a--){const l=e.lines[a];n[a]&&(l.setDomNode(r),r=r.previousSibling)}}_finishRenderingInvalidLines(e,t,i){const n=document.createElement("div");yo._ttPolicy&&(t=yo._ttPolicy.createHTML(t)),n.innerHTML=t;for(let s=0;s<e.linesLength;s++){const r=e.lines[s];if(i[s]){const a=n.firstChild,l=r.getDomNode();l.parentNode.replaceChild(a,l),r.setDomNode(a)}}}_finishRendering(e,t,i){const n=yo._sb,s=e.linesLength,r=e.lines,a=e.rendLineNumberStart,l=[];{n.reset();let d=!1;for(let u=0;u<s;u++){const m=r[u];l[u]=!1,!m.getDomNode()&&m.renderLine(u+a,i[u],this.viewportData,n)&&(l[u]=!0,d=!0)}d&&this._finishRenderingNewLines(e,t,n.build(),l)}{n.reset();let d=!1;const u=[];for(let m=0;m<s;m++){const C=r[m];u[m]=!1,!l[m]&&C.renderLine(m+a,i[m],this.viewportData,n)&&(u[m]=!0,d=!0)}d&&this._finishRenderingInvalidLines(e,n.build(),u)}}}yo._ttPolicy=null===(yd=window.trustedTypes)||void 0===yd?void 0:yd.createPolicy("editorViewLayer",{createHTML:o=>o}),yo._sb=(0,Sl.l$)(1e5);class Uf extends ls{constructor(e){super(e),this._visibleLines=new zf(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new B1(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++)this._visibleLines.getVisibleLine(n).onConfigurationChanged(e);return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const t=this._dynamicOverlays.filter(i=>i.shouldRender());for(let i=0,n=t.length;i<n;i++){const s=t[i];s.prepareRender(e),s.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class B1{constructor(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(59),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=(0,dt.X)(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(59)}renderLine(e,t,i,n){let s="";for(let r=0,a=this._dynamicOverlays.length;r<a;r++)s+=this._dynamicOverlays[r].render(i.startLineNumber,e);return this._renderedContent!==s&&(this._renderedContent=s,n.appendASCIIString('<div style="position:absolute;top:'),n.appendASCIIString(String(t)),n.appendASCIIString("px;width:100%;height:"),n.appendASCIIString(String(this._lineHeight)),n.appendASCIIString('px;">'),n.appendASCIIString(s),n.appendASCIIString("</div>"),!0)}layoutLine(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}}class F1 extends Uf{constructor(e){super(e);const i=this._context.configuration.options.get(131);this._contentWidth=i.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const i=this._context.configuration.options.get(131);return this._contentWidth=i.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class W1 extends Uf{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(131);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),Bi(this.domNode,t.get(44))}onConfigurationChanged(e){const t=this._context.configuration.options;Bi(this.domNode,t.get(44));const i=t.get(131);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}class Ra{constructor(e,t){this._coordinateBrand=void 0,this.top=e,this.left=t}}class V1 extends ls{constructor(e,t){super(e),this._viewDomNode=t,this._widgets={},this.domNode=(0,dt.X)(document.createElement("div")),Qs.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,dt.X)(document.createElement("div")),Qs.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){const t=new H1(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,i){this._widgets[e.getId()].setPosition(t,i),this.setShouldRender()}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const i=this._widgets[t];delete this._widgets[t];const n=i.domNode.domNode;n.parentNode.removeChild(n),n.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return!!this._widgets.hasOwnProperty(e)&&this._widgets[e].suppressMouseDown}onBeforeRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onBeforeRender(e)}prepareRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].prepareRender(e)}render(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].render(e)}}class H1{constructor(e,t,i){this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=(0,dt.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const n=this._context.configuration.options,s=n.get(131);this._fixedOverflowWidgets=n.get(36),this._contentWidth=s.contentWidth,this._contentLeft=s.contentLeft,this._lineHeight=n.get(59),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const t=this._context.configuration.options;if(this._lineHeight=t.get(59),e.hasChanged(131)){const i=t.get(131);this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range)}_setPosition(e){if(this._range=e,this._viewRange=null,this._range){const t=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(t.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(t.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(t))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(e,t){this._setPosition(e),this._preference=t,this.domNode.setDisplay(this._viewRange&&this._preference&&this._preference.length>0?"block":"none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(e,t,i,n,s){const r=e.top,l=t.top+this._lineHeight;let M=e.left,j=t.left;return M+i>s.scrollLeft+s.viewportWidth&&(M=s.scrollLeft+s.viewportWidth-i),j+i>s.scrollLeft+s.viewportWidth&&(j=s.scrollLeft+s.viewportWidth-i),M<s.scrollLeft&&(M=s.scrollLeft),j<s.scrollLeft&&(j=s.scrollLeft),{fitsAbove:r>=n,aboveTop:r-n,aboveLeft:M,fitsBelow:s.viewportHeight-l>=n,belowTop:l,belowLeft:j}}_layoutHorizontalSegmentInPage(e,t,i,n){const s=Math.max(0,t.left-n),r=Math.min(t.left+t.width+n,e.width);let a=t.left+i-ue.DI.scrollX;if(a+n>r){const l=a-(r-n);a-=l,i-=l}if(a<s){const l=a-s;a-=l,i-=l}return[i,a]}_layoutBoxInPage(e,t,i,n,s){const r=e.top-n,a=t.top+this._lineHeight,l=ue.i(this._viewDomNode.domNode),d=l.top+r-ue.DI.scrollY,u=l.top+a-ue.DI.scrollY,m=ue.D6(document.body),[C,S]=this._layoutHorizontalSegmentInPage(m,l,e.left-s.scrollLeft+this._contentLeft,i),[M,j]=this._layoutHorizontalSegmentInPage(m,l,t.left-s.scrollLeft+this._contentLeft,i),X=d>=22,le=u+n<=m.height-22;return this._fixedOverflowWidgets?{fitsAbove:X,aboveTop:Math.max(d,22),aboveLeft:S,fitsBelow:le,belowTop:u,belowLeft:j}:{fitsAbove:X,aboveTop:r,aboveLeft:C,fitsBelow:le,belowTop:a,belowLeft:M}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new Ra(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];const t=e.linesVisibleRangesForRange(this._viewRange,!1);if(!t||0===t.length)return[null,null];let i=t[0],n=t[0];for(const m of t)m.lineNumber<i.lineNumber&&(i=m),m.lineNumber>n.lineNumber&&(n=m);let s=1073741824;for(const m of i.ranges)m.left<s&&(s=m.left);let r=1073741824;for(const m of n.ranges)m.left<r&&(r=m.left);const a=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.scrollTop,l=new Ra(a,s),d=e.getVerticalOffsetForLineNumber(n.lineNumber)-e.scrollTop;return[l,new Ra(d,r)]}_prepareRenderWidget(e){if(!this._preference||0===this._preference.length)return null;const[t,i]=this._getTopAndBottomLeft(e);if(!t||!i)return null;if(-1===this._cachedDomNodeOffsetWidth||-1===this._cachedDomNodeOffsetHeight){let s=null;if("function"==typeof this._actual.beforeRender&&(s=Ld(this._actual.beforeRender,this._actual)),s)this._cachedDomNodeOffsetWidth=s.width,this._cachedDomNodeOffsetHeight=s.height;else{const r=this.domNode.domNode;this._cachedDomNodeOffsetWidth=r.offsetWidth,this._cachedDomNodeOffsetHeight=r.offsetHeight}}let n;n=this.allowEditorOverflow?this._layoutBoxInPage(t,i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e):this._layoutBoxInViewport(t,i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e);for(let s=1;s<=2;s++)for(const r of this._preference)if(1===r){if(!n)return null;if(2===s||n.fitsAbove)return{coordinate:new Ra(n.aboveTop,n.aboveLeft),position:1}}else{if(2!==r)return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(t),position:0}:{coordinate:t,position:0};if(!n)return null;if(2===s||n.fitsBelow)return{coordinate:new Ra(n.belowTop,n.belowLeft),position:2}}return null}onBeforeRender(e){!this._viewRange||!this._preference||this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData)return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),void("function"==typeof this._actual.afterRender&&Ld(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),"function"==typeof this._actual.afterRender&&Ld(this._actual.afterRender,this._actual,this._renderData.position)}}function Ld(o,e,...t){try{return o.call(e,...t)}catch(i){return null}}L(26964);class jf extends zr{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(131);this._lineHeight=t.get(59),this._renderLineHighlight=t.get(85),this._renderLineHighlightOnlyWhenFocus=t.get(86),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new Xt.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const t=this._selections.map(n=>n.positionLineNumber);t.sort((n,s)=>n-s),y.fS(this._cursorLineNumbers,t)||(this._cursorLineNumbers=t,e=!0);const i=this._selections.every(n=>n.isEmpty());return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(131);return this._lineHeight=t.get(59),this._renderLineHighlight=t.get(85),this._renderLineHighlightOnlyWhenFocus=t.get(86),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=e.isFocused,!0)}prepareRender(e){if(!this._shouldRenderThis())return void(this._renderData=null);const t=this._renderOne(e),i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,s=this._cursorLineNumbers.length;let r=0;const a=[];for(let l=i;l<=n;l++){const d=l-i;for(;r<s&&this._cursorLineNumbers[r]<l;)r++;a[d]=r<s&&this._cursorLineNumbers[r]===l?t:""}this._renderData=a}render(e,t){if(!this._renderData)return"";const i=t-e;return i>=this._renderData.length?"":this._renderData[i]}_shouldRenderInMargin(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class z1 extends jf{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class U1 extends jf{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}(0,Ut.Ic)((o,e)=>{const t=o.getColor(si.Kh);if(t&&(e.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||o.defines(si.Mm)){const i=o.getColor(si.Mm);i&&(e.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${i}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${i}; }`),"hc"===o.type&&(e.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}}),L(32830);class j1 extends zr{constructor(e){super(),this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(59),this._typicalHalfwidthCharacterWidth=t.get(44).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(59),this._typicalHalfwidthCharacterWidth=t.get(44).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let l=0,d=t.length;l<d;l++){const u=t[l];u.options.className&&(i[n++]=u)}i=i.sort((l,d)=>{if(l.options.zIndex<d.options.zIndex)return-1;if(l.options.zIndex>d.options.zIndex)return 1;const u=l.options.className,m=d.options.className;return u<m?-1:u>m?1:Ze.e.compareRangesUsingStarts(l.range,d.range)});const s=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,a=[];for(let l=s;l<=r;l++)a[l-s]="";this._renderWholeLineDecorations(e,i,a),this._renderNormalDecorations(e,i,a),this._renderResult=a}_renderWholeLineDecorations(e,t,i){const n=String(this._lineHeight),s=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber;for(let a=0,l=t.length;a<l;a++){const d=t[a];if(!d.options.isWholeLine)continue;const u='<div class="cdr '+d.options.className+'" style="left:0;width:100%;height:'+n+'px;"></div>',m=Math.max(d.range.startLineNumber,s),C=Math.min(d.range.endLineNumber,r);for(let S=m;S<=C;S++)i[S-s]+=u}}_renderNormalDecorations(e,t,i){const n=String(this._lineHeight),s=e.visibleRange.startLineNumber;let r=null,a=!1,l=null;for(let d=0,u=t.length;d<u;d++){const m=t[d];if(m.options.isWholeLine)continue;const C=m.options.className,S=Boolean(m.options.showIfCollapsed);let M=m.range;S&&1===M.endColumn&&M.endLineNumber!==M.startLineNumber&&(M=new Ze.e(M.startLineNumber,M.startColumn,M.endLineNumber-1,this._context.model.getLineMaxColumn(M.endLineNumber-1))),r===C&&a===S&&Ze.e.areIntersectingOrTouching(l,M)?l=Ze.e.plusRange(l,M):(null!==r&&this._renderNormalDecoration(e,l,r,a,n,s,i),r=C,a=S,l=M)}null!==r&&this._renderNormalDecoration(e,l,r,a,n,s,i)}_renderNormalDecoration(e,t,i,n,s,r,a){const l=e.linesVisibleRangesForRange(t,"findMatch"===i);if(l)for(let d=0,u=l.length;d<u;d++){const m=l[d];if(m.outsideRenderedLine)continue;const C=m.lineNumber-r;if(n&&1===m.ranges.length){const S=m.ranges[0];if(S.width<this._typicalHalfwidthCharacterWidth){const M=Math.round(S.left+S.width/2),j=Math.max(0,Math.round(M-this._typicalHalfwidthCharacterWidth/2));m.ranges[0]=new Nl(j,this._typicalHalfwidthCharacterWidth)}}for(let S=0,M=m.ranges.length;S<M;S++){const j=m.ranges[S],J='<div class="cdr '+i+'" style="left:'+String(j.left)+"px;width:"+String(j.width)+"px;height:"+s+'px;"></div>';a[C]+=J}}}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}var Oa=L(48152);class K1 extends ls{constructor(e,t,i,n){super(e);const s=this._context.configuration.options,r=s.get(92),a=s.get(67),l=s.get(34),d=s.get(95),u={listenOnDomNode:i.domNode,className:"editor-scrollable "+(0,Ut.m6)(e.theme.type),useShadows:!1,lazyRender:!0,vertical:r.vertical,horizontal:r.horizontal,verticalHasArrows:r.verticalHasArrows,horizontalHasArrows:r.horizontalHasArrows,verticalScrollbarSize:r.verticalScrollbarSize,verticalSliderSize:r.verticalSliderSize,horizontalScrollbarSize:r.horizontalScrollbarSize,horizontalSliderSize:r.horizontalSliderSize,handleMouseWheel:r.handleMouseWheel,alwaysConsumeMouseWheel:r.alwaysConsumeMouseWheel,arrowSize:r.arrowSize,mouseWheelScrollSensitivity:a,fastScrollSensitivity:l,scrollPredominantAxis:d,scrollByPage:r.scrollByPage};this.scrollbar=this._register(new Oa.$Z(t.domNode,u,this._context.viewLayout.getScrollable())),Qs.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,dt.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const m=(C,S,M)=>{const j={};if(S){const J=C.scrollTop;J&&(j.scrollTop=this._context.viewLayout.getCurrentScrollTop()+J,C.scrollTop=0)}if(M){const J=C.scrollLeft;J&&(j.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+J,C.scrollLeft=0)}this._context.model.setScrollPosition(j,1)};this._register(ue.nm(i.domNode,"scroll",C=>m(i.domNode,!0,!0))),this._register(ue.nm(t.domNode,"scroll",C=>m(t.domNode,!0,!1))),this._register(ue.nm(n.domNode,"scroll",C=>m(n.domNode,!0,!1))),this._register(ue.nm(this.scrollbarDomNode.domNode,"scroll",C=>m(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,t=e.get(131);this.scrollbarDomNode.setLeft(t.contentLeft),"right"===e.get(65).side?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)}onConfigurationChanged(e){if(e.hasChanged(92)||e.hasChanged(67)||e.hasChanged(34)){const t=this._context.configuration.options,i=t.get(92),n=t.get(67),s=t.get(34),r=t.get(95);this.scrollbar.updateOptions({vertical:i.vertical,horizontal:i.horizontal,verticalScrollbarSize:i.verticalScrollbarSize,horizontalScrollbarSize:i.horizontalScrollbarSize,scrollByPage:i.scrollByPage,handleMouseWheel:i.handleMouseWheel,mouseWheelScrollSensitivity:n,fastScrollSensitivity:s,scrollPredominantAxis:r})}return e.hasChanged(131)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+(0,Ut.m6)(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}(0,Ut.Ic)((o,e)=>{const t=o.getColor(it._wn);t&&e.addRule(`\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tbox-shadow: ${t} 0 6px 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tbox-shadow: ${t} 6px 0 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\tbox-shadow: ${t} 6px 6px 6px -6px inset;\n\t\t\t}\n\t\t`);const i=o.getColor(it.etL);i&&e.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\tbackground: ${i};\n\t\t\t}\n\t\t`);const n=o.getColor(it.ABB);n&&e.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\tbackground: ${n};\n\t\t\t}\n\t\t`);const s=o.getColor(it.ynu);s&&e.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\tbackground: ${s};\n\t\t\t}\n\t\t`)}),L(83196);class Fl{constructor(e,t,i){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(i)}}class Ed extends zr{_render(e,t,i){const n=[];for(let a=e;a<=t;a++)n[a-e]=[];if(0===i.length)return n;i.sort((a,l)=>a.className===l.className?a.startLineNumber===l.startLineNumber?a.endLineNumber-l.endLineNumber:a.startLineNumber-l.startLineNumber:a.className<l.className?-1:1);let s=null,r=0;for(let a=0,l=i.length;a<l;a++){const d=i[a],u=d.className;let m=Math.max(d.startLineNumber,e)-e;const C=Math.min(d.endLineNumber,t)-e;s===u?(m=Math.max(r+1,m),r=Math.max(r,C)):(s=u,r=C);for(let S=m;S<=r;S++)n[S].push(s)}return n}}class $1 extends Ed{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(131);this._lineHeight=t.get(59),this._glyphMargin=t.get(50),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(131);return this._lineHeight=t.get(59),this._glyphMargin=t.get(50),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let n=0;for(let s=0,r=t.length;s<r;s++){const a=t[s],l=a.options.glyphMarginClassName;l&&(i[n++]=new Fl(a.range.startLineNumber,a.range.endLineNumber,l))}return i}prepareRender(e){if(!this._glyphMargin)return void(this._renderResult=null);const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),s=this._lineHeight.toString(),l='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+s+'px;"></div>',d=[];for(let u=t;u<=i;u++){const m=u-t,C=n[m];d[m]=0===C.length?"":'<div class="cgmr codicon '+C.join(" ")+l}this._renderResult=d}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}L(73382);var G1=L(88662),Zr=L(52904);class Z1 extends zr{constructor(e){super(),this._context=e,this._primaryPosition=null;const t=this._context.configuration.options,i=t.get(132),n=t.get(44);this._lineHeight=t.get(59),this._spaceWidth=n.spaceWidth,this._maxIndentLeft=-1===i.wrappingColumn?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(132),n=t.get(44);return this._lineHeight=t.get(59),this._spaceWidth=n.spaceWidth,this._maxIndentLeft=-1===i.wrappingColumn?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),!0}onCursorStateChanged(e){var t;const n=e.selections[0].getPosition();return!(null===(t=this._primaryPosition)||void 0===t?void 0:t.equals(n))&&(this._primaryPosition=n,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var t,i,n,s;if(!this._bracketPairGuideOptions.indentation&&!1===this._bracketPairGuideOptions.bracketPairs)return void(this._renderResult=null);const r=e.visibleRange.startLineNumber,a=e.visibleRange.endLineNumber,l=e.scrollWidth,d=this._lineHeight,m=this.getGuidesByLine(r,a,this._primaryPosition),C=[];for(let S=r;S<=a;S++){const M=S-r,j=m[M];let J="";const ne=null!==(i=null===(t=e.visibleRangeForPosition(new Xe.L(S,1)))||void 0===t?void 0:t.left)&&void 0!==i?i:0;for(const X of j){const le=ne+(X.visibleColumn-1)*this._spaceWidth;if(le>l||this._maxIndentLeft>0&&le>this._maxIndentLeft)break;const Ce=X.horizontalLine?X.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",ke=X.horizontalLine?(null!==(s=null===(n=e.visibleRangeForPosition(new Xe.L(S,X.horizontalLine.endColumn)))||void 0===n?void 0:n.left)&&void 0!==s?s:le+this._spaceWidth)-le:this._spaceWidth;J+=`<div class="core-guide ${X.className} ${Ce}" style="left:${le}px;height:${d}px;width:${ke}px"></div>`}C[M]=J}this._renderResult=C}getGuidesByLine(e,t,i){const n=!1!==this._bracketPairGuideOptions.bracketPairs?this._context.model.getBracketGuidesInRangeByLine(e,t,i,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:!0===this._bracketPairGuideOptions.bracketPairsHorizontal?Zr.s6.Enabled:"active"===this._bracketPairGuideOptions.bracketPairsHorizontal?Zr.s6.EnabledForActive:Zr.s6.Disabled,includeInactive:!0===this._bracketPairGuideOptions.bracketPairs}):null,s=this._bracketPairGuideOptions.indentation?this._context.model.getLinesIndentGuides(e,t):null;let r=0,a=0,l=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&i){const m=this._context.model.getActiveIndentGuide(i.lineNumber,e,t);r=m.startLineNumber,a=m.endLineNumber,l=m.indent}const{indentSize:d}=this._context.model.getTextModelOptions(),u=[];for(let m=e;m<=t;m++){const C=new Array;u.push(C);const S=n?n[m-e]:[],M=new y.H9(S),j=s?s[m-e]:[];for(let J=1;J<=j;J++){const ne=(J-1)*d+1,X=0===S.length&&r<=m&&m<=a&&J===l;C.push(...M.takeWhile(Ce=>Ce.visibleColumn<ne)||[]);const le=M.peek();(!le||le.visibleColumn!==ne||le.horizontalLine)&&C.push(new Zr.UO(ne,X?"core-guide-indent-active":"core-guide-indent",null))}C.push(...M.takeWhile(J=>!0)||[])}return u}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}function Wl(o){if(!o||!o.isTransparent())return o}(0,Ut.Ic)((o,e)=>{const t=o.getColor(si.tR);t&&e.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${t} inset; }`);const i=o.getColor(si.Ym)||t;i&&e.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${i} inset; }`);const n=[{bracketColor:si.zJ,guideColor:si.oV,guideColorActive:si.Qb},{bracketColor:si.Vs,guideColor:si.m$,guideColorActive:si.m3},{bracketColor:si.CE,guideColor:si.DS,guideColorActive:si.To},{bracketColor:si.UP,guideColor:si.lS,guideColorActive:si.L7},{bracketColor:si.r0,guideColor:si.Jn,guideColorActive:si.HV},{bracketColor:si.m1,guideColor:si.YF,guideColorActive:si.f9}],s=new G1.W,r=n.map(a=>{var l,d;const u=o.getColor(a.bracketColor),m=o.getColor(a.guideColor),C=o.getColor(a.guideColorActive),S=Wl(null!==(l=Wl(m))&&void 0!==l?l:null==u?void 0:u.transparent(.3)),M=Wl(null!==(d=Wl(C))&&void 0!==d?d:u);if(S&&M)return{guideColor:S,guideColorActive:M}}).filter(be.$K);if(r.length>0){for(let a=0;a<30;a++){const l=r[a%r.length];e.addRule(`.monaco-editor .${s.getInlineClassNameOfLevel(a).replace(/ /g,".")} { --guide-color: ${l.guideColor}; --guide-color-active: ${l.guideColorActive}; }`)}e.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),e.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),e.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),e.addRule(`.monaco-editor .vertical.${s.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),e.addRule(`.monaco-editor .horizontal-top.${s.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),e.addRule(`.monaco-editor .horizontal-bottom.${s.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}}),L(95632);class q1{constructor(){this._currentVisibleRange=new Ze.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class Y1{constructor(e,t,i,n,s,r,a){this.minimalReveal=e,this.lineNumber=t,this.startColumn=i,this.endColumn=n,this.startScrollTop=s,this.stopScrollTop=r,this.scrollType=a,this.type="range",this.minLineNumber=t,this.maxLineNumber=t}}class Q1{constructor(e,t,i,n,s){this.minimalReveal=e,this.selections=t,this.startScrollTop=i,this.stopScrollTop=n,this.scrollType=s,this.type="selections";let r=t[0].startLineNumber,a=t[0].endLineNumber;for(let l=1,d=t.length;l<d;l++){const u=t[l];r=Math.min(r,u.startLineNumber),a=Math.max(a,u.endLineNumber)}this.minLineNumber=r,this.maxLineNumber=a}}let X1=(()=>{class o extends ls{constructor(t,i){super(t),this._linesContent=i,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new zf(this),this.domNode=this._visibleLines.domNode;const n=this._context.configuration,s=this._context.configuration.options,r=s.get(44),a=s.get(132),l=s.get(131);this._lineHeight=s.get(59),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._isViewportWrapping=a.isViewportWrapping,this._revealHorizontalRightPadding=s.get(89),this._horizontalScrollbarHeight=l.horizontalScrollbarHeight,this._cursorSurroundingLines=s.get(25),this._cursorSurroundingLinesStyle=s.get(26),this._canUseLayerHinting=!s.get(28),this._viewLineOptions=new Ef(n,this._context.theme.type),Qs.write(this.domNode,7),this.domNode.setClassName(`view-lines ${or}`),Bi(this.domNode,r),this._maxLineWidth=0,this._asyncUpdateLineWidths=new se.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new se.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new q1,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new ir(this._viewLineOptions)}onConfigurationChanged(t){this._visibleLines.onConfigurationChanged(t),t.hasChanged(132)&&(this._maxLineWidth=0);const i=this._context.configuration.options,n=i.get(44),s=i.get(132),r=i.get(131);return this._lineHeight=i.get(59),this._typicalHalfwidthCharacterWidth=n.typicalHalfwidthCharacterWidth,this._isViewportWrapping=s.isViewportWrapping,this._revealHorizontalRightPadding=i.get(89),this._horizontalScrollbarHeight=r.horizontalScrollbarHeight,this._cursorSurroundingLines=i.get(25),this._cursorSurroundingLinesStyle=i.get(26),this._canUseLayerHinting=!i.get(28),Bi(this.domNode,n),this._onOptionsMaybeChanged(),t.hasChanged(131)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const i=new Ef(this._context.configuration,this._context.theme.type);if(!this._viewLineOptions.equals(i)){this._viewLineOptions=i;const n=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();for(let r=n;r<=s;r++)this._visibleLines.getVisibleLine(r).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(t){const i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();let s=!1;for(let r=i;r<=n;r++)s=this._visibleLines.getVisibleLine(r).onSelectionChanged()||s;return s}onDecorationsChanged(t){{const i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let s=i;s<=n;s++)this._visibleLines.getVisibleLine(s).onDecorationsChanged()}return!0}onFlushed(t){const i=this._visibleLines.onFlushed(t);return this._maxLineWidth=0,i}onLinesChanged(t){return this._visibleLines.onLinesChanged(t)}onLinesDeleted(t){return this._visibleLines.onLinesDeleted(t)}onLinesInserted(t){return this._visibleLines.onLinesInserted(t)}onRevealRangeRequest(t){const i=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),t.source,t.minimalReveal,t.range,t.selections,t.verticalType);if(-1===i)return!1;let n=this._context.viewLayout.validateScrollPosition({scrollTop:i});t.revealHorizontal?t.range&&t.range.startLineNumber!==t.range.endLineNumber?n={scrollTop:n.scrollTop,scrollLeft:0}:t.range?this._horizontalRevealRequest=new Y1(t.minimalReveal,t.range.startLineNumber,t.range.startColumn,t.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),n.scrollTop,t.scrollType):t.selections&&t.selections.length>0&&(this._horizontalRevealRequest=new Q1(t.minimalReveal,t.selections,this._context.viewLayout.getCurrentScrollTop(),n.scrollTop,t.scrollType)):this._horizontalRevealRequest=null;const r=Math.abs(this._context.viewLayout.getCurrentScrollTop()-n.scrollTop)<=this._lineHeight?1:t.scrollType;return this._context.model.setScrollPosition(n,r),!0}onScrollChanged(t){if(this._horizontalRevealRequest&&t.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&t.scrollTopChanged){const i=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),n=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(t.scrollTop<i||t.scrollTop>n)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(t.scrollWidth),this._visibleLines.onScrollChanged(t)||!0}onTokensChanged(t){return this._visibleLines.onTokensChanged(t)}onZonesChanged(t){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(t)}onThemeChanged(t){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(t,i){const n=this._getViewLineDomNode(t);if(null===n)return null;const s=this._getLineNumberFor(n);if(-1===s||s<1||s>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(s))return new Xe.L(s,1);const r=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();if(s<r||s>a)return null;let l=this._visibleLines.getVisibleLine(s).getColumnOfNodeOffset(s,t,i);const d=this._context.model.getLineMinColumn(s);return l<d&&(l=d),new Xe.L(s,l)}_getViewLineDomNode(t){for(;t&&1===t.nodeType;){if(t.className===ir.CLASS_NAME)return t;t=t.parentElement}return null}_getLineNumberFor(t){const i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let s=i;s<=n;s++)if(t===this._visibleLines.getVisibleLine(s).getDomNode())return s;return-1}getLineWidth(t){const i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();return t<i||t>n?-1:this._visibleLines.getVisibleLine(t).getWidth()}linesVisibleRangesForRange(t,i){if(this.shouldRender())return null;const n=t.endLineNumber,s=Ze.e.intersectRanges(t,this._lastRenderedData.getCurrentVisibleRange());if(!s)return null;let r=[],a=0;const l=new Lf(this.domNode.domNode,this._textRangeRestingSpot);let d=0;i&&(d=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Xe.L(s.startLineNumber,1)).lineNumber);const u=this._visibleLines.getStartLineNumber(),m=this._visibleLines.getEndLineNumber();for(let C=s.startLineNumber;C<=s.endLineNumber;C++){if(C<u||C>m)continue;const S=C===s.startLineNumber?s.startColumn:1,M=C===s.endLineNumber?s.endColumn:this._context.model.getLineMaxColumn(C),j=this._visibleLines.getVisibleLine(C).getVisibleRangesForRange(C,S,M,l);if(j){if(i&&C<n){const J=d;d=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Xe.L(C+1,1)).lineNumber,J!==d&&(j.ranges[j.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}r[a++]=new d1(j.outsideRenderedLine,C,Nl.from(j.ranges))}}return 0===a?null:r}_visibleRangesForLineRange(t,i,n){return this.shouldRender()||t<this._visibleLines.getStartLineNumber()||t>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(t).getVisibleRangesForRange(t,i,n,new Lf(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(t){const i=this._visibleRangesForLineRange(t.lineNumber,t.column,t.column);return i?new h1(i.outsideRenderedLine,i.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(t){const i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();let s=1,r=!0;for(let a=i;a<=n;a++){const l=this._visibleLines.getVisibleLine(a);!t||l.getWidthIsFast()?s=Math.max(s,l.getWidth()):r=!1}return r&&1===i&&n===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(s),r}_checkMonospaceFontAssumptions(){let t=-1,i=-1;const n=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();for(let r=n;r<=s;r++){const a=this._visibleLines.getVisibleLine(r);if(a.needsMonospaceFontCheck()){const l=a.getWidth();l>i&&(i=l,t=r)}}if(-1!==t&&!this._visibleLines.getVisibleLine(t).monospaceAssumptionsAreValid())for(let r=n;r<=s;r++)this._visibleLines.getVisibleLine(r).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(t){if(this._visibleLines.renderLines(t),this._lastRenderedData.setCurrentVisibleRange(t.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const n=this._horizontalRevealRequest;if(t.startLineNumber<=n.minLineNumber&&n.maxLineNumber<=t.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const s=this._computeScrollLeftToReveal(n);s&&(this._isViewportWrapping||this._ensureMaxLineWidth(s.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:s.scrollLeft},n.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),h.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const n=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();for(let r=n;r<=s;r++)if(this._visibleLines.getVisibleLine(r).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const i=this._context.viewLayout.getCurrentScrollTop()-t.bigNumbersDelta;this._linesContent.setTop(-i),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(t){const i=Math.ceil(t);this._maxLineWidth<i&&(this._maxLineWidth=i,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(t,i,n,s,r,a){const l=t.top,d=t.height,u=l+d;let m,C,S,j;if(r&&r.length>0){let J=r[0].startLineNumber,ne=r[0].endLineNumber;for(let X=1,le=r.length;X<le;X++){const Ce=r[X];J=Math.min(J,Ce.startLineNumber),ne=Math.max(ne,Ce.endLineNumber)}m=!1,C=this._context.viewLayout.getVerticalOffsetForLineNumber(J),S=this._context.viewLayout.getVerticalOffsetForLineNumber(ne)+this._lineHeight}else{if(!s)return-1;m=!0,C=this._context.viewLayout.getVerticalOffsetForLineNumber(s.startLineNumber),S=this._context.viewLayout.getVerticalOffsetForLineNumber(s.endLineNumber)+this._lineHeight}if("mouse"!==i&&!n||"default"!==this._cursorSurroundingLinesStyle){const J=Math.min(d/this._lineHeight/2,this._cursorSurroundingLines);C-=J*this._lineHeight,S+=Math.max(0,J-1)*this._lineHeight}else n||(C-=this._lineHeight);if((0===a||4===a)&&(S+=n?this._horizontalScrollbarHeight:this._lineHeight),S-C>d){if(!m)return-1;j=C}else if(5===a||6===a)if(6===a&&l<=C&&S<=u)j=l;else{const J=Math.max(5*this._lineHeight,.2*d);j=Math.max(S-d,C-J)}else j=1===a||2===a?2===a&&l<=C&&S<=u?l:Math.max(0,(C+S)/2-d/2):this._computeMinimumScrolling(l,u,C,S,3===a,4===a);return j}_computeScrollLeftToReveal(t){const i=this._context.viewLayout.getCurrentViewport(),n=i.left,s=n+i.width;let r=1073741824,a=0;if("range"===t.type){const d=this._visibleRangesForLineRange(t.lineNumber,t.startColumn,t.endColumn);if(!d)return null;for(const u of d.ranges)r=Math.min(r,Math.round(u.left)),a=Math.max(a,Math.round(u.left+u.width))}else for(const d of t.selections){if(d.startLineNumber!==d.endLineNumber)return null;const u=this._visibleRangesForLineRange(d.startLineNumber,d.startColumn,d.endColumn);if(!u)return null;for(const m of u.ranges)r=Math.min(r,Math.round(m.left)),a=Math.max(a,Math.round(m.left+m.width))}return t.minimalReveal||(r=Math.max(0,r-o.HORIZONTAL_EXTRA_PX),a+=this._revealHorizontalRightPadding),"selections"===t.type&&a-r>i.width?null:{scrollLeft:this._computeMinimumScrolling(n,s,r,a),maxHorizontalOffset:a}}_computeMinimumScrolling(t,i,n,s,r,a){r=!!r,a=!!a;const l=(i|=0)-(t|=0);return(s|=0)-(n|=0)<l?r?n:a?Math.max(0,s-l):n<t?n:s>i?Math.max(0,s-l):t:n}}return o.HORIZONTAL_EXTRA_PX=30,o})();L(91594);class J1 extends Ed{constructor(e){super(),this._context=e;const i=this._context.configuration.options.get(131);this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const i=this._context.configuration.options.get(131);return this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let n=0;for(let s=0,r=t.length;s<r;s++){const a=t[s],l=a.options.linesDecorationsClassName;l&&(i[n++]=new Fl(a.range.startLineNumber,a.range.endLineNumber,l));const d=a.options.firstLineDecorationClassName;d&&(i[n++]=new Fl(a.range.startLineNumber,a.range.startLineNumber,d))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),a='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',l=[];for(let d=t;d<=i;d++){const u=d-t,m=n[u];let C="";for(let S=0,M=m.length;S<M;S++)C+='<div class="cldr '+m[S]+a;l[u]=C}this._renderResult=l}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}L(15994);class e0 extends Ed{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let n=0;for(let s=0,r=t.length;s<r;s++){const a=t[s],l=a.options.marginClassName;l&&(i[n++]=new Fl(a.range.startLineNumber,a.range.endLineNumber,l))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),s=[];for(let r=t;r<=i;r++){const a=r-t,l=n[a];let d="";for(let u=0,m=l.length;u<m;u++)d+='<div class="cmdr '+l[u]+'" style=""></div>';s[a]=d}this._renderResult=s}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}L(41215);class cs{constructor(e,t,i,n){this._rgba8Brand=void 0,this.r=cs._clamp(e),this.g=cs._clamp(t),this.b=cs._clamp(i),this.a=cs._clamp(n)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:0|e}}cs.Empty=new cs(0,0,0,0);let Kf=(()=>{class o extends ze.JT{constructor(){super(),this._onDidChange=new Be.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(rt.RW.onDidChange(t=>{t.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,ze.dk)(new o)),this._INSTANCE}_updateColorMap(){const t=rt.RW.getColorMap();if(!t)return this._colors=[cs.Empty],void(this._backgroundIsLight=!0);this._colors=[cs.Empty];for(let n=1;n<t.length;n++){const s=t[n].rgba;this._colors[n]=new cs(s.r,s.g,s.b,Math.round(255*s.a))}const i=t[2].getRelativeLuminance();this._backgroundIsLight=i>=.5,this._onDidChange.fire(void 0)}getColor(t){return(t<1||t>=this._colors.length)&&(t=2),this._colors[t]}backgroundIsLight(){return this._backgroundIsLight}}return o._INSTANCE=null,o})();const t0=(()=>{const o=[];for(let e=32;e<=126;e++)o.push(e);return o.push(65533),o})();class Aa{constructor(e,t){this.scale=t,this._minimapCharRendererBrand=void 0,this.charDataNormal=Aa.soften(e,.8),this.charDataLight=Aa.soften(e,50/60)}static soften(e,t){const i=new Uint8ClampedArray(e.length);for(let n=0,s=e.length;n<s;n++)i[n]=(0,c.K)(e[n]*t);return i}renderChar(e,t,i,n,s,r,a,l,d,u,m){const C=1*this.scale,S=2*this.scale,M=m?1:S;if(t+C>e.width||i+M>e.height)return void console.warn("bad render request outside image data");const j=u?this.charDataLight:this.charDataNormal,J=((o,e)=>(o-=32)<0||o>96?e<=2?(o+96)%96:95:o)(n,d),ne=4*e.width,X=a.r,le=a.g,Ce=a.b,ke=s.r-X,Ne=s.g-le,ve=s.b-Ce,pe=Math.max(r,l),Te=e.data;let Qe=J*C*S,Pe=i*ne+4*t;for(let et=0;et<M;et++){let ot=Pe;for(let Nt=0;Nt<C;Nt++){const kt=j[Qe++]/255*(r/255);Te[ot++]=X+ke*kt,Te[ot++]=le+Ne*kt,Te[ot++]=Ce+ve*kt,Te[ot++]=pe}Pe+=ne}}blockRenderChar(e,t,i,n,s,r,a,l){const d=1*this.scale,m=l?1:2*this.scale;if(t+d>e.width||i+m>e.height)return void console.warn("bad render request outside image data");const C=4*e.width,S=s/255*.5,M=r.r,j=r.g,J=r.b,Ce=M+(n.r-M)*S,ke=j+(n.g-j)*S,Ne=J+(n.b-J)*S,ve=Math.max(s,a),pe=e.data;let Te=i*C+4*t;for(let Qe=0;Qe<m;Qe++){let Pe=Te;for(let et=0;et<d;et++)pe[Pe++]=Ce,pe[Pe++]=ke,pe[Pe++]=Ne,pe[Pe++]=ve;Te+=C}}}var qr=L(52706);const $f={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},Gf=o=>{const e=new Uint8ClampedArray(o.length/2);for(let t=0;t<o.length;t+=2)e[t>>1]=$f[o[t]]<<4|15&$f[o[t+1]];return e},Zf={1:(0,qr.I)(()=>Gf("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,qr.I)(()=>Gf("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class Pa{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let i;return i=Zf[e]?new Aa(Zf[e](),e):Pa.createFromSampleData(Pa.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i}static createSampleData(e){const t=document.createElement("canvas"),i=t.getContext("2d");t.style.height="16px",t.height=16,t.width=960,t.style.width="960px",i.fillStyle="#ffffff",i.font=`bold 16px ${e}`,i.textBaseline="middle";let n=0;for(const s of t0)i.fillText(String.fromCharCode(s),n,8),n+=10;return i.getImageData(0,0,960,16)}static createFromSampleData(e,t){if(61440!==e.length)throw new Error("Unexpected source in MinimapCharRenderer");const n=Pa._downsample(e,t);return new Aa(n,t)}static _downsampleChar(e,t,i,n,s){const r=1*s,a=2*s;let l=n,d=0;for(let u=0;u<a;u++){const m=u/a*16,C=(u+1)/a*16;for(let S=0;S<r;S++){const M=S/r*10,j=(S+1)/r*10;let J=0,ne=0;for(let le=m;le<C;le++){const Ce=t+3840*Math.floor(le),ke=1-(le-Math.floor(le));for(let Ne=M;Ne<j;Ne++){const ve=1-(Ne-Math.floor(Ne)),pe=Ce+4*Math.floor(Ne),Te=ve*ke;ne+=Te,J+=e[pe]*e[pe+3]/255*Te}}const X=J/ne;d=Math.max(d,X),i[l++]=(0,c.K)(X)}}return d}static _downsample(e,t){const i=2*t*1*t,n=96*i,s=new Uint8ClampedArray(n);let r=0,a=0,l=0;for(let d=0;d<96;d++)l=Math.max(l,this._downsampleChar(e,a,s,r,t)),r+=i,a+=40;if(l>0){const d=255/l;for(let u=0;u<n;u++)s[u]*=d}return s}}class Ba{constructor(e,t,i){const n=e.options,s=n.get(129),r=n.get(131),a=r.minimap,l=n.get(44),d=n.get(65);this.renderMinimap=a.renderMinimap,this.size=d.size,this.minimapHeightIsEditorHeight=a.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=n.get(94),this.showSlider=d.showSlider,this.pixelRatio=s,this.typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this.lineHeight=n.get(59),this.minimapLeft=a.minimapLeft,this.minimapWidth=a.minimapWidth,this.minimapHeight=r.height,this.canvasInnerWidth=a.minimapCanvasInnerWidth,this.canvasInnerHeight=a.minimapCanvasInnerHeight,this.canvasOuterWidth=a.minimapCanvasOuterWidth,this.canvasOuterHeight=a.minimapCanvasOuterHeight,this.isSampling=a.minimapIsSampling,this.editorHeight=r.height,this.fontScale=a.minimapScale,this.minimapLineHeight=a.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,qr.I)(()=>Pa.create(this.fontScale,l.fontFamily)),this.defaultBackgroundColor=i.getColor(2),this.backgroundColor=Ba._getMinimapBackground(t,this.defaultBackgroundColor),this.foregroundAlpha=Ba._getMinimapForegroundOpacity(t)}static _getMinimapBackground(e,t){const i=e.getColor(it.kVY);return i?new cs(i.rgba.r,i.rgba.g,i.rgba.b,Math.round(255*i.rgba.a)):t}static _getMinimapForegroundOpacity(e){const t=e.getColor(it.Itd);return t?cs._clamp(Math.round(255*t.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class Fa{constructor(e,t,i,n,s,r,a,l){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=i,this._computedSliderRatio=n,this.sliderTop=s,this.sliderHeight=r,this.startLineNumber=a,this.endLineNumber=l}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}static create(e,t,i,n,s,r,a,l,d,u,m){const C=e.pixelRatio,S=e.minimapLineHeight,M=Math.floor(e.canvasInnerHeight/S),j=e.lineHeight;if(e.minimapHeightIsEditorHeight){const Ne=Math.max(1,Math.floor(s*s/(l*e.lineHeight+(e.scrollBeyondLastLine?s-e.lineHeight:0)))),ve=Math.max(0,e.minimapHeight-Ne),pe=ve/(u-s),Te=d*pe,Qe=ve>0,Pe=Math.floor(e.canvasInnerHeight/e.minimapLineHeight);return new Fa(d,u,Qe,pe,Te,Ne,1,Math.min(a,Pe))}let J,ne;J=r&&i!==a?Math.floor((i-t+1)*S/C):Math.floor(s/j*S/C),ne=e.scrollBeyondLastLine?(a-1)*S/C:Math.max(0,a*S/C-J),ne=Math.min(e.minimapHeight-J,ne);const X=ne/(u-s),le=d*X;let Ce=0;if(e.scrollBeyondLastLine&&(Ce=s/j-1),M>=a+Ce)return new Fa(d,u,ne>0,X,le,J,1,a);{let ke=Math.max(1,Math.floor(t-le*C/S));m&&m.scrollHeight===u&&(m.scrollTop>d&&(ke=Math.min(ke,m.startLineNumber)),m.scrollTop<d&&(ke=Math.max(ke,m.startLineNumber)));const Ne=Math.min(a,ke+M-1);return new Fa(d,u,!0,X,(t-ke+(d-n)/j)*S/C,J,ke,Ne)}}}class Vl{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}Vl.INVALID=new Vl(-1);class qf{constructor(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new Hf(()=>Vl.INVALID),this._renderedLines._set(e.startLineNumber,i)}linesEquals(e){if(!this.scrollEquals(e))return!1;const i=this._renderedLines._get().lines;for(let n=0,s=i.length;n<s;n++)if(-1===i[n].dy)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class xd{constructor(e,t,i,n){this._backgroundFillData=xd._createBackgroundFillData(t,i,n),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,i){const n=i.r,s=i.g,r=i.b,a=i.a,l=new Uint8ClampedArray(e*t*4);let d=0;for(let u=0;u<t;u++)for(let m=0;m<e;m++)l[d]=n,l[d+1]=s,l[d+2]=r,l[d+3]=a,d+=4;return l}}class Wa{constructor(e,t){this.samplingRatio=e,this.minimapLines=t}static compute(e,t,i){if(0===e.renderMinimap||!e.isSampling)return[null,[]];const n=e.pixelRatio,s=e.lineHeight,r=e.scrollBeyondLastLine,{minimapLineCount:a}=ae.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:r,height:e.editorHeight,lineHeight:s,pixelRatio:n}),l=t/a,d=l/2;if(!i||0===i.minimapLines.length){const le=[];if(le[0]=1,a>1){for(let Ce=0,ke=a-1;Ce<ke;Ce++)le[Ce]=Math.round(Ce*l+d);le[a-1]=t}return[new Wa(l,le),[]]}const u=i.minimapLines,m=u.length,C=[];let S=0,M=0,j=1,ne=[],X=null;for(let le=0;le<a;le++){const Ce=Math.max(j,Math.round(le*l)),ke=Math.max(Ce,Math.round((le+1)*l));for(;S<m&&u[S]<Ce;){if(ne.length<10){const ve=S+1+M;X&&"deleted"===X.type&&X._oldIndex===S-1?X.deleteToLineNumber++:(X={type:"deleted",_oldIndex:S,deleteFromLineNumber:ve,deleteToLineNumber:ve},ne.push(X)),M--}S++}let Ne;if(S<m&&u[S]<=ke)Ne=u[S],S++;else if(Ne=0===le?1:le+1===a?t:Math.round(le*l+d),ne.length<10){const ve=S+1+M;X&&"inserted"===X.type&&X._i===le-1?X.insertToLineNumber++:(X={type:"inserted",_i:le,insertFromLineNumber:ve,insertToLineNumber:ve},ne.push(X)),M++}C[le]=Ne,j=Ne}if(ne.length<10)for(;S<m;){const le=S+1+M;X&&"deleted"===X.type&&X._oldIndex===S-1?X.deleteToLineNumber++:(X={type:"deleted",_oldIndex:S,deleteFromLineNumber:le,deleteToLineNumber:le},ne.push(X)),M--,S++}else ne=[{type:"flush"}];return[new Wa(l,C),ne]}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e)-1;for(;i>0&&this.minimapLines[i-1]>=e;)i--;let n=this.modelLineToMinimapLine(t)-1;for(;n+1<this.minimapLines.length&&this.minimapLines[n+1]<=t;)n++;if(i===n){const s=this.minimapLines[i];if(s<e||s>t)return null}return[i+1,n+1]}decorationLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e),n=this.modelLineToMinimapLine(t);return e!==t&&n===i&&(n===this.minimapLines.length?i>1&&i--:n++),[i,n]}onLinesDeleted(e){const t=e.toLineNumber-e.fromLineNumber+1;let i=this.minimapLines.length,n=0;for(let s=this.minimapLines.length-1;s>=0&&!(this.minimapLines[s]<e.fromLineNumber);s--)this.minimapLines[s]<=e.toLineNumber?(this.minimapLines[s]=Math.max(1,e.fromLineNumber-1),i=Math.min(i,s),n=Math.max(n,s)):this.minimapLines[s]-=t;return[i,n]}onLinesInserted(e){const t=e.toLineNumber-e.fromLineNumber+1;for(let i=this.minimapLines.length-1;i>=0&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]+=t}}class o0 extends ls{constructor(e){super(e),this.tokensColorTracker=Kf.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new Ba(this._context.configuration,this._context.theme,this.tokensColorTracker);const[t]=Wa.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new Hl(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new Ba(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(e)&&(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return!!e.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.toLineNumber);return!!t&&this._actual.onLinesChanged(t[0],t[1])}return this._actual.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){if(this._samplingState){const[t,i]=this._samplingState.onLinesDeleted(e);return t<=i&&this._actual.onLinesChanged(t+1,i+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){const t=[];for(const i of e.ranges){const n=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.toLineNumber);n&&t.push({fromLineNumber:n[0],toLineNumber:n[1]})}return!!t.length&&this._actual.onTokensChanged(t)}return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),i=this._samplingState.modelLineToMinimapLine(i));const n={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:i,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(n)}_recreateLineSampling(){this._minimapSelections=null;const e=Boolean(this._samplingState),[t,i]=Wa.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(const n of i)switch(n.type){case"deleted":this._actual.onLinesDeleted(n.deleteFromLineNumber,n.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(n.insertFromLineNumber,n.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(e){return this._context.model.getLineContent(this._samplingState?this._samplingState.minimapLines[e-1]:e)}getLineMaxColumn(e){return this._context.model.getLineMaxColumn(this._samplingState?this._samplingState.minimapLines[e-1]:e)}getMinimapLinesRenderingData(e,t,i){if(this._samplingState){const n=[];for(let s=0,r=t-e+1;s<r;s++)n[s]=i[s]?this._context.model.getViewLineData(this._samplingState.minimapLines[e+s-1]):null;return n}return this._context.model.getMinimapLinesRenderingData(e,t,i).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[t,i]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new Xt.Y(t,e.startColumn,i,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){let i;if(this._samplingState){const r=this._samplingState.minimapLines[t-1];i=new Ze.e(this._samplingState.minimapLines[e-1],1,r,this._context.model.getLineMaxColumn(r))}else i=new Ze.e(e,1,t,this._context.model.getLineMaxColumn(t));const n=this._context.model.getDecorationsInViewport(i);if(this._samplingState){const s=[];for(const r of n){if(!r.options.minimap)continue;const a=r.range,l=this._samplingState.modelLineToMinimapLine(a.startLineNumber),d=this._samplingState.modelLineToMinimapLine(a.endLineNumber);s.push(new df(new Ze.e(l,a.startColumn,d,a.endColumn),r.options))}return s}return n}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.model.revealRange("mouse",!1,new Ze.e(e,1,e,1),1,0)}setScrollTop(e){this._context.model.setScrollPosition({scrollTop:e},1)}}class Hl extends ze.JT{constructor(e,t){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(it.ov3),this._domNode=(0,dt.X)(document.createElement("div")),Qs.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,dt.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,dt.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,dt.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,dt.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,dt.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=ue.mu(this._domNode.domNode,"mousedown",i=>{if(i.preventDefault(),0===this._model.options.renderMinimap||!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(i.leftButton&&this._lastRenderData){const d=ue.i(this._slider.domNode);this._startSliderDragging(i.buttons,i.posx,d.top+d.height/2,i.posy,this._lastRenderData.renderedLayout)}return}let l=Math.floor(this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*i.browserEvent.offsetY/this._model.options.minimapLineHeight)+this._lastRenderData.renderedLayout.startLineNumber;l=Math.min(l,this._model.getLineCount()),this._model.revealLineNumber(l)}),this._sliderMouseMoveMonitor=new fd.Z,this._sliderMouseDownListener=ue.mu(this._slider.domNode,"mousedown",i=>{i.preventDefault(),i.stopPropagation(),i.leftButton&&this._lastRenderData&&this._startSliderDragging(i.buttons,i.posx,i.posy,i.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=Qi.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=ue.nm(this._domNode.domNode,Qi.t.Start,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(i))},{passive:!1}),this._sliderTouchMoveListener=ue.nm(this._domNode.domNode,Qi.t.Change,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(i)},{passive:!1}),this._sliderTouchEndListener=ue.mu(this._domNode.domNode,Qi.t.End,i=>{i.preventDefault(),i.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,t,i,n,s){this._slider.toggleClassName("active",!0);const r=(a,l)=>{const d=Math.abs(l-t);this._model.setScrollTop(h.ED&&d>140?s.scrollTop:s.getDesiredScrollTopFromDelta(a-i))};n!==i&&r(n,t),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,e,fd.e,a=>r(a.posy,a.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){const t=this._domNode.domNode.getBoundingClientRect().top,i=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(i)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return"always"===this._model.options.showSlider?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new xd(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(e,t)}onLinesDeleted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e,t),!0}onLinesInserted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(it.ov3),this._renderDecorations=!0,!0}onTokensChanged(e){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(e)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);this._shadow.setClassName(e.scrollLeft+e.viewportWidth>=e.scrollWidth?"minimap-shadow-hidden":"minimap-shadow-visible");const i=Fa.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(i.sliderNeeded?"block":"none"),this._slider.setTop(i.sliderTop),this._slider.setHeight(i.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(i.sliderHeight),this.renderDecorations(i),this._lastRenderData=this.renderLines(i)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const t=this._model.getSelections();t.sort(Ze.e.compareRangesUsingStarts);const i=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);i.sort((C,S)=>(C.options.zIndex||0)-(S.options.zIndex||0));const{canvasInnerWidth:n,canvasInnerHeight:s}=this._model.options,r=this._model.options.minimapLineHeight,a=this._model.options.minimapCharWidth,l=this._model.getOptions().tabSize,d=this._decorationsCanvas.domNode.getContext("2d");d.clearRect(0,0,n,s);const u=new Yf(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(d,t,u,e,r),this._renderDecorationsLineHighlights(d,i,u,e,r);const m=new Yf(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(d,t,m,e,r,l,a,n),this._renderDecorationsHighlights(d,i,m,e,r,l,a,n)}}_renderSelectionLineHighlights(e,t,i,n,s){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let r=0,a=0;for(const l of t){const d=Math.max(n.startLineNumber,l.startLineNumber),u=Math.min(n.endLineNumber,l.endLineNumber);if(d>u)continue;for(let S=d;S<=u;S++)i.set(S,!0);const m=(d-n.startLineNumber)*s,C=(u-n.startLineNumber)*s+s;a>=m||(a>r&&e.fillRect(8,r,e.canvas.width,a-r),r=m),a=C}a>r&&e.fillRect(8,r,e.canvas.width,a-r)}_renderDecorationsLineHighlights(e,t,i,n,s){const r=new Map;for(let a=t.length-1;a>=0;a--){const l=t[a],d=l.options.minimap;if(!d||d.position!==Ri.F5.Inline)continue;const u=Math.max(n.startLineNumber,l.range.startLineNumber),m=Math.min(n.endLineNumber,l.range.endLineNumber);if(u>m)continue;const C=d.getColor(this._theme.value);if(!C||C.isTransparent())continue;let S=r.get(C.toString());S||(S=C.transparent(.5).toString(),r.set(C.toString(),S)),e.fillStyle=S;for(let M=u;M<=m;M++)i.has(M)||(i.set(M,!0),e.fillRect(8,(u-n.startLineNumber)*s,e.canvas.width,s))}}_renderSelectionsHighlights(e,t,i,n,s,r,a,l){if(this._selectionColor&&!this._selectionColor.isTransparent())for(const d of t){const u=Math.max(n.startLineNumber,d.startLineNumber),m=Math.min(n.endLineNumber,d.endLineNumber);if(!(u>m))for(let C=u;C<=m;C++)this.renderDecorationOnLine(e,i,d,this._selectionColor,n,C,s,s,r,a,l)}}_renderDecorationsHighlights(e,t,i,n,s,r,a,l){for(const d of t){const u=d.options.minimap;if(!u)continue;const m=Math.max(n.startLineNumber,d.range.startLineNumber),C=Math.min(n.endLineNumber,d.range.endLineNumber);if(m>C)continue;const S=u.getColor(this._theme.value);if(S&&!S.isTransparent())for(let M=m;M<=C;M++)switch(u.position){case Ri.F5.Inline:this.renderDecorationOnLine(e,i,d.range,S,n,M,s,s,r,a,l);continue;case Ri.F5.Gutter:this.renderDecoration(e,S,2,(M-n.startLineNumber)*s,2,s);continue}}}renderDecorationOnLine(e,t,i,n,s,r,a,l,d,u,m){const C=(r-s.startLineNumber)*l;if(C+a<0||C>this._model.options.canvasInnerHeight)return;const{startLineNumber:S,endLineNumber:M}=i,j=S===r?i.startColumn:1,J=M===r?i.endColumn:this._model.getLineMaxColumn(r),ne=this.getXOffsetForPosition(t,r,j,d,u,m),X=this.getXOffsetForPosition(t,r,J,d,u,m);this.renderDecoration(e,n,ne,C,X-ne,a)}getXOffsetForPosition(e,t,i,n,s,r){if(1===i)return 8;if((i-1)*s>=r)return r;let l=e.get(t);if(!l){const d=this._model.getLineContent(t);l=[8];let u=8;for(let m=1;m<d.length+1;m++){const C=d.charCodeAt(m-1),M=u+(9===C?n*s:ut.K7(C)?2*s:s);if(M>=r){l[m]=r;break}l[m]=M,u=M}e.set(t,l)}return i-1<l.length?l[i-1]:r}renderDecoration(e,t,i,n,s,r){e.fillStyle=t&&t.toString()||"",e.fillRect(i,n,s,r)}renderLines(e){const t=e.startLineNumber,i=e.endLineNumber,n=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const kt=this._lastRenderData._get();return new qf(e,kt.imageData,kt.lines)}const s=this._getBuffer();if(!s)return null;const[r,a,l]=Hl._renderUntouchedLines(s,t,i,n,this._lastRenderData),d=this._model.getMinimapLinesRenderingData(t,i,l),u=this._model.getOptions().tabSize,m=this._model.options.defaultBackgroundColor,C=this._model.options.backgroundColor,S=this._model.options.foregroundAlpha,M=this._model.tokensColorTracker,j=M.backgroundIsLight(),J=this._model.options.renderMinimap,ne=this._model.options.charRenderer(),X=this._model.options.fontScale,le=this._model.options.minimapCharWidth,ke=(1===J?2:3)*X,Ne=n>ke?Math.floor((n-ke)/2):0,ve=C.a/255,pe=new cs(Math.round((C.r-m.r)*ve+m.r),Math.round((C.g-m.g)*ve+m.g),Math.round((C.b-m.b)*ve+m.b),255);let Te=0;const Qe=[];for(let kt=0,Vt=i-t+1;kt<Vt;kt++)l[kt]&&Hl._renderLine(s,pe,C.a,j,J,le,M,S,ne,Te,Ne,u,d[kt],X,n),Qe[kt]=new Vl(Te),Te+=n;const Pe=-1===r?0:r,ot=(-1===a?s.height:a)-Pe;return this._canvas.domNode.getContext("2d").putImageData(s,0,0,0,Pe,s.width,ot),new qf(e,s,Qe)}static _renderUntouchedLines(e,t,i,n,s){const r=[];if(!s){for(let pe=0,Te=i-t+1;pe<Te;pe++)r[pe]=!0;return[-1,-1,r]}const a=s._get(),l=a.imageData.data,d=a.rendLineNumberStart,u=a.lines,m=u.length,C=e.width,S=e.data,M=(i-t+1)*n*C*4;let j=-1,J=-1,ne=-1,X=-1,le=-1,Ce=-1,ke=0;for(let pe=t;pe<=i;pe++){const Te=pe-t,Qe=pe-d,Pe=Qe>=0&&Qe<m?u[Qe].dy:-1;if(-1===Pe){r[Te]=!0,ke+=n;continue}const et=Pe*C*4,ot=(Pe+n)*C*4,Nt=ke*C*4,kt=(ke+n)*C*4;X===et&&Ce===Nt?(X=ot,Ce=kt):(-1!==ne&&(S.set(l.subarray(ne,X),le),-1===j&&0===ne&&ne===le&&(j=X),-1===J&&X===M&&ne===le&&(J=ne)),ne=et,X=ot,le=Nt,Ce=kt),r[Te]=!1,ke+=n}return-1!==ne&&(S.set(l.subarray(ne,X),le),-1===j&&0===ne&&ne===le&&(j=X),-1===J&&X===M&&ne===le&&(J=ne)),[-1===j?-1:j/(4*C),-1===J?-1:J/(4*C),r]}static _renderLine(e,t,i,n,s,r,a,l,d,u,m,C,S,M,j){const J=S.content,ne=S.tokens,X=e.width-r,le=1===j;let Ce=8,ke=0,Ne=0;for(let ve=0,pe=ne.getCount();ve<pe;ve++){const Te=ne.getEndOffset(ve),Qe=ne.getForeground(ve),Pe=a.getColor(Qe);for(;ke<Te;ke++){if(Ce>X)return;const et=J.charCodeAt(ke);if(9===et){const ot=C-(ke+Ne)%C;Ne+=ot-1,Ce+=ot*r}else if(32===et)Ce+=r;else{const ot=ut.K7(et)?2:1;for(let Nt=0;Nt<ot;Nt++)if(2===s?d.blockRenderChar(e,Ce,u+m,Pe,l,t,i,le):d.renderChar(e,Ce,u+m,et,Pe,l,t,i,M,n,le),Ce+=r,Ce>X)return}}}}}class Yf{constructor(e,t,i){this._startLineNumber=e,this._endLineNumber=t,this._defaultValue=i,this._values=[];for(let n=0,s=this._endLineNumber-this._startLineNumber+1;n<s;n++)this._values[n]=i}has(e){return this.get(e)!==this._defaultValue}set(e,t){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=t)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}(0,Ut.Ic)((o,e)=>{const t=o.getColor(it.CA6);t&&e.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${t}; }`);const i=o.getColor(it.Xy4);i&&e.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${i}; }`);const n=o.getColor(it.brw);n&&e.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${n}; }`);const s=o.getColor(it._wn);s&&e.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${s} -6px 0 6px -6px inset; }`)}),L(38719);class r0 extends ls{constructor(e){super(e);const i=this._context.configuration.options.get(131);this._widgets={},this._verticalScrollbarWidth=i.verticalScrollbarWidth,this._minimapWidth=i.minimap.minimapWidth,this._horizontalScrollbarHeight=i.horizontalScrollbarHeight,this._editorHeight=i.height,this._editorWidth=i.width,this._domNode=(0,dt.X)(document.createElement("div")),Qs.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const i=this._context.configuration.options.get(131);return this._verticalScrollbarWidth=i.verticalScrollbarWidth,this._minimapWidth=i.minimap.minimapWidth,this._horizontalScrollbarHeight=i.horizontalScrollbarHeight,this._editorHeight=i.height,this._editorWidth=i.width,!0}addWidget(e){const t=(0,dt.X)(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){const i=this._widgets[e.getId()];return i.preference!==t&&(i.preference=t,this.setShouldRender(),!0)}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const n=this._widgets[t].domNode.domNode;delete this._widgets[t],n.parentNode.removeChild(n),this.setShouldRender()}}_renderWidget(e){const t=e.domNode;null!==e.preference?0===e.preference?(t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):1===e.preference?(t.setTop(this._editorHeight-t.domNode.clientHeight-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):2===e.preference&&(t.setTop(0),t.domNode.style.right="50%"):t.unsetTop()}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const t=Object.keys(this._widgets);for(let i=0,n=t.length;i<n;i++)this._renderWidget(this._widgets[t[i]])}}class a0{constructor(e,t){const i=e.options;this.lineHeight=i.get(59),this.pixelRatio=i.get(129),this.overviewRulerLanes=i.get(74),this.renderBorder=i.get(73);const n=t.getColor(si.zw);this.borderColor=n?n.toString():null,this.hideCursor=i.get(52);const s=t.getColor(si.n0);this.cursorColor=s?s.transparent(.7).toString():null,this.themeType=t.type;const r=i.get(65),l=r.side,d=r.enabled?t.getColor(si.e_)||rt.RW.getDefaultBackground():null;this.backgroundColor=null===d||"left"===l?null:Oi.Il.Format.CSS.formatHex(d);const m=i.get(131).overviewRuler;this.top=m.top,this.right=m.right,this.domWidth=m.width,this.domHeight=m.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[C,S]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=C,this.w=S}_initLanes(e,t,i){const n=t-e;if(i>=3){const s=Math.floor(n/3),r=Math.floor(n/3),a=n-s-r,d=e+s;return[[0,e,d,e,e+s+a,e,d,e],[0,s,a,s+a,r,s+a+r,a+r,s+a+r]]}if(2===i){const s=Math.floor(n/2),r=n-s;return[[0,e,e,e,e+s,e,e,e],[0,s,s,s,r,s+r,s+r,s+r]]}return[[0,e,e,e,e,e,e,e],[0,n,n,n,n,n,n,n]]}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class l0 extends ls{constructor(e){super(e),this._domNode=(0,dt.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=rt.RW.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const t=new a0(this._context.configuration,this._context.theme);return!(this._settings&&this._settings.equals(t)||(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),0))}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,i=e.selections.length;t<i;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(Xe.L.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){if(0===this._settings.overviewRulerLanes)return this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),void this._domNode.setDisplay("none");this._domNode.setDisplay("block");const e=this._settings.canvasWidth,t=this._settings.canvasHeight,i=this._settings.lineHeight,n=this._context.viewLayout,r=t/this._context.viewLayout.getScrollHeight(),a=this._context.model.getAllOverviewRulerDecorations(this._context.theme),l=6*this._settings.pixelRatio|0,d=l/2|0,u=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?u.clearRect(0,0,e,t):(u.fillStyle=this._settings.backgroundColor,u.fillRect(0,0,e,t));const m=this._settings.x,C=this._settings.w;a.sort(hf.cmp);for(const S of a){const j=S.data;u.fillStyle=S.color;let J=0,ne=0,X=0;for(let le=0,Ce=j.length/3;le<Ce;le++){const ke=j[3*le],ve=j[3*le+2];let pe=n.getVerticalOffsetForLineNumber(j[3*le+1])*r|0,Te=(n.getVerticalOffsetForLineNumber(ve)+i)*r|0;if(Te-pe<l){let Pe=(pe+Te)/2|0;Pe<d?Pe=d:Pe+d>t&&(Pe=t-d),pe=Pe-d,Te=Pe+d}pe>X+1||ke!==J?(0!==le&&u.fillRect(m[J],ne,C[J],X-ne),J=ke,ne=pe,X=Te):Te>X&&(X=Te)}u.fillRect(m[J],ne,C[J],X-ne)}if(!this._settings.hideCursor&&this._settings.cursorColor){const S=2*this._settings.pixelRatio|0,M=S/2|0,j=this._settings.x[7],J=this._settings.w[7];u.fillStyle=this._settings.cursorColor;let ne=-100,X=-100;for(let le=0,Ce=this._cursorPositions.length;le<Ce;le++){let Ne=n.getVerticalOffsetForLineNumber(this._cursorPositions[le].lineNumber)*r|0;Ne<M?Ne=M:Ne+M>t&&(Ne=t-M);const ve=Ne-M,pe=ve+S;ve>X+1?(0!==le&&u.fillRect(j,ne,J,X-ne),ne=ve,X=pe):pe>X&&(X=pe)}u.fillRect(j,ne,J,X-ne)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(u.beginPath(),u.lineWidth=1,u.strokeStyle=this._settings.borderColor,u.moveTo(0,0),u.lineTo(0,t),u.stroke(),u.moveTo(0,0),u.lineTo(e,0),u.stroke())}}class Qf{constructor(e,t,i){this._colorZoneBrand=void 0,this.from=0|e,this.to=0|t,this.colorId=0|i}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class Va{constructor(e,t,i){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.color=i,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class c0{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(Va.compare)}setLineHeight(e){return this._lineHeight!==e&&(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth!==e&&(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight!==e&&(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight!==e&&(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),s=i/Math.floor(this._outerHeight),r=Math.floor(4*this._pixelRatio/2),a=[];for(let l=0,d=this._zones.length;l<d;l++){const u=this._zones[l];if(!e){const X=u.getColorZones();if(X){a.push(X);continue}}const m=Math.floor(s*this._getVerticalOffsetForLine(u.startLineNumber)),C=Math.floor(s*(this._getVerticalOffsetForLine(u.endLineNumber)+t));let S=Math.floor((m+C)/2),M=C-S;M<r&&(M=r),S-M<0&&(S=M),S+M>i&&(S=i-M);const j=u.color;let J=this._color2Id[j];J||(J=++this._lastAssignedId,this._color2Id[j]=J,this._id2Color[J]=j);const ne=new Qf(S-M,S+M,J);u.setColorZone(ne),a.push(ne)}return this._colorZonesInvalid=!1,a.sort(Qf.compare),a}}class d0 extends ka{constructor(e,t){super(),this._context=e;const i=this._context.configuration.options;this._domNode=(0,dt.X)(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new c0(n=>this._context.viewLayout.getVerticalOffsetForLineNumber(n)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(59)),this._zoneManager.setPixelRatio(i.get(129)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return e.hasChanged(59)&&(this._zoneManager.setLineHeight(t.get(59)),this._render()),e.hasChanged(129)&&(this._zoneManager.setPixelRatio(t.get(129)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),n=this._zoneManager.getId2Color(),s=this._domNode.domNode.getContext("2d");return s.clearRect(0,0,e,t),i.length>0&&this._renderOneLane(s,i,n,e),!0}_renderOneLane(e,t,i,n){let s=0,r=0,a=0;for(const l of t){const d=l.colorId,u=l.from,m=l.to;d!==s?(e.fillRect(0,r,n,a-r),s=d,e.fillStyle=i[s],r=u,a=m):a>=u?a=Math.max(a,m):(e.fillRect(0,r,n,a-r),r=u,a=m)}e.fillRect(0,r,n,a-r)}}L(7349);class h0 extends ls{constructor(e){super(e),this.domNode=(0,dt.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const t=this._context.configuration.options;this._rulers=t.get(91),this._typicalHalfwidthCharacterWidth=t.get(44).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._rulers=t.get(91),this._typicalHalfwidthCharacterWidth=t.get(44).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){const{tabSize:n}=this._context.model.getTextModelOptions(),s=n;let r=t-e;for(;r>0;){const a=(0,dt.X)(document.createElement("div"));a.setClassName("view-ruler"),a.setWidth(s),this.domNode.appendChild(a),this._renderedRulers.push(a),r--}return}let i=e-t;for(;i>0;){const n=this._renderedRulers.pop();this.domNode.removeChild(n),i--}}render(e){this._ensureRulersCount();for(let t=0,i=this._rulers.length;t<i;t++){const n=this._renderedRulers[t],s=this._rulers[t];n.setBoxShadow(s.color?`1px 0 0 0 ${s.color} inset`:""),n.setHeight(Math.min(e.scrollHeight,1e6)),n.setLeft(s.column*this._typicalHalfwidthCharacterWidth)}}}(0,Ut.Ic)((o,e)=>{const t=o.getColor(si.zk);t&&e.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${t} inset; }`)}),L(38051);class u0 extends ls{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const i=this._context.configuration.options.get(92);this._useShadows=i.useShadows,this._domNode=(0,dt.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e&&(this._shouldShow=e,!0)}getDomNode(){return this._domNode}_updateWidth(){const t=this._context.configuration.options.get(131);this._width=0===t.minimap.renderMinimap||t.minimap.minimapWidth>0&&0===t.minimap.minimapLeft?t.width:t.width-t.minimap.minimapWidth-t.verticalScrollbarWidth}onConfigurationChanged(e){const i=this._context.configuration.options.get(92);return this._useShadows=i.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}(0,Ut.Ic)((o,e)=>{const t=o.getColor(it._wn);t&&e.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${t} 0 6px 6px -6px inset; }`)}),L(3535);class f0{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class g0{constructor(e,t){this.lineNumber=e,this.ranges=t}}function m0(o){return new f0(o)}function p0(o){return new g0(o.lineNumber,o.ranges.map(m0))}let _0=(()=>{class o extends zr{constructor(t){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=t;const i=this._context.configuration.options;this._lineHeight=i.get(59),this._roundedSelection=i.get(90),this._typicalHalfwidthCharacterWidth=i.get(44).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const i=this._context.configuration.options;return this._lineHeight=i.get(59),this._roundedSelection=i.get(90),this._typicalHalfwidthCharacterWidth=i.get(44).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(t){return this._selections=t.selections.slice(0),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_visibleRangesHaveGaps(t){for(let i=0,n=t.length;i<n;i++)if(t[i].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(t,i,n){const s=this._typicalHalfwidthCharacterWidth/4;let r=null,a=null;if(n&&n.length>0&&i.length>0){const l=i[0].lineNumber;if(l===t.startLineNumber)for(let u=0;!r&&u<n.length;u++)n[u].lineNumber===l&&(r=n[u].ranges[0]);const d=i[i.length-1].lineNumber;if(d===t.endLineNumber)for(let u=n.length-1;!a&&u>=0;u--)n[u].lineNumber===d&&(a=n[u].ranges[0]);r&&!r.startStyle&&(r=null),a&&!a.startStyle&&(a=null)}for(let l=0,d=i.length;l<d;l++){const u=i[l].ranges[0],m=u.left,C=u.left+u.width,S={top:0,bottom:0},M={top:0,bottom:0};if(l>0){const j=i[l-1].ranges[0].left,J=i[l-1].ranges[0].left+i[l-1].ranges[0].width;zl(m-j)<s?S.top=2:m>j&&(S.top=1),zl(C-J)<s?M.top=2:j<C&&C<J&&(M.top=1)}else r&&(S.top=r.startStyle.top,M.top=r.endStyle.top);if(l+1<d){const j=i[l+1].ranges[0].left,J=i[l+1].ranges[0].left+i[l+1].ranges[0].width;zl(m-j)<s?S.bottom=2:j<m&&m<J&&(S.bottom=1),zl(C-J)<s?M.bottom=2:C<J&&(M.bottom=1)}else a&&(S.bottom=a.startStyle.bottom,M.bottom=a.endStyle.bottom);u.startStyle=S,u.endStyle=M}}_getVisibleRangesWithStyle(t,i,n){const r=(i.linesVisibleRangesForRange(t,!0)||[]).map(p0);return!this._visibleRangesHaveGaps(r)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(i.visibleRange,r,n),r}_createSelectionPiece(t,i,n,s,r){return'<div class="cslr '+n+'" style="top:'+t.toString()+"px;left:"+s.toString()+"px;width:"+r.toString()+"px;height:"+i+'px;"></div>'}_actualRenderOneSelection(t,i,n,s){if(0===s.length)return;const r=!!s[0].ranges[0].startStyle,a=this._lineHeight.toString(),l=(this._lineHeight-1).toString(),d=s[0].lineNumber,u=s[s.length-1].lineNumber;for(let m=0,C=s.length;m<C;m++){const S=s[m],M=S.lineNumber,j=M-i,J=!n||M!==u&&M!==d?a:l,ne=n&&M===d?1:0;let X="",le="";for(let Ce=0,ke=S.ranges.length;Ce<ke;Ce++){const Ne=S.ranges[Ce];if(r){const pe=Ne.startStyle,Te=Ne.endStyle;if(1===pe.top||1===pe.bottom){X+=this._createSelectionPiece(ne,J,o.SELECTION_CLASS_NAME,Ne.left-o.ROUNDED_PIECE_WIDTH,o.ROUNDED_PIECE_WIDTH);let Qe=o.EDITOR_BACKGROUND_CLASS_NAME;1===pe.top&&(Qe+=" "+o.SELECTION_TOP_RIGHT),1===pe.bottom&&(Qe+=" "+o.SELECTION_BOTTOM_RIGHT),X+=this._createSelectionPiece(ne,J,Qe,Ne.left-o.ROUNDED_PIECE_WIDTH,o.ROUNDED_PIECE_WIDTH)}if(1===Te.top||1===Te.bottom){X+=this._createSelectionPiece(ne,J,o.SELECTION_CLASS_NAME,Ne.left+Ne.width,o.ROUNDED_PIECE_WIDTH);let Qe=o.EDITOR_BACKGROUND_CLASS_NAME;1===Te.top&&(Qe+=" "+o.SELECTION_TOP_LEFT),1===Te.bottom&&(Qe+=" "+o.SELECTION_BOTTOM_LEFT),X+=this._createSelectionPiece(ne,J,Qe,Ne.left+Ne.width,o.ROUNDED_PIECE_WIDTH)}}let ve=o.SELECTION_CLASS_NAME;if(r){const pe=Ne.startStyle,Te=Ne.endStyle;0===pe.top&&(ve+=" "+o.SELECTION_TOP_LEFT),0===pe.bottom&&(ve+=" "+o.SELECTION_BOTTOM_LEFT),0===Te.top&&(ve+=" "+o.SELECTION_TOP_RIGHT),0===Te.bottom&&(ve+=" "+o.SELECTION_BOTTOM_RIGHT)}le+=this._createSelectionPiece(ne,J,ve,Ne.left,Ne.width)}t[j][0]+=X,t[j][1]+=le}}prepareRender(t){const i=[],n=t.visibleRange.startLineNumber,s=t.visibleRange.endLineNumber;for(let a=n;a<=s;a++)i[a-n]=["",""];const r=[];for(let a=0,l=this._selections.length;a<l;a++){const d=this._selections[a];if(d.isEmpty()){r[a]=null;continue}const u=this._getVisibleRangesWithStyle(d,t,this._previousFrameVisibleRangesWithStyle[a]);r[a]=u,this._actualRenderOneSelection(i,n,this._selections.length>1,u)}this._previousFrameVisibleRangesWithStyle=r,this._renderResult=i.map(([a,l])=>a+l)}render(t,i){if(!this._renderResult)return"";const n=i-t;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}return o.SELECTION_CLASS_NAME="selected-text",o.SELECTION_TOP_LEFT="top-left-radius",o.SELECTION_BOTTOM_LEFT="bottom-left-radius",o.SELECTION_TOP_RIGHT="top-right-radius",o.SELECTION_BOTTOM_RIGHT="bottom-right-radius",o.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",o.ROUNDED_PIECE_WIDTH=10,o})();function zl(o){return o<0?-o:o}(0,Ut.Ic)((o,e)=>{const t=o.getColor(it.hEj);t&&e.addRule(`.monaco-editor .focused .selected-text { background-color: ${t}; }`);const i=o.getColor(it.ES4);i&&e.addRule(`.monaco-editor .selected-text { background-color: ${i}; }`);const n=o.getColor(it.yb5);n&&!n.isTransparent()&&e.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${n}; }`)}),L(90274);class Xf{constructor(e,t,i,n,s,r){this.top=e,this.left=t,this.width=i,this.height=n,this.textContent=s,this.textContentClassName=r}}class Jf{constructor(e){this._context=e;const t=this._context.configuration.options,i=t.get(44);this._cursorStyle=t.get(24),this._lineHeight=t.get(59),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,dt.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${or}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),Bi(this._domNode,i),this._domNode.setDisplay("none"),this._position=new Xe.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(44);return this._cursorStyle=t.get(24),this._lineHeight=t.get(59),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),Bi(this._domNode,i),!0}onCursorPositionChanged(e){return this._position=e,!0}_getGraphemeAwarePosition(){const{lineNumber:e,column:t}=this._position,i=this._context.model.getLineContent(e),[n,s]=ut.J_(i,t-1);return[new Xe.L(e,n+1),i.substring(n,s)]}_prepareRender(e){let t="";const[i,n]=this._getGraphemeAwarePosition();if(this._cursorStyle===Se.Line||this._cursorStyle===Se.LineThin){const C=e.visibleRangeForPosition(i);if(!C||C.outsideRenderedLine)return null;let S;this._cursorStyle===Se.Line?(S=ue.Uh(this._lineCursorWidth>0?this._lineCursorWidth:2),S>2&&(t=n)):S=ue.Uh(1);let M=C.left;S>=2&&M>=1&&(M-=1);const j=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.bigNumbersDelta;return new Xf(j,M,S,this._lineHeight,t,"")}const s=e.linesVisibleRangesForRange(new Ze.e(i.lineNumber,i.column,i.lineNumber,i.column+n.length),!1);if(!s||0===s.length)return null;const r=s[0];if(r.outsideRenderedLine||0===r.ranges.length)return null;const a=r.ranges[0],l=a.width<1?this._typicalHalfwidthCharacterWidth:a.width;let d="";if(this._cursorStyle===Se.Block){const C=this._context.model.getViewLineData(i.lineNumber);t=n;const S=C.tokens.findTokenIndexAtOffset(i.column-1);d=C.tokens.getClassName(S)}let u=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.bigNumbersDelta,m=this._lineHeight;return(this._cursorStyle===Se.Underline||this._cursorStyle===Se.UnderlineThin)&&(u+=this._lineHeight-2,m=2),new Xf(u,a.left,l,m,t,d)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${or} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}let C0=(()=>{class o extends ls{constructor(t){super(t);const i=this._context.configuration.options;this._readOnly=i.get(81),this._cursorBlinking=i.get(22),this._cursorStyle=i.get(24),this._cursorSmoothCaretAnimation=i.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new Jf(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,dt.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new se._F,this._cursorFlatBlinkInterval=new se.zh,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(t){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(t){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(t){const i=this._context.configuration.options;this._readOnly=i.get(81),this._cursorBlinking=i.get(22),this._cursorStyle=i.get(24),this._cursorSmoothCaretAnimation=i.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(t);for(let n=0,s=this._secondaryCursors.length;n<s;n++)this._secondaryCursors[n].onConfigurationChanged(t);return!0}_onCursorPositionChanged(t,i){if(this._primaryCursor.onCursorPositionChanged(t),this._updateBlinking(),this._secondaryCursors.length<i.length){const n=i.length-this._secondaryCursors.length;for(let s=0;s<n;s++){const r=new Jf(this._context);this._domNode.domNode.insertBefore(r.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(r)}}else if(this._secondaryCursors.length>i.length){const n=this._secondaryCursors.length-i.length;for(let s=0;s<n;s++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let n=0;n<i.length;n++)this._secondaryCursors[n].onCursorPositionChanged(i[n])}onCursorStateChanged(t){const i=[];for(let s=0,r=t.selections.length;s<r;s++)i[s]=t.selections[s].getPosition();this._onCursorPositionChanged(i[0],i.slice(1));const n=t.selections[0].isEmpty();return this._selectionIsEmpty!==n&&(this._selectionIsEmpty=n,this._updateDomClassName()),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onFocusChanged(t){return this._editorHasFocus=t.isFocused,this._updateBlinking(),!1}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return!0}onTokensChanged(t){const i=n=>{for(let s=0,r=t.ranges.length;s<r;s++)if(t.ranges[s].fromLineNumber<=n.lineNumber&&n.lineNumber<=t.ranges[s].toLineNumber)return!0;return!1};if(i(this._primaryCursor.getPosition()))return!0;for(const n of this._secondaryCursors)if(i(n.getPosition()))return!0;return!1}onZonesChanged(t){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const t=this._getCursorBlinking(),i=0===t,n=5===t;i?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!i&&!n&&(1===t?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},o.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},o.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let t="cursors-layer";switch(this._selectionIsEmpty||(t+=" has-selection"),this._cursorStyle){case Se.Line:t+=" cursor-line-style";break;case Se.Block:t+=" cursor-block-style";break;case Se.Underline:t+=" cursor-underline-style";break;case Se.LineThin:t+=" cursor-line-thin-style";break;case Se.BlockOutline:t+=" cursor-block-outline-style";break;case Se.UnderlineThin:t+=" cursor-underline-thin-style";break;default:t+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:t+=" cursor-blink";break;case 2:t+=" cursor-smooth";break;case 3:t+=" cursor-phase";break;case 4:t+=" cursor-expand";break;default:t+=" cursor-solid"}else t+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(t+=" cursor-smooth-caret-animation"),t}_show(){this._primaryCursor.show();for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].hide();this._isVisible=!1}prepareRender(t){this._primaryCursor.prepareRender(t);for(let i=0,n=this._secondaryCursors.length;i<n;i++)this._secondaryCursors[i].prepareRender(t)}render(t){const i=[];let n=0;const s=this._primaryCursor.render(t);s&&(i[n++]=s);for(let r=0,a=this._secondaryCursors.length;r<a;r++){const l=this._secondaryCursors[r].render(t);l&&(i[n++]=l)}this._renderData=i}getLastRenderData(){return this._renderData}}return o.BLINK_INTERVAL=500,o})();(0,Ut.Ic)((o,e)=>{const t=o.getColor(si.n0);if(t){let i=o.getColor(si.fY);i||(i=t.opposite()),e.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${t}; border-color: ${t}; color: ${i}; }`),"hc"===o.type&&e.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${i}; border-right: 1px solid ${i}; }`)}});const Nd=()=>{throw new Error("Invalid change accessor")};class b0 extends ls{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(131);this._lineHeight=t.get(59),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=(0,dt.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,dt.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),t=new Map;for(const n of e)t.set(n.id,n);let i=!1;return this._context.model.changeWhitespace(n=>{const s=Object.keys(this._zones);for(let r=0,a=s.length;r<a;r++){const l=s[r],d=this._zones[l],u=this._computeWhitespaceProps(d.delegate);d.isInHiddenArea=u.isInHiddenArea;const m=t.get(l);m&&(m.afterLineNumber!==u.afterViewLineNumber||m.height!==u.heightInPx)&&(n.changeOneWhitespace(l,u.afterViewLineNumber,u.heightInPx),this._safeCallOnComputedHeight(d.delegate,u.heightInPx),i=!0)}}),i}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(131);return this._lineHeight=t.get(59),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(59)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return void 0!==e.afterColumn?e.afterColumn:1e4}_computeWhitespaceProps(e){if(0===e.afterLineNumber)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t,i;if(void 0!==e.afterColumn)t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const r=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new Xe.L(r,this._context.model.getModelLineMaxColumn(r))}i=t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)?this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1}):this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1});const n=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t,e.afterColumnAffinity),s=this._context.model.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!s,afterViewLineNumber:n.lineNumber,heightInPx:s?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.model.changeWhitespace(i=>{const n={addZone:s=>(t=!0,this._addZone(i,s)),removeZone:s=>{!s||(t=this._removeZone(i,s)||t)},layoutZone:s=>{!s||(t=this._layoutZone(i,s)||t)}};(function v0(o,e){try{o(e)}catch(t){(0,he.dL)(t)}})(e,n),n.addZone=Nd,n.removeZone=Nd,n.layoutZone=Nd}),t}_addZone(e,t){const i=this._computeWhitespaceProps(t),s={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:(0,dt.X)(t.domNode),marginDomNode:t.marginDomNode?(0,dt.X)(t.marginDomNode):null};return this._safeCallOnComputedHeight(s.delegate,i.heightInPx),s.domNode.setPosition("absolute"),s.domNode.domNode.style.width="100%",s.domNode.setDisplay("none"),s.domNode.setAttribute("monaco-view-zone",s.whitespaceId),this.domNode.appendChild(s.domNode),s.marginDomNode&&(s.marginDomNode.setPosition("absolute"),s.marginDomNode.domNode.style.width="100%",s.marginDomNode.setDisplay("none"),s.marginDomNode.setAttribute("monaco-view-zone",s.whitespaceId),this.marginDomNode.appendChild(s.marginDomNode)),this._zones[s.whitespaceId]=s,this.setShouldRender(),s.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t],n=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=n.isInHiddenArea,e.changeOneWhitespace(i.whitespaceId,n.afterViewLineNumber,n.heightInPx),this._safeCallOnComputedHeight(i.delegate,n.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){return!!this._zones.hasOwnProperty(e)&&Boolean(this._zones[e].delegate.suppressMouseDown)}_heightInPixels(e){return"number"==typeof e.heightInPx?e.heightInPx:"number"==typeof e.heightInLines?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return"number"==typeof e.minWidthInPx?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if("function"==typeof e.onComputedHeight)try{e.onComputedHeight(t)}catch(i){(0,he.dL)(i)}}_safeCallOnDomNodeTop(e,t){if("function"==typeof e.onDomNodeTop)try{e.onDomNodeTop(t)}catch(i){(0,he.dL)(i)}}prepareRender(e){}render(e){const t=e.viewportData.whitespaceViewportData,i={};let n=!1;for(const r of t)this._zones[r.id].isInHiddenArea||(i[r.id]=r,n=!0);const s=Object.keys(this._zones);for(let r=0,a=s.length;r<a;r++){const l=s[r],d=this._zones[l];let u=0,m=0,C="none";i.hasOwnProperty(l)?(u=i[l].verticalOffset-e.bigNumbersDelta,m=i[l].height,C="block",d.isVisible||(d.domNode.setAttribute("monaco-visible-view-zone","true"),d.isVisible=!0),this._safeCallOnDomNodeTop(d.delegate,e.getScrolledTopFromAbsoluteTop(i[l].verticalOffset))):(d.isVisible&&(d.domNode.removeAttribute("monaco-visible-view-zone"),d.isVisible=!1),this._safeCallOnDomNodeTop(d.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),d.domNode.setTop(u),d.domNode.setHeight(m),d.domNode.setDisplay(C),d.marginDomNode&&(d.marginDomNode.setTop(u),d.marginDomNode.setHeight(m),d.marginDomNode.setDisplay(C))}n&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}class w0{constructor(e){this._theme=e}get type(){return this._theme.type}get value(){return this._theme}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class S0{constructor(e,t,i){this.configuration=e,this.theme=new w0(t),this.model=i,this.viewLayout=i.viewLayout}addEventHandler(e){this.model.addViewEventHandler(e)}removeEventHandler(e){this.model.removeViewEventHandler(e)}}class y0{constructor(e,t,i,n){this.selections=e,this.startLineNumber=0|t.startLineNumber,this.endLineNumber=0|t.endLineNumber,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=0|t.bigNumbersDelta,this.whitespaceViewportData=i,this._model=n,this.visibleRange=new Ze.e(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class L0 extends ka{constructor(e,t,i,n,s,r){super(),this._selections=[new Xt.Y(1,1,1,1)],this._renderAnimationFrame=null;const a=new P1(t,n,s,e);this._context=new S0(t,i.getColorTheme(),n),this._context.addEventHandler(this),this._register(i.onDidColorThemeChange(j=>{this._context.theme.update(j),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new N1(this._context,a,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,dt.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,dt.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,dt.X)(document.createElement("div")),Qs.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new K1(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new X1(this._context,this._linesContent),this._viewZones=new b0(this._context),this._viewParts.push(this._viewZones);const l=new l0(this._context);this._viewParts.push(l);const d=new u0(this._context);this._viewParts.push(d);const u=new F1(this._context);this._viewParts.push(u),u.addDynamicOverlay(new z1(this._context)),u.addDynamicOverlay(new _0(this._context)),u.addDynamicOverlay(new Z1(this._context)),u.addDynamicOverlay(new j1(this._context));const m=new W1(this._context);this._viewParts.push(m),m.addDynamicOverlay(new U1(this._context)),m.addDynamicOverlay(new $1(this._context)),m.addDynamicOverlay(new e0(this._context)),m.addDynamicOverlay(new J1(this._context)),m.addDynamicOverlay(new kf(this._context));const C=new Tf(this._context);C.getDomNode().appendChild(this._viewZones.marginDomNode),C.getDomNode().appendChild(m.getDomNode()),this._viewParts.push(C),this._contentWidgets=new V1(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new C0(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new r0(this._context),this._viewParts.push(this._overlayWidgets);const S=new h0(this._context);this._viewParts.push(S);const M=new o0(this._context);if(this._viewParts.push(M),l){const j=this._scrollbar.getOverviewRulerLayoutInfo();j.parent.insertBefore(l.getDomNode(),j.insertBefore)}this._linesContent.appendChild(u.getDomNode()),this._linesContent.appendChild(S.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(C.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(d.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(M.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),r?r.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new E1(this._context,a,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new _1(e,t)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Xe.L(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(e))}}_applyLayout(){const t=this._context.configuration.options.get(131);this.domNode.setWidth(t.width),this.domNode.setHeight(t.height),this._overflowGuardContainer.setWidth(t.width),this._overflowGuardContainer.setHeight(t.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(128)+" "+(0,Ut.m6)(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=ue.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){!function E0(o){try{o()}catch(e){(0,he.dL)(e)}}(()=>this._actualRender())}_getViewPartsToRender(){const e=[];let t=0;for(const i of this._viewParts)i.shouldRender()&&(e[t++]=i);return e}_actualRender(){if(!ue.Uw(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===e.length)return;const t=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);const i=new y0(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(i),this._viewLines.shouldRender()&&(this._viewLines.renderText(i),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const n=new c1(this._context.viewLayout,i,this._viewLines);for(const s of e)s.prepareRender(n);for(const s of e)s.render(n),s.onDidRender()}delegateVerticalScrollbarMouseDown(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)}restoreState(e){this._context.model.setScrollPosition({scrollTop:e.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,t){const i=this._context.model.validateModelPosition({lineNumber:e,column:t}),n=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();const s=this._viewLines.visibleRangeForPosition(new Xe.L(n.lineNumber,n.column));return s?s.left:-1}getTargetAtClientPoint(e,t){const i=this._pointerHandler.getTargetAtClientPoint(e,t);return i?Bl.convertViewToModelMouseTarget(i,this._context.model.coordinatesConverter):null}createOverviewRuler(e){return new d0(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(const i of this._viewParts)i.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){let t=e.position&&e.position.range||null;if(null===t){const n=e.position?e.position.position:null;null!==n&&(t=new Ze.e(n.lineNumber,n.column,n.lineNumber,n.column))}this._contentWidgets.setWidgetPosition(e.widget,t,e.position?e.position.preference:null),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){this._overlayWidgets.setWidgetPosition(e.widget,e.position?e.position.preference:null)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}}class Ul{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new cn(new Ze.e(1,1,1,1),0,new Xe.L(1,1),0),new cn(new Ze.e(1,1,1,1),0,new Xe.L(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){!this._trackSelection||(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new Kt(this.modelState,this.viewState)}readSelectionFromMarkers(e){const t=e.model._getTrackedRange(this._selTrackedRange);return Xt.Y.fromRange(t,this.modelState.selection.getDirection())}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,i){this._setState(e,t,i)}static _validatePositionWithCache(e,t,i,n){return t.equals(i)?n:e.normalizePosition(t,2)}static _validateViewState(e,t){const i=t.position,n=t.selectionStart.getStartPosition(),s=t.selectionStart.getEndPosition(),r=e.normalizePosition(i,2),a=this._validatePositionWithCache(e,n,i,r),l=this._validatePositionWithCache(e,s,n,a);return i.equals(r)&&n.equals(a)&&s.equals(l)?t:new cn(Ze.e.fromPositions(a,l),t.selectionStartLeftoverVisibleColumns+n.column-a.column,r,t.leftoverVisibleColumns+i.column-r.column)}_setState(e,t,i){if(i&&(i=Ul._validateViewState(e.viewModel,i)),t){const n=e.model.validateRange(t.selectionStart),s=t.selectionStart.equalsRange(n)?t.selectionStartLeftoverVisibleColumns:0,r=e.model.validatePosition(t.position),a=t.position.equals(r)?t.leftoverVisibleColumns:0;t=new cn(n,s,r,a)}else{if(!i)return;const n=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(i.selectionStart)),s=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(i.position));t=new cn(n,i.selectionStartLeftoverVisibleColumns,s,i.leftoverVisibleColumns)}if(i){const n=e.coordinatesConverter.validateViewRange(i.selectionStart,t.selectionStart),s=e.coordinatesConverter.validateViewPosition(i.position,t.position);i=new cn(n,t.selectionStartLeftoverVisibleColumns,s,t.leftoverVisibleColumns)}else{const n=e.coordinatesConverter.convertModelPositionToViewPosition(new Xe.L(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),s=e.coordinatesConverter.convertModelPositionToViewPosition(new Xe.L(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),r=new Ze.e(n.lineNumber,n.column,s.lineNumber,s.column),a=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);i=new cn(r,t.selectionStartLeftoverVisibleColumns,a,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=i,this._updateTrackedRange(e)}}class eg{constructor(e){this.context=e,this.cursors=[new Ul(e)],this.lastAddedCursorIndex=0}dispose(){for(const e of this.cursors)e.dispose(this.context)}startTrackingSelections(){for(const e of this.cursors)e.startTrackingSelection(this.context)}stopTrackingSelections(){for(const e of this.cursors)e.stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){for(const e of this.cursors)e.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(e=>e.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(e=>e.asCursorState())}getViewPositions(){return this.cursors.map(e=>e.viewState.position)}getTopMostViewPosition(){return(0,y.VJ)(this.cursors,(0,y.tT)(e=>e.viewState.position,Xe.L.compare)).viewState.position}getBottomMostViewPosition(){return(0,y.jV)(this.cursors,(0,y.tT)(e=>e.viewState.position,Xe.L.compare)).viewState.position}getSelections(){return this.cursors.map(e=>e.modelState.selection)}getViewSelections(){return this.cursors.map(e=>e.viewState.selection)}setSelections(e){this.setStates(Kt.fromModelSelections(e))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(e){null!==e&&(this.cursors[0].setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const t=this.cursors.length-1,i=e.length;if(t<i){const n=i-t;for(let s=0;s<n;s++)this._addSecondaryCursor()}else if(t>i){const n=t-i;for(let s=0;s<n;s++)this._removeSecondaryCursor(this.cursors.length-2)}for(let n=0;n<i;n++)this.cursors[n+1].setState(this.context,e[n].modelState,e[n].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new Ul(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return 1===this.cursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.cursors[e+1].dispose(this.context),this.cursors.splice(e+1,1)}normalize(){if(1===this.cursors.length)return;const e=this.cursors.slice(0),t=[];for(let i=0,n=e.length;i<n;i++)t.push({index:i,selection:e[i].modelState.selection});t.sort((0,y.tT)(i=>i.selection,Ze.e.compareRangesUsingStarts));for(let i=0;i<t.length-1;i++){const n=t[i],s=t[i+1],r=n.selection,a=s.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let l;if(l=a.isEmpty()||r.isEmpty()?a.getStartPosition().isBeforeOrEqual(r.getEndPosition()):a.getStartPosition().isBefore(r.getEndPosition()),l){const d=n.index<s.index?i:i+1,u=n.index<s.index?i+1:i,m=t[u].index,C=t[d].index,S=t[u].selection,M=t[d].selection;if(!S.equalsSelection(M)){const j=S.plusRange(M),J=S.selectionStartLineNumber===S.startLineNumber&&S.selectionStartColumn===S.startColumn,ne=M.selectionStartLineNumber===M.startLineNumber&&M.selectionStartColumn===M.startColumn;let X,le;m===this.lastAddedCursorIndex?(X=J,this.lastAddedCursorIndex=C):X=ne,le=X?new Xt.Y(j.startLineNumber,j.startColumn,j.endLineNumber,j.endColumn):new Xt.Y(j.endLineNumber,j.endColumn,j.startLineNumber,j.startColumn),t[d].selection=le;const Ce=Kt.fromModelSelection(le);e[C].setState(this.context,Ce.modelState,Ce.viewState)}for(const j of t)j.index>m&&j.index--;e.splice(m,1),t.splice(u,1),this._removeSecondaryCursor(m-1),i--}}}}var Vo=L(42814);class x0{constructor(){this.type=0}}class N0{constructor(){this.type=1}}class I0{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class D0{constructor(e,t){this.type=3,this.selections=e,this.modelSelections=t}}class Yr{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class jl{constructor(){this.type=5}}class k0{constructor(e){this.type=6,this.isFocused=e}}class T0{constructor(){this.type=7}}class Kl{constructor(){this.type=8}}class tg{constructor(e,t){this.type=9,this.fromLineNumber=e,this.toLineNumber=t}}class Id{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}}class Dd{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}}class $l{constructor(e,t,i,n,s,r,a){this.source=e,this.minimalReveal=t,this.range=i,this.selections=n,this.verticalType=s,this.revealHorizontal=r,this.scrollType=a,this.type=12}}class M0{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class R0{constructor(){this.type=14}}class O0{constructor(e){this.type=15,this.ranges=e}}class A0{constructor(){this.type=16}}class P0{constructor(){this.type=17}}class B0 extends ze.JT{constructor(){super(),this._onEvent=this._register(new Be.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let t=0,i=this._outgoingEvents.length;t<i;t++)if(this._outgoingEvents[t].kind===e.kind)return void(this._outgoingEvents[t]=this._outgoingEvents[t].merge(e));this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,i=this._eventHandlers.length;t<i;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new F0),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const i of e)this._addOutgoingEvent(i);t.length>0&&this._emitMany(t)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue=this._viewEventQueue?this._viewEventQueue.concat(e):e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const i of t)i.handleEvents(e)}}}class F0{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class kd{constructor(e,t,i,n){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=i,this.contentHeight=n,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(e){return 0!==e.kind?this:new kd(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class Td{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(e){return 1!==e.kind?this:new Td(this.oldHasFocus,e.hasFocus)}}class Md{constructor(e,t,i,n,s,r,a,l){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=i,this._oldScrollTop=n,this.scrollWidth=s,this.scrollLeft=r,this.scrollHeight=a,this.scrollTop=l,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}merge(e){return 2!==e.kind?this:new Md(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class ig{constructor(){this.kind=3}isNoOp(){return!1}merge(e){return this}}class Gl{constructor(e,t,i,n,s,r,a){this.kind=6,this.oldSelections=e,this.selections=t,this.oldModelVersionId=i,this.modelVersionId=n,this.source=s,this.reason=r,this.reachedMaxCursorCount=a}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const i=e.length;if(i!==t.length)return!1;for(let s=0;s<i;s++)if(!e[s].equalsSelection(t[s]))return!1;return!0}isNoOp(){return Gl._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(e){return 6!==e.kind?this:new Gl(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class W0{constructor(){this.kind=5}isNoOp(){return!1}merge(e){return this}}let ng=(()=>{class o extends ze.JT{constructor(t,i,n,s){super(),this._model=t,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=i,this._coordinatesConverter=n,this.context=new Rf(this._model,this._viewModel,this._coordinatesConverter,s),this._cursors=new eg(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,ze.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(t){this.context=new Rf(this._model,this._viewModel,this._coordinatesConverter,t),this._cursors.updateContext(this.context)}onLineMappingChanged(t){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(t,"viewModel",0,this.getCursorStates())}setHasFocus(t){this._hasFocus=t}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const t=this._cursors.getSelections();for(let i=0;i<this._autoClosedActions.length;i++){const n=this._autoClosedActions[i];n.isValid(t)||(n.dispose(),this._autoClosedActions.splice(i,1),i--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(t,i,n,s){let r=!1;null!==s&&s.length>o.MAX_CURSOR_COUNT&&(s=s.slice(0,o.MAX_CURSOR_COUNT),r=!0);const a=Ha.from(this._model,this);return this._cursors.setStates(s),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,i,n,a,r)}setCursorColumnSelectData(t){this._columnSelectData=t}revealPrimary(t,i,n,s,r,a){const l=this._cursors.getViewPositions();let d=null,u=null;l.length>1?u=this._cursors.getViewSelections():d=Ze.e.fromPositions(l[0],l[0]),t.emitViewEvent(new $l(i,n,d,u,s,r,a))}saveState(){const t=[],i=this._cursors.getSelections();for(let n=0,s=i.length;n<s;n++){const r=i[n];t.push({inSelectionMode:!r.isEmpty(),selectionStart:{lineNumber:r.selectionStartLineNumber,column:r.selectionStartColumn},position:{lineNumber:r.positionLineNumber,column:r.positionColumn}})}return t}restoreState(t,i){const n=[];for(let s=0,r=i.length;s<r;s++){const a=i[s];let l=1,d=1;a.position&&a.position.lineNumber&&(l=a.position.lineNumber),a.position&&a.position.column&&(d=a.position.column);let u=l,m=d;a.selectionStart&&a.selectionStart.lineNumber&&(u=a.selectionStart.lineNumber),a.selectionStart&&a.selectionStart.column&&(m=a.selectionStart.column),n.push({selectionStartLineNumber:u,selectionStartColumn:m,positionLineNumber:l,positionColumn:d})}this.setStates(t,"restoreState",0,Kt.fromModelSelections(n)),this.revealPrimary(t,"restoreState",!1,0,!0,1)}onModelContentChanged(t,i){if(i instanceof Vo.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(t,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=i.versionId,this._isHandling)return;const n=i.containsEvent(1);if(this._prevEditOperationType=0,n)this._cursors.dispose(),this._cursors=new eg(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,"model",1,null,!1);else if(this._hasFocus&&i.resultingSelection&&i.resultingSelection.length>0){const s=Kt.fromModelSelections(i.resultingSelection);this.setStates(t,"modelChange",i.isUndoing?5:i.isRedoing?6:2,s)&&this.revealPrimary(t,"modelChange",!1,0,!0,0)}else{const s=this._cursors.readSelectionFromMarkers();this.setStates(t,"modelChange",2,Kt.fromModelSelections(s))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const t=this._cursors.getPrimaryCursor(),i=t.viewState.selectionStart.getStartPosition(),n=t.viewState.position;return{isReal:!1,fromViewLineNumber:i.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,i),toViewLineNumber:n.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,n)}}getSelections(){return this._cursors.getSelections()}setSelections(t,i,n,s){this.setStates(t,i,s,Kt.fromModelSelections(n))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(t){this._prevEditOperationType=t}_pushAutoClosedAction(t,i){const n=[],s=[];for(let l=0,d=t.length;l<d;l++)n.push({range:t[l],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),s.push({range:i[l],options:{description:"auto-closed-enclosing",stickiness:1}});const r=this._model.deltaDecorations([],n),a=this._model.deltaDecorations([],s);this._autoClosedActions.push(new sg(this._model,r,a))}_executeEditOperation(t){if(!t)return;t.shouldPushStackElementBefore&&this._model.pushStackElement();const i=class V0{static executeCommands(e,t,i){const n={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},s=this._innerExecuteCommands(n,i);for(let r=0,a=n.trackedRanges.length;r<a;r++)n.model._setTrackedRange(n.trackedRanges[r],null,0);return s}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;const i=this._getEditOperations(e,t);if(0===i.operations.length)return null;const n=i.operations,s=this._getLoserCursorMap(n);if(s.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const r=[];for(let d=0,u=n.length;d<u;d++)s.hasOwnProperty(n[d].identifier.major.toString())||r.push(n[d]);i.hadTrackedEditOperation&&r.length>0&&(r[0]._isTracked=!0);let a=e.model.pushEditOperations(e.selectionsBefore,r,d=>{const u=[];for(let S=0;S<e.selectionsBefore.length;S++)u[S]=[];for(const S of d)!S.identifier||u[S.identifier.major].push(S);const m=(S,M)=>S.identifier.minor-M.identifier.minor,C=[];for(let S=0;S<e.selectionsBefore.length;S++)u[S].length>0?(u[S].sort(m),C[S]=t[S].computeCursorState(e.model,{getInverseEditOperations:()=>u[S],getTrackedSelection:M=>{const j=parseInt(M,10),J=e.model._getTrackedRange(e.trackedRanges[j]);return 0===e.trackedRangesDirection[j]?new Xt.Y(J.startLineNumber,J.startColumn,J.endLineNumber,J.endColumn):new Xt.Y(J.endLineNumber,J.endColumn,J.startLineNumber,J.startColumn)}})):C[S]=e.selectionsBefore[S];return C});a||(a=e.selectionsBefore);const l=[];for(let d in s)s.hasOwnProperty(d)&&l.push(parseInt(d,10));l.sort((d,u)=>u-d);for(const d of l)a.splice(d,1);return a}static _arrayIsEmpty(e){for(let t=0,i=e.length;t<i;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let i=[],n=!1;for(let s=0,r=t.length;s<r;s++){const a=t[s];if(a){const l=this._getEditOperationsFromCommand(e,s,a);i=i.concat(l.operations),n=n||l.hadTrackedEditOperation}}return{operations:i,hadTrackedEditOperation:n}}static _getEditOperationsFromCommand(e,t,i){const n=[];let s=0;const r=(m,C,S=!1)=>{Ze.e.isEmpty(m)&&""===C||n.push({identifier:{major:t,minor:s++},range:m,text:C,forceMoveMarkers:S,isAutoWhitespaceEdit:i.insertsAutoWhitespace})};let a=!1;const u={addEditOperation:r,addTrackedEditOperation:(m,C,S)=>{a=!0,r(m,C,S)},trackSelection:(m,C)=>{const S=Xt.Y.liftSelection(m);let M;if(S.isEmpty())if("boolean"==typeof C)M=C?2:3;else{const ne=e.model.getLineMaxColumn(S.startLineNumber);M=S.startColumn===ne?2:3}else M=1;const j=e.trackedRanges.length,J=e.model._setTrackedRange(null,S,M);return e.trackedRanges[j]=J,e.trackedRangesDirection[j]=S.getDirection(),j.toString()}};try{i.getEditOperations(e.model,u)}catch(m){return(0,he.dL)(m),{operations:[],hadTrackedEditOperation:!1}}return{operations:n,hadTrackedEditOperation:a}}static _getLoserCursorMap(e){(e=e.slice(0)).sort((i,n)=>-Ze.e.compareRangesUsingEnds(i.range,n.range));const t={};for(let i=1;i<e.length;i++){const n=e[i-1],s=e[i];if(Ze.e.getStartPosition(n.range).isBefore(Ze.e.getEndPosition(s.range))){let r;r=n.identifier.major>s.identifier.major?n.identifier.major:s.identifier.major,t[r.toString()]=!0;for(let a=0;a<e.length;a++)e[a].identifier.major===r&&(e.splice(a,1),a<i&&i--,a--);i>0&&i--}}return t}}.executeCommands(this._model,this._cursors.getSelections(),t.commands);if(i){this._interpretCommandResult(i);const n=[],s=[];for(let r=0;r<t.commands.length;r++){const a=t.commands[r];a instanceof Of&&a.enclosingRange&&a.closeCharacterRange&&(n.push(a.closeCharacterRange),s.push(a.enclosingRange))}n.length>0&&this._pushAutoClosedAction(n,s),this._prevEditOperationType=t.type}t.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(t){(!t||0===t.length)&&(t=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(t),this._cursors.normalize()}_emitStateChangedIfNecessary(t,i,n,s,r){const a=Ha.from(this._model,this);if(a.equals(s))return!1;const l=this._cursors.getSelections(),d=this._cursors.getViewSelections();if(t.emitViewEvent(new D0(d,l)),!s||s.cursorState.length!==a.cursorState.length||a.cursorState.some((u,m)=>!u.modelState.equals(s.cursorState[m].modelState))){const u=s?s.cursorState.map(C=>C.modelState.selection):null;t.emitOutgoingEvent(new Gl(u,l,s?s.modelVersionId:0,a.modelVersionId,i||"keyboard",n,r))}return!0}_findAutoClosingPairs(t){if(!t.length)return null;const i=[];for(let n=0,s=t.length;n<s;n++){const r=t[n];if(!r.text||r.text.indexOf("\n")>=0)return null;const a=r.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!a)return null;const d=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(a[1]);if(!d||1!==d.length)return null;const m=r.text.length-a[2].length-1,C=r.text.lastIndexOf(d[0].open,m-1);if(-1===C)return null;i.push([C,m])}return i}executeEdits(t,i,n,s){let r=null;"snippet"===i&&(r=this._findAutoClosingPairs(n)),r&&(n[0]._isTracked=!0);const a=[],l=[],d=this._model.pushEditOperations(this.getSelections(),n,u=>{if(r)for(let C=0,S=r.length;C<S;C++){const[M,j]=r[C],J=u[C],ne=J.range.startLineNumber,X=J.range.startColumn-1+M,le=J.range.startColumn-1+j;a.push(new Ze.e(ne,le+1,ne,le+2)),l.push(new Ze.e(ne,X+1,ne,le+2))}const m=s(u);return m&&(this._isHandling=!0),m});d&&(this._isHandling=!1,this.setSelections(t,i,d,0)),a.length>0&&this._pushAutoClosedAction(a,l)}_executeEdit(t,i,n,s=0){if(this.context.cursorConfig.readOnly)return;const r=Ha.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),t()}catch(a){(0,he.dL)(a)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(i,n,s,r,!1)&&this.revealPrimary(i,n,!1,0,!0,0)}setIsDoingComposition(t){this._isDoingComposition=t}getAutoClosedCharacters(){return sg.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(t){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(t,i){this._executeEdit(()=>{"keyboard"===i&&(this._executeEditOperation(Ai.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},t,i)}type(t,i,n){this._executeEdit(()=>{if("keyboard"===n){const s=i.length;let r=0;for(;r<s;){const a=ut.vH(i,r),l=i.substr(r,a);this._executeEditOperation(Ai.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),l)),r+=a}}else this._executeEditOperation(Ai.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),i))},t,n)}compositionType(t,i,n,s,r,a){if(0!==i.length||0!==n||0!==s)this._executeEdit(()=>{this._executeEditOperation(Ai.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),i,n,s,r))},t,a);else if(0!==r){const l=this.getSelections().map(d=>{const u=d.getPosition();return new Xt.Y(u.lineNumber,u.column+r,u.lineNumber,u.column+r)});this.setSelections(t,a,l,0)}}paste(t,i,n,s,r){this._executeEdit(()=>{this._executeEditOperation(Ai.paste(this.context.cursorConfig,this._model,this.getSelections(),i,n,s||[]))},t,r,4)}cut(t,i){this._executeEdit(()=>{this._executeEditOperation(ar.cut(this.context.cursorConfig,this._model,this.getSelections()))},t,i)}executeCommand(t,i,n){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new Zn(0,[i],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t,n)}executeCommands(t,i,n){this._executeEdit(()=>{this._executeEditOperation(new Zn(0,i,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t,n)}}return o.MAX_CURSOR_COUNT=1e4,o})();class Ha{constructor(e,t){this.modelVersionId=e,this.cursorState=t}static from(e,t){return new Ha(e.getVersionId(),t.getCursorStates())}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,i=this.cursorState.length;t<i;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class sg{constructor(e,t,i){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=i}static getAllAutoClosedCharacters(e){let t=[];for(const i of e)t=t.concat(i.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const i=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);i&&e.push(i)}return e}isValid(e){const t=[];for(let i=0;i<this._autoClosedEnclosingDecorations.length;i++){const n=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[i]);if(n&&(t.push(n),n.startLineNumber!==n.endLineNumber))return!1}t.sort(Ze.e.compareRangesUsingStarts),e.sort(Ze.e.compareRangesUsingStarts);for(let i=0;i<e.length;i++)if(i>=t.length||!t[i].strictContainsRange(e[i]))return!1;return!0}}class og{constructor(e,t,i,n,s,r){this.id=e,this.label=t,this.alias=i,this._precondition=n,this._run=s,this._contextKeyService=r}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}var Ls=L(29537),Qr=L(59341),H0=L(83350);const Xr_Configuration="base.contributions.configuration",Rd={properties:{},patternProperties:{}},Od={properties:{},patternProperties:{}},Ad={properties:{},patternProperties:{}},Pd={properties:{},patternProperties:{}},Bd={properties:{},patternProperties:{}},Zl={properties:{},patternProperties:{}},za="vscode://schemas/settings/resourceLanguage",rg=Ls.B.as(H0.I.JSONContribution),ag="\\[([^\\]]+)\\]",lg=new RegExp(ag,"g"),dr=`^(${ag})+$`,Ua=new RegExp(dr);function cg(o){const e=[];if(Ua.test(o)){let t=lg.exec(o);for(;null==t?void 0:t.length;){const i=t[1].trim();i&&e.push(i),t=lg.exec(o)}}return(0,y.EB)(e)}const dg=new class z0{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new Be.Q5,this._onDidUpdateConfiguration=new Be.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:_.N("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},rg.registerSchema(za,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const i=this.doRegisterConfigurations(e,t);rg.registerSchema(za,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}registerDefaultConfigurations(e){var t;const i=[],n=[];for(const{overrides:s,source:r}of e)for(const a in s)if(i.push(a),Ua.test(a)){const l=Object.assign(Object.assign({},(null===(t=this.configurationDefaultsOverrides.get(a))||void 0===t?void 0:t.value)||{}),s[a]);this.configurationDefaultsOverrides.set(a,{source:r,value:l});const d={type:"object",default:l,description:_.N("defaultLanguageConfiguration.description","Configure settings to be overridden for {0} language.",a),$ref:za,defaultDefaultValue:l,source:be.HD(r)?void 0:r};n.push(...cg(a)),this.configurationProperties[a]=d,this.defaultLanguageConfigurationOverridesNode.properties[a]=d}else{this.configurationDefaultsOverrides.set(a,{value:s[a],source:r});const l=this.configurationProperties[a];l&&(this.updatePropertyDefaultValue(a,l),this.updateSchema(a,l))}this.registerOverrideIdentifiers(n),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i,defaultsOverrides:!0})}registerOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t){const i=[];return e.forEach(n=>{i.push(...this.validateAndRegisterProperties(n,t,n.extensionInfo,n.restrictedProperties)),this.configurationContributors.push(n),this.registerJSONConfiguration(n)}),i}validateAndRegisterProperties(e,t=!0,i,n,s=3){s=be.Jp(e.scope)?s:e.scope;let r=[],a=e.properties;if(a)for(let d in a){if(t&&j0(d)){delete a[d];continue}const u=a[d];u.source=i,u.defaultDefaultValue=a[d].default,this.updatePropertyDefaultValue(d,u),Ua.test(d)?u.scope=void 0:(u.scope=be.Jp(u.scope)?s:u.scope,u.restricted=be.Jp(u.restricted)?!!(null==n?void 0:n.includes(d)):u.restricted),!a[d].hasOwnProperty("included")||a[d].included?(this.configurationProperties[d]=a[d],!a[d].deprecationMessage&&a[d].markdownDeprecationMessage&&(a[d].deprecationMessage=a[d].markdownDeprecationMessage),r.push(d)):(this.excludedConfigurationProperties[d]=a[d],delete a[d])}let l=e.allOf;if(l)for(let d of l)r.push(...this.validateAndRegisterProperties(d,t,i,n,s));return r}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(e){const t=i=>{let n=i.properties;if(n)for(const r in n)this.updateSchema(r,n[r]);let s=i.allOf;s&&s.forEach(t)};t(e)}updateSchema(e,t){switch(Rd.properties[e]=t,t.scope){case 1:Od.properties[e]=t;break;case 2:Ad.properties[e]=t;break;case 6:Pd.properties[e]=t;break;case 3:Bd.properties[e]=t;break;case 4:Zl.properties[e]=t;break;case 5:Zl.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,i={type:"object",description:_.N("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:_.N("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:za};this.updatePropertyDefaultValue(t,i),Rd.properties[t]=i,Od.properties[t]=i,Ad.properties[t]=i,Pd.properties[t]=i,Bd.properties[t]=i,Zl.properties[t]=i}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const e={type:"object",description:_.N("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:_.N("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:za};Rd.patternProperties[dr]=e,Od.patternProperties[dr]=e,Ad.patternProperties[dr]=e,Pd.patternProperties[dr]=e,Bd.patternProperties[dr]=e,Zl.patternProperties[dr]=e,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){const i=this.configurationDefaultsOverrides.get(e);let n=null==i?void 0:i.value,s=null==i?void 0:i.source;be.o8(n)&&(n=t.defaultDefaultValue,s=void 0),be.o8(n)&&(n=function U0(o){switch(Array.isArray(o)?o[0]:o){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(t.type)),t.default=n,t.defaultValueSource=s}};function j0(o){return o.trim()?Ua.test(o)?_.N("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",o):void 0!==dg.getConfigurationProperties()[o]?_.N("config.property.duplicate","Cannot register '{0}'. This property is already registered.",o):null:_.N("config.property.empty","Cannot register an empty property")}Ls.B.add(Xr_Configuration,dg);const Jr=new class $0{constructor(){this._onDidChangeLanguages=new Be.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===e)return void this._languages.splice(t,1)}}}getLanguages(){return this._languages}};Ls.B.add("editor.modesRegistry",Jr);const hr="plaintext";function q0(o,e,t,i,n,s,r){let a="<div>",l=i,d=0,u=!0;for(let m=0,C=e.getCount();m<C;m++){const S=e.getEndOffset(m);if(S<=i)continue;let M="";for(;l<S&&l<n;l++){const j=o.charCodeAt(l);switch(j){case 9:{let J=s-(l+d)%s;for(d+=J-1;J>0;)r&&u?(M+="&#160;",u=!1):(M+=" ",u=!0),J--;break}case 60:M+="&lt;",u=!1;break;case 62:M+="&gt;",u=!1;break;case 38:M+="&amp;",u=!1;break;case 0:M+="&#00;",u=!1;break;case 65279:case 8232:case 8233:case 133:M+="\ufffd",u=!1;break;case 13:M+="&#8203",u=!1;break;case 32:r&&u?(M+="&#160;",u=!1):(M+=" ",u=!0);break;default:M+=String.fromCharCode(j),u=!1}}if(a+=`<span style="${e.getInlineStyle(m,t)}">${M}</span>`,S>n||l>=n)break}return a+="</div>",a}Jr.registerLanguage({id:hr,extensions:[".txt"],aliases:[_.N("plainText.alias","Plain Text"),"text"],mimetypes:[Qr.v.text]}),an.zu.register(hr,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0),Ls.B.as(Xr_Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}]);var Fd=L(17838);class Y0{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,i=this._changes,n=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,i,n)}}class Q0{constructor(e,t,i,n,s){this.id=e,this.afterLineNumber=t,this.ordinal=i,this.height=n,this.minWidth=s,this.prefixSum=0}}let X0=(()=>{class o{constructor(t,i,n,s){this._instanceId=ut.PJ(++o.INSTANCE_COUNT),this._pendingChanges=new Y0,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=t,this._lineHeight=i,this._paddingTop=n,this._paddingBottom=s}static findInsertionIndex(t,i,n){let s=0,r=t.length;for(;s<r;){const a=s+r>>>1;i===t[a].afterLineNumber?n<t[a].ordinal?r=a:s=a+1:i<t[a].afterLineNumber?r=a:s=a+1}return s}setLineHeight(t){this._checkPendingChanges(),this._lineHeight=t}setPadding(t,i){this._paddingTop=t,this._paddingBottom=i}onFlushed(t){this._checkPendingChanges(),this._lineCount=t}changeWhitespace(t){let i=!1;try{t({insertWhitespace:(s,r,a,l)=>{i=!0,s|=0,r|=0,a|=0,l|=0;const d=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new Q0(d,s,r,a,l)),d},changeOneWhitespace:(s,r,a)=>{i=!0,this._pendingChanges.change({id:s,newAfterLineNumber:r|=0,newHeight:a|=0})},removeWhitespace:s=>{i=!0,this._pendingChanges.remove({id:s})}})}finally{this._pendingChanges.commit(this)}return i}_commitPendingChanges(t,i,n){if((t.length>0||n.length>0)&&(this._minWidth=-1),t.length+i.length+n.length<=1){for(const d of t)this._insertWhitespace(d);for(const d of i)this._changeOneWhitespace(d.id,d.newAfterLineNumber,d.newHeight);for(const d of n){const u=this._findWhitespaceIndex(d.id);-1!==u&&this._removeWhitespace(u)}return}const s=new Set;for(const d of n)s.add(d.id);const r=new Map;for(const d of i)r.set(d.id,d);const a=d=>{const u=[];for(const m of d)if(!s.has(m.id)){if(r.has(m.id)){const C=r.get(m.id);m.afterLineNumber=C.newAfterLineNumber,m.height=C.newHeight}u.push(m)}return u},l=a(this._arr).concat(a(t));l.sort((d,u)=>d.afterLineNumber===u.afterLineNumber?d.ordinal-u.ordinal:d.afterLineNumber-u.afterLineNumber),this._arr=l,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(t){const i=o.findInsertionIndex(this._arr,t.afterLineNumber,t.ordinal);this._arr.splice(i,0,t),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,i-1)}_findWhitespaceIndex(t){const i=this._arr;for(let n=0,s=i.length;n<s;n++)if(i[n].id===t)return n;return-1}_changeOneWhitespace(t,i,n){const s=this._findWhitespaceIndex(t);if(-1!==s&&(this._arr[s].height!==n&&(this._arr[s].height=n,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,s-1)),this._arr[s].afterLineNumber!==i)){const r=this._arr[s];this._removeWhitespace(s),r.afterLineNumber=i,this._insertWhitespace(r)}}_removeWhitespace(t){this._arr.splice(t,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}onLinesDeleted(t,i){this._checkPendingChanges(),this._lineCount-=(i|=0)-(t|=0)+1;for(let n=0,s=this._arr.length;n<s;n++){const r=this._arr[n].afterLineNumber;t<=r&&r<=i?this._arr[n].afterLineNumber=t-1:r>i&&(this._arr[n].afterLineNumber-=i-t+1)}}onLinesInserted(t,i){this._checkPendingChanges(),this._lineCount+=(i|=0)-(t|=0)+1;for(let n=0,s=this._arr.length;n<s;n++)t<=this._arr[n].afterLineNumber&&(this._arr[n].afterLineNumber+=i-t+1)}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(t){this._checkPendingChanges(),t|=0;let i=Math.max(0,this._prefixSumValidIndex+1);0===i&&(this._arr[0].prefixSum=this._arr[0].height,i++);for(let n=i;n<=t;n++)this._arr[n].prefixSum=this._arr[n-1].prefixSum+this._arr[n].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,t),this._arr[t].prefixSum}getLinesTotalHeight(){return this._checkPendingChanges(),this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(t){this._checkPendingChanges();const i=this._findLastWhitespaceBeforeLineNumber(t|=0);return-1===i?0:this.getWhitespacesAccumulatedHeight(i)}_findLastWhitespaceBeforeLineNumber(t){t|=0;const i=this._arr;let n=0,s=i.length-1;for(;n<=s;){const l=n+((s-n|0)/2|0)|0;if(i[l].afterLineNumber<t){if(l+1>=i.length||i[l+1].afterLineNumber>=t)return l;n=l+1|0}else s=l-1|0}return-1}_findFirstWhitespaceAfterLineNumber(t){const n=this._findLastWhitespaceBeforeLineNumber(t|=0)+1;return n<this._arr.length?n:-1}getFirstWhitespaceIndexAfterLineNumber(t){return this._checkPendingChanges(),this._findFirstWhitespaceAfterLineNumber(t|=0)}getVerticalOffsetForLineNumber(t){let i;return this._checkPendingChanges(),i=(t|=0)>1?this._lineHeight*(t-1):0,i+this.getWhitespaceAccumulatedHeightBeforeLineNumber(t)+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let t=0;for(let i=0,n=this._arr.length;i<n;i++)t=Math.max(t,this._arr[i].minWidth);this._minWidth=t}return this._minWidth}isAfterLines(t){return this._checkPendingChanges(),t>this.getLinesTotalHeight()}isInTopPadding(t){return 0!==this._paddingTop&&(this._checkPendingChanges(),t<this._paddingTop)}isInBottomPadding(t){return 0!==this._paddingBottom&&(this._checkPendingChanges(),t>=this.getLinesTotalHeight()-this._paddingBottom)}getLineNumberAtOrAfterVerticalOffset(t){if(this._checkPendingChanges(),(t|=0)<0)return 1;const i=0|this._lineCount,n=this._lineHeight;let s=1,r=i;for(;s<r;){const a=(s+r)/2|0,l=0|this.getVerticalOffsetForLineNumber(a);if(t>=l+n)s=a+1;else{if(t>=l)return a;r=a}}return s>i?i:s}getLinesViewportData(t,i){this._checkPendingChanges(),i|=0;const n=this._lineHeight,s=0|this.getLineNumberAtOrAfterVerticalOffset(t|=0),r=0|this.getVerticalOffsetForLineNumber(s);let a=0|this._lineCount,l=0|this.getFirstWhitespaceIndexAfterLineNumber(s);const d=0|this.getWhitespacesCount();let u,m;-1===l?(l=d,m=a+1,u=0):(m=0|this.getAfterLineNumberForWhitespaceIndex(l),u=0|this.getHeightForWhitespaceIndex(l));let C=r,S=C;const M=5e5;let j=0;r>=M&&(j=Math.floor(r/M)*M,j=Math.floor(j/n)*n,S-=j);const J=[],ne=t+(i-t)/2;let X=-1;for(let Ne=s;Ne<=a;Ne++){if(-1===X){const ve=C,pe=C+n;(ve<=ne&&ne<pe||ve>ne)&&(X=Ne)}for(C+=n,J[Ne-s]=S,S+=n;m===Ne;)S+=u,C+=u,l++,l>=d?m=a+1:(m=0|this.getAfterLineNumberForWhitespaceIndex(l),u=0|this.getHeightForWhitespaceIndex(l));if(C>=i){a=Ne;break}}-1===X&&(X=a);const le=0|this.getVerticalOffsetForLineNumber(a);let Ce=s,ke=a;return Ce<ke&&r<t&&Ce++,Ce<ke&&le+n>i&&ke--,{bigNumbersDelta:j,startLineNumber:s,endLineNumber:a,relativeVerticalOffset:J,centeredLineNumber:X,completelyVisibleStartLineNumber:Ce,completelyVisibleEndLineNumber:ke}}getVerticalOffsetForWhitespaceIndex(t){this._checkPendingChanges();const i=this.getAfterLineNumberForWhitespaceIndex(t|=0);let n,s;return n=i>=1?this._lineHeight*i:0,s=t>0?this.getWhitespacesAccumulatedHeight(t-1):0,n+s+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(t){this._checkPendingChanges(),t|=0;let i=0,n=this.getWhitespacesCount()-1;if(n<0)return-1;if(t>=this.getVerticalOffsetForWhitespaceIndex(n)+this.getHeightForWhitespaceIndex(n))return-1;for(;i<n;){const a=Math.floor((i+n)/2),l=this.getVerticalOffsetForWhitespaceIndex(a);if(t>=l+this.getHeightForWhitespaceIndex(a))i=a+1;else{if(t>=l)return a;n=a}}return i}getWhitespaceAtVerticalOffset(t){this._checkPendingChanges();const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(t|=0);if(i<0||i>=this.getWhitespacesCount())return null;const n=this.getVerticalOffsetForWhitespaceIndex(i);if(n>t)return null;const s=this.getHeightForWhitespaceIndex(i);return{id:this.getIdForWhitespaceIndex(i),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(i),verticalOffset:n,height:s}}getWhitespaceViewportData(t,i){this._checkPendingChanges(),i|=0;const n=this.getWhitespaceIndexAtOrAfterVerticallOffset(t|=0),s=this.getWhitespacesCount()-1;if(n<0)return[];const r=[];for(let a=n;a<=s;a++){const l=this.getVerticalOffsetForWhitespaceIndex(a),d=this.getHeightForWhitespaceIndex(a);if(l>=i)break;r.push({id:this.getIdForWhitespaceIndex(a),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(a),verticalOffset:l,height:d})}return r}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(t){return this._checkPendingChanges(),this._arr[t|=0].id}getAfterLineNumberForWhitespaceIndex(t){return this._checkPendingChanges(),this._arr[t|=0].afterLineNumber}getHeightForWhitespaceIndex(t){return this._checkPendingChanges(),this._arr[t|=0].height}}return o.INSTANCE_COUNT=0,o})();class ja{constructor(e,t,i,n){(e|=0)<0&&(e=0),(t|=0)<0&&(t=0),(i|=0)<0&&(i=0),(n|=0)<0&&(n=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=i,this.contentHeight=n,this.scrollHeight=Math.max(i,n)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class eC extends ze.JT{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new Be.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new ja(0,0,0,0),this._scrollable=this._register(new Fd.Rm({forceIntegerValues:!0,smoothScrollDuration:e,scheduleAtNextAnimationFrame:t})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0),(t.contentWidth!==e.contentWidth||t.contentHeight!==e.contentHeight)&&this._onDidContentSizeChange.fire(new kd(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class tC extends ze.JT{constructor(e,t,i){super(),this._configuration=e;const n=this._configuration.options,s=n.get(131),r=n.get(75);this._linesLayout=new X0(t,n.get(59),r.top,r.bottom),this._scrollable=this._register(new eC(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new ja(s.contentWidth,0,s.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(103)?125:0)}onConfigurationChanged(e){const t=this._configuration.options;if(e.hasChanged(59)&&this._linesLayout.setLineHeight(t.get(59)),e.hasChanged(75)){const i=t.get(75);this._linesLayout.setPadding(i.top,i.bottom)}if(e.hasChanged(131)){const i=t.get(131),n=i.contentWidth,s=i.height,r=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new ja(n,r.contentWidth,s,this._getContentHeight(n,s,r.contentWidth)))}else this._updateHeight();e.hasChanged(103)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){const n=this._configuration.options.get(92);return 2===n.horizontal||e>=t?0:n.horizontalScrollbarSize}_getContentHeight(e,t,i){const n=this._configuration.options;let s=this._linesLayout.getLinesTotalHeight();return n.get(94)?s+=Math.max(0,t-n.get(59)-n.get(75).bottom):s+=this._getHorizontalScrollbarHeight(e,i),s}_updateHeight(){const e=this._scrollable.getScrollDimensions(),t=e.width,i=e.height;this._scrollable.setScrollDimensions(new ja(t,e.contentWidth,i,this._getContentHeight(t,i,e.contentWidth)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new cf(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new cf(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(e){const t=this._configuration.options,i=t.get(132),n=t.get(44);if(i.isViewportWrapping){const s=t.get(131),r=t.get(65);return e>s.contentWidth+n.typicalHalfwidthCharacterWidth&&r.enabled&&"right"===r.side?e+s.verticalScrollbarWidth:e}{const s=t.get(93)*n.typicalHalfwidthCharacterWidth,r=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+s,r)}}setMaxLineWidth(e){const t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new ja(t.width,this._computeContentWidth(e),t.height,t.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition(),t=e.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t);return{scrollTop:t,scrollTopWithoutViewZones:t-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i),scrollLeft:e.scrollLeft}}changeWhitespace(e){const t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){1===t?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,t){const i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})}}class iC{constructor(e,t,i,n,s){this.editorId=e,this.model=t,this.configuration=i,this._linesCollection=n,this._coordinatesConverter=s,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let i=this._decorationsCache[t];if(!i){const n=e.range,s=e.options;let r;if(s.isWholeLine){const a=this._coordinatesConverter.convertModelPositionToViewPosition(new Xe.L(n.startLineNumber,1),0),l=this._coordinatesConverter.convertModelPositionToViewPosition(new Xe.L(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)),1);r=new Ze.e(a.lineNumber,a.column,l.lineNumber,l.column)}else r=this._coordinatesConverter.convertModelRangeToViewRange(n,1);i=new df(r,s),this._decorationsCache[t]=i}return i}getDecorationsViewportData(e){let t=null!==this._cachedModelDecorationsResolver;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}_getDecorationsViewportData(e){const t=this._linesCollection.getDecorationsInRange(e,this.editorId,Ci(this.configuration.options)),i=e.startLineNumber,n=e.endLineNumber,s=[];let r=0;const a=[];for(let l=i;l<=n;l++)a[l-i]=[];for(let l=0,d=t.length;l<d;l++){const u=t[l],m=u.options;if(!nC(this.model,u))continue;const C=this._getOrCreateViewModelDecoration(u),S=C.range;if(s[r++]=C,m.inlineClassName){const M=new La(S,m.inlineClassName,m.inlineClassNameAffectsLetterSpacing?3:0),j=Math.max(i,S.startLineNumber),J=Math.min(n,S.endLineNumber);for(let ne=j;ne<=J;ne++)a[ne-i].push(M)}if(m.beforeContentClassName&&i<=S.startLineNumber&&S.startLineNumber<=n){const M=new La(new Ze.e(S.startLineNumber,S.startColumn,S.startLineNumber,S.startColumn),m.beforeContentClassName,1);a[S.startLineNumber-i].push(M)}if(m.afterContentClassName&&i<=S.endLineNumber&&S.endLineNumber<=n){const M=new La(new Ze.e(S.endLineNumber,S.endColumn,S.endLineNumber,S.endColumn),m.afterContentClassName,2);a[S.endLineNumber-i].push(M)}}return{decorations:s,inlineDecorations:a}}}function nC(o,e){return!(e.options.hideInCommentTokens&&function sC(o,e){return fg(o,e.range,t=>1===t)}(o,e)||e.options.hideInStringTokens&&function oC(o,e){return fg(o,e.range,t=>2===t)}(o,e))}function fg(o,e,t){for(let i=e.startLineNumber;i<=e.endLineNumber;i++){const n=o.getLineTokens(i),r=i===e.endLineNumber;let a=i===e.startLineNumber?n.findTokenIndexAtOffset(e.startColumn-1):0;for(;a<n.getCount()&&!(r&&n.getStartOffset(a)>e.endColumn-1);){if(!t(n.getStandardTokenType(a)))return!1;a++}}return!0}function Wd(o,e){return null===o?e?ql.INSTANCE:Yl.INSTANCE:new rC(o,e)}class rC{constructor(e,t){this._projectionData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(e,t,i){this._assertVisible();const n=i>0?this._projectionData.breakOffsets[i-1]:0,s=this._projectionData.breakOffsets[i];let r;if(null!==this._projectionData.injectionOffsets){const a=this._projectionData.injectionOffsets.map((d,u)=>new Vo.gk(0,0,d+1,this._projectionData.injectionOptions[u],0));r=Vo.gk.applyInjectedText(e.getLineContent(t),a).substring(n,s)}else r=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:s+1});return i>0&&(r=gg(this._projectionData.wrappedTextIndentLength)+r),r}getViewLineLength(e,t,i){return this._assertVisible(),this._projectionData.getLineLength(i)}getViewLineMinColumn(e,t,i){return this._assertVisible(),this._projectionData.getMinOutputOffset(i)+1}getViewLineMaxColumn(e,t,i){return this._assertVisible(),this._projectionData.getMaxOutputOffset(i)+1}getViewLineData(e,t,i){const n=new Array;return this.getViewLinesData(e,t,i,1,0,[!0],n),n[0]}getViewLinesData(e,t,i,n,s,r,a){this._assertVisible();const l=this._projectionData,d=l.injectionOffsets,u=l.injectionOptions;let C,m=null;if(d){m=[];let S=0,M=0;for(let j=0;j<l.getOutputLineCount();j++){const J=new Array;m[j]=J;const ne=j>0?l.breakOffsets[j-1]:0,X=l.breakOffsets[j];for(;M<d.length;){const le=u[M].content.length,Ce=d[M]+S,ke=Ce+le;if(Ce>X)break;if(ne<ke){const Ne=u[M];if(Ne.inlineClassName){const ve=j>0?l.wrappedTextIndentLength:0,pe=ve+Math.max(Ce-ne,0),Te=ve+Math.min(ke-ne,X);pe!==Te&&J.push(new M_(pe,Te,Ne.inlineClassName,Ne.inlineClassNameAffectsLetterSpacing))}}if(!(ke<=X))break;S+=le,M++}}}C=d?e.getLineTokens(t).withInserted(d.map((S,M)=>({offset:S,text:u[M].content,tokenMetadata:ya.A.defaultTokenMetadata}))):e.getLineTokens(t);for(let S=i;S<i+n;S++){const M=s+S-i;a[M]=r[M]?this._getViewLineData(C,m?m[S]:null,S):null}}_getViewLineData(e,t,i){this._assertVisible();const n=this._projectionData,l=e.sliceAndInflate(i>0?n.breakOffsets[i-1]:0,n.breakOffsets[i],i>0?n.wrappedTextIndentLength:0);let d=l.getLineContent();i>0&&(d=gg(n.wrappedTextIndentLength)+d);const u=this._projectionData.getMinOutputOffset(i)+1,m=d.length+1,C=i+1<this.getViewLineCount();return new ad(d,C,u,m,0===i?0:n.breakOffsetsVisibleColumn[i-1],l,t)}getModelColumnOfViewPosition(e,t){return this._assertVisible(),this._projectionData.translateToInputOffset(e,t-1)+1}getViewPositionOfModelPosition(e,t,i=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(t-1,i).toPosition(e)}getViewLineNumberOfModelPosition(e,t){return this._assertVisible(),e+this._projectionData.translateToOutputPosition(t-1).outputLineIndex}normalizePosition(e,t,i){const n=t.lineNumber-e;return this._projectionData.normalizeOutputPosition(e,t.column-1,i).toPosition(n)}getInjectedTextAt(e,t){return this._projectionData.getInjectedText(e,t-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class ql{constructor(){}isVisible(){return!0}setVisible(e){return e?this:Yl.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,i){return e.getLineContent(t)}getViewLineLength(e,t,i){return e.getLineLength(t)}getViewLineMinColumn(e,t,i){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,i){return e.getLineMaxColumn(t)}getViewLineData(e,t,i){const n=e.getLineTokens(t),s=n.getLineContent();return new ad(s,!1,1,s.length+1,0,n.inflate(),null)}getViewLinesData(e,t,i,n,s,r,a){a[s]=r[s]?this.getViewLineData(e,t,0):null}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new Xe.L(e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,i){return t}getInjectedTextAt(e,t){return null}}ql.INSTANCE=new ql;class Yl{constructor(){}isVisible(){return!1}setVisible(e){return e?ql.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,i){throw new Error("Not supported")}getViewLineLength(e,t,i){throw new Error("Not supported")}getViewLineMinColumn(e,t,i){throw new Error("Not supported")}getViewLineMaxColumn(e,t,i){throw new Error("Not supported")}getViewLineData(e,t,i){throw new Error("Not supported")}getViewLinesData(e,t,i,n,s,r,a){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,i){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}}Yl.INSTANCE=new Yl;let Vd=[""];function gg(o){if(o>=Vd.length)for(let e=1;e<=o;e++)Vd[e]=aC(e);return Vd[o]}function aC(o){return new Array(o+1).join(" ")}class lC{constructor(e,t,i,n,s,r,a,l,d){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=i,this._monospaceLineBreaksComputerFactory=n,this.fontInfo=s,this.tabSize=r,this.wrappingStrategy=a,this.wrappingColumn=l,this.wrappingIndent=d,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new dC(this)}_constructLines(e,t){this.modelLineProjections=[],e&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const i=this.model.getLinesContent(),n=this.model.getInjectedTextDecorations(this._editorId),s=i.length,r=this.createLineBreaksComputer(),a=new y.H9(Vo.gk.fromDecorations(n));for(let j=0;j<s;j++){const J=a.takeWhile(ne=>ne.lineNumber===j+1);r.addRequest(i[j],J,t?t[j]:null)}const l=r.finalize(),d=[],u=this.hiddenAreasDecorationIds.map(j=>this.model.getDecorationRange(j)).sort(Ze.e.compareRangesUsingStarts);let m=1,C=0,S=-1,M=S+1<u.length?C+1:s+2;for(let j=0;j<s;j++){const J=j+1;J===M&&(S++,m=u[S].startLineNumber,C=u[S].endLineNumber,M=S+1<u.length?C+1:s+2);const X=Wd(l[j],!(J>=m&&J<=C));d[j]=X.getViewLineCount(),this.modelLineProjections[j]=X}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new p(d)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(e=>this.model.getDecorationRange(e))}setHiddenAreas(e){const i=function cC(o){if(0===o.length)return[];const e=o.slice();e.sort(Ze.e.compareRangesUsingStarts);const t=[];let i=e[0].startLineNumber,n=e[0].endLineNumber;for(let s=1,r=e.length;s<r;s++){const a=e[s];a.startLineNumber>n+1?(t.push(new Ze.e(i,1,n,1)),i=a.startLineNumber,n=a.endLineNumber):a.endLineNumber>n&&(n=a.endLineNumber)}return t.push(new Ze.e(i,1,n,1)),t}(e.map(C=>this.model.validateRange(C))),n=this.hiddenAreasDecorationIds.map(C=>this.model.getDecorationRange(C)).sort(Ze.e.compareRangesUsingStarts);if(i.length===n.length){let C=!1;for(let S=0;S<i.length;S++)if(!i[S].equalsRange(n[S])){C=!0;break}if(!C)return!1}const s=i.map(C=>({range:C,options:ys.qx.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,s);const r=i;let a=1,l=0,d=-1,u=d+1<r.length?l+1:this.modelLineProjections.length+2,m=!1;for(let C=0;C<this.modelLineProjections.length;C++){const S=C+1;S===u&&(d++,a=r[d].startLineNumber,l=r[d].endLineNumber,u=d+1<r.length?l+1:this.modelLineProjections.length+2);let M=!1;if(S>=a&&S<=l?this.modelLineProjections[C].isVisible()&&(this.modelLineProjections[C]=this.modelLineProjections[C].setVisible(!1),M=!0):(m=!0,this.modelLineProjections[C].isVisible()||(this.modelLineProjections[C]=this.modelLineProjections[C].setVisible(!0),M=!0)),M){const j=this.modelLineProjections[C].getViewLineCount();this.projectedModelLineLineCounts.setValue(C,j)}}return m||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return!(e<1||e>this.modelLineProjections.length)&&this.modelLineProjections[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.modelLineProjections.length?1:this.modelLineProjections[e-1].getViewLineCount()}setTabSize(e){return this.tabSize!==e&&(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,i,n){const s=this.fontInfo.equals(e),r=this.wrappingStrategy===t,a=this.wrappingColumn===i,l=this.wrappingIndent===n;if(s&&r&&a&&l)return!1;const d=s&&r&&!a&&l;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=i,this.wrappingIndent=n;let u=null;if(d){u=[];for(let m=0,C=this.modelLineProjections.length;m<C;m++)u[m]=this.modelLineProjections[m].getProjectionData()}return this._constructLines(!1,u),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,i){if(!e||e<=this._validModelVersionId)return null;const n=1===t?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,s=this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections.splice(t-1,i-t+1),this.projectedModelLineLineCounts.removeValues(t-1,i-t+1),new Id(n,s)}onModelLinesInserted(e,t,i,n){if(!e||e<=this._validModelVersionId)return null;const s=t>2&&!this.modelLineProjections[t-2].isVisible(),r=1===t?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1;let a=0;const l=[],d=[];for(let u=0,m=n.length;u<m;u++){const C=Wd(n[u],!s);l.push(C);const S=C.getViewLineCount();a+=S,d[u]=S}return this.modelLineProjections=this.modelLineProjections.slice(0,t-1).concat(l).concat(this.modelLineProjections.slice(t-1)),this.projectedModelLineLineCounts.insertValues(t-1,d),new Dd(r,r+a-1)}onModelLineChanged(e,t,i){if(null!==e&&e<=this._validModelVersionId)return[!1,null,null,null];const n=t-1,s=this.modelLineProjections[n].getViewLineCount(),a=Wd(i,this.modelLineProjections[n].isVisible());this.modelLineProjections[n]=a;const l=this.modelLineProjections[n].getViewLineCount();let d=!1,u=0,m=-1,C=0,S=-1,M=0,j=-1;return s>l?(u=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,m=u+l-1,M=m+1,j=M+(s-l)-1,d=!0):s<l?(u=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,m=u+s-1,C=m+1,S=C+(l-s)-1,d=!0):(u=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,m=u+l-1),this.projectedModelLineLineCounts.setValue(n,l),[d,u<=m?new tg(u,m):null,C<=S?new Dd(C,S):null,M<=j?new Id(M,j):null]}acceptVersionId(e){this._validModelVersionId=e,1===this.modelLineProjections.length&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:0|e}getActiveIndentGuide(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);const n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),s=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),r=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),a=this.model.guides.getActiveIndentGuide(n.lineNumber,s.lineNumber,r.lineNumber),l=this.convertModelPositionToViewPosition(a.startLineNumber,1),d=this.convertModelPositionToViewPosition(a.endLineNumber,this.model.getLineMaxColumn(a.endLineNumber));return{startLineNumber:l.lineNumber,endLineNumber:d.lineNumber,indent:a.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);const t=this.projectedModelLineLineCounts.getIndexOf(e-1);return new mg(t.index+1,t.remainder)}getMinColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),n=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new Xe.L(e.modelLineNumber,n)}getModelEndPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),n=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new Xe.L(e.modelLineNumber,n)}getViewLineInfosGroupedByModelRanges(e,t){const i=this.getViewLineInfo(e),n=this.getViewLineInfo(t),s=new Array;let r=this.getModelStartPositionOfViewLine(i),a=new Array;for(let l=i.modelLineNumber;l<=n.modelLineNumber;l++){const d=this.modelLineProjections[l-1];if(d.isVisible()){const u=l===i.modelLineNumber?i.modelLineWrappedLineIdx:0,m=l===n.modelLineNumber?n.modelLineWrappedLineIdx+1:d.getViewLineCount();for(let C=u;C<m;C++)a.push(new mg(l,C))}if(!d.isVisible()&&r){const u=new Xe.L(l-1,this.model.getLineMaxColumn(l-1)+1),m=Ze.e.fromPositions(r,u);s.push(new pg(m,a)),a=[],r=null}else d.isVisible()&&!r&&(r=new Xe.L(l,1))}if(r){const l=Ze.e.fromPositions(r,this.getModelEndPositionOfViewLine(n));s.push(new pg(l,a))}return s}getViewLinesBracketGuides(e,t,i,n){const s=i?this.convertViewPositionToModelPosition(i.lineNumber,i.column):null,r=[];for(const a of this.getViewLineInfosGroupedByModelRanges(e,t)){const l=a.modelRange.startLineNumber,d=this.model.guides.getLinesBracketGuides(l,a.modelRange.endLineNumber,s,n);for(const u of a.viewLines)if(u.isWrappedLineContinuation&&1===this.getMinColumnOfViewLine(u))r.push([]);else{let m=d[u.modelLineNumber-l];m=m.map(C=>C.horizontalLine?new Zr.UO(C.visibleColumn,C.className,new Zr.vW(C.horizontalLine.top,this.convertModelPositionToViewPosition(u.modelLineNumber,C.horizontalLine.endColumn).column)):C),r.push(m)}}return r}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),n=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let s=[];const r=[],a=[],l=i.lineNumber-1,d=n.lineNumber-1;let u=null;for(let M=l;M<=d;M++){const j=this.modelLineProjections[M];if(j.isVisible()){const J=j.getViewLineNumberOfModelPosition(0,M===l?i.column:1),ne=j.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(M+1)),X=ne-J+1;let le=0;X>1&&1===j.getViewLineMinColumn(this.model,M+1,ne)&&(le=0===J?1:2),r.push(X),a.push(le),null===u&&(u=new Xe.L(M+1,0))}else null!==u&&(s=s.concat(this.model.guides.getLinesIndentGuides(u.lineNumber,M)),u=null)}null!==u&&(s=s.concat(this.model.guides.getLinesIndentGuides(u.lineNumber,n.lineNumber)),u=null);const m=t-e+1,C=new Array(m);let S=0;for(let M=0,j=s.length;M<j;M++){let J=s[M];const ne=Math.min(m-S,r[M]),X=a[M];let le;le=2===X?0:1===X?1:ne;for(let Ce=0;Ce<ne;Ce++)Ce===le&&(J=0),C[S++]=J}return C}getViewLineContent(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineContent(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineLength(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineLength(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMinColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMaxColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineData(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineData(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLinesData(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const n=this.projectedModelLineLineCounts.getIndexOf(e-1);let s=e;const r=n.index,a=n.remainder,l=[];for(let d=r,u=this.model.getLineCount();d<u;d++){const m=this.modelLineProjections[d];if(!m.isVisible())continue;const C=d===r?a:0;let S=m.getViewLineCount()-C,M=!1;if(s+S>t&&(M=!0,S=t-s+1),m.getViewLinesData(this.model,d+1,C,S,s-e,i,l),s+=S,M)break}return l}validateViewPosition(e,t,i){e=this._toValidViewLineNumber(e);const n=this.projectedModelLineLineCounts.getIndexOf(e-1),s=n.index,r=n.remainder,a=this.modelLineProjections[s],l=a.getViewLineMinColumn(this.model,s+1,r),d=a.getViewLineMaxColumn(this.model,s+1,r);t<l&&(t=l),t>d&&(t=d);const u=a.getModelColumnOfViewPosition(r,t);return this.model.validatePosition(new Xe.L(s+1,u)).equals(i)?new Xe.L(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)}validateViewRange(e,t){const i=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),n=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new Ze.e(i.lineNumber,i.column,n.lineNumber,n.column)}convertViewPositionToModelPosition(e,t){const i=this.getViewLineInfo(e),n=this.modelLineProjections[i.modelLineNumber-1].getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,t);return this.model.validatePosition(new Xe.L(i.modelLineNumber,n))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),i=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new Ze.e(t.lineNumber,t.column,i.lineNumber,i.column)}convertModelPositionToViewPosition(e,t,i=2){const n=this.model.validatePosition(new Xe.L(e,t)),s=n.lineNumber,r=n.column;let a=s-1,l=!1;for(;a>0&&!this.modelLineProjections[a].isVisible();)a--,l=!0;if(0===a&&!this.modelLineProjections[a].isVisible())return new Xe.L(1,1);const d=1+this.projectedModelLineLineCounts.getPrefixSum(a);let u;return u=l?this.modelLineProjections[a].getViewPositionOfModelPosition(d,this.model.getLineMaxColumn(a+1),i):this.modelLineProjections[s-1].getViewPositionOfModelPosition(d,r,i),u}convertModelRangeToViewRange(e,t=0){if(e.isEmpty()){const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return Ze.e.fromPositions(i)}{const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),n=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new Ze.e(i.lineNumber,i.column,n.lineNumber,n.column)}}getViewLineNumberOfModelPosition(e,t){let i=e-1;if(this.modelLineProjections[i].isVisible()){const s=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(s,t)}for(;i>0&&!this.modelLineProjections[i].isVisible();)i--;if(0===i&&!this.modelLineProjections[i].isVisible())return 1;const n=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(n,this.model.getLineMaxColumn(i+1))}getDecorationsInRange(e,t,i){const n=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),s=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(s.lineNumber-n.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new Ze.e(n.lineNumber,1,s.lineNumber,s.column),t,i);let r=[];const a=n.lineNumber-1,l=s.lineNumber-1;let d=null;for(let S=a;S<=l;S++)if(this.modelLineProjections[S].isVisible())null===d&&(d=new Xe.L(S+1,S===a?n.column:1));else if(null!==d){const j=this.model.getLineMaxColumn(S);r=r.concat(this.model.getDecorationsInRange(new Ze.e(d.lineNumber,d.column,S,j),t,i)),d=null}null!==d&&(r=r.concat(this.model.getDecorationsInRange(new Ze.e(d.lineNumber,d.column,s.lineNumber,s.column),t,i)),d=null),r.sort((S,M)=>{const j=Ze.e.compareRangesUsingStarts(S.range,M.range);return 0===j?S.id<M.id?-1:S.id>M.id?1:0:j});let u=[],m=0,C=null;for(const S of r){const M=S.id;C!==M&&(C=M,u[m++]=S)}return u}getInjectedTextAt(e){const t=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[t.modelLineNumber-1].getInjectedTextAt(t.modelLineWrappedLineIdx,e.column)}normalizePosition(e,t){const i=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[i.modelLineNumber-1].normalizePosition(i.modelLineWrappedLineIdx,e,t)}getLineIndentColumn(e){const t=this.getViewLineInfo(e);return 0===t.modelLineWrappedLineIdx?this.model.getLineIndentColumn(t.modelLineNumber):0}}class mg{constructor(e,t){this.modelLineNumber=e,this.modelLineWrappedLineIdx=t}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class pg{constructor(e,t){this.modelRange=e,this.viewLines=t}}class dC{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,t){return this._lines.getViewLineNumberOfModelPosition(e,t)}}class hC{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new uC(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,i,n){return!1}createLineBreaksComputer(){const e=[];return{addRequest:(t,i,n)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,i){return new Id(t,i)}onModelLinesInserted(e,t,i,n){return new Dd(t,i)}onModelLineChanged(e,t,i){return[!1,new tg(t,t),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,t,i){return new Array(t-e+1).fill([])}getViewLinesIndentGuides(e,t){const i=t-e+1,n=new Array(i);for(let s=0;s<i;s++)n[s]=0;return n}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){const t=this.model.getLineTokens(e),i=t.getLineContent();return new ad(i,!1,1,i.length+1,0,t.inflate(),null)}getViewLinesData(e,t,i){const n=this.model.getLineCount();e=Math.min(Math.max(1,e),n),t=Math.min(Math.max(1,t),n);const s=[];for(let r=e;r<=t;r++){const a=r-e;s[a]=i[a]?this.getViewLineData(r):null}return s}getDecorationsInRange(e,t,i){return this.model.getDecorationsInRange(e,t,i)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class uC{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,t){return e}}class gC extends ze.JT{constructor(e,t,i,n,s,r,a){if(super(),this.languageConfigurationService=a,this._editorId=e,this._configuration=t,this.model=i,this._eventDispatcher=new B0,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new Ur(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new se.pY(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new se.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,this.model.isTooLargeForTokenization())this._lines=new hC(this.model);else{const l=this._configuration.options,d=l.get(44),u=l.get(125),m=l.get(132),C=l.get(124);this._lines=new lC(this._editorId,this.model,n,s,d,this.model.getOptions().tabSize,u,m.wrappingColumn,C)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new ng(i,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new tC(this._configuration,this.getLineCount(),r)),this._register(this.viewLayout.onDidScroll(l=>{l.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new M0(l)),this._eventDispatcher.emitOutgoingEvent(new Md(l.oldScrollWidth,l.oldScrollLeft,l.oldScrollHeight,l.oldScrollTop,l.scrollWidth,l.scrollLeft,l.scrollHeight,l.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(l=>{this._eventDispatcher.emitOutgoingEvent(l)})),this._decorations=new iC(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(l=>{try{const d=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(d,l)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(Kf.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new A0)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const e=this.viewLayout.getLinesViewportData(),t=new Ze.e(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber)),i=this._toModelVisibleRanges(t);for(const n of i)this.model.tokenizeViewport(n.startLineNumber,n.endLineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new k0(e)),this._eventDispatcher.emitOutgoingEvent(new Td(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new x0)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new N0)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new R0)}_onConfigurationChanged(e,t){let i=null;if(-1!==this._viewportStartLine){const u=new Xe.L(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));i=this.coordinatesConverter.convertViewPositionToModelPosition(u)}let n=!1;const s=this._configuration.options,r=s.get(44),a=s.get(125),l=s.get(132),d=s.get(124);if(this._lines.setWrappingSettings(r,a,l.wrappingColumn,d)&&(e.emitViewEvent(new jl),e.emitViewEvent(new Kl),e.emitViewEvent(new Yr(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(n=!0),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(81)&&(this._decorations.reset(),e.emitViewEvent(new Yr(null))),e.emitViewEvent(new I0(t)),this.viewLayout.onConfigurationChanged(t),n&&i){const u=this.coordinatesConverter.convertModelPositionToViewPosition(i),m=this.viewLayout.getVerticalOffsetForLineNumber(u.lineNumber);this.viewLayout.setScrollPosition({scrollTop:m+this._viewportStartLineDelta},1)}Ur.shouldRecreate(t)&&(this.cursorConfig=new Ur(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();let i=!1,n=!1;const s=e.changes,r=e instanceof Vo.dQ?e.versionId:null,a=this._lines.createLineBreaksComputer();for(const u of s)switch(u.changeType){case 4:for(let m=0;m<u.detail.length;m++){const C=u.detail[m];let S=u.injectedTexts[m];S&&(S=S.filter(M=>!M.ownerId||M.ownerId===this._editorId)),a.addRequest(C,S,null)}break;case 2:{let m=null;u.injectedText&&(m=u.injectedText.filter(C=>!C.ownerId||C.ownerId===this._editorId)),a.addRequest(u.detail,m,null);break}}const l=a.finalize(),d=new y.H9(l);for(const u of s)switch(u.changeType){case 1:this._lines.onModelFlushed(),t.emitViewEvent(new jl),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),i=!0;break;case 3:{const m=this._lines.onModelLinesDeleted(r,u.fromLineNumber,u.toLineNumber);null!==m&&(t.emitViewEvent(m),this.viewLayout.onLinesDeleted(m.fromLineNumber,m.toLineNumber)),i=!0;break}case 4:{const m=d.takeCount(u.detail.length),C=this._lines.onModelLinesInserted(r,u.fromLineNumber,u.toLineNumber,m);null!==C&&(t.emitViewEvent(C),this.viewLayout.onLinesInserted(C.fromLineNumber,C.toLineNumber)),i=!0;break}case 2:{const m=d.dequeue(),[C,S,M,j]=this._lines.onModelLineChanged(r,u.lineNumber,m);n=C,S&&t.emitViewEvent(S),M&&(t.emitViewEvent(M),this.viewLayout.onLinesInserted(M.fromLineNumber,M.toLineNumber)),j&&(t.emitViewEvent(j),this.viewLayout.onLinesDeleted(j.fromLineNumber,j.toLineNumber));break}}null!==r&&this._lines.acceptVersionId(r),this.viewLayout.onHeightMaybeChanged(),!i&&n&&(t.emitViewEvent(new Kl),t.emitViewEvent(new Yr(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const t=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(t){const i=this.coordinatesConverter.convertModelPositionToViewPosition(t.getStartPosition()),n=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber);this.viewLayout.setScrollPosition({scrollTop:n+this._viewportStartLineDelta},1)}}try{const t=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(e=>{const t=[];for(let i=0,n=e.ranges.length;i<n;i++){const s=e.ranges[i],r=this.coordinatesConverter.convertModelPositionToViewPosition(new Xe.L(s.fromLineNumber,1)).lineNumber,a=this.coordinatesConverter.convertModelPositionToViewPosition(new Xe.L(s.toLineNumber,this.model.getLineMaxColumn(s.toLineNumber))).lineNumber;t[i]={fromLineNumber:r,toLineNumber:a}}this._eventDispatcher.emitSingleViewEvent(new O0(t)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new T0),this.cursorConfig=new Ur(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new Ur(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const t=this._eventDispatcher.beginEmitViewEvents();t.emitViewEvent(new jl),t.emitViewEvent(new Kl),t.emitViewEvent(new Yr(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new Ur(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new Yr(e))}))}setHiddenAreas(e){let t=!1;try{const i=this._eventDispatcher.beginEmitViewEvents();t=this._lines.setHiddenAreas(e),t&&(i.emitViewEvent(new jl),i.emitViewEvent(new Kl),i.emitViewEvent(new Yr(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),t&&this._eventDispatcher.emitOutgoingEvent(new ig)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(131),t=this._configuration.options.get(59),i=Math.max(20,Math.round(e.height/t)),n=this.viewLayout.getLinesViewportData(),s=Math.max(1,n.completelyVisibleStartLineNumber-i),r=Math.min(this.getLineCount(),n.completelyVisibleEndLineNumber+i);return this._toModelVisibleRanges(new Ze.e(s,this.getLineMinColumn(s),r,this.getLineMaxColumn(r)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),i=this._lines.getHiddenAreas();if(0===i.length)return[t];const n=[];let s=0,r=t.startLineNumber,a=t.startColumn;const l=t.endLineNumber,d=t.endColumn;for(let u=0,m=i.length;u<m;u++){const C=i[u].startLineNumber,S=i[u].endLineNumber;S<r||C>l||(r<C&&(n[s++]=new Ze.e(r,a,C-1,this.model.getLineMaxColumn(C-1))),r=S+1,a=1)}return(r<l||r===l&&a<d)&&(n[s++]=new Ze.e(r,a,l,d)),n}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,i=e.completelyVisibleEndLineNumber;return new Ze.e(t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),i=t.completelyVisibleStartLineNumber,n=t.completelyVisibleEndLineNumber;return new Ze.e(i,this.getLineMinColumn(i),n,this.getLineMaxColumn(n))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(t),n=this.coordinatesConverter.convertViewPositionToModelPosition(new Xe.L(i,this.getLineMinColumn(i))),s=this.viewLayout.getVerticalOffsetForLineNumber(i)-t;return{scrollLeft:e.scrollLeft,firstPosition:n,firstPositionDeltaTop:s}}reduceRestoreState(e){if(void 0===e.firstPosition)return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(t),n=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:n}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,i){this._viewportStartLine=e;const n=this.coordinatesConverter.convertViewPositionToModelPosition(new Xe.L(e,this.getLineMinColumn(e)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new Ze.e(n.lineNumber,n.column,n.lineNumber,n.column),1);const s=this.viewLayout.getVerticalOffsetForLineNumber(e),r=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=r-s}getActiveIndentGuide(e,t,i){return this._lines.getActiveIndentGuide(e,t,i)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getBracketGuidesInRangeByLine(e,t,i,n){return this._lines.getViewLinesBracketGuides(e,t,i,n)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=ut.LC(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=ut.ow(this.getLineContent(e));return-1===t?0:t+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewLineRenderingData(e,t){const i=this.model.mightContainRTL(),n=this.model.mightContainNonBasicASCII(),s=this.getTabSize(),r=this._lines.getViewLineData(t);let l=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return r.inlineDecorations&&(l=[...l,...r.inlineDecorations.map(d=>d.toInlineDecoration(t))]),new Xn(r.minColumn,r.maxColumn,r.content,r.continuesWithWrappedLine,i,n,r.tokens,l,s,r.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,i){const n=this._lines.getViewLinesData(e,t,i);return new T_(this.getTabSize(),n)}getAllOverviewRulerDecorations(e){const t=this.model.getOverviewRulerDecorations(this._editorId,Ci(this._configuration.options)),i=new mC;for(const n of t){const s=n.options,r=s.overviewRuler;if(!r)continue;const a=r.position;if(0===a)continue;const l=r.getColor(e.value),d=this.coordinatesConverter.getViewLineNumberOfModelPosition(n.range.startLineNumber,n.range.startColumn),u=this.coordinatesConverter.getViewLineNumberOfModelPosition(n.range.endLineNumber,n.range.endColumn);i.accept(l,s.zIndex,d,u,a)}return i.asArray}invalidateOverviewRulerColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e){const i=t.options.overviewRuler;i&&i.invalidateCachedColor()}}invalidateMinimapColorCache(){const e=this.model.getAllDecorations();for(const t of e){const i=t.options.minimap;i&&i.invalidateCachedColor()}}getValueInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)}getModelLineMaxColumn(e){return this.model.getLineMaxColumn(e)}validateModelPosition(e){return this.model.validatePosition(e)}validateModelRange(e){return this.model.validateRange(e)}deduceModelPositionRelativeToViewPosition(e,t,i){const n=this.coordinatesConverter.convertViewPositionToModelPosition(e);2===this.model.getEOL().length&&(t<0?t-=i:t+=i);const r=this.model.getOffsetAt(n)+t;return this.model.getPositionAt(r)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(e,t,i){const n=i?"\r\n":this.model.getEOL();(e=e.slice(0)).sort(Ze.e.compareRangesUsingStarts);let s=!1,r=!1;for(const l of e)l.isEmpty()?s=!0:r=!0;if(!r){if(!t)return"";const l=e.map(u=>u.startLineNumber);let d="";for(let u=0;u<l.length;u++)u>0&&l[u-1]===l[u]||(d+=this.model.getLineContent(l[u])+n);return d}if(s&&t){const l=[];let d=0;for(const u of e){const m=u.startLineNumber;u.isEmpty()?m!==d&&l.push(this.model.getLineContent(m)):l.push(this.model.getValueInRange(u,i?2:0)),d=m}return 1===l.length?l[0]:l}const a=[];for(const l of e)l.isEmpty()||a.push(this.model.getValueInRange(l,i?2:0));return 1===a.length?a[0]:a}getRichTextToCopy(e,t){const i=this.model.getLanguageId();if(i===hr||1!==e.length)return null;let n=e[0];if(n.isEmpty()){if(!t)return null;const u=n.startLineNumber;n=new Ze.e(u,this.model.getLineMinColumn(u),u,this.model.getLineMaxColumn(u))}const s=this._configuration.options.get(44),r=this._getColorMap();let d;return/[:;\\\/<>]/.test(s.fontFamily)||s.fontFamily===Li.fontFamily?d=Li.fontFamily:(d=s.fontFamily,d=d.replace(/"/g,"'"),/[,']/.test(d)||/[+ ]/.test(d)&&(d=`'${d}'`),d=`${d}, ${Li.fontFamily}`),{mode:i,html:`<div style="color: ${r[1]};background-color: ${r[2]};font-family: ${d};font-weight: ${s.fontWeight};font-size: ${s.fontSize}px;line-height: ${s.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(n,r)+"</div>"}}_getHTMLToCopy(e,t){const i=e.startLineNumber,n=e.startColumn,s=e.endLineNumber,r=e.endColumn,a=this.getTabSize();let l="";for(let d=i;d<=s;d++){const u=this.model.getLineTokens(d),m=u.getLineContent(),C=d===i?n-1:0,S=d===s?r-1:m.length;l+=""===m?"<br>":q0(m,u.inflate(),t,C,S,a,h.ED)}return l}_getColorMap(){const e=rt.RW.getColorMap(),t=["#000000"];if(e)for(let i=1,n=e.length;i<n;i++)t[i]=Oi.Il.Format.CSS.formatHex(e[i]);return t}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,i){return this._withViewEventsCollector(n=>this._cursor.setStates(n,e,t,i))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,i=0){this._withViewEventsCollector(n=>this._cursor.setSelections(n,e,t,i))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(t=>this._cursor.restoreState(t,e))}_executeCursorEdit(e){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new W0):this._withViewEventsCollector(e)}executeEdits(e,t,i){this._executeCursorEdit(n=>this._cursor.executeEdits(n,e,t,i))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(t=>this._cursor.endComposition(t,e))}type(e,t){this._executeCursorEdit(i=>this._cursor.type(i,e,t))}compositionType(e,t,i,n,s){this._executeCursorEdit(r=>this._cursor.compositionType(r,e,t,i,n,s))}paste(e,t,i,n){this._executeCursorEdit(s=>this._cursor.paste(s,e,t,i,n))}cut(e){this._executeCursorEdit(t=>this._cursor.cut(t,e))}executeCommand(e,t){this._executeCursorEdit(i=>this._cursor.executeCommand(i,e,t))}executeCommands(e,t){this._executeCursorEdit(i=>this._cursor.executeCommands(i,e,t))}revealPrimaryCursor(e,t,i=!1){this._withViewEventsCollector(n=>this._cursor.revealPrimary(n,e,i,0,t,0))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),i=new Ze.e(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(n=>n.emitViewEvent(new $l(e,!1,i,null,0,!0,0)))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),i=new Ze.e(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(n=>n.emitViewEvent(new $l(e,!1,i,null,0,!0,0)))}revealRange(e,t,i,n,s){this._withViewEventsCollector(r=>r.emitViewEvent(new $l(e,!1,i,null,n,t,s)))}getVerticalOffsetForLineNumber(e){return this.viewLayout.getVerticalOffsetForLineNumber(e)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(e,t){this.viewLayout.setScrollPosition({scrollTop:e},t)}setScrollPosition(e,t){this.viewLayout.setScrollPosition(e,t)}deltaScrollNow(e,t){this.viewLayout.deltaScrollNow(e,t)}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new P0),this._eventDispatcher.emitOutgoingEvent(new ig))}setMaxLineWidth(e){this.viewLayout.setMaxLineWidth(e)}_withViewEventsCollector(e){try{return e(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}class mC{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,t,i,n,s){const r=this._asMap[e];if(r){const a=r.data,d=a[a.length-1];if(a[a.length-3]===s&&d+1>=i)return void(n>d&&(a[a.length-1]=n));a.push(s,i,n)}else{const a=new hf(e,t,[s,i,n]);this._asMap[e]=a,this.asArray.push(a)}}}var Hi=L(23884);class Ql{constructor(...e){this._entries=new Map;for(let[t,i]of e)this.set(t,i)}set(e,t){const i=this._entries.get(e);return this._entries.set(e,t),i}get(e){return this._entries.get(e)}}var Bs=L(78782);class Ka{constructor(e,t,i,n,s){this.injectionOffsets=e,this.injectionOptions=t,this.breakOffsets=i,this.breakOffsetsVisibleColumn=n,this.wrappedTextIndentLength=s}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(e){return e>0?this.wrappedTextIndentLength:0}getLineLength(e){let n=this.breakOffsets[e]-(e>0?this.breakOffsets[e-1]:0);return e>0&&(n+=this.wrappedTextIndentLength),n}getMaxOutputOffset(e){return this.getLineLength(e)}translateToInputOffset(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));let n=0===e?t:this.breakOffsets[e-1]+t;if(null!==this.injectionOffsets)for(let s=0;s<this.injectionOffsets.length&&n>this.injectionOffsets[s];s++)n<this.injectionOffsets[s]+this.injectionOptions[s].content.length?n=this.injectionOffsets[s]:n-=this.injectionOptions[s].content.length;return n}translateToOutputPosition(e,t=2){let i=e;if(null!==this.injectionOffsets)for(let n=0;n<this.injectionOffsets.length&&!(e<this.injectionOffsets[n]||1!==t&&e===this.injectionOffsets[n]);n++)i+=this.injectionOptions[n].content.length;return this.offsetInInputWithInjectionsToOutputPosition(i,t)}offsetInInputWithInjectionsToOutputPosition(e,t=2){let i=0,n=this.breakOffsets.length-1,s=0,r=0;for(;i<=n;){s=i+(n-i)/2|0;const l=this.breakOffsets[s];if(r=s>0?this.breakOffsets[s-1]:0,0===t)if(e<=r)n=s-1;else{if(!(e>l))break;i=s+1}else if(e<r)n=s-1;else{if(!(e>=l))break;i=s+1}}let a=e-r;return s>0&&(a+=this.wrappedTextIndentLength),new Xl(s,a)}normalizeOutputPosition(e,t,i){if(null!==this.injectionOffsets){const n=this.outputPositionToOffsetInInputWithInjections(e,t),s=this.normalizeOffsetInInputWithInjectionsAroundInjections(n,i);if(s!==n)return this.offsetInInputWithInjectionsToOutputPosition(s,i)}if(0===i){if(e>0&&t===this.getMinOutputOffset(e))return new Xl(e-1,this.getMaxOutputOffset(e-1))}else if(1===i&&e<this.getOutputLineCount()-1&&t===this.getMaxOutputOffset(e))return new Xl(e+1,this.getMinOutputOffset(e+1));return new Xl(e,t)}outputPositionToOffsetInInputWithInjections(e,t){return e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength)),(e>0?this.breakOffsets[e-1]:0)+t}normalizeOffsetInInputWithInjectionsAroundInjections(e,t){const i=this.getInjectedTextAtOffset(e);if(!i)return e;if(2===t){if(e===i.offsetInInputWithInjections+i.length&&_g(this.injectionOptions[i.injectedTextIndex].cursorStops))return i.offsetInInputWithInjections+i.length;{let n=i.offsetInInputWithInjections;if(Cg(this.injectionOptions[i.injectedTextIndex].cursorStops))return n;let s=i.injectedTextIndex-1;for(;s>=0&&this.injectionOffsets[s]===this.injectionOffsets[i.injectedTextIndex]&&!_g(this.injectionOptions[s].cursorStops)&&(n-=this.injectionOptions[s].content.length,!Cg(this.injectionOptions[s].cursorStops));)s--;return n}}if(1===t){let n=i.offsetInInputWithInjections+i.length,s=i.injectedTextIndex;for(;s+1<this.injectionOffsets.length&&this.injectionOffsets[s+1]===this.injectionOffsets[s];)n+=this.injectionOptions[s+1].content.length,s++;return n}if(0===t){let n=i.offsetInInputWithInjections,s=i.injectedTextIndex;for(;s-1>=0&&this.injectionOffsets[s-1]===this.injectionOffsets[s];)n-=this.injectionOptions[s-1].content.length,s--;return n}(0,be.vE)(t)}getInjectedText(e,t){const i=this.outputPositionToOffsetInInputWithInjections(e,t),n=this.getInjectedTextAtOffset(i);return n?{options:this.injectionOptions[n.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const t=this.injectionOffsets,i=this.injectionOptions;if(null!==t){let n=0;for(let s=0;s<t.length;s++){const r=i[s].content.length,a=t[s]+n,l=t[s]+n+r;if(a>e)break;if(e<=l)return{injectedTextIndex:s,offsetInInputWithInjections:a,length:r};n+=r}}}}function _g(o){return null==o||o===Ri.RM.Right||o===Ri.RM.Both}function Cg(o){return null==o||o===Ri.RM.Left||o===Ri.RM.Both}class Xl{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e){return new Xe.L(e+this.outputLineIndex,this.outputOffset+1)}}class Hd{constructor(e,t){this.classifier=new pC(e,t)}static create(e){return new Hd(e.get(120),e.get(119))}createLineBreaksComputer(e,t,i,n){const s=[],r=[],a=[];return{addRequest:(l,d,u)=>{s.push(l),r.push(d),a.push(u)},finalize:()=>{const l=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth,d=[];for(let u=0,m=s.length;u<m;u++){const C=r[u],S=a[u];d[u]=!S||S.injectionOptions||C?CC(this.classifier,s[u],C,t,i,l,n):_C(this.classifier,S,s[u],t,i,l,n)}return zd.length=0,Ud.length=0,d}}}}class pC extends G.N{constructor(e,t){super(0);for(let i=0;i<e.length;i++)this.set(e.charCodeAt(i),1);for(let i=0;i<t.length;i++)this.set(t.charCodeAt(i),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let zd=[],Ud=[];function _C(o,e,t,i,n,s,r){if(-1===n)return null;const a=t.length;if(a<=1)return null;const l=e.breakOffsets,d=e.breakOffsetsVisibleColumn,u=vg(t,i,n,s,r),m=n-u,C=zd,S=Ud;let M=0,j=0,J=0,ne=n;const X=l.length;let le=0;if(le>=0){let Ce=Math.abs(d[le]-ne);for(;le+1<X;){const ke=Math.abs(d[le+1]-ne);if(ke>=Ce)break;Ce=ke,le++}}for(;le<X;){let Ce=le<0?0:l[le],ke=le<0?0:d[le];j>Ce&&(Ce=j,ke=J);let Ne=0,ve=0,pe=0,Te=0;if(ke<=ne){let Pe=ke,et=0===Ce?0:t.charCodeAt(Ce-1),ot=0===Ce?0:o.get(et),Nt=!0;for(let kt=Ce;kt<a;kt++){const Vt=kt,qt=t.charCodeAt(kt);let Bt,Qt;if(ut.ZG(qt)?(kt++,Bt=0,Qt=2):(Bt=o.get(qt),Qt=$a(qt,Pe,i,s)),Vt>j&&jd(0,ot,qt,Bt)&&(Ne=Vt,ve=Pe),Pe+=Qt,Pe>ne){Vt>j?(pe=Vt,Te=Pe-Qt):(pe=kt+1,Te=Pe),Pe-ve>m&&(Ne=0),Nt=!1;break}et=qt,ot=Bt}if(Nt){M>0&&(C[M]=l[l.length-1],S[M]=d[l.length-1],M++);break}}if(0===Ne){let Pe=ke,et=t.charCodeAt(Ce),ot=o.get(et),Nt=!1;for(let kt=Ce-1;kt>=j;kt--){const Vt=kt+1,qt=t.charCodeAt(kt);if(9===qt){Nt=!0;break}let Bt,Qt;if(ut.YK(qt)?(kt--,Bt=0,Qt=2):(Bt=o.get(qt),Qt=ut.K7(qt)?s:1),Pe<=ne){if(0===pe&&(pe=Vt,Te=Pe),Pe<=ne-m)break;if(jd(0,Bt,et,ot)){Ne=Vt,ve=Pe;break}}Pe-=Qt,et=qt,ot=Bt}if(0!==Ne){const kt=m-(Te-ve);if(kt<=i){const Vt=t.charCodeAt(pe);let qt;qt=ut.ZG(Vt)?2:$a(Vt,Te,i,s),kt-qt<0&&(Ne=0)}}if(Nt){le--;continue}}if(0===Ne&&(Ne=pe,ve=Te),Ne<=j){const Pe=t.charCodeAt(j);ut.ZG(Pe)?(Ne=j+2,ve=J+2):(Ne=j+1,ve=J+$a(Pe,J,i,s))}for(j=Ne,C[M]=Ne,J=ve,S[M]=ve,M++,ne=ve+m;le<0||le<X&&d[le]<ve;)le++;let Qe=Math.abs(d[le]-ne);for(;le+1<X;){const Pe=Math.abs(d[le+1]-ne);if(Pe>=Qe)break;Qe=Pe,le++}}return 0===M?null:(C.length=M,S.length=M,zd=e.breakOffsets,Ud=e.breakOffsetsVisibleColumn,e.breakOffsets=C,e.breakOffsetsVisibleColumn=S,e.wrappedTextIndentLength=u,e)}function CC(o,e,t,i,n,s,r){const a=Vo.gk.applyInjectedText(e,t);let l,d;if(t&&t.length>0?(l=t.map(ve=>ve.options),d=t.map(ve=>ve.column-1)):(l=null,d=null),-1===n)return l?new Ka(d,l,[a.length],[],0):null;const u=a.length;if(u<=1)return l?new Ka(d,l,[a.length],[],0):null;const m=vg(a,i,n,s,r),C=n-m,S=[],M=[];let j=0,J=0,ne=0,X=n,le=a.charCodeAt(0),Ce=o.get(le),ke=$a(le,0,i,s),Ne=1;ut.ZG(le)&&(ke+=1,le=a.charCodeAt(1),Ce=o.get(le),Ne++);for(let ve=Ne;ve<u;ve++){const pe=ve,Te=a.charCodeAt(ve);let Qe,Pe;ut.ZG(Te)?(ve++,Qe=0,Pe=2):(Qe=o.get(Te),Pe=$a(Te,ke,i,s)),jd(0,Ce,Te,Qe)&&(J=pe,ne=ke),ke+=Pe,ke>X&&((0===J||ke-ne>C)&&(J=pe,ne=ke-Pe),S[j]=J,M[j]=ne,j++,X=ne+C,J=0),le=Te,Ce=Qe}return 0!==j||t&&0!==t.length?(S[j]=u,M[j]=ke,new Ka(d,l,S,M,m)):null}function $a(o,e,t,i){return 9===o?t-e%t:ut.K7(o)||o<32?i:1}function bg(o,e){return e-o%e}function jd(o,e,t,i){return 32!==t&&(2===e||3===e&&2!==i||1===i||3===i&&1!==e)}function vg(o,e,t,i,n){let s=0;if(0!==n){const r=ut.LC(o);if(-1!==r){for(let l=0;l<r;l++)s+=9===o.charCodeAt(l)?bg(s,e):1;const a=3===n?2:2===n?1:0;for(let l=0;l<a;l++)s+=bg(s,e);s+i>t&&(s=0)}}return s}var Kd;const $d=null===(Kd=window.trustedTypes)||void 0===Kd?void 0:Kd.createPolicy("domLineBreaksComputer",{createHTML:o=>o});class Gd{static create(){return new Gd}constructor(){}createLineBreaksComputer(e,t,i,n){const s=[],r=[];return{addRequest:(a,l,d)=>{s.push(a),r.push(l)},finalize:()=>function bC(o,e,t,i,n,s){var r;function a(pe){const Te=s[pe];if(Te){const Qe=Vo.gk.applyInjectedText(o[pe],Te),Pe=Te.map(ot=>ot.options),et=Te.map(ot=>ot.column-1);return new Ka(et,Pe,[Qe.length],[],0)}return null}if(-1===i){const pe=[];for(let Te=0,Qe=o.length;Te<Qe;Te++)pe[Te]=a(Te);return pe}const l=Math.round(i*e.typicalHalfwidthCharacterWidth),u=Math.round(t*(3===n?2:2===n?1:0)),m=Math.ceil(e.spaceWidth*u),C=document.createElement("div");Bi(C,e);const S=(0,Sl.l$)(1e4),M=[],j=[],J=[],ne=[],X=[];for(let pe=0;pe<o.length;pe++){const Te=Vo.gk.applyInjectedText(o[pe],s[pe]);let Qe=0,Pe=0,et=l;if(0!==n)if(Qe=ut.LC(Te),-1===Qe)Qe=0;else{for(let Vt=0;Vt<Qe;Vt++)Pe+=9===Te.charCodeAt(Vt)?t-Pe%t:1;const kt=Math.ceil(e.spaceWidth*Pe);kt+e.typicalFullwidthCharacterWidth>l?(Qe=0,Pe=0):et=l-kt}const ot=Te.substr(Qe),Nt=vC(ot,Pe,t,et,S,m);M[pe]=Qe,j[pe]=Pe,J[pe]=ot,ne[pe]=Nt[0],X[pe]=Nt[1]}const le=S.build(),Ce=null!==(r=null==$d?void 0:$d.createHTML(le))&&void 0!==r?r:le;C.innerHTML=Ce,C.style.position="absolute",C.style.top="10000",C.style.wordWrap="break-word",document.body.appendChild(C);const ke=document.createRange(),Ne=Array.prototype.slice.call(C.children,0),ve=[];for(let pe=0;pe<o.length;pe++){const Qe=wC(ke,Ne[pe],J[pe],ne[pe]);if(null===Qe){ve[pe]=a(pe);continue}const Pe=M[pe],et=j[pe]+u,ot=X[pe],Nt=[];for(let Bt=0,Qt=Qe.length;Bt<Qt;Bt++)Nt[Bt]=ot[Qe[Bt]];if(0!==Pe)for(let Bt=0,Qt=Qe.length;Bt<Qt;Bt++)Qe[Bt]+=Pe;let kt,Vt;const qt=s[pe];qt?(kt=qt.map(Bt=>Bt.options),Vt=qt.map(Bt=>Bt.column-1)):(kt=null,Vt=null),ve[pe]=new Ka(Vt,kt,Qe,Nt,et)}return document.body.removeChild(C),ve}(s,e,t,i,n,r)}}}function vC(o,e,t,i,n,s){if(0!==s){const C=String(s);n.appendASCIIString('<div style="text-indent: -'),n.appendASCIIString(C),n.appendASCIIString("px; padding-left: "),n.appendASCIIString(C),n.appendASCIIString("px; box-sizing: border-box; width:")}else n.appendASCIIString('<div style="width:');n.appendASCIIString(String(i)),n.appendASCIIString('px;">');const r=o.length;let a=e,l=0;const d=[],u=[];let m=0<r?o.charCodeAt(0):0;n.appendASCIIString("<span>");for(let C=0;C<r;C++){0!==C&&C%16384==0&&n.appendASCIIString("</span><span>"),d[C]=l,u[C]=a;const S=m;m=C+1<r?o.charCodeAt(C+1):0;let M=1,j=1;switch(S){case 9:M=t-a%t,j=M;for(let J=1;J<=M;J++)J<M?n.write1(160):n.appendASCII(32);break;case 32:32===m?n.write1(160):n.appendASCII(32);break;case 60:n.appendASCIIString("&lt;");break;case 62:n.appendASCIIString("&gt;");break;case 38:n.appendASCIIString("&amp;");break;case 0:n.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:n.write1(65533);break;default:ut.K7(S)&&j++,n.write1(S<32?9216+S:S)}l+=M,a+=j}return n.appendASCIIString("</span>"),d[o.length]=l,u[o.length]=a,n.appendASCIIString("</div>"),[d,u]}function wC(o,e,t,i){if(t.length<=1)return null;const n=Array.prototype.slice.call(e.children,0),s=[];try{Zd(o,n,i,0,null,t.length-1,null,s)}catch(r){return console.log(r),null}return 0===s.length?null:(s.push(t.length),s)}function Zd(o,e,t,i,n,s,r,a){if(i===s||(n=n||qd(o,e,t[i],t[i+1]),r=r||qd(o,e,t[s],t[s+1]),Math.abs(n[0].top-r[0].top)<=.1))return;if(i+1===s)return void a.push(s);const l=i+(s-i)/2|0,d=qd(o,e,t[l],t[l+1]);Zd(o,e,t,i,n,l,d,a),Zd(o,e,t,l,d,s,r,a)}function qd(o,e,t,i){return o.setStart(e[t/16384|0].firstChild,t%16384),o.setEnd(e[i/16384|0].firstChild,i%16384),o.getClientRects()}var Ho=function(o,e){return function(t,i){e(t,i,o)}};let yC=0;class LC{constructor(e,t,i,n,s){this.model=e,this.viewModel=t,this.view=i,this.hasRealView=n,this.listenersToRemove=s}dispose(){(0,ze.B9)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let Jl=class td extends ze.JT{constructor(e,t,i,n,s,r,a,l,d,u,m){super(),this.languageConfigurationService=m,this._onDidDispose=this._register(new Be.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new Be.Q5),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new Be.Q5),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new Be.Q5),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new Be.Q5),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new Be.Q5),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new Be.Q5),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new Be.Q5),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new Be.Q5),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new Be.Q5),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new Be.Q5),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new Be.Q5),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new wg),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new wg),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new Be.Q5),this.onWillType=this._onWillType.event,this._onDidType=this._register(new Be.Q5),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new Be.Q5),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new Be.Q5),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new Be.Q5),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new Be.Q5),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new Be.Q5),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new Be.Q5),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new Be.Q5),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new Be.Q5),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new Be.Q5),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new Be.Q5),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new Be.Q5),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new Be.Q5),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new Be.Q5),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new Be.Q5),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new Be.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new Be.Q5),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new Be.Q5),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new Be.Q5),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null;const C=Object.assign({},t);let S;this._domElement=e,this._overflowWidgetsDomNode=C.overflowWidgetsDomNode,delete C.overflowWidgetsDomNode,this._id=++yC,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=i.telemetryData,this._configuration=this._register(this._createConfiguration(i.isSimpleWidget||!1,C,u)),this._register(this._configuration.onDidChange(M=>{this._onDidChangeConfiguration.fire(M);const j=this._configuration.options;if(M.hasChanged(131)){const J=j.get(131);this._onDidLayoutChange.fire(J)}})),this._contextKeyService=this._register(a.createScoped(this._domElement)),this._notificationService=d,this._codeEditorService=s,this._commandService=r,this._themeService=l,this._register(new EC(this,this._contextKeyService)),this._register(new xC(this,this._contextKeyService)),this._instantiationService=n.createChild(new Ql([Rt.i6,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new NC(e),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},S=Array.isArray(i.contributions)?i.contributions:Et.Uc.getEditorContributions();for(const M of S)if(this._contributions[M.id])(0,he.dL)(new Error(`Cannot have two contributions with the same id ${M.id}`));else try{const j=this._instantiationService.createInstance(M.ctor,this);this._contributions[M.id]=j}catch(j){(0,he.dL)(j)}Et.Uc.getEditorActions().forEach(M=>{if(this._actions[M.id])return void(0,he.dL)(new Error(`Cannot have two actions with the same id ${M.id}`));const j=new og(M.id,M.label,M.alias,(0,be.f6)(M.precondition),()=>this._instantiationService.invokeFunction(J=>Promise.resolve(M.runEditorCommand(J,this,null))),this._contextKeyService);this._actions[j.id]=j}),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(e,t,i){return new ud(e,t,this._domElement,i)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return ji.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const e=Object.keys(this._contributions);for(let t=0,i=e.length;t<i;t++)this._contributions[e[t]].dispose();this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e||{})}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?ci.getWordAtPosition(this._modelData.model,this._configuration.options.get(117),e):null}getValue(e=null){if(!this._modelData)return"";let i=0;return e&&e.lineEnding&&"\n"===e.lineEnding?i=1:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(i=2),this._modelData.model.getValue(i,!(!e||!e.preserveBOM))}setValue(e){!this._modelData||this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const t=e;if(null===this._modelData&&null===t||this._modelData&&this._modelData.model===t)return;const i=this.hasTextFocus(),n=this._detachModel();this._attachModel(t),i&&this.hasModel()&&this.focus();const s={oldModelUrl:n?n.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(s),this._postDetachModelCleanup(n)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let e in this._decorationTypeSubtypes){const t=this._decorationTypeSubtypes[e];for(let i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(e,t,i){const n=e.model.validatePosition({lineNumber:t,column:i}),s=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(n);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(s.lineNumber)}getTopForLineNumber(e){return this._modelData?td._getVerticalOffsetForPosition(this._modelData,e,1):-1}getTopForPosition(e,t){return this._modelData?td._getVerticalOffsetForPosition(this._modelData,e,t):-1}setHiddenAreas(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map(t=>Ze.e.lift(t)))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return Ln.i.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e){if(this._modelData){if(!Xe.L.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,i,n){if(!this._modelData)return;if(!Ze.e.isIRange(e))throw new Error("Invalid arguments");const s=this._modelData.model.validateRange(e),r=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(s);this._modelData.viewModel.revealRange("api",i,r,t,n)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,i){if("number"!=typeof e)throw new Error("Invalid arguments");this._sendRevealRange(new Ze.e(e,1,e,1),t,!1,i)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,i,n){if(!Xe.L.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new Ze.e(e.lineNumber,e.column,e.lineNumber,e.column),t,i,n)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e){const t=Xt.Y.isISelection(e),i=Ze.e.isIRange(e);if(!t&&!i)throw new Error("Invalid arguments");t?this._setSelectionImpl(e):i&&this._setSelectionImpl({selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn})}_setSelectionImpl(e){if(!this._modelData)return;const t=new Xt.Y(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections("api",[t])}revealLines(e,t,i=0){this._revealLines(e,t,0,i)}revealLinesInCenter(e,t,i=0){this._revealLines(e,t,1,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._revealLines(e,t,2,i)}revealLinesNearTop(e,t,i=0){this._revealLines(e,t,5,i)}_revealLines(e,t,i,n){if("number"!=typeof e||"number"!=typeof t)throw new Error("Invalid arguments");this._sendRevealRange(new Ze.e(e,1,t,1),i,!1,n)}revealRange(e,t=0,i=!1,n=!0){this._revealRange(e,i?1:0,n,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,i,n){if(!Ze.e.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(Ze.e.lift(e),t,i,n)}setSelections(e,t="api",i=0){if(this._modelData){if(!e||0===e.length)throw new Error("Invalid arguments");for(let n=0,s=e.length;n<s;n++)if(!Xt.Y.isISelection(e[n]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,i)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){!this._modelData||this._modelData.viewModel.setScrollPosition(e,t)}saveViewState(){if(!this._modelData)return null;const e={},t=Object.keys(this._contributions);for(const s of t){const r=this._contributions[s];"function"==typeof r.saveViewState&&(e[s]=r.saveViewState())}return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const t=e;if(t&&t.cursorState&&t.viewState){const i=t.cursorState;Array.isArray(i)?this._modelData.viewModel.restoreCursorState(i):this._modelData.viewModel.restoreCursorState([i]);const n=t.contributionsState||{},s=Object.keys(this._contributions);for(let a=0,l=s.length;a<l;a++){const d=s[a],u=this._contributions[d];"function"==typeof u.restoreViewState&&u.restoreViewState(n[d])}const r=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(r)}}getContribution(e){return this._contributions[e]||null}getActions(){const e=[],t=Object.keys(this._actions);for(let i=0,n=t.length;i<n;i++)e.push(this._actions[t[i]]);return e}getSupportedActions(){let e=this.getActions();return e=e.filter(t=>t.isSupported()),e}getAction(e){return this._actions[e]||null}trigger(e,t,i){switch(i=i||{},t){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(e);case"type":return void this._type(e,i.text||"");case"replacePreviousChar":return void this._compositionType(e,i.text||"",i.replaceCharCnt||0,0,0);case"compositionType":return void this._compositionType(e,i.text||"",i.replacePrevCharCnt||0,i.replaceNextCharCnt||0,i.positionDelta||0);case"paste":return void this._paste(e,i.text||"",i.pasteOnNewLine||!1,i.multicursorText||null,i.mode||null);case"cut":return void this._cut(e)}const n=this.getAction(t);n?Promise.resolve(n.run()).then(void 0,he.dL):!this._modelData||this._triggerEditorCommand(e,t,i)||this._triggerCommand(t,i)}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){!this._modelData||(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){!this._modelData||0===t.length||("keyboard"===e&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),"keyboard"===e&&this._onDidType.fire(t))}_compositionType(e,t,i,n,s){!this._modelData||this._modelData.viewModel.compositionType(t,i,n,s,e)}_paste(e,t,i,n,s){if(!this._modelData||0===t.length)return;const r=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(t,i,n,e);const a=this._modelData.viewModel.getSelection().getStartPosition();"keyboard"===e&&this._onDidPaste.fire({range:new Ze.e(r.lineNumber,r.column,a.lineNumber,a.column),languageId:s})}_cut(e){!this._modelData||this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,i){const n=Et.Uc.getEditorCommand(t);return!!n&&((i=i||{}).source=e,this._instantiationService.invokeFunction(s=>{Promise.resolve(n.runEditorCommand(s,this,i)).then(void 0,he.dL)}),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!(!this._modelData||this._configuration.options.get(81)||(this._modelData.model.pushStackElement(),0))}popUndoStop(){return!(!this._modelData||this._configuration.options.get(81)||(this._modelData.model.popStackElement(),0))}executeEdits(e,t,i){if(!this._modelData||this._configuration.options.get(81))return!1;let n;return n=i?Array.isArray(i)?()=>i:i:()=>null,this._modelData.viewModel.executeEdits(e,t,n),!0}executeCommand(e,t){!this._modelData||this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){!this._modelData||this._modelData.viewModel.executeCommands(t,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,Ci(this._configuration.options)):null}getDecorationsInRange(e){return this._modelData?this._modelData.model.getDecorationsInRange(e,this._id,Ci(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?0===e.length&&0===t.length?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){const t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(131)}createOverviewRuler(e){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(e):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarMouseDown(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(e)}layout(e){this._configuration.observeContainer(e),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}}removeContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(i)}}addOverlayWidget(e){const t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}}removeOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(i)}}changeViewZones(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(e,t):null}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;const t=this._modelData.model.validatePosition(e),i=this._configuration.options,n=i.get(131);return{top:td._getVerticalOffsetForPosition(this._modelData,t.lineNumber,t.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(t.lineNumber,t.column)+n.glyphMarginWidth+n.lineNumbersWidth+n.decorationsWidth-this.getScrollLeft(),height:i.get(59)}}getOffsetForColumn(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(e,t):-1}render(e=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,e)}setAriaOptions(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(e)}applyFontInfo(e){Bi(e,this._configuration.options.get(44))}setBanner(e,t){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=e,this._configuration.setReservedHeight(e?t:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(e){if(!e)return void(this._modelData=null);const t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setModelLineCount(e.getLineCount()),e.onBeforeAttached();const i=new gC(this._id,this._configuration,e,Gd.create(),Hd.create(this._configuration.options),r=>ue.jL(r),this.languageConfigurationService);t.push(e.onDidChangeDecorations(r=>this._onDidChangeModelDecorations.fire(r))),t.push(e.onDidChangeLanguage(r=>{this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(r)})),t.push(e.onDidChangeLanguageConfiguration(r=>this._onDidChangeModelLanguageConfiguration.fire(r))),t.push(e.onDidChangeContent(r=>this._onDidChangeModelContent.fire(r))),t.push(e.onDidChangeOptions(r=>this._onDidChangeModelOptions.fire(r))),t.push(e.onWillDispose(()=>this.setModel(null))),t.push(i.onEvent(r=>{switch(r.kind){case 0:this._onDidContentSizeChange.fire(r);break;case 1:this._editorTextFocus.setValue(r.hasFocus);break;case 2:this._onDidScrollChange.fire(r);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{r.reachedMaxCursorCount&&this._notificationService.warn(_.N("cursors.maximum","The number of cursors has been limited to {0}.",ng.MAX_CURSOR_COUNT));const a=[];for(let u=0,m=r.selections.length;u<m;u++)a[u]=r.selections[u].getPosition();const l={position:a[0],secondaryPositions:a.slice(1),reason:r.reason,source:r.source};this._onDidChangeCursorPosition.fire(l);const d={selection:r.selections[0],secondarySelections:r.selections.slice(1),modelVersionId:r.modelVersionId,oldSelections:r.oldSelections,oldModelVersionId:r.oldModelVersionId,source:r.source,reason:r.reason};this._onDidChangeCursorSelection.fire(d);break}}}));const[n,s]=this._createView(i);if(s){this._domElement.appendChild(n.domNode.domNode);let r=Object.keys(this._contentWidgets);for(let a=0,l=r.length;a<l;a++)n.addContentWidget(this._contentWidgets[r[a]]);r=Object.keys(this._overlayWidgets);for(let a=0,l=r.length;a<l;a++)n.addOverlayWidget(this._overlayWidgets[r[a]]);n.render(!1,!0),n.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new LC(e,i,n,s,t)}_createView(e){let t;t=this.isSimpleWidget?{paste:(s,r,a,l)=>{this._paste("keyboard",s,r,a,l)},type:s=>{this._type("keyboard",s)},compositionType:(s,r,a,l)=>{this._compositionType("keyboard",s,r,a,l)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(s,r,a,l)=>{this._commandService.executeCommand("paste",{text:s,pasteOnNewLine:r,multicursorText:a,mode:l})},type:s=>{this._commandService.executeCommand("type",{text:s})},compositionType:(s,r,a,l)=>{a||l?this._commandService.executeCommand("compositionType",{text:s,replacePrevCharCnt:r,replaceNextCharCnt:a,positionDelta:l}):this._commandService.executeCommand("replacePreviousChar",{text:s,replaceCharCnt:r})},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const i=new Bl(e.coordinatesConverter);return i.onKeyDown=s=>this._onKeyDown.fire(s),i.onKeyUp=s=>this._onKeyUp.fire(s),i.onContextMenu=s=>this._onContextMenu.fire(s),i.onMouseMove=s=>this._onMouseMove.fire(s),i.onMouseLeave=s=>this._onMouseLeave.fire(s),i.onMouseDown=s=>this._onMouseDown.fire(s),i.onMouseUp=s=>this._onMouseUp.fire(s),i.onMouseDrag=s=>this._onMouseDrag.fire(s),i.onMouseDrop=s=>this._onMouseDrop.fire(s),i.onMouseDropCanceled=s=>this._onMouseDropCanceled.fire(s),i.onMouseWheel=s=>this._onMouseWheel.fire(s),[new L0(t,this._configuration,this._themeService,e,i,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e&&e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&this._domElement.removeChild(t),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return null!==this._modelData}};Jl=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([Ho(3,Ft.TG),Ho(4,Ti.$),Ho(5,Hi.Hy),Ho(6,Rt.i6),Ho(7,Ut.XE),Ho(8,Bs.lT),Ho(9,as),Ho(10,an.c_)],Jl);class wg extends ze.JT{constructor(){super(),this._onDidChangeToTrue=this._register(new Be.Q5),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new Be.Q5),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const t=e?2:1;this._value!==t&&(this._value=t,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class EC extends ze.JT{constructor(e,t){super(),this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=wt.u.editorSimpleInput.bindTo(t),this._editorFocus=wt.u.focus.bindTo(t),this._textInputFocus=wt.u.textInputFocus.bindTo(t),this._editorTextFocus=wt.u.editorTextFocus.bindTo(t),this._editorTabMovesFocus=wt.u.tabMovesFocus.bindTo(t),this._editorReadonly=wt.u.readOnly.bindTo(t),this._inDiffEditor=wt.u.inDiffEditor.bindTo(t),this._editorColumnSelection=wt.u.columnSelection.bindTo(t),this._hasMultipleSelections=wt.u.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=wt.u.hasNonEmptySelection.bindTo(t),this._canUndo=wt.u.canUndo.bindTo(t),this._canRedo=wt.u.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(130)),this._editorReadonly.set(e.get(81)),this._inDiffEditor.set(e.get(54)),this._editorColumnSelection.set(e.get(18))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(t=>!t.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))}}class xC extends ze.JT{constructor(e,t){super(),this._editor=e,this._contextKeyService=t,this._langId=wt.u.languageId.bindTo(t),this._hasCompletionItemProvider=wt.u.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=wt.u.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=wt.u.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=wt.u.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=wt.u.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=wt.u.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=wt.u.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=wt.u.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=wt.u.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=wt.u.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=wt.u.hasReferenceProvider.bindTo(t),this._hasRenameProvider=wt.u.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=wt.u.hasSignatureHelpProvider.bindTo(t),this._hasInlayHintsProvider=wt.u.hasInlayHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=wt.u.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=wt.u.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=wt.u.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=wt.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInWalkThrough=wt.u.isInWalkThroughSnippet.bindTo(t);const i=()=>this._update();this._register(e.onDidChangeModel(i)),this._register(e.onDidChangeModelLanguage(i)),this._register(rt.KZ.onDidChange(i)),this._register(rt.H9.onDidChange(i)),this._register(rt.He.onDidChange(i)),this._register(rt.Ct.onDidChange(i)),this._register(rt.RN.onDidChange(i)),this._register(rt.vI.onDidChange(i)),this._register(rt.tA.onDidChange(i)),this._register(rt.xp.onDidChange(i)),this._register(rt.vH.onDidChange(i)),this._register(rt.vJ.onDidChange(i)),this._register(rt.FL.onDidChange(i)),this._register(rt.G0.onDidChange(i)),this._register(rt.Az.onDidChange(i)),this._register(rt.vN.onDidChange(i)),this._register(rt.nD.onDidChange(i)),this._register(rt.mX.onDidChange(i)),i()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const e=this._editor.getModel();e?this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(rt.KZ.has(e)),this._hasCodeActionsProvider.set(rt.H9.has(e)),this._hasCodeLensProvider.set(rt.He.has(e)),this._hasDefinitionProvider.set(rt.Ct.has(e)),this._hasDeclarationProvider.set(rt.RN.has(e)),this._hasImplementationProvider.set(rt.vI.has(e)),this._hasTypeDefinitionProvider.set(rt.tA.has(e)),this._hasHoverProvider.set(rt.xp.has(e)),this._hasDocumentHighlightProvider.set(rt.vH.has(e)),this._hasDocumentSymbolProvider.set(rt.vJ.has(e)),this._hasReferenceProvider.set(rt.FL.has(e)),this._hasRenameProvider.set(rt.G0.has(e)),this._hasSignatureHelpProvider.set(rt.nD.has(e)),this._hasInlayHintsProvider.set(rt.mX.has(e)),this._hasDocumentFormattingProvider.set(rt.Az.has(e)||rt.vN.has(e)),this._hasDocumentSelectionFormattingProvider.set(rt.vN.has(e)),this._hasMultipleDocumentFormattingProvider.set(rt.Az.all(e).length+rt.vN.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(rt.vN.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===Ki.lg.walkThroughSnippet)}):this.reset()}}class NC extends ze.JT{constructor(e){super(),this._onChange=this._register(new Be.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(ue.go(e)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const IC=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),DC=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Yd(o){return IC+encodeURIComponent(o.toString())+DC}const kC=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),TC=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');(0,Ut.Ic)((o,e)=>{const t=o.getColor(it.b6y);t&&e.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${t}; }`);const i=o.getColor(it.lXJ);i&&e.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${Yd(i)}") repeat-x bottom left; }`);const n=o.getColor(it.L_H);n&&e.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${n}; }`);const s=o.getColor(it.pW3);s&&e.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${s}; }`);const r=o.getColor(it.uoC);r&&e.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${Yd(r)}") repeat-x bottom left; }`);const a=o.getColor(it.gpD);a&&e.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${a}; }`);const l=o.getColor(it.T83);l&&e.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${l}; }`);const d=o.getColor(it.c63);d&&e.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${Yd(d)}") repeat-x bottom left; }`);const u=o.getColor(it.few);u&&e.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${u}; }`);const m=o.getColor(it.fEB);m&&e.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${m}; }`);const C=o.getColor(it.Dut);C&&e.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${function MC(o){return kC+encodeURIComponent(o.toString())+TC}(C)}") no-repeat bottom left; }`);const S=o.getColor(si.zu);S&&e.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${S.rgba.a}; }`);const M=o.getColor(si.kp);M&&e.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${M}; }`);const j=o.getColor(it.NOs)||"inherit";e.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${j}}`)}),L(54548);var Qd=L(67687);class Xd{constructor(e,t,i){this._visiblePosition=e,this._visiblePositionScrollDelta=t,this._cursorPosition=i}static capture(e){let t=null,i=0;if(0!==e.getScrollTop()){const n=e.getVisibleRanges();if(n.length>0){t=n[0].getStartPosition();const s=e.getTopForPosition(t.lineNumber,t.column);i=e.getScrollTop()-s}}return new Xd(t,i,e.getPosition())}restore(e){if(this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){const t=e.getPosition();if(!this._cursorPosition||!t)return;const i=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+i)}}L(59043);var Jd,Ga=L(84039),Es=L(85113),ki=L(2450),ur=L(95836);class Za{constructor(e,t,i,n){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=i,this.modifiedLineEnd=n}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class eh{constructor(e){this.entries=e}}const PC=(0,ur.q5)("diff-review-insert",ki.lA.add,_.N("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),BC=(0,ur.q5)("diff-review-remove",ki.lA.remove,_.N("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),FC=(0,ur.q5)("diff-review-close",ki.lA.close,_.N("diffReviewCloseIcon","Icon for 'Close' in diff review."));let tc=class Ir extends ze.JT{constructor(e,t){super(),this._languageService=t,this._width=0,this._diffEditor=e,this._isVisible=!1,this.shadow=(0,dt.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,dt.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new Ga.o(this.actionBarContainer.domNode)),this._actionBar.push(new Es.aU("diffreview.close",_.N("label.close","Close"),"close-diff-review "+Ut.kS.asClassName(FC),!0,()=>function(o,e,t,i){return new(t||(t=Promise))(function(s,r){function a(u){try{d(i.next(u))}catch(m){r(m)}}function l(u){try{d(i.throw(u))}catch(m){r(m)}}function d(u){u.done?s(u.value):function n(s){return s instanceof t?s:new t(function(r){r(s)})}(u.value).then(a,l)}d((i=i.apply(o,e||[])).next())})}(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,dt.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,dt.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new Oa.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(e.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(e.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(ue.mu(this.domNode.domNode,"click",i=>{i.preventDefault();const n=ue.Fx(i.target,"diff-review-row");n&&this._goToRow(n)})),this._register(ue.mu(this.domNode.domNode,"keydown",i=>{(i.equals(18)||i.equals(2066)||i.equals(530))&&(i.preventDefault(),this._goToRow(this._getNextRow())),(i.equals(16)||i.equals(2064)||i.equals(528))&&(i.preventDefault(),this._goToRow(this._getPrevRow())),(i.equals(9)||i.equals(2057)||i.equals(521)||i.equals(1033))&&(i.preventDefault(),this.hide()),(i.equals(10)||i.equals(3))&&(i.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let i=-1;for(let n=0,s=this._diffs.length;n<s;n++)if(this._diffs[n]===this._currentDiff){i=n;break}e=this._diffs.length+i-1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;e%=this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new Xe.L(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let i=-1;for(let n=0,s=this._diffs.length;n<s;n++)if(this._diffs[n]===this._currentDiff){i=n;break}e=i+1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;e%=this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new Xe.L(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let e=-1;const t=this._getCurrentFocusedRow();if(t){const i=parseInt(t.getAttribute("data-line"),10);isNaN(i)||(e=i)}this.hide(),-1!==e&&(this._diffEditor.setPosition(new Xe.L(e,1)),this._diffEditor.revealPosition(new Xe.L(e,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()}_getNextRow(){const e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null}_goToRow(e){const t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(e,t,i){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(i),this._content.setHeight(i),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const e=this._diffEditor.getLineChanges();if(!e||0===e.length)return[];const t=this._diffEditor.getOriginalEditor().getModel(),i=this._diffEditor.getModifiedEditor().getModel();return t&&i?Ir._mergeAdjacent(e,t.getLineCount(),i.getLineCount()):[]}static _mergeAdjacent(e,t,i){if(!e||0===e.length)return[];const n=[];let s=0;for(let d=0,u=e.length;d<u;d++){const m=e[d],C=m.originalStartLineNumber,S=m.originalEndLineNumber,M=m.modifiedStartLineNumber,j=m.modifiedEndLineNumber,J=[];let ne=0;{const X=0===S?C:C-1,le=0===j?M:M-1;let Ce=1,ke=1;if(d>0){const pe=e[d-1];Ce=0===pe.originalEndLineNumber?pe.originalStartLineNumber+1:pe.originalEndLineNumber+1,ke=0===pe.modifiedEndLineNumber?pe.modifiedStartLineNumber+1:pe.modifiedEndLineNumber+1}let Ne=X-3+1,ve=le-3+1;if(Ne<Ce){const pe=Ce-Ne;Ne+=pe,ve+=pe}if(ve<ke){const pe=ke-ve;Ne+=pe,ve+=pe}J[ne++]=new Za(Ne,X,ve,le)}0!==S&&(J[ne++]=new Za(C,S,0,0)),0!==j&&(J[ne++]=new Za(0,0,M,j));{const X=0===S?C+1:S+1,le=0===j?M+1:j+1;let Ce=t,ke=i;if(d+1<u){const pe=e[d+1];Ce=0===pe.originalEndLineNumber?pe.originalStartLineNumber:pe.originalStartLineNumber-1,ke=0===pe.modifiedEndLineNumber?pe.modifiedStartLineNumber:pe.modifiedStartLineNumber-1}let Ne=X+3-1,ve=le+3-1;if(Ne>Ce){const pe=Ce-Ne;Ne+=pe,ve+=pe}if(ve>ke){const pe=ke-ve;Ne+=pe,ve+=pe}J[ne++]=new Za(X,Ne,le,ve)}n[s++]=new eh(J)}let r=n[0].entries;const a=[];let l=0;for(let d=1,u=n.length;d<u;d++){const m=n[d].entries,C=r[r.length-1],S=m[0];0===C.getType()&&0===S.getType()&&S.originalLineStart<=C.originalLineEnd?(r[r.length-1]=new Za(C.originalLineStart,S.originalLineEnd,C.modifiedLineStart,S.modifiedLineEnd),r=r.concat(m.slice(1))):(a[l++]=new eh(r),r=m)}return a[l++]=new eh(r),a}_findDiffIndex(e){const t=e.lineNumber;for(let i=0,n=this._diffs.length;i<n;i++){const s=this._diffs[i].entries;if(t<=s[s.length-1].modifiedLineEnd)return i}return 0}_render(){const e=this._diffEditor.getOriginalEditor().getOptions(),t=this._diffEditor.getModifiedEditor().getOptions(),i=this._diffEditor.getOriginalEditor().getModel(),n=this._diffEditor.getModifiedEditor().getModel(),s=i.getOptions(),r=n.getOptions();if(!this._isVisible||!i||!n)return ue.PO(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});const a=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[a]===this._currentDiff)return;this._currentDiff=this._diffs[a];const l=this._diffs[a].entries,d=document.createElement("div");d.className="diff-review-table",d.setAttribute("role","list"),d.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),Bi(d,t.get(44));let u=0,m=0,C=0,S=0;for(let ve=0,pe=l.length;ve<pe;ve++){const Te=l[ve],Qe=Te.originalLineStart,Pe=Te.originalLineEnd,et=Te.modifiedLineStart,ot=Te.modifiedLineEnd;0!==Qe&&(0===u||Qe<u)&&(u=Qe),0!==Pe&&(0===m||Pe>m)&&(m=Pe),0!==et&&(0===C||et<C)&&(C=et),0!==ot&&(0===S||ot>S)&&(S=ot)}const M=document.createElement("div");M.className="diff-review-row";const j=document.createElement("div");j.className="diff-review-cell diff-review-summary";const J=m-u+1,ne=S-C+1;j.appendChild(document.createTextNode(`${a+1}/${this._diffs.length}: @@ -${u},${J} +${C},${ne} @@`)),M.setAttribute("data-line",String(C));const X=ve=>0===ve?_.N("no_lines_changed","no lines changed"):1===ve?_.N("one_line_changed","1 line changed"):_.N("more_lines_changed","{0} lines changed",ve),le=X(J),Ce=X(ne);M.setAttribute("aria-label",_.N({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",a+1,this._diffs.length,u,le,C,Ce)),M.appendChild(j),M.setAttribute("role","listitem"),d.appendChild(M);const ke=t.get(59);let Ne=C;for(let ve=0,pe=l.length;ve<pe;ve++){const Te=l[ve];Ir._renderSection(d,Te,Ne,ke,this._width,e,i,s,t,n,r,this._languageService.languageIdCodec),0!==Te.modifiedLineStart&&(Ne=Te.modifiedLineEnd)}ue.PO(this._content.domNode),this._content.domNode.appendChild(d),this.scrollbar.scanDomNode()}static _renderSection(e,t,i,n,s,r,a,l,d,u,m,C){const S=t.getType();let M="diff-review-row",j="",ne=null;switch(S){case 1:M="diff-review-row line-insert",j=" char-insert",ne=PC;break;case 2:M="diff-review-row line-delete",j=" char-delete",ne=BC}const X=t.originalLineStart,Ce=t.modifiedLineStart,Ne=Math.max(t.modifiedLineEnd-Ce,t.originalLineEnd-X),ve=r.get(131),pe=ve.glyphMarginWidth+ve.lineNumbersWidth,Te=d.get(131),Qe=10+Te.glyphMarginWidth+Te.lineNumbersWidth;for(let Pe=0;Pe<=Ne;Pe++){const et=0===X?0:X+Pe,ot=0===Ce?0:Ce+Pe,Nt=document.createElement("div");Nt.style.minWidth=s+"px",Nt.className=M,Nt.setAttribute("role","listitem"),0!==ot&&(i=ot),Nt.setAttribute("data-line",String(i));const kt=document.createElement("div");kt.className="diff-review-cell",kt.style.height=`${n}px`,Nt.appendChild(kt);const Vt=document.createElement("span");Vt.style.width=pe+"px",Vt.style.minWidth=pe+"px",Vt.className="diff-review-line-number"+j,0!==et?Vt.appendChild(document.createTextNode(String(et))):Vt.innerText="\xa0",kt.appendChild(Vt);const qt=document.createElement("span");qt.style.width=Qe+"px",qt.style.minWidth=Qe+"px",qt.style.paddingRight="10px",qt.className="diff-review-line-number"+j,0!==ot?qt.appendChild(document.createTextNode(String(ot))):qt.innerText="\xa0",kt.appendChild(qt);const Bt=document.createElement("span");if(Bt.className="diff-review-spacer",ne){const Ui=document.createElement("span");Ui.className=Ut.kS.asClassName(ne),Ui.innerText="\xa0\xa0",Bt.appendChild(Ui)}else Bt.innerText="\xa0\xa0";let Qt;if(kt.appendChild(Bt),0!==ot){let Ui=this._renderLine(u,d,m.tabSize,ot,C);Ir._ttPolicy&&(Ui=Ir._ttPolicy.createHTML(Ui)),kt.insertAdjacentHTML("beforeend",Ui),Qt=u.getLineContent(ot)}else{let Ui=this._renderLine(a,r,l.tabSize,et,C);Ir._ttPolicy&&(Ui=Ir._ttPolicy.createHTML(Ui)),kt.insertAdjacentHTML("beforeend",Ui),Qt=a.getLineContent(et)}0===Qt.length&&(Qt=_.N("blankLine","blank"));let Gi="";switch(S){case 0:Gi=et===ot?_.N({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",Qt,et):_.N("equalLine","{0} original line {1} modified line {2}",Qt,et,ot);break;case 1:Gi=_.N("insertLine","+ {0} modified line {1}",Qt,ot);break;case 2:Gi=_.N("deleteLine","- {0} original line {1}",Qt,et)}Nt.setAttribute("aria-label",Gi),e.appendChild(Nt)}}static _renderLine(e,t,i,n,s){const r=e.getLineContent(n),a=t.get(44),l=ya.A.createEmpty(r,s),d=Xn.isBasicASCII(r,e.mightContainNonBasicASCII()),u=Xn.containsRTL(r,d,e.mightContainRTL());return Ll(new Or(a.isMonospace&&!t.get(29),a.canUseHalfwidthRightwardsArrow,r,!1,d,u,0,l,[],i,0,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,t.get(105),t.get(88),t.get(83),t.get(45)!==oe.OFF,null)).html}};function Sg(o){const e=o.get(Ti.$),t=e.listDiffEditors(),i=e.getActiveCodeEditor();if(!i)return null;for(let n=0,s=t.length;n<s;n++){const r=t[n];if(r.getModifiedEditor().getId()===i.getId()||r.getOriginalEditor().getId()===i.getId())return r}return null}tc._ttPolicy=null===(Jd=window.trustedTypes)||void 0===Jd?void 0:Jd.createPolicy("diffReview",{createHTML:o=>o}),tc=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([function(o,e){return function(t,i){e(t,i,1)}}(0,je.O)],tc),(0,Ut.Ic)((o,e)=>{const t=o.getColor(si.hw);t&&e.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${t}; }`);const i=o.getColor(it._wn);i&&e.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${i} 0 -6px 6px -6px inset; }`)}),(0,Et.Qr)(class WC extends Et.R6{constructor(){super({id:"editor.action.diffReview.next",label:_.N("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:Rt.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(e,t){const i=Sg(e);i&&i.diffReviewNext()}}),(0,Et.Qr)(class VC extends Et.R6{constructor(){super({id:"editor.action.diffReview.prev",label:_.N("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:Rt.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(e,t){const i=Sg(e);i&&i.diffReviewPrev()}});const ea=(0,Ft.yh)("editorWorkerService");var ta=L(34394),th=function(o,e,t,i){return new(t||(t=Promise))(function(s,r){function a(u){try{d(i.next(u))}catch(m){r(m)}}function l(u){try{d(i.throw(u))}catch(m){r(m)}}function d(u){u.done?s(u.value):function n(s){return s instanceof t?s:new t(function(r){r(s)})}(u.value).then(a,l)}d((i=i.apply(o,e||[])).next())})};class zC extends ze.JT{constructor(e,t,i,n,s,r){super(),this._viewZoneId=e,this._marginDomNode=t,this.editor=i,this.diff=n,this._contextMenuService=s,this._clipboardService=r,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=ki.lA.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const a=i.getOption(59),l=i.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${a}px`,this._diffActions.style.lineHeight=`${a}px`,this._marginDomNode.appendChild(this._diffActions);const d=[],u=0===n.modifiedEndLineNumber;d.push(new Es.aU("diff.clipboard.copyDeletedContent",u?n.originalEndLineNumber>n.modifiedStartLineNumber?_.N("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):_.N("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):n.originalEndLineNumber>n.modifiedStartLineNumber?_.N("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):_.N("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>th(this,void 0,void 0,function*(){const j=new Ze.e(n.originalStartLineNumber,1,n.originalEndLineNumber+1,1),J=n.originalModel.getValueInRange(j);yield this._clipboardService.writeText(J)})));let C,m=0;n.originalEndLineNumber>n.modifiedStartLineNumber&&(C=new Es.aU("diff.clipboard.copyDeletedLineContent",u?_.N("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",n.originalStartLineNumber):_.N("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",n.originalStartLineNumber),void 0,!0,()=>th(this,void 0,void 0,function*(){const j=n.originalModel.getLineContent(n.originalStartLineNumber+m);if(""===j){const J=n.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(0===J?"\n":"\r\n")}else yield this._clipboardService.writeText(j)})),d.push(C)),i.getOption(81)||d.push(new Es.aU("diff.inline.revertChange",_.N("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>th(this,void 0,void 0,function*(){const j=new Ze.e(n.originalStartLineNumber,1,n.originalEndLineNumber,n.originalModel.getLineMaxColumn(n.originalEndLineNumber)),J=n.originalModel.getValueInRange(j);if(0===n.modifiedEndLineNumber){const ne=i.getModel().getLineMaxColumn(n.modifiedStartLineNumber);i.executeEdits("diffEditor",[{range:new Ze.e(n.modifiedStartLineNumber,ne,n.modifiedStartLineNumber,ne),text:l+J}])}else{const ne=i.getModel().getLineMaxColumn(n.modifiedEndLineNumber);i.executeEdits("diffEditor",[{range:new Ze.e(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber,ne),text:J}])}})));const M=(j,J)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:j,y:J}),getActions:()=>(C&&(C.label=u?_.N("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",n.originalStartLineNumber+m):_.N("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",n.originalStartLineNumber+m)),d),autoSelectFirstItem:!0})};this._register(ue.mu(this._diffActions,"mousedown",j=>{const{top:J,height:ne}=ue.i(this._diffActions),X=Math.floor(a/3);j.preventDefault(),M(j.posx,J+ne+X)})),this._register(i.onMouseMove(j=>{8!==j.target.type&&5!==j.target.type||j.target.detail.viewZoneId!==this._viewZoneId?this.visibility=!1:(this.visibility=!0,m=this._updateLightBulbPosition(this._marginDomNode,j.event.browserEvent.y,a))})),this._register(i.onMouseDown(j=>{!j.event.rightButton||(8===j.target.type||5===j.target.type)&&j.target.detail.viewZoneId===this._viewZoneId&&(j.event.preventDefault(),m=this._updateLightBulbPosition(this._marginDomNode,j.event.browserEvent.y,a),M(j.event.posx,j.event.posy+a))}))}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")}_updateLightBulbPosition(e,t,i){const{top:n}=ue.i(e),r=Math.floor((t-n)/i);if(this._diffActions.style.top=r*i+"px",this.diff.viewLineCounts){let l=0;for(let d=0;d<this.diff.viewLineCounts.length;d++)if(l+=this.diff.viewLineCounts[d],r<l)return d}return r}}var ih=L(80777);Object.freeze({total(){},worked(){},done(){}}),Object.freeze({report(){}});const nh=(0,Ft.yh)("editorProgressService");var sh,Lo=function(o,e){return function(t,i){e(t,i,o)}};class yg{constructor(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(e){return e.filter(t=>!this._zonesMap[String(t.id)])}clean(e){this._zones.length>0&&e.changeViewZones(t=>{for(const i of this._zones)t.removeZone(i)}),this._zones=[],this._zonesMap={},this._decorations=e.deltaDecorations(this._decorations,[])}apply(e,t,i,n){const s=n?Xd.capture(e):null;e.changeViewZones(r=>{var a;for(const l of this._zones)r.removeZone(l);for(const l of this._inlineDiffMargins)l.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let l=0,d=i.zones.length;l<d;l++){const u=i.zones[l];u.suppressMouseDown=!0;const m=r.addZone(u);this._zones.push(m),this._zonesMap[String(m)]=!0,i.zones[l].diff&&u.marginDomNode&&(u.suppressMouseDown=!1,0!==(null===(a=i.zones[l].diff)||void 0===a?void 0:a.originalModel.getValueLength())&&this._inlineDiffMargins.push(new zC(m,u.marginDomNode,e,i.zones[l].diff,this._contextMenuService,this._clipboardService)))}}),s&&s.restore(e),this._decorations=e.deltaDecorations(this._decorations,i.decorations),t&&t.setZones(i.overviewZones)}}let KC=0;const $C=(0,ur.q5)("diff-insert",ki.lA.add,_.N("diffInsertIcon","Line decoration for inserts in the diff editor.")),Lg=(0,ur.q5)("diff-remove",ki.lA.remove,_.N("diffRemoveIcon","Line decoration for removals in the diff editor.")),Eg=null===(sh=window.trustedTypes)||void 0===sh?void 0:sh.createPolicy("diffEditorWidget",{createHTML:o=>o});let zo=class Cn extends ze.JT{constructor(e,t,i,n,s,r,a,l,d,u,m,C){super(),this._editorProgressService=C,this._onDidDispose=this._register(new Be.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new Be.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new Be.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=s,this._codeEditorService=l,this._contextKeyService=this._register(r.createScoped(e)),this._instantiationService=a.createChild(new Ql([Rt.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=d,this._notificationService=u,this._id=++KC,this._state=0,this._updatingDiffProgress=null,this._domElement=e,this._options=Tg(t=t||{},{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),this._contextKeyService.createKey("isInEmbeddedDiffEditor",void 0!==t.isInEmbeddedEditor&&t.isInEmbeddedEditor),this._updateDecorationsRunner=this._register(new se.pY(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=Cn._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,dt.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(ue.mu(this._overviewDomElement,"mousedown",M=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(M)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new yg(m,n),this._modifiedEditorState=new yg(m,n),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new Cf(this._containerDomElement,t.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),t.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(t,i.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(t,i.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=a.createInstance(tc,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._setStrategy(this._options.renderSideBySide?new Ig(this._createDataSource(),this._options.enableSplitViewResizing):new Dg(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(d.onDidColorThemeChange(M=>{this._strategy&&this._strategy.applyColors(M)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=Cn._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const S=Et.Uc.getDiffEditorContributions();for(const M of S)try{this._register(a.createInstance(M.ctor,this))}catch(j){(0,he.dL)(j)}this._codeEditorService.addDiffEditor(this)}_setState(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(e,t){let i="monaco-diff-editor monaco-editor-background ";return t&&(i+="side-by-side "),i+=(0,Ut.m6)(e.type),i}_recreateOverviewRulers(){!this._options.renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(e,t){const i=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(e),t);this._register(i.onDidScrollChange(s=>{this._isHandlingScrollEvent||!s.scrollTopChanged&&!s.scrollLeftChanged&&!s.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(i.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(i.onDidChangeConfiguration(s=>{!i.getModel()||(s.hasChanged(44)&&this._updateDecorationsRunner.schedule(),s.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(i.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(i.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const n=this._contextKeyService.createKey("isInDiffLeftEditor",i.hasWidgetFocus());return this._register(i.onDidFocusEditorWidget(()=>n.set(!0))),this._register(i.onDidBlurEditorWidget(()=>n.set(!1))),this._register(i.onDidContentSizeChange(s=>{const r=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Cn.ONE_OVERVIEW_WIDTH,a=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:a,contentWidth:r,contentHeightChanged:s.contentHeightChanged,contentWidthChanged:s.contentWidthChanged})})),i}_createRightHandSideEditor(e,t){const i=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(e),t);this._register(i.onDidScrollChange(s=>{this._isHandlingScrollEvent||!s.scrollTopChanged&&!s.scrollLeftChanged&&!s.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(i.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(i.onDidChangeConfiguration(s=>{!i.getModel()||(s.hasChanged(44)&&this._updateDecorationsRunner.schedule(),s.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(i.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(i.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(i.onDidChangeModelOptions(s=>{s.tabSize&&this._updateDecorationsRunner.schedule()}));const n=this._contextKeyService.createKey("isInDiffRightEditor",i.hasWidgetFocus());return this._register(i.onDidFocusEditorWidget(()=>n.set(!0))),this._register(i.onDidBlurEditorWidget(()=>n.set(!1))),this._register(i.onDidContentSizeChange(s=>{const r=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Cn.ONE_OVERVIEW_WIDTH,a=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:a,contentWidth:r,contentHeightChanged:s.contentHeightChanged,contentWidthChanged:s.contentWidthChanged})})),i}_createInnerEditor(e,t,i,n){return e.createInstance(Jl,t,i,n)}dispose(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return ji.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(e){const t=Tg(e,this._options),i=function YC(o,e){return{enableSplitViewResizing:o.enableSplitViewResizing!==e.enableSplitViewResizing,renderSideBySide:o.renderSideBySide!==e.renderSideBySide,maxComputationTime:o.maxComputationTime!==e.maxComputationTime,maxFileSize:o.maxFileSize!==e.maxFileSize,ignoreTrimWhitespace:o.ignoreTrimWhitespace!==e.ignoreTrimWhitespace,renderIndicators:o.renderIndicators!==e.renderIndicators,originalEditable:o.originalEditable!==e.originalEditable,diffCodeLens:o.diffCodeLens!==e.diffCodeLens,renderOverviewRuler:o.renderOverviewRuler!==e.renderOverviewRuler,diffWordWrap:o.diffWordWrap!==e.diffWordWrap}}(this._options,t);this._options=t;const s=this._isVisible&&(i.maxComputationTime||i.maxFileSize);i.ignoreTrimWhitespace||i.renderIndicators?this._beginUpdateDecorations():s&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(e)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(e)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),i.renderSideBySide&&(this._setStrategy(this._options.renderSideBySide?new Ig(this._createDataSource(),this._options.enableSplitViewResizing):new Dg(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=Cn._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),i.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(e?e.original:null),this._modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(e){return this._modifiedEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(e){this._modifiedEditor.setPosition(e)}revealLine(e,t=0){this._modifiedEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this._modifiedEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this._modifiedEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this._modifiedEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this._modifiedEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this._modifiedEditor.revealPositionNearTop(e,t)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(e){this._modifiedEditor.setSelection(e)}setSelections(e){this._modifiedEditor.setSelections(e)}revealLines(e,t,i=0){this._modifiedEditor.revealLines(e,t,i)}revealLinesInCenter(e,t,i=0){this._modifiedEditor.revealLinesInCenter(e,t,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,i)}revealLinesNearTop(e,t,i=0){this._modifiedEditor.revealLinesNearTop(e,t,i)}revealRange(e,t=0,i=!1,n=!0){this._modifiedEditor.revealRange(e,t,i,n)}revealRangeInCenter(e,t=0){this._modifiedEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this._modifiedEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this._modifiedEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){return{original:this._originalEditor.saveViewState(),modified:this._modifiedEditor.saveViewState()}}restoreViewState(e){if(e&&e.original&&e.modified){const t=e;this._originalEditor.restoreViewState(t.original),this._modifiedEditor.restoreViewState(t.modified)}}layout(e){this._elementSizeObserver.observe(e)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(e,t,i){this._modifiedEditor.trigger(e,t,i)}changeDecorations(e){return this._modifiedEditor.changeDecorations(e)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const e=this._elementSizeObserver.getHeight(),t=this._getReviewHeight(),i=Cn.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Cn.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:Cn.ONE_OVERVIEW_WIDTH,right:i+Cn.ONE_OVERVIEW_WIDTH,height:e-t}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:Cn.ONE_OVERVIEW_WIDTH,height:e-t}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),Cn.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(e,t){return!e&&!t||!(!e||!t)&&e.toString()===t.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const e=this._originalEditor.getModel(),t=this._modifiedEditor.getModel();if(!e||!t)return;this._diffComputationToken++;const i=this._diffComputationToken,n=1024*this._options.maxFileSize*1024,s=r=>{const a=r.getValueLength();return 0===n||a<=n};s(e)&&s(t)?(this._setState(1),this._editorWorkerService.computeDiff(e.uri,t.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(r=>{i===this._diffComputationToken&&e===this._originalEditor.getModel()&&t===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=r,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},r=>{i===this._diffComputationToken&&e===this._originalEditor.getModel()&&t===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})):(!Cn._equals(e.uri,this._lastOriginalWarning)||!Cn._equals(t.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=e.uri,this._lastModifiedWarning=t.uri,this._notificationService.warn(_.N("diff.tooLarge","Cannot compare files because one file is too large.")))}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const e=this._diffComputationResult?this._diffComputationResult.changes:[],t=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),i=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),n=this._strategy.getEditorsDiffDecorations(e,this._options.ignoreTrimWhitespace,this._options.renderIndicators,t,i);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,n.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,n.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(e){const t=Object.assign({},e);return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar=Object.assign({},t.scrollbar||{}),t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=this._options.diffCodeLens,t.fixedOverflowWidgets=!0,t.minimap=Object.assign({},t.minimap||{}),t.minimap.enabled=!1,t}_adjustOptionsForLeftHandSide(e){const t=this._adjustOptionsForSubEditor(e);return t.wordWrapOverride1=this._options.renderSideBySide?this._options.diffWordWrap:"off",e.originalAriaLabel&&(t.ariaLabel=e.originalAriaLabel),t.readOnly=!this._options.originalEditable,t.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(e){const t=this._adjustOptionsForSubEditor(e);return e.modifiedAriaLabel&&(t.ariaLabel=e.modifiedAriaLabel),t.wordWrapOverride1=this._options.diffWordWrap,t.revealHorizontalRightPadding=pi.revealHorizontalRightPadding.defaultValue+Cn.ENTIRE_DIFF_OVERVIEW_WIDTH,t.scrollbar.verticalHasArrows=!1,t.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const e=this._elementSizeObserver.getWidth(),t=this._elementSizeObserver.getHeight(),i=this._getReviewHeight(),n=this._strategy.layout();this._originalDomNode.style.width=n+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=e-n+"px",this._modifiedDomNode.style.left=n+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=t-i+"px",this._overviewDomElement.style.width=Cn.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=e-Cn.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(Cn.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:n,height:t-i}),this._modifiedEditor.layout({width:e-n-(this._options.renderOverviewRuler?Cn.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:t-i}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(t-i,e,i),this._layoutOverviewViewport()}_layoutOverviewViewport(){const e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const e=this._modifiedEditor.getLayoutInfo();if(!e)return null;const t=this._modifiedEditor.getScrollTop(),i=this._modifiedEditor.getScrollHeight(),n=Math.max(0,e.height),s=Math.max(0,n-0),r=i>0?s/i:0;return{height:Math.max(0,Math.floor(e.height*r)),top:Math.floor(t*r)}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(e,t){const i=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===i.length||e<t(i[0]))return null;let n=0,s=i.length-1;for(;n<s;){const r=Math.floor((n+s)/2),a=t(i[r]),l=r+1<=s?t(i[r+1]):1073741824;e<a?s=r-1:e>=l?n=r+1:(n=r,s=r)}return i[n]}_getEquivalentLineForOriginalLineNumber(e){const t=this._getLineChangeAtOrBeforeLineNumber(e,l=>l.originalStartLineNumber);if(!t)return e;const n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),s=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,a=e-(t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0));return a<=s?n+Math.min(a,r):n+r-s+a}_getEquivalentLineForModifiedLineNumber(e){const t=this._getLineChangeAtOrBeforeLineNumber(e,l=>l.modifiedStartLineNumber);if(!t)return e;const i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),s=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,a=e-(t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0));return a<=r?i+Math.min(a,s):i+s-r+a}getDiffLineInformationForOriginal(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null}getDiffLineInformationForModified(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null}};zo.ONE_OVERVIEW_WIDTH=15,zo.ENTIRE_DIFF_OVERVIEW_WIDTH=30,zo.UPDATE_DIFF_DECORATIONS_DELAY=200,zo=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([Lo(3,ih.p),Lo(4,ea),Lo(5,Rt.i6),Lo(6,Ft.TG),Lo(7,Ti.$),Lo(8,Ut.XE),Lo(9,Bs.lT),Lo(10,ta.i),Lo(11,nh)],zo);class xg extends ze.JT{constructor(e){super(),this._dataSource=e,this._insertColor=null,this._removeColor=null}applyColors(e){const t=(e.getColor(it.ypS)||it.CzK).transparent(2),i=(e.getColor(it.P4M)||it.keg).transparent(2),n=!t.equals(this._insertColor)||!i.equals(this._removeColor);return this._insertColor=t,this._removeColor=i,n}getEditorsDiffDecorations(e,t,i,n,s){s=s.sort((d,u)=>d.afterLineNumber-u.afterLineNumber),n=n.sort((d,u)=>d.afterLineNumber-u.afterLineNumber);const r=this._getViewZones(e,n,s,i),a=this._getOriginalEditorDecorations(e,t,i),l=this._getModifiedEditorDecorations(e,t,i);return{original:{decorations:a.decorations,overviewZones:a.overviewZones,zones:r.original},modified:{decorations:l.decorations,overviewZones:l.overviewZones,zones:r.modified}}}}class Ng{constructor(e){this._source=e,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this.current=this._index<this._source.length?this._source[this._index]:null}}class fr{constructor(e,t,i,n,s){this._lineChanges=e,this._originalForeignVZ=t,this._modifiedForeignVZ=i,this._originalEditor=n,this._modifiedEditor=s}static _getViewLineCount(e,t,i){const n=e.getModel(),s=e._getViewModel();if(n&&s){const r=qa(n,s,t,i);return r.endLineNumber-r.startLineNumber+1}return i-t+1}getViewZones(){const e=this._originalEditor.getOption(59),t=this._modifiedEditor.getOption(59),i=-1!==this._originalEditor.getOption(132).wrappingColumn,n=-1!==this._modifiedEditor.getOption(132).wrappingColumn,s=i||n,r=this._originalEditor.getModel(),a=this._originalEditor._getViewModel().coordinatesConverter,l=this._modifiedEditor._getViewModel().coordinatesConverter,d_original=[],d_modified=[];let u=0,m=0,C=0,S=0,M=0,j=0;const J=(Ne,ve)=>Ne.afterLineNumber-ve.afterLineNumber,ne=(Ne,ve)=>{if(null===ve.domNode&&Ne.length>0){const pe=Ne[Ne.length-1];if(pe.afterLineNumber===ve.afterLineNumber&&null===pe.domNode)return void(pe.heightInLines+=ve.heightInLines)}Ne.push(ve)},X=new Ng(this._modifiedForeignVZ),le=new Ng(this._originalForeignVZ);let Ce=1,ke=1;for(let Ne=0,ve=this._lineChanges.length;Ne<=ve;Ne++){const pe=Ne<ve?this._lineChanges[Ne]:null;null!==pe?(C=pe.originalStartLineNumber+(pe.originalEndLineNumber>0?-1:0),S=pe.modifiedStartLineNumber+(pe.modifiedEndLineNumber>0?-1:0),m=pe.originalEndLineNumber>0?fr._getViewLineCount(this._originalEditor,pe.originalStartLineNumber,pe.originalEndLineNumber):0,u=pe.modifiedEndLineNumber>0?fr._getViewLineCount(this._modifiedEditor,pe.modifiedStartLineNumber,pe.modifiedEndLineNumber):0,M=Math.max(pe.originalStartLineNumber,pe.originalEndLineNumber),j=Math.max(pe.modifiedStartLineNumber,pe.modifiedEndLineNumber)):(C+=1e7+m,S+=1e7+u,M=C,j=S);let Te=[],Qe=[];if(s){let ot;ot=pe?pe.originalEndLineNumber>0?pe.originalStartLineNumber-Ce:pe.modifiedStartLineNumber-ke:r.getLineCount()-Ce;for(let Nt=0;Nt<ot;Nt++){const kt=Ce+Nt,Vt=ke+Nt,qt=a.getModelLineViewLineCount(kt),Bt=l.getModelLineViewLineCount(Vt);qt<Bt?Te.push({afterLineNumber:kt,heightInLines:Bt-qt,domNode:null,marginDomNode:null}):qt>Bt&&Qe.push({afterLineNumber:Vt,heightInLines:qt-Bt,domNode:null,marginDomNode:null})}pe&&(Ce=(pe.originalEndLineNumber>0?pe.originalEndLineNumber:pe.originalStartLineNumber)+1,ke=(pe.modifiedEndLineNumber>0?pe.modifiedEndLineNumber:pe.modifiedStartLineNumber)+1)}for(;X.current&&X.current.afterLineNumber<=j;){let ot;ot=X.current.afterLineNumber<=S?C-S+X.current.afterLineNumber:M;let Nt=null;pe&&pe.modifiedStartLineNumber<=X.current.afterLineNumber&&X.current.afterLineNumber<=pe.modifiedEndLineNumber&&(Nt=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),Te.push({afterLineNumber:ot,heightInLines:X.current.height/t,domNode:null,marginDomNode:Nt}),X.advance()}for(;le.current&&le.current.afterLineNumber<=M;){let ot;ot=le.current.afterLineNumber<=C?S-C+le.current.afterLineNumber:j,Qe.push({afterLineNumber:ot,heightInLines:le.current.height/e,domNode:null}),le.advance()}if(null!==pe&&ia(pe)){const ot=this._produceOriginalFromDiff(pe,m,u);ot&&Te.push(ot)}if(null!==pe&&na(pe)){const ot=this._produceModifiedFromDiff(pe,m,u);ot&&Qe.push(ot)}let Pe=0,et=0;for(Te=Te.sort(J),Qe=Qe.sort(J);Pe<Te.length&&et<Qe.length;){const ot=Te[Pe],Nt=Qe[et],kt=ot.afterLineNumber-C,Vt=Nt.afterLineNumber-S;kt<Vt?(ne(d_original,ot),Pe++):Vt<kt?(ne(d_modified,Nt),et++):ot.shouldNotShrink?(ne(d_original,ot),Pe++):Nt.shouldNotShrink?(ne(d_modified,Nt),et++):ot.heightInLines>=Nt.heightInLines?(ot.heightInLines-=Nt.heightInLines,et++):(Nt.heightInLines-=ot.heightInLines,Pe++)}for(;Pe<Te.length;)ne(d_original,Te[Pe]),Pe++;for(;et<Qe.length;)ne(d_modified,Qe[et]),et++}return{original:fr._ensureDomNodes(d_original),modified:fr._ensureDomNodes(d_modified)}}static _ensureDomNodes(e){return e.map(t=>(t.domNode||(t.domNode=kg()),t))}}function Eo(o,e,t,i,n){return{range:new Ze.e(o,e,t,i),options:n}}const zn={charDelete:ys.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:ys.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:ys.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:ys.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:ys.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:ys.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+Ut.kS.asClassName($C),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:ys.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:ys.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+Ut.kS.asClassName(Lg),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:ys.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};let Ig=(()=>{class o extends xg{constructor(t,i){super(t),this._disableSash=!1===i,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new Qd.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(n=>this._onSashDrag(n)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(t){const i=!1===t;this._disableSash!==i&&(this._disableSash=i,this._sash.state=this._disableSash?0:3)}layout(t=this._sashRatio){const n=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?zo.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let s=Math.floor((t||.5)*n);const r=Math.floor(.5*n);return s=this._disableSash?r:s||r,n>2*o.MINIMUM_EDITOR_WIDTH?(s<o.MINIMUM_EDITOR_WIDTH&&(s=o.MINIMUM_EDITOR_WIDTH),s>n-o.MINIMUM_EDITOR_WIDTH&&(s=n-o.MINIMUM_EDITOR_WIDTH)):s=r,this._sashPosition!==s&&(this._sashPosition=s,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(t){const n=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?zo.ENTIRE_DIFF_OVERVIEW_WIDTH:0),s=this.layout((this._startSashPosition+(t.currentX-t.startX))/n);this._sashRatio=s/n,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(t){return 0}getVerticalSashLeft(t){return this._sashPosition}getVerticalSashHeight(t){return this._dataSource.getHeight()}_getViewZones(t,i,n){const s=this._dataSource.getOriginalEditor(),r=this._dataSource.getModifiedEditor();return new GC(t,i,n,s,r).getViewZones()}_getOriginalEditorDecorations(t,i,n){const s=this._dataSource.getOriginalEditor(),r=String(this._removeColor),a={decorations:[],overviewZones:[]},l=s.getModel(),d=s._getViewModel();for(const u of t)if(na(u)){a.decorations.push({range:new Ze.e(u.originalStartLineNumber,1,u.originalEndLineNumber,1073741824),options:n?zn.lineDeleteWithSign:zn.lineDelete}),(!ia(u)||!u.charChanges)&&a.decorations.push(Eo(u.originalStartLineNumber,1,u.originalEndLineNumber,1073741824,zn.charDeleteWholeLine));const m=qa(l,d,u.originalStartLineNumber,u.originalEndLineNumber);if(a.overviewZones.push(new Va(m.startLineNumber,m.endLineNumber,r)),u.charChanges)for(const C of u.charChanges)if(na(C))if(i)for(let S=C.originalStartLineNumber;S<=C.originalEndLineNumber;S++){let M,j;M=S===C.originalStartLineNumber?C.originalStartColumn:l.getLineFirstNonWhitespaceColumn(S),j=S===C.originalEndLineNumber?C.originalEndColumn:l.getLineLastNonWhitespaceColumn(S),a.decorations.push(Eo(S,M,S,j,zn.charDelete))}else a.decorations.push(Eo(C.originalStartLineNumber,C.originalStartColumn,C.originalEndLineNumber,C.originalEndColumn,zn.charDelete))}return a}_getModifiedEditorDecorations(t,i,n){const s=this._dataSource.getModifiedEditor(),r=String(this._insertColor),a={decorations:[],overviewZones:[]},l=s.getModel(),d=s._getViewModel();for(const u of t)if(ia(u)){a.decorations.push({range:new Ze.e(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824),options:n?zn.lineInsertWithSign:zn.lineInsert}),(!na(u)||!u.charChanges)&&a.decorations.push(Eo(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824,zn.charInsertWholeLine));const m=qa(l,d,u.modifiedStartLineNumber,u.modifiedEndLineNumber);if(a.overviewZones.push(new Va(m.startLineNumber,m.endLineNumber,r)),u.charChanges)for(const C of u.charChanges)if(ia(C))if(i)for(let S=C.modifiedStartLineNumber;S<=C.modifiedEndLineNumber;S++){let M,j;M=S===C.modifiedStartLineNumber?C.modifiedStartColumn:l.getLineFirstNonWhitespaceColumn(S),j=S===C.modifiedEndLineNumber?C.modifiedEndColumn:l.getLineLastNonWhitespaceColumn(S),a.decorations.push(Eo(S,M,S,j,zn.charInsert))}else a.decorations.push(Eo(C.modifiedStartLineNumber,C.modifiedStartColumn,C.modifiedEndLineNumber,C.modifiedEndColumn,zn.charInsert))}return a}}return o.MINIMUM_EDITOR_WIDTH=100,o})();class GC extends fr{constructor(e,t,i,n,s){super(e,t,i,n,s)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(e,t,i){return i>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i-t,domNode:null}:null}_produceModifiedFromDiff(e,t,i){return t>i?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-i,domNode:null}:null}}class Dg extends xg{constructor(e,t){super(e),this._decorationsLeft=e.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(e.getOriginalEditor().onDidLayoutChange(i=>{this._decorationsLeft!==i.decorationsLeft&&(this._decorationsLeft=i.decorationsLeft,e.relayoutEditors())}))}setEnableSplitViewResizing(e){}_getViewZones(e,t,i,n){const s=this._dataSource.getOriginalEditor(),r=this._dataSource.getModifiedEditor();return new ZC(e,t,i,s,r,n).getViewZones()}_getOriginalEditorDecorations(e,t,i){const n=String(this._removeColor),s={decorations:[],overviewZones:[]},r=this._dataSource.getOriginalEditor(),a=r.getModel(),l=r._getViewModel();for(const d of e)if(na(d)){s.decorations.push({range:new Ze.e(d.originalStartLineNumber,1,d.originalEndLineNumber,1073741824),options:zn.lineDeleteMargin});const u=qa(a,l,d.originalStartLineNumber,d.originalEndLineNumber);s.overviewZones.push(new Va(u.startLineNumber,u.endLineNumber,n))}return s}_getModifiedEditorDecorations(e,t,i){const n=this._dataSource.getModifiedEditor(),s=String(this._insertColor),r={decorations:[],overviewZones:[]},a=n.getModel(),l=n._getViewModel();for(const d of e)if(ia(d)){r.decorations.push({range:new Ze.e(d.modifiedStartLineNumber,1,d.modifiedEndLineNumber,1073741824),options:i?zn.lineInsertWithSign:zn.lineInsert});const u=qa(a,l,d.modifiedStartLineNumber,d.modifiedEndLineNumber);if(r.overviewZones.push(new Va(u.startLineNumber,u.endLineNumber,s)),d.charChanges){for(const m of d.charChanges)if(ia(m))if(t)for(let C=m.modifiedStartLineNumber;C<=m.modifiedEndLineNumber;C++){let S,M;S=C===m.modifiedStartLineNumber?m.modifiedStartColumn:a.getLineFirstNonWhitespaceColumn(C),M=C===m.modifiedEndLineNumber?m.modifiedEndColumn:a.getLineLastNonWhitespaceColumn(C),r.decorations.push(Eo(C,S,C,M,zn.charInsert))}else r.decorations.push(Eo(m.modifiedStartLineNumber,m.modifiedStartColumn,m.modifiedEndLineNumber,m.modifiedEndColumn,zn.charInsert))}else r.decorations.push(Eo(d.modifiedStartLineNumber,1,d.modifiedEndLineNumber,1073741824,zn.charInsertWholeLine))}return r}layout(){return Math.max(5,this._decorationsLeft)}}class ZC extends fr{constructor(e,t,i,n,s,r){super(e,t,i,n,s),this._originalModel=n.getModel(),this._renderIndicators=r,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const e=super.getViewZones();return this._finalize(e),e}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const e=document.createElement("div");return e.className="inline-added-margin-view-zone",e}_produceOriginalFromDiff(e,t,i){const n=document.createElement("div");return n.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i,domNode:document.createElement("div"),marginDomNode:n}}_produceModifiedFromDiff(e,t,i){const n=document.createElement("div");n.className=`view-lines line-delete ${or}`;const s=document.createElement("div");s.className="inline-deleted-margin-view-zone";const r={shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,minWidthInPx:0,domNode:n,marginDomNode:s,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let a=e.originalStartLineNumber;a<=e.originalEndLineNumber;a++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(a),null,null);return this._pendingLineChange.push(e),this._pendingViewZones.push(r),r}_finalize(e){const t=this._modifiedEditor.getOptions(),i=this._modifiedEditor.getModel().getOptions().tabSize,n=t.get(44),s=t.get(29),r=n.typicalHalfwidthCharacterWidth,a=t.get(93),l=this._originalModel.mightContainNonBasicASCII(),d=this._originalModel.mightContainRTL(),u=t.get(59),C=t.get(131).decorationsWidth,S=t.get(105),M=t.get(88),j=t.get(83),J=t.get(45),ne=this._lineBreaksComputer.finalize();let X=0;for(let le=0;le<this._pendingLineChange.length;le++){const Ce=this._pendingLineChange[le],ke=this._pendingViewZones[le],Ne=ke.domNode;Bi(Ne,n);const ve=ke.marginDomNode;Bi(ve,n);const pe=[];if(Ce.charChanges)for(const Vt of Ce.charChanges)na(Vt)&&pe.push(new La(new Ze.e(Vt.originalStartLineNumber,Vt.originalStartColumn,Vt.originalEndLineNumber,Vt.originalEndColumn),"char-delete",0));const Te=pe.length>0,Qe=(0,Sl.l$)(1e4);let Pe=0,et=0,ot=null;for(let Vt=Ce.originalStartLineNumber;Vt<=Ce.originalEndLineNumber;Vt++){const qt=Vt-Ce.originalStartLineNumber,Bt=this._originalModel.getLineTokens(Vt),Qt=Bt.getLineContent(),Gi=ne[X++],Ui=ws.filter(pe,Vt,1,Qt.length+1);if(Gi){let Us=0;for(const Rn of Gi.breakOffsets){const Io=Bt.sliceAndInflate(Us,Rn,0),ed=Qt.substring(Us,Rn);Pe=Math.max(Pe,this._renderOriginalLine(et++,ed,Io,ws.extractWrapped(Ui,Us,Rn),Te,l,d,n,s,u,C,S,M,j,J,i,Qe,ve)),Us=Rn}for(ot||(ot=[]);ot.length<qt;)ot[ot.length]=1;ot[qt]=Gi.breakOffsets.length,ke.heightInLines+=Gi.breakOffsets.length-1;const Is=document.createElement("div");Is.className="line-delete",e.original.push({afterLineNumber:Vt,afterColumn:0,heightInLines:Gi.breakOffsets.length-1,domNode:kg(),marginDomNode:Is})}else Pe=Math.max(Pe,this._renderOriginalLine(et++,Qt,Bt,Ui,Te,l,d,n,s,u,C,S,M,j,J,i,Qe,ve))}Pe+=a;const Nt=Qe.build(),kt=Eg?Eg.createHTML(Nt):Nt;if(Ne.innerHTML=kt,ke.minWidthInPx=Pe*r,ot){const Vt=Ce.originalEndLineNumber-Ce.originalStartLineNumber;for(;ot.length<=Vt;)ot[ot.length]=1}ke.diff.viewLineCounts=ot}e.original.sort((le,Ce)=>le.afterLineNumber-Ce.afterLineNumber)}_renderOriginalLine(e,t,i,n,s,r,a,l,d,u,m,C,S,M,j,J,ne,X){ne.appendASCIIString('<div class="view-line'),s||ne.appendASCIIString(" char-delete"),ne.appendASCIIString('" style="top:'),ne.appendASCIIString(String(e*u)),ne.appendASCIIString('px;width:1000000px;">');const le=Xn.isBasicASCII(t,r),Ce=Xn.containsRTL(t,le,a),ke=rd(new Or(l.isMonospace&&!d,l.canUseHalfwidthRightwardsArrow,t,!1,le,Ce,0,i,n,J,0,l.spaceWidth,l.middotWidth,l.wsmiddotWidth,C,S,M,j!==oe.OFF,null),ne);if(ne.appendASCIIString("</div>"),this._renderIndicators){const Ne=document.createElement("div");Ne.className=`delete-sign ${Ut.kS.asClassName(Lg)}`,Ne.setAttribute("style",`position:absolute;top:${e*u}px;width:${m}px;height:${u}px;right:0;`),X.appendChild(Ne)}return ke.characterMapping.getAbsoluteOffset(ke.characterMapping.length)}}function qC(o,e){return T(o,e,["off","on","inherit"])}function ia(o){return o.modifiedEndLineNumber>0}function na(o){return o.originalEndLineNumber>0}function kg(){const o=document.createElement("div");return o.className="diagonal-fill",o}function qa(o,e,t,i){const n=o.getLineCount();return t=Math.min(n,Math.max(1,t)),i=Math.min(n,Math.max(1,i)),e.coordinatesConverter.convertModelRangeToViewRange(new Ze.e(t,o.getLineMinColumn(t),i,o.getLineMaxColumn(i)))}function Tg(o,e){return{enableSplitViewResizing:N(o.enableSplitViewResizing,e.enableSplitViewResizing),renderSideBySide:N(o.renderSideBySide,e.renderSideBySide),maxComputationTime:I(o.maxComputationTime,e.maxComputationTime,0,1073741824),maxFileSize:I(o.maxFileSize,e.maxFileSize,0,1073741824),ignoreTrimWhitespace:N(o.ignoreTrimWhitespace,e.ignoreTrimWhitespace),renderIndicators:N(o.renderIndicators,e.renderIndicators),originalEditable:N(o.originalEditable,e.originalEditable),diffCodeLens:N(o.diffCodeLens,e.diffCodeLens),renderOverviewRuler:N(o.renderOverviewRuler,e.renderOverviewRuler),diffWordWrap:qC(o.diffWordWrap,e.diffWordWrap)}}(0,Ut.Ic)((o,e)=>{const t=o.getColor(it.ypS);t&&(e.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${t}; }`),e.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${t}; }`),e.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${t}; }`));const i=o.getColor(it.P4M);i&&(e.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${i}; }`),e.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${i}; }`),e.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${i}; }`));const n=o.getColor(it.XL$);n&&e.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${"hc"===o.type?"dashed":"solid"} ${n}; }`);const s=o.getColor(it.mHy);s&&e.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${"hc"===o.type?"dashed":"solid"} ${s}; }`);const r=o.getColor(it._wn);r&&e.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${r}; }`);const a=o.getColor(it.LLc);a&&e.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${a}; }`);const l=o.getColor(it.etL);l&&e.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport {\n\t\t\t\tbackground: ${l};\n\t\t\t}\n\t\t`);const d=o.getColor(it.ABB);d&&e.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:hover {\n\t\t\t\tbackground: ${d};\n\t\t\t}\n\t\t`);const u=o.getColor(it.ynu);u&&e.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:active {\n\t\t\t\tbackground: ${u};\n\t\t\t}\n\t\t`);const m=o.getColor(it.L_t);e.addRule(`\n\t.monaco-editor .diagonal-fill {\n\t\tbackground-image: linear-gradient(\n\t\t\t-45deg,\n\t\t\t${m} 12.5%,\n\t\t\t#0000 12.5%, #0000 50%,\n\t\t\t${m} 50%, ${m} 62.5%,\n\t\t\t#0000 62.5%, #0000 100%\n\t\t);\n\t\tbackground-size: 8px 8px;\n\t}\n\t`)});let oh=class extends ze.JT{constructor(e){super(),this._themeService=e,this._onCodeEditorAdd=this._register(new Be.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new Be.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new Be.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new Be.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map(e=>this._codeEditors[e])}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}removeDiffEditor(e){delete this._diffEditors[e.getId()]&&this._onDiffEditorRemove.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map(e=>this._diffEditors[e])}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const i of t){if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(e=i)}return e}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach(i=>i.removeDecorations(e))))}setModelProperty(e,t,i){const n=e.toString();let s;this._modelProperties.has(n)?s=this._modelProperties.get(n):(s=new Map,this._modelProperties.set(n,s)),s.set(t,i)}getModelProperty(e,t){const i=e.toString();if(this._modelProperties.has(i))return this._modelProperties.get(i).get(t)}};oh=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([function(o,e){return function(t,i){e(t,i,0)}}(0,Ut.XE)],oh);var di=L(18790),Mg=function(o,e){return function(t,i){e(t,i,o)}};let ic=class extends oh{constructor(e,t){super(t),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=e.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let e=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(e,t,i){return Promise.resolve(t?this.doOpenEditor(t,e):null)}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){const s=t.resource.scheme;if(s===Ki.lg.http||s===Ki.lg.https)return(0,ue.V3)(t.resource.toString()),e}return null}const n=t.options?t.options.selection:null;if(n)if("number"==typeof n.endLineNumber&&"number"==typeof n.endColumn)e.setSelection(n),e.revealRangeInCenter(n,1);else{const s={lineNumber:n.startLineNumber,column:n.startColumn};e.setPosition(s),e.revealPositionInCenter(s,1)}return e}findModel(e,t){const i=e.getModel();return i&&i.uri.toString()!==t.toString()?null:i}};ic=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([Mg(0,Rt.i6),Mg(1,Ut.XE)],ic),(0,di.z)(Ti.$,ic);const Ya=(0,Ft.yh)("layoutService");var Rg=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Og=function(o,e){return function(t,i){e(t,i,o)}};let nc=class{constructor(e){this._codeEditorService=e,this.onDidLayout=Be.ju.None}get dimension(){return this._dimension||(this._dimension=ue.D6(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var e;null===(e=this._codeEditorService.getFocusedCodeEditor())||void 0===e||e.focus()}};nc=Rg([Og(0,Ti.$)],nc);let rh=class extends nc{constructor(e,t){super(t),this._container=e}get hasContainer(){return!1}get container(){return this._container}};rh=Rg([Og(1,Ti.$)],rh),(0,di.z)(Ya,nc);var Xi=L(63570);const Ag=(0,Ft.yh)("dialogService");var Xs=L(18846),Pg=function(o,e){return function(t,i){e(t,i,o)}},sc=function(o,e,t,i){return new(t||(t=Promise))(function(s,r){function a(u){try{d(i.next(u))}catch(m){r(m)}}function l(u){try{d(i.throw(u))}catch(m){r(m)}}function d(u){u.done?s(u.value):function n(s){return s instanceof t?s:new t(function(r){r(s)})}(u.value).then(a,l)}d((i=i.apply(o,e||[])).next())})};function oc(o){return o.scheme===Ki.lg.file?o.fsPath:o.path}let Bg=0;class rc{constructor(e,t,i,n,s,r,a){this.id=++Bg,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=i,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=n,this.groupOrder=s,this.sourceId=r,this.sourceOrder=a,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Fg{constructor(e,t){this.resourceLabel=e,this.reason=t}}class Wg{constructor(){this.elements=new Map}createMessage(){const e=[],t=[];for(const[,n]of this.elements)(0===n.reason?e:t).push(n.resourceLabel);let i=[];return e.length>0&&i.push(_.N({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&i.push(_.N({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",t.join(", "))),i.join("\n")}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class tb{constructor(e,t,i,n,s,r,a){this.id=++Bg,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=i,this.groupId=n,this.groupOrder=s,this.sourceId=r,this.sourceOrder=a,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(e,t,i){this.removedResources||(this.removedResources=new Wg),this.removedResources.has(t)||this.removedResources.set(t,new Fg(e,i))}setValid(e,t,i){i?this.invalidatedResources&&(this.invalidatedResources.delete(t),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new Wg),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new Fg(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Vg{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){1===e.type?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const i of this._past)t(i.actual)&&this._setElementValidFlag(i,e);for(const i of this._future)t(i.actual)&&this._setElementValidFlag(i,e)}pushElement(e){for(const t of this._future)1===t.type&&t.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let i=0,n=this._past.length;i<n;i++)t.push(this._past[i].id);for(let i=this._future.length-1;i>=0;i--)t.push(this._future[i].id);return new Xs.YO(e,t)}restoreSnapshot(e){const t=e.elements.length;let i=!0,n=0,s=-1;for(let a=0,l=this._past.length;a<l;a++,n++){const d=this._past[a];i&&(n>=t||d.id!==e.elements[n])&&(i=!1,s=0),!i&&1===d.type&&d.removeResource(this.resourceLabel,this.strResource,0)}let r=-1;for(let a=this._future.length-1;a>=0;a--,n++){const l=this._future[a];i&&(n>=t||l.id!==e.elements[n])&&(i=!1,r=a),!i&&1===l.type&&l.removeResource(this.resourceLabel,this.strResource,0)}-1!==s&&(this._past=this._past.slice(0,s)),-1!==r&&(this._future=this._future.slice(r+1)),this.versionId++}getElements(){const e=[],t=[];for(const i of this._past)e.push(i.actual);for(const i of this._future)t.push(i.actual);return{past:e,future:t}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let i=this._past.length-1;i>=0;i--)if(this._past[i]===e){t.has(this.strResource)?this._past[i]=t.get(this.strResource):this._past.splice(i,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let i=this._future.length-1;i>=0;i--)if(this._future[i]===e){t.has(this.strResource)?this._future[i]=t.get(this.strResource):this._future.splice(i,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class ah{constructor(e){this.editStacks=e,this._versionIds=[];for(let t=0,i=this.editStacks.length;t<i;t++)this._versionIds[t]=this.editStacks[t].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const Hg=new Vg("","");Hg.locked=!0;let lh=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);let t=[];for(const i of this._editStacks)t.push(i[1].toString());console.log(t.join("\n"))}pushElement(e,t=Xs.Xt.None,i=Xs.gJ.None){if(0===e.type){const n=oc(e.resource),s=this.getUriComparisonKey(e.resource);this._pushElement(new rc(e,n,s,t.id,t.nextOrder(),i.id,i.nextOrder()))}else{const n=new Set,s=[],r=[];for(const a of e.resources){const l=oc(a),d=this.getUriComparisonKey(a);n.has(d)||(n.add(d),s.push(l),r.push(d))}this._pushElement(1===s.length?new rc(e,s[0],r[0],t.id,t.nextOrder(),i.id,i.nextOrder()):new tb(e,s,r,t.id,t.nextOrder(),i.id,i.nextOrder()))}}_pushElement(e){for(let t=0,i=e.strResources.length;t<i;t++){const n=e.resourceLabels[t],s=e.strResources[t];let r;this._editStacks.has(s)?r=this._editStacks.get(s):(r=new Vg(n,s),this._editStacks.set(s,r)),r.pushElement(e)}}getLastElement(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const i=this._editStacks.get(t);if(i.hasFutureElements())return null;const n=i.getClosestPastElement();return n?n.actual:null}return null}_splitPastWorkspaceElement(e,t){const i=e.actual.split(),n=new Map;for(const s of i){const r=oc(s.resource),a=this.getUriComparisonKey(s.resource),l=new rc(s,r,a,0,0,0,0);n.set(l.strResource,l)}for(const s of e.strResources)t&&t.has(s)||this._editStacks.get(s).splitPastWorkspaceElement(e,n)}_splitFutureWorkspaceElement(e,t){const i=e.actual.split(),n=new Map;for(const s of i){const r=oc(s.resource),a=this.getUriComparisonKey(s.resource),l=new rc(s,r,a,0,0,0,0);n.set(l.strResource,l)}for(const s of e.strResources)t&&t.has(s)||this._editStacks.get(s).splitFutureWorkspaceElement(e,n)}removeElements(e){const t="string"==typeof e?e:this.getUriComparisonKey(e);this._editStacks.has(t)&&(this._editStacks.get(t).dispose(),this._editStacks.delete(t))}setElementsValidFlag(e,t,i){const n=this.getUriComparisonKey(e);this._editStacks.has(n)&&this._editStacks.get(n).setElementsValidFlag(t,i)}createSnapshot(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).createSnapshot(e):new Xs.YO(e,[])}restoreSnapshot(e){const t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const i=this._editStacks.get(t);i.restoreSnapshot(e),!i.hasPastElements()&&!i.hasFutureElements()&&(i.dispose(),this._editStacks.delete(t))}}getElements(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[n,s]of this._editStacks){const r=s.getClosestPastElement();!r||r.sourceId===e&&(!t||r.sourceOrder>t.sourceOrder)&&(t=r,i=n)}return[t,i]}canUndo(e){if(e instanceof Xs.gJ){const[,i]=this._findClosestUndoElementWithSource(e.id);return!!i}const t=this.getUriComparisonKey(e);return!!this._editStacks.has(t)&&this._editStacks.get(t).hasPastElements()}_onError(e,t){(0,he.dL)(e);for(const i of t.strResources)this.removeElements(i);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,i,n,s){const r=this._acquireLocks(i);let a;try{a=t()}catch(l){return r(),n.dispose(),this._onError(l,e)}return a?a.then(()=>(r(),n.dispose(),s()),l=>(r(),n.dispose(),this._onError(l,e))):(r(),n.dispose(),s())}_invokeWorkspacePrepare(e){return sc(this,void 0,void 0,function*(){if(void 0===e.actual.prepareUndoRedo)return ze.JT.None;const t=e.actual.prepareUndoRedo();return void 0===t?ze.JT.None:t})}_invokeResourcePrepare(e,t){if(1!==e.actual.type||void 0===e.actual.prepareUndoRedo)return t(ze.JT.None);const i=e.actual.prepareUndoRedo();return i?(0,ze.Wf)(i)?t(i):i.then(n=>t(n)):t(ze.JT.None)}_getAffectedEditStacks(e){const t=[];for(const i of e.strResources)t.push(this._editStacks.get(i)||Hg);return new ah(t)}_tryToSplitAndUndo(e,t,i,n){if(t.canSplit())return this._splitPastWorkspaceElement(t,i),this._notificationService.warn(n),new ac(this._undo(e,0,!0));for(const s of t.strResources)this.removeElements(s);return this._notificationService.warn(n),new ac}_checkWorkspaceUndo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,_.N({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,_.N({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const s=[];for(const a of i.editStacks)a.getClosestPastElement()!==t&&s.push(a.resourceLabel);if(s.length>0)return this._tryToSplitAndUndo(e,t,null,_.N({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",t.label,s.join(", ")));const r=[];for(const a of i.editStacks)a.locked&&r.push(a.resourceLabel);return r.length>0?this._tryToSplitAndUndo(e,t,null,_.N({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,r.join(", "))):i.isValid()?null:this._tryToSplitAndUndo(e,t,null,_.N({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,i){const n=this._getAffectedEditStacks(t),s=this._checkWorkspaceUndo(e,t,n,!1);return s?s.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,n,i)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(const[,t]of this._editStacks){const i=t.getClosestPastElement();if(i){if(i===e){const n=t.getSecondClosestPastElement();if(n&&n.groupId===e.groupId)return!0}if(i.groupId===e.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(e,t,i,n){return sc(this,void 0,void 0,function*(){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){const a=yield this._dialogService.show(Xi.Z.Info,_.N("confirmWorkspace","Would you like to undo '{0}' across all files?",t.label),[_.N({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",i.editStacks.length),_.N("nok","Undo this File"),_.N("cancel","Cancel")],{cancelId:2});if(2===a.choice)return;if(1===a.choice)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);const l=this._checkWorkspaceUndo(e,t,i,!1);if(l)return l.returnValue;n=!0}let s;try{s=yield this._invokeWorkspacePrepare(t)}catch(a){return this._onError(a,t)}const r=this._checkWorkspaceUndo(e,t,i,!0);if(r)return s.dispose(),r.returnValue;for(const a of i.editStacks)a.moveBackward(t);return this._safeInvokeWithLocks(t,()=>t.actual.undo(),i,s,()=>this._continueUndoInGroup(t.groupId,n))})}_resourceUndo(e,t,i){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,n=>(e.moveBackward(t),this._safeInvokeWithLocks(t,()=>t.actual.undo(),new ah([e]),n,()=>this._continueUndoInGroup(t.groupId,i))));{const n=_.N({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(n)}}else e.flushAllElements()}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[n,s]of this._editStacks){const r=s.getClosestPastElement();!r||r.groupId===e&&(!t||r.groupOrder>t.groupOrder)&&(t=r,i=n)}return[t,i]}_continueUndoInGroup(e,t){if(!e)return;const[,i]=this._findClosestUndoElementInGroup(e);return i?this._undo(i,0,t):void 0}undo(e){if(e instanceof Xs.gJ){const[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return this._undo("string"==typeof e?e:this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,i){if(!this._editStacks.has(e))return;const n=this._editStacks.get(e),s=n.getClosestPastElement();if(s){if(s.groupId){const[a,l]=this._findClosestUndoElementInGroup(s.groupId);if(s!==a&&l)return this._undo(l,t,i)}if((s.sourceId!==t||s.confirmBeforeUndo)&&!i)return this._confirmAndContinueUndo(e,t,s);try{return 1===s.type?this._workspaceUndo(e,s,i):this._resourceUndo(n,s,i)}finally{}}}_confirmAndContinueUndo(e,t,i){return sc(this,void 0,void 0,function*(){if(1!==(yield this._dialogService.show(Xi.Z.Info,_.N("confirmDifferentSource","Would you like to undo '{0}'?",i.label),[_.N("confirmDifferentSource.yes","Yes"),_.N("confirmDifferentSource.no","No")],{cancelId:1})).choice)return this._undo(e,t,!0)})}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[n,s]of this._editStacks){const r=s.getClosestFutureElement();!r||r.sourceId===e&&(!t||r.sourceOrder<t.sourceOrder)&&(t=r,i=n)}return[t,i]}canRedo(e){if(e instanceof Xs.gJ){const[,i]=this._findClosestRedoElementWithSource(e.id);return!!i}const t=this.getUriComparisonKey(e);return!!this._editStacks.has(t)&&this._editStacks.get(t).hasFutureElements()}_tryToSplitAndRedo(e,t,i,n){if(t.canSplit())return this._splitFutureWorkspaceElement(t,i),this._notificationService.warn(n),new ac(this._redo(e));for(const s of t.strResources)this.removeElements(s);return this._notificationService.warn(n),new ac}_checkWorkspaceRedo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,_.N({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,_.N({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const s=[];for(const a of i.editStacks)a.getClosestFutureElement()!==t&&s.push(a.resourceLabel);if(s.length>0)return this._tryToSplitAndRedo(e,t,null,_.N({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",t.label,s.join(", ")));const r=[];for(const a of i.editStacks)a.locked&&r.push(a.resourceLabel);return r.length>0?this._tryToSplitAndRedo(e,t,null,_.N({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,r.join(", "))):i.isValid()?null:this._tryToSplitAndRedo(e,t,null,_.N({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){const i=this._getAffectedEditStacks(t),n=this._checkWorkspaceRedo(e,t,i,!1);return n?n.returnValue:this._executeWorkspaceRedo(e,t,i)}_executeWorkspaceRedo(e,t,i){return sc(this,void 0,void 0,function*(){let n;try{n=yield this._invokeWorkspacePrepare(t)}catch(r){return this._onError(r,t)}const s=this._checkWorkspaceRedo(e,t,i,!0);if(s)return n.dispose(),s.returnValue;for(const r of i.editStacks)r.moveForward(t);return this._safeInvokeWithLocks(t,()=>t.actual.redo(),i,n,()=>this._continueRedoInGroup(t.groupId))})}_resourceRedo(e,t){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,i=>(e.moveForward(t),this._safeInvokeWithLocks(t,()=>t.actual.redo(),new ah([e]),i,()=>this._continueRedoInGroup(t.groupId))));{const i=_.N({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(i)}}else e.flushAllElements()}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[n,s]of this._editStacks){const r=s.getClosestFutureElement();!r||r.groupId===e&&(!t||r.groupOrder<t.groupOrder)&&(t=r,i=n)}return[t,i]}_continueRedoInGroup(e){if(!e)return;const[,t]=this._findClosestRedoElementInGroup(e);return t?this._redo(t):void 0}redo(e){if(e instanceof Xs.gJ){const[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return this._redo("string"==typeof e?e:this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;const t=this._editStacks.get(e),i=t.getClosestFutureElement();if(i){if(i.groupId){const[n,s]=this._findClosestRedoElementInGroup(i.groupId);if(i!==n&&s)return this._redo(s)}try{return 1===i.type?this._workspaceRedo(e,i):this._resourceRedo(t,i)}finally{}}}};lh=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([Pg(0,Ag),Pg(1,Bs.lT)],lh);class ac{constructor(e){this.returnValue=e}}(0,di.z)(Xs.tJ,lh);var Jn=L(7838);function es(o,e,t){return Math.min(Math.max(o,e),t)}class zg{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class ib{constructor(e){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(e),this._values.fill(0,0,e)}update(e){const t=this._values[this._index];return this._values[this._index]=e,this._index=(this._index+1)%this._values.length,this._sum-=t,this._sum+=e,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}const lc=(0,Ft.yh)("ILanguageFeatureDebounceService");var cc;!function(o){const e=new WeakMap;let t=0;o.of=function i(n){let s=e.get(n);return void 0===s&&(s=++t,e.set(n,s)),s}}(cc||(cc={}));class ob{constructor(e,t,i,n,s,r){this._logService=e,this._name=t,this._registry=i,this._default=n,this._min=s,this._max=r,this._cache=new Jn.z6(50,.7)}_key(e){return e.id+this._registry.all(e).reduce((t,i)=>Xo(cc.of(i),t),0)}get(e){const t=this._key(e),i=this._cache.get(t);return i?es(i.value,this._min,this._max):this.default()}update(e,t){const i=this._key(e);let n=this._cache.get(i);n||(n=new ib(6),this._cache.set(i,n));const s=es(n.update(t),this._min,this._max);return this._logService.trace(`[DEBOUNCE: ${this._name}] for ${e.uri.toString()} is ${s}ms`),s}_overall(){const e=new zg;for(const[,t]of this._cache)e.update(t.value);return e.value}default(){return es(0|this._overall()||this._default,this._min,this._max)}}let ch=class{constructor(e){this._logService=e,this._data=new Map}for(e,t,i){var n,s,r;const a=null!==(n=null==i?void 0:i.min)&&void 0!==n?n:50,l=null!==(s=null==i?void 0:i.max)&&void 0!==s?s:Math.pow(a,2),d=null!==(r=null==i?void 0:i.key)&&void 0!==r?r:void 0,u=`${cc.of(e)},${a}${d?","+d:""}`;let m=this._data.get(u);return m||(m=new ob(this._logService,t,e,0|this._overallAverage()||1.5*a,a,l),this._data.set(u,m)),m}_overallAverage(){let e=new zg;for(let t of this._data.values())e.update(t.default());return e.value}};ch=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([function(o,e){return function(t,i){e(t,i,0)}}(0,dn.VZ)],ch),(0,di.z)(lc,ch,!0);var hn=L(74616),gr=L(5016);const rb=(0,Ft.yh)("IWorkspaceEditService");class Ug{constructor(e){this.metadata=e}static convert(e){return e.edits.map(t=>{if(function lb(o){return(0,be.Kn)(o)&&ri.o.isUri(o.resource)&&(0,be.Kn)(o.edit)}(t))return new jg(t.resource,t.edit,t.modelVersionId,t.metadata);if(function ab(o){return(0,be.Kn)(o)&&(Boolean(o.newUri)||Boolean(o.oldUri))}(t))return new cb(t.oldUri,t.newUri,t.options,t.metadata);throw new Error("Unsupported edit")})}}class jg extends Ug{constructor(e,t,i,n){super(n),this.resource=e,this.textEdit=t,this.versionId=i}}class cb extends Ug{constructor(e,t,i,n){super(n),this.oldResource=e,this.newResource=t,this.options=i}}const db=Object.freeze({id:"editor",order:5,type:"object",title:_.N("editorConfigurationTitle","Editor"),scope:5}),dc=Object.assign(Object.assign({},db),{properties:{"editor.tabSize":{type:"number",default:Z.D.tabSize,minimum:1,markdownDescription:_.N("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:Z.D.insertSpaces,markdownDescription:_.N("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:Z.D.detectIndentation,markdownDescription:_.N("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:Z.D.trimAutoWhitespace,description:_.N("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:Z.D.largeFileOptimizations,description:_.N("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:_.N("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[_.N("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),_.N("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),_.N("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:_.N("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[_.N("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),_.N("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),_.N("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:_.N("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:_.N("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:_.N("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:"array",default:!1,description:_.N("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:_.N("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:_.N("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:_.N("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:_.N("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:_.N("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:_.N("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:_.N("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:_.N("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:_.N("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:_.N("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:_.N("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[_.N("wordWrap.off","Lines will never wrap."),_.N("wordWrap.on","Lines will wrap at the viewport width."),_.N("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function hb(o){return void 0!==o.type||void 0!==o.anyOf}for(const o of Ii){const e=o.schema;if(void 0!==e)if(hb(e))dc.properties[`editor.${o.name}`]=e;else for(const t in e)Object.hasOwnProperty.call(e,t)&&(dc.properties[t]=e[t])}let hc=null;function Kg(){return null===hc&&(hc=Object.create(null),Object.keys(dc.properties).forEach(o=>{hc[o]=!0})),hc}Ls.B.as(Xr_Configuration).registerConfiguration(dc);class gb{static insert(e,t){return{range:new Ze.e(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}var uc=L(87424),zi=L(9869);class ds{constructor(e={},t=[],i=[]){this._contents=e,this._keys=t,this._overrides=i,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(e){return e?(0,zi.Mt)(this.contents,e):this.contents}getOverrideValue(e,t){const i=this.getContentsForOverrideIdentifer(t);return i?e?(0,zi.Mt)(i,e):i:void 0}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(...e){const t=v.I8(this.contents),i=v.I8(this.overrides),n=[...this.keys];for(const s of e){this.mergeContents(t,s.contents);for(const r of s.overrides){const[a]=i.filter(l=>y.fS(l.identifiers,r.identifiers));a?(this.mergeContents(a.contents,r.contents),a.keys.push(...r.keys),a.keys=y.EB(a.keys)):i.push(v.I8(r))}for(const r of s.keys)-1===n.indexOf(r)&&n.push(r)}return new ds(t,n,i)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||"object"!=typeof t||!Object.keys(t).length)return this;let i={};for(const n of y.EB([...Object.keys(this.contents),...Object.keys(t)])){let s=this.contents[n],r=t[n];r&&("object"==typeof s&&"object"==typeof r?(s=v.I8(s),this.mergeContents(s,r)):s=r),i[n]=s}return new ds(i,this.keys,this.overrides)}mergeContents(e,t){for(const i of Object.keys(t))i in e&&be.Kn(e[i])&&be.Kn(t[i])?this.mergeContents(e[i],t[i]):e[i]=v.I8(t[i])}checkAndFreeze(e){return this.isFrozen&&!Object.isFrozen(e)?v._A(e):e}getContentsForOverrideIdentifer(e){let t=null,i=null;const n=s=>{s&&(i?this.mergeContents(i,s):i=v.I8(s))};for(const s of this.overrides)y.fS(s.identifiers,[e])?t=s.contents:s.identifiers.includes(e)&&n(s.contents);return n(t),i}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.addKey(e),(0,zi.KV)(this.contents,e,t,i=>{throw new Error(i)})}removeValue(e){this.removeKey(e)&&(0,zi.xL)(this.contents,e)}addKey(e){let t=this.keys.length;for(let i=0;i<t;i++)0===e.indexOf(this.keys[i])&&(t=i);this.keys.splice(t,1,e)}removeKey(e){let t=this.keys.indexOf(e);return-1!==t&&(this.keys.splice(t,1),!0)}}class mb extends ds{constructor(e={}){const t=Ls.B.as(Xr_Configuration).getConfigurationProperties(),i=Object.keys(t),n=Object.create(null),s=[];for(const r in t){const a=e[r];(0,zi.KV)(n,r,void 0!==a?a:t[r].default,d=>console.error(`Conflict in default settings: ${d}`))}for(const r of Object.keys(n))Ua.test(r)&&s.push({identifiers:cg(r),keys:Object.keys(n[r]),contents:(0,zi.Od)(n[r],a=>console.error(`Conflict in default settings file: ${a}`))});super(n,i,s)}}class fc{constructor(e,t,i=new ds,n=new ds,s=new Jn.Y9,r=new ds,a=new Jn.Y9,l=!0){this._defaultConfiguration=e,this._localUserConfiguration=t,this._remoteUserConfiguration=i,this._workspaceConfiguration=n,this._folderConfigurations=s,this._memoryConfiguration=r,this._memoryConfigurationByResource=a,this._freeze=l,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Jn.Y9,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidateConfigurationModel(t,i).getValue(e)}updateValue(e,t,i={}){let n;i.resource?(n=this._memoryConfigurationByResource.get(i.resource),n||(n=new ds,this._memoryConfigurationByResource.set(i.resource,n))):n=this._memoryConfiguration,void 0===t?n.removeValue(e):n.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(e,t,i){const n=this.getConsolidateConfigurationModel(t,i),s=this.getFolderConfigurationModelForResource(t.resource,i),r=t.resource&&this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration,a=t.overrideIdentifier?this._defaultConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._defaultConfiguration.freeze().getValue(e),l=t.overrideIdentifier?this.userConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.userConfiguration.freeze().getValue(e),d=t.overrideIdentifier?this.localUserConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.localUserConfiguration.freeze().getValue(e),u=t.overrideIdentifier?this.remoteUserConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.remoteUserConfiguration.freeze().getValue(e),m=i?t.overrideIdentifier?this._workspaceConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._workspaceConfiguration.freeze().getValue(e):void 0,C=s?t.overrideIdentifier?s.freeze().override(t.overrideIdentifier).getValue(e):s.freeze().getValue(e):void 0,S=t.overrideIdentifier?r.override(t.overrideIdentifier).getValue(e):r.getValue(e),M=n.getValue(e),j=y.EB(y.xH(n.overrides.map(J=>J.identifiers))).filter(J=>void 0!==n.getOverrideValue(e,J));return{defaultValue:a,userValue:l,userLocalValue:d,userRemoteValue:u,workspaceValue:m,workspaceFolderValue:C,memoryValue:S,value:M,default:void 0!==a?{value:this._defaultConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,user:void 0!==l?{value:this.userConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,userLocal:void 0!==d?{value:this.localUserConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,userRemote:void 0!==u?{value:this.remoteUserConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,workspace:void 0!==m?{value:this._workspaceConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,workspaceFolder:void 0!==C?{value:null==s?void 0:s.freeze().getValue(e),override:t.overrideIdentifier?null==s?void 0:s.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,memory:void 0!==S?{value:r.getValue(e),override:t.overrideIdentifier?r.getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,overrideIdentifiers:j.length?j:void 0}}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidateConfigurationModel(e,t){let i=this.getConsolidatedConfigurationModelForResource(e,t);return e.overrideIdentifier?i.override(e.overrideIdentifier):i}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const n=t.getFolder(e);n&&(i=this.getFolderConsolidatedConfiguration(n.uri)||i);const s=this._memoryConfigurationByResource.get(e);s&&(i=i.merge(s))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const i=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(e);n?(t=i.merge(n),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}getFolderConfigurationModelForResource(e,t){if(t&&e){const i=t.getFolder(e);if(i)return this._folderConfigurations.get(i.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((e,t)=>{const{contents:i,overrides:n,keys:s}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:n,keys:s}]),e},[])}}static parse(e){const t=this.parseConfigurationModel(e.defaults),i=this.parseConfigurationModel(e.user),n=this.parseConfigurationModel(e.workspace),s=e.folders.reduce((r,a)=>(r.set(ri.o.revive(a[0]),this.parseConfigurationModel(a[1])),r),new Jn.Y9);return new fc(t,i,new ds,n,s,new ds,new Jn.Y9,!1)}static parseConfigurationModel(e){return new ds(e.contents,e.keys,e.overrides).freeze()}}class pb{constructor(e,t,i,n){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=n,this._previousConfiguration=void 0;const s=new Set;e.keys.forEach(a=>s.add(a)),e.overrides.forEach(([,a])=>a.forEach(l=>s.add(l))),this.affectedKeys=[...s.values()];const r=new ds;this.affectedKeys.forEach(a=>r.setValue(a,{})),this.affectedKeysTree=r.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=fc.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var i;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,e)){if(t){const n=this.previousConfiguration?this.previousConfiguration.getValue(e,t,null===(i=this.previous)||void 0===i?void 0:i.workspace):void 0,s=this.currentConfiguraiton.getValue(e,t,this.currentWorkspace);return!v.fS(n,s)}return!0}return!1}doesAffectedKeysTreeContains(e,t){let n,i=(0,zi.Od)({[t]:!0},()=>{});for(;"object"==typeof i&&(n=Object.keys(i)[0]);){if(!(e=e[n]))return!1;i=i[n]}return!0}}const _b=/^(cursor|delete)/;class Cb extends ze.JT{constructor(e,t,i,n,s){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=n,this._logService=s,this._onDidUpdateKeybindings=this._register(new Be.Q5),this._currentChord=null,this._currentChordChecker=new se.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=oa.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new se._F,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:Be.ju.None}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){const i=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(i)return i.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){const i=this.resolveKeyboardEvent(e);if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[n]=i.getDispatchParts();if(null===n)return null;const s=this._contextKeyService.getContext(t),r=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(s,r,n)}_enterChordMode(e,t){this._currentChord={keypress:e,label:t},this._currentChordStatusMessage=this._notificationService.status(_.N("first.chord","({0}) was pressed. Waiting for second key of chord...",t));const i=Date.now();this._currentChordChecker.cancelAndSet(()=>{this._documentHasFocus()?Date.now()-i>5e3&&this._leaveChordMode():this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const i=this.resolveKeyboardEvent(e),[n]=i.getSingleModifierDispatchParts();if(n)return this._ignoreSingleModifiers.has(n)?(this._log(`+ Ignoring single modifier ${n} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=oa.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=oa.EMPTY,null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${n}.`),this._currentSingleModifier=n,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):n===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${n} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[s]=i.getParts();return this._ignoreSingleModifiers=new oa(s),null!==this._currentSingleModifier&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,t,i=!1){let n=!1;if(e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let s=null,r=null;if(i){const[u]=e.getSingleModifierDispatchParts();s=u,r=u}else[s]=e.getDispatchParts(),r=this._currentChord?this._currentChord.keypress:null;if(null===s)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),n;const a=this._contextKeyService.getContext(t),l=e.getLabel(),d=this._getResolver().resolve(a,r,s);return this._logService.trace("KeybindingService#dispatch",l,null==d?void 0:d.commandId),d&&d.enterChord?(n=!0,this._enterChordMode(s,l),n):(this._currentChord&&(!d||!d.commandId)&&(this._notificationService.status(_.N("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,l),{hideAfter:1e4}),n=!0),this._leaveChordMode(),d&&d.commandId&&(d.bubble||(n=!0),void 0===d.commandArgs?this._commandService.executeCommand(d.commandId).then(void 0,u=>this._notificationService.warn(u)):this._commandService.executeCommand(d.commandId,d.commandArgs).then(void 0,u=>this._notificationService.warn(u)),_b.test(d.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:d.commandId,from:"keybinding"})),n)}mightProducePrintableCharacter(e){return!e.ctrlKey&&!e.metaKey&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30)}}class oa{constructor(e){this._ctrlKey=!!e&&e.ctrlKey,this._shiftKey=!!e&&e.shiftKey,this._altKey=!!e&&e.altKey,this._metaKey=!!e&&e.metaKey}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}oa.EMPTY=new oa(null);var hs=L(77090);class Qa{constructor(e,t,i){this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(const n of e){const s=n.command;s&&"-"!==s.charAt(0)&&this._defaultBoundCommands.set(s,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=Qa.handleRemovals([].concat(e).concat(t));for(let n=0,s=this._keybindings.length;n<s;n++){let r=this._keybindings[n];0!==r.keypressParts.length&&(r.when&&0===r.when.type||this._addKeyPress(r.keypressParts[0],r))}}static _isTargetedForRemoval(e,t,i,n){return!(t&&e.keypressParts[0]!==t||i&&e.keypressParts[1]!==i||n&&(!e.when||!(0,Rt.Fb)(n,e.when)))}static handleRemovals(e){const t=new Map;for(let n=0,s=e.length;n<s;n++){const r=e[n];if(r.command&&"-"===r.command.charAt(0)){const a=r.command.substring(1);t.has(a)?t.get(a).push(r):t.set(a,[r])}}if(0===t.size)return e;const i=[];for(let n=0,s=e.length;n<s;n++){const r=e[n];if(!r.command||0===r.command.length){i.push(r);continue}if("-"===r.command.charAt(0))continue;const a=t.get(r.command);if(!a||!r.isDefault){i.push(r);continue}let l=!1;for(const d of a)if(this._isTargetedForRemoval(r,d.keypressParts[0],d.keypressParts[1],d.when)){l=!0;break}l||i.push(r)}return i}_addKeyPress(e,t){const i=this._map.get(e);if(void 0===i)return this._map.set(e,[t]),void this._addToLookupMap(t);for(let n=i.length-1;n>=0;n--){let s=i[n];if(s.command===t.command)continue;const a=t.keypressParts.length>1;s.keypressParts.length>1&&a&&s.keypressParts[1]!==t.keypressParts[1]||Qa.whenIsEntirelyIncluded(s.when,t.when)&&this._removeFromLookupMap(s)}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);void 0===t?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);if(void 0!==t)for(let i=0,n=t.length;i<n;i++)if(t[i]===e)return void t.splice(i,1)}static whenIsEntirelyIncluded(e,t){return!t||1===t.type||!(!e||1===e.type)&&(0,Rt.K8)(e,t)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){const i=this._lookupMap.get(e);if(void 0===i||0===i.length)return null;if(1===i.length)return i[0];for(let n=i.length-1;n>=0;n--){const s=i[n];if(t.contextMatchesRules(s.when))return s}return i[i.length-1]}resolve(e,t,i){this._log(`| Resolving ${i}${t?` chorded from ${t}`:""}`);let n=null;if(null!==t){const r=this._map.get(t);if(void 0===r)return this._log("\\ No keybinding entries."),null;n=[];for(let a=0,l=r.length;a<l;a++){let d=r[a];d.keypressParts[1]===i&&n.push(d)}}else{const r=this._map.get(i);if(void 0===r)return this._log("\\ No keybinding entries."),null;n=r}let s=this._findCommand(e,n);return s?null===t&&s.keypressParts.length>1&&null!==s.keypressParts[1]?(this._log(`\\ From ${n.length} keybinding entries, matched chord, when: ${$g(s.when)}, source: ${Gg(s)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${n.length} keybinding entries, matched ${s.command}, when: ${$g(s.when)}, source: ${Gg(s)}.`),{enterChord:!1,leaveChord:s.keypressParts.length>1,commandId:s.command,commandArgs:s.commandArgs,bubble:s.bubble}):(this._log(`\\ From ${n.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){let n=t[i];if(Qa._contextMatchesRules(e,n.when))return n}return null}static _contextMatchesRules(e,t){return!t||t.evaluate(e)}}function $g(o){return o?`${o.serialize()}`:"no when condition"}function Gg(o){return o.extensionId?o.isBuiltinExtension?`built-in extension ${o.extensionId}`:`user extension ${o.extensionId}`:o.isDefault?"built-in":"user"}class Zg{constructor(e,t,i,n,s,r,a){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.keypressParts=e?dh(e.getDispatchParts()):[],e&&0===this.keypressParts.length&&(this.keypressParts=dh(e.getSingleModifierDispatchParts())),this.bubble=!!t&&94===t.charCodeAt(0),this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=n,this.isDefault=s,this.extensionId=r,this.isBuiltinExtension=a}}function dh(o){let e=[];for(let t=0,i=o.length;t<i;t++){const n=o[t];if(!n)return e;e.push(n)}return e}class gc{constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(0===t.length)return null;const n=[];for(let s=0,r=t.length;s<r;s++){const a=t[s],l=i(a);if(null===l)return null;n[s]=wb(a,l,this.modifierLabels[e])}return n.join(" ")}}const qg=new gc({ctrlKey:"\u2303",shiftKey:"\u21e7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:_.N({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:_.N({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:_.N({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:_.N({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:_.N({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:_.N({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:_.N({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:_.N({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),bb=new gc({ctrlKey:_.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:_.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:_.N({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:_.N({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:_.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:_.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:_.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:_.N({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:_.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:_.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:_.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:_.N({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),vb=new gc({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});function wb(o,e,t){if(null===e)return"";const i=[];return o.ctrlKey&&i.push(t.ctrlKey),o.shiftKey&&i.push(t.shiftKey),o.altKey&&i.push(t.altKey),o.metaKey&&i.push(t.metaKey),""!==e&&i.push(e),i.join(t.separator)}new gc({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});class Sb extends gr.f1{constructor(e,t){if(super(),0===t.length)throw(0,he.b1)("parts");this._os=e,this._parts=t}getLabel(){return qg.toLabel(this._os,this._parts,e=>this._getLabel(e))}getAriaLabel(){return bb.toLabel(this._os,this._parts,e=>this._getAriaLabel(e))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:vb.toLabel(this._os,this._parts,e=>this._getElectronAccelerator(e))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(e=>this._getPart(e))}_getPart(e){return new gr.BQ(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchParts(){return this._parts.map(e=>this._getDispatchPart(e))}getSingleModifierDispatchParts(){return this._parts.map(e=>this._getSingleModifierDispatchPart(e))}}class Xa extends Sb{constructor(e,t){super(t,e.parts)}_keyCodeToUILabel(e){if(2===this._os)switch(e){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return Mi.kL.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":Mi.kL.toString(e.keyCode)}_getElectronAccelerator(e){return Mi.kL.toElectronAccelerator(e.keyCode)}_getDispatchPart(e){return Xa.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=Mi.kL.toString(e.keyCode),t}_getSingleModifierDispatchPart(e){return 5!==e.keyCode||e.shiftKey||e.altKey||e.metaKey?4!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey?6!==e.keyCode||e.ctrlKey||e.shiftKey||e.metaKey?57!==e.keyCode||e.ctrlKey||e.shiftKey||e.altKey?null:"meta":"alt":"shift":"ctrl"}static _scanCodeToKeyCode(e){const t=Mi.Vd[e];if(-1!==t)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(e){if(!e)return null;if(e instanceof gr.QC)return e;const t=this._scanCodeToKeyCode(e.scanCode);return 0===t?null:new gr.QC(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveUserBinding(e,t){const i=dh(e.map(n=>this._resolveSimpleUserBinding(n)));return i.length>0?[new Xa(new gr.X_(i),t)]:[]}}const yb=(0,Ft.yh)("labelService");var mc=L(19881);const Lb=(0,Ft.yh)("contextService");class Eb{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}var Yg,Qg,Xg,Jg,em,tm,pc,im,hh;!function(o){o.noSelection=_.N("noSelection","No selection"),o.singleSelectionRange=_.N("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),o.singleSelection=_.N("singleSelection","Line {0}, Column {1}"),o.multiSelectionRange=_.N("multiSelectionRange","{0} selections ({1} characters selected)"),o.multiSelection=_.N("multiSelection","{0} selections"),o.emergencyConfOn=_.N("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),o.openingDocs=_.N("openingDocs","Now opening the Editor Accessibility documentation page."),o.readonlyDiffEditor=_.N("readonlyDiffEditor"," in a read-only pane of a diff editor."),o.editableDiffEditor=_.N("editableDiffEditor"," in a pane of a diff editor."),o.readonlyEditor=_.N("readonlyEditor"," in a read-only code editor"),o.editableEditor=_.N("editableEditor"," in a code editor"),o.changeConfigToOnMac=_.N("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),o.changeConfigToOnWinLinux=_.N("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),o.auto_on=_.N("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),o.auto_off=_.N("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),o.tabFocusModeOnMsg=_.N("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),o.tabFocusModeOnMsgNoKb=_.N("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),o.tabFocusModeOffMsg=_.N("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),o.tabFocusModeOffMsgNoKb=_.N("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),o.openDocMac=_.N("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),o.openDocWinLinux=_.N("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),o.outroMsg=_.N("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),o.showAccessibilityHelpAction=_.N("showAccessibilityHelpAction","Show Accessibility Help")}(Yg||(Yg={})),function(o){o.inspectTokensAction=_.N("inspectTokens","Developer: Inspect Tokens")}(Qg||(Qg={})),function(o){o.gotoLineActionLabel=_.N("gotoLineActionLabel","Go to Line/Column...")}(Xg||(Xg={})),function(o){o.helpQuickAccessActionLabel=_.N("helpQuickAccess","Show all Quick Access Providers")}(Jg||(Jg={})),function(o){o.quickCommandActionLabel=_.N("quickCommandActionLabel","Command Palette"),o.quickCommandHelp=_.N("quickCommandActionHelp","Show And Run Commands")}(em||(em={})),function(o){o.quickOutlineActionLabel=_.N("quickOutlineActionLabel","Go to Symbol..."),o.quickOutlineByCategoryActionLabel=_.N("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")}(tm||(tm={})),function(o){o.editorViewAccessibleLabel=_.N("editorViewAccessibleLabel","Editor content"),o.accessibilityHelpMessage=_.N("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")}(pc||(pc={})),function(o){o.toggleHighContrast=_.N("toggleHighContrast","Toggle High Contrast Theme")}(im||(im={})),function(o){o.bulkEditServiceSummary=_.N("bulkEditServiceSummary","Made {0} edits in {1} files")}(hh||(hh={}));const xb=(0,Ft.yh)("workspaceTrustManagementService");var pn;!function(o){function e(s,r){if(s.start>=r.end||r.start>=s.end)return{start:0,end:0};const a=Math.max(s.start,r.start),l=Math.min(s.end,r.end);return l-a<=0?{start:0,end:0}:{start:a,end:l}}function t(s){return s.end-s.start<=0}o.intersect=e,o.isEmpty=t,o.intersects=function i(s,r){return!t(e(s,r))},o.relativeComplement=function n(s,r){const a=[],l={start:s.start,end:Math.min(r.start,s.end)},d={start:Math.max(r.end,s.start),end:s.end};return t(l)||a.push(l),t(d)||a.push(d),a}}(pn||(pn={})),L(30378);var xo=(()=>(function(o){o[o.AVOID=0]="AVOID",o[o.ALIGN=1]="ALIGN"}(xo||(xo={})),xo))();function ra(o,e,t){const i=t.mode===xo.ALIGN?t.offset:t.offset+t.size,n=t.mode===xo.ALIGN?t.offset+t.size:t.offset;return 0===t.position?e<=o-i?i:e<=n?n-e:Math.max(o-e,0):e<=n?n-e:e<=o-i?i:0}let Nb=(()=>{class o extends ze.JT{constructor(t,i){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=ze.JT.None,this.toDisposeOnSetContainer=ze.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=ue.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,ue.Cp(this.view),this.setContainer(t,i),this._register((0,ze.OF)(()=>this.setContainer(null,1)))}setContainer(t,i){var n;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,null===(n=this.shadowRootHostElement)||void 0===n||n.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),t){if(this.container=t,this.useFixedPosition=1!==i,this.useShadowDOM=3===i,this.useShadowDOM){this.shadowRootHostElement=ue.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const r=document.createElement("style");r.textContent=Ib,this.shadowRoot.appendChild(r),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(ue.$("slot"))}else this.container.appendChild(this.view);const s=new ze.SL;o.BUBBLE_UP_EVENTS.forEach(r=>{s.add(ue.mu(this.container,r,a=>{this.onDOMEvent(a,!1)}))}),o.BUBBLE_DOWN_EVENTS.forEach(r=>{s.add(ue.mu(this.container,r,a=>{this.onDOMEvent(a,!0)},!0))}),this.toDisposeOnSetContainer=s}}show(t){this.isVisible()&&this.hide(),ue.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",ue.$Z(this.view),this.toDisposeOnClean=t.render(this.view)||ze.JT.None,this.delegate=t,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(this.isVisible()){if(!(!1!==this.delegate.canRelayout||h.gn&&Df.D.pointerEvents))return void this.hide();this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let i,t=this.delegate.getAnchor();if(ue.Re(t)){let C=ue.i(t);i={top:C.top,left:C.left,width:C.width,height:C.height}}else i={top:t.y,left:t.x,width:t.width||1,height:t.height||2};const n=ue.w(this.view),s=ue.wn(this.view),r=this.delegate.anchorPosition||0,a=this.delegate.anchorAlignment||0;let d,u;if(0===(this.delegate.anchorAxisAlignment||0)){const C={offset:i.top-window.pageYOffset,size:i.height,position:0===r?0:1},S={offset:i.left,size:i.width,position:0===a?0:1,mode:xo.ALIGN};d=ra(window.innerHeight,s,C)+window.pageYOffset,pn.intersects({start:d,end:d+s},{start:C.offset,end:C.offset+C.size})&&(S.mode=xo.AVOID),u=ra(window.innerWidth,n,S)}else{const C={offset:i.left,size:i.width,position:0===a?0:1},S={offset:i.top,size:i.height,position:0===r?0:1,mode:xo.ALIGN};u=ra(window.innerWidth,n,C),pn.intersects({start:u,end:u+n},{start:C.offset,end:C.offset+C.size})&&(S.mode=xo.AVOID),d=ra(window.innerHeight,s,S)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(0===r?"bottom":"top"),this.view.classList.add(0===a?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const m=ue.i(this.container);this.view.style.top=d-(this.useFixedPosition?ue.i(this.view).top:m.top)+"px",this.view.style.left=u-(this.useFixedPosition?ue.i(this.view).left:m.left)+"px",this.view.style.width="initial"}hide(t){const i=this.delegate;this.delegate=null,(null==i?void 0:i.onHide)&&i.onHide(t),this.toDisposeOnClean.dispose(),ue.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(t,i){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(t,document.activeElement):i&&!ue.jg(t.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}return o.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],o.BUBBLE_DOWN_EVENTS=["click"],o})(),Ib='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t@font-face {\n\t\tfont-family: "codicon";\n\t\tfont-display: block;\n\t\tsrc: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n',uh=class extends ze.JT{constructor(e){super(),this.layoutService=e,this.currentViewDisposable=ze.JT.None,this.container=e.hasContainer?e.container:null,this.contextView=this._register(new Nb(this.container,1)),this.layout(),this._register(e.onDidLayout(()=>this.layout()))}setContainer(e,t){this.contextView.setContainer(e,t||1)}showContextView(e,t,i){t?t!==this.container&&(this.container=t,this.setContainer(t,i?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(e);const n=(0,ze.OF)(()=>{this.currentViewDisposable===n&&this.hideContextView()});return this.currentViewDisposable=n,n}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}};uh=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([function(o,e){return function(t,i){e(t,i,0)}}(0,Ya)],uh);var Tb=L(31383),nm=L(34163),fh=L(15151);let mr=[],gh=[],_c=[];function Cc(o,e=!1){const t=function Mb(o){return{id:o.id,mime:o.mime,filename:o.filename,extension:o.extension,filepattern:o.filepattern,firstline:o.firstline,userConfigured:o.userConfigured,filenameLowercase:o.filename?o.filename.toLowerCase():void 0,extensionLowercase:o.extension?o.extension.toLowerCase():void 0,filepatternLowercase:o.filepattern?(0,Tb.Qc)(o.filepattern.toLowerCase()):void 0,filepatternOnPath:!!o.filepattern&&o.filepattern.indexOf(nm.KR.sep)>=0}}(o);mr.push(t),t.userConfigured?_c.push(t):gh.push(t),e&&!t.userConfigured&&mr.forEach(i=>{i.mime===t.mime||i.userConfigured||(t.extension&&i.extension===t.extension&&console.warn(`Overwriting extension <<${t.extension}>> to now point to mime <<${t.mime}>>`),t.filename&&i.filename===t.filename&&console.warn(`Overwriting filename <<${t.filename}>> to now point to mime <<${t.mime}>>`),t.filepattern&&i.filepattern===t.filepattern&&console.warn(`Overwriting filepattern <<${t.filepattern}>> to now point to mime <<${t.mime}>>`),t.firstline&&i.firstline===t.firstline&&console.warn(`Overwriting firstline <<${t.firstline}>> to now point to mime <<${t.mime}>>`))})}function sm(o,e,t){var i;let n,s,r;for(let a=t.length-1;a>=0;a--){const l=t[a];if(e===l.filenameLowercase){n=l;break}if(l.filepattern&&(!s||l.filepattern.length>s.filepattern.length)){const d=l.filepatternOnPath?o:e;(null===(i=l.filepatternLowercase)||void 0===i?void 0:i.call(l,d))&&(s=l)}l.extension&&(!r||l.extension.length>r.extension.length)&&e.endsWith(l.extensionLowercase)&&(r=l)}return n?n.mime:s?s.mime:r?r.mime:void 0}const bc=Object.prototype.hasOwnProperty,om="vs.editor.nullLanguage";class Pb{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(om,0),this._register(hr,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;const t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||om}}let Bb=(()=>{class o extends ze.JT{constructor(t=!0,i=!1){super(),this._onDidChange=this._register(new Be.Q5),this.onDidChange=this._onDidChange.event,o.instanceCount++,this._warnOnOverwrite=i,this.languageIdCodec=new Pb,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},t&&(this._initializeFromRegistry(),this._register(Jr.onDidChangeLanguages(n=>{this._initializeFromRegistry()})))}dispose(){o.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},function Rb(o){o?(mr=mr.filter(e=>!e.userConfigured),_c=[]):(mr=[],gh=[],_c=[])}();const t=[].concat(Jr.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(t)}_registerLanguages(t){for(const i of t)this._registerLanguage(i);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(i=>{const n=this._languages[i];n.name&&(this._nameMap[n.name]=n.identifier),n.aliases.forEach(s=>{this._lowercaseNameMap[s.toLowerCase()]=n.identifier}),n.mimetypes.forEach(s=>{this._mimeTypesMap[s]=n.identifier})}),Ls.B.as(Xr_Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(t){const i=t.id;let n;bc.call(this._languages,i)?n=this._languages[i]:(this.languageIdCodec.register(i),n={identifier:i,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[i]=n),this._mergeLanguage(n,t)}_mergeLanguage(t,i){const n=i.id;let s=null;if(Array.isArray(i.mimetypes)&&i.mimetypes.length>0&&(t.mimetypes.push(...i.mimetypes),s=i.mimetypes[0]),s||(s=`text/x-${n}`,t.mimetypes.push(s)),Array.isArray(i.extensions)){t.extensions=i.configuration?i.extensions.concat(t.extensions):t.extensions.concat(i.extensions);for(let l of i.extensions)Cc({id:n,mime:s,extension:l},this._warnOnOverwrite)}if(Array.isArray(i.filenames))for(let l of i.filenames)Cc({id:n,mime:s,filename:l},this._warnOnOverwrite),t.filenames.push(l);if(Array.isArray(i.filenamePatterns))for(let l of i.filenamePatterns)Cc({id:n,mime:s,filepattern:l},this._warnOnOverwrite);if("string"==typeof i.firstLine&&i.firstLine.length>0){let l=i.firstLine;"^"!==l.charAt(0)&&(l="^"+l);try{const d=new RegExp(l);(0,ut.IO)(d)||Cc({id:n,mime:s,firstline:d},this._warnOnOverwrite)}catch(d){(0,he.dL)(d)}}t.aliases.push(n);let r=null;if(void 0!==i.aliases&&Array.isArray(i.aliases)&&(r=0===i.aliases.length?[null]:i.aliases),null!==r)for(const l of r)!l||0===l.length||t.aliases.push(l);const a=null!==r&&r.length>0;if(!a||null!==r[0]){const l=(a?r[0]:null)||n;(a||!t.name)&&(t.name=l)}i.configuration&&t.configurationFiles.push(i.configuration),i.icon&&t.icons.push(i.icon)}isRegisteredLanguageId(t){return!!t&&bc.call(this._languages,t)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(t){const i=t.toLowerCase();return bc.call(this._lowercaseNameMap,i)?this._lowercaseNameMap[i]:null}getLanguageIdByMimeType(t){return t&&bc.call(this._mimeTypesMap,t)?this._mimeTypesMap[t]:null}guessLanguageIdByFilepathOrFirstLine(t,i){if(!t&&!i)return[];const n=function Ob(o,e){let t;if(o)switch(o.scheme){case Ki.lg.file:t=o.fsPath;break;case Ki.lg.data:t=fh.Vb.parseMetaData(o).get(fh.Vb.META_DATA_LABEL);break;default:t=o.path}if(!t)return[Qr.v.unknown];t=t.toLowerCase();const i=(0,nm.EZ)(t),n=sm(t,i,_c);if(n)return[n,Qr.v.text];const s=sm(t,i,gh);if(s)return[s,Qr.v.text];if(e){const r=function Ab(o){if((0,ut.uS)(o)&&(o=o.substr(1)),o.length>0)for(let e=mr.length-1;e>=0;e--){const t=mr[e];if(!t.firstline)continue;const i=o.match(t.firstline);if(i&&i.length>0)return t.mime}}(e);if(r)return[r,Qr.v.text]}return[Qr.v.unknown]}(t,i);return(0,y.kX)(n.map(s=>this.getLanguageIdByMimeType(s)))}}return o.instanceCount=0,o})(),Fb=(()=>{class o extends ze.JT{constructor(t=!1){super(),this._onDidEncounterLanguage=this._register(new Be.Q5),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new Be.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,o.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new Bb(!0,t)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){o.instanceCount--,super.dispose()}isRegisteredLanguageId(t){return this._registry.isRegisteredLanguageId(t)}getLanguageIdByLanguageName(t){return this._registry.getLanguageIdByLanguageName(t)}getLanguageIdByMimeType(t){return this._registry.getLanguageIdByMimeType(t)}guessLanguageIdByFilepathOrFirstLine(t,i){const n=this._registry.guessLanguageIdByFilepathOrFirstLine(t,i);return(0,y.Xh)(n,null)}createById(t){return new rm(this.onDidChange,()=>this._createAndGetLanguageIdentifier(t))}createByFilepathOrFirstLine(t,i){return new rm(this.onDidChange,()=>{const n=this.guessLanguageIdByFilepathOrFirstLine(t,i);return this._createAndGetLanguageIdentifier(n)})}_createAndGetLanguageIdentifier(t){return(!t||!this.isRegisteredLanguageId(t))&&(t=hr),this._encounteredLanguages.has(t)||(this._encounteredLanguages.add(t),rt.RW.getOrCreate(t),this._onDidEncounterLanguage.fire(t)),t}}return o.instanceCount=0,o})();class rm{constructor(e,t){this._onDidChangeLanguages=e,this._selector=t,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new Be.Q5({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){const e=this._selector();e!==this.languageId&&(this.languageId=e,this._emitter&&this._emitter.fire(this.languageId))}}var am=L(45909);function lm(o){let e=o.definition;for(;e instanceof ki.lA;)e=e.definition;return`.codicon-${o.id}:before { content: '${e.fontCharacter}'; }`}function cm(...o){return function(e,t){for(let i=0,n=o.length;i<n;i++){const s=o[i](e,t);if(s)return s}return null}}L(94376),L(52175),dm.bind(void 0,!1);const mh=dm.bind(void 0,!0);function dm(o,e,t){if(!t||t.length<e.length)return null;let i;return i=o?ut.ok(t,e):0===t.indexOf(e),i?e.length>0?[{start:0,end:e.length}]:[]:null}function ph(o,e,t,i){if(t===o.length)return[];if(i===e.length)return null;if(o[t]===e[i]){let n=null;return(n=ph(o,e,t+1,i+1))?bh({start:i,end:i+1},n):null}return ph(o,e,t,i+1)}function _h(o){return 97<=o&&o<=122}function vc(o){return 65<=o&&o<=90}function Ch(o){return 48<=o&&o<=57}function hm(o){return 32===o||9===o||10===o||13===o}const um=new Set;function fm(o){return _h(o)||vc(o)||Ch(o)}function bh(o,e){return 0===e.length?e=[o]:o.end===e[0].start?e[0].start=o.start:e.unshift(o),e}function gm(o,e){for(let t=e;t<o.length;t++){const i=o.charCodeAt(t);if(vc(i)||Ch(i)||t>0&&!fm(o.charCodeAt(t-1)))return t}return o.length}function vh(o,e,t,i){if(t===o.length)return[];if(i===e.length)return null;if(o[t]!==e[i].toLowerCase())return null;{let n=null,s=i+1;for(n=vh(o,e,t+1,i+1);!n&&(s=gm(e,s))<e.length;)n=vh(o,e,t+1,s),s++;return null===n?null:bh({start:i,end:i+1},n)}}function mm(o,e){if(!e||0===(e=e.trim()).length||!function Kb(o){let e=0,t=0,i=0,n=0;for(let s=0;s<o.length;s++)i=o.charCodeAt(s),vc(i)&&e++,_h(i)&&t++,hm(i)&&n++;return 0!==e&&0!==t||0!==n?e<=5:o.length<=30}(o)||e.length>60)return null;const t=function zb(o){let e=0,t=0,i=0,n=0,s=0;for(let u=0;u<o.length;u++)s=o.charCodeAt(u),vc(s)&&e++,_h(s)&&t++,fm(s)&&i++,Ch(s)&&n++;return{upperPercent:e/o.length,lowerPercent:t/o.length,alphaPercent:i/o.length,numericPercent:n/o.length}}(e);if(!function jb(o){const{upperPercent:e,lowerPercent:t,alphaPercent:i,numericPercent:n}=o;return t>.2&&e<.8&&i>.6&&n<.2}(t)){if(!function Ub(o){const{upperPercent:e,lowerPercent:t}=o;return 0===t&&e>.6}(t))return null;e=e.toLowerCase()}let i=null,n=0;for(o=o.toLowerCase();n<e.length&&null===(i=vh(o,e,0,n));)n=gm(e,n+1);return i}"()[]{}<>`'\"-/;:,.?!".split("").forEach(o=>um.add(o.charCodeAt(0)));const $b=cm(mh,mm,function Wb(o,e){const t=e.toLowerCase().indexOf(o.toLowerCase());return-1===t?null:[{start:t,end:t+o.length}]}),Gb=cm(mh,mm,function Vb(o,e){return ph(o.toLowerCase(),e.toLowerCase(),0,0)}),_m=new Jn.z6(1e4);function Cm(o,e,t=!1){if("string"!=typeof o||"string"!=typeof e)return null;let i=_m.get(o);i||(i=new RegExp(ut.un(o),"i"),_m.set(o,i));const n=i.exec(e);return n?[{start:n.index,end:n.index+n[0].length}]:t?Gb(o,e):$b(o,e)}function Sh(){const o=[],e=[];for(let t=0;t<=128;t++)e[t]=0;for(let t=0;t<=128;t++)o.push(e.slice(0));return o}function bm(o){const e=[];for(let t=0;t<=o;t++)e[t]=0;return e}const vm=bm(256),yh=bm(256),Js=Sh(),jo=Sh(),Ja=Sh();function Sc(o,e){if(e<0||e>=o.length)return!1;const t=o.codePointAt(e);switch(t){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!ut.C8(t)}}function wm(o,e){if(e<0||e>=o.length)return!1;switch(o.charCodeAt(e)){case 32:case 9:return!0;default:return!1}}function yc(o,e,t){return e[o]!==t[o]}var pr;function Lc(o,e,t,i,n,s,r){const a=o.length>128?128:o.length,l=i.length>128?128:i.length;if(t>=a||s>=l||a-t>l-s||!function Yb(o,e,t,i,n,s,r=!1){for(;e<t&&n<s;)o[e]===i[n]&&(r&&(vm[e]=n),e+=1),n+=1;return e===t}(e,t,a,n,s,l,!0))return;!function Qb(o,e,t,i,n,s){let r=o-1,a=e-1;for(;r>=t&&a>=i;)n[r]===s[a]&&(yh[r]=a,r--),a--}(a,l,t,s,e,n);let d=1,u=1,m=t,C=s;const S=[!1];for(d=1,m=t;m<a;d++,m++){const X=vm[m],le=yh[m],Ce=m+1<a?yh[m+1]:l;for(u=X-s+1,C=X;C<Ce;u++,C++){let ke=Number.MIN_SAFE_INTEGER,Ne=!1;C<=le&&(ke=Xb(o,e,m,t,i,n,C,l,s,0===Js[d-1][u-1],S));let ve=0;ke!==Number.MAX_SAFE_INTEGER&&(Ne=!0,ve=ke+jo[d-1][u-1]);const pe=C>X,Te=pe?jo[d][u-1]+(Js[d][u-1]>0?-5:0):0,Qe=C>X+1&&Js[d][u-1]>0,Pe=Qe?jo[d][u-2]+(Js[d][u-2]>0?-5:0):0;if(Qe&&(!pe||Pe>=Te)&&(!Ne||Pe>=ve))jo[d][u]=Pe,Ja[d][u]=3,Js[d][u]=0;else if(pe&&(!Ne||Te>=ve))jo[d][u]=Te,Ja[d][u]=2,Js[d][u]=0;else{if(!Ne)throw new Error("not possible");jo[d][u]=ve,Ja[d][u]=1,Js[d][u]=Js[d-1][u-1]+1}}}if(!S[0]&&!r)return;d--,u--;const M=[jo[d][u],s];let j=0,J=0;for(;d>=1;){let X=u;do{const le=Ja[d][X];if(3===le)X-=2;else{if(2!==le)break;X-=1}}while(X>=1);j>1&&e[t+d-1]===n[s+u-1]&&!yc(X+s-1,i,n)&&j+1>Js[d][X]&&(X=u),X===u?j++:j=1,J||(J=X),d--,u=X-1,M.push(u)}return l===a&&(M[0]+=2),M[0]-=J-a,M}function Xb(o,e,t,i,n,s,r,a,l,d,u){if(e[t]!==s[r])return Number.MIN_SAFE_INTEGER;let m=1,C=!1;return r===t-i?m=o[t]===n[r]?7:5:!yc(r,n,s)||0!==r&&yc(r-1,n,s)?!Sc(s,r)||0!==r&&Sc(s,r-1)?(Sc(s,r-1)||wm(s,r-1))&&(m=5,C=!0):m=5:(m=o[t]===n[r]?7:5,C=!0),m>1&&t===i&&(u[0]=!0),C||(C=yc(r,n,s)||Sc(s,r-1)||wm(s,r-1)),t===i?r>l&&(m-=C?3:5):m+=d?C?2:0:C?0:1,r+1===a&&(m-=C?3:5),m}!function(o){o.Default=[-100,0],o.isDefault=function e(t){return!t||2===t.length&&-100===t[0]&&0===t[1]}}(pr||(pr={}));const el="$(",Eh=new RegExp(`\\$\\(${ki.dT.iconNameExpression}(?:${ki.dT.iconModifierExpression})?\\)`,"g"),tv=new RegExp(ki.dT.iconNameCharacter),iv=new RegExp(`(\\\\)?${Eh.source}`,"g");new RegExp(`\\\\${Eh.source}`,"g");const ov=new RegExp(`(\\s)?(\\\\)?${Eh.source}(\\s)?`,"g");function Sm(o){return-1===o.indexOf(el)?o:o.replace(ov,(e,t,i,n)=>i?e:t||n||"")}function Ec(o){const e=o.indexOf(el);return-1===e?{text:o}:function rv(o,e){const t=[];let i="";function n(C){if(C){i+=C;for(const S of C)t.push(a)}}let l,d,s=-1,r="",a=0,u=e;const m=o.length;for(n(o.substr(0,e));u<m;)l=o[u],d=o[u+1],l===el[0]&&d===el[1]?(s=u,n(r),r=el,u++):")"===l&&-1!==s?(a+=u-s+1,s=-1,r=""):-1!==s?tv.test(l)?r+=l:(n(r),s=-1,r=""):n(l),u++;return n(r),{text:i,iconOffsets:t}}(o,e)}function xc(o,e,t=!1){const{text:i,iconOffsets:n}=e;if(!n||0===n.length)return Cm(o,i,t);const s=(0,ut.j3)(i," "),r=i.length-s.length,a=Cm(o,s,t);if(a)for(const l of a){const d=n[l.start+r]+r;l.start+=d,l.end+=d}return a}const xh=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,Nh=/(&amp;)?(&amp;)([^\s&])/g;var tl=(()=>(function(o){o[o.Right=0]="Right",o[o.Left=1]="Left"}(tl||(tl={})),tl))();class aa extends Ga.o{constructor(e,t,i={}){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");const n=document.createElement("div");n.classList.add("monaco-menu"),n.setAttribute("role","presentation"),super(n,{orientation:1,actionViewItemProvider:a=>this.doGetActionViewItem(a,i,s),context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...h.dz||h.IJ?[10]:[]],keyDown:!0}}),this.menuElement=n,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new ze.SL),this.initializeOrUpdateStyleSheet(e,{}),this._register(Qi.o.addTarget(n)),(0,ue.nm)(n,ue.tw.KEY_DOWN,a=>{new hn.y(a).equals(2)&&a.preventDefault()}),i.enableMnemonics&&this.menuDisposables.add((0,ue.nm)(n,ue.tw.KEY_DOWN,a=>{const l=a.key.toLocaleLowerCase();if(this.mnemonics.has(l)){ue.zB.stop(a,!0);const d=this.mnemonics.get(l);if(1===d.length&&(d[0]instanceof ym&&d[0].container&&this.focusItemByElement(d[0].container),d[0].onClick(a)),d.length>1){const u=d.shift();u&&u.container&&(this.focusItemByElement(u.container),d.push(u)),this.mnemonics.set(l,d)}}})),h.IJ&&this._register((0,ue.nm)(n,ue.tw.KEY_DOWN,a=>{const l=new hn.y(a);l.equals(14)||l.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),ue.zB.stop(a,!0)):(l.equals(13)||l.equals(12))&&(this.focusedItem=0,this.focusPrevious(),ue.zB.stop(a,!0))})),this._register((0,ue.nm)(this.domNode,ue.tw.MOUSE_OUT,a=>{(0,ue.jg)(a.relatedTarget,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),a.stopPropagation())})),this._register((0,ue.nm)(this.actionsList,ue.tw.MOUSE_OVER,a=>{let l=a.target;if(l&&(0,ue.jg)(l,this.actionsList)&&l!==this.actionsList){for(;l.parentElement!==this.actionsList&&null!==l.parentElement;)l=l.parentElement;if(l.classList.contains("action-item")){const d=this.focusedItem;this.setFocusedItem(l),d!==this.focusedItem&&this.updateFocus()}}})),this._register(Qi.o.addTarget(this.actionsList)),this._register((0,ue.nm)(this.actionsList,Qi.t.Tap,a=>{let l=a.initialTarget;if(l&&(0,ue.jg)(l,this.actionsList)&&l!==this.actionsList){for(;l.parentElement!==this.actionsList&&null!==l.parentElement;)l=l.parentElement;if(l.classList.contains("action-item")){const d=this.focusedItem;this.setFocusedItem(l),d!==this.focusedItem&&this.updateFocus()}}}));let s={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new Oa.s$(n,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const r=this.scrollableElement.getDomNode();r.style.position="",this._register((0,ue.nm)(n,Qi.t.Change,a=>{ue.zB.stop(a,!0);const l=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:l-a.translationY})})),this._register((0,ue.nm)(r,ue.tw.MOUSE_UP,a=>{a.preventDefault()})),n.style.maxHeight=`${Math.max(10,window.innerHeight-e.getBoundingClientRect().top-35)}px`,t=t.filter(a=>{var l;return!(null===(l=i.submenuIds)||void 0===l?void 0:l.has(a.id))||(console.warn(`Found submenu cycle: ${a.id}`),!1)}),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(a=>!(a instanceof Dh)).forEach((a,l,d)=>{a.updatePositionInSet(l+1,d.length)})}initializeOrUpdateStyleSheet(e,t){this.styleSheet||((0,ue.OO)(e)?this.styleSheet=(0,ue.dS)(e):(aa.globalStyleSheet||(aa.globalStyleSheet=(0,ue.dS)()),this.styleSheet=aa.globalStyleSheet)),this.styleSheet.textContent=function lv(o){let e=`\n.monaco-menu {\n\tfont-size: 13px;\n\n}\n\n${lm(ki.lA.menuSelection)}\n${lm(ki.lA.menuSubmenu)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221a\u03c6 */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tpadding: 0.5em 0 0 0;\n\tmargin-bottom: 0.5em;\n\twidth: 100%;\n\theight: 0px !important;\n\tmargin-left: .8em !important;\n\tmargin-right: .8em !important;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tborder: thin solid transparent; /* prevents jumping behaviour on hover or focus */\n}\n\n\n/* High Contrast Theming */\n:host-context(.hc-black) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .5em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 1.8em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tpadding: 0.2em 0 0 0;\n\tmargin-bottom: 0.2em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}\n\n/* Arrows */\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n}\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n}\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n`;const t=o.scrollbarShadow;t&&(e+=`\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tbox-shadow: ${t} 0 6px 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tbox-shadow: ${t} 6px 0 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\tbox-shadow: ${t} 6px 6px 6px -6px inset;\n\t\t\t}\n\t\t`);const i=o.scrollbarSliderBackground;i&&(e+=`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\tbackground: ${i};\n\t\t\t}\n\t\t`);const n=o.scrollbarSliderHoverBackground;n&&(e+=`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\tbackground: ${n};\n\t\t\t}\n\t\t`);const s=o.scrollbarSliderActiveBackground;return s&&(e+=`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\tbackground: ${s};\n\t\t\t}\n\t\t`),e}(t)}style(e){const t=this.getContainer();this.initializeOrUpdateStyleSheet(t,e);const i=e.foregroundColor?`${e.foregroundColor}`:"",n=e.backgroundColor?`${e.backgroundColor}`:"",r=e.shadowColor?`0 2px 4px ${e.shadowColor}`:"";t.style.border=e.borderColor?`1px solid ${e.borderColor}`:"",this.domNode.style.color=i,this.domNode.style.backgroundColor=n,t.style.boxShadow=r,this.viewItems&&this.viewItems.forEach(a=>{(a instanceof Ih||a instanceof Dh)&&a.style(e)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++)if(e===this.actionsList.children[t]){this.focusedItem=t;break}}updateFocus(e){super.updateFocus(e,!0,!0),void 0!==this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,i){if(e instanceof Es.Z0)return new Dh(t.context,e,{icon:!0});if(e instanceof Es.wY){const n=new ym(e,e.actions,i,Object.assign(Object.assign({},t),{submenuIds:new Set([...t.submenuIds||[],e.id])}));if(t.enableMnemonics){const s=n.getMnemonic();if(s&&n.isEnabled()){let r=[];this.mnemonics.has(s)&&(r=this.mnemonics.get(s)),r.push(n),this.mnemonics.set(s,r)}}return n}{const n={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){const r=t.getKeyBinding(e);if(r){const a=r.getLabel();a&&(n.keybinding=a)}}const s=new Ih(t.context,e,n);if(t.enableMnemonics){const r=s.getMnemonic();if(r&&s.isEnabled()){let a=[];this.mnemonics.has(r)&&(a=this.mnemonics.get(r)),a.push(s),this.mnemonics.set(r,a)}}return s}}}class Ih extends am.Y{constructor(e,t,i={}){if(i.isMenu=!0,super(t,t,i),this.options=i,this.options.icon=void 0!==i.icon&&i.icon,this.options.label=void 0===i.label||i.label,this.cssClass="",this.options.label&&i.enableMnemonics){let n=this.getAction().label;if(n){let s=xh.exec(n);s&&(this.mnemonic=(s[1]?s[1]:s[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new se.pY(()=>{!this.element||(this._register((0,ue.nm)(this.element,ue.tw.MOUSE_UP,n=>{if(ue.zB.stop(n,!0),Ei.isFirefox){if(new Da.n(n).rightButton)return;this.onClick(n)}else setTimeout(()=>{this.onClick(n)},0)})),this._register((0,ue.nm)(this.element,ue.tw.CONTEXT_MENU,n=>{ue.zB.stop(n,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=(0,ue.R3)(this.element,(0,ue.$)("a.action-menu-item")),this._action.id===Es.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,ue.R3)(this.item,(0,ue.$)("span.menu-item-check"+ki.lA.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,ue.R3)(this.item,(0,ue.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,ue.R3)(this.item,(0,ue.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${t}`))}updateLabel(){if(this.label&&this.options.label){(0,ue.PO)(this.label);let e=Sm(this.getAction().label);if(e){const t=function av(o){const e=xh,t=e.exec(o);return t?o.replace(e,t[1]?"":"$2$3").trim():o}(e);this.options.enableMnemonics||(e=t),this.label.setAttribute("aria-label",t.replace(/&&/g,"&"));const i=xh.exec(e);if(i){e=ut.YU(e),Nh.lastIndex=0;let n=Nh.exec(e);for(;n&&n[1];)n=Nh.exec(e);const s=r=>r.replace(/&amp;&amp;/g,"&amp;");n?this.label.append(ut.j3(s(e.substr(0,n.index))," "),(0,ue.$)("u",{"aria-hidden":"true"},n[3]),ut.oL(s(e.substr(n.index+n[0].length))," ")):this.label.innerText=s(e).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(i[1]?i[1]:i[3]).toLocaleLowerCase())}else this.label.innerText=e.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const e=this.getAction().checked;this.item.classList.toggle("checked",!!e),void 0!==e?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",e?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const e=this.element&&this.element.classList.contains("focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,n=e&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=t?t.toString():"",this.item.style.backgroundColor=i?i.toString():""),this.check&&(this.check.style.color=t?t.toString():""),this.container&&(this.container.style.border=n)}style(e){this.menuStyle=e,this.applyStyle()}}class ym extends Ih{constructor(e,t,i,n){super(e,e,n),this.submenuActions=t,this.parentData=i,this.submenuOptions=n,this.mysubmenu=null,this.submenuDisposables=this._register(new ze.SL),this.mouseOver=!1,this.expandDirection=n&&void 0!==n.expandDirection?n.expandDirection:tl.Right,this.showScheduler=new se.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new se.pY(()=>{this.element&&!(0,ue.jg)((0,ue.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(e){super.render(e),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,ue.R3)(this.item,(0,ue.$)("span.submenu-indicator"+ki.lA.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,ue.nm)(this.element,ue.tw.KEY_UP,t=>{let i=new hn.y(t);(i.equals(17)||i.equals(3))&&(ue.zB.stop(t,!0),this.createSubmenu(!0))})),this._register((0,ue.nm)(this.element,ue.tw.KEY_DOWN,t=>{let i=new hn.y(t);(0,ue.vY)()===this.item&&(i.equals(17)||i.equals(3))&&ue.zB.stop(t,!0)})),this._register((0,ue.nm)(this.element,ue.tw.MOUSE_OVER,t=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,ue.nm)(this.element,ue.tw.MOUSE_LEAVE,t=>{this.mouseOver=!1})),this._register((0,ue.nm)(this.element,ue.tw.FOCUS_OUT,t=>{this.element&&!(0,ue.jg)((0,ue.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(e){ue.zB.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(t){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,i,n){const s={top:0,left:0};return s.left=ra(e.width,t.width,{position:n===tl.Right?0:1,offset:i.left,size:i.width}),s.left>=i.left&&s.left<i.left+i.width&&(i.left+10+t.width<=e.width&&(s.left=i.left+10),i.top+=10,i.height=0),s.top=ra(e.height,t.height,{position:0,offset:i.top,size:0}),s.top+t.height===i.top&&s.top+i.height+t.height<=e.height&&(s.top+=i.height),s}createSubmenu(e=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,ue.R3)(this.element,(0,ue.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const t=getComputedStyle(this.parentData.parent.domNode),i=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new aa(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new Es.eZ],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const n=this.element.getBoundingClientRect(),s={top:n.top-i,left:n.left,height:n.height+2*i,width:n.width},r=this.submenuContainer.getBoundingClientRect(),{top:a,left:l}=this.calculateSubmenuMenuLayout(new ue.Ro(window.innerWidth,window.innerHeight),ue.Ro.lift(r),s,this.expandDirection);this.submenuContainer.style.left=l-r.left+"px",this.submenuContainer.style.top=a-r.top+"px",this.submenuDisposables.add((0,ue.nm)(this.submenuContainer,ue.tw.KEY_UP,d=>{new hn.y(d).equals(15)&&(ue.zB.stop(d,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,ue.nm)(this.submenuContainer,ue.tw.KEY_DOWN,d=>{new hn.y(d).equals(15)&&ue.zB.stop(d,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&(null===(t=this.item)||void 0===t||t.setAttribute("aria-expanded",e))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const t=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=t?`${t}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class Dh extends am.g{style(e){this.label&&(this.label.style.borderBottomColor=e.separatorColor?`${e.separatorColor}`:"")}}function Fs(o,e){const t=Object.create(null);for(let i in e){const n=e[i];n&&(t[i]=(0,it.Snq)(n,o))}return t}function kh(o,e,t){function i(){const n=Fs(o.getColorTheme(),e);"function"==typeof t?t(n):t.style(n)}return i(),o.onDidColorThemeChange(i)}function la(o,e,t){return kh(e,Object.assign(Object.assign({},Nc),t||{}),o)}L(93840);const Nc={listFocusBackground:it._bK,listFocusForeground:it._2n,listFocusOutline:it.Oop,listActiveSelectionBackground:it.dCr,listActiveSelectionForeground:it.M6C,listActiveSelectionIconForeground:it.Tnx,listFocusAndSelectionBackground:it.dCr,listFocusAndSelectionForeground:it.M6C,listInactiveSelectionBackground:it.rg2,listInactiveSelectionIconForeground:it.kvU,listInactiveSelectionForeground:it.ytC,listInactiveFocusBackground:it.s$,listInactiveFocusOutline:it.F3d,listHoverBackground:it.mV1,listHoverForeground:it.$d5,listDropBackground:it.AS1,listSelectionOutline:it.xL1,listHoverOutline:it.xL1,listFilterWidgetBackground:it.vGG,listFilterWidgetOutline:it.oSI,listFilterWidgetNoMatchesOutline:it.Saq,listMatchesShadow:it.rh,treeIndentGuidesStroke:it.UnT,tableColumnsBorder:it.uxu,tableOddRowsBackgroundColor:it.EQn},cv={shadowColor:it.rh,borderColor:it.Cdg,foregroundColor:it.DEr,backgroundColor:it.Hz8,selectionForegroundColor:it.jbW,selectionBackgroundColor:it.$DX,selectionBorderColor:it.E3h,separatorColor:it.ZGJ,scrollbarShadow:it._wn,scrollbarSliderBackground:it.etL,scrollbarSliderHoverBackground:it.ABB,scrollbarSliderActiveBackground:it.ynu};class hv{constructor(e,t,i,n,s){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=n,this.themeService=s,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;this.focusToReturn=document.activeElement;let i,n=(0,ue.Re)(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:s=>{let r=e.getMenuClassName?e.getMenuClassName():"";r&&(s.className+=" "+r),this.options.blockMouse&&(this.block=s.appendChild((0,ue.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,ue.nm)(this.block,ue.tw.MOUSE_DOWN,d=>d.stopPropagation()));const a=new ze.SL,l=e.actionRunner||new Es.Wi;return l.onBeforeRun(this.onActionRun,this,a),l.onDidRun(this.onDidActionRun,this,a),i=new aa(s,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:l,getKeyBinding:e.getKeyBinding?e.getKeyBinding:d=>this.keybindingService.lookupKeybinding(d.id)}),a.add(function dv(o,e,t){return kh(e,Object.assign(Object.assign({},cv),t),o)}(i,this.themeService)),i.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,a),i.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,a),a.add((0,ue.nm)(window,ue.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),a.add((0,ue.nm)(window,ue.tw.MOUSE_DOWN,d=>{if(d.defaultPrevented)return;let u=new Da.n(d),m=u.target;if(!u.rightButton){for(;m;){if(m===s)return;m=m.parentElement}this.contextViewService.hideContextView(!0)}})),(0,ze.F8)(a,i)},focus:()=>{i&&i.focus(!!e.autoSelectFirstItem)},onHide:s=>{e.onHide&&e.onHide(!!s),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},n,!!n)}onActionRun(e){this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(e){e.error&&!(0,he.n2)(e.error)&&this.notificationService.error(e.error)}}var il=function(o,e){return function(t,i){e(t,i,o)}};let Th=class extends ze.JT{constructor(e,t,i,n,s){super(),this._onDidShowContextMenu=new Be.Q5,this._onDidHideContextMenu=new Be.Q5,this.contextMenuHandler=new hv(i,e,t,n,s)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},e),{onHide:t=>{e.onHide&&e.onHide(t),this._onDidHideContextMenu.fire()}})),ue._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};Th=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([il(0,mc.b),il(1,Bs.lT),il(2,ta.u),il(3,hs.d),il(4,Ut.XE)],Th);var ca=L(38460),Lm=L(38923);function Em(o){let e=JSON.parse(o);return e=Mh(e),e}function Mh(o,e=0){if(!o||e>200)return o;if("object"==typeof o){switch(o.$mid){case 1:return ri.o.revive(o);case 2:return new RegExp(o.source,o.flags);case 14:return new Date(o.source)}if(o instanceof Lm.KN||o instanceof Uint8Array)return o;if(Array.isArray(o))for(let t=0;t<o.length;++t)o[t]=Mh(o[t],e+1);else for(const t in o)Object.hasOwnProperty.call(o,t)&&(o[t]=Mh(o[t],e+1))}return o}var nl=(()=>(function(o){o[o.API=0]="API",o[o.USER=1]="USER"}(nl||(nl={})),nl))(),xm=function(o,e,t,i){return new(t||(t=Promise))(function(s,r){function a(u){try{d(i.next(u))}catch(m){r(m)}}function l(u){try{d(i.throw(u))}catch(m){r(m)}}function d(u){u.done?s(u.value):function n(s){return s instanceof t?s:new t(function(r){r(s)})}(u.value).then(a,l)}d((i=i.apply(o,e||[])).next())})};const fv=(0,Ft.yh)("openerService");function Nm(o,e){return ri.o.isUri(o)?(0,ut.qq)(o.scheme,e):(0,ut.ok)(o,e+":")}function Im(o,...e){return e.some(t=>Nm(o,t))}Object.freeze({_serviceBrand:void 0,registerOpener:()=>ze.JT.None,registerValidator:()=>ze.JT.None,registerExternalUriResolver:()=>ze.JT.None,setDefaultExternalOpener(){},registerExternalOpener:()=>ze.JT.None,open(){return xm(this,void 0,void 0,function*(){return!1})},resolveExternalUri(o){return xm(this,void 0,void 0,function*(){return{resolved:o,dispose(){}}})}});var Rh=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Ic=function(o,e){return function(t,i){e(t,i,o)}},_r=function(o,e,t,i){return new(t||(t=Promise))(function(s,r){function a(u){try{d(i.next(u))}catch(m){r(m)}}function l(u){try{d(i.throw(u))}catch(m){r(m)}}function d(u){u.done?s(u.value):function n(s){return s instanceof t?s:new t(function(r){r(s)})}(u.value).then(a,l)}d((i=i.apply(o,e||[])).next())})};let Oh=class{constructor(e){this._commandService=e}open(e,t){return _r(this,void 0,void 0,function*(){if(!Nm(e,Ki.lg.command))return!1;if(!(null==t?void 0:t.allowCommands))return!0;"string"==typeof e&&(e=ri.o.parse(e));let i=[];try{i=Em(decodeURIComponent(e.query))}catch(n){try{i=Em(e.query)}catch(s){}}return Array.isArray(i)||(i=[i]),yield this._commandService.executeCommand(e.path,...i),!0})}};Oh=Rh([Ic(0,Hi.Hy)],Oh);let Ah=class{constructor(e){this._editorService=e}open(e,t){return _r(this,void 0,void 0,function*(){"string"==typeof e&&(e=ri.o.parse(e));const i=function gv(o){let e;const t=/^L?(\d+)(?:,(\d+))?/.exec(o.fragment);return t&&(e={startLineNumber:parseInt(t[1]),startColumn:t[2]?parseInt(t[2]):1}),e}(e);return i&&(e=e.with({fragment:""})),e.scheme===Ki.lg.file&&(e=(0,fh.AH)(e)),yield this._editorService.openCodeEditor({resource:e,options:Object.assign({selection:i,context:(null==t?void 0:t.fromUserGesture)?nl.USER:nl.API},null==t?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),null==t?void 0:t.openToSide),!0})}};Ah=Rh([Ic(0,Ti.$)],Ah);let Ph=class{constructor(e,t){this._openers=new ca.S,this._validators=new ca.S,this._resolvers=new ca.S,this._resolvedUriTargets=new Jn.Y9(i=>i.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new ca.S,this._defaultExternalOpener={openExternal:i=>_r(this,void 0,void 0,function*(){return Im(i,Ki.lg.http,Ki.lg.https)?ue.V3(i):window.location.href=i,!0})},this._openers.push({open:(i,n)=>_r(this,void 0,void 0,function*(){return!(!(null==n?void 0:n.openExternal)&&!Im(i,Ki.lg.mailto,Ki.lg.http,Ki.lg.https,Ki.lg.vsls)||(yield this._doOpenExternal(i,n),0))})}),this._openers.push(new Oh(t)),this._openers.push(new Ah(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}registerValidator(e){return{dispose:this._validators.push(e)}}registerExternalUriResolver(e){return{dispose:this._resolvers.push(e)}}setDefaultExternalOpener(e){this._defaultExternalOpener=e}registerExternalOpener(e){return{dispose:this._externalOpeners.push(e)}}open(e,t){var i;return _r(this,void 0,void 0,function*(){const n="string"==typeof e?ri.o.parse(e):e,s=null!==(i=this._resolvedUriTargets.get(n))&&void 0!==i?i:e;for(const r of this._validators)if(!(yield r.shouldOpen(s)))return!1;for(const r of this._openers)if(yield r.open(e,t))return!0;return!1})}resolveExternalUri(e,t){return _r(this,void 0,void 0,function*(){for(const i of this._resolvers)try{const n=yield i.resolveExternalUri(e,t);if(n)return this._resolvedUriTargets.has(n.resolved)||this._resolvedUriTargets.set(n.resolved,e),n}catch(n){}throw new Error("Could not resolve external URI: "+e.toString())})}_doOpenExternal(e,t){return _r(this,void 0,void 0,function*(){const i="string"==typeof e?ri.o.parse(e):e;let n,s;try{n=(yield this.resolveExternalUri(i,t)).resolved}catch(r){n=i}if(s="string"==typeof e&&i.toString()===n.toString()?e:encodeURI(n.toString(!0)),null==t?void 0:t.allowContributedOpeners){const r="string"==typeof(null==t?void 0:t.allowContributedOpeners)?null==t?void 0:t.allowContributedOpeners:void 0;for(const a of this._externalOpeners)if(yield a.openExternal(s,{sourceUri:i,preferredOpenerId:r},fi.T.None))return!0}return this._defaultExternalOpener.openExternal(s,{sourceUri:i},fi.T.None)})}dispose(){this._validators.clear()}};Ph=Rh([Ic(0,Ti.$),Ic(1,Hi.Hy)],Ph);var Dm,ts=(()=>(function(o){o[o.Hint=1]="Hint",o[o.Info=2]="Info",o[o.Warning=4]="Warning",o[o.Error=8]="Error"}(ts||(ts={})),ts))();!function(o){o.compare=function e(r,a){return a-r};const t=Object.create(null);t[o.Error]=(0,_.N)("sev.error","Error"),t[o.Warning]=(0,_.N)("sev.warning","Warning"),t[o.Info]=(0,_.N)("sev.info","Info"),o.toString=function i(r){return t[r]||""},o.fromSeverity=function n(r){switch(r){case Xi.Z.Error:return o.Error;case Xi.Z.Warning:return o.Warning;case Xi.Z.Info:return o.Info;case Xi.Z.Ignore:return o.Hint}},o.toSeverity=function s(r){switch(r){case o.Error:return Xi.Z.Error;case o.Warning:return Xi.Z.Warning;case o.Info:return Xi.Z.Info;case o.Hint:return Xi.Z.Ignore}}}(ts||(ts={})),function(o){const e="";function i(n,s){let r=[e];return r.push(n.source?n.source.replace("\xa6","\\\xa6"):e),r.push(n.code?"string"==typeof n.code?n.code.replace("\xa6","\\\xa6"):n.code.value.replace("\xa6","\\\xa6"):e),r.push(null!=n.severity?ts.toString(n.severity):e),r.push(n.message&&s?n.message.replace("\xa6","\\\xa6"):e),r.push(null!=n.startLineNumber?n.startLineNumber.toString():e),r.push(null!=n.startColumn?n.startColumn.toString():e),r.push(null!=n.endLineNumber?n.endLineNumber.toString():e),r.push(null!=n.endColumn?n.endColumn.toString():e),r.push(e),r.join("\xa6")}o.makeKey=function t(n){return i(n,!0)},o.makeKeyOptionalMessage=i}(Dm||(Dm={}));const da=(0,Ft.yh)("markerService");var km=function(o,e){return function(t,i){e(t,i,o)}};class pv extends ze.JT{constructor(e){super(),this.model=e,this._markersData=new Map,this._register((0,ze.OF)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(e,t){const i=[...this._markersData.keys()];this._markersData.clear();const n=this.model.deltaDecorations(i,t);for(let s=0;s<n.length;s++)this._markersData.set(n[s],e[s]);return 0!==i.length||0!==n.length}getMarker(e){return this._markersData.get(e.id)}}let Bh=class extends ze.JT{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new Be.Q5),this._markerDecorations=new Jn.Y9,e.getModels().forEach(i=>this._onModelAdded(i)),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(e=>e.dispose()),this._markerDecorations.clear()}getMarker(e,t){const i=this._markerDecorations.get(e);return i&&i.getMarker(t)||null}_handleMarkerChange(e){e.forEach(t=>{const i=this._markerDecorations.get(t);i&&this._updateDecorations(i)})}_onModelAdded(e){const t=new pv(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){const t=this._markerDecorations.get(e.uri);t&&(t.dispose(),this._markerDecorations.delete(e.uri)),(e.uri.scheme===Ki.lg.inMemory||e.uri.scheme===Ki.lg.internal||e.uri.scheme===Ki.lg.vscode)&&this._markerService&&this._markerService.read({resource:e.uri}).map(i=>i.owner).forEach(i=>this._markerService.remove(i,[e.uri]))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500}),i=t.map(n=>({range:this._createDecorationRange(e.model,n),options:this._createDecorationOption(n)}));e.update(t,i)&&this._onDidChangeMarker.fire(e.model)}_createDecorationRange(e,t){let i=Ze.e.lift(t);return t.severity===ts.Hint&&!this._hasMarkerTag(t,1)&&!this._hasMarkerTag(t,2)&&(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),e.validateRange(i)}_createDecorationOption(e){let t,i,n,s,r;switch(e.severity){case ts.Hint:t=this._hasMarkerTag(e,2)?void 0:this._hasMarkerTag(e,1)?"squiggly-unnecessary":"squiggly-hint",n=0;break;case ts.Warning:t="squiggly-warning",i=(0,Ut.EN)(si.Re),n=20,r={color:(0,Ut.EN)(it.Ivo),position:Ri.F5.Inline};break;case ts.Info:t="squiggly-info",i=(0,Ut.EN)(si.eS),n=10;break;default:t="squiggly-error",i=(0,Ut.EN)(si.lK),n=30,r={color:(0,Ut.EN)(it.Gj_),position:Ri.F5.Inline}}return e.tags&&(-1!==e.tags.indexOf(1)&&(s="squiggly-inline-unnecessary"),-1!==e.tags.indexOf(2)&&(s="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:i,position:Ri.sh.Right},minimap:r,zIndex:n,inlineClassName:s}}_hasMarkerTag(e,t){return!!e.tags&&e.tags.indexOf(t)>=0}};Bh=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([km(0,Q.q),km(1,da)],Bh);var ha=L(94898),_v=L(37846);class sl{constructor(e,t){this._startLineNumber=e,this._tokens=t,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(e,t){return new sl(e,new Dc(t))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(e){return this._startLineNumber<=e&&e<=this._endLineNumber?this._tokens.getLineTokens(e-this._startLineNumber):null}getRange(){const e=this._tokens.getRange();return e&&new Ze.e(this._startLineNumber+e.startLineNumber,e.startColumn,this._startLineNumber+e.endLineNumber,e.endColumn)}removeTokens(e){this._startLineNumber+=this._tokens.removeTokens(e.startLineNumber-this._startLineNumber,e.startColumn-1,e.endLineNumber-this._startLineNumber,e.endColumn-1),this._updateEndLineNumber()}split(e){const t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber,[n,s,r]=this._tokens.split(t,e.startColumn-1,i,e.endColumn-1);return[new sl(this._startLineNumber,n),new sl(this._startLineNumber+r,s)]}applyEdit(e,t){const[i,n,s]=(0,_v.Q)(t);this.acceptEdit(e,i,n,s,t.length>0?t.charCodeAt(0):0)}acceptEdit(e,t,i,n,s){this._acceptDeleteRange(e),this._acceptInsertText(new Xe.L(e.startLineNumber,e.startColumn),t,i,n,s),this._updateEndLineNumber()}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return;const t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber;if(i<0)return void(this._startLineNumber-=i-t);const n=this._tokens.getMaxDeltaLine();if(!(t>=n+1)){if(t<0&&i>=n+1)return this._startLineNumber=0,void this._tokens.clear();t<0?(this._startLineNumber-=-t,this._tokens.acceptDeleteRange(e.startColumn-1,0,0,i,e.endColumn-1)):this._tokens.acceptDeleteRange(0,t,e.startColumn-1,i,e.endColumn-1)}}_acceptInsertText(e,t,i,n,s){if(0===t&&0===i)return;const r=e.lineNumber-this._startLineNumber;r<0?this._startLineNumber+=t:r>=this._tokens.getMaxDeltaLine()+1||this._tokens.acceptInsertText(r,e.column-1,t,i,n,s)}}class Dc{constructor(e){this._tokens=e,this._tokenCount=e.length/4}toString(e){const t=[];for(let i=0;i<this._tokenCount;i++)t.push(`(${this._getDeltaLine(i)+e},${this._getStartCharacter(i)}-${this._getEndCharacter(i)})`);return`[${t.join(",")}]`}getMaxDeltaLine(){const e=this._getTokenCount();return 0===e?-1:this._getDeltaLine(e-1)}getRange(){const e=this._getTokenCount();if(0===e)return null;const t=this._getStartCharacter(0),i=this._getDeltaLine(e-1),n=this._getEndCharacter(e-1);return new Ze.e(0,t+1,i,n+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(e){return this._tokens[4*e]}_getStartCharacter(e){return this._tokens[4*e+1]}_getEndCharacter(e){return this._tokens[4*e+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(e){let t=0,i=this._getTokenCount()-1;for(;t<i;){const n=t+Math.floor((i-t)/2),s=this._getDeltaLine(n);if(s<e)t=n+1;else{if(!(s>e)){let r=n;for(;r>t&&this._getDeltaLine(r-1)===e;)r--;let a=n;for(;a<i&&this._getDeltaLine(a+1)===e;)a++;return new Tm(this._tokens.subarray(4*r,4*a+4))}i=n-1}}return this._getDeltaLine(t)===e?new Tm(this._tokens.subarray(4*t,4*t+4)):null}clear(){this._tokenCount=0}removeTokens(e,t,i,n){const s=this._tokens,r=this._tokenCount;let a=0,l=!1,d=0;for(let u=0;u<r;u++){const m=4*u,C=s[m],S=s[m+1],M=s[m+2],j=s[m+3];if((C>e||C===e&&M>=t)&&(C<i||C===i&&S<=n))l=!0;else{if(0===a&&(d=C),l){const J=4*a;s[J]=C-d,s[J+1]=S,s[J+2]=M,s[J+3]=j}a++}}return this._tokenCount=a,d}split(e,t,i,n){const s=this._tokens,r=this._tokenCount,a=[],l=[];let d=a,u=0,m=0;for(let C=0;C<r;C++){const S=4*C,M=s[S],j=s[S+1],J=s[S+2],ne=s[S+3];if(M>e||M===e&&J>=t){if(M<i||M===i&&j<=n)continue;d!==l&&(d=l,u=0,m=M)}d[u++]=M-m,d[u++]=j,d[u++]=J,d[u++]=ne}return[new Dc(new Uint32Array(a)),new Dc(new Uint32Array(l)),m]}acceptDeleteRange(e,t,i,n,s){const r=this._tokens,a=this._tokenCount,l=n-t;let d=0,u=!1;for(let m=0;m<a;m++){const C=4*m;let S=r[C],M=r[C+1],j=r[C+2];const J=r[C+3];if(S<t||S===t&&j<=i){d++;continue}if(S===t&&M<i)S===n&&j>s?j-=s-i:j=i;else if(S===t&&M===i){if(!(S===n&&j>s)){u=!0;continue}j-=s-i}else if(S<n||S===n&&M<s){if(!(S===n&&j>s)){u=!0;continue}S===t?(M=i,j=M+(j-s)):(M=0,j=M+(j-s))}else if(S>n){if(0===l&&!u){d=a;break}S-=l}else{if(!(S===n&&M>=s))throw new Error("Not possible!");e&&0===S&&(M+=e,j+=e),S-=l,M-=s-i,j-=s-i}const ne=4*d;r[ne]=S,r[ne+1]=M,r[ne+2]=j,r[ne+3]=J,d++}this._tokenCount=d}acceptInsertText(e,t,i,n,s,r){const a=0===i&&1===n&&(r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122),l=this._tokens,d=this._tokenCount;for(let u=0;u<d;u++){const m=4*u;let C=l[m],S=l[m+1],M=l[m+2];if(!(C<e||C===e&&M<t)){if(C===e&&M===t){if(!a)continue;M+=1}else if(C===e&&S<t&&t<M)0===i?M+=n:M=t;else{if(C===e&&S===t&&a)continue;if(C===e)if(C+=i,0===i)S+=n,M+=n;else{const j=M-S;S=s+(S-t),M=S+j}else C+=i}l[m]=C,l[m+1]=S,l[m+2]=M}}}}class Tm{constructor(e){this._tokens=e}getCount(){return this._tokens.length/4}getStartCharacter(e){return this._tokens[4*e+1]}getEndCharacter(e){return this._tokens[4*e+2]}getMetadata(e){return this._tokens[4*e+3]}}var Fh=function(o,e){return function(t,i){e(t,i,o)}};let Wh=class{constructor(e,t,i,n){this._legend=e,this._themeService=t,this._languageService=i,this._logService=n,this._hashTable=new wv,this._hasWarnedOverlappingTokens=!1}getMetadata(e,t,i){const n=this._languageService.languageIdCodec.encodeLanguageId(i),s=this._hashTable.get(e,t,n);let r;if(s)r=s.metadata,this._logService.getLevel()===dn.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${rt.NX.getForeground(r)}, fontStyle ${rt.NX.getFontStyle(r).toString(2)}`);else{let a=this._legend.tokenTypes[e];const l=[];if(a){let d=t;for(let m=0;d>0&&m<this._legend.tokenModifiers.length;m++)1&d&&l.push(this._legend.tokenModifiers[m]),d>>=1;d>0&&this._logService.getLevel()===dn.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),l.push("not-in-legend"));const u=this._themeService.getColorTheme().getTokenStyleMetadata(a,l,i);void 0===u?r=2147483647:(r=0,void 0!==u.italic&&(r|=(u.italic?1:0)<<10|1),void 0!==u.bold&&(r|=(u.bold?2:0)<<10|2),void 0!==u.underline&&(r|=(u.underline?4:0)<<10|4),void 0!==u.strikethrough&&(r|=(u.strikethrough?8:0)<<10|8),u.foreground&&(r|=u.foreground<<14|16),0===r&&(r=2147483647))}else this._logService.getLevel()===dn.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),r=2147483647,a="not-in-legend";this._hashTable.add(e,t,n,r),this._logService.getLevel()===dn.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${a}) / ${t} (${l.join(" ")}): foreground ${rt.NX.getForeground(r)}, fontStyle ${rt.NX.getFontStyle(r).toString(2)}`)}return r}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}};Wh=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([Fh(1,Ut.XE),Fh(2,je.O),Fh(3,dn.VZ)],Wh);class vv{constructor(e,t,i,n){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=i,this.metadata=n,this.next=null}}let wv=(()=>{class o{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=o._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<o._SIZES.length?2/3*this._currentLength:0),this._elements=[],o._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(t,i){for(let n=0;n<i;n++)t[n]=null}_hash2(t,i){return(t<<5)-t+i|0}_hashFunc(t,i,n){return this._hash2(this._hash2(t,i),n)%this._currentLength}get(t,i,n){const s=this._hashFunc(t,i,n);let r=this._elements[s];for(;r;){if(r.tokenTypeIndex===t&&r.tokenModifierSet===i&&r.languageId===n)return r;r=r.next}return null}add(t,i,n,s){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const r=this._elements;this._currentLengthIndex++,this._currentLength=o._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<o._SIZES.length?2/3*this._currentLength:0),this._elements=[],o._nullOutEntries(this._elements,this._currentLength);for(const a of r){let l=a;for(;l;){const d=l.next;l.next=null,this._add(l),l=d}}}this._add(new vv(t,i,n,s))}_add(t){const i=this._hashFunc(t.tokenTypeIndex,t.tokenModifierSet,t.languageId);t.next=this._elements[i],this._elements[i]=t}}return o._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143],o})();function Mm(o){const e=new Uint32Array(function Lv(o){let e=0;if(e+=2,"full"===o.type)e+=1+o.data.length;else{e+=1,e+=3*o.deltas.length;for(const t of o.deltas)t.data&&(e+=t.data.length)}return e}(o));let t=0;if(e[t++]=o.id,"full"===o.type)e[t++]=1,e[t++]=o.data.length,e.set(o.data,t),t+=o.data.length;else{e[t++]=2,e[t++]=o.deltas.length;for(const i of o.deltas)e[t++]=i.start,e[t++]=i.deleteCount,i.data?(e[t++]=i.data.length,e.set(i.data,t),t+=i.data.length):e[t++]=0}return function yv(o){const e=new Uint8Array(o.buffer,o.byteOffset,4*o.length);return h.r()||function Sv(o){for(let e=0,t=o.length;e<t;e+=4){const i=o[e+0],n=o[e+1],s=o[e+2];o[e+0]=o[e+3],o[e+1]=s,o[e+2]=n,o[e+3]=i}}(e),Lm.KN.wrap(e)}(e)}var Ko=function(o,e,t,i){return new(t||(t=Promise))(function(s,r){function a(u){try{d(i.next(u))}catch(m){r(m)}}function l(u){try{d(i.throw(u))}catch(m){r(m)}}function d(u){u.done?s(u.value):function n(s){return s instanceof t?s:new t(function(r){r(s)})}(u.value).then(a,l)}d((i=i.apply(o,e||[])).next())})};function kc(o){return o&&!!o.data}function Rm(o){return o&&Array.isArray(o.edits)}class Ev{constructor(e,t,i){this.provider=e,this.tokens=t,this.error=i}}function Om(o){return rt.wT.has(o)}function Am(o,e,t,i){return Ko(this,void 0,void 0,function*(){const n=function xv(o){const e=rt.wT.orderedGroups(o);return e.length>0?e[0]:[]}(o),s=yield Promise.all(n.map(r=>Ko(this,void 0,void 0,function*(){let a,l=null;try{a=yield r.provideDocumentSemanticTokens(o,r===e?t:null,i)}catch(d){l=d,a=null}return(!a||!kc(a)&&!Rm(a))&&(a=null),new Ev(r,a,l)})));for(const r of s){if(r.error)throw r.error;if(r.tokens)return r}return s.length>0?s[0]:null})}class Iv{constructor(e,t){this.provider=e,this.tokens=t}}function Pm(o){const e=rt.K7.orderedGroups(o);return e.length>0?e[0]:[]}function Bm(o,e,t){return Ko(this,void 0,void 0,function*(){const i=Pm(o),n=yield Promise.all(i.map(s=>Ko(this,void 0,void 0,function*(){let r;try{r=yield s.provideDocumentRangeSemanticTokens(o,e,t)}catch(a){(0,he.Cp)(a),r=null}return(!r||!kc(r))&&(r=null),new Iv(s,r)})));for(const s of n)if(s.tokens)return s;return n.length>0?n[0]:null})}Hi.P0.registerCommand("_provideDocumentSemanticTokensLegend",(o,...e)=>Ko(void 0,void 0,void 0,function*(){const[t]=e;(0,be.p_)(t instanceof ri.o);const i=o.get(Q.q).getModel(t);if(!i)return;const n=function Nv(o){const e=rt.wT.orderedGroups(o);return e.length>0?e[0]:null}(i);return n?n[0].getLegend():o.get(Hi.Hy).executeCommand("_provideDocumentRangeSemanticTokensLegend",t)})),Hi.P0.registerCommand("_provideDocumentSemanticTokens",(o,...e)=>Ko(void 0,void 0,void 0,function*(){const[t]=e;(0,be.p_)(t instanceof ri.o);const i=o.get(Q.q).getModel(t);if(!i)return;if(!Om(i))return o.get(Hi.Hy).executeCommand("_provideDocumentRangeSemanticTokens",t,i.getFullModelRange());const n=yield Am(i,null,null,fi.T.None);if(!n)return;const{provider:s,tokens:r}=n;if(!r||!kc(r))return;const a=Mm({id:0,type:"full",data:r.data});return r.resultId&&s.releaseDocumentSemanticTokens(r.resultId),a})),Hi.P0.registerCommand("_provideDocumentRangeSemanticTokensLegend",(o,...e)=>Ko(void 0,void 0,void 0,function*(){const[t,i]=e;(0,be.p_)(t instanceof ri.o);const n=o.get(Q.q).getModel(t);if(!n)return;const s=Pm(n);if(0===s.length)return;if(1===s.length)return s[0].getLegend();if(!i||!Ze.e.isIRange(i))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),s[0].getLegend();const r=yield Bm(n,Ze.e.lift(i),fi.T.None);return r?r.provider.getLegend():void 0})),Hi.P0.registerCommand("_provideDocumentRangeSemanticTokens",(o,...e)=>Ko(void 0,void 0,void 0,function*(){const[t,i]=e;(0,be.p_)(t instanceof ri.o),(0,be.p_)(Ze.e.isIRange(i));const n=o.get(Q.q).getModel(t);if(!n)return;const s=yield Bm(n,Ze.e.lift(i),fi.T.None);return s&&s.tokens?Mm({id:0,type:"full",data:s.tokens.data}):void 0}));var Vh=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},is=function(o,e){return function(t,i){e(t,i,o)}};function $o(o){return o.toString()}function Fm(o){const e=new Fn,t=o.createSnapshot();let i;for(;i=t.read();)e.update(i);return e.digest()}class Dv{constructor(e,t,i){this._modelEventListeners=new ze.SL,this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(n=>i(e,n)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(e){this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(e.languageId)),this.model.setMode(e.languageId)}}const kv=h.IJ||h.dz?1:2;class Tv{constructor(e,t,i,n,s,r,a,l){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=n,this.heapSize=s,this.sha1=r,this.versionId=a,this.alternativeVersionId=l}}let Tc=class pl extends ze.JT{constructor(e,t,i,n,s,r,a,l){super(),this._configurationService=e,this._resourcePropertiesService=t,this._themeService=i,this._logService=n,this._undoRedoService=s,this._languageService=r,this._languageConfigurationService=a,this._languageFeatureDebounceService=l,this._onModelAdded=this._register(new Be.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new Be.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new Be.Q5),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new Mv(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new Hh(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService))}static _readModelOptions(e,t){var i;let n=Z.D.tabSize;if(e.editor&&void 0!==e.editor.tabSize){const S=parseInt(e.editor.tabSize,10);isNaN(S)||(n=S),n<1&&(n=1)}let s=n;if(e.editor&&void 0!==e.editor.indentSize&&"tabSize"!==e.editor.indentSize){const S=parseInt(e.editor.indentSize,10);isNaN(S)||(s=S),s<1&&(s=1)}let r=Z.D.insertSpaces;e.editor&&void 0!==e.editor.insertSpaces&&(r="false"!==e.editor.insertSpaces&&Boolean(e.editor.insertSpaces));let a=kv;const l=e.eol;"\r\n"===l?a=2:"\n"===l&&(a=1);let d=Z.D.trimAutoWhitespace;e.editor&&void 0!==e.editor.trimAutoWhitespace&&(d="false"!==e.editor.trimAutoWhitespace&&Boolean(e.editor.trimAutoWhitespace));let u=Z.D.detectIndentation;e.editor&&void 0!==e.editor.detectIndentation&&(u="false"!==e.editor.detectIndentation&&Boolean(e.editor.detectIndentation));let m=Z.D.largeFileOptimizations;e.editor&&void 0!==e.editor.largeFileOptimizations&&(m="false"!==e.editor.largeFileOptimizations&&Boolean(e.editor.largeFileOptimizations));let C=Z.D.bracketPairColorizationOptions;return(null===(i=e.editor)||void 0===i?void 0:i.bracketPairColorization)&&"object"==typeof e.editor.bracketPairColorization&&(C={enabled:!!e.editor.bracketPairColorization.enabled}),{isForSimpleWidget:t,tabSize:n,indentSize:s,insertSpaces:r,detectIndentation:u,defaultEOL:a,trimAutoWhitespace:d,largeFileOptimizations:m,bracketPairColorizationOptions:C}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&"string"==typeof i&&"auto"!==i?i:3===h.OS||2===h.OS?"\n":"\r\n"}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof e||e}getCreationOptions(e,t,i){let n=this._modelCreationOptionsByLanguageAndResource[e+t];if(!n){const s=this._configurationService.getValue("editor",{overrideIdentifier:e,resource:t}),r=this._getEOL(t,e);n=pl._readModelOptions({editor:s,eol:r},i),this._modelCreationOptionsByLanguageAndResource[e+t]=n}return n}_updateModelOptions(){const e=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const t=Object.keys(this._models);for(let i=0,n=t.length;i<n;i++){const r=this._models[t[i]],a=r.model.getLanguageId(),l=r.model.uri,d=e[a+l],u=this.getCreationOptions(a,l,r.model.isForSimpleWidget);pl._setModelOptionsForModel(r.model,u,d)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&1===e.getLineCount()&&e.setEOL(1===t.defaultEOL?0:1),(!i||i.detectIndentation!==t.detectIndentation||i.insertSpaces!==t.insertSpaces||i.tabSize!==t.tabSize||i.indentSize!==t.indentSize||i.trimAutoWhitespace!==t.trimAutoWhitespace||!(0,v.fS)(i.bracketPairColorizationOptions,t.bracketPairColorizationOptions))&&(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set($o(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get($o(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete($o(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach(i=>{i.sharesUndoRedoStack||t.push(i)}),t.sort((i,n)=>i.time-n.time);t.length>0&&this._disposedModelsHeapSize>e;){const i=t.shift();this._removeDisposedModel(i.uri),null!==i.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(i.initialUndoRedoSnapshot)}}}_createModelData(e,t,i,n){const s=this.getCreationOptions(t,i,n),r=new ys.yO(e,t,s,i,this._undoRedoService,this._languageService,this._languageConfigurationService);if(i&&this._disposedModels.has($o(i))){const d=this._removeDisposedModel(i),u=this._undoRedoService.getElements(i),m=Fm(r)===d.sha1;if(m||d.sharesUndoRedoStack){for(const C of u.past)(0,ha.e9)(C)&&C.matchesResource(i)&&C.setModel(r);for(const C of u.future)(0,ha.e9)(C)&&C.matchesResource(i)&&C.setModel(r);this._undoRedoService.setElementsValidFlag(i,!0,C=>(0,ha.e9)(C)&&C.matchesResource(i)),m&&(r._overwriteVersionId(d.versionId),r._overwriteAlternativeVersionId(d.alternativeVersionId),r._overwriteInitialUndoRedoSnapshot(d.initialUndoRedoSnapshot))}else null!==d.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(d.initialUndoRedoSnapshot)}const a=$o(r.uri);if(this._models[a])throw new Error("ModelService: Cannot add model because it already exists!");const l=new Dv(r,d=>this._onWillDispose(d),(d,u)=>this._onDidChangeLanguage(d,u));return this._models[a]=l,l}createModel(e,t,i,n=!1){let s;return t?(s=this._createModelData(e,t.languageId,i,n),this.setMode(s.model,t)):s=this._createModelData(e,hr,i,n),this._onModelAdded.fire(s.model),s.model}setMode(e,t){if(!t)return;const i=this._models[$o(e.uri)];!i||i.setLanguage(t)}getModels(){const e=[],t=Object.keys(this._models);for(let i=0,n=t.length;i<n;i++)e.push(this._models[t[i]].model);return e}getModel(e){const t=$o(e),i=this._models[t];return i?i.model:null}getSemanticTokensProviderStyling(e){return this._semanticStyling.get(e)}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===Ki.lg.file||e.scheme===Ki.lg.vscodeRemote||e.scheme===Ki.lg.userData||e.scheme===Ki.lg.vscodeNotebookCell||"fake-fs"===e.scheme}_onWillDispose(e){const t=$o(e.uri),i=this._models[t],n=this._undoRedoService.getUriComparisonKey(e.uri)!==e.uri.toString();let s=!1,r=0;if(n||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(e.uri)){const l=this._undoRedoService.getElements(e.uri);if(l.past.length>0||l.future.length>0){for(const d of l.past)(0,ha.e9)(d)&&d.matchesResource(e.uri)&&(s=!0,r+=d.heapSize(e.uri),d.setModel(e.uri));for(const d of l.future)(0,ha.e9)(d)&&d.matchesResource(e.uri)&&(s=!0,r+=d.heapSize(e.uri),d.setModel(e.uri))}}const a=pl.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(s)if(!n&&r>a){const l=i.model.getInitialUndoRedoSnapshot();null!==l&&this._undoRedoService.restoreSnapshot(l)}else this._ensureDisposedModelsHeapSize(a-r),this._undoRedoService.setElementsValidFlag(e.uri,!1,l=>(0,ha.e9)(l)&&l.matchesResource(e.uri)),this._insertDisposedModel(new Tv(e.uri,i.model.getInitialUndoRedoSnapshot(),Date.now(),n,r,Fm(e),e.getVersionId(),e.getAlternativeVersionId()));else if(!n){const l=i.model.getInitialUndoRedoSnapshot();null!==l&&this._undoRedoService.restoreSnapshot(l)}delete this._models[t],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageId()+e.uri],this._onModelRemoved.fire(e)}_onDidChangeLanguage(e,t){const i=t.oldLanguage,n=e.getLanguageId(),s=this.getCreationOptions(i,e.uri,e.isForSimpleWidget),r=this.getCreationOptions(n,e.uri,e.isForSimpleWidget);pl._setModelOptionsForModel(e,r,s),this._onModelModeChanged.fire({model:e,oldLanguageId:i})}};Tc.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,Tc=Vh([is(0,zi.Ui),is(1,vs),is(2,Ut.XE),is(3,dn.VZ),is(4,Xs.tJ),is(5,je.O),is(6,an.c_),is(7,lc)],Tc);const Wm="editor.semanticHighlighting";function Vm(o,e,t){var i;const n=null===(i=t.getValue(Wm,{overrideIdentifier:o.getLanguageId(),resource:o.uri}))||void 0===i?void 0:i.enabled;return"boolean"==typeof n?n:e.getColorTheme().semanticHighlighting}let Hh=class extends ze.JT{constructor(e,t,i,n,s){super(),this._watchers=Object.create(null),this._semanticStyling=e;const r=d=>{this._watchers[d.uri.toString()]=new ol(d,this._semanticStyling,i,s)},a=(d,u)=>{u.dispose(),delete this._watchers[d.uri.toString()]},l=()=>{for(let d of t.getModels()){const u=this._watchers[d.uri.toString()];Vm(d,i,n)?u||r(d):u&&a(d,u)}};this._register(t.onModelAdded(d=>{Vm(d,i,n)&&r(d)})),this._register(t.onModelRemoved(d=>{const u=this._watchers[d.uri.toString()];u&&a(d,u)})),this._register(n.onDidChangeConfiguration(d=>{d.affectsConfiguration(Wm)&&l()})),this._register(i.onDidColorThemeChange(l))}};Hh=Vh([is(1,Q.q),is(2,Ut.XE),is(3,zi.Ui),is(4,lc)],Hh);class Mv extends ze.JT{constructor(e,t,i){super(),this._themeService=e,this._languageService=t,this._logService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(e){return this._caches.has(e)||this._caches.set(e,new Wh(e.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(e)}}class Rv{constructor(e,t,i){this.provider=e,this.resultId=t,this.data=i}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let ol=class Dr extends ze.JT{constructor(e,t,i,n){super(),this._isDisposed=!1,this._model=e,this._semanticStyling=t,this._debounceInformation=n.for(rt.wT,"DocumentSemanticTokens",{min:Dr.REQUEST_MIN_DELAY,max:Dr.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new se.pY(()=>this._fetchDocumentSemanticTokensNow(),Dr.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const s=()=>{(0,ze.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const r of rt.wT.all(e))"function"==typeof r.onDidChange&&this._documentProvidersChangeListeners.push(r.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};s(),this._register(rt.wT.onDidChange(()=>{s(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(i.onDidColorThemeChange(r=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!Om(this._model))return void(this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1));const e=new fi.A,n=Am(this._model,this._currentDocumentResponse?this._currentDocumentResponse.provider:null,this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,e.token);this._currentDocumentRequestCancellationTokenSource=e;const s=[],r=this._model.onDidChangeContent(l=>{s.push(l)}),a=new nt.G(!1);n.then(l=>{if(this._debounceInformation.update(this._model,a.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,r.dispose(),l){const{provider:d,tokens:u}=l,m=this._semanticStyling.get(d);this._setDocumentSemanticTokens(d,u||null,m,s)}else this._setDocumentSemanticTokens(null,null,null,s)},l=>{l&&(he.n2(l)||"string"==typeof l.message&&-1!==l.message.indexOf("busy"))||he.dL(l),this._currentDocumentRequestCancellationTokenSource=null,r.dispose(),s.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(e,t,i,n,s){for(let r=0;r<s;r++)i[n+r]=e[t+r]}_setDocumentSemanticTokens(e,t,i,n){const s=this._currentDocumentResponse,r=()=>{n.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)e&&t&&e.releaseDocumentSemanticTokens(t.resultId);else if(e&&i){if(!t)return this._model.setSemanticTokens(null,!0),void r();if(Rm(t)){if(!s)return void this._model.setSemanticTokens(null,!0);if(0===t.edits.length)t={resultId:t.resultId,data:s.data};else{let a=0;for(const C of t.edits)a+=(C.data?C.data.length:0)-C.deleteCount;const l=s.data,d=new Uint32Array(l.length+a);let u=l.length,m=d.length;for(let C=t.edits.length-1;C>=0;C--){const S=t.edits[C],M=u-(S.start+S.deleteCount);M>0&&(Dr._copy(l,u-M,d,m-M,M),m-=M),S.data&&(Dr._copy(S.data,0,d,m-S.data.length,S.data.length),m-=S.data.length),u=S.start}u>0&&Dr._copy(l,0,d,0,u),t={resultId:t.resultId,data:d}}}if(kc(t)){this._currentDocumentResponse=new Rv(e,t.resultId,t.data);const a=function bv(o,e,t){const i=o.data,n=o.data.length/5|0,s=Math.max(Math.ceil(n/1024),400),r=[];let a=0,l=1,d=0;for(;a<n;){const u=a;let m=Math.min(u+s,n);if(m<n){let le=m;for(;le-1>u&&0===i[5*le];)le--;if(le-1===u){let Ce=m;for(;Ce+1<n&&0===i[5*Ce];)Ce++;m=Ce}else m=le}let C=new Uint32Array(4*(m-u)),S=0,M=0,j=0,J=0,ne=0;for(;a<m;){const le=5*a,Ce=i[le],ke=i[le+1],Ne=l+Ce|0,ve=0===Ce?d+ke|0:ke,pe=i[le+2],Pe=e.getMetadata(i[le+3],i[le+4],t);2147483647!==Pe&&(0===M&&(M=Ne),j===Ne&&ne>ve&&(e.warnOverlappingSemanticTokens(Ne,ve+1),J<ve?C[S-4+2]=ve:S-=4),C[S]=Ne-M,C[S+1]=ve,C[S+2]=ve+pe,C[S+3]=Pe,S+=4,j=Ne,J=ve,ne=ve+pe),l=Ne,d=ve,a++}S!==C.length&&(C=C.subarray(0,S));const X=sl.create(M,C);r.push(X)}return r}(t,i,this._model.getLanguageId());if(n.length>0)for(const l of n)for(const d of a)for(const u of l.changes)d.applyEdit(u.range,u.text);this._model.setSemanticTokens(a,!0)}else this._model.setSemanticTokens(null,!0);r()}else this._model.setSemanticTokens(null,!1)}};ol.REQUEST_MIN_DELAY=300,ol.REQUEST_MAX_DELAY=2e3,ol=Vh([is(2,Ut.XE),is(3,lc)],ol),L(85775);const Ov=new RegExp(`(\\\\)?\\$\\((${ki.dT.iconNameExpression}(?:${ki.dT.iconModifierExpression})?)\\)`,"g");function rl(o){const e=new Array;let t,i=0,n=0;for(;null!==(t=Ov.exec(o));){n=t.index||0,e.push(o.substring(i,n)),i=(t.index||0)+t[0].length;const[,s,r]=t;e.push(s?`$(${r})`:Av({id:r}))}return i<o.length&&e.push(o.substring(i)),e}function Av(o){const e=ue.$("span");return e.classList.add(...ki.dT.asClassNameArray(o)),e}L(38620);const Pv={buttonBackground:Oi.Il.fromHex("#0E639C"),buttonHoverBackground:Oi.Il.fromHex("#006BB3"),buttonForeground:Oi.Il.white};class Hm extends ze.JT{constructor(e,t){super(),this._onDidClick=this._register(new Be.Q5),this.options=t||Object.create(null),(0,v.jB)(this.options,Pv,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),e.appendChild(this._element),this._register(Qi.o.addTarget(this._element)),[ue.tw.CLICK,Qi.t.Tap].forEach(i=>{this._register((0,ue.nm)(this._element,i,n=>{this.enabled?this._onDidClick.fire(n):ue.zB.stop(n)}))}),this._register((0,ue.nm)(this._element,ue.tw.KEY_DOWN,i=>{const n=new hn.y(i);let s=!1;this.enabled&&(n.equals(3)||n.equals(10))?(this._onDidClick.fire(i),s=!0):n.equals(9)&&(this._element.blur(),s=!0),s&&ue.zB.stop(n,!0)})),this._register((0,ue.nm)(this._element,ue.tw.MOUSE_OVER,i=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,ue.nm)(this._element,ue.tw.MOUSE_OUT,i=>{this.applyStyles()})),this.focusTracker=this._register((0,ue.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let e;e=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null,e&&(this._element.style.backgroundColor=e)}style(e){this.buttonForeground=e.buttonForeground,this.buttonBackground=e.buttonBackground,this.buttonHoverBackground=e.buttonHoverBackground,this.buttonSecondaryForeground=e.buttonSecondaryForeground,this.buttonSecondaryBackground=e.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=e.buttonSecondaryHoverBackground,this.buttonBorder=e.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let e,t;this.options.secondary?(t=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",e=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(t=this.buttonForeground?this.buttonForeground.toString():"",e=this.buttonBackground?this.buttonBackground.toString():"");const i=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=t,this._element.style.backgroundColor=e,this._element.style.borderWidth=i?"1px":"",this._element.style.borderStyle=i?"solid":"",this._element.style.borderColor=i}}get element(){return this._element}set label(e){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,ue.mc)(this._element,...rl(e)):this._element.textContent=e,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=e)}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}L(93667);const Bv={badgeBackground:Oi.Il.fromHex("#4D4D4D"),badgeForeground:Oi.Il.fromHex("#FFFFFF")};class zm{constructor(e,t){this.count=0,this.options=t||Object.create(null),(0,v.jB)(this.options,Bv,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,ue.R3)(e,(0,ue.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){this.element.textContent=(0,ut.WU)(this.countFormat,this.count),this.element.title=(0,ut.WU)(this.titleFormat,this.count),this.applyStyles()}style(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const e=this.badgeBackground?this.badgeBackground.toString():"",t=this.badgeForeground?this.badgeForeground.toString():"",i=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}}}L(71693);const zh="infinite",Uh="infinite-long-running",Km="discrete",Fv={progressBarBackground:Oi.Il.fromHex("#0E70C0")};let Wv=(()=>{class o extends ze.JT{constructor(t,i){super(),this.options=i||Object.create(null),(0,v.jB)(this.options,Fv,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new se.pY(()=>(0,ue.$Z)(this.element),0)),this.longRunningScheduler=this._register(new se.pY(()=>this.infiniteLongRunning(),o.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(t)}create(t){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),t.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove("active",zh,Uh,Km),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(t){return this.element.classList.add("done"),this.element.classList.contains(zh)?(this.bit.style.opacity="0",t?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",t?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(Km,"done",Uh),this.element.classList.add("active",zh),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(Uh)}getContainer(){return this.element}style(t){this.progressBarBackground=t.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const t=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=t}}}return o.LONG_RUNNING_INFINITE_THRESHOLD=1e4,o})();class $m{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}new $m("id#"),L(12083);const jh={},Vv=new $m("quick-input-button-icon-");function Kh(o){if(!o)return;let e;const t=o.dark.toString();return jh[t]?e=jh[t]:(e=Vv.nextId(),ue.fk(`.${e}`,`background-image: ${ue.wY(o.light||o.dark)}`),ue.fk(`.vs-dark .${e}, .hc-black .${e}`,`background-image: ${ue.wY(o.dark)}`),jh[t]=e),e}const Hv={ctrlCmd:!1,alt:!1};var ua=(()=>(function(o){o[o.Blur=1]="Blur",o[o.Gesture=2]="Gesture",o[o.Other=3]="Other"}(ua||(ua={})),ua))(),xs=(()=>(function(o){o[o.NONE=0]="NONE",o[o.FIRST=1]="FIRST",o[o.SECOND=2]="SECOND",o[o.LAST=3]="LAST"}(xs||(xs={})),xs))();new class zv{constructor(e){this.options=e}};var Uv=L(64786);const jv=ue.$;class Kv extends ze.JT{constructor(e){super(),this.parent=e,this.onKeyDown=t=>ue.nm(this.inputBox.inputElement,ue.tw.KEY_DOWN,i=>{t(new hn.y(i))}),this.onMouseDown=t=>ue.nm(this.inputBox.inputElement,ue.tw.MOUSE_DOWN,i=>{t(new Da.n(i))}),this.onDidChange=t=>this.inputBox.onDidChange(t),this.container=ue.R3(this.parent,jv(".quick-input-box")),this.inputBox=this._register(new Uv.W(this.container,void 0))}get value(){return this.inputBox.value}set value(e){this.inputBox.value=e}select(e=null){this.inputBox.select(e)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.inputBox.setPlaceHolder(e)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(e){this.inputBox.setAriaLabel(e)}get password(){return"password"===this.inputBox.inputElement.type}set password(e){this.inputBox.inputElement.type=e?"password":"text"}setAttribute(e,t){this.inputBox.inputElement.setAttribute(e,t)}removeAttribute(e){this.inputBox.inputElement.removeAttribute(e)}showDecoration(e){e===Xi.Z.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:e===Xi.Z.Info?1:e===Xi.Z.Warning?2:3,content:""})}stylesForType(e){return this.inputBox.stylesForType(e===Xi.Z.Info?1:e===Xi.Z.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(e){this.inputBox.style(e)}}class fa{constructor(e,t){var i;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=null!==(i=null==t?void 0:t.supportIcons)&&void 0!==i&&i,this.domNode=ue.R3(e,ue.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(e,t=[],i="",n){e||(e=""),n&&(e=fa.escapeNewLines(e,t)),(!this.didEverRender||this.text!==e||this.title!==i||!v.fS(this.highlights,t))&&(this.text=e,this.title=i,this.highlights=t,this.render())}render(){const e=[];let t=0;for(const i of this.highlights){if(i.end===i.start)continue;if(t<i.start){const r=this.text.substring(t,i.start);e.push(ue.$("span",void 0,...this.supportIcons?rl(r):[r])),t=i.end}const n=this.text.substring(i.start,i.end),s=ue.$("span.highlight",void 0,...this.supportIcons?rl(n):[n]);i.extraClasses&&s.classList.add(...i.extraClasses),e.push(s),t=i.end}if(t<this.text.length){const i=this.text.substring(t);e.push(ue.$("span",void 0,...this.supportIcons?rl(i):[i]))}ue.mc(this.domNode,...e),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(e,t){let i=0,n=0;return e.replace(/\r\n|\r|\n/g,(s,r)=>{n="\r\n"===s?-1:0,r+=i;for(const a of t)a.end<=r||(a.start>=r&&(a.start+=n),a.end>=r&&(a.end+=n));return i+=n,"\u23ce"})}}var $h=function(o,e,t,i){return new(t||(t=Promise))(function(s,r){function a(u){try{d(i.next(u))}catch(m){r(m)}}function l(u){try{d(i.throw(u))}catch(m){r(m)}}function d(u){u.done?s(u.value):function n(s){return s instanceof t?s:new t(function(r){r(s)})}(u.value).then(a,l)}d((i=i.apply(o,e||[])).next())})};class Yv{constructor(e,t,i){this.hoverDelegate=e,this.target=t,this.fadeInAnimation=i}update(e,t){var i;return $h(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let n;if(void 0===e||(0,be.HD)(e)||e instanceof HTMLElement)n=e;else if((0,be.mf)(e.markdown)){this._hoverWidget||this.show((0,_.N)("iconLabel.loading","Loading..."),t),this._cancellationTokenSource=new fi.A;const s=this._cancellationTokenSource.token;if(n=yield e.markdown(s),this.isDisposed||s.isCancellationRequested)return}else n=null!==(i=e.markdown)&&void 0!==i?i:e.markdownNotSupportedFallback;this.show(n,t)})}show(e,t){const i=this._hoverWidget;this.hasContent(e)&&(this._hoverWidget=this.hoverDelegate.showHover({content:e,target:this.target,showPointer:"element"===this.hoverDelegate.placement,hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!i},t)),null==i||i.dispose()}hasContent(e){return!(!e||function Gm(o){return o instanceof class $v{constructor(e="",t=!1){var i,n,s;if(this.value=e,"string"!=typeof this.value)throw(0,he.b1)("value");"boolean"==typeof t?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=null!==(i=t.isTrusted)&&void 0!==i?i:void 0,this.supportThemeIcons=null!==(n=t.supportThemeIcons)&&void 0!==n&&n,this.supportHtml=null!==(s=t.supportHtml)&&void 0!==s&&s)}appendText(e,t=0){return this.value+=function Zv(o){return o.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}(this.supportThemeIcons?function nv(o){return o.replace(iv,(e,t)=>t?e:`\\${e}`)}(e):e).replace(/([ \t]+)/g,(i,n)=>"&nbsp;".repeat(n.length)).replace(/\>/gm,"\\>").replace(/\n/g,1===t?"\\\n":"\n\n"),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+="\n```",this.value+=e,this.value+="\n",this.value+=t,this.value+="\n```\n",this}}||!(!o||"object"!=typeof o)&&!("string"!=typeof o.value||"boolean"!=typeof o.isTrusted&&void 0!==o.isTrusted||"boolean"!=typeof o.supportThemeIcons&&void 0!==o.supportThemeIcons)}(e)&&!e.value)}get isDisposed(){var e;return null===(e=this._hoverWidget)||void 0===e?void 0:e.isDisposed}dispose(){var e,t;null===(e=this._hoverWidget)||void 0===e||e.dispose(),null===(t=this._cancellationTokenSource)||void 0===t||t.dispose(!0),this._cancellationTokenSource=void 0}}L(9141);class Gh{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set className(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}}class Zm extends ze.JT{constructor(e,t){super(),this.customHovers=new Map,this.domNode=this._register(new Gh(ue.R3(e,ue.$(".monaco-icon-label")))),this.labelContainer=ue.R3(this.domNode.element,ue.$(".monaco-icon-label-container"));const i=ue.R3(this.labelContainer,ue.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new Gh(ue.R3(this.labelContainer,ue.$("span.monaco-icon-description-container")))),this.nameNode=(null==t?void 0:t.supportHighlights)||(null==t?void 0:t.supportIcons)?new ew(i,!!t.supportIcons):new Xv(i),this.descriptionNodeFactory=(null==t?void 0:t.supportDescriptionHighlights)?()=>new fa(ue.R3(this.descriptionContainer.element,ue.$("span.label-description")),{supportIcons:!!t.supportIcons}):()=>this._register(new Gh(ue.R3(this.descriptionContainer.element,ue.$("span.label-description")))),this.hoverDelegate=null==t?void 0:t.hoverDelegate}get element(){return this.domNode.element}setLabel(e,t,i){const n=["monaco-icon-label"];i&&(i.extraClasses&&n.push(...i.extraClasses),i.italic&&n.push("italic"),i.strikethrough&&n.push("strikethrough")),this.domNode.className=n.join(" "),this.setupHover((null==i?void 0:i.descriptionTitle)?this.labelContainer:this.element,null==i?void 0:i.title),this.nameNode.setLabel(e,i),(t||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof fa?(this.descriptionNode.set(t||"",i?i.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,null==i?void 0:i.descriptionTitle)):(this.descriptionNode.textContent=t||"",this.setupHover(this.descriptionNode.element,(null==i?void 0:i.descriptionTitle)||""),this.descriptionNode.empty=!t))}setupHover(e,t){const i=this.customHovers.get(e);if(i&&(i.dispose(),this.customHovers.delete(e)),t)if(this.hoverDelegate){const n=function Qv(o,e,t){let i,n;const s=(u,m)=>{var C;u&&(null==n||n.dispose(),n=void 0),m&&(null==i||i.dispose(),i=void 0),null===(C=o.onDidHideHover)||void 0===C||C.call(o)},r=(u,m,C)=>new se._F(()=>$h(this,void 0,void 0,function*(){(!n||n.isDisposed)&&(n=new Yv(o,C||e,u>0),yield n.update(t,m))}),u),l=ue.nm(e,ue.tw.MOUSE_OVER,()=>{if(i)return;const u=new ze.SL;u.add(ue.nm(e,ue.tw.MOUSE_LEAVE,M=>s(!1,M.fromElement===e),!0)),u.add(ue.nm(e,ue.tw.MOUSE_DOWN,()=>s(!0,!0),!0));const S={targetElements:[e],dispose:()=>{}};void 0!==o.placement&&"mouse"!==o.placement||u.add(ue.nm(e,ue.tw.MOUSE_MOVE,j=>S.x=j.x+10,!0)),u.add(r(o.delay,!1,S)),i=u},!0);return{show:u=>{s(!1,!0),r(0,u)},hide:()=>{s(!0,!0)},update:u=>$h(this,void 0,void 0,function*(){t=u,yield null==n?void 0:n.update(t)}),dispose:()=>{l.dispose(),s(!0,!0)}}}(this.hoverDelegate,e,t);n&&this.customHovers.set(e,n)}else!function qv(o,e){(0,be.HD)(e)?o.title=Sm(e):(null==e?void 0:e.markdownNotSupportedFallback)?o.title=e.markdownNotSupportedFallback:o.removeAttribute("title")}(e,t);else e.removeAttribute("title")}dispose(){super.dispose();for(const e of this.customHovers.values())e.dispose();this.customHovers.clear()}}class Xv{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!(0,v.fS)(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=ue.R3(this.container,ue.$("a.label-name",{id:null==t?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let i=0;i<e.length;i++)ue.R3(this.container,ue.$("a.label-name",{id:(null==t?void 0:t.domId)&&`${null==t?void 0:t.domId}_${i}`,"data-icon-label-count":e.length,"data-icon-label-index":i,role:"treeitem"},e[i])),i<e.length-1&&ue.R3(this.container,ue.$("span.label-separator",void 0,(null==t?void 0:t.separator)||"/"))}}}class ew{constructor(e,t){this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!(0,v.fS)(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new fa(ue.R3(this.container,ue.$("a.label-name",{id:null==t?void 0:t.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(e,null==t?void 0:t.matches,void 0,null==t?void 0:t.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const i=(null==t?void 0:t.separator)||"/",n=function Jv(o,e,t){if(!t)return;let i=0;return o.map(n=>{const s={start:i,end:i+n.length},r=t.map(a=>pn.intersect(s,a)).filter(a=>!pn.isEmpty(a)).map(({start:a,end:l})=>({start:a-i,end:l-i}));return i=s.end+e.length,r})}(e,i,null==t?void 0:t.matches);for(let s=0;s<e.length;s++){const r=e[s],a=n?n[s]:void 0,d=ue.$("a.label-name",{id:(null==t?void 0:t.domId)&&`${null==t?void 0:t.domId}_${s}`,"data-icon-label-count":e.length,"data-icon-label-index":s,role:"treeitem"});new fa(ue.R3(this.container,d),{supportIcons:this.supportIcons}).set(r,a,void 0,null==t?void 0:t.labelEscapeNewLines),s<e.length-1&&ue.R3(d,ue.$("span.label-separator",void 0,i))}}}}L(20539);const Mc=ue.$;class Zh{constructor(e,t,i){this.os=t,this.keyElements=new Set,this.options=i||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=ue.R3(e,Mc(".monaco-keybinding")),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&Zh.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){if(this.clear(),this.keybinding){let[e,t]=this.keybinding.getParts();e&&this.renderPart(this.domNode,e,this.matches?this.matches.firstPart:null),t&&(ue.R3(this.domNode,Mc("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,t,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){ue.PO(this.domNode),this.keyElements.clear()}renderPart(e,t,i){const n=qg.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,n.ctrlKey,Boolean(null==i?void 0:i.ctrlKey),n.separator),t.shiftKey&&this.renderKey(e,n.shiftKey,Boolean(null==i?void 0:i.shiftKey),n.separator),t.altKey&&this.renderKey(e,n.altKey,Boolean(null==i?void 0:i.altKey),n.separator),t.metaKey&&this.renderKey(e,n.metaKey,Boolean(null==i?void 0:i.metaKey),n.separator);const s=t.keyLabel;s&&this.renderKey(e,s,Boolean(null==i?void 0:i.keyCode),"")}renderKey(e,t,i,n){ue.R3(e,this.createKeyElement(t,i?".highlight":"")),n&&ue.R3(e,Mc("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(e){ue.R3(e,this.createKeyElement((0,_.N)("unbound","Unbound")))}createKeyElement(e,t=""){const i=Mc("span.monaco-keybinding-key"+t,void 0,e);return this.keyElements.add(i),i}style(e){this.labelBackground=e.keybindingLabelBackground,this.labelForeground=e.keybindingLabelForeground,this.labelBorder=e.keybindingLabelBorder,this.labelBottomBorder=e.keybindingLabelBottomBorder,this.labelShadow=e.keybindingLabelShadow,this.applyStyles()}applyStyles(){var e;if(this.element){for(const t of this.keyElements)this.labelBackground&&(t.style.backgroundColor=null===(e=this.labelBackground)||void 0===e?void 0:e.toString()),this.labelBorder&&(t.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(t.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(t.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(e,t){return e===t||!e&&!t||!!e&&!!t&&(0,v.fS)(e.firstPart,t.firstPart)&&(0,v.fS)(e.chordPart,t.chordPart)}}const qm=new se.Ue(()=>{const o=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:o,collatorIsNumeric:o.resolvedOptions().numeric}});new se.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),new se.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));var Tn=L(10087),Ym=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const eo=ue.$;class ow{constructor(e){this.hidden=!1,this._onChecked=new Be.Q5,this.onChecked=this._onChecked.event,Object.assign(this,e)}get checked(){return!!this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire(e))}dispose(){this._onChecked.dispose()}}let Qm=(()=>{class o{get templateId(){return o.ID}renderTemplate(t){const i=Object.create(null);i.toDisposeElement=[],i.toDisposeTemplate=[],i.entry=ue.R3(t,eo(".quick-input-list-entry"));const n=ue.R3(i.entry,eo("label.quick-input-list-label"));i.toDisposeTemplate.push(ue.mu(n,ue.tw.CLICK,u=>{i.checkbox.offsetParent||u.preventDefault()})),i.checkbox=ue.R3(n,eo("input.quick-input-list-checkbox")),i.checkbox.type="checkbox",i.toDisposeTemplate.push(ue.mu(i.checkbox,ue.tw.CHANGE,u=>{i.element.checked=i.checkbox.checked}));const s=ue.R3(n,eo(".quick-input-list-rows")),r=ue.R3(s,eo(".quick-input-list-row")),a=ue.R3(s,eo(".quick-input-list-row"));i.label=new Zm(r,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const l=ue.R3(r,eo(".quick-input-list-entry-keybinding"));i.keybinding=new Zh(l,h.OS);const d=ue.R3(a,eo(".quick-input-list-label-meta"));return i.detail=new Zm(d,{supportHighlights:!0,supportIcons:!0}),i.separator=ue.R3(i.entry,eo(".quick-input-list-separator")),i.actionBar=new Ga.o(i.entry),i.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),i.toDisposeTemplate.push(i.actionBar),i}renderElement(t,i,n){n.toDisposeElement=(0,ze.B9)(n.toDisposeElement),n.element=t,n.checkbox.checked=t.checked,n.toDisposeElement.push(t.onChecked(u=>n.checkbox.checked=u));const{labelHighlights:s,descriptionHighlights:r,detailHighlights:a}=t,l=Object.create(null);l.matches=s||[],l.descriptionTitle=t.saneDescription,l.descriptionMatches=r||[],l.extraClasses=t.item.iconClasses,l.italic=t.item.italic,l.strikethrough=t.item.strikethrough,n.label.setLabel(t.saneLabel,t.saneDescription,l),n.keybinding.set(t.item.keybinding),t.saneDetail&&n.detail.setLabel(t.saneDetail,void 0,{matches:a,title:t.saneDetail}),t.separator&&t.separator.label?(n.separator.textContent=t.separator.label,n.separator.style.display=""):n.separator.style.display="none",n.entry.classList.toggle("quick-input-list-separator-border",!!t.separator),n.actionBar.clear();const d=t.item.buttons;d&&d.length?(n.actionBar.push(d.map((u,m)=>{let C=u.iconClass||(u.iconPath?Kh(u.iconPath):void 0);u.alwaysVisible&&(C=C?`${C} always-visible`:"always-visible");const S=new Es.aU(`id-${m}`,"",C,!0,()=>function(o,e,t,i){return new(t||(t=Promise))(function(s,r){function a(u){try{d(i.next(u))}catch(m){r(m)}}function l(u){try{d(i.throw(u))}catch(m){r(m)}}function d(u){u.done?s(u.value):function n(s){return s instanceof t?s:new t(function(r){r(s)})}(u.value).then(a,l)}d((i=i.apply(o,e||[])).next())})}(this,void 0,void 0,function*(){t.fireButtonTriggered({button:u,item:t.item})}));return S.tooltip=u.tooltip||"",S}),{icon:!0,label:!1}),n.entry.classList.add("has-actions")):n.entry.classList.remove("has-actions")}disposeElement(t,i,n){n.toDisposeElement=(0,ze.B9)(n.toDisposeElement)}disposeTemplate(t){t.toDisposeElement=(0,ze.B9)(t.toDisposeElement),t.toDisposeTemplate=(0,ze.B9)(t.toDisposeTemplate)}}return o.ID="listelement",o})();class rw{getHeight(e){return e.saneDetail?44:22}getTemplateId(e){return Qm.ID}}var Pi=(()=>(function(o){o[o.First=1]="First",o[o.Second=2]="Second",o[o.Last=3]="Last",o[o.Next=4]="Next",o[o.Previous=5]="Previous",o[o.NextPage=6]="NextPage",o[o.PreviousPage=7]="PreviousPage"}(Pi||(Pi={})),Pi))();class qh{constructor(e,t,i){this.parent=e,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new Be.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new Be.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new Be.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new Be.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new Be.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new Be.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new Be.Q5,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=ue.R3(this.parent,eo(".quick-input-list"));const n=new rw,s=new lw;this.list=i.createList("QuickInput",this.container,n,[new Qm],{identityProvider:{getId:r=>r.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:s}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(r=>{const a=new hn.y(r);switch(a.keyCode){case 10:this.toggleCheckbox();break;case 31:(h.dz?r.metaKey:r.ctrlKey)&&this.list.setFocus((0,y.w6)(this.list.length));break;case 16:{const l=this.list.getFocus();1===l.length&&0===l[0]&&this._onLeave.fire();break}case 18:{const l=this.list.getFocus();1===l.length&&l[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(a)})),this.disposables.push(this.list.onMouseDown(r=>{2!==r.browserEvent.button&&r.browserEvent.preventDefault()})),this.disposables.push(ue.nm(this.container,ue.tw.CLICK,r=>{(r.x||r.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(r=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(r=>{"number"==typeof r.index&&(r.browserEvent.preventDefault(),this.list.setSelection([r.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return Be.ju.map(this.list.onDidChangeFocus,e=>e.elements.map(t=>t.item))}get onDidChangeSelection(){return Be.ju.map(this.list.onDidChangeSelection,e=>({items:e.elements.map(t=>t.item),event:e.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(e,t=!0){for(let i=0,n=e.length;i<n;i++){const s=e[i];if(!s.hidden){if(!s.checked)return!1;t=!0}}return t}getCheckedCount(){let e=0;const t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].checked&&e++;return e}getVisibleCount(){let e=0;const t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].hidden||e++;return e}setAllVisibleChecked(e){try{this._fireCheckedEvents=!1,this.elements.forEach(t=>{t.hidden||(t.checked=e)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(e){this.elementDisposables=(0,ze.B9)(this.elementDisposables);const t=i=>this.fireButtonTriggered(i);this.inputElements=e,this.elements=e.reduce((i,n,s)=>{var r,a,l;if("separator"!==n.type){const d=s&&e[s-1],u=n.label&&n.label.replace(/\r?\n/g," "),m=n.meta&&n.meta.replace(/\r?\n/g," "),C=n.description&&n.description.replace(/\r?\n/g," "),S=n.detail&&n.detail.replace(/\r?\n/g," "),M=n.ariaLabel||[u,C,S].map(j=>(0,ki.JL)(j)).filter(j=>!!j).join(", ");i.push(new ow({index:s,item:n,saneLabel:u,saneMeta:m,saneAriaLabel:M,saneDescription:C,saneDetail:S,labelHighlights:null===(r=n.highlights)||void 0===r?void 0:r.label,descriptionHighlights:null===(a=n.highlights)||void 0===a?void 0:a.description,detailHighlights:null===(l=n.highlights)||void 0===l?void 0:l.detail,checked:!1,separator:d&&"separator"===d.type?d:void 0,fireButtonTriggered:t}))}return i},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(i=>i.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((i,n,s)=>(i.set(n.item,s),i),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(e=>e.item)}setFocusedElements(e){if(this.list.setFocus(e.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t))),e.length>0){const t=this.list.getFocus()[0];"number"==typeof t&&this.list.reveal(t)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){this.list.setSelection(e.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t)))}getCheckedElements(){return this.elements.filter(e=>e.checked).map(e=>e.item)}setCheckedElements(e){try{this._fireCheckedEvents=!1;const t=new Set;for(const i of e)t.add(i);for(const i of this.elements)i.checked=t.has(i.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(e){this.list.getHTMLElement().style.pointerEvents=e?"":"none"}focus(e){if(!this.list.length)return;switch(e===Pi.Next&&this.list.getFocus()[0]===this.list.length-1&&(e=Pi.First),e===Pi.Previous&&0===this.list.getFocus()[0]&&(e=Pi.Last),e===Pi.Second&&this.list.length<2&&(e=Pi.First),e){case Pi.First:this.list.focusFirst();break;case Pi.Second:this.list.focusNth(1);break;case Pi.Last:this.list.focusLast();break;case Pi.Next:this.list.focusNext();break;case Pi.Previous:this.list.focusPrevious();break;case Pi.NextPage:this.list.focusNextPage();break;case Pi.PreviousPage:this.list.focusPreviousPage()}const t=this.list.getFocus()[0];"number"==typeof t&&this.list.reveal(t)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(e){this.list.getHTMLElement().style.maxHeight=e?`calc(${44*Math.floor(e/44)}px)`:"",this.list.layout()}filter(e){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if((e=e.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let i;this.elements.forEach(n=>{const s=this.matchOnLabel?(0,be.f6)(xc(e,Ec(n.saneLabel))):void 0,r=this.matchOnDescription?(0,be.f6)(xc(e,Ec(n.saneDescription||""))):void 0,a=this.matchOnDetail?(0,be.f6)(xc(e,Ec(n.saneDetail||""))):void 0,l=this.matchOnMeta?(0,be.f6)(xc(e,Ec(n.saneMeta||""))):void 0;if(s||r||a||l?(n.labelHighlights=s,n.descriptionHighlights=r,n.detailHighlights=a,n.hidden=!1):(n.labelHighlights=void 0,n.descriptionHighlights=void 0,n.detailHighlights=void 0,n.hidden=!n.item.alwaysShow),n.separator=void 0,!this.sortByLabel){const d=n.index&&this.inputElements[n.index-1];i=d&&"separator"===d.type?d:i,i&&!n.hidden&&(n.separator=i,i=void 0)}})}else this.elements.forEach(i=>{i.labelHighlights=void 0,i.descriptionHighlights=void 0,i.detailHighlights=void 0,i.hidden=!1;const n=i.index&&this.inputElements[i.index-1];i.separator=n&&"separator"===n.type?n:void 0});const t=this.elements.filter(i=>!i.hidden);if(this.sortByLabel&&e){const i=e.toLowerCase();t.sort((n,s)=>function aw(o,e,t){const i=o.labelHighlights||[],n=e.labelHighlights||[];return i.length&&!n.length?-1:!i.length&&n.length?1:0===i.length&&0===n.length?0:function iw(o,e,t){const i=o.toLowerCase(),n=e.toLowerCase(),s=function nw(o,e,t){const i=o.toLowerCase(),n=e.toLowerCase(),s=i.startsWith(t),r=n.startsWith(t);if(s!==r)return s?-1:1;if(s&&r){if(i.length<n.length)return-1;if(i.length>n.length)return 1}return 0}(o,e,t);if(s)return s;const r=i.endsWith(t);if(r!==n.endsWith(t))return r?-1:1;const l=function tw(o,e,t=!1){const i=o||"",n=e||"",s=qm.value.collator.compare(i,n);return qm.value.collatorIsNumeric&&0===s&&i!==n?i<n?-1:1:s}(i,n);return 0!==l?l:i.localeCompare(n)}(o.saneLabel,e.saneLabel,t)}(n,s,i))}return this.elementsToIndexes=t.reduce((i,n,s)=>(i.set(n.item,s),i),new Map),this.list.splice(0,this.list.length,t),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(t.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const e=this.list.getFocusedElements(),t=this.allVisibleChecked(e);for(const i of e)i.checked=!t}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(e){this.container.style.display=e?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=(0,ze.B9)(this.elementDisposables),this.disposables=(0,ze.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(e){this._onButtonTriggered.fire(e)}style(e){this.list.style(e)}}Ym([Tn.H],qh.prototype,"onDidChangeFocus",null),Ym([Tn.H],qh.prototype,"onDidChangeSelection",null);class lw{getWidgetAriaLabel(){return(0,_.N)("quickInput","Quick Input")}getAriaLabel(e){return e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}var Xm=function(o,e,t,i){return new(t||(t=Promise))(function(s,r){function a(u){try{d(i.next(u))}catch(m){r(m)}}function l(u){try{d(i.throw(u))}catch(m){r(m)}}function d(u){u.done?s(u.value):function n(s){return s instanceof t?s:new t(function(r){r(s)})}(u.value).then(a,l)}d((i=i.apply(o,e||[])).next())})};const ns=ue.$,Yh={iconClass:ki.lA.quickInputBack.classNames,tooltip:(0,_.N)("quickInput.back","Back"),handle:-1};class Rc extends ze.JT{constructor(e){super(),this.ui=e,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=Rc.noPromptMessage,this._severity=Xi.Z.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new Be.Q5),this.onDidHideEmitter=this._register(new Be.Q5),this.onDisposeEmitter=this._register(new Be.Q5),this.visibleDisposables=this._register(new ze.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){const t=this._ignoreFocusOut!==e&&!h.gn;this._ignoreFocusOut=e&&!h.gn,t&&this.update()}get buttons(){return this._buttons}set buttons(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(e=>{-1!==this.buttons.indexOf(e)&&this.onDidTriggerButtonEmitter.fire(e)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(e=ua.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}update(){if(!this.visible)return;const e=this.getTitle();e&&this.ui.title.textContent!==e?this.ui.title.textContent=e:!e&&"&nbsp;"!==this.ui.title.innerHTML&&(this.ui.title.innerText="\xa0");const t=this.getDescription();if(this.ui.description1.textContent!==t&&(this.ui.description1.textContent=t),this.ui.description2.textContent!==t&&(this.ui.description2.textContent=t),this.busy&&!this.busyDelay&&(this.busyDelay=new se._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const n=this.buttons.filter(r=>r===Yh);this.ui.leftActionBar.push(n.map((r,a)=>{const l=new Es.aU(`id-${a}`,"",r.iconClass||Kh(r.iconPath),!0,()=>Xm(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(r)}));return l.tooltip=r.tooltip||"",l}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const s=this.buttons.filter(r=>r!==Yh);this.ui.rightActionBar.push(s.map((r,a)=>{const l=new Es.aU(`id-${a}`,"",r.iconClass||Kh(r.iconPath),!0,()=>Xm(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(r)}));return l.tooltip=r.tooltip||"",l}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const i=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==i&&(this._lastValidationMessage=i,ue.mc(this.ui.message,...rl(i))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,_.N)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==Xi.Z.Ignore){const t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}Rc.noPromptMessage=(0,_.N)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class al extends Rc{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new Be.Q5),this.onWillAcceptEmitter=this._register(new Be.Q5),this.onDidAcceptEmitter=this._register(new Be.Q5),this.onDidCustomEmitter=this._register(new Be.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?xs.NONE:xs.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new Be.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new Be.Q5),this.onDidTriggerItemButtonEmitter=this._register(new Be.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this.doSetValue(e)}doSetValue(e,t){this._value!==e&&(this._value=e,t||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(e){this._autoFocusOnList=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?Hv:this.ui.keyMods}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Pi.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{this.doSetValue(e,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(e=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(e=>{switch(e.keyCode){case 18:this.ui.list.focus(Pi.Next),this.canSelectMany&&this.ui.list.domFocus(),ue.zB.stop(e,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Pi.Previous):this.ui.list.focus(Pi.Last),this.canSelectMany&&this.ui.list.domFocus(),ue.zB.stop(e,!0);break;case 12:this.ui.list.focus(Pi.NextPage),this.canSelectMany&&this.ui.list.domFocus(),ue.zB.stop(e,!0);break;case 11:this.ui.list.focus(Pi.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),ue.zB.stop(e,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(e.ctrlKey||e.metaKey)&&!e.shiftKey&&!e.altKey&&(this.ui.list.focus(Pi.First),ue.zB.stop(e,!0));break;case 13:(e.ctrlKey||e.metaKey)&&!e.shiftKey&&!e.altKey&&(this.ui.list.focus(Pi.Last),ue.zB.stop(e,!0))}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,y.fS)(e,this._activeItems,(t,i)=>t===i)||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:e,event:t})=>{this.canSelectMany?e.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&(0,y.fS)(e,this._selectedItems,(i,n)=>i===n)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(t instanceof MouseEvent&&1===t.button))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(e=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,y.fS)(e,this._selectedItems,(t,i)=>t===i)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(e=>this.onDidTriggerItemButtonEmitter.fire(e))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return ue.nm(this.ui.container,ue.tw.KEY_UP,e=>{if(this.canSelectMany||!this._quickNavigate)return;const t=new hn.y(e),i=t.keyCode;this._quickNavigate.keybindings.some(r=>{const[a,l]=r.getParts();return!(l||(a.shiftKey&&4===i?t.ctrlKey||t.altKey||t.metaKey:!(a.altKey&&6===i||a.ctrlKey&&5===i||a.metaKey&&57===i)))})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const e=this.keepScrollPosition?this.scrollTop:0,t=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",t&&!this.description);const i={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!t,progressBar:!t,visibleCount:!0,count:this.canSelectMany,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(i),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const n=this.ariaLabel||this.placeholder||al.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==n&&(this.ui.inputBox.ariaLabel=n),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case xs.NONE:this._itemActivation=xs.FIRST;break;case xs.SECOND:this.ui.list.focus(Pi.Second),this._itemActivation=xs.FIRST;break;case xs.LAST:this.ui.list.focus(Pi.Last),this._itemActivation=xs.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),i.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Pi.First)),this.keepScrollPosition&&(this.scrollTop=e)}}al.DEFAULT_ARIA_LABEL=(0,_.N)("quickInputBox.ariaLabel","Type to narrow down results.");let cw=(()=>{class o extends ze.JT{constructor(t){super(),this.options=t,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new Be.Q5),this.onDidCustomEmitter=this._register(new Be.Q5),this.onDidTriggerButtonEmitter=this._register(new Be.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new Be.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new Be.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=t.idPrefix,this.parentElement=t.container,this.styles=t.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const t=i=>{this.keyMods.ctrlCmd=i.ctrlKey||i.metaKey,this.keyMods.alt=i.altKey};this._register(ue.nm(window,ue.tw.KEY_DOWN,t,!0)),this._register(ue.nm(window,ue.tw.KEY_UP,t,!0)),this._register(ue.nm(window,ue.tw.MOUSE_DOWN,t,!0))}getUI(){if(this.ui)return this.ui;const t=ue.R3(this.parentElement,ns(".quick-input-widget.show-file-icons"));t.tabIndex=-1,t.style.display="none";const i=ue.dS(t),n=ue.R3(t,ns(".quick-input-titlebar")),s=this._register(new Ga.o(n));s.domNode.classList.add("quick-input-left-action-bar");const r=ue.R3(n,ns(".quick-input-title")),a=this._register(new Ga.o(n));a.domNode.classList.add("quick-input-right-action-bar");const l=ue.R3(t,ns(".quick-input-description")),d=ue.R3(t,ns(".quick-input-header")),u=ue.R3(d,ns("input.quick-input-check-all"));u.type="checkbox",this._register(ue.mu(u,ue.tw.CHANGE,Pe=>{pe.setAllVisibleChecked(u.checked)})),this._register(ue.nm(u,ue.tw.CLICK,Pe=>{(Pe.x||Pe.y)&&M.setFocus()}));const m=ue.R3(d,ns(".quick-input-description")),C=ue.R3(d,ns(".quick-input-and-message")),S=ue.R3(C,ns(".quick-input-filter")),M=this._register(new Kv(S));M.setAttribute("aria-describedby",`${this.idPrefix}message`);const j=ue.R3(S,ns(".quick-input-visible-count"));j.setAttribute("aria-live","polite"),j.setAttribute("aria-atomic","true");const J=new zm(j,{countFormat:(0,_.N)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),ne=ue.R3(S,ns(".quick-input-count"));ne.setAttribute("aria-live","polite");const X=new zm(ne,{countFormat:(0,_.N)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),le=ue.R3(d,ns(".quick-input-action")),Ce=new Hm(le);Ce.label=(0,_.N)("ok","OK"),this._register(Ce.onDidClick(Pe=>{this.onDidAcceptEmitter.fire()}));const ke=ue.R3(d,ns(".quick-input-action")),Ne=new Hm(ke);Ne.label=(0,_.N)("custom","Custom"),this._register(Ne.onDidClick(Pe=>{this.onDidCustomEmitter.fire()}));const ve=ue.R3(C,ns(`#${this.idPrefix}message.quick-input-message`)),pe=this._register(new qh(t,this.idPrefix+"list",this.options));this._register(pe.onChangedAllVisibleChecked(Pe=>{u.checked=Pe})),this._register(pe.onChangedVisibleCount(Pe=>{J.setCount(Pe)})),this._register(pe.onChangedCheckedCount(Pe=>{X.setCount(Pe)})),this._register(pe.onLeave(()=>{setTimeout(()=>{M.setFocus(),this.controller instanceof al&&this.controller.canSelectMany&&pe.clearFocus()},0)})),this._register(pe.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const Te=new Wv(t);Te.getContainer().classList.add("quick-input-progress");const Qe=ue.go(t);return this._register(Qe),this._register(ue.nm(t,ue.tw.FOCUS,Pe=>{this.previousFocusElement=Pe.relatedTarget instanceof HTMLElement?Pe.relatedTarget:void 0},!0)),this._register(Qe.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(ua.Blur),this.previousFocusElement=void 0})),this._register(ue.nm(t,ue.tw.FOCUS,Pe=>{M.setFocus()})),this._register(ue.nm(t,ue.tw.KEY_DOWN,Pe=>{const et=new hn.y(Pe);switch(et.keyCode){case 3:ue.zB.stop(Pe,!0),this.onDidAcceptEmitter.fire();break;case 9:ue.zB.stop(Pe,!0),this.hide(ua.Gesture);break;case 2:if(!et.altKey&&!et.ctrlKey&&!et.metaKey){const ot=[".action-label.codicon"];t.classList.contains("show-checkboxes")?ot.push("input"):ot.push("input[type=text]"),this.getUI().list.isDisplayed()&&ot.push(".monaco-list");const Nt=t.querySelectorAll(ot.join(", "));et.shiftKey&&et.target===Nt[0]?(ue.zB.stop(Pe,!0),Nt[Nt.length-1].focus()):!et.shiftKey&&et.target===Nt[Nt.length-1]&&(ue.zB.stop(Pe,!0),Nt[0].focus())}}})),this.ui={container:t,styleSheet:i,leftActionBar:s,titleBar:n,title:r,description1:l,description2:m,rightActionBar:a,checkAll:u,filterContainer:S,inputBox:M,visibleCountContainer:j,visibleCount:J,countContainer:ne,count:X,okContainer:le,ok:Ce,message:ve,customButtonContainer:ke,customButton:Ne,list:pe,progressBar:Te,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:Pe=>this.show(Pe),hide:()=>this.hide(),setVisibilities:Pe=>this.setVisibilities(Pe),setComboboxAccessibility:Pe=>this.setComboboxAccessibility(Pe),setEnabled:Pe=>this.setEnabled(Pe),setContextKey:Pe=>this.options.setContextKey(Pe)},this.updateStyles(),this.ui}pick(t,i={},n=fi.T.None){return new Promise((s,r)=>{let a=m=>{a=s,i.onKeyMods&&i.onKeyMods(l.keyMods),s(m)};if(n.isCancellationRequested)return void a(void 0);const l=this.createQuickPick();let d;const u=[l,l.onDidAccept(()=>{if(l.canSelectMany)a(l.selectedItems.slice()),l.hide();else{const m=l.activeItems[0];m&&(a(m),l.hide())}}),l.onDidChangeActive(m=>{const C=m[0];C&&i.onDidFocus&&i.onDidFocus(C)}),l.onDidChangeSelection(m=>{if(!l.canSelectMany){const C=m[0];C&&(a(C),l.hide())}}),l.onDidTriggerItemButton(m=>i.onDidTriggerItemButton&&i.onDidTriggerItemButton(Object.assign(Object.assign({},m),{removeItem:()=>{const C=l.items.indexOf(m.item);if(-1!==C){const S=l.items.slice(),M=S.splice(C,1),j=l.activeItems.filter(ne=>ne!==M[0]),J=l.keepScrollPosition;l.keepScrollPosition=!0,l.items=S,j&&(l.activeItems=j),l.keepScrollPosition=J}}}))),l.onDidChangeValue(m=>{d&&!m&&(1!==l.activeItems.length||l.activeItems[0]!==d)&&(l.activeItems=[d])}),n.onCancellationRequested(()=>{l.hide()}),l.onDidHide(()=>{(0,ze.B9)(u),a(void 0)})];l.title=i.title,l.canSelectMany=!!i.canPickMany,l.placeholder=i.placeHolder,l.ignoreFocusOut=!!i.ignoreFocusLost,l.matchOnDescription=!!i.matchOnDescription,l.matchOnDetail=!!i.matchOnDetail,l.matchOnLabel=void 0===i.matchOnLabel||i.matchOnLabel,l.autoFocusOnList=void 0===i.autoFocusOnList||i.autoFocusOnList,l.quickNavigate=i.quickNavigate,l.contextKey=i.contextKey,l.busy=!0,Promise.all([t,i.activeItem]).then(([m,C])=>{d=C,l.busy=!1,l.items=m,l.canSelectMany&&(l.selectedItems=m.filter(S=>"separator"!==S.type&&S.picked)),d&&(l.activeItems=[d])}),l.show(),Promise.resolve(t).then(void 0,m=>{r(m),l.hide()})})}createQuickPick(){const t=this.getUI();return new al(t)}show(t){const i=this.getUI();this.onShowEmitter.fire();const n=this.controller;this.controller=t,n&&n.didHide(),this.setEnabled(!0),i.leftActionBar.clear(),i.title.textContent="",i.description1.textContent="",i.description2.textContent="",i.rightActionBar.clear(),i.checkAll.checked=!1,i.inputBox.placeholder="",i.inputBox.password=!1,i.inputBox.showDecoration(Xi.Z.Ignore),i.visibleCount.setCount(0),i.count.setCount(0),ue.mc(i.message),i.progressBar.stop(),i.list.setElements([]),i.list.matchOnDescription=!1,i.list.matchOnDetail=!1,i.list.matchOnLabel=!0,i.list.sortByLabel=!0,i.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),i.inputBox.ariaLabel="";const s=this.options.backKeybindingLabel();Yh.tooltip=s?(0,_.N)("quickInput.backWithKeybinding","Back ({0})",s):(0,_.N)("quickInput.back","Back"),i.container.style.display="",this.updateLayout(),i.inputBox.setFocus()}setVisibilities(t){const i=this.getUI();i.title.style.display=t.title?"":"none",i.description1.style.display=t.description&&(t.inputBox||t.checkAll)?"":"none",i.description2.style.display=!t.description||t.inputBox||t.checkAll?"none":"",i.checkAll.style.display=t.checkAll?"":"none",i.filterContainer.style.display=t.inputBox?"":"none",i.visibleCountContainer.style.display=t.visibleCount?"":"none",i.countContainer.style.display=t.count?"":"none",i.okContainer.style.display=t.ok?"":"none",i.customButtonContainer.style.display=t.customButton?"":"none",i.message.style.display=t.message?"":"none",i.progressBar.getContainer().style.display=t.progressBar?"":"none",i.list.display(!!t.list),i.container.classList[t.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(t){if(t!==this.comboboxAccessibility){const i=this.getUI();this.comboboxAccessibility=t,this.comboboxAccessibility?(i.inputBox.setAttribute("role","combobox"),i.inputBox.setAttribute("aria-haspopup","true"),i.inputBox.setAttribute("aria-autocomplete","list"),i.inputBox.setAttribute("aria-activedescendant",i.list.getActiveDescendant()||"")):(i.inputBox.removeAttribute("role"),i.inputBox.removeAttribute("aria-haspopup"),i.inputBox.removeAttribute("aria-autocomplete"),i.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(t){if(t!==this.enabled){this.enabled=t;for(const i of this.getUI().leftActionBar.viewItems)i.getAction().enabled=t;for(const i of this.getUI().rightActionBar.viewItems)i.getAction().enabled=t;this.getUI().checkAll.disabled=!t,this.getUI().ok.enabled=t,this.getUI().list.enabled=t}}hide(t){var i;const n=this.controller;if(n){const s=!(null===(i=this.ui)||void 0===i?void 0:i.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!s){let r=this.previousFocusElement;for(;r&&!r.offsetParent;)r=(0,be.f6)(r.parentElement);(null==r?void 0:r.offsetParent)?(r.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}n.didHide(t)}}layout(t,i){this.dimension=t,this.titleBarOffset=i,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const t=this.ui.container.style,i=Math.min(.62*this.dimension.width,o.MAX_WIDTH);t.width=i+"px",t.marginLeft="-"+i/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(t){this.styles=t,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:t,quickInputBackground:i,quickInputForeground:n,contrastBorder:s,widgetShadow:r}=this.styles.widget;this.ui.titleBar.style.backgroundColor=t?t.toString():"",this.ui.container.style.backgroundColor=i?i.toString():"",this.ui.container.style.color=n?n.toString():"",this.ui.container.style.border=s?`1px solid ${s}`:"",this.ui.container.style.boxShadow=r?`0 0 8px 2px ${r}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const a=[];this.styles.list.pickerGroupBorder&&a.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&a.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(a.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&a.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&a.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&a.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&a.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&a.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),a.push("}"));const l=a.join("\n");l!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=l)}}}return o.MAX_WIDTH=600,o})();L(84397);var _n=L(65691);class dw{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach(n=>n.splice(e,t,i))}}class Cr extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}}var Ws=L(26889);function Jm(o,e){const t=[];for(let i of e){if(o.start>=i.range.end)continue;if(o.end<i.range.start)break;const n=pn.intersect(o,i.range);pn.isEmpty(n)||t.push({range:n,size:i.size})}return t}function Qh({start:o,end:e},t){return{start:o+t,end:e+t}}class ep{constructor(){this.groups=[],this._size=0}splice(e,t,i=[]){const n=i.length-t,s=Jm({start:0,end:e},this.groups),r=Jm({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(l=>({range:Qh(l.range,n),size:l.size})),a=i.map((l,d)=>({range:{start:e+d,end:e+d+1},size:l.size}));this.groups=function uw(...o){return function hw(o){const e=[];let t=null;for(let i of o){const n=i.range.start,s=i.range.end,r=i.size;t&&r===t.size?t.range.end=s:(t={range:{start:n,end:s},size:r},e.push(t))}return e}(o.reduce((e,t)=>e.concat(t),[]))}(s,a,r),this._size=this.groups.reduce((l,d)=>l+d.size*(d.range.end-d.range.start),0)}get count(){const e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;let t=0,i=0;for(let n of this.groups){const s=n.range.end-n.range.start,r=i+s*n.size;if(e<r)return t+Math.floor((e-i)/n.size);t+=s,i=r}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(let n of this.groups){const s=n.range.end-n.range.start,r=i+s;if(e<r)return t+(e-i)*n.size;t+=s*n.size,i=r}return-1}}class gw{constructor(e){this.renderers=e,this.cache=new Map}alloc(e){let t=this.getTemplateCache(e).pop();if(!t){const i=(0,ue.$)(".monaco-list-row");t={domNode:i,templateId:e,templateData:this.getRenderer(e).renderTemplate(i)}}return t}release(e){!e||this.releaseRow(e)}releaseRow(e){const{domNode:t,templateId:i}=e;t&&(t.classList.remove("scrolling"),function fw(o){try{o.parentElement&&o.parentElement.removeChild(o)}catch(e){}}(t)),this.getTemplateCache(i).push(e)}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach((e,t)=>{for(const i of e)this.getRenderer(t).disposeTemplate(i.templateData),i.templateData=null}),this.cache.clear()}getRenderer(e){const t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}}var br=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const to={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:o=>[o],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class ll{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class mw{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class pw{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){const i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}}class Cw{constructor(e){this.getSetSize=(null==e?void 0:e.getSetSize)?e.getSetSize.bind(e):(t,i,n)=>n,this.getPosInSet=(null==e?void 0:e.getPosInSet)?e.getPosInSet.bind(e):(t,i)=>i+1,this.getRole=(null==e?void 0:e.getRole)?e.getRole.bind(e):t=>"listitem",this.isChecked=(null==e?void 0:e.isChecked)?e.isChecked.bind(e):t=>{}}}class Vs{constructor(e,t,i,n=to){if(this.virtualDelegate=t,this.domId="list_id_"+ ++Vs.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new se.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=ze.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=ze.JT.None,this.onDragLeaveTimeout=ze.JT.None,this.disposables=new ze.SL,this._onDidChangeContentHeight=new Be.Q5,this._horizontalScrolling=!1,n.horizontalScrolling&&n.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new ep;for(const r of i)this.renderers.set(r.templateId,r);this.cache=this.disposables.add(new gw(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support","boolean"!=typeof n.mouseSupport||n.mouseSupport),this._horizontalScrolling=(0,v.CJ)(n,r=>r.horizontalScrolling,to.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=void 0===n.additionalScrollHeight?0:n.additionalScrollHeight,this.accessibilityProvider=new Cw(n.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,v.CJ)(n,r=>r.transformOptimization,to.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(Qi.o.addTarget(this.rowsContainer)),this.scrollable=new Fd.Rm({forceIntegerValues:!0,smoothScrollDuration:(0,v.CJ)(n,r=>r.smoothScrolling,!1)?125:0,scheduleAtNextAnimationFrame:r=>(0,ue.jL)(r)}),this.scrollableElement=this.disposables.add(new Oa.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:(0,v.CJ)(n,r=>r.alwaysConsumeMouseWheel,to.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,v.CJ)(n,r=>r.verticalScrollMode,to.verticalScrollMode),useShadows:(0,v.CJ)(n,r=>r.useShadows,to.useShadows),mouseWheelScrollSensitivity:n.mouseWheelScrollSensitivity,fastScrollSensitivity:n.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,ue.nm)(this.rowsContainer,Qi.t.Change,r=>this.onTouchChange(r))),this.disposables.add((0,ue.nm)(this.scrollableElement.getDomNode(),"scroll",r=>r.target.scrollTop=0)),this.disposables.add((0,ue.nm)(this.domNode,"dragover",r=>this.onDragOver(this.toDragEvent(r)))),this.disposables.add((0,ue.nm)(this.domNode,"drop",r=>this.onDrop(this.toDragEvent(r)))),this.disposables.add((0,ue.nm)(this.domNode,"dragleave",r=>this.onDragLeave(this.toDragEvent(r)))),this.disposables.add((0,ue.nm)(this.domNode,"dragend",r=>this.onDragEnd(r))),this.setRowLineHeight=(0,v.CJ)(n,r=>r.setRowLineHeight,to.setRowLineHeight),this.setRowHeight=(0,v.CJ)(n,r=>r.setRowHeight,to.setRowHeight),this.supportDynamicHeights=(0,v.CJ)(n,r=>r.supportDynamicHeights,to.supportDynamicHeights),this.dnd=(0,v.CJ)(n,r=>r.dnd,to.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const t of this.items)this.measureItemWidth(t);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,ue.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(e){void 0!==e.additionalScrollHeight&&(this.additionalScrollHeight=e.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),void 0!==e.smoothScrolling&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),void 0!==e.horizontalScrolling&&(this.horizontalScrolling=e.horizontalScrolling),void 0!==e.mouseWheelScrollSensitivity&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),void 0!==e.fastScrollSensitivity&&this.scrollableElement.updateOptions({fastScrollSensitivity:e.fastScrollSensitivity})}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){const n=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),r=pn.intersect(n,{start:e,end:e+t}),a=new Map;for(let Ne=r.end-1;Ne>=r.start;Ne--){const ve=this.items[Ne];if(ve.dragStartDisposable.dispose(),ve.row){let pe=a.get(ve.templateId);pe||(pe=[],a.set(ve.templateId,pe));const Te=this.renderers.get(ve.templateId);Te&&Te.disposeElement&&Te.disposeElement(ve.element,Ne,ve.row.templateData,ve.size),pe.push(ve.row)}ve.row=null}const l={start:e+t,end:this.items.length},d=pn.intersect(l,n),u=pn.relativeComplement(l,n),m=i.map(Ne=>({id:String(this.itemId++),element:Ne,templateId:this.virtualDelegate.getTemplateId(Ne),size:this.virtualDelegate.getHeight(Ne),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Ne),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:ze.JT.None}));let C;0===e&&t>=this.items.length?(this.rangeMap=new ep,this.rangeMap.splice(0,0,m),C=this.items,this.items=m):(this.rangeMap.splice(e,t,m),C=this.items.splice(e,t,...m));const S=i.length-t,M=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),j=Qh(d,S),J=pn.intersect(M,j);for(let Ne=J.start;Ne<J.end;Ne++)this.updateItemInDOM(this.items[Ne],Ne);const ne=pn.relativeComplement(j,M);for(const Ne of ne)for(let ve=Ne.start;ve<Ne.end;ve++)this.removeItemFromDOM(ve);const X=u.map(Ne=>Qh(Ne,S)),Ce=[{start:e,end:e+i.length},...X].map(Ne=>pn.intersect(M,Ne)),ke=this.getNextToLastElement(Ce);for(const Ne of Ce)for(let ve=Ne.start;ve<Ne.end;ve++){const Te=a.get(this.items[ve].templateId),Qe=null==Te?void 0:Te.pop();this.insertItemInDOM(ve,ke,Qe)}for(const Ne of a.values())for(const ve of Ne)this.cache.release(ve);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),C.map(Ne=>Ne.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,ue.jL)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth()):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(const t of this.items)void 0!==t.width&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:0===e?0:e+10})}rerender(){if(this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(e){return this.items[e].element}domElement(e){const t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){let i={height:"number"==typeof e?e:(0,ue.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),void 0!==t&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof t?t:(0,ue.FK)(this.domNode)})}render(e,t,i,n,s,r=!1){const a=this.getRenderRange(t,i),l=pn.relativeComplement(a,e),d=pn.relativeComplement(e,a),u=this.getNextToLastElement(l);if(r){const m=pn.intersect(e,a);for(let C=m.start;C<m.end;C++)this.updateItemInDOM(this.items[C],C)}for(const m of l)for(let C=m.start;C<m.end;C++)this.insertItemInDOM(C,u);for(const m of d)for(let C=m.start;C<m.end;C++)this.removeItemFromDOM(C);void 0!==n&&(this.rowsContainer.style.left=`-${n}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&void 0!==s&&(this.rowsContainer.style.width=`${Math.max(s,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t,i){const n=this.items[e];n.row||(n.row=null!=i?i:this.cache.alloc(n.templateId));const s=this.accessibilityProvider.getRole(n.element)||"listitem";n.row.domNode.setAttribute("role",s);const r=this.accessibilityProvider.isChecked(n.element);void 0!==r&&n.row.domNode.setAttribute("aria-checked",String(!!r)),n.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(n.row.domNode,t):this.rowsContainer.appendChild(n.row.domNode)),this.updateItemInDOM(n,e);const a=this.renderers.get(n.templateId);if(!a)throw new Error(`No renderer found for template id ${n.templateId}`);a&&a.renderElement(n.element,e,n.row.templateData,n.size);const l=this.dnd.getDragURI(n.element);n.dragStartDisposable.dispose(),n.row.domNode.draggable=!!l,l&&(n.dragStartDisposable=(0,ue.nm)(n.row.domNode,"dragstart",d=>this.onDragStart(n.element,l,d))),this.horizontalScrolling&&(this.measureItemWidth(n),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width=Ei.isFirefox?"-moz-fit-content":"fit-content",e.width=(0,ue.FK)(e.row.domNode);const t=window.getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2==0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){const t=this.items[e];if(t.dragStartDisposable.dispose(),t.row){const i=this.renderers.get(t.templateId);i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return Be.ju.map(this.disposables.add(new _n.Y(this.domNode,"click")).event,e=>this.toMouseEvent(e))}get onMouseDblClick(){return Be.ju.map(this.disposables.add(new _n.Y(this.domNode,"dblclick")).event,e=>this.toMouseEvent(e))}get onMouseMiddleClick(){return Be.ju.filter(Be.ju.map(this.disposables.add(new _n.Y(this.domNode,"auxclick")).event,e=>this.toMouseEvent(e)),e=>1===e.browserEvent.button)}get onMouseDown(){return Be.ju.map(this.disposables.add(new _n.Y(this.domNode,"mousedown")).event,e=>this.toMouseEvent(e))}get onContextMenu(){return Be.ju.any(Be.ju.map(this.disposables.add(new _n.Y(this.domNode,"contextmenu")).event,e=>this.toMouseEvent(e)),Be.ju.map(this.disposables.add(new _n.Y(this.domNode,Qi.t.Contextmenu)).event,e=>this.toGestureEvent(e)))}get onTouchStart(){return Be.ju.map(this.disposables.add(new _n.Y(this.domNode,"touchstart")).event,e=>this.toTouchEvent(e))}get onTap(){return Be.ju.map(this.disposables.add(new _n.Y(this.rowsContainer,Qi.t.Tap)).event,e=>this.toGestureEvent(e))}toMouseEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toTouchEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toGestureEvent(e){const t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toDragEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}onScroll(e){try{const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){if(!i.dataTransfer)return;const n=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(Ws.go.TEXT,t),i.dataTransfer.setDragImage){let s;this.dnd.getDragLabel&&(s=this.dnd.getDragLabel(n,i)),void 0===s&&(s=String(n.length));const r=(0,ue.$)(".monaco-drag-image");r.textContent=s,document.body.appendChild(r),i.dataTransfer.setDragImage(r,-10,-10),setTimeout(()=>document.body.removeChild(r),0)}this.currentDragData=new ll(n),Ws.P$.CurrentDragAndDropData=new mw(n),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,i)}onDragOver(e){if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),Ws.P$.CurrentDragAndDropData&&"vscode-ui"===Ws.P$.CurrentDragAndDropData.getData()||(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(Ws.P$.CurrentDragAndDropData)this.currentDragData=Ws.P$.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new pw}const t=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop="boolean"==typeof t?t:t.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let i;if(e.browserEvent.dataTransfer.dropEffect="boolean"!=typeof t&&0===t.effect?"copy":"move",i="boolean"!=typeof t&&t.feedback?t.feedback:void 0===e.index?[-1]:[e.index],i=(0,y.EB)(i).filter(n=>n>=-1&&n<this.length).sort((n,s)=>n-s),i=-1===i[0]?[-1]:i,function _w(o,e){return Array.isArray(o)&&Array.isArray(e)?(0,y.fS)(o,e):o===e}(this.currentDragFeedback,i))return!0;if(this.currentDragFeedback=i,this.currentDragFeedbackDisposable.dispose(),-1===i[0])this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,ze.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const n of i){const s=this.items[n];s.dropTarget=!0,s.row&&s.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,ze.OF)(()=>{for(const n of i){const s=this.items[n];s.dropTarget=!1,s.row&&s.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(e){var t,i;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,se.Vg)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&(null===(i=(t=this.dnd).onDragLeave)||void 0===i||i.call(t,this.currentDragData,e.element,e.index,e.browserEvent))}onDrop(e){if(!this.canDrop)return;const t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,Ws.P$.CurrentDragAndDropData=void 0,t&&e.browserEvent.dataTransfer&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}onDragEnd(e){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,Ws.P$.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=ze.JT.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){const t=(0,ue.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,ue.jt)(this.animateDragAndDropScrollTop.bind(this,t))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,se.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(void 0===this.dragOverMouseY)return;const t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(e){const t=this.scrollableElement.getDomNode();let i=e;for(;i instanceof HTMLElement&&i!==this.rowsContainer&&t.contains(i);){const n=i.getAttribute("data-index");if(n){const s=Number(n);if(!isNaN(s))return s}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,i){const n=this.getRenderRange(e,t);let s,r;e===this.elementTop(n.start)?(s=n.start,r=0):n.end-n.start>1&&(s=n.start+1,r=this.elementTop(s)-e);let a=0;for(;;){const l=this.getRenderRange(e,t);let d=!1;for(let u=l.start;u<l.end;u++){const m=this.probeDynamicHeight(u);0!==m&&this.rangeMap.splice(u,1,[this.items[u]]),a+=m,d=d||0!==m}if(!d){0!==a&&this.eventuallyUpdateScrollDimensions();const u=pn.relativeComplement(n,l);for(const C of u)for(let S=C.start;S<C.end;S++)this.items[S].row&&this.removeItemFromDOM(S);const m=pn.relativeComplement(l,n);for(const C of m)for(let S=C.start;S<C.end;S++){const M=S+1,j=M<this.items.length?this.items[M].row:null;this.insertItemInDOM(S,j?j.domNode:null)}for(let C=l.start;C<l.end;C++)this.items[C].row&&this.updateItemInDOM(this.items[C],C);if("number"==typeof s){const C=this.scrollable.getFutureScrollPosition().scrollTop-e,S=this.elementTop(s)-r+C;this.setScrollTop(S,i)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(e){const t=this.items[e];if(this.virtualDelegate.getDynamicHeight){const r=this.virtualDelegate.getDynamicHeight(t.element);if(null!==r){const a=t.size;return t.size=r,t.lastDynamicHeightWidth=this.renderWidth,r-a}}if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(t.element))return 0;const i=t.size;if(!this.setRowHeight&&t.row){let r=t.row.domNode.offsetHeight;return t.size=r,t.lastDynamicHeightWidth=this.renderWidth,r-i}const n=this.cache.alloc(t.templateId);n.domNode.style.height="",this.rowsContainer.appendChild(n.domNode);const s=this.renderers.get(t.templateId);return s&&(s.renderElement(t.element,e,n.templateData,void 0),s.disposeElement&&s.disposeElement(t.element,e,n.templateData,void 0)),t.size=n.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(n.domNode),this.cache.release(n),t.size-i}getNextToLastElement(e){const t=e[e.length-1];if(!t)return null;const i=this.items[t.end];return i&&i.row?i.row.domNode:null}getElementDomId(e){return`${this.domId}_${e}`}dispose(){if(this.items){for(const e of this.items)if(e.row){const t=this.renderers.get(e.row.templateId);t&&(t.disposeElement&&t.disposeElement(e.element,-1,e.row.templateData,void 0),t.disposeTemplate(e.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,ze.B9)(this.disposables)}}Vs.InstanceCount=0,br([Tn.H],Vs.prototype,"onMouseClick",null),br([Tn.H],Vs.prototype,"onMouseDblClick",null),br([Tn.H],Vs.prototype,"onMouseMiddleClick",null),br([Tn.H],Vs.prototype,"onMouseDown",null),br([Tn.H],Vs.prototype,"onContextMenu",null),br([Tn.H],Vs.prototype,"onTouchStart",null),br([Tn.H],Vs.prototype,"onTap",null);var vr=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},tp=function(o,e,t,i){return new(t||(t=Promise))(function(s,r){function a(u){try{d(i.next(u))}catch(m){r(m)}}function l(u){try{d(i.throw(u))}catch(m){r(m)}}function d(u){u.done?s(u.value):function n(s){return s instanceof t?s:new t(function(r){r(s)})}(u.value).then(a,l)}d((i=i.apply(o,e||[])).next())})};class bw{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(e){return e}renderElement(e,t,i){const n=this.renderedElements.findIndex(s=>s.templateData===i);if(n>=0){const s=this.renderedElements[n];this.trait.unrender(i),s.index=t}else this.renderedElements.push({index:t,templateData:i});this.trait.renderIndex(t,i)}splice(e,t,i){const n=[];for(const s of this.renderedElements)s.index<e?n.push(s):s.index>=e+t&&n.push({index:s.index+i-t,templateData:s.templateData});this.renderedElements=n}renderIndexes(e){for(const{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){const t=this.renderedElements.findIndex(i=>i.templateData===e);t<0||this.renderedElements.splice(t,1)}}class Oc{constructor(e){this._trait=e,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new Be.Q5,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new bw(this)}splice(e,t,i){var n;t=Math.max(0,Math.min(t,this.length-e));const s=i.length-t,r=e+t,a=[...this.sortedIndexes.filter(d=>d<e),...i.map((d,u)=>d?u+e:-1).filter(d=>-1!==d),...this.sortedIndexes.filter(d=>d>=r).map(d=>d+s)],l=this.length+s;if(this.sortedIndexes.length>0&&0===a.length&&l>0){const d=null!==(n=this.sortedIndexes.find(u=>u>=e))&&void 0!==n?n:l-1;a.push(Math.min(d,l-1))}this.renderer.splice(e,t,i.length),this._set(a,a),this.length=l}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(cp),t)}_set(e,t,i){const n=this.indexes,s=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;const r=Jh(s,e);return this.renderer.renderIndexes(r),this._onChange.fire({indexes:e,browserEvent:i}),n}get(){return this.indexes}contains(e){return(0,y.ry)(this.sortedIndexes,e,cp)>=0}dispose(){(0,ze.B9)(this._onChange)}}vr([Tn.H],Oc.prototype,"renderer",null);class vw extends Oc{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class Xh{constructor(e,t,i){this.trait=e,this.view=t,this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,i.map(()=>!1));const n=this.trait.get().map(r=>this.identityProvider.getId(this.view.element(r)).toString()),s=i.map(r=>n.indexOf(this.identityProvider.getId(r).toString())>-1);this.trait.splice(e,t,s)}}function Go(o){return"INPUT"===o.tagName||"TEXTAREA"===o.tagName}function ga(o){return!!o.classList.contains("monaco-editor")||!(o.classList.contains("monaco-list")||!o.parentElement)&&ga(o.parentElement)}class ip{constructor(e,t,i){this.list=e,this.view=t,this.disposables=new ze.SL,this.multipleSelectionDisposables=new ze.SL,this.onKeyDown.filter(n=>3===n.keyCode).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(n=>16===n.keyCode).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(n=>18===n.keyCode).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(n=>11===n.keyCode).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(n=>12===n.keyCode).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(n=>9===n.keyCode).on(this.onEscape,this,this.disposables),!1!==i.multipleSelectionSupport&&this.onKeyDown.filter(n=>(h.dz?n.metaKey:n.ctrlKey)&&31===n.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return Be.ju.chain(this.disposables.add(new _n.Y(this.view.domNode,"keydown")).event).filter(e=>!Go(e.target)).map(e=>new hn.y(e))}updateOptions(e){void 0!==e.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),e.multipleSelectionSupport&&this.onKeyDown.filter(t=>(h.dz?t.metaKey:t.ctrlKey)&&31===t.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection((0,y.w6)(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}vr([Tn.H],ip.prototype,"onKeyDown",null);var wr=(()=>(function(o){o[o.Idle=0]="Idle",o[o.Typing=1]="Typing"}(wr||(wr={})),wr))();const np=new class{mightProducePrintableCharacter(o){return!(o.ctrlKey||o.metaKey||o.altKey)&&(o.keyCode>=31&&o.keyCode<=56||o.keyCode>=21&&o.keyCode<=30||o.keyCode>=93&&o.keyCode<=102||o.keyCode>=80&&o.keyCode<=90)}};class ww{constructor(e,t,i,n){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=i,this.delegate=n,this.enabled=!1,this.state=wr.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new ze.SL,this.disposables=new ze.SL,this.updateOptions(e.options)}updateOptions(e){void 0===e.enableKeyboardNavigation||e.enableKeyboardNavigation?this.enable():this.disable(),void 0!==e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const e=Be.ju.chain(this.enabledDisposables.add(new _n.Y(this.view.domNode,"keydown")).event).filter(n=>!Go(n.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(n=>new hn.y(n)).filter(n=>this.delegate.mightProducePrintableCharacter(n)).forEach(n=>n.preventDefault()).map(n=>n.browserEvent.key).event,t=Be.ju.debounce(e,()=>null,800);Be.ju.reduce(Be.ju.any(e,t),(n,s)=>null===s?null:(n||"")+s)(this.onInput,this,this.enabledDisposables),t(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var e;const t=this.list.getFocus();if(t.length>0&&t[0]===this.previouslyFocused){const i=null===(e=this.list.options.accessibilityProvider)||void 0===e?void 0:e.getAriaLabel(this.list.element(t[0]));i&&(0,hd.Z9)(i)}this.previouslyFocused=-1}onInput(e){if(!e)return this.state=wr.Idle,void(this.triggered=!1);const t=this.list.getFocus(),i=t.length>0?t[0]:0,n=this.state===wr.Idle?1:0;this.state=wr.Typing;for(let s=0;s<this.list.length;s++){const r=(i+s+n)%this.list.length,a=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(r)),l=a&&a.toString();if(void 0===l||mh(e,l))return this.previouslyFocused=i,this.list.setFocus([r]),void this.list.reveal(r)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class Sw{constructor(e,t){this.list=e,this.view=t,this.disposables=new ze.SL,Be.ju.chain(this.disposables.add(new _n.Y(t.domNode,"keydown")).event).filter(n=>!Go(n.target)).map(n=>new hn.y(n)).filter(n=>!(2!==n.keyCode||n.ctrlKey||n.metaKey||n.shiftKey||n.altKey)).on(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;const t=this.list.getFocus();if(0===t.length)return;const i=this.view.domElement(t[0]);if(!i)return;const n=i.querySelector("[tabIndex]");if(!(n&&n instanceof HTMLElement&&-1!==n.tabIndex))return;const s=window.getComputedStyle(n);"hidden"===s.visibility||"none"===s.display||(e.preventDefault(),e.stopPropagation(),n.focus())}dispose(){this.disposables.dispose()}}function sp(o){return h.dz?o.browserEvent.metaKey:o.browserEvent.ctrlKey}function op(o){return o.browserEvent.shiftKey}const rp={isSelectionSingleChangeEvent:sp,isSelectionRangeChangeEvent:op};class ap{constructor(e){this.list=e,this.disposables=new ze.SL,this._onPointer=new Be.Q5,this.onPointer=this._onPointer.event,!1!==e.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||rp),this.mouseSupport=void 0===e.options.mouseSupport||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(Qi.o.addTarget(e.getHTMLElement()))),Be.ju.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){void 0!==e.multipleSelectionSupport&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||rp))}isSelectionSingleChangeEvent(e){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(e)}isSelectionRangeChangeEvent(e){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(e)}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){ga(e.browserEvent.target)||document.activeElement!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){ga(e.browserEvent.target)||this.list.setFocus(void 0===e.index?[]:[e.index],e.browserEvent)}onViewPointer(e){if(!this.mouseSupport||Go(e.browserEvent.target)||ga(e.browserEvent.target))return;const t=e.index;return void 0===t?(this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionRangeChangeEvent(e)||this.isSelectionChangeEvent(e)?this.changeSelection(e):(this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),function yw(o){return o instanceof MouseEvent&&2===o.button}(e.browserEvent)||this.list.setSelection([t],e.browserEvent),void this._onPointer.fire(e))}onDoubleClick(e){if(Go(e.browserEvent.target)||ga(e.browserEvent.target)||this.isSelectionChangeEvent(e))return;const t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){const t=e.index;let i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){if(void 0===i){const u=this.list.getFocus()[0];i=null!=u?u:t,this.list.setAnchor(i)}const n=Math.min(i,t),s=Math.max(i,t),r=(0,y.w6)(n,s+1),a=this.list.getSelection(),l=function xw(o,e){const t=o.indexOf(e);if(-1===t)return[];const i=[];let n=t-1;for(;n>=0&&o[n]===e-(t-n);)i.push(o[n--]);for(i.reverse(),n=t;n<o.length&&o[n]===e+(n-t);)i.push(o[n++]);return i}(Jh(a,[i]),i);if(0===l.length)return;const d=Jh(r,function Nw(o,e){const t=[];let i=0,n=0;for(;i<o.length||n<e.length;)if(i>=o.length)t.push(e[n++]);else if(n>=e.length)t.push(o[i++]);else{if(o[i]===e[n]){i++,n++;continue}o[i]<e[n]?t.push(o[i++]):n++}return t}(a,l));this.list.setSelection(d,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const n=this.list.getSelection(),s=n.filter(r=>r!==t);this.list.setFocus([t]),this.list.setAnchor(t),this.list.setSelection(n.length===s.length?[...s,t]:s,e.browserEvent)}}dispose(){this.disposables.dispose()}}class lp{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){const t=this.selectorSuffix&&`.${this.selectorSuffix}`,i=[];e.listBackground&&(e.listBackground.isOpaque()?i.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`):h.dz||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),e.listFocusBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }\n\t\t\t`),e.listFocusAndSelectionForeground&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }\n\t\t\t`),e.listInactiveFocusForeground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&i.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(i.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&i.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&i.push(`.monaco-list${t}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&i.push(`.monaco-list${t} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`),e.listSelectionOutline&&i.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listFocusOutline&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),e.listInactiveFocusOutline&&i.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&i.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropBackground&&i.push(`\n\t\t\t\t.monaco-list${t}.drop-target,\n\t\t\t\t.monaco-list${t} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),e.listFilterWidgetBackground&&i.push(`.monaco-list-type-filter { background-color: ${e.listFilterWidgetBackground} }`),e.listFilterWidgetOutline&&i.push(`.monaco-list-type-filter { border: 1px solid ${e.listFilterWidgetOutline}; }`),e.listFilterWidgetNoMatchesOutline&&i.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${e.listFilterWidgetNoMatchesOutline}; }`),e.listMatchesShadow&&i.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${e.listMatchesShadow}; }`),e.tableColumnsBorder&&i.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${e.tableColumnsBorder};\n\t\t\t}`),e.tableOddRowsBackgroundColor&&i.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${e.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`),this.styleElement.textContent=i.join("\n")}}const Lw={listFocusBackground:Oi.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:Oi.Il.fromHex("#0E639C"),listActiveSelectionForeground:Oi.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:Oi.Il.fromHex("#FFFFFF"),listFocusAndSelectionBackground:Oi.Il.fromHex("#094771"),listFocusAndSelectionForeground:Oi.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:Oi.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:Oi.Il.fromHex("#FFFFFF"),listHoverBackground:Oi.Il.fromHex("#2A2D2E"),listDropBackground:Oi.Il.fromHex("#383B3D"),treeIndentGuidesStroke:Oi.Il.fromHex("#a9a9a9"),tableColumnsBorder:Oi.Il.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:Oi.Il.fromHex("#cccccc").transparent(.04)},Ew={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function Jh(o,e){const t=[];let i=0,n=0;for(;i<o.length||n<e.length;)if(i>=o.length)t.push(e[n++]);else if(n>=e.length)t.push(o[i++]);else{if(o[i]===e[n]){t.push(o[i]),i++,n++;continue}t.push(o[i]<e[n]?o[i++]:e[n++])}return t}const cp=(o,e)=>o-e;class Iw{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,i,n){let s=0;for(const r of this.renderers)r.renderElement(e,t,i[s++],n)}disposeElement(e,t,i,n){let s=0;for(const r of this.renderers)r.disposeElement&&r.disposeElement(e,t,i[s],n),s+=1}disposeTemplate(e){let t=0;for(const i of this.renderers)i.disposeTemplate(e[t++])}}class Dw{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return e}renderElement(e,t,i){const n=this.accessibilityProvider.getAriaLabel(e);n?i.setAttribute("aria-label",n):i.removeAttribute("aria-label");const s=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);"number"==typeof s?i.setAttribute("aria-level",`${s}`):i.removeAttribute("aria-level")}disposeTemplate(e){}}class kw{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){const t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(e,t)}onDragOver(e,t,i,n){return this.dnd.onDragOver(e,t,i,n)}onDragLeave(e,t,i,n){var s,r;null===(r=(s=this.dnd).onDragLeave)||void 0===r||r.call(s,e,t,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}drop(e,t,i,n){this.dnd.drop(e,t,i,n)}}class No{constructor(e,t,i,n,s=Ew){var r;this.user=e,this._options=s,this.focus=new Oc("focused"),this.anchor=new Oc("anchor"),this.eventBufferer=new Be.E7,this._ariaLabel="",this.disposables=new ze.SL,this._onDidDispose=new Be.Q5,this.onDidDispose=this._onDidDispose.event;const a=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(r=this._options.accessibilityProvider)||void 0===r?void 0:r.getWidgetRole():"list";this.selection=new vw("listbox"!==a),(0,v.jB)(s,Lw,!1);const l=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=s.accessibilityProvider,this.accessibilityProvider&&(l.push(new Dw(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),n=n.map(u=>new Iw(u.templateId,[...l,u]));const d=Object.assign(Object.assign({},s),{dnd:s.dnd&&new kw(this,s.dnd)});if(this.view=new Vs(t,i,n,d),this.view.domNode.setAttribute("role",a),s.styleController)this.styleController=s.styleController(this.view.domId);else{const u=(0,ue.dS)(this.view.domNode);this.styleController=new lp(u,this.view.domId)}this.spliceable=new dw([new Xh(this.focus,this.view,s.identityProvider),new Xh(this.selection,this.view,s.identityProvider),new Xh(this.anchor,this.view,s.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new Sw(this,this.view)),("boolean"!=typeof s.keyboardSupport||s.keyboardSupport)&&(this.keyboardController=new ip(this,this.view,s),this.disposables.add(this.keyboardController)),s.keyboardNavigationLabelProvider&&(this.typeLabelController=new ww(this,this.view,s.keyboardNavigationLabelProvider,s.keyboardNavigationDelegate||np),this.disposables.add(this.typeLabelController)),this.mouseController=this.createMouseController(s),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return Be.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e))}get onDidChangeSelection(){return Be.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1;const t=Be.ju.chain(this.disposables.add(new _n.Y(this.view.domNode,"keydown")).event).map(s=>new hn.y(s)).filter(s=>e=58===s.keyCode||s.shiftKey&&68===s.keyCode).map(_n.p).filter(()=>!1).event,i=Be.ju.chain(this.disposables.add(new _n.Y(this.view.domNode,"keyup")).event).forEach(()=>e=!1).map(s=>new hn.y(s)).filter(s=>58===s.keyCode||s.shiftKey&&68===s.keyCode).map(_n.p).map(({browserEvent:s})=>{const r=this.getFocus(),a=r.length?r[0]:void 0;return{index:a,element:void 0!==a?this.view.element(a):void 0,anchor:void 0!==a?this.view.domElement(a):this.view.domNode,browserEvent:s}}).event,n=Be.ju.chain(this.view.onContextMenu).filter(s=>!e).map(({element:s,index:r,browserEvent:a})=>({element:s,index:r,anchor:{x:a.pageX+1,y:a.pageY},browserEvent:a})).event;return Be.ju.any(t,i,n)}get onKeyDown(){return this.disposables.add(new _n.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return Be.ju.signal(this.disposables.add(new _n.Y(this.view.domNode,"focus",!0)).event)}createMouseController(e){return new ap(this)}updateOptions(e={}){var t;this._options=Object.assign(Object.assign({},this._options),e),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),null===(t=this.keyboardController)||void 0===t||t.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new Cr(this.user,`Invalid start index: ${e}`);if(t<0)throw new Cr(this.user,`Invalid delete count: ${t}`);0===t&&0===i.length||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,i))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(const i of e)if(i<0||i>=this.length)throw new Cr(this.user,`Invalid index ${i}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(void 0!==e){if(e<0||e>=this.length)throw new Cr(this.user,`Invalid index ${e}`);this.anchor.set([e])}else this.anchor.set([])}getAnchor(){return(0,y.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const e=this.getAnchor();return void 0===e?void 0:this.element(e)}setFocus(e,t){for(const i of e)if(i<0||i>=this.length)throw new Cr(this.user,`Invalid index ${i}`);this.focus.set(e,t)}focusNext(e=1,t=!1,i,n){if(0===this.length)return;const s=this.focus.get(),r=this.findNextIndex(s.length>0?s[0]+e:0,t,n);r>-1&&this.setFocus([r],i)}focusPrevious(e=1,t=!1,i,n){if(0===this.length)return;const s=this.focus.get(),r=this.findPreviousIndex(s.length>0?s[0]-e:0,t,n);r>-1&&this.setFocus([r],i)}focusNextPage(e,t){return tp(this,void 0,void 0,function*(){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=0===i?0:i-1;const n=this.view.element(i),s=this.getFocusedElements()[0];if(s!==n){const r=this.findPreviousIndex(i,!1,t);r>-1&&s!==this.view.element(r)?this.setFocus([r],e):this.setFocus([i],e)}else{const r=this.view.getScrollTop();this.view.setScrollTop(r+this.view.renderHeight-this.view.elementHeight(i)),this.view.getScrollTop()!==r&&(this.setFocus([]),yield(0,se.Vs)(0),yield this.focusNextPage(e,t))}})}focusPreviousPage(e,t){return tp(this,void 0,void 0,function*(){let i;const n=this.view.getScrollTop();i=0===n?this.view.indexAt(n):this.view.indexAfter(n-1);const s=this.view.element(i),r=this.getFocusedElements()[0];if(r!==s){const a=this.findNextIndex(i,!1,t);a>-1&&r!==this.view.element(a)?this.setFocus([a],e):this.setFocus([i],e)}else{const a=n;this.view.setScrollTop(n-this.view.renderHeight),this.view.getScrollTop()!==a&&(this.setFocus([]),yield(0,se.Vs)(0),yield this.focusPreviousPage(e,t))}})}focusLast(e,t){if(0===this.length)return;const i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(0===this.length)return;const n=this.findNextIndex(e,!1,i);n>-1&&this.setFocus([n],t)}findNextIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e>=this.length&&!t)return-1;if(e%=this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t){if(e<0||e>=this.length)throw new Cr(this.user,`Invalid index ${e}`);const i=this.view.getScrollTop(),n=this.view.elementTop(e),s=this.view.elementHeight(e);if((0,be.hj)(t))this.view.setScrollTop((s-this.view.renderHeight)*es(t,0,1)+n);else{const r=n+s,a=i+this.view.renderHeight;n<i&&r>=a||(n<i||r>=a&&s>=this.view.renderHeight?this.view.setScrollTop(n):r>=a&&this.view.setScrollTop(r-this.view.renderHeight))}}getRelativeTop(e){if(e<0||e>=this.length)throw new Cr(this.user,`Invalid index ${e}`);const t=this.view.getScrollTop(),i=this.view.elementTop(e),n=this.view.elementHeight(e);return i<t||i+n>t+this.view.renderHeight?null:Math.abs((t-i)/(n-this.view.renderHeight))}getHTMLElement(){return this.view.domNode}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(i=>this.view.element(i)),browserEvent:t}}_onFocusChange(){const e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var e;const t=this.focus.get();if(t.length>0){let i;(null===(e=this.accessibilityProvider)||void 0===e?void 0:e.getActiveDescendantId)&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const e=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===e.length),this.view.domNode.classList.toggle("selection-single",1===e.length),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}vr([Tn.H],No.prototype,"onDidChangeFocus",null),vr([Tn.H],No.prototype,"onDidChangeSelection",null),vr([Tn.H],No.prototype,"onContextMenu",null),vr([Tn.H],No.prototype,"onKeyDown",null),vr([Tn.H],No.prototype,"onDidFocus",null);class Tw{constructor(e,t){this.renderer=e,this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:ze.JT.None}}renderElement(e,t,i,n){if(i.disposable&&i.disposable.dispose(),!i.data)return;const s=this.modelProvider();if(s.isResolved(e))return this.renderer.renderElement(s.get(e),e,i.data,n);const r=new fi.A,a=s.resolve(e,r.token);i.disposable={dispose:()=>r.cancel()},this.renderer.renderPlaceholder(e,i.data),a.then(l=>this.renderer.renderElement(l,e,i.data,n))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class Mw{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}}L(82013);const Aw={separatorBorder:Oi.Il.transparent};class dp{constructor(e,t,i,n){this.container=e,this.view=t,this.disposable=n,this._cachedVisibleSize=void 0,"number"==typeof i?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get visible(){return void 0===this._cachedVisibleSize}setVisible(e,t){e!==this.visible&&(e?(this.size=es(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof t?t:this.size,this.size=0),this.container.classList.toggle("visible",e),this.view.setVisible&&this.view.setVisible(e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)}dispose(){return this.disposable.dispose(),this.view}}class Pw extends dp{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class Bw extends dp{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}var hp,io=(()=>(function(o){o[o.Idle=0]="Idle",o[o.Busy=1]="Busy"}(io||(io={})),io))();!function(o){o.Distribute={type:"distribute"},o.Split=function e(i){return{type:"split",index:i}},o.Invisible=function t(i){return{type:"invisible",cachedVisibleSize:i}}}(hp||(hp={}));class Fw extends ze.JT{constructor(e,t={}){var i,n,s,r,a;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=io.Idle,this._onDidSashChange=this._register(new Be.Q5),this._onDidSashReset=this._register(new Be.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=null!==(i=t.orientation)&&void 0!==i?i:0,this.inverseAltBehavior=null!==(n=t.inverseAltBehavior)&&void 0!==n&&n,this.proportionalLayout=null===(s=t.proportionalLayout)||void 0===s||s,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=(0,ue.R3)(this.el,(0,ue.$)(".sash-container")),this.viewContainer=(0,ue.$)(".split-view-container"),this.scrollable=new Fd.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:ue.jL}),this.scrollableElement=this._register(new Oa.$Z(this.viewContainer,{vertical:0===this.orientation?null!==(r=t.scrollbarVisibility)&&void 0!==r?r:1:2,horizontal:1===this.orientation?null!==(a=t.scrollbarVisibility)&&void 0!==a?a:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(l=>{this.viewContainer.scrollTop=l.scrollTop,this.viewContainer.scrollLeft=l.scrollLeft})),(0,ue.R3)(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||Aw),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach((l,d)=>{const u=be.o8(l.visible)||l.visible?l.size:{type:"invisible",cachedVisibleSize:l.size};this.doAddView(l.view,u,d,!0)}),this.contentSize=this.viewItems.reduce((l,d)=>l+d.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,n){this.doAddView(e,t,i,n)}layout(e,t){const i=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions)for(let n=0;n<this.viewItems.length;n++){const s=this.viewItems[n];s.size=es(Math.round(this.proportions[n]*e),s.minimumSize,s.maximumSize)}else{const n=(0,y.w6)(this.viewItems.length),s=n.filter(a=>1===this.viewItems[a].priority),r=n.filter(a=>2===this.viewItems[a].priority);this.resize(this.viewItems.length-1,e-i,void 0,s,r)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(e=>e.size/this.contentSize))}onSashStart({sash:e,start:t,alt:i}){for(const a of this.viewItems)a.enabled=!1;const n=this.sashItems.findIndex(a=>a.sash===e),s=(0,ze.F8)((0,ue.nm)(document.body,"keydown",a=>r(this.sashDragState.current,a.altKey)),(0,ue.nm)(document.body,"keyup",()=>r(this.sashDragState.current,!1))),r=(a,l)=>{const d=this.viewItems.map(M=>M.size);let C,S,u=Number.NEGATIVE_INFINITY,m=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(l=!l),l)if(n===this.sashItems.length-1){const j=this.viewItems[n];u=(j.minimumSize-j.size)/2,m=(j.maximumSize-j.size)/2}else{const j=this.viewItems[n+1];u=(j.size-j.maximumSize)/2,m=(j.size-j.minimumSize)/2}if(!l){const M=(0,y.w6)(n,-1),j=(0,y.w6)(n+1,this.viewItems.length),J=M.reduce((pe,Te)=>pe+(this.viewItems[Te].minimumSize-d[Te]),0),ne=M.reduce((pe,Te)=>pe+(this.viewItems[Te].viewMaximumSize-d[Te]),0),X=0===j.length?Number.POSITIVE_INFINITY:j.reduce((pe,Te)=>pe+(d[Te]-this.viewItems[Te].minimumSize),0),le=0===j.length?Number.NEGATIVE_INFINITY:j.reduce((pe,Te)=>pe+(d[Te]-this.viewItems[Te].viewMaximumSize),0),Ce=Math.max(J,le),ke=Math.min(X,ne),Ne=this.findFirstSnapIndex(M),ve=this.findFirstSnapIndex(j);if("number"==typeof Ne){const pe=this.viewItems[Ne],Te=Math.floor(pe.viewMinimumSize/2);C={index:Ne,limitDelta:pe.visible?Ce-Te:Ce+Te,size:pe.size}}if("number"==typeof ve){const pe=this.viewItems[ve],Te=Math.floor(pe.viewMinimumSize/2);S={index:ve,limitDelta:pe.visible?ke+Te:ke-Te,size:pe.size}}}this.sashDragState={start:a,current:a,index:n,sizes:d,minDelta:u,maxDelta:m,alt:l,snapBefore:C,snapAfter:S,disposable:s}};r(t,i)}onSashChange({current:e}){const{index:t,start:i,sizes:n,alt:s,minDelta:r,maxDelta:a,snapBefore:l,snapAfter:d}=this.sashDragState;this.sashDragState.current=e;const m=this.resize(t,e-i,n,void 0,void 0,r,a,l,d);if(s){const C=t===this.sashItems.length-1,S=this.viewItems.map(le=>le.size),j=this.viewItems[C?t:t+1];this.resize(C?t-1:t+1,-m,S,void 0,void 0,j.size-j.maximumSize,j.size-j.minimumSize)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const t of this.viewItems)t.enabled=!0}onViewChange(e,t){const i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t=es(t="number"==typeof t?t:e.size,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(this.state!==io.Idle)throw new Error("Cant modify splitview");if(this.state=io.Busy,e<0||e>=this.viewItems.length)return;const i=(0,y.w6)(this.viewItems.length).filter(a=>a!==e),n=[...i.filter(a=>1===this.viewItems[a].priority),e],s=i.filter(a=>2===this.viewItems[a].priority),r=this.viewItems[e];t=es(t=Math.round(t),r.minimumSize,Math.min(r.maximumSize,this.size)),r.size=t,this.relayout(n,s),this.state=io.Idle}distributeViewSizes(){const e=[];let t=0;for(const a of this.viewItems)a.maximumSize-a.minimumSize>0&&(e.push(a),t+=a.size);const i=Math.floor(t/e.length);for(const a of e)a.size=es(i,a.minimumSize,a.maximumSize);const n=(0,y.w6)(this.viewItems.length),s=n.filter(a=>1===this.viewItems[a].priority),r=n.filter(a=>2===this.viewItems[a].priority);this.relayout(s,r)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,n){if(this.state!==io.Idle)throw new Error("Cant modify splitview");this.state=io.Busy;const s=(0,ue.$)(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(s):this.viewContainer.insertBefore(s,this.viewContainer.children.item(i));const r=e.onDidChange(C=>this.onViewChange(u,C)),a=(0,ze.OF)(()=>this.viewContainer.removeChild(s)),l=(0,ze.F8)(r,a);let d;d="number"==typeof t?t:"split"===t.type?this.getViewSize(t.index)/2:"invisible"===t.type?{cachedVisibleSize:t.cachedVisibleSize}:e.minimumSize;const u=0===this.orientation?new Pw(s,e,d,l):new Bw(s,e,d,l);if(this.viewItems.splice(i,0,u),this.viewItems.length>1){let C={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const S=0===this.orientation?new Qd.g(this.sashContainer,{getHorizontalSashTop:pe=>this.getSashPosition(pe),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},C),{orientation:1})):new Qd.g(this.sashContainer,{getVerticalSashLeft:pe=>this.getSashPosition(pe),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},C),{orientation:0})),M=0===this.orientation?pe=>({sash:S,start:pe.startY,current:pe.currentY,alt:pe.altKey}):pe=>({sash:S,start:pe.startX,current:pe.currentX,alt:pe.altKey}),J=Be.ju.map(S.onDidStart,M)(this.onSashStart,this),X=Be.ju.map(S.onDidChange,M)(this.onSashChange,this),Ce=Be.ju.map(S.onDidEnd,()=>this.sashItems.findIndex(pe=>pe.sash===S))(this.onSashEnd,this),ke=S.onDidReset(()=>{const pe=this.sashItems.findIndex(ot=>ot.sash===S),Te=(0,y.w6)(pe,-1),Qe=(0,y.w6)(pe+1,this.viewItems.length),Pe=this.findFirstSnapIndex(Te),et=this.findFirstSnapIndex(Qe);"number"==typeof Pe&&!this.viewItems[Pe].visible||"number"==typeof et&&!this.viewItems[et].visible||this._onDidSashReset.fire(pe)}),Ne=(0,ze.F8)(J,X,Ce,ke,S);this.sashItems.splice(i-1,0,{sash:S,disposable:Ne})}let m;s.appendChild(e.element),"number"!=typeof t&&"split"===t.type&&(m=[t.index]),n||this.relayout([i],m),this.state=io.Idle,!n&&"number"!=typeof t&&"distribute"===t.type&&this.distributeViewSizes()}relayout(e,t){const i=this.viewItems.reduce((n,s)=>n+s.size,0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map(u=>u.size),n,s,r=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,l,d){if(e<0||e>=this.viewItems.length)return 0;const u=(0,y.w6)(e,-1),m=(0,y.w6)(e+1,this.viewItems.length);if(s)for(const ve of s)(0,y.zI)(u,ve),(0,y.zI)(m,ve);if(n)for(const ve of n)(0,y.al)(u,ve),(0,y.al)(m,ve);const C=u.map(ve=>this.viewItems[ve]),S=u.map(ve=>i[ve]),M=m.map(ve=>this.viewItems[ve]),j=m.map(ve=>i[ve]),J=u.reduce((ve,pe)=>ve+(this.viewItems[pe].minimumSize-i[pe]),0),ne=u.reduce((ve,pe)=>ve+(this.viewItems[pe].maximumSize-i[pe]),0),X=0===m.length?Number.POSITIVE_INFINITY:m.reduce((ve,pe)=>ve+(i[pe]-this.viewItems[pe].minimumSize),0),le=0===m.length?Number.NEGATIVE_INFINITY:m.reduce((ve,pe)=>ve+(i[pe]-this.viewItems[pe].maximumSize),0),Ce=Math.max(J,le,r),ke=Math.min(X,ne,a);let Ne=!1;if(l){const ve=this.viewItems[l.index],pe=t>=l.limitDelta;Ne=pe!==ve.visible,ve.setVisible(pe,l.size)}if(!Ne&&d){const ve=this.viewItems[d.index],pe=t<d.limitDelta;Ne=pe!==ve.visible,ve.setVisible(pe,d.size)}if(Ne)return this.resize(e,t,i,n,s,r,a);for(let ve=0,pe=t=es(t,Ce,ke);ve<C.length;ve++){const Te=C[ve],Qe=es(S[ve]+pe,Te.minimumSize,Te.maximumSize);pe-=Qe-S[ve],Te.size=Qe}for(let ve=0,pe=t;ve<M.length;ve++){const Te=M[ve],Qe=es(j[ve]-pe,Te.minimumSize,Te.maximumSize);pe+=Qe-j[ve],Te.size=Qe}return t}distributeEmptySpace(e){const t=this.viewItems.reduce((a,l)=>a+l.size,0);let i=this.size-t;const n=(0,y.w6)(this.viewItems.length-1,-1),s=n.filter(a=>1===this.viewItems[a].priority),r=n.filter(a=>2===this.viewItems[a].priority);for(const a of r)(0,y.zI)(n,a);for(const a of s)(0,y.al)(n,a);"number"==typeof e&&(0,y.al)(n,e);for(let a=0;0!==i&&a<n.length;a++){const l=this.viewItems[n[a]],d=es(l.size+i,l.minimumSize,l.maximumSize);i-=d-l.size,l.size=d}}layoutViews(){this.contentSize=this.viewItems.reduce((t,i)=>t+i.size,0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach(t=>t.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.scrollableElement.setScrollDimensions(0===this.orientation?{height:this.size,scrollHeight:this.contentSize}:{width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let e=!1;const t=this.viewItems.map(l=>e=l.size-l.minimumSize>0||e);e=!1;const i=this.viewItems.map(l=>e=l.maximumSize-l.size>0||e),n=[...this.viewItems].reverse();e=!1;const s=n.map(l=>e=l.size-l.minimumSize>0||e).reverse();e=!1;const r=n.map(l=>e=l.maximumSize-l.size>0||e).reverse();let a=0;for(let l=0;l<this.sashItems.length;l++){const{sash:d}=this.sashItems[l];a+=this.viewItems[l].size;const m=!(t[l]&&r[l+1]),C=!(i[l]&&s[l+1]);if(m&&C){const S=(0,y.w6)(l,-1),M=(0,y.w6)(l+1,this.viewItems.length),j=this.findFirstSnapIndex(S),J=this.findFirstSnapIndex(M),X="number"==typeof J&&!this.viewItems[J].visible;d.state="number"==typeof j&&!this.viewItems[j].visible&&s[l]&&(a>0||this.startSnappingEnabled)?1:X&&t[l]&&(a<this.contentSize||this.endSnappingEnabled)?2:0}else d.state=m&&!C?1:!m&&C?2:3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(const t of e){const i=this.viewItems[t];if(i.visible&&i.snap)return t}for(const t of e){const i=this.viewItems[t];if(i.visible&&i.maximumSize-i.minimumSize>0)return;if(!i.visible&&i.snap)return t}}dispose(){super.dispose(),this.viewItems.forEach(e=>e.dispose()),this.viewItems=[],this.sashItems.forEach(e=>e.disposable.dispose()),this.sashItems=[]}}L(6282);let up=(()=>{class o{constructor(t,i,n){this.columns=t,this.getColumnSize=n,this.templateId=o.TemplateId,this.renderedTemplates=new Set;const s=new Map(i.map(r=>[r.templateId,r]));this.renderers=[];for(const r of t){const a=s.get(r.templateId);if(!a)throw new Error(`Table cell renderer for template id ${r.templateId} not found.`);this.renderers.push(a)}}renderTemplate(t){const i=(0,ue.R3)(t,(0,ue.$)(".monaco-table-tr")),n=[],s=[];for(let a=0;a<this.columns.length;a++){const l=this.renderers[a],d=(0,ue.R3)(i,(0,ue.$)(".monaco-table-td",{"data-col-index":a}));d.style.width=`${this.getColumnSize(a)}px`,n.push(d),s.push(l.renderTemplate(d))}const r={container:t,cellContainers:n,cellTemplateData:s};return this.renderedTemplates.add(r),r}renderElement(t,i,n,s){for(let r=0;r<this.columns.length;r++){const l=this.columns[r].project(t);this.renderers[r].renderElement(l,i,n.cellTemplateData[r],s)}}disposeElement(t,i,n,s){for(let r=0;r<this.columns.length;r++){const a=this.renderers[r];if(a.disposeElement){const d=this.columns[r].project(t);a.disposeElement(d,i,n.cellTemplateData[r],s)}}}disposeTemplate(t){for(let i=0;i<this.columns.length;i++)this.renderers[i].disposeTemplate(t.cellTemplateData[i]);(0,ue.PO)(t.container),this.renderedTemplates.delete(t)}layoutColumn(t,i){for(const{cellContainers:n}of this.renderedTemplates)n[t].style.width=`${i}px`}}return o.TemplateId="row",o})();class Vw{constructor(e,t){this.column=e,this.index=t,this._onDidLayout=new Be.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,ue.$)(".monaco-table-th",{"data-col-index":t,title:e.tooltip},e.label)}get minimumSize(){var e;return null!==(e=this.column.minimumWidth)&&void 0!==e?e:120}get maximumSize(){var e;return null!==(e=this.column.maximumWidth)&&void 0!==e?e:Number.POSITIVE_INFINITY}get onDidChange(){var e;return null!==(e=this.column.onDidChangeWidthConstraints)&&void 0!==e?e:Be.ju.None}layout(e){this._onDidLayout.fire([this.index,e])}}let Hw=(()=>{class o{constructor(t,i,n,s,r,a){this.virtualDelegate=n,this.domId="table_id_"+ ++o.InstanceCount,this.disposables=new ze.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,ue.R3)(i,(0,ue.$)(`.monaco-table.${this.domId}`));const l=s.map((m,C)=>new Vw(m,C)),d={size:l.reduce((m,C)=>m+C.column.weight,0),views:l.map(m=>({size:m.column.weight,view:m}))};this.splitview=this.disposables.add(new Fw(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:d})),this.splitview.el.style.height=`${n.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${n.headerRowHeight}px`;const u=new up(s,r,m=>this.splitview.getViewSize(m));this.list=this.disposables.add(new No(t,this.domNode,function Ww(o){return{getHeight:e=>o.getHeight(e),getTemplateId:()=>up.TemplateId}}(n),[u],a)),Be.ju.any(...l.map(m=>m.onDidLayout))(([m,C])=>u.layoutColumn(m,C),null,this.disposables),this.splitview.onDidSashReset(m=>{const C=s.reduce((M,j)=>M+j.weight,0);this.splitview.resizeView(m,s[m].weight/C*this.cachedWidth)},null,this.disposables),this.styleElement=(0,ue.dS)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(t){this.list.updateOptions(t)}splice(t,i,n=[]){this.list.splice(t,i,n)}getHTMLElement(){return this.domNode}style(t){const i=[];i.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`),this.styleElement.textContent=i.join("\n"),this.list.style(t)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}return o.InstanceCount=0,o})();var ma=(()=>(function(o){o[o.Unknown=0]="Unknown",o[o.Twistie=1]="Twistie",o[o.Element=2]="Element"}(ma||(ma={})),ma))();class us extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class eu{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}var hi=L(67981);function tu(o){return"object"==typeof o&&"visibility"in o&&"data"in o}function cl(o){switch(o){case!0:return 1;case!1:return 0;default:return o}}function iu(o){return"boolean"==typeof o.collapsible}class zw{constructor(e,t,i,n={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new Be.E7,this._onDidChangeCollapseState=new Be.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new Be.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new Be.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new se.vp(se.ne),this.collapseByDefault=void 0!==n.collapseByDefault&&n.collapseByDefault,this.filter=n.filter,this.autoExpandSingleChildren=void 0!==n.autoExpandSingleChildren&&n.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,i=hi.$.empty(),n={}){if(0===e.length)throw new us(this.user,"Invalid tree location");n.diffIdentityProvider?this.spliceSmart(n.diffIdentityProvider,e,t,i,n):this.spliceSimple(e,t,i,n)}spliceSmart(e,t,i,n,s,r){var a;void 0===n&&(n=hi.$.empty()),void 0===r&&(r=null!==(a=s.diffDepth)&&void 0!==a?a:0);const{parentNode:l}=this.getParentNodeWithListIndex(t);if(!l.lastDiffIds)return this.spliceSimple(t,i,n,s);const d=[...n],u=t[t.length-1],m=new yn({getElements:()=>l.lastDiffIds},{getElements:()=>[...l.children.slice(0,u),...d,...l.children.slice(u+i)].map(J=>e.getId(J.element).toString())}).ComputeDiff(!1);if(m.quitEarly)return l.lastDiffIds=void 0,this.spliceSimple(t,i,d,s);const C=t.slice(0,-1),S=(J,ne,X)=>{if(r>0)for(let le=0;le<X;le++)J--,ne--,this.spliceSmart(e,[...C,J,0],Number.MAX_SAFE_INTEGER,d[ne].children,s,r-1)};let M=Math.min(l.children.length,u+i),j=d.length;for(const J of m.changes.sort((ne,X)=>X.originalStart-ne.originalStart))S(M,j,M-(J.originalStart+J.originalLength)),M=J.originalStart,j=J.modifiedStart-u,this.spliceSimple([...C,M],J.originalLength,hi.$.slice(d,j,j+J.modifiedLength),s);S(M,j,M)}spliceSimple(e,t,i=hi.$.empty(),{onDidCreateNode:n,onDidDeleteNode:s,diffIdentityProvider:r}){const{parentNode:a,listIndex:l,revealed:d,visible:u}=this.getParentNodeWithListIndex(e),m=[],C=hi.$.map(i,ve=>this.createTreeNode(ve,a,a.visible?1:0,d,m,n)),S=e[e.length-1],M=a.children.length>0;let j=0;for(let ve=S;ve>=0&&ve<a.children.length;ve--){const pe=a.children[ve];if(pe.visible){j=pe.visibleChildIndex;break}}const J=[];let ne=0,X=0;for(const ve of C)J.push(ve),X+=ve.renderNodeCount,ve.visible&&(ve.visibleChildIndex=j+ne++);const le=(0,y.db)(a.children,S,t,J);r?a.lastDiffIds?(0,y.db)(a.lastDiffIds,S,t,J.map(ve=>r.getId(ve.element).toString())):a.lastDiffIds=a.children.map(ve=>r.getId(ve.element).toString()):a.lastDiffIds=void 0;let Ce=0;for(const ve of le)ve.visible&&Ce++;if(0!==Ce)for(let ve=S+J.length;ve<a.children.length;ve++){const pe=a.children[ve];pe.visible&&(pe.visibleChildIndex-=Ce)}if(a.visibleChildrenCount+=ne-Ce,d&&u){const ve=le.reduce((pe,Te)=>pe+(Te.visible?Te.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(a,X-ve),this.list.splice(l,ve,m)}if(le.length>0&&s){const ve=pe=>{s(pe),pe.children.forEach(ve)};le.forEach(ve)}const ke=a.children.length>0;M!==ke&&this.setCollapsible(e.slice(0,-1),ke),this._onDidSplice.fire({insertedNodes:J,deletedNodes:le});let Ne=a;for(;Ne;){if(2===Ne.visibility){this.refilterDelayer.trigger(()=>this.refilter());break}Ne=Ne.parent}}rerender(e){if(0===e.length)throw new us(this.user,"Invalid tree location");const{node:t,listIndex:i,revealed:n}=this.getTreeNodeWithListIndex(e);t.visible&&n&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:i,revealed:n}=this.getTreeNodeWithListIndex(e);return i&&n?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const i=this.getTreeNode(e);void 0===t&&(t=!i.collapsible);const n={collapsible:t};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,n))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){const n=this.getTreeNode(e);void 0===t&&(t=!n.collapsed);const s={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,s))}_setCollapseState(e,t){const{node:i,listIndex:n,revealed:s}=this.getTreeNodeWithListIndex(e),r=this._setListNodeCollapseState(i,n,s,t);if(i!==this.root&&this.autoExpandSingleChildren&&r&&!iu(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let a=-1;for(let l=0;l<i.children.length;l++)if(i.children[l].visible){if(a>-1){a=-1;break}a=l}a>-1&&this._setCollapseState([...e,a],t)}return r}_setListNodeCollapseState(e,t,i,n){const s=this._setNodeCollapseState(e,n,!1);if(!i||!e.visible||!s)return s;const r=e.renderNodeCount,a=this.updateNodeAfterCollapseChange(e);return this.list.splice(t+1,r-(-1===t?0:1),a.slice(1)),s}_setNodeCollapseState(e,t,i){let n;if(e===this.root?n=!1:(iu(t)?(n=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(n=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):n=!1,n&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!iu(t)&&t.recursive)for(const s of e.children)n=this._setNodeCollapseState(s,t,!0)||n;return n}expandTo(e){this.eventBufferer.bufferEvents(()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})})}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t),this.refilterDelayer.cancel()}createTreeNode(e,t,i,n,s,r){const a={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof e.collapsible?e.collapsible:void 0!==e.collapsed,collapsed:void 0===e.collapsed?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(a,i);a.visibility=l,n&&s.push(a);const d=e.children||hi.$.empty(),u=n&&0!==l&&!a.collapsed,m=hi.$.map(d,M=>this.createTreeNode(M,a,l,u,s,r));let C=0,S=1;for(const M of m)a.children.push(M),S+=M.renderNodeCount,M.visible&&(M.visibleChildIndex=C++);return a.collapsible=a.collapsible||a.children.length>0,a.visibleChildrenCount=C,a.visible=2===l?C>0:1===l,a.visible?a.collapsed||(a.renderNodeCount=S):(a.renderNodeCount=0,n&&s.pop()),r&&r(a),a}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(!1===e.visible)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,n=!0){let s;if(e!==this.root){if(s=this._filterNode(e,t),0===s)return e.visible=!1,e.renderNodeCount=0,!1;n&&i.push(e)}const r=i.length;e.renderNodeCount=e===this.root?0:1;let a=!1;if(e.collapsed&&0===s)e.visibleChildrenCount=0;else{let l=0;for(const d of e.children)a=this._updateNodeAfterFilterChange(d,s,i,n&&!e.collapsed)||a,d.visible&&(d.visibleChildIndex=l++);e.visibleChildrenCount=l}return e!==this.root&&(e.visible=2===s?a:1===s,e.visibility=s),e.visible?e.collapsed||(e.renderNodeCount+=i.length-r):(e.renderNodeCount=0,n&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(0!==t)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const i=this.filter?this.filter.filter(e.element,t):1;return"boolean"==typeof i?(e.filterData=void 0,i?1:0):tu(i)?(e.filterData=i.data,cl(i.visibility)):(e.filterData=void 0,cl(i))}hasTreeNode(e,t=this.root){if(!e||0===e.length)return!0;const[i,...n]=e;return!(i<0||i>t.children.length)&&this.hasTreeNode(n,t.children[i])}getTreeNode(e,t=this.root){if(!e||0===e.length)return t;const[i,...n]=e;if(i<0||i>t.children.length)throw new us(this.user,"Invalid tree location");return this.getTreeNode(n,t.children[i])}getTreeNodeWithListIndex(e){if(0===e.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:i,revealed:n,visible:s}=this.getParentNodeWithListIndex(e),r=e[e.length-1];if(r<0||r>t.children.length)throw new us(this.user,"Invalid tree location");const a=t.children[r];return{node:a,listIndex:i,revealed:n,visible:s&&a.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,n=!0,s=!0){const[r,...a]=e;if(r<0||r>t.children.length)throw new us(this.user,"Invalid tree location");for(let l=0;l<r;l++)i+=t.children[l].renderNodeCount;return n=n&&!t.collapsed,s=s&&t.visible,0===a.length?{parentNode:t,listIndex:i,revealed:n,visible:s}:this.getParentNodeWithListIndex(a,t.children[r],i+1,n,s)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const t=[];let i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){if(0!==e.length)return 1===e.length?[]:(0,y.JH)(e)[0]}getFirstElementChild(e){const t=this.getTreeNode(e);if(0!==t.children.length)return t.children[0].element}}L(65598);class Uw extends ll{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}}function nu(o){return o instanceof ll?new Uw(o):o}class jw{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=ze.JT.None}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(nu(e),t)}onDragOver(e,t,i,n,s=!0){const r=this.dnd.onDragOver(nu(e),t&&t.element,i,n),a=this.autoExpandNode!==t;if(a&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),void 0===t)return r;if(a&&"boolean"!=typeof r&&r.autoExpand&&(this.autoExpandDisposable=(0,se.Vg)(()=>{const C=this.modelProvider(),S=C.getNodeLocation(t);C.isCollapsed(S)&&C.setCollapsed(S,!1),this.autoExpandNode=void 0},500)),"boolean"==typeof r||!r.accept||void 0===r.bubble||r.feedback)return s?r:{accept:"boolean"==typeof r?r:r.accept,effect:"boolean"==typeof r?void 0:r.effect,feedback:[i]};if(1===r.bubble){const C=this.modelProvider(),S=C.getNodeLocation(t),M=C.getParentNodeLocation(S),j=C.getNode(M),J=M&&C.getListIndex(M);return this.onDragOver(e,j,J,n,!1)}const l=this.modelProvider(),d=l.getNodeLocation(t),u=l.getListIndex(d),m=l.getListRenderCount(d);return Object.assign(Object.assign({},r),{feedback:(0,y.w6)(u,u+m)})}drop(e,t,i,n){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(nu(e),t&&t.element,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}class su{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(e.element,t)}}var pa=(()=>(function(o){o.None="none",o.OnHover="onHover",o.Always="always"}(pa||(pa={})),pa))();class $w{constructor(e,t=[]){this._elements=t,this.onDidChange=Be.ju.forEach(e,i=>this._elements=i)}get elements(){return this._elements}}let Gw=(()=>{class o{constructor(t,i,n,s,r={}){this.renderer=t,this.modelProvider=i,this.activeNodes=s,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=o.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new $_,this.activeIndentNodes=new Set,this.indentGuidesDisposable=ze.JT.None,this.disposables=new ze.SL,this.templateId=t.templateId,this.updateOptions(r),Be.ju.map(n,a=>a.node)(this.onDidChangeNodeTwistieState,this,this.disposables),t.onDidChangeTwistieState&&t.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(t={}){if(void 0!==t.indent&&(this.indent=es(t.indent,0,40)),void 0!==t.renderIndentGuides){const i=t.renderIndentGuides!==pa.None;if(i!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=i,this.indentGuidesDisposable.dispose(),i)){const n=new ze.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,n),this.indentGuidesDisposable=n,this._onDidChangeActiveNodes(this.activeNodes.elements)}}void 0!==t.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=t.hideTwistiesOfChildlessElements)}renderTemplate(t){const i=(0,ue.R3)(t,(0,ue.$)(".monaco-tl-row")),n=(0,ue.R3)(i,(0,ue.$)(".monaco-tl-indent")),s=(0,ue.R3)(i,(0,ue.$)(".monaco-tl-twistie")),r=(0,ue.R3)(i,(0,ue.$)(".monaco-tl-contents")),a=this.renderer.renderTemplate(r);return{container:t,indent:n,twistie:s,indentGuidesDisposable:ze.JT.None,templateData:a}}renderElement(t,i,n,s){"number"==typeof s&&(this.renderedNodes.set(t,{templateData:n,height:s}),this.renderedElements.set(t.element,t));const r=o.DefaultIndent+(t.depth-1)*this.indent;n.twistie.style.paddingLeft=`${r}px`,n.indent.style.width=r+this.indent-16+"px",this.renderTwistie(t,n),"number"==typeof s&&this.renderIndentGuides(t,n),this.renderer.renderElement(t,i,n.templateData,s)}disposeElement(t,i,n,s){n.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(t,i,n.templateData,s),"number"==typeof s&&(this.renderedNodes.delete(t),this.renderedElements.delete(t.element))}disposeTemplate(t){this.renderer.disposeTemplate(t.templateData)}onDidChangeTwistieState(t){const i=this.renderedElements.get(t);!i||this.onDidChangeNodeTwistieState(i)}onDidChangeNodeTwistieState(t){const i=this.renderedNodes.get(t);!i||(this.renderTwistie(t,i.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(t,i.templateData))}renderTwistie(t,i){i.twistie.classList.remove(...ki.lA.treeItemExpanded.classNamesArray);let n=!1;this.renderer.renderTwistie&&(n=this.renderer.renderTwistie(t.element,i.twistie)),t.collapsible&&(!this.hideTwistiesOfChildlessElements||t.visibleChildrenCount>0)?(n||i.twistie.classList.add(...ki.lA.treeItemExpanded.classNamesArray),i.twistie.classList.add("collapsible"),i.twistie.classList.toggle("collapsed",t.collapsed)):i.twistie.classList.remove("collapsible","collapsed"),t.collapsible?i.container.setAttribute("aria-expanded",String(!t.collapsed)):i.container.removeAttribute("aria-expanded")}renderIndentGuides(t,i){if((0,ue.PO)(i.indent),i.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const n=new ze.SL,s=this.modelProvider();let r=t;for(;;){const a=s.getNodeLocation(r),l=s.getParentNodeLocation(a);if(!l)break;const d=s.getNode(l),u=(0,ue.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(d)&&u.classList.add("active"),0===i.indent.childElementCount?i.indent.appendChild(u):i.indent.insertBefore(u,i.indent.firstElementChild),this.renderedIndentGuides.add(d,u),n.add((0,ze.OF)(()=>this.renderedIndentGuides.delete(d,u))),r=d}i.indentGuidesDisposable=n}_onDidChangeActiveNodes(t){if(!this.shouldRenderIndentGuides)return;const i=new Set,n=this.modelProvider();t.forEach(s=>{const r=n.getNodeLocation(s);try{const a=n.getParentNodeLocation(r);s.collapsible&&s.children.length>0&&!s.collapsed?i.add(s):a&&i.add(n.getNode(a))}catch(a){}}),this.activeIndentNodes.forEach(s=>{i.has(s)||this.renderedIndentGuides.forEach(s,r=>r.classList.remove("active"))}),i.forEach(s=>{this.activeIndentNodes.has(s)||this.renderedIndentGuides.forEach(s,r=>r.classList.add("active"))}),this.activeIndentNodes=i}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,ze.B9)(this.disposables)}}return o.DefaultIndent=8,o})();class Zw{constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new ze.SL,e.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()}filter(e,t){if(this._filter){const s=this._filter.filter(e,t);if(this.tree.options.simpleKeyboardNavigation)return s;let r;if(r="boolean"==typeof s?s?1:0:tu(s)?cl(s.visibility):s,0===r)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:pr.Default,visibility:!0};const i=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),n=Array.isArray(i)?i:[i];for(const s of n){const r=s&&s.toString();if(void 0===r)return{data:pr.Default,visibility:!0};const a=Lc(this._pattern,this._lowercasePattern,0,r,r.toLowerCase(),0,!0);if(a)return this._matchCount++,1===n.length?{data:a,visibility:!0}:{data:{label:r,score:a},visibility:!0}}return this.tree.options.filterOnType?2:{data:pr.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,ze.B9)(this.disposables)}}class qw{constructor(e,t,i,n,s){this.tree=e,this.view=i,this.filter=n,this.keyboardNavigationDelegate=s,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new Be.Q5,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new Be.Q5,this.enabledDisposables=new ze.SL,this.disposables=new ze.SL,this.domNode=(0,ue.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add((0,ue.nm)(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=(0,ue.R3)(i.getHTMLElement(),(0,ue.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,ue.R3)(this.domNode,(0,ue.$)("span.label"));const r=(0,ue.R3)(this.domNode,(0,ue.$)(".controls"));this._filterOnType=!!e.options.filterOnType,this.filterOnTypeDomNode=(0,ue.R3)(r,(0,ue.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,ue.nm)(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=(0,ue.R3)(r,(0,ue.$)("button.clear"+ki.lA.treeFilterClear.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,_.N)("clear","Clear"),this.keyboardNavigationEventFilter=e.options.keyboardNavigationEventFilter,t.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(e.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(e){e.simpleKeyboardNavigation?this.disable():this.enable(),void 0!==e.filterOnType&&(this._filterOnType=!!e.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),void 0!==e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const e=this.enabledDisposables.add(new _n.Y(this.view.getHTMLElement(),"keydown")),t=Be.ju.chain(e.event).filter(n=>!Go(n.target)||n.target===this.filterOnTypeDomNode).filter(n=>"Dead"!==n.key&&!/^Media/.test(n.key)).map(n=>new hn.y(n)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(n=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(n)&&!(18===n.keyCode||16===n.keyCode||15===n.keyCode||17===n.keyCode)||(this.pattern.length>0||this.triggered)&&(9===n.keyCode||1===n.keyCode)&&!n.altKey&&!n.ctrlKey&&!n.metaKey||1===n.keyCode&&(h.dz?n.altKey&&!n.metaKey:n.ctrlKey)&&!n.shiftKey).forEach(n=>{n.stopPropagation(),n.preventDefault()}).event,i=this.enabledDisposables.add(new _n.Y(this.clearDomNode,"click"));Be.ju.chain(Be.ju.any(t,i.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(e){"string"==typeof e?this.onInput(e):e instanceof MouseEvent||9===e.keyCode||1===e.keyCode&&(h.dz?e.altKey:e.ctrlKey)?this.onInput(""):this.onInput(1===e.keyCode?0===this.pattern.length?"":this.pattern.substr(0,this.pattern.length-1):this.pattern+e.browserEvent.key)}onInput(e){const t=this.view.getHTMLElement();e&&!this.domNode.parentElement?t.append(this.domNode):!e&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,n=>!pr.isDefault(n.filterData));const i=this.tree.getFocus();if(i.length>0){const n=i[0];null===this.tree.getRelativeTop(n)&&this.tree.reveal(n,.5)}this.render(),e||(this.triggered=!1)}onDragStart(){const e=this.view.getHTMLElement(),{left:t}=(0,ue.i)(e),i=e.clientWidth,n=i/2,s=this.domNode.clientWidth,r=new ze.SL;let a=this.positionClassName;const l=()=>{switch(a){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=i-s-6+"px"}},u=()=>{this.positionClassName=a,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,ze.B9)(r)};l(),this.domNode.classList.remove(a),this.domNode.classList.add("dragging"),r.add((0,ze.OF)(()=>this.domNode.classList.remove("dragging"))),r.add((0,ue.nm)(document,"dragover",m=>(m=>{m.preventDefault();const C=m.clientX-t;m.dataTransfer&&(m.dataTransfer.dropEffect="none"),a=C<n?"nw":"ne",l()})(m))),r.add((0,ue.nm)(this.domNode,"dragend",()=>u())),Ws.P$.CurrentDragAndDropData=new Ws.TN("vscode-ui"),r.add((0,ze.OF)(()=>Ws.P$.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||0===this.pattern.length||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...ki.lA.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.classList.add(...ki.lA.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.title=(0,_.N)("disable filter on type","Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...ki.lA.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.classList.add(...ki.lA.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.title=(0,_.N)("enable filter on type","Enable Filter on Type"))}render(){const e=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&this.tree.options.filterOnType&&e?(this.messageDomNode.textContent=(0,_.N)("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",e),this.domNode.title=(0,_.N)("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(e){return!(this.enabled&&this.pattern&&!this.filterOnType&&!(this.filter.totalCount>0&&this.filter.matchCount<=1)&&pr.isDefault(e.filterData))}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,ze.B9)(this.disposables)}}function fp(o){let e=ma.Unknown;return(0,ue.uU)(o.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?e=ma.Twistie:(0,ue.uU)(o.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(e=ma.Element),{browserEvent:o.browserEvent,element:o.element?o.element.element:null,target:e}}function Ac(o,e){e(o),o.children.forEach(t=>Ac(t,e))}class ou{constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new Be.Q5,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(e,t){!(null==t?void 0:t.__forceEvent)&&(0,y.fS)(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const n=this;this._onDidChange.fire({get elements(){return n.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map(e=>e.element)),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){const l=this.createNodeSet(),d=u=>l.delete(u);return t.forEach(u=>Ac(u,d)),void this.set([...l.values()])}const i=new Set,n=l=>i.add(this.identityProvider.getId(l.element).toString());t.forEach(l=>Ac(l,n));const s=new Map,r=l=>s.set(this.identityProvider.getId(l.element).toString(),l);e.forEach(l=>Ac(l,r));const a=[];for(const l of this.nodes){const d=this.identityProvider.getId(l.element).toString();if(i.has(d)){const m=s.get(d);m&&a.push(m)}else a.push(l)}if(this.nodes.length>0&&0===a.length){const l=this.getFirstViewElementWithTrait();l&&a.push(l)}this._set(a,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class Yw extends ap{constructor(e,t){super(e),this.tree=t}onViewPointer(e){if(Go(e.browserEvent.target)||ga(e.browserEvent.target))return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const i=e.browserEvent.target,n=i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&e.browserEvent.offsetX<16;let s=!1;if(s="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(t.element):!!this.tree.expandOnlyOnTwistieClick,s&&!n&&2!==e.browserEvent.detail)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&2===e.browserEvent.detail)return super.onViewPointer(e);if(t.collapsible){const r=this.tree.model,a=r.getNodeLocation(t),l=e.browserEvent.altKey;if(this.tree.setFocus([a]),r.setCollapsed(a,void 0,l),s&&n)return}super.onViewPointer(e)}onDoubleClick(e){e.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(e)}}class Qw extends No{constructor(e,t,i,n,s,r,a,l){super(e,t,i,n,l),this.focusTrait=s,this.selectionTrait=r,this.anchorTrait=a}createMouseController(e){return new Yw(this,e.tree)}splice(e,t,i=[]){if(super.splice(e,t,i),0===i.length)return;const n=[],s=[];let r;i.forEach((a,l)=>{this.focusTrait.has(a)&&n.push(e+l),this.selectionTrait.has(a)&&s.push(e+l),this.anchorTrait.has(a)&&(r=e+l)}),n.length>0&&super.setFocus((0,y.EB)([...super.getFocus(),...n])),s.length>0&&super.setSelection((0,y.EB)([...super.getSelection(),...s])),"number"==typeof r&&super.setAnchor(r)}setFocus(e,t,i=!1){super.setFocus(e,t),i||this.focusTrait.set(e.map(n=>this.element(n)),t)}setSelection(e,t,i=!1){super.setSelection(e,t),i||this.selectionTrait.set(e.map(n=>this.element(n)),t)}setAnchor(e,t=!1){super.setAnchor(e),t||this.anchorTrait.set(void 0===e?[]:[this.element(e)])}}class gp{constructor(e,t,i,n,s={}){this._user=e,this._options=s,this.eventBufferer=new Be.E7,this.disposables=new ze.SL,this._onWillRefilter=new Be.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new Be.Q5;const r=new su(i),a=new Be.ZD,l=new Be.ZD,d=new $w(l.event);this.renderers=n.map(C=>new Gw(C,()=>this.model,a.event,d,s));for(let C of this.renderers)this.disposables.add(C);let u;s.keyboardNavigationLabelProvider&&(u=new Zw(this,s.keyboardNavigationLabelProvider,s.filter),s=Object.assign(Object.assign({},s),{filter:u}),this.disposables.add(u)),this.focus=new ou(()=>this.view.getFocusedElements()[0],s.identityProvider),this.selection=new ou(()=>this.view.getSelectedElements()[0],s.identityProvider),this.anchor=new ou(()=>this.view.getAnchorElement(),s.identityProvider),this.view=new Qw(e,t,r,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},function Kw(o,e){return e&&Object.assign(Object.assign({},e),{identityProvider:e.identityProvider&&{getId:t=>e.identityProvider.getId(t.element)},dnd:e.dnd&&new jw(o,e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent:t=>e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element})),isSelectionRangeChangeEvent:t=>e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},accessibilityProvider:e.accessibilityProvider&&Object.assign(Object.assign({},e.accessibilityProvider),{getSetSize(t){const i=o(),n=i.getNodeLocation(t),s=i.getParentNodeLocation(n);return i.getNode(s).visibleChildrenCount},getPosInSet:t=>t.visibleChildIndex+1,isChecked:e.accessibilityProvider&&e.accessibilityProvider.isChecked?t=>e.accessibilityProvider.isChecked(t.element):void 0,getRole:e.accessibilityProvider&&e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",getAriaLabel:t=>e.accessibilityProvider.getAriaLabel(t.element),getWidgetAriaLabel:()=>e.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:e.accessibilityProvider&&e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider&&e.accessibilityProvider.getAriaLevel?t=>e.accessibilityProvider.getAriaLevel(t.element):t=>t.depth,getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))}),keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}),enableKeyboardNavigation:e.simpleKeyboardNavigation})}(()=>this.model,s)),{tree:this})),this.model=this.createModel(e,this.view,s),a.input=this.model.onDidChangeCollapseState;const m=Be.ju.forEach(this.model.onDidSplice,C=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(C),this.selection.onDidModelSplice(C)})});if(m(()=>null,null,this.disposables),l.input=Be.ju.chain(Be.ju.any(m,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const C=new Set;for(const S of this.focus.getNodes())C.add(S);for(const S of this.selection.getNodes())C.add(S);return[...C.values()]}).event,!1!==s.keyboardSupport){const C=Be.ju.chain(this.view.onKeyDown).filter(S=>!Go(S.target)).map(S=>new hn.y(S));C.filter(S=>15===S.keyCode).on(this.onLeftArrow,this,this.disposables),C.filter(S=>17===S.keyCode).on(this.onRightArrow,this,this.disposables),C.filter(S=>10===S.keyCode).on(this.onSpace,this,this.disposables)}s.keyboardNavigationLabelProvider&&(this.typeFilterController=new qw(this,this.model,this.view,u,s.keyboardNavigationDelegate||np),this.focusNavigationFilter=S=>this.typeFilterController.shouldAllowFocus(S),this.disposables.add(this.typeFilterController)),this.styleElement=(0,ue.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===pa.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return Be.ju.map(this.view.onMouseDblClick,fp)}get onPointer(){return Be.ju.map(this.view.onPointer,fp)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return Be.ju.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return void 0===this._options.expandOnDoubleClick||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return void 0===this._options.expandOnlyOnTwistieClick||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(e={}){this._options=Object.assign(Object.assign({},this._options),e);for(const t of this.renderers)t.updateOptions(e);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===pa.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}domFocus(){this.view.domFocus()}layout(e,t){this.view.layout(e,t)}style(e){const t=`.${this.view.domId}`,i=[];e.treeIndentGuidesStroke&&(i.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeIndentGuidesStroke.transparent(.4)}; }`),i.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=i.join("\n"),this.view.style(e)}getParentElement(e){const t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}getFirstElementChild(e){return this.model.getFirstElementChild(e)}getNode(e){return this.model.getNode(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){const i=e.map(s=>this.model.getNode(s));this.selection.set(i,t);const n=e.map(s=>this.model.getListIndex(s)).filter(s=>s>-1);this.view.setSelection(n,t,!0)}getSelection(){return this.selection.get()}setFocus(e,t){const i=e.map(s=>this.model.getNode(s));this.focus.set(i,t);const n=e.map(s=>this.model.getListIndex(s)).filter(s=>s>-1);this.view.setFocus(n,t,!0)}focusNext(e=1,t=!1,i,n=this.focusNavigationFilter){this.view.focusNext(e,t,i,n)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const i=this.model.getListIndex(e);-1!==i&&this.view.reveal(i,t)}getRelativeTop(e){const t=this.model.getListIndex(e);return-1===t?null:this.view.getRelativeTop(t)}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const n=this.model.getNodeLocation(t[0]);if(!this.model.setCollapsed(n,!0)){const r=this.model.getParentNodeLocation(n);if(!r)return;const a=this.model.getListIndex(r);this.view.reveal(a),this.view.setFocus([a])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!1)){if(!i.children.some(l=>l.visible))return;const[r]=this.view.getFocus(),a=r+1;this.view.reveal(a),this.view.setFocus([a])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const n=this.model.getNodeLocation(t[0]);this.model.setCollapsed(n,void 0,e.browserEvent.altKey)}dispose(){(0,ze.B9)(this.disposables),this.view.dispose()}}class ru{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new zw(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare:(n,s)=>i.sorter.compare(n.element,s.element)}),this.identityProvider=i.identityProvider}setChildren(e,t=hi.$.empty(),i={}){const n=this.getElementLocation(e);this._setChildren(n,this.preserveCollapseState(t),i)}_setChildren(e,t=hi.$.empty(),i){const n=new Set,s=new Set;this.model.splice([...e,0],Number.MAX_VALUE,t,Object.assign(Object.assign({},i),{onDidCreateNode:l=>{var d;if(null===l.element)return;const u=l;if(n.add(u.element),this.nodes.set(u.element,u),this.identityProvider){const m=this.identityProvider.getId(u.element).toString();s.add(m),this.nodesByIdentity.set(m,u)}null===(d=i.onDidCreateNode)||void 0===d||d.call(i,u)},onDidDeleteNode:l=>{var d;if(null===l.element)return;const u=l;if(n.has(u.element)||this.nodes.delete(u.element),this.identityProvider){const m=this.identityProvider.getId(u.element).toString();s.has(m)||this.nodesByIdentity.delete(m)}null===(d=i.onDidDeleteNode)||void 0===d||d.call(i,u)}}))}preserveCollapseState(e=hi.$.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),hi.$.map(e,t=>{let i=this.nodes.get(t.element);if(!i&&this.identityProvider){const r=this.identityProvider.getId(t.element).toString();i=this.nodesByIdentity.get(r)}if(!i)return Object.assign(Object.assign({},t),{children:this.preserveCollapseState(t.children)});const n="boolean"==typeof t.collapsible?t.collapsible:i.collapsible,s=void 0!==t.collapsed?t.collapsed:i.collapsed;return Object.assign(Object.assign({},t),{collapsible:n,collapsed:s,children:this.preserveCollapseState(t.children)})})}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}getFirstElementChild(e=null){const t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const n=this.getElementLocation(e);return this.model.setCollapsed(n,t,i)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(null===e)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new us(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(null===e)throw new us(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new us(this.user,`Tree element not found: ${e}`);const i=this.model.getNodeLocation(t),n=this.model.getParentNodeLocation(i);return this.model.getNode(n).element}getElementLocation(e){if(null===e)return[];const t=this.nodes.get(e);if(!t)throw new us(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}}function Pc(o){return{element:{elements:[o.element],incompressible:o.incompressible||!1},children:hi.$.map(hi.$.from(o.children),Pc),collapsible:o.collapsible,collapsed:o.collapsed}}function Bc(o){const e=[o.element],t=o.incompressible||!1;let i,n;for(;[n,i]=hi.$.consume(hi.$.from(o.children),2),1===n.length&&!n[0].incompressible;)e.push((o=n[0]).element);return{element:{elements:e,incompressible:t},children:hi.$.map(hi.$.concat(n,i),Bc),collapsible:o.collapsible,collapsed:o.collapsed}}function au(o,e=0){let t;return t=e<o.element.elements.length-1?[au(o,e+1)]:hi.$.map(hi.$.from(o.children),i=>au(i,0)),0===e&&o.element.incompressible?{element:o.element.elements[e],children:t,incompressible:!0,collapsible:o.collapsible,collapsed:o.collapsed}:{element:o.element.elements[e],children:t,collapsible:o.collapsible,collapsed:o.collapsed}}function mp(o){return au(o,0)}function pp(o,e,t){return Object.assign(Object.assign({},o),o.element===e?{children:t}:{children:hi.$.map(hi.$.from(o.children),i=>pp(i,e,t))})}class Jw{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new ru(e,t,i),this.enabled=void 0===i.compressionEnabled||i.compressionEnabled,this.identityProvider=i.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(e,t=hi.$.empty(),i){const n=i.diffIdentityProvider&&(o=>({getId:e=>e.elements.map(t=>o.getId(t).toString()).join("\0")}))(i.diffIdentityProvider);if(null===e){const S=hi.$.map(t,this.enabled?Bc:Pc);return void this._setChildren(null,S,{diffIdentityProvider:n,diffDepth:1/0})}const s=this.nodes.get(e);if(!s)throw new Error("Unknown compressed tree node");const r=this.model.getNode(s),a=this.model.getParentNodeLocation(s),l=this.model.getNode(a),u=pp(mp(r),e,t),m=(this.enabled?Bc:Pc)(u),C=l.children.map(S=>S===r?m:S);this._setChildren(l.element,C,{diffIdentityProvider:n,diffDepth:r.depth-l.depth})}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const i=this.model.getNode().children,n=hi.$.map(i,mp),s=hi.$.map(n,e?Bc:Pc);this._setChildren(null,s,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){const n=new Set;this.model.setChildren(e,t,Object.assign(Object.assign({},i),{onDidCreateNode:a=>{for(const l of a.element.elements)n.add(l),this.nodes.set(l,a.element)},onDidDeleteNode:a=>{for(const l of a.element.elements)n.has(l)||this.nodes.delete(l)}}))}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(void 0===e)return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return null===t?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return null===i?null:i.elements[i.elements.length-1]}getFirstElementChild(e){const t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const n=this.getCompressedNode(e);return this.model.setCollapsed(n,t,i)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(null===e)return null;const t=this.nodes.get(e);if(!t)throw new us(this.user,`Tree element not found: ${e}`);return t}}const eS=o=>o[o.length-1];class lu{constructor(e,t){this.unwrapper=e,this.node=t}get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(e=>new lu(this.unwrapper,e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class nS{constructor(e,t,i={}){this.rootRef=null,this.elementMapper=i.elementMapper||eS;const n=s=>this.elementMapper(s.elements);this.nodeMapper=new eu(s=>new lu(n,s)),this.model=new Jw(e,function tS(o,e){return{splice(t,i,n){e.splice(t,i,n.map(s=>o.map(s)))},updateElementHeight(t,i){e.updateElementHeight(t,i)}}}(this.nodeMapper,t),function iS(o,e){return Object.assign(Object.assign({},e),{identityProvider:e.identityProvider&&{getId:t=>e.identityProvider.getId(o(t))},sorter:e.sorter&&{compare:(t,i)=>e.sorter.compare(t.elements[0],i.elements[0])},filter:e.filter&&{filter:(t,i)=>e.filter.filter(o(t),i)}})}(n,i))}get onDidSplice(){return Be.ju.map(this.model.onDidSplice,({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map(i=>this.nodeMapper.map(i)),deletedNodes:t.map(i=>this.nodeMapper.map(i))}))}get onDidChangeCollapseState(){return Be.ju.map(this.model.onDidChangeCollapseState,({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t}))}get onDidChangeRenderNodeCount(){return Be.ju.map(this.model.onDidChangeRenderNodeCount,e=>this.nodeMapper.map(e))}setChildren(e,t=hi.$.empty(),i={}){this.model.setChildren(e,t,i)}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}getFirstElementChild(e){const t=this.model.getFirstElementChild(e);return null==t?t:this.elementMapper(t.elements)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}}class cu extends gp{constructor(e,t,i,n,s={}){super(e,t,i,n,s),this.user=e}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(e,t=hi.$.empty(),i){this.model.setChildren(e,t,i)}rerender(e){void 0!==e?this.model.rerender(e):this.view.rerender()}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new ru(e,t,i)}}class _p{constructor(e,t){this._compressedTreeNodeProvider=e,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){const s=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);1===s.element.elements.length?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,n)):(i.compressedTreeNode=s,this.renderer.renderCompressedElements(s,t,i.data,n))}disposeElement(e,t,i,n){i.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(i.compressedTreeNode,t,i.data,n):this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.data,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(e,t)}}!function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);n>3&&s&&Object.defineProperty(e,t,s)}([Tn.H],_p.prototype,"compressedTreeNodeProvider",null);class Cp extends cu{constructor(e,t,i,n,s={}){const r=()=>this;super(e,t,i,n.map(l=>new _p(r,l)),function oS(o,e){return e&&Object.assign(Object.assign({},e),{keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let i;try{i=o().getCompressedTreeNode(t)}catch(n){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return 1===i.element.elements.length?e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(i.element.elements)}}})}(r,s))}setChildren(e,t=hi.$.empty(),i){this.model.setChildren(e,t,i)}createModel(e,t,i){return new nS(e,t,i)}updateOptions(e={}){super.updateOptions(e),void 0!==e.compressionEnabled&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}var Zo=function(o,e,t,i){return new(t||(t=Promise))(function(s,r){function a(u){try{d(i.next(u))}catch(m){r(m)}}function l(u){try{d(i.throw(u))}catch(m){r(m)}}function d(u){u.done?s(u.value):function n(s){return s instanceof t?s:new t(function(r){r(s)})}(u.value).then(a,l)}d((i=i.apply(o,e||[])).next())})};function du(o){return Object.assign(Object.assign({},o),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function hu(o,e){return!!e.parent&&(e.parent===o||hu(o,e.parent))}class uu{constructor(e){this.node=e}get element(){return this.node.element.element}get children(){return this.node.children.map(e=>new uu(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class aS{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...ki.lA.treeItemLoading.classNamesArray),!0):(t.classList.remove(...ki.lA.treeItemLoading.classNamesArray),!1)}disposeElement(e,t,i,n){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function bp(o){return{browserEvent:o.browserEvent,elements:o.elements.map(e=>e.element)}}function vp(o){return{browserEvent:o.browserEvent,element:o.element&&o.element.element,target:o.target}}class lS extends ll{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}}function fu(o){return o instanceof ll?new lS(o):o}class cS{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(fu(e),t)}onDragOver(e,t,i,n,s=!0){return this.dnd.onDragOver(fu(e),t&&t.element,i,n)}drop(e,t,i,n){this.dnd.drop(fu(e),t&&t.element,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}function wp(o){return o&&Object.assign(Object.assign({},o),{collapseByDefault:!0,identityProvider:o.identityProvider&&{getId:e=>o.identityProvider.getId(e.element)},dnd:o.dnd&&new cS(o.dnd),multipleSelectionController:o.multipleSelectionController&&{isSelectionSingleChangeEvent:e=>o.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element})),isSelectionRangeChangeEvent:e=>o.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},accessibilityProvider:o.accessibilityProvider&&Object.assign(Object.assign({},o.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:o.accessibilityProvider.getRole?e=>o.accessibilityProvider.getRole(e.element):()=>"treeitem",isChecked:o.accessibilityProvider.isChecked?e=>{var t;return!!(null===(t=o.accessibilityProvider)||void 0===t?void 0:t.isChecked(e.element))}:void 0,getAriaLabel:e=>o.accessibilityProvider.getAriaLabel(e.element),getWidgetAriaLabel:()=>o.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:o.accessibilityProvider.getWidgetRole?()=>o.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:o.accessibilityProvider.getAriaLevel&&(e=>o.accessibilityProvider.getAriaLevel(e.element)),getActiveDescendantId:o.accessibilityProvider.getActiveDescendantId&&(e=>o.accessibilityProvider.getActiveDescendantId(e.element))}),filter:o.filter&&{filter:(e,t)=>o.filter.filter(e.element,t)},keyboardNavigationLabelProvider:o.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},o.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:e=>o.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}),sorter:void 0,expandOnlyOnTwistieClick:void 0===o.expandOnlyOnTwistieClick?void 0:"function"!=typeof o.expandOnlyOnTwistieClick?o.expandOnlyOnTwistieClick:e=>o.expandOnlyOnTwistieClick(e.element),additionalScrollHeight:o.additionalScrollHeight})}function gu(o,e){e(o),o.children.forEach(t=>gu(t,e))}class Sp{constructor(e,t,i,n,s,r={}){this.user=e,this.dataSource=s,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new Be.Q5,this._onDidChangeNodeSlowState=new Be.Q5,this.nodeMapper=new eu(a=>new uu(a)),this.disposables=new ze.SL,this.identityProvider=r.identityProvider,this.autoExpandSingleChildren=void 0!==r.autoExpandSingleChildren&&r.autoExpandSingleChildren,this.sorter=r.sorter,this.collapseByDefault=r.collapseByDefault,this.tree=this.createTree(e,t,i,n,r),this.root=du({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return Be.ju.map(this.tree.onDidChangeFocus,bp)}get onDidChangeSelection(){return Be.ju.map(this.tree.onDidChangeSelection,bp)}get onMouseDblClick(){return Be.ju.map(this.tree.onMouseDblClick,vp)}get onPointer(){return Be.ju.map(this.tree.onPointer,vp)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidDispose(){return this.tree.onDidDispose}createTree(e,t,i,n,s){const r=new su(i),a=n.map(d=>new aS(d,this.nodeMapper,this._onDidChangeNodeSlowState.event)),l=wp(s)||{};return new cu(e,t,r,a,l)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}setInput(e,t){return Zo(this,void 0,void 0,function*(){this.refreshPromises.forEach(n=>n.cancel()),this.refreshPromises.clear(),this.root.element=e;const i=t&&{viewState:t,focus:[],selection:[]};yield this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&"number"==typeof t.scrollTop&&(this.scrollTop=t.scrollTop)})}_updateChildren(e=this.root.element,t=!0,i=!1,n,s){return Zo(this,void 0,void 0,function*(){if(void 0===this.root.element)throw new us(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield Be.ju.toPromise(this._onDidRender.event));const r=this.getDataNode(e);if(yield this.refreshAndRenderNode(r,t,n,s),i)try{this.tree.rerender(r)}catch(a){}})}rerender(e){if(void 0===e||e===this.root.element)return void this.tree.rerender();const t=this.getDataNode(e);this.tree.rerender(t)}getNode(e=this.root.element){const t=this.getDataNode(e),i=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(i)}collapse(e,t=!1){const i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}expand(e,t=!1){return Zo(this,void 0,void 0,function*(){if(void 0===this.root.element)throw new us(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield Be.ju.toPromise(this._onDidRender.event));const i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i)||(i.refreshPromise&&(yield this.root.refreshPromise,yield Be.ju.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i)))return!1;const n=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(yield this.root.refreshPromise,yield Be.ju.toPromise(this._onDidRender.event)),n})}setSelection(e,t){const i=e.map(n=>this.getDataNode(n));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map(t=>t.element)}setFocus(e,t){const i=e.map(n=>this.getDataNode(n));this.tree.setFocus(i,t)}getFocus(){return this.tree.getFocus().map(t=>t.element)}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getParentElement(e){const t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}getFirstElementChild(e=this.root.element){const t=this.getDataNode(e),i=this.tree.getFirstElementChild(t===this.root?null:t);return i&&i.element}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new us(this.user,`Data tree node not found: ${e}`);return t}refreshAndRenderNode(e,t,i,n){return Zo(this,void 0,void 0,function*(){yield this.refreshNode(e,t,i),this.render(e,i,n)})}refreshNode(e,t,i){return Zo(this,void 0,void 0,function*(){let n;return this.subTreeRefreshPromises.forEach((s,r)=>{!n&&function rS(o,e){return o===e||hu(o,e)||hu(e,o)}(r,e)&&(n=s.then(()=>this.refreshNode(e,t,i)))}),n||this.doRefreshSubTree(e,t,i)})}doRefreshSubTree(e,t,i){return Zo(this,void 0,void 0,function*(){let n;e.refreshPromise=new Promise(s=>n=s),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)});try{const s=yield this.doRefreshNode(e,t,i);e.stale=!1,yield se.jT.settled(s.map(r=>this.doRefreshSubTree(r,t,i)))}finally{n()}})}doRefreshNode(e,t,i){return Zo(this,void 0,void 0,function*(){let n;if(e.hasChildren=!!this.dataSource.hasChildren(e.element),e.hasChildren){const s=(0,se.Vs)(800);s.then(()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)},r=>null),n=this.doGetChildren(e).finally(()=>s.cancel())}else n=Promise.resolve(hi.$.empty());try{const s=yield n;return this.setChildren(e,s,t,i)}catch(s){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),(0,he.n2)(s))return[];throw s}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}})}doGetChildren(e){let t=this.refreshPromises.get(e);return t||(t=(0,se.PG)(()=>Zo(this,void 0,void 0,function*(){const i=yield this.dataSource.getChildren(e.element);return this.processChildren(i)})),this.refreshPromises.set(e,t),t.finally(()=>{this.refreshPromises.delete(e)}))}_onDidChangeCollapseState({node:e,deep:t}){null!==e.element&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(he.dL))}setChildren(e,t,i,n){const s=[...t];if(0===e.children.length&&0===s.length)return[];const r=new Map,a=new Map;for(const u of e.children)if(r.set(u.element,u),this.identityProvider){const m=this.tree.isCollapsed(u);a.set(u.id,{node:u,collapsed:m})}const l=[],d=s.map(u=>{const m=!!this.dataSource.hasChildren(u);if(!this.identityProvider){const j=du({element:u,parent:e,hasChildren:m});return m&&this.collapseByDefault&&!this.collapseByDefault(u)&&(j.collapsedByDefault=!1,l.push(j)),j}const C=this.identityProvider.getId(u).toString(),S=a.get(C);if(S){const j=S.node;return r.delete(j.element),this.nodes.delete(j.element),this.nodes.set(u,j),j.element=u,j.hasChildren=m,i?S.collapsed?(j.children.forEach(J=>gu(J,ne=>this.nodes.delete(ne.element))),j.children.splice(0,j.children.length),j.stale=!0):l.push(j):m&&this.collapseByDefault&&!this.collapseByDefault(u)&&(j.collapsedByDefault=!1,l.push(j)),j}const M=du({element:u,parent:e,id:C,hasChildren:m});return n&&n.viewState.focus&&n.viewState.focus.indexOf(C)>-1&&n.focus.push(M),n&&n.viewState.selection&&n.viewState.selection.indexOf(C)>-1&&n.selection.push(M),n&&n.viewState.expanded&&n.viewState.expanded.indexOf(C)>-1?l.push(M):m&&this.collapseByDefault&&!this.collapseByDefault(u)&&(M.collapsedByDefault=!1,l.push(M)),M});for(const u of r.values())gu(u,m=>this.nodes.delete(m.element));for(const u of d)this.nodes.set(u.element,u);return e.children.splice(0,e.children.length,...d),e!==this.root&&this.autoExpandSingleChildren&&1===d.length&&0===l.length&&(d[0].collapsedByDefault=!1,l.push(d[0])),l}render(e,t,i){const n=e.children.map(r=>this.asTreeElement(r,t)),s=i&&Object.assign(Object.assign({},i),{diffIdentityProvider:i.diffIdentityProvider&&{getId:r=>i.diffIdentityProvider.getId(r.element)}});this.tree.setChildren(e===this.root?null:e,n,s),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return i=!(t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1)&&e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?hi.$.map(e.children,n=>this.asTreeElement(n,t)):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose()}}class mu{constructor(e){this.node=e}get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(e=>new mu(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class dS{constructor(e,t,i,n){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderCompressedElements(e,t,i,n){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...ki.lA.treeItemLoading.classNamesArray),!0):(t.classList.remove(...ki.lA.treeItemLoading.classNamesArray),!1)}disposeElement(e,t,i,n){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,n)}disposeCompressedElements(e,t,i,n){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,ze.B9)(this.disposables)}}class uS extends Sp{constructor(e,t,i,n,s,r,a={}){super(e,t,i,s,r,a),this.compressionDelegate=n,this.compressibleNodeMapper=new eu(l=>new mu(l)),this.filter=a.filter}createTree(e,t,i,n,s){const r=new su(i),a=n.map(d=>new dS(d,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),l=function hS(o){const e=o&&wp(o);return e&&Object.assign(Object.assign({},e),{keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:t=>o.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map(i=>i.element))})})}(s)||{};return new Cp(e,t,r,a,l)}asTreeElement(e,t){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(e.element)},super.asTreeElement(e,t))}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t){if(!this.identityProvider)return super.render(e,t);const i=C=>this.identityProvider.getId(C).toString(),n=C=>{const S=new Set;for(const M of C){const j=this.tree.getCompressedTreeNode(M===this.root?null:M);if(j.element)for(const J of j.element.elements)S.add(i(J.element))}return S},s=n(this.tree.getSelection()),r=n(this.tree.getFocus());super.render(e,t);const a=this.getSelection();let l=!1;const d=this.getFocus();let u=!1;const m=C=>{const S=C.element;if(S)for(let M=0;M<S.elements.length;M++){const j=i(S.elements[M].element),J=S.elements[S.elements.length-1].element;s.has(j)&&-1===a.indexOf(J)&&(a.push(J),l=!0),r.has(j)&&-1===d.indexOf(J)&&(d.push(J),u=!0)}C.children.forEach(m)};m(this.tree.getCompressedTreeNode(e===this.root?null:e)),l&&this.setSelection(a),u&&this.setFocus(d)}processChildren(e){return this.filter&&(e=hi.$.filter(e,t=>{const n=function fS(o){return"boolean"==typeof o?o?1:0:tu(o)?cl(o.visibility):cl(o)}(this.filter.filter(t,1));if(2===n)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===n})),super.processChildren(e)}}class gS extends gp{constructor(e,t,i,n,s,r={}){super(e,t,i,n,r),this.user=e,this.dataSource=s,this.identityProvider=r.identityProvider}createModel(e,t,i){return new ru(e,t,i)}}new Rt.uy("isMac",h.dz,(0,_.N)("isMac","Whether the operating system is macOS")),new Rt.uy("isLinux",h.IJ,(0,_.N)("isLinux","Whether the operating system is Linux")),new Rt.uy("isWindows",h.ED,(0,_.N)("isWindows","Whether the operating system is Windows")),new Rt.uy("isWeb",h.$L,(0,_.N)("isWeb","Whether the platform is a web browser")),new Rt.uy("isMacNative",h.dz&&!h.$L,(0,_.N)("isMacNative","Whether the operating system is macOS on a non-browser platform")),new Rt.uy("isIOS",h.gn,(0,_.N)("isIOS","Whether the operating system is IOS")),new Rt.uy("isDevelopment",!1,!0);const yp="inputFocus";new Rt.uy(yp,!1,(0,_.N)("inputFocus","Whether keyboard focus is inside an input box"));var no=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},$t=function(o,e){return function(t,i){e(t,i,o)}};const so=(0,Ft.yh)("listService");let pu=class{constructor(e){this._themeService=e,this.disposables=new ze.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(e){var t,i;e!==this._lastFocusedWidget&&(null===(t=this._lastFocusedWidget)||void 0===t||t.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=e,null===(i=this._lastFocusedWidget)||void 0===i||i.getHTMLElement().classList.add("last-focused"))}register(e,t){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const n=new lp((0,ue.dS)(),"");this.disposables.add(la(n,this._themeService))}if(this.lists.some(n=>n.widget===e))throw new Error("Cannot register the same widget multiple times");const i={widget:e,extraContextKeys:t};return this.lists.push(i),e.getHTMLElement()===document.activeElement&&this.setLastFocusedList(e),(0,ze.F8)(e.onDidFocus(()=>this.setLastFocusedList(e)),(0,ze.OF)(()=>this.lists.splice(this.lists.indexOf(i),1)),e.onDidDispose(()=>{this.lists=this.lists.filter(n=>n!==i),this._lastFocusedWidget===e&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};pu=no([$t(0,Ut.XE)],pu);const Lp=new Rt.uy("listFocus",!0),Fc=new Rt.uy("listSupportsMultiselect",!0),_u=(Rt.Ao.and(Lp,Rt.Ao.not(yp)),new Rt.uy("listHasSelectionOrFocus",!1)),Cu=new Rt.uy("listDoubleSelection",!1),bu=new Rt.uy("listMultiSelection",!1),Wc=new Rt.uy("listSelectionNavigation",!1),mS=new Rt.uy("treeElementCanCollapse",!1),pS=new Rt.uy("treeElementHasParent",!1),_S=new Rt.uy("treeElementCanExpand",!1),CS=new Rt.uy("treeElementHasChild",!1),Ep="listAutomaticKeyboardNavigation";function Vc(o,e){const t=o.createScoped(e.getHTMLElement());return Lp.bindTo(t),t}const Sr="workbench.list.multiSelectModifier",vu="workbench.list.openMode",fs="workbench.list.horizontalScrolling",Hc="workbench.list.keyboardNavigation",wu="workbench.list.automaticKeyboardNavigation",dl="workbench.tree.indent",zc="workbench.tree.renderIndentGuides",Hs="workbench.list.smoothScrolling",oo="workbench.list.mouseWheelScrollSensitivity",ro="workbench.list.fastScrollSensitivity",Uc="workbench.tree.expandMode";function ao(o){return"alt"===o.getValue(Sr)}class bS extends ze.JT{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=ao(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(Sr)&&(this.useAltAsMultipleSelectionModifier=ao(this.configurationService))}))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:sp(e)}isSelectionRangeChangeEvent(e){return op(e)}}function jc(o,e,t){var i;const n=new ze.SL;return[Object.assign(Object.assign({},o),{keyboardNavigationDelegate:{mightProducePrintableCharacter:r=>t.mightProducePrintableCharacter(r)},smoothScrolling:Boolean(e.getValue(Hs)),mouseWheelScrollSensitivity:e.getValue(oo),fastScrollSensitivity:e.getValue(ro),multipleSelectionController:null!==(i=o.multipleSelectionController)&&void 0!==i?i:n.add(new bS(e))}),n]}let Su=class extends No{constructor(e,t,i,n,s,r,a,l,d,u){const m=void 0!==s.horizontalScrolling?s.horizontalScrolling:Boolean(d.getValue(fs)),[C,S]=jc(s,d,u);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},Fs(l.getColorTheme(),Nc)),C),{horizontalScrolling:m})),this.disposables.add(S),this.contextKeyService=Vc(r,this),this.themeService=l,this.listSupportsMultiSelect=Fc.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==s.multipleSelectionSupport),Wc.bindTo(this.contextKeyService).set(Boolean(s.selectionNavigation)),this.listHasSelectionOrFocus=_u.bindTo(this.contextKeyService),this.listDoubleSelection=Cu.bindTo(this.contextKeyService),this.listMultiSelection=bu.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=ao(d),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),s.overrideStyles&&this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const j=this.getSelection(),J=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(j.length>0||J.length>0),this.listMultiSelection.set(j.length>1),this.listDoubleSelection.set(2===j.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const j=this.getSelection(),J=this.getFocus();this.listHasSelectionOrFocus.set(j.length>0||J.length>0)})),this.disposables.add(d.onDidChangeConfiguration(j=>{j.affectsConfiguration(Sr)&&(this._useAltAsMultipleSelectionModifier=ao(d));let J={};if(j.affectsConfiguration(fs)&&void 0===this.horizontalScrolling){const ne=Boolean(d.getValue(fs));J=Object.assign(Object.assign({},J),{horizontalScrolling:ne})}if(j.affectsConfiguration(Hs)){const ne=Boolean(d.getValue(Hs));J=Object.assign(Object.assign({},J),{smoothScrolling:ne})}if(j.affectsConfiguration(oo)){const ne=d.getValue(oo);J=Object.assign(Object.assign({},J),{mouseWheelScrollSensitivity:ne})}if(j.affectsConfiguration(ro)){const ne=d.getValue(ro);J=Object.assign(Object.assign({},J),{fastScrollSensitivity:ne})}Object.keys(J).length>0&&this.updateOptions(J)})),this.navigator=new Ip(this,Object.assign({configurationService:d},s)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=la(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),super.dispose()}};Su=no([$t(5,Rt.i6),$t(6,so),$t(7,Ut.XE),$t(8,zi.Ui),$t(9,hs.d)],Su);let xp=class extends class Ow{constructor(e,t,i,n,s={}){const r=()=>this.model,a=n.map(l=>new Tw(l,r));this.list=new No(e,t,i,a,function Rw(o,e){return Object.assign(Object.assign({},e),{accessibilityProvider:e.accessibilityProvider&&new Mw(o,e.accessibilityProvider)})}(r,s))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return Be.ju.map(this.list.onMouseDblClick,({element:e,index:t,browserEvent:i})=>({element:void 0===e?void 0:this._model.get(e),index:t,browserEvent:i}))}get onPointer(){return Be.ju.map(this.list.onPointer,({element:e,index:t,browserEvent:i})=>({element:void 0===e?void 0:this._model.get(e),index:t,browserEvent:i}))}get onDidChangeSelection(){return Be.ju.map(this.list.onDidChangeSelection,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(n=>this._model.get(n)),indexes:t,browserEvent:i}))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,(0,y.w6)(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(e=>this.model.get(e))}style(e){this.list.style(e)}dispose(){this.list.dispose()}}{constructor(e,t,i,n,s,r,a,l,d,u){const m=void 0!==s.horizontalScrolling?s.horizontalScrolling:Boolean(d.getValue(fs)),[C,S]=jc(s,d,u);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},Fs(l.getColorTheme(),Nc)),C),{horizontalScrolling:m})),this.disposables=new ze.SL,this.disposables.add(S),this.contextKeyService=Vc(r,this),this.themeService=l,this.horizontalScrolling=s.horizontalScrolling,this.listSupportsMultiSelect=Fc.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==s.multipleSelectionSupport),Wc.bindTo(this.contextKeyService).set(Boolean(s.selectionNavigation)),this._useAltAsMultipleSelectionModifier=ao(d),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),s.overrideStyles&&this.updateStyles(s.overrideStyles),s.overrideStyles&&this.disposables.add(la(this,l,s.overrideStyles)),this.disposables.add(d.onDidChangeConfiguration(j=>{j.affectsConfiguration(Sr)&&(this._useAltAsMultipleSelectionModifier=ao(d));let J={};if(j.affectsConfiguration(fs)&&void 0===this.horizontalScrolling){const ne=Boolean(d.getValue(fs));J=Object.assign(Object.assign({},J),{horizontalScrolling:ne})}if(j.affectsConfiguration(Hs)){const ne=Boolean(d.getValue(Hs));J=Object.assign(Object.assign({},J),{smoothScrolling:ne})}if(j.affectsConfiguration(oo)){const ne=d.getValue(oo);J=Object.assign(Object.assign({},J),{mouseWheelScrollSensitivity:ne})}if(j.affectsConfiguration(ro)){const ne=d.getValue(ro);J=Object.assign(Object.assign({},J),{fastScrollSensitivity:ne})}Object.keys(J).length>0&&this.updateOptions(J)})),this.navigator=new Ip(this,Object.assign({configurationService:d},s)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=la(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),this.disposables.dispose(),super.dispose()}};xp=no([$t(5,Rt.i6),$t(6,so),$t(7,Ut.XE),$t(8,zi.Ui),$t(9,hs.d)],xp);let Np=class extends Hw{constructor(e,t,i,n,s,r,a,l,d,u,m){const C=void 0!==r.horizontalScrolling?r.horizontalScrolling:Boolean(u.getValue(fs)),[S,M]=jc(r,u,m);super(e,t,i,n,s,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},Fs(d.getColorTheme(),Nc)),S),{horizontalScrolling:C})),this.disposables.add(M),this.contextKeyService=Vc(a,this),this.themeService=d,this.listSupportsMultiSelect=Fc.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==r.multipleSelectionSupport),Wc.bindTo(this.contextKeyService).set(Boolean(r.selectionNavigation)),this.listHasSelectionOrFocus=_u.bindTo(this.contextKeyService),this.listDoubleSelection=Cu.bindTo(this.contextKeyService),this.listMultiSelection=bu.bindTo(this.contextKeyService),this.horizontalScrolling=r.horizontalScrolling,this._useAltAsMultipleSelectionModifier=ao(u),this.disposables.add(this.contextKeyService),this.disposables.add(l.register(this)),r.overrideStyles&&this.updateStyles(r.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const J=this.getSelection(),ne=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(J.length>0||ne.length>0),this.listMultiSelection.set(J.length>1),this.listDoubleSelection.set(2===J.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const J=this.getSelection(),ne=this.getFocus();this.listHasSelectionOrFocus.set(J.length>0||ne.length>0)})),this.disposables.add(u.onDidChangeConfiguration(J=>{J.affectsConfiguration(Sr)&&(this._useAltAsMultipleSelectionModifier=ao(u));let ne={};if(J.affectsConfiguration(fs)&&void 0===this.horizontalScrolling){const X=Boolean(u.getValue(fs));ne=Object.assign(Object.assign({},ne),{horizontalScrolling:X})}if(J.affectsConfiguration(Hs)){const X=Boolean(u.getValue(Hs));ne=Object.assign(Object.assign({},ne),{smoothScrolling:X})}if(J.affectsConfiguration(oo)){const X=u.getValue(oo);ne=Object.assign(Object.assign({},ne),{mouseWheelScrollSensitivity:X})}if(J.affectsConfiguration(ro)){const X=u.getValue(ro);ne=Object.assign(Object.assign({},ne),{fastScrollSensitivity:X})}Object.keys(ne).length>0&&this.updateOptions(ne)})),this.navigator=new vS(this,Object.assign({configurationService:u},r)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=la(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),this.disposables.dispose(),super.dispose()}};Np=no([$t(6,Rt.i6),$t(7,so),$t(8,Ut.XE),$t(9,zi.Ui),$t(10,hs.d)],Np);class yu extends ze.JT{constructor(e,t){var i;super(),this.widget=e,this._onDidOpen=this._register(new Be.Q5),this.onDidOpen=this._onDidOpen.event,this._register(Be.ju.filter(this.widget.onDidChangeSelection,n=>n.browserEvent instanceof KeyboardEvent)(n=>this.onSelectionFromKeyboard(n))),this._register(this.widget.onPointer(n=>this.onPointer(n.element,n.browserEvent))),this._register(this.widget.onMouseDblClick(n=>this.onMouseDblClick(n.element,n.browserEvent))),"boolean"!=typeof(null==t?void 0:t.openOnSingleClick)&&(null==t?void 0:t.configurationService)?(this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue(vu)),this._register(null==t?void 0:t.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue(vu))}))):this.openOnSingleClick=null===(i=null==t?void 0:t.openOnSingleClick)||void 0===i||i}onSelectionFromKeyboard(e){if(1!==e.elements.length)return;const t=e.browserEvent,i="boolean"!=typeof t.preserveFocus||t.preserveFocus,n="boolean"==typeof t.pinned?t.pinned:!i;this._open(this.getSelectedElement(),i,n,!1,e.browserEvent)}onPointer(e,t){this.openOnSingleClick&&2!==t.detail&&this._open(e,!0,1===t.button,t.ctrlKey||t.metaKey||t.altKey,t)}onMouseDblClick(e,t){if(!t)return;const i=t.target;i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&t.offsetX<16||this._open(e,!1,!0,t.ctrlKey||t.metaKey||t.altKey,t)}_open(e,t,i,n,s){!e||this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:i,revealIfVisible:!0},sideBySide:n,element:e,browserEvent:s})}}class Ip extends yu{constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class vS extends yu{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class wS extends yu{constructor(e,t){super(e,t)}getSelectedElement(){var e;return null!==(e=this.widget.getSelection()[0])&&void 0!==e?e:void 0}}function SS(o,e){let t=!1;return i=>{if(i.toKeybinding().isModifierKey())return!1;if(t)return t=!1,!1;const n=e.softDispatch(i,o);return n&&n.enterChord?(t=!0,!1):(t=!1,!0)}}let Dp=class extends cu{constructor(e,t,i,n,s,r,a,l,d,u,m){const{options:C,getAutomaticKeyboardNavigation:S,disposable:M}=hl(t,s,r,d,u,m);super(e,t,i,n,C),this.disposables.add(M),this.internals=new yr(this,s,S,s.overrideStyles,r,a,l,d,m),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};Dp=no([$t(5,Rt.i6),$t(6,so),$t(7,Ut.XE),$t(8,zi.Ui),$t(9,hs.d),$t(10,as)],Dp);let kp=class extends Cp{constructor(e,t,i,n,s,r,a,l,d,u,m){const{options:C,getAutomaticKeyboardNavigation:S,disposable:M}=hl(t,s,r,d,u,m);super(e,t,i,n,C),this.disposables.add(M),this.internals=new yr(this,s,S,s.overrideStyles,r,a,l,d,m),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};kp=no([$t(5,Rt.i6),$t(6,so),$t(7,Ut.XE),$t(8,zi.Ui),$t(9,hs.d),$t(10,as)],kp);let Tp=class extends gS{constructor(e,t,i,n,s,r,a,l,d,u,m,C){const{options:S,getAutomaticKeyboardNavigation:M,disposable:j}=hl(t,r,a,u,m,C);super(e,t,i,n,s,S),this.disposables.add(j),this.internals=new yr(this,r,M,r.overrideStyles,a,l,d,u,C),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};Tp=no([$t(6,Rt.i6),$t(7,so),$t(8,Ut.XE),$t(9,zi.Ui),$t(10,hs.d),$t(11,as)],Tp);let Mp=class extends Sp{constructor(e,t,i,n,s,r,a,l,d,u,m,C){const{options:S,getAutomaticKeyboardNavigation:M,disposable:j}=hl(t,r,a,u,m,C);super(e,t,i,n,s,S),this.disposables.add(j),this.internals=new yr(this,r,M,r.overrideStyles,a,l,d,u,C),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};Mp=no([$t(6,Rt.i6),$t(7,so),$t(8,Ut.XE),$t(9,zi.Ui),$t(10,hs.d),$t(11,as)],Mp);let Rp=class extends uS{constructor(e,t,i,n,s,r,a,l,d,u,m,C,S){const{options:M,getAutomaticKeyboardNavigation:j,disposable:J}=hl(t,a,l,m,C,S);super(e,t,i,n,s,r,M),this.disposables.add(J),this.internals=new yr(this,a,j,a.overrideStyles,l,d,u,m,S),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};function hl(o,e,t,i,n,s){var r;const a=()=>{let M=Boolean(t.getContextKeyValue(Ep));return M&&(M=Boolean(i.getValue(wu))),M},l=s.isScreenReaderOptimized(),d=e.simpleKeyboardNavigation||l?"simple":i.getValue(Hc),u=void 0!==e.horizontalScrolling?e.horizontalScrolling:Boolean(i.getValue(fs)),[m,C]=jc(e,i,n),S=e.additionalScrollHeight;return{getAutomaticKeyboardNavigation:a,disposable:C,options:Object.assign(Object.assign({keyboardSupport:!1},m),{indent:"number"==typeof i.getValue(dl)?i.getValue(dl):void 0,renderIndentGuides:i.getValue(zc),smoothScrolling:Boolean(i.getValue(Hs)),automaticKeyboardNavigation:a(),simpleKeyboardNavigation:"simple"===d,filterOnType:"filter"===d,horizontalScrolling:u,keyboardNavigationEventFilter:SS(o,n),additionalScrollHeight:S,hideTwistiesOfChildlessElements:e.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(r=e.expandOnlyOnTwistieClick)&&void 0!==r?r:"doubleClick"===i.getValue(Uc)})}}Rp=no([$t(7,Rt.i6),$t(8,so),$t(9,Ut.XE),$t(10,zi.Ui),$t(11,hs.d),$t(12,as)],Rp);let yr=class{constructor(e,t,i,n,s,r,a,l,d){this.tree=e,this.themeService=a,this.disposables=[],this.contextKeyService=Vc(s,e),this.listSupportsMultiSelect=Fc.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==t.multipleSelectionSupport),Wc.bindTo(this.contextKeyService).set(Boolean(t.selectionNavigation)),this.hasSelectionOrFocus=_u.bindTo(this.contextKeyService),this.hasDoubleSelection=Cu.bindTo(this.contextKeyService),this.hasMultiSelection=bu.bindTo(this.contextKeyService),this.treeElementCanCollapse=mS.bindTo(this.contextKeyService),this.treeElementHasParent=pS.bindTo(this.contextKeyService),this.treeElementCanExpand=_S.bindTo(this.contextKeyService),this.treeElementHasChild=CS.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=ao(l);const m=new Set;m.add(Ep);const C=()=>{const j=d.isScreenReaderOptimized()?"simple":l.getValue(Hc);e.updateOptions({simpleKeyboardNavigation:"simple"===j,filterOnType:"filter"===j})};this.updateStyleOverrides(n);const S=()=>{const M=e.getFocus()[0];if(!M)return;const j=e.getNode(M);this.treeElementCanCollapse.set(j.collapsible&&!j.collapsed),this.treeElementHasParent.set(!!e.getParentElement(M)),this.treeElementCanExpand.set(j.collapsible&&j.collapsed),this.treeElementHasChild.set(!!e.getFirstElementChild(M))};this.disposables.push(this.contextKeyService,r.register(e),e.onDidChangeSelection(()=>{const M=e.getSelection(),j=e.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(M.length>0||j.length>0),this.hasMultiSelection.set(M.length>1),this.hasDoubleSelection.set(2===M.length)})}),e.onDidChangeFocus(()=>{const M=e.getSelection(),j=e.getFocus();this.hasSelectionOrFocus.set(M.length>0||j.length>0),S()}),e.onDidChangeCollapseState(S),e.onDidChangeModel(S),l.onDidChangeConfiguration(M=>{let j={};if(M.affectsConfiguration(Sr)&&(this._useAltAsMultipleSelectionModifier=ao(l)),M.affectsConfiguration(dl)){const J=l.getValue(dl);j=Object.assign(Object.assign({},j),{indent:J})}if(M.affectsConfiguration(zc)){const J=l.getValue(zc);j=Object.assign(Object.assign({},j),{renderIndentGuides:J})}if(M.affectsConfiguration(Hs)){const J=Boolean(l.getValue(Hs));j=Object.assign(Object.assign({},j),{smoothScrolling:J})}if(M.affectsConfiguration(Hc)&&C(),M.affectsConfiguration(wu)&&(j=Object.assign(Object.assign({},j),{automaticKeyboardNavigation:i()})),M.affectsConfiguration(fs)&&void 0===t.horizontalScrolling){const J=Boolean(l.getValue(fs));j=Object.assign(Object.assign({},j),{horizontalScrolling:J})}if(M.affectsConfiguration(Uc)&&void 0===t.expandOnlyOnTwistieClick&&(j=Object.assign(Object.assign({},j),{expandOnlyOnTwistieClick:"doubleClick"===l.getValue(Uc)})),M.affectsConfiguration(oo)){const J=l.getValue(oo);j=Object.assign(Object.assign({},j),{mouseWheelScrollSensitivity:J})}if(M.affectsConfiguration(ro)){const J=l.getValue(ro);j=Object.assign(Object.assign({},j),{fastScrollSensitivity:J})}Object.keys(j).length>0&&e.updateOptions(j)}),this.contextKeyService.onDidChangeContext(M=>{M.affectsSome(m)&&e.updateOptions({automaticKeyboardNavigation:i()})}),d.onDidChangeScreenReaderOptimized(()=>C())),this.navigator=new wS(e,Object.assign({configurationService:l},t)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(e){void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){(0,ze.B9)(this.styler),this.styler=e?la(this.tree,this.themeService,e):ze.JT.None}dispose(){this.disposables=(0,ze.B9)(this.disposables),(0,ze.B9)(this.styler),this.styler=void 0}};yr=no([$t(4,Rt.i6),$t(5,so),$t(6,Ut.XE),$t(7,zi.Ui),$t(8,as)],yr),Ls.B.as(Xr_Configuration).registerConfiguration({id:"workbench",order:7,title:(0,_.N)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[Sr]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[(0,_.N)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,_.N)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,_.N)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[vu]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,_.N)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[fs]:{type:"boolean",default:!1,description:(0,_.N)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[dl]:{type:"number",default:8,minimum:4,maximum:40,description:(0,_.N)("tree indent setting","Controls tree indentation in pixels.")},[zc]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,_.N)("render tree indent guides","Controls whether the tree should render indent guides.")},[Hs]:{type:"boolean",default:!1,description:(0,_.N)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[oo]:{type:"number",default:1,description:(0,_.N)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[ro]:{type:"number",default:5,description:(0,_.N)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[Hc]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,_.N)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,_.N)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,_.N)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,_.N)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},[wu]:{type:"boolean",default:!0,markdownDescription:(0,_.N)("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},[Uc]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,_.N)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}});var Kc=(()=>(function(o){o[o.PRESERVE=0]="PRESERVE",o[o.LAST=1]="LAST"}(Kc||(Kc={})),Kc))();Ls.B.add("workbench.contributions.quickaccess",new class yS{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return 0===e.prefix.length?this.defaultProvider=e:this.providers.push(e),this.providers.sort((t,i)=>i.prefix.length-t.prefix.length),(0,ze.OF)(()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,y.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find(i=>e.startsWith(i.prefix))||this.defaultProvider}});const Ap=(0,Ft.yh)("quickInputService");var Pp=function(o,e){return function(t,i){e(t,i,o)}};let Lu=class extends ze.JT{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=Ls.B.as("workbench.contributions.quickaccess"),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,i){var n;const[s,r]=this.getOrInstantiateProvider(e),a=this.visibleQuickAccess,l=null==a?void 0:a.descriptor;if(a&&r&&l===r)return e!==r.prefix&&!(null==i?void 0:i.preserveValue)&&(a.picker.value=e),void this.adjustValueSelection(a.picker,r,i);if(r&&!(null==i?void 0:i.preserveValue)){let S;if(a&&l&&l!==r){const M=a.value.substr(l.prefix.length);M&&(S=`${r.prefix}${M}`)}if(!S){const M=null==s?void 0:s.defaultFilterValue;M===Kc.LAST?S=this.lastAcceptedPickerValues.get(r):"string"==typeof M&&(S=`${r.prefix}${M}`)}"string"==typeof S&&(e=S)}const d=new ze.SL,u=d.add(this.quickInputService.createQuickPick());let m;u.value=e,this.adjustValueSelection(u,r,i),u.placeholder=null==r?void 0:r.placeholder,u.quickNavigate=null==i?void 0:i.quickNavigateConfiguration,u.hideInput=!!u.quickNavigate&&!a,("number"==typeof(null==i?void 0:i.itemActivation)||(null==i?void 0:i.quickNavigateConfiguration))&&(u.itemActivation=null!==(n=null==i?void 0:i.itemActivation)&&void 0!==n?n:xs.SECOND),u.contextKey=null==r?void 0:r.contextKey,u.filterValue=S=>S.substring(r?r.prefix.length:0),(null==r?void 0:r.placeholder)&&(u.ariaLabel=null==r?void 0:r.placeholder),t&&(m=new se.CR,d.add((0,qr.I)(u.onWillAccept)(S=>{S.veto(),u.hide()}))),d.add(this.registerPickerListeners(u,s,r,e));const C=d.add(new fi.A);return s&&d.add(s.provide(u,C.token)),(0,qr.I)(u.onDidHide)(()=>{0===u.selectedItems.length&&C.cancel(),d.dispose(),null==m||m.complete(u.selectedItems.slice(0))}),u.show(),t?null==m?void 0:m.p:void 0}adjustValueSelection(e,t,i){var n;let s;s=(null==i?void 0:i.preserveValue)?[e.value.length,e.value.length]:[null!==(n=null==t?void 0:t.prefix.length)&&void 0!==n?n:0,e.value.length],e.valueSelection=s}registerPickerListeners(e,t,i,n){const s=new ze.SL,r=this.visibleQuickAccess={picker:e,descriptor:i,value:n};return s.add((0,ze.OF)(()=>{r===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),s.add(e.onDidChangeValue(a=>{const[l]=this.getOrInstantiateProvider(a);l!==t?this.show(a,{preserveValue:!0}):r.value=a})),i&&s.add(e.onDidAccept(()=>{this.lastAcceptedPickerValues.set(i,e.value)})),s}getOrInstantiateProvider(e){const t=this.registry.getQuickAccessProvider(e);if(!t)return[void 0,void 0];let i=this.mapProviderToDescriptor.get(t);return i||(i=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,i)),[i,t]}};Lu=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([Pp(0,Ap),Pp(1,Ft.TG)],Lu);var ul=function(o,e){return function(t,i){e(t,i,o)}};let Eu=class extends Ut.bB{constructor(e,t,i,n,s){super(i),this.instantiationService=e,this.contextKeyService=t,this.accessibilityService=n,this.layoutService=s,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(Lu))),this._quickAccess}createController(e=this.layoutService,t){var i,n;const s={idPrefix:"quickInput_",container:e.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:a=>this.setContextKey(a),returnFocus:()=>e.focus(),createList:(a,l,d,u,m)=>this.instantiationService.createInstance(Su,a,l,d,u,m),styles:this.computeStyles()},r=this._register(new cw(Object.assign(Object.assign({},s),t)));return r.layout(e.dimension,null!==(n=null===(i=e.offset)||void 0===i?void 0:i.top)&&void 0!==n?n:0),this._register(e.onDidLayout(a=>{var l,d;return r.layout(a,null!==(d=null===(l=e.offset)||void 0===l?void 0:l.top)&&void 0!==d?d:0)})),this._register(r.onShow(()=>this.resetContextKeys())),this._register(r.onHide(()=>this.resetContextKeys())),r}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new Rt.uy(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),(!t||!t.get())&&(this.resetContextKeys(),t&&t.set(!0))}resetContextKeys(){this.contexts.forEach(e=>{e.get()&&e.reset()})}pick(e,t={},i=fi.T.None){return this.controller.pick(e,t,i)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},Fs(this.theme,{quickInputBackground:it.zKr,quickInputForeground:it.tZ6,quickInputTitleBackground:it.loF,contrastBorder:it.lRK,widgetShadow:it.rh})),inputBox:Fs(this.theme,{inputForeground:it.zJb,inputBackground:it.sEe,inputBorder:it.dt_,inputValidationInfoBackground:it._lC,inputValidationInfoForeground:it.YI3,inputValidationInfoBorder:it.EPQ,inputValidationWarningBackground:it.RV_,inputValidationWarningForeground:it.SUG,inputValidationWarningBorder:it.C3g,inputValidationErrorBackground:it.paE,inputValidationErrorForeground:it._t9,inputValidationErrorBorder:it.OZR}),countBadge:Fs(this.theme,{badgeBackground:it.g8u,badgeForeground:it.qeD,badgeBorder:it.lRK}),button:Fs(this.theme,{buttonForeground:it.j5u,buttonBackground:it.b7$,buttonHoverBackground:it.GO4,buttonBorder:it.lRK}),progressBar:Fs(this.theme,{progressBarBackground:it.zRJ}),keybindingLabel:Fs(this.theme,{keybindingLabelBackground:it.oQ$,keybindingLabelForeground:it.lWp,keybindingLabelBorder:it.AWI,keybindingLabelBottomBorder:it.K19,keybindingLabelShadow:it.rh}),list:Fs(this.theme,{listBackground:it.zKr,listInactiveFocusForeground:it.NPS,listInactiveSelectionIconForeground:it.cbQ,listInactiveFocusBackground:it.Vqd,listFocusOutline:it.xL1,listInactiveFocusOutline:it.xL1,pickerGroupBorder:it.opG,pickerGroupForeground:it.kJk})}}};Eu=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([ul(0,Ft.TG),ul(1,Rt.i6),ul(2,Ut.XE),ul(3,as),ul(4,Ya)],Eu);var Bp=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Lr=function(o,e){return function(t,i){e(t,i,o)}};let xu=class extends Eu{constructor(e,t,i,n,s,r){super(t,i,n,s,new rh(e.getContainerDomNode(),r)),this.host=void 0;const a=Iu.get(e);if(a){const l=a.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return l.getDomNode()},get dimension(){return e.getLayoutInfo()},get onDidLayout(){return e.onDidLayoutChange},focus:()=>e.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};xu=Bp([Lr(1,Ft.TG),Lr(2,Rt.i6),Lr(3,Ut.XE),Lr(4,as),Lr(5,Ti.$)],xu);let Nu=class{constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const i=t=this.instantiationService.createInstance(xu,e);this.mapEditorToService.set(e,t),(0,qr.I)(e.onDidDispose)(()=>{i.dispose(),this.mapEditorToService.delete(e)})}return t}get quickAccess(){return this.activeService.quickAccess}pick(e,t={},i=fi.T.None){return this.activeService.pick(e,t,i)}createQuickPick(){return this.activeService.createQuickPick()}};Nu=Bp([Lr(0,Ft.TG),Lr(1,Ti.$)],Nu);let Iu=(()=>{class o{constructor(t){this.editor=t,this.widget=new xS(this.editor)}static get(t){return t.getContribution(o.ID)}dispose(){this.widget.dispose()}}return o.ID="editor.controller.quickInput",o})(),xS=(()=>{class o{constructor(t){this.codeEditor=t,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return o.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}return o.ID="editor.contrib.quickInputWidget",o})();(0,Et._K)(Iu.ID,Iu);class NS{constructor(e,t,i,n,s){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=i,this.foreground=n,this.background=s}}const kS=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class TS{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(null===e)return 0;const t=e.match(kS);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let i=this._color2id.get(e);return i||(i=++this._lastColorId,this._color2id.set(e,i),this._id2color[i]=Oi.Il.fromHex("#"+e),i)}getColorMap(){return this._id2color.slice(0)}}class Fp{constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(function IS(o){if(!o||!Array.isArray(o))return[];const e=[];let t=0;for(let i=0,n=o.length;i<n;i++){const s=o[i];let r=-1;if("string"==typeof s.fontStyle){r=0;const d=s.fontStyle.split(" ");for(let u=0,m=d.length;u<m;u++)switch(d[u]){case"italic":r|=1;break;case"bold":r|=2;break;case"underline":r|=4;break;case"strikethrough":r|=8}}let a=null;"string"==typeof s.foreground&&(a=s.foreground);let l=null;"string"==typeof s.background&&(l=s.background),e[t++]=new NS(s.token||"",i,r,a,l)}return e}(e),t)}static createFromParsedTokenTheme(e,t){return function DS(o,e){o.sort((u,m)=>{const C=function OS(o,e){return o<e?-1:o>e?1:0}(u.token,m.token);return 0!==C?C:u.index-m.index});let t=0,i="000000",n="ffffff";for(;o.length>=1&&""===o[0].token;){const u=o.shift();-1!==u.fontStyle&&(t=u.fontStyle),null!==u.foreground&&(i=u.foreground),null!==u.background&&(n=u.background)}const s=new TS;for(let u of e)s.getId(u);const r=s.getId(i),a=s.getId(n),l=new Du(t,r,a),d=new ku(l);for(let u=0,m=o.length;u<m;u++){const C=o[u];d.insert(C.token,C.fontStyle,s.getId(C.foreground),s.getId(C.background))}return new Fp(s,d)}(e,t)}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let i=this._cache.get(t);if(void 0===i){const n=this._match(t),s=function RS(o){const e=o.match(MS);if(!e)return 0;switch(e[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}(t);i=(n.metadata|s<<8)>>>0,this._cache.set(t,i)}return(i|e<<0)>>>0}}const MS=/\b(comment|string|regex|regexp)\b/;class Du{constructor(e,t,i){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=i,this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}clone(){return new Du(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,i){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==i&&(this._background=i),this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}}class ku{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(""===e)return this._mainRule;const t=e.indexOf(".");let i,n;-1===t?(i=e,n=""):(i=e.substring(0,t),n=e.substring(t+1));const s=this._children.get(i);return void 0!==s?s.match(n):this._mainRule}insert(e,t,i,n){if(""===e)return void this._mainRule.acceptOverwrite(t,i,n);const s=e.indexOf(".");let r,a;-1===s?(r=e,a=""):(r=e.substring(0,s),a=e.substring(s+1));let l=this._children.get(r);void 0===l&&(l=new ku(this._mainRule.clone()),this._children.set(r,l)),l.insert(a,t,i,n)}}const PS={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[it.cvW]:"#FFFFFE",[it.NOs]:"#000000",[it.ES4]:"#E5EBF1",[si.tR]:"#D3D3D3",[si.Ym]:"#939393",[it.Rzx]:"#ADD6FF4D"}},BS={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[it.cvW]:"#1E1E1E",[it.NOs]:"#D4D4D4",[it.ES4]:"#3A3D41",[si.tR]:"#404040",[si.Ym]:"#707070",[it.Rzx]:"#ADD6FF26"}},FS={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[it.cvW]:"#000000",[it.NOs]:"#FFFFFF",[si.tR]:"#FFFFFF",[si.Ym]:"#FFFFFF"}};class Wp{getIcon(e){const t=(0,ur.Ks)();let i=e.defaults;for(;Ut.kS.isThemeIcon(i);){const n=t.getIcon(i.id);if(!n)return;i=n.defaults}return i}}const Er="vs",$c="vs-dark",_a="hc-black",Vp=Ls.B.as(it.IPX.ColorContribution),VS=Ls.B.as(Ut.IP.ThemingContribution);class Hp{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;const i=t.base;e.length>0?(this.id=Gc(e)?e:i+" "+e,this.themeName=e):(this.id=i,this.themeName=i),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const e=new Map;for(let t in this.themeData.colors)e.set(t,Oi.Il.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){const t=Tu(this.themeData.base);for(let i in t.colors)e.has(i)||e.set(i,Oi.Il.fromHex(t.colors[i]))}this.colors=e}return this.colors}getColor(e,t){return this.getColors().get(e)||(!1!==t?this.getDefault(e):void 0)}getDefault(e){let t=this.defaultColors[e];return t||(t=Vp.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)}get type(){switch(this.base){case Er:return Wr.e.LIGHT;case _a:return Wr.e.HIGH_CONTRAST;default:return Wr.e.DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){const s=Tu(this.themeData.base);e=s.rules,s.encodedTokensColors&&(t=s.encodedTokensColors)}const i=this.themeData.colors["editor.foreground"],n=this.themeData.colors["editor.background"];if(i||n){const s={token:""};i&&(s.foreground=i),n&&(s.background=n),e.push(s)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=Fp.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,i){const s=this.tokenTheme._match([e].concat(t).join(".")).metadata,r=rt.NX.getForeground(s),a=rt.NX.getFontStyle(s);return{foreground:r,italic:Boolean(1&a),bold:Boolean(2&a),underline:Boolean(4&a),strikethrough:Boolean(8&a)}}}function Gc(o){return o===Er||o===$c||o===_a}function Tu(o){switch(o){case Er:return PS;case $c:return BS;case _a:return FS}}function Mu(o){const e=Tu(o);return new Hp(o,e)}const Ns=(0,Ft.yh)("themeService");var zp=function(o,e){return function(t,i){e(t,i,o)}};let Ru=class extends ze.JT{constructor(e,t){super(),this._contextKeyService=e,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new Be.Q5,this._accessibilityModeEnabledContext=q_.bindTo(this._contextKeyService);const i=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(n=>{n.affectsConfiguration("editor.accessibilitySupport")&&(i(),this._onDidChangeScreenReaderOptimized.fire())})),i(),this.onDidChangeScreenReaderOptimized(()=>i())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return"on"===e||"auto"===e&&2===this._accessibilitySupport}getAccessibilitySupport(){return this._accessibilitySupport}};Ru=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([zp(0,Rt.i6),zp(1,zi.Ui)],Ru);var gs=L(61004),Up=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Zc=function(o,e){return function(t,i){e(t,i,o)}};let Ou=class{constructor(e){this._commandService=e}createMenu(e,t,i){return new Au(e,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},i),this._commandService,t,this)}};Ou=Up([Zc(0,Hi.Hy)],Ou);let Au=class ba{constructor(e,t,i,n,s){this._id=e,this._options=t,this._commandService=i,this._contextKeyService=n,this._menuService=s,this._disposables=new ze.SL,this._menuGroups=[],this._contextKeys=new Set,this._build();const r=new se.pY(()=>{this._build(),this._onDidChange.fire(this)},t.eventDebounceDelay);this._disposables.add(r),this._disposables.add(gs.BH.onDidChangeMenu(d=>{d.has(e)&&r.schedule()}));const a=this._disposables.add(new ze.SL);this._onDidChange=new Be.Q5({onFirstListenerAdd:()=>{const d=new se.pY(()=>this._onDidChange.fire(this),t.eventDebounceDelay);a.add(d),a.add(n.onDidChangeContext(u=>{u.affectsSome(this._contextKeys)&&d.schedule()}))},onLastListenerRemove:a.clear.bind(a)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const e=gs.BH.getMenuItems(this._id);let t;e.sort(ba._compareMenuItems);for(const i of e){const n=i.group||"";(!t||t[0]!==n)&&(t=[n,[]],this._menuGroups.push(t)),t[1].push(i),this._collectContextKeys(i)}}_collectContextKeys(e){ba._fillInKbExprKeys(e.when,this._contextKeys),(0,gs.vr)(e)?(e.command.precondition&&ba._fillInKbExprKeys(e.command.precondition,this._contextKeys),e.command.toggled&&ba._fillInKbExprKeys(e.command.toggled.condition||e.command.toggled,this._contextKeys)):this._options.emitEventsForSubmenuChanges&&gs.BH.getMenuItems(e.submenu).forEach(this._collectContextKeys,this)}getActions(e){const t=[];for(let i of this._menuGroups){const[n,s]=i,r=[];for(const a of s)if(this._contextKeyService.contextMatchesRules(a.when)){const l=(0,gs.vr)(a)?new gs.U8(a.command,a.alt,e,this._contextKeyService,this._commandService):new gs.NZ(a,this._menuService,this._contextKeyService,e);r.push(l)}r.length>0&&t.push([n,r])}return t}static _fillInKbExprKeys(e,t){if(e)for(let i of e.keys())t.add(i)}static _compareMenuItems(e,t){let i=e.group,n=t.group;if(i!==n){if(!i)return 1;if(!n)return-1;if("navigation"===i)return-1;if("navigation"===n)return 1;let a=i.localeCompare(n);if(0!==a)return a}let s=e.order||0,r=t.order||0;return s<r?-1:s>r?1:ba._compareTitles((0,gs.vr)(e)?e.command.title:e.title,(0,gs.vr)(t)?t.command.title:t.title)}static _compareTitles(e,t){return("string"==typeof e?e:e.original).localeCompare("string"==typeof t?t:t.original)}};Au=Up([Zc(2,Hi.Hy),Zc(3,Rt.i6),Zc(4,gs.co)],Au);var jp=function(o,e){return function(t,i){e(t,i,o)}},fl=function(o,e,t,i){return new(t||(t=Promise))(function(s,r){function a(u){try{d(i.next(u))}catch(m){r(m)}}function l(u){try{d(i.throw(u))}catch(m){r(m)}}function d(u){u.done?s(u.value):function n(s){return s instanceof t?s:new t(function(r){r(s)})}(u.value).then(a,l)}d((i=i.apply(o,e||[])).next())})};let Pu=class extends ze.JT{constructor(e,t){super(),this.layoutService=e,this.logService=t,this.mapTextToType=new Map,this.findText="",(Ei.isSafari||Ei.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const e=()=>{const t=new se.CR;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=t,navigator.clipboard.write([new ClipboardItem({"text/plain":t.p})]).catch(i=>fl(this,void 0,void 0,function*(){(!(i instanceof Error)||"NotAllowedError"!==i.name||!t.isRejected)&&this.logService.error(i)}))};this.layoutService.hasContainer&&(this._register((0,ue.nm)(this.layoutService.container,"click",e)),this._register((0,ue.nm)(this.layoutService.container,"keydown",e)))}writeText(e,t){return fl(this,void 0,void 0,function*(){if(t)return void this.mapTextToType.set(t,e);if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(e);try{return yield navigator.clipboard.writeText(e)}catch(s){console.error(s)}const i=document.activeElement,n=document.body.appendChild((0,ue.$)("textarea",{"aria-hidden":!0}));n.style.height="1px",n.style.width="1px",n.style.position="absolute",n.value=e,n.focus(),n.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(n)})}readText(e){return fl(this,void 0,void 0,function*(){if(e)return this.mapTextToType.get(e)||"";try{return yield navigator.clipboard.readText()}catch(t){return console.error(t),""}})}readFindText(){return fl(this,void 0,void 0,function*(){return this.findText})}writeFindText(e){return fl(this,void 0,void 0,function*(){this.findText=e})}};Pu=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([jp(0,Ya),jp(1,dn.VZ)],Pu);const gl="data-keybinding-context";class Bu{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}setValue(e,t){return this._value[e]!==t&&(this._value[e]=t,!0)}removeValue(e){return e in this._value&&(delete this._value[e],!0)}getValue(e){const t=this._value[e];return void 0===t&&this._parent?this._parent.getValue(e):t}}class Ca extends Bu{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}Ca.INSTANCE=new Ca;let $S=(()=>{class o extends Bu{constructor(t,i,n){super(t,null),this._configurationService=i,this._values=Jn.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(s=>{if(6===s.source){const r=Array.from(hi.$.map(this._values,([a])=>a));this._values.clear(),n.fire(new $p(r))}else{const r=[];for(const a of s.affectedKeys){const l=`config.${a}`,d=this._values.findSuperstr(l);void 0!==d&&(r.push(...hi.$.map(d,([u])=>u)),this._values.deleteSuperstr(l)),this._values.has(l)&&(r.push(l),this._values.delete(l))}n.fire(new $p(r))}})}dispose(){this._listener.dispose()}getValue(t){if(0!==t.indexOf(o._keyPrefix))return super.getValue(t);if(this._values.has(t))return this._values.get(t);const i=t.substr(o._keyPrefix.length),n=this._configurationService.getValue(i);let s;switch(typeof n){case"number":case"boolean":case"string":s=n;break;default:s=Array.isArray(n)?JSON.stringify(n):n}return this._values.set(t,s),s}setValue(t,i){return super.setValue(t,i)}removeValue(t){return super.removeValue(t)}}return o._keyPrefix="config.",o})();class GS{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class Kp{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}}class $p{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}}class ZS{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}}class Gp{constructor(e){this._onDidChangeContext=new Be.K3({merge:t=>new ZS(t)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new GS(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new qS(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return!e||e.evaluate(t)}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const i=this.getContextValuesContainer(this._myContextId);!i||i.setValue(e,t)&&this._onDidChangeContext.fire(new Kp(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new Kp(e))}getContext(e){return this._isDisposed?Ca.INSTANCE:this.getContextValuesContainer(function YS(o){for(;o;){if(o.hasAttribute(gl)){const e=o.getAttribute(gl);return e?parseInt(e,10):NaN}o=o.parentElement}return 0}(e))}}let Fu=class extends Gp{constructor(e){super(0),this._contexts=new Map,this._toDispose=new ze.SL,this._lastContextId=0;const t=new $S(this._myContextId,e,this._onDidChangeContext);this._contexts.set(this._myContextId,t),this._toDispose.add(t)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(e){return this._isDisposed?Ca.INSTANCE:this._contexts.get(e)||Ca.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let t=++this._lastContextId;return this._contexts.set(t,new Bu(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};Fu=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}([function(o,e){return function(t,i){e(t,i,0)}}(0,zi.Ui)],Fu);class qS extends Gp{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=new ze.XK,this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(gl)){let i="";this._domNode.classList&&(i=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(i?": "+i:""))}this._domNode.setAttribute(gl,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(gl),this._isDisposed=!0)}getContextValuesContainer(e){return this._isDisposed?Ca.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}Hi.P0.registerCommand(Rt.Eq,function(o,e,t){o.get(Rt.i6).createKey(String(e),t)}),Hi.P0.registerCommand({id:"getContextKeyInfo",handler:()=>[...Rt.uy.all()].sort((o,e)=>o.key.localeCompare(e.key)),description:{description:(0,_.N)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),Hi.P0.registerCommand("_generateContextKeyInfo",function(){const o=[],e=new Set;for(let t of Rt.uy.all())e.has(t.key)||(e.add(t.key),o.push(t));o.sort((t,i)=>t.key.localeCompare(i.key)),console.log(JSON.stringify(o,void 0,2))});var qo=L(99524);class QS{constructor(e){this.incoming=new Map,this.outgoing=new Map,this.data=e}}class XS{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(let t of this._nodes.values())0===t.outgoing.size&&e.push(t);return e}insertEdge(e,t){const i=this.lookupOrInsertNode(e),n=this.lookupOrInsertNode(t);i.outgoing.set(this._hashFn(t),n),n.incoming.set(this._hashFn(e),i)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(let i of this._nodes.values())i.outgoing.delete(t),i.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let i=this._nodes.get(t);return i||(i=new QS(e),this._nodes.set(t,i)),i}isEmpty(){return 0===this._nodes.size}toString(){let e=[];for(let[t,i]of this._nodes)e.push(`${t}, (incoming)[${[...i.incoming.keys()].join(", ")}], (outgoing)[${[...i.outgoing.keys()].join(",")}]`);return e.join("\n")}findCycleSlow(){for(let[e,t]of this._nodes){const n=this._findCycle(t,new Set([e]));if(n)return n}}_findCycle(e,t){for(let[i,n]of e.outgoing){if(t.has(i))return[...t,i].join(" -> ");t.add(i);const s=this._findCycle(n,t);if(s)return s;t.delete(i)}}}class qp extends Error{constructor(e){var t;super("cyclic dependency between services"),this.message=null!==(t=e.findCycleSlow())&&void 0!==t?t:`UNABLE to detect cycle, dumping graph: \n${e.toString()}`}}class Wu{constructor(e=new Ql,t=!1,i){this._activeInstantiations=new Set,this._services=e,this._strict=t,this._parent=i,this._services.set(Ft.TG,this)}createChild(e){return new Wu(e,this._strict,this)}invokeFunction(e,...t){let i=ss.traceInvocation(e),n=!1;try{return e({get:r=>{if(n)throw(0,he.L6)("service accessor is only valid during the invocation of its target method");const a=this._getOrCreateServiceInstance(r,i);if(!a)throw new Error(`[invokeFunction] unknown service '${r}'`);return a}},...t)}finally{n=!0,i.stop()}}createInstance(e,...t){let i,n;return e instanceof qo.M?(i=ss.traceCreation(e.ctor),n=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=ss.traceCreation(e),n=this._createInstance(e,t,i)),i.stop(),n}_createInstance(e,t=[],i){let n=Ft.I8.getServiceDependencies(e).sort((a,l)=>a.index-l.index),s=[];for(const a of n){let l=this._getOrCreateServiceInstance(a.id,i);if(!l&&this._strict&&!a.optional)throw new Error(`[createInstance] ${e.name} depends on UNKNOWN service ${a.id}.`);s.push(l)}let r=n.length>0?n[0].index:t.length;if(t.length!==r){console.warn(`[createInstance] First service dependency of ${e.name} at position ${r+1} conflicts with ${t.length} static arguments`);let a=r-t.length;t=a>0?t.concat(new Array(a)):t.slice(0,r)}return new e(...[...t,...s])}_setServiceInstance(e,t){if(this._services.get(e)instanceof qo.M)this._services.set(e,t);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(e,t)}}_getServiceInstanceOrDescriptor(e){let t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){let i=this._getServiceInstanceOrDescriptor(e);return i instanceof qo.M?this._safeCreateAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_safeCreateAndCacheServiceInstance(e,t,i){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,i)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,i){const n=new XS(a=>a.id.toString());let s=0;const r=[{id:e,desc:t,_trace:i}];for(;r.length;){const a=r.pop();if(n.lookupOrInsertNode(a),s++>1e3)throw new qp(n);for(let l of Ft.I8.getServiceDependencies(a.desc.ctor)){let d=this._getServiceInstanceOrDescriptor(l.id);if(!d&&!l.optional&&console.warn(`[createInstance] ${e} depends on ${l.id} which is NOT registered.`),d instanceof qo.M){const u={id:l.id,desc:d,_trace:a._trace.branch(l.id,!0)};n.insertEdge(a,u),r.push(u)}}}for(;;){const a=n.roots();if(0===a.length){if(!n.isEmpty())throw new qp(n);break}for(const{data:l}of a){if(this._getServiceInstanceOrDescriptor(l.id)instanceof qo.M){const u=this._createServiceInstanceWithOwner(l.id,l.desc.ctor,l.desc.staticArguments,l.desc.supportsDelayedInstantiation,l._trace);this._setServiceInstance(l.id,u)}n.removeNode(l)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],n,s){if(this._services.get(e)instanceof qo.M)return this._createServiceInstance(t,i,n,s);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,n,s);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t=[],i,n){if(i){const s=new se.Ue(()=>this._createInstance(e,t,n));return new Proxy(Object.create(null),{get(r,a){if(a in r)return r[a];let l=s.value,d=l[a];return"function"!=typeof d||(d=d.bind(l),r[a]=d),d},set:(r,a,l)=>(s.value[a]=l,!0)})}return this._createInstance(e,t,n)}}class ss{constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}static traceInvocation(e){return ss._None}static traceCreation(e){return ss._None}branch(e,t){let i=new ss(2,e.toString());return this._dep.push([e,t,i]),i}stop(){let e=Date.now()-this._start;ss._totals+=e;let t=!1,n=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,`${function i(s,r){let a=[],l=new Array(s+1).join("\t");for(const[d,u,m]of r._dep)if(u&&m){t=!0,a.push(`${l}CREATES -> ${d}`);let C=i(s+1,m);C&&a.push(C)}else a.push(`${l}uses -> ${d}`);return a.join("\n")}(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${ss._totals.toFixed(2)}ms)`];(e>2||t)&&console.log(n.join("\n"))}}ss._None=new class extends ss{constructor(){super(-1,null)}stop(){}branch(){return this}},ss._totals=0;class JS{constructor(){this._byResource=new Jn.Y9,this._byOwner=new Map}set(e,t,i){let n=this._byResource.get(e);n||(n=new Map,this._byResource.set(e,n)),n.set(t,i);let s=this._byOwner.get(t);s||(s=new Jn.Y9,this._byOwner.set(t,s)),s.set(e,i)}get(e,t){let i=this._byResource.get(e);return null==i?void 0:i.get(t)}delete(e,t){let i=!1,n=!1,s=this._byResource.get(e);s&&(i=s.delete(t));let r=this._byOwner.get(t);if(r&&(n=r.delete(e)),i!==n)throw new Error("illegal state");return i&&n}values(e){var t,i,n,s;return"string"==typeof e?null!==(i=null===(t=this._byOwner.get(e))||void 0===t?void 0:t.values())&&void 0!==i?i:hi.$.empty():ri.o.isUri(e)?null!==(s=null===(n=this._byResource.get(e))||void 0===n?void 0:n.values())&&void 0!==s?s:hi.$.empty():hi.$.map(hi.$.concat(...this._byOwner.values()),r=>r[1])}}class ey{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Jn.Y9,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const t of e){const i=this._data.get(t);i&&this._substract(i);const n=this._resourceStats(t);this._add(n),this._data.set(t,n)}}_resourceStats(e){const t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===Ki.lg.inMemory||e.scheme===Ki.lg.walkThrough||e.scheme===Ki.lg.walkThroughSnippet)return t;for(const{severity:i}of this._service.read({resource:e}))i===ts.Error?t.errors+=1:i===ts.Warning?t.warnings+=1:i===ts.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class xr{constructor(){this._onMarkerChanged=new Be.D0({delay:0,merge:xr._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new JS,this._stats=new ey(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(const i of t||[])this.changeOne(e,i,[])}changeOne(e,t,i){if((0,y.XY)(i))this._data.delete(t,e)&&this._onMarkerChanged.fire([t]);else{const n=[];for(const s of i){const r=xr._toMarker(e,t,s);r&&n.push(r)}this._data.set(t,e,n),this._onMarkerChanged.fire([t])}}static _toMarker(e,t,i){let{code:n,severity:s,message:r,source:a,startLineNumber:l,startColumn:d,endLineNumber:u,endColumn:m,relatedInformation:C,tags:S}=i;if(r)return l=l>0?l:1,d=d>0?d:1,u=u>=l?u:l,m=m>0?m:d,{resource:t,owner:e,code:n,severity:s,message:r,source:a,startLineNumber:l,startColumn:d,endLineNumber:u,endColumn:m,relatedInformation:C,tags:S}}read(e=Object.create(null)){let{owner:t,resource:i,severities:n,take:s}=e;if((!s||s<0)&&(s=-1),t&&i){const r=this._data.get(i,t);if(r){const a=[];for(const l of r)if(xr._accept(l,n)){const d=a.push(l);if(s>0&&d===s)break}return a}return[]}if(t||i){const r=this._data.values(null!=i?i:t),a=[];for(const l of r)for(const d of l)if(xr._accept(d,n)){const u=a.push(d);if(s>0&&u===s)return a}return a}{const r=[];for(let a of this._data.values())for(let l of a)if(xr._accept(l,n)){const d=r.push(l);if(s>0&&d===s)return r}return r}}static _accept(e,t){return void 0===t||(t&e.severity)===e.severity}static _merge(e){const t=new Jn.Y9;for(let i of e)for(let n of i)t.set(n,!0);return Array.from(t.keys())}}var Yp=L(99571),Yo=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},xn=function(o,e){return function(t,i){e(t,i,o)}},Qp=function(o,e,t,i){return new(t||(t=Promise))(function(s,r){function a(u){try{d(i.next(u))}catch(m){r(m)}}function l(u){try{d(i.throw(u))}catch(m){r(m)}}function d(u){u.done?s(u.value):function n(s){return s instanceof t?s:new t(function(r){r(s)})}(u.value).then(a,l)}d((i=i.apply(o,e||[])).next())})};class ty{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new Be.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Vu=class{constructor(e){this.modelService=e}createModelReference(e){const t=this.modelService.getModel(e);return t?Promise.resolve(new ze.Jz(new ty(t))):Promise.reject(new Error("Model not found"))}};Vu=Yo([xn(0,Q.q)],Vu);let iy=(()=>{class o{show(){return o.NULL_PROGRESS_RUNNER}showWhile(t,i){return Qp(this,void 0,void 0,function*(){yield t})}}return o.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}},o})();class qc{info(e){return this.notify({severity:Xi.Z.Info,message:e})}warn(e){return this.notify({severity:Xi.Z.Warning,message:e})}error(e){return this.notify({severity:Xi.Z.Error,message:e})}notify(e){switch(e.severity){case Xi.Z.Error:console.error(e.message);break;case Xi.Z.Warning:console.warn(e.message);break;default:console.log(e.message)}return qc.NO_OP}status(e,t){return ze.JT.None}}qc.NO_OP=new Bs.EO;let Hu=class{constructor(e){this._onWillExecuteCommand=new Be.Q5,this._onDidExecuteCommand=new Be.Q5,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e,...t){const i=Hi.P0.getCommand(e);if(!i)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});const n=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(n)}catch(n){return Promise.reject(n)}}};Hu=Yo([xn(0,Ft.TG)],Hu);let Yc=class extends Cb{constructor(e,t,i,n,s,r){super(e,t,i,n,s),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const a=S=>{const M=new ze.SL;M.add(ue.nm(S,ue.tw.KEY_DOWN,j=>{const J=new hn.y(j);this._dispatch(J,J.target)&&(J.preventDefault(),J.stopPropagation())})),M.add(ue.nm(S,ue.tw.KEY_UP,j=>{const J=new hn.y(j);this._singleModifierDispatch(J,J.target)&&J.preventDefault()})),this._domNodeListeners.push(new sy(S,M))},l=S=>{for(let M=0;M<this._domNodeListeners.length;M++){const j=this._domNodeListeners[M];j.domNode===S&&(this._domNodeListeners.splice(M,1),j.dispose())}},d=S=>{S.getOption(54)||a(S.getContainerDomNode())};this._register(r.onCodeEditorAdd(d)),this._register(r.onCodeEditorRemove(S=>{S.getOption(54)||l(S.getContainerDomNode())})),r.listCodeEditors().forEach(d);const m=S=>{a(S.getContainerDomNode())};this._register(r.onDiffEditorAdd(m)),this._register(r.onDiffEditorRemove(S=>{l(S.getContainerDomNode())})),r.listDiffEditors().forEach(m)}addDynamicKeybinding(e,t,i,n){const s=(0,gr.gm)(t,h.OS),r=new ze.SL;return s&&(this._dynamicKeybindings.push({keybinding:s.parts,command:e,when:n,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),r.add((0,ze.OF)(()=>{for(let a=0;a<this._dynamicKeybindings.length;a++)if(this._dynamicKeybindings[a].command===e)return this._dynamicKeybindings.splice(a,1),void this.updateResolver({source:1})}))),r.add(Hi.P0.registerCommand(e,i)),this.updateResolver({source:1}),r}updateResolver(e){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(e)}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(Bf.W.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new Qa(e,t,i=>this._log(i))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(e,t){const i=[];let n=0;for(const s of e){const r=s.when||void 0,a=s.keybinding;if(a){const l=Xa.resolveUserBinding(a,h.OS);for(const d of l)i[n++]=new Zg(d,s.command,s.commandArgs,r,t,null,!1)}else i[n++]=new Zg(void 0,s.command,s.commandArgs,r,t,null,!1)}return i}resolveKeyboardEvent(e){const t=new gr.QC(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode).toChord();return new Xa(t,h.OS)}};Yc=Yo([xn(0,Rt.i6),xn(1,Hi.Hy),xn(2,mc.b),xn(3,Bs.lT),xn(4,dn.VZ),xn(5,Ti.$)],Yc);class sy extends ze.JT{constructor(e,t){super(),this.domNode=e,this._register(t)}}function Xp(o){return o&&"object"==typeof o&&(!o.overrideIdentifier||"string"==typeof o.overrideIdentifier)&&(!o.resource||o.resource instanceof ri.o)}class Jp{constructor(){this._onDidChangeConfiguration=new Be.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new fc(new mb,new ds)}getValue(e,t){const i="string"==typeof e?e:void 0,n=Xp(e)?e:Xp(t)?t:{};return this._configuration.getValue(i,n,void 0)}updateValues(e){const t={data:this._configuration.toData()},i=[];for(const n of e){const[s,r]=n;this.getValue(s)!==r&&(this._configuration.updateValue(s,r),i.push(s))}if(i.length>0){const n=new pb({keys:i,overrides:[]},t,this._configuration);n.source=7,n.sourceConfig=null,this._onDidChangeConfiguration.fire(n)}return Promise.resolve()}updateValue(e,t,i,n){return this.updateValues([[e,t]])}inspect(e,t={}){return this._configuration.inspect(e,t,void 0)}}let zu=class{constructor(e){this.configurationService=e,this._onDidChangeConfiguration=new Be.Q5,this.configurationService.onDidChangeConfiguration(t=>{this._onDidChangeConfiguration.fire({affectedKeys:t.affectedKeys,affectsConfiguration:(i,n)=>t.affectsConfiguration(n)})})}getValue(e,t,i){const s=Xe.L.isIPosition(t)&&t?"string"==typeof i?i:void 0:"string"==typeof t?t:void 0;return void 0===s?this.configurationService.getValue():this.configurationService.getValue(s)}};zu=Yo([xn(0,zi.Ui)],zu);let Uu=class{constructor(e){this.configurationService=e}getEOL(e,t){const i=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return i&&"string"==typeof i&&"auto"!==i?i:h.IJ||h.dz?"\n":"\r\n"}};Uu=Yo([xn(0,zi.Ui)],Uu);let ry=(()=>{class o{constructor(){const t=ri.o.from({scheme:o.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new Eb({uri:t,name:"",index:0})]}}getWorkspace(){return this.workspace}}return o.SCHEME="inmemory",o})();function Qc(o,e,t){if(!(e&&o instanceof Jp))return;const i=[];Object.keys(e).forEach(n=>{(function ub(o){return Kg()[`editor.${o}`]||!1})(n)&&i.push([`editor.${n}`,e[n]]),t&&function fb(o){return Kg()[`diffEditor.${o}`]||!1}(n)&&i.push([`diffEditor.${n}`,e[n]])}),i.length>0&&o.updateValues(i)}let ju=class{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}apply(e,t){return Qp(this,void 0,void 0,function*(){const i=new Map;for(let r of e){if(!(r instanceof jg))throw new Error("bad edit - only text edits are supported");const a=this._modelService.getModel(r.resource);if(!a)throw new Error("bad edit - model not found");if("number"==typeof r.versionId&&a.getVersionId()!==r.versionId)throw new Error("bad state - model changed in the meantime");let l=i.get(a);l||(l=[],i.set(a,l)),l.push(gb.replaceMove(Ze.e.lift(r.textEdit.range),r.textEdit.text))}let n=0,s=0;for(const[r,a]of i)r.pushStackElement(),r.pushEditOperations([],a,()=>[]),r.pushStackElement(),s+=1,n+=a.length;return{ariaSummary:ut.WU(hh.bulkEditServiceSummary,n,s)}})}};ju=Yo([xn(0,Q.q)],ju);let Ku=class extends uh{constructor(e,t){super(e),this._codeEditorService=t}showContextView(e,t,i){if(!t){const n=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();n&&(t=n.getContainerDomNode())}return super.showContextView(e,t,i)}};Ku=Yo([xn(0,Ya),xn(1,Ti.$)],Ku);let $u=class extends Th{constructor(e,t,i,n,s){super(e,t,i,n,s),this.configure({blockMouse:!1})}};var ui;$u=Yo([xn(0,mc.b),xn(1,Bs.lT),xn(2,ta.u),xn(3,hs.d),xn(4,Ut.XE)],$u),(0,di.z)(zi.Ui,Jp),(0,di.z)(qs,zu),(0,di.z)(vs,Uu),(0,di.z)(Lb,ry),(0,di.z)(yb,class ay{getUriLabel(e,t){return"file"===e.scheme?e.fsPath:e.path}}),(0,di.z)(mc.b,class oy{publicLog(e,t){return Promise.resolve(void 0)}publicLog2(e,t){return this.publicLog(e,t)}}),(0,di.z)(Ag,class ny{confirm(e){return this.doConfirm(e).then(t=>({confirmed:t,checkboxChecked:!1}))}doConfirm(e){let t=e.message;return e.detail&&(t=t+"\n\n"+e.detail),Promise.resolve(window.confirm(t))}show(e,t,i,n){return Promise.resolve({choice:0})}}),(0,di.z)(Bs.lT,qc),(0,di.z)(da,xr),(0,di.z)(je.O,class cy extends Fb{constructor(){super()}}),(0,di.z)(Ns,class HS extends ze.JT{constructor(){super(),this._onColorThemeChange=this._register(new Be.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new Be.Q5),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new Wp,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(Er,Mu(Er)),this._knownThemes.set($c,Mu($c)),this._knownThemes.set(_a,Mu(_a));const e=function WS(o){const e=new Be.Q5,t=(0,ur.Ks)();return t.onDidChange(()=>e.fire()),null==o||o.onDidProductIconThemeChange(()=>e.fire()),{onDidChange:e.event,getCSS(){const i=o?o.getProductIconTheme():new Wp,n={},s=a=>{const l=i.getIcon(a);if(!l)return;const d=l.font;return d?(n[d.id]=d.getDefinition(),`.codicon-${a.id}:before { content: '${l.fontCharacter}'; font-family: ${(0,ue._h)(d.id)}; }`):`.codicon-${a.id}:before { content: '${l.fontCharacter}'; }`},r=[];for(let a of t.getIcons()){const l=s(a);l&&r.push(l)}for(let a in n){const l=n[a];if(l){const d=l.weight?`font-weight: ${l.weight};`:"",u=l.style?`font-style: ${l.style};`:"",m=l.src.map(C=>`${(0,ue.wY)(C.location)} format('${C.format}')`).join(", ");r.push(`@font-face { src: ${m}; font-family: ${(0,ue._h)(a)};${d}${u} font-display: block; }`)}}return r.join("\n")}}}(this);this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(Er),e.onDidChange(()=>{this._codiconCSS=e.getCSS(),this._updateCSS()}),ue.uB("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(e){return ue.OO(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=ue.dS(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),ze.JT.None}_registerShadowDomContainer(e){const t=ue.dS(e);return t.className="monaco-colors",t.textContent=this._allCSS,this._styleElements.push(t),{dispose:()=>{for(let i=0;i<this._styleElements.length;i++)if(this._styleElements[i]===t)return void this._styleElements.splice(i,1)}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!Gc(t.base)&&!Gc(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new Hp(e,t)),Gc(e)&&this._knownThemes.forEach(i=>{i.base===e&&i.notifyBaseUpdated()}),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;t=this._knownThemes.has(e)?this._knownThemes.get(e):this._knownThemes.get(Er),this._desiredTheme=t,this._updateActualTheme()}_updateActualTheme(){const e=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(_a):this._desiredTheme;this._theme!==e&&(this._theme=e,this._updateThemeOrColorMap())}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._updateActualTheme()}_updateThemeOrColorMap(){const e=[],t={},i={addRule:r=>{t[r]||(e.push(r),t[r]=!0)}};VS.getThemingParticipants().forEach(r=>r(this._theme,i,this._environment));const n=[];for(const r of Vp.getColors()){const a=this._theme.getColor(r.id,!0);a&&n.push(`${(0,it.QO2)(r.id)}: ${a.toString()};`)}i.addRule(`.monaco-editor { ${n.join("\n")} }`);const s=this._colorMapOverride||this._theme.tokenTheme.getColorMap();i.addRule(function AS(o){const e=[];for(let t=1,i=o.length;t<i;t++)e[t]=`.mtk${t} { color: ${o[t]}; }`;return e.push(".mtki { font-style: italic; }"),e.push(".mtkb { font-weight: bold; }"),e.push(".mtku { text-decoration: underline; text-underline-position: under; }"),e.push(".mtks { text-decoration: line-through; }"),e.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),e.join("\n")}(s)),this._themeCSS=e.join("\n"),this._updateCSS(),rt.RW.setColorMap(s),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach(e=>e.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}),(0,di.z)(dn.VZ,class dy extends dn.$V{constructor(){super(new dn.kw)}}),(0,di.z)(Q.q,Tc),(0,di.z)(_f,Bh),(0,di.z)(Rt.i6,Fu),(0,di.z)(nh,iy),(0,di.z)(Yp.Uy,Yp.vm),(0,di.z)(ea,rs),(0,di.z)(rb,ju),(0,di.z)(xb,class ly{constructor(){this._neverEmitter=new Be.Q5,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}),(0,di.z)(uc.S,Vu),(0,di.z)(as,Ru),(0,di.z)(so,pu),(0,di.z)(Hi.Hy,Hu),(0,di.z)(hs.d,Yc),(0,di.z)(Ap,Nu),(0,di.z)(ta.u,Ku),(0,di.z)(fv,Ph),(0,di.z)(ih.p,Pu),(0,di.z)(ta.i,$u),(0,di.z)(gs.co,Ou),function(o){const e=new Ql;for(const[r,a]of(0,di.d)())e.set(r,a);const t=new Wu(e,!0);e.set(Ft.TG,t),o.get=function i(r){const a=e.get(r);if(!a)throw new Error("Missing service "+r);return a instanceof qo.M?t.invokeFunction(l=>l.get(r)):a};let n=!1;o.initialize=function s(r){if(n)return t;n=!0;for(const[a,l]of(0,di.d)())e.get(a)||e.set(a,l);for(const a in r)if(r.hasOwnProperty(a)){const l=(0,Ft.yh)(a);e.get(l)instanceof qo.M&&e.set(l,r[a])}return t}}(ui||(ui={}));var Gu=function(o,e,t,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(r=o[a])&&(s=(n<3?r(s):n>3?r(e,t,s):r(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},xi=function(o,e){return function(t,i){e(t,i,o)}};let hy=0,e_=!1,Xc=class extends Jl{constructor(e,t,i,n,s,r,a,l,d,u,m){const C=Object.assign({},t);C.ariaLabel=C.ariaLabel||pc.editorViewAccessibleLabel,C.ariaLabel=C.ariaLabel+";"+pc.accessibilityHelpMessage,super(e,C,{},i,n,s,r,l,d,u,m),this._standaloneKeybindingService=a instanceof Yc?a:null,function uy(o){if(!o){if(e_)return;e_=!0}hd.wW(o||document.body)}(C.ariaContainerElement)}addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const n="DYNAMIC_"+ ++hy,s=Rt.Ao.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(n,e,t,s),n}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if("string"!=typeof e.id||"string"!=typeof e.label||"function"!=typeof e.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),ze.JT.None;const t=e.id,i=e.label,n=Rt.Ao.and(Rt.Ao.equals("editorId",this.getId()),Rt.Ao.deserialize(e.precondition)),s=e.keybindings,r=Rt.Ao.and(n,Rt.Ao.deserialize(e.keybindingContext)),a=e.contextMenuGroupId||null,l=e.contextMenuOrder||0,d=(S,...M)=>Promise.resolve(e.run(this,...M)),u=new ze.SL,m=this.getId()+":"+t;if(u.add(Hi.P0.registerCommand(m,d)),a&&u.add(gs.BH.appendMenuItem(gs.eH.EditorContext,{command:{id:m,title:i},when:n,group:a,order:l})),Array.isArray(s))for(const S of s)u.add(this._standaloneKeybindingService.addDynamicKeybinding(m,S,d,r));const C=new og(m,i,i,n,d,this._contextKeyService);return this._actions[t]=C,u.add((0,ze.OF)(()=>{delete this._actions[t]})),u}_triggerCommand(e,t){if(this._codeEditorService instanceof ic)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};Xc=Gu([xi(2,Ft.TG),xi(3,Ti.$),xi(4,Hi.Hy),xi(5,Rt.i6),xi(6,hs.d),xi(7,Ut.XE),xi(8,Bs.lT),xi(9,as),xi(10,an.c_)],Xc);let Zu=class extends Xc{constructor(e,t,i,n,s,r,a,l,d,u,m,C,S,M){const j=Object.assign({},t);Qc(u,j,!1);const J=l.registerEditorContainer(e);"string"==typeof j.theme&&l.setTheme(j.theme),void 0!==j.autoDetectHighContrast&&l.setAutoDetectHighContrast(Boolean(j.autoDetectHighContrast));const ne=j.model;let X;if(delete j.model,super(e,j,i,n,s,r,a,l,d,m,M),this._configurationService=u,this._standaloneThemeService=l,this._register(J),void 0===ne){const le=S.getLanguageIdByMimeType(j.language)||j.language||hr;X=t_(C,S,j.value||"",le,void 0),this._ownsModel=!0}else X=ne,this._ownsModel=!1;this._attachModel(X),X&&this._onDidChangeModel.fire({oldModelUrl:null,newModelUrl:X.uri})}dispose(){super.dispose()}updateOptions(e){Qc(this._configurationService,e,!1),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};Zu=Gu([xi(2,Ft.TG),xi(3,Ti.$),xi(4,Hi.Hy),xi(5,Rt.i6),xi(6,hs.d),xi(7,Ns),xi(8,Bs.lT),xi(9,zi.Ui),xi(10,as),xi(11,Q.q),xi(12,je.O),xi(13,an.c_)],Zu);let qu=class extends zo{constructor(e,t,i,n,s,r,a,l,d,u,m,C){const S=Object.assign({},t);Qc(d,S,!0);const M=a.registerEditorContainer(e);"string"==typeof S.theme&&a.setTheme(S.theme),void 0!==S.autoDetectHighContrast&&a.setAutoDetectHighContrast(Boolean(S.autoDetectHighContrast)),super(e,S,{},C,s,n,i,r,a,l,u,m),this._configurationService=d,this._standaloneThemeService=a,this._register(M)}dispose(){super.dispose()}updateOptions(e){Qc(this._configurationService,e,!0),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(Xc,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};function t_(o,e,t,i,n){if(t=t||"",!i){const s=t.indexOf("\n");let r=t;return-1!==s&&(r=t.substring(0,s)),i_(o,t,e.createByFilepathOrFirstLine(n||null,r),n)}return i_(o,t,e.createById(i),n)}function i_(o,e,t,i){return o.createModel(e,t,i)}function fy(o,e,t){return ui.initialize(t||{}).createInstance(Zu,o,e)}function gy(o){return ui.get(Ti.$).onCodeEditorAdd(t=>{o(t)})}function my(o,e,t){return ui.initialize(t||{}).createInstance(qu,o,e)}function py(o,e){return new mo(o,e)}function _y(o,e,t){const i=ui.get(je.O),n=i.getLanguageIdByMimeType(e)||e;return t_(ui.get(Q.q),i,o,n,t)}function Cy(o,e){const t=ui.get(je.O);ui.get(Q.q).setMode(o,t.createById(e))}function by(o,e,t){o&&ui.get(da).changeOne(e,o.uri,t)}function vy(o){return ui.get(da).read(o)}function wy(o){return ui.get(da).onMarkerChanged(o)}function Sy(o){return ui.get(Q.q).getModel(o)}function yy(){return ui.get(Q.q).getModels()}function Ly(o){return ui.get(Q.q).onModelAdded(o)}function Ey(o){return ui.get(Q.q).onModelRemoved(o)}function xy(o){return ui.get(Q.q).onModelLanguageChanged(t=>{o({model:t.model,oldLanguage:t.oldLanguageId})})}function Ny(o){return function __(o,e,t){return new C_(o,e,t)}(ui.get(Q.q),ui.get(an.c_),o)}function Iy(o,e){const t=ui.get(je.O),i=ui.get(Ns);return i.registerEditorContainer(o),dd.colorizeElement(i,t,o,e)}function Dy(o,e,t){const i=ui.get(je.O);return ui.get(Ns).registerEditorContainer(document.body),dd.colorize(i,o,e,t)}function ky(o,e,t=4){return ui.get(Ns).registerEditorContainer(document.body),dd.colorizeModelLine(o,e,t)}function My(o,e){rt.RW.getOrCreate(e);const t=function Ty(o){return rt.RW.get(o)||{getInitialState:()=>ln.TJ,tokenize:(t,i,n)=>(0,ln.Ri)(o,n)}}(e),i=(0,ut.uq)(o),n=[];let s=t.getInitialState();for(let r=0,a=i.length;r<a;r++){const d=t.tokenize(i[r],!0,s);n[r]=d.tokens,s=d.endState}return n}function Ry(o,e){ui.get(Ns).defineTheme(o,e)}function Oy(o){ui.get(Ns).setTheme(o)}function Ay(){Sn.clearAllFontInfos()}function Py(o,e){return Hi.P0.registerCommand({id:o,handler:e})}function Jc(o,e){return"boolean"==typeof o?o:e}function n_(o,e){return"string"==typeof o?o:e}function s_(o,e=!1){e&&(o=o.map(function(i){return i.toLowerCase()}));const t=function Wy(o){const e={};for(const t of o)e[t]=!0;return e}(o);return e?function(i){return void 0!==t[i.toLowerCase()]&&t.hasOwnProperty(i.toLowerCase())}:function(i){return void 0!==t[i]&&t.hasOwnProperty(i)}}function Yu(o,e){e=e.replace(/@@/g,"\x01");let i,t=0;do{i=!1,e=e.replace(/@(\w+)/g,function(s,r){i=!0;let a="";if("string"==typeof o[r])a=o[r];else{if(!(o[r]&&o[r]instanceof RegExp))throw wi(o,void 0===o[r]?"language definition does not contain attribute '"+r+"', used at: "+e:"attribute reference '"+r+"' must be a string, used at: "+e);a=o[r].source}return Ar(a)?"":"(?:"+a+")"}),t++}while(i&&t<5);return e=e.replace(/\x01/g,"@"),new RegExp(e,(o.ignoreCase?"i":"")+(o.unicode?"u":""))}function Hy(o,e,t,i){let n=-1,s=t,r=t.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);r&&(r[3]&&(n=parseInt(r[3]),r[2]&&(n+=100)),s=r[4]);let d,a="~",l=s;if(s&&0!==s.length?/^\w*$/.test(l)?a="==":(r=s.match(/^(@|!@|~|!~|==|!=)(.*)$/),r&&(a=r[1],l=r[2])):(a="!=",l=""),"~"!==a&&"!~"!==a||!/^(\w|\|)*$/.test(l))if("@"===a||"!@"===a){const u=o[l];if(!u)throw wi(o,"the @ match target '"+l+"' is not defined, in rule: "+e);if(!function Fy(o,e){if(!e||!Array.isArray(e))return!1;for(const t of e)if(!o(t))return!1;return!0}(function(C){return"string"==typeof C},u))throw wi(o,"the @ match target '"+l+"' must be an array of strings, in rule: "+e);const m=s_(u,o.ignoreCase);d=function(C){return"@"===a?m(C):!m(C)}}else if("~"===a||"!~"===a)if(l.indexOf("$")<0){const u=Yu(o,"^"+l+"$");d=function(m){return"~"===a?u.test(m):!u.test(m)}}else d=function(u,m,C,S){return Yu(o,"^"+Ao(o,l,m,C,S)+"$").test(u)};else if(l.indexOf("$")<0){const u=Oo(o,l);d=function(m){return"=="===a?m===u:m!==u}}else{const u=Oo(o,l);d=function(m,C,S,M,j){const J=Ao(o,u,C,S,M);return"=="===a?m===J:m!==J}}else{const u=s_(l.split("|"),o.ignoreCase);d=function(m){return"~"===a?u(m):!u(m)}}return-1===n?{name:t,value:i,test:function(u,m,C,S){return d(u,u,m,C,S)}}:{name:t,value:i,test:function(u,m,C,S){const M=function Vy(o,e,t,i){if(i<0)return o;if(i<e.length)return e[i];if(i>=100){i-=100;const n=t.split(".");if(n.unshift(t),i<n.length)return n[i]}return null}(u,m,C,n);return d(M||"",u,m,C,S)}}}function Qu(o,e,t){if(t){if("string"==typeof t)return t;if(t.token||""===t.token){if("string"!=typeof t.token)throw wi(o,"a 'token' attribute must be of type string, in rule: "+e);{const i={token:t.token};if(t.token.indexOf("$")>=0&&(i.tokenSubst=!0),"string"==typeof t.bracket)if("@open"===t.bracket)i.bracket=1;else{if("@close"!==t.bracket)throw wi(o,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+e);i.bracket=-1}if(t.next){if("string"!=typeof t.next)throw wi(o,"the next state must be a string value in rule: "+e);{let n=t.next;if(!/^(@pop|@push|@popall)$/.test(n)&&("@"===n[0]&&(n=n.substr(1)),n.indexOf("$")<0&&!function P_(o,e){let t=e;for(;t&&t.length>0;){if(o.stateNames[t])return!0;const n=t.lastIndexOf(".");t=n<0?null:t.substr(0,n)}return!1}(o,Ao(o,n,"",[],""))))throw wi(o,"the next state '"+t.next+"' is not defined in rule: "+e);i.next=n}}return"number"==typeof t.goBack&&(i.goBack=t.goBack),"string"==typeof t.switchTo&&(i.switchTo=t.switchTo),"string"==typeof t.log&&(i.log=t.log),"string"==typeof t.nextEmbedded&&(i.nextEmbedded=t.nextEmbedded,o.usesEmbedded=!0),i}}if(Array.isArray(t)){const i=[];for(let n=0,s=t.length;n<s;n++)i[n]=Qu(o,e,t[n]);return{group:i}}if(t.cases){const i=[];for(let s in t.cases)if(t.cases.hasOwnProperty(s)){const r=Qu(o,e,t.cases[s]);i.push("@default"===s||"@"===s||""===s?{test:void 0,value:r,name:s}:"@eos"===s?{test:function(a,l,d,u){return u},value:r,name:s}:Hy(o,e,s,r))}const n=o.defaultToken;return{test:function(s,r,a,l){for(const d of i)if(!d.test||d.test(s,r,a,l))return d.value;return n}}}throw wi(o,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+e)}return{token:""}}qu=Gu([xi(2,Ft.TG),xi(3,Rt.i6),xi(4,ea),xi(5,Ti.$),xi(6,Ns),xi(7,Bs.lT),xi(8,zi.Ui),xi(9,ta.i),xi(10,nh),xi(11,ih.p)],qu);class zy{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let i;if("string"==typeof t)i=t;else{if(!(t instanceof RegExp))throw wi(e,"rules must start with a match string or regular expression: "+this.name);i=t.source}this.matchOnlyAtLineStart=i.length>0&&"^"===i[0],this.name=this.name+": "+i,this.regex=Yu(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")}setAction(e,t){this.action=Qu(e,this.name,t)}}function o_(o,e){if(!e||"object"!=typeof e)throw new Error("Monarch: expecting a language definition object");const t={};t.languageId=o,t.includeLF=Jc(e.includeLF,!1),t.noThrow=!1,t.maxStack=100,t.start="string"==typeof e.start?e.start:null,t.ignoreCase=Jc(e.ignoreCase,!1),t.unicode=Jc(e.unicode,!1),t.tokenPostfix=n_(e.tokenPostfix,"."+t.languageId),t.defaultToken=n_(e.defaultToken,"source"),t.usesEmbedded=!1;const i=e;function n(r,a,l){for(const d of l){let u=d.include;if(u){if("string"!=typeof u)throw wi(t,"an 'include' attribute must be a string at: "+r);if("@"===u[0]&&(u=u.substr(1)),!e.tokenizer[u])throw wi(t,"include target '"+u+"' is not defined at: "+r);n(r+"."+u,a,e.tokenizer[u])}else{const m=new zy(r);if(Array.isArray(d)&&d.length>=1&&d.length<=3)if(m.setRegex(i,d[0]),d.length>=3)if("string"==typeof d[1])m.setAction(i,{token:d[1],next:d[2]});else{if("object"!=typeof d[1])throw wi(t,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+r);{const C=d[1];C.next=d[2],m.setAction(i,C)}}else m.setAction(i,d[1]);else{if(!d.regex)throw wi(t,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+r);d.name&&"string"==typeof d.name&&(m.name=d.name),d.matchOnlyAtStart&&(m.matchOnlyAtLineStart=Jc(d.matchOnlyAtLineStart,!1)),m.setRegex(i,d.regex),m.setAction(i,d.action)}a.push(m)}}}if(i.languageId=o,i.includeLF=t.includeLF,i.ignoreCase=t.ignoreCase,i.unicode=t.unicode,i.noThrow=t.noThrow,i.usesEmbedded=t.usesEmbedded,i.stateNames=e.tokenizer,i.defaultToken=t.defaultToken,!e.tokenizer||"object"!=typeof e.tokenizer)throw wi(t,"a language definition must define the 'tokenizer' attribute as an object");t.tokenizer=[];for(let r in e.tokenizer)if(e.tokenizer.hasOwnProperty(r)){t.start||(t.start=r);const a=e.tokenizer[r];t.tokenizer[r]=new Array,n("tokenizer."+r,t.tokenizer[r],a)}if(t.usesEmbedded=i.usesEmbedded,e.brackets){if(!Array.isArray(e.brackets))throw wi(t,"the 'brackets' attribute must be defined as an array")}else e.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const s=[];for(let r of e.brackets){let a=r;if(a&&Array.isArray(a)&&3===a.length&&(a={token:a[2],open:a[0],close:a[1]}),a.open===a.close)throw wi(t,"open and close brackets in a 'brackets' attribute must be different: "+a.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof a.open||"string"!=typeof a.token||"string"!=typeof a.close)throw wi(t,"every element in the 'brackets' array must be a '{open,close,token}' object or array");s.push({token:a.token+t.tokenPostfix,open:Oo(t,a.open),close:Oo(t,a.close)})}return t.brackets=s,t.noThrow=!0,t}function jy(o){Jr.registerLanguage(o)}function Ky(){let o=[];return o=o.concat(Jr.getLanguages()),o}function $y(o){return ui.get(je.O).languageIdCodec.encodeLanguageId(o)}function Gy(o,e){const i=ui.get(je.O).onDidEncounterLanguage(n=>{n===o&&(i.dispose(),e())});return i}function Zy(o,e){if(!ui.get(je.O).isRegisteredLanguageId(o))throw new Error(`Cannot set configuration for unknown language ${o}`);return an.zu.register(o,e,100)}class qy{constructor(e,t){this._languageId=e,this._actual=t}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,i){if("function"==typeof this._actual.tokenize)return ml.adaptTokenize(this._languageId,this._actual,e,i);throw new Error("Not supported!")}tokenizeEncoded(e,t,i){const n=this._actual.tokenizeEncoded(e,i);return new rt.DI(n.tokens,n.endState)}}class ml{constructor(e,t,i,n){this._languageId=e,this._actual=t,this._languageService=i,this._standaloneThemeService=n}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t){const i=[];let n=0;for(let s=0,r=e.length;s<r;s++){const a=e[s];let l=a.startIndex;0===s?l=0:l<n&&(l=n),i[s]=new rt.WU(l,a.scopes,t),n=l}return i}static adaptTokenize(e,t,i,n){const s=t.tokenize(i,n),r=ml._toClassicTokens(s.tokens,e);let a;return a=s.endState.equals(n)?n:s.endState,new rt.hG(r,a)}tokenize(e,t,i){return ml.adaptTokenize(this._languageId,this._actual,e,i)}_toBinaryTokens(e,t){const i=e.encodeLanguageId(this._languageId),n=this._standaloneThemeService.getColorTheme().tokenTheme,s=[];let r=0,a=0;for(let d=0,u=t.length;d<u;d++){const m=t[d],C=n.match(i,m.scopes);if(r>0&&s[r-1]===C)continue;let S=m.startIndex;0===d?S=0:S<a&&(S=a),s[r++]=S,s[r++]=C,a=S}const l=new Uint32Array(r);for(let d=0;d<r;d++)l[d]=s[d];return l}tokenizeEncoded(e,t,i){const n=this._actual.tokenize(e,i),s=this._toBinaryTokens(this._languageService.languageIdCodec,n.tokens);let r;return r=n.endState.equals(i)?i:n.endState,new rt.DI(s,r)}}function r_(o){return o&&"function"==typeof o.then}function Xy(o){const e=ui.get(Ns);if(o){const t=[null];for(let i=1,n=o.length;i<n;i++)t[i]=Oi.Il.fromHex(o[i]);e.setColorMapOverride(t)}else e.setColorMapOverride(null)}function a_(o,e){return function Qy(o){return"tokenizeEncoded"in o}(e)?new qy(o,e):new ml(o,e,ui.get(je.O),ui.get(Ns))}function Xu(o,e){return rt.RW.registerFactory(o,{createTokenizationSupport:()=>function(o,e,t,i){return new(t||(t=Promise))(function(s,r){function a(u){try{d(i.next(u))}catch(m){r(m)}}function l(u){try{d(i.throw(u))}catch(m){r(m)}}function d(u){u.done?s(u.value):function n(s){return s instanceof t?s:new t(function(r){r(s)})}(u.value).then(a,l)}d((i=i.apply(o,e||[])).next())})}(this,void 0,void 0,function*(){const i=yield Promise.resolve(e.create());return i?function Yy(o){return"function"==typeof o.getInitialState}(i)?a_(o,i):new Na(ui.get(je.O),ui.get(Ns),o,o_(o,i)):null})})}function Jy(o,e){if(!ui.get(je.O).isRegisteredLanguageId(o))throw new Error(`Cannot set tokens provider for unknown language ${o}`);return r_(e)?Xu(o,{create:()=>e}):rt.RW.register(o,a_(o,e))}function eL(o,e){return r_(e)?Xu(o,{create:()=>e}):rt.RW.register(o,(i=e,new Na(ui.get(je.O),ui.get(Ns),o,o_(o,i))));var i}function tL(o,e){return rt.FL.register(o,e)}function iL(o,e){return rt.G0.register(o,e)}function nL(o,e){return rt.nD.register(o,e)}function sL(o,e){return rt.xp.register(o,{provideHover:(t,i,n)=>{const s=t.getWordAtPosition(i);return Promise.resolve(e.provideHover(t,i,n)).then(r=>{if(r)return!r.range&&s&&(r.range=new Ze.e(i.lineNumber,s.startColumn,i.lineNumber,s.endColumn)),r.range||(r.range=new Ze.e(i.lineNumber,i.column,i.lineNumber,i.column)),r})}})}function oL(o,e){return rt.vJ.register(o,e)}function rL(o,e){return rt.vH.register(o,e)}function aL(o,e){return rt.id.register(o,e)}function lL(o,e){return rt.Ct.register(o,e)}function cL(o,e){return rt.vI.register(o,e)}function dL(o,e){return rt.tA.register(o,e)}function hL(o,e){return rt.He.register(o,e)}function uL(o,e,t){return rt.H9.register(o,{providedCodeActionKinds:null==t?void 0:t.providedCodeActionKinds,provideCodeActions:(i,n,s,r)=>{const l=ui.get(da).read({resource:i.uri}).filter(d=>Ze.e.areIntersectingOrTouching(d,n));return e.provideCodeActions(i,n,{markers:l,only:s.only},r)},resolveCodeAction:e.resolveCodeAction})}function fL(o,e){return rt.Az.register(o,e)}function gL(o,e){return rt.vN.register(o,e)}function mL(o,e){return rt.ln.register(o,e)}function pL(o,e){return rt.pM.register(o,e)}function _L(o,e){return rt.KZ.register(o,e)}function CL(o,e){return rt.OH.register(o,e)}function bL(o,e){return rt.aC.register(o,e)}function vL(o,e){return rt.RN.register(o,e)}function wL(o,e){return rt.AC.register(o,e)}function SL(o,e){return rt.wT.register(o,e)}function yL(o,e){return rt.K7.register(o,e)}function LL(o,e){return rt.zu.register(o,e)}function EL(o,e){return rt.mX.register(o,e)}const Ju=(0,Ft.yh)("IEditorCancelService"),l_=new Rt.uy("cancellableOperation",!1,(0,_.N)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,di.z)(Ju,class{constructor(){this._tokens=new WeakMap}add(o,e){let i,t=this._tokens.get(o);return t||(t=o.invokeWithinContext(n=>({key:l_.bindTo(n.get(Rt.i6)),tokens:new ca.S})),this._tokens.set(o,t)),t.key.set(!0),i=t.tokens.push(e),()=>{i&&(i(),t.key.set(!t.tokens.isEmpty()),i=void 0)}}cancel(o){const e=this._tokens.get(o);if(!e)return;const t=e.tokens.pop();t&&(t.cancel(),e.key.set(!e.tokens.isEmpty()))}},!0),(0,Et.fK)(new class extends Et._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:l_})}runEditorCommand(o,e){o.get(Ju).cancel(e)}});class tf{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return"string"==typeof e?e.toLowerCase():e._lower}}var nf,zs=function(o,e,t,i){return new(t||(t=Promise))(function(s,r){function a(u){try{d(i.next(u))}catch(m){r(m)}}function l(u){try{d(i.throw(u))}catch(m){r(m)}}function d(u){u.done?s(u.value):function n(s){return s instanceof t?s:new t(function(r){r(s)})}(u.value).then(a,l)}d((i=i.apply(o,e||[])).next())})};class Nr{static setFormatterSelector(e){return{dispose:Nr._selectors.unshift(e)}}static select(e,t,i){return zs(this,void 0,void 0,function*(){if(0===e.length)return;const n=hi.$.first(Nr._selectors);return n?yield n(e,t,i):void 0})}}Nr._selectors=new ca.S,Hi.P0.registerCommand("_executeFormatRangeProvider",function(o,...e){return zs(this,void 0,void 0,function*(){const[t,i,n]=e;(0,be.p_)(ri.o.isUri(t)),(0,be.p_)(Ze.e.isIRange(i));const s=o.get(uc.S),r=o.get(ea),a=yield s.createModelReference(t);try{return function TL(o,e,t,i,n){return zs(this,void 0,void 0,function*(){const s=rt.vN.ordered(e);for(const r of s){let a=yield Promise.resolve(r.provideDocumentRangeFormattingEdits(e,t,i,n)).catch(he.Cp);if((0,y.Of)(a))return yield o.computeMoreMinimalEdits(e.uri,a)}})}(r,a.object.textEditorModel,Ze.e.lift(i),n,fi.T.None)}finally{a.dispose()}})}),Hi.P0.registerCommand("_executeFormatDocumentProvider",function(o,...e){return zs(this,void 0,void 0,function*(){const[t,i]=e;(0,be.p_)(ri.o.isUri(t));const n=o.get(uc.S),s=o.get(ea),r=yield n.createModelReference(t);try{return function ML(o,e,t,i){return zs(this,void 0,void 0,function*(){const n=function d_(o){const e=[],t=new Set,i=rt.Az.ordered(o);for(const s of i)e.push(s),s.extensionId&&t.add(tf.toKey(s.extensionId));const n=rt.vN.ordered(o);for(const s of n){if(s.extensionId){if(t.has(tf.toKey(s.extensionId)))continue;t.add(tf.toKey(s.extensionId))}e.push({displayName:s.displayName,extensionId:s.extensionId,provideDocumentFormattingEdits:(r,a,l)=>s.provideDocumentRangeFormattingEdits(r,r.getFullModelRange(),a,l)})}return e}(e);for(const s of n){let r=yield Promise.resolve(s.provideDocumentFormattingEdits(e,t,i)).catch(he.Cp);if((0,y.Of)(r))return yield o.computeMoreMinimalEdits(e.uri,r)}})}(s,r.object.textEditorModel,i,fi.T.None)}finally{r.dispose()}})}),Hi.P0.registerCommand("_executeFormatOnTypeProvider",function(o,...e){return zs(this,void 0,void 0,function*(){const[t,i,n,s]=e;(0,be.p_)(ri.o.isUri(t)),(0,be.p_)(Xe.L.isIPosition(i)),(0,be.p_)("string"==typeof n);const r=o.get(uc.S),a=o.get(ea),l=yield r.createModelReference(t);try{return function RL(o,e,t,i,n,s){const r=rt.ln.ordered(e);return 0===r.length||r[0].autoFormatTriggerCharacters.indexOf(i)<0?Promise.resolve(void 0):Promise.resolve(r[0].provideOnTypeFormattingEdits(e,t,i,n,s)).catch(he.Cp).then(a=>o.computeMoreMinimalEdits(e.uri,a))}(a,l.object.textEditorModel,Xe.L.lift(i),n,s,fi.T.None)}finally{l.dispose()}})}),pi.wrappingIndent.defaultValue=0,pi.glyphMargin.defaultValue=!1,pi.autoIndent.defaultValue=3,pi.overviewRulerLanes.defaultValue=2,Nr.setFormatterSelector((o,e,t)=>Promise.resolve(o[0]));const Mn=To();Mn.editor=function By(){return{create:fy,onDidCreateEditor:gy,createDiffEditor:my,createDiffNavigator:py,createModel:_y,setModelLanguage:Cy,setModelMarkers:by,getModelMarkers:vy,onDidChangeMarkers:wy,getModels:yy,getModel:Sy,onDidCreateModel:Ly,onWillDisposeModel:Ey,onDidChangeModelLanguage:xy,createWebWorker:Ny,colorizeElement:Iy,colorize:Dy,colorizeModelLine:ky,tokenize:My,defineTheme:Ry,setTheme:Oy,remeasureFonts:Ay,registerCommand:Py,AccessibilitySupport:bi,ContentWidgetPositionPreference:Lt,CursorChangeReason:Ht,DefaultEndOfLine:gi,EditorAutoIndentStrategy:ei,EditorOption:zt,EndOfLinePreference:Si,EndOfLineSequence:Jt,MinimapPosition:Tt,MouseTargetType:ms,OverlayWidgetPositionPreference:Un,OverviewRulerLane:jn,RenderLineNumbersType:ho,RenderMinimap:uo,ScrollbarVisibility:bn,ScrollType:ps,TextEditorCursorBlinkingStyle:Nn,TextEditorCursorStyle:Ks,TrackedRangeStickiness:os,WrappingIndent:Yn,InjectedTextCursorStops:Ds,PositionAffinity:co,ConfigurationChangedEvent:B,BareFontInfo:vi,FontInfo:rn,TextModelResolvedOptions:Ri.dJ,FindMatch:Ri.tk,ApplyUpdateResult:O,EditorType:ji,EditorOptions:pi}}(),Mn.languages=function xL(){return{register:jy,getLanguages:Ky,onLanguage:Gy,getEncodedLanguageId:$y,setLanguageConfiguration:Zy,setColorMap:Xy,registerTokensProviderFactory:Xu,setTokensProvider:Jy,setMonarchTokensProvider:eL,registerReferenceProvider:tL,registerRenameProvider:iL,registerCompletionItemProvider:_L,registerSignatureHelpProvider:nL,registerHoverProvider:sL,registerDocumentSymbolProvider:oL,registerDocumentHighlightProvider:rL,registerLinkedEditingRangeProvider:aL,registerDefinitionProvider:lL,registerImplementationProvider:cL,registerTypeDefinitionProvider:dL,registerCodeLensProvider:hL,registerCodeActionProvider:uL,registerDocumentFormattingEditProvider:fL,registerDocumentRangeFormattingEditProvider:gL,registerOnTypeFormattingEditProvider:mL,registerLinkProvider:pL,registerColorProvider:CL,registerFoldingRangeProvider:bL,registerDeclarationProvider:vL,registerSelectionRangeProvider:wL,registerDocumentSemanticTokensProvider:SL,registerDocumentRangeSemanticTokensProvider:yL,registerInlineCompletionsProvider:LL,registerInlayHintsProvider:EL,DocumentHighlightKind:_i,CompletionItemKind:Re,CompletionItemTag:Oe,CompletionItemInsertTextRule:un,SymbolKind:qn,SymbolTag:Kn,IndentAction:fn,CompletionTriggerKind:st,SignatureHelpTriggerKind:fo,InlayHintKind:js,InlineCompletionTriggerKind:ks,FoldingRangeKind:rt.AD}}();const OL=Mn.CancellationTokenSource,AL=Mn.Emitter,PL=Mn.KeyCode,BL=Mn.KeyMod,FL=Mn.Position,WL=Mn.Range,VL=Mn.Selection,HL=Mn.SelectionDirection,zL=Mn.MarkerSeverity,UL=Mn.MarkerTag,jL=Mn.Uri,KL=Mn.Token,$L=Mn.editor,GL=Mn.languages;((null===(nf=h.li.MonacoEnvironment)||void 0===nf?void 0:nf.globalAPI)||"function"==typeof define&&L.amdO)&&(self.monaco=Mn),void 0!==self.require&&"function"==typeof self.require.config&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},70552:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-action-bar {\n\twhite-space: nowrap;\n\theight: 100%;\n}\n\n.monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\theight: 100%;\n\twidth: 100%;\n\talign-items: center;\n}\n\n.monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-action-bar .action-item {\n\tdisplay: block;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-action-bar .action-item .icon,\n.monaco-action-bar .action-item .codicon {\n\tdisplay: block;\n}\n\n.monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 16px;\n\theight: 16px;\n}\n\n.monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n}\n\n.monaco-action-bar .action-item.disabled .action-label,\n.monaco-action-bar .action-item.disabled .action-label::before,\n.monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-action-bar .action-item .action-label.separator {\n\twidth: 1px;\n\theight: 16px;\n\tmargin: 5px 4px !important;\n\tcursor: default;\n\tmin-width: 1px;\n\tpadding: 0;\n\tbackground-color: #bbb;\n}\n\n.secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n\n.monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item {\n\tdisplay: flex;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item > .action-label {\n\tmargin-right: 1px;\n}\n"},2898:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-aria-container {\n\tposition: absolute; /* try to hide from window but not from screen readers */\n\tleft:-999em;\n}"},38620:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-text-button {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\twidth: 100%;\n\tpadding: 4px;\n\ttext-align: center;\n\tcursor: pointer;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-text-button:focus {\n\toutline-offset: 2px !important;\n}\n\n.monaco-text-button:hover {\n\ttext-decoration: none !important;\n}\n\n.monaco-button.disabled:focus,\n.monaco-button.disabled {\n\topacity: 0.4 !important;\n\tcursor: default;\n}\n\n.monaco-text-button > .codicon {\n\tmargin: 0 0.2em;\n\tcolor: inherit !important;\n}\n\n.monaco-button-dropdown {\n\tdisplay: flex;\n\tcursor: pointer;\n}\n\n.monaco-button-dropdown > .monaco-dropdown-button {\n\tmargin-left: 1px;\n}\n\n.monaco-description-button {\n\tflex-direction: column;\n}\n\n.monaco-description-button .monaco-button-label {\n\tfont-weight: 500;\n}\n\n.monaco-description-button .monaco-button-description {\n\tfont-style: italic;\n}\n\n.monaco-description-button .monaco-button-label,\n.monaco-description-button .monaco-button-description\n{\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-description-button .monaco-button-label > .codicon,\n.monaco-description-button .monaco-button-description > .codicon\n{\n\tmargin: 0 0.2em;\n\tcolor: inherit !important;\n}\n"},59792:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-custom-checkbox {\n\tmargin-left: 2px;\n\tfloat: left;\n\tcursor: pointer;\n\toverflow: hidden;\n\twidth: 20px;\n\theight: 20px;\n\tborder-radius: 3px;\n\tborder: 1px solid transparent;\n\tpadding: 1px;\n\tbox-sizing:\tborder-box;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-custom-checkbox:hover {\n\tbackground-color: var(--vscode-inputOption-hoverBackground);\n}\n\n.hc-black .monaco-custom-checkbox:hover {\n\tborder: 1px dashed var(--vscode-focusBorder);\n}\n\n.hc-black .monaco-custom-checkbox {\n\tbackground: none;\n}\n\n.hc-black .monaco-custom-checkbox:hover {\n\tbackground: none;\n}\n\n.monaco-custom-checkbox.monaco-simple-checkbox {\n\theight: 18px;\n\twidth: 18px;\n\tborder: 1px solid transparent;\n\tborder-radius: 3px;\n\tmargin-right: 9px;\n\tmargin-left: 0px;\n\tpadding: 0px;\n\topacity: 1;\n\tbackground-size: 16px !important;\n}\n\n/* hide check when unchecked */\n\n.monaco-custom-checkbox.monaco-simple-checkbox:not(.checked)::before {\n\tvisibility: hidden;\n}\n"},52175:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.codicon-wrench-subaction {\n\topacity: 0.5;\n}\n\n@keyframes codicon-spin {\n\t100% {\n\t\ttransform:rotate(360deg);\n\t}\n}\n\n.codicon-sync.codicon-modifier-spin,\n.codicon-loading.codicon-modifier-spin,\n.codicon-gear.codicon-modifier-spin,\n.codicon-notebook-state-executing.codicon-modifier-spin {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\tanimation: codicon-spin 1.5s steps(30) infinite;\n}\n\n.codicon-modifier-disabled {\n\topacity: 0.4;\n}\n\n/* custom speed & easing for loading icon */\n\n.codicon-loading,\n.codicon-tree-item-loading::before {\n\tanimation-duration: 1s !important;\n\tanimation-timing-function: cubic-bezier(0.53, 0.21, 0.29, 0.67) !important;\n}\n"},94376:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n@font-face {\n\tfont-family: \"codicon\";\n\tfont-display: block;\n\tsrc: url('codicon.4f488a798bc8bce2.ttf') format(\"truetype\");\n}\n\n.codicon[class*='codicon-'] {\n\tfont: normal normal normal 16px/1 codicon;\n\tdisplay: inline-block;\n\ttext-decoration: none;\n\ttext-rendering: auto;\n\ttext-align: center;\n\ttext-transform: none;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/* icon rules are dynamically created by the platform theme service (see iconsStyleSheet.ts) */\n"},30378:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.context-view {\n\tposition: absolute;\n\tz-index: 2500;\n}\n\n.context-view.fixed {\n\tall: initial;\n\tfont-family: inherit;\n\tfont-size: 13px;\n\tposition: fixed;\n\tz-index: 2500;\n\tcolor: inherit;\n}\n"},93667:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-count-badge {\n\tpadding: 3px 6px;\n\tborder-radius: 11px;\n\tfont-size: 11px;\n\tmin-width: 18px;\n\tmin-height: 18px;\n\tline-height: 11px;\n\tfont-weight: normal;\n\ttext-align: center;\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n}\n\n.monaco-count-badge.long {\n\tpadding: 2px 3px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n"},62651:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* ---------- Find input ---------- */\n.monaco-findInput {\n\tposition: relative;\n}\n.monaco-findInput .monaco-inputbox {\n\tfont-size: 13px;\n\twidth: 100%;\n}\n.monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n.vs .monaco-findInput.disabled {\n\tbackground-color: #E1E1E1;\n}\n/* Theming */\n.vs-dark .monaco-findInput.disabled {\n\tbackground-color: #333;\n}\n/* Highlighting */\n.monaco-findInput.highlight-0 .controls {\n\tanimation: monaco-findInput-highlight-0 100ms linear 0s;\n}\n.monaco-findInput.highlight-1 .controls {\n\tanimation: monaco-findInput-highlight-1 100ms linear 0s;\n}\n.hc-black .monaco-findInput.highlight-0 .controls,\n.vs-dark  .monaco-findInput.highlight-0 .controls {\n\tanimation: monaco-findInput-highlight-dark-0 100ms linear 0s;\n}\n.hc-black .monaco-findInput.highlight-1 .controls,\n.vs-dark  .monaco-findInput.highlight-1 .controls {\n\tanimation: monaco-findInput-highlight-dark-1 100ms linear 0s;\n}\n@keyframes monaco-findInput-highlight-0 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t100% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-1 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-dark-0 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t100% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-dark-1 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}"},9141:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* ---------- Icon label ---------- */\n\n.monaco-icon-label {\n\tdisplay: flex; /* required for icons support :before rule */\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-icon-label::before {\n\n\t/* svg icons rendered as background image */\n\tbackground-size: 16px;\n\tbackground-position: left center;\n\tbackground-repeat: no-repeat;\n\tpadding-right: 6px;\n\twidth: 16px;\n\theight: 22px;\n\tline-height: inherit !important;\n\tdisplay: inline-block;\n\n\t/* fonts icons */\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tvertical-align: top;\n\n\tflex-shrink: 0; /* fix for https://github.com/microsoft/vscode/issues/13787 */\n}\n\n.monaco-icon-label > .monaco-icon-label-container {\n\tmin-width: 0;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tflex: 1;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name {\n\tcolor: inherit;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name > .label-separator {\n\tmargin: 0 2px;\n\topacity: 0.5;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .7;\n\tmargin-left: 0.5em;\n\tfont-size: 0.9em;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.monaco-icon-label.nowrap > .monaco-icon-label-container > .monaco-icon-description-container > .label-description{\n\twhite-space: nowrap\n}\n\n.vs .monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .95;\n}\n\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\tfont-style: italic;\n}\n\n.monaco-icon-label.deprecated {\n\ttext-decoration: line-through;\n\topacity: 0.66;\n}\n\n/* make sure apply italic font style to decorations as well */\n\n.monaco-icon-label.italic::after {\n\tfont-style: italic;\n}\n\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\ttext-decoration: line-through;\n}\n\n.monaco-icon-label::after {\n\topacity: 0.75;\n\tfont-size: 90%;\n\tfont-weight: 600;\n\tmargin: auto 16px 0 5px; /* https://github.com/microsoft/vscode/issues/113223 */\n\ttext-align: center;\n}\n\n/* make sure selection color wins when a label is being selected */\n\n.monaco-list:focus .selected .monaco-icon-label, /* list */\n.monaco-list:focus .selected .monaco-icon-label::after\n{\n\tcolor: inherit !important;\n}\n\n.monaco-list-row.focused.selected .label-description,\n.monaco-list-row.selected .label-description {\n\topacity: .8;\n}\n"},65395:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-inputbox {\n\tposition: relative;\n\tdisplay: block;\n\tpadding: 0;\n\tbox-sizing:\tborder-box;\n\n\t/* Customizable */\n\tfont-size: inherit;\n}\n\n.monaco-inputbox.idle {\n\tborder: 1px solid transparent;\n}\n\n.monaco-inputbox > .ibwrapper > .input,\n.monaco-inputbox > .ibwrapper > .mirror {\n\n\t/* Customizable */\n\tpadding: 4px;\n}\n\n.monaco-inputbox > .ibwrapper {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-inputbox > .ibwrapper > .input {\n\tdisplay: inline-block;\n\tbox-sizing:\tborder-box;\n\twidth: 100%;\n\theight: 100%;\n\tline-height: inherit;\n\tborder: none;\n\tfont-family: inherit;\n\tfont-size: inherit;\n\tresize: none;\n\tcolor: inherit;\n}\n\n.monaco-inputbox > .ibwrapper > input {\n\ttext-overflow: ellipsis;\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input {\n\tdisplay: block;\n\t-ms-overflow-style: none; /* IE 10+: hide scrollbars */\n\tscrollbar-width: none; /* Firefox: hide scrollbars */\n\toutline: none;\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input::-webkit-scrollbar {\n\tdisplay: none; /* Chrome + Safari: hide scrollbar */\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input.empty {\n\twhite-space: nowrap;\n}\n\n.monaco-inputbox > .ibwrapper > .mirror {\n\tposition: absolute;\n\tdisplay: inline-block;\n\twidth: 100%;\n\ttop: 0;\n\tleft: 0;\n\tbox-sizing: border-box;\n\twhite-space: pre-wrap;\n\tvisibility: hidden;\n\tword-wrap: break-word;\n}\n\n/* Context view */\n\n.monaco-inputbox-container {\n\ttext-align: right;\n}\n\n.monaco-inputbox-container .monaco-inputbox-message {\n\tdisplay: inline-block;\n\toverflow: hidden;\n\ttext-align: left;\n\twidth: 100%;\n\tbox-sizing:\tborder-box;\n\tpadding: 0.4em;\n\tfont-size: 12px;\n\tline-height: 17px;\n\tmargin-top: -1px;\n\tword-wrap: break-word;\n}\n\n/* Action bar support */\n\n.monaco-inputbox .monaco-action-bar {\n\tposition: absolute;\n\tright: 2px;\n\ttop: 4px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item {\n\tmargin-left: 2px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item .codicon {\n\tbackground-repeat: no-repeat;\n\twidth: 16px;\n\theight: 16px;\n}\n"},20539:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-keybinding {\n\tdisplay: flex;\n\talign-items: center;\n\tline-height: 10px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key {\n\tdisplay: inline-block;\n\tborder-style: solid;\n\tborder-width: 1px;\n\tborder-radius: 3px;\n\tvertical-align: middle;\n\tfont-size: 11px;\n\tpadding: 3px 5px;\n\tmargin: 0 2px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:first-child {\n\tmargin-left: 0;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:last-child {\n\tmargin-right: 0;\n}\n\n.monaco-keybinding > .monaco-keybinding-key-separator {\n\tdisplay: inline-block;\n}\n\n.monaco-keybinding > .monaco-keybinding-key-chord-separator {\n\twidth: 6px;\n}\n"},84397:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-list {\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\twhite-space: nowrap;\n}\n\n.monaco-list.mouse-support {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-list > .monaco-scrollable-element {\n\theight: 100%;\n}\n\n.monaco-list-rows {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-list.horizontal-scrolling .monaco-list-rows {\n\twidth: auto;\n\tmin-width: 100%;\n}\n\n.monaco-list-row {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\twidth: 100%;\n}\n\n.monaco-list.mouse-support .monaco-list-row {\n\tcursor: pointer;\n\ttouch-action: none;\n}\n\n/* for OS X ballistic scrolling */\n\n.monaco-list-row.scrolling {\n\tdisplay: none !important;\n}\n\n/* Focus */\n\n.monaco-list.element-focused,\n.monaco-list.selection-single,\n.monaco-list.selection-multiple {\n\toutline: 0 !important;\n}\n\n/* Dnd */\n\n.monaco-drag-image {\n\tdisplay: inline-block;\n\tpadding: 1px 7px;\n\tborder-radius: 10px;\n\tfont-size: 12px;\n\tposition: absolute;\n\tz-index: 1000;\n}\n\n/* Type filter */\n\n.monaco-list-type-filter {\n\tdisplay: flex;\n\talign-items: center;\n\tposition: absolute;\n\tborder-radius: 2px;\n\tpadding: 0px 3px;\n\tmax-width: calc(100% - 10px);\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\ttext-align: right;\n\tbox-sizing: border-box;\n\tcursor: all-scroll;\n\tfont-size: 13px;\n\tline-height: 18px;\n\theight: 20px;\n\tz-index: 1;\n\ttop: 4px;\n}\n\n.monaco-list-type-filter.dragging {\n\ttransition: top 0.2s, left 0.2s;\n}\n\n.monaco-list-type-filter.ne {\n\tright: 4px;\n}\n\n.monaco-list-type-filter.nw {\n\tleft: 4px;\n}\n\n.monaco-list-type-filter > .controls {\n\tdisplay: flex;\n\talign-items: center;\n\tbox-sizing: border-box;\n\ttransition: width 0.2s;\n\twidth: 0;\n}\n\n.monaco-list-type-filter.dragging > .controls,\n.monaco-list-type-filter:hover > .controls {\n\twidth: 36px;\n}\n\n.monaco-list-type-filter > .controls > * {\n\tborder: none;\n\tbox-sizing: border-box;\n\t-webkit-appearance: none;\n\t-moz-appearance: none;\n\tbackground: none;\n\twidth: 16px;\n\theight: 16px;\n\tflex-shrink: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n}\n\n.monaco-list-type-filter > .controls > .filter {\n\tmargin-left: 4px;\n}\n\n.monaco-list-type-filter-message {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tpadding: 40px 1em 1em 1em;\n\ttext-align: center;\n\twhite-space: normal;\n\topacity: 0.7;\n\tpointer-events: none;\n}\n\n.monaco-list-type-filter-message:empty {\n\tdisplay: none;\n}\n\n/* Electron */\n\n.monaco-list-type-filter {\n\tcursor: grab;\n}\n\n.monaco-list-type-filter.dragging {\n\tcursor: grabbing;\n}\n"},78928:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-mouse-cursor-text {\n\tcursor: text;\n}\n"},71693:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-progress-container {\n\twidth: 100%;\n\theight: 5px;\n\toverflow: hidden; /* keep progress bit in bounds */\n}\n\n.monaco-progress-container .progress-bit {\n\twidth: 2%;\n\theight: 5px;\n\tposition: absolute;\n\tleft: 0;\n\tdisplay: none;\n}\n\n.monaco-progress-container.active .progress-bit {\n\tdisplay: inherit;\n}\n\n.monaco-progress-container.discrete .progress-bit {\n\tleft: 0;\n\ttransition: width 100ms linear;\n}\n\n.monaco-progress-container.discrete.done .progress-bit {\n\twidth: 100%;\n}\n\n.monaco-progress-container.infinite .progress-bit {\n\tanimation-name: progress;\n\tanimation-duration: 4s;\n\tanimation-iteration-count: infinite;\n\ttransform: translate3d(0px, 0px, 0px);\n\tanimation-timing-function: linear;\n}\n\n.monaco-progress-container.infinite.infinite-long-running .progress-bit {\n\t/*\n\t   The more smooth `linear` timing function can cause\n\t   higher GPU consumption as indicated in\n\t   https://github.com/microsoft/vscode/issues/97900 &\n\t   https://github.com/microsoft/vscode/issues/138396\n\t*/\n\tanimation-timing-function: steps(100);\n}\n\n/**\n * The progress bit has a width: 2% (1/50) of the parent container. The animation moves it from 0% to 100% of\n * that container. Since translateX is relative to the progress bit size, we have to multiple it with\n * its relative size to the parent container:\n * parent width: 5000%\n *    bit width: 100%\n * translateX should be as follow:\n *  50%: 5000% * 50% - 50% (set to center) = 2450%\n * 100%: 5000% * 100% - 100% (do not overflow) = 4900%\n */\n\n@keyframes progress { from { transform: translateX(0%) scaleX(1) } 50% { transform: translateX(2500%) scaleX(3) } to { transform: translateX(4900%) scaleX(1) } }\n"},69215:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n:root {\n\t--sash-size: 4px;\n}\n\n.monaco-sash {\n\tposition: absolute;\n\tz-index: 35;\n\ttouch-action: none;\n}\n\n.monaco-sash.disabled {\n\tpointer-events: none;\n}\n\n.monaco-sash.mac.vertical {\n\tcursor: col-resize;\n}\n\n.monaco-sash.vertical.minimum {\n\tcursor: e-resize;\n}\n\n.monaco-sash.vertical.maximum {\n\tcursor: w-resize;\n}\n\n.monaco-sash.mac.horizontal {\n\tcursor: row-resize;\n}\n\n.monaco-sash.horizontal.minimum {\n\tcursor: s-resize;\n}\n\n.monaco-sash.horizontal.maximum {\n\tcursor: n-resize;\n}\n\n.monaco-sash.disabled {\n\tcursor: default !important;\n\tpointer-events: none !important;\n}\n\n.monaco-sash.vertical {\n\tcursor: ew-resize;\n\ttop: 0;\n\twidth: var(--sash-size);\n\theight: 100%;\n}\n\n.monaco-sash.horizontal {\n\tcursor: ns-resize;\n\tleft: 0;\n\twidth: 100%;\n\theight: var(--sash-size);\n}\n\n.monaco-sash:not(.disabled) > .orthogonal-drag-handle {\n\tcontent: \" \";\n\theight: calc(var(--sash-size) * 2);\n\twidth: calc(var(--sash-size) * 2);\n\tz-index: 100;\n\tdisplay: block;\n\tcursor: all-scroll;\n\tposition: absolute;\n}\n\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\n\t> .orthogonal-drag-handle.start,\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\n\t> .orthogonal-drag-handle.end {\n\tcursor: nwse-resize;\n}\n\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\n\t> .orthogonal-drag-handle.end,\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\n\t> .orthogonal-drag-handle.start {\n\tcursor: nesw-resize;\n}\n\n.monaco-sash.vertical > .orthogonal-drag-handle.start {\n\tleft: calc(var(--sash-size) * -0.5);\n\ttop: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash.vertical > .orthogonal-drag-handle.end {\n\tleft: calc(var(--sash-size) * -0.5);\n\tbottom: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash.horizontal > .orthogonal-drag-handle.start {\n\ttop: calc(var(--sash-size) * -0.5);\n\tleft: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash.horizontal > .orthogonal-drag-handle.end {\n\ttop: calc(var(--sash-size) * -0.5);\n\tright: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash:before {\n\tcontent: '';\n\tpointer-events: none;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\ttransition: background-color 0.1s ease-out;\n\tbackground: transparent;\n}\n\n.monaco-sash.vertical:before {\n\twidth: var(--sash-hover-size);\n\tleft: calc(50% - (var(--sash-hover-size) / 2));\n}\n\n.monaco-sash.horizontal:before {\n\theight: var(--sash-hover-size);\n\ttop: calc(50% - (var(--sash-hover-size) / 2));\n}\n\n.pointer-events-disabled {\n\tpointer-events: none !important;\n}\n\n/** Debug **/\n\n.monaco-sash.debug {\n\tbackground: cyan;\n}\n\n.monaco-sash.debug.disabled {\n\tbackground: rgba(0, 255, 255, 0.2);\n}\n\n.monaco-sash.debug:not(.disabled) > .orthogonal-drag-handle {\n\tbackground: red;\n}\n"},85352:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Arrows */\n\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n}\n\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n}\n\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n"},82013:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-split-view2 {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-split-view2 > .sash-container {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\tpointer-events: none;\n}\n\n.monaco-split-view2 > .sash-container > .monaco-sash {\n\tpointer-events: initial;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element {\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container {\n\twidth: 100%;\n\theight: 100%;\n\twhite-space: nowrap;\n\tposition: relative;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\twhite-space: initial;\n\tposition: absolute;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view:not(.visible) {\n\tdisplay: none;\n}\n\n.monaco-split-view2.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\twidth: 100%;\n}\n\n.monaco-split-view2.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\theight: 100%;\n}\n\n.monaco-split-view2.separator-border > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\tcontent: ' ';\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 5;\n\tpointer-events: none;\n\tbackground-color: var(--separator-border);\n}\n\n.monaco-split-view2.separator-border.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 100%;\n\twidth: 1px;\n}\n\n.monaco-split-view2.separator-border.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 1px;\n\twidth: 100%;\n}\n"},6282:Ae=>{"use strict";Ae.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-table {\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\twhite-space: nowrap;\n}\n\n.monaco-table > .monaco-split-view2 {\n\tborder-bottom: 1px solid transparent;\n}\n\n.monaco-table > .monaco-list {\n\tflex: 1;\n}\n\n.monaco-table-tr {\n\tdisplay: flex;\n\theight: 100%;\n}\n\n.monaco-table-th {\n\twidth: 100%;\n\theight: 100%;\n\tfont-weight: bold;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-table-th,\n.monaco-table-td {\n\tbox-sizing: border-box;\n\tflex-shrink: 0;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\tcontent: "";\n\tposition: absolute;\n\tleft: calc(var(--sash-size) / 2);\n\twidth: 0;\n\tborder-left: 1px solid transparent;\n}\n\n.monaco-table > .monaco-split-view2,\n.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\ttransition: border-color 0.2s ease-out;\n}\n\n/*\n.monaco-table:hover > .monaco-split-view2,\n.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\tborder-color: rgba(204, 204, 204, 0.2);\n} */\n'},65598:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-tl-row {\n\tdisplay: flex;\n\theight: 100%;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-tl-indent {\n\theight: 100%;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 16px;\n\tpointer-events: none;\n}\n\n.hide-arrows .monaco-tl-indent {\n\tleft: 12px;\n}\n\n.monaco-tl-indent > .indent-guide {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\theight: 100%;\n\tborder-left: 1px solid transparent;\n}\n\n.monaco-tl-indent > .indent-guide {\n\ttransition: border-color 0.1s linear;\n}\n\n.monaco-tl-twistie,\n.monaco-tl-contents {\n\theight: 100%;\n}\n\n.monaco-tl-twistie {\n\tfont-size: 10px;\n\ttext-align: right;\n\tpadding-right: 6px;\n\tflex-shrink: 0;\n\twidth: 16px;\n\tdisplay: flex !important;\n\talign-items: center;\n\tjustify-content: center;\n\ttransform: translateX(3px);\n}\n\n.monaco-tl-contents {\n\tflex: 1;\n\toverflow: hidden;\n}\n\n.monaco-tl-twistie::before {\n\tborder-radius: 20px;\n}\n\n.monaco-tl-twistie.collapsed::before {\n\ttransform: rotate(-90deg);\n}\n\n.monaco-tl-twistie.codicon-tree-item-loading::before {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\tanimation: codicon-spin 1.25s steps(30) infinite;\n}\n"},12083:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tposition: absolute;\n\twidth: 600px;\n\tz-index: 2000;\n\tpadding: 0 1px 1px 1px;\n\tleft: 50%;\n\tmargin-left: -300px;\n}\n\n.quick-input-titlebar {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-left-action-bar {\n\tdisplay: flex;\n\tmargin-left: 4px;\n\tflex: 1;\n}\n\n.quick-input-title {\n\tpadding: 3px 0px;\n\ttext-align: center;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.quick-input-right-action-bar {\n\tdisplay: flex;\n\tmargin-right: 4px;\n\tflex: 1;\n}\n\n.quick-input-right-action-bar > .actions-container {\n\tjustify-content: flex-end;\n}\n\n.quick-input-titlebar .monaco-action-bar .action-label.codicon {\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\tpadding: 2px;\n}\n\n.quick-input-description {\n\tmargin: 6px;\n}\n\n.quick-input-header .quick-input-description {\n\tmargin: 4px 2px;\n}\n\n.quick-input-header {\n\tdisplay: flex;\n\tpadding: 6px 6px 0px 6px;\n\tmargin-bottom: -2px;\n}\n\n.quick-input-widget.hidden-input .quick-input-header {\n\t/* reduce margins and paddings when input box hidden */\n\tpadding: 0;\n\tmargin-bottom: 0;\n}\n\n.quick-input-and-message {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n\tmin-width: 0;\n\tposition: relative;\n}\n\n.quick-input-check-all {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-filter {\n\tflex-grow: 1;\n\tdisplay: flex;\n\tposition: relative;\n}\n\n.quick-input-box {\n\tflex-grow: 1;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-box,\n.quick-input-widget.show-checkboxes .quick-input-message {\n\tmargin-left: 5px;\n}\n\n.quick-input-visible-count {\n\tposition: absolute;\n\tleft: -10000px;\n}\n\n.quick-input-count {\n\talign-self: center;\n\tposition: absolute;\n\tright: 4px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-count .monaco-count-badge {\n\tvertical-align: middle;\n\tpadding: 2px 4px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n\n.quick-input-action {\n\tmargin-left: 6px;\n}\n\n.quick-input-action .monaco-text-button {\n\tfont-size: 11px;\n\tpadding: 0 6px;\n\tdisplay: flex;\n\theight: 27.5px;\n\talign-items: center;\n}\n\n.quick-input-message {\n\tmargin-top: -1px;\n\tpadding: 5px;\n\toverflow-wrap: break-word;\n}\n\n.quick-input-message > .codicon {\n\tmargin: 0 0.2em;\n\tvertical-align: text-bottom;\n}\n\n.quick-input-progress.monaco-progress-container {\n\tposition: relative;\n}\n\n.quick-input-progress.monaco-progress-container,\n.quick-input-progress.monaco-progress-container .progress-bit {\n\theight: 2px;\n}\n\n.quick-input-list {\n\tline-height: 22px;\n\tmargin-top: 6px;\n}\n\n.quick-input-widget.hidden-input .quick-input-list {\n\tmargin-top: 0; /* reduce margins when input box hidden */\n}\n\n.quick-input-list .monaco-list {\n\toverflow: hidden;\n\tmax-height: calc(20 * 22px);\n}\n\n.quick-input-list .quick-input-list-entry {\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tpadding: 0 6px;\n}\n\n.quick-input-list .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-width: 1px;\n\tborder-top-style: solid;\n}\n\n.quick-input-list .monaco-list-row[data-index=\"0\"] .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-style: none;\n}\n\n.quick-input-list .quick-input-list-label {\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tflex: 1;\n}\n\n.quick-input-list .quick-input-list-checkbox {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-list .quick-input-list-rows {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n\tflex: 1;\n\tmargin-left: 5px;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows {\n\tmargin-left: 10px;\n}\n\n.quick-input-widget .quick-input-list .quick-input-list-checkbox {\n\tdisplay: none;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox {\n\tdisplay: inline;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label,\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label .monaco-icon-label-container > .monaco-icon-name-container {\n\tflex: 1; /* make sure the icon label grows within the row */\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .codicon[class*='codicon-'] {\n\tvertical-align: text-bottom;\n}\n\n.quick-input-list .quick-input-list-rows .monaco-highlighted-label span {\n\topacity: 1;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding {\n\tmargin-right: 8px; /* separate from the separator label or scrollbar if any */\n}\n\n.quick-input-list .quick-input-list-label-meta {\n\topacity: 0.7;\n\tline-height: normal;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.quick-input-list .monaco-highlighted-label .highlight {\n\tfont-weight: bold;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-separator {\n\tmargin-right: 8px; /* separate from keybindings or actions */\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tdisplay: flex;\n\tflex: 0;\n\toverflow: visible;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label {\n\t/*\n\t * By default, actions in the quick input action bar are hidden\n\t * until hovered over them or selected.\n\t */\n\tdisplay: none;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon {\n\tmargin-right: 4px;\n\tpadding: 0px 2px 2px 2px;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-top: 1px;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-right: 4px; /* separate from scrollbar */\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,\n.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label,\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label {\n\tdisplay: flex;\n}\n\n/* focused items in quick pick */\n\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator {\n\tcolor: inherit\n}\n\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key {\n\tbackground: none;\n}\n"},52366:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .inputarea {\n\tmin-width: 0;\n\tmin-height: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\toutline: none !important;\n\tresize: none;\n\tborder: none;\n\toverflow: hidden;\n\tcolor: transparent;\n\tbackground-color: transparent;\n}\n\n/*.monaco-editor .inputarea {\n\tposition: fixed !important;\n\twidth: 800px !important;\n\theight: 500px !important;\n\ttop: initial !important;\n\tleft: initial !important;\n\tbottom: 0 !important;\n\tright: 0 !important;\n\tcolor: black !important;\n\tbackground: white !important;\n\tline-height: 15px !important;\n\tfont-size: 14px !important;\n}*/\n\n.monaco-editor .inputarea.ime-input {\n\tz-index: 10;\n}\n"},26964:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .margin-view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both {\n\tborder-right: 0;\n}\n"},32830:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcdr = core decorations rendering (div)\n*/\n\n.monaco-editor .lines-content .cdr {\n\tposition: absolute;\n}"},83196:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .glyph-margin {\n\tposition: absolute;\n\ttop: 0;\n}\n\n/*\n\tKeeping name short for faster parsing.\n\tcgmr = core glyph margin rendering (div)\n*/\n\n.monaco-editor .margin-view-overlays .cgmr {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n"},73382:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .lines-content .core-guide {\n\tposition: absolute;\n\tbox-sizing: border-box;\n}\n"},79399:Ae=>{"use strict";Ae.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .margin-view-overlays .line-numbers {\n\tfont-feature-settings: "tnum";\n\tfont-variant-numeric: tabular-nums;\n\tposition: absolute;\n\ttext-align: right;\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\tcursor: default;\n\theight: 100%;\n}\n\n.monaco-editor .relative-current-line-number {\n\ttext-align: left;\n\tdisplay: inline-block;\n\twidth: 100%;\n}\n\n.monaco-editor .margin-view-overlays .line-numbers.lh-odd {\n\tmargin-top: 1px;\n}\n'},95632:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Uncomment to see lines flashing when they're painted */\n\n/*.monaco-editor .view-lines > .view-line {\n\tbackground-color: none;\n\tanimation-name: flash-background;\n\tanimation-duration: 800ms;\n}\n@keyframes flash-background {\n\t0%   { background-color: lightgreen; }\n\t100% { background-color: none }\n}*/\n\n.mtkcontrol {\n\tcolor: rgb(255, 255, 255) !important;\n\tbackground: rgb(150, 0, 0) !important;\n}\n\n.monaco-editor.no-user-select .lines-content,\n.monaco-editor.no-user-select .view-line,\n.monaco-editor.no-user-select .view-lines {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-editor .view-lines {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .view-line {\n\tposition: absolute;\n\twidth: 100%;\n}\n\n.monaco-editor .mtkz {\n\tdisplay: inline-block;\n}\n\n/* TODO@tokenization bootstrap fix */\n\n/*.monaco-editor .view-line > span > span {\n\tfloat: none;\n\tmin-height: inherit;\n\tmargin-left: inherit;\n}*/\n"},91594:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .lines-decorations {\n\tposition: absolute;\n\ttop: 0;\n\tbackground: white;\n}\n/*\n\tKeeping name short for faster parsing.\n\tcldr = core lines decorations rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cldr {\n\tposition: absolute;\n\theight: 100%;\n}"},15994:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcmdr = core margin decorations rendering (div)\n*/\n\n.monaco-editor .margin-view-overlays .cmdr {\n\tposition: absolute;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}"},41215:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* START cover the case that slider is visible on mouseover */\n\n.monaco-editor .minimap.slider-mouseover .minimap-slider {\n\topacity: 0;\n\ttransition: opacity 100ms linear;\n}\n\n.monaco-editor .minimap.slider-mouseover:hover .minimap-slider {\n\topacity: 1;\n}\n\n.monaco-editor .minimap.slider-mouseover .minimap-slider.active {\n\topacity: 1;\n}\n\n/* END cover the case that slider is visible on mouseover */\n\n.monaco-editor .minimap-shadow-hidden {\n\tposition: absolute;\n\twidth: 0;\n}\n\n.monaco-editor .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -6px;\n\twidth: 6px;\n}\n\n.monaco-editor.no-minimap-shadow .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -1px;\n\twidth: 1px;\n}\n"},38719:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .overlayWidgets {\n\tposition: absolute;\n\ttop: 0;\n\tleft:0;\n}"},7349:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-ruler {\n\tposition: absolute;\n\ttop: 0;\n}"},38051:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .scroll-decoration {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\theight: 6px;\n}"},3535:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcslr = core selections layer rendering (div)\n*/\n\n.monaco-editor .lines-content .cslr {\n\tposition: absolute;\n}\n\n.monaco-editor\t\t\t.top-left-radius\t\t{ border-top-left-radius: 3px; }\n\n.monaco-editor\t\t\t.bottom-left-radius\t\t{ border-bottom-left-radius: 3px; }\n\n.monaco-editor\t\t\t.top-right-radius\t\t{ border-top-right-radius: 3px; }\n\n.monaco-editor\t\t\t.bottom-right-radius\t{ border-bottom-right-radius: 3px; }\n\n.monaco-editor.hc-black .top-left-radius\t\t{ border-top-left-radius: 0; }\n\n.monaco-editor.hc-black .bottom-left-radius\t\t{ border-bottom-left-radius: 0; }\n\n.monaco-editor.hc-black .top-right-radius\t\t{ border-top-right-radius: 0; }\n\n.monaco-editor.hc-black .bottom-right-radius\t{ border-bottom-right-radius: 0; }\n"},90274:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .cursors-layer {\n\tposition: absolute;\n\ttop: 0;\n}\n.monaco-editor .cursors-layer > .cursor {\n\tposition: absolute;\n\toverflow: hidden;\n}\n/* -- smooth-caret-animation -- */\n.monaco-editor .cursors-layer.cursor-smooth-caret-animation > .cursor {\n\ttransition: all 80ms;\n}\n/* -- block-outline-style -- */\n.monaco-editor .cursors-layer.cursor-block-outline-style > .cursor {\n\tbox-sizing: border-box;\n\tbackground: transparent !important;\n\tborder-style: solid;\n\tborder-width: 1px;\n}\n/* -- underline-style -- */\n.monaco-editor .cursors-layer.cursor-underline-style > .cursor {\n\tborder-bottom-width: 2px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n\tbox-sizing: border-box;\n}\n/* -- underline-thin-style -- */\n.monaco-editor .cursors-layer.cursor-underline-thin-style > .cursor {\n\tborder-bottom-width: 1px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n\tbox-sizing: border-box;\n}\n@keyframes monaco-cursor-smooth {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t60%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n@keyframes monaco-cursor-phase {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t90%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n@keyframes monaco-cursor-expand {\n\t0%,\n\t20% {\n\t\ttransform: scaleY(1);\n\t}\n\t80%,\n\t100% {\n\t\ttransform: scaleY(0);\n\t}\n}\n.cursor-smooth {\n\tanimation: monaco-cursor-smooth 0.5s ease-in-out 0s 20 alternate;\n}\n.cursor-phase {\n\tanimation: monaco-cursor-phase 0.5s ease-in-out 0s 20 alternate;\n}\n.cursor-expand > .cursor {\n\tanimation: monaco-cursor-expand 0.5s ease-in-out 0s 20 alternate;\n}\n"},54548:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* ---------- DiffEditor ---------- */\n.monaco-diff-editor .diffOverview {\n\tz-index: 9;\n}\n.monaco-diff-editor .diffOverview .diffViewport {\n\tz-index: 10;\n}\n/* colors not externalized: using transparancy on background */\n.monaco-diff-editor.vs\t\t\t.diffOverview { background: rgba(0, 0, 0, 0.03); }\n.monaco-diff-editor.vs-dark\t\t.diffOverview { background: rgba(255, 255, 255, 0.01); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs\t\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black\t.scrollbar { background: none; }\n.monaco-scrollable-element.modified-in-monaco-diff-editor .slider {\n\tz-index: 10;\n}\n.modified-in-monaco-diff-editor\t\t\t\t.slider.active { background: rgba(171, 171, 171, .4); }\n.modified-in-monaco-diff-editor.hc-black\t.slider.active { background: none; }\n/* ---------- Diff ---------- */\n.monaco-editor .insert-sign,\n.monaco-diff-editor .insert-sign,\n.monaco-editor .delete-sign,\n.monaco-diff-editor .delete-sign {\n\tfont-size: 11px !important;\n\topacity: 0.7 !important;\n\tdisplay: flex !important;\n\talign-items: center;\n}\n.monaco-editor.hc-black .insert-sign,\n.monaco-diff-editor.hc-black .insert-sign,\n.monaco-editor.hc-black .delete-sign,\n.monaco-diff-editor.hc-black .delete-sign {\n\topacity: 1;\n}\n.monaco-editor .inline-deleted-margin-view-zone {\n\ttext-align: right;\n}\n.monaco-editor .inline-added-margin-view-zone {\n\ttext-align: right;\n}\n/* ---------- Inline Diff ---------- */\n.monaco-editor .view-zones .view-lines .view-line span {\n\tdisplay: inline-block;\n}\n.monaco-editor .margin-view-zones .lightbulb-glyph:hover {\n\tcursor: pointer;\n}\n"},59043:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-diff-editor .diff-review-line-number {\n\ttext-align: right;\n\tdisplay: inline-block;\n}\n\n.monaco-diff-editor .diff-review {\n\tposition: absolute;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-diff-editor .diff-review-summary {\n\tpadding-left: 10px;\n}\n\n.monaco-diff-editor .diff-review-shadow {\n\tposition: absolute;\n}\n\n.monaco-diff-editor .diff-review-row {\n\twhite-space: pre;\n}\n\n.monaco-diff-editor .diff-review-table {\n\tdisplay: table;\n\tmin-width: 100%;\n}\n\n.monaco-diff-editor .diff-review-row {\n\tdisplay: table-row;\n\twidth: 100%;\n}\n\n.monaco-diff-editor .diff-review-spacer {\n\tdisplay: inline-block;\n\twidth: 10px;\n\tvertical-align: middle;\n}\n\n.monaco-diff-editor .diff-review-spacer > .codicon {\n\tfont-size: 9px !important;\n}\n\n.monaco-diff-editor .diff-review-actions {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tright: 10px;\n\ttop: 2px;\n}\n\n.monaco-diff-editor .diff-review-actions .action-label {\n\twidth: 16px;\n\theight: 16px;\n\tmargin: 2px 0;\n}\n"},93214:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -------------------- IE10 remove auto clear button -------------------- */\n\n::-ms-clear {\n\tdisplay: none;\n}\n\n/* All widgets */\n\n/* I am not a big fan of this rule */\n\n.monaco-editor .editor-widget input {\n\tcolor: inherit;\n}\n\n/* -------------------- Editor -------------------- */\n\n.monaco-editor {\n\tposition: relative;\n\toverflow: visible;\n\t-webkit-text-size-adjust: 100%;\n}\n\n/* -------------------- Misc -------------------- */\n\n.monaco-editor .overflow-guard {\n\tposition: relative;\n\toverflow: hidden;\n}\n\n.monaco-editor .view-overlays {\n\tposition: absolute;\n\ttop: 0;\n}\n\n/*\n.monaco-editor .auto-closed-character {\n\topacity: 0.3;\n}\n*/\n"},17889:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Find widget */\n\n.monaco-editor .find-widget {\n\tposition: absolute;\n\tz-index: 35;\n\theight: 33px;\n\toverflow: hidden;\n\tline-height: 19px;\n\ttransition: transform 200ms linear;\n\tpadding: 0 4px;\n\tbox-sizing: border-box;\n\ttransform: translateY(calc(-100% - 10px)); /* shadow (10px) */\n}\n\n.monaco-editor .find-widget textarea {\n\tmargin: 0px;\n}\n\n.monaco-editor .find-widget.hiddenEditor {\n\tdisplay: none;\n}\n\n/* Find widget when replace is toggled on */\n\n.monaco-editor .find-widget.replaceToggled > .replace-part {\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget.visible  {\n\ttransform: translateY(0);\n}\n\n.monaco-editor .find-widget .monaco-inputbox.synthetic-focus {\n\toutline: 1px solid -webkit-focus-ring-color;\n\toutline-offset: -1px;\n}\n\n.monaco-editor .find-widget .monaco-inputbox .input {\n\tbackground-color: transparent;\n\tmin-height: 0;\n}\n\n.monaco-editor .find-widget .monaco-findInput .input {\n\tfont-size: 13px;\n}\n\n.monaco-editor .find-widget > .find-part,\n.monaco-editor .find-widget > .replace-part {\n\tmargin: 4px 0 0 17px;\n\tfont-size: 12px;\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox {\n\tmin-height: 25px;\n}\n\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding-right: 22px;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .input,\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .mirror,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .input,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding-top: 2px;\n\tpadding-bottom: 2px;\n}\n\n.monaco-editor .find-widget > .find-part .find-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget > .replace-part .replace-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget .monaco-findInput {\n\tvertical-align: middle;\n\tdisplay: flex;\n\tflex:1;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element {\n\t/* Make sure textarea inherits the width correctly */\n\twidth: 100%;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical {\n\t/* Hide vertical scrollbar */\n\topacity: 0;\n}\n\n.monaco-editor .find-widget .matchesCount {\n\tdisplay: flex;\n\tflex: initial;\n\tmargin: 0 0 0 3px;\n\tpadding: 2px 0 0 2px;\n\theight: 25px;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\ttext-align: center;\n\tline-height: 23px;\n}\n\n.monaco-editor .find-widget .button {\n\twidth: 16px;\n\theight: 16px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n\tdisplay: flex;\n\tflex: initial;\n\tmargin-left: 3px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n\tcursor: pointer;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* find in selection button */\n\n.monaco-editor .find-widget .codicon-find-selection {\n\twidth: 22px;\n\theight: 22px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n}\n\n.monaco-editor .find-widget .button.left {\n\tmargin-left: 0;\n\tmargin-right: 3px;\n}\n\n.monaco-editor .find-widget .button.wide {\n\twidth: auto;\n\tpadding: 1px 6px;\n\ttop: -1px;\n}\n\n.monaco-editor .find-widget .button.toggle {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 3px;\n\twidth: 18px;\n\theight: 100%;\n\tborder-radius: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .find-widget .button.toggle.disabled {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget .disabled {\n\topacity: 0.3;\n\tcursor: default;\n}\n\n.monaco-editor .find-widget > .replace-part {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput {\n\tposition: relative;\n\tdisplay: flex;\n\tvertical-align: middle;\n\tflex: auto;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n\n/* REDUCED */\n\n.monaco-editor .find-widget.reduced-find-widget .matchesCount {\n\tdisplay:none;\n}\n\n/* NARROW (SMALLER THAN REDUCED) */\n\n.monaco-editor .find-widget.narrow-find-widget {\n\tmax-width: 257px !important;\n}\n\n/* COLLAPSED (SMALLER THAN NARROW) */\n\n.monaco-editor .find-widget.collapsed-find-widget {\n\tmax-width: 170px !important;\n}\n\n.monaco-editor .find-widget.collapsed-find-widget .button.previous,\n.monaco-editor .find-widget.collapsed-find-widget .button.next,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,\n.monaco-editor .find-widget.collapsed-find-widget > .find-part .monaco-findInput .controls {\n\tdisplay:none;\n}\n\n.monaco-editor .findMatch {\n\tanimation-duration: 0;\n\tanimation-name: inherit !important;\n}\n\n.monaco-editor .find-widget .monaco-sash {\n\tleft: 0 !important;\n}\n\n.monaco-editor.hc-black .find-widget .button:before {\n\tposition: relative;\n\ttop: 1px;\n\tleft: 2px;\n}\n"},85775:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tfont-size: 13px;\n}\n\n.quick-input-widget .monaco-highlighted-label .highlight,\n.quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0066BF;\n}\n\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight,\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight {\n\tcolor: #9DDDFF;\n}\n\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight,\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0097fb;\n}\n\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight,\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #F38518;\n}\n\n.monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: rgba(221, 221, 221, 0.4);\n\tborder: solid 1px rgba(204, 204, 204, 0.4);\n\tborder-bottom-color: rgba(187, 187, 187, 0.4);\n\tbox-shadow: inset 0 -1px 0 rgba(187, 187, 187, 0.4);\n\tcolor: #555;\n}\n\n.hc-black .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: transparent;\n\tborder: solid 1px rgb(111, 195, 223);\n\tbox-shadow: none;\n\tcolor: #fff;\n}\n\n.vs-dark .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: rgba(128, 128, 128, 0.17);\n\tborder: solid 1px rgba(51, 51, 51, 0.6);\n\tborder-bottom-color: rgba(68, 68, 68, 0.6);\n\tbox-shadow: inset 0 -1px 0 rgba(68, 68, 68, 0.6);\n\tcolor: #ccc;\n}\n"},14827:Ae=>{"use strict";Ae.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\n/* Default standalone editor fonts */\n\n\n.monaco-editor {\n\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t--monaco-monospace-font: "SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono", "Liberation Mono", "DejaVu Sans Mono", "Courier New", monospace;\n}\n\n\n.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n\n.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n\n.monaco-hover p {\n\tmargin: 0;\n}\n\n\n/* See https://github.com/microsoft/monaco-editor/issues/2168#issuecomment-780078600 */\n\n\n.monaco-aria-container {\n\tposition: absolute !important;\n\ttop: 0; /* avoid being placed underneath a sibling element */\n\theight: 1px;\n\twidth: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tclip: rect(1px, 1px, 1px, 1px);\n\tclip-path: inset(50%);\n}\n\n\n/* The hc-black theme is already high contrast optimized */\n\n\n.monaco-editor.hc-black {\n\t-ms-high-contrast-adjust: none;\n}\n\n\n/* In case the browser goes into high contrast mode and the editor is not configured with the hc-black theme */\n\n\n@media screen and (-ms-high-contrast:active) {\n\n\t/* current line highlight */\n\t.monaco-editor.vs .view-overlays .current-line,\n\t.monaco-editor.vs-dark .view-overlays .current-line {\n\t\tborder-color: windowtext !important;\n\t\tborder-left: 0;\n\t\tborder-right: 0;\n\t}\n\n\t/* view cursors */\n\t.monaco-editor.vs .cursor,\n\t.monaco-editor.vs-dark .cursor {\n\t\tbackground-color: windowtext !important;\n\t}\n\t/* dnd target */\n\t.monaco-editor.vs .dnd-target,\n\t.monaco-editor.vs-dark .dnd-target {\n\t\tborder-color: windowtext !important;\n\t}\n\n\t/* selected text background */\n\t.monaco-editor.vs .selected-text,\n\t.monaco-editor.vs-dark .selected-text {\n\t\tbackground-color: highlight !important;\n\t}\n\n\t/* allow the text to have a transparent background. */\n\t.monaco-editor.vs .view-line,\n\t.monaco-editor.vs-dark .view-line {\n\t\t-ms-high-contrast-adjust: none;\n\t}\n\n\t/* text color */\n\t.monaco-editor.vs .view-line span,\n\t.monaco-editor.vs-dark .view-line span {\n\t\tcolor: windowtext !important;\n\t}\n\t/* selected text color */\n\t.monaco-editor.vs .view-line span.inline-selected-text,\n\t.monaco-editor.vs-dark .view-line span.inline-selected-text {\n\t\tcolor: highlighttext !important;\n\t}\n\n\t/* allow decorations */\n\t.monaco-editor.vs .view-overlays,\n\t.monaco-editor.vs-dark .view-overlays {\n\t\t-ms-high-contrast-adjust: none;\n\t}\n\n\t/* various decorations */\n\t.monaco-editor.vs .selectionHighlight,\n\t.monaco-editor.vs-dark .selectionHighlight,\n\t.monaco-editor.vs .wordHighlight,\n\t.monaco-editor.vs-dark .wordHighlight,\n\t.monaco-editor.vs .wordHighlightStrong,\n\t.monaco-editor.vs-dark .wordHighlightStrong,\n\t.monaco-editor.vs .reference-decoration,\n\t.monaco-editor.vs-dark .reference-decoration {\n\t\tborder: 2px dotted highlight !important;\n\t\tbackground: transparent !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .rangeHighlight,\n\t.monaco-editor.vs-dark .rangeHighlight {\n\t\tbackground: transparent !important;\n\t\tborder: 1px dotted activeborder !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .bracket-match,\n\t.monaco-editor.vs-dark .bracket-match {\n\t\tborder-color: windowtext !important;\n\t\tbackground: transparent !important;\n\t}\n\n\t/* find widget */\n\t.monaco-editor.vs .findMatch,\n\t.monaco-editor.vs-dark .findMatch,\n\t.monaco-editor.vs .currentFindMatch,\n\t.monaco-editor.vs-dark .currentFindMatch {\n\t\tborder: 2px dotted activeborder !important;\n\t\tbackground: transparent !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .find-widget,\n\t.monaco-editor.vs-dark .find-widget {\n\t\tborder: 1px solid windowtext;\n\t}\n\n\t/* list - used by suggest widget */\n\t.monaco-editor.vs .monaco-list .monaco-list-row,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row {\n\t\t-ms-high-contrast-adjust: none;\n\t\tcolor: windowtext !important;\n\t}\n\t.monaco-editor.vs .monaco-list .monaco-list-row.focused,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row.focused {\n\t\tcolor: highlighttext !important;\n\t\tbackground-color: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-list .monaco-list-row:hover,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row:hover {\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight;\n\t\tbox-sizing: border-box;\n\t}\n\n\t/* scrollbars */\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar {\n\t\t-ms-high-contrast-adjust: none;\n\t\tbackground: background !important;\n\t\tborder: 1px solid windowtext;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider {\n\t\tbackground: windowtext !important;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider:hover,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\tbackground: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider.active,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider.active {\n\t\tbackground: highlight !important;\n\t}\n\n\t/* overview ruler */\n\t.monaco-editor.vs .decorationsOverviewRuler,\n\t.monaco-editor.vs-dark .decorationsOverviewRuler {\n\t\topacity: 0;\n\t}\n\n\t/* minimap */\n\t.monaco-editor.vs .minimap,\n\t.monaco-editor.vs-dark .minimap {\n\t\tdisplay: none;\n\t}\n\n\t/* squiggles */\n\t.monaco-editor.vs .squiggly-d-error,\n\t.monaco-editor.vs-dark .squiggly-d-error {\n\t\tbackground: transparent !important;\n\t\tborder-bottom: 4px double #E47777;\n\t}\n\t.monaco-editor.vs .squiggly-c-warning,\n\t.monaco-editor.vs-dark .squiggly-c-warning {\n\t\tborder-bottom: 4px double #71B771;\n\t}\n\t.monaco-editor.vs .squiggly-b-info,\n\t.monaco-editor.vs-dark .squiggly-b-info {\n\t\tborder-bottom: 4px double #71B771;\n\t}\n\t.monaco-editor.vs .squiggly-a-hint,\n\t.monaco-editor.vs-dark .squiggly-a-hint {\n\t\tborder-bottom: 4px double #6c6c6c;\n\t}\n\n\t/* contextmenu */\n\t.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n\t.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\n\t\t-ms-high-contrast-adjust: none;\n\t\tcolor: highlighttext !important;\n\t\tbackground-color: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label,\n\t.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label {\n\t\t-ms-high-contrast-adjust: none;\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight;\n\t\tbox-sizing: border-box;\n\t}\n\n\t/* diff editor */\n\t.monaco-diff-editor.vs .diffOverviewRuler,\n\t.monaco-diff-editor.vs-dark .diffOverviewRuler {\n\t\tdisplay: none;\n\t}\n\t.monaco-editor.vs .line-insert,\n\t.monaco-editor.vs-dark .line-insert,\n\t.monaco-editor.vs .line-delete,\n\t.monaco-editor.vs-dark .line-delete {\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .char-insert,\n\t.monaco-editor.vs-dark .char-insert,\n\t.monaco-editor.vs .char-delete,\n\t.monaco-editor.vs-dark .char-delete {\n\t\tbackground: transparent !important;\n\t}\n}\n\n\n/*.monaco-editor.vs [tabindex="0"]:focus {\n\toutline: 1px solid rgba(0, 122, 204, 0.4);\n\toutline-offset: -1px;\n\topacity: 1 !important;\n}\n\n.monaco-editor.vs-dark [tabindex="0"]:focus {\n\toutline: 1px solid rgba(14, 99, 156, 0.6);\n\toutline-offset: -1px;\n\topacity: 1 !important;\n}*/\n'},93840:Ae=>{"use strict";Ae.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.context-view .monaco-menu {\n\tmin-width: 130px;\n}\n\n"}}]);