!(function (ue, or) {
  'object' == typeof exports && typeof module < 'u'
    ? or(exports)
    : 'function' == typeof define && define.amd
    ? define(['exports'], or)
    : or(
        ((ue = typeof globalThis < 'u' ? globalThis : ue || self).echarts = {})
      );
})(this, function (ue) {
  'use strict';
  var or = function (r, e) {
    return (or =
      Object.setPrototypeOf ||
      ({ __proto__: [] } instanceof Array &&
        function (t, n) {
          t.__proto__ = n;
        }) ||
      function (t, n) {
        for (var i in n)
          Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]);
      })(r, e);
  };
  function ut(r, e) {
    if ('function' != typeof e && null !== e)
      throw new TypeError(
        'Class extends value ' + String(e) + ' is not a constructor or null'
      );
    function t() {
      this.constructor = r;
    }
    or(r, e),
      (r.prototype =
        null === e ? Object.create(e) : ((t.prototype = e.prototype), new t()));
  }
  var te = function r() {
      (this.firefox = !1),
        (this.ie = !1),
        (this.edge = !1),
        (this.newEdge = !1),
        (this.weChat = !1);
    },
    Lt = new (function r() {
      (this.browser = new te()),
        (this.node = !1),
        (this.wxa = !1),
        (this.worker = !1),
        (this.svgSupported = !1),
        (this.touchEventsSupported = !1),
        (this.pointerEventsSupported = !1),
        (this.domSupported = !1),
        (this.transformSupported = !1),
        (this.transform3dSupported = !1),
        (this.hasGlobalWindow = typeof window < 'u');
    })();
  'object' == typeof wx && 'function' == typeof wx.getSystemInfoSync
    ? ((Lt.wxa = !0), (Lt.touchEventsSupported = !0))
    : typeof document > 'u' && typeof self < 'u'
    ? (Lt.worker = !0)
    : typeof navigator > 'u'
    ? ((Lt.node = !0), (Lt.svgSupported = !0))
    : (function yt(r, e) {
        var t = e.browser,
          n = r.match(/Firefox\/([\d.]+)/),
          i = r.match(/MSIE\s([\d.]+)/) || r.match(/Trident\/.+?rv:(([\d.]+))/),
          a = r.match(/Edge?\/([\d.]+)/),
          o = /micromessenger/i.test(r);
        n && ((t.firefox = !0), (t.version = n[1])),
          i && ((t.ie = !0), (t.version = i[1])),
          a &&
            ((t.edge = !0),
            (t.version = a[1]),
            (t.newEdge = +a[1].split('.')[0] > 18)),
          o && (t.weChat = !0),
          (e.svgSupported = typeof SVGRect < 'u'),
          (e.touchEventsSupported =
            'ontouchstart' in window && !t.ie && !t.edge),
          (e.pointerEventsSupported =
            'onpointerdown' in window &&
            (t.edge || (t.ie && +t.version >= 11))),
          (e.domSupported = typeof document < 'u');
        var s = document.documentElement.style;
        (e.transform3dSupported =
          ((t.ie && 'transition' in s) ||
            t.edge ||
            ('WebKitCSSMatrix' in window && 'm11' in new WebKitCSSMatrix()) ||
            'MozPerspective' in s) &&
          !('OTransition' in s)),
          (e.transformSupported =
            e.transform3dSupported || (t.ie && +t.version >= 9));
      })(navigator.userAgent, Lt);
  var r,
    e,
    Dt = 12,
    bt = 'sans-serif',
    ct = Dt + 'px ' + bt,
    wt = (function de(r) {
      var e = {};
      if (typeof JSON > 'u') return e;
      for (var t = 0; t < r.length; t++) {
        var n = String.fromCharCode(t + 32),
          i = (r.charCodeAt(t) - 20) / 100;
        e[n] = i;
      }
      return e;
    })(
      "007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"
    ),
    Zt = {
      createCanvas: function () {
        return typeof document < 'u' && document.createElement('canvas');
      },
      measureText: function (t, n) {
        if (!r) {
          var i = Zt.createCanvas();
          r = i && i.getContext('2d');
        }
        if (r) return e !== n && (e = r.font = n || ct), r.measureText(t);
        t = t || '';
        var a = /(\d+)px/.exec((n = n || ct)),
          o = (a && +a[1]) || Dt,
          s = 0;
        if (n.indexOf('mono') >= 0) s = o * t.length;
        else
          for (var l = 0; l < t.length; l++) {
            var u = wt[t[l]];
            s += null == u ? o : u * o;
          }
        return { width: s };
      },
      loadImage: function (r, e, t) {
        var n = new Image();
        return (n.onload = e), (n.onerror = t), (n.src = r), n;
      },
    };
  function he(r) {
    for (var e in Zt) r[e] && (Zt[e] = r[e]);
  }
  var _t = Oe(
      [
        'Function',
        'RegExp',
        'Date',
        'Error',
        'CanvasGradient',
        'CanvasPattern',
        'Image',
        'Canvas',
      ],
      function (r, e) {
        return (r['[object ' + e + ']'] = !0), r;
      },
      {}
    ),
    zt = Oe(
      [
        'Int8',
        'Uint8',
        'Uint8Clamped',
        'Int16',
        'Uint16',
        'Int32',
        'Uint32',
        'Float32',
        'Float64',
      ],
      function (r, e) {
        return (r['[object ' + e + 'Array]'] = !0), r;
      },
      {}
    ),
    Bt = Object.prototype.toString,
    ee = Array.prototype,
    ne = ee.forEach,
    Kt = ee.filter,
    ie = ee.slice,
    Le = ee.map,
    Pe = function () {}.constructor,
    Re = Pe ? Pe.prototype : null,
    qe = '__proto__',
    Ae = 2311;
  function ir() {
    return Ae++;
  }
  function He() {
    for (var r = [], e = 0; e < arguments.length; e++) r[e] = arguments[e];
    typeof console < 'u' && console.error.apply(console, r);
  }
  function ft(r) {
    if (null == r || 'object' != typeof r) return r;
    var e = r,
      t = Bt.call(r);
    if ('[object Array]' === t) {
      if (!Ct(r)) {
        e = [];
        for (var n = 0, i = r.length; n < i; n++) e[n] = ft(r[n]);
      }
    } else if (zt[t]) {
      if (!Ct(r)) {
        var a = r.constructor;
        if (a.from) e = a.from(r);
        else
          for (e = new a(r.length), n = 0, i = r.length; n < i; n++)
            e[n] = r[n];
      }
    } else if (!_t[t] && !Ct(r) && !At(r))
      for (var o in ((e = {}), r))
        r.hasOwnProperty(o) && o !== qe && (e[o] = ft(r[o]));
    return e;
  }
  function Gt(r, e, t) {
    if (!Y(e) || !Y(r)) return t ? ft(e) : r;
    for (var n in e)
      if (e.hasOwnProperty(n) && n !== qe) {
        var i = r[n],
          a = e[n];
        !Y(a) ||
        !Y(i) ||
        Tt(a) ||
        Tt(i) ||
        At(a) ||
        At(i) ||
        mt(a) ||
        mt(i) ||
        Ct(a) ||
        Ct(i)
          ? (t || !(n in r)) && (r[n] = ft(e[n]))
          : Gt(i, a, t);
      }
    return r;
  }
  function Ht(r, e) {
    for (var t = r[0], n = 1, i = r.length; n < i; n++) t = Gt(t, r[n], e);
    return t;
  }
  function nt(r, e) {
    if (Object.assign) Object.assign(r, e);
    else for (var t in e) e.hasOwnProperty(t) && t !== qe && (r[t] = e[t]);
    return r;
  }
  function Ot(r, e, t) {
    for (var n = Ne(e), i = 0; i < n.length; i++) {
      var a = n[i];
      (t ? null != e[a] : null == r[a]) && (r[a] = e[a]);
    }
    return r;
  }
  var st = Zt.createCanvas;
  function $(r, e) {
    if (r) {
      if (r.indexOf) return r.indexOf(e);
      for (var t = 0, n = r.length; t < n; t++) if (r[t] === e) return t;
    }
    return -1;
  }
  function Xe(r, e) {
    var t = r.prototype;
    function n() {}
    for (var i in ((n.prototype = e.prototype), (r.prototype = new n()), t))
      t.hasOwnProperty(i) && (r.prototype[i] = t[i]);
    (r.prototype.constructor = r), (r.superClass = e);
  }
  function Ee(r, e, t) {
    if (
      ((r = 'prototype' in r ? r.prototype : r),
      (e = 'prototype' in e ? e.prototype : e),
      Object.getOwnPropertyNames)
    )
      for (var n = Object.getOwnPropertyNames(e), i = 0; i < n.length; i++) {
        var a = n[i];
        'constructor' !== a &&
          (t ? null != e[a] : null == r[a]) &&
          (r[a] = e[a]);
      }
    else Ot(r, e, t);
  }
  function sr(r) {
    return !(!r || 'string' == typeof r) && 'number' == typeof r.length;
  }
  function F(r, e, t) {
    if (r && e)
      if (r.forEach && r.forEach === ne) r.forEach(e, t);
      else if (r.length === +r.length)
        for (var n = 0, i = r.length; n < i; n++) e.call(t, r[n], n, r);
      else for (var a in r) r.hasOwnProperty(a) && e.call(t, r[a], a, r);
  }
  function Ut(r, e, t) {
    if (!r) return [];
    if (!e) return rt(r);
    if (r.map && r.map === Le) return r.map(e, t);
    for (var n = [], i = 0, a = r.length; i < a; i++)
      n.push(e.call(t, r[i], i, r));
    return n;
  }
  function Oe(r, e, t, n) {
    if (r && e) {
      for (var i = 0, a = r.length; i < a; i++) t = e.call(n, t, r[i], i, r);
      return t;
    }
  }
  function je(r, e, t) {
    if (!r) return [];
    if (!e) return rt(r);
    if (r.filter && r.filter === Kt) return r.filter(e, t);
    for (var n = [], i = 0, a = r.length; i < a; i++)
      e.call(t, r[i], i, r) && n.push(r[i]);
    return n;
  }
  function Ar(r, e, t) {
    if (r && e)
      for (var n = 0, i = r.length; n < i; n++)
        if (e.call(t, r[n], n, r)) return r[n];
  }
  function Ne(r) {
    if (!r) return [];
    if (Object.keys) return Object.keys(r);
    var e = [];
    for (var t in r) r.hasOwnProperty(t) && e.push(t);
    return e;
  }
  var kt =
    Re && fe(Re.bind)
      ? Re.call.bind(Re.bind)
      : function Ie(r, e) {
          for (var t = [], n = 2; n < arguments.length; n++)
            t[n - 2] = arguments[n];
          return function () {
            return r.apply(e, t.concat(ie.call(arguments)));
          };
        };
  function me(r) {
    for (var e = [], t = 1; t < arguments.length; t++) e[t - 1] = arguments[t];
    return function () {
      return r.apply(this, e.concat(ie.call(arguments)));
    };
  }
  function Tt(r) {
    return Array.isArray ? Array.isArray(r) : '[object Array]' === Bt.call(r);
  }
  function fe(r) {
    return 'function' == typeof r;
  }
  function ht(r) {
    return 'string' == typeof r;
  }
  function It(r) {
    return '[object String]' === Bt.call(r);
  }
  function U(r) {
    return 'number' == typeof r;
  }
  function Y(r) {
    var e = typeof r;
    return 'function' === e || (!!r && 'object' === e);
  }
  function mt(r) {
    return !!_t[Bt.call(r)];
  }
  function Q(r) {
    return !!zt[Bt.call(r)];
  }
  function At(r) {
    return (
      'object' == typeof r &&
      'number' == typeof r.nodeType &&
      'object' == typeof r.ownerDocument
    );
  }
  function Pt(r) {
    return null != r.colorStops;
  }
  function qt(r) {
    return null != r.image;
  }
  function Me(r) {
    return '[object RegExp]' === Bt.call(r);
  }
  function Wt(r) {
    return r != r;
  }
  function xe() {
    for (var r = [], e = 0; e < arguments.length; e++) r[e] = arguments[e];
    for (var t = 0, n = r.length; t < n; t++) if (null != r[t]) return r[t];
  }
  function B(r, e) {
    return r ?? e;
  }
  function J(r, e, t) {
    return r ?? e ?? t;
  }
  function rt(r) {
    for (var e = [], t = 1; t < arguments.length; t++) e[t - 1] = arguments[t];
    return ie.apply(r, e);
  }
  function et(r) {
    if ('number' == typeof r) return [r, r, r, r];
    var e = r.length;
    return 2 === e
      ? [r[0], r[1], r[0], r[1]]
      : 3 === e
      ? [r[0], r[1], r[2], r[1]]
      : r;
  }
  function lt(r, e) {
    if (!r) throw new Error(e);
  }
  function Et(r) {
    return null == r
      ? null
      : 'function' == typeof r.trim
      ? r.trim()
      : r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, '');
  }
  var gt = '__ec_primitive__';
  function Rt(r) {
    r[gt] = !0;
  }
  function Ct(r) {
    return r[gt];
  }
  var se = (function () {
      function r() {
        this.data = {};
      }
      return (
        (r.prototype.delete = function (e) {
          var t = this.has(e);
          return t && delete this.data[e], t;
        }),
        (r.prototype.has = function (e) {
          return this.data.hasOwnProperty(e);
        }),
        (r.prototype.get = function (e) {
          return this.data[e];
        }),
        (r.prototype.set = function (e, t) {
          return (this.data[e] = t), this;
        }),
        (r.prototype.keys = function () {
          return Ne(this.data);
        }),
        (r.prototype.forEach = function (e) {
          var t = this.data;
          for (var n in t) t.hasOwnProperty(n) && e(t[n], n);
        }),
        r
      );
    })(),
    pe = 'function' == typeof Map,
    ar = (function () {
      function r(e) {
        var t = Tt(e);
        this.data = (function ze() {
          return pe ? new Map() : new se();
        })();
        var n = this;
        function i(a, o) {
          t ? n.set(a, o) : n.set(o, a);
        }
        e instanceof r ? e.each(i) : e && F(e, i);
      }
      return (
        (r.prototype.hasKey = function (e) {
          return this.data.has(e);
        }),
        (r.prototype.get = function (e) {
          return this.data.get(e);
        }),
        (r.prototype.set = function (e, t) {
          return this.data.set(e, t), t;
        }),
        (r.prototype.each = function (e, t) {
          this.data.forEach(function (n, i) {
            e.call(t, n, i);
          });
        }),
        (r.prototype.keys = function () {
          var e = this.data.keys();
          return pe ? Array.from(e) : e;
        }),
        (r.prototype.removeKey = function (e) {
          this.data.delete(e);
        }),
        r
      );
    })();
  function Nt(r) {
    return new ar(r);
  }
  function Ge(r, e) {
    for (
      var t = new r.constructor(r.length + e.length), n = 0;
      n < r.length;
      n++
    )
      t[n] = r[n];
    var i = r.length;
    for (n = 0; n < e.length; n++) t[n + i] = e[n];
    return t;
  }
  function $e(r, e) {
    var t;
    if (Object.create) t = Object.create(r);
    else {
      var n = function () {};
      (n.prototype = r), (t = new n());
    }
    return e && nt(t, e), t;
  }
  function lr(r) {
    var e = r.style;
    (e.webkitUserSelect = 'none'),
      (e.userSelect = 'none'),
      (e.webkitTapHighlightColor = 'rgba(0,0,0,0)'),
      (e['-webkit-touch-callout'] = 'none');
  }
  function ce(r, e) {
    return r.hasOwnProperty(e);
  }
  function Ke() {}
  var Fr = 180 / Math.PI,
    ti = Object.freeze({
      __proto__: null,
      guid: ir,
      logError: He,
      clone: ft,
      merge: Gt,
      mergeAll: Ht,
      extend: nt,
      defaults: Ot,
      createCanvas: st,
      indexOf: $,
      inherits: Xe,
      mixin: Ee,
      isArrayLike: sr,
      each: F,
      map: Ut,
      reduce: Oe,
      filter: je,
      find: Ar,
      keys: Ne,
      bind: kt,
      curry: me,
      isArray: Tt,
      isFunction: fe,
      isString: ht,
      isStringSafe: It,
      isNumber: U,
      isObject: Y,
      isBuiltInObject: mt,
      isTypedArray: Q,
      isDom: At,
      isGradientObject: Pt,
      isImagePatternObject: qt,
      isRegExp: Me,
      eqNaN: Wt,
      retrieve: xe,
      retrieve2: B,
      retrieve3: J,
      slice: rt,
      normalizeCssArray: et,
      assert: lt,
      trim: Et,
      setAsPrimitive: Rt,
      isPrimitive: Ct,
      HashMap: ar,
      createHashMap: Nt,
      concatArray: Ge,
      createObject: $e,
      disableUserSelect: lr,
      hasOwn: ce,
      noop: Ke,
      RADIAN_TO_DEGREE: Fr,
    });
  function mn(r, e) {
    return null == r && (r = 0), null == e && (e = 0), [r, e];
  }
  function $r(r, e) {
    return (r[0] = e[0]), (r[1] = e[1]), r;
  }
  function Mn(r) {
    return [r[0], r[1]];
  }
  function ji(r, e, t) {
    return (r[0] = e), (r[1] = t), r;
  }
  function Va(r, e, t) {
    return (r[0] = e[0] + t[0]), (r[1] = e[1] + t[1]), r;
  }
  function Gn(r, e, t, n) {
    return (r[0] = e[0] + t[0] * n), (r[1] = e[1] + t[1] * n), r;
  }
  function Nr(r, e, t) {
    return (r[0] = e[0] - t[0]), (r[1] = e[1] - t[1]), r;
  }
  function Wn(r) {
    return Math.sqrt(ei(r));
  }
  function ei(r) {
    return r[0] * r[0] + r[1] * r[1];
  }
  function pa(r, e, t) {
    return (r[0] = e[0] * t), (r[1] = e[1] * t), r;
  }
  function Ai(r, e) {
    var t = Wn(e);
    return (
      0 === t
        ? ((r[0] = 0), (r[1] = 0))
        : ((r[0] = e[0] / t), (r[1] = e[1] / t)),
      r
    );
  }
  function xs(r, e) {
    return Math.sqrt(
      (r[0] - e[0]) * (r[0] - e[0]) + (r[1] - e[1]) * (r[1] - e[1])
    );
  }
  var $n = xs;
  function bs(r, e) {
    return (r[0] - e[0]) * (r[0] - e[0]) + (r[1] - e[1]) * (r[1] - e[1]);
  }
  var La = bs;
  function Je(r, e, t, n) {
    return (
      (r[0] = e[0] + n * (t[0] - e[0])), (r[1] = e[1] + n * (t[1] - e[1])), r
    );
  }
  function dn(r, e, t) {
    var n = e[0],
      i = e[1];
    return (
      (r[0] = t[0] * n + t[2] * i + t[4]),
      (r[1] = t[1] * n + t[3] * i + t[5]),
      r
    );
  }
  function Mi(r, e, t) {
    return (r[0] = Math.min(e[0], t[0])), (r[1] = Math.min(e[1], t[1])), r;
  }
  function Ln(r, e, t) {
    return (r[0] = Math.max(e[0], t[0])), (r[1] = Math.max(e[1], t[1])), r;
  }
  var Kr = Object.freeze({
      __proto__: null,
      create: mn,
      copy: $r,
      clone: Mn,
      set: ji,
      add: Va,
      scaleAndAdd: Gn,
      sub: Nr,
      len: Wn,
      length: Wn,
      lenSquare: ei,
      lengthSquare: ei,
      mul: function xi(r, e, t) {
        return (r[0] = e[0] * t[0]), (r[1] = e[1] * t[1]), r;
      },
      div: function dl(r, e, t) {
        return (r[0] = e[0] / t[0]), (r[1] = e[1] / t[1]), r;
      },
      dot: function Ho(r, e) {
        return r[0] * e[0] + r[1] * e[1];
      },
      scale: pa,
      normalize: Ai,
      distance: xs,
      dist: $n,
      distanceSquare: bs,
      distSquare: La,
      negate: function _n(r, e) {
        return (r[0] = -e[0]), (r[1] = -e[1]), r;
      },
      lerp: Je,
      applyTransform: dn,
      min: Mi,
      max: Ln,
    }),
    Li = function r(e, t) {
      (this.target = e), (this.topTarget = t && t.topTarget);
    },
    Go = (function () {
      function r(e) {
        (this.handler = e),
          e.on('mousedown', this._dragStart, this),
          e.on('mousemove', this._drag, this),
          e.on('mouseup', this._dragEnd, this);
      }
      return (
        (r.prototype._dragStart = function (e) {
          for (var t = e.target; t && !t.draggable; )
            t = t.parent || t.__hostTarget;
          t &&
            ((this._draggingTarget = t),
            (t.dragging = !0),
            (this._x = e.offsetX),
            (this._y = e.offsetY),
            this.handler.dispatchToElement(new Li(t, e), 'dragstart', e.event));
        }),
        (r.prototype._drag = function (e) {
          var t = this._draggingTarget;
          if (t) {
            var n = e.offsetX,
              i = e.offsetY,
              a = n - this._x,
              o = i - this._y;
            (this._x = n),
              (this._y = i),
              t.drift(a, o, e),
              this.handler.dispatchToElement(new Li(t, e), 'drag', e.event);
            var s = this.handler.findHover(n, i, t).target,
              l = this._dropTarget;
            (this._dropTarget = s),
              t !== s &&
                (l &&
                  s !== l &&
                  this.handler.dispatchToElement(
                    new Li(l, e),
                    'dragleave',
                    e.event
                  ),
                s &&
                  s !== l &&
                  this.handler.dispatchToElement(
                    new Li(s, e),
                    'dragenter',
                    e.event
                  ));
          }
        }),
        (r.prototype._dragEnd = function (e) {
          var t = this._draggingTarget;
          t && (t.dragging = !1),
            this.handler.dispatchToElement(new Li(t, e), 'dragend', e.event),
            this._dropTarget &&
              this.handler.dispatchToElement(
                new Li(this._dropTarget, e),
                'drop',
                e.event
              ),
            (this._draggingTarget = null),
            (this._dropTarget = null);
        }),
        r
      );
    })(),
    ci = (function () {
      function r(e) {
        e && (this._$eventProcessor = e);
      }
      return (
        (r.prototype.on = function (e, t, n, i) {
          this._$handlers || (this._$handlers = {});
          var a = this._$handlers;
          if (
            ('function' == typeof t && ((i = n), (n = t), (t = null)), !n || !e)
          )
            return this;
          var o = this._$eventProcessor;
          null != t && o && o.normalizeQuery && (t = o.normalizeQuery(t)),
            a[e] || (a[e] = []);
          for (var s = 0; s < a[e].length; s++)
            if (a[e][s].h === n) return this;
          var l = {
              h: n,
              query: t,
              ctx: i || this,
              callAtLast: n.zrEventfulCallAtLast,
            },
            u = a[e].length - 1,
            c = a[e][u];
          return c && c.callAtLast ? a[e].splice(u, 0, l) : a[e].push(l), this;
        }),
        (r.prototype.isSilent = function (e) {
          var t = this._$handlers;
          return !t || !t[e] || !t[e].length;
        }),
        (r.prototype.off = function (e, t) {
          var n = this._$handlers;
          if (!n) return this;
          if (!e) return (this._$handlers = {}), this;
          if (t) {
            if (n[e]) {
              for (var i = [], a = 0, o = n[e].length; a < o; a++)
                n[e][a].h !== t && i.push(n[e][a]);
              n[e] = i;
            }
            n[e] && 0 === n[e].length && delete n[e];
          } else delete n[e];
          return this;
        }),
        (r.prototype.trigger = function (e) {
          for (var t = [], n = 1; n < arguments.length; n++)
            t[n - 1] = arguments[n];
          if (!this._$handlers) return this;
          var i = this._$handlers[e],
            a = this._$eventProcessor;
          if (i)
            for (var o = t.length, s = i.length, l = 0; l < s; l++) {
              var u = i[l];
              if (!a || !a.filter || null == u.query || a.filter(e, u.query))
                switch (o) {
                  case 0:
                    u.h.call(u.ctx);
                    break;
                  case 1:
                    u.h.call(u.ctx, t[0]);
                    break;
                  case 2:
                    u.h.call(u.ctx, t[0], t[1]);
                    break;
                  default:
                    u.h.apply(u.ctx, t);
                }
            }
          return a && a.afterTrigger && a.afterTrigger(e), this;
        }),
        (r.prototype.triggerWithContext = function (e) {
          for (var t = [], n = 1; n < arguments.length; n++)
            t[n - 1] = arguments[n];
          if (!this._$handlers) return this;
          var i = this._$handlers[e],
            a = this._$eventProcessor;
          if (i)
            for (
              var o = t.length, s = t[o - 1], l = i.length, u = 0;
              u < l;
              u++
            ) {
              var c = i[u];
              if (!a || !a.filter || null == c.query || a.filter(e, c.query))
                switch (o) {
                  case 0:
                    c.h.call(s);
                    break;
                  case 1:
                    c.h.call(s, t[0]);
                    break;
                  case 2:
                    c.h.call(s, t[0], t[1]);
                    break;
                  default:
                    c.h.apply(s, t.slice(1, o - 1));
                }
            }
          return a && a.afterTrigger && a.afterTrigger(e), this;
        }),
        r
      );
    })(),
    Se = Math.log(2);
  function pr(r, e, t, n, i, a) {
    var o = n + '-' + i,
      s = r.length;
    if (a.hasOwnProperty(o)) return a[o];
    if (1 === e) {
      var l = Math.round(Math.log(((1 << s) - 1) & ~i) / Se);
      return r[t][l];
    }
    for (var u = n | (1 << t), c = t + 1; n & (1 << c); ) c++;
    for (var f = 0, d = 0, v = 0; d < s; d++) {
      var g = 1 << d;
      g & i ||
        ((f += (v % 2 ? -1 : 1) * r[t][d] * pr(r, e - 1, c, u, i | g, a)), v++);
    }
    return (a[o] = f), f;
  }
  function vl(r, e) {
    var t = [
        [r[0], r[1], 1, 0, 0, 0, -e[0] * r[0], -e[0] * r[1]],
        [0, 0, 0, r[0], r[1], 1, -e[1] * r[0], -e[1] * r[1]],
        [r[2], r[3], 1, 0, 0, 0, -e[2] * r[2], -e[2] * r[3]],
        [0, 0, 0, r[2], r[3], 1, -e[3] * r[2], -e[3] * r[3]],
        [r[4], r[5], 1, 0, 0, 0, -e[4] * r[4], -e[4] * r[5]],
        [0, 0, 0, r[4], r[5], 1, -e[5] * r[4], -e[5] * r[5]],
        [r[6], r[7], 1, 0, 0, 0, -e[6] * r[6], -e[6] * r[7]],
        [0, 0, 0, r[6], r[7], 1, -e[7] * r[6], -e[7] * r[7]],
      ],
      n = {},
      i = pr(t, 8, 0, 0, 0, n);
    if (0 !== i) {
      for (var a = [], o = 0; o < 8; o++)
        for (var s = 0; s < 8; s++)
          null == a[s] && (a[s] = 0),
            (a[s] +=
              ((((o + s) % 2 ? -1 : 1) *
                pr(t, 7, 0 === o ? 1 : 0, 1 << o, 1 << s, n)) /
                i) *
              e[o]);
      return function (l, u, c) {
        var f = u * a[6] + c * a[7] + 1;
        (l[0] = (u * a[0] + c * a[1] + a[2]) / f),
          (l[1] = (u * a[3] + c * a[4] + a[5]) / f);
      };
    }
  }
  var Wo = '___zrEVENTSAVED',
    ga = [];
  function Ss(r, e, t, n, i) {
    if (e.getBoundingClientRect && Lt.domSupported && !ki(e)) {
      var a = e[Wo] || (e[Wo] = {}),
        o = (function mr(r, e) {
          var t = e.markers;
          if (t) return t;
          t = e.markers = [];
          for (
            var n = ['left', 'right'], i = ['top', 'bottom'], a = 0;
            a < 4;
            a++
          ) {
            var o = document.createElement('div'),
              l = a % 2,
              u = (a >> 1) % 2;
            (o.style.cssText = [
              'position: absolute',
              'visibility: hidden',
              'padding: 0',
              'margin: 0',
              'border-width: 0',
              'user-select: none',
              'width:0',
              'height:0',
              n[l] + ':0',
              i[u] + ':0',
              n[1 - l] + ':auto',
              i[1 - u] + ':auto',
              '',
            ].join('!important;')),
              r.appendChild(o),
              t.push(o);
          }
          return t;
        })(e, a),
        s = (function Ii(r, e, t) {
          for (
            var n = t ? 'invTrans' : 'trans',
              i = e[n],
              a = e.srcCoords,
              o = [],
              s = [],
              l = !0,
              u = 0;
            u < 4;
            u++
          ) {
            var c = r[u].getBoundingClientRect(),
              f = 2 * u,
              d = c.left,
              v = c.top;
            o.push(d, v),
              (l = l && a && d === a[f] && v === a[f + 1]),
              s.push(r[u].offsetLeft, r[u].offsetTop);
          }
          return l && i
            ? i
            : ((e.srcCoords = o), (e[n] = t ? vl(s, o) : vl(o, s)));
        })(o, a, i);
      if (s) return s(r, t, n), !0;
    }
    return !1;
  }
  function ki(r) {
    return 'CANVAS' === r.nodeName.toUpperCase();
  }
  var ri = /([&<>"'])/g,
    Uc = {
      '&': '&amp;',
      '<': '&lt;',
      '>': '&gt;',
      '"': '&quot;',
      "'": '&#39;',
    };
  function Dn(r) {
    return null == r
      ? ''
      : (r + '').replace(ri, function (e, t) {
          return Uc[t];
        });
  }
  var ws = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
    Cs = [],
    du = Lt.browser.firefox && +Lt.browser.version.split('.')[0] < 39;
  function Ds(r, e, t, n) {
    return (
      (t = t || {}),
      n
        ? Qi(r, e, t)
        : du && null != e.layerX && e.layerX !== e.offsetX
        ? ((t.zrX = e.layerX), (t.zrY = e.layerY))
        : null != e.offsetX
        ? ((t.zrX = e.offsetX), (t.zrY = e.offsetY))
        : Qi(r, e, t),
      t
    );
  }
  function Qi(r, e, t) {
    if (Lt.domSupported && r.getBoundingClientRect) {
      var n = e.clientX,
        i = e.clientY;
      if (ki(r)) {
        var a = r.getBoundingClientRect();
        return (t.zrX = n - a.left), void (t.zrY = i - a.top);
      }
      if (Ss(Cs, r, n, i)) return (t.zrX = Cs[0]), void (t.zrY = Cs[1]);
    }
    t.zrX = t.zrY = 0;
  }
  function Ha(r) {
    return r || window.event;
  }
  function In(r, e, t) {
    if (null != (e = Ha(e)).zrX) return e;
    var n = e.type;
    if (n && n.indexOf('touch') >= 0) {
      var o = 'touchend' !== n ? e.targetTouches[0] : e.changedTouches[0];
      o && Ds(r, o, e, t);
    } else {
      Ds(r, e, e, t);
      var a = (function Ts(r) {
        var e = r.wheelDelta;
        if (e) return e;
        var t = r.deltaX,
          n = r.deltaY;
        return null == t || null == n
          ? e
          : 3 *
              Math.abs(0 !== n ? n : t) *
              (n > 0 ? -1 : n < 0 ? 1 : t > 0 ? -1 : 1);
      })(e);
      e.zrDelta = a ? a / 120 : -(e.detail || 0) / 3;
    }
    var s = e.button;
    return (
      null == e.which &&
        void 0 !== s &&
        ws.test(e.type) &&
        (e.which = 1 & s ? 1 : 2 & s ? 3 : 4 & s ? 2 : 0),
      e
    );
  }
  function As(r, e, t, n) {
    r.addEventListener(e, t, n);
  }
  function Ia(r, e, t, n) {
    r.removeEventListener(e, t, n);
  }
  var fi = function (r) {
    r.preventDefault(), r.stopPropagation(), (r.cancelBubble = !0);
  };
  function Ga(r) {
    return 2 === r.which || 3 === r.which;
  }
  var pl = (function () {
    function r() {
      this._track = [];
    }
    return (
      (r.prototype.recognize = function (e, t, n) {
        return this._doTrack(e, t, n), this._recognize(e);
      }),
      (r.prototype.clear = function () {
        return (this._track.length = 0), this;
      }),
      (r.prototype._doTrack = function (e, t, n) {
        var i = e.touches;
        if (i) {
          for (
            var a = { points: [], touches: [], target: t, event: e },
              o = 0,
              s = i.length;
            o < s;
            o++
          ) {
            var l = i[o],
              u = Ds(n, l, {});
            a.points.push([u.zrX, u.zrY]), a.touches.push(l);
          }
          this._track.push(a);
        }
      }),
      (r.prototype._recognize = function (e) {
        for (var t in Ei)
          if (Ei.hasOwnProperty(t)) {
            var n = Ei[t](this._track, e);
            if (n) return n;
          }
      }),
      r
    );
  })();
  function go(r) {
    var e = r[1][0] - r[0][0],
      t = r[1][1] - r[0][1];
    return Math.sqrt(e * e + t * t);
  }
  var Ei = {
    pinch: function (r, e) {
      var t = r.length;
      if (t) {
        var n = (r[t - 1] || {}).points,
          i = (r[t - 2] || {}).points || n;
        if (i && i.length > 1 && n && n.length > 1) {
          var a = go(n) / go(i);
          !isFinite(a) && (a = 1), (e.pinchScale = a);
          var o = (function Wa(r) {
            return [(r[0][0] + r[1][0]) / 2, (r[0][1] + r[1][1]) / 2];
          })(n);
          return (
            (e.pinchX = o[0]),
            (e.pinchY = o[1]),
            { type: 'pinch', target: r[0].target, event: e }
          );
        }
      }
    },
  };
  function $a(r) {
    return (
      (r[0] = 1), (r[1] = 0), (r[2] = 0), (r[3] = 1), (r[4] = 0), (r[5] = 0), r
    );
  }
  function mo(r, e) {
    return (
      (r[0] = e[0]),
      (r[1] = e[1]),
      (r[2] = e[2]),
      (r[3] = e[3]),
      (r[4] = e[4]),
      (r[5] = e[5]),
      r
    );
  }
  function Pi(r, e, t) {
    var i = e[1] * t[0] + e[3] * t[1],
      a = e[0] * t[2] + e[2] * t[3],
      o = e[1] * t[2] + e[3] * t[3],
      s = e[0] * t[4] + e[2] * t[5] + e[4],
      l = e[1] * t[4] + e[3] * t[5] + e[5];
    return (
      (r[0] = e[0] * t[0] + e[2] * t[1]),
      (r[1] = i),
      (r[2] = a),
      (r[3] = o),
      (r[4] = s),
      (r[5] = l),
      r
    );
  }
  function Ri(r, e, t) {
    return (
      (r[0] = e[0]),
      (r[1] = e[1]),
      (r[2] = e[2]),
      (r[3] = e[3]),
      (r[4] = e[4] + t[0]),
      (r[5] = e[5] + t[1]),
      r
    );
  }
  function ka(r, e, t) {
    var n = e[0],
      i = e[2],
      a = e[4],
      o = e[1],
      s = e[3],
      l = e[5],
      u = Math.sin(t),
      c = Math.cos(t);
    return (
      (r[0] = n * c + o * u),
      (r[1] = -n * u + o * c),
      (r[2] = i * c + s * u),
      (r[3] = -i * u + c * s),
      (r[4] = c * a + u * l),
      (r[5] = c * l - u * a),
      r
    );
  }
  function yo(r, e, t) {
    var n = t[0],
      i = t[1];
    return (
      (r[0] = e[0] * n),
      (r[1] = e[1] * i),
      (r[2] = e[2] * n),
      (r[3] = e[3] * i),
      (r[4] = e[4] * n),
      (r[5] = e[5] * i),
      r
    );
  }
  function xo(r, e) {
    var t = e[0],
      n = e[2],
      i = e[4],
      a = e[1],
      o = e[3],
      s = e[5],
      l = t * o - a * n;
    return l
      ? ((r[0] = o * (l = 1 / l)),
        (r[1] = -a * l),
        (r[2] = -n * l),
        (r[3] = t * l),
        (r[4] = (n * s - o * i) * l),
        (r[5] = (a * i - t * s) * l),
        r)
      : null;
  }
  function gl(r) {
    var e = [1, 0, 0, 1, 0, 0];
    return mo(e, r), e;
  }
  var bi = Object.freeze({
      __proto__: null,
      create: function hi() {
        return [1, 0, 0, 1, 0, 0];
      },
      identity: $a,
      copy: mo,
      mul: Pi,
      translate: Ri,
      rotate: ka,
      scale: yo,
      invert: xo,
      clone: gl,
    }),
    ur = (function () {
      function r(e, t) {
        (this.x = e || 0), (this.y = t || 0);
      }
      return (
        (r.prototype.copy = function (e) {
          return (this.x = e.x), (this.y = e.y), this;
        }),
        (r.prototype.clone = function () {
          return new r(this.x, this.y);
        }),
        (r.prototype.set = function (e, t) {
          return (this.x = e), (this.y = t), this;
        }),
        (r.prototype.equal = function (e) {
          return e.x === this.x && e.y === this.y;
        }),
        (r.prototype.add = function (e) {
          return (this.x += e.x), (this.y += e.y), this;
        }),
        (r.prototype.scale = function (e) {
          (this.x *= e), (this.y *= e);
        }),
        (r.prototype.scaleAndAdd = function (e, t) {
          (this.x += e.x * t), (this.y += e.y * t);
        }),
        (r.prototype.sub = function (e) {
          return (this.x -= e.x), (this.y -= e.y), this;
        }),
        (r.prototype.dot = function (e) {
          return this.x * e.x + this.y * e.y;
        }),
        (r.prototype.len = function () {
          return Math.sqrt(this.x * this.x + this.y * this.y);
        }),
        (r.prototype.lenSquare = function () {
          return this.x * this.x + this.y * this.y;
        }),
        (r.prototype.normalize = function () {
          var e = this.len();
          return (this.x /= e), (this.y /= e), this;
        }),
        (r.prototype.distance = function (e) {
          var t = this.x - e.x,
            n = this.y - e.y;
          return Math.sqrt(t * t + n * n);
        }),
        (r.prototype.distanceSquare = function (e) {
          var t = this.x - e.x,
            n = this.y - e.y;
          return t * t + n * n;
        }),
        (r.prototype.negate = function () {
          return (this.x = -this.x), (this.y = -this.y), this;
        }),
        (r.prototype.transform = function (e) {
          if (e) {
            var t = this.x,
              n = this.y;
            return (
              (this.x = e[0] * t + e[2] * n + e[4]),
              (this.y = e[1] * t + e[3] * n + e[5]),
              this
            );
          }
        }),
        (r.prototype.toArray = function (e) {
          return (e[0] = this.x), (e[1] = this.y), e;
        }),
        (r.prototype.fromArray = function (e) {
          (this.x = e[0]), (this.y = e[1]);
        }),
        (r.set = function (e, t, n) {
          (e.x = t), (e.y = n);
        }),
        (r.copy = function (e, t) {
          (e.x = t.x), (e.y = t.y);
        }),
        (r.len = function (e) {
          return Math.sqrt(e.x * e.x + e.y * e.y);
        }),
        (r.lenSquare = function (e) {
          return e.x * e.x + e.y * e.y;
        }),
        (r.dot = function (e, t) {
          return e.x * t.x + e.y * t.y;
        }),
        (r.add = function (e, t, n) {
          (e.x = t.x + n.x), (e.y = t.y + n.y);
        }),
        (r.sub = function (e, t, n) {
          (e.x = t.x - n.x), (e.y = t.y - n.y);
        }),
        (r.scale = function (e, t, n) {
          (e.x = t.x * n), (e.y = t.y * n);
        }),
        (r.scaleAndAdd = function (e, t, n, i) {
          (e.x = t.x + n.x * i), (e.y = t.y + n.y * i);
        }),
        (r.lerp = function (e, t, n, i) {
          var a = 1 - i;
          (e.x = a * t.x + i * n.x), (e.y = a * t.y + i * n.y);
        }),
        r
      );
    })(),
    ma = Math.min,
    Ji = Math.max,
    I = new ur(),
    A = new ur(),
    R = new ur(),
    W = new ur(),
    Z = new ur(),
    dt = new ur(),
    it = (function () {
      function r(e, t, n, i) {
        n < 0 && ((e += n), (n = -n)),
          i < 0 && ((t += i), (i = -i)),
          (this.x = e),
          (this.y = t),
          (this.width = n),
          (this.height = i);
      }
      return (
        (r.prototype.union = function (e) {
          var t = ma(e.x, this.x),
            n = ma(e.y, this.y);
          (this.width =
            isFinite(this.x) && isFinite(this.width)
              ? Ji(e.x + e.width, this.x + this.width) - t
              : e.width),
            (this.height =
              isFinite(this.y) && isFinite(this.height)
                ? Ji(e.y + e.height, this.y + this.height) - n
                : e.height),
            (this.x = t),
            (this.y = n);
        }),
        (r.prototype.applyTransform = function (e) {
          r.applyTransform(this, this, e);
        }),
        (r.prototype.calculateTransform = function (e) {
          var t = this,
            n = e.width / t.width,
            i = e.height / t.height,
            a = [1, 0, 0, 1, 0, 0];
          return (
            Ri(a, a, [-t.x, -t.y]), yo(a, a, [n, i]), Ri(a, a, [e.x, e.y]), a
          );
        }),
        (r.prototype.intersect = function (e, t) {
          if (!e) return !1;
          e instanceof r || (e = r.create(e));
          var n = this,
            i = n.x,
            a = n.x + n.width,
            o = n.y,
            s = n.y + n.height,
            l = e.x,
            u = e.x + e.width,
            c = e.y,
            f = e.y + e.height,
            d = !(a < l || u < i || s < c || f < o);
          if (t) {
            var v = 1 / 0,
              g = 0,
              m = Math.abs(a - l),
              y = Math.abs(u - i),
              b = Math.abs(s - c),
              w = Math.abs(f - o),
              C = Math.min(m, y),
              D = Math.min(b, w);
            a < l || u < i
              ? C > g && ((g = C), ur.set(dt, m < y ? -m : y, 0))
              : C < v && ((v = C), ur.set(Z, m < y ? m : -y, 0)),
              s < c || f < o
                ? D > g && ((g = D), ur.set(dt, 0, b < w ? -b : w))
                : C < v && ((v = C), ur.set(Z, 0, b < w ? b : -w));
          }
          return t && ur.copy(t, d ? Z : dt), d;
        }),
        (r.prototype.contain = function (e, t) {
          var n = this;
          return (
            e >= n.x && e <= n.x + n.width && t >= n.y && t <= n.y + n.height
          );
        }),
        (r.prototype.clone = function () {
          return new r(this.x, this.y, this.width, this.height);
        }),
        (r.prototype.copy = function (e) {
          r.copy(this, e);
        }),
        (r.prototype.plain = function () {
          return {
            x: this.x,
            y: this.y,
            width: this.width,
            height: this.height,
          };
        }),
        (r.prototype.isFinite = function () {
          return (
            isFinite(this.x) &&
            isFinite(this.y) &&
            isFinite(this.width) &&
            isFinite(this.height)
          );
        }),
        (r.prototype.isZero = function () {
          return 0 === this.width || 0 === this.height;
        }),
        (r.create = function (e) {
          return new r(e.x, e.y, e.width, e.height);
        }),
        (r.copy = function (e, t) {
          (e.x = t.x), (e.y = t.y), (e.width = t.width), (e.height = t.height);
        }),
        (r.applyTransform = function (e, t, n) {
          if (n) {
            if (n[1] < 1e-5 && n[1] > -1e-5 && n[2] < 1e-5 && n[2] > -1e-5) {
              var i = n[0],
                a = n[3],
                s = n[5];
              return (
                (e.x = t.x * i + n[4]),
                (e.y = t.y * a + s),
                (e.width = t.width * i),
                (e.height = t.height * a),
                e.width < 0 && ((e.x += e.width), (e.width = -e.width)),
                void (
                  e.height < 0 && ((e.y += e.height), (e.height = -e.height))
                )
              );
            }
            (I.x = R.x = t.x),
              (I.y = W.y = t.y),
              (A.x = W.x = t.x + t.width),
              (A.y = R.y = t.y + t.height),
              I.transform(n),
              W.transform(n),
              A.transform(n),
              R.transform(n),
              (e.x = ma(I.x, A.x, R.x, W.x)),
              (e.y = ma(I.y, A.y, R.y, W.y));
            var l = Ji(I.x, A.x, R.x, W.x),
              u = Ji(I.y, A.y, R.y, W.y);
            (e.width = l - e.x), (e.height = u - e.y);
          } else e !== t && r.copy(e, t);
        }),
        r
      );
    })(),
    ae = 'silent';
  function $t() {
    fi(this.event);
  }
  var De = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.handler = null), t;
      }
      return (
        ut(e, r),
        (e.prototype.dispose = function () {}),
        (e.prototype.setCursor = function () {}),
        e
      );
    })(ci),
    Fe = function r(e, t) {
      (this.x = e), (this.y = t);
    },
    _e = [
      'click',
      'dblclick',
      'mousewheel',
      'mouseout',
      'mouseup',
      'mousedown',
      'mousemove',
      'contextmenu',
    ],
    Be = new it(0, 0, 0, 0),
    xr = (function (r) {
      function e(t, n, i, a, o) {
        var s = r.call(this) || this;
        return (
          (s._hovered = new Fe(0, 0)),
          (s.storage = t),
          (s.painter = n),
          (s.painterRoot = a),
          (s._pointerSize = o),
          (i = i || new De()),
          (s.proxy = null),
          s.setHandlerProxy(i),
          (s._draggingMgr = new Go(s)),
          s
        );
      }
      return (
        ut(e, r),
        (e.prototype.setHandlerProxy = function (t) {
          this.proxy && this.proxy.dispose(),
            t &&
              (F(
                _e,
                function (n) {
                  t.on && t.on(n, this[n], this);
                },
                this
              ),
              (t.handler = this)),
            (this.proxy = t);
        }),
        (e.prototype.mousemove = function (t) {
          var n = t.zrX,
            i = t.zrY,
            a = rr(this, n, i),
            o = this._hovered,
            s = o.target;
          s && !s.__zr && (s = (o = this.findHover(o.x, o.y)).target);
          var l = (this._hovered = a ? new Fe(n, i) : this.findHover(n, i)),
            u = l.target,
            c = this.proxy;
          c.setCursor && c.setCursor(u ? u.cursor : 'default'),
            s && u !== s && this.dispatchToElement(o, 'mouseout', t),
            this.dispatchToElement(l, 'mousemove', t),
            u && u !== s && this.dispatchToElement(l, 'mouseover', t);
        }),
        (e.prototype.mouseout = function (t) {
          var n = t.zrEventControl;
          'only_globalout' !== n &&
            this.dispatchToElement(this._hovered, 'mouseout', t),
            'no_globalout' !== n &&
              this.trigger('globalout', { type: 'globalout', event: t });
        }),
        (e.prototype.resize = function () {
          this._hovered = new Fe(0, 0);
        }),
        (e.prototype.dispatch = function (t, n) {
          var i = this[t];
          i && i.call(this, n);
        }),
        (e.prototype.dispose = function () {
          this.proxy.dispose(),
            (this.storage = null),
            (this.proxy = null),
            (this.painter = null);
        }),
        (e.prototype.setCursorStyle = function (t) {
          var n = this.proxy;
          n.setCursor && n.setCursor(t);
        }),
        (e.prototype.dispatchToElement = function (t, n, i) {
          var a = (t = t || {}).target;
          if (!a || !a.silent) {
            for (
              var o = 'on' + n,
                s = (function ge(r, e, t) {
                  return {
                    type: r,
                    event: t,
                    target: e.target,
                    topTarget: e.topTarget,
                    cancelBubble: !1,
                    offsetX: t.zrX,
                    offsetY: t.zrY,
                    gestureEvent: t.gestureEvent,
                    pinchX: t.pinchX,
                    pinchY: t.pinchY,
                    pinchScale: t.pinchScale,
                    wheelDelta: t.zrDelta,
                    zrByTouch: t.zrByTouch,
                    which: t.which,
                    stop: $t,
                  };
                })(n, t, i);
              a &&
              (a[o] && (s.cancelBubble = !!a[o].call(a, s)),
              a.trigger(n, s),
              (a = a.__hostTarget ? a.__hostTarget : a.parent),
              !s.cancelBubble);

            );
            s.cancelBubble ||
              (this.trigger(n, s),
              this.painter &&
                this.painter.eachOtherLayer &&
                this.painter.eachOtherLayer(function (l) {
                  'function' == typeof l[o] && l[o].call(l, s),
                    l.trigger && l.trigger(n, s);
                }));
          }
        }),
        (e.prototype.findHover = function (t, n, i) {
          var a = this.storage.getDisplayList(),
            o = new Fe(t, n);
          if ((We(a, o, t, n, i), this._pointerSize && !o.target)) {
            for (
              var s = [],
                l = this._pointerSize,
                u = l / 2,
                c = new it(t - u, n - u, l, l),
                f = a.length - 1;
              f >= 0;
              f--
            ) {
              var d = a[f];
              d !== i &&
                !d.ignore &&
                !d.ignoreCoarsePointer &&
                (!d.parent || !d.parent.ignoreCoarsePointer) &&
                (Be.copy(d.getBoundingRect()),
                d.transform && Be.applyTransform(d.transform),
                Be.intersect(c) && s.push(d));
            }
            if (s.length)
              for (var g = Math.PI / 12, m = 2 * Math.PI, y = 0; y < u; y += 4)
                for (var b = 0; b < m; b += g)
                  if (
                    (We(s, o, t + y * Math.cos(b), n + y * Math.sin(b), i),
                    o.target)
                  )
                    return o;
          }
          return o;
        }),
        (e.prototype.processGesture = function (t, n) {
          this._gestureMgr || (this._gestureMgr = new pl());
          var i = this._gestureMgr;
          'start' === n && i.clear();
          var a = i.recognize(
            t,
            this.findHover(t.zrX, t.zrY, null).target,
            this.proxy.dom
          );
          if (('end' === n && i.clear(), a)) {
            var o = a.type;
            t.gestureEvent = o;
            var s = new Fe();
            (s.target = a.target), this.dispatchToElement(s, o, a.event);
          }
        }),
        e
      );
    })(ci);
  function xt(r, e, t) {
    if (r[r.rectHover ? 'rectContain' : 'contain'](e, t)) {
      for (var n = r, i = void 0, a = !1; n; ) {
        if ((n.ignoreClip && (a = !0), !a)) {
          var o = n.getClipPath();
          if (o && !o.contain(e, t)) return !1;
          n.silent && (i = !0);
        }
        n = n.__hostTarget || n.parent;
      }
      return !i || ae;
    }
    return !1;
  }
  function We(r, e, t, n, i) {
    for (var a = r.length - 1; a >= 0; a--) {
      var o = r[a],
        s = void 0;
      if (
        o !== i &&
        !o.ignore &&
        (s = xt(o, t, n)) &&
        (!e.topTarget && (e.topTarget = o), s !== ae)
      ) {
        e.target = o;
        break;
      }
    }
  }
  function rr(r, e, t) {
    var n = r.painter;
    return e < 0 || e > n.getWidth() || t < 0 || t > n.getHeight();
  }
  F(
    ['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'],
    function (r) {
      xr.prototype[r] = function (e) {
        var a,
          o,
          t = e.zrX,
          n = e.zrY,
          i = rr(this, t, n);
        if (
          (('mouseup' !== r || !i) && (o = (a = this.findHover(t, n)).target),
          'mousedown' === r)
        )
          (this._downEl = o),
            (this._downPoint = [e.zrX, e.zrY]),
            (this._upEl = o);
        else if ('mouseup' === r) this._upEl = o;
        else if ('click' === r) {
          if (
            this._downEl !== this._upEl ||
            !this._downPoint ||
            $n(this._downPoint, [e.zrX, e.zrY]) > 4
          )
            return;
          this._downPoint = null;
        }
        this.dispatchToElement(a, r, e);
      };
    }
  );
  var Ve = 7;
  function Zr(r, e, t, n) {
    var i = e + 1;
    if (i === t) return 1;
    if (n(r[i++], r[e]) < 0) {
      for (; i < t && n(r[i], r[i - 1]) < 0; ) i++;
      !(function Oi(r, e, t) {
        for (t--; e < t; ) {
          var n = r[e];
          (r[e++] = r[t]), (r[t--] = n);
        }
      })(r, e, i);
    } else for (; i < t && n(r[i], r[i - 1]) >= 0; ) i++;
    return i - e;
  }
  function ni(r, e, t, n, i) {
    for (n === e && n++; n < t; n++) {
      for (var l, a = r[n], o = e, s = n; o < s; )
        i(a, r[(l = (o + s) >>> 1)]) < 0 ? (s = l) : (o = l + 1);
      var u = n - o;
      switch (u) {
        case 3:
          r[o + 3] = r[o + 2];
        case 2:
          r[o + 2] = r[o + 1];
        case 1:
          r[o + 1] = r[o];
          break;
        default:
          for (; u > 0; ) (r[o + u] = r[o + u - 1]), u--;
      }
      r[o] = a;
    }
  }
  function di(r, e, t, n, i, a) {
    var o = 0,
      s = 0,
      l = 1;
    if (a(r, e[t + i]) > 0) {
      for (s = n - i; l < s && a(r, e[t + i + l]) > 0; )
        (o = l), (l = 1 + (l << 1)) <= 0 && (l = s);
      l > s && (l = s), (o += i), (l += i);
    } else {
      for (s = i + 1; l < s && a(r, e[t + i - l]) <= 0; )
        (o = l), (l = 1 + (l << 1)) <= 0 && (l = s);
      l > s && (l = s);
      var u = o;
      (o = i - l), (l = i - u);
    }
    for (o++; o < l; ) {
      var c = o + ((l - o) >>> 1);
      a(r, e[t + c]) > 0 ? (o = c + 1) : (l = c);
    }
    return l;
  }
  function Tn(r, e, t, n, i, a) {
    var o = 0,
      s = 0,
      l = 1;
    if (a(r, e[t + i]) < 0) {
      for (s = i + 1; l < s && a(r, e[t + i - l]) < 0; )
        (o = l), (l = 1 + (l << 1)) <= 0 && (l = s);
      l > s && (l = s);
      var u = o;
      (o = i - l), (l = i - u);
    } else {
      for (s = n - i; l < s && a(r, e[t + i + l]) >= 0; )
        (o = l), (l = 1 + (l << 1)) <= 0 && (l = s);
      l > s && (l = s), (o += i), (l += i);
    }
    for (o++; o < l; ) {
      var c = o + ((l - o) >>> 1);
      a(r, e[t + c]) < 0 ? (l = c) : (o = c + 1);
    }
    return l;
  }
  function ii(r, e, t, n) {
    t || (t = 0), n || (n = r.length);
    var i = n - t;
    if (!(i < 2)) {
      var a = 0;
      if (i < 32) return void ni(r, t, n, t + (a = Zr(r, t, n, e)), e);
      var o = (function bo(r, e) {
          var i,
            a,
            t = Ve,
            o = 0,
            s = [];
          function f(g) {
            var m = i[g],
              y = a[g],
              b = i[g + 1],
              w = a[g + 1];
            (a[g] = y + w),
              g === o - 3 && ((i[g + 1] = i[g + 2]), (a[g + 1] = a[g + 2])),
              o--;
            var C = Tn(r[b], r, m, y, 0, e);
            (m += C),
              0 != (y -= C) &&
                0 !== (w = di(r[m + y - 1], r, b, w, w - 1, e)) &&
                (y <= w
                  ? (function d(g, m, y, b) {
                      var w = 0;
                      for (w = 0; w < m; w++) s[w] = r[g + w];
                      var C = 0,
                        D = y,
                        L = g;
                      if (((r[L++] = r[D++]), 0 != --b))
                        if (1 !== m) {
                          for (var E, O, z, M = t; ; ) {
                            (E = 0), (O = 0), (z = !1);
                            do {
                              if (e(r[D], s[C]) < 0) {
                                if (
                                  ((r[L++] = r[D++]), O++, (E = 0), 0 == --b)
                                ) {
                                  z = !0;
                                  break;
                                }
                              } else if (
                                ((r[L++] = s[C++]), E++, (O = 0), 1 == --m)
                              ) {
                                z = !0;
                                break;
                              }
                            } while ((E | O) < M);
                            if (z) break;
                            do {
                              if (0 !== (E = Tn(r[D], s, C, m, 0, e))) {
                                for (w = 0; w < E; w++) r[L + w] = s[C + w];
                                if (((L += E), (C += E), (m -= E) <= 1)) {
                                  z = !0;
                                  break;
                                }
                              }
                              if (((r[L++] = r[D++]), 0 == --b)) {
                                z = !0;
                                break;
                              }
                              if (0 !== (O = di(s[C], r, D, b, 0, e))) {
                                for (w = 0; w < O; w++) r[L + w] = r[D + w];
                                if (((L += O), (D += O), 0 == (b -= O))) {
                                  z = !0;
                                  break;
                                }
                              }
                              if (((r[L++] = s[C++]), 1 == --m)) {
                                z = !0;
                                break;
                              }
                              M--;
                            } while (E >= Ve || O >= Ve);
                            if (z) break;
                            M < 0 && (M = 0), (M += 2);
                          }
                          if (((t = M) < 1 && (t = 1), 1 === m)) {
                            for (w = 0; w < b; w++) r[L + w] = r[D + w];
                            r[L + b] = s[C];
                          } else {
                            if (0 === m) throw new Error();
                            for (w = 0; w < m; w++) r[L + w] = s[C + w];
                          }
                        } else {
                          for (w = 0; w < b; w++) r[L + w] = r[D + w];
                          r[L + b] = s[C];
                        }
                      else for (w = 0; w < m; w++) r[L + w] = s[C + w];
                    })(m, y, b, w)
                  : (function v(g, m, y, b) {
                      var w = 0;
                      for (w = 0; w < b; w++) s[w] = r[y + w];
                      var C = g + m - 1,
                        D = b - 1,
                        L = y + b - 1,
                        M = 0,
                        E = 0;
                      if (((r[L--] = r[C--]), 0 != --m))
                        if (1 !== b) {
                          for (var O = t; ; ) {
                            var z = 0,
                              H = 0,
                              G = !1;
                            do {
                              if (e(s[D], r[C]) < 0) {
                                if (
                                  ((r[L--] = r[C--]), z++, (H = 0), 0 == --m)
                                ) {
                                  G = !0;
                                  break;
                                }
                              } else if (
                                ((r[L--] = s[D--]), H++, (z = 0), 1 == --b)
                              ) {
                                G = !0;
                                break;
                              }
                            } while ((z | H) < O);
                            if (G) break;
                            do {
                              if (0 != (z = m - Tn(s[D], r, g, m, m - 1, e))) {
                                for (
                                  m -= z,
                                    E = 1 + (L -= z),
                                    M = 1 + (C -= z),
                                    w = z - 1;
                                  w >= 0;
                                  w--
                                )
                                  r[E + w] = r[M + w];
                                if (0 === m) {
                                  G = !0;
                                  break;
                                }
                              }
                              if (((r[L--] = s[D--]), 1 == --b)) {
                                G = !0;
                                break;
                              }
                              if (0 != (H = b - di(r[C], s, 0, b, b - 1, e))) {
                                for (
                                  b -= H,
                                    E = 1 + (L -= H),
                                    M = 1 + (D -= H),
                                    w = 0;
                                  w < H;
                                  w++
                                )
                                  r[E + w] = s[M + w];
                                if (b <= 1) {
                                  G = !0;
                                  break;
                                }
                              }
                              if (((r[L--] = r[C--]), 0 == --m)) {
                                G = !0;
                                break;
                              }
                              O--;
                            } while (z >= Ve || H >= Ve);
                            if (G) break;
                            O < 0 && (O = 0), (O += 2);
                          }
                          if (((t = O) < 1 && (t = 1), 1 === b)) {
                            for (
                              E = 1 + (L -= m), M = 1 + (C -= m), w = m - 1;
                              w >= 0;
                              w--
                            )
                              r[E + w] = r[M + w];
                            r[L] = s[D];
                          } else {
                            if (0 === b) throw new Error();
                            for (M = L - (b - 1), w = 0; w < b; w++)
                              r[M + w] = s[w];
                          }
                        } else {
                          for (
                            E = 1 + (L -= m), M = 1 + (C -= m), w = m - 1;
                            w >= 0;
                            w--
                          )
                            r[E + w] = r[M + w];
                          r[L] = s[D];
                        }
                      else
                        for (M = L - (b - 1), w = 0; w < b; w++)
                          r[M + w] = s[w];
                    })(m, y, b, w));
          }
          return (
            (i = []),
            (a = []),
            {
              mergeRuns: function u() {
                for (; o > 1; ) {
                  var g = o - 2;
                  if (
                    (g >= 1 && a[g - 1] <= a[g] + a[g + 1]) ||
                    (g >= 2 && a[g - 2] <= a[g] + a[g - 1])
                  )
                    a[g - 1] < a[g + 1] && g--;
                  else if (a[g] > a[g + 1]) break;
                  f(g);
                }
              },
              forceMergeRuns: function c() {
                for (; o > 1; ) {
                  var g = o - 2;
                  g > 0 && a[g - 1] < a[g + 1] && g--, f(g);
                }
              },
              pushRun: function l(g, m) {
                (i[o] = g), (a[o] = m), (o += 1);
              },
            }
          );
        })(r, e),
        s = (function yr(r) {
          for (var e = 0; r >= 32; ) (e |= 1 & r), (r >>= 1);
          return r + e;
        })(i);
      do {
        if ((a = Zr(r, t, n, e)) < s) {
          var l = i;
          l > s && (l = s), ni(r, t, t + l, t + a, e), (a = l);
        }
        o.pushRun(t, a), o.mergeRuns(), (i -= a), (t += a);
      } while (0 !== i);
      o.forceMergeRuns();
    }
  }
  var ta = 1,
    Ms = 4,
    wv = !1;
  function Ls() {
    wv ||
      ((wv = !0),
      console.warn(
        'z / z2 / zlevel of displayable is invalid, which may cause unexpected errors'
      ));
  }
  function Ua(r, e) {
    return r.zlevel === e.zlevel
      ? r.z === e.z
        ? r.z2 - e.z2
        : r.z - e.z
      : r.zlevel - e.zlevel;
  }
  var Xc,
    Yc = (function () {
      function r() {
        (this._roots = []),
          (this._displayList = []),
          (this._displayListLen = 0),
          (this.displayableSortFunc = Ua);
      }
      return (
        (r.prototype.traverse = function (e, t) {
          for (var n = 0; n < this._roots.length; n++)
            this._roots[n].traverse(e, t);
        }),
        (r.prototype.getDisplayList = function (e, t) {
          t = t || !1;
          var n = this._displayList;
          return (e || !n.length) && this.updateDisplayList(t), n;
        }),
        (r.prototype.updateDisplayList = function (e) {
          this._displayListLen = 0;
          for (
            var t = this._roots, n = this._displayList, i = 0, a = t.length;
            i < a;
            i++
          )
            this._updateAndAddDisplayable(t[i], null, e);
          (n.length = this._displayListLen), ii(n, Ua);
        }),
        (r.prototype._updateAndAddDisplayable = function (e, t, n) {
          if (!e.ignore || n) {
            e.beforeUpdate(), e.update(), e.afterUpdate();
            var i = e.getClipPath();
            if (e.ignoreClip) t = null;
            else if (i) {
              t = t ? t.slice() : [];
              for (var a = i, o = e; a; )
                (a.parent = o),
                  a.updateTransform(),
                  t.push(a),
                  (o = a),
                  (a = a.getClipPath());
            }
            if (e.childrenRef) {
              for (var s = e.childrenRef(), l = 0; l < s.length; l++) {
                var u = s[l];
                e.__dirty && (u.__dirty |= ta),
                  this._updateAndAddDisplayable(u, t, n);
              }
              e.__dirty = 0;
            } else {
              var c = e;
              t && t.length
                ? (c.__clipPaths = t)
                : c.__clipPaths &&
                  c.__clipPaths.length > 0 &&
                  (c.__clipPaths = []),
                isNaN(c.z) && (Ls(), (c.z = 0)),
                isNaN(c.z2) && (Ls(), (c.z2 = 0)),
                isNaN(c.zlevel) && (Ls(), (c.zlevel = 0)),
                (this._displayList[this._displayListLen++] = c);
            }
            var f = e.getDecalElement && e.getDecalElement();
            f && this._updateAndAddDisplayable(f, t, n);
            var d = e.getTextGuideLine();
            d && this._updateAndAddDisplayable(d, t, n);
            var v = e.getTextContent();
            v && this._updateAndAddDisplayable(v, t, n);
          }
        }),
        (r.prototype.addRoot = function (e) {
          (e.__zr && e.__zr.storage === this) || this._roots.push(e);
        }),
        (r.prototype.delRoot = function (e) {
          if (e instanceof Array)
            for (var t = 0, n = e.length; t < n; t++) this.delRoot(e[t]);
          else {
            var i = $(this._roots, e);
            i >= 0 && this._roots.splice(i, 1);
          }
        }),
        (r.prototype.delAllRoots = function () {
          (this._roots = []),
            (this._displayList = []),
            (this._displayListLen = 0);
        }),
        (r.prototype.getRoots = function () {
          return this._roots;
        }),
        (r.prototype.dispose = function () {
          (this._displayList = null), (this._roots = null);
        }),
        r
      );
    })();
  Xc =
    (Lt.hasGlobalWindow &&
      ((window.requestAnimationFrame &&
        window.requestAnimationFrame.bind(window)) ||
        (window.msRequestAnimationFrame &&
          window.msRequestAnimationFrame.bind(window)) ||
        window.mozRequestAnimationFrame ||
        window.webkitRequestAnimationFrame)) ||
    function (r) {
      return setTimeout(r, 16);
    };
  var Zc = Xc,
    Fi = {
      linear: function (r) {
        return r;
      },
      quadraticIn: function (r) {
        return r * r;
      },
      quadraticOut: function (r) {
        return r * (2 - r);
      },
      quadraticInOut: function (r) {
        return (r *= 2) < 1 ? 0.5 * r * r : -0.5 * (--r * (r - 2) - 1);
      },
      cubicIn: function (r) {
        return r * r * r;
      },
      cubicOut: function (r) {
        return --r * r * r + 1;
      },
      cubicInOut: function (r) {
        return (r *= 2) < 1 ? 0.5 * r * r * r : 0.5 * ((r -= 2) * r * r + 2);
      },
      quarticIn: function (r) {
        return r * r * r * r;
      },
      quarticOut: function (r) {
        return 1 - --r * r * r * r;
      },
      quarticInOut: function (r) {
        return (r *= 2) < 1
          ? 0.5 * r * r * r * r
          : -0.5 * ((r -= 2) * r * r * r - 2);
      },
      quinticIn: function (r) {
        return r * r * r * r * r;
      },
      quinticOut: function (r) {
        return --r * r * r * r * r + 1;
      },
      quinticInOut: function (r) {
        return (r *= 2) < 1
          ? 0.5 * r * r * r * r * r
          : 0.5 * ((r -= 2) * r * r * r * r + 2);
      },
      sinusoidalIn: function (r) {
        return 1 - Math.cos((r * Math.PI) / 2);
      },
      sinusoidalOut: function (r) {
        return Math.sin((r * Math.PI) / 2);
      },
      sinusoidalInOut: function (r) {
        return 0.5 * (1 - Math.cos(Math.PI * r));
      },
      exponentialIn: function (r) {
        return 0 === r ? 0 : Math.pow(1024, r - 1);
      },
      exponentialOut: function (r) {
        return 1 === r ? 1 : 1 - Math.pow(2, -10 * r);
      },
      exponentialInOut: function (r) {
        return 0 === r
          ? 0
          : 1 === r
          ? 1
          : (r *= 2) < 1
          ? 0.5 * Math.pow(1024, r - 1)
          : 0.5 * (2 - Math.pow(2, -10 * (r - 1)));
      },
      circularIn: function (r) {
        return 1 - Math.sqrt(1 - r * r);
      },
      circularOut: function (r) {
        return Math.sqrt(1 - --r * r);
      },
      circularInOut: function (r) {
        return (r *= 2) < 1
          ? -0.5 * (Math.sqrt(1 - r * r) - 1)
          : 0.5 * (Math.sqrt(1 - (r -= 2) * r) + 1);
      },
      elasticIn: function (r) {
        var e,
          t = 0.1;
        return 0 === r
          ? 0
          : 1 === r
          ? 1
          : (!t || t < 1
              ? ((t = 1), (e = 0.1))
              : (e = (0.4 * Math.asin(1 / t)) / (2 * Math.PI)),
            -t *
              Math.pow(2, 10 * (r -= 1)) *
              Math.sin(((r - e) * (2 * Math.PI)) / 0.4));
      },
      elasticOut: function (r) {
        var e,
          t = 0.1;
        return 0 === r
          ? 0
          : 1 === r
          ? 1
          : (!t || t < 1
              ? ((t = 1), (e = 0.1))
              : (e = (0.4 * Math.asin(1 / t)) / (2 * Math.PI)),
            t *
              Math.pow(2, -10 * r) *
              Math.sin(((r - e) * (2 * Math.PI)) / 0.4) +
              1);
      },
      elasticInOut: function (r) {
        var e,
          t = 0.1;
        return 0 === r
          ? 0
          : 1 === r
          ? 1
          : (!t || t < 1
              ? ((t = 1), (e = 0.1))
              : (e = (0.4 * Math.asin(1 / t)) / (2 * Math.PI)),
            (r *= 2) < 1
              ? t *
                Math.pow(2, 10 * (r -= 1)) *
                Math.sin(((r - e) * (2 * Math.PI)) / 0.4) *
                -0.5
              : t *
                  Math.pow(2, -10 * (r -= 1)) *
                  Math.sin(((r - e) * (2 * Math.PI)) / 0.4) *
                  0.5 +
                1);
      },
      backIn: function (r) {
        var e = 1.70158;
        return r * r * ((e + 1) * r - e);
      },
      backOut: function (r) {
        var e = 1.70158;
        return --r * r * ((e + 1) * r + e) + 1;
      },
      backInOut: function (r) {
        var e = 2.5949095;
        return (r *= 2) < 1
          ? r * r * ((e + 1) * r - e) * 0.5
          : 0.5 * ((r -= 2) * r * ((e + 1) * r + e) + 2);
      },
      bounceIn: function (r) {
        return 1 - Fi.bounceOut(1 - r);
      },
      bounceOut: function (r) {
        return r < 1 / 2.75
          ? 7.5625 * r * r
          : r < 2 / 2.75
          ? 7.5625 * (r -= 1.5 / 2.75) * r + 0.75
          : r < 2.5 / 2.75
          ? 7.5625 * (r -= 2.25 / 2.75) * r + 0.9375
          : 7.5625 * (r -= 2.625 / 2.75) * r + 0.984375;
      },
      bounceInOut: function (r) {
        return r < 0.5
          ? 0.5 * Fi.bounceIn(2 * r)
          : 0.5 * Fi.bounceOut(2 * r - 1) + 0.5;
      },
    },
    Ya = Math.pow,
    Xa = Math.sqrt,
    vu = 1e-8,
    mh = 1e-4,
    qc = Xa(3),
    _o = 1 / 3,
    Rn = mn(),
    Un = mn(),
    Is = mn();
  function So(r) {
    return r > -vu && r < vu;
  }
  function Cv(r) {
    return r > vu || r < -vu;
  }
  function kn(r, e, t, n, i) {
    var a = 1 - i;
    return a * a * (a * r + 3 * i * e) + i * i * (i * n + 3 * a * t);
  }
  function yh(r, e, t, n, i) {
    var a = 1 - i;
    return 3 * (((e - r) * a + 2 * (t - e) * i) * a + (n - t) * i * i);
  }
  function $o(r, e, t, n, i, a) {
    var o = n + 3 * (e - t) - r,
      s = 3 * (t - 2 * e + r),
      l = 3 * (e - r),
      u = r - i,
      c = s * s - 3 * o * l,
      f = s * l - 9 * o * u,
      d = l * l - 3 * s * u,
      v = 0;
    if (So(c) && So(f))
      So(s) ? (a[0] = 0) : (g = -l / s) >= 0 && g <= 1 && (a[v++] = g);
    else {
      var m = f * f - 4 * c * d;
      if (So(m)) {
        var y = f / c,
          b = -y / 2;
        (g = -s / o + y) >= 0 && g <= 1 && (a[v++] = g),
          b >= 0 && b <= 1 && (a[v++] = b);
      } else if (m > 0) {
        var w = Xa(m),
          C = c * s + 1.5 * o * (-f + w),
          D = c * s + 1.5 * o * (-f - w);
        (g =
          (-s -
            ((C = C < 0 ? -Ya(-C, _o) : Ya(C, _o)) +
              (D = D < 0 ? -Ya(-D, _o) : Ya(D, _o)))) /
          (3 * o)) >= 0 &&
          g <= 1 &&
          (a[v++] = g);
      } else {
        var L = (2 * c * s - 3 * o * f) / (2 * Xa(c * c * c)),
          M = Math.acos(L) / 3,
          E = Xa(c),
          O = Math.cos(M),
          g = (-s - 2 * E * O) / (3 * o),
          z =
            ((b = (-s + E * (O + qc * Math.sin(M))) / (3 * o)),
            (-s + E * (O - qc * Math.sin(M))) / (3 * o));
        g >= 0 && g <= 1 && (a[v++] = g),
          b >= 0 && b <= 1 && (a[v++] = b),
          z >= 0 && z <= 1 && (a[v++] = z);
      }
    }
    return v;
  }
  function xh(r, e, t, n, i) {
    var a = 6 * t - 12 * e + 6 * r,
      o = 9 * e + 3 * n - 3 * r - 9 * t,
      s = 3 * e - 3 * r,
      l = 0;
    if (So(o)) Cv(a) && (u = -s / a) >= 0 && u <= 1 && (i[l++] = u);
    else {
      var c = a * a - 4 * o * s;
      if (So(c)) i[0] = -a / (2 * o);
      else if (c > 0) {
        var u,
          f = Xa(c),
          d = (-a - f) / (2 * o);
        (u = (-a + f) / (2 * o)) >= 0 && u <= 1 && (i[l++] = u),
          d >= 0 && d <= 1 && (i[l++] = d);
      }
    }
    return l;
  }
  function wo(r, e, t, n, i, a) {
    var o = (e - r) * i + r,
      s = (t - e) * i + e,
      l = (n - t) * i + t,
      u = (s - o) * i + o,
      c = (l - s) * i + s,
      f = (c - u) * i + u;
    (a[0] = r),
      (a[1] = o),
      (a[2] = u),
      (a[3] = f),
      (a[4] = f),
      (a[5] = c),
      (a[6] = l),
      (a[7] = n);
  }
  function jc(r, e, t, n, i, a, o, s, l, u, c) {
    var f,
      g,
      m,
      y,
      b,
      d = 0.005,
      v = 1 / 0;
    (Rn[0] = l), (Rn[1] = u);
    for (var w = 0; w < 1; w += 0.05)
      (Un[0] = kn(r, t, i, o, w)),
        (Un[1] = kn(e, n, a, s, w)),
        (y = La(Rn, Un)) < v && ((f = w), (v = y));
    v = 1 / 0;
    for (var C = 0; C < 32 && !(d < mh); C++)
      (m = f + d),
        (Un[0] = kn(r, t, i, o, (g = f - d))),
        (Un[1] = kn(e, n, a, s, g)),
        (y = La(Un, Rn)),
        g >= 0 && y < v
          ? ((f = g), (v = y))
          : ((Is[0] = kn(r, t, i, o, m)),
            (Is[1] = kn(e, n, a, s, m)),
            (b = La(Is, Rn)),
            m <= 1 && b < v ? ((f = m), (v = b)) : (d *= 0.5));
    return c && ((c[0] = kn(r, t, i, o, f)), (c[1] = kn(e, n, a, s, f))), Xa(v);
  }
  function Kc(r, e, t, n, i, a, o, s, l) {
    for (var u = r, c = e, f = 0, d = 1 / l, v = 1; v <= l; v++) {
      var g = v * d,
        m = kn(r, t, i, o, g),
        y = kn(e, n, a, s, g),
        b = m - u,
        w = y - c;
      (f += Math.sqrt(b * b + w * w)), (u = m), (c = y);
    }
    return f;
  }
  function On(r, e, t, n) {
    var i = 1 - n;
    return i * (i * r + 2 * n * e) + n * n * t;
  }
  function yl(r, e, t, n) {
    return 2 * ((1 - n) * (e - r) + n * (t - e));
  }
  function bh(r, e, t) {
    var n = r + t - 2 * e;
    return 0 === n ? 0.5 : (r - e) / n;
  }
  function ks(r, e, t, n, i) {
    var a = (e - r) * n + r,
      o = (t - e) * n + e,
      s = (o - a) * n + a;
    (i[0] = r), (i[1] = a), (i[2] = s), (i[3] = s), (i[4] = o), (i[5] = t);
  }
  function Qc(r, e, t, n, i, a, o, s, l) {
    var u,
      c = 0.005,
      f = 1 / 0;
    (Rn[0] = o), (Rn[1] = s);
    for (var d = 0; d < 1; d += 0.05)
      (Un[0] = On(r, t, i, d)),
        (Un[1] = On(e, n, a, d)),
        (v = La(Rn, Un)) < f && ((u = d), (f = v));
    f = 1 / 0;
    for (var g = 0; g < 32 && !(c < mh); g++) {
      var m = u - c,
        y = u + c;
      (Un[0] = On(r, t, i, m)), (Un[1] = On(e, n, a, m));
      var v = La(Un, Rn);
      if (m >= 0 && v < f) (u = m), (f = v);
      else {
        (Is[0] = On(r, t, i, y)), (Is[1] = On(e, n, a, y));
        var b = La(Is, Rn);
        y <= 1 && b < f ? ((u = y), (f = b)) : (c *= 0.5);
      }
    }
    return l && ((l[0] = On(r, t, i, u)), (l[1] = On(e, n, a, u))), Xa(f);
  }
  function Dv(r, e, t, n, i, a, o) {
    for (var s = r, l = e, u = 0, c = 1 / o, f = 1; f <= o; f++) {
      var d = f * c,
        v = On(r, t, i, d),
        g = On(e, n, a, d),
        m = v - s,
        y = g - l;
      (u += Math.sqrt(m * m + y * y)), (s = v), (l = g);
    }
    return u;
  }
  var Tv = /cubic-bezier\(([0-9,\.e ]+)\)/;
  function pu(r) {
    var e = r && Tv.exec(r);
    if (e) {
      var t = e[1].split(','),
        n = +Et(t[0]),
        i = +Et(t[1]),
        a = +Et(t[2]),
        o = +Et(t[3]);
      if (isNaN(n + i + a + o)) return;
      var s = [];
      return function (l) {
        return l <= 0
          ? 0
          : l >= 1
          ? 1
          : $o(0, n, a, 1, l, s) && kn(0, i, o, 1, s[0]);
      };
    }
  }
  var Pm = (function () {
      function r(e) {
        (this._inited = !1),
          (this._startTime = 0),
          (this._pausedTime = 0),
          (this._paused = !1),
          (this._life = e.life || 1e3),
          (this._delay = e.delay || 0),
          (this.loop = e.loop || !1),
          (this.onframe = e.onframe || Ke),
          (this.ondestroy = e.ondestroy || Ke),
          (this.onrestart = e.onrestart || Ke),
          e.easing && this.setEasing(e.easing);
      }
      return (
        (r.prototype.step = function (e, t) {
          if (
            (this._inited ||
              ((this._startTime = e + this._delay), (this._inited = !0)),
            !this._paused)
          ) {
            var n = this._life,
              i = e - this._startTime - this._pausedTime,
              a = i / n;
            a < 0 && (a = 0), (a = Math.min(a, 1));
            var o = this.easingFunc,
              s = o ? o(a) : a;
            if ((this.onframe(s), 1 === a)) {
              if (!this.loop) return !0;
              (this._startTime = e - (i % n)),
                (this._pausedTime = 0),
                this.onrestart();
            }
            return !1;
          }
          this._pausedTime += t;
        }),
        (r.prototype.pause = function () {
          this._paused = !0;
        }),
        (r.prototype.resume = function () {
          this._paused = !1;
        }),
        (r.prototype.setEasing = function (e) {
          (this.easing = e), (this.easingFunc = fe(e) ? e : Fi[e] || pu(e));
        }),
        r
      );
    })(),
    Av = function r(e) {
      this.value = e;
    },
    Rm = (function () {
      function r() {
        this._len = 0;
      }
      return (
        (r.prototype.insert = function (e) {
          var t = new Av(e);
          return this.insertEntry(t), t;
        }),
        (r.prototype.insertEntry = function (e) {
          this.head
            ? ((this.tail.next = e),
              (e.prev = this.tail),
              (e.next = null),
              (this.tail = e))
            : (this.head = this.tail = e),
            this._len++;
        }),
        (r.prototype.remove = function (e) {
          var t = e.prev,
            n = e.next;
          t ? (t.next = n) : (this.head = n),
            n ? (n.prev = t) : (this.tail = t),
            (e.next = e.prev = null),
            this._len--;
        }),
        (r.prototype.len = function () {
          return this._len;
        }),
        (r.prototype.clear = function () {
          (this.head = this.tail = null), (this._len = 0);
        }),
        r
      );
    })(),
    Za = (function () {
      function r(e) {
        (this._list = new Rm()),
          (this._maxSize = 10),
          (this._map = {}),
          (this._maxSize = e);
      }
      return (
        (r.prototype.put = function (e, t) {
          var n = this._list,
            i = this._map,
            a = null;
          if (null == i[e]) {
            var o = n.len(),
              s = this._lastRemovedEntry;
            if (o >= this._maxSize && o > 0) {
              var l = n.head;
              n.remove(l),
                delete i[l.key],
                (a = l.value),
                (this._lastRemovedEntry = l);
            }
            s ? (s.value = t) : (s = new Av(t)),
              (s.key = e),
              n.insertEntry(s),
              (i[e] = s);
          }
          return a;
        }),
        (r.prototype.get = function (e) {
          var t = this._map[e],
            n = this._list;
          if (null != t)
            return t !== n.tail && (n.remove(t), n.insertEntry(t)), t.value;
        }),
        (r.prototype.clear = function () {
          this._list.clear(), (this._map = {});
        }),
        (r.prototype.len = function () {
          return this._list.len();
        }),
        r
      );
    })(),
    Es = {
      transparent: [0, 0, 0, 0],
      aliceblue: [240, 248, 255, 1],
      antiquewhite: [250, 235, 215, 1],
      aqua: [0, 255, 255, 1],
      aquamarine: [127, 255, 212, 1],
      azure: [240, 255, 255, 1],
      beige: [245, 245, 220, 1],
      bisque: [255, 228, 196, 1],
      black: [0, 0, 0, 1],
      blanchedalmond: [255, 235, 205, 1],
      blue: [0, 0, 255, 1],
      blueviolet: [138, 43, 226, 1],
      brown: [165, 42, 42, 1],
      burlywood: [222, 184, 135, 1],
      cadetblue: [95, 158, 160, 1],
      chartreuse: [127, 255, 0, 1],
      chocolate: [210, 105, 30, 1],
      coral: [255, 127, 80, 1],
      cornflowerblue: [100, 149, 237, 1],
      cornsilk: [255, 248, 220, 1],
      crimson: [220, 20, 60, 1],
      cyan: [0, 255, 255, 1],
      darkblue: [0, 0, 139, 1],
      darkcyan: [0, 139, 139, 1],
      darkgoldenrod: [184, 134, 11, 1],
      darkgray: [169, 169, 169, 1],
      darkgreen: [0, 100, 0, 1],
      darkgrey: [169, 169, 169, 1],
      darkkhaki: [189, 183, 107, 1],
      darkmagenta: [139, 0, 139, 1],
      darkolivegreen: [85, 107, 47, 1],
      darkorange: [255, 140, 0, 1],
      darkorchid: [153, 50, 204, 1],
      darkred: [139, 0, 0, 1],
      darksalmon: [233, 150, 122, 1],
      darkseagreen: [143, 188, 143, 1],
      darkslateblue: [72, 61, 139, 1],
      darkslategray: [47, 79, 79, 1],
      darkslategrey: [47, 79, 79, 1],
      darkturquoise: [0, 206, 209, 1],
      darkviolet: [148, 0, 211, 1],
      deeppink: [255, 20, 147, 1],
      deepskyblue: [0, 191, 255, 1],
      dimgray: [105, 105, 105, 1],
      dimgrey: [105, 105, 105, 1],
      dodgerblue: [30, 144, 255, 1],
      firebrick: [178, 34, 34, 1],
      floralwhite: [255, 250, 240, 1],
      forestgreen: [34, 139, 34, 1],
      fuchsia: [255, 0, 255, 1],
      gainsboro: [220, 220, 220, 1],
      ghostwhite: [248, 248, 255, 1],
      gold: [255, 215, 0, 1],
      goldenrod: [218, 165, 32, 1],
      gray: [128, 128, 128, 1],
      green: [0, 128, 0, 1],
      greenyellow: [173, 255, 47, 1],
      grey: [128, 128, 128, 1],
      honeydew: [240, 255, 240, 1],
      hotpink: [255, 105, 180, 1],
      indianred: [205, 92, 92, 1],
      indigo: [75, 0, 130, 1],
      ivory: [255, 255, 240, 1],
      khaki: [240, 230, 140, 1],
      lavender: [230, 230, 250, 1],
      lavenderblush: [255, 240, 245, 1],
      lawngreen: [124, 252, 0, 1],
      lemonchiffon: [255, 250, 205, 1],
      lightblue: [173, 216, 230, 1],
      lightcoral: [240, 128, 128, 1],
      lightcyan: [224, 255, 255, 1],
      lightgoldenrodyellow: [250, 250, 210, 1],
      lightgray: [211, 211, 211, 1],
      lightgreen: [144, 238, 144, 1],
      lightgrey: [211, 211, 211, 1],
      lightpink: [255, 182, 193, 1],
      lightsalmon: [255, 160, 122, 1],
      lightseagreen: [32, 178, 170, 1],
      lightskyblue: [135, 206, 250, 1],
      lightslategray: [119, 136, 153, 1],
      lightslategrey: [119, 136, 153, 1],
      lightsteelblue: [176, 196, 222, 1],
      lightyellow: [255, 255, 224, 1],
      lime: [0, 255, 0, 1],
      limegreen: [50, 205, 50, 1],
      linen: [250, 240, 230, 1],
      magenta: [255, 0, 255, 1],
      maroon: [128, 0, 0, 1],
      mediumaquamarine: [102, 205, 170, 1],
      mediumblue: [0, 0, 205, 1],
      mediumorchid: [186, 85, 211, 1],
      mediumpurple: [147, 112, 219, 1],
      mediumseagreen: [60, 179, 113, 1],
      mediumslateblue: [123, 104, 238, 1],
      mediumspringgreen: [0, 250, 154, 1],
      mediumturquoise: [72, 209, 204, 1],
      mediumvioletred: [199, 21, 133, 1],
      midnightblue: [25, 25, 112, 1],
      mintcream: [245, 255, 250, 1],
      mistyrose: [255, 228, 225, 1],
      moccasin: [255, 228, 181, 1],
      navajowhite: [255, 222, 173, 1],
      navy: [0, 0, 128, 1],
      oldlace: [253, 245, 230, 1],
      olive: [128, 128, 0, 1],
      olivedrab: [107, 142, 35, 1],
      orange: [255, 165, 0, 1],
      orangered: [255, 69, 0, 1],
      orchid: [218, 112, 214, 1],
      palegoldenrod: [238, 232, 170, 1],
      palegreen: [152, 251, 152, 1],
      paleturquoise: [175, 238, 238, 1],
      palevioletred: [219, 112, 147, 1],
      papayawhip: [255, 239, 213, 1],
      peachpuff: [255, 218, 185, 1],
      peru: [205, 133, 63, 1],
      pink: [255, 192, 203, 1],
      plum: [221, 160, 221, 1],
      powderblue: [176, 224, 230, 1],
      purple: [128, 0, 128, 1],
      red: [255, 0, 0, 1],
      rosybrown: [188, 143, 143, 1],
      royalblue: [65, 105, 225, 1],
      saddlebrown: [139, 69, 19, 1],
      salmon: [250, 128, 114, 1],
      sandybrown: [244, 164, 96, 1],
      seagreen: [46, 139, 87, 1],
      seashell: [255, 245, 238, 1],
      sienna: [160, 82, 45, 1],
      silver: [192, 192, 192, 1],
      skyblue: [135, 206, 235, 1],
      slateblue: [106, 90, 205, 1],
      slategray: [112, 128, 144, 1],
      slategrey: [112, 128, 144, 1],
      snow: [255, 250, 250, 1],
      springgreen: [0, 255, 127, 1],
      steelblue: [70, 130, 180, 1],
      tan: [210, 180, 140, 1],
      teal: [0, 128, 128, 1],
      thistle: [216, 191, 216, 1],
      tomato: [255, 99, 71, 1],
      turquoise: [64, 224, 208, 1],
      violet: [238, 130, 238, 1],
      wheat: [245, 222, 179, 1],
      white: [255, 255, 255, 1],
      whitesmoke: [245, 245, 245, 1],
      yellow: [255, 255, 0, 1],
      yellowgreen: [154, 205, 50, 1],
    };
  function ea(r) {
    return (r = Math.round(r)) < 0 ? 0 : r > 255 ? 255 : r;
  }
  function xl(r) {
    return r < 0 ? 0 : r > 1 ? 1 : r;
  }
  function gu(r) {
    var e = r;
    return e.length && '%' === e.charAt(e.length - 1)
      ? ea((parseFloat(e) / 100) * 255)
      : ea(parseInt(e, 10));
  }
  function ra(r) {
    var e = r;
    return e.length && '%' === e.charAt(e.length - 1)
      ? xl(parseFloat(e) / 100)
      : xl(parseFloat(e));
  }
  function Co(r, e, t) {
    return (
      t < 0 ? (t += 1) : t > 1 && (t -= 1),
      6 * t < 1
        ? r + (e - r) * t * 6
        : 2 * t < 1
        ? e
        : 3 * t < 2
        ? r + (e - r) * (2 / 3 - t) * 6
        : r
    );
  }
  function Sn(r, e, t) {
    return r + (e - r) * t;
  }
  function Fn(r, e, t, n, i) {
    return (r[0] = e), (r[1] = t), (r[2] = n), (r[3] = i), r;
  }
  function qa(r, e) {
    return (r[0] = e[0]), (r[1] = e[1]), (r[2] = e[2]), (r[3] = e[3]), r;
  }
  var mu = new Za(20),
    yu = null;
  function ja(r, e) {
    yu && qa(yu, e), (yu = mu.put(r, yu || e.slice()));
  }
  function vi(r, e) {
    if (r) {
      e = e || [];
      var t = mu.get(r);
      if (t) return qa(e, t);
      var n = (r += '').replace(/ /g, '').toLowerCase();
      if (n in Es) return qa(e, Es[n]), ja(r, e), e;
      var a,
        i = n.length;
      if ('#' === n.charAt(0))
        return 4 === i || 5 === i
          ? (a = parseInt(n.slice(1, 4), 16)) >= 0 && a <= 4095
            ? (Fn(
                e,
                ((3840 & a) >> 4) | ((3840 & a) >> 8),
                (240 & a) | ((240 & a) >> 4),
                (15 & a) | ((15 & a) << 4),
                5 === i ? parseInt(n.slice(4), 16) / 15 : 1
              ),
              ja(r, e),
              e)
            : void Fn(e, 0, 0, 0, 1)
          : 7 === i || 9 === i
          ? (a = parseInt(n.slice(1, 7), 16)) >= 0 && a <= 16777215
            ? (Fn(
                e,
                (16711680 & a) >> 16,
                (65280 & a) >> 8,
                255 & a,
                9 === i ? parseInt(n.slice(7), 16) / 255 : 1
              ),
              ja(r, e),
              e)
            : void Fn(e, 0, 0, 0, 1)
          : void 0;
      var o = n.indexOf('('),
        s = n.indexOf(')');
      if (-1 !== o && s + 1 === i) {
        var l = n.substr(0, o),
          u = n.substr(o + 1, s - (o + 1)).split(','),
          c = 1;
        switch (l) {
          case 'rgba':
            if (4 !== u.length)
              return 3 === u.length
                ? Fn(e, +u[0], +u[1], +u[2], 1)
                : Fn(e, 0, 0, 0, 1);
            c = ra(u.pop());
          case 'rgb':
            return u.length >= 3
              ? (Fn(
                  e,
                  gu(u[0]),
                  gu(u[1]),
                  gu(u[2]),
                  3 === u.length ? c : ra(u[3])
                ),
                ja(r, e),
                e)
              : void Fn(e, 0, 0, 0, 1);
          case 'hsla':
            return 4 !== u.length
              ? void Fn(e, 0, 0, 0, 1)
              : ((u[3] = ra(u[3])), xu(u, e), ja(r, e), e);
          case 'hsl':
            return 3 !== u.length
              ? void Fn(e, 0, 0, 0, 1)
              : (xu(u, e), ja(r, e), e);
          default:
            return;
        }
      }
      Fn(e, 0, 0, 0, 1);
    }
  }
  function xu(r, e) {
    var t = (((parseFloat(r[0]) % 360) + 360) % 360) / 360,
      n = ra(r[1]),
      i = ra(r[2]),
      a = i <= 0.5 ? i * (n + 1) : i + n - i * n,
      o = 2 * i - a;
    return (
      Fn(
        (e = e || []),
        ea(255 * Co(o, a, t + 1 / 3)),
        ea(255 * Co(o, a, t)),
        ea(255 * Co(o, a, t - 1 / 3)),
        1
      ),
      4 === r.length && (e[3] = r[3]),
      e
    );
  }
  function tf(r, e) {
    var t = vi(r);
    if (t) {
      for (var n = 0; n < 3; n++)
        (t[n] = e < 0 ? (t[n] * (1 - e)) | 0 : ((255 - t[n]) * e + t[n]) | 0),
          t[n] > 255 ? (t[n] = 255) : t[n] < 0 && (t[n] = 0);
      return Bi(t, 4 === t.length ? 'rgba' : 'rgb');
    }
  }
  function bl(r, e, t) {
    if (e && e.length && r >= 0 && r <= 1) {
      t = t || [];
      var n = r * (e.length - 1),
        i = Math.floor(n),
        a = Math.ceil(n),
        o = e[i],
        s = e[a],
        l = n - i;
      return (
        (t[0] = ea(Sn(o[0], s[0], l))),
        (t[1] = ea(Sn(o[1], s[1], l))),
        (t[2] = ea(Sn(o[2], s[2], l))),
        (t[3] = xl(Sn(o[3], s[3], l))),
        t
      );
    }
  }
  function bu(r, e, t) {
    if (e && e.length && r >= 0 && r <= 1) {
      var n = r * (e.length - 1),
        i = Math.floor(n),
        a = Math.ceil(n),
        o = vi(e[i]),
        s = vi(e[a]),
        l = n - i,
        u = Bi(
          [
            ea(Sn(o[0], s[0], l)),
            ea(Sn(o[1], s[1], l)),
            ea(Sn(o[2], s[2], l)),
            xl(Sn(o[3], s[3], l)),
          ],
          'rgba'
        );
      return t ? { color: u, leftIndex: i, rightIndex: a, value: n } : u;
    }
  }
  function Do(r, e, t, n) {
    var i = vi(r);
    if (r)
      return (
        (i = (function Jc(r) {
          if (r) {
            var l,
              u,
              e = r[0] / 255,
              t = r[1] / 255,
              n = r[2] / 255,
              i = Math.min(e, t, n),
              a = Math.max(e, t, n),
              o = a - i,
              s = (a + i) / 2;
            if (0 === o) (l = 0), (u = 0);
            else {
              u = s < 0.5 ? o / (a + i) : o / (2 - a - i);
              var c = ((a - e) / 6 + o / 2) / o,
                f = ((a - t) / 6 + o / 2) / o,
                d = ((a - n) / 6 + o / 2) / o;
              e === a
                ? (l = d - f)
                : t === a
                ? (l = 1 / 3 + c - d)
                : n === a && (l = 2 / 3 + f - c),
                l < 0 && (l += 1),
                l > 1 && (l -= 1);
            }
            var v = [360 * l, u, s];
            return null != r[3] && v.push(r[3]), v;
          }
        })(i)),
        null != e &&
          (i[0] = (function _h(r) {
            return (r = Math.round(r)) < 0 ? 0 : r > 360 ? 360 : r;
          })(e)),
        null != t && (i[1] = ra(t)),
        null != n && (i[2] = ra(n)),
        Bi(xu(i), 'rgba')
      );
  }
  function Sl(r, e) {
    var t = vi(r);
    if (t && null != e) return (t[3] = xl(e)), Bi(t, 'rgba');
  }
  function Bi(r, e) {
    if (r && r.length) {
      var t = r[0] + ',' + r[1] + ',' + r[2];
      return (
        ('rgba' === e || 'hsva' === e || 'hsla' === e) && (t += ',' + r[3]),
        e + '(' + t + ')'
      );
    }
  }
  function Ps(r, e) {
    var t = vi(r);
    return t
      ? ((0.299 * t[0] + 0.587 * t[1] + 0.114 * t[2]) * t[3]) / 255 +
          (1 - t[3]) * e
      : 0;
  }
  var wl = Object.freeze({
      __proto__: null,
      parse: vi,
      lift: tf,
      toHex: function Sh(r) {
        var e = vi(r);
        if (e)
          return ((1 << 24) + (e[0] << 16) + (e[1] << 8) + +e[2])
            .toString(16)
            .slice(1);
      },
      fastLerp: bl,
      fastMapToColor: bl,
      lerp: bu,
      mapToColor: bu,
      modifyHSL: Do,
      modifyAlpha: Sl,
      stringify: Bi,
      lum: Ps,
      random: function Ch() {
        return Bi(
          [
            Math.round(255 * Math.random()),
            Math.round(255 * Math.random()),
            Math.round(255 * Math.random()),
          ],
          'rgb'
        );
      },
    }),
    Uo = Math.round;
  function Yo(r) {
    var e;
    if (r && 'transparent' !== r) {
      if ('string' == typeof r && r.indexOf('rgba') > -1) {
        var t = vi(r);
        t && ((r = 'rgb(' + t[0] + ',' + t[1] + ',' + t[2] + ')'), (e = t[3]));
      }
    } else r = 'none';
    return { color: r, opacity: e ?? 1 };
  }
  var Dh = 1e-4;
  function ya(r) {
    return r < Dh && r > -Dh;
  }
  function _u(r) {
    return Uo(1e3 * r) / 1e3;
  }
  function To(r) {
    return Uo(1e4 * r) / 1e4;
  }
  var Rs = { left: 'start', right: 'end', center: 'middle', middle: 'middle' };
  function Th(r) {
    return r && !!r.image;
  }
  function Ah(r) {
    return (
      Th(r) ||
      (function Lv(r) {
        return r && !!r.svgElement;
      })(r)
    );
  }
  function Xo(r) {
    return 'linear' === r.type;
  }
  function Zo(r) {
    return 'radial' === r.type;
  }
  function Iv(r) {
    return r && ('linear' === r.type || 'radial' === r.type);
  }
  function ef(r) {
    return 'url(#' + r + ')';
  }
  function kv(r) {
    var e = r.getGlobalScale(),
      t = Math.max(e[0], e[1]);
    return Math.max(Math.ceil(Math.log(t) / Math.log(10)), 1);
  }
  function Ev(r) {
    var e = r.x || 0,
      t = r.y || 0,
      n = (r.rotation || 0) * Fr,
      i = B(r.scaleX, 1),
      a = B(r.scaleY, 1),
      o = r.skewX || 0,
      s = r.skewY || 0,
      l = [];
    return (
      (e || t) && l.push('translate(' + e + 'px,' + t + 'px)'),
      n && l.push('rotate(' + n + ')'),
      (1 !== i || 1 !== a) && l.push('scale(' + i + ',' + a + ')'),
      (o || s) && l.push('skew(' + Uo(o * Fr) + 'deg, ' + Uo(s * Fr) + 'deg)'),
      l.join(' ')
    );
  }
  var Om =
      Lt.hasGlobalWindow && fe(window.btoa)
        ? function (r) {
            return window.btoa(unescape(encodeURIComponent(r)));
          }
        : typeof Buffer < 'u'
        ? function (r) {
            return Buffer.from(r).toString('base64');
          }
        : function (r) {
            return (
              He("Base64 isn't natively supported in the current environment."),
              null
            );
          },
    pi = Array.prototype.slice;
  function sn(r, e, t) {
    return (e - r) * t + r;
  }
  function Yn(r, e, t, n) {
    for (var i = e.length, a = 0; a < i; a++) r[a] = sn(e[a], t[a], n);
    return r;
  }
  function qo(r, e, t, n) {
    for (var i = e.length, a = 0; a < i; a++) r[a] = e[a] + t[a] * n;
    return r;
  }
  function Pv(r, e, t, n) {
    for (var i = e.length, a = i && e[0].length, o = 0; o < i; o++) {
      r[o] || (r[o] = []);
      for (var s = 0; s < a; s++) r[o][s] = e[o][s] + t[o][s] * n;
    }
    return r;
  }
  function rf(r, e) {
    for (
      var t = r.length,
        n = e.length,
        i = t > n ? e : r,
        a = Math.min(t, n),
        o = i[a - 1] || { color: [0, 0, 0, 0], offset: 0 },
        s = a;
      s < Math.max(t, n);
      s++
    )
      i.push({ offset: o.offset, color: o.color.slice() });
  }
  function Fm(r, e, t) {
    var n = r,
      i = e;
    if (n.push && i.push) {
      var a = n.length,
        o = i.length;
      if (a !== o)
        if (a > o) n.length = o;
        else for (var l = a; l < o; l++) n.push(1 === t ? i[l] : pi.call(i[l]));
      var u = n[0] && n[0].length;
      for (l = 0; l < n.length; l++)
        if (1 === t) isNaN(n[l]) && (n[l] = i[l]);
        else for (var c = 0; c < u; c++) isNaN(n[l][c]) && (n[l][c] = i[l][c]);
    }
  }
  function Os(r) {
    if (sr(r)) {
      var e = r.length;
      if (sr(r[0])) {
        for (var t = [], n = 0; n < e; n++) t.push(pi.call(r[n]));
        return t;
      }
      return pi.call(r);
    }
    return r;
  }
  function Cu(r) {
    return (
      (r[0] = Math.floor(r[0]) || 0),
      (r[1] = Math.floor(r[1]) || 0),
      (r[2] = Math.floor(r[2]) || 0),
      (r[3] = null == r[3] ? 1 : r[3]),
      'rgba(' + r.join(',') + ')'
    );
  }
  function Rv(r) {
    return 4 === r || 5 === r;
  }
  function Fs(r) {
    return 1 === r || 2 === r;
  }
  var na = [0, 0, 0, 0],
    Ov = (function () {
      function r(e) {
        (this.keyframes = []),
          (this.discrete = !1),
          (this._invalid = !1),
          (this._needsSort = !1),
          (this._lastFr = 0),
          (this._lastFrP = 0),
          (this.propName = e);
      }
      return (
        (r.prototype.isFinished = function () {
          return this._finished;
        }),
        (r.prototype.setFinished = function () {
          (this._finished = !0),
            this._additiveTrack && this._additiveTrack.setFinished();
        }),
        (r.prototype.needsAnimate = function () {
          return this.keyframes.length >= 1;
        }),
        (r.prototype.getAdditiveTrack = function () {
          return this._additiveTrack;
        }),
        (r.prototype.addKeyframe = function (e, t, n) {
          this._needsSort = !0;
          var i = this.keyframes,
            a = i.length,
            o = !1,
            s = 6,
            l = t;
          if (sr(t)) {
            var u = (function Mh(r) {
              return sr(r && r[0]) ? 2 : 1;
            })(t);
            (s = u),
              ((1 === u && !U(t[0])) || (2 === u && !U(t[0][0]))) && (o = !0);
          } else if (U(t) && !Wt(t)) s = 0;
          else if (ht(t))
            if (isNaN(+t)) {
              var c = vi(t);
              c && ((l = c), (s = 3));
            } else s = 0;
          else if (Pt(t)) {
            var f = nt({}, l);
            (f.colorStops = Ut(t.colorStops, function (v) {
              return { offset: v.offset, color: vi(v.color) };
            })),
              Xo(t) ? (s = 4) : Zo(t) && (s = 5),
              (l = f);
          }
          0 === a
            ? (this.valType = s)
            : (s !== this.valType || 6 === s) && (o = !0),
            (this.discrete = this.discrete || o);
          var d = { time: e, value: l, rawValue: t, percent: 0 };
          return (
            n && ((d.easing = n), (d.easingFunc = fe(n) ? n : Fi[n] || pu(n))),
            i.push(d),
            d
          );
        }),
        (r.prototype.prepare = function (e, t) {
          var n = this.keyframes;
          this._needsSort &&
            n.sort(function (m, y) {
              return m.time - y.time;
            });
          for (
            var i = this.valType,
              a = n.length,
              o = n[a - 1],
              s = this.discrete,
              l = Fs(i),
              u = Rv(i),
              c = 0;
            c < a;
            c++
          ) {
            var f = n[c],
              d = f.value,
              v = o.value;
            (f.percent = f.time / e),
              s ||
                (l && c !== a - 1
                  ? Fm(d, v, i)
                  : u && rf(d.colorStops, v.colorStops));
          }
          if (
            !s &&
            5 !== i &&
            t &&
            this.needsAnimate() &&
            t.needsAnimate() &&
            i === t.valType &&
            !t._finished
          ) {
            this._additiveTrack = t;
            var g = n[0].value;
            for (c = 0; c < a; c++)
              0 === i
                ? (n[c].additiveValue = n[c].value - g)
                : 3 === i
                ? (n[c].additiveValue = qo([], n[c].value, g, -1))
                : Fs(i) &&
                  (n[c].additiveValue =
                    1 === i
                      ? qo([], n[c].value, g, -1)
                      : Pv([], n[c].value, g, -1));
          }
        }),
        (r.prototype.step = function (e, t) {
          if (!this._finished) {
            this._additiveTrack &&
              this._additiveTrack._finished &&
              (this._additiveTrack = null);
            var c,
              v,
              g,
              n = null != this._additiveTrack,
              i = n ? 'additiveValue' : 'value',
              a = this.valType,
              o = this.keyframes,
              s = o.length,
              l = this.propName,
              u = 3 === a,
              f = this._lastFr,
              d = Math.min;
            if (1 === s) v = g = o[0];
            else {
              if (t < 0) c = 0;
              else if (t < this._lastFrP) {
                for (c = d(f + 1, s - 1); c >= 0 && !(o[c].percent <= t); c--);
                c = d(c, s - 2);
              } else {
                for (c = f; c < s && !(o[c].percent > t); c++);
                c = d(c - 1, s - 2);
              }
              (g = o[c + 1]), (v = o[c]);
            }
            if (v && g) {
              (this._lastFr = c), (this._lastFrP = t);
              var y = g.percent - v.percent,
                b = 0 === y ? 1 : d((t - v.percent) / y, 1);
              g.easingFunc && (b = g.easingFunc(b));
              var w = n ? this._additiveValue : u ? na : e[l];
              if (
                ((Fs(a) || u) && !w && (w = this._additiveValue = []),
                this.discrete)
              )
                e[l] = b < 1 ? v.rawValue : g.rawValue;
              else if (Fs(a))
                1 === a
                  ? Yn(w, v[i], g[i], b)
                  : (function Bn(r, e, t, n) {
                      for (
                        var i = e.length, a = i && e[0].length, o = 0;
                        o < i;
                        o++
                      ) {
                        r[o] || (r[o] = []);
                        for (var s = 0; s < a; s++)
                          r[o][s] = sn(e[o][s], t[o][s], n);
                      }
                    })(w, v[i], g[i], b);
              else if (Rv(a)) {
                var C = v[i],
                  D = g[i],
                  L = 4 === a;
                (e[l] = {
                  type: L ? 'linear' : 'radial',
                  x: sn(C.x, D.x, b),
                  y: sn(C.y, D.y, b),
                  colorStops: Ut(C.colorStops, function (E, O) {
                    var z = D.colorStops[O];
                    return {
                      offset: sn(E.offset, z.offset, b),
                      color: Cu(Yn([], E.color, z.color, b)),
                    };
                  }),
                  global: D.global,
                }),
                  L
                    ? ((e[l].x2 = sn(C.x2, D.x2, b)),
                      (e[l].y2 = sn(C.y2, D.y2, b)))
                    : (e[l].r = sn(C.r, D.r, b));
              } else if (u) Yn(w, v[i], g[i], b), n || (e[l] = Cu(w));
              else {
                var M = sn(v[i], g[i], b);
                n ? (this._additiveValue = M) : (e[l] = M);
              }
              n && this._addToTarget(e);
            }
          }
        }),
        (r.prototype._addToTarget = function (e) {
          var t = this.valType,
            n = this.propName,
            i = this._additiveValue;
          0 === t
            ? (e[n] = e[n] + i)
            : 3 === t
            ? (vi(e[n], na), qo(na, na, i, 1), (e[n] = Cu(na)))
            : 1 === t
            ? qo(e[n], e[n], i, 1)
            : 2 === t && Pv(e[n], e[n], i, 1);
        }),
        r
      );
    })(),
    Ih = (function () {
      function r(e, t, n, i) {
        (this._tracks = {}),
          (this._trackKeys = []),
          (this._maxTime = 0),
          (this._started = 0),
          (this._clip = null),
          (this._target = e),
          (this._loop = t),
          t && i
            ? He("Can' use additive animation on looped animation.")
            : ((this._additiveAnimators = i), (this._allowDiscrete = n));
      }
      return (
        (r.prototype.getMaxTime = function () {
          return this._maxTime;
        }),
        (r.prototype.getDelay = function () {
          return this._delay;
        }),
        (r.prototype.getLoop = function () {
          return this._loop;
        }),
        (r.prototype.getTarget = function () {
          return this._target;
        }),
        (r.prototype.changeTarget = function (e) {
          this._target = e;
        }),
        (r.prototype.when = function (e, t, n) {
          return this.whenWithKeys(e, t, Ne(t), n);
        }),
        (r.prototype.whenWithKeys = function (e, t, n, i) {
          for (var a = this._tracks, o = 0; o < n.length; o++) {
            var s = n[o],
              l = a[s];
            if (!l) {
              l = a[s] = new Ov(s);
              var u = void 0,
                c = this._getAdditiveTrack(s);
              if (c) {
                var f = c.keyframes,
                  d = f[f.length - 1];
                (u = d && d.value), 3 === c.valType && u && (u = Cu(u));
              } else u = this._target[s];
              if (null == u) continue;
              e > 0 && l.addKeyframe(0, Os(u), i), this._trackKeys.push(s);
            }
            l.addKeyframe(e, Os(t[s]), i);
          }
          return (this._maxTime = Math.max(this._maxTime, e)), this;
        }),
        (r.prototype.pause = function () {
          this._clip.pause(), (this._paused = !0);
        }),
        (r.prototype.resume = function () {
          this._clip.resume(), (this._paused = !1);
        }),
        (r.prototype.isPaused = function () {
          return !!this._paused;
        }),
        (r.prototype.duration = function (e) {
          return (this._maxTime = e), (this._force = !0), this;
        }),
        (r.prototype._doneCallback = function () {
          this._setTracksFinished(), (this._clip = null);
          var e = this._doneCbs;
          if (e) for (var t = e.length, n = 0; n < t; n++) e[n].call(this);
        }),
        (r.prototype._abortedCallback = function () {
          this._setTracksFinished();
          var e = this.animation,
            t = this._abortedCbs;
          if ((e && e.removeClip(this._clip), (this._clip = null), t))
            for (var n = 0; n < t.length; n++) t[n].call(this);
        }),
        (r.prototype._setTracksFinished = function () {
          for (
            var e = this._tracks, t = this._trackKeys, n = 0;
            n < t.length;
            n++
          )
            e[t[n]].setFinished();
        }),
        (r.prototype._getAdditiveTrack = function (e) {
          var t,
            n = this._additiveAnimators;
          if (n)
            for (var i = 0; i < n.length; i++) {
              var a = n[i].getTrack(e);
              a && (t = a);
            }
          return t;
        }),
        (r.prototype.start = function (e) {
          if (!(this._started > 0)) {
            this._started = 1;
            for (
              var t = this, n = [], i = this._maxTime || 0, a = 0;
              a < this._trackKeys.length;
              a++
            ) {
              var o = this._trackKeys[a],
                s = this._tracks[o],
                l = this._getAdditiveTrack(o),
                u = s.keyframes,
                c = u.length;
              if ((s.prepare(i, l), s.needsAnimate()))
                if (!this._allowDiscrete && s.discrete) {
                  var f = u[c - 1];
                  f && (t._target[s.propName] = f.rawValue), s.setFinished();
                } else n.push(s);
            }
            if (n.length || this._force) {
              var d = new Pm({
                life: i,
                loop: this._loop,
                delay: this._delay || 0,
                onframe: function (v) {
                  t._started = 2;
                  var g = t._additiveAnimators;
                  if (g) {
                    for (var m = !1, y = 0; y < g.length; y++)
                      if (g[y]._clip) {
                        m = !0;
                        break;
                      }
                    m || (t._additiveAnimators = null);
                  }
                  for (y = 0; y < n.length; y++) n[y].step(t._target, v);
                  var b = t._onframeCbs;
                  if (b) for (y = 0; y < b.length; y++) b[y](t._target, v);
                },
                ondestroy: function () {
                  t._doneCallback();
                },
              });
              (this._clip = d),
                this.animation && this.animation.addClip(d),
                e && d.setEasing(e);
            } else this._doneCallback();
            return this;
          }
        }),
        (r.prototype.stop = function (e) {
          this._clip && (e && this._clip.onframe(1), this._abortedCallback());
        }),
        (r.prototype.delay = function (e) {
          return (this._delay = e), this;
        }),
        (r.prototype.during = function (e) {
          return (
            e &&
              (this._onframeCbs || (this._onframeCbs = []),
              this._onframeCbs.push(e)),
            this
          );
        }),
        (r.prototype.done = function (e) {
          return (
            e && (this._doneCbs || (this._doneCbs = []), this._doneCbs.push(e)),
            this
          );
        }),
        (r.prototype.aborted = function (e) {
          return (
            e &&
              (this._abortedCbs || (this._abortedCbs = []),
              this._abortedCbs.push(e)),
            this
          );
        }),
        (r.prototype.getClip = function () {
          return this._clip;
        }),
        (r.prototype.getTrack = function (e) {
          return this._tracks[e];
        }),
        (r.prototype.getTracks = function () {
          var e = this;
          return Ut(this._trackKeys, function (t) {
            return e._tracks[t];
          });
        }),
        (r.prototype.stopTracks = function (e, t) {
          if (!e.length || !this._clip) return !0;
          for (
            var n = this._tracks, i = this._trackKeys, a = 0;
            a < e.length;
            a++
          ) {
            var o = n[e[a]];
            o &&
              !o.isFinished() &&
              (t
                ? o.step(this._target, 1)
                : 1 === this._started && o.step(this._target, 0),
              o.setFinished());
          }
          var s = !0;
          for (a = 0; a < i.length; a++)
            if (!n[i[a]].isFinished()) {
              s = !1;
              break;
            }
          return s && this._abortedCallback(), s;
        }),
        (r.prototype.saveTo = function (e, t, n) {
          if (e) {
            t = t || this._trackKeys;
            for (var i = 0; i < t.length; i++) {
              var a = t[i],
                o = this._tracks[a];
              if (o && !o.isFinished()) {
                var s = o.keyframes,
                  l = s[n ? 0 : s.length - 1];
                l && (e[a] = Os(l.rawValue));
              }
            }
          }
        }),
        (r.prototype.__changeFinalValue = function (e, t) {
          t = t || Ne(e);
          for (var n = 0; n < t.length; n++) {
            var i = t[n],
              a = this._tracks[i];
            if (a) {
              var o = a.keyframes;
              if (o.length > 1) {
                var s = o.pop();
                a.addKeyframe(s.time, e[i]),
                  a.prepare(this._maxTime, a.getAdditiveTrack());
              }
            }
          }
        }),
        r
      );
    })();
  function Bs() {
    return new Date().getTime();
  }
  var ia = (function (r) {
      function e(t) {
        var n = r.call(this) || this;
        return (
          (n._running = !1),
          (n._time = 0),
          (n._pausedTime = 0),
          (n._pauseStart = 0),
          (n._paused = !1),
          (n.stage = (t = t || {}).stage || {}),
          n
        );
      }
      return (
        ut(e, r),
        (e.prototype.addClip = function (t) {
          t.animation && this.removeClip(t),
            this._head
              ? ((this._tail.next = t),
                (t.prev = this._tail),
                (t.next = null),
                (this._tail = t))
              : (this._head = this._tail = t),
            (t.animation = this);
        }),
        (e.prototype.addAnimator = function (t) {
          t.animation = this;
          var n = t.getClip();
          n && this.addClip(n);
        }),
        (e.prototype.removeClip = function (t) {
          if (t.animation) {
            var n = t.prev,
              i = t.next;
            n ? (n.next = i) : (this._head = i),
              i ? (i.prev = n) : (this._tail = n),
              (t.next = t.prev = t.animation = null);
          }
        }),
        (e.prototype.removeAnimator = function (t) {
          var n = t.getClip();
          n && this.removeClip(n), (t.animation = null);
        }),
        (e.prototype.update = function (t) {
          for (
            var n = Bs() - this._pausedTime, i = n - this._time, a = this._head;
            a;

          ) {
            var o = a.next;
            a.step(n, i) && (a.ondestroy(), this.removeClip(a)), (a = o);
          }
          (this._time = n),
            t ||
              (this.trigger('frame', i),
              this.stage.update && this.stage.update());
        }),
        (e.prototype._startLoop = function () {
          var t = this;
          (this._running = !0),
            Zc(function n() {
              t._running && (Zc(n), !t._paused && t.update());
            });
        }),
        (e.prototype.start = function () {
          this._running ||
            ((this._time = Bs()), (this._pausedTime = 0), this._startLoop());
        }),
        (e.prototype.stop = function () {
          this._running = !1;
        }),
        (e.prototype.pause = function () {
          this._paused || ((this._pauseStart = Bs()), (this._paused = !0));
        }),
        (e.prototype.resume = function () {
          this._paused &&
            ((this._pausedTime += Bs() - this._pauseStart),
            (this._paused = !1));
        }),
        (e.prototype.clear = function () {
          for (var t = this._head; t; ) {
            var n = t.next;
            (t.prev = t.next = t.animation = null), (t = n);
          }
          this._head = this._tail = null;
        }),
        (e.prototype.isFinished = function () {
          return null == this._head;
        }),
        (e.prototype.animate = function (t, n) {
          (n = n || {}), this.start();
          var i = new Ih(t, n.loop);
          return this.addAnimator(i), i;
        }),
        e
      );
    })(ci),
    aa = Lt.domSupported,
    Ka = (function () {
      var r = [
          'click',
          'dblclick',
          'mousewheel',
          'wheel',
          'mouseout',
          'mouseup',
          'mousedown',
          'mousemove',
          'contextmenu',
        ],
        t = { pointerdown: 1, pointerup: 1, pointermove: 1, pointerout: 1 };
      return {
        mouse: r,
        touch: ['touchstart', 'touchend', 'touchmove'],
        pointer: Ut(r, function (i) {
          var a = i.replace('mouse', 'pointer');
          return t.hasOwnProperty(a) ? a : i;
        }),
      };
    })(),
    Ao_mouse = ['mousemove', 'mouseup'],
    Ao_pointer = ['pointermove', 'pointerup'],
    kh = !1;
  function Tu(r) {
    var e = r.pointerType;
    return 'pen' === e || 'touch' === e;
  }
  function Au(r) {
    r && (r.zrByTouch = !0);
  }
  function Eh(r, e) {
    for (
      var t = e, n = !1;
      t &&
      9 !== t.nodeType &&
      !(n = t.domBelongToZr || (t !== e && t === r.painterRoot));

    )
      t = t.parentNode;
    return n;
  }
  var Ph = function r(e, t) {
      (this.stopPropagation = Ke),
        (this.stopImmediatePropagation = Ke),
        (this.preventDefault = Ke),
        (this.type = t.type),
        (this.target = this.currentTarget = e.dom),
        (this.pointerType = t.pointerType),
        (this.clientX = t.clientX),
        (this.clientY = t.clientY);
    },
    Xn = {
      mousedown: function (r) {
        (r = In(this.dom, r)),
          (this.__mayPointerCapture = [r.zrX, r.zrY]),
          this.trigger('mousedown', r);
      },
      mousemove: function (r) {
        r = In(this.dom, r);
        var e = this.__mayPointerCapture;
        e &&
          (r.zrX !== e[0] || r.zrY !== e[1]) &&
          this.__togglePointerCapture(!0),
          this.trigger('mousemove', r);
      },
      mouseup: function (r) {
        (r = In(this.dom, r)),
          this.__togglePointerCapture(!1),
          this.trigger('mouseup', r);
      },
      mouseout: function (r) {
        Eh(this, (r = In(this.dom, r)).toElement || r.relatedTarget) ||
          (this.__pointerCapturing && (r.zrEventControl = 'no_globalout'),
          this.trigger('mouseout', r));
      },
      wheel: function (r) {
        (kh = !0), (r = In(this.dom, r)), this.trigger('mousewheel', r);
      },
      mousewheel: function (r) {
        kh || ((r = In(this.dom, r)), this.trigger('mousewheel', r));
      },
      touchstart: function (r) {
        Au((r = In(this.dom, r))),
          (this.__lastTouchMoment = new Date()),
          this.handler.processGesture(r, 'start'),
          Xn.mousemove.call(this, r),
          Xn.mousedown.call(this, r);
      },
      touchmove: function (r) {
        Au((r = In(this.dom, r))),
          this.handler.processGesture(r, 'change'),
          Xn.mousemove.call(this, r);
      },
      touchend: function (r) {
        Au((r = In(this.dom, r))),
          this.handler.processGesture(r, 'end'),
          Xn.mouseup.call(this, r),
          +new Date() - +this.__lastTouchMoment < 300 && Xn.click.call(this, r);
      },
      pointerdown: function (r) {
        Xn.mousedown.call(this, r);
      },
      pointermove: function (r) {
        Tu(r) || Xn.mousemove.call(this, r);
      },
      pointerup: function (r) {
        Xn.mouseup.call(this, r);
      },
      pointerout: function (r) {
        Tu(r) || Xn.mouseout.call(this, r);
      },
    };
  F(['click', 'dblclick', 'contextmenu'], function (r) {
    Xn[r] = function (e) {
      (e = In(this.dom, e)), this.trigger(r, e);
    };
  });
  var af = {
    pointermove: function (r) {
      Tu(r) || af.mousemove.call(this, r);
    },
    pointerup: function (r) {
      af.mouseup.call(this, r);
    },
    mousemove: function (r) {
      this.trigger('mousemove', r);
    },
    mouseup: function (r) {
      var e = this.__pointerCapturing;
      this.__togglePointerCapture(!1),
        this.trigger('mouseup', r),
        e &&
          ((r.zrEventControl = 'only_globalout'), this.trigger('mouseout', r));
    },
  };
  function Ll(r, e, t, n) {
    (r.mounted[e] = t), (r.listenerOpts[e] = n), As(r.domTarget, e, t, n);
  }
  function sf(r) {
    var e = r.mounted;
    for (var t in e)
      e.hasOwnProperty(t) && Ia(r.domTarget, t, e[t], r.listenerOpts[t]);
    r.mounted = {};
  }
  var Rh = function r(e, t) {
      (this.mounted = {}),
        (this.listenerOpts = {}),
        (this.touching = !1),
        (this.domTarget = e),
        (this.domHandlers = t);
    },
    Bm = (function (r) {
      function e(t, n) {
        var i = r.call(this) || this;
        return (
          (i.__pointerCapturing = !1),
          (i.dom = t),
          (i.painterRoot = n),
          (i._localHandlerScope = new Rh(t, Xn)),
          aa && (i._globalHandlerScope = new Rh(document, af)),
          (function Bv(r, e) {
            var t = e.domHandlers;
            Lt.pointerEventsSupported
              ? F(Ka.pointer, function (n) {
                  Ll(e, n, function (i) {
                    t[n].call(r, i);
                  });
                })
              : (Lt.touchEventsSupported &&
                  F(Ka.touch, function (n) {
                    Ll(e, n, function (i) {
                      t[n].call(r, i),
                        (function Fv(r) {
                          (r.touching = !0),
                            null != r.touchTimer &&
                              (clearTimeout(r.touchTimer),
                              (r.touchTimer = null)),
                            (r.touchTimer = setTimeout(function () {
                              (r.touching = !1), (r.touchTimer = null);
                            }, 700));
                        })(e);
                    });
                  }),
                F(Ka.mouse, function (n) {
                  Ll(e, n, function (i) {
                    (i = Ha(i)), e.touching || t[n].call(r, i);
                  });
                }));
          })(i, i._localHandlerScope),
          i
        );
      }
      return (
        ut(e, r),
        (e.prototype.dispose = function () {
          sf(this._localHandlerScope), aa && sf(this._globalHandlerScope);
        }),
        (e.prototype.setCursor = function (t) {
          this.dom.style && (this.dom.style.cursor = t || 'default');
        }),
        (e.prototype.__togglePointerCapture = function (t) {
          if (
            ((this.__mayPointerCapture = null),
            aa && +this.__pointerCapturing ^ +t)
          ) {
            this.__pointerCapturing = t;
            var n = this._globalHandlerScope;
            t
              ? (function of(r, e) {
                  function t(n) {
                    Ll(
                      e,
                      n,
                      function i(a) {
                        (a = Ha(a)),
                          Eh(r, a.target) ||
                            ((a = (function Mu(r, e) {
                              return In(r.dom, new Ph(r, e), !0);
                            })(r, a)),
                            e.domHandlers[n].call(r, a));
                      },
                      { capture: !0 }
                    );
                  }
                  Lt.pointerEventsSupported
                    ? F(Ao_pointer, t)
                    : Lt.touchEventsSupported || F(Ao_mouse, t);
                })(this, n)
              : sf(n);
          }
        }),
        e
      );
    })(ci),
    Lu = 1;
  Lt.hasGlobalWindow &&
    (Lu = Math.max(
      window.devicePixelRatio ||
        (window.screen &&
          window.screen.deviceXDPI / window.screen.logicalXDPI) ||
        1,
      1
    ));
  var Iu = Lu,
    lf = '#333',
    jo = '#ccc',
    ku = $a;
  function Mo(r) {
    return r > 5e-5 || r < -5e-5;
  }
  var Ko = [],
    Ns = [],
    Nn = [1, 0, 0, 1, 0, 0],
    Il = Math.abs,
    Qa = (function () {
      function r() {}
      return (
        (r.prototype.getLocalTransform = function (e) {
          return r.getLocalTransform(this, e);
        }),
        (r.prototype.setPosition = function (e) {
          (this.x = e[0]), (this.y = e[1]);
        }),
        (r.prototype.setScale = function (e) {
          (this.scaleX = e[0]), (this.scaleY = e[1]);
        }),
        (r.prototype.setSkew = function (e) {
          (this.skewX = e[0]), (this.skewY = e[1]);
        }),
        (r.prototype.setOrigin = function (e) {
          (this.originX = e[0]), (this.originY = e[1]);
        }),
        (r.prototype.needLocalTransform = function () {
          return (
            Mo(this.rotation) ||
            Mo(this.x) ||
            Mo(this.y) ||
            Mo(this.scaleX - 1) ||
            Mo(this.scaleY - 1) ||
            Mo(this.skewX) ||
            Mo(this.skewY)
          );
        }),
        (r.prototype.updateTransform = function () {
          var e = this.parent && this.parent.transform,
            t = this.needLocalTransform(),
            n = this.transform;
          t || e
            ? ((n = n || [1, 0, 0, 1, 0, 0]),
              t ? this.getLocalTransform(n) : ku(n),
              e && (t ? Pi(n, e, n) : mo(n, e)),
              (this.transform = n),
              this._resolveGlobalScaleRatio(n))
            : n && (ku(n), (this.invTransform = null));
        }),
        (r.prototype._resolveGlobalScaleRatio = function (e) {
          var t = this.globalScaleRatio;
          if (null != t && 1 !== t) {
            this.getGlobalScale(Ko);
            var n = Ko[0] < 0 ? -1 : 1,
              i = Ko[1] < 0 ? -1 : 1,
              a = ((Ko[0] - n) * t + n) / Ko[0] || 0,
              o = ((Ko[1] - i) * t + i) / Ko[1] || 0;
            (e[0] *= a), (e[1] *= a), (e[2] *= o), (e[3] *= o);
          }
          (this.invTransform = this.invTransform || [1, 0, 0, 1, 0, 0]),
            xo(this.invTransform, e);
        }),
        (r.prototype.getComputedTransform = function () {
          for (var e = this, t = []; e; ) t.push(e), (e = e.parent);
          for (; (e = t.pop()); ) e.updateTransform();
          return this.transform;
        }),
        (r.prototype.setLocalTransform = function (e) {
          if (e) {
            var t = e[0] * e[0] + e[1] * e[1],
              n = e[2] * e[2] + e[3] * e[3],
              i = Math.atan2(e[1], e[0]),
              a = Math.PI / 2 + i - Math.atan2(e[3], e[2]);
            (n = Math.sqrt(n) * Math.cos(a)),
              (t = Math.sqrt(t)),
              (this.skewX = a),
              (this.skewY = 0),
              (this.rotation = -i),
              (this.x = +e[4]),
              (this.y = +e[5]),
              (this.scaleX = t),
              (this.scaleY = n),
              (this.originX = 0),
              (this.originY = 0);
          }
        }),
        (r.prototype.decomposeTransform = function () {
          if (this.transform) {
            var e = this.parent,
              t = this.transform;
            e && e.transform && (Pi(Ns, e.invTransform, t), (t = Ns));
            var n = this.originX,
              i = this.originY;
            (n || i) &&
              ((Nn[4] = n),
              (Nn[5] = i),
              Pi(Ns, t, Nn),
              (Ns[4] -= n),
              (Ns[5] -= i),
              (t = Ns)),
              this.setLocalTransform(t);
          }
        }),
        (r.prototype.getGlobalScale = function (e) {
          var t = this.transform;
          return (
            (e = e || []),
            t
              ? ((e[0] = Math.sqrt(t[0] * t[0] + t[1] * t[1])),
                (e[1] = Math.sqrt(t[2] * t[2] + t[3] * t[3])),
                t[0] < 0 && (e[0] = -e[0]),
                t[3] < 0 && (e[1] = -e[1]),
                e)
              : ((e[0] = 1), (e[1] = 1), e)
          );
        }),
        (r.prototype.transformCoordToLocal = function (e, t) {
          var n = [e, t],
            i = this.invTransform;
          return i && dn(n, n, i), n;
        }),
        (r.prototype.transformCoordToGlobal = function (e, t) {
          var n = [e, t],
            i = this.transform;
          return i && dn(n, n, i), n;
        }),
        (r.prototype.getLineScale = function () {
          var e = this.transform;
          return e && Il(e[0] - 1) > 1e-10 && Il(e[3] - 1) > 1e-10
            ? Math.sqrt(Il(e[0] * e[3] - e[2] * e[1]))
            : 1;
        }),
        (r.prototype.copyTransform = function (e) {
          Nh(this, e);
        }),
        (r.getLocalTransform = function (e, t) {
          t = t || [];
          var n = e.originX || 0,
            i = e.originY || 0,
            a = e.scaleX,
            o = e.scaleY,
            s = e.anchorX,
            l = e.anchorY,
            u = e.rotation || 0,
            c = e.x,
            f = e.y,
            d = e.skewX ? Math.tan(e.skewX) : 0,
            v = e.skewY ? Math.tan(-e.skewY) : 0;
          if (n || i || s || l) {
            var g = n + s,
              m = i + l;
            (t[4] = -g * a - d * m * o), (t[5] = -m * o - v * g * a);
          } else t[4] = t[5] = 0;
          return (
            (t[0] = a),
            (t[3] = o),
            (t[1] = v * a),
            (t[2] = d * o),
            u && ka(t, t, u),
            (t[4] += n + c),
            (t[5] += i + f),
            t
          );
        }),
        (r.initDefaultProps = (function () {
          var e = r.prototype;
          (e.scaleX = e.scaleY = e.globalScaleRatio = 1),
            (e.x =
              e.y =
              e.originX =
              e.originY =
              e.skewX =
              e.skewY =
              e.rotation =
              e.anchorX =
              e.anchorY =
                0);
        })()),
        r
      );
    })(),
    Pa = [
      'x',
      'y',
      'originX',
      'originY',
      'anchorX',
      'anchorY',
      'rotation',
      'scaleX',
      'scaleY',
      'skewX',
      'skewY',
    ];
  function Nh(r, e) {
    for (var t = 0; t < Pa.length; t++) {
      var n = Pa[t];
      r[n] = e[n];
    }
  }
  var zs = {};
  function gi(r, e) {
    var t = zs[(e = e || ct)];
    t || (t = zs[e] = new Za(500));
    var n = t.get(r);
    return null == n && ((n = Zt.measureText(r, e).width), t.put(r, n)), n;
  }
  function zh(r, e, t, n) {
    var i = gi(r, e),
      a = Eu(e),
      o = El(0, i, t),
      s = Ra(0, a, n);
    return new it(o, s, i, a);
  }
  function kl(r, e, t, n) {
    var i = ((r || '') + '').split('\n');
    if (1 === i.length) return zh(i[0], e, t, n);
    for (var o = new it(0, 0, 0, 0), s = 0; s < i.length; s++) {
      var l = zh(i[s], e, t, n);
      0 === s ? o.copy(l) : o.union(l);
    }
    return o;
  }
  function El(r, e, t) {
    return 'right' === t ? (r -= e) : 'center' === t && (r -= e / 2), r;
  }
  function Ra(r, e, t) {
    return 'middle' === t ? (r -= e / 2) : 'bottom' === t && (r -= e), r;
  }
  function Eu(r) {
    return gi('\u56fd', r);
  }
  function Ni(r, e) {
    return 'string' == typeof r
      ? r.lastIndexOf('%') >= 0
        ? (parseFloat(r) / 100) * e
        : parseFloat(r)
      : r;
  }
  function Pu(r, e, t) {
    var n = e.position || 'inside',
      i = null != e.distance ? e.distance : 5,
      a = t.height,
      o = t.width,
      s = a / 2,
      l = t.x,
      u = t.y,
      c = 'left',
      f = 'top';
    if (n instanceof Array)
      (l += Ni(n[0], t.width)),
        (u += Ni(n[1], t.height)),
        (c = null),
        (f = null);
    else
      switch (n) {
        case 'left':
          (l -= i), (u += s), (c = 'right'), (f = 'middle');
          break;
        case 'right':
          (l += i + o), (u += s), (f = 'middle');
          break;
        case 'top':
          (l += o / 2), (u -= i), (c = 'center'), (f = 'bottom');
          break;
        case 'bottom':
          (l += o / 2), (u += a + i), (c = 'center');
          break;
        case 'inside':
          (l += o / 2), (u += s), (c = 'center'), (f = 'middle');
          break;
        case 'insideLeft':
          (l += i), (u += s), (f = 'middle');
          break;
        case 'insideRight':
          (l += o - i), (u += s), (c = 'right'), (f = 'middle');
          break;
        case 'insideTop':
          (l += o / 2), (u += i), (c = 'center');
          break;
        case 'insideBottom':
          (l += o / 2), (u += a - i), (c = 'center'), (f = 'bottom');
          break;
        case 'insideTopLeft':
          (l += i), (u += i);
          break;
        case 'insideTopRight':
          (l += o - i), (u += i), (c = 'right');
          break;
        case 'insideBottomLeft':
          (l += i), (u += a - i), (f = 'bottom');
          break;
        case 'insideBottomRight':
          (l += o - i), (u += a - i), (c = 'right'), (f = 'bottom');
      }
    return (
      ((r = r || {}).x = l), (r.y = u), (r.align = c), (r.verticalAlign = f), r
    );
  }
  var Vs = '__zr_normal__',
    Qo = Pa.concat(['ignore']),
    Nv = Oe(
      Pa,
      function (r, e) {
        return (r[e] = !0), r;
      },
      { ignore: !1 }
    ),
    Hs = {},
    zv = new it(0, 0, 0, 0),
    Jo = (function () {
      function r(e) {
        (this.id = ir()),
          (this.animators = []),
          (this.currentStates = []),
          (this.states = {}),
          this._init(e);
      }
      return (
        (r.prototype._init = function (e) {
          this.attr(e);
        }),
        (r.prototype.drift = function (e, t, n) {
          switch (this.draggable) {
            case 'horizontal':
              t = 0;
              break;
            case 'vertical':
              e = 0;
          }
          var i = this.transform;
          i || (i = this.transform = [1, 0, 0, 1, 0, 0]),
            (i[4] += e),
            (i[5] += t),
            this.decomposeTransform(),
            this.markRedraw();
        }),
        (r.prototype.beforeUpdate = function () {}),
        (r.prototype.afterUpdate = function () {}),
        (r.prototype.update = function () {
          this.updateTransform(), this.__dirty && this.updateInnerText();
        }),
        (r.prototype.updateInnerText = function (e) {
          var t = this._textContent;
          if (t && (!t.ignore || e)) {
            this.textConfig || (this.textConfig = {});
            var n = this.textConfig,
              i = n.local,
              a = t.innerTransformable,
              o = void 0,
              s = void 0,
              l = !1;
            a.parent = i ? this : null;
            var u = !1;
            if ((a.copyTransform(t), null != n.position)) {
              var c = zv;
              c.copy(n.layoutRect ? n.layoutRect : this.getBoundingRect()),
                i || c.applyTransform(this.transform),
                this.calculateTextPosition
                  ? this.calculateTextPosition(Hs, n, c)
                  : Pu(Hs, n, c),
                (a.x = Hs.x),
                (a.y = Hs.y),
                (o = Hs.align),
                (s = Hs.verticalAlign);
              var f = n.origin;
              if (f && null != n.rotation) {
                var d = void 0,
                  v = void 0;
                'center' === f
                  ? ((d = 0.5 * c.width), (v = 0.5 * c.height))
                  : ((d = Ni(f[0], c.width)), (v = Ni(f[1], c.height))),
                  (u = !0),
                  (a.originX = -a.x + d + (i ? 0 : c.x)),
                  (a.originY = -a.y + v + (i ? 0 : c.y));
              }
            }
            null != n.rotation && (a.rotation = n.rotation);
            var g = n.offset;
            g &&
              ((a.x += g[0]),
              (a.y += g[1]),
              u || ((a.originX = -g[0]), (a.originY = -g[1])));
            var m =
                null == n.inside
                  ? 'string' == typeof n.position &&
                    n.position.indexOf('inside') >= 0
                  : n.inside,
              y =
                this._innerTextDefaultStyle ||
                (this._innerTextDefaultStyle = {}),
              b = void 0,
              w = void 0,
              C = void 0;
            m && this.canBeInsideText()
              ? ((w = n.insideStroke),
                (null == (b = n.insideFill) || 'auto' === b) &&
                  (b = this.getInsideTextFill()),
                (null == w || 'auto' === w) &&
                  ((w = this.getInsideTextStroke(b)), (C = !0)))
              : ((w = n.outsideStroke),
                (null == (b = n.outsideFill) || 'auto' === b) &&
                  (b = this.getOutsideFill()),
                (null == w || 'auto' === w) &&
                  ((w = this.getOutsideStroke(b)), (C = !0))),
              ((b = b || '#000') !== y.fill ||
                w !== y.stroke ||
                C !== y.autoStroke ||
                o !== y.align ||
                s !== y.verticalAlign) &&
                ((l = !0),
                (y.fill = b),
                (y.stroke = w),
                (y.autoStroke = C),
                (y.align = o),
                (y.verticalAlign = s),
                t.setDefaultTextStyle(y)),
              (t.__dirty |= ta),
              l && t.dirtyStyle(!0);
          }
        }),
        (r.prototype.canBeInsideText = function () {
          return !0;
        }),
        (r.prototype.getInsideTextFill = function () {
          return '#fff';
        }),
        (r.prototype.getInsideTextStroke = function (e) {
          return '#000';
        }),
        (r.prototype.getOutsideFill = function () {
          return this.__zr && this.__zr.isDarkMode() ? jo : lf;
        }),
        (r.prototype.getOutsideStroke = function (e) {
          var t = this.__zr && this.__zr.getBackgroundColor(),
            n = 'string' == typeof t && vi(t);
          n || (n = [255, 255, 255, 1]);
          for (var i = n[3], a = this.__zr.isDarkMode(), o = 0; o < 3; o++)
            n[o] = n[o] * i + (a ? 0 : 255) * (1 - i);
          return (n[3] = 1), Bi(n, 'rgba');
        }),
        (r.prototype.traverse = function (e, t) {}),
        (r.prototype.attrKV = function (e, t) {
          'textConfig' === e
            ? this.setTextConfig(t)
            : 'textContent' === e
            ? this.setTextContent(t)
            : 'clipPath' === e
            ? this.setClipPath(t)
            : 'extra' === e
            ? ((this.extra = this.extra || {}), nt(this.extra, t))
            : (this[e] = t);
        }),
        (r.prototype.hide = function () {
          (this.ignore = !0), this.markRedraw();
        }),
        (r.prototype.show = function () {
          (this.ignore = !1), this.markRedraw();
        }),
        (r.prototype.attr = function (e, t) {
          if ('string' == typeof e) this.attrKV(e, t);
          else if (Y(e))
            for (var i = Ne(e), a = 0; a < i.length; a++) {
              var o = i[a];
              this.attrKV(o, e[o]);
            }
          return this.markRedraw(), this;
        }),
        (r.prototype.saveCurrentToNormalState = function (e) {
          this._innerSaveToNormal(e);
          for (
            var t = this._normalState, n = 0;
            n < this.animators.length;
            n++
          ) {
            var i = this.animators[n],
              a = i.__fromStateTransition;
            if (!(i.getLoop() || (a && a !== Vs))) {
              var o = i.targetName;
              i.saveTo(o ? t[o] : t);
            }
          }
        }),
        (r.prototype._innerSaveToNormal = function (e) {
          var t = this._normalState;
          t || (t = this._normalState = {}),
            e.textConfig && !t.textConfig && (t.textConfig = this.textConfig),
            this._savePrimaryToNormal(e, t, Qo);
        }),
        (r.prototype._savePrimaryToNormal = function (e, t, n) {
          for (var i = 0; i < n.length; i++) {
            var a = n[i];
            null != e[a] && !(a in t) && (t[a] = this[a]);
          }
        }),
        (r.prototype.hasState = function () {
          return this.currentStates.length > 0;
        }),
        (r.prototype.getState = function (e) {
          return this.states[e];
        }),
        (r.prototype.ensureState = function (e) {
          var t = this.states;
          return t[e] || (t[e] = {}), t[e];
        }),
        (r.prototype.clearStates = function (e) {
          this.useState(Vs, !1, e);
        }),
        (r.prototype.useState = function (e, t, n, i) {
          var a = e === Vs;
          if (this.hasState() || !a) {
            var s = this.currentStates,
              l = this.stateTransition;
            if (!($(s, e) >= 0) || (!t && 1 !== s.length)) {
              var u;
              if (
                (this.stateProxy && !a && (u = this.stateProxy(e)),
                u || (u = this.states && this.states[e]),
                !u && !a)
              )
                return void He('State ' + e + ' not exists.');
              a || this.saveCurrentToNormalState(u);
              var c = !!((u && u.hoverLayer) || i);
              c && this._toggleHoverLayerFlag(!0),
                this._applyStateObj(
                  e,
                  u,
                  this._normalState,
                  t,
                  !n && !this.__inHover && l && l.duration > 0,
                  l
                );
              var f = this._textContent,
                d = this._textGuide;
              return (
                f && f.useState(e, t, n, c),
                d && d.useState(e, t, n, c),
                a
                  ? ((this.currentStates = []), (this._normalState = {}))
                  : t
                  ? this.currentStates.push(e)
                  : (this.currentStates = [e]),
                this._updateAnimationTargets(),
                this.markRedraw(),
                !c &&
                  this.__inHover &&
                  (this._toggleHoverLayerFlag(!1), (this.__dirty &= ~ta)),
                u
              );
            }
          }
        }),
        (r.prototype.useStates = function (e, t, n) {
          if (e.length) {
            var i = [],
              a = this.currentStates,
              o = e.length,
              s = o === a.length;
            if (s)
              for (var l = 0; l < o; l++)
                if (e[l] !== a[l]) {
                  s = !1;
                  break;
                }
            if (s) return;
            for (l = 0; l < o; l++) {
              var u = e[l],
                c = void 0;
              this.stateProxy && (c = this.stateProxy(u, e)),
                c || (c = this.states[u]),
                c && i.push(c);
            }
            var f = i[o - 1],
              d = !!((f && f.hoverLayer) || n);
            d && this._toggleHoverLayerFlag(!0);
            var v = this._mergeStates(i),
              g = this.stateTransition;
            this.saveCurrentToNormalState(v),
              this._applyStateObj(
                e.join(','),
                v,
                this._normalState,
                !1,
                !t && !this.__inHover && g && g.duration > 0,
                g
              );
            var m = this._textContent,
              y = this._textGuide;
            m && m.useStates(e, t, d),
              y && y.useStates(e, t, d),
              this._updateAnimationTargets(),
              (this.currentStates = e.slice()),
              this.markRedraw(),
              !d &&
                this.__inHover &&
                (this._toggleHoverLayerFlag(!1), (this.__dirty &= ~ta));
          } else this.clearStates();
        }),
        (r.prototype._updateAnimationTargets = function () {
          for (var e = 0; e < this.animators.length; e++) {
            var t = this.animators[e];
            t.targetName && t.changeTarget(this[t.targetName]);
          }
        }),
        (r.prototype.removeState = function (e) {
          var t = $(this.currentStates, e);
          if (t >= 0) {
            var n = this.currentStates.slice();
            n.splice(t, 1), this.useStates(n);
          }
        }),
        (r.prototype.replaceState = function (e, t, n) {
          var i = this.currentStates.slice(),
            a = $(i, e),
            o = $(i, t) >= 0;
          a >= 0 ? (o ? i.splice(a, 1) : (i[a] = t)) : n && !o && i.push(t),
            this.useStates(i);
        }),
        (r.prototype.toggleState = function (e, t) {
          t ? this.useState(e, !0) : this.removeState(e);
        }),
        (r.prototype._mergeStates = function (e) {
          for (var n, t = {}, i = 0; i < e.length; i++) {
            var a = e[i];
            nt(t, a), a.textConfig && nt((n = n || {}), a.textConfig);
          }
          return n && (t.textConfig = n), t;
        }),
        (r.prototype._applyStateObj = function (e, t, n, i, a, o) {
          var s = !(t && i);
          t && t.textConfig
            ? ((this.textConfig = nt({}, i ? this.textConfig : n.textConfig)),
              nt(this.textConfig, t.textConfig))
            : s && n.textConfig && (this.textConfig = n.textConfig);
          for (var l = {}, u = !1, c = 0; c < Qo.length; c++) {
            var f = Qo[c],
              d = a && Nv[f];
            t && null != t[f]
              ? d
                ? ((u = !0), (l[f] = t[f]))
                : (this[f] = t[f])
              : s &&
                null != n[f] &&
                (d ? ((u = !0), (l[f] = n[f])) : (this[f] = n[f]));
          }
          if (!a)
            for (c = 0; c < this.animators.length; c++) {
              var v = this.animators[c],
                g = v.targetName;
              v.getLoop() || v.__changeFinalValue(g ? (t || n)[g] : t || n);
            }
          u && this._transitionState(e, l, o);
        }),
        (r.prototype._attachComponent = function (e) {
          if (e.__zr && !e.__hostTarget)
            throw new Error('Text element has been added to zrender.');
          if (e === this) throw new Error('Recursive component attachment.');
          var t = this.__zr;
          t && e.addSelfToZr(t), (e.__zr = t), (e.__hostTarget = this);
        }),
        (r.prototype._detachComponent = function (e) {
          e.__zr && e.removeSelfFromZr(e.__zr),
            (e.__zr = null),
            (e.__hostTarget = null);
        }),
        (r.prototype.getClipPath = function () {
          return this._clipPath;
        }),
        (r.prototype.setClipPath = function (e) {
          this._clipPath && this._clipPath !== e && this.removeClipPath(),
            this._attachComponent(e),
            (this._clipPath = e),
            this.markRedraw();
        }),
        (r.prototype.removeClipPath = function () {
          var e = this._clipPath;
          e &&
            (this._detachComponent(e),
            (this._clipPath = null),
            this.markRedraw());
        }),
        (r.prototype.getTextContent = function () {
          return this._textContent;
        }),
        (r.prototype.setTextContent = function (e) {
          var t = this._textContent;
          if (t !== e) {
            if (
              (t && t !== e && this.removeTextContent(),
              e.__zr && !e.__hostTarget)
            )
              throw new Error('Text element has been added to zrender.');
            (e.innerTransformable = new Qa()),
              this._attachComponent(e),
              (this._textContent = e),
              this.markRedraw();
          }
        }),
        (r.prototype.setTextConfig = function (e) {
          this.textConfig || (this.textConfig = {}),
            nt(this.textConfig, e),
            this.markRedraw();
        }),
        (r.prototype.removeTextConfig = function () {
          (this.textConfig = null), this.markRedraw();
        }),
        (r.prototype.removeTextContent = function () {
          var e = this._textContent;
          e &&
            ((e.innerTransformable = null),
            this._detachComponent(e),
            (this._textContent = null),
            (this._innerTextDefaultStyle = null),
            this.markRedraw());
        }),
        (r.prototype.getTextGuideLine = function () {
          return this._textGuide;
        }),
        (r.prototype.setTextGuideLine = function (e) {
          this._textGuide &&
            this._textGuide !== e &&
            this.removeTextGuideLine(),
            this._attachComponent(e),
            (this._textGuide = e),
            this.markRedraw();
        }),
        (r.prototype.removeTextGuideLine = function () {
          var e = this._textGuide;
          e &&
            (this._detachComponent(e),
            (this._textGuide = null),
            this.markRedraw());
        }),
        (r.prototype.markRedraw = function () {
          this.__dirty |= ta;
          var e = this.__zr;
          e && (this.__inHover ? e.refreshHover() : e.refresh()),
            this.__hostTarget && this.__hostTarget.markRedraw();
        }),
        (r.prototype.dirty = function () {
          this.markRedraw();
        }),
        (r.prototype._toggleHoverLayerFlag = function (e) {
          this.__inHover = e;
          var t = this._textContent,
            n = this._textGuide;
          t && (t.__inHover = e), n && (n.__inHover = e);
        }),
        (r.prototype.addSelfToZr = function (e) {
          if (this.__zr !== e) {
            this.__zr = e;
            var t = this.animators;
            if (t)
              for (var n = 0; n < t.length; n++) e.animation.addAnimator(t[n]);
            this._clipPath && this._clipPath.addSelfToZr(e),
              this._textContent && this._textContent.addSelfToZr(e),
              this._textGuide && this._textGuide.addSelfToZr(e);
          }
        }),
        (r.prototype.removeSelfFromZr = function (e) {
          if (this.__zr) {
            this.__zr = null;
            var t = this.animators;
            if (t)
              for (var n = 0; n < t.length; n++)
                e.animation.removeAnimator(t[n]);
            this._clipPath && this._clipPath.removeSelfFromZr(e),
              this._textContent && this._textContent.removeSelfFromZr(e),
              this._textGuide && this._textGuide.removeSelfFromZr(e);
          }
        }),
        (r.prototype.animate = function (e, t, n) {
          var i = e ? this[e] : this;
          if (i) {
            var a = new Ih(i, t, n);
            return e && (a.targetName = e), this.addAnimator(a, e), a;
          }
          He('Property "' + e + '" is not existed in element ' + this.id);
        }),
        (r.prototype.addAnimator = function (e, t) {
          var n = this.__zr,
            i = this;
          e
            .during(function () {
              i.updateDuringAnimation(t);
            })
            .done(function () {
              var a = i.animators,
                o = $(a, e);
              o >= 0 && a.splice(o, 1);
            }),
            this.animators.push(e),
            n && n.animation.addAnimator(e),
            n && n.wakeUp();
        }),
        (r.prototype.updateDuringAnimation = function (e) {
          this.markRedraw();
        }),
        (r.prototype.stopAnimation = function (e, t) {
          for (
            var n = this.animators, i = n.length, a = [], o = 0;
            o < i;
            o++
          ) {
            var s = n[o];
            e && e !== s.scope ? a.push(s) : s.stop(t);
          }
          return (this.animators = a), this;
        }),
        (r.prototype.animateTo = function (e, t, n) {
          Gs(this, e, t, n);
        }),
        (r.prototype.animateFrom = function (e, t, n) {
          Gs(this, e, t, n, !0);
        }),
        (r.prototype._transitionState = function (e, t, n, i) {
          for (var a = Gs(this, t, n, i), o = 0; o < a.length; o++)
            a[o].__fromStateTransition = e;
        }),
        (r.prototype.getBoundingRect = function () {
          return null;
        }),
        (r.prototype.getPaintRect = function () {
          return null;
        }),
        (r.initDefaultProps = (function () {
          var e = r.prototype;
          (e.type = 'element'),
            (e.name = ''),
            (e.ignore =
              e.silent =
              e.isGroup =
              e.draggable =
              e.dragging =
              e.ignoreClip =
              e.__inHover =
                !1),
            (e.__dirty = ta);
          var t = {};
          function n(a, o, s) {
            t[a + o + s] ||
              (console.warn(
                "DEPRECATED: '" +
                  a +
                  "' has been deprecated. use '" +
                  o +
                  "', '" +
                  s +
                  "' instead"
              ),
              (t[a + o + s] = !0));
          }
          function i(a, o, s, l) {
            function u(c, f) {
              Object.defineProperty(f, 0, {
                get: function () {
                  return c[s];
                },
                set: function (d) {
                  c[s] = d;
                },
              }),
                Object.defineProperty(f, 1, {
                  get: function () {
                    return c[l];
                  },
                  set: function (d) {
                    c[l] = d;
                  },
                });
            }
            Object.defineProperty(e, a, {
              get: function () {
                return n(a, s, l), this[o] || u(this, (this[o] = [])), this[o];
              },
              set: function (c) {
                n(a, s, l),
                  (this[s] = c[0]),
                  (this[l] = c[1]),
                  (this[o] = c),
                  u(this, c);
              },
            });
          }
          Object.defineProperty &&
            (i('position', '_legacyPos', 'x', 'y'),
            i('scale', '_legacyScale', 'scaleX', 'scaleY'),
            i('origin', '_legacyOrigin', 'originX', 'originY'));
        })()),
        r
      );
    })();
  function Gs(r, e, t, n, i) {
    var a = [];
    $s(r, '', r, e, (t = t || {}), n, a, i);
    var o = a.length,
      s = !1,
      l = t.done,
      u = t.aborted,
      c = function () {
        (s = !0), --o <= 0 && (s ? l && l() : u && u());
      },
      f = function () {
        --o <= 0 && (s ? l && l() : u && u());
      };
    o || (l && l()),
      a.length > 0 &&
        t.during &&
        a[0].during(function (g, m) {
          t.during(m);
        });
    for (var d = 0; d < a.length; d++) {
      var v = a[d];
      c && v.done(c),
        f && v.aborted(f),
        t.force && v.duration(t.duration),
        v.start(t.easing);
    }
    return a;
  }
  function Ws(r, e, t) {
    for (var n = 0; n < t; n++) r[n] = e[n];
  }
  function Vv(r, e, t) {
    if (sr(e[t]))
      if ((sr(r[t]) || (r[t] = []), Q(e[t]))) {
        var n = e[t].length;
        r[t].length !== n &&
          ((r[t] = new e[t].constructor(n)), Ws(r[t], e[t], n));
      } else {
        var i = e[t],
          a = r[t],
          o = i.length;
        if (
          (function Ru(r) {
            return sr(r[0]);
          })(i)
        )
          for (var s = i[0].length, l = 0; l < o; l++)
            a[l]
              ? Ws(a[l], i[l], s)
              : (a[l] = Array.prototype.slice.call(i[l]));
        else Ws(a, i, o);
        a.length = i.length;
      }
    else r[t] = e[t];
  }
  function $s(r, e, t, n, i, a, o, s) {
    for (
      var l = Ne(n),
        u = i.duration,
        c = i.delay,
        f = i.additive,
        d = i.setToFinal,
        v = !Y(a),
        g = r.animators,
        m = [],
        y = 0;
      y < l.length;
      y++
    ) {
      var w = n[(b = l[y])];
      if (null != w && null != t[b] && (v || a[b]))
        if (!Y(w) || sr(w) || Pt(w)) m.push(b);
        else {
          if (e) {
            s || ((t[b] = w), r.updateDuringAnimation(e));
            continue;
          }
          $s(r, b, t[b], w, i, a && a[b], o, s);
        }
      else s || ((t[b] = w), r.updateDuringAnimation(e), m.push(b));
    }
    var C = m.length;
    if (!f && C)
      for (var D = 0; D < g.length; D++)
        if ((L = g[D]).targetName === e && L.stopTracks(m)) {
          var E = $(g, L);
          g.splice(E, 1);
        }
    if (
      (i.force ||
        ((m = je(m, function (G) {
          return !(function Hv(r, e) {
            return (
              r === e ||
              (sr(r) &&
                sr(e) &&
                (function ts(r, e) {
                  var t = r.length;
                  if (t !== e.length) return !1;
                  for (var n = 0; n < t; n++) if (r[n] !== e[n]) return !1;
                  return !0;
                })(r, e))
            );
          })(n[G], t[G]);
        })),
        (C = m.length)),
      C > 0 || (i.force && !o.length))
    ) {
      var L,
        O = void 0,
        z = void 0,
        H = void 0;
      if (s)
        for (z = {}, d && (O = {}), D = 0; D < C; D++)
          (z[(b = m[D])] = t[b]), d ? (O[b] = n[b]) : (t[b] = n[b]);
      else if (d)
        for (H = {}, D = 0; D < C; D++) {
          var b;
          (H[(b = m[D])] = Os(t[b])), Vv(t, n, b);
        }
      ((L = new Ih(
        t,
        !1,
        !1,
        f
          ? je(g, function (X) {
              return X.targetName === e;
            })
          : null
      )).targetName = e),
        i.scope && (L.scope = i.scope),
        d && O && L.whenWithKeys(0, O, m),
        H && L.whenWithKeys(0, H, m),
        L.whenWithKeys(u ?? 500, s ? z : n, m).delay(c || 0),
        r.addAnimator(L, e),
        o.push(L);
    }
  }
  Ee(Jo, ci), Ee(Jo, Qa);
  var Qe = (function (r) {
    function e(t) {
      var n = r.call(this) || this;
      return (n.isGroup = !0), (n._children = []), n.attr(t), n;
    }
    return (
      ut(e, r),
      (e.prototype.childrenRef = function () {
        return this._children;
      }),
      (e.prototype.children = function () {
        return this._children.slice();
      }),
      (e.prototype.childAt = function (t) {
        return this._children[t];
      }),
      (e.prototype.childOfName = function (t) {
        for (var n = this._children, i = 0; i < n.length; i++)
          if (n[i].name === t) return n[i];
      }),
      (e.prototype.childCount = function () {
        return this._children.length;
      }),
      (e.prototype.add = function (t) {
        if (
          t &&
          (t !== this &&
            t.parent !== this &&
            (this._children.push(t), this._doAdd(t)),
          t.__hostTarget)
        )
          throw 'This elemenet has been used as an attachment';
        return this;
      }),
      (e.prototype.addBefore = function (t, n) {
        if (t && t !== this && t.parent !== this && n && n.parent === this) {
          var i = this._children,
            a = i.indexOf(n);
          a >= 0 && (i.splice(a, 0, t), this._doAdd(t));
        }
        return this;
      }),
      (e.prototype.replace = function (t, n) {
        var i = $(this._children, t);
        return i >= 0 && this.replaceAt(n, i), this;
      }),
      (e.prototype.replaceAt = function (t, n) {
        var i = this._children,
          a = i[n];
        if (t && t !== this && t.parent !== this && t !== a) {
          (i[n] = t), (a.parent = null);
          var o = this.__zr;
          o && a.removeSelfFromZr(o), this._doAdd(t);
        }
        return this;
      }),
      (e.prototype._doAdd = function (t) {
        t.parent && t.parent.remove(t), (t.parent = this);
        var n = this.__zr;
        n && n !== t.__zr && t.addSelfToZr(n), n && n.refresh();
      }),
      (e.prototype.remove = function (t) {
        var n = this.__zr,
          i = this._children,
          a = $(i, t);
        return (
          a < 0 ||
            (i.splice(a, 1),
            (t.parent = null),
            n && t.removeSelfFromZr(n),
            n && n.refresh()),
          this
        );
      }),
      (e.prototype.removeAll = function () {
        for (var t = this._children, n = this.__zr, i = 0; i < t.length; i++) {
          var a = t[i];
          n && a.removeSelfFromZr(n), (a.parent = null);
        }
        return (t.length = 0), this;
      }),
      (e.prototype.eachChild = function (t, n) {
        for (var i = this._children, a = 0; a < i.length; a++)
          t.call(n, i[a], a);
        return this;
      }),
      (e.prototype.traverse = function (t, n) {
        for (var i = 0; i < this._children.length; i++) {
          var a = this._children[i],
            o = t.call(n, a);
          a.isGroup && !o && a.traverse(t, n);
        }
        return this;
      }),
      (e.prototype.addSelfToZr = function (t) {
        r.prototype.addSelfToZr.call(this, t);
        for (var n = 0; n < this._children.length; n++)
          this._children[n].addSelfToZr(t);
      }),
      (e.prototype.removeSelfFromZr = function (t) {
        r.prototype.removeSelfFromZr.call(this, t);
        for (var n = 0; n < this._children.length; n++)
          this._children[n].removeSelfFromZr(t);
      }),
      (e.prototype.getBoundingRect = function (t) {
        for (
          var n = new it(0, 0, 0, 0),
            i = t || this._children,
            a = [],
            o = null,
            s = 0;
          s < i.length;
          s++
        ) {
          var l = i[s];
          if (!l.ignore && !l.invisible) {
            var u = l.getBoundingRect(),
              c = l.getLocalTransform(a);
            c
              ? (it.applyTransform(n, u, c), (o = o || n.clone()).union(n))
              : (o = o || u.clone()).union(u);
          }
        }
        return o || n;
      }),
      e
    );
  })(Jo);
  Qe.prototype.type = 'group';
  var Pl = {},
    Us = {},
    Gv = (function () {
      function r(e, t, n) {
        var i = this;
        (this._sleepAfterStill = 10),
          (this._stillFrameAccum = 0),
          (this._needsRefresh = !0),
          (this._needsRefreshHover = !0),
          (this._darkMode = !1),
          (n = n || {}),
          (this.dom = t),
          (this.id = e);
        var a = new Yc(),
          o = n.renderer || 'canvas';
        if ((Pl[o] || (o = Ne(Pl)[0]), !Pl[o]))
          throw new Error(
            "Renderer '" + o + "' is not imported. Please import it first."
          );
        n.useDirtyRect = null != n.useDirtyRect && n.useDirtyRect;
        var s = new Pl[o](t, a, n, e),
          l = n.ssr || s.ssrOnly;
        (this.storage = a), (this.painter = s);
        var v,
          u =
            Lt.node || Lt.worker || l
              ? null
              : new Bm(s.getViewportRoot(), s.root),
          c = n.useCoarsePointer;
        (null == c || 'auto' === c ? Lt.touchEventsSupported : !!c) &&
          (v = B(n.pointerSize, 44)),
          (this.handler = new xr(a, s, u, s.root, v)),
          (this.animation = new ia({
            stage: {
              update: l
                ? null
                : function () {
                    return i._flush(!0);
                  },
            },
          })),
          l || this.animation.start();
      }
      return (
        (r.prototype.add = function (e) {
          e && (this.storage.addRoot(e), e.addSelfToZr(this), this.refresh());
        }),
        (r.prototype.remove = function (e) {
          e &&
            (this.storage.delRoot(e), e.removeSelfFromZr(this), this.refresh());
        }),
        (r.prototype.configLayer = function (e, t) {
          this.painter.configLayer && this.painter.configLayer(e, t),
            this.refresh();
        }),
        (r.prototype.setBackgroundColor = function (e) {
          this.painter.setBackgroundColor && this.painter.setBackgroundColor(e),
            this.refresh(),
            (this._backgroundColor = e),
            (this._darkMode = (function _i(r) {
              if (!r) return !1;
              if ('string' == typeof r) return Ps(r, 1) < 0.4;
              if (r.colorStops) {
                for (
                  var e = r.colorStops, t = 0, n = e.length, i = 0;
                  i < n;
                  i++
                )
                  t += Ps(e[i].color, 1);
                return (t /= n) < 0.4;
              }
              return !1;
            })(e));
        }),
        (r.prototype.getBackgroundColor = function () {
          return this._backgroundColor;
        }),
        (r.prototype.setDarkMode = function (e) {
          this._darkMode = e;
        }),
        (r.prototype.isDarkMode = function () {
          return this._darkMode;
        }),
        (r.prototype.refreshImmediately = function (e) {
          e || this.animation.update(!0),
            (this._needsRefresh = !1),
            this.painter.refresh(),
            (this._needsRefresh = !1);
        }),
        (r.prototype.refresh = function () {
          (this._needsRefresh = !0), this.animation.start();
        }),
        (r.prototype.flush = function () {
          this._flush(!1);
        }),
        (r.prototype._flush = function (e) {
          var t,
            n = Bs();
          this._needsRefresh && ((t = !0), this.refreshImmediately(e)),
            this._needsRefreshHover &&
              ((t = !0), this.refreshHoverImmediately());
          var i = Bs();
          t
            ? ((this._stillFrameAccum = 0),
              this.trigger('rendered', { elapsedTime: i - n }))
            : this._sleepAfterStill > 0 &&
              (this._stillFrameAccum++,
              this._stillFrameAccum > this._sleepAfterStill &&
                this.animation.stop());
        }),
        (r.prototype.setSleepAfterStill = function (e) {
          this._sleepAfterStill = e;
        }),
        (r.prototype.wakeUp = function () {
          this.animation.start(), (this._stillFrameAccum = 0);
        }),
        (r.prototype.refreshHover = function () {
          this._needsRefreshHover = !0;
        }),
        (r.prototype.refreshHoverImmediately = function () {
          (this._needsRefreshHover = !1),
            this.painter.refreshHover &&
              'canvas' === this.painter.getType() &&
              this.painter.refreshHover();
        }),
        (r.prototype.resize = function (e) {
          this.painter.resize((e = e || {}).width, e.height),
            this.handler.resize();
        }),
        (r.prototype.clearAnimation = function () {
          this.animation.clear();
        }),
        (r.prototype.getWidth = function () {
          return this.painter.getWidth();
        }),
        (r.prototype.getHeight = function () {
          return this.painter.getHeight();
        }),
        (r.prototype.setCursorStyle = function (e) {
          this.handler.setCursorStyle(e);
        }),
        (r.prototype.findHover = function (e, t) {
          return this.handler.findHover(e, t);
        }),
        (r.prototype.on = function (e, t, n) {
          return this.handler.on(e, t, n), this;
        }),
        (r.prototype.off = function (e, t) {
          this.handler.off(e, t);
        }),
        (r.prototype.trigger = function (e, t) {
          this.handler.trigger(e, t);
        }),
        (r.prototype.clear = function () {
          for (var e = this.storage.getRoots(), t = 0; t < e.length; t++)
            e[t] instanceof Qe && e[t].removeSelfFromZr(this);
          this.storage.delAllRoots(), this.painter.clear();
        }),
        (r.prototype.dispose = function () {
          this.animation.stop(),
            this.clear(),
            this.storage.dispose(),
            this.painter.dispose(),
            this.handler.dispose(),
            (this.animation =
              this.storage =
              this.painter =
              this.handler =
                null),
            (function Nm(r) {
              delete Us[r];
            })(this.id);
        }),
        r
      );
    })();
  function Vh(r, e) {
    var t = new Gv(ir(), r, e);
    return (Us[t.id] = t), t;
  }
  function Yv(r, e) {
    Pl[r] = e;
  }
  var es = Object.freeze({
      __proto__: null,
      init: Vh,
      dispose: function Wv(r) {
        r.dispose();
      },
      disposeAll: function $v() {
        for (var r in Us) Us.hasOwnProperty(r) && Us[r].dispose();
        Us = {};
      },
      getInstance: function Uv(r) {
        return Us[r];
      },
      registerPainter: Yv,
      version: '5.4.4',
    }),
    Ou = 20;
  function kr(r, e, t, n) {
    var i = e[0],
      a = e[1],
      o = t[0],
      s = t[1],
      l = a - i,
      u = s - o;
    if (0 === l) return 0 === u ? o : (o + s) / 2;
    if (n)
      if (l > 0) {
        if (r <= i) return o;
        if (r >= a) return s;
      } else {
        if (r >= i) return o;
        if (r <= a) return s;
      }
    else {
      if (r === i) return o;
      if (r === a) return s;
    }
    return ((r - i) / l) * u + o;
  }
  function Te(r, e) {
    switch (r) {
      case 'center':
      case 'middle':
        r = '50%';
        break;
      case 'left':
      case 'top':
        r = '0%';
        break;
      case 'right':
      case 'bottom':
        r = '100%';
    }
    return ht(r)
      ? (function Fu(r) {
          return r.replace(/^\s+|\s+$/g, '');
        })(r).match(/%$/)
        ? (parseFloat(r) / 100) * e
        : parseFloat(r)
      : null == r
      ? NaN
      : +r;
  }
  function yn(r, e, t) {
    return (
      null == e && (e = 10),
      (e = Math.min(Math.max(0, e), Ou)),
      (r = (+r).toFixed(e)),
      t ? r : +r
    );
  }
  function Zn(r) {
    return (
      r.sort(function (e, t) {
        return e - t;
      }),
      r
    );
  }
  function xa(r) {
    if (((r = +r), isNaN(r))) return 0;
    if (r > 1e-14)
      for (var e = 1, t = 0; t < 15; t++, e *= 10)
        if (Math.round(r * e) / e === r) return t;
    return Bu(r);
  }
  function Bu(r) {
    var e = r.toString().toLowerCase(),
      t = e.indexOf('e'),
      n = t > 0 ? +e.slice(t + 1) : 0,
      i = t > 0 ? t : e.length,
      a = e.indexOf('.');
    return Math.max(0, (a < 0 ? 0 : i - 1 - a) - n);
  }
  function uf(r, e) {
    var t = Math.log,
      n = Math.LN10,
      i = Math.floor(t(r[1] - r[0]) / n),
      a = Math.round(t(Math.abs(e[1] - e[0])) / n),
      o = Math.min(Math.max(-i + a, 0), 20);
    return isFinite(o) ? o : 20;
  }
  function Ys(r, e) {
    var t = Oe(
      r,
      function (v, g) {
        return v + (isNaN(g) ? 0 : g);
      },
      0
    );
    if (0 === t) return [];
    for (
      var n = Math.pow(10, e),
        i = Ut(r, function (v) {
          return ((isNaN(v) ? 0 : v) / t) * n * 100;
        }),
        a = 100 * n,
        o = Ut(i, function (v) {
          return Math.floor(v);
        }),
        s = Oe(
          o,
          function (v, g) {
            return v + g;
          },
          0
        ),
        l = Ut(i, function (v, g) {
          return v - o[g];
        });
      s < a;

    ) {
      for (
        var u = Number.NEGATIVE_INFINITY, c = null, f = 0, d = l.length;
        f < d;
        ++f
      )
        l[f] > u && ((u = l[f]), (c = f));
      ++o[c], (l[c] = 0), ++s;
    }
    return Ut(o, function (v) {
      return v / n;
    });
  }
  function Hh(r, e) {
    var t = Math.max(xa(r), xa(e)),
      n = r + e;
    return t > Ou ? n : yn(n, t);
  }
  var Nu = 9007199254740991;
  function zu(r) {
    var e = 2 * Math.PI;
    return ((r % e) + e) % e;
  }
  function Lo(r) {
    return r > -1e-4 && r < 1e-4;
  }
  var Xv =
    /^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;
  function zi(r) {
    if (r instanceof Date) return r;
    if (ht(r)) {
      var e = Xv.exec(r);
      if (!e) return new Date(NaN);
      if (e[8]) {
        var t = +e[4] || 0;
        return (
          'Z' !== e[8].toUpperCase() && (t -= +e[8].slice(0, 3)),
          new Date(
            Date.UTC(
              +e[1],
              +(e[2] || 1) - 1,
              +e[3] || 1,
              t,
              +(e[5] || 0),
              +e[6] || 0,
              e[7] ? +e[7].substring(0, 3) : 0
            )
          )
        );
      }
      return new Date(
        +e[1],
        +(e[2] || 1) - 1,
        +e[3] || 1,
        +e[4] || 0,
        +(e[5] || 0),
        +e[6] || 0,
        e[7] ? +e[7].substring(0, 3) : 0
      );
    }
    return null == r ? new Date(NaN) : new Date(Math.round(r));
  }
  function Vu(r) {
    return Math.pow(10, Hu(r));
  }
  function Hu(r) {
    if (0 === r) return 0;
    var e = Math.floor(Math.log(r) / Math.LN10);
    return r / Math.pow(10, e) >= 10 && e++, e;
  }
  function Xs(r, e) {
    var t = Hu(r),
      n = Math.pow(10, t),
      i = r / n;
    return (
      (r =
        (e
          ? i < 1.5
            ? 1
            : i < 2.5
            ? 2
            : i < 4
            ? 3
            : i < 7
            ? 5
            : 10
          : i < 1
          ? 1
          : i < 2
          ? 2
          : i < 3
          ? 3
          : i < 5
          ? 5
          : 10) * n),
      t >= -20 ? +r.toFixed(t < 0 ? -t : 0) : r
    );
  }
  function Gu(r, e) {
    var t = (r.length - 1) * e + 1,
      n = Math.floor(t),
      i = +r[n - 1],
      a = t - n;
    return a ? i + a * (r[n] - i) : i;
  }
  function ff(r) {
    r.sort(function (l, u) {
      return s(l, u, 0) ? -1 : 1;
    });
    for (var e = -1 / 0, t = 1, n = 0; n < r.length; ) {
      for (var i = r[n].interval, a = r[n].close, o = 0; o < 2; o++)
        i[o] <= e && ((i[o] = e), (a[o] = o ? 1 : 1 - t)),
          (e = i[o]),
          (t = a[o]);
      i[0] === i[1] && a[0] * a[1] != 1 ? r.splice(n, 1) : n++;
    }
    return r;
    function s(l, u, c) {
      return (
        l.interval[c] < u.interval[c] ||
        (l.interval[c] === u.interval[c] &&
          (l.close[c] - u.close[c] == (c ? -1 : 1) || (!c && s(l, u, 1))))
      );
    }
  }
  function ba(r) {
    var e = parseFloat(r);
    return e == r && (0 !== e || !ht(r) || r.indexOf('x') <= 0) ? e : NaN;
  }
  function Wu(r) {
    return !isNaN(ba(r));
  }
  function Gh() {
    return Math.round(9 * Math.random());
  }
  function Wh(r, e) {
    return 0 === e ? r : Wh(e, r % e);
  }
  function Ol(r, e) {
    return null == r ? e : null == e ? r : (r * e) / Wh(r, e);
  }
  var $u = '[ECharts] ',
    hf = {},
    Zv = typeof console < 'u' && console.warn && console.log;
  function Uu(r, e, t) {
    if (Zv) {
      if (t) {
        if (hf[e]) return;
        hf[e] = !0;
      }
      console[r]($u + e);
    }
  }
  function ln(r, e) {
    Uu('warn', r, e);
  }
  function qn(r, e) {
    Uu('error', r, e);
  }
  function oa(r) {
    Uu('warn', 'DEPRECATED: ' + r, !0);
  }
  function un(r, e, t) {
    oa((t ? '[' + t + ']' : '') + r + ' is deprecated, use ' + e + ' instead.');
  }
  function mi() {
    for (var r = [], e = 0; e < arguments.length; e++) r[e] = arguments[e];
    var n = function (i) {
      return void 0 === i
        ? 'undefined'
        : i === 1 / 0
        ? 'Infinity'
        : i === -1 / 0
        ? '-Infinity'
        : Wt(i)
        ? 'NaN'
        : i instanceof Date
        ? 'Date(' + i.toISOString() + ')'
        : fe(i)
        ? 'function () { ... }'
        : Me(i)
        ? i + ''
        : null;
    };
    return Ut(r, function (i) {
      if (ht(i)) return i;
      var a = n(i);
      if (null != a) return a;
      if (!(typeof JSON < 'u' && JSON.stringify)) return '?';
      try {
        return JSON.stringify(i, function (o, s) {
          return n(s) ?? s;
        });
      } catch {
        return '?';
      }
    }).join(' ');
  }
  function zr(r) {
    throw new Error(r);
  }
  function jv(r, e, t) {
    return (e - r) * t + r;
  }
  var Kv = 'series\0',
    vn = '\0_ec_\0';
  function qr(r) {
    return r instanceof Array ? r : null == r ? [] : [r];
  }
  function Oa(r, e, t) {
    if (r) {
      (r[e] = r[e] || {}),
        (r.emphasis = r.emphasis || {}),
        (r.emphasis[e] = r.emphasis[e] || {});
      for (var n = 0, i = t.length; n < i; n++) {
        var a = t[n];
        !r.emphasis[e].hasOwnProperty(a) &&
          r[e].hasOwnProperty(a) &&
          (r.emphasis[e][a] = r[e][a]);
      }
    }
  }
  var _a = [
    'fontStyle',
    'fontWeight',
    'fontSize',
    'fontFamily',
    'rich',
    'tag',
    'color',
    'textBorderColor',
    'textBorderWidth',
    'width',
    'height',
    'lineHeight',
    'align',
    'verticalAlign',
    'baseline',
    'shadowColor',
    'shadowBlur',
    'shadowOffsetX',
    'shadowOffsetY',
    'textShadowColor',
    'textShadowBlur',
    'textShadowOffsetX',
    'textShadowOffsetY',
    'backgroundColor',
    'borderColor',
    'borderWidth',
    'borderRadius',
    'padding',
  ];
  function Io(r) {
    return !Y(r) || Tt(r) || r instanceof Date ? r : r.value;
  }
  function $h(r) {
    return Y(r) && !(r instanceof Array);
  }
  function Uh(r, e, t) {
    var n = 'normalMerge' === t,
      i = 'replaceMerge' === t,
      a = 'replaceAll' === t;
    (r = r || []), (e = (e || []).slice());
    var o = Nt();
    F(e, function (l, u) {
      Y(l)
        ? (null != l.id && !np(l.id) && Yu(l.id),
          null != l.name && !np(l.name) && Yu(l.name))
        : (e[u] = null);
    });
    var s = (function Qv(r, e, t) {
      var n = [];
      if ('replaceAll' === t) return n;
      for (var i = 0; i < r.length; i++) {
        var a = r[i];
        a && null != a.id && e.set(a.id, i),
          n.push({
            existing: 'replaceMerge' === t || Bl(a) ? null : a,
            newOption: null,
            keyInfo: null,
            brandNew: null,
          });
      }
      return n;
    })(r, o, t);
    return (
      (n || i) &&
        (function Jv(r, e, t, n) {
          F(n, function (i, a) {
            if (i && null != i.id) {
              var o = Fl(i.id),
                s = t.get(o);
              if (null != s) {
                var l = r[s];
                lt(!l.newOption, 'Duplicated option on id "' + o + '".'),
                  (l.newOption = i),
                  (l.existing = e[s]),
                  (n[a] = null);
              }
            }
          });
        })(s, r, o, e),
      n &&
        (function tp(r, e) {
          F(e, function (t, n) {
            if (t && null != t.name)
              for (var i = 0; i < r.length; i++) {
                var a = r[i].existing;
                if (
                  !r[i].newOption &&
                  a &&
                  (null == a.id || null == t.id) &&
                  !Bl(t) &&
                  !Bl(a) &&
                  rn('name', a, t)
                )
                  return (r[i].newOption = t), void (e[n] = null);
              }
          });
        })(s, e),
      n || i
        ? (function ep(r, e, t) {
            F(e, function (n) {
              if (n) {
                for (
                  var i, a = 0;
                  (i = r[a]) &&
                  (i.newOption ||
                    Bl(i.existing) ||
                    (i.existing && null != n.id && !rn('id', n, i.existing)));

                )
                  a++;
                i
                  ? ((i.newOption = n), (i.brandNew = t))
                  : r.push({
                      newOption: n,
                      brandNew: t,
                      existing: null,
                      keyInfo: null,
                    }),
                  a++;
              }
            });
          })(s, e, i)
        : a &&
          (function Yh(r, e) {
            F(e, function (t) {
              r.push({
                newOption: t,
                brandNew: !0,
                existing: null,
                keyInfo: null,
              });
            });
          })(s, e),
      (function rp(r) {
        var e = Nt();
        F(r, function (t) {
          var n = t.existing;
          n && e.set(n.id, t);
        }),
          F(r, function (t) {
            var n = t.newOption;
            lt(
              !n || null == n.id || !e.get(n.id) || e.get(n.id) === t,
              'id duplicates: ' + (n && n.id)
            ),
              n && null != n.id && e.set(n.id, t),
              !t.keyInfo && (t.keyInfo = {});
          }),
          F(r, function (t, n) {
            var i = t.existing,
              a = t.newOption,
              o = t.keyInfo;
            if (Y(a)) {
              if (
                ((o.name = null != a.name ? Fl(a.name) : i ? i.name : Kv + n),
                i)
              )
                o.id = Fl(i.id);
              else if (null != a.id) o.id = Fl(a.id);
              else {
                var s = 0;
                do {
                  o.id = '\0' + o.name + '\0' + s++;
                } while (e.get(o.id));
              }
              e.set(o.id, t);
            }
          });
      })(s),
      s
    );
  }
  function rn(r, e, t) {
    var n = gn(e[r], null),
      i = gn(t[r], null);
    return null != n && null != i && n === i;
  }
  function Fl(r) {
    if (null == r) throw new Error();
    return gn(r, '');
  }
  function gn(r, e) {
    return null == r ? e : ht(r) ? r : U(r) || It(r) ? r + '' : e;
  }
  function Yu(r) {
    ln('`' + r + '` is invalid id or name. Must be a string or number.');
  }
  function np(r) {
    return It(r) || Wu(r);
  }
  function xn(r) {
    var e = r.name;
    return !(!e || !e.indexOf(Kv));
  }
  function Bl(r) {
    return r && null != r.id && 0 === Fl(r.id).indexOf(vn);
  }
  function x(r, e) {
    return null != e.dataIndexInside
      ? e.dataIndexInside
      : null != e.dataIndex
      ? Tt(e.dataIndex)
        ? Ut(e.dataIndex, function (t) {
            return r.indexOfRawIndex(t);
          })
        : r.indexOfRawIndex(e.dataIndex)
      : null != e.name
      ? Tt(e.name)
        ? Ut(e.name, function (t) {
            return r.indexOfName(t);
          })
        : r.indexOfName(e.name)
      : void 0;
  }
  function S() {
    var r = '__ec_inner_' + T++;
    return function (e) {
      return e[r] || (e[r] = {});
    };
  }
  var T = Gh();
  function k(r, e, t) {
    var n = P(e, t),
      a = n.queryOptionMap,
      s = n.others,
      l = t ? t.defaultMainType : null;
    return (
      !n.mainTypeSpecified && l && a.set(l, {}),
      a.each(function (u, c) {
        var f = q(r, c, u, {
          useDefault: l === c,
          enableAll: !t || null == t.enableAll || t.enableAll,
          enableNone: !t || null == t.enableNone || t.enableNone,
        });
        (s[c + 'Models'] = f.models), (s[c + 'Model'] = f.models[0]);
      }),
      s
    );
  }
  function P(r, e) {
    var t;
    if (ht(r)) {
      var n = {};
      (n[r + 'Index'] = 0), (t = n);
    } else t = r;
    var i = Nt(),
      a = {},
      o = !1;
    return (
      F(t, function (s, l) {
        if ('dataIndex' !== l && 'dataIndexInside' !== l) {
          var u = l.match(/^(\w+)(Index|Id|Name)$/) || [],
            c = u[1],
            f = (u[2] || '').toLowerCase();
          !c ||
            !f ||
            (e && e.includeMainTypes && $(e.includeMainTypes, c) < 0) ||
            ((o = o || !!c), ((i.get(c) || i.set(c, {}))[f] = s));
        } else a[l] = s;
      }),
      { mainTypeSpecified: o, queryOptionMap: i, others: a }
    );
  }
  var N = { useDefault: !0, enableAll: !1, enableNone: !1 },
    V = { useDefault: !1, enableAll: !0, enableNone: !0 };
  function q(r, e, t, n) {
    n = n || N;
    var i = t.index,
      a = t.id,
      o = t.name,
      s = { models: null, specified: null != i || null != a || null != o };
    if (!s.specified) {
      var l = void 0;
      return (s.models = n.useDefault && (l = r.getComponent(e)) ? [l] : []), s;
    }
    return 'none' === i || !1 === i
      ? (lt(
          n.enableNone,
          '`"none"` or `false` is not a valid value on index option.'
        ),
        (s.models = []),
        s)
      : ('all' === i &&
          (lt(n.enableAll, '`"all"` is not a valid value on index option.'),
          (i = a = o = null)),
        (s.models = r.queryComponents({
          mainType: e,
          index: i,
          id: a,
          name: o,
        })),
        s);
  }
  function j(r, e, t) {
    r.setAttribute ? r.setAttribute(e, t) : (r[e] = t);
  }
  function Mt(r, e) {
    var t = Nt(),
      n = [];
    return (
      F(r, function (i) {
        var a = e(i);
        (t.get(a) || (n.push(a), t.set(a, []))).push(i);
      }),
      { keys: n, buckets: t }
    );
  }
  function Ft(r, e, t, n, i) {
    var a = null == e || 'auto' === e;
    if (null == n) return n;
    if (U(n))
      return yn((o = jv(t || 0, n, i)), a ? Math.max(xa(t || 0), xa(n)) : e);
    if (ht(n)) return i < 1 ? t : n;
    for (
      var s = [], l = t, u = n, c = Math.max(l ? l.length : 0, u.length), f = 0;
      f < c;
      ++f
    ) {
      var d = r.getDimensionInfo(f);
      if (d && 'ordinal' === d.type) s[f] = (i < 1 && l ? l : u)[f];
      else {
        var v = l && l[f] ? l[f] : 0,
          g = u[f],
          o = jv(v, g, i);
        s[f] = yn(o, a ? Math.max(xa(v), xa(g)) : e);
      }
    }
    return s;
  }
  var St = '.',
    Yt = '___EC__COMPONENT__CONTAINER___',
    le = '___EC__EXTENDED_CLASS___';
  function Jt(r) {
    var e = { main: '', sub: '' };
    if (r) {
      var t = r.split(St);
      (e.main = t[0] || ''), (e.sub = t[1] || '');
    }
    return e;
  }
  function Ce(r, e) {
    (r.$constructor = r),
      (r.extend = function (t) {
        F(e, function (a) {
          t[a] ||
            console.warn(
              'Method `' +
                a +
                '` should be implemented' +
                (t.type ? ' in ' + t.type : '') +
                '.'
            );
        });
        var i,
          n = this;
        return (
          (function hr(r) {
            return (
              fe(r) && /^class\s/.test(Function.prototype.toString.call(r))
            );
          })(n)
            ? (i = (function (a) {
                function o() {
                  return a.apply(this, arguments) || this;
                }
                return ut(o, a), o;
              })(n))
            : ((i = function () {
                (t.$constructor || n).apply(this, arguments);
              }),
              Xe(i, this)),
          nt(i.prototype, t),
          (i[le] = !0),
          (i.extend = this.extend),
          (i.superCall = Hr),
          (i.superApply = Jr),
          (i.superClass = n),
          i
        );
      });
  }
  function Ue(r, e) {
    r.extend = e.extend;
  }
  var Ir = Math.round(10 * Math.random());
  function Hr(r, e) {
    for (var t = [], n = 2; n < arguments.length; n++) t[n - 2] = arguments[n];
    return this.superClass.prototype[e].apply(r, t);
  }
  function Jr(r, e, t) {
    return this.superClass.prototype[e].apply(r, t);
  }
  function Pr(r) {
    var e = {};
    (r.registerClass = function (n) {
      var i = n.type || n.prototype.type;
      if (i) {
        (function we(r) {
          lt(
            /^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),
            'componentType "' + r + '" illegal'
          );
        })(i),
          (n.prototype.type = i);
        var a = Jt(i);
        if (a.sub) {
          if (a.sub !== Yt) {
            var o = (function t(n) {
              var i = e[n.main];
              return (!i || !i[Yt]) && ((i = e[n.main] = {})[Yt] = !0), i;
            })(a);
            o[a.sub] = n;
          }
        } else e[a.main] && console.warn(a.main + ' exists.'), (e[a.main] = n);
      }
      return n;
    }),
      (r.getClass = function (n, i, a) {
        var o = e[n];
        if ((o && o[Yt] && (o = i ? o[i] : null), a && !o))
          throw new Error(
            i
              ? 'Component ' +
                n +
                '.' +
                (i || '') +
                ' is used but not imported.'
              : n + '.type should be specified.'
          );
        return o;
      }),
      (r.getClassesByMainType = function (n) {
        var i = Jt(n),
          a = [],
          o = e[i.main];
        return (
          o && o[Yt]
            ? F(o, function (s, l) {
                l !== Yt && a.push(s);
              })
            : a.push(o),
          a
        );
      }),
      (r.hasClass = function (n) {
        var i = Jt(n);
        return !!e[i.main];
      }),
      (r.getAllClassMainTypes = function () {
        var n = [];
        return (
          F(e, function (i, a) {
            n.push(a);
          }),
          n
        );
      }),
      (r.hasSubTypes = function (n) {
        var i = Jt(n),
          a = e[i.main];
        return a && a[Yt];
      });
  }
  function Sr(r, e) {
    for (var t = 0; t < r.length; t++) r[t][1] || (r[t][1] = r[t][0]);
    return (
      (e = e || !1),
      function (n, i, a) {
        for (var o = {}, s = 0; s < r.length; s++) {
          var l = r[s][1];
          if (!((i && $(i, l) >= 0) || (a && $(a, l) < 0))) {
            var u = n.getShallow(l, e);
            null != u && (o[r[s][0]] = u);
          }
        }
        return o;
      }
    );
  }
  var Mr = Sr([
      ['fill', 'color'],
      ['shadowBlur'],
      ['shadowOffsetX'],
      ['shadowOffsetY'],
      ['opacity'],
      ['shadowColor'],
    ]),
    tn = (function () {
      function r() {}
      return (
        (r.prototype.getAreaStyle = function (e, t) {
          return Mr(this, e, t);
        }),
        r
      );
    })(),
    gr = new Za(50);
  function Br(r) {
    if ('string' == typeof r) {
      var e = gr.get(r);
      return e && e.image;
    }
    return r;
  }
  function wr(r, e, t, n, i) {
    if (r) {
      if ('string' == typeof r) {
        if ((e && e.__zrImageSrc === r) || !t) return e;
        var a = gr.get(r),
          o = { hostEl: t, cb: n, cbPayload: i };
        return (
          a
            ? !zn((e = a.image)) && a.pending.push(o)
            : (((e = Zt.loadImage(r, Ur, Ur)).__zrImageSrc = r),
              gr.put(r, (e.__cachedImgObj = { image: e, pending: [o] }))),
          e
        );
      }
      return r;
    }
    return e;
  }
  function Ur() {
    var r = this.__cachedImgObj;
    this.onload = this.onerror = this.__cachedImgObj = null;
    for (var e = 0; e < r.pending.length; e++) {
      var t = r.pending[e],
        n = t.cb;
      n && n(this, t.cbPayload), t.hostEl.dirty();
    }
    r.pending.length = 0;
  }
  function zn(r) {
    return r && r.width && r.height;
  }
  var jr = /\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;
  function jn(r, e, t, n, i) {
    if (!e) return '';
    var a = (r + '').split('\n');
    i = Kn(e, t, n, i);
    for (var o = 0, s = a.length; o < s; o++) a[o] = cn(a[o], i);
    return a.join('\n');
  }
  function Kn(r, e, t, n) {
    var i = nt({}, (n = n || {}));
    (i.font = e), (t = B(t, '...')), (i.maxIterations = B(n.maxIterations, 2));
    var a = (i.minChar = B(n.minChar, 0));
    i.cnCharWidth = gi('\u56fd', e);
    var o = (i.ascCharWidth = gi('a', e));
    i.placeholder = B(n.placeholder, '');
    for (var s = (r = Math.max(0, r - 1)), l = 0; l < a && s >= o; l++) s -= o;
    var u = gi(t, e);
    return (
      u > s && ((t = ''), (u = 0)),
      (s = r - u),
      (i.ellipsis = t),
      (i.ellipsisWidth = u),
      (i.contentWidth = s),
      (i.containerWidth = r),
      i
    );
  }
  function cn(r, e) {
    var t = e.containerWidth,
      n = e.font,
      i = e.contentWidth;
    if (!t) return '';
    var a = gi(r, n);
    if (a <= t) return r;
    for (var o = 0; ; o++) {
      if (a <= i || o >= e.maxIterations) {
        r += e.ellipsis;
        break;
      }
      var s =
        0 === o
          ? yi(r, i, e.ascCharWidth, e.cnCharWidth)
          : a > 0
          ? Math.floor((r.length * i) / a)
          : 0;
      a = gi((r = r.substr(0, s)), n);
    }
    return '' === r && (r = e.placeholder), r;
  }
  function yi(r, e, t, n) {
    for (var i = 0, a = 0, o = r.length; a < o && i < e; a++) {
      var s = r.charCodeAt(a);
      i += 0 <= s && s <= 127 ? t : n;
    }
    return a;
  }
  var Qn = function r() {},
    wa = function r(e) {
      (this.tokens = []), e && (this.tokens = e);
    },
    vf = function r() {
      (this.width = 0),
        (this.height = 0),
        (this.contentWidth = 0),
        (this.contentHeight = 0),
        (this.outerWidth = 0),
        (this.outerHeight = 0),
        (this.lines = []);
    };
  function ko(r, e, t, n, i) {
    var c,
      f,
      a = '' === e,
      o = (i && t.rich[i]) || {},
      s = r.lines,
      l = o.font || t.font,
      u = !1;
    if (n) {
      var d = o.padding,
        v = d ? d[1] + d[3] : 0;
      if (null != o.width && 'auto' !== o.width) {
        var g = Ni(o.width, n.width) + v;
        s.length > 0 &&
          g + n.accumWidth > n.width &&
          ((c = e.split('\n')), (u = !0)),
          (n.accumWidth = g);
      } else {
        var m = Zs(e, l, n.width, n.breakAll, n.accumWidth);
        (n.accumWidth = m.accumWidth + v), (f = m.linesWidths), (c = m.lines);
      }
    } else c = e.split('\n');
    for (var y = 0; y < c.length; y++) {
      var b = c[y],
        w = new Qn();
      if (
        ((w.styleName = i),
        (w.text = b),
        (w.isLineHolder = !b && !a),
        (w.width = 'number' == typeof o.width ? o.width : f ? f[y] : gi(b, l)),
        y || u)
      )
        s.push(new wa([w]));
      else {
        var C = (s[s.length - 1] || (s[0] = new wa())).tokens,
          D = C.length;
        1 === D && C[0].isLineHolder ? (C[0] = w) : (b || !D || a) && C.push(w);
      }
    }
  }
  var rs = Oe(
    ',&?/;] '.split(''),
    function (r, e) {
      return (r[e] = !0), r;
    },
    {}
  );
  function Vm(r) {
    return (
      !(function Vi(r) {
        var e = r.charCodeAt(0);
        return (
          (e >= 32 && e <= 591) ||
          (e >= 880 && e <= 4351) ||
          (e >= 4608 && e <= 5119) ||
          (e >= 7680 && e <= 8303)
        );
      })(r) || !!rs[r]
    );
  }
  function Zs(r, e, t, n, i) {
    for (
      var a = [], o = [], s = '', l = '', u = 0, c = 0, f = 0;
      f < r.length;
      f++
    ) {
      var d = r.charAt(f);
      if ('\n' !== d) {
        var v = gi(d, e),
          g = !n && !Vm(d);
        (a.length ? c + v > t : i + c + v > t)
          ? c
            ? (s || l) &&
              (g
                ? (s || ((s = l), (l = ''), (c = u = 0)),
                  a.push(s),
                  o.push(c - u),
                  (l += d),
                  (s = ''),
                  (c = u += v))
                : (l && ((s += l), (l = ''), (u = 0)),
                  a.push(s),
                  o.push(c),
                  (s = d),
                  (c = v)))
            : g
            ? (a.push(l), o.push(u), (l = d), (u = v))
            : (a.push(d), o.push(v))
          : ((c += v),
            g
              ? ((l += d), (u += v))
              : (l && ((s += l), (l = ''), (u = 0)), (s += d)));
      } else
        l && ((s += l), (c += u)),
          a.push(s),
          o.push(c),
          (s = ''),
          (l = ''),
          (u = 0),
          (c = 0);
    }
    return (
      !a.length && !s && ((s = r), (l = ''), (u = 0)),
      l && (s += l),
      s && (a.push(s), o.push(c)),
      1 === a.length && (c += i),
      { accumWidth: c, lines: a, linesWidths: o }
    );
  }
  var Xu = '__zr_style_' + Math.round(10 * Math.random()),
    Fa = {
      shadowBlur: 0,
      shadowOffsetX: 0,
      shadowOffsetY: 0,
      shadowColor: '#000',
      opacity: 1,
      blend: 'source-over',
    },
    qs = {
      style: {
        shadowBlur: !0,
        shadowOffsetX: !0,
        shadowOffsetY: !0,
        shadowColor: !0,
        opacity: !0,
      },
    };
  Fa[Xu] = !0;
  var Nl = ['z', 'z2', 'invisible'],
    Xh = ['invisible'],
    sa = (function (r) {
      function e(t) {
        return r.call(this, t) || this;
      }
      return (
        ut(e, r),
        (e.prototype._init = function (t) {
          for (var n = Ne(t), i = 0; i < n.length; i++) {
            var a = n[i];
            'style' === a
              ? this.useStyle(t[a])
              : r.prototype.attrKV.call(this, a, t[a]);
          }
          this.style || this.useStyle({});
        }),
        (e.prototype.beforeBrush = function () {}),
        (e.prototype.afterBrush = function () {}),
        (e.prototype.innerBeforeBrush = function () {}),
        (e.prototype.innerAfterBrush = function () {}),
        (e.prototype.shouldBePainted = function (t, n, i, a) {
          var o = this.transform;
          if (
            this.ignore ||
            this.invisible ||
            0 === this.style.opacity ||
            (this.culling &&
              (function ap(r, e, t) {
                return (
                  Zu.copy(r.getBoundingRect()),
                  r.transform && Zu.applyTransform(r.transform),
                  (pf.width = e),
                  (pf.height = t),
                  !Zu.intersect(pf)
                );
              })(this, t, n)) ||
            (o && !o[0] && !o[3])
          )
            return !1;
          if (i && this.__clipPaths)
            for (var s = 0; s < this.__clipPaths.length; ++s)
              if (this.__clipPaths[s].isZeroArea()) return !1;
          if (a && this.parent)
            for (var l = this.parent; l; ) {
              if (l.ignore) return !1;
              l = l.parent;
            }
          return !0;
        }),
        (e.prototype.contain = function (t, n) {
          return this.rectContain(t, n);
        }),
        (e.prototype.traverse = function (t, n) {
          t.call(n, this);
        }),
        (e.prototype.rectContain = function (t, n) {
          var i = this.transformCoordToLocal(t, n);
          return this.getBoundingRect().contain(i[0], i[1]);
        }),
        (e.prototype.getPaintRect = function () {
          var t = this._paintRect;
          if (!this._paintRect || this.__dirty) {
            var n = this.transform,
              i = this.getBoundingRect(),
              a = this.style,
              o = a.shadowBlur || 0,
              s = a.shadowOffsetX || 0,
              l = a.shadowOffsetY || 0;
            (t = this._paintRect || (this._paintRect = new it(0, 0, 0, 0))),
              n ? it.applyTransform(t, i, n) : t.copy(i),
              (o || s || l) &&
                ((t.width += 2 * o + Math.abs(s)),
                (t.height += 2 * o + Math.abs(l)),
                (t.x = Math.min(t.x, t.x + s - o)),
                (t.y = Math.min(t.y, t.y + l - o)));
            var u = this.dirtyRectTolerance;
            t.isZero() ||
              ((t.x = Math.floor(t.x - u)),
              (t.y = Math.floor(t.y - u)),
              (t.width = Math.ceil(t.width + 1 + 2 * u)),
              (t.height = Math.ceil(t.height + 1 + 2 * u)));
          }
          return t;
        }),
        (e.prototype.setPrevPaintRect = function (t) {
          t
            ? ((this._prevPaintRect =
                this._prevPaintRect || new it(0, 0, 0, 0)),
              this._prevPaintRect.copy(t))
            : (this._prevPaintRect = null);
        }),
        (e.prototype.getPrevPaintRect = function () {
          return this._prevPaintRect;
        }),
        (e.prototype.animateStyle = function (t) {
          return this.animate('style', t);
        }),
        (e.prototype.updateDuringAnimation = function (t) {
          'style' === t ? this.dirtyStyle() : this.markRedraw();
        }),
        (e.prototype.attrKV = function (t, n) {
          'style' !== t
            ? r.prototype.attrKV.call(this, t, n)
            : this.style
            ? this.setStyle(n)
            : this.useStyle(n);
        }),
        (e.prototype.setStyle = function (t, n) {
          return (
            'string' == typeof t ? (this.style[t] = n) : nt(this.style, t),
            this.dirtyStyle(),
            this
          );
        }),
        (e.prototype.dirtyStyle = function (t) {
          t || this.markRedraw(),
            (this.__dirty |= 2),
            this._rect && (this._rect = null);
        }),
        (e.prototype.dirty = function () {
          this.dirtyStyle();
        }),
        (e.prototype.styleChanged = function () {
          return !!(2 & this.__dirty);
        }),
        (e.prototype.styleUpdated = function () {
          this.__dirty &= -3;
        }),
        (e.prototype.createStyle = function (t) {
          return $e(Fa, t);
        }),
        (e.prototype.useStyle = function (t) {
          t[Xu] || (t = this.createStyle(t)),
            this.__inHover ? (this.__hoverStyle = t) : (this.style = t),
            this.dirtyStyle();
        }),
        (e.prototype.isStyleObject = function (t) {
          return t[Xu];
        }),
        (e.prototype._innerSaveToNormal = function (t) {
          r.prototype._innerSaveToNormal.call(this, t);
          var n = this._normalState;
          t.style &&
            !n.style &&
            (n.style = this._mergeStyle(this.createStyle(), this.style)),
            this._savePrimaryToNormal(t, n, Nl);
        }),
        (e.prototype._applyStateObj = function (t, n, i, a, o, s) {
          r.prototype._applyStateObj.call(this, t, n, i, a, o, s);
          var u,
            l = !(n && a);
          if (
            (n && n.style
              ? o
                ? a
                  ? (u = n.style)
                  : ((u = this._mergeStyle(this.createStyle(), i.style)),
                    this._mergeStyle(u, n.style))
                : ((u = this._mergeStyle(
                    this.createStyle(),
                    a ? this.style : i.style
                  )),
                  this._mergeStyle(u, n.style))
              : l && (u = i.style),
            u)
          )
            if (o) {
              var c = this.style;
              if (((this.style = this.createStyle(l ? {} : c)), l))
                for (var f = Ne(c), d = 0; d < f.length; d++)
                  (v = f[d]) in u && ((u[v] = u[v]), (this.style[v] = c[v]));
              var g = Ne(u);
              for (d = 0; d < g.length; d++)
                this.style[(v = g[d])] = this.style[v];
              this._transitionState(
                t,
                { style: u },
                s,
                this.getAnimationStyleProps()
              );
            } else this.useStyle(u);
          var m = this.__inHover ? Xh : Nl;
          for (d = 0; d < m.length; d++) {
            var v = m[d];
            n && null != n[v]
              ? (this[v] = n[v])
              : l && null != i[v] && (this[v] = i[v]);
          }
        }),
        (e.prototype._mergeStates = function (t) {
          for (
            var i, n = r.prototype._mergeStates.call(this, t), a = 0;
            a < t.length;
            a++
          ) {
            var o = t[a];
            o.style && this._mergeStyle((i = i || {}), o.style);
          }
          return i && (n.style = i), n;
        }),
        (e.prototype._mergeStyle = function (t, n) {
          return nt(t, n), t;
        }),
        (e.prototype.getAnimationStyleProps = function () {
          return qs;
        }),
        (e.initDefaultProps =
          (((t = e.prototype).type = 'displayable'),
          (t.invisible = !1),
          (t.z = 0),
          (t.z2 = 0),
          (t.zlevel = 0),
          (t.culling = !1),
          (t.cursor = 'pointer'),
          (t.rectHover = !1),
          (t.incremental = !1),
          (t._rect = null),
          (t.dirtyRectTolerance = 0),
          void (t.__dirty = 2 | ta))),
        e
      );
      var t;
    })(Jo),
    Zu = new it(0, 0, 0, 0),
    pf = new it(0, 0, 0, 0),
    Si = Math.min,
    Ca = Math.max,
    Hm = Math.sin,
    Gm = Math.cos,
    qu = 2 * Math.PI,
    op = mn(),
    sp = mn(),
    lp = mn();
  function up(r, e, t) {
    if (0 !== r.length) {
      for (
        var n = r[0], i = n[0], a = n[0], o = n[1], s = n[1], l = 1;
        l < r.length;
        l++
      )
        (i = Si(i, (n = r[l])[0])),
          (a = Ca(a, n[0])),
          (o = Si(o, n[1])),
          (s = Ca(s, n[1]));
      (e[0] = i), (e[1] = o), (t[0] = a), (t[1] = s);
    }
  }
  function r_(r, e, t, n, i, a) {
    (i[0] = Si(r, t)), (i[1] = Si(e, n)), (a[0] = Ca(r, t)), (a[1] = Ca(e, n));
  }
  var n_ = [],
    i_ = [];
  function nE(r, e, t, n, i, a, o, s, l, u) {
    var c = xh,
      f = kn,
      d = c(r, t, i, o, n_);
    (l[0] = 1 / 0), (l[1] = 1 / 0), (u[0] = -1 / 0), (u[1] = -1 / 0);
    for (var v = 0; v < d; v++) {
      var g = f(r, t, i, o, n_[v]);
      (l[0] = Si(g, l[0])), (u[0] = Ca(g, u[0]));
    }
    for (d = c(e, n, a, s, i_), v = 0; v < d; v++) {
      var m = f(e, n, a, s, i_[v]);
      (l[1] = Si(m, l[1])), (u[1] = Ca(m, u[1]));
    }
    (l[0] = Si(r, l[0])),
      (u[0] = Ca(r, u[0])),
      (l[0] = Si(o, l[0])),
      (u[0] = Ca(o, u[0])),
      (l[1] = Si(e, l[1])),
      (u[1] = Ca(e, u[1])),
      (l[1] = Si(s, l[1])),
      (u[1] = Ca(s, u[1]));
  }
  function iE(r, e, t, n, i, a, o, s) {
    var l = bh,
      u = On,
      c = Ca(Si(l(r, t, i), 1), 0),
      f = Ca(Si(l(e, n, a), 1), 0),
      d = u(r, t, i, c),
      v = u(e, n, a, f);
    (o[0] = Si(r, i, d)),
      (o[1] = Si(e, a, v)),
      (s[0] = Ca(r, i, d)),
      (s[1] = Ca(e, a, v));
  }
  function aE(r, e, t, n, i, a, o, s, l) {
    var u = Mi,
      c = Ln,
      f = Math.abs(i - a);
    if (f % qu < 1e-4 && f > 1e-4)
      return (
        (s[0] = r - t), (s[1] = e - n), (l[0] = r + t), void (l[1] = e + n)
      );
    if (
      ((op[0] = Gm(i) * t + r),
      (op[1] = Hm(i) * n + e),
      (sp[0] = Gm(a) * t + r),
      (sp[1] = Hm(a) * n + e),
      u(s, op, sp),
      c(l, op, sp),
      (i %= qu) < 0 && (i += qu),
      (a %= qu) < 0 && (a += qu),
      i > a && !o ? (a += qu) : i < a && o && (i += qu),
      o)
    ) {
      var d = a;
      (a = i), (i = d);
    }
    for (var v = 0; v < a; v += Math.PI / 2)
      v > i &&
        ((lp[0] = Gm(v) * t + r),
        (lp[1] = Hm(v) * n + e),
        u(s, lp, s),
        c(l, lp, l));
  }
  var an = { M: 1, L: 2, C: 3, Q: 4, A: 5, Z: 6, R: 7 },
    ju = [],
    Ku = [],
    ns = [],
    zl = [],
    is = [],
    as = [],
    Wm = Math.min,
    $m = Math.max,
    Qu = Math.cos,
    Ju = Math.sin,
    js = Math.abs,
    Um = Math.PI,
    Vl = 2 * Um,
    Ym = typeof Float32Array < 'u',
    Zh = [];
  function Xm(r) {
    return ((Math.round((r / Um) * 1e8) / 1e8) % 2) * Um;
  }
  function a_(r, e) {
    var t = Xm(r[0]);
    t < 0 && (t += Vl);
    var i = r[1];
    (i += t - r[0]),
      !e && i - t >= Vl
        ? (i = t + Vl)
        : e && t - i >= Vl
        ? (i = t - Vl)
        : !e && t > i
        ? (i = t + (Vl - Xm(t - i)))
        : e && t < i && (i = t - (Vl - Xm(i - t))),
      (r[0] = t),
      (r[1] = i);
  }
  var os = (function () {
    function r(e) {
      (this.dpr = 1),
        (this._xi = 0),
        (this._yi = 0),
        (this._x0 = 0),
        (this._y0 = 0),
        (this._len = 0),
        e && (this._saveData = !1),
        this._saveData && (this.data = []);
    }
    return (
      (r.prototype.increaseVersion = function () {
        this._version++;
      }),
      (r.prototype.getVersion = function () {
        return this._version;
      }),
      (r.prototype.setScale = function (e, t, n) {
        (n = n || 0) > 0 &&
          ((this._ux = js(n / Iu / e) || 0), (this._uy = js(n / Iu / t) || 0));
      }),
      (r.prototype.setDPR = function (e) {
        this.dpr = e;
      }),
      (r.prototype.setContext = function (e) {
        this._ctx = e;
      }),
      (r.prototype.getContext = function () {
        return this._ctx;
      }),
      (r.prototype.beginPath = function () {
        return this._ctx && this._ctx.beginPath(), this.reset(), this;
      }),
      (r.prototype.reset = function () {
        this._saveData && (this._len = 0),
          this._pathSegLen && ((this._pathSegLen = null), (this._pathLen = 0)),
          this._version++;
      }),
      (r.prototype.moveTo = function (e, t) {
        return (
          this._drawPendingPt(),
          this.addData(an.M, e, t),
          this._ctx && this._ctx.moveTo(e, t),
          (this._x0 = e),
          (this._y0 = t),
          (this._xi = e),
          (this._yi = t),
          this
        );
      }),
      (r.prototype.lineTo = function (e, t) {
        var n = js(e - this._xi),
          i = js(t - this._yi),
          a = n > this._ux || i > this._uy;
        if (
          (this.addData(an.L, e, t),
          this._ctx && a && this._ctx.lineTo(e, t),
          a)
        )
          (this._xi = e), (this._yi = t), (this._pendingPtDist = 0);
        else {
          var o = n * n + i * i;
          o > this._pendingPtDist &&
            ((this._pendingPtX = e),
            (this._pendingPtY = t),
            (this._pendingPtDist = o));
        }
        return this;
      }),
      (r.prototype.bezierCurveTo = function (e, t, n, i, a, o) {
        return (
          this._drawPendingPt(),
          this.addData(an.C, e, t, n, i, a, o),
          this._ctx && this._ctx.bezierCurveTo(e, t, n, i, a, o),
          (this._xi = a),
          (this._yi = o),
          this
        );
      }),
      (r.prototype.quadraticCurveTo = function (e, t, n, i) {
        return (
          this._drawPendingPt(),
          this.addData(an.Q, e, t, n, i),
          this._ctx && this._ctx.quadraticCurveTo(e, t, n, i),
          (this._xi = n),
          (this._yi = i),
          this
        );
      }),
      (r.prototype.arc = function (e, t, n, i, a, o) {
        return (
          this._drawPendingPt(),
          (Zh[0] = i),
          (Zh[1] = a),
          a_(Zh, o),
          this.addData(
            an.A,
            e,
            t,
            n,
            n,
            (i = Zh[0]),
            (a = Zh[1]) - i,
            0,
            o ? 0 : 1
          ),
          this._ctx && this._ctx.arc(e, t, n, i, a, o),
          (this._xi = Qu(a) * n + e),
          (this._yi = Ju(a) * n + t),
          this
        );
      }),
      (r.prototype.arcTo = function (e, t, n, i, a) {
        return (
          this._drawPendingPt(),
          this._ctx && this._ctx.arcTo(e, t, n, i, a),
          this
        );
      }),
      (r.prototype.rect = function (e, t, n, i) {
        return (
          this._drawPendingPt(),
          this._ctx && this._ctx.rect(e, t, n, i),
          this.addData(an.R, e, t, n, i),
          this
        );
      }),
      (r.prototype.closePath = function () {
        this._drawPendingPt(), this.addData(an.Z);
        var e = this._ctx,
          t = this._x0,
          n = this._y0;
        return e && e.closePath(), (this._xi = t), (this._yi = n), this;
      }),
      (r.prototype.fill = function (e) {
        e && e.fill(), this.toStatic();
      }),
      (r.prototype.stroke = function (e) {
        e && e.stroke(), this.toStatic();
      }),
      (r.prototype.len = function () {
        return this._len;
      }),
      (r.prototype.setData = function (e) {
        var t = e.length;
        (!this.data || this.data.length !== t) &&
          Ym &&
          (this.data = new Float32Array(t));
        for (var n = 0; n < t; n++) this.data[n] = e[n];
        this._len = t;
      }),
      (r.prototype.appendPath = function (e) {
        e instanceof Array || (e = [e]);
        for (var t = e.length, n = 0, i = this._len, a = 0; a < t; a++)
          n += e[a].len();
        for (
          Ym &&
            this.data instanceof Float32Array &&
            (this.data = new Float32Array(i + n)),
            a = 0;
          a < t;
          a++
        )
          for (var o = e[a].data, s = 0; s < o.length; s++)
            this.data[i++] = o[s];
        this._len = i;
      }),
      (r.prototype.addData = function (e, t, n, i, a, o, s, l, u) {
        if (this._saveData) {
          var c = this.data;
          this._len + arguments.length > c.length &&
            (this._expandData(), (c = this.data));
          for (var f = 0; f < arguments.length; f++)
            c[this._len++] = arguments[f];
        }
      }),
      (r.prototype._drawPendingPt = function () {
        this._pendingPtDist > 0 &&
          (this._ctx && this._ctx.lineTo(this._pendingPtX, this._pendingPtY),
          (this._pendingPtDist = 0));
      }),
      (r.prototype._expandData = function () {
        if (!(this.data instanceof Array)) {
          for (var e = [], t = 0; t < this._len; t++) e[t] = this.data[t];
          this.data = e;
        }
      }),
      (r.prototype.toStatic = function () {
        if (this._saveData) {
          this._drawPendingPt();
          var e = this.data;
          e instanceof Array &&
            ((e.length = this._len),
            Ym && this._len > 11 && (this.data = new Float32Array(e)));
        }
      }),
      (r.prototype.getBoundingRect = function () {
        (ns[0] = ns[1] = is[0] = is[1] = Number.MAX_VALUE),
          (zl[0] = zl[1] = as[0] = as[1] = -Number.MAX_VALUE);
        var o,
          e = this.data,
          t = 0,
          n = 0,
          i = 0,
          a = 0;
        for (o = 0; o < this._len; ) {
          var s = e[o++],
            l = 1 === o;
          switch ((l && ((i = t = e[o]), (a = n = e[o + 1])), s)) {
            case an.M:
              (t = i = e[o++]),
                (n = a = e[o++]),
                (is[0] = i),
                (is[1] = a),
                (as[0] = i),
                (as[1] = a);
              break;
            case an.L:
              r_(t, n, e[o], e[o + 1], is, as), (t = e[o++]), (n = e[o++]);
              break;
            case an.C:
              nE(t, n, e[o++], e[o++], e[o++], e[o++], e[o], e[o + 1], is, as),
                (t = e[o++]),
                (n = e[o++]);
              break;
            case an.Q:
              iE(t, n, e[o++], e[o++], e[o], e[o + 1], is, as),
                (t = e[o++]),
                (n = e[o++]);
              break;
            case an.A:
              var u = e[o++],
                c = e[o++],
                f = e[o++],
                d = e[o++],
                v = e[o++],
                g = e[o++] + v;
              o += 1;
              var m = !e[o++];
              l && ((i = Qu(v) * f + u), (a = Ju(v) * d + c)),
                aE(u, c, f, d, v, g, m, is, as),
                (t = Qu(g) * f + u),
                (n = Ju(g) * d + c);
              break;
            case an.R:
              r_(
                (i = t = e[o++]),
                (a = n = e[o++]),
                i + e[o++],
                a + e[o++],
                is,
                as
              );
              break;
            case an.Z:
              (t = i), (n = a);
          }
          Mi(ns, ns, is), Ln(zl, zl, as);
        }
        return (
          0 === o && (ns[0] = ns[1] = zl[0] = zl[1] = 0),
          new it(ns[0], ns[1], zl[0] - ns[0], zl[1] - ns[1])
        );
      }),
      (r.prototype._calculateLength = function () {
        var e = this.data,
          t = this._len,
          n = this._ux,
          i = this._uy,
          a = 0,
          o = 0,
          s = 0,
          l = 0;
        this._pathSegLen || (this._pathSegLen = []);
        for (var u = this._pathSegLen, c = 0, f = 0, d = 0; d < t; ) {
          var v = e[d++],
            g = 1 === d;
          g && ((s = a = e[d]), (l = o = e[d + 1]));
          var m = -1;
          switch (v) {
            case an.M:
              (a = s = e[d++]), (o = l = e[d++]);
              break;
            case an.L:
              var y = e[d++],
                C = (b = e[d++]) - o;
              (js((w = y - a)) > n || js(C) > i || d === t - 1) &&
                ((m = Math.sqrt(w * w + C * C)), (a = y), (o = b));
              break;
            case an.C:
              var D = e[d++],
                L = e[d++],
                b = ((y = e[d++]), e[d++]),
                M = e[d++],
                E = e[d++];
              (m = Kc(a, o, D, L, y, b, M, E, 10)), (a = M), (o = E);
              break;
            case an.Q:
              (m = Dv(
                a,
                o,
                (D = e[d++]),
                (L = e[d++]),
                (y = e[d++]),
                (b = e[d++]),
                10
              )),
                (a = y),
                (o = b);
              break;
            case an.A:
              var O = e[d++],
                z = e[d++],
                H = e[d++],
                G = e[d++],
                X = e[d++],
                K = e[d++],
                tt = K + X;
              (d += 1),
                d++,
                g && ((s = Qu(X) * H + O), (l = Ju(X) * G + z)),
                (m = $m(H, G) * Wm(Vl, Math.abs(K))),
                (a = Qu(tt) * H + O),
                (o = Ju(tt) * G + z);
              break;
            case an.R:
              (s = a = e[d++]), (l = o = e[d++]), (m = 2 * e[d++] + 2 * e[d++]);
              break;
            case an.Z:
              var w = s - a;
              (C = l - o), (m = Math.sqrt(w * w + C * C)), (a = s), (o = l);
          }
          m >= 0 && ((u[f++] = m), (c += m));
        }
        return (this._pathLen = c), c;
      }),
      (r.prototype.rebuildPath = function (e, t) {
        var s,
          l,
          u,
          c,
          f,
          d,
          g,
          w,
          D,
          L,
          n = this.data,
          i = this._ux,
          a = this._uy,
          o = this._len,
          v = t < 1,
          y = 0,
          b = 0,
          C = 0;
        if (
          !v ||
          (this._pathSegLen || this._calculateLength(),
          (g = this._pathSegLen),
          (w = t * this._pathLen))
        )
          t: for (var M = 0; M < o; ) {
            var E = n[M++],
              O = 1 === M;
            switch (
              (O && ((s = u = n[M]), (l = c = n[M + 1])),
              E !== an.L && C > 0 && (e.lineTo(D, L), (C = 0)),
              E)
            ) {
              case an.M:
                (s = u = n[M++]), (l = c = n[M++]), e.moveTo(u, c);
                break;
              case an.L:
                (f = n[M++]), (d = n[M++]);
                var z = js(f - u),
                  H = js(d - c);
                if (z > i || H > a) {
                  if (v) {
                    if (y + (G = g[b++]) > w) {
                      e.lineTo(
                        u * (1 - (X = (w - y) / G)) + f * X,
                        c * (1 - X) + d * X
                      );
                      break t;
                    }
                    y += G;
                  }
                  e.lineTo(f, d), (u = f), (c = d), (C = 0);
                } else {
                  var K = z * z + H * H;
                  K > C && ((D = f), (L = d), (C = K));
                }
                break;
              case an.C:
                var tt = n[M++],
                  ot = n[M++],
                  pt = n[M++],
                  Xt = n[M++],
                  Vt = n[M++],
                  re = n[M++];
                if (v) {
                  if (y + (G = g[b++]) > w) {
                    wo(u, tt, pt, Vt, (X = (w - y) / G), ju),
                      wo(c, ot, Xt, re, X, Ku),
                      e.bezierCurveTo(ju[1], Ku[1], ju[2], Ku[2], ju[3], Ku[3]);
                    break t;
                  }
                  y += G;
                }
                e.bezierCurveTo(tt, ot, pt, Xt, Vt, re), (u = Vt), (c = re);
                break;
              case an.Q:
                if (
                  ((tt = n[M++]),
                  (ot = n[M++]),
                  (pt = n[M++]),
                  (Xt = n[M++]),
                  v)
                ) {
                  if (y + (G = g[b++]) > w) {
                    ks(u, tt, pt, (X = (w - y) / G), ju),
                      ks(c, ot, Xt, X, Ku),
                      e.quadraticCurveTo(ju[1], Ku[1], ju[2], Ku[2]);
                    break t;
                  }
                  y += G;
                }
                e.quadraticCurveTo(tt, ot, pt, Xt), (u = pt), (c = Xt);
                break;
              case an.A:
                var ye = n[M++],
                  ke = n[M++],
                  Ye = n[M++],
                  tr = n[M++],
                  er = n[M++],
                  Cr = n[M++],
                  Er = n[M++],
                  Dr = !n[M++],
                  nr = Ye > tr ? Ye : tr,
                  Tr = js(Ye - tr) > 0.001,
                  dr = er + Cr,
                  Ze = !1;
                if (
                  (v &&
                    (y + (G = g[b++]) > w &&
                      ((dr = er + (Cr * (w - y)) / G), (Ze = !0)),
                    (y += G)),
                  Tr && e.ellipse
                    ? e.ellipse(ye, ke, Ye, tr, Er, er, dr, Dr)
                    : e.arc(ye, ke, nr, er, dr, Dr),
                  Ze)
                )
                  break t;
                O && ((s = Qu(er) * Ye + ye), (l = Ju(er) * tr + ke)),
                  (u = Qu(dr) * Ye + ye),
                  (c = Ju(dr) * tr + ke);
                break;
              case an.R:
                (s = u = n[M]), (l = c = n[M + 1]), (f = n[M++]), (d = n[M++]);
                var vr = n[M++],
                  bn = n[M++];
                if (v) {
                  if (y + (G = g[b++]) > w) {
                    var Vr = w - y;
                    e.moveTo(f, d),
                      e.lineTo(f + Wm(Vr, vr), d),
                      (Vr -= vr) > 0 && e.lineTo(f + vr, d + Wm(Vr, bn)),
                      (Vr -= bn) > 0 && e.lineTo(f + $m(vr - Vr, 0), d + bn),
                      (Vr -= vr) > 0 && e.lineTo(f, d + $m(bn - Vr, 0));
                    break t;
                  }
                  y += G;
                }
                e.rect(f, d, vr, bn);
                break;
              case an.Z:
                if (v) {
                  var G;
                  if (y + (G = g[b++]) > w) {
                    var X;
                    e.lineTo(
                      u * (1 - (X = (w - y) / G)) + s * X,
                      c * (1 - X) + l * X
                    );
                    break t;
                  }
                  y += G;
                }
                e.closePath(), (u = s), (c = l);
            }
          }
      }),
      (r.prototype.clone = function () {
        var e = new r(),
          t = this.data;
        return (
          (e.data = t.slice ? t.slice() : Array.prototype.slice.call(t)),
          (e._len = this._len),
          e
        );
      }),
      (r.CMD = an),
      (r.initDefaultProps = (function () {
        var e = r.prototype;
        (e._saveData = !0),
          (e._ux = 0),
          (e._uy = 0),
          (e._pendingPtDist = 0),
          (e._version = 0);
      })()),
      r
    );
  })();
  function Hl(r, e, t, n, i, a, o) {
    if (0 === i) return !1;
    var l,
      s = i;
    if (
      (o > e + s && o > n + s) ||
      (o < e - s && o < n - s) ||
      (a > r + s && a > t + s) ||
      (a < r - s && a < t - s)
    )
      return !1;
    if (r === t) return Math.abs(a - r) <= s / 2;
    var c = (l = (e - n) / (r - t)) * a - o + (r * n - t * e) / (r - t);
    return (c * c) / (l * l + 1) <= ((s / 2) * s) / 2;
  }
  function oE(r, e, t, n, i, a, o, s, l, u, c) {
    if (0 === l) return !1;
    var f = l;
    return (
      !(
        (c > e + f && c > n + f && c > a + f && c > s + f) ||
        (c < e - f && c < n - f && c < a - f && c < s - f) ||
        (u > r + f && u > t + f && u > i + f && u > o + f) ||
        (u < r - f && u < t - f && u < i - f && u < o - f)
      ) && jc(r, e, t, n, i, a, o, s, u, c, null) <= f / 2
    );
  }
  function o_(r, e, t, n, i, a, o, s, l) {
    if (0 === o) return !1;
    var u = o;
    return (
      !(
        (l > e + u && l > n + u && l > a + u) ||
        (l < e - u && l < n - u && l < a - u) ||
        (s > r + u && s > t + u && s > i + u) ||
        (s < r - u && s < t - u && s < i - u)
      ) && Qc(r, e, t, n, i, a, s, l, null) <= u / 2
    );
  }
  var s_ = 2 * Math.PI;
  function Eo(r) {
    return (r %= s_) < 0 && (r += s_), r;
  }
  var qh = 2 * Math.PI;
  function sE(r, e, t, n, i, a, o, s, l) {
    if (0 === o) return !1;
    var u = o;
    (s -= r), (l -= e);
    var c = Math.sqrt(s * s + l * l);
    if (c - u > t || c + u < t) return !1;
    if (Math.abs(n - i) % qh < 1e-4) return !0;
    if (a) {
      var f = n;
      (n = Eo(i)), (i = Eo(f));
    } else (n = Eo(n)), (i = Eo(i));
    n > i && (i += qh);
    var d = Math.atan2(l, s);
    return (
      d < 0 && (d += qh), (d >= n && d <= i) || (d + qh >= n && d + qh <= i)
    );
  }
  function Ks(r, e, t, n, i, a) {
    if ((a > e && a > n) || (a < e && a < n) || n === e) return 0;
    var o = (a - e) / (n - e),
      s = n < e ? 1 : -1;
    (1 === o || 0 === o) && (s = n < e ? 0.5 : -0.5);
    var l = o * (t - r) + r;
    return l === i ? 1 / 0 : l > i ? s : 0;
  }
  var Gl = os.CMD,
    tc = 2 * Math.PI,
    la = [-1, -1, -1],
    Ja = [-1, -1];
  function cE() {
    var r = Ja[0];
    (Ja[0] = Ja[1]), (Ja[1] = r);
  }
  function fE(r, e, t, n, i, a, o, s, l, u) {
    if (
      (u > e && u > n && u > a && u > s) ||
      (u < e && u < n && u < a && u < s)
    )
      return 0;
    var c = $o(e, n, a, s, u, la);
    if (0 === c) return 0;
    for (var f = 0, d = -1, v = void 0, g = void 0, m = 0; m < c; m++) {
      var y = la[m],
        b = 0 === y || 1 === y ? 0.5 : 1;
      kn(r, t, i, o, y) < l ||
        (d < 0 &&
          ((d = xh(e, n, a, s, Ja)),
          Ja[1] < Ja[0] && d > 1 && cE(),
          (v = kn(e, n, a, s, Ja[0])),
          d > 1 && (g = kn(e, n, a, s, Ja[1]))),
        (f +=
          2 === d
            ? y < Ja[0]
              ? v < e
                ? b
                : -b
              : y < Ja[1]
              ? g < v
                ? b
                : -b
              : s < g
              ? b
              : -b
            : y < Ja[0]
            ? v < e
              ? b
              : -b
            : s < v
            ? b
            : -b));
    }
    return f;
  }
  function hE(r, e, t, n, i, a, o, s) {
    if ((s > e && s > n && s > a) || (s < e && s < n && s < a)) return 0;
    var l = (function Ea(r, e, t, n, i) {
      var a = r - 2 * e + t,
        o = 2 * (e - r),
        s = r - n,
        l = 0;
      if (So(a)) Cv(o) && (u = -s / o) >= 0 && u <= 1 && (i[l++] = u);
      else {
        var c = o * o - 4 * a * s;
        if (So(c)) (u = -o / (2 * a)) >= 0 && u <= 1 && (i[l++] = u);
        else if (c > 0) {
          var u,
            f = Xa(c),
            d = (-o - f) / (2 * a);
          (u = (-o + f) / (2 * a)) >= 0 && u <= 1 && (i[l++] = u),
            d >= 0 && d <= 1 && (i[l++] = d);
        }
      }
      return l;
    })(e, n, a, s, la);
    if (0 === l) return 0;
    var u = bh(e, n, a);
    if (u >= 0 && u <= 1) {
      for (var c = 0, f = On(e, n, a, u), d = 0; d < l; d++) {
        var v = 0 === la[d] || 1 === la[d] ? 0.5 : 1;
        On(r, t, i, la[d]) < o ||
          (c += la[d] < u ? (f < e ? v : -v) : a < f ? v : -v);
      }
      return c;
    }
    return (
      (v = 0 === la[0] || 1 === la[0] ? 0.5 : 1),
      On(r, t, i, la[0]) < o ? 0 : a < e ? v : -v
    );
  }
  function dE(r, e, t, n, i, a, o, s) {
    if ((s -= e) > t || s < -t) return 0;
    var l = Math.sqrt(t * t - s * s);
    (la[0] = -l), (la[1] = l);
    var u = Math.abs(n - i);
    if (u < 1e-4) return 0;
    if (u >= tc - 1e-4) {
      (n = 0), (i = tc);
      var c = a ? 1 : -1;
      return o >= la[0] + r && o <= la[1] + r ? c : 0;
    }
    if (n > i) {
      var f = n;
      (n = i), (i = f);
    }
    n < 0 && ((n += tc), (i += tc));
    for (var d = 0, v = 0; v < 2; v++) {
      var g = la[v];
      if (g + r > o) {
        var m = Math.atan2(s, g);
        (c = a ? 1 : -1),
          m < 0 && (m = tc + m),
          ((m >= n && m <= i) || (m + tc >= n && m + tc <= i)) &&
            (m > Math.PI / 2 && m < 1.5 * Math.PI && (c = -c), (d += c));
      }
    }
    return d;
  }
  function l_(r, e, t, n, i) {
    for (
      var d,
        v,
        a = r.data,
        o = r.len(),
        s = 0,
        l = 0,
        u = 0,
        c = 0,
        f = 0,
        g = 0;
      g < o;

    ) {
      var m = a[g++],
        y = 1 === g;
      switch (
        (m === Gl.M && g > 1 && (t || (s += Ks(l, u, c, f, n, i))),
        y && ((c = l = a[g]), (f = u = a[g + 1])),
        m)
      ) {
        case Gl.M:
          (l = c = a[g++]), (u = f = a[g++]);
          break;
        case Gl.L:
          if (t) {
            if (Hl(l, u, a[g], a[g + 1], e, n, i)) return !0;
          } else s += Ks(l, u, a[g], a[g + 1], n, i) || 0;
          (l = a[g++]), (u = a[g++]);
          break;
        case Gl.C:
          if (t) {
            if (
              oE(l, u, a[g++], a[g++], a[g++], a[g++], a[g], a[g + 1], e, n, i)
            )
              return !0;
          } else
            s +=
              fE(l, u, a[g++], a[g++], a[g++], a[g++], a[g], a[g + 1], n, i) ||
              0;
          (l = a[g++]), (u = a[g++]);
          break;
        case Gl.Q:
          if (t) {
            if (o_(l, u, a[g++], a[g++], a[g], a[g + 1], e, n, i)) return !0;
          } else s += hE(l, u, a[g++], a[g++], a[g], a[g + 1], n, i) || 0;
          (l = a[g++]), (u = a[g++]);
          break;
        case Gl.A:
          var b = a[g++],
            w = a[g++],
            C = a[g++],
            D = a[g++],
            L = a[g++],
            M = a[g++];
          g += 1;
          var E = !!(1 - a[g++]);
          (d = Math.cos(L) * C + b),
            (v = Math.sin(L) * D + w),
            y ? ((c = d), (f = v)) : (s += Ks(l, u, d, v, n, i));
          var O = ((n - b) * D) / C + b;
          if (t) {
            if (sE(b, w, D, L, L + M, E, e, O, i)) return !0;
          } else s += dE(b, w, D, L, L + M, E, O, i);
          (l = Math.cos(L + M) * C + b), (u = Math.sin(L + M) * D + w);
          break;
        case Gl.R:
          if (
            ((c = l = a[g++]),
            (f = u = a[g++]),
            (d = c + a[g++]),
            (v = f + a[g++]),
            t)
          ) {
            if (
              Hl(c, f, d, f, e, n, i) ||
              Hl(d, f, d, v, e, n, i) ||
              Hl(d, v, c, v, e, n, i) ||
              Hl(c, v, c, f, e, n, i)
            )
              return !0;
          } else (s += Ks(d, f, d, v, n, i)), (s += Ks(c, v, c, f, n, i));
          break;
        case Gl.Z:
          if (t) {
            if (Hl(l, u, c, f, e, n, i)) return !0;
          } else s += Ks(l, u, c, f, n, i);
          (l = c), (u = f);
      }
    }
    return (
      !t &&
        !(function uE(r, e) {
          return Math.abs(r - e) < 1e-4;
        })(u, f) &&
        (s += Ks(l, u, c, f, n, i) || 0),
      0 !== s
    );
  }
  var cp = Ot(
      {
        fill: '#000',
        stroke: null,
        strokePercent: 1,
        fillOpacity: 1,
        strokeOpacity: 1,
        lineDashOffset: 0,
        lineWidth: 1,
        lineCap: 'butt',
        miterLimit: 10,
        strokeNoScale: !1,
        strokeFirst: !1,
      },
      Fa
    ),
    gE = {
      style: Ot(
        {
          fill: !0,
          stroke: !0,
          strokePercent: !0,
          fillOpacity: !0,
          strokeOpacity: !0,
          lineDashOffset: !0,
          lineWidth: !0,
          miterLimit: !0,
        },
        qs.style
      ),
    },
    Zm = Pa.concat(['invisible', 'culling', 'z', 'z2', 'zlevel', 'parent']),
    Lr = (function (r) {
      function e(t) {
        return r.call(this, t) || this;
      }
      return (
        ut(e, r),
        (e.prototype.update = function () {
          var t = this;
          r.prototype.update.call(this);
          var n = this.style;
          if (n.decal) {
            var i = (this._decalEl = this._decalEl || new e());
            i.buildPath === e.prototype.buildPath &&
              (i.buildPath = function (l) {
                t.buildPath(l, t.shape);
              }),
              (i.silent = !0);
            var a = i.style;
            for (var o in n) a[o] !== n[o] && (a[o] = n[o]);
            (a.fill = n.fill ? n.decal : null),
              (a.decal = null),
              (a.shadowColor = null),
              n.strokeFirst && (a.stroke = null);
            for (var s = 0; s < Zm.length; ++s) i[Zm[s]] = this[Zm[s]];
            i.__dirty |= ta;
          } else this._decalEl && (this._decalEl = null);
        }),
        (e.prototype.getDecalElement = function () {
          return this._decalEl;
        }),
        (e.prototype._init = function (t) {
          var n = Ne(t);
          this.shape = this.getDefaultShape();
          var i = this.getDefaultStyle();
          i && this.useStyle(i);
          for (var a = 0; a < n.length; a++) {
            var o = n[a],
              s = t[o];
            'style' === o
              ? this.style
                ? nt(this.style, s)
                : this.useStyle(s)
              : 'shape' === o
              ? nt(this.shape, s)
              : r.prototype.attrKV.call(this, o, s);
          }
          this.style || this.useStyle({});
        }),
        (e.prototype.getDefaultStyle = function () {
          return null;
        }),
        (e.prototype.getDefaultShape = function () {
          return {};
        }),
        (e.prototype.canBeInsideText = function () {
          return this.hasFill();
        }),
        (e.prototype.getInsideTextFill = function () {
          var t = this.style.fill;
          if ('none' !== t) {
            if (ht(t)) {
              var n = Ps(t, 0);
              return n > 0.5 ? lf : n > 0.2 ? '#eee' : jo;
            }
            if (t) return jo;
          }
          return lf;
        }),
        (e.prototype.getInsideTextStroke = function (t) {
          var n = this.style.fill;
          if (ht(n)) {
            var i = this.__zr;
            if (!(!i || !i.isDarkMode()) == Ps(t, 0) < 0.4) return n;
          }
        }),
        (e.prototype.buildPath = function (t, n, i) {}),
        (e.prototype.pathUpdated = function () {
          this.__dirty &= ~Ms;
        }),
        (e.prototype.getUpdatedPathProxy = function (t) {
          return (
            !this.path && this.createPathProxy(),
            this.path.beginPath(),
            this.buildPath(this.path, this.shape, t),
            this.path
          );
        }),
        (e.prototype.createPathProxy = function () {
          this.path = new os(!1);
        }),
        (e.prototype.hasStroke = function () {
          var t = this.style,
            n = t.stroke;
          return !(null == n || 'none' === n || !(t.lineWidth > 0));
        }),
        (e.prototype.hasFill = function () {
          var n = this.style.fill;
          return null != n && 'none' !== n;
        }),
        (e.prototype.getBoundingRect = function () {
          var t = this._rect,
            n = this.style,
            i = !t;
          if (i) {
            var a = !1;
            this.path || ((a = !0), this.createPathProxy());
            var o = this.path;
            (a || this.__dirty & Ms) &&
              (o.beginPath(),
              this.buildPath(o, this.shape, !1),
              this.pathUpdated()),
              (t = o.getBoundingRect());
          }
          if (
            ((this._rect = t),
            this.hasStroke() && this.path && this.path.len() > 0)
          ) {
            var s = this._rectStroke || (this._rectStroke = t.clone());
            if (this.__dirty || i) {
              s.copy(t);
              var l = n.strokeNoScale ? this.getLineScale() : 1,
                u = n.lineWidth;
              this.hasFill() ||
                (u = Math.max(u, this.strokeContainThreshold ?? 4)),
                l > 1e-10 &&
                  ((s.width += u / l),
                  (s.height += u / l),
                  (s.x -= u / l / 2),
                  (s.y -= u / l / 2));
            }
            return s;
          }
          return t;
        }),
        (e.prototype.contain = function (t, n) {
          var i = this.transformCoordToLocal(t, n),
            a = this.getBoundingRect(),
            o = this.style;
          if (a.contain((t = i[0]), (n = i[1]))) {
            var s = this.path;
            if (this.hasStroke()) {
              var l = o.lineWidth,
                u = o.strokeNoScale ? this.getLineScale() : 1;
              if (
                u > 1e-10 &&
                (this.hasFill() ||
                  (l = Math.max(l, this.strokeContainThreshold)),
                (function pE(r, e, t, n) {
                  return l_(r, e, !0, t, n);
                })(s, l / u, t, n))
              )
                return !0;
            }
            if (this.hasFill())
              return (function vE(r, e, t) {
                return l_(r, 0, !1, e, t);
              })(s, t, n);
          }
          return !1;
        }),
        (e.prototype.dirtyShape = function () {
          (this.__dirty |= Ms),
            this._rect && (this._rect = null),
            this._decalEl && this._decalEl.dirtyShape(),
            this.markRedraw();
        }),
        (e.prototype.dirty = function () {
          this.dirtyStyle(), this.dirtyShape();
        }),
        (e.prototype.animateShape = function (t) {
          return this.animate('shape', t);
        }),
        (e.prototype.updateDuringAnimation = function (t) {
          'style' === t
            ? this.dirtyStyle()
            : 'shape' === t
            ? this.dirtyShape()
            : this.markRedraw();
        }),
        (e.prototype.attrKV = function (t, n) {
          'shape' === t
            ? this.setShape(n)
            : r.prototype.attrKV.call(this, t, n);
        }),
        (e.prototype.setShape = function (t, n) {
          var i = this.shape;
          return (
            i || (i = this.shape = {}),
            'string' == typeof t ? (i[t] = n) : nt(i, t),
            this.dirtyShape(),
            this
          );
        }),
        (e.prototype.shapeChanged = function () {
          return !!(this.__dirty & Ms);
        }),
        (e.prototype.createStyle = function (t) {
          return $e(cp, t);
        }),
        (e.prototype._innerSaveToNormal = function (t) {
          r.prototype._innerSaveToNormal.call(this, t);
          var n = this._normalState;
          t.shape && !n.shape && (n.shape = nt({}, this.shape));
        }),
        (e.prototype._applyStateObj = function (t, n, i, a, o, s) {
          r.prototype._applyStateObj.call(this, t, n, i, a, o, s);
          var u,
            l = !(n && a);
          if (
            (n && n.shape
              ? o
                ? a
                  ? (u = n.shape)
                  : ((u = nt({}, i.shape)), nt(u, n.shape))
                : ((u = nt({}, a ? this.shape : i.shape)), nt(u, n.shape))
              : l && (u = i.shape),
            u)
          )
            if (o) {
              this.shape = nt({}, this.shape);
              for (var c = {}, f = Ne(u), d = 0; d < f.length; d++) {
                var v = f[d];
                'object' == typeof u[v]
                  ? (this.shape[v] = u[v])
                  : (c[v] = u[v]);
              }
              this._transitionState(t, { shape: c }, s);
            } else (this.shape = u), this.dirtyShape();
        }),
        (e.prototype._mergeStates = function (t) {
          for (
            var i, n = r.prototype._mergeStates.call(this, t), a = 0;
            a < t.length;
            a++
          ) {
            var o = t[a];
            o.shape && this._mergeStyle((i = i || {}), o.shape);
          }
          return i && (n.shape = i), n;
        }),
        (e.prototype.getAnimationStyleProps = function () {
          return gE;
        }),
        (e.prototype.isZeroArea = function () {
          return !1;
        }),
        (e.extend = function (t) {
          var n = (function (a) {
            function o(s) {
              var l = a.call(this, s) || this;
              return t.init && t.init.call(l, s), l;
            }
            return (
              ut(o, a),
              (o.prototype.getDefaultStyle = function () {
                return ft(t.style);
              }),
              (o.prototype.getDefaultShape = function () {
                return ft(t.shape);
              }),
              o
            );
          })(e);
          for (var i in t) 'function' == typeof t[i] && (n.prototype[i] = t[i]);
          return n;
        }),
        (e.initDefaultProps =
          (((t = e.prototype).type = 'path'),
          (t.strokeContainThreshold = 5),
          (t.segmentIgnoreThreshold = 0),
          (t.subPixelOptimize = !1),
          (t.autoBatch = !1),
          void (t.__dirty = 2 | ta | Ms))),
        e
      );
      var t;
    })(sa),
    mE = Ot(
      {
        strokeFirst: !0,
        font: ct,
        x: 0,
        y: 0,
        textAlign: 'left',
        textBaseline: 'top',
        miterLimit: 2,
      },
      cp
    ),
    gf = (function (r) {
      function e() {
        return (null !== r && r.apply(this, arguments)) || this;
      }
      return (
        ut(e, r),
        (e.prototype.hasStroke = function () {
          var t = this.style,
            n = t.stroke;
          return null != n && 'none' !== n && t.lineWidth > 0;
        }),
        (e.prototype.hasFill = function () {
          var n = this.style.fill;
          return null != n && 'none' !== n;
        }),
        (e.prototype.createStyle = function (t) {
          return $e(mE, t);
        }),
        (e.prototype.setBoundingRect = function (t) {
          this._rect = t;
        }),
        (e.prototype.getBoundingRect = function () {
          var t = this.style;
          if (!this._rect) {
            var n = t.text;
            null != n ? (n += '') : (n = '');
            var i = kl(n, t.font, t.textAlign, t.textBaseline);
            if (((i.x += t.x || 0), (i.y += t.y || 0), this.hasStroke())) {
              var a = t.lineWidth;
              (i.x -= a / 2), (i.y -= a / 2), (i.width += a), (i.height += a);
            }
            this._rect = i;
          }
          return this._rect;
        }),
        (e.initDefaultProps = void (e.prototype.dirtyRectTolerance = 10)),
        e
      );
    })(sa);
  gf.prototype.type = 'tspan';
  var yE = Ot({ x: 0, y: 0 }, Fa),
    xE = {
      style: Ot(
        {
          x: !0,
          y: !0,
          width: !0,
          height: !0,
          sx: !0,
          sy: !0,
          sWidth: !0,
          sHeight: !0,
        },
        qs.style
      ),
    },
    ai = (function (r) {
      function e() {
        return (null !== r && r.apply(this, arguments)) || this;
      }
      return (
        ut(e, r),
        (e.prototype.createStyle = function (t) {
          return $e(yE, t);
        }),
        (e.prototype._getSize = function (t) {
          var n = this.style,
            i = n[t];
          if (null != i) return i;
          var a = (function bE(r) {
            return !!(r && 'string' != typeof r && r.width && r.height);
          })(n.image)
            ? n.image
            : this.__image;
          if (!a) return 0;
          var o = 'width' === t ? 'height' : 'width',
            s = n[o];
          return null == s ? a[t] : (a[t] / a[o]) * s;
        }),
        (e.prototype.getWidth = function () {
          return this._getSize('width');
        }),
        (e.prototype.getHeight = function () {
          return this._getSize('height');
        }),
        (e.prototype.getAnimationStyleProps = function () {
          return xE;
        }),
        (e.prototype.getBoundingRect = function () {
          var t = this.style;
          return (
            this._rect ||
              (this._rect = new it(
                t.x || 0,
                t.y || 0,
                this.getWidth(),
                this.getHeight()
              )),
            this._rect
          );
        }),
        e
      );
    })(sa);
  ai.prototype.type = 'image';
  var mf = Math.round;
  function u_(r, e, t) {
    if (e) {
      var n = e.x1,
        i = e.x2,
        a = e.y1,
        o = e.y2;
      (r.x1 = n), (r.x2 = i), (r.y1 = a), (r.y2 = o);
      var s = t && t.lineWidth;
      return (
        s &&
          (mf(2 * n) === mf(2 * i) && (r.x1 = r.x2 = ec(n, s, !0)),
          mf(2 * a) === mf(2 * o) && (r.y1 = r.y2 = ec(a, s, !0))),
        r
      );
    }
  }
  function c_(r, e, t) {
    if (e) {
      var n = e.x,
        i = e.y,
        a = e.width,
        o = e.height;
      (r.x = n), (r.y = i), (r.width = a), (r.height = o);
      var s = t && t.lineWidth;
      return (
        s &&
          ((r.x = ec(n, s, !0)),
          (r.y = ec(i, s, !0)),
          (r.width = Math.max(ec(n + a, s, !1) - r.x, 0 === a ? 0 : 1)),
          (r.height = Math.max(ec(i + o, s, !1) - r.y, 0 === o ? 0 : 1))),
        r
      );
    }
  }
  function ec(r, e, t) {
    if (!e) return r;
    var n = mf(2 * r);
    return (n + mf(e)) % 2 == 0 ? n / 2 : (n + (t ? 1 : -1)) / 2;
  }
  var SE = function r() {
      (this.x = 0), (this.y = 0), (this.width = 0), (this.height = 0);
    },
    wE = {},
    Rr = (function (r) {
      function e(t) {
        return r.call(this, t) || this;
      }
      return (
        ut(e, r),
        (e.prototype.getDefaultShape = function () {
          return new SE();
        }),
        (e.prototype.buildPath = function (t, n) {
          var i, a, o, s;
          if (this.subPixelOptimize) {
            var l = c_(wE, n, this.style);
            (i = l.x),
              (a = l.y),
              (o = l.width),
              (s = l.height),
              (l.r = n.r),
              (n = l);
          } else (i = n.x), (a = n.y), (o = n.width), (s = n.height);
          n.r
            ? (function _E(r, e) {
                var s,
                  l,
                  u,
                  c,
                  f,
                  t = e.x,
                  n = e.y,
                  i = e.width,
                  a = e.height,
                  o = e.r;
                i < 0 && ((t += i), (i = -i)),
                  a < 0 && ((n += a), (a = -a)),
                  'number' == typeof o
                    ? (s = l = u = c = o)
                    : o instanceof Array
                    ? 1 === o.length
                      ? (s = l = u = c = o[0])
                      : 2 === o.length
                      ? ((s = u = o[0]), (l = c = o[1]))
                      : 3 === o.length
                      ? ((s = o[0]), (l = c = o[1]), (u = o[2]))
                      : ((s = o[0]), (l = o[1]), (u = o[2]), (c = o[3]))
                    : (s = l = u = c = 0),
                  s + l > i && ((s *= i / (f = s + l)), (l *= i / f)),
                  u + c > i && ((u *= i / (f = u + c)), (c *= i / f)),
                  l + u > a && ((l *= a / (f = l + u)), (u *= a / f)),
                  s + c > a && ((s *= a / (f = s + c)), (c *= a / f)),
                  r.moveTo(t + s, n),
                  r.lineTo(t + i - l, n),
                  0 !== l && r.arc(t + i - l, n + l, l, -Math.PI / 2, 0),
                  r.lineTo(t + i, n + a - u),
                  0 !== u && r.arc(t + i - u, n + a - u, u, 0, Math.PI / 2),
                  r.lineTo(t + c, n + a),
                  0 !== c && r.arc(t + c, n + a - c, c, Math.PI / 2, Math.PI),
                  r.lineTo(t, n + s),
                  0 !== s && r.arc(t + s, n + s, s, Math.PI, 1.5 * Math.PI);
              })(t, n)
            : t.rect(i, a, o, s);
        }),
        (e.prototype.isZeroArea = function () {
          return !this.shape.width || !this.shape.height;
        }),
        e
      );
    })(Lr);
  Rr.prototype.type = 'rect';
  var f_ = { fill: '#000' },
    CE = {
      style: Ot(
        {
          fill: !0,
          stroke: !0,
          fillOpacity: !0,
          strokeOpacity: !0,
          lineWidth: !0,
          fontSize: !0,
          lineHeight: !0,
          width: !0,
          height: !0,
          textShadowColor: !0,
          textShadowBlur: !0,
          textShadowOffsetX: !0,
          textShadowOffsetY: !0,
          backgroundColor: !0,
          padding: !0,
          borderColor: !0,
          borderWidth: !0,
          borderRadius: !0,
        },
        qs.style
      ),
    },
    Or = (function (r) {
      function e(t) {
        var n = r.call(this) || this;
        return (
          (n.type = 'text'),
          (n._children = []),
          (n._defaultStyle = f_),
          n.attr(t),
          n
        );
      }
      return (
        ut(e, r),
        (e.prototype.childrenRef = function () {
          return this._children;
        }),
        (e.prototype.update = function () {
          r.prototype.update.call(this),
            this.styleChanged() && this._updateSubTexts();
          for (var t = 0; t < this._children.length; t++) {
            var n = this._children[t];
            (n.zlevel = this.zlevel),
              (n.z = this.z),
              (n.z2 = this.z2),
              (n.culling = this.culling),
              (n.cursor = this.cursor),
              (n.invisible = this.invisible);
          }
        }),
        (e.prototype.updateTransform = function () {
          var t = this.innerTransformable;
          t
            ? (t.updateTransform(),
              t.transform && (this.transform = t.transform))
            : r.prototype.updateTransform.call(this);
        }),
        (e.prototype.getLocalTransform = function (t) {
          var n = this.innerTransformable;
          return n
            ? n.getLocalTransform(t)
            : r.prototype.getLocalTransform.call(this, t);
        }),
        (e.prototype.getComputedTransform = function () {
          return (
            this.__hostTarget &&
              (this.__hostTarget.getComputedTransform(),
              this.__hostTarget.updateInnerText(!0)),
            r.prototype.getComputedTransform.call(this)
          );
        }),
        (e.prototype._updateSubTexts = function () {
          (this._childCursor = 0),
            (function AE(r) {
              m_(r), F(r.rich, m_);
            })(this.style),
            this.style.rich
              ? this._updateRichTexts()
              : this._updatePlainTexts(),
            (this._children.length = this._childCursor),
            this.styleUpdated();
        }),
        (e.prototype.addSelfToZr = function (t) {
          r.prototype.addSelfToZr.call(this, t);
          for (var n = 0; n < this._children.length; n++)
            this._children[n].__zr = t;
        }),
        (e.prototype.removeSelfFromZr = function (t) {
          r.prototype.removeSelfFromZr.call(this, t);
          for (var n = 0; n < this._children.length; n++)
            this._children[n].__zr = null;
        }),
        (e.prototype.getBoundingRect = function () {
          if ((this.styleChanged() && this._updateSubTexts(), !this._rect)) {
            for (
              var t = new it(0, 0, 0, 0),
                n = this._children,
                i = [],
                a = null,
                o = 0;
              o < n.length;
              o++
            ) {
              var s = n[o],
                l = s.getBoundingRect(),
                u = s.getLocalTransform(i);
              u
                ? (t.copy(l),
                  t.applyTransform(u),
                  (a = a || t.clone()).union(t))
                : (a = a || l.clone()).union(l);
            }
            this._rect = a || t;
          }
          return this._rect;
        }),
        (e.prototype.setDefaultTextStyle = function (t) {
          this._defaultStyle = t || f_;
        }),
        (e.prototype.setTextContent = function (t) {
          throw new Error("Can't attach text on another text");
        }),
        (e.prototype._mergeStyle = function (t, n) {
          if (!n) return t;
          var i = n.rich,
            a = t.rich || (i && {});
          return (
            nt(t, n),
            i && a ? (this._mergeRich(a, i), (t.rich = a)) : a && (t.rich = a),
            t
          );
        }),
        (e.prototype._mergeRich = function (t, n) {
          for (var i = Ne(n), a = 0; a < i.length; a++) {
            var o = i[a];
            (t[o] = t[o] || {}), nt(t[o], n[o]);
          }
        }),
        (e.prototype.getAnimationStyleProps = function () {
          return CE;
        }),
        (e.prototype._getOrCreateChild = function (t) {
          var n = this._children[this._childCursor];
          return (
            (!n || !(n instanceof t)) && (n = new t()),
            (this._children[this._childCursor++] = n),
            (n.__zr = this.__zr),
            (n.parent = this),
            n
          );
        }),
        (e.prototype._updatePlainTexts = function () {
          var t = this.style,
            n = t.font || ct,
            i = t.padding,
            o = (function Sa(r, e) {
              null != r && (r += '');
              var f,
                t = e.overflow,
                n = e.padding,
                i = e.font,
                a = 'truncate' === t,
                o = Eu(i),
                s = B(e.lineHeight, o),
                l = !!e.backgroundColor,
                u = 'truncate' === e.lineOverflow,
                c = e.width,
                d =
                  (f =
                    null == c || ('break' !== t && 'breakAll' !== t)
                      ? r
                        ? r.split('\n')
                        : []
                      : r
                      ? Zs(r, e.font, c, 'breakAll' === t, 0).lines
                      : []).length * s,
                v = B(e.height, d);
              if (d > v && u) {
                var g = Math.floor(v / s);
                f = f.slice(0, g);
              }
              if (r && a && null != c)
                for (
                  var m = Kn(c, i, e.ellipsis, {
                      minChar: e.truncateMinChar,
                      placeholder: e.placeholder,
                    }),
                    y = 0;
                  y < f.length;
                  y++
                )
                  f[y] = cn(f[y], m);
              var b = v,
                w = 0;
              for (y = 0; y < f.length; y++) w = Math.max(gi(f[y], i), w);
              null == c && (c = w);
              var C = w;
              return (
                n &&
                  ((b += n[0] + n[2]), (C += n[1] + n[3]), (c += n[1] + n[3])),
                l && (C = c),
                {
                  lines: f,
                  height: v,
                  outerWidth: C,
                  outerHeight: b,
                  lineHeight: s,
                  calculatedLineHeight: o,
                  contentWidth: w,
                  contentHeight: d,
                  width: c,
                }
              );
            })(__(t), t),
            s = qm(t),
            l = !!t.backgroundColor,
            u = o.outerHeight,
            c = o.outerWidth,
            f = o.contentWidth,
            d = o.lines,
            v = o.lineHeight,
            g = this._defaultStyle,
            m = t.x || 0,
            y = t.y || 0,
            b = t.align || g.align || 'left',
            w = t.verticalAlign || g.verticalAlign || 'top',
            C = m,
            D = Ra(y, o.contentHeight, w);
          if (s || i) {
            var L = El(m, c, b),
              M = Ra(y, u, w);
            s && this._renderBackground(t, t, L, M, c, u);
          }
          (D += v / 2),
            i &&
              ((C = b_(m, b, i)),
              'top' === w ? (D += i[0]) : 'bottom' === w && (D -= i[2]));
          for (
            var E = 0,
              O = !1,
              z = x_(('fill' in t) ? t.fill : ((O = !0), g.fill)),
              H = y_(
                ('stroke' in t)
                  ? t.stroke
                  : l || (g.autoStroke && !O)
                  ? null
                  : ((E = 2), g.stroke)
              ),
              G = t.textShadowBlur > 0,
              X =
                null != t.width &&
                ('truncate' === t.overflow ||
                  'break' === t.overflow ||
                  'breakAll' === t.overflow),
              K = o.calculatedLineHeight,
              tt = 0;
            tt < d.length;
            tt++
          ) {
            var ot = this._getOrCreateChild(gf),
              pt = ot.createStyle();
            ot.useStyle(pt),
              (pt.text = d[tt]),
              (pt.x = C),
              (pt.y = D),
              b && (pt.textAlign = b),
              (pt.textBaseline = 'middle'),
              (pt.opacity = t.opacity),
              (pt.strokeFirst = !0),
              G &&
                ((pt.shadowBlur = t.textShadowBlur || 0),
                (pt.shadowColor = t.textShadowColor || 'transparent'),
                (pt.shadowOffsetX = t.textShadowOffsetX || 0),
                (pt.shadowOffsetY = t.textShadowOffsetY || 0)),
              (pt.stroke = H),
              (pt.fill = z),
              H &&
                ((pt.lineWidth = t.lineWidth || E),
                (pt.lineDash = t.lineDash),
                (pt.lineDashOffset = t.lineDashOffset || 0)),
              (pt.font = n),
              p_(pt, t),
              (D += v),
              X &&
                ot.setBoundingRect(
                  new it(
                    El(pt.x, t.width, pt.textAlign),
                    Ra(pt.y, K, pt.textBaseline),
                    f,
                    K
                  )
                );
          }
        }),
        (e.prototype._updateRichTexts = function () {
          var t = this.style,
            i = (function ip(r, e) {
              var t = new vf();
              if ((null != r && (r += ''), !r)) return t;
              for (
                var l,
                  n = e.width,
                  i = e.height,
                  a = e.overflow,
                  o =
                    ('break' !== a && 'breakAll' !== a) || null == n
                      ? null
                      : { width: n, accumWidth: 0, breakAll: 'breakAll' === a },
                  s = (jr.lastIndex = 0);
                null != (l = jr.exec(r));

              ) {
                var u = l.index;
                u > s && ko(t, r.substring(s, u), e, o),
                  ko(t, l[2], e, o, l[1]),
                  (s = jr.lastIndex);
              }
              s < r.length && ko(t, r.substring(s, r.length), e, o);
              var c = [],
                f = 0,
                d = 0,
                v = e.padding,
                g = 'truncate' === a,
                m = 'truncate' === e.lineOverflow;
              function y(Vt, re, ye) {
                (Vt.width = re),
                  (Vt.lineHeight = ye),
                  (f += ye),
                  (d = Math.max(d, re));
              }
              t: for (var b = 0; b < t.lines.length; b++) {
                for (
                  var w = t.lines[b], C = 0, D = 0, L = 0;
                  L < w.tokens.length;
                  L++
                ) {
                  var E =
                      ((M = w.tokens[L]).styleName && e.rich[M.styleName]) ||
                      {},
                    O = (M.textPadding = E.padding),
                    z = O ? O[1] + O[3] : 0,
                    H = (M.font = E.font || e.font);
                  M.contentHeight = Eu(H);
                  var G = B(E.height, M.contentHeight);
                  if (
                    ((M.innerHeight = G),
                    O && (G += O[0] + O[2]),
                    (M.height = G),
                    (M.lineHeight = J(E.lineHeight, e.lineHeight, G)),
                    (M.align = (E && E.align) || e.align),
                    (M.verticalAlign = (E && E.verticalAlign) || 'middle'),
                    m && null != i && f + M.lineHeight > i)
                  ) {
                    L > 0
                      ? ((w.tokens = w.tokens.slice(0, L)),
                        y(w, D, C),
                        (t.lines = t.lines.slice(0, b + 1)))
                      : (t.lines = t.lines.slice(0, b));
                    break t;
                  }
                  var X = E.width,
                    K = null == X || 'auto' === X;
                  if ('string' == typeof X && '%' === X.charAt(X.length - 1))
                    (M.percentWidth = X),
                      c.push(M),
                      (M.contentWidth = gi(M.text, H));
                  else {
                    if (K) {
                      var tt = E.backgroundColor,
                        ot = tt && tt.image;
                      ot &&
                        zn((ot = Br(ot))) &&
                        (M.width = Math.max(
                          M.width,
                          (ot.width * G) / ot.height
                        ));
                    }
                    var pt = g && null != n ? n - D : null;
                    null != pt && pt < M.width
                      ? !K || pt < z
                        ? ((M.text = ''), (M.width = M.contentWidth = 0))
                        : ((M.text = jn(M.text, pt - z, H, e.ellipsis, {
                            minChar: e.truncateMinChar,
                          })),
                          (M.width = M.contentWidth = gi(M.text, H)))
                      : (M.contentWidth = gi(M.text, H));
                  }
                  (M.width += z),
                    (D += M.width),
                    E && (C = Math.max(C, M.lineHeight));
                }
                y(w, D, C);
              }
              for (
                t.outerWidth = t.width = B(n, d),
                  t.outerHeight = t.height = B(i, f),
                  t.contentHeight = f,
                  t.contentWidth = d,
                  v &&
                    ((t.outerWidth += v[1] + v[3]),
                    (t.outerHeight += v[0] + v[2])),
                  b = 0;
                b < c.length;
                b++
              ) {
                var M;
                (M = c[b]).width =
                  (parseInt(M.percentWidth, 10) / 100) * t.width;
              }
              return t;
            })(__(t), t),
            a = i.width,
            o = i.outerWidth,
            s = i.outerHeight,
            l = t.padding,
            c = t.y || 0,
            f = this._defaultStyle,
            v = t.verticalAlign || f.verticalAlign,
            g = El(t.x || 0, o, t.align || f.align),
            m = Ra(c, s, v),
            y = g,
            b = m;
          l && ((y += l[3]), (b += l[0]));
          var w = y + a;
          qm(t) && this._renderBackground(t, t, g, m, o, s);
          for (var C = !!t.backgroundColor, D = 0; D < i.lines.length; D++) {
            for (
              var L = i.lines[D],
                M = L.tokens,
                E = M.length,
                O = L.lineHeight,
                z = L.width,
                H = 0,
                G = y,
                X = w,
                K = E - 1,
                tt = void 0;
              H < E && (!(tt = M[H]).align || 'left' === tt.align);

            )
              this._placeToken(tt, t, O, b, G, 'left', C),
                (z -= tt.width),
                (G += tt.width),
                H++;
            for (; K >= 0 && 'right' === (tt = M[K]).align; )
              this._placeToken(tt, t, O, b, X, 'right', C),
                (z -= tt.width),
                (X -= tt.width),
                K--;
            for (G += (a - (G - y) - (w - X) - z) / 2; H <= K; )
              this._placeToken(
                (tt = M[H]),
                t,
                O,
                b,
                G + tt.width / 2,
                'center',
                C
              ),
                (G += tt.width),
                H++;
            b += O;
          }
        }),
        (e.prototype._placeToken = function (t, n, i, a, o, s, l) {
          var u = n.rich[t.styleName] || {};
          u.text = t.text;
          var c = t.verticalAlign,
            f = a + i / 2;
          'top' === c
            ? (f = a + t.height / 2)
            : 'bottom' === c && (f = a + i - t.height / 2),
            !t.isLineHolder &&
              qm(u) &&
              this._renderBackground(
                u,
                n,
                'right' === s
                  ? o - t.width
                  : 'center' === s
                  ? o - t.width / 2
                  : o,
                f - t.height / 2,
                t.width,
                t.height
              );
          var v = !!u.backgroundColor,
            g = t.textPadding;
          g &&
            ((o = b_(o, s, g)), (f -= t.height / 2 - g[0] - t.innerHeight / 2));
          var m = this._getOrCreateChild(gf),
            y = m.createStyle();
          m.useStyle(y);
          var b = this._defaultStyle,
            w = !1,
            C = 0,
            D = x_(
              'fill' in u ? u.fill : 'fill' in n ? n.fill : ((w = !0), b.fill)
            ),
            L = y_(
              'stroke' in u
                ? u.stroke
                : 'stroke' in n
                ? n.stroke
                : v || l || (b.autoStroke && !w)
                ? null
                : ((C = 2), b.stroke)
            ),
            M = u.textShadowBlur > 0 || n.textShadowBlur > 0;
          (y.text = t.text),
            (y.x = o),
            (y.y = f),
            M &&
              ((y.shadowBlur = u.textShadowBlur || n.textShadowBlur || 0),
              (y.shadowColor =
                u.textShadowColor || n.textShadowColor || 'transparent'),
              (y.shadowOffsetX =
                u.textShadowOffsetX || n.textShadowOffsetX || 0),
              (y.shadowOffsetY =
                u.textShadowOffsetY || n.textShadowOffsetY || 0)),
            (y.textAlign = s),
            (y.textBaseline = 'middle'),
            (y.font = t.font || ct),
            (y.opacity = J(u.opacity, n.opacity, 1)),
            p_(y, u),
            L &&
              ((y.lineWidth = J(u.lineWidth, n.lineWidth, C)),
              (y.lineDash = B(u.lineDash, n.lineDash)),
              (y.lineDashOffset = n.lineDashOffset || 0),
              (y.stroke = L)),
            D && (y.fill = D);
          var E = t.contentWidth,
            O = t.contentHeight;
          m.setBoundingRect(
            new it(El(y.x, E, y.textAlign), Ra(y.y, O, y.textBaseline), E, O)
          );
        }),
        (e.prototype._renderBackground = function (t, n, i, a, o, s) {
          var m,
            y,
            w,
            l = t.backgroundColor,
            u = t.borderWidth,
            c = t.borderColor,
            f = l && l.image,
            d = l && !f,
            v = t.borderRadius,
            g = this;
          if (d || t.lineHeight || (u && c)) {
            (m = this._getOrCreateChild(Rr)).useStyle(m.createStyle()),
              (m.style.fill = null);
            var b = m.shape;
            (b.x = i),
              (b.y = a),
              (b.width = o),
              (b.height = s),
              (b.r = v),
              m.dirtyShape();
          }
          if (d)
            ((w = m.style).fill = l || null),
              (w.fillOpacity = B(t.fillOpacity, 1));
          else if (f) {
            (y = this._getOrCreateChild(ai)).onload = function () {
              g.dirtyStyle();
            };
            var C = y.style;
            (C.image = l.image),
              (C.x = i),
              (C.y = a),
              (C.width = o),
              (C.height = s);
          }
          u &&
            c &&
            (((w = m.style).lineWidth = u),
            (w.stroke = c),
            (w.strokeOpacity = B(t.strokeOpacity, 1)),
            (w.lineDash = t.borderDash),
            (w.lineDashOffset = t.borderDashOffset || 0),
            (m.strokeContainThreshold = 0),
            m.hasFill() &&
              m.hasStroke() &&
              ((w.strokeFirst = !0), (w.lineWidth *= 2)));
          var D = (m || y).style;
          (D.shadowBlur = t.shadowBlur || 0),
            (D.shadowColor = t.shadowColor || 'transparent'),
            (D.shadowOffsetX = t.shadowOffsetX || 0),
            (D.shadowOffsetY = t.shadowOffsetY || 0),
            (D.opacity = J(t.opacity, n.opacity, 1));
        }),
        (e.makeFont = function (t) {
          var n = '';
          return (
            g_(t) &&
              (n = [
                t.fontStyle,
                t.fontWeight,
                v_(t.fontSize),
                t.fontFamily || 'sans-serif',
              ].join(' ')),
            (n && Et(n)) || t.textFont || t.font
          );
        }),
        e
      );
    })(sa),
    DE = { left: !0, right: 1, center: 1 },
    TE = { top: 1, bottom: 1, middle: 1 },
    d_ = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily'];
  function v_(r) {
    return 'string' != typeof r ||
      (-1 === r.indexOf('px') &&
        -1 === r.indexOf('rem') &&
        -1 === r.indexOf('em'))
      ? isNaN(+r)
        ? Dt + 'px'
        : r + 'px'
      : r;
  }
  function p_(r, e) {
    for (var t = 0; t < d_.length; t++) {
      var n = d_[t],
        i = e[n];
      null != i && (r[n] = i);
    }
  }
  function g_(r) {
    return null != r.fontSize || r.fontFamily || r.fontWeight;
  }
  function m_(r) {
    if (r) {
      r.font = Or.makeFont(r);
      var e = r.align;
      'middle' === e && (e = 'center'),
        (r.align = null == e || DE[e] ? e : 'left');
      var t = r.verticalAlign;
      'center' === t && (t = 'middle'),
        (r.verticalAlign = null == t || TE[t] ? t : 'top'),
        r.padding && (r.padding = et(r.padding));
    }
  }
  function y_(r, e) {
    return null == r || e <= 0 || 'transparent' === r || 'none' === r
      ? null
      : r.image || r.colorStops
      ? '#000'
      : r;
  }
  function x_(r) {
    return null == r || 'none' === r
      ? null
      : r.image || r.colorStops
      ? '#000'
      : r;
  }
  function b_(r, e, t) {
    return 'right' === e
      ? r - t[1]
      : 'center' === e
      ? r + t[3] / 2 - t[1] / 2
      : r + t[3];
  }
  function __(r) {
    var e = r.text;
    return null != e && (e += ''), e;
  }
  function qm(r) {
    return !!(
      r.backgroundColor ||
      r.lineHeight ||
      (r.borderWidth && r.borderColor)
    );
  }
  var fr = S(),
    jm = function (r, e, t, n) {
      if (n) {
        var i = fr(n);
        (i.dataIndex = t),
          (i.dataType = e),
          (i.seriesIndex = r),
          'group' === n.type &&
            n.traverse(function (a) {
              var o = fr(a);
              (o.seriesIndex = r), (o.dataIndex = t), (o.dataType = e);
            });
      }
    },
    S_ = 1,
    w_ = {},
    C_ = S(),
    Km = S(),
    Qm = 0,
    jh = 1,
    fp = 2,
    ua = ['emphasis', 'blur', 'select'],
    Kh = ['normal', 'emphasis', 'blur', 'select'],
    yf = 10,
    ME = 9,
    rc = 'highlight',
    hp = 'downplay',
    Qh = 'select',
    dp = 'unselect',
    Jh = 'toggleSelect';
  function xf(r) {
    return null != r && 'none' !== r;
  }
  var D_ = new Za(100);
  function T_(r) {
    if (ht(r)) {
      var e = D_.get(r);
      return e || ((e = tf(r, -0.1)), D_.put(r, e)), e;
    }
    if (Pt(r)) {
      var t = nt({}, r);
      return (
        (t.colorStops = Ut(r.colorStops, function (n) {
          return { offset: n.offset, color: tf(n.color, -0.1) };
        })),
        t
      );
    }
    return r;
  }
  function vp(r, e, t) {
    r.onHoverStateChange &&
      (r.hoverState || 0) !== t &&
      r.onHoverStateChange(e),
      (r.hoverState = t);
  }
  function A_(r) {
    vp(r, 'emphasis', fp);
  }
  function M_(r) {
    r.hoverState === fp && vp(r, 'normal', Qm);
  }
  function Jm(r) {
    vp(r, 'blur', jh);
  }
  function L_(r) {
    r.hoverState === jh && vp(r, 'normal', Qm);
  }
  function LE(r) {
    r.selected = !0;
  }
  function IE(r) {
    r.selected = !1;
  }
  function I_(r, e, t) {
    e(r, t);
  }
  function Qs(r, e, t) {
    I_(r, e, t),
      r.isGroup &&
        r.traverse(function (n) {
          I_(n, e, t);
        });
  }
  function pp(r, e) {
    switch (e) {
      case 'emphasis':
        r.hoverState = fp;
        break;
      case 'normal':
        r.hoverState = Qm;
        break;
      case 'blur':
        r.hoverState = jh;
        break;
      case 'select':
        r.selected = !0;
    }
  }
  function ty(r, e) {
    var t = this.states[r];
    if (this.style) {
      if ('emphasis' === r)
        return (function EE(r, e, t, n) {
          var i = t && $(t, 'select') >= 0,
            a = !1;
          if (r instanceof Lr) {
            var o = C_(r),
              s = (i && o.selectFill) || o.normalFill,
              l = (i && o.selectStroke) || o.normalStroke;
            if (xf(s) || xf(l)) {
              var u = (n = n || {}).style || {};
              'inherit' === u.fill
                ? ((a = !0), (n = nt({}, n)), ((u = nt({}, u)).fill = s))
                : !xf(u.fill) && xf(s)
                ? ((a = !0), (n = nt({}, n)), ((u = nt({}, u)).fill = T_(s)))
                : !xf(u.stroke) &&
                  xf(l) &&
                  (a || ((n = nt({}, n)), (u = nt({}, u))), (u.stroke = T_(l))),
                (n.style = u);
            }
          }
          return (
            n &&
              null == n.z2 &&
              (a || (n = nt({}, n)), (n.z2 = r.z2 + (r.z2EmphasisLift ?? yf))),
            n
          );
        })(this, 0, e, t);
      if ('blur' === r)
        return (function RE(r, e, t) {
          var n = $(r.currentStates, e) >= 0,
            i = r.style.opacity,
            a = n
              ? null
              : (function kE(r, e, t, n) {
                  for (var i = r.style, a = {}, o = 0; o < e.length; o++) {
                    var s = e[o];
                    a[s] = i[s] ?? (n && n[s]);
                  }
                  for (o = 0; o < r.animators.length; o++) {
                    var u = r.animators[o];
                    u.__fromStateTransition &&
                      u.__fromStateTransition.indexOf(t) < 0 &&
                      'style' === u.targetName &&
                      u.saveTo(a, e);
                  }
                  return a;
                })(r, ['opacity'], e, { opacity: 1 }),
            o = (t = t || {}).style || {};
          return (
            null == o.opacity &&
              ((t = nt({}, t)),
              (o = nt({ opacity: n ? i : 0.1 * a.opacity }, o)),
              (t.style = o)),
            t
          );
        })(this, r, t);
      if ('select' === r)
        return (function PE(r, e, t) {
          return (
            t &&
              null == t.z2 &&
              ((t = nt({}, t)).z2 = r.z2 + (r.z2SelectLift ?? ME)),
            t
          );
        })(this, 0, t);
    }
    return t;
  }
  function nc(r) {
    r.stateProxy = ty;
    var e = r.getTextContent(),
      t = r.getTextGuideLine();
    e && (e.stateProxy = ty), t && (t.stateProxy = ty);
  }
  function k_(r, e) {
    !F_(r, e) && !r.__highByOuter && Qs(r, A_);
  }
  function E_(r, e) {
    !F_(r, e) && !r.__highByOuter && Qs(r, M_);
  }
  function Js(r, e) {
    (r.__highByOuter |= 1 << (e || 0)), Qs(r, A_);
  }
  function tl(r, e) {
    !(r.__highByOuter &= ~(1 << (e || 0))) && Qs(r, M_);
  }
  function P_(r) {
    Qs(r, Jm);
  }
  function ey(r) {
    Qs(r, L_);
  }
  function R_(r) {
    Qs(r, LE);
  }
  function O_(r) {
    Qs(r, IE);
  }
  function F_(r, e) {
    return r.__highDownSilentOnTouch && e.zrByTouch;
  }
  function B_(r) {
    var e = r.getModel(),
      t = [],
      n = [];
    e.eachComponent(function (i, a) {
      var o = Km(a),
        s = 'series' === i,
        l = s ? r.getViewOfSeriesModel(a) : r.getViewOfComponentModel(a);
      !s && n.push(l),
        o.isBlured &&
          (l.group.traverse(function (u) {
            L_(u);
          }),
          s && t.push(a)),
        (o.isBlured = !1);
    }),
      F(n, function (i) {
        i && i.toggleBlurSeries && i.toggleBlurSeries(t, !1, e);
      });
  }
  function ry(r, e, t, n) {
    var i = n.getModel();
    function a(u, c) {
      for (var f = 0; f < c.length; f++) {
        var d = u.getItemGraphicEl(c[f]);
        d && ey(d);
      }
    }
    if (((t = t || 'coordinateSystem'), null != r && e && 'none' !== e)) {
      var o = i.getSeriesByIndex(r),
        s = o.coordinateSystem;
      s && s.master && (s = s.master);
      var l = [];
      i.eachSeries(function (u) {
        var c = o === u,
          f = u.coordinateSystem;
        if (
          (f && f.master && (f = f.master),
          !(
            ('series' === t && !c) ||
            ('coordinateSystem' === t && !(f && s ? f === s : c)) ||
            ('series' === e && c)
          ))
        ) {
          if (
            (n.getViewOfSeriesModel(u).group.traverse(function (y) {
              (y.__highByOuter && c && 'self' === e) || Jm(y);
            }),
            sr(e))
          )
            a(u.getData(), e);
          else if (Y(e))
            for (var g = Ne(e), m = 0; m < g.length; m++)
              a(u.getData(g[m]), e[g[m]]);
          l.push(u), (Km(u).isBlured = !0);
        }
      }),
        i.eachComponent(function (u, c) {
          if ('series' !== u) {
            var f = n.getViewOfComponentModel(c);
            f && f.toggleBlurSeries && f.toggleBlurSeries(l, !0, i);
          }
        });
    }
  }
  function ny(r, e, t) {
    if (null != r && null != e) {
      var n = t.getModel().getComponent(r, e);
      if (n) {
        Km(n).isBlured = !0;
        var i = t.getViewOfComponentModel(n);
        !i ||
          !i.focusBlurEnabled ||
          i.group.traverse(function (a) {
            Jm(a);
          });
      }
    }
  }
  function iy(r, e, t, n) {
    var i = { focusSelf: !1, dispatchers: null };
    if (null == r || 'series' === r || null == e || null == t) return i;
    var a = n.getModel().getComponent(r, e);
    if (!a) return i;
    var o = n.getViewOfComponentModel(a);
    if (!o || !o.findHighDownDispatchers) return i;
    for (var l, s = o.findHighDownDispatchers(t), u = 0; u < s.length; u++)
      if (
        ($l(s[u]) || qn('param should be highDownDispatcher'),
        'self' === fr(s[u]).focus)
      ) {
        l = !0;
        break;
      }
    return { focusSelf: l, dispatchers: s };
  }
  function N_(r) {
    F(r.getAllData(), function (t) {
      var i = t.type;
      t.data.eachItemGraphicEl(function (a, o) {
        r.isSelected(o, i) ? R_(a) : O_(a);
      });
    });
  }
  function zE(r) {
    var e = [];
    return (
      r.eachSeries(function (t) {
        F(t.getAllData(), function (i) {
          var o = i.type,
            s = t.getSelectedDataIndices();
          if (s.length > 0) {
            var l = { dataIndex: s, seriesIndex: t.seriesIndex };
            null != o && (l.dataType = o), e.push(l);
          }
        });
      }),
      e
    );
  }
  function Wl(r, e, t) {
    ic(r, !0), Qs(r, nc), ay(r, e, t);
  }
  function wn(r, e, t, n) {
    n
      ? (function VE(r) {
          ic(r, !1);
        })(r)
      : Wl(r, e, t);
  }
  function ay(r, e, t) {
    var n = fr(r);
    null != e
      ? ((n.focus = e), (n.blurScope = t))
      : n.focus && (n.focus = null);
  }
  var z_ = ['emphasis', 'blur', 'select'],
    HE = {
      itemStyle: 'getItemStyle',
      lineStyle: 'getLineStyle',
      areaStyle: 'getAreaStyle',
    };
  function wi(r, e, t, n) {
    t = t || 'itemStyle';
    for (var i = 0; i < z_.length; i++) {
      var a = z_[i],
        o = e.getModel([a, t]);
      r.ensureState(a).style = n ? n(o) : o[HE[t]]();
    }
  }
  function ic(r, e) {
    var t = !1 === e,
      n = r;
    r.highDownSilentOnTouch &&
      (n.__highDownSilentOnTouch = r.highDownSilentOnTouch),
      (!t || n.__highDownDispatcher) &&
        ((n.__highByOuter = n.__highByOuter || 0),
        (n.__highDownDispatcher = !t));
  }
  function $l(r) {
    return !(!r || !r.__highDownDispatcher);
  }
  function oy(r) {
    var e = r.type;
    return e === Qh || e === dp || e === Jh;
  }
  function V_(r) {
    var e = r.type;
    return e === rc || e === hp;
  }
  var bf = os.CMD,
    UE = [[], [], []],
    H_ = Math.sqrt,
    YE = Math.atan2;
  function G_(r, e) {
    if (e) {
      var i,
        a,
        o,
        s,
        l,
        u,
        t = r.data,
        n = r.len(),
        c = bf.M,
        f = bf.C,
        d = bf.L,
        v = bf.R,
        g = bf.A,
        m = bf.Q;
      for (o = 0, s = 0; o < n; ) {
        switch (((i = t[o++]), (s = o), (a = 0), i)) {
          case c:
          case d:
            a = 1;
            break;
          case f:
            a = 3;
            break;
          case m:
            a = 2;
            break;
          case g:
            var y = e[4],
              b = e[5],
              w = H_(e[0] * e[0] + e[1] * e[1]),
              C = H_(e[2] * e[2] + e[3] * e[3]),
              D = YE(-e[1] / C, e[0] / w);
            (t[o] *= w),
              (t[o++] += y),
              (t[o] *= C),
              (t[o++] += b),
              (t[o++] *= w),
              (t[o++] *= C),
              (t[o++] += D),
              (t[o++] += D),
              (s = o += 2);
            break;
          case v:
            (u[0] = t[o++]),
              (u[1] = t[o++]),
              dn(u, u, e),
              (t[s++] = u[0]),
              (t[s++] = u[1]),
              (u[0] += t[o++]),
              (u[1] += t[o++]),
              dn(u, u, e),
              (t[s++] = u[0]),
              (t[s++] = u[1]);
        }
        for (l = 0; l < a; l++) {
          var L = UE[l];
          (L[0] = t[o++]),
            (L[1] = t[o++]),
            dn(L, L, e),
            (t[s++] = L[0]),
            (t[s++] = L[1]);
        }
      }
      r.increaseVersion();
    }
  }
  var sy = Math.sqrt,
    gp = Math.sin,
    mp = Math.cos,
    td = Math.PI;
  function W_(r) {
    return Math.sqrt(r[0] * r[0] + r[1] * r[1]);
  }
  function ly(r, e) {
    return (r[0] * e[0] + r[1] * e[1]) / (W_(r) * W_(e));
  }
  function $_(r, e) {
    return (r[0] * e[1] < r[1] * e[0] ? -1 : 1) * Math.acos(ly(r, e));
  }
  function U_(r, e, t, n, i, a, o, s, l, u, c) {
    var f = l * (td / 180),
      d = (mp(f) * (r - t)) / 2 + (gp(f) * (e - n)) / 2,
      v = (-1 * gp(f) * (r - t)) / 2 + (mp(f) * (e - n)) / 2,
      g = (d * d) / (o * o) + (v * v) / (s * s);
    g > 1 && ((o *= sy(g)), (s *= sy(g)));
    var m =
        (i === a ? -1 : 1) *
          sy(
            (o * o * (s * s) - o * o * (v * v) - s * s * (d * d)) /
              (o * o * (v * v) + s * s * (d * d))
          ) || 0,
      y = (m * o * v) / s,
      b = (m * -s * d) / o,
      w = (r + t) / 2 + mp(f) * y - gp(f) * b,
      C = (e + n) / 2 + gp(f) * y + mp(f) * b,
      D = $_([1, 0], [(d - y) / o, (v - b) / s]),
      L = [(d - y) / o, (v - b) / s],
      M = [(-1 * d - y) / o, (-1 * v - b) / s],
      E = $_(L, M);
    if ((ly(L, M) <= -1 && (E = td), ly(L, M) >= 1 && (E = 0), E < 0)) {
      var O = Math.round((E / td) * 1e6) / 1e6;
      E = 2 * td + (O % 2) * td;
    }
    c.addData(u, w, C, o, s, D, E, f, a);
  }
  var XE = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,
    ZE = /-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,
    Y_ = (function (r) {
      function e() {
        return (null !== r && r.apply(this, arguments)) || this;
      }
      return ut(e, r), (e.prototype.applyTransform = function (t) {}), e;
    })(Lr);
  function X_(r) {
    return null != r.setData;
  }
  function Z_(r, e) {
    var t = (function qE(r) {
        var e = new os();
        if (!r) return e;
        var o,
          t = 0,
          n = 0,
          i = t,
          a = n,
          s = os.CMD,
          l = r.match(XE);
        if (!l) return e;
        for (var u = 0; u < l.length; u++) {
          for (
            var c = l[u],
              f = c.charAt(0),
              d = void 0,
              v = c.match(ZE) || [],
              g = v.length,
              m = 0;
            m < g;
            m++
          )
            v[m] = parseFloat(v[m]);
          for (var y = 0; y < g; ) {
            var b = void 0,
              w = void 0,
              C = void 0,
              D = void 0,
              L = void 0,
              M = void 0,
              E = void 0,
              O = t,
              z = n,
              H = void 0,
              G = void 0;
            switch (f) {
              case 'l':
                (t += v[y++]), (n += v[y++]), e.addData((d = s.L), t, n);
                break;
              case 'L':
                (t = v[y++]), (n = v[y++]), e.addData((d = s.L), t, n);
                break;
              case 'm':
                (t += v[y++]),
                  (n += v[y++]),
                  e.addData((d = s.M), t, n),
                  (i = t),
                  (a = n),
                  (f = 'l');
                break;
              case 'M':
                (t = v[y++]),
                  (n = v[y++]),
                  e.addData((d = s.M), t, n),
                  (i = t),
                  (a = n),
                  (f = 'L');
                break;
              case 'h':
                (t += v[y++]), e.addData((d = s.L), t, n);
                break;
              case 'H':
                (t = v[y++]), e.addData((d = s.L), t, n);
                break;
              case 'v':
                (n += v[y++]), e.addData((d = s.L), t, n);
                break;
              case 'V':
                (n = v[y++]), e.addData((d = s.L), t, n);
                break;
              case 'C':
                e.addData(
                  (d = s.C),
                  v[y++],
                  v[y++],
                  v[y++],
                  v[y++],
                  v[y++],
                  v[y++]
                ),
                  (t = v[y - 2]),
                  (n = v[y - 1]);
                break;
              case 'c':
                e.addData(
                  (d = s.C),
                  v[y++] + t,
                  v[y++] + n,
                  v[y++] + t,
                  v[y++] + n,
                  v[y++] + t,
                  v[y++] + n
                ),
                  (t += v[y - 2]),
                  (n += v[y - 1]);
                break;
              case 'S':
                (b = t),
                  (w = n),
                  (H = e.len()),
                  (G = e.data),
                  o === s.C && ((b += t - G[H - 4]), (w += n - G[H - 3])),
                  (O = v[y++]),
                  (z = v[y++]),
                  (t = v[y++]),
                  (n = v[y++]),
                  e.addData((d = s.C), b, w, O, z, t, n);
                break;
              case 's':
                (b = t),
                  (w = n),
                  (H = e.len()),
                  (G = e.data),
                  o === s.C && ((b += t - G[H - 4]), (w += n - G[H - 3])),
                  (O = t + v[y++]),
                  (z = n + v[y++]),
                  (t += v[y++]),
                  (n += v[y++]),
                  e.addData((d = s.C), b, w, O, z, t, n);
                break;
              case 'Q':
                (O = v[y++]),
                  (z = v[y++]),
                  (t = v[y++]),
                  (n = v[y++]),
                  e.addData((d = s.Q), O, z, t, n);
                break;
              case 'q':
                (O = v[y++] + t),
                  (z = v[y++] + n),
                  (t += v[y++]),
                  (n += v[y++]),
                  e.addData((d = s.Q), O, z, t, n);
                break;
              case 'T':
                (b = t),
                  (w = n),
                  (H = e.len()),
                  (G = e.data),
                  o === s.Q && ((b += t - G[H - 4]), (w += n - G[H - 3])),
                  (t = v[y++]),
                  (n = v[y++]),
                  e.addData((d = s.Q), b, w, t, n);
                break;
              case 't':
                (b = t),
                  (w = n),
                  (H = e.len()),
                  (G = e.data),
                  o === s.Q && ((b += t - G[H - 4]), (w += n - G[H - 3])),
                  (t += v[y++]),
                  (n += v[y++]),
                  e.addData((d = s.Q), b, w, t, n);
                break;
              case 'A':
                (C = v[y++]),
                  (D = v[y++]),
                  (L = v[y++]),
                  (M = v[y++]),
                  (E = v[y++]),
                  U_(
                    (O = t),
                    (z = n),
                    (t = v[y++]),
                    (n = v[y++]),
                    M,
                    E,
                    C,
                    D,
                    L,
                    (d = s.A),
                    e
                  );
                break;
              case 'a':
                (C = v[y++]),
                  (D = v[y++]),
                  (L = v[y++]),
                  (M = v[y++]),
                  (E = v[y++]),
                  U_(
                    (O = t),
                    (z = n),
                    (t += v[y++]),
                    (n += v[y++]),
                    M,
                    E,
                    C,
                    D,
                    L,
                    (d = s.A),
                    e
                  );
            }
          }
          ('z' === f || 'Z' === f) && (e.addData((d = s.Z)), (t = i), (n = a)),
            (o = d);
        }
        return e.toStatic(), e;
      })(r),
      n = nt({}, e);
    return (
      (n.buildPath = function (i) {
        var a;
        X_(i)
          ? (i.setData(t.data), (a = i.getContext()) && i.rebuildPath(a, 1))
          : t.rebuildPath((a = i), 1);
      }),
      (n.applyTransform = function (i) {
        G_(t, i), this.dirtyShape();
      }),
      n
    );
  }
  function q_(r, e) {
    return new Y_(Z_(r, e));
  }
  function uy(r, e) {
    e = e || {};
    var t = new Lr();
    return (
      r.shape && t.setShape(r.shape),
      t.setStyle(r.style),
      e.bakeTransform
        ? G_(t.path, r.getComputedTransform())
        : e.toLocal
        ? t.setLocalTransform(r.getComputedTransform())
        : t.copyTransform(r),
      (t.buildPath = r.buildPath),
      (t.applyTransform = t.applyTransform),
      (t.z = r.z),
      (t.z2 = r.z2),
      (t.zlevel = r.zlevel),
      t
    );
  }
  var QE = function r() {
      (this.cx = 0), (this.cy = 0), (this.r = 0);
    },
    to = (function (r) {
      function e(t) {
        return r.call(this, t) || this;
      }
      return (
        ut(e, r),
        (e.prototype.getDefaultShape = function () {
          return new QE();
        }),
        (e.prototype.buildPath = function (t, n) {
          t.moveTo(n.cx + n.r, n.cy), t.arc(n.cx, n.cy, n.r, 0, 2 * Math.PI);
        }),
        e
      );
    })(Lr);
  to.prototype.type = 'circle';
  var JE = function r() {
      (this.cx = 0), (this.cy = 0), (this.rx = 0), (this.ry = 0);
    },
    ed = (function (r) {
      function e(t) {
        return r.call(this, t) || this;
      }
      return (
        ut(e, r),
        (e.prototype.getDefaultShape = function () {
          return new JE();
        }),
        (e.prototype.buildPath = function (t, n) {
          var i = 0.5522848,
            a = n.cx,
            o = n.cy,
            s = n.rx,
            l = n.ry,
            u = s * i,
            c = l * i;
          t.moveTo(a - s, o),
            t.bezierCurveTo(a - s, o - c, a - u, o - l, a, o - l),
            t.bezierCurveTo(a + u, o - l, a + s, o - c, a + s, o),
            t.bezierCurveTo(a + s, o + c, a + u, o + l, a, o + l),
            t.bezierCurveTo(a - u, o + l, a - s, o + c, a - s, o),
            t.closePath();
        }),
        e
      );
    })(Lr);
  ed.prototype.type = 'ellipse';
  var j_ = Math.PI,
    cy = 2 * j_,
    ac = Math.sin,
    _f = Math.cos,
    tP = Math.acos,
    Hi = Math.atan2,
    K_ = Math.abs,
    rd = Math.sqrt,
    nd = Math.max,
    ss = Math.min,
    Po = 1e-4;
  function yp(r, e, t, n, i, a, o) {
    var s = r - t,
      l = e - n,
      u = (o ? a : -a) / rd(s * s + l * l),
      c = u * l,
      f = -u * s,
      d = r + c,
      v = e + f,
      g = t + c,
      m = n + f,
      y = (d + g) / 2,
      b = (v + m) / 2,
      w = g - d,
      C = m - v,
      D = w * w + C * C,
      L = i - a,
      M = d * m - g * v,
      E = (C < 0 ? -1 : 1) * rd(nd(0, L * L * D - M * M)),
      O = (M * C - w * E) / D,
      z = (-M * w - C * E) / D,
      H = (M * C + w * E) / D,
      G = (-M * w + C * E) / D,
      X = O - y,
      K = z - b,
      tt = H - y,
      ot = G - b;
    return (
      X * X + K * K > tt * tt + ot * ot && ((O = H), (z = G)),
      { cx: O, cy: z, x0: -c, y0: -f, x1: O * (i / L - 1), y1: z * (i / L - 1) }
    );
  }
  var iP = function r() {
      (this.cx = 0),
        (this.cy = 0),
        (this.r0 = 0),
        (this.r = 0),
        (this.startAngle = 0),
        (this.endAngle = 2 * Math.PI),
        (this.clockwise = !0),
        (this.cornerRadius = 0);
    },
    Gi = (function (r) {
      function e(t) {
        return r.call(this, t) || this;
      }
      return (
        ut(e, r),
        (e.prototype.getDefaultShape = function () {
          return new iP();
        }),
        (e.prototype.buildPath = function (t, n) {
          !(function nP(r, e) {
            var t,
              n = nd(e.r, 0),
              i = nd(e.r0 || 0, 0),
              a = n > 0;
            if (a || i > 0) {
              if ((a || ((n = i), (i = 0)), i > n)) {
                var s = n;
                (n = i), (i = s);
              }
              var l = e.startAngle,
                u = e.endAngle;
              if (!isNaN(l) && !isNaN(u)) {
                var c = e.cx,
                  f = e.cy,
                  d = !!e.clockwise,
                  v = K_(u - l),
                  g = v > cy && v % cy;
                if ((g > Po && (v = g), n > Po))
                  if (v > cy - Po)
                    r.moveTo(c + n * _f(l), f + n * ac(l)),
                      r.arc(c, f, n, l, u, !d),
                      i > Po &&
                        (r.moveTo(c + i * _f(u), f + i * ac(u)),
                        r.arc(c, f, i, u, l, d));
                  else {
                    var m = void 0,
                      y = void 0,
                      b = void 0,
                      w = void 0,
                      C = void 0,
                      D = void 0,
                      L = void 0,
                      M = void 0,
                      E = void 0,
                      O = void 0,
                      z = void 0,
                      H = void 0,
                      G = void 0,
                      X = void 0,
                      K = void 0,
                      tt = void 0,
                      ot = n * _f(l),
                      pt = n * ac(l),
                      Xt = i * _f(u),
                      Vt = i * ac(u),
                      re = v > Po;
                    if (re) {
                      var ye = e.cornerRadius;
                      ye &&
                        ((t = (function rP(r) {
                          var e;
                          if (Tt(r)) {
                            var t = r.length;
                            if (!t) return r;
                            e =
                              1 === t
                                ? [r[0], r[0], 0, 0]
                                : 2 === t
                                ? [r[0], r[0], r[1], r[1]]
                                : 3 === t
                                ? r.concat(r[2])
                                : r;
                          } else e = [r, r, r, r];
                          return e;
                        })(ye)),
                        (m = t[0]),
                        (y = t[1]),
                        (b = t[2]),
                        (w = t[3]));
                      var ke = K_(n - i) / 2;
                      if (
                        ((C = ss(ke, b)),
                        (D = ss(ke, w)),
                        (L = ss(ke, m)),
                        (M = ss(ke, y)),
                        (z = E = nd(C, D)),
                        (H = O = nd(L, M)),
                        (E > Po || O > Po) &&
                          ((G = n * _f(u)),
                          (X = n * ac(u)),
                          (K = i * _f(l)),
                          (tt = i * ac(l)),
                          v < j_))
                      ) {
                        var Ye = (function eP(r, e, t, n, i, a, o, s) {
                          var l = t - r,
                            u = n - e,
                            c = o - i,
                            f = s - a,
                            d = f * l - c * u;
                          if (!(d * d < Po))
                            return [
                              r + (d = (c * (e - a) - f * (r - i)) / d) * l,
                              e + d * u,
                            ];
                        })(ot, pt, K, tt, G, X, Xt, Vt);
                        if (Ye) {
                          var tr = ot - Ye[0],
                            er = pt - Ye[1],
                            Cr = G - Ye[0],
                            Er = X - Ye[1],
                            Dr =
                              1 /
                              ac(
                                tP(
                                  (tr * Cr + er * Er) /
                                    (rd(tr * tr + er * er) *
                                      rd(Cr * Cr + Er * Er))
                                ) / 2
                              ),
                            nr = rd(Ye[0] * Ye[0] + Ye[1] * Ye[1]);
                          (z = ss(E, (n - nr) / (Dr + 1))),
                            (H = ss(O, (i - nr) / (Dr - 1)));
                        }
                      }
                    }
                    if (re)
                      if (z > Po) {
                        var Tr = ss(b, z),
                          dr = ss(w, z),
                          Ze = yp(K, tt, ot, pt, n, Tr, d),
                          vr = yp(G, X, Xt, Vt, n, dr, d);
                        r.moveTo(c + Ze.cx + Ze.x0, f + Ze.cy + Ze.y0),
                          z < E && Tr === dr
                            ? r.arc(
                                c + Ze.cx,
                                f + Ze.cy,
                                z,
                                Hi(Ze.y0, Ze.x0),
                                Hi(vr.y0, vr.x0),
                                !d
                              )
                            : (Tr > 0 &&
                                r.arc(
                                  c + Ze.cx,
                                  f + Ze.cy,
                                  Tr,
                                  Hi(Ze.y0, Ze.x0),
                                  Hi(Ze.y1, Ze.x1),
                                  !d
                                ),
                              r.arc(
                                c,
                                f,
                                n,
                                Hi(Ze.cy + Ze.y1, Ze.cx + Ze.x1),
                                Hi(vr.cy + vr.y1, vr.cx + vr.x1),
                                !d
                              ),
                              dr > 0 &&
                                r.arc(
                                  c + vr.cx,
                                  f + vr.cy,
                                  dr,
                                  Hi(vr.y1, vr.x1),
                                  Hi(vr.y0, vr.x0),
                                  !d
                                ));
                      } else r.moveTo(c + ot, f + pt), r.arc(c, f, n, l, u, !d);
                    else r.moveTo(c + ot, f + pt);
                    i > Po && re
                      ? H > Po
                        ? ((Tr = ss(m, H)),
                          (Ze = yp(Xt, Vt, G, X, i, -(dr = ss(y, H)), d)),
                          (vr = yp(ot, pt, K, tt, i, -Tr, d)),
                          r.lineTo(c + Ze.cx + Ze.x0, f + Ze.cy + Ze.y0),
                          H < O && Tr === dr
                            ? r.arc(
                                c + Ze.cx,
                                f + Ze.cy,
                                H,
                                Hi(Ze.y0, Ze.x0),
                                Hi(vr.y0, vr.x0),
                                !d
                              )
                            : (dr > 0 &&
                                r.arc(
                                  c + Ze.cx,
                                  f + Ze.cy,
                                  dr,
                                  Hi(Ze.y0, Ze.x0),
                                  Hi(Ze.y1, Ze.x1),
                                  !d
                                ),
                              r.arc(
                                c,
                                f,
                                i,
                                Hi(Ze.cy + Ze.y1, Ze.cx + Ze.x1),
                                Hi(vr.cy + vr.y1, vr.cx + vr.x1),
                                d
                              ),
                              Tr > 0 &&
                                r.arc(
                                  c + vr.cx,
                                  f + vr.cy,
                                  Tr,
                                  Hi(vr.y1, vr.x1),
                                  Hi(vr.y0, vr.x0),
                                  !d
                                )))
                        : (r.lineTo(c + Xt, f + Vt), r.arc(c, f, i, u, l, d))
                      : r.lineTo(c + Xt, f + Vt);
                  }
                else r.moveTo(c, f);
                r.closePath();
              }
            }
          })(t, n);
        }),
        (e.prototype.isZeroArea = function () {
          return (
            this.shape.startAngle === this.shape.endAngle ||
            this.shape.r === this.shape.r0
          );
        }),
        e
      );
    })(Lr);
  Gi.prototype.type = 'sector';
  var aP = function r() {
      (this.cx = 0), (this.cy = 0), (this.r = 0), (this.r0 = 0);
    },
    Sf = (function (r) {
      function e(t) {
        return r.call(this, t) || this;
      }
      return (
        ut(e, r),
        (e.prototype.getDefaultShape = function () {
          return new aP();
        }),
        (e.prototype.buildPath = function (t, n) {
          var i = n.cx,
            a = n.cy,
            o = 2 * Math.PI;
          t.moveTo(i + n.r, a),
            t.arc(i, a, n.r, 0, o, !1),
            t.moveTo(i + n.r0, a),
            t.arc(i, a, n.r0, 0, o, !0);
        }),
        e
      );
    })(Lr);
  function Q_(r, e, t) {
    var n = e.smooth,
      i = e.points;
    if (i && i.length >= 2) {
      if (n) {
        var a = (function oP(r, e, t, n) {
          var l,
            u,
            c,
            f,
            i = [],
            a = [],
            o = [],
            s = [];
          if (n) {
            (c = [1 / 0, 1 / 0]), (f = [-1 / 0, -1 / 0]);
            for (var d = 0, v = r.length; d < v; d++)
              Mi(c, c, r[d]), Ln(f, f, r[d]);
            Mi(c, c, n[0]), Ln(f, f, n[1]);
          }
          for (d = 0, v = r.length; d < v; d++) {
            var g = r[d];
            if (t) (l = r[d ? d - 1 : v - 1]), (u = r[(d + 1) % v]);
            else {
              if (0 === d || d === v - 1) {
                i.push(Mn(r[d]));
                continue;
              }
              (l = r[d - 1]), (u = r[d + 1]);
            }
            Nr(a, u, l), pa(a, a, e);
            var m = xs(g, l),
              y = xs(g, u),
              b = m + y;
            0 !== b && ((m /= b), (y /= b)), pa(o, a, -m), pa(s, a, y);
            var w = Va([], g, o),
              C = Va([], g, s);
            n && (Ln(w, w, c), Mi(w, w, f), Ln(C, C, c), Mi(C, C, f)),
              i.push(w),
              i.push(C);
          }
          return t && i.push(i.shift()), i;
        })(i, n, t, e.smoothConstraint);
        r.moveTo(i[0][0], i[0][1]);
        for (var o = i.length, s = 0; s < (t ? o : o - 1); s++) {
          var l = a[2 * s],
            u = a[2 * s + 1],
            c = i[(s + 1) % o];
          r.bezierCurveTo(l[0], l[1], u[0], u[1], c[0], c[1]);
        }
      } else {
        r.moveTo(i[0][0], i[0][1]), (s = 1);
        for (var f = i.length; s < f; s++) r.lineTo(i[s][0], i[s][1]);
      }
      t && r.closePath();
    }
  }
  Sf.prototype.type = 'ring';
  var sP = function r() {
      (this.points = null), (this.smooth = 0), (this.smoothConstraint = null);
    },
    Wi = (function (r) {
      function e(t) {
        return r.call(this, t) || this;
      }
      return (
        ut(e, r),
        (e.prototype.getDefaultShape = function () {
          return new sP();
        }),
        (e.prototype.buildPath = function (t, n) {
          Q_(t, n, !0);
        }),
        e
      );
    })(Lr);
  Wi.prototype.type = 'polygon';
  var lP = function r() {
      (this.points = null),
        (this.percent = 1),
        (this.smooth = 0),
        (this.smoothConstraint = null);
    },
    $i = (function (r) {
      function e(t) {
        return r.call(this, t) || this;
      }
      return (
        ut(e, r),
        (e.prototype.getDefaultStyle = function () {
          return { stroke: '#000', fill: null };
        }),
        (e.prototype.getDefaultShape = function () {
          return new lP();
        }),
        (e.prototype.buildPath = function (t, n) {
          Q_(t, n, !1);
        }),
        e
      );
    })(Lr);
  $i.prototype.type = 'polyline';
  var uP = {},
    cP = function r() {
      (this.x1 = 0),
        (this.y1 = 0),
        (this.x2 = 0),
        (this.y2 = 0),
        (this.percent = 1);
    },
    Jn = (function (r) {
      function e(t) {
        return r.call(this, t) || this;
      }
      return (
        ut(e, r),
        (e.prototype.getDefaultStyle = function () {
          return { stroke: '#000', fill: null };
        }),
        (e.prototype.getDefaultShape = function () {
          return new cP();
        }),
        (e.prototype.buildPath = function (t, n) {
          var i, a, o, s;
          if (this.subPixelOptimize) {
            var l = u_(uP, n, this.style);
            (i = l.x1), (a = l.y1), (o = l.x2), (s = l.y2);
          } else (i = n.x1), (a = n.y1), (o = n.x2), (s = n.y2);
          var u = n.percent;
          0 !== u &&
            (t.moveTo(i, a),
            u < 1 && ((o = i * (1 - u) + o * u), (s = a * (1 - u) + s * u)),
            t.lineTo(o, s));
        }),
        (e.prototype.pointAt = function (t) {
          var n = this.shape;
          return [n.x1 * (1 - t) + n.x2 * t, n.y1 * (1 - t) + n.y2 * t];
        }),
        e
      );
    })(Lr);
  Jn.prototype.type = 'line';
  var Da = [],
    fP = function r() {
      (this.x1 = 0),
        (this.y1 = 0),
        (this.x2 = 0),
        (this.y2 = 0),
        (this.cpx1 = 0),
        (this.cpy1 = 0),
        (this.percent = 1);
    };
  function J_(r, e, t) {
    return null != r.cpx2 || null != r.cpy2
      ? [
          (t ? yh : kn)(r.x1, r.cpx1, r.cpx2, r.x2, e),
          (t ? yh : kn)(r.y1, r.cpy1, r.cpy2, r.y2, e),
        ]
      : [
          (t ? yl : On)(r.x1, r.cpx1, r.x2, e),
          (t ? yl : On)(r.y1, r.cpy1, r.y2, e),
        ];
  }
  var wf = (function (r) {
    function e(t) {
      return r.call(this, t) || this;
    }
    return (
      ut(e, r),
      (e.prototype.getDefaultStyle = function () {
        return { stroke: '#000', fill: null };
      }),
      (e.prototype.getDefaultShape = function () {
        return new fP();
      }),
      (e.prototype.buildPath = function (t, n) {
        var i = n.x1,
          a = n.y1,
          o = n.x2,
          s = n.y2,
          l = n.cpx1,
          u = n.cpy1,
          c = n.cpx2,
          f = n.cpy2,
          d = n.percent;
        0 !== d &&
          (t.moveTo(i, a),
          null == c || null == f
            ? (d < 1 &&
                (ks(i, l, o, d, Da),
                (l = Da[1]),
                (o = Da[2]),
                ks(a, u, s, d, Da),
                (u = Da[1]),
                (s = Da[2])),
              t.quadraticCurveTo(l, u, o, s))
            : (d < 1 &&
                (wo(i, l, c, o, d, Da),
                (l = Da[1]),
                (c = Da[2]),
                (o = Da[3]),
                wo(a, u, f, s, d, Da),
                (u = Da[1]),
                (f = Da[2]),
                (s = Da[3])),
              t.bezierCurveTo(l, u, c, f, o, s)));
      }),
      (e.prototype.pointAt = function (t) {
        return J_(this.shape, t, !1);
      }),
      (e.prototype.tangentAt = function (t) {
        var n = J_(this.shape, t, !0);
        return Ai(n, n);
      }),
      e
    );
  })(Lr);
  wf.prototype.type = 'bezier-curve';
  var hP = function r() {
      (this.cx = 0),
        (this.cy = 0),
        (this.r = 0),
        (this.startAngle = 0),
        (this.endAngle = 2 * Math.PI),
        (this.clockwise = !0);
    },
    id = (function (r) {
      function e(t) {
        return r.call(this, t) || this;
      }
      return (
        ut(e, r),
        (e.prototype.getDefaultStyle = function () {
          return { stroke: '#000', fill: null };
        }),
        (e.prototype.getDefaultShape = function () {
          return new hP();
        }),
        (e.prototype.buildPath = function (t, n) {
          var i = n.cx,
            a = n.cy,
            o = Math.max(n.r, 0),
            s = n.startAngle,
            l = n.endAngle,
            u = n.clockwise,
            c = Math.cos(s),
            f = Math.sin(s);
          t.moveTo(c * o + i, f * o + a), t.arc(i, a, o, s, l, !u);
        }),
        e
      );
    })(Lr);
  id.prototype.type = 'arc';
  var xp = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = 'compound'), t;
      }
      return (
        ut(e, r),
        (e.prototype._updatePathDirty = function () {
          for (
            var t = this.shape.paths, n = this.shapeChanged(), i = 0;
            i < t.length;
            i++
          )
            n = n || t[i].shapeChanged();
          n && this.dirtyShape();
        }),
        (e.prototype.beforeBrush = function () {
          this._updatePathDirty();
          for (
            var t = this.shape.paths || [], n = this.getGlobalScale(), i = 0;
            i < t.length;
            i++
          )
            t[i].path || t[i].createPathProxy(),
              t[i].path.setScale(n[0], n[1], t[i].segmentIgnoreThreshold);
        }),
        (e.prototype.buildPath = function (t, n) {
          for (var i = n.paths || [], a = 0; a < i.length; a++)
            i[a].buildPath(t, i[a].shape, !0);
        }),
        (e.prototype.afterBrush = function () {
          for (var t = this.shape.paths || [], n = 0; n < t.length; n++)
            t[n].pathUpdated();
        }),
        (e.prototype.getBoundingRect = function () {
          return (
            this._updatePathDirty.call(this),
            Lr.prototype.getBoundingRect.call(this)
          );
        }),
        e
      );
    })(Lr),
    tS = (function () {
      function r(e) {
        this.colorStops = e || [];
      }
      return (
        (r.prototype.addColorStop = function (e, t) {
          this.colorStops.push({ offset: e, color: t });
        }),
        r
      );
    })(),
    Cf = (function (r) {
      function e(t, n, i, a, o, s) {
        var l = r.call(this, o) || this;
        return (
          (l.x = t ?? 0),
          (l.y = n ?? 0),
          (l.x2 = i ?? 1),
          (l.y2 = a ?? 0),
          (l.type = 'linear'),
          (l.global = s || !1),
          l
        );
      }
      return ut(e, r), e;
    })(tS),
    fy = (function (r) {
      function e(t, n, i, a, o) {
        var s = r.call(this, a) || this;
        return (
          (s.x = t ?? 0.5),
          (s.y = n ?? 0.5),
          (s.r = i ?? 0.5),
          (s.type = 'radial'),
          (s.global = o || !1),
          s
        );
      }
      return ut(e, r), e;
    })(tS),
    oc = [0, 0],
    sc = [0, 0],
    bp = new ur(),
    _p = new ur(),
    Sp = (function () {
      function r(e, t) {
        (this._corners = []), (this._axes = []), (this._origin = [0, 0]);
        for (var n = 0; n < 4; n++) this._corners[n] = new ur();
        for (n = 0; n < 2; n++) this._axes[n] = new ur();
        e && this.fromBoundingRect(e, t);
      }
      return (
        (r.prototype.fromBoundingRect = function (e, t) {
          var n = this._corners,
            i = this._axes,
            a = e.x,
            o = e.y,
            s = a + e.width,
            l = o + e.height;
          if (
            (n[0].set(a, o), n[1].set(s, o), n[2].set(s, l), n[3].set(a, l), t)
          )
            for (var u = 0; u < 4; u++) n[u].transform(t);
          for (
            ur.sub(i[0], n[1], n[0]),
              ur.sub(i[1], n[3], n[0]),
              i[0].normalize(),
              i[1].normalize(),
              u = 0;
            u < 2;
            u++
          )
            this._origin[u] = i[u].dot(n[0]);
        }),
        (r.prototype.intersect = function (e, t) {
          var n = !0,
            i = !t;
          return (
            bp.set(1 / 0, 1 / 0),
            _p.set(0, 0),
            (!this._intersectCheckOneSide(this, e, bp, _p, i, 1) &&
              ((n = !1), i)) ||
              (!this._intersectCheckOneSide(e, this, bp, _p, i, -1) &&
                ((n = !1), i)) ||
              i ||
              ur.copy(t, n ? bp : _p),
            n
          );
        }),
        (r.prototype._intersectCheckOneSide = function (e, t, n, i, a, o) {
          for (var s = !0, l = 0; l < 2; l++) {
            var u = this._axes[l];
            if (
              (this._getProjMinMaxOnAxis(l, e._corners, oc),
              this._getProjMinMaxOnAxis(l, t._corners, sc),
              oc[1] < sc[0] || oc[0] > sc[1])
            ) {
              if (((s = !1), a)) return s;
              var c = Math.abs(sc[0] - oc[1]),
                f = Math.abs(oc[0] - sc[1]);
              Math.min(c, f) > i.len() &&
                ur.scale(i, u, c < f ? -c * o : f * o);
            } else
              n &&
                ((c = Math.abs(sc[0] - oc[1])),
                (f = Math.abs(oc[0] - sc[1])),
                Math.min(c, f) < n.len() &&
                  ur.scale(n, u, c < f ? c * o : -f * o));
          }
          return s;
        }),
        (r.prototype._getProjMinMaxOnAxis = function (e, t, n) {
          for (
            var i = this._axes[e],
              a = this._origin,
              o = t[0].dot(i) + a[e],
              s = o,
              l = o,
              u = 1;
            u < t.length;
            u++
          ) {
            var c = t[u].dot(i) + a[e];
            (s = Math.min(c, s)), (l = Math.max(c, l));
          }
          (n[0] = s), (n[1] = l);
        }),
        r
      );
    })(),
    dP = [],
    eS = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (
          (t.notClear = !0),
          (t.incremental = !0),
          (t._displayables = []),
          (t._temporaryDisplayables = []),
          (t._cursor = 0),
          t
        );
      }
      return (
        ut(e, r),
        (e.prototype.traverse = function (t, n) {
          t.call(n, this);
        }),
        (e.prototype.useStyle = function () {
          this.style = {};
        }),
        (e.prototype.getCursor = function () {
          return this._cursor;
        }),
        (e.prototype.innerAfterBrush = function () {
          this._cursor = this._displayables.length;
        }),
        (e.prototype.clearDisplaybles = function () {
          (this._displayables = []),
            (this._temporaryDisplayables = []),
            (this._cursor = 0),
            this.markRedraw(),
            (this.notClear = !1);
        }),
        (e.prototype.clearTemporalDisplayables = function () {
          this._temporaryDisplayables = [];
        }),
        (e.prototype.addDisplayable = function (t, n) {
          n ? this._temporaryDisplayables.push(t) : this._displayables.push(t),
            this.markRedraw();
        }),
        (e.prototype.addDisplayables = function (t, n) {
          n = n || !1;
          for (var i = 0; i < t.length; i++) this.addDisplayable(t[i], n);
        }),
        (e.prototype.getDisplayables = function () {
          return this._displayables;
        }),
        (e.prototype.getTemporalDisplayables = function () {
          return this._temporaryDisplayables;
        }),
        (e.prototype.eachPendingDisplayable = function (t) {
          for (var n = this._cursor; n < this._displayables.length; n++)
            t && t(this._displayables[n]);
          for (n = 0; n < this._temporaryDisplayables.length; n++)
            t && t(this._temporaryDisplayables[n]);
        }),
        (e.prototype.update = function () {
          this.updateTransform();
          for (var t = this._cursor; t < this._displayables.length; t++)
            ((n = this._displayables[t]).parent = this),
              n.update(),
              (n.parent = null);
          for (t = 0; t < this._temporaryDisplayables.length; t++) {
            var n;
            ((n = this._temporaryDisplayables[t]).parent = this),
              n.update(),
              (n.parent = null);
          }
        }),
        (e.prototype.getBoundingRect = function () {
          if (!this._rect) {
            for (
              var t = new it(1 / 0, 1 / 0, -1 / 0, -1 / 0), n = 0;
              n < this._displayables.length;
              n++
            ) {
              var i = this._displayables[n],
                a = i.getBoundingRect().clone();
              i.needLocalTransform() &&
                a.applyTransform(i.getLocalTransform(dP)),
                t.union(a);
            }
            this._rect = t;
          }
          return this._rect;
        }),
        (e.prototype.contain = function (t, n) {
          var i = this.transformCoordToLocal(t, n);
          if (this.getBoundingRect().contain(i[0], i[1]))
            for (var o = 0; o < this._displayables.length; o++)
              if (this._displayables[o].contain(t, n)) return !0;
          return !1;
        }),
        e
      );
    })(sa),
    rS = S();
  function Df(r, e, t, n, i) {
    var a;
    if (e && e.ecModel) {
      var o = e.ecModel.getUpdatePayload();
      a = o && o.animation;
    }
    var l = 'update' === r;
    if (e && e.isAnimationEnabled()) {
      var u = void 0,
        c = void 0,
        f = void 0;
      return (
        n
          ? ((u = B(n.duration, 200)), (c = B(n.easing, 'cubicOut')), (f = 0))
          : ((u = e.getShallow(
              l ? 'animationDurationUpdate' : 'animationDuration'
            )),
            (c = e.getShallow(l ? 'animationEasingUpdate' : 'animationEasing')),
            (f = e.getShallow(l ? 'animationDelayUpdate' : 'animationDelay'))),
        a &&
          (null != a.duration && (u = a.duration),
          null != a.easing && (c = a.easing),
          null != a.delay && (f = a.delay)),
        fe(f) && (f = f(t, i)),
        fe(u) && (u = u(t)),
        { duration: u || 0, delay: f, easing: c }
      );
    }
    return null;
  }
  function hy(r, e, t, n, i, a, o) {
    var l,
      s = !1;
    fe(i)
      ? ((o = a), (a = i), (i = null))
      : Y(i) &&
        ((a = i.cb),
        (o = i.during),
        (s = i.isFrom),
        (l = i.removeOpt),
        (i = i.dataIndex));
    var u = 'leave' === r;
    u || e.stopAnimation('leave');
    var c = Df(
      r,
      n,
      i,
      u ? l || {} : null,
      n && n.getAnimationDelayParams ? n.getAnimationDelayParams(e, i) : null
    );
    if (c && c.duration > 0) {
      var g = {
        duration: c.duration,
        delay: c.delay || 0,
        easing: c.easing,
        done: a,
        force: !!a || !!o,
        setToFinal: !u,
        scope: r,
        during: o,
      };
      s ? e.animateFrom(t, g) : e.animateTo(t, g);
    } else e.stopAnimation(), !s && e.attr(t), o && o(1), a && a();
  }
  function Wr(r, e, t, n, i, a) {
    hy('update', r, e, t, n, i, a);
  }
  function pn(r, e, t, n, i, a) {
    hy('enter', r, e, t, n, i, a);
  }
  function Tf(r) {
    if (!r.__zr) return !0;
    for (var e = 0; e < r.animators.length; e++)
      if ('leave' === r.animators[e].scope) return !0;
    return !1;
  }
  function Ul(r, e, t, n, i, a) {
    Tf(r) || hy('leave', r, e, t, n, i, a);
  }
  function nS(r, e, t, n) {
    r.removeTextContent(),
      r.removeTextGuideLine(),
      Ul(r, { style: { opacity: 0 } }, e, t, n);
  }
  function ad(r, e, t) {
    function n() {
      r.parent && r.parent.remove(r);
    }
    r.isGroup
      ? r.traverse(function (i) {
          i.isGroup || nS(i, e, t, n);
        })
      : nS(r, e, t, n);
  }
  function Ro(r) {
    rS(r).oldStyle = r.style;
  }
  var wp = Math.max,
    Cp = Math.min,
    dy = {};
  function iS(r) {
    return Lr.extend(r);
  }
  function aS(r, e) {
    return (function jE(r, e) {
      var t = Z_(r, e);
      return (function (i) {
        function a(o) {
          var s = i.call(this, o) || this;
          return (
            (s.applyTransform = t.applyTransform),
            (s.buildPath = t.buildPath),
            s
          );
        }
        return ut(a, i), a;
      })(Y_);
    })(r, e);
  }
  function eo(r, e) {
    dy[r] = e;
  }
  function Dp(r) {
    if (dy.hasOwnProperty(r)) return dy[r];
  }
  function od(r, e, t, n) {
    var i = q_(r, e);
    return (
      t && ('center' === n && (t = oS(t, i.getBoundingRect())), py(i, t)), i
    );
  }
  function vy(r, e, t) {
    var n = new ai({
      style: { image: r, x: e.x, y: e.y, width: e.width, height: e.height },
      onload: function (i) {
        'center' === t &&
          n.setStyle(oS(e, { width: i.width, height: i.height }));
      },
    });
    return n;
  }
  function oS(r, e) {
    var i,
      t = e.width / e.height,
      n = r.height * t;
    return (
      (i = n <= r.width ? r.height : (n = r.width) / t),
      {
        x: r.x + r.width / 2 - n / 2,
        y: r.y + r.height / 2 - i / 2,
        width: n,
        height: i,
      }
    );
  }
  var Ba = function KE(r, e) {
    for (var t = [], n = r.length, i = 0; i < n; i++)
      t.push(r[i].getUpdatedPathProxy(!0));
    var o = new Lr(e);
    return (
      o.createPathProxy(),
      (o.buildPath = function (s) {
        if (X_(s)) {
          s.appendPath(t);
          var l = s.getContext();
          l && s.rebuildPath(l, 1);
        }
      }),
      o
    );
  };
  function py(r, e) {
    if (r.applyTransform) {
      var n = r.getBoundingRect().calculateTransform(e);
      r.applyTransform(n);
    }
  }
  function Af(r, e) {
    return u_(r, r, { lineWidth: e }), r;
  }
  var Tp = ec;
  function Yl(r, e) {
    for (var t = $a([]); r && r !== e; )
      Pi(t, r.getLocalTransform(), t), (r = r.parent);
    return t;
  }
  function Oo(r, e, t) {
    return (
      e && !sr(e) && (e = Qa.getLocalTransform(e)),
      t && (e = xo([], e)),
      dn([], r, e)
    );
  }
  function Ap(r, e, t) {
    var n =
        0 === e[4] || 0 === e[5] || 0 === e[0]
          ? 1
          : Math.abs((2 * e[4]) / e[0]),
      i =
        0 === e[4] || 0 === e[5] || 0 === e[2]
          ? 1
          : Math.abs((2 * e[4]) / e[2]),
      a = [
        'left' === r ? -n : 'right' === r ? n : 0,
        'top' === r ? -i : 'bottom' === r ? i : 0,
      ];
    return (
      (a = Oo(a, e, t)),
      Math.abs(a[0]) > Math.abs(a[1])
        ? a[0] > 0
          ? 'right'
          : 'left'
        : a[1] > 0
        ? 'bottom'
        : 'top'
    );
  }
  function sS(r) {
    return !r.isGroup;
  }
  function sd(r, e, t) {
    if (r && e) {
      var a = (function n(o) {
        var s = {};
        return (
          o.traverse(function (l) {
            sS(l) && l.anid && (s[l.anid] = l);
          }),
          s
        );
      })(r);
      e.traverse(function (o) {
        if (sS(o) && o.anid) {
          var s = a[o.anid];
          if (s) {
            var l = i(o);
            o.attr(i(s)), Wr(o, l, t, fr(o).dataIndex);
          }
        }
      });
    }
    function i(o) {
      var s = { x: o.x, y: o.y, rotation: o.rotation };
      return (
        (function mP(r) {
          return null != r.shape;
        })(o) && (s.shape = nt({}, o.shape)),
        s
      );
    }
  }
  function gy(r, e) {
    return Ut(r, function (t) {
      var n = t[0];
      (n = wp(n, e.x)), (n = Cp(n, e.x + e.width));
      var i = t[1];
      return (i = wp(i, e.y)), [n, (i = Cp(i, e.y + e.height))];
    });
  }
  function lS(r, e) {
    var t = wp(r.x, e.x),
      n = Cp(r.x + r.width, e.x + e.width),
      i = wp(r.y, e.y),
      a = Cp(r.y + r.height, e.y + e.height);
    if (n >= t && a >= i) return { x: t, y: i, width: n - t, height: a - i };
  }
  function Mf(r, e, t) {
    var n = nt({ rectHover: !0 }, e),
      i = (n.style = { strokeNoScale: !0 });
    if (((t = t || { x: -1, y: -1, width: 2, height: 2 }), r))
      return 0 === r.indexOf('image://')
        ? ((i.image = r.slice(8)), Ot(i, t), new ai(n))
        : od(r.replace('path://', ''), n, t, 'center');
  }
  function ld(r, e, t, n, i) {
    for (var a = 0, o = i[i.length - 1]; a < i.length; a++) {
      var s = i[a];
      if (uS(r, e, t, n, s[0], s[1], o[0], o[1])) return !0;
      o = s;
    }
  }
  function uS(r, e, t, n, i, a, o, s) {
    var l = t - r,
      u = n - e,
      c = o - i,
      f = s - a,
      d = my(c, f, l, u);
    if (
      (function yP(r) {
        return r <= 1e-6 && r >= -1e-6;
      })(d)
    )
      return !1;
    var v = r - i,
      g = e - a,
      m = my(v, g, l, u) / d;
    if (m < 0 || m > 1) return !1;
    var y = my(v, g, c, f) / d;
    return !(y < 0 || y > 1);
  }
  function my(r, e, t, n) {
    return r * n - t * e;
  }
  function Lf(r) {
    var e = r.itemTooltipOption,
      t = r.componentModel,
      n = r.itemName,
      i = ht(e) ? { formatter: e } : e,
      a = t.mainType,
      o = t.componentIndex,
      s = { componentType: a, name: n, $vars: ['name'] };
    s[a + 'Index'] = o;
    var l = r.formatterParamsExtra;
    l &&
      F(Ne(l), function (c) {
        ce(s, c) || ((s[c] = l[c]), s.$vars.push(c));
      });
    var u = fr(r.el);
    (u.componentMainType = a),
      (u.componentIndex = o),
      (u.tooltipConfig = {
        name: n,
        option: Ot({ content: n, formatterParams: s }, i),
      });
  }
  function cS(r, e) {
    var t;
    r.isGroup && (t = e(r)), t || r.traverse(e);
  }
  function Xl(r, e) {
    if (r)
      if (Tt(r)) for (var t = 0; t < r.length; t++) cS(r[t], e);
      else cS(r, e);
  }
  eo('circle', to),
    eo('ellipse', ed),
    eo('sector', Gi),
    eo('ring', Sf),
    eo('polygon', Wi),
    eo('polyline', $i),
    eo('rect', Rr),
    eo('line', Jn),
    eo('bezierCurve', wf),
    eo('arc', id);
  var ud = Object.freeze({
      __proto__: null,
      updateProps: Wr,
      initProps: pn,
      removeElement: Ul,
      removeElementWithFadeOut: ad,
      isElementRemoved: Tf,
      extendShape: iS,
      extendPath: aS,
      registerShape: eo,
      getShapeClass: Dp,
      makePath: od,
      makeImage: vy,
      mergePath: Ba,
      resizePath: py,
      subPixelOptimizeLine: Af,
      subPixelOptimizeRect: function gP(r) {
        return c_(r.shape, r.shape, r.style), r;
      },
      subPixelOptimize: Tp,
      getTransform: Yl,
      applyTransform: Oo,
      transformDirection: Ap,
      groupTransition: sd,
      clipPointsByRect: gy,
      clipRectByRect: lS,
      createIcon: Mf,
      linePolygonIntersect: ld,
      lineLineIntersect: uS,
      setTooltipConfig: Lf,
      traverseElements: Xl,
      Group: Qe,
      Image: ai,
      Text: Or,
      Circle: to,
      Ellipse: ed,
      Sector: Gi,
      Ring: Sf,
      Polygon: Wi,
      Polyline: $i,
      Rect: Rr,
      Line: Jn,
      BezierCurve: wf,
      Arc: id,
      IncrementalDisplayable: eS,
      CompoundPath: xp,
      LinearGradient: Cf,
      RadialGradient: fy,
      BoundingRect: it,
      OrientedBoundingRect: Sp,
      Point: ur,
      Path: Lr,
    }),
    Mp = {};
  function fS(r, e) {
    for (var t = 0; t < ua.length; t++) {
      var n = ua[t],
        i = e[n],
        a = r.ensureState(n);
      (a.style = a.style || {}), (a.style.text = i);
    }
    var o = r.currentStates.slice();
    r.clearStates(!0), r.setStyle({ text: e.normal }), r.useStates(o, !0);
  }
  function yy(r, e, t) {
    var s,
      n = r.labelFetcher,
      i = r.labelDataIndex,
      a = r.labelDimIndex,
      o = e.normal;
    n &&
      (s = n.getFormattedLabel(
        i,
        'normal',
        null,
        a,
        o && o.get('formatter'),
        null != t ? { interpolatedValue: t } : null
      )),
      null == s &&
        (s = fe(r.defaultText) ? r.defaultText(i, r, t) : r.defaultText);
    for (var l = { normal: s }, u = 0; u < ua.length; u++) {
      var c = ua[u],
        f = e[c];
      l[c] = B(
        n ? n.getFormattedLabel(i, c, null, a, f && f.get('formatter')) : null,
        s
      );
    }
    return l;
  }
  function Ci(r, e, t, n) {
    t = t || Mp;
    for (var i = r instanceof Or, a = !1, o = 0; o < Kh.length; o++)
      if ((s = e[Kh[o]]) && s.getShallow('show')) {
        a = !0;
        break;
      }
    var l = i ? r : r.getTextContent();
    if (a) {
      i ||
        (l || ((l = new Or()), r.setTextContent(l)),
        r.stateProxy && (l.stateProxy = r.stateProxy));
      var u = yy(t, e),
        c = e.normal,
        f = !!c.getShallow('show'),
        d = on(c, n && n.normal, t, !1, !i);
      for (
        d.text = u.normal, i || r.setTextConfig(Lp(c, t, !1)), o = 0;
        o < ua.length;
        o++
      ) {
        var s,
          v = ua[o];
        if ((s = e[v])) {
          var g = l.ensureState(v),
            m = !!B(s.getShallow('show'), f);
          m !== f && (g.ignore = !m),
            (g.style = on(s, n && n[v], t, !0, !i)),
            (g.style.text = u[v]),
            i || (r.ensureState(v).textConfig = Lp(s, t, !0));
        }
      }
      (l.silent = !!c.getShallow('silent')),
        null != l.style.x && (d.x = l.style.x),
        null != l.style.y && (d.y = l.style.y),
        (l.ignore = !f),
        l.useStyle(d),
        l.dirty(),
        t.enableTextSetter &&
          (If(l).setLabelText = function (b) {
            var w = yy(t, e, b);
            fS(l, w);
          });
    } else l && (l.ignore = !0);
    r.dirty();
  }
  function oi(r, e) {
    for (
      var t = { normal: r.getModel((e = e || 'label')) }, n = 0;
      n < ua.length;
      n++
    ) {
      var i = ua[n];
      t[i] = r.getModel([i, e]);
    }
    return t;
  }
  function on(r, e, t, n, i) {
    var a = {};
    return (
      (function xP(r, e, t, n, i) {
        t = t || Mp;
        var l,
          a = e.ecModel,
          o = a && a.option.textStyle,
          s = (function bP(r) {
            for (var e; r && r !== r.ecModel; ) {
              var t = (r.option || Mp).rich;
              if (t) {
                e = e || {};
                for (var n = Ne(t), i = 0; i < n.length; i++) e[n[i]] = 1;
              }
              r = r.parentModel;
            }
            return e;
          })(e);
        if (s)
          for (var u in ((l = {}), s))
            if (s.hasOwnProperty(u)) {
              var c = e.getModel(['rich', u]);
              pS((l[u] = {}), c, o, t, n, i, !1, !0);
            }
        l && (r.rich = l);
        var f = e.get('overflow');
        f && (r.overflow = f);
        var d = e.get('minMargin');
        null != d && (r.margin = d), pS(r, e, o, t, n, i, !0, !1);
      })(a, r, t, n, i),
      e && nt(a, e),
      a
    );
  }
  function Lp(r, e, t) {
    e = e || {};
    var i,
      n = {},
      a = r.getShallow('rotate'),
      o = B(r.getShallow('distance'), t ? null : 5),
      s = r.getShallow('offset');
    return (
      'outside' === (i = r.getShallow('position') || (t ? null : 'inside')) &&
        (i = e.defaultOutsidePosition || 'top'),
      null != i && (n.position = i),
      null != s && (n.offset = s),
      null != a && ((a *= Math.PI / 180), (n.rotation = a)),
      null != o && (n.distance = o),
      (n.outsideFill =
        'inherit' === r.get('color') ? e.inheritColor || null : 'auto'),
      n
    );
  }
  var hS = [
      'fontStyle',
      'fontWeight',
      'fontSize',
      'fontFamily',
      'textShadowColor',
      'textShadowBlur',
      'textShadowOffsetX',
      'textShadowOffsetY',
    ],
    dS = [
      'align',
      'lineHeight',
      'width',
      'height',
      'tag',
      'verticalAlign',
      'ellipsis',
    ],
    vS = [
      'padding',
      'borderWidth',
      'borderRadius',
      'borderDashOffset',
      'backgroundColor',
      'borderColor',
      'shadowColor',
      'shadowBlur',
      'shadowOffsetX',
      'shadowOffsetY',
    ];
  function pS(r, e, t, n, i, a, o, s) {
    t = (!i && t) || Mp;
    var l = n && n.inheritColor,
      u = e.getShallow('color'),
      c = e.getShallow('textBorderColor'),
      f = B(e.getShallow('opacity'), t.opacity);
    ('inherit' === u || 'auto' === u) &&
      ('auto' === u && un("color: 'auto'", "color: 'inherit'"),
      (u = l || null)),
      ('inherit' === c || 'auto' === c) &&
        ('auto' === c && un("color: 'auto'", "color: 'inherit'"),
        (c = l || null)),
      a || ((u = u || t.color), (c = c || t.textBorderColor)),
      null != u && (r.fill = u),
      null != c && (r.stroke = c);
    var d = B(e.getShallow('textBorderWidth'), t.textBorderWidth);
    null != d && (r.lineWidth = d);
    var v = B(e.getShallow('textBorderType'), t.textBorderType);
    null != v && (r.lineDash = v);
    var g = B(e.getShallow('textBorderDashOffset'), t.textBorderDashOffset);
    null != g && (r.lineDashOffset = g),
      !i && null == f && !s && (f = n && n.defaultOpacity),
      null != f && (r.opacity = f),
      !i && !a && null == r.fill && n.inheritColor && (r.fill = n.inheritColor);
    for (var m = 0; m < hS.length; m++)
      null != (b = B(e.getShallow((y = hS[m])), t[y])) && (r[y] = b);
    for (m = 0; m < dS.length; m++)
      null != (b = e.getShallow((y = dS[m]))) && (r[y] = b);
    if (null == r.verticalAlign) {
      var w = e.getShallow('baseline');
      null != w && (r.verticalAlign = w);
    }
    if (!o || !n.disableBox) {
      for (m = 0; m < vS.length; m++) {
        var y, b;
        null != (b = e.getShallow((y = vS[m]))) && (r[y] = b);
      }
      var C = e.getShallow('borderType');
      null != C && (r.borderDash = C),
        ('auto' === r.backgroundColor || 'inherit' === r.backgroundColor) &&
          l &&
          ('auto' === r.backgroundColor &&
            un("backgroundColor: 'auto'", "backgroundColor: 'inherit'"),
          (r.backgroundColor = l)),
        ('auto' === r.borderColor || 'inherit' === r.borderColor) &&
          l &&
          ('auto' === r.borderColor &&
            un("borderColor: 'auto'", "borderColor: 'inherit'"),
          (r.borderColor = l));
    }
  }
  function gS(r, e) {
    var t = e && e.getModel('textStyle');
    return Et(
      [
        r.fontStyle || (t && t.getShallow('fontStyle')) || '',
        r.fontWeight || (t && t.getShallow('fontWeight')) || '',
        (r.fontSize || (t && t.getShallow('fontSize')) || 12) + 'px',
        r.fontFamily || (t && t.getShallow('fontFamily')) || 'sans-serif',
      ].join(' ')
    );
  }
  var If = S();
  function mS(r, e, t, n) {
    if (r) {
      var i = If(r);
      (i.prevValue = i.value), (i.value = t);
      var a = e.normal;
      (i.valueAnimation = a.get('valueAnimation')),
        i.valueAnimation &&
          ((i.precision = a.get('precision')),
          (i.defaultInterpolatedText = n),
          (i.statesModels = e));
    }
  }
  function yS(r, e, t, n, i) {
    var a = If(r);
    if (a.valueAnimation && a.prevValue !== a.value) {
      var o = a.defaultInterpolatedText,
        s = B(a.interpolatedValue, a.prevValue),
        l = a.value;
      (r.percent = 0),
        (null == a.prevValue ? pn : Wr)(
          r,
          { percent: 1 },
          n,
          e,
          null,
          function u(c) {
            var f = Ft(t, a.precision, s, l, c);
            a.interpolatedValue = 1 === c ? null : f;
            var d = yy(
              {
                labelDataIndex: e,
                labelFetcher: i,
                defaultText: o ? o(f) : f + '',
              },
              a.statesModels,
              f
            );
            fS(r, d);
          }
        );
    }
  }
  var _P = ['textStyle', 'color'],
    xy = [
      'fontStyle',
      'fontWeight',
      'fontSize',
      'fontFamily',
      'padding',
      'lineHeight',
      'rich',
      'width',
      'height',
      'overflow',
    ],
    by = new Or(),
    SP = (function () {
      function r() {}
      return (
        (r.prototype.getTextColor = function (e) {
          var t = this.ecModel;
          return this.getShallow('color') || (!e && t ? t.get(_P) : null);
        }),
        (r.prototype.getFont = function () {
          return gS(
            {
              fontStyle: this.getShallow('fontStyle'),
              fontWeight: this.getShallow('fontWeight'),
              fontSize: this.getShallow('fontSize'),
              fontFamily: this.getShallow('fontFamily'),
            },
            this.ecModel
          );
        }),
        (r.prototype.getTextRect = function (e) {
          for (
            var t = {
                text: e,
                verticalAlign:
                  this.getShallow('verticalAlign') ||
                  this.getShallow('baseline'),
              },
              n = 0;
            n < xy.length;
            n++
          )
            t[xy[n]] = this.getShallow(xy[n]);
          return by.useStyle(t), by.update(), by.getBoundingRect();
        }),
        r
      );
    })(),
    xS = [
      ['lineWidth', 'width'],
      ['stroke', 'color'],
      ['opacity'],
      ['shadowBlur'],
      ['shadowOffsetX'],
      ['shadowOffsetY'],
      ['shadowColor'],
      ['lineDash', 'type'],
      ['lineDashOffset', 'dashOffset'],
      ['lineCap', 'cap'],
      ['lineJoin', 'join'],
      ['miterLimit'],
    ],
    wP = Sr(xS),
    CP = (function () {
      function r() {}
      return (
        (r.prototype.getLineStyle = function (e) {
          return wP(this, e);
        }),
        r
      );
    })(),
    bS = [
      ['fill', 'color'],
      ['stroke', 'borderColor'],
      ['lineWidth', 'borderWidth'],
      ['opacity'],
      ['shadowBlur'],
      ['shadowOffsetX'],
      ['shadowOffsetY'],
      ['shadowColor'],
      ['lineDash', 'borderType'],
      ['lineDashOffset', 'borderDashOffset'],
      ['lineCap', 'borderCap'],
      ['lineJoin', 'borderJoin'],
      ['miterLimit', 'borderMiterLimit'],
    ],
    DP = Sr(bS),
    TP = (function () {
      function r() {}
      return (
        (r.prototype.getItemStyle = function (e, t) {
          return DP(this, e, t);
        }),
        r
      );
    })(),
    Yr = (function () {
      function r(e, t, n) {
        (this.parentModel = t), (this.ecModel = n), (this.option = e);
      }
      return (
        (r.prototype.init = function (e, t, n) {
          for (var i = [], a = 3; a < arguments.length; a++)
            i[a - 3] = arguments[a];
        }),
        (r.prototype.mergeOption = function (e, t) {
          Gt(this.option, e, !0);
        }),
        (r.prototype.get = function (e, t) {
          return null == e
            ? this.option
            : this._doGet(this.parsePath(e), !t && this.parentModel);
        }),
        (r.prototype.getShallow = function (e, t) {
          var n = this.option,
            i = null == n ? n : n[e];
          if (null == i && !t) {
            var a = this.parentModel;
            a && (i = a.getShallow(e));
          }
          return i;
        }),
        (r.prototype.getModel = function (e, t) {
          var n = null != e,
            i = n ? this.parsePath(e) : null;
          return new r(
            n ? this._doGet(i) : this.option,
            (t =
              t ||
              (this.parentModel &&
                this.parentModel.getModel(this.resolveParentPath(i)))),
            this.ecModel
          );
        }),
        (r.prototype.isEmpty = function () {
          return null == this.option;
        }),
        (r.prototype.restoreData = function () {}),
        (r.prototype.clone = function () {
          return new (0, this.constructor)(ft(this.option));
        }),
        (r.prototype.parsePath = function (e) {
          return 'string' == typeof e ? e.split('.') : e;
        }),
        (r.prototype.resolveParentPath = function (e) {
          return e;
        }),
        (r.prototype.isAnimationEnabled = function () {
          if (!Lt.node && this.option) {
            if (null != this.option.animation) return !!this.option.animation;
            if (this.parentModel) return this.parentModel.isAnimationEnabled();
          }
        }),
        (r.prototype._doGet = function (e, t) {
          var n = this.option;
          if (!e) return n;
          for (
            var i = 0;
            i < e.length &&
            (!e[i] || null != (n = n && 'object' == typeof n ? n[e[i]] : null));
            i++
          );
          return (
            null == n &&
              t &&
              (n = t._doGet(this.resolveParentPath(e), t.parentModel)),
            n
          );
        }),
        r
      );
    })();
  Ce(Yr),
    (function cr(r) {
      var e = ['__\0is_clz', Ir++].join('_');
      (r.prototype[e] = !0),
        lt(!r.isInstance, 'The method "is" can not be defined.'),
        (r.isInstance = function (t) {
          return !(!t || !t[e]);
        });
    })(Yr),
    Ee(Yr, CP),
    Ee(Yr, TP),
    Ee(Yr, tn),
    Ee(Yr, SP);
  var AP = Math.round(10 * Math.random());
  function kf(r) {
    return [r || '', AP++].join('_');
  }
  function Zl(r, e) {
    return Gt(Gt({}, r, !0), e, !0);
  }
  var cd = 'EN',
    kp = {},
    Sy = {},
    _S =
      Lt.domSupported &&
      (
        document.documentElement.lang ||
        navigator.language ||
        navigator.browserLanguage
      )
        .toUpperCase()
        .indexOf('ZH') > -1
        ? 'ZH'
        : cd;
  function wy(r, e) {
    (r = r.toUpperCase()), (Sy[r] = new Yr(e)), (kp[r] = e);
  }
  function Cy(r) {
    return Sy[r];
  }
  wy('EN', {
    time: {
      month: [
        'January',
        'February',
        'March',
        'April',
        'May',
        'June',
        'July',
        'August',
        'September',
        'October',
        'November',
        'December',
      ],
      monthAbbr: [
        'Jan',
        'Feb',
        'Mar',
        'Apr',
        'May',
        'Jun',
        'Jul',
        'Aug',
        'Sep',
        'Oct',
        'Nov',
        'Dec',
      ],
      dayOfWeek: [
        'Sunday',
        'Monday',
        'Tuesday',
        'Wednesday',
        'Thursday',
        'Friday',
        'Saturday',
      ],
      dayOfWeekAbbr: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
    },
    legend: { selector: { all: 'All', inverse: 'Inv' } },
    toolbox: {
      brush: {
        title: {
          rect: 'Box Select',
          polygon: 'Lasso Select',
          lineX: 'Horizontally Select',
          lineY: 'Vertically Select',
          keep: 'Keep Selections',
          clear: 'Clear Selections',
        },
      },
      dataView: { title: 'Data View', lang: ['Data View', 'Close', 'Refresh'] },
      dataZoom: { title: { zoom: 'Zoom', back: 'Zoom Reset' } },
      magicType: {
        title: {
          line: 'Switch to Line Chart',
          bar: 'Switch to Bar Chart',
          stack: 'Stack',
          tiled: 'Tile',
        },
      },
      restore: { title: 'Restore' },
      saveAsImage: {
        title: 'Save as Image',
        lang: ['Right Click to Save Image'],
      },
    },
    series: {
      typeNames: {
        pie: 'Pie chart',
        bar: 'Bar chart',
        line: 'Line chart',
        scatter: 'Scatter plot',
        effectScatter: 'Ripple scatter plot',
        radar: 'Radar chart',
        tree: 'Tree',
        treemap: 'Treemap',
        boxplot: 'Boxplot',
        candlestick: 'Candlestick',
        k: 'K line chart',
        heatmap: 'Heat map',
        map: 'Map',
        parallel: 'Parallel coordinate map',
        lines: 'Line graph',
        graph: 'Relationship graph',
        sankey: 'Sankey diagram',
        funnel: 'Funnel chart',
        gauge: 'Gauge',
        pictorialBar: 'Pictorial bar',
        themeRiver: 'Theme River Map',
        sunburst: 'Sunburst',
      },
    },
    aria: {
      general: {
        withTitle: 'This is a chart about "{title}"',
        withoutTitle: 'This is a chart',
      },
      series: {
        single: {
          prefix: '',
          withName: ' with type {seriesType} named {seriesName}.',
          withoutName: ' with type {seriesType}.',
        },
        multiple: {
          prefix: '. It consists of {seriesCount} series count.',
          withName:
            ' The {seriesId} series is a {seriesType} representing {seriesName}.',
          withoutName: ' The {seriesId} series is a {seriesType}.',
          separator: { middle: '', end: '' },
        },
      },
      data: {
        allData: 'The data is as follows: ',
        partialData: 'The first {displayCnt} items are: ',
        withName: 'the data for {name} is {value}',
        withoutName: '{value}',
        separator: { middle: ', ', end: '. ' },
      },
    },
  }),
    wy('ZH', {
      time: {
        month: [
          '\u4e00\u6708',
          '\u4e8c\u6708',
          '\u4e09\u6708',
          '\u56db\u6708',
          '\u4e94\u6708',
          '\u516d\u6708',
          '\u4e03\u6708',
          '\u516b\u6708',
          '\u4e5d\u6708',
          '\u5341\u6708',
          '\u5341\u4e00\u6708',
          '\u5341\u4e8c\u6708',
        ],
        monthAbbr: [
          '1\u6708',
          '2\u6708',
          '3\u6708',
          '4\u6708',
          '5\u6708',
          '6\u6708',
          '7\u6708',
          '8\u6708',
          '9\u6708',
          '10\u6708',
          '11\u6708',
          '12\u6708',
        ],
        dayOfWeek: [
          '\u661f\u671f\u65e5',
          '\u661f\u671f\u4e00',
          '\u661f\u671f\u4e8c',
          '\u661f\u671f\u4e09',
          '\u661f\u671f\u56db',
          '\u661f\u671f\u4e94',
          '\u661f\u671f\u516d',
        ],
        dayOfWeekAbbr: [
          '\u65e5',
          '\u4e00',
          '\u4e8c',
          '\u4e09',
          '\u56db',
          '\u4e94',
          '\u516d',
        ],
      },
      legend: { selector: { all: '\u5168\u9009', inverse: '\u53cd\u9009' } },
      toolbox: {
        brush: {
          title: {
            rect: '\u77e9\u5f62\u9009\u62e9',
            polygon: '\u5708\u9009',
            lineX: '\u6a2a\u5411\u9009\u62e9',
            lineY: '\u7eb5\u5411\u9009\u62e9',
            keep: '\u4fdd\u6301\u9009\u62e9',
            clear: '\u6e05\u9664\u9009\u62e9',
          },
        },
        dataView: {
          title: '\u6570\u636e\u89c6\u56fe',
          lang: ['\u6570\u636e\u89c6\u56fe', '\u5173\u95ed', '\u5237\u65b0'],
        },
        dataZoom: {
          title: {
            zoom: '\u533a\u57df\u7f29\u653e',
            back: '\u533a\u57df\u7f29\u653e\u8fd8\u539f',
          },
        },
        magicType: {
          title: {
            line: '\u5207\u6362\u4e3a\u6298\u7ebf\u56fe',
            bar: '\u5207\u6362\u4e3a\u67f1\u72b6\u56fe',
            stack: '\u5207\u6362\u4e3a\u5806\u53e0',
            tiled: '\u5207\u6362\u4e3a\u5e73\u94fa',
          },
        },
        restore: { title: '\u8fd8\u539f' },
        saveAsImage: {
          title: '\u4fdd\u5b58\u4e3a\u56fe\u7247',
          lang: ['\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247'],
        },
      },
      series: {
        typeNames: {
          pie: '\u997c\u56fe',
          bar: '\u67f1\u72b6\u56fe',
          line: '\u6298\u7ebf\u56fe',
          scatter: '\u6563\u70b9\u56fe',
          effectScatter: '\u6d9f\u6f2a\u6563\u70b9\u56fe',
          radar: '\u96f7\u8fbe\u56fe',
          tree: '\u6811\u56fe',
          treemap: '\u77e9\u5f62\u6811\u56fe',
          boxplot: '\u7bb1\u578b\u56fe',
          candlestick: 'K\u7ebf\u56fe',
          k: 'K\u7ebf\u56fe',
          heatmap: '\u70ed\u529b\u56fe',
          map: '\u5730\u56fe',
          parallel: '\u5e73\u884c\u5750\u6807\u56fe',
          lines: '\u7ebf\u56fe',
          graph: '\u5173\u7cfb\u56fe',
          sankey: '\u6851\u57fa\u56fe',
          funnel: '\u6f0f\u6597\u56fe',
          gauge: '\u4eea\u8868\u76d8\u56fe',
          pictorialBar: '\u8c61\u5f62\u67f1\u56fe',
          themeRiver: '\u4e3b\u9898\u6cb3\u6d41\u56fe',
          sunburst: '\u65ed\u65e5\u56fe',
        },
      },
      aria: {
        general: {
          withTitle:
            '\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002',
          withoutTitle: '\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c',
        },
        series: {
          single: {
            prefix: '',
            withName:
              '\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002',
            withoutName: '\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002',
          },
          multiple: {
            prefix:
              '\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002',
            withName:
              '\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c',
            withoutName:
              '\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c',
            separator: { middle: '\uff1b', end: '\u3002' },
          },
        },
        data: {
          allData: '\u5176\u6570\u636e\u662f\u2014\u2014',
          partialData:
            '\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014',
          withName: '{name}\u7684\u6570\u636e\u662f{value}',
          withoutName: '{value}',
          separator: { middle: '\uff0c', end: '' },
        },
      },
    });
  var fd = 36e5,
    ro = 24 * fd,
    SS = 365 * ro,
    hd = {
      year: '{yyyy}',
      month: '{MMM}',
      day: '{d}',
      hour: '{HH}:{mm}',
      minute: '{HH}:{mm}',
      second: '{HH}:{mm}:{ss}',
      millisecond: '{HH}:{mm}:{ss} {SSS}',
      none: '{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}',
    },
    Ep = '{yyyy}-{MM}-{dd}',
    wS = {
      year: '{yyyy}',
      month: '{yyyy}-{MM}',
      day: Ep,
      hour: Ep + ' ' + hd.hour,
      minute: Ep + ' ' + hd.minute,
      second: Ep + ' ' + hd.second,
      millisecond: hd.none,
    },
    Ay = ['year', 'month', 'day', 'hour', 'minute', 'second', 'millisecond'],
    CS = [
      'year',
      'half-year',
      'quarter',
      'month',
      'week',
      'half-week',
      'day',
      'half-day',
      'quarter-day',
      'hour',
      'minute',
      'second',
      'millisecond',
    ];
  function ca(r, e) {
    return '0000'.substr(0, e - (r += '').length) + r;
  }
  function Ef(r) {
    switch (r) {
      case 'half-year':
      case 'quarter':
        return 'month';
      case 'week':
      case 'half-week':
        return 'day';
      case 'half-day':
      case 'quarter-day':
        return 'hour';
      default:
        return r;
    }
  }
  function RP(r) {
    return r === Ef(r);
  }
  function dd(r, e, t, n) {
    var i = zi(r),
      a = i[My(t)](),
      o = i[Pf(t)]() + 1,
      s = Math.floor((o - 1) / 3) + 1,
      l = i[Pp(t)](),
      u = i['get' + (t ? 'UTC' : '') + 'Day'](),
      c = i[vd(t)](),
      f = ((c - 1) % 12) + 1,
      d = i[Rp(t)](),
      v = i[Op(t)](),
      g = i[Fp(t)](),
      y = (
        n instanceof Yr
          ? n
          : Cy(n || _S) ||
            (function PP() {
              return Sy[cd];
            })()
      ).getModel('time'),
      b = y.get('month'),
      w = y.get('monthAbbr'),
      C = y.get('dayOfWeek'),
      D = y.get('dayOfWeekAbbr');
    return (e || '')
      .replace(/{yyyy}/g, a + '')
      .replace(/{yy}/g, ca((a % 100) + '', 2))
      .replace(/{Q}/g, s + '')
      .replace(/{MMMM}/g, b[o - 1])
      .replace(/{MMM}/g, w[o - 1])
      .replace(/{MM}/g, ca(o, 2))
      .replace(/{M}/g, o + '')
      .replace(/{dd}/g, ca(l, 2))
      .replace(/{d}/g, l + '')
      .replace(/{eeee}/g, C[u])
      .replace(/{ee}/g, D[u])
      .replace(/{e}/g, u + '')
      .replace(/{HH}/g, ca(c, 2))
      .replace(/{H}/g, c + '')
      .replace(/{hh}/g, ca(f + '', 2))
      .replace(/{h}/g, f + '')
      .replace(/{mm}/g, ca(d, 2))
      .replace(/{m}/g, d + '')
      .replace(/{ss}/g, ca(v, 2))
      .replace(/{s}/g, v + '')
      .replace(/{SSS}/g, ca(g, 3))
      .replace(/{S}/g, g + '');
  }
  function DS(r, e) {
    var t = zi(r),
      n = t[Pf(e)]() + 1,
      i = t[Pp(e)](),
      a = t[vd(e)](),
      o = t[Rp(e)](),
      s = t[Op(e)](),
      u = 0 === t[Fp(e)](),
      c = u && 0 === s,
      f = c && 0 === o,
      d = f && 0 === a,
      v = d && 1 === i;
    return v && 1 === n
      ? 'year'
      : v
      ? 'month'
      : d
      ? 'day'
      : f
      ? 'hour'
      : c
      ? 'minute'
      : u
      ? 'second'
      : 'millisecond';
  }
  function TS(r, e, t) {
    var n = U(r) ? zi(r) : r;
    switch ((e = e || DS(r, t))) {
      case 'year':
        return n[My(t)]();
      case 'half-year':
        return n[Pf(t)]() >= 6 ? 1 : 0;
      case 'quarter':
        return Math.floor((n[Pf(t)]() + 1) / 4);
      case 'month':
        return n[Pf(t)]();
      case 'day':
        return n[Pp(t)]();
      case 'half-day':
        return n[vd(t)]() / 24;
      case 'hour':
        return n[vd(t)]();
      case 'minute':
        return n[Rp(t)]();
      case 'second':
        return n[Op(t)]();
      case 'millisecond':
        return n[Fp(t)]();
    }
  }
  function My(r) {
    return r ? 'getUTCFullYear' : 'getFullYear';
  }
  function Pf(r) {
    return r ? 'getUTCMonth' : 'getMonth';
  }
  function Pp(r) {
    return r ? 'getUTCDate' : 'getDate';
  }
  function vd(r) {
    return r ? 'getUTCHours' : 'getHours';
  }
  function Rp(r) {
    return r ? 'getUTCMinutes' : 'getMinutes';
  }
  function Op(r) {
    return r ? 'getUTCSeconds' : 'getSeconds';
  }
  function Fp(r) {
    return r ? 'getUTCMilliseconds' : 'getMilliseconds';
  }
  function BP(r) {
    return r ? 'setUTCFullYear' : 'setFullYear';
  }
  function AS(r) {
    return r ? 'setUTCMonth' : 'setMonth';
  }
  function MS(r) {
    return r ? 'setUTCDate' : 'setDate';
  }
  function LS(r) {
    return r ? 'setUTCHours' : 'setHours';
  }
  function IS(r) {
    return r ? 'setUTCMinutes' : 'setMinutes';
  }
  function kS(r) {
    return r ? 'setUTCSeconds' : 'setSeconds';
  }
  function ES(r) {
    return r ? 'setUTCMilliseconds' : 'setMilliseconds';
  }
  function Ly(r) {
    if (!Wu(r)) return ht(r) ? r : '-';
    var e = (r + '').split('.');
    return (
      e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g, '$1,') +
      (e.length > 1 ? '.' + e[1] : '')
    );
  }
  function Iy(r, e) {
    return (
      (r = (r || '').toLowerCase().replace(/-(.)/g, function (t, n) {
        return n.toUpperCase();
      })),
      e && r && (r = r.charAt(0).toUpperCase() + r.slice(1)),
      r
    );
  }
  var lc = et;
  function ky(r, e, t) {
    function i(c) {
      return c && Et(c) ? c : '-';
    }
    function a(c) {
      return !(null == c || isNaN(c) || !isFinite(c));
    }
    var o = 'time' === e,
      s = r instanceof Date;
    if (o || s) {
      var l = o ? zi(r) : r;
      if (!isNaN(+l)) return dd(l, '{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}', t);
      if (s) return '-';
    }
    if ('ordinal' === e) return It(r) ? i(r) : U(r) && a(r) ? r + '' : '-';
    var u = ba(r);
    return a(u) ? Ly(u) : It(r) ? i(r) : 'boolean' == typeof r ? r + '' : '-';
  }
  var PS = ['a', 'b', 'c', 'd', 'e', 'f', 'g'],
    Ey = function (r, e) {
      return '{' + r + (e ?? '') + '}';
    };
  function Py(r, e, t) {
    Tt(e) || (e = [e]);
    var n = e.length;
    if (!n) return '';
    for (var i = e[0].$vars || [], a = 0; a < i.length; a++) {
      var o = PS[a];
      r = r.replace(Ey(o), Ey(o, 0));
    }
    for (var s = 0; s < n; s++)
      for (var l = 0; l < i.length; l++) {
        var u = e[s][i[l]];
        r = r.replace(Ey(PS[l], s), t ? Dn(u) : u);
      }
    return r;
  }
  function RS(r, e) {
    var t = ht(r) ? { color: r, extraCssText: e } : r || {},
      n = t.color,
      i = t.type;
    e = t.extraCssText;
    var a = t.renderMode || 'html';
    return n
      ? 'html' === a
        ? 'subItem' === i
          ? '<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:' +
            Dn(n) +
            ';' +
            (e || '') +
            '"></span>'
          : '<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:' +
            Dn(n) +
            ';' +
            (e || '') +
            '"></span>'
        : {
            renderMode: a,
            content: '{' + (t.markerId || 'markerX') + '|}  ',
            style:
              'subItem' === i
                ? { width: 4, height: 4, borderRadius: 2, backgroundColor: n }
                : {
                    width: 10,
                    height: 10,
                    borderRadius: 5,
                    backgroundColor: n,
                  },
          }
      : '';
  }
  function uc(r, e) {
    return (
      (e = e || 'transparent'),
      ht(r) ? r : (Y(r) && r.colorStops && (r.colorStops[0] || {}).color) || e
    );
  }
  function Bp(r, e) {
    if ('_blank' === e || 'blank' === e) {
      var t = window.open();
      (t.opener = null), (t.location.href = r);
    } else window.open(r, e);
  }
  var Np = F,
    OS = ['left', 'right', 'top', 'bottom', 'width', 'height'],
    cc = [
      ['width', 'left', 'right'],
      ['height', 'top', 'bottom'],
    ];
  function Ry(r, e, t, n, i) {
    var a = 0,
      o = 0;
    null == n && (n = 1 / 0), null == i && (i = 1 / 0);
    var s = 0;
    e.eachChild(function (l, u) {
      var v,
        g,
        c = l.getBoundingRect(),
        f = e.childAt(u + 1),
        d = f && f.getBoundingRect();
      if ('horizontal' === r) {
        var m = c.width + (d ? -d.x + c.x : 0);
        (v = a + m) > n || l.newline
          ? ((a = 0), (v = m), (o += s + t), (s = c.height))
          : (s = Math.max(s, c.height));
      } else {
        var y = c.height + (d ? -d.y + c.y : 0);
        (g = o + y) > i || l.newline
          ? ((a += s + t), (o = 0), (g = y), (s = c.width))
          : (s = Math.max(s, c.width));
      }
      l.newline ||
        ((l.x = a),
        (l.y = o),
        l.markRedraw(),
        'horizontal' === r ? (a = v + t) : (o = g + t));
    });
  }
  var fc = Ry;
  function Vn(r, e, t) {
    t = lc(t || 0);
    var n = e.width,
      i = e.height,
      a = Te(r.left, n),
      o = Te(r.top, i),
      s = Te(r.right, n),
      l = Te(r.bottom, i),
      u = Te(r.width, n),
      c = Te(r.height, i),
      f = t[2] + t[0],
      d = t[1] + t[3],
      v = r.aspect;
    switch (
      (isNaN(u) && (u = n - s - d - a),
      isNaN(c) && (c = i - l - f - o),
      null != v &&
        (isNaN(u) && isNaN(c) && (v > n / i ? (u = 0.8 * n) : (c = 0.8 * i)),
        isNaN(u) && (u = v * c),
        isNaN(c) && (c = u / v)),
      isNaN(a) && (a = n - s - u - d),
      isNaN(o) && (o = i - l - c - f),
      r.left || r.right)
    ) {
      case 'center':
        a = n / 2 - u / 2 - t[3];
        break;
      case 'right':
        a = n - u - d;
    }
    switch (r.top || r.bottom) {
      case 'middle':
      case 'center':
        o = i / 2 - c / 2 - t[0];
        break;
      case 'bottom':
        o = i - c - f;
    }
    (a = a || 0),
      (o = o || 0),
      isNaN(u) && (u = n - d - a - (s || 0)),
      isNaN(c) && (c = i - f - o - (l || 0));
    var g = new it(a + t[3], o + t[0], u, c);
    return (g.margin = t), g;
  }
  function zp(r, e, t, n, i, a) {
    var u,
      o = !i || !i.hv || i.hv[0],
      s = !i || !i.hv || i.hv[1],
      l = (i && i.boundingMode) || 'all';
    if ((((a = a || r).x = r.x), (a.y = r.y), !o && !s)) return !1;
    if ('raw' === l)
      u =
        'group' === r.type
          ? new it(0, 0, +e.width || 0, +e.height || 0)
          : r.getBoundingRect();
    else if (((u = r.getBoundingRect()), r.needLocalTransform())) {
      var c = r.getLocalTransform();
      (u = u.clone()).applyTransform(c);
    }
    var f = Vn(Ot({ width: u.width, height: u.height }, e), t, n),
      d = o ? f.x - u.x : 0,
      v = s ? f.y - u.y : 0;
    return (
      'raw' === l ? ((a.x = d), (a.y = v)) : ((a.x += d), (a.y += v)),
      a === r && r.markRedraw(),
      !0
    );
  }
  function pd(r) {
    var e = r.layoutMode || r.constructor.layoutMode;
    return Y(e) ? e : e ? { type: e } : null;
  }
  function ql(r, e, t) {
    var n = t && t.ignoreSize;
    !Tt(n) && (n = [n, n]);
    var i = o(cc[0], 0),
      a = o(cc[1], 1);
    function o(c, f) {
      var d = {},
        v = 0,
        g = {},
        m = 0;
      if (
        (Np(c, function (C) {
          g[C] = r[C];
        }),
        Np(c, function (C) {
          s(e, C) && (d[C] = g[C] = e[C]), l(d, C) && v++, l(g, C) && m++;
        }),
        n[f])
      )
        return (
          l(e, c[1]) ? (g[c[2]] = null) : l(e, c[2]) && (g[c[1]] = null), g
        );
      if (2 === m || !v) return g;
      if (v >= 2) return d;
      for (var b = 0; b < c.length; b++) {
        var w = c[b];
        if (!s(d, w) && s(r, w)) {
          d[w] = r[w];
          break;
        }
      }
      return d;
    }
    function s(c, f) {
      return c.hasOwnProperty(f);
    }
    function l(c, f) {
      return null != c[f] && 'auto' !== c[f];
    }
    function u(c, f, d) {
      Np(c, function (v) {
        f[v] = d[v];
      });
    }
    u(cc[0], r, i), u(cc[1], r, a);
  }
  function Rf(r) {
    return FS({}, r);
  }
  function FS(r, e) {
    return (
      e &&
        r &&
        Np(OS, function (t) {
          e.hasOwnProperty(t) && (r[t] = e[t]);
        }),
      r
    );
  }
  me(Ry, 'vertical'), me(Ry, 'horizontal');
  var $P = S(),
    br = (function (r) {
      function e(t, n, i) {
        var a = r.call(this, t, n, i) || this;
        return (a.uid = kf('ec_cpt_model')), a;
      }
      return (
        ut(e, r),
        (e.prototype.init = function (t, n, i) {
          this.mergeDefaultAndTheme(t, i);
        }),
        (e.prototype.mergeDefaultAndTheme = function (t, n) {
          var i = pd(this),
            a = i ? Rf(t) : {};
          Gt(t, n.getTheme().get(this.mainType)),
            Gt(t, this.getDefaultOption()),
            i && ql(t, a, i);
        }),
        (e.prototype.mergeOption = function (t, n) {
          Gt(this.option, t, !0);
          var i = pd(this);
          i && ql(this.option, t, i);
        }),
        (e.prototype.optionUpdated = function (t, n) {}),
        (e.prototype.getDefaultOption = function () {
          var t = this.constructor;
          if (
            !(function be(r) {
              return !(!r || !r[le]);
            })(t)
          )
            return t.defaultOption;
          var n = $P(this);
          if (!n.defaultOption) {
            for (var i = [], a = t; a; ) {
              var o = a.prototype.defaultOption;
              o && i.push(o), (a = a.superClass);
            }
            for (var s = {}, l = i.length - 1; l >= 0; l--) s = Gt(s, i[l], !0);
            n.defaultOption = s;
          }
          return n.defaultOption;
        }),
        (e.prototype.getReferringComponents = function (t, n) {
          var a = t + 'Id';
          return q(
            this.ecModel,
            t,
            { index: this.get(t + 'Index', !0), id: this.get(a, !0) },
            n
          );
        }),
        (e.prototype.getBoxLayoutParams = function () {
          var t = this;
          return {
            left: t.get('left'),
            top: t.get('top'),
            right: t.get('right'),
            bottom: t.get('bottom'),
            width: t.get('width'),
            height: t.get('height'),
          };
        }),
        (e.prototype.getZLevelKey = function () {
          return '';
        }),
        (e.prototype.setZLevel = function (t) {
          this.option.zlevel = t;
        }),
        (e.protoInitialize =
          (((t = e.prototype).type = 'component'),
          (t.id = ''),
          (t.name = ''),
          (t.mainType = ''),
          (t.subType = ''),
          void (t.componentIndex = 0))),
        e
      );
      var t;
    })(Yr);
  Ue(br, Yr),
    Pr(br),
    (function MP(r) {
      var e = {};
      (r.registerSubTypeDefaulter = function (t, n) {
        var i = Jt(t);
        e[i.main] = n;
      }),
        (r.determineSubType = function (t, n) {
          var i = n.type;
          if (!i) {
            var a = Jt(t).main;
            r.hasSubTypes(t) && e[a] && (i = e[a](n));
          }
          return i;
        });
    })(br),
    (function LP(r, e) {
      function n(a, o) {
        return a[o] || (a[o] = { predecessor: [], successor: [] }), a[o];
      }
      r.topologicalTravel = function (a, o, s, l) {
        if (a.length) {
          var u = (function t(a) {
              var o = {},
                s = [];
              return (
                F(a, function (l) {
                  var u = n(o, l),
                    f = (function i(a, o) {
                      var s = [];
                      return (
                        F(a, function (l) {
                          $(o, l) >= 0 && s.push(l);
                        }),
                        s
                      );
                    })((u.originalDeps = e(l)), a);
                  (u.entryCount = f.length),
                    0 === u.entryCount && s.push(l),
                    F(f, function (d) {
                      $(u.predecessor, d) < 0 && u.predecessor.push(d);
                      var v = n(o, d);
                      $(v.successor, d) < 0 && v.successor.push(l);
                    });
                }),
                { graph: o, noEntryList: s }
              );
            })(o),
            c = u.graph,
            f = u.noEntryList,
            d = {};
          for (
            F(a, function (w) {
              d[w] = !0;
            });
            f.length;

          ) {
            var v = f.pop(),
              g = c[v],
              m = !!d[v];
            m && (s.call(l, v, g.originalDeps.slice()), delete d[v]),
              F(g.successor, m ? b : y);
          }
          F(d, function () {
            var w;
            throw (
              ((w = mi('Circular dependency may exists: ', d, a, o)),
              new Error(w))
            );
          });
        }
        function y(w) {
          c[w].entryCount--, 0 === c[w].entryCount && f.push(w);
        }
        function b(w) {
          (d[w] = !0), y(w);
        }
      };
    })(br, function UP(r) {
      var e = [];
      return (
        F(br.getClassesByMainType(r), function (t) {
          e = e.concat(t.dependencies || t.prototype.dependencies || []);
        }),
        (e = Ut(e, function (t) {
          return Jt(t).main;
        })),
        'dataset' !== r && $(e, 'dataset') <= 0 && e.unshift('dataset'),
        e
      );
    });
  var BS = '';
  typeof navigator < 'u' && (BS = navigator.platform || '');
  var Of = 'rgba(0, 0, 0, 0.2)',
    YP = {
      darkMode: 'auto',
      colorBy: 'series',
      color: [
        '#5470c6',
        '#91cc75',
        '#fac858',
        '#ee6666',
        '#73c0de',
        '#3ba272',
        '#fc8452',
        '#9a60b4',
        '#ea7ccc',
      ],
      gradientColor: ['#f6efa6', '#d88273', '#bf444c'],
      aria: {
        decal: {
          decals: [
            {
              color: Of,
              dashArrayX: [1, 0],
              dashArrayY: [2, 5],
              symbolSize: 1,
              rotation: Math.PI / 6,
            },
            {
              color: Of,
              symbol: 'circle',
              dashArrayX: [
                [8, 8],
                [0, 8, 8, 0],
              ],
              dashArrayY: [6, 0],
              symbolSize: 0.8,
            },
            {
              color: Of,
              dashArrayX: [1, 0],
              dashArrayY: [4, 3],
              rotation: -Math.PI / 4,
            },
            {
              color: Of,
              dashArrayX: [
                [6, 6],
                [0, 6, 6, 0],
              ],
              dashArrayY: [6, 0],
            },
            {
              color: Of,
              dashArrayX: [
                [1, 0],
                [1, 6],
              ],
              dashArrayY: [1, 0, 6, 0],
              rotation: Math.PI / 4,
            },
            {
              color: Of,
              symbol: 'triangle',
              dashArrayX: [
                [9, 9],
                [0, 9, 9, 0],
              ],
              dashArrayY: [7, 2],
              symbolSize: 0.75,
            },
          ],
        },
      },
      textStyle: {
        fontFamily: BS.match(/^Win/) ? 'Microsoft YaHei' : 'sans-serif',
        fontSize: 12,
        fontStyle: 'normal',
        fontWeight: 'normal',
      },
      blendMode: null,
      stateAnimation: { duration: 300, easing: 'cubicOut' },
      animation: 'auto',
      animationDuration: 1e3,
      animationDurationUpdate: 500,
      animationEasing: 'cubicInOut',
      animationEasingUpdate: 'cubicInOut',
      animationThreshold: 2e3,
      progressiveThreshold: 3e3,
      progressive: 400,
      hoverLayerThreshold: 3e3,
      useUTC: !1,
    },
    Oy = Nt([
      'tooltip',
      'label',
      'itemName',
      'itemId',
      'itemGroupId',
      'seriesName',
    ]),
    no = 'original',
    Ui = 'arrayRows',
    io = 'objectRows',
    ls = 'keyedColumns',
    el = 'typedArray',
    NS = 'unknown',
    us = 'column',
    Ff = 'row',
    Di = { Must: 1, Might: 2, Not: 3 },
    zS = S();
  function VS(r, e, t) {
    var n = {},
      i = By(e);
    if (!i || !r) return n;
    var c,
      f,
      a = [],
      o = [],
      l = zS(e.ecModel).datasetMap,
      u = i.uid + '_' + t.seriesLayoutBy;
    F((r = r.slice()), function (m, y) {
      var b = Y(m) ? m : (r[y] = { name: m });
      'ordinal' === b.type && null == c && ((c = y), (f = g(b))),
        (n[b.name] = []);
    });
    var d = l.get(u) || l.set(u, { categoryWayDim: f, valueWayDim: 0 });
    function v(m, y, b) {
      for (var w = 0; w < b; w++) m.push(y + w);
    }
    function g(m) {
      var y = m.dimsDef;
      return y ? y.length : 1;
    }
    return (
      F(r, function (m, y) {
        var b = m.name,
          w = g(m);
        if (null == c)
          v(n[b], (C = d.valueWayDim), w), v(o, C, w), (d.valueWayDim += w);
        else if (c === y) v(n[b], 0, w), v(a, 0, w);
        else {
          var C;
          v(n[b], (C = d.categoryWayDim), w),
            v(o, C, w),
            (d.categoryWayDim += w);
        }
      }),
      a.length && (n.itemName = a),
      o.length && (n.seriesName = o),
      n
    );
  }
  function Fy(r, e, t) {
    var n = {};
    if (!By(r)) return n;
    var s,
      a = e.sourceFormat,
      o = e.dimensionsDefine;
    (a === io || a === ls) &&
      F(o, function (c, f) {
        'name' === (Y(c) ? c.name : c) && (s = f);
      });
    var l = (function () {
      for (var c = {}, f = {}, d = [], v = 0, g = Math.min(5, t); v < g; v++) {
        var m = GS(e.data, a, e.seriesLayoutBy, o, e.startIndex, v);
        d.push(m);
        var y = m === Di.Not;
        if (
          (y && null == c.v && v !== s && (c.v = v),
          (null == c.n || c.n === c.v || (!y && d[c.n] === Di.Not)) &&
            (c.n = v),
          b(c) && d[c.n] !== Di.Not)
        )
          return c;
        y ||
          (m === Di.Might && null == f.v && v !== s && (f.v = v),
          (null == f.n || f.n === f.v) && (f.n = v));
      }
      function b(w) {
        return null != w.v && null != w.n;
      }
      return b(c) ? c : b(f) ? f : null;
    })();
    if (l) {
      n.value = [l.v];
      var u = s ?? l.n;
      (n.itemName = [u]), (n.seriesName = [u]);
    }
    return n;
  }
  function By(r) {
    if (!r.get('data', !0))
      return q(
        r.ecModel,
        'dataset',
        { index: r.get('datasetIndex', !0), id: r.get('datasetId', !0) },
        N
      ).models[0];
  }
  function HS(r, e) {
    return GS(
      r.data,
      r.sourceFormat,
      r.seriesLayoutBy,
      r.dimensionsDefine,
      r.startIndex,
      e
    );
  }
  function GS(r, e, t, n, i, a) {
    var o, l, u;
    if (Q(r)) return Di.Not;
    if (n) {
      var c = n[a];
      Y(c) ? ((l = c.name), (u = c.type)) : ht(c) && (l = c);
    }
    if (null != u) return 'ordinal' === u ? Di.Must : Di.Not;
    if (e === Ui) {
      var f = r;
      if (t === Ff) {
        for (var d = f[a], v = 0; v < (d || []).length && v < 5; v++)
          if (null != (o = D(d[i + v]))) return o;
      } else
        for (v = 0; v < f.length && v < 5; v++) {
          var g = f[i + v];
          if (g && null != (o = D(g[a]))) return o;
        }
    } else if (e === io) {
      var m = r;
      if (!l) return Di.Not;
      for (v = 0; v < m.length && v < 5; v++)
        if ((y = m[v]) && null != (o = D(y[l]))) return o;
    } else if (e === ls) {
      if (!l) return Di.Not;
      if (!(d = r[l]) || Q(d)) return Di.Not;
      for (v = 0; v < d.length && v < 5; v++)
        if (null != (o = D(d[v]))) return o;
    } else if (e === no) {
      var w = r;
      for (v = 0; v < w.length && v < 5; v++) {
        var y,
          C = Io((y = w[v]));
        if (!Tt(C)) return Di.Not;
        if (null != (o = D(C[a]))) return o;
      }
    }
    function D(L) {
      var M = ht(L);
      return null != L && isFinite(L) && '' !== L
        ? M
          ? Di.Might
          : Di.Not
        : M && '-' !== L
        ? Di.Must
        : void 0;
    }
    return Di.Not;
  }
  var Ny = Nt(),
    WS = S(),
    KP = S(),
    zy = (function () {
      function r() {}
      return (
        (r.prototype.getColorFromPalette = function (e, t, n) {
          var i = qr(this.get('color', !0)),
            a = this.get('colorLayer', !0);
          return $S(this, WS, i, a, e, t, n);
        }),
        (r.prototype.clearColorPalette = function () {
          !(function JP(r, e) {
            (e(r).paletteIdx = 0), (e(r).paletteNameMap = {});
          })(this, WS);
        }),
        r
      );
    })();
  function Vy(r, e, t, n) {
    var i = qr(r.get(['aria', 'decal', 'decals']));
    return $S(r, KP, i, null, e, t, n);
  }
  function $S(r, e, t, n, i, a, o) {
    var s = e((a = a || r)),
      l = s.paletteIdx || 0,
      u = (s.paletteNameMap = s.paletteNameMap || {});
    if (u.hasOwnProperty(i)) return u[i];
    var c =
      null != o && n
        ? (function QP(r, e) {
            for (var t = r.length, n = 0; n < t; n++)
              if (r[n].length > e) return r[n];
            return r[t - 1];
          })(n, o)
        : t;
    if ((c = c || t) && c.length) {
      var f = c[l];
      return i && (u[i] = f), (s.paletteIdx = (l + 1) % c.length), f;
    }
  }
  var Vp,
    gd,
    US,
    Hy = '\0_ec_inner',
    tR = {
      grid: 'GridComponent',
      polar: 'PolarComponent',
      geo: 'GeoComponent',
      singleAxis: 'SingleAxisComponent',
      parallel: 'ParallelComponent',
      calendar: 'CalendarComponent',
      graphic: 'GraphicComponent',
      toolbox: 'ToolboxComponent',
      tooltip: 'TooltipComponent',
      axisPointer: 'AxisPointerComponent',
      brush: 'BrushComponent',
      title: 'TitleComponent',
      timeline: 'TimelineComponent',
      markPoint: 'MarkPointComponent',
      markLine: 'MarkLineComponent',
      markArea: 'MarkAreaComponent',
      legend: 'LegendComponent',
      dataZoom: 'DataZoomComponent',
      visualMap: 'VisualMapComponent',
      xAxis: 'GridComponent',
      yAxis: 'GridComponent',
      angleAxis: 'PolarComponent',
      radiusAxis: 'PolarComponent',
    },
    eR = {
      line: 'LineChart',
      bar: 'BarChart',
      pie: 'PieChart',
      scatter: 'ScatterChart',
      radar: 'RadarChart',
      map: 'MapChart',
      tree: 'TreeChart',
      treemap: 'TreemapChart',
      graph: 'GraphChart',
      gauge: 'GaugeChart',
      funnel: 'FunnelChart',
      parallel: 'ParallelChart',
      sankey: 'SankeyChart',
      boxplot: 'BoxplotChart',
      candlestick: 'CandlestickChart',
      effectScatter: 'EffectScatterChart',
      lines: 'LinesChart',
      heatmap: 'HeatmapChart',
      pictorialBar: 'PictorialBarChart',
      themeRiver: 'ThemeRiverChart',
      sunburst: 'SunburstChart',
      custom: 'CustomChart',
    },
    Hp = {},
    Gy = (function (r) {
      function e() {
        return (null !== r && r.apply(this, arguments)) || this;
      }
      return (
        ut(e, r),
        (e.prototype.init = function (t, n, i, a, o, s) {
          (a = a || {}),
            (this.option = null),
            (this._theme = new Yr(a)),
            (this._locale = new Yr(o)),
            (this._optionManager = s);
        }),
        (e.prototype.setOption = function (t, n, i) {
          lt(null != t, 'option is null/undefined'),
            lt(1 !== t[Hy], 'please use chart.getOption()');
          var a = qS(n);
          this._optionManager.setOption(t, i, a), this._resetOption(null, a);
        }),
        (e.prototype.resetOption = function (t, n) {
          return this._resetOption(t, qS(n));
        }),
        (e.prototype._resetOption = function (t, n) {
          var i = !1,
            a = this._optionManager;
          if (!t || 'recreate' === t) {
            var o = a.mountOption('recreate' === t);
            (function rR(r) {
              F(r, function (e, t) {
                if (!br.hasClass(t)) {
                  var n = tR[t];
                  n &&
                    !Hp[n] &&
                    (qn(
                      'Component ' +
                        t +
                        ' is used but not imported.\nimport { ' +
                        n +
                        " } from 'echarts/components';\necharts.use([" +
                        n +
                        ']);'
                    ),
                    (Hp[n] = !0));
                }
              });
            })(o),
              this.option && 'recreate' !== t
                ? (this.restoreData(), this._mergeOption(o, n))
                : US(this, o),
              (i = !0);
          }
          if (
            (('timeline' === t || 'media' === t) && this.restoreData(),
            !t || 'recreate' === t || 'timeline' === t)
          ) {
            var s = a.getTimelineOption(this);
            s && ((i = !0), this._mergeOption(s, n));
          }
          if (!t || 'recreate' === t || 'media' === t) {
            var l = a.getMediaOption(this);
            l.length &&
              F(
                l,
                function (u) {
                  (i = !0), this._mergeOption(u, n);
                },
                this
              );
          }
          return i;
        }),
        (e.prototype.mergeOption = function (t) {
          this._mergeOption(t, null);
        }),
        (e.prototype._mergeOption = function (t, n) {
          var i = this.option,
            a = this._componentsMap,
            o = this._componentsCount,
            s = [],
            l = Nt(),
            u = n && n.replaceMergeMainTypeMap;
          (function XP(r) {
            zS(r).datasetMap = Nt();
          })(this),
            F(t, function (f, d) {
              null != f &&
                (br.hasClass(d)
                  ? d && (s.push(d), l.set(d, !0))
                  : (i[d] = null == i[d] ? ft(f) : Gt(i[d], f, !0)));
            }),
            u &&
              u.each(function (f, d) {
                br.hasClass(d) && !l.get(d) && (s.push(d), l.set(d, !0));
              }),
            br.topologicalTravel(
              s,
              br.getAllClassMainTypes(),
              function c(f) {
                var d = (function jP(r, e, t) {
                    var n = Ny.get(e);
                    if (!n) return t;
                    var i = n(r);
                    if (!i) return t;
                    for (var a = 0; a < i.length; a++) lt(Bl(i[a]));
                    return t.concat(i);
                  })(this, f, qr(t[f])),
                  v = a.get(f),
                  m = Uh(
                    v,
                    d,
                    v
                      ? u && u.get(f)
                        ? 'replaceMerge'
                        : 'normalMerge'
                      : 'replaceAll'
                  );
                (function h(r, e, t) {
                  F(r, function (n) {
                    var i = n.newOption;
                    Y(i) &&
                      ((n.keyInfo.mainType = e),
                      (n.keyInfo.subType = (function p(r, e, t, n) {
                        return e.type
                          ? e.type
                          : t
                          ? t.subType
                          : n.determineSubType(r, e);
                      })(e, i, n.existing, t)));
                  });
                })(m, f, br),
                  (i[f] = null),
                  a.set(f, null),
                  o.set(f, 0);
                var C,
                  D,
                  y = [],
                  b = [],
                  w = 0;
                F(
                  m,
                  function (L, M) {
                    var E = L.existing,
                      O = L.newOption;
                    if (O) {
                      var H = br.getClass(
                        f,
                        L.keyInfo.subType,
                        !('series' === f)
                      );
                      if (!H) {
                        var G = L.keyInfo.subType,
                          X = eR[G];
                        return void (
                          Hp[G] ||
                          ((Hp[G] = !0),
                          qn(
                            X
                              ? 'Series ' +
                                  G +
                                  ' is used but not imported.\nimport { ' +
                                  X +
                                  " } from 'echarts/charts';\necharts.use([" +
                                  X +
                                  ']);'
                              : 'Unknown series ' + G
                          ))
                        );
                      }
                      if ('tooltip' === f) {
                        if (C)
                          return void (
                            D ||
                            (ln(
                              'Currently only one tooltip component is allowed.'
                            ),
                            (D = !0))
                          );
                        C = !0;
                      }
                      if (E && E.constructor === H)
                        (E.name = L.keyInfo.name),
                          E.mergeOption(O, this),
                          E.optionUpdated(O, !1);
                      else {
                        var K = nt({ componentIndex: M }, L.keyInfo);
                        nt((E = new H(O, this, this, K)), K),
                          L.brandNew && (E.__requireNewView = !0),
                          E.init(O, this, this),
                          E.optionUpdated(null, !0);
                      }
                    } else
                      E && (E.mergeOption({}, this), E.optionUpdated({}, !1));
                    E
                      ? (y.push(E.option), b.push(E), w++)
                      : (y.push(void 0), b.push(void 0));
                  },
                  this
                ),
                  (i[f] = y),
                  a.set(f, b),
                  o.set(f, w),
                  'series' === f && Vp(this);
              },
              this
            ),
            this._seriesIndices || Vp(this);
        }),
        (e.prototype.getOption = function () {
          var t = ft(this.option);
          return (
            F(t, function (n, i) {
              if (br.hasClass(i)) {
                for (
                  var a = qr(n), o = a.length, s = !1, l = o - 1;
                  l >= 0;
                  l--
                )
                  a[l] && !Bl(a[l]) ? (s = !0) : ((a[l] = null), !s && o--);
                (a.length = o), (t[i] = a);
              }
            }),
            delete t[Hy],
            t
          );
        }),
        (e.prototype.getTheme = function () {
          return this._theme;
        }),
        (e.prototype.getLocaleModel = function () {
          return this._locale;
        }),
        (e.prototype.setUpdatePayload = function (t) {
          this._payload = t;
        }),
        (e.prototype.getUpdatePayload = function () {
          return this._payload;
        }),
        (e.prototype.getComponent = function (t, n) {
          var i = this._componentsMap.get(t);
          if (i) {
            var a = i[n || 0];
            if (a) return a;
            if (null == n)
              for (var o = 0; o < i.length; o++) if (i[o]) return i[o];
          }
        }),
        (e.prototype.queryComponents = function (t) {
          var n = t.mainType;
          if (!n) return [];
          var l,
            i = t.index,
            a = t.id,
            o = t.name,
            s = this._componentsMap.get(n);
          return s && s.length
            ? (null != i
                ? ((l = []),
                  F(qr(i), function (u) {
                    s[u] && l.push(s[u]);
                  }))
                : (l =
                    null != a
                      ? XS('id', a, s)
                      : null != o
                      ? XS('name', o, s)
                      : je(s, function (u) {
                          return !!u;
                        })),
              ZS(l, t))
            : [];
        }),
        (e.prototype.findComponents = function (t) {
          var i = t.mainType,
            a = (function s(u) {
              var c = i + 'Index',
                f = i + 'Id',
                d = i + 'Name';
              return !u || (null == u[c] && null == u[f] && null == u[d])
                ? null
                : { mainType: i, index: u[c], id: u[f], name: u[d] };
            })(t.query);
          return (function l(u) {
            return t.filter ? je(u, t.filter) : u;
          })(
            ZS(
              a
                ? this.queryComponents(a)
                : je(this._componentsMap.get(i), function (u) {
                    return !!u;
                  }),
              t
            )
          );
        }),
        (e.prototype.eachComponent = function (t, n, i) {
          var a = this._componentsMap;
          if (fe(t)) {
            var o = n,
              s = t;
            a.each(function (f, d) {
              for (var v = 0; f && v < f.length; v++) {
                var g = f[v];
                g && s.call(o, d, g, g.componentIndex);
              }
            });
          } else
            for (
              var l = ht(t) ? a.get(t) : Y(t) ? this.findComponents(t) : null,
                u = 0;
              l && u < l.length;
              u++
            ) {
              var c = l[u];
              c && n.call(i, c, c.componentIndex);
            }
        }),
        (e.prototype.getSeriesByName = function (t) {
          var n = gn(t, null);
          return je(this._componentsMap.get('series'), function (i) {
            return !!i && null != n && i.name === n;
          });
        }),
        (e.prototype.getSeriesByIndex = function (t) {
          return this._componentsMap.get('series')[t];
        }),
        (e.prototype.getSeriesByType = function (t) {
          return je(this._componentsMap.get('series'), function (n) {
            return !!n && n.subType === t;
          });
        }),
        (e.prototype.getSeries = function () {
          return je(this._componentsMap.get('series'), function (t) {
            return !!t;
          });
        }),
        (e.prototype.getSeriesCount = function () {
          return this._componentsCount.get('series');
        }),
        (e.prototype.eachSeries = function (t, n) {
          gd(this),
            F(
              this._seriesIndices,
              function (i) {
                var a = this._componentsMap.get('series')[i];
                t.call(n, a, i);
              },
              this
            );
        }),
        (e.prototype.eachRawSeries = function (t, n) {
          F(this._componentsMap.get('series'), function (i) {
            i && t.call(n, i, i.componentIndex);
          });
        }),
        (e.prototype.eachSeriesByType = function (t, n, i) {
          gd(this),
            F(
              this._seriesIndices,
              function (a) {
                var o = this._componentsMap.get('series')[a];
                o.subType === t && n.call(i, o, a);
              },
              this
            );
        }),
        (e.prototype.eachRawSeriesByType = function (t, n, i) {
          return F(this.getSeriesByType(t), n, i);
        }),
        (e.prototype.isSeriesFiltered = function (t) {
          return gd(this), null == this._seriesIndicesMap.get(t.componentIndex);
        }),
        (e.prototype.getCurrentSeriesIndices = function () {
          return (this._seriesIndices || []).slice();
        }),
        (e.prototype.filterSeries = function (t, n) {
          gd(this);
          var i = [];
          F(
            this._seriesIndices,
            function (a) {
              var o = this._componentsMap.get('series')[a];
              t.call(n, o, a) && i.push(a);
            },
            this
          ),
            (this._seriesIndices = i),
            (this._seriesIndicesMap = Nt(i));
        }),
        (e.prototype.restoreData = function (t) {
          Vp(this);
          var n = this._componentsMap,
            i = [];
          n.each(function (a, o) {
            br.hasClass(o) && i.push(o);
          }),
            br.topologicalTravel(i, br.getAllClassMainTypes(), function (a) {
              F(n.get(a), function (o) {
                o &&
                  ('series' !== a ||
                    !(function nR(r, e) {
                      if (e) {
                        var t = e.seriesIndex,
                          n = e.seriesId,
                          i = e.seriesName;
                        return (
                          (null != t && r.componentIndex !== t) ||
                          (null != n && r.id !== n) ||
                          (null != i && r.name !== i)
                        );
                      }
                    })(o, t)) &&
                  o.restoreData();
              });
            });
        }),
        (e.internalField =
          ((Vp = function (t) {
            var n = (t._seriesIndices = []);
            F(t._componentsMap.get('series'), function (i) {
              i && n.push(i.componentIndex);
            }),
              (t._seriesIndicesMap = Nt(n));
          }),
          (gd = function (t) {
            if (!t._seriesIndices)
              throw new Error('Option should contains series.');
          }),
          void (US = function (t, n) {
            (t.option = {}),
              (t.option[Hy] = 1),
              (t._componentsMap = Nt({ series: [] })),
              (t._componentsCount = Nt());
            var i = n.aria;
            Y(i) && null == i.enabled && (i.enabled = !0),
              (function iR(r, e) {
                var t = r.color && !r.colorLayer;
                F(e, function (n, i) {
                  ('colorLayer' === i && t) ||
                    br.hasClass(i) ||
                    ('object' == typeof n
                      ? (r[i] = r[i] ? Gt(r[i], n, !1) : ft(n))
                      : null == r[i] && (r[i] = n));
                });
              })(n, t._theme.option),
              Gt(n, YP, !1),
              t._mergeOption(n, null);
          }))),
        e
      );
    })(Yr);
  function XS(r, e, t) {
    if (Tt(e)) {
      var n = Nt();
      return (
        F(e, function (a) {
          null != a && null != gn(a, null) && n.set(a, !0);
        }),
        je(t, function (a) {
          return a && n.get(a[r]);
        })
      );
    }
    var i = gn(e, null);
    return je(t, function (a) {
      return a && null != i && a[r] === i;
    });
  }
  function ZS(r, e) {
    return e.hasOwnProperty('subType')
      ? je(r, function (t) {
          return t && t.subType === e.subType;
        })
      : r;
  }
  function qS(r) {
    var e = Nt();
    return (
      r &&
        F(qr(r.replaceMerge), function (t) {
          lt(
            br.hasClass(t),
            '"' + t + '" is not valid component main type in "replaceMerge"'
          ),
            e.set(t, !0);
        }),
      { replaceMergeMainTypeMap: e }
    );
  }
  Ee(Gy, zy);
  var aR = [
      'getDom',
      'getZr',
      'getWidth',
      'getHeight',
      'getDevicePixelRatio',
      'dispatchAction',
      'isSSR',
      'isDisposed',
      'on',
      'off',
      'getDataURL',
      'getConnectedDataURL',
      'getOption',
      'getId',
      'updateLabelLayout',
    ],
    jS = function r(e) {
      F(
        aR,
        function (t) {
          this[t] = kt(e[t], e);
        },
        this
      );
    },
    Wy = {},
    hc = (function () {
      function r() {
        this._coordinateSystems = [];
      }
      return (
        (r.prototype.create = function (e, t) {
          var n = [];
          F(Wy, function (i, a) {
            var o = i.create(e, t);
            n = n.concat(o || []);
          }),
            (this._coordinateSystems = n);
        }),
        (r.prototype.update = function (e, t) {
          F(this._coordinateSystems, function (n) {
            n.update && n.update(e, t);
          });
        }),
        (r.prototype.getCoordinateSystems = function () {
          return this._coordinateSystems.slice();
        }),
        (r.register = function (e, t) {
          Wy[e] = t;
        }),
        (r.get = function (e) {
          return Wy[e];
        }),
        r
      );
    })(),
    oR = /^(min|max)?(.+)$/,
    sR = (function () {
      function r(e) {
        (this._timelineOptions = []),
          (this._mediaList = []),
          (this._currentMediaIndices = []),
          (this._api = e);
      }
      return (
        (r.prototype.setOption = function (e, t, n) {
          e &&
            (F(qr(e.series), function (o) {
              o && o.data && Q(o.data) && Rt(o.data);
            }),
            F(qr(e.dataset), function (o) {
              o && o.source && Q(o.source) && Rt(o.source);
            })),
            (e = ft(e));
          var i = this._optionBackup,
            a = (function lR(r, e, t) {
              var i,
                a,
                n = [],
                o = r.baseOption,
                s = r.timeline,
                l = r.options,
                u = r.media,
                c = !!r.media,
                f = !!(l || s || (o && o.timeline));
              function d(v) {
                F(e, function (g) {
                  g(v, t);
                });
              }
              return (
                o
                  ? (a = o).timeline || (a.timeline = s)
                  : ((f || c) && (r.options = r.media = null), (a = r)),
                c &&
                  (Tt(u)
                    ? F(u, function (v) {
                        v &&
                          !v.option &&
                          Y(v.query) &&
                          Y(v.query.option) &&
                          qn(
                            'Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }'
                          ),
                          v && v.option && (v.query ? n.push(v) : i || (i = v));
                      })
                    : qn(
                        'Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }'
                      )),
                d(a),
                F(l, function (v) {
                  return d(v);
                }),
                F(n, function (v) {
                  return d(v.option);
                }),
                {
                  baseOption: a,
                  timelineOptions: l || [],
                  mediaDefault: i,
                  mediaList: n,
                }
              );
            })(e, t, !i);
          (this._newBaseOption = a.baseOption),
            i
              ? (a.timelineOptions.length &&
                  (i.timelineOptions = a.timelineOptions),
                a.mediaList.length && (i.mediaList = a.mediaList),
                a.mediaDefault && (i.mediaDefault = a.mediaDefault))
              : (this._optionBackup = a);
        }),
        (r.prototype.mountOption = function (e) {
          var t = this._optionBackup;
          return (
            (this._timelineOptions = t.timelineOptions),
            (this._mediaList = t.mediaList),
            (this._mediaDefault = t.mediaDefault),
            (this._currentMediaIndices = []),
            ft(e ? t.baseOption : this._newBaseOption)
          );
        }),
        (r.prototype.getTimelineOption = function (e) {
          var t,
            n = this._timelineOptions;
          if (n.length) {
            var i = e.getComponent('timeline');
            i && (t = ft(n[i.getCurrentIndex()]));
          }
          return t;
        }),
        (r.prototype.getMediaOption = function (e) {
          var t = this._api.getWidth(),
            n = this._api.getHeight(),
            i = this._mediaList,
            a = this._mediaDefault,
            o = [],
            s = [];
          if (!i.length && !a) return s;
          for (var l = 0, u = i.length; l < u; l++)
            uR(i[l].query, t, n) && o.push(l);
          return (
            !o.length && a && (o = [-1]),
            o.length &&
              !(function fR(r, e) {
                return r.join(',') === e.join(',');
              })(o, this._currentMediaIndices) &&
              (s = Ut(o, function (c) {
                return ft(-1 === c ? a.option : i[c].option);
              })),
            (this._currentMediaIndices = o),
            s
          );
        }),
        r
      );
    })();
  function uR(r, e, t) {
    var n = { width: e, height: t, aspectratio: e / t },
      i = !0;
    return (
      F(r, function (a, o) {
        var s = o.match(oR);
        if (s && s[1] && s[2]) {
          var l = s[1],
            u = s[2].toLowerCase();
          (function cR(r, e, t) {
            return 'min' === t ? r >= e : 'max' === t ? r <= e : r === e;
          })(n[u], a, l) || (i = !1);
        }
      }),
      i
    );
  }
  var ao = F,
    md = Y,
    KS = [
      'areaStyle',
      'lineStyle',
      'nodeStyle',
      'linkStyle',
      'chordStyle',
      'label',
      'labelLine',
    ];
  function $y(r) {
    var e = r && r.itemStyle;
    if (e)
      for (var t = 0, n = KS.length; t < n; t++) {
        var i = KS[t],
          a = e.normal,
          o = e.emphasis;
        a &&
          a[i] &&
          (un('itemStyle.normal.' + i, i),
          (r[i] = r[i] || {}),
          r[i].normal ? Gt(r[i].normal, a[i]) : (r[i].normal = a[i]),
          (a[i] = null)),
          o &&
            o[i] &&
            (un('itemStyle.emphasis.' + i, 'emphasis.' + i),
            (r[i] = r[i] || {}),
            r[i].emphasis ? Gt(r[i].emphasis, o[i]) : (r[i].emphasis = o[i]),
            (o[i] = null));
      }
  }
  function Yi(r, e, t) {
    if (r && r[e] && (r[e].normal || r[e].emphasis)) {
      var n = r[e].normal,
        i = r[e].emphasis;
      n &&
        (oa(
          "'normal' hierarchy in " +
            e +
            ' has been removed since 4.0. All style properties are configured in ' +
            e +
            ' directly now.'
        ),
        t ? ((r[e].normal = r[e].emphasis = null), Ot(r[e], n)) : (r[e] = n)),
        i &&
          (oa(e + '.emphasis has been changed to emphasis.' + e + ' since 4.0'),
          (r.emphasis = r.emphasis || {}),
          (r.emphasis[e] = i),
          i.focus && (r.emphasis.focus = i.focus),
          i.blurScope && (r.emphasis.blurScope = i.blurScope));
    }
  }
  function yd(r) {
    Yi(r, 'itemStyle'),
      Yi(r, 'lineStyle'),
      Yi(r, 'areaStyle'),
      Yi(r, 'label'),
      Yi(r, 'labelLine'),
      Yi(r, 'upperLabel'),
      Yi(r, 'edgeLabel');
  }
  function Hn(r, e) {
    var t = md(r) && r[e],
      n = md(t) && t.textStyle;
    if (n) {
      oa(
        'textStyle hierarchy in ' +
          e +
          ' has been removed since 4.0. All textStyle properties are configured in ' +
          e +
          ' directly now.'
      );
      for (var i = 0, a = _a.length; i < a; i++) {
        var o = _a[i];
        n.hasOwnProperty(o) && (t[o] = n[o]);
      }
    }
  }
  function oo(r) {
    r && (yd(r), Hn(r, 'label'), r.emphasis && Hn(r.emphasis, 'label'));
  }
  function rl(r) {
    return Tt(r) ? r : r ? [r] : [];
  }
  function QS(r) {
    return (Tt(r) ? r[0] : r) || {};
  }
  function JS(r) {
    r &&
      F(gR, function (e) {
        e[0] in r && !(e[1] in r) && (r[e[1]] = r[e[0]]);
      });
  }
  var gR = [
      ['x', 'left'],
      ['y', 'top'],
      ['x2', 'right'],
      ['y2', 'bottom'],
    ],
    mR = [
      'grid',
      'geo',
      'parallel',
      'legend',
      'toolbox',
      'title',
      'visualMap',
      'dataZoom',
      'timeline',
    ],
    Uy = [
      ['borderRadius', 'barBorderRadius'],
      ['borderColor', 'barBorderColor'],
      ['borderWidth', 'barBorderWidth'],
    ];
  function xd(r) {
    var e = r && r.itemStyle;
    if (e)
      for (var t = 0; t < Uy.length; t++) {
        var n = Uy[t][1],
          i = Uy[t][0];
        null != e[n] && ((e[i] = e[n]), un(n, i));
      }
  }
  function tw(r) {
    r &&
      'edge' === r.alignTo &&
      null != r.margin &&
      null == r.edgeDistance &&
      (un('label.margin', 'label.edgeDistance', 'pie'),
      (r.edgeDistance = r.margin));
  }
  function ew(r) {
    r &&
      r.downplay &&
      !r.blur &&
      ((r.blur = r.downplay), un('downplay', 'blur', 'sunburst'));
  }
  function rw(r, e) {
    if (r)
      for (var t = 0; t < r.length; t++) e(r[t]), r[t] && rw(r[t].children, e);
  }
  function nw(r, e) {
    (function dR(r, e) {
      ao(rl(r.series), function (n) {
        md(n) &&
          (function hR(r) {
            if (md(r)) {
              $y(r),
                yd(r),
                Hn(r, 'label'),
                Hn(r, 'upperLabel'),
                Hn(r, 'edgeLabel'),
                r.emphasis &&
                  (Hn(r.emphasis, 'label'),
                  Hn(r.emphasis, 'upperLabel'),
                  Hn(r.emphasis, 'edgeLabel'));
              var e = r.markPoint;
              e && ($y(e), oo(e));
              var t = r.markLine;
              t && ($y(t), oo(t));
              var n = r.markArea;
              n && oo(n);
              var i = r.data;
              if ('graph' === r.type) {
                i = i || r.nodes;
                var a = r.links || r.edges;
                if (a && !Q(a)) for (var o = 0; o < a.length; o++) oo(a[o]);
                F(r.categories, function (u) {
                  yd(u);
                });
              }
              if (i && !Q(i)) for (o = 0; o < i.length; o++) oo(i[o]);
              if ((e = r.markPoint) && e.data) {
                var s = e.data;
                for (o = 0; o < s.length; o++) oo(s[o]);
              }
              if ((t = r.markLine) && t.data) {
                var l = t.data;
                for (o = 0; o < l.length; o++)
                  Tt(l[o]) ? (oo(l[o][0]), oo(l[o][1])) : oo(l[o]);
              }
              'gauge' === r.type
                ? (Hn(r, 'axisLabel'), Hn(r, 'title'), Hn(r, 'detail'))
                : 'treemap' === r.type
                ? (Yi(r.breadcrumb, 'itemStyle'),
                  F(r.levels, function (u) {
                    yd(u);
                  }))
                : 'tree' === r.type && yd(r.leaves);
            }
          })(n);
      });
      var t = [
        'xAxis',
        'yAxis',
        'radiusAxis',
        'angleAxis',
        'singleAxis',
        'parallelAxis',
        'radar',
      ];
      e && t.push('valueAxis', 'categoryAxis', 'logAxis', 'timeAxis'),
        ao(t, function (n) {
          ao(rl(r[n]), function (i) {
            i && (Hn(i, 'axisLabel'), Hn(i.axisPointer, 'label'));
          });
        }),
        ao(rl(r.parallel), function (n) {
          var i = n && n.parallelAxisDefault;
          Hn(i, 'axisLabel'), Hn(i && i.axisPointer, 'label');
        }),
        ao(rl(r.calendar), function (n) {
          Yi(n, 'itemStyle'),
            Hn(n, 'dayLabel'),
            Hn(n, 'monthLabel'),
            Hn(n, 'yearLabel');
        }),
        ao(rl(r.radar), function (n) {
          Hn(n, 'name'),
            n.name &&
              null == n.axisName &&
              ((n.axisName = n.name),
              delete n.name,
              oa(
                'name property in radar component has been changed to axisName'
              )),
            null != n.nameGap &&
              null == n.axisNameGap &&
              ((n.axisNameGap = n.nameGap),
              delete n.nameGap,
              oa(
                'nameGap property in radar component has been changed to axisNameGap'
              )),
            ao(n.indicator, function (i) {
              i.text && un('text', 'name', 'radar.indicator');
            });
        }),
        ao(rl(r.geo), function (n) {
          md(n) &&
            (oo(n),
            ao(rl(n.regions), function (i) {
              oo(i);
            }));
        }),
        ao(rl(r.timeline), function (n) {
          oo(n), Yi(n, 'label'), Yi(n, 'itemStyle'), Yi(n, 'controlStyle', !0);
          var i = n.data;
          Tt(i) &&
            F(i, function (a) {
              Y(a) && (Yi(a, 'label'), Yi(a, 'itemStyle'));
            });
        }),
        ao(rl(r.toolbox), function (n) {
          Yi(n, 'iconStyle'),
            ao(n.feature, function (i) {
              Yi(i, 'iconStyle');
            });
        }),
        Hn(QS(r.axisPointer), 'label'),
        Hn(QS(r.tooltip).axisPointer, 'label');
    })(r, e),
      (r.series = qr(r.series)),
      F(r.series, function (t) {
        if (Y(t)) {
          var n = t.type;
          if ('line' === n)
            null != t.clipOverflow &&
              ((t.clip = t.clipOverflow), un('clipOverflow', 'clip', 'line'));
          else if ('pie' === n || 'gauge' === n) {
            if (
              (null != t.clockWise &&
                ((t.clockwise = t.clockWise), un('clockWise', 'clockwise')),
              tw(t.label),
              (i = t.data) && !Q(i))
            )
              for (var a = 0; a < i.length; a++) tw(i[a]);
            null != t.hoverOffset &&
              ((t.emphasis = t.emphasis || {}),
              (t.emphasis.scaleSize = null) &&
                (un('hoverOffset', 'emphasis.scaleSize'),
                (t.emphasis.scaleSize = t.hoverOffset)));
          } else if ('gauge' === n) {
            var o = (function vR(r, e) {
              for (
                var t = e.split(','), n = r, i = 0;
                i < t.length && null != (n = n && n[t[i]]);
                i++
              );
              return n;
            })(t, 'pointer.color');
            null != o &&
              (function pR(r, e, t, n) {
                for (
                  var o, i = e.split(','), a = r, s = 0;
                  s < i.length - 1;
                  s++
                )
                  null == a[(o = i[s])] && (a[o] = {}), (a = a[o]);
                (n || null == a[i[s]]) && (a[i[s]] = t);
              })(t, 'itemStyle.color', o);
          } else if ('bar' === n) {
            var i;
            if (
              (xd(t),
              xd(t.backgroundStyle),
              xd(t.emphasis),
              (i = t.data) && !Q(i))
            )
              for (a = 0; a < i.length; a++)
                'object' == typeof i[a] &&
                  (xd(i[a]), xd(i[a] && i[a].emphasis));
          } else if ('sunburst' === n) {
            var s = t.highlightPolicy;
            s &&
              ((t.emphasis = t.emphasis || {}),
              t.emphasis.focus ||
                ((t.emphasis.focus = s),
                un('highlightPolicy', 'emphasis.focus', 'sunburst'))),
              ew(t),
              rw(t.data, ew);
          } else
            'graph' === n || 'sankey' === n
              ? (function yR(r) {
                  r &&
                    null != r.focusNodeAdjacency &&
                    ((r.emphasis = r.emphasis || {}),
                    null == r.emphasis.focus &&
                      (un(
                        'focusNodeAdjacency',
                        "emphasis: { focus: 'adjacency'}",
                        'graph/sankey'
                      ),
                      (r.emphasis.focus = 'adjacency')));
                })(t)
              : 'map' === n &&
                (t.mapType &&
                  !t.map &&
                  (un('mapType', 'map', 'map'), (t.map = t.mapType)),
                t.mapLocation &&
                  (oa('`mapLocation` is not used anymore.'),
                  Ot(t, t.mapLocation)));
          null != t.hoverAnimation &&
            ((t.emphasis = t.emphasis || {}),
            t.emphasis &&
              null == t.emphasis.scale &&
              (un('hoverAnimation', 'emphasis.scale'),
              (t.emphasis.scale = t.hoverAnimation))),
            JS(t);
        }
      }),
      r.dataRange && (r.visualMap = r.dataRange),
      F(mR, function (t) {
        var n = r[t];
        n &&
          (Tt(n) || (n = [n]),
          F(n, function (i) {
            JS(i);
          }));
      });
  }
  function bR(r) {
    F(r, function (e, t) {
      var n = [],
        i = [NaN, NaN],
        a = [e.stackResultDimension, e.stackedOverDimension],
        o = e.data,
        s = e.isStackedByIndex,
        l = e.seriesModel.get('stackStrategy') || 'samesign';
      o.modify(a, function (u, c, f) {
        var v,
          g,
          d = o.get(e.stackedDimension, f);
        if (isNaN(d)) return i;
        s ? (g = o.getRawIndex(f)) : (v = o.get(e.stackedByDimension, f));
        for (var m = NaN, y = t - 1; y >= 0; y--) {
          var b = r[y];
          if ((s || (g = b.data.rawIndexOf(b.stackedByDimension, v)), g >= 0)) {
            var w = b.data.getByRawIndex(b.stackResultDimension, g);
            if (
              'all' === l ||
              ('positive' === l && w > 0) ||
              ('negative' === l && w < 0) ||
              ('samesign' === l && d >= 0 && w > 0) ||
              ('samesign' === l && d <= 0 && w < 0)
            ) {
              (d = Hh(d, w)), (m = w);
              break;
            }
          }
        }
        return (n[0] = d), (n[1] = m), n;
      });
    });
  }
  var Gp = function r(e) {
    (this.data = e.data || (e.sourceFormat === ls ? {} : [])),
      (this.sourceFormat = e.sourceFormat || NS),
      (this.seriesLayoutBy = e.seriesLayoutBy || us),
      (this.startIndex = e.startIndex || 0),
      (this.dimensionsDetectedCount = e.dimensionsDetectedCount),
      (this.metaRawOption = e.metaRawOption);
    var t = (this.dimensionsDefine = e.dimensionsDefine);
    if (t)
      for (var n = 0; n < t.length; n++) {
        var i = t[n];
        null == i.type && HS(this, n) === Di.Must && (i.type = 'ordinal');
      }
  };
  function Yy(r) {
    return r instanceof Gp;
  }
  function Xy(r, e, t) {
    t = t || iw(r);
    var n = e.seriesLayoutBy,
      i = (function SR(r, e, t, n, i) {
        var a, o;
        if (!r)
          return {
            dimensionsDefine: aw(i),
            startIndex: o,
            dimensionsDetectedCount: a,
          };
        if (e === Ui) {
          var s = r;
          'auto' === n || null == n
            ? ow(
                function (u) {
                  null != u &&
                    '-' !== u &&
                    (ht(u) ? null == o && (o = 1) : (o = 0));
                },
                t,
                s,
                10
              )
            : (o = U(n) ? n : n ? 1 : 0),
            !i &&
              1 === o &&
              ((i = []),
              ow(
                function (u, c) {
                  i[c] = null != u ? u + '' : '';
                },
                t,
                s,
                1 / 0
              )),
            (a = i
              ? i.length
              : t === Ff
              ? s.length
              : s[0]
              ? s[0].length
              : null);
        } else if (e === io)
          i ||
            (i = (function wR(r) {
              for (var t, e = 0; e < r.length && !(t = r[e++]); );
              if (t) return Ne(t);
            })(r));
        else if (e === ls)
          i ||
            ((i = []),
            F(r, function (u, c) {
              i.push(c);
            }));
        else if (e === no) {
          var l = Io(r[0]);
          a = (Tt(l) && l.length) || 1;
        } else
          e === el &&
            lt(!!i, 'dimensions must be given if data is TypedArray.');
        return {
          startIndex: o,
          dimensionsDefine: aw(i),
          dimensionsDetectedCount: a,
        };
      })(r, t, n, e.sourceHeader, e.dimensions);
    return new Gp({
      data: r,
      sourceFormat: t,
      seriesLayoutBy: n,
      dimensionsDefine: i.dimensionsDefine,
      startIndex: i.startIndex,
      dimensionsDetectedCount: i.dimensionsDetectedCount,
      metaRawOption: ft(e),
    });
  }
  function Zy(r) {
    return new Gp({ data: r, sourceFormat: Q(r) ? el : no });
  }
  function _R(r) {
    return new Gp({
      data: r.data,
      sourceFormat: r.sourceFormat,
      seriesLayoutBy: r.seriesLayoutBy,
      dimensionsDefine: ft(r.dimensionsDefine),
      startIndex: r.startIndex,
      dimensionsDetectedCount: r.dimensionsDetectedCount,
    });
  }
  function iw(r) {
    var e = NS;
    if (Q(r)) e = el;
    else if (Tt(r)) {
      0 === r.length && (e = Ui);
      for (var t = 0, n = r.length; t < n; t++) {
        var i = r[t];
        if (null != i) {
          if (Tt(i)) {
            e = Ui;
            break;
          }
          if (Y(i)) {
            e = io;
            break;
          }
        }
      }
    } else if (Y(r))
      for (var a in r)
        if (ce(r, a) && sr(r[a])) {
          e = ls;
          break;
        }
    return e;
  }
  function aw(r) {
    if (r) {
      var e = Nt();
      return Ut(r, function (t, n) {
        var i = {
          name: (t = Y(t) ? t : { name: t }).name,
          displayName: t.displayName,
          type: t.type,
        };
        if (null == i.name) return i;
        (i.name += ''), null == i.displayName && (i.displayName = i.name);
        var a = e.get(i.name);
        return a ? (i.name += '-' + a.count++) : e.set(i.name, { count: 1 }), i;
      });
    }
  }
  function ow(r, e, t, n) {
    if (e === Ff)
      for (var i = 0; i < t.length && i < n; i++) r(t[i] ? t[i][0] : null, i);
    else {
      var a = t[0] || [];
      for (i = 0; i < a.length && i < n; i++) r(a[i], i);
    }
  }
  function sw(r) {
    var e = r.sourceFormat;
    return e === io || e === ls;
  }
  var dc,
    vc,
    pc,
    lw,
    uw,
    cw = (function () {
      function r(e, t) {
        var n = Yy(e) ? e : Zy(e);
        this._source = n;
        var i = (this._data = n.data);
        if (n.sourceFormat === el) {
          if (null == t)
            throw new Error('Typed array data must specify dimension size');
          (this._offset = 0), (this._dimSize = t), (this._data = i);
        }
        uw(this, i, n);
      }
      return (
        (r.prototype.getSource = function () {
          return this._source;
        }),
        (r.prototype.count = function () {
          return 0;
        }),
        (r.prototype.getItem = function (e, t) {}),
        (r.prototype.appendData = function (e) {}),
        (r.prototype.clean = function () {}),
        (r.protoInitialize = (function () {
          var e = r.prototype;
          (e.pure = !1), (e.persistent = !0);
        })()),
        (r.internalField = (function () {
          var e;
          uw = function (o, s, l) {
            var u = l.sourceFormat,
              c = l.seriesLayoutBy,
              f = l.startIndex,
              d = l.dimensionsDefine,
              v = lw[jy(u, c)];
            if ((lt(v, 'Invalide sourceFormat: ' + u), nt(o, v), u === el))
              (o.getItem = t), (o.count = i), (o.fillStorage = n);
            else {
              var g = hw(u, c);
              o.getItem = kt(g, null, s, f, d);
              var m = vw(u, c);
              o.count = kt(m, null, s, f, d);
            }
          };
          var t = function (o, s) {
              s = s || [];
              for (
                var l = this._data,
                  u = this._dimSize,
                  c = u * (o -= this._offset),
                  f = 0;
                f < u;
                f++
              )
                s[f] = l[c + f];
              return s;
            },
            n = function (o, s, l, u) {
              for (var c = this._data, f = this._dimSize, d = 0; d < f; d++) {
                for (
                  var v = u[d],
                    g = null == v[0] ? 1 / 0 : v[0],
                    m = null == v[1] ? -1 / 0 : v[1],
                    y = s - o,
                    b = l[d],
                    w = 0;
                  w < y;
                  w++
                ) {
                  var C = c[w * f + d];
                  (b[o + w] = C), C < g && (g = C), C > m && (m = C);
                }
                (v[0] = g), (v[1] = m);
              }
            },
            i = function () {
              return this._data ? this._data.length / this._dimSize : 0;
            };
          function a(o) {
            for (var s = 0; s < o.length; s++) this._data.push(o[s]);
          }
          ((e = {})[Ui + '_' + us] = { pure: !0, appendData: a }),
            (e[Ui + '_' + Ff] = {
              pure: !0,
              appendData: function () {
                throw new Error(
                  'Do not support appendData when set seriesLayoutBy: "row".'
                );
              },
            }),
            (e[io] = { pure: !0, appendData: a }),
            (e[ls] = {
              pure: !0,
              appendData: function (o) {
                var s = this._data;
                F(o, function (l, u) {
                  for (
                    var c = s[u] || (s[u] = []), f = 0;
                    f < (l || []).length;
                    f++
                  )
                    c.push(l[f]);
                });
              },
            }),
            (e[no] = { appendData: a }),
            (e[el] = {
              persistent: !1,
              pure: !0,
              appendData: function (o) {
                lt(
                  Q(o),
                  'Added data must be TypedArray if data in initialization is TypedArray'
                ),
                  (this._data = o);
              },
              clean: function () {
                (this._offset += this.count()), (this._data = null);
              },
            }),
            (lw = e);
        })()),
        r
      );
    })(),
    fw = function (r, e, t, n) {
      return r[n];
    },
    CR =
      (((dc = {})[Ui + '_' + us] = function (r, e, t, n) {
        return r[n + e];
      }),
      (dc[Ui + '_' + Ff] = function (r, e, t, n, i) {
        n += e;
        for (var a = i || [], o = r, s = 0; s < o.length; s++) {
          var l = o[s];
          a[s] = l ? l[n] : null;
        }
        return a;
      }),
      (dc[io] = fw),
      (dc[ls] = function (r, e, t, n, i) {
        for (var a = i || [], o = 0; o < t.length; o++) {
          var s = t[o].name;
          if (null == s) throw new Error();
          var l = r[s];
          a[o] = l ? l[n] : null;
        }
        return a;
      }),
      (dc[no] = fw),
      dc);
  function hw(r, e) {
    var t = CR[jy(r, e)];
    return lt(t, 'Do not support get item on "' + r + '", "' + e + '".'), t;
  }
  var dw = function (r, e, t) {
      return r.length;
    },
    DR =
      (((vc = {})[Ui + '_' + us] = function (r, e, t) {
        return Math.max(0, r.length - e);
      }),
      (vc[Ui + '_' + Ff] = function (r, e, t) {
        var n = r[0];
        return n ? Math.max(0, n.length - e) : 0;
      }),
      (vc[io] = dw),
      (vc[ls] = function (r, e, t) {
        var n = t[0].name;
        if (null == n) throw new Error();
        var i = r[n];
        return i ? i.length : 0;
      }),
      (vc[no] = dw),
      vc);
  function vw(r, e) {
    var t = DR[jy(r, e)];
    return lt(t, 'Do not support count on "' + r + '", "' + e + '".'), t;
  }
  var qy = function (r, e, t) {
      return r[e];
    },
    TR =
      (((pc = {})[Ui] = qy),
      (pc[io] = function (r, e, t) {
        return r[t];
      }),
      (pc[ls] = qy),
      (pc[no] = function (r, e, t) {
        var n = Io(r);
        return n instanceof Array ? n[e] : n;
      }),
      (pc[el] = qy),
      pc);
  function pw(r) {
    var e = TR[r];
    return lt(e, 'Do not support get value on "' + r + '".'), e;
  }
  function jy(r, e) {
    return r === Ui ? r + '_' + e : r;
  }
  function Bf(r, e, t) {
    if (r) {
      var n = r.getRawDataItem(e);
      if (null != n) {
        var i = r.getStore(),
          a = i.getSource().sourceFormat;
        if (null != t) {
          var o = r.getDimensionIndex(t),
            s = i.getDimensionProperty(o);
          return pw(a)(n, o, s);
        }
        var l = n;
        return a === no && (l = Io(n)), l;
      }
    }
  }
  var AR = /\{@(.+?)\}/g,
    Ky = (function () {
      function r() {}
      return (
        (r.prototype.getDataParams = function (e, t) {
          var n = this.getData(t),
            i = this.getRawValue(e, t),
            a = n.getRawIndex(e),
            o = n.getName(e),
            s = n.getRawDataItem(e),
            l = n.getItemVisual(e, 'style'),
            u = l && l[n.getItemVisual(e, 'drawType') || 'fill'],
            c = l && l.stroke,
            f = this.mainType,
            d = 'series' === f,
            v = n.userOutput && n.userOutput.get();
          return {
            componentType: f,
            componentSubType: this.subType,
            componentIndex: this.componentIndex,
            seriesType: d ? this.subType : null,
            seriesIndex: this.seriesIndex,
            seriesId: d ? this.id : null,
            seriesName: d ? this.name : null,
            name: o,
            dataIndex: a,
            data: s,
            dataType: t,
            value: i,
            color: u,
            borderColor: c,
            dimensionNames: v ? v.fullDimensions : null,
            encode: v ? v.encode : null,
            $vars: ['seriesName', 'name', 'value'],
          };
        }),
        (r.prototype.getFormattedLabel = function (e, t, n, i, a, o) {
          t = t || 'normal';
          var s = this.getData(n),
            l = this.getDataParams(e, n);
          return (
            o && (l.value = o.interpolatedValue),
            null != i && Tt(l.value) && (l.value = l.value[i]),
            a ||
              (a = s
                .getItemModel(e)
                .get(
                  'normal' === t
                    ? ['label', 'formatter']
                    : [t, 'label', 'formatter']
                )),
            fe(a)
              ? ((l.status = t), (l.dimensionIndex = i), a(l))
              : ht(a)
              ? Py(a, l).replace(AR, function (f, d) {
                  var v = d.length,
                    g = d;
                  '[' === g.charAt(0) &&
                    ']' === g.charAt(v - 1) &&
                    ((g = +g.slice(1, v - 1)),
                    isNaN(g) &&
                      qn(
                        'Invalide label formatter: @' +
                          d +
                          ', only support @[0], @[1], @[2], ...'
                      ));
                  var m = Bf(s, e, g);
                  if (o && Tt(o.interpolatedValue)) {
                    var y = s.getDimensionIndex(g);
                    y >= 0 && (m = o.interpolatedValue[y]);
                  }
                  return null != m ? m + '' : '';
                })
              : void 0
          );
        }),
        (r.prototype.getRawValue = function (e, t) {
          return Bf(this.getData(t), e);
        }),
        (r.prototype.formatTooltip = function (e, t, n) {}),
        r
      );
    })();
  function gw(r) {
    var e, t;
    return (
      Y(r)
        ? r.type
          ? (t = r)
          : console.warn(
              'The return type of `formatTooltip` is not supported: ' + mi(r)
            )
        : (e = r),
      { text: e, frag: t }
    );
  }
  function bd(r) {
    return new MR(r);
  }
  var MR = (function () {
      function r(e) {
        (this._reset = (e = e || {}).reset),
          (this._plan = e.plan),
          (this._count = e.count),
          (this._onDirty = e.onDirty),
          (this._dirty = !0);
      }
      return (
        (r.prototype.perform = function (e) {
          var a,
            t = this._upstream,
            n = e && e.skip;
          if (this._dirty && t) {
            var i = this.context;
            i.data = i.outputData = t.context.outputData;
          }
          this.__pipeline && (this.__pipeline.currentTask = this),
            this._plan && !n && (a = this._plan(this.context));
          var f,
            o = c(this._modBy),
            s = this._modDataCount || 0,
            l = c(e && e.modBy),
            u = (e && e.modDataCount) || 0;
          function c(w) {
            return !(w >= 1) && (w = 1), w;
          }
          (o !== l || s !== u) && (a = 'reset'),
            (this._dirty || 'reset' === a) &&
              ((this._dirty = !1), (f = this._doReset(n))),
            (this._modBy = l),
            (this._modDataCount = u);
          var d = e && e.step;
          if (
            (t
              ? (lt(null != t._outputDueEnd), (this._dueEnd = t._outputDueEnd))
              : (lt(!this._progress || this._count),
                (this._dueEnd = this._count
                  ? this._count(this.context)
                  : 1 / 0)),
            this._progress)
          ) {
            var v = this._dueIndex,
              g = Math.min(
                null != d ? this._dueIndex + d : 1 / 0,
                this._dueEnd
              );
            if (!n && (f || v < g)) {
              var m = this._progress;
              if (Tt(m))
                for (var y = 0; y < m.length; y++)
                  this._doProgress(m[y], v, g, l, u);
              else this._doProgress(m, v, g, l, u);
            }
            this._dueIndex = g;
            var b = null != this._settedOutputEnd ? this._settedOutputEnd : g;
            lt(b >= this._outputDueEnd), (this._outputDueEnd = b);
          } else
            this._dueIndex = this._outputDueEnd =
              null != this._settedOutputEnd
                ? this._settedOutputEnd
                : this._dueEnd;
          return this.unfinished();
        }),
        (r.prototype.dirty = function () {
          (this._dirty = !0), this._onDirty && this._onDirty(this.context);
        }),
        (r.prototype._doProgress = function (e, t, n, i, a) {
          mw.reset(t, n, i, a),
            (this._callingProgress = e),
            this._callingProgress(
              { start: t, end: n, count: n - t, next: mw.next },
              this.context
            );
        }),
        (r.prototype._doReset = function (e) {
          var t, n;
          (this._dueIndex = this._outputDueEnd = this._dueEnd = 0),
            (this._settedOutputEnd = null),
            !e &&
              this._reset &&
              ((t = this._reset(this.context)) &&
                t.progress &&
                ((n = t.forceFirstProgress), (t = t.progress)),
              Tt(t) && !t.length && (t = null)),
            (this._progress = t),
            (this._modBy = this._modDataCount = null);
          var i = this._downstream;
          return i && i.dirty(), n;
        }),
        (r.prototype.unfinished = function () {
          return this._progress && this._dueIndex < this._dueEnd;
        }),
        (r.prototype.pipe = function (e) {
          lt(e && !e._disposed && e !== this),
            (this._downstream !== e || this._dirty) &&
              ((this._downstream = e), (e._upstream = this), e.dirty());
        }),
        (r.prototype.dispose = function () {
          this._disposed ||
            (this._upstream && (this._upstream._downstream = null),
            this._downstream && (this._downstream._upstream = null),
            (this._dirty = !1),
            (this._disposed = !0));
        }),
        (r.prototype.getUpstream = function () {
          return this._upstream;
        }),
        (r.prototype.getDownstream = function () {
          return this._downstream;
        }),
        (r.prototype.setOutputEnd = function (e) {
          this._outputDueEnd = this._settedOutputEnd = e;
        }),
        r
      );
    })(),
    mw = (function () {
      var r,
        e,
        t,
        n,
        i,
        a = {
          reset: function (l, u, c, f) {
            (e = l),
              (r = u),
              (t = c),
              (n = f),
              (i = Math.ceil(n / t)),
              (a.next = t > 1 && n > 0 ? s : o);
          },
        };
      return a;
      function o() {
        return e < r ? e++ : null;
      }
      function s() {
        var l = (e % i) * t + Math.ceil(e / i),
          u = e >= r ? null : l < n ? l : e;
        return e++, u;
      }
    })();
  function jl(r, e) {
    var t = e && e.type;
    return 'ordinal' === t
      ? r
      : ('time' === t && !U(r) && null != r && '-' !== r && (r = +zi(r)),
        null == r || '' === r ? NaN : +r);
  }
  var LR = Nt({
    number: function (r) {
      return parseFloat(r);
    },
    time: function (r) {
      return +zi(r);
    },
    trim: function (r) {
      return ht(r) ? Et(r) : r;
    },
  });
  function yw(r) {
    return LR.get(r);
  }
  var xw = {
      lt: function (r, e) {
        return r < e;
      },
      lte: function (r, e) {
        return r <= e;
      },
      gt: function (r, e) {
        return r > e;
      },
      gte: function (r, e) {
        return r >= e;
      },
    },
    IR = (function () {
      function r(e, t) {
        U(t) ||
          zr('rvalue of "<", ">", "<=", ">=" can only be number in filter.'),
          (this._opFn = xw[e]),
          (this._rvalFloat = ba(t));
      }
      return (
        (r.prototype.evaluate = function (e) {
          return U(e)
            ? this._opFn(e, this._rvalFloat)
            : this._opFn(ba(e), this._rvalFloat);
        }),
        r
      );
    })(),
    bw = (function () {
      function r(e, t) {
        var n = 'desc' === e;
        (this._resultLT = n ? 1 : -1),
          null == t && (t = n ? 'min' : 'max'),
          (this._incomparable = 'min' === t ? -1 / 0 : 1 / 0);
      }
      return (
        (r.prototype.evaluate = function (e, t) {
          var n = U(e) ? e : ba(e),
            i = U(t) ? t : ba(t),
            a = isNaN(n),
            o = isNaN(i);
          if (
            (a && (n = this._incomparable),
            o && (i = this._incomparable),
            a && o)
          ) {
            var s = ht(e),
              l = ht(t);
            s && (n = l ? e : 0), l && (i = s ? t : 0);
          }
          return n < i ? this._resultLT : n > i ? -this._resultLT : 0;
        }),
        r
      );
    })(),
    kR = (function () {
      function r(e, t) {
        (this._rval = t),
          (this._isEQ = e),
          (this._rvalTypeof = typeof t),
          (this._rvalFloat = ba(t));
      }
      return (
        (r.prototype.evaluate = function (e) {
          var t = e === this._rval;
          if (!t) {
            var n = typeof e;
            n !== this._rvalTypeof &&
              ('number' === n || 'number' === this._rvalTypeof) &&
              (t = ba(e) === this._rvalFloat);
          }
          return this._isEQ ? t : !t;
        }),
        r
      );
    })();
  function ER(r, e) {
    return 'eq' === r || 'ne' === r
      ? new kR('eq' === r, e)
      : ce(xw, r)
      ? new IR(r, e)
      : null;
  }
  var PR = (function () {
    function r() {}
    return (
      (r.prototype.getRawData = function () {
        throw new Error('not supported');
      }),
      (r.prototype.getRawDataItem = function (e) {
        throw new Error('not supported');
      }),
      (r.prototype.cloneRawData = function () {}),
      (r.prototype.getDimensionInfo = function (e) {}),
      (r.prototype.cloneAllDimensionInfo = function () {}),
      (r.prototype.count = function () {}),
      (r.prototype.retrieveValue = function (e, t) {}),
      (r.prototype.retrieveValueFromItem = function (e, t) {}),
      (r.prototype.convertValue = function (e, t) {
        return jl(e, t);
      }),
      r
    );
  })();
  function OR(r) {
    var e = r.sourceFormat;
    return (
      Qy(e) || zr('`getRawData` is not supported in source format ' + e), r.data
    );
  }
  function FR(r) {
    var e = r.sourceFormat,
      t = r.data;
    if (
      (Qy(e) || zr('`cloneRawData` is not supported in source format ' + e),
      e === Ui)
    ) {
      for (var i = [], a = 0, o = t.length; a < o; a++) i.push(t[a].slice());
      return i;
    }
    if (e === io) {
      for (i = [], a = 0, o = t.length; a < o; a++) i.push(nt({}, t[a]));
      return i;
    }
  }
  function BR(r, e, t) {
    if (null != t) {
      if (U(t) || (!isNaN(t) && !ce(e, t))) return r[t];
      if (ce(e, t)) return e[t];
    }
  }
  function NR(r) {
    return ft(r);
  }
  var _w = Nt();
  function HR(r, e, t, n) {
    e.length || zr('Must have at least one upstream dataset.'),
      Y(r) ||
        zr(
          'transform declaration must be an object rather than ' +
            typeof r +
            '.'
        );
    var a = r.type,
      o = _w.get(a);
    o || zr('Can not find transform on type "' + a + '".');
    var s = Ut(e, function (c) {
        return (function RR(r, e) {
          var t = new PR(),
            n = r.data,
            i = (t.sourceFormat = r.sourceFormat),
            a = r.startIndex;
          r.seriesLayoutBy !== us &&
            zr(
              '`seriesLayoutBy` of upstream dataset can only be "column" in data transform.'
            );
          var s = [],
            l = {},
            u = r.dimensionsDefine;
          if (u)
            F(u, function (m, y) {
              var b = m.name,
                w = { index: y, name: b, displayName: m.displayName };
              s.push(w),
                null != b &&
                  (ce(l, b) && zr('dimension name "' + b + '" duplicated.'),
                  (l[b] = w));
            });
          else
            for (var c = 0; c < r.dimensionsDetectedCount; c++)
              s.push({ index: c });
          var f = hw(i, us);
          e.__isBuiltIn &&
            ((t.getRawDataItem = function (m) {
              return f(n, a, s, m);
            }),
            (t.getRawData = kt(OR, null, r))),
            (t.cloneRawData = kt(FR, null, r));
          var d = vw(i, us);
          t.count = kt(d, null, n, a, s);
          var v = pw(i);
          t.retrieveValue = function (m, y) {
            var b = f(n, a, s, m);
            return g(b, y);
          };
          var g = (t.retrieveValueFromItem = function (m, y) {
            if (null != m) {
              var b = s[y];
              if (b) return v(m, y, b.name);
            }
          });
          return (
            (t.getDimensionInfo = kt(BR, null, s, l)),
            (t.cloneAllDimensionInfo = kt(NR, null, s)),
            t
          );
        })(c, o);
      }),
      l = qr(
        o.transform({ upstream: s[0], upstreamList: s, config: ft(r.config) })
      );
    return (
      r.print &&
        (function qv(r, e) {
          Uu('log', r, e);
        })(
          Ut(l, function (c) {
            return [
              '=== dataset index: ' +
                t.datasetIndex +
                (null != n ? ' === pipe index: ' + n : '') +
                ' ===',
              '- transform result data:',
              mi(c.data),
              '- transform result dimensions:',
              mi(c.dimensions),
            ].join('\n');
          }).join('\n')
        ),
      Ut(l, function (c, f) {
        Y(c) || zr('A transform should not return some empty results.'),
          c.data ||
            zr('Transform result data should be not be null or undefined'),
          Qy(iw(c.data)) ||
            zr('Transform result data should be array rows or object rows.');
        var g,
          m = e[0];
        if (m && 0 === f && !c.dimensions) {
          var y = m.startIndex;
          y && (c.data = m.data.slice(0, y).concat(c.data)),
            (g = {
              seriesLayoutBy: us,
              sourceHeader: y,
              dimensions: m.metaRawOption.dimensions,
            });
        } else g = { seriesLayoutBy: us, sourceHeader: 0, dimensions: c.dimensions };
        return Xy(c.data, g, null);
      })
    );
  }
  function Qy(r) {
    return r === Ui || r === io;
  }
  var Jy,
    Wp = 'undefined',
    GR = typeof Uint32Array === Wp ? Array : Uint32Array,
    WR = typeof Uint16Array === Wp ? Array : Uint16Array,
    Sw = typeof Int32Array === Wp ? Array : Int32Array,
    ww = typeof Float64Array === Wp ? Array : Float64Array,
    Cw = { float: ww, int: Sw, ordinal: Array, number: Array, time: ww };
  function _d(r) {
    return r > 65535 ? GR : WR;
  }
  function $R(r) {
    var e = r.constructor;
    return e === Array ? r.slice() : new e(r);
  }
  function Dw(r, e, t, n, i) {
    var a = Cw[t || 'float'];
    if (i) {
      var o = r[e],
        s = o && o.length;
      if (s !== n) {
        for (var l = new a(n), u = 0; u < s; u++) l[u] = o[u];
        r[e] = l;
      }
    } else r[e] = new a(n);
  }
  var t0 = (function () {
      function r() {
        (this._chunks = []),
          (this._rawExtent = []),
          (this._extent = []),
          (this._count = 0),
          (this._rawCount = 0),
          (this._calcDimNameToIdx = Nt());
      }
      return (
        (r.prototype.initData = function (e, t, n) {
          lt(fe(e.getItem) && fe(e.count), 'Invalid data provider.'),
            (this._provider = e),
            (this._chunks = []),
            (this._indices = null),
            (this.getRawIndex = this._getRawIdxIdentity);
          var i = e.getSource(),
            a = (this.defaultDimValueGetter = Jy[i.sourceFormat]);
          (this._dimValueGetter = n || a), (this._rawExtent = []);
          var o = sw(i);
          (this._dimensions = Ut(t, function (s) {
            return (
              o && lt(null != s.property),
              { type: s.type, property: s.property }
            );
          })),
            this._initDataFromProvider(0, e.count());
        }),
        (r.prototype.getProvider = function () {
          return this._provider;
        }),
        (r.prototype.getSource = function () {
          return this._provider.getSource();
        }),
        (r.prototype.ensureCalculationDimension = function (e, t) {
          var n = this._calcDimNameToIdx,
            i = this._dimensions,
            a = n.get(e);
          if (null != a) {
            if (i[a].type === t) return a;
          } else a = i.length;
          return (
            (i[a] = { type: t }),
            n.set(e, a),
            (this._chunks[a] = new Cw[t || 'float'](this._rawCount)),
            (this._rawExtent[a] = [1 / 0, -1 / 0]),
            a
          );
        }),
        (r.prototype.collectOrdinalMeta = function (e, t) {
          var n = this._chunks[e],
            i = this._dimensions[e],
            a = this._rawExtent,
            o = i.ordinalOffset || 0,
            s = n.length;
          0 === o && (a[e] = [1 / 0, -1 / 0]);
          for (var l = a[e], u = o; u < s; u++) {
            var c = (n[u] = t.parseAndCollect(n[u]));
            isNaN(c) ||
              ((l[0] = Math.min(c, l[0])), (l[1] = Math.max(c, l[1])));
          }
          (i.ordinalMeta = t), (i.ordinalOffset = s), (i.type = 'ordinal');
        }),
        (r.prototype.getOrdinalMeta = function (e) {
          return this._dimensions[e].ordinalMeta;
        }),
        (r.prototype.getDimensionProperty = function (e) {
          var t = this._dimensions[e];
          return t && t.property;
        }),
        (r.prototype.appendData = function (e) {
          lt(!this._indices, 'appendData can only be called on raw data.');
          var t = this._provider,
            n = this.count();
          t.appendData(e);
          var i = t.count();
          return (
            t.persistent || (i += n),
            n < i && this._initDataFromProvider(n, i, !0),
            [n, i]
          );
        }),
        (r.prototype.appendValues = function (e, t) {
          for (
            var n = this._chunks,
              i = this._dimensions,
              a = i.length,
              o = this._rawExtent,
              s = this.count(),
              l = s + Math.max(e.length, t || 0),
              u = 0;
            u < a;
            u++
          )
            Dw(n, u, i[u].type, l, !0);
          for (var f = [], d = s; d < l; d++)
            for (var v = d - s, g = 0; g < a; g++) {
              var m = Jy.arrayRows.call(this, e[v] || f, i[g].property, v, g);
              n[g][d] = m;
              var y = o[g];
              m < y[0] && (y[0] = m), m > y[1] && (y[1] = m);
            }
          return (this._rawCount = this._count = l), { start: s, end: l };
        }),
        (r.prototype._initDataFromProvider = function (e, t, n) {
          for (
            var i = this._provider,
              a = this._chunks,
              o = this._dimensions,
              s = o.length,
              l = this._rawExtent,
              u = Ut(o, function (w) {
                return w.property;
              }),
              c = 0;
            c < s;
            c++
          ) {
            var f = o[c];
            l[c] || (l[c] = [1 / 0, -1 / 0]), Dw(a, c, f.type, t, n);
          }
          if (i.fillStorage) i.fillStorage(e, t, a, l);
          else
            for (var d = [], v = e; v < t; v++) {
              d = i.getItem(v, d);
              for (var g = 0; g < s; g++) {
                var m = a[g],
                  y = this._dimValueGetter(d, u[g], v, g);
                m[v] = y;
                var b = l[g];
                y < b[0] && (b[0] = y), y > b[1] && (b[1] = y);
              }
            }
          !i.persistent && i.clean && i.clean(),
            (this._rawCount = this._count = t),
            (this._extent = []);
        }),
        (r.prototype.count = function () {
          return this._count;
        }),
        (r.prototype.get = function (e, t) {
          if (!(t >= 0 && t < this._count)) return NaN;
          var n = this._chunks[e];
          return n ? n[this.getRawIndex(t)] : NaN;
        }),
        (r.prototype.getValues = function (e, t) {
          var n = [],
            i = [];
          if (null == t) {
            (t = e), (e = []);
            for (var a = 0; a < this._dimensions.length; a++) i.push(a);
          } else i = e;
          a = 0;
          for (var o = i.length; a < o; a++) n.push(this.get(i[a], t));
          return n;
        }),
        (r.prototype.getByRawIndex = function (e, t) {
          if (!(t >= 0 && t < this._rawCount)) return NaN;
          var n = this._chunks[e];
          return n ? n[t] : NaN;
        }),
        (r.prototype.getSum = function (e) {
          var n = 0;
          if (this._chunks[e])
            for (var i = 0, a = this.count(); i < a; i++) {
              var o = this.get(e, i);
              isNaN(o) || (n += o);
            }
          return n;
        }),
        (r.prototype.getMedian = function (e) {
          var t = [];
          this.each([e], function (a) {
            isNaN(a) || t.push(a);
          });
          var n = t.sort(function (a, o) {
              return a - o;
            }),
            i = this.count();
          return 0 === i
            ? 0
            : i % 2 == 1
            ? n[(i - 1) / 2]
            : (n[i / 2] + n[i / 2 - 1]) / 2;
        }),
        (r.prototype.indexOfRawIndex = function (e) {
          if (e >= this._rawCount || e < 0) return -1;
          if (!this._indices) return e;
          var t = this._indices,
            n = t[e];
          if (null != n && n < this._count && n === e) return e;
          for (var i = 0, a = this._count - 1; i <= a; ) {
            var o = ((i + a) / 2) | 0;
            if (t[o] < e) i = o + 1;
            else {
              if (!(t[o] > e)) return o;
              a = o - 1;
            }
          }
          return -1;
        }),
        (r.prototype.indicesOfNearest = function (e, t, n) {
          var a = this._chunks[e],
            o = [];
          if (!a) return o;
          null == n && (n = 1 / 0);
          for (
            var s = 1 / 0, l = -1, u = 0, c = 0, f = this.count();
            c < f;
            c++
          ) {
            var v = t - a[this.getRawIndex(c)],
              g = Math.abs(v);
            g <= n &&
              ((g < s || (g === s && v >= 0 && l < 0)) &&
                ((s = g), (l = v), (u = 0)),
              v === l && (o[u++] = c));
          }
          return (o.length = u), o;
        }),
        (r.prototype.getIndices = function () {
          var e,
            t = this._indices;
          if (t) {
            var i = this._count;
            if ((n = t.constructor) === Array) {
              e = new n(i);
              for (var a = 0; a < i; a++) e[a] = t[a];
            } else e = new n(t.buffer, 0, i);
          } else {
            var n;
            for (
              e = new (n = _d(this._rawCount))(this.count()), a = 0;
              a < e.length;
              a++
            )
              e[a] = a;
          }
          return e;
        }),
        (r.prototype.filter = function (e, t) {
          if (!this._count) return this;
          for (
            var n = this.clone(),
              i = n.count(),
              o = new (_d(n._rawCount))(i),
              s = [],
              l = e.length,
              u = 0,
              c = e[0],
              f = n._chunks,
              d = 0;
            d < i;
            d++
          ) {
            var v = void 0,
              g = n.getRawIndex(d);
            if (0 === l) v = t(d);
            else if (1 === l) v = t(f[c][g], d);
            else {
              for (var y = 0; y < l; y++) s[y] = f[e[y]][g];
              (s[y] = d), (v = t.apply(null, s));
            }
            v && (o[u++] = g);
          }
          return (
            u < i && (n._indices = o),
            (n._count = u),
            (n._extent = []),
            n._updateGetRawIdx(),
            n
          );
        }),
        (r.prototype.selectRange = function (e) {
          var t = this.clone(),
            n = t._count;
          if (!n) return this;
          var i = Ne(e),
            a = i.length;
          if (!a) return this;
          var o = t.count(),
            l = new (_d(t._rawCount))(o),
            u = 0,
            c = i[0],
            f = e[c][0],
            d = e[c][1],
            v = t._chunks,
            g = !1;
          if (!t._indices) {
            var m = 0;
            if (1 === a) {
              for (var y = v[i[0]], b = 0; b < n; b++)
                (((w = y[b]) >= f && w <= d) || isNaN(w)) && (l[u++] = m), m++;
              g = !0;
            } else if (2 === a) {
              y = v[i[0]];
              var C = v[i[1]],
                D = e[i[1]][0],
                L = e[i[1]][1];
              for (b = 0; b < n; b++) {
                var M = C[b];
                (((w = y[b]) >= f && w <= d) || isNaN(w)) &&
                  ((M >= D && M <= L) || isNaN(M)) &&
                  (l[u++] = m),
                  m++;
              }
              g = !0;
            }
          }
          if (!g)
            if (1 === a)
              for (b = 0; b < o; b++) {
                var E = t.getRawIndex(b);
                (((w = v[i[0]][E]) >= f && w <= d) || isNaN(w)) && (l[u++] = E);
              }
            else
              for (b = 0; b < o; b++) {
                for (var O = !0, z = ((E = t.getRawIndex(b)), 0); z < a; z++) {
                  var w,
                    H = i[z];
                  ((w = v[H][E]) < e[H][0] || w > e[H][1]) && (O = !1);
                }
                O && (l[u++] = t.getRawIndex(b));
              }
          return (
            u < o && (t._indices = l),
            (t._count = u),
            (t._extent = []),
            t._updateGetRawIdx(),
            t
          );
        }),
        (r.prototype.map = function (e, t) {
          var n = this.clone(e);
          return this._updateDims(n, e, t), n;
        }),
        (r.prototype.modify = function (e, t) {
          this._updateDims(this, e, t);
        }),
        (r.prototype._updateDims = function (e, t, n) {
          for (
            var i = e._chunks,
              a = [],
              o = t.length,
              s = e.count(),
              l = [],
              u = e._rawExtent,
              c = 0;
            c < t.length;
            c++
          )
            u[t[c]] = [1 / 0, -1 / 0];
          for (var f = 0; f < s; f++) {
            for (var d = e.getRawIndex(f), v = 0; v < o; v++) l[v] = i[t[v]][d];
            l[o] = f;
            var g = n && n.apply(null, l);
            if (null != g)
              for (
                'object' != typeof g && ((a[0] = g), (g = a)), c = 0;
                c < g.length;
                c++
              ) {
                var m = t[c],
                  y = g[c],
                  b = u[m],
                  w = i[m];
                w && (w[d] = y), y < b[0] && (b[0] = y), y > b[1] && (b[1] = y);
              }
          }
        }),
        (r.prototype.lttbDownSample = function (e, t) {
          var c,
            f,
            d,
            n = this.clone([e], !0),
            a = n._chunks[e],
            o = this.count(),
            s = 0,
            l = Math.floor(1 / t),
            u = this.getRawIndex(0),
            v = new (_d(this._rawCount))(
              Math.min(2 * (Math.ceil(o / l) + 2), o)
            );
          v[s++] = u;
          for (var g = 1; g < o - 1; g += l) {
            for (
              var m = Math.min(g + l, o - 1),
                y = Math.min(g + 2 * l, o),
                b = (y + m) / 2,
                w = 0,
                C = m;
              C < y;
              C++
            ) {
              var L = a[(D = this.getRawIndex(C))];
              isNaN(L) || (w += L);
            }
            w /= y - m;
            var M = g,
              E = Math.min(g + l, o),
              O = g - 1,
              z = a[u];
            (c = -1), (d = M);
            var H = -1,
              G = 0;
            for (C = M; C < E; C++) {
              var D;
              (L = a[(D = this.getRawIndex(C))]),
                isNaN(L)
                  ? (G++, H < 0 && (H = D))
                  : (f = Math.abs((O - b) * (L - z) - (O - C) * (w - z))) > c &&
                    ((c = f), (d = D));
            }
            G > 0 &&
              G < E - M &&
              ((v[s++] = Math.min(H, d)), (d = Math.max(H, d))),
              (v[s++] = d),
              (u = d);
          }
          return (
            (v[s++] = this.getRawIndex(o - 1)),
            (n._count = s),
            (n._indices = v),
            (n.getRawIndex = this._getRawIdx),
            n
          );
        }),
        (r.prototype.downSample = function (e, t, n, i) {
          for (
            var a = this.clone([e], !0),
              o = a._chunks,
              s = [],
              l = Math.floor(1 / t),
              u = o[e],
              c = this.count(),
              f = (a._rawExtent[e] = [1 / 0, -1 / 0]),
              d = new (_d(this._rawCount))(Math.ceil(c / l)),
              v = 0,
              g = 0;
            g < c;
            g += l
          ) {
            l > c - g && (s.length = l = c - g);
            for (var m = 0; m < l; m++) {
              var y = this.getRawIndex(g + m);
              s[m] = u[y];
            }
            var b = n(s),
              w = this.getRawIndex(Math.min(g + i(s, b) || 0, c - 1));
            (u[w] = b),
              b < f[0] && (f[0] = b),
              b > f[1] && (f[1] = b),
              (d[v++] = w);
          }
          return (a._count = v), (a._indices = d), a._updateGetRawIdx(), a;
        }),
        (r.prototype.each = function (e, t) {
          if (this._count)
            for (
              var n = e.length, i = this._chunks, a = 0, o = this.count();
              a < o;
              a++
            ) {
              var s = this.getRawIndex(a);
              switch (n) {
                case 0:
                  t(a);
                  break;
                case 1:
                  t(i[e[0]][s], a);
                  break;
                case 2:
                  t(i[e[0]][s], i[e[1]][s], a);
                  break;
                default:
                  for (var l = 0, u = []; l < n; l++) u[l] = i[e[l]][s];
                  (u[l] = a), t.apply(null, u);
              }
            }
        }),
        (r.prototype.getDataExtent = function (e) {
          var t = this._chunks[e],
            n = [1 / 0, -1 / 0];
          if (!t) return n;
          var o,
            i = this.count();
          if (!this._indices) return this._rawExtent[e].slice();
          if ((o = this._extent[e])) return o.slice();
          for (var s = (o = n)[0], l = o[1], u = 0; u < i; u++) {
            var f = t[this.getRawIndex(u)];
            f < s && (s = f), f > l && (l = f);
          }
          return (this._extent[e] = o = [s, l]), o;
        }),
        (r.prototype.getRawDataItem = function (e) {
          var t = this.getRawIndex(e);
          if (this._provider.persistent) return this._provider.getItem(t);
          for (var n = [], i = this._chunks, a = 0; a < i.length; a++)
            n.push(i[a][t]);
          return n;
        }),
        (r.prototype.clone = function (e, t) {
          var n = new r(),
            i = this._chunks,
            a =
              e &&
              Oe(
                e,
                function (s, l) {
                  return (s[l] = !0), s;
                },
                {}
              );
          if (a)
            for (var o = 0; o < i.length; o++)
              n._chunks[o] = a[o] ? $R(i[o]) : i[o];
          else n._chunks = i;
          return (
            this._copyCommonProps(n),
            t || (n._indices = this._cloneIndices()),
            n._updateGetRawIdx(),
            n
          );
        }),
        (r.prototype._copyCommonProps = function (e) {
          (e._count = this._count),
            (e._rawCount = this._rawCount),
            (e._provider = this._provider),
            (e._dimensions = this._dimensions),
            (e._extent = ft(this._extent)),
            (e._rawExtent = ft(this._rawExtent));
        }),
        (r.prototype._cloneIndices = function () {
          if (this._indices) {
            var e = this._indices.constructor,
              t = void 0;
            if (e === Array) {
              var n = this._indices.length;
              t = new e(n);
              for (var i = 0; i < n; i++) t[i] = this._indices[i];
            } else t = new e(this._indices);
            return t;
          }
          return null;
        }),
        (r.prototype._getRawIdxIdentity = function (e) {
          return e;
        }),
        (r.prototype._getRawIdx = function (e) {
          return e < this._count && e >= 0 ? this._indices[e] : -1;
        }),
        (r.prototype._updateGetRawIdx = function () {
          this.getRawIndex = this._indices
            ? this._getRawIdx
            : this._getRawIdxIdentity;
        }),
        (r.internalField = (function () {
          function e(t, n, i, a) {
            return jl(t[a], this._dimensions[a]);
          }
          Jy = {
            arrayRows: e,
            objectRows: function (t, n, i, a) {
              return jl(t[n], this._dimensions[a]);
            },
            keyedColumns: e,
            original: function (t, n, i, a) {
              var o = t && (null == t.value ? t : t.value);
              return jl(o instanceof Array ? o[a] : o, this._dimensions[a]);
            },
            typedArray: function (t, n, i, a) {
              return t[a];
            },
          };
        })()),
        r
      );
    })(),
    Tw = (function () {
      function r(e) {
        (this._sourceList = []),
          (this._storeList = []),
          (this._upstreamSignList = []),
          (this._versionSignBase = 0),
          (this._dirty = !0),
          (this._sourceHost = e);
      }
      return (
        (r.prototype.dirty = function () {
          this._setLocalSource([], []),
            (this._storeList = []),
            (this._dirty = !0);
        }),
        (r.prototype._setLocalSource = function (e, t) {
          (this._sourceList = e),
            (this._upstreamSignList = t),
            this._versionSignBase++,
            this._versionSignBase > 9e10 && (this._versionSignBase = 0);
        }),
        (r.prototype._getVersionSign = function () {
          return this._sourceHost.uid + '_' + this._versionSignBase;
        }),
        (r.prototype.prepareSource = function () {
          this._isDirty() && (this._createSource(), (this._dirty = !1));
        }),
        (r.prototype._createSource = function () {
          this._setLocalSource([], []);
          var i,
            a,
            e = this._sourceHost,
            t = this._getUpstreamSourceManagers(),
            n = !!t.length;
          if (Sd(e)) {
            var o = e,
              s = void 0,
              l = void 0,
              u = void 0;
            if (n) {
              var c = t[0];
              c.prepareSource(),
                (s = (u = c.getSource()).data),
                (l = u.sourceFormat),
                (a = [c._getVersionSign()]);
            } else (l = Q((s = o.get('data', !0))) ? el : no), (a = []);
            var f = this._getSourceMetaRawOption() || {},
              d = (u && u.metaRawOption) || {},
              v = B(f.seriesLayoutBy, d.seriesLayoutBy) || null,
              g = B(f.sourceHeader, d.sourceHeader),
              m = B(f.dimensions, d.dimensions);
            i =
              v !== d.seriesLayoutBy || !!g != !!d.sourceHeader || m
                ? [
                    Xy(
                      s,
                      { seriesLayoutBy: v, sourceHeader: g, dimensions: m },
                      l
                    ),
                  ]
                : [];
          } else {
            var b = e;
            if (n) {
              var w = this._applyTransform(t);
              (i = w.sourceList), (a = w.upstreamSignList);
            } else
              (i = [
                Xy(b.get('source', !0), this._getSourceMetaRawOption(), null),
              ]),
                (a = []);
          }
          lt(i && a), this._setLocalSource(i, a);
        }),
        (r.prototype._applyTransform = function (e) {
          var t = this._sourceHost,
            n = t.get('transform', !0),
            i = t.get('fromTransformResult', !0);
          lt(null != i || null != n),
            null != i &&
              1 !== e.length &&
              Mw(
                'When using `fromTransformResult`, there should be only one upstream dataset'
              );
          var o,
            s = [],
            l = [];
          return (
            F(e, function (u) {
              u.prepareSource();
              var c = u.getSource(i || 0);
              null != i &&
                !c &&
                Mw('Can not retrieve result by `fromTransformResult`: ' + i),
                s.push(c),
                l.push(u._getVersionSign());
            }),
            n
              ? (o = (function VR(r, e, t) {
                  var n = qr(r),
                    i = n.length;
                  i ||
                    zr(
                      'If `transform` declared, it should at least contain one transform.'
                    );
                  for (var o = 0, s = i; o < s; o++)
                    (e = HR(n[o], e, t, 1 === i ? null : o)),
                      o !== s - 1 && (e.length = Math.max(e.length, 1));
                  return e;
                })(n, s, { datasetIndex: t.componentIndex }))
              : null != i && (o = [_R(s[0])]),
            { sourceList: o, upstreamSignList: l }
          );
        }),
        (r.prototype._isDirty = function () {
          if (this._dirty) return !0;
          for (
            var e = this._getUpstreamSourceManagers(), t = 0;
            t < e.length;
            t++
          ) {
            var n = e[t];
            if (
              n._isDirty() ||
              this._upstreamSignList[t] !== n._getVersionSign()
            )
              return !0;
          }
        }),
        (r.prototype.getSource = function (e) {
          var t = this._sourceList[(e = e || 0)];
          if (!t) {
            var n = this._getUpstreamSourceManagers();
            return n[0] && n[0].getSource(e);
          }
          return t;
        }),
        (r.prototype.getSharedDataStore = function (e) {
          lt(
            Sd(this._sourceHost),
            'Can only call getDataStore on series source manager.'
          );
          var t = e.makeStoreSchema();
          return this._innerGetDataStore(t.dimensions, e.source, t.hash);
        }),
        (r.prototype._innerGetDataStore = function (e, t, n) {
          var a = this._storeList,
            o = a[0];
          o || (o = a[0] = {});
          var s = o[n];
          if (!s) {
            var l = this._getUpstreamSourceManagers()[0];
            Sd(this._sourceHost) && l
              ? (s = l._innerGetDataStore(e, t, n))
              : (s = new t0()).initData(new cw(t, e.length), e),
              (o[n] = s);
          }
          return s;
        }),
        (r.prototype._getUpstreamSourceManagers = function () {
          var e = this._sourceHost;
          if (Sd(e)) {
            var t = By(e);
            return t ? [t.getSourceManager()] : [];
          }
          return Ut(
            (function ZP(r) {
              return r.get('transform', !0) || r.get('fromTransformResult', !0)
                ? q(
                    r.ecModel,
                    'dataset',
                    {
                      index: r.get('fromDatasetIndex', !0),
                      id: r.get('fromDatasetId', !0),
                    },
                    N
                  ).models
                : [];
            })(e),
            function (n) {
              return n.getSourceManager();
            }
          );
        }),
        (r.prototype._getSourceMetaRawOption = function () {
          var t,
            n,
            i,
            e = this._sourceHost;
          if (Sd(e))
            (t = e.get('seriesLayoutBy', !0)),
              (n = e.get('sourceHeader', !0)),
              (i = e.get('dimensions', !0));
          else if (!this._getUpstreamSourceManagers().length) {
            var a = e;
            (t = a.get('seriesLayoutBy', !0)),
              (n = a.get('sourceHeader', !0)),
              (i = a.get('dimensions', !0));
          }
          return { seriesLayoutBy: t, sourceHeader: n, dimensions: i };
        }),
        r
      );
    })();
  function Aw(r) {
    r.option.transform && Rt(r.option.transform);
  }
  function Sd(r) {
    return 'series' === r.mainType;
  }
  function Mw(r) {
    throw new Error(r);
  }
  var Lw = 'line-height:1';
  function Iw(r, e) {
    var t = r.color || '#6e7079',
      n = r.fontSize || 12,
      i = r.fontWeight || '400',
      a = r.color || '#464646',
      o = r.fontSize || 14,
      s = r.fontWeight || '900';
    return 'html' === e
      ? {
          nameStyle:
            'font-size:' +
            Dn(n + '') +
            'px;color:' +
            Dn(t) +
            ';font-weight:' +
            Dn(i + ''),
          valueStyle:
            'font-size:' +
            Dn(o + '') +
            'px;color:' +
            Dn(a) +
            ';font-weight:' +
            Dn(s + ''),
        }
      : {
          nameStyle: { fontSize: n, fill: t, fontWeight: i },
          valueStyle: { fontSize: o, fill: a, fontWeight: s },
        };
  }
  var UR = [0, 10, 20, 30],
    YR = ['', '\n', '\n\n', '\n\n\n'];
  function si(r, e) {
    return (e.type = r), e;
  }
  function e0(r) {
    return 'section' === r.type;
  }
  function kw(r) {
    return e0(r) ? XR : ZR;
  }
  function Ew(r) {
    if (e0(r)) {
      var e = 0,
        t = r.blocks.length,
        n = t > 1 || (t > 0 && !r.noHeader);
      return (
        F(r.blocks, function (i) {
          var a = Ew(i);
          a >= e && (e = a + +(n && (!a || (e0(i) && !i.noHeader))));
        }),
        e
      );
    }
    return 0;
  }
  function XR(r, e, t, n) {
    var i = e.noHeader,
      a = (function qR(r) {
        return { html: UR[r], richText: YR[r] };
      })(Ew(e)),
      o = [],
      s = e.blocks || [];
    lt(!s || Tt(s)), (s = s || []);
    var l = r.orderMode;
    if (e.sortBlocks && l) {
      s = s.slice();
      var u = { valueAsc: 'asc', valueDesc: 'desc' };
      if (ce(u, l)) {
        var c = new bw(u[l], null);
        s.sort(function (g, m) {
          return c.evaluate(g.sortParam, m.sortParam);
        });
      } else 'seriesDesc' === l && s.reverse();
    }
    F(s, function (g, m) {
      var y = e.valueFormatter,
        b = kw(g)(
          y ? nt(nt({}, r), { valueFormatter: y }) : r,
          g,
          m > 0 ? a.html : 0,
          n
        );
      null != b && o.push(b);
    });
    var f =
      'richText' === r.renderMode
        ? o.join(a.richText)
        : r0(o.join(''), i ? t : a.html);
    if (i) return f;
    var d = ky(e.header, 'ordinal', r.useUTC),
      v = Iw(n, r.renderMode).nameStyle;
    return 'richText' === r.renderMode
      ? Rw(r, d, v) + a.richText + f
      : r0('<div style="' + v + ';' + Lw + ';">' + Dn(d) + '</div>' + f, t);
  }
  function ZR(r, e, t, n) {
    var i = r.renderMode,
      a = e.noName,
      o = e.noValue,
      s = !e.markerType,
      l = e.name,
      u = r.useUTC,
      c =
        e.valueFormatter ||
        r.valueFormatter ||
        function (D) {
          return Ut((D = Tt(D) ? D : [D]), function (L, M) {
            return ky(L, Tt(v) ? v[M] : v, u);
          });
        };
    if (!a || !o) {
      var f = s
          ? ''
          : r.markupStyleCreator.makeTooltipMarker(
              e.markerType,
              e.markerColor || '#333',
              i
            ),
        d = a ? '' : ky(l, 'ordinal', u),
        v = e.valueType,
        g = o ? [] : c(e.value),
        m = !s || !a,
        y = !s && a,
        b = Iw(n, i),
        w = b.nameStyle,
        C = b.valueStyle;
      return 'richText' === i
        ? (s ? '' : f) +
            (a ? '' : Rw(r, d, w)) +
            (o
              ? ''
              : (function QR(r, e, t, n, i) {
                  var a = [i];
                  return (
                    t &&
                      a.push({
                        padding: [0, 0, 0, n ? 10 : 20],
                        align: 'right',
                      }),
                    r.markupStyleCreator.wrapRichTextStyle(
                      Tt(e) ? e.join('  ') : e,
                      a
                    )
                  );
                })(r, g, m, y, C))
        : r0(
            (s ? '' : f) +
              (a
                ? ''
                : (function jR(r, e, t) {
                    return (
                      '<span style="' +
                      t +
                      ';' +
                      (e ? 'margin-left:2px' : '') +
                      '">' +
                      Dn(r) +
                      '</span>'
                    );
                  })(d, !s, w)) +
              (o
                ? ''
                : (function KR(r, e, t, n) {
                    return (
                      '<span style="' +
                      (e
                        ? 'float:right;margin-left:' + (t ? '10px' : '20px')
                        : '') +
                      ';' +
                      n +
                      '">' +
                      Ut((r = Tt(r) ? r : [r]), function (o) {
                        return Dn(o);
                      }).join('&nbsp;&nbsp;') +
                      '</span>'
                    );
                  })(g, m, y, C)),
            t
          );
    }
  }
  function Pw(r, e, t, n, i, a) {
    if (r)
      return kw(r)(
        {
          useUTC: i,
          renderMode: t,
          orderMode: n,
          markupStyleCreator: e,
          valueFormatter: r.valueFormatter,
        },
        r,
        0,
        a
      );
  }
  function r0(r, e) {
    return (
      '<div style="margin: ' +
      e +
      'px 0 0;' +
      Lw +
      ';">' +
      r +
      '<div style="clear:both"></div></div>'
    );
  }
  function Rw(r, e, t) {
    return r.markupStyleCreator.wrapRichTextStyle(e, t);
  }
  function Ow(r, e) {
    return uc(r.getData().getItemVisual(e, 'style')[r.visualDrawType]);
  }
  function Fw(r, e) {
    return r.get('padding') ?? ('richText' === e ? [8, 10] : 10);
  }
  var n0 = (function () {
    function r() {
      (this.richTextStyles = {}), (this._nextStyleNameId = Gh());
    }
    return (
      (r.prototype._generateStyleName = function () {
        return '__EC_aUTo_' + this._nextStyleNameId++;
      }),
      (r.prototype.makeTooltipMarker = function (e, t, n) {
        var i = 'richText' === n ? this._generateStyleName() : null,
          a = RS({ color: t, type: e, renderMode: n, markerId: i });
        return ht(a)
          ? a
          : (lt(i), (this.richTextStyles[i] = a.style), a.content);
      }),
      (r.prototype.wrapRichTextStyle = function (e, t) {
        var n = {};
        Tt(t)
          ? F(t, function (a) {
              return nt(n, a);
            })
          : nt(n, t);
        var i = this._generateStyleName();
        return (this.richTextStyles[i] = n), '{' + i + '|' + e + '}';
      }),
      r
    );
  })();
  function Bw(r) {
    var c,
      f,
      d,
      v,
      e = r.series,
      t = r.dataIndex,
      n = r.multipleSeries,
      i = e.getData(),
      a = i.mapDimensionsAll('defaultedTooltip'),
      o = a.length,
      s = e.getRawValue(t),
      l = Tt(s),
      u = Ow(e, t);
    if (o > 1 || (l && !o)) {
      var g = (function JR(r, e, t, n, i) {
        var a = e.getData(),
          o = Oe(
            r,
            function (f, d, v) {
              var g = a.getDimensionInfo(v);
              return f || (g && !1 !== g.tooltip && null != g.displayName);
            },
            !1
          ),
          s = [],
          l = [],
          u = [];
        function c(f, d) {
          var v = a.getDimensionInfo(d);
          !v ||
            !1 === v.otherDims.tooltip ||
            (o
              ? u.push(
                  si('nameValue', {
                    markerType: 'subItem',
                    markerColor: i,
                    name: v.displayName,
                    value: f,
                    valueType: v.type,
                  })
                )
              : (s.push(f), l.push(v.type)));
        }
        return (
          n.length
            ? F(n, function (f) {
                c(Bf(a, t, f), f);
              })
            : F(r, c),
          { inlineValues: s, inlineValueTypes: l, blocks: u }
        );
      })(s, e, t, a, u);
      (c = g.inlineValues),
        (f = g.inlineValueTypes),
        (d = g.blocks),
        (v = g.inlineValues[0]);
    } else if (o) {
      var m = i.getDimensionInfo(a[0]);
      (v = c = Bf(i, t, a[0])), (f = m.type);
    } else v = c = l ? s[0] : s;
    var y = xn(e),
      b = (y && e.name) || '',
      w = i.getName(t),
      C = n ? b : w;
    return si('section', {
      header: b,
      noHeader: n || !y,
      sortParam: v,
      blocks: [
        si('nameValue', {
          markerType: 'item',
          markerColor: u,
          name: C,
          noName: !Et(C),
          value: c,
          valueType: f,
        }),
      ].concat(d || []),
    });
  }
  var Kl = S();
  function $p(r, e) {
    return r.getName(e) || r.getId(e);
  }
  var Up = '__universalTransitionEnabled',
    nn = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t._selectedDataIndicesMap = {}), t;
      }
      return (
        ut(e, r),
        (e.prototype.init = function (t, n, i) {
          (this.seriesIndex = this.componentIndex),
            (this.dataTask = bd({ count: eO, reset: rO })),
            (this.dataTask.context = { model: this }),
            this.mergeDefaultAndTheme(t, i),
            (Kl(this).sourceManager = new Tw(this)).prepareSource();
          var o = this.getInitialData(t, i);
          zw(o, this),
            (this.dataTask.context.data = o),
            lt(o, 'getInitialData returned invalid data.'),
            (Kl(this).dataBeforeProcessed = o),
            Nw(this),
            this._initSelectedMapFromData(o);
        }),
        (e.prototype.mergeDefaultAndTheme = function (t, n) {
          var i = pd(this),
            a = i ? Rf(t) : {},
            o = this.subType;
          br.hasClass(o) && (o += 'Series'),
            Gt(t, n.getTheme().get(this.subType)),
            Gt(t, this.getDefaultOption()),
            Oa(t, 'label', ['show']),
            this.fillDataTextStyle(t.data),
            i && ql(t, a, i);
        }),
        (e.prototype.mergeOption = function (t, n) {
          (t = Gt(this.option, t, !0)), this.fillDataTextStyle(t.data);
          var i = pd(this);
          i && ql(this.option, t, i);
          var a = Kl(this).sourceManager;
          a.dirty(), a.prepareSource();
          var o = this.getInitialData(t, n);
          zw(o, this),
            this.dataTask.dirty(),
            (this.dataTask.context.data = o),
            (Kl(this).dataBeforeProcessed = o),
            Nw(this),
            this._initSelectedMapFromData(o);
        }),
        (e.prototype.fillDataTextStyle = function (t) {
          if (t && !Q(t))
            for (var n = ['show'], i = 0; i < t.length; i++)
              t[i] && t[i].label && Oa(t[i], 'label', n);
        }),
        (e.prototype.getInitialData = function (t, n) {}),
        (e.prototype.appendData = function (t) {
          this.getRawData().appendData(t.data);
        }),
        (e.prototype.getData = function (t) {
          var n = i0(this);
          if (n) {
            var i = n.context.data;
            return null == t ? i : i.getLinkedData(t);
          }
          return Kl(this).data;
        }),
        (e.prototype.getAllData = function () {
          var t = this.getData();
          return t && t.getLinkedDataAll ? t.getLinkedDataAll() : [{ data: t }];
        }),
        (e.prototype.setData = function (t) {
          var n = i0(this);
          if (n) {
            var i = n.context;
            (i.outputData = t), n !== this.dataTask && (i.data = t);
          }
          Kl(this).data = t;
        }),
        (e.prototype.getEncode = function () {
          var t = this.get('encode', !0);
          if (t) return Nt(t);
        }),
        (e.prototype.getSourceManager = function () {
          return Kl(this).sourceManager;
        }),
        (e.prototype.getSource = function () {
          return this.getSourceManager().getSource();
        }),
        (e.prototype.getRawData = function () {
          return Kl(this).dataBeforeProcessed;
        }),
        (e.prototype.getColorBy = function () {
          return this.get('colorBy') || 'series';
        }),
        (e.prototype.isColorBySeries = function () {
          return 'series' === this.getColorBy();
        }),
        (e.prototype.getBaseAxis = function () {
          var t = this.coordinateSystem;
          return t && t.getBaseAxis && t.getBaseAxis();
        }),
        (e.prototype.formatTooltip = function (t, n, i) {
          return Bw({ series: this, dataIndex: t, multipleSeries: n });
        }),
        (e.prototype.isAnimationEnabled = function () {
          var t = this.ecModel;
          if (Lt.node && (!t || !t.ssr)) return !1;
          var n = this.getShallow('animation');
          return (
            n &&
              this.getData().count() > this.getShallow('animationThreshold') &&
              (n = !1),
            !!n
          );
        }),
        (e.prototype.restoreData = function () {
          this.dataTask.dirty();
        }),
        (e.prototype.getColorFromPalette = function (t, n, i) {
          var a = this.ecModel,
            o = zy.prototype.getColorFromPalette.call(this, t, n, i);
          return o || (o = a.getColorFromPalette(t, n, i)), o;
        }),
        (e.prototype.coordDimToDataDim = function (t) {
          return this.getRawData().mapDimensionsAll(t);
        }),
        (e.prototype.getProgressive = function () {
          return this.get('progressive');
        }),
        (e.prototype.getProgressiveThreshold = function () {
          return this.get('progressiveThreshold');
        }),
        (e.prototype.select = function (t, n) {
          this._innerSelect(this.getData(n), t);
        }),
        (e.prototype.unselect = function (t, n) {
          var i = this.option.selectedMap;
          if (i) {
            var a = this.option.selectedMode,
              o = this.getData(n);
            if ('series' === a || 'all' === i)
              return (
                (this.option.selectedMap = {}),
                void (this._selectedDataIndicesMap = {})
              );
            for (var s = 0; s < t.length; s++) {
              var u = $p(o, t[s]);
              (i[u] = !1), (this._selectedDataIndicesMap[u] = -1);
            }
          }
        }),
        (e.prototype.toggleSelect = function (t, n) {
          for (var i = [], a = 0; a < t.length; a++)
            (i[0] = t[a]),
              this.isSelected(t[a], n)
                ? this.unselect(i, n)
                : this.select(i, n);
        }),
        (e.prototype.getSelectedDataIndices = function () {
          if ('all' === this.option.selectedMap)
            return [].slice.call(this.getData().getIndices());
          for (
            var t = this._selectedDataIndicesMap, n = Ne(t), i = [], a = 0;
            a < n.length;
            a++
          ) {
            var o = t[n[a]];
            o >= 0 && i.push(o);
          }
          return i;
        }),
        (e.prototype.isSelected = function (t, n) {
          var i = this.option.selectedMap;
          if (!i) return !1;
          var a = this.getData(n);
          return (
            ('all' === i || i[$p(a, t)]) &&
            !a.getItemModel(t).get(['select', 'disabled'])
          );
        }),
        (e.prototype.isUniversalTransitionEnabled = function () {
          if (this[Up]) return !0;
          var t = this.option.universalTransition;
          return !!t && (!0 === t || (t && t.enabled));
        }),
        (e.prototype._innerSelect = function (t, n) {
          var i,
            a,
            o = this.option,
            s = o.selectedMode,
            l = n.length;
          if (s && l)
            if ('series' === s) o.selectedMap = 'all';
            else if ('multiple' === s) {
              Y(o.selectedMap) || (o.selectedMap = {});
              for (var u = o.selectedMap, c = 0; c < l; c++) {
                var f = n[c];
                (u[(d = $p(t, f))] = !0),
                  (this._selectedDataIndicesMap[d] = t.getRawIndex(f));
              }
            } else if ('single' === s || !0 === s) {
              var v = n[l - 1],
                d = $p(t, v);
              (o.selectedMap = (((i = {})[d] = !0), i)),
                (this._selectedDataIndicesMap =
                  (((a = {})[d] = t.getRawIndex(v)), a));
            }
        }),
        (e.prototype._initSelectedMapFromData = function (t) {
          if (!this.option.selectedMap) {
            var n = [];
            t.hasItemOption &&
              t.each(function (i) {
                var a = t.getRawDataItem(i);
                a && a.selected && n.push(i);
              }),
              n.length > 0 && this._innerSelect(t, n);
          }
        }),
        (e.registerClass = function (t) {
          return br.registerClass(t);
        }),
        (e.protoInitialize =
          (((t = e.prototype).type = 'series.__base__'),
          (t.seriesIndex = 0),
          (t.ignoreStyleOnData = !1),
          (t.hasSymbolVisual = !1),
          (t.defaultSymbol = 'circle'),
          (t.visualStyleAccessPath = 'itemStyle'),
          void (t.visualDrawType = 'fill'))),
        e
      );
      var t;
    })(br);
  function Nw(r) {
    var e = r.name;
    xn(r) ||
      (r.name =
        (function tO(r) {
          var e = r.getRawData(),
            t = e.mapDimensionsAll('seriesName'),
            n = [];
          return (
            F(t, function (i) {
              var a = e.getDimensionInfo(i);
              a.displayName && n.push(a.displayName);
            }),
            n.join(' ')
          );
        })(r) || e);
  }
  function eO(r) {
    return r.model.getRawData().count();
  }
  function rO(r) {
    var e = r.model;
    return e.setData(e.getRawData().cloneShallow()), nO;
  }
  function nO(r, e) {
    e.outputData &&
      r.end > e.outputData.count() &&
      e.model.getRawData().cloneShallow(e.outputData);
  }
  function zw(r, e) {
    F(Ge(r.CHANGABLE_METHODS, r.DOWNSAMPLE_METHODS), function (t) {
      r.wrapMethod(t, me(iO, e));
    });
  }
  function iO(r, e) {
    var t = i0(r);
    return t && t.setOutputEnd((e || this).count()), e;
  }
  function i0(r) {
    var e = (r.ecModel || {}).scheduler,
      t = e && e.getPipeline(r.uid);
    if (t) {
      var n = t.currentTask;
      if (n) {
        var i = n.agentStubMap;
        i && (n = i.get(r.uid));
      }
      return n;
    }
  }
  Ee(nn, Ky), Ee(nn, zy), Ue(nn, br);
  var fn = (function () {
    function r() {
      (this.group = new Qe()), (this.uid = kf('viewComponent'));
    }
    return (
      (r.prototype.init = function (e, t) {}),
      (r.prototype.render = function (e, t, n, i) {}),
      (r.prototype.dispose = function (e, t) {}),
      (r.prototype.updateView = function (e, t, n, i) {}),
      (r.prototype.updateLayout = function (e, t, n, i) {}),
      (r.prototype.updateVisual = function (e, t, n, i) {}),
      (r.prototype.toggleBlurSeries = function (e, t, n) {}),
      (r.prototype.eachRendered = function (e) {
        var t = this.group;
        t && t.traverse(e);
      }),
      r
    );
  })();
  function zf() {
    var r = S();
    return function (e) {
      var t = r(e),
        n = e.pipelineContext,
        i = !!t.large,
        a = !!t.progressiveRender,
        o = (t.large = !(!n || !n.large)),
        s = (t.progressiveRender = !(!n || !n.progressiveRender));
      return (i !== o || a !== s) && 'reset';
    };
  }
  Ce(fn), Pr(fn);
  var Vw = S(),
    aO = zf(),
    en = (function () {
      function r() {
        (this.group = new Qe()),
          (this.uid = kf('viewChart')),
          (this.renderTask = bd({ plan: oO, reset: sO })),
          (this.renderTask.context = { view: this });
      }
      return (
        (r.prototype.init = function (e, t) {}),
        (r.prototype.render = function (e, t, n, i) {
          throw new Error('render method must been implemented');
        }),
        (r.prototype.highlight = function (e, t, n, i) {
          var a = e.getData(i && i.dataType);
          a ? Gw(a, i, 'emphasis') : qn('Unknown dataType ' + i.dataType);
        }),
        (r.prototype.downplay = function (e, t, n, i) {
          var a = e.getData(i && i.dataType);
          a ? Gw(a, i, 'normal') : qn('Unknown dataType ' + i.dataType);
        }),
        (r.prototype.remove = function (e, t) {
          this.group.removeAll();
        }),
        (r.prototype.dispose = function (e, t) {}),
        (r.prototype.updateView = function (e, t, n, i) {
          this.render(e, t, n, i);
        }),
        (r.prototype.updateLayout = function (e, t, n, i) {
          this.render(e, t, n, i);
        }),
        (r.prototype.updateVisual = function (e, t, n, i) {
          this.render(e, t, n, i);
        }),
        (r.prototype.eachRendered = function (e) {
          Xl(this.group, e);
        }),
        (r.markUpdateMethod = function (e, t) {
          Vw(e).updateMethod = t;
        }),
        (r.protoInitialize = void (r.prototype.type = 'chart')),
        r
      );
    })();
  function Hw(r, e, t) {
    r && $l(r) && ('emphasis' === e ? Js : tl)(r, t);
  }
  function Gw(r, e, t) {
    var n = x(r, e),
      i =
        e && null != e.highlightKey
          ? (function WE(r) {
              var e = w_[r];
              return null == e && S_ <= 32 && (e = w_[r] = S_++), e;
            })(e.highlightKey)
          : null;
    null != n
      ? F(qr(n), function (a) {
          Hw(r.getItemGraphicEl(a), t, i);
        })
      : r.eachItemGraphicEl(function (a) {
          Hw(a, t, i);
        });
  }
  function oO(r) {
    return aO(r.model);
  }
  function sO(r) {
    var e = r.model,
      t = r.ecModel,
      n = r.api,
      i = r.payload,
      a = e.pipelineContext.progressiveRender,
      o = r.view,
      s = i && Vw(i).updateMethod,
      l = a ? 'incrementalPrepareRender' : s && o[s] ? s : 'render';
    return 'render' !== l && o[l](e, t, n, i), lO[l];
  }
  Ce(en, ['dispose']), Pr(en);
  var lO = {
      incrementalPrepareRender: {
        progress: function (r, e) {
          e.view.incrementalRender(r, e.model, e.ecModel, e.api, e.payload);
        },
      },
      render: {
        forceFirstProgress: !0,
        progress: function (r, e) {
          e.view.render(e.model, e.ecModel, e.api, e.payload);
        },
      },
    },
    Yp = '\0__throttleOriginMethod',
    Ww = '\0__throttleRate',
    $w = '\0__throttleType';
  function Xp(r, e, t) {
    var n,
      s,
      l,
      u,
      c,
      i = 0,
      a = 0,
      o = null;
    function f() {
      (a = new Date().getTime()), (o = null), r.apply(l, u || []);
    }
    e = e || 0;
    var d = function () {
      for (var v = [], g = 0; g < arguments.length; g++) v[g] = arguments[g];
      (n = new Date().getTime()), (l = this), (u = v);
      var m = c || e,
        y = c || t;
      (c = null),
        (s = n - (y ? i : a) - m),
        clearTimeout(o),
        y ? (o = setTimeout(f, m)) : s >= 0 ? f() : (o = setTimeout(f, -s)),
        (i = n);
    };
    return (
      (d.clear = function () {
        o && (clearTimeout(o), (o = null));
      }),
      (d.debounceNextCall = function (v) {
        c = v;
      }),
      d
    );
  }
  function Vf(r, e, t, n) {
    var i = r[e];
    if (i) {
      var a = i[Yp] || i;
      if (i[Ww] !== t || i[$w] !== n) {
        if (null == t || !n) return (r[e] = a);
        ((i = r[e] = Xp(a, t, 'debounce' === n))[Yp] = a),
          (i[$w] = n),
          (i[Ww] = t);
      }
      return i;
    }
  }
  function wd(r, e) {
    var t = r[e];
    t && t[Yp] && (t.clear && t.clear(), (r[e] = t[Yp]));
  }
  var Uw = S(),
    Yw = { itemStyle: Sr(bS, !0), lineStyle: Sr(xS, !0) },
    uO = { lineStyle: 'stroke', itemStyle: 'fill' };
  function Xw(r, e) {
    return (
      r.visualStyleMapper ||
      Yw[e] ||
      (console.warn("Unknown style type '" + e + "'."), Yw.itemStyle)
    );
  }
  function Zw(r, e) {
    return (
      r.visualDrawType ||
      uO[e] ||
      (console.warn("Unknown style type '" + e + "'."), 'fill')
    );
  }
  var cO = {
      createOnAllSeries: !0,
      performRawSeries: !0,
      reset: function (r, e) {
        var t = r.getData(),
          n = r.visualStyleAccessPath || 'itemStyle',
          i = r.getModel(n),
          o = Xw(r, n)(i),
          s = i.getShallow('decal');
        s && (t.setVisual('decal', s), (s.dirty = !0));
        var l = Zw(r, n),
          u = o[l],
          c = fe(u) ? u : null;
        if (!o[l] || c || 'auto' === o.fill || 'auto' === o.stroke) {
          var d = r.getColorFromPalette(r.name, null, e.getSeriesCount());
          o[l] || ((o[l] = d), t.setVisual('colorFromPalette', !0)),
            (o.fill = 'auto' === o.fill || fe(o.fill) ? d : o.fill),
            (o.stroke = 'auto' === o.stroke || fe(o.stroke) ? d : o.stroke);
        }
        if (
          (t.setVisual('style', o),
          t.setVisual('drawType', l),
          !e.isSeriesFiltered(r) && c)
        )
          return (
            t.setVisual('colorFromPalette', !1),
            {
              dataEach: function (v, g) {
                var m = r.getDataParams(g),
                  y = nt({}, o);
                (y[l] = c(m)), v.setItemVisual(g, 'style', y);
              },
            }
          );
      },
    },
    Cd = new Yr(),
    fO = {
      createOnAllSeries: !0,
      performRawSeries: !0,
      reset: function (r, e) {
        if (!r.ignoreStyleOnData && !e.isSeriesFiltered(r)) {
          var t = r.getData(),
            n = r.visualStyleAccessPath || 'itemStyle',
            i = Xw(r, n),
            a = t.getVisual('drawType');
          return {
            dataEach: t.hasItemOption
              ? function (o, s) {
                  var l = o.getRawDataItem(s);
                  if (l && l[n]) {
                    Cd.option = l[n];
                    var u = i(Cd);
                    nt(o.ensureUniqueItemVisual(s, 'style'), u),
                      Cd.option.decal &&
                        (o.setItemVisual(s, 'decal', Cd.option.decal),
                        (Cd.option.decal.dirty = !0)),
                      a in u && o.setItemVisual(s, 'colorFromPalette', !1);
                  }
                }
              : null,
          };
        }
      },
    },
    hO = {
      performRawSeries: !0,
      overallReset: function (r) {
        var e = Nt();
        r.eachSeries(function (t) {
          var n = t.getColorBy();
          if (!t.isColorBySeries()) {
            var i = t.type + '-' + n,
              a = e.get(i);
            a || e.set(i, (a = {})), (Uw(t).scope = a);
          }
        }),
          r.eachSeries(function (t) {
            if (!t.isColorBySeries() && !r.isSeriesFiltered(t)) {
              var n = t.getRawData(),
                i = {},
                a = t.getData(),
                o = Uw(t).scope,
                l = Zw(t, t.visualStyleAccessPath || 'itemStyle');
              a.each(function (u) {
                var c = a.getRawIndex(u);
                i[c] = u;
              }),
                n.each(function (u) {
                  var c = i[u];
                  if (a.getItemVisual(c, 'colorFromPalette')) {
                    var d = a.ensureUniqueItemVisual(c, 'style'),
                      v = n.getName(u) || u + '',
                      g = n.count();
                    d[l] = t.getColorFromPalette(v, o, g);
                  }
                });
            }
          });
      },
    },
    Zp = Math.PI,
    qw = (function () {
      function r(e, t, n, i) {
        (this._stageTaskMap = Nt()),
          (this.ecInstance = e),
          (this.api = t),
          (n = this._dataProcessorHandlers = n.slice()),
          (i = this._visualHandlers = i.slice()),
          (this._allHandlers = n.concat(i));
      }
      return (
        (r.prototype.restoreData = function (e, t) {
          e.restoreData(t),
            this._stageTaskMap.each(function (n) {
              var i = n.overallTask;
              i && i.dirty();
            });
        }),
        (r.prototype.getPerformArgs = function (e, t) {
          if (e.__pipeline) {
            var n = this._pipelineMap.get(e.__pipeline.id),
              i = n.context,
              o =
                !t &&
                n.progressiveEnabled &&
                (!i || i.progressiveRender) &&
                e.__idxInPipeline > n.blockIndex
                  ? n.step
                  : null,
              s = i && i.modDataCount;
            return {
              step: o,
              modBy: null != s ? Math.ceil(s / o) : null,
              modDataCount: s,
            };
          }
        }),
        (r.prototype.getPipeline = function (e) {
          return this._pipelineMap.get(e);
        }),
        (r.prototype.updateStreamModes = function (e, t) {
          var n = this._pipelineMap.get(e.uid),
            a = e.getData().count(),
            o =
              n.progressiveEnabled &&
              t.incrementalPrepareRender &&
              a >= n.threshold,
            s = e.get('large') && a >= e.get('largeThreshold'),
            l = 'mod' === e.get('progressiveChunkMode') ? a : null;
          e.pipelineContext = n.context = {
            progressiveRender: o,
            modDataCount: l,
            large: s,
          };
        }),
        (r.prototype.restorePipelines = function (e) {
          var t = this,
            n = (t._pipelineMap = Nt());
          e.eachSeries(function (i) {
            var a = i.getProgressive(),
              o = i.uid;
            n.set(o, {
              id: o,
              head: null,
              tail: null,
              threshold: i.getProgressiveThreshold(),
              progressiveEnabled:
                a && !(i.preventIncremental && i.preventIncremental()),
              blockIndex: -1,
              step: Math.round(a || 700),
              count: 0,
            }),
              t._pipe(i, i.dataTask);
          });
        }),
        (r.prototype.prepareStageTasks = function () {
          var e = this._stageTaskMap,
            t = this.api.getModel(),
            n = this.api;
          F(
            this._allHandlers,
            function (i) {
              var a = e.get(i.uid) || e.set(i.uid, {});
              lt(
                !(i.reset && i.overallReset),
                '"reset" and "overallReset" must not be both specified.'
              ),
                i.reset && this._createSeriesStageTask(i, a, t, n),
                i.overallReset && this._createOverallStageTask(i, a, t, n);
            },
            this
          );
        }),
        (r.prototype.prepareView = function (e, t, n, i) {
          var a = e.renderTask,
            o = a.context;
          (o.model = t),
            (o.ecModel = n),
            (o.api = i),
            (a.__block = !e.incrementalPrepareRender),
            this._pipe(t, a);
        }),
        (r.prototype.performDataProcessorTasks = function (e, t) {
          this._performStageTasks(this._dataProcessorHandlers, e, t, {
            block: !0,
          });
        }),
        (r.prototype.performVisualTasks = function (e, t, n) {
          this._performStageTasks(this._visualHandlers, e, t, n);
        }),
        (r.prototype._performStageTasks = function (e, t, n, i) {
          i = i || {};
          var a = !1,
            o = this;
          function s(l, u) {
            return (
              l.setDirty && (!l.dirtyMap || l.dirtyMap.get(u.__pipeline.id))
            );
          }
          F(e, function (l, u) {
            if (!i.visualType || i.visualType === l.visualType) {
              var c = o._stageTaskMap.get(l.uid),
                f = c.seriesTaskMap,
                d = c.overallTask;
              if (d) {
                var v,
                  g = d.agentStubMap;
                g.each(function (y) {
                  s(i, y) && (y.dirty(), (v = !0));
                }),
                  v && d.dirty(),
                  o.updatePayload(d, n);
                var m = o.getPerformArgs(d, i.block);
                g.each(function (y) {
                  y.perform(m);
                }),
                  d.perform(m) && (a = !0);
              } else
                f &&
                  f.each(function (y, b) {
                    s(i, y) && y.dirty();
                    var w = o.getPerformArgs(y, i.block);
                    (w.skip =
                      !l.performRawSeries &&
                      t.isSeriesFiltered(y.context.model)),
                      o.updatePayload(y, n),
                      y.perform(w) && (a = !0);
                  });
            }
          }),
            (this.unfinished = a || this.unfinished);
        }),
        (r.prototype.performSeriesTasks = function (e) {
          var t;
          e.eachSeries(function (n) {
            t = n.dataTask.perform() || t;
          }),
            (this.unfinished = t || this.unfinished);
        }),
        (r.prototype.plan = function () {
          this._pipelineMap.each(function (e) {
            var t = e.tail;
            do {
              if (t.__block) {
                e.blockIndex = t.__idxInPipeline;
                break;
              }
              t = t.getUpstream();
            } while (t);
          });
        }),
        (r.prototype.updatePayload = function (e, t) {
          'remain' !== t && (e.context.payload = t);
        }),
        (r.prototype._createSeriesStageTask = function (e, t, n, i) {
          var a = this,
            o = t.seriesTaskMap,
            s = (t.seriesTaskMap = Nt()),
            l = e.seriesType,
            u = e.getTargetSeries;
          function c(f) {
            var d = f.uid,
              v = s.set(
                d,
                (o && o.get(d)) || bd({ plan: yO, reset: xO, count: _O })
              );
            (v.context = {
              model: f,
              ecModel: n,
              api: i,
              useClearVisual: e.isVisual && !e.isLayout,
              plan: e.plan,
              reset: e.reset,
              scheduler: a,
            }),
              a._pipe(f, v);
          }
          e.createOnAllSeries
            ? n.eachRawSeries(c)
            : l
            ? n.eachRawSeriesByType(l, c)
            : u && u(n, i).each(c);
        }),
        (r.prototype._createOverallStageTask = function (e, t, n, i) {
          var a = this,
            o = (t.overallTask = t.overallTask || bd({ reset: vO }));
          o.context = {
            ecModel: n,
            api: i,
            overallReset: e.overallReset,
            scheduler: a,
          };
          var s = o.agentStubMap,
            l = (o.agentStubMap = Nt()),
            u = e.seriesType,
            c = e.getTargetSeries,
            f = !0,
            d = !1;
          function g(m) {
            var y = m.uid,
              b = l.set(
                y,
                (s && s.get(y)) || ((d = !0), bd({ reset: pO, onDirty: mO }))
              );
            (b.context = { model: m, overallProgress: f }),
              (b.agent = o),
              (b.__block = f),
              a._pipe(m, b);
          }
          lt(
            !e.createOnAllSeries,
            '"createOnAllSeries" is not supported for "overallReset", because it will block all streams.'
          ),
            u
              ? n.eachRawSeriesByType(u, g)
              : c
              ? c(n, i).each(g)
              : ((f = !1), F(n.getSeries(), g)),
            d && o.dirty();
        }),
        (r.prototype._pipe = function (e, t) {
          var i = this._pipelineMap.get(e.uid);
          !i.head && (i.head = t),
            i.tail && i.tail.pipe(t),
            (i.tail = t),
            (t.__idxInPipeline = i.count++),
            (t.__pipeline = i);
        }),
        (r.wrapStageHandler = function (e, t) {
          return (
            fe(e) && (e = { overallReset: e, seriesType: SO(e) }),
            (e.uid = kf('stageHandler')),
            t && (e.visualType = t),
            e
          );
        }),
        r
      );
    })();
  function vO(r) {
    r.overallReset(r.ecModel, r.api, r.payload);
  }
  function pO(r) {
    return r.overallProgress && gO;
  }
  function gO() {
    this.agent.dirty(), this.getDownstream().dirty();
  }
  function mO() {
    this.agent && this.agent.dirty();
  }
  function yO(r) {
    return r.plan ? r.plan(r.model, r.ecModel, r.api, r.payload) : null;
  }
  function xO(r) {
    r.useClearVisual && r.data.clearAllVisual();
    var e = (r.resetDefines = qr(
      r.reset(r.model, r.ecModel, r.api, r.payload)
    ));
    return e.length > 1
      ? Ut(e, function (t, n) {
          return jw(n);
        })
      : bO;
  }
  var bO = jw(0);
  function jw(r) {
    return function (e, t) {
      var n = t.data,
        i = t.resetDefines[r];
      if (i && i.dataEach)
        for (var a = e.start; a < e.end; a++) i.dataEach(n, a);
      else i && i.progress && i.progress(e, n);
    };
  }
  function _O(r) {
    return r.data.count();
  }
  function SO(r) {
    qp = null;
    try {
      r(Dd, Kw);
    } catch {}
    return qp;
  }
  var qp,
    Dd = {},
    Kw = {};
  function Qw(r, e) {
    for (var t in e.prototype) r[t] = Ke;
  }
  Qw(Dd, Gy),
    Qw(Kw, jS),
    (Dd.eachSeriesByType = Dd.eachRawSeriesByType =
      function (r) {
        qp = r;
      }),
    (Dd.eachComponent = function (r) {
      'series' === r.mainType && r.subType && (qp = r.subType);
    });
  var Jw = [
      '#37A2DA',
      '#32C5E9',
      '#67E0E3',
      '#9FE6B8',
      '#FFDB5C',
      '#ff9f7f',
      '#fb7293',
      '#E062AE',
      '#E690D1',
      '#e7bcf3',
      '#9d96f5',
      '#8378EA',
      '#96BFFF',
    ],
    wO = {
      color: Jw,
      colorLayer: [
        ['#37A2DA', '#ffd85c', '#fd7b5f'],
        ['#37A2DA', '#67E0E3', '#FFDB5C', '#ff9f7f', '#E062AE', '#9d96f5'],
        [
          '#37A2DA',
          '#32C5E9',
          '#9FE6B8',
          '#FFDB5C',
          '#ff9f7f',
          '#fb7293',
          '#e7bcf3',
          '#8378EA',
          '#96BFFF',
        ],
        Jw,
      ],
    },
    fa = '#B9B8CE',
    tC = '#100C2A',
    jp = function () {
      return {
        axisLine: { lineStyle: { color: fa } },
        splitLine: { lineStyle: { color: '#484753' } },
        splitArea: {
          areaStyle: {
            color: ['rgba(255,255,255,0.02)', 'rgba(255,255,255,0.05)'],
          },
        },
        minorSplitLine: { lineStyle: { color: '#20203B' } },
      };
    },
    eC = [
      '#4992ff',
      '#7cffb2',
      '#fddd60',
      '#ff6e76',
      '#58d9f9',
      '#05c091',
      '#ff8a45',
      '#8d48e3',
      '#dd79ff',
    ],
    rC = {
      darkMode: !0,
      color: eC,
      backgroundColor: tC,
      axisPointer: {
        lineStyle: { color: '#817f91' },
        crossStyle: { color: '#817f91' },
        label: { color: '#fff' },
      },
      legend: { textStyle: { color: fa } },
      textStyle: { color: fa },
      title: {
        textStyle: { color: '#EEF1FA' },
        subtextStyle: { color: '#B9B8CE' },
      },
      toolbox: { iconStyle: { borderColor: fa } },
      dataZoom: {
        borderColor: '#71708A',
        textStyle: { color: fa },
        brushStyle: { color: 'rgba(135,163,206,0.3)' },
        handleStyle: { color: '#353450', borderColor: '#C5CBE3' },
        moveHandleStyle: { color: '#B0B6C3', opacity: 0.3 },
        fillerColor: 'rgba(135,163,206,0.2)',
        emphasis: {
          handleStyle: { borderColor: '#91B7F2', color: '#4D587D' },
          moveHandleStyle: { color: '#636D9A', opacity: 0.7 },
        },
        dataBackground: {
          lineStyle: { color: '#71708A', width: 1 },
          areaStyle: { color: '#71708A' },
        },
        selectedDataBackground: {
          lineStyle: { color: '#87A3CE' },
          areaStyle: { color: '#87A3CE' },
        },
      },
      visualMap: { textStyle: { color: fa } },
      timeline: {
        lineStyle: { color: fa },
        label: { color: fa },
        controlStyle: { color: fa, borderColor: fa },
      },
      calendar: {
        itemStyle: { color: tC },
        dayLabel: { color: fa },
        monthLabel: { color: fa },
        yearLabel: { color: fa },
      },
      timeAxis: jp(),
      logAxis: jp(),
      valueAxis: jp(),
      categoryAxis: jp(),
      line: { symbol: 'circle' },
      graph: { color: eC },
      gauge: {
        title: { color: fa },
        axisLine: { lineStyle: { color: [[1, 'rgba(207,212,219,0.2)']] } },
        axisLabel: { color: fa },
        detail: { color: '#EEF1FA' },
      },
      candlestick: {
        itemStyle: {
          color: '#f64e56',
          color0: '#54ea92',
          borderColor: '#f64e56',
          borderColor0: '#54ea92',
        },
      },
    };
  rC.categoryAxis.splitLine.show = !1;
  var CO = (function () {
      function r() {}
      return (
        (r.prototype.normalizeQuery = function (e) {
          var t = {},
            n = {},
            i = {};
          if (ht(e)) {
            var a = Jt(e);
            (t.mainType = a.main || null), (t.subType = a.sub || null);
          } else {
            var o = ['Index', 'Name', 'Id'],
              s = { name: 1, dataIndex: 1, dataType: 1 };
            F(e, function (l, u) {
              for (var c = !1, f = 0; f < o.length; f++) {
                var d = o[f],
                  v = u.lastIndexOf(d);
                if (v > 0 && v === u.length - d.length) {
                  var g = u.slice(0, v);
                  'data' !== g &&
                    ((t.mainType = g), (t[d.toLowerCase()] = l), (c = !0));
                }
              }
              s.hasOwnProperty(u) && ((n[u] = l), (c = !0)), c || (i[u] = l);
            });
          }
          return { cptQuery: t, dataQuery: n, otherQuery: i };
        }),
        (r.prototype.filter = function (e, t) {
          var n = this.eventInfo;
          if (!n) return !0;
          var i = n.targetEl,
            a = n.packedEvent,
            o = n.model,
            s = n.view;
          if (!o || !s) return !0;
          var l = t.cptQuery,
            u = t.dataQuery;
          return (
            c(l, o, 'mainType') &&
            c(l, o, 'subType') &&
            c(l, o, 'index', 'componentIndex') &&
            c(l, o, 'name') &&
            c(l, o, 'id') &&
            c(u, a, 'name') &&
            c(u, a, 'dataIndex') &&
            c(u, a, 'dataType') &&
            (!s.filterForExposedEvent ||
              s.filterForExposedEvent(e, t.otherQuery, i, a))
          );
          function c(f, d, v, g) {
            return null == f[v] || d[g || v] === f[v];
          }
        }),
        (r.prototype.afterTrigger = function () {
          this.eventInfo = null;
        }),
        r
      );
    })(),
    a0 = ['symbol', 'symbolSize', 'symbolRotate', 'symbolOffset'],
    nC = a0.concat(['symbolKeepAspect']),
    DO = {
      createOnAllSeries: !0,
      performRawSeries: !0,
      reset: function (r, e) {
        var t = r.getData();
        if (
          (r.legendIcon && t.setVisual('legendIcon', r.legendIcon),
          r.hasSymbolVisual)
        ) {
          for (var n = {}, i = {}, a = !1, o = 0; o < a0.length; o++) {
            var s = a0[o],
              l = r.get(s);
            fe(l) ? ((a = !0), (i[s] = l)) : (n[s] = l);
          }
          if (
            ((n.symbol = n.symbol || r.defaultSymbol),
            t.setVisual(
              nt(
                {
                  legendIcon: r.legendIcon || n.symbol,
                  symbolKeepAspect: r.get('symbolKeepAspect'),
                },
                n
              )
            ),
            !e.isSeriesFiltered(r))
          ) {
            var u = Ne(i);
            return {
              dataEach: a
                ? function c(f, d) {
                    for (
                      var v = r.getRawValue(d), g = r.getDataParams(d), m = 0;
                      m < u.length;
                      m++
                    ) {
                      var y = u[m];
                      f.setItemVisual(d, y, i[y](v, g));
                    }
                  }
                : null,
            };
          }
        }
      },
    },
    TO = {
      createOnAllSeries: !0,
      performRawSeries: !0,
      reset: function (r, e) {
        if (r.hasSymbolVisual && !e.isSeriesFiltered(r))
          return {
            dataEach: r.getData().hasItemOption
              ? function n(i, a) {
                  for (var o = i.getItemModel(a), s = 0; s < nC.length; s++) {
                    var l = nC[s],
                      u = o.getShallow(l, !0);
                    null != u && i.setItemVisual(a, l, u);
                  }
                }
              : null,
          };
      },
    };
  function o0(r, e, t) {
    switch (t) {
      case 'color':
        return r.getItemVisual(e, 'style')[r.getVisual('drawType')];
      case 'opacity':
        return r.getItemVisual(e, 'style').opacity;
      case 'symbol':
      case 'symbolSize':
      case 'liftZ':
        return r.getItemVisual(e, t);
      default:
        console.warn('Unknown visual type ' + t);
    }
  }
  function Td(r, e) {
    switch (e) {
      case 'color':
        return r.getVisual('style')[r.getVisual('drawType')];
      case 'opacity':
        return r.getVisual('style').opacity;
      case 'symbol':
      case 'symbolSize':
      case 'liftZ':
        return r.getVisual(e);
      default:
        console.warn('Unknown visual type ' + e);
    }
  }
  function iC(r, e, t, n) {
    switch (t) {
      case 'color':
        (r.ensureUniqueItemVisual(e, 'style')[r.getVisual('drawType')] = n),
          r.setItemVisual(e, 'colorFromPalette', !1);
        break;
      case 'opacity':
        r.ensureUniqueItemVisual(e, 'style').opacity = n;
        break;
      case 'symbol':
      case 'symbolSize':
      case 'liftZ':
        r.setItemVisual(e, t, n);
        break;
      default:
        console.warn('Unknown visual type ' + t);
    }
  }
  function aC(r, e) {
    function t(n, i) {
      var a = [];
      return (
        n.eachComponent(
          { mainType: 'series', subType: r, query: i },
          function (o) {
            a.push(o.seriesIndex);
          }
        ),
        a
      );
    }
    F(
      [
        [r + 'ToggleSelect', 'toggleSelect'],
        [r + 'Select', 'select'],
        [r + 'UnSelect', 'unselect'],
      ],
      function (n) {
        e(n[0], function (i, a, o) {
          un((i = nt({}, i)).type, n[1]),
            o.dispatchAction(nt(i, { type: n[1], seriesIndex: t(a, i) }));
        });
      }
    );
  }
  function Hf(r, e, t, n, i) {
    var a = r + e;
    t.isSilent(a) ||
      (oa('event ' + a + ' is deprecated.'),
      n.eachComponent({ mainType: 'series', subType: 'pie' }, function (o) {
        for (
          var s = o.seriesIndex,
            l = o.option.selectedMap,
            u = i.selected,
            c = 0;
          c < u.length;
          c++
        )
          if (u[c].seriesIndex === s) {
            var f = o.getData(),
              d = x(f, i.fromActionPayload);
            t.trigger(a, {
              type: a,
              seriesId: o.id,
              name: Tt(d) ? f.getName(d[0]) : f.getName(d),
              selected: ht(l) ? l : nt({}, l),
            });
          }
      }));
  }
  function gc(r, e, t) {
    for (var n; r && (!e(r) || ((n = r), !t)); ) r = r.__hostTarget || r.parent;
    return n;
  }
  var MO = Math.round(9 * Math.random()),
    LO = 'function' == typeof Object.defineProperty,
    IO = (function () {
      function r() {
        this._id = '__ec_inner_' + MO++;
      }
      return (
        (r.prototype.get = function (e) {
          return this._guard(e)[this._id];
        }),
        (r.prototype.set = function (e, t) {
          var n = this._guard(e);
          return (
            LO
              ? Object.defineProperty(n, this._id, {
                  value: t,
                  enumerable: !1,
                  configurable: !0,
                })
              : (n[this._id] = t),
            this
          );
        }),
        (r.prototype.delete = function (e) {
          return !!this.has(e) && (delete this._guard(e)[this._id], !0);
        }),
        (r.prototype.has = function (e) {
          return !!this._guard(e)[this._id];
        }),
        (r.prototype._guard = function (e) {
          if (e !== Object(e))
            throw TypeError('Value of WeakMap is not a non-null object.');
          return e;
        }),
        r
      );
    })(),
    kO = Lr.extend({
      type: 'triangle',
      shape: { cx: 0, cy: 0, width: 0, height: 0 },
      buildPath: function (r, e) {
        var t = e.cx,
          n = e.cy,
          i = e.width / 2,
          a = e.height / 2;
        r.moveTo(t, n - a),
          r.lineTo(t + i, n + a),
          r.lineTo(t - i, n + a),
          r.closePath();
      },
    }),
    EO = Lr.extend({
      type: 'diamond',
      shape: { cx: 0, cy: 0, width: 0, height: 0 },
      buildPath: function (r, e) {
        var t = e.cx,
          n = e.cy,
          i = e.width / 2,
          a = e.height / 2;
        r.moveTo(t, n - a),
          r.lineTo(t + i, n),
          r.lineTo(t, n + a),
          r.lineTo(t - i, n),
          r.closePath();
      },
    }),
    PO = Lr.extend({
      type: 'pin',
      shape: { x: 0, y: 0, width: 0, height: 0 },
      buildPath: function (r, e) {
        var t = e.x,
          n = e.y,
          i = (e.width / 5) * 3,
          a = Math.max(i, e.height),
          o = i / 2,
          s = (o * o) / (a - o),
          l = n - a + o + s,
          u = Math.asin(s / o),
          c = Math.cos(u) * o,
          f = Math.sin(u),
          d = Math.cos(u),
          v = 0.6 * o,
          g = 0.7 * o;
        r.moveTo(t - c, l + s),
          r.arc(t, l, o, Math.PI - u, 2 * Math.PI + u),
          r.bezierCurveTo(t + c - f * v, l + s + d * v, t, n - g, t, n),
          r.bezierCurveTo(t, n - g, t - c + f * v, l + s + d * v, t - c, l + s),
          r.closePath();
      },
    }),
    RO = Lr.extend({
      type: 'arrow',
      shape: { x: 0, y: 0, width: 0, height: 0 },
      buildPath: function (r, e) {
        var t = e.height,
          i = e.x,
          a = e.y,
          o = (e.width / 3) * 2;
        r.moveTo(i, a),
          r.lineTo(i + o, a + t),
          r.lineTo(i, a + (t / 4) * 3),
          r.lineTo(i - o, a + t),
          r.lineTo(i, a),
          r.closePath();
      },
    }),
    FO = {
      line: function (r, e, t, n, i) {
        (i.x1 = r), (i.y1 = e + n / 2), (i.x2 = r + t), (i.y2 = e + n / 2);
      },
      rect: function (r, e, t, n, i) {
        (i.x = r), (i.y = e), (i.width = t), (i.height = n);
      },
      roundRect: function (r, e, t, n, i) {
        (i.x = r),
          (i.y = e),
          (i.width = t),
          (i.height = n),
          (i.r = Math.min(t, n) / 4);
      },
      square: function (r, e, t, n, i) {
        var a = Math.min(t, n);
        (i.x = r), (i.y = e), (i.width = a), (i.height = a);
      },
      circle: function (r, e, t, n, i) {
        (i.cx = r + t / 2), (i.cy = e + n / 2), (i.r = Math.min(t, n) / 2);
      },
      diamond: function (r, e, t, n, i) {
        (i.cx = r + t / 2), (i.cy = e + n / 2), (i.width = t), (i.height = n);
      },
      pin: function (r, e, t, n, i) {
        (i.x = r + t / 2), (i.y = e + n / 2), (i.width = t), (i.height = n);
      },
      arrow: function (r, e, t, n, i) {
        (i.x = r + t / 2), (i.y = e + n / 2), (i.width = t), (i.height = n);
      },
      triangle: function (r, e, t, n, i) {
        (i.cx = r + t / 2), (i.cy = e + n / 2), (i.width = t), (i.height = n);
      },
    },
    Kp = {};
  F(
    {
      line: Jn,
      rect: Rr,
      roundRect: Rr,
      square: Rr,
      circle: to,
      diamond: EO,
      pin: PO,
      arrow: RO,
      triangle: kO,
    },
    function (r, e) {
      Kp[e] = new r();
    }
  );
  var BO = Lr.extend({
    type: 'symbol',
    shape: { symbolType: '', x: 0, y: 0, width: 0, height: 0 },
    calculateTextPosition: function (r, e, t) {
      var n = Pu(r, e, t),
        i = this.shape;
      return (
        i &&
          'pin' === i.symbolType &&
          'inside' === e.position &&
          (n.y = t.y + 0.4 * t.height),
        n
      );
    },
    buildPath: function (r, e, t) {
      var n = e.symbolType;
      if ('none' !== n) {
        var i = Kp[n];
        i || (i = Kp[(n = 'rect')]),
          FO[n](e.x, e.y, e.width, e.height, i.shape),
          i.buildPath(r, i.shape, t);
      }
    },
  });
  function NO(r, e) {
    if ('image' !== this.type) {
      var t = this.style;
      this.__isEmptyBrush
        ? ((t.stroke = r), (t.fill = e || '#fff'), (t.lineWidth = 2))
        : 'line' === this.shape.symbolType
        ? (t.stroke = r)
        : (t.fill = r),
        this.markRedraw();
    }
  }
  function En(r, e, t, n, i, a, o) {
    var l,
      s = 0 === r.indexOf('empty');
    return (
      s && (r = r.substr(5, 1).toLowerCase() + r.substr(6)),
      ((l =
        0 === r.indexOf('image://')
          ? vy(r.slice(8), new it(e, t, n, i), o ? 'center' : 'cover')
          : 0 === r.indexOf('path://')
          ? od(r.slice(7), {}, new it(e, t, n, i), o ? 'center' : 'cover')
          : new BO({
              shape: { symbolType: r, x: e, y: t, width: n, height: i },
            })).__isEmptyBrush = s),
      (l.setColor = NO),
      a && l.setColor(a),
      l
    );
  }
  function Gf(r) {
    return Tt(r) || (r = [+r, +r]), [r[0] || 0, r[1] || 0];
  }
  function mc(r, e) {
    if (null != r)
      return (
        Tt(r) || (r = [r, r]),
        [Te(r[0], e[0]) || 0, Te(B(r[1], r[0]), e[1]) || 0]
      );
  }
  function yc(r) {
    return isFinite(r);
  }
  function s0(r, e, t) {
    for (
      var n =
          'radial' === e.type
            ? (function VO(r, e, t) {
                var n = t.width,
                  i = t.height,
                  a = Math.min(n, i),
                  o = null == e.x ? 0.5 : e.x,
                  s = null == e.y ? 0.5 : e.y,
                  l = null == e.r ? 0.5 : e.r;
                return (
                  e.global || ((o = o * n + t.x), (s = s * i + t.y), (l *= a)),
                  (o = yc(o) ? o : 0.5),
                  (s = yc(s) ? s : 0.5),
                  (l = l >= 0 && yc(l) ? l : 0.5),
                  r.createRadialGradient(o, s, 0, o, s, l)
                );
              })(r, e, t)
            : (function zO(r, e, t) {
                var n = null == e.x ? 0 : e.x,
                  i = null == e.x2 ? 1 : e.x2,
                  a = null == e.y ? 0 : e.y,
                  o = null == e.y2 ? 0 : e.y2;
                return (
                  e.global ||
                    ((n = n * t.width + t.x),
                    (i = i * t.width + t.x),
                    (a = a * t.height + t.y),
                    (o = o * t.height + t.y)),
                  (n = yc(n) ? n : 0),
                  (i = yc(i) ? i : 1),
                  (a = yc(a) ? a : 0),
                  (o = yc(o) ? o : 0),
                  r.createLinearGradient(n, a, i, o)
                );
              })(r, e, t),
        i = e.colorStops,
        a = 0;
      a < i.length;
      a++
    )
      n.addColorStop(i[a].offset, i[a].color);
    return n;
  }
  function Qp(r) {
    return parseInt(r, 10);
  }
  function Wf(r, e, t) {
    var n = ['width', 'height'][e],
      i = ['clientWidth', 'clientHeight'][e],
      a = ['paddingLeft', 'paddingTop'][e],
      o = ['paddingRight', 'paddingBottom'][e];
    if (null != t[n] && 'auto' !== t[n]) return parseFloat(t[n]);
    var s = document.defaultView.getComputedStyle(r);
    return (
      ((r[i] || Qp(s[n]) || Qp(r.style[n])) -
        (Qp(s[a]) || 0) -
        (Qp(s[o]) || 0)) |
      0
    );
  }
  function l0(r) {
    var e = r.style,
      t =
        e.lineDash &&
        e.lineWidth > 0 &&
        (function GO(r, e) {
          return r && 'solid' !== r && e > 0
            ? 'dashed' === r
              ? [4 * e, 2 * e]
              : 'dotted' === r
              ? [e]
              : U(r)
              ? [r]
              : Tt(r)
              ? r
              : null
            : null;
        })(e.lineDash, e.lineWidth),
      n = e.lineDashOffset;
    if (t) {
      var i = e.strokeNoScale && r.getLineScale ? r.getLineScale() : 1;
      i &&
        1 !== i &&
        ((t = Ut(t, function (a) {
          return a / i;
        })),
        (n /= i));
    }
    return [t, n];
  }
  var WO = new os(!0);
  function Jp(r) {
    var e = r.stroke;
    return !(null == e || 'none' === e || !(r.lineWidth > 0));
  }
  function oC(r) {
    return 'string' == typeof r && 'none' !== r;
  }
  function tg(r) {
    var e = r.fill;
    return null != e && 'none' !== e;
  }
  function sC(r, e) {
    if (null != e.fillOpacity && 1 !== e.fillOpacity) {
      var t = r.globalAlpha;
      (r.globalAlpha = e.fillOpacity * e.opacity),
        r.fill(),
        (r.globalAlpha = t);
    } else r.fill();
  }
  function lC(r, e) {
    if (null != e.strokeOpacity && 1 !== e.strokeOpacity) {
      var t = r.globalAlpha;
      (r.globalAlpha = e.strokeOpacity * e.opacity),
        r.stroke(),
        (r.globalAlpha = t);
    } else r.stroke();
  }
  function u0(r, e, t) {
    var n = wr(e.image, e.__image, t);
    if (zn(n)) {
      var i = r.createPattern(n, e.repeat || 'repeat');
      if ('function' == typeof DOMMatrix && i && i.setTransform) {
        var a = new DOMMatrix();
        a.translateSelf(e.x || 0, e.y || 0),
          a.rotateSelf(0, 0, (e.rotation || 0) * Fr),
          a.scaleSelf(e.scaleX || 1, e.scaleY || 1),
          i.setTransform(a);
      }
      return i;
    }
  }
  var uC = ['shadowBlur', 'shadowOffsetX', 'shadowOffsetY'],
    cC = [
      ['lineCap', 'butt'],
      ['lineJoin', 'miter'],
      ['miterLimit', 10],
    ];
  function fC(r, e, t, n, i) {
    var a = !1;
    if (!n && e === (t = t || {})) return !1;
    if (n || e.opacity !== t.opacity) {
      Ta(r, i), (a = !0);
      var o = Math.max(Math.min(e.opacity, 1), 0);
      r.globalAlpha = isNaN(o) ? Fa.opacity : o;
    }
    (n || e.blend !== t.blend) &&
      (a || (Ta(r, i), (a = !0)),
      (r.globalCompositeOperation = e.blend || Fa.blend));
    for (var s = 0; s < uC.length; s++) {
      var l = uC[s];
      (n || e[l] !== t[l]) &&
        (a || (Ta(r, i), (a = !0)), (r[l] = r.dpr * (e[l] || 0)));
    }
    return (
      (n || e.shadowColor !== t.shadowColor) &&
        (a || (Ta(r, i), (a = !0)),
        (r.shadowColor = e.shadowColor || Fa.shadowColor)),
      a
    );
  }
  function hC(r, e, t, n, i) {
    var a = Ad(e, i.inHover),
      o = n ? null : (t && Ad(t, i.inHover)) || {};
    if (a === o) return !1;
    var s = fC(r, a, o, n, i);
    if (
      ((n || a.fill !== o.fill) &&
        (s || (Ta(r, i), (s = !0)), oC(a.fill) && (r.fillStyle = a.fill)),
      (n || a.stroke !== o.stroke) &&
        (s || (Ta(r, i), (s = !0)), oC(a.stroke) && (r.strokeStyle = a.stroke)),
      (n || a.opacity !== o.opacity) &&
        (s || (Ta(r, i), (s = !0)),
        (r.globalAlpha = null == a.opacity ? 1 : a.opacity)),
      e.hasStroke())
    ) {
      var u =
        a.lineWidth /
        (a.strokeNoScale && e.getLineScale ? e.getLineScale() : 1);
      r.lineWidth !== u && (s || (Ta(r, i), (s = !0)), (r.lineWidth = u));
    }
    for (var c = 0; c < cC.length; c++) {
      var f = cC[c],
        d = f[0];
      (n || a[d] !== o[d]) &&
        (s || (Ta(r, i), (s = !0)), (r[d] = a[d] || f[1]));
    }
    return s;
  }
  function dC(r, e) {
    var t = e.transform,
      n = r.dpr || 1;
    t
      ? r.setTransform(
          n * t[0],
          n * t[1],
          n * t[2],
          n * t[3],
          n * t[4],
          n * t[5]
        )
      : r.setTransform(n, 0, 0, n, 0, 0);
  }
  var vC = 1,
    pC = 2,
    gC = 3,
    mC = 4;
  function Ta(r, e) {
    e.batchFill && r.fill(),
      e.batchStroke && r.stroke(),
      (e.batchFill = ''),
      (e.batchStroke = '');
  }
  function Ad(r, e) {
    return (e && r.__hoverStyle) || r.style;
  }
  function c0(r, e) {
    xc(r, e, { inHover: !1, viewWidth: 0, viewHeight: 0 }, !0);
  }
  function xc(r, e, t, n) {
    var i = e.transform;
    if (!e.shouldBePainted(t.viewWidth, t.viewHeight, !1, !1))
      return (e.__dirty &= ~ta), void (e.__isRendered = !1);
    var a = e.__clipPaths,
      o = t.prevElClipPaths,
      s = !1,
      l = !1;
    if (
      ((!o ||
        (function HO(r, e) {
          if (r === e || (!r && !e)) return !1;
          if (!r || !e || r.length !== e.length) return !0;
          for (var t = 0; t < r.length; t++) if (r[t] !== e[t]) return !0;
          return !1;
        })(a, o)) &&
        (o &&
          o.length &&
          (Ta(r, t),
          r.restore(),
          (l = s = !0),
          (t.prevElClipPaths = null),
          (t.allClipped = !1),
          (t.prevEl = null)),
        a &&
          a.length &&
          (Ta(r, t),
          r.save(),
          (function ZO(r, e, t) {
            for (var n = !1, i = 0; i < r.length; i++) {
              var a = r[i];
              (n = n || a.isZeroArea()),
                dC(e, a),
                e.beginPath(),
                a.buildPath(e, a.shape),
                e.clip();
            }
            t.allClipped = n;
          })(a, r, t),
          (s = !0)),
        (t.prevElClipPaths = a)),
      t.allClipped)
    )
      e.__isRendered = !1;
    else {
      e.beforeBrush && e.beforeBrush(), e.innerBeforeBrush();
      var u = t.prevEl;
      u || (l = s = !0);
      var c =
        e instanceof Lr &&
        e.autoBatch &&
        (function jO(r) {
          var e = tg(r),
            t = Jp(r);
          return !(
            r.lineDash ||
            !(+e ^ +t) ||
            (e && 'string' != typeof r.fill) ||
            (t && 'string' != typeof r.stroke) ||
            r.strokePercent < 1 ||
            r.strokeOpacity < 1 ||
            r.fillOpacity < 1
          );
        })(e.style);
      s ||
      (function qO(r, e) {
        return r && e
          ? r[0] !== e[0] ||
              r[1] !== e[1] ||
              r[2] !== e[2] ||
              r[3] !== e[3] ||
              r[4] !== e[4] ||
              r[5] !== e[5]
          : !(!r && !e);
      })(i, u.transform)
        ? (Ta(r, t), dC(r, e))
        : c || Ta(r, t);
      var f = Ad(e, t.inHover);
      e instanceof Lr
        ? (t.lastDrawType !== vC && ((l = !0), (t.lastDrawType = vC)),
          hC(r, e, u, l, t),
          (!c || (!t.batchFill && !t.batchStroke)) && r.beginPath(),
          (function $O(r, e, t, n) {
            var i,
              a = Jp(t),
              o = tg(t),
              s = t.strokePercent,
              l = s < 1,
              u = !e.path;
            (!e.silent || l) && u && e.createPathProxy();
            var c = e.path || WO,
              f = e.__dirty;
            if (!n) {
              var d = t.fill,
                v = t.stroke,
                g = o && !!d.colorStops,
                m = a && !!v.colorStops,
                y = o && !!d.image,
                b = a && !!v.image,
                w = void 0,
                C = void 0,
                D = void 0,
                L = void 0,
                M = void 0;
              (g || m) && (M = e.getBoundingRect()),
                g &&
                  ((w = f ? s0(r, d, M) : e.__canvasFillGradient),
                  (e.__canvasFillGradient = w)),
                m &&
                  ((C = f ? s0(r, v, M) : e.__canvasStrokeGradient),
                  (e.__canvasStrokeGradient = C)),
                y &&
                  ((D =
                    f || !e.__canvasFillPattern
                      ? u0(r, d, e)
                      : e.__canvasFillPattern),
                  (e.__canvasFillPattern = D)),
                b &&
                  ((L =
                    f || !e.__canvasStrokePattern
                      ? u0(r, v, e)
                      : e.__canvasStrokePattern),
                  (e.__canvasStrokePattern = D)),
                g ? (r.fillStyle = w) : y && (D ? (r.fillStyle = D) : (o = !1)),
                m
                  ? (r.strokeStyle = C)
                  : b && (L ? (r.strokeStyle = L) : (a = !1));
            }
            var O,
              z,
              E = e.getGlobalScale();
            c.setScale(E[0], E[1], e.segmentIgnoreThreshold),
              r.setLineDash && t.lineDash && ((O = (i = l0(e))[0]), (z = i[1]));
            var H = !0;
            (u || f & Ms) &&
              (c.setDPR(r.dpr),
              l ? c.setContext(null) : (c.setContext(r), (H = !1)),
              c.reset(),
              e.buildPath(c, e.shape, n),
              c.toStatic(),
              e.pathUpdated()),
              H && c.rebuildPath(r, l ? s : 1),
              O && (r.setLineDash(O), (r.lineDashOffset = z)),
              n ||
                (t.strokeFirst
                  ? (a && lC(r, t), o && sC(r, t))
                  : (o && sC(r, t), a && lC(r, t))),
              O && r.setLineDash([]);
          })(r, e, f, c),
          c && ((t.batchFill = f.fill || ''), (t.batchStroke = f.stroke || '')))
        : e instanceof gf
        ? (t.lastDrawType !== gC && ((l = !0), (t.lastDrawType = gC)),
          hC(r, e, u, l, t),
          (function YO(r, e, t) {
            var n,
              i = t.text;
            if ((null != i && (i += ''), i)) {
              (r.font = t.font || ct),
                (r.textAlign = t.textAlign),
                (r.textBaseline = t.textBaseline);
              var a = void 0,
                o = void 0;
              r.setLineDash && t.lineDash && ((a = (n = l0(e))[0]), (o = n[1])),
                a && (r.setLineDash(a), (r.lineDashOffset = o)),
                t.strokeFirst
                  ? (Jp(t) && r.strokeText(i, t.x, t.y),
                    tg(t) && r.fillText(i, t.x, t.y))
                  : (tg(t) && r.fillText(i, t.x, t.y),
                    Jp(t) && r.strokeText(i, t.x, t.y)),
                a && r.setLineDash([]);
            }
          })(r, e, f))
        : e instanceof ai
        ? (t.lastDrawType !== pC && ((l = !0), (t.lastDrawType = pC)),
          (function XO(r, e, t, n, i) {
            fC(r, Ad(e, i.inHover), t && Ad(t, i.inHover), n, i);
          })(r, e, u, l, t),
          (function UO(r, e, t) {
            var n = (e.__image = wr(t.image, e.__image, e, e.onload));
            if (n && zn(n)) {
              var i = t.x || 0,
                a = t.y || 0,
                o = e.getWidth(),
                s = e.getHeight(),
                l = n.width / n.height;
              if (
                (null == o && null != s
                  ? (o = s * l)
                  : null == s && null != o
                  ? (s = o / l)
                  : null == o && null == s && ((o = n.width), (s = n.height)),
                t.sWidth && t.sHeight)
              )
                r.drawImage(
                  n,
                  (u = t.sx || 0),
                  (c = t.sy || 0),
                  t.sWidth,
                  t.sHeight,
                  i,
                  a,
                  o,
                  s
                );
              else if (t.sx && t.sy) {
                var u, c;
                r.drawImage(
                  n,
                  (u = t.sx),
                  (c = t.sy),
                  o - u,
                  s - c,
                  i,
                  a,
                  o,
                  s
                );
              } else r.drawImage(n, i, a, o, s);
            }
          })(r, e, f))
        : e.getTemporalDisplayables &&
          (t.lastDrawType !== mC && ((l = !0), (t.lastDrawType = mC)),
          (function KO(r, e, t) {
            var n = e.getDisplayables(),
              i = e.getTemporalDisplayables();
            r.save();
            var o,
              s,
              a = {
                prevElClipPaths: null,
                prevEl: null,
                allClipped: !1,
                viewWidth: t.viewWidth,
                viewHeight: t.viewHeight,
                inHover: t.inHover,
              };
            for (o = e.getCursor(), s = n.length; o < s; o++)
              (l = n[o]).beforeBrush && l.beforeBrush(),
                l.innerBeforeBrush(),
                xc(r, l, a, o === s - 1),
                l.innerAfterBrush(),
                l.afterBrush && l.afterBrush(),
                (a.prevEl = l);
            for (var u = 0, c = i.length; u < c; u++) {
              var l;
              (l = i[u]).beforeBrush && l.beforeBrush(),
                l.innerBeforeBrush(),
                xc(r, l, a, u === c - 1),
                l.innerAfterBrush(),
                l.afterBrush && l.afterBrush(),
                (a.prevEl = l);
            }
            e.clearTemporalDisplayables(), (e.notClear = !0), r.restore();
          })(r, e, t)),
        c && n && Ta(r, t),
        e.innerAfterBrush(),
        e.afterBrush && e.afterBrush(),
        (t.prevEl = e),
        (e.__dirty = 0),
        (e.__isRendered = !0);
    }
  }
  var f0 = new IO(),
    yC = new Za(100),
    xC = [
      'symbol',
      'symbolSize',
      'symbolKeepAspect',
      'color',
      'backgroundColor',
      'dashArrayX',
      'dashArrayY',
      'maxTileWidth',
      'maxTileHeight',
    ];
  function $f(r, e) {
    if ('none' === r) return null;
    var t = e.getDevicePixelRatio(),
      n = e.getZr(),
      i = 'svg' === n.painter.type;
    r.dirty && f0.delete(r);
    var a = f0.get(r);
    if (a) return a;
    var o = Ot(r, {
      symbol: 'rect',
      symbolSize: 1,
      symbolKeepAspect: !0,
      color: 'rgba(0, 0, 0, 0.2)',
      backgroundColor: null,
      dashArrayX: 5,
      dashArrayY: 5,
      rotation: 0,
      maxTileWidth: 512,
      maxTileHeight: 512,
    });
    'none' === o.backgroundColor && (o.backgroundColor = null);
    var s = { repeat: 'repeat' };
    return (
      (function l(u) {
        for (var c = [t], f = !0, d = 0; d < xC.length; ++d) {
          var v = o[xC[d]];
          if (null != v && !Tt(v) && !ht(v) && !U(v) && 'boolean' != typeof v) {
            f = !1;
            break;
          }
          c.push(v);
        }
        var g;
        if (f) {
          g = c.join(',') + (i ? '-svg' : '');
          var m = yC.get(g);
          m && (i ? (u.svgElement = m) : (u.image = m));
        }
        var O,
          y = _C(o.dashArrayX),
          b = (function QO(r) {
            if (!r || ('object' == typeof r && 0 === r.length)) return [0, 0];
            if (U(r)) {
              var e = Math.ceil(r);
              return [e, e];
            }
            var t = Ut(r, function (n) {
              return Math.ceil(n);
            });
            return r.length % 2 ? t.concat(t) : t;
          })(o.dashArrayY),
          w = bC(o.symbol),
          C = (function JO(r) {
            return Ut(r, function (e) {
              return SC(e);
            });
          })(y),
          D = SC(b),
          L = !i && Zt.createCanvas(),
          M = i && { tag: 'g', attrs: {}, key: 'dcl', children: [] },
          E = (function z() {
            for (var G = 1, X = 0, K = C.length; X < K; ++X) G = Ol(G, C[X]);
            var tt = 1;
            for (X = 0, K = w.length; X < K; ++X) tt = Ol(tt, w[X].length);
            var ot = D * C.length * w.length,
              pt = function (Xt) {
                console.warn(
                  'Calculated decal size is greater than ' +
                    Xt +
                    ' due to decal option settings so ' +
                    Xt +
                    ' is used for the decal size. Please consider changing the decal option to make a smaller decal or set ' +
                    Xt +
                    ' to be larger to avoid incontinuity.'
                );
              };
            return (
              (G *= tt) > o.maxTileWidth && pt('maxTileWidth'),
              ot > o.maxTileHeight && pt('maxTileHeight'),
              {
                width: Math.max(1, Math.min(G, o.maxTileWidth)),
                height: Math.max(1, Math.min(ot, o.maxTileHeight)),
              }
            );
          })();
        L &&
          ((L.width = E.width * t),
          (L.height = E.height * t),
          (O = L.getContext('2d'))),
          (function H() {
            O &&
              (O.clearRect(0, 0, L.width, L.height),
              o.backgroundColor &&
                ((O.fillStyle = o.backgroundColor),
                O.fillRect(0, 0, L.width, L.height)));
            for (var G = 0, X = 0; X < b.length; ++X) G += b[X];
            if (!(G <= 0))
              for (var K = -D, tt = 0, ot = 0, pt = 0; K < E.height; ) {
                if (tt % 2 == 0) {
                  for (
                    var Xt = (ot / 2) % w.length, Vt = 0, re = 0, ye = 0;
                    Vt < 2 * E.width;

                  ) {
                    var ke = 0;
                    for (X = 0; X < y[pt].length; ++X) ke += y[pt][X];
                    if (ke <= 0) break;
                    if (re % 2 == 0) {
                      var Ye = 0.5 * (1 - o.symbolSize);
                      nr(
                        Vt + y[pt][re] * Ye,
                        K + b[tt] * Ye,
                        y[pt][re] * o.symbolSize,
                        b[tt] * o.symbolSize,
                        w[Xt][(ye / 2) % w[Xt].length]
                      );
                    }
                    (Vt += y[pt][re]), ++ye, ++re === y[pt].length && (re = 0);
                  }
                  ++pt === y.length && (pt = 0);
                }
                (K += b[tt]), ++ot, ++tt === b.length && (tt = 0);
              }
            function nr(Tr, dr, Ze, vr, bn) {
              var Vr = i ? 1 : t,
                An = En(
                  bn,
                  Tr * Vr,
                  dr * Vr,
                  Ze * Vr,
                  vr * Vr,
                  o.color,
                  o.symbolKeepAspect
                );
              if (i) {
                var Cn = n.painter.renderOneToVNode(An);
                Cn && M.children.push(Cn);
              } else c0(O, An);
            }
          })(),
          f && yC.put(g, L || M),
          (u.image = L),
          (u.svgElement = M),
          (u.svgWidth = E.width),
          (u.svgHeight = E.height);
      })(s),
      (s.rotation = o.rotation),
      (s.scaleX = s.scaleY = i ? 1 : 1 / t),
      f0.set(r, s),
      (r.dirty = !1),
      s
    );
  }
  function bC(r) {
    if (!r || 0 === r.length) return [['rect']];
    if (ht(r)) return [[r]];
    for (var e = !0, t = 0; t < r.length; ++t)
      if (!ht(r[t])) {
        e = !1;
        break;
      }
    if (e) return bC([r]);
    var n = [];
    for (t = 0; t < r.length; ++t) ht(r[t]) ? n.push([r[t]]) : n.push(r[t]);
    return n;
  }
  function _C(r) {
    if (!r || 0 === r.length) return [[0, 0]];
    if (U(r)) return [[(e = Math.ceil(r)), e]];
    for (var t = !0, n = 0; n < r.length; ++n)
      if (!U(r[n])) {
        t = !1;
        break;
      }
    if (t) return _C([r]);
    var i = [];
    for (n = 0; n < r.length; ++n)
      if (U(r[n])) {
        var e = Math.ceil(r[n]);
        i.push([e, e]);
      } else
        (e = Ut(r[n], function (s) {
          return Math.ceil(s);
        })),
          i.push(e.length % 2 == 1 ? e.concat(e) : e);
    return i;
  }
  function SC(r) {
    for (var e = 0, t = 0; t < r.length; ++t) e += r[t];
    return r.length % 2 == 1 ? 2 * e : e;
  }
  var Fo = new ci(),
    eg = {};
  function wC(r) {
    return eg[r] || qn('Implementation of ' + r + " doesn't exists."), eg[r];
  }
  var AC = {
      PROCESSOR: { FILTER: 1e3, SERIES_FILTER: 800, STATISTIC: 5e3 },
      VISUAL: {
        LAYOUT: 1e3,
        PROGRESSIVE_LAYOUT: 1100,
        GLOBAL: 2e3,
        CHART: 3e3,
        POST_CHART_LAYOUT: 4600,
        COMPONENT: 4e3,
        BRUSH: 5e3,
        CHART_ITEM: 4500,
        ARIA: 6e3,
        DECAL: 7e3,
      },
    },
    Xi = '__flagInMainProcess',
    Aa = '__pendingUpdate',
    d0 = '__needsUpdateStatus',
    MC = /^[a-zA-Z0-9_]+$/,
    v0 = '__connectUpdateStatus';
  function IC(r) {
    return function () {
      for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
      if (!this.isDisposed()) return EC(this, r, e);
      Na(this.id);
    };
  }
  function kC(r) {
    return function () {
      for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
      return EC(this, r, e);
    };
  }
  function EC(r, e, t) {
    return (t[0] = t[0] && t[0].toLowerCase()), ci.prototype[e].apply(r, t);
  }
  var PC = (function (r) {
      function e() {
        return (null !== r && r.apply(this, arguments)) || this;
      }
      return ut(e, r), e;
    })(ci),
    RC = PC.prototype;
  (RC.on = kC('on')), (RC.off = kC('off'));
  var Uf,
    p0,
    ng,
    Ql,
    g0,
    m0,
    y0,
    Md,
    Ld,
    OC,
    FC,
    x0,
    BC,
    ig,
    NC,
    zC,
    so,
    VC,
    ag = (function (r) {
      function e(t, n, i) {
        var a = r.call(this, new CO()) || this;
        (a._chartsViews = []),
          (a._chartsMap = {}),
          (a._componentsViews = []),
          (a._componentsMap = {}),
          (a._pendingActions = []),
          (i = i || {}),
          ht(n) && (n = HC[n]),
          (a._dom = t);
        var o = 'canvas',
          s = 'auto',
          l = !1,
          u = Lt.hasGlobalWindow ? window : global;
        (o = u.__ECHARTS__DEFAULT__RENDERER__ || o),
          (s = B(u.__ECHARTS__DEFAULT__COARSE_POINTER, s));
        var f = (a._zr = Vh(t, {
          renderer: i.renderer || o,
          devicePixelRatio: i.devicePixelRatio,
          width: i.width,
          height: i.height,
          ssr: i.ssr,
          useDirtyRect: B(
            i.useDirtyRect,
            (l = u.__ECHARTS__DEFAULT__USE_DIRTY_RECT__ ?? l)
          ),
          useCoarsePointer: B(i.useCoarsePointer, s),
          pointerSize: i.pointerSize,
        }));
        (a._ssr = i.ssr),
          (a._throttledZrFlush = Xp(kt(f.flush, f), 17)),
          (n = ft(n)) && nw(n, !0),
          (a._theme = n),
          (a._locale = (function EP(r) {
            if (ht(r)) {
              var e = kp[r.toUpperCase()] || {};
              return 'ZH' === r || 'EN' === r
                ? ft(e)
                : Gt(ft(e), ft(kp[cd]), !1);
            }
            return Gt(ft(r), ft(kp[cd]), !1);
          })(i.locale || _S)),
          (a._coordSysMgr = new hc());
        var d = (a._api = NC(a));
        function v(g, m) {
          return g.__prio - m.__prio;
        }
        return (
          ii(sg, v),
          ii(_0, v),
          (a._scheduler = new qw(a, d, _0, sg)),
          (a._messageCenter = new PC()),
          a._initEvents(),
          (a.resize = kt(a.resize, a)),
          f.animation.on('frame', a._onframe, a),
          OC(f, a),
          FC(f, a),
          Rt(a),
          a
        );
      }
      return (
        ut(e, r),
        (e.prototype._onframe = function () {
          if (!this._disposed) {
            VC(this);
            var t = this._scheduler;
            if (this[Aa]) {
              var n = this[Aa].silent;
              this[Xi] = !0;
              try {
                Uf(this), Ql.update.call(this, null, this[Aa].updateParams);
              } catch (l) {
                throw ((this[Xi] = !1), (this[Aa] = null), l);
              }
              this._zr.flush(),
                (this[Xi] = !1),
                (this[Aa] = null),
                Md.call(this, n),
                Ld.call(this, n);
            } else if (t.unfinished) {
              var i = 1,
                a = this._model,
                o = this._api;
              t.unfinished = !1;
              do {
                var s = +new Date();
                t.performSeriesTasks(a),
                  t.performDataProcessorTasks(a),
                  m0(this, a),
                  t.performVisualTasks(a),
                  ig(this, this._model, o, 'remain', {}),
                  (i -= +new Date() - s);
              } while (i > 0 && t.unfinished);
              t.unfinished || this._zr.flush();
            }
          }
        }),
        (e.prototype.getDom = function () {
          return this._dom;
        }),
        (e.prototype.getId = function () {
          return this.id;
        }),
        (e.prototype.getZr = function () {
          return this._zr;
        }),
        (e.prototype.isSSR = function () {
          return this._ssr;
        }),
        (e.prototype.setOption = function (t, n, i) {
          if (this[Xi])
            qn('`setOption` should not be called during main process.');
          else if (this._disposed) Na(this.id);
          else {
            var a, o, s;
            if (
              (Y(n) &&
                ((i = n.lazyUpdate),
                (a = n.silent),
                (o = n.replaceMerge),
                (s = n.transition),
                (n = n.notMerge)),
              (this[Xi] = !0),
              !this._model || n)
            ) {
              var l = new sR(this._api),
                u = this._theme,
                c = (this._model = new Gy());
              (c.scheduler = this._scheduler),
                (c.ssr = this._ssr),
                c.init(null, null, null, u, this._locale, l);
            }
            this._model.setOption(t, { replaceMerge: o }, S0);
            var f = { seriesTransition: s, optionChanged: !0 };
            if (i)
              (this[Aa] = { silent: a, updateParams: f }),
                (this[Xi] = !1),
                this.getZr().wakeUp();
            else {
              try {
                Uf(this), Ql.update.call(this, null, f);
              } catch (d) {
                throw ((this[Aa] = null), (this[Xi] = !1), d);
              }
              this._ssr || this._zr.flush(),
                (this[Aa] = null),
                (this[Xi] = !1),
                Md.call(this, a),
                Ld.call(this, a);
            }
          }
        }),
        (e.prototype.setTheme = function () {
          oa('ECharts#setTheme() is DEPRECATED in ECharts 3.0');
        }),
        (e.prototype.getModel = function () {
          return this._model;
        }),
        (e.prototype.getOption = function () {
          return this._model && this._model.getOption();
        }),
        (e.prototype.getWidth = function () {
          return this._zr.getWidth();
        }),
        (e.prototype.getHeight = function () {
          return this._zr.getHeight();
        }),
        (e.prototype.getDevicePixelRatio = function () {
          return (
            this._zr.painter.dpr ||
            (Lt.hasGlobalWindow && window.devicePixelRatio) ||
            1
          );
        }),
        (e.prototype.getRenderedCanvas = function (t) {
          return (
            un('getRenderedCanvas', 'renderToCanvas'), this.renderToCanvas(t)
          );
        }),
        (e.prototype.renderToCanvas = function (t) {
          t = t || {};
          var n = this._zr.painter;
          if ('canvas' !== n.type)
            throw new Error(
              'renderToCanvas can only be used in the canvas renderer.'
            );
          return n.getRenderedCanvas({
            backgroundColor:
              t.backgroundColor || this._model.get('backgroundColor'),
            pixelRatio: t.pixelRatio || this.getDevicePixelRatio(),
          });
        }),
        (e.prototype.renderToSVGString = function (t) {
          t = t || {};
          var n = this._zr.painter;
          if ('svg' !== n.type)
            throw new Error(
              'renderToSVGString can only be used in the svg renderer.'
            );
          return n.renderToString({ useViewBox: t.useViewBox });
        }),
        (e.prototype.getSvgDataURL = function () {
          if (Lt.svgSupported) {
            var t = this._zr;
            return (
              F(t.storage.getDisplayList(), function (i) {
                i.stopAnimation(null, !0);
              }),
              t.painter.toDataURL()
            );
          }
        }),
        (e.prototype.getDataURL = function (t) {
          if (!this._disposed) {
            var i = this._model,
              a = [],
              o = this;
            F((t = t || {}).excludeComponents, function (l) {
              i.eachComponent({ mainType: l }, function (u) {
                var c = o._componentsMap[u.__viewId];
                c.group.ignore || (a.push(c), (c.group.ignore = !0));
              });
            });
            var s =
              'svg' === this._zr.painter.getType()
                ? this.getSvgDataURL()
                : this.renderToCanvas(t).toDataURL(
                    'image/' + ((t && t.type) || 'png')
                  );
            return (
              F(a, function (l) {
                l.group.ignore = !1;
              }),
              s
            );
          }
          Na(this.id);
        }),
        (e.prototype.getConnectedDataURL = function (t) {
          if (!this._disposed) {
            var n = 'svg' === t.type,
              i = this.group,
              a = Math.min,
              o = Math.max,
              s = 1 / 0;
            if (lg[i]) {
              var l = s,
                u = s,
                c = -s,
                f = -s,
                d = [],
                v = (t && t.pixelRatio) || this.getDevicePixelRatio();
              F(bc, function (C, D) {
                if (C.group === i) {
                  var L = n
                      ? C.getZr().painter.getSvgDom().innerHTML
                      : C.renderToCanvas(ft(t)),
                    M = C.getDom().getBoundingClientRect();
                  (l = a(M.left, l)),
                    (u = a(M.top, u)),
                    (c = o(M.right, c)),
                    (f = o(M.bottom, f)),
                    d.push({ dom: L, left: M.left, top: M.top });
                }
              });
              var g = (c *= v) - (l *= v),
                m = (f *= v) - (u *= v),
                y = Zt.createCanvas(),
                b = Vh(y, { renderer: n ? 'svg' : 'canvas' });
              if ((b.resize({ width: g, height: m }), n)) {
                var w = '';
                return (
                  F(d, function (C) {
                    w +=
                      '<g transform="translate(' +
                      (C.left - l) +
                      ',' +
                      (C.top - u) +
                      ')">' +
                      C.dom +
                      '</g>';
                  }),
                  (b.painter.getSvgRoot().innerHTML = w),
                  t.connectedBackgroundColor &&
                    b.painter.setBackgroundColor(t.connectedBackgroundColor),
                  b.refreshImmediately(),
                  b.painter.toDataURL()
                );
              }
              return (
                t.connectedBackgroundColor &&
                  b.add(
                    new Rr({
                      shape: { x: 0, y: 0, width: g, height: m },
                      style: { fill: t.connectedBackgroundColor },
                    })
                  ),
                F(d, function (C) {
                  var D = new ai({
                    style: {
                      x: C.left * v - l,
                      y: C.top * v - u,
                      image: C.dom,
                    },
                  });
                  b.add(D);
                }),
                b.refreshImmediately(),
                y.toDataURL('image/' + ((t && t.type) || 'png'))
              );
            }
            return this.getDataURL(t);
          }
          Na(this.id);
        }),
        (e.prototype.convertToPixel = function (t, n) {
          return g0(this, 'convertToPixel', t, n);
        }),
        (e.prototype.convertFromPixel = function (t, n) {
          return g0(this, 'convertFromPixel', t, n);
        }),
        (e.prototype.containPixel = function (t, n) {
          var a;
          if (!this._disposed)
            return (
              F(
                k(this._model, t),
                function (s, l) {
                  l.indexOf('Models') >= 0 &&
                    F(
                      s,
                      function (u) {
                        var c = u.coordinateSystem;
                        if (c && c.containPoint) a = a || !!c.containPoint(n);
                        else if ('seriesModels' === l) {
                          var f = this._chartsMap[u.__viewId];
                          f && f.containPoint
                            ? (a = a || f.containPoint(n, u))
                            : ln(
                                l +
                                  ': ' +
                                  (f
                                    ? 'The found component do not support containPoint.'
                                    : 'No view mapping to the found component.')
                              );
                        } else ln(l + ': containPoint is not supported');
                      },
                      this
                    );
                },
                this
              ),
              !!a
            );
          Na(this.id);
        }),
        (e.prototype.getVisual = function (t, n) {
          var a = k(this._model, t, { defaultMainType: 'series' }),
            o = a.seriesModel;
          o || ln('There is no specified series model');
          var s = o.getData(),
            l = a.hasOwnProperty('dataIndexInside')
              ? a.dataIndexInside
              : a.hasOwnProperty('dataIndex')
              ? s.indexOfRawIndex(a.dataIndex)
              : null;
          return null != l ? o0(s, l, n) : Td(s, n);
        }),
        (e.prototype.getViewOfComponentModel = function (t) {
          return this._componentsMap[t.__viewId];
        }),
        (e.prototype.getViewOfSeriesModel = function (t) {
          return this._chartsMap[t.__viewId];
        }),
        (e.prototype._initEvents = function () {
          var t = this;
          F(mF, function (n) {
            var i = function (a) {
              var l,
                o = t.getModel(),
                s = a.target,
                u = 'globalout' === n;
              if (
                (u
                  ? (l = {})
                  : s &&
                    gc(
                      s,
                      function (g) {
                        var m = fr(g);
                        if (m && null != m.dataIndex) {
                          var y =
                            m.dataModel || o.getSeriesByIndex(m.seriesIndex);
                          return (
                            (l =
                              (y &&
                                y.getDataParams(m.dataIndex, m.dataType, s)) ||
                              {}),
                            !0
                          );
                        }
                        if (m.eventData) return (l = nt({}, m.eventData)), !0;
                      },
                      !0
                    ),
                l)
              ) {
                var c = l.componentType,
                  f = l.componentIndex;
                ('markLine' === c || 'markPoint' === c || 'markArea' === c) &&
                  ((c = 'series'), (f = l.seriesIndex));
                var d = c && null != f && o.getComponent(c, f),
                  v =
                    d &&
                    t[
                      'series' === d.mainType ? '_chartsMap' : '_componentsMap'
                    ][d.__viewId];
                !u &&
                  !(d && v) &&
                  ln('model or view can not be found by params'),
                  (l.event = a),
                  (l.type = n),
                  (t._$eventProcessor.eventInfo = {
                    targetEl: s,
                    packedEvent: l,
                    model: d,
                    view: v,
                  }),
                  t.trigger(n, l);
              }
            };
            (i.zrEventfulCallAtLast = !0), t._zr.on(n, i, t);
          }),
            F(Id, function (n, i) {
              t._messageCenter.on(
                i,
                function (a) {
                  this.trigger(i, a);
                },
                t
              );
            }),
            F(['selectchanged'], function (n) {
              t._messageCenter.on(
                n,
                function (i) {
                  this.trigger(n, i);
                },
                t
              );
            }),
            (function AO(r, e, t) {
              r.on('selectchanged', function (n) {
                var i = t.getModel();
                n.isFromClick
                  ? (Hf('map', 'selectchanged', e, i, n),
                    Hf('pie', 'selectchanged', e, i, n))
                  : 'select' === n.fromAction
                  ? (Hf('map', 'selected', e, i, n),
                    Hf('pie', 'selected', e, i, n))
                  : 'unselect' === n.fromAction &&
                    (Hf('map', 'unselected', e, i, n),
                    Hf('pie', 'unselected', e, i, n));
              });
            })(this._messageCenter, this, this._api);
        }),
        (e.prototype.isDisposed = function () {
          return this._disposed;
        }),
        (e.prototype.clear = function () {
          this._disposed ? Na(this.id) : this.setOption({ series: [] }, !0);
        }),
        (e.prototype.dispose = function () {
          if (this._disposed) Na(this.id);
          else {
            (this._disposed = !0), this.getDom() && j(this.getDom(), C0, '');
            var n = this,
              i = n._api,
              a = n._model;
            F(n._componentsViews, function (o) {
              o.dispose(a, i);
            }),
              F(n._chartsViews, function (o) {
                o.dispose(a, i);
              }),
              n._zr.dispose(),
              (n._dom =
                n._model =
                n._chartsMap =
                n._componentsMap =
                n._chartsViews =
                n._componentsViews =
                n._scheduler =
                n._api =
                n._zr =
                n._throttledZrFlush =
                n._theme =
                n._coordSysMgr =
                n._messageCenter =
                  null),
              delete bc[n.id];
          }
        }),
        (e.prototype.resize = function (t) {
          if (this[Xi])
            qn('`resize` should not be called during main process.');
          else if (this._disposed) Na(this.id);
          else {
            this._zr.resize(t);
            var n = this._model;
            if ((this._loadingFX && this._loadingFX.resize(), n)) {
              var i = n.resetOption('media'),
                a = t && t.silent;
              this[Aa] &&
                (null == a && (a = this[Aa].silent),
                (i = !0),
                (this[Aa] = null)),
                (this[Xi] = !0);
              try {
                i && Uf(this),
                  Ql.update.call(this, {
                    type: 'resize',
                    animation: nt({ duration: 0 }, t && t.animation),
                  });
              } catch (o) {
                throw ((this[Xi] = !1), o);
              }
              (this[Xi] = !1), Md.call(this, a), Ld.call(this, a);
            }
          }
        }),
        (e.prototype.showLoading = function (t, n) {
          if (this._disposed) Na(this.id);
          else if (
            (Y(t) && ((n = t), (t = '')),
            (t = t || 'default'),
            this.hideLoading(),
            w0[t])
          ) {
            var i = w0[t](this._api, n),
              a = this._zr;
            (this._loadingFX = i), a.add(i);
          } else ln('Loading effects ' + t + ' not exists.');
        }),
        (e.prototype.hideLoading = function () {
          this._disposed
            ? Na(this.id)
            : (this._loadingFX && this._zr.remove(this._loadingFX),
              (this._loadingFX = null));
        }),
        (e.prototype.makeActionFromEvent = function (t) {
          var n = nt({}, t);
          return (n.type = Id[t.type]), n;
        }),
        (e.prototype.dispatchAction = function (t, n) {
          if (this._disposed) Na(this.id);
          else if ((Y(n) || (n = { silent: !!n }), og[t.type] && this._model)) {
            if (this[Xi]) return void this._pendingActions.push(t);
            var i = n.silent;
            y0.call(this, t, i);
            var a = n.flush;
            a
              ? this._zr.flush()
              : !1 !== a && Lt.browser.weChat && this._throttledZrFlush(),
              Md.call(this, i),
              Ld.call(this, i);
          }
        }),
        (e.prototype.updateLabelLayout = function () {
          Fo.trigger('series:layoutlabels', this._model, this._api, {
            updatedSeries: [],
          });
        }),
        (e.prototype.appendData = function (t) {
          if (this._disposed) Na(this.id);
          else {
            var n = t.seriesIndex,
              a = this.getModel().getSeriesByIndex(n);
            lt(t.data && a),
              a.appendData(t),
              (this._scheduler.unfinished = !0),
              this.getZr().wakeUp();
          }
        }),
        (e.internalField = (function () {
          function t(f) {
            f.clearColorPalette(),
              f.eachSeries(function (d) {
                d.clearColorPalette();
              });
          }
          function i(f) {
            for (var d = [], v = f.currentStates, g = 0; g < v.length; g++) {
              var m = v[g];
              'emphasis' === m || 'blur' === m || 'select' === m || d.push(m);
            }
            f.selected && f.states.select && d.push('select'),
              f.hoverState === fp && f.states.emphasis
                ? d.push('emphasis')
                : f.hoverState === jh && f.states.blur && d.push('blur'),
              f.useStates(d);
          }
          function s(f, d) {
            if (!f.preventAutoZ) {
              var v = f.get('z') || 0,
                g = f.get('zlevel') || 0;
              d.eachRendered(function (m) {
                return l(m, v, g, -1 / 0), !0;
              });
            }
          }
          function l(f, d, v, g) {
            var m = f.getTextContent(),
              y = f.getTextGuideLine();
            if (f.isGroup)
              for (var w = f.childrenRef(), C = 0; C < w.length; C++)
                g = Math.max(l(w[C], d, v, g), g);
            else (f.z = d), (f.zlevel = v), (g = Math.max(f.z2, g));
            if (
              (m && ((m.z = d), (m.zlevel = v), isFinite(g) && (m.z2 = g + 2)),
              y)
            ) {
              var D = f.textGuideLineConfig;
              (y.z = d),
                (y.zlevel = v),
                isFinite(g) && (y.z2 = g + (D && D.showAbove ? 1 : -1));
            }
            return g;
          }
          function u(f, d) {
            d.eachRendered(function (v) {
              if (!Tf(v)) {
                var g = v.getTextContent(),
                  m = v.getTextGuideLine();
                v.stateTransition && (v.stateTransition = null),
                  g && g.stateTransition && (g.stateTransition = null),
                  m && m.stateTransition && (m.stateTransition = null),
                  v.hasState()
                    ? ((v.prevStates = v.currentStates), v.clearStates())
                    : v.prevStates && (v.prevStates = null);
              }
            });
          }
          function c(f, d) {
            var v = f.getModel('stateAnimation'),
              g = f.isAnimationEnabled(),
              m = v.get('duration'),
              y =
                m > 0
                  ? {
                      duration: m,
                      delay: v.get('delay'),
                      easing: v.get('easing'),
                    }
                  : null;
            d.eachRendered(function (b) {
              if (b.states && b.states.emphasis) {
                if (Tf(b)) return;
                if (
                  (b instanceof Lr &&
                    (function $E(r) {
                      var e = C_(r);
                      (e.normalFill = r.style.fill),
                        (e.normalStroke = r.style.stroke);
                      var t = r.states.select || {};
                      (e.selectFill = (t.style && t.style.fill) || null),
                        (e.selectStroke = (t.style && t.style.stroke) || null);
                    })(b),
                  b.__dirty)
                ) {
                  var w = b.prevStates;
                  w && b.useStates(w);
                }
                if (g) {
                  b.stateTransition = y;
                  var C = b.getTextContent(),
                    D = b.getTextGuideLine();
                  C && (C.stateTransition = y), D && (D.stateTransition = y);
                }
                b.__dirty && i(b);
              }
            });
          }
          (Uf = function (f) {
            var d = f._scheduler;
            d.restorePipelines(f._model),
              d.prepareStageTasks(),
              p0(f, !0),
              p0(f, !1),
              d.plan();
          }),
            (p0 = function (f, d) {
              for (
                var v = f._model,
                  g = f._scheduler,
                  m = d ? f._componentsViews : f._chartsViews,
                  y = d ? f._componentsMap : f._chartsMap,
                  b = f._zr,
                  w = f._api,
                  C = 0;
                C < m.length;
                C++
              )
                m[C].__alive = !1;
              function D(M) {
                var E = M.__requireNewView;
                M.__requireNewView = !1;
                var O = '_ec_' + M.id + '_' + M.type,
                  z = !E && y[O];
                if (!z) {
                  var H = Jt(M.type),
                    G = d ? fn.getClass(H.main, H.sub) : en.getClass(H.sub);
                  lt(G, H.sub + ' does not exist.'),
                    (z = new G()).init(v, w),
                    (y[O] = z),
                    m.push(z),
                    b.add(z.group);
                }
                (M.__viewId = z.__id = O),
                  (z.__alive = !0),
                  (z.__model = M),
                  (z.group.__ecComponentInfo = {
                    mainType: M.mainType,
                    index: M.componentIndex,
                  }),
                  !d && g.prepareView(z, M, v, w);
              }
              for (
                d
                  ? v.eachComponent(function (M, E) {
                      'series' !== M && D(E);
                    })
                  : v.eachSeries(D),
                  C = 0;
                C < m.length;

              ) {
                var L = m[C];
                L.__alive
                  ? C++
                  : (!d && L.renderTask.dispose(),
                    b.remove(L.group),
                    L.dispose(v, w),
                    m.splice(C, 1),
                    y[L.__id] === L && delete y[L.__id],
                    (L.__id = L.group.__ecComponentInfo = null));
              }
            }),
            (ng = function (f, d, v, g, m) {
              var y = f._model;
              if ((y.setUpdatePayload(v), g)) {
                var b = {};
                (b[g + 'Id'] = v[g + 'Id']),
                  (b[g + 'Index'] = v[g + 'Index']),
                  (b[g + 'Name'] = v[g + 'Name']);
                var w = { mainType: g, query: b };
                m && (w.subType = m);
                var D,
                  C = v.excludeSeriesId;
                null != C &&
                  ((D = Nt()),
                  F(qr(C), function (M) {
                    var E = gn(M, null);
                    null != E && D.set(E, !0);
                  })),
                  y &&
                    y.eachComponent(
                      w,
                      function (M) {
                        if (!D || null == D.get(M.id))
                          if (V_(v))
                            if (M instanceof nn)
                              v.type === rc &&
                                !v.notBlur &&
                                !M.get(['emphasis', 'disabled']) &&
                                (function OE(r, e, t) {
                                  var n = r.seriesIndex,
                                    i = r.getData(e.dataType);
                                  if (i) {
                                    var a = x(i, e);
                                    a = (Tt(a) ? a[0] : a) || 0;
                                    var o = i.getItemGraphicEl(a);
                                    if (!o)
                                      for (
                                        var s = i.count(), l = 0;
                                        !o && l < s;

                                      )
                                        o = i.getItemGraphicEl(l++);
                                    if (o) {
                                      var u = fr(o);
                                      ry(n, u.focus, u.blurScope, t);
                                    } else {
                                      var c = r.get(['emphasis', 'focus']),
                                        f = r.get(['emphasis', 'blurScope']);
                                      null != c && ry(n, c, f, t);
                                    }
                                  } else qn('Unknown dataType ' + e.dataType);
                                })(M, v, f._api);
                            else {
                              var O = iy(
                                  M.mainType,
                                  M.componentIndex,
                                  v.name,
                                  f._api
                                ),
                                H = O.dispatchers;
                              v.type === rc &&
                                O.focusSelf &&
                                !v.notBlur &&
                                ny(M.mainType, M.componentIndex, f._api),
                                H &&
                                  F(H, function (G) {
                                    v.type === rc ? Js(G) : tl(G);
                                  });
                            }
                          else
                            oy(v) &&
                              M instanceof nn &&
                              ((function NE(r, e, t) {
                                if (oy(e)) {
                                  var n = e.dataType,
                                    a = x(r.getData(n), e);
                                  Tt(a) || (a = [a]),
                                    r[
                                      e.type === Jh
                                        ? 'toggleSelect'
                                        : e.type === Qh
                                        ? 'select'
                                        : 'unselect'
                                    ](a, n);
                                }
                              })(M, v),
                              N_(M),
                              so(f));
                      },
                      f
                    ),
                  y &&
                    y.eachComponent(
                      w,
                      function (M) {
                        (D && null != D.get(M.id)) ||
                          L(
                            f['series' === g ? '_chartsMap' : '_componentsMap'][
                              M.__viewId
                            ]
                          );
                      },
                      f
                    );
              } else F([].concat(f._componentsViews).concat(f._chartsViews), L);
              function L(M) {
                M && M.__alive && M[d] && M[d](M.__model, y, f._api, v);
              }
            }),
            (Ql = {
              prepareAndUpdate: function (f) {
                Uf(this),
                  Ql.update.call(this, f, {
                    optionChanged: null != f.newOption,
                  });
              },
              update: function (f, d) {
                var v = this._model,
                  g = this._api,
                  m = this._zr,
                  y = this._coordSysMgr,
                  b = this._scheduler;
                if (v) {
                  v.setUpdatePayload(f),
                    b.restoreData(v, f),
                    b.performSeriesTasks(v),
                    y.create(v, g),
                    b.performDataProcessorTasks(v, f),
                    m0(this, v),
                    y.update(v, g),
                    t(v),
                    b.performVisualTasks(v, f),
                    x0(this, v, g, f, d);
                  var w = v.get('backgroundColor') || 'transparent',
                    C = v.get('darkMode');
                  m.setBackgroundColor(w),
                    null != C && 'auto' !== C && m.setDarkMode(C),
                    Fo.trigger('afterupdate', v, g);
                }
              },
              updateTransform: function (f) {
                var d = this,
                  v = this._model,
                  g = this._api;
                if (v) {
                  v.setUpdatePayload(f);
                  var m = [];
                  v.eachComponent(function (b, w) {
                    if ('series' !== b) {
                      var C = d.getViewOfComponentModel(w);
                      if (C && C.__alive)
                        if (C.updateTransform) {
                          var D = C.updateTransform(w, v, g, f);
                          D && D.update && m.push(C);
                        } else m.push(C);
                    }
                  });
                  var y = Nt();
                  v.eachSeries(function (b) {
                    var w = d._chartsMap[b.__viewId];
                    if (w.updateTransform) {
                      var C = w.updateTransform(b, v, g, f);
                      C && C.update && y.set(b.uid, 1);
                    } else y.set(b.uid, 1);
                  }),
                    t(v),
                    this._scheduler.performVisualTasks(v, f, {
                      setDirty: !0,
                      dirtyMap: y,
                    }),
                    ig(this, v, g, f, {}, y),
                    Fo.trigger('afterupdate', v, g);
                }
              },
              updateView: function (f) {
                var d = this._model;
                d &&
                  (d.setUpdatePayload(f),
                  en.markUpdateMethod(f, 'updateView'),
                  t(d),
                  this._scheduler.performVisualTasks(d, f, { setDirty: !0 }),
                  x0(this, d, this._api, f, {}),
                  Fo.trigger('afterupdate', d, this._api));
              },
              updateVisual: function (f) {
                var d = this,
                  v = this._model;
                v &&
                  (v.setUpdatePayload(f),
                  v.eachSeries(function (g) {
                    g.getData().clearAllVisual();
                  }),
                  en.markUpdateMethod(f, 'updateVisual'),
                  t(v),
                  this._scheduler.performVisualTasks(v, f, {
                    visualType: 'visual',
                    setDirty: !0,
                  }),
                  v.eachComponent(function (g, m) {
                    if ('series' !== g) {
                      var y = d.getViewOfComponentModel(m);
                      y && y.__alive && y.updateVisual(m, v, d._api, f);
                    }
                  }),
                  v.eachSeries(function (g) {
                    d._chartsMap[g.__viewId].updateVisual(g, v, d._api, f);
                  }),
                  Fo.trigger('afterupdate', v, this._api));
              },
              updateLayout: function (f) {
                Ql.update.call(this, f);
              },
            }),
            (g0 = function (f, d, v, g) {
              if (f._disposed) Na(f.id);
              else {
                for (
                  var b,
                    m = f._model,
                    y = f._coordSysMgr.getCoordinateSystems(),
                    w = k(m, v),
                    C = 0;
                  C < y.length;
                  C++
                ) {
                  var D = y[C];
                  if (D[d] && null != (b = D[d](m, w, g))) return b;
                }
                ln(
                  'No coordinate system that supports ' +
                    d +
                    ' found by the given finder.'
                );
              }
            }),
            (m0 = function (f, d) {
              var v = f._chartsMap,
                g = f._scheduler;
              d.eachSeries(function (m) {
                g.updateStreamModes(m, v[m.__viewId]);
              });
            }),
            (y0 = function (f, d) {
              var v = this,
                g = this.getModel(),
                m = f.type,
                y = f.escapeConnect,
                b = og[m],
                w = b.actionInfo,
                C = (w.update || 'update').split(':'),
                D = C.pop(),
                L = null != C[0] && Jt(C[0]);
              this[Xi] = !0;
              var M = [f],
                E = !1;
              f.batch &&
                ((E = !0),
                (M = Ut(f.batch, function (tt) {
                  return ((tt = Ot(nt({}, tt), f)).batch = null), tt;
                })));
              var z,
                O = [],
                H = oy(f),
                G = V_(f);
              if (
                (G && B_(this._api),
                F(M, function (tt) {
                  if (
                    (((z =
                      (z = b.action(tt, v._model, v._api)) || nt({}, tt)).type =
                      w.event || z.type),
                    O.push(z),
                    G)
                  ) {
                    var ot = P(f),
                      Vt = ot.mainTypeSpecified
                        ? ot.queryOptionMap.keys()[0]
                        : 'series';
                    ng(v, D, tt, Vt), so(v);
                  } else H ? (ng(v, D, tt, 'series'), so(v)) : L && ng(v, D, tt, L.main, L.sub);
                }),
                'none' !== D && !G && !H && !L)
              )
                try {
                  this[Aa]
                    ? (Uf(this), Ql.update.call(this, f), (this[Aa] = null))
                    : Ql[D].call(this, f);
                } catch (tt) {
                  throw ((this[Xi] = !1), tt);
                }
              if (
                ((z = E
                  ? { type: w.event || m, escapeConnect: y, batch: O }
                  : O[0]),
                (this[Xi] = !1),
                !d)
              ) {
                var X = this._messageCenter;
                if ((X.trigger(z.type, z), H)) {
                  var K = {
                    type: 'selectchanged',
                    escapeConnect: y,
                    selected: zE(g),
                    isFromClick: f.isFromClick || !1,
                    fromAction: f.type,
                    fromActionPayload: f,
                  };
                  X.trigger(K.type, K);
                }
              }
            }),
            (Md = function (f) {
              for (var d = this._pendingActions; d.length; ) {
                var v = d.shift();
                y0.call(this, v, f);
              }
            }),
            (Ld = function (f) {
              !f && this.trigger('updated');
            }),
            (OC = function (f, d) {
              f.on('rendered', function (v) {
                d.trigger('rendered', v),
                  f.animation.isFinished() &&
                    !d[Aa] &&
                    !d._scheduler.unfinished &&
                    !d._pendingActions.length &&
                    d.trigger('finished');
              });
            }),
            (FC = function (f, d) {
              f.on('mouseover', function (v) {
                var m = gc(v.target, $l);
                m &&
                  ((function FE(r, e, t) {
                    $l(r) || qn('param should be highDownDispatcher');
                    var n = fr(r),
                      i = iy(
                        n.componentMainType,
                        n.componentIndex,
                        n.componentHighDownName,
                        t
                      ),
                      a = i.dispatchers;
                    a
                      ? (i.focusSelf &&
                          ny(n.componentMainType, n.componentIndex, t),
                        F(a, function (s) {
                          return k_(s, e);
                        }))
                      : (ry(n.seriesIndex, n.focus, n.blurScope, t),
                        'self' === n.focus &&
                          ny(n.componentMainType, n.componentIndex, t),
                        k_(r, e));
                  })(m, v, d._api),
                  so(d));
              })
                .on('mouseout', function (v) {
                  var m = gc(v.target, $l);
                  m &&
                    ((function BE(r, e, t) {
                      $l(r) || qn('param should be highDownDispatcher'), B_(t);
                      var n = fr(r),
                        i = iy(
                          n.componentMainType,
                          n.componentIndex,
                          n.componentHighDownName,
                          t
                        ).dispatchers;
                      i
                        ? F(i, function (a) {
                            return E_(a, e);
                          })
                        : E_(r, e);
                    })(m, v, d._api),
                    so(d));
                })
                .on('click', function (v) {
                  var m = gc(
                    v.target,
                    function (w) {
                      return null != fr(w).dataIndex;
                    },
                    !0
                  );
                  if (m) {
                    var y = m.selected ? 'unselect' : 'select',
                      b = fr(m);
                    d._api.dispatchAction({
                      type: y,
                      dataType: b.dataType,
                      dataIndexInside: b.dataIndex,
                      seriesIndex: b.seriesIndex,
                      isFromClick: !0,
                    });
                  }
                });
            }),
            (x0 = function (f, d, v, g, m) {
              (function n(f) {
                var d = [],
                  v = [],
                  g = !1;
                if (
                  (f.eachComponent(function (w, C) {
                    var D = C.get('zlevel') || 0,
                      L = C.get('z') || 0,
                      M = C.getZLevelKey();
                    (g = g || !!M),
                      ('series' === w ? v : d).push({
                        zlevel: D,
                        z: L,
                        idx: C.componentIndex,
                        type: w,
                        key: M,
                      });
                  }),
                  g)
                ) {
                  var y,
                    b,
                    m = d.concat(v);
                  ii(m, function (w, C) {
                    return w.zlevel === C.zlevel
                      ? w.z - C.z
                      : w.zlevel - C.zlevel;
                  }),
                    F(m, function (w) {
                      var C = f.getComponent(w.type, w.idx),
                        D = w.zlevel,
                        L = w.key;
                      null != y && (D = Math.max(y, D)),
                        L
                          ? (D === y && L !== b && D++, (b = L))
                          : b && (D === y && D++, (b = '')),
                        (y = D),
                        C.setZLevel(D);
                    });
                }
              })(d),
                BC(f, d, v, g, m),
                F(f._chartsViews, function (y) {
                  y.__alive = !1;
                }),
                ig(f, d, v, g, m),
                F(f._chartsViews, function (y) {
                  y.__alive || y.remove(d, v);
                });
            }),
            (BC = function (f, d, v, g, m, y) {
              F(y || f._componentsViews, function (b) {
                var w = b.__model;
                u(0, b), b.render(w, d, v, g), s(w, b), c(w, b);
              });
            }),
            (ig = function (f, d, v, g, m, y) {
              var b = f._scheduler;
              (m = nt(m || {}, { updatedSeries: d.getSeries() })),
                Fo.trigger('series:beforeupdate', d, v, m);
              var w = !1;
              d.eachSeries(function (C) {
                var D = f._chartsMap[C.__viewId];
                D.__alive = !0;
                var L = D.renderTask;
                b.updatePayload(L, g),
                  u(0, D),
                  y && y.get(C.uid) && L.dirty(),
                  L.perform(b.getPerformArgs(L)) && (w = !0),
                  (D.group.silent = !!C.get('silent')),
                  (function o(f, d) {
                    var v = f.get('blendMode') || null;
                    d.eachRendered(function (g) {
                      g.isGroup || (g.style.blend = v);
                    });
                  })(C, D),
                  N_(C);
              }),
                (b.unfinished = w || b.unfinished),
                Fo.trigger('series:layoutlabels', d, v, m),
                Fo.trigger('series:transition', d, v, m),
                d.eachSeries(function (C) {
                  var D = f._chartsMap[C.__viewId];
                  s(C, D), c(C, D);
                }),
                (function a(f, d) {
                  var m = 0;
                  f._zr.storage.traverse(function (y) {
                    y.isGroup || m++;
                  }),
                    m > d.get('hoverLayerThreshold') &&
                      !Lt.node &&
                      !Lt.worker &&
                      d.eachSeries(function (y) {
                        if (!y.preventUsingHoverLayer) {
                          var b = f._chartsMap[y.__viewId];
                          b.__alive &&
                            b.eachRendered(function (w) {
                              w.states.emphasis &&
                                (w.states.emphasis.hoverLayer = !0);
                            });
                        }
                      });
                })(f, d),
                Fo.trigger('series:afterupdate', d, v, m);
            }),
            (so = function (f) {
              (f[d0] = !0), f.getZr().wakeUp();
            }),
            (VC = function (f) {
              f[d0] &&
                (f.getZr().storage.traverse(function (d) {
                  Tf(d) || i(d);
                }),
                (f[d0] = !1));
            }),
            (NC = function (f) {
              return new ((function (d) {
                function v() {
                  return (null !== d && d.apply(this, arguments)) || this;
                }
                return (
                  ut(v, d),
                  (v.prototype.getCoordinateSystems = function () {
                    return f._coordSysMgr.getCoordinateSystems();
                  }),
                  (v.prototype.getComponentByElement = function (g) {
                    for (; g; ) {
                      var m = g.__ecComponentInfo;
                      if (null != m)
                        return f._model.getComponent(m.mainType, m.index);
                      g = g.parent;
                    }
                  }),
                  (v.prototype.enterEmphasis = function (g, m) {
                    Js(g, m), so(f);
                  }),
                  (v.prototype.leaveEmphasis = function (g, m) {
                    tl(g, m), so(f);
                  }),
                  (v.prototype.enterBlur = function (g) {
                    P_(g), so(f);
                  }),
                  (v.prototype.leaveBlur = function (g) {
                    ey(g), so(f);
                  }),
                  (v.prototype.enterSelect = function (g) {
                    R_(g), so(f);
                  }),
                  (v.prototype.leaveSelect = function (g) {
                    O_(g), so(f);
                  }),
                  (v.prototype.getModel = function () {
                    return f.getModel();
                  }),
                  (v.prototype.getViewOfComponentModel = function (g) {
                    return f.getViewOfComponentModel(g);
                  }),
                  (v.prototype.getViewOfSeriesModel = function (g) {
                    return f.getViewOfSeriesModel(g);
                  }),
                  v
                );
              })(jS))(f);
            }),
            (zC = function (f) {
              function d(v, g) {
                for (var m = 0; m < v.length; m++) v[m][v0] = g;
              }
              F(Id, function (v, g) {
                f._messageCenter.on(g, function (m) {
                  if (lg[f.group] && 0 !== f[v0]) {
                    if (m && m.escapeConnect) return;
                    var y = f.makeActionFromEvent(m),
                      b = [];
                    F(bc, function (w) {
                      w !== f && w.group === f.group && b.push(w);
                    }),
                      d(b, 0),
                      F(b, function (w) {
                        1 !== w[v0] && w.dispatchAction(y);
                      }),
                      d(b, 2);
                  }
                });
              });
            });
        })()),
        e
      );
    })(ci),
    b0 = ag.prototype;
  (b0.on = IC('on')),
    (b0.off = IC('off')),
    (b0.one = function (r, e, t) {
      var n = this;
      oa('ECharts#one is deprecated.'),
        this.on.call(
          this,
          r,
          function i() {
            for (var a = [], o = 0; o < arguments.length; o++)
              a[o] = arguments[o];
            e && e.apply && e.apply(this, a), n.off(r, i);
          },
          t
        );
    });
  var mF = [
    'click',
    'dblclick',
    'mouseover',
    'mouseout',
    'mousemove',
    'mousedown',
    'mouseup',
    'globalout',
    'contextmenu',
  ];
  function Na(r) {
    ln('Instance ' + r + ' has been disposed');
  }
  var og = {},
    Id = {},
    _0 = [],
    S0 = [],
    sg = [],
    HC = {},
    w0 = {},
    bc = {},
    lg = {},
    yF = +new Date() - 0,
    xF = +new Date() - 0,
    C0 = '_echarts_instance_';
  function GC(r) {
    lg[r] = !1;
  }
  var SF = GC;
  function D0(r) {
    return bc[
      (function vt(r, e) {
        return r.getAttribute ? r.getAttribute(e) : r[e];
      })(r, C0)
    ];
  }
  function T0(r, e) {
    HC[r] = e;
  }
  function A0(r) {
    $(S0, r) < 0 && S0.push(r);
  }
  function M0(r, e) {
    L0(_0, r, e, 2e3);
  }
  function WC(r) {
    ug('afterinit', r);
  }
  function $C(r) {
    ug('afterupdate', r);
  }
  function ug(r, e) {
    Fo.on(r, e);
  }
  function Bo(r, e, t) {
    fe(e) && ((t = e), (e = ''));
    var n = Y(r) ? r.type : [r, (r = { event: e })][0];
    (r.event = (r.event || n).toLowerCase()),
      !Id[(e = r.event)] &&
        (lt(MC.test(n) && MC.test(e)),
        og[n] || (og[n] = { action: t, actionInfo: r }),
        (Id[e] = n));
  }
  function UC(r, e) {
    hc.register(r, e);
  }
  function YC(r, e) {
    L0(sg, r, e, 1e3, 'layout');
  }
  function Jl(r, e) {
    L0(sg, r, e, 3e3, 'visual');
  }
  var XC = [];
  function L0(r, e, t, n, i) {
    if (((fe(e) || Y(e)) && ((t = e), (e = n)), isNaN(e) || null == e))
      throw new Error('Illegal priority');
    if (
      (F(r, function (o) {
        lt(o.__raw !== t);
      }),
      !($(XC, t) >= 0))
    ) {
      XC.push(t);
      var a = qw.wrapStageHandler(t, i);
      (a.__prio = e), (a.__raw = t), r.push(a);
    }
  }
  function I0(r, e) {
    w0[r] = e;
  }
  function ZC(r, e, t) {
    var n = wC('registerMap');
    n && n(r, e, t);
  }
  var qC = function zR(r) {
    var e = (r = ft(r)).type;
    e || zr('Must have a `type` when `registerTransform`.');
    var n = e.split(':');
    2 !== n.length && zr('Name must include namespace like "ns:regression".');
    var i = !1;
    'echarts' === n[0] && ((e = n[1]), (i = !0)),
      (r.__isBuiltIn = i),
      _w.set(e, r);
  };
  Jl(2e3, cO),
    Jl(4500, fO),
    Jl(4500, hO),
    Jl(2e3, DO),
    Jl(4500, TO),
    Jl(7e3, function tF(r, e) {
      r.eachRawSeries(function (t) {
        if (!r.isSeriesFiltered(t)) {
          var n = t.getData();
          n.hasItemVisual() &&
            n.each(function (o) {
              var s = n.getItemVisual(o, 'decal');
              s && (n.ensureUniqueItemVisual(o, 'style').decal = $f(s, e));
            });
          var i = n.getVisual('decal');
          i && (n.getVisual('style').decal = $f(i, e));
        }
      });
    }),
    A0(nw),
    M0(900, function xR(r) {
      var e = Nt();
      r.eachSeries(function (t) {
        var n = t.get('stack');
        if (n) {
          var i = e.get(n) || e.set(n, []),
            a = t.getData(),
            o = {
              stackResultDimension: a.getCalculationInfo(
                'stackResultDimension'
              ),
              stackedOverDimension: a.getCalculationInfo(
                'stackedOverDimension'
              ),
              stackedDimension: a.getCalculationInfo('stackedDimension'),
              stackedByDimension: a.getCalculationInfo('stackedByDimension'),
              isStackedByIndex: a.getCalculationInfo('isStackedByIndex'),
              data: a,
              seriesModel: t,
            };
          if (
            !o.stackedDimension ||
            (!o.isStackedByIndex && !o.stackedByDimension)
          )
            return;
          i.length &&
            a.setCalculationInfo(
              'stackedOnSeries',
              i[i.length - 1].seriesModel
            ),
            i.push(o);
        }
      }),
        e.each(bR);
    }),
    I0('default', function dO(r, e) {
      Ot((e = e || {}), {
        text: 'loading',
        textColor: '#000',
        fontSize: 12,
        fontWeight: 'normal',
        fontStyle: 'normal',
        fontFamily: 'sans-serif',
        maskColor: 'rgba(255, 255, 255, 0.8)',
        showSpinner: !0,
        color: '#5470c6',
        spinnerRadius: 10,
        lineWidth: 5,
        zlevel: 0,
      });
      var t = new Qe(),
        n = new Rr({ style: { fill: e.maskColor }, zlevel: e.zlevel, z: 1e4 });
      t.add(n);
      var o,
        i = new Or({
          style: {
            text: e.text,
            fill: e.textColor,
            fontSize: e.fontSize,
            fontWeight: e.fontWeight,
            fontStyle: e.fontStyle,
            fontFamily: e.fontFamily,
          },
          zlevel: e.zlevel,
          z: 10001,
        }),
        a = new Rr({
          style: { fill: 'none' },
          textContent: i,
          textConfig: { position: 'right', distance: 10 },
          zlevel: e.zlevel,
          z: 10001,
        });
      return (
        t.add(a),
        e.showSpinner &&
          ((o = new id({
            shape: {
              startAngle: -Zp / 2,
              endAngle: -Zp / 2 + 0.1,
              r: e.spinnerRadius,
            },
            style: {
              stroke: e.color,
              lineCap: 'round',
              lineWidth: e.lineWidth,
            },
            zlevel: e.zlevel,
            z: 10001,
          }))
            .animateShape(!0)
            .when(1e3, { endAngle: (3 * Zp) / 2 })
            .start('circularInOut'),
          o
            .animateShape(!0)
            .when(1e3, { startAngle: (3 * Zp) / 2 })
            .delay(300)
            .start('circularInOut'),
          t.add(o)),
        (t.resize = function () {
          var s = i.getBoundingRect().width,
            l = e.showSpinner ? e.spinnerRadius : 0,
            u =
              (r.getWidth() - 2 * l - (e.showSpinner && s ? 10 : 0) - s) / 2 -
              (e.showSpinner && s ? 0 : 5 + s / 2) +
              (e.showSpinner ? 0 : s / 2) +
              (s ? 0 : l),
            c = r.getHeight() / 2;
          e.showSpinner && o.setShape({ cx: u, cy: c }),
            a.setShape({ x: u - l, y: c - l, width: 2 * l, height: 2 * l }),
            n.setShape({
              x: 0,
              y: 0,
              width: r.getWidth(),
              height: r.getHeight(),
            });
        }),
        t.resize(),
        t
      );
    }),
    Bo({ type: rc, event: rc, update: rc }, Ke),
    Bo({ type: hp, event: hp, update: hp }, Ke),
    Bo({ type: Qh, event: Qh, update: Qh }, Ke),
    Bo({ type: dp, event: dp, update: dp }, Ke),
    Bo({ type: Jh, event: Jh, update: Jh }, Ke),
    T0('light', wO),
    T0('dark', rC);
  var jC = [],
    LF = {
      registerPreprocessor: A0,
      registerProcessor: M0,
      registerPostInit: WC,
      registerPostUpdate: $C,
      registerUpdateLifecycle: ug,
      registerAction: Bo,
      registerCoordinateSystem: UC,
      registerLayout: YC,
      registerVisual: Jl,
      registerTransform: qC,
      registerLoading: I0,
      registerMap: ZC,
      registerImpl: function eF(r, e) {
        eg[r] && qn('Already has an implementation of ' + r + '.'), (eg[r] = e);
      },
      PRIORITY: AC,
      ComponentModel: br,
      ComponentView: fn,
      SeriesModel: nn,
      ChartView: en,
      registerComponentModel: function (r) {
        br.registerClass(r);
      },
      registerComponentView: function (r) {
        fn.registerClass(r);
      },
      registerSeriesModel: function (r) {
        nn.registerClass(r);
      },
      registerChartView: function (r) {
        en.registerClass(r);
      },
      registerSubTypeDefaulter: function (r, e) {
        br.registerSubTypeDefaulter(r, e);
      },
      registerPainter: function (r, e) {
        Yv(r, e);
      },
    };
  function _r(r) {
    Tt(r)
      ? F(r, function (e) {
          _r(e);
        })
      : $(jC, r) >= 0 ||
        (jC.push(r), fe(r) && (r = { install: r }), r.install(LF));
  }
  function kd(r) {
    return null == r ? 0 : r.length || 1;
  }
  function KC(r) {
    return r;
  }
  var nl = (function () {
      function r(e, t, n, i, a, o) {
        (this._old = e),
          (this._new = t),
          (this._oldKeyGetter = n || KC),
          (this._newKeyGetter = i || KC),
          (this.context = a),
          (this._diffModeMultiple = 'multiple' === o);
      }
      return (
        (r.prototype.add = function (e) {
          return (this._add = e), this;
        }),
        (r.prototype.update = function (e) {
          return (this._update = e), this;
        }),
        (r.prototype.updateManyToOne = function (e) {
          return (this._updateManyToOne = e), this;
        }),
        (r.prototype.updateOneToMany = function (e) {
          return (this._updateOneToMany = e), this;
        }),
        (r.prototype.updateManyToMany = function (e) {
          return (this._updateManyToMany = e), this;
        }),
        (r.prototype.remove = function (e) {
          return (this._remove = e), this;
        }),
        (r.prototype.execute = function () {
          this[
            this._diffModeMultiple ? '_executeMultiple' : '_executeOneToOne'
          ]();
        }),
        (r.prototype._executeOneToOne = function () {
          var e = this._old,
            t = this._new,
            n = {},
            i = new Array(e.length),
            a = new Array(t.length);
          this._initIndexMap(e, null, i, '_oldKeyGetter'),
            this._initIndexMap(t, n, a, '_newKeyGetter');
          for (var o = 0; o < e.length; o++) {
            var s = i[o],
              l = n[s],
              u = kd(l);
            if (u > 1) {
              var c = l.shift();
              1 === l.length && (n[s] = l[0]),
                this._update && this._update(c, o);
            } else
              1 === u
                ? ((n[s] = null), this._update && this._update(l, o))
                : this._remove && this._remove(o);
          }
          this._performRestAdd(a, n);
        }),
        (r.prototype._executeMultiple = function () {
          var t = this._new,
            n = {},
            i = {},
            a = [],
            o = [];
          this._initIndexMap(this._old, n, a, '_oldKeyGetter'),
            this._initIndexMap(t, i, o, '_newKeyGetter');
          for (var s = 0; s < a.length; s++) {
            var l = a[s],
              u = n[l],
              c = i[l],
              f = kd(u),
              d = kd(c);
            if (f > 1 && 1 === d)
              this._updateManyToOne && this._updateManyToOne(c, u),
                (i[l] = null);
            else if (1 === f && d > 1)
              this._updateOneToMany && this._updateOneToMany(c, u),
                (i[l] = null);
            else if (1 === f && 1 === d)
              this._update && this._update(c, u), (i[l] = null);
            else if (f > 1 && d > 1)
              this._updateManyToMany && this._updateManyToMany(c, u),
                (i[l] = null);
            else if (f > 1)
              for (var v = 0; v < f; v++) this._remove && this._remove(u[v]);
            else this._remove && this._remove(u);
          }
          this._performRestAdd(o, i);
        }),
        (r.prototype._performRestAdd = function (e, t) {
          for (var n = 0; n < e.length; n++) {
            var i = e[n],
              a = t[i],
              o = kd(a);
            if (o > 1) for (var s = 0; s < o; s++) this._add && this._add(a[s]);
            else 1 === o && this._add && this._add(a);
            t[i] = null;
          }
        }),
        (r.prototype._initIndexMap = function (e, t, n, i) {
          for (var a = this._diffModeMultiple, o = 0; o < e.length; o++) {
            var s = '_ec_' + this[i](e[o], o);
            if ((a || (n[o] = s), t)) {
              var l = t[s],
                u = kd(l);
              0 === u
                ? ((t[s] = o), a && n.push(s))
                : 1 === u
                ? (t[s] = [l, o])
                : l.push(o);
            }
          }
        }),
        r
      );
    })(),
    IF = (function () {
      function r(e, t) {
        (this._encode = e), (this._schema = t);
      }
      return (
        (r.prototype.get = function () {
          return {
            fullDimensions: this._getFullDimensionNames(),
            encode: this._encode,
          };
        }),
        (r.prototype._getFullDimensionNames = function () {
          return (
            this._cachedDimNames ||
              (this._cachedDimNames = this._schema
                ? this._schema.makeOutputDimensionNames()
                : []),
            this._cachedDimNames
          );
        }),
        r
      );
    })();
  function k0(r, e) {
    return r.hasOwnProperty(e) || (r[e] = []), r[e];
  }
  function cg(r) {
    return 'category' === r ? 'ordinal' : 'time' === r ? 'time' : 'float';
  }
  var fg = function r(e) {
      (this.otherDims = {}), null != e && nt(this, e);
    },
    PF = S(),
    RF = { float: 'f', int: 'i', ordinal: 'o', number: 'n', time: 't' },
    QC = (function () {
      function r(e) {
        (this.dimensions = e.dimensions),
          (this._dimOmitted = e.dimensionOmitted),
          (this.source = e.source),
          (this._fullDimCount = e.fullDimensionCount),
          this._updateDimOmitted(e.dimensionOmitted);
      }
      return (
        (r.prototype.isDimensionOmitted = function () {
          return this._dimOmitted;
        }),
        (r.prototype._updateDimOmitted = function (e) {
          (this._dimOmitted = e),
            e && (this._dimNameMap || (this._dimNameMap = eD(this.source)));
        }),
        (r.prototype.getSourceDimensionIndex = function (e) {
          return B(this._dimNameMap.get(e), -1);
        }),
        (r.prototype.getSourceDimension = function (e) {
          var t = this.source.dimensionsDefine;
          if (t) return t[e];
        }),
        (r.prototype.makeStoreSchema = function () {
          for (
            var e = this._fullDimCount,
              t = sw(this.source),
              n = !rD(e),
              i = '',
              a = [],
              o = 0,
              s = 0;
            o < e;
            o++
          ) {
            var l = void 0,
              u = void 0,
              c = void 0,
              f = this.dimensions[s];
            if (f && f.storeDimIndex === o)
              (l = t ? f.name : null), (u = f.type), (c = f.ordinalMeta), s++;
            else {
              var d = this.getSourceDimension(o);
              d && ((l = t ? d.name : null), (u = d.type));
            }
            a.push({ property: l, type: u, ordinalMeta: c }),
              t &&
                null != l &&
                (!f || !f.isCalculationCoord) &&
                (i += n ? l.replace(/\`/g, '`1').replace(/\$/g, '`2') : l),
              (i += '$'),
              (i += RF[u] || 'f'),
              c && (i += c.uid),
              (i += '$');
          }
          var v = this.source;
          return {
            dimensions: a,
            hash: [v.seriesLayoutBy, v.startIndex, i].join('$$'),
          };
        }),
        (r.prototype.makeOutputDimensionNames = function () {
          for (var e = [], t = 0, n = 0; t < this._fullDimCount; t++) {
            var i = void 0,
              a = this.dimensions[n];
            if (a && a.storeDimIndex === t)
              a.isCalculationCoord || (i = a.name), n++;
            else {
              var o = this.getSourceDimension(t);
              o && (i = o.name);
            }
            e.push(i);
          }
          return e;
        }),
        (r.prototype.appendCalculationDimension = function (e) {
          this.dimensions.push(e),
            (e.isCalculationCoord = !0),
            this._fullDimCount++,
            this._updateDimOmitted(!0);
        }),
        r
      );
    })();
  function JC(r) {
    return r instanceof QC;
  }
  function tD(r) {
    for (var e = Nt(), t = 0; t < (r || []).length; t++) {
      var n = r[t],
        i = Y(n) ? n.name : n;
      null != i && null == e.get(i) && e.set(i, t);
    }
    return e;
  }
  function eD(r) {
    var e = PF(r);
    return e.dimNameMap || (e.dimNameMap = tD(r.dimensionsDefine));
  }
  function rD(r) {
    return r > 30;
  }
  var iD,
    hg,
    Pd,
    Yf,
    E0,
    dg,
    P0,
    Ed = Y,
    tu = Ut,
    OF = typeof Int32Array > 'u' ? Array : Int32Array,
    BF = [
      'hasItemOption',
      '_nameList',
      '_idList',
      '_invertedIndicesMap',
      '_dimSummary',
      'userOutput',
      '_rawData',
      '_dimValueGetter',
      '_nameDimIdx',
      '_idDimIdx',
      '_nameRepeatCount',
    ],
    NF = ['_approximateExtent'],
    Zi = (function () {
      function r(e, t) {
        (this.type = 'list'),
          (this._dimOmitted = !1),
          (this._nameList = []),
          (this._idList = []),
          (this._visual = {}),
          (this._layout = {}),
          (this._itemVisuals = []),
          (this._itemLayouts = []),
          (this._graphicEls = []),
          (this._approximateExtent = {}),
          (this._calculationInfo = {}),
          (this.hasItemOption = !1),
          (this.TRANSFERABLE_METHODS = [
            'cloneShallow',
            'downSample',
            'lttbDownSample',
            'map',
          ]),
          (this.CHANGABLE_METHODS = ['filterSelf', 'selectRange']),
          (this.DOWNSAMPLE_METHODS = ['downSample', 'lttbDownSample']);
        var n,
          i = !1;
        JC(e)
          ? ((n = e.dimensions),
            (this._dimOmitted = e.isDimensionOmitted()),
            (this._schema = e))
          : ((i = !0), (n = e)),
          (n = n || ['x', 'y']);
        for (
          var a = {}, o = [], s = {}, l = !1, u = {}, c = 0;
          c < n.length;
          c++
        ) {
          var f = n[c],
            d = ht(f) ? new fg({ name: f }) : f instanceof fg ? f : new fg(f),
            v = d.name;
          (d.type = d.type || 'float'),
            d.coordDim || ((d.coordDim = v), (d.coordDimIndex = 0));
          var g = (d.otherDims = d.otherDims || {});
          o.push(v),
            (a[v] = d),
            null != u[v] && (l = !0),
            d.createInvertedIndices && (s[v] = []),
            0 === g.itemName && (this._nameDimIdx = c),
            0 === g.itemId && (this._idDimIdx = c),
            lt(i || d.storeDimIndex >= 0),
            i && (d.storeDimIndex = c);
        }
        if (
          ((this.dimensions = o),
          (this._dimInfos = a),
          this._initGetDimensionInfo(l),
          (this.hostModel = t),
          (this._invertedIndicesMap = s),
          this._dimOmitted)
        ) {
          var m = (this._dimIdxToName = Nt());
          F(o, function (y) {
            m.set(a[y].storeDimIndex, y);
          });
        }
      }
      return (
        (r.prototype.getDimension = function (e) {
          var t = this._recognizeDimIndex(e);
          if (null == t) return e;
          if (((t = e), !this._dimOmitted)) return this.dimensions[t];
          var n = this._dimIdxToName.get(t);
          if (null != n) return n;
          var i = this._schema.getSourceDimension(t);
          return i ? i.name : void 0;
        }),
        (r.prototype.getDimensionIndex = function (e) {
          var t = this._recognizeDimIndex(e);
          if (null != t) return t;
          if (null == e) return -1;
          var n = this._getDimInfo(e);
          return n
            ? n.storeDimIndex
            : this._dimOmitted
            ? this._schema.getSourceDimensionIndex(e)
            : -1;
        }),
        (r.prototype._recognizeDimIndex = function (e) {
          if (
            U(e) ||
            (null != e &&
              !isNaN(e) &&
              !this._getDimInfo(e) &&
              (!this._dimOmitted ||
                this._schema.getSourceDimensionIndex(e) < 0))
          )
            return +e;
        }),
        (r.prototype._getStoreDimIndex = function (e) {
          var t = this.getDimensionIndex(e);
          if (null == t) throw new Error('Unknown dimension ' + e);
          return t;
        }),
        (r.prototype.getDimensionInfo = function (e) {
          return this._getDimInfo(this.getDimension(e));
        }),
        (r.prototype._initGetDimensionInfo = function (e) {
          var t = this._dimInfos;
          this._getDimInfo = e
            ? function (n) {
                return t.hasOwnProperty(n) ? t[n] : void 0;
              }
            : function (n) {
                return t[n];
              };
        }),
        (r.prototype.getDimensionsOnCoord = function () {
          return this._dimSummary.dataDimsOnCoord.slice();
        }),
        (r.prototype.mapDimension = function (e, t) {
          var n = this._dimSummary;
          if (null == t) return n.encodeFirstDimNotExtra[e];
          var i = n.encode[e];
          return i ? i[t] : null;
        }),
        (r.prototype.mapDimensionsAll = function (e) {
          return (this._dimSummary.encode[e] || []).slice();
        }),
        (r.prototype.getStore = function () {
          return this._store;
        }),
        (r.prototype.initData = function (e, t, n) {
          var a,
            i = this;
          if ((e instanceof t0 && (a = e), !a)) {
            var o = this.dimensions,
              s = Yy(e) || sr(e) ? new cw(e, o.length) : e;
            a = new t0();
            var l = tu(o, function (u) {
              return { type: i._dimInfos[u].type, property: u };
            });
            a.initData(s, l, n);
          }
          (this._store = a),
            (this._nameList = (t || []).slice()),
            (this._idList = []),
            (this._nameRepeatCount = {}),
            this._doInit(0, a.count()),
            (this._dimSummary = (function kF(r, e) {
              var t = {},
                n = (t.encode = {}),
                i = Nt(),
                a = [],
                o = [],
                s = {};
              F(r.dimensions, function (d) {
                var v = r.getDimensionInfo(d),
                  g = v.coordDim;
                if (g) {
                  lt(null == Oy.get(g));
                  var m = v.coordDimIndex;
                  (k0(n, g)[m] = d),
                    v.isExtraCoord ||
                      (i.set(g, 1),
                      (function EF(r) {
                        return !('ordinal' === r || 'time' === r);
                      })(v.type) && (a[0] = d),
                      (k0(s, g)[m] = r.getDimensionIndex(v.name))),
                    v.defaultTooltip && o.push(d);
                }
                Oy.each(function (y, b) {
                  var w = k0(n, b),
                    C = v.otherDims[b];
                  null != C && !1 !== C && (w[C] = v.name);
                });
              });
              var l = [],
                u = {};
              i.each(function (d, v) {
                var g = n[v];
                (u[v] = g[0]), (l = l.concat(g));
              }),
                (t.dataDimsOnCoord = l),
                (t.dataDimIndicesOnCoord = Ut(l, function (d) {
                  return r.getDimensionInfo(d).storeDimIndex;
                })),
                (t.encodeFirstDimNotExtra = u);
              var c = n.label;
              c && c.length && (a = c.slice());
              var f = n.tooltip;
              return (
                f && f.length ? (o = f.slice()) : o.length || (o = a.slice()),
                (n.defaultedLabel = a),
                (n.defaultedTooltip = o),
                (t.userOutput = new IF(s, e)),
                t
              );
            })(this, this._schema)),
            (this.userOutput = this._dimSummary.userOutput);
        }),
        (r.prototype.appendData = function (e) {
          var t = this._store.appendData(e);
          this._doInit(t[0], t[1]);
        }),
        (r.prototype.appendValues = function (e, t) {
          var n = this._store.appendValues(e, t.length),
            i = n.start,
            a = n.end,
            o = this._shouldMakeIdFromName();
          if ((this._updateOrdinalMeta(), t))
            for (var s = i; s < a; s++)
              (this._nameList[s] = t[s - i]), o && P0(this, s);
        }),
        (r.prototype._updateOrdinalMeta = function () {
          for (
            var e = this._store, t = this.dimensions, n = 0;
            n < t.length;
            n++
          ) {
            var i = this._dimInfos[t[n]];
            i.ordinalMeta &&
              e.collectOrdinalMeta(i.storeDimIndex, i.ordinalMeta);
          }
        }),
        (r.prototype._shouldMakeIdFromName = function () {
          var e = this._store.getProvider();
          return (
            null == this._idDimIdx &&
            e.getSource().sourceFormat !== el &&
            !e.fillStorage
          );
        }),
        (r.prototype._doInit = function (e, t) {
          if (!(e >= t)) {
            var i = this._store.getProvider();
            this._updateOrdinalMeta();
            var a = this._nameList,
              o = this._idList;
            if (i.getSource().sourceFormat === no && !i.pure)
              for (var u = [], c = e; c < t; c++) {
                var f = i.getItem(c, u);
                if (
                  (!this.hasItemOption && $h(f) && (this.hasItemOption = !0), f)
                ) {
                  var d = f.name;
                  null == a[c] && null != d && (a[c] = gn(d, null));
                  var v = f.id;
                  null == o[c] && null != v && (o[c] = gn(v, null));
                }
              }
            if (this._shouldMakeIdFromName())
              for (c = e; c < t; c++) P0(this, c);
            iD(this);
          }
        }),
        (r.prototype.getApproximateExtent = function (e) {
          return (
            this._approximateExtent[e] ||
            this._store.getDataExtent(this._getStoreDimIndex(e))
          );
        }),
        (r.prototype.setApproximateExtent = function (e, t) {
          (t = this.getDimension(t)), (this._approximateExtent[t] = e.slice());
        }),
        (r.prototype.getCalculationInfo = function (e) {
          return this._calculationInfo[e];
        }),
        (r.prototype.setCalculationInfo = function (e, t) {
          Ed(e) ? nt(this._calculationInfo, e) : (this._calculationInfo[e] = t);
        }),
        (r.prototype.getName = function (e) {
          var t = this.getRawIndex(e),
            n = this._nameList[t];
          return (
            null == n &&
              null != this._nameDimIdx &&
              (n = Pd(this, this._nameDimIdx, t)),
            null == n && (n = ''),
            n
          );
        }),
        (r.prototype._getCategory = function (e, t) {
          var n = this._store.get(e, t),
            i = this._store.getOrdinalMeta(e);
          return i ? i.categories[n] : n;
        }),
        (r.prototype.getId = function (e) {
          return hg(this, this.getRawIndex(e));
        }),
        (r.prototype.count = function () {
          return this._store.count();
        }),
        (r.prototype.get = function (e, t) {
          var i = this._dimInfos[e];
          if (i) return this._store.get(i.storeDimIndex, t);
        }),
        (r.prototype.getByRawIndex = function (e, t) {
          var i = this._dimInfos[e];
          if (i) return this._store.getByRawIndex(i.storeDimIndex, t);
        }),
        (r.prototype.getIndices = function () {
          return this._store.getIndices();
        }),
        (r.prototype.getDataExtent = function (e) {
          return this._store.getDataExtent(this._getStoreDimIndex(e));
        }),
        (r.prototype.getSum = function (e) {
          return this._store.getSum(this._getStoreDimIndex(e));
        }),
        (r.prototype.getMedian = function (e) {
          return this._store.getMedian(this._getStoreDimIndex(e));
        }),
        (r.prototype.getValues = function (e, t) {
          var n = this,
            i = this._store;
          return Tt(e)
            ? i.getValues(
                tu(e, function (a) {
                  return n._getStoreDimIndex(a);
                }),
                t
              )
            : i.getValues(e);
        }),
        (r.prototype.hasValue = function (e) {
          for (
            var t = this._dimSummary.dataDimIndicesOnCoord, n = 0, i = t.length;
            n < i;
            n++
          )
            if (isNaN(this._store.get(t[n], e))) return !1;
          return !0;
        }),
        (r.prototype.indexOfName = function (e) {
          for (var t = 0, n = this._store.count(); t < n; t++)
            if (this.getName(t) === e) return t;
          return -1;
        }),
        (r.prototype.getRawIndex = function (e) {
          return this._store.getRawIndex(e);
        }),
        (r.prototype.indexOfRawIndex = function (e) {
          return this._store.indexOfRawIndex(e);
        }),
        (r.prototype.rawIndexOf = function (e, t) {
          var n = e && this._invertedIndicesMap[e];
          if (!n) throw new Error('Do not supported yet');
          var i = n[t];
          return null == i || isNaN(i) ? -1 : i;
        }),
        (r.prototype.indicesOfNearest = function (e, t, n) {
          return this._store.indicesOfNearest(this._getStoreDimIndex(e), t, n);
        }),
        (r.prototype.each = function (e, t, n) {
          fe(e) && ((n = t), (t = e), (e = []));
          var i = n || this,
            a = tu(Yf(e), this._getStoreDimIndex, this);
          this._store.each(a, i ? kt(t, i) : t);
        }),
        (r.prototype.filterSelf = function (e, t, n) {
          fe(e) && ((n = t), (t = e), (e = []));
          var i = n || this,
            a = tu(Yf(e), this._getStoreDimIndex, this);
          return (this._store = this._store.filter(a, i ? kt(t, i) : t)), this;
        }),
        (r.prototype.selectRange = function (e) {
          var t = this,
            n = {};
          return (
            F(Ne(e), function (a) {
              var o = t._getStoreDimIndex(a);
              n[o] = e[a];
            }),
            (this._store = this._store.selectRange(n)),
            this
          );
        }),
        (r.prototype.mapArray = function (e, t, n) {
          fe(e) && ((n = t), (t = e), (e = []));
          var i = [];
          return (
            this.each(
              e,
              function () {
                i.push(t && t.apply(this, arguments));
              },
              (n = n || this)
            ),
            i
          );
        }),
        (r.prototype.map = function (e, t, n, i) {
          var a = n || i || this,
            o = tu(Yf(e), this._getStoreDimIndex, this),
            s = dg(this);
          return (s._store = this._store.map(o, a ? kt(t, a) : t)), s;
        }),
        (r.prototype.modify = function (e, t, n, i) {
          var a = this,
            o = n || i || this;
          F(Yf(e), function (l) {
            a.getDimensionInfo(l).isCalculationCoord ||
              console.error('Danger: only stack dimension can be modified');
          });
          var s = tu(Yf(e), this._getStoreDimIndex, this);
          this._store.modify(s, o ? kt(t, o) : t);
        }),
        (r.prototype.downSample = function (e, t, n, i) {
          var a = dg(this);
          return (
            (a._store = this._store.downSample(
              this._getStoreDimIndex(e),
              t,
              n,
              i
            )),
            a
          );
        }),
        (r.prototype.lttbDownSample = function (e, t) {
          var n = dg(this);
          return (
            (n._store = this._store.lttbDownSample(
              this._getStoreDimIndex(e),
              t
            )),
            n
          );
        }),
        (r.prototype.getRawDataItem = function (e) {
          return this._store.getRawDataItem(e);
        }),
        (r.prototype.getItemModel = function (e) {
          var t = this.hostModel,
            n = this.getRawDataItem(e);
          return new Yr(n, t, t && t.ecModel);
        }),
        (r.prototype.diff = function (e) {
          var t = this;
          return new nl(
            e ? e.getStore().getIndices() : [],
            this.getStore().getIndices(),
            function (n) {
              return hg(e, n);
            },
            function (n) {
              return hg(t, n);
            }
          );
        }),
        (r.prototype.getVisual = function (e) {
          var t = this._visual;
          return t && t[e];
        }),
        (r.prototype.setVisual = function (e, t) {
          (this._visual = this._visual || {}),
            Ed(e) ? nt(this._visual, e) : (this._visual[e] = t);
        }),
        (r.prototype.getItemVisual = function (e, t) {
          var n = this._itemVisuals[e];
          return (n && n[t]) ?? this.getVisual(t);
        }),
        (r.prototype.hasItemVisual = function () {
          return this._itemVisuals.length > 0;
        }),
        (r.prototype.ensureUniqueItemVisual = function (e, t) {
          var n = this._itemVisuals,
            i = n[e];
          i || (i = n[e] = {});
          var a = i[t];
          return (
            null == a &&
              (Tt((a = this.getVisual(t)))
                ? (a = a.slice())
                : Ed(a) && (a = nt({}, a)),
              (i[t] = a)),
            a
          );
        }),
        (r.prototype.setItemVisual = function (e, t, n) {
          var i = this._itemVisuals[e] || {};
          (this._itemVisuals[e] = i), Ed(t) ? nt(i, t) : (i[t] = n);
        }),
        (r.prototype.clearAllVisual = function () {
          (this._visual = {}), (this._itemVisuals = []);
        }),
        (r.prototype.setLayout = function (e, t) {
          Ed(e) ? nt(this._layout, e) : (this._layout[e] = t);
        }),
        (r.prototype.getLayout = function (e) {
          return this._layout[e];
        }),
        (r.prototype.getItemLayout = function (e) {
          return this._itemLayouts[e];
        }),
        (r.prototype.setItemLayout = function (e, t, n) {
          this._itemLayouts[e] = n ? nt(this._itemLayouts[e] || {}, t) : t;
        }),
        (r.prototype.clearItemLayouts = function () {
          this._itemLayouts.length = 0;
        }),
        (r.prototype.setItemGraphicEl = function (e, t) {
          jm(this.hostModel && this.hostModel.seriesIndex, this.dataType, e, t),
            (this._graphicEls[e] = t);
        }),
        (r.prototype.getItemGraphicEl = function (e) {
          return this._graphicEls[e];
        }),
        (r.prototype.eachItemGraphicEl = function (e, t) {
          F(this._graphicEls, function (n, i) {
            n && e && e.call(t, n, i);
          });
        }),
        (r.prototype.cloneShallow = function (e) {
          return (
            e ||
              (e = new r(
                this._schema
                  ? this._schema
                  : tu(this.dimensions, this._getDimInfo, this),
                this.hostModel
              )),
            E0(e, this),
            (e._store = this._store),
            e
          );
        }),
        (r.prototype.wrapMethod = function (e, t) {
          var n = this[e];
          fe(n) &&
            ((this.__wrappedMethods = this.__wrappedMethods || []),
            this.__wrappedMethods.push(e),
            (this[e] = function () {
              var i = n.apply(this, arguments);
              return t.apply(this, [i].concat(rt(arguments)));
            }));
        }),
        (r.internalField =
          ((iD = function (e) {
            var t = e._invertedIndicesMap;
            F(t, function (n, i) {
              var a = e._dimInfos[i],
                o = a.ordinalMeta,
                s = e._store;
              if (o) {
                n = t[i] = new OF(o.categories.length);
                for (var l = 0; l < n.length; l++) n[l] = -1;
                for (l = 0; l < s.count(); l++)
                  n[s.get(a.storeDimIndex, l)] = l;
              }
            });
          }),
          (Pd = function (e, t, n) {
            return gn(e._getCategory(t, n), null);
          }),
          (hg = function (e, t) {
            var n = e._idList[t];
            return (
              null == n && null != e._idDimIdx && (n = Pd(e, e._idDimIdx, t)),
              null == n && (n = 'e\0\0' + t),
              n
            );
          }),
          (Yf = function (e) {
            return Tt(e) || (e = null != e ? [e] : []), e;
          }),
          (dg = function (e) {
            var t = new r(
              e._schema ? e._schema : tu(e.dimensions, e._getDimInfo, e),
              e.hostModel
            );
            return E0(t, e), t;
          }),
          (E0 = function (e, t) {
            F(BF.concat(t.__wrappedMethods || []), function (n) {
              t.hasOwnProperty(n) && (e[n] = t[n]);
            }),
              (e.__wrappedMethods = t.__wrappedMethods),
              F(NF, function (n) {
                e[n] = ft(t[n]);
              }),
              (e._calculationInfo = nt({}, t._calculationInfo));
          }),
          void (P0 = function (e, t) {
            var n = e._nameList,
              i = e._idList,
              a = e._nameDimIdx,
              o = e._idDimIdx,
              s = n[t],
              l = i[t];
            if (
              (null == s && null != a && (n[t] = s = Pd(e, a, t)),
              null == l && null != o && (i[t] = l = Pd(e, o, t)),
              null == l && null != s)
            ) {
              var u = e._nameRepeatCount,
                c = (u[s] = (u[s] || 0) + 1);
              (l = s), c > 1 && (l += '__ec__' + c), (i[t] = l);
            }
          }))),
        r
      );
    })();
  function Xf(r, e) {
    Yy(r) || (r = Zy(r));
    var t = (e = e || {}).coordDimensions || [],
      n = e.dimensionsDefine || r.dimensionsDefine || [],
      i = Nt(),
      a = [],
      o = (function HF(r, e, t, n) {
        var i = Math.max(
          r.dimensionsDetectedCount || 1,
          e.length,
          t.length,
          n || 0
        );
        return (
          F(e, function (a) {
            var o;
            Y(a) && (o = a.dimsDef) && (i = Math.max(i, o.length));
          }),
          i
        );
      })(r, t, n, e.dimensionsCount),
      s = e.canOmitUnusedDimensions && rD(o),
      l = n === r.dimensionsDefine,
      u = l ? eD(r) : tD(n),
      c = e.encodeDefine;
    !c && e.encodeDefaulter && (c = e.encodeDefaulter(r, o));
    for (var f = Nt(c), d = new Sw(o), v = 0; v < d.length; v++) d[v] = -1;
    function g(z) {
      var H = d[z];
      if (H < 0) {
        var G = n[z],
          X = Y(G) ? G : { name: G },
          K = new fg(),
          tt = X.name;
        return (
          null != tt && null != u.get(tt) && (K.name = K.displayName = tt),
          null != X.type && (K.type = X.type),
          null != X.displayName && (K.displayName = X.displayName),
          (d[z] = a.length),
          (K.storeDimIndex = z),
          a.push(K),
          K
        );
      }
      return a[H];
    }
    if (!s) for (v = 0; v < o; v++) g(v);
    f.each(function (z, H) {
      var G = qr(z).slice();
      if (1 === G.length && !ht(G[0]) && G[0] < 0) f.set(H, !1);
      else {
        var X = f.set(H, []);
        F(G, function (K, tt) {
          var ot = ht(K) ? u.get(K) : K;
          null != ot && ot < o && ((X[tt] = ot), y(g(ot), H, tt));
        });
      }
    });
    var m = 0;
    function y(z, H, G) {
      null != Oy.get(H)
        ? (z.otherDims[H] = G)
        : ((z.coordDim = H), (z.coordDimIndex = G), i.set(H, !0));
    }
    F(t, function (z) {
      var H, G, X, K;
      if (ht(z)) (H = z), (K = {});
      else {
        H = (K = z).name;
        var tt = K.ordinalMeta;
        (K.ordinalMeta = null),
          ((K = nt({}, K)).ordinalMeta = tt),
          (G = K.dimsDef),
          (X = K.otherDims),
          (K.name =
            K.coordDim =
            K.coordDimIndex =
            K.dimsDef =
            K.otherDims =
              null);
      }
      var ot = f.get(H);
      if (!1 !== ot) {
        if (!(ot = qr(ot)).length)
          for (var pt = 0; pt < ((G && G.length) || 1); pt++) {
            for (; m < o && null != g(m).coordDim; ) m++;
            m < o && ot.push(m++);
          }
        F(ot, function (Xt, Vt) {
          var re = g(Xt);
          if (
            (l && null != K.type && (re.type = K.type),
            y(Ot(re, K), H, Vt),
            null == re.name && G)
          ) {
            var ye = G[Vt];
            !Y(ye) && (ye = { name: ye }),
              (re.name = re.displayName = ye.name),
              (re.defaultTooltip = ye.defaultTooltip);
          }
          X && Ot(re.otherDims, X);
        });
      }
    });
    var b = e.generateCoord,
      w = e.generateCoordCount,
      C = null != w;
    w = b ? w || 1 : 0;
    var D = b || 'value';
    function L(z) {
      null == z.name && (z.name = z.coordDim);
    }
    if (s)
      F(a, function (z) {
        L(z);
      }),
        a.sort(function (z, H) {
          return z.storeDimIndex - H.storeDimIndex;
        });
    else
      for (var M = 0; M < o; M++) {
        var E = g(M);
        null == E.coordDim &&
          ((E.coordDim = GF(D, i, C)),
          (E.coordDimIndex = 0),
          (!b || w <= 0) && (E.isExtraCoord = !0),
          w--),
          L(E),
          null == E.type &&
            (HS(r, M) === Di.Must ||
              (E.isExtraCoord &&
                (null != E.otherDims.itemName ||
                  null != E.otherDims.seriesName))) &&
            (E.type = 'ordinal');
      }
    return (
      (function VF(r) {
        for (var e = Nt(), t = 0; t < r.length; t++) {
          var n = r[t],
            i = n.name,
            a = e.get(i) || 0;
          a > 0 && (n.name = i + (a - 1)), a++, e.set(i, a);
        }
      })(a),
      new QC({
        source: r,
        dimensions: a,
        fullDimensionCount: o,
        dimensionOmitted: s,
      })
    );
  }
  function GF(r, e, t) {
    if (t || e.hasKey(r)) {
      for (var n = 0; e.hasKey(r + n); ) n++;
      r += n;
    }
    return e.set(r, !0), r;
  }
  var WF = function r(e) {
      (this.coordSysDims = []),
        (this.axisMap = Nt()),
        (this.categoryAxisMap = Nt()),
        (this.coordSysName = e);
    },
    UF = {
      cartesian2d: function (r, e, t, n) {
        var i = r.getReferringComponents('xAxis', N).models[0],
          a = r.getReferringComponents('yAxis', N).models[0];
        if (!i)
          throw new Error(
            'xAxis "' +
              xe(r.get('xAxisIndex'), r.get('xAxisId'), 0) +
              '" not found'
          );
        if (!a)
          throw new Error(
            'yAxis "' +
              xe(r.get('xAxisIndex'), r.get('yAxisId'), 0) +
              '" not found'
          );
        (e.coordSysDims = ['x', 'y']),
          t.set('x', i),
          t.set('y', a),
          Zf(i) && (n.set('x', i), (e.firstCategoryDimIndex = 0)),
          Zf(a) &&
            (n.set('y', a),
            null == e.firstCategoryDimIndex && (e.firstCategoryDimIndex = 1));
      },
      singleAxis: function (r, e, t, n) {
        var i = r.getReferringComponents('singleAxis', N).models[0];
        if (!i) throw new Error('singleAxis should be specified.');
        (e.coordSysDims = ['single']),
          t.set('single', i),
          Zf(i) && (n.set('single', i), (e.firstCategoryDimIndex = 0));
      },
      polar: function (r, e, t, n) {
        var i = r.getReferringComponents('polar', N).models[0],
          a = i.findAxisModel('radiusAxis'),
          o = i.findAxisModel('angleAxis');
        if (!o) throw new Error('angleAxis option not found');
        if (!a) throw new Error('radiusAxis option not found');
        (e.coordSysDims = ['radius', 'angle']),
          t.set('radius', a),
          t.set('angle', o),
          Zf(a) && (n.set('radius', a), (e.firstCategoryDimIndex = 0)),
          Zf(o) &&
            (n.set('angle', o),
            null == e.firstCategoryDimIndex && (e.firstCategoryDimIndex = 1));
      },
      geo: function (r, e, t, n) {
        e.coordSysDims = ['lng', 'lat'];
      },
      parallel: function (r, e, t, n) {
        var i = r.ecModel,
          a = i.getComponent('parallel', r.get('parallelIndex')),
          o = (e.coordSysDims = a.dimensions.slice());
        F(a.parallelAxisIndex, function (s, l) {
          var u = i.getComponent('parallelAxis', s),
            c = o[l];
          t.set(c, u),
            Zf(u) &&
              (n.set(c, u),
              null == e.firstCategoryDimIndex && (e.firstCategoryDimIndex = l));
        });
      },
    };
  function Zf(r) {
    return 'category' === r.get('type');
  }
  function aD(r, e, t) {
    var a,
      o,
      s,
      n = (t = t || {}).byIndex,
      i = t.stackedCoordDimension;
    !(function YF(r) {
      return !JC(r.schema);
    })(e)
      ? ((a = (o = e.schema).dimensions), (s = e.store))
      : (a = e);
    var u,
      c,
      f,
      d,
      l = !(!r || !r.get('stack'));
    if (
      (F(a, function (w, C) {
        ht(w) && (a[C] = w = { name: w }),
          l &&
            !w.isExtraCoord &&
            (!n && !u && w.ordinalMeta && (u = w),
            !c &&
              'ordinal' !== w.type &&
              'time' !== w.type &&
              (!i || i === w.coordDim) &&
              (c = w));
      }),
      c && !n && !u && (n = !0),
      c)
    ) {
      (f = '__\0ecstackresult_' + r.id),
        (d = '__\0ecstackedover_' + r.id),
        u && (u.createInvertedIndices = !0);
      var v = c.coordDim,
        g = c.type,
        m = 0;
      F(a, function (w) {
        w.coordDim === v && m++;
      });
      var y = {
          name: f,
          coordDim: v,
          coordDimIndex: m,
          type: g,
          isExtraCoord: !0,
          isCalculationCoord: !0,
          storeDimIndex: a.length,
        },
        b = {
          name: d,
          coordDim: d,
          coordDimIndex: m + 1,
          type: g,
          isExtraCoord: !0,
          isCalculationCoord: !0,
          storeDimIndex: a.length + 1,
        };
      o
        ? (s &&
            ((y.storeDimIndex = s.ensureCalculationDimension(d, g)),
            (b.storeDimIndex = s.ensureCalculationDimension(f, g))),
          o.appendCalculationDimension(y),
          o.appendCalculationDimension(b))
        : (a.push(y), a.push(b));
    }
    return {
      stackedDimension: c && c.name,
      stackedByDimension: u && u.name,
      isStackedByIndex: n,
      stackedOverDimension: d,
      stackResultDimension: f,
    };
  }
  function il(r, e) {
    return !!e && e === r.getCalculationInfo('stackedDimension');
  }
  function R0(r, e) {
    return il(r, e) ? r.getCalculationInfo('stackResultDimension') : e;
  }
  function cs(r, e, t) {
    t = t || {};
    var i,
      n = e.getSourceManager(),
      a = !1;
    r ? ((a = !0), (i = Zy(r))) : (a = (i = n.getSource()).sourceFormat === no);
    var o = (function $F(r) {
        var e = r.get('coordinateSystem'),
          t = new WF(e),
          n = UF[e];
        if (n) return n(r, t, t.axisMap, t.categoryAxisMap), t;
      })(e),
      s = (function XF(r, e) {
        var i,
          t = r.get('coordinateSystem'),
          n = hc.get(t);
        return (
          e &&
            e.coordSysDims &&
            (i = Ut(e.coordSysDims, function (a) {
              var o = { name: a },
                s = e.axisMap.get(a);
              if (s) {
                var l = s.get('type');
                o.type = cg(l);
              }
              return o;
            })),
          i ||
            (i = (n &&
              (n.getDimensionsInfo
                ? n.getDimensionsInfo()
                : n.dimensions.slice())) || ['x', 'y']),
          i
        );
      })(e, o),
      l = t.useEncodeDefaulter,
      u = fe(l) ? l : l ? me(VS, s, e) : null,
      f = Xf(i, {
        coordDimensions: s,
        generateCoord: t.generateCoord,
        encodeDefine: e.getEncode(),
        encodeDefaulter: u,
        canOmitUnusedDimensions: !a,
      }),
      d = (function ZF(r, e, t) {
        var n, i;
        return (
          t &&
            F(r, function (a, o) {
              var l = t.categoryAxisMap.get(a.coordDim);
              l &&
                (null == n && (n = o),
                (a.ordinalMeta = l.getOrdinalMeta()),
                e && (a.createInvertedIndices = !0)),
                null != a.otherDims.itemName && (i = !0);
            }),
          !i && null != n && (r[n].otherDims.itemName = 0),
          n
        );
      })(f.dimensions, t.createInvertedIndices, o),
      v = a ? null : n.getSharedDataStore(f),
      g = aD(e, { schema: f, store: v }),
      m = new Zi(f, e);
    m.setCalculationInfo(g);
    var y =
      null != d &&
      (function qF(r) {
        if (r.sourceFormat === no) {
          var e = (function jF(r) {
            for (var e = 0; e < r.length && null == r[e]; ) e++;
            return r[e];
          })(r.data || []);
          return !Tt(Io(e));
        }
      })(i)
        ? function (b, w, C, D) {
            return D === d ? C : this.defaultDimValueGetter(b, w, C, D);
          }
        : null;
    return (m.hasItemOption = !1), m.initData(a ? i : v, null, y), m;
  }
  var fs = (function () {
    function r(e) {
      (this._setting = e || {}), (this._extent = [1 / 0, -1 / 0]);
    }
    return (
      (r.prototype.getSetting = function (e) {
        return this._setting[e];
      }),
      (r.prototype.unionExtent = function (e) {
        var t = this._extent;
        e[0] < t[0] && (t[0] = e[0]), e[1] > t[1] && (t[1] = e[1]);
      }),
      (r.prototype.unionExtentFromData = function (e, t) {
        this.unionExtent(e.getApproximateExtent(t));
      }),
      (r.prototype.getExtent = function () {
        return this._extent.slice();
      }),
      (r.prototype.setExtent = function (e, t) {
        var n = this._extent;
        isNaN(e) || (n[0] = e), isNaN(t) || (n[1] = t);
      }),
      (r.prototype.isInExtentRange = function (e) {
        return this._extent[0] <= e && this._extent[1] >= e;
      }),
      (r.prototype.isBlank = function () {
        return this._isBlank;
      }),
      (r.prototype.setBlank = function (e) {
        this._isBlank = e;
      }),
      r
    );
  })();
  Pr(fs);
  var KF = 0,
    O0 = (function () {
      function r(e) {
        (this.categories = e.categories || []),
          (this._needCollect = e.needCollect),
          (this._deduplication = e.deduplication),
          (this.uid = ++KF);
      }
      return (
        (r.createByAxisModel = function (e) {
          var t = e.option,
            n = t.data,
            i = n && Ut(n, QF);
          return new r({
            categories: i,
            needCollect: !i,
            deduplication: !1 !== t.dedplication,
          });
        }),
        (r.prototype.getOrdinal = function (e) {
          return this._getOrCreateMap().get(e);
        }),
        (r.prototype.parseAndCollect = function (e) {
          var t,
            n = this._needCollect;
          if (!ht(e) && !n) return e;
          if (n && !this._deduplication)
            return (this.categories[(t = this.categories.length)] = e), t;
          var i = this._getOrCreateMap();
          return (
            null == (t = i.get(e)) &&
              (n
                ? ((this.categories[(t = this.categories.length)] = e),
                  i.set(e, t))
                : (t = NaN)),
            t
          );
        }),
        (r.prototype._getOrCreateMap = function () {
          return this._map || (this._map = Nt(this.categories));
        }),
        r
      );
    })();
  function QF(r) {
    return Y(r) && null != r.value ? r.value : r + '';
  }
  function F0(r) {
    return 'interval' === r.type || 'log' === r.type;
  }
  function B0(r) {
    var e = Math.pow(10, Hu(r)),
      t = r / e;
    return (
      t ? (2 === t ? (t = 3) : 3 === t ? (t = 5) : (t *= 2)) : (t = 1),
      yn(t * e)
    );
  }
  function oD(r) {
    return xa(r) + 2;
  }
  function sD(r, e, t) {
    r[e] = Math.max(Math.min(r[e], t[1]), t[0]);
  }
  function vg(r, e) {
    return r >= e[0] && r <= e[1];
  }
  function pg(r, e) {
    return e[1] === e[0] ? 0.5 : (r - e[0]) / (e[1] - e[0]);
  }
  function gg(r, e) {
    return r * (e[1] - e[0]) + e[0];
  }
  var mg = (function (r) {
    function e(t) {
      var n = r.call(this, t) || this;
      n.type = 'ordinal';
      var i = n.getSetting('ordinalMeta');
      return (
        i || (i = new O0({})),
        Tt(i) &&
          (i = new O0({
            categories: Ut(i, function (a) {
              return Y(a) ? a.value : a;
            }),
          })),
        (n._ordinalMeta = i),
        (n._extent = n.getSetting('extent') || [0, i.categories.length - 1]),
        n
      );
    }
    return (
      ut(e, r),
      (e.prototype.parse = function (t) {
        return null == t
          ? NaN
          : ht(t)
          ? this._ordinalMeta.getOrdinal(t)
          : Math.round(t);
      }),
      (e.prototype.contain = function (t) {
        return (
          vg((t = this.parse(t)), this._extent) &&
          null != this._ordinalMeta.categories[t]
        );
      }),
      (e.prototype.normalize = function (t) {
        return pg((t = this._getTickNumber(this.parse(t))), this._extent);
      }),
      (e.prototype.scale = function (t) {
        return (
          (t = Math.round(gg(t, this._extent))), this.getRawOrdinalNumber(t)
        );
      }),
      (e.prototype.getTicks = function () {
        for (var t = [], n = this._extent, i = n[0]; i <= n[1]; )
          t.push({ value: i }), i++;
        return t;
      }),
      (e.prototype.getMinorTicks = function (t) {}),
      (e.prototype.setSortInfo = function (t) {
        if (null != t) {
          for (
            var n = t.ordinalNumbers,
              i = (this._ordinalNumbersByTick = []),
              a = (this._ticksByOrdinalNumber = []),
              o = 0,
              s = this._ordinalMeta.categories.length,
              l = Math.min(s, n.length);
            o < l;
            ++o
          ) {
            var u = n[o];
            (i[o] = u), (a[u] = o);
          }
          for (var c = 0; o < s; ++o) {
            for (; null != a[c]; ) c++;
            i.push(c), (a[c] = o);
          }
        } else this._ordinalNumbersByTick = this._ticksByOrdinalNumber = null;
      }),
      (e.prototype._getTickNumber = function (t) {
        var n = this._ticksByOrdinalNumber;
        return n && t >= 0 && t < n.length ? n[t] : t;
      }),
      (e.prototype.getRawOrdinalNumber = function (t) {
        var n = this._ordinalNumbersByTick;
        return n && t >= 0 && t < n.length ? n[t] : t;
      }),
      (e.prototype.getLabel = function (t) {
        if (!this.isBlank()) {
          var n = this.getRawOrdinalNumber(t.value),
            i = this._ordinalMeta.categories[n];
          return null == i ? '' : i + '';
        }
      }),
      (e.prototype.count = function () {
        return this._extent[1] - this._extent[0] + 1;
      }),
      (e.prototype.unionExtentFromData = function (t, n) {
        this.unionExtent(t.getApproximateExtent(n));
      }),
      (e.prototype.isInExtentRange = function (t) {
        return (
          (t = this._getTickNumber(t)),
          this._extent[0] <= t && this._extent[1] >= t
        );
      }),
      (e.prototype.getOrdinalMeta = function () {
        return this._ordinalMeta;
      }),
      (e.prototype.calcNiceTicks = function () {}),
      (e.prototype.calcNiceExtent = function () {}),
      (e.type = 'ordinal'),
      e
    );
  })(fs);
  fs.registerClass(mg);
  var _c = yn,
    al = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (
          (t.type = 'interval'),
          (t._interval = 0),
          (t._intervalPrecision = 2),
          t
        );
      }
      return (
        ut(e, r),
        (e.prototype.parse = function (t) {
          return t;
        }),
        (e.prototype.contain = function (t) {
          return vg(t, this._extent);
        }),
        (e.prototype.normalize = function (t) {
          return pg(t, this._extent);
        }),
        (e.prototype.scale = function (t) {
          return gg(t, this._extent);
        }),
        (e.prototype.setExtent = function (t, n) {
          var i = this._extent;
          isNaN(t) || (i[0] = parseFloat(t)),
            isNaN(n) || (i[1] = parseFloat(n));
        }),
        (e.prototype.unionExtent = function (t) {
          var n = this._extent;
          t[0] < n[0] && (n[0] = t[0]),
            t[1] > n[1] && (n[1] = t[1]),
            this.setExtent(n[0], n[1]);
        }),
        (e.prototype.getInterval = function () {
          return this._interval;
        }),
        (e.prototype.setInterval = function (t) {
          (this._interval = t),
            (this._niceExtent = this._extent.slice()),
            (this._intervalPrecision = oD(t));
        }),
        (e.prototype.getTicks = function (t) {
          var n = this._interval,
            i = this._extent,
            a = this._niceExtent,
            o = this._intervalPrecision,
            s = [];
          if (!n) return s;
          i[0] < a[0] &&
            s.push(t ? { value: _c(a[0] - n, o) } : { value: i[0] });
          for (
            var u = a[0];
            u <= a[1] &&
            (s.push({ value: u }),
            (u = _c(u + n, o)) !== s[s.length - 1].value);

          )
            if (s.length > 1e4) return [];
          var c = s.length ? s[s.length - 1].value : a[1];
          return (
            i[1] > c && s.push(t ? { value: _c(c + n, o) } : { value: i[1] }), s
          );
        }),
        (e.prototype.getMinorTicks = function (t) {
          for (
            var n = this.getTicks(!0), i = [], a = this.getExtent(), o = 1;
            o < n.length;
            o++
          ) {
            for (
              var l = n[o - 1], u = 0, c = [], d = (n[o].value - l.value) / t;
              u < t - 1;

            ) {
              var v = _c(l.value + (u + 1) * d);
              v > a[0] && v < a[1] && c.push(v), u++;
            }
            i.push(c);
          }
          return i;
        }),
        (e.prototype.getLabel = function (t, n) {
          if (null == t) return '';
          var i = n && n.precision;
          return (
            null == i
              ? (i = xa(t.value) || 0)
              : 'auto' === i && (i = this._intervalPrecision),
            Ly(_c(t.value, i, !0))
          );
        }),
        (e.prototype.calcNiceTicks = function (t, n, i) {
          t = t || 5;
          var a = this._extent,
            o = a[1] - a[0];
          if (isFinite(o)) {
            o < 0 && ((o = -o), a.reverse());
            var s = (function tB(r, e, t, n) {
              var i = {},
                o = (i.interval = Xs((r[1] - r[0]) / e, !0));
              null != t && o < t && (o = i.interval = t),
                null != n && o > n && (o = i.interval = n);
              var s = (i.intervalPrecision = oD(o));
              return (
                (function eB(r, e) {
                  !isFinite(r[0]) && (r[0] = e[0]),
                    !isFinite(r[1]) && (r[1] = e[1]),
                    sD(r, 0, e),
                    sD(r, 1, e),
                    r[0] > r[1] && (r[0] = r[1]);
                })(
                  (i.niceTickExtent = [
                    yn(Math.ceil(r[0] / o) * o, s),
                    yn(Math.floor(r[1] / o) * o, s),
                  ]),
                  r
                ),
                i
              );
            })(a, t, n, i);
            (this._intervalPrecision = s.intervalPrecision),
              (this._interval = s.interval),
              (this._niceExtent = s.niceTickExtent);
          }
        }),
        (e.prototype.calcNiceExtent = function (t) {
          var n = this._extent;
          if (n[0] === n[1])
            if (0 !== n[0]) {
              var i = Math.abs(n[0]);
              t.fixMax || (n[1] += i / 2), (n[0] -= i / 2);
            } else n[1] = 1;
          isFinite(n[1] - n[0]) || ((n[0] = 0), (n[1] = 1)),
            this.calcNiceTicks(t.splitNumber, t.minInterval, t.maxInterval);
          var o = this._interval;
          t.fixMin || (n[0] = _c(Math.floor(n[0] / o) * o)),
            t.fixMax || (n[1] = _c(Math.ceil(n[1] / o) * o));
        }),
        (e.prototype.setNiceExtent = function (t, n) {
          this._niceExtent = [t, n];
        }),
        (e.type = 'interval'),
        e
      );
    })(fs);
  fs.registerClass(al);
  var lD = typeof Float32Array < 'u',
    rB = lD ? Float32Array : Array;
  function hs(r) {
    return Tt(r) ? (lD ? new Float32Array(r) : r) : new rB(r);
  }
  var N0 = '__ec_stack_';
  function z0(r) {
    return r.get('stack') || N0 + r.seriesIndex;
  }
  function V0(r) {
    return r.dim + r.index;
  }
  function uD(r, e) {
    var t = [];
    return (
      e.eachSeriesByType(r, function (n) {
        vD(n) && t.push(n);
      }),
      t
    );
  }
  function cD(r) {
    var e = (function iB(r) {
        var e = {};
        F(r, function (l) {
          var c = l.coordinateSystem.getBaseAxis();
          if ('time' === c.type || 'value' === c.type)
            for (
              var f = l.getData(),
                d = c.dim + '_' + c.index,
                v = f.getDimensionIndex(f.mapDimension(c.dim)),
                g = f.getStore(),
                m = 0,
                y = g.count();
              m < y;
              ++m
            ) {
              var b = g.get(v, m);
              e[d] ? e[d].push(b) : (e[d] = [b]);
            }
        });
        var t = {};
        for (var n in e)
          if (e.hasOwnProperty(n)) {
            var i = e[n];
            if (i) {
              i.sort(function (l, u) {
                return l - u;
              });
              for (var a = null, o = 1; o < i.length; ++o) {
                var s = i[o] - i[o - 1];
                s > 0 && (a = null === a ? s : Math.min(a, s));
              }
              t[n] = a;
            }
          }
        return t;
      })(r),
      t = [];
    return (
      F(r, function (n) {
        var s,
          a = n.coordinateSystem.getBaseAxis(),
          o = a.getExtent();
        if ('category' === a.type) s = a.getBandWidth();
        else if ('value' === a.type || 'time' === a.type) {
          var u = e[a.dim + '_' + a.index],
            c = Math.abs(o[1] - o[0]),
            f = a.scale.getExtent(),
            d = Math.abs(f[1] - f[0]);
          s = u ? (c / d) * u : c;
        } else {
          var v = n.getData();
          s = Math.abs(o[1] - o[0]) / v.count();
        }
        var g = Te(n.get('barWidth'), s),
          m = Te(n.get('barMaxWidth'), s),
          y = Te(n.get('barMinWidth') || (pD(n) ? 0.5 : 1), s),
          b = n.get('barGap'),
          w = n.get('barCategoryGap');
        t.push({
          bandWidth: s,
          barWidth: g,
          barMaxWidth: m,
          barMinWidth: y,
          barGap: b,
          barCategoryGap: w,
          axisKey: V0(a),
          stackId: z0(n),
        });
      }),
      fD(t)
    );
  }
  function fD(r) {
    var e = {};
    F(r, function (n, i) {
      var a = n.axisKey,
        o = n.bandWidth,
        s = e[a] || {
          bandWidth: o,
          remainedWidth: o,
          autoWidthCount: 0,
          categoryGap: null,
          gap: '20%',
          stacks: {},
        },
        l = s.stacks;
      e[a] = s;
      var u = n.stackId;
      l[u] || s.autoWidthCount++, (l[u] = l[u] || { width: 0, maxWidth: 0 });
      var c = n.barWidth;
      c &&
        !l[u].width &&
        ((l[u].width = c),
        (c = Math.min(s.remainedWidth, c)),
        (s.remainedWidth -= c));
      var f = n.barMaxWidth;
      f && (l[u].maxWidth = f);
      var d = n.barMinWidth;
      d && (l[u].minWidth = d);
      var v = n.barGap;
      null != v && (s.gap = v);
      var g = n.barCategoryGap;
      null != g && (s.categoryGap = g);
    });
    var t = {};
    return (
      F(e, function (n, i) {
        t[i] = {};
        var a = n.stacks,
          o = n.bandWidth,
          s = n.categoryGap;
        if (null == s) {
          var l = Ne(a).length;
          s = Math.max(35 - 4 * l, 15) + '%';
        }
        var u = Te(s, o),
          c = Te(n.gap, 1),
          f = n.remainedWidth,
          d = n.autoWidthCount,
          v = (f - u) / (d + (d - 1) * c);
        (v = Math.max(v, 0)),
          F(a, function (b) {
            var w = b.maxWidth,
              C = b.minWidth;
            if (b.width) {
              var D = b.width;
              w && (D = Math.min(D, w)),
                C && (D = Math.max(D, C)),
                (b.width = D),
                (f -= D + c * D),
                d--;
            } else (D = v), w && w < D && (D = Math.min(w, f)), C && C > D && (D = C), D !== v && ((b.width = D), (f -= D + c * D), d--);
          }),
          (v = (f - u) / (d + (d - 1) * c)),
          (v = Math.max(v, 0));
        var m,
          g = 0;
        F(a, function (b, w) {
          b.width || (b.width = v), (m = b), (g += b.width * (1 + c));
        }),
          m && (g -= m.width * c);
        var y = -g / 2;
        F(a, function (b, w) {
          (t[i][w] = t[i][w] || { bandWidth: o, offset: y, width: b.width }),
            (y += b.width * (1 + c));
        });
      }),
      t
    );
  }
  function hD(r, e) {
    var t = uD(r, e),
      n = cD(t);
    F(t, function (i) {
      var a = i.getData(),
        s = i.coordinateSystem.getBaseAxis(),
        l = z0(i),
        u = n[V0(s)][l];
      a.setLayout({ bandWidth: u.bandWidth, offset: u.offset, size: u.width });
    });
  }
  function dD(r) {
    return {
      seriesType: r,
      plan: zf(),
      reset: function (e) {
        if (vD(e)) {
          var t = e.getData(),
            n = e.coordinateSystem,
            i = n.getBaseAxis(),
            a = n.getOtherAxis(i),
            o = t.getDimensionIndex(t.mapDimension(a.dim)),
            s = t.getDimensionIndex(t.mapDimension(i.dim)),
            l = e.get('showBackground', !0),
            u = t.mapDimension(a.dim),
            c = t.getCalculationInfo('stackResultDimension'),
            f = il(t, u) && !!t.getCalculationInfo('stackedOnSeries'),
            d = a.isHorizontal(),
            v = (function oB(r, e) {
              return e.toGlobalCoord(e.dataToCoord('log' === e.type ? 1 : 0));
            })(0, a),
            g = pD(e),
            m = e.get('barMinHeight') || 0,
            y = c && t.getDimensionIndex(c),
            b = t.getLayout('size'),
            w = t.getLayout('offset');
          return {
            progress: function (C, D) {
              for (
                var G,
                  L = C.count,
                  M = g && hs(3 * L),
                  E = g && l && hs(3 * L),
                  O = g && hs(L),
                  z = n.master.getRect(),
                  H = d ? z.width : z.height,
                  X = D.getStore(),
                  K = 0;
                null != (G = C.next());

              ) {
                var tt = X.get(f ? y : o, G),
                  ot = X.get(s, G),
                  pt = v,
                  Xt = void 0;
                f && (Xt = +tt - X.get(o, G));
                var Vt = void 0,
                  re = void 0,
                  ye = void 0,
                  ke = void 0;
                if (d) {
                  var Ye = n.dataToPoint([tt, ot]);
                  f && (pt = n.dataToPoint([Xt, ot])[0]),
                    (Vt = pt),
                    (re = Ye[1] + w),
                    (ye = Ye[0] - pt),
                    (ke = b),
                    Math.abs(ye) < m && (ye = (ye < 0 ? -1 : 1) * m);
                } else
                  (Ye = n.dataToPoint([ot, tt])),
                    f && (pt = n.dataToPoint([ot, Xt])[1]),
                    (Vt = Ye[0] + w),
                    (re = pt),
                    (ye = b),
                    (ke = Ye[1] - pt),
                    Math.abs(ke) < m && (ke = (ke <= 0 ? -1 : 1) * m);
                g
                  ? ((M[K] = Vt),
                    (M[K + 1] = re),
                    (M[K + 2] = d ? ye : ke),
                    E &&
                      ((E[K] = d ? z.x : Vt),
                      (E[K + 1] = d ? re : z.y),
                      (E[K + 2] = H)),
                    (O[G] = G))
                  : D.setItemLayout(G, { x: Vt, y: re, width: ye, height: ke }),
                  (K += 3);
              }
              g &&
                D.setLayout({
                  largePoints: M,
                  largeDataIndices: O,
                  largeBackgroundPoints: E,
                  valueAxisHorizontal: d,
                });
            },
          };
        }
      },
    };
  }
  function vD(r) {
    return r.coordinateSystem && 'cartesian2d' === r.coordinateSystem.type;
  }
  function pD(r) {
    return r.pipelineContext && r.pipelineContext.large;
  }
  var H0 = (function (r) {
      function e(t) {
        var n = r.call(this, t) || this;
        return (n.type = 'time'), n;
      }
      return (
        ut(e, r),
        (e.prototype.getLabel = function (t) {
          var n = this.getSetting('useUTC');
          return dd(
            t.value,
            wS[
              (function OP(r) {
                switch (r) {
                  case 'year':
                  case 'month':
                    return 'day';
                  case 'millisecond':
                    return 'millisecond';
                  default:
                    return 'second';
                }
              })(Ef(this._minLevelUnit))
            ] || wS.second,
            n,
            this.getSetting('locale')
          );
        }),
        (e.prototype.getFormattedLabel = function (t, n, i) {
          var a = this.getSetting('useUTC');
          return (function FP(r, e, t, n, i) {
            var a = null;
            if (ht(t)) a = t;
            else if (fe(t)) a = t(r.value, e, { level: r.level });
            else {
              var o = nt({}, hd);
              if (r.level > 0)
                for (var s = 0; s < Ay.length; ++s)
                  o[Ay[s]] = '{primary|' + o[Ay[s]] + '}';
              var l = t ? (!1 === t.inherit ? t : Ot(t, o)) : o,
                u = DS(r.value, i);
              if (l[u]) a = l[u];
              else if (l.inherit) {
                for (s = CS.indexOf(u) - 1; s >= 0; --s)
                  if (l[u]) {
                    a = l[u];
                    break;
                  }
                a = a || o.none;
              }
              if (Tt(a)) {
                var f =
                  null == r.level
                    ? 0
                    : r.level >= 0
                    ? r.level
                    : a.length + r.level;
                a = a[(f = Math.min(f, a.length - 1))];
              }
            }
            return dd(new Date(r.value), a, i, n);
          })(t, n, i, this.getSetting('locale'), a);
        }),
        (e.prototype.getTicks = function () {
          var n = this._extent,
            i = [];
          if (!this._interval) return i;
          i.push({ value: n[0], level: 0 });
          var a = this.getSetting('useUTC'),
            o = (function vB(r, e, t, n) {
              var a = CS,
                o = 0;
              function s(H, G, X, K, tt, ot, pt) {
                for (
                  var Xt = new Date(G), Vt = G, re = Xt[K]();
                  Vt < X && Vt <= n[1];

                )
                  pt.push({ value: Vt }),
                    Xt[tt]((re += H)),
                    (Vt = Xt.getTime());
                pt.push({ value: Vt, notAdd: !0 });
              }
              function l(H, G, X) {
                var K = [],
                  tt = !G.length;
                if (
                  !(function lB(r, e, t, n) {
                    var i = zi(e),
                      a = zi(t),
                      o = function (g) {
                        return TS(i, g, n) === TS(a, g, n);
                      },
                      s = function () {
                        return o('year');
                      },
                      l = function () {
                        return s() && o('month');
                      },
                      u = function () {
                        return l() && o('day');
                      },
                      c = function () {
                        return u() && o('hour');
                      },
                      f = function () {
                        return c() && o('minute');
                      },
                      d = function () {
                        return f() && o('second');
                      };
                    switch (r) {
                      case 'year':
                        return s();
                      case 'month':
                        return l();
                      case 'day':
                        return u();
                      case 'hour':
                        return c();
                      case 'minute':
                        return f();
                      case 'second':
                        return d();
                      case 'millisecond':
                        return d() && o('millisecond');
                    }
                  })(Ef(H), n[0], n[1], t)
                ) {
                  tt &&
                    (G = [
                      { value: dB(new Date(n[0]), H, t) },
                      { value: n[1] },
                    ]);
                  for (var ot = 0; ot < G.length - 1; ot++) {
                    var pt = G[ot].value,
                      Xt = G[ot + 1].value;
                    if (pt !== Xt) {
                      var Vt = void 0,
                        re = void 0,
                        ye = void 0;
                      switch (H) {
                        case 'year':
                          (Vt = Math.max(1, Math.round(e / ro / 365))),
                            (re = My(t)),
                            (ye = BP(t));
                          break;
                        case 'half-year':
                        case 'quarter':
                        case 'month':
                          (Vt = cB(e)), (re = Pf(t)), (ye = AS(t));
                          break;
                        case 'week':
                        case 'half-week':
                        case 'day':
                          (Vt = uB(e)), (re = Pp(t)), (ye = MS(t)), !0;
                          break;
                        case 'half-day':
                        case 'quarter-day':
                        case 'hour':
                          (Vt = fB(e)), (re = vd(t)), (ye = LS(t));
                          break;
                        case 'minute':
                          (Vt = gD(e, !0)), (re = Rp(t)), (ye = IS(t));
                          break;
                        case 'second':
                          (Vt = gD(e, !1)), (re = Op(t)), (ye = kS(t));
                          break;
                        case 'millisecond':
                          (Vt = hB(e)), (re = Fp(t)), (ye = ES(t));
                      }
                      s(Vt, pt, Xt, re, ye, 0, K),
                        'year' === H &&
                          X.length > 1 &&
                          0 === ot &&
                          X.unshift({ value: X[0].value - Vt });
                    }
                  }
                  for (ot = 0; ot < K.length; ot++) X.push(K[ot]);
                  return K;
                }
              }
              for (
                var u = [], c = [], f = 0, d = 0, v = 0;
                v < a.length && o++ < 1e4;
                ++v
              ) {
                var g = Ef(a[v]);
                if (
                  RP(a[v]) &&
                  (l(a[v], u[u.length - 1] || [], c),
                  g !== (a[v + 1] ? Ef(a[v + 1]) : null))
                ) {
                  if (c.length) {
                    (d = f),
                      c.sort(function (H, G) {
                        return H.value - G.value;
                      });
                    for (var y = [], b = 0; b < c.length; ++b) {
                      var w = c[b].value;
                      (0 === b || c[b - 1].value !== w) &&
                        (y.push(c[b]), w >= n[0] && w <= n[1] && f++);
                    }
                    var C = (n[1] - n[0]) / e;
                    if (
                      (f > 1.5 * C && d > C / 1.5) ||
                      (u.push(y), f > C || r === a[v])
                    )
                      break;
                  }
                  c = [];
                }
              }
              o >= 1e4 && ln('Exceed safe limit.');
              var D = je(
                  Ut(u, function (H) {
                    return je(H, function (G) {
                      return G.value >= n[0] && G.value <= n[1] && !G.notAdd;
                    });
                  }),
                  function (H) {
                    return H.length > 0;
                  }
                ),
                L = [],
                M = D.length - 1;
              for (v = 0; v < D.length; ++v)
                for (var E = D[v], O = 0; O < E.length; ++O)
                  L.push({ value: E[O].value, level: M - v });
              L.sort(function (H, G) {
                return H.value - G.value;
              });
              var z = [];
              for (v = 0; v < L.length; ++v)
                (0 === v || L[v].value !== L[v - 1].value) && z.push(L[v]);
              return z;
            })(this._minLevelUnit, this._approxInterval, a, n);
          return (i = i.concat(o)).push({ value: n[1], level: 0 }), i;
        }),
        (e.prototype.calcNiceExtent = function (t) {
          var n = this._extent;
          if (
            (n[0] === n[1] && ((n[0] -= ro), (n[1] += ro)),
            n[1] === -1 / 0 && n[0] === 1 / 0)
          ) {
            var i = new Date();
            (n[1] = +new Date(i.getFullYear(), i.getMonth(), i.getDate())),
              (n[0] = n[1] - ro);
          }
          this.calcNiceTicks(t.splitNumber, t.minInterval, t.maxInterval);
        }),
        (e.prototype.calcNiceTicks = function (t, n, i) {
          var a = this._extent;
          (this._approxInterval = (a[1] - a[0]) / (t = t || 10)),
            null != n && this._approxInterval < n && (this._approxInterval = n),
            null != i && this._approxInterval > i && (this._approxInterval = i);
          var s = yg.length,
            l = Math.min(
              (function (r, e, t, n) {
                for (; t < n; ) {
                  var i = (t + n) >>> 1;
                  r[i][1] < e ? (t = i + 1) : (n = i);
                }
                return t;
              })(yg, this._approxInterval, 0, s),
              s - 1
            );
          (this._interval = yg[l][1]),
            (this._minLevelUnit = yg[Math.max(l - 1, 0)][0]);
        }),
        (e.prototype.parse = function (t) {
          return U(t) ? t : +zi(t);
        }),
        (e.prototype.contain = function (t) {
          return vg(this.parse(t), this._extent);
        }),
        (e.prototype.normalize = function (t) {
          return pg(this.parse(t), this._extent);
        }),
        (e.prototype.scale = function (t) {
          return gg(t, this._extent);
        }),
        (e.type = 'time'),
        e
      );
    })(al),
    yg = [
      ['second', 1e3],
      ['minute', 6e4],
      ['hour', fd],
      ['quarter-day', 6 * fd],
      ['half-day', 12 * fd],
      ['day', 1.2 * ro],
      ['half-week', 3.5 * ro],
      ['week', 7 * ro],
      ['month', 31 * ro],
      ['quarter', 95 * ro],
      ['half-year', SS / 2],
      ['year', SS],
    ];
  function uB(r, e) {
    return (r /= ro) > 16 ? 16 : r > 7.5 ? 7 : r > 3.5 ? 4 : r > 1.5 ? 2 : 1;
  }
  function cB(r) {
    return (r /= 30 * ro) > 6 ? 6 : r > 3 ? 3 : r > 2 ? 2 : 1;
  }
  function fB(r) {
    return (r /= fd) > 12 ? 12 : r > 6 ? 6 : r > 3.5 ? 4 : r > 2 ? 2 : 1;
  }
  function gD(r, e) {
    return (r /= e ? 6e4 : 1e3) > 30
      ? 30
      : r > 20
      ? 20
      : r > 15
      ? 15
      : r > 10
      ? 10
      : r > 5
      ? 5
      : r > 2
      ? 2
      : 1;
  }
  function hB(r) {
    return Xs(r, !0);
  }
  function dB(r, e, t) {
    var n = new Date(r);
    switch (Ef(e)) {
      case 'year':
      case 'month':
        n[AS(t)](0);
      case 'day':
        n[MS(t)](1);
      case 'hour':
        n[LS(t)](0);
      case 'minute':
        n[IS(t)](0);
      case 'second':
        n[kS(t)](0), n[ES(t)](0);
    }
    return n.getTime();
  }
  fs.registerClass(H0);
  var mD = fs.prototype,
    Rd = al.prototype,
    pB = yn,
    gB = Math.floor,
    mB = Math.ceil,
    xg = Math.pow,
    No = Math.log,
    G0 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (
          (t.type = 'log'),
          (t.base = 10),
          (t._originalScale = new al()),
          (t._interval = 0),
          t
        );
      }
      return (
        ut(e, r),
        (e.prototype.getTicks = function (t) {
          var i = this._extent,
            a = this._originalScale.getExtent();
          return Ut(
            Rd.getTicks.call(this, t),
            function (s) {
              var l = s.value,
                u = yn(xg(this.base, l));
              return (
                (u = l === i[0] && this._fixMin ? bg(u, a[0]) : u),
                { value: (u = l === i[1] && this._fixMax ? bg(u, a[1]) : u) }
              );
            },
            this
          );
        }),
        (e.prototype.setExtent = function (t, n) {
          var i = No(this.base);
          (t = No(Math.max(0, t)) / i),
            (n = No(Math.max(0, n)) / i),
            Rd.setExtent.call(this, t, n);
        }),
        (e.prototype.getExtent = function () {
          var t = this.base,
            n = mD.getExtent.call(this);
          (n[0] = xg(t, n[0])), (n[1] = xg(t, n[1]));
          var a = this._originalScale.getExtent();
          return (
            this._fixMin && (n[0] = bg(n[0], a[0])),
            this._fixMax && (n[1] = bg(n[1], a[1])),
            n
          );
        }),
        (e.prototype.unionExtent = function (t) {
          this._originalScale.unionExtent(t);
          var n = this.base;
          (t[0] = No(t[0]) / No(n)),
            (t[1] = No(t[1]) / No(n)),
            mD.unionExtent.call(this, t);
        }),
        (e.prototype.unionExtentFromData = function (t, n) {
          this.unionExtent(t.getApproximateExtent(n));
        }),
        (e.prototype.calcNiceTicks = function (t) {
          t = t || 10;
          var n = this._extent,
            i = n[1] - n[0];
          if (!(i === 1 / 0 || i <= 0)) {
            var a = Vu(i);
            for (
              (t / i) * a <= 0.5 && (a *= 10);
              !isNaN(a) && Math.abs(a) < 1 && Math.abs(a) > 0;

            )
              a *= 10;
            var s = [yn(mB(n[0] / a) * a), yn(gB(n[1] / a) * a)];
            (this._interval = a), (this._niceExtent = s);
          }
        }),
        (e.prototype.calcNiceExtent = function (t) {
          Rd.calcNiceExtent.call(this, t),
            (this._fixMin = t.fixMin),
            (this._fixMax = t.fixMax);
        }),
        (e.prototype.parse = function (t) {
          return t;
        }),
        (e.prototype.contain = function (t) {
          return vg((t = No(t) / No(this.base)), this._extent);
        }),
        (e.prototype.normalize = function (t) {
          return pg((t = No(t) / No(this.base)), this._extent);
        }),
        (e.prototype.scale = function (t) {
          return (t = gg(t, this._extent)), xg(this.base, t);
        }),
        (e.type = 'log'),
        e
      );
    })(fs),
    yD = G0.prototype;
  function bg(r, e) {
    return pB(r, xa(e));
  }
  (yD.getMinorTicks = Rd.getMinorTicks),
    (yD.getLabel = Rd.getLabel),
    fs.registerClass(G0);
  var yB = (function () {
      function r(e, t, n) {
        this._prepareParams(e, t, n);
      }
      return (
        (r.prototype._prepareParams = function (e, t, n) {
          n[1] < n[0] && (n = [NaN, NaN]),
            (this._dataMin = n[0]),
            (this._dataMax = n[1]);
          var i = (this._isOrdinal = 'ordinal' === e.type);
          this._needCrossZero =
            'interval' === e.type && t.getNeedCrossZero && t.getNeedCrossZero();
          var a = (this._modelMinRaw = t.get('min', !0));
          fe(a)
            ? (this._modelMinNum = _g(e, a({ min: n[0], max: n[1] })))
            : 'dataMin' !== a && (this._modelMinNum = _g(e, a));
          var o = (this._modelMaxRaw = t.get('max', !0));
          if (
            (fe(o)
              ? (this._modelMaxNum = _g(e, o({ min: n[0], max: n[1] })))
              : 'dataMax' !== o && (this._modelMaxNum = _g(e, o)),
            i)
          )
            this._axisDataLen = t.getCategories().length;
          else {
            var s = t.get('boundaryGap'),
              l = Tt(s) ? s : [s || 0, s || 0];
            'boolean' == typeof l[0] || 'boolean' == typeof l[1]
              ? (console.warn(
                  'Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'
                ),
                (this._boundaryGapInner = [0, 0]))
              : (this._boundaryGapInner = [Ni(l[0], 1), Ni(l[1], 1)]);
          }
        }),
        (r.prototype.calculate = function () {
          var e = this._isOrdinal,
            t = this._dataMin,
            n = this._dataMax,
            i = this._axisDataLen,
            a = this._boundaryGapInner,
            o = e ? null : n - t || Math.abs(t),
            s = 'dataMin' === this._modelMinRaw ? t : this._modelMinNum,
            l = 'dataMax' === this._modelMaxRaw ? n : this._modelMaxNum,
            u = null != s,
            c = null != l;
          null == s && (s = e ? (i ? 0 : NaN) : t - a[0] * o),
            null == l && (l = e ? (i ? i - 1 : NaN) : n + a[1] * o),
            (null == s || !isFinite(s)) && (s = NaN),
            (null == l || !isFinite(l)) && (l = NaN);
          var f = Wt(s) || Wt(l) || (e && !i);
          this._needCrossZero &&
            (s > 0 && l > 0 && !u && (s = 0), s < 0 && l < 0 && !c && (l = 0));
          var d = this._determinedMin,
            v = this._determinedMax;
          return (
            null != d && ((s = d), (u = !0)),
            null != v && ((l = v), (c = !0)),
            { min: s, max: l, minFixed: u, maxFixed: c, isBlank: f }
          );
        }),
        (r.prototype.modifyDataMinMax = function (e, t) {
          lt(!this.frozen), (this[bB[e]] = t);
        }),
        (r.prototype.setDeterminedMinMax = function (e, t) {
          var n = xB[e];
          lt(!this.frozen && null == this[n]), (this[n] = t);
        }),
        (r.prototype.freeze = function () {
          this.frozen = !0;
        }),
        r
      );
    })(),
    xB = { min: '_determinedMin', max: '_determinedMax' },
    bB = { min: '_dataMin', max: '_dataMax' };
  function xD(r, e, t) {
    var n = r.rawExtentInfo;
    return n || ((n = new yB(r, e, t)), (r.rawExtentInfo = n), n);
  }
  function _g(r, e) {
    return null == e ? null : Wt(e) ? NaN : r.parse(e);
  }
  function bD(r, e) {
    var t = r.type,
      n = xD(r, e, r.getExtent()).calculate();
    r.setBlank(n.isBlank);
    var i = n.min,
      a = n.max,
      o = e.ecModel;
    if (o && 'time' === t) {
      var s = uD('bar', o),
        l = !1;
      if (
        (F(s, function (f) {
          l = l || f.getBaseAxis() === e.axis;
        }),
        l)
      ) {
        var u = cD(s),
          c = (function _B(r, e, t, n) {
            var i = t.axis.getExtent(),
              a = i[1] - i[0],
              o = (function aB(r, e, t) {
                if (r && e) {
                  var n = r[V0(e)];
                  return null != n && null != t ? n[z0(t)] : n;
                }
              })(n, t.axis);
            if (void 0 === o) return { min: r, max: e };
            var s = 1 / 0;
            F(o, function (v) {
              s = Math.min(v.offset, s);
            });
            var l = -1 / 0;
            F(o, function (v) {
              l = Math.max(v.offset + v.width, l);
            }),
              (s = Math.abs(s)),
              (l = Math.abs(l));
            var u = s + l,
              c = e - r,
              d = c / (1 - (s + l) / a) - c;
            return { min: (r -= d * (s / u)), max: (e += d * (l / u)) };
          })(i, a, e, u);
        (i = c.min), (a = c.max);
      }
    }
    return { extent: [i, a], fixMin: n.minFixed, fixMax: n.maxFixed };
  }
  function Sc(r, e) {
    var t = e,
      n = bD(r, t),
      i = n.extent,
      a = t.get('splitNumber');
    r instanceof G0 && (r.base = t.get('logBase'));
    var o = r.type,
      s = t.get('interval'),
      l = 'interval' === o || 'time' === o;
    r.setExtent(i[0], i[1]),
      r.calcNiceExtent({
        splitNumber: a,
        fixMin: n.fixMin,
        fixMax: n.fixMax,
        minInterval: l ? t.get('minInterval') : null,
        maxInterval: l ? t.get('maxInterval') : null,
      }),
      null != s && r.setInterval && r.setInterval(s);
  }
  function Od(r, e) {
    if ((e = e || r.get('type')))
      switch (e) {
        case 'category':
          return new mg({
            ordinalMeta: r.getOrdinalMeta
              ? r.getOrdinalMeta()
              : r.getCategories(),
            extent: [1 / 0, -1 / 0],
          });
        case 'time':
          return new H0({
            locale: r.ecModel.getLocaleModel(),
            useUTC: r.ecModel.get('useUTC'),
          });
        default:
          return new (fs.getClass(e) || al)();
      }
  }
  function Fd(r) {
    var n,
      e = r.getLabelModel().get('formatter'),
      t = 'category' === r.type ? r.scale.getExtent()[0] : null;
    return 'time' === r.scale.type
      ? ((n = e),
        function (i, a) {
          return r.scale.getFormattedLabel(i, a, n);
        })
      : ht(e)
      ? (function (n) {
          return function (i) {
            var a = r.scale.getLabel(i);
            return n.replace('{value}', a ?? '');
          };
        })(e)
      : fe(e)
      ? (function (n) {
          return function (i, a) {
            return (
              null != t && (a = i.value - t),
              n(W0(r, i), a, null != i.level ? { level: i.level } : null)
            );
          };
        })(e)
      : function (n) {
          return r.scale.getLabel(n);
        };
  }
  function W0(r, e) {
    return 'category' === r.type ? r.scale.getLabel(e) : e.value;
  }
  function CB(r, e) {
    var t = (e * Math.PI) / 180,
      n = r.width,
      i = r.height,
      a = n * Math.abs(Math.cos(t)) + Math.abs(i * Math.sin(t)),
      o = n * Math.abs(Math.sin(t)) + Math.abs(i * Math.cos(t));
    return new it(r.x, r.y, a, o);
  }
  function $0(r) {
    return r.get('interval') ?? 'auto';
  }
  function _D(r) {
    return 'category' === r.type && 0 === $0(r.getLabelModel());
  }
  function Sg(r, e) {
    var t = {};
    return (
      F(r.mapDimensionsAll(e), function (n) {
        t[R0(r, n)] = !0;
      }),
      Ne(t)
    );
  }
  var qf = (function () {
      function r() {}
      return (
        (r.prototype.getNeedCrossZero = function () {
          return !this.option.scale;
        }),
        (r.prototype.getCoordSysModel = function () {}),
        r
      );
    })(),
    kB = Object.freeze({
      __proto__: null,
      createList: function TB(r) {
        return cs(null, r);
      },
      getLayoutRect: Vn,
      dataStack: {
        isDimensionStacked: il,
        enableDataStack: aD,
        getStackedDimension: R0,
      },
      createScale: function MB(r, e) {
        var t = e;
        e instanceof Yr || (t = new Yr(e));
        var n = Od(t);
        return n.setExtent(r[0], r[1]), Sc(n, t), n;
      },
      mixinAxisModelCommonMethods: function LB(r) {
        Ee(r, qf);
      },
      getECData: fr,
      createTextStyle: function IB(r, e) {
        return on(r, null, null, 'normal' !== (e = e || {}).state);
      },
      createDimensions: function zF(r, e) {
        return Xf(r, e).dimensions;
      },
      createSymbol: En,
      enableHoverEmphasis: Wl,
    }),
    EB = 1e-8;
  function SD(r, e) {
    return Math.abs(r - e) < EB;
  }
  function wc(r, e, t) {
    var n = 0,
      i = r[0];
    if (!i) return !1;
    for (var a = 1; a < r.length; a++) {
      var o = r[a];
      (n += Ks(i[0], i[1], o[0], o[1], e, t)), (i = o);
    }
    var s = r[0];
    return (
      (!SD(i[0], s[0]) || !SD(i[1], s[1])) &&
        (n += Ks(i[0], i[1], s[0], s[1], e, t)),
      0 !== n
    );
  }
  var PB = [];
  function U0(r, e) {
    for (var t = 0; t < r.length; t++) dn(r[t], r[t], e);
  }
  function wD(r, e, t, n) {
    for (var i = 0; i < r.length; i++) {
      var a = r[i];
      n && (a = n.project(a)),
        a && isFinite(a[0]) && isFinite(a[1]) && (Mi(e, e, a), Ln(t, t, a));
    }
  }
  var CD = (function () {
      function r(e) {
        this.name = e;
      }
      return (
        (r.prototype.setCenter = function (e) {
          this._center = e;
        }),
        (r.prototype.getCenter = function () {
          var e = this._center;
          return e || (e = this._center = this.calcCenter()), e;
        }),
        r
      );
    })(),
    DD = function r(e, t) {
      (this.type = 'polygon'), (this.exterior = e), (this.interiors = t);
    },
    TD = function r(e) {
      (this.type = 'linestring'), (this.points = e);
    },
    AD = (function (r) {
      function e(t, n, i) {
        var a = r.call(this, t) || this;
        return (
          (a.type = 'geoJSON'),
          (a.geometries = n),
          (a._center = i && [i[0], i[1]]),
          a
        );
      }
      return (
        ut(e, r),
        (e.prototype.calcCenter = function () {
          for (var n, t = this.geometries, i = 0, a = 0; a < t.length; a++) {
            var o = t[a],
              s = o.exterior,
              l = s && s.length;
            l > i && ((n = o), (i = l));
          }
          if (n)
            return (function RB(r) {
              for (
                var e = 0,
                  t = 0,
                  n = 0,
                  i = r.length,
                  a = r[i - 1][0],
                  o = r[i - 1][1],
                  s = 0;
                s < i;
                s++
              ) {
                var l = r[s][0],
                  u = r[s][1],
                  c = a * u - l * o;
                (e += c),
                  (t += (a + l) * c),
                  (n += (o + u) * c),
                  (a = l),
                  (o = u);
              }
              return e
                ? [t / e / 3, n / e / 3, e]
                : [r[0][0] || 0, r[0][1] || 0];
            })(n.exterior);
          var u = this.getBoundingRect();
          return [u.x + u.width / 2, u.y + u.height / 2];
        }),
        (e.prototype.getBoundingRect = function (t) {
          var n = this._rect;
          if (n && !t) return n;
          var i = [1 / 0, 1 / 0],
            a = [-1 / 0, -1 / 0];
          return (
            F(this.geometries, function (s) {
              'polygon' === s.type
                ? wD(s.exterior, i, a, t)
                : F(s.points, function (l) {
                    wD(l, i, a, t);
                  });
            }),
            (isFinite(i[0]) &&
              isFinite(i[1]) &&
              isFinite(a[0]) &&
              isFinite(a[1])) ||
              (i[0] = i[1] = a[0] = a[1] = 0),
            (n = new it(i[0], i[1], a[0] - i[0], a[1] - i[1])),
            t || (this._rect = n),
            n
          );
        }),
        (e.prototype.contain = function (t) {
          var n = this.getBoundingRect(),
            i = this.geometries;
          if (!n.contain(t[0], t[1])) return !1;
          t: for (var a = 0, o = i.length; a < o; a++) {
            var s = i[a];
            if ('polygon' === s.type) {
              var u = s.interiors;
              if (wc(s.exterior, t[0], t[1])) {
                for (var c = 0; c < (u ? u.length : 0); c++)
                  if (wc(u[c], t[0], t[1])) continue t;
                return !0;
              }
            }
          }
          return !1;
        }),
        (e.prototype.transformTo = function (t, n, i, a) {
          var o = this.getBoundingRect(),
            s = o.width / o.height;
          i ? a || (a = i / s) : (i = s * a);
          for (
            var l = new it(t, n, i, a),
              u = o.calculateTransform(l),
              c = this.geometries,
              f = 0;
            f < c.length;
            f++
          ) {
            var d = c[f];
            'polygon' === d.type
              ? (U0(d.exterior, u),
                F(d.interiors, function (v) {
                  U0(v, u);
                }))
              : F(d.points, function (v) {
                  U0(v, u);
                });
          }
          (o = this._rect).copy(l),
            (this._center = [o.x + o.width / 2, o.y + o.height / 2]);
        }),
        (e.prototype.cloneShallow = function (t) {
          null == t && (t = this.name);
          var n = new e(t, this.geometries, this._center);
          return (n._rect = this._rect), (n.transformTo = null), n;
        }),
        e
      );
    })(CD),
    OB = (function (r) {
      function e(t, n) {
        var i = r.call(this, t) || this;
        return (i.type = 'geoSVG'), (i._elOnlyForCalculate = n), i;
      }
      return (
        ut(e, r),
        (e.prototype.calcCenter = function () {
          for (
            var t = this._elOnlyForCalculate,
              n = t.getBoundingRect(),
              i = [n.x + n.width / 2, n.y + n.height / 2],
              a = $a(PB),
              o = t;
            o && !o.isGeoSVGGraphicRoot;

          )
            Pi(a, o.getLocalTransform(), a), (o = o.parent);
          return xo(a, a), dn(i, i, a), i;
        }),
        e
      );
    })(CD);
  function Y0(r, e, t) {
    for (var n = 0; n < r.length; n++) r[n] = MD(r[n], e[n], t);
  }
  function MD(r, e, t) {
    for (var n = [], i = e[0], a = e[1], o = 0; o < r.length; o += 2) {
      var s = r.charCodeAt(o) - 64,
        l = r.charCodeAt(o + 1) - 64;
      (s = (s >> 1) ^ -(1 & s)),
        (l = (l >> 1) ^ -(1 & l)),
        (i = s += i),
        (a = l += a),
        n.push([s / t, l / t]);
    }
    return n;
  }
  function X0(r, e) {
    return (
      (r = (function FB(r) {
        if (!r.UTF8Encoding) return r;
        var e = r,
          t = e.UTF8Scale;
        return (
          null == t && (t = 1024),
          F(e.features, function (i) {
            var a = i.geometry,
              o = a.encodeOffsets,
              s = a.coordinates;
            if (o)
              switch (a.type) {
                case 'LineString':
                  a.coordinates = MD(s, o, t);
                  break;
                case 'Polygon':
                case 'MultiLineString':
                  Y0(s, o, t);
                  break;
                case 'MultiPolygon':
                  F(s, function (l, u) {
                    return Y0(l, o[u], t);
                  });
              }
          }),
          (e.UTF8Encoding = !1),
          e
        );
      })(r)),
      Ut(
        je(r.features, function (t) {
          return (
            t.geometry && t.properties && t.geometry.coordinates.length > 0
          );
        }),
        function (t) {
          var n = t.properties,
            i = t.geometry,
            a = [];
          switch (i.type) {
            case 'Polygon':
              var o = i.coordinates;
              a.push(new DD(o[0], o.slice(1)));
              break;
            case 'MultiPolygon':
              F(i.coordinates, function (l) {
                l[0] && a.push(new DD(l[0], l.slice(1)));
              });
              break;
            case 'LineString':
              a.push(new TD([i.coordinates]));
              break;
            case 'MultiLineString':
              a.push(new TD(i.coordinates));
          }
          var s = new AD(n[e || 'name'], a, n.cp);
          return (s.properties = n), s;
        }
      )
    );
  }
  var BB = Object.freeze({
      __proto__: null,
      linearMap: kr,
      round: yn,
      asc: Zn,
      getPrecision: xa,
      getPrecisionSafe: Bu,
      getPixelPrecision: uf,
      getPercentWithPrecision: function cf(r, e, t) {
        return (r[e] && Ys(r, t)[e]) || 0;
      },
      MAX_SAFE_INTEGER: Nu,
      remRadian: zu,
      isRadianAroundZero: Lo,
      parseDate: zi,
      quantity: Vu,
      quantityExponent: Hu,
      nice: Xs,
      quantile: Gu,
      reformIntervals: ff,
      isNumeric: Wu,
      numericToNumber: ba,
    }),
    NB = Object.freeze({ __proto__: null, parse: zi, format: dd }),
    zB = Object.freeze({
      __proto__: null,
      extendShape: iS,
      extendPath: aS,
      makePath: od,
      makeImage: vy,
      mergePath: Ba,
      resizePath: py,
      createIcon: Mf,
      updateProps: Wr,
      initProps: pn,
      getTransform: Yl,
      clipPointsByRect: gy,
      clipRectByRect: lS,
      registerShape: eo,
      getShapeClass: Dp,
      Group: Qe,
      Image: ai,
      Text: Or,
      Circle: to,
      Ellipse: ed,
      Sector: Gi,
      Ring: Sf,
      Polygon: Wi,
      Polyline: $i,
      Rect: Rr,
      Line: Jn,
      BezierCurve: wf,
      Arc: id,
      IncrementalDisplayable: eS,
      CompoundPath: xp,
      LinearGradient: Cf,
      RadialGradient: fy,
      BoundingRect: it,
    }),
    VB = Object.freeze({
      __proto__: null,
      addCommas: Ly,
      toCamelCase: Iy,
      normalizeCssArray: lc,
      encodeHTML: Dn,
      formatTpl: Py,
      getTooltipMarker: RS,
      formatTime: function VP(r, e, t) {
        un('echarts.format.formatTime', 'echarts.time.format'),
          ('week' === r ||
            'month' === r ||
            'quarter' === r ||
            'half-year' === r ||
            'year' === r) &&
            (r = 'MM-dd\nyyyy');
        var n = zi(e),
          i = t ? 'getUTC' : 'get',
          a = n[i + 'FullYear'](),
          o = n[i + 'Month']() + 1,
          s = n[i + 'Date'](),
          l = n[i + 'Hours'](),
          u = n[i + 'Minutes'](),
          c = n[i + 'Seconds'](),
          f = n[i + 'Milliseconds']();
        return r
          .replace('MM', ca(o, 2))
          .replace('M', o)
          .replace('yyyy', a)
          .replace('yy', ca((a % 100) + '', 2))
          .replace('dd', ca(s, 2))
          .replace('d', s)
          .replace('hh', ca(l, 2))
          .replace('h', l)
          .replace('mm', ca(u, 2))
          .replace('m', u)
          .replace('ss', ca(c, 2))
          .replace('s', c)
          .replace('SSS', ca(f, 3));
      },
      capitalFirst: function HP(r) {
        return r && r.charAt(0).toUpperCase() + r.substr(1);
      },
      truncateText: jn,
      getTextRect: function NP(r, e, t, n, i, a, o, s) {
        return new Or({
          style: {
            text: r,
            font: e,
            align: t,
            verticalAlign: n,
            padding: i,
            rich: a,
            overflow: o ? 'truncate' : null,
            lineHeight: s,
          },
        }).getBoundingRect();
      },
    }),
    HB = Object.freeze({
      __proto__: null,
      map: Ut,
      each: F,
      indexOf: $,
      inherits: Xe,
      reduce: Oe,
      filter: je,
      bind: kt,
      curry: me,
      isArray: Tt,
      isString: ht,
      isObject: Y,
      isFunction: fe,
      extend: nt,
      defaults: Ot,
      clone: ft,
      merge: Gt,
    }),
    Bd = S();
  function LD(r, e) {
    var a,
      o,
      t = ID(r, 'labels'),
      n = $0(e);
    return (
      kD(t, n) ||
      (fe(n)
        ? (a = RD(r, n))
        : ((o =
            'auto' === n
              ? (function XB(r) {
                  return (
                    Bd(r).autoInterval ??
                    (Bd(r).autoInterval = r.calculateCategoryInterval())
                  );
                })(r)
              : n),
          (a = PD(r, o))),
      ED(t, n, { labels: a, labelCategoryInterval: o }))
    );
  }
  function ID(r, e) {
    return Bd(r)[e] || (Bd(r)[e] = []);
  }
  function kD(r, e) {
    for (var t = 0; t < r.length; t++) if (r[t].key === e) return r[t].value;
  }
  function ED(r, e, t) {
    return r.push({ key: e, value: t }), t;
  }
  function PD(r, e, t) {
    var n = Fd(r),
      i = r.scale,
      a = i.getExtent(),
      o = r.getLabelModel(),
      s = [],
      l = Math.max((e || 0) + 1, 1),
      u = a[0],
      c = i.count();
    0 !== u && l > 1 && c / l > 2 && (u = Math.round(Math.ceil(u / l) * l));
    var f = _D(r),
      d = o.get('showMinLabel') || f,
      v = o.get('showMaxLabel') || f;
    d && u !== a[0] && m(a[0]);
    for (var g = u; g <= a[1]; g += l) m(g);
    function m(y) {
      var b = { value: y };
      s.push(
        t ? y : { formattedLabel: n(b), rawLabel: i.getLabel(b), tickValue: y }
      );
    }
    return v && g - l !== a[1] && m(a[1]), s;
  }
  function RD(r, e, t) {
    var n = r.scale,
      i = Fd(r),
      a = [];
    return (
      F(n.getTicks(), function (o) {
        var s = n.getLabel(o),
          l = o.value;
        e(o.value, s) &&
          a.push(t ? l : { formattedLabel: i(o), rawLabel: s, tickValue: l });
      }),
      a
    );
  }
  var OD = [0, 1],
    lo = (function () {
      function r(e, t, n) {
        (this.onBand = !1),
          (this.inverse = !1),
          (this.dim = e),
          (this.scale = t),
          (this._extent = n || [0, 0]);
      }
      return (
        (r.prototype.contain = function (e) {
          var t = this._extent,
            n = Math.min(t[0], t[1]),
            i = Math.max(t[0], t[1]);
          return e >= n && e <= i;
        }),
        (r.prototype.containData = function (e) {
          return this.scale.contain(e);
        }),
        (r.prototype.getExtent = function () {
          return this._extent.slice();
        }),
        (r.prototype.getPixelPrecision = function (e) {
          return uf(e || this.scale.getExtent(), this._extent);
        }),
        (r.prototype.setExtent = function (e, t) {
          var n = this._extent;
          (n[0] = e), (n[1] = t);
        }),
        (r.prototype.dataToCoord = function (e, t) {
          var n = this._extent,
            i = this.scale;
          return (
            (e = i.normalize(e)),
            this.onBand &&
              'ordinal' === i.type &&
              FD((n = n.slice()), i.count()),
            kr(e, OD, n, t)
          );
        }),
        (r.prototype.coordToData = function (e, t) {
          var n = this._extent,
            i = this.scale;
          this.onBand && 'ordinal' === i.type && FD((n = n.slice()), i.count());
          var a = kr(e, n, OD, t);
          return this.scale.scale(a);
        }),
        (r.prototype.pointToData = function (e, t) {}),
        (r.prototype.getTicksCoords = function (e) {
          var t = (e = e || {}).tickModel || this.getTickModel(),
            a = Ut(
              (function WB(r, e) {
                return 'category' === r.type
                  ? (function UB(r, e) {
                      var a,
                        o,
                        t = ID(r, 'ticks'),
                        n = $0(e),
                        i = kD(t, n);
                      if (i) return i;
                      if (
                        ((!e.get('show') || r.scale.isBlank()) && (a = []),
                        fe(n))
                      )
                        a = RD(r, n, !0);
                      else if ('auto' === n) {
                        var s = LD(r, r.getLabelModel());
                        (o = s.labelCategoryInterval),
                          (a = Ut(s.labels, function (l) {
                            return l.tickValue;
                          }));
                      } else a = PD(r, (o = n), !0);
                      return ED(t, n, { ticks: a, tickCategoryInterval: o });
                    })(r, e)
                  : {
                      ticks: Ut(r.scale.getTicks(), function (t) {
                        return t.value;
                      }),
                    };
              })(this, t).ticks,
              function (s) {
                return {
                  coord: this.dataToCoord(
                    'ordinal' === this.scale.type
                      ? this.scale.getRawOrdinalNumber(s)
                      : s
                  ),
                  tickValue: s,
                };
              },
              this
            );
          return (
            (function jB(r, e, t, n) {
              var i = e.length;
              if (r.onBand && !t && i) {
                var o,
                  a = r.getExtent();
                if (1 === i) (e[0].coord = a[0]), (o = e[1] = { coord: a[1] });
                else {
                  var u =
                    (e[i - 1].coord - e[0].coord) /
                    (e[i - 1].tickValue - e[0].tickValue);
                  F(e, function (v) {
                    v.coord -= u / 2;
                  });
                  var c = r.scale.getExtent();
                  e.push(
                    (o = {
                      coord:
                        e[i - 1].coord + u * (1 + c[1] - e[i - 1].tickValue),
                    })
                  );
                }
                var f = a[0] > a[1];
                d(e[0].coord, a[0]) && (n ? (e[0].coord = a[0]) : e.shift()),
                  n && d(a[0], e[0].coord) && e.unshift({ coord: a[0] }),
                  d(a[1], o.coord) && (n ? (o.coord = a[1]) : e.pop()),
                  n && d(o.coord, a[1]) && e.push({ coord: a[1] });
              }
              function d(v, g) {
                return (v = yn(v)), (g = yn(g)), f ? v > g : v < g;
              }
            })(this, a, t.get('alignWithLabel'), e.clamp),
            a
          );
        }),
        (r.prototype.getMinorTicksCoords = function () {
          if ('ordinal' === this.scale.type) return [];
          var t = this.model.getModel('minorTick').get('splitNumber');
          return (
            (t > 0 && t < 100) || (t = 5),
            Ut(
              this.scale.getMinorTicks(t),
              function (a) {
                return Ut(
                  a,
                  function (o) {
                    return { coord: this.dataToCoord(o), tickValue: o };
                  },
                  this
                );
              },
              this
            )
          );
        }),
        (r.prototype.getViewLabels = function () {
          return (function GB(r) {
            return 'category' === r.type
              ? (function $B(r) {
                  var e = r.getLabelModel(),
                    t = LD(r, e);
                  return !e.get('show') || r.scale.isBlank()
                    ? {
                        labels: [],
                        labelCategoryInterval: t.labelCategoryInterval,
                      }
                    : t;
                })(r)
              : (function YB(r) {
                  var e = r.scale.getTicks(),
                    t = Fd(r);
                  return {
                    labels: Ut(e, function (n, i) {
                      return {
                        level: n.level,
                        formattedLabel: t(n, i),
                        rawLabel: r.scale.getLabel(n),
                        tickValue: n.value,
                      };
                    }),
                  };
                })(r);
          })(this).labels;
        }),
        (r.prototype.getLabelModel = function () {
          return this.model.getModel('axisLabel');
        }),
        (r.prototype.getTickModel = function () {
          return this.model.getModel('axisTick');
        }),
        (r.prototype.getBandWidth = function () {
          var e = this._extent,
            t = this.scale.getExtent(),
            n = t[1] - t[0] + (this.onBand ? 1 : 0);
          0 === n && (n = 1);
          var i = Math.abs(e[1] - e[0]);
          return Math.abs(i) / n;
        }),
        (r.prototype.calculateCategoryInterval = function () {
          return (function ZB(r) {
            var e = (function qB(r) {
                var e = r.getLabelModel();
                return {
                  axisRotate: r.getRotate
                    ? r.getRotate()
                    : r.isHorizontal && !r.isHorizontal()
                    ? 90
                    : 0,
                  labelRotate: e.get('rotate') || 0,
                  font: e.getFont(),
                };
              })(r),
              t = Fd(r),
              n = ((e.axisRotate - e.labelRotate) / 180) * Math.PI,
              i = r.scale,
              a = i.getExtent(),
              o = i.count();
            if (a[1] - a[0] < 1) return 0;
            var s = 1;
            o > 40 && (s = Math.max(1, Math.floor(o / 40)));
            for (
              var l = a[0],
                u = r.dataToCoord(l + 1) - r.dataToCoord(l),
                c = Math.abs(u * Math.cos(n)),
                f = Math.abs(u * Math.sin(n)),
                d = 0,
                v = 0;
              l <= a[1];
              l += s
            ) {
              var m,
                y = kl(t({ value: l }), e.font, 'center', 'top');
              (m = 1.3 * y.height),
                (d = Math.max(d, 1.3 * y.width, 7)),
                (v = Math.max(v, m, 7));
            }
            var b = d / c,
              w = v / f;
            isNaN(b) && (b = 1 / 0), isNaN(w) && (w = 1 / 0);
            var C = Math.max(0, Math.floor(Math.min(b, w))),
              D = Bd(r.model),
              L = r.getExtent(),
              M = D.lastAutoInterval,
              E = D.lastTickCount;
            return (
              null != M &&
              null != E &&
              Math.abs(M - C) <= 1 &&
              Math.abs(E - o) <= 1 &&
              M > C &&
              D.axisExtent0 === L[0] &&
              D.axisExtent1 === L[1]
                ? (C = M)
                : ((D.lastTickCount = o),
                  (D.lastAutoInterval = C),
                  (D.axisExtent0 = L[0]),
                  (D.axisExtent1 = L[1])),
              C
            );
          })(this);
        }),
        r
      );
    })();
  function FD(r, e) {
    var i = (r[1] - r[0]) / e / 2;
    (r[0] += i), (r[1] -= i);
  }
  var Nd = 2 * Math.PI,
    Cc = os.CMD,
    eN = ['top', 'right', 'bottom', 'left'];
  function rN(r, e, t, n, i) {
    var a = t.width,
      o = t.height;
    switch (r) {
      case 'top':
        n.set(t.x + a / 2, t.y - e), i.set(0, -1);
        break;
      case 'bottom':
        n.set(t.x + a / 2, t.y + o + e), i.set(0, 1);
        break;
      case 'left':
        n.set(t.x - e, t.y + o / 2), i.set(-1, 0);
        break;
      case 'right':
        n.set(t.x + a + e, t.y + o / 2), i.set(1, 0);
    }
  }
  function nN(r, e, t, n, i, a, o, s, l) {
    (o -= r), (s -= e);
    var u = Math.sqrt(o * o + s * s),
      c = (o /= u) * t + r,
      f = (s /= u) * t + e;
    if (Math.abs(n - i) % Nd < 1e-4) return (l[0] = c), (l[1] = f), u - t;
    if (a) {
      var d = n;
      (n = Eo(i)), (i = Eo(d));
    } else (n = Eo(n)), (i = Eo(i));
    n > i && (i += Nd);
    var v = Math.atan2(s, o);
    if (
      (v < 0 && (v += Nd), (v >= n && v <= i) || (v + Nd >= n && v + Nd <= i))
    )
      return (l[0] = c), (l[1] = f), u - t;
    var g = t * Math.cos(n) + r,
      m = t * Math.sin(n) + e,
      y = t * Math.cos(i) + r,
      b = t * Math.sin(i) + e,
      w = (g - o) * (g - o) + (m - s) * (m - s),
      C = (y - o) * (y - o) + (b - s) * (b - s);
    return w < C
      ? ((l[0] = g), (l[1] = m), Math.sqrt(w))
      : ((l[0] = y), (l[1] = b), Math.sqrt(C));
  }
  function wg(r, e, t, n, i, a, o, s) {
    var l = i - r,
      u = a - e,
      c = t - r,
      f = n - e,
      d = Math.sqrt(c * c + f * f),
      g = (l * (c /= d) + u * (f /= d)) / d;
    s && (g = Math.min(Math.max(g, 0), 1));
    var m = (o[0] = r + (g *= d) * c),
      y = (o[1] = e + g * f);
    return Math.sqrt((m - i) * (m - i) + (y - a) * (y - a));
  }
  function BD(r, e, t, n, i, a, o) {
    t < 0 && ((r += t), (t = -t)), n < 0 && ((e += n), (n = -n));
    var s = r + t,
      l = e + n,
      u = (o[0] = Math.min(Math.max(i, r), s)),
      c = (o[1] = Math.min(Math.max(a, e), l));
    return Math.sqrt((u - i) * (u - i) + (c - a) * (c - a));
  }
  var zo = [];
  function iN(r, e, t) {
    var n = BD(e.x, e.y, e.width, e.height, r.x, r.y, zo);
    return t.set(zo[0], zo[1]), n;
  }
  function aN(r, e, t) {
    for (
      var s,
        l,
        n = 0,
        i = 0,
        a = 0,
        o = 0,
        u = 1 / 0,
        c = e.data,
        f = r.x,
        d = r.y,
        v = 0;
      v < c.length;

    ) {
      var g = c[v++];
      1 === v && ((a = n = c[v]), (o = i = c[v + 1]));
      var m = u;
      switch (g) {
        case Cc.M:
          (n = a = c[v++]), (i = o = c[v++]);
          break;
        case Cc.L:
          (m = wg(n, i, c[v], c[v + 1], f, d, zo, !0)),
            (n = c[v++]),
            (i = c[v++]);
          break;
        case Cc.C:
          (m = jc(
            n,
            i,
            c[v++],
            c[v++],
            c[v++],
            c[v++],
            c[v],
            c[v + 1],
            f,
            d,
            zo
          )),
            (n = c[v++]),
            (i = c[v++]);
          break;
        case Cc.Q:
          (m = Qc(n, i, c[v++], c[v++], c[v], c[v + 1], f, d, zo)),
            (n = c[v++]),
            (i = c[v++]);
          break;
        case Cc.A:
          var y = c[v++],
            b = c[v++],
            w = c[v++],
            C = c[v++],
            D = c[v++],
            L = c[v++];
          v += 1;
          var M = !!(1 - c[v++]);
          (s = Math.cos(D) * w + y),
            (l = Math.sin(D) * C + b),
            v <= 1 && ((a = s), (o = l)),
            (m = nN(y, b, C, D, D + L, M, ((f - y) * C) / w + y, d, zo)),
            (n = Math.cos(D + L) * w + y),
            (i = Math.sin(D + L) * C + b);
          break;
        case Cc.R:
          m = BD((a = n = c[v++]), (o = i = c[v++]), c[v++], c[v++], f, d, zo);
          break;
        case Cc.Z:
          (m = wg(n, i, a, o, f, d, zo, !0)), (n = a), (i = o);
      }
      m < u && ((u = m), t.set(zo[0], zo[1]));
    }
    return u;
  }
  var Vo = new ur(),
    hn = new ur(),
    Pn = new ur(),
    ds = new ur(),
    vs = new ur();
  function ND(r, e) {
    if (r) {
      var t = r.getTextGuideLine(),
        n = r.getTextContent();
      if (n && t) {
        var i = r.textGuideLineConfig || {},
          a = [
            [0, 0],
            [0, 0],
            [0, 0],
          ],
          o = i.candidates || eN,
          s = n.getBoundingRect().clone();
        s.applyTransform(n.getComputedTransform());
        var l = 1 / 0,
          u = i.anchor,
          c = r.getComputedTransform(),
          f = c && xo([], c),
          d = e.get('length2') || 0;
        u && Pn.copy(u);
        for (var v = 0; v < o.length; v++) {
          rN(o[v], 0, s, Vo, ds),
            ur.scaleAndAdd(hn, Vo, ds, d),
            hn.transform(f);
          var m = r.getBoundingRect(),
            y = u
              ? u.distance(hn)
              : r instanceof Lr
              ? aN(hn, r.path, Pn)
              : iN(hn, m, Pn);
          y < l &&
            ((l = y),
            hn.transform(c),
            Pn.transform(c),
            Pn.toArray(a[0]),
            hn.toArray(a[1]),
            Vo.toArray(a[2]));
        }
        zD(a, e.get('minTurnAngle')), t.setShape({ points: a });
      }
    }
  }
  var Cg = [],
    ha = new ur();
  function zD(r, e) {
    if (e <= 180 && e > 0) {
      (e = (e / 180) * Math.PI),
        Vo.fromArray(r[0]),
        hn.fromArray(r[1]),
        Pn.fromArray(r[2]),
        ur.sub(ds, Vo, hn),
        ur.sub(vs, Pn, hn);
      var t = ds.len(),
        n = vs.len();
      if (!(t < 0.001 || n < 0.001)) {
        ds.scale(1 / t), vs.scale(1 / n);
        var i = ds.dot(vs);
        if (Math.cos(e) < i) {
          var o = wg(hn.x, hn.y, Pn.x, Pn.y, Vo.x, Vo.y, Cg, !1);
          ha.fromArray(Cg), ha.scaleAndAdd(vs, o / Math.tan(Math.PI - e));
          var s =
            Pn.x !== hn.x
              ? (ha.x - hn.x) / (Pn.x - hn.x)
              : (ha.y - hn.y) / (Pn.y - hn.y);
          if (isNaN(s)) return;
          s < 0 ? ur.copy(ha, hn) : s > 1 && ur.copy(ha, Pn), ha.toArray(r[1]);
        }
      }
    }
  }
  function oN(r, e, t) {
    if (t <= 180 && t > 0) {
      (t = (t / 180) * Math.PI),
        Vo.fromArray(r[0]),
        hn.fromArray(r[1]),
        Pn.fromArray(r[2]),
        ur.sub(ds, hn, Vo),
        ur.sub(vs, Pn, hn);
      var n = ds.len(),
        i = vs.len();
      if (
        !(n < 0.001 || i < 0.001) &&
        (ds.scale(1 / n), vs.scale(1 / i), ds.dot(e) < Math.cos(t))
      ) {
        var s = wg(hn.x, hn.y, Pn.x, Pn.y, Vo.x, Vo.y, Cg, !1);
        ha.fromArray(Cg);
        var l = Math.PI / 2,
          c = l + Math.acos(vs.dot(e)) - t;
        if (c >= l) ur.copy(ha, Pn);
        else {
          ha.scaleAndAdd(vs, s / Math.tan(Math.PI / 2 - c));
          var f =
            Pn.x !== hn.x
              ? (ha.x - hn.x) / (Pn.x - hn.x)
              : (ha.y - hn.y) / (Pn.y - hn.y);
          if (isNaN(f)) return;
          f < 0 ? ur.copy(ha, hn) : f > 1 && ur.copy(ha, Pn);
        }
        ha.toArray(r[1]);
      }
    }
  }
  function VD(r, e, t, n) {
    var i = 'normal' === t,
      a = i ? r : r.ensureState(t);
    a.ignore = e;
    var o = n.get('smooth');
    o && !0 === o && (o = 0.3),
      (a.shape = a.shape || {}),
      o > 0 && (a.shape.smooth = o);
    var s = n.getModel('lineStyle').getLineStyle();
    i ? r.useStyle(s) : (a.style = s);
  }
  function sN(r, e) {
    var t = e.smooth,
      n = e.points;
    if (n)
      if ((r.moveTo(n[0][0], n[0][1]), t > 0 && n.length >= 3)) {
        var i = $n(n[0], n[1]),
          a = $n(n[1], n[2]);
        if (!i || !a)
          return r.lineTo(n[1][0], n[1][1]), void r.lineTo(n[2][0], n[2][1]);
        var o = Math.min(i, a) * t,
          s = Je([], n[1], n[0], o / i),
          l = Je([], n[1], n[2], o / a),
          u = Je([], s, l, 0.5);
        r.bezierCurveTo(s[0], s[1], s[0], s[1], u[0], u[1]),
          r.bezierCurveTo(l[0], l[1], l[0], l[1], n[2][0], n[2][1]);
      } else for (var c = 1; c < n.length; c++) r.lineTo(n[c][0], n[c][1]);
  }
  function Z0(r, e, t) {
    var n = r.getTextGuideLine(),
      i = r.getTextContent();
    if (i) {
      for (
        var a = e.normal, o = a.get('show'), s = i.ignore, l = 0;
        l < Kh.length;
        l++
      ) {
        var u = Kh[l],
          c = e[u],
          f = 'normal' === u;
        if (c) {
          var d = c.get('show');
          if ((f ? s : B(i.states[u] && i.states[u].ignore, s)) || !B(d, o)) {
            var g = f ? n : n && n.states[u];
            g && (g.ignore = !0);
            continue;
          }
          n ||
            ((n = new $i()),
            r.setTextGuideLine(n),
            !f && (s || !o) && VD(n, !0, 'normal', e.normal),
            r.stateProxy && (n.stateProxy = r.stateProxy)),
            VD(n, !1, u, c);
        }
      }
      if (n) {
        Ot(n.style, t), (n.style.fill = null);
        var m = a.get('showAbove');
        ((r.textGuideLineConfig = r.textGuideLineConfig || {}).showAbove =
          m || !1),
          (n.buildPath = sN);
      }
    } else n && r.removeTextGuideLine();
  }
  function q0(r, e) {
    for (
      var t = { normal: r.getModel((e = e || 'labelLine')) }, n = 0;
      n < ua.length;
      n++
    ) {
      var i = ua[n];
      t[i] = r.getModel([i, e]);
    }
    return t;
  }
  function HD(r) {
    for (var e = [], t = 0; t < r.length; t++) {
      var n = r[t];
      if (!n.defaultAttr.ignore) {
        var i = n.label,
          a = i.getComputedTransform(),
          o = i.getBoundingRect(),
          s = !a || (a[1] < 1e-5 && a[2] < 1e-5),
          l = i.style.margin || 0,
          u = o.clone();
        u.applyTransform(a),
          (u.x -= l / 2),
          (u.y -= l / 2),
          (u.width += l),
          (u.height += l);
        var c = s ? new Sp(o, a) : null;
        e.push({
          label: i,
          labelLine: n.labelLine,
          rect: u,
          localRect: o,
          obb: c,
          priority: n.priority,
          defaultAttr: n.defaultAttr,
          layoutOption: n.computedLayoutOption,
          axisAligned: s,
          transform: a,
        });
      }
    }
    return e;
  }
  function GD(r, e, t, n, i, a) {
    var o = r.length;
    if (!(o < 2)) {
      r.sort(function (O, z) {
        return O.rect[e] - z.rect[e];
      });
      for (var l, s = 0, u = !1, c = 0, f = 0; f < o; f++) {
        var d = r[f],
          v = d.rect;
        (l = v[e] - s) < 0 && ((v[e] -= l), (d.label[e] -= l), (u = !0)),
          (c += Math.max(-l, 0)),
          (s = v[e] + v[t]);
      }
      c > 0 && a && L(-c / o, 0, o);
      var b,
        w,
        m = r[0],
        y = r[o - 1];
      return (
        C(),
        b < 0 && M(-b, 0.8),
        w < 0 && M(w, 0.8),
        C(),
        D(b, w, 1),
        D(w, b, -1),
        C(),
        b < 0 && E(-b),
        w < 0 && E(w),
        u
      );
    }
    function C() {
      (b = m.rect[e] - n), (w = i - y.rect[e] - y.rect[t]);
    }
    function D(O, z, H) {
      if (O < 0) {
        var G = Math.min(z, -O);
        if (G > 0) {
          L(G * H, 0, o);
          var X = G + O;
          X < 0 && M(-X * H, 1);
        } else M(-O * H, 1);
      }
    }
    function L(O, z, H) {
      0 !== O && (u = !0);
      for (var G = z; G < H; G++) {
        var X = r[G];
        (X.rect[e] += O), (X.label[e] += O);
      }
    }
    function M(O, z) {
      for (var H = [], G = 0, X = 1; X < o; X++) {
        var K = r[X - 1].rect,
          tt = Math.max(r[X].rect[e] - K[e] - K[t], 0);
        H.push(tt), (G += tt);
      }
      if (G) {
        var ot = Math.min(Math.abs(O) / G, z);
        if (O > 0) for (X = 0; X < o - 1; X++) L(H[X] * ot, 0, X + 1);
        else for (X = o - 1; X > 0; X--) L(-H[X - 1] * ot, X, o);
      }
    }
    function E(O) {
      var z = O < 0 ? -1 : 1;
      O = Math.abs(O);
      for (var H = Math.ceil(O / (o - 1)), G = 0; G < o - 1; G++)
        if ((z > 0 ? L(H, 0, G + 1) : L(-H, o - G - 1, o), (O -= H) <= 0))
          return;
    }
  }
  function WD(r, e, t, n) {
    return GD(r, 'y', 'height', e, t, n);
  }
  function $D(r) {
    var e = [];
    r.sort(function (m, y) {
      return y.priority - m.priority;
    });
    var t = new it(0, 0, 0, 0);
    function n(m) {
      if (!m.ignore) {
        var y = m.ensureState('emphasis');
        null == y.ignore && (y.ignore = !1);
      }
      m.ignore = !0;
    }
    for (var i = 0; i < r.length; i++) {
      var a = r[i],
        o = a.axisAligned,
        s = a.localRect,
        l = a.transform,
        u = a.label,
        c = a.labelLine;
      t.copy(a.rect),
        (t.width -= 0.1),
        (t.height -= 0.1),
        (t.x += 0.05),
        (t.y += 0.05);
      for (var f = a.obb, d = !1, v = 0; v < e.length; v++) {
        var g = e[v];
        if (t.intersect(g.rect)) {
          if (o && g.axisAligned) {
            d = !0;
            break;
          }
          if (
            (g.obb || (g.obb = new Sp(g.localRect, g.transform)),
            f || (f = new Sp(s, l)),
            f.intersect(g.obb))
          ) {
            d = !0;
            break;
          }
        }
      }
      d
        ? (n(u), c && n(c))
        : (u.attr('ignore', a.defaultAttr.ignore),
          c && c.attr('ignore', a.defaultAttr.labelGuideIgnore),
          e.push(a));
    }
  }
  function uN(r) {
    if (r) {
      for (var e = [], t = 0; t < r.length; t++) e.push(r[t].slice());
      return e;
    }
  }
  function cN(r, e) {
    var t = r.label,
      n = e && e.getTextGuideLine();
    return {
      dataIndex: r.dataIndex,
      dataType: r.dataType,
      seriesIndex: r.seriesModel.seriesIndex,
      text: r.label.style.text,
      rect: r.hostRect,
      labelRect: r.rect,
      align: t.style.align,
      verticalAlign: t.style.verticalAlign,
      labelLinePoints: uN(n && n.shape.points),
    };
  }
  var UD = ['align', 'verticalAlign', 'width', 'height', 'fontSize'],
    da = new Qa(),
    j0 = S(),
    fN = S();
  function Dg(r, e, t) {
    for (var n = 0; n < t.length; n++) {
      var i = t[n];
      null != e[i] && (r[i] = e[i]);
    }
  }
  var Tg = ['x', 'y', 'rotation'],
    hN = (function () {
      function r() {
        (this._labelList = []), (this._chartViewList = []);
      }
      return (
        (r.prototype.clearLabels = function () {
          (this._labelList = []), (this._chartViewList = []);
        }),
        (r.prototype._addLabel = function (e, t, n, i, a) {
          var o = i.style,
            l = i.__hostTarget.textConfig || {},
            u = i.getComputedTransform(),
            c = i.getBoundingRect().plain();
          it.applyTransform(c, c, u),
            u
              ? da.setLocalTransform(u)
              : ((da.x = da.y = da.rotation = da.originX = da.originY = 0),
                (da.scaleX = da.scaleY = 1)),
            (da.rotation = Eo(da.rotation));
          var d,
            f = i.__hostTarget;
          if (f) {
            d = f.getBoundingRect().plain();
            var v = f.getComputedTransform();
            it.applyTransform(d, d, v);
          }
          var g = d && f.getTextGuideLine();
          this._labelList.push({
            label: i,
            labelLine: g,
            seriesModel: n,
            dataIndex: e,
            dataType: t,
            layoutOption: a,
            computedLayoutOption: null,
            rect: c,
            hostRect: d,
            priority: d ? d.width * d.height : 0,
            defaultAttr: {
              ignore: i.ignore,
              labelGuideIgnore: g && g.ignore,
              x: da.x,
              y: da.y,
              scaleX: da.scaleX,
              scaleY: da.scaleY,
              rotation: da.rotation,
              style: {
                x: o.x,
                y: o.y,
                align: o.align,
                verticalAlign: o.verticalAlign,
                width: o.width,
                height: o.height,
                fontSize: o.fontSize,
              },
              cursor: i.cursor,
              attachedPos: l.position,
              attachedRot: l.rotation,
            },
          });
        }),
        (r.prototype.addLabelsOfSeries = function (e) {
          var t = this;
          this._chartViewList.push(e);
          var n = e.__model,
            i = n.get('labelLayout');
          (fe(i) || Ne(i).length) &&
            e.group.traverse(function (a) {
              if (a.ignore) return !0;
              var o = a.getTextContent(),
                s = fr(a);
              o &&
                !o.disableLabelLayout &&
                t._addLabel(s.dataIndex, s.dataType, n, o, i);
            });
        }),
        (r.prototype.updateLayoutConfig = function (e) {
          var t = e.getWidth(),
            n = e.getHeight();
          function i(C, D) {
            return function () {
              ND(C, D);
            };
          }
          for (var a = 0; a < this._labelList.length; a++) {
            var o = this._labelList[a],
              s = o.label,
              l = s.__hostTarget,
              u = o.defaultAttr,
              c = void 0;
            (c = fe(o.layoutOption)
              ? o.layoutOption(cN(o, l))
              : o.layoutOption),
              (o.computedLayoutOption = c = c || {});
            var f = Math.PI / 180;
            l &&
              l.setTextConfig({
                local: !1,
                position: null != c.x || null != c.y ? null : u.attachedPos,
                rotation: null != c.rotate ? c.rotate * f : u.attachedRot,
                offset: [c.dx || 0, c.dy || 0],
              });
            var d = !1;
            if (
              (null != c.x
                ? ((s.x = Te(c.x, t)), s.setStyle('x', 0), (d = !0))
                : ((s.x = u.x), s.setStyle('x', u.style.x)),
              null != c.y
                ? ((s.y = Te(c.y, n)), s.setStyle('y', 0), (d = !0))
                : ((s.y = u.y), s.setStyle('y', u.style.y)),
              c.labelLinePoints)
            ) {
              var v = l.getTextGuideLine();
              v && (v.setShape({ points: c.labelLinePoints }), (d = !1));
            }
            (j0(s).needsUpdateLabelLine = d),
              (s.rotation = null != c.rotate ? c.rotate * f : u.rotation),
              (s.scaleX = u.scaleX),
              (s.scaleY = u.scaleY);
            for (var m = 0; m < UD.length; m++) {
              var y = UD[m];
              s.setStyle(y, null != c[y] ? c[y] : u.style[y]);
            }
            if (c.draggable) {
              if (((s.draggable = !0), (s.cursor = 'move'), l)) {
                var b = o.seriesModel;
                null != o.dataIndex &&
                  (b = o.seriesModel
                    .getData(o.dataType)
                    .getItemModel(o.dataIndex)),
                  s.on('drag', i(l, b.getModel('labelLine')));
              }
            } else s.off('drag'), (s.cursor = u.cursor);
          }
        }),
        (r.prototype.layout = function (e) {
          var t = e.getWidth(),
            n = e.getHeight(),
            i = HD(this._labelList),
            a = je(i, function (l) {
              return 'shiftX' === l.layoutOption.moveOverlap;
            }),
            o = je(i, function (l) {
              return 'shiftY' === l.layoutOption.moveOverlap;
            });
          (function lN(r, e, t, n) {
            GD(r, 'x', 'width', e, t, n);
          })(a, 0, t),
            WD(o, 0, n),
            $D(
              je(i, function (l) {
                return l.layoutOption.hideOverlap;
              })
            );
        }),
        (r.prototype.processLabelsOverall = function () {
          var e = this;
          F(this._chartViewList, function (t) {
            var n = t.__model,
              i = t.ignoreLabelLineUpdate,
              a = n.isAnimationEnabled();
            t.group.traverse(function (o) {
              if (o.ignore && !o.forceLabelAnimation) return !0;
              var s = !i,
                l = o.getTextContent();
              !s && l && (s = j0(l).needsUpdateLabelLine),
                s && e._updateLabelLine(o, n),
                a && e._animateLabels(o, n);
            });
          });
        }),
        (r.prototype._updateLabelLine = function (e, t) {
          var n = e.getTextContent(),
            i = fr(e),
            a = i.dataIndex;
          if (n && null != a) {
            var o = t.getData(i.dataType),
              s = o.getItemModel(a),
              l = {},
              u = o.getItemVisual(a, 'style');
            if (u) {
              var c = o.getVisual('drawType');
              l.stroke = u[c];
            }
            var f = s.getModel('labelLine');
            Z0(e, q0(s), l), ND(e, f);
          }
        }),
        (r.prototype._animateLabels = function (e, t) {
          var n = e.getTextContent(),
            i = e.getTextGuideLine();
          if (
            n &&
            (e.forceLabelAnimation ||
              (!n.ignore && !n.invisible && !e.disableLabelAnimation && !Tf(e)))
          ) {
            var o = (a = j0(n)).oldLayout,
              s = fr(e),
              l = s.dataIndex,
              u = { x: n.x, y: n.y, rotation: n.rotation },
              c = t.getData(s.dataType);
            if (o) {
              n.attr(o);
              var d = e.prevStates;
              d &&
                ($(d, 'select') >= 0 && n.attr(a.oldLayoutSelect),
                $(d, 'emphasis') >= 0 && n.attr(a.oldLayoutEmphasis)),
                Wr(n, u, t, l);
            } else if ((n.attr(u), !If(n).valueAnimation)) {
              var f = B(n.style.opacity, 1);
              (n.style.opacity = 0), pn(n, { style: { opacity: f } }, t, l);
            }
            if (((a.oldLayout = u), n.states.select)) {
              var v = (a.oldLayoutSelect = {});
              Dg(v, u, Tg), Dg(v, n.states.select, Tg);
            }
            if (n.states.emphasis) {
              var g = (a.oldLayoutEmphasis = {});
              Dg(g, u, Tg), Dg(g, n.states.emphasis, Tg);
            }
            yS(n, l, c, t, t);
          }
          if (i && !i.ignore && !i.invisible) {
            var a = fN(i),
              m = { points: i.shape.points };
            (o = a.oldLayout)
              ? (i.attr({ shape: o }), Wr(i, { shape: m }, t))
              : (i.setShape(m),
                (i.style.strokePercent = 0),
                pn(i, { style: { strokePercent: 1 } }, t)),
              (a.oldLayout = m);
          }
        }),
        r
      );
    })(),
    K0 = S(),
    Q0 = Math.sin,
    J0 = Math.cos,
    YD = Math.PI,
    Dc = 2 * Math.PI,
    vN = 180 / YD,
    XD = (function () {
      function r() {}
      return (
        (r.prototype.reset = function (e) {
          (this._start = !0),
            (this._d = []),
            (this._str = ''),
            (this._p = Math.pow(10, e || 4));
        }),
        (r.prototype.moveTo = function (e, t) {
          this._add('M', e, t);
        }),
        (r.prototype.lineTo = function (e, t) {
          this._add('L', e, t);
        }),
        (r.prototype.bezierCurveTo = function (e, t, n, i, a, o) {
          this._add('C', e, t, n, i, a, o);
        }),
        (r.prototype.quadraticCurveTo = function (e, t, n, i) {
          this._add('Q', e, t, n, i);
        }),
        (r.prototype.arc = function (e, t, n, i, a, o) {
          this.ellipse(e, t, n, n, 0, i, a, o);
        }),
        (r.prototype.ellipse = function (e, t, n, i, a, o, s, l) {
          var g,
            u = s - o,
            c = !l,
            f = Math.abs(u),
            d = ya(f - Dc) || (c ? u >= Dc : -u >= Dc),
            v = u > 0 ? u % Dc : (u % Dc) + Dc;
          g = !!d || (!ya(f) && v >= YD == !!c);
          var m = e + n * J0(o),
            y = t + i * Q0(o);
          this._start && this._add('M', m, y);
          var b = Math.round(a * vN);
          if (d) {
            var w = 1 / this._p,
              C = (c ? 1 : -1) * (Dc - w);
            this._add(
              'A',
              n,
              i,
              b,
              1,
              +c,
              e + n * J0(o + C),
              t + i * Q0(o + C)
            ),
              w > 0.01 && this._add('A', n, i, b, 0, +c, m, y);
          } else {
            var D = e + n * J0(s),
              L = t + i * Q0(s);
            this._add('A', n, i, b, +g, +c, D, L);
          }
        }),
        (r.prototype.rect = function (e, t, n, i) {
          this._add('M', e, t),
            this._add('l', n, 0),
            this._add('l', 0, i),
            this._add('l', -n, 0),
            this._add('Z');
        }),
        (r.prototype.closePath = function () {
          this._d.length > 0 && this._add('Z');
        }),
        (r.prototype._add = function (e, t, n, i, a, o, s, l, u) {
          for (var c = [], f = this._p, d = 1; d < arguments.length; d++) {
            var v = arguments[d];
            if (isNaN(v)) return void (this._invalid = !0);
            c.push(Math.round(v * f) / f);
          }
          this._d.push(e + c.join(' ')), (this._start = 'Z' === e);
        }),
        (r.prototype.generateStr = function () {
          (this._str = this._invalid ? '' : this._d.join('')), (this._d = []);
        }),
        (r.prototype.getStr = function () {
          return this._str;
        }),
        r
      );
    })(),
    zd = 'none',
    pN = Math.round,
    t1 = ['lineCap', 'miterLimit', 'lineJoin'],
    yN = Ut(t1, function (r) {
      return 'stroke-' + r.toLowerCase();
    });
  var ZD = 'http://www.w3.org/2000/svg',
    qD = 'http://www.w3.org/1999/xlink',
    bN = 'http://www.w3.org/2000/xmlns/',
    _N = 'http://www.w3.org/XML/1998/namespace';
  function jD(r) {
    return document.createElementNS(ZD, r);
  }
  function li(r, e, t, n, i) {
    return { tag: r, attrs: t || {}, children: n, text: i, key: e };
  }
  function e1(r, e) {
    var t = (e = e || {}).newline ? '\n' : '';
    return (function n(i) {
      var a = i.children,
        o = i.tag,
        l = i.text;
      return (
        (function SN(r, e) {
          var t = [];
          if (e)
            for (var n in e) {
              var i = e[n],
                a = n;
              !1 !== i &&
                (!0 !== i && null != i && (a += '="' + i + '"'), t.push(a));
            }
          return '<' + r + ' ' + t.join(' ') + '>';
        })(o, i.attrs) +
        ('style' !== o ? Dn(l) : l || '') +
        (a
          ? '' +
            t +
            Ut(a, function (u) {
              return n(u);
            }).join(t) +
            t
          : '') +
        (function wN(r) {
          return '</' + r + '>';
        })(o)
      );
    })(r);
  }
  function r1(r) {
    return {
      zrId: r,
      shadowCache: {},
      patternCache: {},
      gradientCache: {},
      clipPathCache: {},
      defs: {},
      cssNodes: {},
      cssAnims: {},
      cssClassIdx: 0,
      cssAnimIdx: 0,
      shadowIdx: 0,
      gradientIdx: 0,
      patternIdx: 0,
      clipPathIdx: 0,
    };
  }
  function KD(r, e, t, n) {
    return li(
      'svg',
      'root',
      {
        width: r,
        height: e,
        xmlns: ZD,
        'xmlns:xlink': qD,
        version: '1.1',
        baseProfile: 'full',
        viewBox: !!n && '0 0 ' + r + ' ' + e,
      },
      t
    );
  }
  var QD = {
      cubicIn: '0.32,0,0.67,0',
      cubicOut: '0.33,1,0.68,1',
      cubicInOut: '0.65,0,0.35,1',
      quadraticIn: '0.11,0,0.5,0',
      quadraticOut: '0.5,1,0.89,1',
      quadraticInOut: '0.45,0,0.55,1',
      quarticIn: '0.5,0,0.75,0',
      quarticOut: '0.25,1,0.5,1',
      quarticInOut: '0.76,0,0.24,1',
      quinticIn: '0.64,0,0.78,0',
      quinticOut: '0.22,1,0.36,1',
      quinticInOut: '0.83,0,0.17,1',
      sinusoidalIn: '0.12,0,0.39,0',
      sinusoidalOut: '0.61,1,0.88,1',
      sinusoidalInOut: '0.37,0,0.63,1',
      exponentialIn: '0.7,0,0.84,0',
      exponentialOut: '0.16,1,0.3,1',
      exponentialInOut: '0.87,0,0.13,1',
      circularIn: '0.55,0,1,0.45',
      circularOut: '0,0.55,0.45,1',
      circularInOut: '0.85,0,0.15,1',
    },
    Tc = 'transform-origin';
  function DN(r, e, t) {
    var n = nt({}, r.shape);
    nt(n, e), r.buildPath(t, n);
    var i = new XD();
    return i.reset(kv(r)), t.rebuildPath(i, 1), i.generateStr(), i.getStr();
  }
  function TN(r, e) {
    var t = e.originX,
      n = e.originY;
    (t || n) && (r[Tc] = t + 'px ' + n + 'px');
  }
  var AN = {
    fill: 'fill',
    opacity: 'opacity',
    lineWidth: 'stroke-width',
    lineDashOffset: 'stroke-dashoffset',
  };
  function JD(r, e) {
    var t = e.zrId + '-ani-' + e.cssAnimIdx++;
    return (e.cssAnims[t] = r), t;
  }
  function tT(r) {
    return ht(r)
      ? QD[r]
        ? 'cubic-bezier(' + QD[r] + ')'
        : pu(r)
        ? r
        : ''
      : '';
  }
  function Ag(r, e, t, n) {
    var i = r.animators,
      a = i.length,
      o = [];
    if (r instanceof xp) {
      var s = (function MN(r, e, t) {
        var a,
          o,
          i = {};
        if (
          (F(r.shape.paths, function (l) {
            var u = r1(t.zrId);
            (u.animation = !0), Ag(l, {}, u, !0);
            var c = u.cssAnims,
              f = u.cssNodes,
              d = Ne(c),
              v = d.length;
            if (v) {
              var g = c[(o = d[v - 1])];
              for (var m in g) {
                var y = g[m];
                (i[m] = i[m] || { d: '' }), (i[m].d += y.d || '');
              }
              for (var b in f) {
                var w = f[b].animation;
                w.indexOf(o) >= 0 && (a = w);
              }
            }
          }),
          a)
        ) {
          e.d = !1;
          var s = JD(i, t);
          return a.replace(o, s);
        }
      })(r, e, t);
      if (s) o.push(s);
      else if (!a) return;
    } else if (!a) return;
    for (var l = {}, u = 0; u < a; u++) {
      var c = i[u],
        f = [c.getMaxTime() / 1e3 + 's'],
        d = tT(c.getClip().easing),
        v = c.getDelay();
      f.push(d || 'linear'),
        v && f.push(v / 1e3 + 's'),
        c.getLoop() && f.push('infinite');
      var g = f.join(' ');
      (l[g] = l[g] || [g, []]), l[g][1].push(c);
    }
    function m(w) {
      var C = w[1],
        D = C.length,
        L = {},
        M = {},
        E = {},
        O = 'animation-timing-function';
      function z(nr, Tr, dr) {
        for (
          var Ze = nr.getTracks(), vr = nr.getMaxTime(), bn = 0;
          bn < Ze.length;
          bn++
        ) {
          var Vr = Ze[bn];
          if (Vr.needsAnimate()) {
            var An = Vr.keyframes,
              Cn = Vr.propName;
            if ((dr && (Cn = dr(Cn)), Cn))
              for (var qi = 0; qi < An.length; qi++) {
                var hl = An[qi],
                  Ma = Math.round((hl.time / vr) * 100) + '%',
                  Em = tT(hl.easing),
                  hu = hl.rawValue;
                (ht(hu) || U(hu)) &&
                  ((Tr[Ma] = Tr[Ma] || {}),
                  (Tr[Ma][Cn] = hl.rawValue),
                  Em && (Tr[Ma][O] = Em));
              }
          }
        }
      }
      for (var H = 0; H < D; H++)
        (X = (G = C[H]).targetName) ? 'shape' === X && z(G, M) : !n && z(G, L);
      for (var K in L) {
        var tt = {};
        Nh(tt, r), nt(tt, L[K]);
        var ot = Ev(tt),
          pt = L[K][O];
        (E[K] = ot ? { transform: ot } : {}),
          TN(E[K], tt),
          pt && (E[K][O] = pt);
      }
      var Xt,
        Vt = !0;
      for (var K in M) {
        E[K] = E[K] || {};
        var re = !Xt;
        (pt = M[K][O]), re && (Xt = new os());
        var ye = Xt.len();
        Xt.reset(), (E[K].d = DN(r, M[K], Xt));
        var ke = Xt.len();
        if (!re && ye !== ke) {
          Vt = !1;
          break;
        }
        pt && (E[K][O] = pt);
      }
      if (!Vt) for (var K in E) delete E[K].d;
      if (!n)
        for (H = 0; H < D; H++) {
          var G, X;
          'style' === (X = (G = C[H]).targetName) &&
            z(G, E, function (Ze) {
              return AN[Ze];
            });
        }
      var er,
        Ye = Ne(E),
        tr = !0;
      for (H = 1; H < Ye.length; H++) {
        var Cr = Ye[H - 1];
        if (E[Cr][Tc] !== E[Ye[H]][Tc]) {
          tr = !1;
          break;
        }
        er = E[Cr][Tc];
      }
      if (tr && er) {
        for (var K in E) E[K][Tc] && delete E[K][Tc];
        e[Tc] = er;
      }
      if (
        je(Ye, function (nr) {
          return Ne(E[nr]).length > 0;
        }).length
      )
        return JD(E, t) + ' ' + w[0] + ' both';
    }
    for (var y in l) (s = m(l[y])) && o.push(s);
    if (o.length) {
      var b = t.zrId + '-cls-' + t.cssClassIdx++;
      (t.cssNodes['.' + b] = { animation: o.join(',') }), (e.class = b);
    }
  }
  var Vd = Math.round;
  function eT(r) {
    return r && ht(r.src);
  }
  function rT(r) {
    return r && fe(r.toDataURL);
  }
  function n1(r, e, t, n) {
    (function xN(r, e, t, n) {
      var i = null == e.opacity ? 1 : e.opacity;
      if (t instanceof ai) r('opacity', i);
      else {
        if (
          (function gN(r) {
            var e = r.fill;
            return null != e && e !== zd;
          })(e)
        ) {
          var a = Yo(e.fill);
          r('fill', a.color);
          var o =
            null != e.fillOpacity
              ? e.fillOpacity * a.opacity * i
              : a.opacity * i;
          (n || o < 1) && r('fill-opacity', o);
        } else r('fill', zd);
        if (
          (function mN(r) {
            var e = r.stroke;
            return null != e && e !== zd;
          })(e)
        ) {
          var s = Yo(e.stroke);
          r('stroke', s.color);
          var l = e.strokeNoScale ? t.getLineScale() : 1,
            u = l ? (e.lineWidth || 0) / l : 0,
            c =
              null != e.strokeOpacity
                ? e.strokeOpacity * s.opacity * i
                : s.opacity * i,
            f = e.strokeFirst;
          if (
            ((n || 1 !== u) && r('stroke-width', u),
            (n || f) && r('paint-order', f ? 'stroke' : 'fill'),
            (n || c < 1) && r('stroke-opacity', c),
            e.lineDash)
          ) {
            var d = l0(t),
              v = d[0],
              g = d[1];
            v &&
              ((g = pN(g || 0)),
              r('stroke-dasharray', v.join(',')),
              (g || n) && r('stroke-dashoffset', g));
          } else n && r('stroke-dasharray', zd);
          for (var m = 0; m < t1.length; m++) {
            var y = t1[m];
            if (n || e[y] !== cp[y]) {
              var b = e[y] || cp[y];
              b && r(yN[m], b);
            }
          }
        } else n && r('stroke', zd);
      }
    })(
      function (i, a) {
        var o = 'fill' === i || 'stroke' === i;
        o && Iv(a) ? lT(e, r, i, n) : o && Ah(a) ? uT(t, r, i, n) : (r[i] = a);
      },
      e,
      t,
      !1
    ),
      (function ON(r, e, t) {
        var n = r.style;
        if (
          (function Cl(r) {
            return r && (r.shadowBlur || r.shadowOffsetX || r.shadowOffsetY);
          })(n)
        ) {
          var i = (function Mv(r) {
              var e = r.style,
                t = r.getGlobalScale();
              return [
                e.shadowColor,
                (e.shadowBlur || 0).toFixed(2),
                (e.shadowOffsetX || 0).toFixed(2),
                (e.shadowOffsetY || 0).toFixed(2),
                t[0],
                t[1],
              ].join(',');
            })(r),
            a = t.shadowCache,
            o = a[i];
          if (!o) {
            var s = r.getGlobalScale(),
              l = s[0],
              u = s[1];
            if (!l || !u) return;
            var c = n.shadowOffsetX || 0,
              f = n.shadowOffsetY || 0,
              d = n.shadowBlur,
              v = Yo(n.shadowColor),
              g = v.opacity,
              m = v.color,
              w = d / 2 / l + ' ' + d / 2 / u;
            (o = t.zrId + '-s' + t.shadowIdx++),
              (t.defs[o] = li(
                'filter',
                o,
                {
                  id: o,
                  x: '-100%',
                  y: '-100%',
                  width: '300%',
                  height: '300%',
                },
                [
                  li('feDropShadow', '', {
                    dx: c / l,
                    dy: f / u,
                    stdDeviation: w,
                    'flood-color': m,
                    'flood-opacity': g,
                  }),
                ]
              )),
              (a[i] = o);
          }
          e.filter = ef(o);
        }
      })(t, r, n);
  }
  function nT(r) {
    return ya(r[0] - 1) && ya(r[1]) && ya(r[2]) && ya(r[3] - 1);
  }
  function i1(r, e, t) {
    if (
      e &&
      (!(function LN(r) {
        return ya(r[4]) && ya(r[5]);
      })(e) ||
        !nT(e))
    ) {
      var n = t ? 10 : 1e4;
      r.transform = nT(e)
        ? 'translate(' + Vd(e[4] * n) / n + ' ' + Vd(e[5] * n) / n + ')'
        : (function Su(r) {
            return (
              'matrix(' +
              _u(r[0]) +
              ',' +
              _u(r[1]) +
              ',' +
              _u(r[2]) +
              ',' +
              _u(r[3]) +
              ',' +
              To(r[4]) +
              ',' +
              To(r[5]) +
              ')'
            );
          })(e);
    }
  }
  function iT(r, e, t) {
    for (var n = r.points, i = [], a = 0; a < n.length; a++)
      i.push(Vd(n[a][0] * t) / t), i.push(Vd(n[a][1] * t) / t);
    e.points = i.join(' ');
  }
  function aT(r) {
    return !r.smooth;
  }
  var kN = {
    circle: [
      (function IN(r) {
        var e = Ut(r, function (t) {
          return 'string' == typeof t ? [t, t] : t;
        });
        return function (t, n, i) {
          for (var a = 0; a < e.length; a++) {
            var o = e[a],
              s = t[o[0]];
            null != s && (n[o[1]] = Vd(s * i) / i);
          }
        };
      })(['cx', 'cy', 'r']),
    ],
    polyline: [iT, aT],
    polygon: [iT, aT],
  };
  function oT(r, e) {
    var t = r.style,
      n = r.shape,
      i = kN[r.type],
      a = {},
      o = e.animation,
      s = 'path',
      l = r.style.strokePercent,
      u = (e.compress && kv(r)) || 4;
    if (
      !i ||
      e.willUpdate ||
      (i[1] && !i[1](n)) ||
      (o &&
        (function EN(r) {
          for (var e = r.animators, t = 0; t < e.length; t++)
            if ('shape' === e[t].targetName) return !0;
          return !1;
        })(r)) ||
      l < 1
    ) {
      var f = !r.path || r.shapeChanged();
      r.path || r.createPathProxy();
      var d = r.path;
      f && (d.beginPath(), r.buildPath(d, r.shape), r.pathUpdated());
      var v = d.getVersion(),
        g = r,
        m = g.__svgPathBuilder;
      (g.__svgPathVersion !== v || !m || l !== g.__svgPathStrokePercent) &&
        (m || (m = g.__svgPathBuilder = new XD()),
        m.reset(u),
        d.rebuildPath(m, l),
        m.generateStr(),
        (g.__svgPathVersion = v),
        (g.__svgPathStrokePercent = l)),
        (a.d = m.getStr());
    } else {
      s = r.type;
      var c = Math.pow(10, u);
      i[0](n, a, c);
    }
    return (
      i1(a, r.transform),
      n1(a, t, r, e),
      e.animation && Ag(r, a, e),
      li(s, r.id + '', a)
    );
  }
  function sT(r, e) {
    return r instanceof Lr
      ? oT(r, e)
      : r instanceof ai
      ? (function PN(r, e) {
          var t = r.style,
            n = t.image;
          if (
            (n &&
              !ht(n) &&
              (eT(n) ? (n = n.src) : rT(n) && (n = n.toDataURL())),
            n)
          ) {
            var i = t.x || 0,
              a = t.y || 0,
              l = { href: n, width: t.width, height: t.height };
            return (
              i && (l.x = i),
              a && (l.y = a),
              i1(l, r.transform),
              n1(l, t, r, e),
              e.animation && Ag(r, l, e),
              li('image', r.id + '', l)
            );
          }
        })(r, e)
      : r instanceof gf
      ? (function RN(r, e) {
          var t = r.style,
            n = t.text;
          if ((null != n && (n += ''), n && !isNaN(t.x) && !isNaN(t.y))) {
            var i = t.font || ct,
              a = t.x || 0,
              o = (function wu(r, e, t) {
                return (
                  'top' === t ? (r += e / 2) : 'bottom' === t && (r -= e / 2), r
                );
              })(t.y || 0, Eu(i), t.textBaseline),
              l = {
                'dominant-baseline': 'central',
                'text-anchor': Rs[t.textAlign] || t.textAlign,
              };
            if (g_(t)) {
              var u = '',
                c = t.fontStyle,
                f = v_(t.fontSize);
              if (!parseFloat(f)) return;
              var v = t.fontWeight;
              (u +=
                'font-size:' +
                f +
                ';font-family:' +
                (t.fontFamily || bt) +
                ';'),
                c && 'normal' !== c && (u += 'font-style:' + c + ';'),
                v && 'normal' !== v && (u += 'font-weight:' + v + ';'),
                (l.style = u);
            } else l.style = 'font: ' + i;
            return (
              n.match(/\s/) && (l['xml:space'] = 'preserve'),
              a && (l.x = a),
              o && (l.y = o),
              i1(l, r.transform),
              n1(l, t, r, e),
              e.animation && Ag(r, l, e),
              li('text', r.id + '', l, void 0, n)
            );
          }
        })(r, e)
      : void 0;
  }
  function lT(r, e, t, n) {
    var a,
      i = r[t],
      o = { gradientUnits: i.global ? 'userSpaceOnUse' : 'objectBoundingBox' };
    if (Xo(i))
      (a = 'linearGradient'),
        (o.x1 = i.x),
        (o.y1 = i.y),
        (o.x2 = i.x2),
        (o.y2 = i.y2);
    else {
      if (!Zo(i)) return void He('Illegal gradient type.');
      (a = 'radialGradient'),
        (o.cx = B(i.x, 0.5)),
        (o.cy = B(i.y, 0.5)),
        (o.r = B(i.r, 0.5));
    }
    for (var s = i.colorStops, l = [], u = 0, c = s.length; u < c; ++u) {
      var f = 100 * To(s[u].offset) + '%',
        v = Yo(s[u].color),
        m = v.opacity,
        y = { offset: f };
      (y['stop-color'] = v.color),
        m < 1 && (y['stop-opacity'] = m),
        l.push(li('stop', u + '', y));
    }
    var w = e1(li(a, '', o, l)),
      C = n.gradientCache,
      D = C[w];
    D ||
      ((D = n.zrId + '-g' + n.gradientIdx++),
      (C[w] = D),
      (o.id = D),
      (n.defs[D] = li(a, D, o, l))),
      (e[t] = ef(D));
  }
  function uT(r, e, t, n) {
    var f,
      i = r.style[t],
      a = r.getBoundingRect(),
      o = {},
      s = i.repeat,
      l = 'no-repeat' === s,
      u = 'repeat-x' === s,
      c = 'repeat-y' === s;
    if (Th(i)) {
      var d = i.imageWidth,
        v = i.imageHeight,
        g = void 0,
        m = i.image;
      if (
        (ht(m) ? (g = m) : eT(m) ? (g = m.src) : rT(m) && (g = m.toDataURL()),
        typeof Image > 'u')
      ) {
        var y =
          'Image width/height must been given explictly in svg-ssr renderer.';
        lt(d, y), lt(v, y);
      } else if (null == d || null == v) {
        var b = function (H, G) {
            if (H) {
              var X = H.elm,
                K = d || G.width,
                tt = v || G.height;
              'pattern' === H.tag &&
                (u
                  ? ((tt = 1), (K /= a.width))
                  : c && ((K = 1), (tt /= a.height))),
                (H.attrs.width = K),
                (H.attrs.height = tt),
                X && (X.setAttribute('width', K), X.setAttribute('height', tt));
            }
          },
          w = wr(g, null, r, function (H) {
            l || b(M, H), b(f, H);
          });
        w && w.width && w.height && ((d = d || w.width), (v = v || w.height));
      }
      (f = li('image', 'img', { href: g, width: d, height: v })),
        (o.width = d),
        (o.height = v);
    } else i.svgElement && ((f = ft(i.svgElement)), (o.width = i.svgWidth), (o.height = i.svgHeight));
    if (f) {
      var C, D;
      l
        ? (C = D = 1)
        : u
        ? ((D = 1), (C = o.width / a.width))
        : c
        ? ((C = 1), (D = o.height / a.height))
        : (o.patternUnits = 'userSpaceOnUse'),
        null != C && !isNaN(C) && (o.width = C),
        null != D && !isNaN(D) && (o.height = D);
      var L = Ev(i);
      L && (o.patternTransform = L);
      var M = li('pattern', '', o, [f]),
        E = e1(M),
        O = n.patternCache,
        z = O[E];
      z ||
        ((z = n.zrId + '-p' + n.patternIdx++),
        (O[E] = z),
        (o.id = z),
        (M = n.defs[z] = li('pattern', z, o, [f]))),
        (e[t] = ef(z));
    }
  }
  function FN(r, e, t) {
    var n = t.clipPathCache,
      i = t.defs,
      a = n[r.id];
    if (!a) {
      var o = { id: (a = t.zrId + '-c' + t.clipPathIdx++) };
      (n[r.id] = a), (i[a] = li('clipPath', a, o, [oT(r, t)]));
    }
    e['clip-path'] = ef(a);
  }
  function cT(r) {
    return document.createTextNode(r);
  }
  function Ac(r, e, t) {
    r.insertBefore(e, t);
  }
  function fT(r, e) {
    r.removeChild(e);
  }
  function hT(r, e) {
    r.appendChild(e);
  }
  function dT(r) {
    return r.parentNode;
  }
  function vT(r) {
    return r.nextSibling;
  }
  function a1(r, e) {
    r.textContent = e;
  }
  var pT = 58,
    BN = 120,
    NN = li('', '');
  function o1(r) {
    return void 0 === r;
  }
  function ps(r) {
    return void 0 !== r;
  }
  function zN(r, e, t) {
    for (var n = {}, i = e; i <= t; ++i) {
      var a = r[i].key;
      void 0 !== a &&
        (null != n[a] && console.error('Duplicate key ' + a), (n[a] = i));
    }
    return n;
  }
  function Hd(r, e) {
    return r.tag === e.tag && r.key === e.key;
  }
  function Gd(r) {
    var e,
      t = r.children,
      n = r.tag;
    if (ps(n)) {
      var i = (r.elm = jD(n));
      if ((s1(NN, r), Tt(t)))
        for (e = 0; e < t.length; ++e) {
          var a = t[e];
          null != a && hT(i, Gd(a));
        }
      else ps(r.text) && !Y(r.text) && hT(i, cT(r.text));
    } else r.elm = cT(r.text);
    return r.elm;
  }
  function gT(r, e, t, n, i) {
    for (; n <= i; ++n) {
      var a = t[n];
      null != a && Ac(r, Gd(a), e);
    }
  }
  function Mg(r, e, t, n) {
    for (; t <= n; ++t) {
      var i = e[t];
      null != i && (ps(i.tag) ? fT(dT(i.elm), i.elm) : fT(r, i.elm));
    }
  }
  function s1(r, e) {
    var t,
      n = e.elm,
      i = (r && r.attrs) || {},
      a = e.attrs || {};
    if (i !== a) {
      for (t in a) {
        var o = a[t];
        i[t] !== o &&
          (!0 === o
            ? n.setAttribute(t, '')
            : !1 === o
            ? n.removeAttribute(t)
            : t.charCodeAt(0) !== BN
            ? n.setAttribute(t, o)
            : 'xmlns:xlink' === t || 'xmlns' === t
            ? n.setAttributeNS(bN, t, o)
            : t.charCodeAt(3) === pT
            ? n.setAttributeNS(_N, t, o)
            : t.charCodeAt(5) === pT
            ? n.setAttributeNS(qD, t, o)
            : n.setAttribute(t, o));
      }
      for (t in i) t in a || n.removeAttribute(t);
    }
  }
  function jf(r, e) {
    var t = (e.elm = r.elm),
      n = r.children,
      i = e.children;
    r !== e &&
      (s1(r, e),
      o1(e.text)
        ? ps(n) && ps(i)
          ? n !== i &&
            (function VN(r, e, t) {
              for (
                var f,
                  d,
                  v,
                  n = 0,
                  i = 0,
                  a = e.length - 1,
                  o = e[0],
                  s = e[a],
                  l = t.length - 1,
                  u = t[0],
                  c = t[l];
                n <= a && i <= l;

              )
                null == o
                  ? (o = e[++n])
                  : null == s
                  ? (s = e[--a])
                  : null == u
                  ? (u = t[++i])
                  : null == c
                  ? (c = t[--l])
                  : Hd(o, u)
                  ? (jf(o, u), (o = e[++n]), (u = t[++i]))
                  : Hd(s, c)
                  ? (jf(s, c), (s = e[--a]), (c = t[--l]))
                  : Hd(o, c)
                  ? (jf(o, c),
                    Ac(r, o.elm, vT(s.elm)),
                    (o = e[++n]),
                    (c = t[--l]))
                  : Hd(s, u)
                  ? (jf(s, u), Ac(r, s.elm, o.elm), (s = e[--a]), (u = t[++i]))
                  : (o1(f) && (f = zN(e, n, a)),
                    o1((d = f[u.key])) || (v = e[d]).tag !== u.tag
                      ? Ac(r, Gd(u), o.elm)
                      : (jf(v, u), (e[d] = void 0), Ac(r, v.elm, o.elm)),
                    (u = t[++i]));
              (n <= a || i <= l) &&
                (n > a
                  ? gT(r, null == t[l + 1] ? null : t[l + 1].elm, t, i, l)
                  : Mg(r, e, n, a));
            })(t, n, i)
          : ps(i)
          ? (ps(r.text) && a1(t, ''), gT(t, null, i, 0, i.length - 1))
          : ps(n)
          ? Mg(t, n, 0, n.length - 1)
          : ps(r.text) && a1(t, '')
        : r.text !== e.text &&
          (ps(n) && Mg(t, n, 0, n.length - 1), a1(t, e.text)));
  }
  var GN = 0,
    WN = (function () {
      function r(e, t, n) {
        if (
          ((this.type = 'svg'),
          (this.refreshHover = mT('refreshHover')),
          (this.configLayer = mT('configLayer')),
          (this.storage = t),
          (this._opts = n = nt({}, n)),
          (this.root = e),
          (this._id = 'zr' + GN++),
          (this._oldVNode = KD(n.width, n.height)),
          e && !n.ssr)
        ) {
          var i = (this._viewport = document.createElement('div'));
          i.style.cssText = 'position:relative;overflow:hidden';
          var a = (this._svgDom = this._oldVNode.elm = jD('svg'));
          s1(null, this._oldVNode), i.appendChild(a), e.appendChild(i);
        }
        this.resize(n.width, n.height);
      }
      return (
        (r.prototype.getType = function () {
          return this.type;
        }),
        (r.prototype.getViewportRoot = function () {
          return this._viewport;
        }),
        (r.prototype.getViewportRootOffset = function () {
          var e = this.getViewportRoot();
          if (e)
            return {
              offsetLeft: e.offsetLeft || 0,
              offsetTop: e.offsetTop || 0,
            };
        }),
        (r.prototype.getSvgDom = function () {
          return this._svgDom;
        }),
        (r.prototype.refresh = function () {
          if (this.root) {
            var e = this.renderToVNode({ willUpdate: !0 });
            (e.attrs.style = 'position:absolute;left:0;top:0;user-select:none'),
              (function HN(r, e) {
                if (Hd(r, e)) jf(r, e);
                else {
                  var t = r.elm,
                    n = dT(t);
                  Gd(e), null !== n && (Ac(n, e.elm, vT(t)), Mg(n, [r], 0, 0));
                }
              })(this._oldVNode, e),
              (this._oldVNode = e);
          }
        }),
        (r.prototype.renderOneToVNode = function (e) {
          return sT(e, r1(this._id));
        }),
        (r.prototype.renderToVNode = function (e) {
          e = e || {};
          var t = this.storage.getDisplayList(!0),
            n = this._width,
            i = this._height,
            a = r1(this._id);
          (a.animation = e.animation),
            (a.willUpdate = e.willUpdate),
            (a.compress = e.compress);
          var o = [],
            s = (this._bgVNode = (function $N(r, e, t, n) {
              var i;
              if (t && 'none' !== t)
                if (
                  ((i = li('rect', 'bg', {
                    width: r,
                    height: e,
                    x: '0',
                    y: '0',
                    id: '0',
                  })),
                  Iv(t))
                )
                  lT({ fill: t }, i.attrs, 'fill', n);
                else if (Ah(t))
                  uT(
                    {
                      style: { fill: t },
                      dirty: Ke,
                      getBoundingRect: function () {
                        return { width: r, height: e };
                      },
                    },
                    i.attrs,
                    'fill',
                    n
                  );
                else {
                  var a = Yo(t),
                    s = a.opacity;
                  (i.attrs.fill = a.color),
                    s < 1 && (i.attrs['fill-opacity'] = s);
                }
              return i;
            })(n, i, this._backgroundColor, a));
          s && o.push(s);
          var l = e.compress
            ? null
            : (this._mainVNode = li('g', 'main', {}, []));
          this._paintList(t, a, l ? l.children : o), l && o.push(l);
          var u = Ut(Ne(a.defs), function (d) {
            return a.defs[d];
          });
          if ((u.length && o.push(li('defs', 'defs', {}, u)), e.animation)) {
            var c = (function CN(r, e, t) {
              var n = (t = t || {}).newline ? '\n' : '',
                i = ' {' + n,
                a = n + '}',
                o = Ut(Ne(r), function (l) {
                  return (
                    l +
                    i +
                    Ut(Ne(r[l]), function (u) {
                      return u + ':' + r[l][u] + ';';
                    }).join(n) +
                    a
                  );
                }).join(n),
                s = Ut(Ne(e), function (l) {
                  return (
                    '@keyframes ' +
                    l +
                    i +
                    Ut(Ne(e[l]), function (u) {
                      return (
                        u +
                        i +
                        Ut(Ne(e[l][u]), function (c) {
                          var f = e[l][u][c];
                          return (
                            'd' === c && (f = 'path("' + f + '")'),
                            c + ':' + f + ';'
                          );
                        }).join(n) +
                        a
                      );
                    }).join(n) +
                    a
                  );
                }).join(n);
              return o || s ? ['<![CDATA[', o, s, ']]>'].join(n) : '';
            })(a.cssNodes, a.cssAnims, { newline: !0 });
            if (c) {
              var f = li('style', 'stl', {}, [], c);
              o.push(f);
            }
          }
          return KD(n, i, o, e.useViewBox);
        }),
        (r.prototype.renderToString = function (e) {
          return e1(
            this.renderToVNode({
              animation: B((e = e || {}).cssAnimation, !0),
              willUpdate: !1,
              compress: !0,
              useViewBox: B(e.useViewBox, !0),
            }),
            { newline: !0 }
          );
        }),
        (r.prototype.setBackgroundColor = function (e) {
          this._backgroundColor = e;
        }),
        (r.prototype.getSvgRoot = function () {
          return this._mainVNode && this._mainVNode.elm;
        }),
        (r.prototype._paintList = function (e, t, n) {
          for (
            var s, l, i = e.length, a = [], o = 0, u = 0, c = 0;
            c < i;
            c++
          ) {
            var f = e[c];
            if (!f.invisible) {
              var d = f.__clipPaths,
                v = (d && d.length) || 0,
                g = (l && l.length) || 0,
                m = void 0;
              for (
                m = Math.max(v - 1, g - 1);
                m >= 0 && (!d || !l || d[m] !== l[m]);
                m--
              );
              for (var y = g - 1; y > m; y--) s = a[--o - 1];
              for (var b = m + 1; b < v; b++) {
                var w = {};
                FN(d[b], w, t);
                var C = li('g', 'clip-g-' + u++, w, []);
                (s ? s.children : n).push(C), (a[o++] = C), (s = C);
              }
              l = d;
              var D = sT(f, t);
              D && (s ? s.children : n).push(D);
            }
          }
        }),
        (r.prototype.resize = function (e, t) {
          var n = this._opts,
            i = this.root,
            a = this._viewport;
          if (
            (null != e && (n.width = e),
            null != t && (n.height = t),
            i &&
              a &&
              ((a.style.display = 'none'),
              (e = Wf(i, 0, n)),
              (t = Wf(i, 1, n)),
              (a.style.display = '')),
            this._width !== e || this._height !== t)
          ) {
            if (((this._width = e), (this._height = t), a)) {
              var o = a.style;
              (o.width = e + 'px'), (o.height = t + 'px');
            }
            if (Ah(this._backgroundColor)) this.refresh();
            else {
              var s = this._svgDom;
              s && (s.setAttribute('width', e), s.setAttribute('height', t));
              var l = this._bgVNode && this._bgVNode.elm;
              l && (l.setAttribute('width', e), l.setAttribute('height', t));
            }
          }
        }),
        (r.prototype.getWidth = function () {
          return this._width;
        }),
        (r.prototype.getHeight = function () {
          return this._height;
        }),
        (r.prototype.dispose = function () {
          this.root && (this.root.innerHTML = ''),
            (this._svgDom =
              this._viewport =
              this.storage =
              this._oldVNode =
              this._bgVNode =
              this._mainVNode =
                null);
        }),
        (r.prototype.clear = function () {
          this._svgDom && (this._svgDom.innerHTML = null),
            (this._oldVNode = null);
        }),
        (r.prototype.toDataURL = function (e) {
          var t = this.renderToString(),
            n = 'data:image/svg+xml;';
          return e
            ? (t = Om(t)) && n + 'base64,' + t
            : n + 'charset=UTF-8,' + encodeURIComponent(t);
        }),
        r
      );
    })();
  function mT(r) {
    return function () {
      He('In SVG mode painter not support method "' + r + '"');
    };
  }
  function yT(r, e, t) {
    var n = Zt.createCanvas(),
      i = e.getWidth(),
      a = e.getHeight(),
      o = n.style;
    return (
      o &&
        ((o.position = 'absolute'),
        (o.left = '0'),
        (o.top = '0'),
        (o.width = i + 'px'),
        (o.height = a + 'px'),
        n.setAttribute('data-zr-dom-id', r)),
      (n.width = i * t),
      (n.height = a * t),
      n
    );
  }
  var l1 = (function (r) {
      function e(t, n, i) {
        var o,
          a = r.call(this) || this;
        (a.motionBlur = !1),
          (a.lastFrameAlpha = 0.7),
          (a.dpr = 1),
          (a.virtual = !1),
          (a.config = {}),
          (a.incremental = !1),
          (a.zlevel = 0),
          (a.maxRepaintRectCount = 5),
          (a.__dirty = !0),
          (a.__firstTimePaint = !0),
          (a.__used = !1),
          (a.__drawIndex = 0),
          (a.__startIndex = 0),
          (a.__endIndex = 0),
          (a.__prevStartIndex = null),
          (a.__prevEndIndex = null),
          (i = i || Iu),
          'string' == typeof t ? (o = yT(t, n, i)) : Y(t) && (t = (o = t).id),
          (a.id = t),
          (a.dom = o);
        var s = o.style;
        return (
          s &&
            (lr(o),
            (o.onselectstart = function () {
              return !1;
            }),
            (s.padding = '0'),
            (s.margin = '0'),
            (s.borderWidth = '0')),
          (a.painter = n),
          (a.dpr = i),
          a
        );
      }
      return (
        ut(e, r),
        (e.prototype.getElementCount = function () {
          return this.__endIndex - this.__startIndex;
        }),
        (e.prototype.afterBrush = function () {
          (this.__prevStartIndex = this.__startIndex),
            (this.__prevEndIndex = this.__endIndex);
        }),
        (e.prototype.initContext = function () {
          (this.ctx = this.dom.getContext('2d')), (this.ctx.dpr = this.dpr);
        }),
        (e.prototype.setUnpainted = function () {
          this.__firstTimePaint = !0;
        }),
        (e.prototype.createBackBuffer = function () {
          var t = this.dpr;
          (this.domBack = yT('back-' + this.id, this.painter, t)),
            (this.ctxBack = this.domBack.getContext('2d')),
            1 !== t && this.ctxBack.scale(t, t);
        }),
        (e.prototype.createRepaintRects = function (t, n, i, a) {
          if (this.__firstTimePaint) return (this.__firstTimePaint = !1), null;
          var y,
            o = [],
            s = this.maxRepaintRectCount,
            l = !1,
            u = new it(0, 0, 0, 0);
          function c(w) {
            if (w.isFinite() && !w.isZero())
              if (0 === o.length) (C = new it(0, 0, 0, 0)).copy(w), o.push(C);
              else {
                for (var D = !1, L = 1 / 0, M = 0, E = 0; E < o.length; ++E) {
                  var O = o[E];
                  if (O.intersect(w)) {
                    var z = new it(0, 0, 0, 0);
                    z.copy(O), z.union(w), (o[E] = z), (D = !0);
                    break;
                  }
                  if (l) {
                    u.copy(w), u.union(O);
                    var K =
                      u.width * u.height -
                      w.width * w.height -
                      O.width * O.height;
                    K < L && ((L = K), (M = E));
                  }
                }
                var C;
                l && (o[M].union(w), (D = !0)),
                  D || ((C = new it(0, 0, 0, 0)).copy(w), o.push(C)),
                  l || (l = o.length >= s);
              }
          }
          for (var f = this.__startIndex; f < this.__endIndex; ++f)
            if ((d = t[f])) {
              var v = d.shouldBePainted(i, a, !0, !0);
              (g =
                d.__isRendered && (d.__dirty & ta || !v)
                  ? d.getPrevPaintRect()
                  : null) && c(g);
              var m =
                v && (d.__dirty & ta || !d.__isRendered)
                  ? d.getPaintRect()
                  : null;
              m && c(m);
            }
          for (f = this.__prevStartIndex; f < this.__prevEndIndex; ++f) {
            var d, g;
            (v = (d = n[f]).shouldBePainted(i, a, !0, !0)),
              !d ||
                (v && d.__zr) ||
                !d.__isRendered ||
                ((g = d.getPrevPaintRect()) && c(g));
          }
          do {
            for (y = !1, f = 0; f < o.length; )
              if (o[f].isZero()) o.splice(f, 1);
              else {
                for (var b = f + 1; b < o.length; )
                  o[f].intersect(o[b])
                    ? ((y = !0), o[f].union(o[b]), o.splice(b, 1))
                    : b++;
                f++;
              }
          } while (y);
          return (this._paintRects = o), o;
        }),
        (e.prototype.debugGetPaintRects = function () {
          return (this._paintRects || []).slice();
        }),
        (e.prototype.resize = function (t, n) {
          var i = this.dpr,
            a = this.dom,
            o = a.style,
            s = this.domBack;
          o && ((o.width = t + 'px'), (o.height = n + 'px')),
            (a.width = t * i),
            (a.height = n * i),
            s &&
              ((s.width = t * i),
              (s.height = n * i),
              1 !== i && this.ctxBack.scale(i, i));
        }),
        (e.prototype.clear = function (t, n, i) {
          var a = this.dom,
            o = this.ctx,
            s = a.width,
            l = a.height;
          n = n || this.clearColor;
          var u = this.motionBlur && !t,
            c = this.lastFrameAlpha,
            f = this.dpr,
            d = this;
          u &&
            (this.domBack || this.createBackBuffer(),
            (this.ctxBack.globalCompositeOperation = 'copy'),
            this.ctxBack.drawImage(a, 0, 0, s / f, l / f));
          var v = this.domBack;
          function g(m, y, b, w) {
            if ((o.clearRect(m, y, b, w), n && 'transparent' !== n)) {
              var C = void 0;
              Pt(n)
                ? ((C =
                    ((n.global || (n.__width === b && n.__height === w)) &&
                      n.__canvasGradient) ||
                    s0(o, n, { x: 0, y: 0, width: b, height: w })),
                  (n.__canvasGradient = C),
                  (n.__width = b),
                  (n.__height = w))
                : qt(n) &&
                  ((n.scaleX = n.scaleX || f),
                  (n.scaleY = n.scaleY || f),
                  (C = u0(o, n, {
                    dirty: function () {
                      d.setUnpainted(), d.__painter.refresh();
                    },
                  }))),
                o.save(),
                (o.fillStyle = C || n),
                o.fillRect(m, y, b, w),
                o.restore();
            }
            u &&
              (o.save(),
              (o.globalAlpha = c),
              o.drawImage(v, m, y, b, w),
              o.restore());
          }
          !i || u
            ? g(0, 0, s, l)
            : i.length &&
              F(i, function (m) {
                g(m.x * f, m.y * f, m.width * f, m.height * f);
              });
        }),
        e
      );
    })(ci),
    Mc = 314159,
    qN = (function () {
      function r(e, t, n, i) {
        (this.type = 'canvas'),
          (this._zlevelList = []),
          (this._prevDisplayList = []),
          (this._layers = {}),
          (this._layerConfig = {}),
          (this._needsManuallyCompositing = !1),
          (this.type = 'canvas');
        var a = !e.nodeName || 'CANVAS' === e.nodeName.toUpperCase();
        (this._opts = n = nt({}, n || {})),
          (this.dpr = n.devicePixelRatio || Iu),
          (this._singleCanvas = a),
          (this.root = e),
          e.style && (lr(e), (e.innerHTML = '')),
          (this.storage = t);
        var s = this._zlevelList;
        this._prevDisplayList = [];
        var l = this._layers;
        if (a) {
          var c = e,
            f = c.width,
            d = c.height;
          null != n.width && (f = n.width),
            null != n.height && (d = n.height),
            (this.dpr = n.devicePixelRatio || 1),
            (c.width = f * this.dpr),
            (c.height = d * this.dpr),
            (this._width = f),
            (this._height = d);
          var v = new l1(c, this, this.dpr);
          (v.__builtin__ = !0),
            v.initContext(),
            (l[Mc] = v),
            (v.zlevel = Mc),
            s.push(Mc),
            (this._domRoot = e);
        } else {
          (this._width = Wf(e, 0, n)), (this._height = Wf(e, 1, n));
          var u = (this._domRoot = (function ZN(r, e) {
            var t = document.createElement('div');
            return (
              (t.style.cssText =
                [
                  'position:relative',
                  'width:' + r + 'px',
                  'height:' + e + 'px',
                  'padding:0',
                  'margin:0',
                  'border-width:0',
                ].join(';') + ';'),
              t
            );
          })(this._width, this._height));
          e.appendChild(u);
        }
      }
      return (
        (r.prototype.getType = function () {
          return 'canvas';
        }),
        (r.prototype.isSingleCanvas = function () {
          return this._singleCanvas;
        }),
        (r.prototype.getViewportRoot = function () {
          return this._domRoot;
        }),
        (r.prototype.getViewportRootOffset = function () {
          var e = this.getViewportRoot();
          if (e)
            return {
              offsetLeft: e.offsetLeft || 0,
              offsetTop: e.offsetTop || 0,
            };
        }),
        (r.prototype.refresh = function (e) {
          var t = this.storage.getDisplayList(!0),
            n = this._prevDisplayList,
            i = this._zlevelList;
          (this._redrawId = Math.random()),
            this._paintList(t, n, e, this._redrawId);
          for (var a = 0; a < i.length; a++) {
            var s = this._layers[i[a]];
            !s.__builtin__ &&
              s.refresh &&
              s.refresh(0 === a ? this._backgroundColor : null);
          }
          return (
            this._opts.useDirtyRect && (this._prevDisplayList = t.slice()), this
          );
        }),
        (r.prototype.refreshHover = function () {
          this._paintHoverList(this.storage.getDisplayList(!1));
        }),
        (r.prototype._paintHoverList = function (e) {
          var t = e.length,
            n = this._hoverlayer;
          if ((n && n.clear(), t)) {
            for (
              var a,
                i = {
                  inHover: !0,
                  viewWidth: this._width,
                  viewHeight: this._height,
                },
                o = 0;
              o < t;
              o++
            ) {
              var s = e[o];
              s.__inHover &&
                (n || (n = this._hoverlayer = this.getLayer(1e5)),
                a || (a = n.ctx).save(),
                xc(a, s, i, o === t - 1));
            }
            a && a.restore();
          }
        }),
        (r.prototype.getHoverLayer = function () {
          return this.getLayer(1e5);
        }),
        (r.prototype.paintOne = function (e, t) {
          c0(e, t);
        }),
        (r.prototype._paintList = function (e, t, n, i) {
          if (this._redrawId === i) {
            (n = n || !1), this._updateLayerStatus(e);
            var a = this._doPaintList(e, t, n),
              o = a.finished,
              s = a.needsRefreshHover;
            if (
              (this._needsManuallyCompositing && this._compositeManually(),
              s && this._paintHoverList(e),
              o)
            )
              this.eachLayer(function (u) {
                u.afterBrush && u.afterBrush();
              });
            else {
              var l = this;
              Zc(function () {
                l._paintList(e, t, n, i);
              });
            }
          }
        }),
        (r.prototype._compositeManually = function () {
          var e = this.getLayer(Mc).ctx,
            t = this._domRoot.width,
            n = this._domRoot.height;
          e.clearRect(0, 0, t, n),
            this.eachBuiltinLayer(function (i) {
              i.virtual && e.drawImage(i.dom, 0, 0, t, n);
            });
        }),
        (r.prototype._doPaintList = function (e, t, n) {
          for (
            var i = this, a = [], o = this._opts.useDirtyRect, s = 0;
            s < this._zlevelList.length;
            s++
          ) {
            var u = this._layers[this._zlevelList[s]];
            u.__builtin__ &&
              u !== this._hoverlayer &&
              (u.__dirty || n) &&
              a.push(u);
          }
          for (
            var c = !0,
              f = !1,
              d = function (m) {
                var y = a[m],
                  b = y.ctx,
                  w = o && y.createRepaintRects(e, t, v._width, v._height),
                  C = n ? y.__startIndex : y.__drawIndex,
                  D = !n && y.incremental && Date.now,
                  L = D && Date.now(),
                  M = y.zlevel === v._zlevelList[0] ? v._backgroundColor : null;
                if (y.__startIndex === y.__endIndex) y.clear(!1, M, w);
                else if (C === y.__startIndex) {
                  var E = e[C];
                  (!E.incremental || !E.notClear || n) && y.clear(!1, M, w);
                }
                -1 === C &&
                  (console.error('For some unknown reason. drawIndex is -1'),
                  (C = y.__startIndex));
                var O,
                  z = function (K) {
                    var tt = {
                      inHover: !1,
                      allClipped: !1,
                      prevEl: null,
                      viewWidth: i._width,
                      viewHeight: i._height,
                    };
                    for (O = C; O < y.__endIndex; O++) {
                      var ot = e[O];
                      if (
                        (ot.__inHover && (f = !0),
                        i._doPaintEl(ot, y, o, K, tt, O === y.__endIndex - 1),
                        D && Date.now() - L > 15)
                      )
                        break;
                    }
                    tt.prevElClipPaths && b.restore();
                  };
                if (w)
                  if (0 === w.length) O = y.__endIndex;
                  else
                    for (var H = v.dpr, G = 0; G < w.length; ++G) {
                      var X = w[G];
                      b.save(),
                        b.beginPath(),
                        b.rect(X.x * H, X.y * H, X.width * H, X.height * H),
                        b.clip(),
                        z(X),
                        b.restore();
                    }
                else b.save(), z(), b.restore();
                (y.__drawIndex = O), y.__drawIndex < y.__endIndex && (c = !1);
              },
              v = this,
              g = 0;
            g < a.length;
            g++
          )
            d(g);
          return (
            Lt.wxa &&
              F(this._layers, function (m) {
                m && m.ctx && m.ctx.draw && m.ctx.draw();
              }),
            { finished: c, needsRefreshHover: f }
          );
        }),
        (r.prototype._doPaintEl = function (e, t, n, i, a, o) {
          var s = t.ctx;
          if (n) {
            var l = e.getPaintRect();
            (!i || (l && l.intersect(i))) &&
              (xc(s, e, a, o), e.setPrevPaintRect(l));
          } else xc(s, e, a, o);
        }),
        (r.prototype.getLayer = function (e, t) {
          this._singleCanvas && !this._needsManuallyCompositing && (e = Mc);
          var n = this._layers[e];
          return (
            n ||
              (((n = new l1('zr_' + e, this, this.dpr)).zlevel = e),
              (n.__builtin__ = !0),
              this._layerConfig[e]
                ? Gt(n, this._layerConfig[e], !0)
                : this._layerConfig[e - 0.01] &&
                  Gt(n, this._layerConfig[e - 0.01], !0),
              t && (n.virtual = t),
              this.insertLayer(e, n),
              n.initContext()),
            n
          );
        }),
        (r.prototype.insertLayer = function (e, t) {
          var n = this._layers,
            i = this._zlevelList,
            a = i.length,
            o = this._domRoot,
            s = null,
            l = -1;
          if (n[e]) He('ZLevel ' + e + ' has been used already');
          else if (
            (function XN(r) {
              return !(
                !r ||
                (!r.__builtin__ &&
                  ('function' != typeof r.resize ||
                    'function' != typeof r.refresh))
              );
            })(t)
          ) {
            if (a > 0 && e > i[0]) {
              for (l = 0; l < a - 1 && !(i[l] < e && i[l + 1] > e); l++);
              s = n[i[l]];
            }
            if ((i.splice(l + 1, 0, e), (n[e] = t), !t.virtual))
              if (s) {
                var u = s.dom;
                u.nextSibling
                  ? o.insertBefore(t.dom, u.nextSibling)
                  : o.appendChild(t.dom);
              } else
                o.firstChild
                  ? o.insertBefore(t.dom, o.firstChild)
                  : o.appendChild(t.dom);
            t.__painter = this;
          } else He('Layer of zlevel ' + e + ' is not valid');
        }),
        (r.prototype.eachLayer = function (e, t) {
          for (var n = this._zlevelList, i = 0; i < n.length; i++) {
            var a = n[i];
            e.call(t, this._layers[a], a);
          }
        }),
        (r.prototype.eachBuiltinLayer = function (e, t) {
          for (var n = this._zlevelList, i = 0; i < n.length; i++) {
            var a = n[i],
              o = this._layers[a];
            o.__builtin__ && e.call(t, o, a);
          }
        }),
        (r.prototype.eachOtherLayer = function (e, t) {
          for (var n = this._zlevelList, i = 0; i < n.length; i++) {
            var a = n[i],
              o = this._layers[a];
            o.__builtin__ || e.call(t, o, a);
          }
        }),
        (r.prototype.getLayers = function () {
          return this._layers;
        }),
        (r.prototype._updateLayerStatus = function (e) {
          function t(f) {
            a && (a.__endIndex !== f && (a.__dirty = !0), (a.__endIndex = f));
          }
          if (
            (this.eachBuiltinLayer(function (f, d) {
              f.__dirty = f.__used = !1;
            }),
            this._singleCanvas)
          )
            for (var n = 1; n < e.length; n++)
              if ((i = e[n]).zlevel !== e[n - 1].zlevel || i.incremental) {
                this._needsManuallyCompositing = !0;
                break;
              }
          var s,
            l,
            a = null,
            o = 0;
          for (l = 0; l < e.length; l++) {
            var i,
              u = (i = e[l]).zlevel,
              c = void 0;
            s !== u && ((s = u), (o = 0)),
              i.incremental
                ? (((c = this.getLayer(
                    u + 0.001,
                    this._needsManuallyCompositing
                  )).incremental = !0),
                  (o = 1))
                : (c = this.getLayer(
                    u + (o > 0 ? 0.01 : 0),
                    this._needsManuallyCompositing
                  )),
              c.__builtin__ ||
                He('ZLevel ' + u + ' has been used by unkown layer ' + c.id),
              c !== a &&
                ((c.__used = !0),
                c.__startIndex !== l && (c.__dirty = !0),
                (c.__startIndex = l),
                (c.__drawIndex = c.incremental ? -1 : l),
                t(l),
                (a = c)),
              i.__dirty & ta &&
                !i.__inHover &&
                ((c.__dirty = !0),
                c.incremental && c.__drawIndex < 0 && (c.__drawIndex = l));
          }
          t(l),
            this.eachBuiltinLayer(function (f, d) {
              !f.__used &&
                f.getElementCount() > 0 &&
                ((f.__dirty = !0),
                (f.__startIndex = f.__endIndex = f.__drawIndex = 0)),
                f.__dirty &&
                  f.__drawIndex < 0 &&
                  (f.__drawIndex = f.__startIndex);
            });
        }),
        (r.prototype.clear = function () {
          return this.eachBuiltinLayer(this._clearLayer), this;
        }),
        (r.prototype._clearLayer = function (e) {
          e.clear();
        }),
        (r.prototype.setBackgroundColor = function (e) {
          (this._backgroundColor = e),
            F(this._layers, function (t) {
              t.setUnpainted();
            });
        }),
        (r.prototype.configLayer = function (e, t) {
          if (t) {
            var n = this._layerConfig;
            n[e] ? Gt(n[e], t, !0) : (n[e] = t);
            for (var i = 0; i < this._zlevelList.length; i++) {
              var a = this._zlevelList[i];
              (a !== e && a !== e + 0.01) || Gt(this._layers[a], n[e], !0);
            }
          }
        }),
        (r.prototype.delLayer = function (e) {
          var t = this._layers,
            n = this._zlevelList,
            i = t[e];
          i &&
            (i.dom.parentNode.removeChild(i.dom),
            delete t[e],
            n.splice($(n, e), 1));
        }),
        (r.prototype.resize = function (e, t) {
          if (this._domRoot.style) {
            var n = this._domRoot;
            n.style.display = 'none';
            var i = this._opts,
              a = this.root;
            if (
              (null != e && (i.width = e),
              null != t && (i.height = t),
              (e = Wf(a, 0, i)),
              (t = Wf(a, 1, i)),
              (n.style.display = ''),
              this._width !== e || t !== this._height)
            ) {
              for (var o in ((n.style.width = e + 'px'),
              (n.style.height = t + 'px'),
              this._layers))
                this._layers.hasOwnProperty(o) && this._layers[o].resize(e, t);
              this.refresh(!0);
            }
            (this._width = e), (this._height = t);
          } else {
            if (null == e || null == t) return;
            (this._width = e),
              (this._height = t),
              this.getLayer(Mc).resize(e, t);
          }
          return this;
        }),
        (r.prototype.clearLayer = function (e) {
          var t = this._layers[e];
          t && t.clear();
        }),
        (r.prototype.dispose = function () {
          (this.root.innerHTML = ''),
            (this.root = this.storage = this._domRoot = this._layers = null);
        }),
        (r.prototype.getRenderedCanvas = function (e) {
          if (this._singleCanvas && !this._compositeManually)
            return this._layers[Mc].dom;
          var t = new l1('image', this, (e = e || {}).pixelRatio || this.dpr);
          t.initContext(),
            t.clear(!1, e.backgroundColor || this._backgroundColor);
          var n = t.ctx;
          if (e.pixelRatio <= this.dpr) {
            this.refresh();
            var i = t.dom.width,
              a = t.dom.height;
            this.eachLayer(function (f) {
              f.__builtin__
                ? n.drawImage(f.dom, 0, 0, i, a)
                : f.renderToCanvas &&
                  (n.save(), f.renderToCanvas(n), n.restore());
            });
          } else
            for (
              var o = {
                  inHover: !1,
                  viewWidth: this._width,
                  viewHeight: this._height,
                },
                s = this.storage.getDisplayList(!0),
                l = 0,
                u = s.length;
              l < u;
              l++
            )
              xc(n, s[l], o, l === u - 1);
          return t.dom;
        }),
        (r.prototype.getWidth = function () {
          return this._width;
        }),
        (r.prototype.getHeight = function () {
          return this._height;
        }),
        r
      );
    })(),
    KN = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), (t.hasSymbolVisual = !0), t;
      }
      return (
        ut(e, r),
        (e.prototype.getInitialData = function (t) {
          var n = t.coordinateSystem;
          if ('polar' !== n && 'cartesian2d' !== n)
            throw new Error(
              'Line not support coordinateSystem besides cartesian and polar'
            );
          return cs(null, this, { useEncodeDefaulter: !0 });
        }),
        (e.prototype.getLegendIcon = function (t) {
          var n = new Qe(),
            i = En(
              'line',
              0,
              t.itemHeight / 2,
              t.itemWidth,
              0,
              t.lineStyle.stroke,
              !1
            );
          n.add(i), i.setStyle(t.lineStyle);
          var a = this.getData().getVisual('symbol'),
            o = this.getData().getVisual('symbolRotate'),
            s = 'none' === a ? 'circle' : a,
            l = 0.8 * t.itemHeight,
            u = En(
              s,
              (t.itemWidth - l) / 2,
              (t.itemHeight - l) / 2,
              l,
              l,
              t.itemStyle.fill
            );
          return (
            n.add(u),
            u.setStyle(t.itemStyle),
            (u.rotation =
              (('inherit' === t.iconRotate ? o : t.iconRotate || 0) * Math.PI) /
              180),
            u.setOrigin([t.itemWidth / 2, t.itemHeight / 2]),
            s.indexOf('empty') > -1 &&
              ((u.style.stroke = u.style.fill),
              (u.style.fill = '#fff'),
              (u.style.lineWidth = 2)),
            n
          );
        }),
        (e.type = 'series.line'),
        (e.dependencies = ['grid', 'polar']),
        (e.defaultOption = {
          z: 3,
          coordinateSystem: 'cartesian2d',
          legendHoverLink: !0,
          clip: !0,
          label: { position: 'top' },
          endLabel: { show: !1, valueAnimation: !0, distance: 8 },
          lineStyle: { width: 2, type: 'solid' },
          emphasis: { scale: !0 },
          step: !1,
          smooth: !1,
          smoothMonotone: null,
          symbol: 'emptyCircle',
          symbolSize: 4,
          symbolRotate: null,
          showSymbol: !0,
          showAllSymbol: 'auto',
          connectNulls: !1,
          sampling: 'none',
          animationEasing: 'linear',
          progressive: 0,
          hoverLayerThreshold: 1 / 0,
          universalTransition: { divideShape: 'clone' },
          triggerLineEvent: !1,
        }),
        e
      );
    })(nn);
  function Kf(r, e) {
    var t = r.mapDimensionsAll('defaultedLabel'),
      n = t.length;
    if (1 === n) {
      var i = Bf(r, e, t[0]);
      return null != i ? i + '' : null;
    }
    if (n) {
      for (var a = [], o = 0; o < t.length; o++) a.push(Bf(r, e, t[o]));
      return a.join(' ');
    }
  }
  function bT(r, e) {
    var t = r.mapDimensionsAll('defaultedLabel');
    if (!Tt(e)) return e + '';
    for (var n = [], i = 0; i < t.length; i++) {
      var a = r.getDimensionIndex(t[i]);
      a >= 0 && n.push(e[a]);
    }
    return n.join(' ');
  }
  var Wd = (function (r) {
    function e(t, n, i, a) {
      var o = r.call(this) || this;
      return o.updateData(t, n, i, a), o;
    }
    return (
      ut(e, r),
      (e.prototype._createSymbol = function (t, n, i, a, o) {
        this.removeAll();
        var s = En(t, -1, -1, 2, 2, null, o);
        s.attr({ z2: 100, culling: !0, scaleX: a[0] / 2, scaleY: a[1] / 2 }),
          (s.drift = QN),
          (this._symbolType = t),
          this.add(s);
      }),
      (e.prototype.stopSymbolAnimation = function (t) {
        this.childAt(0).stopAnimation(null, t);
      }),
      (e.prototype.getSymbolType = function () {
        return this._symbolType;
      }),
      (e.prototype.getSymbolPath = function () {
        return this.childAt(0);
      }),
      (e.prototype.highlight = function () {
        Js(this.childAt(0));
      }),
      (e.prototype.downplay = function () {
        tl(this.childAt(0));
      }),
      (e.prototype.setZ = function (t, n) {
        var i = this.childAt(0);
        (i.zlevel = t), (i.z = n);
      }),
      (e.prototype.setDraggable = function (t, n) {
        var i = this.childAt(0);
        (i.draggable = t), (i.cursor = !n && t ? 'move' : i.cursor);
      }),
      (e.prototype.updateData = function (t, n, i, a) {
        this.silent = !1;
        var o = t.getItemVisual(n, 'symbol') || 'circle',
          s = t.hostModel,
          l = e.getSymbolSize(t, n),
          u = o !== this._symbolType,
          c = a && a.disableAnimation;
        if (u) {
          var f = t.getItemVisual(n, 'symbolKeepAspect');
          this._createSymbol(o, t, n, l, f);
        } else {
          (d = this.childAt(0)).silent = !1;
          var v = { scaleX: l[0] / 2, scaleY: l[1] / 2 };
          c ? d.attr(v) : Wr(d, v, s, n), Ro(d);
        }
        if ((this._updateCommon(t, n, l, i, a), u)) {
          var d = this.childAt(0);
          c ||
            ((v = {
              scaleX: this._sizeX,
              scaleY: this._sizeY,
              style: { opacity: d.style.opacity },
            }),
            (d.scaleX = d.scaleY = 0),
            (d.style.opacity = 0),
            pn(d, v, s, n));
        }
        c && this.childAt(0).stopAnimation('leave');
      }),
      (e.prototype._updateCommon = function (t, n, i, a, o) {
        var u,
          c,
          f,
          d,
          v,
          g,
          m,
          y,
          b,
          s = this.childAt(0),
          l = t.hostModel;
        if (
          (a &&
            ((u = a.emphasisItemStyle),
            (c = a.blurItemStyle),
            (f = a.selectItemStyle),
            (d = a.focus),
            (v = a.blurScope),
            (m = a.labelStatesModels),
            (y = a.hoverScale),
            (b = a.cursorStyle),
            (g = a.emphasisDisabled)),
          !a || t.hasItemOption)
        ) {
          var w = a && a.itemModel ? a.itemModel : t.getItemModel(n),
            C = w.getModel('emphasis');
          (u = C.getModel('itemStyle').getItemStyle()),
            (f = w.getModel(['select', 'itemStyle']).getItemStyle()),
            (c = w.getModel(['blur', 'itemStyle']).getItemStyle()),
            (d = C.get('focus')),
            (v = C.get('blurScope')),
            (g = C.get('disabled')),
            (m = oi(w)),
            (y = C.getShallow('scale')),
            (b = w.getShallow('cursor'));
        }
        var D = t.getItemVisual(n, 'symbolRotate');
        s.attr('rotation', ((D || 0) * Math.PI) / 180 || 0);
        var L = mc(t.getItemVisual(n, 'symbolOffset'), i);
        L && ((s.x = L[0]), (s.y = L[1])), b && s.attr('cursor', b);
        var M = t.getItemVisual(n, 'style'),
          E = M.fill;
        if (s instanceof ai) {
          var O = s.style;
          s.useStyle(
            nt(
              {
                image: O.image,
                x: O.x,
                y: O.y,
                width: O.width,
                height: O.height,
              },
              M
            )
          );
        } else
          s.useStyle(s.__isEmptyBrush ? nt({}, M) : M),
            (s.style.decal = null),
            s.setColor(E, o && o.symbolInnerColor),
            (s.style.strokeNoScale = !0);
        var z = t.getItemVisual(n, 'liftZ'),
          H = this._z2;
        null != z
          ? null == H && ((this._z2 = s.z2), (s.z2 += z))
          : null != H && ((s.z2 = H), (this._z2 = null));
        var G = o && o.useNameLabel;
        Ci(s, m, {
          labelFetcher: l,
          labelDataIndex: n,
          defaultText: function X(ot) {
            return G ? t.getName(ot) : Kf(t, ot);
          },
          inheritColor: E,
          defaultOpacity: M.opacity,
        }),
          (this._sizeX = i[0] / 2),
          (this._sizeY = i[1] / 2);
        var K = s.ensureState('emphasis');
        (K.style = u),
          (s.ensureState('select').style = f),
          (s.ensureState('blur').style = c);
        var tt =
          null == y || !0 === y
            ? Math.max(1.1, 3 / this._sizeY)
            : isFinite(y) && y > 0
            ? +y
            : 1;
        (K.scaleX = this._sizeX * tt),
          (K.scaleY = this._sizeY * tt),
          this.setSymbolScale(1),
          wn(this, d, v, g);
      }),
      (e.prototype.setSymbolScale = function (t) {
        this.scaleX = this.scaleY = t;
      }),
      (e.prototype.fadeOut = function (t, n, i) {
        var a = this.childAt(0),
          o = fr(this).dataIndex,
          s = i && i.animation;
        if (((this.silent = a.silent = !0), i && i.fadeLabel)) {
          var l = a.getTextContent();
          l &&
            Ul(l, { style: { opacity: 0 } }, n, {
              dataIndex: o,
              removeOpt: s,
              cb: function () {
                a.removeTextContent();
              },
            });
        } else a.removeTextContent();
        Ul(a, { style: { opacity: 0 }, scaleX: 0, scaleY: 0 }, n, {
          dataIndex: o,
          cb: t,
          removeOpt: s,
        });
      }),
      (e.getSymbolSize = function (t, n) {
        return Gf(t.getItemVisual(n, 'symbolSize'));
      }),
      e
    );
  })(Qe);
  function QN(r, e) {
    this.parent.drift(r, e);
  }
  function u1(r, e, t, n) {
    return (
      e &&
      !isNaN(e[0]) &&
      !isNaN(e[1]) &&
      !(n.isIgnore && n.isIgnore(t)) &&
      !(n.clipShape && !n.clipShape.contain(e[0], e[1])) &&
      'none' !== r.getItemVisual(t, 'symbol')
    );
  }
  function _T(r) {
    return null != r && !Y(r) && (r = { isIgnore: r }), r || {};
  }
  function ST(r) {
    var e = r.hostModel,
      t = e.getModel('emphasis');
    return {
      emphasisItemStyle: t.getModel('itemStyle').getItemStyle(),
      blurItemStyle: e.getModel(['blur', 'itemStyle']).getItemStyle(),
      selectItemStyle: e.getModel(['select', 'itemStyle']).getItemStyle(),
      focus: t.get('focus'),
      blurScope: t.get('blurScope'),
      emphasisDisabled: t.get('disabled'),
      hoverScale: t.get('scale'),
      labelStatesModels: oi(e),
      cursorStyle: e.get('cursor'),
    };
  }
  var $d = (function () {
    function r(e) {
      (this.group = new Qe()), (this._SymbolCtor = e || Wd);
    }
    return (
      (r.prototype.updateData = function (e, t) {
        (this._progressiveEls = null), (t = _T(t));
        var n = this.group,
          i = e.hostModel,
          a = this._data,
          o = this._SymbolCtor,
          s = t.disableAnimation,
          l = ST(e),
          u = { disableAnimation: s },
          c =
            t.getSymbolPoint ||
            function (f) {
              return e.getItemLayout(f);
            };
        a || n.removeAll(),
          e
            .diff(a)
            .add(function (f) {
              var d = c(f);
              if (u1(e, d, f, t)) {
                var v = new o(e, f, l, u);
                v.setPosition(d), e.setItemGraphicEl(f, v), n.add(v);
              }
            })
            .update(function (f, d) {
              var v = a.getItemGraphicEl(d),
                g = c(f);
              if (u1(e, g, f, t)) {
                var m = e.getItemVisual(f, 'symbol') || 'circle',
                  y = v && v.getSymbolType && v.getSymbolType();
                if (!v || (y && y !== m))
                  n.remove(v), (v = new o(e, f, l, u)).setPosition(g);
                else {
                  v.updateData(e, f, l, u);
                  var b = { x: g[0], y: g[1] };
                  s ? v.attr(b) : Wr(v, b, i);
                }
                n.add(v), e.setItemGraphicEl(f, v);
              } else n.remove(v);
            })
            .remove(function (f) {
              var d = a.getItemGraphicEl(f);
              d &&
                d.fadeOut(function () {
                  n.remove(d);
                }, i);
            })
            .execute(),
          (this._getSymbolPoint = c),
          (this._data = e);
      }),
      (r.prototype.updateLayout = function () {
        var e = this,
          t = this._data;
        t &&
          t.eachItemGraphicEl(function (n, i) {
            var a = e._getSymbolPoint(i);
            n.setPosition(a), n.markRedraw();
          });
      }),
      (r.prototype.incrementalPrepareUpdate = function (e) {
        (this._seriesScope = ST(e)),
          (this._data = null),
          this.group.removeAll();
      }),
      (r.prototype.incrementalUpdate = function (e, t, n) {
        function i(l) {
          l.isGroup ||
            ((l.incremental = !0), (l.ensureState('emphasis').hoverLayer = !0));
        }
        (this._progressiveEls = []), (n = _T(n));
        for (var a = e.start; a < e.end; a++) {
          var o = t.getItemLayout(a);
          if (u1(t, o, a, n)) {
            var s = new this._SymbolCtor(t, a, this._seriesScope);
            s.traverse(i),
              s.setPosition(o),
              this.group.add(s),
              t.setItemGraphicEl(a, s),
              this._progressiveEls.push(s);
          }
        }
      }),
      (r.prototype.eachRendered = function (e) {
        Xl(this._progressiveEls || this.group, e);
      }),
      (r.prototype.remove = function (e) {
        var t = this.group,
          n = this._data;
        n && e
          ? n.eachItemGraphicEl(function (i) {
              i.fadeOut(function () {
                t.remove(i);
              }, n.hostModel);
            })
          : t.removeAll();
      }),
      r
    );
  })();
  function wT(r, e, t) {
    var n = r.getBaseAxis(),
      i = r.getOtherAxis(n),
      a = (function JN(r, e) {
        var t = 0,
          n = r.scale.getExtent();
        return (
          'start' === e
            ? (t = n[0])
            : 'end' === e
            ? (t = n[1])
            : U(e) && !isNaN(e)
            ? (t = e)
            : n[0] > 0
            ? (t = n[0])
            : n[1] < 0 && (t = n[1]),
          t
        );
      })(i, t),
      o = n.dim,
      s = i.dim,
      l = e.mapDimension(s),
      u = e.mapDimension(o),
      c = 'x' === s || 'radius' === s ? 1 : 0,
      f = Ut(r.dimensions, function (g) {
        return e.mapDimension(g);
      }),
      d = !1,
      v = e.getCalculationInfo('stackResultDimension');
    return (
      il(e, f[0]) && ((d = !0), (f[0] = v)),
      il(e, f[1]) && ((d = !0), (f[1] = v)),
      {
        dataDimsForPoint: f,
        valueStart: a,
        valueAxisDim: s,
        baseAxisDim: o,
        stacked: !!d,
        valueDim: l,
        baseDim: u,
        baseDataOffset: c,
        stackedOverDimension: e.getCalculationInfo('stackedOverDimension'),
      }
    );
  }
  function CT(r, e, t, n) {
    var i = NaN;
    r.stacked && (i = t.get(t.getCalculationInfo('stackedOverDimension'), n)),
      isNaN(i) && (i = r.valueStart);
    var a = r.baseDataOffset,
      o = [];
    return (o[a] = t.get(r.baseDim, n)), (o[1 - a] = i), e.dataToPoint(o);
  }
  var eu = Math.min,
    ru = Math.max;
  function Lc(r, e) {
    return isNaN(r) || isNaN(e);
  }
  function c1(r, e, t, n, i, a, o, s, l) {
    for (var u, c, f, d, v, g, m = t, y = 0; y < n; y++) {
      var b = e[2 * m],
        w = e[2 * m + 1];
      if (m >= i || m < 0) break;
      if (Lc(b, w)) {
        if (l) {
          m += a;
          continue;
        }
        break;
      }
      if (m === t) r[a > 0 ? 'moveTo' : 'lineTo'](b, w), (f = b), (d = w);
      else {
        var C = b - u,
          D = w - c;
        if (C * C + D * D < 0.5) {
          m += a;
          continue;
        }
        if (o > 0) {
          for (
            var L = m + a, M = e[2 * L], E = e[2 * L + 1];
            M === b && E === w && y < n;

          )
            y++,
              (M = e[2 * (L += a)]),
              (E = e[2 * L + 1]),
              (C = (b = e[2 * (m += a)]) - u),
              (D = (w = e[2 * m + 1]) - c);
          var O = y + 1;
          if (l)
            for (; Lc(M, E) && O < n; )
              O++, (M = e[2 * (L += a)]), (E = e[2 * L + 1]);
          var z = 0.5,
            H = 0,
            G = 0,
            X = void 0,
            K = void 0;
          if (O >= n || Lc(M, E)) (v = b), (g = w);
          else {
            (H = M - u), (G = E - c);
            var tt = b - u,
              ot = M - b,
              pt = w - c,
              Xt = E - w,
              Vt = void 0,
              re = void 0;
            if ('x' === s) {
              var ye = H > 0 ? 1 : -1;
              (v = b - ye * (Vt = Math.abs(tt)) * o),
                (g = w),
                (X = b + ye * (re = Math.abs(ot)) * o),
                (K = w);
            } else if ('y' === s) {
              var ke = G > 0 ? 1 : -1;
              (v = b),
                (g = w - ke * (Vt = Math.abs(pt)) * o),
                (X = b),
                (K = w + ke * (re = Math.abs(Xt)) * o);
            } else
              (Vt = Math.sqrt(tt * tt + pt * pt)),
                (v =
                  b -
                  H *
                    o *
                    (1 -
                      (z = (re = Math.sqrt(ot * ot + Xt * Xt)) / (re + Vt)))),
                (g = w - G * o * (1 - z)),
                (K = w + G * o * z),
                (X = eu((X = b + H * o * z), ru(M, b))),
                (K = eu(K, ru(E, w))),
                (X = ru(X, eu(M, b))),
                (g = w - ((G = (K = ru(K, eu(E, w))) - w) * Vt) / re),
                (v = eu((v = b - ((H = X - b) * Vt) / re), ru(u, b))),
                (g = eu(g, ru(c, w))),
                (X = b + ((H = b - (v = ru(v, eu(u, b)))) * re) / Vt),
                (K = w + ((G = w - (g = ru(g, eu(c, w)))) * re) / Vt);
          }
          r.bezierCurveTo(f, d, v, g, b, w), (f = X), (d = K);
        } else r.lineTo(b, w);
      }
      (u = b), (c = w), (m += a);
    }
    return y;
  }
  var DT = function r() {
      (this.smooth = 0), (this.smoothConstraint = !0);
    },
    r3 = (function (r) {
      function e(t) {
        var n = r.call(this, t) || this;
        return (n.type = 'ec-polyline'), n;
      }
      return (
        ut(e, r),
        (e.prototype.getDefaultStyle = function () {
          return { stroke: '#000', fill: null };
        }),
        (e.prototype.getDefaultShape = function () {
          return new DT();
        }),
        (e.prototype.buildPath = function (t, n) {
          var i = n.points,
            a = 0,
            o = i.length / 2;
          if (n.connectNulls) {
            for (; o > 0 && Lc(i[2 * o - 2], i[2 * o - 1]); o--);
            for (; a < o && Lc(i[2 * a], i[2 * a + 1]); a++);
          }
          for (; a < o; )
            a +=
              c1(t, i, a, o, o, 1, n.smooth, n.smoothMonotone, n.connectNulls) +
              1;
        }),
        (e.prototype.getPointOn = function (t, n) {
          this.path ||
            (this.createPathProxy(), this.buildPath(this.path, this.shape));
          for (
            var s,
              l,
              a = this.path.data,
              o = os.CMD,
              u = 'x' === n,
              c = [],
              f = 0;
            f < a.length;

          ) {
            var v = void 0,
              g = void 0,
              m = void 0,
              y = void 0,
              b = void 0,
              w = void 0,
              C = void 0;
            switch (a[f++]) {
              case o.M:
                (s = a[f++]), (l = a[f++]);
                break;
              case o.L:
                if (
                  ((v = a[f++]),
                  (g = a[f++]),
                  (C = u ? (t - s) / (v - s) : (t - l) / (g - l)) <= 1 &&
                    C >= 0)
                ) {
                  var D = u ? (g - l) * C + l : (v - s) * C + s;
                  return u ? [t, D] : [D, t];
                }
                (s = v), (l = g);
                break;
              case o.C:
                (v = a[f++]),
                  (g = a[f++]),
                  (m = a[f++]),
                  (y = a[f++]),
                  (b = a[f++]),
                  (w = a[f++]);
                var L = u ? $o(s, v, m, b, t, c) : $o(l, g, y, w, t, c);
                if (L > 0)
                  for (var M = 0; M < L; M++) {
                    var E = c[M];
                    if (E <= 1 && E >= 0)
                      return (
                        (D = u ? kn(l, g, y, w, E) : kn(s, v, m, b, E)),
                        u ? [t, D] : [D, t]
                      );
                  }
                (s = b), (l = w);
            }
          }
        }),
        e
      );
    })(Lr),
    n3 = (function (r) {
      function e() {
        return (null !== r && r.apply(this, arguments)) || this;
      }
      return ut(e, r), e;
    })(DT),
    TT = (function (r) {
      function e(t) {
        var n = r.call(this, t) || this;
        return (n.type = 'ec-polygon'), n;
      }
      return (
        ut(e, r),
        (e.prototype.getDefaultShape = function () {
          return new n3();
        }),
        (e.prototype.buildPath = function (t, n) {
          var i = n.points,
            a = n.stackedOnPoints,
            o = 0,
            s = i.length / 2,
            l = n.smoothMonotone;
          if (n.connectNulls) {
            for (; s > 0 && Lc(i[2 * s - 2], i[2 * s - 1]); s--);
            for (; o < s && Lc(i[2 * o], i[2 * o + 1]); o++);
          }
          for (; o < s; ) {
            var u = c1(t, i, o, s, s, 1, n.smooth, l, n.connectNulls);
            c1(t, a, o + u - 1, u, s, -1, n.stackedOnSmooth, l, n.connectNulls),
              (o += u + 1),
              t.closePath();
          }
        }),
        e
      );
    })(Lr);
  function AT(r, e, t, n, i) {
    var a = r.getArea(),
      o = a.x,
      s = a.y,
      l = a.width,
      u = a.height,
      c = t.get(['lineStyle', 'width']) || 2;
    (o -= c / 2),
      (s -= c / 2),
      (l += c),
      (u += c),
      (o = Math.floor(o)),
      (l = Math.round(l));
    var f = new Rr({ shape: { x: o, y: s, width: l, height: u } });
    if (e) {
      var d = r.getBaseAxis(),
        v = d.isHorizontal(),
        g = d.inverse;
      v
        ? (g && (f.shape.x += l), (f.shape.width = 0))
        : (g || (f.shape.y += u), (f.shape.height = 0));
      var m = fe(i)
        ? function (y) {
            i(y, f);
          }
        : null;
      pn(f, { shape: { width: l, height: u, x: o, y: s } }, t, null, n, m);
    }
    return f;
  }
  function MT(r, e, t) {
    var n = r.getArea(),
      i = yn(n.r0, 1),
      a = yn(n.r, 1),
      o = new Gi({
        shape: {
          cx: yn(r.cx, 1),
          cy: yn(r.cy, 1),
          r0: i,
          r: a,
          startAngle: n.startAngle,
          endAngle: n.endAngle,
          clockwise: n.clockwise,
        },
      });
    return (
      e &&
        ('angle' === r.getBaseAxis().dim
          ? (o.shape.endAngle = n.startAngle)
          : (o.shape.r = i),
        pn(o, { shape: { endAngle: n.endAngle, r: a } }, t)),
      o
    );
  }
  function Ig(r, e, t, n, i) {
    return r
      ? 'polar' === r.type
        ? MT(r, e, t)
        : 'cartesian2d' === r.type
        ? AT(r, e, t, n, i)
        : null
      : null;
  }
  function Ic(r, e) {
    return r.type === e;
  }
  function LT(r, e) {
    if (r.length === e.length) {
      for (var t = 0; t < r.length; t++) if (r[t] !== e[t]) return;
      return !0;
    }
  }
  function IT(r) {
    for (
      var e = 1 / 0, t = 1 / 0, n = -1 / 0, i = -1 / 0, a = 0;
      a < r.length;

    ) {
      var o = r[a++],
        s = r[a++];
      isNaN(o) || ((e = Math.min(o, e)), (n = Math.max(o, n))),
        isNaN(s) || ((t = Math.min(s, t)), (i = Math.max(s, i)));
    }
    return [
      [e, t],
      [n, i],
    ];
  }
  function kT(r, e) {
    var t = IT(r),
      n = t[0],
      i = t[1],
      a = IT(e),
      o = a[0],
      s = a[1];
    return Math.max(
      Math.abs(n[0] - o[0]),
      Math.abs(n[1] - o[1]),
      Math.abs(i[0] - s[0]),
      Math.abs(i[1] - s[1])
    );
  }
  function ET(r) {
    return U(r) ? r : r ? 0.5 : 0;
  }
  function nu(r, e, t, n) {
    var i = e.getBaseAxis(),
      a = 'x' === i.dim || 'radius' === i.dim ? 0 : 1,
      o = [],
      s = 0,
      l = [],
      u = [],
      c = [],
      f = [];
    if (n) {
      for (s = 0; s < r.length; s += 2)
        !isNaN(r[s]) && !isNaN(r[s + 1]) && f.push(r[s], r[s + 1]);
      r = f;
    }
    for (s = 0; s < r.length - 2; s += 2)
      switch (
        ((c[0] = r[s + 2]),
        (c[1] = r[s + 3]),
        (u[0] = r[s]),
        (u[1] = r[s + 1]),
        o.push(u[0], u[1]),
        t)
      ) {
        case 'end':
          (l[a] = c[a]), (l[1 - a] = u[1 - a]), o.push(l[0], l[1]);
          break;
        case 'middle':
          var v = [];
          (l[a] = v[a] = (u[a] + c[a]) / 2),
            (l[1 - a] = u[1 - a]),
            (v[1 - a] = c[1 - a]),
            o.push(l[0], l[1]),
            o.push(v[0], v[1]);
          break;
        default:
          (l[a] = u[a]), (l[1 - a] = c[1 - a]), o.push(l[0], l[1]);
      }
    return o.push(r[s++], r[s++]), o;
  }
  function u3(r, e) {
    return isNaN(r) || isNaN(e);
  }
  function PT(r, e) {
    return [r[2 * e], r[2 * e + 1]];
  }
  function RT(r) {
    if (r.get(['endLabel', 'show'])) return !0;
    for (var e = 0; e < ua.length; e++)
      if (r.get([ua[e], 'endLabel', 'show'])) return !0;
    return !1;
  }
  function f1(r, e, t, n) {
    if (Ic(e, 'cartesian2d')) {
      var i = n.getModel('endLabel'),
        a = i.get('valueAnimation'),
        o = n.getData(),
        s = { lastFrameIndex: 0 },
        l = RT(n)
          ? function (v, g) {
              r._endLabelOnDuring(v, g, o, s, a, i, e);
            }
          : null,
        u = e.getBaseAxis().isHorizontal(),
        c = AT(
          e,
          t,
          n,
          function () {
            var v = r._endLabel;
            v &&
              t &&
              null != s.originalX &&
              v.attr({ x: s.originalX, y: s.originalY });
          },
          l
        );
      if (!n.get('clip', !0)) {
        var f = c.shape,
          d = Math.max(f.width, f.height);
        u
          ? ((f.y -= d), (f.height += 2 * d))
          : ((f.x -= d), (f.width += 2 * d));
      }
      return l && l(1, c), c;
    }
    return (
      n.get(['endLabel', 'show']) &&
        console.warn('endLabel is not supported for lines in polar systems.'),
      MT(e, t, n)
    );
  }
  var d3 = (function (r) {
    function e() {
      return (null !== r && r.apply(this, arguments)) || this;
    }
    return (
      ut(e, r),
      (e.prototype.init = function () {
        var t = new Qe(),
          n = new $d();
        this.group.add(n.group), (this._symbolDraw = n), (this._lineGroup = t);
      }),
      (e.prototype.render = function (t, n, i) {
        var a = this,
          o = t.coordinateSystem,
          s = this.group,
          l = t.getData(),
          u = t.getModel('lineStyle'),
          c = t.getModel('areaStyle'),
          f = l.getLayout('points') || [],
          d = 'polar' === o.type,
          v = this._coordSys,
          g = this._symbolDraw,
          m = this._polyline,
          y = this._polygon,
          b = this._lineGroup,
          w = !n.ssr && t.isAnimationEnabled(),
          C = !c.isEmpty(),
          D = c.get('origin'),
          L = wT(o, l, D),
          M =
            C &&
            (function i3(r, e, t) {
              if (!t.valueDim) return [];
              for (var n = e.count(), i = hs(2 * n), a = 0; a < n; a++) {
                var o = CT(t, r, e, a);
                (i[2 * a] = o[0]), (i[2 * a + 1] = o[1]);
              }
              return i;
            })(o, l, L),
          E = t.get('showSymbol'),
          O = t.get('connectNulls'),
          z =
            E &&
            !d &&
            (function s3(r, e, t) {
              var n = r.get('showAllSymbol'),
                i = 'auto' === n;
              if (!n || i) {
                var a = t.getAxesByScale('ordinal')[0];
                if (
                  a &&
                  (!i ||
                    !(function l3(r, e) {
                      var t = r.getExtent(),
                        n = Math.abs(t[1] - t[0]) / r.scale.count();
                      isNaN(n) && (n = 0);
                      for (
                        var i = e.count(),
                          a = Math.max(1, Math.round(i / 5)),
                          o = 0;
                        o < i;
                        o += a
                      )
                        if (
                          1.5 *
                            Wd.getSymbolSize(e, o)[r.isHorizontal() ? 1 : 0] >
                          n
                        )
                          return !1;
                      return !0;
                    })(a, e))
                ) {
                  var o = e.mapDimension(a.dim),
                    s = {};
                  return (
                    F(a.getViewLabels(), function (l) {
                      var u = a.scale.getRawOrdinalNumber(l.tickValue);
                      s[u] = 1;
                    }),
                    function (l) {
                      return !s.hasOwnProperty(e.get(o, l));
                    }
                  );
                }
              }
            })(t, l, o),
          H = this._data;
        H &&
          H.eachItemGraphicEl(function (Er, Dr) {
            Er.__temp && (s.remove(Er), H.setItemGraphicEl(Dr, null));
          }),
          E || g.remove(),
          s.add(b);
        var X,
          G = !d && t.get('step');
        o &&
          o.getArea &&
          t.get('clip', !0) &&
          (null != (X = o.getArea()).width
            ? ((X.x -= 0.1), (X.y -= 0.1), (X.width += 0.2), (X.height += 0.2))
            : X.r0 && ((X.r0 -= 0.5), (X.r += 0.5))),
          (this._clipShapeForSymbol = X);
        var K =
          (function o3(r, e, t) {
            var n = r.getVisual('visualMeta');
            if (n && n.length && r.count()) {
              if ('cartesian2d' !== e.type)
                return void console.warn(
                  'Visual map on line style is only supported on cartesian2d.'
                );
              for (var i, a, o = n.length - 1; o >= 0; o--) {
                var s = r.getDimensionInfo(n[o].dimension);
                if ('x' === (i = s && s.coordDim) || 'y' === i) {
                  a = n[o];
                  break;
                }
              }
              if (!a)
                return void console.warn(
                  'Visual map on line style only support x or y dimension.'
                );
              var l = e.getAxis(i),
                u = Ut(a.stops, function (C) {
                  return {
                    coord: l.toGlobalCoord(l.dataToCoord(C.value)),
                    color: C.color,
                  };
                }),
                c = u.length,
                f = a.outerColors.slice();
              c && u[0].coord > u[c - 1].coord && (u.reverse(), f.reverse());
              var d = (function a3(r, e) {
                  var i,
                    a,
                    t = [],
                    n = r.length;
                  function o(c, f, d) {
                    var v = c.coord;
                    return {
                      coord: d,
                      color: bu((d - v) / (f.coord - v), [c.color, f.color]),
                    };
                  }
                  for (var s = 0; s < n; s++) {
                    var l = r[s],
                      u = l.coord;
                    if (u < 0) i = l;
                    else {
                      if (u > e) {
                        a
                          ? t.push(o(a, l, e))
                          : i && t.push(o(i, l, 0), o(i, l, e));
                        break;
                      }
                      i && (t.push(o(i, l, 0)), (i = null)), t.push(l), (a = l);
                    }
                  }
                  return t;
                })(u, 'x' === i ? t.getWidth() : t.getHeight()),
                v = d.length;
              if (!v && c)
                return u[0].coord < 0
                  ? f[1]
                    ? f[1]
                    : u[c - 1].color
                  : f[0]
                  ? f[0]
                  : u[0].color;
              var m = d[0].coord - 10,
                y = d[v - 1].coord + 10,
                b = y - m;
              if (b < 0.001) return 'transparent';
              F(d, function (C) {
                C.offset = (C.coord - m) / b;
              }),
                d.push({
                  offset: v ? d[v - 1].offset : 0.5,
                  color: f[1] || 'transparent',
                }),
                d.unshift({
                  offset: v ? d[0].offset : 0.5,
                  color: f[0] || 'transparent',
                });
              var w = new Cf(0, 0, 0, 0, d, !0);
              return (w[i] = m), (w[i + '2'] = y), w;
            }
          })(l, o, i) || l.getVisual('style')[l.getVisual('drawType')];
        if (m && v.type === o.type && G === this._step) {
          C && !y
            ? (y = this._newPolygon(f, M))
            : y && !C && (b.remove(y), (y = this._polygon = null)),
            d || this._initOrUpdateEndLabel(t, o, uc(K));
          var tt = b.getClipPath();
          tt
            ? pn(tt, { shape: f1(this, o, !1, t).shape }, t)
            : b.setClipPath(f1(this, o, !0, t)),
            E &&
              g.updateData(l, {
                isIgnore: z,
                clipShape: X,
                disableAnimation: !0,
                getSymbolPoint: function (Er) {
                  return [f[2 * Er], f[2 * Er + 1]];
                },
              }),
            (!LT(this._stackedOnPoints, M) || !LT(this._points, f)) &&
              (w
                ? this._doUpdateAnimation(l, M, o, i, G, D, O)
                : (G && ((f = nu(f, o, G, O)), M && (M = nu(M, o, G, O))),
                  m.setShape({ points: f }),
                  y && y.setShape({ points: f, stackedOnPoints: M })));
        } else
          E &&
            g.updateData(l, {
              isIgnore: z,
              clipShape: X,
              disableAnimation: !0,
              getSymbolPoint: function (Er) {
                return [f[2 * Er], f[2 * Er + 1]];
              },
            }),
            w && this._initSymbolLabelAnimation(l, o, X),
            G && ((f = nu(f, o, G, O)), M && (M = nu(M, o, G, O))),
            (m = this._newPolyline(f)),
            C
              ? (y = this._newPolygon(f, M))
              : y && (b.remove(y), (y = this._polygon = null)),
            d || this._initOrUpdateEndLabel(t, o, uc(K)),
            b.setClipPath(f1(this, o, !0, t));
        var pt = t.getModel('emphasis'),
          Xt = pt.get('focus'),
          Vt = pt.get('blurScope'),
          re = pt.get('disabled');
        m.useStyle(
          Ot(u.getLineStyle(), { fill: 'none', stroke: K, lineJoin: 'bevel' })
        ),
          wi(m, t, 'lineStyle'),
          m.style.lineWidth > 0 &&
            'bolder' === t.get(['emphasis', 'lineStyle', 'width']) &&
            (m.getState('emphasis').style.lineWidth = +m.style.lineWidth + 1),
          (fr(m).seriesIndex = t.seriesIndex),
          wn(m, Xt, Vt, re);
        var ke = ET(t.get('smooth')),
          Ye = t.get('smoothMonotone');
        if (
          (m.setShape({ smooth: ke, smoothMonotone: Ye, connectNulls: O }), y)
        ) {
          var tr = l.getCalculationInfo('stackedOnSeries'),
            er = 0;
          y.useStyle(
            Ot(c.getAreaStyle(), {
              fill: K,
              opacity: 0.7,
              lineJoin: 'bevel',
              decal: l.getVisual('style').decal,
            })
          ),
            tr && (er = ET(tr.get('smooth'))),
            y.setShape({
              smooth: ke,
              stackedOnSmooth: er,
              smoothMonotone: Ye,
              connectNulls: O,
            }),
            wi(y, t, 'areaStyle'),
            (fr(y).seriesIndex = t.seriesIndex),
            wn(y, Xt, Vt, re);
        }
        var Cr = function (Er) {
          a._changePolyState(Er);
        };
        l.eachItemGraphicEl(function (Er) {
          Er && (Er.onHoverStateChange = Cr);
        }),
          (this._polyline.onHoverStateChange = Cr),
          (this._data = l),
          (this._coordSys = o),
          (this._stackedOnPoints = M),
          (this._points = f),
          (this._step = G),
          (this._valueOrigin = D),
          t.get('triggerLineEvent') &&
            (this.packEventData(t, m), y && this.packEventData(t, y));
      }),
      (e.prototype.packEventData = function (t, n) {
        fr(n).eventData = {
          componentType: 'series',
          componentSubType: 'line',
          componentIndex: t.componentIndex,
          seriesIndex: t.seriesIndex,
          seriesName: t.name,
          seriesType: 'line',
        };
      }),
      (e.prototype.highlight = function (t, n, i, a) {
        var o = t.getData(),
          s = x(o, a);
        if (
          (this._changePolyState('emphasis'),
          !(s instanceof Array) && null != s && s >= 0)
        ) {
          var l = o.getLayout('points'),
            u = o.getItemGraphicEl(s);
          if (!u) {
            var c = l[2 * s],
              f = l[2 * s + 1];
            if (
              isNaN(c) ||
              isNaN(f) ||
              (this._clipShapeForSymbol &&
                !this._clipShapeForSymbol.contain(c, f))
            )
              return;
            var d = t.get('zlevel') || 0,
              v = t.get('z') || 0;
            ((u = new Wd(o, s)).x = c), (u.y = f), u.setZ(d, v);
            var g = u.getSymbolPath().getTextContent();
            g && ((g.zlevel = d), (g.z = v), (g.z2 = this._polyline.z2 + 1)),
              (u.__temp = !0),
              o.setItemGraphicEl(s, u),
              u.stopSymbolAnimation(!0),
              this.group.add(u);
          }
          u.highlight();
        } else en.prototype.highlight.call(this, t, n, i, a);
      }),
      (e.prototype.downplay = function (t, n, i, a) {
        var o = t.getData(),
          s = x(o, a);
        if ((this._changePolyState('normal'), null != s && s >= 0)) {
          var l = o.getItemGraphicEl(s);
          l &&
            (l.__temp
              ? (o.setItemGraphicEl(s, null), this.group.remove(l))
              : l.downplay());
        } else en.prototype.downplay.call(this, t, n, i, a);
      }),
      (e.prototype._changePolyState = function (t) {
        var n = this._polygon;
        pp(this._polyline, t), n && pp(n, t);
      }),
      (e.prototype._newPolyline = function (t) {
        var n = this._polyline;
        return (
          n && this._lineGroup.remove(n),
          (n = new r3({
            shape: { points: t },
            segmentIgnoreThreshold: 2,
            z2: 10,
          })),
          this._lineGroup.add(n),
          (this._polyline = n),
          n
        );
      }),
      (e.prototype._newPolygon = function (t, n) {
        var i = this._polygon;
        return (
          i && this._lineGroup.remove(i),
          (i = new TT({
            shape: { points: t, stackedOnPoints: n },
            segmentIgnoreThreshold: 2,
          })),
          this._lineGroup.add(i),
          (this._polygon = i),
          i
        );
      }),
      (e.prototype._initSymbolLabelAnimation = function (t, n, i) {
        var a,
          o,
          s = n.getBaseAxis(),
          l = s.inverse;
        'cartesian2d' === n.type
          ? ((a = s.isHorizontal()), (o = !1))
          : 'polar' === n.type && ((a = 'angle' === s.dim), (o = !0));
        var u = t.hostModel,
          c = u.get('animationDuration');
        fe(c) && (c = c(null));
        var f = u.get('animationDelay') || 0,
          d = fe(f) ? f(null) : f;
        t.eachItemGraphicEl(function (v, g) {
          var m = v;
          if (m) {
            var b = void 0,
              w = void 0,
              C = void 0;
            if (i)
              if (o) {
                var D = i,
                  L = n.pointToCoord([v.x, v.y]);
                a
                  ? ((b = D.startAngle),
                    (w = D.endAngle),
                    (C = (-L[1] / 180) * Math.PI))
                  : ((b = D.r0), (w = D.r), (C = L[0]));
              } else
                a
                  ? ((b = i.x), (w = i.x + i.width), (C = v.x))
                  : ((b = i.y + i.height), (w = i.y), (C = v.y));
            var E = w === b ? 0 : (C - b) / (w - b);
            l && (E = 1 - E);
            var O = fe(f) ? f(g) : c * E + d,
              z = m.getSymbolPath(),
              H = z.getTextContent();
            m.attr({ scaleX: 0, scaleY: 0 }),
              m.animateTo(
                { scaleX: 1, scaleY: 1 },
                { duration: 200, setToFinal: !0, delay: O }
              ),
              H &&
                H.animateFrom(
                  { style: { opacity: 0 } },
                  { duration: 300, delay: O }
                ),
              (z.disableLabelAnimation = !0);
          }
        });
      }),
      (e.prototype._initOrUpdateEndLabel = function (t, n, i) {
        var a = t.getModel('endLabel');
        if (RT(t)) {
          var o = t.getData(),
            s = this._polyline,
            l = o.getLayout('points');
          if (!l) return s.removeTextContent(), void (this._endLabel = null);
          var u = this._endLabel;
          u ||
            (((u = this._endLabel = new Or({ z2: 200 })).ignoreClip = !0),
            s.setTextContent(this._endLabel),
            (s.disableLabelAnimation = !0));
          var c = (function c3(r) {
            for (
              var e = r.length / 2;
              e > 0 && u3(r[2 * e - 2], r[2 * e - 1]);
              e--
            );
            return e - 1;
          })(l);
          c >= 0 &&
            (Ci(
              s,
              oi(t, 'endLabel'),
              {
                inheritColor: i,
                labelFetcher: t,
                labelDataIndex: c,
                defaultText: function (f, d, v) {
                  return null != v ? bT(o, v) : Kf(o, f);
                },
                enableTextSetter: !0,
              },
              (function h3(r, e) {
                var t = e.getBaseAxis(),
                  n = t.isHorizontal(),
                  i = t.inverse,
                  a = n ? (i ? 'right' : 'left') : 'center',
                  o = n ? 'middle' : i ? 'top' : 'bottom';
                return {
                  normal: {
                    align: r.get('align') || a,
                    verticalAlign: r.get('verticalAlign') || o,
                  },
                };
              })(a, n)
            ),
            (s.textConfig.position = null));
        } else
          this._endLabel &&
            (this._polyline.removeTextContent(), (this._endLabel = null));
      }),
      (e.prototype._endLabelOnDuring = function (t, n, i, a, o, s, l) {
        var u = this._endLabel,
          c = this._polyline;
        if (u) {
          t < 1 &&
            null == a.originalX &&
            ((a.originalX = u.x), (a.originalY = u.y));
          var f = i.getLayout('points'),
            d = i.hostModel,
            v = d.get('connectNulls'),
            g = s.get('precision'),
            m = s.get('distance') || 0,
            y = l.getBaseAxis(),
            b = y.isHorizontal(),
            w = y.inverse,
            C = n.shape,
            D = w ? (b ? C.x : C.y + C.height) : b ? C.x + C.width : C.y,
            L = (b ? m : 0) * (w ? -1 : 1),
            M = (b ? 0 : -m) * (w ? -1 : 1),
            E = b ? 'x' : 'y',
            O = (function f3(r, e, t) {
              for (
                var a,
                  o,
                  n = r.length / 2,
                  i = 'x' === t ? 0 : 1,
                  s = 0,
                  l = -1,
                  u = 0;
                u < n;
                u++
              )
                if (
                  ((o = r[2 * u + i]), !isNaN(o) && !isNaN(r[2 * u + 1 - i]))
                ) {
                  if (0 === u) {
                    a = o;
                    continue;
                  }
                  if ((a <= e && o >= e) || (a >= e && o <= e)) {
                    l = u;
                    break;
                  }
                  (s = u), (a = o);
                }
              return { range: [s, l], t: (e - a) / (o - a) };
            })(f, D, E),
            z = O.range,
            H = z[1] - z[0],
            G = void 0;
          if (H >= 1) {
            if (H > 1 && !v) {
              var X = PT(f, z[0]);
              u.attr({ x: X[0] + L, y: X[1] + M }),
                o && (G = d.getRawValue(z[0]));
            } else {
              (X = c.getPointOn(D, E)) && u.attr({ x: X[0] + L, y: X[1] + M });
              var K = d.getRawValue(z[0]),
                tt = d.getRawValue(z[1]);
              o && (G = Ft(i, g, K, tt, O.t));
            }
            a.lastFrameIndex = z[0];
          } else {
            var ot = 1 === t || a.lastFrameIndex > 0 ? z[0] : 0;
            (X = PT(f, ot)),
              o && (G = d.getRawValue(ot)),
              u.attr({ x: X[0] + L, y: X[1] + M });
          }
          if (o) {
            var pt = If(u);
            'function' == typeof pt.setLabelText && pt.setLabelText(G);
          }
        }
      }),
      (e.prototype._doUpdateAnimation = function (t, n, i, a, o, s, l) {
        var u = this._polyline,
          c = this._polygon,
          f = t.hostModel,
          d = (function e3(r, e, t, n, i, a, o, s) {
            for (
              var l = (function t3(r, e) {
                  var t = [];
                  return (
                    e
                      .diff(r)
                      .add(function (n) {
                        t.push({ cmd: '+', idx: n });
                      })
                      .update(function (n, i) {
                        t.push({ cmd: '=', idx: i, idx1: n });
                      })
                      .remove(function (n) {
                        t.push({ cmd: '-', idx: n });
                      })
                      .execute(),
                    t
                  );
                })(r, e),
                u = [],
                c = [],
                f = [],
                d = [],
                v = [],
                g = [],
                m = [],
                y = wT(i, e, o),
                b = r.getLayout('points') || [],
                w = e.getLayout('points') || [],
                C = 0;
              C < l.length;
              C++
            ) {
              var D = l[C],
                L = !0,
                M = void 0,
                E = void 0;
              switch (D.cmd) {
                case '=':
                  var O = b[(M = 2 * D.idx)],
                    z = b[M + 1],
                    H = w[(E = 2 * D.idx1)],
                    G = w[E + 1];
                  (isNaN(O) || isNaN(z)) && ((O = H), (z = G)),
                    u.push(O, z),
                    c.push(H, G),
                    f.push(t[M], t[M + 1]),
                    d.push(n[E], n[E + 1]),
                    m.push(e.getRawIndex(D.idx1));
                  break;
                case '+':
                  var X = D.idx,
                    K = y.dataDimsForPoint,
                    tt = i.dataToPoint([e.get(K[0], X), e.get(K[1], X)]);
                  (E = 2 * X), u.push(tt[0], tt[1]), c.push(w[E], w[E + 1]);
                  var ot = CT(y, i, e, X);
                  f.push(ot[0], ot[1]),
                    d.push(n[E], n[E + 1]),
                    m.push(e.getRawIndex(X));
                  break;
                case '-':
                  L = !1;
              }
              L && (v.push(D), g.push(g.length));
            }
            g.sort(function (Cr, Er) {
              return m[Cr] - m[Er];
            });
            var pt = u.length,
              Xt = hs(pt),
              Vt = hs(pt),
              re = hs(pt),
              ye = hs(pt),
              ke = [];
            for (C = 0; C < g.length; C++) {
              var Ye = g[C],
                tr = 2 * C,
                er = 2 * Ye;
              (Xt[tr] = u[er]),
                (Xt[tr + 1] = u[er + 1]),
                (Vt[tr] = c[er]),
                (Vt[tr + 1] = c[er + 1]),
                (re[tr] = f[er]),
                (re[tr + 1] = f[er + 1]),
                (ye[tr] = d[er]),
                (ye[tr + 1] = d[er + 1]),
                (ke[C] = v[Ye]);
            }
            return {
              current: Xt,
              next: Vt,
              stackedOnCurrent: re,
              stackedOnNext: ye,
              status: ke,
            };
          })(
            this._data,
            t,
            this._stackedOnPoints,
            n,
            this._coordSys,
            0,
            this._valueOrigin
          ),
          v = d.current,
          g = d.stackedOnCurrent,
          m = d.next,
          y = d.stackedOnNext;
        if (
          (o &&
            ((v = nu(d.current, i, o, l)),
            (g = nu(d.stackedOnCurrent, i, o, l)),
            (m = nu(d.next, i, o, l)),
            (y = nu(d.stackedOnNext, i, o, l))),
          kT(v, m) > 3e3 || (c && kT(g, y) > 3e3))
        )
          return (
            u.stopAnimation(),
            u.setShape({ points: m }),
            void (
              c &&
              (c.stopAnimation(), c.setShape({ points: m, stackedOnPoints: y }))
            )
          );
        (u.shape.__points = d.current), (u.shape.points = v);
        var b = { shape: { points: m } };
        d.current !== v && (b.shape.__points = d.next),
          u.stopAnimation(),
          Wr(u, b, f),
          c &&
            (c.setShape({ points: v, stackedOnPoints: g }),
            c.stopAnimation(),
            Wr(c, { shape: { stackedOnPoints: y } }, f),
            u.shape.points !== c.shape.points &&
              (c.shape.points = u.shape.points));
        for (var w = [], C = d.status, D = 0; D < C.length; D++)
          if ('=' === C[D].cmd) {
            var M = t.getItemGraphicEl(C[D].idx1);
            M && w.push({ el: M, ptIdx: D });
          }
        u.animators &&
          u.animators.length &&
          u.animators[0].during(function () {
            c && c.dirtyShape();
            for (var E = u.shape.__points, O = 0; O < w.length; O++) {
              var z = w[O].el,
                H = 2 * w[O].ptIdx;
              (z.x = E[H]), (z.y = E[H + 1]), z.markRedraw();
            }
          });
      }),
      (e.prototype.remove = function (t) {
        var n = this.group,
          i = this._data;
        this._lineGroup.removeAll(),
          this._symbolDraw.remove(!0),
          i &&
            i.eachItemGraphicEl(function (a, o) {
              a.__temp && (n.remove(a), i.setItemGraphicEl(o, null));
            }),
          (this._polyline =
            this._polygon =
            this._coordSys =
            this._points =
            this._stackedOnPoints =
            this._endLabel =
            this._data =
              null);
      }),
      (e.type = 'line'),
      e
    );
  })(en);
  function Ud(r, e) {
    return {
      seriesType: r,
      plan: zf(),
      reset: function (t) {
        var n = t.getData(),
          i = t.coordinateSystem,
          o = e || t.pipelineContext.large;
        if (i) {
          var s = Ut(i.dimensions, function (v) {
              return n.mapDimension(v);
            }).slice(0, 2),
            l = s.length,
            u = n.getCalculationInfo('stackResultDimension');
          il(n, s[0]) && (s[0] = u), il(n, s[1]) && (s[1] = u);
          var c = n.getStore(),
            f = n.getDimensionIndex(s[0]),
            d = n.getDimensionIndex(s[1]);
          return (
            l && {
              progress: function (v, g) {
                for (
                  var y = o && hs((v.end - v.start) * l),
                    b = [],
                    w = [],
                    C = v.start,
                    D = 0;
                  C < v.end;
                  C++
                ) {
                  var L = void 0;
                  if (1 === l) {
                    var M = c.get(f, C);
                    L = i.dataToPoint(M, null, w);
                  } else
                    (b[0] = c.get(f, C)),
                      (b[1] = c.get(d, C)),
                      (L = i.dataToPoint(b, null, w));
                  o
                    ? ((y[D++] = L[0]), (y[D++] = L[1]))
                    : g.setItemLayout(C, L.slice());
                }
                o && g.setLayout('points', y);
              },
            }
          );
        }
      },
    };
  }
  var v3 = {
      average: function (r) {
        for (var e = 0, t = 0, n = 0; n < r.length; n++)
          isNaN(r[n]) || ((e += r[n]), t++);
        return 0 === t ? NaN : e / t;
      },
      sum: function (r) {
        for (var e = 0, t = 0; t < r.length; t++) e += r[t] || 0;
        return e;
      },
      max: function (r) {
        for (var e = -1 / 0, t = 0; t < r.length; t++) r[t] > e && (e = r[t]);
        return isFinite(e) ? e : NaN;
      },
      min: function (r) {
        for (var e = 1 / 0, t = 0; t < r.length; t++) r[t] < e && (e = r[t]);
        return isFinite(e) ? e : NaN;
      },
      nearest: function (r) {
        return r[0];
      },
    },
    p3 = function (r) {
      return Math.round(r.length / 2);
    };
  function OT(r) {
    return {
      seriesType: r,
      reset: function (e, t, n) {
        var i = e.getData(),
          a = e.get('sampling'),
          o = e.coordinateSystem,
          s = i.count();
        if (s > 10 && 'cartesian2d' === o.type && a) {
          var l = o.getBaseAxis(),
            u = o.getOtherAxis(l),
            c = l.getExtent(),
            f = n.getDevicePixelRatio(),
            d = Math.abs(c[1] - c[0]) * (f || 1),
            v = Math.round(s / d);
          if (isFinite(v) && v > 1) {
            'lttb' === a &&
              e.setData(i.lttbDownSample(i.mapDimension(u.dim), 1 / v));
            var g = void 0;
            ht(a) ? (g = v3[a]) : fe(a) && (g = a),
              g && e.setData(i.downSample(i.mapDimension(u.dim), 1 / v, g, p3));
          }
        }
      },
    };
  }
  var Yd = (function (r) {
    function e() {
      var t = (null !== r && r.apply(this, arguments)) || this;
      return (t.type = e.type), t;
    }
    return (
      ut(e, r),
      (e.prototype.getInitialData = function (t, n) {
        return cs(null, this, { useEncodeDefaulter: !0 });
      }),
      (e.prototype.getMarkerPosition = function (t, n, i) {
        var a = this.coordinateSystem;
        if (a && a.clampData) {
          var o = a.clampData(t),
            s = a.dataToPoint(o);
          if (i)
            F(a.getAxes(), function (d, v) {
              if ('category' === d.type && null != n) {
                var g = d.getTicksCoords(),
                  m = o[v],
                  y = 'x1' === n[v] || 'y1' === n[v];
                if ((y && (m += 1), g.length < 2)) return;
                if (2 === g.length)
                  return void (s[v] = d.toGlobalCoord(
                    d.getExtent()[y ? 1 : 0]
                  ));
                for (
                  var b = void 0, w = void 0, C = 1, D = 0;
                  D < g.length;
                  D++
                ) {
                  var L = g[D].coord,
                    M =
                      D === g.length - 1
                        ? g[D - 1].tickValue + C
                        : g[D].tickValue;
                  if (M === m) {
                    w = L;
                    break;
                  }
                  if (M < m) b = L;
                  else if (null != b && M > m) {
                    w = (L + b) / 2;
                    break;
                  }
                  1 === D && (C = M - g[0].tickValue);
                }
                null == w &&
                  (b ? b && (w = g[g.length - 1].coord) : (w = g[0].coord)),
                  (s[v] = d.toGlobalCoord(w));
              }
            });
          else {
            var l = this.getData(),
              u = l.getLayout('offset'),
              c = l.getLayout('size'),
              f = a.getBaseAxis().isHorizontal() ? 0 : 1;
            s[f] += u + c / 2;
          }
          return s;
        }
        return [NaN, NaN];
      }),
      (e.type = 'series.__base_bar__'),
      (e.defaultOption = {
        z: 2,
        coordinateSystem: 'cartesian2d',
        legendHoverLink: !0,
        barMinHeight: 0,
        barMinAngle: 0,
        large: !1,
        largeThreshold: 400,
        progressive: 3e3,
        progressiveChunkMode: 'mod',
      }),
      e
    );
  })(nn);
  nn.registerClass(Yd);
  var m3 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.getInitialData = function () {
          return cs(null, this, {
            useEncodeDefaulter: !0,
            createInvertedIndices: !!this.get('realtimeSort', !0) || null,
          });
        }),
        (e.prototype.getProgressive = function () {
          return !!this.get('large') && this.get('progressive');
        }),
        (e.prototype.getProgressiveThreshold = function () {
          var t = this.get('progressiveThreshold'),
            n = this.get('largeThreshold');
          return n > t && (t = n), t;
        }),
        (e.prototype.brushSelector = function (t, n, i) {
          return i.rect(n.getItemLayout(t));
        }),
        (e.type = 'series.bar'),
        (e.dependencies = ['grid', 'polar']),
        (e.defaultOption = Zl(Yd.defaultOption, {
          clip: !0,
          roundCap: !1,
          showBackground: !1,
          backgroundStyle: {
            color: 'rgba(180, 180, 180, 0.2)',
            borderColor: null,
            borderWidth: 0,
            borderType: 'solid',
            borderRadius: 0,
            shadowBlur: 0,
            shadowColor: null,
            shadowOffsetX: 0,
            shadowOffsetY: 0,
            opacity: 1,
          },
          select: { itemStyle: { borderColor: '#212121' } },
          realtimeSort: !1,
        })),
        e
      );
    })(Yd),
    y3 = function r() {
      (this.cx = 0),
        (this.cy = 0),
        (this.r0 = 0),
        (this.r = 0),
        (this.startAngle = 0),
        (this.endAngle = 2 * Math.PI),
        (this.clockwise = !0);
    },
    kg = (function (r) {
      function e(t) {
        var n = r.call(this, t) || this;
        return (n.type = 'sausage'), n;
      }
      return (
        ut(e, r),
        (e.prototype.getDefaultShape = function () {
          return new y3();
        }),
        (e.prototype.buildPath = function (t, n) {
          var i = n.cx,
            a = n.cy,
            o = Math.max(n.r0 || 0, 0),
            s = Math.max(n.r, 0),
            l = 0.5 * (s - o),
            u = o + l,
            c = n.startAngle,
            f = n.endAngle,
            d = n.clockwise,
            v = 2 * Math.PI,
            g = d ? f - c < v : c - f < v;
          g || (c = f - (d ? v : -v));
          var m = Math.cos(c),
            y = Math.sin(c),
            b = Math.cos(f),
            w = Math.sin(f);
          g
            ? (t.moveTo(m * o + i, y * o + a),
              t.arc(m * u + i, y * u + a, l, -Math.PI + c, c, !d))
            : t.moveTo(m * s + i, y * s + a),
            t.arc(i, a, s, c, f, !d),
            t.arc(b * u + i, w * u + a, l, f - 2 * Math.PI, f - Math.PI, !d),
            0 !== o && t.arc(i, a, o, f, c, d);
        }),
        e
      );
    })(Lr);
  function Eg(r, e, t) {
    return e * Math.sin(r) * (t ? -1 : 1);
  }
  function Pg(r, e, t) {
    return e * Math.cos(r) * (t ? 1 : -1);
  }
  function kc(r, e, t) {
    var n = r.get('borderRadius');
    if (null == n) return t ? { cornerRadius: 0 } : null;
    Tt(n) || (n = [n, n, n, n]);
    var i = Math.abs(e.r || 0 - e.r0 || 0);
    return {
      cornerRadius: Ut(n, function (a) {
        return Ni(a, i);
      }),
    };
  }
  var h1 = Math.max,
    d1 = Math.min,
    S3 = (function (r) {
      function e() {
        var t = r.call(this) || this;
        return (t.type = e.type), (t._isFirstFrame = !0), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i, a) {
          (this._model = t),
            this._removeOnRenderedListener(i),
            this._updateDrawMode(t);
          var o = t.get('coordinateSystem');
          'cartesian2d' === o || 'polar' === o
            ? ((this._progressiveEls = null),
              this._isLargeDraw
                ? this._renderLarge(t, n, i)
                : this._renderNormal(t, n, i, a))
            : ln('Only cartesian2d and polar supported for bar.');
        }),
        (e.prototype.incrementalPrepareRender = function (t) {
          this._clear(), this._updateDrawMode(t), this._updateLargeClip(t);
        }),
        (e.prototype.incrementalRender = function (t, n) {
          (this._progressiveEls = []), this._incrementalRenderLarge(t, n);
        }),
        (e.prototype.eachRendered = function (t) {
          Xl(this._progressiveEls || this.group, t);
        }),
        (e.prototype._updateDrawMode = function (t) {
          var n = t.pipelineContext.large;
          (null == this._isLargeDraw || n !== this._isLargeDraw) &&
            ((this._isLargeDraw = n), this._clear());
        }),
        (e.prototype._renderNormal = function (t, n, i, a) {
          var f,
            o = this.group,
            s = t.getData(),
            l = this._data,
            u = t.coordinateSystem,
            c = u.getBaseAxis();
          'cartesian2d' === u.type
            ? (f = c.isHorizontal())
            : 'polar' === u.type && (f = 'angle' === c.dim);
          var d = t.isAnimationEnabled() ? t : null,
            v = (function w3(r, e) {
              var t = r.get('realtimeSort', !0),
                n = e.getBaseAxis();
              if (
                (t &&
                  ('category' !== n.type &&
                    ln(
                      '`realtimeSort` will not work because this bar series is not based on a category axis.'
                    ),
                  'cartesian2d' !== e.type &&
                    ln(
                      '`realtimeSort` will not work because this bar series is not on cartesian2d.'
                    )),
                t && 'category' === n.type && 'cartesian2d' === e.type)
              )
                return { baseAxis: n, otherAxis: e.getOtherAxis(n) };
            })(t, u);
          v && this._enableRealtimeSort(v, s, i);
          var g = t.get('clip', !0) || v,
            m = (function _3(r, e) {
              var t = r.getArea && r.getArea();
              if (Ic(r, 'cartesian2d')) {
                var n = r.getBaseAxis();
                if ('category' !== n.type || !n.onBand) {
                  var i = e.getLayout('bandWidth');
                  n.isHorizontal()
                    ? ((t.x -= i), (t.width += 2 * i))
                    : ((t.y -= i), (t.height += 2 * i));
                }
              }
              return t;
            })(u, s);
          o.removeClipPath();
          var y = t.get('roundCap', !0),
            b = t.get('showBackground', !0),
            w = t.getModel('backgroundStyle'),
            C = w.get('borderRadius') || 0,
            D = [],
            L = this._backgroundEls,
            M = a && a.isInitSort,
            E = a && 'changeAxisOrder' === a.type;
          function O(G) {
            var X = Rg[u.type](s, G),
              K = (function I3(r, e, t) {
                return new ('polar' === r.type ? Gi : Rr)({
                  shape: YT(e, t, r),
                  silent: !0,
                  z2: 0,
                });
              })(u, f, X);
            return (
              K.useStyle(w.getItemStyle()),
              K.setShape('cartesian2d' === u.type ? 'r' : 'cornerRadius', C),
              (D[G] = K),
              K
            );
          }
          s.diff(l)
            .add(function (G) {
              var X = s.getItemModel(G),
                K = Rg[u.type](s, G, X);
              if ((b && O(G), s.hasValue(G) && VT[u.type](K))) {
                var tt = !1;
                g && (tt = FT[u.type](m, K));
                var ot = BT[u.type](t, s, G, K, f, d, c.model, !1, y);
                v && (ot.forceLabelAnimation = !0),
                  GT(ot, s, G, X, K, t, f, 'polar' === u.type),
                  M
                    ? ot.attr({ shape: K })
                    : v
                    ? NT(v, d, ot, K, G, f, !1, !1)
                    : pn(ot, { shape: K }, t, G),
                  s.setItemGraphicEl(G, ot),
                  o.add(ot),
                  (ot.ignore = tt);
              }
            })
            .update(function (G, X) {
              var K = s.getItemModel(G),
                tt = Rg[u.type](s, G, K);
              if (b) {
                var ot = void 0;
                0 === L.length
                  ? (ot = O(X))
                  : ((ot = L[X]).useStyle(w.getItemStyle()),
                    ot.setShape(
                      'cartesian2d' === u.type ? 'r' : 'cornerRadius',
                      C
                    ),
                    (D[G] = ot));
                var pt = Rg[u.type](s, G);
                Wr(ot, { shape: YT(f, pt, u) }, d, G);
              }
              var Vt = l.getItemGraphicEl(X);
              if (s.hasValue(G) && VT[u.type](tt)) {
                var re = !1;
                if (
                  (g && (re = FT[u.type](m, tt)) && o.remove(Vt),
                  Vt
                    ? Ro(Vt)
                    : (Vt = BT[u.type](t, s, G, tt, f, d, c.model, !!Vt, y)),
                  v && (Vt.forceLabelAnimation = !0),
                  E)
                ) {
                  var ye = Vt.getTextContent();
                  if (ye) {
                    var ke = If(ye);
                    null != ke.prevValue && (ke.prevValue = ke.value);
                  }
                } else GT(Vt, s, G, K, tt, t, f, 'polar' === u.type);
                M
                  ? Vt.attr({ shape: tt })
                  : v
                  ? NT(v, d, Vt, tt, G, f, !0, E)
                  : Wr(Vt, { shape: tt }, t, G, null),
                  s.setItemGraphicEl(G, Vt),
                  (Vt.ignore = re),
                  o.add(Vt);
              } else o.remove(Vt);
            })
            .remove(function (G) {
              var X = l.getItemGraphicEl(G);
              X && ad(X, t, G);
            })
            .execute();
          var z = this._backgroundGroup || (this._backgroundGroup = new Qe());
          z.removeAll();
          for (var H = 0; H < D.length; ++H) z.add(D[H]);
          o.add(z), (this._backgroundEls = D), (this._data = s);
        }),
        (e.prototype._renderLarge = function (t, n, i) {
          this._clear(), $T(t, this.group), this._updateLargeClip(t);
        }),
        (e.prototype._incrementalRenderLarge = function (t, n) {
          this._removeBackground(), $T(n, this.group, this._progressiveEls, !0);
        }),
        (e.prototype._updateLargeClip = function (t) {
          var n = t.get('clip', !0) && Ig(t.coordinateSystem, !1, t),
            i = this.group;
          n ? i.setClipPath(n) : i.removeClipPath();
        }),
        (e.prototype._enableRealtimeSort = function (t, n, i) {
          var a = this;
          if (n.count()) {
            var o = t.baseAxis;
            if (this._isFirstFrame)
              this._dispatchInitSort(n, t, i), (this._isFirstFrame = !1);
            else {
              var s = function (l) {
                var u = n.getItemGraphicEl(l),
                  c = u && u.shape;
                return (
                  (c && Math.abs(o.isHorizontal() ? c.height : c.width)) || 0
                );
              };
              (this._onRendered = function () {
                a._updateSortWithinSameData(n, s, o, i);
              }),
                i.getZr().on('rendered', this._onRendered);
            }
          }
        }),
        (e.prototype._dataSort = function (t, n, i) {
          var a = [];
          return (
            t.each(t.mapDimension(n.dim), function (o, s) {
              var l = i(s);
              a.push({
                dataIndex: s,
                mappedValue: (l = l ?? NaN),
                ordinalNumber: o,
              });
            }),
            a.sort(function (o, s) {
              return s.mappedValue - o.mappedValue;
            }),
            {
              ordinalNumbers: Ut(a, function (o) {
                return o.ordinalNumber;
              }),
            }
          );
        }),
        (e.prototype._isOrderChangedWithinSameData = function (t, n, i) {
          for (
            var a = i.scale,
              o = t.mapDimension(i.dim),
              s = Number.MAX_VALUE,
              l = 0,
              u = a.getOrdinalMeta().categories.length;
            l < u;
            ++l
          ) {
            var c = t.rawIndexOf(o, a.getRawOrdinalNumber(l)),
              f = c < 0 ? Number.MIN_VALUE : n(t.indexOfRawIndex(c));
            if (f > s) return !0;
            s = f;
          }
          return !1;
        }),
        (e.prototype._isOrderDifferentInView = function (t, n) {
          for (
            var i = n.scale,
              a = i.getExtent(),
              o = Math.max(0, a[0]),
              s = Math.min(a[1], i.getOrdinalMeta().categories.length - 1);
            o <= s;
            ++o
          )
            if (t.ordinalNumbers[o] !== i.getRawOrdinalNumber(o)) return !0;
        }),
        (e.prototype._updateSortWithinSameData = function (t, n, i, a) {
          if (this._isOrderChangedWithinSameData(t, n, i)) {
            var o = this._dataSort(t, i, n);
            this._isOrderDifferentInView(o, i) &&
              (this._removeOnRenderedListener(a),
              a.dispatchAction({
                type: 'changeAxisOrder',
                componentType: i.dim + 'Axis',
                axisId: i.index,
                sortInfo: o,
              }));
          }
        }),
        (e.prototype._dispatchInitSort = function (t, n, i) {
          var a = n.baseAxis,
            o = this._dataSort(t, a, function (s) {
              return t.get(t.mapDimension(n.otherAxis.dim), s);
            });
          i.dispatchAction({
            type: 'changeAxisOrder',
            componentType: a.dim + 'Axis',
            isInitSort: !0,
            axisId: a.index,
            sortInfo: o,
          });
        }),
        (e.prototype.remove = function (t, n) {
          this._clear(this._model), this._removeOnRenderedListener(n);
        }),
        (e.prototype.dispose = function (t, n) {
          this._removeOnRenderedListener(n);
        }),
        (e.prototype._removeOnRenderedListener = function (t) {
          this._onRendered &&
            (t.getZr().off('rendered', this._onRendered),
            (this._onRendered = null));
        }),
        (e.prototype._clear = function (t) {
          var n = this.group,
            i = this._data;
          t && t.isAnimationEnabled() && i && !this._isLargeDraw
            ? (this._removeBackground(),
              (this._backgroundEls = []),
              i.eachItemGraphicEl(function (a) {
                ad(a, t, fr(a).dataIndex);
              }))
            : n.removeAll(),
            (this._data = null),
            (this._isFirstFrame = !0);
        }),
        (e.prototype._removeBackground = function () {
          this.group.remove(this._backgroundGroup),
            (this._backgroundGroup = null);
        }),
        (e.type = 'bar'),
        e
      );
    })(en),
    FT = {
      cartesian2d: function (r, e) {
        var t = e.width < 0 ? -1 : 1,
          n = e.height < 0 ? -1 : 1;
        t < 0 && ((e.x += e.width), (e.width = -e.width)),
          n < 0 && ((e.y += e.height), (e.height = -e.height));
        var i = r.x + r.width,
          a = r.y + r.height,
          o = h1(e.x, r.x),
          s = d1(e.x + e.width, i),
          l = h1(e.y, r.y),
          u = d1(e.y + e.height, a),
          c = s < o,
          f = u < l;
        return (
          (e.x = c && o > i ? s : o),
          (e.y = f && l > a ? u : l),
          (e.width = c ? 0 : s - o),
          (e.height = f ? 0 : u - l),
          t < 0 && ((e.x += e.width), (e.width = -e.width)),
          n < 0 && ((e.y += e.height), (e.height = -e.height)),
          c || f
        );
      },
      polar: function (r, e) {
        var t = e.r0 <= e.r ? 1 : -1;
        if (t < 0) {
          var n = e.r;
          (e.r = e.r0), (e.r0 = n);
        }
        var i = d1(e.r, r.r),
          a = h1(e.r0, r.r0);
        (e.r = i), (e.r0 = a);
        var o = i - a < 0;
        return t < 0 && ((n = e.r), (e.r = e.r0), (e.r0 = n)), o;
      },
    },
    BT = {
      cartesian2d: function (r, e, t, n, i, a, o, s, l) {
        var u = new Rr({ shape: nt({}, n), z2: 1 });
        return (
          (u.__dataIndex = t),
          (u.name = 'item'),
          a && (u.shape[i ? 'height' : 'width'] = 0),
          u
        );
      },
      polar: function (r, e, t, n, i, a, o, s, l) {
        var u = !i && l ? kg : Gi,
          c = new u({ shape: n, z2: 1 });
        c.name = 'item';
        var f = HT(i);
        if (
          ((c.calculateTextPosition = (function x3(r, e) {
            var t = (e = e || {}).isRoundCap;
            return function (n, i, a) {
              var o = i.position;
              if (!o || o instanceof Array) return Pu(n, i, a);
              var s = r(o),
                l = null != i.distance ? i.distance : 5,
                u = this.shape,
                c = u.cx,
                f = u.cy,
                d = u.r,
                v = u.r0,
                g = (d + v) / 2,
                m = u.startAngle,
                y = u.endAngle,
                b = (m + y) / 2,
                w = t ? Math.abs(d - v) / 2 : 0,
                C = Math.cos,
                D = Math.sin,
                L = c + d * C(m),
                M = f + d * D(m),
                E = 'left',
                O = 'top';
              switch (s) {
                case 'startArc':
                  (L = c + (v - l) * C(b)),
                    (M = f + (v - l) * D(b)),
                    (E = 'center'),
                    (O = 'top');
                  break;
                case 'insideStartArc':
                  (L = c + (v + l) * C(b)),
                    (M = f + (v + l) * D(b)),
                    (E = 'center'),
                    (O = 'bottom');
                  break;
                case 'startAngle':
                  (L = c + g * C(m) + Eg(m, l + w, !1)),
                    (M = f + g * D(m) + Pg(m, l + w, !1)),
                    (E = 'right'),
                    (O = 'middle');
                  break;
                case 'insideStartAngle':
                  (L = c + g * C(m) + Eg(m, -l + w, !1)),
                    (M = f + g * D(m) + Pg(m, -l + w, !1)),
                    (E = 'left'),
                    (O = 'middle');
                  break;
                case 'middle':
                  (L = c + g * C(b)),
                    (M = f + g * D(b)),
                    (E = 'center'),
                    (O = 'middle');
                  break;
                case 'endArc':
                  (L = c + (d + l) * C(b)),
                    (M = f + (d + l) * D(b)),
                    (E = 'center'),
                    (O = 'bottom');
                  break;
                case 'insideEndArc':
                  (L = c + (d - l) * C(b)),
                    (M = f + (d - l) * D(b)),
                    (E = 'center'),
                    (O = 'top');
                  break;
                case 'endAngle':
                  (L = c + g * C(y) + Eg(y, l + w, !0)),
                    (M = f + g * D(y) + Pg(y, l + w, !0)),
                    (E = 'left'),
                    (O = 'middle');
                  break;
                case 'insideEndAngle':
                  (L = c + g * C(y) + Eg(y, -l + w, !0)),
                    (M = f + g * D(y) + Pg(y, -l + w, !0)),
                    (E = 'right'),
                    (O = 'middle');
                  break;
                default:
                  return Pu(n, i, a);
              }
              return (
                ((n = n || {}).x = L),
                (n.y = M),
                (n.align = E),
                (n.verticalAlign = O),
                n
              );
            };
          })(f, { isRoundCap: u === kg })),
          a)
        ) {
          var v = i ? 'r' : 'endAngle',
            g = {};
          (c.shape[v] = i ? n.r0 : n.startAngle),
            (g[v] = n[v]),
            (s ? Wr : pn)(c, { shape: g }, a);
        }
        return c;
      },
    };
  function NT(r, e, t, n, i, a, o, s) {
    var l, u;
    a
      ? ((u = { x: n.x, width: n.width }), (l = { y: n.y, height: n.height }))
      : ((u = { y: n.y, height: n.height }), (l = { x: n.x, width: n.width })),
      s || (o ? Wr : pn)(t, { shape: l }, e, i, null),
      (o ? Wr : pn)(t, { shape: u }, e ? r.baseAxis.model : null, i);
  }
  function zT(r, e) {
    for (var t = 0; t < e.length; t++) if (!isFinite(r[e[t]])) return !0;
    return !1;
  }
  var C3 = ['x', 'y', 'width', 'height'],
    D3 = ['cx', 'cy', 'r', 'startAngle', 'endAngle'],
    VT = {
      cartesian2d: function (r) {
        return !zT(r, C3);
      },
      polar: function (r) {
        return !zT(r, D3);
      },
    },
    Rg = {
      cartesian2d: function (r, e, t) {
        var n = r.getItemLayout(e),
          i = t
            ? (function A3(r, e) {
                var t = r.get(['itemStyle', 'borderColor']);
                if (!t || 'none' === t) return 0;
                var n = r.get(['itemStyle', 'borderWidth']) || 0,
                  i = isNaN(e.width) ? Number.MAX_VALUE : Math.abs(e.width),
                  a = isNaN(e.height) ? Number.MAX_VALUE : Math.abs(e.height);
                return Math.min(n, i, a);
              })(t, n)
            : 0,
          a = n.width > 0 ? 1 : -1,
          o = n.height > 0 ? 1 : -1;
        return {
          x: n.x + (a * i) / 2,
          y: n.y + (o * i) / 2,
          width: n.width - a * i,
          height: n.height - o * i,
        };
      },
      polar: function (r, e, t) {
        var n = r.getItemLayout(e);
        return {
          cx: n.cx,
          cy: n.cy,
          r0: n.r0,
          r: n.r,
          startAngle: n.startAngle,
          endAngle: n.endAngle,
          clockwise: n.clockwise,
        };
      },
    };
  function HT(r) {
    return (function (e) {
      var t = e ? 'Arc' : 'Angle';
      return function (n) {
        switch (n) {
          case 'start':
          case 'insideStart':
          case 'end':
          case 'insideEnd':
            return n + t;
          default:
            return n;
        }
      };
    })(r);
  }
  function GT(r, e, t, n, i, a, o, s) {
    var l = e.getItemVisual(t, 'style');
    if (s) {
      if (!a.get('roundCap')) {
        var c = r.shape;
        nt(c, kc(n.getModel('itemStyle'), c, !0)), r.setShape(c);
      }
    } else {
      var u = n.get(['itemStyle', 'borderRadius']) || 0;
      r.setShape('r', u);
    }
    r.useStyle(l);
    var d = n.getShallow('cursor');
    d && r.attr('cursor', d);
    var v = s
        ? o
          ? i.r >= i.r0
            ? 'endArc'
            : 'startArc'
          : i.endAngle >= i.startAngle
          ? 'endAngle'
          : 'startAngle'
        : o
        ? i.height >= 0
          ? 'bottom'
          : 'top'
        : i.width >= 0
        ? 'right'
        : 'left',
      g = oi(n);
    Ci(r, g, {
      labelFetcher: a,
      labelDataIndex: t,
      defaultText: Kf(a.getData(), t),
      inheritColor: l.fill,
      defaultOpacity: l.opacity,
      defaultOutsidePosition: v,
    });
    var m = r.getTextContent();
    if (s && m) {
      var y = n.get(['label', 'position']);
      (r.textConfig.inside = 'middle' === y || null),
        (function b3(r, e, t, n) {
          if (U(n)) r.setTextConfig({ rotation: n });
          else if (Tt(e)) r.setTextConfig({ rotation: 0 });
          else {
            var l,
              i = r.shape,
              a = i.clockwise ? i.startAngle : i.endAngle,
              o = i.clockwise ? i.endAngle : i.startAngle,
              s = (a + o) / 2,
              u = t(e);
            switch (u) {
              case 'startArc':
              case 'insideStartArc':
              case 'middle':
              case 'insideEndArc':
              case 'endArc':
                l = s;
                break;
              case 'startAngle':
              case 'insideStartAngle':
                l = a;
                break;
              case 'endAngle':
              case 'insideEndAngle':
                l = o;
                break;
              default:
                return void r.setTextConfig({ rotation: 0 });
            }
            var c = 1.5 * Math.PI - l;
            'middle' === u &&
              c > Math.PI / 2 &&
              c < 1.5 * Math.PI &&
              (c -= Math.PI),
              r.setTextConfig({ rotation: c });
          }
        })(r, 'outside' === y ? v : y, HT(o), n.get(['label', 'rotate']));
    }
    mS(m, g, a.getRawValue(t), function (w) {
      return bT(e, w);
    });
    var b = n.getModel(['emphasis']);
    wn(r, b.get('focus'), b.get('blurScope'), b.get('disabled')),
      wi(r, n),
      (function T3(r) {
        return (
          null != r.startAngle &&
          null != r.endAngle &&
          r.startAngle === r.endAngle
        );
      })(i) &&
        ((r.style.fill = 'none'),
        (r.style.stroke = 'none'),
        F(r.states, function (w) {
          w.style && (w.style.fill = w.style.stroke = 'none');
        }));
  }
  var M3 = function r() {},
    WT = (function (r) {
      function e(t) {
        var n = r.call(this, t) || this;
        return (n.type = 'largeBar'), n;
      }
      return (
        ut(e, r),
        (e.prototype.getDefaultShape = function () {
          return new M3();
        }),
        (e.prototype.buildPath = function (t, n) {
          for (
            var i = n.points,
              a = this.baseDimIdx,
              o = 1 - this.baseDimIdx,
              s = [],
              l = [],
              u = this.barWidth,
              c = 0;
            c < i.length;
            c += 3
          )
            (l[a] = u),
              (l[o] = i[c + 2]),
              (s[a] = i[c + a]),
              (s[o] = i[c + o]),
              t.rect(s[0], s[1], l[0], l[1]);
        }),
        e
      );
    })(Lr);
  function $T(r, e, t, n) {
    var i = r.getData(),
      a = i.getLayout('valueAxisHorizontal') ? 1 : 0,
      o = i.getLayout('largeDataIndices'),
      s = i.getLayout('size'),
      l = r.getModel('backgroundStyle'),
      u = i.getLayout('largeBackgroundPoints');
    if (u) {
      var c = new WT({
        shape: { points: u },
        incremental: !!n,
        silent: !0,
        z2: 0,
      });
      (c.baseDimIdx = a),
        (c.largeDataIndices = o),
        (c.barWidth = s),
        c.useStyle(l.getItemStyle()),
        e.add(c),
        t && t.push(c);
    }
    var f = new WT({
      shape: { points: i.getLayout('largePoints') },
      incremental: !!n,
      ignoreCoarsePointer: !0,
      z2: 1,
    });
    (f.baseDimIdx = a),
      (f.largeDataIndices = o),
      (f.barWidth = s),
      e.add(f),
      f.useStyle(i.getVisual('style')),
      (fr(f).seriesIndex = r.seriesIndex),
      r.get('silent') || (f.on('mousedown', UT), f.on('mousemove', UT)),
      t && t.push(f);
  }
  var UT = Xp(
    function (r) {
      var t = (function L3(r, e, t) {
        for (
          var n = r.baseDimIdx,
            i = 1 - n,
            a = r.shape.points,
            o = r.largeDataIndices,
            s = [],
            l = [],
            u = r.barWidth,
            c = 0,
            f = a.length / 3;
          c < f;
          c++
        ) {
          var d = 3 * c;
          if (
            ((l[n] = u),
            (l[i] = a[d + 2]),
            (s[n] = a[d + n]),
            (s[i] = a[d + i]),
            l[i] < 0 && ((s[i] += l[i]), (l[i] = -l[i])),
            e >= s[0] && e <= s[0] + l[0] && t >= s[1] && t <= s[1] + l[1])
          )
            return o[c];
        }
        return -1;
      })(this, r.offsetX, r.offsetY);
      fr(this).dataIndex = t >= 0 ? t : null;
    },
    30,
    !1
  );
  function YT(r, e, t) {
    if (Ic(t, 'cartesian2d')) {
      var n = e,
        i = t.getArea();
      return {
        x: r ? n.x : i.x,
        y: r ? i.y : n.y,
        width: r ? n.width : i.width,
        height: r ? i.height : n.height,
      };
    }
    return {
      cx: (i = t.getArea()).cx,
      cy: i.cy,
      r0: r ? i.r0 : e.r0,
      r: r ? i.r : e.r,
      startAngle: r ? e.startAngle : 0,
      endAngle: r ? e.endAngle : 2 * Math.PI,
    };
  }
  var Og = 2 * Math.PI,
    XT = Math.PI / 180;
  function ZT(r, e) {
    return Vn(r.getBoxLayoutParams(), {
      width: e.getWidth(),
      height: e.getHeight(),
    });
  }
  function qT(r, e) {
    var t = ZT(r, e),
      n = r.get('center'),
      i = r.get('radius');
    Tt(i) || (i = [0, i]);
    var c,
      f,
      a = Te(t.width, e.getWidth()),
      o = Te(t.height, e.getHeight()),
      s = Math.min(a, o),
      l = Te(i[0], s / 2),
      u = Te(i[1], s / 2),
      d = r.coordinateSystem;
    if (d) {
      var v = d.dataToPoint(n);
      (c = v[0] || 0), (f = v[1] || 0);
    } else Tt(n) || (n = [n, n]), (c = Te(n[0], a) + t.x), (f = Te(n[1], o) + t.y);
    return { cx: c, cy: f, r0: l, r: u };
  }
  function E3(r, e, t) {
    e.eachSeriesByType(r, function (n) {
      var i = n.getData(),
        a = i.mapDimension('value'),
        o = ZT(n, t),
        s = qT(n, t),
        l = s.cx,
        u = s.cy,
        c = s.r,
        f = s.r0,
        d = -n.get('startAngle') * XT,
        v = n.get('minAngle') * XT,
        g = 0;
      i.each(a, function (H) {
        !isNaN(H) && g++;
      });
      var m = i.getSum(a),
        y = (Math.PI / (m || g)) * 2,
        b = n.get('clockwise'),
        w = n.get('roseType'),
        C = n.get('stillShowZeroSum'),
        D = i.getDataExtent(a);
      D[0] = 0;
      var L = Og,
        M = 0,
        E = d,
        O = b ? 1 : -1;
      if (
        (i.setLayout({ viewRect: o, r: c }),
        i.each(a, function (H, G) {
          var X;
          if (isNaN(H))
            i.setItemLayout(G, {
              angle: NaN,
              startAngle: NaN,
              endAngle: NaN,
              clockwise: b,
              cx: l,
              cy: u,
              r0: f,
              r: w ? NaN : c,
            });
          else {
            (X = 'area' !== w ? (0 === m && C ? y : H * y) : Og / g) < v
              ? ((X = v), (L -= v))
              : (M += H);
            var K = E + O * X;
            i.setItemLayout(G, {
              angle: X,
              startAngle: E,
              endAngle: K,
              clockwise: b,
              cx: l,
              cy: u,
              r0: f,
              r: w ? kr(H, D, [f, c]) : c,
            }),
              (E = K);
          }
        }),
        L < Og && g)
      )
        if (L <= 0.001) {
          var z = Og / g;
          i.each(a, function (H, G) {
            if (!isNaN(H)) {
              var X = i.getItemLayout(G);
              (X.angle = z),
                (X.startAngle = d + O * G * z),
                (X.endAngle = d + O * (G + 1) * z);
            }
          });
        } else
          (y = L / M),
            (E = d),
            i.each(a, function (H, G) {
              if (!isNaN(H)) {
                var X = i.getItemLayout(G),
                  K = X.angle === v ? v : H * y;
                (X.startAngle = E), (X.endAngle = E + O * K), (E += O * K);
              }
            });
    });
  }
  function Xd(r) {
    return {
      seriesType: r,
      reset: function (e, t) {
        var n = t.findComponents({ mainType: 'legend' });
        if (n && n.length) {
          var i = e.getData();
          i.filterSelf(function (a) {
            for (var o = i.getName(a), s = 0; s < n.length; s++)
              if (!n[s].isSelected(o)) return !1;
            return !0;
          });
        }
      },
    };
  }
  var P3 = Math.PI / 180;
  function jT(r, e, t, n, i, a, o, s, l, u) {
    if (!(r.length < 2)) {
      for (var d = r.length, v = 0; v < d; v++)
        'outer' === r[v].position &&
          'labelLine' === r[v].labelAlignTo &&
          ((r[v].linePoints[1][0] += r[v].label.x - u), (r[v].label.x = u));
      WD(r, l, l + o) &&
        (function f(m) {
          for (
            var y = { list: [], maxY: 0 }, b = { list: [], maxY: 0 }, w = 0;
            w < m.length;
            w++
          )
            if ('none' === m[w].labelAlignTo) {
              var C = m[w],
                D = C.label.y > t ? b : y,
                L = Math.abs(C.label.y - t);
              if (L >= D.maxY) {
                var M = C.label.x - e - C.len2 * i,
                  E = n + C.len,
                  O =
                    Math.abs(M) < E
                      ? Math.sqrt((L * L) / (1 - (M * M) / E / E))
                      : E;
                (D.rB = O), (D.maxY = L);
              }
              D.list.push(C);
            }
          c(y), c(b);
        })(r);
    }
    function c(m) {
      for (var y = m.rB, b = y * y, w = 0; w < m.list.length; w++) {
        var C = m.list[w],
          D = Math.abs(C.label.y - t),
          L = n + C.len,
          M = L * L,
          E = Math.sqrt((1 - Math.abs((D * D) / b)) * M),
          O = e + (E + C.len2) * i;
        KT(C, C.targetTextWidth - (O - C.label.x) * i, !0), (C.label.x = O);
      }
    }
  }
  function KT(r, e, t) {
    if ((void 0 === t && (t = !1), null == r.labelStyleWidth)) {
      var n = r.label,
        i = n.style,
        a = r.rect,
        o = i.backgroundColor,
        s = i.padding,
        l = s ? s[1] + s[3] : 0,
        u = i.overflow,
        c = a.width + (o ? 0 : l);
      if (e < c || t) {
        var f = a.height;
        if (u && u.match('break')) {
          n.setStyle('backgroundColor', null), n.setStyle('width', e - l);
          var d = n.getBoundingRect();
          n.setStyle('width', Math.ceil(d.width)),
            n.setStyle('backgroundColor', o);
        } else {
          var v = e - l;
          n.setStyle(
            'width',
            e < c ? v : t ? (v > r.unconstrainedWidth ? null : v) : null
          );
        }
        var m = n.getBoundingRect();
        (a.width = m.width),
          (a.height = m.height + ((n.style.margin || 0) + 2.1)),
          (a.y -= (a.height - f) / 2);
      }
    }
  }
  function v1(r) {
    return 'center' === r.position;
  }
  var F3 = (function (r) {
      function e(t, n, i) {
        var a = r.call(this) || this;
        a.z2 = 2;
        var o = new Or();
        return a.setTextContent(o), a.updateData(t, n, i, !0), a;
      }
      return (
        ut(e, r),
        (e.prototype.updateData = function (t, n, i, a) {
          var o = this,
            s = t.hostModel,
            l = t.getItemModel(n),
            u = l.getModel('emphasis'),
            c = t.getItemLayout(n),
            f = nt(kc(l.getModel('itemStyle'), c, !0), c);
          if (isNaN(f.startAngle)) o.setShape(f);
          else {
            if (a) {
              o.setShape(f);
              var d = s.getShallow('animationType');
              s.ecModel.ssr
                ? (pn(o, { scaleX: 0, scaleY: 0 }, s, {
                    dataIndex: n,
                    isFrom: !0,
                  }),
                  (o.originX = f.cx),
                  (o.originY = f.cy))
                : 'scale' === d
                ? ((o.shape.r = c.r0), pn(o, { shape: { r: c.r } }, s, n))
                : null != i
                ? (o.setShape({ startAngle: i, endAngle: i }),
                  pn(
                    o,
                    {
                      shape: { startAngle: c.startAngle, endAngle: c.endAngle },
                    },
                    s,
                    n
                  ))
                : ((o.shape.endAngle = c.startAngle),
                  Wr(o, { shape: { endAngle: c.endAngle } }, s, n));
            } else Ro(o), Wr(o, { shape: f }, s, n);
            o.useStyle(t.getItemVisual(n, 'style')), wi(o, l);
            var v = (c.startAngle + c.endAngle) / 2,
              g = s.get('selectedOffset'),
              m = Math.cos(v) * g,
              y = Math.sin(v) * g,
              b = l.getShallow('cursor');
            b && o.attr('cursor', b),
              this._updateLabel(s, t, n),
              (o.ensureState('emphasis').shape = nt(
                { r: c.r + ((u.get('scale') && u.get('scaleSize')) || 0) },
                kc(u.getModel('itemStyle'), c)
              )),
              nt(o.ensureState('select'), {
                x: m,
                y,
                shape: kc(l.getModel(['select', 'itemStyle']), c),
              }),
              nt(o.ensureState('blur'), {
                shape: kc(l.getModel(['blur', 'itemStyle']), c),
              });
            var w = o.getTextGuideLine(),
              C = o.getTextContent();
            w && nt(w.ensureState('select'), { x: m, y }),
              nt(C.ensureState('select'), { x: m, y }),
              wn(this, u.get('focus'), u.get('blurScope'), u.get('disabled'));
          }
        }),
        (e.prototype._updateLabel = function (t, n, i) {
          var a = this,
            o = n.getItemModel(i),
            s = o.getModel('labelLine'),
            l = n.getItemVisual(i, 'style'),
            u = l && l.fill,
            c = l && l.opacity;
          Ci(a, oi(o), {
            labelFetcher: n.hostModel,
            labelDataIndex: i,
            inheritColor: u,
            defaultOpacity: c,
            defaultText: t.getFormattedLabel(i, 'normal') || n.getName(i),
          });
          var f = a.getTextContent();
          a.setTextConfig({ position: null, rotation: null }),
            f.attr({ z2: 10 });
          var d = t.get(['label', 'position']);
          if ('outside' !== d && 'outer' !== d) a.removeTextGuideLine();
          else {
            var v = this.getTextGuideLine();
            v || ((v = new $i()), this.setTextGuideLine(v)),
              Z0(this, q0(o), {
                stroke: u,
                opacity: J(s.get(['lineStyle', 'opacity']), c, 1),
              });
          }
        }),
        e
      );
    })(Gi),
    B3 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.ignoreLabelLineUpdate = !0), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i, a) {
          var u,
            o = t.getData(),
            s = this._data,
            l = this.group;
          if (!s && o.count() > 0) {
            for (
              var c = o.getItemLayout(0), f = 1;
              isNaN(c && c.startAngle) && f < o.count();
              ++f
            )
              c = o.getItemLayout(f);
            c && (u = c.startAngle);
          }
          if (
            (this._emptyCircleSector && l.remove(this._emptyCircleSector),
            0 === o.count() && t.get('showEmptyCircle'))
          ) {
            var d = new Gi({ shape: qT(t, i) });
            d.useStyle(t.getModel('emptyCircleStyle').getItemStyle()),
              (this._emptyCircleSector = d),
              l.add(d);
          }
          o
            .diff(s)
            .add(function (v) {
              var g = new F3(o, v, u);
              o.setItemGraphicEl(v, g), l.add(g);
            })
            .update(function (v, g) {
              var m = s.getItemGraphicEl(g);
              m.updateData(o, v, u),
                m.off('click'),
                l.add(m),
                o.setItemGraphicEl(v, m);
            })
            .remove(function (v) {
              ad(s.getItemGraphicEl(v), t, v);
            })
            .execute(),
            (function O3(r) {
              var n,
                i,
                e = r.getData(),
                t = [],
                a = !1,
                o = (r.get('minShowLabelAngle') || 0) * P3,
                s = e.getLayout('viewRect'),
                l = e.getLayout('r'),
                u = s.width,
                c = s.x,
                f = s.y,
                d = s.height;
              function v(M) {
                M.ignore = !0;
              }
              e.each(function (M) {
                var E = e.getItemGraphicEl(M),
                  O = E.shape,
                  z = E.getTextContent(),
                  H = E.getTextGuideLine(),
                  G = e.getItemModel(M),
                  X = G.getModel('label'),
                  K =
                    X.get('position') ||
                    G.get(['emphasis', 'label', 'position']),
                  tt = X.get('distanceToLabelLine'),
                  ot = X.get('alignTo'),
                  pt = Te(X.get('edgeDistance'), u),
                  Xt = X.get('bleedMargin'),
                  Vt = G.getModel('labelLine'),
                  re = Vt.get('length');
                re = Te(re, u);
                var ye = Vt.get('length2');
                if (((ye = Te(ye, u)), Math.abs(O.endAngle - O.startAngle) < o))
                  return (
                    F(z.states, v),
                    (z.ignore = !0),
                    void (H && (F(H.states, v), (H.ignore = !0)))
                  );
                if (
                  (function g(M) {
                    if (!M.ignore) return !0;
                    for (var E in M.states)
                      if (!1 === M.states[E].ignore) return !0;
                    return !1;
                  })(z)
                ) {
                  var er,
                    Cr,
                    Er,
                    Dr,
                    ke = (O.startAngle + O.endAngle) / 2,
                    Ye = Math.cos(ke),
                    tr = Math.sin(ke);
                  (n = O.cx), (i = O.cy);
                  var nr = 'inside' === K || 'inner' === K;
                  if ('center' === K) (er = O.cx), (Cr = O.cy), (Dr = 'center');
                  else {
                    var Tr = (nr ? ((O.r + O.r0) / 2) * Ye : O.r * Ye) + n,
                      dr = (nr ? ((O.r + O.r0) / 2) * tr : O.r * tr) + i;
                    if (((er = Tr + 3 * Ye), (Cr = dr + 3 * tr), !nr)) {
                      var Ze = Tr + Ye * (re + l - O.r),
                        vr = dr + tr * (re + l - O.r),
                        bn = Ze + (Ye < 0 ? -1 : 1) * ye;
                      (er =
                        'edge' === ot
                          ? Ye < 0
                            ? c + pt
                            : c + u - pt
                          : bn + (Ye < 0 ? -tt : tt)),
                        (Cr = vr),
                        (Er = [
                          [Tr, dr],
                          [Ze, vr],
                          [bn, vr],
                        ]);
                    }
                    Dr = nr
                      ? 'center'
                      : 'edge' === ot
                      ? Ye > 0
                        ? 'right'
                        : 'left'
                      : Ye > 0
                      ? 'left'
                      : 'right';
                  }
                  var An = Math.PI,
                    Cn = 0,
                    qi = X.get('rotate');
                  if (U(qi)) Cn = qi * (An / 180);
                  else if ('center' === K) Cn = 0;
                  else if ('radial' === qi || !0 === qi)
                    Cn = Ye < 0 ? -ke + An : -ke;
                  else if (
                    'tangential' === qi &&
                    'outside' !== K &&
                    'outer' !== K
                  ) {
                    var Ma = Math.atan2(Ye, tr);
                    Ma < 0 && (Ma = 2 * An + Ma),
                      tr > 0 && (Ma = An + Ma),
                      (Cn = Ma - An);
                  }
                  if (
                    ((a = !!Cn),
                    (z.x = er),
                    (z.y = Cr),
                    (z.rotation = Cn),
                    z.setStyle({ verticalAlign: 'middle' }),
                    nr)
                  ) {
                    z.setStyle({ align: Dr });
                    var e_ = z.states.select;
                    e_ && ((e_.x += z.x), (e_.y += z.y));
                  } else {
                    var hu = z.getBoundingRect().clone();
                    hu.applyTransform(z.getComputedTransform());
                    var rE = (z.style.margin || 0) + 2.1;
                    (hu.y -= rE / 2),
                      (hu.height += rE),
                      t.push({
                        label: z,
                        labelLine: H,
                        position: K,
                        len: re,
                        len2: ye,
                        minTurnAngle: Vt.get('minTurnAngle'),
                        maxSurfaceAngle: Vt.get('maxSurfaceAngle'),
                        surfaceNormal: new ur(Ye, tr),
                        linePoints: Er,
                        textAlign: Dr,
                        labelDistance: tt,
                        labelAlignTo: ot,
                        edgeDistance: pt,
                        bleedMargin: Xt,
                        rect: hu,
                        unconstrainedWidth: hu.width,
                        labelStyleWidth: z.style.width,
                      });
                  }
                  E.setTextConfig({ inside: nr });
                }
              }),
                !a &&
                  r.get('avoidLabelOverlap') &&
                  (function R3(r, e, t, n, i, a, o, s) {
                    for (
                      var l = [],
                        u = [],
                        c = Number.MAX_VALUE,
                        f = -Number.MAX_VALUE,
                        d = 0;
                      d < r.length;
                      d++
                    ) {
                      var v = r[d].label;
                      v1(r[d]) ||
                        (v.x < e
                          ? ((c = Math.min(c, v.x)), l.push(r[d]))
                          : ((f = Math.max(f, v.x)), u.push(r[d])));
                    }
                    for (d = 0; d < r.length; d++)
                      if (!v1((g = r[d])) && g.linePoints) {
                        if (null != g.labelStyleWidth) continue;
                        v = g.label;
                        var y,
                          m = g.linePoints;
                        (g.targetTextWidth = y =
                          'edge' === g.labelAlignTo
                            ? v.x < e
                              ? m[2][0] - g.labelDistance - o - g.edgeDistance
                              : o +
                                i -
                                g.edgeDistance -
                                m[2][0] -
                                g.labelDistance
                            : 'labelLine' === g.labelAlignTo
                            ? v.x < e
                              ? c - o - g.bleedMargin
                              : o + i - f - g.bleedMargin
                            : v.x < e
                            ? v.x - o - g.bleedMargin
                            : o + i - v.x - g.bleedMargin),
                          KT(g, y);
                      }
                    for (
                      jT(u, e, t, n, 1, 0, a, 0, s, f),
                        jT(l, e, t, n, -1, 0, a, 0, s, c),
                        d = 0;
                      d < r.length;
                      d++
                    ) {
                      var g;
                      if (!v1((g = r[d])) && g.linePoints) {
                        var w = (v = g.label).style.padding,
                          L =
                            g.rect.width +
                            (v.style.backgroundColor ? 0 : w ? w[1] + w[3] : 0),
                          M = (m = g.linePoints)[1][0] - m[2][0];
                        'edge' === g.labelAlignTo
                          ? (m[2][0] =
                              v.x < e
                                ? o + g.edgeDistance + L + g.labelDistance
                                : o + i - g.edgeDistance - L - g.labelDistance)
                          : ((m[2][0] =
                              v.x < e
                                ? v.x + g.labelDistance
                                : v.x - g.labelDistance),
                            (m[1][0] = m[2][0] + M)),
                          (m[1][1] = m[2][1] = v.y);
                      }
                    }
                  })(t, n, i, l, u, d, c, f);
              for (var m = 0; m < t.length; m++) {
                var y = t[m],
                  b = y.label,
                  w = y.labelLine,
                  C = isNaN(b.x) || isNaN(b.y);
                if (b) {
                  b.setStyle({ align: y.textAlign }),
                    C && (F(b.states, v), (b.ignore = !0));
                  var D = b.states.select;
                  D && ((D.x += b.x), (D.y += b.y));
                }
                if (w) {
                  var L = y.linePoints;
                  C || !L
                    ? (F(w.states, v), (w.ignore = !0))
                    : (zD(L, y.minTurnAngle),
                      oN(L, y.surfaceNormal, y.maxSurfaceAngle),
                      w.setShape({ points: L }),
                      (b.__hostTarget.textGuideLineConfig = {
                        anchor: new ur(L[0][0], L[0][1]),
                      }));
                }
              }
            })(t),
            'expansion' !== t.get('animationTypeUpdate') && (this._data = o);
        }),
        (e.prototype.dispose = function () {}),
        (e.prototype.containPoint = function (t, n) {
          var a = n.getData().getItemLayout(0);
          if (a) {
            var o = t[0] - a.cx,
              s = t[1] - a.cy,
              l = Math.sqrt(o * o + s * s);
            return l <= a.r && l >= a.r0;
          }
        }),
        (e.type = 'pie'),
        e
      );
    })(en);
  function Qf(r, e, t) {
    e =
      (Tt(e) && { coordDimensions: e }) ||
      nt({ encodeDefine: r.getEncode() }, e);
    var n = r.getSource(),
      i = Xf(n, e).dimensions,
      a = new Zi(i, r);
    return a.initData(n, t), a;
  }
  var Zd = (function () {
      function r(e, t) {
        (this._getDataWithEncodedVisual = e), (this._getRawData = t);
      }
      return (
        (r.prototype.getAllNames = function () {
          var e = this._getRawData();
          return e.mapArray(e.getName);
        }),
        (r.prototype.containName = function (e) {
          return this._getRawData().indexOfName(e) >= 0;
        }),
        (r.prototype.indexOfName = function (e) {
          return this._getDataWithEncodedVisual().indexOfName(e);
        }),
        (r.prototype.getItemVisual = function (e, t) {
          return this._getDataWithEncodedVisual().getItemVisual(e, t);
        }),
        r
      );
    })(),
    N3 = S(),
    z3 = (function (r) {
      function e() {
        return (null !== r && r.apply(this, arguments)) || this;
      }
      return (
        ut(e, r),
        (e.prototype.init = function (t) {
          r.prototype.init.apply(this, arguments),
            (this.legendVisualProvider = new Zd(
              kt(this.getData, this),
              kt(this.getRawData, this)
            )),
            this._defaultLabelLine(t);
        }),
        (e.prototype.mergeOption = function () {
          r.prototype.mergeOption.apply(this, arguments);
        }),
        (e.prototype.getInitialData = function () {
          return Qf(this, {
            coordDimensions: ['value'],
            encodeDefaulter: me(Fy, this),
          });
        }),
        (e.prototype.getDataParams = function (t) {
          var n = this.getData(),
            i = N3(n),
            a = i.seats;
          if (!a) {
            var o = [];
            n.each(n.mapDimension('value'), function (l) {
              o.push(l);
            }),
              (a = i.seats = Ys(o, n.hostModel.get('percentPrecision')));
          }
          var s = r.prototype.getDataParams.call(this, t);
          return (s.percent = a[t] || 0), s.$vars.push('percent'), s;
        }),
        (e.prototype._defaultLabelLine = function (t) {
          Oa(t, 'labelLine', ['show']);
          var n = t.labelLine,
            i = t.emphasis.labelLine;
          (n.show = n.show && t.label.show),
            (i.show = i.show && t.emphasis.label.show);
        }),
        (e.type = 'series.pie'),
        (e.defaultOption = {
          z: 2,
          legendHoverLink: !0,
          colorBy: 'data',
          center: ['50%', '50%'],
          radius: [0, '75%'],
          clockwise: !0,
          startAngle: 90,
          minAngle: 0,
          minShowLabelAngle: 0,
          selectedOffset: 10,
          percentPrecision: 2,
          stillShowZeroSum: !0,
          left: 0,
          top: 0,
          right: 0,
          bottom: 0,
          width: null,
          height: null,
          label: {
            rotate: 0,
            show: !0,
            overflow: 'truncate',
            position: 'outer',
            alignTo: 'none',
            edgeDistance: '25%',
            bleedMargin: 10,
            distanceToLabelLine: 5,
          },
          labelLine: {
            show: !0,
            length: 15,
            length2: 15,
            smooth: !1,
            minTurnAngle: 90,
            maxSurfaceAngle: 90,
            lineStyle: { width: 1, type: 'solid' },
          },
          itemStyle: { borderWidth: 1, borderJoin: 'round' },
          showEmptyCircle: !0,
          emptyCircleStyle: { color: 'lightgray', opacity: 1 },
          labelLayout: { hideOverlap: !0 },
          emphasis: { scale: !0, scaleSize: 5 },
          avoidLabelOverlap: !0,
          animationType: 'expansion',
          animationDuration: 1e3,
          animationTypeUpdate: 'transition',
          animationEasingUpdate: 'cubicInOut',
          animationDurationUpdate: 500,
          animationEasing: 'cubicInOut',
        }),
        e
      );
    })(nn),
    G3 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), (t.hasSymbolVisual = !0), t;
      }
      return (
        ut(e, r),
        (e.prototype.getInitialData = function (t, n) {
          return cs(null, this, { useEncodeDefaulter: !0 });
        }),
        (e.prototype.getProgressive = function () {
          return (
            this.option.progressive ??
            (this.option.large ? 5e3 : this.get('progressive'))
          );
        }),
        (e.prototype.getProgressiveThreshold = function () {
          return (
            this.option.progressiveThreshold ??
            (this.option.large ? 1e4 : this.get('progressiveThreshold'))
          );
        }),
        (e.prototype.brushSelector = function (t, n, i) {
          return i.point(n.getItemLayout(t));
        }),
        (e.prototype.getZLevelKey = function () {
          return this.getData().count() > this.getProgressiveThreshold()
            ? this.id
            : '';
        }),
        (e.type = 'series.scatter'),
        (e.dependencies = ['grid', 'polar', 'geo', 'singleAxis', 'calendar']),
        (e.defaultOption = {
          coordinateSystem: 'cartesian2d',
          z: 2,
          legendHoverLink: !0,
          symbolSize: 10,
          large: !1,
          largeThreshold: 2e3,
          itemStyle: { opacity: 0.8 },
          emphasis: { scale: !0 },
          clip: !0,
          select: { itemStyle: { borderColor: '#212121' } },
          universalTransition: { divideShape: 'clone' },
        }),
        e
      );
    })(nn),
    W3 = function r() {},
    $3 = (function (r) {
      function e(t) {
        var n = r.call(this, t) || this;
        return (n._off = 0), (n.hoverDataIdx = -1), n;
      }
      return (
        ut(e, r),
        (e.prototype.getDefaultShape = function () {
          return new W3();
        }),
        (e.prototype.reset = function () {
          (this.notClear = !1), (this._off = 0);
        }),
        (e.prototype.buildPath = function (t, n) {
          var f,
            i = n.points,
            a = n.size,
            o = this.symbolProxy,
            s = o.shape,
            l = t.getContext ? t.getContext() : t,
            c = this.softClipShape;
          if (l && a[0] < 4) this._ctx = l;
          else {
            for (this._ctx = null, f = this._off; f < i.length; ) {
              var d = i[f++],
                v = i[f++];
              isNaN(d) ||
                isNaN(v) ||
                (c && !c.contain(d, v)) ||
                ((s.x = d - a[0] / 2),
                (s.y = v - a[1] / 2),
                (s.width = a[0]),
                (s.height = a[1]),
                o.buildPath(t, s, !0));
            }
            this.incremental && ((this._off = f), (this.notClear = !0));
          }
        }),
        (e.prototype.afterBrush = function () {
          var s,
            t = this.shape,
            n = t.points,
            i = t.size,
            a = this._ctx,
            o = this.softClipShape;
          if (a) {
            for (s = this._off; s < n.length; ) {
              var l = n[s++],
                u = n[s++];
              isNaN(l) ||
                isNaN(u) ||
                (o && !o.contain(l, u)) ||
                a.fillRect(l - i[0] / 2, u - i[1] / 2, i[0], i[1]);
            }
            this.incremental && ((this._off = s), (this.notClear = !0));
          }
        }),
        (e.prototype.findDataIndex = function (t, n) {
          for (
            var i = this.shape,
              a = i.points,
              o = i.size,
              s = Math.max(o[0], 4),
              l = Math.max(o[1], 4),
              u = a.length / 2 - 1;
            u >= 0;
            u--
          ) {
            var c = 2 * u,
              f = a[c] - s / 2,
              d = a[c + 1] - l / 2;
            if (t >= f && n >= d && t <= f + s && n <= d + l) return u;
          }
          return -1;
        }),
        (e.prototype.contain = function (t, n) {
          var i = this.transformCoordToLocal(t, n);
          return this.getBoundingRect().contain((t = i[0]), (n = i[1]))
            ? (this.hoverDataIdx = this.findDataIndex(t, n)) >= 0
            : ((this.hoverDataIdx = -1), !1);
        }),
        (e.prototype.getBoundingRect = function () {
          var t = this._rect;
          if (!t) {
            for (
              var n = this.shape,
                i = n.points,
                a = n.size,
                o = a[0],
                s = a[1],
                l = 1 / 0,
                u = 1 / 0,
                c = -1 / 0,
                f = -1 / 0,
                d = 0;
              d < i.length;

            ) {
              var v = i[d++],
                g = i[d++];
              (l = Math.min(v, l)),
                (c = Math.max(v, c)),
                (u = Math.min(g, u)),
                (f = Math.max(g, f));
            }
            t = this._rect = new it(l - o / 2, u - s / 2, c - l + o, f - u + s);
          }
          return t;
        }),
        e
      );
    })(Lr),
    U3 = (function () {
      function r() {
        this.group = new Qe();
      }
      return (
        (r.prototype.updateData = function (e, t) {
          this._clear();
          var n = this._create();
          n.setShape({ points: e.getLayout('points') }),
            this._setCommon(n, e, t);
        }),
        (r.prototype.updateLayout = function (e) {
          var t = e.getLayout('points');
          this.group.eachChild(function (n) {
            null != n.startIndex &&
              (t = new Float32Array(
                t.buffer,
                4 * n.startIndex * 2,
                2 * (n.endIndex - n.startIndex)
              )),
              n.setShape('points', t),
              n.reset();
          });
        }),
        (r.prototype.incrementalPrepareUpdate = function (e) {
          this._clear();
        }),
        (r.prototype.incrementalUpdate = function (e, t, n) {
          var i = this._newAdded[0],
            a = t.getLayout('points'),
            o = i && i.shape.points;
          if (o && o.length < 2e4) {
            var s = o.length,
              l = new Float32Array(s + a.length);
            l.set(o),
              l.set(a, s),
              (i.endIndex = e.end),
              i.setShape({ points: l });
          } else {
            this._newAdded = [];
            var u = this._create();
            (u.startIndex = e.start),
              (u.endIndex = e.end),
              (u.incremental = !0),
              u.setShape({ points: a }),
              this._setCommon(u, t, n);
          }
        }),
        (r.prototype.eachRendered = function (e) {
          this._newAdded[0] && e(this._newAdded[0]);
        }),
        (r.prototype._create = function () {
          var e = new $3({ cursor: 'default' });
          return (
            (e.ignoreCoarsePointer = !0),
            this.group.add(e),
            this._newAdded.push(e),
            e
          );
        }),
        (r.prototype._setCommon = function (e, t, n) {
          var i = t.hostModel;
          n = n || {};
          var a = t.getVisual('symbolSize');
          e.setShape('size', a instanceof Array ? a : [a, a]),
            (e.softClipShape = n.clipShape || null),
            (e.symbolProxy = En(t.getVisual('symbol'), 0, 0, 0, 0)),
            (e.setColor = e.symbolProxy.setColor);
          var o = e.shape.size[0] < 4;
          e.useStyle(
            i
              .getModel('itemStyle')
              .getItemStyle(
                o ? ['color', 'shadowBlur', 'shadowColor'] : ['color']
              )
          );
          var s = t.getVisual('style'),
            l = s && s.fill;
          l && e.setColor(l);
          var u = fr(e);
          (u.seriesIndex = i.seriesIndex),
            e.on('mousemove', function (c) {
              u.dataIndex = null;
              var f = e.hoverDataIdx;
              f >= 0 && (u.dataIndex = f + (e.startIndex || 0));
            });
        }),
        (r.prototype.remove = function () {
          this._clear();
        }),
        (r.prototype._clear = function () {
          (this._newAdded = []), this.group.removeAll();
        }),
        r
      );
    })(),
    Y3 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i) {
          var a = t.getData();
          this._updateSymbolDraw(a, t).updateData(a, {
            clipShape: this._getClipShape(t),
          }),
            (this._finished = !0);
        }),
        (e.prototype.incrementalPrepareRender = function (t, n, i) {
          var a = t.getData();
          this._updateSymbolDraw(a, t).incrementalPrepareUpdate(a),
            (this._finished = !1);
        }),
        (e.prototype.incrementalRender = function (t, n, i) {
          this._symbolDraw.incrementalUpdate(t, n.getData(), {
            clipShape: this._getClipShape(n),
          }),
            (this._finished = t.end === n.getData().count());
        }),
        (e.prototype.updateTransform = function (t, n, i) {
          var a = t.getData();
          if ((this.group.dirty(), !this._finished || a.count() > 1e4))
            return { update: !0 };
          var o = Ud('').reset(t, n, i);
          o.progress &&
            o.progress({ start: 0, end: a.count(), count: a.count() }, a),
            this._symbolDraw.updateLayout(a);
        }),
        (e.prototype.eachRendered = function (t) {
          this._symbolDraw && this._symbolDraw.eachRendered(t);
        }),
        (e.prototype._getClipShape = function (t) {
          var n = t.coordinateSystem,
            i = n && n.getArea && n.getArea();
          return t.get('clip', !0) ? i : null;
        }),
        (e.prototype._updateSymbolDraw = function (t, n) {
          var i = this._symbolDraw,
            o = n.pipelineContext.large;
          return (
            (!i || o !== this._isLargeDraw) &&
              (i && i.remove(),
              (i = this._symbolDraw = o ? new U3() : new $d()),
              (this._isLargeDraw = o),
              this.group.removeAll()),
            this.group.add(i.group),
            i
          );
        }),
        (e.prototype.remove = function (t, n) {
          this._symbolDraw && this._symbolDraw.remove(!0),
            (this._symbolDraw = null);
        }),
        (e.prototype.dispose = function () {}),
        (e.type = 'scatter'),
        e
      );
    })(en),
    X3 = (function (r) {
      function e() {
        return (null !== r && r.apply(this, arguments)) || this;
      }
      return (
        ut(e, r),
        (e.type = 'grid'),
        (e.dependencies = ['xAxis', 'yAxis']),
        (e.layoutMode = 'box'),
        (e.defaultOption = {
          show: !1,
          z: 0,
          left: '10%',
          top: 60,
          right: '10%',
          bottom: 70,
          containLabel: !1,
          backgroundColor: 'rgba(0,0,0,0)',
          borderWidth: 1,
          borderColor: '#ccc',
        }),
        e
      );
    })(br),
    p1 = (function (r) {
      function e() {
        return (null !== r && r.apply(this, arguments)) || this;
      }
      return (
        ut(e, r),
        (e.prototype.getCoordSysModel = function () {
          return this.getReferringComponents('grid', N).models[0];
        }),
        (e.type = 'cartesian2dAxis'),
        e
      );
    })(br);
  Ee(p1, qf);
  var JT = {
      show: !0,
      z: 0,
      inverse: !1,
      name: '',
      nameLocation: 'end',
      nameRotate: null,
      nameTruncate: { maxWidth: null, ellipsis: '...', placeholder: '.' },
      nameTextStyle: {},
      nameGap: 15,
      silent: !1,
      triggerEvent: !1,
      tooltip: { show: !1 },
      axisPointer: {},
      axisLine: {
        show: !0,
        onZero: !0,
        onZeroAxisIndex: null,
        lineStyle: { color: '#6E7079', width: 1, type: 'solid' },
        symbol: ['none', 'none'],
        symbolSize: [10, 15],
      },
      axisTick: { show: !0, inside: !1, length: 5, lineStyle: { width: 1 } },
      axisLabel: {
        show: !0,
        inside: !1,
        rotate: 0,
        showMinLabel: null,
        showMaxLabel: null,
        margin: 8,
        fontSize: 12,
      },
      splitLine: {
        show: !0,
        lineStyle: { color: ['#E0E6F1'], width: 1, type: 'solid' },
      },
      splitArea: {
        show: !1,
        areaStyle: {
          color: ['rgba(250,250,250,0.2)', 'rgba(210,219,238,0.2)'],
        },
      },
    },
    Z3 = Gt(
      {
        boundaryGap: !0,
        deduplication: null,
        splitLine: { show: !1 },
        axisTick: { alignWithLabel: !1, interval: 'auto' },
        axisLabel: { interval: 'auto' },
      },
      JT
    ),
    g1 = Gt(
      {
        boundaryGap: [0, 0],
        axisLine: { show: 'auto' },
        axisTick: { show: 'auto' },
        splitNumber: 5,
        minorTick: { show: !1, splitNumber: 5, length: 3, lineStyle: {} },
        minorSplitLine: { show: !1, lineStyle: { color: '#F4F7FD', width: 1 } },
      },
      JT
    ),
    tA = {
      category: Z3,
      value: g1,
      time: Gt(
        {
          splitNumber: 6,
          axisLabel: {
            showMinLabel: !1,
            showMaxLabel: !1,
            rich: { primary: { fontWeight: 'bold' } },
          },
          splitLine: { show: !1 },
        },
        g1
      ),
      log: Ot({ logBase: 10 }, g1),
    },
    K3 = { value: 1, category: 1, time: 1, log: 1 };
  function Jf(r, e, t, n) {
    F(K3, function (i, a) {
      var o = Gt(Gt({}, tA[a], !0), n, !0),
        s = (function (l) {
          function u() {
            var c = (null !== l && l.apply(this, arguments)) || this;
            return (c.type = e + 'Axis.' + a), c;
          }
          return (
            ut(u, l),
            (u.prototype.mergeDefaultAndTheme = function (c, f) {
              var d = pd(this),
                v = d ? Rf(c) : {};
              Gt(c, f.getTheme().get(a + 'Axis')),
                Gt(c, this.getDefaultOption()),
                (c.type = eA(c)),
                d && ql(c, v, d);
            }),
            (u.prototype.optionUpdated = function () {
              'category' === this.option.type &&
                (this.__ordinalMeta = O0.createByAxisModel(this));
            }),
            (u.prototype.getCategories = function (c) {
              var f = this.option;
              if ('category' === f.type)
                return c ? f.data : this.__ordinalMeta.categories;
            }),
            (u.prototype.getOrdinalMeta = function () {
              return this.__ordinalMeta;
            }),
            (u.type = e + 'Axis.' + a),
            (u.defaultOption = o),
            u
          );
        })(t);
      r.registerComponentModel(s);
    }),
      r.registerSubTypeDefaulter(e + 'Axis', eA);
  }
  function eA(r) {
    return r.type || (r.data ? 'category' : 'value');
  }
  var Q3 = (function () {
      function r(e) {
        (this.type = 'cartesian'),
          (this._dimList = []),
          (this._axes = {}),
          (this.name = e || '');
      }
      return (
        (r.prototype.getAxis = function (e) {
          return this._axes[e];
        }),
        (r.prototype.getAxes = function () {
          return Ut(
            this._dimList,
            function (e) {
              return this._axes[e];
            },
            this
          );
        }),
        (r.prototype.getAxesByScale = function (e) {
          return (
            (e = e.toLowerCase()),
            je(this.getAxes(), function (t) {
              return t.scale.type === e;
            })
          );
        }),
        (r.prototype.addAxis = function (e) {
          var t = e.dim;
          (this._axes[t] = e), this._dimList.push(t);
        }),
        r
      );
    })(),
    m1 = ['x', 'y'];
  function rA(r) {
    return 'interval' === r.type || 'time' === r.type;
  }
  var J3 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = 'cartesian2d'), (t.dimensions = m1), t;
      }
      return (
        ut(e, r),
        (e.prototype.calcAffineTransform = function () {
          this._transform = this._invTransform = null;
          var t = this.getAxis('x').scale,
            n = this.getAxis('y').scale;
          if (rA(t) && rA(n)) {
            var i = t.getExtent(),
              a = n.getExtent(),
              o = this.dataToPoint([i[0], a[0]]),
              s = this.dataToPoint([i[1], a[1]]),
              l = i[1] - i[0],
              u = a[1] - a[0];
            if (l && u) {
              var c = (s[0] - o[0]) / l,
                f = (s[1] - o[1]) / u,
                g = (this._transform = [
                  c,
                  0,
                  0,
                  f,
                  o[0] - i[0] * c,
                  o[1] - a[0] * f,
                ]);
              this._invTransform = xo([], g);
            }
          }
        }),
        (e.prototype.getBaseAxis = function () {
          return (
            this.getAxesByScale('ordinal')[0] ||
            this.getAxesByScale('time')[0] ||
            this.getAxis('x')
          );
        }),
        (e.prototype.containPoint = function (t) {
          var n = this.getAxis('x'),
            i = this.getAxis('y');
          return (
            n.contain(n.toLocalCoord(t[0])) && i.contain(i.toLocalCoord(t[1]))
          );
        }),
        (e.prototype.containData = function (t) {
          return (
            this.getAxis('x').containData(t[0]) &&
            this.getAxis('y').containData(t[1])
          );
        }),
        (e.prototype.containZone = function (t, n) {
          var i = this.dataToPoint(t),
            a = this.dataToPoint(n),
            o = this.getArea(),
            s = new it(i[0], i[1], a[0] - i[0], a[1] - i[1]);
          return o.intersect(s);
        }),
        (e.prototype.dataToPoint = function (t, n, i) {
          i = i || [];
          var a = t[0],
            o = t[1];
          if (
            this._transform &&
            null != a &&
            isFinite(a) &&
            null != o &&
            isFinite(o)
          )
            return dn(i, t, this._transform);
          var s = this.getAxis('x'),
            l = this.getAxis('y');
          return (
            (i[0] = s.toGlobalCoord(s.dataToCoord(a, n))),
            (i[1] = l.toGlobalCoord(l.dataToCoord(o, n))),
            i
          );
        }),
        (e.prototype.clampData = function (t, n) {
          var i = this.getAxis('x').scale,
            a = this.getAxis('y').scale,
            o = i.getExtent(),
            s = a.getExtent(),
            l = i.parse(t[0]),
            u = a.parse(t[1]);
          return (
            ((n = n || [])[0] = Math.min(
              Math.max(Math.min(o[0], o[1]), l),
              Math.max(o[0], o[1])
            )),
            (n[1] = Math.min(
              Math.max(Math.min(s[0], s[1]), u),
              Math.max(s[0], s[1])
            )),
            n
          );
        }),
        (e.prototype.pointToData = function (t, n) {
          var i = [];
          if (this._invTransform) return dn(i, t, this._invTransform);
          var a = this.getAxis('x'),
            o = this.getAxis('y');
          return (
            (i[0] = a.coordToData(a.toLocalCoord(t[0]), n)),
            (i[1] = o.coordToData(o.toLocalCoord(t[1]), n)),
            i
          );
        }),
        (e.prototype.getOtherAxis = function (t) {
          return this.getAxis('x' === t.dim ? 'y' : 'x');
        }),
        (e.prototype.getArea = function () {
          var t = this.getAxis('x').getGlobalExtent(),
            n = this.getAxis('y').getGlobalExtent(),
            i = Math.min(t[0], t[1]),
            a = Math.min(n[0], n[1]),
            o = Math.max(t[0], t[1]) - i,
            s = Math.max(n[0], n[1]) - a;
          return new it(i, a, o, s);
        }),
        e
      );
    })(Q3),
    t5 = (function (r) {
      function e(t, n, i, a, o) {
        var s = r.call(this, t, n, i) || this;
        return (
          (s.index = 0),
          (s.type = a || 'value'),
          (s.position = o || 'bottom'),
          s
        );
      }
      return (
        ut(e, r),
        (e.prototype.isHorizontal = function () {
          var t = this.position;
          return 'top' === t || 'bottom' === t;
        }),
        (e.prototype.getGlobalExtent = function (t) {
          var n = this.getExtent();
          return (
            (n[0] = this.toGlobalCoord(n[0])),
            (n[1] = this.toGlobalCoord(n[1])),
            t && n[0] > n[1] && n.reverse(),
            n
          );
        }),
        (e.prototype.pointToData = function (t, n) {
          return this.coordToData(
            this.toLocalCoord(t['x' === this.dim ? 0 : 1]),
            n
          );
        }),
        (e.prototype.setCategorySortInfo = function (t) {
          if ('category' !== this.type) return !1;
          (this.model.option.categorySortInfo = t), this.scale.setSortInfo(t);
        }),
        e
      );
    })(lo);
  function y1(r, e, t) {
    t = t || {};
    var n = r.coordinateSystem,
      i = e.axis,
      a = {},
      o = i.getAxesOnZeroOf()[0],
      s = i.position,
      l = o ? 'onZero' : s,
      u = i.dim,
      c = n.getRect(),
      f = [c.x, c.x + c.width, c.y, c.y + c.height],
      d = { left: 0, right: 1, top: 0, bottom: 1, onZero: 2 },
      v = e.get('offset') || 0,
      g = 'x' === u ? [f[2] - v, f[3] + v] : [f[0] - v, f[1] + v];
    if (o) {
      var m = o.toGlobalCoord(o.dataToCoord(0));
      g[d.onZero] = Math.max(Math.min(m, g[1]), g[0]);
    }
    (a.position = ['y' === u ? g[d[l]] : f[0], 'x' === u ? g[d[l]] : f[3]]),
      (a.rotation = (Math.PI / 2) * ('x' === u ? 0 : 1)),
      (a.labelDirection =
        a.tickDirection =
        a.nameDirection =
          { top: -1, bottom: 1, left: -1, right: 1 }[s]),
      (a.labelOffset = o ? g[d[s]] - g[d.onZero] : 0),
      e.get(['axisTick', 'inside']) && (a.tickDirection = -a.tickDirection),
      xe(t.labelInside, e.get(['axisLabel', 'inside'])) &&
        (a.labelDirection = -a.labelDirection);
    var b = e.get(['axisLabel', 'rotate']);
    return (a.labelRotate = 'top' === l ? -b : b), (a.z2 = 1), a;
  }
  function nA(r) {
    return 'cartesian2d' === r.get('coordinateSystem');
  }
  function iA(r) {
    var e = { xAxisModel: null, yAxisModel: null };
    return (
      F(e, function (t, n) {
        var i = n.replace(/Model$/, ''),
          a = r.getReferringComponents(i, N).models[0];
        if (!a)
          throw new Error(
            i + ' "' + J(r.get(i + 'Index'), r.get(i + 'Id'), 0) + '" not found'
          );
        e[n] = a;
      }),
      e
    );
  }
  var x1 = Math.log;
  function aA(r, e, t) {
    var n = al.prototype,
      i = n.getTicks.call(t),
      a = n.getTicks.call(t, !0),
      o = i.length - 1,
      s = n.getInterval.call(t),
      l = bD(r, e),
      u = l.extent,
      c = l.fixMin,
      f = l.fixMax;
    if ('log' === r.type) {
      var d = x1(r.base);
      u = [x1(u[0]) / d, x1(u[1]) / d];
    }
    r.setExtent(u[0], u[1]),
      r.calcNiceExtent({ splitNumber: o, fixMin: c, fixMax: f });
    var v = n.getExtent.call(r);
    c && (u[0] = v[0]), f && (u[1] = v[1]);
    var g = n.getInterval.call(r),
      m = u[0],
      y = u[1];
    if (c && f) g = (y - m) / o;
    else if (c)
      for (y = u[0] + g * o; y < u[1] && isFinite(y) && isFinite(u[1]); )
        (g = B0(g)), (y = u[0] + g * o);
    else if (f)
      for (m = u[1] - g * o; m > u[0] && isFinite(m) && isFinite(u[0]); )
        (g = B0(g)), (m = u[1] - g * o);
    else {
      r.getTicks().length - 1 > o && (g = B0(g));
      var w = g * o;
      (m = yn((y = Math.ceil(u[1] / g) * g) - w)) < 0 && u[0] >= 0
        ? ((m = 0), (y = yn(w)))
        : y > 0 && u[1] <= 0 && ((y = 0), (m = -yn(w)));
    }
    var C = (i[0].value - a[0].value) / s,
      D = (i[o].value - a[o].value) / s;
    n.setExtent.call(r, m + g * C, y + g * D),
      n.setInterval.call(r, g),
      (C || D) && n.setNiceExtent.call(r, m + g, y - g);
    var L = n.getTicks.call(r);
    L[1] &&
      (!(function JF(r) {
        var e = Math.pow(10, Hu(Math.abs(r))),
          t = Math.abs(r / e);
        return 0 === t || 1 === t || 2 === t || 3 === t || 5 === t;
      })(g) ||
        Bu(L[1].value) > Bu(g)) &&
      ln(
        'The ticks may be not readable when set min: ' +
          e.get('min') +
          ', max: ' +
          e.get('max') +
          ' and alignTicks: true'
      );
  }
  var e5 = (function () {
    function r(e, t, n) {
      (this.type = 'grid'),
        (this._coordsMap = {}),
        (this._coordsList = []),
        (this._axesMap = {}),
        (this._axesList = []),
        (this.axisPointerEnabled = !0),
        (this.dimensions = m1),
        this._initCartesian(e, t, n),
        (this.model = e);
    }
    return (
      (r.prototype.getRect = function () {
        return this._rect;
      }),
      (r.prototype.update = function (e, t) {
        var n = this._axesMap;
        function i(o) {
          var s,
            l = Ne(o),
            u = l.length;
          if (u) {
            for (var c = [], f = u - 1; f >= 0; f--) {
              var v = o[+l[f]],
                g = v.model,
                m = v.scale;
              F0(m) && g.get('alignTicks') && null == g.get('interval')
                ? c.push(v)
                : (Sc(m, g), F0(m) && (s = v));
            }
            c.length &&
              (s || Sc((s = c.pop()).scale, s.model),
              F(c, function (y) {
                aA(y.scale, y.model, s.scale);
              }));
          }
        }
        this._updateScale(e, this.model), i(n.x), i(n.y);
        var a = {};
        F(n.x, function (o) {
          oA(n, 'y', o, a);
        }),
          F(n.y, function (o) {
            oA(n, 'x', o, a);
          }),
          this.resize(this.model, t);
      }),
      (r.prototype.resize = function (e, t, n) {
        var i = e.getBoxLayoutParams(),
          a = !n && e.get('containLabel'),
          o = Vn(i, { width: t.getWidth(), height: t.getHeight() });
        this._rect = o;
        var s = this._axesList;
        function l() {
          F(s, function (u) {
            var c = u.isHorizontal(),
              f = c ? [0, o.width] : [0, o.height],
              d = u.inverse ? 1 : 0;
            u.setExtent(f[d], f[1 - d]),
              (function r5(r, e) {
                var t = r.getExtent(),
                  n = t[0] + t[1];
                (r.toGlobalCoord =
                  'x' === r.dim
                    ? function (i) {
                        return i + e;
                      }
                    : function (i) {
                        return n - i + e;
                      }),
                  (r.toLocalCoord =
                    'x' === r.dim
                      ? function (i) {
                          return i - e;
                        }
                      : function (i) {
                          return n - i + e;
                        });
              })(u, c ? o.x : o.y);
          });
        }
        l(),
          a &&
            (F(s, function (u) {
              if (!u.model.get(['axisLabel', 'inside'])) {
                var c = (function wB(r) {
                  var t = r.scale;
                  if (r.model.get(['axisLabel', 'show']) && !t.isBlank()) {
                    var n,
                      i,
                      a = t.getExtent();
                    i = t instanceof mg ? t.count() : (n = t.getTicks()).length;
                    var l,
                      o = r.getLabelModel(),
                      s = Fd(r),
                      u = 1;
                    i > 40 && (u = Math.ceil(i / 40));
                    for (var c = 0; c < i; c += u) {
                      var d = s(n ? n[c] : { value: a[0] + c }, c),
                        g = CB(o.getTextRect(d), o.get('rotate') || 0);
                      l ? l.union(g) : (l = g);
                    }
                    return l;
                  }
                })(u);
                if (c) {
                  var f = u.isHorizontal() ? 'height' : 'width',
                    d = u.model.get(['axisLabel', 'margin']);
                  (o[f] -= c[f] + d),
                    'top' === u.position
                      ? (o.y += c.height + d)
                      : 'left' === u.position && (o.x += c.width + d);
                }
              }
            }),
            l()),
          F(this._coordsList, function (u) {
            u.calcAffineTransform();
          });
      }),
      (r.prototype.getAxis = function (e, t) {
        var n = this._axesMap[e];
        if (null != n) return n[t || 0];
      }),
      (r.prototype.getAxes = function () {
        return this._axesList.slice();
      }),
      (r.prototype.getCartesian = function (e, t) {
        if (null != e && null != t) return this._coordsMap['x' + e + 'y' + t];
        Y(e) && ((t = e.yAxisIndex), (e = e.xAxisIndex));
        for (var i = 0, a = this._coordsList; i < a.length; i++)
          if (a[i].getAxis('x').index === e || a[i].getAxis('y').index === t)
            return a[i];
      }),
      (r.prototype.getCartesians = function () {
        return this._coordsList.slice();
      }),
      (r.prototype.convertToPixel = function (e, t, n) {
        var i = this._findConvertTarget(t);
        return i.cartesian
          ? i.cartesian.dataToPoint(n)
          : i.axis
          ? i.axis.toGlobalCoord(i.axis.dataToCoord(n))
          : null;
      }),
      (r.prototype.convertFromPixel = function (e, t, n) {
        var i = this._findConvertTarget(t);
        return i.cartesian
          ? i.cartesian.pointToData(n)
          : i.axis
          ? i.axis.coordToData(i.axis.toLocalCoord(n))
          : null;
      }),
      (r.prototype._findConvertTarget = function (e) {
        var s,
          l,
          t = e.seriesModel,
          n =
            e.xAxisModel ||
            (t && t.getReferringComponents('xAxis', N).models[0]),
          i =
            e.yAxisModel ||
            (t && t.getReferringComponents('yAxis', N).models[0]),
          a = e.gridModel;
        return (
          t
            ? $(this._coordsList, (s = t.coordinateSystem)) < 0 && (s = null)
            : n && i
            ? (s = this.getCartesian(n.componentIndex, i.componentIndex))
            : n
            ? (l = this.getAxis('x', n.componentIndex))
            : i
            ? (l = this.getAxis('y', i.componentIndex))
            : a && a.coordinateSystem === this && (s = this._coordsList[0]),
          { cartesian: s, axis: l }
        );
      }),
      (r.prototype.containPoint = function (e) {
        var t = this._coordsList[0];
        if (t) return t.containPoint(e);
      }),
      (r.prototype._initCartesian = function (e, t, n) {
        var i = this,
          a = this,
          o = { left: !1, right: !1, top: !1, bottom: !1 },
          s = { x: {}, y: {} },
          l = { x: 0, y: 0 };
        if (
          (t.eachComponent('xAxis', u('x'), this),
          t.eachComponent('yAxis', u('y'), this),
          !l.x || !l.y)
        )
          return (this._axesMap = {}), void (this._axesList = []);
        function u(c) {
          return function (f, d) {
            if (b1(f, e)) {
              var v = f.get('position');
              'x' === c
                ? 'top' !== v &&
                  'bottom' !== v &&
                  (v = o.bottom ? 'top' : 'bottom')
                : 'left' !== v &&
                  'right' !== v &&
                  (v = o.left ? 'right' : 'left'),
                (o[v] = !0);
              var g = new t5(c, Od(f), [0, 0], f.get('type'), v);
              (g.onBand = 'category' === g.type && f.get('boundaryGap')),
                (g.inverse = f.get('inverse')),
                (f.axis = g),
                (g.model = f),
                (g.grid = a),
                (g.index = d),
                a._axesList.push(g),
                (s[c][d] = g),
                l[c]++;
            }
          };
        }
        (this._axesMap = s),
          F(s.x, function (c, f) {
            F(s.y, function (d, v) {
              var g = 'x' + f + 'y' + v,
                m = new J3(g);
              (m.master = i),
                (m.model = e),
                (i._coordsMap[g] = m),
                i._coordsList.push(m),
                m.addAxis(c),
                m.addAxis(d);
            });
          });
      }),
      (r.prototype._updateScale = function (e, t) {
        function n(i, a) {
          F(Sg(i, a.dim), function (o) {
            a.scale.unionExtentFromData(i, o);
          });
        }
        F(this._axesList, function (i) {
          if ((i.scale.setExtent(1 / 0, -1 / 0), 'category' === i.type)) {
            var a = i.model.get('categorySortInfo');
            i.scale.setSortInfo(a);
          }
        }),
          e.eachSeries(function (i) {
            if (nA(i)) {
              var a = iA(i),
                o = a.xAxisModel,
                s = a.yAxisModel;
              if (!b1(o, t) || !b1(s, t)) return;
              var l = this.getCartesian(o.componentIndex, s.componentIndex),
                u = i.getData(),
                c = l.getAxis('x'),
                f = l.getAxis('y');
              n(u, c), n(u, f);
            }
          }, this);
      }),
      (r.prototype.getTooltipAxes = function (e) {
        var t = [],
          n = [];
        return (
          F(this.getCartesians(), function (i) {
            var a = null != e && 'auto' !== e ? i.getAxis(e) : i.getBaseAxis(),
              o = i.getOtherAxis(a);
            $(t, a) < 0 && t.push(a), $(n, o) < 0 && n.push(o);
          }),
          { baseAxes: t, otherAxes: n }
        );
      }),
      (r.create = function (e, t) {
        var n = [];
        return (
          e.eachComponent('grid', function (i, a) {
            var o = new r(i, e, t);
            (o.name = 'grid_' + a),
              o.resize(i, t, !0),
              (i.coordinateSystem = o),
              n.push(o);
          }),
          e.eachSeries(function (i) {
            if (nA(i)) {
              var a = iA(i),
                o = a.xAxisModel,
                s = a.yAxisModel,
                l = o.getCoordSysModel();
              if (!l)
                throw new Error(
                  'Grid "' +
                    J(o.get('gridIndex'), o.get('gridId'), 0) +
                    '" not found'
                );
              if (o.getCoordSysModel() !== s.getCoordSysModel())
                throw new Error('xAxis and yAxis must use the same grid');
              i.coordinateSystem = l.coordinateSystem.getCartesian(
                o.componentIndex,
                s.componentIndex
              );
            }
          }),
          n
        );
      }),
      (r.dimensions = m1),
      r
    );
  })();
  function b1(r, e) {
    return r.getCoordSysModel() === e;
  }
  function oA(r, e, t, n) {
    t.getAxesOnZeroOf = function () {
      return a ? [a] : [];
    };
    var a,
      i = r[e],
      o = t.model,
      s = o.get(['axisLine', 'onZero']),
      l = o.get(['axisLine', 'onZeroAxisIndex']);
    if (s) {
      if (null != l) sA(i[l]) && (a = i[l]);
      else
        for (var u in i)
          if (i.hasOwnProperty(u) && sA(i[u]) && !n[c(i[u])]) {
            a = i[u];
            break;
          }
      a && (n[c(a)] = !0);
    }
    function c(f) {
      return f.dim + '_' + f.index;
    }
  }
  function sA(r) {
    return (
      r &&
      'category' !== r.type &&
      'time' !== r.type &&
      (function SB(r) {
        var e = r.scale.getExtent(),
          t = e[0],
          n = e[1];
        return !((t > 0 && n > 0) || (t < 0 && n < 0));
      })(r)
    );
  }
  var iu = Math.PI,
    va = (function () {
      function r(e, t) {
        (this.group = new Qe()),
          (this.opt = t),
          (this.axisModel = e),
          Ot(t, {
            labelOffset: 0,
            nameDirection: 1,
            tickDirection: 1,
            labelDirection: 1,
            silent: !0,
            handleAutoShown: function () {
              return !0;
            },
          });
        var n = new Qe({
          x: t.position[0],
          y: t.position[1],
          rotation: t.rotation,
        });
        n.updateTransform(), (this._transformGroup = n);
      }
      return (
        (r.prototype.hasBuilder = function (e) {
          return !!lA[e];
        }),
        (r.prototype.add = function (e) {
          lA[e](this.opt, this.axisModel, this.group, this._transformGroup);
        }),
        (r.prototype.getGroup = function () {
          return this.group;
        }),
        (r.innerTextLayout = function (e, t, n) {
          var a,
            o,
            i = zu(t - e);
          return (
            Lo(i)
              ? ((o = n > 0 ? 'top' : 'bottom'), (a = 'center'))
              : Lo(i - iu)
              ? ((o = n > 0 ? 'bottom' : 'top'), (a = 'center'))
              : ((o = 'middle'),
                (a =
                  i > 0 && i < iu
                    ? n > 0
                      ? 'right'
                      : 'left'
                    : n > 0
                    ? 'left'
                    : 'right')),
            { rotation: i, textAlign: a, textVerticalAlign: o }
          );
        }),
        (r.makeAxisEventDataBase = function (e) {
          var t = {
            componentType: e.mainType,
            componentIndex: e.componentIndex,
          };
          return (t[e.mainType + 'Index'] = e.componentIndex), t;
        }),
        (r.isLabelSilent = function (e) {
          var t = e.get('tooltip');
          return e.get('silent') || !(e.get('triggerEvent') || (t && t.show));
        }),
        r
      );
    })(),
    lA = {
      axisLine: function (r, e, t, n) {
        var i = e.get(['axisLine', 'show']);
        if (
          ('auto' === i &&
            r.handleAutoShown &&
            (i = r.handleAutoShown('axisLine')),
          i)
        ) {
          var a = e.axis.getExtent(),
            o = n.transform,
            s = [a[0], 0],
            l = [a[1], 0],
            u = s[0] > l[0];
          o && (dn(s, s, o), dn(l, l, o));
          var c = nt(
              { lineCap: 'round' },
              e.getModel(['axisLine', 'lineStyle']).getLineStyle()
            ),
            f = new Jn({
              shape: { x1: s[0], y1: s[1], x2: l[0], y2: l[1] },
              style: c,
              strokeContainThreshold: r.strokeContainThreshold || 5,
              silent: !0,
              z2: 1,
            });
          Af(f.shape, f.style.lineWidth), (f.anid = 'line'), t.add(f);
          var d = e.get(['axisLine', 'symbol']);
          if (null != d) {
            var v = e.get(['axisLine', 'symbolSize']);
            ht(d) && (d = [d, d]), (ht(v) || U(v)) && (v = [v, v]);
            var g = mc(e.get(['axisLine', 'symbolOffset']) || 0, v),
              m = v[0],
              y = v[1];
            F(
              [
                { rotate: r.rotation + Math.PI / 2, offset: g[0], r: 0 },
                {
                  rotate: r.rotation - Math.PI / 2,
                  offset: g[1],
                  r: Math.sqrt(
                    (s[0] - l[0]) * (s[0] - l[0]) +
                      (s[1] - l[1]) * (s[1] - l[1])
                  ),
                },
              ],
              function (b, w) {
                if ('none' !== d[w] && null != d[w]) {
                  var C = En(d[w], -m / 2, -y / 2, m, y, c.stroke, !0),
                    D = b.r + b.offset,
                    L = u ? l : s;
                  C.attr({
                    rotation: b.rotate,
                    x: L[0] + D * Math.cos(r.rotation),
                    y: L[1] - D * Math.sin(r.rotation),
                    silent: !0,
                    z2: 11,
                  }),
                    t.add(C);
                }
              }
            );
          }
        }
      },
      axisTickLabel: function (r, e, t, n) {
        var i = (function a5(r, e, t, n) {
            var i = t.axis,
              a = t.getModel('axisTick'),
              o = a.get('show');
            if (
              ('auto' === o &&
                n.handleAutoShown &&
                (o = n.handleAutoShown('axisTick')),
              o && !i.scale.isBlank())
            ) {
              for (
                var s = a.getModel('lineStyle'),
                  l = n.tickDirection * a.get('length'),
                  c = fA(
                    i.getTicksCoords(),
                    e.transform,
                    l,
                    Ot(s.getLineStyle(), {
                      stroke: t.get(['axisLine', 'lineStyle', 'color']),
                    }),
                    'ticks'
                  ),
                  f = 0;
                f < c.length;
                f++
              )
                r.add(c[f]);
              return c;
            }
          })(t, n, e, r),
          a = (function s5(r, e, t, n) {
            var i = t.axis;
            if (
              xe(n.axisLabelShow, t.get(['axisLabel', 'show'])) &&
              !i.scale.isBlank()
            ) {
              var o = t.getModel('axisLabel'),
                s = o.get('margin'),
                l = i.getViewLabels(),
                u = ((xe(n.labelRotate, o.get('rotate')) || 0) * iu) / 180,
                c = va.innerTextLayout(n.rotation, u, n.labelDirection),
                f = t.getCategories && t.getCategories(!0),
                d = [],
                v = va.isLabelSilent(t),
                g = t.get('triggerEvent');
              return (
                F(l, function (m, y) {
                  var b =
                      'ordinal' === i.scale.type
                        ? i.scale.getRawOrdinalNumber(m.tickValue)
                        : m.tickValue,
                    w = m.formattedLabel,
                    C = m.rawLabel,
                    D = o;
                  if (f && f[b]) {
                    var L = f[b];
                    Y(L) &&
                      L.textStyle &&
                      (D = new Yr(L.textStyle, o, t.ecModel));
                  }
                  var M =
                      D.getTextColor() ||
                      t.get(['axisLine', 'lineStyle', 'color']),
                    E = i.dataToCoord(b),
                    O = new Or({
                      x: E,
                      y: n.labelOffset + n.labelDirection * s,
                      rotation: c.rotation,
                      silent: v,
                      z2: 10 + (m.level || 0),
                      style: on(D, {
                        text: w,
                        align: D.getShallow('align', !0) || c.textAlign,
                        verticalAlign:
                          D.getShallow('verticalAlign', !0) ||
                          D.getShallow('baseline', !0) ||
                          c.textVerticalAlign,
                        fill: fe(M)
                          ? M(
                              'category' === i.type
                                ? C
                                : 'value' === i.type
                                ? b + ''
                                : b,
                              y
                            )
                          : M,
                      }),
                    });
                  if (((O.anid = 'label_' + b), g)) {
                    var z = va.makeAxisEventDataBase(t);
                    (z.targetType = 'axisLabel'),
                      (z.value = C),
                      (z.tickIndex = y),
                      'category' === i.type && (z.dataIndex = b),
                      (fr(O).eventData = z);
                  }
                  e.add(O),
                    O.updateTransform(),
                    d.push(O),
                    r.add(O),
                    O.decomposeTransform();
                }),
                d
              );
            }
          })(t, n, e, r);
        (function i5(r, e, t) {
          if (!_D(r.axis)) {
            var n = r.get(['axisLabel', 'showMinLabel']),
              i = r.get(['axisLabel', 'showMaxLabel']),
              a = (e = e || [])[0],
              o = e[1],
              s = e[e.length - 1],
              l = e[e.length - 2],
              u = (t = t || [])[0],
              c = t[1],
              f = t[t.length - 1],
              d = t[t.length - 2];
            !1 === n
              ? (uo(a), uo(u))
              : uA(a, o) && (n ? (uo(o), uo(c)) : (uo(a), uo(u))),
              !1 === i
                ? (uo(s), uo(f))
                : uA(l, s) && (i ? (uo(l), uo(d)) : (uo(s), uo(f)));
          }
        })(e, a, i),
          (function o5(r, e, t, n) {
            var i = t.axis,
              a = t.getModel('minorTick');
            if (a.get('show') && !i.scale.isBlank()) {
              var o = i.getMinorTicksCoords();
              if (o.length)
                for (
                  var s = a.getModel('lineStyle'),
                    l = n * a.get('length'),
                    u = Ot(
                      s.getLineStyle(),
                      Ot(t.getModel('axisTick').getLineStyle(), {
                        stroke: t.get(['axisLine', 'lineStyle', 'color']),
                      })
                    ),
                    c = 0;
                  c < o.length;
                  c++
                )
                  for (
                    var f = fA(o[c], e.transform, l, u, 'minorticks_' + c),
                      d = 0;
                    d < f.length;
                    d++
                  )
                    r.add(f[d]);
            }
          })(t, n, e, r.tickDirection),
          e.get(['axisLabel', 'hideOverlap']) &&
            $D(
              HD(
                Ut(a, function (s) {
                  return {
                    label: s,
                    priority: s.z2,
                    defaultAttr: { ignore: s.ignore },
                  };
                })
              )
            );
      },
      axisName: function (r, e, t, n) {
        var i = xe(r.axisName, e.get('name'));
        if (i) {
          var d,
            g,
            a = e.get('nameLocation'),
            o = r.nameDirection,
            s = e.getModel('nameTextStyle'),
            l = e.get('nameGap') || 0,
            u = e.axis.getExtent(),
            c = u[0] > u[1] ? -1 : 1,
            f = [
              'start' === a
                ? u[0] - c * l
                : 'end' === a
                ? u[1] + c * l
                : (u[0] + u[1]) / 2,
              cA(a) ? r.labelOffset + o * l : 0,
            ],
            v = e.get('nameRotate');
          null != v && (v = (v * iu) / 180),
            cA(a)
              ? (d = va.innerTextLayout(r.rotation, v ?? r.rotation, o))
              : ((d = (function n5(r, e, t, n) {
                  var a,
                    o,
                    i = zu(t - r),
                    s = n[0] > n[1],
                    l = ('start' === e && !s) || ('start' !== e && s);
                  return (
                    Lo(i - iu / 2)
                      ? ((o = l ? 'bottom' : 'top'), (a = 'center'))
                      : Lo(i - 1.5 * iu)
                      ? ((o = l ? 'top' : 'bottom'), (a = 'center'))
                      : ((o = 'middle'),
                        (a =
                          i < 1.5 * iu && i > iu / 2
                            ? l
                              ? 'left'
                              : 'right'
                            : l
                            ? 'right'
                            : 'left')),
                    { rotation: i, textAlign: a, textVerticalAlign: o }
                  );
                })(r.rotation, a, v || 0, u)),
                null != (g = r.axisNameAvailableWidth) &&
                  ((g = Math.abs(g / Math.sin(d.rotation))),
                  !isFinite(g) && (g = null)));
          var m = s.getFont(),
            y = e.get('nameTruncate', !0) || {},
            b = y.ellipsis,
            w = xe(r.nameTruncateMaxWidth, y.maxWidth, g),
            C = new Or({
              x: f[0],
              y: f[1],
              rotation: d.rotation,
              silent: va.isLabelSilent(e),
              style: on(s, {
                text: i,
                font: m,
                overflow: 'truncate',
                width: w,
                ellipsis: b,
                fill:
                  s.getTextColor() || e.get(['axisLine', 'lineStyle', 'color']),
                align: s.get('align') || d.textAlign,
                verticalAlign: s.get('verticalAlign') || d.textVerticalAlign,
              }),
              z2: 1,
            });
          if (
            (Lf({ el: C, componentModel: e, itemName: i }),
            (C.__fullText = i),
            (C.anid = 'name'),
            e.get('triggerEvent'))
          ) {
            var D = va.makeAxisEventDataBase(e);
            (D.targetType = 'axisName'), (D.name = i), (fr(C).eventData = D);
          }
          n.add(C), C.updateTransform(), t.add(C), C.decomposeTransform();
        }
      },
    };
  function uo(r) {
    r && (r.ignore = !0);
  }
  function uA(r, e) {
    var t = r && r.getBoundingRect().clone(),
      n = e && e.getBoundingRect().clone();
    if (t && n) {
      var i = $a([]);
      return (
        ka(i, i, -r.rotation),
        t.applyTransform(Pi([], i, r.getLocalTransform())),
        n.applyTransform(Pi([], i, e.getLocalTransform())),
        t.intersect(n)
      );
    }
  }
  function cA(r) {
    return 'middle' === r || 'center' === r;
  }
  function fA(r, e, t, n, i) {
    for (var a = [], o = [], s = [], l = 0; l < r.length; l++) {
      var u = r[l].coord;
      (o[0] = u),
        (o[1] = 0),
        (s[0] = u),
        (s[1] = t),
        e && (dn(o, o, e), dn(s, s, e));
      var c = new Jn({
        shape: { x1: o[0], y1: o[1], x2: s[0], y2: s[1] },
        style: n,
        z2: 2,
        autoBatch: !0,
        silent: !0,
      });
      Af(c.shape, c.style.lineWidth),
        (c.anid = i + '_' + r[l].tickValue),
        a.push(c);
    }
    return a;
  }
  function _1(r, e) {
    return 'all' === r || (Tt(r) && $(r, e) >= 0) || r === e;
  }
  function S1(r) {
    var e = (r.ecModel.getComponent('axisPointer') || {}).coordSysAxesInfo;
    return e && e.axesInfo[qd(r)];
  }
  function w1(r) {
    return !!r.get(['handle', 'show']);
  }
  function qd(r) {
    return r.type + '||' + r.id;
  }
  var C1 = {},
    Ec = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i, a) {
          this.axisPointerClass &&
            (function d5(r) {
              var e = S1(r);
              if (e) {
                var t = e.axisPointerModel,
                  n = e.axis.scale,
                  i = t.option,
                  a = t.get('status'),
                  o = t.get('value');
                null != o && (o = n.parse(o));
                var s = w1(t);
                null == a && (i.status = s ? 'show' : 'hide');
                var l = n.getExtent().slice();
                l[0] > l[1] && l.reverse(),
                  (null == o || o > l[1]) && (o = l[1]),
                  o < l[0] && (o = l[0]),
                  (i.value = o),
                  s && (i.status = e.axis.scale.isBlank() ? 'hide' : 'show');
              }
            })(t),
            r.prototype.render.apply(this, arguments),
            this._doUpdateAxisPointerClass(t, i, !0);
        }),
        (e.prototype.updateAxisPointer = function (t, n, i, a) {
          this._doUpdateAxisPointerClass(t, i, !1);
        }),
        (e.prototype.remove = function (t, n) {
          var i = this._axisPointer;
          i && i.remove(n);
        }),
        (e.prototype.dispose = function (t, n) {
          this._disposeAxisPointer(n),
            r.prototype.dispose.apply(this, arguments);
        }),
        (e.prototype._doUpdateAxisPointerClass = function (t, n, i) {
          var a = e.getAxisPointerClass(this.axisPointerClass);
          if (a) {
            var o = (function v5(r) {
              var e = S1(r);
              return e && e.axisPointerModel;
            })(t);
            o
              ? (this._axisPointer || (this._axisPointer = new a())).render(
                  t,
                  o,
                  n,
                  i
                )
              : this._disposeAxisPointer(n);
          }
        }),
        (e.prototype._disposeAxisPointer = function (t) {
          this._axisPointer && this._axisPointer.dispose(t),
            (this._axisPointer = null);
        }),
        (e.registerAxisPointerClass = function (t, n) {
          if (C1[t]) throw new Error('axisPointer ' + t + ' exists');
          C1[t] = n;
        }),
        (e.getAxisPointerClass = function (t) {
          return t && C1[t];
        }),
        (e.type = 'axis'),
        e
      );
    })(fn),
    D1 = S();
  function hA(r, e, t, n) {
    var i = t.axis;
    if (!i.scale.isBlank()) {
      var a = t.getModel('splitArea'),
        o = a.getModel('areaStyle'),
        s = o.get('color'),
        l = n.coordinateSystem.getRect(),
        u = i.getTicksCoords({ tickModel: a, clamp: !0 });
      if (u.length) {
        var c = s.length,
          f = D1(r).splitAreaColors,
          d = Nt(),
          v = 0;
        if (f)
          for (var g = 0; g < u.length; g++) {
            var m = f.get(u[g].tickValue);
            if (null != m) {
              v = (m + (c - 1) * g) % c;
              break;
            }
          }
        var y = i.toGlobalCoord(u[0].coord),
          b = o.getAreaStyle();
        for (s = Tt(s) ? s : [s], g = 1; g < u.length; g++) {
          var w = i.toGlobalCoord(u[g].coord),
            C = void 0,
            D = void 0,
            L = void 0,
            M = void 0;
          i.isHorizontal()
            ? ((D = l.y), (M = l.height), (y = (C = y) + (L = w - C)))
            : ((C = l.x), (L = l.width), (y = (D = y) + (M = w - D)));
          var E = u[g - 1].tickValue;
          null != E && d.set(E, v),
            e.add(
              new Rr({
                anid: null != E ? 'area_' + E : null,
                shape: { x: C, y: D, width: L, height: M },
                style: Ot({ fill: s[v] }, b),
                autoBatch: !0,
                silent: !0,
              })
            ),
            (v = (v + 1) % c);
        }
        D1(r).splitAreaColors = d;
      }
    }
  }
  function dA(r) {
    D1(r).splitAreaColors = null;
  }
  var p5 = ['axisLine', 'axisTickLabel', 'axisName'],
    g5 = ['splitArea', 'splitLine', 'minorSplitLine'],
    vA = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (
          (t.type = e.type), (t.axisPointerClass = 'CartesianAxisPointer'), t
        );
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i, a) {
          this.group.removeAll();
          var o = this._axisGroup;
          if (
            ((this._axisGroup = new Qe()),
            this.group.add(this._axisGroup),
            t.get('show'))
          ) {
            var s = t.getCoordSysModel(),
              l = y1(s, t),
              u = new va(
                t,
                nt(
                  {
                    handleAutoShown: function (f) {
                      for (
                        var d = s.coordinateSystem.getCartesians(), v = 0;
                        v < d.length;
                        v++
                      )
                        if (F0(d[v].getOtherAxis(t.axis).scale)) return !0;
                      return !1;
                    },
                  },
                  l
                )
              );
            F(p5, u.add, u),
              this._axisGroup.add(u.getGroup()),
              F(
                g5,
                function (f) {
                  t.get([f, 'show']) && m5[f](this, this._axisGroup, t, s);
                },
                this
              ),
              (a && 'changeAxisOrder' === a.type && a.isInitSort) ||
                sd(o, this._axisGroup, t),
              r.prototype.render.call(this, t, n, i, a);
          }
        }),
        (e.prototype.remove = function () {
          dA(this);
        }),
        (e.type = 'cartesianAxis'),
        e
      );
    })(Ec),
    m5 = {
      splitLine: function (r, e, t, n) {
        var i = t.axis;
        if (!i.scale.isBlank()) {
          var a = t.getModel('splitLine'),
            o = a.getModel('lineStyle'),
            s = o.get('color');
          s = Tt(s) ? s : [s];
          for (
            var l = n.coordinateSystem.getRect(),
              u = i.isHorizontal(),
              c = 0,
              f = i.getTicksCoords({ tickModel: a }),
              d = [],
              v = [],
              g = o.getLineStyle(),
              m = 0;
            m < f.length;
            m++
          ) {
            var y = i.toGlobalCoord(f[m].coord);
            u
              ? ((d[0] = y), (d[1] = l.y), (v[0] = y), (v[1] = l.y + l.height))
              : ((d[0] = l.x), (d[1] = y), (v[0] = l.x + l.width), (v[1] = y));
            var b = c++ % s.length,
              C = new Jn({
                anid: null != f[m].tickValue ? 'line_' + f[m].tickValue : null,
                autoBatch: !0,
                shape: { x1: d[0], y1: d[1], x2: v[0], y2: v[1] },
                style: Ot({ stroke: s[b] }, g),
                silent: !0,
              });
            Af(C.shape, g.lineWidth), e.add(C);
          }
        }
      },
      minorSplitLine: function (r, e, t, n) {
        var i = t.axis,
          o = t.getModel('minorSplitLine').getModel('lineStyle'),
          s = n.coordinateSystem.getRect(),
          l = i.isHorizontal(),
          u = i.getMinorTicksCoords();
        if (u.length)
          for (
            var c = [], f = [], d = o.getLineStyle(), v = 0;
            v < u.length;
            v++
          )
            for (var g = 0; g < u[v].length; g++) {
              var m = i.toGlobalCoord(u[v][g].coord);
              l
                ? ((c[0] = m),
                  (c[1] = s.y),
                  (f[0] = m),
                  (f[1] = s.y + s.height))
                : ((c[0] = s.x),
                  (c[1] = m),
                  (f[0] = s.x + s.width),
                  (f[1] = m));
              var y = new Jn({
                anid: 'minor_line_' + u[v][g].tickValue,
                autoBatch: !0,
                shape: { x1: c[0], y1: c[1], x2: f[0], y2: f[1] },
                style: d,
                silent: !0,
              });
              Af(y.shape, d.lineWidth), e.add(y);
            }
      },
      splitArea: function (r, e, t, n) {
        hA(r, e, t, n);
      },
    },
    pA = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return ut(e, r), (e.type = 'xAxis'), e;
    })(vA),
    y5 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = pA.type), t;
      }
      return ut(e, r), (e.type = 'yAxis'), e;
    })(vA),
    x5 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = 'grid'), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n) {
          this.group.removeAll(),
            t.get('show') &&
              this.group.add(
                new Rr({
                  shape: t.coordinateSystem.getRect(),
                  style: Ot(
                    { fill: t.get('backgroundColor') },
                    t.getItemStyle()
                  ),
                  silent: !0,
                  z2: -1,
                })
              );
        }),
        (e.type = 'grid'),
        e
      );
    })(fn),
    gA = { offset: 0 };
  function mA(r) {
    r.registerComponentView(x5),
      r.registerComponentModel(X3),
      r.registerCoordinateSystem('cartesian2d', e5),
      Jf(r, 'x', p1, gA),
      Jf(r, 'y', p1, gA),
      r.registerComponentView(pA),
      r.registerComponentView(y5),
      r.registerPreprocessor(function (e) {
        e.xAxis && e.yAxis && !e.grid && (e.grid = {});
      });
  }
  function _5(r) {
    r.eachSeriesByType('radar', function (e) {
      var t = e.getData(),
        n = [],
        i = e.coordinateSystem;
      if (i) {
        var a = i.getIndicatorAxes();
        F(a, function (o, s) {
          t.each(t.mapDimension(a[s].dim), function (l, u) {
            n[u] = n[u] || [];
            var c = i.dataToPoint(l, s);
            n[u][s] = yA(c) ? c : xA(i);
          });
        }),
          t.each(function (o) {
            var s =
              Ar(n[o], function (l) {
                return yA(l);
              }) || xA(i);
            n[o].push(s.slice()), t.setItemLayout(o, n[o]);
          });
      }
    });
  }
  function yA(r) {
    return !isNaN(r[0]) && !isNaN(r[1]);
  }
  function xA(r) {
    return [r.cx, r.cy];
  }
  function S5(r) {
    var e = r.polar;
    if (e) {
      Tt(e) || (e = [e]);
      var t = [];
      F(e, function (n, i) {
        n.indicator
          ? (n.type && !n.shape && (n.shape = n.type),
            (r.radar = r.radar || []),
            Tt(r.radar) || (r.radar = [r.radar]),
            r.radar.push(n))
          : t.push(n);
      }),
        (r.polar = t);
    }
    F(r.series, function (n) {
      n && 'radar' === n.type && n.polarIndex && (n.radarIndex = n.polarIndex);
    });
  }
  var w5 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i) {
          var a = t.coordinateSystem,
            o = this.group,
            s = t.getData(),
            l = this._data;
          function u(d, v) {
            var g = d.getItemVisual(v, 'symbol') || 'circle';
            if ('none' !== g) {
              var m = Gf(d.getItemVisual(v, 'symbolSize')),
                y = En(g, -1, -1, 2, 2),
                b = d.getItemVisual(v, 'symbolRotate') || 0;
              return (
                y.attr({
                  style: { strokeNoScale: !0 },
                  z2: 100,
                  scaleX: m[0] / 2,
                  scaleY: m[1] / 2,
                  rotation: (b * Math.PI) / 180 || 0,
                }),
                y
              );
            }
          }
          function c(d, v, g, m, y, b) {
            g.removeAll();
            for (var w = 0; w < v.length - 1; w++) {
              var C = u(m, y);
              C &&
                ((C.__dimIdx = w),
                d[w]
                  ? (C.setPosition(d[w]),
                    ud[b ? 'initProps' : 'updateProps'](
                      C,
                      { x: v[w][0], y: v[w][1] },
                      t,
                      y
                    ))
                  : C.setPosition(v[w]),
                g.add(C));
            }
          }
          function f(d) {
            return Ut(d, function (v) {
              return [a.cx, a.cy];
            });
          }
          s
            .diff(l)
            .add(function (d) {
              var v = s.getItemLayout(d);
              if (v) {
                var g = new Wi(),
                  m = new $i(),
                  y = { shape: { points: v } };
                (g.shape.points = f(v)),
                  (m.shape.points = f(v)),
                  pn(g, y, t, d),
                  pn(m, y, t, d);
                var b = new Qe(),
                  w = new Qe();
                b.add(m),
                  b.add(g),
                  b.add(w),
                  c(m.shape.points, v, w, s, d, !0),
                  s.setItemGraphicEl(d, b);
              }
            })
            .update(function (d, v) {
              var g = l.getItemGraphicEl(v),
                m = g.childAt(0),
                y = g.childAt(1),
                b = g.childAt(2),
                w = { shape: { points: s.getItemLayout(d) } };
              w.shape.points &&
                (c(m.shape.points, w.shape.points, b, s, d, !1),
                Ro(y),
                Ro(m),
                Wr(m, w, t),
                Wr(y, w, t),
                s.setItemGraphicEl(d, g));
            })
            .remove(function (d) {
              o.remove(l.getItemGraphicEl(d));
            })
            .execute(),
            s.eachItemGraphicEl(function (d, v) {
              var g = s.getItemModel(v),
                m = d.childAt(0),
                y = d.childAt(1),
                b = d.childAt(2),
                w = s.getItemVisual(v, 'style'),
                C = w.fill;
              o.add(d),
                m.useStyle(
                  Ot(g.getModel('lineStyle').getLineStyle(), {
                    fill: 'none',
                    stroke: C,
                  })
                ),
                wi(m, g, 'lineStyle'),
                wi(y, g, 'areaStyle');
              var D = g.getModel('areaStyle'),
                L = D.isEmpty() && D.parentModel.isEmpty();
              (y.ignore = L),
                F(['emphasis', 'select', 'blur'], function (O) {
                  var z = g.getModel([O, 'areaStyle']),
                    H = z.isEmpty() && z.parentModel.isEmpty();
                  y.ensureState(O).ignore = H && L;
                }),
                y.useStyle(
                  Ot(D.getAreaStyle(), {
                    fill: C,
                    opacity: 0.7,
                    decal: w.decal,
                  })
                );
              var M = g.getModel('emphasis'),
                E = M.getModel('itemStyle').getItemStyle();
              b.eachChild(function (O) {
                if (O instanceof ai) {
                  var z = O.style;
                  O.useStyle(
                    nt(
                      {
                        image: z.image,
                        x: z.x,
                        y: z.y,
                        width: z.width,
                        height: z.height,
                      },
                      w
                    )
                  );
                } else O.useStyle(w), O.setColor(C), (O.style.strokeNoScale = !0);
                O.ensureState('emphasis').style = ft(E);
                var G = s.getStore().get(s.getDimensionIndex(O.__dimIdx), v);
                (null == G || isNaN(G)) && (G = ''),
                  Ci(O, oi(g), {
                    labelFetcher: s.hostModel,
                    labelDataIndex: v,
                    labelDimIndex: O.__dimIdx,
                    defaultText: G,
                    inheritColor: C,
                    defaultOpacity: w.opacity,
                  });
              }),
                wn(d, M.get('focus'), M.get('blurScope'), M.get('disabled'));
            }),
            (this._data = s);
        }),
        (e.prototype.remove = function () {
          this.group.removeAll(), (this._data = null);
        }),
        (e.type = 'radar'),
        e
      );
    })(en),
    C5 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), (t.hasSymbolVisual = !0), t;
      }
      return (
        ut(e, r),
        (e.prototype.init = function (t) {
          r.prototype.init.apply(this, arguments),
            (this.legendVisualProvider = new Zd(
              kt(this.getData, this),
              kt(this.getRawData, this)
            ));
        }),
        (e.prototype.getInitialData = function (t, n) {
          return Qf(this, {
            generateCoord: 'indicator_',
            generateCoordCount: 1 / 0,
          });
        }),
        (e.prototype.formatTooltip = function (t, n, i) {
          var a = this.getData(),
            s = this.coordinateSystem.getIndicatorAxes(),
            l = this.getData().getName(t),
            u = '' === l ? this.name : l,
            c = Ow(this, t);
          return si('section', {
            header: u,
            sortBlocks: !0,
            blocks: Ut(s, function (f) {
              var d = a.get(a.mapDimension(f.dim), t);
              return si('nameValue', {
                markerType: 'subItem',
                markerColor: c,
                name: f.name,
                value: d,
                sortParam: d,
              });
            }),
          });
        }),
        (e.prototype.getTooltipPosition = function (t) {
          if (null != t)
            for (
              var n = this.getData(),
                i = this.coordinateSystem,
                a = n.getValues(
                  Ut(i.dimensions, function (u) {
                    return n.mapDimension(u);
                  }),
                  t
                ),
                o = 0,
                s = a.length;
              o < s;
              o++
            )
              if (!isNaN(a[o])) {
                var l = i.getIndicatorAxes();
                return i.coordToPoint(l[o].dataToCoord(a[o]), o);
              }
        }),
        (e.type = 'series.radar'),
        (e.dependencies = ['radar']),
        (e.defaultOption = {
          z: 2,
          colorBy: 'data',
          coordinateSystem: 'radar',
          legendHoverLink: !0,
          radarIndex: 0,
          lineStyle: { width: 2, type: 'solid', join: 'round' },
          label: { position: 'top' },
          symbolSize: 8,
        }),
        e
      );
    })(nn),
    jd = tA.value;
  function Fg(r, e) {
    return Ot({ show: e }, r);
  }
  var D5 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.optionUpdated = function () {
          var t = this.get('boundaryGap'),
            n = this.get('splitNumber'),
            i = this.get('scale'),
            a = this.get('axisLine'),
            o = this.get('axisTick'),
            s = this.get('axisLabel'),
            l = this.get('axisName'),
            u = this.get(['axisName', 'show']),
            c = this.get(['axisName', 'formatter']),
            f = this.get('axisNameGap'),
            d = this.get('triggerEvent'),
            v = Ut(
              this.get('indicator') || [],
              function (g) {
                null != g.max && g.max > 0 && !g.min
                  ? (g.min = 0)
                  : null != g.min && g.min < 0 && !g.max && (g.max = 0);
                var m = l;
                null != g.color && (m = Ot({ color: g.color }, l));
                var y = Gt(
                  ft(g),
                  {
                    boundaryGap: t,
                    splitNumber: n,
                    scale: i,
                    axisLine: a,
                    axisTick: o,
                    axisLabel: s,
                    name: g.text,
                    showName: u,
                    nameLocation: 'end',
                    nameGap: f,
                    nameTextStyle: m,
                    triggerEvent: d,
                  },
                  !1
                );
                ht(c)
                  ? (y.name = c.replace('{value}', y.name ?? ''))
                  : fe(c) && (y.name = c(y.name, y));
                var w = new Yr(y, null, this.ecModel);
                return (
                  Ee(w, qf.prototype),
                  (w.mainType = 'radar'),
                  (w.componentIndex = this.componentIndex),
                  w
                );
              },
              this
            );
          this._indicatorModels = v;
        }),
        (e.prototype.getIndicatorModels = function () {
          return this._indicatorModels;
        }),
        (e.type = 'radar'),
        (e.defaultOption = {
          z: 0,
          center: ['50%', '50%'],
          radius: '75%',
          startAngle: 90,
          axisName: { show: !0 },
          boundaryGap: [0, 0],
          splitNumber: 5,
          axisNameGap: 15,
          scale: !1,
          shape: 'polygon',
          axisLine: Gt({ lineStyle: { color: '#bbb' } }, jd.axisLine),
          axisLabel: Fg(jd.axisLabel, !1),
          axisTick: Fg(jd.axisTick, !1),
          splitLine: Fg(jd.splitLine, !0),
          splitArea: Fg(jd.splitArea, !0),
          indicator: [],
        }),
        e
      );
    })(br),
    T5 = ['axisLine', 'axisTickLabel', 'axisName'],
    A5 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i) {
          this.group.removeAll(),
            this._buildAxes(t),
            this._buildSplitLineAndArea(t);
        }),
        (e.prototype._buildAxes = function (t) {
          var n = t.coordinateSystem;
          F(
            Ut(n.getIndicatorAxes(), function (o) {
              var s = o.model.get('showName') ? o.name : '';
              return new va(o.model, {
                axisName: s,
                position: [n.cx, n.cy],
                rotation: o.angle,
                labelDirection: -1,
                tickDirection: -1,
                nameDirection: 1,
              });
            }),
            function (o) {
              F(T5, o.add, o), this.group.add(o.getGroup());
            },
            this
          );
        }),
        (e.prototype._buildSplitLineAndArea = function (t) {
          var n = t.coordinateSystem,
            i = n.getIndicatorAxes();
          if (i.length) {
            var a = t.get('shape'),
              o = t.getModel('splitLine'),
              s = t.getModel('splitArea'),
              l = o.getModel('lineStyle'),
              u = s.getModel('areaStyle'),
              c = o.get('show'),
              f = s.get('show'),
              d = l.get('color'),
              v = u.get('color'),
              g = Tt(d) ? d : [d],
              m = Tt(v) ? v : [v],
              y = [],
              b = [];
            if ('circle' === a)
              for (
                var C = i[0].getTicksCoords(), D = n.cx, L = n.cy, M = 0;
                M < C.length;
                M++
              )
                c &&
                  y[w(y, g, M)].push(
                    new to({ shape: { cx: D, cy: L, r: C[M].coord } })
                  ),
                  f &&
                    M < C.length - 1 &&
                    b[w(b, m, M)].push(
                      new Sf({
                        shape: {
                          cx: D,
                          cy: L,
                          r0: C[M].coord,
                          r: C[M + 1].coord,
                        },
                      })
                    );
            else {
              var O,
                z = Ut(i, function (ot, pt) {
                  var Xt = ot.getTicksCoords();
                  return (
                    (O =
                      null == O ? Xt.length - 1 : Math.min(Xt.length - 1, O)),
                    Ut(Xt, function (Vt) {
                      return n.coordToPoint(Vt.coord, pt);
                    })
                  );
                }),
                H = [];
              for (M = 0; M <= O; M++) {
                for (var G = [], X = 0; X < i.length; X++) G.push(z[X][M]);
                G[0]
                  ? G.push(G[0].slice())
                  : console.error("Can't draw value axis " + M),
                  c && y[w(y, g, M)].push(new $i({ shape: { points: G } })),
                  f &&
                    H &&
                    b[w(b, m, M - 1)].push(
                      new Wi({ shape: { points: G.concat(H) } })
                    ),
                  (H = G.slice().reverse());
              }
            }
            var K = l.getLineStyle(),
              tt = u.getAreaStyle();
            F(
              b,
              function (ot, pt) {
                this.group.add(
                  Ba(ot, {
                    style: Ot({ stroke: 'none', fill: m[pt % m.length] }, tt),
                    silent: !0,
                  })
                );
              },
              this
            ),
              F(
                y,
                function (ot, pt) {
                  this.group.add(
                    Ba(ot, {
                      style: Ot({ fill: 'none', stroke: g[pt % g.length] }, K),
                      silent: !0,
                    })
                  );
                },
                this
              );
          }
          function w(ot, pt, Xt) {
            var Vt = Xt % pt.length;
            return (ot[Vt] = ot[Vt] || []), Vt;
          }
        }),
        (e.type = 'radar'),
        e
      );
    })(fn),
    M5 = (function (r) {
      function e(t, n, i) {
        var a = r.call(this, t, n, i) || this;
        return (a.type = 'value'), (a.angle = 0), (a.name = ''), a;
      }
      return ut(e, r), e;
    })(lo),
    L5 = (function () {
      function r(e, t, n) {
        (this.dimensions = []),
          (this._model = e),
          (this._indicatorAxes = Ut(
            e.getIndicatorModels(),
            function (i, a) {
              var o = 'indicator_' + a,
                s = new M5(o, new al());
              return (
                (s.name = i.get('name')),
                (s.model = i),
                (i.axis = s),
                this.dimensions.push(o),
                s
              );
            },
            this
          )),
          this.resize(e, n);
      }
      return (
        (r.prototype.getIndicatorAxes = function () {
          return this._indicatorAxes;
        }),
        (r.prototype.dataToPoint = function (e, t) {
          return this.coordToPoint(this._indicatorAxes[t].dataToCoord(e), t);
        }),
        (r.prototype.coordToPoint = function (e, t) {
          var i = this._indicatorAxes[t].angle;
          return [this.cx + e * Math.cos(i), this.cy - e * Math.sin(i)];
        }),
        (r.prototype.pointToData = function (e) {
          var t = e[0] - this.cx,
            n = e[1] - this.cy,
            i = Math.sqrt(t * t + n * n);
          (t /= i), (n /= i);
          for (
            var s, a = Math.atan2(-n, t), o = 1 / 0, l = -1, u = 0;
            u < this._indicatorAxes.length;
            u++
          ) {
            var c = this._indicatorAxes[u],
              f = Math.abs(a - c.angle);
            f < o && ((s = c), (l = u), (o = f));
          }
          return [l, +(s && s.coordToData(i))];
        }),
        (r.prototype.resize = function (e, t) {
          var n = e.get('center'),
            i = t.getWidth(),
            a = t.getHeight(),
            o = Math.min(i, a) / 2;
          (this.cx = Te(n[0], i)),
            (this.cy = Te(n[1], a)),
            (this.startAngle = (e.get('startAngle') * Math.PI) / 180);
          var s = e.get('radius');
          (ht(s) || U(s)) && (s = [0, s]),
            (this.r0 = Te(s[0], o)),
            (this.r = Te(s[1], o)),
            F(
              this._indicatorAxes,
              function (l, u) {
                l.setExtent(this.r0, this.r);
                var c =
                  this.startAngle +
                  (u * Math.PI * 2) / this._indicatorAxes.length;
                (c = Math.atan2(Math.sin(c), Math.cos(c))), (l.angle = c);
              },
              this
            );
        }),
        (r.prototype.update = function (e, t) {
          var n = this._indicatorAxes,
            i = this._model;
          F(n, function (s) {
            s.scale.setExtent(1 / 0, -1 / 0);
          }),
            e.eachSeriesByType(
              'radar',
              function (s, l) {
                if (
                  'radar' === s.get('coordinateSystem') &&
                  e.getComponent('radar', s.get('radarIndex')) === i
                ) {
                  var u = s.getData();
                  F(n, function (c) {
                    c.scale.unionExtentFromData(u, u.mapDimension(c.dim));
                  });
                }
              },
              this
            );
          var a = i.get('splitNumber'),
            o = new al();
          o.setExtent(0, a),
            o.setInterval(1),
            F(n, function (s, l) {
              aA(s.scale, s.model, o);
            });
        }),
        (r.prototype.convertToPixel = function (e, t, n) {
          return console.warn('Not implemented.'), null;
        }),
        (r.prototype.convertFromPixel = function (e, t, n) {
          return console.warn('Not implemented.'), null;
        }),
        (r.prototype.containPoint = function (e) {
          return console.warn('Not implemented.'), !1;
        }),
        (r.create = function (e, t) {
          var n = [];
          return (
            e.eachComponent('radar', function (i) {
              var a = new r(i, e, t);
              n.push(a), (i.coordinateSystem = a);
            }),
            e.eachSeriesByType('radar', function (i) {
              'radar' === i.get('coordinateSystem') &&
                (i.coordinateSystem = n[i.get('radarIndex') || 0]);
            }),
            n
          );
        }),
        (r.dimensions = []),
        r
      );
    })();
  function I5(r) {
    r.registerCoordinateSystem('radar', L5),
      r.registerComponentModel(D5),
      r.registerComponentView(A5),
      r.registerVisual({
        seriesType: 'radar',
        reset: function (e) {
          var t = e.getData();
          t.each(function (n) {
            t.setItemVisual(n, 'legendIcon', 'roundRect');
          }),
            t.setVisual('legendIcon', 'roundRect');
        },
      });
  }
  var bA = '\0_ec_interaction_mutex';
  function _A(r, e) {
    return !!T1(r)[e];
  }
  function T1(r) {
    return r[bA] || (r[bA] = {});
  }
  Bo(
    { type: 'takeGlobalCursor', event: 'globalCursorTaken', update: 'update' },
    Ke
  );
  var Kd = (function (r) {
    function e(t) {
      var n = r.call(this) || this;
      n._zr = t;
      var i = kt(n._mousedownHandler, n),
        a = kt(n._mousemoveHandler, n),
        o = kt(n._mouseupHandler, n),
        s = kt(n._mousewheelHandler, n),
        l = kt(n._pinchHandler, n);
      return (
        (n.enable = function (u, c) {
          this.disable(),
            (this._opt = Ot(ft(c) || {}, {
              zoomOnMouseWheel: !0,
              moveOnMouseMove: !0,
              moveOnMouseWheel: !1,
              preventDefaultMouseMove: !0,
            })),
            null == u && (u = !0),
            (!0 === u || 'move' === u || 'pan' === u) &&
              (t.on('mousedown', i), t.on('mousemove', a), t.on('mouseup', o)),
            (!0 === u || 'scale' === u || 'zoom' === u) &&
              (t.on('mousewheel', s), t.on('pinch', l));
        }),
        (n.disable = function () {
          t.off('mousedown', i),
            t.off('mousemove', a),
            t.off('mouseup', o),
            t.off('mousewheel', s),
            t.off('pinch', l);
        }),
        n
      );
    }
    return (
      ut(e, r),
      (e.prototype.isDragging = function () {
        return this._dragging;
      }),
      (e.prototype.isPinching = function () {
        return this._pinching;
      }),
      (e.prototype.setPointerChecker = function (t) {
        this.pointerChecker = t;
      }),
      (e.prototype.dispose = function () {
        this.disable();
      }),
      (e.prototype._mousedownHandler = function (t) {
        if (!Ga(t)) {
          for (var n = t.target; n; ) {
            if (n.draggable) return;
            n = n.__hostTarget || n.parent;
          }
          var i = t.offsetX,
            a = t.offsetY;
          this.pointerChecker &&
            this.pointerChecker(t, i, a) &&
            ((this._x = i), (this._y = a), (this._dragging = !0));
        }
      }),
      (e.prototype._mousemoveHandler = function (t) {
        if (
          this._dragging &&
          Bg('moveOnMouseMove', t, this._opt) &&
          'pinch' !== t.gestureEvent &&
          !_A(this._zr, 'globalPan')
        ) {
          var n = t.offsetX,
            i = t.offsetY,
            a = this._x,
            o = this._y,
            s = n - a,
            l = i - o;
          (this._x = n),
            (this._y = i),
            this._opt.preventDefaultMouseMove && fi(t.event),
            SA(this, 'pan', 'moveOnMouseMove', t, {
              dx: s,
              dy: l,
              oldX: a,
              oldY: o,
              newX: n,
              newY: i,
              isAvailableBehavior: null,
            });
        }
      }),
      (e.prototype._mouseupHandler = function (t) {
        Ga(t) || (this._dragging = !1);
      }),
      (e.prototype._mousewheelHandler = function (t) {
        var n = Bg('zoomOnMouseWheel', t, this._opt),
          i = Bg('moveOnMouseWheel', t, this._opt),
          a = t.wheelDelta,
          o = Math.abs(a),
          s = t.offsetX,
          l = t.offsetY;
        if (0 !== a && (n || i)) {
          if (n) {
            var u = o > 3 ? 1.4 : o > 1 ? 1.2 : 1.1;
            A1(this, 'zoom', 'zoomOnMouseWheel', t, {
              scale: a > 0 ? u : 1 / u,
              originX: s,
              originY: l,
              isAvailableBehavior: null,
            });
          }
          if (i) {
            var f = Math.abs(a);
            A1(this, 'scrollMove', 'moveOnMouseWheel', t, {
              scrollDelta:
                (a > 0 ? 1 : -1) * (f > 3 ? 0.4 : f > 1 ? 0.15 : 0.05),
              originX: s,
              originY: l,
              isAvailableBehavior: null,
            });
          }
        }
      }),
      (e.prototype._pinchHandler = function (t) {
        _A(this._zr, 'globalPan') ||
          A1(this, 'zoom', null, t, {
            scale: t.pinchScale > 1 ? 1.1 : 1 / 1.1,
            originX: t.pinchX,
            originY: t.pinchY,
            isAvailableBehavior: null,
          });
      }),
      e
    );
  })(ci);
  function A1(r, e, t, n, i) {
    r.pointerChecker &&
      r.pointerChecker(n, i.originX, i.originY) &&
      (fi(n.event), SA(r, e, t, n, i));
  }
  function SA(r, e, t, n, i) {
    (i.isAvailableBehavior = kt(Bg, null, t, n)), r.trigger(e, i);
  }
  function Bg(r, e, t) {
    var n = t[r];
    return !r || (n && (!ht(n) || e.event[n + 'Key']));
  }
  function M1(r, e, t) {
    var n = r.target;
    (n.x += e), (n.y += t), n.dirty();
  }
  function L1(r, e, t, n) {
    var i = r.target,
      a = r.zoomLimit,
      o = (r.zoom = r.zoom || 1);
    if (((o *= e), a)) {
      var s = a.min || 0;
      o = Math.max(Math.min(a.max || 1 / 0, o), s);
    }
    var u = o / r.zoom;
    (r.zoom = o),
      (i.x -= (t - i.x) * (u - 1)),
      (i.y -= (n - i.y) * (u - 1)),
      (i.scaleX *= u),
      (i.scaleY *= u),
      i.dirty();
  }
  var R5 = { axisPointer: 1, tooltip: 1, brush: 1 };
  function Ng(r, e, t) {
    var n = e.getComponentByElement(r.topTarget),
      i = n && n.coordinateSystem;
    return n && n !== t && !R5.hasOwnProperty(n.mainType) && i && i.model !== t;
  }
  function wA(r) {
    ht(r) && (r = new DOMParser().parseFromString(r, 'text/xml'));
    var t = r;
    for (
      9 === t.nodeType && (t = t.firstChild);
      'svg' !== t.nodeName.toLowerCase() || 1 !== t.nodeType;

    )
      t = t.nextSibling;
    return t;
  }
  var I1,
    zg = {
      fill: 'fill',
      stroke: 'stroke',
      'stroke-width': 'lineWidth',
      opacity: 'opacity',
      'fill-opacity': 'fillOpacity',
      'stroke-opacity': 'strokeOpacity',
      'stroke-dasharray': 'lineDash',
      'stroke-dashoffset': 'lineDashOffset',
      'stroke-linecap': 'lineCap',
      'stroke-linejoin': 'lineJoin',
      'stroke-miterlimit': 'miterLimit',
      'font-family': 'fontFamily',
      'font-size': 'fontSize',
      'font-style': 'fontStyle',
      'font-weight': 'fontWeight',
      'text-anchor': 'textAlign',
      visibility: 'visibility',
      display: 'display',
    },
    CA = Ne(zg),
    Vg = { 'alignment-baseline': 'textBaseline', 'stop-color': 'stopColor' },
    DA = Ne(Vg),
    O5 = (function () {
      function r() {
        (this._defs = {}), (this._root = null);
      }
      return (
        (r.prototype.parse = function (e, t) {
          t = t || {};
          var n = wA(e);
          if (!n) throw new Error('Illegal svg');
          this._defsUsePending = [];
          var i = new Qe();
          this._root = i;
          var c,
            f,
            a = [],
            o = n.getAttribute('viewBox') || '',
            s = parseFloat(n.getAttribute('width') || t.width),
            l = parseFloat(n.getAttribute('height') || t.height);
          isNaN(s) && (s = null),
            isNaN(l) && (l = null),
            za(n, i, null, !0, !1);
          for (var u = n.firstChild; u; )
            this._parseNode(u, i, a, null, !1, !1), (u = u.nextSibling);
          if (
            ((function N5(r, e) {
              for (var t = 0; t < e.length; t++) {
                var n = e[t];
                n[0].style[n[1]] = r[n[2]];
              }
            })(this._defs, this._defsUsePending),
            (this._defsUsePending = []),
            o)
          ) {
            var d = Hg(o);
            d.length >= 4 &&
              (c = {
                x: parseFloat(d[0] || 0),
                y: parseFloat(d[1] || 0),
                width: parseFloat(d[2]),
                height: parseFloat(d[3]),
              });
          }
          if (
            c &&
            null != s &&
            null != l &&
            ((f = PA(c, { x: 0, y: 0, width: s, height: l })), !t.ignoreViewBox)
          ) {
            var v = i;
            (i = new Qe()).add(v),
              (v.scaleX = v.scaleY = f.scale),
              (v.x = f.x),
              (v.y = f.y);
          }
          return (
            !t.ignoreRootClip &&
              null != s &&
              null != l &&
              i.setClipPath(
                new Rr({ shape: { x: 0, y: 0, width: s, height: l } })
              ),
            {
              root: i,
              width: s,
              height: l,
              viewBoxRect: c,
              viewBoxTransform: f,
              named: a,
            }
          );
        }),
        (r.prototype._parseNode = function (e, t, n, i, a, o) {
          var l,
            s = e.nodeName.toLowerCase(),
            u = i;
          if (
            ('defs' === s && (a = !0),
            'text' === s && (o = !0),
            'defs' === s || 'switch' === s)
          )
            l = t;
          else {
            if (!a) {
              var c = I1[s];
              if (c && ce(I1, s)) {
                l = c.call(this, e, t);
                var f = e.getAttribute('name');
                if (f) {
                  var d = {
                    name: f,
                    namedFrom: null,
                    svgNodeTagLower: s,
                    el: l,
                  };
                  n.push(d), 'g' === s && (u = d);
                } else
                  i &&
                    n.push({
                      name: i.name,
                      namedFrom: i,
                      svgNodeTagLower: s,
                      el: l,
                    });
                t.add(l);
              }
            }
            var v = TA[s];
            if (v && ce(TA, s)) {
              var g = v.call(this, e),
                m = e.getAttribute('id');
              m && (this._defs[m] = g);
            }
          }
          if (l && l.isGroup)
            for (var y = e.firstChild; y; )
              1 === y.nodeType
                ? this._parseNode(y, l, n, u, a, o)
                : 3 === y.nodeType && o && this._parseText(y, l),
                (y = y.nextSibling);
        }),
        (r.prototype._parseText = function (e, t) {
          var n = new gf({
            style: { text: e.textContent },
            silent: !0,
            x: this._textX || 0,
            y: this._textY || 0,
          });
          co(t, n),
            za(e, n, this._defsUsePending, !1, !1),
            (function F5(r, e) {
              var t = e.__selfStyle;
              if (t) {
                var n = t.textBaseline,
                  i = n;
                n && 'auto' !== n && 'baseline' !== n
                  ? 'before-edge' === n || 'text-before-edge' === n
                    ? (i = 'top')
                    : 'after-edge' === n || 'text-after-edge' === n
                    ? (i = 'bottom')
                    : ('central' === n || 'mathematical' === n) &&
                      (i = 'middle')
                  : (i = 'alphabetic'),
                  (r.style.textBaseline = i);
              }
              var a = e.__inheritedStyle;
              if (a) {
                var o = a.textAlign,
                  s = o;
                o &&
                  ('middle' === o && (s = 'center'), (r.style.textAlign = s));
              }
            })(n, t);
          var i = n.style,
            a = i.fontSize;
          a &&
            a < 9 &&
            ((i.fontSize = 9), (n.scaleX *= a / 9), (n.scaleY *= a / 9));
          var o =
            (i.fontSize || i.fontFamily) &&
            [
              i.fontStyle,
              i.fontWeight,
              (i.fontSize || 12) + 'px',
              i.fontFamily || 'sans-serif',
            ].join(' ');
          i.font = o;
          var s = n.getBoundingRect();
          return (this._textX += s.width), t.add(n), n;
        }),
        (r.internalField = void (I1 = {
          g: function (e, t) {
            var n = new Qe();
            return co(t, n), za(e, n, this._defsUsePending, !1, !1), n;
          },
          rect: function (e, t) {
            var n = new Rr();
            return (
              co(t, n),
              za(e, n, this._defsUsePending, !1, !1),
              n.setShape({
                x: parseFloat(e.getAttribute('x') || '0'),
                y: parseFloat(e.getAttribute('y') || '0'),
                width: parseFloat(e.getAttribute('width') || '0'),
                height: parseFloat(e.getAttribute('height') || '0'),
              }),
              (n.silent = !0),
              n
            );
          },
          circle: function (e, t) {
            var n = new to();
            return (
              co(t, n),
              za(e, n, this._defsUsePending, !1, !1),
              n.setShape({
                cx: parseFloat(e.getAttribute('cx') || '0'),
                cy: parseFloat(e.getAttribute('cy') || '0'),
                r: parseFloat(e.getAttribute('r') || '0'),
              }),
              (n.silent = !0),
              n
            );
          },
          line: function (e, t) {
            var n = new Jn();
            return (
              co(t, n),
              za(e, n, this._defsUsePending, !1, !1),
              n.setShape({
                x1: parseFloat(e.getAttribute('x1') || '0'),
                y1: parseFloat(e.getAttribute('y1') || '0'),
                x2: parseFloat(e.getAttribute('x2') || '0'),
                y2: parseFloat(e.getAttribute('y2') || '0'),
              }),
              (n.silent = !0),
              n
            );
          },
          ellipse: function (e, t) {
            var n = new ed();
            return (
              co(t, n),
              za(e, n, this._defsUsePending, !1, !1),
              n.setShape({
                cx: parseFloat(e.getAttribute('cx') || '0'),
                cy: parseFloat(e.getAttribute('cy') || '0'),
                rx: parseFloat(e.getAttribute('rx') || '0'),
                ry: parseFloat(e.getAttribute('ry') || '0'),
              }),
              (n.silent = !0),
              n
            );
          },
          polygon: function (e, t) {
            var i,
              n = e.getAttribute('points');
            n && (i = LA(n));
            var a = new Wi({ shape: { points: i || [] }, silent: !0 });
            return co(t, a), za(e, a, this._defsUsePending, !1, !1), a;
          },
          polyline: function (e, t) {
            var i,
              n = e.getAttribute('points');
            n && (i = LA(n));
            var a = new $i({ shape: { points: i || [] }, silent: !0 });
            return co(t, a), za(e, a, this._defsUsePending, !1, !1), a;
          },
          image: function (e, t) {
            var n = new ai();
            return (
              co(t, n),
              za(e, n, this._defsUsePending, !1, !1),
              n.setStyle({
                image: e.getAttribute('xlink:href') || e.getAttribute('href'),
                x: +e.getAttribute('x'),
                y: +e.getAttribute('y'),
                width: +e.getAttribute('width'),
                height: +e.getAttribute('height'),
              }),
              (n.silent = !0),
              n
            );
          },
          text: function (e, t) {
            var n = e.getAttribute('x') || '0',
              i = e.getAttribute('y') || '0',
              a = e.getAttribute('dx') || '0',
              o = e.getAttribute('dy') || '0';
            (this._textX = parseFloat(n) + parseFloat(a)),
              (this._textY = parseFloat(i) + parseFloat(o));
            var s = new Qe();
            return co(t, s), za(e, s, this._defsUsePending, !1, !0), s;
          },
          tspan: function (e, t) {
            var n = e.getAttribute('x'),
              i = e.getAttribute('y');
            null != n && (this._textX = parseFloat(n)),
              null != i && (this._textY = parseFloat(i));
            var a = e.getAttribute('dx') || '0',
              o = e.getAttribute('dy') || '0',
              s = new Qe();
            return (
              co(t, s),
              za(e, s, this._defsUsePending, !1, !0),
              (this._textX += parseFloat(a)),
              (this._textY += parseFloat(o)),
              s
            );
          },
          path: function (e, t) {
            var i = q_(e.getAttribute('d') || '');
            return (
              co(t, i),
              za(e, i, this._defsUsePending, !1, !1),
              (i.silent = !0),
              i
            );
          },
        })),
        r
      );
    })(),
    TA = {
      lineargradient: function (r) {
        var e = parseInt(r.getAttribute('x1') || '0', 10),
          t = parseInt(r.getAttribute('y1') || '0', 10),
          n = parseInt(r.getAttribute('x2') || '10', 10),
          i = parseInt(r.getAttribute('y2') || '0', 10),
          a = new Cf(e, t, n, i);
        return AA(r, a), MA(r, a), a;
      },
      radialgradient: function (r) {
        var e = parseInt(r.getAttribute('cx') || '0', 10),
          t = parseInt(r.getAttribute('cy') || '0', 10),
          n = parseInt(r.getAttribute('r') || '0', 10),
          i = new fy(e, t, n);
        return AA(r, i), MA(r, i), i;
      },
    };
  function AA(r, e) {
    'userSpaceOnUse' === r.getAttribute('gradientUnits') && (e.global = !0);
  }
  function MA(r, e) {
    for (var t = r.firstChild; t; ) {
      if (1 === t.nodeType && 'stop' === t.nodeName.toLocaleLowerCase()) {
        var i,
          n = t.getAttribute('offset');
        i =
          n && n.indexOf('%') > 0
            ? parseInt(n, 10) / 100
            : n
            ? parseFloat(n)
            : 0;
        var a = {};
        EA(t, a, a);
        var o = a.stopColor || t.getAttribute('stop-color') || '#000000';
        e.colorStops.push({ offset: i, color: o });
      }
      t = t.nextSibling;
    }
  }
  function co(r, e) {
    r &&
      r.__inheritedStyle &&
      (e.__inheritedStyle || (e.__inheritedStyle = {}),
      Ot(e.__inheritedStyle, r.__inheritedStyle));
  }
  function LA(r) {
    for (var e = Hg(r), t = [], n = 0; n < e.length; n += 2) {
      var i = parseFloat(e[n]),
        a = parseFloat(e[n + 1]);
      t.push([i, a]);
    }
    return t;
  }
  function za(r, e, t, n, i) {
    var a = e,
      o = (a.__inheritedStyle = a.__inheritedStyle || {}),
      s = {};
    1 === r.nodeType &&
      ((function H5(r, e) {
        var t = r.getAttribute('transform');
        if (t) {
          t = t.replace(/,/g, ' ');
          var n = [],
            i = null;
          t.replace(V5, function (f, d, v) {
            return n.push(d, v), '';
          });
          for (var a = n.length - 1; a > 0; a -= 2) {
            var s = n[a - 1],
              l = Hg(n[a]);
            switch (((i = i || [1, 0, 0, 1, 0, 0]), s)) {
              case 'translate':
                Ri(i, i, [parseFloat(l[0]), parseFloat(l[1] || '0')]);
                break;
              case 'scale':
                yo(i, i, [parseFloat(l[0]), parseFloat(l[1] || l[0])]);
                break;
              case 'rotate':
                ka(i, i, -parseFloat(l[0]) * k1);
                break;
              case 'skewX':
                Pi(i, [1, 0, Math.tan(parseFloat(l[0]) * k1), 1, 0, 0], i);
                break;
              case 'skewY':
                Pi(i, [1, Math.tan(parseFloat(l[0]) * k1), 0, 1, 0, 0], i);
                break;
              case 'matrix':
                (i[0] = parseFloat(l[0])),
                  (i[1] = parseFloat(l[1])),
                  (i[2] = parseFloat(l[2])),
                  (i[3] = parseFloat(l[3])),
                  (i[4] = parseFloat(l[4])),
                  (i[5] = parseFloat(l[5]));
            }
          }
          e.setLocalTransform(i);
        }
      })(r, e),
      EA(r, o, s),
      n ||
        (function G5(r, e, t) {
          for (var n = 0; n < CA.length; n++)
            null != (a = r.getAttribute((i = CA[n]))) && (e[zg[i]] = a);
          for (n = 0; n < DA.length; n++) {
            var i, a;
            null != (a = r.getAttribute((i = DA[n]))) && (t[Vg[i]] = a);
          }
        })(r, o, s)),
      (a.style = a.style || {}),
      null != o.fill && (a.style.fill = IA(a, 'fill', o.fill, t)),
      null != o.stroke && (a.style.stroke = IA(a, 'stroke', o.stroke, t)),
      F(
        [
          'lineWidth',
          'opacity',
          'fillOpacity',
          'strokeOpacity',
          'miterLimit',
          'fontSize',
        ],
        function (l) {
          null != o[l] && (a.style[l] = parseFloat(o[l]));
        }
      ),
      F(
        [
          'lineDashOffset',
          'lineCap',
          'lineJoin',
          'fontWeight',
          'fontFamily',
          'fontStyle',
          'textAlign',
        ],
        function (l) {
          null != o[l] && (a.style[l] = o[l]);
        }
      ),
      i && (a.__selfStyle = s),
      o.lineDash &&
        (a.style.lineDash = Ut(Hg(o.lineDash), function (l) {
          return parseFloat(l);
        })),
      ('hidden' === o.visibility || 'collapse' === o.visibility) &&
        (a.invisible = !0),
      'none' === o.display && (a.ignore = !0);
  }
  var B5 = /^url\(\s*#(.*?)\)/;
  function IA(r, e, t, n) {
    var i = t && t.match(B5);
    if (!i) return 'none' === t && (t = null), t;
    var a = Et(i[1]);
    n.push([r, e, a]);
  }
  var z5 = /-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;
  function Hg(r) {
    return r.match(z5) || [];
  }
  var V5 = /(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,
    k1 = Math.PI / 180,
    kA = /([^\s:;]+)\s*:\s*([^:;]+)/g;
  function EA(r, e, t) {
    var n = r.getAttribute('style');
    if (n) {
      kA.lastIndex = 0;
      for (var i; null != (i = kA.exec(n)); ) {
        var a = i[1],
          o = ce(zg, a) ? zg[a] : null;
        o && (e[o] = i[2]);
        var s = ce(Vg, a) ? Vg[a] : null;
        s && (t[s] = i[2]);
      }
    }
  }
  function PA(r, e) {
    var i = Math.min(e.width / r.width, e.height / r.height);
    return {
      scale: i,
      x: -(r.x + r.width / 2) * i + (e.x + e.width / 2),
      y: -(r.y + r.height / 2) * i + (e.y + e.height / 2),
    };
  }
  for (
    var $5 = Nt([
        'rect',
        'circle',
        'line',
        'ellipse',
        'polygon',
        'polyline',
        'path',
        'text',
        'tspan',
        'g',
      ]),
      U5 = (function () {
        function r(e, t) {
          (this.type = 'geoSVG'),
            (this._usedGraphicMap = Nt()),
            (this._freedGraphics = []),
            (this._mapName = e),
            (this._parsedXML = wA(t));
        }
        return (
          (r.prototype.load = function () {
            var e = this._firstGraphic;
            if (!e) {
              (e = this._firstGraphic = this._buildGraphic(this._parsedXML)),
                this._freedGraphics.push(e),
                (this._boundingRect = this._firstGraphic.boundingRect.clone());
              var t = (function X5(r) {
                  var e = [],
                    t = Nt();
                  return (
                    F(r, function (n) {
                      if (null == n.namedFrom) {
                        var i = new OB(n.name, n.el);
                        e.push(i), t.set(n.name, i);
                      }
                    }),
                    { regions: e, regionsMap: t }
                  );
                })(e.named),
                i = t.regionsMap;
              (this._regions = t.regions), (this._regionsMap = i);
            }
            return {
              boundingRect: this._boundingRect,
              regions: this._regions,
              regionsMap: this._regionsMap,
            };
          }),
          (r.prototype._buildGraphic = function (e) {
            var t, n;
            try {
              (t =
                (e &&
                  (function W5(r, e) {
                    return new O5().parse(r, e);
                  })(e, { ignoreViewBox: !0, ignoreRootClip: !0 })) ||
                {}),
                lt(null != (n = t.root));
            } catch (y) {
              throw new Error('Invalid svg format\n' + y.message);
            }
            var i = new Qe();
            i.add(n), (i.isGeoSVGGraphicRoot = !0);
            var a = t.width,
              o = t.height,
              s = t.viewBoxRect,
              l = this._boundingRect;
            if (!l) {
              var u = void 0,
                c = void 0,
                f = void 0,
                d = void 0;
              if (
                (null != a
                  ? ((u = 0), (f = a))
                  : s && ((u = s.x), (f = s.width)),
                null != o
                  ? ((c = 0), (d = o))
                  : s && ((c = s.y), (d = s.height)),
                null == u || null == c)
              ) {
                var v = n.getBoundingRect();
                null == u && ((u = v.x), (f = v.width)),
                  null == c && ((c = v.y), (d = v.height));
              }
              l = this._boundingRect = new it(u, c, f, d);
            }
            if (s) {
              var g = PA(s, l);
              (n.scaleX = n.scaleY = g.scale), (n.x = g.x), (n.y = g.y);
            }
            i.setClipPath(new Rr({ shape: l.plain() }));
            var m = [];
            return (
              F(t.named, function (y) {
                null != $5.get(y.svgNodeTagLower) &&
                  (m.push(y),
                  (function Y5(r) {
                    (r.silent = !1),
                      r.isGroup &&
                        r.traverse(function (e) {
                          e.silent = !1;
                        });
                  })(y.el));
              }),
              { root: i, boundingRect: l, named: m }
            );
          }),
          (r.prototype.useGraphic = function (e) {
            var t = this._usedGraphicMap,
              n = t.get(e);
            return (
              n ||
              ((n =
                this._freedGraphics.pop() ||
                this._buildGraphic(this._parsedXML)),
              t.set(e, n),
              n)
            );
          }),
          (r.prototype.freeGraphic = function (e) {
            var t = this._usedGraphicMap,
              n = t.get(e);
            n && (t.removeKey(e), this._freedGraphics.push(n));
          }),
          r
        );
      })(),
      E1 = [126, 25],
      Pc = [
        [
          [0, 3.5],
          [7, 11.2],
          [15, 11.9],
          [30, 7],
          [42, 0.7],
          [52, 0.7],
          [56, 7.7],
          [59, 0.7],
          [64, 0.7],
          [64, 0],
          [5, 0],
          [0, 3.5],
        ],
        [
          [13, 16.1],
          [19, 14.7],
          [16, 21.7],
          [11, 23.1],
          [13, 16.1],
        ],
        [
          [12, 32.2],
          [14, 38.5],
          [15, 38.5],
          [13, 32.2],
          [12, 32.2],
        ],
        [
          [16, 47.6],
          [12, 53.2],
          [13, 53.2],
          [18, 47.6],
          [16, 47.6],
        ],
        [
          [6, 64.4],
          [8, 70],
          [9, 70],
          [8, 64.4],
          [6, 64.4],
        ],
        [
          [23, 82.6],
          [29, 79.8],
          [30, 79.8],
          [25, 82.6],
          [23, 82.6],
        ],
        [
          [37, 70.7],
          [43, 62.3],
          [44, 62.3],
          [39, 70.7],
          [37, 70.7],
        ],
        [
          [48, 51.1],
          [51, 45.5],
          [53, 45.5],
          [50, 51.1],
          [48, 51.1],
        ],
        [
          [51, 35],
          [51, 28.7],
          [53, 28.7],
          [53, 35],
          [51, 35],
        ],
        [
          [52, 22.4],
          [55, 17.5],
          [56, 17.5],
          [53, 22.4],
          [52, 22.4],
        ],
        [
          [58, 12.6],
          [62, 7],
          [63, 7],
          [60, 12.6],
          [58, 12.6],
        ],
        [
          [0, 3.5],
          [0, 93.1],
          [64, 93.1],
          [64, 0],
          [63, 0],
          [63, 92.4],
          [1, 92.4],
          [1, 3.5],
          [0, 3.5],
        ],
      ],
      Rc = 0;
    Rc < Pc.length;
    Rc++
  )
    for (var th = 0; th < Pc[Rc].length; th++)
      (Pc[Rc][th][0] /= 10.5),
        (Pc[Rc][th][1] /= -14),
        (Pc[Rc][th][0] += E1[0]),
        (Pc[Rc][th][1] += E1[1]);
  var q5 = {
      : [32, 80],
      : [0, -10],
      : [10, 5],
      : [-10, 10],
      : [5, 5],
    },
    K5 = [
      [
        [123.45165252685547, 25.73527164402261],
        [123.49731445312499, 25.73527164402261],
        [123.49731445312499, 25.750734064600884],
        [123.45165252685547, 25.750734064600884],
        [123.45165252685547, 25.73527164402261],
      ],
    ],
    tz = (function () {
      function r(e, t, n) {
        (this.type = 'geoJSON'),
          (this._parsedMap = Nt()),
          (this._mapName = e),
          (this._specialAreas = n),
          (this._geoJSON = (function rz(r) {
            return ht(r)
              ? typeof JSON < 'u' && JSON.parse
                ? JSON.parse(r)
                : new Function('return (' + r + ');')()
              : r;
          })(t));
      }
      return (
        (r.prototype.load = function (e, t) {
          var n = this._parsedMap.get((t = t || 'name'));
          if (!n) {
            var i = this._parseToRegions(t);
            n = this._parsedMap.set(t, { regions: i, boundingRect: ez(i) });
          }
          var a = Nt(),
            o = [];
          return (
            F(n.regions, function (s) {
              var l = s.name;
              e && ce(e, l) && (s = s.cloneShallow((l = e[l]))),
                o.push(s),
                a.set(l, s);
            }),
            {
              regions: o,
              boundingRect: n.boundingRect || new it(0, 0, 0, 0),
              regionsMap: a,
            }
          );
        }),
        (r.prototype._parseToRegions = function (e) {
          var i,
            t = this._mapName,
            n = this._geoJSON;
          try {
            i = n ? X0(n, e) : [];
          } catch (a) {
            throw new Error('Invalid geoJson format\n' + a.message);
          }
          return (
            (function Z5(r, e) {
              if ('china' === r) {
                for (var t = 0; t < e.length; t++)
                  if ('\u5357\u6d77\u8bf8\u5c9b' === e[t].name) return;
                e.push(
                  new AD(
                    '\u5357\u6d77\u8bf8\u5c9b',
                    Ut(Pc, function (n) {
                      return { type: 'polygon', exterior: n };
                    }),
                    E1
                  )
                );
              }
            })(t, i),
            F(
              i,
              function (a) {
                var o = a.name;
                (function j5(r, e) {
                  if ('china' === r) {
                    var t = q5[e.name];
                    if (t) {
                      var n = e.getCenter();
                      (n[0] += t[0] / 10.5),
                        (n[1] += -t[1] / 14),
                        e.setCenter(n);
                    }
                  }
                })(t, a),
                  (function Q5(r, e) {
                    'china' === r &&
                      '\u53f0\u6e7e' === e.name &&
                      e.geometries.push({ type: 'polygon', exterior: K5[0] });
                  })(t, a);
                var s = this._specialAreas && this._specialAreas[o];
                s && a.transformTo(s.left, s.top, s.width, s.height);
              },
              this
            ),
            i
          );
        }),
        (r.prototype.getMapForUser = function () {
          return {
            geoJson: this._geoJSON,
            geoJSON: this._geoJSON,
            specialAreas: this._specialAreas,
          };
        }),
        r
      );
    })();
  function ez(r) {
    for (var e, t = 0; t < r.length; t++) {
      var n = r[t].getBoundingRect();
      (e = e || n.clone()).union(n);
    }
    return e;
  }
  var Qd = Nt(),
    ol = {
      registerMap: function (r, e, t) {
        if (e.svg) {
          var n = new U5(r, e.svg);
          Qd.set(r, n);
        } else {
          var i = e.geoJson || e.geoJSON;
          i && !e.features ? (t = e.specialAreas) : (i = e),
            (n = new tz(r, i, t)),
            Qd.set(r, n);
        }
      },
      getGeoResource: function (r) {
        return Qd.get(r);
      },
      getMapForUser: function (r) {
        var e = Qd.get(r);
        return e && 'geoJSON' === e.type && e.getMapForUser();
      },
      load: function (r, e, t) {
        var n = Qd.get(r);
        if (n) return n.load(e, t);
        console.error(
          'Map ' + r + ' not exists. The GeoJSON of the map must be provided.'
        );
      },
    },
    P1 = ['rect', 'circle', 'line', 'ellipse', 'polygon', 'polyline', 'path'],
    nz = Nt(P1),
    iz = Nt(P1.concat(['g'])),
    az = Nt(P1.concat(['g'])),
    OA = S();
  function Gg(r) {
    var e = r.getItemStyle(),
      t = r.get('areaColor');
    return null != t && (e.fill = t), e;
  }
  function FA(r) {
    var e = r.style;
    e && ((e.stroke = e.stroke || e.fill), (e.fill = null));
  }
  var BA = (function () {
    function r(e) {
      var t = new Qe();
      (this.uid = kf('ec_map_draw')),
        (this._controller = new Kd(e.getZr())),
        (this._controllerHost = { target: t }),
        (this.group = t),
        t.add((this._regionsGroup = new Qe())),
        t.add((this._svgGroup = new Qe()));
    }
    return (
      (r.prototype.draw = function (e, t, n, i, a) {
        var o = 'geo' === e.mainType,
          s = e.getData && e.getData();
        o &&
          t.eachComponent({ mainType: 'series', subType: 'map' }, function (b) {
            !s && b.getHostGeoModel() === e && (s = b.getData());
          });
        var l = e.coordinateSystem,
          u = this._regionsGroup,
          c = this.group,
          f = l.getTransformInfo(),
          d = f.raw,
          v = f.roam;
        !u.childAt(0) || a
          ? ((c.x = v.x),
            (c.y = v.y),
            (c.scaleX = v.scaleX),
            (c.scaleY = v.scaleY),
            c.dirty())
          : Wr(c, v, e);
        var m =
            s &&
            s.getVisual('visualMeta') &&
            s.getVisual('visualMeta').length > 0,
          y = {
            api: n,
            geo: l,
            mapOrGeoModel: e,
            data: s,
            isVisualEncodedByVisualMap: m,
            isGeo: o,
            transformInfoRaw: d,
          };
        'geoJSON' === l.resourceType
          ? this._buildGeoJSON(y)
          : 'geoSVG' === l.resourceType && this._buildSVG(y),
          this._updateController(e, t, n),
          this._updateMapSelectHandler(e, u, n, i);
      }),
      (r.prototype._buildGeoJSON = function (e) {
        var t = (this._regionsGroupByName = Nt()),
          n = Nt(),
          i = this._regionsGroup,
          a = e.transformInfoRaw,
          o = e.mapOrGeoModel,
          s = e.data,
          l = e.geo.projection,
          u = l && l.stream;
        function c(v, g) {
          return (
            g && (v = g(v)), v && [v[0] * a.scaleX + a.x, v[1] * a.scaleY + a.y]
          );
        }
        function f(v) {
          for (var g = [], m = !u && l && l.project, y = 0; y < v.length; ++y) {
            var b = c(v[y], m);
            b && g.push(b);
          }
          return g;
        }
        function d(v) {
          return { shape: { points: f(v) } };
        }
        i.removeAll(),
          F(e.geo.regions, function (v) {
            var g = v.name,
              m = t.get(g),
              y = n.get(g) || {},
              b = y.dataIdx,
              w = y.regionModel;
            m ||
              ((m = t.set(g, new Qe())),
              i.add(m),
              (b = s ? s.indexOfName(g) : null),
              (w = e.isGeo
                ? o.getRegionModel(g)
                : s
                ? s.getItemModel(b)
                : null),
              n.set(g, { dataIdx: b, regionModel: w }));
            var C = [],
              D = [];
            F(v.geometries, function (E) {
              if ('polygon' === E.type) {
                var O = [E.exterior].concat(E.interiors || []);
                u && (O = WA(O, u)),
                  F(O, function (H) {
                    C.push(new Wi(d(H)));
                  });
              } else {
                var z = E.points;
                u && (z = WA(z, u, !0)),
                  F(z, function (H) {
                    D.push(new $i(d(H)));
                  });
              }
            });
            var L = c(v.getCenter(), l && l.project);
            function M(E, O) {
              if (E.length) {
                var z = new xp({
                  culling: !0,
                  segmentIgnoreThreshold: 1,
                  shape: { paths: E },
                });
                m.add(z),
                  NA(e, z, b, w),
                  zA(e, z, g, w, o, b, L),
                  O && (FA(z), F(z.states, FA));
              }
            }
            M(C), M(D, !0);
          }),
          t.each(function (v, g) {
            var m = n.get(g),
              b = m.regionModel;
            VA(e, v, g, b, o, m.dataIdx), HA(e, v, g, b, o), GA(e, v, g, b, o);
          }, this);
      }),
      (r.prototype._buildSVG = function (e) {
        var t = e.geo.map,
          n = e.transformInfoRaw;
        (this._svgGroup.x = n.x),
          (this._svgGroup.y = n.y),
          (this._svgGroup.scaleX = n.scaleX),
          (this._svgGroup.scaleY = n.scaleY),
          this._svgResourceChanged(t) && (this._freeSVG(), this._useSVG(t));
        var i = (this._svgDispatcherMap = Nt()),
          a = !1;
        F(
          this._svgGraphicRecord.named,
          function (o) {
            var s = o.name,
              l = e.mapOrGeoModel,
              u = e.data,
              c = o.svgNodeTagLower,
              f = o.el,
              d = u ? u.indexOfName(s) : null,
              v = l.getRegionModel(s);
            null != nz.get(c) && f instanceof sa && NA(e, f, d, v),
              f instanceof sa && (f.culling = !0),
              (f.z2EmphasisLift = 0),
              o.namedFrom ||
                (null != az.get(c) && zA(e, f, s, v, l, d, null),
                VA(e, f, s, v, l, d),
                HA(e, f, s, v, l),
                null == iz.get(c)) ||
                ('self' === GA(e, f, s, v, l) && (a = !0),
                (i.get(s) || i.set(s, [])).push(f));
          },
          this
        ),
          this._enableBlurEntireSVG(a, e);
      }),
      (r.prototype._enableBlurEntireSVG = function (e, t) {
        if (e && t.isGeo) {
          var i = t.mapOrGeoModel
            .getModel(['blur', 'itemStyle'])
            .getItemStyle().opacity;
          this._svgGraphicRecord.root.traverse(function (a) {
            if (!a.isGroup) {
              nc(a);
              var o = a.ensureState('blur').style || {};
              null == o.opacity && null != i && (o.opacity = i),
                a.ensureState('emphasis');
            }
          });
        }
      }),
      (r.prototype.remove = function () {
        this._regionsGroup.removeAll(),
          (this._regionsGroupByName = null),
          this._svgGroup.removeAll(),
          this._freeSVG(),
          this._controller.dispose(),
          (this._controllerHost = null);
      }),
      (r.prototype.findHighDownDispatchers = function (e, t) {
        if (null == e) return [];
        var n = t.coordinateSystem;
        if ('geoJSON' === n.resourceType) {
          var i = this._regionsGroupByName;
          if (i) {
            var a = i.get(e);
            return a ? [a] : [];
          }
        } else if ('geoSVG' === n.resourceType)
          return (
            (this._svgDispatcherMap && this._svgDispatcherMap.get(e)) || []
          );
      }),
      (r.prototype._svgResourceChanged = function (e) {
        return this._svgMapName !== e;
      }),
      (r.prototype._useSVG = function (e) {
        var t = ol.getGeoResource(e);
        if (t && 'geoSVG' === t.type) {
          var n = t.useGraphic(this.uid);
          this._svgGroup.add(n.root),
            (this._svgGraphicRecord = n),
            (this._svgMapName = e);
        }
      }),
      (r.prototype._freeSVG = function () {
        var e = this._svgMapName;
        if (null != e) {
          var t = ol.getGeoResource(e);
          t && 'geoSVG' === t.type && t.freeGraphic(this.uid),
            (this._svgGraphicRecord = null),
            (this._svgDispatcherMap = null),
            this._svgGroup.removeAll(),
            (this._svgMapName = null);
        }
      }),
      (r.prototype._updateController = function (e, t, n) {
        var i = e.coordinateSystem,
          a = this._controller,
          o = this._controllerHost;
        (o.zoomLimit = e.get('scaleLimit')),
          (o.zoom = i.getZoom()),
          a.enable(e.get('roam') || !1);
        var s = e.mainType;
        function l() {
          var u = { type: 'geoRoam', componentType: s };
          return (u[s + 'Id'] = e.id), u;
        }
        a.off('pan').on(
          'pan',
          function (u) {
            (this._mouseDownFlag = !1),
              M1(o, u.dx, u.dy),
              n.dispatchAction(
                nt(l(), { dx: u.dx, dy: u.dy, animation: { duration: 0 } })
              );
          },
          this
        ),
          a.off('zoom').on(
            'zoom',
            function (u) {
              (this._mouseDownFlag = !1),
                L1(o, u.scale, u.originX, u.originY),
                n.dispatchAction(
                  nt(l(), {
                    zoom: u.scale,
                    originX: u.originX,
                    originY: u.originY,
                    animation: { duration: 0 },
                  })
                );
            },
            this
          ),
          a.setPointerChecker(function (u, c, f) {
            return i.containPoint([c, f]) && !Ng(u, n, e);
          });
      }),
      (r.prototype.resetForLabelLayout = function () {
        this.group.traverse(function (e) {
          var t = e.getTextContent();
          t && (t.ignore = OA(t).ignore);
        });
      }),
      (r.prototype._updateMapSelectHandler = function (e, t, n, i) {
        var a = this;
        t.off('mousedown'),
          t.off('click'),
          e.get('selectedMode') &&
            (t.on('mousedown', function () {
              a._mouseDownFlag = !0;
            }),
            t.on('click', function (o) {
              a._mouseDownFlag && (a._mouseDownFlag = !1);
            }));
      }),
      r
    );
  })();
  function NA(r, e, t, n) {
    var i = n.getModel('itemStyle'),
      a = n.getModel(['emphasis', 'itemStyle']),
      o = n.getModel(['blur', 'itemStyle']),
      s = n.getModel(['select', 'itemStyle']),
      l = Gg(i),
      u = Gg(a),
      c = Gg(s),
      f = Gg(o),
      d = r.data;
    if (d) {
      var v = d.getItemVisual(t, 'style'),
        g = d.getItemVisual(t, 'decal');
      r.isVisualEncodedByVisualMap && v.fill && (l.fill = v.fill),
        g && (l.decal = $f(g, r.api));
    }
    e.setStyle(l),
      (e.style.strokeNoScale = !0),
      (e.ensureState('emphasis').style = u),
      (e.ensureState('select').style = c),
      (e.ensureState('blur').style = f),
      nc(e);
  }
  function zA(r, e, t, n, i, a, o) {
    var s = r.data,
      l = r.isGeo,
      u = s && isNaN(s.get(s.mapDimension('value'), a)),
      c = s && s.getItemLayout(a);
    if (l || u || (c && c.showLabel)) {
      var f = l ? t : a,
        d = void 0;
      (!s || a >= 0) && (d = i);
      var v = o
        ? { normal: { align: 'center', verticalAlign: 'middle' } }
        : null;
      Ci(e, oi(n), { labelFetcher: d, labelDataIndex: f, defaultText: t }, v);
      var g = e.getTextContent();
      if (g && ((OA(g).ignore = g.ignore), e.textConfig && o)) {
        var m = e.getBoundingRect().clone();
        (e.textConfig.layoutRect = m),
          (e.textConfig.position = [
            ((o[0] - m.x) / m.width) * 100 + '%',
            ((o[1] - m.y) / m.height) * 100 + '%',
          ]);
      }
      e.disableLabelAnimation = !0;
    } else e.removeTextContent(), e.removeTextConfig(), (e.disableLabelAnimation = null);
  }
  function VA(r, e, t, n, i, a) {
    r.data
      ? r.data.setItemGraphicEl(a, e)
      : (fr(e).eventData = {
          componentType: 'geo',
          componentIndex: i.componentIndex,
          geoIndex: i.componentIndex,
          name: t,
          region: (n && n.option) || {},
        });
  }
  function HA(r, e, t, n, i) {
    r.data ||
      Lf({
        el: e,
        componentModel: i,
        itemName: t,
        itemTooltipOption: n.get('tooltip'),
      });
  }
  function GA(r, e, t, n, i) {
    e.highDownSilentOnTouch = !!i.get('selectedMode');
    var a = n.getModel('emphasis'),
      o = a.get('focus');
    return (
      wn(e, o, a.get('blurScope'), a.get('disabled')),
      r.isGeo &&
        (function GE(r, e, t) {
          var n = fr(r);
          (n.componentMainType = e.mainType),
            (n.componentIndex = e.componentIndex),
            (n.componentHighDownName = t);
        })(e, i, t),
      o
    );
  }
  function WA(r, e, t) {
    var i,
      n = [];
    function a() {
      i = [];
    }
    function o() {
      i.length && (n.push(i), (i = []));
    }
    var s = e({
      polygonStart: a,
      polygonEnd: o,
      lineStart: a,
      lineEnd: o,
      point: function (l, u) {
        isFinite(l) && isFinite(u) && i.push([l, u]);
      },
      sphere: function () {},
    });
    return (
      !t && s.polygonStart(),
      F(r, function (l) {
        s.lineStart();
        for (var u = 0; u < l.length; u++) s.point(l[u][0], l[u][1]);
        s.lineEnd();
      }),
      !t && s.polygonEnd(),
      n
    );
  }
  var oz = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i, a) {
          if (!a || 'mapToggleSelect' !== a.type || a.from !== this.uid) {
            var o = this.group;
            if ((o.removeAll(), !t.getHostGeoModel())) {
              if (
                (this._mapDraw &&
                  a &&
                  'geoRoam' === a.type &&
                  this._mapDraw.resetForLabelLayout(),
                a &&
                  'geoRoam' === a.type &&
                  'series' === a.componentType &&
                  a.seriesId === t.id)
              )
                (s = this._mapDraw) && o.add(s.group);
              else if (t.needsDrawMap) {
                var s = this._mapDraw || new BA(i);
                o.add(s.group), s.draw(t, n, i, this, a), (this._mapDraw = s);
              } else
                this._mapDraw && this._mapDraw.remove(), (this._mapDraw = null);
              t.get('showLegendSymbol') &&
                n.getComponent('legend') &&
                this._renderSymbols(t, n, i);
            }
          }
        }),
        (e.prototype.remove = function () {
          this._mapDraw && this._mapDraw.remove(),
            (this._mapDraw = null),
            this.group.removeAll();
        }),
        (e.prototype.dispose = function () {
          this._mapDraw && this._mapDraw.remove(), (this._mapDraw = null);
        }),
        (e.prototype._renderSymbols = function (t, n, i) {
          var a = t.originalData,
            o = this.group;
          a.each(a.mapDimension('value'), function (s, l) {
            if (!isNaN(s)) {
              var u = a.getItemLayout(l);
              if (u && u.point) {
                var c = u.point,
                  f = u.offset,
                  d = new to({
                    style: { fill: t.getData().getVisual('style').fill },
                    shape: { cx: c[0] + 9 * f, cy: c[1], r: 3 },
                    silent: !0,
                    z2: 8 + (f ? 0 : yf + 1),
                  });
                if (!f) {
                  var v = t.mainSeries.getData(),
                    g = a.getName(l),
                    m = v.indexOfName(g),
                    y = a.getItemModel(l),
                    b = y.getModel('label'),
                    w = v.getItemGraphicEl(m);
                  Ci(d, oi(y), {
                    labelFetcher: {
                      getFormattedLabel: function (C, D) {
                        return t.getFormattedLabel(m, D);
                      },
                    },
                    defaultText: g,
                  }),
                    (d.disableLabelAnimation = !0),
                    b.get('position') ||
                      d.setTextConfig({ position: 'bottom' }),
                    (w.onHoverStateChange = function (C) {
                      pp(d, C);
                    });
                }
                o.add(d);
              }
            }
          });
        }),
        (e.type = 'map'),
        e
      );
    })(en),
    sz = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (
          (t.type = e.type),
          (t.needsDrawMap = !1),
          (t.seriesGroup = []),
          (t.getTooltipPosition = function (n) {
            if (null != n) {
              var i = this.getData().getName(n),
                a = this.coordinateSystem,
                o = a.getRegion(i);
              return o && a.dataToPoint(o.getCenter());
            }
          }),
          t
        );
      }
      return (
        ut(e, r),
        (e.prototype.getInitialData = function (t) {
          for (
            var n = Qf(this, {
                coordDimensions: ['value'],
                encodeDefaulter: me(Fy, this),
              }),
              i = Nt(),
              a = [],
              o = 0,
              s = n.count();
            o < s;
            o++
          ) {
            var l = n.getName(o);
            i.set(l, !0);
          }
          return (
            F(
              ol.load(
                this.getMapType(),
                this.option.nameMap,
                this.option.nameProperty
              ).regions,
              function (c) {
                var f = c.name;
                i.get(f) || a.push(f);
              }
            ),
            n.appendValues([], a),
            n
          );
        }),
        (e.prototype.getHostGeoModel = function () {
          var t = this.option.geoIndex;
          return null != t ? this.ecModel.getComponent('geo', t) : null;
        }),
        (e.prototype.getMapType = function () {
          return (this.getHostGeoModel() || this).option.map;
        }),
        (e.prototype.getRawValue = function (t) {
          var n = this.getData();
          return n.get(n.mapDimension('value'), t);
        }),
        (e.prototype.getRegionModel = function (t) {
          var n = this.getData();
          return n.getItemModel(n.indexOfName(t));
        }),
        (e.prototype.formatTooltip = function (t, n, i) {
          for (
            var a = this.getData(),
              o = this.getRawValue(t),
              s = a.getName(t),
              l = this.seriesGroup,
              u = [],
              c = 0;
            c < l.length;
            c++
          ) {
            var f = l[c].originalData.indexOfName(s),
              d = a.mapDimension('value');
            isNaN(l[c].originalData.get(d, f)) || u.push(l[c].name);
          }
          return si('section', {
            header: u.join(', '),
            noHeader: !u.length,
            blocks: [si('nameValue', { name: s, value: o })],
          });
        }),
        (e.prototype.setZoom = function (t) {
          this.option.zoom = t;
        }),
        (e.prototype.setCenter = function (t) {
          this.option.center = t;
        }),
        (e.prototype.getLegendIcon = function (t) {
          var n = t.icon || 'roundRect',
            i = En(n, 0, 0, t.itemWidth, t.itemHeight, t.itemStyle.fill);
          return (
            i.setStyle(t.itemStyle),
            (i.style.stroke = 'none'),
            n.indexOf('empty') > -1 &&
              ((i.style.stroke = i.style.fill),
              (i.style.fill = '#fff'),
              (i.style.lineWidth = 2)),
            i
          );
        }),
        (e.type = 'series.map'),
        (e.dependencies = ['geo']),
        (e.layoutMode = 'box'),
        (e.defaultOption = {
          z: 2,
          coordinateSystem: 'geo',
          map: '',
          left: 'center',
          top: 'center',
          aspectScale: null,
          showLegendSymbol: !0,
          boundingCoords: null,
          center: null,
          zoom: 1,
          scaleLimit: null,
          selectedMode: !0,
          label: { show: !1, color: '#000' },
          itemStyle: {
            borderWidth: 0.5,
            borderColor: '#444',
            areaColor: '#eee',
          },
          emphasis: {
            label: { show: !0, color: 'rgb(100,0,0)' },
            itemStyle: { areaColor: 'rgba(255,215,0,0.8)' },
          },
          select: {
            label: { show: !0, color: 'rgb(100,0,0)' },
            itemStyle: { color: 'rgba(255,215,0,0.8)' },
          },
          nameProperty: 'name',
        }),
        e
      );
    })(nn);
  function uz(r) {
    var e = {};
    r.eachSeriesByType('map', function (t) {
      var n = t.getHostGeoModel(),
        i = n ? 'o' + n.id : 'i' + t.getMapType();
      (e[i] = e[i] || []).push(t);
    }),
      F(e, function (t, n) {
        for (
          var i = (function lz(r, e) {
              var t = {};
              return (
                F(r, function (n) {
                  n.each(n.mapDimension('value'), function (i, a) {
                    var o = 'ec-' + n.getName(a);
                    (t[o] = t[o] || []), isNaN(i) || t[o].push(i);
                  });
                }),
                r[0].map(r[0].mapDimension('value'), function (n, i) {
                  for (
                    var a = 'ec-' + r[0].getName(i),
                      o = 0,
                      s = 1 / 0,
                      l = -1 / 0,
                      u = t[a].length,
                      c = 0;
                    c < u;
                    c++
                  )
                    (s = Math.min(s, t[a][c])),
                      (l = Math.max(l, t[a][c])),
                      (o += t[a][c]);
                  return 0 === u
                    ? NaN
                    : 'min' === e
                    ? s
                    : 'max' === e
                    ? l
                    : 'average' === e
                    ? o / u
                    : o;
                })
              );
            })(
              Ut(t, function (o) {
                return o.getData();
              }),
              t[0].get('mapValueCalculation')
            ),
            a = 0;
          a < t.length;
          a++
        )
          t[a].originalData = t[a].getData();
        for (a = 0; a < t.length; a++)
          (t[a].seriesGroup = t),
            (t[a].needsDrawMap = 0 === a && !t[a].getHostGeoModel()),
            t[a].setData(i.cloneShallow()),
            (t[a].mainSeries = t[0]);
      });
  }
  function cz(r) {
    var e = {};
    r.eachSeriesByType('map', function (t) {
      var n = t.getMapType();
      if (!t.getHostGeoModel() && !e[n]) {
        var i = {};
        F(t.seriesGroup, function (o) {
          var s = o.coordinateSystem,
            l = o.originalData;
          o.get('showLegendSymbol') &&
            r.getComponent('legend') &&
            l.each(l.mapDimension('value'), function (u, c) {
              var f = l.getName(c),
                d = s.getRegion(f);
              if (d && !isNaN(u)) {
                var v = i[f] || 0,
                  g = s.dataToPoint(d.getCenter());
                (i[f] = v + 1), l.setItemLayout(c, { point: g, offset: v });
              }
            });
        });
        var a = t.getData();
        a.each(function (o) {
          var s = a.getName(o),
            l = a.getItemLayout(o) || {};
          (l.showLabel = !i[s]), a.setItemLayout(o, l);
        }),
          (e[n] = !0);
      }
    });
  }
  var $A = dn,
    Jd = (function (r) {
      function e(t) {
        var n = r.call(this) || this;
        return (
          (n.type = 'view'),
          (n.dimensions = ['x', 'y']),
          (n._roamTransformable = new Qa()),
          (n._rawTransformable = new Qa()),
          (n.name = t),
          n
        );
      }
      return (
        ut(e, r),
        (e.prototype.setBoundingRect = function (t, n, i, a) {
          return (this._rect = new it(t, n, i, a)), this._rect;
        }),
        (e.prototype.getBoundingRect = function () {
          return this._rect;
        }),
        (e.prototype.setViewRect = function (t, n, i, a) {
          this._transformTo(t, n, i, a), (this._viewRect = new it(t, n, i, a));
        }),
        (e.prototype._transformTo = function (t, n, i, a) {
          var o = this.getBoundingRect(),
            s = this._rawTransformable;
          s.transform = o.calculateTransform(new it(t, n, i, a));
          var l = s.parent;
          (s.parent = null),
            s.decomposeTransform(),
            (s.parent = l),
            this._updateTransform();
        }),
        (e.prototype.setCenter = function (t, n) {
          t &&
            ((this._center = [Te(t[0], n.getWidth()), Te(t[1], n.getHeight())]),
            this._updateCenterAndZoom());
        }),
        (e.prototype.setZoom = function (t) {
          t = t || 1;
          var n = this.zoomLimit;
          n &&
            (null != n.max && (t = Math.min(n.max, t)),
            null != n.min && (t = Math.max(n.min, t))),
            (this._zoom = t),
            this._updateCenterAndZoom();
        }),
        (e.prototype.getDefaultCenter = function () {
          var t = this.getBoundingRect();
          return [t.x + t.width / 2, t.y + t.height / 2];
        }),
        (e.prototype.getCenter = function () {
          return this._center || this.getDefaultCenter();
        }),
        (e.prototype.getZoom = function () {
          return this._zoom || 1;
        }),
        (e.prototype.getRoamTransform = function () {
          return this._roamTransformable.getLocalTransform();
        }),
        (e.prototype._updateCenterAndZoom = function () {
          var t = this._rawTransformable.getLocalTransform(),
            n = this._roamTransformable,
            i = this.getDefaultCenter(),
            a = this.getCenter(),
            o = this.getZoom();
          (a = dn([], a, t)),
            (i = dn([], i, t)),
            (n.originX = a[0]),
            (n.originY = a[1]),
            (n.x = i[0] - a[0]),
            (n.y = i[1] - a[1]),
            (n.scaleX = n.scaleY = o),
            this._updateTransform();
        }),
        (e.prototype._updateTransform = function () {
          var t = this._roamTransformable,
            n = this._rawTransformable;
          (n.parent = t),
            t.updateTransform(),
            n.updateTransform(),
            mo(
              this.transform || (this.transform = []),
              n.transform || [1, 0, 0, 1, 0, 0]
            ),
            (this._rawTransform = n.getLocalTransform()),
            (this.invTransform = this.invTransform || []),
            xo(this.invTransform, this.transform),
            this.decomposeTransform();
        }),
        (e.prototype.getTransformInfo = function () {
          var t = this._rawTransformable,
            n = this._roamTransformable,
            i = new Qa();
          return (
            (i.transform = n.transform),
            i.decomposeTransform(),
            {
              roam: { x: i.x, y: i.y, scaleX: i.scaleX, scaleY: i.scaleY },
              raw: { x: t.x, y: t.y, scaleX: t.scaleX, scaleY: t.scaleY },
            }
          );
        }),
        (e.prototype.getViewRect = function () {
          return this._viewRect;
        }),
        (e.prototype.getViewRectAfterRoam = function () {
          var t = this.getBoundingRect().clone();
          return t.applyTransform(this.transform), t;
        }),
        (e.prototype.dataToPoint = function (t, n, i) {
          var a = n ? this._rawTransform : this.transform;
          return (i = i || []), a ? $A(i, t, a) : $r(i, t);
        }),
        (e.prototype.pointToData = function (t) {
          var n = this.invTransform;
          return n ? $A([], t, n) : [t[0], t[1]];
        }),
        (e.prototype.convertToPixel = function (t, n, i) {
          var a = UA(n);
          return a === this ? a.dataToPoint(i) : null;
        }),
        (e.prototype.convertFromPixel = function (t, n, i) {
          var a = UA(n);
          return a === this ? a.pointToData(i) : null;
        }),
        (e.prototype.containPoint = function (t) {
          return this.getViewRectAfterRoam().contain(t[0], t[1]);
        }),
        (e.dimensions = ['x', 'y']),
        e
      );
    })(Qa);
  function UA(r) {
    var e = r.seriesModel;
    return e ? e.coordinateSystem : null;
  }
  var fz = {
      geoJSON: { aspectScale: 0.75, invertLongitute: !0 },
      geoSVG: { aspectScale: 1, invertLongitute: !1 },
    },
    YA = ['lng', 'lat'],
    R1 = (function (r) {
      function e(t, n, i) {
        var a = r.call(this, t) || this;
        (a.dimensions = YA),
          (a.type = 'geo'),
          (a._nameCoordMap = Nt()),
          (a.map = n);
        var d,
          o = i.projection,
          s = ol.load(n, i.nameMap, i.nameProperty),
          l = ol.getGeoResource(n),
          u = (a.resourceType = l ? l.type : null),
          c = (a.regions = s.regions),
          f = fz[l.type];
        if (
          ((a._regionsMap = s.regionsMap),
          (a.regions = s.regions),
          o &&
            ('geoSVG' === u &&
              (ln(
                'Map ' +
                  n +
                  " with SVG source can't use projection. Only GeoJSON source supports projection."
              ),
              (o = null)),
            (o.project && o.unproject) ||
              (ln(
                'project and unproject must be both provided in the projeciton.'
              ),
              (o = null))),
          (a.projection = o),
          o)
        )
          for (var v = 0; v < c.length; v++) {
            var g = c[v].getBoundingRect(o);
            (d = d || g.clone()).union(g);
          }
        else d = s.boundingRect;
        return (
          a.setBoundingRect(d.x, d.y, d.width, d.height),
          (a.aspectScale = o ? 1 : B(i.aspectScale, f.aspectScale)),
          (a._invertLongitute = !o && f.invertLongitute),
          a
        );
      }
      return (
        ut(e, r),
        (e.prototype._transformTo = function (t, n, i, a) {
          var o = this.getBoundingRect(),
            s = this._invertLongitute;
          (o = o.clone()), s && (o.y = -o.y - o.height);
          var l = this._rawTransformable;
          l.transform = o.calculateTransform(new it(t, n, i, a));
          var u = l.parent;
          (l.parent = null),
            l.decomposeTransform(),
            (l.parent = u),
            s && (l.scaleY = -l.scaleY),
            this._updateTransform();
        }),
        (e.prototype.getRegion = function (t) {
          return this._regionsMap.get(t);
        }),
        (e.prototype.getRegionByCoord = function (t) {
          for (var n = this.regions, i = 0; i < n.length; i++) {
            var a = n[i];
            if ('geoJSON' === a.type && a.contain(t)) return n[i];
          }
        }),
        (e.prototype.addGeoCoord = function (t, n) {
          this._nameCoordMap.set(t, n);
        }),
        (e.prototype.getGeoCoord = function (t) {
          var n = this._regionsMap.get(t);
          return this._nameCoordMap.get(t) || (n && n.getCenter());
        }),
        (e.prototype.dataToPoint = function (t, n, i) {
          if ((ht(t) && (t = this.getGeoCoord(t)), t)) {
            var a = this.projection;
            return a && (t = a.project(t)), t && this.projectedToPoint(t, n, i);
          }
        }),
        (e.prototype.pointToData = function (t) {
          var n = this.projection;
          return n && (t = n.unproject(t)), t && this.pointToProjected(t);
        }),
        (e.prototype.pointToProjected = function (t) {
          return r.prototype.pointToData.call(this, t);
        }),
        (e.prototype.projectedToPoint = function (t, n, i) {
          return r.prototype.dataToPoint.call(this, t, n, i);
        }),
        (e.prototype.convertToPixel = function (t, n, i) {
          var a = XA(n);
          return a === this ? a.dataToPoint(i) : null;
        }),
        (e.prototype.convertFromPixel = function (t, n, i) {
          var a = XA(n);
          return a === this ? a.pointToData(i) : null;
        }),
        e
      );
    })(Jd);
  function XA(r) {
    var e = r.geoModel,
      t = r.seriesModel;
    return e
      ? e.coordinateSystem
      : t
      ? t.coordinateSystem ||
        (t.getReferringComponents('geo', N).models[0] || {}).coordinateSystem
      : null;
  }
  function ZA(r, e) {
    var t = r.get('boundingCoords');
    if (null != t) {
      var n = t[0],
        i = t[1];
      if (
        isFinite(n[0]) &&
        isFinite(n[1]) &&
        isFinite(i[0]) &&
        isFinite(i[1])
      ) {
        var a = this.projection;
        if (a) {
          var o = n[0],
            s = n[1],
            l = i[0],
            u = i[1];
          (n = [1 / 0, 1 / 0]), (i = [-1 / 0, -1 / 0]);
          var c = function (M, E, O, z) {
            for (var H = O - M, G = z - E, X = 0; X <= 100; X++) {
              var K = X / 100,
                tt = a.project([M + H * K, E + G * K]);
              Mi(n, n, tt), Ln(i, i, tt);
            }
          };
          c(o, s, l, s), c(l, s, l, u), c(l, u, o, u), c(o, u, l, s);
        }
        this.setBoundingRect(n[0], n[1], i[0] - n[0], i[1] - n[1]);
      } else console.error('Invalid boundingCoords');
    }
    var w,
      C,
      D,
      f = this.getBoundingRect(),
      d = r.get('layoutCenter'),
      v = r.get('layoutSize'),
      g = e.getWidth(),
      m = e.getHeight(),
      y = (f.width / f.height) * this.aspectScale,
      b = !1;
    if (
      (d &&
        v &&
        ((w = [Te(d[0], g), Te(d[1], m)]),
        (C = Te(v, Math.min(g, m))),
        isNaN(w[0]) || isNaN(w[1]) || isNaN(C)
          ? console.warn(
              'Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead.'
            )
          : (b = !0)),
      b)
    )
      (D = {}),
        y > 1
          ? ((D.width = C), (D.height = C / y))
          : ((D.height = C), (D.width = C * y)),
        (D.y = w[1] - D.height / 2),
        (D.x = w[0] - D.width / 2);
    else {
      var L = r.getBoxLayoutParams();
      (L.aspect = y), (D = Vn(L, { width: g, height: m }));
    }
    this.setViewRect(D.x, D.y, D.width, D.height),
      this.setCenter(r.get('center'), e),
      this.setZoom(r.get('zoom'));
  }
  Ee(R1, Jd);
  var dz = (function () {
      function r() {
        this.dimensions = YA;
      }
      return (
        (r.prototype.create = function (e, t) {
          var n = [];
          function i(o) {
            return {
              nameProperty: o.get('nameProperty'),
              aspectScale: o.get('aspectScale'),
              projection: o.get('projection'),
            };
          }
          e.eachComponent('geo', function (o, s) {
            var l = o.get('map'),
              u = new R1(l + s, l, nt({ nameMap: o.get('nameMap') }, i(o)));
            (u.zoomLimit = o.get('scaleLimit')),
              n.push(u),
              (o.coordinateSystem = u),
              (u.model = o),
              (u.resize = ZA),
              u.resize(o, t);
          }),
            e.eachSeries(function (o) {
              if ('geo' === o.get('coordinateSystem')) {
                var l = o.get('geoIndex') || 0;
                o.coordinateSystem = n[l];
              }
            });
          var a = {};
          return (
            e.eachSeriesByType('map', function (o) {
              if (!o.getHostGeoModel()) {
                var s = o.getMapType();
                (a[s] = a[s] || []), a[s].push(o);
              }
            }),
            F(a, function (o, s) {
              var l = Ut(o, function (c) {
                  return c.get('nameMap');
                }),
                u = new R1(s, s, nt({ nameMap: Ht(l) }, i(o[0])));
              (u.zoomLimit = xe.apply(
                null,
                Ut(o, function (c) {
                  return c.get('scaleLimit');
                })
              )),
                n.push(u),
                (u.resize = ZA),
                u.resize(o[0], t),
                F(o, function (c) {
                  (c.coordinateSystem = u),
                    (function hz(r, e) {
                      F(e.get('geoCoord'), function (t, n) {
                        r.addGeoCoord(n, t);
                      });
                    })(u, c);
                });
            }),
            n
          );
        }),
        (r.prototype.getFilledRegions = function (e, t, n, i) {
          for (var a = (e || []).slice(), o = Nt(), s = 0; s < a.length; s++)
            o.set(a[s].name, a[s]);
          return (
            F(ol.load(t, n, i).regions, function (u) {
              var c = u.name;
              !o.get(c) && a.push({ name: c });
            }),
            a
          );
        }),
        r
      );
    })(),
    qA = new dz(),
    vz = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.init = function (t, n, i) {
          var a = ol.getGeoResource(t.map);
          if (a && 'geoJSON' === a.type) {
            var o = (t.itemStyle = t.itemStyle || {});
            'color' in o || (o.color = '#eee');
          }
          this.mergeDefaultAndTheme(t, i), Oa(t, 'label', ['show']);
        }),
        (e.prototype.optionUpdated = function () {
          var t = this,
            n = this.option;
          n.regions = qA.getFilledRegions(
            n.regions,
            n.map,
            n.nameMap,
            n.nameProperty
          );
          var i = {};
          (this._optionModelMap = Oe(
            n.regions || [],
            function (a, o) {
              var s = o.name;
              return (
                s &&
                  (a.set(s, new Yr(o, t, t.ecModel)),
                  o.selected && (i[s] = !0)),
                a
              );
            },
            Nt()
          )),
            n.selectedMap || (n.selectedMap = i);
        }),
        (e.prototype.getRegionModel = function (t) {
          return (
            this._optionModelMap.get(t) || new Yr(null, this, this.ecModel)
          );
        }),
        (e.prototype.getFormattedLabel = function (t, n) {
          var a = this.getRegionModel(t).get(
              'normal' === n
                ? ['label', 'formatter']
                : ['emphasis', 'label', 'formatter']
            ),
            o = { name: t };
          return fe(a)
            ? ((o.status = n), a(o))
            : ht(a)
            ? a.replace('{a}', t ?? '')
            : void 0;
        }),
        (e.prototype.setZoom = function (t) {
          this.option.zoom = t;
        }),
        (e.prototype.setCenter = function (t) {
          this.option.center = t;
        }),
        (e.prototype.select = function (t) {
          var n = this.option,
            i = n.selectedMode;
          i &&
            ('multiple' !== i && (n.selectedMap = null),
            ((n.selectedMap || (n.selectedMap = {}))[t] = !0));
        }),
        (e.prototype.unSelect = function (t) {
          var n = this.option.selectedMap;
          n && (n[t] = !1);
        }),
        (e.prototype.toggleSelected = function (t) {
          this[this.isSelected(t) ? 'unSelect' : 'select'](t);
        }),
        (e.prototype.isSelected = function (t) {
          var n = this.option.selectedMap;
          return !(!n || !n[t]);
        }),
        (e.type = 'geo'),
        (e.layoutMode = 'box'),
        (e.defaultOption = {
          z: 0,
          show: !0,
          left: 'center',
          top: 'center',
          aspectScale: null,
          silent: !1,
          map: '',
          boundingCoords: null,
          center: null,
          zoom: 1,
          scaleLimit: null,
          label: { show: !1, color: '#000' },
          itemStyle: { borderWidth: 0.5, borderColor: '#444' },
          emphasis: {
            label: { show: !0, color: 'rgb(100,0,0)' },
            itemStyle: { color: 'rgba(255,215,0,0.8)' },
          },
          select: {
            label: { show: !0, color: 'rgb(100,0,0)' },
            itemStyle: { color: 'rgba(255,215,0,0.8)' },
          },
          regions: [],
        }),
        e
      );
    })(br);
  function jA(r, e) {
    return r.pointToProjected ? r.pointToProjected(e) : r.pointToData(e);
  }
  function O1(r, e, t, n) {
    var i = r.getZoom(),
      a = r.getCenter(),
      o = e.zoom,
      s = r.projectedToPoint ? r.projectedToPoint(a) : r.dataToPoint(a);
    if (
      (null != e.dx &&
        null != e.dy &&
        ((s[0] -= e.dx), (s[1] -= e.dy), r.setCenter(jA(r, s), n)),
      null != o)
    ) {
      if (t) {
        var l = t.min || 0;
        o = Math.max(Math.min(i * o, t.max || 1 / 0), l) / i;
      }
      (r.scaleX *= o), (r.scaleY *= o);
      var f = (e.originY - r.y) * (o - 1);
      (r.x -= (e.originX - r.x) * (o - 1)),
        (r.y -= f),
        r.updateTransform(),
        r.setCenter(jA(r, s), n),
        r.setZoom(o * i);
    }
    return { center: r.getCenter(), zoom: r.getZoom() };
  }
  var pz = (function (r) {
    function e() {
      var t = (null !== r && r.apply(this, arguments)) || this;
      return (t.type = e.type), (t.focusBlurEnabled = !0), t;
    }
    return (
      ut(e, r),
      (e.prototype.init = function (t, n) {
        this._api = n;
      }),
      (e.prototype.render = function (t, n, i, a) {
        if (((this._model = t), !t.get('show')))
          return (
            this._mapDraw && this._mapDraw.remove(), void (this._mapDraw = null)
          );
        this._mapDraw || (this._mapDraw = new BA(i));
        var o = this._mapDraw;
        o.draw(t, n, i, this, a),
          o.group.on('click', this._handleRegionClick, this),
          (o.group.silent = t.get('silent')),
          this.group.add(o.group),
          this.updateSelectStatus(t, n, i);
      }),
      (e.prototype._handleRegionClick = function (t) {
        var n;
        gc(
          t.target,
          function (i) {
            return null != (n = fr(i).eventData);
          },
          !0
        ),
          n &&
            this._api.dispatchAction({
              type: 'geoToggleSelect',
              geoId: this._model.id,
              name: n.name,
            });
      }),
      (e.prototype.updateSelectStatus = function (t, n, i) {
        var a = this;
        this._mapDraw.group.traverse(function (o) {
          var s = fr(o).eventData;
          if (s)
            return (
              a._model.isSelected(s.name) ? i.enterSelect(o) : i.leaveSelect(o),
              !0
            );
        });
      }),
      (e.prototype.findHighDownDispatchers = function (t) {
        return (
          this._mapDraw && this._mapDraw.findHighDownDispatchers(t, this._model)
        );
      }),
      (e.prototype.dispose = function () {
        this._mapDraw && this._mapDraw.remove();
      }),
      (e.type = 'geo'),
      e
    );
  })(fn);
  function gz(r, e, t) {
    ol.registerMap(r, e, t);
  }
  function KA(r) {
    function e(t, n) {
      (n.update = 'geo:updateSelectStatus'),
        r.registerAction(n, function (i, a) {
          var o = {},
            s = [];
          return (
            a.eachComponent({ mainType: 'geo', query: i }, function (l) {
              l[t](i.name),
                F(l.coordinateSystem.regions, function (f) {
                  o[f.name] = l.isSelected(f.name) || !1;
                });
              var c = [];
              F(o, function (f, d) {
                o[d] && c.push(d);
              }),
                s.push({ geoIndex: l.componentIndex, name: c });
            }),
            { selected: o, allSelected: s, name: i.name }
          );
        });
    }
    r.registerCoordinateSystem('geo', qA),
      r.registerComponentModel(vz),
      r.registerComponentView(pz),
      r.registerImpl('registerMap', gz),
      r.registerImpl('getMap', function (t) {
        return ol.getMapForUser(t);
      }),
      e('toggleSelected', {
        type: 'geoToggleSelect',
        event: 'geoselectchanged',
      }),
      e('select', { type: 'geoSelect', event: 'geoselected' }),
      e('unSelect', { type: 'geoUnSelect', event: 'geounselected' }),
      r.registerAction(
        { type: 'geoRoam', event: 'geoRoam', update: 'updateTransform' },
        function (t, n, i) {
          var a = t.componentType || 'series';
          n.eachComponent({ mainType: a, query: t }, function (o) {
            var s = o.coordinateSystem;
            if ('geo' === s.type) {
              var l = O1(s, t, o.get('scaleLimit'), i);
              o.setCenter && o.setCenter(l.center),
                o.setZoom && o.setZoom(l.zoom),
                'series' === a &&
                  F(o.seriesGroup, function (u) {
                    u.setCenter(l.center), u.setZoom(l.zoom);
                  });
            }
          });
        }
      );
  }
  function xz(r, e) {
    var t = r.isExpand ? r.children : [],
      n = r.parentNode.children,
      i = r.hierNode.i ? n[r.hierNode.i - 1] : null;
    if (t.length) {
      !(function Sz(r) {
        for (var e = r.children, t = e.length, n = 0, i = 0; --t >= 0; ) {
          var a = e[t];
          (a.hierNode.prelim += n),
            (a.hierNode.modifier += n),
            (n += a.hierNode.shift + (i += a.hierNode.change));
        }
      })(r);
      var a = (t[0].hierNode.prelim + t[t.length - 1].hierNode.prelim) / 2;
      i
        ? ((r.hierNode.prelim = i.hierNode.prelim + e(r, i)),
          (r.hierNode.modifier = r.hierNode.prelim - a))
        : (r.hierNode.prelim = a);
    } else i && (r.hierNode.prelim = i.hierNode.prelim + e(r, i));
    r.parentNode.hierNode.defaultAncestor = (function wz(r, e, t, n) {
      if (e) {
        for (
          var i = r,
            a = r,
            o = a.parentNode.children[0],
            s = e,
            l = i.hierNode.modifier,
            u = a.hierNode.modifier,
            c = o.hierNode.modifier,
            f = s.hierNode.modifier;
          (s = F1(s)), (a = B1(a)), s && a;

        ) {
          (i = F1(i)), (o = B1(o)), (i.hierNode.ancestor = r);
          var d = s.hierNode.prelim + f - a.hierNode.prelim - u + n(s, a);
          d > 0 && (Dz(Cz(s, r, t), r, d), (u += d), (l += d)),
            (f += s.hierNode.modifier),
            (u += a.hierNode.modifier),
            (l += i.hierNode.modifier),
            (c += o.hierNode.modifier);
        }
        s &&
          !F1(i) &&
          ((i.hierNode.thread = s), (i.hierNode.modifier += f - l)),
          a &&
            !B1(o) &&
            ((o.hierNode.thread = a), (o.hierNode.modifier += u - c), (t = r));
      }
      return t;
    })(r, i, r.parentNode.hierNode.defaultAncestor || n[0], e);
  }
  function bz(r) {
    r.setLayout({ x: r.hierNode.prelim + r.parentNode.hierNode.modifier }, !0),
      (r.hierNode.modifier += r.parentNode.hierNode.modifier);
  }
  function QA(r) {
    return arguments.length ? r : Tz;
  }
  function tv(r, e) {
    return (r -= Math.PI / 2), { x: e * Math.cos(r), y: e * Math.sin(r) };
  }
  function F1(r) {
    var e = r.children;
    return e.length && r.isExpand ? e[e.length - 1] : r.hierNode.thread;
  }
  function B1(r) {
    var e = r.children;
    return e.length && r.isExpand ? e[0] : r.hierNode.thread;
  }
  function Cz(r, e, t) {
    return r.hierNode.ancestor.parentNode === e.parentNode
      ? r.hierNode.ancestor
      : t;
  }
  function Dz(r, e, t) {
    var n = t / (e.hierNode.i - r.hierNode.i);
    (e.hierNode.change -= n),
      (e.hierNode.shift += t),
      (e.hierNode.modifier += t),
      (e.hierNode.prelim += t),
      (r.hierNode.change += n);
  }
  function Tz(r, e) {
    return r.parentNode === e.parentNode ? 1 : 2;
  }
  var Az = function r() {
      (this.parentPoint = []), (this.childPoints = []);
    },
    Mz = (function (r) {
      function e(t) {
        return r.call(this, t) || this;
      }
      return (
        ut(e, r),
        (e.prototype.getDefaultStyle = function () {
          return { stroke: '#000', fill: null };
        }),
        (e.prototype.getDefaultShape = function () {
          return new Az();
        }),
        (e.prototype.buildPath = function (t, n) {
          var i = n.childPoints,
            a = i.length,
            o = n.parentPoint,
            s = i[0],
            l = i[a - 1];
          if (1 === a) return t.moveTo(o[0], o[1]), void t.lineTo(s[0], s[1]);
          var u = n.orient,
            c = 'TB' === u || 'BT' === u ? 0 : 1,
            f = 1 - c,
            d = Te(n.forkPosition, 1),
            v = [];
          (v[c] = o[c]),
            (v[f] = o[f] + (l[f] - o[f]) * d),
            t.moveTo(o[0], o[1]),
            t.lineTo(v[0], v[1]),
            t.moveTo(s[0], s[1]),
            (v[c] = s[c]),
            t.lineTo(v[0], v[1]),
            (v[c] = l[c]),
            t.lineTo(v[0], v[1]),
            t.lineTo(l[0], l[1]);
          for (var g = 1; g < a - 1; g++) {
            var m = i[g];
            t.moveTo(m[0], m[1]), (v[c] = m[c]), t.lineTo(v[0], v[1]);
          }
        }),
        e
      );
    })(Lr),
    Lz = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), (t._mainGroup = new Qe()), t;
      }
      return (
        ut(e, r),
        (e.prototype.init = function (t, n) {
          (this._controller = new Kd(n.getZr())),
            (this._controllerHost = { target: this.group }),
            this.group.add(this._mainGroup);
        }),
        (e.prototype.render = function (t, n, i) {
          var a = t.getData(),
            o = t.layoutInfo,
            s = this._mainGroup;
          'radial' === t.get('layout')
            ? ((s.x = o.x + o.width / 2), (s.y = o.y + o.height / 2))
            : ((s.x = o.x), (s.y = o.y)),
            this._updateViewCoordSys(t, i),
            this._updateController(t, n, i);
          var u = this._data;
          a
            .diff(u)
            .add(function (c) {
              JA(a, c) && tM(a, c, null, s, t);
            })
            .update(function (c, f) {
              var d = u.getItemGraphicEl(f);
              JA(a, c) ? tM(a, c, d, s, t) : d && nM(u, f, d, s, t);
            })
            .remove(function (c) {
              var f = u.getItemGraphicEl(c);
              f && nM(u, c, f, s, t);
            })
            .execute(),
            (this._nodeScaleRatio = t.get('nodeScaleRatio')),
            this._updateNodeAndLinkScale(t),
            !0 === t.get('expandAndCollapse') &&
              a.eachItemGraphicEl(function (c, f) {
                c.off('click').on('click', function () {
                  i.dispatchAction({
                    type: 'treeExpandAndCollapse',
                    seriesId: t.id,
                    dataIndex: f,
                  });
                });
              }),
            (this._data = a);
        }),
        (e.prototype._updateViewCoordSys = function (t, n) {
          var i = t.getData(),
            a = [];
          i.each(function (f) {
            var d = i.getItemLayout(f);
            d && !isNaN(d.x) && !isNaN(d.y) && a.push([+d.x, +d.y]);
          });
          var o = [],
            s = [];
          up(a, o, s);
          var l = this._min,
            u = this._max;
          s[0] - o[0] == 0 &&
            ((o[0] = l ? l[0] : o[0] - 1), (s[0] = u ? u[0] : s[0] + 1)),
            s[1] - o[1] == 0 &&
              ((o[1] = l ? l[1] : o[1] - 1), (s[1] = u ? u[1] : s[1] + 1));
          var c = (t.coordinateSystem = new Jd());
          (c.zoomLimit = t.get('scaleLimit')),
            c.setBoundingRect(o[0], o[1], s[0] - o[0], s[1] - o[1]),
            c.setCenter(t.get('center'), n),
            c.setZoom(t.get('zoom')),
            this.group.attr({
              x: c.x,
              y: c.y,
              scaleX: c.scaleX,
              scaleY: c.scaleY,
            }),
            (this._min = o),
            (this._max = s);
        }),
        (e.prototype._updateController = function (t, n, i) {
          var a = this,
            o = this._controller,
            s = this._controllerHost,
            l = this.group;
          o.setPointerChecker(function (u, c, f) {
            var d = l.getBoundingRect();
            return (
              d.applyTransform(l.transform), d.contain(c, f) && !Ng(u, i, t)
            );
          }),
            o.enable(t.get('roam')),
            (s.zoomLimit = t.get('scaleLimit')),
            (s.zoom = t.coordinateSystem.getZoom()),
            o
              .off('pan')
              .off('zoom')
              .on('pan', function (u) {
                M1(s, u.dx, u.dy),
                  i.dispatchAction({
                    seriesId: t.id,
                    type: 'treeRoam',
                    dx: u.dx,
                    dy: u.dy,
                  });
              })
              .on('zoom', function (u) {
                L1(s, u.scale, u.originX, u.originY),
                  i.dispatchAction({
                    seriesId: t.id,
                    type: 'treeRoam',
                    zoom: u.scale,
                    originX: u.originX,
                    originY: u.originY,
                  }),
                  a._updateNodeAndLinkScale(t),
                  i.updateLabelLayout();
              });
        }),
        (e.prototype._updateNodeAndLinkScale = function (t) {
          var n = t.getData(),
            i = this._getNodeGlobalScale(t);
          n.eachItemGraphicEl(function (a, o) {
            a.setSymbolScale(i);
          });
        }),
        (e.prototype._getNodeGlobalScale = function (t) {
          var n = t.coordinateSystem;
          if ('view' !== n.type) return 1;
          var i = this._nodeScaleRatio,
            a = n.scaleX || 1;
          return ((n.getZoom() - 1) * i + 1) / a;
        }),
        (e.prototype.dispose = function () {
          this._controller && this._controller.dispose(),
            (this._controllerHost = null);
        }),
        (e.prototype.remove = function () {
          this._mainGroup.removeAll(), (this._data = null);
        }),
        (e.type = 'tree'),
        e
      );
    })(en);
  function JA(r, e) {
    var t = r.getItemLayout(e);
    return t && !isNaN(t.x) && !isNaN(t.y);
  }
  function tM(r, e, t, n, i) {
    var a = !t,
      o = r.tree.getNodeByDataIndex(e),
      s = o.getModel(),
      l = o.getVisual('style').fill,
      u = !1 === o.isExpand && 0 !== o.children.length ? l : '#fff',
      c = r.tree.root,
      f = o.parentNode === c ? o : o.parentNode || o,
      d = r.getItemGraphicEl(f.dataIndex),
      v = f.getLayout(),
      g = d
        ? {
            x: d.__oldX,
            y: d.__oldY,
            rawX: d.__radialOldRawX,
            rawY: d.__radialOldRawY,
          }
        : v,
      m = o.getLayout();
    a
      ? (((t = new Wd(r, e, null, {
          symbolInnerColor: u,
          useNameLabel: !0,
        })).x = g.x),
        (t.y = g.y))
      : t.updateData(r, e, null, { symbolInnerColor: u, useNameLabel: !0 }),
      (t.__radialOldRawX = t.__radialRawX),
      (t.__radialOldRawY = t.__radialRawY),
      (t.__radialRawX = m.rawX),
      (t.__radialRawY = m.rawY),
      n.add(t),
      r.setItemGraphicEl(e, t),
      (t.__oldX = t.x),
      (t.__oldY = t.y),
      Wr(t, { x: m.x, y: m.y }, i);
    var y = t.getSymbolPath();
    if ('radial' === i.get('layout')) {
      var b = c.children[0],
        w = b.getLayout(),
        C = b.children.length,
        D = void 0,
        L = void 0;
      if (m.x === w.x && !0 === o.isExpand && b.children.length) {
        var M = {
          x:
            (b.children[0].getLayout().x + b.children[C - 1].getLayout().x) / 2,
          y:
            (b.children[0].getLayout().y + b.children[C - 1].getLayout().y) / 2,
        };
        (D = Math.atan2(M.y - w.y, M.x - w.x)) < 0 && (D = 2 * Math.PI + D),
          (L = M.x < w.x) && (D -= Math.PI);
      } else
        (D = Math.atan2(m.y - w.y, m.x - w.x)) < 0 && (D = 2 * Math.PI + D),
          0 === o.children.length ||
          (0 !== o.children.length && !1 === o.isExpand)
            ? (L = m.x < w.x) && (D -= Math.PI)
            : (L = m.x > w.x) || (D -= Math.PI);
      var E = L ? 'left' : 'right',
        O = s.getModel('label'),
        z = O.get('rotate'),
        H = z * (Math.PI / 180),
        G = y.getTextContent();
      G &&
        (y.setTextConfig({
          position: O.get('position') || E,
          rotation: null == z ? -D : H,
          origin: 'center',
        }),
        G.setStyle('verticalAlign', 'middle'));
    }
    var X = s.get(['emphasis', 'focus']),
      K =
        'relative' === X
          ? Ge(o.getAncestorsIndices(), o.getDescendantIndices())
          : 'ancestor' === X
          ? o.getAncestorsIndices()
          : 'descendant' === X
          ? o.getDescendantIndices()
          : null;
    K && (fr(t).focus = K),
      (function Iz(r, e, t, n, i, a, o, s) {
        var l = e.getModel(),
          u = r.get('edgeShape'),
          c = r.get('layout'),
          f = r.getOrient(),
          d = r.get(['lineStyle', 'curveness']),
          v = r.get('edgeForkPosition'),
          g = l.getModel('lineStyle').getLineStyle(),
          m = n.__edge;
        if ('curve' === u)
          e.parentNode &&
            e.parentNode !== t &&
            (m || (m = n.__edge = new wf({ shape: N1(c, f, d, i, i) })),
            Wr(m, { shape: N1(c, f, d, a, o) }, r));
        else if ('polyline' === u) {
          if ('orthogonal' !== c)
            throw new Error(
              'The polyline edgeShape can only be used in orthogonal layout'
            );
          if (
            e !== t &&
            e.children &&
            0 !== e.children.length &&
            !0 === e.isExpand
          ) {
            for (var y = e.children, b = [], w = 0; w < y.length; w++) {
              var C = y[w].getLayout();
              b.push([C.x, C.y]);
            }
            m ||
              (m = n.__edge =
                new Mz({
                  shape: {
                    parentPoint: [o.x, o.y],
                    childPoints: [[o.x, o.y]],
                    orient: f,
                    forkPosition: v,
                  },
                })),
              Wr(m, { shape: { parentPoint: [o.x, o.y], childPoints: b } }, r);
          }
        }
        m &&
          ('polyline' !== u || e.isExpand) &&
          (m.useStyle(Ot({ strokeNoScale: !0, fill: null }, g)),
          wi(m, l, 'lineStyle'),
          nc(m),
          s.add(m));
      })(i, o, c, t, g, v, m, n),
      t.__edge &&
        (t.onHoverStateChange = function (tt) {
          if ('blur' !== tt) {
            var ot = o.parentNode && r.getItemGraphicEl(o.parentNode.dataIndex);
            (ot && ot.hoverState === jh) || pp(t.__edge, tt);
          }
        });
  }
  function eM(r, e, t, n, i) {
    var o = rM(e.tree.root, r),
      s = o.source,
      l = o.sourceLayout,
      u = e.getItemGraphicEl(r.dataIndex);
    if (u) {
      var c = e.getItemGraphicEl(s.dataIndex),
        d =
          u.__edge ||
          (!1 === s.isExpand || 1 === s.children.length ? c.__edge : void 0),
        v = n.get('edgeShape'),
        g = n.get('layout'),
        m = n.get('orient'),
        y = n.get(['lineStyle', 'curveness']);
      d &&
        ('curve' === v
          ? Ul(d, { shape: N1(g, m, y, l, l), style: { opacity: 0 } }, n, {
              cb: function () {
                t.remove(d);
              },
              removeOpt: i,
            })
          : 'polyline' === v &&
            'orthogonal' === n.get('layout') &&
            Ul(
              d,
              {
                shape: { parentPoint: [l.x, l.y], childPoints: [[l.x, l.y]] },
                style: { opacity: 0 },
              },
              n,
              {
                cb: function () {
                  t.remove(d);
                },
                removeOpt: i,
              }
            ));
    }
  }
  function rM(r, e) {
    for (
      var n, t = e.parentNode === r ? e : e.parentNode || e;
      null == (n = t.getLayout());

    )
      t = t.parentNode === r ? t : t.parentNode || t;
    return { source: t, sourceLayout: n };
  }
  function nM(r, e, t, n, i) {
    var a = r.tree.getNodeByDataIndex(e),
      s = rM(r.tree.root, a).sourceLayout,
      l = {
        duration: i.get('animationDurationUpdate'),
        easing: i.get('animationEasingUpdate'),
      };
    Ul(t, { x: s.x + 1, y: s.y + 1 }, i, {
      cb: function () {
        n.remove(t), r.setItemGraphicEl(e, null);
      },
      removeOpt: l,
    }),
      t.fadeOut(null, r.hostModel, { fadeLabel: !0, animation: l }),
      a.children.forEach(function (u) {
        eM(u, r, n, i, l);
      }),
      eM(a, r, n, i, l);
  }
  function N1(r, e, t, n, i) {
    var a, o, s, l, u, c, f, d;
    if ('radial' === r) {
      (c = i.rawX), (d = i.rawY);
      var v = tv((u = n.rawX), (f = n.rawY)),
        g = tv(u, f + (d - f) * t),
        m = tv(c, d + (f - d) * t),
        y = tv(c, d);
      return {
        x1: v.x || 0,
        y1: v.y || 0,
        x2: y.x || 0,
        y2: y.y || 0,
        cpx1: g.x || 0,
        cpy1: g.y || 0,
        cpx2: m.x || 0,
        cpy2: m.y || 0,
      };
    }
    return (
      (u = n.x),
      (f = n.y),
      (c = i.x),
      (d = i.y),
      ('LR' === e || 'RL' === e) &&
        ((a = u + (c - u) * t), (o = f), (s = c + (u - c) * t), (l = d)),
      ('TB' === e || 'BT' === e) &&
        ((a = u), (o = f + (d - f) * t), (s = c), (l = d + (f - d) * t)),
      { x1: u, y1: f, x2: c, y2: d, cpx1: a, cpy1: o, cpx2: s, cpy2: l }
    );
  }
  var fo = S();
  function iM(r) {
    var e = r.mainData,
      t = r.datas;
    t || ((t = { main: e }), (r.datasAttr = { main: 'data' })),
      (r.datas = r.mainData = null),
      aM(e, t, r),
      F(t, function (n) {
        F(e.TRANSFERABLE_METHODS, function (i) {
          n.wrapMethod(i, me(kz, r));
        });
      }),
      e.wrapMethod('cloneShallow', me(Pz, r)),
      F(e.CHANGABLE_METHODS, function (n) {
        e.wrapMethod(n, me(Ez, r));
      }),
      lt(t[e.dataType] === e);
  }
  function kz(r, e) {
    if (
      (function Fz(r) {
        return fo(r).mainData === r;
      })(this)
    ) {
      var t = nt({}, fo(this).datas);
      (t[this.dataType] = e), aM(e, t, r);
    } else z1(e, this.dataType, fo(this).mainData, r);
    return e;
  }
  function Ez(r, e) {
    return r.struct && r.struct.update(), e;
  }
  function Pz(r, e) {
    return (
      F(fo(e).datas, function (t, n) {
        t !== e && z1(t.cloneShallow(), n, e, r);
      }),
      e
    );
  }
  function Rz(r) {
    var e = fo(this).mainData;
    return null == r || null == e ? e : fo(e).datas[r];
  }
  function Oz() {
    var r = fo(this).mainData;
    return null == r
      ? [{ data: r }]
      : Ut(Ne(fo(r).datas), function (e) {
          return { type: e, data: fo(r).datas[e] };
        });
  }
  function aM(r, e, t) {
    (fo(r).datas = {}),
      F(e, function (n, i) {
        z1(n, i, r, t);
      });
  }
  function z1(r, e, t, n) {
    (fo(t).datas[e] = r),
      (fo(r).mainData = t),
      (r.dataType = e),
      n.struct &&
        ((r[n.structAttr] = n.struct), (n.struct[n.datasAttr[e]] = r)),
      (r.getLinkedData = Rz),
      (r.getLinkedDataAll = Oz);
  }
  var Bz = (function () {
      function r(e, t) {
        (this.depth = 0),
          (this.height = 0),
          (this.dataIndex = -1),
          (this.children = []),
          (this.viewChildren = []),
          (this.isExpand = !1),
          (this.name = e || ''),
          (this.hostTree = t);
      }
      return (
        (r.prototype.isRemoved = function () {
          return this.dataIndex < 0;
        }),
        (r.prototype.eachNode = function (e, t, n) {
          fe(e) && ((n = t), (t = e), (e = null)),
            ht((e = e || {})) && (e = { order: e });
          var o,
            i = e.order || 'preorder',
            a = this[e.attr || 'children'];
          'preorder' === i && (o = t.call(n, this));
          for (var s = 0; !o && s < a.length; s++) a[s].eachNode(e, t, n);
          'postorder' === i && t.call(n, this);
        }),
        (r.prototype.updateDepthAndHeight = function (e) {
          var t = 0;
          this.depth = e;
          for (var n = 0; n < this.children.length; n++) {
            var i = this.children[n];
            i.updateDepthAndHeight(e + 1), i.height > t && (t = i.height);
          }
          this.height = t + 1;
        }),
        (r.prototype.getNodeById = function (e) {
          if (this.getId() === e) return this;
          for (var t = 0, n = this.children, i = n.length; t < i; t++) {
            var a = n[t].getNodeById(e);
            if (a) return a;
          }
        }),
        (r.prototype.contains = function (e) {
          if (e === this) return !0;
          for (var t = 0, n = this.children, i = n.length; t < i; t++) {
            var a = n[t].contains(e);
            if (a) return a;
          }
        }),
        (r.prototype.getAncestors = function (e) {
          for (var t = [], n = e ? this : this.parentNode; n; )
            t.push(n), (n = n.parentNode);
          return t.reverse(), t;
        }),
        (r.prototype.getAncestorsIndices = function () {
          for (var e = [], t = this; t; )
            e.push(t.dataIndex), (t = t.parentNode);
          return e.reverse(), e;
        }),
        (r.prototype.getDescendantIndices = function () {
          var e = [];
          return (
            this.eachNode(function (t) {
              e.push(t.dataIndex);
            }),
            e
          );
        }),
        (r.prototype.getValue = function (e) {
          var t = this.hostTree.data;
          return t
            .getStore()
            .get(t.getDimensionIndex(e || 'value'), this.dataIndex);
        }),
        (r.prototype.setLayout = function (e, t) {
          this.dataIndex >= 0 &&
            this.hostTree.data.setItemLayout(this.dataIndex, e, t);
        }),
        (r.prototype.getLayout = function () {
          return this.hostTree.data.getItemLayout(this.dataIndex);
        }),
        (r.prototype.getModel = function (e) {
          if (!(this.dataIndex < 0))
            return this.hostTree.data.getItemModel(this.dataIndex).getModel(e);
        }),
        (r.prototype.getLevelModel = function () {
          return (this.hostTree.levelModels || [])[this.depth];
        }),
        (r.prototype.setVisual = function (e, t) {
          this.dataIndex >= 0 &&
            this.hostTree.data.setItemVisual(this.dataIndex, e, t);
        }),
        (r.prototype.getVisual = function (e) {
          return this.hostTree.data.getItemVisual(this.dataIndex, e);
        }),
        (r.prototype.getRawIndex = function () {
          return this.hostTree.data.getRawIndex(this.dataIndex);
        }),
        (r.prototype.getId = function () {
          return this.hostTree.data.getId(this.dataIndex);
        }),
        (r.prototype.getChildIndex = function () {
          if (this.parentNode) {
            for (var e = this.parentNode.children, t = 0; t < e.length; ++t)
              if (e[t] === this) return t;
            return -1;
          }
          return -1;
        }),
        (r.prototype.isAncestorOf = function (e) {
          for (var t = e.parentNode; t; ) {
            if (t === this) return !0;
            t = t.parentNode;
          }
          return !1;
        }),
        (r.prototype.isDescendantOf = function (e) {
          return e !== this && e.isAncestorOf(this);
        }),
        r
      );
    })(),
    V1 = (function () {
      function r(e) {
        (this.type = 'tree'), (this._nodes = []), (this.hostModel = e);
      }
      return (
        (r.prototype.eachNode = function (e, t, n) {
          this.root.eachNode(e, t, n);
        }),
        (r.prototype.getNodeByDataIndex = function (e) {
          var t = this.data.getRawIndex(e);
          return this._nodes[t];
        }),
        (r.prototype.getNodeById = function (e) {
          return this.root.getNodeById(e);
        }),
        (r.prototype.update = function () {
          for (
            var e = this.data, t = this._nodes, n = 0, i = t.length;
            n < i;
            n++
          )
            t[n].dataIndex = -1;
          for (n = 0, i = e.count(); n < i; n++)
            t[e.getRawIndex(n)].dataIndex = n;
        }),
        (r.prototype.clearLayouts = function () {
          this.data.clearItemLayouts();
        }),
        (r.createTree = function (e, t, n) {
          var i = new r(t),
            a = [],
            o = 1;
          !(function s(c, f) {
            var d = c.value;
            (o = Math.max(o, Tt(d) ? d.length : 1)), a.push(c);
            var v = new Bz(gn(c.name, ''), i);
            f
              ? (function Nz(r, e) {
                  r.parentNode !== e &&
                    (e.children.push(r), (r.parentNode = e));
                })(v, f)
              : (i.root = v),
              i._nodes.push(v);
            var g = c.children;
            if (g) for (var m = 0; m < g.length; m++) s(g[m], v);
          })(e),
            i.root.updateDepthAndHeight(0);
          var l = Xf(a, {
              coordDimensions: ['value'],
              dimensionsCount: o,
            }).dimensions,
            u = new Zi(l, t);
          return (
            u.initData(a),
            n && n(u),
            iM({ mainData: u, struct: i, structAttr: 'tree' }),
            i.update(),
            i
          );
        }),
        r
      );
    })();
  function ev(r, e, t) {
    if (r && $(e, r.type) >= 0) {
      var n = t.getData().tree.root,
        i = r.targetNode;
      if ((ht(i) && (i = n.getNodeById(i)), i && n.contains(i)))
        return { node: i };
      var a = r.targetNodeId;
      if (null != a && (i = n.getNodeById(a))) return { node: i };
    }
  }
  function oM(r) {
    for (var e = []; r; ) (r = r.parentNode) && e.push(r);
    return e.reverse();
  }
  function H1(r, e) {
    return $(oM(r), e) >= 0;
  }
  function Wg(r, e) {
    for (var t = []; r; ) {
      var n = r.dataIndex;
      t.push({ name: r.name, dataIndex: n, value: e.getRawValue(n) }),
        (r = r.parentNode);
    }
    return t.reverse(), t;
  }
  var zz = (function (r) {
    function e() {
      var t = (null !== r && r.apply(this, arguments)) || this;
      return (t.hasSymbolVisual = !0), (t.ignoreStyleOnData = !0), t;
    }
    return (
      ut(e, r),
      (e.prototype.getInitialData = function (t) {
        var n = { name: t.name, children: t.data },
          a = new Yr(t.leaves || {}, this, this.ecModel),
          o = V1.createTree(n, this, function s(f) {
            f.wrapMethod('getItemModel', function (d, v) {
              var g = o.getNodeByDataIndex(v);
              return (
                (g && g.children.length && g.isExpand) || (d.parentModel = a), d
              );
            });
          }),
          l = 0;
        o.eachNode('preorder', function (f) {
          f.depth > l && (l = f.depth);
        });
        var c =
          t.expandAndCollapse && t.initialTreeDepth >= 0
            ? t.initialTreeDepth
            : l;
        return (
          o.root.eachNode('preorder', function (f) {
            var d = f.hostTree.data.getRawDataItem(f.dataIndex);
            f.isExpand = d && null != d.collapsed ? !d.collapsed : f.depth <= c;
          }),
          o.data
        );
      }),
      (e.prototype.getOrient = function () {
        var t = this.get('orient');
        return (
          'horizontal' === t ? (t = 'LR') : 'vertical' === t && (t = 'TB'), t
        );
      }),
      (e.prototype.setZoom = function (t) {
        this.option.zoom = t;
      }),
      (e.prototype.setCenter = function (t) {
        this.option.center = t;
      }),
      (e.prototype.formatTooltip = function (t, n, i) {
        for (
          var a = this.getData().tree,
            o = a.root.children[0],
            s = a.getNodeByDataIndex(t),
            l = s.getValue(),
            u = s.name;
          s && s !== o;

        )
          (u = s.parentNode.name + '.' + u), (s = s.parentNode);
        return si('nameValue', {
          name: u,
          value: l,
          noValue: isNaN(l) || null == l,
        });
      }),
      (e.prototype.getDataParams = function (t) {
        var n = r.prototype.getDataParams.apply(this, arguments),
          i = this.getData().tree.getNodeByDataIndex(t);
        return (n.treeAncestors = Wg(i, this)), (n.collapsed = !i.isExpand), n;
      }),
      (e.type = 'series.tree'),
      (e.layoutMode = 'box'),
      (e.defaultOption = {
        z: 2,
        coordinateSystem: 'view',
        left: '12%',
        top: '12%',
        right: '12%',
        bottom: '12%',
        layout: 'orthogonal',
        edgeShape: 'curve',
        edgeForkPosition: '50%',
        roam: !1,
        nodeScaleRatio: 0.4,
        center: null,
        zoom: 1,
        orient: 'LR',
        symbol: 'emptyCircle',
        symbolSize: 7,
        expandAndCollapse: !0,
        initialTreeDepth: 2,
        lineStyle: { color: '#ccc', width: 1.5, curveness: 0.5 },
        itemStyle: { color: 'lightsteelblue', borderWidth: 1.5 },
        label: { show: !0 },
        animationEasing: 'linear',
        animationDuration: 700,
        animationDurationUpdate: 500,
      }),
      e
    );
  })(nn);
  function rv(r, e) {
    for (var n, t = [r]; (n = t.pop()); )
      if ((e(n), n.isExpand)) {
        var i = n.children;
        if (i.length) for (var a = i.length - 1; a >= 0; a--) t.push(i[a]);
      }
  }
  function Hz(r, e) {
    r.eachSeriesByType('tree', function (t) {
      !(function Gz(r, e) {
        var t = (function _z(r, e) {
          return Vn(r.getBoxLayoutParams(), {
            width: e.getWidth(),
            height: e.getHeight(),
          });
        })(r, e);
        r.layoutInfo = t;
        var n = r.get('layout'),
          i = 0,
          a = 0,
          o = null;
        'radial' === n
          ? ((i = 2 * Math.PI),
            (a = Math.min(t.height, t.width) / 2),
            (o = QA(function (C, D) {
              return (C.parentNode === D.parentNode ? 1 : 2) / C.depth;
            })))
          : ((i = t.width), (a = t.height), (o = QA()));
        var s = r.getData().tree.root,
          l = s.children[0];
        if (l) {
          (function yz(r) {
            var e = r;
            e.hierNode = {
              defaultAncestor: null,
              ancestor: e,
              prelim: 0,
              modifier: 0,
              change: 0,
              shift: 0,
              i: 0,
              thread: null,
            };
            for (var n, i, t = [e]; (n = t.pop()); )
              if (((i = n.children), n.isExpand && i.length))
                for (var o = i.length - 1; o >= 0; o--) {
                  var s = i[o];
                  (s.hierNode = {
                    defaultAncestor: null,
                    ancestor: s,
                    prelim: 0,
                    modifier: 0,
                    change: 0,
                    shift: 0,
                    i: o,
                    thread: null,
                  }),
                    t.push(s);
                }
          })(s),
            (function Vz(r, e, t) {
              for (var a, n = [r], i = []; (a = n.pop()); )
                if ((i.push(a), a.isExpand)) {
                  var o = a.children;
                  if (o.length) for (var s = 0; s < o.length; s++) n.push(o[s]);
                }
              for (; (a = i.pop()); ) e(a, t);
            })(l, xz, o),
            (s.hierNode.modifier = -l.hierNode.prelim),
            rv(l, bz);
          var u = l,
            c = l,
            f = l;
          rv(l, function (C) {
            var D = C.getLayout().x;
            D < u.getLayout().x && (u = C),
              D > c.getLayout().x && (c = C),
              C.depth > f.depth && (f = C);
          });
          var d = u === c ? 1 : o(u, c) / 2,
            v = d - u.getLayout().x,
            g = 0,
            m = 0,
            y = 0,
            b = 0;
          if ('radial' === n)
            (g = i / (c.getLayout().x + d + v)),
              (m = a / (f.depth - 1 || 1)),
              rv(l, function (C) {
                var D = tv(
                  (y = (C.getLayout().x + v) * g),
                  (b = (C.depth - 1) * m)
                );
                C.setLayout({ x: D.x, y: D.y, rawX: y, rawY: b }, !0);
              });
          else {
            var w = r.getOrient();
            'RL' === w || 'LR' === w
              ? ((m = a / (c.getLayout().x + d + v)),
                (g = i / (f.depth - 1 || 1)),
                rv(l, function (C) {
                  (b = (C.getLayout().x + v) * m),
                    C.setLayout(
                      {
                        x: (y =
                          'LR' === w
                            ? (C.depth - 1) * g
                            : i - (C.depth - 1) * g),
                        y: b,
                      },
                      !0
                    );
                }))
              : ('TB' === w || 'BT' === w) &&
                ((g = i / (c.getLayout().x + d + v)),
                (m = a / (f.depth - 1 || 1)),
                rv(l, function (C) {
                  (y = (C.getLayout().x + v) * g),
                    C.setLayout(
                      {
                        x: y,
                        y: (b =
                          'TB' === w
                            ? (C.depth - 1) * m
                            : a - (C.depth - 1) * m),
                      },
                      !0
                    );
                }));
          }
        }
      })(t, e);
    });
  }
  function Wz(r) {
    r.eachSeriesByType('tree', function (e) {
      var t = e.getData();
      t.tree.eachNode(function (i) {
        var o = i.getModel().getModel('itemStyle').getItemStyle();
        nt(t.ensureUniqueItemVisual(i.dataIndex, 'style'), o);
      });
    });
  }
  var sM = ['treemapZoomToNode', 'treemapRender', 'treemapMove'];
  function lM(r) {
    var e = r.getData(),
      n = {};
    e.tree.eachNode(function (i) {
      for (var a = i; a && a.depth > 1; ) a = a.parentNode;
      var o = Vy(r.ecModel, a.name || a.dataIndex + '', n);
      i.setVisual('decal', o);
    });
  }
  var Xz = (function (r) {
    function e() {
      var t = (null !== r && r.apply(this, arguments)) || this;
      return (t.type = e.type), (t.preventUsingHoverLayer = !0), t;
    }
    return (
      ut(e, r),
      (e.prototype.getInitialData = function (t, n) {
        var i = { name: t.name, children: t.data };
        uM(i);
        var a = t.levels || [],
          o = (this.designatedVisualItemStyle = {}),
          s = new Yr({ itemStyle: o }, this, n);
        a = t.levels = (function Zz(r, e) {
          var t = qr(e.get('color')),
            n = qr(e.get(['aria', 'decal', 'decals']));
          if (t) {
            var i, a;
            F((r = r || []), function (s) {
              var l = new Yr(s),
                u = l.get('color'),
                c = l.get('decal');
              (l.get(['itemStyle', 'color']) || (u && 'none' !== u)) &&
                (i = !0),
                (l.get(['itemStyle', 'decal']) || (c && 'none' !== c)) &&
                  (a = !0);
            });
            var o = r[0] || (r[0] = {});
            return (
              i || (o.color = t.slice()), !a && n && (o.decal = n.slice()), r
            );
          }
        })(a, n);
        var l = Ut(
            a || [],
            function (f) {
              return new Yr(f, s, n);
            },
            this
          ),
          u = V1.createTree(i, this, function c(f) {
            f.wrapMethod('getItemModel', function (d, v) {
              var g = u.getNodeByDataIndex(v);
              return (d.parentModel = (g ? l[g.depth] : null) || s), d;
            });
          });
        return u.data;
      }),
      (e.prototype.optionUpdated = function () {
        this.resetViewRoot();
      }),
      (e.prototype.formatTooltip = function (t, n, i) {
        var a = this.getData(),
          o = this.getRawValue(t);
        return si('nameValue', { name: a.getName(t), value: o });
      }),
      (e.prototype.getDataParams = function (t) {
        var n = r.prototype.getDataParams.apply(this, arguments),
          i = this.getData().tree.getNodeByDataIndex(t);
        return (
          (n.treeAncestors = Wg(i, this)), (n.treePathInfo = n.treeAncestors), n
        );
      }),
      (e.prototype.setLayoutInfo = function (t) {
        (this.layoutInfo = this.layoutInfo || {}), nt(this.layoutInfo, t);
      }),
      (e.prototype.mapIdToIndex = function (t) {
        var n = this._idIndexMap;
        n || ((n = this._idIndexMap = Nt()), (this._idIndexMapCount = 0));
        var i = n.get(t);
        return null == i && n.set(t, (i = this._idIndexMapCount++)), i;
      }),
      (e.prototype.getViewRoot = function () {
        return this._viewRoot;
      }),
      (e.prototype.resetViewRoot = function (t) {
        t ? (this._viewRoot = t) : (t = this._viewRoot);
        var n = this.getRawData().tree.root;
        (!t || (t !== n && !n.contains(t))) && (this._viewRoot = n);
      }),
      (e.prototype.enableAriaDecal = function () {
        lM(this);
      }),
      (e.type = 'series.treemap'),
      (e.layoutMode = 'box'),
      (e.defaultOption = {
        progressive: 0,
        left: 'center',
        top: 'middle',
        width: '80%',
        height: '80%',
        sort: !0,
        clipWindow: 'origin',
        squareRatio: 0.5 * (1 + Math.sqrt(5)),
        leafDepth: null,
        drillDownIcon: '\u25b6',
        zoomToNodeRatio: 0.1024,
        roam: !0,
        nodeClick: 'zoomToNode',
        animation: !0,
        animationDurationUpdate: 900,
        animationEasing: 'quinticInOut',
        breadcrumb: {
          show: !0,
          height: 22,
          left: 'center',
          top: 'bottom',
          emptyItemWidth: 25,
          itemStyle: { color: 'rgba(0,0,0,0.7)', textStyle: { color: '#fff' } },
          emphasis: { itemStyle: { color: 'rgba(0,0,0,0.9)' } },
        },
        label: {
          show: !0,
          distance: 0,
          padding: 5,
          position: 'inside',
          color: '#fff',
          overflow: 'truncate',
        },
        upperLabel: {
          show: !1,
          position: [0, '50%'],
          height: 20,
          overflow: 'truncate',
          verticalAlign: 'middle',
        },
        itemStyle: {
          color: null,
          colorAlpha: null,
          colorSaturation: null,
          borderWidth: 0,
          gapWidth: 0,
          borderColor: '#fff',
          borderColorSaturation: null,
        },
        emphasis: {
          upperLabel: {
            show: !0,
            position: [0, '50%'],
            overflow: 'truncate',
            verticalAlign: 'middle',
          },
        },
        visualDimension: 0,
        visualMin: null,
        visualMax: null,
        color: [],
        colorAlpha: null,
        colorSaturation: null,
        colorMappingBy: 'index',
        visibleMin: 10,
        childrenVisibleMin: null,
        levels: [],
      }),
      e
    );
  })(nn);
  function uM(r) {
    var e = 0;
    F(r.children, function (n) {
      uM(n);
      var i = n.value;
      Tt(i) && (i = i[0]), (e += i);
    });
    var t = r.value;
    Tt(t) && (t = t[0]),
      (null == t || isNaN(t)) && (t = e),
      t < 0 && (t = 0),
      Tt(r.value) ? (r.value[0] = t) : (r.value = t);
  }
  var jz = (function () {
    function r(e) {
      (this.group = new Qe()), e.add(this.group);
    }
    return (
      (r.prototype.render = function (e, t, n, i) {
        var a = e.getModel('breadcrumb'),
          o = this.group;
        if ((o.removeAll(), a.get('show') && n)) {
          var s = a.getModel('itemStyle'),
            l = a.getModel('emphasis'),
            u = s.getModel('textStyle'),
            c = l.getModel(['itemStyle', 'textStyle']),
            f = {
              pos: {
                left: a.get('left'),
                right: a.get('right'),
                top: a.get('top'),
                bottom: a.get('bottom'),
              },
              box: { width: t.getWidth(), height: t.getHeight() },
              emptyItemWidth: a.get('emptyItemWidth'),
              totalWidth: 0,
              renderList: [],
            };
          this._prepare(n, f, u),
            this._renderContent(e, f, s, l, u, c, i),
            zp(o, f.pos, f.box);
        }
      }),
      (r.prototype._prepare = function (e, t, n) {
        for (var i = e; i; i = i.parentNode) {
          var a = gn(i.getModel().get('name'), ''),
            o = n.getTextRect(a),
            s = Math.max(o.width + 16, t.emptyItemWidth);
          (t.totalWidth += s + 8),
            t.renderList.push({ node: i, text: a, width: s });
        }
      }),
      (r.prototype._renderContent = function (e, t, n, i, a, o, s) {
        for (
          var l = 0,
            u = t.emptyItemWidth,
            c = e.get(['breadcrumb', 'height']),
            f = (function GP(r, e, t) {
              var n = e.width,
                i = e.height,
                a = Te(r.left, n),
                o = Te(r.top, i),
                s = Te(r.right, n),
                l = Te(r.bottom, i);
              return (
                (isNaN(a) || isNaN(parseFloat(r.left))) && (a = 0),
                (isNaN(s) || isNaN(parseFloat(r.right))) && (s = n),
                (isNaN(o) || isNaN(parseFloat(r.top))) && (o = 0),
                (isNaN(l) || isNaN(parseFloat(r.bottom))) && (l = i),
                (t = lc(t || 0)),
                {
                  width: Math.max(s - a - t[1] - t[3], 0),
                  height: Math.max(l - o - t[0] - t[2], 0),
                }
              );
            })(t.pos, t.box),
            d = t.totalWidth,
            v = t.renderList,
            g = i.getModel('itemStyle').getItemStyle(),
            m = v.length - 1;
          m >= 0;
          m--
        ) {
          var y = v[m],
            b = y.node,
            w = y.width,
            C = y.text;
          d > f.width && ((d -= w - u), (w = u), (C = null));
          var D = new Wi({
            shape: { points: Kz(l, 0, w, c, m === v.length - 1, 0 === m) },
            style: Ot(n.getItemStyle(), { lineJoin: 'bevel' }),
            textContent: new Or({ style: on(a, { text: C }) }),
            textConfig: { position: 'inside' },
            z2: 1e4 * yf,
            onclick: me(s, b),
          });
          (D.disableLabelAnimation = !0),
            (D.getTextContent().ensureState('emphasis').style = on(o, {
              text: C,
            })),
            (D.ensureState('emphasis').style = g),
            wn(D, i.get('focus'), i.get('blurScope'), i.get('disabled')),
            this.group.add(D),
            Qz(D, e, b),
            (l += w + 8);
        }
      }),
      (r.prototype.remove = function () {
        this.group.removeAll();
      }),
      r
    );
  })();
  function Kz(r, e, t, n, i, a) {
    var o = [
      [i ? r : r - 5, e],
      [r + t, e],
      [r + t, e + n],
      [i ? r : r - 5, e + n],
    ];
    return (
      !a && o.splice(2, 0, [r + t + 5, e + n / 2]),
      !i && o.push([r, e + n / 2]),
      o
    );
  }
  function Qz(r, e, t) {
    fr(r).eventData = {
      componentType: 'series',
      componentSubType: 'treemap',
      componentIndex: e.componentIndex,
      seriesIndex: e.seriesIndex,
      seriesName: e.name,
      seriesType: 'treemap',
      selfType: 'breadcrumb',
      nodeData: { dataIndex: t && t.dataIndex, name: t && t.name },
      treePathInfo: t && Wg(t, e),
    };
  }
  var Jz = (function () {
      function r() {
        (this._storage = []), (this._elExistsMap = {});
      }
      return (
        (r.prototype.add = function (e, t, n, i, a) {
          return (
            !this._elExistsMap[e.id] &&
            ((this._elExistsMap[e.id] = !0),
            this._storage.push({
              el: e,
              target: t,
              duration: n,
              delay: i,
              easing: a,
            }),
            !0)
          );
        }),
        (r.prototype.finished = function (e) {
          return (this._finishedCallback = e), this;
        }),
        (r.prototype.start = function () {
          for (
            var e = this,
              t = this._storage.length,
              n = function () {
                --t <= 0 &&
                  ((e._storage.length = 0),
                  (e._elExistsMap = {}),
                  e._finishedCallback && e._finishedCallback());
              },
              i = 0,
              a = this._storage.length;
            i < a;
            i++
          ) {
            var o = this._storage[i];
            o.el.animateTo(o.target, {
              duration: o.duration,
              delay: o.delay,
              easing: o.easing,
              setToFinal: !0,
              done: n,
              aborted: n,
            });
          }
          return this;
        }),
        r
      );
    })(),
    W1 = Qe,
    fM = Rr,
    vM = 'upperLabel',
    eV = 10 * yf,
    rV = 2 * yf,
    nV = 3 * yf,
    Oc = Sr([
      ['fill', 'color'],
      ['stroke', 'strokeColor'],
      ['lineWidth', 'strokeWidth'],
      ['shadowBlur'],
      ['shadowOffsetX'],
      ['shadowOffsetY'],
      ['shadowColor'],
    ]),
    pM = function (r) {
      var e = Oc(r);
      return (e.stroke = e.fill = e.lineWidth = null), e;
    },
    $g = S(),
    iV = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (
          (t.type = e.type),
          (t._state = 'ready'),
          (t._storage = { nodeGroup: [], background: [], content: [] }),
          t
        );
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i, a) {
          if (
            !(
              $(
                n.findComponents({
                  mainType: 'series',
                  subType: 'treemap',
                  query: a,
                }),
                t
              ) < 0
            )
          ) {
            (this.seriesModel = t), (this.api = i), (this.ecModel = n);
            var l = ev(a, ['treemapZoomToNode', 'treemapRootToNode'], t),
              u = a && a.type,
              c = t.layoutInfo,
              f = !this._oldTree,
              d = this._storage,
              v =
                'treemapRootToNode' === u && l && d
                  ? {
                      rootNodeGroup: d.nodeGroup[l.node.getRawIndex()],
                      direction: a.direction,
                    }
                  : null,
              g = this._giveContainerGroup(c),
              m = t.get('animation'),
              y = this._doRender(g, t, v);
            !m ||
            f ||
            (u && 'treemapZoomToNode' !== u && 'treemapRootToNode' !== u)
              ? y.renderFinally()
              : this._doAnimation(g, y, t, v),
              this._resetController(i),
              this._renderBreadcrumb(t, i, l);
          }
        }),
        (e.prototype._giveContainerGroup = function (t) {
          var n = this._containerGroup;
          return (
            n ||
              ((n = this._containerGroup = new W1()),
              this._initEvents(n),
              this.group.add(n)),
            (n.x = t.x),
            (n.y = t.y),
            n
          );
        }),
        (e.prototype._doRender = function (t, n, i) {
          var a = n.getData().tree,
            o = this._oldTree,
            s = { nodeGroup: [], background: [], content: [] },
            l = { nodeGroup: [], background: [], content: [] },
            u = this._storage,
            c = [];
          function f(y, b, w, C) {
            return (function aV(r, e, t, n, i, a, o, s, l, u) {
              if (o) {
                var c = o.getLayout(),
                  f = r.getData(),
                  d = o.getModel();
                if ((f.setItemGraphicEl(o.dataIndex, null), c && c.isInView)) {
                  var v = c.width,
                    g = c.height,
                    m = c.borderWidth,
                    y = c.invisible,
                    b = o.getRawIndex(),
                    w = s && s.getRawIndex(),
                    C = o.viewChildren,
                    D = c.upperHeight,
                    L = C && C.length,
                    M = d.getModel('itemStyle'),
                    E = d.getModel(['emphasis', 'itemStyle']),
                    O = d.getModel(['blur', 'itemStyle']),
                    z = d.getModel(['select', 'itemStyle']),
                    H = M.get('borderRadius') || 0,
                    G = er('nodeGroup', W1);
                  if (G) {
                    if (
                      (l.add(G),
                      (G.x = c.x || 0),
                      (G.y = c.y || 0),
                      G.markRedraw(),
                      ($g(G).nodeWidth = v),
                      ($g(G).nodeHeight = g),
                      c.isAboveViewRoot)
                    )
                      return G;
                    var X = er('background', fM, u, rV);
                    X &&
                      (function re(Dr, nr, Tr) {
                        var dr = fr(nr);
                        if (
                          ((dr.dataIndex = o.dataIndex),
                          (dr.seriesIndex = r.seriesIndex),
                          nr.setShape({
                            x: 0,
                            y: 0,
                            width: v,
                            height: g,
                            r: H,
                          }),
                          y)
                        )
                          ke(nr);
                        else {
                          nr.invisible = !1;
                          var Ze = o.getVisual('style'),
                            vr = Ze.stroke,
                            bn = pM(M);
                          bn.fill = vr;
                          var Vr = Oc(E);
                          Vr.fill = E.get('borderColor');
                          var An = Oc(O);
                          An.fill = O.get('borderColor');
                          var Cn = Oc(z);
                          (Cn.fill = z.get('borderColor')),
                            Tr
                              ? Ye(nr, vr, Ze.opacity, {
                                  x: m,
                                  y: 0,
                                  width: v - 2 * m,
                                  height: D,
                                })
                              : nr.removeTextContent(),
                            nr.setStyle(bn),
                            (nr.ensureState('emphasis').style = Vr),
                            (nr.ensureState('blur').style = An),
                            (nr.ensureState('select').style = Cn),
                            nc(nr);
                        }
                        Dr.add(nr);
                      })(G, X, L && c.upperLabelHeight);
                    var K = d.getModel('emphasis'),
                      tt = K.get('focus'),
                      ot = K.get('blurScope'),
                      pt = K.get('disabled'),
                      Xt =
                        'ancestor' === tt
                          ? o.getAncestorsIndices()
                          : 'descendant' === tt
                          ? o.getDescendantIndices()
                          : tt;
                    if (L)
                      $l(G) && ic(G, !1),
                        X &&
                          (ic(X, !pt),
                          f.setItemGraphicEl(o.dataIndex, X),
                          ay(X, Xt, ot));
                    else {
                      var Vt = er('content', fM, u, nV);
                      Vt &&
                        (function ye(Dr, nr) {
                          var Tr = fr(nr);
                          (Tr.dataIndex = o.dataIndex),
                            (Tr.seriesIndex = r.seriesIndex);
                          var dr = Math.max(v - 2 * m, 0),
                            Ze = Math.max(g - 2 * m, 0);
                          if (
                            ((nr.culling = !0),
                            nr.setShape({
                              x: m,
                              y: m,
                              width: dr,
                              height: Ze,
                              r: H,
                            }),
                            y)
                          )
                            ke(nr);
                          else {
                            nr.invisible = !1;
                            var vr = o.getVisual('style'),
                              bn = vr.fill,
                              Vr = pM(M);
                            (Vr.fill = bn), (Vr.decal = vr.decal);
                            var An = Oc(E),
                              Cn = Oc(O),
                              qi = Oc(z);
                            Ye(nr, bn, vr.opacity, null),
                              nr.setStyle(Vr),
                              (nr.ensureState('emphasis').style = An),
                              (nr.ensureState('blur').style = Cn),
                              (nr.ensureState('select').style = qi),
                              nc(nr);
                          }
                          Dr.add(nr);
                        })(G, Vt),
                        (X.disableMorphing = !0),
                        X && $l(X) && ic(X, !1),
                        ic(G, !pt),
                        f.setItemGraphicEl(o.dataIndex, G),
                        ay(G, Xt, ot);
                    }
                    return G;
                  }
                }
              }
              function ke(Dr) {
                !Dr.invisible && a.push(Dr);
              }
              function Ye(Dr, nr, Tr, dr) {
                var Ze = d.getModel(dr ? vM : 'label'),
                  vr = gn(d.get('name'), null),
                  bn = Ze.getShallow('show');
                Ci(Dr, oi(d, dr ? vM : 'label'), {
                  defaultText: bn ? vr : null,
                  inheritColor: nr,
                  defaultOpacity: Tr,
                  labelFetcher: r,
                  labelDataIndex: o.dataIndex,
                });
                var Vr = Dr.getTextContent();
                if (Vr) {
                  var An = Vr.style,
                    Cn = et(An.padding || 0);
                  dr &&
                    (Dr.setTextConfig({ layoutRect: dr }),
                    (Vr.disableLabelLayout = !0)),
                    (Vr.beforeUpdate = function () {
                      var hl = Math.max(
                          (dr ? dr.width : Dr.shape.width) - Cn[1] - Cn[3],
                          0
                        ),
                        Ma = Math.max(
                          (dr ? dr.height : Dr.shape.height) - Cn[0] - Cn[2],
                          0
                        );
                      (An.width !== hl || An.height !== Ma) &&
                        Vr.setStyle({ width: hl, height: Ma });
                    }),
                    (An.truncateMinChar = 2),
                    (An.lineOverflow = 'truncate'),
                    tr(An, dr, c);
                  var qi = Vr.getState('emphasis');
                  tr(qi ? qi.style : null, dr, c);
                }
              }
              function tr(Dr, nr, Tr) {
                var dr = Dr ? Dr.text : null;
                if (!nr && Tr.isLeafRoot && null != dr) {
                  var Ze = r.get('drillDownIcon', !0);
                  Dr.text = Ze ? Ze + ' ' + dr : dr;
                }
              }
              function er(Dr, nr, Tr, dr) {
                var Ze = null != w && t[Dr][w],
                  vr = i[Dr];
                return (
                  Ze
                    ? ((t[Dr][w] = null),
                      (function Cr(Dr, nr) {
                        var Tr = (Dr[b] = {});
                        nr instanceof W1
                          ? ((Tr.oldX = nr.x), (Tr.oldY = nr.y))
                          : (Tr.oldShape = nt({}, nr.shape));
                      })(vr, Ze))
                    : y ||
                      ((Ze = new nr()) instanceof sa &&
                        (Ze.z2 = (function oV(r, e) {
                          return r * eV + e;
                        })(Tr, dr)),
                      (function Er(Dr, nr) {
                        var Tr = (Dr[b] = {}),
                          dr = o.parentNode,
                          Ze = nr instanceof Qe;
                        if (dr && (!n || 'drillDown' === n.direction)) {
                          var vr = 0,
                            bn = 0,
                            Vr = i.background[dr.getRawIndex()];
                          !n &&
                            Vr &&
                            Vr.oldShape &&
                            ((vr = Vr.oldShape.width),
                            (bn = Vr.oldShape.height)),
                            Ze
                              ? ((Tr.oldX = 0), (Tr.oldY = bn))
                              : (Tr.oldShape = {
                                  x: vr,
                                  y: bn,
                                  width: 0,
                                  height: 0,
                                });
                        }
                        Tr.fadein = !Ze;
                      })(vr, Ze)),
                  (e[Dr][b] = Ze)
                );
              }
            })(n, l, u, i, s, c, y, b, w, C);
          }
          !(function v(y, b, w, C, D) {
            function L(E) {
              return E.getId();
            }
            function M(E, O) {
              var z = null != E ? y[E] : null,
                H = null != O ? b[O] : null,
                G = f(z, H, w, D);
              G &&
                v(
                  (z && z.viewChildren) || [],
                  (H && H.viewChildren) || [],
                  G,
                  C,
                  D + 1
                );
            }
            C
              ? ((b = y),
                F(y, function (E, O) {
                  !E.isRemoved() && M(O, O);
                }))
              : new nl(b, y, L, L)
                  .add(M)
                  .update(M)
                  .remove(me(M, null))
                  .execute();
          })(
            a.root ? [a.root] : [],
            o && o.root ? [o.root] : [],
            t,
            a === o || !o,
            0
          );
          var d = (function g(y) {
            var b = { nodeGroup: [], background: [], content: [] };
            return (
              y &&
                F(y, function (w, C) {
                  var D = b[C];
                  F(w, function (L) {
                    L && (D.push(L), ($g(L).willDelete = !0));
                  });
                }),
              b
            );
          })(u);
          return (
            (this._oldTree = a),
            (this._storage = l),
            {
              lastsForAnimation: s,
              willDeleteEls: d,
              renderFinally: function m() {
                F(d, function (y) {
                  F(y, function (b) {
                    b.parent && b.parent.remove(b);
                  });
                }),
                  F(c, function (y) {
                    (y.invisible = !0), y.dirty();
                  });
              },
            }
          );
        }),
        (e.prototype._doAnimation = function (t, n, i, a) {
          var o = i.get('animationDurationUpdate'),
            s = i.get('animationEasing'),
            l = (fe(o) ? 0 : o) || 0,
            u = (fe(s) ? null : s) || 'cubicOut',
            c = (function tV() {
              return new Jz();
            })();
          F(n.willDeleteEls, function (f, d) {
            F(f, function (v, g) {
              if (!v.invisible) {
                var y,
                  m = v.parent,
                  b = $g(m);
                if (a && 'drillDown' === a.direction)
                  y =
                    m === a.rootNodeGroup
                      ? {
                          shape: {
                            x: 0,
                            y: 0,
                            width: b.nodeWidth,
                            height: b.nodeHeight,
                          },
                          style: { opacity: 0 },
                        }
                      : { style: { opacity: 0 } };
                else {
                  var w = 0,
                    C = 0;
                  b.willDelete ||
                    ((w = b.nodeWidth / 2), (C = b.nodeHeight / 2)),
                    (y =
                      'nodeGroup' === d
                        ? { x: w, y: C, style: { opacity: 0 } }
                        : {
                            shape: { x: w, y: C, width: 0, height: 0 },
                            style: { opacity: 0 },
                          });
                }
                y && c.add(v, y, l, 0, u);
              }
            });
          }),
            F(
              this._storage,
              function (f, d) {
                F(f, function (v, g) {
                  var m = n.lastsForAnimation[d][g],
                    y = {};
                  m &&
                    (v instanceof Qe
                      ? null != m.oldX &&
                        ((y.x = v.x),
                        (y.y = v.y),
                        (v.x = m.oldX),
                        (v.y = m.oldY))
                      : (m.oldShape &&
                          ((y.shape = nt({}, v.shape)), v.setShape(m.oldShape)),
                        m.fadein
                          ? (v.setStyle('opacity', 0),
                            (y.style = { opacity: 1 }))
                          : 1 !== v.style.opacity &&
                            (y.style = { opacity: 1 })),
                    c.add(v, y, l, 0, u));
                });
              },
              this
            ),
            (this._state = 'animating'),
            c
              .finished(
                kt(function () {
                  (this._state = 'ready'), n.renderFinally();
                }, this)
              )
              .start();
        }),
        (e.prototype._resetController = function (t) {
          var n = this._controller;
          n ||
            ((n = this._controller = new Kd(t.getZr())).enable(
              this.seriesModel.get('roam')
            ),
            n.on('pan', kt(this._onPan, this)),
            n.on('zoom', kt(this._onZoom, this)));
          var i = new it(0, 0, t.getWidth(), t.getHeight());
          n.setPointerChecker(function (a, o, s) {
            return i.contain(o, s);
          });
        }),
        (e.prototype._clearController = function () {
          var t = this._controller;
          t && (t.dispose(), (t = null));
        }),
        (e.prototype._onPan = function (t) {
          if (
            'animating' !== this._state &&
            (Math.abs(t.dx) > 3 || Math.abs(t.dy) > 3)
          ) {
            var n = this.seriesModel.getData().tree.root;
            if (!n) return;
            var i = n.getLayout();
            if (!i) return;
            this.api.dispatchAction({
              type: 'treemapMove',
              from: this.uid,
              seriesId: this.seriesModel.id,
              rootRect: {
                x: i.x + t.dx,
                y: i.y + t.dy,
                width: i.width,
                height: i.height,
              },
            });
          }
        }),
        (e.prototype._onZoom = function (t) {
          var n = t.originX,
            i = t.originY;
          if ('animating' !== this._state) {
            var a = this.seriesModel.getData().tree.root;
            if (!a) return;
            var o = a.getLayout();
            if (!o) return;
            var s = new it(o.x, o.y, o.width, o.height),
              l = this.seriesModel.layoutInfo,
              u = [1, 0, 0, 1, 0, 0];
            Ri(u, u, [-(n -= l.x), -(i -= l.y)]),
              yo(u, u, [t.scale, t.scale]),
              Ri(u, u, [n, i]),
              s.applyTransform(u),
              this.api.dispatchAction({
                type: 'treemapRender',
                from: this.uid,
                seriesId: this.seriesModel.id,
                rootRect: { x: s.x, y: s.y, width: s.width, height: s.height },
              });
          }
        }),
        (e.prototype._initEvents = function (t) {
          var n = this;
          t.on(
            'click',
            function (i) {
              if ('ready' === n._state) {
                var a = n.seriesModel.get('nodeClick', !0);
                if (a) {
                  var o = n.findTarget(i.offsetX, i.offsetY);
                  if (o) {
                    var s = o.node;
                    if (s.getLayout().isLeafRoot) n._rootToNode(o);
                    else if ('zoomToNode' === a) n._zoomToNode(o);
                    else if ('link' === a) {
                      var l = s.hostTree.data.getItemModel(s.dataIndex),
                        u = l.get('link', !0),
                        c = l.get('target', !0) || 'blank';
                      u && Bp(u, c);
                    }
                  }
                }
              }
            },
            this
          );
        }),
        (e.prototype._renderBreadcrumb = function (t, n, i) {
          var a = this;
          i ||
            (i =
              null != t.get('leafDepth', !0)
                ? { node: t.getViewRoot() }
                : this.findTarget(n.getWidth() / 2, n.getHeight() / 2)) ||
            (i = { node: t.getData().tree.root }),
            (
              this._breadcrumb || (this._breadcrumb = new jz(this.group))
            ).render(t, n, i.node, function (o) {
              'animating' !== a._state &&
                (H1(t.getViewRoot(), o)
                  ? a._rootToNode({ node: o })
                  : a._zoomToNode({ node: o }));
            });
        }),
        (e.prototype.remove = function () {
          this._clearController(),
            this._containerGroup && this._containerGroup.removeAll(),
            (this._storage = { nodeGroup: [], background: [], content: [] }),
            (this._state = 'ready'),
            this._breadcrumb && this._breadcrumb.remove();
        }),
        (e.prototype.dispose = function () {
          this._clearController();
        }),
        (e.prototype._zoomToNode = function (t) {
          this.api.dispatchAction({
            type: 'treemapZoomToNode',
            from: this.uid,
            seriesId: this.seriesModel.id,
            targetNode: t.node,
          });
        }),
        (e.prototype._rootToNode = function (t) {
          this.api.dispatchAction({
            type: 'treemapRootToNode',
            from: this.uid,
            seriesId: this.seriesModel.id,
            targetNode: t.node,
          });
        }),
        (e.prototype.findTarget = function (t, n) {
          var i;
          return (
            this.seriesModel.getViewRoot().eachNode(
              { attr: 'viewChildren', order: 'preorder' },
              function (o) {
                var s = this._storage.background[o.getRawIndex()];
                if (s) {
                  var l = s.transformCoordToLocal(t, n),
                    u = s.shape;
                  if (
                    !(
                      u.x <= l[0] &&
                      l[0] <= u.x + u.width &&
                      u.y <= l[1] &&
                      l[1] <= u.y + u.height
                    )
                  )
                    return !1;
                  i = { node: o, offsetX: l[0], offsetY: l[1] };
                }
              },
              this
            ),
            i
          );
        }),
        (e.type = 'treemap'),
        e
      );
    })(en),
    iv = F,
    sV = Y,
    Ug = -1,
    ui = (function () {
      function r(e) {
        var t = e.mappingMethod,
          n = e.type,
          i = (this.option = ft(e));
        (this.type = n),
          (this.mappingMethod = t),
          (this._normalizeData = cV[t]);
        var a = r.visualHandlers[n];
        (this.applyVisual = a.applyVisual),
          (this.getColorMapper = a.getColorMapper),
          (this._normalizedToVisual = a._normalizedToVisual[t]),
          'piecewise' === t
            ? ($1(i),
              (function lV(r) {
                var e = r.pieceList;
                (r.hasSpecialVisual = !1),
                  F(e, function (t, n) {
                    (t.originIndex = n),
                      null != t.visual && (r.hasSpecialVisual = !0);
                  });
              })(i))
            : 'category' === t
            ? i.categories
              ? (function uV(r) {
                  var e = r.categories,
                    t = (r.categoryMap = {}),
                    n = r.visual;
                  if (
                    (iv(e, function (o, s) {
                      t[o] = s;
                    }),
                    !Tt(n))
                  ) {
                    var i = [];
                    Y(n)
                      ? iv(n, function (o, s) {
                          i[t[s] ?? Ug] = o;
                        })
                      : (i[Ug] = n),
                      (n = mM(r, i));
                  }
                  for (var a = e.length - 1; a >= 0; a--)
                    null == n[a] && (delete t[e[a]], e.pop());
                })(i)
              : $1(i, !0)
            : (lt('linear' !== t || i.dataExtent), $1(i));
      }
      return (
        (r.prototype.mapValueToVisual = function (e) {
          var t = this._normalizeData(e);
          return this._normalizedToVisual(t, e);
        }),
        (r.prototype.getNormalizer = function () {
          return kt(this._normalizeData, this);
        }),
        (r.listVisualTypes = function () {
          return Ne(r.visualHandlers);
        }),
        (r.isValidType = function (e) {
          return r.visualHandlers.hasOwnProperty(e);
        }),
        (r.eachVisual = function (e, t, n) {
          Y(e) ? F(e, t, n) : t.call(n, e);
        }),
        (r.mapVisual = function (e, t, n) {
          var i,
            a = Tt(e) ? [] : Y(e) ? {} : ((i = !0), null);
          return (
            r.eachVisual(e, function (o, s) {
              var l = t.call(n, o, s);
              i ? (a = l) : (a[s] = l);
            }),
            a
          );
        }),
        (r.retrieveVisuals = function (e) {
          var n,
            t = {};
          return (
            e &&
              iv(r.visualHandlers, function (i, a) {
                e.hasOwnProperty(a) && ((t[a] = e[a]), (n = !0));
              }),
            n ? t : null
          );
        }),
        (r.prepareVisualTypes = function (e) {
          if (Tt(e)) e = e.slice();
          else {
            if (!sV(e)) return [];
            var t = [];
            iv(e, function (n, i) {
              t.push(i);
            }),
              (e = t);
          }
          return (
            e.sort(function (n, i) {
              return 'color' === i && 'color' !== n && 0 === n.indexOf('color')
                ? 1
                : -1;
            }),
            e
          );
        }),
        (r.dependsOn = function (e, t) {
          return 'color' === t ? !(!e || 0 !== e.indexOf(t)) : e === t;
        }),
        (r.findPieceIndex = function (e, t, n) {
          for (var i, a = 1 / 0, o = 0, s = t.length; o < s; o++) {
            var l = t[o].value;
            if (null != l) {
              if (l === e || (ht(l) && l === e + '')) return o;
              n && d(l, o);
            }
          }
          for (o = 0, s = t.length; o < s; o++) {
            var u = t[o],
              c = u.interval,
              f = u.close;
            if (c) {
              if (c[0] === -1 / 0) {
                if (Xg(f[1], e, c[1])) return o;
              } else if (c[1] === 1 / 0) {
                if (Xg(f[0], c[0], e)) return o;
              } else if (Xg(f[0], c[0], e) && Xg(f[1], e, c[1])) return o;
              n && d(c[0], o), n && d(c[1], o);
            }
          }
          if (n) return e === 1 / 0 ? t.length - 1 : e === -1 / 0 ? 0 : i;
          function d(v, g) {
            var m = Math.abs(v - e);
            m < a && ((a = m), (i = g));
          }
        }),
        (r.visualHandlers = {
          color: {
            applyVisual: av('color'),
            getColorMapper: function () {
              var e = this.option;
              return kt(
                'category' === e.mappingMethod
                  ? function (t, n) {
                      return (
                        !n && (t = this._normalizeData(t)), ov.call(this, t)
                      );
                    }
                  : function (t, n, i) {
                      var a = !!i;
                      return (
                        !n && (t = this._normalizeData(t)),
                        (i = bl(t, e.parsedVisual, i)),
                        a ? i : Bi(i, 'rgba')
                      );
                    },
                this
              );
            },
            _normalizedToVisual: {
              linear: function (e) {
                return Bi(bl(e, this.option.parsedVisual), 'rgba');
              },
              category: ov,
              piecewise: function (e, t) {
                var n = Y1.call(this, t);
                return (
                  null == n &&
                    (n = Bi(bl(e, this.option.parsedVisual), 'rgba')),
                  n
                );
              },
              fixed: Fc,
            },
          },
          colorHue: Yg(function (e, t) {
            return Do(e, t);
          }),
          colorSaturation: Yg(function (e, t) {
            return Do(e, null, t);
          }),
          colorLightness: Yg(function (e, t) {
            return Do(e, null, null, t);
          }),
          colorAlpha: Yg(function (e, t) {
            return Sl(e, t);
          }),
          decal: {
            applyVisual: av('decal'),
            _normalizedToVisual: {
              linear: null,
              category: ov,
              piecewise: null,
              fixed: null,
            },
          },
          opacity: {
            applyVisual: av('opacity'),
            _normalizedToVisual: U1([0, 1]),
          },
          liftZ: {
            applyVisual: av('liftZ'),
            _normalizedToVisual: {
              linear: Fc,
              category: Fc,
              piecewise: Fc,
              fixed: Fc,
            },
          },
          symbol: {
            applyVisual: function (e, t, n) {
              n('symbol', this.mapValueToVisual(e));
            },
            _normalizedToVisual: {
              linear: gM,
              category: ov,
              piecewise: function (e, t) {
                var n = Y1.call(this, t);
                return null == n && (n = gM.call(this, e)), n;
              },
              fixed: Fc,
            },
          },
          symbolSize: {
            applyVisual: av('symbolSize'),
            _normalizedToVisual: U1([0, 1]),
          },
        }),
        r
      );
    })();
  function $1(r, e) {
    var t = r.visual,
      n = [];
    Y(t)
      ? iv(t, function (a) {
          n.push(a);
        })
      : null != t && n.push(t),
      !e &&
        1 === n.length &&
        !{ color: 1, symbol: 1 }.hasOwnProperty(r.type) &&
        (n[1] = n[0]),
      mM(r, n);
  }
  function Yg(r) {
    return {
      applyVisual: function (e, t, n) {
        var i = this.mapValueToVisual(e);
        n('color', r(t('color'), i));
      },
      _normalizedToVisual: U1([0, 1]),
    };
  }
  function gM(r) {
    var e = this.option.visual;
    return e[Math.round(kr(r, [0, 1], [0, e.length - 1], !0))] || {};
  }
  function av(r) {
    return function (e, t, n) {
      n(r, this.mapValueToVisual(e));
    };
  }
  function ov(r) {
    var e = this.option.visual;
    return e[this.option.loop && r !== Ug ? r % e.length : r];
  }
  function Fc() {
    return this.option.visual[0];
  }
  function U1(r) {
    return {
      linear: function (e) {
        return kr(e, r, this.option.visual, !0);
      },
      category: ov,
      piecewise: function (e, t) {
        var n = Y1.call(this, t);
        return null == n && (n = kr(e, r, this.option.visual, !0)), n;
      },
      fixed: Fc,
    };
  }
  function Y1(r) {
    var e = this.option,
      t = e.pieceList;
    if (e.hasSpecialVisual) {
      var i = t[ui.findPieceIndex(r, t)];
      if (i && i.visual) return i.visual[this.type];
    }
  }
  function mM(r, e) {
    return (
      (r.visual = e),
      'color' === r.type &&
        (r.parsedVisual = Ut(e, function (t) {
          var n = vi(t);
          return (
            n ||
              ln("'" + t + "' is an illegal color, fallback to '#000000'", !0),
            n || [0, 0, 0, 1]
          );
        })),
      e
    );
  }
  var cV = {
    linear: function (r) {
      return kr(r, this.option.dataExtent, [0, 1], !0);
    },
    piecewise: function (r) {
      var e = this.option.pieceList,
        t = ui.findPieceIndex(r, e, !0);
      if (null != t) return kr(t, [0, e.length - 1], [0, 1], !0);
    },
    category: function (r) {
      return (this.option.categories ? this.option.categoryMap[r] : r) ?? Ug;
    },
    fixed: Ke,
  };
  function Xg(r, e, t) {
    return r ? e <= t : e < t;
  }
  var yM = S(),
    hV = {
      seriesType: 'treemap',
      reset: function (r) {
        var t = r.getData().tree.root;
        t.isRemoved() || xM(t, {}, r.getViewRoot().getAncestors(), r);
      },
    };
  function xM(r, e, t, n) {
    var i = r.getModel(),
      a = r.getLayout(),
      o = r.hostTree.data;
    if (a && !a.invisible && a.isInView) {
      var d,
        s = i.getModel('itemStyle'),
        l = (function dV(r, e, t) {
          var n = nt({}, e),
            i = t.designatedVisualItemStyle;
          return (
            F(['color', 'colorAlpha', 'colorSaturation'], function (a) {
              i[a] = e[a];
              var o = r.get(a);
              (i[a] = null), null != o && (n[a] = o);
            }),
            n
          );
        })(s, e, n),
        u = o.ensureUniqueItemVisual(r.dataIndex, 'style'),
        c = s.get('borderColor'),
        f = s.get('borderColorSaturation');
      null != f &&
        (c = (function vV(r, e) {
          return null != e ? Do(e, null, null, r) : null;
        })(f, (d = bM(l)))),
        (u.stroke = c);
      var v = r.viewChildren;
      if (v && v.length) {
        var g = (function pV(r, e, t, n, i, a) {
          if (a && a.length) {
            var o =
              Z1(e, 'color') ||
              (null != i.color &&
                'none' !== i.color &&
                (Z1(e, 'colorAlpha') || Z1(e, 'colorSaturation')));
            if (o) {
              var s = e.get('visualMin'),
                l = e.get('visualMax'),
                u = t.dataExtent.slice();
              null != s && s < u[0] && (u[0] = s),
                null != l && l > u[1] && (u[1] = l);
              var c = e.get('colorMappingBy'),
                f = { type: o.name, dataExtent: u, visual: o.range };
              'color' !== f.type || ('index' !== c && 'id' !== c)
                ? (f.mappingMethod = 'linear')
                : ((f.mappingMethod = 'category'), (f.loop = !0));
              var d = new ui(f);
              return (yM(d).drColorMappingBy = c), d;
            }
          }
        })(0, i, a, 0, l, v);
        F(v, function (m, y) {
          if (m.depth >= t.length || m === t[m.depth]) {
            var b = (function gV(r, e, t, n, i, a) {
              var o = nt({}, e);
              if (i) {
                var s = i.type,
                  l = 'color' === s && yM(i).drColorMappingBy,
                  u =
                    'index' === l
                      ? n
                      : 'id' === l
                      ? a.mapIdToIndex(t.getId())
                      : t.getValue(r.get('visualDimension'));
                o[s] = i.mapValueToVisual(u);
              }
              return o;
            })(i, l, m, y, g, n);
            xM(m, b, t, n);
          }
        });
      } else (d = bM(l)), (u.fill = d);
    }
  }
  function bM(r) {
    var e = X1(r, 'color');
    if (e) {
      var t = X1(r, 'colorAlpha'),
        n = X1(r, 'colorSaturation');
      return n && (e = Do(e, null, null, n)), t && (e = Sl(e, t)), e;
    }
  }
  function X1(r, e) {
    var t = r[e];
    if (null != t && 'none' !== t) return t;
  }
  function Z1(r, e) {
    var t = r.get(e);
    return Tt(t) && t.length ? { name: e, range: t } : null;
  }
  var sv = Math.max,
    Zg = Math.min,
    _M = xe,
    q1 = F,
    SM = ['itemStyle', 'borderWidth'],
    mV = ['itemStyle', 'gapWidth'],
    yV = ['upperLabel', 'show'],
    xV = ['upperLabel', 'height'],
    bV = {
      seriesType: 'treemap',
      reset: function (r, e, t, n) {
        var i = t.getWidth(),
          a = t.getHeight(),
          o = r.option,
          s = Vn(r.getBoxLayoutParams(), {
            width: t.getWidth(),
            height: t.getHeight(),
          }),
          l = o.size || [],
          u = Te(_M(s.width, l[0]), i),
          c = Te(_M(s.height, l[1]), a),
          f = n && n.type,
          v = ev(n, ['treemapZoomToNode', 'treemapRootToNode'], r),
          g = 'treemapRender' === f || 'treemapMove' === f ? n.rootRect : null,
          m = r.getViewRoot(),
          y = oM(m);
        if ('treemapMove' !== f) {
          var b =
              'treemapZoomToNode' === f
                ? (function TV(r, e, t, n, i) {
                    var a = (e || {}).node,
                      o = [n, i];
                    if (!a || a === t) return o;
                    for (
                      var s, l = n * i, u = l * r.option.zoomToNodeRatio;
                      (s = a.parentNode);

                    ) {
                      for (
                        var c = 0, f = s.children, d = 0, v = f.length;
                        d < v;
                        d++
                      )
                        c += f[d].getValue();
                      var g = a.getValue();
                      if (0 === g) return o;
                      u *= c / g;
                      var m = s.getModel(),
                        y = m.get(SM);
                      (u +=
                        4 * y * y +
                        (3 * y + Math.max(y, TM(m))) * Math.pow(u, 0.5)) > Nu &&
                        (u = Nu),
                        (a = s);
                    }
                    u < l && (u = l);
                    var w = Math.pow(u / l, 0.5);
                    return [n * w, i * w];
                  })(r, v, m, u, c)
                : g
                ? [g.width, g.height]
                : [u, c],
            w = o.sort;
          w && 'asc' !== w && 'desc' !== w && (w = 'desc');
          var C = {
            squareRatio: o.squareRatio,
            sort: w,
            leafDepth: o.leafDepth,
          };
          m.hostTree.clearLayouts();
          var D = { x: 0, y: 0, width: b[0], height: b[1], area: b[0] * b[1] };
          m.setLayout(D),
            wM(m, C, !1, 0),
            (D = m.getLayout()),
            q1(y, function (M, E) {
              var O = (y[E + 1] || m).getValue();
              M.setLayout(
                nt({ dataExtent: [O, O], borderWidth: 0, upperHeight: 0 }, D)
              );
            });
        }
        var L = r.getData().tree.root;
        L.setLayout(
          (function AV(r, e, t) {
            if (e) return { x: e.x, y: e.y };
            var n = { x: 0, y: 0 };
            if (!t) return n;
            var i = t.node,
              a = i.getLayout();
            if (!a) return n;
            for (var o = [a.width / 2, a.height / 2], s = i; s; ) {
              var l = s.getLayout();
              (o[0] += l.x), (o[1] += l.y), (s = s.parentNode);
            }
            return { x: r.width / 2 - o[0], y: r.height / 2 - o[1] };
          })(s, g, v),
          !0
        ),
          r.setLayoutInfo(s),
          DM(L, new it(-s.x, -s.y, i, a), y, m, 0);
      },
    };
  function wM(r, e, t, n) {
    var i, a;
    if (!r.isRemoved()) {
      var o = r.getLayout();
      (i = o.width), (a = o.height);
      var s = r.getModel(),
        l = s.get(SM),
        u = s.get(mV) / 2,
        c = TM(s),
        f = Math.max(l, c),
        d = l - u,
        v = f - u;
      r.setLayout({ borderWidth: l, upperHeight: f, upperLabelHeight: c }, !0);
      var g = (i = sv(i - 2 * d, 0)) * (a = sv(a - d - v, 0)),
        m = (function _V(r, e, t, n, i, a) {
          var o = r.children || [],
            s = n.sort;
          'asc' !== s && 'desc' !== s && (s = null);
          var l = null != n.leafDepth && n.leafDepth <= a;
          if (i && !l) return (r.viewChildren = []);
          (o = je(o, function (v) {
            return !v.isRemoved();
          })),
            (function wV(r, e) {
              e &&
                r.sort(function (t, n) {
                  var i =
                    'asc' === e
                      ? t.getValue() - n.getValue()
                      : n.getValue() - t.getValue();
                  return 0 === i
                    ? 'asc' === e
                      ? t.dataIndex - n.dataIndex
                      : n.dataIndex - t.dataIndex
                    : i;
                });
            })(o, s);
          var u = (function CV(r, e, t) {
            for (var n = 0, i = 0, a = e.length; i < a; i++)
              n += e[i].getValue();
            var s,
              o = r.get('visualDimension');
            return (
              e && e.length
                ? 'value' === o && t
                  ? ((s = [e[e.length - 1].getValue(), e[0].getValue()]),
                    'asc' === t && s.reverse())
                  : ((s = [1 / 0, -1 / 0]),
                    q1(e, function (l) {
                      var u = l.getValue(o);
                      u < s[0] && (s[0] = u), u > s[1] && (s[1] = u);
                    }))
                : (s = [NaN, NaN]),
              { sum: n, dataExtent: s }
            );
          })(e, o, s);
          if (0 === u.sum) return (r.viewChildren = []);
          if (
            ((u.sum = (function SV(r, e, t, n, i) {
              if (!n) return t;
              for (
                var a = r.get('visibleMin'), o = i.length, s = o, l = o - 1;
                l >= 0;
                l--
              ) {
                var u = i['asc' === n ? o - l - 1 : l].getValue();
                (u / t) * e < a && ((s = l), (t -= u));
              }
              return i.splice('asc' === n ? 0 : s, o - s), t;
            })(e, t, u.sum, s, o)),
            0 === u.sum)
          )
            return (r.viewChildren = []);
          for (var c = 0, f = o.length; c < f; c++) {
            var d = (o[c].getValue() / u.sum) * t;
            o[c].setLayout({ area: d });
          }
          return (
            l &&
              (o.length && r.setLayout({ isLeafRoot: !0 }, !0), (o.length = 0)),
            (r.viewChildren = o),
            r.setLayout({ dataExtent: u.dataExtent }, !0),
            o
          );
        })(r, s, g, e, t, n);
      if (m.length) {
        var y = { x: d, y: v, width: i, height: a },
          b = Zg(i, a),
          w = 1 / 0,
          C = [];
        C.area = 0;
        for (var D = 0, L = m.length; D < L; ) {
          var M = m[D];
          C.push(M), (C.area += M.getLayout().area);
          var E = DV(C, b, e.squareRatio);
          E <= w
            ? (D++, (w = E))
            : ((C.area -= C.pop().getLayout().area),
              CM(C, b, y, u, !1),
              (b = Zg(y.width, y.height)),
              (C.length = C.area = 0),
              (w = 1 / 0));
        }
        if ((C.length && CM(C, b, y, u, !0), !t)) {
          var O = s.get('childrenVisibleMin');
          null != O && g < O && (t = !0);
        }
        for (D = 0, L = m.length; D < L; D++) wM(m[D], e, t, n + 1);
      }
    }
  }
  function DV(r, e, t) {
    for (var n = 0, i = 1 / 0, a = 0, o = void 0, s = r.length; a < s; a++)
      (o = r[a].getLayout().area) && (o < i && (i = o), o > n && (n = o));
    var l = r.area * r.area,
      u = e * e * t;
    return l ? sv((u * n) / l, l / (u * i)) : 1 / 0;
  }
  function CM(r, e, t, n, i) {
    var a = e === t.width ? 0 : 1,
      o = 1 - a,
      s = ['x', 'y'],
      l = ['width', 'height'],
      u = t[s[a]],
      c = e ? r.area / e : 0;
    (i || c > t[l[o]]) && (c = t[l[o]]);
    for (var f = 0, d = r.length; f < d; f++) {
      var v = r[f],
        g = {},
        m = c ? v.getLayout().area / c : 0,
        y = (g[l[o]] = sv(c - 2 * n, 0)),
        b = t[s[a]] + t[l[a]] - u,
        w = f === d - 1 || b < m ? b : m,
        C = (g[l[a]] = sv(w - 2 * n, 0));
      (g[s[o]] = t[s[o]] + Zg(n, y / 2)),
        (g[s[a]] = u + Zg(n, C / 2)),
        (u += w),
        v.setLayout(g, !0);
    }
    (t[s[o]] += c), (t[l[o]] -= c);
  }
  function DM(r, e, t, n, i) {
    var a = r.getLayout(),
      o = t[i],
      s = o && o === r;
    if (!((o && !s) || (i === t.length && r !== n))) {
      r.setLayout(
        { isInView: !0, invisible: !s && !e.intersect(a), isAboveViewRoot: s },
        !0
      );
      var l = new it(e.x - a.x, e.y - a.y, e.width, e.height);
      q1(r.viewChildren || [], function (u) {
        DM(u, l, t, n, i + 1);
      });
    }
  }
  function TM(r) {
    return r.get(yV) ? r.get(xV) : 0;
  }
  function LV(r) {
    var e = r.findComponents({ mainType: 'legend' });
    !e ||
      !e.length ||
      r.eachSeriesByType('graph', function (t) {
        var n = t.getCategoriesData(),
          a = t.getGraph().data,
          o = n.mapArray(n.getName);
        a.filterSelf(function (s) {
          var u = a.getItemModel(s).getShallow('category');
          if (null != u) {
            U(u) && (u = o[u]);
            for (var c = 0; c < e.length; c++)
              if (!e[c].isSelected(u)) return !1;
          }
          return !0;
        });
      });
  }
  function IV(r) {
    var e = {};
    r.eachSeriesByType('graph', function (t) {
      var n = t.getCategoriesData(),
        i = t.getData(),
        a = {};
      n.each(function (o) {
        var s = n.getName(o);
        a['ec-' + s] = o;
        var l = n.getItemModel(o),
          u = l.getModel('itemStyle').getItemStyle();
        u.fill || (u.fill = t.getColorFromPalette(s, e)),
          n.setItemVisual(o, 'style', u);
        for (
          var c = ['symbol', 'symbolSize', 'symbolKeepAspect'], f = 0;
          f < c.length;
          f++
        ) {
          var d = l.getShallow(c[f], !0);
          null != d && n.setItemVisual(o, c[f], d);
        }
      }),
        n.count() &&
          i.each(function (o) {
            var l = i.getItemModel(o).getShallow('category');
            if (null != l) {
              ht(l) && (l = a['ec-' + l]);
              var u = n.getItemVisual(l, 'style');
              nt(i.ensureUniqueItemVisual(o, 'style'), u);
              for (
                var f = ['symbol', 'symbolSize', 'symbolKeepAspect'], d = 0;
                d < f.length;
                d++
              )
                i.setItemVisual(o, f[d], n.getItemVisual(l, f[d]));
            }
          });
    });
  }
  function qg(r) {
    return r instanceof Array || (r = [r, r]), r;
  }
  function kV(r) {
    r.eachSeriesByType('graph', function (e) {
      var t = e.getGraph(),
        n = e.getEdgeData(),
        i = qg(e.get('edgeSymbol')),
        a = qg(e.get('edgeSymbolSize'));
      n.setVisual('fromSymbol', i && i[0]),
        n.setVisual('toSymbol', i && i[1]),
        n.setVisual('fromSymbolSize', a && a[0]),
        n.setVisual('toSymbolSize', a && a[1]),
        n.setVisual('style', e.getModel('lineStyle').getLineStyle()),
        n.each(function (o) {
          var s = n.getItemModel(o),
            l = t.getEdgeByIndex(o),
            u = qg(s.getShallow('symbol', !0)),
            c = qg(s.getShallow('symbolSize', !0)),
            f = s.getModel('lineStyle').getLineStyle(),
            d = n.ensureUniqueItemVisual(o, 'style');
          switch ((nt(d, f), d.stroke)) {
            case 'source':
              var v = l.node1.getVisual('style');
              d.stroke = v && v.fill;
              break;
            case 'target':
              (v = l.node2.getVisual('style')), (d.stroke = v && v.fill);
          }
          u[0] && l.setVisual('fromSymbol', u[0]),
            u[1] && l.setVisual('toSymbol', u[1]),
            c[0] && l.setVisual('fromSymbolSize', c[0]),
            c[1] && l.setVisual('toSymbolSize', c[1]);
        });
    });
  }
  var jg = function (r) {
      return r.get('autoCurveness') || null;
    },
    AM = function (r, e) {
      var t = jg(r),
        n = 20,
        i = [];
      if (U(t)) n = t;
      else if (Tt(t)) return void (r.__curvenessList = t);
      e > n && (n = e);
      var a = n % 2 ? n + 2 : n + 3;
      i = [];
      for (var o = 0; o < a; o++)
        i.push(((o % 2 ? o + 1 : o) / 10) * (o % 2 ? -1 : 1));
      r.__curvenessList = i;
    },
    lv = function (r, e, t) {
      var n = [r.id, r.dataIndex].join('.'),
        i = [e.id, e.dataIndex].join('.');
      return [t.uid, n, i].join('--\x3e');
    },
    MM = function (r) {
      var e = r.split('--\x3e');
      return [e[0], e[2], e[1]].join('--\x3e');
    },
    EV = function (r, e) {
      var t = lv(r.node1, r.node2, e);
      return e.__edgeMap[t];
    },
    PV = function (r, e) {
      return K1(lv(r.node1, r.node2, e), e) + K1(lv(r.node2, r.node1, e), e);
    },
    K1 = function (r, e) {
      var t = e.__edgeMap;
      return t[r] ? t[r].length : 0;
    };
  function Q1(r, e, t, n) {
    var i = jg(e),
      a = Tt(i);
    if (!i) return null;
    var o = EV(r, e);
    if (!o) return null;
    for (var s = -1, l = 0; l < o.length; l++)
      if (o[l] === t) {
        s = l;
        break;
      }
    var u = PV(r, e);
    AM(e, u), (r.lineStyle = r.lineStyle || {});
    var c = lv(r.node1, r.node2, e),
      f = e.__curvenessList,
      d = a || u % 2 ? 0 : 1;
    if (o.isForward) return f[d + s];
    var v = MM(c),
      g = K1(v, e),
      m = f[s + g + d];
    return n
      ? a
        ? i && 0 === i[0]
          ? (g + d) % 2
            ? m
            : -m
          : ((g % 2 ? 0 : 1) + d) % 2
          ? m
          : -m
        : (g + d) % 2
        ? m
        : -m
      : f[s + g + d];
  }
  function LM(r) {
    var e = r.coordinateSystem;
    if (!e || 'view' === e.type) {
      var t = r.getGraph();
      t.eachNode(function (n) {
        var i = n.getModel();
        n.setLayout([+i.get('x'), +i.get('y')]);
      }),
        J1(t, r);
    }
  }
  function J1(r, e) {
    r.eachEdge(function (t, n) {
      var i = J(
          t.getModel().get(['lineStyle', 'curveness']),
          -Q1(t, e, n, !0),
          0
        ),
        a = Mn(t.node1.getLayout()),
        o = Mn(t.node2.getLayout()),
        s = [a, o];
      +i &&
        s.push([
          (a[0] + o[0]) / 2 - (a[1] - o[1]) * i,
          (a[1] + o[1]) / 2 - (o[0] - a[0]) * i,
        ]),
        t.setLayout(s);
    });
  }
  function FV(r, e) {
    r.eachSeriesByType('graph', function (t) {
      var n = t.get('layout'),
        i = t.coordinateSystem;
      if (i && 'view' !== i.type) {
        var a = t.getData(),
          o = [];
        F(i.dimensions, function (d) {
          o = o.concat(a.mapDimensionsAll(d));
        });
        for (var s = 0; s < a.count(); s++) {
          for (var l = [], u = !1, c = 0; c < o.length; c++) {
            var f = a.get(o[c], s);
            isNaN(f) || (u = !0), l.push(f);
          }
          a.setItemLayout(s, u ? i.dataToPoint(l) : [NaN, NaN]);
        }
        J1(a.graph, t);
      } else (!n || 'none' === n) && LM(t);
    });
  }
  function uv(r) {
    var e = r.coordinateSystem;
    if ('view' !== e.type) return 1;
    var t = r.option.nodeScaleRatio,
      n = e.scaleX;
    return ((e.getZoom() - 1) * t + 1) / n;
  }
  function cv(r) {
    var e = r.getVisual('symbolSize');
    return e instanceof Array && (e = (e[0] + e[1]) / 2), +e;
  }
  var IM = Math.PI,
    tx = [];
  function ex(r, e, t, n) {
    var i = r.coordinateSystem;
    if (!i || 'view' === i.type) {
      var a = i.getBoundingRect(),
        o = r.getData(),
        s = o.graph,
        l = a.width / 2 + a.x,
        u = a.height / 2 + a.y,
        c = Math.min(a.width, a.height) / 2,
        f = o.count();
      if ((o.setLayout({ cx: l, cy: u }), f)) {
        if (t) {
          var d = i.pointToData(n),
            m = [d[0] - l, d[1] - u];
          Ai(m, m),
            pa(m, m, c),
            t.setLayout([l + m[0], u + m[1]], !0),
            kM(t, r.get(['circular', 'rotateLabel']), l, u);
        }
        BV[e](r, s, o, c, l, u, f),
          s.eachEdge(function (b, w) {
            var M,
              C = J(
                b.getModel().get(['lineStyle', 'curveness']),
                Q1(b, r, w),
                0
              ),
              D = Mn(b.node1.getLayout()),
              L = Mn(b.node2.getLayout());
            +C &&
              (M = [
                l * (C *= 3) + ((D[0] + L[0]) / 2) * (1 - C),
                u * C + ((D[1] + L[1]) / 2) * (1 - C),
              ]),
              b.setLayout([D, L, M]);
          });
      }
    }
  }
  var BV = {
    value: function (r, e, t, n, i, a, o) {
      var s = 0,
        l = t.getSum('value'),
        u = (2 * Math.PI) / (l || o);
      e.eachNode(function (c) {
        var f = c.getValue('value'),
          d = (u * (l ? f : 1)) / 2;
        (s += d),
          c.setLayout([n * Math.cos(s) + i, n * Math.sin(s) + a]),
          (s += d);
      });
    },
    symbolSize: function (r, e, t, n, i, a, o) {
      var s = 0;
      tx.length = o;
      var l = uv(r);
      e.eachNode(function (f) {
        var d = cv(f);
        isNaN(d) && (d = 2), d < 0 && (d = 0), (d *= l);
        var v = Math.asin(d / 2 / n);
        isNaN(v) && (v = IM / 2), (tx[f.dataIndex] = v), (s += 2 * v);
      });
      var u = (2 * IM - s) / o / 2,
        c = 0;
      e.eachNode(function (f) {
        var d = u + tx[f.dataIndex];
        (c += d),
          (!f.getLayout() || !f.getLayout().fixed) &&
            f.setLayout([n * Math.cos(c) + i, n * Math.sin(c) + a]),
          (c += d);
      });
    },
  };
  function kM(r, e, t, n) {
    var i = r.getGraphicEl();
    if (i) {
      var o = r.getModel().get(['label', 'rotate']) || 0,
        s = i.getSymbolPath();
      if (e) {
        var l = r.getLayout(),
          u = Math.atan2(l[1] - n, l[0] - t);
        u < 0 && (u = 2 * Math.PI + u);
        var c = l[0] < t;
        c && (u -= Math.PI);
        var f = c ? 'left' : 'right';
        s.setTextConfig({ rotation: -u, position: f, origin: 'center' });
        var d = s.ensureState('emphasis');
        nt(d.textConfig || (d.textConfig = {}), { position: f });
      } else s.setTextConfig({ rotation: (o *= Math.PI / 180) });
    }
  }
  function NV(r) {
    r.eachSeriesByType('graph', function (e) {
      'circular' === e.get('layout') && ex(e, 'symbolSize');
    });
  }
  var eh = Gn;
  function VV(r) {
    r.eachSeriesByType('graph', function (e) {
      var t = e.coordinateSystem;
      if (!t || 'view' === t.type)
        if ('force' === e.get('layout')) {
          var n = e.preservedPoints || {},
            i = e.getGraph(),
            a = i.data,
            o = i.edgeData,
            s = e.getModel('force'),
            l = s.get('initLayout');
          e.preservedPoints
            ? a.each(function (C) {
                var D = a.getId(C);
                a.setItemLayout(C, n[D] || [NaN, NaN]);
              })
            : l && 'none' !== l
            ? 'circular' === l && ex(e, 'value')
            : LM(e);
          var u = a.getDataExtent('value'),
            c = o.getDataExtent('value'),
            f = s.get('repulsion'),
            d = s.get('edgeLength'),
            v = Tt(f) ? f : [f, f],
            g = Tt(d) ? d : [d, d];
          g = [g[1], g[0]];
          var m = a.mapArray('value', function (C, D) {
              var L = a.getItemLayout(D),
                M = kr(C, u, v);
              return (
                isNaN(M) && (M = (v[0] + v[1]) / 2),
                {
                  w: M,
                  rep: M,
                  fixed: a.getItemModel(D).get('fixed'),
                  p: !L || isNaN(L[0]) || isNaN(L[1]) ? null : L,
                }
              );
            }),
            y = o.mapArray('value', function (C, D) {
              var L = i.getEdgeByIndex(D),
                M = kr(C, c, g);
              isNaN(M) && (M = (g[0] + g[1]) / 2);
              var E = L.getModel(),
                O = J(
                  L.getModel().get(['lineStyle', 'curveness']),
                  -Q1(L, e, D, !0),
                  0
                );
              return {
                n1: m[L.node1.dataIndex],
                n2: m[L.node2.dataIndex],
                d: M,
                curveness: O,
                ignoreForceLayout: E.get('ignoreForceLayout'),
              };
            }),
            b = t.getBoundingRect(),
            w = (function zV(r, e, t) {
              for (
                var n = r,
                  i = e,
                  a = t.rect,
                  o = a.width,
                  s = a.height,
                  l = [a.x + o / 2, a.y + s / 2],
                  u = null == t.gravity ? 0.1 : t.gravity,
                  c = 0;
                c < n.length;
                c++
              ) {
                var f = n[c];
                f.p ||
                  (f.p = mn(
                    o * (Math.random() - 0.5) + l[0],
                    s * (Math.random() - 0.5) + l[1]
                  )),
                  (f.pp = Mn(f.p)),
                  (f.edges = null);
              }
              var g,
                m,
                d = null == t.friction ? 0.6 : t.friction,
                v = d;
              return {
                warmUp: function () {
                  v = 0.8 * d;
                },
                setFixed: function (y) {
                  n[y].fixed = !0;
                },
                setUnfixed: function (y) {
                  n[y].fixed = !1;
                },
                beforeStep: function (y) {
                  g = y;
                },
                afterStep: function (y) {
                  m = y;
                },
                step: function (y) {
                  g && g(n, i);
                  for (var b = [], w = n.length, C = 0; C < i.length; C++) {
                    var D = i[C];
                    if (!D.ignoreForceLayout) {
                      Nr(b, (M = D.n2).p, (L = D.n1).p);
                      var E = Wn(b) - D.d,
                        O = M.w / (L.w + M.w);
                      isNaN(O) && (O = 0),
                        Ai(b, b),
                        !L.fixed && eh(L.p, L.p, b, O * E * v),
                        !M.fixed && eh(M.p, M.p, b, -(1 - O) * E * v);
                    }
                  }
                  for (C = 0; C < w; C++)
                    (z = n[C]).fixed || (Nr(b, l, z.p), eh(z.p, z.p, b, u * v));
                  for (C = 0; C < w; C++)
                    for (var L = n[C], H = C + 1; H < w; H++) {
                      var M;
                      Nr(b, (M = n[H]).p, L.p),
                        0 === (E = Wn(b)) &&
                          (ji(b, Math.random() - 0.5, Math.random() - 0.5),
                          (E = 1));
                      var G = (L.rep + M.rep) / E / E;
                      !L.fixed && eh(L.pp, L.pp, b, G),
                        !M.fixed && eh(M.pp, M.pp, b, -G);
                    }
                  var X = [];
                  for (C = 0; C < w; C++) {
                    var z;
                    (z = n[C]).fixed ||
                      (Nr(X, z.p, z.pp), eh(z.p, z.p, X, v), $r(z.pp, z.p));
                  }
                  var K = (v *= 0.992) < 0.01;
                  m && m(n, i, K), y && y(K);
                },
              };
            })(m, y, {
              rect: b,
              gravity: s.get('gravity'),
              friction: s.get('friction'),
            });
          w.beforeStep(function (C, D) {
            for (var L = 0, M = C.length; L < M; L++)
              C[L].fixed && $r(C[L].p, i.getNodeByIndex(L).getLayout());
          }),
            w.afterStep(function (C, D, L) {
              for (var M = 0, E = C.length; M < E; M++)
                C[M].fixed || i.getNodeByIndex(M).setLayout(C[M].p),
                  (n[a.getId(M)] = C[M].p);
              for (M = 0, E = D.length; M < E; M++) {
                var O = D[M],
                  z = i.getEdgeByIndex(M),
                  H = O.n1.p,
                  G = O.n2.p,
                  X = z.getLayout();
                ((X = X ? X.slice() : [])[0] = X[0] || []),
                  (X[1] = X[1] || []),
                  $r(X[0], H),
                  $r(X[1], G),
                  +O.curveness &&
                    (X[2] = [
                      (H[0] + G[0]) / 2 - (H[1] - G[1]) * O.curveness,
                      (H[1] + G[1]) / 2 - (G[0] - H[0]) * O.curveness,
                    ]),
                  z.setLayout(X);
              }
            }),
            (e.forceLayout = w),
            (e.preservedPoints = n),
            w.step();
        } else e.forceLayout = null;
    });
  }
  function GV(r, e) {
    var t = [];
    return (
      r.eachSeriesByType('graph', function (n) {
        var i = n.get('coordinateSystem');
        if (!i || 'view' === i) {
          var a = n.getData(),
            s = [],
            l = [];
          up(
            a.mapArray(function (y) {
              var b = a.getItemModel(y);
              return [+b.get('x'), +b.get('y')];
            }),
            s,
            l
          ),
            l[0] - s[0] == 0 && ((l[0] += 1), (s[0] -= 1)),
            l[1] - s[1] == 0 && ((l[1] += 1), (s[1] -= 1));
          var u = (l[0] - s[0]) / (l[1] - s[1]),
            c = (function HV(r, e, t) {
              return Vn(nt(r.getBoxLayoutParams(), { aspect: t }), {
                width: e.getWidth(),
                height: e.getHeight(),
              });
            })(n, e, u);
          isNaN(u) && ((s = [c.x, c.y]), (l = [c.x + c.width, c.y + c.height]));
          var f = l[0] - s[0],
            d = l[1] - s[1],
            v = c.width,
            g = c.height,
            m = (n.coordinateSystem = new Jd());
          (m.zoomLimit = n.get('scaleLimit')),
            m.setBoundingRect(s[0], s[1], f, d),
            m.setViewRect(c.x, c.y, v, g),
            m.setCenter(n.get('center'), e),
            m.setZoom(n.get('zoom')),
            t.push(m);
        }
      }),
      t
    );
  }
  var EM = Jn.prototype,
    rx = wf.prototype,
    PM = function r() {
      (this.x1 = 0),
        (this.y1 = 0),
        (this.x2 = 0),
        (this.y2 = 0),
        (this.percent = 1);
    };
  function nx(r) {
    return isNaN(+r.cpx1) || isNaN(+r.cpy1);
  }
  !(function (r) {
    ut(function e() {
      return (null !== r && r.apply(this, arguments)) || this;
    }, r);
  })(PM);
  var WV = (function (r) {
      function e(t) {
        var n = r.call(this, t) || this;
        return (n.type = 'ec-line'), n;
      }
      return (
        ut(e, r),
        (e.prototype.getDefaultStyle = function () {
          return { stroke: '#000', fill: null };
        }),
        (e.prototype.getDefaultShape = function () {
          return new PM();
        }),
        (e.prototype.buildPath = function (t, n) {
          nx(n) ? EM.buildPath.call(this, t, n) : rx.buildPath.call(this, t, n);
        }),
        (e.prototype.pointAt = function (t) {
          return nx(this.shape)
            ? EM.pointAt.call(this, t)
            : rx.pointAt.call(this, t);
        }),
        (e.prototype.tangentAt = function (t) {
          var n = this.shape,
            i = nx(n) ? [n.x2 - n.x1, n.y2 - n.y1] : rx.tangentAt.call(this, t);
          return Ai(i, i);
        }),
        e
      );
    })(Lr),
    ix = ['fromSymbol', 'toSymbol'];
  function RM(r) {
    return '_' + r + 'Type';
  }
  function OM(r, e, t) {
    var n = e.getItemVisual(t, r);
    if (!n || 'none' === n) return n;
    var i = e.getItemVisual(t, r + 'Size'),
      a = e.getItemVisual(t, r + 'Rotate'),
      o = e.getItemVisual(t, r + 'Offset'),
      s = e.getItemVisual(t, r + 'KeepAspect'),
      l = Gf(i);
    return n + l + mc(o || 0, l) + (a || '') + (s || '');
  }
  function FM(r, e, t) {
    var n = e.getItemVisual(t, r);
    if (n && 'none' !== n) {
      var i = e.getItemVisual(t, r + 'Size'),
        a = e.getItemVisual(t, r + 'Rotate'),
        o = e.getItemVisual(t, r + 'Offset'),
        s = e.getItemVisual(t, r + 'KeepAspect'),
        l = Gf(i),
        u = mc(o || 0, l),
        c = En(n, -l[0] / 2 + u[0], -l[1] / 2 + u[1], l[0], l[1], null, s);
      return (
        (c.__specifiedRotation =
          null == a || isNaN(a) ? void 0 : (+a * Math.PI) / 180 || 0),
        (c.name = r),
        c
      );
    }
  }
  function ax(r, e) {
    (r.x1 = e[0][0]),
      (r.y1 = e[0][1]),
      (r.x2 = e[1][0]),
      (r.y2 = e[1][1]),
      (r.percent = 1);
    var t = e[2];
    t ? ((r.cpx1 = t[0]), (r.cpy1 = t[1])) : ((r.cpx1 = NaN), (r.cpy1 = NaN));
  }
  var ox = (function (r) {
      function e(t, n, i) {
        var a = r.call(this) || this;
        return a._createLine(t, n, i), a;
      }
      return (
        ut(e, r),
        (e.prototype._createLine = function (t, n, i) {
          var a = t.hostModel,
            s = (function $V(r) {
              var e = new WV({ name: 'line', subPixelOptimize: !0 });
              return ax(e.shape, r), e;
            })(t.getItemLayout(n));
          (s.shape.percent = 0),
            pn(s, { shape: { percent: 1 } }, a, n),
            this.add(s),
            F(
              ix,
              function (l) {
                var u = FM(l, t, n);
                this.add(u), (this[RM(l)] = OM(l, t, n));
              },
              this
            ),
            this._updateCommonStl(t, n, i);
        }),
        (e.prototype.updateData = function (t, n, i) {
          var a = t.hostModel,
            o = this.childOfName('line'),
            s = t.getItemLayout(n),
            l = { shape: {} };
          ax(l.shape, s),
            Wr(o, l, a, n),
            F(
              ix,
              function (u) {
                var c = OM(u, t, n),
                  f = RM(u);
                if (this[f] !== c) {
                  this.remove(this.childOfName(u));
                  var d = FM(u, t, n);
                  this.add(d);
                }
                this[f] = c;
              },
              this
            ),
            this._updateCommonStl(t, n, i);
        }),
        (e.prototype.getLinePath = function () {
          return this.childAt(0);
        }),
        (e.prototype._updateCommonStl = function (t, n, i) {
          var a = t.hostModel,
            o = this.childOfName('line'),
            s = i && i.emphasisLineStyle,
            l = i && i.blurLineStyle,
            u = i && i.selectLineStyle,
            c = i && i.labelStatesModels,
            f = i && i.emphasisDisabled,
            d = i && i.focus,
            v = i && i.blurScope;
          if (!i || t.hasItemOption) {
            var g = t.getItemModel(n),
              m = g.getModel('emphasis');
            (s = m.getModel('lineStyle').getLineStyle()),
              (l = g.getModel(['blur', 'lineStyle']).getLineStyle()),
              (u = g.getModel(['select', 'lineStyle']).getLineStyle()),
              (f = m.get('disabled')),
              (d = m.get('focus')),
              (v = m.get('blurScope')),
              (c = oi(g));
          }
          var y = t.getItemVisual(n, 'style'),
            b = y.stroke;
          o.useStyle(y),
            (o.style.fill = null),
            (o.style.strokeNoScale = !0),
            (o.ensureState('emphasis').style = s),
            (o.ensureState('blur').style = l),
            (o.ensureState('select').style = u),
            F(
              ix,
              function (M) {
                var E = this.childOfName(M);
                if (E) {
                  E.setColor(b), (E.style.opacity = y.opacity);
                  for (var O = 0; O < ua.length; O++) {
                    var z = ua[O],
                      H = o.getState(z);
                    if (H) {
                      var G = H.style || {},
                        X = E.ensureState(z),
                        K = X.style || (X.style = {});
                      null != G.stroke &&
                        (K[E.__isEmptyBrush ? 'stroke' : 'fill'] = G.stroke),
                        null != G.opacity && (K.opacity = G.opacity);
                    }
                  }
                  E.markRedraw();
                }
              },
              this
            );
          var w = a.getRawValue(n);
          Ci(this, c, {
            labelDataIndex: n,
            labelFetcher: {
              getFormattedLabel: function (M, E) {
                return a.getFormattedLabel(M, E, t.dataType);
              },
            },
            inheritColor: b || '#000',
            defaultOpacity: y.opacity,
            defaultText:
              (null == w ? t.getName(n) : isFinite(w) ? yn(w) : w) + '',
          });
          var C = this.getTextContent();
          if (C) {
            var D = c.normal;
            (C.__align = C.style.align),
              (C.__verticalAlign = C.style.verticalAlign),
              (C.__position = D.get('position') || 'middle');
            var L = D.get('distance');
            Tt(L) || (L = [L, L]), (C.__labelDistance = L);
          }
          this.setTextConfig({ position: null, local: !0, inside: !1 }),
            wn(this, d, v, f);
        }),
        (e.prototype.highlight = function () {
          Js(this);
        }),
        (e.prototype.downplay = function () {
          tl(this);
        }),
        (e.prototype.updateLayout = function (t, n) {
          this.setLinePoints(t.getItemLayout(n));
        }),
        (e.prototype.setLinePoints = function (t) {
          var n = this.childOfName('line');
          ax(n.shape, t), n.dirty();
        }),
        (e.prototype.beforeUpdate = function () {
          var t = this,
            n = t.childOfName('fromSymbol'),
            i = t.childOfName('toSymbol'),
            a = t.getTextContent();
          if (n || i || (a && !a.ignore)) {
            for (var o = 1, s = this.parent; s; )
              s.scaleX && (o /= s.scaleX), (s = s.parent);
            var l = t.childOfName('line');
            if (this.__dirty || l.__dirty) {
              var u = l.shape.percent,
                c = l.pointAt(0),
                f = l.pointAt(u),
                d = Nr([], f, c);
              if (
                (Ai(d, d),
                n &&
                  (n.setPosition(c),
                  v(n, 0),
                  (n.scaleX = n.scaleY = o * u),
                  n.markRedraw()),
                i &&
                  (i.setPosition(f),
                  v(i, 1),
                  (i.scaleX = i.scaleY = o * u),
                  i.markRedraw()),
                a && !a.ignore)
              ) {
                (a.x = a.y = 0), (a.originX = a.originY = 0);
                var g = void 0,
                  m = void 0,
                  y = a.__labelDistance,
                  b = y[0] * o,
                  w = y[1] * o,
                  C = u / 2,
                  D = l.tangentAt(C),
                  L = [D[1], -D[0]],
                  M = l.pointAt(C);
                L[1] > 0 && ((L[0] = -L[0]), (L[1] = -L[1]));
                var E = D[0] < 0 ? -1 : 1;
                if ('start' !== a.__position && 'end' !== a.__position) {
                  var O = -Math.atan2(D[1], D[0]);
                  f[0] < c[0] && (O = Math.PI + O), (a.rotation = O);
                }
                var z = void 0;
                switch (a.__position) {
                  case 'insideStartTop':
                  case 'insideMiddleTop':
                  case 'insideEndTop':
                  case 'middle':
                    (z = -w), (m = 'bottom');
                    break;
                  case 'insideStartBottom':
                  case 'insideMiddleBottom':
                  case 'insideEndBottom':
                    (z = w), (m = 'top');
                    break;
                  default:
                    (z = 0), (m = 'middle');
                }
                switch (a.__position) {
                  case 'end':
                    (a.x = d[0] * b + f[0]),
                      (a.y = d[1] * w + f[1]),
                      (g =
                        d[0] > 0.8 ? 'left' : d[0] < -0.8 ? 'right' : 'center'),
                      (m =
                        d[1] > 0.8 ? 'top' : d[1] < -0.8 ? 'bottom' : 'middle');
                    break;
                  case 'start':
                    (a.x = -d[0] * b + c[0]),
                      (a.y = -d[1] * w + c[1]),
                      (g =
                        d[0] > 0.8 ? 'right' : d[0] < -0.8 ? 'left' : 'center'),
                      (m =
                        d[1] > 0.8 ? 'bottom' : d[1] < -0.8 ? 'top' : 'middle');
                    break;
                  case 'insideStartTop':
                  case 'insideStart':
                  case 'insideStartBottom':
                    (a.x = b * E + c[0]),
                      (a.y = c[1] + z),
                      (g = D[0] < 0 ? 'right' : 'left'),
                      (a.originX = -b * E),
                      (a.originY = -z);
                    break;
                  case 'insideMiddleTop':
                  case 'insideMiddle':
                  case 'insideMiddleBottom':
                  case 'middle':
                    (a.x = M[0]),
                      (a.y = M[1] + z),
                      (g = 'center'),
                      (a.originY = -z);
                    break;
                  case 'insideEndTop':
                  case 'insideEnd':
                  case 'insideEndBottom':
                    (a.x = -b * E + f[0]),
                      (a.y = f[1] + z),
                      (g = D[0] >= 0 ? 'right' : 'left'),
                      (a.originX = b * E),
                      (a.originY = -z);
                }
                (a.scaleX = a.scaleY = o),
                  a.setStyle({
                    verticalAlign: a.__verticalAlign || m,
                    align: a.__align || g,
                  });
              }
            }
          }
          function v(H, G) {
            var X = H.__specifiedRotation;
            if (null == X) {
              var K = l.tangentAt(G);
              H.attr(
                'rotation',
                ((1 === G ? -1 : 1) * Math.PI) / 2 - Math.atan2(K[1], K[0])
              );
            } else H.attr('rotation', X);
          }
        }),
        e
      );
    })(Qe),
    sx = (function () {
      function r(e) {
        (this.group = new Qe()), (this._LineCtor = e || ox);
      }
      return (
        (r.prototype.updateData = function (e) {
          var t = this;
          this._progressiveEls = null;
          var n = this,
            i = n.group,
            a = n._lineData;
          (n._lineData = e), a || i.removeAll();
          var o = BM(e);
          e.diff(a)
            .add(function (s) {
              t._doAdd(e, s, o);
            })
            .update(function (s, l) {
              t._doUpdate(a, e, l, s, o);
            })
            .remove(function (s) {
              i.remove(a.getItemGraphicEl(s));
            })
            .execute();
        }),
        (r.prototype.updateLayout = function () {
          var e = this._lineData;
          e &&
            e.eachItemGraphicEl(function (t, n) {
              t.updateLayout(e, n);
            }, this);
        }),
        (r.prototype.incrementalPrepareUpdate = function (e) {
          (this._seriesScope = BM(e)),
            (this._lineData = null),
            this.group.removeAll();
        }),
        (r.prototype.incrementalUpdate = function (e, t) {
          function n(s) {
            !s.isGroup &&
              !(function UV(r) {
                return r.animators && r.animators.length > 0;
              })(s) &&
              ((s.incremental = !0),
              (s.ensureState('emphasis').hoverLayer = !0));
          }
          this._progressiveEls = [];
          for (var i = e.start; i < e.end; i++)
            if (lx(t.getItemLayout(i))) {
              var o = new this._LineCtor(t, i, this._seriesScope);
              o.traverse(n),
                this.group.add(o),
                t.setItemGraphicEl(i, o),
                this._progressiveEls.push(o);
            }
        }),
        (r.prototype.remove = function () {
          this.group.removeAll();
        }),
        (r.prototype.eachRendered = function (e) {
          Xl(this._progressiveEls || this.group, e);
        }),
        (r.prototype._doAdd = function (e, t, n) {
          if (lx(e.getItemLayout(t))) {
            var a = new this._LineCtor(e, t, n);
            e.setItemGraphicEl(t, a), this.group.add(a);
          }
        }),
        (r.prototype._doUpdate = function (e, t, n, i, a) {
          var o = e.getItemGraphicEl(n);
          lx(t.getItemLayout(i))
            ? (o ? o.updateData(t, i, a) : (o = new this._LineCtor(t, i, a)),
              t.setItemGraphicEl(i, o),
              this.group.add(o))
            : this.group.remove(o);
        }),
        r
      );
    })();
  function BM(r) {
    var e = r.hostModel,
      t = e.getModel('emphasis');
    return {
      lineStyle: e.getModel('lineStyle').getLineStyle(),
      emphasisLineStyle: t.getModel(['lineStyle']).getLineStyle(),
      blurLineStyle: e.getModel(['blur', 'lineStyle']).getLineStyle(),
      selectLineStyle: e.getModel(['select', 'lineStyle']).getLineStyle(),
      emphasisDisabled: t.get('disabled'),
      blurScope: t.get('blurScope'),
      focus: t.get('focus'),
      labelStatesModels: oi(e),
    };
  }
  function NM(r) {
    return isNaN(r[0]) || isNaN(r[1]);
  }
  function lx(r) {
    return r && !NM(r[0]) && !NM(r[1]);
  }
  var ux = [],
    cx = [],
    fx = [],
    rh = On,
    hx = La,
    zM = Math.abs;
  function VM(r, e, t) {
    for (
      var s,
        n = r[0],
        i = r[1],
        a = r[2],
        o = 1 / 0,
        l = t * t,
        u = 0.1,
        c = 0.1;
      c <= 0.9;
      c += 0.1
    )
      (ux[0] = rh(n[0], i[0], a[0], c)),
        (ux[1] = rh(n[1], i[1], a[1], c)),
        (f = zM(hx(ux, e) - l)) < o && ((o = f), (s = c));
    for (var d = 0; d < 32; d++) {
      var v = s + u;
      (cx[0] = rh(n[0], i[0], a[0], s)),
        (cx[1] = rh(n[1], i[1], a[1], s)),
        (fx[0] = rh(n[0], i[0], a[0], v)),
        (fx[1] = rh(n[1], i[1], a[1], v));
      var f = hx(cx, e) - l;
      if (zM(f) < 0.01) break;
      var g = hx(fx, e) - l;
      (u /= 2),
        f < 0 ? (g >= 0 ? (s += u) : (s -= u)) : g >= 0 ? (s -= u) : (s += u);
    }
    return s;
  }
  function dx(r, e) {
    var t = [],
      n = ks,
      i = [[], [], []],
      a = [[], []],
      o = [];
    (e /= 2),
      r.eachEdge(function (s, l) {
        var u = s.getLayout(),
          c = s.getVisual('fromSymbol'),
          f = s.getVisual('toSymbol');
        u.__original ||
          ((u.__original = [Mn(u[0]), Mn(u[1])]),
          u[2] && u.__original.push(Mn(u[2])));
        var d = u.__original;
        if (null != u[2]) {
          if (
            ($r(i[0], d[0]), $r(i[1], d[2]), $r(i[2], d[1]), c && 'none' !== c)
          ) {
            var v = cv(s.node1),
              g = VM(i, d[0], v * e);
            n(i[0][0], i[1][0], i[2][0], g, t),
              (i[0][0] = t[3]),
              (i[1][0] = t[4]),
              n(i[0][1], i[1][1], i[2][1], g, t),
              (i[0][1] = t[3]),
              (i[1][1] = t[4]);
          }
          f &&
            'none' !== f &&
            ((v = cv(s.node2)),
            (g = VM(i, d[1], v * e)),
            n(i[0][0], i[1][0], i[2][0], g, t),
            (i[1][0] = t[1]),
            (i[2][0] = t[2]),
            n(i[0][1], i[1][1], i[2][1], g, t),
            (i[1][1] = t[1]),
            (i[2][1] = t[2])),
            $r(u[0], i[0]),
            $r(u[1], i[2]),
            $r(u[2], i[1]);
        } else $r(a[0], d[0]), $r(a[1], d[1]), Nr(o, a[1], a[0]), Ai(o, o), c && 'none' !== c && ((v = cv(s.node1)), Gn(a[0], a[0], o, v * e)), f && 'none' !== f && ((v = cv(s.node2)), Gn(a[1], a[1], o, -v * e)), $r(u[0], a[0]), $r(u[1], a[1]);
      });
  }
  function HM(r) {
    return 'view' === r.type;
  }
  var YV = (function (r) {
    function e() {
      var t = (null !== r && r.apply(this, arguments)) || this;
      return (t.type = e.type), t;
    }
    return (
      ut(e, r),
      (e.prototype.init = function (t, n) {
        var i = new $d(),
          a = new sx(),
          o = this.group;
        (this._controller = new Kd(n.getZr())),
          (this._controllerHost = { target: o }),
          o.add(i.group),
          o.add(a.group),
          (this._symbolDraw = i),
          (this._lineDraw = a),
          (this._firstRender = !0);
      }),
      (e.prototype.render = function (t, n, i) {
        var a = this,
          o = t.coordinateSystem;
        this._model = t;
        var s = this._symbolDraw,
          l = this._lineDraw,
          u = this.group;
        if (HM(o)) {
          var c = { x: o.x, y: o.y, scaleX: o.scaleX, scaleY: o.scaleY };
          this._firstRender ? u.attr(c) : Wr(u, c, t);
        }
        dx(t.getGraph(), uv(t));
        var f = t.getData();
        s.updateData(f);
        var d = t.getEdgeData();
        l.updateData(d),
          this._updateNodeAndLinkScale(),
          this._updateController(t, n, i),
          clearTimeout(this._layoutTimeout);
        var v = t.forceLayout,
          g = t.get(['force', 'layoutAnimation']);
        v && this._startForceLayoutIteration(v, g);
        var m = t.get('layout');
        f.graph.eachNode(function (C) {
          var D = C.dataIndex,
            L = C.getGraphicEl(),
            M = C.getModel();
          if (L) {
            L.off('drag').off('dragend');
            var E = M.get('draggable');
            E &&
              L.on('drag', function (z) {
                switch (m) {
                  case 'force':
                    v.warmUp(),
                      !a._layouting && a._startForceLayoutIteration(v, g),
                      v.setFixed(D),
                      f.setItemLayout(D, [L.x, L.y]);
                    break;
                  case 'circular':
                    f.setItemLayout(D, [L.x, L.y]),
                      C.setLayout({ fixed: !0 }, !0),
                      ex(t, 'symbolSize', C, [z.offsetX, z.offsetY]),
                      a.updateLayout(t);
                    break;
                  default:
                    f.setItemLayout(D, [L.x, L.y]),
                      J1(t.getGraph(), t),
                      a.updateLayout(t);
                }
              }).on('dragend', function () {
                v && v.setUnfixed(D);
              }),
              L.setDraggable(E, !!M.get('cursor')),
              'adjacency' === M.get(['emphasis', 'focus']) &&
                (fr(L).focus = C.getAdjacentDataIndices());
          }
        }),
          f.graph.eachEdge(function (C) {
            var D = C.getGraphicEl(),
              L = C.getModel().get(['emphasis', 'focus']);
            D &&
              'adjacency' === L &&
              (fr(D).focus = {
                edge: [C.dataIndex],
                node: [C.node1.dataIndex, C.node2.dataIndex],
              });
          });
        var y =
            'circular' === t.get('layout') &&
            t.get(['circular', 'rotateLabel']),
          b = f.getLayout('cx'),
          w = f.getLayout('cy');
        f.graph.eachNode(function (C) {
          kM(C, y, b, w);
        }),
          (this._firstRender = !1);
      }),
      (e.prototype.dispose = function () {
        this._controller && this._controller.dispose(),
          (this._controllerHost = null);
      }),
      (e.prototype._startForceLayoutIteration = function (t, n) {
        var i = this;
        !(function a() {
          t.step(function (o) {
            i.updateLayout(i._model),
              (i._layouting = !o) &&
                (n ? (i._layoutTimeout = setTimeout(a, 16)) : a());
          });
        })();
      }),
      (e.prototype._updateController = function (t, n, i) {
        var a = this,
          o = this._controller,
          s = this._controllerHost,
          l = this.group;
        o.setPointerChecker(function (u, c, f) {
          var d = l.getBoundingRect();
          return d.applyTransform(l.transform), d.contain(c, f) && !Ng(u, i, t);
        }),
          HM(t.coordinateSystem)
            ? (o.enable(t.get('roam')),
              (s.zoomLimit = t.get('scaleLimit')),
              (s.zoom = t.coordinateSystem.getZoom()),
              o
                .off('pan')
                .off('zoom')
                .on('pan', function (u) {
                  M1(s, u.dx, u.dy),
                    i.dispatchAction({
                      seriesId: t.id,
                      type: 'graphRoam',
                      dx: u.dx,
                      dy: u.dy,
                    });
                })
                .on('zoom', function (u) {
                  L1(s, u.scale, u.originX, u.originY),
                    i.dispatchAction({
                      seriesId: t.id,
                      type: 'graphRoam',
                      zoom: u.scale,
                      originX: u.originX,
                      originY: u.originY,
                    }),
                    a._updateNodeAndLinkScale(),
                    dx(t.getGraph(), uv(t)),
                    a._lineDraw.updateLayout(),
                    i.updateLabelLayout();
                }))
            : o.disable();
      }),
      (e.prototype._updateNodeAndLinkScale = function () {
        var t = this._model,
          n = t.getData(),
          i = uv(t);
        n.eachItemGraphicEl(function (a, o) {
          a && a.setSymbolScale(i);
        });
      }),
      (e.prototype.updateLayout = function (t) {
        dx(t.getGraph(), uv(t)),
          this._symbolDraw.updateLayout(),
          this._lineDraw.updateLayout();
      }),
      (e.prototype.remove = function (t, n) {
        this._symbolDraw && this._symbolDraw.remove(),
          this._lineDraw && this._lineDraw.remove();
      }),
      (e.type = 'graph'),
      e
    );
  })(en);
  function nh(r) {
    return '_EC_' + r;
  }
  var XV = (function () {
      function r(e) {
        (this.type = 'graph'),
          (this.nodes = []),
          (this.edges = []),
          (this._nodesMap = {}),
          (this._edgesMap = {}),
          (this._directed = e || !1);
      }
      return (
        (r.prototype.isDirected = function () {
          return this._directed;
        }),
        (r.prototype.addNode = function (e, t) {
          var n = this._nodesMap;
          if (!n[nh((e = null == e ? '' + t : '' + e))]) {
            var i = new Bc(e, t);
            return (i.hostGraph = this), this.nodes.push(i), (n[nh(e)] = i), i;
          }
          console.error('Graph nodes have duplicate name or id');
        }),
        (r.prototype.getNodeByIndex = function (e) {
          var t = this.data.getRawIndex(e);
          return this.nodes[t];
        }),
        (r.prototype.getNodeById = function (e) {
          return this._nodesMap[nh(e)];
        }),
        (r.prototype.addEdge = function (e, t, n) {
          var i = this._nodesMap,
            a = this._edgesMap;
          if (
            (U(e) && (e = this.nodes[e]),
            U(t) && (t = this.nodes[t]),
            e instanceof Bc || (e = i[nh(e)]),
            t instanceof Bc || (t = i[nh(t)]),
            e && t)
          ) {
            var o = e.id + '-' + t.id,
              s = new GM(e, t, n);
            return (
              (s.hostGraph = this),
              this._directed && (e.outEdges.push(s), t.inEdges.push(s)),
              e.edges.push(s),
              e !== t && t.edges.push(s),
              this.edges.push(s),
              (a[o] = s),
              s
            );
          }
        }),
        (r.prototype.getEdgeByIndex = function (e) {
          var t = this.edgeData.getRawIndex(e);
          return this.edges[t];
        }),
        (r.prototype.getEdge = function (e, t) {
          e instanceof Bc && (e = e.id), t instanceof Bc && (t = t.id);
          var n = this._edgesMap;
          return this._directed
            ? n[e + '-' + t]
            : n[e + '-' + t] || n[t + '-' + e];
        }),
        (r.prototype.eachNode = function (e, t) {
          for (var n = this.nodes, i = n.length, a = 0; a < i; a++)
            n[a].dataIndex >= 0 && e.call(t, n[a], a);
        }),
        (r.prototype.eachEdge = function (e, t) {
          for (var n = this.edges, i = n.length, a = 0; a < i; a++)
            n[a].dataIndex >= 0 &&
              n[a].node1.dataIndex >= 0 &&
              n[a].node2.dataIndex >= 0 &&
              e.call(t, n[a], a);
        }),
        (r.prototype.breadthFirstTraverse = function (e, t, n, i) {
          if ((t instanceof Bc || (t = this._nodesMap[nh(t)]), t)) {
            for (
              var a =
                  'out' === n ? 'outEdges' : 'in' === n ? 'inEdges' : 'edges',
                o = 0;
              o < this.nodes.length;
              o++
            )
              this.nodes[o].__visited = !1;
            if (!e.call(i, t, null))
              for (var s = [t]; s.length; ) {
                var l = s.shift(),
                  u = l[a];
                for (o = 0; o < u.length; o++) {
                  var c = u[o],
                    f = c.node1 === l ? c.node2 : c.node1;
                  if (!f.__visited) {
                    if (e.call(i, f, l)) return;
                    s.push(f), (f.__visited = !0);
                  }
                }
              }
          }
        }),
        (r.prototype.update = function () {
          for (
            var e = this.data,
              t = this.edgeData,
              n = this.nodes,
              i = this.edges,
              a = 0,
              o = n.length;
            a < o;
            a++
          )
            n[a].dataIndex = -1;
          for (a = 0, o = e.count(); a < o; a++)
            n[e.getRawIndex(a)].dataIndex = a;
          for (
            t.filterSelf(function (s) {
              var l = i[t.getRawIndex(s)];
              return l.node1.dataIndex >= 0 && l.node2.dataIndex >= 0;
            }),
              a = 0,
              o = i.length;
            a < o;
            a++
          )
            i[a].dataIndex = -1;
          for (a = 0, o = t.count(); a < o; a++)
            i[t.getRawIndex(a)].dataIndex = a;
        }),
        (r.prototype.clone = function () {
          for (
            var e = new r(this._directed),
              t = this.nodes,
              n = this.edges,
              i = 0;
            i < t.length;
            i++
          )
            e.addNode(t[i].id, t[i].dataIndex);
          for (i = 0; i < n.length; i++) {
            var a = n[i];
            e.addEdge(a.node1.id, a.node2.id, a.dataIndex);
          }
          return e;
        }),
        r
      );
    })(),
    Bc = (function () {
      function r(e, t) {
        (this.inEdges = []),
          (this.outEdges = []),
          (this.edges = []),
          (this.dataIndex = -1),
          (this.id = e ?? ''),
          (this.dataIndex = t ?? -1);
      }
      return (
        (r.prototype.degree = function () {
          return this.edges.length;
        }),
        (r.prototype.inDegree = function () {
          return this.inEdges.length;
        }),
        (r.prototype.outDegree = function () {
          return this.outEdges.length;
        }),
        (r.prototype.getModel = function (e) {
          if (!(this.dataIndex < 0))
            return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e);
        }),
        (r.prototype.getAdjacentDataIndices = function () {
          for (
            var e = { edge: [], node: [] }, t = 0;
            t < this.edges.length;
            t++
          ) {
            var n = this.edges[t];
            n.dataIndex < 0 ||
              (e.edge.push(n.dataIndex),
              e.node.push(n.node1.dataIndex, n.node2.dataIndex));
          }
          return e;
        }),
        (r.prototype.getTrajectoryDataIndices = function () {
          for (var e = Nt(), t = Nt(), n = 0; n < this.edges.length; n++) {
            var i = this.edges[n];
            if (!(i.dataIndex < 0)) {
              e.set(i.dataIndex, !0);
              for (var a = [i.node1], o = [i.node2], s = 0; s < a.length; ) {
                var l = a[s];
                s++, t.set(l.dataIndex, !0);
                for (var u = 0; u < l.inEdges.length; u++)
                  e.set(l.inEdges[u].dataIndex, !0), a.push(l.inEdges[u].node1);
              }
              for (s = 0; s < o.length; ) {
                var c = o[s];
                for (
                  s++, t.set(c.dataIndex, !0), u = 0;
                  u < c.outEdges.length;
                  u++
                )
                  e.set(c.outEdges[u].dataIndex, !0),
                    o.push(c.outEdges[u].node2);
              }
            }
          }
          return { edge: e.keys(), node: t.keys() };
        }),
        r
      );
    })(),
    GM = (function () {
      function r(e, t, n) {
        (this.dataIndex = -1),
          (this.node1 = e),
          (this.node2 = t),
          (this.dataIndex = n ?? -1);
      }
      return (
        (r.prototype.getModel = function (e) {
          if (!(this.dataIndex < 0))
            return this.hostGraph.edgeData
              .getItemModel(this.dataIndex)
              .getModel(e);
        }),
        (r.prototype.getAdjacentDataIndices = function () {
          return {
            edge: [this.dataIndex],
            node: [this.node1.dataIndex, this.node2.dataIndex],
          };
        }),
        (r.prototype.getTrajectoryDataIndices = function () {
          var e = Nt(),
            t = Nt();
          e.set(this.dataIndex, !0);
          for (var n = [this.node1], i = [this.node2], a = 0; a < n.length; ) {
            var o = n[a];
            a++, t.set(o.dataIndex, !0);
            for (var s = 0; s < o.inEdges.length; s++)
              e.set(o.inEdges[s].dataIndex, !0), n.push(o.inEdges[s].node1);
          }
          for (a = 0; a < i.length; ) {
            var l = i[a];
            for (a++, t.set(l.dataIndex, !0), s = 0; s < l.outEdges.length; s++)
              e.set(l.outEdges[s].dataIndex, !0), i.push(l.outEdges[s].node2);
          }
          return { edge: e.keys(), node: t.keys() };
        }),
        r
      );
    })();
  function WM(r, e) {
    return {
      getValue: function (t) {
        var n = this[r][e];
        return n
          .getStore()
          .get(n.getDimensionIndex(t || 'value'), this.dataIndex);
      },
      setVisual: function (t, n) {
        this.dataIndex >= 0 && this[r][e].setItemVisual(this.dataIndex, t, n);
      },
      getVisual: function (t) {
        return this[r][e].getItemVisual(this.dataIndex, t);
      },
      setLayout: function (t, n) {
        this.dataIndex >= 0 && this[r][e].setItemLayout(this.dataIndex, t, n);
      },
      getLayout: function () {
        return this[r][e].getItemLayout(this.dataIndex);
      },
      getGraphicEl: function () {
        return this[r][e].getItemGraphicEl(this.dataIndex);
      },
      getRawIndex: function () {
        return this[r][e].getRawIndex(this.dataIndex);
      },
    };
  }
  function $M(r, e, t, n, i) {
    for (var a = new XV(n), o = 0; o < r.length; o++)
      a.addNode(xe(r[o].id, r[o].name, o), o);
    var s = [],
      l = [],
      u = 0;
    for (o = 0; o < e.length; o++) {
      var c = e[o],
        f = c.source,
        d = c.target;
      a.addEdge(f, d, u) &&
        (l.push(c), s.push(xe(gn(c.id, null), f + ' > ' + d)), u++);
    }
    var g,
      v = t.get('coordinateSystem');
    if ('cartesian2d' === v || 'polar' === v) g = cs(r, t);
    else {
      var m = hc.get(v),
        y = (m && m.dimensions) || [];
      $(y, 'value') < 0 && y.concat(['value']);
      var b = Xf(r, {
        coordDimensions: y,
        encodeDefine: t.getEncode(),
      }).dimensions;
      (g = new Zi(b, t)).initData(r);
    }
    var w = new Zi(['value'], t);
    return (
      w.initData(l, s),
      i && i(g, w),
      iM({
        mainData: g,
        struct: a,
        structAttr: 'graph',
        datas: { node: g, edge: w },
        datasAttr: { node: 'data', edge: 'edgeData' },
      }),
      a.update(),
      a
    );
  }
  Ee(Bc, WM('hostGraph', 'data')), Ee(GM, WM('hostGraph', 'edgeData'));
  var ZV = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), (t.hasSymbolVisual = !0), t;
      }
      return (
        ut(e, r),
        (e.prototype.init = function (t) {
          r.prototype.init.apply(this, arguments);
          var n = this;
          function i() {
            return n._categoriesData;
          }
          (this.legendVisualProvider = new Zd(i, i)),
            this.fillDataTextStyle(t.edges || t.links),
            this._updateCategoriesData();
        }),
        (e.prototype.mergeOption = function (t) {
          r.prototype.mergeOption.apply(this, arguments),
            this.fillDataTextStyle(t.edges || t.links),
            this._updateCategoriesData();
        }),
        (e.prototype.mergeDefaultAndTheme = function (t) {
          r.prototype.mergeDefaultAndTheme.apply(this, arguments),
            Oa(t, 'edgeLabel', ['show']);
        }),
        (e.prototype.getInitialData = function (t, n) {
          var i = t.edges || t.links || [],
            a = t.data || t.nodes || [],
            o = this;
          if (a && i) {
            !(function RV(r) {
              jg(r) && ((r.__curvenessList = []), (r.__edgeMap = {}), AM(r));
            })(this);
            var s = $M(a, i, this, !0, function l(u, c) {
              u.wrapMethod('getItemModel', function (g) {
                var b = o._categoriesModels[g.getShallow('category')];
                return (
                  b && ((b.parentModel = g.parentModel), (g.parentModel = b)), g
                );
              });
              var f = Yr.prototype.getModel;
              function d(g, m) {
                var y = f.call(this, g, m);
                return (y.resolveParentPath = v), y;
              }
              function v(g) {
                if (g && ('label' === g[0] || 'label' === g[1])) {
                  var m = g.slice();
                  return (
                    'label' === g[0]
                      ? (m[0] = 'edgeLabel')
                      : 'label' === g[1] && (m[1] = 'edgeLabel'),
                    m
                  );
                }
                return g;
              }
              c.wrapMethod('getItemModel', function (g) {
                return (g.resolveParentPath = v), (g.getModel = d), g;
              });
            });
            return (
              F(
                s.edges,
                function (u) {
                  !(function OV(r, e, t, n) {
                    if (jg(t)) {
                      var i = lv(r, e, t),
                        a = t.__edgeMap,
                        o = a[MM(i)];
                      a[i] && !o
                        ? (a[i].isForward = !0)
                        : o &&
                          a[i] &&
                          ((o.isForward = !0), (a[i].isForward = !1)),
                        (a[i] = a[i] || []),
                        a[i].push(n);
                    }
                  })(u.node1, u.node2, this, u.dataIndex);
                },
                this
              ),
              s.data
            );
          }
        }),
        (e.prototype.getGraph = function () {
          return this.getData().graph;
        }),
        (e.prototype.getEdgeData = function () {
          return this.getGraph().edgeData;
        }),
        (e.prototype.getCategoriesData = function () {
          return this._categoriesData;
        }),
        (e.prototype.formatTooltip = function (t, n, i) {
          if ('edge' === i) {
            var a = this.getData(),
              o = this.getDataParams(t, i),
              s = a.graph.getEdgeByIndex(t),
              l = a.getName(s.node1.dataIndex),
              u = a.getName(s.node2.dataIndex),
              c = [];
            return (
              null != l && c.push(l),
              null != u && c.push(u),
              si('nameValue', {
                name: c.join(' > '),
                value: o.value,
                noValue: null == o.value,
              })
            );
          }
          return Bw({ series: this, dataIndex: t, multipleSeries: n });
        }),
        (e.prototype._updateCategoriesData = function () {
          var t = Ut(this.option.categories || [], function (i) {
              return null != i.value ? i : nt({ value: 0 }, i);
            }),
            n = new Zi(['value'], this);
          n.initData(t),
            (this._categoriesData = n),
            (this._categoriesModels = n.mapArray(function (i) {
              return n.getItemModel(i);
            }));
        }),
        (e.prototype.setZoom = function (t) {
          this.option.zoom = t;
        }),
        (e.prototype.setCenter = function (t) {
          this.option.center = t;
        }),
        (e.prototype.isAnimationEnabled = function () {
          return (
            r.prototype.isAnimationEnabled.call(this) &&
            !(
              'force' === this.get('layout') &&
              this.get(['force', 'layoutAnimation'])
            )
          );
        }),
        (e.type = 'series.graph'),
        (e.dependencies = ['grid', 'polar', 'geo', 'singleAxis', 'calendar']),
        (e.defaultOption = {
          z: 2,
          coordinateSystem: 'view',
          legendHoverLink: !0,
          layout: null,
          circular: { rotateLabel: !1 },
          force: {
            initLayout: null,
            repulsion: [0, 50],
            gravity: 0.1,
            friction: 0.6,
            edgeLength: 30,
            layoutAnimation: !0,
          },
          left: 'center',
          top: 'center',
          symbol: 'circle',
          symbolSize: 10,
          edgeSymbol: ['none', 'none'],
          edgeSymbolSize: 10,
          edgeLabel: { position: 'middle', distance: 5 },
          draggable: !1,
          roam: !1,
          center: null,
          zoom: 1,
          nodeScaleRatio: 0.6,
          label: { show: !1, formatter: '{b}' },
          itemStyle: {},
          lineStyle: { color: '#aaa', width: 1, opacity: 0.5 },
          emphasis: { scale: !0, label: { show: !0 } },
          select: { itemStyle: { borderColor: '#212121' } },
        }),
        e
      );
    })(nn),
    qV = { type: 'graphRoam', event: 'graphRoam', update: 'none' },
    KV = function r() {
      (this.angle = 0),
        (this.width = 10),
        (this.r = 10),
        (this.x = 0),
        (this.y = 0);
    },
    QV = (function (r) {
      function e(t) {
        var n = r.call(this, t) || this;
        return (n.type = 'pointer'), n;
      }
      return (
        ut(e, r),
        (e.prototype.getDefaultShape = function () {
          return new KV();
        }),
        (e.prototype.buildPath = function (t, n) {
          var i = Math.cos,
            a = Math.sin,
            o = n.r,
            s = n.width,
            l = n.angle,
            u = n.x - i(l) * s * (s >= o / 3 ? 1 : 2),
            c = n.y - a(l) * s * (s >= o / 3 ? 1 : 2);
          (l = n.angle - Math.PI / 2),
            t.moveTo(u, c),
            t.lineTo(n.x + i(l) * s, n.y + a(l) * s),
            t.lineTo(n.x + i(n.angle) * o, n.y + a(n.angle) * o),
            t.lineTo(n.x - i(l) * s, n.y - a(l) * s),
            t.lineTo(u, c);
        }),
        e
      );
    })(Lr);
  function Kg(r, e) {
    var t = null == r ? '' : r + '';
    return (
      e && (ht(e) ? (t = e.replace('{value}', t)) : fe(e) && (t = e(r))), t
    );
  }
  var tH = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i) {
          this.group.removeAll();
          var a = t.get(['axisLine', 'lineStyle', 'color']),
            o = (function JV(r, e) {
              var t = r.get('center'),
                n = e.getWidth(),
                i = e.getHeight(),
                a = Math.min(n, i);
              return {
                cx: Te(t[0], e.getWidth()),
                cy: Te(t[1], e.getHeight()),
                r: Te(r.get('radius'), a / 2),
              };
            })(t, i);
          this._renderMain(t, n, i, a, o), (this._data = t.getData());
        }),
        (e.prototype.dispose = function () {}),
        (e.prototype._renderMain = function (t, n, i, a, o) {
          var s = this.group,
            l = t.get('clockwise'),
            u = (-t.get('startAngle') / 180) * Math.PI,
            c = (-t.get('endAngle') / 180) * Math.PI,
            f = t.getModel('axisLine'),
            v = f.get('roundCap') ? kg : Gi,
            g = f.get('show'),
            m = f.getModel('lineStyle'),
            y = m.get('width'),
            b = [u, c];
          a_(b, !l);
          for (
            var w = (c = b[1]) - (u = b[0]), C = u, D = [], L = 0;
            g && L < a.length;
            L++
          ) {
            var E = new v({
              shape: {
                startAngle: C,
                endAngle: (c = u + w * Math.min(Math.max(a[L][0], 0), 1)),
                cx: o.cx,
                cy: o.cy,
                clockwise: l,
                r0: o.r - y,
                r: o.r,
              },
              silent: !0,
            });
            E.setStyle({ fill: a[L][1] }),
              E.setStyle(m.getLineStyle(['color', 'width'])),
              D.push(E),
              (C = c);
          }
          D.reverse(),
            F(D, function (z) {
              return s.add(z);
            });
          var O = function (z) {
            if (z <= 0) return a[0][1];
            var H;
            for (H = 0; H < a.length; H++)
              if (a[H][0] >= z && (0 === H ? 0 : a[H - 1][0]) < z)
                return a[H][1];
            return a[H - 1][1];
          };
          this._renderTicks(t, n, i, O, o, u, c, l, y),
            this._renderTitleAndDetail(t, n, i, O, o),
            this._renderAnchor(t, o),
            this._renderPointer(t, n, i, O, o, u, c, l, y);
        }),
        (e.prototype._renderTicks = function (t, n, i, a, o, s, l, u, c) {
          for (
            var tt,
              ot,
              f = this.group,
              d = o.cx,
              v = o.cy,
              g = o.r,
              m = +t.get('min'),
              y = +t.get('max'),
              b = t.getModel('splitLine'),
              w = t.getModel('axisTick'),
              C = t.getModel('axisLabel'),
              D = t.get('splitNumber'),
              L = w.get('splitNumber'),
              M = Te(b.get('length'), g),
              E = Te(w.get('length'), g),
              O = s,
              z = (l - s) / D,
              H = z / L,
              G = b.getModel('lineStyle').getLineStyle(),
              X = w.getModel('lineStyle').getLineStyle(),
              K = b.get('distance'),
              pt = 0;
            pt <= D;
            pt++
          ) {
            if (((tt = Math.cos(O)), (ot = Math.sin(O)), b.get('show'))) {
              var Vt = new Jn({
                shape: {
                  x1: tt * (g - (Xt = K ? K + c : c)) + d,
                  y1: ot * (g - Xt) + v,
                  x2: tt * (g - M - Xt) + d,
                  y2: ot * (g - M - Xt) + v,
                },
                style: G,
                silent: !0,
              });
              'auto' === G.stroke && Vt.setStyle({ stroke: a(pt / D) }),
                f.add(Vt);
            }
            if (C.get('show')) {
              var Xt = C.get('distance') + K,
                re = Kg(yn((pt / D) * (y - m) + m), C.get('formatter')),
                ye = a(pt / D),
                ke = tt * (g - M - Xt) + d,
                Ye = ot * (g - M - Xt) + v,
                tr = C.get('rotate'),
                er = 0;
              'radial' === tr
                ? (er = -O + 2 * Math.PI) > Math.PI / 2 && (er += Math.PI)
                : 'tangential' === tr
                ? (er = -O - Math.PI / 2)
                : U(tr) && (er = (tr * Math.PI) / 180),
                f.add(
                  new Or(
                    0 === er
                      ? {
                          style: on(
                            C,
                            {
                              text: re,
                              x: ke,
                              y: Ye,
                              verticalAlign:
                                ot < -0.8
                                  ? 'top'
                                  : ot > 0.8
                                  ? 'bottom'
                                  : 'middle',
                              align:
                                tt < -0.4
                                  ? 'left'
                                  : tt > 0.4
                                  ? 'right'
                                  : 'center',
                            },
                            { inheritColor: ye }
                          ),
                          silent: !0,
                        }
                      : {
                          style: on(
                            C,
                            {
                              text: re,
                              x: ke,
                              y: Ye,
                              verticalAlign: 'middle',
                              align: 'center',
                            },
                            { inheritColor: ye }
                          ),
                          silent: !0,
                          originX: ke,
                          originY: Ye,
                          rotation: er,
                        }
                  )
                );
            }
            if (w.get('show') && pt !== D) {
              Xt = (Xt = w.get('distance')) ? Xt + c : c;
              for (var Cr = 0; Cr <= L; Cr++) {
                (tt = Math.cos(O)), (ot = Math.sin(O));
                var Er = new Jn({
                  shape: {
                    x1: tt * (g - Xt) + d,
                    y1: ot * (g - Xt) + v,
                    x2: tt * (g - E - Xt) + d,
                    y2: ot * (g - E - Xt) + v,
                  },
                  silent: !0,
                  style: X,
                });
                'auto' === X.stroke &&
                  Er.setStyle({ stroke: a((pt + Cr / L) / D) }),
                  f.add(Er),
                  (O += H);
              }
              O -= H;
            } else O += z;
          }
        }),
        (e.prototype._renderPointer = function (t, n, i, a, o, s, l, u, c) {
          var f = this.group,
            d = this._data,
            v = this._progressEls,
            g = [],
            m = t.get(['pointer', 'show']),
            y = t.getModel('progress'),
            b = y.get('show'),
            w = t.getData(),
            C = w.mapDimension('value'),
            D = +t.get('min'),
            L = +t.get('max'),
            M = [D, L],
            E = [s, l];
          function O(H, G) {
            var ke,
              K = w.getItemModel(H).getModel('pointer'),
              tt = Te(K.get('width'), o.r),
              ot = Te(K.get('length'), o.r),
              pt = t.get(['pointer', 'icon']),
              Xt = K.get('offsetCenter'),
              Vt = Te(Xt[0], o.r),
              re = Te(Xt[1], o.r),
              ye = K.get('keepAspect');
            return (
              ((ke = pt
                ? En(pt, Vt - tt / 2, re - ot, tt, ot, null, ye)
                : new QV({
                    shape: {
                      angle: -Math.PI / 2,
                      width: tt,
                      r: ot,
                      x: Vt,
                      y: re,
                    },
                  })).rotation = -(G + Math.PI / 2)),
              (ke.x = o.cx),
              (ke.y = o.cy),
              ke
            );
          }
          function z(H, G) {
            var K = y.get('roundCap') ? kg : Gi,
              tt = y.get('overlap'),
              ot = tt ? y.get('width') : c / w.count(),
              Vt = new K({
                shape: {
                  startAngle: s,
                  endAngle: G,
                  cx: o.cx,
                  cy: o.cy,
                  clockwise: u,
                  r0: tt ? o.r - ot : o.r - (H + 1) * ot,
                  r: tt ? o.r : o.r - H * ot,
                },
              });
            return tt && (Vt.z2 = L - (w.get(C, H) % L)), Vt;
          }
          (b || m) &&
            (w
              .diff(d)
              .add(function (H) {
                var G = w.get(C, H);
                if (m) {
                  var X = O(H, s);
                  pn(
                    X,
                    {
                      rotation: -(
                        (isNaN(+G) ? E[0] : kr(G, M, E, !0)) +
                        Math.PI / 2
                      ),
                    },
                    t
                  ),
                    f.add(X),
                    w.setItemGraphicEl(H, X);
                }
                if (b) {
                  var K = z(H, s),
                    tt = y.get('clip');
                  pn(K, { shape: { endAngle: kr(G, M, E, tt) } }, t),
                    f.add(K),
                    jm(t.seriesIndex, w.dataType, H, K),
                    (g[H] = K);
                }
              })
              .update(function (H, G) {
                var X = w.get(C, H);
                if (m) {
                  var K = d.getItemGraphicEl(G),
                    tt = K ? K.rotation : s,
                    ot = O(H, tt);
                  (ot.rotation = tt),
                    Wr(
                      ot,
                      {
                        rotation: -(
                          (isNaN(+X) ? E[0] : kr(X, M, E, !0)) +
                          Math.PI / 2
                        ),
                      },
                      t
                    ),
                    f.add(ot),
                    w.setItemGraphicEl(H, ot);
                }
                if (b) {
                  var pt = v[G],
                    Vt = z(H, pt ? pt.shape.endAngle : s),
                    re = y.get('clip');
                  Wr(Vt, { shape: { endAngle: kr(X, M, E, re) } }, t),
                    f.add(Vt),
                    jm(t.seriesIndex, w.dataType, H, Vt),
                    (g[H] = Vt);
                }
              })
              .execute(),
            w.each(function (H) {
              var G = w.getItemModel(H),
                X = G.getModel('emphasis'),
                K = X.get('focus'),
                tt = X.get('blurScope'),
                ot = X.get('disabled');
              if (m) {
                var pt = w.getItemGraphicEl(H),
                  Xt = w.getItemVisual(H, 'style'),
                  Vt = Xt.fill;
                if (pt instanceof ai) {
                  var re = pt.style;
                  pt.useStyle(
                    nt(
                      {
                        image: re.image,
                        x: re.x,
                        y: re.y,
                        width: re.width,
                        height: re.height,
                      },
                      Xt
                    )
                  );
                } else
                  pt.useStyle(Xt), 'pointer' !== pt.type && pt.setColor(Vt);
                pt.setStyle(
                  G.getModel(['pointer', 'itemStyle']).getItemStyle()
                ),
                  'auto' === pt.style.fill &&
                    pt.setStyle('fill', a(kr(w.get(C, H), M, [0, 1], !0))),
                  (pt.z2EmphasisLift = 0),
                  wi(pt, G),
                  wn(pt, K, tt, ot);
              }
              if (b) {
                var ye = g[H];
                ye.useStyle(w.getItemVisual(H, 'style')),
                  ye.setStyle(
                    G.getModel(['progress', 'itemStyle']).getItemStyle()
                  ),
                  (ye.z2EmphasisLift = 0),
                  wi(ye, G),
                  wn(ye, K, tt, ot);
              }
            }),
            (this._progressEls = g));
        }),
        (e.prototype._renderAnchor = function (t, n) {
          var i = t.getModel('anchor');
          if (i.get('show')) {
            var o = i.get('size'),
              s = i.get('icon'),
              l = i.get('offsetCenter'),
              u = i.get('keepAspect'),
              c = En(
                s,
                n.cx - o / 2 + Te(l[0], n.r),
                n.cy - o / 2 + Te(l[1], n.r),
                o,
                o,
                null,
                u
              );
            (c.z2 = i.get('showAbove') ? 1 : 0),
              c.setStyle(i.getModel('itemStyle').getItemStyle()),
              this.group.add(c);
          }
        }),
        (e.prototype._renderTitleAndDetail = function (t, n, i, a, o) {
          var s = this,
            l = t.getData(),
            u = l.mapDimension('value'),
            c = +t.get('min'),
            f = +t.get('max'),
            d = new Qe(),
            v = [],
            g = [],
            m = t.isAnimationEnabled(),
            y = t.get(['pointer', 'showAbove']);
          l
            .diff(this._data)
            .add(function (b) {
              (v[b] = new Or({ silent: !0 })), (g[b] = new Or({ silent: !0 }));
            })
            .update(function (b, w) {
              (v[b] = s._titleEls[w]), (g[b] = s._detailEls[w]);
            })
            .execute(),
            l.each(function (b) {
              var w = l.getItemModel(b),
                C = l.get(u, b),
                D = new Qe(),
                L = a(kr(C, [c, f], [0, 1], !0)),
                M = w.getModel('title');
              if (M.get('show')) {
                var E = M.get('offsetCenter'),
                  O = o.cx + Te(E[0], o.r),
                  z = o.cy + Te(E[1], o.r);
                (H = v[b]).attr({
                  z2: y ? 0 : 2,
                  style: on(
                    M,
                    {
                      x: O,
                      y: z,
                      text: l.getName(b),
                      align: 'center',
                      verticalAlign: 'middle',
                    },
                    { inheritColor: L }
                  ),
                }),
                  D.add(H);
              }
              var G = w.getModel('detail');
              if (G.get('show')) {
                var X = G.get('offsetCenter'),
                  K = o.cx + Te(X[0], o.r),
                  tt = o.cy + Te(X[1], o.r),
                  ot = Te(G.get('width'), o.r),
                  pt = Te(G.get('height'), o.r),
                  Xt = t.get(['progress', 'show'])
                    ? l.getItemVisual(b, 'style').fill
                    : L,
                  H = g[b],
                  Vt = G.get('formatter');
                H.attr({
                  z2: y ? 0 : 2,
                  style: on(
                    G,
                    {
                      x: K,
                      y: tt,
                      text: Kg(C, Vt),
                      width: isNaN(ot) ? null : ot,
                      height: isNaN(pt) ? null : pt,
                      align: 'center',
                      verticalAlign: 'middle',
                    },
                    { inheritColor: Xt }
                  ),
                }),
                  mS(H, { normal: G }, C, function (ye) {
                    return Kg(ye, Vt);
                  }),
                  m &&
                    yS(H, b, l, t, {
                      getFormattedLabel: function (ye, ke, Ye, tr, er, Cr) {
                        return Kg(Cr ? Cr.interpolatedValue : C, Vt);
                      },
                    }),
                  D.add(H);
              }
              d.add(D);
            }),
            this.group.add(d),
            (this._titleEls = v),
            (this._detailEls = g);
        }),
        (e.type = 'gauge'),
        e
      );
    })(en),
    eH = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), (t.visualStyleAccessPath = 'itemStyle'), t;
      }
      return (
        ut(e, r),
        (e.prototype.getInitialData = function (t, n) {
          return Qf(this, ['value']);
        }),
        (e.type = 'series.gauge'),
        (e.defaultOption = {
          z: 2,
          colorBy: 'data',
          center: ['50%', '50%'],
          legendHoverLink: !0,
          radius: '75%',
          startAngle: 225,
          endAngle: -45,
          clockwise: !0,
          min: 0,
          max: 100,
          splitNumber: 10,
          axisLine: {
            show: !0,
            roundCap: !1,
            lineStyle: { color: [[1, '#E6EBF8']], width: 10 },
          },
          progress: {
            show: !1,
            overlap: !0,
            width: 10,
            roundCap: !1,
            clip: !0,
          },
          splitLine: {
            show: !0,
            length: 10,
            distance: 10,
            lineStyle: { color: '#63677A', width: 3, type: 'solid' },
          },
          axisTick: {
            show: !0,
            splitNumber: 5,
            length: 6,
            distance: 10,
            lineStyle: { color: '#63677A', width: 1, type: 'solid' },
          },
          axisLabel: {
            show: !0,
            distance: 15,
            color: '#464646',
            fontSize: 12,
            rotate: 0,
          },
          pointer: {
            icon: null,
            offsetCenter: [0, 0],
            show: !0,
            showAbove: !0,
            length: '60%',
            width: 6,
            keepAspect: !1,
          },
          anchor: {
            show: !1,
            showAbove: !1,
            size: 6,
            icon: 'circle',
            offsetCenter: [0, 0],
            keepAspect: !1,
            itemStyle: {
              color: '#fff',
              borderWidth: 0,
              borderColor: '#5470c6',
            },
          },
          title: {
            show: !0,
            offsetCenter: [0, '20%'],
            color: '#464646',
            fontSize: 16,
            valueAnimation: !1,
          },
          detail: {
            show: !0,
            backgroundColor: 'rgba(0,0,0,0)',
            borderWidth: 0,
            borderColor: '#ccc',
            width: 100,
            height: null,
            padding: [5, 10],
            offsetCenter: [0, '40%'],
            color: '#464646',
            fontSize: 30,
            fontWeight: 'bold',
            lineHeight: 30,
            valueAnimation: !1,
          },
        }),
        e
      );
    })(nn),
    nH = ['itemStyle', 'opacity'],
    iH = (function (r) {
      function e(t, n) {
        var i = r.call(this) || this,
          a = i,
          o = new $i(),
          s = new Or();
        return (
          a.setTextContent(s), i.setTextGuideLine(o), i.updateData(t, n, !0), i
        );
      }
      return (
        ut(e, r),
        (e.prototype.updateData = function (t, n, i) {
          var a = this,
            o = t.hostModel,
            s = t.getItemModel(n),
            l = t.getItemLayout(n),
            u = s.getModel('emphasis'),
            c = s.get(nH);
          (c = c ?? 1),
            i || Ro(a),
            a.useStyle(t.getItemVisual(n, 'style')),
            (a.style.lineJoin = 'round'),
            i
              ? (a.setShape({ points: l.points }),
                (a.style.opacity = 0),
                pn(a, { style: { opacity: c } }, o, n))
              : Wr(
                  a,
                  { style: { opacity: c }, shape: { points: l.points } },
                  o,
                  n
                ),
            wi(a, s),
            this._updateLabel(t, n),
            wn(this, u.get('focus'), u.get('blurScope'), u.get('disabled'));
        }),
        (e.prototype._updateLabel = function (t, n) {
          var i = this,
            a = this.getTextGuideLine(),
            o = i.getTextContent(),
            s = t.hostModel,
            l = t.getItemModel(n),
            c = t.getItemLayout(n).label,
            f = t.getItemVisual(n, 'style'),
            d = f.fill;
          Ci(
            o,
            oi(l),
            {
              labelFetcher: t.hostModel,
              labelDataIndex: n,
              defaultOpacity: f.opacity,
              defaultText: t.getName(n),
            },
            { normal: { align: c.textAlign, verticalAlign: c.verticalAlign } }
          ),
            i.setTextConfig({
              local: !0,
              inside: !!c.inside,
              insideStroke: d,
              outsideFill: d,
            });
          var v = c.linePoints;
          a.setShape({ points: v }),
            (i.textGuideLineConfig = {
              anchor: v ? new ur(v[0][0], v[0][1]) : null,
            }),
            Wr(o, { style: { x: c.x, y: c.y } }, s, n),
            o.attr({
              rotation: c.rotation,
              originX: c.x,
              originY: c.y,
              z2: 10,
            }),
            Z0(i, q0(l), { stroke: d });
        }),
        e
      );
    })(Wi),
    aH = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), (t.ignoreLabelLineUpdate = !0), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i) {
          var a = t.getData(),
            o = this._data,
            s = this.group;
          a
            .diff(o)
            .add(function (l) {
              var u = new iH(a, l);
              a.setItemGraphicEl(l, u), s.add(u);
            })
            .update(function (l, u) {
              var c = o.getItemGraphicEl(u);
              c.updateData(a, l), s.add(c), a.setItemGraphicEl(l, c);
            })
            .remove(function (l) {
              ad(o.getItemGraphicEl(l), t, l);
            })
            .execute(),
            (this._data = a);
        }),
        (e.prototype.remove = function () {
          this.group.removeAll(), (this._data = null);
        }),
        (e.prototype.dispose = function () {}),
        (e.type = 'funnel'),
        e
      );
    })(en),
    oH = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.init = function (t) {
          r.prototype.init.apply(this, arguments),
            (this.legendVisualProvider = new Zd(
              kt(this.getData, this),
              kt(this.getRawData, this)
            )),
            this._defaultLabelLine(t);
        }),
        (e.prototype.getInitialData = function (t, n) {
          return Qf(this, {
            coordDimensions: ['value'],
            encodeDefaulter: me(Fy, this),
          });
        }),
        (e.prototype._defaultLabelLine = function (t) {
          Oa(t, 'labelLine', ['show']);
          var n = t.labelLine,
            i = t.emphasis.labelLine;
          (n.show = n.show && t.label.show),
            (i.show = i.show && t.emphasis.label.show);
        }),
        (e.prototype.getDataParams = function (t) {
          var n = this.getData(),
            i = r.prototype.getDataParams.call(this, t),
            a = n.mapDimension('value'),
            o = n.getSum(a);
          return (
            (i.percent = o ? +((n.get(a, t) / o) * 100).toFixed(2) : 0),
            i.$vars.push('percent'),
            i
          );
        }),
        (e.type = 'series.funnel'),
        (e.defaultOption = {
          z: 2,
          legendHoverLink: !0,
          colorBy: 'data',
          left: 80,
          top: 60,
          right: 80,
          bottom: 60,
          minSize: '0%',
          maxSize: '100%',
          sort: 'descending',
          orient: 'vertical',
          gap: 0,
          funnelAlign: 'center',
          label: { show: !0, position: 'outer' },
          labelLine: { show: !0, length: 20, lineStyle: { width: 1 } },
          itemStyle: { borderColor: '#fff', borderWidth: 1 },
          emphasis: { label: { show: !0 } },
          select: { itemStyle: { borderColor: '#212121' } },
        }),
        e
      );
    })(nn);
  function cH(r, e) {
    r.eachSeriesByType('funnel', function (t) {
      var n = t.getData(),
        i = n.mapDimension('value'),
        a = t.get('sort'),
        o = (function sH(r, e) {
          return Vn(r.getBoxLayoutParams(), {
            width: e.getWidth(),
            height: e.getHeight(),
          });
        })(t, e),
        s = t.get('orient'),
        l = o.width,
        u = o.height,
        c = (function lH(r, e) {
          for (
            var t = r.mapDimension('value'),
              n = r.mapArray(t, function (l) {
                return l;
              }),
              i = [],
              a = 'ascending' === e,
              o = 0,
              s = r.count();
            o < s;
            o++
          )
            i[o] = o;
          return (
            fe(e)
              ? i.sort(e)
              : 'none' !== e &&
                i.sort(function (l, u) {
                  return a ? n[l] - n[u] : n[u] - n[l];
                }),
            i
          );
        })(n, a),
        f = o.x,
        d = o.y,
        v =
          'horizontal' === s
            ? [Te(t.get('minSize'), u), Te(t.get('maxSize'), u)]
            : [Te(t.get('minSize'), l), Te(t.get('maxSize'), l)],
        g = n.getDataExtent(i),
        m = t.get('min'),
        y = t.get('max');
      null == m && (m = Math.min(g[0], 0)), null == y && (y = g[1]);
      var b = t.get('funnelAlign'),
        w = t.get('gap'),
        D = (('horizontal' === s ? l : u) - w * (n.count() - 1)) / n.count(),
        L = function (tt, ot) {
          if ('horizontal' === s) {
            var Xt = kr(n.get(i, tt) || 0, [m, y], v, !0),
              Vt = void 0;
            switch (b) {
              case 'top':
                Vt = d;
                break;
              case 'center':
                Vt = d + (u - Xt) / 2;
                break;
              case 'bottom':
                Vt = d + (u - Xt);
            }
            return [
              [ot, Vt],
              [ot, Vt + Xt],
            ];
          }
          var ke,
            ye = kr(n.get(i, tt) || 0, [m, y], v, !0);
          switch (b) {
            case 'left':
              ke = f;
              break;
            case 'center':
              ke = f + (l - ye) / 2;
              break;
            case 'right':
              ke = f + l - ye;
          }
          return [
            [ke, ot],
            [ke + ye, ot],
          ];
        };
      'ascending' === a &&
        ((D = -D),
        (w = -w),
        'horizontal' === s ? (f += l) : (d += u),
        (c = c.reverse()));
      for (var M = 0; M < c.length; M++) {
        var E = c[M],
          O = c[M + 1],
          z = n.getItemModel(E);
        if ('horizontal' === s) {
          var H = z.get(['itemStyle', 'width']);
          null == H ? (H = D) : ((H = Te(H, l)), 'ascending' === a && (H = -H));
          var G = L(E, f),
            X = L(O, f + H);
          (f += H + w),
            n.setItemLayout(E, { points: G.concat(X.slice().reverse()) });
        } else {
          var K = z.get(['itemStyle', 'height']);
          null == K ? (K = D) : ((K = Te(K, u)), 'ascending' === a && (K = -K)),
            (G = L(E, d)),
            (X = L(O, d + K)),
            (d += K + w),
            n.setItemLayout(E, { points: G.concat(X.slice().reverse()) });
        }
      }
      !(function uH(r) {
        var t = r.hostModel.get('orient');
        r.each(function (n) {
          var f,
            d,
            v,
            g,
            i = r.getItemModel(n),
            o = i.getModel('label').get('position'),
            s = i.getModel('labelLine'),
            l = r.getItemLayout(n),
            u = l.points,
            c =
              'inner' === o ||
              'inside' === o ||
              'center' === o ||
              'insideLeft' === o ||
              'insideRight' === o;
          if (c)
            'insideLeft' === o
              ? ((d = (u[0][0] + u[3][0]) / 2 + 5),
                (v = (u[0][1] + u[3][1]) / 2),
                (f = 'left'))
              : 'insideRight' === o
              ? ((d = (u[1][0] + u[2][0]) / 2 - 5),
                (v = (u[1][1] + u[2][1]) / 2),
                (f = 'right'))
              : ((d = (u[0][0] + u[1][0] + u[2][0] + u[3][0]) / 4),
                (v = (u[0][1] + u[1][1] + u[2][1] + u[3][1]) / 4),
                (f = 'center')),
              (g = [
                [d, v],
                [d, v],
              ]);
          else {
            var m = void 0,
              y = void 0,
              b = void 0,
              w = void 0,
              C = s.get('length');
            'vertical' === t &&
              ['top', 'bottom'].indexOf(o) > -1 &&
              ((o = 'left'),
              console.warn(
                'Position error: Funnel chart on vertical orient dose not support top and bottom.'
              )),
              'horizontal' === t &&
                ['left', 'right'].indexOf(o) > -1 &&
                ((o = 'bottom'),
                console.warn(
                  'Position error: Funnel chart on horizontal orient dose not support left and right.'
                )),
              'left' === o
                ? ((y = (u[3][1] + u[0][1]) / 2),
                  (d = (b = (m = (u[3][0] + u[0][0]) / 2) - C) - 5),
                  (f = 'right'))
                : 'right' === o
                ? ((y = (u[1][1] + u[2][1]) / 2),
                  (d = (b = (m = (u[1][0] + u[2][0]) / 2) + C) + 5),
                  (f = 'left'))
                : 'top' === o
                ? ((m = (u[3][0] + u[0][0]) / 2),
                  (v = (w = (y = (u[3][1] + u[0][1]) / 2) - C) - 5),
                  (f = 'center'))
                : 'bottom' === o
                ? ((m = (u[1][0] + u[2][0]) / 2),
                  (v = (w = (y = (u[1][1] + u[2][1]) / 2) + C) + 5),
                  (f = 'center'))
                : 'rightTop' === o
                ? ((m = 'horizontal' === t ? u[3][0] : u[1][0]),
                  (y = 'horizontal' === t ? u[3][1] : u[1][1]),
                  'horizontal' === t
                    ? ((v = (w = y - C) - 5), (f = 'center'))
                    : ((d = (b = m + C) + 5), (f = 'top')))
                : 'rightBottom' === o
                ? ((m = u[2][0]),
                  (y = u[2][1]),
                  'horizontal' === t
                    ? ((v = (w = y + C) + 5), (f = 'center'))
                    : ((d = (b = m + C) + 5), (f = 'bottom')))
                : 'leftTop' === o
                ? ((m = u[0][0]),
                  (y = 'horizontal' === t ? u[0][1] : u[1][1]),
                  'horizontal' === t
                    ? ((v = (w = y - C) - 5), (f = 'center'))
                    : ((d = (b = m - C) - 5), (f = 'right')))
                : 'leftBottom' === o
                ? ((m = 'horizontal' === t ? u[1][0] : u[3][0]),
                  (y = 'horizontal' === t ? u[1][1] : u[2][1]),
                  'horizontal' === t
                    ? ((v = (w = y + C) + 5), (f = 'center'))
                    : ((d = (b = m - C) - 5), (f = 'right')))
                : ((m = (u[1][0] + u[2][0]) / 2),
                  (y = (u[1][1] + u[2][1]) / 2),
                  'horizontal' === t
                    ? ((v = (w = y + C) + 5), (f = 'center'))
                    : ((d = (b = m + C) + 5), (f = 'left'))),
              'horizontal' === t ? (d = b = m) : (v = w = y),
              (g = [
                [m, y],
                [b, w],
              ]);
          }
          l.label = {
            linePoints: g,
            x: d,
            y: v,
            verticalAlign: 'middle',
            textAlign: f,
            inside: c,
          };
        });
      })(n);
    });
  }
  var dH = (function (r) {
    function e() {
      var t = (null !== r && r.apply(this, arguments)) || this;
      return (
        (t.type = e.type), (t._dataGroup = new Qe()), (t._initialized = !1), t
      );
    }
    return (
      ut(e, r),
      (e.prototype.init = function () {
        this.group.add(this._dataGroup);
      }),
      (e.prototype.render = function (t, n, i, a) {
        this._progressiveEls = null;
        var o = this._dataGroup,
          s = t.getData(),
          l = this._data,
          u = t.coordinateSystem,
          c = u.dimensions,
          f = XM(t);
        if (
          (s
            .diff(l)
            .add(function d(y) {
              vx(YM(s, o, y, c, u), s, y, f);
            })
            .update(function v(y, b) {
              var w = l.getItemGraphicEl(b),
                C = UM(s, y, c, u);
              s.setItemGraphicEl(y, w),
                Wr(w, { shape: { points: C } }, t, y),
                Ro(w),
                vx(w, s, y, f);
            })
            .remove(function g(y) {
              var b = l.getItemGraphicEl(y);
              o.remove(b);
            })
            .execute(),
          !this._initialized)
        ) {
          this._initialized = !0;
          var m = (function vH(r, e, t) {
            var n = r.model,
              i = r.getRect(),
              a = new Rr({
                shape: { x: i.x, y: i.y, width: i.width, height: i.height },
              }),
              o = 'horizontal' === n.get('layout') ? 'width' : 'height';
            return (
              a.setShape(o, 0),
              pn(a, { shape: { width: i.width, height: i.height } }, e, t),
              a
            );
          })(u, t, function () {
            setTimeout(function () {
              o.removeClipPath();
            });
          });
          o.setClipPath(m);
        }
        this._data = s;
      }),
      (e.prototype.incrementalPrepareRender = function (t, n, i) {
        (this._initialized = !0),
          (this._data = null),
          this._dataGroup.removeAll();
      }),
      (e.prototype.incrementalRender = function (t, n, i) {
        for (
          var a = n.getData(),
            o = n.coordinateSystem,
            s = o.dimensions,
            l = XM(n),
            u = (this._progressiveEls = []),
            c = t.start;
          c < t.end;
          c++
        ) {
          var f = YM(a, this._dataGroup, c, s, o);
          (f.incremental = !0), vx(f, a, c, l), u.push(f);
        }
      }),
      (e.prototype.remove = function () {
        this._dataGroup && this._dataGroup.removeAll(), (this._data = null);
      }),
      (e.type = 'parallel'),
      e
    );
  })(en);
  function UM(r, e, t, n) {
    for (var i = [], a = 0; a < t.length; a++) {
      var o = t[a],
        s = r.get(r.mapDimension(o), e);
      pH(s, n.getAxis(o).type) || i.push(n.dataToPoint(s, o));
    }
    return i;
  }
  function YM(r, e, t, n, i) {
    var a = UM(r, t, n, i),
      o = new $i({ shape: { points: a }, z2: 10 });
    return e.add(o), r.setItemGraphicEl(t, o), o;
  }
  function XM(r) {
    var e = r.get('smooth', !0);
    return !0 === e && (e = 0.3), Wt((e = ba(e))) && (e = 0), { smooth: e };
  }
  function vx(r, e, t, n) {
    r.useStyle(e.getItemVisual(t, 'style')),
      (r.style.fill = null),
      r.setShape('smooth', n.smooth);
    var i = e.getItemModel(t),
      a = i.getModel('emphasis');
    wi(r, i, 'lineStyle'),
      wn(r, a.get('focus'), a.get('blurScope'), a.get('disabled'));
  }
  function pH(r, e) {
    return 'category' === e ? null == r : null == r || isNaN(r);
  }
  var gH = (function (r) {
    function e() {
      var t = (null !== r && r.apply(this, arguments)) || this;
      return (
        (t.type = e.type),
        (t.visualStyleAccessPath = 'lineStyle'),
        (t.visualDrawType = 'stroke'),
        t
      );
    }
    return (
      ut(e, r),
      (e.prototype.getInitialData = function (t, n) {
        return cs(null, this, { useEncodeDefaulter: kt(mH, null, this) });
      }),
      (e.prototype.getRawIndicesByActiveState = function (t) {
        var n = this.coordinateSystem,
          i = this.getData(),
          a = [];
        return (
          n.eachActiveState(i, function (o, s) {
            t === o && a.push(i.getRawIndex(s));
          }),
          a
        );
      }),
      (e.type = 'series.parallel'),
      (e.dependencies = ['parallel']),
      (e.defaultOption = {
        z: 2,
        coordinateSystem: 'parallel',
        parallelIndex: 0,
        label: { show: !1 },
        inactiveOpacity: 0.05,
        activeOpacity: 1,
        lineStyle: { width: 1, opacity: 0.45, type: 'solid' },
        emphasis: { label: { show: !1 } },
        progressive: 500,
        smooth: !1,
        animationEasing: 'linear',
      }),
      e
    );
  })(nn);
  function mH(r) {
    var e = r.ecModel.getComponent('parallel', r.get('parallelIndex'));
    if (e) {
      var t = {};
      return (
        F(e.dimensions, function (n) {
          var i = (function yH(r) {
            return +r.replace('dim', '');
          })(n);
          t[n] = i;
        }),
        t
      );
    }
  }
  var xH = ['lineStyle', 'opacity'],
    bH = {
      seriesType: 'parallel',
      reset: function (r, e) {
        var t = r.coordinateSystem,
          n = {
            normal: r.get(['lineStyle', 'opacity']),
            active: r.get('activeOpacity'),
            inactive: r.get('inactiveOpacity'),
          };
        return {
          progress: function (i, a) {
            t.eachActiveState(
              a,
              function (o, s) {
                var l = n[o];
                if ('normal' === o && a.hasItemOption) {
                  var u = a.getItemModel(s).get(xH, !0);
                  null != u && (l = u);
                }
                a.ensureUniqueItemVisual(s, 'style').opacity = l;
              },
              i.start,
              i.end
            );
          },
        };
      },
    };
  function _H(r) {
    (function SH(r) {
      if (!r.parallel) {
        var e = !1;
        F(r.series, function (t) {
          t && 'parallel' === t.type && (e = !0);
        }),
          e && (r.parallel = [{}]);
      }
    })(r),
      (function wH(r) {
        F(qr(r.parallelAxis), function (t) {
          if (Y(t)) {
            var n = t.parallelIndex || 0,
              i = qr(r.parallel)[n];
            i && i.parallelAxisDefault && Gt(t, i.parallelAxisDefault, !1);
          }
        });
      })(r);
  }
  var DH = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i) {
          (this._model = t),
            (this._api = i),
            this._handlers ||
              ((this._handlers = {}),
              F(
                TH,
                function (a, o) {
                  i.getZr().on(o, (this._handlers[o] = kt(a, this)));
                },
                this
              )),
            Vf(
              this,
              '_throttledDispatchExpand',
              t.get('axisExpandRate'),
              'fixRate'
            );
        }),
        (e.prototype.dispose = function (t, n) {
          wd(this, '_throttledDispatchExpand'),
            F(this._handlers, function (i, a) {
              n.getZr().off(a, i);
            }),
            (this._handlers = null);
        }),
        (e.prototype._throttledDispatchExpand = function (t) {
          this._dispatchExpand(t);
        }),
        (e.prototype._dispatchExpand = function (t) {
          t && this._api.dispatchAction(nt({ type: 'parallelAxisExpand' }, t));
        }),
        (e.type = 'parallel'),
        e
      );
    })(fn),
    TH = {
      mousedown: function (r) {
        px(this, 'click') && (this._mouseDownPoint = [r.offsetX, r.offsetY]);
      },
      mouseup: function (r) {
        var e = this._mouseDownPoint;
        if (px(this, 'click') && e) {
          var t = [r.offsetX, r.offsetY];
          if (Math.pow(e[0] - t[0], 2) + Math.pow(e[1] - t[1], 2) > 5) return;
          var i = this._model.coordinateSystem.getSlidedAxisExpandWindow([
            r.offsetX,
            r.offsetY,
          ]);
          'none' !== i.behavior &&
            this._dispatchExpand({ axisExpandWindow: i.axisExpandWindow });
        }
        this._mouseDownPoint = null;
      },
      mousemove: function (r) {
        if (!this._mouseDownPoint && px(this, 'mousemove')) {
          var e = this._model,
            t = e.coordinateSystem.getSlidedAxisExpandWindow([
              r.offsetX,
              r.offsetY,
            ]),
            n = t.behavior;
          'jump' === n &&
            this._throttledDispatchExpand.debounceNextCall(
              e.get('axisExpandDebounce')
            ),
            this._throttledDispatchExpand(
              'none' === n
                ? null
                : {
                    axisExpandWindow: t.axisExpandWindow,
                    animation: 'jump' === n ? null : { duration: 0 },
                  }
            );
        }
      },
    };
  function px(r, e) {
    var t = r._model;
    return t.get('axisExpandable') && t.get('axisExpandTriggerOn') === e;
  }
  var AH = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.init = function () {
          r.prototype.init.apply(this, arguments), this.mergeOption({});
        }),
        (e.prototype.mergeOption = function (t) {
          t && Gt(this.option, t, !0), this._initDimensions();
        }),
        (e.prototype.contains = function (t, n) {
          var i = t.get('parallelIndex');
          return null != i && n.getComponent('parallel', i) === this;
        }),
        (e.prototype.setAxisExpand = function (t) {
          F(
            [
              'axisExpandable',
              'axisExpandCenter',
              'axisExpandCount',
              'axisExpandWidth',
              'axisExpandWindow',
            ],
            function (n) {
              t.hasOwnProperty(n) && (this.option[n] = t[n]);
            },
            this
          );
        }),
        (e.prototype._initDimensions = function () {
          var t = (this.dimensions = []),
            n = (this.parallelAxisIndex = []);
          F(
            je(
              this.ecModel.queryComponents({ mainType: 'parallelAxis' }),
              function (a) {
                return (a.get('parallelIndex') || 0) === this.componentIndex;
              },
              this
            ),
            function (a) {
              t.push('dim' + a.get('dim')), n.push(a.componentIndex);
            }
          );
        }),
        (e.type = 'parallel'),
        (e.dependencies = ['parallelAxis']),
        (e.layoutMode = 'box'),
        (e.defaultOption = {
          z: 0,
          left: 80,
          top: 60,
          right: 80,
          bottom: 60,
          layout: 'horizontal',
          axisExpandable: !1,
          axisExpandCenter: null,
          axisExpandCount: 0,
          axisExpandWidth: 50,
          axisExpandRate: 17,
          axisExpandDebounce: 50,
          axisExpandSlideTriggerArea: [-0.15, 0.05, 0.4],
          axisExpandTriggerOn: 'click',
          parallelAxisDefault: null,
        }),
        e
      );
    })(br),
    MH = (function (r) {
      function e(t, n, i, a, o) {
        var s = r.call(this, t, n, i) || this;
        return (s.type = a || 'value'), (s.axisIndex = o), s;
      }
      return (
        ut(e, r),
        (e.prototype.isHorizontal = function () {
          return (
            'horizontal' !== this.coordinateSystem.getModel().get('layout')
          );
        }),
        e
      );
    })(lo);
  function Nc(r, e, t, n, i, a) {
    r = r || 0;
    var o = t[1] - t[0];
    if (
      (null != i && (i = ih(i, [0, o])),
      null != a && (a = Math.max(a, i ?? 0)),
      'all' === n)
    ) {
      var s = Math.abs(e[1] - e[0]);
      (s = ih(s, [0, o])), (i = a = ih(s, [i, a])), (n = 0);
    }
    (e[0] = ih(e[0], t)), (e[1] = ih(e[1], t));
    var l = gx(e, n);
    e[n] += r;
    var f,
      u = i || 0,
      c = t.slice();
    return (
      l.sign < 0 ? (c[0] += u) : (c[1] -= u),
      (e[n] = ih(e[n], c)),
      (f = gx(e, n)),
      null != i &&
        (f.sign !== l.sign || f.span < i) &&
        (e[1 - n] = e[n] + l.sign * i),
      (f = gx(e, n)),
      null != a && f.span > a && (e[1 - n] = e[n] + f.sign * a),
      e
    );
  }
  function gx(r, e) {
    var t = r[e] - r[1 - e];
    return { span: Math.abs(t), sign: t > 0 ? -1 : t < 0 ? 1 : e ? -1 : 1 };
  }
  function ih(r, e) {
    return Math.min(
      null != e[1] ? e[1] : 1 / 0,
      Math.max(null != e[0] ? e[0] : -1 / 0, r)
    );
  }
  var mx = F,
    ZM = Math.min,
    qM = Math.max,
    jM = Math.floor,
    LH = Math.ceil,
    KM = yn,
    IH = Math.PI,
    kH = (function () {
      function r(e, t, n) {
        (this.type = 'parallel'),
          (this._axesMap = Nt()),
          (this._axesLayout = {}),
          (this.dimensions = e.dimensions),
          (this._model = e),
          this._init(e, t, n);
      }
      return (
        (r.prototype._init = function (e, t, n) {
          var a = e.parallelAxisIndex;
          mx(
            e.dimensions,
            function (o, s) {
              var l = a[s],
                u = t.getComponent('parallelAxis', l),
                c = this._axesMap.set(
                  o,
                  new MH(o, Od(u), [0, 0], u.get('type'), l)
                );
              (c.onBand = 'category' === c.type && u.get('boundaryGap')),
                (c.inverse = u.get('inverse')),
                (u.axis = c),
                (c.model = u),
                (c.coordinateSystem = u.coordinateSystem = this);
            },
            this
          );
        }),
        (r.prototype.update = function (e, t) {
          this._updateAxesFromSeries(this._model, e);
        }),
        (r.prototype.containPoint = function (e) {
          var t = this._makeLayoutInfo(),
            n = t.axisBase,
            i = t.layoutBase,
            a = t.pixelDimIndex,
            o = e[1 - a],
            s = e[a];
          return (
            o >= n && o <= n + t.axisLength && s >= i && s <= i + t.layoutLength
          );
        }),
        (r.prototype.getModel = function () {
          return this._model;
        }),
        (r.prototype._updateAxesFromSeries = function (e, t) {
          t.eachSeries(function (n) {
            if (e.contains(n, t)) {
              var i = n.getData();
              mx(
                this.dimensions,
                function (a) {
                  var o = this._axesMap.get(a);
                  o.scale.unionExtentFromData(i, i.mapDimension(a)),
                    Sc(o.scale, o.model);
                },
                this
              );
            }
          }, this);
        }),
        (r.prototype.resize = function (e, t) {
          (this._rect = Vn(e.getBoxLayoutParams(), {
            width: t.getWidth(),
            height: t.getHeight(),
          })),
            this._layoutAxes();
        }),
        (r.prototype.getRect = function () {
          return this._rect;
        }),
        (r.prototype._makeLayoutInfo = function () {
          var g,
            e = this._model,
            t = this._rect,
            n = ['x', 'y'],
            i = ['width', 'height'],
            a = e.get('layout'),
            o = 'horizontal' === a ? 0 : 1,
            s = t[i[o]],
            l = [0, s],
            u = this.dimensions.length,
            c = Qg(e.get('axisExpandWidth'), l),
            f = Qg(e.get('axisExpandCount') || 0, [0, u]),
            d =
              e.get('axisExpandable') &&
              u > 3 &&
              u > f &&
              f > 1 &&
              c > 0 &&
              s > 0,
            v = e.get('axisExpandWindow');
          v
            ? ((g = Qg(v[1] - v[0], l)), (v[1] = v[0] + g))
            : ((g = Qg(c * (f - 1), l)),
              ((v = [c * (e.get('axisExpandCenter') || jM(u / 2)) - g / 2])[1] =
                v[0] + g));
          var y = (s - g) / (u - f);
          y < 3 && (y = 0);
          var b = [jM(KM(v[0] / c, 1)) + 1, LH(KM(v[1] / c, 1)) - 1];
          return {
            layout: a,
            pixelDimIndex: o,
            layoutBase: t[n[o]],
            layoutLength: s,
            axisBase: t[n[1 - o]],
            axisLength: t[i[1 - o]],
            axisExpandable: d,
            axisExpandWidth: c,
            axisCollapseWidth: y,
            axisExpandWindow: v,
            axisCount: u,
            winInnerIndices: b,
            axisExpandWindow0Pos: (y / c) * v[0],
          };
        }),
        (r.prototype._layoutAxes = function () {
          var e = this._rect,
            t = this._axesMap,
            n = this.dimensions,
            i = this._makeLayoutInfo(),
            a = i.layout;
          t.each(function (o) {
            var s = [0, i.axisLength],
              l = o.inverse ? 1 : 0;
            o.setExtent(s[l], s[1 - l]);
          }),
            mx(
              n,
              function (o, s) {
                var l = (i.axisExpandable ? PH : EH)(s, i),
                  u = {
                    horizontal: { x: l.position, y: i.axisLength },
                    vertical: { x: 0, y: l.position },
                  },
                  f = [u[a].x + e.x, u[a].y + e.y],
                  d = { horizontal: IH / 2, vertical: 0 }[a],
                  v = [1, 0, 0, 1, 0, 0];
                ka(v, v, d),
                  Ri(v, v, f),
                  (this._axesLayout[o] = {
                    position: f,
                    rotation: d,
                    transform: v,
                    axisNameAvailableWidth: l.axisNameAvailableWidth,
                    axisLabelShow: l.axisLabelShow,
                    nameTruncateMaxWidth: l.nameTruncateMaxWidth,
                    tickDirection: 1,
                    labelDirection: 1,
                  });
              },
              this
            );
        }),
        (r.prototype.getAxis = function (e) {
          return this._axesMap.get(e);
        }),
        (r.prototype.dataToPoint = function (e, t) {
          return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e), t);
        }),
        (r.prototype.eachActiveState = function (e, t, n, i) {
          null == n && (n = 0), null == i && (i = e.count());
          var a = this._axesMap,
            o = this.dimensions,
            s = [],
            l = [];
          F(o, function (y) {
            s.push(e.mapDimension(y)), l.push(a.get(y).model);
          });
          for (var u = this.hasAxisBrushed(), c = n; c < i; c++) {
            var f = void 0;
            if (u) {
              f = 'active';
              for (var d = e.getValues(s, c), v = 0, g = o.length; v < g; v++)
                if ('inactive' === l[v].getActiveState(d[v])) {
                  f = 'inactive';
                  break;
                }
            } else f = 'normal';
            t(f, c);
          }
        }),
        (r.prototype.hasAxisBrushed = function () {
          for (
            var e = this.dimensions,
              t = this._axesMap,
              n = !1,
              i = 0,
              a = e.length;
            i < a;
            i++
          )
            'normal' !== t.get(e[i]).model.getActiveState() && (n = !0);
          return n;
        }),
        (r.prototype.axisCoordToPoint = function (e, t) {
          return Oo([e, 0], this._axesLayout[t].transform);
        }),
        (r.prototype.getAxisLayout = function (e) {
          return ft(this._axesLayout[e]);
        }),
        (r.prototype.getSlidedAxisExpandWindow = function (e) {
          var t = this._makeLayoutInfo(),
            n = t.pixelDimIndex,
            i = t.axisExpandWindow.slice(),
            a = i[1] - i[0],
            o = [0, t.axisExpandWidth * (t.axisCount - 1)];
          if (!this.containPoint(e))
            return { behavior: 'none', axisExpandWindow: i };
          var l,
            s = e[n] - t.layoutBase - t.axisExpandWindow0Pos,
            u = 'slide',
            c = t.axisCollapseWidth,
            f = this._model.get('axisExpandSlideTriggerArea'),
            d = null != f[0];
          if (c)
            d && c && s < a * f[0]
              ? ((u = 'jump'), (l = s - a * f[2]))
              : d && c && s > a * (1 - f[0])
              ? ((u = 'jump'), (l = s - a * (1 - f[2])))
              : (l = s - a * f[1]) >= 0 &&
                (l = s - a * (1 - f[1])) <= 0 &&
                (l = 0),
              (l *= t.axisExpandWidth / c) ? Nc(l, i, o, 'all') : (u = 'none');
          else {
            var v = i[1] - i[0];
            ((i = [qM(0, (o[1] * s) / v - v / 2)])[1] = ZM(o[1], i[0] + v)),
              (i[0] = i[1] - v);
          }
          return { axisExpandWindow: i, behavior: u };
        }),
        r
      );
    })();
  function Qg(r, e) {
    return ZM(qM(r, e[0]), e[1]);
  }
  function EH(r, e) {
    var t = e.layoutLength / (e.axisCount - 1);
    return { position: t * r, axisNameAvailableWidth: t, axisLabelShow: !0 };
  }
  function PH(r, e) {
    var s,
      c,
      n = e.axisExpandWidth,
      a = e.axisCollapseWidth,
      o = e.winInnerIndices,
      l = a,
      u = !1;
    return (
      r < o[0]
        ? ((s = r * a), (c = a))
        : r <= o[1]
        ? ((s = e.axisExpandWindow0Pos + r * n - e.axisExpandWindow[0]),
          (l = n),
          (u = !0))
        : ((s = e.layoutLength - (e.axisCount - 1 - r) * a), (c = a)),
      {
        position: s,
        axisNameAvailableWidth: l,
        axisLabelShow: u,
        nameTruncateMaxWidth: c,
      }
    );
  }
  var OH = {
      create: function RH(r, e) {
        var t = [];
        return (
          r.eachComponent('parallel', function (n, i) {
            var a = new kH(n, r, e);
            (a.name = 'parallel_' + i),
              a.resize(n, e),
              (n.coordinateSystem = a),
              (a.model = n),
              t.push(a);
          }),
          r.eachSeries(function (n) {
            if ('parallel' === n.get('coordinateSystem')) {
              var i = n.getReferringComponents('parallel', N).models[0];
              n.coordinateSystem = i.coordinateSystem;
            }
          }),
          t
        );
      },
    },
    yx = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), (t.activeIntervals = []), t;
      }
      return (
        ut(e, r),
        (e.prototype.getAreaSelectStyle = function () {
          return Sr([
            ['fill', 'color'],
            ['lineWidth', 'borderWidth'],
            ['stroke', 'borderColor'],
            ['width', 'width'],
            ['opacity', 'opacity'],
          ])(this.getModel('areaSelectStyle'));
        }),
        (e.prototype.setActiveIntervals = function (t) {
          var n = (this.activeIntervals = ft(t));
          if (n) for (var i = n.length - 1; i >= 0; i--) Zn(n[i]);
        }),
        (e.prototype.getActiveState = function (t) {
          var n = this.activeIntervals;
          if (!n.length) return 'normal';
          if (null == t || isNaN(+t)) return 'inactive';
          if (1 === n.length) {
            var i = n[0];
            if (i[0] <= t && t <= i[1]) return 'active';
          } else
            for (var a = 0, o = n.length; a < o; a++)
              if (n[a][0] <= t && t <= n[a][1]) return 'active';
          return 'inactive';
        }),
        e
      );
    })(br);
  Ee(yx, qf);
  var zc = !0,
    fv = Math.min,
    ah = Math.max,
    FH = Math.pow,
    BH = 1e4,
    NH = 6,
    zH = 6,
    QM = 'globalPan',
    VH = { w: [0, 0], e: [0, 1], n: [1, 0], s: [1, 1] },
    HH = {
      w: 'ew',
      e: 'ew',
      n: 'ns',
      s: 'ns',
      ne: 'nesw',
      sw: 'nesw',
      nw: 'nwse',
      se: 'nwse',
    },
    JM = {
      brushStyle: {
        lineWidth: 2,
        stroke: 'rgba(210,219,238,0.3)',
        fill: '#D2DBEE',
      },
      transformable: !0,
      brushMode: 'single',
      removeOnClick: !1,
    },
    GH = 0,
    xx = (function (r) {
      function e(t) {
        var n = r.call(this) || this;
        return (
          (n._track = []),
          (n._covers = []),
          (n._handlers = {}),
          lt(t),
          (n._zr = t),
          (n.group = new Qe()),
          (n._uid = 'brushController_' + GH++),
          F(
            qH,
            function (i, a) {
              this._handlers[a] = kt(i, this);
            },
            n
          ),
          n
        );
      }
      return (
        ut(e, r),
        (e.prototype.enableBrush = function (t) {
          return (
            lt(this._mounted),
            this._brushType && this._doDisableBrush(),
            t.brushType && this._doEnableBrush(t),
            this
          );
        }),
        (e.prototype._doEnableBrush = function (t) {
          var n = this._zr;
          this._enableGlobalPan ||
            (function E5(r, e, t) {
              T1(r)[e] = t;
            })(n, QM, this._uid),
            F(this._handlers, function (i, a) {
              n.on(a, i);
            }),
            (this._brushType = t.brushType),
            (this._brushOption = Gt(ft(JM), t, !0));
        }),
        (e.prototype._doDisableBrush = function () {
          var t = this._zr;
          (function P5(r, e, t) {
            var n = T1(r);
            n[e] === t && (n[e] = null);
          })(t, QM, this._uid),
            F(this._handlers, function (n, i) {
              t.off(i, n);
            }),
            (this._brushType = this._brushOption = null);
        }),
        (e.prototype.setPanels = function (t) {
          if (t && t.length) {
            var n = (this._panels = {});
            F(t, function (i) {
              n[i.panelId] = ft(i);
            });
          } else this._panels = null;
          return this;
        }),
        (e.prototype.mount = function (t) {
          (t = t || {}),
            (this._mounted = !0),
            (this._enableGlobalPan = t.enableGlobalPan);
          var n = this.group;
          return (
            this._zr.add(n),
            n.attr({
              x: t.x || 0,
              y: t.y || 0,
              rotation: t.rotation || 0,
              scaleX: t.scaleX || 1,
              scaleY: t.scaleY || 1,
            }),
            (this._transform = n.getLocalTransform()),
            this
          );
        }),
        (e.prototype.updateCovers = function (t) {
          lt(this._mounted),
            (t = Ut(t, function (d) {
              return Gt(ft(JM), d, !0);
            }));
          var i = this._covers,
            a = (this._covers = []),
            o = this,
            s = this._creatingCover;
          return (
            new nl(
              i,
              t,
              function u(d, v) {
                return l(d.__brushOption, v);
              },
              l
            )
              .add(c)
              .update(c)
              .remove(function f(d) {
                i[d] !== s && o.group.remove(i[d]);
              })
              .execute(),
            this
          );
          function l(d, v) {
            return (
              (null != d.id ? d.id : '\0-brush-index-' + v) + '-' + d.brushType
            );
          }
          function c(d, v) {
            var g = t[d];
            if (null != v && i[v] === s) a[d] = i[v];
            else {
              var m = (a[d] =
                null != v ? ((i[v].__brushOption = g), i[v]) : e2(o, t2(o, g)));
              bx(o, m);
            }
          }
        }),
        (e.prototype.unmount = function () {
          if (this._mounted)
            return (
              this.enableBrush(!1),
              Cx(this),
              this._zr.remove(this.group),
              (this._mounted = !1),
              this
            );
        }),
        (e.prototype.dispose = function () {
          this.unmount(), this.off();
        }),
        e
      );
    })(ci);
  function t2(r, e) {
    var t = Jg[e.brushType].createCover(r, e);
    return (t.__brushOption = e), n2(t, e), r.group.add(t), t;
  }
  function e2(r, e) {
    var t = _x(e);
    return t.endCreating && (t.endCreating(r, e), n2(e, e.__brushOption)), e;
  }
  function r2(r, e) {
    var t = e.__brushOption;
    _x(e).updateCoverShape(r, e, t.range, t);
  }
  function n2(r, e) {
    var t = e.z;
    null == t && (t = BH),
      r.traverse(function (n) {
        (n.z = t), (n.z2 = t);
      });
  }
  function bx(r, e) {
    _x(e).updateCommon(r, e), r2(r, e);
  }
  function _x(r) {
    return Jg[r.__brushOption.brushType];
  }
  function Sx(r, e, t) {
    var n = r._panels;
    if (!n) return zc;
    var i,
      a = r._transform;
    return (
      F(n, function (o) {
        o.isTargetByCursor(e, t, a) && (i = o);
      }),
      i
    );
  }
  function i2(r, e) {
    var t = r._panels;
    if (!t) return zc;
    var n = e.__brushOption.panelId;
    return null != n ? t[n] : zc;
  }
  function Cx(r) {
    var e = r._covers,
      t = e.length;
    return (
      F(
        e,
        function (n) {
          r.group.remove(n);
        },
        r
      ),
      (e.length = 0),
      !!t
    );
  }
  function Vc(r, e) {
    var t = Ut(r._covers, function (n) {
      var i = n.__brushOption,
        a = ft(i.range);
      return { brushType: i.brushType, panelId: i.panelId, range: a };
    });
    r.trigger('brush', {
      areas: t,
      isEnd: !!e.isEnd,
      removeOnClick: !!e.removeOnClick,
    });
  }
  function a2(r) {
    var e = r.length - 1;
    return e < 0 && (e = 0), [r[0], r[e]];
  }
  function o2(r, e, t, n) {
    var i = new Qe();
    return (
      i.add(
        new Rr({
          name: 'main',
          style: Tx(t),
          silent: !0,
          draggable: !0,
          cursor: 'move',
          drift: me(u2, r, e, i, ['n', 's', 'w', 'e']),
          ondragend: me(Vc, e, { isEnd: !0 }),
        })
      ),
      F(n, function (a) {
        i.add(
          new Rr({
            name: a.join(''),
            style: { opacity: 0 },
            draggable: !0,
            silent: !0,
            invisible: !0,
            drift: me(u2, r, e, i, a),
            ondragend: me(Vc, e, { isEnd: !0 }),
          })
        );
      }),
      i
    );
  }
  function s2(r, e, t, n) {
    var i = n.brushStyle.lineWidth || 0,
      a = ah(i, zH),
      o = t[0][0],
      s = t[1][0],
      l = o - i / 2,
      u = s - i / 2,
      c = t[0][1],
      f = t[1][1],
      d = c - a + i / 2,
      v = f - a + i / 2,
      g = c - o,
      m = f - s,
      y = g + i,
      b = m + i;
    sl(r, e, 'main', o, s, g, m),
      n.transformable &&
        (sl(r, e, 'w', l, u, a, b),
        sl(r, e, 'e', d, u, a, b),
        sl(r, e, 'n', l, u, y, a),
        sl(r, e, 's', l, v, y, a),
        sl(r, e, 'nw', l, u, a, a),
        sl(r, e, 'ne', d, u, a, a),
        sl(r, e, 'sw', l, v, a, a),
        sl(r, e, 'se', d, v, a, a));
  }
  function Dx(r, e) {
    var t = e.__brushOption,
      n = t.transformable,
      i = e.childAt(0);
    i.useStyle(Tx(t)),
      i.attr({ silent: !n, cursor: n ? 'move' : 'default' }),
      F(
        [
          ['w'],
          ['e'],
          ['n'],
          ['s'],
          ['s', 'e'],
          ['s', 'w'],
          ['n', 'e'],
          ['n', 'w'],
        ],
        function (a) {
          var o = e.childOfName(a.join('')),
            s =
              1 === a.length
                ? Ax(r, a[0])
                : (function UH(r, e) {
                    var t = [Ax(r, e[0]), Ax(r, e[1])];
                    return (
                      ('e' === t[0] || 'w' === t[0]) && t.reverse(), t.join('')
                    );
                  })(r, a);
          o &&
            o.attr({
              silent: !n,
              invisible: !n,
              cursor: n ? HH[s] + '-resize' : null,
            });
        }
      );
  }
  function sl(r, e, t, n, i, a, o) {
    var s = e.childOfName(t);
    s &&
      s.setShape(
        (function XH(r) {
          var e = fv(r[0][0], r[1][0]),
            t = fv(r[0][1], r[1][1]);
          return {
            x: e,
            y: t,
            width: ah(r[0][0], r[1][0]) - e,
            height: ah(r[0][1], r[1][1]) - t,
          };
        })(
          Mx(r, e, [
            [n, i],
            [n + a, i + o],
          ])
        )
      );
  }
  function Tx(r) {
    return Ot({ strokeNoScale: !0 }, r.brushStyle);
  }
  function l2(r, e, t, n) {
    var i = [fv(r, t), fv(e, n)],
      a = [ah(r, t), ah(e, n)];
    return [
      [i[0], a[0]],
      [i[1], a[1]],
    ];
  }
  function Ax(r, e) {
    var i = Ap(
      { w: 'left', e: 'right', n: 'top', s: 'bottom' }[e],
      (function $H(r) {
        return Yl(r.group);
      })(r)
    );
    return { left: 'w', right: 'e', top: 'n', bottom: 's' }[i];
  }
  function u2(r, e, t, n, i, a) {
    var o = t.__brushOption,
      s = r.toRectRange(o.range),
      l = c2(e, i, a);
    F(n, function (u) {
      var c = VH[u];
      s[c[0]][c[1]] += l[c[0]];
    }),
      (o.range = r.fromRectRange(l2(s[0][0], s[1][0], s[0][1], s[1][1]))),
      bx(e, t),
      Vc(e, { isEnd: !1 });
  }
  function YH(r, e, t, n) {
    var i = e.__brushOption.range,
      a = c2(r, t, n);
    F(i, function (o) {
      (o[0] += a[0]), (o[1] += a[1]);
    }),
      bx(r, e),
      Vc(r, { isEnd: !1 });
  }
  function c2(r, e, t) {
    var n = r.group,
      i = n.transformCoordToLocal(e, t),
      a = n.transformCoordToLocal(0, 0);
    return [i[0] - a[0], i[1] - a[1]];
  }
  function Mx(r, e, t) {
    var n = i2(r, e);
    return n && n !== zc ? n.clipPath(t, r._transform) : ft(t);
  }
  function Lx(r) {
    var e = r.event;
    e.preventDefault && e.preventDefault();
  }
  function Ix(r, e, t) {
    return r.childOfName('main').contain(e, t);
  }
  function f2(r, e, t, n) {
    var s,
      i = r._creatingCover,
      a = r._creatingPanel,
      o = r._brushOption;
    if (
      (r._track.push(t.slice()),
      (function WH(r) {
        var e = r._track;
        if (!e.length) return !1;
        var t = e[e.length - 1],
          n = e[0],
          i = t[0] - n[0],
          a = t[1] - n[1];
        return FH(i * i + a * a, 0.5) > NH;
      })(r) || i)
    ) {
      if (a && !i) {
        'single' === o.brushMode && Cx(r);
        var l = ft(o);
        (l.brushType = h2(l.brushType, a)),
          (l.panelId = a === zc ? null : a.panelId),
          (i = r._creatingCover = t2(r, l)),
          r._covers.push(i);
      }
      if (i) {
        var u = Jg[h2(r._brushType, a)];
        (i.__brushOption.range = u.getCreatingRange(Mx(r, i, r._track))),
          n && (e2(r, i), u.updateCommon(r, i)),
          r2(r, i),
          (s = { isEnd: n });
      }
    } else n && 'single' === o.brushMode && o.removeOnClick && Sx(r, e, t) && Cx(r) && (s = { isEnd: n, removeOnClick: !0 });
    return s;
  }
  function h2(r, e) {
    return 'auto' === r
      ? (lt(
          e && e.defaultBrushType,
          'MUST have defaultBrushType when brushType is "atuo"'
        ),
        e.defaultBrushType)
      : r;
  }
  var qH = {
    mousedown: function (r) {
      if (this._dragging) d2(this, r);
      else if (!r.target || !r.target.draggable) {
        Lx(r);
        var e = this.group.transformCoordToLocal(r.offsetX, r.offsetY);
        (this._creatingCover = null),
          (this._creatingPanel = Sx(this, r, e)) &&
            ((this._dragging = !0), (this._track = [e.slice()]));
      }
    },
    mousemove: function (r) {
      var n = this.group.transformCoordToLocal(r.offsetX, r.offsetY);
      if (
        ((function ZH(r, e, t) {
          if (
            r._brushType &&
            !(function jH(r, e, t) {
              var n = r._zr;
              return e < 0 || e > n.getWidth() || t < 0 || t > n.getHeight();
            })(r, e.offsetX, e.offsetY)
          ) {
            var n = r._zr,
              i = r._covers,
              a = Sx(r, e, t);
            if (!r._dragging)
              for (var o = 0; o < i.length; o++) {
                var s = i[o].__brushOption;
                if (
                  a &&
                  (a === zc || s.panelId === a.panelId) &&
                  Jg[s.brushType].contain(i[o], t[0], t[1])
                )
                  return;
              }
            a && n.setCursorStyle('crosshair');
          }
        })(this, r, n),
        this._dragging)
      ) {
        Lx(r);
        var i = f2(this, r, n, !1);
        i && Vc(this, i);
      }
    },
    mouseup: function (r) {
      d2(this, r);
    },
  };
  function d2(r, e) {
    if (r._dragging) {
      Lx(e);
      var i = r.group.transformCoordToLocal(e.offsetX, e.offsetY),
        a = f2(r, e, i, !0);
      (r._dragging = !1),
        (r._track = []),
        (r._creatingCover = null),
        a && Vc(r, a);
    }
  }
  var Jg = {
    lineX: v2(0),
    lineY: v2(1),
    rect: {
      createCover: function (r, e) {
        function t(n) {
          return n;
        }
        return o2({ toRectRange: t, fromRectRange: t }, r, e, [
          ['w'],
          ['e'],
          ['n'],
          ['s'],
          ['s', 'e'],
          ['s', 'w'],
          ['n', 'e'],
          ['n', 'w'],
        ]);
      },
      getCreatingRange: function (r) {
        var e = a2(r);
        return l2(e[1][0], e[1][1], e[0][0], e[0][1]);
      },
      updateCoverShape: function (r, e, t, n) {
        s2(r, e, t, n);
      },
      updateCommon: Dx,
      contain: Ix,
    },
    polygon: {
      createCover: function (r, e) {
        var t = new Qe();
        return t.add(new $i({ name: 'main', style: Tx(e), silent: !0 })), t;
      },
      getCreatingRange: function (r) {
        return r;
      },
      endCreating: function (r, e) {
        e.remove(e.childAt(0)),
          e.add(
            new Wi({
              name: 'main',
              draggable: !0,
              drift: me(YH, r, e),
              ondragend: me(Vc, r, { isEnd: !0 }),
            })
          );
      },
      updateCoverShape: function (r, e, t, n) {
        e.childAt(0).setShape({ points: Mx(r, e, t) });
      },
      updateCommon: Dx,
      contain: Ix,
    },
  };
  function v2(r) {
    return {
      createCover: function (e, t) {
        return o2(
          {
            toRectRange: function (n) {
              var i = [n, [0, 100]];
              return r && i.reverse(), i;
            },
            fromRectRange: function (n) {
              return n[r];
            },
          },
          e,
          t,
          [
            [['w'], ['e']],
            [['n'], ['s']],
          ][r]
        );
      },
      getCreatingRange: function (e) {
        var t = a2(e);
        return [fv(t[0][r], t[1][r]), ah(t[0][r], t[1][r])];
      },
      updateCoverShape: function (e, t, n, i) {
        var a,
          o = i2(e, t);
        if (o !== zc && o.getLinearBrushOtherExtent)
          a = o.getLinearBrushOtherExtent(r);
        else {
          var s = e._zr;
          a = [0, [s.getWidth(), s.getHeight()][1 - r]];
        }
        var l = [n, a];
        r && l.reverse(), s2(e, t, l, i);
      },
      updateCommon: Dx,
      contain: Ix,
    };
  }
  function p2(r) {
    return (
      (r = kx(r)),
      function (e) {
        return gy(e, r);
      }
    );
  }
  function g2(r, e) {
    return (
      (r = kx(r)),
      function (t) {
        var n = e ?? t,
          a = n ? r.x : r.y;
        return [a, a + ((n ? r.width : r.height) || 0)];
      }
    );
  }
  function m2(r, e, t) {
    var n = kx(r);
    return function (i, a) {
      return n.contain(a[0], a[1]) && !Ng(i, e, t);
    };
  }
  function kx(r) {
    return it.create(r);
  }
  var KH = ['axisLine', 'axisTickLabel', 'axisName'],
    QH = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.init = function (t, n) {
          r.prototype.init.apply(this, arguments),
            (this._brushController = new xx(n.getZr())).on(
              'brush',
              kt(this._onBrush, this)
            );
        }),
        (e.prototype.render = function (t, n, i, a) {
          if (
            !(function JH(r, e, t) {
              return (
                t &&
                'axisAreaSelect' === t.type &&
                e.findComponents({ mainType: 'parallelAxis', query: t })[0] ===
                  r
              );
            })(t, n, a)
          ) {
            (this.axisModel = t), (this.api = i), this.group.removeAll();
            var o = this._axisGroup;
            if (
              ((this._axisGroup = new Qe()),
              this.group.add(this._axisGroup),
              t.get('show'))
            ) {
              var s = (function eG(r, e) {
                  return e.getComponent('parallel', r.get('parallelIndex'));
                })(t, n),
                l = s.coordinateSystem,
                u = t.getAreaSelectStyle(),
                c = u.width,
                v = nt(
                  { strokeContainThreshold: c },
                  l.getAxisLayout(t.axis.dim)
                ),
                g = new va(t, v);
              F(KH, g.add, g),
                this._axisGroup.add(g.getGroup()),
                this._refreshBrushController(v, u, t, s, c, i),
                sd(o, this._axisGroup, t);
            }
          }
        }),
        (e.prototype._refreshBrushController = function (t, n, i, a, o, s) {
          var l = i.axis.getExtent(),
            u = l[1] - l[0],
            c = Math.min(30, 0.1 * Math.abs(u)),
            f = it.create({ x: l[0], y: -o / 2, width: u, height: o });
          (f.x -= c),
            (f.width += 2 * c),
            this._brushController
              .mount({
                enableGlobalPan: !0,
                rotation: t.rotation,
                x: t.position[0],
                y: t.position[1],
              })
              .setPanels([
                {
                  panelId: 'pl',
                  clipPath: p2(f),
                  isTargetByCursor: m2(f, s, a),
                  getLinearBrushOtherExtent: g2(f, 0),
                },
              ])
              .enableBrush({
                brushType: 'lineX',
                brushStyle: n,
                removeOnClick: !0,
              })
              .updateCovers(
                (function tG(r) {
                  var e = r.axis;
                  return Ut(r.activeIntervals, function (t) {
                    return {
                      brushType: 'lineX',
                      panelId: 'pl',
                      range: [e.dataToCoord(t[0], !0), e.dataToCoord(t[1], !0)],
                    };
                  });
                })(i)
              );
        }),
        (e.prototype._onBrush = function (t) {
          var i = this.axisModel,
            a = i.axis,
            o = Ut(t.areas, function (s) {
              return [
                a.coordToData(s.range[0], !0),
                a.coordToData(s.range[1], !0),
              ];
            });
          (!i.option.realtime === t.isEnd || t.removeOnClick) &&
            this.api.dispatchAction({
              type: 'axisAreaSelect',
              parallelAxisId: i.id,
              intervals: o,
            });
        }),
        (e.prototype.dispose = function () {
          this._brushController.dispose();
        }),
        (e.type = 'parallelAxis'),
        e
      );
    })(fn),
    rG = { type: 'axisAreaSelect', event: 'axisAreaSelected' },
    iG = {
      type: 'value',
      areaSelectStyle: {
        width: 20,
        borderWidth: 1,
        borderColor: 'rgba(160,197,232)',
        color: 'rgba(160,197,232)',
        opacity: 0.3,
      },
      realtime: !0,
      z: 10,
    };
  function y2(r) {
    r.registerComponentView(DH),
      r.registerComponentModel(AH),
      r.registerCoordinateSystem('parallel', OH),
      r.registerPreprocessor(_H),
      r.registerComponentModel(yx),
      r.registerComponentView(QH),
      Jf(r, 'parallel', yx, iG),
      (function nG(r) {
        r.registerAction(rG, function (e, t) {
          t.eachComponent({ mainType: 'parallelAxis', query: e }, function (n) {
            n.axis.model.setActiveIntervals(e.intervals);
          });
        }),
          r.registerAction('parallelAxisExpand', function (e, t) {
            t.eachComponent({ mainType: 'parallel', query: e }, function (n) {
              n.setAxisExpand(e);
            });
          });
      })(r);
  }
  var oG = function r() {
      (this.x1 = 0),
        (this.y1 = 0),
        (this.x2 = 0),
        (this.y2 = 0),
        (this.cpx1 = 0),
        (this.cpy1 = 0),
        (this.cpx2 = 0),
        (this.cpy2 = 0),
        (this.extent = 0);
    },
    sG = (function (r) {
      function e(t) {
        return r.call(this, t) || this;
      }
      return (
        ut(e, r),
        (e.prototype.getDefaultShape = function () {
          return new oG();
        }),
        (e.prototype.buildPath = function (t, n) {
          var i = n.extent;
          t.moveTo(n.x1, n.y1),
            t.bezierCurveTo(n.cpx1, n.cpy1, n.cpx2, n.cpy2, n.x2, n.y2),
            'vertical' === n.orient
              ? (t.lineTo(n.x2 + i, n.y2),
                t.bezierCurveTo(
                  n.cpx2 + i,
                  n.cpy2,
                  n.cpx1 + i,
                  n.cpy1,
                  n.x1 + i,
                  n.y1
                ))
              : (t.lineTo(n.x2, n.y2 + i),
                t.bezierCurveTo(
                  n.cpx2,
                  n.cpy2 + i,
                  n.cpx1,
                  n.cpy1 + i,
                  n.x1,
                  n.y1 + i
                )),
            t.closePath();
        }),
        (e.prototype.highlight = function () {
          Js(this);
        }),
        (e.prototype.downplay = function () {
          tl(this);
        }),
        e
      );
    })(Lr),
    lG = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), (t._focusAdjacencyDisabled = !1), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i) {
          var a = this,
            o = t.getGraph(),
            s = this.group,
            l = t.layoutInfo,
            u = l.width,
            c = l.height,
            f = t.getData(),
            d = t.getData('edge'),
            v = t.get('orient');
          (this._model = t),
            s.removeAll(),
            (s.x = l.x),
            (s.y = l.y),
            o.eachEdge(function (g) {
              var m = new sG(),
                y = fr(m);
              (y.dataIndex = g.dataIndex),
                (y.seriesIndex = t.seriesIndex),
                (y.dataType = 'edge');
              var K,
                tt,
                ot,
                pt,
                Xt,
                Vt,
                re,
                ye,
                b = g.getModel(),
                w = b.getModel('lineStyle'),
                C = w.get('curveness'),
                D = g.node1.getLayout(),
                L = g.node1.getModel(),
                M = L.get('localX'),
                E = L.get('localY'),
                O = g.node2.getLayout(),
                z = g.node2.getModel(),
                H = z.get('localX'),
                G = z.get('localY'),
                X = g.getLayout();
              (m.shape.extent = Math.max(1, X.dy)),
                (m.shape.orient = v),
                'vertical' === v
                  ? ((Xt = K = (null != M ? M * u : D.x) + X.sy),
                    (Vt =
                      (tt = (null != E ? E * c : D.y) + D.dy) * (1 - C) +
                      (pt = null != G ? G * c : O.y) * C),
                    (re = ot = (null != H ? H * u : O.x) + X.ty),
                    (ye = tt * C + pt * (1 - C)))
                  : ((Xt =
                      (K = (null != M ? M * u : D.x) + D.dx) * (1 - C) +
                      (ot = null != H ? H * u : O.x) * C),
                    (Vt = tt = (null != E ? E * c : D.y) + X.sy),
                    (re = K * C + ot * (1 - C)),
                    (ye = pt = (null != G ? G * c : O.y) + X.ty)),
                m.setShape({
                  x1: K,
                  y1: tt,
                  x2: ot,
                  y2: pt,
                  cpx1: Xt,
                  cpy1: Vt,
                  cpx2: re,
                  cpy2: ye,
                }),
                m.useStyle(w.getItemStyle()),
                x2(m.style, v, g);
              var ke = '' + b.get('value'),
                Ye = oi(b, 'edgeLabel');
              Ci(m, Ye, {
                labelFetcher: {
                  getFormattedLabel: function (Cr, Er, Dr, nr, Tr, dr) {
                    return t.getFormattedLabel(
                      Cr,
                      Er,
                      'edge',
                      nr,
                      J(Tr, Ye.normal && Ye.normal.get('formatter'), ke),
                      dr
                    );
                  },
                },
                labelDataIndex: g.dataIndex,
                defaultText: ke,
              }),
                m.setTextConfig({ position: 'inside' });
              var tr = b.getModel('emphasis');
              wi(m, b, 'lineStyle', function (Cr) {
                var Er = Cr.getItemStyle();
                return x2(Er, v, g), Er;
              }),
                s.add(m),
                d.setItemGraphicEl(g.dataIndex, m);
              var er = tr.get('focus');
              wn(
                m,
                'adjacency' === er
                  ? g.getAdjacentDataIndices()
                  : 'trajectory' === er
                  ? g.getTrajectoryDataIndices()
                  : er,
                tr.get('blurScope'),
                tr.get('disabled')
              );
            }),
            o.eachNode(function (g) {
              var m = g.getLayout(),
                y = g.getModel(),
                b = y.get('localX'),
                w = y.get('localY'),
                C = y.getModel('emphasis'),
                D = new Rr({
                  shape: {
                    x: null != b ? b * u : m.x,
                    y: null != w ? w * c : m.y,
                    width: m.dx,
                    height: m.dy,
                  },
                  style: y.getModel('itemStyle').getItemStyle(),
                  z2: 10,
                });
              Ci(D, oi(y), {
                labelFetcher: {
                  getFormattedLabel: function (M, E) {
                    return t.getFormattedLabel(M, E, 'node');
                  },
                },
                labelDataIndex: g.dataIndex,
                defaultText: g.id,
              }),
                (D.disableLabelAnimation = !0),
                D.setStyle('fill', g.getVisual('color')),
                D.setStyle('decal', g.getVisual('style').decal),
                wi(D, y),
                s.add(D),
                f.setItemGraphicEl(g.dataIndex, D),
                (fr(D).dataType = 'node');
              var L = C.get('focus');
              wn(
                D,
                'adjacency' === L
                  ? g.getAdjacentDataIndices()
                  : 'trajectory' === L
                  ? g.getTrajectoryDataIndices()
                  : L,
                C.get('blurScope'),
                C.get('disabled')
              );
            }),
            f.eachItemGraphicEl(function (g, m) {
              f.getItemModel(m).get('draggable') &&
                ((g.drift = function (b, w) {
                  (a._focusAdjacencyDisabled = !0),
                    (this.shape.x += b),
                    (this.shape.y += w),
                    this.dirty(),
                    i.dispatchAction({
                      type: 'dragNode',
                      seriesId: t.id,
                      dataIndex: f.getRawIndex(m),
                      localX: this.shape.x / u,
                      localY: this.shape.y / c,
                    });
                }),
                (g.ondragend = function () {
                  a._focusAdjacencyDisabled = !1;
                }),
                (g.draggable = !0),
                (g.cursor = 'move'));
            }),
            !this._data &&
              t.isAnimationEnabled() &&
              s.setClipPath(
                (function uG(r, e, t) {
                  var n = new Rr({
                    shape: {
                      x: r.x - 10,
                      y: r.y - 10,
                      width: 0,
                      height: r.height + 20,
                    },
                  });
                  return pn(n, { shape: { width: r.width + 20 } }, e, t), n;
                })(s.getBoundingRect(), t, function () {
                  s.removeClipPath();
                })
              ),
            (this._data = t.getData());
        }),
        (e.prototype.dispose = function () {}),
        (e.type = 'sankey'),
        e
      );
    })(en);
  function x2(r, e, t) {
    switch (r.fill) {
      case 'source':
        (r.fill = t.node1.getVisual('color')),
          (r.decal = t.node1.getVisual('style').decal);
        break;
      case 'target':
        (r.fill = t.node2.getVisual('color')),
          (r.decal = t.node2.getVisual('style').decal);
        break;
      case 'gradient':
        var n = t.node1.getVisual('color'),
          i = t.node2.getVisual('color');
        ht(n) &&
          ht(i) &&
          (r.fill = new Cf(0, 0, +('horizontal' === e), +('vertical' === e), [
            { color: n, offset: 0 },
            { color: i, offset: 1 },
          ]));
    }
  }
  var cG = (function (r) {
    function e() {
      var t = (null !== r && r.apply(this, arguments)) || this;
      return (t.type = e.type), t;
    }
    return (
      ut(e, r),
      (e.prototype.getInitialData = function (t, n) {
        var i = t.edges || t.links,
          a = t.data || t.nodes,
          o = t.levels;
        this.levelModels = [];
        for (var s = this.levelModels, l = 0; l < o.length; l++) {
          if (!(null != o[l].depth && o[l].depth >= 0))
            throw new Error(
              'levels[i].depth is mandatory and should be natural number'
            );
          s[o[l].depth] = new Yr(o[l], this, n);
        }
        if (a && i)
          return $M(a, i, this, !0, function c(f, d) {
            f.wrapMethod('getItemModel', function (v, g) {
              var m = v.parentModel,
                y = m.getData().getItemLayout(g);
              if (y) {
                var w = m.levelModels[y.depth];
                w && (v.parentModel = w);
              }
              return v;
            }),
              d.wrapMethod('getItemModel', function (v, g) {
                var m = v.parentModel,
                  b = m.getGraph().getEdgeByIndex(g).node1.getLayout();
                if (b) {
                  var C = m.levelModels[b.depth];
                  C && (v.parentModel = C);
                }
                return v;
              });
          }).data;
      }),
      (e.prototype.setNodePosition = function (t, n) {
        var a = (this.option.data || this.option.nodes)[t];
        (a.localX = n[0]), (a.localY = n[1]);
      }),
      (e.prototype.getGraph = function () {
        return this.getData().graph;
      }),
      (e.prototype.getEdgeData = function () {
        return this.getGraph().edgeData;
      }),
      (e.prototype.formatTooltip = function (t, n, i) {
        function a(v) {
          return isNaN(v) || null == v;
        }
        if ('edge' === i) {
          var o = this.getDataParams(t, i),
            s = o.data,
            l = o.value;
          return si('nameValue', {
            name: s.source + ' -- ' + s.target,
            value: l,
            noValue: a(l),
          });
        }
        var f = this.getGraph().getNodeByIndex(t).getLayout().value,
          d = this.getDataParams(t, i).data.name;
        return si('nameValue', {
          name: null != d ? d + '' : null,
          value: f,
          noValue: a(f),
        });
      }),
      (e.prototype.optionUpdated = function () {}),
      (e.prototype.getDataParams = function (t, n) {
        var i = r.prototype.getDataParams.call(this, t, n);
        if (null == i.value && 'node' === n) {
          var o = this.getGraph().getNodeByIndex(t).getLayout().value;
          i.value = o;
        }
        return i;
      }),
      (e.type = 'series.sankey'),
      (e.defaultOption = {
        z: 2,
        coordinateSystem: 'view',
        left: '5%',
        top: '5%',
        right: '20%',
        bottom: '5%',
        orient: 'horizontal',
        nodeWidth: 20,
        nodeGap: 8,
        draggable: !0,
        layoutIterations: 32,
        label: { show: !0, position: 'right', fontSize: 12 },
        edgeLabel: { show: !1, fontSize: 12 },
        levels: [],
        nodeAlign: 'justify',
        lineStyle: { color: '#314656', opacity: 0.2, curveness: 0.5 },
        emphasis: { label: { show: !0 }, lineStyle: { opacity: 0.5 } },
        select: { itemStyle: { borderColor: '#212121' } },
        animationEasing: 'linear',
        animationDuration: 1e3,
      }),
      e
    );
  })(nn);
  function fG(r, e) {
    r.eachSeriesByType('sankey', function (t) {
      var n = t.get('nodeWidth'),
        i = t.get('nodeGap'),
        a = (function hG(r, e) {
          return Vn(r.getBoxLayoutParams(), {
            width: e.getWidth(),
            height: e.getHeight(),
          });
        })(t, e);
      t.layoutInfo = a;
      var o = a.width,
        s = a.height,
        l = t.getGraph(),
        u = l.nodes,
        c = l.edges;
      !(function vG(r) {
        F(r, function (e) {
          var t = ou(e.outEdges, tm),
            n = ou(e.inEdges, tm),
            i = e.getValue() || 0,
            a = Math.max(t, n, i);
          e.setLayout({ value: a }, !0);
        });
      })(u),
        (function dG(r, e, t, n, i, a, o, s, l) {
          (function pG(r, e, t, n, i, a, o) {
            for (
              var s = [], l = [], u = [], c = [], f = 0, d = 0;
              d < e.length;
              d++
            )
              s[d] = 1;
            for (d = 0; d < r.length; d++)
              (l[d] = r[d].inEdges.length), 0 === l[d] && u.push(r[d]);
            for (var v = -1; u.length; ) {
              for (var g = 0; g < u.length; g++) {
                var m = u[g],
                  y = m.hostGraph.data.getRawDataItem(m.dataIndex),
                  b = null != y.depth && y.depth >= 0;
                b && y.depth > v && (v = y.depth),
                  m.setLayout({ depth: b ? y.depth : f }, !0),
                  m.setLayout('vertical' === a ? { dy: t } : { dx: t }, !0);
                for (var w = 0; w < m.outEdges.length; w++) {
                  var C = m.outEdges[w];
                  s[e.indexOf(C)] = 0;
                  var L = C.node2;
                  0 == --l[r.indexOf(L)] && c.indexOf(L) < 0 && c.push(L);
                }
              }
              ++f, (u = c), (c = []);
            }
            for (d = 0; d < s.length; d++)
              if (1 === s[d])
                throw new Error(
                  'Sankey is a DAG, the original data has cycle!'
                );
            var E = v > f - 1 ? v : f - 1;
            o &&
              'left' !== o &&
              (function gG(r, e, t, n) {
                if ('right' === e) {
                  for (var i = [], a = r, o = 0; a.length; ) {
                    for (var s = 0; s < a.length; s++) {
                      var l = a[s];
                      l.setLayout({ skNodeHeight: o }, !0);
                      for (var u = 0; u < l.inEdges.length; u++) {
                        var c = l.inEdges[u];
                        i.indexOf(c.node1) < 0 && i.push(c.node1);
                      }
                    }
                    (a = i), (i = []), ++o;
                  }
                  F(r, function (f) {
                    b2(f) ||
                      f.setLayout(
                        { depth: Math.max(0, n - f.getLayout().skNodeHeight) },
                        !0
                      );
                  });
                } else
                  'justify' === e &&
                    (function mG(r, e) {
                      F(r, function (t) {
                        !b2(t) &&
                          !t.outEdges.length &&
                          t.setLayout({ depth: e }, !0);
                      });
                    })(r, n);
              })(r, o, 0, E),
              (function yG(r, e, t) {
                F(r, function (n) {
                  var i = n.getLayout().depth * e;
                  n.setLayout('vertical' === t ? { y: i } : { x: i }, !0);
                });
              })(r, 'vertical' === a ? (i - t) / E : (n - t) / E, a);
          })(r, e, t, i, a, s, l),
            (function xG(r, e, t, n, i, a, o) {
              var s = (function bG(r, e) {
                var t = [],
                  n = 'vertical' === e ? 'y' : 'x',
                  i = Mt(r, function (a) {
                    return a.getLayout()[n];
                  });
                return (
                  i.keys.sort(function (a, o) {
                    return a - o;
                  }),
                  F(i.keys, function (a) {
                    t.push(i.buckets.get(a));
                  }),
                  t
                );
              })(r, o);
              (function _G(r, e, t, n, i, a) {
                var o = 1 / 0;
                F(r, function (s) {
                  var l = s.length,
                    u = 0;
                  F(s, function (f) {
                    u += f.getLayout().value;
                  });
                  var c =
                    'vertical' === a
                      ? (n - (l - 1) * i) / u
                      : (t - (l - 1) * i) / u;
                  c < o && (o = c);
                }),
                  F(r, function (s) {
                    F(s, function (l, u) {
                      var c = l.getLayout().value * o;
                      'vertical' === a
                        ? (l.setLayout({ x: u }, !0),
                          l.setLayout({ dx: c }, !0))
                        : (l.setLayout({ y: u }, !0),
                          l.setLayout({ dy: c }, !0));
                    });
                  }),
                  F(e, function (s) {
                    var l = +s.getValue() * o;
                    s.setLayout({ dy: l }, !0);
                  });
              })(s, e, t, n, i, o),
                Ex(s, i, t, n, o);
              for (var l = 1; a > 0; a--)
                SG(s, (l *= 0.99), o),
                  Ex(s, i, t, n, o),
                  AG(s, l, o),
                  Ex(s, i, t, n, o);
            })(r, e, a, i, n, o, s),
            (function MG(r, e) {
              var t = 'vertical' === e ? 'x' : 'y';
              F(r, function (n) {
                n.outEdges.sort(function (i, a) {
                  return i.node2.getLayout()[t] - a.node2.getLayout()[t];
                }),
                  n.inEdges.sort(function (i, a) {
                    return i.node1.getLayout()[t] - a.node1.getLayout()[t];
                  });
              }),
                F(r, function (n) {
                  var i = 0,
                    a = 0;
                  F(n.outEdges, function (o) {
                    o.setLayout({ sy: i }, !0), (i += o.getLayout().dy);
                  }),
                    F(n.inEdges, function (o) {
                      o.setLayout({ ty: a }, !0), (a += o.getLayout().dy);
                    });
                });
            })(r, s);
        })(
          u,
          c,
          n,
          i,
          o,
          s,
          0 !==
            je(u, function (m) {
              return 0 === m.getLayout().value;
            }).length
            ? 0
            : t.get('layoutIterations'),
          t.get('orient'),
          t.get('nodeAlign')
        );
    });
  }
  function b2(r) {
    var e = r.hostGraph.data.getRawDataItem(r.dataIndex);
    return null != e.depth && e.depth >= 0;
  }
  function Ex(r, e, t, n, i) {
    var a = 'vertical' === i ? 'x' : 'y';
    F(r, function (o) {
      o.sort(function (m, y) {
        return m.getLayout()[a] - y.getLayout()[a];
      });
      for (
        var s,
          l,
          u,
          c = 0,
          f = o.length,
          d = 'vertical' === i ? 'dx' : 'dy',
          v = 0;
        v < f;
        v++
      )
        (u = c - (l = o[v]).getLayout()[a]) > 0 &&
          ((s = l.getLayout()[a] + u),
          l.setLayout('vertical' === i ? { x: s } : { y: s }, !0)),
          (c = l.getLayout()[a] + l.getLayout()[d] + e);
      if ((u = c - e - ('vertical' === i ? n : t)) > 0)
        for (
          s = l.getLayout()[a] - u,
            l.setLayout('vertical' === i ? { x: s } : { y: s }, !0),
            c = s,
            v = f - 2;
          v >= 0;
          --v
        )
          (u = (l = o[v]).getLayout()[a] + l.getLayout()[d] + e - c) > 0 &&
            ((s = l.getLayout()[a] - u),
            l.setLayout('vertical' === i ? { x: s } : { y: s }, !0)),
            (c = l.getLayout()[a]);
    });
  }
  function SG(r, e, t) {
    F(r.slice().reverse(), function (n) {
      F(n, function (i) {
        if (i.outEdges.length) {
          var a = ou(i.outEdges, wG, t) / ou(i.outEdges, tm);
          if (isNaN(a)) {
            var o = i.outEdges.length;
            a = o ? ou(i.outEdges, CG, t) / o : 0;
          }
          if ('vertical' === t) {
            var s = i.getLayout().x + (a - au(i, t)) * e;
            i.setLayout({ x: s }, !0);
          } else {
            var l = i.getLayout().y + (a - au(i, t)) * e;
            i.setLayout({ y: l }, !0);
          }
        }
      });
    });
  }
  function wG(r, e) {
    return au(r.node2, e) * r.getValue();
  }
  function CG(r, e) {
    return au(r.node2, e);
  }
  function DG(r, e) {
    return au(r.node1, e) * r.getValue();
  }
  function TG(r, e) {
    return au(r.node1, e);
  }
  function au(r, e) {
    return 'vertical' === e
      ? r.getLayout().x + r.getLayout().dx / 2
      : r.getLayout().y + r.getLayout().dy / 2;
  }
  function tm(r) {
    return r.getValue();
  }
  function ou(r, e, t) {
    for (var n = 0, i = r.length, a = -1; ++a < i; ) {
      var o = +e(r[a], t);
      isNaN(o) || (n += o);
    }
    return n;
  }
  function AG(r, e, t) {
    F(r, function (n) {
      F(n, function (i) {
        if (i.inEdges.length) {
          var a = ou(i.inEdges, DG, t) / ou(i.inEdges, tm);
          if (isNaN(a)) {
            var o = i.inEdges.length;
            a = o ? ou(i.inEdges, TG, t) / o : 0;
          }
          if ('vertical' === t) {
            var s = i.getLayout().x + (a - au(i, t)) * e;
            i.setLayout({ x: s }, !0);
          } else {
            var l = i.getLayout().y + (a - au(i, t)) * e;
            i.setLayout({ y: l }, !0);
          }
        }
      });
    });
  }
  function LG(r) {
    r.eachSeriesByType('sankey', function (e) {
      var t = e.getGraph(),
        n = t.nodes,
        i = t.edges;
      if (n.length) {
        var a = 1 / 0,
          o = -1 / 0;
        F(n, function (s) {
          var l = s.getLayout().value;
          l < a && (a = l), l > o && (o = l);
        }),
          F(n, function (s) {
            var u = new ui({
                type: 'color',
                mappingMethod: 'linear',
                dataExtent: [a, o],
                visual: e.get('color'),
              }).mapValueToVisual(s.getLayout().value),
              c = s.getModel().get(['itemStyle', 'color']);
            null != c
              ? (s.setVisual('color', c), s.setVisual('style', { fill: c }))
              : (s.setVisual('color', u), s.setVisual('style', { fill: u }));
          });
      }
      i.length &&
        F(i, function (s) {
          var l = s.getModel().get('lineStyle');
          s.setVisual('style', l);
        });
    });
  }
  var _2 = (function () {
      function r() {}
      return (
        (r.prototype.getInitialData = function (e, t) {
          var n,
            l,
            i = t.getComponent('xAxis', this.get('xAxisIndex')),
            a = t.getComponent('yAxis', this.get('yAxisIndex')),
            o = i.get('type'),
            s = a.get('type');
          'category' === o
            ? ((e.layout = 'horizontal'), (n = i.getOrdinalMeta()), (l = !0))
            : 'category' === s
            ? ((e.layout = 'vertical'), (n = a.getOrdinalMeta()), (l = !0))
            : (e.layout = e.layout || 'horizontal');
          var u = ['x', 'y'],
            c = 'horizontal' === e.layout ? 0 : 1,
            f = (this._baseAxisDim = u[c]),
            d = u[1 - c],
            v = [i, a],
            g = v[c].get('type'),
            m = v[1 - c].get('type'),
            y = e.data;
          if (y && l) {
            var b = [];
            F(y, function (D, L) {
              var M;
              Tt(D)
                ? ((M = D.slice()), D.unshift(L))
                : Tt(D.value)
                ? (((M = nt({}, D)).value = M.value.slice()),
                  D.value.unshift(L))
                : (M = D),
                b.push(M);
            }),
              (e.data = b);
          }
          var w = this.defaultValueDimensions,
            C = [
              {
                name: f,
                type: cg(g),
                ordinalMeta: n,
                otherDims: { tooltip: !1, itemName: 0 },
                dimsDef: ['base'],
              },
              { name: d, type: cg(m), dimsDef: w.slice() },
            ];
          return Qf(this, {
            coordDimensions: C,
            dimensionsCount: w.length + 1,
            encodeDefaulter: me(VS, C, this),
          });
        }),
        (r.prototype.getBaseAxis = function () {
          var e = this._baseAxisDim;
          return this.ecModel.getComponent(
            e + 'Axis',
            this.get(e + 'AxisIndex')
          ).axis;
        }),
        r
      );
    })(),
    S2 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (
          (t.type = e.type),
          (t.defaultValueDimensions = [
            { name: 'min', defaultTooltip: !0 },
            { name: 'Q1', defaultTooltip: !0 },
            { name: 'median', defaultTooltip: !0 },
            { name: 'Q3', defaultTooltip: !0 },
            { name: 'max', defaultTooltip: !0 },
          ]),
          (t.visualDrawType = 'stroke'),
          t
        );
      }
      return (
        ut(e, r),
        (e.type = 'series.boxplot'),
        (e.dependencies = ['xAxis', 'yAxis', 'grid']),
        (e.defaultOption = {
          z: 2,
          coordinateSystem: 'cartesian2d',
          legendHoverLink: !0,
          layout: null,
          boxWidth: [7, 50],
          itemStyle: { color: '#fff', borderWidth: 1 },
          emphasis: {
            scale: !0,
            itemStyle: {
              borderWidth: 2,
              shadowBlur: 5,
              shadowOffsetX: 1,
              shadowOffsetY: 1,
              shadowColor: 'rgba(0,0,0,0.2)',
            },
          },
          animationDuration: 800,
        }),
        e
      );
    })(nn);
  Ee(S2, _2, !0);
  var kG = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i) {
          var a = t.getData(),
            o = this.group,
            s = this._data;
          this._data || o.removeAll();
          var l = 'horizontal' === t.get('layout') ? 1 : 0;
          a
            .diff(s)
            .add(function (u) {
              if (a.hasValue(u)) {
                var f = w2(a.getItemLayout(u), a, u, l, !0);
                a.setItemGraphicEl(u, f), o.add(f);
              }
            })
            .update(function (u, c) {
              var f = s.getItemGraphicEl(c);
              if (a.hasValue(u)) {
                var d = a.getItemLayout(u);
                f ? (Ro(f), C2(d, f, a, u)) : (f = w2(d, a, u, l)),
                  o.add(f),
                  a.setItemGraphicEl(u, f);
              } else o.remove(f);
            })
            .remove(function (u) {
              var c = s.getItemGraphicEl(u);
              c && o.remove(c);
            })
            .execute(),
            (this._data = a);
        }),
        (e.prototype.remove = function (t) {
          var n = this.group,
            i = this._data;
          (this._data = null),
            i &&
              i.eachItemGraphicEl(function (a) {
                a && n.remove(a);
              });
        }),
        (e.type = 'boxplot'),
        e
      );
    })(en),
    EG = function r() {},
    PG = (function (r) {
      function e(t) {
        var n = r.call(this, t) || this;
        return (n.type = 'boxplotBoxPath'), n;
      }
      return (
        ut(e, r),
        (e.prototype.getDefaultShape = function () {
          return new EG();
        }),
        (e.prototype.buildPath = function (t, n) {
          var i = n.points,
            a = 0;
          for (t.moveTo(i[a][0], i[a][1]), a++; a < 4; a++)
            t.lineTo(i[a][0], i[a][1]);
          for (t.closePath(); a < i.length; a++)
            t.moveTo(i[a][0], i[a][1]), a++, t.lineTo(i[a][0], i[a][1]);
        }),
        e
      );
    })(Lr);
  function w2(r, e, t, n, i) {
    var a = r.ends,
      o = new PG({ shape: { points: i ? RG(a, n, r) : a } });
    return C2(r, o, e, t, i), o;
  }
  function C2(r, e, t, n, i) {
    (0, ud[i ? 'initProps' : 'updateProps'])(
      e,
      { shape: { points: r.ends } },
      t.hostModel,
      n
    ),
      e.useStyle(t.getItemVisual(n, 'style')),
      (e.style.strokeNoScale = !0),
      (e.z2 = 100);
    var s = t.getItemModel(n),
      l = s.getModel('emphasis');
    wi(e, s), wn(e, l.get('focus'), l.get('blurScope'), l.get('disabled'));
  }
  function RG(r, e, t) {
    return Ut(r, function (n) {
      return ((n = n.slice())[e] = t.initBaseline), n;
    });
  }
  var hv = F;
  function OG(r) {
    var e = (function FG(r) {
      var e = [],
        t = [];
      return (
        r.eachSeriesByType('boxplot', function (n) {
          var i = n.getBaseAxis(),
            a = $(t, i);
          a < 0 &&
            ((t[(a = t.length)] = i), (e[a] = { axis: i, seriesModels: [] })),
            e[a].seriesModels.push(n);
        }),
        e
      );
    })(r);
    hv(e, function (t) {
      var n = t.seriesModels;
      n.length &&
        ((function BG(r) {
          var s,
            e = r.axis,
            t = r.seriesModels,
            n = t.length,
            i = (r.boxWidthList = []),
            a = (r.boxOffsetList = []),
            o = [];
          if ('category' === e.type) s = e.getBandWidth();
          else {
            var l = 0;
            hv(t, function (g) {
              l = Math.max(l, g.getData().count());
            });
            var u = e.getExtent();
            s = Math.abs(u[1] - u[0]) / l;
          }
          hv(t, function (g) {
            var m = g.get('boxWidth');
            Tt(m) || (m = [m, m]), o.push([Te(m[0], s) || 0, Te(m[1], s) || 0]);
          });
          var c = 0.8 * s - 2,
            f = (c / n) * 0.3,
            d = (c - f * (n - 1)) / n,
            v = d / 2 - c / 2;
          hv(t, function (g, m) {
            a.push(v),
              (v += f + d),
              i.push(Math.min(Math.max(d, o[m][0]), o[m][1]));
          });
        })(t),
        hv(n, function (i, a) {
          !(function NG(r, e, t) {
            var n = r.coordinateSystem,
              i = r.getData(),
              a = t / 2,
              o = 'horizontal' === r.get('layout') ? 0 : 1,
              s = 1 - o,
              l = ['x', 'y'],
              u = i.mapDimension(l[o]),
              c = i.mapDimensionsAll(l[s]);
            if (!(null == u || c.length < 5))
              for (var f = 0; f < i.count(); f++) {
                var d = i.get(u, f),
                  v = C(d, c[2], f),
                  g = C(d, c[0], f),
                  m = C(d, c[1], f),
                  y = C(d, c[3], f),
                  b = C(d, c[4], f),
                  w = [];
                D(w, m, !1),
                  D(w, y, !0),
                  w.push(g, m, b, y),
                  L(w, g),
                  L(w, b),
                  L(w, v),
                  i.setItemLayout(f, { initBaseline: v[s], ends: w });
              }
            function C(M, E, O) {
              var G,
                z = i.get(E, O),
                H = [];
              return (
                (H[o] = M),
                (H[s] = z),
                isNaN(M) || isNaN(z)
                  ? (G = [NaN, NaN])
                  : ((G = n.dataToPoint(H))[o] += e),
                G
              );
            }
            function D(M, E, O) {
              var z = E.slice(),
                H = E.slice();
              (z[o] += a), (H[o] -= a), O ? M.push(z, H) : M.push(H, z);
            }
            function L(M, E) {
              var O = E.slice(),
                z = E.slice();
              (O[o] -= a), (z[o] += a), M.push(O, z);
            }
          })(i, t.boxOffsetList[a], t.boxWidthList[a]);
        }));
    });
  }
  var VG = {
      type: 'echarts:boxplot',
      transform: function (e) {
        var t = e.upstream;
        t.sourceFormat !== Ui &&
          zr(
            mi(
              'source data is not applicable for this boxplot transform. Expect number[][].'
            )
          );
        var i = (function zG(r, e) {
          for (
            var t = [],
              n = [],
              i = (e = e || {}).boundIQR,
              a = 'none' === i || 0 === i,
              o = 0;
            o < r.length;
            o++
          ) {
            var s = Zn(r[o].slice()),
              l = Gu(s, 0.25),
              u = Gu(s, 0.5),
              c = Gu(s, 0.75),
              f = s[0],
              d = s[s.length - 1],
              v = (i ?? 1.5) * (c - l),
              g = a ? f : Math.max(f, l - v),
              m = a ? d : Math.min(d, c + v),
              y = e.itemNameFormatter,
              b = fe(y)
                ? y({ value: o })
                : ht(y)
                ? y.replace('{value}', o + '')
                : o + '';
            t.push([b, g, l, u, c, m]);
            for (var w = 0; w < s.length; w++) {
              var C = s[w];
              (C < g || C > m) && n.push([b, C]);
            }
          }
          return { boxData: t, outliers: n };
        })(t.getRawData(), e.config);
        return [
          {
            dimensions: ['ItemName', 'Low', 'Q1', 'Q2', 'Q3', 'High'],
            data: i.boxData,
          },
          { data: i.outliers },
        ];
      },
    },
    GG = ['color', 'borderColor'],
    WG = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i) {
          this.group.removeClipPath(),
            (this._progressiveEls = null),
            this._updateDrawMode(t),
            this._isLargeDraw ? this._renderLarge(t) : this._renderNormal(t);
        }),
        (e.prototype.incrementalPrepareRender = function (t, n, i) {
          this._clear(), this._updateDrawMode(t);
        }),
        (e.prototype.incrementalRender = function (t, n, i, a) {
          (this._progressiveEls = []),
            this._isLargeDraw
              ? this._incrementalRenderLarge(t, n)
              : this._incrementalRenderNormal(t, n);
        }),
        (e.prototype.eachRendered = function (t) {
          Xl(this._progressiveEls || this.group, t);
        }),
        (e.prototype._updateDrawMode = function (t) {
          var n = t.pipelineContext.large;
          (null == this._isLargeDraw || n !== this._isLargeDraw) &&
            ((this._isLargeDraw = n), this._clear());
        }),
        (e.prototype._renderNormal = function (t) {
          var n = t.getData(),
            i = this._data,
            a = this.group,
            o = n.getLayout('isSimpleBox'),
            s = t.get('clip', !0),
            l = t.coordinateSystem,
            u = l.getArea && l.getArea();
          this._data || a.removeAll(),
            n
              .diff(i)
              .add(function (c) {
                if (n.hasValue(c)) {
                  var f = n.getItemLayout(c);
                  if (s && D2(u, f)) return;
                  var d = Px(f, 0, !0);
                  pn(d, { shape: { points: f.ends } }, t, c),
                    Rx(d, n, c, o),
                    a.add(d),
                    n.setItemGraphicEl(c, d);
                }
              })
              .update(function (c, f) {
                var d = i.getItemGraphicEl(f);
                if (n.hasValue(c)) {
                  var v = n.getItemLayout(c);
                  s && D2(u, v)
                    ? a.remove(d)
                    : (d
                        ? (Wr(d, { shape: { points: v.ends } }, t, c), Ro(d))
                        : (d = Px(v)),
                      Rx(d, n, c, o),
                      a.add(d),
                      n.setItemGraphicEl(c, d));
                } else a.remove(d);
              })
              .remove(function (c) {
                var f = i.getItemGraphicEl(c);
                f && a.remove(f);
              })
              .execute(),
            (this._data = n);
        }),
        (e.prototype._renderLarge = function (t) {
          this._clear(), T2(t, this.group);
          var n = t.get('clip', !0) ? Ig(t.coordinateSystem, !1, t) : null;
          n ? this.group.setClipPath(n) : this.group.removeClipPath();
        }),
        (e.prototype._incrementalRenderNormal = function (t, n) {
          for (
            var o, i = n.getData(), a = i.getLayout('isSimpleBox');
            null != (o = t.next());

          ) {
            var l = Px(i.getItemLayout(o));
            Rx(l, i, o, a),
              (l.incremental = !0),
              this.group.add(l),
              this._progressiveEls.push(l);
          }
        }),
        (e.prototype._incrementalRenderLarge = function (t, n) {
          T2(n, this.group, this._progressiveEls, !0);
        }),
        (e.prototype.remove = function (t) {
          this._clear();
        }),
        (e.prototype._clear = function () {
          this.group.removeAll(), (this._data = null);
        }),
        (e.type = 'candlestick'),
        e
      );
    })(en),
    $G = function r() {},
    UG = (function (r) {
      function e(t) {
        var n = r.call(this, t) || this;
        return (n.type = 'normalCandlestickBox'), n;
      }
      return (
        ut(e, r),
        (e.prototype.getDefaultShape = function () {
          return new $G();
        }),
        (e.prototype.buildPath = function (t, n) {
          var i = n.points;
          this.__simpleBox
            ? (t.moveTo(i[4][0], i[4][1]), t.lineTo(i[6][0], i[6][1]))
            : (t.moveTo(i[0][0], i[0][1]),
              t.lineTo(i[1][0], i[1][1]),
              t.lineTo(i[2][0], i[2][1]),
              t.lineTo(i[3][0], i[3][1]),
              t.closePath(),
              t.moveTo(i[4][0], i[4][1]),
              t.lineTo(i[5][0], i[5][1]),
              t.moveTo(i[6][0], i[6][1]),
              t.lineTo(i[7][0], i[7][1]));
        }),
        e
      );
    })(Lr);
  function Px(r, e, t) {
    var n = r.ends;
    return new UG({ shape: { points: t ? YG(n, r) : n }, z2: 100 });
  }
  function D2(r, e) {
    for (var t = !0, n = 0; n < e.ends.length; n++)
      if (r.contain(e.ends[n][0], e.ends[n][1])) {
        t = !1;
        break;
      }
    return t;
  }
  function Rx(r, e, t, n) {
    var i = e.getItemModel(t);
    r.useStyle(e.getItemVisual(t, 'style')),
      (r.style.strokeNoScale = !0),
      (r.__simpleBox = n),
      wi(r, i);
  }
  function YG(r, e) {
    return Ut(r, function (t) {
      return ((t = t.slice())[1] = e.initBaseline), t;
    });
  }
  var XG = function r() {},
    Ox = (function (r) {
      function e(t) {
        var n = r.call(this, t) || this;
        return (n.type = 'largeCandlestickBox'), n;
      }
      return (
        ut(e, r),
        (e.prototype.getDefaultShape = function () {
          return new XG();
        }),
        (e.prototype.buildPath = function (t, n) {
          for (var i = n.points, a = 0; a < i.length; )
            if (this.__sign === i[a++]) {
              var o = i[a++];
              t.moveTo(o, i[a++]), t.lineTo(o, i[a++]);
            } else a += 3;
        }),
        e
      );
    })(Lr);
  function T2(r, e, t, n) {
    var a = r.getData().getLayout('largePoints'),
      o = new Ox({ shape: { points: a }, __sign: 1, ignoreCoarsePointer: !0 });
    e.add(o);
    var s = new Ox({
      shape: { points: a },
      __sign: -1,
      ignoreCoarsePointer: !0,
    });
    e.add(s);
    var l = new Ox({
      shape: { points: a },
      __sign: 0,
      ignoreCoarsePointer: !0,
    });
    e.add(l),
      Fx(1, o, r),
      Fx(-1, s, r),
      Fx(0, l, r),
      n && ((o.incremental = !0), (s.incremental = !0)),
      t && t.push(o, s);
  }
  function Fx(r, e, t, n) {
    var i =
      t.get(['itemStyle', r > 0 ? 'borderColor' : 'borderColor0']) ||
      t.get(['itemStyle', r > 0 ? 'color' : 'color0']);
    0 === r && (i = t.get(['itemStyle', 'borderColorDoji']));
    var a = t.getModel('itemStyle').getItemStyle(GG);
    e.useStyle(a), (e.style.fill = null), (e.style.stroke = i);
  }
  var A2 = (function (r) {
    function e() {
      var t = (null !== r && r.apply(this, arguments)) || this;
      return (
        (t.type = e.type),
        (t.defaultValueDimensions = [
          { name: 'open', defaultTooltip: !0 },
          { name: 'close', defaultTooltip: !0 },
          { name: 'lowest', defaultTooltip: !0 },
          { name: 'highest', defaultTooltip: !0 },
        ]),
        t
      );
    }
    return (
      ut(e, r),
      (e.prototype.getShadowDim = function () {
        return 'open';
      }),
      (e.prototype.brushSelector = function (t, n, i) {
        var a = n.getItemLayout(t);
        return a && i.rect(a.brushRect);
      }),
      (e.type = 'series.candlestick'),
      (e.dependencies = ['xAxis', 'yAxis', 'grid']),
      (e.defaultOption = {
        z: 2,
        coordinateSystem: 'cartesian2d',
        legendHoverLink: !0,
        layout: null,
        clip: !0,
        itemStyle: {
          color: '#eb5454',
          color0: '#47b262',
          borderColor: '#eb5454',
          borderColor0: '#47b262',
          borderColorDoji: null,
          borderWidth: 1,
        },
        emphasis: { scale: !0, itemStyle: { borderWidth: 2 } },
        barMaxWidth: null,
        barMinWidth: null,
        barWidth: null,
        large: !0,
        largeThreshold: 600,
        progressive: 3e3,
        progressiveThreshold: 1e4,
        progressiveChunkMode: 'mod',
        animationEasing: 'linear',
        animationDuration: 300,
      }),
      e
    );
  })(nn);
  function ZG(r) {
    !r ||
      !Tt(r.series) ||
      F(r.series, function (e) {
        Y(e) && 'k' === e.type && (e.type = 'candlestick');
      });
  }
  Ee(A2, _2, !0);
  var qG = ['itemStyle', 'borderColor'],
    jG = ['itemStyle', 'borderColor0'],
    KG = ['itemStyle', 'borderColorDoji'],
    QG = ['itemStyle', 'color'],
    JG = ['itemStyle', 'color0'],
    t4 = {
      seriesType: 'candlestick',
      plan: zf(),
      performRawSeries: !0,
      reset: function (r, e) {
        function t(a, o) {
          return o.get(a > 0 ? QG : JG);
        }
        function n(a, o) {
          return o.get(0 === a ? KG : a > 0 ? qG : jG);
        }
        if (!e.isSeriesFiltered(r))
          return (
            !r.pipelineContext.large && {
              progress: function (a, o) {
                for (var s; null != (s = a.next()); ) {
                  var l = o.getItemModel(s),
                    u = o.getItemLayout(s).sign,
                    c = l.getItemStyle();
                  (c.fill = t(u, l)),
                    (c.stroke = n(u, l) || c.fill),
                    nt(o.ensureUniqueItemVisual(s, 'style'), c);
                }
              },
            }
          );
      },
    },
    e4 = {
      seriesType: 'candlestick',
      plan: zf(),
      reset: function (r) {
        var e = r.coordinateSystem,
          t = r.getData(),
          n = (function r4(r, e) {
            var n,
              t = r.getBaseAxis(),
              i =
                'category' === t.type
                  ? t.getBandWidth()
                  : ((n = t.getExtent()), Math.abs(n[1] - n[0]) / e.count()),
              a = Te(B(r.get('barMaxWidth'), i), i),
              o = Te(B(r.get('barMinWidth'), 1), i),
              s = r.get('barWidth');
            return null != s ? Te(s, i) : Math.max(Math.min(i / 2, a), o);
          })(r, t),
          o = ['x', 'y'],
          s = t.getDimensionIndex(t.mapDimension(o[0])),
          l = Ut(t.mapDimensionsAll(o[1]), t.getDimensionIndex, t),
          u = l[0],
          c = l[1],
          f = l[2],
          d = l[3];
        if (
          (t.setLayout({ candleWidth: n, isSimpleBox: n <= 1.3 }),
          !(s < 0 || l.length < 4))
        )
          return {
            progress: r.pipelineContext.large
              ? function g(m, y) {
                  for (
                    var C,
                      M,
                      b = hs(4 * m.count),
                      w = 0,
                      D = [],
                      L = [],
                      E = y.getStore(),
                      O = !!r.get(['itemStyle', 'borderColorDoji']);
                    null != (M = m.next());

                  ) {
                    var z = E.get(s, M),
                      H = E.get(u, M),
                      G = E.get(c, M),
                      X = E.get(f, M),
                      K = E.get(d, M);
                    isNaN(z) || isNaN(X) || isNaN(K)
                      ? ((b[w++] = NaN), (w += 3))
                      : ((b[w++] = M2(E, M, H, G, c, O)),
                        (D[0] = z),
                        (D[1] = X),
                        (C = e.dataToPoint(D, null, L)),
                        (b[w++] = C ? C[0] : NaN),
                        (b[w++] = C ? C[1] : NaN),
                        (D[1] = K),
                        (C = e.dataToPoint(D, null, L)),
                        (b[w++] = C ? C[1] : NaN));
                  }
                  y.setLayout('largePoints', b);
                }
              : function v(m, y) {
                  for (var b, w = y.getStore(); null != (b = m.next()); ) {
                    var C = w.get(s, b),
                      D = w.get(u, b),
                      L = w.get(c, b),
                      M = w.get(f, b),
                      E = w.get(d, b),
                      O = Math.min(D, L),
                      z = Math.max(D, L),
                      H = Xt(O, C),
                      G = Xt(z, C),
                      X = Xt(M, C),
                      K = Xt(E, C),
                      tt = [];
                    Vt(tt, G, 0),
                      Vt(tt, H, 1),
                      tt.push(ye(K), ye(G), ye(X), ye(H));
                    var pt = !!y
                      .getItemModel(b)
                      .get(['itemStyle', 'borderColorDoji']);
                    y.setItemLayout(b, {
                      sign: M2(w, b, D, L, c, pt),
                      initBaseline: D > L ? G[1] : H[1],
                      ends: tt,
                      brushRect:
                        ((ke = M),
                        (Ye = E),
                        (tr = C),
                        (er = void 0),
                        (Cr = void 0),
                        (er = Xt(ke, tr)),
                        (Cr = Xt(Ye, tr)),
                        (er[0] -= n / 2),
                        (Cr[0] -= n / 2),
                        {
                          x: er[0],
                          y: er[1],
                          width: n,
                          height: Cr[1] - er[1],
                        }),
                    });
                  }
                  var ke, Ye, tr, er, Cr;
                  function Xt(ke, Ye) {
                    var tr = [];
                    return (
                      (tr[0] = Ye),
                      (tr[1] = ke),
                      isNaN(Ye) || isNaN(ke) ? [NaN, NaN] : e.dataToPoint(tr)
                    );
                  }
                  function Vt(ke, Ye, tr) {
                    var er = Ye.slice(),
                      Cr = Ye.slice();
                    (er[0] = Tp(er[0] + n / 2, 1, !1)),
                      (Cr[0] = Tp(Cr[0] - n / 2, 1, !0)),
                      tr ? ke.push(er, Cr) : ke.push(Cr, er);
                  }
                  function ye(ke) {
                    return (ke[0] = Tp(ke[0], 1)), ke;
                  }
                },
          };
      },
    };
  function M2(r, e, t, n, i, a) {
    return t > n
      ? -1
      : t < n
      ? 1
      : a
      ? 0
      : e > 0
      ? r.get(i, e - 1) <= n
        ? 1
        : -1
      : 1;
  }
  function L2(r, e) {
    var t = e.rippleEffectColor || e.color;
    r.eachChild(function (n) {
      n.attr({
        z: e.z,
        zlevel: e.zlevel,
        style: {
          stroke: 'stroke' === e.brushType ? t : null,
          fill: 'fill' === e.brushType ? t : null,
        },
      });
    });
  }
  var i4 = (function (r) {
      function e(t, n) {
        var i = r.call(this) || this,
          a = new Wd(t, n),
          o = new Qe();
        return i.add(a), i.add(o), i.updateData(t, n), i;
      }
      return (
        ut(e, r),
        (e.prototype.stopEffectAnimation = function () {
          this.childAt(1).removeAll();
        }),
        (e.prototype.startEffectAnimation = function (t) {
          for (
            var n = t.symbolType,
              i = t.color,
              a = t.rippleNumber,
              o = this.childAt(1),
              s = 0;
            s < a;
            s++
          ) {
            var l = En(n, -1, -1, 2, 2, i);
            l.attr({
              style: { strokeNoScale: !0 },
              z2: 99,
              silent: !0,
              scaleX: 0.5,
              scaleY: 0.5,
            });
            var u = (-s / a) * t.period + t.effectOffset;
            l
              .animate('', !0)
              .when(t.period, {
                scaleX: t.rippleScale / 2,
                scaleY: t.rippleScale / 2,
              })
              .delay(u)
              .start(),
              l
                .animateStyle(!0)
                .when(t.period, { opacity: 0 })
                .delay(u)
                .start(),
              o.add(l);
          }
          L2(o, t);
        }),
        (e.prototype.updateEffectAnimation = function (t) {
          for (
            var n = this._effectCfg,
              i = this.childAt(1),
              a = ['symbolType', 'period', 'rippleScale', 'rippleNumber'],
              o = 0;
            o < a.length;
            o++
          ) {
            var s = a[o];
            if (n[s] !== t[s])
              return (
                this.stopEffectAnimation(), void this.startEffectAnimation(t)
              );
          }
          L2(i, t);
        }),
        (e.prototype.highlight = function () {
          Js(this);
        }),
        (e.prototype.downplay = function () {
          tl(this);
        }),
        (e.prototype.getSymbolType = function () {
          var t = this.childAt(0);
          return t && t.getSymbolType();
        }),
        (e.prototype.updateData = function (t, n) {
          var i = this,
            a = t.hostModel;
          this.childAt(0).updateData(t, n);
          var o = this.childAt(1),
            s = t.getItemModel(n),
            l = t.getItemVisual(n, 'symbol'),
            u = Gf(t.getItemVisual(n, 'symbolSize')),
            c = t.getItemVisual(n, 'style'),
            f = c && c.fill,
            d = s.getModel('emphasis');
          o.setScale(u),
            o.traverse(function (y) {
              y.setStyle('fill', f);
            });
          var v = mc(t.getItemVisual(n, 'symbolOffset'), u);
          v && ((o.x = v[0]), (o.y = v[1]));
          var g = t.getItemVisual(n, 'symbolRotate');
          o.rotation = ((g || 0) * Math.PI) / 180 || 0;
          var m = {};
          (m.showEffectOn = a.get('showEffectOn')),
            (m.rippleScale = s.get(['rippleEffect', 'scale'])),
            (m.brushType = s.get(['rippleEffect', 'brushType'])),
            (m.period = 1e3 * s.get(['rippleEffect', 'period'])),
            (m.effectOffset = n / t.count()),
            (m.z = a.getShallow('z') || 0),
            (m.zlevel = a.getShallow('zlevel') || 0),
            (m.symbolType = l),
            (m.color = f),
            (m.rippleEffectColor = s.get(['rippleEffect', 'color'])),
            (m.rippleNumber = s.get(['rippleEffect', 'number'])),
            'render' === m.showEffectOn
              ? (this._effectCfg
                  ? this.updateEffectAnimation(m)
                  : this.startEffectAnimation(m),
                (this._effectCfg = m))
              : ((this._effectCfg = null),
                this.stopEffectAnimation(),
                (this.onHoverStateChange = function (y) {
                  'emphasis' === y
                    ? 'render' !== m.showEffectOn && i.startEffectAnimation(m)
                    : 'normal' === y &&
                      'render' !== m.showEffectOn &&
                      i.stopEffectAnimation();
                })),
            (this._effectCfg = m),
            wn(this, d.get('focus'), d.get('blurScope'), d.get('disabled'));
        }),
        (e.prototype.fadeOut = function (t) {
          t && t();
        }),
        e
      );
    })(Qe),
    a4 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.init = function () {
          this._symbolDraw = new $d(i4);
        }),
        (e.prototype.render = function (t, n, i) {
          var a = t.getData(),
            o = this._symbolDraw;
          o.updateData(a, { clipShape: this._getClipShape(t) }),
            this.group.add(o.group);
        }),
        (e.prototype._getClipShape = function (t) {
          var n = t.coordinateSystem,
            i = n && n.getArea && n.getArea();
          return t.get('clip', !0) ? i : null;
        }),
        (e.prototype.updateTransform = function (t, n, i) {
          var a = t.getData();
          this.group.dirty();
          var o = Ud('').reset(t, n, i);
          o.progress &&
            o.progress({ start: 0, end: a.count(), count: a.count() }, a),
            this._symbolDraw.updateLayout();
        }),
        (e.prototype._updateGroupTransform = function (t) {
          var n = t.coordinateSystem;
          n &&
            n.getRoamTransform &&
            ((this.group.transform = gl(n.getRoamTransform())),
            this.group.decomposeTransform());
        }),
        (e.prototype.remove = function (t, n) {
          this._symbolDraw && this._symbolDraw.remove(!0);
        }),
        (e.type = 'effectScatter'),
        e
      );
    })(en),
    o4 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), (t.hasSymbolVisual = !0), t;
      }
      return (
        ut(e, r),
        (e.prototype.getInitialData = function (t, n) {
          return cs(null, this, { useEncodeDefaulter: !0 });
        }),
        (e.prototype.brushSelector = function (t, n, i) {
          return i.point(n.getItemLayout(t));
        }),
        (e.type = 'series.effectScatter'),
        (e.dependencies = ['grid', 'polar']),
        (e.defaultOption = {
          coordinateSystem: 'cartesian2d',
          z: 2,
          legendHoverLink: !0,
          effectType: 'ripple',
          progressive: 0,
          showEffectOn: 'render',
          clip: !0,
          rippleEffect: { period: 4, scale: 2.5, brushType: 'fill', number: 3 },
          universalTransition: { divideShape: 'clone' },
          symbolSize: 10,
        }),
        e
      );
    })(nn),
    I2 = (function (r) {
      function e(t, n, i) {
        var a = r.call(this) || this;
        return a.add(a.createLine(t, n, i)), a._updateEffectSymbol(t, n), a;
      }
      return (
        ut(e, r),
        (e.prototype.createLine = function (t, n, i) {
          return new ox(t, n, i);
        }),
        (e.prototype._updateEffectSymbol = function (t, n) {
          var a = t.getItemModel(n).getModel('effect'),
            o = a.get('symbolSize'),
            s = a.get('symbol');
          Tt(o) || (o = [o, o]);
          var l = t.getItemVisual(n, 'style'),
            u = a.get('color') || (l && l.stroke),
            c = this.childAt(1);
          this._symbolType !== s &&
            (this.remove(c),
            ((c = En(s, -0.5, -0.5, 1, 1, u)).z2 = 100),
            (c.culling = !0),
            this.add(c)),
            c &&
              (c.setStyle('shadowColor', u),
              c.setStyle(a.getItemStyle(['color'])),
              (c.scaleX = o[0]),
              (c.scaleY = o[1]),
              c.setColor(u),
              (this._symbolType = s),
              (this._symbolScale = o),
              this._updateEffectAnimation(t, a, n));
        }),
        (e.prototype._updateEffectAnimation = function (t, n, i) {
          var a = this.childAt(1);
          if (a) {
            var o = t.getItemLayout(i),
              s = 1e3 * n.get('period'),
              l = n.get('loop'),
              u = n.get('roundTrip'),
              c = n.get('constantSpeed'),
              f = xe(n.get('delay'), function (v) {
                return ((v / t.count()) * s) / 3;
              });
            if (
              ((a.ignore = !0),
              this._updateAnimationPoints(a, o),
              c > 0 && (s = (this._getLineLength(a) / c) * 1e3),
              s !== this._period || l !== this._loop || u !== this._roundTrip)
            ) {
              a.stopAnimation();
              var d = void 0;
              (d = fe(f) ? f(i) : f),
                a.__t > 0 && (d = -s * a.__t),
                this._animateSymbol(a, s, d, l, u);
            }
            (this._period = s), (this._loop = l), (this._roundTrip = u);
          }
        }),
        (e.prototype._animateSymbol = function (t, n, i, a, o) {
          if (n > 0) {
            t.__t = 0;
            var s = this,
              l = t
                .animate('', a)
                .when(o ? 2 * n : n, { __t: o ? 2 : 1 })
                .delay(i)
                .during(function () {
                  s._updateSymbolPosition(t);
                });
            a ||
              l.done(function () {
                s.remove(t);
              }),
              l.start();
          }
        }),
        (e.prototype._getLineLength = function (t) {
          return $n(t.__p1, t.__cp1) + $n(t.__cp1, t.__p2);
        }),
        (e.prototype._updateAnimationPoints = function (t, n) {
          (t.__p1 = n[0]),
            (t.__p2 = n[1]),
            (t.__cp1 = n[2] || [
              (n[0][0] + n[1][0]) / 2,
              (n[0][1] + n[1][1]) / 2,
            ]);
        }),
        (e.prototype.updateData = function (t, n, i) {
          this.childAt(0).updateData(t, n, i), this._updateEffectSymbol(t, n);
        }),
        (e.prototype._updateSymbolPosition = function (t) {
          var n = t.__p1,
            i = t.__p2,
            a = t.__cp1,
            o = t.__t < 1 ? t.__t : 2 - t.__t,
            s = [t.x, t.y],
            l = s.slice(),
            u = On,
            c = yl;
          (s[0] = u(n[0], a[0], i[0], o)), (s[1] = u(n[1], a[1], i[1], o));
          var f =
              t.__t < 1 ? c(n[0], a[0], i[0], o) : c(i[0], a[0], n[0], 1 - o),
            d = t.__t < 1 ? c(n[1], a[1], i[1], o) : c(i[1], a[1], n[1], 1 - o);
          (t.rotation = -Math.atan2(d, f) - Math.PI / 2),
            ('line' === this._symbolType ||
              'rect' === this._symbolType ||
              'roundRect' === this._symbolType) &&
              (void 0 !== t.__lastT && t.__lastT < t.__t
                ? ((t.scaleY = 1.05 * $n(l, s)),
                  1 === o &&
                    ((s[0] = l[0] + (s[0] - l[0]) / 2),
                    (s[1] = l[1] + (s[1] - l[1]) / 2)))
                : (t.scaleY =
                    1 === t.__lastT ? 2 * $n(n, s) : this._symbolScale[1])),
            (t.__lastT = t.__t),
            (t.ignore = !1),
            (t.x = s[0]),
            (t.y = s[1]);
        }),
        (e.prototype.updateLayout = function (t, n) {
          this.childAt(0).updateLayout(t, n);
          var i = t.getItemModel(n).getModel('effect');
          this._updateEffectAnimation(t, i, n);
        }),
        e
      );
    })(Qe),
    k2 = (function (r) {
      function e(t, n, i) {
        var a = r.call(this) || this;
        return a._createPolyline(t, n, i), a;
      }
      return (
        ut(e, r),
        (e.prototype._createPolyline = function (t, n, i) {
          var a = t.getItemLayout(n),
            o = new $i({ shape: { points: a } });
          this.add(o), this._updateCommonStl(t, n, i);
        }),
        (e.prototype.updateData = function (t, n, i) {
          var a = t.hostModel;
          Wr(this.childAt(0), { shape: { points: t.getItemLayout(n) } }, a, n),
            this._updateCommonStl(t, n, i);
        }),
        (e.prototype._updateCommonStl = function (t, n, i) {
          var a = this.childAt(0),
            o = t.getItemModel(n),
            s = i && i.emphasisLineStyle,
            l = i && i.focus,
            u = i && i.blurScope,
            c = i && i.emphasisDisabled;
          if (!i || t.hasItemOption) {
            var f = o.getModel('emphasis');
            (s = f.getModel('lineStyle').getLineStyle()),
              (c = f.get('disabled')),
              (l = f.get('focus')),
              (u = f.get('blurScope'));
          }
          a.useStyle(t.getItemVisual(n, 'style')),
            (a.style.fill = null),
            (a.style.strokeNoScale = !0),
            (a.ensureState('emphasis').style = s),
            wn(this, l, u, c);
        }),
        (e.prototype.updateLayout = function (t, n) {
          this.childAt(0).setShape('points', t.getItemLayout(n));
        }),
        e
      );
    })(Qe),
    l4 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t._lastFrame = 0), (t._lastFramePercent = 0), t;
      }
      return (
        ut(e, r),
        (e.prototype.createLine = function (t, n, i) {
          return new k2(t, n, i);
        }),
        (e.prototype._updateAnimationPoints = function (t, n) {
          this._points = n;
          for (var i = [0], a = 0, o = 1; o < n.length; o++)
            (a += $n(n[o - 1], n[o])), i.push(a);
          if (0 !== a) {
            for (o = 0; o < i.length; o++) i[o] /= a;
            (this._offsets = i), (this._length = a);
          } else this._length = 0;
        }),
        (e.prototype._getLineLength = function () {
          return this._length;
        }),
        (e.prototype._updateSymbolPosition = function (t) {
          var n = t.__t < 1 ? t.__t : 2 - t.__t,
            i = this._points,
            a = this._offsets,
            o = i.length;
          if (a) {
            var l,
              s = this._lastFrame;
            if (n < this._lastFramePercent) {
              for (l = Math.min(s + 1, o - 1); l >= 0 && !(a[l] <= n); l--);
              l = Math.min(l, o - 2);
            } else {
              for (l = s; l < o && !(a[l] > n); l++);
              l = Math.min(l - 1, o - 2);
            }
            var c = (n - a[l]) / (a[l + 1] - a[l]),
              f = i[l],
              d = i[l + 1];
            (t.x = f[0] * (1 - c) + c * d[0]),
              (t.y = f[1] * (1 - c) + c * d[1]),
              (t.rotation =
                -Math.atan2(
                  t.__t < 1 ? d[1] - f[1] : f[1] - d[1],
                  t.__t < 1 ? d[0] - f[0] : f[0] - d[0]
                ) -
                Math.PI / 2),
              (this._lastFrame = l),
              (this._lastFramePercent = n),
              (t.ignore = !1);
          }
        }),
        e
      );
    })(I2),
    u4 = function r() {
      (this.polyline = !1), (this.curveness = 0), (this.segs = []);
    },
    c4 = (function (r) {
      function e(t) {
        var n = r.call(this, t) || this;
        return (n._off = 0), (n.hoverDataIdx = -1), n;
      }
      return (
        ut(e, r),
        (e.prototype.reset = function () {
          (this.notClear = !1), (this._off = 0);
        }),
        (e.prototype.getDefaultStyle = function () {
          return { stroke: '#000', fill: null };
        }),
        (e.prototype.getDefaultShape = function () {
          return new u4();
        }),
        (e.prototype.buildPath = function (t, n) {
          var o,
            i = n.segs,
            a = n.curveness;
          if (n.polyline)
            for (o = this._off; o < i.length; ) {
              var s = i[o++];
              if (s > 0) {
                t.moveTo(i[o++], i[o++]);
                for (var l = 1; l < s; l++) t.lineTo(i[o++], i[o++]);
              }
            }
          else
            for (o = this._off; o < i.length; ) {
              var u = i[o++],
                c = i[o++],
                f = i[o++],
                d = i[o++];
              t.moveTo(u, c),
                a > 0
                  ? t.quadraticCurveTo(
                      (u + f) / 2 - (c - d) * a,
                      (c + d) / 2 - (f - u) * a,
                      f,
                      d
                    )
                  : t.lineTo(f, d);
            }
          this.incremental && ((this._off = o), (this.notClear = !0));
        }),
        (e.prototype.findDataIndex = function (t, n) {
          var i = this.shape,
            a = i.segs,
            o = i.curveness,
            s = this.style.lineWidth;
          if (i.polyline)
            for (var l = 0, u = 0; u < a.length; ) {
              var c = a[u++];
              if (c > 0)
                for (var f = a[u++], d = a[u++], v = 1; v < c; v++)
                  if (Hl(f, d, (g = a[u++]), (m = a[u++]), s, t, n)) return l;
              l++;
            }
          else
            for (l = 0, u = 0; u < a.length; ) {
              (f = a[u++]), (d = a[u++]);
              var g = a[u++],
                m = a[u++];
              if (o > 0) {
                if (
                  o_(
                    f,
                    d,
                    (f + g) / 2 - (d - m) * o,
                    (d + m) / 2 - (g - f) * o,
                    g,
                    m,
                    s,
                    t,
                    n
                  )
                )
                  return l;
              } else if (Hl(f, d, g, m, s, t, n)) return l;
              l++;
            }
          return -1;
        }),
        (e.prototype.contain = function (t, n) {
          var i = this.transformCoordToLocal(t, n);
          return this.getBoundingRect().contain((t = i[0]), (n = i[1]))
            ? (this.hoverDataIdx = this.findDataIndex(t, n)) >= 0
            : ((this.hoverDataIdx = -1), !1);
        }),
        (e.prototype.getBoundingRect = function () {
          var t = this._rect;
          if (!t) {
            for (
              var i = this.shape.segs,
                a = 1 / 0,
                o = 1 / 0,
                s = -1 / 0,
                l = -1 / 0,
                u = 0;
              u < i.length;

            ) {
              var c = i[u++],
                f = i[u++];
              (a = Math.min(c, a)),
                (s = Math.max(c, s)),
                (o = Math.min(f, o)),
                (l = Math.max(f, l));
            }
            t = this._rect = new it(a, o, s, l);
          }
          return t;
        }),
        e
      );
    })(Lr),
    f4 = (function () {
      function r() {
        this.group = new Qe();
      }
      return (
        (r.prototype.updateData = function (e) {
          this._clear();
          var t = this._create();
          t.setShape({ segs: e.getLayout('linesPoints') }),
            this._setCommon(t, e);
        }),
        (r.prototype.incrementalPrepareUpdate = function (e) {
          this.group.removeAll(), this._clear();
        }),
        (r.prototype.incrementalUpdate = function (e, t) {
          var n = this._newAdded[0],
            i = t.getLayout('linesPoints'),
            a = n && n.shape.segs;
          if (a && a.length < 2e4) {
            var o = a.length,
              s = new Float32Array(o + i.length);
            s.set(a), s.set(i, o), n.setShape({ segs: s });
          } else {
            this._newAdded = [];
            var l = this._create();
            (l.incremental = !0),
              l.setShape({ segs: i }),
              this._setCommon(l, t),
              (l.__startIndex = e.start);
          }
        }),
        (r.prototype.remove = function () {
          this._clear();
        }),
        (r.prototype.eachRendered = function (e) {
          this._newAdded[0] && e(this._newAdded[0]);
        }),
        (r.prototype._create = function () {
          var e = new c4({ cursor: 'default', ignoreCoarsePointer: !0 });
          return this._newAdded.push(e), this.group.add(e), e;
        }),
        (r.prototype._setCommon = function (e, t, n) {
          var i = t.hostModel;
          e.setShape({
            polyline: i.get('polyline'),
            curveness: i.get(['lineStyle', 'curveness']),
          }),
            e.useStyle(i.getModel('lineStyle').getLineStyle()),
            (e.style.strokeNoScale = !0);
          var a = t.getVisual('style');
          a && a.stroke && e.setStyle('stroke', a.stroke),
            e.setStyle('fill', null);
          var o = fr(e);
          (o.seriesIndex = i.seriesIndex),
            e.on('mousemove', function (s) {
              o.dataIndex = null;
              var l = e.hoverDataIdx;
              l > 0 && (o.dataIndex = l + e.__startIndex);
            });
        }),
        (r.prototype._clear = function () {
          (this._newAdded = []), this.group.removeAll();
        }),
        r
      );
    })(),
    E2 = {
      seriesType: 'lines',
      plan: zf(),
      reset: function (r) {
        var e = r.coordinateSystem;
        if (e) {
          var t = r.get('polyline'),
            n = r.pipelineContext.large;
          return {
            progress: function (i, a) {
              var o = [];
              if (n) {
                var s = void 0,
                  l = i.end - i.start;
                if (t) {
                  for (var u = 0, c = i.start; c < i.end; c++)
                    u += r.getLineCoordsCount(c);
                  s = new Float32Array(l + 2 * u);
                } else s = new Float32Array(4 * l);
                var f = 0,
                  d = [];
                for (c = i.start; c < i.end; c++) {
                  var v = r.getLineCoords(c, o);
                  t && (s[f++] = v);
                  for (var g = 0; g < v; g++)
                    (d = e.dataToPoint(o[g], !1, d)),
                      (s[f++] = d[0]),
                      (s[f++] = d[1]);
                }
                a.setLayout('linesPoints', s);
              } else
                for (c = i.start; c < i.end; c++) {
                  var m = a.getItemModel(c),
                    y = ((v = r.getLineCoords(c, o)), []);
                  if (t)
                    for (var b = 0; b < v; b++) y.push(e.dataToPoint(o[b]));
                  else {
                    (y[0] = e.dataToPoint(o[0])), (y[1] = e.dataToPoint(o[1]));
                    var w = m.get(['lineStyle', 'curveness']);
                    +w &&
                      (y[2] = [
                        (y[0][0] + y[1][0]) / 2 - (y[0][1] - y[1][1]) * w,
                        (y[0][1] + y[1][1]) / 2 - (y[1][0] - y[0][0]) * w,
                      ]);
                  }
                  a.setItemLayout(c, y);
                }
            },
          };
        }
        qn('The lines series must have a coordinate system.');
      },
    },
    h4 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i) {
          var a = t.getData(),
            o = this._updateLineDraw(a, t),
            s = t.get('zlevel'),
            l = t.get(['effect', 'trailLength']),
            u = i.getZr(),
            c = 'svg' === u.painter.getType();
          c || u.painter.getLayer(s).clear(!0),
            null != this._lastZlevel &&
              !c &&
              u.configLayer(this._lastZlevel, { motionBlur: !1 }),
            this._showEffect(t) &&
              l > 0 &&
              (c
                ? console.warn(
                    "SVG render mode doesn't support lines with trail effect"
                  )
                : u.configLayer(s, {
                    motionBlur: !0,
                    lastFrameAlpha: Math.max(Math.min(l / 10 + 0.9, 1), 0),
                  })),
            o.updateData(a);
          var f = t.get('clip', !0) && Ig(t.coordinateSystem, !1, t);
          f ? this.group.setClipPath(f) : this.group.removeClipPath(),
            (this._lastZlevel = s),
            (this._finished = !0);
        }),
        (e.prototype.incrementalPrepareRender = function (t, n, i) {
          var a = t.getData();
          this._updateLineDraw(a, t).incrementalPrepareUpdate(a),
            this._clearLayer(i),
            (this._finished = !1);
        }),
        (e.prototype.incrementalRender = function (t, n, i) {
          this._lineDraw.incrementalUpdate(t, n.getData()),
            (this._finished = t.end === n.getData().count());
        }),
        (e.prototype.eachRendered = function (t) {
          this._lineDraw && this._lineDraw.eachRendered(t);
        }),
        (e.prototype.updateTransform = function (t, n, i) {
          var a = t.getData(),
            o = t.pipelineContext;
          if (!this._finished || o.large || o.progressiveRender)
            return { update: !0 };
          var s = E2.reset(t, n, i);
          s.progress &&
            s.progress({ start: 0, end: a.count(), count: a.count() }, a),
            this._lineDraw.updateLayout(),
            this._clearLayer(i);
        }),
        (e.prototype._updateLineDraw = function (t, n) {
          var i = this._lineDraw,
            a = this._showEffect(n),
            o = !!n.get('polyline'),
            l = n.pipelineContext.large;
          return (
            a && l && console.warn('Large lines not support effect'),
            (!i ||
              a !== this._hasEffet ||
              o !== this._isPolyline ||
              l !== this._isLargeDraw) &&
              (i && i.remove(),
              (i = this._lineDraw =
                l ? new f4() : new sx(o ? (a ? l4 : k2) : a ? I2 : ox)),
              (this._hasEffet = a),
              (this._isPolyline = o),
              (this._isLargeDraw = l)),
            this.group.add(i.group),
            i
          );
        }),
        (e.prototype._showEffect = function (t) {
          return !!t.get(['effect', 'show']);
        }),
        (e.prototype._clearLayer = function (t) {
          var n = t.getZr();
          'svg' !== n.painter.getType() &&
            null != this._lastZlevel &&
            n.painter.getLayer(this._lastZlevel).clear(!0);
        }),
        (e.prototype.remove = function (t, n) {
          this._lineDraw && this._lineDraw.remove(),
            (this._lineDraw = null),
            this._clearLayer(n);
        }),
        (e.prototype.dispose = function (t, n) {
          this.remove(t, n);
        }),
        (e.type = 'lines'),
        e
      );
    })(en),
    d4 = typeof Uint32Array > 'u' ? Array : Uint32Array,
    v4 = typeof Float64Array > 'u' ? Array : Float64Array;
  function P2(r) {
    var e = r.data;
    e &&
      e[0] &&
      e[0][0] &&
      e[0][0].coord &&
      (console.warn(
        'Lines data configuration has been changed to { coords:[[1,2],[2,3]] }'
      ),
      (r.data = Ut(e, function (t) {
        var i = { coords: [t[0].coord, t[1].coord] };
        return (
          t[0].name && (i.fromName = t[0].name),
          t[1].name && (i.toName = t[1].name),
          Ht([i, t[0], t[1]])
        );
      })));
  }
  var p4 = (function (r) {
    function e() {
      var t = (null !== r && r.apply(this, arguments)) || this;
      return (
        (t.type = e.type),
        (t.visualStyleAccessPath = 'lineStyle'),
        (t.visualDrawType = 'stroke'),
        t
      );
    }
    return (
      ut(e, r),
      (e.prototype.init = function (t) {
        (t.data = t.data || []), P2(t);
        var n = this._processFlatCoordsArray(t.data);
        (this._flatCoords = n.flatCoords),
          (this._flatCoordsOffset = n.flatCoordsOffset),
          n.flatCoords && (t.data = new Float32Array(n.count)),
          r.prototype.init.apply(this, arguments);
      }),
      (e.prototype.mergeOption = function (t) {
        if ((P2(t), t.data)) {
          var n = this._processFlatCoordsArray(t.data);
          (this._flatCoords = n.flatCoords),
            (this._flatCoordsOffset = n.flatCoordsOffset),
            n.flatCoords && (t.data = new Float32Array(n.count));
        }
        r.prototype.mergeOption.apply(this, arguments);
      }),
      (e.prototype.appendData = function (t) {
        var n = this._processFlatCoordsArray(t.data);
        n.flatCoords &&
          (this._flatCoords
            ? ((this._flatCoords = Ge(this._flatCoords, n.flatCoords)),
              (this._flatCoordsOffset = Ge(
                this._flatCoordsOffset,
                n.flatCoordsOffset
              )))
            : ((this._flatCoords = n.flatCoords),
              (this._flatCoordsOffset = n.flatCoordsOffset)),
          (t.data = new Float32Array(n.count))),
          this.getRawData().appendData(t.data);
      }),
      (e.prototype._getCoordsFromItemModel = function (t) {
        var n = this.getData().getItemModel(t),
          i = n.option instanceof Array ? n.option : n.getShallow('coords');
        if (!(i instanceof Array && i.length > 0 && i[0] instanceof Array))
          throw new Error(
            'Invalid coords ' +
              JSON.stringify(i) +
              '. Lines must have 2d coords array in data item.'
          );
        return i;
      }),
      (e.prototype.getLineCoordsCount = function (t) {
        return this._flatCoordsOffset
          ? this._flatCoordsOffset[2 * t + 1]
          : this._getCoordsFromItemModel(t).length;
      }),
      (e.prototype.getLineCoords = function (t, n) {
        if (this._flatCoordsOffset) {
          for (
            var i = this._flatCoordsOffset[2 * t],
              a = this._flatCoordsOffset[2 * t + 1],
              o = 0;
            o < a;
            o++
          )
            (n[o] = n[o] || []),
              (n[o][0] = this._flatCoords[i + 2 * o]),
              (n[o][1] = this._flatCoords[i + 2 * o + 1]);
          return a;
        }
        var s = this._getCoordsFromItemModel(t);
        for (o = 0; o < s.length; o++)
          (n[o] = n[o] || []), (n[o][0] = s[o][0]), (n[o][1] = s[o][1]);
        return s.length;
      }),
      (e.prototype._processFlatCoordsArray = function (t) {
        var n = 0;
        if ((this._flatCoords && (n = this._flatCoords.length), U(t[0]))) {
          for (
            var i = t.length,
              a = new d4(i),
              o = new v4(i),
              s = 0,
              l = 0,
              u = 0,
              c = 0;
            c < i;

          ) {
            u++;
            var f = t[c++];
            (a[l++] = s + n), (a[l++] = f);
            for (var d = 0; d < f; d++) {
              var v = t[c++],
                g = t[c++];
              if (((o[s++] = v), (o[s++] = g), c > i))
                throw new Error('Invalid data format.');
            }
          }
          return {
            flatCoordsOffset: new Uint32Array(a.buffer, 0, l),
            flatCoords: o,
            count: u,
          };
        }
        return { flatCoordsOffset: null, flatCoords: null, count: t.length };
      }),
      (e.prototype.getInitialData = function (t, n) {
        if (!hc.get(t.coordinateSystem))
          throw new Error('Unknown coordinate system ' + t.coordinateSystem);
        var a = new Zi(['value'], this);
        return (
          (a.hasItemOption = !1),
          a.initData(t.data, [], function (o, s, l, u) {
            if (o instanceof Array) return NaN;
            a.hasItemOption = !0;
            var c = o.value;
            return null != c ? (c instanceof Array ? c[u] : c) : void 0;
          }),
          a
        );
      }),
      (e.prototype.formatTooltip = function (t, n, i) {
        var o = this.getData().getItemModel(t),
          s = o.get('name');
        if (s) return s;
        var l = o.get('fromName'),
          u = o.get('toName'),
          c = [];
        return (
          null != l && c.push(l),
          null != u && c.push(u),
          si('nameValue', { name: c.join(' > ') })
        );
      }),
      (e.prototype.preventIncremental = function () {
        return !!this.get(['effect', 'show']);
      }),
      (e.prototype.getProgressive = function () {
        return (
          this.option.progressive ??
          (this.option.large ? 1e4 : this.get('progressive'))
        );
      }),
      (e.prototype.getProgressiveThreshold = function () {
        return (
          this.option.progressiveThreshold ??
          (this.option.large ? 2e4 : this.get('progressiveThreshold'))
        );
      }),
      (e.prototype.getZLevelKey = function () {
        var t = this.getModel('effect'),
          n = t.get('trailLength');
        return this.getData().count() > this.getProgressiveThreshold()
          ? this.id
          : t.get('show') && n > 0
          ? n + ''
          : '';
      }),
      (e.type = 'series.lines'),
      (e.dependencies = ['grid', 'polar', 'geo', 'calendar']),
      (e.defaultOption = {
        coordinateSystem: 'geo',
        z: 2,
        legendHoverLink: !0,
        xAxisIndex: 0,
        yAxisIndex: 0,
        symbol: ['none', 'none'],
        symbolSize: [10, 10],
        geoIndex: 0,
        effect: {
          show: !1,
          period: 4,
          constantSpeed: 0,
          symbol: 'circle',
          symbolSize: 3,
          loop: !0,
          trailLength: 0.2,
        },
        large: !1,
        largeThreshold: 2e3,
        polyline: !1,
        clip: !0,
        label: { show: !1, position: 'end' },
        lineStyle: { opacity: 0.5 },
      }),
      e
    );
  })(nn);
  function em(r) {
    return r instanceof Array || (r = [r, r]), r;
  }
  var g4 = {
      seriesType: 'lines',
      reset: function (r) {
        var e = em(r.get('symbol')),
          t = em(r.get('symbolSize')),
          n = r.getData();
        return (
          n.setVisual('fromSymbol', e && e[0]),
          n.setVisual('toSymbol', e && e[1]),
          n.setVisual('fromSymbolSize', t && t[0]),
          n.setVisual('toSymbolSize', t && t[1]),
          {
            dataEach: n.hasItemOption
              ? function i(a, o) {
                  var s = a.getItemModel(o),
                    l = em(s.getShallow('symbol', !0)),
                    u = em(s.getShallow('symbolSize', !0));
                  l[0] && a.setItemVisual(o, 'fromSymbol', l[0]),
                    l[1] && a.setItemVisual(o, 'toSymbol', l[1]),
                    u[0] && a.setItemVisual(o, 'fromSymbolSize', u[0]),
                    u[1] && a.setItemVisual(o, 'toSymbolSize', u[1]);
                }
              : null,
          }
        );
      },
    },
    x4 = (function () {
      function r() {
        (this.blurSize = 30),
          (this.pointSize = 20),
          (this.maxOpacity = 1),
          (this.minOpacity = 0),
          (this._gradientPixels = { inRange: null, outOfRange: null });
        var e = Zt.createCanvas();
        this.canvas = e;
      }
      return (
        (r.prototype.update = function (e, t, n, i, a, o) {
          var s = this._getBrush(),
            l = this._getGradient(a, 'inRange'),
            u = this._getGradient(a, 'outOfRange'),
            c = this.pointSize + this.blurSize,
            f = this.canvas,
            d = f.getContext('2d'),
            v = e.length;
          (f.width = t), (f.height = n);
          for (var g = 0; g < v; ++g) {
            var m = e[g],
              y = m[0],
              b = m[1],
              C = i(m[2]);
            (d.globalAlpha = C), d.drawImage(s, y - c, b - c);
          }
          if (!f.width || !f.height) return f;
          for (
            var D = d.getImageData(0, 0, f.width, f.height),
              L = D.data,
              M = 0,
              E = L.length,
              O = this.minOpacity,
              H = this.maxOpacity - O;
            M < E;

          ) {
            C = L[M + 3] / 256;
            var G = 4 * Math.floor(255 * C);
            if (C > 0) {
              var X = o(C) ? l : u;
              C > 0 && (C = C * H + O),
                (L[M++] = X[G]),
                (L[M++] = X[G + 1]),
                (L[M++] = X[G + 2]),
                (L[M++] = X[G + 3] * C * 256);
            } else M += 4;
          }
          return d.putImageData(D, 0, 0), f;
        }),
        (r.prototype._getBrush = function () {
          var e = this._brushCanvas || (this._brushCanvas = Zt.createCanvas()),
            t = this.pointSize + this.blurSize,
            n = 2 * t;
          (e.width = n), (e.height = n);
          var i = e.getContext('2d');
          return (
            i.clearRect(0, 0, n, n),
            (i.shadowOffsetX = n),
            (i.shadowBlur = this.blurSize),
            (i.shadowColor = '#000'),
            i.beginPath(),
            i.arc(-t, t, this.pointSize, 0, 2 * Math.PI, !0),
            i.closePath(),
            i.fill(),
            e
          );
        }),
        (r.prototype._getGradient = function (e, t) {
          for (
            var n = this._gradientPixels,
              i = n[t] || (n[t] = new Uint8ClampedArray(1024)),
              a = [0, 0, 0, 0],
              o = 0,
              s = 0;
            s < 256;
            s++
          )
            e[t](s / 255, !0, a),
              (i[o++] = a[0]),
              (i[o++] = a[1]),
              (i[o++] = a[2]),
              (i[o++] = a[3]);
          return i;
        }),
        r
      );
    })();
  function R2(r) {
    var e = r.dimensions;
    return 'lng' === e[0] && 'lat' === e[1];
  }
  var S4 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i) {
          var a;
          if (
            (n.eachComponent('visualMap', function (s) {
              s.eachTargetSeries(function (l) {
                l === t && (a = s);
              });
            }),
            !a)
          )
            throw new Error('Heatmap must use with visualMap');
          (this._progressiveEls = null), this.group.removeAll();
          var o = t.coordinateSystem;
          'cartesian2d' === o.type || 'calendar' === o.type
            ? this._renderOnCartesianAndCalendar(t, i, 0, t.getData().count())
            : R2(o) && this._renderOnGeo(o, t, a, i);
        }),
        (e.prototype.incrementalPrepareRender = function (t, n, i) {
          this.group.removeAll();
        }),
        (e.prototype.incrementalRender = function (t, n, i, a) {
          var o = n.coordinateSystem;
          o &&
            (R2(o)
              ? this.render(n, i, a)
              : ((this._progressiveEls = []),
                this._renderOnCartesianAndCalendar(n, a, t.start, t.end, !0)));
        }),
        (e.prototype.eachRendered = function (t) {
          Xl(this._progressiveEls || this.group, t);
        }),
        (e.prototype._renderOnCartesianAndCalendar = function (t, n, i, a, o) {
          var u,
            c,
            f,
            d,
            s = t.coordinateSystem,
            l = Ic(s, 'cartesian2d');
          if (l) {
            var v = s.getAxis('x'),
              g = s.getAxis('y');
            if ('category' !== v.type || 'category' !== g.type)
              throw new Error(
                'Heatmap on cartesian must have two category axes'
              );
            if (!v.onBand || !g.onBand)
              throw new Error(
                'Heatmap on cartesian must have two axes with boundaryGap true'
              );
            (u = v.getBandWidth() + 0.5),
              (c = g.getBandWidth() + 0.5),
              (f = v.scale.getExtent()),
              (d = g.scale.getExtent());
          }
          for (
            var m = this.group,
              y = t.getData(),
              b = t.getModel(['emphasis', 'itemStyle']).getItemStyle(),
              w = t.getModel(['blur', 'itemStyle']).getItemStyle(),
              C = t.getModel(['select', 'itemStyle']).getItemStyle(),
              D = t.get(['itemStyle', 'borderRadius']),
              L = oi(t),
              M = t.getModel('emphasis'),
              E = M.get('focus'),
              O = M.get('blurScope'),
              z = M.get('disabled'),
              H = l
                ? [
                    y.mapDimension('x'),
                    y.mapDimension('y'),
                    y.mapDimension('value'),
                  ]
                : [y.mapDimension('time'), y.mapDimension('value')],
              G = i;
            G < a;
            G++
          ) {
            var X = void 0,
              K = y.getItemVisual(G, 'style');
            if (l) {
              var tt = y.get(H[0], G),
                ot = y.get(H[1], G);
              if (
                isNaN(y.get(H[2], G)) ||
                isNaN(tt) ||
                isNaN(ot) ||
                tt < f[0] ||
                tt > f[1] ||
                ot < d[0] ||
                ot > d[1]
              )
                continue;
              var pt = s.dataToPoint([tt, ot]);
              X = new Rr({
                shape: {
                  x: pt[0] - u / 2,
                  y: pt[1] - c / 2,
                  width: u,
                  height: c,
                },
                style: K,
              });
            } else {
              if (isNaN(y.get(H[1], G))) continue;
              X = new Rr({
                z2: 1,
                shape: s.dataToRect([y.get(H[0], G)]).contentShape,
                style: K,
              });
            }
            if (y.hasItemOption) {
              var Xt = y.getItemModel(G),
                Vt = Xt.getModel('emphasis');
              (b = Vt.getModel('itemStyle').getItemStyle()),
                (w = Xt.getModel(['blur', 'itemStyle']).getItemStyle()),
                (C = Xt.getModel(['select', 'itemStyle']).getItemStyle()),
                (D = Xt.get(['itemStyle', 'borderRadius'])),
                (E = Vt.get('focus')),
                (O = Vt.get('blurScope')),
                (z = Vt.get('disabled')),
                (L = oi(Xt));
            }
            X.shape.r = D;
            var re = t.getRawValue(G),
              ye = '-';
            re && null != re[2] && (ye = re[2] + ''),
              Ci(X, L, {
                labelFetcher: t,
                labelDataIndex: G,
                defaultOpacity: K.opacity,
                defaultText: ye,
              }),
              (X.ensureState('emphasis').style = b),
              (X.ensureState('blur').style = w),
              (X.ensureState('select').style = C),
              wn(X, E, O, z),
              (X.incremental = o),
              o && (X.states.emphasis.hoverLayer = !0),
              m.add(X),
              y.setItemGraphicEl(G, X),
              this._progressiveEls && this._progressiveEls.push(X);
          }
        }),
        (e.prototype._renderOnGeo = function (t, n, i, a) {
          var o = i.targetVisuals.inRange,
            s = i.targetVisuals.outOfRange,
            l = n.getData(),
            u = this._hmLayer || this._hmLayer || new x4();
          (u.blurSize = n.get('blurSize')),
            (u.pointSize = n.get('pointSize')),
            (u.minOpacity = n.get('minOpacity')),
            (u.maxOpacity = n.get('maxOpacity'));
          var c = t.getViewRect().clone(),
            f = t.getRoamTransform();
          c.applyTransform(f);
          var d = Math.max(c.x, 0),
            v = Math.max(c.y, 0),
            g = Math.min(c.width + c.x, a.getWidth()),
            m = Math.min(c.height + c.y, a.getHeight()),
            y = g - d,
            b = m - v,
            w = [
              l.mapDimension('lng'),
              l.mapDimension('lat'),
              l.mapDimension('value'),
            ],
            C = l.mapArray(w, function (E, O, z) {
              var H = t.dataToPoint([E, O]);
              return (H[0] -= d), (H[1] -= v), H.push(z), H;
            }),
            D = i.getExtent(),
            L =
              'visualMap.continuous' === i.type
                ? (function _4(r, e) {
                    var t = r[1] - r[0];
                    return (
                      (e = [(e[0] - r[0]) / t, (e[1] - r[0]) / t]),
                      function (n) {
                        return n >= e[0] && n <= e[1];
                      }
                    );
                  })(D, i.option.range)
                : (function b4(r, e, t) {
                    var n = r[1] - r[0],
                      i = (e = Ut(e, function (o) {
                        return {
                          interval: [
                            (o.interval[0] - r[0]) / n,
                            (o.interval[1] - r[0]) / n,
                          ],
                        };
                      })).length,
                      a = 0;
                    return function (o) {
                      var s;
                      for (s = a; s < i; s++)
                        if ((l = e[s].interval)[0] <= o && o <= l[1]) {
                          a = s;
                          break;
                        }
                      if (s === i)
                        for (s = a - 1; s >= 0; s--) {
                          var l;
                          if ((l = e[s].interval)[0] <= o && o <= l[1]) {
                            a = s;
                            break;
                          }
                        }
                      return s >= 0 && s < i && t[s];
                    };
                  })(D, i.getPieceList(), i.option.selected);
          u.update(
            C,
            y,
            b,
            o.color.getNormalizer(),
            {
              inRange: o.color.getColorMapper(),
              outOfRange: s.color.getColorMapper(),
            },
            L
          );
          var M = new ai({
            style: { width: y, height: b, x: d, y: v, image: u.canvas },
            silent: !0,
          });
          this.group.add(M);
        }),
        (e.type = 'heatmap'),
        e
      );
    })(en),
    w4 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.getInitialData = function (t, n) {
          return cs(null, this, { generateCoord: 'value' });
        }),
        (e.prototype.preventIncremental = function () {
          var t = hc.get(this.get('coordinateSystem'));
          if (t && t.dimensions)
            return 'lng' === t.dimensions[0] && 'lat' === t.dimensions[1];
        }),
        (e.type = 'series.heatmap'),
        (e.dependencies = ['grid', 'geo', 'calendar']),
        (e.defaultOption = {
          coordinateSystem: 'cartesian2d',
          z: 2,
          geoIndex: 0,
          blurSize: 30,
          pointSize: 20,
          maxOpacity: 1,
          minOpacity: 0,
          select: { itemStyle: { borderColor: '#212121' } },
        }),
        e
      );
    })(nn),
    D4 = ['itemStyle', 'borderWidth'],
    O2 = [
      { xy: 'x', wh: 'width', index: 0, posDesc: ['left', 'right'] },
      { xy: 'y', wh: 'height', index: 1, posDesc: ['top', 'bottom'] },
    ],
    Bx = new to(),
    T4 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i) {
          var a = this.group,
            o = t.getData(),
            s = this._data,
            l = t.coordinateSystem,
            c = l.getBaseAxis().isHorizontal(),
            f = l.master.getRect(),
            d = {
              ecSize: { width: i.getWidth(), height: i.getHeight() },
              seriesModel: t,
              coordSys: l,
              coordSysExtent: [
                [f.x, f.x + f.width],
                [f.y, f.y + f.height],
              ],
              isHorizontal: c,
              valueDim: O2[+c],
              categoryDim: O2[1 - +c],
            };
          return (
            o
              .diff(s)
              .add(function (v) {
                if (o.hasValue(v)) {
                  var g = G2(o, v),
                    m = F2(o, v, g, d),
                    y = W2(o, d, m);
                  o.setItemGraphicEl(v, y), a.add(y), Y2(y, d, m);
                }
              })
              .update(function (v, g) {
                var m = s.getItemGraphicEl(g);
                if (o.hasValue(v)) {
                  var y = G2(o, v),
                    b = F2(o, v, y, d),
                    w = U2(o, b);
                  m &&
                    w !== m.__pictorialShapeStr &&
                    (a.remove(m), o.setItemGraphicEl(v, null), (m = null)),
                    m
                      ? (function P4(r, e, t) {
                          Wr(
                            r.__pictorialBundle,
                            { x: t.bundlePosition[0], y: t.bundlePosition[1] },
                            t.animationModel,
                            t.dataIndex
                          ),
                            t.symbolRepeat ? N2(r, e, t, !0) : z2(r, 0, t, !0),
                            V2(r, t, !0),
                            H2(r, e, t, !0);
                        })(m, d, b)
                      : (m = W2(o, d, b, !0)),
                    o.setItemGraphicEl(v, m),
                    (m.__pictorialSymbolMeta = b),
                    a.add(m),
                    Y2(m, d, b);
                } else a.remove(m);
              })
              .remove(function (v) {
                var g = s.getItemGraphicEl(v);
                g && $2(s, v, g.__pictorialSymbolMeta.animationModel, g);
              })
              .execute(),
            (this._data = o),
            this.group
          );
        }),
        (e.prototype.remove = function (t, n) {
          var i = this.group,
            a = this._data;
          t.get('animation')
            ? a &&
              a.eachItemGraphicEl(function (o) {
                $2(a, fr(o).dataIndex, t, o);
              })
            : i.removeAll();
        }),
        (e.type = 'pictorialBar'),
        e
      );
    })(en);
  function F2(r, e, t, n) {
    var i = r.getItemLayout(e),
      a = t.get('symbolRepeat'),
      o = t.get('symbolClip'),
      s = t.get('symbolPosition') || 'start',
      u = ((t.get('symbolRotate') || 0) * Math.PI) / 180 || 0,
      c = t.get('symbolPatternSize') || 2,
      f = t.isAnimationEnabled(),
      d = {
        dataIndex: e,
        layout: i,
        itemModel: t,
        symbolType: r.getItemVisual(e, 'symbol') || 'circle',
        style: r.getItemVisual(e, 'style'),
        symbolClip: o,
        symbolRepeat: a,
        symbolRepeatDirection: t.get('symbolRepeatDirection'),
        symbolPatternSize: c,
        rotation: u,
        animationModel: f ? t : null,
        hoverScale: f && t.get(['emphasis', 'scale']),
        z2: t.getShallow('z', !0) || 0,
      };
    (function A4(r, e, t, n, i) {
      var c,
        a = n.valueDim,
        o = r.get('symbolBoundingData'),
        s = n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),
        l = s.toGlobalCoord(s.dataToCoord(0)),
        u = 1 - +(t[a.wh] <= 0);
      if (Tt(o)) {
        var f = [Nx(s, o[0]) - l, Nx(s, o[1]) - l];
        f[1] < f[0] && f.reverse(), (c = f[u]);
      } else
        c =
          null != o
            ? Nx(s, o) - l
            : e
            ? n.coordSysExtent[a.index][u] - l
            : t[a.wh];
      (i.boundingLength = c),
        e && (i.repeatCutLength = t[a.wh]),
        (i.pxSign = c > 0 ? 1 : -1);
    })(t, a, i, n, d),
      (function M4(r, e, t, n, i, a, o, s, l, u) {
        var g,
          c = l.valueDim,
          f = l.categoryDim,
          d = Math.abs(t[f.wh]),
          v = r.getItemVisual(e, 'symbolSize');
        ((g = Tt(v) ? v.slice() : null == v ? ['100%', '100%'] : [v, v])[
          f.index
        ] = Te(g[f.index], d)),
          (g[c.index] = Te(g[c.index], n ? d : Math.abs(a))),
          (u.symbolSize = g),
          ((u.symbolScale = [g[0] / s, g[1] / s])[c.index] *=
            (l.isHorizontal ? -1 : 1) * o);
      })(r, e, i, a, 0, d.boundingLength, d.pxSign, c, n, d),
      (function L4(r, e, t, n, i) {
        var a = r.get(D4) || 0;
        a &&
          (Bx.attr({ scaleX: e[0], scaleY: e[1], rotation: t }),
          Bx.updateTransform(),
          (a /= Bx.getLineScale()),
          (a *= e[n.valueDim.index])),
          (i.valueLineWidth = a || 0);
      })(t, d.symbolScale, u, n, d);
    var v = d.symbolSize,
      g = mc(t.get('symbolOffset'), v);
    return (
      (function I4(r, e, t, n, i, a, o, s, l, u, c, f) {
        var d = c.categoryDim,
          v = c.valueDim,
          g = f.pxSign,
          m = Math.max(e[v.index] + s, 0),
          y = m;
        if (n) {
          var b = Math.abs(l),
            w = xe(r.get('symbolMargin'), '15%') + '',
            C = !1;
          w.lastIndexOf('!') === w.length - 1 &&
            ((C = !0), (w = w.slice(0, w.length - 1)));
          var D = Te(w, e[v.index]),
            L = Math.max(m + 2 * D, 0),
            M = C ? 0 : 2 * D,
            E = Wu(n),
            O = E ? n : X2((b + M) / L);
          (L = m + 2 * (D = (b - O * m) / 2 / (C ? O : Math.max(O - 1, 1)))),
            (M = C ? 0 : 2 * D),
            !E && 'fixed' !== n && (O = u ? X2((Math.abs(u) + M) / L) : 0),
            (y = O * L - M),
            (f.repeatTimes = O),
            (f.symbolMargin = D);
        }
        var H = g * (y / 2),
          G = (f.pathPosition = []);
        (G[d.index] = t[d.wh] / 2),
          (G[v.index] = 'start' === o ? H : 'end' === o ? l - H : l / 2),
          a && ((G[0] += a[0]), (G[1] += a[1]));
        var X = (f.bundlePosition = []);
        (X[d.index] = t[d.xy]), (X[v.index] = t[v.xy]);
        var K = (f.barRectShape = nt({}, t));
        (K[v.wh] = g * Math.max(Math.abs(t[v.wh]), Math.abs(G[v.index] + H))),
          (K[d.wh] = t[d.wh]);
        var tt = (f.clipShape = {});
        (tt[d.xy] = -t[d.xy]),
          (tt[d.wh] = c.ecSize[d.wh]),
          (tt[v.xy] = 0),
          (tt[v.wh] = t[v.wh]);
      })(
        t,
        v,
        i,
        a,
        0,
        g,
        s,
        d.valueLineWidth,
        d.boundingLength,
        d.repeatCutLength,
        n,
        d
      ),
      d
    );
  }
  function Nx(r, e) {
    return r.toGlobalCoord(r.dataToCoord(r.scale.parse(e)));
  }
  function B2(r) {
    var e = r.symbolPatternSize,
      t = En(r.symbolType, -e / 2, -e / 2, e, e);
    return (
      t.attr({ culling: !0 }),
      'image' !== t.type && t.setStyle({ strokeNoScale: !0 }),
      t
    );
  }
  function N2(r, e, t, n) {
    var i = r.__pictorialBundle,
      s = t.pathPosition,
      l = e.valueDim,
      u = t.repeatTimes || 0,
      c = 0,
      f =
        t.symbolSize[e.valueDim.index] + t.valueLineWidth + 2 * t.symbolMargin;
    for (
      zx(r, function (m) {
        (m.__pictorialAnimationIndex = c),
          (m.__pictorialRepeatTimes = u),
          c < u
            ? oh(m, null, g(c), t, n)
            : oh(m, null, { scaleX: 0, scaleY: 0 }, t, n, function () {
                i.remove(m);
              }),
          c++;
      });
      c < u;
      c++
    ) {
      var d = B2(t);
      (d.__pictorialAnimationIndex = c),
        (d.__pictorialRepeatTimes = u),
        i.add(d);
      var v = g(c);
      oh(
        d,
        { x: v.x, y: v.y, scaleX: 0, scaleY: 0 },
        { scaleX: v.scaleX, scaleY: v.scaleY, rotation: v.rotation },
        t,
        n
      );
    }
    function g(m) {
      var y = s.slice(),
        b = t.pxSign,
        w = m;
      return (
        ('start' === t.symbolRepeatDirection ? b > 0 : b < 0) &&
          (w = u - 1 - m),
        (y[l.index] = f * (w - u / 2 + 0.5) + s[l.index]),
        {
          x: y[0],
          y: y[1],
          scaleX: t.symbolScale[0],
          scaleY: t.symbolScale[1],
          rotation: t.rotation,
        }
      );
    }
  }
  function z2(r, e, t, n) {
    var i = r.__pictorialBundle,
      a = r.__pictorialMainPath;
    a
      ? oh(
          a,
          null,
          {
            x: t.pathPosition[0],
            y: t.pathPosition[1],
            scaleX: t.symbolScale[0],
            scaleY: t.symbolScale[1],
            rotation: t.rotation,
          },
          t,
          n
        )
      : ((a = r.__pictorialMainPath = B2(t)),
        i.add(a),
        oh(
          a,
          {
            x: t.pathPosition[0],
            y: t.pathPosition[1],
            scaleX: 0,
            scaleY: 0,
            rotation: t.rotation,
          },
          { scaleX: t.symbolScale[0], scaleY: t.symbolScale[1] },
          t,
          n
        ));
  }
  function V2(r, e, t) {
    var n = nt({}, e.barRectShape),
      i = r.__pictorialBarRect;
    i
      ? oh(i, null, { shape: n }, e, t)
      : (((i = r.__pictorialBarRect =
          new Rr({
            z2: 2,
            shape: n,
            silent: !0,
            style: { stroke: 'transparent', fill: 'transparent', lineWidth: 0 },
          })).disableMorphing = !0),
        r.add(i));
  }
  function H2(r, e, t, n) {
    if (t.symbolClip) {
      var i = r.__pictorialClipPath,
        a = nt({}, t.clipShape),
        o = e.valueDim,
        s = t.animationModel,
        l = t.dataIndex;
      if (i) Wr(i, { shape: a }, s, l);
      else {
        (a[o.wh] = 0),
          (i = new Rr({ shape: a })),
          r.__pictorialBundle.setClipPath(i),
          (r.__pictorialClipPath = i);
        var u = {};
        (u[o.wh] = t.clipShape[o.wh]),
          ud[n ? 'updateProps' : 'initProps'](i, { shape: u }, s, l);
      }
    }
  }
  function G2(r, e) {
    var t = r.getItemModel(e);
    return (t.getAnimationDelayParams = k4), (t.isAnimationEnabled = E4), t;
  }
  function k4(r) {
    return {
      index: r.__pictorialAnimationIndex,
      count: r.__pictorialRepeatTimes,
    };
  }
  function E4() {
    return (
      this.parentModel.isAnimationEnabled() && !!this.getShallow('animation')
    );
  }
  function W2(r, e, t, n) {
    var i = new Qe(),
      a = new Qe();
    return (
      i.add(a),
      (i.__pictorialBundle = a),
      (a.x = t.bundlePosition[0]),
      (a.y = t.bundlePosition[1]),
      t.symbolRepeat ? N2(i, e, t) : z2(i, 0, t),
      V2(i, t, n),
      H2(i, e, t, n),
      (i.__pictorialShapeStr = U2(r, t)),
      (i.__pictorialSymbolMeta = t),
      i
    );
  }
  function $2(r, e, t, n) {
    var i = n.__pictorialBarRect;
    i && i.removeTextContent();
    var a = [];
    zx(n, function (o) {
      a.push(o);
    }),
      n.__pictorialMainPath && a.push(n.__pictorialMainPath),
      n.__pictorialClipPath && (t = null),
      F(a, function (o) {
        Ul(o, { scaleX: 0, scaleY: 0 }, t, e, function () {
          n.parent && n.parent.remove(n);
        });
      }),
      r.setItemGraphicEl(e, null);
  }
  function U2(r, e) {
    return [
      r.getItemVisual(e.dataIndex, 'symbol') || 'none',
      !!e.symbolRepeat,
      !!e.symbolClip,
    ].join(':');
  }
  function zx(r, e, t) {
    F(r.__pictorialBundle.children(), function (n) {
      n !== r.__pictorialBarRect && e.call(t, n);
    });
  }
  function oh(r, e, t, n, i, a) {
    e && r.attr(e),
      n.symbolClip && !i
        ? t && r.attr(t)
        : t &&
          ud[i ? 'updateProps' : 'initProps'](
            r,
            t,
            n.animationModel,
            n.dataIndex,
            a
          );
  }
  function Y2(r, e, t) {
    var n = t.dataIndex,
      i = t.itemModel,
      a = i.getModel('emphasis'),
      o = a.getModel('itemStyle').getItemStyle(),
      s = i.getModel(['blur', 'itemStyle']).getItemStyle(),
      l = i.getModel(['select', 'itemStyle']).getItemStyle(),
      u = i.getShallow('cursor'),
      c = a.get('focus'),
      f = a.get('blurScope'),
      d = a.get('scale');
    zx(r, function (m) {
      if (m instanceof ai) {
        var y = m.style;
        m.useStyle(
          nt(
            {
              image: y.image,
              x: y.x,
              y: y.y,
              width: y.width,
              height: y.height,
            },
            t.style
          )
        );
      } else m.useStyle(t.style);
      var b = m.ensureState('emphasis');
      (b.style = o),
        d && ((b.scaleX = 1.1 * m.scaleX), (b.scaleY = 1.1 * m.scaleY)),
        (m.ensureState('blur').style = s),
        (m.ensureState('select').style = l),
        u && (m.cursor = u),
        (m.z2 = t.z2);
    });
    var v = e.valueDim.posDesc[+(t.boundingLength > 0)];
    Ci(r.__pictorialBarRect, oi(i), {
      labelFetcher: e.seriesModel,
      labelDataIndex: n,
      defaultText: Kf(e.seriesModel.getData(), n),
      inheritColor: t.style.fill,
      defaultOpacity: t.style.opacity,
      defaultOutsidePosition: v,
    }),
      wn(r, c, f, a.get('disabled'));
  }
  function X2(r) {
    var e = Math.round(r);
    return Math.abs(r - e) < 1e-4 ? e : Math.ceil(r);
  }
  var R4 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (
          (t.type = e.type),
          (t.hasSymbolVisual = !0),
          (t.defaultSymbol = 'roundRect'),
          t
        );
      }
      return (
        ut(e, r),
        (e.prototype.getInitialData = function (t) {
          return (
            (t.stack = null), r.prototype.getInitialData.apply(this, arguments)
          );
        }),
        (e.type = 'series.pictorialBar'),
        (e.dependencies = ['grid']),
        (e.defaultOption = Zl(Yd.defaultOption, {
          symbol: 'circle',
          symbolSize: null,
          symbolRotate: null,
          symbolPosition: null,
          symbolOffset: null,
          symbolMargin: null,
          symbolRepeat: !1,
          symbolRepeatDirection: 'end',
          symbolClip: !1,
          symbolBoundingData: null,
          symbolPatternSize: 400,
          barGap: '-100%',
          progressive: 0,
          emphasis: { scale: !1 },
          select: { itemStyle: { borderColor: '#212121' } },
        })),
        e
      );
    })(Yd),
    F4 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), (t._layers = []), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i) {
          var a = t.getData(),
            o = this,
            s = this.group,
            l = t.getLayerSeries(),
            u = a.getLayout('layoutInfo'),
            c = u.rect,
            f = u.boundaryGap;
          function d(y) {
            return y.name;
          }
          (s.x = 0), (s.y = c.y + f[0]);
          var v = new nl(this._layersSeries || [], l, d, d),
            g = [];
          function m(y, b, w) {
            var C = o._layers;
            if ('remove' !== y) {
              for (
                var M, D = [], L = [], E = l[b].indices, O = 0;
                O < E.length;
                O++
              ) {
                var z = a.getItemLayout(E[O]),
                  H = z.x,
                  G = z.y0,
                  X = z.y;
                D.push(H, G),
                  L.push(H, G + X),
                  (M = a.getItemVisual(E[O], 'style'));
              }
              var K,
                tt = a.getItemLayout(E[0]),
                pt = t.getModel('label').get('margin'),
                Xt = t.getModel('emphasis');
              if ('add' === y) {
                var Vt = (g[b] = new Qe());
                (K = new TT({
                  shape: {
                    points: D,
                    stackedOnPoints: L,
                    smooth: 0.4,
                    stackedOnSmooth: 0.4,
                    smoothConstraint: !1,
                  },
                  z2: 0,
                })),
                  Vt.add(K),
                  s.add(Vt),
                  t.isAnimationEnabled() &&
                    K.setClipPath(
                      (function B4(r, e, t) {
                        var n = new Rr({
                          shape: {
                            x: r.x - 10,
                            y: r.y - 10,
                            width: 0,
                            height: r.height + 20,
                          },
                        });
                        return (
                          pn(
                            n,
                            {
                              shape: {
                                x: r.x - 50,
                                width: r.width + 100,
                                height: r.height + 20,
                              },
                            },
                            e,
                            t
                          ),
                          n
                        );
                      })(K.getBoundingRect(), t, function () {
                        K.removeClipPath();
                      })
                    );
              } else
                (K = (Vt = C[w]).childAt(0)),
                  s.add(Vt),
                  (g[b] = Vt),
                  Wr(K, { shape: { points: D, stackedOnPoints: L } }, t),
                  Ro(K);
              Ci(
                K,
                oi(t),
                {
                  labelDataIndex: E[O - 1],
                  defaultText: a.getName(E[O - 1]),
                  inheritColor: M.fill,
                },
                { normal: { verticalAlign: 'middle' } }
              ),
                K.setTextConfig({ position: null, local: !0 });
              var re = K.getTextContent();
              re && ((re.x = tt.x - pt), (re.y = tt.y0 + tt.y / 2)),
                K.useStyle(M),
                a.setItemGraphicEl(b, K),
                wi(K, t),
                wn(K, Xt.get('focus'), Xt.get('blurScope'), Xt.get('disabled'));
            } else s.remove(C[b]);
          }
          v
            .add(kt(m, this, 'add'))
            .update(kt(m, this, 'update'))
            .remove(kt(m, this, 'remove'))
            .execute(),
            (this._layersSeries = l),
            (this._layers = g);
        }),
        (e.type = 'themeRiver'),
        e
      );
    })(en),
    N4 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.init = function (t) {
          r.prototype.init.apply(this, arguments),
            (this.legendVisualProvider = new Zd(
              kt(this.getData, this),
              kt(this.getRawData, this)
            ));
        }),
        (e.prototype.fixData = function (t) {
          var n = t.length,
            i = {},
            a = Mt(t, function (d) {
              return i.hasOwnProperty(d[0] + '') || (i[d[0] + ''] = -1), d[2];
            }),
            o = [];
          a.buckets.each(function (d, v) {
            o.push({ name: v, dataList: d });
          });
          for (var s = o.length, l = 0; l < s; ++l) {
            for (var u = o[l].name, c = 0; c < o[l].dataList.length; ++c)
              i[(f = o[l].dataList[c][0] + '')] = l;
            for (var f in i)
              i.hasOwnProperty(f) &&
                i[f] !== l &&
                ((i[f] = l), (t[n] = [f, 0, u]), n++);
          }
          return t;
        }),
        (e.prototype.getInitialData = function (t, n) {
          for (
            var a = this.getReferringComponents('singleAxis', N).models[0].get(
                'type'
              ),
              o = je(t.data, function (g) {
                return void 0 !== g[2];
              }),
              s = this.fixData(o || []),
              l = [],
              u = (this.nameMap = Nt()),
              c = 0,
              f = 0;
            f < s.length;
            ++f
          )
            l.push(s[f][2]), u.get(s[f][2]) || (u.set(s[f][2], c), c++);
          var d = Xf(s, {
              coordDimensions: ['single'],
              dimensionsDefine: [
                { name: 'time', type: cg(a) },
                { name: 'value', type: 'float' },
                { name: 'name', type: 'ordinal' },
              ],
              encodeDefine: { single: 0, value: 1, itemName: 2 },
            }).dimensions,
            v = new Zi(d, this);
          return v.initData(s), v;
        }),
        (e.prototype.getLayerSeries = function () {
          for (var t = this.getData(), n = t.count(), i = [], a = 0; a < n; ++a)
            i[a] = a;
          var o = t.mapDimension('single'),
            s = Mt(i, function (u) {
              return t.get('name', u);
            }),
            l = [];
          return (
            s.buckets.each(function (u, c) {
              u.sort(function (f, d) {
                return t.get(o, f) - t.get(o, d);
              }),
                l.push({ name: c, indices: u });
            }),
            l
          );
        }),
        (e.prototype.getAxisTooltipData = function (t, n, i) {
          Tt(t) || (t = t ? [t] : []);
          for (
            var u,
              a = this.getData(),
              o = this.getLayerSeries(),
              s = [],
              l = o.length,
              c = 0;
            c < l;
            ++c
          ) {
            for (
              var f = Number.MAX_VALUE, d = -1, v = o[c].indices.length, g = 0;
              g < v;
              ++g
            ) {
              var m = a.get(t[0], o[c].indices[g]),
                y = Math.abs(m - n);
              y <= f && ((u = m), (f = y), (d = o[c].indices[g]));
            }
            s.push(d);
          }
          return { dataIndices: s, nestestValue: u };
        }),
        (e.prototype.formatTooltip = function (t, n, i) {
          var a = this.getData();
          return si('nameValue', {
            name: a.getName(t),
            value: a.get(a.mapDimension('value'), t),
          });
        }),
        (e.type = 'series.themeRiver'),
        (e.dependencies = ['singleAxis']),
        (e.defaultOption = {
          z: 2,
          colorBy: 'data',
          coordinateSystem: 'singleAxis',
          boundaryGap: ['10%', '10%'],
          singleAxisIndex: 0,
          animationEasing: 'linear',
          label: { margin: 4, show: !0, position: 'left', fontSize: 11 },
          emphasis: { label: { show: !0 } },
        }),
        e
      );
    })(nn);
  function z4(r, e) {
    r.eachSeriesByType('themeRiver', function (t) {
      var n = t.getData(),
        i = t.coordinateSystem,
        a = {},
        o = i.getRect();
      a.rect = o;
      var s = t.get('boundaryGap'),
        l = i.getAxis();
      (a.boundaryGap = s),
        'horizontal' === l.orient
          ? ((s[0] = Te(s[0], o.height)),
            (s[1] = Te(s[1], o.height)),
            Z2(n, t, o.height - s[0] - s[1]))
          : ((s[0] = Te(s[0], o.width)),
            (s[1] = Te(s[1], o.width)),
            Z2(n, t, o.width - s[0] - s[1])),
        n.setLayout('layoutInfo', a);
    });
  }
  function Z2(r, e, t) {
    if (r.count())
      for (
        var v,
          n = e.coordinateSystem,
          i = e.getLayerSeries(),
          a = r.mapDimension('single'),
          o = r.mapDimension('value'),
          s = Ut(i, function (y) {
            return Ut(y.indices, function (b) {
              var w = n.dataToPoint(r.get(a, b));
              return (w[1] = r.get(o, b)), w;
            });
          }),
          l = (function V4(r) {
            for (
              var e = r.length, t = r[0].length, n = [], i = [], a = 0, o = 0;
              o < t;
              ++o
            ) {
              for (var s = 0, l = 0; l < e; ++l) s += r[l][o][1];
              s > a && (a = s), n.push(s);
            }
            for (var u = 0; u < t; ++u) i[u] = (a - n[u]) / 2;
            a = 0;
            for (var c = 0; c < t; ++c) {
              var f = n[c] + i[c];
              f > a && (a = f);
            }
            return { y0: i, max: a };
          })(s),
          u = l.y0,
          c = t / l.max,
          f = i.length,
          d = i[0].indices.length,
          g = 0;
        g < d;
        ++g
      ) {
        r.setItemLayout(i[0].indices[g], {
          layerIndex: 0,
          x: s[0][g][0],
          y0: (v = u[g] * c),
          y: s[0][g][1] * c,
        });
        for (var m = 1; m < f; ++m)
          r.setItemLayout(i[m].indices[g], {
            layerIndex: m,
            x: s[m][g][0],
            y0: (v += s[m - 1][g][1] * c),
            y: s[m][g][1] * c,
          });
      }
  }
  var q2 = (function (r) {
      function e(t, n, i, a) {
        var o = r.call(this) || this;
        (o.z2 = 2),
          (o.textConfig = { inside: !0 }),
          (fr(o).seriesIndex = n.seriesIndex);
        var s = new Or({
          z2: 4,
          silent: t.getModel().get(['label', 'silent']),
        });
        return o.setTextContent(s), o.updateData(!0, t, n, i, a), o;
      }
      return (
        ut(e, r),
        (e.prototype.updateData = function (t, n, i, a, o) {
          (this.node = n),
            (n.piece = this),
            (i = i || this._seriesModel),
            (a = a || this._ecModel);
          var s = this;
          fr(s).dataIndex = n.dataIndex;
          var l = n.getModel(),
            u = l.getModel('emphasis'),
            c = n.getLayout(),
            f = nt({}, c);
          f.label = null;
          var d = n.getVisual('style');
          d.lineJoin = 'bevel';
          var v = n.getVisual('decal');
          v && (d.decal = $f(v, o));
          var g = kc(l.getModel('itemStyle'), f, !0);
          nt(f, g),
            F(ua, function (w) {
              var C = s.ensureState(w),
                D = l.getModel([w, 'itemStyle']);
              C.style = D.getItemStyle();
              var L = kc(D, f);
              L && (C.shape = L);
            }),
            t
              ? (s.setShape(f),
                (s.shape.r = c.r0),
                pn(s, { shape: { r: c.r } }, i, n.dataIndex))
              : (Wr(s, { shape: f }, i), Ro(s)),
            s.useStyle(d),
            this._updateLabel(i);
          var m = l.getShallow('cursor');
          m && s.attr('cursor', m),
            (this._seriesModel = i || this._seriesModel),
            (this._ecModel = a || this._ecModel);
          var y = u.get('focus');
          wn(
            this,
            'ancestor' === y
              ? n.getAncestorsIndices()
              : 'descendant' === y
              ? n.getDescendantIndices()
              : y,
            u.get('blurScope'),
            u.get('disabled')
          );
        }),
        (e.prototype._updateLabel = function (t) {
          var n = this,
            i = this.node.getModel(),
            a = i.getModel('label'),
            o = this.node.getLayout(),
            s = o.endAngle - o.startAngle,
            l = (o.startAngle + o.endAngle) / 2,
            u = Math.cos(l),
            c = Math.sin(l),
            f = this,
            d = f.getTextContent(),
            v = this.node.dataIndex,
            g = (a.get('minAngle') / 180) * Math.PI,
            m = a.get('show') && !(null != g && Math.abs(s) < g);
          function y(b, w) {
            return b.get(w) ?? a.get(w);
          }
          (d.ignore = !m),
            F(Kh, function (b) {
              var w = i.getModel('normal' === b ? 'label' : [b, 'label']),
                C = 'normal' === b,
                D = C ? d : d.ensureState(b),
                L = t.getFormattedLabel(v, b);
              C && (L = L || n.node.name),
                (D.style = on(w, {}, null, 'normal' !== b, !0)),
                L && (D.style.text = L);
              var M = w.get('show');
              null != M && !C && (D.ignore = !M);
              var E = y(w, 'position'),
                O = C ? f : f.states[b],
                z = O.style.fill;
              O.textConfig = {
                outsideFill: 'inherit' === w.get('color') ? z : null,
                inside: 'outside' !== E,
              };
              var H,
                G = y(w, 'distance') || 0,
                X = y(w, 'align');
              'outside' === E
                ? ((H = o.r + G), (X = l > Math.PI / 2 ? 'right' : 'left'))
                : X && 'center' !== X
                ? 'left' === X
                  ? ((H = o.r0 + G), l > Math.PI / 2 && (X = 'right'))
                  : 'right' === X &&
                    ((H = o.r - G), l > Math.PI / 2 && (X = 'left'))
                : ((H = s === 2 * Math.PI && 0 === o.r0 ? 0 : (o.r + o.r0) / 2),
                  (X = 'center')),
                (D.style.align = X),
                (D.style.verticalAlign = y(w, 'verticalAlign') || 'middle'),
                (D.x = H * u + o.cx),
                (D.y = H * c + o.cy);
              var K = y(w, 'rotate'),
                tt = 0;
              'radial' === K
                ? (tt = Eo(-l)) > Math.PI / 2 &&
                  tt < 1.5 * Math.PI &&
                  (tt += Math.PI)
                : 'tangential' === K
                ? (tt = Math.PI / 2 - l) > Math.PI / 2
                  ? (tt -= Math.PI)
                  : tt < -Math.PI / 2 && (tt += Math.PI)
                : U(K) && (tt = (K * Math.PI) / 180),
                (D.rotation = Eo(tt));
            }),
            d.dirtyStyle();
        }),
        e
      );
    })(Gi),
    Hx = 'sunburstRootToNode',
    j2 = 'sunburstHighlight',
    Y4 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i, a) {
          var o = this;
          (this.seriesModel = t), (this.api = i), (this.ecModel = n);
          var s = t.getData(),
            l = s.tree.root,
            u = t.getViewRoot(),
            c = this.group,
            f = t.get('renderLabelForZeroData'),
            d = [];
          u.eachNode(function (w) {
            d.push(w);
          }),
            (function g(w, C) {
              function D(M) {
                return M.getId();
              }
              function L(M, E) {
                !(function m(w, C) {
                  if (
                    (!f && w && !w.getValue() && (w = null), w !== l && C !== l)
                  )
                    if (C && C.piece)
                      w
                        ? (C.piece.updateData(!1, w, t, n, i),
                          s.setItemGraphicEl(w.dataIndex, C.piece))
                        : (function y(w) {
                            w &&
                              w.piece &&
                              (c.remove(w.piece), (w.piece = null));
                          })(C);
                    else if (w) {
                      var D = new q2(w, t, n, i);
                      c.add(D), s.setItemGraphicEl(w.dataIndex, D);
                    }
                })(null == M ? null : w[M], null == E ? null : C[E]);
              }
              (0 === w.length && 0 === C.length) ||
                new nl(C, w, D, D)
                  .add(L)
                  .update(L)
                  .remove(me(L, null))
                  .execute();
            })(d, this._oldChildren || []),
            (function b(w, C) {
              C.depth > 0
                ? (o.virtualPiece
                    ? o.virtualPiece.updateData(!1, w, t, n, i)
                    : ((o.virtualPiece = new q2(w, t, n, i)),
                      c.add(o.virtualPiece)),
                  C.piece.off('click'),
                  o.virtualPiece.on('click', function (D) {
                    o._rootToNode(C.parentNode);
                  }))
                : o.virtualPiece &&
                  (c.remove(o.virtualPiece), (o.virtualPiece = null));
            })(l, u),
            this._initEvents(),
            (this._oldChildren = d);
        }),
        (e.prototype._initEvents = function () {
          var t = this;
          this.group.off('click'),
            this.group.on('click', function (n) {
              var i = !1;
              t.seriesModel.getViewRoot().eachNode(function (o) {
                if (!i && o.piece && o.piece === n.target) {
                  var s = o.getModel().get('nodeClick');
                  if ('rootToNode' === s) t._rootToNode(o);
                  else if ('link' === s) {
                    var l = o.getModel(),
                      u = l.get('link');
                    u && Bp(u, l.get('target', !0) || '_blank');
                  }
                  i = !0;
                }
              });
            });
        }),
        (e.prototype._rootToNode = function (t) {
          t !== this.seriesModel.getViewRoot() &&
            this.api.dispatchAction({
              type: Hx,
              from: this.uid,
              seriesId: this.seriesModel.id,
              targetNode: t,
            });
        }),
        (e.prototype.containPoint = function (t, n) {
          var a = n.getData().getItemLayout(0);
          if (a) {
            var o = t[0] - a.cx,
              s = t[1] - a.cy,
              l = Math.sqrt(o * o + s * s);
            return l <= a.r && l >= a.r0;
          }
        }),
        (e.type = 'sunburst'),
        e
      );
    })(en),
    X4 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), (t.ignoreStyleOnData = !0), t;
      }
      return (
        ut(e, r),
        (e.prototype.getInitialData = function (t, n) {
          var i = { name: t.name, children: t.data };
          K2(i);
          var a = (this._levelModels = Ut(
              t.levels || [],
              function (l) {
                return new Yr(l, this, n);
              },
              this
            )),
            o = V1.createTree(i, this, function s(l) {
              l.wrapMethod('getItemModel', function (u, c) {
                var f = o.getNodeByDataIndex(c),
                  d = a[f.depth];
                return d && (u.parentModel = d), u;
              });
            });
          return o.data;
        }),
        (e.prototype.optionUpdated = function () {
          this.resetViewRoot();
        }),
        (e.prototype.getDataParams = function (t) {
          var n = r.prototype.getDataParams.apply(this, arguments),
            i = this.getData().tree.getNodeByDataIndex(t);
          return (n.treePathInfo = Wg(i, this)), n;
        }),
        (e.prototype.getLevelModel = function (t) {
          return this._levelModels && this._levelModels[t.depth];
        }),
        (e.prototype.getViewRoot = function () {
          return this._viewRoot;
        }),
        (e.prototype.resetViewRoot = function (t) {
          t ? (this._viewRoot = t) : (t = this._viewRoot);
          var n = this.getRawData().tree.root;
          (!t || (t !== n && !n.contains(t))) && (this._viewRoot = n);
        }),
        (e.prototype.enableAriaDecal = function () {
          lM(this);
        }),
        (e.type = 'series.sunburst'),
        (e.defaultOption = {
          z: 2,
          center: ['50%', '50%'],
          radius: [0, '75%'],
          clockwise: !0,
          startAngle: 90,
          minAngle: 0,
          stillShowZeroSum: !0,
          nodeClick: 'rootToNode',
          renderLabelForZeroData: !1,
          label: {
            rotate: 'radial',
            show: !0,
            opacity: 1,
            align: 'center',
            position: 'inside',
            distance: 5,
            silent: !0,
          },
          itemStyle: {
            borderWidth: 1,
            borderColor: 'white',
            borderType: 'solid',
            shadowBlur: 0,
            shadowColor: 'rgba(0, 0, 0, 0.2)',
            shadowOffsetX: 0,
            shadowOffsetY: 0,
            opacity: 1,
          },
          emphasis: { focus: 'descendant' },
          blur: { itemStyle: { opacity: 0.2 }, label: { opacity: 0.1 } },
          animationType: 'expansion',
          animationDuration: 1e3,
          animationDurationUpdate: 500,
          data: [],
          sort: 'desc',
        }),
        e
      );
    })(nn);
  function K2(r) {
    var e = 0;
    F(r.children, function (n) {
      K2(n);
      var i = n.value;
      Tt(i) && (i = i[0]), (e += i);
    });
    var t = r.value;
    Tt(t) && (t = t[0]),
      (null == t || isNaN(t)) && (t = e),
      t < 0 && (t = 0),
      Tt(r.value) ? (r.value[0] = t) : (r.value = t);
  }
  var Q2 = Math.PI / 180;
  function Z4(r, e, t) {
    e.eachSeriesByType(r, function (n) {
      var i = n.get('center'),
        a = n.get('radius');
      Tt(a) || (a = [0, a]), Tt(i) || (i = [i, i]);
      var o = t.getWidth(),
        s = t.getHeight(),
        l = Math.min(o, s),
        u = Te(i[0], o),
        c = Te(i[1], s),
        f = Te(a[0], l / 2),
        d = Te(a[1], l / 2),
        v = -n.get('startAngle') * Q2,
        g = n.get('minAngle') * Q2,
        m = n.getData().tree.root,
        y = n.getViewRoot(),
        b = y.depth,
        w = n.get('sort');
      null != w && J2(y, w);
      var C = 0;
      F(y.children, function (pt) {
        !isNaN(pt.getValue()) && C++;
      });
      var D = y.getValue(),
        L = (Math.PI / (D || C)) * 2,
        M = y.depth > 0,
        O = (d - f) / (y.height - (M ? -1 : 1) || 1),
        z = n.get('clockwise'),
        H = n.get('stillShowZeroSum'),
        G = z ? 1 : -1,
        X = function (pt, Xt) {
          if (pt) {
            var Vt = Xt;
            if (pt !== m) {
              var re = pt.getValue(),
                ye = 0 === D && H ? L : re * L;
              ye < g && (ye = g), (Vt = Xt + G * ye);
              var ke = pt.depth - b - (M ? -1 : 1),
                Ye = f + O * ke,
                tr = f + O * (ke + 1),
                er = n.getLevelModel(pt);
              if (er) {
                var Cr = er.get('r0', !0),
                  Er = er.get('r', !0),
                  Dr = er.get('radius', !0);
                null != Dr && ((Cr = Dr[0]), (Er = Dr[1])),
                  null != Cr && (Ye = Te(Cr, l / 2)),
                  null != Er && (tr = Te(Er, l / 2));
              }
              pt.setLayout({
                angle: ye,
                startAngle: Xt,
                endAngle: Vt,
                clockwise: z,
                cx: u,
                cy: c,
                r0: Ye,
                r: tr,
              });
            }
            if (pt.children && pt.children.length) {
              var nr = 0;
              F(pt.children, function (Tr) {
                nr += X(Tr, Xt + nr);
              });
            }
            return Vt - Xt;
          }
        };
      if (M) {
        var ot = 2 * Math.PI;
        m.setLayout({
          angle: ot,
          startAngle: v,
          endAngle: v + ot,
          clockwise: z,
          cx: u,
          cy: c,
          r0: f,
          r: f + O,
        });
      }
      X(y, v);
    });
  }
  function J2(r, e) {
    var t = r.children || [];
    (r.children = (function q4(r, e) {
      if (fe(e)) {
        var t = Ut(r, function (i, a) {
          var o = i.getValue();
          return {
            params: {
              depth: i.depth,
              height: i.height,
              dataIndex: i.dataIndex,
              getValue: function () {
                return o;
              },
            },
            index: a,
          };
        });
        return (
          t.sort(function (i, a) {
            return e(i.params, a.params);
          }),
          Ut(t, function (i) {
            return r[i.index];
          })
        );
      }
      var n = 'asc' === e;
      return r.sort(function (i, a) {
        var o = (i.getValue() - a.getValue()) * (n ? 1 : -1);
        return 0 === o ? (i.dataIndex - a.dataIndex) * (n ? -1 : 1) : o;
      });
    })(t, e)),
      t.length &&
        F(r.children, function (n) {
          J2(n, e);
        });
  }
  function j4(r) {
    var e = {};
    r.eachSeriesByType('sunburst', function (n) {
      var i = n.getData(),
        a = i.tree;
      a.eachNode(function (o) {
        var l = o.getModel().getModel('itemStyle').getItemStyle();
        l.fill ||
          (l.fill = (function t(n, i, a) {
            for (var o = n; o && o.depth > 1; ) o = o.parentNode;
            var s = i.getColorFromPalette(o.name || o.dataIndex + '', e);
            return (
              n.depth > 1 &&
                ht(s) &&
                (s = tf(s, ((n.depth - 1) / (a - 1)) * 0.5)),
              s
            );
          })(o, n, a.root.height)),
          nt(i.ensureUniqueItemVisual(o.dataIndex, 'style'), l);
      });
    });
  }
  var tL = { color: 'fill', borderColor: 'stroke' },
    Q4 = {
      symbol: 1,
      symbolSize: 1,
      symbolKeepAspect: 1,
      legendIcon: 1,
      visualMeta: 1,
      liftZ: 1,
      decal: 1,
    },
    ll = S(),
    J4 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.optionUpdated = function () {
          (this.currentZLevel = this.get('zlevel', !0)),
            (this.currentZ = this.get('z', !0));
        }),
        (e.prototype.getInitialData = function (t, n) {
          return cs(null, this);
        }),
        (e.prototype.getDataParams = function (t, n, i) {
          var a = r.prototype.getDataParams.call(this, t, n);
          return i && (a.info = ll(i).info), a;
        }),
        (e.type = 'series.custom'),
        (e.dependencies = ['grid', 'polar', 'geo', 'singleAxis', 'calendar']),
        (e.defaultOption = {
          coordinateSystem: 'cartesian2d',
          z: 2,
          legendHoverLink: !0,
          clip: !1,
        }),
        e
      );
    })(nn);
  function tW(r, e) {
    return (
      (e = e || [0, 0]),
      Ut(
        ['x', 'y'],
        function (t, n) {
          var i = this.getAxis(t),
            a = e[n],
            o = r[n] / 2;
          return 'category' === i.type
            ? i.getBandWidth()
            : Math.abs(i.dataToCoord(a - o) - i.dataToCoord(a + o));
        },
        this
      )
    );
  }
  function rW(r, e) {
    return (
      (e = e || [0, 0]),
      Ut(
        [0, 1],
        function (t) {
          var n = e[t],
            i = r[t] / 2,
            a = [],
            o = [];
          return (
            (a[t] = n - i),
            (o[t] = n + i),
            (a[1 - t] = o[1 - t] = e[1 - t]),
            Math.abs(this.dataToPoint(a)[t] - this.dataToPoint(o)[t])
          );
        },
        this
      )
    );
  }
  function iW(r, e) {
    var t = this.getAxis(),
      n = e instanceof Array ? e[0] : e,
      i = (r instanceof Array ? r[0] : r) / 2;
    return 'category' === t.type
      ? t.getBandWidth()
      : Math.abs(t.dataToCoord(n - i) - t.dataToCoord(n + i));
  }
  function oW(r, e) {
    return (
      (e = e || [0, 0]),
      Ut(
        ['Radius', 'Angle'],
        function (t, n) {
          var a = this['get' + t + 'Axis'](),
            o = e[n],
            s = r[n] / 2,
            l =
              'category' === a.type
                ? a.getBandWidth()
                : Math.abs(a.dataToCoord(o - s) - a.dataToCoord(o + s));
          return 'Angle' === t && (l = (l * Math.PI) / 180), l;
        },
        this
      )
    );
  }
  var eL = {};
  function rL(r, e, t, n) {
    return (
      r &&
      (r.legacy ||
        (!1 !== r.legacy &&
          !t &&
          !n &&
          'tspan' !== e &&
          ('text' === e || ce(r, 'text'))))
    );
  }
  function nL(r, e, t) {
    var i,
      a,
      o,
      n = r;
    if ('text' === e) o = n;
    else {
      (o = {}),
        ce(n, 'text') && (o.text = n.text),
        ce(n, 'rich') && (o.rich = n.rich),
        ce(n, 'textFill') && (o.fill = n.textFill),
        ce(n, 'textStroke') && (o.stroke = n.textStroke),
        ce(n, 'fontFamily') && (o.fontFamily = n.fontFamily),
        ce(n, 'fontSize') && (o.fontSize = n.fontSize),
        ce(n, 'fontStyle') && (o.fontStyle = n.fontStyle),
        ce(n, 'fontWeight') && (o.fontWeight = n.fontWeight),
        (a = { type: 'text', style: o, silent: !0 }),
        (i = {});
      var s = ce(n, 'textPosition');
      t
        ? (i.position = s ? n.textPosition : 'inside')
        : s && (i.position = n.textPosition),
        ce(n, 'textPosition') && (i.position = n.textPosition),
        ce(n, 'textOffset') && (i.offset = n.textOffset),
        ce(n, 'textRotation') && (i.rotation = n.textRotation),
        ce(n, 'textDistance') && (i.distance = n.textDistance);
    }
    return (
      iL(o, r),
      F(o.rich, function (l) {
        iL(l, l);
      }),
      { textConfig: i, textContent: a }
    );
  }
  function iL(r, e) {
    e &&
      ((e.font = e.textFont || e.font),
      ce(e, 'textStrokeWidth') && (r.lineWidth = e.textStrokeWidth),
      ce(e, 'textAlign') && (r.align = e.textAlign),
      ce(e, 'textVerticalAlign') && (r.verticalAlign = e.textVerticalAlign),
      ce(e, 'textLineHeight') && (r.lineHeight = e.textLineHeight),
      ce(e, 'textWidth') && (r.width = e.textWidth),
      ce(e, 'textHeight') && (r.height = e.textHeight),
      ce(e, 'textBackgroundColor') &&
        (r.backgroundColor = e.textBackgroundColor),
      ce(e, 'textPadding') && (r.padding = e.textPadding),
      ce(e, 'textBorderColor') && (r.borderColor = e.textBorderColor),
      ce(e, 'textBorderWidth') && (r.borderWidth = e.textBorderWidth),
      ce(e, 'textBorderRadius') && (r.borderRadius = e.textBorderRadius),
      ce(e, 'textBoxShadowColor') && (r.shadowColor = e.textBoxShadowColor),
      ce(e, 'textBoxShadowBlur') && (r.shadowBlur = e.textBoxShadowBlur),
      ce(e, 'textBoxShadowOffsetX') &&
        (r.shadowOffsetX = e.textBoxShadowOffsetX),
      ce(e, 'textBoxShadowOffsetY') &&
        (r.shadowOffsetY = e.textBoxShadowOffsetY));
  }
  function aL(r, e, t) {
    var n = r;
    (n.textPosition = n.textPosition || t.position || 'inside'),
      null != t.offset && (n.textOffset = t.offset),
      null != t.rotation && (n.textRotation = t.rotation),
      null != t.distance && (n.textDistance = t.distance);
    var i = n.textPosition.indexOf('inside') >= 0,
      a = r.fill || '#000';
    oL(n, e);
    var o = null == n.textFill;
    return (
      i
        ? o &&
          ((n.textFill = t.insideFill || '#fff'),
          !n.textStroke && t.insideStroke && (n.textStroke = t.insideStroke),
          !n.textStroke && (n.textStroke = a),
          null == n.textStrokeWidth && (n.textStrokeWidth = 2))
        : (o && (n.textFill = r.fill || t.outsideFill || '#000'),
          !n.textStroke && t.outsideStroke && (n.textStroke = t.outsideStroke)),
      (n.text = e.text),
      (n.rich = e.rich),
      F(e.rich, function (s) {
        oL(s, s);
      }),
      n
    );
  }
  function oL(r, e) {
    e &&
      (ce(e, 'fill') && (r.textFill = e.fill),
      ce(e, 'stroke') && (r.textStroke = e.fill),
      ce(e, 'lineWidth') && (r.textStrokeWidth = e.lineWidth),
      ce(e, 'font') && (r.font = e.font),
      ce(e, 'fontStyle') && (r.fontStyle = e.fontStyle),
      ce(e, 'fontWeight') && (r.fontWeight = e.fontWeight),
      ce(e, 'fontSize') && (r.fontSize = e.fontSize),
      ce(e, 'fontFamily') && (r.fontFamily = e.fontFamily),
      ce(e, 'align') && (r.textAlign = e.align),
      ce(e, 'verticalAlign') && (r.textVerticalAlign = e.verticalAlign),
      ce(e, 'lineHeight') && (r.textLineHeight = e.lineHeight),
      ce(e, 'width') && (r.textWidth = e.width),
      ce(e, 'height') && (r.textHeight = e.height),
      ce(e, 'backgroundColor') && (r.textBackgroundColor = e.backgroundColor),
      ce(e, 'padding') && (r.textPadding = e.padding),
      ce(e, 'borderColor') && (r.textBorderColor = e.borderColor),
      ce(e, 'borderWidth') && (r.textBorderWidth = e.borderWidth),
      ce(e, 'borderRadius') && (r.textBorderRadius = e.borderRadius),
      ce(e, 'shadowColor') && (r.textBoxShadowColor = e.shadowColor),
      ce(e, 'shadowBlur') && (r.textBoxShadowBlur = e.shadowBlur),
      ce(e, 'shadowOffsetX') && (r.textBoxShadowOffsetX = e.shadowOffsetX),
      ce(e, 'shadowOffsetY') && (r.textBoxShadowOffsetY = e.shadowOffsetY),
      ce(e, 'textShadowColor') && (r.textShadowColor = e.textShadowColor),
      ce(e, 'textShadowBlur') && (r.textShadowBlur = e.textShadowBlur),
      ce(e, 'textShadowOffsetX') && (r.textShadowOffsetX = e.textShadowOffsetX),
      ce(e, 'textShadowOffsetY') &&
        (r.textShadowOffsetY = e.textShadowOffsetY));
  }
  function sL(r, e) {
    var t = r + '^_^' + e;
    eL[t] ||
      (console.warn(
        '[ECharts] DEPRECATED: "' + r + '" has been deprecated. ' + e
      ),
      (eL[t] = !0));
  }
  var lL = {
      position: ['x', 'y'],
      scale: ['scaleX', 'scaleY'],
      origin: ['originX', 'originY'],
    },
    uL = Ne(lL),
    rm = Oe(
      Pa,
      function (r, e) {
        return (r[e] = 1), r;
      },
      {}
    ),
    cL = Pa.join(', '),
    nm = ['', 'style', 'shape', 'extra'],
    sh = S();
  function Gx(r, e, t, n, i) {
    var a = r + 'Animation',
      o = Df(r, n, i) || {},
      s = sh(e).userDuring;
    return (
      o.duration > 0 &&
        ((o.during = s ? kt(dW, { el: e, userDuring: s }) : null),
        (o.setToFinal = !0),
        (o.scope = r)),
      nt(o, t[a]),
      o
    );
  }
  function im(r, e, t, n) {
    var i = (n = n || {}).dataIndex,
      a = n.isInit,
      o = n.clearStyle,
      s = t.isAnimationEnabled(),
      l = sh(r),
      u = e.style;
    l.userDuring = e.during;
    var c = {},
      f = {};
    if (
      ((function pW(r, e, t) {
        for (var n = 0; n < uL.length; n++) {
          var i = uL[n],
            a = lL[i],
            o = e[i];
          o && ((t[a[0]] = o[0]), (t[a[1]] = o[1]));
        }
        for (n = 0; n < Pa.length; n++) {
          var s = Pa[n];
          null != e[s] && (t[s] = e[s]);
        }
      })(0, e, f),
      dL('shape', e, f),
      dL('extra', e, f),
      !a &&
        s &&
        ((function vW(r, e, t) {
          for (
            var n = e.transition, i = Hc(n) ? Pa : qr(n || []), a = 0;
            a < i.length;
            a++
          ) {
            var o = i[a];
            if ('style' !== o && 'shape' !== o && 'extra' !== o) {
              var s = r[o];
              vL(o, 'el.transition'), (t[o] = s);
            }
          }
        })(r, e, c),
        hL('shape', r, e, c),
        hL('extra', r, e, c),
        (function gW(r, e, t, n) {
          if (t) {
            var a,
              i = r.style;
            if (i) {
              var o = t.transition,
                s = e.transition;
              if (o && !Hc(o)) {
                var l = qr(o);
                !a && (a = n.style = {});
                for (var u = 0; u < l.length; u++) a[(c = l[u])] = i[c];
              } else if (
                r.getAnimationStyleProps &&
                (Hc(s) || Hc(o) || $(s, 'style') >= 0)
              ) {
                var d = r.getAnimationStyleProps(),
                  v = d ? d.style : null;
                if (v) {
                  !a && (a = n.style = {});
                  var g = Ne(t);
                  for (u = 0; u < g.length; u++) {
                    var c;
                    v[(c = g[u])] && (a[c] = i[c]);
                  }
                }
              }
            }
          }
        })(r, e, u, c)),
      (f.style = u),
      (function uW(r, e, t) {
        var n = e.style;
        if (!r.isGroup && n) {
          if (t) {
            r.useStyle({});
            for (var i = r.animators, a = 0; a < i.length; a++) {
              var o = i[a];
              'style' === o.targetName && o.changeTarget(r.style);
            }
          }
          r.setStyle(n);
        }
        e && ((e.style = null), e && r.attr(e), (e.style = n));
      })(r, f, o),
      (function fW(r, e) {
        ce(e, 'silent') && (r.silent = e.silent),
          ce(e, 'ignore') && (r.ignore = e.ignore),
          r instanceof sa && ce(e, 'invisible') && (r.invisible = e.invisible),
          r instanceof Lr && ce(e, 'autoBatch') && (r.autoBatch = e.autoBatch);
      })(r, e),
      s)
    )
      if (a) {
        var d = {};
        F(nm, function (g) {
          var m = g ? e[g] : e;
          m &&
            m.enterFrom &&
            (g && (d[g] = d[g] || {}), nt(g ? d[g] : d, m.enterFrom));
        });
        var v = Gx('enter', r, e, t, i);
        v.duration > 0 && r.animateFrom(d, v);
      } else
        !(function cW(r, e, t, n, i) {
          if (i) {
            var a = Gx('update', r, e, n, t);
            a.duration > 0 && r.animateFrom(i, a);
          }
        })(r, e, i || 0, t, c);
    fL(r, e), u ? r.dirty() : r.markRedraw();
  }
  function fL(r, e) {
    for (var t = sh(r).leaveToProps, n = 0; n < nm.length; n++) {
      var i = nm[n],
        a = i ? e[i] : e;
      a &&
        a.leaveTo &&
        (t || (t = sh(r).leaveToProps = {}),
        i && (t[i] = t[i] || {}),
        nt(i ? t[i] : t, a.leaveTo));
    }
  }
  function am(r, e, t, n) {
    if (r) {
      var i = r.parent,
        a = sh(r).leaveToProps;
      if (a) {
        var o = Gx('update', r, e, t, 0);
        (o.done = function () {
          i.remove(r), n && n();
        }),
          r.animateTo(a, o);
      } else i.remove(r), n && n();
    }
  }
  function Hc(r) {
    return 'all' === r;
  }
  var vL,
    gs = {},
    hW = {
      setTransform: function (r, e) {
        return (
          lt(ce(rm, r), 'Only ' + cL + ' available in `setTransform`.'),
          (gs.el[r] = e),
          this
        );
      },
      getTransform: function (r) {
        return (
          lt(ce(rm, r), 'Only ' + cL + ' available in `getTransform`.'),
          gs.el[r]
        );
      },
      setShape: function (r, e) {
        lh(r);
        var t = gs.el;
        return (
          ((t.shape || (t.shape = {}))[r] = e),
          t.dirtyShape && t.dirtyShape(),
          this
        );
      },
      getShape: function (r) {
        lh(r);
        var e = gs.el.shape;
        if (e) return e[r];
      },
      setStyle: function (r, e) {
        lh(r);
        var t = gs.el,
          n = t.style;
        return (
          n &&
            (Wt(e) && ln('style.' + r + ' must not be assigned with NaN.'),
            (n[r] = e),
            t.dirtyStyle && t.dirtyStyle()),
          this
        );
      },
      getStyle: function (r) {
        lh(r);
        var e = gs.el.style;
        if (e) return e[r];
      },
      setExtra: function (r, e) {
        return lh(r), ((gs.el.extra || (gs.el.extra = {}))[r] = e), this;
      },
      getExtra: function (r) {
        lh(r);
        var e = gs.el.extra;
        if (e) return e[r];
      },
    };
  function lh(r) {
    if ('transition' === r || 'enterFrom' === r || 'leaveTo' === r)
      throw new Error('key must not be "' + r + '"');
  }
  function dW() {
    var r = this,
      e = r.el;
    if (e) {
      var t = sh(e).userDuring,
        n = r.userDuring;
      if (t !== n) return void (r.el = r.userDuring = null);
      (gs.el = e), n(hW);
    }
  }
  function hL(r, e, t, n) {
    var i = t[r];
    if (i) {
      var o,
        a = e[r];
      if (a) {
        var s = t.transition,
          l = i.transition;
        if (l)
          if ((!o && (o = n[r] = {}), Hc(l))) nt(o, a);
          else
            for (var u = qr(l), c = 0; c < u.length; c++)
              o[(f = u[c])] = d = a[f];
        else if (Hc(s) || $(s, r) >= 0) {
          !o && (o = n[r] = {});
          var v = Ne(a);
          for (c = 0; c < v.length; c++) {
            var f, d;
            mW(i[(f = v[c])], (d = a[f])) && (o[f] = d);
          }
        }
      }
    }
  }
  function dL(r, e, t) {
    var n = e[r];
    if (n)
      for (var i = (t[r] = {}), a = Ne(n), o = 0; o < a.length; o++) {
        var s = a[o];
        i[s] = Os(n[s]);
      }
  }
  function mW(r, e) {
    return sr(r) ? r !== e : null != r && isFinite(r);
  }
  vL = function (r, e) {
    ce(rm, r) ||
      ln(
        'Prop `' +
          r +
          '` is not a permitted in `' +
          e +
          '`. Only `' +
          Ne(rm).join('`, `') +
          '` are permitted.'
      );
  };
  var pL = S(),
    yW = ['percent', 'easing', 'shape', 'style', 'extra'];
  function gL(r) {
    r.stopAnimation('keyframe'), r.attr(pL(r));
  }
  function om(r, e, t) {
    if (t.isAnimationEnabled() && e) {
      if (Tt(e))
        return void F(e, function (s) {
          om(r, s, t);
        });
      var n = e.keyframes,
        i = e.duration;
      if (t && null == i) {
        var a = Df('enter', t, 0);
        i = a && a.duration;
      }
      if (n && i) {
        var o = pL(r);
        F(nm, function (s) {
          if (!s || r[s]) {
            var l,
              u = !1;
            n.sort(function (c, f) {
              return c.percent - f.percent;
            }),
              F(n, function (c) {
                var f = r.animators,
                  d = s ? c[s] : c;
                if ((c.percent >= 1 && (u = !0), d)) {
                  var v = Ne(d);
                  if (
                    (s ||
                      (v = je(v, function (y) {
                        return $(yW, y) < 0;
                      })),
                    v.length)
                  ) {
                    l || ((l = r.animate(s, e.loop, !0)).scope = 'keyframe');
                    for (var g = 0; g < f.length; g++)
                      f[g] !== l &&
                        f[g].targetName === l.targetName &&
                        f[g].stopTracks(v);
                    s && (o[s] = o[s] || {});
                    var m = s ? o[s] : o;
                    F(v, function (y) {
                      m[y] = ((s ? r[s] : r) || {})[y];
                    }),
                      l.whenWithKeys(i * c.percent, d, v, c.easing);
                  }
                }
              }),
              l &&
                (u ||
                  ln(
                    'End frame with percent: 1 is missing in the keyframeAnimation.',
                    !0
                  ),
                l
                  .delay(e.delay || 0)
                  .duration(i)
                  .start(e.easing));
          }
        });
      }
    }
  }
  var ul = 'emphasis',
    su = 'normal',
    Wx = 'blur',
    $x = 'select',
    lu = [su, ul, Wx, $x],
    Ux = {
      normal: ['itemStyle'],
      emphasis: [ul, 'itemStyle'],
      blur: [Wx, 'itemStyle'],
      select: [$x, 'itemStyle'],
    },
    Yx = {
      normal: ['label'],
      emphasis: [ul, 'label'],
      blur: [Wx, 'label'],
      select: [$x, 'label'],
    },
    xW = ['x', 'y'],
    bW = 'e\0\0',
    ho = { normal: {}, emphasis: {}, blur: {}, select: {} },
    mL = {
      cartesian2d: function eW(r) {
        var e = r.master.getRect();
        return {
          coordSys: {
            type: 'cartesian2d',
            x: e.x,
            y: e.y,
            width: e.width,
            height: e.height,
          },
          api: {
            coord: function (t) {
              return r.dataToPoint(t);
            },
            size: kt(tW, r),
          },
        };
      },
      geo: function nW(r) {
        var e = r.getBoundingRect();
        return {
          coordSys: {
            type: 'geo',
            x: e.x,
            y: e.y,
            width: e.width,
            height: e.height,
            zoom: r.getZoom(),
          },
          api: {
            coord: function (t) {
              return r.dataToPoint(t);
            },
            size: kt(rW, r),
          },
        };
      },
      single: function aW(r) {
        var e = r.getRect();
        return {
          coordSys: {
            type: 'singleAxis',
            x: e.x,
            y: e.y,
            width: e.width,
            height: e.height,
          },
          api: {
            coord: function (t) {
              return r.dataToPoint(t);
            },
            size: kt(iW, r),
          },
        };
      },
      polar: function sW(r) {
        var e = r.getRadiusAxis(),
          t = r.getAngleAxis(),
          n = e.getExtent();
        return (
          n[0] > n[1] && n.reverse(),
          {
            coordSys: { type: 'polar', cx: r.cx, cy: r.cy, r: n[1], r0: n[0] },
            api: {
              coord: function (i) {
                var a = e.dataToRadius(i[0]),
                  o = t.dataToAngle(i[1]),
                  s = r.coordToPoint([a, o]);
                return s.push(a, (o * Math.PI) / 180), s;
              },
              size: kt(oW, r),
            },
          }
        );
      },
      calendar: function lW(r) {
        var e = r.getRect(),
          t = r.getRangeInfo();
        return {
          coordSys: {
            type: 'calendar',
            x: e.x,
            y: e.y,
            width: e.width,
            height: e.height,
            cellWidth: r.getCellWidth(),
            cellHeight: r.getCellHeight(),
            rangeInfo: {
              start: t.start,
              end: t.end,
              weeks: t.weeks,
              dayCount: t.allDay,
            },
          },
          api: {
            coord: function (n, i) {
              return r.dataToPoint(n, i);
            },
          },
        };
      },
    };
  function sm(r) {
    return r instanceof Lr;
  }
  function Xx(r) {
    return r instanceof sa;
  }
  var SW = (function (r) {
    function e() {
      var t = (null !== r && r.apply(this, arguments)) || this;
      return (t.type = e.type), t;
    }
    return (
      ut(e, r),
      (e.prototype.render = function (t, n, i, a) {
        this._progressiveEls = null;
        var o = this._data,
          s = t.getData(),
          l = this.group,
          u = xL(t, s, n, i);
        o || l.removeAll(),
          s
            .diff(o)
            .add(function (f) {
              jx(i, null, f, u(f, a), t, l, s);
            })
            .remove(function (f) {
              var d = o.getItemGraphicEl(f);
              d && am(d, ll(d).option, t);
            })
            .update(function (f, d) {
              var v = o.getItemGraphicEl(d);
              jx(i, v, f, u(f, a), t, l, s);
            })
            .execute();
        var c = t.get('clip', !0) ? Ig(t.coordinateSystem, !1, t) : null;
        c ? l.setClipPath(c) : l.removeClipPath(), (this._data = s);
      }),
      (e.prototype.incrementalPrepareRender = function (t, n, i) {
        this.group.removeAll(), (this._data = null);
      }),
      (e.prototype.incrementalRender = function (t, n, i, a, o) {
        var s = n.getData(),
          l = xL(n, s, i, a),
          u = (this._progressiveEls = []);
        function c(v) {
          v.isGroup ||
            ((v.incremental = !0), (v.ensureState('emphasis').hoverLayer = !0));
        }
        for (var f = t.start; f < t.end; f++) {
          var d = jx(null, null, f, l(f, o), n, this.group, s);
          d && (d.traverse(c), u.push(d));
        }
      }),
      (e.prototype.eachRendered = function (t) {
        Xl(this._progressiveEls || this.group, t);
      }),
      (e.prototype.filterForExposedEvent = function (t, n, i, a) {
        var o = n.element;
        if (null == o || i.name === o) return !0;
        for (; (i = i.__hostTarget || i.parent) && i !== this.group; )
          if (i.name === o) return !0;
        return !1;
      }),
      (e.type = 'custom'),
      e
    );
  })(en);
  function Zx(r) {
    var t,
      e = r.type;
    if ('path' === e) {
      var n = r.shape,
        i =
          null != n.width && null != n.height
            ? { x: n.x || 0, y: n.y || 0, width: n.width, height: n.height }
            : null,
        a = CL(n);
      (t = od(a, null, i, n.layout || 'center')), (ll(t).customPathData = a);
    } else if ('image' === e)
      (t = new ai({})), (ll(t).customImagePath = r.style.image);
    else if ('text' === e) t = new Or({});
    else if ('group' === e) t = new Qe();
    else {
      if ('compoundPath' === e)
        throw new Error('"compoundPath" is not supported yet.');
      var o = Dp(e);
      o || zr('graphic type "' + e + '" can not be found.'), (t = new o());
    }
    return (
      (ll(t).customGraphicType = e),
      (t.name = r.name),
      (t.z2EmphasisLift = 1),
      (t.z2SelectLift = 1),
      t
    );
  }
  function qx(r, e, t, n, i, a, o) {
    gL(e);
    var s = i && i.normal.cfg;
    s && e.setTextConfig(s), n && null == n.transition && (n.transition = xW);
    var l = n && n.style;
    if (l) {
      if ('text' === e.type) {
        var u = l;
        ce(u, 'textFill') && (u.fill = u.textFill),
          ce(u, 'textStroke') && (u.stroke = u.textStroke);
      }
      var c = void 0,
        f = sm(e) ? l.decal : null;
      r && f && ((f.dirty = !0), (c = $f(f, r))), (l.__decalPattern = c);
    }
    Xx(e) && l && (c = l.__decalPattern) && (l.decal = c),
      im(e, n, a, { dataIndex: t, isInit: o, clearStyle: !0 }),
      om(e, n.keyframeAnimation, a);
  }
  function yL(r, e, t, n, i) {
    var a = e.isGroup ? null : e,
      o = i && i[r].cfg;
    if (a) {
      var s = a.ensureState(r);
      if (!1 === n) {
        var l = a.getState(r);
        l && (l.style = null);
      } else s.style = n || null;
      o && (s.textConfig = o), nc(a);
    }
  }
  function CW(r, e, t) {
    var n = t === su,
      i = n ? e : lm(e, t),
      a = i ? i.z2 : null;
    null != a && ((n ? r : r.ensureState(t)).z2 = a || 0);
  }
  function xL(r, e, t, n) {
    var i = r.get('renderItem'),
      a = r.coordinateSystem,
      o = {};
    a &&
      (lt(i, 'series.render is required.'),
      lt(
        a.prepareCustoms || mL[a.type],
        'This coordSys does not support custom series.'
      ),
      (o = a.prepareCustoms ? a.prepareCustoms(a) : mL[a.type](a)));
    for (
      var u,
        c,
        s = Ot(
          {
            getWidth: n.getWidth,
            getHeight: n.getHeight,
            getZr: n.getZr,
            getDevicePixelRatio: n.getDevicePixelRatio,
            value: function D(tt, ot) {
              return (
                null == ot && (ot = u),
                e.getStore().get(e.getDimensionIndex(tt || 0), ot)
              );
            },
            style: function M(tt, ot) {
              sL('api.style', 'Please write literal style directly instead.'),
                null == ot && (ot = u);
              var pt = e.getItemVisual(ot, 'style'),
                Xt = pt && pt.fill,
                Vt = pt && pt.opacity,
                re = w(ot, su).getItemStyle();
              null != Xt && (re.fill = Xt), null != Vt && (re.opacity = Vt);
              var ye = { inheritColor: ht(Xt) ? Xt : '#000' },
                ke = C(ot, su),
                Ye = on(ke, null, ye, !1, !0);
              Ye.text = ke.getShallow('show')
                ? B(r.getFormattedLabel(ot, su), Kf(e, ot))
                : null;
              var tr = Lp(ke, ye, !1);
              return (
                z(tt, re),
                (re = aL(re, Ye, tr)),
                tt && O(re, tt),
                (re.legacy = !0),
                re
              );
            },
            ordinalRawValue: function L(tt, ot) {
              null == ot && (ot = u);
              var pt = e.getDimensionInfo((tt = tt || 0));
              if (!pt) {
                var Xt = e.getDimensionIndex(tt);
                return Xt >= 0 ? e.getStore().get(Xt, ot) : void 0;
              }
              var Vt = e.get(pt.name, ot),
                re = pt && pt.ordinalMeta;
              return re ? re.categories[Vt] : Vt;
            },
            styleEmphasis: function E(tt, ot) {
              sL(
                'api.styleEmphasis',
                'Please write literal style directly instead.'
              ),
                null == ot && (ot = u);
              var pt = w(ot, ul).getItemStyle(),
                Xt = C(ot, ul),
                Vt = on(Xt, null, null, !0, !0);
              Vt.text = Xt.getShallow('show')
                ? J(
                    r.getFormattedLabel(ot, ul),
                    r.getFormattedLabel(ot, su),
                    Kf(e, ot)
                  )
                : null;
              var re = Lp(Xt, null, !0);
              return (
                z(tt, pt),
                (pt = aL(pt, Vt, re)),
                tt && O(pt, tt),
                (pt.legacy = !0),
                pt
              );
            },
            visual: function H(tt, ot) {
              if ((null == ot && (ot = u), ce(tL, tt))) {
                var pt = e.getItemVisual(ot, 'style');
                return pt ? pt[tL[tt]] : null;
              }
              if (ce(Q4, tt)) return e.getItemVisual(ot, tt);
            },
            barLayout: function G(tt) {
              if ('cartesian2d' === a.type)
                return (function nB(r) {
                  var e = [],
                    t = r.axis,
                    n = 'axis0';
                  if ('category' === t.type) {
                    for (var i = t.getBandWidth(), a = 0; a < r.count; a++)
                      e.push(
                        Ot({ bandWidth: i, axisKey: n, stackId: N0 + a }, r)
                      );
                    var o = fD(e),
                      s = [];
                    for (a = 0; a < r.count; a++) {
                      var l = o[n][N0 + a];
                      (l.offsetCenter = l.offset + l.width / 2), s.push(l);
                    }
                    return s;
                  }
                })(Ot({ axis: a.getBaseAxis() }, tt));
            },
            currentSeriesIndices: function X() {
              return t.getCurrentSeriesIndices();
            },
            font: function K(tt) {
              return gS(tt, t);
            },
          },
          o.api || {}
        ),
        l = {
          context: {},
          seriesId: r.id,
          seriesName: r.name,
          seriesIndex: r.seriesIndex,
          coordSys: o.coordSys,
          dataInsideLength: e.count(),
          encode: DW(r.getData()),
        },
        f = {},
        d = {},
        v = {},
        g = {},
        m = 0;
      m < lu.length;
      m++
    ) {
      var y = lu[m];
      (v[y] = r.getModel(Ux[y])), (g[y] = r.getModel(Yx[y]));
    }
    function b(tt) {
      return tt === u ? c || (c = e.getItemModel(tt)) : e.getItemModel(tt);
    }
    function w(tt, ot) {
      return e.hasItemOption
        ? tt === u
          ? f[ot] || (f[ot] = b(tt).getModel(Ux[ot]))
          : b(tt).getModel(Ux[ot])
        : v[ot];
    }
    function C(tt, ot) {
      return e.hasItemOption
        ? tt === u
          ? d[ot] || (d[ot] = b(tt).getModel(Yx[ot]))
          : b(tt).getModel(Yx[ot])
        : g[ot];
    }
    return function (tt, ot) {
      return (
        (u = tt),
        (c = null),
        (f = {}),
        (d = {}),
        i &&
          i(
            Ot(
              {
                dataIndexInside: tt,
                dataIndex: e.getRawIndex(tt),
                actionType: ot ? ot.type : null,
              },
              l
            ),
            s
          )
      );
    };
    function O(tt, ot) {
      for (var pt in ot) ce(ot, pt) && (tt[pt] = ot[pt]);
    }
    function z(tt, ot) {
      tt &&
        (tt.textFill && (ot.textFill = tt.textFill),
        tt.textPosition && (ot.textPosition = tt.textPosition));
    }
  }
  function DW(r) {
    var e = {};
    return (
      F(r.dimensions, function (t) {
        var n = r.getDimensionInfo(t);
        if (!n.isExtraCoord) {
          var i = n.coordDim;
          (e[i] = e[i] || [])[n.coordDimIndex] = r.getDimensionIndex(t);
        }
      }),
      e
    );
  }
  function jx(r, e, t, n, i, a, o) {
    if (n) {
      var s = Kx(r, e, t, n, i, a);
      return (
        s && o.setItemGraphicEl(t, s),
        s && wn(s, n.focus, n.blurScope, n.emphasisDisabled),
        s
      );
    }
    a.remove(e);
  }
  function Kx(r, e, t, n, i, a) {
    lt(n, 'should not have an null/undefined element setting');
    var o = -1,
      s = e;
    e && bL(e, n, i) && ((o = $(a.childrenRef(), e)), (e = null));
    var l = !e,
      u = e;
    u
      ? u.clearStates()
      : ((u = Zx(n)),
        s &&
          (function _W(r, e) {
            e.copyTransform(r),
              Xx(e) &&
                Xx(r) &&
                (e.setStyle(r.style),
                (e.z = r.z),
                (e.z2 = r.z2),
                (e.zlevel = r.zlevel),
                (e.invisible = r.invisible),
                (e.ignore = r.ignore),
                sm(e) && sm(r) && e.setShape(r.shape));
          })(s, u)),
      !1 === n.morph
        ? (u.disableMorphing = !0)
        : u.disableMorphing && (u.disableMorphing = !1),
      (ho.normal.cfg =
        ho.normal.conOpt =
        ho.emphasis.cfg =
        ho.emphasis.conOpt =
        ho.blur.cfg =
        ho.blur.conOpt =
        ho.select.cfg =
        ho.select.conOpt =
          null),
      (ho.isLegacy = !1),
      (function AW(r, e, t, n, i, a) {
        if (!r.isGroup) {
          _L(t, null, a), _L(t, ul, a);
          var o = a.normal.conOpt;
          if (
            null != o ||
            null != a.emphasis.conOpt ||
            null != a.select.conOpt ||
            null != a.blur.conOpt
          ) {
            var c = r.getTextContent();
            if (!1 === o) c && r.removeTextContent();
            else {
              (o = a.normal.conOpt = o || { type: 'text' }),
                c ? c.clearStates() : ((c = Zx(o)), r.setTextContent(c)),
                qx(null, c, e, o, null, n, i);
              for (var f = o && o.style, d = 0; d < lu.length; d++) {
                var v = lu[d];
                if (v !== su) yL(v, c, 0, Qx(o, a[v].conOpt, v), null);
              }
              f ? c.dirty() : c.markRedraw();
            }
          }
        }
      })(u, t, n, i, l, ho),
      (function TW(r, e, t, n, i) {
        var a = t.clipPath;
        if (!1 === a) r && r.getClipPath() && r.removeClipPath();
        else if (a) {
          var o = r.getClipPath();
          o && bL(o, a, n) && (o = null),
            o ||
              (lt(
                sm((o = Zx(a))),
                'Only any type of `path` can be used in `clipPath`, rather than ' +
                  o.type +
                  '.'
              ),
              r.setClipPath(o)),
            qx(null, o, e, a, null, n, i);
        }
      })(u, t, n, i, l),
      qx(r, u, t, n, ho, i, l),
      ce(n, 'info') && (ll(u).info = n.info);
    for (var c = 0; c < lu.length; c++) {
      var f = lu[c];
      if (f !== su) yL(f, u, 0, Qx(n, lm(n, f), f), ho);
    }
    return (
      (function wW(r, e, t) {
        if (!r.isGroup) {
          var n = r,
            a = t.currentZLevel;
          (n.z = t.currentZ), (n.zlevel = a);
          var o = e.z2;
          null != o && (n.z2 = o || 0);
          for (var s = 0; s < lu.length; s++) CW(n, e, lu[s]);
        }
      })(u, n, i),
      'group' === n.type &&
        (function MW(r, e, t, n, i) {
          var a = n.children,
            o = a ? a.length : 0,
            s = n.$mergeChildren,
            l = 'byName' === s || n.diffChildrenByName,
            u = !1 === s;
          if (o || l || u) {
            if (l)
              return void (function IW(r) {
                new nl(r.oldChildren, r.newChildren, SL, SL, r)
                  .add(wL)
                  .update(wL)
                  .remove(kW)
                  .execute();
              })({
                api: r,
                oldChildren: e.children() || [],
                newChildren: a || [],
                dataIndex: t,
                seriesModel: i,
                group: e,
              });
            u && e.removeAll();
            for (var c = 0; c < o; c++) {
              var f = a[c],
                d = e.childAt(c);
              f
                ? (null == f.ignore && (f.ignore = !1), Kx(r, d, t, f, i, e))
                : (lt(
                    d,
                    'renderItem should not return a group containing elements as null/undefined/{} if they do not exist before.'
                  ),
                  (d.ignore = !0));
            }
            for (var v = e.childCount() - 1; v >= c; v--) {
              var g = e.childAt(v);
              LW(e, g, i);
            }
          }
        })(r, u, t, n, i),
      o >= 0 ? a.replaceAt(u, o) : a.add(u),
      u
    );
  }
  function bL(r, e, t) {
    var n = ll(r),
      i = e.type,
      a = e.shape,
      o = e.style;
    return (
      t.isUniversalTransitionEnabled() ||
      (null != i && i !== n.customGraphicType) ||
      ('path' === i &&
        (function EW(r) {
          return r && (ce(r, 'pathData') || ce(r, 'd'));
        })(a) &&
        CL(a) !== n.customPathData) ||
      ('image' === i && ce(o, 'image') && o.image !== n.customImagePath)
    );
  }
  function _L(r, e, t) {
    var n = e ? lm(r, e) : r,
      i = e ? Qx(r, n, ul) : r.style,
      a = r.type,
      o = n ? n.textConfig : null,
      s = r.textContent,
      l = s ? (e ? lm(s, e) : s) : null;
    if (i && (t.isLegacy || rL(i, a, !!o, !!l))) {
      t.isLegacy = !0;
      var u = nL(i, a, !e);
      !o && u.textConfig && (o = u.textConfig),
        !l && u.textContent && (l = u.textContent);
    }
    if (!e && l) {
      var c = l;
      !c.type && (c.type = 'text'),
        lt('text' === c.type, 'textContent.type must be "text"');
    }
    var f = e ? t[e] : t.normal;
    (f.cfg = o), (f.conOpt = l);
  }
  function lm(r, e) {
    return e ? (r ? r[e] : null) : r;
  }
  function Qx(r, e, t) {
    var n = e && e.style;
    return null == n && t === ul && r && (n = r.styleEmphasis), n;
  }
  function LW(r, e, t) {
    e && am(e, ll(r).option, t);
  }
  function SL(r, e) {
    return (r && r.name) ?? bW + e;
  }
  function wL(r, e) {
    var t = this.context;
    Kx(
      t.api,
      null != e ? t.oldChildren[e] : null,
      t.dataIndex,
      null != r ? t.newChildren[r] : null,
      t.seriesModel,
      t.group
    );
  }
  function kW(r) {
    var e = this.context,
      t = e.oldChildren[r];
    t && am(t, ll(t).option, e.seriesModel);
  }
  function CL(r) {
    return r && (r.pathData || r.d);
  }
  var Gc = S(),
    DL = ft,
    Jx = kt,
    tb = (function () {
      function r() {
        (this._dragging = !1), (this.animationThreshold = 15);
      }
      return (
        (r.prototype.render = function (e, t, n, i) {
          var a = t.get('value'),
            o = t.get('status');
          if (
            ((this._axisModel = e),
            (this._axisPointerModel = t),
            (this._api = n),
            i || this._lastValue !== a || this._lastStatus !== o)
          ) {
            (this._lastValue = a), (this._lastStatus = o);
            var s = this._group,
              l = this._handle;
            if (!o || 'hide' === o) return s && s.hide(), void (l && l.hide());
            s && s.show(), l && l.show();
            var u = {};
            this.makeElOption(u, a, e, t, n);
            var c = u.graphicKey;
            c !== this._lastGraphicKey && this.clear(n),
              (this._lastGraphicKey = c);
            var f = (this._moveAnimation = this.determineAnimation(e, t));
            if (s) {
              var d = me(TL, t, f);
              this.updatePointerEl(s, u, d), this.updateLabelEl(s, u, d, t);
            } else
              (s = this._group = new Qe()),
                this.createPointerEl(s, u, e, t),
                this.createLabelEl(s, u, e, t),
                n.getZr().add(s);
            LL(s, t, !0), this._renderHandle(a);
          }
        }),
        (r.prototype.remove = function (e) {
          this.clear(e);
        }),
        (r.prototype.dispose = function (e) {
          this.clear(e);
        }),
        (r.prototype.determineAnimation = function (e, t) {
          var n = t.get('animation'),
            i = e.axis,
            a = 'category' === i.type,
            o = t.get('snap');
          if (!o && !a) return !1;
          if ('auto' === n || null == n) {
            var s = this.animationThreshold;
            if (a && i.getBandWidth() > s) return !0;
            if (o) {
              var l = S1(e).seriesDataCount,
                u = i.getExtent();
              return Math.abs(u[0] - u[1]) / l > s;
            }
            return !1;
          }
          return !0 === n;
        }),
        (r.prototype.makeElOption = function (e, t, n, i, a) {}),
        (r.prototype.createPointerEl = function (e, t, n, i) {
          var a = t.pointer;
          if (a) {
            var o = (Gc(e).pointerEl = new ud[a.type](DL(t.pointer)));
            e.add(o);
          }
        }),
        (r.prototype.createLabelEl = function (e, t, n, i) {
          if (t.label) {
            var a = (Gc(e).labelEl = new Or(DL(t.label)));
            e.add(a), ML(a, i);
          }
        }),
        (r.prototype.updatePointerEl = function (e, t, n) {
          var i = Gc(e).pointerEl;
          i &&
            t.pointer &&
            (i.setStyle(t.pointer.style), n(i, { shape: t.pointer.shape }));
        }),
        (r.prototype.updateLabelEl = function (e, t, n, i) {
          var a = Gc(e).labelEl;
          a &&
            (a.setStyle(t.label.style),
            n(a, { x: t.label.x, y: t.label.y }),
            ML(a, i));
        }),
        (r.prototype._renderHandle = function (e) {
          if (!this._dragging && this.updateHandleTransform) {
            var s,
              t = this._axisPointerModel,
              n = this._api.getZr(),
              i = this._handle,
              a = t.getModel('handle'),
              o = t.get('status');
            if (!a.get('show') || !o || 'hide' === o)
              return i && n.remove(i), void (this._handle = null);
            this._handle ||
              ((s = !0),
              (i = this._handle =
                Mf(a.get('icon'), {
                  cursor: 'move',
                  draggable: !0,
                  onmousemove: function (u) {
                    fi(u.event);
                  },
                  onmousedown: Jx(this._onHandleDragMove, this, 0, 0),
                  drift: Jx(this._onHandleDragMove, this),
                  ondragend: Jx(this._onHandleDragEnd, this),
                })),
              n.add(i)),
              LL(i, t, !1),
              i.setStyle(
                a.getItemStyle(null, [
                  'color',
                  'borderColor',
                  'borderWidth',
                  'opacity',
                  'shadowColor',
                  'shadowBlur',
                  'shadowOffsetX',
                  'shadowOffsetY',
                ])
              );
            var l = a.get('size');
            Tt(l) || (l = [l, l]),
              (i.scaleX = l[0] / 2),
              (i.scaleY = l[1] / 2),
              Vf(
                this,
                '_doDispatchAxisPointer',
                a.get('throttle') || 0,
                'fixRate'
              ),
              this._moveHandleToValue(e, s);
          }
        }),
        (r.prototype._moveHandleToValue = function (e, t) {
          TL(
            this._axisPointerModel,
            !t && this._moveAnimation,
            this._handle,
            eb(
              this.getHandleTransform(
                e,
                this._axisModel,
                this._axisPointerModel
              )
            )
          );
        }),
        (r.prototype._onHandleDragMove = function (e, t) {
          var n = this._handle;
          if (n) {
            this._dragging = !0;
            var i = this.updateHandleTransform(
              eb(n),
              [e, t],
              this._axisModel,
              this._axisPointerModel
            );
            (this._payloadInfo = i),
              n.stopAnimation(),
              n.attr(eb(i)),
              (Gc(n).lastProp = null),
              this._doDispatchAxisPointer();
          }
        }),
        (r.prototype._doDispatchAxisPointer = function () {
          if (this._handle) {
            var t = this._payloadInfo,
              n = this._axisModel;
            this._api.dispatchAction({
              type: 'updateAxisPointer',
              x: t.cursorPoint[0],
              y: t.cursorPoint[1],
              tooltipOption: t.tooltipOption,
              axesInfo: [{ axisDim: n.axis.dim, axisIndex: n.componentIndex }],
            });
          }
        }),
        (r.prototype._onHandleDragEnd = function () {
          if (((this._dragging = !1), this._handle)) {
            var t = this._axisPointerModel.get('value');
            this._moveHandleToValue(t),
              this._api.dispatchAction({ type: 'hideTip' });
          }
        }),
        (r.prototype.clear = function (e) {
          (this._lastValue = null), (this._lastStatus = null);
          var t = e.getZr(),
            n = this._group,
            i = this._handle;
          t &&
            n &&
            ((this._lastGraphicKey = null),
            n && t.remove(n),
            i && t.remove(i),
            (this._group = null),
            (this._handle = null),
            (this._payloadInfo = null)),
            wd(this, '_doDispatchAxisPointer');
        }),
        (r.prototype.doClear = function () {}),
        (r.prototype.buildLabel = function (e, t, n) {
          return {
            x: e[(n = n || 0)],
            y: e[1 - n],
            width: t[n],
            height: t[1 - n],
          };
        }),
        r
      );
    })();
  function TL(r, e, t, n) {
    AL(Gc(t).lastProp, n) ||
      ((Gc(t).lastProp = n), e ? Wr(t, n, r) : (t.stopAnimation(), t.attr(n)));
  }
  function AL(r, e) {
    if (Y(r) && Y(e)) {
      var t = !0;
      return (
        F(e, function (n, i) {
          t = t && AL(r[i], n);
        }),
        !!t
      );
    }
    return r === e;
  }
  function ML(r, e) {
    r[e.get(['label', 'show']) ? 'show' : 'hide']();
  }
  function eb(r) {
    return { x: r.x || 0, y: r.y || 0, rotation: r.rotation || 0 };
  }
  function LL(r, e, t) {
    var n = e.get('z'),
      i = e.get('zlevel');
    r &&
      r.traverse(function (a) {
        'group' !== a.type &&
          (null != n && (a.z = n), null != i && (a.zlevel = i), (a.silent = t));
      });
  }
  function rb(r) {
    var n,
      e = r.get('type'),
      t = r.getModel(e + 'Style');
    return (
      'line' === e
        ? ((n = t.getLineStyle()).fill = null)
        : 'shadow' === e && ((n = t.getAreaStyle()).stroke = null),
      n
    );
  }
  function IL(r, e, t, n, i) {
    var o = kL(t.get('value'), e.axis, e.ecModel, t.get('seriesDataIndices'), {
        precision: t.get(['label', 'precision']),
        formatter: t.get(['label', 'formatter']),
      }),
      s = t.getModel('label'),
      l = lc(s.get('padding') || 0),
      u = s.getFont(),
      c = kl(o, u),
      f = i.position,
      d = c.width + l[1] + l[3],
      v = c.height + l[0] + l[2],
      g = i.align;
    'right' === g && (f[0] -= d), 'center' === g && (f[0] -= d / 2);
    var m = i.verticalAlign;
    'bottom' === m && (f[1] -= v),
      'middle' === m && (f[1] -= v / 2),
      (function RW(r, e, t, n) {
        var i = n.getWidth(),
          a = n.getHeight();
        (r[0] = Math.min(r[0] + e, i) - e),
          (r[1] = Math.min(r[1] + t, a) - t),
          (r[0] = Math.max(r[0], 0)),
          (r[1] = Math.max(r[1], 0));
      })(f, d, v, n);
    var y = s.get('backgroundColor');
    (!y || 'auto' === y) && (y = e.get(['axisLine', 'lineStyle', 'color'])),
      (r.label = {
        x: f[0],
        y: f[1],
        style: on(s, {
          text: o,
          font: u,
          fill: s.getTextColor(),
          padding: l,
          backgroundColor: y,
        }),
        z2: 10,
      });
  }
  function kL(r, e, t, n, i) {
    r = e.scale.parse(r);
    var a = e.scale.getLabel({ value: r }, { precision: i.precision }),
      o = i.formatter;
    if (o) {
      var s = {
        value: W0(e, { value: r }),
        axisDimension: e.dim,
        axisIndex: e.index,
        seriesData: [],
      };
      F(n, function (l) {
        var u = t.getSeriesByIndex(l.seriesIndex),
          f = u && u.getDataParams(l.dataIndexInside);
        f && s.seriesData.push(f);
      }),
        ht(o) ? (a = o.replace('{value}', a)) : fe(o) && (a = o(s));
    }
    return a;
  }
  function nb(r, e, t) {
    var n = [1, 0, 0, 1, 0, 0];
    return (
      ka(n, n, t.rotation),
      Ri(n, n, t.position),
      Oo(
        [
          r.dataToCoord(e),
          (t.labelOffset || 0) + (t.labelDirection || 1) * (t.labelMargin || 0),
        ],
        n
      )
    );
  }
  function EL(r, e, t, n, i, a) {
    var o = va.innerTextLayout(t.rotation, 0, t.labelDirection);
    (t.labelMargin = i.get(['label', 'margin'])),
      IL(e, n, i, a, {
        position: nb(n.axis, r, t),
        align: o.textAlign,
        verticalAlign: o.textVerticalAlign,
      });
  }
  function ib(r, e, t) {
    return { x1: r[(t = t || 0)], y1: r[1 - t], x2: e[t], y2: e[1 - t] };
  }
  function PL(r, e, t) {
    return { x: r[(t = t || 0)], y: r[1 - t], width: e[t], height: e[1 - t] };
  }
  function RL(r, e, t, n, i, a) {
    return {
      cx: r,
      cy: e,
      r0: t,
      r: n,
      startAngle: i,
      endAngle: a,
      clockwise: !0,
    };
  }
  var OW = (function (r) {
    function e() {
      return (null !== r && r.apply(this, arguments)) || this;
    }
    return (
      ut(e, r),
      (e.prototype.makeElOption = function (t, n, i, a, o) {
        var s = i.axis,
          l = s.grid,
          u = a.get('type'),
          c = OL(l, s).getOtherAxis(s).getGlobalExtent(),
          f = s.toGlobalCoord(s.dataToCoord(n, !0));
        if (u && 'none' !== u) {
          var d = rb(a),
            v = FW[u](s, f, c);
          (v.style = d), (t.graphicKey = v.type), (t.pointer = v);
        }
        EL(n, t, y1(l.model, i), i, a, o);
      }),
      (e.prototype.getHandleTransform = function (t, n, i) {
        var a = y1(n.axis.grid.model, n, { labelInside: !1 });
        a.labelMargin = i.get(['handle', 'margin']);
        var o = nb(n.axis, t, a);
        return {
          x: o[0],
          y: o[1],
          rotation: a.rotation + (a.labelDirection < 0 ? Math.PI : 0),
        };
      }),
      (e.prototype.updateHandleTransform = function (t, n, i, a) {
        var o = i.axis,
          s = o.grid,
          l = o.getGlobalExtent(!0),
          u = OL(s, o).getOtherAxis(o).getGlobalExtent(),
          c = 'x' === o.dim ? 0 : 1,
          f = [t.x, t.y];
        (f[c] += n[c]),
          (f[c] = Math.min(l[1], f[c])),
          (f[c] = Math.max(l[0], f[c]));
        var d = (u[1] + u[0]) / 2,
          v = [d, d];
        return (
          (v[c] = f[c]),
          {
            x: f[0],
            y: f[1],
            rotation: t.rotation,
            cursorPoint: v,
            tooltipOption: [{ verticalAlign: 'middle' }, { align: 'center' }][
              c
            ],
          }
        );
      }),
      e
    );
  })(tb);
  function OL(r, e) {
    var t = {};
    return (t[e.dim + 'AxisIndex'] = e.index), r.getCartesian(t);
  }
  var FW = {
    line: function (r, e, t) {
      return {
        type: 'Line',
        subPixelOptimize: !0,
        shape: ib([e, t[0]], [e, t[1]], FL(r)),
      };
    },
    shadow: function (r, e, t) {
      var n = Math.max(1, r.getBandWidth());
      return {
        type: 'Rect',
        shape: PL([e - n / 2, t[0]], [n, t[1] - t[0]], FL(r)),
      };
    },
  };
  function FL(r) {
    return 'x' === r.dim ? 0 : 1;
  }
  var BW = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.type = 'axisPointer'),
        (e.defaultOption = {
          show: 'auto',
          z: 50,
          type: 'line',
          snap: !1,
          triggerTooltip: !0,
          triggerEmphasis: !0,
          value: null,
          status: null,
          link: [],
          animation: null,
          animationDurationUpdate: 200,
          lineStyle: { color: '#B9BEC9', width: 1, type: 'dashed' },
          shadowStyle: { color: 'rgba(210,219,238,0.2)' },
          label: {
            show: !0,
            formatter: null,
            precision: 'auto',
            margin: 3,
            color: '#fff',
            padding: [5, 7, 5, 7],
            backgroundColor: 'auto',
            borderColor: null,
            borderWidth: 0,
            borderRadius: 3,
          },
          handle: {
            show: !1,
            icon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z',
            size: 45,
            margin: 50,
            color: '#333',
            shadowBlur: 3,
            shadowColor: '#aaa',
            shadowOffsetX: 0,
            shadowOffsetY: 2,
            throttle: 40,
          },
        }),
        e
      );
    })(br),
    cl = S(),
    NW = F;
  function BL(r, e, t) {
    if (!Lt.node) {
      var n = e.getZr();
      cl(n).records || (cl(n).records = {}),
        (function zW(r, e) {
          function t(n, i) {
            r.on(n, function (a) {
              var o = (function GW(r) {
                var e = { showTip: [], hideTip: [] },
                  t = function (n) {
                    var i = e[n.type];
                    i
                      ? i.push(n)
                      : ((n.dispatchAction = t), r.dispatchAction(n));
                  };
                return { dispatchAction: t, pendings: e };
              })(e);
              NW(cl(r).records, function (s) {
                s && i(s, a, o.dispatchAction);
              }),
                (function VW(r, e) {
                  var i,
                    t = r.showTip.length,
                    n = r.hideTip.length;
                  t ? (i = r.showTip[t - 1]) : n && (i = r.hideTip[n - 1]),
                    i && ((i.dispatchAction = null), e.dispatchAction(i));
                })(o.pendings, e);
            });
          }
          cl(r).initialized ||
            ((cl(r).initialized = !0),
            t('click', me(NL, 'click')),
            t('mousemove', me(NL, 'mousemove')),
            t('globalout', HW));
        })(n, e),
        ((cl(n).records[r] || (cl(n).records[r] = {})).handler = t);
    }
  }
  function HW(r, e, t) {
    r.handler('leave', null, t);
  }
  function NL(r, e, t, n) {
    e.handler(r, t, n);
  }
  function ab(r, e) {
    if (!Lt.node) {
      var t = e.getZr();
      (cl(t).records || {})[r] && (cl(t).records[r] = null);
    }
  }
  var WW = (function (r) {
    function e() {
      var t = (null !== r && r.apply(this, arguments)) || this;
      return (t.type = e.type), t;
    }
    return (
      ut(e, r),
      (e.prototype.render = function (t, n, i) {
        var a = n.getComponent('tooltip'),
          o =
            t.get('triggerOn') ||
            (a && a.get('triggerOn')) ||
            'mousemove|click';
        BL('axisPointer', i, function (s, l, u) {
          'none' !== o &&
            ('leave' === s || o.indexOf(s) >= 0) &&
            u({
              type: 'updateAxisPointer',
              currTrigger: s,
              x: l && l.offsetX,
              y: l && l.offsetY,
            });
        });
      }),
      (e.prototype.remove = function (t, n) {
        ab('axisPointer', n);
      }),
      (e.prototype.dispose = function (t, n) {
        ab('axisPointer', n);
      }),
      (e.type = 'axisPointer'),
      e
    );
  })(fn);
  function zL(r, e) {
    var i,
      t = [],
      n = r.seriesIndex;
    if (null == n || !(i = e.getSeriesByIndex(n))) return { point: [] };
    var a = i.getData(),
      o = x(a, r);
    if (null == o || o < 0 || Tt(o)) return { point: [] };
    var s = a.getItemGraphicEl(o),
      l = i.coordinateSystem;
    if (i.getTooltipPosition) t = i.getTooltipPosition(o) || [];
    else if (l && l.dataToPoint)
      if (r.isStacked) {
        var u = l.getBaseAxis(),
          f = l.getOtherAxis(u).dim,
          v = 'x' === f || 'radius' === f ? 1 : 0,
          g = a.mapDimension(u.dim),
          m = [];
        (m[v] = a.get(g, o)),
          (m[1 - v] = a.get(a.getCalculationInfo('stackResultDimension'), o)),
          (t = l.dataToPoint(m) || []);
      } else
        t =
          l.dataToPoint(
            a.getValues(
              Ut(l.dimensions, function (b) {
                return a.mapDimension(b);
              }),
              o
            )
          ) || [];
    else if (s) {
      var y = s.getBoundingRect().clone();
      y.applyTransform(s.transform),
        (t = [y.x + y.width / 2, y.y + y.height / 2]);
    }
    return { point: t, el: s };
  }
  var VL = S();
  function $W(r, e, t) {
    var n = r.currTrigger,
      i = [r.x, r.y],
      a = r,
      o = r.dispatchAction || kt(t.dispatchAction, t),
      s = e.getComponent('axisPointer').coordSysAxesInfo;
    if (s) {
      um(i) &&
        (i = zL(
          { seriesIndex: a.seriesIndex, dataIndex: a.dataIndex },
          e
        ).point);
      var l = um(i),
        u = a.axesInfo,
        c = s.axesInfo,
        f = 'leave' === n || um(i),
        d = {},
        v = {},
        g = { list: [], map: {} },
        m = { showPointer: me(YW, v), showTooltip: me(XW, g) };
      F(s.coordSysMap, function (b, w) {
        var C = l || b.containPoint(i);
        F(s.coordSysAxesInfo[w], function (D, L) {
          var M = D.axis,
            E = (function KW(r, e) {
              for (var t = 0; t < (r || []).length; t++) {
                var n = r[t];
                if (
                  e.axis.dim === n.axisDim &&
                  e.axis.model.componentIndex === n.axisIndex
                )
                  return n;
              }
            })(u, D);
          if (!f && C && (!u || E)) {
            var O = E && E.value;
            null == O && !l && (O = M.pointToData(i)),
              null != O && HL(D, O, m, !1, d);
          }
        });
      });
      var y = {};
      return (
        F(c, function (b, w) {
          var C = b.linkGroup;
          C &&
            !v[w] &&
            F(C.axesInfo, function (D, L) {
              var M = v[L];
              if (D !== b && M) {
                var E = M.value;
                C.mapper && (E = b.axis.scale.parse(C.mapper(E, GL(D), GL(b)))),
                  (y[b.key] = E);
              }
            });
        }),
        F(y, function (b, w) {
          HL(c[w], b, m, !0, d);
        }),
        (function ZW(r, e, t) {
          var n = (t.axesInfo = []);
          F(e, function (i, a) {
            var o = i.axisPointerModel.option,
              s = r[a];
            s
              ? (!i.useHandle && (o.status = 'show'),
                (o.value = s.value),
                (o.seriesDataIndices = (s.payloadBatch || []).slice()))
              : !i.useHandle && (o.status = 'hide'),
              'show' === o.status &&
                n.push({
                  axisDim: i.axis.dim,
                  axisIndex: i.axis.model.componentIndex,
                  value: o.value,
                });
          });
        })(v, c, d),
        (function qW(r, e, t, n) {
          if (!um(e) && r.list.length) {
            var i =
              ((r.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] ||
              {};
            n({
              type: 'showTip',
              escapeConnect: !0,
              x: e[0],
              y: e[1],
              tooltipOption: t.tooltipOption,
              position: t.position,
              dataIndexInside: i.dataIndexInside,
              dataIndex: i.dataIndex,
              seriesIndex: i.seriesIndex,
              dataByCoordSys: r.list,
            });
          } else n({ type: 'hideTip' });
        })(g, i, r, o),
        (function jW(r, e, t) {
          var n = t.getZr(),
            i = 'axisPointerLastHighlights',
            a = VL(n)[i] || {},
            o = (VL(n)[i] = {});
          F(r, function (u, c) {
            var f = u.axisPointerModel.option;
            'show' === f.status &&
              u.triggerEmphasis &&
              F(f.seriesDataIndices, function (d) {
                o[d.seriesIndex + ' | ' + d.dataIndex] = d;
              });
          });
          var s = [],
            l = [];
          F(a, function (u, c) {
            !o[c] && l.push(u);
          }),
            F(o, function (u, c) {
              !a[c] && s.push(u);
            }),
            l.length &&
              t.dispatchAction({
                type: 'downplay',
                escapeConnect: !0,
                notBlur: !0,
                batch: l,
              }),
            s.length &&
              t.dispatchAction({
                type: 'highlight',
                escapeConnect: !0,
                notBlur: !0,
                batch: s,
              });
        })(c, 0, t),
        d
      );
    }
  }
  function HL(r, e, t, n, i) {
    var a = r.axis;
    if (!a.scale.isBlank() && a.containData(e)) {
      if (!r.involveSeries) return void t.showPointer(r, e);
      var o = (function UW(r, e) {
          var t = e.axis,
            n = t.dim,
            i = r,
            a = [],
            o = Number.MAX_VALUE,
            s = -1;
          return (
            F(e.seriesModels, function (l, u) {
              var f,
                d,
                c = l.getData().mapDimensionsAll(n);
              if (l.getAxisTooltipData) {
                var v = l.getAxisTooltipData(c, r, t);
                (d = v.dataIndices), (f = v.nestestValue);
              } else {
                if (
                  !(d = l
                    .getData()
                    .indicesOfNearest(
                      c[0],
                      r,
                      'category' === t.type ? 0.5 : null
                    )).length
                )
                  return;
                f = l.getData().get(c[0], d[0]);
              }
              if (null != f && isFinite(f)) {
                var g = r - f,
                  m = Math.abs(g);
                m <= o &&
                  ((m < o || (g >= 0 && s < 0)) &&
                    ((o = m), (s = g), (i = f), (a.length = 0)),
                  F(d, function (y) {
                    a.push({
                      seriesIndex: l.seriesIndex,
                      dataIndexInside: y,
                      dataIndex: l.getData().getRawIndex(y),
                    });
                  }));
              }
            }),
            { payloadBatch: a, snapToValue: i }
          );
        })(e, r),
        s = o.payloadBatch,
        l = o.snapToValue;
      s[0] && null == i.seriesIndex && nt(i, s[0]),
        !n && r.snap && a.containData(l) && null != l && (e = l),
        t.showPointer(r, e, s),
        t.showTooltip(r, o, l);
    }
  }
  function YW(r, e, t, n) {
    r[e.key] = { value: t, payloadBatch: n };
  }
  function XW(r, e, t, n) {
    var i = t.payloadBatch,
      a = e.axis,
      o = a.model,
      s = e.axisPointerModel;
    if (e.triggerTooltip && i.length) {
      var l = e.coordSys.model,
        u = qd(l),
        c = r.map[u];
      c ||
        ((c = r.map[u] =
          {
            coordSysId: l.id,
            coordSysIndex: l.componentIndex,
            coordSysType: l.type,
            coordSysMainType: l.mainType,
            dataByAxis: [],
          }),
        r.list.push(c)),
        c.dataByAxis.push({
          axisDim: a.dim,
          axisIndex: o.componentIndex,
          axisType: o.type,
          axisId: o.id,
          value: n,
          valueLabelOpt: {
            precision: s.get(['label', 'precision']),
            formatter: s.get(['label', 'formatter']),
          },
          seriesDataIndices: i.slice(),
        });
    }
  }
  function GL(r) {
    var e = r.axis.model,
      t = {},
      n = (t.axisDim = r.axis.dim);
    return (
      (t.axisIndex = t[n + 'AxisIndex'] = e.componentIndex),
      (t.axisName = t[n + 'AxisName'] = e.name),
      (t.axisId = t[n + 'AxisId'] = e.id),
      t
    );
  }
  function um(r) {
    return !r || null == r[0] || isNaN(r[0]) || null == r[1] || isNaN(r[1]);
  }
  function dv(r) {
    Ec.registerAxisPointerClass('CartesianAxisPointer', OW),
      r.registerComponentModel(BW),
      r.registerComponentView(WW),
      r.registerPreprocessor(function (e) {
        if (e) {
          (!e.axisPointer || 0 === e.axisPointer.length) &&
            (e.axisPointer = {});
          var t = e.axisPointer.link;
          t && !Tt(t) && (e.axisPointer.link = [t]);
        }
      }),
      r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC, function (e, t) {
        e.getComponent('axisPointer').coordSysAxesInfo = (function l5(r, e) {
          var t = {
            axesInfo: {},
            seriesInvolved: !1,
            coordSysAxesInfo: {},
            coordSysMap: {},
          };
          return (
            (function u5(r, e, t) {
              var n = e.getComponent('tooltip'),
                i = e.getComponent('axisPointer'),
                a = i.get('link', !0) || [],
                o = [];
              F(t.getCoordinateSystems(), function (s) {
                if (s.axisPointerEnabled) {
                  var l = qd(s.model),
                    u = (r.coordSysAxesInfo[l] = {});
                  r.coordSysMap[l] = s;
                  var f = s.model.getModel('tooltip', n);
                  if (
                    (F(s.getAxes(), me(m, !1, null)),
                    s.getTooltipAxes && n && f.get('show'))
                  ) {
                    var d = 'axis' === f.get('trigger'),
                      v = 'cross' === f.get(['axisPointer', 'type']),
                      g = s.getTooltipAxes(f.get(['axisPointer', 'axis']));
                    (d || v) && F(g.baseAxes, me(m, !v || 'cross', d)),
                      v && F(g.otherAxes, me(m, 'cross', !1));
                  }
                }
                function m(y, b, w) {
                  var C = w.model.getModel('axisPointer', i),
                    D = C.get('show');
                  if (D && ('auto' !== D || y || w1(C))) {
                    null == b && (b = C.get('triggerTooltip')),
                      (C = y
                        ? (function c5(r, e, t, n, i, a) {
                            var o = e.getModel('axisPointer'),
                              l = {};
                            F(
                              [
                                'type',
                                'snap',
                                'lineStyle',
                                'shadowStyle',
                                'label',
                                'animation',
                                'animationDurationUpdate',
                                'animationEasingUpdate',
                                'z',
                              ],
                              function (d) {
                                l[d] = ft(o.get(d));
                              }
                            ),
                              (l.snap = 'category' !== r.type && !!a),
                              'cross' === o.get('type') && (l.type = 'line');
                            var u = l.label || (l.label = {});
                            if (
                              (null == u.show && (u.show = !1), 'cross' === i)
                            ) {
                              var c = o.get(['label', 'show']);
                              if (((u.show = c ?? !0), !a)) {
                                var f = (l.lineStyle = o.get('crossStyle'));
                                f && Ot(u, f.textStyle);
                              }
                            }
                            return r.model.getModel(
                              'axisPointer',
                              new Yr(l, t, n)
                            );
                          })(w, f, i, e, y, b)
                        : C);
                    var L = C.get('snap'),
                      M = C.get('triggerEmphasis'),
                      E = qd(w.model),
                      O = b || L || 'category' === w.type,
                      z = (r.axesInfo[E] = {
                        key: E,
                        axis: w,
                        coordSys: s,
                        axisPointerModel: C,
                        triggerTooltip: b,
                        triggerEmphasis: M,
                        involveSeries: O,
                        snap: L,
                        useHandle: w1(C),
                        seriesModels: [],
                        linkGroup: null,
                      });
                    (u[E] = z), (r.seriesInvolved = r.seriesInvolved || O);
                    var H = (function h5(r, e) {
                      for (
                        var t = e.model, n = e.dim, i = 0;
                        i < r.length;
                        i++
                      ) {
                        var a = r[i] || {};
                        if (
                          _1(a[n + 'AxisId'], t.id) ||
                          _1(a[n + 'AxisIndex'], t.componentIndex) ||
                          _1(a[n + 'AxisName'], t.name)
                        )
                          return i;
                      }
                    })(a, w);
                    if (null != H) {
                      var G = o[H] || (o[H] = { axesInfo: {} });
                      (G.axesInfo[E] = z),
                        (G.mapper = a[H].mapper),
                        (z.linkGroup = G);
                    }
                  }
                }
              });
            })(t, r, e),
            t.seriesInvolved &&
              (function f5(r, e) {
                e.eachSeries(function (t) {
                  var n = t.coordinateSystem,
                    i = t.get(['tooltip', 'trigger'], !0),
                    a = t.get(['tooltip', 'show'], !0);
                  !n ||
                    'none' === i ||
                    !1 === i ||
                    'item' === i ||
                    !1 === a ||
                    !1 === t.get(['axisPointer', 'show'], !0) ||
                    F(r.coordSysAxesInfo[qd(n.model)], function (o) {
                      var s = o.axis;
                      n.getAxis(s.dim) === s &&
                        (o.seriesModels.push(t),
                        null == o.seriesDataCount && (o.seriesDataCount = 0),
                        (o.seriesDataCount += t.getData().count()));
                    });
                });
              })(t, r),
            t
          );
        })(e, t);
      }),
      r.registerAction(
        {
          type: 'updateAxisPointer',
          event: 'updateAxisPointer',
          update: ':updateAxisPointer',
        },
        $W
      );
  }
  var JW = (function (r) {
      function e() {
        return (null !== r && r.apply(this, arguments)) || this;
      }
      return (
        ut(e, r),
        (e.prototype.makeElOption = function (t, n, i, a, o) {
          var s = i.axis;
          'angle' === s.dim && (this.animationThreshold = Math.PI / 18);
          var l = s.polar,
            c = l.getOtherAxis(s).getExtent(),
            f = s.dataToCoord(n),
            d = a.get('type');
          if (d && 'none' !== d) {
            var v = rb(a),
              g = e8[d](s, l, f, c);
            (g.style = v), (t.graphicKey = g.type), (t.pointer = g);
          }
          var y = (function t8(r, e, t, n, i) {
            var a = e.axis,
              o = a.dataToCoord(r),
              s = n.getAngleAxis().getExtent()[0];
            s = (s / 180) * Math.PI;
            var u,
              c,
              f,
              l = n.getRadiusAxis().getExtent();
            if ('radius' === a.dim) {
              var d = [1, 0, 0, 1, 0, 0];
              ka(d, d, s), Ri(d, d, [n.cx, n.cy]), (u = Oo([o, -i], d));
              var v = e.getModel('axisLabel').get('rotate') || 0,
                g = va.innerTextLayout(s, (v * Math.PI) / 180, -1);
              (c = g.textAlign), (f = g.textVerticalAlign);
            } else {
              var m = l[1];
              u = n.coordToPoint([m + i, o]);
              var y = n.cx,
                b = n.cy;
              (c =
                Math.abs(u[0] - y) / m < 0.3
                  ? 'center'
                  : u[0] > y
                  ? 'left'
                  : 'right'),
                (f =
                  Math.abs(u[1] - b) / m < 0.3
                    ? 'middle'
                    : u[1] > b
                    ? 'top'
                    : 'bottom');
            }
            return { position: u, align: c, verticalAlign: f };
          })(n, i, 0, l, a.get(['label', 'margin']));
          IL(t, i, a, o, y);
        }),
        e
      );
    })(tb),
    e8 = {
      line: function (r, e, t, n) {
        return 'angle' === r.dim
          ? {
              type: 'Line',
              shape: ib(e.coordToPoint([n[0], t]), e.coordToPoint([n[1], t])),
            }
          : { type: 'Circle', shape: { cx: e.cx, cy: e.cy, r: t } };
      },
      shadow: function (r, e, t, n) {
        var i = Math.max(1, r.getBandWidth()),
          a = Math.PI / 180;
        return 'angle' === r.dim
          ? {
              type: 'Sector',
              shape: RL(
                e.cx,
                e.cy,
                n[0],
                n[1],
                (-t - i / 2) * a,
                (i / 2 - t) * a
              ),
            }
          : {
              type: 'Sector',
              shape: RL(e.cx, e.cy, t - i / 2, t + i / 2, 0, 2 * Math.PI),
            };
      },
    },
    r8 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.findAxisModel = function (t) {
          var n;
          return (
            this.ecModel.eachComponent(
              t,
              function (a) {
                a.getCoordSysModel() === this && (n = a);
              },
              this
            ),
            n
          );
        }),
        (e.type = 'polar'),
        (e.dependencies = ['radiusAxis', 'angleAxis']),
        (e.defaultOption = { z: 0, center: ['50%', '50%'], radius: '80%' }),
        e
      );
    })(br),
    ob = (function (r) {
      function e() {
        return (null !== r && r.apply(this, arguments)) || this;
      }
      return (
        ut(e, r),
        (e.prototype.getCoordSysModel = function () {
          return this.getReferringComponents('polar', N).models[0];
        }),
        (e.type = 'polarAxis'),
        e
      );
    })(br);
  Ee(ob, qf);
  var n8 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return ut(e, r), (e.type = 'angleAxis'), e;
    })(ob),
    i8 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return ut(e, r), (e.type = 'radiusAxis'), e;
    })(ob),
    sb = (function (r) {
      function e(t, n) {
        return r.call(this, 'radius', t, n) || this;
      }
      return (
        ut(e, r),
        (e.prototype.pointToData = function (t, n) {
          return this.polar.pointToData(t, n)['radius' === this.dim ? 0 : 1];
        }),
        e
      );
    })(lo);
  (sb.prototype.dataToRadius = lo.prototype.dataToCoord),
    (sb.prototype.radiusToData = lo.prototype.coordToData);
  var a8 = S(),
    lb = (function (r) {
      function e(t, n) {
        return r.call(this, 'angle', t, n || [0, 360]) || this;
      }
      return (
        ut(e, r),
        (e.prototype.pointToData = function (t, n) {
          return this.polar.pointToData(t, n)['radius' === this.dim ? 0 : 1];
        }),
        (e.prototype.calculateCategoryInterval = function () {
          var t = this,
            n = t.getLabelModel(),
            i = t.scale,
            a = i.getExtent(),
            o = i.count();
          if (a[1] - a[0] < 1) return 0;
          var s = a[0],
            l = t.dataToCoord(s + 1) - t.dataToCoord(s),
            u = Math.abs(l),
            c = kl(null == s ? '' : s + '', n.getFont(), 'center', 'top'),
            d = Math.max(c.height, 7) / u;
          isNaN(d) && (d = 1 / 0);
          var v = Math.max(0, Math.floor(d)),
            g = a8(t.model),
            m = g.lastAutoInterval,
            y = g.lastTickCount;
          return (
            null != m &&
            null != y &&
            Math.abs(m - v) <= 1 &&
            Math.abs(y - o) <= 1 &&
            m > v
              ? (v = m)
              : ((g.lastTickCount = o), (g.lastAutoInterval = v)),
            v
          );
        }),
        e
      );
    })(lo);
  (lb.prototype.dataToAngle = lo.prototype.dataToCoord),
    (lb.prototype.angleToData = lo.prototype.coordToData);
  var WL = ['radius', 'angle'],
    o8 = (function () {
      function r(e) {
        (this.dimensions = WL),
          (this.type = 'polar'),
          (this.cx = 0),
          (this.cy = 0),
          (this._radiusAxis = new sb()),
          (this._angleAxis = new lb()),
          (this.axisPointerEnabled = !0),
          (this.name = e || ''),
          (this._radiusAxis.polar = this._angleAxis.polar = this);
      }
      return (
        (r.prototype.containPoint = function (e) {
          var t = this.pointToCoord(e);
          return (
            this._radiusAxis.contain(t[0]) && this._angleAxis.contain(t[1])
          );
        }),
        (r.prototype.containData = function (e) {
          return (
            this._radiusAxis.containData(e[0]) &&
            this._angleAxis.containData(e[1])
          );
        }),
        (r.prototype.getAxis = function (e) {
          return this['_' + e + 'Axis'];
        }),
        (r.prototype.getAxes = function () {
          return [this._radiusAxis, this._angleAxis];
        }),
        (r.prototype.getAxesByScale = function (e) {
          var t = [],
            n = this._angleAxis,
            i = this._radiusAxis;
          return (
            n.scale.type === e && t.push(n), i.scale.type === e && t.push(i), t
          );
        }),
        (r.prototype.getAngleAxis = function () {
          return this._angleAxis;
        }),
        (r.prototype.getRadiusAxis = function () {
          return this._radiusAxis;
        }),
        (r.prototype.getOtherAxis = function (e) {
          var t = this._angleAxis;
          return e === t ? this._radiusAxis : t;
        }),
        (r.prototype.getBaseAxis = function () {
          return (
            this.getAxesByScale('ordinal')[0] ||
            this.getAxesByScale('time')[0] ||
            this.getAngleAxis()
          );
        }),
        (r.prototype.getTooltipAxes = function (e) {
          var t =
            null != e && 'auto' !== e ? this.getAxis(e) : this.getBaseAxis();
          return { baseAxes: [t], otherAxes: [this.getOtherAxis(t)] };
        }),
        (r.prototype.dataToPoint = function (e, t) {
          return this.coordToPoint([
            this._radiusAxis.dataToRadius(e[0], t),
            this._angleAxis.dataToAngle(e[1], t),
          ]);
        }),
        (r.prototype.pointToData = function (e, t) {
          var n = this.pointToCoord(e);
          return [
            this._radiusAxis.radiusToData(n[0], t),
            this._angleAxis.angleToData(n[1], t),
          ];
        }),
        (r.prototype.pointToCoord = function (e) {
          var t = e[0] - this.cx,
            n = e[1] - this.cy,
            i = this.getAngleAxis(),
            a = i.getExtent(),
            o = Math.min(a[0], a[1]),
            s = Math.max(a[0], a[1]);
          i.inverse ? (o = s - 360) : (s = o + 360);
          var l = Math.sqrt(t * t + n * n);
          (t /= l), (n /= l);
          for (
            var u = (Math.atan2(-n, t) / Math.PI) * 180, c = u < o ? 1 : -1;
            u < o || u > s;

          )
            u += 360 * c;
          return [l, u];
        }),
        (r.prototype.coordToPoint = function (e) {
          var t = e[0],
            n = (e[1] / 180) * Math.PI;
          return [Math.cos(n) * t + this.cx, -Math.sin(n) * t + this.cy];
        }),
        (r.prototype.getArea = function () {
          var e = this.getAngleAxis(),
            n = this.getRadiusAxis().getExtent().slice();
          n[0] > n[1] && n.reverse();
          var i = e.getExtent(),
            a = Math.PI / 180;
          return {
            cx: this.cx,
            cy: this.cy,
            r0: n[0],
            r: n[1],
            startAngle: -i[0] * a,
            endAngle: -i[1] * a,
            clockwise: e.inverse,
            contain: function (o, s) {
              var l = o - this.cx,
                u = s - this.cy,
                c = l * l + u * u - 1e-4,
                f = this.r,
                d = this.r0;
              return c <= f * f && c >= d * d;
            },
          };
        }),
        (r.prototype.convertToPixel = function (e, t, n) {
          return $L(t) === this ? this.dataToPoint(n) : null;
        }),
        (r.prototype.convertFromPixel = function (e, t, n) {
          return $L(t) === this ? this.pointToData(n) : null;
        }),
        r
      );
    })();
  function $L(r) {
    var e = r.seriesModel,
      t = r.polarModel;
    return (t && t.coordinateSystem) || (e && e.coordinateSystem);
  }
  function l8(r, e) {
    var t = this,
      n = t.getAngleAxis(),
      i = t.getRadiusAxis();
    if (
      (n.scale.setExtent(1 / 0, -1 / 0),
      i.scale.setExtent(1 / 0, -1 / 0),
      r.eachSeries(function (s) {
        if (s.coordinateSystem === t) {
          var l = s.getData();
          F(Sg(l, 'radius'), function (u) {
            i.scale.unionExtentFromData(l, u);
          }),
            F(Sg(l, 'angle'), function (u) {
              n.scale.unionExtentFromData(l, u);
            });
        }
      }),
      Sc(n.scale, n.model),
      Sc(i.scale, i.model),
      'category' === n.type && !n.onBand)
    ) {
      var a = n.getExtent(),
        o = 360 / n.scale.count();
      n.inverse ? (a[1] += o) : (a[1] -= o), n.setExtent(a[0], a[1]);
    }
  }
  function UL(r, e) {
    if (
      ((r.type = e.get('type')),
      (r.scale = Od(e)),
      (r.onBand = e.get('boundaryGap') && 'category' === r.type),
      (r.inverse = e.get('inverse')),
      (function u8(r) {
        return 'angleAxis' === r.mainType;
      })(e))
    ) {
      r.inverse = r.inverse !== e.get('clockwise');
      var t = e.get('startAngle');
      r.setExtent(t, t + (r.inverse ? -360 : 360));
    }
    (e.axis = r), (r.model = e);
  }
  var c8 = {
      dimensions: WL,
      create: function (r, e) {
        var t = [];
        return (
          r.eachComponent('polar', function (n, i) {
            var a = new o8(i + '');
            a.update = l8;
            var o = a.getRadiusAxis(),
              s = a.getAngleAxis(),
              l = n.findAxisModel('radiusAxis'),
              u = n.findAxisModel('angleAxis');
            UL(o, l),
              UL(s, u),
              (function s8(r, e, t) {
                var n = e.get('center'),
                  i = t.getWidth(),
                  a = t.getHeight();
                (r.cx = Te(n[0], i)), (r.cy = Te(n[1], a));
                var o = r.getRadiusAxis(),
                  s = Math.min(i, a) / 2,
                  l = e.get('radius');
                null == l ? (l = [0, '100%']) : Tt(l) || (l = [0, l]);
                var u = [Te(l[0], s), Te(l[1], s)];
                o.inverse ? o.setExtent(u[1], u[0]) : o.setExtent(u[0], u[1]);
              })(a, n, e),
              t.push(a),
              (n.coordinateSystem = a),
              (a.model = n);
          }),
          r.eachSeries(function (n) {
            if ('polar' === n.get('coordinateSystem')) {
              var i = n.getReferringComponents('polar', N).models[0];
              if (!i)
                throw new Error(
                  'Polar "' +
                    xe(n.get('polarIndex'), n.get('polarId'), 0) +
                    '" not found'
                );
              n.coordinateSystem = i.coordinateSystem;
            }
          }),
          t
        );
      },
    },
    f8 = [
      'axisLine',
      'axisLabel',
      'axisTick',
      'minorTick',
      'splitLine',
      'minorSplitLine',
      'splitArea',
    ];
  function cm(r, e, t) {
    e[1] > e[0] && (e = e.slice().reverse());
    var n = r.coordToPoint([e[0], t]),
      i = r.coordToPoint([e[1], t]);
    return { x1: n[0], y1: n[1], x2: i[0], y2: i[1] };
  }
  function fm(r) {
    return r.getRadiusAxis().inverse ? 0 : 1;
  }
  function YL(r) {
    var e = r[0],
      t = r[r.length - 1];
    e && t && Math.abs(Math.abs(e.coord - t.coord) - 360) < 1e-4 && r.pop();
  }
  var h8 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), (t.axisPointerClass = 'PolarAxisPointer'), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n) {
          if ((this.group.removeAll(), t.get('show'))) {
            var i = t.axis,
              a = i.polar,
              o = a.getRadiusAxis().getExtent(),
              s = i.getTicksCoords(),
              l = i.getMinorTicksCoords(),
              u = Ut(i.getViewLabels(), function (c) {
                c = ft(c);
                var f = i.scale,
                  d =
                    'ordinal' === f.type
                      ? f.getRawOrdinalNumber(c.tickValue)
                      : c.tickValue;
                return (c.coord = i.dataToCoord(d)), c;
              });
            YL(u),
              YL(s),
              F(
                f8,
                function (c) {
                  t.get([c, 'show']) &&
                    (!i.scale.isBlank() || 'axisLine' === c) &&
                    d8[c](this.group, t, a, s, l, o, u);
                },
                this
              );
          }
        }),
        (e.type = 'angleAxis'),
        e
      );
    })(Ec),
    d8 = {
      axisLine: function (r, e, t, n, i, a) {
        var u,
          o = e.getModel(['axisLine', 'lineStyle']),
          s = fm(t),
          l = s ? 0 : 1;
        ((u =
          0 === a[l]
            ? new to({
                shape: { cx: t.cx, cy: t.cy, r: a[s] },
                style: o.getLineStyle(),
                z2: 1,
                silent: !0,
              })
            : new Sf({
                shape: { cx: t.cx, cy: t.cy, r: a[s], r0: a[l] },
                style: o.getLineStyle(),
                z2: 1,
                silent: !0,
              })).style.fill = null),
          r.add(u);
      },
      axisTick: function (r, e, t, n, i, a) {
        var o = e.getModel('axisTick'),
          s = (o.get('inside') ? -1 : 1) * o.get('length'),
          l = a[fm(t)],
          u = Ut(n, function (c) {
            return new Jn({ shape: cm(t, [l, l + s], c.coord) });
          });
        r.add(
          Ba(u, {
            style: Ot(o.getModel('lineStyle').getLineStyle(), {
              stroke: e.get(['axisLine', 'lineStyle', 'color']),
            }),
          })
        );
      },
      minorTick: function (r, e, t, n, i, a) {
        if (i.length) {
          for (
            var o = e.getModel('axisTick'),
              s = e.getModel('minorTick'),
              l = (o.get('inside') ? -1 : 1) * s.get('length'),
              u = a[fm(t)],
              c = [],
              f = 0;
            f < i.length;
            f++
          )
            for (var d = 0; d < i[f].length; d++)
              c.push(new Jn({ shape: cm(t, [u, u + l], i[f][d].coord) }));
          r.add(
            Ba(c, {
              style: Ot(
                s.getModel('lineStyle').getLineStyle(),
                Ot(o.getLineStyle(), {
                  stroke: e.get(['axisLine', 'lineStyle', 'color']),
                })
              ),
            })
          );
        }
      },
      axisLabel: function (r, e, t, n, i, a, o) {
        var s = e.getCategories(!0),
          l = e.getModel('axisLabel'),
          u = l.get('margin'),
          c = e.get('triggerEvent');
        F(
          o,
          function (f, d) {
            var v = l,
              g = f.tickValue,
              m = a[fm(t)],
              y = t.coordToPoint([m + u, f.coord]),
              b = t.cx,
              w = t.cy,
              C =
                Math.abs(y[0] - b) / m < 0.3
                  ? 'center'
                  : y[0] > b
                  ? 'left'
                  : 'right',
              D =
                Math.abs(y[1] - w) / m < 0.3
                  ? 'middle'
                  : y[1] > w
                  ? 'top'
                  : 'bottom';
            if (s && s[g]) {
              var L = s[g];
              Y(L) && L.textStyle && (v = new Yr(L.textStyle, l, l.ecModel));
            }
            var M = new Or({
              silent: va.isLabelSilent(e),
              style: on(v, {
                x: y[0],
                y: y[1],
                fill:
                  v.getTextColor() || e.get(['axisLine', 'lineStyle', 'color']),
                text: f.formattedLabel,
                align: C,
                verticalAlign: D,
              }),
            });
            if ((r.add(M), c)) {
              var E = va.makeAxisEventDataBase(e);
              (E.targetType = 'axisLabel'),
                (E.value = f.rawLabel),
                (fr(M).eventData = E);
            }
          },
          this
        );
      },
      splitLine: function (r, e, t, n, i, a) {
        var s = e.getModel('splitLine').getModel('lineStyle'),
          l = s.get('color'),
          u = 0;
        l = l instanceof Array ? l : [l];
        for (var c = [], f = 0; f < n.length; f++) {
          var d = u++ % l.length;
          (c[d] = c[d] || []),
            c[d].push(new Jn({ shape: cm(t, a, n[f].coord) }));
        }
        for (f = 0; f < c.length; f++)
          r.add(
            Ba(c[f], {
              style: Ot({ stroke: l[f % l.length] }, s.getLineStyle()),
              silent: !0,
              z: e.get('z'),
            })
          );
      },
      minorSplitLine: function (r, e, t, n, i, a) {
        if (i.length) {
          for (
            var s = e.getModel('minorSplitLine').getModel('lineStyle'),
              l = [],
              u = 0;
            u < i.length;
            u++
          )
            for (var c = 0; c < i[u].length; c++)
              l.push(new Jn({ shape: cm(t, a, i[u][c].coord) }));
          r.add(Ba(l, { style: s.getLineStyle(), silent: !0, z: e.get('z') }));
        }
      },
      splitArea: function (r, e, t, n, i, a) {
        if (n.length) {
          var s = e.getModel('splitArea').getModel('areaStyle'),
            l = s.get('color'),
            u = 0;
          l = l instanceof Array ? l : [l];
          for (
            var c = [],
              f = Math.PI / 180,
              d = -n[0].coord * f,
              v = Math.min(a[0], a[1]),
              g = Math.max(a[0], a[1]),
              m = e.get('clockwise'),
              y = 1,
              b = n.length;
            y <= b;
            y++
          ) {
            var w = y === b ? n[0].coord : n[y].coord,
              C = u++ % l.length;
            (c[C] = c[C] || []),
              c[C].push(
                new Gi({
                  shape: {
                    cx: t.cx,
                    cy: t.cy,
                    r0: v,
                    r: g,
                    startAngle: d,
                    endAngle: -w * f,
                    clockwise: m,
                  },
                  silent: !0,
                })
              ),
              (d = -w * f);
          }
          for (y = 0; y < c.length; y++)
            r.add(
              Ba(c[y], {
                style: Ot({ fill: l[y % l.length] }, s.getAreaStyle()),
                silent: !0,
              })
            );
        }
      },
    },
    v8 = ['axisLine', 'axisTickLabel', 'axisName'],
    p8 = ['splitLine', 'splitArea', 'minorSplitLine'],
    g8 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), (t.axisPointerClass = 'PolarAxisPointer'), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n) {
          if ((this.group.removeAll(), t.get('show'))) {
            var i = this._axisGroup,
              a = (this._axisGroup = new Qe());
            this.group.add(a);
            var o = t.axis,
              s = o.polar,
              l = s.getAngleAxis(),
              u = o.getTicksCoords(),
              c = o.getMinorTicksCoords(),
              f = l.getExtent()[0],
              d = o.getExtent(),
              v = (function y8(r, e, t) {
                return {
                  position: [r.cx, r.cy],
                  rotation: (t / 180) * Math.PI,
                  labelDirection: -1,
                  tickDirection: -1,
                  nameDirection: 1,
                  labelRotate: e.getModel('axisLabel').get('rotate'),
                  z2: 1,
                };
              })(s, t, f),
              g = new va(t, v);
            F(v8, g.add, g),
              a.add(g.getGroup()),
              sd(i, a, t),
              F(
                p8,
                function (m) {
                  t.get([m, 'show']) &&
                    !o.scale.isBlank() &&
                    m8[m](this.group, t, s, f, d, u, c);
                },
                this
              );
          }
        }),
        (e.type = 'radiusAxis'),
        e
      );
    })(Ec),
    m8 = {
      splitLine: function (r, e, t, n, i, a) {
        var s = e.getModel('splitLine').getModel('lineStyle'),
          l = s.get('color'),
          u = 0;
        l = l instanceof Array ? l : [l];
        for (var c = [], f = 0; f < a.length; f++) {
          var d = u++ % l.length;
          (c[d] = c[d] || []),
            c[d].push(
              new to({
                shape: { cx: t.cx, cy: t.cy, r: Math.max(a[f].coord, 0) },
              })
            );
        }
        for (f = 0; f < c.length; f++)
          r.add(
            Ba(c[f], {
              style: Ot(
                { stroke: l[f % l.length], fill: null },
                s.getLineStyle()
              ),
              silent: !0,
            })
          );
      },
      minorSplitLine: function (r, e, t, n, i, a, o) {
        if (o.length) {
          for (
            var l = e.getModel('minorSplitLine').getModel('lineStyle'),
              u = [],
              c = 0;
            c < o.length;
            c++
          )
            for (var f = 0; f < o[c].length; f++)
              u.push(
                new to({ shape: { cx: t.cx, cy: t.cy, r: o[c][f].coord } })
              );
          r.add(
            Ba(u, { style: Ot({ fill: null }, l.getLineStyle()), silent: !0 })
          );
        }
      },
      splitArea: function (r, e, t, n, i, a) {
        if (a.length) {
          var s = e.getModel('splitArea').getModel('areaStyle'),
            l = s.get('color'),
            u = 0;
          l = l instanceof Array ? l : [l];
          for (var c = [], f = a[0].coord, d = 1; d < a.length; d++) {
            var v = u++ % l.length;
            (c[v] = c[v] || []),
              c[v].push(
                new Gi({
                  shape: {
                    cx: t.cx,
                    cy: t.cy,
                    r0: f,
                    r: a[d].coord,
                    startAngle: 0,
                    endAngle: 2 * Math.PI,
                  },
                  silent: !0,
                })
              ),
              (f = a[d].coord);
          }
          for (d = 0; d < c.length; d++)
            r.add(
              Ba(c[d], {
                style: Ot({ fill: l[d % l.length] }, s.getAreaStyle()),
                silent: !0,
              })
            );
        }
      },
    };
  function XL(r) {
    return r.get('stack') || '__ec_stack_' + r.seriesIndex;
  }
  function ZL(r, e) {
    return e.dim + r.model.componentIndex;
  }
  function x8(r, e, t) {
    var n = {},
      i = (function b8(r) {
        var e = {};
        F(r, function (n, i) {
          var a = n.getData(),
            o = n.coordinateSystem,
            s = o.getBaseAxis(),
            l = ZL(o, s),
            u = s.getExtent(),
            c =
              'category' === s.type
                ? s.getBandWidth()
                : Math.abs(u[1] - u[0]) / a.count(),
            f = e[l] || {
              bandWidth: c,
              remainedWidth: c,
              autoWidthCount: 0,
              categoryGap: '20%',
              gap: '30%',
              stacks: {},
            },
            d = f.stacks;
          e[l] = f;
          var v = XL(n);
          d[v] || f.autoWidthCount++,
            (d[v] = d[v] || { width: 0, maxWidth: 0 });
          var g = Te(n.get('barWidth'), c),
            m = Te(n.get('barMaxWidth'), c),
            y = n.get('barGap'),
            b = n.get('barCategoryGap');
          g &&
            !d[v].width &&
            ((g = Math.min(f.remainedWidth, g)),
            (d[v].width = g),
            (f.remainedWidth -= g)),
            m && (d[v].maxWidth = m),
            null != y && (f.gap = y),
            null != b && (f.categoryGap = b);
        });
        var t = {};
        return (
          F(e, function (n, i) {
            t[i] = {};
            var a = n.stacks,
              s = Te(n.categoryGap, n.bandWidth),
              l = Te(n.gap, 1),
              u = n.remainedWidth,
              c = n.autoWidthCount,
              f = (u - s) / (c + (c - 1) * l);
            (f = Math.max(f, 0)),
              F(a, function (m, y) {
                var b = m.maxWidth;
                b &&
                  b < f &&
                  ((b = Math.min(b, u)),
                  m.width && (b = Math.min(b, m.width)),
                  (u -= b),
                  (m.width = b),
                  c--);
              }),
              (f = (u - s) / (c + (c - 1) * l)),
              (f = Math.max(f, 0));
            var v,
              d = 0;
            F(a, function (m, y) {
              m.width || (m.width = f), (v = m), (d += m.width * (1 + l));
            }),
              v && (d -= v.width * l);
            var g = -d / 2;
            F(a, function (m, y) {
              (t[i][y] = t[i][y] || { offset: g, width: m.width }),
                (g += m.width * (1 + l));
            });
          }),
          t
        );
      })(
        je(e.getSeriesByType(r), function (a) {
          return (
            !e.isSeriesFiltered(a) &&
            a.coordinateSystem &&
            'polar' === a.coordinateSystem.type
          );
        })
      );
    e.eachSeriesByType(r, function (a) {
      if ('polar' === a.coordinateSystem.type) {
        var o = a.getData(),
          s = a.coordinateSystem,
          l = s.getBaseAxis(),
          u = ZL(s, l),
          c = XL(a),
          f = i[u][c],
          d = f.offset,
          v = f.width,
          g = s.getOtherAxis(l),
          m = a.coordinateSystem.cx,
          y = a.coordinateSystem.cy,
          b = a.get('barMinHeight') || 0,
          w = a.get('barMinAngle') || 0;
        n[c] = n[c] || [];
        for (
          var C = o.mapDimension(g.dim),
            D = o.mapDimension(l.dim),
            L = il(o, C),
            M = 'radius' !== l.dim || !a.get('roundCap', !0),
            E = g.dataToCoord(0),
            O = 0,
            z = o.count();
          O < z;
          O++
        ) {
          var H = o.get(C, O),
            G = o.get(D, O),
            X = H >= 0 ? 'p' : 'n',
            K = E;
          L && (n[c][G] || (n[c][G] = { p: E, n: E }), (K = n[c][G][X]));
          var tt = void 0,
            ot = void 0,
            pt = void 0,
            Xt = void 0;
          if ('radius' === g.dim) {
            var Vt = g.dataToCoord(H) - E,
              re = l.dataToCoord(G);
            Math.abs(Vt) < b && (Vt = (Vt < 0 ? -1 : 1) * b),
              (tt = K),
              (ot = K + Vt),
              (Xt = (pt = re - d) - v),
              L && (n[c][G][X] = ot);
          } else {
            var ye = g.dataToCoord(H, M) - E,
              ke = l.dataToCoord(G);
            Math.abs(ye) < w && (ye = (ye < 0 ? -1 : 1) * w),
              (ot = (tt = ke + d) + v),
              (pt = K),
              (Xt = K + ye),
              L && (n[c][G][X] = Xt);
          }
          o.setItemLayout(O, {
            cx: m,
            cy: y,
            r0: tt,
            r: ot,
            startAngle: (-pt * Math.PI) / 180,
            endAngle: (-Xt * Math.PI) / 180,
            clockwise: pt >= Xt,
          });
        }
      }
    });
  }
  var _8 = {
      startAngle: 90,
      clockwise: !0,
      splitNumber: 12,
      axisLabel: { rotate: 0 },
    },
    S8 = { splitNumber: 5 },
    w8 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return ut(e, r), (e.type = 'polar'), e;
    })(fn);
  function ub(r, e) {
    e = e || {};
    var n = r.axis,
      i = {},
      a = n.position,
      o = n.orient,
      s = r.coordinateSystem.getRect(),
      l = [s.x, s.x + s.width, s.y, s.y + s.height],
      u = {
        horizontal: { top: l[2], bottom: l[3] },
        vertical: { left: l[0], right: l[1] },
      };
    (i.position = [
      'vertical' === o ? u.vertical[a] : l[0],
      'horizontal' === o ? u.horizontal[a] : l[3],
    ]),
      (i.rotation = (Math.PI / 2) * { horizontal: 0, vertical: 1 }[o]),
      (i.labelDirection =
        i.tickDirection =
        i.nameDirection =
          { top: -1, bottom: 1, right: 1, left: -1 }[a]),
      r.get(['axisTick', 'inside']) && (i.tickDirection = -i.tickDirection),
      xe(e.labelInside, r.get(['axisLabel', 'inside'])) &&
        (i.labelDirection = -i.labelDirection);
    var d = e.rotate;
    return (
      null == d && (d = r.get(['axisLabel', 'rotate'])),
      (i.labelRotation = 'top' === a ? -d : d),
      (i.z2 = 1),
      i
    );
  }
  var D8 = ['axisLine', 'axisTickLabel', 'axisName'],
    T8 = ['splitArea', 'splitLine'],
    A8 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), (t.axisPointerClass = 'SingleAxisPointer'), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i, a) {
          var o = this.group;
          o.removeAll();
          var s = this._axisGroup;
          this._axisGroup = new Qe();
          var l = ub(t),
            u = new va(t, l);
          F(D8, u.add, u),
            o.add(this._axisGroup),
            o.add(u.getGroup()),
            F(
              T8,
              function (c) {
                t.get([c, 'show']) &&
                  M8[c](this, this.group, this._axisGroup, t);
              },
              this
            ),
            sd(s, this._axisGroup, t),
            r.prototype.render.call(this, t, n, i, a);
        }),
        (e.prototype.remove = function () {
          dA(this);
        }),
        (e.type = 'singleAxis'),
        e
      );
    })(Ec),
    M8 = {
      splitLine: function (r, e, t, n) {
        var i = n.axis;
        if (!i.scale.isBlank()) {
          var a = n.getModel('splitLine'),
            o = a.getModel('lineStyle'),
            s = o.get('color');
          s = s instanceof Array ? s : [s];
          for (
            var l = o.get('width'),
              u = n.coordinateSystem.getRect(),
              c = i.isHorizontal(),
              f = [],
              d = 0,
              v = i.getTicksCoords({ tickModel: a }),
              g = [],
              m = [],
              y = 0;
            y < v.length;
            ++y
          ) {
            var b = i.toGlobalCoord(v[y].coord);
            c
              ? ((g[0] = b), (g[1] = u.y), (m[0] = b), (m[1] = u.y + u.height))
              : ((g[0] = u.x), (g[1] = b), (m[0] = u.x + u.width), (m[1] = b));
            var w = new Jn({
              shape: { x1: g[0], y1: g[1], x2: m[0], y2: m[1] },
              silent: !0,
            });
            Af(w.shape, l);
            var C = d++ % s.length;
            (f[C] = f[C] || []), f[C].push(w);
          }
          var D = o.getLineStyle(['color']);
          for (y = 0; y < f.length; ++y)
            e.add(
              Ba(f[y], {
                style: Ot({ stroke: s[y % s.length] }, D),
                silent: !0,
              })
            );
        }
      },
      splitArea: function (r, e, t, n) {
        hA(r, t, n, n);
      },
    },
    hm = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.getCoordSysModel = function () {
          return this;
        }),
        (e.type = 'singleAxis'),
        (e.layoutMode = 'box'),
        (e.defaultOption = {
          left: '5%',
          top: '5%',
          right: '5%',
          bottom: '5%',
          type: 'value',
          position: 'bottom',
          orient: 'horizontal',
          axisLine: { show: !0, lineStyle: { width: 1, type: 'solid' } },
          tooltip: { show: !0 },
          axisTick: { show: !0, length: 6, lineStyle: { width: 1 } },
          axisLabel: { show: !0, interval: 'auto' },
          splitLine: { show: !0, lineStyle: { type: 'dashed', opacity: 0.2 } },
        }),
        e
      );
    })(br);
  Ee(hm, qf.prototype);
  var L8 = (function (r) {
      function e(t, n, i, a, o) {
        var s = r.call(this, t, n, i) || this;
        return (s.type = a || 'value'), (s.position = o || 'bottom'), s;
      }
      return (
        ut(e, r),
        (e.prototype.isHorizontal = function () {
          var t = this.position;
          return 'top' === t || 'bottom' === t;
        }),
        (e.prototype.pointToData = function (t, n) {
          return this.coordinateSystem.pointToData(t)[0];
        }),
        e
      );
    })(lo),
    qL = ['single'],
    I8 = (function () {
      function r(e, t, n) {
        (this.type = 'single'),
          (this.dimension = 'single'),
          (this.dimensions = qL),
          (this.axisPointerEnabled = !0),
          (this.model = e),
          this._init(e, t, n);
      }
      return (
        (r.prototype._init = function (e, t, n) {
          var a = new L8(
            this.dimension,
            Od(e),
            [0, 0],
            e.get('type'),
            e.get('position')
          );
          (a.onBand = 'category' === a.type && e.get('boundaryGap')),
            (a.inverse = e.get('inverse')),
            (a.orient = e.get('orient')),
            (e.axis = a),
            (a.model = e),
            (a.coordinateSystem = this),
            (this._axis = a);
        }),
        (r.prototype.update = function (e, t) {
          e.eachSeries(function (n) {
            if (n.coordinateSystem === this) {
              var i = n.getData();
              F(
                i.mapDimensionsAll(this.dimension),
                function (a) {
                  this._axis.scale.unionExtentFromData(i, a);
                },
                this
              ),
                Sc(this._axis.scale, this._axis.model);
            }
          }, this);
        }),
        (r.prototype.resize = function (e, t) {
          (this._rect = Vn(
            {
              left: e.get('left'),
              top: e.get('top'),
              right: e.get('right'),
              bottom: e.get('bottom'),
              width: e.get('width'),
              height: e.get('height'),
            },
            { width: t.getWidth(), height: t.getHeight() }
          )),
            this._adjustAxis();
        }),
        (r.prototype.getRect = function () {
          return this._rect;
        }),
        (r.prototype._adjustAxis = function () {
          var e = this._rect,
            t = this._axis,
            n = t.isHorizontal(),
            i = n ? [0, e.width] : [0, e.height],
            a = t.inverse ? 1 : 0;
          t.setExtent(i[a], i[1 - a]),
            this._updateAxisTransform(t, n ? e.x : e.y);
        }),
        (r.prototype._updateAxisTransform = function (e, t) {
          var n = e.getExtent(),
            i = n[0] + n[1],
            a = e.isHorizontal();
          (e.toGlobalCoord = a
            ? function (o) {
                return o + t;
              }
            : function (o) {
                return i - o + t;
              }),
            (e.toLocalCoord = a
              ? function (o) {
                  return o - t;
                }
              : function (o) {
                  return i - o + t;
                });
        }),
        (r.prototype.getAxis = function () {
          return this._axis;
        }),
        (r.prototype.getBaseAxis = function () {
          return this._axis;
        }),
        (r.prototype.getAxes = function () {
          return [this._axis];
        }),
        (r.prototype.getTooltipAxes = function () {
          return { baseAxes: [this.getAxis()], otherAxes: [] };
        }),
        (r.prototype.containPoint = function (e) {
          var t = this.getRect(),
            n = this.getAxis();
          return 'horizontal' === n.orient
            ? n.contain(n.toLocalCoord(e[0])) &&
                e[1] >= t.y &&
                e[1] <= t.y + t.height
            : n.contain(n.toLocalCoord(e[1])) &&
                e[0] >= t.y &&
                e[0] <= t.y + t.height;
        }),
        (r.prototype.pointToData = function (e) {
          var t = this.getAxis();
          return [
            t.coordToData(t.toLocalCoord(e['horizontal' === t.orient ? 0 : 1])),
          ];
        }),
        (r.prototype.dataToPoint = function (e) {
          var t = this.getAxis(),
            n = this.getRect(),
            i = [],
            a = 'horizontal' === t.orient ? 0 : 1;
          return (
            e instanceof Array && (e = e[0]),
            (i[a] = t.toGlobalCoord(t.dataToCoord(+e))),
            (i[1 - a] = 0 === a ? n.y + n.height / 2 : n.x + n.width / 2),
            i
          );
        }),
        (r.prototype.convertToPixel = function (e, t, n) {
          return jL(t) === this ? this.dataToPoint(n) : null;
        }),
        (r.prototype.convertFromPixel = function (e, t, n) {
          return jL(t) === this ? this.pointToData(n) : null;
        }),
        r
      );
    })();
  function jL(r) {
    var e = r.seriesModel,
      t = r.singleAxisModel;
    return (t && t.coordinateSystem) || (e && e.coordinateSystem);
  }
  var E8 = {
      create: function k8(r, e) {
        var t = [];
        return (
          r.eachComponent('singleAxis', function (n, i) {
            var a = new I8(n, r, e);
            (a.name = 'single_' + i),
              a.resize(n, e),
              (n.coordinateSystem = a),
              t.push(a);
          }),
          r.eachSeries(function (n) {
            if ('singleAxis' === n.get('coordinateSystem')) {
              var i = n.getReferringComponents('singleAxis', N).models[0];
              n.coordinateSystem = i && i.coordinateSystem;
            }
          }),
          t
        );
      },
      dimensions: qL,
    },
    KL = ['x', 'y'],
    P8 = ['width', 'height'],
    R8 = (function (r) {
      function e() {
        return (null !== r && r.apply(this, arguments)) || this;
      }
      return (
        ut(e, r),
        (e.prototype.makeElOption = function (t, n, i, a, o) {
          var s = i.axis,
            l = s.coordinateSystem,
            u = cb(l, 1 - dm(s)),
            c = l.dataToPoint(n)[0],
            f = a.get('type');
          if (f && 'none' !== f) {
            var d = rb(a),
              v = O8[f](s, c, u);
            (v.style = d), (t.graphicKey = v.type), (t.pointer = v);
          }
          EL(n, t, ub(i), i, a, o);
        }),
        (e.prototype.getHandleTransform = function (t, n, i) {
          var a = ub(n, { labelInside: !1 });
          a.labelMargin = i.get(['handle', 'margin']);
          var o = nb(n.axis, t, a);
          return {
            x: o[0],
            y: o[1],
            rotation: a.rotation + (a.labelDirection < 0 ? Math.PI : 0),
          };
        }),
        (e.prototype.updateHandleTransform = function (t, n, i, a) {
          var o = i.axis,
            s = o.coordinateSystem,
            l = dm(o),
            u = cb(s, l),
            c = [t.x, t.y];
          (c[l] += n[l]),
            (c[l] = Math.min(u[1], c[l])),
            (c[l] = Math.max(u[0], c[l]));
          var f = cb(s, 1 - l),
            d = (f[1] + f[0]) / 2,
            v = [d, d];
          return (
            (v[l] = c[l]),
            {
              x: c[0],
              y: c[1],
              rotation: t.rotation,
              cursorPoint: v,
              tooltipOption: { verticalAlign: 'middle' },
            }
          );
        }),
        e
      );
    })(tb),
    O8 = {
      line: function (r, e, t) {
        return {
          type: 'Line',
          subPixelOptimize: !0,
          shape: ib([e, t[0]], [e, t[1]], dm(r)),
        };
      },
      shadow: function (r, e, t) {
        var n = r.getBandWidth();
        return {
          type: 'Rect',
          shape: PL([e - n / 2, t[0]], [n, t[1] - t[0]], dm(r)),
        };
      },
    };
  function dm(r) {
    return r.isHorizontal() ? 0 : 1;
  }
  function cb(r, e) {
    var t = r.getRect();
    return [t[KL[e]], t[KL[e]] + t[P8[e]]];
  }
  var F8 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return ut(e, r), (e.type = 'single'), e;
    })(fn),
    N8 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.init = function (t, n, i) {
          var a = Rf(t);
          r.prototype.init.apply(this, arguments), QL(t, a);
        }),
        (e.prototype.mergeOption = function (t) {
          r.prototype.mergeOption.apply(this, arguments), QL(this.option, t);
        }),
        (e.prototype.getCellSize = function () {
          return this.option.cellSize;
        }),
        (e.type = 'calendar'),
        (e.defaultOption = {
          z: 2,
          left: 80,
          top: 60,
          cellSize: 20,
          orient: 'horizontal',
          splitLine: {
            show: !0,
            lineStyle: { color: '#000', width: 1, type: 'solid' },
          },
          itemStyle: { color: '#fff', borderWidth: 1, borderColor: '#ccc' },
          dayLabel: {
            show: !0,
            firstDay: 0,
            position: 'start',
            margin: '50%',
            color: '#000',
          },
          monthLabel: {
            show: !0,
            position: 'start',
            margin: 5,
            align: 'center',
            formatter: null,
            color: '#000',
          },
          yearLabel: {
            show: !0,
            position: null,
            margin: 30,
            formatter: null,
            color: '#ccc',
            fontFamily: 'sans-serif',
            fontWeight: 'bolder',
            fontSize: 20,
          },
        }),
        e
      );
    })(br);
  function QL(r, e) {
    var n,
      t = r.cellSize;
    1 === (n = Tt(t) ? t : (r.cellSize = [t, t])).length && (n[1] = n[0]);
    var i = Ut([0, 1], function (a) {
      return (
        (function WP(r, e) {
          return (
            null != r[cc[e][0]] || (null != r[cc[e][1]] && null != r[cc[e][2]])
          );
        })(e, a) && (n[a] = 'auto'),
        null != n[a] && 'auto' !== n[a]
      );
    });
    ql(r, e, { type: 'box', ignoreSize: i });
  }
  var z8 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i) {
          var a = this.group;
          a.removeAll();
          var o = t.coordinateSystem,
            s = o.getRangeInfo(),
            l = o.getOrient(),
            u = n.getLocaleModel();
          this._renderDayRect(t, s, a),
            this._renderLines(t, s, l, a),
            this._renderYearText(t, s, l, a),
            this._renderMonthText(t, u, l, a),
            this._renderWeekText(t, u, s, l, a);
        }),
        (e.prototype._renderDayRect = function (t, n, i) {
          for (
            var a = t.coordinateSystem,
              o = t.getModel('itemStyle').getItemStyle(),
              s = a.getCellWidth(),
              l = a.getCellHeight(),
              u = n.start.time;
            u <= n.end.time;
            u = a.getNextNDay(u, 1).time
          ) {
            var c = a.dataToRect([u], !1).tl,
              f = new Rr({
                shape: { x: c[0], y: c[1], width: s, height: l },
                cursor: 'default',
                style: o,
              });
            i.add(f);
          }
        }),
        (e.prototype._renderLines = function (t, n, i, a) {
          var o = this,
            s = t.coordinateSystem,
            l = t.getModel(['splitLine', 'lineStyle']).getLineStyle(),
            u = t.get(['splitLine', 'show']),
            c = l.lineWidth;
          (this._tlpoints = []),
            (this._blpoints = []),
            (this._firstDayOfMonth = []),
            (this._firstDayPoints = []);
          for (var f = n.start, d = 0; f.time <= n.end.time; d++) {
            g(f.formatedDate),
              0 === d && (f = s.getDateInfo(n.start.y + '-' + n.start.m));
            var v = f.date;
            v.setMonth(v.getMonth() + 1), (f = s.getDateInfo(v));
          }
          function g(m) {
            o._firstDayOfMonth.push(s.getDateInfo(m)),
              o._firstDayPoints.push(s.dataToRect([m], !1).tl);
            var y = o._getLinePointsOfOneWeek(t, m, i);
            o._tlpoints.push(y[0]),
              o._blpoints.push(y[y.length - 1]),
              u && o._drawSplitline(y, l, a);
          }
          g(s.getNextNDay(n.end.time, 1).formatedDate),
            u &&
              this._drawSplitline(o._getEdgesPoints(o._tlpoints, c, i), l, a),
            u &&
              this._drawSplitline(o._getEdgesPoints(o._blpoints, c, i), l, a);
        }),
        (e.prototype._getEdgesPoints = function (t, n, i) {
          var a = [t[0].slice(), t[t.length - 1].slice()],
            o = 'horizontal' === i ? 0 : 1;
          return (a[0][o] = a[0][o] - n / 2), (a[1][o] = a[1][o] + n / 2), a;
        }),
        (e.prototype._drawSplitline = function (t, n, i) {
          var a = new $i({ z2: 20, shape: { points: t }, style: n });
          i.add(a);
        }),
        (e.prototype._getLinePointsOfOneWeek = function (t, n, i) {
          for (
            var a = t.coordinateSystem, o = a.getDateInfo(n), s = [], l = 0;
            l < 7;
            l++
          ) {
            var u = a.getNextNDay(o.time, l),
              c = a.dataToRect([u.time], !1);
            (s[2 * u.day] = c.tl),
              (s[2 * u.day + 1] = c['horizontal' === i ? 'bl' : 'tr']);
          }
          return s;
        }),
        (e.prototype._formatterLabel = function (t, n) {
          return ht(t) && t
            ? (function zP(r, e, t) {
                return (
                  F(e, function (n, i) {
                    r = r.replace('{' + i + '}', t ? Dn(n) : n);
                  }),
                  r
                );
              })(t, n)
            : fe(t)
            ? t(n)
            : n.nameMap;
        }),
        (e.prototype._yearTextPositionControl = function (t, n, i, a, o) {
          var s = n[0],
            l = n[1],
            u = ['center', 'bottom'];
          'bottom' === a
            ? ((l += o), (u = ['center', 'top']))
            : 'left' === a
            ? (s -= o)
            : 'right' === a
            ? ((s += o), (u = ['center', 'top']))
            : (l -= o);
          var c = 0;
          return (
            ('left' === a || 'right' === a) && (c = Math.PI / 2),
            {
              rotation: c,
              x: s,
              y: l,
              style: { align: u[0], verticalAlign: u[1] },
            }
          );
        }),
        (e.prototype._renderYearText = function (t, n, i, a) {
          var o = t.getModel('yearLabel');
          if (o.get('show')) {
            var s = o.get('margin'),
              l = o.get('position');
            l || (l = 'horizontal' !== i ? 'top' : 'left');
            var u = [
                this._tlpoints[this._tlpoints.length - 1],
                this._blpoints[0],
              ],
              c = (u[0][0] + u[1][0]) / 2,
              f = (u[0][1] + u[1][1]) / 2,
              d = 'horizontal' === i ? 0 : 1,
              v = {
                top: [c, u[d][1]],
                bottom: [c, u[1 - d][1]],
                left: [u[1 - d][0], f],
                right: [u[d][0], f],
              },
              g = n.start.y;
            +n.end.y > +n.start.y && (g = g + '-' + n.end.y);
            var m = o.get('formatter'),
              b = this._formatterLabel(m, {
                start: n.start.y,
                end: n.end.y,
                nameMap: g,
              }),
              w = new Or({ z2: 30, style: on(o, { text: b }) });
            w.attr(this._yearTextPositionControl(w, v[l], i, l, s)), a.add(w);
          }
        }),
        (e.prototype._monthTextPositionControl = function (t, n, i, a, o) {
          var s = 'left',
            l = 'top',
            u = t[0],
            c = t[1];
          return (
            'horizontal' === i
              ? ((c += o), n && (s = 'center'), 'start' === a && (l = 'bottom'))
              : ((u += o), n && (l = 'middle'), 'start' === a && (s = 'right')),
            { x: u, y: c, align: s, verticalAlign: l }
          );
        }),
        (e.prototype._renderMonthText = function (t, n, i, a) {
          var o = t.getModel('monthLabel');
          if (o.get('show')) {
            var s = o.get('nameMap'),
              l = o.get('margin'),
              u = o.get('position'),
              c = o.get('align'),
              f = [this._tlpoints, this._blpoints];
            (!s || ht(s)) &&
              (s && (n = Cy(s) || n), (s = n.get(['time', 'monthAbbr']) || []));
            var d = 'start' === u ? 0 : 1,
              v = 'horizontal' === i ? 0 : 1;
            l = 'start' === u ? -l : l;
            for (var g = 'center' === c, m = 0; m < f[d].length - 1; m++) {
              var y = f[d][m].slice(),
                b = this._firstDayOfMonth[m];
              g && (y[v] = (this._firstDayPoints[m][v] + f[0][m + 1][v]) / 2);
              var C = o.get('formatter'),
                D = s[+b.m - 1],
                L = {
                  yyyy: b.y,
                  yy: (b.y + '').slice(2),
                  MM: b.m,
                  M: +b.m,
                  nameMap: D,
                },
                M = this._formatterLabel(C, L),
                E = new Or({
                  z2: 30,
                  style: nt(
                    on(o, { text: M }),
                    this._monthTextPositionControl(y, g, i, u, l)
                  ),
                });
              a.add(E);
            }
          }
        }),
        (e.prototype._weekTextPositionControl = function (t, n, i, a, o) {
          var s = 'center',
            l = 'middle',
            u = t[0],
            c = t[1],
            f = 'start' === i;
          return (
            'horizontal' === n
              ? ((u = u + a + ((f ? 1 : -1) * o[0]) / 2),
                (s = f ? 'right' : 'left'))
              : ((c = c + a + ((f ? 1 : -1) * o[1]) / 2),
                (l = f ? 'bottom' : 'top')),
            { x: u, y: c, align: s, verticalAlign: l }
          );
        }),
        (e.prototype._renderWeekText = function (t, n, i, a, o) {
          var s = t.getModel('dayLabel');
          if (s.get('show')) {
            var l = t.coordinateSystem,
              u = s.get('position'),
              c = s.get('nameMap'),
              f = s.get('margin'),
              d = l.getFirstDayOfWeek();
            (c && !ht(c)) ||
              (c && (n = Cy(c) || n),
              (c =
                n.get(['time', 'dayOfWeekShort']) ||
                Ut(n.get(['time', 'dayOfWeekAbbr']), function (L) {
                  return L[0];
                })));
            var g = l.getNextNDay(i.end.time, 7 - i.lweek).time,
              m = [l.getCellWidth(), l.getCellHeight()];
            (f = Te(f, Math.min(m[1], m[0]))),
              'start' === u &&
                ((g = l.getNextNDay(i.start.time, -(7 + i.fweek)).time),
                (f = -f));
            for (var y = 0; y < 7; y++) {
              var C,
                b = l.getNextNDay(g, y),
                w = l.dataToRect([b.time], !1).center;
              C = Math.abs((y + d) % 7);
              var D = new Or({
                z2: 30,
                style: nt(
                  on(s, { text: c[C] }),
                  this._weekTextPositionControl(w, a, u, f, m)
                ),
              });
              o.add(D);
            }
          }
        }),
        (e.type = 'calendar'),
        e
      );
    })(fn),
    fb = 864e5,
    V8 = (function () {
      function r(e, t, n) {
        (this.type = 'calendar'),
          (this.dimensions = r.dimensions),
          (this.getDimensionsInfo = r.getDimensionsInfo),
          (this._model = e);
      }
      return (
        (r.getDimensionsInfo = function () {
          return [{ name: 'time', type: 'time' }, 'value'];
        }),
        (r.prototype.getRangeInfo = function () {
          return this._rangeInfo;
        }),
        (r.prototype.getModel = function () {
          return this._model;
        }),
        (r.prototype.getRect = function () {
          return this._rect;
        }),
        (r.prototype.getCellWidth = function () {
          return this._sw;
        }),
        (r.prototype.getCellHeight = function () {
          return this._sh;
        }),
        (r.prototype.getOrient = function () {
          return this._orient;
        }),
        (r.prototype.getFirstDayOfWeek = function () {
          return this._firstDayOfWeek;
        }),
        (r.prototype.getDateInfo = function (e) {
          var t = (e = zi(e)).getFullYear(),
            n = e.getMonth() + 1,
            i = n < 10 ? '0' + n : '' + n,
            a = e.getDate(),
            o = a < 10 ? '0' + a : '' + a,
            s = e.getDay();
          return {
            y: t + '',
            m: i,
            d: o,
            day: (s = Math.abs((s + 7 - this.getFirstDayOfWeek()) % 7)),
            time: e.getTime(),
            formatedDate: t + '-' + i + '-' + o,
            date: e,
          };
        }),
        (r.prototype.getNextNDay = function (e, t) {
          return (
            0 === (t = t || 0) ||
              (e = new Date(this.getDateInfo(e).time)).setDate(e.getDate() + t),
            this.getDateInfo(e)
          );
        }),
        (r.prototype.update = function (e, t) {
          (this._firstDayOfWeek = +this._model
            .getModel('dayLabel')
            .get('firstDay')),
            (this._orient = this._model.get('orient')),
            (this._lineWidth =
              this._model.getModel('itemStyle').getItemStyle().lineWidth || 0),
            (this._rangeInfo = this._getRangeInfo(this._initRangeOption()));
          var n = this._rangeInfo.weeks || 1,
            i = ['width', 'height'],
            a = this._model.getCellSize().slice(),
            o = this._model.getBoxLayoutParams(),
            s = 'horizontal' === this._orient ? [n, 7] : [7, n];
          F([0, 1], function (f) {
            c(a, f) && (o[i[f]] = a[f] * s[f]);
          });
          var l = { width: t.getWidth(), height: t.getHeight() },
            u = (this._rect = Vn(o, l));
          function c(f, d) {
            return null != f[d] && 'auto' !== f[d];
          }
          F([0, 1], function (f) {
            c(a, f) || (a[f] = u[i[f]] / s[f]);
          }),
            (this._sw = a[0]),
            (this._sh = a[1]);
        }),
        (r.prototype.dataToPoint = function (e, t) {
          Tt(e) && (e = e[0]), null == t && (t = !0);
          var n = this.getDateInfo(e),
            i = this._rangeInfo;
          if (t && !(n.time >= i.start.time && n.time < i.end.time + fb))
            return [NaN, NaN];
          var o = n.day,
            s = this._getRangeInfo([i.start.time, n.formatedDate]).nthWeek;
          return 'vertical' === this._orient
            ? [
                this._rect.x + o * this._sw + this._sw / 2,
                this._rect.y + s * this._sh + this._sh / 2,
              ]
            : [
                this._rect.x + s * this._sw + this._sw / 2,
                this._rect.y + o * this._sh + this._sh / 2,
              ];
        }),
        (r.prototype.pointToData = function (e) {
          var t = this.pointToDate(e);
          return t && t.time;
        }),
        (r.prototype.dataToRect = function (e, t) {
          var n = this.dataToPoint(e, t);
          return {
            contentShape: {
              x: n[0] - (this._sw - this._lineWidth) / 2,
              y: n[1] - (this._sh - this._lineWidth) / 2,
              width: this._sw - this._lineWidth,
              height: this._sh - this._lineWidth,
            },
            center: n,
            tl: [n[0] - this._sw / 2, n[1] - this._sh / 2],
            tr: [n[0] + this._sw / 2, n[1] - this._sh / 2],
            br: [n[0] + this._sw / 2, n[1] + this._sh / 2],
            bl: [n[0] - this._sw / 2, n[1] + this._sh / 2],
          };
        }),
        (r.prototype.pointToDate = function (e) {
          var t = Math.floor((e[0] - this._rect.x) / this._sw) + 1,
            n = Math.floor((e[1] - this._rect.y) / this._sh) + 1,
            i = this._rangeInfo.range;
          return 'vertical' === this._orient
            ? this._getDateByWeeksAndDay(n, t - 1, i)
            : this._getDateByWeeksAndDay(t, n - 1, i);
        }),
        (r.prototype.convertToPixel = function (e, t, n) {
          var i = JL(t);
          return i === this ? i.dataToPoint(n) : null;
        }),
        (r.prototype.convertFromPixel = function (e, t, n) {
          var i = JL(t);
          return i === this ? i.pointToData(n) : null;
        }),
        (r.prototype.containPoint = function (e) {
          return console.warn('Not implemented.'), !1;
        }),
        (r.prototype._initRangeOption = function () {
          var t,
            e = this._model.get('range');
          if ((Tt(e) && 1 === e.length && (e = e[0]), Tt(e))) t = e;
          else {
            var n = e.toString();
            if (
              (/^\d{4}$/.test(n) && (t = [n + '-01-01', n + '-12-31']),
              /^\d{4}[\/|-]\d{1,2}$/.test(n))
            ) {
              var i = this.getDateInfo(n),
                a = i.date;
              a.setMonth(a.getMonth() + 1);
              var o = this.getNextNDay(a, -1);
              t = [i.formatedDate, o.formatedDate];
            }
            /^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n) && (t = [n, n]);
          }
          if (!t) return He('Invalid date range.'), e;
          var s = this._getRangeInfo(t);
          return s.start.time > s.end.time && t.reverse(), t;
        }),
        (r.prototype._getRangeInfo = function (e) {
          var n,
            t = [this.getDateInfo(e[0]), this.getDateInfo(e[1])];
          t[0].time > t[1].time && ((n = !0), t.reverse());
          var i = Math.floor(t[1].time / fb) - Math.floor(t[0].time / fb) + 1,
            a = new Date(t[0].time),
            o = a.getDate(),
            s = t[1].date.getDate();
          a.setDate(o + i - 1);
          var l = a.getDate();
          if (l !== s)
            for (
              var u = a.getTime() - t[1].time > 0 ? 1 : -1;
              (l = a.getDate()) !== s && (a.getTime() - t[1].time) * u > 0;

            )
              (i -= u), a.setDate(l - u);
          var c = Math.floor((i + t[0].day + 6) / 7),
            f = n ? 1 - c : c - 1;
          return (
            n && t.reverse(),
            {
              range: [t[0].formatedDate, t[1].formatedDate],
              start: t[0],
              end: t[1],
              allDay: i,
              weeks: c,
              nthWeek: f,
              fweek: t[0].day,
              lweek: t[1].day,
            }
          );
        }),
        (r.prototype._getDateByWeeksAndDay = function (e, t, n) {
          var i = this._getRangeInfo(n);
          if (
            e > i.weeks ||
            (0 === e && t < i.fweek) ||
            (e === i.weeks && t > i.lweek)
          )
            return null;
          var a = 7 * (e - 1) - i.fweek + t,
            o = new Date(i.start.time);
          return o.setDate(+i.start.d + a), this.getDateInfo(o);
        }),
        (r.create = function (e, t) {
          var n = [];
          return (
            e.eachComponent('calendar', function (i) {
              var a = new r(i, e, t);
              n.push(a), (i.coordinateSystem = a);
            }),
            e.eachSeries(function (i) {
              'calendar' === i.get('coordinateSystem') &&
                (i.coordinateSystem = n[i.get('calendarIndex') || 0]);
            }),
            n
          );
        }),
        (r.dimensions = ['time', 'value']),
        r
      );
    })();
  function JL(r) {
    var e = r.calendarModel,
      t = r.seriesModel;
    return e ? e.coordinateSystem : t ? t.coordinateSystem : null;
  }
  function tI(r, e) {
    var t;
    return (
      F(e, function (n) {
        null != r[n] && 'auto' !== r[n] && (t = !0);
      }),
      t
    );
  }
  var eI = ['transition', 'enterFrom', 'leaveTo'],
    $8 = eI.concat(['enterAnimation', 'updateAnimation', 'leaveAnimation']);
  function vm(r, e, t) {
    if ((t && (!r[t] && e[t] && (r[t] = {}), (r = r[t]), (e = e[t])), r && e))
      for (var n = t ? eI : $8, i = 0; i < n.length; i++) {
        var a = n[i];
        null == r[a] && null != e[a] && (r[a] = e[a]);
      }
  }
  var Y8 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), (t.preventAutoZ = !0), t;
      }
      return (
        ut(e, r),
        (e.prototype.mergeOption = function (t, n) {
          var i = this.option.elements;
          (this.option.elements = null),
            r.prototype.mergeOption.call(this, t, n),
            (this.option.elements = i);
        }),
        (e.prototype.optionUpdated = function (t, n) {
          var i = this.option,
            a = (n ? i : t).elements,
            o = (i.elements = n ? [] : i.elements),
            s = [];
          this._flatten(a, s, null);
          var l = Uh(o, s, 'normalMerge'),
            u = (this._elOptionsToUpdate = []);
          F(
            l,
            function (c, f) {
              var d = c.newOption;
              lt(Y(d) || c.existing, 'Empty graphic option definition'),
                d &&
                  (u.push(d),
                  (function G8(r, e) {
                    var t = r.existing;
                    if (
                      ((e.id = r.keyInfo.id),
                      !e.type && t && (e.type = t.type),
                      null == e.parentId)
                    ) {
                      var n = e.parentOption;
                      n ? (e.parentId = n.id) : t && (e.parentId = t.parentId);
                    }
                    e.parentOption = null;
                  })(c, d),
                  (function W8(r, e, t) {
                    var n = nt({}, t),
                      i = r[e],
                      a = t.$action || 'merge';
                    if ('merge' === a)
                      if (i) {
                        var o = t.type;
                        lt(
                          !o || i.type === o,
                          'Please set $action: "replace" to change `type`'
                        ),
                          Gt(i, n, !0),
                          ql(i, n, { ignoreSize: !0 }),
                          FS(t, i),
                          vm(t, i),
                          vm(t, i, 'shape'),
                          vm(t, i, 'style'),
                          vm(t, i, 'extra'),
                          (t.clipPath = i.clipPath);
                      } else r[e] = n;
                    else
                      'replace' === a
                        ? (r[e] = n)
                        : 'remove' === a && i && (r[e] = null);
                  })(o, f, d),
                  (function U8(r, e) {
                    if (
                      r &&
                      ((r.hv = e.hv =
                        [tI(e, ['left', 'right']), tI(e, ['top', 'bottom'])]),
                      'group' === r.type)
                    ) {
                      var t = r,
                        n = e;
                      null == t.width && (t.width = n.width = 0),
                        null == t.height && (t.height = n.height = 0);
                    }
                  })(o[f], d));
            },
            this
          ),
            (i.elements = je(o, function (c) {
              return c && delete c.$action, null != c;
            }));
        }),
        (e.prototype._flatten = function (t, n, i) {
          F(
            t,
            function (a) {
              if (a) {
                i && (a.parentOption = i), n.push(a);
                var o = a.children;
                o && o.length && this._flatten(o, n, a), delete a.children;
              }
            },
            this
          );
        }),
        (e.prototype.useElOptionsToUpdate = function () {
          var t = this._elOptionsToUpdate;
          return (this._elOptionsToUpdate = null), t;
        }),
        (e.type = 'graphic'),
        (e.defaultOption = { elements: [] }),
        e
      );
    })(br),
    rI = { path: null, compoundPath: null, group: Qe, image: ai, text: Or },
    vo = S(),
    X8 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.init = function () {
          this._elMap = Nt();
        }),
        (e.prototype.render = function (t, n, i) {
          t !== this._lastGraphicModel && this._clear(),
            (this._lastGraphicModel = t),
            this._updateElements(t),
            this._relocate(t, i);
        }),
        (e.prototype._updateElements = function (t) {
          var n = t.useElOptionsToUpdate();
          if (n) {
            var i = this._elMap,
              a = this.group,
              o = t.get('z'),
              s = t.get('zlevel');
            F(n, function (l) {
              var u = gn(l.id, null),
                c = null != u ? i.get(u) : null,
                f = gn(l.parentId, null),
                d = null != f ? i.get(f) : a,
                v = l.type,
                g = l.style;
              'text' === v &&
                g &&
                l.hv &&
                l.hv[1] &&
                (g.textVerticalAlign =
                  g.textBaseline =
                  g.verticalAlign =
                  g.align =
                    null);
              var m = l.textContent,
                y = l.textConfig;
              if (g && rL(g, v, !!y, !!m)) {
                var b = nL(g, v, !0);
                !y && b.textConfig && (y = l.textConfig = b.textConfig),
                  !m && b.textContent && (m = b.textContent);
              }
              var w = (function Z8(r) {
                return (
                  (r = nt({}, r)),
                  F(
                    [
                      'id',
                      'parentId',
                      '$action',
                      'hv',
                      'bounding',
                      'textContent',
                      'clipPath',
                    ].concat(OS),
                    function (e) {
                      delete r[e];
                    }
                  ),
                  r
                );
              })(l);
              c && lt(d === c.parent, 'Changing parent is not supported.');
              var C = l.$action || 'merge',
                D = 'merge' === C,
                L = 'replace' === C;
              if (D) {
                var E = c;
                (M = !c)
                  ? (E = nI(u, d, l.type, i))
                  : (E && (vo(E).isNew = !1), gL(E)),
                  E && (im(E, w, t, { isInit: M }), iI(E, l, o, s));
              } else if (L) {
                pm(c, l, i, t);
                var O = nI(u, d, l.type, i);
                O && (im(O, w, t, { isInit: !0 }), iI(O, l, o, s));
              } else 'remove' === C && (fL(c, l), pm(c, l, i, t));
              var z = i.get(u);
              if (z && m)
                if (D) {
                  var H = z.getTextContent();
                  H ? H.attr(m) : z.setTextContent(new Or(m));
                } else L && z.setTextContent(new Or(m));
              if (z) {
                var G = l.clipPath;
                if (G) {
                  var X = G.type,
                    K = void 0,
                    M = !1;
                  if (D) {
                    var tt = z.getClipPath();
                    K = (M = !tt || vo(tt).type !== X) ? hb(X) : tt;
                  } else L && ((M = !0), (K = hb(X)));
                  z.setClipPath(K),
                    im(K, G, t, { isInit: M }),
                    om(K, G.keyframeAnimation, t);
                }
                var ot = vo(z);
                z.setTextConfig(y),
                  (ot.option = l),
                  (function q8(r, e, t) {
                    var n = fr(r).eventData;
                    !r.silent &&
                      !r.ignore &&
                      !n &&
                      (n = fr(r).eventData =
                        {
                          componentType: 'graphic',
                          componentIndex: e.componentIndex,
                          name: r.name,
                        }),
                      n && (n.info = t.info);
                  })(z, t, l),
                  Lf({
                    el: z,
                    componentModel: t,
                    itemName: z.name,
                    itemTooltipOption: l.tooltip,
                  }),
                  om(z, l.keyframeAnimation, t);
              }
            });
          }
        }),
        (e.prototype._relocate = function (t, n) {
          for (
            var i = t.option.elements,
              a = this.group,
              o = this._elMap,
              s = n.getWidth(),
              l = n.getHeight(),
              u = ['x', 'y'],
              c = 0;
            c < i.length;
            c++
          )
            if (
              (v = null != (d = gn((f = i[c]).id, null)) ? o.get(d) : null) &&
              v.isGroup
            ) {
              var m = (g = v.parent) === a,
                y = vo(v),
                b = vo(g);
              (y.width = Te(y.option.width, m ? s : b.width) || 0),
                (y.height = Te(y.option.height, m ? l : b.height) || 0);
            }
          for (c = i.length - 1; c >= 0; c--) {
            var f, d, v;
            if ((v = null != (d = gn((f = i[c]).id, null)) ? o.get(d) : null)) {
              b = vo((g = v.parent));
              var g,
                C = {},
                D = zp(
                  v,
                  f,
                  g === a
                    ? { width: s, height: l }
                    : { width: b.width, height: b.height },
                  null,
                  { hv: f.hv, boundingMode: f.bounding },
                  C
                );
              if (!vo(v).isNew && D) {
                for (var L = f.transition, M = {}, E = 0; E < u.length; E++) {
                  var O = u[E],
                    z = C[O];
                  L && (Hc(L) || $(L, O) >= 0) ? (M[O] = z) : (v[O] = z);
                }
                Wr(v, M, t, 0);
              } else v.attr(C);
            }
          }
        }),
        (e.prototype._clear = function () {
          var t = this,
            n = this._elMap;
          n.each(function (i) {
            pm(i, vo(i).option, n, t._lastGraphicModel);
          }),
            (this._elMap = Nt());
        }),
        (e.prototype.dispose = function () {
          this._clear();
        }),
        (e.type = 'graphic'),
        e
      );
    })(fn);
  function hb(r) {
    lt(r, 'graphic type MUST be set');
    var e = ce(rI, r) ? rI[r] : Dp(r);
    lt(e, 'graphic type ' + r + ' can not be found');
    var t = new e({});
    return (vo(t).type = r), t;
  }
  function nI(r, e, t, n) {
    var i = hb(t);
    return e.add(i), n.set(r, i), (vo(i).id = r), (vo(i).isNew = !0), i;
  }
  function pm(r, e, t, n) {
    r &&
      r.parent &&
      ('group' === r.type &&
        r.traverse(function (a) {
          pm(a, e, t, n);
        }),
      am(r, e, n),
      t.removeKey(vo(r).id));
  }
  function iI(r, e, t, n) {
    r.isGroup ||
      F(
        [
          ['cursor', sa.prototype.cursor],
          ['zlevel', n || 0],
          ['z', t || 0],
          ['z2', 0],
        ],
        function (i) {
          var a = i[0];
          ce(e, a) ? (r[a] = B(e[a], i[1])) : null == r[a] && (r[a] = i[1]);
        }
      ),
      F(Ne(e), function (i) {
        if (0 === i.indexOf('on')) {
          var a = e[i];
          r[i] = fe(a) ? a : null;
        }
      }),
      ce(e, 'draggable') && (r.draggable = e.draggable),
      null != e.name && (r.name = e.name),
      null != e.id && (r.id = e.id);
  }
  var aI = ['x', 'y', 'radius', 'angle', 'single'],
    K8 = ['cartesian2d', 'polar', 'singleAxis'];
  function uu(r) {
    return lt(r), r + 'Axis';
  }
  function oI(r) {
    var e = r.ecModel,
      t = { infoList: [], infoMap: Nt() };
    return (
      r.eachTargetAxis(function (n, i) {
        var a = e.getComponent(uu(n), i);
        if (a) {
          var o = a.getCoordSysModel();
          if (o) {
            var s = o.uid,
              l = t.infoMap.get(s);
            l ||
              (t.infoList.push((l = { model: o, axisModels: [] })),
              t.infoMap.set(s, l)),
              l.axisModels.push(a);
          }
        }
      }),
      t
    );
  }
  var db = (function () {
      function r() {
        (this.indexList = []), (this.indexMap = []);
      }
      return (
        (r.prototype.add = function (e) {
          this.indexMap[e] || (this.indexList.push(e), (this.indexMap[e] = !0));
        }),
        r
      );
    })(),
    vv = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (
          (t.type = e.type),
          (t._autoThrottle = !0),
          (t._noTarget = !0),
          (t._rangePropMode = ['percent', 'percent']),
          t
        );
      }
      return (
        ut(e, r),
        (e.prototype.init = function (t, n, i) {
          var a = sI(t);
          (this.settledOption = a),
            this.mergeDefaultAndTheme(t, i),
            this._doInit(a);
        }),
        (e.prototype.mergeOption = function (t) {
          var n = sI(t);
          Gt(this.option, t, !0),
            Gt(this.settledOption, n, !0),
            this._doInit(n);
        }),
        (e.prototype._doInit = function (t) {
          var n = this.option;
          this._setDefaultThrottle(t), this._updateRangeUse(t);
          var i = this.settledOption;
          F(
            [
              ['start', 'startValue'],
              ['end', 'endValue'],
            ],
            function (a, o) {
              'value' === this._rangePropMode[o] && (n[a[0]] = i[a[0]] = null);
            },
            this
          ),
            this._resetTarget();
        }),
        (e.prototype._resetTarget = function () {
          var t = this.get('orient', !0),
            n = (this._targetAxisInfoMap = Nt());
          this._fillSpecifiedTargetAxis(n)
            ? (this._orient = t || this._makeAutoOrientByTargetAxis())
            : ((this._orient = t || 'horizontal'),
              this._fillAutoTargetAxisByOrient(n, this._orient)),
            (this._noTarget = !0),
            n.each(function (a) {
              a.indexList.length && (this._noTarget = !1);
            }, this);
        }),
        (e.prototype._fillSpecifiedTargetAxis = function (t) {
          var n = !1;
          return (
            F(
              aI,
              function (i) {
                var a = this.getReferringComponents(uu(i), V);
                if (a.specified) {
                  n = !0;
                  var o = new db();
                  F(a.models, function (s) {
                    o.add(s.componentIndex);
                  }),
                    t.set(i, o);
                }
              },
              this
            ),
            n
          );
        }),
        (e.prototype._fillAutoTargetAxisByOrient = function (t, n) {
          var i = this.ecModel,
            a = !0;
          if (a) {
            var o = 'vertical' === n ? 'y' : 'x';
            l(i.findComponents({ mainType: o + 'Axis' }), o);
          }
          function l(u, c) {
            var f = u[0];
            if (f) {
              var d = new db();
              if (
                (d.add(f.componentIndex),
                t.set(c, d),
                (a = !1),
                'x' === c || 'y' === c)
              ) {
                var v = f.getReferringComponents('grid', N).models[0];
                v &&
                  F(u, function (g) {
                    f.componentIndex !== g.componentIndex &&
                      v === g.getReferringComponents('grid', N).models[0] &&
                      d.add(g.componentIndex);
                  });
              }
            }
          }
          a &&
            l(
              i.findComponents({
                mainType: 'singleAxis',
                filter: function (c) {
                  return c.get('orient', !0) === n;
                },
              }),
              'single'
            ),
            a &&
              F(
                aI,
                function (u) {
                  if (a) {
                    var c = i.findComponents({
                      mainType: uu(u),
                      filter: function (d) {
                        return 'category' === d.get('type', !0);
                      },
                    });
                    if (c[0]) {
                      var f = new db();
                      f.add(c[0].componentIndex), t.set(u, f), (a = !1);
                    }
                  }
                },
                this
              );
        }),
        (e.prototype._makeAutoOrientByTargetAxis = function () {
          var t;
          return (
            this.eachTargetAxis(function (n) {
              !t && (t = n);
            }, this),
            'y' === t ? 'vertical' : 'horizontal'
          );
        }),
        (e.prototype._setDefaultThrottle = function (t) {
          if (
            (t.hasOwnProperty('throttle') && (this._autoThrottle = !1),
            this._autoThrottle)
          ) {
            var n = this.ecModel.option;
            this.option.throttle =
              n.animation && n.animationDurationUpdate > 0 ? 100 : 20;
          }
        }),
        (e.prototype._updateRangeUse = function (t) {
          var n = this._rangePropMode,
            i = this.get('rangeMode');
          F(
            [
              ['start', 'startValue'],
              ['end', 'endValue'],
            ],
            function (a, o) {
              var s = null != t[a[0]],
                l = null != t[a[1]];
              s && !l
                ? (n[o] = 'percent')
                : !s && l
                ? (n[o] = 'value')
                : i
                ? (n[o] = i[o])
                : s && (n[o] = 'percent');
            }
          );
        }),
        (e.prototype.noTarget = function () {
          return this._noTarget;
        }),
        (e.prototype.getFirstTargetAxisModel = function () {
          var t;
          return (
            this.eachTargetAxis(function (n, i) {
              null == t && (t = this.ecModel.getComponent(uu(n), i));
            }, this),
            t
          );
        }),
        (e.prototype.eachTargetAxis = function (t, n) {
          this._targetAxisInfoMap.each(function (i, a) {
            F(i.indexList, function (o) {
              t.call(n, a, o);
            });
          });
        }),
        (e.prototype.getAxisProxy = function (t, n) {
          var i = this.getAxisModel(t, n);
          if (i) return i.__dzAxisProxy;
        }),
        (e.prototype.getAxisModel = function (t, n) {
          lt(t && null != n);
          var i = this._targetAxisInfoMap.get(t);
          if (i && i.indexMap[n]) return this.ecModel.getComponent(uu(t), n);
        }),
        (e.prototype.setRawRange = function (t) {
          var n = this.option,
            i = this.settledOption;
          F(
            [
              ['start', 'startValue'],
              ['end', 'endValue'],
            ],
            function (a) {
              (null != t[a[0]] || null != t[a[1]]) &&
                ((n[a[0]] = i[a[0]] = t[a[0]]), (n[a[1]] = i[a[1]] = t[a[1]]));
            },
            this
          ),
            this._updateRangeUse(t);
        }),
        (e.prototype.setCalculatedRange = function (t) {
          var n = this.option;
          F(['start', 'startValue', 'end', 'endValue'], function (i) {
            n[i] = t[i];
          });
        }),
        (e.prototype.getPercentRange = function () {
          var t = this.findRepresentativeAxisProxy();
          if (t) return t.getDataPercentWindow();
        }),
        (e.prototype.getValueRange = function (t, n) {
          if (null != t || null != n)
            return this.getAxisProxy(t, n).getDataValueWindow();
          var i = this.findRepresentativeAxisProxy();
          return i ? i.getDataValueWindow() : void 0;
        }),
        (e.prototype.findRepresentativeAxisProxy = function (t) {
          if (t) return t.__dzAxisProxy;
          for (
            var n, i = this._targetAxisInfoMap.keys(), a = 0;
            a < i.length;
            a++
          )
            for (
              var o = i[a], s = this._targetAxisInfoMap.get(o), l = 0;
              l < s.indexList.length;
              l++
            ) {
              var u = this.getAxisProxy(o, s.indexList[l]);
              if (u.hostedBy(this)) return u;
              n || (n = u);
            }
          return n;
        }),
        (e.prototype.getRangePropMode = function () {
          return this._rangePropMode.slice();
        }),
        (e.prototype.getOrient = function () {
          return lt(this._orient), this._orient;
        }),
        (e.type = 'dataZoom'),
        (e.dependencies = [
          'xAxis',
          'yAxis',
          'radiusAxis',
          'angleAxis',
          'singleAxis',
          'series',
          'toolbox',
        ]),
        (e.defaultOption = { z: 4, filterMode: 'filter', start: 0, end: 100 }),
        e
      );
    })(br);
  function sI(r) {
    var e = {};
    return (
      F(['start', 'end', 'startValue', 'endValue', 'throttle'], function (t) {
        r.hasOwnProperty(t) && (e[t] = r[t]);
      }),
      e
    );
  }
  var t9 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return ut(e, r), (e.type = 'dataZoom.select'), e;
    })(vv),
    vb = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i, a) {
          (this.dataZoomModel = t), (this.ecModel = n), (this.api = i);
        }),
        (e.type = 'dataZoom'),
        e
      );
    })(fn),
    e9 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return ut(e, r), (e.type = 'dataZoom.select'), e;
    })(vb),
    uh = F,
    lI = Zn,
    r9 = (function () {
      function r(e, t, n, i) {
        (this._dimName = e),
          (this._axisIndex = t),
          (this.ecModel = i),
          (this._dataZoomModel = n);
      }
      return (
        (r.prototype.hostedBy = function (e) {
          return this._dataZoomModel === e;
        }),
        (r.prototype.getDataValueWindow = function () {
          return this._valueWindow.slice();
        }),
        (r.prototype.getDataPercentWindow = function () {
          return this._percentWindow.slice();
        }),
        (r.prototype.getTargetSeriesModels = function () {
          var e = [];
          return (
            this.ecModel.eachSeries(function (t) {
              if (
                (function Q8(r) {
                  var e = r.get('coordinateSystem');
                  return $(K8, e) >= 0;
                })(t)
              ) {
                var n = uu(this._dimName),
                  i = t.getReferringComponents(n, N).models[0];
                i && this._axisIndex === i.componentIndex && e.push(t);
              }
            }, this),
            e
          );
        }),
        (r.prototype.getAxisModel = function () {
          return this.ecModel.getComponent(
            this._dimName + 'Axis',
            this._axisIndex
          );
        }),
        (r.prototype.getMinMaxSpan = function () {
          return ft(this._minMaxSpan);
        }),
        (r.prototype.calculateDataWindow = function (e) {
          var u,
            t = this._dataExtent,
            i = this.getAxisModel().axis.scale,
            a = this._dataZoomModel.getRangePropMode(),
            o = [0, 100],
            s = [],
            l = [];
          uh(['start', 'end'], function (d, v) {
            var g = e[d],
              m = e[d + 'Value'];
            'percent' === a[v]
              ? (null == g && (g = o[v]), (m = i.parse(kr(g, o, t))))
              : ((u = !0), (g = kr((m = null == m ? t[v] : i.parse(m)), t, o))),
              (l[v] = null == m || isNaN(m) ? t[v] : m),
              (s[v] = null == g || isNaN(g) ? o[v] : g);
          }),
            lI(l),
            lI(s);
          var c = this._minMaxSpan;
          function f(d, v, g, m, y) {
            var b = y ? 'Span' : 'ValueSpan';
            Nc(0, d, g, 'all', c['min' + b], c['max' + b]);
            for (var w = 0; w < 2; w++)
              (v[w] = kr(d[w], g, m, !0)), y && (v[w] = i.parse(v[w]));
          }
          return (
            u ? f(l, s, t, o, !1) : f(s, l, o, t, !0),
            { valueWindow: l, percentWindow: s }
          );
        }),
        (r.prototype.reset = function (e) {
          if (e === this._dataZoomModel) {
            var t = this.getTargetSeriesModels();
            (this._dataExtent = (function n9(r, e, t) {
              var n = [1 / 0, -1 / 0];
              uh(t, function (o) {
                !(function DB(r, e, t) {
                  e &&
                    F(Sg(e, t), function (n) {
                      var i = e.getApproximateExtent(n);
                      i[0] < r[0] && (r[0] = i[0]),
                        i[1] > r[1] && (r[1] = i[1]);
                    });
                })(n, o.getData(), e);
              });
              var i = r.getAxisModel(),
                a = xD(i.axis.scale, i, n).calculate();
              return [a.min, a.max];
            })(this, this._dimName, t)),
              this._updateMinMaxSpan();
            var n = this.calculateDataWindow(e.settledOption);
            (this._valueWindow = n.valueWindow),
              (this._percentWindow = n.percentWindow),
              this._setAxisModel();
          }
        }),
        (r.prototype.filterData = function (e, t) {
          if (e === this._dataZoomModel) {
            var n = this._dimName,
              i = this.getTargetSeriesModels(),
              a = e.get('filterMode'),
              o = this._valueWindow;
            'none' !== a &&
              uh(i, function (l) {
                var u = l.getData(),
                  c = u.mapDimensionsAll(n);
                if (c.length) {
                  if ('weakFilter' === a) {
                    var f = u.getStore(),
                      d = Ut(
                        c,
                        function (v) {
                          return u.getDimensionIndex(v);
                        },
                        u
                      );
                    u.filterSelf(function (v) {
                      for (var g, m, y, b = 0; b < c.length; b++) {
                        var w = f.get(d[b], v),
                          C = !isNaN(w),
                          D = w < o[0],
                          L = w > o[1];
                        if (C && !D && !L) return !0;
                        C && (y = !0), D && (g = !0), L && (m = !0);
                      }
                      return y && g && m;
                    });
                  } else
                    uh(c, function (v) {
                      if ('empty' === a)
                        l.setData(
                          (u = u.map(v, function (m) {
                            return (function s(l) {
                              return l >= o[0] && l <= o[1];
                            })(m)
                              ? m
                              : NaN;
                          }))
                        );
                      else {
                        var g = {};
                        (g[v] = o), u.selectRange(g);
                      }
                    });
                  uh(c, function (v) {
                    u.setApproximateExtent(o, v);
                  });
                }
              });
          }
        }),
        (r.prototype._updateMinMaxSpan = function () {
          var e = (this._minMaxSpan = {}),
            t = this._dataZoomModel,
            n = this._dataExtent;
          uh(
            ['min', 'max'],
            function (i) {
              var a = t.get(i + 'Span'),
                o = t.get(i + 'ValueSpan');
              null != o && (o = this.getAxisModel().axis.scale.parse(o)),
                null != o
                  ? (a = kr(n[0] + o, n, [0, 100], !0))
                  : null != a && (o = kr(a, [0, 100], n, !0) - n[0]),
                (e[i + 'Span'] = a),
                (e[i + 'ValueSpan'] = o);
            },
            this
          );
        }),
        (r.prototype._setAxisModel = function () {
          var e = this.getAxisModel(),
            t = this._percentWindow,
            n = this._valueWindow;
          if (t) {
            var i = uf(n, [0, 500]);
            i = Math.min(i, 20);
            var a = e.axis.scale.rawExtentInfo;
            0 !== t[0] && a.setDeterminedMinMax('min', +n[0].toFixed(i)),
              100 !== t[1] && a.setDeterminedMinMax('max', +n[1].toFixed(i)),
              a.freeze();
          }
        }),
        r
      );
    })(),
    i9 = {
      getTargetSeries: function (r) {
        function e(i) {
          r.eachComponent('dataZoom', function (a) {
            a.eachTargetAxis(function (o, s) {
              var l = r.getComponent(uu(o), s);
              i(o, s, l, a);
            });
          });
        }
        e(function (i, a, o, s) {
          o.__dzAxisProxy = null;
        });
        var t = [];
        e(function (i, a, o, s) {
          o.__dzAxisProxy ||
            ((o.__dzAxisProxy = new r9(i, a, s, r)), t.push(o.__dzAxisProxy));
        });
        var n = Nt();
        return (
          F(t, function (i) {
            F(i.getTargetSeriesModels(), function (a) {
              n.set(a.uid, a);
            });
          }),
          n
        );
      },
      overallReset: function (r, e) {
        r.eachComponent('dataZoom', function (t) {
          t.eachTargetAxis(function (n, i) {
            t.getAxisProxy(n, i).reset(t);
          }),
            t.eachTargetAxis(function (n, i) {
              t.getAxisProxy(n, i).filterData(t, e);
            });
        }),
          r.eachComponent('dataZoom', function (t) {
            var n = t.findRepresentativeAxisProxy();
            if (n) {
              var i = n.getDataPercentWindow(),
                a = n.getDataValueWindow();
              t.setCalculatedRange({
                start: i[0],
                end: i[1],
                startValue: a[0],
                endValue: a[1],
              });
            }
          });
      },
    },
    uI = !1;
  function pb(r) {
    uI ||
      ((uI = !0),
      r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER, i9),
      (function a9(r) {
        r.registerAction('dataZoom', function (e, t) {
          F(
            (function J8(r, e) {
              var a,
                t = Nt(),
                n = [],
                i = Nt();
              r.eachComponent({ mainType: 'dataZoom', query: e }, function (c) {
                i.get(c.uid) || s(c);
              });
              do {
                (a = !1), r.eachComponent('dataZoom', o);
              } while (a);
              function o(c) {
                !i.get(c.uid) &&
                  (function l(c) {
                    var f = !1;
                    return (
                      c.eachTargetAxis(function (d, v) {
                        var g = t.get(d);
                        g && g[v] && (f = !0);
                      }),
                      f
                    );
                  })(c) &&
                  (s(c), (a = !0));
              }
              function s(c) {
                i.set(c.uid, !0),
                  n.push(c),
                  (function u(c) {
                    c.eachTargetAxis(function (f, d) {
                      (t.get(f) || t.set(f, []))[d] = !0;
                    });
                  })(c);
              }
              return n;
            })(t, e),
            function (i) {
              i.setRawRange({
                start: e.start,
                end: e.end,
                startValue: e.startValue,
                endValue: e.endValue,
              });
            }
          );
        });
      })(r),
      r.registerSubTypeDefaulter('dataZoom', function () {
        return 'slider';
      }));
  }
  function o9(r) {
    r.registerComponentModel(t9), r.registerComponentView(e9), pb(r);
  }
  var po = function r() {},
    cI = {};
  function ch(r, e) {
    cI[r] = e;
  }
  function fI(r) {
    return cI[r];
  }
  var s9 = (function (r) {
    function e() {
      var t = (null !== r && r.apply(this, arguments)) || this;
      return (t.type = e.type), t;
    }
    return (
      ut(e, r),
      (e.prototype.optionUpdated = function () {
        r.prototype.optionUpdated.apply(this, arguments);
        var t = this.ecModel;
        F(this.option.feature, function (n, i) {
          var a = fI(i);
          a &&
            (a.getDefaultOption && (a.defaultOption = a.getDefaultOption(t)),
            Gt(n, a.defaultOption));
        });
      }),
      (e.type = 'toolbox'),
      (e.layoutMode = { type: 'box', ignoreSize: !0 }),
      (e.defaultOption = {
        show: !0,
        z: 6,
        orient: 'horizontal',
        left: 'right',
        top: 'top',
        backgroundColor: 'transparent',
        borderColor: '#ccc',
        borderRadius: 0,
        borderWidth: 0,
        padding: 5,
        itemSize: 15,
        itemGap: 8,
        showTitle: !0,
        iconStyle: { borderColor: '#666', color: 'none' },
        emphasis: { iconStyle: { borderColor: '#3E98C5' } },
        tooltip: { show: !1, position: 'bottom' },
      }),
      e
    );
  })(br);
  function hI(r, e) {
    var t = lc(e.get('padding')),
      n = e.getItemStyle(['color', 'opacity']);
    return (
      (n.fill = e.get('backgroundColor')),
      new Rr({
        shape: {
          x: r.x - t[3],
          y: r.y - t[0],
          width: r.width + t[1] + t[3],
          height: r.height + t[0] + t[2],
          r: e.get('borderRadius'),
        },
        style: n,
        silent: !0,
        z2: -1,
      })
    );
  }
  var u9 = (function (r) {
      function e() {
        return (null !== r && r.apply(this, arguments)) || this;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i, a) {
          var o = this.group;
          if ((o.removeAll(), t.get('show'))) {
            var s = +t.get('itemSize'),
              l = 'vertical' === t.get('orient'),
              u = t.get('feature') || {},
              c = this._features || (this._features = {}),
              f = [];
            F(u, function (g, m) {
              f.push(m);
            }),
              new nl(this._featureNames || [], f)
                .add(d)
                .update(d)
                .remove(me(d, null))
                .execute(),
              (this._featureNames = f),
              (function l9(r, e, t) {
                var n = e.getBoxLayoutParams(),
                  i = e.get('padding'),
                  a = { width: t.getWidth(), height: t.getHeight() },
                  o = Vn(n, a, i);
                fc(e.get('orient'), r, e.get('itemGap'), o.width, o.height),
                  zp(r, n, a, i);
              })(o, t, i),
              o.add(hI(o.getBoundingRect(), t)),
              l ||
                o.eachChild(function (g) {
                  var m = g.__title,
                    y = g.ensureState('emphasis'),
                    b = y.textConfig || (y.textConfig = {}),
                    w = g.getTextContent(),
                    C = w && w.ensureState('emphasis');
                  if (C && !fe(C) && m) {
                    var D = C.style || (C.style = {}),
                      L = kl(m, Or.makeFont(D)),
                      M = g.x + o.x,
                      O = !1;
                    g.y + o.y + s + L.height > i.getHeight() &&
                      ((b.position = 'top'), (O = !0));
                    var z = O ? -5 - L.height : s + 10;
                    M + L.width / 2 > i.getWidth()
                      ? ((b.position = ['100%', z]), (D.align = 'right'))
                      : M - L.width / 2 < 0 &&
                        ((b.position = [0, z]), (D.align = 'left'));
                  }
                });
          }
          function d(g, m) {
            var D,
              y = f[g],
              b = f[m],
              w = u[y],
              C = new Yr(w, t, t.ecModel);
            if (
              (a &&
                null != a.newTitle &&
                a.featureName === y &&
                (w.title = a.newTitle),
              y && !b)
            ) {
              if (
                (function c9(r) {
                  return 0 === r.indexOf('my');
                })(y)
              )
                D = { onclick: C.option.onclick, featureName: y };
              else {
                var L = fI(y);
                if (!L) return;
                D = new L();
              }
              c[y] = D;
            } else if (!(D = c[b])) return;
            (D.uid = kf('toolbox-feature')),
              (D.model = C),
              (D.ecModel = n),
              (D.api = i);
            var M = D instanceof po;
            y || !b
              ? !C.get('show') || (M && D.unusable)
                ? M && D.remove && D.remove(n, i)
                : ((function v(g, m, y) {
                    var L,
                      M,
                      b = g.getModel('iconStyle'),
                      w = g.getModel(['emphasis', 'iconStyle']),
                      C =
                        m instanceof po && m.getIcons
                          ? m.getIcons()
                          : g.get('icon'),
                      D = g.get('title') || {};
                    ht(C) ? ((L = {})[y] = C) : (L = C),
                      ht(D) ? ((M = {})[y] = D) : (M = D);
                    var E = (g.iconPaths = {});
                    F(L, function (O, z) {
                      var H = Mf(
                        O,
                        {},
                        { x: -s / 2, y: -s / 2, width: s, height: s }
                      );
                      H.setStyle(b.getItemStyle()),
                        (H.ensureState('emphasis').style = w.getItemStyle());
                      var X = new Or({
                        style: {
                          text: M[z],
                          align: w.get('textAlign'),
                          borderRadius: w.get('textBorderRadius'),
                          padding: w.get('textPadding'),
                          fill: null,
                        },
                        ignore: !0,
                      });
                      H.setTextContent(X),
                        Lf({
                          el: H,
                          componentModel: t,
                          itemName: z,
                          formatterParamsExtra: { title: M[z] },
                        }),
                        (H.__title = M[z]),
                        H.on('mouseover', function () {
                          var K = w.getItemStyle(),
                            tt = l
                              ? null == t.get('right') &&
                                'right' !== t.get('left')
                                ? 'right'
                                : 'left'
                              : null == t.get('bottom') &&
                                'bottom' !== t.get('top')
                              ? 'bottom'
                              : 'top';
                          X.setStyle({
                            fill:
                              w.get('textFill') || K.fill || K.stroke || '#000',
                            backgroundColor: w.get('textBackgroundColor'),
                          }),
                            H.setTextConfig({
                              position: w.get('textPosition') || tt,
                            }),
                            (X.ignore = !t.get('showTitle')),
                            i.enterEmphasis(this);
                        }).on('mouseout', function () {
                          'emphasis' !== g.get(['iconStatus', z]) &&
                            i.leaveEmphasis(this),
                            X.hide();
                        }),
                        ('emphasis' === g.get(['iconStatus', z]) ? Js : tl)(H),
                        o.add(H),
                        H.on('click', kt(m.onclick, m, n, i, z)),
                        (E[z] = H);
                    });
                  })(C, D, y),
                  (C.setIconStatus = function (E, O) {
                    var z = this.option,
                      H = this.iconPaths;
                    (z.iconStatus = z.iconStatus || {}),
                      (z.iconStatus[E] = O),
                      H[E] && ('emphasis' === O ? Js : tl)(H[E]);
                  }),
                  D instanceof po && D.render && D.render(C, n, i, a))
              : M && D.dispose && D.dispose(n, i);
          }
        }),
        (e.prototype.updateView = function (t, n, i, a) {
          F(this._features, function (o) {
            o instanceof po && o.updateView && o.updateView(o.model, n, i, a);
          });
        }),
        (e.prototype.remove = function (t, n) {
          F(this._features, function (i) {
            i instanceof po && i.remove && i.remove(t, n);
          }),
            this.group.removeAll();
        }),
        (e.prototype.dispose = function (t, n) {
          F(this._features, function (i) {
            i instanceof po && i.dispose && i.dispose(t, n);
          });
        }),
        (e.type = 'toolbox'),
        e
      );
    })(fn),
    f9 = (function (r) {
      function e() {
        return (null !== r && r.apply(this, arguments)) || this;
      }
      return (
        ut(e, r),
        (e.prototype.onclick = function (t, n) {
          var i = this.model,
            a = i.get('name') || t.get('title.0.text') || 'echarts',
            o = 'svg' === n.getZr().painter.getType(),
            s = o ? 'svg' : i.get('type', !0) || 'png',
            l = n.getConnectedDataURL({
              type: s,
              backgroundColor:
                i.get('backgroundColor', !0) ||
                t.get('backgroundColor') ||
                '#fff',
              connectedBackgroundColor: i.get('connectedBackgroundColor'),
              excludeComponents: i.get('excludeComponents'),
              pixelRatio: i.get('pixelRatio'),
            }),
            u = Lt.browser;
          if (fe(MouseEvent) && (u.newEdge || (!u.ie && !u.edge))) {
            var c = document.createElement('a');
            (c.download = a + '.' + s), (c.target = '_blank'), (c.href = l);
            var f = new MouseEvent('click', {
              view: document.defaultView,
              bubbles: !0,
              cancelable: !1,
            });
            c.dispatchEvent(f);
          } else if (window.navigator.msSaveOrOpenBlob || o) {
            var d = l.split(','),
              v = d[0].indexOf('base64') > -1,
              g = o ? decodeURIComponent(d[1]) : d[1];
            v && (g = window.atob(g));
            var m = a + '.' + s;
            if (window.navigator.msSaveOrOpenBlob) {
              for (var y = g.length, b = new Uint8Array(y); y--; )
                b[y] = g.charCodeAt(y);
              var w = new Blob([b]);
              window.navigator.msSaveOrOpenBlob(w, m);
            } else {
              var C = document.createElement('iframe');
              document.body.appendChild(C);
              var D = C.contentWindow,
                L = D.document;
              L.open('image/svg+xml', 'replace'),
                L.write(g),
                L.close(),
                D.focus(),
                L.execCommand('SaveAs', !0, m),
                document.body.removeChild(C);
            }
          } else {
            var M = i.get('lang'),
              E =
                '<body style="margin:0;"><img src="' +
                l +
                '" style="max-width:100%;" title="' +
                ((M && M[0]) || '') +
                '" /></body>',
              O = window.open();
            O.document.write(E), (O.document.title = a);
          }
        }),
        (e.getDefaultOption = function (t) {
          return {
            show: !0,
            icon: 'M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0',
            title: t.getLocaleModel().get(['toolbox', 'saveAsImage', 'title']),
            type: 'png',
            connectedBackgroundColor: '#fff',
            name: '',
            excludeComponents: ['toolbox'],
            lang: t.getLocaleModel().get(['toolbox', 'saveAsImage', 'lang']),
          };
        }),
        e
      );
    })(po),
    dI = '__ec_magicType_stack__',
    h9 = [['line', 'bar'], ['stack']],
    d9 = (function (r) {
      function e() {
        return (null !== r && r.apply(this, arguments)) || this;
      }
      return (
        ut(e, r),
        (e.prototype.getIcons = function () {
          var t = this.model,
            n = t.get('icon'),
            i = {};
          return (
            F(t.get('type'), function (a) {
              n[a] && (i[a] = n[a]);
            }),
            i
          );
        }),
        (e.getDefaultOption = function (t) {
          return {
            show: !0,
            type: [],
            icon: {
              line: 'M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4',
              bar: 'M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7',
              stack:
                'M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z',
            },
            title: t.getLocaleModel().get(['toolbox', 'magicType', 'title']),
            option: {},
            seriesIndex: {},
          };
        }),
        (e.prototype.onclick = function (t, n, i) {
          var a = this.model,
            o = a.get(['seriesIndex', i]);
          if (vI[i]) {
            var s = { series: [] };
            F(h9, function (f) {
              $(f, i) >= 0 &&
                F(f, function (d) {
                  a.setIconStatus(d, 'normal');
                });
            }),
              a.setIconStatus(i, 'emphasis'),
              t.eachComponent(
                {
                  mainType: 'series',
                  query: null == o ? null : { seriesIndex: o },
                },
                function (f) {
                  var g = vI[i](f.subType, f.id, f, a);
                  g && (Ot(g, f.option), s.series.push(g));
                  var m = f.coordinateSystem;
                  if (
                    m &&
                    'cartesian2d' === m.type &&
                    ('line' === i || 'bar' === i)
                  ) {
                    var y = m.getAxesByScale('ordinal')[0];
                    if (y) {
                      var w = y.dim + 'Axis',
                        D = f.getReferringComponents(w, N).models[0]
                          .componentIndex;
                      s[w] = s[w] || [];
                      for (var L = 0; L <= D; L++) s[w][D] = s[w][D] || {};
                      s[w][D].boundaryGap = 'bar' === i;
                    }
                  }
                }
              );
            var u,
              c = i;
            'stack' === i &&
              ((u = Gt(
                { stack: a.option.title.tiled, tiled: a.option.title.stack },
                a.option.title
              )),
              'emphasis' !== a.get(['iconStatus', i]) && (c = 'tiled')),
              n.dispatchAction({
                type: 'changeMagicType',
                currentType: c,
                newOption: s,
                newTitle: u,
                featureName: 'magicType',
              });
          }
        }),
        e
      );
    })(po),
    vI = {
      line: function (r, e, t, n) {
        if ('bar' === r)
          return Gt(
            {
              id: e,
              type: 'line',
              data: t.get('data'),
              stack: t.get('stack'),
              markPoint: t.get('markPoint'),
              markLine: t.get('markLine'),
            },
            n.get(['option', 'line']) || {},
            !0
          );
      },
      bar: function (r, e, t, n) {
        if ('line' === r)
          return Gt(
            {
              id: e,
              type: 'bar',
              data: t.get('data'),
              stack: t.get('stack'),
              markPoint: t.get('markPoint'),
              markLine: t.get('markLine'),
            },
            n.get(['option', 'bar']) || {},
            !0
          );
      },
      stack: function (r, e, t, n) {
        var i = t.get('stack') === dI;
        if ('line' === r || 'bar' === r)
          return (
            n.setIconStatus('stack', i ? 'normal' : 'emphasis'),
            Gt(
              { id: e, stack: i ? '' : dI },
              n.get(['option', 'stack']) || {},
              !0
            )
          );
      },
    };
  Bo(
    {
      type: 'changeMagicType',
      event: 'magicTypeChanged',
      update: 'prepareAndUpdate',
    },
    function (r, e) {
      e.mergeOption(r.newOption);
    }
  );
  var gm = new Array(60).join('-');
  function p9(r) {
    var e = [];
    return (
      F(r, function (t, n) {
        var i = t.categoryAxis,
          o = t.valueAxis.dim,
          s = [' '].concat(
            Ut(t.series, function (v) {
              return v.name;
            })
          ),
          l = [i.model.getCategories()];
        F(t.series, function (v) {
          var g = v.getRawData();
          l.push(
            v.getRawData().mapArray(g.mapDimension(o), function (m) {
              return m;
            })
          );
        });
        for (var u = [s.join('\t')], c = 0; c < l[0].length; c++) {
          for (var f = [], d = 0; d < l.length; d++) f.push(l[d][c]);
          u.push(f.join('\t'));
        }
        e.push(u.join('\n'));
      }),
      e.join('\n\n' + gm + '\n\n')
    );
  }
  function g9(r) {
    return Ut(r, function (e) {
      var t = e.getRawData(),
        n = [e.name],
        i = [];
      return (
        t.each(t.dimensions, function () {
          for (
            var a = arguments.length, s = t.getName(arguments[a - 1]), l = 0;
            l < a - 1;
            l++
          )
            i[l] = arguments[l];
          n.push((s ? s + '\t' : '') + i.join('\t'));
        }),
        n.join('\n')
      );
    }).join('\n\n' + gm + '\n\n');
  }
  function mm(r) {
    return r.replace(/^\s\s*/, '').replace(/\s\s*$/, '');
  }
  var gb = new RegExp('[\t]+', 'g');
  var S9 = (function (r) {
    function e() {
      return (null !== r && r.apply(this, arguments)) || this;
    }
    return (
      ut(e, r),
      (e.prototype.onclick = function (t, n) {
        setTimeout(function () {
          n.dispatchAction({ type: 'hideTip' });
        });
        var i = n.getDom(),
          a = this.model;
        this._dom && i.removeChild(this._dom);
        var o = document.createElement('div');
        (o.style.cssText =
          'position:absolute;top:0;bottom:0;left:0;right:0;padding:5px'),
          (o.style.backgroundColor = a.get('backgroundColor') || '#fff');
        var s = document.createElement('h4'),
          l = a.get('lang') || [];
        (s.innerHTML = l[0] || a.get('title')),
          (s.style.cssText = 'margin:10px 20px'),
          (s.style.color = a.get('textColor'));
        var u = document.createElement('div'),
          c = document.createElement('textarea');
        u.style.cssText = 'overflow:auto';
        var f = a.get('optionToContent'),
          d = a.get('contentToOption'),
          v = (function m9(r) {
            var e = (function v9(r) {
              var e = {},
                t = [],
                n = [];
              return (
                r.eachRawSeries(function (i) {
                  var a = i.coordinateSystem;
                  if (!a || ('cartesian2d' !== a.type && 'polar' !== a.type))
                    t.push(i);
                  else {
                    var o = a.getBaseAxis();
                    if ('category' === o.type) {
                      var s = o.dim + '_' + o.index;
                      e[s] ||
                        ((e[s] = {
                          categoryAxis: o,
                          valueAxis: a.getOtherAxis(o),
                          series: [],
                        }),
                        n.push({ axisDim: o.dim, axisIndex: o.index })),
                        e[s].series.push(i);
                    } else t.push(i);
                  }
                }),
                { seriesGroupByCategoryAxis: e, other: t, meta: n }
              );
            })(r);
            return {
              value: je(
                [p9(e.seriesGroupByCategoryAxis), g9(e.other)],
                function (t) {
                  return !!t.replace(/[\n\t\s]/g, '');
                }
              ).join('\n\n' + gm + '\n\n'),
              meta: e.meta,
            };
          })(t);
        if (fe(f)) {
          var g = f(n.getOption());
          ht(g) ? (u.innerHTML = g) : At(g) && u.appendChild(g);
        } else {
          c.readOnly = a.get('readOnly');
          var m = c.style;
          (m.cssText =
            'display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none'),
            (m.color = a.get('textColor')),
            (m.borderColor = a.get('textareaBorderColor')),
            (m.backgroundColor = a.get('textareaColor')),
            (c.value = v.value),
            u.appendChild(c);
        }
        var y = v.meta,
          b = document.createElement('div');
        b.style.cssText = 'position:absolute;bottom:5px;left:0;right:0';
        var w =
            'float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px',
          C = document.createElement('div'),
          D = document.createElement('div');
        (w += ';background-color:' + a.get('buttonColor')),
          (w += ';color:' + a.get('buttonTextColor'));
        var L = this;
        function M() {
          i.removeChild(o), (L._dom = null);
        }
        As(C, 'click', M),
          As(D, 'click', function () {
            if ((null == d && null != f) || (null != d && null == f))
              return (
                ln(
                  'It seems you have just provided one of `contentToOption` and `optionToContent` functions but missed the other one. Data change is ignored.'
                ),
                void M()
              );
            var E;
            try {
              E = fe(d)
                ? d(u, n.getOption())
                : (function _9(r, e) {
                    var t = r.split(new RegExp('\n*' + gm + '\n*', 'g')),
                      n = { series: [] };
                    return (
                      F(t, function (i, a) {
                        if (
                          (function y9(r) {
                            if (r.slice(0, r.indexOf('\n')).indexOf('\t') >= 0)
                              return !0;
                          })(i)
                        ) {
                          var o = (function x9(r) {
                              for (
                                var e = r.split(/\n+/g),
                                  n = [],
                                  i = Ut(mm(e.shift()).split(gb), function (l) {
                                    return { name: l, data: [] };
                                  }),
                                  a = 0;
                                a < e.length;
                                a++
                              ) {
                                var o = mm(e[a]).split(gb);
                                n.push(o.shift());
                                for (var s = 0; s < o.length; s++)
                                  i[s] && (i[s].data[a] = o[s]);
                              }
                              return { series: i, categories: n };
                            })(i),
                            s = e[a],
                            l = s.axisDim + 'Axis';
                          s &&
                            ((n[l] = n[l] || []),
                            (n[l][s.axisIndex] = { data: o.categories }),
                            (n.series = n.series.concat(o.series)));
                        } else
                          (o = (function b9(r) {
                            for (
                              var e = r.split(/\n+/g),
                                t = mm(e.shift()),
                                n = [],
                                i = 0;
                              i < e.length;
                              i++
                            ) {
                              var a = mm(e[i]);
                              if (a) {
                                var o = a.split(gb),
                                  s = '',
                                  l = void 0,
                                  u = !1;
                                isNaN(o[0])
                                  ? ((u = !0),
                                    (s = o[0]),
                                    (o = o.slice(1)),
                                    (n[i] = { name: s, value: [] }),
                                    (l = n[i].value))
                                  : (l = n[i] = []);
                                for (var c = 0; c < o.length; c++)
                                  l.push(+o[c]);
                                1 === l.length &&
                                  (u ? (n[i].value = l[0]) : (n[i] = l[0]));
                              }
                            }
                            return { name: t, data: n };
                          })(i)),
                            n.series.push(o);
                      }),
                      n
                    );
                  })(c.value, y);
            } catch (O) {
              throw (M(), new Error('Data view format error ' + O));
            }
            E && n.dispatchAction({ type: 'changeDataView', newOption: E }),
              M();
          }),
          (C.innerHTML = l[1]),
          (D.innerHTML = l[2]),
          (D.style.cssText = C.style.cssText = w),
          !a.get('readOnly') && b.appendChild(D),
          b.appendChild(C),
          o.appendChild(s),
          o.appendChild(u),
          o.appendChild(b),
          (u.style.height = i.clientHeight - 80 + 'px'),
          i.appendChild(o),
          (this._dom = o);
      }),
      (e.prototype.remove = function (t, n) {
        this._dom && n.getDom().removeChild(this._dom);
      }),
      (e.prototype.dispose = function (t, n) {
        this.remove(t, n);
      }),
      (e.getDefaultOption = function (t) {
        return {
          show: !0,
          readOnly: !1,
          optionToContent: null,
          contentToOption: null,
          icon: 'M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28',
          title: t.getLocaleModel().get(['toolbox', 'dataView', 'title']),
          lang: t.getLocaleModel().get(['toolbox', 'dataView', 'lang']),
          backgroundColor: '#fff',
          textColor: '#000',
          textareaColor: '#fff',
          textareaBorderColor: '#333',
          buttonColor: '#c23531',
          buttonTextColor: '#fff',
        };
      }),
      e
    );
  })(po);
  function w9(r, e) {
    return Ut(r, function (t, n) {
      var i = e && e[n];
      if (Y(i) && !Tt(i)) {
        (Y(t) && !Tt(t)) || (t = { value: t });
        var o = null != i.name && null == t.name;
        return (t = Ot(t, i)), o && delete t.name, t;
      }
      return t;
    });
  }
  Bo(
    {
      type: 'changeDataView',
      event: 'dataViewChanged',
      update: 'prepareAndUpdate',
    },
    function (r, e) {
      var t = [];
      F(r.newOption.series, function (n) {
        var i = e.getSeriesByName(n.name)[0];
        if (i) {
          var a = i.get('data');
          t.push({ name: n.name, data: w9(n.data, a) });
        } else t.push(nt({ type: 'scatter' }, n));
      }),
        e.mergeOption(Ot({ series: t }, r.newOption));
    }
  );
  var pI = F,
    gI = S();
  function mb(r) {
    var e = gI(r);
    return e.snapshots || (e.snapshots = [{}]), e.snapshots;
  }
  var M9 = (function (r) {
    function e() {
      return (null !== r && r.apply(this, arguments)) || this;
    }
    return (
      ut(e, r),
      (e.prototype.onclick = function (t, n) {
        (function T9(r) {
          gI(r).snapshots = null;
        })(t),
          n.dispatchAction({ type: 'restore', from: this.uid });
      }),
      (e.getDefaultOption = function (t) {
        return {
          show: !0,
          icon: 'M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5',
          title: t.getLocaleModel().get(['toolbox', 'restore', 'title']),
        };
      }),
      e
    );
  })(po);
  Bo(
    { type: 'restore', event: 'restore', update: 'prepareAndUpdate' },
    function (r, e) {
      e.resetOption('recreate');
    }
  );
  var L9 = [
      'grid',
      'xAxis',
      'yAxis',
      'geo',
      'graph',
      'polar',
      'radiusAxis',
      'angleAxis',
      'bmap',
    ],
    yb = (function () {
      function r(e, t, n) {
        var i = this;
        this._targetInfoList = [];
        var a = mI(t, e);
        F(I9, function (o, s) {
          (!n || !n.include || $(n.include, s) >= 0) && o(a, i._targetInfoList);
        });
      }
      return (
        (r.prototype.setOutputRanges = function (e, t) {
          return (
            this.matchOutputRanges(e, t, function (n, i, a) {
              if (
                ((n.coordRanges || (n.coordRanges = [])).push(i), !n.coordRange)
              ) {
                n.coordRange = i;
                var o = bb[n.brushType](0, a, i);
                n.__rangeOffset = {
                  offset: _I[n.brushType](o.values, n.range, [1, 1]),
                  xyMinMax: o.xyMinMax,
                };
              }
            }),
            e
          );
        }),
        (r.prototype.matchOutputRanges = function (e, t, n) {
          F(
            e,
            function (i) {
              var a = this.findTargetInfo(i, t);
              a &&
                !0 !== a &&
                F(a.coordSyses, function (o) {
                  var s = bb[i.brushType](1, o, i.range, !0);
                  n(i, s.values, o, t);
                });
            },
            this
          );
        }),
        (r.prototype.setInputRanges = function (e, t) {
          F(
            e,
            function (n) {
              var i = this.findTargetInfo(n, t);
              if (
                (lt(
                  !i || !0 === i || n.coordRange,
                  'coordRange must be specified when coord index specified.'
                ),
                lt(
                  !i || !0 !== i || n.range,
                  'range must be specified in global brush.'
                ),
                (n.range = n.range || []),
                i && !0 !== i)
              ) {
                n.panelId = i.panelId;
                var a = bb[n.brushType](0, i.coordSys, n.coordRange),
                  o = n.__rangeOffset;
                n.range = o
                  ? _I[n.brushType](
                      a.values,
                      o.offset,
                      (function k9(r, e) {
                        var t = wI(r),
                          n = wI(e),
                          i = [t[0] / n[0], t[1] / n[1]];
                        return (
                          isNaN(i[0]) && (i[0] = 1),
                          isNaN(i[1]) && (i[1] = 1),
                          i
                        );
                      })(a.xyMinMax, o.xyMinMax)
                    )
                  : a.values;
              }
            },
            this
          );
        }),
        (r.prototype.makePanelOpts = function (e, t) {
          return Ut(this._targetInfoList, function (n) {
            var i = n.getPanelRect();
            return {
              panelId: n.panelId,
              defaultBrushType: t ? t(n) : null,
              clipPath: p2(i),
              isTargetByCursor: m2(i, e, n.coordSysModel),
              getLinearBrushOtherExtent: g2(i),
            };
          });
        }),
        (r.prototype.controlSeries = function (e, t, n) {
          var i = this.findTargetInfo(e, n);
          return !0 === i || (i && $(i.coordSyses, t.coordinateSystem) >= 0);
        }),
        (r.prototype.findTargetInfo = function (e, t) {
          for (
            var n = this._targetInfoList, i = mI(t, e), a = 0;
            a < n.length;
            a++
          ) {
            var o = n[a],
              s = e.panelId;
            if (s) {
              if (o.panelId === s) return o;
            } else
              for (var l = 0; l < yI.length; l++) if (yI[l](i, o)) return o;
          }
          return !0;
        }),
        r
      );
    })();
  function xb(r) {
    return r[0] > r[1] && r.reverse(), r;
  }
  function mI(r, e) {
    return k(r, e, { includeMainTypes: L9 });
  }
  var I9 = {
      grid: function (r, e) {
        var t = r.xAxisModels,
          n = r.yAxisModels,
          i = r.gridModels,
          a = Nt(),
          o = {},
          s = {};
        (!t && !n && !i) ||
          (F(t, function (l) {
            var u = l.axis.grid.model;
            a.set(u.id, u), (o[u.id] = !0);
          }),
          F(n, function (l) {
            var u = l.axis.grid.model;
            a.set(u.id, u), (s[u.id] = !0);
          }),
          F(i, function (l) {
            a.set(l.id, l), (o[l.id] = !0), (s[l.id] = !0);
          }),
          a.each(function (l) {
            var c = [];
            F(l.coordinateSystem.getCartesians(), function (f, d) {
              ($(t, f.getAxis('x').model) >= 0 ||
                $(n, f.getAxis('y').model) >= 0) &&
                c.push(f);
            }),
              e.push({
                panelId: 'grid--' + l.id,
                gridModel: l,
                coordSysModel: l,
                coordSys: c[0],
                coordSyses: c,
                getPanelRect: xI.grid,
                xAxisDeclared: o[l.id],
                yAxisDeclared: s[l.id],
              });
          }));
      },
      geo: function (r, e) {
        F(r.geoModels, function (t) {
          var n = t.coordinateSystem;
          e.push({
            panelId: 'geo--' + t.id,
            geoModel: t,
            coordSysModel: t,
            coordSys: n,
            coordSyses: [n],
            getPanelRect: xI.geo,
          });
        });
      },
    },
    yI = [
      function (r, e) {
        var t = r.xAxisModel,
          n = r.yAxisModel,
          i = r.gridModel;
        return (
          !i && t && (i = t.axis.grid.model),
          !i && n && (i = n.axis.grid.model),
          i && i === e.gridModel
        );
      },
      function (r, e) {
        var t = r.geoModel;
        return t && t === e.geoModel;
      },
    ],
    xI = {
      grid: function () {
        return this.coordSys.master.getRect().clone();
      },
      geo: function () {
        var r = this.coordSys,
          e = r.getBoundingRect().clone();
        return e.applyTransform(Yl(r)), e;
      },
    },
    bb = {
      lineX: me(bI, 0),
      lineY: me(bI, 1),
      rect: function (r, e, t, n) {
        var i = r
            ? e.pointToData([t[0][0], t[1][0]], n)
            : e.dataToPoint([t[0][0], t[1][0]], n),
          a = r
            ? e.pointToData([t[0][1], t[1][1]], n)
            : e.dataToPoint([t[0][1], t[1][1]], n),
          o = [xb([i[0], a[0]]), xb([i[1], a[1]])];
        return { values: o, xyMinMax: o };
      },
      polygon: function (r, e, t, n) {
        var i = [
          [1 / 0, -1 / 0],
          [1 / 0, -1 / 0],
        ];
        return {
          values: Ut(t, function (o) {
            var s = r ? e.pointToData(o, n) : e.dataToPoint(o, n);
            return (
              (i[0][0] = Math.min(i[0][0], s[0])),
              (i[1][0] = Math.min(i[1][0], s[1])),
              (i[0][1] = Math.max(i[0][1], s[0])),
              (i[1][1] = Math.max(i[1][1], s[1])),
              s
            );
          }),
          xyMinMax: i,
        };
      },
    };
  function bI(r, e, t, n) {
    lt(
      'cartesian2d' === t.type,
      'lineX/lineY brush is available only in cartesian2d.'
    );
    var i = t.getAxis(['x', 'y'][r]),
      a = xb(
        Ut([0, 1], function (s) {
          return e
            ? i.coordToData(i.toLocalCoord(n[s]), !0)
            : i.toGlobalCoord(i.dataToCoord(n[s]));
        })
      ),
      o = [];
    return (o[r] = a), (o[1 - r] = [NaN, NaN]), { values: a, xyMinMax: o };
  }
  var _I = {
    lineX: me(SI, 0),
    lineY: me(SI, 1),
    rect: function (r, e, t) {
      return [
        [r[0][0] - t[0] * e[0][0], r[0][1] - t[0] * e[0][1]],
        [r[1][0] - t[1] * e[1][0], r[1][1] - t[1] * e[1][1]],
      ];
    },
    polygon: function (r, e, t) {
      return Ut(r, function (n, i) {
        return [n[0] - t[0] * e[i][0], n[1] - t[1] * e[i][1]];
      });
    },
  };
  function SI(r, e, t, n) {
    return [e[0] - n[r] * t[0], e[1] - n[r] * t[1]];
  }
  function wI(r) {
    return r ? [r[0][1] - r[0][0], r[1][1] - r[1][0]] : [NaN, NaN];
  }
  var _b = F,
    E9 = (function df(r) {
      return vn + r;
    })('toolbox-dataZoom_'),
    P9 = (function (r) {
      function e() {
        return (null !== r && r.apply(this, arguments)) || this;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i, a) {
          this._brushController ||
            ((this._brushController = new xx(i.getZr())),
            this._brushController.on('brush', kt(this._onBrush, this)).mount()),
            (function F9(r, e, t, n, i) {
              var a = t._isZoomActive;
              n &&
                'takeGlobalCursor' === n.type &&
                (a = 'dataZoomSelect' === n.key && n.dataZoomSelectActive),
                (t._isZoomActive = a),
                r.setIconStatus('zoom', a ? 'emphasis' : 'normal');
              var s = new yb(Sb(r), e, { include: ['grid'] }).makePanelOpts(
                i,
                function (l) {
                  return l.xAxisDeclared && !l.yAxisDeclared
                    ? 'lineX'
                    : !l.xAxisDeclared && l.yAxisDeclared
                    ? 'lineY'
                    : 'rect';
                }
              );
              t._brushController.setPanels(s).enableBrush(
                !(!a || !s.length) && {
                  brushType: 'auto',
                  brushStyle: r.getModel('brushStyle').getItemStyle(),
                }
              );
            })(t, n, this, a, i),
            (function O9(r, e) {
              r.setIconStatus(
                'back',
                (function A9(r) {
                  return mb(r).length;
                })(e) > 1
                  ? 'emphasis'
                  : 'normal'
              );
            })(t, n);
        }),
        (e.prototype.onclick = function (t, n, i) {
          R9[i].call(this);
        }),
        (e.prototype.remove = function (t, n) {
          this._brushController && this._brushController.unmount();
        }),
        (e.prototype.dispose = function (t, n) {
          this._brushController && this._brushController.dispose();
        }),
        (e.prototype._onBrush = function (t) {
          var n = t.areas;
          if (t.isEnd && n.length) {
            var i = {},
              a = this.ecModel;
            this._brushController.updateCovers([]),
              new yb(Sb(this.model), a, {
                include: ['grid'],
              }).matchOutputRanges(n, a, function (u, c, f) {
                if ('cartesian2d' === f.type) {
                  var d = u.brushType;
                  'rect' === d
                    ? (s('x', f, c[0]), s('y', f, c[1]))
                    : s({ lineX: 'x', lineY: 'y' }[d], f, c);
                }
              }),
              (function C9(r, e) {
                var t = mb(r);
                pI(e, function (n, i) {
                  for (var a = t.length - 1; a >= 0 && !t[a][i]; a--);
                  if (a < 0) {
                    var s = r.queryComponents({
                      mainType: 'dataZoom',
                      subType: 'select',
                      id: i,
                    })[0];
                    if (s) {
                      var l = s.getPercentRange();
                      t[0][i] = { dataZoomId: i, start: l[0], end: l[1] };
                    }
                  }
                }),
                  t.push(e);
              })(a, i),
              this._dispatchZoomAction(i);
          }
          function s(u, c, f) {
            var d = c.getAxis(u),
              v = d.model,
              g = (function l(u, c, f) {
                var d;
                return (
                  f.eachComponent(
                    { mainType: 'dataZoom', subType: 'select' },
                    function (v) {
                      v.getAxisModel(u, c.componentIndex) && (d = v);
                    }
                  ),
                  d
                );
              })(u, v, a),
              m = g.findRepresentativeAxisProxy(v).getMinMaxSpan();
            (null != m.minValueSpan || null != m.maxValueSpan) &&
              (f = Nc(
                0,
                f.slice(),
                d.scale.getExtent(),
                0,
                m.minValueSpan,
                m.maxValueSpan
              )),
              g &&
                (i[g.id] = {
                  dataZoomId: g.id,
                  startValue: f[0],
                  endValue: f[1],
                });
          }
        }),
        (e.prototype._dispatchZoomAction = function (t) {
          var n = [];
          _b(t, function (i, a) {
            n.push(ft(i));
          }),
            n.length &&
              this.api.dispatchAction({
                type: 'dataZoom',
                from: this.uid,
                batch: n,
              });
        }),
        (e.getDefaultOption = function (t) {
          return {
            show: !0,
            filterMode: 'filter',
            icon: {
              zoom: 'M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1',
              back: 'M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26',
            },
            title: t.getLocaleModel().get(['toolbox', 'dataZoom', 'title']),
            brushStyle: { borderWidth: 0, color: 'rgba(210,219,238,0.2)' },
          };
        }),
        e
      );
    })(po),
    R9 = {
      zoom: function () {
        this.api.dispatchAction({
          type: 'takeGlobalCursor',
          key: 'dataZoomSelect',
          dataZoomSelectActive: !this._isZoomActive,
        });
      },
      back: function () {
        this._dispatchZoomAction(
          (function D9(r) {
            var e = mb(r),
              t = e[e.length - 1];
            e.length > 1 && e.pop();
            var n = {};
            return (
              pI(t, function (i, a) {
                for (var o = e.length - 1; o >= 0; o--)
                  if ((i = e[o][a])) {
                    n[a] = i;
                    break;
                  }
              }),
              n
            );
          })(this.ecModel)
        );
      },
    };
  function Sb(r) {
    var e = {
      xAxisIndex: r.get('xAxisIndex', !0),
      yAxisIndex: r.get('yAxisIndex', !0),
      xAxisId: r.get('xAxisId', !0),
      yAxisId: r.get('yAxisId', !0),
    };
    return (
      null == e.xAxisIndex && null == e.xAxisId && (e.xAxisIndex = 'all'),
      null == e.yAxisIndex && null == e.yAxisId && (e.yAxisIndex = 'all'),
      e
    );
  }
  !(function qP(r, e) {
    lt(null == Ny.get(r) && e), Ny.set(r, e);
  })('dataZoom', function (r) {
    var e = r.getComponent('toolbox', 0),
      t = ['feature', 'dataZoom'];
    if (e && null != e.get(t)) {
      var n = e.getModel(t),
        i = [],
        o = k(r, Sb(n));
      return (
        _b(o.xAxisModels, function (l) {
          return s(l, 'xAxis', 'xAxisIndex');
        }),
        _b(o.yAxisModels, function (l) {
          return s(l, 'yAxis', 'yAxisIndex');
        }),
        i
      );
    }
    function s(l, u, c) {
      var f = l.componentIndex,
        d = {
          type: 'select',
          $fromToolbox: !0,
          filterMode: n.get('filterMode', !0) || 'filter',
          id: E9 + u + f,
        };
      (d[c] = f), i.push(d);
    }
  });
  var N9 = (function (r) {
    function e() {
      var t = (null !== r && r.apply(this, arguments)) || this;
      return (t.type = e.type), t;
    }
    return (
      ut(e, r),
      (e.type = 'tooltip'),
      (e.dependencies = ['axisPointer']),
      (e.defaultOption = {
        z: 60,
        show: !0,
        showContent: !0,
        trigger: 'item',
        triggerOn: 'mousemove|click',
        alwaysShowContent: !1,
        displayMode: 'single',
        renderMode: 'auto',
        confine: null,
        showDelay: 0,
        hideDelay: 100,
        transitionDuration: 0.4,
        enterable: !1,
        backgroundColor: '#fff',
        shadowBlur: 10,
        shadowColor: 'rgba(0, 0, 0, .2)',
        shadowOffsetX: 1,
        shadowOffsetY: 2,
        borderRadius: 4,
        borderWidth: 1,
        padding: null,
        extraCssText: '',
        axisPointer: {
          type: 'line',
          axis: 'auto',
          animation: 'auto',
          animationDurationUpdate: 200,
          animationEasingUpdate: 'exponentialOut',
          crossStyle: {
            color: '#999',
            width: 1,
            type: 'dashed',
            textStyle: {},
          },
        },
        textStyle: { color: '#666', fontSize: 14 },
      }),
      e
    );
  })(br);
  function CI(r) {
    var e = r.get('confine');
    return null != e ? !!e : 'richText' === r.get('renderMode');
  }
  function DI(r) {
    if (Lt.domSupported)
      for (
        var e = document.documentElement.style, t = 0, n = r.length;
        t < n;
        t++
      )
        if (r[t] in e) return r[t];
  }
  var TI = DI([
    'transform',
    'webkitTransform',
    'OTransform',
    'MozTransform',
    'msTransform',
  ]);
  function AI(r, e) {
    if (!r) return e;
    e = Iy(e, !0);
    var t = r.indexOf(e);
    return (r = -1 === t ? e : '-' + r.slice(0, t) + '-' + e).toLowerCase();
  }
  var H9 = AI(
      DI([
        'webkitTransition',
        'transition',
        'OTransition',
        'MozTransition',
        'msTransition',
      ]),
      'transition'
    ),
    wb = AI(TI, 'transform'),
    G9 =
      'position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;' +
      (Lt.transform3dSupported ? 'will-change:transform;' : '');
  function MI(r, e, t) {
    var n = r.toFixed(0) + 'px',
      i = e.toFixed(0) + 'px';
    if (!Lt.transformSupported)
      return t
        ? 'top:' + i + ';left:' + n + ';'
        : [
            ['top', i],
            ['left', n],
          ];
    var a = Lt.transform3dSupported,
      o =
        'translate' +
        (a ? '3d' : '') +
        '(' +
        n +
        ',' +
        i +
        (a ? ',0' : '') +
        ')';
    return t
      ? 'top:0;left:0;' + wb + ':' + o + ';'
      : [
          ['top', 0],
          ['left', 0],
          [TI, o],
        ];
  }
  function LI(r, e, t, n, i) {
    var a = e && e.painter;
    if (t) {
      var o = a && a.getViewportRoot();
      o &&
        (function _s(r, e, t, n, i) {
          Ss(ga, e, n, i, !0) && Ss(r, t, ga[0], ga[1]);
        })(r, o, document.body, n, i);
    } else {
      (r[0] = n), (r[1] = i);
      var s = a && a.getViewportRootOffset();
      s && ((r[0] += s.offsetLeft), (r[1] += s.offsetTop));
    }
    (r[2] = r[0] / e.getWidth()), (r[3] = r[1] / e.getHeight());
  }
  var Z9 = (function () {
      function r(e, t, n) {
        if (
          ((this._show = !1),
          (this._styleCoord = [0, 0, 0, 0]),
          (this._enterable = !0),
          (this._alwaysShowContent = !1),
          (this._firstShow = !0),
          (this._longHide = !0),
          Lt.wxa)
        )
          return null;
        var i = document.createElement('div');
        (i.domBelongToZr = !0), (this.el = i);
        var a = (this._zr = t.getZr()),
          o = (this._appendToBody = n && n.appendToBody);
        LI(this._styleCoord, a, o, t.getWidth() / 2, t.getHeight() / 2),
          o ? document.body.appendChild(i) : e.appendChild(i),
          (this._container = e);
        var s = this;
        (i.onmouseenter = function () {
          s._enterable && (clearTimeout(s._hideTimeout), (s._show = !0)),
            (s._inContent = !0);
        }),
          (i.onmousemove = function (l) {
            if (((l = l || window.event), !s._enterable)) {
              var u = a.handler;
              In(a.painter.getViewportRoot(), l, !0),
                u.dispatch('mousemove', l);
            }
          }),
          (i.onmouseleave = function () {
            (s._inContent = !1),
              s._enterable && s._show && s.hideLater(s._hideDelay);
          });
      }
      return (
        (r.prototype.update = function (e) {
          var t = this._container,
            n = (function V9(r, e) {
              var t =
                r.currentStyle ||
                (document.defaultView &&
                  document.defaultView.getComputedStyle(r));
              return t ? (e ? t[e] : t) : null;
            })(t, 'position'),
            i = t.style;
          'absolute' !== i.position &&
            'absolute' !== n &&
            (i.position = 'relative');
          var a = e.get('alwaysShowContent');
          a && this._moveIfResized(),
            (this._alwaysShowContent = a),
            (this.el.className = e.get('className') || '');
        }),
        (r.prototype.show = function (e, t) {
          clearTimeout(this._hideTimeout), clearTimeout(this._longHideTimeout);
          var n = this.el,
            i = n.style,
            a = this._styleCoord;
          n.innerHTML
            ? (i.cssText =
                G9 +
                (function X9(r, e, t) {
                  var n = [],
                    i = r.get('transitionDuration'),
                    a = r.get('backgroundColor'),
                    o = r.get('shadowBlur'),
                    s = r.get('shadowColor'),
                    l = r.get('shadowOffsetX'),
                    u = r.get('shadowOffsetY'),
                    c = r.getModel('textStyle'),
                    f = Fw(r, 'html');
                  return (
                    n.push(
                      'box-shadow:' + l + 'px ' + u + 'px ' + o + 'px ' + s
                    ),
                    e &&
                      i &&
                      n.push(
                        (function U9(r, e) {
                          var t = 'cubic-bezier(0.23,1,0.32,1)',
                            n = ' ' + r / 2 + 's ' + t,
                            i = 'opacity' + n + ',visibility' + n;
                          return (
                            e ||
                              ((n = ' ' + r + 's ' + t),
                              (i += Lt.transformSupported
                                ? ',' + wb + n
                                : ',left' + n + ',top' + n)),
                            H9 + ':' + i
                          );
                        })(i, t)
                      ),
                    a && n.push('background-color:' + a),
                    F(['width', 'color', 'radius'], function (v) {
                      var g = 'border-' + v,
                        m = Iy(g),
                        y = r.get(m);
                      null != y &&
                        n.push(g + ':' + y + ('color' === v ? '' : 'px'));
                    }),
                    n.push(
                      (function Y9(r) {
                        var e = [],
                          t = r.get('fontSize'),
                          n = r.getTextColor();
                        n && e.push('color:' + n),
                          e.push('font:' + r.getFont()),
                          t &&
                            e.push(
                              'line-height:' + Math.round((3 * t) / 2) + 'px'
                            );
                        var i = r.get('textShadowColor'),
                          a = r.get('textShadowBlur') || 0,
                          o = r.get('textShadowOffsetX') || 0,
                          s = r.get('textShadowOffsetY') || 0;
                        return (
                          i &&
                            a &&
                            e.push(
                              'text-shadow:' +
                                o +
                                'px ' +
                                s +
                                'px ' +
                                a +
                                'px ' +
                                i
                            ),
                          F(['decoration', 'align'], function (l) {
                            var u = r.get(l);
                            u && e.push('text-' + l + ':' + u);
                          }),
                          e.join(';')
                        );
                      })(c)
                    ),
                    null != f && n.push('padding:' + lc(f).join('px ') + 'px'),
                    n.join(';') + ';'
                  );
                })(e, !this._firstShow, this._longHide) +
                MI(a[0], a[1], !0) +
                'border-color:' +
                uc(t) +
                ';' +
                (e.get('extraCssText') || '') +
                ';pointer-events:' +
                (this._enterable ? 'auto' : 'none'))
            : (i.display = 'none'),
            (this._show = !0),
            (this._firstShow = !1),
            (this._longHide = !1);
        }),
        (r.prototype.setContent = function (e, t, n, i, a) {
          var o = this.el;
          if (null != e) {
            var s = '';
            if (
              (ht(a) &&
                'item' === n.get('trigger') &&
                !CI(n) &&
                (s = (function $9(r, e, t) {
                  if (!ht(t) || 'inside' === t) return '';
                  var n = r.get('backgroundColor'),
                    i = r.get('borderWidth');
                  e = uc(e);
                  var u,
                    a = (function W9(r) {
                      return 'left' === r
                        ? 'right'
                        : 'right' === r
                        ? 'left'
                        : 'top' === r
                        ? 'bottom'
                        : 'top';
                    })(t),
                    o = Math.max(1.5 * Math.round(i), 6),
                    s = '',
                    l = wb + ':';
                  $(['left', 'right'], a) > -1
                    ? ((s += 'top:50%'),
                      (l +=
                        'translateY(-50%) rotate(' +
                        (u = 'left' === a ? -225 : -45) +
                        'deg)'))
                    : ((s += 'left:50%'),
                      (l +=
                        'translateX(-50%) rotate(' +
                        (u = 'top' === a ? 225 : 45) +
                        'deg)'));
                  var c = (u * Math.PI) / 180,
                    f = o + i,
                    d = f * Math.abs(Math.cos(c)) + f * Math.abs(Math.sin(c)),
                    g = e + ' solid ' + i + 'px;';
                  return (
                    '<div style="' +
                    [
                      'position:absolute;width:' +
                        o +
                        'px;height:' +
                        o +
                        'px;z-index:-1;',
                      (s +=
                        ';' +
                        a +
                        ':-' +
                        Math.round(
                          100 *
                            ((d - Math.SQRT2 * i) / 2 +
                              Math.SQRT2 * i -
                              (d - f) / 2)
                        ) /
                          100 +
                        'px') +
                        ';' +
                        l +
                        ';',
                      'border-bottom:' + g,
                      'border-right:' + g,
                      'background-color:' + n + ';',
                    ].join('') +
                    '"></div>'
                  );
                })(n, i, a)),
              ht(e))
            )
              o.innerHTML = e + s;
            else if (e) {
              (o.innerHTML = ''), Tt(e) || (e = [e]);
              for (var l = 0; l < e.length; l++)
                At(e[l]) && e[l].parentNode !== o && o.appendChild(e[l]);
              if (s && o.childNodes.length) {
                var u = document.createElement('div');
                (u.innerHTML = s), o.appendChild(u);
              }
            }
          } else o.innerHTML = '';
        }),
        (r.prototype.setEnterable = function (e) {
          this._enterable = e;
        }),
        (r.prototype.getSize = function () {
          var e = this.el;
          return [e.offsetWidth, e.offsetHeight];
        }),
        (r.prototype.moveTo = function (e, t) {
          var n = this._styleCoord;
          if (
            (LI(n, this._zr, this._appendToBody, e, t),
            null != n[0] && null != n[1])
          ) {
            var i = this.el.style;
            F(MI(n[0], n[1]), function (o) {
              i[o[0]] = o[1];
            });
          }
        }),
        (r.prototype._moveIfResized = function () {
          var t = this._styleCoord[3];
          this.moveTo(
            this._styleCoord[2] * this._zr.getWidth(),
            t * this._zr.getHeight()
          );
        }),
        (r.prototype.hide = function () {
          var e = this,
            t = this.el.style;
          (t.visibility = 'hidden'),
            (t.opacity = '0'),
            Lt.transform3dSupported && (t.willChange = ''),
            (this._show = !1),
            (this._longHideTimeout = setTimeout(function () {
              return (e._longHide = !0);
            }, 500));
        }),
        (r.prototype.hideLater = function (e) {
          this._show &&
            (!this._inContent || !this._enterable) &&
            !this._alwaysShowContent &&
            (e
              ? ((this._hideDelay = e),
                (this._show = !1),
                (this._hideTimeout = setTimeout(kt(this.hide, this), e)))
              : this.hide());
        }),
        (r.prototype.isShow = function () {
          return this._show;
        }),
        (r.prototype.dispose = function () {
          this.el.parentNode.removeChild(this.el);
        }),
        r
      );
    })(),
    q9 = (function () {
      function r(e) {
        (this._show = !1),
          (this._styleCoord = [0, 0, 0, 0]),
          (this._alwaysShowContent = !1),
          (this._enterable = !0),
          (this._zr = e.getZr()),
          kI(this._styleCoord, this._zr, e.getWidth() / 2, e.getHeight() / 2);
      }
      return (
        (r.prototype.update = function (e) {
          var t = e.get('alwaysShowContent');
          t && this._moveIfResized(), (this._alwaysShowContent = t);
        }),
        (r.prototype.show = function () {
          this._hideTimeout && clearTimeout(this._hideTimeout),
            this.el.show(),
            (this._show = !0);
        }),
        (r.prototype.setContent = function (e, t, n, i, a) {
          var o = this;
          Y(e) &&
            zr(
              'Passing DOM nodes as content is not supported in richText tooltip!'
            ),
            this.el && this._zr.remove(this.el);
          var s = n.getModel('textStyle');
          (this.el = new Or({
            style: {
              rich: t.richTextStyles,
              text: e,
              lineHeight: 22,
              borderWidth: 1,
              borderColor: i,
              textShadowColor: s.get('textShadowColor'),
              fill: n.get(['textStyle', 'color']),
              padding: Fw(n, 'richText'),
              verticalAlign: 'top',
              align: 'left',
            },
            z: n.get('z'),
          })),
            F(
              [
                'backgroundColor',
                'borderRadius',
                'shadowColor',
                'shadowBlur',
                'shadowOffsetX',
                'shadowOffsetY',
              ],
              function (u) {
                o.el.style[u] = n.get(u);
              }
            ),
            F(
              ['textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY'],
              function (u) {
                o.el.style[u] = s.get(u) || 0;
              }
            ),
            this._zr.add(this.el);
          var l = this;
          this.el.on('mouseover', function () {
            l._enterable && (clearTimeout(l._hideTimeout), (l._show = !0)),
              (l._inContent = !0);
          }),
            this.el.on('mouseout', function () {
              l._enterable && l._show && l.hideLater(l._hideDelay),
                (l._inContent = !1);
            });
        }),
        (r.prototype.setEnterable = function (e) {
          this._enterable = e;
        }),
        (r.prototype.getSize = function () {
          var e = this.el,
            t = this.el.getBoundingRect(),
            n = II(e.style);
          return [t.width + n.left + n.right, t.height + n.top + n.bottom];
        }),
        (r.prototype.moveTo = function (e, t) {
          var n = this.el;
          if (n) {
            var i = this._styleCoord;
            kI(i, this._zr, e, t), (e = i[0]), (t = i[1]);
            var a = n.style,
              o = cu(a.borderWidth || 0),
              s = II(a);
            (n.x = e + o + s.left), (n.y = t + o + s.top), n.markRedraw();
          }
        }),
        (r.prototype._moveIfResized = function () {
          var t = this._styleCoord[3];
          this.moveTo(
            this._styleCoord[2] * this._zr.getWidth(),
            t * this._zr.getHeight()
          );
        }),
        (r.prototype.hide = function () {
          this.el && this.el.hide(), (this._show = !1);
        }),
        (r.prototype.hideLater = function (e) {
          this._show &&
            (!this._inContent || !this._enterable) &&
            !this._alwaysShowContent &&
            (e
              ? ((this._hideDelay = e),
                (this._show = !1),
                (this._hideTimeout = setTimeout(kt(this.hide, this), e)))
              : this.hide());
        }),
        (r.prototype.isShow = function () {
          return this._show;
        }),
        (r.prototype.dispose = function () {
          this._zr.remove(this.el);
        }),
        r
      );
    })();
  function cu(r) {
    return Math.max(0, r);
  }
  function II(r) {
    var e = cu(r.shadowBlur || 0),
      t = cu(r.shadowOffsetX || 0),
      n = cu(r.shadowOffsetY || 0);
    return {
      left: cu(e - t),
      right: cu(e + t),
      top: cu(e - n),
      bottom: cu(e + n),
    };
  }
  function kI(r, e, t, n) {
    (r[0] = t),
      (r[1] = n),
      (r[2] = r[0] / e.getWidth()),
      (r[3] = r[1] / e.getHeight());
  }
  var j9 = new Rr({ shape: { x: -1, y: -1, width: 2, height: 2 } }),
    K9 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.init = function (t, n) {
          if (!Lt.node && n.getDom()) {
            var i = t.getComponent('tooltip'),
              a = (this._renderMode = (function at(r) {
                return 'auto' === r
                  ? Lt.domSupported
                    ? 'html'
                    : 'richText'
                  : r || 'html';
              })(i.get('renderMode')));
            this._tooltipContent =
              'richText' === a
                ? new q9(n)
                : new Z9(n.getDom(), n, {
                    appendToBody: i.get('appendToBody', !0),
                  });
          }
        }),
        (e.prototype.render = function (t, n, i) {
          if (!Lt.node && i.getDom()) {
            this.group.removeAll(),
              (this._tooltipModel = t),
              (this._ecModel = n),
              (this._api = i);
            var a = this._tooltipContent;
            a.update(t),
              a.setEnterable(t.get('enterable')),
              this._initGlobalListener(),
              this._keepShow(),
              'richText' !== this._renderMode && t.get('transitionDuration')
                ? Vf(this, '_updatePosition', 50, 'fixRate')
                : wd(this, '_updatePosition');
          }
        }),
        (e.prototype._initGlobalListener = function () {
          var n = this._tooltipModel.get('triggerOn');
          BL(
            'itemTooltip',
            this._api,
            kt(function (i, a, o) {
              'none' !== n &&
                (n.indexOf(i) >= 0
                  ? this._tryShow(a, o)
                  : 'leave' === i && this._hide(o));
            }, this)
          );
        }),
        (e.prototype._keepShow = function () {
          var t = this._tooltipModel,
            n = this._ecModel,
            i = this._api,
            a = t.get('triggerOn');
          if (
            null != this._lastX &&
            null != this._lastY &&
            'none' !== a &&
            'click' !== a
          ) {
            var o = this;
            clearTimeout(this._refreshUpdateTimeout),
              (this._refreshUpdateTimeout = setTimeout(function () {
                !i.isDisposed() &&
                  o.manuallyShowTip(t, n, i, {
                    x: o._lastX,
                    y: o._lastY,
                    dataByCoordSys: o._lastDataByCoordSys,
                  });
              }));
          }
        }),
        (e.prototype.manuallyShowTip = function (t, n, i, a) {
          if (a.from !== this.uid && !Lt.node && i.getDom()) {
            var o = EI(a, i);
            this._ticket = '';
            var s = a.dataByCoordSys,
              l = (function e6(r, e, t) {
                var n = P(r).queryOptionMap,
                  i = n.keys()[0];
                if (i && 'series' !== i) {
                  var l,
                    o = q(e, i, n.get(i), {
                      useDefault: !1,
                      enableAll: !1,
                      enableNone: !1,
                    }).models[0];
                  if (
                    o &&
                    (t.getViewOfComponentModel(o).group.traverse(function (u) {
                      var c = fr(u).tooltipConfig;
                      if (c && c.name === r.name) return (l = u), !0;
                    }),
                    l)
                  )
                    return {
                      componentMainType: i,
                      componentIndex: o.componentIndex,
                      el: l,
                    };
                }
              })(a, n, i);
            if (l) {
              var u = l.el.getBoundingRect().clone();
              u.applyTransform(l.el.transform),
                this._tryShow(
                  {
                    offsetX: u.x + u.width / 2,
                    offsetY: u.y + u.height / 2,
                    target: l.el,
                    position: a.position,
                    positionDefault: 'bottom',
                  },
                  o
                );
            } else if (a.tooltip && null != a.x && null != a.y) {
              var c = j9;
              (c.x = a.x),
                (c.y = a.y),
                c.update(),
                (fr(c).tooltipConfig = { name: null, option: a.tooltip }),
                this._tryShow({ offsetX: a.x, offsetY: a.y, target: c }, o);
            } else if (s)
              this._tryShow(
                {
                  offsetX: a.x,
                  offsetY: a.y,
                  position: a.position,
                  dataByCoordSys: s,
                  tooltipOption: a.tooltipOption,
                },
                o
              );
            else if (null != a.seriesIndex) {
              if (this._manuallyAxisShowTip(t, n, i, a)) return;
              var f = zL(a, n),
                d = f.point[0],
                v = f.point[1];
              null != d &&
                null != v &&
                this._tryShow(
                  {
                    offsetX: d,
                    offsetY: v,
                    target: f.el,
                    position: a.position,
                    positionDefault: 'bottom',
                  },
                  o
                );
            } else
              null != a.x &&
                null != a.y &&
                (i.dispatchAction({
                  type: 'updateAxisPointer',
                  x: a.x,
                  y: a.y,
                }),
                this._tryShow(
                  {
                    offsetX: a.x,
                    offsetY: a.y,
                    position: a.position,
                    target: i.getZr().findHover(a.x, a.y).target,
                  },
                  o
                ));
          }
        }),
        (e.prototype.manuallyHideTip = function (t, n, i, a) {
          this._tooltipModel &&
            this._tooltipContent.hideLater(this._tooltipModel.get('hideDelay')),
            (this._lastX = this._lastY = this._lastDataByCoordSys = null),
            a.from !== this.uid && this._hide(EI(a, i));
        }),
        (e.prototype._manuallyAxisShowTip = function (t, n, i, a) {
          var o = a.seriesIndex,
            s = a.dataIndex,
            l = n.getComponent('axisPointer').coordSysAxesInfo;
          if (null != o && null != s && null != l) {
            var u = n.getSeriesByIndex(o);
            if (
              u &&
              'axis' ===
                pv(
                  [
                    u.getData().getItemModel(s),
                    u,
                    (u.coordinateSystem || {}).model,
                  ],
                  this._tooltipModel
                ).get('trigger')
            )
              return (
                i.dispatchAction({
                  type: 'updateAxisPointer',
                  seriesIndex: o,
                  dataIndex: s,
                  position: a.position,
                }),
                !0
              );
          }
        }),
        (e.prototype._tryShow = function (t, n) {
          var i = t.target;
          if (this._tooltipModel) {
            (this._lastX = t.offsetX), (this._lastY = t.offsetY);
            var o = t.dataByCoordSys;
            if (o && o.length) this._showAxisTooltip(o, t);
            else if (i) {
              var s, l;
              (this._lastDataByCoordSys = null),
                gc(
                  i,
                  function (u) {
                    return null != fr(u).dataIndex
                      ? ((s = u), !0)
                      : null != fr(u).tooltipConfig
                      ? ((l = u), !0)
                      : void 0;
                  },
                  !0
                ),
                s
                  ? this._showSeriesItemTooltip(t, s, n)
                  : l
                  ? this._showComponentItemTooltip(t, l, n)
                  : this._hide(n);
            } else (this._lastDataByCoordSys = null), this._hide(n);
          }
        }),
        (e.prototype._showOrMove = function (t, n) {
          var i = t.get('showDelay');
          (n = kt(n, this)),
            clearTimeout(this._showTimout),
            i > 0 ? (this._showTimout = setTimeout(n, i)) : n();
        }),
        (e.prototype._showAxisTooltip = function (t, n) {
          var i = this._ecModel,
            a = this._tooltipModel,
            o = [n.offsetX, n.offsetY],
            s = pv([n.tooltipOption], a),
            l = this._renderMode,
            u = [],
            c = si('section', { blocks: [], noHeader: !0 }),
            f = [],
            d = new n0();
          F(t, function (w) {
            F(w.dataByAxis, function (C) {
              var D = i.getComponent(C.axisDim + 'Axis', C.axisIndex),
                L = C.value;
              if (D && null != L) {
                var M = kL(L, D.axis, i, C.seriesDataIndices, C.valueLabelOpt),
                  E = si('section', {
                    header: M,
                    noHeader: !Et(M),
                    sortBlocks: !0,
                    blocks: [],
                  });
                c.blocks.push(E),
                  F(C.seriesDataIndices, function (O) {
                    var z = i.getSeriesByIndex(O.seriesIndex),
                      H = O.dataIndexInside,
                      G = z.getDataParams(H);
                    if (!(G.dataIndex < 0)) {
                      (G.axisDim = C.axisDim),
                        (G.axisIndex = C.axisIndex),
                        (G.axisType = C.axisType),
                        (G.axisId = C.axisId),
                        (G.axisValue = W0(D.axis, { value: L })),
                        (G.axisValueLabel = M),
                        (G.marker = d.makeTooltipMarker(
                          'item',
                          uc(G.color),
                          l
                        ));
                      var X = gw(z.formatTooltip(H, !0, null)),
                        K = X.frag;
                      if (K) {
                        var tt = pv([z], a).get('valueFormatter');
                        E.blocks.push(tt ? nt({ valueFormatter: tt }, K) : K);
                      }
                      X.text && f.push(X.text), u.push(G);
                    }
                  });
              }
            });
          }),
            c.blocks.reverse(),
            f.reverse();
          var v = n.position,
            g = s.get('order'),
            m = Pw(c, d, l, g, i.get('useUTC'), s.get('textStyle'));
          m && f.unshift(m);
          var b = f.join('richText' === l ? '\n\n' : '<br/>');
          this._showOrMove(s, function () {
            this._updateContentNotChangedOnAxis(t, u)
              ? this._updatePosition(s, v, o[0], o[1], this._tooltipContent, u)
              : this._showTooltipContent(
                  s,
                  b,
                  u,
                  Math.random() + '',
                  o[0],
                  o[1],
                  v,
                  null,
                  d
                );
          });
        }),
        (e.prototype._showSeriesItemTooltip = function (t, n, i) {
          var a = this._ecModel,
            o = fr(n),
            s = o.seriesIndex,
            l = a.getSeriesByIndex(s),
            u = o.dataModel || l,
            c = o.dataIndex,
            f = o.dataType,
            d = u.getData(f),
            v = this._renderMode,
            g = t.positionDefault,
            m = pv(
              [d.getItemModel(c), u, l && (l.coordinateSystem || {}).model],
              this._tooltipModel,
              g ? { position: g } : null
            ),
            y = m.get('trigger');
          if (null == y || 'item' === y) {
            var b = u.getDataParams(c, f),
              w = new n0();
            b.marker = w.makeTooltipMarker('item', uc(b.color), v);
            var C = gw(u.formatTooltip(c, !1, f)),
              D = m.get('order'),
              L = m.get('valueFormatter'),
              M = C.frag,
              E = M
                ? Pw(
                    L ? nt({ valueFormatter: L }, M) : M,
                    w,
                    v,
                    D,
                    a.get('useUTC'),
                    m.get('textStyle')
                  )
                : C.text,
              O = 'item_' + u.name + '_' + c;
            this._showOrMove(m, function () {
              this._showTooltipContent(
                m,
                E,
                b,
                O,
                t.offsetX,
                t.offsetY,
                t.position,
                t.target,
                w
              );
            }),
              i({
                type: 'showTip',
                dataIndexInside: c,
                dataIndex: d.getRawIndex(c),
                seriesIndex: s,
                from: this.uid,
              });
          }
        }),
        (e.prototype._showComponentItemTooltip = function (t, n, i) {
          var a = fr(n),
            s = a.tooltipConfig.option || {};
          ht(s) && (s = { content: s, formatter: s });
          var u = [s],
            c = this._ecModel.getComponent(
              a.componentMainType,
              a.componentIndex
            );
          c && u.push(c), u.push({ formatter: s.content });
          var f = t.positionDefault,
            d = pv(u, this._tooltipModel, f ? { position: f } : null),
            v = d.get('content'),
            g = Math.random() + '',
            m = new n0();
          this._showOrMove(d, function () {
            var y = ft(d.get('formatterParams') || {});
            this._showTooltipContent(
              d,
              v,
              y,
              g,
              t.offsetX,
              t.offsetY,
              t.position,
              n,
              m
            );
          }),
            i({ type: 'showTip', from: this.uid });
        }),
        (e.prototype._showTooltipContent = function (
          t,
          n,
          i,
          a,
          o,
          s,
          l,
          u,
          c
        ) {
          if (((this._ticket = ''), t.get('showContent') && t.get('show'))) {
            var f = this._tooltipContent;
            f.setEnterable(t.get('enterable'));
            var d = t.get('formatter');
            l = l || t.get('position');
            var v = n,
              m = this._getNearestPoint(
                [o, s],
                i,
                t.get('trigger'),
                t.get('borderColor')
              ).color;
            if (d)
              if (ht(d)) {
                var y = t.ecModel.get('useUTC'),
                  b = Tt(i) ? i[0] : i;
                (v = d),
                  b &&
                    b.axisType &&
                    b.axisType.indexOf('time') >= 0 &&
                    (v = dd(b.axisValue, v, y)),
                  (v = Py(v, i, !0));
              } else if (fe(d)) {
                var C = kt(function (D, L) {
                  D === this._ticket &&
                    (f.setContent(L, c, t, m, l),
                    this._updatePosition(t, l, o, s, f, i, u));
                }, this);
                (this._ticket = a), (v = d(i, a, C));
              } else v = d;
            f.setContent(v, c, t, m, l),
              f.show(t, m),
              this._updatePosition(t, l, o, s, f, i, u);
          }
        }),
        (e.prototype._getNearestPoint = function (t, n, i, a) {
          return 'axis' === i || Tt(n)
            ? { color: a || ('html' === this._renderMode ? '#fff' : 'none') }
            : Tt(n)
            ? void 0
            : { color: a || n.color || n.borderColor };
        }),
        (e.prototype._updatePosition = function (t, n, i, a, o, s, l) {
          var u = this._api.getWidth(),
            c = this._api.getHeight();
          n = n || t.get('position');
          var f = o.getSize(),
            d = t.get('align'),
            v = t.get('verticalAlign'),
            g = l && l.getBoundingRect().clone();
          if (
            (l && g.applyTransform(l.transform),
            fe(n) &&
              (n = n([i, a], s, o.el, g, {
                viewSize: [u, c],
                contentSize: f.slice(),
              })),
            Tt(n))
          )
            (i = Te(n[0], u)), (a = Te(n[1], c));
          else if (Y(n)) {
            var m = n;
            (m.width = f[0]), (m.height = f[1]);
            var y = Vn(m, { width: u, height: c });
            (i = y.x), (a = y.y), (d = null), (v = null);
          } else if (ht(n) && l) {
            var b = (function t6(r, e, t, n) {
              var i = t[0],
                a = t[1],
                o = Math.ceil(Math.SQRT2 * n) + 8,
                s = 0,
                l = 0,
                u = e.width,
                c = e.height;
              switch (r) {
                case 'inside':
                  (s = e.x + u / 2 - i / 2), (l = e.y + c / 2 - a / 2);
                  break;
                case 'top':
                  (s = e.x + u / 2 - i / 2), (l = e.y - a - o);
                  break;
                case 'bottom':
                  (s = e.x + u / 2 - i / 2), (l = e.y + c + o);
                  break;
                case 'left':
                  (s = e.x - i - o), (l = e.y + c / 2 - a / 2);
                  break;
                case 'right':
                  (s = e.x + u + o), (l = e.y + c / 2 - a / 2);
              }
              return [s, l];
            })(n, g, f, t.get('borderWidth'));
            (i = b[0]), (a = b[1]);
          } else
            (b = (function Q9(r, e, t, n, i, a, o) {
              var s = t.getSize(),
                l = s[0],
                u = s[1];
              return (
                null != a && (r + l + a + 2 > n ? (r -= l + a) : (r += a)),
                null != o && (e + u + o > i ? (e -= u + o) : (e += o)),
                [r, e]
              );
            })(i, a, o, u, c, d ? null : 20, v ? null : 20)),
              (i = b[0]),
              (a = b[1]);
          d && (i -= PI(d) ? f[0] / 2 : 'right' === d ? f[0] : 0),
            v && (a -= PI(v) ? f[1] / 2 : 'bottom' === v ? f[1] : 0),
            CI(t) &&
              ((b = (function J9(r, e, t, n, i) {
                var a = t.getSize(),
                  o = a[0],
                  s = a[1];
                return (
                  (r = Math.min(r + o, n) - o),
                  (e = Math.min(e + s, i) - s),
                  [(r = Math.max(r, 0)), (e = Math.max(e, 0))]
                );
              })(i, a, o, u, c)),
              (i = b[0]),
              (a = b[1])),
            o.moveTo(i, a);
        }),
        (e.prototype._updateContentNotChangedOnAxis = function (t, n) {
          var i = this._lastDataByCoordSys,
            a = this._cbParamsList,
            o = !!i && i.length === t.length;
          return (
            o &&
              F(i, function (s, l) {
                var u = s.dataByAxis || [],
                  f = (t[l] || {}).dataByAxis || [];
                (o = o && u.length === f.length) &&
                  F(u, function (d, v) {
                    var g = f[v] || {},
                      m = d.seriesDataIndices || [],
                      y = g.seriesDataIndices || [];
                    (o =
                      o &&
                      d.value === g.value &&
                      d.axisType === g.axisType &&
                      d.axisId === g.axisId &&
                      m.length === y.length) &&
                      F(m, function (b, w) {
                        var C = y[w];
                        o =
                          o &&
                          b.seriesIndex === C.seriesIndex &&
                          b.dataIndex === C.dataIndex;
                      }),
                      a &&
                        F(d.seriesDataIndices, function (b) {
                          var w = b.seriesIndex,
                            C = n[w],
                            D = a[w];
                          C && D && D.data !== C.data && (o = !1);
                        });
                  });
              }),
            (this._lastDataByCoordSys = t),
            (this._cbParamsList = n),
            !!o
          );
        }),
        (e.prototype._hide = function (t) {
          (this._lastDataByCoordSys = null),
            t({ type: 'hideTip', from: this.uid });
        }),
        (e.prototype.dispose = function (t, n) {
          Lt.node ||
            !n.getDom() ||
            (wd(this, '_updatePosition'),
            this._tooltipContent.dispose(),
            ab('itemTooltip', n));
        }),
        (e.type = 'tooltip'),
        e
      );
    })(fn);
  function pv(r, e, t) {
    var i,
      n = e.ecModel;
    t ? ((i = new Yr(t, n, n)), (i = new Yr(e.option, i, n))) : (i = e);
    for (var a = r.length - 1; a >= 0; a--) {
      var o = r[a];
      o &&
        (o instanceof Yr && (o = o.get('tooltip', !0)),
        ht(o) && (o = { formatter: o }),
        o && (i = new Yr(o, i, n)));
    }
    return i;
  }
  function EI(r, e) {
    return r.dispatchAction || kt(e.dispatchAction, e);
  }
  function PI(r) {
    return 'center' === r || 'middle' === r;
  }
  var n6 = ['rect', 'polygon', 'keep', 'clear'];
  function i6(r, e) {
    var t = qr(r ? r.brush : []);
    if (t.length) {
      var n = [];
      F(t, function (l) {
        var u = l.hasOwnProperty('toolbox') ? l.toolbox : [];
        u instanceof Array && (n = n.concat(u));
      });
      var i = r && r.toolbox;
      Tt(i) && (i = i[0]), i || (r.toolbox = [(i = { feature: {} })]);
      var a = i.feature || (i.feature = {}),
        o = a.brush || (a.brush = {}),
        s = o.type || (o.type = []);
      s.push.apply(s, n),
        (function a6(r) {
          var e = {};
          F(r, function (t) {
            e[t] = 1;
          }),
            (r.length = 0),
            F(e, function (t, n) {
              r.push(n);
            });
        })(s),
        e && !s.length && s.push.apply(s, n6);
    }
  }
  var RI = F;
  function OI(r) {
    if (r) for (var e in r) if (r.hasOwnProperty(e)) return !0;
  }
  function Cb(r, e, t) {
    var n = {};
    return (
      RI(e, function (a) {
        var o = (n[a] = (function i() {
          var a = function () {};
          return (a.prototype.__hidden = a.prototype), new a();
        })());
        RI(r[a], function (s, l) {
          if (ui.isValidType(l)) {
            var u = { type: l, visual: s };
            t && t(u, a),
              (o[l] = new ui(u)),
              'opacity' === l &&
                (((u = ft(u)).type = 'colorAlpha'),
                (o.__hidden.__alphaForOpacity = new ui(u)));
          }
        });
      }),
      n
    );
  }
  function FI(r, e, t) {
    var n;
    F(t, function (i) {
      e.hasOwnProperty(i) && OI(e[i]) && (n = !0);
    }),
      n &&
        F(t, function (i) {
          e.hasOwnProperty(i) && OI(e[i]) ? (r[i] = ft(e[i])) : delete r[i];
        });
  }
  var BI = {
    lineX: NI(0),
    lineY: NI(1),
    rect: {
      point: function (r, e, t) {
        return r && t.boundingRect.contain(r[0], r[1]);
      },
      rect: function (r, e, t) {
        return r && t.boundingRect.intersect(r);
      },
    },
    polygon: {
      point: function (r, e, t) {
        return (
          r && t.boundingRect.contain(r[0], r[1]) && wc(t.range, r[0], r[1])
        );
      },
      rect: function (r, e, t) {
        var n = t.range;
        if (!r || n.length <= 1) return !1;
        var i = r.x,
          a = r.y,
          o = r.width,
          s = r.height,
          l = n[0];
        return (
          !!(
            wc(n, i, a) ||
            wc(n, i + o, a) ||
            wc(n, i, a + s) ||
            wc(n, i + o, a + s) ||
            it.create(r).contain(l[0], l[1]) ||
            ld(i, a, i + o, a, n) ||
            ld(i, a, i, a + s, n) ||
            ld(i + o, a, i + o, a + s, n) ||
            ld(i, a + s, i + o, a + s, n)
          ) || void 0
        );
      },
    },
  };
  function NI(r) {
    var e = ['x', 'y'],
      t = ['width', 'height'];
    return {
      point: function (n, i, a) {
        if (n) return gv(n[r], a.range);
      },
      rect: function (n, i, a) {
        if (n) {
          var o = a.range,
            s = [n[e[r]], n[e[r]] + n[t[r]]];
          return (
            s[1] < s[0] && s.reverse(),
            gv(s[0], o) || gv(s[1], o) || gv(o[0], s) || gv(o[1], s)
          );
        }
      },
    };
  }
  function gv(r, e) {
    return e[0] <= r && r <= e[1];
  }
  var zI = ['inBrush', 'outOfBrush'],
    Db = '__ecBrushSelect',
    Tb = '__ecInBrushSelectEvent';
  function VI(r) {
    r.eachComponent({ mainType: 'brush' }, function (e) {
      (e.brushTargetManager = new yb(e.option, r)).setInputRanges(e.areas, r);
    });
  }
  function u6(r, e, t) {
    var i,
      a,
      n = [];
    r.eachComponent({ mainType: 'brush' }, function (o) {
      t &&
        'takeGlobalCursor' === t.type &&
        o.setBrushOption('brush' === t.key ? t.brushOption : { brushType: !1 });
    }),
      VI(r),
      r.eachComponent({ mainType: 'brush' }, function (o, s) {
        var l = {
          brushId: o.id,
          brushIndex: s,
          brushName: o.name,
          areas: ft(o.areas),
          selected: [],
        };
        n.push(l);
        var u = o.option,
          c = u.brushLink,
          f = [],
          d = [],
          v = [],
          g = !1;
        s || ((i = u.throttleType), (a = u.throttleDelay));
        var m = Ut(o.areas, function (L) {
            var M = d6[L.brushType],
              E = Ot({ boundingRect: M ? M(L) : void 0 }, L);
            return (
              (E.selectors = (function l6(r) {
                var e = r.brushType,
                  t = {
                    point: function (n) {
                      return BI[e].point(n, t, r);
                    },
                    rect: function (n) {
                      return BI[e].rect(n, t, r);
                    },
                  };
                return t;
              })(E)),
              E
            );
          }),
          y = Cb(o.option, zI, function (L) {
            L.mappingMethod = 'fixed';
          });
        function b(L) {
          return 'all' === c || !!f[L];
        }
        function w(L) {
          return !!L.length;
        }
        Tt(c) &&
          F(c, function (L) {
            f[L] = 1;
          }),
          r.eachSeries(function (L, M) {
            var E = (v[M] = []);
            'parallel' === L.subType
              ? (function C(L, M) {
                  var E = L.coordinateSystem;
                  (g = g || E.hasAxisBrushed()),
                    b(M) &&
                      E.eachActiveState(L.getData(), function (O, z) {
                        'active' === O && (d[z] = 1);
                      });
                })(L, M)
              : (function D(L, M, E) {
                  if (
                    L.brushSelector &&
                    !(function h6(r, e) {
                      var t = r.option.seriesIndex;
                      return (
                        null != t &&
                        'all' !== t &&
                        (Tt(t) ? $(t, e) < 0 : e !== t)
                      );
                    })(o, M) &&
                    (F(m, function (z) {
                      o.brushTargetManager.controlSeries(z, L, r) && E.push(z),
                        (g = g || w(E));
                    }),
                    b(M) && w(E))
                  ) {
                    var O = L.getData();
                    O.each(function (z) {
                      HI(L, E, O, z) && (d[z] = 1);
                    });
                  }
                })(L, M, E);
          }),
          r.eachSeries(function (L, M) {
            var E = {
              seriesId: L.id,
              seriesIndex: M,
              seriesName: L.name,
              dataIndex: [],
            };
            l.selected.push(E);
            var O = v[M],
              z = L.getData(),
              H = b(M)
                ? function (G) {
                    return d[G]
                      ? (E.dataIndex.push(z.getRawIndex(G)), 'inBrush')
                      : 'outOfBrush';
                  }
                : function (G) {
                    return HI(L, O, z, G)
                      ? (E.dataIndex.push(z.getRawIndex(G)), 'inBrush')
                      : 'outOfBrush';
                  };
            (b(M) ? g : w(O)) &&
              (function o6(r, e, t, n, i, a) {
                var s,
                  o = {};
                function l(f) {
                  return o0(t, s, f);
                }
                function u(f, d) {
                  iC(t, s, f, d);
                }
                function c(f, d) {
                  var v = t.getRawDataItem((s = null == a ? f : d));
                  if (!v || !1 !== v.visualMap)
                    for (
                      var g = n.call(i, f),
                        m = e[g],
                        y = o[g],
                        b = 0,
                        w = y.length;
                      b < w;
                      b++
                    ) {
                      var C = y[b];
                      m[C] && m[C].applyVisual(f, l, u);
                    }
                }
                F(r, function (f) {
                  var d = ui.prepareVisualTypes(e[f]);
                  o[f] = d;
                }),
                  null == a ? t.each(c) : t.each([a], c);
              })(zI, y, z, H);
          });
      }),
      (function c6(r, e, t, n, i) {
        if (i) {
          var a = r.getZr();
          a[Tb] || (a[Db] || (a[Db] = f6), Vf(a, Db, t, e)(r, n));
        }
      })(e, i, a, n, t);
  }
  function f6(r, e) {
    if (!r.isDisposed()) {
      var t = r.getZr();
      (t[Tb] = !0),
        r.dispatchAction({ type: 'brushSelect', batch: e }),
        (t[Tb] = !1);
    }
  }
  function HI(r, e, t, n) {
    for (var i = 0, a = e.length; i < a; i++) {
      var o = e[i];
      if (r.brushSelector(n, t, o.selectors, o)) return !0;
    }
  }
  var d6 = {
    rect: function (r) {
      return GI(r.range);
    },
    polygon: function (r) {
      for (var e, t = r.range, n = 0, i = t.length; n < i; n++) {
        var a = t[n];
        a[0] <
          (e = e || [
            [1 / 0, -1 / 0],
            [1 / 0, -1 / 0],
          ])[0][0] && (e[0][0] = a[0]),
          a[0] > e[0][1] && (e[0][1] = a[0]),
          a[1] < e[1][0] && (e[1][0] = a[1]),
          a[1] > e[1][1] && (e[1][1] = a[1]);
      }
      return e && GI(e);
    },
  };
  function GI(r) {
    return new it(r[0][0], r[1][0], r[0][1] - r[0][0], r[1][1] - r[1][0]);
  }
  var v6 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.init = function (t, n) {
          (this.ecModel = t),
            (this.api = n),
            (this._brushController = new xx(n.getZr()))
              .on('brush', kt(this._onBrush, this))
              .mount();
        }),
        (e.prototype.render = function (t, n, i, a) {
          (this.model = t), this._updateController(t, n, i, a);
        }),
        (e.prototype.updateTransform = function (t, n, i, a) {
          VI(n), this._updateController(t, n, i, a);
        }),
        (e.prototype.updateVisual = function (t, n, i, a) {
          this.updateTransform(t, n, i, a);
        }),
        (e.prototype.updateView = function (t, n, i, a) {
          this._updateController(t, n, i, a);
        }),
        (e.prototype._updateController = function (t, n, i, a) {
          (!a || a.$from !== t.id) &&
            this._brushController
              .setPanels(t.brushTargetManager.makePanelOpts(i))
              .enableBrush(t.brushOption)
              .updateCovers(t.areas.slice());
        }),
        (e.prototype.dispose = function () {
          this._brushController.dispose();
        }),
        (e.prototype._onBrush = function (t) {
          var n = this.model.id,
            i = this.model.brushTargetManager.setOutputRanges(
              t.areas,
              this.ecModel
            );
          (!t.isEnd || t.removeOnClick) &&
            this.api.dispatchAction({
              type: 'brush',
              brushId: n,
              areas: ft(i),
              $from: n,
            }),
            t.isEnd &&
              this.api.dispatchAction({
                type: 'brushEnd',
                brushId: n,
                areas: ft(i),
                $from: n,
              });
        }),
        (e.type = 'brush'),
        e
      );
    })(fn),
    g6 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), (t.areas = []), (t.brushOption = {}), t;
      }
      return (
        ut(e, r),
        (e.prototype.optionUpdated = function (t, n) {
          var i = this.option;
          !n && FI(i, t, ['inBrush', 'outOfBrush']);
          var a = (i.inBrush = i.inBrush || {});
          (i.outOfBrush = i.outOfBrush || { color: '#ddd' }),
            a.hasOwnProperty('liftZ') || (a.liftZ = 5);
        }),
        (e.prototype.setAreas = function (t) {
          lt(Tt(t)),
            F(t, function (n) {
              lt(n.brushType, 'Illegal areas');
            }),
            t &&
              (this.areas = Ut(
                t,
                function (n) {
                  return WI(this.option, n);
                },
                this
              ));
        }),
        (e.prototype.setBrushOption = function (t) {
          (this.brushOption = WI(this.option, t)),
            (this.brushType = this.brushOption.brushType);
        }),
        (e.type = 'brush'),
        (e.dependencies = [
          'geo',
          'grid',
          'xAxis',
          'yAxis',
          'parallel',
          'series',
        ]),
        (e.defaultOption = {
          seriesIndex: 'all',
          brushType: 'rect',
          brushMode: 'single',
          transformable: !0,
          brushStyle: {
            borderWidth: 1,
            color: 'rgba(210,219,238,0.3)',
            borderColor: '#D2DBEE',
          },
          throttleType: 'fixRate',
          throttleDelay: 0,
          removeOnClick: !0,
          z: 1e4,
        }),
        e
      );
    })(br);
  function WI(r, e) {
    return Gt(
      {
        brushType: r.brushType,
        brushMode: r.brushMode,
        transformable: r.transformable,
        brushStyle: new Yr(r.brushStyle).getItemStyle(),
        removeOnClick: r.removeOnClick,
        z: r.z,
      },
      e,
      !0
    );
  }
  var m6 = ['rect', 'polygon', 'lineX', 'lineY', 'keep', 'clear'],
    y6 = (function (r) {
      function e() {
        return (null !== r && r.apply(this, arguments)) || this;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i) {
          var a, o, s;
          n.eachComponent({ mainType: 'brush' }, function (l) {
            (a = l.brushType),
              (o = l.brushOption.brushMode || 'single'),
              (s = s || !!l.areas.length);
          }),
            (this._brushType = a),
            (this._brushMode = o),
            F(t.get('type', !0), function (l) {
              t.setIconStatus(
                l,
                ('keep' === l ? 'multiple' === o : 'clear' === l ? s : l === a)
                  ? 'emphasis'
                  : 'normal'
              );
            });
        }),
        (e.prototype.updateView = function (t, n, i) {
          this.render(t, n, i);
        }),
        (e.prototype.getIcons = function () {
          var t = this.model,
            n = t.get('icon', !0),
            i = {};
          return (
            F(t.get('type', !0), function (a) {
              n[a] && (i[a] = n[a]);
            }),
            i
          );
        }),
        (e.prototype.onclick = function (t, n, i) {
          var a = this._brushType,
            o = this._brushMode;
          'clear' === i
            ? (n.dispatchAction({ type: 'axisAreaSelect', intervals: [] }),
              n.dispatchAction({ type: 'brush', command: 'clear', areas: [] }))
            : n.dispatchAction({
                type: 'takeGlobalCursor',
                key: 'brush',
                brushOption: {
                  brushType: 'keep' === i ? a : a !== i && i,
                  brushMode:
                    'keep' === i
                      ? 'multiple' === o
                        ? 'single'
                        : 'multiple'
                      : o,
                },
              });
        }),
        (e.getDefaultOption = function (t) {
          return {
            show: !0,
            type: m6.slice(),
            icon: {
              rect: 'M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13',
              polygon:
                'M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2',
              lineX:
                'M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4',
              lineY:
                'M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4',
              keep: 'M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z',
              clear:
                'M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2',
            },
            title: t.getLocaleModel().get(['toolbox', 'brush', 'title']),
          };
        }),
        e
      );
    })(po),
    b6 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (
          (t.type = e.type), (t.layoutMode = { type: 'box', ignoreSize: !0 }), t
        );
      }
      return (
        ut(e, r),
        (e.type = 'title'),
        (e.defaultOption = {
          z: 6,
          show: !0,
          text: '',
          target: 'blank',
          subtext: '',
          subtarget: 'blank',
          left: 0,
          top: 0,
          backgroundColor: 'rgba(0,0,0,0)',
          borderColor: '#ccc',
          borderWidth: 0,
          padding: 5,
          itemGap: 10,
          textStyle: { fontSize: 18, fontWeight: 'bold', color: '#464646' },
          subtextStyle: { fontSize: 12, color: '#6E7079' },
        }),
        e
      );
    })(br),
    _6 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i) {
          if ((this.group.removeAll(), t.get('show'))) {
            var a = this.group,
              o = t.getModel('textStyle'),
              s = t.getModel('subtextStyle'),
              l = t.get('textAlign'),
              u = B(t.get('textBaseline'), t.get('textVerticalAlign')),
              c = new Or({
                style: on(
                  o,
                  { text: t.get('text'), fill: o.getTextColor() },
                  { disableBox: !0 }
                ),
                z2: 10,
              }),
              f = c.getBoundingRect(),
              d = t.get('subtext'),
              v = new Or({
                style: on(
                  s,
                  {
                    text: d,
                    fill: s.getTextColor(),
                    y: f.height + t.get('itemGap'),
                    verticalAlign: 'top',
                  },
                  { disableBox: !0 }
                ),
                z2: 10,
              }),
              g = t.get('link'),
              m = t.get('sublink'),
              y = t.get('triggerEvent', !0);
            (c.silent = !g && !y),
              (v.silent = !m && !y),
              g &&
                c.on('click', function () {
                  Bp(g, '_' + t.get('target'));
                }),
              m &&
                v.on('click', function () {
                  Bp(m, '_' + t.get('subtarget'));
                }),
              (fr(c).eventData = fr(v).eventData =
                y
                  ? { componentType: 'title', componentIndex: t.componentIndex }
                  : null),
              a.add(c),
              d && a.add(v);
            var b = a.getBoundingRect(),
              w = t.getBoxLayoutParams();
            (w.width = b.width), (w.height = b.height);
            var C = Vn(
              w,
              { width: i.getWidth(), height: i.getHeight() },
              t.get('padding')
            );
            l ||
              ('middle' === (l = t.get('left') || t.get('right')) &&
                (l = 'center'),
              'right' === l
                ? (C.x += C.width)
                : 'center' === l && (C.x += C.width / 2)),
              u ||
                ('center' === (u = t.get('top') || t.get('bottom')) &&
                  (u = 'middle'),
                'bottom' === u
                  ? (C.y += C.height)
                  : 'middle' === u && (C.y += C.height / 2),
                (u = u || 'top')),
              (a.x = C.x),
              (a.y = C.y),
              a.markRedraw();
            var D = { align: l, verticalAlign: u };
            c.setStyle(D), v.setStyle(D), (b = a.getBoundingRect());
            var L = C.margin,
              M = t.getItemStyle(['color', 'opacity']);
            M.fill = t.get('backgroundColor');
            var E = new Rr({
              shape: {
                x: b.x - L[3],
                y: b.y - L[0],
                width: b.width + L[1] + L[3],
                height: b.height + L[0] + L[2],
                r: t.get('borderRadius'),
              },
              style: M,
              subPixelOptimize: !0,
              silent: !0,
            });
            a.add(E);
          }
        }),
        (e.type = 'title'),
        e
      );
    })(fn),
    $I = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), (t.layoutMode = 'box'), t;
      }
      return (
        ut(e, r),
        (e.prototype.init = function (t, n, i) {
          this.mergeDefaultAndTheme(t, i), this._initData();
        }),
        (e.prototype.mergeOption = function (t) {
          r.prototype.mergeOption.apply(this, arguments), this._initData();
        }),
        (e.prototype.setCurrentIndex = function (t) {
          null == t && (t = this.option.currentIndex);
          var n = this._data.count();
          this.option.loop
            ? (t = ((t % n) + n) % n)
            : (t >= n && (t = n - 1), t < 0 && (t = 0)),
            (this.option.currentIndex = t);
        }),
        (e.prototype.getCurrentIndex = function () {
          return this.option.currentIndex;
        }),
        (e.prototype.isIndexMax = function () {
          return this.getCurrentIndex() >= this._data.count() - 1;
        }),
        (e.prototype.setPlayState = function (t) {
          this.option.autoPlay = !!t;
        }),
        (e.prototype.getPlayState = function () {
          return !!this.option.autoPlay;
        }),
        (e.prototype._initData = function () {
          var o,
            t = this.option,
            n = t.data || [],
            i = t.axisType,
            a = (this._names = []);
          'category' === i
            ? ((o = []),
              F(n, function (u, c) {
                var d,
                  f = gn(Io(u), '');
                Y(u) ? ((d = ft(u)).value = c) : (d = c), o.push(d), a.push(f);
              }))
            : (o = n),
            (this._data = new Zi(
              [
                {
                  name: 'value',
                  type:
                    { category: 'ordinal', time: 'time', value: 'number' }[i] ||
                    'number',
                },
              ],
              this
            )).initData(o, a);
        }),
        (e.prototype.getData = function () {
          return this._data;
        }),
        (e.prototype.getCategories = function () {
          if ('category' === this.get('axisType')) return this._names.slice();
        }),
        (e.type = 'timeline'),
        (e.defaultOption = {
          z: 4,
          show: !0,
          axisType: 'time',
          realtime: !0,
          left: '20%',
          top: null,
          right: '20%',
          bottom: 0,
          width: null,
          height: 40,
          padding: 5,
          controlPosition: 'left',
          autoPlay: !1,
          rewind: !1,
          loop: !0,
          playInterval: 2e3,
          currentIndex: 0,
          itemStyle: {},
          label: { color: '#000' },
          data: [],
        }),
        e
      );
    })(br),
    UI = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.type = 'timeline.slider'),
        (e.defaultOption = Zl($I.defaultOption, {
          backgroundColor: 'rgba(0,0,0,0)',
          borderColor: '#ccc',
          borderWidth: 0,
          orient: 'horizontal',
          inverse: !1,
          tooltip: { trigger: 'item' },
          symbol: 'circle',
          symbolSize: 12,
          lineStyle: { show: !0, width: 2, color: '#DAE1F5' },
          label: {
            position: 'auto',
            show: !0,
            interval: 'auto',
            rotate: 0,
            color: '#A4B1D7',
          },
          itemStyle: { color: '#A4B1D7', borderWidth: 1 },
          checkpointStyle: {
            symbol: 'circle',
            symbolSize: 15,
            color: '#316bf3',
            borderColor: '#fff',
            borderWidth: 2,
            shadowBlur: 2,
            shadowOffsetX: 1,
            shadowOffsetY: 1,
            shadowColor: 'rgba(0, 0, 0, 0.3)',
            animation: !0,
            animationDuration: 300,
            animationEasing: 'quinticInOut',
          },
          controlStyle: {
            show: !0,
            showPlayBtn: !0,
            showPrevBtn: !0,
            showNextBtn: !0,
            itemSize: 24,
            itemGap: 12,
            position: 'left',
            playIcon:
              'path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z',
            stopIcon:
              'path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z',
            nextIcon:
              'M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z',
            prevIcon:
              'M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z',
            prevBtnSize: 18,
            nextBtnSize: 18,
            color: '#A4B1D7',
            borderColor: '#A4B1D7',
            borderWidth: 1,
          },
          emphasis: {
            label: { show: !0, color: '#6f778d' },
            itemStyle: { color: '#316BF3' },
            controlStyle: {
              color: '#316BF3',
              borderColor: '#316BF3',
              borderWidth: 2,
            },
          },
          progress: {
            lineStyle: { color: '#316BF3' },
            itemStyle: { color: '#316BF3' },
            label: { color: '#6f778d' },
          },
          data: [],
        })),
        e
      );
    })($I);
  Ee(UI, Ky.prototype);
  var w6 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return ut(e, r), (e.type = 'timeline'), e;
    })(fn),
    C6 = (function (r) {
      function e(t, n, i, a) {
        var o = r.call(this, t, n, i) || this;
        return (o.type = a || 'value'), o;
      }
      return (
        ut(e, r),
        (e.prototype.getLabelModel = function () {
          return this.model.getModel('label');
        }),
        (e.prototype.isHorizontal = function () {
          return 'horizontal' === this.model.get('orient');
        }),
        e
      );
    })(lo),
    Ab = Math.PI,
    YI = S(),
    D6 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.init = function (t, n) {
          this.api = n;
        }),
        (e.prototype.render = function (t, n, i) {
          if (
            ((this.model = t),
            (this.api = i),
            (this.ecModel = n),
            this.group.removeAll(),
            t.get('show', !0))
          ) {
            var a = this._layout(t, i),
              o = this._createGroup('_mainGroup'),
              s = this._createGroup('_labelGroup'),
              l = (this._axis = this._createAxis(a, t));
            (t.formatTooltip = function (u) {
              return si('nameValue', {
                noName: !0,
                value: l.scale.getLabel({ value: u }),
              });
            }),
              F(
                ['AxisLine', 'AxisTick', 'Control', 'CurrentPointer'],
                function (u) {
                  this['_render' + u](a, o, l, t);
                },
                this
              ),
              this._renderAxisLabel(a, s, l, t),
              this._position(a, t);
          }
          this._doPlayStop(), this._updateTicksStatus();
        }),
        (e.prototype.remove = function () {
          this._clearTimer(), this.group.removeAll();
        }),
        (e.prototype.dispose = function () {
          this._clearTimer();
        }),
        (e.prototype._layout = function (t, n) {
          var s,
            i = t.get(['label', 'position']),
            a = t.get('orient'),
            o = (function A6(r, e) {
              return Vn(
                r.getBoxLayoutParams(),
                { width: e.getWidth(), height: e.getHeight() },
                r.get('padding')
              );
            })(t, n),
            l = {
              horizontal: 'center',
              vertical:
                (s =
                  null == i || 'auto' === i
                    ? 'horizontal' === a
                      ? o.y + o.height / 2 < n.getHeight() / 2
                        ? '-'
                        : '+'
                      : o.x + o.width / 2 < n.getWidth() / 2
                      ? '+'
                      : '-'
                    : ht(i)
                    ? {
                        horizontal: { top: '-', bottom: '+' },
                        vertical: { left: '-', right: '+' },
                      }[a][i]
                    : i) >= 0 || '+' === s
                  ? 'left'
                  : 'right',
            },
            u = {
              horizontal: s >= 0 || '+' === s ? 'top' : 'bottom',
              vertical: 'middle',
            },
            c = { horizontal: 0, vertical: Ab / 2 },
            f = 'vertical' === a ? o.height : o.width,
            d = t.getModel('controlStyle'),
            v = d.get('show', !0),
            g = v ? d.get('itemSize') : 0,
            m = v ? d.get('itemGap') : 0,
            y = g + m,
            b = t.get(['label', 'rotate']) || 0;
          b = (b * Ab) / 180;
          var w,
            C,
            D,
            L = d.get('position', !0),
            M = v && d.get('showPlayBtn', !0),
            E = v && d.get('showPrevBtn', !0),
            O = v && d.get('showNextBtn', !0),
            z = 0,
            H = f;
          'left' === L || 'bottom' === L
            ? (M && ((w = [0, 0]), (z += y)),
              E && ((C = [z, 0]), (z += y)),
              O && ((D = [H - g, 0]), (H -= y)))
            : (M && ((w = [H - g, 0]), (H -= y)),
              E && ((C = [0, 0]), (z += y)),
              O && ((D = [H - g, 0]), (H -= y)));
          var G = [z, H];
          return (
            t.get('inverse') && G.reverse(),
            {
              viewRect: o,
              mainLength: f,
              orient: a,
              rotation: c[a],
              labelRotation: b,
              labelPosOpt: s,
              labelAlign: t.get(['label', 'align']) || l[a],
              labelBaseline:
                t.get(['label', 'verticalAlign']) ||
                t.get(['label', 'baseline']) ||
                u[a],
              playPosition: w,
              prevBtnPosition: C,
              nextBtnPosition: D,
              axisExtent: G,
              controlSize: g,
              controlGap: m,
            }
          );
        }),
        (e.prototype._position = function (t, n) {
          var i = this._mainGroup,
            a = this._labelGroup,
            o = t.viewRect;
          if ('vertical' === t.orient) {
            var s = [1, 0, 0, 1, 0, 0],
              l = o.x,
              u = o.y + o.height;
            Ri(s, s, [-l, -u]),
              ka(s, s, -Ab / 2),
              Ri(s, s, [l, u]),
              (o = o.clone()).applyTransform(s);
          }
          var c = w(o),
            f = w(i.getBoundingRect()),
            d = w(a.getBoundingRect()),
            v = [i.x, i.y],
            g = [a.x, a.y];
          g[0] = v[0] = c[0][0];
          var y,
            m = t.labelPosOpt;
          function b(D) {
            (D.originX = c[0][0] - D.x), (D.originY = c[1][0] - D.y);
          }
          function w(D) {
            return [
              [D.x, D.x + D.width],
              [D.y, D.y + D.height],
            ];
          }
          function C(D, L, M, E, O) {
            D[E] += M[E][O] - L[E][O];
          }
          null == m || ht(m)
            ? (C(v, f, c, 1, (y = '+' === m ? 0 : 1)), C(g, d, c, 1, 1 - y))
            : (C(v, f, c, 1, (y = m >= 0 ? 0 : 1)), (g[1] = v[1] + m)),
            i.setPosition(v),
            a.setPosition(g),
            (i.rotation = a.rotation = t.rotation),
            b(i),
            b(a);
        }),
        (e.prototype._createAxis = function (t, n) {
          var i = n.getData(),
            a = n.get('axisType'),
            o = (function T6(r, e) {
              if ((e = e || r.get('type')))
                switch (e) {
                  case 'category':
                    return new mg({
                      ordinalMeta: r.getCategories(),
                      extent: [1 / 0, -1 / 0],
                    });
                  case 'time':
                    return new H0({
                      locale: r.ecModel.getLocaleModel(),
                      useUTC: r.ecModel.get('useUTC'),
                    });
                  default:
                    return new al();
                }
            })(n, a);
          o.getTicks = function () {
            return i.mapArray(['value'], function (u) {
              return { value: u };
            });
          };
          var s = i.getDataExtent('value');
          o.setExtent(s[0], s[1]), o.calcNiceTicks();
          var l = new C6('value', o, t.axisExtent, a);
          return (l.model = n), l;
        }),
        (e.prototype._createGroup = function (t) {
          var n = (this[t] = new Qe());
          return this.group.add(n), n;
        }),
        (e.prototype._renderAxisLine = function (t, n, i, a) {
          var o = i.getExtent();
          if (a.get(['lineStyle', 'show'])) {
            var s = new Jn({
              shape: { x1: o[0], y1: 0, x2: o[1], y2: 0 },
              style: nt(
                { lineCap: 'round' },
                a.getModel('lineStyle').getLineStyle()
              ),
              silent: !0,
              z2: 1,
            });
            n.add(s);
            var l = (this._progressLine = new Jn({
              shape: {
                x1: o[0],
                x2: this._currentPointer ? this._currentPointer.x : o[0],
                y1: 0,
                y2: 0,
              },
              style: Ot(
                { lineCap: 'round', lineWidth: s.style.lineWidth },
                a.getModel(['progress', 'lineStyle']).getLineStyle()
              ),
              silent: !0,
              z2: 1,
            }));
            n.add(l);
          }
        }),
        (e.prototype._renderAxisTick = function (t, n, i, a) {
          var o = this,
            s = a.getData(),
            l = i.scale.getTicks();
          (this._tickSymbols = []),
            F(l, function (u) {
              var c = i.dataToCoord(u.value),
                f = s.getItemModel(u.value),
                d = f.getModel('itemStyle'),
                v = f.getModel(['emphasis', 'itemStyle']),
                g = f.getModel(['progress', 'itemStyle']),
                m = { x: c, y: 0, onclick: kt(o._changeTimeline, o, u.value) },
                y = XI(f, d, n, m);
              (y.ensureState('emphasis').style = v.getItemStyle()),
                (y.ensureState('progress').style = g.getItemStyle()),
                Wl(y);
              var b = fr(y);
              f.get('tooltip')
                ? ((b.dataIndex = u.value), (b.dataModel = a))
                : (b.dataIndex = b.dataModel = null),
                o._tickSymbols.push(y);
            });
        }),
        (e.prototype._renderAxisLabel = function (t, n, i, a) {
          var o = this;
          if (i.getLabelModel().get('show')) {
            var l = a.getData(),
              u = i.getViewLabels();
            (this._tickLabels = []),
              F(u, function (c) {
                var f = c.tickValue,
                  d = l.getItemModel(f),
                  v = d.getModel('label'),
                  g = d.getModel(['emphasis', 'label']),
                  m = d.getModel(['progress', 'label']),
                  y = i.dataToCoord(c.tickValue),
                  b = new Or({
                    x: y,
                    y: 0,
                    rotation: t.labelRotation - t.rotation,
                    onclick: kt(o._changeTimeline, o, f),
                    silent: !1,
                    style: on(v, {
                      text: c.formattedLabel,
                      align: t.labelAlign,
                      verticalAlign: t.labelBaseline,
                    }),
                  });
                (b.ensureState('emphasis').style = on(g)),
                  (b.ensureState('progress').style = on(m)),
                  n.add(b),
                  Wl(b),
                  (YI(b).dataIndex = f),
                  o._tickLabels.push(b);
              });
          }
        }),
        (e.prototype._renderControl = function (t, n, i, a) {
          var o = t.controlSize,
            s = t.rotation,
            l = a.getModel('controlStyle').getItemStyle(),
            u = a.getModel(['emphasis', 'controlStyle']).getItemStyle(),
            c = a.getPlayState(),
            f = a.get('inverse', !0);
          function d(v, g, m, y) {
            if (v) {
              var b = Ni(B(a.get(['controlStyle', g + 'BtnSize']), o), o),
                C = (function M6(r, e, t, n) {
                  var i = n.style,
                    a = Mf(
                      r.get(['controlStyle', e]),
                      n || {},
                      new it(t[0], t[1], t[2], t[3])
                    );
                  return i && a.setStyle(i), a;
                })(a, g + 'Icon', [0, -b / 2, b, b], {
                  x: v[0],
                  y: v[1],
                  originX: o / 2,
                  originY: 0,
                  rotation: y ? -s : 0,
                  rectHover: !0,
                  style: l,
                  onclick: m,
                });
              (C.ensureState('emphasis').style = u), n.add(C), Wl(C);
            }
          }
          d(
            t.nextBtnPosition,
            'next',
            kt(this._changeTimeline, this, f ? '-' : '+')
          ),
            d(
              t.prevBtnPosition,
              'prev',
              kt(this._changeTimeline, this, f ? '+' : '-')
            ),
            d(
              t.playPosition,
              c ? 'stop' : 'play',
              kt(this._handlePlayClick, this, !c),
              !0
            );
        }),
        (e.prototype._renderCurrentPointer = function (t, n, i, a) {
          var o = a.getData(),
            s = a.getCurrentIndex(),
            l = o.getItemModel(s).getModel('checkpointStyle'),
            u = this;
          this._currentPointer = XI(
            l,
            l,
            this._mainGroup,
            {},
            this._currentPointer,
            {
              onCreate: function (f) {
                (f.draggable = !0),
                  (f.drift = kt(u._handlePointerDrag, u)),
                  (f.ondragend = kt(u._handlePointerDragend, u)),
                  ZI(f, u._progressLine, s, i, a, !0);
              },
              onUpdate: function (f) {
                ZI(f, u._progressLine, s, i, a);
              },
            }
          );
        }),
        (e.prototype._handlePlayClick = function (t) {
          this._clearTimer(),
            this.api.dispatchAction({
              type: 'timelinePlayChange',
              playState: t,
              from: this.uid,
            });
        }),
        (e.prototype._handlePointerDrag = function (t, n, i) {
          this._clearTimer(),
            this._pointerChangeTimeline([i.offsetX, i.offsetY]);
        }),
        (e.prototype._handlePointerDragend = function (t) {
          this._pointerChangeTimeline([t.offsetX, t.offsetY], !0);
        }),
        (e.prototype._pointerChangeTimeline = function (t, n) {
          var i = this._toAxisCoord(t)[0],
            o = Zn(this._axis.getExtent().slice());
          i > o[1] && (i = o[1]),
            i < o[0] && (i = o[0]),
            (this._currentPointer.x = i),
            this._currentPointer.markRedraw();
          var s = this._progressLine;
          s && ((s.shape.x2 = i), s.dirty());
          var l = this._findNearestTick(i),
            u = this.model;
          (n || (l !== u.getCurrentIndex() && u.get('realtime'))) &&
            this._changeTimeline(l);
        }),
        (e.prototype._doPlayStop = function () {
          var t = this;
          this._clearTimer(),
            this.model.getPlayState() &&
              (this._timer = setTimeout(function () {
                var n = t.model;
                t._changeTimeline(
                  n.getCurrentIndex() + (n.get('rewind', !0) ? -1 : 1)
                );
              }, this.model.get('playInterval')));
        }),
        (e.prototype._toAxisCoord = function (t) {
          return Oo(t, this._mainGroup.getLocalTransform(), !0);
        }),
        (e.prototype._findNearestTick = function (t) {
          var a,
            n = this.model.getData(),
            i = 1 / 0,
            o = this._axis;
          return (
            n.each(['value'], function (s, l) {
              var u = o.dataToCoord(s),
                c = Math.abs(u - t);
              c < i && ((i = c), (a = l));
            }),
            a
          );
        }),
        (e.prototype._clearTimer = function () {
          this._timer && (clearTimeout(this._timer), (this._timer = null));
        }),
        (e.prototype._changeTimeline = function (t) {
          var n = this.model.getCurrentIndex();
          '+' === t ? (t = n + 1) : '-' === t && (t = n - 1),
            this.api.dispatchAction({
              type: 'timelineChange',
              currentIndex: t,
              from: this.uid,
            });
        }),
        (e.prototype._updateTicksStatus = function () {
          var t = this.model.getCurrentIndex(),
            n = this._tickSymbols,
            i = this._tickLabels;
          if (n)
            for (var a = 0; a < n.length; a++)
              n && n[a] && n[a].toggleState('progress', a < t);
          if (i)
            for (a = 0; a < i.length; a++)
              i &&
                i[a] &&
                i[a].toggleState('progress', YI(i[a]).dataIndex <= t);
        }),
        (e.type = 'timeline.slider'),
        e
      );
    })(w6);
  function XI(r, e, t, n, i, a) {
    var o = e.get('color');
    i
      ? (i.setColor(o), t.add(i), a && a.onUpdate(i))
      : ((i = En(r.get('symbol'), -1, -1, 2, 2, o)).setStyle(
          'strokeNoScale',
          !0
        ),
        t.add(i),
        a && a.onCreate(i));
    var l = e.getItemStyle(['color']);
    i.setStyle(l), (n = Gt({ rectHover: !0, z2: 100 }, n, !0));
    var u = Gf(r.get('symbolSize'));
    (n.scaleX = u[0] / 2), (n.scaleY = u[1] / 2);
    var c = mc(r.get('symbolOffset'), u);
    c && ((n.x = (n.x || 0) + c[0]), (n.y = (n.y || 0) + c[1]));
    var f = r.get('symbolRotate');
    return (
      (n.rotation = ((f || 0) * Math.PI) / 180 || 0),
      i.attr(n),
      i.updateTransform(),
      i
    );
  }
  function ZI(r, e, t, n, i, a) {
    if (!r.dragging) {
      var o = i.getModel('checkpointStyle'),
        s = n.dataToCoord(i.getData().get('value', t));
      if (a || !o.get('animation', !0))
        r.attr({ x: s, y: 0 }), e && e.attr({ shape: { x2: s } });
      else {
        var l = {
          duration: o.get('animationDuration', !0),
          easing: o.get('animationEasing', !0),
        };
        r.stopAnimation(null, !0),
          r.animateTo({ x: s, y: 0 }, l),
          e && e.animateTo({ shape: { x2: s } }, l);
      }
    }
  }
  function I6(r) {
    var e = r && r.timeline;
    Tt(e) || (e = e ? [e] : []),
      F(e, function (t) {
        t &&
          (function k6(r) {
            var e = r.type,
              t = { number: 'value', time: 'time' };
            if (
              (t[e] && ((r.axisType = t[e]), delete r.type),
              qI(r),
              Wc(r, 'controlPosition'))
            ) {
              var n = r.controlStyle || (r.controlStyle = {});
              Wc(n, 'position') || (n.position = r.controlPosition),
                'none' === n.position &&
                  !Wc(n, 'show') &&
                  ((n.show = !1), delete n.position),
                delete r.controlPosition;
            }
            F(r.data || [], function (i) {
              Y(i) &&
                !Tt(i) &&
                (!Wc(i, 'value') && Wc(i, 'name') && (i.value = i.name), qI(i));
            });
          })(t);
      });
  }
  function qI(r) {
    var e = r.itemStyle || (r.itemStyle = {}),
      t = e.emphasis || (e.emphasis = {}),
      n = r.label || r.label || {},
      i = n.normal || (n.normal = {}),
      a = { normal: 1, emphasis: 1 };
    F(n, function (o, s) {
      !a[s] && !Wc(i, s) && (i[s] = o);
    }),
      t.label && !Wc(n, 'emphasis') && ((n.emphasis = t.label), delete t.label);
  }
  function Wc(r, e) {
    return r.hasOwnProperty(e);
  }
  function Mb(r, e) {
    if (!r) return !1;
    for (var t = Tt(r) ? r : [r], n = 0; n < t.length; n++)
      if (t[n] && t[n][e]) return !0;
    return !1;
  }
  function ym(r) {
    Oa(r, 'label', ['show']);
  }
  var xm = S(),
    fl = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), (t.createdBySelf = !1), t;
      }
      return (
        ut(e, r),
        (e.prototype.init = function (t, n, i) {
          if ('marker' === this.type)
            throw new Error(
              'Marker component is abstract component. Use markLine, markPoint, markArea instead.'
            );
          this.mergeDefaultAndTheme(t, i), this._mergeOption(t, i, !1, !0);
        }),
        (e.prototype.isAnimationEnabled = function () {
          if (Lt.node) return !1;
          var t = this.__hostSeries;
          return this.getShallow('animation') && t && t.isAnimationEnabled();
        }),
        (e.prototype.mergeOption = function (t, n) {
          this._mergeOption(t, n, !1, !1);
        }),
        (e.prototype._mergeOption = function (t, n, i, a) {
          var o = this.mainType;
          i ||
            n.eachSeries(function (s) {
              var l = s.get(this.mainType, !0),
                u = xm(s)[o];
              l && l.data
                ? (u
                    ? u._mergeOption(l, n, !0)
                    : (a && ym(l),
                      F(l.data, function (c) {
                        c instanceof Array ? (ym(c[0]), ym(c[1])) : ym(c);
                      }),
                      nt((u = this.createMarkerModelFromSeries(l, this, n)), {
                        mainType: this.mainType,
                        seriesIndex: s.seriesIndex,
                        name: s.name,
                        createdBySelf: !0,
                      }),
                      (u.__hostSeries = s)),
                  (xm(s)[o] = u))
                : (xm(s)[o] = null);
            }, this);
        }),
        (e.prototype.formatTooltip = function (t, n, i) {
          var a = this.getData(),
            o = this.getRawValue(t),
            s = a.getName(t);
          return si('section', {
            header: this.name,
            blocks: [
              si('nameValue', {
                name: s,
                value: o,
                noName: !s,
                noValue: null == o,
              }),
            ],
          });
        }),
        (e.prototype.getData = function () {
          return this._data;
        }),
        (e.prototype.setData = function (t) {
          this._data = t;
        }),
        (e.getMarkerModelFromSeries = function (t, n) {
          return xm(t)[n];
        }),
        (e.type = 'marker'),
        (e.dependencies = ['series', 'grid', 'polar', 'geo']),
        e
      );
    })(br);
  Ee(fl, Ky.prototype);
  var P6 = (function (r) {
    function e() {
      var t = (null !== r && r.apply(this, arguments)) || this;
      return (t.type = e.type), t;
    }
    return (
      ut(e, r),
      (e.prototype.createMarkerModelFromSeries = function (t, n, i) {
        return new e(t, n, i);
      }),
      (e.type = 'markPoint'),
      (e.defaultOption = {
        z: 5,
        symbol: 'pin',
        symbolSize: 50,
        tooltip: { trigger: 'item' },
        label: { show: !0, position: 'inside' },
        itemStyle: { borderWidth: 2 },
        emphasis: { label: { show: !0 } },
      }),
      e
    );
  })(fl);
  function Lb(r) {
    return !(isNaN(parseFloat(r.x)) && isNaN(parseFloat(r.y)));
  }
  function bm(r, e, t, n, i, a) {
    var o = [],
      l = il(e, n) ? e.getCalculationInfo('stackResultDimension') : n,
      u = kb(e, l, r),
      c = e.indicesOfNearest(l, u)[0];
    (o[i] = e.get(t, c)), (o[a] = e.get(l, c));
    var f = e.get(n, c),
      d = xa(e.get(n, c));
    return (d = Math.min(d, 20)) >= 0 && (o[a] = +o[a].toFixed(d)), [o, f];
  }
  var Ib = {
    min: me(bm, 'min'),
    max: me(bm, 'max'),
    average: me(bm, 'average'),
    median: me(bm, 'median'),
  };
  function mv(r, e) {
    if (e) {
      var t = r.getData(),
        n = r.coordinateSystem,
        i = n && n.dimensions;
      if (
        !(function R6(r) {
          return !isNaN(parseFloat(r.x)) && !isNaN(parseFloat(r.y));
        })(e) &&
        !Tt(e.coord) &&
        Tt(i)
      ) {
        var a = jI(e, t, n, r);
        if ((e = ft(e)).type && Ib[e.type] && a.baseAxis && a.valueAxis) {
          var o = $(i, a.baseAxis.dim),
            s = $(i, a.valueAxis.dim),
            l = Ib[e.type](t, a.baseDataDim, a.valueDataDim, o, s);
          (e.coord = l[0]), (e.value = l[1]);
        } else
          e.coord = [
            null != e.xAxis ? e.xAxis : e.radiusAxis,
            null != e.yAxis ? e.yAxis : e.angleAxis,
          ];
      }
      if (null != e.coord && Tt(i))
        for (var u = e.coord, c = 0; c < 2; c++)
          Ib[u[c]] && (u[c] = kb(t, t.mapDimension(i[c]), u[c]));
      else e.coord = [];
      return e;
    }
  }
  function jI(r, e, t, n) {
    var i = {};
    return (
      null != r.valueIndex || null != r.valueDim
        ? ((i.valueDataDim =
            null != r.valueIndex ? e.getDimension(r.valueIndex) : r.valueDim),
          (i.valueAxis = t.getAxis(
            (function O6(r, e) {
              var t = r.getData().getDimensionInfo(e);
              return t && t.coordDim;
            })(n, i.valueDataDim)
          )),
          (i.baseAxis = t.getOtherAxis(i.valueAxis)),
          (i.baseDataDim = e.mapDimension(i.baseAxis.dim)))
        : ((i.baseAxis = n.getBaseAxis()),
          (i.valueAxis = t.getOtherAxis(i.baseAxis)),
          (i.baseDataDim = e.mapDimension(i.baseAxis.dim)),
          (i.valueDataDim = e.mapDimension(i.valueAxis.dim))),
      i
    );
  }
  function yv(r, e) {
    return !(r && r.containData && e.coord && !Lb(e)) || r.containData(e.coord);
  }
  function KI(r, e) {
    return r
      ? function (t, n, i, a) {
          return jl(a < 2 ? t.coord && t.coord[a] : t.value, e[a]);
        }
      : function (t, n, i, a) {
          return jl(t.value, e[a]);
        };
  }
  function kb(r, e, t) {
    if ('average' === t) {
      var n = 0,
        i = 0;
      return (
        r.each(e, function (a, o) {
          isNaN(a) || ((n += a), i++);
        }),
        n / i
      );
    }
    return 'median' === t
      ? r.getMedian(e)
      : r.getDataExtent(e)['max' === t ? 1 : 0];
  }
  var Eb = S(),
    Pb = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.init = function () {
          this.markerGroupMap = Nt();
        }),
        (e.prototype.render = function (t, n, i) {
          var a = this,
            o = this.markerGroupMap;
          o.each(function (s) {
            Eb(s).keep = !1;
          }),
            n.eachSeries(function (s) {
              var l = fl.getMarkerModelFromSeries(s, a.type);
              l && a.renderSeries(s, l, n, i);
            }),
            o.each(function (s) {
              !Eb(s).keep && a.group.remove(s.group);
            });
        }),
        (e.prototype.markKeep = function (t) {
          Eb(t).keep = !0;
        }),
        (e.prototype.toggleBlurSeries = function (t, n) {
          var i = this;
          F(t, function (a) {
            var o = fl.getMarkerModelFromSeries(a, i.type);
            o &&
              o.getData().eachItemGraphicEl(function (l) {
                l && (n ? P_(l) : ey(l));
              });
          });
        }),
        (e.type = 'marker'),
        e
      );
    })(fn);
  function QI(r, e, t) {
    var n = e.coordinateSystem;
    r.each(function (i) {
      var o,
        a = r.getItemModel(i),
        s = Te(a.get('x'), t.getWidth()),
        l = Te(a.get('y'), t.getHeight());
      if (isNaN(s) || isNaN(l)) {
        if (e.getMarkerPosition)
          o = e.getMarkerPosition(r.getValues(r.dimensions, i));
        else if (n) {
          var u = r.get(n.dimensions[0], i),
            c = r.get(n.dimensions[1], i);
          o = n.dataToPoint([u, c]);
        }
      } else o = [s, l];
      isNaN(s) || (o[0] = s), isNaN(l) || (o[1] = l), r.setItemLayout(i, o);
    });
  }
  var B6 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.updateTransform = function (t, n, i) {
          n.eachSeries(function (a) {
            var o = fl.getMarkerModelFromSeries(a, 'markPoint');
            o &&
              (QI(o.getData(), a, i),
              this.markerGroupMap.get(a.id).updateLayout());
          }, this);
        }),
        (e.prototype.renderSeries = function (t, n, i, a) {
          var o = t.coordinateSystem,
            s = t.id,
            l = t.getData(),
            u = this.markerGroupMap,
            c = u.get(s) || u.set(s, new $d()),
            f = (function N6(r, e, t) {
              var n;
              n = r
                ? Ut(r && r.dimensions, function (s) {
                    return nt(
                      nt(
                        {},
                        e
                          .getData()
                          .getDimensionInfo(e.getData().mapDimension(s)) || {}
                      ),
                      { name: s, ordinalMeta: null }
                    );
                  })
                : [{ name: 'value', type: 'float' }];
              var i = new Zi(n, t),
                a = Ut(t.get('data'), me(mv, e));
              r && (a = je(a, me(yv, r)));
              var o = KI(!!r, n);
              return i.initData(a, null, o), i;
            })(o, t, n);
          n.setData(f),
            QI(n.getData(), t, a),
            f.each(function (d) {
              var v = f.getItemModel(d),
                g = v.getShallow('symbol'),
                m = v.getShallow('symbolSize'),
                y = v.getShallow('symbolRotate'),
                b = v.getShallow('symbolOffset'),
                w = v.getShallow('symbolKeepAspect');
              if (fe(g) || fe(m) || fe(y) || fe(b)) {
                var C = n.getRawValue(d),
                  D = n.getDataParams(d);
                fe(g) && (g = g(C, D)),
                  fe(m) && (m = m(C, D)),
                  fe(y) && (y = y(C, D)),
                  fe(b) && (b = b(C, D));
              }
              var L = v.getModel('itemStyle').getItemStyle(),
                M = Td(l, 'color');
              L.fill || (L.fill = M),
                f.setItemVisual(d, {
                  symbol: g,
                  symbolSize: m,
                  symbolRotate: y,
                  symbolOffset: b,
                  symbolKeepAspect: w,
                  style: L,
                });
            }),
            c.updateData(f),
            this.group.add(c.group),
            f.eachItemGraphicEl(function (d) {
              d.traverse(function (v) {
                fr(v).dataModel = n;
              });
            }),
            this.markKeep(c),
            (c.group.silent = n.get('silent') || t.get('silent'));
        }),
        (e.type = 'markPoint'),
        e
      );
    })(Pb),
    V6 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.createMarkerModelFromSeries = function (t, n, i) {
          return new e(t, n, i);
        }),
        (e.type = 'markLine'),
        (e.defaultOption = {
          z: 5,
          symbol: ['circle', 'arrow'],
          symbolSize: [8, 16],
          symbolOffset: 0,
          precision: 2,
          tooltip: { trigger: 'item' },
          label: { show: !0, position: 'end', distance: 5 },
          lineStyle: { type: 'dashed' },
          emphasis: { label: { show: !0 }, lineStyle: { width: 3 } },
          animationEasing: 'linear',
        }),
        e
      );
    })(fl),
    _m = S(),
    H6 = function (r, e, t, n) {
      var a,
        i = r.getData();
      if (Tt(n)) a = n;
      else {
        var o = n.type;
        if (
          'min' === o ||
          'max' === o ||
          'average' === o ||
          'median' === o ||
          null != n.xAxis ||
          null != n.yAxis
        ) {
          var s = void 0,
            l = void 0;
          if (null != n.yAxis || null != n.xAxis)
            (s = e.getAxis(null != n.yAxis ? 'y' : 'x')),
              (l = xe(n.yAxis, n.xAxis));
          else {
            var u = jI(n, i, e, r);
            (s = u.valueAxis), (l = kb(i, R0(i, u.valueDataDim), o));
          }
          var f = 'x' === s.dim ? 0 : 1,
            d = 1 - f,
            v = ft(n),
            g = { coord: [] };
          (v.type = null),
            (v.coord = []),
            (v.coord[d] = -1 / 0),
            (g.coord[d] = 1 / 0);
          var m = t.get('precision');
          m >= 0 && U(l) && (l = +l.toFixed(Math.min(m, 20))),
            (v.coord[f] = g.coord[f] = l),
            (a = [v, g, { type: o, valueIndex: n.valueIndex, value: l }]);
        } else He('Invalid markLine data.'), (a = []);
      }
      var y = [mv(r, a[0]), mv(r, a[1]), nt({}, a[2])];
      return (y[2].type = y[2].type || null), Gt(y[2], y[0]), Gt(y[2], y[1]), y;
    };
  function Sm(r) {
    return !isNaN(r) && !isFinite(r);
  }
  function JI(r, e, t, n) {
    var i = 1 - r,
      a = n.dimensions[r];
    return (
      Sm(e[i]) && Sm(t[i]) && e[r] === t[r] && n.getAxis(a).containData(e[r])
    );
  }
  function G6(r, e) {
    if ('cartesian2d' === r.type) {
      var t = e[0].coord,
        n = e[1].coord;
      if (t && n && (JI(1, t, n, r) || JI(0, t, n, r))) return !0;
    }
    return yv(r, e[0]) && yv(r, e[1]);
  }
  function Rb(r, e, t, n, i) {
    var s,
      a = n.coordinateSystem,
      o = r.getItemModel(e),
      l = Te(o.get('x'), i.getWidth()),
      u = Te(o.get('y'), i.getHeight());
    if (isNaN(l) || isNaN(u)) {
      if (n.getMarkerPosition)
        s = n.getMarkerPosition(r.getValues(r.dimensions, e));
      else {
        var f = r.get((c = a.dimensions)[0], e),
          d = r.get(c[1], e);
        s = a.dataToPoint([f, d]);
      }
      if (Ic(a, 'cartesian2d')) {
        var c,
          v = a.getAxis('x'),
          g = a.getAxis('y');
        Sm(r.get((c = a.dimensions)[0], e))
          ? (s[0] = v.toGlobalCoord(v.getExtent()[t ? 0 : 1]))
          : Sm(r.get(c[1], e)) &&
            (s[1] = g.toGlobalCoord(g.getExtent()[t ? 0 : 1]));
      }
      isNaN(l) || (s[0] = l), isNaN(u) || (s[1] = u);
    } else s = [l, u];
    r.setItemLayout(e, s);
  }
  var W6 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.updateTransform = function (t, n, i) {
          n.eachSeries(function (a) {
            var o = fl.getMarkerModelFromSeries(a, 'markLine');
            if (o) {
              var s = o.getData(),
                l = _m(o).from,
                u = _m(o).to;
              l.each(function (c) {
                Rb(l, c, !0, a, i), Rb(u, c, !1, a, i);
              }),
                s.each(function (c) {
                  s.setItemLayout(c, [l.getItemLayout(c), u.getItemLayout(c)]);
                }),
                this.markerGroupMap.get(a.id).updateLayout();
            }
          }, this);
        }),
        (e.prototype.renderSeries = function (t, n, i, a) {
          var o = t.coordinateSystem,
            s = t.id,
            l = t.getData(),
            u = this.markerGroupMap,
            c = u.get(s) || u.set(s, new sx());
          this.group.add(c.group);
          var f = (function $6(r, e, t) {
              var n;
              n = r
                ? Ut(r && r.dimensions, function (u) {
                    return nt(
                      nt(
                        {},
                        e
                          .getData()
                          .getDimensionInfo(e.getData().mapDimension(u)) || {}
                      ),
                      { name: u, ordinalMeta: null }
                    );
                  })
                : [{ name: 'value', type: 'float' }];
              var i = new Zi(n, t),
                a = new Zi(n, t),
                o = new Zi([], t),
                s = Ut(t.get('data'), me(H6, e, r, t));
              r && (s = je(s, me(G6, r)));
              var l = KI(!!r, n);
              return (
                i.initData(
                  Ut(s, function (u) {
                    return u[0];
                  }),
                  null,
                  l
                ),
                a.initData(
                  Ut(s, function (u) {
                    return u[1];
                  }),
                  null,
                  l
                ),
                o.initData(
                  Ut(s, function (u) {
                    return u[2];
                  })
                ),
                (o.hasItemOption = !0),
                { from: i, to: a, line: o }
              );
            })(o, t, n),
            d = f.from,
            v = f.to,
            g = f.line;
          (_m(n).from = d), (_m(n).to = v), n.setData(g);
          var m = n.get('symbol'),
            y = n.get('symbolSize'),
            b = n.get('symbolRotate'),
            w = n.get('symbolOffset');
          function C(D, L, M) {
            var E = D.getItemModel(L);
            Rb(D, L, M, t, a);
            var O = E.getModel('itemStyle').getItemStyle();
            null == O.fill && (O.fill = Td(l, 'color')),
              D.setItemVisual(L, {
                symbolKeepAspect: E.get('symbolKeepAspect'),
                symbolOffset: B(E.get('symbolOffset', !0), w[M ? 0 : 1]),
                symbolRotate: B(E.get('symbolRotate', !0), b[M ? 0 : 1]),
                symbolSize: B(E.get('symbolSize'), y[M ? 0 : 1]),
                symbol: B(E.get('symbol', !0), m[M ? 0 : 1]),
                style: O,
              });
          }
          Tt(m) || (m = [m, m]),
            Tt(y) || (y = [y, y]),
            Tt(b) || (b = [b, b]),
            Tt(w) || (w = [w, w]),
            f.from.each(function (D) {
              C(d, D, !0), C(v, D, !1);
            }),
            g.each(function (D) {
              var L = g.getItemModel(D).getModel('lineStyle').getLineStyle();
              g.setItemLayout(D, [d.getItemLayout(D), v.getItemLayout(D)]),
                null == L.stroke &&
                  (L.stroke = d.getItemVisual(D, 'style').fill),
                g.setItemVisual(D, {
                  fromSymbolKeepAspect: d.getItemVisual(D, 'symbolKeepAspect'),
                  fromSymbolOffset: d.getItemVisual(D, 'symbolOffset'),
                  fromSymbolRotate: d.getItemVisual(D, 'symbolRotate'),
                  fromSymbolSize: d.getItemVisual(D, 'symbolSize'),
                  fromSymbol: d.getItemVisual(D, 'symbol'),
                  toSymbolKeepAspect: v.getItemVisual(D, 'symbolKeepAspect'),
                  toSymbolOffset: v.getItemVisual(D, 'symbolOffset'),
                  toSymbolRotate: v.getItemVisual(D, 'symbolRotate'),
                  toSymbolSize: v.getItemVisual(D, 'symbolSize'),
                  toSymbol: v.getItemVisual(D, 'symbol'),
                  style: L,
                });
            }),
            c.updateData(g),
            f.line.eachItemGraphicEl(function (D) {
              (fr(D).dataModel = n),
                D.traverse(function (L) {
                  fr(L).dataModel = n;
                });
            }),
            this.markKeep(c),
            (c.group.silent = n.get('silent') || t.get('silent'));
        }),
        (e.type = 'markLine'),
        e
      );
    })(Pb),
    Y6 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.createMarkerModelFromSeries = function (t, n, i) {
          return new e(t, n, i);
        }),
        (e.type = 'markArea'),
        (e.defaultOption = {
          z: 1,
          tooltip: { trigger: 'item' },
          animation: !1,
          label: { show: !0, position: 'top' },
          itemStyle: { borderWidth: 0 },
          emphasis: { label: { show: !0, position: 'top' } },
        }),
        e
      );
    })(fl),
    wm = S(),
    X6 = function (r, e, t, n) {
      var i = n[0],
        a = n[1];
      if (i && a) {
        var o = mv(r, i),
          s = mv(r, a),
          l = o.coord,
          u = s.coord;
        (l[0] = xe(l[0], -1 / 0)),
          (l[1] = xe(l[1], -1 / 0)),
          (u[0] = xe(u[0], 1 / 0)),
          (u[1] = xe(u[1], 1 / 0));
        var c = Ht([{}, o, s]);
        return (
          (c.coord = [o.coord, s.coord]),
          (c.x0 = o.x),
          (c.y0 = o.y),
          (c.x1 = s.x),
          (c.y1 = s.y),
          c
        );
      }
    };
  function Cm(r) {
    return !isNaN(r) && !isFinite(r);
  }
  function tk(r, e, t, n) {
    var i = 1 - r;
    return Cm(e[i]) && Cm(t[i]);
  }
  function Z6(r, e) {
    var t = e.coord[0],
      n = e.coord[1],
      i = { coord: t, x: e.x0, y: e.y0 },
      a = { coord: n, x: e.x1, y: e.y1 };
    return Ic(r, 'cartesian2d')
      ? !(!t || !n || (!tk(1, t, n) && !tk(0, t, n))) ||
          (function F6(r, e, t) {
            return (
              !(r && r.containZone && e.coord && t.coord && !Lb(e) && !Lb(t)) ||
              r.containZone(e.coord, t.coord)
            );
          })(r, i, a)
      : yv(r, i) || yv(r, a);
  }
  function ek(r, e, t, n, i) {
    var s,
      a = n.coordinateSystem,
      o = r.getItemModel(e),
      l = Te(o.get(t[0]), i.getWidth()),
      u = Te(o.get(t[1]), i.getHeight());
    if (isNaN(l) || isNaN(u)) {
      if (n.getMarkerPosition) {
        var c = r.getValues(['x0', 'y0'], e),
          f = r.getValues(['x1', 'y1'], e),
          d = a.clampData(c),
          v = a.clampData(f),
          g = [];
        (g[0] =
          'x0' === t[0]
            ? d[0] > v[0]
              ? f[0]
              : c[0]
            : d[0] > v[0]
            ? c[0]
            : f[0]),
          (g[1] =
            'y0' === t[1]
              ? d[1] > v[1]
                ? f[1]
                : c[1]
              : d[1] > v[1]
              ? c[1]
              : f[1]),
          (s = n.getMarkerPosition(g, t, !0));
      } else {
        var b = [(m = r.get(t[0], e)), (y = r.get(t[1], e))];
        a.clampData && a.clampData(b, b), (s = a.dataToPoint(b, !0));
      }
      if (Ic(a, 'cartesian2d')) {
        var w = a.getAxis('x'),
          C = a.getAxis('y'),
          m = r.get(t[0], e),
          y = r.get(t[1], e);
        Cm(m)
          ? (s[0] = w.toGlobalCoord(w.getExtent()['x0' === t[0] ? 0 : 1]))
          : Cm(y) &&
            (s[1] = C.toGlobalCoord(C.getExtent()['y0' === t[1] ? 0 : 1]));
      }
      isNaN(l) || (s[0] = l), isNaN(u) || (s[1] = u);
    } else s = [l, u];
    return s;
  }
  var rk = [
      ['x0', 'y0'],
      ['x1', 'y0'],
      ['x1', 'y1'],
      ['x0', 'y1'],
    ],
    q6 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.updateTransform = function (t, n, i) {
          n.eachSeries(function (a) {
            var o = fl.getMarkerModelFromSeries(a, 'markArea');
            if (o) {
              var s = o.getData();
              s.each(function (l) {
                var u = Ut(rk, function (f) {
                  return ek(s, l, f, a, i);
                });
                s.setItemLayout(l, u),
                  s.getItemGraphicEl(l).setShape('points', u);
              });
            }
          }, this);
        }),
        (e.prototype.renderSeries = function (t, n, i, a) {
          var o = t.coordinateSystem,
            s = t.id,
            l = t.getData(),
            u = this.markerGroupMap,
            c = u.get(s) || u.set(s, { group: new Qe() });
          this.group.add(c.group), this.markKeep(c);
          var f = (function j6(r, e, t) {
            var n, i;
            if (r) {
              var o = Ut(r && r.dimensions, function (u) {
                var c = e.getData();
                return nt(nt({}, c.getDimensionInfo(c.mapDimension(u)) || {}), {
                  name: u,
                  ordinalMeta: null,
                });
              });
              (i = Ut(['x0', 'y0', 'x1', 'y1'], function (u, c) {
                return { name: u, type: o[c % 2].type };
              })),
                (n = new Zi(i, t));
            } else n = new Zi((i = [{ name: 'value', type: 'float' }]), t);
            var s = Ut(t.get('data'), me(X6, e, r, t));
            r && (s = je(s, me(Z6, r)));
            var l = r
              ? function (u, c, f, d) {
                  return jl(u.coord[Math.floor(d / 2)][d % 2], i[d]);
                }
              : function (u, c, f, d) {
                  return jl(u.value, i[d]);
                };
            return n.initData(s, null, l), (n.hasItemOption = !0), n;
          })(o, t, n);
          n.setData(f),
            f.each(function (d) {
              var v = Ut(rk, function (O) {
                  return ek(f, d, O, t, a);
                }),
                g = o.getAxis('x').scale,
                m = o.getAxis('y').scale,
                y = g.getExtent(),
                b = m.getExtent(),
                w = [g.parse(f.get('x0', d)), g.parse(f.get('x1', d))],
                C = [m.parse(f.get('y0', d)), m.parse(f.get('y1', d))];
              Zn(w),
                Zn(C),
                f.setItemLayout(d, {
                  points: v,
                  allClipped: !!(
                    y[0] > w[1] ||
                    y[1] < w[0] ||
                    b[0] > C[1] ||
                    b[1] < C[0]
                  ),
                });
              var M = f.getItemModel(d).getModel('itemStyle').getItemStyle(),
                E = Td(l, 'color');
              M.fill ||
                ((M.fill = E), ht(M.fill) && (M.fill = Sl(M.fill, 0.4))),
                M.stroke || (M.stroke = E),
                f.setItemVisual(d, 'style', M);
            }),
            f
              .diff(wm(c).data)
              .add(function (d) {
                var v = f.getItemLayout(d);
                if (!v.allClipped) {
                  var g = new Wi({ shape: { points: v.points } });
                  f.setItemGraphicEl(d, g), c.group.add(g);
                }
              })
              .update(function (d, v) {
                var g = wm(c).data.getItemGraphicEl(v),
                  m = f.getItemLayout(d);
                m.allClipped
                  ? g && c.group.remove(g)
                  : (g
                      ? Wr(g, { shape: { points: m.points } }, n, d)
                      : (g = new Wi({ shape: { points: m.points } })),
                    f.setItemGraphicEl(d, g),
                    c.group.add(g));
              })
              .remove(function (d) {
                var v = wm(c).data.getItemGraphicEl(d);
                c.group.remove(v);
              })
              .execute(),
            f.eachItemGraphicEl(function (d, v) {
              var g = f.getItemModel(v),
                m = f.getItemVisual(v, 'style');
              d.useStyle(f.getItemVisual(v, 'style')),
                Ci(d, oi(g), {
                  labelFetcher: n,
                  labelDataIndex: v,
                  defaultText: f.getName(v) || '',
                  inheritColor: ht(m.fill) ? Sl(m.fill, 1) : '#000',
                }),
                wi(d, g),
                wn(d, null, null, g.get(['emphasis', 'disabled'])),
                (fr(d).dataModel = n);
            }),
            (wm(c).data = f),
            (c.group.silent = n.get('silent') || t.get('silent'));
        }),
        (e.type = 'markArea'),
        e
      );
    })(Pb),
    Ob = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (
          (t.type = e.type), (t.layoutMode = { type: 'box', ignoreSize: !0 }), t
        );
      }
      return (
        ut(e, r),
        (e.prototype.init = function (t, n, i) {
          this.mergeDefaultAndTheme(t, i),
            (t.selected = t.selected || {}),
            this._updateSelector(t);
        }),
        (e.prototype.mergeOption = function (t, n) {
          r.prototype.mergeOption.call(this, t, n), this._updateSelector(t);
        }),
        (e.prototype._updateSelector = function (t) {
          var n = t.selector,
            i = this.ecModel;
          !0 === n && (n = t.selector = ['all', 'inverse']),
            Tt(n) &&
              F(n, function (a, o) {
                ht(a) && (a = { type: a }),
                  (n[o] = Gt(
                    a,
                    (function (r, e) {
                      return 'all' === e
                        ? {
                            type: 'all',
                            title: r
                              .getLocaleModel()
                              .get(['legend', 'selector', 'all']),
                          }
                        : 'inverse' === e
                        ? {
                            type: 'inverse',
                            title: r
                              .getLocaleModel()
                              .get(['legend', 'selector', 'inverse']),
                          }
                        : void 0;
                    })(i, a.type)
                  ));
              });
        }),
        (e.prototype.optionUpdated = function () {
          this._updateData(this.ecModel);
          var t = this._data;
          if (t[0] && 'single' === this.get('selectedMode')) {
            for (var n = !1, i = 0; i < t.length; i++) {
              var a = t[i].get('name');
              if (this.isSelected(a)) {
                this.select(a), (n = !0);
                break;
              }
            }
            !n && this.select(t[0].get('name'));
          }
        }),
        (e.prototype._updateData = function (t) {
          var n = [],
            i = [];
          t.eachRawSeries(function (l) {
            var c;
            if ((i.push(l.name), l.legendVisualProvider)) {
              var d = l.legendVisualProvider.getAllNames();
              t.isSeriesFiltered(l) || (i = i.concat(d)),
                d.length ? (n = n.concat(d)) : (c = !0);
            } else c = !0;
            c && xn(l) && n.push(l.name);
          }),
            (this._availableNames = i);
          var a = this.get('data') || n,
            o = Nt(),
            s = Ut(
              a,
              function (l) {
                return (
                  (ht(l) || U(l)) && (l = { name: l }),
                  o.get(l.name)
                    ? null
                    : (o.set(l.name, !0), new Yr(l, this, this.ecModel))
                );
              },
              this
            );
          this._data = je(s, function (l) {
            return !!l;
          });
        }),
        (e.prototype.getData = function () {
          return this._data;
        }),
        (e.prototype.select = function (t) {
          var n = this.option.selected;
          'single' === this.get('selectedMode') &&
            F(this._data, function (o) {
              n[o.get('name')] = !1;
            }),
            (n[t] = !0);
        }),
        (e.prototype.unSelect = function (t) {
          'single' !== this.get('selectedMode') &&
            (this.option.selected[t] = !1);
        }),
        (e.prototype.toggleSelected = function (t) {
          var n = this.option.selected;
          n.hasOwnProperty(t) || (n[t] = !0),
            this[n[t] ? 'unSelect' : 'select'](t);
        }),
        (e.prototype.allSelect = function () {
          var n = this.option.selected;
          F(this._data, function (i) {
            n[i.get('name', !0)] = !0;
          });
        }),
        (e.prototype.inverseSelect = function () {
          var n = this.option.selected;
          F(this._data, function (i) {
            var a = i.get('name', !0);
            n.hasOwnProperty(a) || (n[a] = !0), (n[a] = !n[a]);
          });
        }),
        (e.prototype.isSelected = function (t) {
          var n = this.option.selected;
          return (
            !(n.hasOwnProperty(t) && !n[t]) && $(this._availableNames, t) >= 0
          );
        }),
        (e.prototype.getOrient = function () {
          return 'vertical' === this.get('orient')
            ? { index: 1, name: 'vertical' }
            : { index: 0, name: 'horizontal' };
        }),
        (e.type = 'legend.plain'),
        (e.dependencies = ['series']),
        (e.defaultOption = {
          z: 4,
          show: !0,
          orient: 'horizontal',
          left: 'center',
          top: 0,
          align: 'auto',
          backgroundColor: 'rgba(0,0,0,0)',
          borderColor: '#ccc',
          borderRadius: 0,
          borderWidth: 0,
          padding: 5,
          itemGap: 10,
          itemWidth: 25,
          itemHeight: 14,
          symbolRotate: 'inherit',
          symbolKeepAspect: !0,
          inactiveColor: '#ccc',
          inactiveBorderColor: '#ccc',
          inactiveBorderWidth: 'auto',
          itemStyle: {
            color: 'inherit',
            opacity: 'inherit',
            borderColor: 'inherit',
            borderWidth: 'auto',
            borderCap: 'inherit',
            borderJoin: 'inherit',
            borderDashOffset: 'inherit',
            borderMiterLimit: 'inherit',
          },
          lineStyle: {
            width: 'auto',
            color: 'inherit',
            inactiveColor: '#ccc',
            inactiveWidth: 2,
            opacity: 'inherit',
            type: 'inherit',
            cap: 'inherit',
            join: 'inherit',
            dashOffset: 'inherit',
            miterLimit: 'inherit',
          },
          textStyle: { color: '#333' },
          selectedMode: !0,
          selector: !1,
          selectorLabel: {
            show: !0,
            borderRadius: 10,
            padding: [3, 5, 3, 5],
            fontSize: 12,
            fontFamily: 'sans-serif',
            color: '#666',
            borderWidth: 1,
            borderColor: '#666',
          },
          emphasis: {
            selectorLabel: { show: !0, color: '#eee', backgroundColor: '#666' },
          },
          selectorPosition: 'auto',
          selectorItemGap: 7,
          selectorButtonGap: 10,
          tooltip: { show: !1 },
        }),
        e
      );
    })(br),
    hh = me,
    Fb = F,
    Dm = Qe,
    nk = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), (t.newlineDisabled = !1), t;
      }
      return (
        ut(e, r),
        (e.prototype.init = function () {
          this.group.add((this._contentGroup = new Dm())),
            this.group.add((this._selectorGroup = new Dm())),
            (this._isFirstRender = !0);
        }),
        (e.prototype.getContentGroup = function () {
          return this._contentGroup;
        }),
        (e.prototype.getSelectorGroup = function () {
          return this._selectorGroup;
        }),
        (e.prototype.render = function (t, n, i) {
          var a = this._isFirstRender;
          if (
            ((this._isFirstRender = !1), this.resetInner(), t.get('show', !0))
          ) {
            var o = t.get('align'),
              s = t.get('orient');
            (!o || 'auto' === o) &&
              (o =
                'right' === t.get('left') && 'vertical' === s
                  ? 'right'
                  : 'left');
            var l = t.get('selector', !0),
              u = t.get('selectorPosition', !0);
            l &&
              (!u || 'auto' === u) &&
              (u = 'horizontal' === s ? 'end' : 'start'),
              this.renderInner(o, t, n, i, l, s, u);
            var c = t.getBoxLayoutParams(),
              f = { width: i.getWidth(), height: i.getHeight() },
              d = t.get('padding'),
              v = Vn(c, f, d),
              g = this.layoutInner(t, o, v, a, l, u),
              m = Vn(Ot({ width: g.width, height: g.height }, c), f, d);
            (this.group.x = m.x - g.x),
              (this.group.y = m.y - g.y),
              this.group.markRedraw(),
              this.group.add((this._backgroundEl = hI(g, t)));
          }
        }),
        (e.prototype.resetInner = function () {
          this.getContentGroup().removeAll(),
            this._backgroundEl && this.group.remove(this._backgroundEl),
            this.getSelectorGroup().removeAll();
        }),
        (e.prototype.renderInner = function (t, n, i, a, o, s, l) {
          var u = this.getContentGroup(),
            c = Nt(),
            f = n.get('selectedMode'),
            d = [];
          i.eachRawSeries(function (v) {
            !v.get('legendHoverLink') && d.push(v.id);
          }),
            Fb(
              n.getData(),
              function (v, g) {
                var m = v.get('name');
                if (!this.newlineDisabled && ('' === m || '\n' === m)) {
                  var y = new Dm();
                  return (y.newline = !0), void u.add(y);
                }
                var b = i.getSeriesByName(m)[0];
                if (!c.get(m)) {
                  if (b) {
                    var w = b.getData(),
                      C = w.getVisual('legendLineStyle') || {},
                      D = w.getVisual('legendIcon'),
                      L = w.getVisual('style');
                    this._createItem(b, m, g, v, n, t, C, L, D, f, a)
                      .on('click', hh(ik, m, null, a, d))
                      .on('mouseover', hh(Bb, b.name, null, a, d))
                      .on('mouseout', hh(Nb, b.name, null, a, d)),
                      c.set(m, !0);
                  } else
                    i.eachRawSeries(function (E) {
                      if (!c.get(m) && E.legendVisualProvider) {
                        var O = E.legendVisualProvider;
                        if (!O.containName(m)) return;
                        var z = O.indexOfName(m),
                          H = O.getItemVisual(z, 'style'),
                          G = O.getItemVisual(z, 'legendIcon'),
                          X = vi(H.fill);
                        X &&
                          0 === X[3] &&
                          ((X[3] = 0.2),
                          (H = nt(nt({}, H), { fill: Bi(X, 'rgba') }))),
                          this._createItem(E, m, g, v, n, t, {}, H, G, f, a)
                            .on('click', hh(ik, null, m, a, d))
                            .on('mouseover', hh(Bb, null, m, a, d))
                            .on('mouseout', hh(Nb, null, m, a, d)),
                          c.set(m, !0);
                      }
                    }, this);
                  c.get(m) ||
                    console.warn(
                      m +
                        ' series not exists. Legend data should be same with series name or data name.'
                    );
                }
              },
              this
            ),
            o && this._createSelector(o, n, a, s, l);
        }),
        (e.prototype._createSelector = function (t, n, i, a, o) {
          var s = this.getSelectorGroup();
          Fb(t, function (u) {
            var c = u.type,
              f = new Or({
                style: { x: 0, y: 0, align: 'center', verticalAlign: 'middle' },
                onclick: function () {
                  i.dispatchAction({
                    type:
                      'all' === c ? 'legendAllSelect' : 'legendInverseSelect',
                  });
                },
              });
            s.add(f),
              Ci(
                f,
                {
                  normal: n.getModel('selectorLabel'),
                  emphasis: n.getModel(['emphasis', 'selectorLabel']),
                },
                { defaultText: u.title }
              ),
              Wl(f);
          });
        }),
        (e.prototype._createItem = function (t, n, i, a, o, s, l, u, c, f, d) {
          var v = t.visualDrawType,
            g = o.get('itemWidth'),
            m = o.get('itemHeight'),
            y = o.isSelected(n),
            b = a.get('symbolRotate'),
            w = a.get('symbolKeepAspect'),
            C = a.get('icon'),
            D = (function J6(r, e, t, n, i, a, o) {
              function s(y, b) {
                'auto' === y.lineWidth &&
                  (y.lineWidth = b.lineWidth > 0 ? 2 : 0),
                  Fb(y, function (w, C) {
                    'inherit' === y[C] && (y[C] = b[C]);
                  });
              }
              var l = e.getModel('itemStyle'),
                u = l.getItemStyle(),
                c = 0 === r.lastIndexOf('empty', 0) ? 'fill' : 'stroke',
                f = l.getShallow('decal');
              (u.decal = f && 'inherit' !== f ? $f(f, o) : n.decal),
                'inherit' === u.fill && (u.fill = n[i]),
                'inherit' === u.stroke && (u.stroke = n[c]),
                'inherit' === u.opacity &&
                  (u.opacity = ('fill' === i ? n : t).opacity),
                s(u, n);
              var d = e.getModel('lineStyle'),
                v = d.getLineStyle();
              if (
                (s(v, t),
                'auto' === u.fill && (u.fill = n.fill),
                'auto' === u.stroke && (u.stroke = n.fill),
                'auto' === v.stroke && (v.stroke = n.fill),
                !a)
              ) {
                var g = e.get('inactiveBorderWidth');
                (u.lineWidth =
                  'auto' === g
                    ? n.lineWidth > 0 && u[c]
                      ? 2
                      : 0
                    : u.lineWidth),
                  (u.fill = e.get('inactiveColor')),
                  (u.stroke = e.get('inactiveBorderColor')),
                  (v.stroke = d.get('inactiveColor')),
                  (v.lineWidth = d.get('inactiveWidth'));
              }
              return { itemStyle: u, lineStyle: v };
            })((c = C || c || 'roundRect'), a, l, u, v, y, d),
            L = new Dm(),
            M = a.getModel('textStyle');
          if (!fe(t.getLegendIcon) || (C && 'inherit' !== C)) {
            var E =
              'inherit' === C && t.getData().getVisual('symbol')
                ? 'inherit' === b
                  ? t.getData().getVisual('symbolRotate')
                  : b
                : 0;
            L.add(
              (function t7(r) {
                var e = r.icon || 'roundRect',
                  t = En(
                    e,
                    0,
                    0,
                    r.itemWidth,
                    r.itemHeight,
                    r.itemStyle.fill,
                    r.symbolKeepAspect
                  );
                return (
                  t.setStyle(r.itemStyle),
                  (t.rotation = ((r.iconRotate || 0) * Math.PI) / 180),
                  t.setOrigin([r.itemWidth / 2, r.itemHeight / 2]),
                  e.indexOf('empty') > -1 &&
                    ((t.style.stroke = t.style.fill),
                    (t.style.fill = '#fff'),
                    (t.style.lineWidth = 2)),
                  t
                );
              })({
                itemWidth: g,
                itemHeight: m,
                icon: c,
                iconRotate: E,
                itemStyle: D.itemStyle,
                lineStyle: D.lineStyle,
                symbolKeepAspect: w,
              })
            );
          } else
            L.add(
              t.getLegendIcon({
                itemWidth: g,
                itemHeight: m,
                icon: c,
                iconRotate: b,
                itemStyle: D.itemStyle,
                lineStyle: D.lineStyle,
                symbolKeepAspect: w,
              })
            );
          var O = 'left' === s ? g + 5 : -5,
            z = s,
            H = o.get('formatter'),
            G = n;
          ht(H) && H ? (G = H.replace('{name}', n ?? '')) : fe(H) && (G = H(n));
          var X = y ? M.getTextColor() : a.get('inactiveColor');
          L.add(
            new Or({
              style: on(
                M,
                {
                  text: G,
                  x: O,
                  y: m / 2,
                  fill: X,
                  align: z,
                  verticalAlign: 'middle',
                },
                { inheritColor: X }
              ),
            })
          );
          var K = new Rr({ shape: L.getBoundingRect(), invisible: !0 }),
            tt = a.getModel('tooltip');
          return (
            tt.get('show') &&
              Lf({
                el: K,
                componentModel: o,
                itemName: n,
                itemTooltipOption: tt.option,
              }),
            L.add(K),
            L.eachChild(function (ot) {
              ot.silent = !0;
            }),
            (K.silent = !f),
            this.getContentGroup().add(L),
            Wl(L),
            (L.__legendDataIndex = i),
            L
          );
        }),
        (e.prototype.layoutInner = function (t, n, i, a, o, s) {
          var l = this.getContentGroup(),
            u = this.getSelectorGroup();
          fc(t.get('orient'), l, t.get('itemGap'), i.width, i.height);
          var c = l.getBoundingRect(),
            f = [-c.x, -c.y];
          if ((u.markRedraw(), l.markRedraw(), o)) {
            fc('horizontal', u, t.get('selectorItemGap', !0));
            var d = u.getBoundingRect(),
              v = [-d.x, -d.y],
              g = t.get('selectorButtonGap', !0),
              m = t.getOrient().index,
              y = 0 === m ? 'width' : 'height',
              b = 0 === m ? 'height' : 'width',
              w = 0 === m ? 'y' : 'x';
            'end' === s ? (v[m] += c[y] + g) : (f[m] += d[y] + g),
              (v[1 - m] += c[b] / 2 - d[b] / 2),
              (u.x = v[0]),
              (u.y = v[1]),
              (l.x = f[0]),
              (l.y = f[1]);
            var C = { x: 0, y: 0 };
            return (
              (C[y] = c[y] + g + d[y]),
              (C[b] = Math.max(c[b], d[b])),
              (C[w] = Math.min(0, d[w] + v[1 - m])),
              C
            );
          }
          return (l.x = f[0]), (l.y = f[1]), this.group.getBoundingRect();
        }),
        (e.prototype.remove = function () {
          this.getContentGroup().removeAll(), (this._isFirstRender = !0);
        }),
        (e.type = 'legend.plain'),
        e
      );
    })(fn);
  function ik(r, e, t, n) {
    Nb(r, e, t, n),
      t.dispatchAction({ type: 'legendToggleSelect', name: r ?? e }),
      Bb(r, e, t, n);
  }
  function ak(r) {
    for (
      var t, e = r.getZr().storage.getDisplayList(), n = 0, i = e.length;
      n < i && !(t = e[n].states.emphasis);

    )
      n++;
    return t && t.hoverLayer;
  }
  function Bb(r, e, t, n) {
    ak(t) ||
      t.dispatchAction({
        type: 'highlight',
        seriesName: r,
        name: e,
        excludeSeriesId: n,
      });
  }
  function Nb(r, e, t, n) {
    ak(t) ||
      t.dispatchAction({
        type: 'downplay',
        seriesName: r,
        name: e,
        excludeSeriesId: n,
      });
  }
  function e7(r) {
    var e = r.findComponents({ mainType: 'legend' });
    e &&
      e.length &&
      r.filterSeries(function (t) {
        for (var n = 0; n < e.length; n++)
          if (!e[n].isSelected(t.name)) return !1;
        return !0;
      });
  }
  function xv(r, e, t) {
    var a,
      n = {},
      i = 'toggleSelected' === r;
    return (
      t.eachComponent('legend', function (o) {
        i && null != a
          ? o[a ? 'select' : 'unSelect'](e.name)
          : 'allSelect' === r || 'inverseSelect' === r
          ? o[r]()
          : (o[r](e.name), (a = o.isSelected(e.name))),
          F(o.getData(), function (l) {
            var u = l.get('name');
            if ('\n' !== u && '' !== u) {
              var c = o.isSelected(u);
              n[u] = n.hasOwnProperty(u) ? n[u] && c : c;
            }
          });
      }),
      'allSelect' === r || 'inverseSelect' === r
        ? { selected: n }
        : { name: e.name, selected: n }
    );
  }
  function ok(r) {
    r.registerComponentModel(Ob),
      r.registerComponentView(nk),
      r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER, e7),
      r.registerSubTypeDefaulter('legend', function () {
        return 'plain';
      }),
      (function r7(r) {
        r.registerAction(
          'legendToggleSelect',
          'legendselectchanged',
          me(xv, 'toggleSelected')
        ),
          r.registerAction(
            'legendAllSelect',
            'legendselectall',
            me(xv, 'allSelect')
          ),
          r.registerAction(
            'legendInverseSelect',
            'legendinverseselect',
            me(xv, 'inverseSelect')
          ),
          r.registerAction('legendSelect', 'legendselected', me(xv, 'select')),
          r.registerAction(
            'legendUnSelect',
            'legendunselected',
            me(xv, 'unSelect')
          );
      })(r);
  }
  var n7 = (function (r) {
    function e() {
      var t = (null !== r && r.apply(this, arguments)) || this;
      return (t.type = e.type), t;
    }
    return (
      ut(e, r),
      (e.prototype.setScrollDataIndex = function (t) {
        this.option.scrollDataIndex = t;
      }),
      (e.prototype.init = function (t, n, i) {
        var a = Rf(t);
        r.prototype.init.call(this, t, n, i), sk(this, t, a);
      }),
      (e.prototype.mergeOption = function (t, n) {
        r.prototype.mergeOption.call(this, t, n), sk(this, this.option, t);
      }),
      (e.type = 'legend.scroll'),
      (e.defaultOption = Zl(Ob.defaultOption, {
        scrollDataIndex: 0,
        pageButtonItemGap: 5,
        pageButtonGap: null,
        pageButtonPosition: 'end',
        pageFormatter: '{current}/{total}',
        pageIcons: {
          horizontal: ['M0,0L12,-10L12,10z', 'M0,0L-12,-10L-12,10z'],
          vertical: ['M0,0L20,0L10,-20z', 'M0,0L20,0L10,20z'],
        },
        pageIconColor: '#2f4554',
        pageIconInactiveColor: '#aaa',
        pageIconSize: 15,
        pageTextStyle: { color: '#333' },
        animationDurationUpdate: 800,
      })),
      e
    );
  })(Ob);
  function sk(r, e, t) {
    var i = [1, 1];
    (i[r.getOrient().index] = 0), ql(e, t, { type: 'box', ignoreSize: !!i });
  }
  var lk = Qe,
    zb = ['width', 'height'],
    Vb = ['x', 'y'],
    i7 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (
          (t.type = e.type), (t.newlineDisabled = !0), (t._currentIndex = 0), t
        );
      }
      return (
        ut(e, r),
        (e.prototype.init = function () {
          r.prototype.init.call(this),
            this.group.add((this._containerGroup = new lk())),
            this._containerGroup.add(this.getContentGroup()),
            this.group.add((this._controllerGroup = new lk()));
        }),
        (e.prototype.resetInner = function () {
          r.prototype.resetInner.call(this),
            this._controllerGroup.removeAll(),
            this._containerGroup.removeClipPath(),
            (this._containerGroup.__rectSize = null);
        }),
        (e.prototype.renderInner = function (t, n, i, a, o, s, l) {
          var u = this;
          r.prototype.renderInner.call(this, t, n, i, a, o, s, l);
          var c = this._controllerGroup,
            f = n.get('pageIconSize', !0),
            d = Tt(f) ? f : [f, f];
          g('pagePrev', 0);
          var v = n.getModel('pageTextStyle');
          function g(m, y) {
            var b = m + 'DataIndex',
              w = Mf(
                n.get('pageIcons', !0)[n.getOrient().name][y],
                { onclick: kt(u._pageGo, u, b, n, a) },
                { x: -d[0] / 2, y: -d[1] / 2, width: d[0], height: d[1] }
              );
            (w.name = m), c.add(w);
          }
          c.add(
            new Or({
              name: 'pageText',
              style: {
                text: 'xx/xx',
                fill: v.getTextColor(),
                font: v.getFont(),
                verticalAlign: 'middle',
                align: 'center',
              },
              silent: !0,
            })
          ),
            g('pageNext', 1);
        }),
        (e.prototype.layoutInner = function (t, n, i, a, o, s) {
          var l = this.getSelectorGroup(),
            u = t.getOrient().index,
            c = zb[u],
            f = Vb[u],
            d = zb[1 - u],
            v = Vb[1 - u];
          o && fc('horizontal', l, t.get('selectorItemGap', !0));
          var g = t.get('selectorButtonGap', !0),
            m = l.getBoundingRect(),
            y = [-m.x, -m.y],
            b = ft(i);
          o && (b[c] = i[c] - m[c] - g);
          var w = this._layoutContentAndController(t, a, b, u, c, d, v, f);
          if (o) {
            if ('end' === s) y[u] += w[c] + g;
            else {
              var C = m[c] + g;
              (y[u] -= C), (w[f] -= C);
            }
            (w[c] += m[c] + g),
              (y[1 - u] += w[v] + w[d] / 2 - m[d] / 2),
              (w[d] = Math.max(w[d], m[d])),
              (w[v] = Math.min(w[v], m[v] + y[1 - u])),
              (l.x = y[0]),
              (l.y = y[1]),
              l.markRedraw();
          }
          return w;
        }),
        (e.prototype._layoutContentAndController = function (
          t,
          n,
          i,
          a,
          o,
          s,
          l,
          u
        ) {
          var c = this.getContentGroup(),
            f = this._containerGroup,
            d = this._controllerGroup;
          fc(
            t.get('orient'),
            c,
            t.get('itemGap'),
            a ? i.width : null,
            a ? null : i.height
          ),
            fc('horizontal', d, t.get('pageButtonItemGap', !0));
          var v = c.getBoundingRect(),
            g = d.getBoundingRect(),
            m = (this._showController = v[o] > i[o]),
            y = [-v.x, -v.y];
          n || (y[a] = c[u]);
          var b = [0, 0],
            w = [-g.x, -g.y],
            C = B(t.get('pageButtonGap', !0), t.get('itemGap', !0));
          m &&
            ('end' === t.get('pageButtonPosition', !0)
              ? (w[a] += i[o] - g[o])
              : (b[a] += g[o] + C)),
            (w[1 - a] += v[s] / 2 - g[s] / 2),
            c.setPosition(y),
            f.setPosition(b),
            d.setPosition(w);
          var L = { x: 0, y: 0 };
          if (
            ((L[o] = m ? i[o] : v[o]),
            (L[s] = Math.max(v[s], g[s])),
            (L[l] = Math.min(0, g[l] + w[1 - a])),
            (f.__rectSize = i[o]),
            m)
          ) {
            var M = { x: 0, y: 0 };
            (M[o] = Math.max(i[o] - g[o] - C, 0)),
              (M[s] = L[s]),
              f.setClipPath(new Rr({ shape: M })),
              (f.__rectSize = M[o]);
          } else
            d.eachChild(function (O) {
              O.attr({ invisible: !0, silent: !0 });
            });
          var E = this._getPageInfo(t);
          return (
            null != E.pageIndex &&
              Wr(
                c,
                { x: E.contentPosition[0], y: E.contentPosition[1] },
                m ? t : null
              ),
            this._updatePageInfoView(t, E),
            L
          );
        }),
        (e.prototype._pageGo = function (t, n, i) {
          var a = this._getPageInfo(n)[t];
          null != a &&
            i.dispatchAction({
              type: 'legendScroll',
              scrollDataIndex: a,
              legendId: n.id,
            });
        }),
        (e.prototype._updatePageInfoView = function (t, n) {
          var i = this._controllerGroup;
          F(['pagePrev', 'pageNext'], function (c) {
            var d = null != n[c + 'DataIndex'],
              v = i.childOfName(c);
            v &&
              (v.setStyle(
                'fill',
                t.get(d ? 'pageIconColor' : 'pageIconInactiveColor', !0)
              ),
              (v.cursor = d ? 'pointer' : 'default'));
          });
          var a = i.childOfName('pageText'),
            o = t.get('pageFormatter'),
            s = n.pageIndex,
            l = null != s ? s + 1 : 0,
            u = n.pageCount;
          a &&
            o &&
            a.setStyle(
              'text',
              ht(o)
                ? o
                    .replace('{current}', null == l ? '' : l + '')
                    .replace('{total}', null == u ? '' : u + '')
                : o({ current: l, total: u })
            );
        }),
        (e.prototype._getPageInfo = function (t) {
          var n = t.get('scrollDataIndex', !0),
            i = this.getContentGroup(),
            a = this._containerGroup.__rectSize,
            o = t.getOrient().index,
            s = zb[o],
            l = Vb[o],
            u = this._findTargetItemIndex(n),
            c = i.children(),
            f = c[u],
            d = c.length,
            v = d ? 1 : 0,
            g = {
              contentPosition: [i.x, i.y],
              pageCount: v,
              pageIndex: v - 1,
              pagePrevDataIndex: null,
              pageNextDataIndex: null,
            };
          if (!f) return g;
          var m = D(f);
          g.contentPosition[o] = -m.s;
          for (var y = u + 1, b = m, w = m, C = null; y <= d; ++y)
            ((!(C = D(c[y])) && w.e > b.s + a) || (C && !L(C, b.s))) &&
              (b = w.i > b.i ? w : C) &&
              (null == g.pageNextDataIndex && (g.pageNextDataIndex = b.i),
              ++g.pageCount),
              (w = C);
          for (y = u - 1, b = m, w = m, C = null; y >= -1; --y)
            (!(C = D(c[y])) || !L(w, C.s)) &&
              b.i < w.i &&
              ((w = b),
              null == g.pagePrevDataIndex && (g.pagePrevDataIndex = b.i),
              ++g.pageCount,
              ++g.pageIndex),
              (b = C);
          return g;
          function D(M) {
            if (M) {
              var E = M.getBoundingRect(),
                O = E[l] + M[l];
              return { s: O, e: O + E[s], i: M.__legendDataIndex };
            }
          }
          function L(M, E) {
            return M.e >= E && M.s <= E + a;
          }
        }),
        (e.prototype._findTargetItemIndex = function (t) {
          return this._showController
            ? (this.getContentGroup().eachChild(function (o, s) {
                var l = o.__legendDataIndex;
                null == a && null != l && (a = s), l === t && (n = s);
              }),
              n ?? a)
            : 0;
          var n, a;
        }),
        (e.type = 'legend.scroll'),
        e
      );
    })(nk);
  function o7(r) {
    _r(ok),
      r.registerComponentModel(n7),
      r.registerComponentView(i7),
      (function a7(r) {
        r.registerAction('legendScroll', 'legendscroll', function (e, t) {
          var n = e.scrollDataIndex;
          null != n &&
            t.eachComponent(
              { mainType: 'legend', subType: 'scroll', query: e },
              function (i) {
                i.setScrollDataIndex(n);
              }
            );
        });
      })(r);
  }
  var l7 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.type = 'dataZoom.inside'),
        (e.defaultOption = Zl(vv.defaultOption, {
          disabled: !1,
          zoomLock: !1,
          zoomOnMouseWheel: !0,
          moveOnMouseMove: !0,
          moveOnMouseWheel: !1,
          preventDefaultMouseMove: !0,
        })),
        e
      );
    })(vv),
    Hb = S();
  function uk(r, e) {
    if (e) {
      r.removeKey(e.model.uid);
      var t = e.controller;
      t && t.dispose();
    }
  }
  function h7(r, e) {
    r.isDisposed() ||
      r.dispatchAction({
        type: 'dataZoom',
        animation: { easing: 'cubicOut', duration: 100 },
        batch: e,
      });
  }
  function d7(r, e, t, n) {
    return r.coordinateSystem.containPoint([t, n]);
  }
  var g7 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = 'dataZoom.inside'), t;
      }
      return (
        ut(e, r),
        (e.prototype.render = function (t, n, i) {
          r.prototype.render.apply(this, arguments),
            t.noTarget()
              ? this._clear()
              : ((this.range = t.getPercentRange()),
                (function u7(r, e, t) {
                  Hb(r).coordSysRecordMap.each(function (n) {
                    var i = n.dataZoomInfoMap.get(e.uid);
                    i && (i.getRange = t);
                  });
                })(i, t, {
                  pan: kt(Gb.pan, this),
                  zoom: kt(Gb.zoom, this),
                  scrollMove: kt(Gb.scrollMove, this),
                }));
        }),
        (e.prototype.dispose = function () {
          this._clear(), r.prototype.dispose.apply(this, arguments);
        }),
        (e.prototype._clear = function () {
          (function c7(r, e) {
            for (
              var t = Hb(r).coordSysRecordMap, n = t.keys(), i = 0;
              i < n.length;
              i++
            ) {
              var o = t.get(n[i]),
                s = o.dataZoomInfoMap;
              if (s) {
                var l = e.uid;
                s.get(l) && (s.removeKey(l), s.keys().length || uk(t, o));
              }
            }
          })(this.api, this.dataZoomModel),
            (this.range = null);
        }),
        (e.type = 'dataZoom.inside'),
        e
      );
    })(vb),
    Gb = {
      zoom: function (r, e, t, n) {
        var i = this.range,
          a = i.slice(),
          o = r.axisModels[0];
        if (o) {
          var s = Wb[e](null, [n.originX, n.originY], o, t, r),
            l =
              ((s.signal > 0
                ? s.pixelStart + s.pixelLength - s.pixel
                : s.pixel - s.pixelStart) /
                s.pixelLength) *
                (a[1] - a[0]) +
              a[0],
            u = Math.max(1 / n.scale, 0);
          (a[0] = (a[0] - l) * u + l), (a[1] = (a[1] - l) * u + l);
          var c = this.dataZoomModel
            .findRepresentativeAxisProxy()
            .getMinMaxSpan();
          if (
            (Nc(0, a, [0, 100], 0, c.minSpan, c.maxSpan),
            (this.range = a),
            i[0] !== a[0] || i[1] !== a[1])
          )
            return a;
        }
      },
      pan: ck(function (r, e, t, n, i, a) {
        var o = Wb[n]([a.oldX, a.oldY], [a.newX, a.newY], e, i, t);
        return (o.signal * (r[1] - r[0]) * o.pixel) / o.pixelLength;
      }),
      scrollMove: ck(function (r, e, t, n, i, a) {
        return (
          Wb[n]([0, 0], [a.scrollDelta, a.scrollDelta], e, i, t).signal *
          (r[1] - r[0]) *
          a.scrollDelta
        );
      }),
    };
  function ck(r) {
    return function (e, t, n, i) {
      var a = this.range,
        o = a.slice(),
        s = e.axisModels[0];
      if (
        s &&
        (Nc(r(o, s, e, t, n, i), o, [0, 100], 'all'),
        (this.range = o),
        a[0] !== o[0] || a[1] !== o[1])
      )
        return o;
    };
  }
  var Wb = {
    grid: function (r, e, t, n, i) {
      var a = t.axis,
        o = {},
        s = i.model.coordinateSystem.getRect();
      return (
        (r = r || [0, 0]),
        'x' === a.dim
          ? ((o.pixel = e[0] - r[0]),
            (o.pixelLength = s.width),
            (o.pixelStart = s.x),
            (o.signal = a.inverse ? 1 : -1))
          : ((o.pixel = e[1] - r[1]),
            (o.pixelLength = s.height),
            (o.pixelStart = s.y),
            (o.signal = a.inverse ? -1 : 1)),
        o
      );
    },
    polar: function (r, e, t, n, i) {
      var a = t.axis,
        o = {},
        s = i.model.coordinateSystem,
        l = s.getRadiusAxis().getExtent(),
        u = s.getAngleAxis().getExtent();
      return (
        (r = r ? s.pointToCoord(r) : [0, 0]),
        (e = s.pointToCoord(e)),
        'radiusAxis' === t.mainType
          ? ((o.pixel = e[0] - r[0]),
            (o.pixelLength = l[1] - l[0]),
            (o.pixelStart = l[0]),
            (o.signal = a.inverse ? 1 : -1))
          : ((o.pixel = e[1] - r[1]),
            (o.pixelLength = u[1] - u[0]),
            (o.pixelStart = u[0]),
            (o.signal = a.inverse ? -1 : 1)),
        o
      );
    },
    singleAxis: function (r, e, t, n, i) {
      var a = t.axis,
        o = i.model.coordinateSystem.getRect(),
        s = {};
      return (
        (r = r || [0, 0]),
        'horizontal' === a.orient
          ? ((s.pixel = e[0] - r[0]),
            (s.pixelLength = o.width),
            (s.pixelStart = o.x),
            (s.signal = a.inverse ? 1 : -1))
          : ((s.pixel = e[1] - r[1]),
            (s.pixelLength = o.height),
            (s.pixelStart = o.y),
            (s.signal = a.inverse ? -1 : 1)),
        s
      );
    },
  };
  function fk(r) {
    pb(r),
      r.registerComponentModel(l7),
      r.registerComponentView(g7),
      (function p7(r) {
        r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER, function (e, t) {
          var n = Hb(t),
            i = n.coordSysRecordMap || (n.coordSysRecordMap = Nt());
          i.each(function (a) {
            a.dataZoomInfoMap = null;
          }),
            e.eachComponent(
              { mainType: 'dataZoom', subType: 'inside' },
              function (a) {
                F(oI(a).infoList, function (s) {
                  var l = s.model.uid,
                    u =
                      i.get(l) ||
                      i.set(
                        l,
                        (function f7(r, e) {
                          var t = {
                              model: e,
                              containsPoint: me(d7, e),
                              dispatchAction: me(h7, r),
                              dataZoomInfoMap: null,
                              controller: null,
                            },
                            n = (t.controller = new Kd(r.getZr()));
                          return (
                            F(['pan', 'zoom', 'scrollMove'], function (i) {
                              n.on(i, function (a) {
                                var o = [];
                                t.dataZoomInfoMap.each(function (s) {
                                  if (a.isAvailableBehavior(s.model.option)) {
                                    var l = (s.getRange || {})[i],
                                      u =
                                        l &&
                                        l(
                                          s.dzReferCoordSysInfo,
                                          t.model.mainType,
                                          t.controller,
                                          a
                                        );
                                    !s.model.get('disabled', !0) &&
                                      u &&
                                      o.push({
                                        dataZoomId: s.model.id,
                                        start: u[0],
                                        end: u[1],
                                      });
                                  }
                                }),
                                  o.length && t.dispatchAction(o);
                              });
                            }),
                            t
                          );
                        })(t, s.model)
                      );
                  (u.dataZoomInfoMap || (u.dataZoomInfoMap = Nt())).set(a.uid, {
                    dzReferCoordSysInfo: s,
                    model: a,
                    getRange: null,
                  });
                });
              }
            ),
            i.each(function (a) {
              var s,
                o = a.controller,
                l = a.dataZoomInfoMap;
              if (l) {
                var u = l.keys()[0];
                null != u && (s = l.get(u));
              }
              if (s) {
                var c = (function v7(r) {
                  var e,
                    t = 'type_',
                    n = {
                      type_true: 2,
                      type_move: 1,
                      type_false: 0,
                      type_undefined: -1,
                    },
                    i = !0;
                  return (
                    r.each(function (a) {
                      var o = a.model,
                        s =
                          !o.get('disabled', !0) &&
                          (!o.get('zoomLock', !0) || 'move');
                      n[t + s] > n[t + e] && (e = s),
                        (i = i && o.get('preventDefaultMouseMove', !0));
                    }),
                    {
                      controlType: e,
                      opt: {
                        zoomOnMouseWheel: !0,
                        moveOnMouseMove: !0,
                        moveOnMouseWheel: !0,
                        preventDefaultMouseMove: !!i,
                      },
                    }
                  );
                })(l);
                o.enable(c.controlType, c.opt),
                  o.setPointerChecker(a.containsPoint),
                  Vf(
                    a,
                    'dispatchAction',
                    s.model.get('throttle', !0),
                    'fixRate'
                  );
              } else uk(i, a);
            });
        });
      })(r);
  }
  var m7 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.type = 'dataZoom.slider'),
        (e.layoutMode = 'box'),
        (e.defaultOption = Zl(vv.defaultOption, {
          show: !0,
          right: 'ph',
          top: 'ph',
          width: 'ph',
          height: 'ph',
          left: null,
          bottom: null,
          borderColor: '#d2dbee',
          borderRadius: 3,
          backgroundColor: 'rgba(47,69,84,0)',
          dataBackground: {
            lineStyle: { color: '#d2dbee', width: 0.5 },
            areaStyle: { color: '#d2dbee', opacity: 0.2 },
          },
          selectedDataBackground: {
            lineStyle: { color: '#8fb0f7', width: 0.5 },
            areaStyle: { color: '#8fb0f7', opacity: 0.2 },
          },
          fillerColor: 'rgba(135,175,274,0.2)',
          handleIcon:
            'path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z',
          handleSize: '100%',
          handleStyle: { color: '#fff', borderColor: '#ACB8D1' },
          moveHandleSize: 7,
          moveHandleIcon:
            'path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z',
          moveHandleStyle: { color: '#D2DBEE', opacity: 0.7 },
          showDetail: !0,
          showDataShadow: 'auto',
          realtime: !0,
          zoomLock: !1,
          textStyle: { color: '#6E7079' },
          brushSelect: !0,
          brushStyle: { color: 'rgba(135,175,274,0.15)' },
          emphasis: {
            handleStyle: { borderColor: '#8FB0F7' },
            moveHandleStyle: { color: '#8FB0F7' },
          },
        })),
        e
      );
    })(vv),
    bv = Rr,
    _v = 'horizontal',
    dk = 'vertical',
    _7 = ['line', 'bar', 'candlestick', 'scatter'],
    S7 = { easing: 'cubicOut', duration: 100, delay: 0 },
    w7 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), (t._displayables = {}), t;
      }
      return (
        ut(e, r),
        (e.prototype.init = function (t, n) {
          (this.api = n),
            (this._onBrush = kt(this._onBrush, this)),
            (this._onBrushEnd = kt(this._onBrushEnd, this));
        }),
        (e.prototype.render = function (t, n, i, a) {
          if (
            (r.prototype.render.apply(this, arguments),
            Vf(this, '_dispatchZoomAction', t.get('throttle'), 'fixRate'),
            (this._orient = t.getOrient()),
            !1 !== t.get('show'))
          )
            return t.noTarget()
              ? (this._clear(), void this.group.removeAll())
              : ((!a || 'dataZoom' !== a.type || a.from !== this.uid) &&
                  this._buildView(),
                void this._updateView());
          this.group.removeAll();
        }),
        (e.prototype.dispose = function () {
          this._clear(), r.prototype.dispose.apply(this, arguments);
        }),
        (e.prototype._clear = function () {
          wd(this, '_dispatchZoomAction');
          var t = this.api.getZr();
          t.off('mousemove', this._onBrush), t.off('mouseup', this._onBrushEnd);
        }),
        (e.prototype._buildView = function () {
          var t = this.group;
          t.removeAll(),
            (this._brushing = !1),
            (this._displayables.brushRect = null),
            this._resetLocation(),
            this._resetInterval();
          var n = (this._displayables.sliderGroup = new Qe());
          this._renderBackground(),
            this._renderHandle(),
            this._renderDataShadow(),
            t.add(n),
            this._positionGroup();
        }),
        (e.prototype._resetLocation = function () {
          var t = this.dataZoomModel,
            n = this.api,
            a = t.get('brushSelect') ? 7 : 0,
            o = this._findCoordRect(),
            s = { width: n.getWidth(), height: n.getHeight() },
            l =
              this._orient === _v
                ? {
                    right: s.width - o.x - o.width,
                    top: s.height - 30 - 7 - a,
                    width: o.width,
                    height: 30,
                  }
                : { right: 7, top: o.y, width: 30, height: o.height },
            u = Rf(t.option);
          F(['right', 'top', 'width', 'height'], function (f) {
            'ph' === u[f] && (u[f] = l[f]);
          });
          var c = Vn(u, s);
          (this._location = { x: c.x, y: c.y }),
            (this._size = [c.width, c.height]),
            this._orient === dk && this._size.reverse();
        }),
        (e.prototype._positionGroup = function () {
          var t = this.group,
            n = this._location,
            i = this._orient,
            a = this.dataZoomModel.getFirstTargetAxisModel(),
            o = a && a.get('inverse'),
            s = this._displayables.sliderGroup,
            l = (this._dataShadowInfo || {}).otherAxisInverse;
          s.attr(
            i !== _v || o
              ? i === _v && o
                ? { scaleY: l ? 1 : -1, scaleX: -1 }
                : i !== dk || o
                ? { scaleY: l ? -1 : 1, scaleX: -1, rotation: Math.PI / 2 }
                : { scaleY: l ? -1 : 1, scaleX: 1, rotation: Math.PI / 2 }
              : { scaleY: l ? 1 : -1, scaleX: 1 }
          );
          var u = t.getBoundingRect([s]);
          (t.x = n.x - u.x), (t.y = n.y - u.y), t.markRedraw();
        }),
        (e.prototype._getViewExtent = function () {
          return [0, this._size[0]];
        }),
        (e.prototype._renderBackground = function () {
          var t = this.dataZoomModel,
            n = this._size,
            i = this._displayables.sliderGroup,
            a = t.get('brushSelect');
          i.add(
            new bv({
              silent: !0,
              shape: { x: 0, y: 0, width: n[0], height: n[1] },
              style: { fill: t.get('backgroundColor') },
              z2: -40,
            })
          );
          var o = new bv({
              shape: { x: 0, y: 0, width: n[0], height: n[1] },
              style: { fill: 'transparent' },
              z2: 0,
              onclick: kt(this._onClickPanel, this),
            }),
            s = this.api.getZr();
          a
            ? (o.on('mousedown', this._onBrushStart, this),
              (o.cursor = 'crosshair'),
              s.on('mousemove', this._onBrush),
              s.on('mouseup', this._onBrushEnd))
            : (s.off('mousemove', this._onBrush),
              s.off('mouseup', this._onBrushEnd)),
            i.add(o);
        }),
        (e.prototype._renderDataShadow = function () {
          var t = (this._dataShadowInfo = this._prepareDataShadowInfo());
          if (((this._displayables.dataShadowSegs = []), t)) {
            var n = this._size,
              i = this._shadowSize || [],
              a = t.series,
              o = a.getRawData(),
              s = a.getShadowDim && a.getShadowDim(),
              l = s && o.getDimensionInfo(s) ? a.getShadowDim() : t.otherDim;
            if (null != l) {
              var u = this._shadowPolygonPts,
                c = this._shadowPolylinePts;
              if (
                o !== this._shadowData ||
                l !== this._shadowDim ||
                n[0] !== i[0] ||
                n[1] !== i[1]
              ) {
                var f = o.getDataExtent(l),
                  d = 0.3 * (f[1] - f[0]);
                f = [f[0] - d, f[1] + d];
                var D,
                  v = [0, n[1]],
                  m = [
                    [n[0], 0],
                    [0, 0],
                  ],
                  y = [],
                  b = n[0] / (o.count() - 1),
                  w = 0,
                  C = Math.round(o.count() / n[0]);
                o.each([l], function (z, H) {
                  if (C > 0 && H % C) w += b;
                  else {
                    var G = null == z || isNaN(z) || '' === z,
                      X = G ? 0 : kr(z, f, v, !0);
                    G && !D && H
                      ? (m.push([m[m.length - 1][0], 0]),
                        y.push([y[y.length - 1][0], 0]))
                      : !G && D && (m.push([w, 0]), y.push([w, 0])),
                      m.push([w, X]),
                      y.push([w, X]),
                      (w += b),
                      (D = G);
                  }
                }),
                  (u = this._shadowPolygonPts = m),
                  (c = this._shadowPolylinePts = y);
              }
              (this._shadowData = o),
                (this._shadowDim = l),
                (this._shadowSize = [n[0], n[1]]);
              for (var H, G, X, K, L = this.dataZoomModel, E = 0; E < 3; E++) {
                var O =
                  ((H = void 0),
                  (G = void 0),
                  void 0,
                  void 0,
                  (H = L.getModel(
                    1 === E ? 'selectedDataBackground' : 'dataBackground'
                  )),
                  (G = new Qe()),
                  (X = new Wi({
                    shape: { points: u },
                    segmentIgnoreThreshold: 1,
                    style: H.getModel('areaStyle').getAreaStyle(),
                    silent: !0,
                    z2: -20,
                  })),
                  (K = new $i({
                    shape: { points: c },
                    segmentIgnoreThreshold: 1,
                    style: H.getModel('lineStyle').getLineStyle(),
                    silent: !0,
                    z2: -19,
                  })),
                  G.add(X),
                  G.add(K),
                  G);
                this._displayables.sliderGroup.add(O),
                  this._displayables.dataShadowSegs.push(O);
              }
            }
          }
        }),
        (e.prototype._prepareDataShadowInfo = function () {
          var t = this.dataZoomModel,
            n = t.get('showDataShadow');
          if (!1 !== n) {
            var i,
              a = this.ecModel;
            return (
              t.eachTargetAxis(function (o, s) {
                F(
                  t.getAxisProxy(o, s).getTargetSeriesModels(),
                  function (u) {
                    if (!(i || (!0 !== n && $(_7, u.get('type')) < 0))) {
                      var d,
                        c = a.getComponent(uu(o), s).axis,
                        f = (function C7(r) {
                          return {
                            x: 'y',
                            y: 'x',
                            radius: 'angle',
                            angle: 'radius',
                          }[r];
                        })(o),
                        v = u.coordinateSystem;
                      null != f &&
                        v.getOtherAxis &&
                        (d = v.getOtherAxis(c).inverse),
                        (f = u.getData().mapDimension(f)),
                        (i = {
                          thisAxis: c,
                          series: u,
                          thisDim: o,
                          otherDim: f,
                          otherAxisInverse: d,
                        });
                    }
                  },
                  this
                );
              }, this),
              i
            );
          }
        }),
        (e.prototype._renderHandle = function () {
          var t = this.group,
            n = this._displayables,
            i = (n.handles = [null, null]),
            a = (n.handleLabels = [null, null]),
            o = this._displayables.sliderGroup,
            s = this._size,
            l = this.dataZoomModel,
            u = this.api,
            c = l.get('borderRadius') || 0,
            f = l.get('brushSelect'),
            d = (n.filler = new bv({
              silent: f,
              style: { fill: l.get('fillerColor') },
              textConfig: { position: 'inside' },
            }));
          o.add(d),
            o.add(
              new bv({
                silent: !0,
                subPixelOptimize: !0,
                shape: { x: 0, y: 0, width: s[0], height: s[1], r: c },
                style: {
                  stroke: l.get('dataBackgroundColor') || l.get('borderColor'),
                  lineWidth: 1,
                  fill: 'rgba(0,0,0,0)',
                },
              })
            ),
            F(
              [0, 1],
              function (C) {
                var D = l.get('handleIcon');
                !Kp[D] &&
                  D.indexOf('path://') < 0 &&
                  D.indexOf('image://') < 0 &&
                  ((D = 'path://' + D),
                  oa(
                    "handleIcon now needs 'path://' prefix when using a path string"
                  ));
                var L = En(D, -1, 0, 2, 2, null, !0);
                L.attr({
                  cursor: vk(this._orient),
                  draggable: !0,
                  drift: kt(this._onDragMove, this, C),
                  ondragend: kt(this._onDragEnd, this),
                  onmouseover: kt(this._showDataInfo, this, !0),
                  onmouseout: kt(this._showDataInfo, this, !1),
                  z2: 5,
                });
                var M = L.getBoundingRect(),
                  E = l.get('handleSize');
                (this._handleHeight = Te(E, this._size[1])),
                  (this._handleWidth =
                    (M.width / M.height) * this._handleHeight),
                  L.setStyle(l.getModel('handleStyle').getItemStyle()),
                  (L.style.strokeNoScale = !0),
                  (L.rectHover = !0),
                  (L.ensureState('emphasis').style = l
                    .getModel(['emphasis', 'handleStyle'])
                    .getItemStyle()),
                  Wl(L);
                var O = l.get('handleColor');
                null != O && (L.style.fill = O), o.add((i[C] = L));
                var z = l.getModel('textStyle');
                t.add(
                  (a[C] = new Or({
                    silent: !0,
                    invisible: !0,
                    style: on(z, {
                      x: 0,
                      y: 0,
                      text: '',
                      verticalAlign: 'middle',
                      align: 'center',
                      fill: z.getTextColor(),
                      font: z.getFont(),
                    }),
                    z2: 10,
                  }))
                );
              },
              this
            );
          var v = d;
          if (f) {
            var g = Te(l.get('moveHandleSize'), s[1]),
              m = (n.moveHandle = new Rr({
                style: l.getModel('moveHandleStyle').getItemStyle(),
                silent: !0,
                shape: { r: [0, 0, 2, 2], y: s[1] - 0.5, height: g },
              })),
              y = 0.8 * g,
              b = (n.moveHandleIcon = En(
                l.get('moveHandleIcon'),
                -y / 2,
                -y / 2,
                y,
                y,
                '#fff',
                !0
              ));
            (b.silent = !0),
              (b.y = s[1] + g / 2 - 0.5),
              (m.ensureState('emphasis').style = l
                .getModel(['emphasis', 'moveHandleStyle'])
                .getItemStyle());
            var w = Math.min(s[1] / 2, Math.max(g, 10));
            (v = n.moveZone =
              new Rr({ invisible: !0, shape: { y: s[1] - w, height: g + w } }))
              .on('mouseover', function () {
                u.enterEmphasis(m);
              })
              .on('mouseout', function () {
                u.leaveEmphasis(m);
              }),
              o.add(m),
              o.add(b),
              o.add(v);
          }
          v.attr({
            draggable: !0,
            cursor: vk(this._orient),
            drift: kt(this._onDragMove, this, 'all'),
            ondragstart: kt(this._showDataInfo, this, !0),
            ondragend: kt(this._onDragEnd, this),
            onmouseover: kt(this._showDataInfo, this, !0),
            onmouseout: kt(this._showDataInfo, this, !1),
          });
        }),
        (e.prototype._resetInterval = function () {
          var t = (this._range = this.dataZoomModel.getPercentRange()),
            n = this._getViewExtent();
          this._handleEnds = [
            kr(t[0], [0, 100], n, !0),
            kr(t[1], [0, 100], n, !0),
          ];
        }),
        (e.prototype._updateInterval = function (t, n) {
          var i = this.dataZoomModel,
            a = this._handleEnds,
            o = this._getViewExtent(),
            s = i.findRepresentativeAxisProxy().getMinMaxSpan(),
            l = [0, 100];
          Nc(
            n,
            a,
            o,
            i.get('zoomLock') ? 'all' : t,
            null != s.minSpan ? kr(s.minSpan, l, o, !0) : null,
            null != s.maxSpan ? kr(s.maxSpan, l, o, !0) : null
          );
          var u = this._range,
            c = (this._range = Zn([kr(a[0], o, l, !0), kr(a[1], o, l, !0)]));
          return !u || u[0] !== c[0] || u[1] !== c[1];
        }),
        (e.prototype._updateView = function (t) {
          var n = this._displayables,
            i = this._handleEnds,
            a = Zn(i.slice()),
            o = this._size;
          F(
            [0, 1],
            function (v) {
              var m = this._handleHeight;
              n.handles[v].attr({
                scaleX: m / 2,
                scaleY: m / 2,
                x: i[v] + (v ? -1 : 1),
                y: o[1] / 2 - m / 2,
              });
            },
            this
          ),
            n.filler.setShape({
              x: a[0],
              y: 0,
              width: a[1] - a[0],
              height: o[1],
            });
          var s = { x: a[0], width: a[1] - a[0] };
          n.moveHandle &&
            (n.moveHandle.setShape(s),
            n.moveZone.setShape(s),
            n.moveZone.getBoundingRect(),
            n.moveHandleIcon && n.moveHandleIcon.attr('x', s.x + s.width / 2));
          for (
            var l = n.dataShadowSegs, u = [0, a[0], a[1], o[0]], c = 0;
            c < l.length;
            c++
          ) {
            var f = l[c],
              d = f.getClipPath();
            d || ((d = new Rr()), f.setClipPath(d)),
              d.setShape({
                x: u[c],
                y: 0,
                width: u[c + 1] - u[c],
                height: o[1],
              });
          }
          this._updateDataInfo(t);
        }),
        (e.prototype._updateDataInfo = function (t) {
          var n = this.dataZoomModel,
            i = this._displayables,
            a = i.handleLabels,
            o = this._orient,
            s = ['', ''];
          if (n.get('showDetail')) {
            var l = n.findRepresentativeAxisProxy();
            if (l) {
              var u = l.getAxisModel().axis,
                c = this._range,
                f = t
                  ? l.calculateDataWindow({ start: c[0], end: c[1] })
                      .valueWindow
                  : l.getDataValueWindow();
              s = [this._formatLabel(f[0], u), this._formatLabel(f[1], u)];
            }
          }
          var d = Zn(this._handleEnds.slice());
          function v(g) {
            var m = Yl(i.handles[g].parent, this.group),
              y = Ap(0 === g ? 'right' : 'left', m),
              b = this._handleWidth / 2 + 5,
              w = Oo([d[g] + (0 === g ? -b : b), this._size[1] / 2], m);
            a[g].setStyle({
              x: w[0],
              y: w[1],
              verticalAlign: o === _v ? 'middle' : y,
              align: o === _v ? y : 'center',
              text: s[g],
            });
          }
          v.call(this, 0), v.call(this, 1);
        }),
        (e.prototype._formatLabel = function (t, n) {
          var i = this.dataZoomModel,
            a = i.get('labelFormatter'),
            o = i.get('labelPrecision');
          (null == o || 'auto' === o) && (o = n.getPixelPrecision());
          var s =
            null == t || isNaN(t)
              ? ''
              : 'category' === n.type || 'time' === n.type
              ? n.scale.getLabel({ value: Math.round(t) })
              : t.toFixed(Math.min(o, 20));
          return fe(a) ? a(t, s) : ht(a) ? a.replace('{value}', s) : s;
        }),
        (e.prototype._showDataInfo = function (t) {
          var n = this._displayables,
            i = n.handleLabels;
          i[0].attr('invisible', !(t = this._dragging || t)),
            i[1].attr('invisible', !t),
            n.moveHandle &&
              this.api[t ? 'enterEmphasis' : 'leaveEmphasis'](n.moveHandle, 1);
        }),
        (e.prototype._onDragMove = function (t, n, i, a) {
          (this._dragging = !0), fi(a.event);
          var s = Oo(
              [n, i],
              this._displayables.sliderGroup.getLocalTransform(),
              !0
            ),
            l = this._updateInterval(t, s[0]),
            u = this.dataZoomModel.get('realtime');
          this._updateView(!u), l && u && this._dispatchZoomAction(!0);
        }),
        (e.prototype._onDragEnd = function () {
          (this._dragging = !1),
            this._showDataInfo(!1),
            !this.dataZoomModel.get('realtime') && this._dispatchZoomAction(!1);
        }),
        (e.prototype._onClickPanel = function (t) {
          var n = this._size,
            i = this._displayables.sliderGroup.transformCoordToLocal(
              t.offsetX,
              t.offsetY
            );
          if (!(i[0] < 0 || i[0] > n[0] || i[1] < 0 || i[1] > n[1])) {
            var a = this._handleEnds,
              s = this._updateInterval('all', i[0] - (a[0] + a[1]) / 2);
            this._updateView(), s && this._dispatchZoomAction(!1);
          }
        }),
        (e.prototype._onBrushStart = function (t) {
          (this._brushStart = new ur(t.offsetX, t.offsetY)),
            (this._brushing = !0),
            (this._brushStartTime = +new Date());
        }),
        (e.prototype._onBrushEnd = function (t) {
          if (this._brushing) {
            var n = this._displayables.brushRect;
            if (((this._brushing = !1), n)) {
              n.attr('ignore', !0);
              var i = n.shape;
              if (
                !(
                  +new Date() - this._brushStartTime < 200 &&
                  Math.abs(i.width) < 5
                )
              ) {
                var o = this._getViewExtent(),
                  s = [0, 100];
                (this._range = Zn([
                  kr(i.x, o, s, !0),
                  kr(i.x + i.width, o, s, !0),
                ])),
                  (this._handleEnds = [i.x, i.x + i.width]),
                  this._updateView(),
                  this._dispatchZoomAction(!1);
              }
            }
          }
        }),
        (e.prototype._onBrush = function (t) {
          this._brushing &&
            (fi(t.event), this._updateBrushRect(t.offsetX, t.offsetY));
        }),
        (e.prototype._updateBrushRect = function (t, n) {
          var i = this._displayables,
            o = i.brushRect;
          o ||
            ((o = i.brushRect =
              new bv({
                silent: !0,
                style: this.dataZoomModel.getModel('brushStyle').getItemStyle(),
              })),
            i.sliderGroup.add(o)),
            o.attr('ignore', !1);
          var s = this._brushStart,
            l = this._displayables.sliderGroup,
            u = l.transformCoordToLocal(t, n),
            c = l.transformCoordToLocal(s.x, s.y),
            f = this._size;
          (u[0] = Math.max(Math.min(f[0], u[0]), 0)),
            o.setShape({ x: c[0], y: 0, width: u[0] - c[0], height: f[1] });
        }),
        (e.prototype._dispatchZoomAction = function (t) {
          var n = this._range;
          this.api.dispatchAction({
            type: 'dataZoom',
            from: this.uid,
            dataZoomId: this.dataZoomModel.id,
            animation: t ? S7 : null,
            start: n[0],
            end: n[1],
          });
        }),
        (e.prototype._findCoordRect = function () {
          var t,
            n = oI(this.dataZoomModel).infoList;
          if (!t && n.length) {
            var i = n[0].model.coordinateSystem;
            t = i.getRect && i.getRect();
          }
          if (!t) {
            var a = this.api.getWidth(),
              o = this.api.getHeight();
            t = { x: 0.2 * a, y: 0.2 * o, width: 0.6 * a, height: 0.6 * o };
          }
          return t;
        }),
        (e.type = 'dataZoom.slider'),
        e
      );
    })(vb);
  function vk(r) {
    return 'vertical' === r ? 'ns-resize' : 'ew-resize';
  }
  function pk(r) {
    r.registerComponentModel(m7), r.registerComponentView(w7), pb(r);
  }
  var gk_get = function (r, e, t) {
      var n = ft((T7[r] || {})[e]);
      return t && Tt(n) ? n[n.length - 1] : n;
    },
    T7 = {
      color: { active: ['#006edd', '#e0ffff'], inactive: ['rgba(0,0,0,0)'] },
      colorHue: { active: [0, 360], inactive: [0, 0] },
      colorSaturation: { active: [0.3, 1], inactive: [0, 0] },
      colorLightness: { active: [0.9, 0.5], inactive: [0, 0] },
      colorAlpha: { active: [0.3, 1], inactive: [0, 0] },
      opacity: { active: [0.3, 1], inactive: [0, 0] },
      symbol: {
        active: ['circle', 'roundRect', 'diamond'],
        inactive: ['none'],
      },
      symbolSize: { active: [10, 50], inactive: [0, 0] },
    },
    mk = ui.mapVisual,
    A7 = ui.eachVisual,
    M7 = Tt,
    yk = F,
    L7 = Zn,
    I7 = kr,
    Tm = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (
          (t.type = e.type),
          (t.stateList = ['inRange', 'outOfRange']),
          (t.replacableOptionKeys = [
            'inRange',
            'outOfRange',
            'target',
            'controller',
            'color',
          ]),
          (t.layoutMode = { type: 'box', ignoreSize: !0 }),
          (t.dataBound = [-1 / 0, 1 / 0]),
          (t.targetVisuals = {}),
          (t.controllerVisuals = {}),
          t
        );
      }
      return (
        ut(e, r),
        (e.prototype.init = function (t, n, i) {
          this.mergeDefaultAndTheme(t, i);
        }),
        (e.prototype.optionUpdated = function (t, n) {
          !n && FI(this.option, t, this.replacableOptionKeys),
            (this.textStyleModel = this.getModel('textStyle')),
            this.resetItemSize(),
            this.completeVisualOption();
        }),
        (e.prototype.resetVisual = function (t) {
          var n = this.stateList;
          (t = kt(t, this)),
            (this.controllerVisuals = Cb(this.option.controller, n, t)),
            (this.targetVisuals = Cb(this.option.target, n, t));
        }),
        (e.prototype.getItemSymbol = function () {
          return null;
        }),
        (e.prototype.getTargetSeriesIndices = function () {
          var t = this.option.seriesIndex,
            n = [];
          return (
            null == t || 'all' === t
              ? this.ecModel.eachSeries(function (i, a) {
                  n.push(a);
                })
              : (n = qr(t)),
            n
          );
        }),
        (e.prototype.eachTargetSeries = function (t, n) {
          F(
            this.getTargetSeriesIndices(),
            function (i) {
              var a = this.ecModel.getSeriesByIndex(i);
              a && t.call(n, a);
            },
            this
          );
        }),
        (e.prototype.isTargetSeries = function (t) {
          var n = !1;
          return (
            this.eachTargetSeries(function (i) {
              i === t && (n = !0);
            }),
            n
          );
        }),
        (e.prototype.formatValueText = function (t, n, i) {
          var u,
            a = this.option,
            o = a.precision,
            s = this.dataBound,
            l = a.formatter;
          (i = i || ['<', '>']), Tt(t) && ((t = t.slice()), (u = !0));
          var c = n ? t : u ? [f(t[0]), f(t[1])] : f(t);
          return ht(l)
            ? l
                .replace('{value}', u ? c[0] : c)
                .replace('{value2}', u ? c[1] : c)
            : fe(l)
            ? u
              ? l(t[0], t[1])
              : l(t)
            : u
            ? t[0] === s[0]
              ? i[0] + ' ' + c[1]
              : t[1] === s[1]
              ? i[1] + ' ' + c[0]
              : c[0] + ' - ' + c[1]
            : c;
          function f(d) {
            return d === s[0]
              ? 'min'
              : d === s[1]
              ? 'max'
              : (+d).toFixed(Math.min(o, 20));
          }
        }),
        (e.prototype.resetExtent = function () {
          var t = this.option,
            n = L7([t.min, t.max]);
          this._dataExtent = n;
        }),
        (e.prototype.getDataDimensionIndex = function (t) {
          var n = this.option.dimension;
          if (null != n) return t.getDimensionIndex(n);
          for (var i = t.dimensions, a = i.length - 1; a >= 0; a--) {
            var s = t.getDimensionInfo(i[a]);
            if (!s.isCalculationCoord) return s.storeDimIndex;
          }
        }),
        (e.prototype.getExtent = function () {
          return this._dataExtent.slice();
        }),
        (e.prototype.completeVisualOption = function () {
          var t = this.ecModel,
            n = this.option,
            i = { inRange: n.inRange, outOfRange: n.outOfRange },
            a = n.target || (n.target = {}),
            o = n.controller || (n.controller = {});
          Gt(a, i), Gt(o, i);
          var s = this.isCategory();
          function l(f) {
            M7(n.color) &&
              !f.inRange &&
              (f.inRange = { color: n.color.slice().reverse() }),
              (f.inRange = f.inRange || { color: t.get('gradientColor') });
          }
          l.call(this, a),
            l.call(this, o),
            function u(f, d, v) {
              var g = f[d],
                m = f[v];
              g &&
                !m &&
                ((m = f[v] = {}),
                yk(g, function (y, b) {
                  if (ui.isValidType(b)) {
                    var w = gk_get(b, 'inactive', s);
                    null != w &&
                      ((m[b] = w),
                      'color' === b &&
                        !m.hasOwnProperty('opacity') &&
                        !m.hasOwnProperty('colorAlpha') &&
                        (m.opacity = [0, 0]));
                  }
                }));
            }.call(this, a, 'inRange', 'outOfRange'),
            function c(f) {
              var d = (f.inRange || {}).symbol || (f.outOfRange || {}).symbol,
                v =
                  (f.inRange || {}).symbolSize ||
                  (f.outOfRange || {}).symbolSize,
                g = this.get('inactiveColor'),
                y = this.getItemSymbol() || 'roundRect';
              yk(
                this.stateList,
                function (b) {
                  var w = this.itemSize,
                    C = f[b];
                  C || (C = f[b] = { color: s ? g : [g] }),
                    null == C.symbol &&
                      (C.symbol = (d && ft(d)) || (s ? y : [y])),
                    null == C.symbolSize &&
                      (C.symbolSize =
                        (v && ft(v)) || (s ? w[0] : [w[0], w[0]])),
                    (C.symbol = mk(C.symbol, function (M) {
                      return 'none' === M ? y : M;
                    }));
                  var D = C.symbolSize;
                  if (null != D) {
                    var L = -1 / 0;
                    A7(D, function (M) {
                      M > L && (L = M);
                    }),
                      (C.symbolSize = mk(D, function (M) {
                        return I7(M, [0, L], [0, w[0]], !0);
                      }));
                  }
                },
                this
              );
            }.call(this, o);
        }),
        (e.prototype.resetItemSize = function () {
          this.itemSize = [
            parseFloat(this.get('itemWidth')),
            parseFloat(this.get('itemHeight')),
          ];
        }),
        (e.prototype.isCategory = function () {
          return !!this.option.categories;
        }),
        (e.prototype.setSelected = function (t) {}),
        (e.prototype.getSelected = function () {
          return null;
        }),
        (e.prototype.getValueState = function (t) {
          return null;
        }),
        (e.prototype.getVisualMeta = function (t) {
          return null;
        }),
        (e.type = 'visualMap'),
        (e.dependencies = ['series']),
        (e.defaultOption = {
          show: !0,
          z: 4,
          seriesIndex: 'all',
          min: 0,
          max: 200,
          left: 0,
          right: null,
          top: null,
          bottom: 0,
          itemWidth: null,
          itemHeight: null,
          inverse: !1,
          orient: 'vertical',
          backgroundColor: 'rgba(0,0,0,0)',
          borderColor: '#ccc',
          contentColor: '#5793f3',
          inactiveColor: '#aaa',
          borderWidth: 0,
          padding: 5,
          textGap: 10,
          precision: 0,
          textStyle: { color: '#333' },
        }),
        e
      );
    })(br),
    xk = [20, 140],
    k7 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), t;
      }
      return (
        ut(e, r),
        (e.prototype.optionUpdated = function (t, n) {
          r.prototype.optionUpdated.apply(this, arguments),
            this.resetExtent(),
            this.resetVisual(function (i) {
              (i.mappingMethod = 'linear'), (i.dataExtent = this.getExtent());
            }),
            this._resetRange();
        }),
        (e.prototype.resetItemSize = function () {
          r.prototype.resetItemSize.apply(this, arguments);
          var t = this.itemSize;
          (null == t[0] || isNaN(t[0])) && (t[0] = xk[0]),
            (null == t[1] || isNaN(t[1])) && (t[1] = xk[1]);
        }),
        (e.prototype._resetRange = function () {
          var t = this.getExtent(),
            n = this.option.range;
          !n || n.auto
            ? ((t.auto = 1), (this.option.range = t))
            : Tt(n) &&
              (n[0] > n[1] && n.reverse(),
              (n[0] = Math.max(n[0], t[0])),
              (n[1] = Math.min(n[1], t[1])));
        }),
        (e.prototype.completeVisualOption = function () {
          r.prototype.completeVisualOption.apply(this, arguments),
            F(
              this.stateList,
              function (t) {
                var n = this.option.controller[t].symbolSize;
                n && n[0] !== n[1] && (n[0] = n[1] / 3);
              },
              this
            );
        }),
        (e.prototype.setSelected = function (t) {
          (this.option.range = t.slice()), this._resetRange();
        }),
        (e.prototype.getSelected = function () {
          var t = this.getExtent(),
            n = Zn((this.get('range') || []).slice());
          return (
            n[0] > t[1] && (n[0] = t[1]),
            n[1] > t[1] && (n[1] = t[1]),
            n[0] < t[0] && (n[0] = t[0]),
            n[1] < t[0] && (n[1] = t[0]),
            n
          );
        }),
        (e.prototype.getValueState = function (t) {
          var n = this.option.range,
            i = this.getExtent();
          return (n[0] <= i[0] || n[0] <= t) && (n[1] >= i[1] || t <= n[1])
            ? 'inRange'
            : 'outOfRange';
        }),
        (e.prototype.findTargetDataIndices = function (t) {
          var n = [];
          return (
            this.eachTargetSeries(function (i) {
              var a = [],
                o = i.getData();
              o.each(
                this.getDataDimensionIndex(o),
                function (s, l) {
                  t[0] <= s && s <= t[1] && a.push(l);
                },
                this
              ),
                n.push({ seriesId: i.id, dataIndex: a });
            }, this),
            n
          );
        }),
        (e.prototype.getVisualMeta = function (t) {
          var n = bk(0, 0, this.getExtent()),
            i = bk(0, 0, this.option.range.slice()),
            a = [];
          function o(v, g) {
            a.push({ value: v, color: t(v, g) });
          }
          for (
            var s = 0, l = 0, u = i.length, c = n.length;
            l < c && (!i.length || n[l] <= i[0]);
            l++
          )
            n[l] < i[s] && o(n[l], 'outOfRange');
          for (var f = 1; s < u; s++, f = 0)
            f && a.length && o(i[s], 'outOfRange'), o(i[s], 'inRange');
          for (f = 1; l < c; l++)
            (!i.length || i[i.length - 1] < n[l]) &&
              (f &&
                (a.length && o(a[a.length - 1].value, 'outOfRange'), (f = 0)),
              o(n[l], 'outOfRange'));
          var d = a.length;
          return {
            stops: a,
            outerColors: [
              d ? a[0].color : 'transparent',
              d ? a[d - 1].color : 'transparent',
            ],
          };
        }),
        (e.type = 'visualMap.continuous'),
        (e.defaultOption = Zl(Tm.defaultOption, {
          align: 'auto',
          calculable: !1,
          hoverLink: !0,
          realtime: !0,
          handleIcon:
            'path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z',
          handleSize: '120%',
          handleStyle: { borderColor: '#fff', borderWidth: 1 },
          indicatorIcon: 'circle',
          indicatorSize: '50%',
          indicatorStyle: {
            borderColor: '#fff',
            borderWidth: 2,
            shadowBlur: 2,
            shadowOffsetX: 1,
            shadowOffsetY: 1,
            shadowColor: 'rgba(0,0,0,0.2)',
          },
        })),
        e
      );
    })(Tm);
  function bk(r, e, t) {
    if (t[0] === t[1]) return t.slice();
    for (
      var i = (t[1] - t[0]) / 200, a = t[0], o = [], s = 0;
      s <= 200 && a < t[1];
      s++
    )
      o.push(a), (a += i);
    return o.push(t[1]), o;
  }
  var _k = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (
          (t.type = e.type),
          (t.autoPositionValues = { left: 1, right: 1, top: 1, bottom: 1 }),
          t
        );
      }
      return (
        ut(e, r),
        (e.prototype.init = function (t, n) {
          (this.ecModel = t), (this.api = n);
        }),
        (e.prototype.render = function (t, n, i, a) {
          (this.visualMapModel = t),
            !1 !== t.get('show')
              ? this.doRender(t, n, i, a)
              : this.group.removeAll();
        }),
        (e.prototype.renderBackground = function (t) {
          var n = this.visualMapModel,
            i = lc(n.get('padding') || 0),
            a = t.getBoundingRect();
          t.add(
            new Rr({
              z2: -1,
              silent: !0,
              shape: {
                x: a.x - i[3],
                y: a.y - i[0],
                width: a.width + i[3] + i[1],
                height: a.height + i[0] + i[2],
              },
              style: {
                fill: n.get('backgroundColor'),
                stroke: n.get('borderColor'),
                lineWidth: n.get('borderWidth'),
              },
            })
          );
        }),
        (e.prototype.getControllerVisual = function (t, n, i) {
          var a = (i = i || {}).forceState,
            o = this.visualMapModel,
            s = {};
          if ('color' === n) {
            var l = o.get('contentColor');
            s.color = l;
          }
          function u(v) {
            return s[v];
          }
          function c(v, g) {
            s[v] = g;
          }
          var f = o.controllerVisuals[a || o.getValueState(t)];
          return (
            F(ui.prepareVisualTypes(f), function (v) {
              var g = f[v];
              i.convertOpacityToAlpha &&
                'opacity' === v &&
                ((v = 'colorAlpha'), (g = f.__alphaForOpacity)),
                ui.dependsOn(v, n) && g && g.applyVisual(t, u, c);
            }),
            s[n]
          );
        }),
        (e.prototype.positionGroup = function (t) {
          var i = this.api;
          zp(t, this.visualMapModel.getBoxLayoutParams(), {
            width: i.getWidth(),
            height: i.getHeight(),
          });
        }),
        (e.prototype.doRender = function (t, n, i, a) {}),
        (e.type = 'visualMap'),
        e
      );
    })(fn),
    Sk = [
      ['left', 'right', 'width'],
      ['top', 'bottom', 'height'],
    ];
  function wk(r, e, t) {
    var n = r.option,
      i = n.align;
    if (null != i && 'auto' !== i) return i;
    for (
      var a = { width: e.getWidth(), height: e.getHeight() },
        o = 'horizontal' === n.orient ? 1 : 0,
        s = Sk[o],
        l = [0, null, 10],
        u = {},
        c = 0;
      c < 3;
      c++
    )
      (u[Sk[1 - o][c]] = l[c]), (u[s[c]] = 2 === c ? t[0] : n[s[c]]);
    var f = [
        ['x', 'width', 3],
        ['y', 'height', 0],
      ][o],
      d = Vn(u, a, n.padding);
    return s[
      (d.margin[f[2]] || 0) + d[f[0]] + 0.5 * d[f[1]] < 0.5 * a[f[1]] ? 0 : 1
    ];
  }
  function Am(r, e) {
    return (
      F(r || [], function (t) {
        null != t.dataIndex &&
          ((t.dataIndexInside = t.dataIndex), (t.dataIndex = null)),
          (t.highlightKey = 'visualMap' + (e ? e.componentIndex : ''));
      }),
      r
    );
  }
  var ms = kr,
    E7 = F,
    Ck = Math.min,
    Ub = Math.max,
    O7 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (
          (t.type = e.type),
          (t._shapes = {}),
          (t._dataInterval = []),
          (t._handleEnds = []),
          (t._hoverLinkDataIndices = []),
          t
        );
      }
      return (
        ut(e, r),
        (e.prototype.doRender = function (t, n, i, a) {
          (this._api = i),
            (!a || 'selectDataRange' !== a.type || a.from !== this.uid) &&
              this._buildView();
        }),
        (e.prototype._buildView = function () {
          this.group.removeAll();
          var t = this.visualMapModel,
            n = this.group;
          (this._orient = t.get('orient')),
            (this._useHandle = t.get('calculable')),
            this._resetInterval(),
            this._renderBar(n);
          var i = t.get('text');
          this._renderEndsText(n, i, 0),
            this._renderEndsText(n, i, 1),
            this._updateView(!0),
            this.renderBackground(n),
            this._updateView(),
            this._enableHoverLinkToSeries(),
            this._enableHoverLinkFromSeries(),
            this.positionGroup(n);
        }),
        (e.prototype._renderEndsText = function (t, n, i) {
          if (n) {
            var a = n[1 - i];
            a = null != a ? a + '' : '';
            var o = this.visualMapModel,
              s = o.get('textGap'),
              l = o.itemSize,
              u = this._shapes.mainGroup,
              c = this._applyTransform([l[0] / 2, 0 === i ? -s : l[1] + s], u),
              f = this._applyTransform(0 === i ? 'bottom' : 'top', u),
              d = this._orient;
            this.group.add(
              new Or({
                style: on(this.visualMapModel.textStyleModel, {
                  x: c[0],
                  y: c[1],
                  verticalAlign: 'horizontal' === d ? 'middle' : f,
                  align: 'horizontal' === d ? f : 'center',
                  text: a,
                }),
              })
            );
          }
        }),
        (e.prototype._renderBar = function (t) {
          var n = this.visualMapModel,
            i = this._shapes,
            a = n.itemSize,
            o = this._orient,
            s = this._useHandle,
            l = wk(n, this.api, a),
            u = (i.mainGroup = this._createBarGroup(l)),
            c = new Qe();
          u.add(c),
            c.add((i.outOfRange = Dk())),
            c.add(
              (i.inRange = Dk(
                null,
                s ? Ak(this._orient) : null,
                kt(this._dragHandle, this, 'all', !1),
                kt(this._dragHandle, this, 'all', !0)
              ))
            ),
            c.setClipPath(
              new Rr({ shape: { x: 0, y: 0, width: a[0], height: a[1], r: 3 } })
            );
          var f = n.textStyleModel.getTextRect('\u56fd'),
            d = Ub(f.width, f.height);
          s &&
            ((i.handleThumbs = []),
            (i.handleLabels = []),
            (i.handleLabelPoints = []),
            this._createHandle(n, u, 0, a, d, o),
            this._createHandle(n, u, 1, a, d, o)),
            this._createIndicator(n, u, a, d, o),
            t.add(u);
        }),
        (e.prototype._createHandle = function (t, n, i, a, o, s) {
          var l = kt(this._dragHandle, this, i, !1),
            u = kt(this._dragHandle, this, i, !0),
            c = Ni(t.get('handleSize'), a[0]),
            f = En(t.get('handleIcon'), -c / 2, -c / 2, c, c, null, !0),
            d = Ak(this._orient);
          f.attr({
            cursor: d,
            draggable: !0,
            drift: l,
            ondragend: u,
            onmousemove: function (b) {
              fi(b.event);
            },
          }),
            (f.x = a[0] / 2),
            f.useStyle(t.getModel('handleStyle').getItemStyle()),
            f.setStyle({ strokeNoScale: !0, strokeFirst: !0 }),
            (f.style.lineWidth *= 2),
            (f.ensureState('emphasis').style = t
              .getModel(['emphasis', 'handleStyle'])
              .getItemStyle()),
            ic(f, !0),
            n.add(f);
          var g = new Or({
            cursor: d,
            draggable: !0,
            drift: l,
            onmousemove: function (b) {
              fi(b.event);
            },
            ondragend: u,
            style: on(this.visualMapModel.textStyleModel, {
              x: 0,
              y: 0,
              text: '',
            }),
          });
          (g.ensureState('blur').style = { opacity: 0.1 }),
            (g.stateTransition = { duration: 200 }),
            this.group.add(g);
          var m = [c, 0],
            y = this._shapes;
          (y.handleThumbs[i] = f),
            (y.handleLabelPoints[i] = m),
            (y.handleLabels[i] = g);
        }),
        (e.prototype._createIndicator = function (t, n, i, a, o) {
          var s = Ni(t.get('indicatorSize'), i[0]),
            l = En(t.get('indicatorIcon'), -s / 2, -s / 2, s, s, null, !0);
          l.attr({ cursor: 'move', invisible: !0, silent: !0, x: i[0] / 2 });
          var u = t.getModel('indicatorStyle').getItemStyle();
          if (l instanceof ai) {
            var c = l.style;
            l.useStyle(
              nt(
                {
                  image: c.image,
                  x: c.x,
                  y: c.y,
                  width: c.width,
                  height: c.height,
                },
                u
              )
            );
          } else l.useStyle(u);
          n.add(l);
          var d = new Or({
            silent: !0,
            invisible: !0,
            style: on(this.visualMapModel.textStyleModel, {
              x: 0,
              y: 0,
              text: '',
            }),
          });
          this.group.add(d);
          var v = [('horizontal' === o ? a / 2 : 6) + i[0] / 2, 0],
            g = this._shapes;
          (g.indicator = l),
            (g.indicatorLabel = d),
            (g.indicatorLabelPoint = v),
            (this._firstShowIndicator = !0);
        }),
        (e.prototype._dragHandle = function (t, n, i, a) {
          if (this._useHandle) {
            if (((this._dragging = !n), !n)) {
              var o = this._applyTransform([i, a], this._shapes.mainGroup, !0);
              this._updateInterval(t, o[1]),
                this._hideIndicator(),
                this._updateView();
            }
            n === !this.visualMapModel.get('realtime') &&
              this.api.dispatchAction({
                type: 'selectDataRange',
                from: this.uid,
                visualMapId: this.visualMapModel.id,
                selected: this._dataInterval.slice(),
              }),
              n
                ? !this._hovering && this._clearHoverLinkToSeries()
                : Tk(this.visualMapModel) &&
                  this._doHoverLinkToSeries(this._handleEnds[t], !1);
          }
        }),
        (e.prototype._resetInterval = function () {
          var t = this.visualMapModel,
            n = (this._dataInterval = t.getSelected()),
            i = t.getExtent(),
            a = [0, t.itemSize[1]];
          this._handleEnds = [ms(n[0], i, a, !0), ms(n[1], i, a, !0)];
        }),
        (e.prototype._updateInterval = function (t, n) {
          var i = this.visualMapModel,
            a = this._handleEnds,
            o = [0, i.itemSize[1]];
          Nc((n = n || 0), a, o, t, 0);
          var s = i.getExtent();
          this._dataInterval = [ms(a[0], o, s, !0), ms(a[1], o, s, !0)];
        }),
        (e.prototype._updateView = function (t) {
          var n = this.visualMapModel,
            i = n.getExtent(),
            a = this._shapes,
            o = [0, n.itemSize[1]],
            s = t ? o : this._handleEnds,
            l = this._createBarVisual(this._dataInterval, i, s, 'inRange'),
            u = this._createBarVisual(i, i, o, 'outOfRange');
          a.inRange
            .setStyle({ fill: l.barColor })
            .setShape('points', l.barPoints),
            a.outOfRange
              .setStyle({ fill: u.barColor })
              .setShape('points', u.barPoints),
            this._updateHandle(s, l);
        }),
        (e.prototype._createBarVisual = function (t, n, i, a) {
          var o = { forceState: a, convertOpacityToAlpha: !0 },
            s = this._makeColorGradient(t, o),
            l = [
              this.getControllerVisual(t[0], 'symbolSize', o),
              this.getControllerVisual(t[1], 'symbolSize', o),
            ],
            u = this._createBarPoints(i, l);
          return {
            barColor: new Cf(0, 0, 0, 1, s),
            barPoints: u,
            handlesColor: [s[0].color, s[s.length - 1].color],
          };
        }),
        (e.prototype._makeColorGradient = function (t, n) {
          var a = [],
            o = (t[1] - t[0]) / 100;
          a.push({
            color: this.getControllerVisual(t[0], 'color', n),
            offset: 0,
          });
          for (var s = 1; s < 100; s++) {
            var l = t[0] + o * s;
            if (l > t[1]) break;
            a.push({
              color: this.getControllerVisual(l, 'color', n),
              offset: s / 100,
            });
          }
          return (
            a.push({
              color: this.getControllerVisual(t[1], 'color', n),
              offset: 1,
            }),
            a
          );
        }),
        (e.prototype._createBarPoints = function (t, n) {
          var i = this.visualMapModel.itemSize;
          return [
            [i[0] - n[0], t[0]],
            [i[0], t[0]],
            [i[0], t[1]],
            [i[0] - n[1], t[1]],
          ];
        }),
        (e.prototype._createBarGroup = function (t) {
          var n = this._orient,
            i = this.visualMapModel.get('inverse');
          return new Qe(
            'horizontal' !== n || i
              ? 'horizontal' === n && i
                ? { scaleX: 'bottom' === t ? -1 : 1, rotation: -Math.PI / 2 }
                : 'vertical' !== n || i
                ? { scaleX: 'left' === t ? 1 : -1 }
                : { scaleX: 'left' === t ? 1 : -1, scaleY: -1 }
              : { scaleX: 'bottom' === t ? 1 : -1, rotation: Math.PI / 2 }
          );
        }),
        (e.prototype._updateHandle = function (t, n) {
          if (this._useHandle) {
            var i = this._shapes,
              a = this.visualMapModel,
              o = i.handleThumbs,
              s = i.handleLabels,
              l = a.itemSize,
              u = a.getExtent();
            E7(
              [0, 1],
              function (c) {
                var f = o[c];
                f.setStyle('fill', n.handlesColor[c]), (f.y = t[c]);
                var d = ms(t[c], [0, l[1]], u, !0),
                  v = this.getControllerVisual(d, 'symbolSize');
                (f.scaleX = f.scaleY = v / l[0]), (f.x = l[0] - v / 2);
                var g = Oo(i.handleLabelPoints[c], Yl(f, this.group));
                s[c].setStyle({
                  x: g[0],
                  y: g[1],
                  text: a.formatValueText(this._dataInterval[c]),
                  verticalAlign: 'middle',
                  align:
                    'vertical' === this._orient
                      ? this._applyTransform('left', i.mainGroup)
                      : 'center',
                });
              },
              this
            );
          }
        }),
        (e.prototype._showIndicator = function (t, n, i, a) {
          var o = this.visualMapModel,
            s = o.getExtent(),
            l = o.itemSize,
            u = [0, l[1]],
            c = this._shapes,
            f = c.indicator;
          if (f) {
            f.attr('invisible', !1);
            var v = this.getControllerVisual(t, 'color', {
                convertOpacityToAlpha: !0,
              }),
              g = this.getControllerVisual(t, 'symbolSize'),
              m = ms(t, s, u, !0),
              y = l[0] - g / 2,
              b = { x: f.x, y: f.y };
            (f.y = m), (f.x = y);
            var w = Oo(c.indicatorLabelPoint, Yl(f, this.group)),
              C = c.indicatorLabel;
            C.attr('invisible', !1);
            var D = this._applyTransform('left', c.mainGroup),
              M = 'horizontal' === this._orient;
            C.setStyle({
              text: (i || '') + o.formatValueText(n),
              verticalAlign: M ? D : 'middle',
              align: M ? 'center' : D,
            });
            var E = { x: y, y: m, style: { fill: v } },
              O = { style: { x: w[0], y: w[1] } };
            if (o.ecModel.isAnimationEnabled() && !this._firstShowIndicator) {
              var z = { duration: 100, easing: 'cubicInOut', additive: !0 };
              (f.x = b.x), (f.y = b.y), f.animateTo(E, z), C.animateTo(O, z);
            } else f.attr(E), C.attr(O);
            this._firstShowIndicator = !1;
            var H = this._shapes.handleLabels;
            if (H) for (var G = 0; G < H.length; G++) this._api.enterBlur(H[G]);
          }
        }),
        (e.prototype._enableHoverLinkToSeries = function () {
          var t = this;
          this._shapes.mainGroup
            .on('mousemove', function (n) {
              if (((t._hovering = !0), !t._dragging)) {
                var i = t.visualMapModel.itemSize,
                  a = t._applyTransform(
                    [n.offsetX, n.offsetY],
                    t._shapes.mainGroup,
                    !0,
                    !0
                  );
                (a[1] = Ck(Ub(0, a[1]), i[1])),
                  t._doHoverLinkToSeries(a[1], 0 <= a[0] && a[0] <= i[0]);
              }
            })
            .on('mouseout', function () {
              (t._hovering = !1), !t._dragging && t._clearHoverLinkToSeries();
            });
        }),
        (e.prototype._enableHoverLinkFromSeries = function () {
          var t = this.api.getZr();
          this.visualMapModel.option.hoverLink
            ? (t.on('mouseover', this._hoverLinkFromSeriesMouseOver, this),
              t.on('mouseout', this._hideIndicator, this))
            : this._clearHoverLinkFromSeries();
        }),
        (e.prototype._doHoverLinkToSeries = function (t, n) {
          var i = this.visualMapModel;
          if (i.option.hoverLink) {
            var o = [0, i.itemSize[1]],
              s = i.getExtent();
            t = Ck(Ub(o[0], t), o[1]);
            var l = (function F7(r, e, t) {
                var n = 6,
                  i = r.get('hoverLinkDataSize');
                return i && (n = ms(i, e, t, !0) / 2), n;
              })(i, s, o),
              u = [t - l, t + l],
              c = ms(t, o, s, !0),
              f = [ms(u[0], o, s, !0), ms(u[1], o, s, !0)];
            u[0] < o[0] && (f[0] = -1 / 0),
              u[1] > o[1] && (f[1] = 1 / 0),
              n &&
                (f[0] === -1 / 0
                  ? this._showIndicator(c, f[1], '< ', l)
                  : f[1] === 1 / 0
                  ? this._showIndicator(c, f[0], '> ', l)
                  : this._showIndicator(c, c, '\u2248 ', l));
            var d = this._hoverLinkDataIndices,
              v = [];
            (n || Tk(i)) &&
              (v = this._hoverLinkDataIndices = i.findTargetDataIndices(f));
            var g = (function _(r, e) {
              var t = {},
                n = {};
              return i(r || [], t), i(e || [], n, t), [a(t), a(n)];
              function i(o, s, l) {
                for (var u = 0, c = o.length; u < c; u++) {
                  var f = gn(o[u].seriesId, null);
                  if (null == f) return;
                  for (
                    var d = qr(o[u].dataIndex),
                      v = l && l[f],
                      g = 0,
                      m = d.length;
                    g < m;
                    g++
                  ) {
                    var y = d[g];
                    v && v[y] ? (v[y] = null) : ((s[f] || (s[f] = {}))[y] = 1);
                  }
                }
              }
              function a(o, s) {
                var l = [];
                for (var u in o)
                  if (o.hasOwnProperty(u) && null != o[u])
                    if (s) l.push(+u);
                    else {
                      var c = a(o[u], !0);
                      c.length && l.push({ seriesId: u, dataIndex: c });
                    }
                return l;
              }
            })(d, v);
            this._dispatchHighDown('downplay', Am(g[0], i)),
              this._dispatchHighDown('highlight', Am(g[1], i));
          }
        }),
        (e.prototype._hoverLinkFromSeriesMouseOver = function (t) {
          var n;
          if (
            (gc(
              t.target,
              function (l) {
                var u = fr(l);
                if (null != u.dataIndex) return (n = u), !0;
              },
              !0
            ),
            n)
          ) {
            var i = this.ecModel.getSeriesByIndex(n.seriesIndex),
              a = this.visualMapModel;
            if (a.isTargetSeries(i)) {
              var o = i.getData(n.dataType),
                s = o.getStore().get(a.getDataDimensionIndex(o), n.dataIndex);
              isNaN(s) || this._showIndicator(s, s);
            }
          }
        }),
        (e.prototype._hideIndicator = function () {
          var t = this._shapes;
          t.indicator && t.indicator.attr('invisible', !0),
            t.indicatorLabel && t.indicatorLabel.attr('invisible', !0);
          var n = this._shapes.handleLabels;
          if (n) for (var i = 0; i < n.length; i++) this._api.leaveBlur(n[i]);
        }),
        (e.prototype._clearHoverLinkToSeries = function () {
          this._hideIndicator();
          var t = this._hoverLinkDataIndices;
          this._dispatchHighDown('downplay', Am(t, this.visualMapModel)),
            (t.length = 0);
        }),
        (e.prototype._clearHoverLinkFromSeries = function () {
          this._hideIndicator();
          var t = this.api.getZr();
          t.off('mouseover', this._hoverLinkFromSeriesMouseOver),
            t.off('mouseout', this._hideIndicator);
        }),
        (e.prototype._applyTransform = function (t, n, i, a) {
          var o = Yl(n, a ? null : this.group);
          return Tt(t) ? Oo(t, o, i) : Ap(t, o, i);
        }),
        (e.prototype._dispatchHighDown = function (t, n) {
          n && n.length && this.api.dispatchAction({ type: t, batch: n });
        }),
        (e.prototype.dispose = function () {
          this._clearHoverLinkFromSeries(), this._clearHoverLinkToSeries();
        }),
        (e.prototype.remove = function () {
          this._clearHoverLinkFromSeries(), this._clearHoverLinkToSeries();
        }),
        (e.type = 'visualMap.continuous'),
        e
      );
    })(_k);
  function Dk(r, e, t, n) {
    return new Wi({
      shape: { points: r },
      draggable: !!t,
      cursor: e,
      drift: t,
      onmousemove: function (i) {
        fi(i.event);
      },
      ondragend: n,
    });
  }
  function Tk(r) {
    return !!(r.get('hoverLinkOnHandle') ?? r.get('realtime'));
  }
  function Ak(r) {
    return 'vertical' === r ? 'ns-resize' : 'ew-resize';
  }
  var B7 = {
      type: 'selectDataRange',
      event: 'dataRangeSelected',
      update: 'update',
    },
    N7 = function (r, e) {
      e.eachComponent({ mainType: 'visualMap', query: r }, function (t) {
        t.setSelected(r.selected);
      });
    },
    z7 = [
      {
        createOnAllSeries: !0,
        reset: function (r, e) {
          var t = [];
          return (
            e.eachComponent('visualMap', function (n) {
              var i = r.pipelineContext;
              !n.isTargetSeries(r) ||
                (i && i.large) ||
                t.push(
                  (function s6(r, e, t, n) {
                    var i = {};
                    return (
                      F(r, function (a) {
                        var o = ui.prepareVisualTypes(e[a]);
                        i[a] = o;
                      }),
                      {
                        progress: function (o, s) {
                          var l;
                          function u(L) {
                            return o0(s, f, L);
                          }
                          function c(L, M) {
                            iC(s, f, L, M);
                          }
                          null != n && (l = s.getDimensionIndex(n));
                          for (
                            var f, d = s.getStore();
                            null != (f = o.next());

                          ) {
                            var v = s.getRawDataItem(f);
                            if (!v || !1 !== v.visualMap)
                              for (
                                var g = null != n ? d.get(l, f) : f,
                                  m = t(g),
                                  y = e[m],
                                  b = i[m],
                                  w = 0,
                                  C = b.length;
                                w < C;
                                w++
                              ) {
                                var D = b[w];
                                y[D] && y[D].applyVisual(g, u, c);
                              }
                          }
                        },
                      }
                    );
                  })(
                    n.stateList,
                    n.targetVisuals,
                    kt(n.getValueState, n),
                    n.getDataDimensionIndex(r.getData())
                  )
                );
            }),
            t
          );
        },
      },
      {
        createOnAllSeries: !0,
        reset: function (r, e) {
          var t = r.getData(),
            n = [];
          e.eachComponent('visualMap', function (i) {
            if (i.isTargetSeries(r)) {
              var a = i.getVisualMeta(kt(V7, null, r, i)) || {
                  stops: [],
                  outerColors: [],
                },
                o = i.getDataDimensionIndex(t);
              o >= 0 && ((a.dimension = o), n.push(a));
            }
          }),
            r.getData().setVisual('visualMeta', n);
        },
      },
    ];
  function V7(r, e, t, n) {
    for (
      var i = e.targetVisuals[n],
        a = ui.prepareVisualTypes(i),
        o = { color: Td(r.getData(), 'color') },
        s = 0,
        l = a.length;
      s < l;
      s++
    ) {
      var u = a[s],
        c = i['opacity' === u ? '__alphaForOpacity' : u];
      c && c.applyVisual(t, f, d);
    }
    return o.color;
    function f(v) {
      return o[v];
    }
    function d(v, g) {
      o[v] = g;
    }
  }
  var Mk = F;
  function H7(r) {
    var e = r && r.visualMap;
    Tt(e) || (e = e ? [e] : []),
      Mk(e, function (t) {
        if (t) {
          dh(t, 'splitList') &&
            !dh(t, 'pieces') &&
            ((t.pieces = t.splitList), delete t.splitList);
          var n = t.pieces;
          n &&
            Tt(n) &&
            Mk(n, function (i) {
              Y(i) &&
                (dh(i, 'start') && !dh(i, 'min') && (i.min = i.start),
                dh(i, 'end') && !dh(i, 'max') && (i.max = i.end));
            });
        }
      });
  }
  function dh(r, e) {
    return r && r.hasOwnProperty && r.hasOwnProperty(e);
  }
  var Lk = !1;
  function Ik(r) {
    Lk ||
      ((Lk = !0),
      r.registerSubTypeDefaulter('visualMap', function (e) {
        return e.categories ||
          ((e.pieces ? e.pieces.length > 0 : e.splitNumber > 0) &&
            !e.calculable)
          ? 'piecewise'
          : 'continuous';
      }),
      r.registerAction(B7, N7),
      F(z7, function (e) {
        r.registerVisual(r.PRIORITY.VISUAL.COMPONENT, e);
      }),
      r.registerPreprocessor(H7));
  }
  function kk(r) {
    r.registerComponentModel(k7), r.registerComponentView(O7), Ik(r);
  }
  var G7 = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = e.type), (t._pieceList = []), t;
      }
      return (
        ut(e, r),
        (e.prototype.optionUpdated = function (t, n) {
          r.prototype.optionUpdated.apply(this, arguments), this.resetExtent();
          var i = (this._mode = this._determineMode());
          (this._pieceList = []),
            W7[this._mode].call(this, this._pieceList),
            this._resetSelected(t, n);
          var a = this.option.categories;
          this.resetVisual(function (o, s) {
            'categories' === i
              ? ((o.mappingMethod = 'category'), (o.categories = ft(a)))
              : ((o.dataExtent = this.getExtent()),
                (o.mappingMethod = 'piecewise'),
                (o.pieceList = Ut(this._pieceList, function (l) {
                  return (l = ft(l)), 'inRange' !== s && (l.visual = null), l;
                })));
          });
        }),
        (e.prototype.completeVisualOption = function () {
          var t = this.option,
            n = {},
            i = ui.listVisualTypes(),
            a = this.isCategory();
          function o(s, l, u) {
            return s && s[l] && s[l].hasOwnProperty(u);
          }
          F(t.pieces, function (s) {
            F(i, function (l) {
              s.hasOwnProperty(l) && (n[l] = 1);
            });
          }),
            F(
              n,
              function (s, l) {
                var u = !1;
                F(
                  this.stateList,
                  function (c) {
                    u = u || o(t, c, l) || o(t.target, c, l);
                  },
                  this
                ),
                  !u &&
                    F(this.stateList, function (c) {
                      (t[c] || (t[c] = {}))[l] = gk_get(
                        l,
                        'inRange' === c ? 'active' : 'inactive',
                        a
                      );
                    });
              },
              this
            ),
            r.prototype.completeVisualOption.apply(this, arguments);
        }),
        (e.prototype._resetSelected = function (t, n) {
          var i = this.option,
            a = this._pieceList,
            o = (n ? i : t).selected || {};
          if (
            ((i.selected = o),
            F(
              a,
              function (l, u) {
                var c = this.getSelectedMapKey(l);
                o.hasOwnProperty(c) || (o[c] = !0);
              },
              this
            ),
            'single' === i.selectedMode)
          ) {
            var s = !1;
            F(
              a,
              function (l, u) {
                var c = this.getSelectedMapKey(l);
                o[c] && (s ? (o[c] = !1) : (s = !0));
              },
              this
            );
          }
        }),
        (e.prototype.getItemSymbol = function () {
          return this.get('itemSymbol');
        }),
        (e.prototype.getSelectedMapKey = function (t) {
          return 'categories' === this._mode ? t.value + '' : t.index + '';
        }),
        (e.prototype.getPieceList = function () {
          return this._pieceList;
        }),
        (e.prototype._determineMode = function () {
          var t = this.option;
          return t.pieces && t.pieces.length > 0
            ? 'pieces'
            : this.option.categories
            ? 'categories'
            : 'splitNumber';
        }),
        (e.prototype.setSelected = function (t) {
          this.option.selected = ft(t);
        }),
        (e.prototype.getValueState = function (t) {
          var n = ui.findPieceIndex(t, this._pieceList);
          return null != n &&
            this.option.selected[this.getSelectedMapKey(this._pieceList[n])]
            ? 'inRange'
            : 'outOfRange';
        }),
        (e.prototype.findTargetDataIndices = function (t) {
          var n = [],
            i = this._pieceList;
          return (
            this.eachTargetSeries(function (a) {
              var o = [],
                s = a.getData();
              s.each(
                this.getDataDimensionIndex(s),
                function (l, u) {
                  ui.findPieceIndex(l, i) === t && o.push(u);
                },
                this
              ),
                n.push({ seriesId: a.id, dataIndex: o });
            }, this),
            n
          );
        }),
        (e.prototype.getRepresentValue = function (t) {
          var n;
          if (this.isCategory()) n = t.value;
          else if (null != t.value) n = t.value;
          else {
            var i = t.interval || [];
            n = i[0] === -1 / 0 && i[1] === 1 / 0 ? 0 : (i[0] + i[1]) / 2;
          }
          return n;
        }),
        (e.prototype.getVisualMeta = function (t) {
          if (!this.isCategory()) {
            var n = [],
              i = ['', ''],
              a = this,
              s = this._pieceList.slice();
            if (s.length) {
              var l = s[0].interval[0];
              l !== -1 / 0 && s.unshift({ interval: [-1 / 0, l] }),
                (l = s[s.length - 1].interval[1]) !== 1 / 0 &&
                  s.push({ interval: [l, 1 / 0] });
            } else s.push({ interval: [-1 / 0, 1 / 0] });
            var u = -1 / 0;
            return (
              F(
                s,
                function (c) {
                  var f = c.interval;
                  f &&
                    (f[0] > u && o([u, f[0]], 'outOfRange'),
                    o(f.slice()),
                    (u = f[1]));
                },
                this
              ),
              { stops: n, outerColors: i }
            );
          }
          function o(c, f) {
            var d = a.getRepresentValue({ interval: c });
            f || (f = a.getValueState(d));
            var v = t(d, f);
            c[0] === -1 / 0
              ? (i[0] = v)
              : c[1] === 1 / 0
              ? (i[1] = v)
              : n.push({ value: c[0], color: v }, { value: c[1], color: v });
          }
        }),
        (e.type = 'visualMap.piecewise'),
        (e.defaultOption = Zl(Tm.defaultOption, {
          selected: null,
          minOpen: !1,
          maxOpen: !1,
          align: 'auto',
          itemWidth: 20,
          itemHeight: 14,
          itemSymbol: 'roundRect',
          pieces: null,
          categories: null,
          splitNumber: 5,
          selectedMode: 'multiple',
          itemGap: 10,
          hoverLink: !0,
        })),
        e
      );
    })(Tm),
    W7 = {
      splitNumber: function (r) {
        var e = this.option,
          t = Math.min(e.precision, 20),
          n = this.getExtent(),
          i = e.splitNumber;
        (i = Math.max(parseInt(i, 10), 1)), (e.splitNumber = i);
        for (var a = (n[1] - n[0]) / i; +a.toFixed(t) !== a && t < 5; ) t++;
        (e.precision = t),
          (a = +a.toFixed(t)),
          e.minOpen && r.push({ interval: [-1 / 0, n[0]], close: [0, 0] });
        for (var o = 0, s = n[0]; o < i; s += a, o++)
          r.push({ interval: [s, o === i - 1 ? n[1] : s + a], close: [1, 1] });
        e.maxOpen && r.push({ interval: [n[1], 1 / 0], close: [0, 0] }),
          ff(r),
          F(
            r,
            function (u, c) {
              (u.index = c), (u.text = this.formatValueText(u.interval));
            },
            this
          );
      },
      categories: function (r) {
        var e = this.option;
        F(
          e.categories,
          function (t) {
            r.push({ text: this.formatValueText(t, !0), value: t });
          },
          this
        ),
          Ek(e, r);
      },
      pieces: function (r) {
        var e = this.option;
        F(
          e.pieces,
          function (t, n) {
            Y(t) || (t = { value: t });
            var i = { text: '', index: n };
            if (
              (null != t.label && (i.text = t.label), t.hasOwnProperty('value'))
            ) {
              var a = (i.value = t.value);
              (i.interval = [a, a]), (i.close = [1, 1]);
            } else {
              for (
                var o = (i.interval = []),
                  s = (i.close = [0, 0]),
                  l = [1, 0, 1],
                  u = [-1 / 0, 1 / 0],
                  c = [],
                  f = 0;
                f < 2;
                f++
              ) {
                for (
                  var d = [
                      ['gte', 'gt', 'min'],
                      ['lte', 'lt', 'max'],
                    ][f],
                    v = 0;
                  v < 3 && null == o[f];
                  v++
                )
                  (o[f] = t[d[v]]), (s[f] = l[v]), (c[f] = 2 === v);
                null == o[f] && (o[f] = u[f]);
              }
              c[0] && o[1] === 1 / 0 && (s[0] = 0),
                c[1] && o[0] === -1 / 0 && (s[1] = 0),
                o[0] > o[1] &&
                  console.warn(
                    'Piece ' +
                      n +
                      'is illegal: ' +
                      o +
                      ' lower bound should not greater then uppper bound.'
                  ),
                o[0] === o[1] && s[0] && s[1] && (i.value = o[0]);
            }
            (i.visual = ui.retrieveVisuals(t)), r.push(i);
          },
          this
        ),
          Ek(e, r),
          ff(r),
          F(
            r,
            function (t) {
              var n = t.close;
              t.text =
                t.text ||
                this.formatValueText(
                  null != t.value ? t.value : t.interval,
                  !1,
                  [['<', '\u2264'][n[1]], ['>', '\u2265'][n[0]]]
                );
            },
            this
          );
      },
    };
  function Ek(r, e) {
    var t = r.inverse;
    ('vertical' === r.orient ? !t : t) && e.reverse();
  }
  var $7 = (function (r) {
    function e() {
      var t = (null !== r && r.apply(this, arguments)) || this;
      return (t.type = e.type), t;
    }
    return (
      ut(e, r),
      (e.prototype.doRender = function () {
        var t = this.group;
        t.removeAll();
        var n = this.visualMapModel,
          i = n.get('textGap'),
          a = n.textStyleModel,
          o = a.getFont(),
          s = a.getTextColor(),
          l = this._getItemAlign(),
          u = n.itemSize,
          c = this._getViewData(),
          f = c.endsText,
          d = xe(n.get('showLabel', !0), !f);
        f && this._renderEndsText(t, f[0], u, d, l),
          F(
            c.viewPieceList,
            function (v) {
              var g = v.piece,
                m = new Qe();
              (m.onclick = kt(this._onItemClick, this, g)),
                this._enableHoverLink(m, v.indexInModelPieceList);
              var y = n.getRepresentValue(g);
              if ((this._createItemSymbol(m, y, [0, 0, u[0], u[1]]), d)) {
                var b = this.visualMapModel.getValueState(y);
                m.add(
                  new Or({
                    style: {
                      x: 'right' === l ? -i : u[0] + i,
                      y: u[1] / 2,
                      text: g.text,
                      verticalAlign: 'middle',
                      align: l,
                      font: o,
                      fill: s,
                      opacity: 'outOfRange' === b ? 0.5 : 1,
                    },
                  })
                );
              }
              t.add(m);
            },
            this
          ),
          f && this._renderEndsText(t, f[1], u, d, l),
          fc(n.get('orient'), t, n.get('itemGap')),
          this.renderBackground(t),
          this.positionGroup(t);
      }),
      (e.prototype._enableHoverLink = function (t, n) {
        var i = this;
        t.on('mouseover', function () {
          return a('highlight');
        }).on('mouseout', function () {
          return a('downplay');
        });
        var a = function (o) {
          var s = i.visualMapModel;
          s.option.hoverLink &&
            i.api.dispatchAction({
              type: o,
              batch: Am(s.findTargetDataIndices(n), s),
            });
        };
      }),
      (e.prototype._getItemAlign = function () {
        var t = this.visualMapModel,
          n = t.option;
        if ('vertical' === n.orient) return wk(t, this.api, t.itemSize);
        var i = n.align;
        return (!i || 'auto' === i) && (i = 'left'), i;
      }),
      (e.prototype._renderEndsText = function (t, n, i, a, o) {
        if (n) {
          var s = new Qe();
          s.add(
            new Or({
              style: on(this.visualMapModel.textStyleModel, {
                x: a ? ('right' === o ? i[0] : 0) : i[0] / 2,
                y: i[1] / 2,
                verticalAlign: 'middle',
                align: a ? o : 'center',
                text: n,
              }),
            })
          ),
            t.add(s);
        }
      }),
      (e.prototype._getViewData = function () {
        var t = this.visualMapModel,
          n = Ut(t.getPieceList(), function (s, l) {
            return { piece: s, indexInModelPieceList: l };
          }),
          i = t.get('text'),
          a = t.get('orient'),
          o = t.get('inverse');
        return (
          ('horizontal' === a ? o : !o)
            ? n.reverse()
            : i && (i = i.slice().reverse()),
          { viewPieceList: n, endsText: i }
        );
      }),
      (e.prototype._createItemSymbol = function (t, n, i) {
        t.add(
          En(
            this.getControllerVisual(n, 'symbol'),
            i[0],
            i[1],
            i[2],
            i[3],
            this.getControllerVisual(n, 'color')
          )
        );
      }),
      (e.prototype._onItemClick = function (t) {
        var n = this.visualMapModel,
          i = n.option,
          a = i.selectedMode;
        if (a) {
          var o = ft(i.selected),
            s = n.getSelectedMapKey(t);
          'single' === a || !0 === a
            ? ((o[s] = !0),
              F(o, function (l, u) {
                o[u] = u === s;
              }))
            : (o[s] = !o[s]),
            this.api.dispatchAction({
              type: 'selectDataRange',
              from: this.uid,
              visualMapId: this.visualMapModel.id,
              selected: o,
            });
        }
      }),
      (e.type = 'visualMap.piecewise'),
      e
    );
  })(_k);
  function Pk(r) {
    r.registerComponentModel(G7), r.registerComponentView($7), Ik(r);
  }
  var Y7 = { label: { enabled: !0 }, decal: { show: !1 } },
    Rk = S(),
    X7 = {};
  function Z7(r, e) {
    var t = r.getModel('aria');
    if (t.get('enabled')) {
      var n = ft(Y7);
      Gt(n.label, r.getLocaleModel().get('aria'), !1),
        Gt(t.option, n, !1),
        (function i() {
          if (t.getModel('decal').get('show')) {
            var f = Nt();
            r.eachSeries(function (d) {
              if (!d.isColorBySeries()) {
                var v = f.get(d.type);
                v || f.set(d.type, (v = {})), (Rk(d).scope = v);
              }
            }),
              r.eachRawSeries(function (d) {
                if (!r.isSeriesFiltered(d))
                  if (fe(d.enableAriaDecal)) d.enableAriaDecal();
                  else {
                    var v = d.getData();
                    if (d.isColorBySeries()) {
                      var w = Vy(d.ecModel, d.name, X7, r.getSeriesCount()),
                        C = v.getVisual('decal');
                      v.setVisual('decal', D(C, w));
                    } else {
                      var g = d.getRawData(),
                        m = {},
                        y = Rk(d).scope;
                      v.each(function (L) {
                        var M = v.getRawIndex(L);
                        m[M] = L;
                      });
                      var b = g.count();
                      g.each(function (L) {
                        var M = m[L],
                          E = g.getName(L) || L + '',
                          O = Vy(d.ecModel, E, y, b),
                          z = v.getItemVisual(M, 'decal');
                        v.setItemVisual(M, 'decal', D(z, O));
                      });
                    }
                  }
                function D(L, M) {
                  var E = L ? nt(nt({}, M), L) : M;
                  return (E.dirty = !0), E;
                }
              });
          }
        })(),
        (function a() {
          var u = r.getLocaleModel().get('aria'),
            c = t.getModel('label');
          if (((c.option = Ot(c.option, u)), c.get('enabled'))) {
            var f = e.getZr().dom;
            if (c.get('description'))
              return void f.setAttribute('aria-label', c.get('description'));
            var y,
              d = r.getSeriesCount(),
              v = c.get(['data', 'maxCount']) || 10,
              g = c.get(['series', 'maxCount']) || 10,
              m = Math.min(d, g);
            if (!(d < 1)) {
              var b = (function s() {
                var u = r.get('title');
                return u && u.length && (u = u[0]), u && u.text;
              })();
              y = b
                ? o(c.get(['general', 'withTitle']), { title: b })
                : c.get(['general', 'withoutTitle']);
              var C = [];
              (y += o(
                c.get(
                  d > 1
                    ? ['series', 'multiple', 'prefix']
                    : ['series', 'single', 'prefix']
                ),
                { seriesCount: d }
              )),
                r.eachSeries(function (O, z) {
                  if (z < m) {
                    var H = void 0,
                      X = O.get('name') ? 'withName' : 'withoutName';
                    H = o(
                      (H = c.get(
                        d > 1
                          ? ['series', 'multiple', X]
                          : ['series', 'single', X]
                      )),
                      {
                        seriesId: O.seriesIndex,
                        seriesName: O.get('name'),
                        seriesType: l(O.subType),
                      }
                    );
                    var K = O.getData();
                    K.count() > v
                      ? (H += o(c.get(['data', 'partialData']), {
                          displayCnt: v,
                        }))
                      : (H += c.get(['data', 'allData']));
                    for (
                      var ot = c.get(['data', 'separator', 'middle']),
                        pt = c.get(['data', 'separator', 'end']),
                        Xt = [],
                        Vt = 0;
                      Vt < K.count();
                      Vt++
                    )
                      if (Vt < v) {
                        var re = K.getName(Vt),
                          ye = K.getValues(Vt),
                          ke = c.get(['data', re ? 'withName' : 'withoutName']);
                        Xt.push(o(ke, { name: re, value: ye.join(ot) }));
                      }
                    (H += Xt.join(ot) + pt), C.push(H);
                  }
                });
              var L = c.getModel(['series', 'multiple', 'separator']),
                M = L.get('middle'),
                E = L.get('end');
              (y += C.join(M) + E), f.setAttribute('aria-label', y);
            }
          }
        })();
    }
    function o(u, c) {
      if (!ht(u)) return u;
      var f = u;
      return (
        F(c, function (d, v) {
          f = f.replace(new RegExp('\\{\\s*' + v + '\\s*\\}', 'g'), d);
        }),
        f
      );
    }
    function l(u) {
      return (
        r.getLocaleModel().get(['series', 'typeNames'])[u] ||
        '\u81ea\u5b9a\u4e49\u56fe'
      );
    }
  }
  function q7(r) {
    if (r && r.aria) {
      var e = r.aria;
      null != e.show && (e.enabled = e.show),
        (e.label = e.label || {}),
        F(['description', 'general', 'series', 'data'], function (t) {
          null != e[t] && (e.label[t] = e[t]);
        });
    }
  }
  var Ok = {
      value: 'eq',
      '<': 'lt',
      '<=': 'lte',
      '>': 'gt',
      '>=': 'gte',
      '=': 'eq',
      '!=': 'ne',
      '<>': 'ne',
    },
    K7 = (function () {
      function r(e) {
        null == (this._condVal = ht(e) ? new RegExp(e) : Me(e) ? e : null) &&
          zr(mi('Illegal regexp', e, 'in'));
      }
      return (
        (r.prototype.evaluate = function (e) {
          var t = typeof e;
          return ht(t)
            ? this._condVal.test(e)
            : !!U(t) && this._condVal.test(e + '');
        }),
        r
      );
    })(),
    Q7 = (function () {
      function r() {}
      return (
        (r.prototype.evaluate = function () {
          return this.value;
        }),
        r
      );
    })(),
    J7 = (function () {
      function r() {}
      return (
        (r.prototype.evaluate = function () {
          for (var e = this.children, t = 0; t < e.length; t++)
            if (!e[t].evaluate()) return !1;
          return !0;
        }),
        r
      );
    })(),
    t$ = (function () {
      function r() {}
      return (
        (r.prototype.evaluate = function () {
          for (var e = this.children, t = 0; t < e.length; t++)
            if (e[t].evaluate()) return !0;
          return !1;
        }),
        r
      );
    })(),
    e$ = (function () {
      function r() {}
      return (
        (r.prototype.evaluate = function () {
          return !this.child.evaluate();
        }),
        r
      );
    })(),
    r$ = (function () {
      function r() {}
      return (
        (r.prototype.evaluate = function () {
          for (
            var e = !!this.valueParser,
              n = (0, this.getValue)(this.valueGetterParam),
              i = e ? this.valueParser(n) : null,
              a = 0;
            a < this.subCondList.length;
            a++
          )
            if (!this.subCondList[a].evaluate(e ? i : n)) return !1;
          return !0;
        }),
        r
      );
    })();
  function Yb(r, e) {
    if (!0 === r || !1 === r) {
      var t = new Q7();
      return (t.value = r), t;
    }
    return (
      Bk(r) || zr(mi('Illegal config. Expect a plain object but actually', r)),
      r.and
        ? Fk('and', r, e)
        : r.or
        ? Fk('or', r, e)
        : r.not
        ? (function n$(r, e) {
            var n,
              t = r.not;
            (n = mi(
              '"not" condition should only be `not: {}`.',
              'Illegal condition:',
              r
            )),
              Bk(t) || zr(n);
            var i = new e$();
            return (i.child = Yb(t, e)), i.child || zr(n), i;
          })(r, e)
        : (function i$(r, e) {
            for (
              var n = e.prepareGetValue(r),
                i = [],
                a = Ne(r),
                o = r.parser,
                s = o ? yw(o) : null,
                l = 0;
              l < a.length;
              l++
            ) {
              var u = a[l];
              if ('parser' !== u && !e.valueGetterAttrMap.get(u)) {
                var c = ce(Ok, u) ? Ok[u] : u,
                  f = r[u],
                  d = s ? s(f) : f,
                  v = ER(c, d) || ('reg' === c && new K7(d));
                v ||
                  zr(
                    mi(
                      'Illegal relational operation: "' + u + '" in condition:',
                      r
                    )
                  ),
                  i.push(v);
              }
            }
            i.length ||
              zr(
                mi(
                  'Relational condition must have at least one operator.',
                  'Illegal condition:',
                  r
                )
              );
            var g = new r$();
            return (
              (g.valueGetterParam = n),
              (g.valueParser = s),
              (g.getValue = e.getValue),
              (g.subCondList = i),
              g
            );
          })(r, e)
    );
  }
  function Fk(r, e, t) {
    var i,
      n = e[r];
    (i = mi(
      '"and"/"or" condition should only be `' +
        r +
        ': [...]` and must not be empty array.',
      'Illegal condition:',
      e
    )),
      Tt(n) || zr(i),
      n.length || zr(i);
    var a = 'and' === r ? new J7() : new t$();
    return (
      (a.children = Ut(n, function (o) {
        return Yb(o, t);
      })),
      a.children.length || zr(i),
      a
    );
  }
  function Bk(r) {
    return Y(r) && !sr(r);
  }
  var Xb,
    a$ = (function () {
      function r(e, t) {
        this._cond = Yb(e, t);
      }
      return (
        (r.prototype.evaluate = function () {
          return this._cond.evaluate();
        }),
        r
      );
    })(),
    s$ = {
      type: 'echarts:filter',
      transform: function (r) {
        for (
          var t,
            e = r.upstream,
            n = (function o$(r, e) {
              return new a$(r, e);
            })(r.config, {
              valueGetterAttrMap: Nt({ dimension: !0 }),
              prepareGetValue: function (s) {
                var u = s.dimension;
                ce(s, 'dimension') ||
                  zr(
                    mi(
                      'Relation condition must has prop "dimension" specified.',
                      'Illegal condition:',
                      s
                    )
                  );
                var c = e.getDimensionInfo(u);
                return (
                  c ||
                    zr(
                      mi(
                        'Can not find dimension info via: ' + u + '.\n',
                        'Existing dimensions: ',
                        e.cloneAllDimensionInfo(),
                        '.\n',
                        'Illegal condition:',
                        s,
                        '.\n'
                      )
                    ),
                  { dimIdx: c.index }
                );
              },
              getValue: function (s) {
                return e.retrieveValueFromItem(t, s.dimIdx);
              },
            }),
            i = [],
            a = 0,
            o = e.count();
          a < o;
          a++
        )
          (t = e.getRawDataItem(a)), n.evaluate() && i.push(t);
        return { data: i };
      },
    };
  Xb = [
    'Valid config is like:',
    '{ dimension: "age", order: "asc" }',
    'or [{ dimension: "age", order: "asc"], { dimension: "date", order: "desc" }]',
  ].join(' ');
  var l$ = {
      type: 'echarts:sort',
      transform: function (r) {
        var e = r.upstream,
          i = qr(r.config);
        i.length || zr('Empty `config` in sort transform.');
        var a = [];
        F(i, function (c) {
          var f = c.dimension,
            d = c.order,
            v = c.parser,
            g = c.incomparable;
          null == f &&
            zr('Sort transform config must has "dimension" specified.' + Xb),
            'asc' !== d &&
              'desc' !== d &&
              zr('Sort transform config must has "order" specified.' + Xb),
            g &&
              'min' !== g &&
              'max' !== g &&
              zr(
                'incomparable must be "min" or "max" rather than "' + g + '".'
              ),
            'asc' !== d &&
              'desc' !== d &&
              zr('order must be "asc" or "desc" rather than "' + d + '".');
          var b = e.getDimensionInfo(f);
          b ||
            zr(
              mi(
                'Can not find dimension info via: ' + f + '.\n',
                'Existing dimensions: ',
                e.cloneAllDimensionInfo(),
                '.\n',
                'Illegal config:',
                c,
                '.\n'
              )
            );
          var w = v ? yw(v) : null;
          v &&
            !w &&
            zr(
              mi(
                'Invalid parser name ' + v + '.\n',
                'Illegal config:',
                c,
                '.\n'
              )
            ),
            a.push({ dimIdx: b.index, parser: w, comparator: new bw(d, g) });
        });
        var o = e.sourceFormat;
        o !== Ui &&
          o !== io &&
          zr('sourceFormat "' + o + '" is not supported yet');
        for (var s = [], l = 0, u = e.count(); l < u; l++)
          s.push(e.getRawDataItem(l));
        return (
          s.sort(function (c, f) {
            for (var d = 0; d < a.length; d++) {
              var v = a[d],
                g = e.retrieveValueFromItem(c, v.dimIdx),
                m = e.retrieveValueFromItem(f, v.dimIdx);
              v.parser && ((g = v.parser(g)), (m = v.parser(m)));
              var y = v.comparator.evaluate(g, m);
              if (0 !== y) return y;
            }
            return 0;
          }),
          { data: s }
        );
      },
    },
    c$ = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = 'dataset'), t;
      }
      return (
        ut(e, r),
        (e.prototype.init = function (t, n, i) {
          r.prototype.init.call(this, t, n, i),
            (this._sourceManager = new Tw(this)),
            Aw(this);
        }),
        (e.prototype.mergeOption = function (t, n) {
          r.prototype.mergeOption.call(this, t, n), Aw(this);
        }),
        (e.prototype.optionUpdated = function () {
          this._sourceManager.dirty();
        }),
        (e.prototype.getSourceManager = function () {
          return this._sourceManager;
        }),
        (e.type = 'dataset'),
        (e.defaultOption = { seriesLayoutBy: us }),
        e
      );
    })(br),
    f$ = (function (r) {
      function e() {
        var t = (null !== r && r.apply(this, arguments)) || this;
        return (t.type = 'dataset'), t;
      }
      return ut(e, r), (e.type = 'dataset'), e;
    })(fn),
    ys = os.CMD;
  function vh(r, e) {
    return Math.abs(r - e) < 1e-5;
  }
  function Zb(r) {
    var i,
      K,
      tt,
      ot,
      pt,
      Xt,
      Vt,
      re,
      ye,
      ke,
      Ye,
      tr,
      er,
      Cr,
      nr,
      Tr,
      dr,
      Ze,
      e = r.data,
      t = r.len(),
      n = [],
      a = 0,
      o = 0,
      s = 0,
      l = 0;
    function u(K, tt) {
      i && i.length > 2 && n.push(i), (i = [K, tt]);
    }
    function c(K, tt, ot, pt) {
      (vh(K, ot) && vh(tt, pt)) || i.push(K, tt, ot, pt, ot, pt);
    }
    for (var d, v, g, m, y = 0; y < t; ) {
      var b = e[y++],
        w = 1 === y;
      switch (
        (w &&
          ((s = a = e[y]),
          (l = o = e[y + 1]),
          (b === ys.L || b === ys.C || b === ys.Q) && (i = [s, l])),
        b)
      ) {
        case ys.M:
          (a = s = e[y++]), (o = l = e[y++]), u(s, l);
          break;
        case ys.L:
          c(a, o, (d = e[y++]), (v = e[y++])), (a = d), (o = v);
          break;
        case ys.C:
          i.push(e[y++], e[y++], e[y++], e[y++], (a = e[y++]), (o = e[y++]));
          break;
        case ys.Q:
          (d = e[y++]),
            (v = e[y++]),
            (g = e[y++]),
            (m = e[y++]),
            i.push(
              a + (2 / 3) * (d - a),
              o + (2 / 3) * (v - o),
              g + (2 / 3) * (d - g),
              m + (2 / 3) * (v - m),
              g,
              m
            ),
            (a = g),
            (o = m);
          break;
        case ys.A:
          var C = e[y++],
            D = e[y++],
            L = e[y++],
            M = e[y++],
            E = e[y++],
            O = e[y++] + E;
          y += 1;
          var z = !e[y++];
          (d = Math.cos(E) * L + C),
            (v = Math.sin(E) * M + D),
            w ? u((s = d), (l = v)) : c(a, o, d, v),
            (a = Math.cos(O) * L + C),
            (o = Math.sin(O) * M + D);
          for (
            var H = ((z ? -1 : 1) * Math.PI) / 2, G = E;
            z ? G > O : G < O;
            G += H
          ) {
            (K = G),
              (tt = z ? Math.max(G + H, O) : Math.min(G + H, O)),
              (ot = C),
              (pt = D),
              (Xt = L),
              (Vt = M),
              void 0,
              void 0,
              void 0,
              void 0,
              void 0,
              void 0,
              void 0,
              void 0,
              void 0,
              void 0,
              void 0,
              (re = Math.abs(tt - K)),
              (ye = (4 * Math.tan(re / 4)) / 3),
              (ke = tt < K ? -1 : 1),
              (Ye = Math.cos(K)),
              (tr = Math.sin(K)),
              (er = Math.cos(tt)),
              (Cr = Math.sin(tt)),
              i.push(
                Ye * Xt + ot - (dr = Xt * ye * ke) * tr,
                tr * Vt + pt + (Ze = Vt * ye * ke) * Ye,
                (nr = er * Xt + ot) + dr * Cr,
                (Tr = Cr * Vt + pt) - Ze * er,
                nr,
                Tr
              );
          }
          break;
        case ys.R:
          (s = a = e[y++]),
            (l = o = e[y++]),
            (d = s + e[y++]),
            (v = l + e[y++]),
            u(d, l),
            c(d, l, d, v),
            c(d, v, s, v),
            c(s, v, s, l),
            c(s, l, d, l);
          break;
        case ys.Z:
          i && c(a, o, s, l), (a = s), (o = l);
      }
    }
    return i && i.length > 2 && n.push(i), n;
  }
  function qb(r, e, t, n, i, a, o, s, l, u) {
    if (vh(r, t) && vh(e, n) && vh(i, o) && vh(a, s)) l.push(o, s);
    else {
      var c = 2 / u,
        f = c * c,
        d = o - r,
        v = s - e,
        g = Math.sqrt(d * d + v * v);
      (d /= g), (v /= g);
      var m = t - r,
        y = n - e,
        b = i - o,
        w = a - s,
        C = m * m + y * y,
        D = b * b + w * w;
      if (C < f && D < f) l.push(o, s);
      else {
        var L = d * m + v * y,
          M = -d * b - v * w;
        if (C - L * L < f && L >= 0 && D - M * M < f && M >= 0) l.push(o, s);
        else {
          var z = [],
            H = [];
          wo(r, t, i, o, 0.5, z),
            wo(e, n, a, s, 0.5, H),
            qb(z[0], H[0], z[1], H[1], z[2], H[2], z[3], H[3], l, u),
            qb(z[4], H[4], z[5], H[5], z[6], H[6], z[7], H[7], l, u);
        }
      }
    }
  }
  function Nk(r, e, t) {
    var a = Math.abs(r[e] / r[1 - e]),
      o = Math.ceil(Math.sqrt(a * t)),
      s = Math.floor(t / o);
    0 === s && ((s = 1), (o = t));
    for (var l = [], u = 0; u < o; u++) l.push(s);
    var f = t - o * s;
    if (f > 0) for (u = 0; u < f; u++) l[u % o] += 1;
    return l;
  }
  function zk(r, e, t) {
    for (
      var n = r.r0,
        i = r.r,
        a = r.startAngle,
        s = Math.abs(r.endAngle - a),
        l = s * i,
        u = i - n,
        c = l > Math.abs(u),
        f = Nk([l, u], c ? 0 : 1, e),
        d = (c ? s : u) / f.length,
        v = 0;
      v < f.length;
      v++
    )
      for (var g = (c ? u : s) / f[v], m = 0; m < f[v]; m++) {
        var y = {};
        c
          ? ((y.startAngle = a + d * v),
            (y.endAngle = a + d * (v + 1)),
            (y.r0 = n + g * m),
            (y.r = n + g * (m + 1)))
          : ((y.startAngle = a + g * m),
            (y.endAngle = a + g * (m + 1)),
            (y.r0 = n + d * v),
            (y.r = n + d * (v + 1))),
          (y.clockwise = r.clockwise),
          (y.cx = r.cx),
          (y.cy = r.cy),
          t.push(y);
      }
  }
  function Vk(r, e, t, n) {
    return r * n - t * e;
  }
  function p$(r, e, t, n, i, a, o, s) {
    var l = t - r,
      u = n - e,
      c = o - i,
      f = s - a,
      d = Vk(c, f, l, u);
    if (Math.abs(d) < 1e-6) return null;
    var m = Vk(r - i, e - a, c, f) / d;
    return m < 0 || m > 1 ? null : new ur(m * l + r, m * u + e);
  }
  function g$(r, e, t) {
    var n = new ur();
    ur.sub(n, t, e), n.normalize();
    var i = new ur();
    return ur.sub(i, r, e), i.dot(n);
  }
  function ph(r, e) {
    var t = r[r.length - 1];
    (t && t[0] === e[0] && t[1] === e[1]) || r.push(e);
  }
  function Hk(r) {
    var e = r.points,
      t = [],
      n = [];
    up(e, t, n);
    var i = new it(t[0], t[1], n[0] - t[0], n[1] - t[1]),
      a = i.width,
      o = i.height,
      s = i.x,
      l = i.y,
      u = new ur(),
      c = new ur();
    return (
      a > o
        ? ((u.x = c.x = s + a / 2), (u.y = l), (c.y = l + o))
        : ((u.y = c.y = l + o / 2), (u.x = s), (c.x = s + a)),
      (function m$(r, e, t) {
        for (var n = r.length, i = [], a = 0; a < n; a++) {
          var o = r[a],
            s = r[(a + 1) % n],
            l = p$(o[0], o[1], s[0], s[1], e.x, e.y, t.x, t.y);
          l && i.push({ projPt: g$(l, e, t), pt: l, idx: a });
        }
        if (i.length < 2) return [{ points: r }, { points: r }];
        i.sort(function (y, b) {
          return y.projPt - b.projPt;
        });
        var u = i[0],
          c = i[i.length - 1];
        if (c.idx < u.idx) {
          var f = u;
          (u = c), (c = f);
        }
        var d = [u.pt.x, u.pt.y],
          v = [c.pt.x, c.pt.y],
          g = [d],
          m = [v];
        for (a = u.idx + 1; a <= c.idx; a++) ph(g, r[a].slice());
        for (ph(g, v), ph(g, d), a = c.idx + 1; a <= u.idx + n; a++)
          ph(m, r[a % n].slice());
        return ph(m, d), ph(m, v), [{ points: g }, { points: m }];
      })(e, u, c)
    );
  }
  function Mm(r, e, t, n) {
    if (1 === t) n.push(e);
    else {
      var i = Math.floor(t / 2),
        a = r(e);
      Mm(r, a[0], i, n), Mm(r, a[1], t - i, n);
    }
    return n;
  }
  function x$(r, e) {
    e.setStyle(r.style), (e.z = r.z), (e.z2 = r.z2), (e.zlevel = r.zlevel);
  }
  function S$(r, e) {
    var t = r.length,
      n = e.length;
    if (t === n) return [r, e];
    for (
      var i = [],
        a = [],
        o = t < n ? r : e,
        s = Math.min(t, n),
        l = Math.abs(n - t) / 6,
        c = Math.ceil(l / ((s - 2) / 6)) + 1,
        f = [o[0], o[1]],
        d = l,
        v = 2;
      v < s;

    ) {
      var g = o[v - 2],
        m = o[v - 1],
        y = o[v++],
        b = o[v++],
        w = o[v++],
        C = o[v++],
        D = o[v++],
        L = o[v++];
      if (d <= 0) f.push(y, b, w, C, D, L);
      else {
        for (var M = Math.min(d, c - 1) + 1, E = 1; E <= M; E++) {
          var O = E / M;
          wo(g, y, w, D, O, i),
            wo(m, b, C, L, O, a),
            f.push(i[1], a[1], i[2], a[2], (g = i[3]), (m = a[3])),
            (y = i[5]),
            (b = a[5]),
            (w = i[6]),
            (C = a[6]);
        }
        d -= M - 1;
      }
    }
    return o === r ? [f, e] : [r, f];
  }
  function Gk(r, e) {
    for (
      var t = r.length, n = r[t - 2], i = r[t - 1], a = [], o = 0;
      o < e.length;

    )
      (a[o++] = n), (a[o++] = i);
    return a;
  }
  function Wk(r) {
    for (
      var e = 0, t = 0, n = 0, i = r.length, a = 0, o = i - 2;
      a < i;
      o = a, a += 2
    ) {
      var s = r[o],
        l = r[o + 1],
        u = r[a],
        c = r[a + 1],
        f = s * c - u * l;
      (e += f), (t += (s + u) * f), (n += (l + c) * f);
    }
    return 0 === e ? [r[0] || 0, r[1] || 0] : [t / e / 3, n / e / 3, e];
  }
  function C$(r, e, t, n) {
    for (
      var i = (r.length - 2) / 6,
        a = 1 / 0,
        o = 0,
        s = r.length,
        l = s - 2,
        u = 0;
      u < i;
      u++
    ) {
      for (var c = 6 * u, f = 0, d = 0; d < s; d += 2) {
        var v = 0 === d ? c : ((c + d - 2) % l) + 2,
          w = e[d] - n[0] - (r[v] - t[0]),
          C = e[d + 1] - n[1] - (r[v + 1] - t[1]);
        f += w * w + C * C;
      }
      f < a && ((a = f), (o = u));
    }
    return o;
  }
  function D$(r) {
    for (var e = [], t = r.length, n = 0; n < t; n += 2)
      (e[n] = r[t - n - 2]), (e[n + 1] = r[t - n - 1]);
    return e;
  }
  function Lm(r) {
    return r.__isCombineMorphing;
  }
  var $k = '__mOriginal_';
  function Im(r, e, t) {
    var n = $k + e,
      i = r[n] || r[e];
    r[n] || (r[n] = r[e]);
    var a = t.replace,
      o = t.after,
      s = t.before;
    r[e] = function () {
      var u,
        l = arguments;
      return (
        s && s.apply(this, l),
        (u = a ? a.apply(this, l) : i.apply(this, l)),
        o && o.apply(this, l),
        u
      );
    };
  }
  function Sv(r, e) {
    var t = $k + e;
    r[t] && ((r[e] = r[t]), (r[t] = null));
  }
  function Uk(r, e) {
    for (var t = 0; t < r.length; t++)
      for (var n = r[t], i = 0; i < n.length; ) {
        var a = n[i],
          o = n[i + 1];
        (n[i++] = e[0] * a + e[2] * o + e[4]),
          (n[i++] = e[1] * a + e[3] * o + e[5]);
      }
  }
  function Yk(r, e) {
    var t = r.getUpdatedPathProxy(),
      n = e.getUpdatedPathProxy(),
      i = (function w$(r, e) {
        for (
          var t, n, i, a = [], o = [], s = 0;
          s < Math.max(r.length, e.length);
          s++
        ) {
          var l = r[s],
            u = e[s],
            c = void 0,
            f = void 0;
          l
            ? u
              ? ((n = c = (t = S$(l, u))[0]), (i = f = t[1]))
              : ((f = Gk(i || l, l)), (c = l))
            : ((c = Gk(n || u, u)), (f = u)),
            a.push(c),
            o.push(f);
        }
        return [a, o];
      })(Zb(t), Zb(n)),
      a = i[0],
      o = i[1],
      s = r.getComputedTransform(),
      l = e.getComputedTransform();
    s && Uk(a, s),
      l && Uk(o, l),
      Im(e, 'updateTransform', {
        replace: function u() {
          this.transform = null;
        },
      }),
      (e.transform = null);
    var c = (function T$(r, e, t, n) {
        for (var a, i = [], o = 0; o < r.length; o++) {
          var s = r[o],
            l = e[o],
            u = Wk(s),
            c = Wk(l);
          null == a && (a = u[2] < 0 != c[2] < 0);
          var f = [],
            d = [],
            v = 0,
            g = 1 / 0,
            m = [],
            y = s.length;
          a && (s = D$(s));
          for (var b = 6 * C$(s, l, u, c), w = y - 2, C = 0; C < w; C += 2) {
            var D = ((b + C) % w) + 2;
            (f[C + 2] = s[D] - u[0]), (f[C + 3] = s[D + 1] - u[1]);
          }
          if (((f[0] = s[b] - u[0]), (f[1] = s[b + 1] - u[1]), t > 0))
            for (var L = n / t, M = -n / 2; M <= n / 2; M += L) {
              var E = Math.sin(M),
                O = Math.cos(M),
                z = 0;
              for (C = 0; C < s.length; C += 2) {
                var H = f[C],
                  G = f[C + 1],
                  X = l[C] - c[0],
                  K = l[C + 1] - c[1],
                  tt = X * O - K * E,
                  ot = X * E + K * O;
                (m[C] = tt), (m[C + 1] = ot);
                var pt = tt - H,
                  Xt = ot - G;
                z += pt * pt + Xt * Xt;
              }
              if (z < g) {
                (g = z), (v = M);
                for (var Vt = 0; Vt < m.length; Vt++) d[Vt] = m[Vt];
              }
            }
          else
            for (var re = 0; re < y; re += 2)
              (d[re] = l[re] - c[0]), (d[re + 1] = l[re + 1] - c[1]);
          i.push({ from: f, to: d, fromCp: u, toCp: c, rotation: -v });
        }
        return i;
      })(a, o, 10, Math.PI),
      f = [];
    Im(e, 'buildPath', {
      replace: function (d) {
        for (var v = e.__morphT, g = 1 - v, m = [], y = 0; y < c.length; y++) {
          var b = c[y],
            w = b.from,
            C = b.to,
            D = b.rotation * v,
            L = b.fromCp,
            M = b.toCp,
            E = Math.sin(D),
            O = Math.cos(D);
          Je(m, L, M, v);
          for (var z = 0; z < w.length; z += 2) {
            var tt = w[z] * g + (X = C[z]) * v,
              ot = w[z + 1] * g + (K = C[z + 1]) * v;
            (f[z] = tt * O - ot * E + m[0]),
              (f[z + 1] = tt * E + ot * O + m[1]);
          }
          var pt = f[0],
            Xt = f[1];
          for (d.moveTo(pt, Xt), z = 2; z < w.length; ) {
            var X = f[z++],
              K = f[z++],
              Vt = f[z++],
              re = f[z++],
              ye = f[z++],
              ke = f[z++];
            pt === X && Xt === K && Vt === ye && re === ke
              ? d.lineTo(ye, ke)
              : d.bezierCurveTo(X, K, Vt, re, ye, ke),
              (pt = ye),
              (Xt = ke);
          }
        }
      },
    });
  }
  function jb(r, e, t) {
    if (!r || !e) return e;
    var n = t.done,
      i = t.during;
    return (
      Yk(r, e),
      (e.__morphT = 0),
      e.animateTo(
        { __morphT: 1 },
        Ot(
          {
            during: function (o) {
              e.dirtyShape(), i && i(o);
            },
            done: function () {
              (function a() {
                Sv(e, 'buildPath'),
                  Sv(e, 'updateTransform'),
                  (e.__morphT = -1),
                  e.createPathProxy(),
                  e.dirtyShape();
              })(),
                n && n();
            },
          },
          t
        )
      ),
      e
    );
  }
  function A$(r, e, t, n, i, a) {
    (r = i === t ? 0 : Math.round((32767 * (r - t)) / (i - t))),
      (e = a === n ? 0 : Math.round((32767 * (e - n)) / (a - n)));
    for (var l, s = 0, u = 32768; u > 0; u /= 2) {
      var c = 0,
        f = 0;
      (r & u) > 0 && (c = 1),
        (e & u) > 0 && (f = 1),
        (s += u * u * ((3 * c) ^ f)),
        0 === f &&
          (1 === c && ((r = u - 1 - r), (e = u - 1 - e)),
          (l = r),
          (r = e),
          (e = l));
    }
    return s;
  }
  function km(r) {
    var e = 1 / 0,
      t = 1 / 0,
      n = -1 / 0,
      i = -1 / 0,
      a = Ut(r, function (s) {
        var l = s.getBoundingRect(),
          u = s.getComputedTransform(),
          c = l.x + l.width / 2 + (u ? u[4] : 0),
          f = l.y + l.height / 2 + (u ? u[5] : 0);
        return (
          (e = Math.min(c, e)),
          (t = Math.min(f, t)),
          (n = Math.max(c, n)),
          (i = Math.max(f, i)),
          [c, f]
        );
      });
    return Ut(a, function (s, l) {
      return { cp: s, z: A$(s[0], s[1], e, t, n, i), path: r[l] };
    })
      .sort(function (s, l) {
        return s.z - l.z;
      })
      .map(function (s) {
        return s.path;
      });
  }
  function Xk(r) {
    return (function _$(r, e) {
      var i,
        t = [],
        n = r.shape;
      switch (r.type) {
        case 'rect':
          (function v$(r, e, t) {
            for (
              var n = r.width,
                i = r.height,
                a = n > i,
                o = Nk([n, i], a ? 0 : 1, e),
                s = a ? 'width' : 'height',
                l = a ? 'height' : 'width',
                u = a ? 'x' : 'y',
                c = a ? 'y' : 'x',
                f = r[s] / o.length,
                d = 0;
              d < o.length;
              d++
            )
              for (var v = r[l] / o[d], g = 0; g < o[d]; g++) {
                var m = {};
                (m[u] = d * f),
                  (m[c] = g * v),
                  (m[s] = f),
                  (m[l] = v),
                  (m.x += r.x),
                  (m.y += r.y),
                  t.push(m);
              }
          })(n, e, t),
            (i = Rr);
          break;
        case 'sector':
          zk(n, e, t), (i = Gi);
          break;
        case 'circle':
          zk(
            {
              r0: 0,
              r: n.r,
              startAngle: 0,
              endAngle: 2 * Math.PI,
              cx: n.cx,
              cy: n.cy,
            },
            e,
            t
          ),
            (i = Gi);
          break;
        default:
          var a = r.getComputedTransform(),
            o = a
              ? Math.sqrt(
                  Math.max(a[0] * a[0] + a[1] * a[1], a[2] * a[2] + a[3] * a[3])
                )
              : 1,
            s = Ut(
              (function d$(r, e) {
                var t = Zb(r),
                  n = [];
                e = e || 1;
                for (var i = 0; i < t.length; i++) {
                  var a = t[i],
                    o = [],
                    s = a[0],
                    l = a[1];
                  o.push(s, l);
                  for (var u = 2; u < a.length; ) {
                    var c = a[u++],
                      f = a[u++],
                      d = a[u++],
                      v = a[u++],
                      g = a[u++],
                      m = a[u++];
                    qb(s, l, c, f, d, v, g, m, o, e), (s = g), (l = m);
                  }
                  n.push(o);
                }
                return n;
              })(r.getUpdatedPathProxy(), o),
              function (b) {
                return (function b$(r) {
                  for (var e = [], t = 0; t < r.length; )
                    e.push([r[t++], r[t++]]);
                  return e;
                })(b);
              }
            ),
            l = s.length;
          if (0 === l) Mm(Hk, { points: s[0] }, e, t);
          else if (l === e)
            for (var u = 0; u < l; u++) t.push({ points: s[u] });
          else {
            var c = 0,
              f = Ut(s, function (b) {
                var w = [],
                  C = [];
                up(b, w, C);
                var D = (C[1] - w[1]) * (C[0] - w[0]);
                return (c += D), { poly: b, area: D };
              });
            f.sort(function (b, w) {
              return w.area - b.area;
            });
            var d = e;
            for (u = 0; u < l; u++) {
              var v = f[u];
              if (d <= 0) break;
              var g = u === l - 1 ? d : Math.ceil((v.area / c) * e);
              g < 0 || (Mm(Hk, { points: v.poly }, g, t), (d -= g));
            }
          }
          i = Wi;
      }
      if (!i)
        return (function y$(r, e) {
          for (var t = [], n = 0; n < e; n++) t.push(uy(r));
          return t;
        })(r, e);
      var m = [];
      for (u = 0; u < t.length; u++) {
        var y = new i();
        y.setShape(t[u]), x$(r, y), m.push(y);
      }
      return m;
    })(r.path, r.count);
  }
  function Zk(r) {
    return Tt(r[0]);
  }
  function qk(r, e) {
    for (var t = [], n = r.length, i = 0; i < n; i++)
      t.push({ one: r[i], many: [] });
    for (i = 0; i < e.length; i++) {
      var a = e[i].length,
        o = void 0;
      for (o = 0; o < a; o++) t[o % n].many.push(e[i][o]);
    }
    var s = 0;
    for (i = n - 1; i >= 0; i--)
      if (!t[i].many.length) {
        var l = t[s].many;
        if (l.length <= 1) {
          if (!s) return t;
          s = 0;
        }
        a = l.length;
        var u = Math.ceil(a / 2);
        (t[i].many = l.slice(u, a)), (t[s].many = l.slice(0, u)), s++;
      }
    return t;
  }
  var I$ = {
    clone: function (r) {
      for (
        var e = [],
          t = 1 - Math.pow(1 - r.path.style.opacity, 1 / r.count),
          n = 0;
        n < r.count;
        n++
      ) {
        var i = uy(r.path);
        i.setStyle('opacity', t), e.push(i);
      }
      return e;
    },
    split: null,
  };
  function Qb(r, e, t, n, i, a) {
    if (r.length && e.length) {
      var o = Df('update', n, i);
      if (o && o.duration > 0) {
        var u,
          c,
          s = n.getModel('universalTransition').get('delay'),
          l = Object.assign({ setToFinal: !0 }, o);
        Zk(r) && ((u = r), (c = e)), Zk(e) && ((u = e), (c = r));
        for (
          var d = u ? u === r : r.length > e.length,
            v = u ? qk(c, u) : qk(d ? e : r, [d ? r : e]),
            g = 0,
            m = 0;
          m < v.length;
          m++
        )
          g += v[m].many.length;
        var y = 0;
        for (m = 0; m < v.length; m++)
          f(v[m], d, y, g), (y += v[m].many.length);
      }
    }
    function f(b, w, C, D, L) {
      var M = b.many,
        E = b.one;
      if (1 !== M.length || L)
        for (
          var G = Ot(
              {
                dividePath: I$[t],
                individualDelay:
                  s &&
                  function (Xt, Vt, re, ye) {
                    return s(Xt + C, D);
                  },
              },
              l
            ),
            X = w
              ? (function M$(r, e, t) {
                  var n = [];
                  !(function i(L) {
                    for (var M = 0; M < L.length; M++) {
                      var E = L[M];
                      Lm(E) ? i(E.childrenRef()) : E instanceof Lr && n.push(E);
                    }
                  })(r);
                  var a = n.length;
                  if (!a)
                    return { fromIndividuals: [], toIndividuals: [], count: 0 };
                  var s = (t.dividePath || Xk)({ path: e, count: a });
                  if (s.length !== a)
                    return (
                      console.error(
                        'Invalid morphing: unmatched splitted path'
                      ),
                      { fromIndividuals: [], toIndividuals: [], count: 0 }
                    );
                  (n = km(n)), (s = km(s));
                  for (
                    var l = t.done,
                      u = t.during,
                      c = t.individualDelay,
                      f = new Qa(),
                      d = 0;
                    d < a;
                    d++
                  ) {
                    var v = n[d],
                      g = s[d];
                    (g.parent = e), g.copyTransform(f), c || Yk(v, g);
                  }
                  function m(L) {
                    for (var M = 0; M < s.length; M++) s[M].addSelfToZr(L);
                  }
                  function y() {
                    (e.__isCombineMorphing = !1),
                      (e.__morphT = -1),
                      (e.childrenRef = null),
                      Sv(e, 'addSelfToZr'),
                      Sv(e, 'removeSelfFromZr');
                  }
                  (e.__isCombineMorphing = !0),
                    (e.childrenRef = function () {
                      return s;
                    }),
                    Im(e, 'addSelfToZr', {
                      after: function (L) {
                        m(L);
                      },
                    }),
                    Im(e, 'removeSelfFromZr', {
                      after: function (L) {
                        for (var M = 0; M < s.length; M++)
                          s[M].removeSelfFromZr(L);
                      },
                    });
                  var b = s.length;
                  if (c) {
                    var w = b,
                      C = function () {
                        0 == --w && (y(), l && l());
                      };
                    for (d = 0; d < b; d++) {
                      var D = c
                        ? Ot(
                            {
                              delay: (t.delay || 0) + c(d, b, n[d], s[d]),
                              done: C,
                            },
                            t
                          )
                        : t;
                      jb(n[d], s[d], D);
                    }
                  } else
                    (e.__morphT = 0),
                      e.animateTo(
                        { __morphT: 1 },
                        Ot(
                          {
                            during: function (L) {
                              for (var M = 0; M < b; M++) {
                                var E = s[M];
                                (E.__morphT = e.__morphT), E.dirtyShape();
                              }
                              u && u(L);
                            },
                            done: function () {
                              y();
                              for (var L = 0; L < r.length; L++)
                                Sv(r[L], 'updateTransform');
                              l && l();
                            },
                          },
                          t
                        )
                      );
                  return (
                    e.__zr && m(e.__zr),
                    { fromIndividuals: n, toIndividuals: s, count: b }
                  );
                })(M, E, G)
              : (function L$(r, e, t) {
                  var n = e.length,
                    i = [],
                    a = t.dividePath || Xk;
                  if (Lm(r)) {
                    !(function o(v) {
                      for (var g = 0; g < v.length; g++) {
                        var m = v[g];
                        Lm(m)
                          ? o(m.childrenRef())
                          : m instanceof Lr && i.push(m);
                      }
                    })(r.childrenRef());
                    var s = i.length;
                    if (s < n)
                      for (var l = 0, u = s; u < n; u++) i.push(uy(i[l++ % s]));
                    i.length = n;
                  } else {
                    i = a({ path: r, count: n });
                    var c = r.getComputedTransform();
                    for (u = 0; u < i.length; u++) i[u].setLocalTransform(c);
                    if (i.length !== n)
                      return (
                        console.error(
                          'Invalid morphing: unmatched splitted path'
                        ),
                        { fromIndividuals: [], toIndividuals: [], count: 0 }
                      );
                  }
                  (i = km(i)), (e = km(e));
                  var f = t.individualDelay;
                  for (u = 0; u < n; u++) {
                    var d = f
                      ? Ot({ delay: (t.delay || 0) + f(u, n, i[u], e[u]) }, t)
                      : t;
                    jb(i[u], e[u], d);
                  }
                  return {
                    fromIndividuals: i,
                    toIndividuals: e,
                    count: e.length,
                  };
                })(E, M, G),
            K = X.fromIndividuals,
            tt = X.toIndividuals,
            ot = K.length,
            pt = 0;
          pt < ot;
          pt++
        )
          (H = s ? Ot({ delay: s(pt, ot) }, l) : l),
            a(K[pt], tt[pt], w ? M[pt] : b.one, w ? b.one : M[pt], H);
      else {
        var H,
          O = w ? M[0] : E,
          z = w ? E : M[0];
        Lm(O)
          ? f({ many: [O], one: z }, !0, C, D, !0)
          : (jb(O, z, (H = s ? Ot({ delay: s(C, D) }, l) : l)),
            a(O, z, O, z, H));
      }
    }
  }
  function $c(r) {
    if (!r) return [];
    if (Tt(r)) {
      for (var e = [], t = 0; t < r.length; t++) e.push($c(r[t]));
      return e;
    }
    var n = [];
    return (
      r.traverse(function (i) {
        i instanceof Lr &&
          !i.disableMorphing &&
          !i.invisible &&
          !i.ignore &&
          n.push(i);
      }),
      n
    );
  }
  var jk = 1e4,
    k$ = S();
  function Kk(r) {
    var e = [];
    return (
      F(r, function (t) {
        var n = t.data;
        if (n.count() > jk)
          ln('Universal transition is disabled on large data > 10k.');
        else
          for (
            var i = n.getIndices(),
              a = (function E$(r) {
                for (var e = r.dimensions, t = 0; t < e.length; t++) {
                  var n = r.getDimensionInfo(e[t]);
                  if (n && 0 === n.otherDims.itemGroupId) return e[t];
                }
              })(n),
              o = 0;
            o < i.length;
            o++
          )
            e.push({
              dataGroupId: t.dataGroupId,
              data: n,
              dim: t.dim || a,
              divide: t.divide,
              dataIndex: o,
            });
      }),
      e
    );
  }
  function Jb(r, e, t) {
    r.traverse(function (n) {
      n instanceof Lr &&
        pn(n, { style: { opacity: 0 } }, e, { dataIndex: t, isFrom: !0 });
    });
  }
  function t_(r) {
    if (r.parent) {
      var e = r.getComputedTransform();
      r.setLocalTransform(e), r.parent.remove(r);
    }
  }
  function gh(r) {
    r.stopAnimation(),
      r.isGroup &&
        r.traverse(function (e) {
          e.stopAnimation();
        });
  }
  function Qk(r, e, t) {
    var n = Kk(r),
      i = Kk(e);
    function a(b, w, C, D, L) {
      (C || b) &&
        w.animateFrom(
          { style: C && C !== b ? nt(nt({}, C.style), b.style) : b.style },
          L
        );
    }
    function o(b) {
      for (var w = 0; w < b.length; w++) if (b[w].dim) return b[w].dim;
    }
    var s = o(n),
      l = o(i),
      u = !1;
    function c(b, w) {
      return function (C) {
        var D = C.data,
          L = C.dataIndex;
        if (w) return D.getId(L);
        var M = C.dataGroupId,
          E = b ? s || l : l || s,
          O = E && D.getDimensionInfo(E),
          z = O && O.ordinalMeta;
        if (O) {
          var H = D.get(O.name, L);
          return (z && z.categories[H]) || H + '';
        }
        var G = D.getRawDataItem(L);
        return G && G.groupId ? G.groupId + '' : M || D.getId(L);
      };
    }
    var f = (function R$(r, e) {
        var t = r.length;
        if (t !== e.length) return !1;
        for (var n = 0; n < t; n++) {
          var i = r[n],
            a = e[n];
          if (i.data.getId(i.dataIndex) !== a.data.getId(a.dataIndex))
            return !1;
        }
        return !0;
      })(n, i),
      d = {};
    if (!f)
      for (var v = 0; v < i.length; v++) {
        var g = i[v],
          m = g.data.getItemGraphicEl(g.dataIndex);
        m && (d[m.id] = !0);
      }
    function y(b, w) {
      var C = n[w],
        D = i[b],
        L = D.data.hostModel,
        M = C.data.getItemGraphicEl(C.dataIndex),
        E = D.data.getItemGraphicEl(D.dataIndex);
      M !== E
        ? (M && d[M.id]) ||
          (E &&
            (gh(E),
            M
              ? (gh(M), t_(M), (u = !0), Qb($c(M), $c(E), D.divide, L, b, a))
              : Jb(E, L, b)))
        : E &&
          (function P$(r, e, t) {
            var n = Df('update', t, e);
            n &&
              r.traverse(function (i) {
                if (i instanceof sa) {
                  var a = (function vP(r) {
                    return rS(r).oldStyle;
                  })(i);
                  a && i.animateFrom({ style: a }, n);
                }
              });
          })(E, D.dataIndex, L);
    }
    new nl(n, i, c(!0, f), c(!1, f), null, 'multiple')
      .update(y)
      .updateManyToOne(function (b, w) {
        var C = i[b],
          D = C.data,
          L = D.hostModel,
          M = D.getItemGraphicEl(C.dataIndex),
          E = je(
            Ut(w, function (O) {
              return n[O].data.getItemGraphicEl(n[O].dataIndex);
            }),
            function (O) {
              return O && O !== M && !d[O.id];
            }
          );
        M &&
          (gh(M),
          E.length
            ? (F(E, function (O) {
                gh(O), t_(O);
              }),
              (u = !0),
              Qb($c(E), $c(M), C.divide, L, b, a))
            : Jb(M, L, C.dataIndex));
      })
      .updateOneToMany(function (b, w) {
        var C = n[w],
          D = C.data.getItemGraphicEl(C.dataIndex);
        if (!D || !d[D.id]) {
          var L = je(
              Ut(b, function (E) {
                return i[E].data.getItemGraphicEl(i[E].dataIndex);
              }),
              function (E) {
                return E && E !== D;
              }
            ),
            M = i[b[0]].data.hostModel;
          L.length &&
            (F(L, function (E) {
              return gh(E);
            }),
            D
              ? (gh(D), t_(D), (u = !0), Qb($c(D), $c(L), C.divide, M, b[0], a))
              : F(L, function (E) {
                  return Jb(E, M, b[0]);
                }));
        }
      })
      .updateManyToMany(function (b, w) {
        new nl(
          w,
          b,
          function (C) {
            return n[C].data.getId(n[C].dataIndex);
          },
          function (C) {
            return i[C].data.getId(i[C].dataIndex);
          }
        )
          .update(function (C, D) {
            y(b[C], w[D]);
          })
          .execute();
      })
      .execute(),
      u &&
        F(e, function (b) {
          var C = b.data.hostModel,
            D = C && t.getViewOfSeriesModel(C),
            L = Df('update', C, 0);
          D &&
            C.isAnimationEnabled() &&
            L &&
            L.duration > 0 &&
            D.group.traverse(function (M) {
              M instanceof Lr &&
                !M.animators.length &&
                M.animateFrom({ style: { opacity: 0 } }, L);
            });
        });
  }
  function Jk(r) {
    return r.getModel('universalTransition').get('seriesKey') || r.id;
  }
  function tE(r) {
    return Tt(r) ? r.sort().join(',') : r;
  }
  function fu(r) {
    if (r.hostModel)
      return r.hostModel.getModel('universalTransition').get('divideShape');
  }
  function eE(r, e) {
    for (var t = 0; t < r.length; t++)
      if (
        (null != e.seriesIndex && e.seriesIndex === r[t].seriesIndex) ||
        (null != e.seriesId && e.seriesId === r[t].id)
      )
        return t;
  }
  _r([
    function jN(r) {
      r.registerPainter('canvas', qN);
    },
  ]),
    _r([
      function UN(r) {
        r.registerPainter('svg', WN);
      },
    ]),
    _r([
      function g3(r) {
        r.registerChartView(d3),
          r.registerSeriesModel(KN),
          r.registerLayout(Ud('line', !0)),
          r.registerVisual({
            seriesType: 'line',
            reset: function (e) {
              var t = e.getData(),
                n = e.getModel('lineStyle').getLineStyle();
              n && !n.stroke && (n.stroke = t.getVisual('style').fill),
                t.setVisual('legendLineStyle', n);
            },
          }),
          r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC, OT('line'));
      },
      function k3(r) {
        r.registerChartView(S3),
          r.registerSeriesModel(m3),
          r.registerLayout(r.PRIORITY.VISUAL.LAYOUT, me(hD, 'bar')),
          r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT, dD('bar')),
          r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC, OT('bar')),
          r.registerAction(
            {
              type: 'changeAxisOrder',
              event: 'changeAxisOrder',
              update: 'update',
            },
            function (e, t) {
              t.eachComponent(
                { mainType: e.componentType || 'series', query: e },
                function (i) {
                  e.sortInfo && i.axis.setCategorySortInfo(e.sortInfo);
                }
              );
            }
          );
      },
      function H3(r) {
        r.registerChartView(B3),
          r.registerSeriesModel(z3),
          aC('pie', r.registerAction),
          r.registerLayout(me(E3, 'pie')),
          r.registerProcessor(Xd('pie')),
          r.registerProcessor(
            (function V3(r) {
              return {
                seriesType: r,
                reset: function (e, t) {
                  var n = e.getData();
                  n.filterSelf(function (i) {
                    var a = n.mapDimension('value'),
                      o = n.get(a, i);
                    return !(U(o) && !isNaN(o) && o < 0);
                  });
                },
              };
            })('pie')
          );
      },
      function b5(r) {
        _r(mA),
          r.registerSeriesModel(G3),
          r.registerChartView(Y3),
          r.registerLayout(Ud('scatter'));
      },
      function k5(r) {
        _r(I5),
          r.registerChartView(w5),
          r.registerSeriesModel(C5),
          r.registerLayout(_5),
          r.registerProcessor(Xd('radar')),
          r.registerPreprocessor(S5);
      },
      function mz(r) {
        _r(KA),
          r.registerChartView(oz),
          r.registerSeriesModel(sz),
          r.registerLayout(cz),
          r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC, uz),
          aC('map', r.registerAction);
      },
      function Uz(r) {
        r.registerChartView(Lz),
          r.registerSeriesModel(zz),
          r.registerLayout(Hz),
          r.registerVisual(Wz),
          (function $z(r) {
            r.registerAction(
              {
                type: 'treeExpandAndCollapse',
                event: 'treeExpandAndCollapse',
                update: 'update',
              },
              function (e, t) {
                t.eachComponent(
                  { mainType: 'series', subType: 'tree', query: e },
                  function (n) {
                    var i = e.dataIndex,
                      o = n.getData().tree.getNodeByDataIndex(i);
                    o.isExpand = !o.isExpand;
                  }
                );
              }
            ),
              r.registerAction(
                { type: 'treeRoam', event: 'treeRoam', update: 'none' },
                function (e, t, n) {
                  t.eachComponent(
                    { mainType: 'series', subType: 'tree', query: e },
                    function (i) {
                      var o = O1(i.coordinateSystem, e, void 0, n);
                      i.setCenter && i.setCenter(o.center),
                        i.setZoom && i.setZoom(o.zoom);
                    }
                  );
                }
              );
          })(r);
      },
      function MV(r) {
        r.registerSeriesModel(Xz),
          r.registerChartView(iV),
          r.registerVisual(hV),
          r.registerLayout(bV),
          (function Yz(r) {
            for (var e = 0; e < sM.length; e++)
              r.registerAction({ type: sM[e], update: 'updateView' }, Ke);
            r.registerAction(
              { type: 'treemapRootToNode', update: 'updateView' },
              function (t, n) {
                n.eachComponent(
                  { mainType: 'series', subType: 'treemap', query: t },
                  function i(a, o) {
                    var l = ev(
                      t,
                      ['treemapZoomToNode', 'treemapRootToNode'],
                      a
                    );
                    if (l) {
                      var u = a.getViewRoot();
                      u &&
                        (t.direction = H1(u, l.node) ? 'rollUp' : 'drillDown'),
                        a.resetViewRoot(l.node);
                    }
                  }
                );
              }
            );
          })(r);
      },
      function jV(r) {
        r.registerChartView(YV),
          r.registerSeriesModel(ZV),
          r.registerProcessor(LV),
          r.registerVisual(IV),
          r.registerVisual(kV),
          r.registerLayout(FV),
          r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT, NV),
          r.registerLayout(VV),
          r.registerCoordinateSystem('graphView', {
            dimensions: Jd.dimensions,
            create: GV,
          }),
          r.registerAction(
            {
              type: 'focusNodeAdjacency',
              event: 'focusNodeAdjacency',
              update: 'series:focusNodeAdjacency',
            },
            Ke
          ),
          r.registerAction(
            {
              type: 'unfocusNodeAdjacency',
              event: 'unfocusNodeAdjacency',
              update: 'series:unfocusNodeAdjacency',
            },
            Ke
          ),
          r.registerAction(qV, function (e, t, n) {
            t.eachComponent({ mainType: 'series', query: e }, function (i) {
              var o = O1(i.coordinateSystem, e, void 0, n);
              i.setCenter && i.setCenter(o.center),
                i.setZoom && i.setZoom(o.zoom);
            });
          });
      },
      function rH(r) {
        r.registerChartView(tH), r.registerSeriesModel(eH);
      },
      function fH(r) {
        r.registerChartView(aH),
          r.registerSeriesModel(oH),
          r.registerLayout(cH),
          r.registerProcessor(Xd('funnel'));
      },
      function aG(r) {
        _r(y2),
          r.registerChartView(dH),
          r.registerSeriesModel(gH),
          r.registerVisual(r.PRIORITY.VISUAL.BRUSH, bH);
      },
      function IG(r) {
        r.registerChartView(lG),
          r.registerSeriesModel(cG),
          r.registerLayout(fG),
          r.registerVisual(LG),
          r.registerAction(
            { type: 'dragNode', event: 'dragnode', update: 'update' },
            function (e, t) {
              t.eachComponent(
                { mainType: 'series', subType: 'sankey', query: e },
                function (n) {
                  n.setNodePosition(e.dataIndex, [e.localX, e.localY]);
                }
              );
            }
          );
      },
      function HG(r) {
        r.registerSeriesModel(S2),
          r.registerChartView(kG),
          r.registerLayout(OG),
          r.registerTransform(VG);
      },
      function n4(r) {
        r.registerChartView(WG),
          r.registerSeriesModel(A2),
          r.registerPreprocessor(ZG),
          r.registerVisual(t4),
          r.registerLayout(e4);
      },
      function s4(r) {
        r.registerChartView(a4),
          r.registerSeriesModel(o4),
          r.registerLayout(Ud('effectScatter'));
      },
      function m4(r) {
        r.registerChartView(h4),
          r.registerSeriesModel(p4),
          r.registerLayout(E2),
          r.registerVisual(g4);
      },
      function C4(r) {
        r.registerChartView(S4), r.registerSeriesModel(w4);
      },
      function O4(r) {
        r.registerChartView(T4),
          r.registerSeriesModel(R4),
          r.registerLayout(r.PRIORITY.VISUAL.LAYOUT, me(hD, 'pictorialBar')),
          r.registerLayout(
            r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,
            dD('pictorialBar')
          );
      },
      function H4(r) {
        r.registerChartView(F4),
          r.registerSeriesModel(N4),
          r.registerLayout(z4),
          r.registerProcessor(Xd('themeRiver'));
      },
      function K4(r) {
        r.registerChartView(Y4),
          r.registerSeriesModel(X4),
          r.registerLayout(me(Z4, 'sunburst')),
          r.registerProcessor(me(Xd, 'sunburst')),
          r.registerVisual(j4),
          (function U4(r) {
            r.registerAction(
              { type: Hx, update: 'updateView' },
              function (e, t) {
                t.eachComponent(
                  { mainType: 'series', subType: 'sunburst', query: e },
                  function n(i, a) {
                    var o = ev(e, [Hx], i);
                    if (o) {
                      var s = i.getViewRoot();
                      s &&
                        (e.direction = H1(s, o.node) ? 'rollUp' : 'drillDown'),
                        i.resetViewRoot(o.node);
                    }
                  }
                );
              }
            ),
              r.registerAction(
                { type: j2, update: 'none' },
                function (e, t, n) {
                  (e = nt({}, e)),
                    t.eachComponent(
                      { mainType: 'series', subType: 'sunburst', query: e },
                      function i(a) {
                        var o = ev(e, [j2], a);
                        o && (e.dataIndex = o.node.dataIndex);
                      }
                    ),
                    un('sunburstHighlight', 'highlight'),
                    n.dispatchAction(nt(e, { type: 'highlight' }));
                }
              ),
              r.registerAction(
                { type: 'sunburstUnhighlight', update: 'updateView' },
                function (e, t, n) {
                  (e = nt({}, e)),
                    un('sunburstUnhighlight', 'downplay'),
                    n.dispatchAction(nt(e, { type: 'downplay' }));
                }
              );
          })(r);
      },
      function PW(r) {
        r.registerChartView(SW), r.registerSeriesModel(J4);
      },
    ]),
    _r(function QW(r) {
      _r(mA), _r(dv);
    }),
    _r(function C8(r) {
      _r(dv),
        Ec.registerAxisPointerClass('PolarAxisPointer', JW),
        r.registerCoordinateSystem('polar', c8),
        r.registerComponentModel(r8),
        r.registerComponentView(w8),
        Jf(r, 'angle', n8, _8),
        Jf(r, 'radius', i8, S8),
        r.registerComponentView(h8),
        r.registerComponentView(g8),
        r.registerLayout(me(x8, 'bar'));
    }),
    _r(KA),
    _r(function B8(r) {
      _r(dv),
        Ec.registerAxisPointerClass('SingleAxisPointer', R8),
        r.registerComponentView(F8),
        r.registerComponentView(A8),
        r.registerComponentModel(hm),
        Jf(r, 'single', hm, hm.defaultOption),
        r.registerCoordinateSystem('single', E8);
    }),
    _r(y2),
    _r(function H8(r) {
      r.registerComponentModel(N8),
        r.registerComponentView(z8),
        r.registerCoordinateSystem('calendar', V8);
    }),
    _r(function j8(r) {
      r.registerComponentModel(Y8),
        r.registerComponentView(X8),
        r.registerPreprocessor(function (e) {
          var t = e.graphic;
          Tt(t)
            ? (e.graphic =
                t[0] && t[0].elements ? [e.graphic[0]] : [{ elements: t }])
            : t && !t.elements && (e.graphic = [{ elements: [t] }]);
        });
    }),
    _r(function B9(r) {
      r.registerComponentModel(s9),
        r.registerComponentView(u9),
        ch('saveAsImage', f9),
        ch('magicType', d9),
        ch('dataView', S9),
        ch('dataZoom', P9),
        ch('restore', M9),
        _r(o9);
    }),
    _r(function r6(r) {
      _r(dv),
        r.registerComponentModel(N9),
        r.registerComponentView(K9),
        r.registerAction(
          {
            type: 'showTip',
            event: 'showTip',
            update: 'tooltip:manuallyShowTip',
          },
          Ke
        ),
        r.registerAction(
          {
            type: 'hideTip',
            event: 'hideTip',
            update: 'tooltip:manuallyHideTip',
          },
          Ke
        );
    }),
    _r(dv),
    _r(function x6(r) {
      r.registerComponentView(v6),
        r.registerComponentModel(g6),
        r.registerPreprocessor(i6),
        r.registerVisual(r.PRIORITY.VISUAL.BRUSH, u6),
        r.registerAction(
          { type: 'brush', event: 'brush', update: 'updateVisual' },
          function (e, t) {
            t.eachComponent({ mainType: 'brush', query: e }, function (n) {
              n.setAreas(e.areas);
            });
          }
        ),
        r.registerAction(
          { type: 'brushSelect', event: 'brushSelected', update: 'none' },
          Ke
        ),
        r.registerAction(
          { type: 'brushEnd', event: 'brushEnd', update: 'none' },
          Ke
        ),
        ch('brush', y6);
    }),
    _r(function S6(r) {
      r.registerComponentModel(b6), r.registerComponentView(_6);
    }),
    _r(function E6(r) {
      r.registerComponentModel(UI),
        r.registerComponentView(D6),
        r.registerSubTypeDefaulter('timeline', function () {
          return 'slider';
        }),
        (function L6(r) {
          r.registerAction(
            {
              type: 'timelineChange',
              event: 'timelineChanged',
              update: 'prepareAndUpdate',
            },
            function (e, t, n) {
              var i = t.getComponent('timeline');
              return (
                i &&
                  null != e.currentIndex &&
                  (i.setCurrentIndex(e.currentIndex),
                  !i.get('loop', !0) &&
                    i.isIndexMax() &&
                    i.getPlayState() &&
                    (i.setPlayState(!1),
                    n.dispatchAction({
                      type: 'timelinePlayChange',
                      playState: !1,
                      from: e.from,
                    }))),
                t.resetOption('timeline', {
                  replaceMerge: i.get('replaceMerge', !0),
                }),
                Ot({ currentIndex: i.option.currentIndex }, e)
              );
            }
          ),
            r.registerAction(
              {
                type: 'timelinePlayChange',
                event: 'timelinePlayChanged',
                update: 'update',
              },
              function (e, t) {
                var n = t.getComponent('timeline');
                n && null != e.playState && n.setPlayState(e.playState);
              }
            );
        })(r),
        r.registerPreprocessor(I6);
    }),
    _r(function z6(r) {
      r.registerComponentModel(P6),
        r.registerComponentView(B6),
        r.registerPreprocessor(function (e) {
          Mb(e.series, 'markPoint') && (e.markPoint = e.markPoint || {});
        });
    }),
    _r(function U6(r) {
      r.registerComponentModel(V6),
        r.registerComponentView(W6),
        r.registerPreprocessor(function (e) {
          Mb(e.series, 'markLine') && (e.markLine = e.markLine || {});
        });
    }),
    _r(function K6(r) {
      r.registerComponentModel(Y6),
        r.registerComponentView(q6),
        r.registerPreprocessor(function (e) {
          Mb(e.series, 'markArea') && (e.markArea = e.markArea || {});
        });
    }),
    _r(function s7(r) {
      _r(ok), _r(o7);
    }),
    _r(function D7(r) {
      _r(fk), _r(pk);
    }),
    _r(fk),
    _r(pk),
    _r(function U7(r) {
      _r(kk), _r(Pk);
    }),
    _r(kk),
    _r(Pk),
    _r(function j7(r) {
      r.registerPreprocessor(q7), r.registerVisual(r.PRIORITY.VISUAL.ARIA, Z7);
    }),
    _r(function u$(r) {
      r.registerTransform(s$), r.registerTransform(l$);
    }),
    _r(function h$(r) {
      r.registerComponentModel(c$), r.registerComponentView(f$);
    }),
    _r(function B$(r) {
      r.registerUpdateLifecycle('series:beforeupdate', function (e, t, n) {
        F(qr(n.seriesTransition), function (i) {
          F(qr(i.to), function (a) {
            for (var o = n.updatedSeries, s = 0; s < o.length; s++)
              ((null != a.seriesIndex && a.seriesIndex === o[s].seriesIndex) ||
                (null != a.seriesId && a.seriesId === o[s].id)) &&
                (o[s][Up] = !0);
          });
        });
      }),
        r.registerUpdateLifecycle('series:transition', function (e, t, n) {
          var i = k$(t);
          if (i.oldSeries && n.updatedSeries && n.optionChanged) {
            var a = n.seriesTransition;
            if (a)
              F(qr(a), function (v) {
                !(function F$(r, e, t, n) {
                  var i = [],
                    a = [];
                  F(qr(r.from), function (o) {
                    var s = eE(e.oldSeries, o);
                    s >= 0 &&
                      i.push({
                        dataGroupId: e.oldDataGroupIds[s],
                        data: e.oldData[s],
                        divide: fu(e.oldData[s]),
                        dim: o.dimension,
                      });
                  }),
                    F(qr(r.to), function (o) {
                      var s = eE(t.updatedSeries, o);
                      if (s >= 0) {
                        var l = t.updatedSeries[s].getData();
                        a.push({
                          dataGroupId: e.oldDataGroupIds[s],
                          data: l,
                          divide: fu(l),
                          dim: o.dimension,
                        });
                      }
                    }),
                    i.length > 0 && a.length > 0 && Qk(i, a, n);
                })(v, i, n, t);
              });
            else {
              var o = (function O$(r, e) {
                var t = Nt(),
                  n = Nt(),
                  i = Nt();
                function a(o) {
                  t.get(o) &&
                    ln('Duplicated seriesKey in universalTransition ' + o);
                }
                return (
                  F(r.oldSeries, function (o, s) {
                    var l = r.oldDataGroupIds[s],
                      u = r.oldData[s],
                      c = Jk(o),
                      f = tE(c);
                    n.set(f, { dataGroupId: l, data: u }),
                      Tt(c) &&
                        F(c, function (d) {
                          i.set(d, { key: f, dataGroupId: l, data: u });
                        });
                  }),
                  F(e.updatedSeries, function (o) {
                    if (
                      o.isUniversalTransitionEnabled() &&
                      o.isAnimationEnabled()
                    ) {
                      var s = o.get('dataGroupId'),
                        l = o.getData(),
                        u = Jk(o),
                        c = tE(u),
                        f = n.get(c);
                      if (f)
                        a(c),
                          t.set(c, {
                            oldSeries: [
                              {
                                dataGroupId: f.dataGroupId,
                                divide: fu(f.data),
                                data: f.data,
                              },
                            ],
                            newSeries: [
                              { dataGroupId: s, divide: fu(l), data: l },
                            ],
                          });
                      else if (Tt(u)) {
                        a(c);
                        var d = [];
                        F(u, function (m) {
                          var y = n.get(m);
                          y.data &&
                            d.push({
                              dataGroupId: y.dataGroupId,
                              divide: fu(y.data),
                              data: y.data,
                            });
                        }),
                          d.length &&
                            t.set(c, {
                              oldSeries: d,
                              newSeries: [
                                { dataGroupId: s, data: l, divide: fu(l) },
                              ],
                            });
                      } else {
                        var v = i.get(u);
                        if (v) {
                          var g = t.get(v.key);
                          g ||
                            ((g = {
                              oldSeries: [
                                {
                                  dataGroupId: v.dataGroupId,
                                  data: v.data,
                                  divide: fu(v.data),
                                },
                              ],
                              newSeries: [],
                            }),
                            t.set(v.key, g)),
                            g.newSeries.push({
                              dataGroupId: s,
                              data: l,
                              divide: fu(l),
                            });
                        }
                      }
                    }
                  }),
                  t
                );
              })(i, n);
              F(o.keys(), function (v) {
                var g = o.get(v);
                Qk(g.oldSeries, g.newSeries, t);
              });
            }
            F(n.updatedSeries, function (v) {
              v[Up] && (v[Up] = !1);
            });
          }
          for (
            var s = e.getSeries(),
              l = (i.oldSeries = []),
              u = (i.oldDataGroupIds = []),
              c = (i.oldData = []),
              f = 0;
            f < s.length;
            f++
          ) {
            var d = s[f].getData();
            d.count() < jk &&
              (l.push(s[f]), u.push(s[f].get('dataGroupId')), c.push(d));
          }
        });
    }),
    _r(function dN(r) {
      r.registerUpdateLifecycle('series:beforeupdate', function (e, t, n) {
        var i = K0(t).labelManager;
        i || (i = K0(t).labelManager = new hN()), i.clearLabels();
      }),
        r.registerUpdateLifecycle('series:layoutlabels', function (e, t, n) {
          var i = K0(t).labelManager;
          n.updatedSeries.forEach(function (a) {
            i.addLabelsOfSeries(t.getViewOfSeriesModel(a));
          }),
            i.updateLayoutConfig(t),
            i.layout(t),
            i.processLabelsOverall();
        });
    }),
    (ue.Axis = lo),
    (ue.ChartView = en),
    (ue.ComponentModel = br),
    (ue.ComponentView = fn),
    (ue.List = Zi),
    (ue.Model = Yr),
    (ue.PRIORITY = AC),
    (ue.SeriesModel = nn),
    (ue.color = wl),
    (ue.connect = function _F(r) {
      if (Tt(r)) {
        var e = r;
        (r = null),
          F(e, function (t) {
            null != t.group && (r = t.group);
          }),
          (r = r || 'g_' + xF++),
          F(e, function (t) {
            t.group = r;
          });
      }
      return (lg[r] = !0), r;
    }),
    (ue.dataTool = {}),
    (ue.dependencies = { zrender: '5.4.4' }),
    (ue.disConnect = SF),
    (ue.disconnect = GC),
    (ue.dispose = function wF(r) {
      ht(r) ? (r = bc[r]) : r instanceof ag || (r = D0(r)),
        r instanceof ag && !r.isDisposed() && r.dispose();
    }),
    (ue.env = Lt),
    (ue.extendChartView = function tN(r) {
      var e = en.extend(r);
      return en.registerClass(e), e;
    }),
    (ue.extendComponentModel = function KB(r) {
      var e = br.extend(r);
      return br.registerClass(e), e;
    }),
    (ue.extendComponentView = function QB(r) {
      var e = fn.extend(r);
      return fn.registerClass(e), e;
    }),
    (ue.extendSeriesModel = function JB(r) {
      var e = nn.extend(r);
      return nn.registerClass(e), e;
    }),
    (ue.format = VB),
    (ue.getCoordinateSystemDimensions = function DF(r) {
      var e = hc.get(r);
      if (e)
        return e.getDimensionsInfo
          ? e.getDimensionsInfo()
          : e.dimensions.slice();
    }),
    (ue.getInstanceByDom = D0),
    (ue.getInstanceById = function CF(r) {
      return bc[r];
    }),
    (ue.getMap = function AF(r) {
      var e = wC('getMap');
      return e && e(r);
    }),
    (ue.graphic = zB),
    (ue.helper = kB),
    (ue.init = function bF(r, e, t) {
      var n = !(t && t.ssr);
      if (n) {
        if (!r) throw new Error('Initialize failed: invalid dom.');
        var i = D0(r);
        if (i)
          return (
            ln('There is a chart instance already initialized on the dom.'), i
          );
        At(r) &&
          'CANVAS' !== r.nodeName.toUpperCase() &&
          ((!r.clientWidth && (!t || null == t.width)) ||
            (!r.clientHeight && (!t || null == t.height))) &&
          ln(
            "Can't get DOM width or height. Please check dom.clientWidth and dom.clientHeight. They should not be 0.For example, you may need to call this in the callback of window.onload."
          );
      }
      var a = new ag(r, e, t);
      return (
        (a.id = 'ec_' + yF++),
        (bc[a.id] = a),
        n && j(r, C0, a.id),
        zC(a),
        Fo.trigger('afterinit', a),
        a
      );
    }),
    (ue.innerDrawElementOnCanvas = c0),
    (ue.matrix = bi),
    (ue.number = BB),
    (ue.parseGeoJSON = X0),
    (ue.parseGeoJson = X0),
    (ue.registerAction = Bo),
    (ue.registerCoordinateSystem = UC),
    (ue.registerLayout = YC),
    (ue.registerLoading = I0),
    (ue.registerLocale = wy),
    (ue.registerMap = ZC),
    (ue.registerPostInit = WC),
    (ue.registerPostUpdate = $C),
    (ue.registerPreprocessor = A0),
    (ue.registerProcessor = M0),
    (ue.registerTheme = T0),
    (ue.registerTransform = qC),
    (ue.registerUpdateLifecycle = ug),
    (ue.registerVisual = Jl),
    (ue.setCanvasCreator = function TF(r) {
      oa(
        'setCanvasCreator is deprecated. Use setPlatformAPI({ createCanvas }) instead.'
      ),
        he({ createCanvas: r });
    }),
    (ue.setPlatformAPI = he),
    (ue.throttle = Xp),
    (ue.time = NB),
    (ue.use = _r),
    (ue.util = HB),
    (ue.vector = Kr),
    (ue.version = '5.4.3'),
    (ue.zrUtil = ti),
    (ue.zrender = es),
    Object.defineProperty(ue, '__esModule', { value: !0 });
}),
  (function (ue, or) {
    'object' == typeof exports && 'object' == typeof module
      ? (module.exports = or(require('echarts')))
      : 'function' == typeof define && define.amd
      ? define(['echarts'], or)
      : 'object' == typeof exports
      ? (exports['echarts-wordcloud'] = or(require('echarts')))
      : (ue['echarts-wordcloud'] = or(ue.echarts));
  })(self, function (ue) {
    return (() => {
      'use strict';
      var or = {
          638: (oe, Lt, yt) => {
            yt.r(Lt);
            var Dt = yt(83);
            Dt.extendSeriesModel({
              type: 'series.wordCloud',
              visualStyleAccessPath: 'textStyle',
              visualStyleMapper: function (wt) {
                return { fill: wt.get('color') };
              },
              visualDrawType: 'fill',
              optionUpdated: function () {
                var wt = this.option;
                wt.gridSize = Math.max(Math.floor(wt.gridSize), 4);
              },
              getInitialData: function (wt, Zt) {
                var he = Dt.helper.createDimensions(wt.data, {
                    coordDimensions: ['value'],
                  }),
                  _t = new Dt.List(he, this);
                return _t.initData(wt.data), _t;
              },
              defaultOption: {
                maskImage: null,
                shape: 'circle',
                keepAspect: !1,
                left: 'center',
                top: 'center',
                width: '70%',
                height: '80%',
                sizeRange: [12, 60],
                rotationRange: [-90, 90],
                rotationStep: 45,
                gridSize: 8,
                drawOutOfBound: !1,
                shrinkToFit: !1,
                textStyle: { fontWeight: 'normal' },
              },
            }),
              Dt.extendChartView({
                type: 'wordCloud',
                render: function (wt, Zt, he) {
                  var _t = this.group;
                  _t.removeAll();
                  var zt = wt.getData(),
                    Bt = wt.get('gridSize');
                  (wt.layoutInstance.ondraw = function (ee, ne, Kt, ie) {
                    var Le = zt.getItemModel(Kt),
                      Pe = Le.getModel('textStyle'),
                      Re = new Dt.graphic.Text({
                        style: Dt.helper.createTextStyle(Pe),
                        scaleX: 1 / ie.info.mu,
                        scaleY: 1 / ie.info.mu,
                        x: (ie.gx + ie.info.gw / 2) * Bt,
                        y: (ie.gy + ie.info.gh / 2) * Bt,
                        rotation: ie.rot,
                      });
                    Re.setStyle({
                      x: ie.info.fillTextOffsetX,
                      y: ie.info.fillTextOffsetY + 0.5 * ne,
                      text: ee,
                      verticalAlign: 'middle',
                      fill: zt.getItemVisual(Kt, 'style').fill,
                      fontSize: ne,
                    }),
                      _t.add(Re),
                      zt.setItemGraphicEl(Kt, Re),
                      (Re.ensureState('emphasis').style =
                        Dt.helper.createTextStyle(
                          Le.getModel(['emphasis', 'textStyle']),
                          { state: 'emphasis' }
                        )),
                      (Re.ensureState('blur').style = Dt.helper.createTextStyle(
                        Le.getModel(['blur', 'textStyle']),
                        { state: 'blur' }
                      )),
                      Dt.helper.enableHoverEmphasis(
                        Re,
                        Le.get(['emphasis', 'focus']),
                        Le.get(['emphasis', 'blurScope'])
                      ),
                      (Re.stateTransition = {
                        duration: wt.get('animation')
                          ? wt.get(['stateAnimation', 'duration'])
                          : 0,
                        easing: wt.get(['stateAnimation', 'easing']),
                      }),
                      (Re.__highDownDispatcher = !0);
                  }),
                    (this._model = wt);
                },
                remove: function () {
                  this.group.removeAll(), this._model.layoutInstance.dispose();
                },
                dispose: function () {
                  this._model.layoutInstance.dispose();
                },
              }),
              window.setImmediate ||
                (window.setImmediate =
                  window.msSetImmediate ||
                  window.webkitSetImmediate ||
                  window.mozSetImmediate ||
                  window.oSetImmediate ||
                  (function () {
                    if (!window.postMessage || !window.addEventListener)
                      return null;
                    var wt = [void 0],
                      Zt = 'zero-timeout-message';
                    return (
                      window.addEventListener(
                        'message',
                        function (he) {
                          if (
                            'string' == typeof he.data &&
                            he.data.substr(0, 20) === Zt
                          ) {
                            he.stopImmediatePropagation();
                            var _t = parseInt(he.data.substr(20), 36);
                            wt[_t] && (wt[_t](), (wt[_t] = void 0));
                          }
                        },
                        !0
                      ),
                      (window.clearImmediate = function (he) {
                        wt[he] && (wt[he] = void 0);
                      }),
                      function (he) {
                        var _t = wt.length;
                        return (
                          wt.push(he),
                          window.postMessage(Zt + _t.toString(36), '*'),
                          _t
                        );
                      }
                    );
                  })() ||
                  function (wt) {
                    window.setTimeout(wt, 0);
                  }),
              window.clearImmediate ||
                (window.clearImmediate =
                  window.msClearImmediate ||
                  window.webkitClearImmediate ||
                  window.mozClearImmediate ||
                  window.oClearImmediate ||
                  function (wt) {
                    window.clearTimeout(wt);
                  });
            var bt = (function () {
                var wt = document.createElement('canvas');
                if (!wt || !wt.getContext) return !1;
                var Zt = wt.getContext('2d');
                return !!(
                  Zt &&
                  Zt.getImageData &&
                  Zt.fillText &&
                  Array.prototype.some &&
                  Array.prototype.push
                );
              })(),
              ct = (function () {
                if (bt) {
                  for (
                    var wt,
                      Zt,
                      he = document.createElement('canvas').getContext('2d'),
                      _t = 20;
                    _t;

                  ) {
                    if (
                      ((he.font = _t.toString(10) + 'px sans-serif'),
                      he.measureText('\uff37').width === wt &&
                        he.measureText('m').width === Zt)
                    )
                      return _t + 1;
                    (wt = he.measureText('\uff37').width),
                      (Zt = he.measureText('m').width),
                      _t--;
                  }
                  return 0;
                }
              })(),
              ve = function (wt) {
                for (var Zt, he, _t = wt.length; _t; )
                  (Zt = Math.floor(Math.random() * _t)),
                    (he = wt[--_t]),
                    (wt[_t] = wt[Zt]),
                    (wt[Zt] = he);
                return wt;
              },
              Qt = {},
              jt = function (wt, Zt) {
                if (bt) {
                  var he = Math.floor(Math.random() * Date.now());
                  Array.isArray(wt) || (wt = [wt]),
                    wt.forEach(function (Ie, kt) {
                      if ('string' == typeof Ie) {
                        if (((wt[kt] = document.getElementById(Ie)), !wt[kt]))
                          throw new Error(
                            'The element id specified is not found.'
                          );
                      } else if (!Ie.tagName && !Ie.appendChild) throw new Error('You must pass valid HTML elements, or ID of the element.');
                    });
                  var _t = {
                    list: [],
                    fontFamily:
                      '"Trebuchet MS", "Heiti TC", "\u5fae\u8edf\u6b63\u9ed1\u9ad4", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',
                    fontWeight: 'normal',
                    color: 'random-dark',
                    minSize: 0,
                    weightFactor: 1,
                    clearCanvas: !0,
                    backgroundColor: '#fff',
                    gridSize: 8,
                    drawOutOfBound: !1,
                    shrinkToFit: !1,
                    origin: null,
                    drawMask: !1,
                    maskColor: 'rgba(255,0,0,0.3)',
                    maskGapWidth: 0.3,
                    layoutAnimation: !0,
                    wait: 0,
                    abortThreshold: 0,
                    abort: function () {},
                    minRotation: -Math.PI / 2,
                    maxRotation: Math.PI / 2,
                    rotationStep: 0.1,
                    shuffle: !0,
                    rotateRatio: 0.1,
                    shape: 'circle',
                    ellipticity: 0.65,
                    classes: null,
                    hover: null,
                    click: null,
                  };
                  if (Zt) for (var zt in Zt) zt in _t && (_t[zt] = Zt[zt]);
                  if ('function' != typeof _t.weightFactor) {
                    var Bt = _t.weightFactor;
                    _t.weightFactor = function (Ie) {
                      return Ie * Bt;
                    };
                  }
                  if ('function' != typeof _t.shape)
                    switch (_t.shape) {
                      case 'circle':
                      default:
                        _t.shape = 'circle';
                        break;
                      case 'cardioid':
                        _t.shape = function (Ie) {
                          return 1 - Math.sin(Ie);
                        };
                        break;
                      case 'diamond':
                        _t.shape = function (Ie) {
                          var kt = Ie % ((2 * Math.PI) / 4);
                          return 1 / (Math.cos(kt) + Math.sin(kt));
                        };
                        break;
                      case 'square':
                        _t.shape = function (Ie) {
                          return Math.min(
                            1 / Math.abs(Math.cos(Ie)),
                            1 / Math.abs(Math.sin(Ie))
                          );
                        };
                        break;
                      case 'triangle-forward':
                        _t.shape = function (Ie) {
                          var kt = Ie % ((2 * Math.PI) / 3);
                          return (
                            1 / (Math.cos(kt) + Math.sqrt(3) * Math.sin(kt))
                          );
                        };
                        break;
                      case 'triangle':
                      case 'triangle-upright':
                        _t.shape = function (Ie) {
                          var kt =
                            (Ie + (3 * Math.PI) / 2) % ((2 * Math.PI) / 3);
                          return (
                            1 / (Math.cos(kt) + Math.sqrt(3) * Math.sin(kt))
                          );
                        };
                        break;
                      case 'pentagon':
                        _t.shape = function (Ie) {
                          var kt = (Ie + 0.955) % ((2 * Math.PI) / 5);
                          return 1 / (Math.cos(kt) + 0.726543 * Math.sin(kt));
                        };
                        break;
                      case 'star':
                        _t.shape = function (Ie) {
                          var kt = (Ie + 0.955) % ((2 * Math.PI) / 10);
                          return ((Ie + 0.955) % ((2 * Math.PI) / 5)) -
                            (2 * Math.PI) / 10 >=
                            0
                            ? 1 /
                                (Math.cos((2 * Math.PI) / 10 - kt) +
                                  3.07768 * Math.sin((2 * Math.PI) / 10 - kt))
                            : 1 / (Math.cos(kt) + 3.07768 * Math.sin(kt));
                        };
                    }
                  _t.gridSize = Math.max(Math.floor(_t.gridSize), 4);
                  var ee,
                    ne,
                    Kt,
                    ie,
                    Le,
                    Pe,
                    Re,
                    qe,
                    Ae = _t.gridSize,
                    ir = Ae - _t.maskGapWidth,
                    He = Math.abs(_t.maxRotation - _t.minRotation),
                    ft = Math.min(_t.maxRotation, _t.minRotation),
                    Gt = _t.rotationStep;
                  switch (_t.color) {
                    case 'random-dark':
                      Re = function () {
                        return Ne(10, 50);
                      };
                      break;
                    case 'random-light':
                      Re = function () {
                        return Ne(50, 90);
                      };
                      break;
                    default:
                      'function' == typeof _t.color && (Re = _t.color);
                  }
                  'function' == typeof _t.fontWeight && (qe = _t.fontWeight);
                  var Ht = null;
                  'function' == typeof _t.classes && (Ht = _t.classes);
                  var nt,
                    Ot = !1,
                    st = [],
                    $ = function (Ie) {
                      var kt,
                        me,
                        Tt = Ie.currentTarget,
                        fe = Tt.getBoundingClientRect();
                      Ie.touches
                        ? ((kt = Ie.touches[0].clientX),
                          (me = Ie.touches[0].clientY))
                        : ((kt = Ie.clientX), (me = Ie.clientY));
                      var It = me - fe.top,
                        U = Math.floor(
                          ((kt - fe.left) * (Tt.width / fe.width || 1)) / Ae
                        ),
                        Y = Math.floor(
                          (It * (Tt.height / fe.height || 1)) / Ae
                        );
                      return st[U] ? st[U][Y] : null;
                    },
                    Xe = function (Ie) {
                      var kt = $(Ie);
                      nt !== kt &&
                        ((nt = kt),
                        kt
                          ? _t.hover(kt.item, kt.dimension, Ie)
                          : _t.hover(void 0, void 0, Ie));
                    },
                    Ee = function (Ie) {
                      var kt = $(Ie);
                      kt &&
                        (_t.click(kt.item, kt.dimension, Ie),
                        Ie.preventDefault());
                    },
                    sr = [],
                    F = function (Ie) {
                      if (sr[Ie]) return sr[Ie];
                      var kt = 8 * Ie,
                        me = kt,
                        Tt = [];
                      for (0 === Ie && Tt.push([ie[0], ie[1], 0]); me--; ) {
                        var fe = 1;
                        'circle' !== _t.shape &&
                          (fe = _t.shape((me / kt) * 2 * Math.PI)),
                          Tt.push([
                            ie[0] +
                              Ie * fe * Math.cos((-me / kt) * 2 * Math.PI),
                            ie[1] +
                              Ie *
                                fe *
                                Math.sin((-me / kt) * 2 * Math.PI) *
                                _t.ellipticity,
                            (me / kt) * 2 * Math.PI,
                          ]);
                      }
                      return (sr[Ie] = Tt), Tt;
                    },
                    Ut = function () {
                      return (
                        _t.abortThreshold > 0 &&
                        new Date().getTime() - Pe > _t.abortThreshold
                      );
                    },
                    Oe = function (Ie, kt, me, Tt, fe) {
                      Ie >= ne ||
                        kt >= Kt ||
                        Ie < 0 ||
                        kt < 0 ||
                        ((ee[Ie][kt] = !1),
                        me &&
                          wt[0]
                            .getContext('2d')
                            .fillRect(Ie * Ae, kt * Ae, ir, ir),
                        Ot && (st[Ie][kt] = { item: fe, dimension: Tt }));
                    },
                    je = function Ie(kt, me) {
                      if (me > 20) return null;
                      var Tt, fe, ht;
                      Array.isArray(kt)
                        ? ((Tt = kt[0]), (fe = kt[1]))
                        : ((Tt = kt.word),
                          (fe = kt.weight),
                          (ht = kt.attributes));
                      var It,
                        U,
                        Y,
                        mt =
                          0 === _t.rotateRatio || Math.random() > _t.rotateRatio
                            ? 0
                            : 0 === He
                            ? ft
                            : ft + Math.round((Math.random() * He) / Gt) * Gt,
                        Q = (function (B) {
                          if (Array.isArray(B)) {
                            var J = B.slice();
                            return J.splice(0, 2), J;
                          }
                          return [];
                        })(kt),
                        At = (function (B, J, rt, et) {
                          var lt = _t.weightFactor(J);
                          if (lt <= _t.minSize) return !1;
                          var Et,
                            gt = 1;
                          lt < ct &&
                            (gt = (function () {
                              for (var Wn = 2; Wn * lt < ct; ) Wn += 2;
                              return Wn;
                            })()),
                            (Et = qe ? qe(B, J, lt, et) : _t.fontWeight);
                          var Rt = document.createElement('canvas'),
                            Ct = Rt.getContext('2d', {
                              willReadFrequently: !0,
                            });
                          Ct.font =
                            Et +
                            ' ' +
                            (lt * gt).toString(10) +
                            'px ' +
                            _t.fontFamily;
                          var se = Ct.measureText(B).width / gt,
                            pe =
                              Math.max(
                                lt * gt,
                                Ct.measureText('m').width,
                                Ct.measureText('\uff37').width
                              ) / gt,
                            ze = se + 2 * pe,
                            ar = 3 * pe,
                            Nt = Math.ceil(ze / Ae),
                            Ge = Math.ceil(ar / Ae);
                          (ze = Nt * Ae), (ar = Ge * Ae);
                          var $e = -se / 2,
                            lr = 0.4 * -pe,
                            ce = Math.ceil(
                              (ze * Math.abs(Math.sin(rt)) +
                                ar * Math.abs(Math.cos(rt))) /
                                Ae
                            ),
                            Ke = Math.ceil(
                              (ze * Math.abs(Math.cos(rt)) +
                                ar * Math.abs(Math.sin(rt))) /
                                Ae
                            ),
                            Fr = Ke * Ae,
                            ti = ce * Ae;
                          Rt.setAttribute('width', Fr),
                            Rt.setAttribute('height', ti),
                            Ct.scale(1 / gt, 1 / gt),
                            Ct.translate((Fr * gt) / 2, (ti * gt) / 2),
                            Ct.rotate(-rt),
                            (Ct.font =
                              Et +
                              ' ' +
                              (lt * gt).toString(10) +
                              'px ' +
                              _t.fontFamily),
                            (Ct.fillStyle = '#000'),
                            (Ct.textBaseline = 'middle'),
                            Ct.fillText(B, $e * gt, (lr + 0.5 * lt) * gt);
                          var mn = Ct.getImageData(0, 0, Fr, ti).data;
                          if (Ut()) return !1;
                          for (
                            var $r,
                              Mn,
                              ji,
                              Va = [],
                              Gn = Ke,
                              Nr = [ce / 2, Ke / 2, ce / 2, Ke / 2];
                            Gn--;

                          )
                            for ($r = ce; $r--; ) {
                              ji = Ae;
                              t: for (; ji--; )
                                for (Mn = Ae; Mn--; )
                                  if (
                                    mn[
                                      4 *
                                        (($r * Ae + ji) * Fr + (Gn * Ae + Mn)) +
                                        3
                                    ]
                                  ) {
                                    Va.push([Gn, $r]),
                                      Gn < Nr[3] && (Nr[3] = Gn),
                                      Gn > Nr[1] && (Nr[1] = Gn),
                                      $r < Nr[0] && (Nr[0] = $r),
                                      $r > Nr[2] && (Nr[2] = $r);
                                    break t;
                                  }
                            }
                          return {
                            mu: gt,
                            occupied: Va,
                            bounds: Nr,
                            gw: Ke,
                            gh: ce,
                            fillTextOffsetX: $e,
                            fillTextOffsetY: lr,
                            fillTextWidth: se,
                            fillTextHeight: pe,
                            fontSize: lt,
                          };
                        })(Tt, fe, mt, Q);
                      if (!At || Ut()) return !1;
                      if (!_t.drawOutOfBound && !_t.shrinkToFit) {
                        var Pt = At.bounds;
                        if (Pt[1] - Pt[3] + 1 > ne || Pt[2] - Pt[0] + 1 > Kt)
                          return !1;
                      }
                      for (var qt = Le + 1; qt--; ) {
                        var Me = F(Le - qt);
                        _t.shuffle && ((Me = [].concat(Me)), ve(Me));
                        for (var Wt = 0; Wt < Me.length; Wt++) {
                          var xe =
                            ((It = Me[Wt]),
                            !!(function (B, J, rt, et, lt) {
                              for (var Et = lt.length; Et--; ) {
                                var gt = B + lt[Et][0],
                                  Rt = J + lt[Et][1];
                                if (gt >= ne || Rt >= Kt || gt < 0 || Rt < 0) {
                                  if (!_t.drawOutOfBound) return !1;
                                } else if (!ee[gt][Rt]) return !1;
                              }
                              return !0;
                            })(
                              (U = Math.floor(It[0] - At.gw / 2)),
                              (Y = Math.floor(It[1] - At.gh / 2)),
                              0,
                              0,
                              At.occupied
                            ) &&
                              ((function (
                                B,
                                J,
                                rt,
                                et,
                                lt,
                                Et,
                                gt,
                                Rt,
                                Ct,
                                se
                              ) {
                                var pe,
                                  ze,
                                  ar,
                                  Nt = rt.fontSize;
                                (pe = Re
                                  ? Re(et, lt, Nt, Et, gt, se)
                                  : _t.color),
                                  (ze = qe
                                    ? qe(et, lt, Nt, se)
                                    : _t.fontWeight),
                                  (ar = Ht ? Ht(et, lt, Nt, se) : _t.classes),
                                  wt.forEach(function (Ge) {
                                    if (Ge.getContext) {
                                      var $e = Ge.getContext('2d'),
                                        lr = rt.mu;
                                      $e.save(),
                                        $e.scale(1 / lr, 1 / lr),
                                        ($e.font =
                                          ze +
                                          ' ' +
                                          (Nt * lr).toString(10) +
                                          'px ' +
                                          _t.fontFamily),
                                        ($e.fillStyle = pe),
                                        $e.translate(
                                          (B + rt.gw / 2) * Ae * lr,
                                          (J + rt.gh / 2) * Ae * lr
                                        ),
                                        0 !== Rt && $e.rotate(-Rt),
                                        ($e.textBaseline = 'middle'),
                                        $e.fillText(
                                          et,
                                          rt.fillTextOffsetX * lr,
                                          (rt.fillTextOffsetY + 0.5 * Nt) * lr
                                        ),
                                        $e.restore();
                                    } else {
                                      var ce = document.createElement('span'),
                                        Ke = '';
                                      (Ke =
                                        'rotate(' +
                                        (-Rt / Math.PI) * 180 +
                                        'deg) '),
                                        1 !== rt.mu &&
                                          (Ke +=
                                            'translateX(-' +
                                            rt.fillTextWidth / 4 +
                                            'px) scale(' +
                                            1 / rt.mu +
                                            ')');
                                      var Fr = {
                                        position: 'absolute',
                                        display: 'block',
                                        font:
                                          ze +
                                          ' ' +
                                          Nt * rt.mu +
                                          'px ' +
                                          _t.fontFamily,
                                        left:
                                          (B + rt.gw / 2) * Ae +
                                          rt.fillTextOffsetX +
                                          'px',
                                        top:
                                          (J + rt.gh / 2) * Ae +
                                          rt.fillTextOffsetY +
                                          'px',
                                        width: rt.fillTextWidth + 'px',
                                        height: rt.fillTextHeight + 'px',
                                        lineHeight: Nt + 'px',
                                        whiteSpace: 'nowrap',
                                        transform: Ke,
                                        webkitTransform: Ke,
                                        msTransform: Ke,
                                        transformOrigin: '50% 40%',
                                        webkitTransformOrigin: '50% 40%',
                                        msTransformOrigin: '50% 40%',
                                      };
                                      for (var ti in (pe && (Fr.color = pe),
                                      (ce.textContent = et),
                                      Fr))
                                        ce.style[ti] = Fr[ti];
                                      if (Ct)
                                        for (var mn in Ct)
                                          ce.setAttribute(mn, Ct[mn]);
                                      ar && (ce.className += ar),
                                        Ge.appendChild(ce);
                                    }
                                  });
                              })(U, Y, At, Tt, fe, Le - qt, It[2], mt, ht, Q),
                              (function (B, J, rt, et, lt, Et) {
                                var gt,
                                  Rt,
                                  Ct = lt.occupied,
                                  se = _t.drawMask;
                                if (
                                  (se &&
                                    ((gt = wt[0].getContext('2d')).save(),
                                    (gt.fillStyle = _t.maskColor)),
                                  Ot)
                                ) {
                                  var pe = lt.bounds;
                                  Rt = {
                                    x: (B + pe[3]) * Ae,
                                    y: (J + pe[0]) * Ae,
                                    w: (pe[1] - pe[3] + 1) * Ae,
                                    h: (pe[2] - pe[0] + 1) * Ae,
                                  };
                                }
                                for (var ze = Ct.length; ze--; ) {
                                  var ar = B + Ct[ze][0],
                                    Nt = J + Ct[ze][1];
                                  ar >= ne ||
                                    Nt >= Kt ||
                                    ar < 0 ||
                                    Nt < 0 ||
                                    Oe(ar, Nt, se, Rt, Et);
                                }
                                se && gt.restore();
                              })(U, Y, 0, 0, At, kt),
                              { gx: U, gy: Y, rot: mt, info: At }));
                          if (xe) return xe;
                        }
                      }
                      return _t.shrinkToFit
                        ? (Array.isArray(kt)
                            ? (kt[1] = (3 * kt[1]) / 4)
                            : (kt.weight = (3 * kt.weight) / 4),
                          Ie(kt, me + 1))
                        : null;
                    },
                    Ar = function (Ie, kt, me) {
                      if (kt)
                        return !wt.some(function (Tt) {
                          var fe = new CustomEvent(Ie, { detail: me || {} });
                          return !Tt.dispatchEvent(fe);
                        }, this);
                      wt.forEach(function (Tt) {
                        var fe = new CustomEvent(Ie, { detail: me || {} });
                        Tt.dispatchEvent(fe);
                      }, this);
                    };
                  !(function () {
                    var Ie = wt[0];
                    if (Ie.getContext)
                      (ne = Math.ceil(Ie.width / Ae)),
                        (Kt = Math.ceil(Ie.height / Ae));
                    else {
                      var kt = Ie.getBoundingClientRect();
                      (ne = Math.ceil(kt.width / Ae)),
                        (Kt = Math.ceil(kt.height / Ae));
                    }
                    if (Ar('wordcloudstart', !0)) {
                      var me, Tt, fe, ht, It;
                      if (
                        ((ie = _t.origin
                          ? [_t.origin[0] / Ae, _t.origin[1] / Ae]
                          : [ne / 2, Kt / 2]),
                        (Le = Math.floor(Math.sqrt(ne * ne + Kt * Kt))),
                        (ee = []),
                        !Ie.getContext || _t.clearCanvas)
                      )
                        for (
                          wt.forEach(function (Wt) {
                            if (Wt.getContext) {
                              var xe = Wt.getContext('2d');
                              (xe.fillStyle = _t.backgroundColor),
                                xe.clearRect(
                                  0,
                                  0,
                                  ne * (Ae + 1),
                                  Kt * (Ae + 1)
                                ),
                                xe.fillRect(0, 0, ne * (Ae + 1), Kt * (Ae + 1));
                            } else (Wt.textContent = ''), (Wt.style.backgroundColor = _t.backgroundColor), (Wt.style.position = 'relative');
                          }),
                            me = ne;
                          me--;

                        )
                          for (ee[me] = [], Tt = Kt; Tt--; ) ee[me][Tt] = !0;
                      else {
                        var U = document
                          .createElement('canvas')
                          .getContext('2d');
                        (U.fillStyle = _t.backgroundColor),
                          U.fillRect(0, 0, 1, 1);
                        var Y,
                          mt,
                          Q = U.getImageData(0, 0, 1, 1).data,
                          At = Ie.getContext('2d').getImageData(
                            0,
                            0,
                            ne * Ae,
                            Kt * Ae
                          ).data;
                        for (me = ne; me--; )
                          for (ee[me] = [], Tt = Kt; Tt--; ) {
                            mt = Ae;
                            t: for (; mt--; )
                              for (Y = Ae; Y--; )
                                for (fe = 4; fe--; )
                                  if (
                                    At[
                                      4 *
                                        ((Tt * Ae + mt) * ne * Ae +
                                          (me * Ae + Y)) +
                                        fe
                                    ] !== Q[fe]
                                  ) {
                                    ee[me][Tt] = !1;
                                    break t;
                                  }
                            !1 !== ee[me][Tt] && (ee[me][Tt] = !0);
                          }
                        At = U = Q = void 0;
                      }
                      if (_t.hover || _t.click) {
                        for (Ot = !0, me = ne + 1; me--; ) st[me] = [];
                        _t.hover && Ie.addEventListener('mousemove', Xe),
                          _t.click &&
                            (Ie.addEventListener('click', Ee),
                            Ie.addEventListener('touchstart', Ee),
                            Ie.addEventListener('touchend', function (Wt) {
                              Wt.preventDefault();
                            }),
                            (Ie.style.webkitTapHighlightColor =
                              'rgba(0, 0, 0, 0)')),
                          Ie.addEventListener('wordcloudstart', function Wt() {
                            Ie.removeEventListener('wordcloudstart', Wt),
                              Ie.removeEventListener('mousemove', Xe),
                              Ie.removeEventListener('click', Ee),
                              (nt = void 0);
                          });
                      }
                      fe = 0;
                      var Pt = !0;
                      _t.layoutAnimation
                        ? 0 !== _t.wait
                          ? ((ht = window.setTimeout),
                            (It = window.clearTimeout))
                          : ((ht = window.setImmediate),
                            (It = window.clearImmediate))
                        : ((ht = function (Wt) {
                            Wt();
                          }),
                          (It = function () {
                            Pt = !1;
                          }));
                      var qt = function (Wt, xe) {
                          wt.forEach(function (B) {
                            B.removeEventListener(Wt, xe);
                          }, this);
                        },
                        Me = function Wt() {
                          qt('wordcloudstart', Wt), It(Qt[he]);
                        };
                      (function (Wt, xe) {
                        wt.forEach(function (B) {
                          B.addEventListener('wordcloudstart', xe);
                        }, this);
                      })(0, Me),
                        (Qt[he] = (_t.layoutAnimation ? ht : setTimeout)(
                          function Wt() {
                            if (Pt) {
                              if (fe >= _t.list.length)
                                return (
                                  It(Qt[he]),
                                  Ar('wordcloudstop', !1),
                                  qt('wordcloudstart', Me),
                                  void delete Qt[he]
                                );
                              Pe = new Date().getTime();
                              var xe = je(_t.list[fe], 0),
                                B = !Ar('wordclouddrawn', !0, {
                                  item: _t.list[fe],
                                  drawn: xe,
                                });
                              if (Ut() || B)
                                return (
                                  It(Qt[he]),
                                  _t.abort(),
                                  Ar('wordcloudabort', !1),
                                  Ar('wordcloudstop', !1),
                                  void qt('wordcloudstart', Me)
                                );
                              fe++, (Qt[he] = ht(Wt, _t.wait));
                            }
                          },
                          _t.wait
                        ));
                    }
                  })();
                }
                function Ne(Ie, kt) {
                  return (
                    'hsl(' +
                    (360 * Math.random()).toFixed() +
                    ',' +
                    (30 * Math.random() + 70).toFixed() +
                    '%,' +
                    (Math.random() * (kt - Ie) + Ie).toFixed() +
                    '%)'
                  );
                }
              };
            (jt.isSupported = bt), (jt.minFontSize = ct);
            const de = jt;
            if (!de.isSupported)
              throw new Error('Sorry your browser not support wordCloud');
            Dt.registerLayout(function (wt, Zt) {
              wt.eachSeriesByType('wordCloud', function (he) {
                var He,
                  ft,
                  Gt,
                  Ht,
                  _t = Dt.helper.getLayoutRect(he.getBoxLayoutParams(), {
                    width: Zt.getWidth(),
                    height: Zt.getHeight(),
                  }),
                  zt = he.get('keepAspect'),
                  Bt = he.get('maskImage');
                zt &&
                  ((Gt = (He = _t).width) >
                  (Ht = He.height) * (ft = Bt ? Bt.width / Bt.height : 1)
                    ? ((He.x += (Gt - Ht * ft) / 2), (He.width = Ht * ft))
                    : ((He.y += (Ht - Gt / ft) / 2), (He.height = Gt / ft)));
                var ne = he.getData(),
                  Kt = document.createElement('canvas');
                (Kt.width = _t.width), (Kt.height = _t.height);
                var ie = Kt.getContext('2d');
                if (Bt)
                  try {
                    ie.drawImage(Bt, 0, 0, Kt.width, Kt.height),
                      (function (He) {
                        for (
                          var ft = He.getContext('2d'),
                            Gt = ft.getImageData(0, 0, He.width, He.height),
                            Ht = ft.createImageData(Gt),
                            nt = 0,
                            Ot = 0,
                            st = 0;
                          st < Gt.data.length;
                          st += 4
                        )
                          Gt.data[st + 3] > 128 &&
                            ((nt += Xe =
                              Gt.data[st] + Gt.data[st + 1] + Gt.data[st + 2]),
                            ++Ot);
                        var $ = nt / Ot;
                        for (st = 0; st < Gt.data.length; st += 4) {
                          var Xe =
                            Gt.data[st] + Gt.data[st + 1] + Gt.data[st + 2];
                          Gt.data[st + 3] < 128 || Xe > $
                            ? ((Ht.data[st] = 0),
                              (Ht.data[st + 1] = 0),
                              (Ht.data[st + 2] = 0),
                              (Ht.data[st + 3] = 0))
                            : ((Ht.data[st] = 255),
                              (Ht.data[st + 1] = 255),
                              (Ht.data[st + 2] = 255),
                              (Ht.data[st + 3] = 255));
                        }
                        ft.putImageData(Ht, 0, 0);
                      })(Kt);
                  } catch (He) {
                    console.error('Invalid mask image'),
                      console.error(He.toString());
                  }
                var Le = he.get('sizeRange'),
                  Pe = he.get('rotationRange'),
                  Re = ne.getDataExtent('value'),
                  qe = Math.PI / 180,
                  Ae = he.get('gridSize');
                function ir(He) {
                  var ft = He.detail.item;
                  He.detail.drawn &&
                    he.layoutInstance.ondraw &&
                    ((He.detail.drawn.gx += _t.x / Ae),
                    (He.detail.drawn.gy += _t.y / Ae),
                    he.layoutInstance.ondraw(
                      ft[0],
                      ft[1],
                      ft[2],
                      He.detail.drawn
                    ));
                }
                de(Kt, {
                  list: ne
                    .mapArray('value', function (He, ft) {
                      var Gt = ne.getItemModel(ft);
                      return [
                        ne.getName(ft),
                        Gt.get('textStyle.fontSize', !0) ||
                          Dt.number.linearMap(He, Re, Le),
                        ft,
                      ];
                    })
                    .sort(function (He, ft) {
                      return ft[1] - He[1];
                    }),
                  fontFamily:
                    he.get('textStyle.fontFamily') ||
                    he.get('emphasis.textStyle.fontFamily') ||
                    wt.get('textStyle.fontFamily'),
                  fontWeight:
                    he.get('textStyle.fontWeight') ||
                    he.get('emphasis.textStyle.fontWeight') ||
                    wt.get('textStyle.fontWeight'),
                  gridSize: Ae,
                  ellipticity: _t.height / _t.width,
                  minRotation: Pe[0] * qe,
                  maxRotation: Pe[1] * qe,
                  clearCanvas: !Bt,
                  rotateRatio: 1,
                  rotationStep: he.get('rotationStep') * qe,
                  drawOutOfBound: he.get('drawOutOfBound'),
                  shrinkToFit: he.get('shrinkToFit'),
                  layoutAnimation: he.get('layoutAnimation'),
                  shuffle: !1,
                  shape: he.get('shape'),
                }),
                  Kt.addEventListener('wordclouddrawn', ir),
                  he.layoutInstance && he.layoutInstance.dispose(),
                  (he.layoutInstance = {
                    ondraw: null,
                    dispose: function () {
                      Kt.removeEventListener('wordclouddrawn', ir),
                        Kt.addEventListener('wordclouddrawn', function (He) {
                          He.preventDefault();
                        });
                    },
                  });
              });
            }),
              Dt.registerPreprocessor(function (wt) {
                var Zt = (wt || {}).series;
                !Dt.util.isArray(Zt) && (Zt = Zt ? [Zt] : []);
                var he = [
                  'shadowColor',
                  'shadowBlur',
                  'shadowOffsetX',
                  'shadowOffsetY',
                ];
                function _t(zt) {
                  zt &&
                    Dt.util.each(he, function (Bt) {
                      zt.hasOwnProperty(Bt) &&
                        (zt['text' + Dt.format.capitalFirst(Bt)] = zt[Bt]);
                    });
                }
                Dt.util.each(Zt, function (zt) {
                  if (zt && 'wordCloud' === zt.type) {
                    var Bt = zt.textStyle || {};
                    _t(Bt.normal), _t(Bt.emphasis);
                  }
                });
              });
          },
          83: (oe) => {
            oe.exports = ue;
          },
        },
        ut = {};
      function te(oe) {
        if (ut[oe]) return ut[oe].exports;
        var Lt = (ut[oe] = { exports: {} });
        return or[oe](Lt, Lt.exports, te), Lt.exports;
      }
      return (
        (te.r = (oe) => {
          typeof Symbol < 'u' &&
            Symbol.toStringTag &&
            Object.defineProperty(oe, Symbol.toStringTag, { value: 'Module' }),
            Object.defineProperty(oe, '__esModule', { value: !0 });
        }),
        te(638)
      );
    })();
  }),
  (function (ue, or) {
    'object' == typeof exports && typeof module < 'u'
      ? (module.exports = or())
      : 'function' == typeof define && define.amd
      ? define(or)
      : ((ue = typeof globalThis < 'u' ? globalThis : ue || self).Shepherd =
          or());
  })(this, function () {
    function ue(I, A) {
      return !1 !== A.clone && A.isMergeableObject(I)
        ? yt(Array.isArray(I) ? [] : {}, I, A)
        : I;
    }
    function or(I, A, R) {
      return I.concat(A).map(function (W) {
        return ue(W, R);
      });
    }
    function te(I) {
      return Object.keys(I).concat(
        (function ut(I) {
          return Object.getOwnPropertySymbols
            ? Object.getOwnPropertySymbols(I).filter(function (A) {
                return I.propertyIsEnumerable(A);
              })
            : [];
        })(I)
      );
    }
    function oe(I, A) {
      try {
        return A in I;
      } catch {
        return !1;
      }
    }
    function yt(I, A, R) {
      ((R = R || {}).arrayMerge = R.arrayMerge || or),
        (R.isMergeableObject = R.isMergeableObject || Se),
        (R.cloneUnlessOtherwiseSpecified = ue);
      var W = Array.isArray(A);
      return W !== Array.isArray(I)
        ? ue(A, R)
        : W
        ? R.arrayMerge(I, A, R)
        : (function Lt(I, A, R) {
            var W = {};
            return (
              R.isMergeableObject(I) &&
                te(I).forEach(function (Z) {
                  W[Z] = ue(I[Z], R);
                }),
              te(A).forEach(function (Z) {
                if (
                  !oe(I, Z) ||
                  (Object.hasOwnProperty.call(I, Z) &&
                    Object.propertyIsEnumerable.call(I, Z))
                )
                  if (oe(I, Z) && R.isMergeableObject(A[Z])) {
                    if (R.customMerge) {
                      var dt = R.customMerge(Z);
                      dt = 'function' == typeof dt ? dt : yt;
                    } else dt = yt;
                    W[Z] = dt(I[Z], A[Z], R);
                  } else W[Z] = ue(A[Z], R);
              }),
              W
            );
          })(I, A, R);
    }
    function Dt(I) {
      return 'function' == typeof I;
    }
    function bt(I) {
      return 'string' == typeof I;
    }
    function ct(I) {
      let A = Object.getOwnPropertyNames(I.constructor.prototype);
      for (let R = 0; R < A.length; R++) {
        let W = A[R],
          Z = I[W];
        'constructor' !== W && 'function' == typeof Z && (I[W] = Z.bind(I));
      }
      return I;
    }
    function jt(I) {
      return I ? (I.nodeName || '').toLowerCase() : null;
    }
    function de(I) {
      return null == I
        ? window
        : '[object Window]' !== I.toString()
        ? ((I = I.ownerDocument) && I.defaultView) || window
        : I;
    }
    function wt(I) {
      return I instanceof de(I).Element || I instanceof Element;
    }
    function Zt(I) {
      return I instanceof de(I).HTMLElement || I instanceof HTMLElement;
    }
    function he(I) {
      return (
        !(typeof ShadowRoot > 'u') &&
        (I instanceof de(I).ShadowRoot || I instanceof ShadowRoot)
      );
    }
    function _t(I) {
      return I.split('-')[0];
    }
    function zt(I, A) {
      void 0 === A && (A = !1);
      var R = I.getBoundingClientRect(),
        W = 1,
        Z = 1;
      return (
        Zt(I) &&
          A &&
          ((A = I.offsetHeight),
          0 < (I = I.offsetWidth) && (W = ri(R.width) / I || 1),
          0 < A && (Z = ri(R.height) / A || 1)),
        {
          width: R.width / W,
          height: R.height / Z,
          top: R.top / Z,
          right: R.right / W,
          bottom: R.bottom / Z,
          left: R.left / W,
          x: R.left / W,
          y: R.top / Z,
        }
      );
    }
    function Bt(I) {
      var A = zt(I),
        R = I.offsetWidth,
        W = I.offsetHeight;
      return (
        1 >= Math.abs(A.width - R) && (R = A.width),
        1 >= Math.abs(A.height - W) && (W = A.height),
        { x: I.offsetLeft, y: I.offsetTop, width: R, height: W }
      );
    }
    function ee(I, A) {
      var R = A.getRootNode && A.getRootNode();
      if (I.contains(A)) return !0;
      if (R && he(R))
        do {
          if (A && I.isSameNode(A)) return !0;
          A = A.parentNode || A.host;
        } while (A);
      return !1;
    }
    function ne(I) {
      return de(I).getComputedStyle(I);
    }
    function Kt(I) {
      return (
        (wt(I) ? I.ownerDocument : I.document) || window.document
      ).documentElement;
    }
    function ie(I) {
      return 'html' === jt(I)
        ? I
        : I.assignedSlot || I.parentNode || (he(I) ? I.host : null) || Kt(I);
    }
    function Le(I) {
      return Zt(I) && 'fixed' !== ne(I).position ? I.offsetParent : null;
    }
    function Pe(I) {
      for (
        var A = de(I), R = Le(I);
        R &&
        0 <= ['table', 'td', 'th'].indexOf(jt(R)) &&
        'static' === ne(R).position;

      )
        R = Le(R);
      if (
        R &&
        ('html' === jt(R) || ('body' === jt(R) && 'static' === ne(R).position))
      )
        return A;
      if (!R)
        t: {
          if (
            ((R = -1 !== navigator.userAgent.toLowerCase().indexOf('firefox')),
            -1 === navigator.userAgent.indexOf('Trident') ||
              !Zt(I) ||
              'fixed' !== ne(I).position)
          )
            for (
              he((I = ie(I))) && (I = I.host);
              Zt(I) && 0 > ['html', 'body'].indexOf(jt(I));

            ) {
              var W = ne(I);
              if (
                'none' !== W.transform ||
                'none' !== W.perspective ||
                'paint' === W.contain ||
                -1 !== ['transform', 'perspective'].indexOf(W.willChange) ||
                (R && 'filter' === W.willChange) ||
                (R && W.filter && 'none' !== W.filter)
              ) {
                R = I;
                break t;
              }
              I = I.parentNode;
            }
          R = null;
        }
      return R || A;
    }
    function Re(I) {
      return 0 <= ['top', 'bottom'].indexOf(I) ? 'x' : 'y';
    }
    function qe(I) {
      return Object.assign({}, { top: 0, right: 0, bottom: 0, left: 0 }, I);
    }
    function Ae(I, A) {
      return A.reduce(function (R, W) {
        return (R[W] = I), R;
      }, {});
    }
    function ir(I) {
      return I.split('-')[1];
    }
    function He(I) {
      var A,
        R = I.popper,
        W = I.popperRect,
        Z = I.placement,
        dt = I.variation,
        it = I.offsets,
        ae = I.position,
        ge = I.gpuAcceleration,
        $t = I.adaptive,
        De = I.roundOffsets,
        Fe = I.isFixed;
      I = void 0 === (I = it.x) ? 0 : I;
      var _e = it.y,
        Be = void 0 === _e ? 0 : _e;
      (I = (_e =
        'function' == typeof De ? De({ x: I, y: Be }) : { x: I, y: Be }).x),
        (Be = _e.y),
        (_e = it.hasOwnProperty('x')),
        (it = it.hasOwnProperty('y'));
      var yr,
        xr = 'left',
        xt = 'top',
        We = window;
      if ($t) {
        var rr = Pe(R),
          Xr = 'clientHeight',
          Ve = 'clientWidth';
        rr === de(R) &&
          'static' !== ne((rr = Kt(R))).position &&
          'absolute' === ae &&
          ((Xr = 'scrollHeight'), (Ve = 'scrollWidth')),
          ('top' === Z || (('left' === Z || 'right' === Z) && 'end' === dt)) &&
            ((xt = 'bottom'),
            (Be -=
              (Fe && rr === We && We.visualViewport
                ? We.visualViewport.height
                : rr[Xr]) - W.height),
            (Be *= ge ? 1 : -1)),
          ('left' === Z || (('top' === Z || 'bottom' === Z) && 'end' === dt)) &&
            ((xr = 'right'),
            (I -=
              (Fe && rr === We && We.visualViewport
                ? We.visualViewport.width
                : rr[Ve]) - W.width),
            (I *= ge ? 1 : -1));
      }
      return (
        (R = Object.assign({ position: ae }, $t && Uc)),
        !0 === De
          ? ((De = Be),
            (W = window.devicePixelRatio || 1),
            (I = { x: ri(I * W) / W || 0, y: ri(De * W) / W || 0 }))
          : (I = { x: I, y: Be }),
        (I = (De = I).x),
        (Be = De.y),
        Object.assign(
          {},
          R,
          ge
            ? (((yr = {})[xt] = it ? '0' : ''),
              (yr[xr] = _e ? '0' : ''),
              (yr.transform =
                1 >= (We.devicePixelRatio || 1)
                  ? 'translate(' + I + 'px, ' + Be + 'px)'
                  : 'translate3d(' + I + 'px, ' + Be + 'px, 0)'),
              yr)
            : (((A = {})[xt] = it ? Be + 'px' : ''),
              (A[xr] = _e ? I + 'px' : ''),
              (A.transform = ''),
              A)
        )
      );
    }
    function ft(I) {
      return I.replace(/left|right|bottom|top/g, function (A) {
        return ws[A];
      });
    }
    function Gt(I) {
      return I.replace(/start|end/g, function (A) {
        return Cs[A];
      });
    }
    function Ht(I) {
      return { scrollLeft: (I = de(I)).pageXOffset, scrollTop: I.pageYOffset };
    }
    function nt(I) {
      return zt(Kt(I)).left + Ht(I).scrollLeft;
    }
    function Ot(I) {
      return (
        (I = ne(I)),
        /auto|scroll|overlay|hidden/.test(
          I.overflow + I.overflowY + I.overflowX
        )
      );
    }
    function st(I) {
      return 0 <= ['html', 'body', '#document'].indexOf(jt(I))
        ? I.ownerDocument.body
        : Zt(I) && Ot(I)
        ? I
        : st(ie(I));
    }
    function $(I, A) {
      var R;
      void 0 === A && (A = []);
      var W = st(I);
      return (
        (I = W === (null == (R = I.ownerDocument) ? void 0 : R.body)),
        (R = de(W)),
        (W = I ? [R].concat(R.visualViewport || [], Ot(W) ? W : []) : W),
        (A = A.concat(W)),
        I ? A : A.concat($(ie(W)))
      );
    }
    function Xe(I) {
      return Object.assign({}, I, {
        left: I.x,
        top: I.y,
        right: I.x + I.width,
        bottom: I.y + I.height,
      });
    }
    function Ee(I, A) {
      if ('viewport' === A) {
        A = de(I);
        var R = Kt(I),
          W = R.clientWidth;
        R = R.clientHeight;
        var Z = 0,
          dt = 0;
        (A = A.visualViewport) &&
          ((W = A.width),
          (R = A.height),
          /^((?!chrome|android).)*safari/i.test(navigator.userAgent) ||
            ((Z = A.offsetLeft), (dt = A.offsetTop))),
          (I = Xe((I = { width: W, height: R, x: Z + nt(I), y: dt })));
      } else wt(A) ? (((I = zt(A)).top += A.clientTop), (I.left += A.clientLeft), (I.bottom = I.top + A.clientHeight), (I.right = I.left + A.clientWidth), (I.width = A.clientWidth), (I.height = A.clientHeight), (I.x = I.left), (I.y = I.top)) : ((dt = Kt(I)), (I = Kt(dt)), (W = Ht(dt)), (A = null == (R = dt.ownerDocument) ? void 0 : R.body), (R = Ii(I.scrollWidth, I.clientWidth, A ? A.scrollWidth : 0, A ? A.clientWidth : 0)), (Z = Ii(I.scrollHeight, I.clientHeight, A ? A.scrollHeight : 0, A ? A.clientHeight : 0)), (dt = -W.scrollLeft + nt(dt)), (W = -W.scrollTop), 'rtl' === ne(A || I).direction && (dt += Ii(I.clientWidth, A ? A.clientWidth : 0) - R), (I = Xe({ width: R, height: Z, x: dt, y: W })));
      return I;
    }
    function Ut(I) {
      var A = I.reference,
        R = I.element,
        W = (I = I.placement) ? _t(I) : null;
      I = I ? ir(I) : null;
      var Z = A.x + A.width / 2 - R.width / 2,
        dt = A.y + A.height / 2 - R.height / 2;
      switch (W) {
        case 'top':
          Z = { x: Z, y: A.y - R.height };
          break;
        case 'bottom':
          Z = { x: Z, y: A.y + A.height };
          break;
        case 'right':
          Z = { x: A.x + A.width, y: dt };
          break;
        case 'left':
          Z = { x: A.x - R.width, y: dt };
          break;
        default:
          Z = { x: A.x, y: A.y };
      }
      if (null != (W = W ? Re(W) : null))
        switch (((dt = 'y' === W ? 'height' : 'width'), I)) {
          case 'start':
            Z[W] -= A[dt] / 2 - R[dt] / 2;
            break;
          case 'end':
            Z[W] += A[dt] / 2 - R[dt] / 2;
        }
      return Z;
    }
    function Oe(I, A) {
      void 0 === A && (A = {});
      var R = A;
      A = void 0 === (A = R.placement) ? I.placement : A;
      var W = R.boundary,
        Z = void 0 === W ? 'clippingParents' : W,
        dt = void 0 === (W = R.rootBoundary) ? 'viewport' : W;
      W = void 0 === (W = R.elementContext) ? 'popper' : W;
      var it = R.altBoundary,
        ae = void 0 !== it && it;
      (R = qe(
        'number' != typeof (R = void 0 === (R = R.padding) ? 0 : R)
          ? R
          : Ae(R, ga)
      )),
        (it = I.rects.popper),
        (Z = (function F(I, A, R) {
          return (
            (A =
              'clippingParents' === A
                ? (function sr(I) {
                    var A = $(ie(I)),
                      R =
                        0 <= ['absolute', 'fixed'].indexOf(ne(I).position) &&
                        Zt(I)
                          ? Pe(I)
                          : I;
                    return wt(R)
                      ? A.filter(function (W) {
                          return wt(W) && ee(W, R) && 'body' !== jt(W);
                        })
                      : [];
                  })(I)
                : [].concat(A)),
            ((R = (R = [].concat(A, [R])).reduce(function (W, Z) {
              return (
                (Z = Ee(I, Z)),
                (W.top = Ii(Z.top, W.top)),
                (W.right = ki(Z.right, W.right)),
                (W.bottom = ki(Z.bottom, W.bottom)),
                (W.left = Ii(Z.left, W.left)),
                W
              );
            }, Ee(I, R[0]))).width = R.right - R.left),
            (R.height = R.bottom - R.top),
            (R.x = R.left),
            (R.y = R.top),
            R
          );
        })(
          wt(
            (ae =
              I.elements[ae ? ('popper' === W ? 'reference' : 'popper') : W])
          )
            ? ae
            : ae.contextElement || Kt(I.elements.popper),
          Z,
          dt
        )),
        (ae = Ut({
          reference: (dt = zt(I.elements.reference)),
          element: it,
          strategy: 'absolute',
          placement: A,
        })),
        (it = Xe(Object.assign({}, it, ae)));
      var ge = {
        top: Z.top - (dt = 'popper' === W ? it : dt).top + R.top,
        bottom: dt.bottom - Z.bottom + R.bottom,
        left: Z.left - dt.left + R.left,
        right: dt.right - Z.right + R.right,
      };
      if (((I = I.modifiersData.offset), 'popper' === W && I)) {
        var $t = I[A];
        Object.keys(ge).forEach(function (De) {
          var Fe = 0 <= ['right', 'bottom'].indexOf(De) ? 1 : -1,
            _e = 0 <= ['top', 'bottom'].indexOf(De) ? 'y' : 'x';
          ge[De] += $t[_e] * Fe;
        });
      }
      return ge;
    }
    function Ne(I, A, R) {
      return (
        void 0 === R && (R = { x: 0, y: 0 }),
        {
          top: I.top - A.height - R.y,
          right: I.right - A.width + R.x,
          bottom: I.bottom - A.height + R.y,
          left: I.left - A.width - R.x,
        }
      );
    }
    function Ie(I) {
      return ['top', 'right', 'bottom', 'left'].some(function (A) {
        return 0 <= I[A];
      });
    }
    function kt(I, A, R) {
      void 0 === R && (R = !1);
      var Z,
        W = Zt(A);
      if ((Z = Zt(A))) {
        var dt = A.getBoundingClientRect();
        (Z = ri(dt.width) / A.offsetWidth || 1),
          (dt = ri(dt.height) / A.offsetHeight || 1),
          (Z = 1 !== Z || 1 !== dt);
      }
      (dt = Z),
        (Z = Kt(A)),
        (I = zt(I, dt)),
        (dt = { scrollLeft: 0, scrollTop: 0 });
      var it = { x: 0, y: 0 };
      return (
        (W || (!W && !R)) &&
          (('body' !== jt(A) || Ot(Z)) &&
            (dt =
              A !== de(A) && Zt(A)
                ? { scrollLeft: A.scrollLeft, scrollTop: A.scrollTop }
                : Ht(A)),
          Zt(A)
            ? (((it = zt(A, !0)).x += A.clientLeft), (it.y += A.clientTop))
            : Z && (it.x = nt(Z))),
        {
          x: I.left + dt.scrollLeft - it.x,
          y: I.top + dt.scrollTop - it.y,
          width: I.width,
          height: I.height,
        }
      );
    }
    function me(I) {
      function A(dt) {
        W.add(dt.name),
          []
            .concat(dt.requires || [], dt.requiresIfExists || [])
            .forEach(function (it) {
              W.has(it) || ((it = R.get(it)) && A(it));
            }),
          Z.push(dt);
      }
      var R = new Map(),
        W = new Set(),
        Z = [];
      return (
        I.forEach(function (dt) {
          R.set(dt.name, dt);
        }),
        I.forEach(function (dt) {
          W.has(dt.name) || A(dt);
        }),
        Z
      );
    }
    function fe(I) {
      var A;
      return function () {
        return (
          A ||
            (A = new Promise(function (R) {
              Promise.resolve().then(function () {
                (A = void 0), R(I());
              });
            })),
          A
        );
      };
    }
    function It() {
      for (var I = arguments.length, A = Array(I), R = 0; R < I; R++)
        A[R] = arguments[R];
      return !A.some(function (W) {
        return !(W && 'function' == typeof W.getBoundingClientRect);
      });
    }
    function U() {
      return (
        (U =
          Object.assign ||
          function (I) {
            for (var A = 1; A < arguments.length; A++) {
              var W,
                R = arguments[A];
              for (W in R)
                Object.prototype.hasOwnProperty.call(R, W) && (I[W] = R[W]);
            }
            return I;
          }),
        U.apply(this, arguments)
      );
    }
    function Q(I) {
      return bt(I) && '' !== I
        ? '-' !== I.charAt(I.length - 1)
          ? `${I}-`
          : I
        : '';
    }
    function At(I) {
      I = I.options.attachTo || {};
      let A = Object.assign({}, I);
      if (bt(I.element)) {
        try {
          A.element = document.querySelector(I.element);
        } catch {}
        A.element ||
          console.error(
            `The element for this Shepherd step was not found ${I.element}`
          );
      }
      return A;
    }
    function Pt() {
      let I = Date.now();
      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (A) => {
        let R = (I + 16 * Math.random()) % 16 | 0;
        return (
          (I = Math.floor(I / 16)), ('x' == A ? R : (3 & R) | 8).toString(16)
        );
      });
    }
    function Me(I, A) {
      if (I.popperOptions) {
        let R = Object.assign({}, A, I.popperOptions);
        if (I.popperOptions.modifiers && 0 < I.popperOptions.modifiers.length) {
          let W = I.popperOptions.modifiers.map((Z) => Z.name);
          (A = A.modifiers.filter((Z) => !W.includes(Z.name))),
            (R.modifiers = Array.from(
              new Set([...A, ...I.popperOptions.modifiers])
            ));
        }
        return R;
      }
      return A;
    }
    function Wt() {}
    function xe(I, A) {
      for (let R in A) I[R] = A[R];
      return I;
    }
    function B(I) {
      return I();
    }
    function J(I) {
      return 'function' == typeof I;
    }
    function rt(I, A) {
      return I != I
        ? A == A
        : I !== A || (I && 'object' == typeof I) || 'function' == typeof I;
    }
    function et(I) {
      I.parentNode.removeChild(I);
    }
    function lt(I) {
      return document.createElementNS('http://www.w3.org/2000/svg', I);
    }
    function Et(I, A, R, W) {
      return I.addEventListener(A, R, W), () => I.removeEventListener(A, R, W);
    }
    function gt(I, A, R) {
      null == R
        ? I.removeAttribute(A)
        : I.getAttribute(A) !== R && I.setAttribute(A, R);
    }
    function Rt(I, A) {
      let R = Object.getOwnPropertyDescriptors(I.__proto__);
      for (let W in A)
        null == A[W]
          ? I.removeAttribute(W)
          : 'style' === W
          ? (I.style.cssText = A[W])
          : '__value' === W
          ? (I.value = I[W] = A[W])
          : R[W] && R[W].set
          ? (I[W] = A[W])
          : gt(I, W, A[W]);
    }
    function Ct(I, A, R) {
      I.classList[R ? 'add' : 'remove'](A);
    }
    function se() {
      if (!Qi) throw Error('Function called outside component initialization');
      return Qi;
    }
    function pe(I) {
      Ts.push(I);
    }
    function ze() {
      let I = Qi;
      do {
        for (; pl < Ha.length; ) {
          var A = Ha[pl];
          if ((pl++, (Qi = A), null !== (A = A.$$).fragment)) {
            A.update(), A.before_update.forEach(B);
            var R = A.dirty;
            (A.dirty = [-1]),
              A.fragment && A.fragment.p(A.ctx, R),
              A.after_update.forEach(pe);
          }
        }
        for (Qi = null, pl = Ha.length = 0; In.length; ) In.pop()();
        for (A = 0; A < Ts.length; A += 1)
          Ga.has((R = Ts[A])) || (Ga.add(R), R());
        Ts.length = 0;
      } while (Ha.length);
      for (; As.length; ) As.pop()();
      (fi = !1), Ga.clear(), (Qi = I);
    }
    function ar() {
      Wa = { r: 0, c: [], p: Wa };
    }
    function Nt() {
      Wa.r || Wa.c.forEach(B), (Wa = Wa.p);
    }
    function Ge(I, A) {
      I && I.i && (go.delete(I), I.i(A));
    }
    function $e(I, A, R, W) {
      I &&
        I.o &&
        !go.has(I) &&
        (go.add(I),
        Wa.c.push(() => {
          go.delete(I), W && (R && I.d(1), W());
        }),
        I.o(A));
    }
    function lr(I) {
      I && I.c();
    }
    function ce(I, A, R, W) {
      let {
        fragment: Z,
        on_mount: dt,
        on_destroy: it,
        after_update: ae,
      } = I.$$;
      Z && Z.m(A, R),
        W ||
          pe(() => {
            let ge = dt.map(B).filter(J);
            it ? it.push(...ge) : ge.forEach(B), (I.$$.on_mount = []);
          }),
        ae.forEach(pe);
    }
    function Ke(I, A) {
      null !== (I = I.$$).fragment &&
        (I.on_destroy.forEach(B),
        I.fragment && I.fragment.d(A),
        (I.on_destroy = I.fragment = null),
        (I.ctx = []));
    }
    function Fr(I, A, R, W, Z, dt, it, ae) {
      void 0 === ae && (ae = [-1]);
      let ge = Qi;
      Qi = I;
      let $t = (I.$$ = {
        fragment: null,
        ctx: null,
        props: dt,
        update: Wt,
        not_equal: Z,
        bound: Object.create(null),
        on_mount: [],
        on_destroy: [],
        on_disconnect: [],
        before_update: [],
        after_update: [],
        context: new Map(A.context || (ge ? ge.$$.context : [])),
        callbacks: Object.create(null),
        dirty: ae,
        skip_bound: !1,
        root: A.target || ge.$$.root,
      });
      it && it($t.root);
      let De = !1;
      ($t.ctx = R
        ? R(I, A.props || {}, function (Fe, _e) {
            let Be =
              !(2 >= arguments.length) && arguments.length - 2
                ? 2 >= arguments.length
                  ? void 0
                  : arguments[2]
                : _e;
            return (
              $t.ctx &&
                Z($t.ctx[Fe], ($t.ctx[Fe] = Be)) &&
                (!$t.skip_bound && $t.bound[Fe] && $t.bound[Fe](Be),
                De &&
                  (-1 === I.$$.dirty[0] &&
                    (Ha.push(I),
                    fi || ((fi = !0), Ia.then(ze)),
                    I.$$.dirty.fill(0)),
                  (I.$$.dirty[(Fe / 31) | 0] |= 1 << Fe % 31))),
              _e
            );
          })
        : []),
        $t.update(),
        (De = !0),
        $t.before_update.forEach(B),
        ($t.fragment = !!W && W($t.ctx)),
        A.target &&
          (A.hydrate
            ? ((R = Array.from(A.target.childNodes)),
              $t.fragment && $t.fragment.l(R),
              R.forEach(et))
            : $t.fragment && $t.fragment.c(),
          A.intro && Ge(I.$$.fragment),
          ce(I, A.target, A.anchor, A.customElement),
          ze()),
        (Qi = ge);
    }
    function ti(I) {
      let A, R, W, Z, dt;
      return {
        c() {
          (A = document.createElement('button')),
            gt(A, 'aria-label', (R = I[3] ? I[3] : null)),
            gt(
              A,
              'class',
              (W = `${I[1] || ''} shepherd-button ${
                I[4] ? 'shepherd-button-secondary' : ''
              }`)
            ),
            (A.disabled = I[2]),
            gt(A, 'tabindex', '0');
        },
        m(it, ae) {
          it.insertBefore(A, ae || null),
            (A.innerHTML = I[5]),
            Z ||
              ((dt = Et(A, 'click', function () {
                J(I[0]) && I[0].apply(this, arguments);
              })),
              (Z = !0));
        },
        p(it, ae) {
          ([ae] = ae),
            (I = it),
            32 & ae && (A.innerHTML = I[5]),
            8 & ae && R !== (R = I[3] ? I[3] : null) && gt(A, 'aria-label', R),
            18 & ae &&
              W !==
                (W = `${I[1] || ''} shepherd-button ${
                  I[4] ? 'shepherd-button-secondary' : ''
                }`) &&
              gt(A, 'class', W),
            4 & ae && (A.disabled = I[2]);
        },
        i: Wt,
        o: Wt,
        d(it) {
          it && et(A), (Z = !1), dt();
        },
      };
    }
    function mn(I, A, R) {
      function W(_e) {
        return Dt(_e) ? _e.call(dt) : _e;
      }
      let it,
        ae,
        ge,
        $t,
        De,
        Fe,
        { config: Z, step: dt } = A;
      return (
        (I.$$set = (_e) => {
          'config' in _e && R(6, (Z = _e.config)),
            'step' in _e && R(7, (dt = _e.step));
        }),
        (I.$$.update = () => {
          192 & I.$$.dirty &&
            (R(0, (it = Z.action ? Z.action.bind(dt.tour) : null)),
            R(1, (ae = Z.classes)),
            R(2, (ge = !!Z.disabled && W(Z.disabled))),
            R(3, ($t = Z.label ? W(Z.label) : null)),
            R(4, (De = Z.secondary)),
            R(5, (Fe = Z.text ? W(Z.text) : null)));
        }),
        [it, ae, ge, $t, De, Fe, Z, dt]
      );
    }
    function $r(I, A, R) {
      return ((I = I.slice())[2] = A[R]), I;
    }
    function Mn(I) {
      let A,
        R,
        W = I[1],
        Z = [];
      for (let it = 0; it < W.length; it += 1) Z[it] = ji($r(I, W, it));
      let dt = (it) =>
        $e(Z[it], 1, 1, () => {
          Z[it] = null;
        });
      return {
        c() {
          for (let it = 0; it < Z.length; it += 1) Z[it].c();
          A = document.createTextNode('');
        },
        m(it, ae) {
          for (let ge = 0; ge < Z.length; ge += 1) Z[ge].m(it, ae);
          it.insertBefore(A, ae || null), (R = !0);
        },
        p(it, ae) {
          if (3 & ae) {
            let ge;
            for (W = it[1], ge = 0; ge < W.length; ge += 1) {
              let $t = $r(it, W, ge);
              Z[ge]
                ? (Z[ge].p($t, ae), Ge(Z[ge], 1))
                : ((Z[ge] = ji($t)),
                  Z[ge].c(),
                  Ge(Z[ge], 1),
                  Z[ge].m(A.parentNode, A));
            }
            for (ar(), ge = W.length; ge < Z.length; ge += 1) dt(ge);
            Nt();
          }
        },
        i(it) {
          if (!R) {
            for (it = 0; it < W.length; it += 1) Ge(Z[it]);
            R = !0;
          }
        },
        o(it) {
          for (Z = Z.filter(Boolean), it = 0; it < Z.length; it += 1) $e(Z[it]);
          R = !1;
        },
        d(it) {
          var ae = Z;
          for (let ge = 0; ge < ae.length; ge += 1) ae[ge] && ae[ge].d(it);
          it && et(A);
        },
      };
    }
    function ji(I) {
      let A, R;
      return (
        (A = new hi({ props: { config: I[2], step: I[0] } })),
        {
          c() {
            lr(A.$$.fragment);
          },
          m(W, Z) {
            ce(A, W, Z), (R = !0);
          },
          p(W, Z) {
            let dt = {};
            2 & Z && (dt.config = W[2]), 1 & Z && (dt.step = W[0]), A.$set(dt);
          },
          i(W) {
            R || (Ge(A.$$.fragment, W), (R = !0));
          },
          o(W) {
            $e(A.$$.fragment, W), (R = !1);
          },
          d(W) {
            Ke(A, W);
          },
        }
      );
    }
    function Va(I) {
      let A,
        R,
        W = I[1] && Mn(I);
      return {
        c() {
          (A = document.createElement('footer')),
            W && W.c(),
            gt(A, 'class', 'shepherd-footer');
        },
        m(Z, dt) {
          Z.insertBefore(A, dt || null), W && W.m(A, null), (R = !0);
        },
        p(Z, dt) {
          ([dt] = dt),
            Z[1]
              ? W
                ? (W.p(Z, dt), 2 & dt && Ge(W, 1))
                : ((W = Mn(Z)), W.c(), Ge(W, 1), W.m(A, null))
              : W &&
                (ar(),
                $e(W, 1, 1, () => {
                  W = null;
                }),
                Nt());
        },
        i(Z) {
          R || (Ge(W), (R = !0));
        },
        o(Z) {
          $e(W), (R = !1);
        },
        d(Z) {
          Z && et(A), W && W.d();
        },
      };
    }
    function Gn(I, A, R) {
      let W,
        { step: Z } = A;
      return (
        (I.$$set = (dt) => {
          'step' in dt && R(0, (Z = dt.step));
        }),
        (I.$$.update = () => {
          1 & I.$$.dirty && R(1, (W = Z.options.buttons));
        }),
        [Z, W]
      );
    }
    function Nr(I) {
      let A, R, W, Z, dt;
      return {
        c() {
          (A = document.createElement('button')),
            (R = document.createElement('span')),
            (R.textContent = '\xd7'),
            gt(R, 'aria-hidden', 'true'),
            gt(A, 'aria-label', (W = I[0].label ? I[0].label : 'Close Tour')),
            gt(A, 'class', 'shepherd-cancel-icon'),
            gt(A, 'type', 'button');
        },
        m(it, ae) {
          it.insertBefore(A, ae || null),
            A.appendChild(R),
            Z || ((dt = Et(A, 'click', I[1])), (Z = !0));
        },
        p(it, ae) {
          ([ae] = ae),
            1 & ae &&
              W !== (W = it[0].label ? it[0].label : 'Close Tour') &&
              gt(A, 'aria-label', W);
        },
        i: Wt,
        o: Wt,
        d(it) {
          it && et(A), (Z = !1), dt();
        },
      };
    }
    function Wn(I, A, R) {
      let { cancelIcon: W, step: Z } = A;
      return (
        (I.$$set = (dt) => {
          'cancelIcon' in dt && R(0, (W = dt.cancelIcon)),
            'step' in dt && R(2, (Z = dt.step));
        }),
        [
          W,
          (dt) => {
            dt.preventDefault(), Z.cancel();
          },
          Z,
        ]
      );
    }
    function Ki(I) {
      let A;
      return {
        c() {
          (A = document.createElement('h3')),
            gt(A, 'id', I[1]),
            gt(A, 'class', 'shepherd-title');
        },
        m(R, W) {
          R.insertBefore(A, W || null), I[3](A);
        },
        p(R, W) {
          ([W] = W), 2 & W && gt(A, 'id', R[1]);
        },
        i: Wt,
        o: Wt,
        d(R) {
          R && et(A), I[3](null);
        },
      };
    }
    function ei(I, A, R) {
      let { labelId: W, element: Z, title: dt } = A;
      return (
        se().$$.after_update.push(() => {
          Dt(dt) && R(2, (dt = dt())), R(0, (Z.innerHTML = dt), Z);
        }),
        (I.$$set = (it) => {
          'labelId' in it && R(1, (W = it.labelId)),
            'element' in it && R(0, (Z = it.element)),
            'title' in it && R(2, (dt = it.title));
        }),
        [
          Z,
          W,
          dt,
          function (it) {
            In[it ? 'unshift' : 'push'](() => {
              (Z = it), R(0, Z);
            });
          },
        ]
      );
    }
    function Ti(I) {
      let A, R;
      return (
        (A = new Pi({ props: { labelId: I[0], title: I[2] } })),
        {
          c() {
            lr(A.$$.fragment);
          },
          m(W, Z) {
            ce(A, W, Z), (R = !0);
          },
          p(W, Z) {
            let dt = {};
            1 & Z && (dt.labelId = W[0]),
              4 & Z && (dt.title = W[2]),
              A.$set(dt);
          },
          i(W) {
            R || (Ge(A.$$.fragment, W), (R = !0));
          },
          o(W) {
            $e(A.$$.fragment, W), (R = !1);
          },
          d(W) {
            Ke(A, W);
          },
        }
      );
    }
    function xi(I) {
      let A, R;
      return (
        (A = new mo({ props: { cancelIcon: I[3], step: I[1] } })),
        {
          c() {
            lr(A.$$.fragment);
          },
          m(W, Z) {
            ce(A, W, Z), (R = !0);
          },
          p(W, Z) {
            let dt = {};
            8 & Z && (dt.cancelIcon = W[3]),
              2 & Z && (dt.step = W[1]),
              A.$set(dt);
          },
          i(W) {
            R || (Ge(A.$$.fragment, W), (R = !0));
          },
          o(W) {
            $e(A.$$.fragment, W), (R = !1);
          },
          d(W) {
            Ke(A, W);
          },
        }
      );
    }
    function dl(I) {
      let A,
        R,
        W,
        Z = I[2] && Ti(I),
        dt = I[3] && I[3].enabled && xi(I);
      return {
        c() {
          (A = document.createElement('header')),
            Z && Z.c(),
            (R = document.createTextNode(' ')),
            dt && dt.c(),
            gt(A, 'class', 'shepherd-header');
        },
        m(it, ae) {
          it.insertBefore(A, ae || null),
            Z && Z.m(A, null),
            A.appendChild(R),
            dt && dt.m(A, null),
            (W = !0);
        },
        p(it, ae) {
          ([ae] = ae),
            it[2]
              ? Z
                ? (Z.p(it, ae), 4 & ae && Ge(Z, 1))
                : ((Z = Ti(it)), Z.c(), Ge(Z, 1), Z.m(A, R))
              : Z &&
                (ar(),
                $e(Z, 1, 1, () => {
                  Z = null;
                }),
                Nt()),
            it[3] && it[3].enabled
              ? dt
                ? (dt.p(it, ae), 8 & ae && Ge(dt, 1))
                : ((dt = xi(it)), dt.c(), Ge(dt, 1), dt.m(A, null))
              : dt &&
                (ar(),
                $e(dt, 1, 1, () => {
                  dt = null;
                }),
                Nt());
        },
        i(it) {
          W || (Ge(Z), Ge(dt), (W = !0));
        },
        o(it) {
          $e(Z), $e(dt), (W = !1);
        },
        d(it) {
          it && et(A), Z && Z.d(), dt && dt.d();
        },
      };
    }
    function Ho(I, A, R) {
      let dt,
        it,
        { labelId: W, step: Z } = A;
      return (
        (I.$$set = (ae) => {
          'labelId' in ae && R(0, (W = ae.labelId)),
            'step' in ae && R(1, (Z = ae.step));
        }),
        (I.$$.update = () => {
          2 & I.$$.dirty &&
            (R(2, (dt = Z.options.title)), R(3, (it = Z.options.cancelIcon)));
        }),
        [W, Z, dt, it]
      );
    }
    function pa(I) {
      let A;
      return {
        c() {
          (A = document.createElement('div')),
            gt(A, 'class', 'shepherd-text'),
            gt(A, 'id', I[1]);
        },
        m(R, W) {
          R.insertBefore(A, W || null), I[3](A);
        },
        p(R, W) {
          ([W] = W), 2 & W && gt(A, 'id', R[1]);
        },
        i: Wt,
        o: Wt,
        d(R) {
          R && et(A), I[3](null);
        },
      };
    }
    function Ai(I, A, R) {
      let { descriptionId: W, element: Z, step: dt } = A;
      return (
        se().$$.after_update.push(() => {
          let { text: it } = dt.options;
          Dt(it) && (it = it.call(dt)),
            it instanceof HTMLElement
              ? Z.appendChild(it)
              : R(0, (Z.innerHTML = it), Z);
        }),
        (I.$$set = (it) => {
          'descriptionId' in it && R(1, (W = it.descriptionId)),
            'element' in it && R(0, (Z = it.element)),
            'step' in it && R(2, (dt = it.step));
        }),
        [
          Z,
          W,
          dt,
          function (it) {
            In[it ? 'unshift' : 'push'](() => {
              (Z = it), R(0, Z);
            });
          },
        ]
      );
    }
    function xs(I) {
      let A, R;
      return (
        (A = new Ri({ props: { labelId: I[1], step: I[2] } })),
        {
          c() {
            lr(A.$$.fragment);
          },
          m(W, Z) {
            ce(A, W, Z), (R = !0);
          },
          p(W, Z) {
            let dt = {};
            2 & Z && (dt.labelId = W[1]), 4 & Z && (dt.step = W[2]), A.$set(dt);
          },
          i(W) {
            R || (Ge(A.$$.fragment, W), (R = !0));
          },
          o(W) {
            $e(A.$$.fragment, W), (R = !1);
          },
          d(W) {
            Ke(A, W);
          },
        }
      );
    }
    function $n(I) {
      let A, R;
      return (
        (A = new ka({ props: { descriptionId: I[0], step: I[2] } })),
        {
          c() {
            lr(A.$$.fragment);
          },
          m(W, Z) {
            ce(A, W, Z), (R = !0);
          },
          p(W, Z) {
            let dt = {};
            1 & Z && (dt.descriptionId = W[0]),
              4 & Z && (dt.step = W[2]),
              A.$set(dt);
          },
          i(W) {
            R || (Ge(A.$$.fragment, W), (R = !0));
          },
          o(W) {
            $e(A.$$.fragment, W), (R = !1);
          },
          d(W) {
            Ke(A, W);
          },
        }
      );
    }
    function bs(I) {
      let A, R;
      return (
        (A = new $a({ props: { step: I[2] } })),
        {
          c() {
            lr(A.$$.fragment);
          },
          m(W, Z) {
            ce(A, W, Z), (R = !0);
          },
          p(W, Z) {
            let dt = {};
            4 & Z && (dt.step = W[2]), A.$set(dt);
          },
          i(W) {
            R || (Ge(A.$$.fragment, W), (R = !0));
          },
          o(W) {
            $e(A.$$.fragment, W), (R = !1);
          },
          d(W) {
            Ke(A, W);
          },
        }
      );
    }
    function La(I) {
      let A,
        W,
        dt,
        ae,
        R =
          void 0 !== I[2].options.title ||
          (I[2].options.cancelIcon && I[2].options.cancelIcon.enabled),
        Z = void 0 !== I[2].options.text,
        it = Array.isArray(I[2].options.buttons) && I[2].options.buttons.length,
        ge = R && xs(I),
        $t = Z && $n(I),
        De = it && bs(I);
      return {
        c() {
          (A = document.createElement('div')),
            ge && ge.c(),
            (W = document.createTextNode(' ')),
            $t && $t.c(),
            (dt = document.createTextNode(' ')),
            De && De.c(),
            gt(A, 'class', 'shepherd-content');
        },
        m(Fe, _e) {
          Fe.insertBefore(A, _e || null),
            ge && ge.m(A, null),
            A.appendChild(W),
            $t && $t.m(A, null),
            A.appendChild(dt),
            De && De.m(A, null),
            (ae = !0);
        },
        p(Fe, _e) {
          ([_e] = _e),
            4 & _e &&
              (R =
                void 0 !== Fe[2].options.title ||
                (Fe[2].options.cancelIcon && Fe[2].options.cancelIcon.enabled)),
            R
              ? ge
                ? (ge.p(Fe, _e), 4 & _e && Ge(ge, 1))
                : ((ge = xs(Fe)), ge.c(), Ge(ge, 1), ge.m(A, W))
              : ge &&
                (ar(),
                $e(ge, 1, 1, () => {
                  ge = null;
                }),
                Nt()),
            4 & _e && (Z = void 0 !== Fe[2].options.text),
            Z
              ? $t
                ? ($t.p(Fe, _e), 4 & _e && Ge($t, 1))
                : (($t = $n(Fe)), $t.c(), Ge($t, 1), $t.m(A, dt))
              : $t &&
                (ar(),
                $e($t, 1, 1, () => {
                  $t = null;
                }),
                Nt()),
            4 & _e &&
              (it =
                Array.isArray(Fe[2].options.buttons) &&
                Fe[2].options.buttons.length),
            it
              ? De
                ? (De.p(Fe, _e), 4 & _e && Ge(De, 1))
                : ((De = bs(Fe)), De.c(), Ge(De, 1), De.m(A, null))
              : De &&
                (ar(),
                $e(De, 1, 1, () => {
                  De = null;
                }),
                Nt());
        },
        i(Fe) {
          ae || (Ge(ge), Ge($t), Ge(De), (ae = !0));
        },
        o(Fe) {
          $e(ge), $e($t), $e(De), (ae = !1);
        },
        d(Fe) {
          Fe && et(A), ge && ge.d(), $t && $t.d(), De && De.d();
        },
      };
    }
    function _n(I, A, R) {
      let { descriptionId: W, labelId: Z, step: dt } = A;
      return (
        (I.$$set = (it) => {
          'descriptionId' in it && R(0, (W = it.descriptionId)),
            'labelId' in it && R(1, (Z = it.labelId)),
            'step' in it && R(2, (dt = it.step));
        }),
        [W, Z, dt]
      );
    }
    function Je(I) {
      let A;
      return {
        c() {
          (A = document.createElement('div')),
            gt(A, 'class', 'shepherd-arrow'),
            gt(A, 'data-popper-arrow', '');
        },
        m(R, W) {
          R.insertBefore(A, W || null);
        },
        d(R) {
          R && et(A);
        },
      };
    }
    function dn(I) {
      let A,
        R,
        W,
        Z,
        dt,
        it,
        ae,
        ge,
        $t =
          I[4].options.arrow &&
          I[4].options.attachTo &&
          I[4].options.attachTo.element &&
          I[4].options.attachTo.on &&
          Je();
      W = new yo({ props: { descriptionId: I[2], labelId: I[3], step: I[4] } });
      let De = [
          {
            'aria-describedby': (Z =
              void 0 !== I[4].options.text ? I[2] : null),
          },
          { 'aria-labelledby': (dt = I[4].options.title ? I[3] : null) },
          I[1],
          { role: 'dialog' },
          { tabindex: '0' },
        ],
        Fe = {};
      for (let _e = 0; _e < De.length; _e += 1) Fe = xe(Fe, De[_e]);
      return {
        c() {
          (A = document.createElement('div')),
            $t && $t.c(),
            (R = document.createTextNode(' ')),
            lr(W.$$.fragment),
            Rt(A, Fe),
            Ct(A, 'shepherd-has-cancel-icon', I[5]),
            Ct(A, 'shepherd-has-title', I[6]),
            Ct(A, 'shepherd-element', !0);
        },
        m(_e, Be) {
          _e.insertBefore(A, Be || null),
            $t && $t.m(A, null),
            A.appendChild(R),
            ce(W, A, null),
            I[13](A),
            (it = !0),
            ae || ((ge = Et(A, 'keydown', I[7])), (ae = !0));
        },
        p(_e, Be) {
          var [xr] = Be;
          _e[4].options.arrow &&
          _e[4].options.attachTo &&
          _e[4].options.attachTo.element &&
          _e[4].options.attachTo.on
            ? $t || (($t = Je()), $t.c(), $t.m(A, R))
            : $t && ($t.d(1), ($t = null)),
            (Be = {}),
            4 & xr && (Be.descriptionId = _e[2]),
            8 & xr && (Be.labelId = _e[3]),
            16 & xr && (Be.step = _e[4]),
            W.$set(Be),
            (Be = A),
            (xr = [
              (!it ||
                (20 & xr &&
                  Z !==
                    (Z = void 0 !== _e[4].options.text ? _e[2] : null))) && {
                'aria-describedby': Z,
              },
              (!it ||
                (24 & xr &&
                  dt !== (dt = _e[4].options.title ? _e[3] : null))) && {
                'aria-labelledby': dt,
              },
              2 & xr && _e[1],
              { role: 'dialog' },
              { tabindex: '0' },
            ]);
          let xt = {},
            We = {},
            rr = { $$scope: 1 },
            Xr = De.length;
          for (; Xr--; ) {
            let Ve = De[Xr],
              yr = xr[Xr];
            if (yr) {
              for (let Zr in Ve) Zr in yr || (We[Zr] = 1);
              for (let Zr in yr) rr[Zr] || ((xt[Zr] = yr[Zr]), (rr[Zr] = 1));
              De[Xr] = yr;
            } else for (let Zr in Ve) rr[Zr] = 1;
          }
          for (let Ve in We) Ve in xt || (xt[Ve] = void 0);
          Rt(Be, (Fe = xt)),
            Ct(A, 'shepherd-has-cancel-icon', _e[5]),
            Ct(A, 'shepherd-has-title', _e[6]),
            Ct(A, 'shepherd-element', !0);
        },
        i(_e) {
          it || (Ge(W.$$.fragment, _e), (it = !0));
        },
        o(_e) {
          $e(W.$$.fragment, _e), (it = !1);
        },
        d(_e) {
          _e && et(A), $t && $t.d(), Ke(W), I[13](null), (ae = !1), ge();
        },
      };
    }
    function Mi(I) {
      return I.split(' ').filter((A) => !!A.length);
    }
    function Ln(I, A, R) {
      let _e,
        Be,
        xr,
        {
          classPrefix: W,
          element: Z,
          descriptionId: dt,
          firstFocusableElement: it,
          focusableElements: ae,
          labelId: ge,
          lastFocusableElement: $t,
          step: De,
          dataStepId: Fe,
        } = A;
      return (
        se().$$.on_mount.push(() => {
          R(1, (Fe = { [`data-${W}shepherd-step-id`]: De.id })),
            R(
              9,
              (ae = Z.querySelectorAll(
                'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'
              ))
            ),
            R(8, (it = ae[0])),
            R(10, ($t = ae[ae.length - 1]));
        }),
        se().$$.after_update.push(() => {
          if (xr !== De.options.classes) {
            var xt = xr;
            bt(xt) && (xt = Mi(xt)).length && Z.classList.remove(...xt),
              bt((xt = xr = De.options.classes)) &&
                (xt = Mi(xt)).length &&
                Z.classList.add(...xt);
          }
        }),
        (I.$$set = (xt) => {
          'classPrefix' in xt && R(11, (W = xt.classPrefix)),
            'element' in xt && R(0, (Z = xt.element)),
            'descriptionId' in xt && R(2, (dt = xt.descriptionId)),
            'firstFocusableElement' in xt &&
              R(8, (it = xt.firstFocusableElement)),
            'focusableElements' in xt && R(9, (ae = xt.focusableElements)),
            'labelId' in xt && R(3, (ge = xt.labelId)),
            'lastFocusableElement' in xt &&
              R(10, ($t = xt.lastFocusableElement)),
            'step' in xt && R(4, (De = xt.step)),
            'dataStepId' in xt && R(1, (Fe = xt.dataStepId));
        }),
        (I.$$.update = () => {
          16 & I.$$.dirty &&
            (R(
              5,
              (_e =
                De.options &&
                De.options.cancelIcon &&
                De.options.cancelIcon.enabled)
            ),
            R(6, (Be = De.options && De.options.title)));
        }),
        [
          Z,
          Fe,
          dt,
          ge,
          De,
          _e,
          Be,
          (xt) => {
            const { tour: We } = De;
            switch (xt.keyCode) {
              case 9:
                if (0 === ae.length) {
                  xt.preventDefault();
                  break;
                }
                xt.shiftKey
                  ? (document.activeElement === it ||
                      document.activeElement.classList.contains(
                        'shepherd-element'
                      )) &&
                    (xt.preventDefault(), $t.focus())
                  : document.activeElement === $t &&
                    (xt.preventDefault(), it.focus());
                break;
              case 27:
                We.options.exitOnEsc && De.cancel();
                break;
              case 37:
                We.options.keyboardNavigation && We.back();
                break;
              case 39:
                We.options.keyboardNavigation && We.next();
            }
          },
          it,
          ae,
          $t,
          W,
          () => Z,
          function (xt) {
            In[xt ? 'unshift' : 'push'](() => {
              (Z = xt), R(0, Z);
            });
          },
        ]
      );
    }
    function Li(I) {
      let A, R, W, Z, dt;
      return {
        c() {
          (A = lt('svg')),
            (R = lt('path')),
            gt(R, 'd', I[2]),
            gt(
              A,
              'class',
              (W =
                (I[1] ? 'shepherd-modal-is-visible' : '') +
                ' shepherd-modal-overlay-container')
            );
        },
        m(it, ae) {
          it.insertBefore(A, ae || null),
            A.appendChild(R),
            I[11](A),
            Z || ((dt = Et(A, 'touchmove', I[3])), (Z = !0));
        },
        p(it, ae) {
          ([ae] = ae),
            4 & ae && gt(R, 'd', it[2]),
            2 & ae &&
              W !==
                (W =
                  (it[1] ? 'shepherd-modal-is-visible' : '') +
                  ' shepherd-modal-overlay-container') &&
              gt(A, 'class', W);
        },
        i: Wt,
        o: Wt,
        d(it) {
          it && et(A), I[11](null), (Z = !1), dt();
        },
      };
    }
    function Go(I) {
      if (!I) return null;
      let A = I instanceof HTMLElement && window.getComputedStyle(I).overflowY;
      return 'hidden' !== A &&
        'visible' !== A &&
        I.scrollHeight >= I.clientHeight
        ? I
        : Go(I.parentElement);
    }
    function ci(I, A, R) {
      function W() {
        R(4, (De = { width: 0, height: 0, x: 0, y: 0, r: 0 }));
      }
      function Z() {
        R(1, (Fe = !1)), ae();
      }
      function dt(xt, We, rr, Xr) {
        if ((void 0 === xt && (xt = 0), void 0 === We && (We = 0), Xr)) {
          var Ve = Xr.getBoundingClientRect();
          let Zr = Ve.y || Ve.top;
          if (((Ve = Ve.bottom || Zr + Ve.height), rr)) {
            var yr = rr.getBoundingClientRect();
            (rr = yr.y || yr.top),
              (yr = yr.bottom || rr + yr.height),
              (Zr = Math.max(Zr, rr)),
              (Ve = Math.min(Ve, yr));
          }
          let { y: Oi, height: ni } = { y: Zr, height: Math.max(Ve - Zr, 0) },
            { x: di, width: Tn, left: bo } = Xr.getBoundingClientRect();
          R(
            4,
            (De = {
              width: Tn + 2 * xt,
              height: ni + 2 * xt,
              x: (di || bo) - xt,
              y: Oi - xt,
              r: We,
            })
          );
        } else W();
      }
      function it() {
        R(1, (Fe = !0));
      }
      function ae() {
        _e && (cancelAnimationFrame(_e), (_e = void 0)),
          window.removeEventListener('touchmove', xr, { passive: !1 });
      }
      function ge(xt) {
        let { modalOverlayOpeningPadding: We, modalOverlayOpeningRadius: rr } =
            xt.options,
          Xr = Go(xt.target),
          Ve = () => {
            (_e = void 0),
              dt(We, rr, Xr, xt.target),
              (_e = requestAnimationFrame(Ve));
          };
        Ve(), window.addEventListener('touchmove', xr, { passive: !1 });
      }
      let { element: $t, openingProperties: De } = A;
      Pt();
      let _e,
        Be,
        Fe = !1;
      W();
      let xr = (xt) => {
        xt.preventDefault();
      };
      return (
        (I.$$set = (xt) => {
          'element' in xt && R(0, ($t = xt.element)),
            'openingProperties' in xt && R(4, (De = xt.openingProperties));
        }),
        (I.$$.update = () => {
          if (16 & I.$$.dirty) {
            let { width: xt, height: We, x: rr = 0, y: Xr = 0, r: Ve = 0 } = De,
              { innerWidth: yr, innerHeight: Zr } = window;
            R(
              2,
              (Be = `M${yr},${Zr}H0V0H${yr}V${Zr}ZM${
                rr + Ve
              },${Xr}a${Ve},${Ve},0,0,0-${Ve},${Ve}V${
                We + Xr - Ve
              }a${Ve},${Ve},0,0,0,${Ve},${Ve}H${
                xt + rr - Ve
              }a${Ve},${Ve},0,0,0,${Ve}-${Ve}V${
                Xr + Ve
              }a${Ve},${Ve},0,0,0-${Ve}-${Ve}Z`)
            );
          }
        }),
        [
          $t,
          Fe,
          Be,
          (xt) => {
            xt.stopPropagation();
          },
          De,
          () => $t,
          W,
          Z,
          dt,
          function (xt) {
            ae(), xt.tour.options.useModalOverlay ? (ge(xt), it()) : Z();
          },
          it,
          function (xt) {
            In[xt ? 'unshift' : 'push'](() => {
              ($t = xt), R(0, $t);
            });
          },
        ]
      );
    }
    var Se = function (I) {
        var A;
        return (
          (A = !!I && 'object' == typeof I) &&
            (A = !(
              '[object RegExp]' === (A = Object.prototype.toString.call(I)) ||
              '[object Date]' === A ||
              I.$$typeof === pr
            )),
          A
        );
      },
      pr =
        'function' == typeof Symbol && Symbol.for
          ? Symbol.for('react.element')
          : 60103;
    yt.all = function (I, A) {
      if (!Array.isArray(I)) throw Error('first argument should be an array');
      return I.reduce(function (R, W) {
        return yt(R, W, A);
      }, {});
    };
    var vl = yt;
    class Wo {
      on(A, R, W, Z) {
        return (
          void 0 === Z && (Z = !1),
          void 0 === this.bindings && (this.bindings = {}),
          void 0 === this.bindings[A] && (this.bindings[A] = []),
          this.bindings[A].push({ handler: R, ctx: W, once: Z }),
          this
        );
      }
      once(A, R, W) {
        return this.on(A, R, W, !0);
      }
      off(A, R) {
        return (
          void 0 === this.bindings ||
            void 0 === this.bindings[A] ||
            (void 0 === R
              ? delete this.bindings[A]
              : this.bindings[A].forEach((W, Z) => {
                  W.handler === R && this.bindings[A].splice(Z, 1);
                })),
          this
        );
      }
      trigger(A) {
        for (
          var R = arguments.length, W = Array(1 < R ? R - 1 : 0), Z = 1;
          Z < R;
          Z++
        )
          W[Z - 1] = arguments[Z];
        return (
          void 0 !== this.bindings &&
            this.bindings[A] &&
            this.bindings[A].forEach((dt, it) => {
              let { ctx: ae, handler: ge, once: $t } = dt;
              ge.apply(ae || this, W), $t && this.bindings[A].splice(it, 1);
            }),
          this
        );
      }
    }
    var ga = ['top', 'bottom', 'right', 'left'],
      _s = ga.reduce(function (I, A) {
        return I.concat([A + '-start', A + '-end']);
      }, []),
      Ss = [].concat(ga, ['auto']).reduce(function (I, A) {
        return I.concat([A, A + '-start', A + '-end']);
      }, []),
      mr =
        'beforeRead read afterRead beforeMain main afterMain beforeWrite write afterWrite'.split(
          ' '
        ),
      Ii = Math.max,
      ki = Math.min,
      ri = Math.round,
      Uc = { top: 'auto', right: 'auto', bottom: 'auto', left: 'auto' },
      Dn = { passive: !0 },
      ws = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' },
      Cs = { start: 'end', end: 'start' },
      du = { placement: 'bottom', modifiers: [], strategy: 'absolute' },
      Ds = (function (I) {
        void 0 === I && (I = {});
        var A = I.defaultModifiers,
          R = void 0 === A ? [] : A,
          W = void 0 === (I = I.defaultOptions) ? du : I;
        return function (Z, dt, it) {
          function ge() {
            De.forEach(function (Be) {
              return Be();
            }),
              (De = []);
          }
          void 0 === it && (it = W);
          var $t = {
              placement: 'bottom',
              orderedModifiers: [],
              options: Object.assign({}, du, W),
              modifiersData: {},
              elements: { reference: Z, popper: dt },
              attributes: {},
              styles: {},
            },
            De = [],
            Fe = !1,
            _e = {
              state: $t,
              setOptions: function (Be) {
                return (
                  (Be = 'function' == typeof Be ? Be($t.options) : Be),
                  ge(),
                  ($t.options = Object.assign({}, W, $t.options, Be)),
                  ($t.scrollParents = {
                    reference: wt(Z)
                      ? $(Z)
                      : Z.contextElement
                      ? $(Z.contextElement)
                      : [],
                    popper: $(dt),
                  }),
                  (Be = (function Tt(I) {
                    var A = me(I);
                    return mr.reduce(function (R, W) {
                      return R.concat(
                        A.filter(function (Z) {
                          return Z.phase === W;
                        })
                      );
                    }, []);
                  })(
                    (function ht(I) {
                      var A = I.reduce(function (R, W) {
                        var Z = R[W.name];
                        return (
                          (R[W.name] = Z
                            ? Object.assign({}, Z, W, {
                                options: Object.assign(
                                  {},
                                  Z.options,
                                  W.options
                                ),
                                data: Object.assign({}, Z.data, W.data),
                              })
                            : W),
                          R
                        );
                      }, {});
                      return Object.keys(A).map(function (R) {
                        return A[R];
                      });
                    })([].concat(R, $t.options.modifiers))
                  )),
                  ($t.orderedModifiers = Be.filter(function (xr) {
                    return xr.enabled;
                  })),
                  (function ae() {
                    $t.orderedModifiers.forEach(function (Be) {
                      var xr = Be.name,
                        xt = Be.options;
                      (xt = void 0 === xt ? {} : xt),
                        'function' == typeof (Be = Be.effect) &&
                          ((xr = Be({
                            state: $t,
                            name: xr,
                            instance: _e,
                            options: xt,
                          })),
                          De.push(xr || function () {}));
                    });
                  })(),
                  _e.update()
                );
              },
              forceUpdate: function () {
                if (!Fe) {
                  var Be = $t.elements,
                    xr = Be.reference;
                  if (It(xr, (Be = Be.popper)))
                    for (
                      $t.rects = {
                        reference: kt(
                          xr,
                          Pe(Be),
                          'fixed' === $t.options.strategy
                        ),
                        popper: Bt(Be),
                      },
                        $t.reset = !1,
                        $t.placement = $t.options.placement,
                        $t.orderedModifiers.forEach(function (rr) {
                          return ($t.modifiersData[rr.name] = Object.assign(
                            {},
                            rr.data
                          ));
                        }),
                        xr = 0;
                      xr < $t.orderedModifiers.length;
                      xr++
                    )
                      if (!0 === $t.reset) ($t.reset = !1), (xr = -1);
                      else {
                        var xt = $t.orderedModifiers[xr];
                        Be = xt.fn;
                        var We = xt.options;
                        (We = void 0 === We ? {} : We),
                          (xt = xt.name),
                          'function' == typeof Be &&
                            ($t =
                              Be({
                                state: $t,
                                options: We,
                                name: xt,
                                instance: _e,
                              }) || $t);
                      }
                }
              },
              update: fe(function () {
                return new Promise(function (Be) {
                  _e.forceUpdate(), Be($t);
                });
              }),
              destroy: function () {
                ge(), (Fe = !0);
              },
            };
          return (
            It(Z, dt) &&
              _e.setOptions(it).then(function (Be) {
                !Fe && it.onFirstUpdate && it.onFirstUpdate(Be);
              }),
            _e
          );
        };
      })({
        defaultModifiers: [
          {
            name: 'eventListeners',
            enabled: !0,
            phase: 'write',
            fn: function () {},
            effect: function (I) {
              var A = I.state,
                R = I.instance,
                W = (I = I.options).scroll,
                Z = void 0 === W || W,
                dt = void 0 === (I = I.resize) || I,
                it = de(A.elements.popper),
                ae = [].concat(
                  A.scrollParents.reference,
                  A.scrollParents.popper
                );
              return (
                Z &&
                  ae.forEach(function (ge) {
                    ge.addEventListener('scroll', R.update, Dn);
                  }),
                dt && it.addEventListener('resize', R.update, Dn),
                function () {
                  Z &&
                    ae.forEach(function (ge) {
                      ge.removeEventListener('scroll', R.update, Dn);
                    }),
                    dt && it.removeEventListener('resize', R.update, Dn);
                }
              );
            },
            data: {},
          },
          {
            name: 'popperOffsets',
            enabled: !0,
            phase: 'read',
            fn: function (I) {
              var A = I.state;
              A.modifiersData[I.name] = Ut({
                reference: A.rects.reference,
                element: A.rects.popper,
                strategy: 'absolute',
                placement: A.placement,
              });
            },
            data: {},
          },
          {
            name: 'computeStyles',
            enabled: !0,
            phase: 'beforeWrite',
            fn: function (I) {
              var A = I.state,
                R = I.options;
              I = void 0 === (I = R.gpuAcceleration) || I;
              var W = R.adaptive;
              (W = void 0 === W || W),
                (R = void 0 === (R = R.roundOffsets) || R),
                (I = {
                  placement: _t(A.placement),
                  variation: ir(A.placement),
                  popper: A.elements.popper,
                  popperRect: A.rects.popper,
                  gpuAcceleration: I,
                  isFixed: 'fixed' === A.options.strategy,
                }),
                null != A.modifiersData.popperOffsets &&
                  (A.styles.popper = Object.assign(
                    {},
                    A.styles.popper,
                    He(
                      Object.assign({}, I, {
                        offsets: A.modifiersData.popperOffsets,
                        position: A.options.strategy,
                        adaptive: W,
                        roundOffsets: R,
                      })
                    )
                  )),
                null != A.modifiersData.arrow &&
                  (A.styles.arrow = Object.assign(
                    {},
                    A.styles.arrow,
                    He(
                      Object.assign({}, I, {
                        offsets: A.modifiersData.arrow,
                        position: 'absolute',
                        adaptive: !1,
                        roundOffsets: R,
                      })
                    )
                  )),
                (A.attributes.popper = Object.assign({}, A.attributes.popper, {
                  'data-popper-placement': A.placement,
                }));
            },
            data: {},
          },
          {
            name: 'applyStyles',
            enabled: !0,
            phase: 'write',
            fn: function (I) {
              var A = I.state;
              Object.keys(A.elements).forEach(function (R) {
                var W = A.styles[R] || {},
                  Z = A.attributes[R] || {},
                  dt = A.elements[R];
                Zt(dt) &&
                  jt(dt) &&
                  (Object.assign(dt.style, W),
                  Object.keys(Z).forEach(function (it) {
                    var ae = Z[it];
                    !1 === ae
                      ? dt.removeAttribute(it)
                      : dt.setAttribute(it, !0 === ae ? '' : ae);
                  }));
              });
            },
            effect: function (I) {
              var A = I.state,
                R = {
                  popper: {
                    position: A.options.strategy,
                    left: '0',
                    top: '0',
                    margin: '0',
                  },
                  arrow: { position: 'absolute' },
                  reference: {},
                };
              return (
                Object.assign(A.elements.popper.style, R.popper),
                (A.styles = R),
                A.elements.arrow &&
                  Object.assign(A.elements.arrow.style, R.arrow),
                function () {
                  Object.keys(A.elements).forEach(function (W) {
                    var Z = A.elements[W],
                      dt = A.attributes[W] || {};
                    (W = Object.keys(
                      A.styles.hasOwnProperty(W) ? A.styles[W] : R[W]
                    ).reduce(function (it, ae) {
                      return (it[ae] = ''), it;
                    }, {})),
                      Zt(Z) &&
                        jt(Z) &&
                        (Object.assign(Z.style, W),
                        Object.keys(dt).forEach(function (it) {
                          Z.removeAttribute(it);
                        }));
                  });
                }
              );
            },
            requires: ['computeStyles'],
          },
          {
            name: 'offset',
            enabled: !0,
            phase: 'main',
            requires: ['popperOffsets'],
            fn: function (I) {
              var A = I.state,
                R = I.name,
                W = void 0 === (I = I.options.offset) ? [0, 0] : I,
                Z = (I = Ss.reduce(function (it, ae) {
                  var ge = A.rects,
                    $t = _t(ae),
                    De = 0 <= ['left', 'top'].indexOf($t) ? -1 : 1,
                    Fe =
                      'function' == typeof W
                        ? W(Object.assign({}, ge, { placement: ae }))
                        : W;
                  return (
                    (ge = (ge = Fe[0]) || 0),
                    (Fe = ((Fe = Fe[1]) || 0) * De),
                    ($t =
                      0 <= ['left', 'right'].indexOf($t)
                        ? { x: Fe, y: ge }
                        : { x: ge, y: Fe }),
                    (it[ae] = $t),
                    it
                  );
                }, {}))[A.placement],
                dt = Z.x;
              (Z = Z.y),
                null != A.modifiersData.popperOffsets &&
                  ((A.modifiersData.popperOffsets.x += dt),
                  (A.modifiersData.popperOffsets.y += Z)),
                (A.modifiersData[R] = I);
            },
          },
          {
            name: 'flip',
            enabled: !0,
            phase: 'main',
            fn: function (I) {
              var A = I.state,
                R = I.options;
              if (!A.modifiersData[(I = I.name)]._skip) {
                var W = R.mainAxis;
                W = void 0 === W || W;
                var Z = R.altAxis;
                Z = void 0 === Z || Z;
                var dt = R.fallbackPlacements,
                  it = R.padding,
                  ae = R.boundary,
                  ge = R.rootBoundary,
                  $t = R.altBoundary,
                  De = R.flipVariations,
                  Fe = void 0 === De || De,
                  _e = R.allowedAutoPlacements;
                (De = _t((R = A.options.placement))),
                  (dt =
                    dt ||
                    (De !== R && Fe
                      ? (function Ar(I) {
                          if ('auto' === _t(I)) return [];
                          var A = ft(I);
                          return [Gt(I), A, Gt(A)];
                        })(R)
                      : [ft(R)]));
                var Be = [R].concat(dt).reduce(function (ni, di) {
                  return ni.concat(
                    'auto' === _t(di)
                      ? (function je(I, A) {
                          void 0 === A && (A = {});
                          var R = A.boundary,
                            W = A.rootBoundary,
                            Z = A.padding,
                            dt = A.flipVariations,
                            it = A.allowedAutoPlacements,
                            ae = void 0 === it ? Ss : it,
                            ge = ir(A.placement);
                          0 ===
                            (dt = (A = ge
                              ? dt
                                ? _s
                                : _s.filter(function (De) {
                                    return ir(De) === ge;
                                  })
                              : ga).filter(function (De) {
                              return 0 <= ae.indexOf(De);
                            })).length && (dt = A);
                          var $t = dt.reduce(function (De, Fe) {
                            return (
                              (De[Fe] = Oe(I, {
                                placement: Fe,
                                boundary: R,
                                rootBoundary: W,
                                padding: Z,
                              })[_t(Fe)]),
                              De
                            );
                          }, {});
                          return Object.keys($t).sort(function (De, Fe) {
                            return $t[De] - $t[Fe];
                          });
                        })(A, {
                          placement: di,
                          boundary: ae,
                          rootBoundary: ge,
                          padding: it,
                          flipVariations: Fe,
                          allowedAutoPlacements: _e,
                        })
                      : di
                  );
                }, []);
                (R = A.rects.reference), (dt = A.rects.popper);
                var xr = new Map();
                De = !0;
                for (var xt = Be[0], We = 0; We < Be.length; We++) {
                  var rr = Be[We],
                    Xr = _t(rr),
                    Ve = 'start' === ir(rr),
                    yr = 0 <= ['top', 'bottom'].indexOf(Xr),
                    Zr = yr ? 'width' : 'height',
                    Oi = Oe(A, {
                      placement: rr,
                      boundary: ae,
                      rootBoundary: ge,
                      altBoundary: $t,
                      padding: it,
                    });
                  if (
                    ((Ve = yr
                      ? Ve
                        ? 'right'
                        : 'left'
                      : Ve
                      ? 'bottom'
                      : 'top'),
                    R[Zr] > dt[Zr] && (Ve = ft(Ve)),
                    (Zr = ft(Ve)),
                    (yr = []),
                    W && yr.push(0 >= Oi[Xr]),
                    Z && yr.push(0 >= Oi[Ve], 0 >= Oi[Zr]),
                    yr.every(function (ni) {
                      return ni;
                    }))
                  ) {
                    (xt = rr), (De = !1);
                    break;
                  }
                  xr.set(rr, yr);
                }
                if (De)
                  for (
                    W = function (ni) {
                      var di = Be.find(function (Tn) {
                        if ((Tn = xr.get(Tn)))
                          return Tn.slice(0, ni).every(function (bo) {
                            return bo;
                          });
                      });
                      if (di) return (xt = di), 'break';
                    },
                      Z = Fe ? 3 : 1;
                    0 < Z && 'break' !== W(Z);
                    Z--
                  );
                A.placement !== xt &&
                  ((A.modifiersData[I]._skip = !0),
                  (A.placement = xt),
                  (A.reset = !0));
              }
            },
            requiresIfExists: ['offset'],
            data: { _skip: !1 },
          },
          {
            name: 'preventOverflow',
            enabled: !0,
            phase: 'main',
            fn: function (I) {
              var A = I.state,
                R = I.options;
              I = I.name;
              var W = R.mainAxis,
                Z = void 0 === W || W,
                dt = void 0 !== (W = R.altAxis) && W,
                it = void 0 === (W = R.tether) || W,
                ae = void 0 === (W = R.tetherOffset) ? 0 : W,
                ge = Oe(A, {
                  boundary: R.boundary,
                  rootBoundary: R.rootBoundary,
                  padding: R.padding,
                  altBoundary: R.altBoundary,
                }),
                $t = _t(A.placement),
                De = ir(A.placement),
                Fe = !De,
                _e = Re($t);
              (R = 'x' === _e ? 'y' : 'x'), (W = A.modifiersData.popperOffsets);
              var Be = A.rects.reference,
                xr = A.rects.popper,
                xt =
                  'number' ==
                  typeof (ae =
                    'function' == typeof ae
                      ? ae(
                          Object.assign({}, A.rects, { placement: A.placement })
                        )
                      : ae)
                    ? { mainAxis: ae, altAxis: ae }
                    : Object.assign({ mainAxis: 0, altAxis: 0 }, ae),
                We = A.modifiersData.offset
                  ? A.modifiersData.offset[A.placement]
                  : null;
              if (((ae = { x: 0, y: 0 }), W)) {
                if (Z) {
                  var rr,
                    Xr = 'y' === _e ? 'top' : 'left',
                    Ve = 'y' === _e ? 'bottom' : 'right',
                    yr = 'y' === _e ? 'height' : 'width',
                    Zr = (Z = W[_e]) + ge[Xr],
                    Oi = Z - ge[Ve],
                    ni = it ? -xr[yr] / 2 : 0,
                    di = 'start' === De ? Be[yr] : xr[yr];
                  De = 'start' === De ? -xr[yr] : -Be[yr];
                  var Tn = A.elements.arrow;
                  Tn = it && Tn ? Bt(Tn) : { width: 0, height: 0 };
                  var bo = A.modifiersData['arrow#persistent']
                    ? A.modifiersData['arrow#persistent'].padding
                    : { top: 0, right: 0, bottom: 0, left: 0 };
                  (Xr = bo[Xr]),
                    (Ve = bo[Ve]),
                    (Tn = Ii(0, ki(Be[yr], Tn[yr]))),
                    (di = Fe
                      ? Be[yr] / 2 - ni - Tn - Xr - xt.mainAxis
                      : di - Tn - Xr - xt.mainAxis),
                    (Fe = Fe
                      ? -Be[yr] / 2 + ni + Tn + Ve + xt.mainAxis
                      : De + Tn + Ve + xt.mainAxis),
                    (yr = (yr = A.elements.arrow && Pe(A.elements.arrow))
                      ? 'y' === _e
                        ? yr.clientTop || 0
                        : yr.clientLeft || 0
                      : 0),
                    (ni = null != (rr = We?.[_e]) ? rr : 0),
                    (rr = Z + Fe - ni),
                    (Zr = it ? ki(Zr, Z + di - ni - yr) : Zr),
                    (rr = it ? Ii(Oi, rr) : Oi),
                    (rr = Ii(Zr, ki(Z, rr))),
                    (W[_e] = rr),
                    (ae[_e] = rr - Z);
                }
                var ii;
                dt &&
                  ((Z = 'y' === R ? 'height' : 'width'),
                  (rr = (dt = W[R]) + ge['x' === _e ? 'top' : 'left']),
                  (ge = dt - ge['x' === _e ? 'bottom' : 'right']),
                  ($t = -1 !== ['top', 'left'].indexOf($t)),
                  (_e = null != (ii = We?.[R]) ? ii : 0),
                  (ii = $t ? rr : dt - Be[Z] - xr[Z] - _e + xt.altAxis),
                  (Be = $t ? dt + Be[Z] + xr[Z] - _e - xt.altAxis : ge),
                  (ii =
                    it && $t
                      ? (ii = Ii(ii, ki(dt, Be))) > Be
                        ? Be
                        : ii
                      : Ii(it ? ii : rr, ki(dt, it ? Be : ge))),
                  (W[R] = ii),
                  (ae[R] = ii - dt)),
                  (A.modifiersData[I] = ae);
              }
            },
            requiresIfExists: ['offset'],
          },
          {
            name: 'arrow',
            enabled: !0,
            phase: 'main',
            fn: function (I) {
              var A,
                R = I.state,
                W = I.name,
                Z = I.options,
                dt = R.elements.arrow,
                it = R.modifiersData.popperOffsets,
                ae = _t(R.placement);
              if (
                ((I = Re(ae)),
                (ae = 0 <= ['left', 'right'].indexOf(ae) ? 'height' : 'width'),
                dt && it)
              ) {
                Z = qe(
                  'number' !=
                    typeof (Z =
                      'function' == typeof (Z = Z.padding)
                        ? Z(
                            Object.assign({}, R.rects, {
                              placement: R.placement,
                            })
                          )
                        : Z)
                    ? Z
                    : Ae(Z, ga)
                );
                var ge = Bt(dt),
                  $t = 'y' === I ? 'top' : 'left',
                  De = 'y' === I ? 'bottom' : 'right',
                  Fe =
                    R.rects.reference[ae] +
                    R.rects.reference[I] -
                    it[I] -
                    R.rects.popper[ae];
                (it = it[I] - R.rects.reference[I]),
                  (dt = (dt = Pe(dt))
                    ? 'y' === I
                      ? dt.clientHeight || 0
                      : dt.clientWidth || 0
                    : 0),
                  (ae = Ii(
                    Z[$t],
                    ki(
                      (it = dt / 2 - ge[ae] / 2 + (Fe / 2 - it / 2)),
                      dt - ge[ae] - Z[De]
                    )
                  )),
                  (R.modifiersData[W] =
                    (((A = {})[I] = ae), (A.centerOffset = ae - it), A));
              }
            },
            effect: function (I) {
              var A = I.state;
              if (
                null !=
                (I =
                  void 0 === (I = I.options.element)
                    ? '[data-popper-arrow]'
                    : I)
              ) {
                if (
                  'string' == typeof I &&
                  !(I = A.elements.popper.querySelector(I))
                )
                  return;
                ee(A.elements.popper, I) && (A.elements.arrow = I);
              }
            },
            requires: ['popperOffsets'],
            requiresIfExists: ['preventOverflow'],
          },
          {
            name: 'hide',
            enabled: !0,
            phase: 'main',
            requiresIfExists: ['preventOverflow'],
            fn: function (I) {
              var A = I.state;
              I = I.name;
              var R = A.rects.reference,
                W = A.rects.popper,
                Z = A.modifiersData.preventOverflow,
                dt = Oe(A, { elementContext: 'reference' }),
                it = Oe(A, { altBoundary: !0 });
              (R = Ne(dt, R)),
                (W = Ne(it, W, Z)),
                (Z = Ie(R)),
                (it = Ie(W)),
                (A.modifiersData[I] = {
                  referenceClippingOffsets: R,
                  popperEscapeOffsets: W,
                  isReferenceHidden: Z,
                  hasPopperEscaped: it,
                }),
                (A.attributes.popper = Object.assign({}, A.attributes.popper, {
                  'data-popper-reference-hidden': Z,
                  'data-popper-escaped': it,
                }));
            },
          },
        ],
      });
    let Qi,
      Wa,
      Ha = [],
      In = [],
      Ts = [],
      As = [],
      Ia = Promise.resolve(),
      fi = !1,
      Ga = new Set(),
      pl = 0,
      go = new Set();
    class Ei {
      $destroy() {
        Ke(this, 1), (this.$destroy = Wt);
      }
      $on(A, R) {
        let W = this.$$.callbacks[A] || (this.$$.callbacks[A] = []);
        return (
          W.push(R),
          () => {
            let Z = W.indexOf(R);
            -1 !== Z && W.splice(Z, 1);
          }
        );
      }
      $set(A) {
        this.$$set &&
          0 !== Object.keys(A).length &&
          ((this.$$.skip_bound = !0), this.$$set(A), (this.$$.skip_bound = !1));
      }
    }
    class hi extends Ei {
      constructor(A) {
        super(), Fr(this, A, mn, ti, rt, { config: 6, step: 7 });
      }
    }
    class $a extends Ei {
      constructor(A) {
        super(), Fr(this, A, Gn, Va, rt, { step: 0 });
      }
    }
    class mo extends Ei {
      constructor(A) {
        super(), Fr(this, A, Wn, Nr, rt, { cancelIcon: 0, step: 2 });
      }
    }
    class Pi extends Ei {
      constructor(A) {
        super(), Fr(this, A, ei, Ki, rt, { labelId: 1, element: 0, title: 2 });
      }
    }
    class Ri extends Ei {
      constructor(A) {
        super(), Fr(this, A, Ho, dl, rt, { labelId: 0, step: 1 });
      }
    }
    class ka extends Ei {
      constructor(A) {
        super(),
          Fr(this, A, Ai, pa, rt, { descriptionId: 1, element: 0, step: 2 });
      }
    }
    class yo extends Ei {
      constructor(A) {
        super(),
          Fr(this, A, _n, La, rt, { descriptionId: 0, labelId: 1, step: 2 });
      }
    }
    class xo extends Ei {
      constructor(A) {
        super(),
          Fr(this, A, Ln, dn, rt, {
            classPrefix: 11,
            element: 0,
            descriptionId: 2,
            firstFocusableElement: 8,
            focusableElements: 9,
            labelId: 3,
            lastFocusableElement: 10,
            step: 4,
            dataStepId: 1,
            getElement: 12,
          });
      }
      get getElement() {
        return this.$$.ctx[12];
      }
    }
    var A;
    (((A = { exports: {} }).exports = {
      polyfill: function () {
        function R(xt, We) {
          (this.scrollLeft = xt), (this.scrollTop = We);
        }
        function W(xt) {
          if (
            null === xt ||
            'object' != typeof xt ||
            void 0 === xt.behavior ||
            'auto' === xt.behavior ||
            'instant' === xt.behavior
          )
            return !0;
          if ('object' == typeof xt && 'smooth' === xt.behavior) return !1;
          throw new TypeError(
            'behavior member of ScrollOptions ' +
              xt.behavior +
              ' is not a valid value for enumeration ScrollBehavior.'
          );
        }
        function Z(xt, We) {
          return 'Y' === We
            ? xt.clientHeight + xr < xt.scrollHeight
            : 'X' === We
            ? xt.clientWidth + xr < xt.scrollWidth
            : void 0;
        }
        function dt(xt, We) {
          return (
            'auto' === (xt = $t.getComputedStyle(xt, null)['overflow' + We]) ||
            'scroll' === xt
          );
        }
        function it(xt) {
          var We = Z(xt, 'Y') && dt(xt, 'Y');
          return (xt = Z(xt, 'X') && dt(xt, 'X')), We || xt;
        }
        function ae(xt) {
          var We = (Be() - xt.startTime) / 468,
            rr = 0.5 * (1 - Math.cos(Math.PI * (1 < We ? 1 : We)));
          xt.method.call(
            xt.scrollable,
            (We = xt.startX + (xt.x - xt.startX) * rr),
            (rr = xt.startY + (xt.y - xt.startY) * rr)
          ),
            (We === xt.x && rr === xt.y) ||
              $t.requestAnimationFrame(ae.bind($t, xt));
        }
        function ge(xt, We, rr) {
          var Xr = Be();
          if (xt === De.body) {
            var Ve = $t,
              yr = $t.scrollX || $t.pageXOffset;
            xt = $t.scrollY || $t.pageYOffset;
            var Zr = _e.scroll;
          } else (Ve = xt), (yr = xt.scrollLeft), (xt = xt.scrollTop), (Zr = R);
          ae({
            scrollable: Ve,
            method: Zr,
            startTime: Xr,
            startX: yr,
            startY: xt,
            x: We,
            y: rr,
          });
        }
        var $t = window,
          De = document;
        if (
          !('scrollBehavior' in De.documentElement.style) ||
          !0 === $t.__forceSmoothScrollPolyfill__
        ) {
          var Fe = $t.HTMLElement || $t.Element,
            _e = {
              scroll: $t.scroll || $t.scrollTo,
              scrollBy: $t.scrollBy,
              elementScroll: Fe.prototype.scroll || R,
              scrollIntoView: Fe.prototype.scrollIntoView,
            },
            Be =
              $t.performance && $t.performance.now
                ? $t.performance.now.bind($t.performance)
                : Date.now,
            xr = /MSIE |Trident\/|Edge\//.test($t.navigator.userAgent) ? 1 : 0;
          ($t.scroll = $t.scrollTo =
            function (xt, We) {
              void 0 !== xt &&
                (!0 === W(xt)
                  ? _e.scroll.call(
                      $t,
                      void 0 !== xt.left
                        ? xt.left
                        : 'object' != typeof xt
                        ? xt
                        : $t.scrollX || $t.pageXOffset,
                      void 0 !== xt.top
                        ? xt.top
                        : void 0 !== We
                        ? We
                        : $t.scrollY || $t.pageYOffset
                    )
                  : ge.call(
                      $t,
                      De.body,
                      void 0 !== xt.left
                        ? ~~xt.left
                        : $t.scrollX || $t.pageXOffset,
                      void 0 !== xt.top
                        ? ~~xt.top
                        : $t.scrollY || $t.pageYOffset
                    ));
            }),
            ($t.scrollBy = function (xt, We) {
              void 0 !== xt &&
                (W(xt)
                  ? _e.scrollBy.call(
                      $t,
                      void 0 !== xt.left
                        ? xt.left
                        : 'object' != typeof xt
                        ? xt
                        : 0,
                      void 0 !== xt.top ? xt.top : void 0 !== We ? We : 0
                    )
                  : ge.call(
                      $t,
                      De.body,
                      ~~xt.left + ($t.scrollX || $t.pageXOffset),
                      ~~xt.top + ($t.scrollY || $t.pageYOffset)
                    ));
            }),
            (Fe.prototype.scroll = Fe.prototype.scrollTo =
              function (xt, We) {
                if (void 0 !== xt)
                  if (!0 === W(xt)) {
                    if ('number' == typeof xt && void 0 === We)
                      throw new SyntaxError('Value could not be converted');
                    _e.elementScroll.call(
                      this,
                      void 0 !== xt.left
                        ? ~~xt.left
                        : 'object' != typeof xt
                        ? ~~xt
                        : this.scrollLeft,
                      void 0 !== xt.top
                        ? ~~xt.top
                        : void 0 !== We
                        ? ~~We
                        : this.scrollTop
                    );
                  } else
                    ge.call(
                      this,
                      this,
                      typeof (We = xt.left) > 'u' ? this.scrollLeft : ~~We,
                      typeof (xt = xt.top) > 'u' ? this.scrollTop : ~~xt
                    );
              }),
            (Fe.prototype.scrollBy = function (xt, We) {
              void 0 !== xt &&
                (!0 === W(xt)
                  ? _e.elementScroll.call(
                      this,
                      void 0 !== xt.left
                        ? ~~xt.left + this.scrollLeft
                        : ~~xt + this.scrollLeft,
                      void 0 !== xt.top
                        ? ~~xt.top + this.scrollTop
                        : ~~We + this.scrollTop
                    )
                  : this.scroll({
                      left: ~~xt.left + this.scrollLeft,
                      top: ~~xt.top + this.scrollTop,
                      behavior: xt.behavior,
                    }));
            }),
            (Fe.prototype.scrollIntoView = function (xt) {
              if (!0 === W(xt))
                _e.scrollIntoView.call(this, void 0 === xt || xt);
              else {
                for (xt = this; xt !== De.body && !1 === it(xt); )
                  xt = xt.parentNode || xt.host;
                var We = xt.getBoundingClientRect(),
                  rr = this.getBoundingClientRect();
                xt !== De.body
                  ? (ge.call(
                      this,
                      xt,
                      xt.scrollLeft + rr.left - We.left,
                      xt.scrollTop + rr.top - We.top
                    ),
                    'fixed' !== $t.getComputedStyle(xt).position &&
                      $t.scrollBy({
                        left: We.left,
                        top: We.top,
                        behavior: 'smooth',
                      }))
                  : $t.scrollBy({
                      left: rr.left,
                      top: rr.top,
                      behavior: 'smooth',
                    });
              }
            });
        }
      },
    }),
    A.exports).polyfill();
    class bi extends Wo {
      constructor(A, R) {
        return (
          void 0 === R && (R = {}),
          super(A, R),
          (this.tour = A),
          (this.classPrefix = this.tour.options
            ? Q(this.tour.options.classPrefix)
            : ''),
          (this.styles = A.styles),
          ct(this),
          this._setOptions(R),
          this
        );
      }
      cancel() {
        this.tour.cancel(), this.trigger('cancel');
      }
      complete() {
        this.tour.complete(), this.trigger('complete');
      }
      destroy() {
        this.tooltip && (this.tooltip.destroy(), (this.tooltip = null)),
          this.el instanceof HTMLElement &&
            this.el.parentNode &&
            (this.el.parentNode.removeChild(this.el), (this.el = null)),
          this._updateStepTargetOnHide(),
          this.trigger('destroy');
      }
      getTour() {
        return this.tour;
      }
      hide() {
        this.tour.modal.hide(),
          this.trigger('before-hide'),
          this.el && (this.el.hidden = !0),
          this._updateStepTargetOnHide(),
          this.trigger('hide');
      }
      isCentered() {
        let A = At(this);
        return !A.element || !A.on;
      }
      isOpen() {
        return !(!this.el || this.el.hidden);
      }
      show() {
        if (Dt(this.options.beforeShowPromise)) {
          let A = this.options.beforeShowPromise();
          if (void 0 !== A) return A.then(() => this._show());
        }
        this._show();
      }
      updateStepOptions(A) {
        Object.assign(this.options, A),
          this.shepherdElementComponent &&
            this.shepherdElementComponent.$set({ step: this });
      }
      getElement() {
        return this.el;
      }
      getTarget() {
        return this.target;
      }
      _createTooltipContent() {
        return (
          (this.shepherdElementComponent = new xo({
            target: this.tour.options.stepsContainer || document.body,
            props: {
              classPrefix: this.classPrefix,
              descriptionId: `${this.id}-description`,
              labelId: `${this.id}-label`,
              step: this,
              styles: this.styles,
            },
          })),
          this.shepherdElementComponent.getElement()
        );
      }
      _scrollTo(A) {
        let { element: R } = At(this);
        Dt(this.options.scrollToHandler)
          ? this.options.scrollToHandler(R)
          : R instanceof Element &&
            'function' == typeof R.scrollIntoView &&
            R.scrollIntoView(A);
      }
      _getClassOptions(A) {
        var R =
          this.tour &&
          this.tour.options &&
          this.tour.options.defaultStepOptions;
        return (
          (R = R && R.classes ? R.classes : ''),
          (A = [...(A.classes ? A.classes : '').split(' '), ...R.split(' ')]),
          (A = new Set(A)),
          Array.from(A).join(' ').trim()
        );
      }
      _setOptions(A) {
        void 0 === A && (A = {});
        let R =
          this.tour &&
          this.tour.options &&
          this.tour.options.defaultStepOptions;
        (R = vl({}, R || {})),
          (this.options = Object.assign({ arrow: !0 }, R, A));
        let { when: W } = this.options;
        (this.options.classes = this._getClassOptions(A)),
          this.destroy(),
          (this.id = this.options.id || `step-${Pt()}`),
          W &&
            Object.keys(W).forEach((Z) => {
              this.on(Z, W[Z], this);
            });
      }
      _setupElements() {
        void 0 !== this.el && this.destroy(),
          (this.el = this._createTooltipContent()),
          this.options.advanceOn &&
            (function Qt(I) {
              let { event: A, selector: R } = I.options.advanceOn || {};
              if (!A)
                return console.error(
                  'advanceOn was defined, but no event name was passed.'
                );
              {
                let Z,
                  W = (function ve(I, A) {
                    return (R) => {
                      if (A.isOpen()) {
                        let W = A.el && R.currentTarget === A.el;
                        ((void 0 !== I && R.currentTarget.matches(I)) || W) &&
                          A.tour.next();
                      }
                    };
                  })(R, I);
                try {
                  Z = document.querySelector(R);
                } catch {}
                if (void 0 !== R && !Z)
                  return console.error(
                    `No element was found for the selector supplied to advanceOn: ${R}`
                  );
                Z
                  ? (Z.addEventListener(A, W),
                    I.on('destroy', () => Z.removeEventListener(A, W)))
                  : (document.body.addEventListener(A, W, !0),
                    I.on('destroy', () =>
                      document.body.removeEventListener(A, W, !0)
                    ));
              }
            })(this),
          this.tooltip && this.tooltip.destroy();
        let A = At(this),
          R = A.element,
          W = (function qt(I, A) {
            let R = {
              modifiers: [
                {
                  name: 'preventOverflow',
                  options: { altAxis: !0, tether: !1 },
                },
                {
                  name: 'focusAfterRender',
                  enabled: !0,
                  phase: 'afterWrite',
                  fn() {
                    setTimeout(() => {
                      A.el && A.el.focus();
                    }, 300);
                  },
                },
              ],
              strategy: 'absolute',
            };
            return (
              A.isCentered()
                ? (R = (function mt(I) {
                    let A = (function Y() {
                        return [
                          {
                            name: 'applyStyles',
                            fn(I) {
                              let { state: A } = I;
                              Object.keys(A.elements).forEach((R) => {
                                if ('popper' === R) {
                                  var W = A.attributes[R] || {},
                                    Z = A.elements[R];
                                  Object.assign(Z.style, {
                                    position: 'fixed',
                                    left: '50%',
                                    top: '50%',
                                    transform: 'translate(-50%, -50%)',
                                  }),
                                    Object.keys(W).forEach((dt) => {
                                      let it = W[dt];
                                      !1 === it
                                        ? Z.removeAttribute(dt)
                                        : Z.setAttribute(
                                            dt,
                                            !0 === it ? '' : it
                                          );
                                    });
                                }
                              });
                            },
                          },
                          { name: 'computeStyles', options: { adaptive: !1 } },
                        ];
                      })(),
                      R = {
                        placement: 'top',
                        strategy: 'fixed',
                        modifiers: [
                          {
                            name: 'focusAfterRender',
                            enabled: !0,
                            phase: 'afterWrite',
                            fn() {
                              setTimeout(() => {
                                I.el && I.el.focus();
                              }, 300);
                            },
                          },
                        ],
                      };
                    return U({}, R, {
                      modifiers: Array.from(new Set([...R.modifiers, ...A])),
                    });
                  })(A))
                : (R.placement = I.on),
              (I =
                A.tour &&
                A.tour.options &&
                A.tour.options.defaultStepOptions) && (R = Me(I, R)),
              Me(A.options, R)
            );
          })(A, this);
        this.isCentered() &&
          ((R = document.body),
          this.shepherdElementComponent
            .getElement()
            .classList.add('shepherd-centered')),
          (this.tooltip = Ds(R, this.el, W)),
          (this.target = A.element);
      }
      _show() {
        this.trigger('before-show'),
          this._setupElements(),
          this.tour.modal || this.tour._setupModal(),
          this.tour.modal.setupForStep(this),
          this._styleTargetElementForStep(this),
          (this.el.hidden = !1),
          this.options.scrollTo &&
            setTimeout(() => {
              this._scrollTo(this.options.scrollTo);
            }),
          (this.el.hidden = !1);
        let A = this.shepherdElementComponent.getElement(),
          R = this.target || document.body;
        R.classList.add(`${this.classPrefix}shepherd-enabled`),
          R.classList.add(`${this.classPrefix}shepherd-target`),
          A.classList.add('shepherd-enabled'),
          this.trigger('show');
      }
      _styleTargetElementForStep(A) {
        let R = A.target;
        R &&
          (A.options.highlightClass &&
            R.classList.add(A.options.highlightClass),
          R.classList.remove('shepherd-target-click-disabled'),
          !1 === A.options.canClickTarget &&
            R.classList.add('shepherd-target-click-disabled'));
      }
      _updateStepTargetOnHide() {
        let A = this.target || document.body;
        this.options.highlightClass &&
          A.classList.remove(this.options.highlightClass),
          A.classList.remove(
            'shepherd-target-click-disabled',
            `${this.classPrefix}shepherd-enabled`,
            `${this.classPrefix}shepherd-target`
          );
      }
    }
    class ur extends Ei {
      constructor(A) {
        super(),
          Fr(this, A, ci, Li, rt, {
            element: 0,
            openingProperties: 4,
            getElement: 5,
            closeModalOpening: 6,
            hide: 7,
            positionModal: 8,
            setupForStep: 9,
            show: 10,
          });
      }
      get getElement() {
        return this.$$.ctx[5];
      }
      get closeModalOpening() {
        return this.$$.ctx[6];
      }
      get hide() {
        return this.$$.ctx[7];
      }
      get positionModal() {
        return this.$$.ctx[8];
      }
      get setupForStep() {
        return this.$$.ctx[9];
      }
      get show() {
        return this.$$.ctx[10];
      }
    }
    let ma = new Wo();
    return (
      Object.assign(ma, {
        Tour: class Ji extends Wo {
          constructor(A) {
            return (
              void 0 === A && (A = {}),
              super(A),
              ct(this),
              (this.options = Object.assign(
                {},
                { exitOnEsc: !0, keyboardNavigation: !0 },
                A
              )),
              (this.classPrefix = Q(this.options.classPrefix)),
              (this.steps = []),
              this.addSteps(this.options.steps),
              'active cancel complete inactive show start'
                .split(' ')
                .map((R) => {
                  ((W) => {
                    this.on(W, (Z) => {
                      ((Z = Z || {}).tour = this), ma.trigger(W, Z);
                    });
                  })(R);
                }),
              this._setTourID(),
              this
            );
          }
          addStep(A, R) {
            return (
              A instanceof bi ? (A.tour = this) : (A = new bi(this, A)),
              void 0 !== R ? this.steps.splice(R, 0, A) : this.steps.push(A),
              A
            );
          }
          addSteps(A) {
            return (
              Array.isArray(A) &&
                A.forEach((R) => {
                  this.addStep(R);
                }),
              this
            );
          }
          back() {
            let A = this.steps.indexOf(this.currentStep);
            this.show(A - 1, !1);
          }
          cancel() {
            this.options.confirmCancel
              ? window.confirm(
                  this.options.confirmCancelMessage ||
                    'Are you sure you want to stop the tour?'
                ) && this._done('cancel')
              : this._done('cancel');
          }
          complete() {
            this._done('complete');
          }
          getById(A) {
            return this.steps.find((R) => R.id === A);
          }
          getCurrentStep() {
            return this.currentStep;
          }
          hide() {
            let A = this.getCurrentStep();
            if (A) return A.hide();
          }
          isActive() {
            return ma.activeTour === this;
          }
          next() {
            let A = this.steps.indexOf(this.currentStep);
            A === this.steps.length - 1
              ? this.complete()
              : this.show(A + 1, !0);
          }
          removeStep(A) {
            let R = this.getCurrentStep();
            this.steps.some((W, Z) => {
              if (W.id === A)
                return (
                  W.isOpen() && W.hide(),
                  W.destroy(),
                  this.steps.splice(Z, 1),
                  !0
                );
            }),
              R &&
                R.id === A &&
                ((this.currentStep = void 0),
                this.steps.length ? this.show(0) : this.cancel());
          }
          show(A, R) {
            void 0 === A && (A = 0),
              void 0 === R && (R = !0),
              (A = bt(A) ? this.getById(A) : this.steps[A]) &&
                (this._updateStateBeforeShow(),
                Dt(A.options.showOn) && !A.options.showOn()
                  ? this._skipStep(A, R)
                  : (this.trigger('show', {
                      step: A,
                      previous: this.currentStep,
                    }),
                    (this.currentStep = A),
                    A.show()));
          }
          start() {
            this.trigger('start'),
              (this.focusedElBeforeOpen = document.activeElement),
              (this.currentStep = null),
              this._setupModal(),
              this._setupActiveTour(),
              this.next();
          }
          _done(A) {
            let R = this.steps.indexOf(this.currentStep);
            Array.isArray(this.steps) && this.steps.forEach((W) => W.destroy()),
              (function Kr(I) {
                I &&
                  (({ steps: I } = I),
                  I.forEach((A) => {
                    A.options &&
                      !1 === A.options.canClickTarget &&
                      A.options.attachTo &&
                      A.target instanceof HTMLElement &&
                      A.target.classList.remove(
                        'shepherd-target-click-disabled'
                      );
                  }));
              })(this),
              this.trigger(A, { index: R }),
              (ma.activeTour = null),
              this.trigger('inactive', { tour: this }),
              this.modal && this.modal.hide(),
              ('cancel' !== A && 'complete' !== A) ||
                !this.modal ||
                ((A = document.querySelector(
                  '.shepherd-modal-overlay-container'
                )) &&
                  A.remove()),
              this.focusedElBeforeOpen instanceof HTMLElement &&
                this.focusedElBeforeOpen.focus();
          }
          _setupActiveTour() {
            this.trigger('active', { tour: this }), (ma.activeTour = this);
          }
          _setupModal() {
            this.modal = new ur({
              target: this.options.modalContainer || document.body,
              props: { classPrefix: this.classPrefix, styles: this.styles },
            });
          }
          _skipStep(A, R) {
            (A = this.steps.indexOf(A)) === this.steps.length - 1
              ? this.complete()
              : this.show(R ? A + 1 : A - 1, R);
          }
          _updateStateBeforeShow() {
            this.currentStep && this.currentStep.hide(),
              this.isActive() || this._setupActiveTour();
          }
          _setTourID() {
            this.id = `${this.options.tourName || 'tour'}--${Pt()}`;
          }
        },
        Step: bi,
      }),
      ma
    );
  }),
  (function (ue) {
    'object' == typeof exports && typeof module < 'u'
      ? (module.exports = ue())
      : 'function' == typeof define && define.amd
      ? define([], ue)
      : ((typeof window < 'u'
          ? window
          : typeof global < 'u'
          ? global
          : typeof self < 'u'
          ? self
          : this
        ).EasyMDE = ue());
  })(function () {
    return (function ue(or, ut, te) {
      function oe(Dt, bt) {
        if (!ut[Dt]) {
          if (!or[Dt]) {
            var ct = 'function' == typeof require && require;
            if (!bt && ct) return ct(Dt, !0);
            if (Lt) return Lt(Dt, !0);
            var ve = new Error("Cannot find module '" + Dt + "'");
            throw ((ve.code = 'MODULE_NOT_FOUND'), ve);
          }
          var Qt = (ut[Dt] = { exports: {} });
          or[Dt][0].call(
            Qt.exports,
            function (jt) {
              return oe(or[Dt][1][jt] || jt);
            },
            Qt,
            Qt.exports,
            ue,
            or,
            ut,
            te
          );
        }
        return ut[Dt].exports;
      }
      for (
        var Lt = 'function' == typeof require && require, yt = 0;
        yt < te.length;
        yt++
      )
        oe(te[yt]);
      return oe;
    })(
      {
        1: [function (ue, or, ut) {}, {}],
        2: [
          function (ue, or, ut) {
            'use strict';
            var te = ue('typo-js');
            function oe(Lt) {
              'function' == typeof (Lt = Lt || {}).codeMirrorInstance &&
              'function' == typeof Lt.codeMirrorInstance.defineMode
                ? (String.prototype.includes ||
                    (String.prototype.includes = function () {
                      return (
                        -1 !== String.prototype.indexOf.apply(this, arguments)
                      );
                    }),
                  Lt.codeMirrorInstance.defineMode(
                    'spell-checker',
                    function (yt) {
                      if (!oe.aff_loading) {
                        oe.aff_loading = !0;
                        var Dt = new XMLHttpRequest();
                        Dt.open(
                          'GET',
                          'https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff',
                          !0
                        ),
                          (Dt.onload = function () {
                            4 === Dt.readyState &&
                              200 === Dt.status &&
                              ((oe.aff_data = Dt.responseText),
                              2 == ++oe.num_loaded &&
                                (oe.typo = new te(
                                  'en_US',
                                  oe.aff_data,
                                  oe.dic_data,
                                  { platform: 'any' }
                                )));
                          }),
                          Dt.send(null);
                      }
                      if (!oe.dic_loading) {
                        oe.dic_loading = !0;
                        var bt = new XMLHttpRequest();
                        bt.open(
                          'GET',
                          'https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic',
                          !0
                        ),
                          (bt.onload = function () {
                            4 === bt.readyState &&
                              200 === bt.status &&
                              ((oe.dic_data = bt.responseText),
                              2 == ++oe.num_loaded &&
                                (oe.typo = new te(
                                  'en_US',
                                  oe.aff_data,
                                  oe.dic_data,
                                  { platform: 'any' }
                                )));
                          }),
                          bt.send(null);
                      }
                      var ct = '!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',
                        ve = {
                          token: function (jt) {
                            var de = jt.peek(),
                              wt = '';
                            if (ct.includes(de)) return jt.next(), null;
                            for (
                              ;
                              null != (de = jt.peek()) && !ct.includes(de);

                            )
                              (wt += de), jt.next();
                            return oe.typo && !oe.typo.check(wt)
                              ? 'spell-error'
                              : null;
                          },
                        },
                        Qt = Lt.codeMirrorInstance.getMode(
                          yt,
                          yt.backdrop || 'text/plain'
                        );
                      return Lt.codeMirrorInstance.overlayMode(Qt, ve, !0);
                    }
                  ))
                : console.log(
                    'CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`'
                  );
            }
            (oe.num_loaded = 0),
              (oe.aff_loading = !1),
              (oe.dic_loading = !1),
              (oe.aff_data = ''),
              (oe.dic_data = ''),
              (or.exports = oe);
          },
          { 'typo-js': 16 },
        ],
        3: [
          function (ue, or, ut) {
            !(function (te) {
              'use strict';
              function oe(Lt, yt) {
                clearTimeout(yt.timeout),
                  te.off(window, 'mouseup', yt.hurry),
                  te.off(window, 'keyup', yt.hurry);
              }
              te.defineOption('autoRefresh', !1, function (Lt, yt) {
                Lt.state.autoRefresh &&
                  (oe(0, Lt.state.autoRefresh), (Lt.state.autoRefresh = null)),
                  yt &&
                    0 == Lt.display.wrapper.offsetHeight &&
                    (function (Dt, bt) {
                      function ct() {
                        Dt.display.wrapper.offsetHeight
                          ? (oe(0, bt),
                            Dt.display.lastWrapHeight !=
                              Dt.display.wrapper.clientHeight && Dt.refresh())
                          : (bt.timeout = setTimeout(ct, bt.delay));
                      }
                      (bt.timeout = setTimeout(ct, bt.delay)),
                        (bt.hurry = function () {
                          clearTimeout(bt.timeout),
                            (bt.timeout = setTimeout(ct, 50));
                        }),
                        te.on(window, 'mouseup', bt.hurry),
                        te.on(window, 'keyup', bt.hurry);
                    })(Lt, (Lt.state.autoRefresh = { delay: yt.delay || 250 }));
              });
            })(
              'object' == typeof ut && 'object' == typeof or
                ? ue('../../lib/codemirror')
                : CodeMirror
            );
          },
          { '../../lib/codemirror': 10 },
        ],
        4: [
          function (ue, or, ut) {
            !(function (te) {
              'use strict';
              te.defineOption('fullScreen', !1, function (oe, Lt, yt) {
                var Dt, bt;
                yt == te.Init && (yt = !1),
                  !yt != !Lt &&
                    (Lt
                      ? ((bt = (Dt = oe).getWrapperElement()),
                        (Dt.state.fullScreenRestore = {
                          scrollTop: window.pageYOffset,
                          scrollLeft: window.pageXOffset,
                          width: bt.style.width,
                          height: bt.style.height,
                        }),
                        (bt.style.width = ''),
                        (bt.style.height = 'auto'),
                        (bt.className += ' CodeMirror-fullscreen'),
                        (document.documentElement.style.overflow = 'hidden'),
                        Dt.refresh())
                      : (function (Dt) {
                          var bt = Dt.getWrapperElement();
                          (bt.className = bt.className.replace(
                            /\s*CodeMirror-fullscreen\b/,
                            ''
                          )),
                            (document.documentElement.style.overflow = '');
                          var ct = Dt.state.fullScreenRestore;
                          (bt.style.width = ct.width),
                            (bt.style.height = ct.height),
                            window.scrollTo(ct.scrollLeft, ct.scrollTop),
                            Dt.refresh();
                        })(oe));
              });
            })(
              'object' == typeof ut && 'object' == typeof or
                ? ue('../../lib/codemirror')
                : CodeMirror
            );
          },
          { '../../lib/codemirror': 10 },
        ],
        5: [
          function (ue, or, ut) {
            !(function (te) {
              function oe(ct) {
                ct.state.placeholder &&
                  (ct.state.placeholder.parentNode.removeChild(
                    ct.state.placeholder
                  ),
                  (ct.state.placeholder = null));
              }
              function Lt(ct) {
                oe(ct);
                var ve = (ct.state.placeholder = document.createElement('pre'));
                (ve.style.cssText = 'height: 0; overflow: visible'),
                  (ve.style.direction = ct.getOption('direction')),
                  (ve.className =
                    'CodeMirror-placeholder CodeMirror-line-like');
                var Qt = ct.getOption('placeholder');
                'string' == typeof Qt && (Qt = document.createTextNode(Qt)),
                  ve.appendChild(Qt),
                  ct.display.lineSpace.insertBefore(
                    ve,
                    ct.display.lineSpace.firstChild
                  );
              }
              function yt(ct) {
                bt(ct) && Lt(ct);
              }
              function Dt(ct) {
                var ve = ct.getWrapperElement(),
                  Qt = bt(ct);
                (ve.className =
                  ve.className.replace(' CodeMirror-empty', '') +
                  (Qt ? ' CodeMirror-empty' : '')),
                  Qt ? Lt(ct) : oe(ct);
              }
              function bt(ct) {
                return 1 === ct.lineCount() && '' === ct.getLine(0);
              }
              te.defineOption('placeholder', '', function (ct, ve, Qt) {
                var jt = Qt && Qt != te.Init;
                if (ve && !jt)
                  ct.on('blur', yt),
                    ct.on('change', Dt),
                    ct.on('swapDoc', Dt),
                    te.on(
                      ct.getInputField(),
                      'compositionupdate',
                      (ct.state.placeholderCompose = function () {
                        var wt;
                        (wt = ct),
                          setTimeout(function () {
                            var Zt = !1;
                            if (1 == wt.lineCount()) {
                              var he = wt.getInputField();
                              Zt =
                                'TEXTAREA' == he.nodeName
                                  ? !wt.getLine(0).length
                                  : !/[^\u200b]/.test(
                                      he.querySelector('.CodeMirror-line')
                                        .textContent
                                    );
                            }
                            Zt ? Lt(wt) : oe(wt);
                          }, 20);
                      })
                    ),
                    Dt(ct);
                else if (!ve && jt) {
                  ct.off('blur', yt),
                    ct.off('change', Dt),
                    ct.off('swapDoc', Dt),
                    te.off(
                      ct.getInputField(),
                      'compositionupdate',
                      ct.state.placeholderCompose
                    ),
                    oe(ct);
                  var de = ct.getWrapperElement();
                  de.className = de.className.replace(' CodeMirror-empty', '');
                }
                ve && !ct.hasFocus() && yt(ct);
              });
            })(
              'object' == typeof ut && 'object' == typeof or
                ? ue('../../lib/codemirror')
                : CodeMirror
            );
          },
          { '../../lib/codemirror': 10 },
        ],
        6: [
          function (ue, or, ut) {
            !(function (te) {
              'use strict';
              var oe =
                  /^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,
                Lt = /^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,
                yt = /[*+-]\s/;
              function Dt(bt, ct) {
                var ve = ct.line,
                  Qt = 0,
                  jt = 0,
                  de = oe.exec(bt.getLine(ve)),
                  wt = de[1];
                do {
                  var Zt = ve + (Qt += 1),
                    he = bt.getLine(Zt),
                    _t = oe.exec(he);
                  if (_t) {
                    var zt = _t[1],
                      Bt = parseInt(de[3], 10) + Qt - jt,
                      ee = parseInt(_t[3], 10),
                      ne = ee;
                    if (wt !== zt || isNaN(ee)) {
                      if (
                        wt.length > zt.length ||
                        (wt.length < zt.length && 1 === Qt)
                      )
                        return;
                      jt += 1;
                    } else
                      Bt === ee && (ne = ee + 1),
                        Bt > ee && (ne = Bt + 1),
                        bt.replaceRange(
                          he.replace(oe, zt + ne + _t[4] + _t[5]),
                          { line: Zt, ch: 0 },
                          { line: Zt, ch: he.length }
                        );
                  }
                } while (_t);
              }
              te.commands.newlineAndIndentContinueMarkdownList = function (bt) {
                if (bt.getOption('disableInput')) return te.Pass;
                for (
                  var ct = bt.listSelections(), ve = [], Qt = 0;
                  Qt < ct.length;
                  Qt++
                ) {
                  var jt = ct[Qt].head,
                    de = bt.getStateAfter(jt.line),
                    wt = te.innerMode(bt.getMode(), de);
                  if (
                    'markdown' !== wt.mode.name &&
                    'markdown' !== wt.mode.helperType
                  )
                    return void bt.execCommand('newlineAndIndent');
                  var Zt = !1 !== (de = wt.state).list,
                    he = 0 !== de.quote,
                    _t = bt.getLine(jt.line),
                    zt = oe.exec(_t),
                    Bt = /^\s*$/.test(_t.slice(0, jt.ch));
                  if (!ct[Qt].empty() || (!Zt && !he) || !zt || Bt)
                    return void bt.execCommand('newlineAndIndent');
                  if (Lt.test(_t)) {
                    var ee = he && />\s*$/.test(_t),
                      ne = !/>\s*$/.test(_t);
                    (ee || ne) &&
                      bt.replaceRange(
                        '',
                        { line: jt.line, ch: 0 },
                        { line: jt.line, ch: jt.ch + 1 }
                      ),
                      (ve[Qt] = '\n');
                  } else {
                    var Kt = zt[1],
                      ie = zt[5],
                      Le = !(yt.test(zt[2]) || zt[2].indexOf('>') >= 0),
                      Pe = Le
                        ? parseInt(zt[3], 10) + 1 + zt[4]
                        : zt[2].replace('x', ' ');
                    (ve[Qt] = '\n' + Kt + Pe + ie), Le && Dt(bt, jt);
                  }
                }
                bt.replaceSelections(ve);
              };
            })(
              'object' == typeof ut && 'object' == typeof or
                ? ue('../../lib/codemirror')
                : CodeMirror
            );
          },
          { '../../lib/codemirror': 10 },
        ],
        7: [
          function (ue, or, ut) {
            !(function (te) {
              'use strict';
              te.overlayMode = function (oe, Lt, yt) {
                return {
                  startState: function () {
                    return {
                      base: te.startState(oe),
                      overlay: te.startState(Lt),
                      basePos: 0,
                      baseCur: null,
                      overlayPos: 0,
                      overlayCur: null,
                      streamSeen: null,
                    };
                  },
                  copyState: function (Dt) {
                    return {
                      base: te.copyState(oe, Dt.base),
                      overlay: te.copyState(Lt, Dt.overlay),
                      basePos: Dt.basePos,
                      baseCur: null,
                      overlayPos: Dt.overlayPos,
                      overlayCur: null,
                    };
                  },
                  token: function (Dt, bt) {
                    return (
                      (Dt != bt.streamSeen ||
                        Math.min(bt.basePos, bt.overlayPos) < Dt.start) &&
                        ((bt.streamSeen = Dt),
                        (bt.basePos = bt.overlayPos = Dt.start)),
                      Dt.start == bt.basePos &&
                        ((bt.baseCur = oe.token(Dt, bt.base)),
                        (bt.basePos = Dt.pos)),
                      Dt.start == bt.overlayPos &&
                        ((Dt.pos = Dt.start),
                        (bt.overlayCur = Lt.token(Dt, bt.overlay)),
                        (bt.overlayPos = Dt.pos)),
                      (Dt.pos = Math.min(bt.basePos, bt.overlayPos)),
                      null == bt.overlayCur
                        ? bt.baseCur
                        : (null != bt.baseCur && bt.overlay.combineTokens) ||
                          (yt && null == bt.overlay.combineTokens)
                        ? bt.baseCur + ' ' + bt.overlayCur
                        : bt.overlayCur
                    );
                  },
                  indent:
                    oe.indent &&
                    function (Dt, bt, ct) {
                      return oe.indent(Dt.base, bt, ct);
                    },
                  electricChars: oe.electricChars,
                  innerMode: function (Dt) {
                    return { state: Dt.base, mode: oe };
                  },
                  blankLine: function (Dt) {
                    var bt, ct;
                    return (
                      oe.blankLine && (bt = oe.blankLine(Dt.base)),
                      Lt.blankLine && (ct = Lt.blankLine(Dt.overlay)),
                      null == ct ? bt : yt && null != bt ? bt + ' ' + ct : ct
                    );
                  },
                };
              };
            })(
              'object' == typeof ut && 'object' == typeof or
                ? ue('../../lib/codemirror')
                : CodeMirror
            );
          },
          { '../../lib/codemirror': 10 },
        ],
        8: [
          function (ue, or, ut) {
            !(function (te) {
              'use strict';
              var oe,
                Lt,
                yt = te.Pos;
              function Dt(zt, Bt) {
                for (
                  var ee =
                      (ie = zt).flags ??
                      (ie.ignoreCase ? 'i' : '') +
                        (ie.global ? 'g' : '') +
                        (ie.multiline ? 'm' : ''),
                    ne = ee,
                    Kt = 0;
                  Kt < Bt.length;
                  Kt++
                )
                  -1 == ne.indexOf(Bt.charAt(Kt)) && (ne += Bt.charAt(Kt));
                var ie;
                return ee == ne ? zt : new RegExp(zt.source, ne);
              }
              function bt(zt) {
                return /\\s|\\n|\n|\\W|\\D|\[\^/.test(zt.source);
              }
              function ct(zt, Bt, ee) {
                Bt = Dt(Bt, 'g');
                for (
                  var ne = ee.line, Kt = ee.ch, ie = zt.lastLine();
                  ne <= ie;
                  ne++, Kt = 0
                ) {
                  Bt.lastIndex = Kt;
                  var Le = zt.getLine(ne),
                    Pe = Bt.exec(Le);
                  if (Pe)
                    return {
                      from: yt(ne, Pe.index),
                      to: yt(ne, Pe.index + Pe[0].length),
                      match: Pe,
                    };
                }
              }
              function ve(zt, Bt, ee) {
                if (!bt(Bt)) return ct(zt, Bt, ee);
                Bt = Dt(Bt, 'gm');
                for (
                  var ne, Kt = 1, ie = ee.line, Le = zt.lastLine();
                  ie <= Le;

                ) {
                  for (var Pe = 0; Pe < Kt && !(ie > Le); Pe++) {
                    var Re = zt.getLine(ie++);
                    ne = null == ne ? Re : ne + '\n' + Re;
                  }
                  (Kt *= 2), (Bt.lastIndex = ee.ch);
                  var qe = Bt.exec(ne);
                  if (qe) {
                    var Ae = ne.slice(0, qe.index).split('\n'),
                      ir = qe[0].split('\n'),
                      He = ee.line + Ae.length - 1,
                      ft = Ae[Ae.length - 1].length;
                    return {
                      from: yt(He, ft),
                      to: yt(
                        He + ir.length - 1,
                        1 == ir.length
                          ? ft + ir[0].length
                          : ir[ir.length - 1].length
                      ),
                      match: qe,
                    };
                  }
                }
              }
              function Qt(zt, Bt, ee) {
                for (var ne, Kt = 0; Kt <= zt.length; ) {
                  Bt.lastIndex = Kt;
                  var ie = Bt.exec(zt);
                  if (!ie) break;
                  var Le = ie.index + ie[0].length;
                  if (Le > zt.length - ee) break;
                  (!ne || Le > ne.index + ne[0].length) && (ne = ie),
                    (Kt = ie.index + 1);
                }
                return ne;
              }
              function jt(zt, Bt, ee) {
                Bt = Dt(Bt, 'g');
                for (
                  var ne = ee.line, Kt = ee.ch, ie = zt.firstLine();
                  ne >= ie;
                  ne--, Kt = -1
                ) {
                  var Le = zt.getLine(ne),
                    Pe = Qt(Le, Bt, Kt < 0 ? 0 : Le.length - Kt);
                  if (Pe)
                    return {
                      from: yt(ne, Pe.index),
                      to: yt(ne, Pe.index + Pe[0].length),
                      match: Pe,
                    };
                }
              }
              function de(zt, Bt, ee) {
                if (!bt(Bt)) return jt(zt, Bt, ee);
                Bt = Dt(Bt, 'gm');
                for (
                  var ne,
                    Kt = 1,
                    ie = zt.getLine(ee.line).length - ee.ch,
                    Le = ee.line,
                    Pe = zt.firstLine();
                  Le >= Pe;

                ) {
                  for (var Re = 0; Re < Kt && Le >= Pe; Re++) {
                    var qe = zt.getLine(Le--);
                    ne = null == ne ? qe : qe + '\n' + ne;
                  }
                  Kt *= 2;
                  var Ae = Qt(ne, Bt, ie);
                  if (Ae) {
                    var ir = ne.slice(0, Ae.index).split('\n'),
                      He = Ae[0].split('\n'),
                      ft = Le + ir.length,
                      Gt = ir[ir.length - 1].length;
                    return {
                      from: yt(ft, Gt),
                      to: yt(
                        ft + He.length - 1,
                        1 == He.length
                          ? Gt + He[0].length
                          : He[He.length - 1].length
                      ),
                      match: Ae,
                    };
                  }
                }
              }
              function wt(zt, Bt, ee, ne) {
                if (zt.length == Bt.length) return ee;
                for (
                  var Kt = 0, ie = ee + Math.max(0, zt.length - Bt.length);
                  ;

                ) {
                  if (Kt == ie) return Kt;
                  var Le = (Kt + ie) >> 1,
                    Pe = ne(zt.slice(0, Le)).length;
                  if (Pe == ee) return Le;
                  Pe > ee ? (ie = Le) : (Kt = Le + 1);
                }
              }
              function Zt(zt, Bt, ee, ne) {
                if (!Bt.length) return null;
                var Kt = ne ? oe : Lt,
                  ie = Kt(Bt).split(/\r|\n\r?/);
                t: for (
                  var Le = ee.line,
                    Pe = ee.ch,
                    Re = zt.lastLine() + 1 - ie.length;
                  Le <= Re;
                  Le++, Pe = 0
                ) {
                  var qe = zt.getLine(Le).slice(Pe),
                    Ae = Kt(qe);
                  if (1 == ie.length) {
                    var ir = Ae.indexOf(ie[0]);
                    if (-1 == ir) continue t;
                    return (
                      (ee = wt(qe, Ae, ir, Kt) + Pe),
                      {
                        from: yt(Le, wt(qe, Ae, ir, Kt) + Pe),
                        to: yt(Le, wt(qe, Ae, ir + ie[0].length, Kt) + Pe),
                      }
                    );
                  }
                  var He = Ae.length - ie[0].length;
                  if (Ae.slice(He) == ie[0]) {
                    for (var ft = 1; ft < ie.length - 1; ft++)
                      if (Kt(zt.getLine(Le + ft)) != ie[ft]) continue t;
                    var Gt = zt.getLine(Le + ie.length - 1),
                      Ht = Kt(Gt),
                      nt = ie[ie.length - 1];
                    if (Ht.slice(0, nt.length) == nt)
                      return {
                        from: yt(Le, wt(qe, Ae, He, Kt) + Pe),
                        to: yt(Le + ie.length - 1, wt(Gt, Ht, nt.length, Kt)),
                      };
                  }
                }
              }
              function he(zt, Bt, ee, ne) {
                if (!Bt.length) return null;
                var Kt = ne ? oe : Lt,
                  ie = Kt(Bt).split(/\r|\n\r?/);
                t: for (
                  var Le = ee.line,
                    Pe = ee.ch,
                    Re = zt.firstLine() - 1 + ie.length;
                  Le >= Re;
                  Le--, Pe = -1
                ) {
                  var qe = zt.getLine(Le);
                  Pe > -1 && (qe = qe.slice(0, Pe));
                  var Ae = Kt(qe);
                  if (1 == ie.length) {
                    var ir = Ae.lastIndexOf(ie[0]);
                    if (-1 == ir) continue t;
                    return {
                      from: yt(Le, wt(qe, Ae, ir, Kt)),
                      to: yt(Le, wt(qe, Ae, ir + ie[0].length, Kt)),
                    };
                  }
                  var He = ie[ie.length - 1];
                  if (Ae.slice(0, He.length) == He) {
                    var ft = 1;
                    for (ee = Le - ie.length + 1; ft < ie.length - 1; ft++)
                      if (Kt(zt.getLine(ee + ft)) != ie[ft]) continue t;
                    var Gt = zt.getLine(Le + 1 - ie.length),
                      Ht = Kt(Gt);
                    if (Ht.slice(Ht.length - ie[0].length) == ie[0])
                      return {
                        from: yt(
                          Le + 1 - ie.length,
                          wt(Gt, Ht, Gt.length - ie[0].length, Kt)
                        ),
                        to: yt(Le, wt(qe, Ae, He.length, Kt)),
                      };
                  }
                }
              }
              function _t(zt, Bt, ee, ne) {
                var Kt;
                (this.atOccurrence = !1),
                  (this.afterEmptyMatch = !1),
                  (this.doc = zt),
                  (ee = ee ? zt.clipPos(ee) : yt(0, 0)),
                  (this.pos = { from: ee, to: ee }),
                  'object' == typeof ne
                    ? (Kt = ne.caseFold)
                    : ((Kt = ne), (ne = null)),
                  'string' == typeof Bt
                    ? (null == Kt && (Kt = !1),
                      (this.matches = function (ie, Le) {
                        return (ie ? he : Zt)(zt, Bt, Le, Kt);
                      }))
                    : ((Bt = Dt(Bt, 'gm')),
                      (this.matches =
                        ne && !1 === ne.multiline
                          ? function (ie, Le) {
                              return (ie ? jt : ct)(zt, Bt, Le);
                            }
                          : function (ie, Le) {
                              return (ie ? de : ve)(zt, Bt, Le);
                            }));
              }
              String.prototype.normalize
                ? ((oe = function (zt) {
                    return zt.normalize('NFD').toLowerCase();
                  }),
                  (Lt = function (zt) {
                    return zt.normalize('NFD');
                  }))
                : ((oe = function (zt) {
                    return zt.toLowerCase();
                  }),
                  (Lt = function (zt) {
                    return zt;
                  })),
                (_t.prototype = {
                  findNext: function () {
                    return this.find(!1);
                  },
                  findPrevious: function () {
                    return this.find(!0);
                  },
                  find: function (zt) {
                    var Bt = this.doc.clipPos(zt ? this.pos.from : this.pos.to);
                    if (
                      this.afterEmptyMatch &&
                      this.atOccurrence &&
                      ((Bt = yt(Bt.line, Bt.ch)),
                      zt
                        ? (Bt.ch--,
                          Bt.ch < 0 &&
                            (Bt.line--,
                            (Bt.ch = (this.doc.getLine(Bt.line) || '').length)))
                        : (Bt.ch++,
                          Bt.ch > (this.doc.getLine(Bt.line) || '').length &&
                            ((Bt.ch = 0), Bt.line++)),
                      0 != te.cmpPos(Bt, this.doc.clipPos(Bt)))
                    )
                      return (this.atOccurrence = !1);
                    var ee = this.matches(zt, Bt);
                    if (
                      ((this.afterEmptyMatch =
                        ee && 0 == te.cmpPos(ee.from, ee.to)),
                      ee)
                    )
                      return (
                        (this.pos = ee),
                        (this.atOccurrence = !0),
                        this.pos.match || !0
                      );
                    var ne = yt(
                      zt ? this.doc.firstLine() : this.doc.lastLine() + 1,
                      0
                    );
                    return (
                      (this.pos = { from: ne, to: ne }),
                      (this.atOccurrence = !1)
                    );
                  },
                  from: function () {
                    if (this.atOccurrence) return this.pos.from;
                  },
                  to: function () {
                    if (this.atOccurrence) return this.pos.to;
                  },
                  replace: function (zt, Bt) {
                    if (this.atOccurrence) {
                      var ee = te.splitLines(zt);
                      this.doc.replaceRange(ee, this.pos.from, this.pos.to, Bt),
                        (this.pos.to = yt(
                          this.pos.from.line + ee.length - 1,
                          ee[ee.length - 1].length +
                            (1 == ee.length ? this.pos.from.ch : 0)
                        ));
                    }
                  },
                }),
                te.defineExtension('getSearchCursor', function (zt, Bt, ee) {
                  return new _t(this.doc, zt, Bt, ee);
                }),
                te.defineDocExtension('getSearchCursor', function (zt, Bt, ee) {
                  return new _t(this, zt, Bt, ee);
                }),
                te.defineExtension('selectMatches', function (zt, Bt) {
                  for (
                    var ee = [],
                      ne = this.getSearchCursor(zt, this.getCursor('from'), Bt);
                    ne.findNext() &&
                    !(te.cmpPos(ne.to(), this.getCursor('to')) > 0);

                  )
                    ee.push({ anchor: ne.from(), head: ne.to() });
                  ee.length && this.setSelections(ee, 0);
                });
            })(
              'object' == typeof ut && 'object' == typeof or
                ? ue('../../lib/codemirror')
                : CodeMirror
            );
          },
          { '../../lib/codemirror': 10 },
        ],
        9: [
          function (ue, or, ut) {
            !(function (te) {
              'use strict';
              function oe(Qt) {
                Qt.state.markedSelection &&
                  Qt.operation(function () {
                    !(function (jt) {
                      if (!jt.somethingSelected()) return ct(jt);
                      if (jt.listSelections().length > 1) return ve(jt);
                      var de = jt.getCursor('start'),
                        wt = jt.getCursor('end'),
                        Zt = jt.state.markedSelection;
                      if (!Zt.length) return bt(jt, de, wt);
                      var he = Zt[0].find(),
                        _t = Zt[Zt.length - 1].find();
                      if (
                        !he ||
                        !_t ||
                        wt.line - de.line <= 8 ||
                        Dt(de, _t.to) >= 0 ||
                        Dt(wt, he.from) <= 0
                      )
                        return ve(jt);
                      for (; Dt(de, he.from) > 0; )
                        Zt.shift().clear(), (he = Zt[0].find());
                      for (
                        Dt(de, he.from) < 0 &&
                        (he.to.line - de.line < 8
                          ? (Zt.shift().clear(), bt(jt, de, he.to, 0))
                          : bt(jt, de, he.from, 0));
                        Dt(wt, _t.to) < 0;

                      )
                        Zt.pop().clear(), (_t = Zt[Zt.length - 1].find());
                      Dt(wt, _t.to) > 0 &&
                        (wt.line - _t.from.line < 8
                          ? (Zt.pop().clear(), bt(jt, _t.from, wt))
                          : bt(jt, _t.to, wt));
                    })(Qt);
                  });
              }
              function Lt(Qt) {
                Qt.state.markedSelection &&
                  Qt.state.markedSelection.length &&
                  Qt.operation(function () {
                    ct(Qt);
                  });
              }
              te.defineOption('styleSelectedText', !1, function (Qt, jt, de) {
                var wt = de && de != te.Init;
                jt && !wt
                  ? ((Qt.state.markedSelection = []),
                    (Qt.state.markedSelectionStyle =
                      'string' == typeof jt ? jt : 'CodeMirror-selectedtext'),
                    ve(Qt),
                    Qt.on('cursorActivity', oe),
                    Qt.on('change', Lt))
                  : !jt &&
                    wt &&
                    (Qt.off('cursorActivity', oe),
                    Qt.off('change', Lt),
                    ct(Qt),
                    (Qt.state.markedSelection = Qt.state.markedSelectionStyle =
                      null));
              });
              var yt = te.Pos,
                Dt = te.cmpPos;
              function bt(Qt, jt, de, wt) {
                if (0 != Dt(jt, de))
                  for (
                    var Zt = Qt.state.markedSelection,
                      he = Qt.state.markedSelectionStyle,
                      _t = jt.line;
                    ;

                  ) {
                    var zt = _t == jt.line ? jt : yt(_t, 0),
                      Bt = _t + 8,
                      ee = Bt >= de.line,
                      ne = ee ? de : yt(Bt, 0),
                      Kt = Qt.markText(zt, ne, { className: he });
                    if ((null == wt ? Zt.push(Kt) : Zt.splice(wt++, 0, Kt), ee))
                      break;
                    _t = Bt;
                  }
              }
              function ct(Qt) {
                for (
                  var jt = Qt.state.markedSelection, de = 0;
                  de < jt.length;
                  ++de
                )
                  jt[de].clear();
                jt.length = 0;
              }
              function ve(Qt) {
                ct(Qt);
                for (var jt = Qt.listSelections(), de = 0; de < jt.length; de++)
                  bt(Qt, jt[de].from(), jt[de].to());
              }
            })(
              'object' == typeof ut && 'object' == typeof or
                ? ue('../../lib/codemirror')
                : CodeMirror
            );
          },
          { '../../lib/codemirror': 10 },
        ],
        10: [
          function (ue, or, ut) {
            var te, oe;
            (te = this),
              (oe = function () {
                'use strict';
                var te = navigator.userAgent,
                  oe = navigator.platform,
                  Lt = /gecko\/\d/i.test(te),
                  yt = /MSIE \d/.test(te),
                  Dt = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(te),
                  bt = /Edge\/(\d+)/.exec(te),
                  ct = yt || Dt || bt,
                  ve = ct && (yt ? document.documentMode || 6 : +(bt || Dt)[1]),
                  Qt = !bt && /WebKit\//.test(te),
                  jt = Qt && /Qt\/\d+\.\d+/.test(te),
                  de = !bt && /Chrome\/(\d+)/.exec(te),
                  wt = de && +de[1],
                  Zt = /Opera\//.test(te),
                  he = /Apple Computer/.test(navigator.vendor),
                  _t = /Mac OS X 1\d\D([8-9]|\d\d)\D/.test(te),
                  zt = /PhantomJS/.test(te),
                  Bt =
                    he &&
                    (/Mobile\/\w+/.test(te) || navigator.maxTouchPoints > 2),
                  ee = /Android/.test(te),
                  ne =
                    Bt ||
                    ee ||
                    /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(te),
                  Kt = Bt || /Mac/.test(oe),
                  ie = /\bCrOS\b/.test(te),
                  Le = /win/i.test(oe),
                  Pe = Zt && te.match(/Version\/(\d*\.\d*)/);
                Pe && (Pe = Number(Pe[1])),
                  Pe && Pe >= 15 && ((Zt = !1), (Qt = !0));
                var Re = Kt && (jt || (Zt && (null == Pe || Pe < 12.11))),
                  qe = Lt || (ct && ve >= 9);
                function Ae(h) {
                  return new RegExp('(^|\\s)' + h + '(?:$|\\s)\\s*');
                }
                var ir,
                  He = function (h, p) {
                    var _ = h.className,
                      x = Ae(p).exec(_);
                    if (x) {
                      var S = _.slice(x.index + x[0].length);
                      h.className = _.slice(0, x.index) + (S ? x[1] + S : '');
                    }
                  };
                function ft(h) {
                  for (var p = h.childNodes.length; p > 0; --p)
                    h.removeChild(h.firstChild);
                  return h;
                }
                function Gt(h, p) {
                  return ft(h).appendChild(p);
                }
                function Ht(h, p, _, x) {
                  var S = document.createElement(h);
                  if (
                    (_ && (S.className = _),
                    x && (S.style.cssText = x),
                    'string' == typeof p)
                  )
                    S.appendChild(document.createTextNode(p));
                  else if (p)
                    for (var T = 0; T < p.length; ++T) S.appendChild(p[T]);
                  return S;
                }
                function nt(h, p, _, x) {
                  var S = Ht(h, p, _, x);
                  return S.setAttribute('role', 'presentation'), S;
                }
                function Ot(h, p) {
                  if ((3 == p.nodeType && (p = p.parentNode), h.contains))
                    return h.contains(p);
                  do {
                    if ((11 == p.nodeType && (p = p.host), p == h)) return !0;
                  } while ((p = p.parentNode));
                }
                function st(h) {
                  var p;
                  try {
                    p = h.activeElement;
                  } catch {
                    p = h.body || null;
                  }
                  for (; p && p.shadowRoot && p.shadowRoot.activeElement; )
                    p = p.shadowRoot.activeElement;
                  return p;
                }
                function $(h, p) {
                  var _ = h.className;
                  Ae(p).test(_) || (h.className += (_ ? ' ' : '') + p);
                }
                function Xe(h, p) {
                  for (var _ = h.split(' '), x = 0; x < _.length; x++)
                    _[x] && !Ae(_[x]).test(p) && (p += ' ' + _[x]);
                  return p;
                }
                ir = document.createRange
                  ? function (h, p, _, x) {
                      var S = document.createRange();
                      return S.setEnd(x || h, _), S.setStart(h, p), S;
                    }
                  : function (h, p, _) {
                      var x = document.body.createTextRange();
                      try {
                        x.moveToElementText(h.parentNode);
                      } catch {
                        return x;
                      }
                      return (
                        x.collapse(!0),
                        x.moveEnd('character', _),
                        x.moveStart('character', p),
                        x
                      );
                    };
                var Ee = function (h) {
                  h.select();
                };
                function sr(h) {
                  return h.display.wrapper.ownerDocument;
                }
                function F(h) {
                  return sr(h).defaultView;
                }
                function Ut(h) {
                  var p = Array.prototype.slice.call(arguments, 1);
                  return function () {
                    return h.apply(null, p);
                  };
                }
                function Oe(h, p, _) {
                  for (var x in (p || (p = {}), h))
                    !h.hasOwnProperty(x) ||
                      (!1 === _ && p.hasOwnProperty(x)) ||
                      (p[x] = h[x]);
                  return p;
                }
                function je(h, p, _, x, S) {
                  null == p &&
                    -1 == (p = h.search(/[^\s\u00a0]/)) &&
                    (p = h.length);
                  for (var T = x || 0, k = S || 0; ; ) {
                    var P = h.indexOf('\t', T);
                    if (P < 0 || P >= p) return k + (p - T);
                    (k += P - T), (k += _ - (k % _)), (T = P + 1);
                  }
                }
                Bt
                  ? (Ee = function (h) {
                      (h.selectionStart = 0), (h.selectionEnd = h.value.length);
                    })
                  : ct &&
                    (Ee = function (h) {
                      try {
                        h.select();
                      } catch {}
                    });
                var Ar = function () {
                  (this.id = null),
                    (this.f = null),
                    (this.time = 0),
                    (this.handler = Ut(this.onTimeout, this));
                };
                function Ne(h, p) {
                  for (var _ = 0; _ < h.length; ++_) if (h[_] == p) return _;
                  return -1;
                }
                (Ar.prototype.onTimeout = function (h) {
                  (h.id = 0),
                    h.time <= +new Date()
                      ? h.f()
                      : setTimeout(h.handler, h.time - +new Date());
                }),
                  (Ar.prototype.set = function (h, p) {
                    this.f = p;
                    var _ = +new Date() + h;
                    (!this.id || _ < this.time) &&
                      (clearTimeout(this.id),
                      (this.id = setTimeout(this.handler, h)),
                      (this.time = _));
                  });
                var Ie = {
                    toString: function () {
                      return 'CodeMirror.Pass';
                    },
                  },
                  kt = { scroll: !1 },
                  me = { origin: '*mouse' },
                  Tt = { origin: '+move' };
                function fe(h, p, _) {
                  for (var x = 0, S = 0; ; ) {
                    var T = h.indexOf('\t', x);
                    -1 == T && (T = h.length);
                    var k = T - x;
                    if (T == h.length || S + k >= p)
                      return x + Math.min(k, p - S);
                    if (((S += T - x), (x = T + 1), (S += _ - (S % _)) >= p))
                      return x;
                  }
                }
                var ht = [''];
                function It(h) {
                  for (; ht.length <= h; ) ht.push(U(ht) + ' ');
                  return ht[h];
                }
                function U(h) {
                  return h[h.length - 1];
                }
                function Y(h, p) {
                  for (var _ = [], x = 0; x < h.length; x++) _[x] = p(h[x], x);
                  return _;
                }
                function mt() {}
                function Q(h, p) {
                  var _;
                  return (
                    Object.create
                      ? (_ = Object.create(h))
                      : ((mt.prototype = h), (_ = new mt())),
                    p && Oe(p, _),
                    _
                  );
                }
                var At =
                  /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;
                function Pt(h) {
                  return (
                    /\w/.test(h) ||
                    (h > '\x80' &&
                      (h.toUpperCase() != h.toLowerCase() || At.test(h)))
                  );
                }
                function qt(h, p) {
                  return p
                    ? !!(p.source.indexOf('\\w') > -1 && Pt(h)) || p.test(h)
                    : Pt(h);
                }
                function Me(h) {
                  for (var p in h) if (h.hasOwnProperty(p) && h[p]) return !1;
                  return !0;
                }
                var Wt =
                  /[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;
                function xe(h) {
                  return h.charCodeAt(0) >= 768 && Wt.test(h);
                }
                function B(h, p, _) {
                  for (; (_ < 0 ? p > 0 : p < h.length) && xe(h.charAt(p)); )
                    p += _;
                  return p;
                }
                function J(h, p, _) {
                  for (var x = p > _ ? -1 : 1; ; ) {
                    if (p == _) return p;
                    var S = (p + _) / 2,
                      T = x < 0 ? Math.ceil(S) : Math.floor(S);
                    if (T == p) return h(T) ? p : _;
                    h(T) ? (_ = T) : (p = T + x);
                  }
                }
                var rt = null;
                function et(h, p, _) {
                  var x;
                  rt = null;
                  for (var S = 0; S < h.length; ++S) {
                    var T = h[S];
                    if (T.from < p && T.to > p) return S;
                    T.to == p &&
                      (T.from != T.to && 'before' == _ ? (x = S) : (rt = S)),
                      T.from == p &&
                        (T.from != T.to && 'before' != _ ? (x = S) : (rt = S));
                  }
                  return x ?? rt;
                }
                var lt = (function () {
                  var h = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,
                    p = /[stwN]/,
                    _ = /[LRr]/,
                    x = /[Lb1n]/,
                    S = /[1n]/;
                  function T(k, P, N) {
                    (this.level = k), (this.from = P), (this.to = N);
                  }
                  return function (k, P) {
                    var N = 'ltr' == P ? 'L' : 'R';
                    if (0 == k.length || ('ltr' == P && !h.test(k))) return !1;
                    for (var V, q = k.length, j = [], vt = 0; vt < q; ++vt)
                      j.push(
                        (V = k.charCodeAt(vt)) <= 247
                          ? 'bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN'.charAt(
                              V
                            )
                          : 1424 <= V && V <= 1524
                          ? 'R'
                          : 1536 <= V && V <= 1785
                          ? 'nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111'.charAt(
                              V - 1536
                            )
                          : 1774 <= V && V <= 2220
                          ? 'r'
                          : 8192 <= V && V <= 8203
                          ? 'w'
                          : 8204 == V
                          ? 'b'
                          : 'L'
                      );
                    for (var at = 0, Mt = N; at < q; ++at) {
                      var Ft = j[at];
                      'm' == Ft ? (j[at] = Mt) : (Mt = Ft);
                    }
                    for (var St = 0, Yt = N; St < q; ++St) {
                      var le = j[St];
                      '1' == le && 'r' == Yt
                        ? (j[St] = 'n')
                        : _.test(le) && ((Yt = le), 'r' == le && (j[St] = 'R'));
                    }
                    for (var Jt = 1, we = j[0]; Jt < q - 1; ++Jt) {
                      var be = j[Jt];
                      '+' == be && '1' == we && '1' == j[Jt + 1]
                        ? (j[Jt] = '1')
                        : ',' != be ||
                          we != j[Jt + 1] ||
                          ('1' != we && 'n' != we) ||
                          (j[Jt] = we),
                        (we = be);
                    }
                    for (var Ce = 0; Ce < q; ++Ce) {
                      var hr = j[Ce];
                      if (',' == hr) j[Ce] = 'N';
                      else if ('%' == hr) {
                        var Ue = void 0;
                        for (Ue = Ce + 1; Ue < q && '%' == j[Ue]; ++Ue);
                        for (
                          var Ir =
                              (Ce && '!' == j[Ce - 1]) ||
                              (Ue < q && '1' == j[Ue])
                                ? '1'
                                : 'N',
                            cr = Ce;
                          cr < Ue;
                          ++cr
                        )
                          j[cr] = Ir;
                        Ce = Ue - 1;
                      }
                    }
                    for (var Hr = 0, Jr = N; Hr < q; ++Hr) {
                      var Pr = j[Hr];
                      'L' == Jr && '1' == Pr
                        ? (j[Hr] = 'L')
                        : _.test(Pr) && (Jr = Pr);
                    }
                    for (var Sr = 0; Sr < q; ++Sr)
                      if (p.test(j[Sr])) {
                        var Gr = void 0;
                        for (Gr = Sr + 1; Gr < q && p.test(j[Gr]); ++Gr);
                        for (
                          var Mr = 'L' == (Sr ? j[Sr - 1] : N),
                            tn =
                              Mr == ('L' == (Gr < q ? j[Gr] : N))
                                ? Mr
                                  ? 'L'
                                  : 'R'
                                : N,
                            gr = Sr;
                          gr < Gr;
                          ++gr
                        )
                          j[gr] = tn;
                        Sr = Gr - 1;
                      }
                    for (var Br, wr = [], Ur = 0; Ur < q; )
                      if (x.test(j[Ur])) {
                        var zn = Ur;
                        for (++Ur; Ur < q && x.test(j[Ur]); ++Ur);
                        wr.push(new T(0, zn, Ur));
                      } else {
                        var jr = Ur,
                          jn = wr.length,
                          Kn = 'rtl' == P ? 1 : 0;
                        for (++Ur; Ur < q && 'L' != j[Ur]; ++Ur);
                        for (var cn = jr; cn < Ur; )
                          if (S.test(j[cn])) {
                            jr < cn &&
                              (wr.splice(jn, 0, new T(1, jr, cn)), (jn += Kn));
                            var yi = cn;
                            for (++cn; cn < Ur && S.test(j[cn]); ++cn);
                            wr.splice(jn, 0, new T(2, yi, cn)),
                              (jn += Kn),
                              (jr = cn);
                          } else ++cn;
                        jr < Ur && wr.splice(jn, 0, new T(1, jr, Ur));
                      }
                    return (
                      'ltr' == P &&
                        (1 == wr[0].level &&
                          (Br = k.match(/^\s+/)) &&
                          ((wr[0].from = Br[0].length),
                          wr.unshift(new T(0, 0, Br[0].length))),
                        1 == U(wr).level &&
                          (Br = k.match(/\s+$/)) &&
                          ((U(wr).to -= Br[0].length),
                          wr.push(new T(0, q - Br[0].length, q)))),
                      'rtl' == P ? wr.reverse() : wr
                    );
                  };
                })();
                function Et(h, p) {
                  var _ = h.order;
                  return null == _ && (_ = h.order = lt(h.text, p)), _;
                }
                var gt = [],
                  Rt = function (h, p, _) {
                    if (h.addEventListener) h.addEventListener(p, _, !1);
                    else if (h.attachEvent) h.attachEvent('on' + p, _);
                    else {
                      var x = h._handlers || (h._handlers = {});
                      x[p] = (x[p] || gt).concat(_);
                    }
                  };
                function Ct(h, p) {
                  return (h._handlers && h._handlers[p]) || gt;
                }
                function se(h, p, _) {
                  if (h.removeEventListener) h.removeEventListener(p, _, !1);
                  else if (h.detachEvent) h.detachEvent('on' + p, _);
                  else {
                    var x = h._handlers,
                      S = x && x[p];
                    if (S) {
                      var T = Ne(S, _);
                      T > -1 && (x[p] = S.slice(0, T).concat(S.slice(T + 1)));
                    }
                  }
                }
                function pe(h, p) {
                  var _ = Ct(h, p);
                  if (_.length)
                    for (
                      var x = Array.prototype.slice.call(arguments, 2), S = 0;
                      S < _.length;
                      ++S
                    )
                      _[S].apply(null, x);
                }
                function ze(h, p, _) {
                  return (
                    'string' == typeof p &&
                      (p = {
                        type: p,
                        preventDefault: function () {
                          this.defaultPrevented = !0;
                        },
                      }),
                    pe(h, _ || p.type, h, p),
                    ce(p) || p.codemirrorIgnore
                  );
                }
                function ar(h) {
                  var p = h._handlers && h._handlers.cursorActivity;
                  if (p)
                    for (
                      var _ =
                          h.curOp.cursorActivityHandlers ||
                          (h.curOp.cursorActivityHandlers = []),
                        x = 0;
                      x < p.length;
                      ++x
                    )
                      -1 == Ne(_, p[x]) && _.push(p[x]);
                }
                function Nt(h, p) {
                  return Ct(h, p).length > 0;
                }
                function Ge(h) {
                  (h.prototype.on = function (p, _) {
                    Rt(this, p, _);
                  }),
                    (h.prototype.off = function (p, _) {
                      se(this, p, _);
                    });
                }
                function $e(h) {
                  h.preventDefault ? h.preventDefault() : (h.returnValue = !1);
                }
                function lr(h) {
                  h.stopPropagation
                    ? h.stopPropagation()
                    : (h.cancelBubble = !0);
                }
                function ce(h) {
                  return null != h.defaultPrevented
                    ? h.defaultPrevented
                    : 0 == h.returnValue;
                }
                function Ke(h) {
                  $e(h), lr(h);
                }
                function Fr(h) {
                  return h.target || h.srcElement;
                }
                function ti(h) {
                  var p = h.which;
                  return (
                    null == p &&
                      (1 & h.button
                        ? (p = 1)
                        : 2 & h.button
                        ? (p = 3)
                        : 4 & h.button && (p = 2)),
                    Kt && h.ctrlKey && 1 == p && (p = 3),
                    p
                  );
                }
                var mn,
                  $r,
                  Mn = (function () {
                    if (ct && ve < 9) return !1;
                    var h = Ht('div');
                    return 'draggable' in h || 'dragDrop' in h;
                  })();
                function ji(h) {
                  if (null == mn) {
                    var p = Ht('span', '\u200b');
                    Gt(h, Ht('span', [p, document.createTextNode('x')])),
                      0 != h.firstChild.offsetHeight &&
                        (mn =
                          p.offsetWidth <= 1 &&
                          p.offsetHeight > 2 &&
                          !(ct && ve < 8));
                  }
                  var _ = mn
                    ? Ht('span', '\u200b')
                    : Ht(
                        'span',
                        '\xa0',
                        null,
                        'display: inline-block; width: 1px; margin-right: -1px'
                      );
                  return _.setAttribute('cm-text', ''), _;
                }
                function Va(h) {
                  if (null != $r) return $r;
                  var p = Gt(h, document.createTextNode('A\u062eA')),
                    _ = ir(p, 0, 1).getBoundingClientRect(),
                    x = ir(p, 1, 2).getBoundingClientRect();
                  return (
                    ft(h),
                    !(!_ || _.left == _.right) && ($r = x.right - _.right < 3)
                  );
                }
                var Gn,
                  Nr =
                    3 != '\n\nb'.split(/\n/).length
                      ? function (h) {
                          for (var p = 0, _ = [], x = h.length; p <= x; ) {
                            var S = h.indexOf('\n', p);
                            -1 == S && (S = h.length);
                            var T = h.slice(
                                p,
                                '\r' == h.charAt(S - 1) ? S - 1 : S
                              ),
                              k = T.indexOf('\r');
                            -1 != k
                              ? (_.push(T.slice(0, k)), (p += k + 1))
                              : (_.push(T), (p = S + 1));
                          }
                          return _;
                        }
                      : function (h) {
                          return h.split(/\r\n?|\n/);
                        },
                  Wn = window.getSelection
                    ? function (h) {
                        try {
                          return h.selectionStart != h.selectionEnd;
                        } catch {
                          return !1;
                        }
                      }
                    : function (h) {
                        var p;
                        try {
                          p = h.ownerDocument.selection.createRange();
                        } catch {}
                        return (
                          !(!p || p.parentElement() != h) &&
                          0 != p.compareEndPoints('StartToEnd', p)
                        );
                      },
                  Ki =
                    'oncopy' in (Gn = Ht('div')) ||
                    (Gn.setAttribute('oncopy', 'return;'),
                    'function' == typeof Gn.oncopy),
                  ei = null,
                  Ti = {},
                  xi = {};
                function dl(h, p) {
                  arguments.length > 2 &&
                    (p.dependencies = Array.prototype.slice.call(arguments, 2)),
                    (Ti[h] = p);
                }
                function Ho(h) {
                  if ('string' == typeof h && xi.hasOwnProperty(h)) h = xi[h];
                  else if (
                    h &&
                    'string' == typeof h.name &&
                    xi.hasOwnProperty(h.name)
                  ) {
                    var p = xi[h.name];
                    'string' == typeof p && (p = { name: p }),
                      ((h = Q(p, h)).name = p.name);
                  } else {
                    if (
                      'string' == typeof h &&
                      /^[\w\-]+\/[\w\-]+\+xml$/.test(h)
                    )
                      return Ho('application/xml');
                    if (
                      'string' == typeof h &&
                      /^[\w\-]+\/[\w\-]+\+json$/.test(h)
                    )
                      return Ho('application/json');
                  }
                  return 'string' == typeof h
                    ? { name: h }
                    : h || { name: 'null' };
                }
                function pa(h, p) {
                  p = Ho(p);
                  var _ = Ti[p.name];
                  if (!_) return pa(h, 'text/plain');
                  var x = _(h, p);
                  if (Ai.hasOwnProperty(p.name)) {
                    var S = Ai[p.name];
                    for (var T in S)
                      S.hasOwnProperty(T) &&
                        (x.hasOwnProperty(T) && (x['_' + T] = x[T]),
                        (x[T] = S[T]));
                  }
                  if (
                    ((x.name = p.name),
                    p.helperType && (x.helperType = p.helperType),
                    p.modeProps)
                  )
                    for (var k in p.modeProps) x[k] = p.modeProps[k];
                  return x;
                }
                var Ai = {};
                function xs(h, p) {
                  Oe(p, Ai.hasOwnProperty(h) ? Ai[h] : (Ai[h] = {}));
                }
                function $n(h, p) {
                  if (!0 === p) return p;
                  if (h.copyState) return h.copyState(p);
                  var _ = {};
                  for (var x in p) {
                    var S = p[x];
                    S instanceof Array && (S = S.concat([])), (_[x] = S);
                  }
                  return _;
                }
                function bs(h, p) {
                  for (
                    var _;
                    h.innerMode && (_ = h.innerMode(p)) && _.mode != h;

                  )
                    (p = _.state), (h = _.mode);
                  return _ || { mode: h, state: p };
                }
                function La(h, p, _) {
                  return !h.startState || h.startState(p, _);
                }
                var _n = function (h, p, _) {
                  (this.pos = this.start = 0),
                    (this.string = h),
                    (this.tabSize = p || 8),
                    (this.lastColumnPos = this.lastColumnValue = 0),
                    (this.lineStart = 0),
                    (this.lineOracle = _);
                };
                function Je(h, p) {
                  if ((p -= h.first) < 0 || p >= h.size)
                    throw new Error(
                      'There is no line ' + (p + h.first) + ' in the document.'
                    );
                  for (var _ = h; !_.lines; )
                    for (var x = 0; ; ++x) {
                      var S = _.children[x],
                        T = S.chunkSize();
                      if (p < T) {
                        _ = S;
                        break;
                      }
                      p -= T;
                    }
                  return _.lines[p];
                }
                function dn(h, p, _) {
                  var x = [],
                    S = p.line;
                  return (
                    h.iter(p.line, _.line + 1, function (T) {
                      var k = T.text;
                      S == _.line && (k = k.slice(0, _.ch)),
                        S == p.line && (k = k.slice(p.ch)),
                        x.push(k),
                        ++S;
                    }),
                    x
                  );
                }
                function Mi(h, p, _) {
                  var x = [];
                  return (
                    h.iter(p, _, function (S) {
                      x.push(S.text);
                    }),
                    x
                  );
                }
                function Ln(h, p) {
                  var _ = p - h.height;
                  if (_) for (var x = h; x; x = x.parent) x.height += _;
                }
                function Kr(h) {
                  if (null == h.parent) return null;
                  for (
                    var p = h.parent, _ = Ne(p.lines, h), x = p.parent;
                    x;
                    p = x, x = x.parent
                  )
                    for (var S = 0; x.children[S] != p; ++S)
                      _ += x.children[S].chunkSize();
                  return _ + p.first;
                }
                function Li(h, p) {
                  var _ = h.first;
                  t: do {
                    for (var x = 0; x < h.children.length; ++x) {
                      var S = h.children[x],
                        T = S.height;
                      if (p < T) {
                        h = S;
                        continue t;
                      }
                      (p -= T), (_ += S.chunkSize());
                    }
                    return _;
                  } while (!h.lines);
                  for (var k = 0; k < h.lines.length; ++k) {
                    var P = h.lines[k].height;
                    if (p < P) break;
                    p -= P;
                  }
                  return _ + k;
                }
                function Go(h, p) {
                  return p >= h.first && p < h.first + h.size;
                }
                function ci(h, p) {
                  return String(h.lineNumberFormatter(p + h.firstLineNumber));
                }
                function Se(h, p, _) {
                  if ((void 0 === _ && (_ = null), !(this instanceof Se)))
                    return new Se(h, p, _);
                  (this.line = h), (this.ch = p), (this.sticky = _);
                }
                function pr(h, p) {
                  return h.line - p.line || h.ch - p.ch;
                }
                function vl(h, p) {
                  return h.sticky == p.sticky && 0 == pr(h, p);
                }
                function Wo(h) {
                  return Se(h.line, h.ch);
                }
                function ga(h, p) {
                  return pr(h, p) < 0 ? p : h;
                }
                function _s(h, p) {
                  return pr(h, p) < 0 ? h : p;
                }
                function Ss(h, p) {
                  return Math.max(h.first, Math.min(p, h.first + h.size - 1));
                }
                function mr(h, p) {
                  if (p.line < h.first) return Se(h.first, 0);
                  var x,
                    S,
                    T,
                    _ = h.first + h.size - 1;
                  return p.line > _
                    ? Se(_, Je(h, _).text.length)
                    : ((x = p),
                      (S = Je(h, p.line).text.length),
                      null == (T = x.ch) || T > S
                        ? Se(x.line, S)
                        : T < 0
                        ? Se(x.line, 0)
                        : x);
                }
                function Ii(h, p) {
                  for (var _ = [], x = 0; x < p.length; x++) _[x] = mr(h, p[x]);
                  return _;
                }
                (_n.prototype.eol = function () {
                  return this.pos >= this.string.length;
                }),
                  (_n.prototype.sol = function () {
                    return this.pos == this.lineStart;
                  }),
                  (_n.prototype.peek = function () {
                    return this.string.charAt(this.pos) || void 0;
                  }),
                  (_n.prototype.next = function () {
                    if (this.pos < this.string.length)
                      return this.string.charAt(this.pos++);
                  }),
                  (_n.prototype.eat = function (h) {
                    var p = this.string.charAt(this.pos);
                    if (
                      'string' == typeof h
                        ? p == h
                        : p && (h.test ? h.test(p) : h(p))
                    )
                      return ++this.pos, p;
                  }),
                  (_n.prototype.eatWhile = function (h) {
                    for (var p = this.pos; this.eat(h); );
                    return this.pos > p;
                  }),
                  (_n.prototype.eatSpace = function () {
                    for (
                      var h = this.pos;
                      /[\s\u00a0]/.test(this.string.charAt(this.pos));

                    )
                      ++this.pos;
                    return this.pos > h;
                  }),
                  (_n.prototype.skipToEnd = function () {
                    this.pos = this.string.length;
                  }),
                  (_n.prototype.skipTo = function (h) {
                    var p = this.string.indexOf(h, this.pos);
                    if (p > -1) return (this.pos = p), !0;
                  }),
                  (_n.prototype.backUp = function (h) {
                    this.pos -= h;
                  }),
                  (_n.prototype.column = function () {
                    return (
                      this.lastColumnPos < this.start &&
                        ((this.lastColumnValue = je(
                          this.string,
                          this.start,
                          this.tabSize,
                          this.lastColumnPos,
                          this.lastColumnValue
                        )),
                        (this.lastColumnPos = this.start)),
                      this.lastColumnValue -
                        (this.lineStart
                          ? je(this.string, this.lineStart, this.tabSize)
                          : 0)
                    );
                  }),
                  (_n.prototype.indentation = function () {
                    return (
                      je(this.string, null, this.tabSize) -
                      (this.lineStart
                        ? je(this.string, this.lineStart, this.tabSize)
                        : 0)
                    );
                  }),
                  (_n.prototype.match = function (h, p, _) {
                    if ('string' != typeof h) {
                      var x = this.string.slice(this.pos).match(h);
                      return x && x.index > 0
                        ? null
                        : (x && !1 !== p && (this.pos += x[0].length), x);
                    }
                    var S = function (T) {
                      return _ ? T.toLowerCase() : T;
                    };
                    if (S(this.string.substr(this.pos, h.length)) == S(h))
                      return !1 !== p && (this.pos += h.length), !0;
                  }),
                  (_n.prototype.current = function () {
                    return this.string.slice(this.start, this.pos);
                  }),
                  (_n.prototype.hideFirstChars = function (h, p) {
                    this.lineStart += h;
                    try {
                      return p();
                    } finally {
                      this.lineStart -= h;
                    }
                  }),
                  (_n.prototype.lookAhead = function (h) {
                    var p = this.lineOracle;
                    return p && p.lookAhead(h);
                  }),
                  (_n.prototype.baseToken = function () {
                    var h = this.lineOracle;
                    return h && h.baseToken(this.pos);
                  });
                var ki = function (h, p) {
                    (this.state = h), (this.lookAhead = p);
                  },
                  ri = function (h, p, _, x) {
                    (this.state = p),
                      (this.doc = h),
                      (this.line = _),
                      (this.maxLookAhead = x || 0),
                      (this.baseTokens = null),
                      (this.baseTokenPos = 1);
                  };
                function Uc(h, p, _, x) {
                  var S = [h.state.modeGen],
                    T = {};
                  Ts(
                    h,
                    p.text,
                    h.doc.mode,
                    _,
                    function (V, q) {
                      return S.push(V, q);
                    },
                    T,
                    x
                  );
                  for (
                    var k = _.state,
                      P = function (V) {
                        _.baseTokens = S;
                        var q = h.state.overlays[V],
                          j = 1,
                          vt = 0;
                        (_.state = !0),
                          Ts(
                            h,
                            p.text,
                            q.mode,
                            _,
                            function (at, Mt) {
                              for (var Ft = j; vt < at; ) {
                                var St = S[j];
                                St > at && S.splice(j, 1, at, S[j + 1], St),
                                  (j += 2),
                                  (vt = Math.min(at, St));
                              }
                              if (Mt)
                                if (q.opaque)
                                  S.splice(Ft, j - Ft, at, 'overlay ' + Mt),
                                    (j = Ft + 2);
                                else
                                  for (; Ft < j; Ft += 2) {
                                    var Yt = S[Ft + 1];
                                    S[Ft + 1] =
                                      (Yt ? Yt + ' ' : '') + 'overlay ' + Mt;
                                  }
                            },
                            T
                          ),
                          (_.state = k),
                          (_.baseTokens = null),
                          (_.baseTokenPos = 1);
                      },
                      N = 0;
                    N < h.state.overlays.length;
                    ++N
                  )
                    P(N);
                  return {
                    styles: S,
                    classes: T.bgClass || T.textClass ? T : null,
                  };
                }
                function Dn(h, p, _) {
                  if (!p.styles || p.styles[0] != h.state.modeGen) {
                    var x = ws(h, Kr(p)),
                      S =
                        p.text.length > h.options.maxHighlightLength &&
                        $n(h.doc.mode, x.state),
                      T = Uc(h, p, x);
                    S && (x.state = S),
                      (p.stateAfter = x.save(!S)),
                      (p.styles = T.styles),
                      T.classes
                        ? (p.styleClasses = T.classes)
                        : p.styleClasses && (p.styleClasses = null),
                      _ === h.doc.highlightFrontier &&
                        (h.doc.modeFrontier = Math.max(
                          h.doc.modeFrontier,
                          ++h.doc.highlightFrontier
                        ));
                  }
                  return p.styles;
                }
                function ws(h, p, _) {
                  var x = h.doc,
                    S = h.display;
                  if (!x.mode.startState) return new ri(x, !0, p);
                  var T = (function (N, V, q) {
                      for (
                        var j,
                          vt,
                          at = N.doc,
                          Mt = q ? -1 : V - (N.doc.mode.innerMode ? 1e3 : 100),
                          Ft = V;
                        Ft > Mt;
                        --Ft
                      ) {
                        if (Ft <= at.first) return at.first;
                        var St = Je(at, Ft - 1),
                          Yt = St.stateAfter;
                        if (
                          Yt &&
                          (!q ||
                            Ft + (Yt instanceof ki ? Yt.lookAhead : 0) <=
                              at.modeFrontier)
                        )
                          return Ft;
                        var le = je(St.text, null, N.options.tabSize);
                        (null == vt || j > le) && ((vt = Ft - 1), (j = le));
                      }
                      return vt;
                    })(h, p, _),
                    k = T > x.first && Je(x, T - 1).stateAfter,
                    P = k ? ri.fromSaved(x, k, T) : new ri(x, La(x.mode), T);
                  return (
                    x.iter(T, p, function (N) {
                      Cs(h, N.text, P);
                      var V = P.line;
                      (N.stateAfter =
                        V == p - 1 ||
                        V % 5 == 0 ||
                        (V >= S.viewFrom && V < S.viewTo)
                          ? P.save()
                          : null),
                        P.nextLine();
                    }),
                    _ && (x.modeFrontier = P.line),
                    P
                  );
                }
                function Cs(h, p, _, x) {
                  var S = h.doc.mode,
                    T = new _n(p, h.options.tabSize, _);
                  for (
                    T.start = T.pos = x || 0, '' == p && du(S, _.state);
                    !T.eol();

                  )
                    Ds(S, T, _.state), (T.start = T.pos);
                }
                function du(h, p) {
                  if (h.blankLine) return h.blankLine(p);
                  if (h.innerMode) {
                    var _ = bs(h, p);
                    return _.mode.blankLine
                      ? _.mode.blankLine(_.state)
                      : void 0;
                  }
                }
                function Ds(h, p, _, x) {
                  for (var S = 0; S < 10; S++) {
                    x && (x[0] = bs(h, _).mode);
                    var T = h.token(p, _);
                    if (p.pos > p.start) return T;
                  }
                  throw new Error(
                    'Mode ' + h.name + ' failed to advance stream.'
                  );
                }
                (ri.prototype.lookAhead = function (h) {
                  var p = this.doc.getLine(this.line + h);
                  return (
                    null != p &&
                      h > this.maxLookAhead &&
                      (this.maxLookAhead = h),
                    p
                  );
                }),
                  (ri.prototype.baseToken = function (h) {
                    if (!this.baseTokens) return null;
                    for (; this.baseTokens[this.baseTokenPos] <= h; )
                      this.baseTokenPos += 2;
                    var p = this.baseTokens[this.baseTokenPos + 1];
                    return {
                      type: p && p.replace(/( |^)overlay .*/, ''),
                      size: this.baseTokens[this.baseTokenPos] - h,
                    };
                  }),
                  (ri.prototype.nextLine = function () {
                    this.line++, this.maxLookAhead > 0 && this.maxLookAhead--;
                  }),
                  (ri.fromSaved = function (h, p, _) {
                    return p instanceof ki
                      ? new ri(h, $n(h.mode, p.state), _, p.lookAhead)
                      : new ri(h, $n(h.mode, p), _);
                  }),
                  (ri.prototype.save = function (h) {
                    var p =
                      !1 !== h ? $n(this.doc.mode, this.state) : this.state;
                    return this.maxLookAhead > 0
                      ? new ki(p, this.maxLookAhead)
                      : p;
                  });
                var Qi = function (h, p, _) {
                  (this.start = h.start),
                    (this.end = h.pos),
                    (this.string = h.current()),
                    (this.type = p || null),
                    (this.state = _);
                };
                function Ha(h, p, _, x) {
                  var S,
                    T,
                    k = h.doc,
                    P = k.mode,
                    N = Je(k, (p = mr(k, p)).line),
                    V = ws(h, p.line, _),
                    q = new _n(N.text, h.options.tabSize, V);
                  for (x && (T = []); (x || q.pos < p.ch) && !q.eol(); )
                    (q.start = q.pos),
                      (S = Ds(P, q, V.state)),
                      x && T.push(new Qi(q, S, $n(k.mode, V.state)));
                  return x ? T : new Qi(q, S, V.state);
                }
                function In(h, p) {
                  if (h)
                    for (;;) {
                      var _ = h.match(/(?:^|\s+)line-(background-)?(\S+)/);
                      if (!_) break;
                      h = h.slice(0, _.index) + h.slice(_.index + _[0].length);
                      var x = _[1] ? 'bgClass' : 'textClass';
                      null == p[x]
                        ? (p[x] = _[2])
                        : new RegExp('(?:^|\\s)' + _[2] + '(?:$|\\s)').test(
                            p[x]
                          ) || (p[x] += ' ' + _[2]);
                    }
                  return h;
                }
                function Ts(h, p, _, x, S, T, k) {
                  var P = _.flattenSpans;
                  null == P && (P = h.options.flattenSpans);
                  var N,
                    V = 0,
                    q = null,
                    j = new _n(p, h.options.tabSize, x),
                    vt = h.options.addModeClass && [null];
                  for ('' == p && In(du(_, x.state), T); !j.eol(); ) {
                    if (
                      (j.pos > h.options.maxHighlightLength
                        ? ((P = !1),
                          k && Cs(h, p, x, j.pos),
                          (j.pos = p.length),
                          (N = null))
                        : (N = In(Ds(_, j, x.state, vt), T)),
                      vt)
                    ) {
                      var at = vt[0].name;
                      at && (N = 'm-' + (N ? at + ' ' + N : at));
                    }
                    if (!P || q != N) {
                      for (; V < j.start; )
                        S((V = Math.min(j.start, V + 5e3)), q);
                      q = N;
                    }
                    j.start = j.pos;
                  }
                  for (; V < j.pos; ) {
                    var Mt = Math.min(j.pos, V + 5e3);
                    S(Mt, q), (V = Mt);
                  }
                }
                var As = !1,
                  Ia = !1;
                function fi(h, p, _) {
                  (this.marker = h), (this.from = p), (this.to = _);
                }
                function Ga(h, p) {
                  if (h)
                    for (var _ = 0; _ < h.length; ++_) {
                      var x = h[_];
                      if (x.marker == p) return x;
                    }
                }
                function pl(h, p) {
                  for (var _, x = 0; x < h.length; ++x)
                    h[x] != p && (_ || (_ = [])).push(h[x]);
                  return _;
                }
                function go(h, p) {
                  if (p.full) return null;
                  var _ = Go(h, p.from.line) && Je(h, p.from.line).markedSpans,
                    x = Go(h, p.to.line) && Je(h, p.to.line).markedSpans;
                  if (!_ && !x) return null;
                  var S = p.from.ch,
                    T = p.to.ch,
                    k = 0 == pr(p.from, p.to),
                    P = (function (be, Ce, hr) {
                      var Ue;
                      if (be)
                        for (var Ir = 0; Ir < be.length; ++Ir) {
                          var cr = be[Ir],
                            Hr = cr.marker;
                          (null != cr.from &&
                            !(Hr.inclusiveLeft
                              ? cr.from <= Ce
                              : cr.from < Ce) &&
                            (cr.from != Ce ||
                              'bookmark' != Hr.type ||
                              (hr && cr.marker.insertLeft))) ||
                            (Ue || (Ue = [])).push(
                              new fi(
                                Hr,
                                cr.from,
                                null == cr.to ||
                                (Hr.inclusiveRight ? cr.to >= Ce : cr.to > Ce)
                                  ? null
                                  : cr.to
                              )
                            );
                        }
                      return Ue;
                    })(_, S, k),
                    N = (function (be, Ce, hr) {
                      var Ue;
                      if (be)
                        for (var Ir = 0; Ir < be.length; ++Ir) {
                          var cr = be[Ir],
                            Hr = cr.marker;
                          (null == cr.to ||
                            (Hr.inclusiveRight ? cr.to >= Ce : cr.to > Ce) ||
                            (cr.from == Ce &&
                              'bookmark' == Hr.type &&
                              (!hr || cr.marker.insertLeft))) &&
                            (Ue || (Ue = [])).push(
                              new fi(
                                Hr,
                                null == cr.from ||
                                (Hr.inclusiveLeft
                                  ? cr.from <= Ce
                                  : cr.from < Ce)
                                  ? null
                                  : cr.from - Ce,
                                null == cr.to ? null : cr.to - Ce
                              )
                            );
                        }
                      return Ue;
                    })(x, T, k),
                    V = 1 == p.text.length,
                    q = U(p.text).length + (V ? S : 0);
                  if (P)
                    for (var j = 0; j < P.length; ++j) {
                      var vt = P[j];
                      if (null == vt.to) {
                        var at = Ga(N, vt.marker);
                        at
                          ? V && (vt.to = null == at.to ? null : at.to + q)
                          : (vt.to = S);
                      }
                    }
                  if (N)
                    for (var Mt = 0; Mt < N.length; ++Mt) {
                      var Ft = N[Mt];
                      null != Ft.to && (Ft.to += q),
                        null == Ft.from
                          ? Ga(P, Ft.marker) ||
                            ((Ft.from = q), V && (P || (P = [])).push(Ft))
                          : ((Ft.from += q), V && (P || (P = [])).push(Ft));
                    }
                  P && (P = Wa(P)), N && N != P && (N = Wa(N));
                  var St = [P];
                  if (!V) {
                    var Yt,
                      le = p.text.length - 2;
                    if (le > 0 && P)
                      for (var Jt = 0; Jt < P.length; ++Jt)
                        null == P[Jt].to &&
                          (Yt || (Yt = [])).push(
                            new fi(P[Jt].marker, null, null)
                          );
                    for (var we = 0; we < le; ++we) St.push(Yt);
                    St.push(N);
                  }
                  return St;
                }
                function Wa(h) {
                  for (var p = 0; p < h.length; ++p) {
                    var _ = h[p];
                    null != _.from &&
                      _.from == _.to &&
                      !1 !== _.marker.clearWhenEmpty &&
                      h.splice(p--, 1);
                  }
                  return h.length ? h : null;
                }
                function Ei(h) {
                  var p = h.markedSpans;
                  if (p) {
                    for (var _ = 0; _ < p.length; ++_)
                      p[_].marker.detachLine(h);
                    h.markedSpans = null;
                  }
                }
                function hi(h, p) {
                  if (p) {
                    for (var _ = 0; _ < p.length; ++_)
                      p[_].marker.attachLine(h);
                    h.markedSpans = p;
                  }
                }
                function $a(h) {
                  return h.inclusiveLeft ? -1 : 0;
                }
                function mo(h) {
                  return h.inclusiveRight ? 1 : 0;
                }
                function Pi(h, p) {
                  var _ = h.lines.length - p.lines.length;
                  if (0 != _) return _;
                  var x = h.find(),
                    S = p.find(),
                    T = pr(x.from, S.from) || $a(h) - $a(p);
                  return T
                    ? -T
                    : pr(x.to, S.to) || mo(h) - mo(p) || p.id - h.id;
                }
                function Ri(h, p) {
                  var _,
                    x = Ia && h.markedSpans;
                  if (x)
                    for (var S = void 0, T = 0; T < x.length; ++T)
                      (S = x[T]).marker.collapsed &&
                        null == (p ? S.from : S.to) &&
                        (!_ || Pi(_, S.marker) < 0) &&
                        (_ = S.marker);
                  return _;
                }
                function ka(h) {
                  return Ri(h, !0);
                }
                function yo(h) {
                  return Ri(h, !1);
                }
                function xo(h, p) {
                  var _,
                    x = Ia && h.markedSpans;
                  if (x)
                    for (var S = 0; S < x.length; ++S) {
                      var T = x[S];
                      T.marker.collapsed &&
                        (null == T.from || T.from < p) &&
                        (null == T.to || T.to > p) &&
                        (!_ || Pi(_, T.marker) < 0) &&
                        (_ = T.marker);
                    }
                  return _;
                }
                function gl(h, p, _, x, S) {
                  var T = Je(h, p),
                    k = Ia && T.markedSpans;
                  if (k)
                    for (var P = 0; P < k.length; ++P) {
                      var N = k[P];
                      if (N.marker.collapsed) {
                        var V = N.marker.find(0),
                          q = pr(V.from, _) || $a(N.marker) - $a(S),
                          j = pr(V.to, x) || mo(N.marker) - mo(S);
                        if (
                          !((q >= 0 && j <= 0) || (q <= 0 && j >= 0)) &&
                          ((q <= 0 &&
                            (N.marker.inclusiveRight && S.inclusiveLeft
                              ? pr(V.to, _) >= 0
                              : pr(V.to, _) > 0)) ||
                            (q >= 0 &&
                              (N.marker.inclusiveRight && S.inclusiveLeft
                                ? pr(V.from, x) <= 0
                                : pr(V.from, x) < 0)))
                        )
                          return !0;
                      }
                    }
                }
                function bi(h) {
                  for (var p; (p = ka(h)); ) h = p.find(-1, !0).line;
                  return h;
                }
                function ur(h, p) {
                  var _ = Je(h, p),
                    x = bi(_);
                  return _ == x ? p : Kr(x);
                }
                function ma(h, p) {
                  if (p > h.lastLine()) return p;
                  var _,
                    x = Je(h, p);
                  if (!Ji(h, x)) return p;
                  for (; (_ = yo(x)); ) x = _.find(1, !0).line;
                  return Kr(x) + 1;
                }
                function Ji(h, p) {
                  var _ = Ia && p.markedSpans;
                  if (_)
                    for (var x = void 0, S = 0; S < _.length; ++S)
                      if (
                        (x = _[S]).marker.collapsed &&
                        (null == x.from ||
                          (!x.marker.widgetNode &&
                            0 == x.from &&
                            x.marker.inclusiveLeft &&
                            I(h, p, x)))
                      )
                        return !0;
                }
                function I(h, p, _) {
                  if (null == _.to) {
                    var x = _.marker.find(1, !0);
                    return I(h, x.line, Ga(x.line.markedSpans, _.marker));
                  }
                  if (_.marker.inclusiveRight && _.to == p.text.length)
                    return !0;
                  for (var S = void 0, T = 0; T < p.markedSpans.length; ++T)
                    if (
                      (S = p.markedSpans[T]).marker.collapsed &&
                      !S.marker.widgetNode &&
                      S.from == _.to &&
                      (null == S.to || S.to != _.from) &&
                      (S.marker.inclusiveLeft || _.marker.inclusiveRight) &&
                      I(h, p, S)
                    )
                      return !0;
                }
                function A(h) {
                  for (
                    var p = 0, _ = (h = bi(h)).parent, x = 0;
                    x < _.lines.length;
                    ++x
                  ) {
                    var S = _.lines[x];
                    if (S == h) break;
                    p += S.height;
                  }
                  for (var T = _.parent; T; T = (_ = T).parent)
                    for (var k = 0; k < T.children.length; ++k) {
                      var P = T.children[k];
                      if (P == _) break;
                      p += P.height;
                    }
                  return p;
                }
                function R(h) {
                  if (0 == h.height) return 0;
                  for (var p, _ = h.text.length, x = h; (p = ka(x)); ) {
                    var S = p.find(0, !0);
                    (x = S.from.line), (_ += S.from.ch - S.to.ch);
                  }
                  for (x = h; (p = yo(x)); ) {
                    var T = p.find(0, !0);
                    (_ -= x.text.length - T.from.ch),
                      (_ += (x = T.to.line).text.length - T.to.ch);
                  }
                  return _;
                }
                function W(h) {
                  var p = h.display,
                    _ = h.doc;
                  (p.maxLine = Je(_, _.first)),
                    (p.maxLineLength = R(p.maxLine)),
                    (p.maxLineChanged = !0),
                    _.iter(function (x) {
                      var S = R(x);
                      S > p.maxLineLength &&
                        ((p.maxLineLength = S), (p.maxLine = x));
                    });
                }
                var Z = function (h, p, _) {
                  (this.text = h), hi(this, p), (this.height = _ ? _(this) : 1);
                };
                function dt(h) {
                  (h.parent = null), Ei(h);
                }
                (Z.prototype.lineNo = function () {
                  return Kr(this);
                }),
                  Ge(Z);
                var it = {},
                  ae = {};
                function ge(h, p) {
                  if (!h || /^\s*$/.test(h)) return null;
                  var _ = p.addModeClass ? ae : it;
                  return _[h] || (_[h] = h.replace(/\S+/g, 'cm-$&'));
                }
                function $t(h, p) {
                  var _ = nt(
                      'span',
                      null,
                      null,
                      Qt ? 'padding-right: .1px' : null
                    ),
                    x = {
                      pre: nt('pre', [_], 'CodeMirror-line'),
                      content: _,
                      col: 0,
                      pos: 0,
                      cm: h,
                      trailingSpace: !1,
                      splitSpaces: h.getOption('lineWrapping'),
                    };
                  p.measure = {};
                  for (var S = 0; S <= (p.rest ? p.rest.length : 0); S++) {
                    var T = S ? p.rest[S - 1] : p.line,
                      k = void 0;
                    (x.pos = 0),
                      (x.addToken = Fe),
                      Va(h.display.measure) &&
                        (k = Et(T, h.doc.direction)) &&
                        (x.addToken = _e(x.addToken, k)),
                      (x.map = []),
                      xr(
                        T,
                        x,
                        Dn(h, T, p != h.display.externalMeasured && Kr(T))
                      ),
                      T.styleClasses &&
                        (T.styleClasses.bgClass &&
                          (x.bgClass = Xe(
                            T.styleClasses.bgClass,
                            x.bgClass || ''
                          )),
                        T.styleClasses.textClass &&
                          (x.textClass = Xe(
                            T.styleClasses.textClass,
                            x.textClass || ''
                          ))),
                      0 == x.map.length &&
                        x.map.push(
                          0,
                          0,
                          x.content.appendChild(ji(h.display.measure))
                        ),
                      0 == S
                        ? ((p.measure.map = x.map), (p.measure.cache = {}))
                        : ((p.measure.maps || (p.measure.maps = [])).push(
                            x.map
                          ),
                          (p.measure.caches || (p.measure.caches = [])).push(
                            {}
                          ));
                  }
                  if (Qt) {
                    var P = x.content.lastChild;
                    (/\bcm-tab\b/.test(P.className) ||
                      (P.querySelector && P.querySelector('.cm-tab'))) &&
                      (x.content.className = 'cm-tab-wrap-hack');
                  }
                  return (
                    pe(h, 'renderLine', h, p.line, x.pre),
                    x.pre.className &&
                      (x.textClass = Xe(x.pre.className, x.textClass || '')),
                    x
                  );
                }
                function De(h) {
                  var p = Ht('span', '\u2022', 'cm-invalidchar');
                  return (
                    (p.title = '\\u' + h.charCodeAt(0).toString(16)),
                    p.setAttribute('aria-label', p.title),
                    p
                  );
                }
                function Fe(h, p, _, x, S, T, k) {
                  if (p) {
                    var P,
                      N = h.splitSpaces
                        ? (function (be, Ce) {
                            if (be.length > 1 && !/  /.test(be)) return be;
                            for (
                              var hr = Ce, Ue = '', Ir = 0;
                              Ir < be.length;
                              Ir++
                            ) {
                              var cr = be.charAt(Ir);
                              ' ' != cr ||
                                !hr ||
                                (Ir != be.length - 1 &&
                                  32 != be.charCodeAt(Ir + 1)) ||
                                (cr = '\xa0'),
                                (Ue += cr),
                                (hr = ' ' == cr);
                            }
                            return Ue;
                          })(p, h.trailingSpace)
                        : p,
                      V = h.cm.state.specialChars,
                      q = !1;
                    if (V.test(p)) {
                      P = document.createDocumentFragment();
                      for (var j = 0; ; ) {
                        V.lastIndex = j;
                        var vt = V.exec(p),
                          at = vt ? vt.index - j : p.length - j;
                        if (at) {
                          var Mt = document.createTextNode(N.slice(j, j + at));
                          P.appendChild(ct && ve < 9 ? Ht('span', [Mt]) : Mt),
                            h.map.push(h.pos, h.pos + at, Mt),
                            (h.col += at),
                            (h.pos += at);
                        }
                        if (!vt) break;
                        j += at + 1;
                        var Ft = void 0;
                        if ('\t' == vt[0]) {
                          var St = h.cm.options.tabSize,
                            Yt = St - (h.col % St);
                          (Ft = P.appendChild(
                            Ht('span', It(Yt), 'cm-tab')
                          )).setAttribute('role', 'presentation'),
                            Ft.setAttribute('cm-text', '\t'),
                            (h.col += Yt);
                        } else
                          '\r' == vt[0] || '\n' == vt[0]
                            ? ((Ft = P.appendChild(
                                Ht(
                                  'span',
                                  '\r' == vt[0] ? '\u240d' : '\u2424',
                                  'cm-invalidchar'
                                )
                              )).setAttribute('cm-text', vt[0]),
                              (h.col += 1))
                            : ((Ft = h.cm.options.specialCharPlaceholder(
                                vt[0]
                              )).setAttribute('cm-text', vt[0]),
                              P.appendChild(
                                ct && ve < 9 ? Ht('span', [Ft]) : Ft
                              ),
                              (h.col += 1));
                        h.map.push(h.pos, h.pos + 1, Ft), h.pos++;
                      }
                    } else
                      (h.col += p.length),
                        (P = document.createTextNode(N)),
                        h.map.push(h.pos, h.pos + p.length, P),
                        ct && ve < 9 && (q = !0),
                        (h.pos += p.length);
                    if (
                      ((h.trailingSpace = 32 == N.charCodeAt(p.length - 1)),
                      _ || x || S || q || T || k)
                    ) {
                      var le = _ || '';
                      x && (le += x), S && (le += S);
                      var Jt = Ht('span', [P], le, T);
                      if (k)
                        for (var we in k)
                          k.hasOwnProperty(we) &&
                            'style' != we &&
                            'class' != we &&
                            Jt.setAttribute(we, k[we]);
                      return h.content.appendChild(Jt);
                    }
                    h.content.appendChild(P);
                  }
                }
                function _e(h, p) {
                  return function (_, x, S, T, k, P, N) {
                    S = S ? S + ' cm-force-border' : 'cm-force-border';
                    for (var V = _.pos, q = V + x.length; ; ) {
                      for (
                        var j = void 0, vt = 0;
                        vt < p.length && !((j = p[vt]).to > V && j.from <= V);
                        vt++
                      );
                      if (j.to >= q) return h(_, x, S, T, k, P, N);
                      h(_, x.slice(0, j.to - V), S, T, null, P, N),
                        (T = null),
                        (x = x.slice(j.to - V)),
                        (V = j.to);
                    }
                  };
                }
                function Be(h, p, _, x) {
                  var S = !x && _.widgetNode;
                  S && h.map.push(h.pos, h.pos + p, S),
                    !x &&
                      h.cm.display.input.needsContentAttribute &&
                      (S ||
                        (S = h.content.appendChild(
                          document.createElement('span')
                        )),
                      S.setAttribute('cm-marker', _.id)),
                    S &&
                      (h.cm.display.input.setUneditable(S),
                      h.content.appendChild(S)),
                    (h.pos += p),
                    (h.trailingSpace = !1);
                }
                function xr(h, p, _) {
                  var x = h.markedSpans,
                    S = h.text,
                    T = 0;
                  if (x)
                    for (
                      var k,
                        P,
                        N,
                        V,
                        q,
                        j,
                        vt,
                        at = S.length,
                        Mt = 0,
                        Ft = 1,
                        St = '',
                        Yt = 0;
                      ;

                    ) {
                      if (Yt == Mt) {
                        (N = V = q = P = ''),
                          (vt = null),
                          (j = null),
                          (Yt = 1 / 0);
                        for (
                          var le = [], Jt = void 0, we = 0;
                          we < x.length;
                          ++we
                        ) {
                          var be = x[we],
                            Ce = be.marker;
                          if (
                            'bookmark' == Ce.type &&
                            be.from == Mt &&
                            Ce.widgetNode
                          )
                            le.push(Ce);
                          else if (
                            be.from <= Mt &&
                            (null == be.to ||
                              be.to > Mt ||
                              (Ce.collapsed && be.to == Mt && be.from == Mt))
                          ) {
                            if (
                              (null != be.to &&
                                be.to != Mt &&
                                Yt > be.to &&
                                ((Yt = be.to), (V = '')),
                              Ce.className && (N += ' ' + Ce.className),
                              Ce.css && (P = (P ? P + ';' : '') + Ce.css),
                              Ce.startStyle &&
                                be.from == Mt &&
                                (q += ' ' + Ce.startStyle),
                              Ce.endStyle &&
                                be.to == Yt &&
                                (Jt || (Jt = [])).push(Ce.endStyle, be.to),
                              Ce.title && ((vt || (vt = {})).title = Ce.title),
                              Ce.attributes)
                            )
                              for (var hr in Ce.attributes)
                                (vt || (vt = {}))[hr] = Ce.attributes[hr];
                            Ce.collapsed &&
                              (!j || Pi(j.marker, Ce) < 0) &&
                              (j = be);
                          } else be.from > Mt && Yt > be.from && (Yt = be.from);
                        }
                        if (Jt)
                          for (var Ue = 0; Ue < Jt.length; Ue += 2)
                            Jt[Ue + 1] == Yt && (V += ' ' + Jt[Ue]);
                        if (!j || j.from == Mt)
                          for (var Ir = 0; Ir < le.length; ++Ir)
                            Be(p, 0, le[Ir]);
                        if (j && (j.from || 0) == Mt) {
                          if (
                            (Be(
                              p,
                              (null == j.to ? at + 1 : j.to) - Mt,
                              j.marker,
                              null == j.from
                            ),
                            null == j.to)
                          )
                            return;
                          j.to == Mt && (j = !1);
                        }
                      }
                      if (Mt >= at) break;
                      for (var cr = Math.min(at, Yt); ; ) {
                        if (St) {
                          var Hr = Mt + St.length;
                          if (!j) {
                            var Jr = Hr > cr ? St.slice(0, cr - Mt) : St;
                            p.addToken(
                              p,
                              Jr,
                              k ? k + N : N,
                              q,
                              Mt + Jr.length == Yt ? V : '',
                              P,
                              vt
                            );
                          }
                          if (Hr >= cr) {
                            (St = St.slice(cr - Mt)), (Mt = cr);
                            break;
                          }
                          (Mt = Hr), (q = '');
                        }
                        (St = S.slice(T, (T = _[Ft++]))),
                          (k = ge(_[Ft++], p.cm.options));
                      }
                    }
                  else
                    for (var Pr = 1; Pr < _.length; Pr += 2)
                      p.addToken(
                        p,
                        S.slice(T, (T = _[Pr])),
                        ge(_[Pr + 1], p.cm.options)
                      );
                }
                function xt(h, p, _) {
                  (this.line = p),
                    (this.rest = (function (x) {
                      for (var S, T; (S = yo(x)); )
                        (x = S.find(1, !0).line), (T || (T = [])).push(x);
                      return T;
                    })(p)),
                    (this.size = this.rest ? Kr(U(this.rest)) - _ + 1 : 1),
                    (this.node = this.text = null),
                    (this.hidden = Ji(h, p));
                }
                function We(h, p, _) {
                  for (var x, S = [], T = p; T < _; T = x) {
                    var k = new xt(h.doc, Je(h.doc, T), T);
                    (x = T + k.size), S.push(k);
                  }
                  return S;
                }
                var rr = null,
                  Xr = null;
                function Ve(h, p) {
                  var _ = Ct(h, p);
                  if (_.length) {
                    var x,
                      S = Array.prototype.slice.call(arguments, 2);
                    rr
                      ? (x = rr.delayedCallbacks)
                      : Xr
                      ? (x = Xr)
                      : ((x = Xr = []), setTimeout(yr, 0));
                    for (
                      var T = function (P) {
                          x.push(function () {
                            return _[P].apply(null, S);
                          });
                        },
                        k = 0;
                      k < _.length;
                      ++k
                    )
                      T(k);
                  }
                }
                function yr() {
                  var h = Xr;
                  Xr = null;
                  for (var p = 0; p < h.length; ++p) h[p]();
                }
                function Zr(h, p, _, x) {
                  for (var S = 0; S < p.changes.length; S++) {
                    var T = p.changes[S];
                    'text' == T
                      ? di(h, p)
                      : 'gutter' == T
                      ? bo(h, p, _, x)
                      : 'class' == T
                      ? Tn(h, p)
                      : 'widget' == T && ii(h, p, x);
                  }
                  p.changes = null;
                }
                function Oi(h) {
                  return (
                    h.node == h.text &&
                      ((h.node = Ht('div', null, null, 'position: relative')),
                      h.text.parentNode &&
                        h.text.parentNode.replaceChild(h.node, h.text),
                      h.node.appendChild(h.text),
                      ct && ve < 8 && (h.node.style.zIndex = 2)),
                    h.node
                  );
                }
                function ni(h, p) {
                  var _ = h.display.externalMeasured;
                  return _ && _.line == p.line
                    ? ((h.display.externalMeasured = null),
                      (p.measure = _.measure),
                      _.built)
                    : $t(h, p);
                }
                function di(h, p) {
                  var _ = p.text.className,
                    x = ni(h, p);
                  p.text == p.node && (p.node = x.pre),
                    p.text.parentNode.replaceChild(x.pre, p.text),
                    (p.text = x.pre),
                    x.bgClass != p.bgClass || x.textClass != p.textClass
                      ? ((p.bgClass = x.bgClass),
                        (p.textClass = x.textClass),
                        Tn(h, p))
                      : _ && (p.text.className = _);
                }
                function Tn(h, p) {
                  (function (x, S) {
                    var T = S.bgClass
                      ? S.bgClass + ' ' + (S.line.bgClass || '')
                      : S.line.bgClass;
                    if (
                      (T && (T += ' CodeMirror-linebackground'), S.background)
                    )
                      T
                        ? (S.background.className = T)
                        : (S.background.parentNode.removeChild(S.background),
                          (S.background = null));
                    else if (T) {
                      var k = Oi(S);
                      (S.background = k.insertBefore(
                        Ht('div', null, T),
                        k.firstChild
                      )),
                        x.display.input.setUneditable(S.background);
                    }
                  })(h, p),
                    p.line.wrapClass
                      ? (Oi(p).className = p.line.wrapClass)
                      : p.node != p.text && (p.node.className = ''),
                    (p.text.className =
                      (p.textClass
                        ? p.textClass + ' ' + (p.line.textClass || '')
                        : p.line.textClass) || '');
                }
                function bo(h, p, _, x) {
                  if (
                    (p.gutter &&
                      (p.node.removeChild(p.gutter), (p.gutter = null)),
                    p.gutterBackground &&
                      (p.node.removeChild(p.gutterBackground),
                      (p.gutterBackground = null)),
                    p.line.gutterClass)
                  ) {
                    var S = Oi(p);
                    (p.gutterBackground = Ht(
                      'div',
                      null,
                      'CodeMirror-gutter-background ' + p.line.gutterClass,
                      'left: ' +
                        (h.options.fixedGutter
                          ? x.fixedPos
                          : -x.gutterTotalWidth) +
                        'px; width: ' +
                        x.gutterTotalWidth +
                        'px'
                    )),
                      h.display.input.setUneditable(p.gutterBackground),
                      S.insertBefore(p.gutterBackground, p.text);
                  }
                  var T = p.line.gutterMarkers;
                  if (h.options.lineNumbers || T) {
                    var k = Oi(p),
                      P = (p.gutter = Ht(
                        'div',
                        null,
                        'CodeMirror-gutter-wrapper',
                        'left: ' +
                          (h.options.fixedGutter
                            ? x.fixedPos
                            : -x.gutterTotalWidth) +
                          'px'
                      ));
                    if (
                      (P.setAttribute('aria-hidden', 'true'),
                      h.display.input.setUneditable(P),
                      k.insertBefore(P, p.text),
                      p.line.gutterClass &&
                        (P.className += ' ' + p.line.gutterClass),
                      !h.options.lineNumbers ||
                        (T && T['CodeMirror-linenumbers']) ||
                        (p.lineNumber = P.appendChild(
                          Ht(
                            'div',
                            ci(h.options, _),
                            'CodeMirror-linenumber CodeMirror-gutter-elt',
                            'left: ' +
                              x.gutterLeft['CodeMirror-linenumbers'] +
                              'px; width: ' +
                              h.display.lineNumInnerWidth +
                              'px'
                          )
                        )),
                      T)
                    )
                      for (var N = 0; N < h.display.gutterSpecs.length; ++N) {
                        var V = h.display.gutterSpecs[N].className,
                          q = T.hasOwnProperty(V) && T[V];
                        q &&
                          P.appendChild(
                            Ht(
                              'div',
                              [q],
                              'CodeMirror-gutter-elt',
                              'left: ' +
                                x.gutterLeft[V] +
                                'px; width: ' +
                                x.gutterWidth[V] +
                                'px'
                            )
                          );
                      }
                  }
                }
                function ii(h, p, _) {
                  p.alignable && (p.alignable = null);
                  for (
                    var x = Ae('CodeMirror-linewidget'),
                      S = p.node.firstChild,
                      T = void 0;
                    S;
                    S = T
                  )
                    (T = S.nextSibling),
                      x.test(S.className) && p.node.removeChild(S);
                  ml(h, p, _);
                }
                function ta(h, p, _, x) {
                  var S = ni(h, p);
                  return (
                    (p.text = p.node = S.pre),
                    S.bgClass && (p.bgClass = S.bgClass),
                    S.textClass && (p.textClass = S.textClass),
                    Tn(h, p),
                    bo(h, p, _, x),
                    ml(h, p, x),
                    p.node
                  );
                }
                function ml(h, p, _) {
                  if ((Ms(h, p.line, p, _, !0), p.rest))
                    for (var x = 0; x < p.rest.length; x++)
                      Ms(h, p.rest[x], p, _, !1);
                }
                function Ms(h, p, _, x, S) {
                  if (p.widgets)
                    for (
                      var T = Oi(_), k = 0, P = p.widgets;
                      k < P.length;
                      ++k
                    ) {
                      var N = P[k],
                        V = Ht(
                          'div',
                          [N.node],
                          'CodeMirror-linewidget' +
                            (N.className ? ' ' + N.className : '')
                        );
                      N.handleMouseEvents ||
                        V.setAttribute('cm-ignore-events', 'true'),
                        wv(N, V, _, x),
                        h.display.input.setUneditable(V),
                        S && N.above
                          ? T.insertBefore(V, _.gutter || _.text)
                          : T.appendChild(V),
                        Ve(N, 'redraw');
                    }
                }
                function wv(h, p, _, x) {
                  if (h.noHScroll) {
                    (_.alignable || (_.alignable = [])).push(p);
                    var S = x.wrapperWidth;
                    (p.style.left = x.fixedPos + 'px'),
                      h.coverGutter ||
                        ((S -= x.gutterTotalWidth),
                        (p.style.paddingLeft = x.gutterTotalWidth + 'px')),
                      (p.style.width = S + 'px');
                  }
                  h.coverGutter &&
                    ((p.style.zIndex = 5),
                    (p.style.position = 'relative'),
                    h.noHScroll ||
                      (p.style.marginLeft = -x.gutterTotalWidth + 'px'));
                }
                function Ls(h) {
                  if (null != h.height) return h.height;
                  var p = h.doc.cm;
                  if (!p) return 0;
                  if (!Ot(document.body, h.node)) {
                    var _ = 'position: relative;';
                    h.coverGutter &&
                      (_ +=
                        'margin-left: -' +
                        p.display.gutters.offsetWidth +
                        'px;'),
                      h.noHScroll &&
                        (_ +=
                          'width: ' + p.display.wrapper.clientWidth + 'px;'),
                      Gt(p.display.measure, Ht('div', [h.node], null, _));
                  }
                  return (h.height = h.node.parentNode.offsetHeight);
                }
                function Ua(h, p) {
                  for (var _ = Fr(p); _ != h.wrapper; _ = _.parentNode)
                    if (
                      !_ ||
                      (1 == _.nodeType &&
                        'true' == _.getAttribute('cm-ignore-events')) ||
                      (_.parentNode == h.sizer && _ != h.mover)
                    )
                      return !0;
                }
                function Yc(h) {
                  return h.lineSpace.offsetTop;
                }
                function Xc(h) {
                  return h.mover.offsetHeight - h.lineSpace.offsetHeight;
                }
                function Zc(h) {
                  if (h.cachedPaddingH) return h.cachedPaddingH;
                  var p = Gt(h.measure, Ht('pre', 'x', 'CodeMirror-line-like')),
                    _ = window.getComputedStyle
                      ? window.getComputedStyle(p)
                      : p.currentStyle,
                    x = {
                      left: parseInt(_.paddingLeft),
                      right: parseInt(_.paddingRight),
                    };
                  return (
                    isNaN(x.left) || isNaN(x.right) || (h.cachedPaddingH = x), x
                  );
                }
                function Fi(h) {
                  return 50 - h.display.nativeBarWidth;
                }
                function Ya(h) {
                  return (
                    h.display.scroller.clientWidth - Fi(h) - h.display.barWidth
                  );
                }
                function Xa(h) {
                  return (
                    h.display.scroller.clientHeight -
                    Fi(h) -
                    h.display.barHeight
                  );
                }
                function vu(h, p, _) {
                  if (h.line == p)
                    return { map: h.measure.map, cache: h.measure.cache };
                  if (h.rest) {
                    for (var x = 0; x < h.rest.length; x++)
                      if (h.rest[x] == p)
                        return {
                          map: h.measure.maps[x],
                          cache: h.measure.caches[x],
                        };
                    for (var S = 0; S < h.rest.length; S++)
                      if (Kr(h.rest[S]) > _)
                        return {
                          map: h.measure.maps[S],
                          cache: h.measure.caches[S],
                          before: !0,
                        };
                  }
                }
                function mh(h, p, _, x) {
                  return Rn(h, _o(h, p), _, x);
                }
                function qc(h, p) {
                  if (p >= h.display.viewFrom && p < h.display.viewTo)
                    return h.display.view[Co(h, p)];
                  var _ = h.display.externalMeasured;
                  return _ && p >= _.lineN && p < _.lineN + _.size ? _ : void 0;
                }
                function _o(h, p) {
                  var _ = Kr(p),
                    x = qc(h, _);
                  x && !x.text
                    ? (x = null)
                    : x &&
                      x.changes &&
                      (Zr(h, x, _, ea(h)), (h.curOp.forceUpdate = !0)),
                    x ||
                      (x = (function (T, k) {
                        var P = Kr((k = bi(k))),
                          N = (T.display.externalMeasured = new xt(
                            T.doc,
                            k,
                            P
                          ));
                        N.lineN = P;
                        var V = (N.built = $t(T, N));
                        return (
                          (N.text = V.pre), Gt(T.display.lineMeasure, V.pre), N
                        );
                      })(h, p));
                  var S = vu(x, p, _);
                  return {
                    line: p,
                    view: x,
                    rect: null,
                    map: S.map,
                    cache: S.cache,
                    before: S.before,
                    hasHeights: !1,
                  };
                }
                function Rn(h, p, _, x, S) {
                  p.before && (_ = -1);
                  var T,
                    k = _ + (x || '');
                  return (
                    p.cache.hasOwnProperty(k)
                      ? (T = p.cache[k])
                      : (p.rect ||
                          (p.rect = p.view.text.getBoundingClientRect()),
                        p.hasHeights ||
                          ((function (P, N, V) {
                            var q = P.options.lineWrapping,
                              j = q && Ya(P);
                            if (
                              !N.measure.heights ||
                              (q && N.measure.width != j)
                            ) {
                              var vt = (N.measure.heights = []);
                              if (q) {
                                N.measure.width = j;
                                for (
                                  var at = N.text.firstChild.getClientRects(),
                                    Mt = 0;
                                  Mt < at.length - 1;
                                  Mt++
                                ) {
                                  var Ft = at[Mt],
                                    St = at[Mt + 1];
                                  Math.abs(Ft.bottom - St.bottom) > 2 &&
                                    vt.push((Ft.bottom + St.top) / 2 - V.top);
                                }
                              }
                              vt.push(V.bottom - V.top);
                            }
                          })(h, p.view, p.rect),
                          (p.hasHeights = !0)),
                        (T = (function (P, N, V, q) {
                          var j,
                            vt = So(N.map, V, q),
                            at = vt.node,
                            Mt = vt.start,
                            Ft = vt.end,
                            St = vt.collapse;
                          if (3 == at.nodeType) {
                            for (var Yt = 0; Yt < 4; Yt++) {
                              for (
                                ;
                                Mt &&
                                xe(N.line.text.charAt(vt.coverStart + Mt));

                              )
                                --Mt;
                              for (
                                ;
                                vt.coverStart + Ft < vt.coverEnd &&
                                xe(N.line.text.charAt(vt.coverStart + Ft));

                              )
                                ++Ft;
                              if (
                                (j =
                                  ct &&
                                  ve < 9 &&
                                  0 == Mt &&
                                  Ft == vt.coverEnd - vt.coverStart
                                    ? at.parentNode.getBoundingClientRect()
                                    : Cv(ir(at, Mt, Ft).getClientRects(), q))
                                  .left ||
                                j.right ||
                                0 == Mt
                              )
                                break;
                              (Ft = Mt), (Mt -= 1), (St = 'right');
                            }
                            ct &&
                              ve < 11 &&
                              (j = (function (Jr, Pr) {
                                if (
                                  !window.screen ||
                                  null == screen.logicalXDPI ||
                                  screen.logicalXDPI == screen.deviceXDPI ||
                                  !(function (Mr) {
                                    if (null != ei) return ei;
                                    var tn = Gt(Mr, Ht('span', 'x')),
                                      gr = tn.getBoundingClientRect(),
                                      Br = ir(tn, 0, 1).getBoundingClientRect();
                                    return (ei =
                                      Math.abs(gr.left - Br.left) > 1);
                                  })(Jr)
                                )
                                  return Pr;
                                var Sr = screen.logicalXDPI / screen.deviceXDPI,
                                  Gr = screen.logicalYDPI / screen.deviceYDPI;
                                return {
                                  left: Pr.left * Sr,
                                  right: Pr.right * Sr,
                                  top: Pr.top * Gr,
                                  bottom: Pr.bottom * Gr,
                                };
                              })(P.display.measure, j));
                          } else {
                            var le;
                            Mt > 0 && (St = q = 'right'),
                              (j =
                                P.options.lineWrapping &&
                                (le = at.getClientRects()).length > 1
                                  ? le['right' == q ? le.length - 1 : 0]
                                  : at.getBoundingClientRect());
                          }
                          if (
                            ct &&
                            ve < 9 &&
                            !Mt &&
                            (!j || (!j.left && !j.right))
                          ) {
                            var Jt = at.parentNode.getClientRects()[0];
                            j = Jt
                              ? {
                                  left: Jt.left,
                                  right: Jt.left + Es(P.display),
                                  top: Jt.top,
                                  bottom: Jt.bottom,
                                }
                              : Is;
                          }
                          for (
                            var we = j.top - N.rect.top,
                              be = j.bottom - N.rect.top,
                              Ce = (we + be) / 2,
                              hr = N.view.measure.heights,
                              Ue = 0;
                            Ue < hr.length - 1 && !(Ce < hr[Ue]);
                            Ue++
                          );
                          var Hr = {
                            left:
                              ('right' == St ? j.right : j.left) - N.rect.left,
                            right:
                              ('left' == St ? j.left : j.right) - N.rect.left,
                            top: Ue ? hr[Ue - 1] : 0,
                            bottom: hr[Ue],
                          };
                          return (
                            j.left || j.right || (Hr.bogus = !0),
                            P.options.singleCursorHeightPerLine ||
                              ((Hr.rtop = we), (Hr.rbottom = be)),
                            Hr
                          );
                        })(h, p, _, x)).bogus || (p.cache[k] = T)),
                    {
                      left: T.left,
                      right: T.right,
                      top: S ? T.rtop : T.top,
                      bottom: S ? T.rbottom : T.bottom,
                    }
                  );
                }
                var Un,
                  Is = { left: 0, right: 0, top: 0, bottom: 0 };
                function So(h, p, _) {
                  for (var x, S, T, k, P, N, V = 0; V < h.length; V += 3)
                    if (
                      ((N = h[V + 1]),
                      p < (P = h[V])
                        ? ((S = 0), (T = 1), (k = 'left'))
                        : p < N
                        ? (T = 1 + (S = p - P))
                        : (V == h.length - 3 || (p == N && h[V + 3] > p)) &&
                          ((S = (T = N - P) - 1), p >= N && (k = 'right')),
                      null != S)
                    ) {
                      if (
                        ((x = h[V + 2]),
                        P == N &&
                          _ == (x.insertLeft ? 'left' : 'right') &&
                          (k = _),
                        'left' == _ && 0 == S)
                      )
                        for (
                          ;
                          V && h[V - 2] == h[V - 3] && h[V - 1].insertLeft;

                        )
                          (x = h[2 + (V -= 3)]), (k = 'left');
                      if ('right' == _ && S == N - P)
                        for (
                          ;
                          V < h.length - 3 &&
                          h[V + 3] == h[V + 4] &&
                          !h[V + 5].insertLeft;

                        )
                          (x = h[(V += 3) + 2]), (k = 'right');
                      break;
                    }
                  return {
                    node: x,
                    start: S,
                    end: T,
                    collapse: k,
                    coverStart: P,
                    coverEnd: N,
                  };
                }
                function Cv(h, p) {
                  var _ = Is;
                  if ('left' == p)
                    for (
                      var x = 0;
                      x < h.length && (_ = h[x]).left == _.right;
                      x++
                    );
                  else
                    for (
                      var S = h.length - 1;
                      S >= 0 && (_ = h[S]).left == _.right;
                      S--
                    );
                  return _;
                }
                function kn(h) {
                  if (
                    h.measure &&
                    ((h.measure.cache = {}), (h.measure.heights = null), h.rest)
                  )
                    for (var p = 0; p < h.rest.length; p++)
                      h.measure.caches[p] = {};
                }
                function yh(h) {
                  (h.display.externalMeasure = null), ft(h.display.lineMeasure);
                  for (var p = 0; p < h.display.view.length; p++)
                    kn(h.display.view[p]);
                }
                function $o(h) {
                  yh(h),
                    (h.display.cachedCharWidth =
                      h.display.cachedTextHeight =
                      h.display.cachedPaddingH =
                        null),
                    h.options.lineWrapping || (h.display.maxLineChanged = !0),
                    (h.display.lineNumChars = null);
                }
                function xh(h) {
                  return de && ee
                    ? -(
                        h.body.getBoundingClientRect().left -
                        parseInt(getComputedStyle(h.body).marginLeft)
                      )
                    : h.defaultView.pageXOffset ||
                        (h.documentElement || h.body).scrollLeft;
                }
                function wo(h) {
                  return de && ee
                    ? -(
                        h.body.getBoundingClientRect().top -
                        parseInt(getComputedStyle(h.body).marginTop)
                      )
                    : h.defaultView.pageYOffset ||
                        (h.documentElement || h.body).scrollTop;
                }
                function jc(h) {
                  var p = bi(h).widgets,
                    _ = 0;
                  if (p)
                    for (var x = 0; x < p.length; ++x)
                      p[x].above && (_ += Ls(p[x]));
                  return _;
                }
                function Kc(h, p, _, x, S) {
                  if (!S) {
                    var T = jc(p);
                    (_.top += T), (_.bottom += T);
                  }
                  if ('line' == x) return _;
                  x || (x = 'local');
                  var k = A(p);
                  if (
                    ('local' == x
                      ? (k += Yc(h.display))
                      : (k -= h.display.viewOffset),
                    'page' == x || 'window' == x)
                  ) {
                    var P = h.display.lineSpace.getBoundingClientRect();
                    k += P.top + ('window' == x ? 0 : wo(sr(h)));
                    var N = P.left + ('window' == x ? 0 : xh(sr(h)));
                    (_.left += N), (_.right += N);
                  }
                  return (_.top += k), (_.bottom += k), _;
                }
                function On(h, p, _) {
                  if ('div' == _) return p;
                  var x = p.left,
                    S = p.top;
                  if ('page' == _) (x -= xh(sr(h))), (S -= wo(sr(h)));
                  else if ('local' == _ || !_) {
                    var T = h.display.sizer.getBoundingClientRect();
                    (x += T.left), (S += T.top);
                  }
                  var k = h.display.lineSpace.getBoundingClientRect();
                  return { left: x - k.left, top: S - k.top };
                }
                function yl(h, p, _, x, S) {
                  return (
                    x || (x = Je(h.doc, p.line)), Kc(h, x, mh(h, x, p.ch, S), _)
                  );
                }
                function Ea(h, p, _, x, S, T) {
                  function k(Mt, Ft) {
                    var St = Rn(h, S, Mt, Ft ? 'right' : 'left', T);
                    return (
                      Ft ? (St.left = St.right) : (St.right = St.left),
                      Kc(h, x, St, _)
                    );
                  }
                  (x = x || Je(h.doc, p.line)), S || (S = _o(h, x));
                  var P = Et(x, h.doc.direction),
                    N = p.ch,
                    V = p.sticky;
                  if (
                    (N >= x.text.length
                      ? ((N = x.text.length), (V = 'before'))
                      : N <= 0 && ((N = 0), (V = 'after')),
                    !P)
                  )
                    return k('before' == V ? N - 1 : N, 'before' == V);
                  function q(Mt, Ft, St) {
                    return k(St ? Mt - 1 : Mt, (1 == P[Ft].level) != St);
                  }
                  var j = et(P, N, V),
                    vt = rt,
                    at = q(N, j, 'before' == V);
                  return null != vt && (at.other = q(N, vt, 'before' != V)), at;
                }
                function bh(h, p) {
                  var _ = 0;
                  (p = mr(h.doc, p)),
                    h.options.lineWrapping || (_ = Es(h.display) * p.ch);
                  var x = Je(h.doc, p.line),
                    S = A(x) + Yc(h.display);
                  return { left: _, right: _, top: S, bottom: S + x.height };
                }
                function ks(h, p, _, x, S) {
                  var T = Se(h, p, _);
                  return (T.xRel = S), x && (T.outside = x), T;
                }
                function Qc(h, p, _) {
                  var x = h.doc;
                  if ((_ += h.display.viewOffset) < 0)
                    return ks(x.first, 0, null, -1, -1);
                  var S = Li(x, _),
                    T = x.first + x.size - 1;
                  if (S > T)
                    return ks(
                      x.first + x.size - 1,
                      Je(x, T).text.length,
                      null,
                      1,
                      1
                    );
                  p < 0 && (p = 0);
                  for (var k = Je(x, S); ; ) {
                    var P = Pm(h, k, S, p, _),
                      N = xo(k, P.ch + (P.xRel > 0 || P.outside > 0 ? 1 : 0));
                    if (!N) return P;
                    var V = N.find(1);
                    if (V.line == S) return V;
                    k = Je(x, (S = V.line));
                  }
                }
                function Dv(h, p, _, x) {
                  x -= jc(p);
                  var S = p.text.length,
                    T = J(
                      function (k) {
                        return Rn(h, _, k - 1).bottom <= x;
                      },
                      S,
                      0
                    );
                  return {
                    begin: T,
                    end: (S = J(
                      function (k) {
                        return Rn(h, _, k).top > x;
                      },
                      T,
                      S
                    )),
                  };
                }
                function Tv(h, p, _, x) {
                  return (
                    _ || (_ = _o(h, p)),
                    Dv(h, p, _, Kc(h, p, Rn(h, _, x), 'line').top)
                  );
                }
                function pu(h, p, _, x) {
                  return (
                    !(h.bottom <= _) &&
                    (h.top > _ || (x ? h.left : h.right) > p)
                  );
                }
                function Pm(h, p, _, x, S) {
                  S -= A(p);
                  var T = _o(h, p),
                    k = jc(p),
                    P = 0,
                    N = p.text.length,
                    V = !0,
                    q = Et(p, h.doc.direction);
                  if (q) {
                    var j = (h.options.lineWrapping ? Rm : Av)(
                      h,
                      p,
                      _,
                      T,
                      q,
                      x,
                      S
                    );
                    (P = (V = 1 != j.level) ? j.from : j.to - 1),
                      (N = V ? j.to : j.from - 1);
                  }
                  var vt,
                    at,
                    Mt = null,
                    Ft = null,
                    St = J(
                      function (be) {
                        var Ce = Rn(h, T, be);
                        return (
                          (Ce.top += k),
                          (Ce.bottom += k),
                          !!pu(Ce, x, S, !1) &&
                            (Ce.top <= S &&
                              Ce.left <= x &&
                              ((Mt = be), (Ft = Ce)),
                            !0)
                        );
                      },
                      P,
                      N
                    ),
                    Yt = !1;
                  if (Ft) {
                    var le = x - Ft.left < Ft.right - x,
                      Jt = le == V;
                    (St = Mt + (Jt ? 0 : 1)),
                      (at = Jt ? 'after' : 'before'),
                      (vt = le ? Ft.left : Ft.right);
                  } else {
                    V || (St != N && St != P) || St++,
                      (at =
                        0 == St
                          ? 'after'
                          : St == p.text.length
                          ? 'before'
                          : Rn(h, T, St - (V ? 1 : 0)).bottom + k <= S == V
                          ? 'after'
                          : 'before');
                    var we = Ea(h, Se(_, St, at), 'line', p, T);
                    (vt = we.left),
                      (Yt = S < we.top ? -1 : S >= we.bottom ? 1 : 0);
                  }
                  return ks(_, (St = B(p.text, St, 1)), at, Yt, x - vt);
                }
                function Av(h, p, _, x, S, T, k) {
                  var P = J(
                      function (j) {
                        var vt = S[j],
                          at = 1 != vt.level;
                        return pu(
                          Ea(
                            h,
                            Se(
                              _,
                              at ? vt.to : vt.from,
                              at ? 'before' : 'after'
                            ),
                            'line',
                            p,
                            x
                          ),
                          T,
                          k,
                          !0
                        );
                      },
                      0,
                      S.length - 1
                    ),
                    N = S[P];
                  if (P > 0) {
                    var V = 1 != N.level,
                      q = Ea(
                        h,
                        Se(_, V ? N.from : N.to, V ? 'after' : 'before'),
                        'line',
                        p,
                        x
                      );
                    pu(q, T, k, !0) && q.top > k && (N = S[P - 1]);
                  }
                  return N;
                }
                function Rm(h, p, _, x, S, T, k) {
                  var P = Dv(h, p, x, k),
                    N = P.begin,
                    V = P.end;
                  /\s/.test(p.text.charAt(V - 1)) && V--;
                  for (var q = null, j = null, vt = 0; vt < S.length; vt++) {
                    var at = S[vt];
                    if (!(at.from >= V || at.to <= N)) {
                      var Mt = Rn(
                          h,
                          x,
                          1 != at.level
                            ? Math.min(V, at.to) - 1
                            : Math.max(N, at.from)
                        ).right,
                        Ft = Mt < T ? T - Mt + 1e9 : Mt - T;
                      (!q || j > Ft) && ((q = at), (j = Ft));
                    }
                  }
                  return (
                    q || (q = S[S.length - 1]),
                    q.from < N && (q = { from: N, to: q.to, level: q.level }),
                    q.to > V && (q = { from: q.from, to: V, level: q.level }),
                    q
                  );
                }
                function Za(h) {
                  if (null != h.cachedTextHeight) return h.cachedTextHeight;
                  if (null == Un) {
                    Un = Ht('pre', null, 'CodeMirror-line-like');
                    for (var p = 0; p < 49; ++p)
                      Un.appendChild(document.createTextNode('x')),
                        Un.appendChild(Ht('br'));
                    Un.appendChild(document.createTextNode('x'));
                  }
                  Gt(h.measure, Un);
                  var _ = Un.offsetHeight / 50;
                  return (
                    _ > 3 && (h.cachedTextHeight = _), ft(h.measure), _ || 1
                  );
                }
                function Es(h) {
                  if (null != h.cachedCharWidth) return h.cachedCharWidth;
                  var p = Ht('span', 'xxxxxxxxxx'),
                    _ = Ht('pre', [p], 'CodeMirror-line-like');
                  Gt(h.measure, _);
                  var x = p.getBoundingClientRect(),
                    S = (x.right - x.left) / 10;
                  return S > 2 && (h.cachedCharWidth = S), S || 10;
                }
                function ea(h) {
                  for (
                    var p = h.display,
                      _ = {},
                      x = {},
                      S = p.gutters.clientLeft,
                      T = p.gutters.firstChild,
                      k = 0;
                    T;
                    T = T.nextSibling, ++k
                  ) {
                    var P = h.display.gutterSpecs[k].className;
                    (_[P] = T.offsetLeft + T.clientLeft + S),
                      (x[P] = T.clientWidth);
                  }
                  return {
                    fixedPos: _h(p),
                    gutterTotalWidth: p.gutters.offsetWidth,
                    gutterLeft: _,
                    gutterWidth: x,
                    wrapperWidth: p.wrapper.clientWidth,
                  };
                }
                function _h(h) {
                  return (
                    h.scroller.getBoundingClientRect().left -
                    h.sizer.getBoundingClientRect().left
                  );
                }
                function xl(h) {
                  var p = Za(h.display),
                    _ = h.options.lineWrapping,
                    x =
                      _ &&
                      Math.max(
                        5,
                        h.display.scroller.clientWidth / Es(h.display) - 3
                      );
                  return function (S) {
                    if (Ji(h.doc, S)) return 0;
                    var T = 0;
                    if (S.widgets)
                      for (var k = 0; k < S.widgets.length; k++)
                        S.widgets[k].height && (T += S.widgets[k].height);
                    return _
                      ? T + (Math.ceil(S.text.length / x) || 1) * p
                      : T + p;
                  };
                }
                function gu(h) {
                  var p = h.doc,
                    _ = xl(h);
                  p.iter(function (x) {
                    var S = _(x);
                    S != x.height && Ln(x, S);
                  });
                }
                function ra(h, p, _, x) {
                  var S = h.display;
                  if (!_ && 'true' == Fr(p).getAttribute('cm-not-content'))
                    return null;
                  var T,
                    k,
                    P = S.lineSpace.getBoundingClientRect();
                  try {
                    (T = p.clientX - P.left), (k = p.clientY - P.top);
                  } catch {
                    return null;
                  }
                  var N,
                    V = Qc(h, T, k);
                  if (
                    x &&
                    V.xRel > 0 &&
                    (N = Je(h.doc, V.line).text).length == V.ch
                  ) {
                    var q = je(N, N.length, h.options.tabSize) - N.length;
                    V = Se(
                      V.line,
                      Math.max(
                        0,
                        Math.round((T - Zc(h.display).left) / Es(h.display)) - q
                      )
                    );
                  }
                  return V;
                }
                function Co(h, p) {
                  if (p >= h.display.viewTo || (p -= h.display.viewFrom) < 0)
                    return null;
                  for (var _ = h.display.view, x = 0; x < _.length; x++)
                    if ((p -= _[x].size) < 0) return x;
                }
                function Sn(h, p, _, x) {
                  null == p && (p = h.doc.first),
                    null == _ && (_ = h.doc.first + h.doc.size),
                    x || (x = 0);
                  var S = h.display;
                  if (
                    (x &&
                      _ < S.viewTo &&
                      (null == S.updateLineNumbers ||
                        S.updateLineNumbers > p) &&
                      (S.updateLineNumbers = p),
                    (h.curOp.viewChanged = !0),
                    p >= S.viewTo)
                  )
                    Ia && ur(h.doc, p) < S.viewTo && qa(h);
                  else if (_ <= S.viewFrom)
                    Ia && ma(h.doc, _ + x) > S.viewFrom
                      ? qa(h)
                      : ((S.viewFrom += x), (S.viewTo += x));
                  else if (p <= S.viewFrom && _ >= S.viewTo) qa(h);
                  else if (p <= S.viewFrom) {
                    var T = mu(h, _, _ + x, 1);
                    T
                      ? ((S.view = S.view.slice(T.index)),
                        (S.viewFrom = T.lineN),
                        (S.viewTo += x))
                      : qa(h);
                  } else if (_ >= S.viewTo) {
                    var k = mu(h, p, p, -1);
                    k
                      ? ((S.view = S.view.slice(0, k.index)),
                        (S.viewTo = k.lineN))
                      : qa(h);
                  } else {
                    var P = mu(h, p, p, -1),
                      N = mu(h, _, _ + x, 1);
                    P && N
                      ? ((S.view = S.view
                          .slice(0, P.index)
                          .concat(We(h, P.lineN, N.lineN))
                          .concat(S.view.slice(N.index))),
                        (S.viewTo += x))
                      : qa(h);
                  }
                  var V = S.externalMeasured;
                  V &&
                    (_ < V.lineN
                      ? (V.lineN += x)
                      : p < V.lineN + V.size && (S.externalMeasured = null));
                }
                function Fn(h, p, _) {
                  h.curOp.viewChanged = !0;
                  var x = h.display,
                    S = h.display.externalMeasured;
                  if (
                    (S &&
                      p >= S.lineN &&
                      p < S.lineN + S.size &&
                      (x.externalMeasured = null),
                    !(p < x.viewFrom || p >= x.viewTo))
                  ) {
                    var T = x.view[Co(h, p)];
                    if (null != T.node) {
                      var k = T.changes || (T.changes = []);
                      -1 == Ne(k, _) && k.push(_);
                    }
                  }
                }
                function qa(h) {
                  (h.display.viewFrom = h.display.viewTo = h.doc.first),
                    (h.display.view = []),
                    (h.display.viewOffset = 0);
                }
                function mu(h, p, _, x) {
                  var S,
                    T = Co(h, p),
                    k = h.display.view;
                  if (!Ia || _ == h.doc.first + h.doc.size)
                    return { index: T, lineN: _ };
                  for (var P = h.display.viewFrom, N = 0; N < T; N++)
                    P += k[N].size;
                  if (P != p) {
                    if (x > 0) {
                      if (T == k.length - 1) return null;
                      (S = P + k[T].size - p), T++;
                    } else S = P - p;
                    (p += S), (_ += S);
                  }
                  for (; ur(h.doc, _) != _; ) {
                    if (T == (x < 0 ? 0 : k.length - 1)) return null;
                    (_ += x * k[T - (x < 0 ? 1 : 0)].size), (T += x);
                  }
                  return { index: T, lineN: _ };
                }
                function yu(h) {
                  for (
                    var p = h.display.view, _ = 0, x = 0;
                    x < p.length;
                    x++
                  ) {
                    var S = p[x];
                    S.hidden || (S.node && !S.changes) || ++_;
                  }
                  return _;
                }
                function ja(h) {
                  h.display.input.showSelection(
                    h.display.input.prepareSelection()
                  );
                }
                function vi(h, p) {
                  void 0 === p && (p = !0);
                  var _ = h.doc,
                    x = {},
                    S = (x.cursors = document.createDocumentFragment()),
                    T = (x.selection = document.createDocumentFragment()),
                    k = h.options.$customCursor;
                  k && (p = !0);
                  for (var P = 0; P < _.sel.ranges.length; P++)
                    if (p || P != _.sel.primIndex) {
                      var N = _.sel.ranges[P];
                      if (
                        !(
                          N.from().line >= h.display.viewTo ||
                          N.to().line < h.display.viewFrom
                        )
                      ) {
                        var V = N.empty();
                        if (k) {
                          var q = k(h, N);
                          q && xu(h, q, S);
                        } else
                          (V || h.options.showCursorWhenSelecting) &&
                            xu(h, N.head, S);
                        V || tf(h, N, T);
                      }
                    }
                  return x;
                }
                function xu(h, p, _) {
                  var x = Ea(
                      h,
                      p,
                      'div',
                      null,
                      null,
                      !h.options.singleCursorHeightPerLine
                    ),
                    S = _.appendChild(Ht('div', '\xa0', 'CodeMirror-cursor'));
                  if (
                    ((S.style.left = x.left + 'px'),
                    (S.style.top = x.top + 'px'),
                    (S.style.height =
                      Math.max(0, x.bottom - x.top) * h.options.cursorHeight +
                      'px'),
                    /\bcm-fat-cursor\b/.test(h.getWrapperElement().className))
                  ) {
                    var T = yl(h, p, 'div', null, null),
                      k = T.right - T.left;
                    S.style.width = (k > 0 ? k : h.defaultCharWidth()) + 'px';
                  }
                  if (x.other) {
                    var P = _.appendChild(
                      Ht(
                        'div',
                        '\xa0',
                        'CodeMirror-cursor CodeMirror-secondarycursor'
                      )
                    );
                    (P.style.display = ''),
                      (P.style.left = x.other.left + 'px'),
                      (P.style.top = x.other.top + 'px'),
                      (P.style.height =
                        0.85 * (x.other.bottom - x.other.top) + 'px');
                  }
                }
                function Jc(h, p) {
                  return h.top - p.top || h.left - p.left;
                }
                function tf(h, p, _) {
                  var x = h.display,
                    S = h.doc,
                    T = document.createDocumentFragment(),
                    k = Zc(h.display),
                    P = k.left,
                    N =
                      Math.max(x.sizerWidth, Ya(h) - x.sizer.offsetLeft) -
                      k.right,
                    V = 'ltr' == S.direction;
                  function q(Jt, we, be, Ce) {
                    we < 0 && (we = 0),
                      (we = Math.round(we)),
                      (Ce = Math.round(Ce)),
                      T.appendChild(
                        Ht(
                          'div',
                          null,
                          'CodeMirror-selected',
                          'position: absolute; left: ' +
                            Jt +
                            'px;\n                             top: ' +
                            we +
                            'px; width: ' +
                            (be ?? N - Jt) +
                            'px;\n                             height: ' +
                            (Ce - we) +
                            'px'
                        )
                      );
                  }
                  function j(Jt, we, be) {
                    var Ce,
                      hr,
                      Ue = Je(S, Jt),
                      Ir = Ue.text.length;
                    function cr(Pr, Sr) {
                      return yl(h, Se(Jt, Pr), 'div', Ue, Sr);
                    }
                    function Hr(Pr, Sr, Gr) {
                      var Mr = Tv(h, Ue, null, Pr),
                        tn =
                          ('ltr' == Sr) == ('after' == Gr) ? 'left' : 'right';
                      return cr(
                        'after' == Gr
                          ? Mr.begin
                          : Mr.end -
                              (/\s/.test(Ue.text.charAt(Mr.end - 1)) ? 2 : 1),
                        tn
                      )[tn];
                    }
                    var Jr = Et(Ue, S.direction);
                    return (
                      (function (Pr, Sr, Gr, Mr) {
                        if (!Pr) return Mr(Sr, Gr, 'ltr', 0);
                        for (var tn = !1, gr = 0; gr < Pr.length; ++gr) {
                          var Br = Pr[gr];
                          ((Br.from < Gr && Br.to > Sr) ||
                            (Sr == Gr && Br.to == Sr)) &&
                            (Mr(
                              Math.max(Br.from, Sr),
                              Math.min(Br.to, Gr),
                              1 == Br.level ? 'rtl' : 'ltr',
                              gr
                            ),
                            (tn = !0));
                        }
                        tn || Mr(Sr, Gr, 'ltr');
                      })(Jr, we || 0, be ?? Ir, function (Pr, Sr, Gr, Mr) {
                        var tn = 'ltr' == Gr,
                          gr = cr(Pr, tn ? 'left' : 'right'),
                          Br = cr(Sr - 1, tn ? 'right' : 'left'),
                          wr = null == we && 0 == Pr,
                          Ur = null == be && Sr == Ir,
                          zn = 0 == Mr,
                          jr = !Jr || Mr == Jr.length - 1;
                        if (Br.top - gr.top <= 3) {
                          var Kn =
                            (V ? wr : Ur) && zn ? P : (tn ? gr : Br).left;
                          q(
                            Kn,
                            gr.top,
                            ((V ? Ur : wr) && jr ? N : (tn ? Br : gr).right) -
                              Kn,
                            gr.bottom
                          );
                        } else {
                          var yi, Sa, Qn, wa;
                          tn
                            ? ((yi = V && wr && zn ? P : gr.left),
                              (Sa = V ? N : Hr(Pr, Gr, 'before')),
                              (Qn = V ? P : Hr(Sr, Gr, 'after')),
                              (wa = V && Ur && jr ? N : Br.right))
                            : ((yi = V ? Hr(Pr, Gr, 'before') : P),
                              (Sa = !V && wr && zn ? N : gr.right),
                              (Qn = !V && Ur && jr ? P : Br.left),
                              (wa = V ? Hr(Sr, Gr, 'after') : N)),
                            q(yi, gr.top, Sa - yi, gr.bottom),
                            gr.bottom < Br.top && q(P, gr.bottom, null, Br.top),
                            q(Qn, Br.top, wa - Qn, Br.bottom);
                        }
                        (!Ce || Jc(gr, Ce) < 0) && (Ce = gr),
                          Jc(Br, Ce) < 0 && (Ce = Br),
                          (!hr || Jc(gr, hr) < 0) && (hr = gr),
                          Jc(Br, hr) < 0 && (hr = Br);
                      }),
                      { start: Ce, end: hr }
                    );
                  }
                  var vt = p.from(),
                    at = p.to();
                  if (vt.line == at.line) j(vt.line, vt.ch, at.ch);
                  else {
                    var Mt = Je(S, vt.line),
                      Ft = Je(S, at.line),
                      St = bi(Mt) == bi(Ft),
                      Yt = j(
                        vt.line,
                        vt.ch,
                        St ? Mt.text.length + 1 : null
                      ).end,
                      le = j(at.line, St ? 0 : null, at.ch).start;
                    St &&
                      (Yt.top < le.top - 2
                        ? (q(Yt.right, Yt.top, null, Yt.bottom),
                          q(P, le.top, le.left, le.bottom))
                        : q(Yt.right, Yt.top, le.left - Yt.right, Yt.bottom)),
                      Yt.bottom < le.top && q(P, Yt.bottom, null, le.top);
                  }
                  _.appendChild(T);
                }
                function Sh(h) {
                  if (h.state.focused) {
                    var p = h.display;
                    clearInterval(p.blinker);
                    var _ = !0;
                    (p.cursorDiv.style.visibility = ''),
                      h.options.cursorBlinkRate > 0
                        ? (p.blinker = setInterval(function () {
                            h.hasFocus() || _l(h),
                              (p.cursorDiv.style.visibility = (_ = !_)
                                ? ''
                                : 'hidden');
                          }, h.options.cursorBlinkRate))
                        : h.options.cursorBlinkRate < 0 &&
                          (p.cursorDiv.style.visibility = 'hidden');
                  }
                }
                function bl(h) {
                  h.hasFocus() ||
                    (h.display.input.focus(), h.state.focused || bu(h));
                }
                function wh(h) {
                  (h.state.delayingBlurEvent = !0),
                    setTimeout(function () {
                      h.state.delayingBlurEvent &&
                        ((h.state.delayingBlurEvent = !1),
                        h.state.focused && _l(h));
                    }, 100);
                }
                function bu(h, p) {
                  h.state.delayingBlurEvent &&
                    !h.state.draggingText &&
                    (h.state.delayingBlurEvent = !1),
                    'nocursor' != h.options.readOnly &&
                      (h.state.focused ||
                        (pe(h, 'focus', h, p),
                        (h.state.focused = !0),
                        $(h.display.wrapper, 'CodeMirror-focused'),
                        h.curOp ||
                          h.display.selForContextMenu == h.doc.sel ||
                          (h.display.input.reset(),
                          Qt &&
                            setTimeout(function () {
                              return h.display.input.reset(!0);
                            }, 20)),
                        h.display.input.receivedFocus()),
                      Sh(h));
                }
                function _l(h, p) {
                  h.state.delayingBlurEvent ||
                    (h.state.focused &&
                      (pe(h, 'blur', h, p),
                      (h.state.focused = !1),
                      He(h.display.wrapper, 'CodeMirror-focused')),
                    clearInterval(h.display.blinker),
                    setTimeout(function () {
                      h.state.focused || (h.display.shift = !1);
                    }, 150));
                }
                function Do(h) {
                  for (
                    var p = h.display,
                      _ = p.lineDiv.offsetTop,
                      x = Math.max(0, p.scroller.getBoundingClientRect().top),
                      S = p.lineDiv.getBoundingClientRect().top,
                      T = 0,
                      k = 0;
                    k < p.view.length;
                    k++
                  ) {
                    var P = p.view[k],
                      N = h.options.lineWrapping,
                      V = void 0,
                      q = 0;
                    if (!P.hidden) {
                      if (((S += P.line.height), ct && ve < 8)) {
                        var j = P.node.offsetTop + P.node.offsetHeight;
                        (V = j - _), (_ = j);
                      } else {
                        var vt = P.node.getBoundingClientRect();
                        (V = vt.bottom - vt.top),
                          !N &&
                            P.text.firstChild &&
                            (q =
                              P.text.firstChild.getBoundingClientRect().right -
                              vt.left -
                              1);
                      }
                      var at = P.line.height - V;
                      if (
                        (at > 0.005 || at < -0.005) &&
                        (S < x && (T -= at), Ln(P.line, V), Sl(P.line), P.rest)
                      )
                        for (var Mt = 0; Mt < P.rest.length; Mt++)
                          Sl(P.rest[Mt]);
                      if (q > h.display.sizerWidth) {
                        var Ft = Math.ceil(q / Es(h.display));
                        Ft > h.display.maxLineLength &&
                          ((h.display.maxLineLength = Ft),
                          (h.display.maxLine = P.line),
                          (h.display.maxLineChanged = !0));
                      }
                    }
                  }
                  Math.abs(T) > 2 && (p.scroller.scrollTop += T);
                }
                function Sl(h) {
                  if (h.widgets)
                    for (var p = 0; p < h.widgets.length; ++p) {
                      var _ = h.widgets[p],
                        x = _.node.parentNode;
                      x && (_.height = x.offsetHeight);
                    }
                }
                function Bi(h, p, _) {
                  var x =
                    _ && null != _.top
                      ? Math.max(0, _.top)
                      : h.scroller.scrollTop;
                  x = Math.floor(x - Yc(h));
                  var S =
                      _ && null != _.bottom
                        ? _.bottom
                        : x + h.wrapper.clientHeight,
                    T = Li(p, x),
                    k = Li(p, S);
                  if (_ && _.ensure) {
                    var P = _.ensure.from.line,
                      N = _.ensure.to.line;
                    P < T
                      ? ((T = P),
                        (k = Li(p, A(Je(p, P)) + h.wrapper.clientHeight)))
                      : Math.min(N, p.lastLine()) >= k &&
                        ((T = Li(p, A(Je(p, N)) - h.wrapper.clientHeight)),
                        (k = N));
                  }
                  return { from: T, to: Math.max(k, T + 1) };
                }
                function Ps(h, p) {
                  var _ = h.display,
                    x = Za(h.display);
                  p.top < 0 && (p.top = 0);
                  var S =
                      h.curOp && null != h.curOp.scrollTop
                        ? h.curOp.scrollTop
                        : _.scroller.scrollTop,
                    T = Xa(h),
                    k = {};
                  p.bottom - p.top > T && (p.bottom = p.top + T);
                  var P = h.doc.height + Xc(_),
                    V = p.bottom > P - x;
                  if (p.top < S) k.scrollTop = p.top < x ? 0 : p.top;
                  else if (p.bottom > S + T) {
                    var q = Math.min(p.top, (V ? P : p.bottom) - T);
                    q != S && (k.scrollTop = q);
                  }
                  var j = h.options.fixedGutter ? 0 : _.gutters.offsetWidth,
                    vt =
                      h.curOp && null != h.curOp.scrollLeft
                        ? h.curOp.scrollLeft
                        : _.scroller.scrollLeft - j,
                    at = Ya(h) - _.gutters.offsetWidth,
                    Mt = p.right - p.left > at;
                  return (
                    Mt && (p.right = p.left + at),
                    p.left < 10
                      ? (k.scrollLeft = 0)
                      : p.left < vt
                      ? (k.scrollLeft = Math.max(0, p.left + j - (Mt ? 0 : 10)))
                      : p.right > at + vt - 3 &&
                        (k.scrollLeft = p.right + (Mt ? 0 : 10) - at),
                    k
                  );
                }
                function Ch(h, p) {
                  null != p &&
                    (Yo(h),
                    (h.curOp.scrollTop =
                      (null == h.curOp.scrollTop
                        ? h.doc.scrollTop
                        : h.curOp.scrollTop) + p));
                }
                function wl(h) {
                  Yo(h);
                  var p = h.getCursor();
                  h.curOp.scrollToPos = {
                    from: p,
                    to: p,
                    margin: h.options.cursorScrollMargin,
                  };
                }
                function Uo(h, p, _) {
                  (null == p && null == _) || Yo(h),
                    null != p && (h.curOp.scrollLeft = p),
                    null != _ && (h.curOp.scrollTop = _);
                }
                function Yo(h) {
                  var p = h.curOp.scrollToPos;
                  p &&
                    ((h.curOp.scrollToPos = null),
                    Dh(h, bh(h, p.from), bh(h, p.to), p.margin));
                }
                function Dh(h, p, _, x) {
                  var S = Ps(h, {
                    left: Math.min(p.left, _.left),
                    top: Math.min(p.top, _.top) - x,
                    right: Math.max(p.right, _.right),
                    bottom: Math.max(p.bottom, _.bottom) + x,
                  });
                  Uo(h, S.scrollLeft, S.scrollTop);
                }
                function ya(h, p) {
                  Math.abs(h.doc.scrollTop - p) < 2 ||
                    (Lt || Mh(h, { top: p }),
                    _u(h, p, !0),
                    Lt && Mh(h),
                    qo(h, 100));
                }
                function _u(h, p, _) {
                  (p = Math.max(
                    0,
                    Math.min(
                      h.display.scroller.scrollHeight -
                        h.display.scroller.clientHeight,
                      p
                    )
                  )),
                    (h.display.scroller.scrollTop != p || _) &&
                      ((h.doc.scrollTop = p),
                      h.display.scrollbars.setScrollTop(p),
                      h.display.scroller.scrollTop != p &&
                        (h.display.scroller.scrollTop = p));
                }
                function To(h, p, _, x) {
                  (p = Math.max(
                    0,
                    Math.min(
                      p,
                      h.display.scroller.scrollWidth -
                        h.display.scroller.clientWidth
                    )
                  )),
                    ((_
                      ? p == h.doc.scrollLeft
                      : Math.abs(h.doc.scrollLeft - p) < 2) &&
                      !x) ||
                      ((h.doc.scrollLeft = p),
                      Lh(h),
                      h.display.scroller.scrollLeft != p &&
                        (h.display.scroller.scrollLeft = p),
                      h.display.scrollbars.setScrollLeft(p));
                }
                function Su(h) {
                  var p = h.display,
                    _ = p.gutters.offsetWidth,
                    x = Math.round(h.doc.height + Xc(h.display));
                  return {
                    clientHeight: p.scroller.clientHeight,
                    viewHeight: p.wrapper.clientHeight,
                    scrollWidth: p.scroller.scrollWidth,
                    clientWidth: p.scroller.clientWidth,
                    viewWidth: p.wrapper.clientWidth,
                    barLeft: h.options.fixedGutter ? _ : 0,
                    docHeight: x,
                    scrollHeight: x + Fi(h) + p.barHeight,
                    nativeBarWidth: p.nativeBarWidth,
                    gutterWidth: _,
                  };
                }
                var Rs = function (h, p, _) {
                  this.cm = _;
                  var x = (this.vert = Ht(
                      'div',
                      [Ht('div', null, null, 'min-width: 1px')],
                      'CodeMirror-vscrollbar'
                    )),
                    S = (this.horiz = Ht(
                      'div',
                      [Ht('div', null, null, 'height: 100%; min-height: 1px')],
                      'CodeMirror-hscrollbar'
                    ));
                  (x.tabIndex = S.tabIndex = -1),
                    h(x),
                    h(S),
                    Rt(x, 'scroll', function () {
                      x.clientHeight && p(x.scrollTop, 'vertical');
                    }),
                    Rt(S, 'scroll', function () {
                      S.clientWidth && p(S.scrollLeft, 'horizontal');
                    }),
                    (this.checkedZeroWidth = !1),
                    ct &&
                      ve < 8 &&
                      (this.horiz.style.minHeight = this.vert.style.minWidth =
                        '18px');
                };
                (Rs.prototype.update = function (h) {
                  var p = h.scrollWidth > h.clientWidth + 1,
                    _ = h.scrollHeight > h.clientHeight + 1,
                    x = h.nativeBarWidth;
                  return (
                    _
                      ? ((this.vert.style.display = 'block'),
                        (this.vert.style.bottom = p ? x + 'px' : '0'),
                        (this.vert.firstChild.style.height =
                          Math.max(
                            0,
                            h.scrollHeight -
                              h.clientHeight +
                              (h.viewHeight - (p ? x : 0))
                          ) + 'px'))
                      : ((this.vert.scrollTop = 0),
                        (this.vert.style.display = ''),
                        (this.vert.firstChild.style.height = '0')),
                    p
                      ? ((this.horiz.style.display = 'block'),
                        (this.horiz.style.right = _ ? x + 'px' : '0'),
                        (this.horiz.style.left = h.barLeft + 'px'),
                        (this.horiz.firstChild.style.width =
                          Math.max(
                            0,
                            h.scrollWidth -
                              h.clientWidth +
                              (h.viewWidth - h.barLeft - (_ ? x : 0))
                          ) + 'px'))
                      : ((this.horiz.style.display = ''),
                        (this.horiz.firstChild.style.width = '0')),
                    !this.checkedZeroWidth &&
                      h.clientHeight > 0 &&
                      (0 == x && this.zeroWidthHack(),
                      (this.checkedZeroWidth = !0)),
                    { right: _ ? x : 0, bottom: p ? x : 0 }
                  );
                }),
                  (Rs.prototype.setScrollLeft = function (h) {
                    this.horiz.scrollLeft != h && (this.horiz.scrollLeft = h),
                      this.disableHoriz &&
                        this.enableZeroWidthBar(
                          this.horiz,
                          this.disableHoriz,
                          'horiz'
                        );
                  }),
                  (Rs.prototype.setScrollTop = function (h) {
                    this.vert.scrollTop != h && (this.vert.scrollTop = h),
                      this.disableVert &&
                        this.enableZeroWidthBar(
                          this.vert,
                          this.disableVert,
                          'vert'
                        );
                  }),
                  (Rs.prototype.zeroWidthHack = function () {
                    (this.horiz.style.height = this.vert.style.width =
                      Kt && !_t ? '12px' : '18px'),
                      (this.horiz.style.visibility =
                        this.vert.style.visibility =
                          'hidden'),
                      (this.disableHoriz = new Ar()),
                      (this.disableVert = new Ar());
                  }),
                  (Rs.prototype.enableZeroWidthBar = function (h, p, _) {
                    (h.style.visibility = ''),
                      p.set(1e3, function x() {
                        var S = h.getBoundingClientRect();
                        ('vert' == _
                          ? document.elementFromPoint(
                              S.right - 1,
                              (S.top + S.bottom) / 2
                            )
                          : document.elementFromPoint(
                              (S.right + S.left) / 2,
                              S.bottom - 1
                            )) != h
                          ? (h.style.visibility = 'hidden')
                          : p.set(1e3, x);
                      });
                  }),
                  (Rs.prototype.clear = function () {
                    var h = this.horiz.parentNode;
                    h.removeChild(this.horiz), h.removeChild(this.vert);
                  });
                var wu = function () {};
                function Cl(h, p) {
                  p || (p = Su(h));
                  var _ = h.display.barWidth,
                    x = h.display.barHeight;
                  Mv(h, p);
                  for (
                    var S = 0;
                    (S < 4 && _ != h.display.barWidth) ||
                    x != h.display.barHeight;
                    S++
                  )
                    _ != h.display.barWidth && h.options.lineWrapping && Do(h),
                      Mv(h, Su(h)),
                      (_ = h.display.barWidth),
                      (x = h.display.barHeight);
                }
                function Mv(h, p) {
                  var _ = h.display,
                    x = _.scrollbars.update(p);
                  (_.sizer.style.paddingRight = (_.barWidth = x.right) + 'px'),
                    (_.sizer.style.paddingBottom =
                      (_.barHeight = x.bottom) + 'px'),
                    (_.heightForcer.style.borderBottom =
                      x.bottom + 'px solid transparent'),
                    x.right && x.bottom
                      ? ((_.scrollbarFiller.style.display = 'block'),
                        (_.scrollbarFiller.style.height = x.bottom + 'px'),
                        (_.scrollbarFiller.style.width = x.right + 'px'))
                      : (_.scrollbarFiller.style.display = ''),
                    x.bottom &&
                    h.options.coverGutterNextToScrollbar &&
                    h.options.fixedGutter
                      ? ((_.gutterFiller.style.display = 'block'),
                        (_.gutterFiller.style.height = x.bottom + 'px'),
                        (_.gutterFiller.style.width = p.gutterWidth + 'px'))
                      : (_.gutterFiller.style.display = '');
                }
                (wu.prototype.update = function () {
                  return { bottom: 0, right: 0 };
                }),
                  (wu.prototype.setScrollLeft = function () {}),
                  (wu.prototype.setScrollTop = function () {}),
                  (wu.prototype.clear = function () {});
                var Th = { native: Rs, null: wu };
                function Lv(h) {
                  h.display.scrollbars &&
                    (h.display.scrollbars.clear(),
                    h.display.scrollbars.addClass &&
                      He(h.display.wrapper, h.display.scrollbars.addClass)),
                    (h.display.scrollbars = new Th[h.options.scrollbarStyle](
                      function (p) {
                        h.display.wrapper.insertBefore(
                          p,
                          h.display.scrollbarFiller
                        ),
                          Rt(p, 'mousedown', function () {
                            h.state.focused &&
                              setTimeout(function () {
                                return h.display.input.focus();
                              }, 0);
                          }),
                          p.setAttribute('cm-not-content', 'true');
                      },
                      function (p, _) {
                        'horizontal' == _ ? To(h, p) : ya(h, p);
                      },
                      h
                    )),
                    h.display.scrollbars.addClass &&
                      $(h.display.wrapper, h.display.scrollbars.addClass);
                }
                var Ah = 0;
                function Xo(h) {
                  var p;
                  (h.curOp = {
                    cm: h,
                    viewChanged: !1,
                    startHeight: h.doc.height,
                    forceUpdate: !1,
                    updateInput: 0,
                    typing: !1,
                    changeObjs: null,
                    cursorActivityHandlers: null,
                    cursorActivityCalled: 0,
                    selectionChanged: !1,
                    updateMaxLine: !1,
                    scrollLeft: null,
                    scrollTop: null,
                    scrollToPos: null,
                    focus: !1,
                    id: ++Ah,
                    markArrays: null,
                  }),
                    (p = h.curOp),
                    rr
                      ? rr.ops.push(p)
                      : (p.ownsGroup = rr = { ops: [p], delayedCallbacks: [] });
                }
                function Zo(h) {
                  var p = h.curOp;
                  p &&
                    (function (_, x) {
                      var S = _.ownsGroup;
                      if (S)
                        try {
                          !(function (T) {
                            var k = T.delayedCallbacks,
                              P = 0;
                            do {
                              for (; P < k.length; P++) k[P].call(null);
                              for (var N = 0; N < T.ops.length; N++) {
                                var V = T.ops[N];
                                if (V.cursorActivityHandlers)
                                  for (
                                    ;
                                    V.cursorActivityCalled <
                                    V.cursorActivityHandlers.length;

                                  )
                                    V.cursorActivityHandlers[
                                      V.cursorActivityCalled++
                                    ].call(null, V.cm);
                              }
                            } while (P < k.length);
                          })(S);
                        } finally {
                          (rr = null),
                            (function (_) {
                              for (var x = 0; x < _.ops.length; x++)
                                _.ops[x].cm.curOp = null;
                              !(function (S) {
                                for (var T = S.ops, k = 0; k < T.length; k++)
                                  Iv(T[k]);
                                for (var P = 0; P < T.length; P++) ef(T[P]);
                                for (var N = 0; N < T.length; N++) kv(T[N]);
                                for (var V = 0; V < T.length; V++) Ev(T[V]);
                                for (var q = 0; q < T.length; q++) Om(T[q]);
                              })(_);
                            })(S);
                        }
                    })(p);
                }
                function Iv(h) {
                  var x,
                    S,
                    p = h.cm,
                    _ = p.display;
                  !(S = (x = p).display).scrollbarsClipped &&
                    S.scroller.offsetWidth &&
                    ((S.nativeBarWidth =
                      S.scroller.offsetWidth - S.scroller.clientWidth),
                    (S.heightForcer.style.height = Fi(x) + 'px'),
                    (S.sizer.style.marginBottom = -S.nativeBarWidth + 'px'),
                    (S.sizer.style.borderRightWidth = Fi(x) + 'px'),
                    (S.scrollbarsClipped = !0)),
                    h.updateMaxLine && W(p),
                    (h.mustUpdate =
                      h.viewChanged ||
                      h.forceUpdate ||
                      null != h.scrollTop ||
                      (h.scrollToPos &&
                        (h.scrollToPos.from.line < _.viewFrom ||
                          h.scrollToPos.to.line >= _.viewTo)) ||
                      (_.maxLineChanged && p.options.lineWrapping)),
                    (h.update =
                      h.mustUpdate &&
                      new rf(
                        p,
                        h.mustUpdate && {
                          top: h.scrollTop,
                          ensure: h.scrollToPos,
                        },
                        h.forceUpdate
                      ));
                }
                function ef(h) {
                  h.updatedDisplay = h.mustUpdate && Os(h.cm, h.update);
                }
                function kv(h) {
                  var p = h.cm,
                    _ = p.display;
                  h.updatedDisplay && Do(p),
                    (h.barMeasure = Su(p)),
                    _.maxLineChanged &&
                      !p.options.lineWrapping &&
                      ((h.adjustWidthTo =
                        mh(p, _.maxLine, _.maxLine.text.length).left + 3),
                      (p.display.sizerWidth = h.adjustWidthTo),
                      (h.barMeasure.scrollWidth = Math.max(
                        _.scroller.clientWidth,
                        _.sizer.offsetLeft +
                          h.adjustWidthTo +
                          Fi(p) +
                          p.display.barWidth
                      )),
                      (h.maxScrollLeft = Math.max(
                        0,
                        _.sizer.offsetLeft + h.adjustWidthTo - Ya(p)
                      ))),
                    (h.updatedDisplay || h.selectionChanged) &&
                      (h.preparedSelection = _.input.prepareSelection());
                }
                function Ev(h) {
                  var p = h.cm;
                  null != h.adjustWidthTo &&
                    ((p.display.sizer.style.minWidth = h.adjustWidthTo + 'px'),
                    h.maxScrollLeft < p.doc.scrollLeft &&
                      To(
                        p,
                        Math.min(
                          p.display.scroller.scrollLeft,
                          h.maxScrollLeft
                        ),
                        !0
                      ),
                    (p.display.maxLineChanged = !1));
                  var _ = h.focus && h.focus == st(sr(p));
                  h.preparedSelection &&
                    p.display.input.showSelection(h.preparedSelection, _),
                    (h.updatedDisplay || h.startHeight != p.doc.height) &&
                      Cl(p, h.barMeasure),
                    h.updatedDisplay && Tl(p, h.barMeasure),
                    h.selectionChanged && Sh(p),
                    p.state.focused &&
                      h.updateInput &&
                      p.display.input.reset(h.typing),
                    _ && bl(h.cm);
                }
                function Om(h) {
                  var p = h.cm,
                    _ = p.display,
                    x = p.doc;
                  h.updatedDisplay && Cu(p, h.update),
                    null == _.wheelStartX ||
                      (null == h.scrollTop &&
                        null == h.scrollLeft &&
                        !h.scrollToPos) ||
                      (_.wheelStartX = _.wheelStartY = null),
                    null != h.scrollTop && _u(p, h.scrollTop, h.forceScroll),
                    null != h.scrollLeft && To(p, h.scrollLeft, !0, !0),
                    h.scrollToPos &&
                      (function (V, q) {
                        if (!ze(V, 'scrollCursorIntoView')) {
                          var j = V.display,
                            vt = j.sizer.getBoundingClientRect(),
                            at = null,
                            Mt = j.wrapper.ownerDocument;
                          if (
                            (q.top + vt.top < 0
                              ? (at = !0)
                              : q.bottom + vt.top >
                                  (Mt.defaultView.innerHeight ||
                                    Mt.documentElement.clientHeight) &&
                                (at = !1),
                            null != at && !zt)
                          ) {
                            var Ft = Ht(
                              'div',
                              '\u200b',
                              null,
                              'position: absolute;\n                         top: ' +
                                (q.top - j.viewOffset - Yc(V.display)) +
                                'px;\n                         height: ' +
                                (q.bottom - q.top + Fi(V) + j.barHeight) +
                                'px;\n                         left: ' +
                                q.left +
                                'px; width: ' +
                                Math.max(2, q.right - q.left) +
                                'px;'
                            );
                            V.display.lineSpace.appendChild(Ft),
                              Ft.scrollIntoView(at),
                              V.display.lineSpace.removeChild(Ft);
                          }
                        }
                      })(
                        p,
                        (function (V, q, j, vt) {
                          var at;
                          null == vt && (vt = 0),
                            V.options.lineWrapping ||
                              q != j ||
                              ((j =
                                'before' == q.sticky
                                  ? Se(q.line, q.ch + 1, 'before')
                                  : q),
                              (q = q.ch
                                ? Se(
                                    q.line,
                                    'before' == q.sticky ? q.ch - 1 : q.ch,
                                    'after'
                                  )
                                : q));
                          for (var Mt = 0; Mt < 5; Mt++) {
                            var Ft = !1,
                              St = Ea(V, q),
                              Yt = j && j != q ? Ea(V, j) : St,
                              le = Ps(
                                V,
                                (at = {
                                  left: Math.min(St.left, Yt.left),
                                  top: Math.min(St.top, Yt.top) - vt,
                                  right: Math.max(St.left, Yt.left),
                                  bottom: Math.max(St.bottom, Yt.bottom) + vt,
                                })
                              ),
                              Jt = V.doc.scrollTop,
                              we = V.doc.scrollLeft;
                            if (
                              (null != le.scrollTop &&
                                (ya(V, le.scrollTop),
                                Math.abs(V.doc.scrollTop - Jt) > 1 &&
                                  (Ft = !0)),
                              null != le.scrollLeft &&
                                (To(V, le.scrollLeft),
                                Math.abs(V.doc.scrollLeft - we) > 1 &&
                                  (Ft = !0)),
                              !Ft)
                            )
                              break;
                          }
                          return at;
                        })(
                          p,
                          mr(x, h.scrollToPos.from),
                          mr(x, h.scrollToPos.to),
                          h.scrollToPos.margin
                        )
                      );
                  var T = h.maybeHiddenMarkers,
                    k = h.maybeUnhiddenMarkers;
                  if (T)
                    for (var P = 0; P < T.length; ++P)
                      T[P].lines.length || pe(T[P], 'hide');
                  if (k)
                    for (var N = 0; N < k.length; ++N)
                      k[N].lines.length && pe(k[N], 'unhide');
                  _.wrapper.offsetHeight &&
                    (x.scrollTop = p.display.scroller.scrollTop),
                    h.changeObjs && pe(p, 'changes', p, h.changeObjs),
                    h.update && h.update.finish();
                }
                function pi(h, p) {
                  if (h.curOp) return p();
                  Xo(h);
                  try {
                    return p();
                  } finally {
                    Zo(h);
                  }
                }
                function sn(h, p) {
                  return function () {
                    if (h.curOp) return p.apply(h, arguments);
                    Xo(h);
                    try {
                      return p.apply(h, arguments);
                    } finally {
                      Zo(h);
                    }
                  };
                }
                function Yn(h) {
                  return function () {
                    if (this.curOp) return h.apply(this, arguments);
                    Xo(this);
                    try {
                      return h.apply(this, arguments);
                    } finally {
                      Zo(this);
                    }
                  };
                }
                function Bn(h) {
                  return function () {
                    var p = this.cm;
                    if (!p || p.curOp) return h.apply(this, arguments);
                    Xo(p);
                    try {
                      return h.apply(this, arguments);
                    } finally {
                      Zo(p);
                    }
                  };
                }
                function qo(h, p) {
                  h.doc.highlightFrontier < h.display.viewTo &&
                    h.state.highlight.set(p, Ut(Pv, h));
                }
                function Pv(h) {
                  var p = h.doc;
                  if (!(p.highlightFrontier >= h.display.viewTo)) {
                    var _ = +new Date() + h.options.workTime,
                      x = ws(h, p.highlightFrontier),
                      S = [];
                    p.iter(
                      x.line,
                      Math.min(p.first + p.size, h.display.viewTo + 500),
                      function (T) {
                        if (x.line >= h.display.viewFrom) {
                          var k = T.styles,
                            P =
                              T.text.length > h.options.maxHighlightLength
                                ? $n(p.mode, x.state)
                                : null,
                            N = Uc(h, T, x, !0);
                          P && (x.state = P), (T.styles = N.styles);
                          var V = T.styleClasses,
                            q = N.classes;
                          q
                            ? (T.styleClasses = q)
                            : V && (T.styleClasses = null);
                          for (
                            var j =
                                !k ||
                                k.length != T.styles.length ||
                                (V != q &&
                                  (!V ||
                                    !q ||
                                    V.bgClass != q.bgClass ||
                                    V.textClass != q.textClass)),
                              vt = 0;
                            !j && vt < k.length;
                            ++vt
                          )
                            j = k[vt] != T.styles[vt];
                          j && S.push(x.line),
                            (T.stateAfter = x.save()),
                            x.nextLine();
                        } else
                          T.text.length <= h.options.maxHighlightLength &&
                            Cs(h, T.text, x),
                            (T.stateAfter = x.line % 5 == 0 ? x.save() : null),
                            x.nextLine();
                        if (+new Date() > _)
                          return qo(h, h.options.workDelay), !0;
                      }
                    ),
                      (p.highlightFrontier = x.line),
                      (p.modeFrontier = Math.max(p.modeFrontier, x.line)),
                      S.length &&
                        pi(h, function () {
                          for (var T = 0; T < S.length; T++)
                            Fn(h, S[T], 'text');
                        });
                  }
                }
                var rf = function (h, p, _) {
                  var x = h.display;
                  (this.viewport = p),
                    (this.visible = Bi(x, h.doc, p)),
                    (this.editorIsHidden = !x.wrapper.offsetWidth),
                    (this.wrapperHeight = x.wrapper.clientHeight),
                    (this.wrapperWidth = x.wrapper.clientWidth),
                    (this.oldDisplayWidth = Ya(h)),
                    (this.force = _),
                    (this.dims = ea(h)),
                    (this.events = []);
                };
                function Os(h, p) {
                  var _ = h.display,
                    x = h.doc;
                  if (p.editorIsHidden) return qa(h), !1;
                  if (
                    !p.force &&
                    p.visible.from >= _.viewFrom &&
                    p.visible.to <= _.viewTo &&
                    (null == _.updateLineNumbers ||
                      _.updateLineNumbers >= _.viewTo) &&
                    _.renderedView == _.view &&
                    0 == yu(h)
                  )
                    return !1;
                  Al(h) && (qa(h), (p.dims = ea(h)));
                  var S = x.first + x.size,
                    T = Math.max(
                      p.visible.from - h.options.viewportMargin,
                      x.first
                    ),
                    k = Math.min(S, p.visible.to + h.options.viewportMargin);
                  _.viewFrom < T &&
                    T - _.viewFrom < 20 &&
                    (T = Math.max(x.first, _.viewFrom)),
                    _.viewTo > k &&
                      _.viewTo - k < 20 &&
                      (k = Math.min(S, _.viewTo)),
                    Ia && ((T = ur(h.doc, T)), (k = ma(h.doc, k)));
                  var q,
                    j,
                    vt,
                    at,
                    P =
                      T != _.viewFrom ||
                      k != _.viewTo ||
                      _.lastWrapHeight != p.wrapperHeight ||
                      _.lastWrapWidth != p.wrapperWidth;
                  (j = T),
                    (vt = k),
                    0 == (at = (q = h).display).view.length ||
                    j >= at.viewTo ||
                    vt <= at.viewFrom
                      ? ((at.view = We(q, j, vt)), (at.viewFrom = j))
                      : (at.viewFrom > j
                          ? (at.view = We(q, j, at.viewFrom).concat(at.view))
                          : at.viewFrom < j &&
                            (at.view = at.view.slice(Co(q, j))),
                        (at.viewFrom = j),
                        at.viewTo < vt
                          ? (at.view = at.view.concat(We(q, at.viewTo, vt)))
                          : at.viewTo > vt &&
                            (at.view = at.view.slice(0, Co(q, vt)))),
                    (at.viewTo = vt),
                    (_.viewOffset = A(Je(h.doc, _.viewFrom))),
                    (h.display.mover.style.top = _.viewOffset + 'px');
                  var N = yu(h);
                  if (
                    !P &&
                    0 == N &&
                    !p.force &&
                    _.renderedView == _.view &&
                    (null == _.updateLineNumbers ||
                      _.updateLineNumbers >= _.viewTo)
                  )
                    return !1;
                  var V = (function Fm(h) {
                    if (h.hasFocus()) return null;
                    var p = st(sr(h));
                    if (!p || !Ot(h.display.lineDiv, p)) return null;
                    var _ = { activeElt: p };
                    if (window.getSelection) {
                      var x = F(h).getSelection();
                      x.anchorNode &&
                        x.extend &&
                        Ot(h.display.lineDiv, x.anchorNode) &&
                        ((_.anchorNode = x.anchorNode),
                        (_.anchorOffset = x.anchorOffset),
                        (_.focusNode = x.focusNode),
                        (_.focusOffset = x.focusOffset));
                    }
                    return _;
                  })(h);
                  return (
                    N > 4 && (_.lineDiv.style.display = 'none'),
                    (function (q, j, vt) {
                      var at = q.display,
                        Mt = q.options.lineNumbers,
                        Ft = at.lineDiv,
                        St = Ft.firstChild;
                      function Yt(Ue) {
                        var Ir = Ue.nextSibling;
                        return (
                          Qt && Kt && q.display.currentWheelTarget == Ue
                            ? (Ue.style.display = 'none')
                            : Ue.parentNode.removeChild(Ue),
                          Ir
                        );
                      }
                      for (
                        var le = at.view, Jt = at.viewFrom, we = 0;
                        we < le.length;
                        we++
                      ) {
                        var be = le[we];
                        if (!be.hidden)
                          if (be.node && be.node.parentNode == Ft) {
                            for (; St != be.node; ) St = Yt(St);
                            var Ce =
                              Mt && null != j && j <= Jt && be.lineNumber;
                            be.changes &&
                              (Ne(be.changes, 'gutter') > -1 && (Ce = !1),
                              Zr(q, be, Jt, vt)),
                              Ce &&
                                (ft(be.lineNumber),
                                be.lineNumber.appendChild(
                                  document.createTextNode(ci(q.options, Jt))
                                )),
                              (St = be.node.nextSibling);
                          } else {
                            var hr = ta(q, be, Jt, vt);
                            Ft.insertBefore(hr, St);
                          }
                        Jt += be.size;
                      }
                      for (; St; ) St = Yt(St);
                    })(h, _.updateLineNumbers, p.dims),
                    N > 4 && (_.lineDiv.style.display = ''),
                    (_.renderedView = _.view),
                    (function (q) {
                      if (
                        q &&
                        q.activeElt &&
                        q.activeElt != st(q.activeElt.ownerDocument) &&
                        (q.activeElt.focus(),
                        !/^(INPUT|TEXTAREA)$/.test(q.activeElt.nodeName) &&
                          q.anchorNode &&
                          Ot(document.body, q.anchorNode) &&
                          Ot(document.body, q.focusNode))
                      ) {
                        var j = q.activeElt.ownerDocument,
                          vt = j.defaultView.getSelection(),
                          at = j.createRange();
                        at.setEnd(q.anchorNode, q.anchorOffset),
                          at.collapse(!1),
                          vt.removeAllRanges(),
                          vt.addRange(at),
                          vt.extend(q.focusNode, q.focusOffset);
                      }
                    })(V),
                    ft(_.cursorDiv),
                    ft(_.selectionDiv),
                    (_.gutters.style.height = _.sizer.style.minHeight = 0),
                    P &&
                      ((_.lastWrapHeight = p.wrapperHeight),
                      (_.lastWrapWidth = p.wrapperWidth),
                      qo(h, 400)),
                    (_.updateLineNumbers = null),
                    !0
                  );
                }
                function Cu(h, p) {
                  for (var _ = p.viewport, x = !0; ; x = !1) {
                    if (
                      x &&
                      h.options.lineWrapping &&
                      p.oldDisplayWidth != Ya(h)
                    )
                      x && (p.visible = Bi(h.display, h.doc, _));
                    else if (
                      (_ &&
                        null != _.top &&
                        (_ = {
                          top: Math.min(
                            h.doc.height + Xc(h.display) - Xa(h),
                            _.top
                          ),
                        }),
                      (p.visible = Bi(h.display, h.doc, _)),
                      p.visible.from >= h.display.viewFrom &&
                        p.visible.to <= h.display.viewTo)
                    )
                      break;
                    if (!Os(h, p)) break;
                    Do(h);
                    var S = Su(h);
                    ja(h), Cl(h, S), Tl(h, S), (p.force = !1);
                  }
                  p.signal(h, 'update', h),
                    (h.display.viewFrom == h.display.reportedViewFrom &&
                      h.display.viewTo == h.display.reportedViewTo) ||
                      (p.signal(
                        h,
                        'viewportChange',
                        h,
                        h.display.viewFrom,
                        h.display.viewTo
                      ),
                      (h.display.reportedViewFrom = h.display.viewFrom),
                      (h.display.reportedViewTo = h.display.viewTo));
                }
                function Mh(h, p) {
                  var _ = new rf(h, p);
                  if (Os(h, _)) {
                    Do(h), Cu(h, _);
                    var x = Su(h);
                    ja(h), Cl(h, x), Tl(h, x), _.finish();
                  }
                }
                function Dl(h) {
                  (h.sizer.style.marginLeft = h.gutters.offsetWidth + 'px'),
                    Ve(h, 'gutterChanged', h);
                }
                function Tl(h, p) {
                  (h.display.sizer.style.minHeight = p.docHeight + 'px'),
                    (h.display.heightForcer.style.top = p.docHeight + 'px'),
                    (h.display.gutters.style.height =
                      p.docHeight + h.display.barHeight + Fi(h) + 'px');
                }
                function Lh(h) {
                  var p = h.display,
                    _ = p.view;
                  if (
                    p.alignWidgets ||
                    (p.gutters.firstChild && h.options.fixedGutter)
                  ) {
                    for (
                      var x = _h(p) - p.scroller.scrollLeft + h.doc.scrollLeft,
                        S = p.gutters.offsetWidth,
                        T = x + 'px',
                        k = 0;
                      k < _.length;
                      k++
                    )
                      if (!_[k].hidden) {
                        h.options.fixedGutter &&
                          (_[k].gutter && (_[k].gutter.style.left = T),
                          _[k].gutterBackground &&
                            (_[k].gutterBackground.style.left = T));
                        var P = _[k].alignable;
                        if (P)
                          for (var N = 0; N < P.length; N++)
                            P[N].style.left = T;
                      }
                    h.options.fixedGutter &&
                      (p.gutters.style.left = x + S + 'px');
                  }
                }
                function Al(h) {
                  if (!h.options.lineNumbers) return !1;
                  var p = h.doc,
                    _ = ci(h.options, p.first + p.size - 1),
                    x = h.display;
                  if (_.length != x.lineNumChars) {
                    var S = x.measure.appendChild(
                        Ht(
                          'div',
                          [Ht('div', _)],
                          'CodeMirror-linenumber CodeMirror-gutter-elt'
                        )
                      ),
                      T = S.firstChild.offsetWidth,
                      k = S.offsetWidth - T;
                    return (
                      (x.lineGutter.style.width = ''),
                      (x.lineNumInnerWidth =
                        Math.max(T, x.lineGutter.offsetWidth - k) + 1),
                      (x.lineNumWidth = x.lineNumInnerWidth + k),
                      (x.lineNumChars = x.lineNumInnerWidth ? _.length : -1),
                      (x.lineGutter.style.width = x.lineNumWidth + 'px'),
                      Dl(h.display),
                      !0
                    );
                  }
                  return !1;
                }
                function Du(h, p) {
                  for (var _ = [], x = !1, S = 0; S < h.length; S++) {
                    var T = h[S],
                      k = null;
                    if (
                      ('string' != typeof T &&
                        ((k = T.style), (T = T.className)),
                      'CodeMirror-linenumbers' == T)
                    ) {
                      if (!p) continue;
                      x = !0;
                    }
                    _.push({ className: T, style: k });
                  }
                  return (
                    p &&
                      !x &&
                      _.push({
                        className: 'CodeMirror-linenumbers',
                        style: null,
                      }),
                    _
                  );
                }
                function nf(h) {
                  var p = h.gutters,
                    _ = h.gutterSpecs;
                  ft(p), (h.lineGutter = null);
                  for (var x = 0; x < _.length; ++x) {
                    var S = _[x],
                      T = S.className,
                      k = S.style,
                      P = p.appendChild(
                        Ht('div', null, 'CodeMirror-gutter ' + T)
                      );
                    k && (P.style.cssText = k),
                      'CodeMirror-linenumbers' == T &&
                        ((h.lineGutter = P),
                        (P.style.width = (h.lineNumWidth || 1) + 'px'));
                  }
                  (p.style.display = _.length ? '' : 'none'), Dl(h);
                }
                function Ml(h) {
                  nf(h.display), Sn(h), Lh(h);
                }
                function Rv(h, p, _, x) {
                  var S = this;
                  (this.input = _),
                    (S.scrollbarFiller = Ht(
                      'div',
                      null,
                      'CodeMirror-scrollbar-filler'
                    )),
                    S.scrollbarFiller.setAttribute('cm-not-content', 'true'),
                    (S.gutterFiller = Ht(
                      'div',
                      null,
                      'CodeMirror-gutter-filler'
                    )),
                    S.gutterFiller.setAttribute('cm-not-content', 'true'),
                    (S.lineDiv = nt('div', null, 'CodeMirror-code')),
                    (S.selectionDiv = Ht(
                      'div',
                      null,
                      null,
                      'position: relative; z-index: 1'
                    )),
                    (S.cursorDiv = Ht('div', null, 'CodeMirror-cursors')),
                    (S.measure = Ht('div', null, 'CodeMirror-measure')),
                    (S.lineMeasure = Ht('div', null, 'CodeMirror-measure')),
                    (S.lineSpace = nt(
                      'div',
                      [
                        S.measure,
                        S.lineMeasure,
                        S.selectionDiv,
                        S.cursorDiv,
                        S.lineDiv,
                      ],
                      null,
                      'position: relative; outline: none'
                    ));
                  var T = nt('div', [S.lineSpace], 'CodeMirror-lines');
                  (S.mover = Ht('div', [T], null, 'position: relative')),
                    (S.sizer = Ht('div', [S.mover], 'CodeMirror-sizer')),
                    (S.sizerWidth = null),
                    (S.heightForcer = Ht(
                      'div',
                      null,
                      null,
                      'position: absolute; height: 50px; width: 1px;'
                    )),
                    (S.gutters = Ht('div', null, 'CodeMirror-gutters')),
                    (S.lineGutter = null),
                    (S.scroller = Ht(
                      'div',
                      [S.sizer, S.heightForcer, S.gutters],
                      'CodeMirror-scroll'
                    )),
                    S.scroller.setAttribute('tabIndex', '-1'),
                    (S.wrapper = Ht(
                      'div',
                      [S.scrollbarFiller, S.gutterFiller, S.scroller],
                      'CodeMirror'
                    )),
                    de &&
                      wt >= 105 &&
                      (S.wrapper.style.clipPath = 'inset(0px)'),
                    S.wrapper.setAttribute('translate', 'no'),
                    ct &&
                      ve < 8 &&
                      ((S.gutters.style.zIndex = -1),
                      (S.scroller.style.paddingRight = 0)),
                    Qt || (Lt && ne) || (S.scroller.draggable = !0),
                    h &&
                      (h.appendChild ? h.appendChild(S.wrapper) : h(S.wrapper)),
                    (S.viewFrom = S.viewTo = p.first),
                    (S.reportedViewFrom = S.reportedViewTo = p.first),
                    (S.view = []),
                    (S.renderedView = null),
                    (S.externalMeasured = null),
                    (S.viewOffset = 0),
                    (S.lastWrapHeight = S.lastWrapWidth = 0),
                    (S.updateLineNumbers = null),
                    (S.nativeBarWidth = S.barHeight = S.barWidth = 0),
                    (S.scrollbarsClipped = !1),
                    (S.lineNumWidth =
                      S.lineNumInnerWidth =
                      S.lineNumChars =
                        null),
                    (S.alignWidgets = !1),
                    (S.cachedCharWidth =
                      S.cachedTextHeight =
                      S.cachedPaddingH =
                        null),
                    (S.maxLine = null),
                    (S.maxLineLength = 0),
                    (S.maxLineChanged = !1),
                    (S.wheelDX =
                      S.wheelDY =
                      S.wheelStartX =
                      S.wheelStartY =
                        null),
                    (S.shift = !1),
                    (S.selForContextMenu = null),
                    (S.activeTouch = null),
                    (S.gutterSpecs = Du(x.gutters, x.lineNumbers)),
                    nf(S),
                    _.init(S);
                }
                (rf.prototype.signal = function (h, p) {
                  Nt(h, p) && this.events.push(arguments);
                }),
                  (rf.prototype.finish = function () {
                    for (var h = 0; h < this.events.length; h++)
                      pe.apply(null, this.events[h]);
                  });
                var Fs = 0,
                  na = null;
                function Ov(h) {
                  var p = h.wheelDeltaX,
                    _ = h.wheelDeltaY;
                  return (
                    null == p &&
                      h.detail &&
                      h.axis == h.HORIZONTAL_AXIS &&
                      (p = h.detail),
                    null == _ && h.detail && h.axis == h.VERTICAL_AXIS
                      ? (_ = h.detail)
                      : null == _ && (_ = h.wheelDelta),
                    { x: p, y: _ }
                  );
                }
                function Ih(h) {
                  var p = Ov(h);
                  return (p.x *= na), (p.y *= na), p;
                }
                function Bs(h, p) {
                  de &&
                    102 == wt &&
                    (null == h.display.chromeScrollHack
                      ? (h.display.sizer.style.pointerEvents = 'none')
                      : clearTimeout(h.display.chromeScrollHack),
                    (h.display.chromeScrollHack = setTimeout(function () {
                      (h.display.chromeScrollHack = null),
                        (h.display.sizer.style.pointerEvents = '');
                    }, 100)));
                  var _ = Ov(p),
                    x = _.x,
                    S = _.y,
                    T = na;
                  0 === p.deltaMode &&
                    ((x = p.deltaX), (S = p.deltaY), (T = 1));
                  var k = h.display,
                    P = k.scroller,
                    V = P.scrollHeight > P.clientHeight;
                  if ((x && P.scrollWidth > P.clientWidth) || (S && V)) {
                    if (S && Kt && Qt)
                      t: for (
                        var q = p.target, j = k.view;
                        q != P;
                        q = q.parentNode
                      )
                        for (var vt = 0; vt < j.length; vt++)
                          if (j[vt].node == q) {
                            h.display.currentWheelTarget = q;
                            break t;
                          }
                    if (x && !Lt && !Zt && null != T)
                      return (
                        S && V && ya(h, Math.max(0, P.scrollTop + S * T)),
                        To(h, Math.max(0, P.scrollLeft + x * T)),
                        (!S || (S && V)) && $e(p),
                        void (k.wheelStartX = null)
                      );
                    if (S && null != T) {
                      var at = S * T,
                        Mt = h.doc.scrollTop,
                        Ft = Mt + k.wrapper.clientHeight;
                      at < 0
                        ? (Mt = Math.max(0, Mt + at - 50))
                        : (Ft = Math.min(h.doc.height, Ft + at + 50)),
                        Mh(h, { top: Mt, bottom: Ft });
                    }
                    Fs < 20 &&
                      0 !== p.deltaMode &&
                      (null == k.wheelStartX
                        ? ((k.wheelStartX = P.scrollLeft),
                          (k.wheelStartY = P.scrollTop),
                          (k.wheelDX = x),
                          (k.wheelDY = S),
                          setTimeout(function () {
                            if (null != k.wheelStartX) {
                              var St = P.scrollLeft - k.wheelStartX,
                                Yt = P.scrollTop - k.wheelStartY,
                                le =
                                  (Yt && k.wheelDY && Yt / k.wheelDY) ||
                                  (St && k.wheelDX && St / k.wheelDX);
                              (k.wheelStartX = k.wheelStartY = null),
                                le && ((na = (na * Fs + le) / (Fs + 1)), ++Fs);
                            }
                          }, 200))
                        : ((k.wheelDX += x), (k.wheelDY += S)));
                  }
                }
                ct
                  ? (na = -0.53)
                  : Lt
                  ? (na = 15)
                  : de
                  ? (na = -0.7)
                  : he && (na = -1 / 3);
                var ia = function (h, p) {
                  (this.ranges = h), (this.primIndex = p);
                };
                (ia.prototype.primary = function () {
                  return this.ranges[this.primIndex];
                }),
                  (ia.prototype.equals = function (h) {
                    if (h == this) return !0;
                    if (
                      h.primIndex != this.primIndex ||
                      h.ranges.length != this.ranges.length
                    )
                      return !1;
                    for (var p = 0; p < this.ranges.length; p++) {
                      var _ = this.ranges[p],
                        x = h.ranges[p];
                      if (!vl(_.anchor, x.anchor) || !vl(_.head, x.head))
                        return !1;
                    }
                    return !0;
                  }),
                  (ia.prototype.deepCopy = function () {
                    for (var h = [], p = 0; p < this.ranges.length; p++)
                      h[p] = new Qr(
                        Wo(this.ranges[p].anchor),
                        Wo(this.ranges[p].head)
                      );
                    return new ia(h, this.primIndex);
                  }),
                  (ia.prototype.somethingSelected = function () {
                    for (var h = 0; h < this.ranges.length; h++)
                      if (!this.ranges[h].empty()) return !0;
                    return !1;
                  }),
                  (ia.prototype.contains = function (h, p) {
                    p || (p = h);
                    for (var _ = 0; _ < this.ranges.length; _++) {
                      var x = this.ranges[_];
                      if (pr(p, x.from()) >= 0 && pr(h, x.to()) <= 0) return _;
                    }
                    return -1;
                  });
                var Qr = function (h, p) {
                  (this.anchor = h), (this.head = p);
                };
                function aa(h, p, _) {
                  var x = h && h.options.selectionsMayTouch,
                    S = p[_];
                  p.sort(function (vt, at) {
                    return pr(vt.from(), at.from());
                  }),
                    (_ = Ne(p, S));
                  for (var T = 1; T < p.length; T++) {
                    var k = p[T],
                      P = p[T - 1],
                      N = pr(P.to(), k.from());
                    if (x && !k.empty() ? N > 0 : N >= 0) {
                      var V = _s(P.from(), k.from()),
                        q = ga(P.to(), k.to()),
                        j = P.empty() ? k.from() == k.head : P.from() == P.head;
                      T <= _ && --_,
                        p.splice(--T, 2, new Qr(j ? q : V, j ? V : q));
                    }
                  }
                  return new ia(p, _);
                }
                function Ka(h, p) {
                  return new ia([new Qr(h, p || h)], 0);
                }
                function Ao(h) {
                  return h.text
                    ? Se(
                        h.from.line + h.text.length - 1,
                        U(h.text).length + (1 == h.text.length ? h.from.ch : 0)
                      )
                    : h.to;
                }
                function kh(h, p) {
                  if (pr(h, p.from) < 0) return h;
                  if (pr(h, p.to) <= 0) return Ao(p);
                  var _ =
                      h.line + p.text.length - (p.to.line - p.from.line) - 1,
                    x = h.ch;
                  return (
                    h.line == p.to.line && (x += Ao(p).ch - p.to.ch), Se(_, x)
                  );
                }
                function Tu(h, p) {
                  for (var _ = [], x = 0; x < h.sel.ranges.length; x++) {
                    var S = h.sel.ranges[x];
                    _.push(new Qr(kh(S.anchor, p), kh(S.head, p)));
                  }
                  return aa(h.cm, _, h.sel.primIndex);
                }
                function Fv(h, p, _) {
                  return h.line == p.line
                    ? Se(_.line, h.ch - p.ch + _.ch)
                    : Se(_.line + (h.line - p.line), h.ch);
                }
                function Au(h) {
                  (h.doc.mode = pa(h.options, h.doc.modeOption)), Mu(h);
                }
                function Mu(h) {
                  h.doc.iter(function (p) {
                    p.stateAfter && (p.stateAfter = null),
                      p.styles && (p.styles = null);
                  }),
                    (h.doc.modeFrontier = h.doc.highlightFrontier =
                      h.doc.first),
                    qo(h, 100),
                    h.state.modeGen++,
                    h.curOp && Sn(h);
                }
                function Eh(h, p) {
                  return (
                    0 == p.from.ch &&
                    0 == p.to.ch &&
                    '' == U(p.text) &&
                    (!h.cm || h.cm.options.wholeLineUpdateBefore)
                  );
                }
                function Ph(h, p, _, x) {
                  function S(le) {
                    return _ ? _[le] : null;
                  }
                  function T(le, Jt, we) {
                    (function (be, Ce, hr, Ue) {
                      (be.text = Ce),
                        be.stateAfter && (be.stateAfter = null),
                        be.styles && (be.styles = null),
                        null != be.order && (be.order = null),
                        Ei(be),
                        hi(be, hr);
                      var Ir = Ue ? Ue(be) : 1;
                      Ir != be.height && Ln(be, Ir);
                    })(le, Jt, we, x),
                      Ve(le, 'change', le, p);
                  }
                  function k(le, Jt) {
                    for (var we = [], be = le; be < Jt; ++be)
                      we.push(new Z(V[be], S(be), x));
                    return we;
                  }
                  var P = p.from,
                    N = p.to,
                    V = p.text,
                    q = Je(h, P.line),
                    j = Je(h, N.line),
                    vt = U(V),
                    at = S(V.length - 1),
                    Mt = N.line - P.line;
                  if (p.full)
                    h.insert(0, k(0, V.length)),
                      h.remove(V.length, h.size - V.length);
                  else if (Eh(h, p)) {
                    var Ft = k(0, V.length - 1);
                    T(j, j.text, at),
                      Mt && h.remove(P.line, Mt),
                      Ft.length && h.insert(P.line, Ft);
                  } else if (q == j)
                    if (1 == V.length)
                      T(q, q.text.slice(0, P.ch) + vt + q.text.slice(N.ch), at);
                    else {
                      var St = k(1, V.length - 1);
                      St.push(new Z(vt + q.text.slice(N.ch), at, x)),
                        T(q, q.text.slice(0, P.ch) + V[0], S(0)),
                        h.insert(P.line + 1, St);
                    }
                  else if (1 == V.length)
                    T(
                      q,
                      q.text.slice(0, P.ch) + V[0] + j.text.slice(N.ch),
                      S(0)
                    ),
                      h.remove(P.line + 1, Mt);
                  else {
                    T(q, q.text.slice(0, P.ch) + V[0], S(0)),
                      T(j, vt + j.text.slice(N.ch), at);
                    var Yt = k(1, V.length - 1);
                    Mt > 1 && h.remove(P.line + 1, Mt - 1),
                      h.insert(P.line + 1, Yt);
                  }
                  Ve(h, 'change', h, p);
                }
                function Xn(h, p, _) {
                  !(function x(S, T, k) {
                    if (S.linked)
                      for (var P = 0; P < S.linked.length; ++P) {
                        var N = S.linked[P];
                        if (N.doc != T) {
                          var V = k && N.sharedHist;
                          (_ && !V) || (p(N.doc, V), x(N.doc, S, V));
                        }
                      }
                  })(h, null, !0);
                }
                function af(h, p) {
                  if (p.cm) throw new Error('This document is already in use.');
                  (h.doc = p),
                    (p.cm = h),
                    gu(h),
                    Au(h),
                    Bv(h),
                    (h.options.direction = p.direction),
                    h.options.lineWrapping || W(h),
                    (h.options.mode = p.modeOption),
                    Sn(h);
                }
                function Bv(h) {
                  ('rtl' == h.doc.direction ? $ : He)(
                    h.display.lineDiv,
                    'CodeMirror-rtl'
                  );
                }
                function of(h) {
                  (this.done = []),
                    (this.undone = []),
                    (this.undoDepth = h ? h.undoDepth : 1 / 0),
                    (this.lastModTime = this.lastSelTime = 0),
                    (this.lastOp = this.lastSelOp = null),
                    (this.lastOrigin = this.lastSelOrigin = null),
                    (this.generation = this.maxGeneration =
                      h ? h.maxGeneration : 1);
                }
                function Ll(h, p) {
                  var _ = {
                    from: Wo(p.from),
                    to: Ao(p),
                    text: dn(h, p.from, p.to),
                  };
                  return (
                    Iu(h, _, p.from.line, p.to.line + 1),
                    Xn(
                      h,
                      function (x) {
                        return Iu(x, _, p.from.line, p.to.line + 1);
                      },
                      !0
                    ),
                    _
                  );
                }
                function sf(h) {
                  for (; h.length && U(h).ranges; ) h.pop();
                }
                function Rh(h, p, _, x) {
                  var S = h.history;
                  S.undone.length = 0;
                  var T,
                    k,
                    V,
                    P = +new Date();
                  if (
                    (S.lastOp == x ||
                      (S.lastOrigin == p.origin &&
                        p.origin &&
                        (('+' == p.origin.charAt(0) &&
                          S.lastModTime >
                            P -
                              (h.cm ? h.cm.options.historyEventDelay : 500)) ||
                          '*' == p.origin.charAt(0)))) &&
                    ((V = S),
                    (T =
                      S.lastOp == x
                        ? (sf(V.done), U(V.done))
                        : V.done.length && !U(V.done).ranges
                        ? U(V.done)
                        : V.done.length > 1 && !V.done[V.done.length - 2].ranges
                        ? (V.done.pop(), U(V.done))
                        : void 0))
                  )
                    (k = U(T.changes)),
                      0 == pr(p.from, p.to) && 0 == pr(p.from, k.to)
                        ? (k.to = Ao(p))
                        : T.changes.push(Ll(h, p));
                  else {
                    var N = U(S.done);
                    for (
                      (N && N.ranges) || Lu(h.sel, S.done),
                        T = { changes: [Ll(h, p)], generation: S.generation },
                        S.done.push(T);
                      S.done.length > S.undoDepth;

                    )
                      S.done.shift(), S.done[0].ranges || S.done.shift();
                  }
                  S.done.push(_),
                    (S.generation = ++S.maxGeneration),
                    (S.lastModTime = S.lastSelTime = P),
                    (S.lastOp = S.lastSelOp = x),
                    (S.lastOrigin = S.lastSelOrigin = p.origin),
                    k || pe(h, 'historyAdded');
                }
                function Lu(h, p) {
                  var _ = U(p);
                  (_ && _.ranges && _.equals(h)) || p.push(h);
                }
                function Iu(h, p, _, x) {
                  var S = p['spans_' + h.id],
                    T = 0;
                  h.iter(
                    Math.max(h.first, _),
                    Math.min(h.first + h.size, x),
                    function (k) {
                      k.markedSpans &&
                        ((S || (S = p['spans_' + h.id] = {}))[T] =
                          k.markedSpans),
                        ++T;
                    }
                  );
                }
                function Oh(h) {
                  if (!h) return null;
                  for (var p, _ = 0; _ < h.length; ++_)
                    h[_].marker.explicitlyCleared
                      ? p || (p = h.slice(0, _))
                      : p && p.push(h[_]);
                  return p ? (p.length ? p : null) : h;
                }
                function lf(h, p) {
                  var _ = (function (q, j) {
                      var vt = j['spans_' + q.id];
                      if (!vt) return null;
                      for (var at = [], Mt = 0; Mt < j.text.length; ++Mt)
                        at.push(Oh(vt[Mt]));
                      return at;
                    })(h, p),
                    x = go(h, p);
                  if (!_) return x;
                  if (!x) return _;
                  for (var S = 0; S < _.length; ++S) {
                    var T = _[S],
                      k = x[S];
                    if (T && k)
                      t: for (var P = 0; P < k.length; ++P) {
                        for (var N = k[P], V = 0; V < T.length; ++V)
                          if (T[V].marker == N.marker) continue t;
                        T.push(N);
                      }
                    else k && (_[S] = k);
                  }
                  return _;
                }
                function jo(h, p, _) {
                  for (var x = [], S = 0; S < h.length; ++S) {
                    var T = h[S];
                    if (T.ranges) x.push(_ ? ia.prototype.deepCopy.call(T) : T);
                    else {
                      var k = T.changes,
                        P = [];
                      x.push({ changes: P });
                      for (var N = 0; N < k.length; ++N) {
                        var V = k[N],
                          q = void 0;
                        if (
                          (P.push({ from: V.from, to: V.to, text: V.text }), p)
                        )
                          for (var j in V)
                            (q = j.match(/^spans_(\d+)$/)) &&
                              Ne(p, Number(q[1])) > -1 &&
                              ((U(P)[j] = V[j]), delete V[j]);
                      }
                    }
                  }
                  return x;
                }
                function Fh(h, p, _, x) {
                  if (x) {
                    var S = h.anchor;
                    if (_) {
                      var T = pr(p, S) < 0;
                      T != pr(_, S) < 0
                        ? ((S = p), (p = _))
                        : T != pr(p, _) < 0 && (p = _);
                    }
                    return new Qr(S, p);
                  }
                  return new Qr(_ || p, p);
                }
                function ku(h, p, _, x, S) {
                  null == S && (S = h.cm && (h.cm.display.shift || h.extend)),
                    Nn(h, new ia([Fh(h.sel.primary(), p, _, S)], 0), x);
                }
                function Bh(h, p, _) {
                  for (
                    var x = [],
                      S = h.cm && (h.cm.display.shift || h.extend),
                      T = 0;
                    T < h.sel.ranges.length;
                    T++
                  )
                    x[T] = Fh(h.sel.ranges[T], p[T], null, S);
                  Nn(h, aa(h.cm, x, h.sel.primIndex), _);
                }
                function Mo(h, p, _, x) {
                  var S = h.sel.ranges.slice(0);
                  (S[p] = _), Nn(h, aa(h.cm, S, h.sel.primIndex), x);
                }
                function Ko(h, p, _, x) {
                  Nn(h, Ka(p, _), x);
                }
                function Ns(h, p, _) {
                  var x = h.history.done,
                    S = U(x);
                  S && S.ranges
                    ? ((x[x.length - 1] = p), Il(h, p, _))
                    : Nn(h, p, _);
                }
                function Nn(h, p, _) {
                  Il(h, p, _),
                    (function Bm(h, p, _, x) {
                      var k,
                        P,
                        N,
                        V,
                        q,
                        S = h.history,
                        T = x && x.origin;
                      _ == S.lastSelOp ||
                      (T &&
                        S.lastSelOrigin == T &&
                        ((S.lastModTime == S.lastSelTime &&
                          S.lastOrigin == T) ||
                          ((k = h),
                          (P = T),
                          (N = U(S.done)),
                          (V = p),
                          '*' == (q = P.charAt(0)) ||
                            ('+' == q &&
                              N.ranges.length == V.ranges.length &&
                              N.somethingSelected() == V.somethingSelected() &&
                              new Date() - k.history.lastSelTime <=
                                (k.cm
                                  ? k.cm.options.historyEventDelay
                                  : 500)))))
                        ? (S.done[S.done.length - 1] = p)
                        : Lu(p, S.done),
                        (S.lastSelTime = +new Date()),
                        (S.lastSelOrigin = T),
                        (S.lastSelOp = _),
                        x && !1 !== x.clearRedo && sf(S.undone);
                    })(h, h.sel, h.cm ? h.cm.curOp.id : NaN, _);
                }
                function Il(h, p, _) {
                  var S, T, k, P;
                  (Nt(h, 'beforeSelectionChange') ||
                    (h.cm && Nt(h.cm, 'beforeSelectionChange'))) &&
                    (pe(
                      (S = h),
                      'beforeSelectionChange',
                      S,
                      (P = {
                        ranges: (T = p).ranges,
                        update: function (N) {
                          this.ranges = [];
                          for (var V = 0; V < N.length; V++)
                            this.ranges[V] = new Qr(
                              mr(S, N[V].anchor),
                              mr(S, N[V].head)
                            );
                        },
                        origin: (k = _) && k.origin,
                      })
                    ),
                    S.cm && pe(S.cm, 'beforeSelectionChange', S.cm, P),
                    (p =
                      P.ranges != T.ranges
                        ? aa(S.cm, P.ranges, P.ranges.length - 1)
                        : T));
                  var x =
                    (_ && _.bias) ||
                    (pr(p.primary().head, h.sel.primary().head) < 0 ? -1 : 1);
                  Qa(h, Nh(h, p, x, !0)),
                    (_ && !1 === _.scroll) ||
                      !h.cm ||
                      'nocursor' == h.cm.getOption('readOnly') ||
                      wl(h.cm);
                }
                function Qa(h, p) {
                  p.equals(h.sel) ||
                    ((h.sel = p),
                    h.cm &&
                      ((h.cm.curOp.updateInput = 1),
                      (h.cm.curOp.selectionChanged = !0),
                      ar(h.cm)),
                    Ve(h, 'cursorActivity', h));
                }
                function Pa(h) {
                  Qa(h, Nh(h, h.sel, null, !1));
                }
                function Nh(h, p, _, x) {
                  for (var S, T = 0; T < p.ranges.length; T++) {
                    var k = p.ranges[T],
                      P =
                        p.ranges.length == h.sel.ranges.length &&
                        h.sel.ranges[T],
                      N = gi(h, k.anchor, P && P.anchor, _, x),
                      V =
                        k.head == k.anchor
                          ? N
                          : gi(h, k.head, P && P.head, _, x);
                    (S || N != k.anchor || V != k.head) &&
                      (S || (S = p.ranges.slice(0, T)), (S[T] = new Qr(N, V)));
                  }
                  return S ? aa(h.cm, S, p.primIndex) : p;
                }
                function zs(h, p, _, x, S) {
                  var T = Je(h, p.line);
                  if (T.markedSpans)
                    for (var k = 0; k < T.markedSpans.length; ++k) {
                      var P = T.markedSpans[k],
                        N = P.marker,
                        V = 'selectLeft' in N ? !N.selectLeft : N.inclusiveLeft,
                        q =
                          'selectRight' in N
                            ? !N.selectRight
                            : N.inclusiveRight;
                      if (
                        (null == P.from ||
                          (V ? P.from <= p.ch : P.from < p.ch)) &&
                        (null == P.to || (q ? P.to >= p.ch : P.to > p.ch))
                      ) {
                        if (
                          S &&
                          (pe(N, 'beforeCursorEnter'), N.explicitlyCleared)
                        ) {
                          if (T.markedSpans) {
                            --k;
                            continue;
                          }
                          break;
                        }
                        if (!N.atomic) continue;
                        if (_) {
                          var j = N.find(x < 0 ? 1 : -1),
                            vt = void 0;
                          if (
                            ((x < 0 ? q : V) &&
                              (j = zh(
                                h,
                                j,
                                -x,
                                j && j.line == p.line ? T : null
                              )),
                            j &&
                              j.line == p.line &&
                              (vt = pr(j, _)) &&
                              (x < 0 ? vt < 0 : vt > 0))
                          )
                            return zs(h, j, p, x, S);
                        }
                        var at = N.find(x < 0 ? -1 : 1);
                        return (
                          (x < 0 ? V : q) &&
                            (at = zh(h, at, x, at.line == p.line ? T : null)),
                          at ? zs(h, at, p, x, S) : null
                        );
                      }
                    }
                  return p;
                }
                function gi(h, p, _, x, S) {
                  var T = x || 1;
                  return (
                    zs(h, p, _, T, S) ||
                    (!S && zs(h, p, _, T, !0)) ||
                    zs(h, p, _, -T, S) ||
                    (!S && zs(h, p, _, -T, !0)) ||
                    ((h.cantEdit = !0), Se(h.first, 0))
                  );
                }
                function zh(h, p, _, x) {
                  return _ < 0 && 0 == p.ch
                    ? p.line > h.first
                      ? mr(h, Se(p.line - 1))
                      : null
                    : _ > 0 && p.ch == (x || Je(h, p.line)).text.length
                    ? p.line < h.first + h.size - 1
                      ? Se(p.line + 1, 0)
                      : null
                    : new Se(p.line, p.ch + _);
                }
                function kl(h) {
                  h.setSelection(Se(h.firstLine(), 0), Se(h.lastLine()), kt);
                }
                function El(h, p, _) {
                  var x = {
                    canceled: !1,
                    from: p.from,
                    to: p.to,
                    text: p.text,
                    origin: p.origin,
                    cancel: function () {
                      return (x.canceled = !0);
                    },
                  };
                  return (
                    _ &&
                      (x.update = function (S, T, k, P) {
                        S && (x.from = mr(h, S)),
                          T && (x.to = mr(h, T)),
                          k && (x.text = k),
                          void 0 !== P && (x.origin = P);
                      }),
                    pe(h, 'beforeChange', h, x),
                    h.cm && pe(h.cm, 'beforeChange', h.cm, x),
                    x.canceled
                      ? (h.cm && (h.cm.curOp.updateInput = 2), null)
                      : {
                          from: x.from,
                          to: x.to,
                          text: x.text,
                          origin: x.origin,
                        }
                  );
                }
                function Ra(h, p, _) {
                  if (h.cm) {
                    if (!h.cm.curOp) return sn(h.cm, Ra)(h, p, _);
                    if (h.cm.state.suppressEdits) return;
                  }
                  if (
                    !(
                      Nt(h, 'beforeChange') ||
                      (h.cm && Nt(h.cm, 'beforeChange'))
                    ) ||
                    (p = El(h, p, !0))
                  ) {
                    var x =
                      As &&
                      !_ &&
                      (function (T, k, P) {
                        var N = null;
                        if (
                          (T.iter(k.line, P.line + 1, function (le) {
                            if (le.markedSpans)
                              for (
                                var Jt = 0;
                                Jt < le.markedSpans.length;
                                ++Jt
                              ) {
                                var we = le.markedSpans[Jt].marker;
                                !we.readOnly ||
                                  (N && -1 != Ne(N, we)) ||
                                  (N || (N = [])).push(we);
                              }
                          }),
                          !N)
                        )
                          return null;
                        for (
                          var V = [{ from: k, to: P }], q = 0;
                          q < N.length;
                          ++q
                        )
                          for (
                            var j = N[q], vt = j.find(0), at = 0;
                            at < V.length;
                            ++at
                          ) {
                            var Mt = V[at];
                            if (
                              !(
                                pr(Mt.to, vt.from) < 0 || pr(Mt.from, vt.to) > 0
                              )
                            ) {
                              var Ft = [at, 1],
                                St = pr(Mt.from, vt.from),
                                Yt = pr(Mt.to, vt.to);
                              (St < 0 || (!j.inclusiveLeft && !St)) &&
                                Ft.push({ from: Mt.from, to: vt.from }),
                                (Yt > 0 || (!j.inclusiveRight && !Yt)) &&
                                  Ft.push({ from: vt.to, to: Mt.to }),
                                V.splice.apply(V, Ft),
                                (at += Ft.length - 3);
                            }
                          }
                        return V;
                      })(h, p.from, p.to);
                    if (x)
                      for (var S = x.length - 1; S >= 0; --S)
                        Eu(h, {
                          from: x[S].from,
                          to: x[S].to,
                          text: S ? [''] : p.text,
                          origin: p.origin,
                        });
                    else Eu(h, p);
                  }
                }
                function Eu(h, p) {
                  if (
                    1 != p.text.length ||
                    '' != p.text[0] ||
                    0 != pr(p.from, p.to)
                  ) {
                    var _ = Tu(h, p);
                    Rh(h, p, _, h.cm ? h.cm.curOp.id : NaN),
                      Vs(h, p, _, go(h, p));
                    var x = [];
                    Xn(h, function (S, T) {
                      T ||
                        -1 != Ne(x, S.history) ||
                        (zv(S.history, p), x.push(S.history)),
                        Vs(S, p, null, go(S, p));
                    });
                  }
                }
                function Ni(h, p, _) {
                  var x = h.cm && h.cm.state.suppressEdits;
                  if (!x || _) {
                    for (
                      var S,
                        T = h.history,
                        k = h.sel,
                        P = 'undo' == p ? T.done : T.undone,
                        N = 'undo' == p ? T.undone : T.done,
                        V = 0;
                      V < P.length &&
                      ((S = P[V]), _ ? !S.ranges || S.equals(h.sel) : S.ranges);
                      V++
                    );
                    if (V != P.length) {
                      for (T.lastOrigin = T.lastSelOrigin = null; ; ) {
                        if (!(S = P.pop()).ranges) {
                          if (x) return void P.push(S);
                          break;
                        }
                        if ((Lu(S, N), _ && !S.equals(h.sel)))
                          return void Nn(h, S, { clearRedo: !1 });
                        k = S;
                      }
                      var q = [];
                      Lu(k, N),
                        N.push({ changes: q, generation: T.generation }),
                        (T.generation = S.generation || ++T.maxGeneration);
                      for (
                        var j =
                            Nt(h, 'beforeChange') ||
                            (h.cm && Nt(h.cm, 'beforeChange')),
                          vt = function (Ft) {
                            var St = S.changes[Ft];
                            if (((St.origin = p), j && !El(h, St, !1)))
                              return (P.length = 0), {};
                            q.push(Ll(h, St));
                            var Yt = Ft ? Tu(h, St) : U(P);
                            Vs(h, St, Yt, lf(h, St)),
                              !Ft &&
                                h.cm &&
                                h.cm.scrollIntoView({
                                  from: St.from,
                                  to: Ao(St),
                                });
                            var le = [];
                            Xn(h, function (Jt, we) {
                              we ||
                                -1 != Ne(le, Jt.history) ||
                                (zv(Jt.history, St), le.push(Jt.history)),
                                Vs(Jt, St, null, lf(Jt, St));
                            });
                          },
                          at = S.changes.length - 1;
                        at >= 0;
                        --at
                      ) {
                        var Mt = vt(at);
                        if (Mt) return Mt.v;
                      }
                    }
                  }
                }
                function Pu(h, p) {
                  if (
                    0 != p &&
                    ((h.first += p),
                    (h.sel = new ia(
                      Y(h.sel.ranges, function (S) {
                        return new Qr(
                          Se(S.anchor.line + p, S.anchor.ch),
                          Se(S.head.line + p, S.head.ch)
                        );
                      }),
                      h.sel.primIndex
                    )),
                    h.cm)
                  ) {
                    Sn(h.cm, h.first, h.first - p, p);
                    for (
                      var _ = h.cm.display, x = _.viewFrom;
                      x < _.viewTo;
                      x++
                    )
                      Fn(h.cm, x, 'gutter');
                  }
                }
                function Vs(h, p, _, x) {
                  if (h.cm && !h.cm.curOp) return sn(h.cm, Vs)(h, p, _, x);
                  if (p.to.line < h.first)
                    Pu(h, p.text.length - 1 - (p.to.line - p.from.line));
                  else if (!(p.from.line > h.lastLine())) {
                    if (p.from.line < h.first) {
                      var S = p.text.length - 1 - (h.first - p.from.line);
                      Pu(h, S),
                        (p = {
                          from: Se(h.first, 0),
                          to: Se(p.to.line + S, p.to.ch),
                          text: [U(p.text)],
                          origin: p.origin,
                        });
                    }
                    var T = h.lastLine();
                    p.to.line > T &&
                      (p = {
                        from: p.from,
                        to: Se(T, Je(h, T).text.length),
                        text: [p.text[0]],
                        origin: p.origin,
                      }),
                      (p.removed = dn(h, p.from, p.to)),
                      _ || (_ = Tu(h, p)),
                      h.cm
                        ? (function (k, P, N) {
                            var V = k.doc,
                              q = k.display,
                              j = P.from,
                              vt = P.to,
                              at = !1,
                              Mt = j.line;
                            k.options.lineWrapping ||
                              ((Mt = Kr(bi(Je(V, j.line)))),
                              V.iter(Mt, vt.line + 1, function (Jt) {
                                if (Jt == q.maxLine) return (at = !0), !0;
                              })),
                              V.sel.contains(P.from, P.to) > -1 && ar(k),
                              Ph(V, P, N, xl(k)),
                              k.options.lineWrapping ||
                                (V.iter(
                                  Mt,
                                  j.line + P.text.length,
                                  function (Jt) {
                                    var we = R(Jt);
                                    we > q.maxLineLength &&
                                      ((q.maxLine = Jt),
                                      (q.maxLineLength = we),
                                      (q.maxLineChanged = !0),
                                      (at = !1));
                                  }
                                ),
                                at && (k.curOp.updateMaxLine = !0)),
                              (function (Jt, we) {
                                if (
                                  ((Jt.modeFrontier = Math.min(
                                    Jt.modeFrontier,
                                    we
                                  )),
                                  !(Jt.highlightFrontier < we - 10))
                                ) {
                                  for (
                                    var be = Jt.first, Ce = we - 1;
                                    Ce > be;
                                    Ce--
                                  ) {
                                    var hr = Je(Jt, Ce).stateAfter;
                                    if (
                                      hr &&
                                      (!(hr instanceof ki) ||
                                        Ce + hr.lookAhead < we)
                                    ) {
                                      be = Ce + 1;
                                      break;
                                    }
                                  }
                                  Jt.highlightFrontier = Math.min(
                                    Jt.highlightFrontier,
                                    be
                                  );
                                }
                              })(V, j.line),
                              qo(k, 400);
                            var Ft = P.text.length - (vt.line - j.line) - 1;
                            P.full
                              ? Sn(k)
                              : j.line != vt.line ||
                                1 != P.text.length ||
                                Eh(k.doc, P)
                              ? Sn(k, j.line, vt.line + 1, Ft)
                              : Fn(k, j.line, 'text');
                            var St = Nt(k, 'changes'),
                              Yt = Nt(k, 'change');
                            if (Yt || St) {
                              var le = {
                                from: j,
                                to: vt,
                                text: P.text,
                                removed: P.removed,
                                origin: P.origin,
                              };
                              Yt && Ve(k, 'change', k, le),
                                St &&
                                  (
                                    k.curOp.changeObjs ||
                                    (k.curOp.changeObjs = [])
                                  ).push(le);
                            }
                            k.display.selForContextMenu = null;
                          })(h.cm, p, x)
                        : Ph(h, p, x),
                      Il(h, _, kt),
                      h.cantEdit &&
                        gi(h, Se(h.firstLine(), 0)) &&
                        (h.cantEdit = !1);
                  }
                }
                function Qo(h, p, _, x, S) {
                  var T;
                  x || (x = _),
                    pr(x, _) < 0 && ((_ = (T = [x, _])[0]), (x = T[1])),
                    'string' == typeof p && (p = h.splitLines(p)),
                    Ra(h, { from: _, to: x, text: p, origin: S });
                }
                function Nv(h, p, _, x) {
                  _ < h.line
                    ? (h.line += x)
                    : p < h.line && ((h.line = p), (h.ch = 0));
                }
                function Hs(h, p, _, x) {
                  for (var S = 0; S < h.length; ++S) {
                    var T = h[S],
                      k = !0;
                    if (T.ranges) {
                      T.copied || ((T = h[S] = T.deepCopy()).copied = !0);
                      for (var P = 0; P < T.ranges.length; P++)
                        Nv(T.ranges[P].anchor, p, _, x),
                          Nv(T.ranges[P].head, p, _, x);
                    } else {
                      for (var N = 0; N < T.changes.length; ++N) {
                        var V = T.changes[N];
                        if (_ < V.from.line)
                          (V.from = Se(V.from.line + x, V.from.ch)),
                            (V.to = Se(V.to.line + x, V.to.ch));
                        else if (p <= V.to.line) {
                          k = !1;
                          break;
                        }
                      }
                      k || (h.splice(0, S + 1), (S = 0));
                    }
                  }
                }
                function zv(h, p) {
                  var _ = p.from.line,
                    x = p.to.line,
                    S = p.text.length - (x - _) - 1;
                  Hs(h.done, _, x, S), Hs(h.undone, _, x, S);
                }
                function Jo(h, p, _, x) {
                  var S = p,
                    T = p;
                  return (
                    'number' == typeof p ? (T = Je(h, Ss(h, p))) : (S = Kr(p)),
                    null == S ? null : (x(T, S) && h.cm && Fn(h.cm, S, _), T)
                  );
                }
                function Gs(h) {
                  (this.lines = h), (this.parent = null);
                  for (var p = 0, _ = 0; _ < h.length; ++_)
                    (h[_].parent = this), (p += h[_].height);
                  this.height = p;
                }
                function Ws(h) {
                  this.children = h;
                  for (var p = 0, _ = 0, x = 0; x < h.length; ++x) {
                    var S = h[x];
                    (p += S.chunkSize()), (_ += S.height), (S.parent = this);
                  }
                  (this.size = p), (this.height = _), (this.parent = null);
                }
                (Qr.prototype.from = function () {
                  return _s(this.anchor, this.head);
                }),
                  (Qr.prototype.to = function () {
                    return ga(this.anchor, this.head);
                  }),
                  (Qr.prototype.empty = function () {
                    return (
                      this.head.line == this.anchor.line &&
                      this.head.ch == this.anchor.ch
                    );
                  }),
                  (Gs.prototype = {
                    chunkSize: function () {
                      return this.lines.length;
                    },
                    removeInner: function (h, p) {
                      for (var _ = h, x = h + p; _ < x; ++_) {
                        var S = this.lines[_];
                        (this.height -= S.height), dt(S), Ve(S, 'delete');
                      }
                      this.lines.splice(h, p);
                    },
                    collapse: function (h) {
                      h.push.apply(h, this.lines);
                    },
                    insertInner: function (h, p, _) {
                      (this.height += _),
                        (this.lines = this.lines
                          .slice(0, h)
                          .concat(p)
                          .concat(this.lines.slice(h)));
                      for (var x = 0; x < p.length; ++x) p[x].parent = this;
                    },
                    iterN: function (h, p, _) {
                      for (var x = h + p; h < x; ++h)
                        if (_(this.lines[h])) return !0;
                    },
                  }),
                  (Ws.prototype = {
                    chunkSize: function () {
                      return this.size;
                    },
                    removeInner: function (h, p) {
                      this.size -= p;
                      for (var _ = 0; _ < this.children.length; ++_) {
                        var x = this.children[_],
                          S = x.chunkSize();
                        if (h < S) {
                          var T = Math.min(p, S - h),
                            k = x.height;
                          if (
                            (x.removeInner(h, T),
                            (this.height -= k - x.height),
                            S == T &&
                              (this.children.splice(_--, 1), (x.parent = null)),
                            0 == (p -= T))
                          )
                            break;
                          h = 0;
                        } else h -= S;
                      }
                      if (
                        this.size - p < 25 &&
                        (this.children.length > 1 ||
                          !(this.children[0] instanceof Gs))
                      ) {
                        var P = [];
                        this.collapse(P),
                          (this.children = [new Gs(P)]),
                          (this.children[0].parent = this);
                      }
                    },
                    collapse: function (h) {
                      for (var p = 0; p < this.children.length; ++p)
                        this.children[p].collapse(h);
                    },
                    insertInner: function (h, p, _) {
                      (this.size += p.length), (this.height += _);
                      for (var x = 0; x < this.children.length; ++x) {
                        var S = this.children[x],
                          T = S.chunkSize();
                        if (h <= T) {
                          if (
                            (S.insertInner(h, p, _),
                            S.lines && S.lines.length > 50)
                          ) {
                            for (
                              var k = (S.lines.length % 25) + 25, P = k;
                              P < S.lines.length;

                            ) {
                              var N = new Gs(S.lines.slice(P, (P += 25)));
                              (S.height -= N.height),
                                this.children.splice(++x, 0, N),
                                (N.parent = this);
                            }
                            (S.lines = S.lines.slice(0, k)), this.maybeSpill();
                          }
                          break;
                        }
                        h -= T;
                      }
                    },
                    maybeSpill: function () {
                      if (!(this.children.length <= 10)) {
                        var h = this;
                        do {
                          var p = new Ws(
                            h.children.splice(h.children.length - 5, 5)
                          );
                          if (h.parent) {
                            (h.size -= p.size), (h.height -= p.height);
                            var _ = Ne(h.parent.children, h);
                            h.parent.children.splice(_ + 1, 0, p);
                          } else {
                            var x = new Ws(h.children);
                            (x.parent = h), (h.children = [x, p]), (h = x);
                          }
                          p.parent = h.parent;
                        } while (h.children.length > 10);
                        h.parent.maybeSpill();
                      }
                    },
                    iterN: function (h, p, _) {
                      for (var x = 0; x < this.children.length; ++x) {
                        var S = this.children[x],
                          T = S.chunkSize();
                        if (h < T) {
                          var k = Math.min(p, T - h);
                          if (S.iterN(h, k, _)) return !0;
                          if (0 == (p -= k)) break;
                          h = 0;
                        } else h -= T;
                      }
                    },
                  });
                var Ru = function (h, p, _) {
                  if (_)
                    for (var x in _) _.hasOwnProperty(x) && (this[x] = _[x]);
                  (this.doc = h), (this.node = p);
                };
                function Vv(h, p, _) {
                  A(p) < ((h.curOp && h.curOp.scrollTop) || h.doc.scrollTop) &&
                    Ch(h, _);
                }
                (Ru.prototype.clear = function () {
                  var h = this.doc.cm,
                    p = this.line.widgets,
                    _ = this.line,
                    x = Kr(_);
                  if (null != x && p) {
                    for (var S = 0; S < p.length; ++S)
                      p[S] == this && p.splice(S--, 1);
                    p.length || (_.widgets = null);
                    var T = Ls(this);
                    Ln(_, Math.max(0, _.height - T)),
                      h &&
                        (pi(h, function () {
                          Vv(h, _, -T), Fn(h, x, 'widget');
                        }),
                        Ve(h, 'lineWidgetCleared', h, this, x));
                  }
                }),
                  (Ru.prototype.changed = function () {
                    var h = this,
                      p = this.height,
                      _ = this.doc.cm,
                      x = this.line;
                    this.height = null;
                    var S = Ls(this) - p;
                    S &&
                      (Ji(this.doc, x) || Ln(x, x.height + S),
                      _ &&
                        pi(_, function () {
                          (_.curOp.forceUpdate = !0),
                            Vv(_, x, S),
                            Ve(_, 'lineWidgetChanged', _, h, Kr(x));
                        }));
                  }),
                  Ge(Ru);
                var Hv = 0,
                  ts = function (h, p) {
                    (this.lines = []),
                      (this.type = p),
                      (this.doc = h),
                      (this.id = ++Hv);
                  };
                function $s(h, p, _, x, S) {
                  if (x && x.shared)
                    return (function (j, vt, at, Mt, Ft) {
                      (Mt = Oe(Mt)).shared = !1;
                      var St = [$s(j, vt, at, Mt, Ft)],
                        Yt = St[0],
                        le = Mt.widgetNode;
                      return (
                        Xn(j, function (Jt) {
                          le && (Mt.widgetNode = le.cloneNode(!0)),
                            St.push($s(Jt, mr(Jt, vt), mr(Jt, at), Mt, Ft));
                          for (var we = 0; we < Jt.linked.length; ++we)
                            if (Jt.linked[we].isParent) return;
                          Yt = U(St);
                        }),
                        new Qe(St, Yt)
                      );
                    })(h, p, _, x, S);
                  if (h.cm && !h.cm.curOp) return sn(h.cm, $s)(h, p, _, x, S);
                  var T = new ts(h, S),
                    k = pr(p, _);
                  if (
                    (x && Oe(x, T, !1),
                    k > 0 || (0 == k && !1 !== T.clearWhenEmpty))
                  )
                    return T;
                  if (
                    (T.replacedWith &&
                      ((T.collapsed = !0),
                      (T.widgetNode = nt(
                        'span',
                        [T.replacedWith],
                        'CodeMirror-widget'
                      )),
                      x.handleMouseEvents ||
                        T.widgetNode.setAttribute('cm-ignore-events', 'true'),
                      x.insertLeft && (T.widgetNode.insertLeft = !0)),
                    T.collapsed)
                  ) {
                    if (
                      gl(h, p.line, p, _, T) ||
                      (p.line != _.line && gl(h, _.line, p, _, T))
                    )
                      throw new Error(
                        'Inserting collapsed marker partially overlapping an existing one'
                      );
                    Ia = !0;
                  }
                  T.addToHistory &&
                    Rh(h, { from: p, to: _, origin: 'markText' }, h.sel, NaN);
                  var P,
                    N = p.line,
                    V = h.cm;
                  if (
                    (h.iter(N, _.line + 1, function (j) {
                      var vt, at, Mt, Ft;
                      V &&
                        T.collapsed &&
                        !V.options.lineWrapping &&
                        bi(j) == V.display.maxLine &&
                        (P = !0),
                        T.collapsed && N != p.line && Ln(j, 0),
                        (vt = j),
                        (at = new fi(
                          T,
                          N == p.line ? p.ch : null,
                          N == _.line ? _.ch : null
                        )),
                        (Ft =
                          (Mt = h.cm && h.cm.curOp) &&
                          window.WeakSet &&
                          (Mt.markedSpans ||
                            (Mt.markedSpans = new WeakSet()))) &&
                        vt.markedSpans &&
                        Ft.has(vt.markedSpans)
                          ? vt.markedSpans.push(at)
                          : ((vt.markedSpans = vt.markedSpans
                              ? vt.markedSpans.concat([at])
                              : [at]),
                            Ft && Ft.add(vt.markedSpans)),
                        at.marker.attachLine(vt),
                        ++N;
                    }),
                    T.collapsed &&
                      h.iter(p.line, _.line + 1, function (j) {
                        Ji(h, j) && Ln(j, 0);
                      }),
                    T.clearOnEnter &&
                      Rt(T, 'beforeCursorEnter', function () {
                        return T.clear();
                      }),
                    T.readOnly &&
                      ((As = !0),
                      (h.history.done.length || h.history.undone.length) &&
                        h.clearHistory()),
                    T.collapsed && ((T.id = ++Hv), (T.atomic = !0)),
                    V)
                  ) {
                    if ((P && (V.curOp.updateMaxLine = !0), T.collapsed))
                      Sn(V, p.line, _.line + 1);
                    else if (
                      T.className ||
                      T.startStyle ||
                      T.endStyle ||
                      T.css ||
                      T.attributes ||
                      T.title
                    )
                      for (var q = p.line; q <= _.line; q++) Fn(V, q, 'text');
                    T.atomic && Pa(V.doc), Ve(V, 'markerAdded', V, T);
                  }
                  return T;
                }
                (ts.prototype.clear = function () {
                  if (!this.explicitlyCleared) {
                    var h = this.doc.cm,
                      p = h && !h.curOp;
                    if ((p && Xo(h), Nt(this, 'clear'))) {
                      var _ = this.find();
                      _ && Ve(this, 'clear', _.from, _.to);
                    }
                    for (
                      var x = null, S = null, T = 0;
                      T < this.lines.length;
                      ++T
                    ) {
                      var k = this.lines[T],
                        P = Ga(k.markedSpans, this);
                      h && !this.collapsed
                        ? Fn(h, Kr(k), 'text')
                        : h &&
                          (null != P.to && (S = Kr(k)),
                          null != P.from && (x = Kr(k))),
                        (k.markedSpans = pl(k.markedSpans, P)),
                        null == P.from &&
                          this.collapsed &&
                          !Ji(this.doc, k) &&
                          h &&
                          Ln(k, Za(h.display));
                    }
                    if (h && this.collapsed && !h.options.lineWrapping)
                      for (var N = 0; N < this.lines.length; ++N) {
                        var V = bi(this.lines[N]),
                          q = R(V);
                        q > h.display.maxLineLength &&
                          ((h.display.maxLine = V),
                          (h.display.maxLineLength = q),
                          (h.display.maxLineChanged = !0));
                      }
                    null != x && h && this.collapsed && Sn(h, x, S + 1),
                      (this.lines.length = 0),
                      (this.explicitlyCleared = !0),
                      this.atomic &&
                        this.doc.cantEdit &&
                        ((this.doc.cantEdit = !1), h && Pa(h.doc)),
                      h && Ve(h, 'markerCleared', h, this, x, S),
                      p && Zo(h),
                      this.parent && this.parent.clear();
                  }
                }),
                  (ts.prototype.find = function (h, p) {
                    var _, x;
                    null == h && 'bookmark' == this.type && (h = 1);
                    for (var S = 0; S < this.lines.length; ++S) {
                      var T = this.lines[S],
                        k = Ga(T.markedSpans, this);
                      if (
                        null != k.from &&
                        ((_ = Se(p ? T : Kr(T), k.from)), -1 == h)
                      )
                        return _;
                      if (
                        null != k.to &&
                        ((x = Se(p ? T : Kr(T), k.to)), 1 == h)
                      )
                        return x;
                    }
                    return _ && { from: _, to: x };
                  }),
                  (ts.prototype.changed = function () {
                    var h = this,
                      p = this.find(-1, !0),
                      _ = this,
                      x = this.doc.cm;
                    p &&
                      x &&
                      pi(x, function () {
                        var S = p.line,
                          T = Kr(p.line),
                          k = qc(x, T);
                        if (
                          (k &&
                            (kn(k),
                            (x.curOp.selectionChanged = x.curOp.forceUpdate =
                              !0)),
                          (x.curOp.updateMaxLine = !0),
                          !Ji(_.doc, S) && null != _.height)
                        ) {
                          var P = _.height;
                          _.height = null;
                          var N = Ls(_) - P;
                          N && Ln(S, S.height + N);
                        }
                        Ve(x, 'markerChanged', x, h);
                      });
                  }),
                  (ts.prototype.attachLine = function (h) {
                    if (!this.lines.length && this.doc.cm) {
                      var p = this.doc.cm.curOp;
                      (p.maybeHiddenMarkers &&
                        -1 != Ne(p.maybeHiddenMarkers, this)) ||
                        (
                          p.maybeUnhiddenMarkers ||
                          (p.maybeUnhiddenMarkers = [])
                        ).push(this);
                    }
                    this.lines.push(h);
                  }),
                  (ts.prototype.detachLine = function (h) {
                    if (
                      (this.lines.splice(Ne(this.lines, h), 1),
                      !this.lines.length && this.doc.cm)
                    ) {
                      var p = this.doc.cm.curOp;
                      (
                        p.maybeHiddenMarkers || (p.maybeHiddenMarkers = [])
                      ).push(this);
                    }
                  }),
                  Ge(ts);
                var Qe = function (h, p) {
                  (this.markers = h), (this.primary = p);
                  for (var _ = 0; _ < h.length; ++_) h[_].parent = this;
                };
                function Pl(h) {
                  return h.findMarks(
                    Se(h.first, 0),
                    h.clipPos(Se(h.lastLine())),
                    function (p) {
                      return p.parent;
                    }
                  );
                }
                function Us(h) {
                  for (
                    var p = function (x) {
                        var S = h[x],
                          T = [S.primary.doc];
                        Xn(S.primary.doc, function (N) {
                          return T.push(N);
                        });
                        for (var k = 0; k < S.markers.length; k++) {
                          var P = S.markers[k];
                          -1 == Ne(T, P.doc) &&
                            ((P.parent = null), S.markers.splice(k--, 1));
                        }
                      },
                      _ = 0;
                    _ < h.length;
                    _++
                  )
                    p(_);
                }
                (Qe.prototype.clear = function () {
                  if (!this.explicitlyCleared) {
                    this.explicitlyCleared = !0;
                    for (var h = 0; h < this.markers.length; ++h)
                      this.markers[h].clear();
                    Ve(this, 'clear');
                  }
                }),
                  (Qe.prototype.find = function (h, p) {
                    return this.primary.find(h, p);
                  }),
                  Ge(Qe);
                var Nm = 0,
                  _i = function (h, p, _, x, S) {
                    if (!(this instanceof _i)) return new _i(h, p, _, x, S);
                    null == _ && (_ = 0),
                      Ws.call(this, [new Gs([new Z('', null)])]),
                      (this.first = _),
                      (this.scrollTop = this.scrollLeft = 0),
                      (this.cantEdit = !1),
                      (this.cleanGeneration = 1),
                      (this.modeFrontier = this.highlightFrontier = _);
                    var T = Se(_, 0);
                    (this.sel = Ka(T)),
                      (this.history = new of(null)),
                      (this.id = ++Nm),
                      (this.modeOption = p),
                      (this.lineSep = x),
                      (this.direction = 'rtl' == S ? 'rtl' : 'ltr'),
                      (this.extend = !1),
                      'string' == typeof h && (h = this.splitLines(h)),
                      Ph(this, { from: T, to: T, text: h }),
                      Nn(this, Ka(T), kt);
                  };
                (_i.prototype = Q(Ws.prototype, {
                  constructor: _i,
                  iter: function (h, p, _) {
                    _
                      ? this.iterN(h - this.first, p - h, _)
                      : this.iterN(this.first, this.first + this.size, h);
                  },
                  insert: function (h, p) {
                    for (var _ = 0, x = 0; x < p.length; ++x) _ += p[x].height;
                    this.insertInner(h - this.first, p, _);
                  },
                  remove: function (h, p) {
                    this.removeInner(h - this.first, p);
                  },
                  getValue: function (h) {
                    var p = Mi(this, this.first, this.first + this.size);
                    return !1 === h ? p : p.join(h || this.lineSeparator());
                  },
                  setValue: Bn(function (h) {
                    var p = Se(this.first, 0),
                      _ = this.first + this.size - 1;
                    Ra(
                      this,
                      {
                        from: p,
                        to: Se(_, Je(this, _).text.length),
                        text: this.splitLines(h),
                        origin: 'setValue',
                        full: !0,
                      },
                      !0
                    ),
                      this.cm && Uo(this.cm, 0, 0),
                      Nn(this, Ka(p), kt);
                  }),
                  replaceRange: function (h, p, _, x) {
                    Qo(
                      this,
                      h,
                      (p = mr(this, p)),
                      (_ = _ ? mr(this, _) : p),
                      x
                    );
                  },
                  getRange: function (h, p, _) {
                    var x = dn(this, mr(this, h), mr(this, p));
                    return !1 === _
                      ? x
                      : x.join('' === _ ? '' : _ || this.lineSeparator());
                  },
                  getLine: function (h) {
                    var p = this.getLineHandle(h);
                    return p && p.text;
                  },
                  getLineHandle: function (h) {
                    if (Go(this, h)) return Je(this, h);
                  },
                  getLineNumber: function (h) {
                    return Kr(h);
                  },
                  getLineHandleVisualStart: function (h) {
                    return 'number' == typeof h && (h = Je(this, h)), bi(h);
                  },
                  lineCount: function () {
                    return this.size;
                  },
                  firstLine: function () {
                    return this.first;
                  },
                  lastLine: function () {
                    return this.first + this.size - 1;
                  },
                  clipPos: function (h) {
                    return mr(this, h);
                  },
                  getCursor: function (h) {
                    var p = this.sel.primary();
                    return null == h || 'head' == h
                      ? p.head
                      : 'anchor' == h
                      ? p.anchor
                      : 'end' == h || 'to' == h || !1 === h
                      ? p.to()
                      : p.from();
                  },
                  listSelections: function () {
                    return this.sel.ranges;
                  },
                  somethingSelected: function () {
                    return this.sel.somethingSelected();
                  },
                  setCursor: Bn(function (h, p, _) {
                    Ko(
                      this,
                      mr(this, 'number' == typeof h ? Se(h, p || 0) : h),
                      null,
                      _
                    );
                  }),
                  setSelection: Bn(function (h, p, _) {
                    Ko(this, mr(this, h), mr(this, p || h), _);
                  }),
                  extendSelection: Bn(function (h, p, _) {
                    ku(this, mr(this, h), p && mr(this, p), _);
                  }),
                  extendSelections: Bn(function (h, p) {
                    Bh(this, Ii(this, h), p);
                  }),
                  extendSelectionsBy: Bn(function (h, p) {
                    Bh(this, Ii(this, Y(this.sel.ranges, h)), p);
                  }),
                  setSelections: Bn(function (h, p, _) {
                    if (h.length) {
                      for (var x = [], S = 0; S < h.length; S++)
                        x[S] = new Qr(
                          mr(this, h[S].anchor),
                          mr(this, h[S].head || h[S].anchor)
                        );
                      null == p &&
                        (p = Math.min(h.length - 1, this.sel.primIndex)),
                        Nn(this, aa(this.cm, x, p), _);
                    }
                  }),
                  addSelection: Bn(function (h, p, _) {
                    var x = this.sel.ranges.slice(0);
                    x.push(new Qr(mr(this, h), mr(this, p || h))),
                      Nn(this, aa(this.cm, x, x.length - 1), _);
                  }),
                  getSelection: function (h) {
                    for (var p, _ = this.sel.ranges, x = 0; x < _.length; x++) {
                      var S = dn(this, _[x].from(), _[x].to());
                      p = p ? p.concat(S) : S;
                    }
                    return !1 === h ? p : p.join(h || this.lineSeparator());
                  },
                  getSelections: function (h) {
                    for (
                      var p = [], _ = this.sel.ranges, x = 0;
                      x < _.length;
                      x++
                    ) {
                      var S = dn(this, _[x].from(), _[x].to());
                      !1 !== h && (S = S.join(h || this.lineSeparator())),
                        (p[x] = S);
                    }
                    return p;
                  },
                  replaceSelection: function (h, p, _) {
                    for (var x = [], S = 0; S < this.sel.ranges.length; S++)
                      x[S] = h;
                    this.replaceSelections(x, p, _ || '+input');
                  },
                  replaceSelections: Bn(function (h, p, _) {
                    for (
                      var x = [], S = this.sel, T = 0;
                      T < S.ranges.length;
                      T++
                    ) {
                      var k = S.ranges[T];
                      x[T] = {
                        from: k.from(),
                        to: k.to(),
                        text: this.splitLines(h[T]),
                        origin: _,
                      };
                    }
                    for (
                      var P =
                          p &&
                          'end' != p &&
                          (function (V, q, j) {
                            for (
                              var vt = [], at = Se(V.first, 0), Mt = at, Ft = 0;
                              Ft < q.length;
                              Ft++
                            ) {
                              var St = q[Ft],
                                Yt = Fv(St.from, at, Mt),
                                le = Fv(Ao(St), at, Mt);
                              if (((at = St.to), (Mt = le), 'around' == j)) {
                                var Jt = V.sel.ranges[Ft],
                                  we = pr(Jt.head, Jt.anchor) < 0;
                                vt[Ft] = new Qr(we ? le : Yt, we ? Yt : le);
                              } else vt[Ft] = new Qr(Yt, Yt);
                            }
                            return new ia(vt, V.sel.primIndex);
                          })(this, x, p),
                        N = x.length - 1;
                      N >= 0;
                      N--
                    )
                      Ra(this, x[N]);
                    P ? Ns(this, P) : this.cm && wl(this.cm);
                  }),
                  undo: Bn(function () {
                    Ni(this, 'undo');
                  }),
                  redo: Bn(function () {
                    Ni(this, 'redo');
                  }),
                  undoSelection: Bn(function () {
                    Ni(this, 'undo', !0);
                  }),
                  redoSelection: Bn(function () {
                    Ni(this, 'redo', !0);
                  }),
                  setExtending: function (h) {
                    this.extend = h;
                  },
                  getExtending: function () {
                    return this.extend;
                  },
                  historySize: function () {
                    for (
                      var h = this.history, p = 0, _ = 0, x = 0;
                      x < h.done.length;
                      x++
                    )
                      h.done[x].ranges || ++p;
                    for (var S = 0; S < h.undone.length; S++)
                      h.undone[S].ranges || ++_;
                    return { undo: p, redo: _ };
                  },
                  clearHistory: function () {
                    var h = this;
                    (this.history = new of(this.history)),
                      Xn(
                        this,
                        function (p) {
                          return (p.history = h.history);
                        },
                        !0
                      );
                  },
                  markClean: function () {
                    this.cleanGeneration = this.changeGeneration(!0);
                  },
                  changeGeneration: function (h) {
                    return (
                      h &&
                        (this.history.lastOp =
                          this.history.lastSelOp =
                          this.history.lastOrigin =
                            null),
                      this.history.generation
                    );
                  },
                  isClean: function (h) {
                    return (
                      this.history.generation == (h || this.cleanGeneration)
                    );
                  },
                  getHistory: function () {
                    return {
                      done: jo(this.history.done),
                      undone: jo(this.history.undone),
                    };
                  },
                  setHistory: function (h) {
                    var p = (this.history = new of(this.history));
                    (p.done = jo(h.done.slice(0), null, !0)),
                      (p.undone = jo(h.undone.slice(0), null, !0));
                  },
                  setGutterMarker: Bn(function (h, p, _) {
                    return Jo(this, h, 'gutter', function (x) {
                      var S = x.gutterMarkers || (x.gutterMarkers = {});
                      return (
                        (S[p] = _), !_ && Me(S) && (x.gutterMarkers = null), !0
                      );
                    });
                  }),
                  clearGutter: Bn(function (h) {
                    var p = this;
                    this.iter(function (_) {
                      _.gutterMarkers &&
                        _.gutterMarkers[h] &&
                        Jo(p, _, 'gutter', function () {
                          return (
                            (_.gutterMarkers[h] = null),
                            Me(_.gutterMarkers) && (_.gutterMarkers = null),
                            !0
                          );
                        });
                    });
                  }),
                  lineInfo: function (h) {
                    var p;
                    if ('number' == typeof h) {
                      if (!(Go(this, h) && ((p = h), (h = Je(this, h)))))
                        return null;
                    } else if (null == (p = Kr(h))) return null;
                    return {
                      line: p,
                      handle: h,
                      text: h.text,
                      gutterMarkers: h.gutterMarkers,
                      textClass: h.textClass,
                      bgClass: h.bgClass,
                      wrapClass: h.wrapClass,
                      widgets: h.widgets,
                    };
                  },
                  addLineClass: Bn(function (h, p, _) {
                    return Jo(
                      this,
                      h,
                      'gutter' == p ? 'gutter' : 'class',
                      function (x) {
                        var S =
                          'text' == p
                            ? 'textClass'
                            : 'background' == p
                            ? 'bgClass'
                            : 'gutter' == p
                            ? 'gutterClass'
                            : 'wrapClass';
                        if (x[S]) {
                          if (Ae(_).test(x[S])) return !1;
                          x[S] += ' ' + _;
                        } else x[S] = _;
                        return !0;
                      }
                    );
                  }),
                  removeLineClass: Bn(function (h, p, _) {
                    return Jo(
                      this,
                      h,
                      'gutter' == p ? 'gutter' : 'class',
                      function (x) {
                        var S =
                            'text' == p
                              ? 'textClass'
                              : 'background' == p
                              ? 'bgClass'
                              : 'gutter' == p
                              ? 'gutterClass'
                              : 'wrapClass',
                          T = x[S];
                        if (!T) return !1;
                        if (null == _) x[S] = null;
                        else {
                          var k = T.match(Ae(_));
                          if (!k) return !1;
                          var P = k.index + k[0].length;
                          x[S] =
                            T.slice(0, k.index) +
                              (k.index && P != T.length ? ' ' : '') +
                              T.slice(P) || null;
                        }
                        return !0;
                      }
                    );
                  }),
                  addLineWidget: Bn(function (h, p, _) {
                    return (
                      (S = h),
                      (P = new Ru((x = this), p, _)),
                      (N = x.cm) &&
                        P.noHScroll &&
                        (N.display.alignWidgets = !0),
                      Jo(x, S, 'widget', function (V) {
                        var q = V.widgets || (V.widgets = []);
                        if (
                          (null == P.insertAt
                            ? q.push(P)
                            : q.splice(
                                Math.min(q.length, Math.max(0, P.insertAt)),
                                0,
                                P
                              ),
                          (P.line = V),
                          N && !Ji(x, V))
                        ) {
                          var j = A(V) < x.scrollTop;
                          Ln(V, V.height + Ls(P)),
                            j && Ch(N, P.height),
                            (N.curOp.forceUpdate = !0);
                        }
                        return !0;
                      }),
                      N &&
                        Ve(
                          N,
                          'lineWidgetAdded',
                          N,
                          P,
                          'number' == typeof S ? S : Kr(S)
                        ),
                      P
                    );
                    var x, S, P, N;
                  }),
                  removeLineWidget: function (h) {
                    h.clear();
                  },
                  markText: function (h, p, _) {
                    return $s(
                      this,
                      mr(this, h),
                      mr(this, p),
                      _,
                      (_ && _.type) || 'range'
                    );
                  },
                  setBookmark: function (h, p) {
                    var _ = {
                      replacedWith: p && (null == p.nodeType ? p.widget : p),
                      insertLeft: p && p.insertLeft,
                      clearWhenEmpty: !1,
                      shared: p && p.shared,
                      handleMouseEvents: p && p.handleMouseEvents,
                    };
                    return $s(this, (h = mr(this, h)), h, _, 'bookmark');
                  },
                  findMarksAt: function (h) {
                    var p = [],
                      _ = Je(this, (h = mr(this, h)).line).markedSpans;
                    if (_)
                      for (var x = 0; x < _.length; ++x) {
                        var S = _[x];
                        (null == S.from || S.from <= h.ch) &&
                          (null == S.to || S.to >= h.ch) &&
                          p.push(S.marker.parent || S.marker);
                      }
                    return p;
                  },
                  findMarks: function (h, p, _) {
                    (h = mr(this, h)), (p = mr(this, p));
                    var x = [],
                      S = h.line;
                    return (
                      this.iter(h.line, p.line + 1, function (T) {
                        var k = T.markedSpans;
                        if (k)
                          for (var P = 0; P < k.length; P++) {
                            var N = k[P];
                            (null != N.to && S == h.line && h.ch >= N.to) ||
                              (null == N.from && S != h.line) ||
                              (null != N.from &&
                                S == p.line &&
                                N.from >= p.ch) ||
                              (_ && !_(N.marker)) ||
                              x.push(N.marker.parent || N.marker);
                          }
                        ++S;
                      }),
                      x
                    );
                  },
                  getAllMarks: function () {
                    var h = [];
                    return (
                      this.iter(function (p) {
                        var _ = p.markedSpans;
                        if (_)
                          for (var x = 0; x < _.length; ++x)
                            null != _[x].from && h.push(_[x].marker);
                      }),
                      h
                    );
                  },
                  posFromIndex: function (h) {
                    var p,
                      _ = this.first,
                      x = this.lineSeparator().length;
                    return (
                      this.iter(function (S) {
                        var T = S.text.length + x;
                        if (T > h) return (p = h), !0;
                        (h -= T), ++_;
                      }),
                      mr(this, Se(_, p))
                    );
                  },
                  indexFromPos: function (h) {
                    var p = (h = mr(this, h)).ch;
                    if (h.line < this.first || h.ch < 0) return 0;
                    var _ = this.lineSeparator().length;
                    return (
                      this.iter(this.first, h.line, function (x) {
                        p += x.text.length + _;
                      }),
                      p
                    );
                  },
                  copy: function (h) {
                    var p = new _i(
                      Mi(this, this.first, this.first + this.size),
                      this.modeOption,
                      this.first,
                      this.lineSep,
                      this.direction
                    );
                    return (
                      (p.scrollTop = this.scrollTop),
                      (p.scrollLeft = this.scrollLeft),
                      (p.sel = this.sel),
                      (p.extend = !1),
                      h &&
                        ((p.history.undoDepth = this.history.undoDepth),
                        p.setHistory(this.getHistory())),
                      p
                    );
                  },
                  linkedDoc: function (h) {
                    h || (h = {});
                    var p = this.first,
                      _ = this.first + this.size;
                    null != h.from && h.from > p && (p = h.from),
                      null != h.to && h.to < _ && (_ = h.to);
                    var x = new _i(
                      Mi(this, p, _),
                      h.mode || this.modeOption,
                      p,
                      this.lineSep,
                      this.direction
                    );
                    return (
                      h.sharedHist && (x.history = this.history),
                      (this.linked || (this.linked = [])).push({
                        doc: x,
                        sharedHist: h.sharedHist,
                      }),
                      (x.linked = [
                        { doc: this, isParent: !0, sharedHist: h.sharedHist },
                      ]),
                      (function (S, T) {
                        for (var k = 0; k < T.length; k++) {
                          var P = T[k],
                            N = P.find(),
                            V = S.clipPos(N.from),
                            q = S.clipPos(N.to);
                          if (pr(V, q)) {
                            var j = $s(S, V, q, P.primary, P.primary.type);
                            P.markers.push(j), (j.parent = P);
                          }
                        }
                      })(x, Pl(this)),
                      x
                    );
                  },
                  unlinkDoc: function (h) {
                    if ((h instanceof vn && (h = h.doc), this.linked))
                      for (var p = 0; p < this.linked.length; ++p)
                        if (this.linked[p].doc == h) {
                          this.linked.splice(p, 1),
                            h.unlinkDoc(this),
                            Us(Pl(this));
                          break;
                        }
                    if (h.history == this.history) {
                      var _ = [h.id];
                      Xn(
                        h,
                        function (x) {
                          return _.push(x.id);
                        },
                        !0
                      ),
                        (h.history = new of(null)),
                        (h.history.done = jo(this.history.done, _)),
                        (h.history.undone = jo(this.history.undone, _));
                    }
                  },
                  iterLinkedDocs: function (h) {
                    Xn(this, h);
                  },
                  getMode: function () {
                    return this.mode;
                  },
                  getEditor: function () {
                    return this.cm;
                  },
                  splitLines: function (h) {
                    return this.lineSep ? h.split(this.lineSep) : Nr(h);
                  },
                  lineSeparator: function () {
                    return this.lineSep || '\n';
                  },
                  setDirection: Bn(function (h) {
                    var p;
                    'rtl' != h && (h = 'ltr'),
                      h != this.direction &&
                        ((this.direction = h),
                        this.iter(function (_) {
                          return (_.order = null);
                        }),
                        this.cm &&
                          pi((p = this.cm), function () {
                            Bv(p), Sn(p);
                          }));
                  }),
                })),
                  (_i.prototype.eachLine = _i.prototype.iter);
                var Gv = 0;
                function Vh(h) {
                  var p = this;
                  if ((Wv(p), !ze(p, h) && !Ua(p.display, h))) {
                    $e(h), ct && (Gv = +new Date());
                    var _ = ra(p, h, !0),
                      x = h.dataTransfer.files;
                    if (_ && !p.isReadOnly())
                      if (x && x.length && window.FileReader && window.File)
                        for (
                          var S = x.length,
                            T = Array(S),
                            k = 0,
                            P = function () {
                              ++k == S &&
                                sn(p, function () {
                                  var at = {
                                    from: (_ = mr(p.doc, _)),
                                    to: _,
                                    text: p.doc.splitLines(
                                      T.filter(function (Mt) {
                                        return null != Mt;
                                      }).join(p.doc.lineSeparator())
                                    ),
                                    origin: 'paste',
                                  };
                                  Ra(p.doc, at),
                                    Ns(
                                      p.doc,
                                      Ka(mr(p.doc, _), mr(p.doc, Ao(at)))
                                    );
                                })();
                            },
                            N = function (at, Mt) {
                              if (
                                p.options.allowDropFileTypes &&
                                -1 == Ne(p.options.allowDropFileTypes, at.type)
                              )
                                P();
                              else {
                                var Ft = new FileReader();
                                (Ft.onerror = function () {
                                  return P();
                                }),
                                  (Ft.onload = function () {
                                    var St = Ft.result;
                                    /[\x00-\x08\x0e-\x1f]{2}/.test(St) ||
                                      (T[Mt] = St),
                                      P();
                                  }),
                                  Ft.readAsText(at);
                              }
                            },
                            V = 0;
                          V < x.length;
                          V++
                        )
                          N(x[V], V);
                      else {
                        if (p.state.draggingText && p.doc.sel.contains(_) > -1)
                          return (
                            p.state.draggingText(h),
                            void setTimeout(function () {
                              return p.display.input.focus();
                            }, 20)
                          );
                        try {
                          var q = h.dataTransfer.getData('Text');
                          if (q) {
                            var j;
                            if (
                              (p.state.draggingText &&
                                !p.state.draggingText.copy &&
                                (j = p.listSelections()),
                              Il(p.doc, Ka(_, _)),
                              j)
                            )
                              for (var vt = 0; vt < j.length; ++vt)
                                Qo(p.doc, '', j[vt].anchor, j[vt].head, 'drag');
                            p.replaceSelection(q, 'around', 'paste'),
                              p.display.input.focus();
                          }
                        } catch {}
                      }
                  }
                }
                function Wv(h) {
                  h.display.dragCursor &&
                    (h.display.lineSpace.removeChild(h.display.dragCursor),
                    (h.display.dragCursor = null));
                }
                function $v(h) {
                  if (document.getElementsByClassName) {
                    for (
                      var p = document.getElementsByClassName('CodeMirror'),
                        _ = [],
                        x = 0;
                      x < p.length;
                      x++
                    ) {
                      var S = p[x].CodeMirror;
                      S && _.push(S);
                    }
                    _.length &&
                      _[0].operation(function () {
                        for (var T = 0; T < _.length; T++) h(_[T]);
                      });
                  }
                }
                var Uv = !1;
                function zm(h) {
                  var p = h.display;
                  (p.cachedCharWidth =
                    p.cachedTextHeight =
                    p.cachedPaddingH =
                      null),
                    (p.scrollbarsClipped = !1),
                    h.setSize();
                }
                for (
                  var es = {
                      3: 'Pause',
                      8: 'Backspace',
                      9: 'Tab',
                      13: 'Enter',
                      16: 'Shift',
                      17: 'Ctrl',
                      18: 'Alt',
                      19: 'Pause',
                      20: 'CapsLock',
                      27: 'Esc',
                      32: 'Space',
                      33: 'PageUp',
                      34: 'PageDown',
                      35: 'End',
                      36: 'Home',
                      37: 'Left',
                      38: 'Up',
                      39: 'Right',
                      40: 'Down',
                      44: 'PrintScrn',
                      45: 'Insert',
                      46: 'Delete',
                      59: ';',
                      61: '=',
                      91: 'Mod',
                      92: 'Mod',
                      93: 'Mod',
                      106: '*',
                      107: '=',
                      109: '-',
                      110: '.',
                      111: '/',
                      145: 'ScrollLock',
                      173: '-',
                      186: ';',
                      187: '=',
                      188: ',',
                      189: '-',
                      190: '.',
                      191: '/',
                      192: '`',
                      219: '[',
                      220: '\\',
                      221: ']',
                      222: "'",
                      224: 'Mod',
                      63232: 'Up',
                      63233: 'Down',
                      63234: 'Left',
                      63235: 'Right',
                      63272: 'Delete',
                      63273: 'Home',
                      63275: 'End',
                      63276: 'PageUp',
                      63277: 'PageDown',
                      63302: 'Insert',
                    },
                    Rl = 0;
                  Rl < 10;
                  Rl++
                )
                  es[Rl + 48] = es[Rl + 96] = String(Rl);
                for (var Ou = 65; Ou <= 90; Ou++)
                  es[Ou] = String.fromCharCode(Ou);
                for (var Fu = 1; Fu <= 12; Fu++)
                  es[Fu + 111] = es[Fu + 63235] = 'F' + Fu;
                var kr = {};
                function Te(h) {
                  var p,
                    _,
                    x,
                    S,
                    T = h.split(/-(?!$)/);
                  h = T[T.length - 1];
                  for (var k = 0; k < T.length - 1; k++) {
                    var P = T[k];
                    if (/^(cmd|meta|m)$/i.test(P)) S = !0;
                    else if (/^a(lt)?$/i.test(P)) p = !0;
                    else if (/^(c|ctrl|control)$/i.test(P)) _ = !0;
                    else {
                      if (!/^s(hift)?$/i.test(P))
                        throw new Error('Unrecognized modifier name: ' + P);
                      x = !0;
                    }
                  }
                  return (
                    p && (h = 'Alt-' + h),
                    _ && (h = 'Ctrl-' + h),
                    S && (h = 'Cmd-' + h),
                    x && (h = 'Shift-' + h),
                    h
                  );
                }
                function yn(h) {
                  var p = {};
                  for (var _ in h)
                    if (h.hasOwnProperty(_)) {
                      var x = h[_];
                      if (/^(name|fallthrough|(de|at)tach)$/.test(_)) continue;
                      if ('...' == x) {
                        delete h[_];
                        continue;
                      }
                      for (
                        var S = Y(_.split(' '), Te), T = 0;
                        T < S.length;
                        T++
                      ) {
                        var k = void 0,
                          P = void 0;
                        T == S.length - 1
                          ? ((P = S.join(' ')), (k = x))
                          : ((P = S.slice(0, T + 1).join(' ')), (k = '...'));
                        var N = p[P];
                        if (N) {
                          if (N != k)
                            throw new Error('Inconsistent bindings for ' + P);
                        } else p[P] = k;
                      }
                      delete h[_];
                    }
                  for (var V in p) h[V] = p[V];
                  return h;
                }
                function Zn(h, p, _, x) {
                  var S = (p = cf(p)).call ? p.call(h, x) : p[h];
                  if (!1 === S) return 'nothing';
                  if ('...' === S) return 'multi';
                  if (null != S && _(S)) return 'handled';
                  if (p.fallthrough) {
                    if (
                      '[object Array]' !=
                      Object.prototype.toString.call(p.fallthrough)
                    )
                      return Zn(h, p.fallthrough, _, x);
                    for (var T = 0; T < p.fallthrough.length; T++) {
                      var k = Zn(h, p.fallthrough[T], _, x);
                      if (k) return k;
                    }
                  }
                }
                function xa(h) {
                  var p = 'string' == typeof h ? h : es[h.keyCode];
                  return (
                    'Ctrl' == p || 'Alt' == p || 'Shift' == p || 'Mod' == p
                  );
                }
                function Bu(h, p, _) {
                  var x = h;
                  return (
                    p.altKey && 'Alt' != x && (h = 'Alt-' + h),
                    (Re ? p.metaKey : p.ctrlKey) &&
                      'Ctrl' != x &&
                      (h = 'Ctrl-' + h),
                    (Re ? p.ctrlKey : p.metaKey) &&
                      'Mod' != x &&
                      (h = 'Cmd-' + h),
                    !_ && p.shiftKey && 'Shift' != x && (h = 'Shift-' + h),
                    h
                  );
                }
                function uf(h, p) {
                  if (Zt && 34 == h.keyCode && h.char) return !1;
                  var _ = es[h.keyCode];
                  return (
                    null != _ &&
                    !h.altGraphKey &&
                    (3 == h.keyCode && h.code && (_ = h.code), Bu(_, h, p))
                  );
                }
                function cf(h) {
                  return 'string' == typeof h ? kr[h] : h;
                }
                function Ys(h, p) {
                  for (
                    var _ = h.doc.sel.ranges, x = [], S = 0;
                    S < _.length;
                    S++
                  ) {
                    for (
                      var T = p(_[S]);
                      x.length && pr(T.from, U(x).to) <= 0;

                    ) {
                      var k = x.pop();
                      if (pr(k.from, T.from) < 0) {
                        T.from = k.from;
                        break;
                      }
                    }
                    x.push(T);
                  }
                  pi(h, function () {
                    for (var P = x.length - 1; P >= 0; P--)
                      Qo(h.doc, '', x[P].from, x[P].to, '+delete');
                    wl(h);
                  });
                }
                function Hh(h, p, _) {
                  var x = B(h.text, p + _, _);
                  return x < 0 || x > h.text.length ? null : x;
                }
                function Nu(h, p, _) {
                  var x = Hh(h, p.ch, _);
                  return null == x
                    ? null
                    : new Se(p.line, x, _ < 0 ? 'after' : 'before');
                }
                function zu(h, p, _, x, S) {
                  if (h) {
                    'rtl' == p.doc.direction && (S = -S);
                    var T = Et(_, p.doc.direction);
                    if (T) {
                      var k,
                        P = S < 0 ? U(T) : T[0],
                        N = S < 0 == (1 == P.level) ? 'after' : 'before';
                      if (P.level > 0 || 'rtl' == p.doc.direction) {
                        var V = _o(p, _),
                          q = Rn(p, V, (k = S < 0 ? _.text.length - 1 : 0)).top;
                        (k = J(
                          function (j) {
                            return Rn(p, V, j).top == q;
                          },
                          S < 0 == (1 == P.level) ? P.from : P.to - 1,
                          k
                        )),
                          'before' == N && (k = Hh(_, k, 1));
                      } else k = S < 0 ? P.to : P.from;
                      return new Se(x, k, N);
                    }
                  }
                  return new Se(
                    x,
                    S < 0 ? _.text.length : 0,
                    S < 0 ? 'before' : 'after'
                  );
                }
                (kr.basic = {
                  Left: 'goCharLeft',
                  Right: 'goCharRight',
                  Up: 'goLineUp',
                  Down: 'goLineDown',
                  End: 'goLineEnd',
                  Home: 'goLineStartSmart',
                  PageUp: 'goPageUp',
                  PageDown: 'goPageDown',
                  Delete: 'delCharAfter',
                  Backspace: 'delCharBefore',
                  'Shift-Backspace': 'delCharBefore',
                  Tab: 'defaultTab',
                  'Shift-Tab': 'indentAuto',
                  Enter: 'newlineAndIndent',
                  Insert: 'toggleOverwrite',
                  Esc: 'singleSelection',
                }),
                  (kr.pcDefault = {
                    'Ctrl-A': 'selectAll',
                    'Ctrl-D': 'deleteLine',
                    'Ctrl-Z': 'undo',
                    'Shift-Ctrl-Z': 'redo',
                    'Ctrl-Y': 'redo',
                    'Ctrl-Home': 'goDocStart',
                    'Ctrl-End': 'goDocEnd',
                    'Ctrl-Up': 'goLineUp',
                    'Ctrl-Down': 'goLineDown',
                    'Ctrl-Left': 'goGroupLeft',
                    'Ctrl-Right': 'goGroupRight',
                    'Alt-Left': 'goLineStart',
                    'Alt-Right': 'goLineEnd',
                    'Ctrl-Backspace': 'delGroupBefore',
                    'Ctrl-Delete': 'delGroupAfter',
                    'Ctrl-S': 'save',
                    'Ctrl-F': 'find',
                    'Ctrl-G': 'findNext',
                    'Shift-Ctrl-G': 'findPrev',
                    'Shift-Ctrl-F': 'replace',
                    'Shift-Ctrl-R': 'replaceAll',
                    'Ctrl-[': 'indentLess',
                    'Ctrl-]': 'indentMore',
                    'Ctrl-U': 'undoSelection',
                    'Shift-Ctrl-U': 'redoSelection',
                    'Alt-U': 'redoSelection',
                    fallthrough: 'basic',
                  }),
                  (kr.emacsy = {
                    'Ctrl-F': 'goCharRight',
                    'Ctrl-B': 'goCharLeft',
                    'Ctrl-P': 'goLineUp',
                    'Ctrl-N': 'goLineDown',
                    'Ctrl-A': 'goLineStart',
                    'Ctrl-E': 'goLineEnd',
                    'Ctrl-V': 'goPageDown',
                    'Shift-Ctrl-V': 'goPageUp',
                    'Ctrl-D': 'delCharAfter',
                    'Ctrl-H': 'delCharBefore',
                    'Alt-Backspace': 'delWordBefore',
                    'Ctrl-K': 'killLine',
                    'Ctrl-T': 'transposeChars',
                    'Ctrl-O': 'openLine',
                  }),
                  (kr.macDefault = {
                    'Cmd-A': 'selectAll',
                    'Cmd-D': 'deleteLine',
                    'Cmd-Z': 'undo',
                    'Shift-Cmd-Z': 'redo',
                    'Cmd-Y': 'redo',
                    'Cmd-Home': 'goDocStart',
                    'Cmd-Up': 'goDocStart',
                    'Cmd-End': 'goDocEnd',
                    'Cmd-Down': 'goDocEnd',
                    'Alt-Left': 'goGroupLeft',
                    'Alt-Right': 'goGroupRight',
                    'Cmd-Left': 'goLineLeft',
                    'Cmd-Right': 'goLineRight',
                    'Alt-Backspace': 'delGroupBefore',
                    'Ctrl-Alt-Backspace': 'delGroupAfter',
                    'Alt-Delete': 'delGroupAfter',
                    'Cmd-S': 'save',
                    'Cmd-F': 'find',
                    'Cmd-G': 'findNext',
                    'Shift-Cmd-G': 'findPrev',
                    'Cmd-Alt-F': 'replace',
                    'Shift-Cmd-Alt-F': 'replaceAll',
                    'Cmd-[': 'indentLess',
                    'Cmd-]': 'indentMore',
                    'Cmd-Backspace': 'delWrappedLineLeft',
                    'Cmd-Delete': 'delWrappedLineRight',
                    'Cmd-U': 'undoSelection',
                    'Shift-Cmd-U': 'redoSelection',
                    'Ctrl-Up': 'goDocStart',
                    'Ctrl-Down': 'goDocEnd',
                    fallthrough: ['basic', 'emacsy'],
                  }),
                  (kr.default = Kt ? kr.macDefault : kr.pcDefault);
                var Lo = {
                  selectAll: kl,
                  singleSelection: function (h) {
                    return h.setSelection(
                      h.getCursor('anchor'),
                      h.getCursor('head'),
                      kt
                    );
                  },
                  killLine: function (h) {
                    return Ys(h, function (p) {
                      if (p.empty()) {
                        var _ = Je(h.doc, p.head.line).text.length;
                        return p.head.ch == _ && p.head.line < h.lastLine()
                          ? { from: p.head, to: Se(p.head.line + 1, 0) }
                          : { from: p.head, to: Se(p.head.line, _) };
                      }
                      return { from: p.from(), to: p.to() };
                    });
                  },
                  deleteLine: function (h) {
                    return Ys(h, function (p) {
                      return {
                        from: Se(p.from().line, 0),
                        to: mr(h.doc, Se(p.to().line + 1, 0)),
                      };
                    });
                  },
                  delLineLeft: function (h) {
                    return Ys(h, function (p) {
                      return { from: Se(p.from().line, 0), to: p.from() };
                    });
                  },
                  delWrappedLineLeft: function (h) {
                    return Ys(h, function (p) {
                      var _ = h.charCoords(p.head, 'div').top + 5;
                      return {
                        from: h.coordsChar({ left: 0, top: _ }, 'div'),
                        to: p.from(),
                      };
                    });
                  },
                  delWrappedLineRight: function (h) {
                    return Ys(h, function (p) {
                      var _ = h.charCoords(p.head, 'div').top + 5,
                        x = h.coordsChar(
                          { left: h.display.lineDiv.offsetWidth + 100, top: _ },
                          'div'
                        );
                      return { from: p.from(), to: x };
                    });
                  },
                  undo: function (h) {
                    return h.undo();
                  },
                  redo: function (h) {
                    return h.redo();
                  },
                  undoSelection: function (h) {
                    return h.undoSelection();
                  },
                  redoSelection: function (h) {
                    return h.redoSelection();
                  },
                  goDocStart: function (h) {
                    return h.extendSelection(Se(h.firstLine(), 0));
                  },
                  goDocEnd: function (h) {
                    return h.extendSelection(Se(h.lastLine()));
                  },
                  goLineStart: function (h) {
                    return h.extendSelectionsBy(
                      function (p) {
                        return Xv(h, p.head.line);
                      },
                      { origin: '+move', bias: 1 }
                    );
                  },
                  goLineStartSmart: function (h) {
                    return h.extendSelectionsBy(
                      function (p) {
                        return zi(h, p.head);
                      },
                      { origin: '+move', bias: 1 }
                    );
                  },
                  goLineEnd: function (h) {
                    return h.extendSelectionsBy(
                      function (p) {
                        return (
                          (T = (function (k) {
                            for (var P; (P = yo(k)); ) k = P.find(1, !0).line;
                            return k;
                          })((S = Je((_ = h).doc, (x = p.head.line))))) != S &&
                            (x = Kr(T)),
                          zu(!0, _, S, x, -1)
                        );
                        var _, x, S, T;
                      },
                      { origin: '+move', bias: -1 }
                    );
                  },
                  goLineRight: function (h) {
                    return h.extendSelectionsBy(function (p) {
                      var _ = h.cursorCoords(p.head, 'div').top + 5;
                      return h.coordsChar(
                        { left: h.display.lineDiv.offsetWidth + 100, top: _ },
                        'div'
                      );
                    }, Tt);
                  },
                  goLineLeft: function (h) {
                    return h.extendSelectionsBy(function (p) {
                      var _ = h.cursorCoords(p.head, 'div').top + 5;
                      return h.coordsChar({ left: 0, top: _ }, 'div');
                    }, Tt);
                  },
                  goLineLeftSmart: function (h) {
                    return h.extendSelectionsBy(function (p) {
                      var _ = h.cursorCoords(p.head, 'div').top + 5,
                        x = h.coordsChar({ left: 0, top: _ }, 'div');
                      return x.ch < h.getLine(x.line).search(/\S/)
                        ? zi(h, p.head)
                        : x;
                    }, Tt);
                  },
                  goLineUp: function (h) {
                    return h.moveV(-1, 'line');
                  },
                  goLineDown: function (h) {
                    return h.moveV(1, 'line');
                  },
                  goPageUp: function (h) {
                    return h.moveV(-1, 'page');
                  },
                  goPageDown: function (h) {
                    return h.moveV(1, 'page');
                  },
                  goCharLeft: function (h) {
                    return h.moveH(-1, 'char');
                  },
                  goCharRight: function (h) {
                    return h.moveH(1, 'char');
                  },
                  goColumnLeft: function (h) {
                    return h.moveH(-1, 'column');
                  },
                  goColumnRight: function (h) {
                    return h.moveH(1, 'column');
                  },
                  goWordLeft: function (h) {
                    return h.moveH(-1, 'word');
                  },
                  goGroupRight: function (h) {
                    return h.moveH(1, 'group');
                  },
                  goGroupLeft: function (h) {
                    return h.moveH(-1, 'group');
                  },
                  goWordRight: function (h) {
                    return h.moveH(1, 'word');
                  },
                  delCharBefore: function (h) {
                    return h.deleteH(-1, 'codepoint');
                  },
                  delCharAfter: function (h) {
                    return h.deleteH(1, 'char');
                  },
                  delWordBefore: function (h) {
                    return h.deleteH(-1, 'word');
                  },
                  delWordAfter: function (h) {
                    return h.deleteH(1, 'word');
                  },
                  delGroupBefore: function (h) {
                    return h.deleteH(-1, 'group');
                  },
                  delGroupAfter: function (h) {
                    return h.deleteH(1, 'group');
                  },
                  indentAuto: function (h) {
                    return h.indentSelection('smart');
                  },
                  indentMore: function (h) {
                    return h.indentSelection('add');
                  },
                  indentLess: function (h) {
                    return h.indentSelection('subtract');
                  },
                  insertTab: function (h) {
                    return h.replaceSelection('\t');
                  },
                  insertSoftTab: function (h) {
                    for (
                      var p = [],
                        _ = h.listSelections(),
                        x = h.options.tabSize,
                        S = 0;
                      S < _.length;
                      S++
                    ) {
                      var T = _[S].from(),
                        k = je(h.getLine(T.line), T.ch, x);
                      p.push(It(x - (k % x)));
                    }
                    h.replaceSelections(p);
                  },
                  defaultTab: function (h) {
                    h.somethingSelected()
                      ? h.indentSelection('add')
                      : h.execCommand('insertTab');
                  },
                  transposeChars: function (h) {
                    return pi(h, function () {
                      for (
                        var p = h.listSelections(), _ = [], x = 0;
                        x < p.length;
                        x++
                      )
                        if (p[x].empty()) {
                          var S = p[x].head,
                            T = Je(h.doc, S.line).text;
                          if (T)
                            if (
                              (S.ch == T.length &&
                                (S = new Se(S.line, S.ch - 1)),
                              S.ch > 0)
                            )
                              (S = new Se(S.line, S.ch + 1)),
                                h.replaceRange(
                                  T.charAt(S.ch - 1) + T.charAt(S.ch - 2),
                                  Se(S.line, S.ch - 2),
                                  S,
                                  '+transpose'
                                );
                            else if (S.line > h.doc.first) {
                              var k = Je(h.doc, S.line - 1).text;
                              k &&
                                ((S = new Se(S.line, 1)),
                                h.replaceRange(
                                  T.charAt(0) +
                                    h.doc.lineSeparator() +
                                    k.charAt(k.length - 1),
                                  Se(S.line - 1, k.length - 1),
                                  S,
                                  '+transpose'
                                ));
                            }
                          _.push(new Qr(S, S));
                        }
                      h.setSelections(_);
                    });
                  },
                  newlineAndIndent: function (h) {
                    return pi(h, function () {
                      for (
                        var p = h.listSelections(), _ = p.length - 1;
                        _ >= 0;
                        _--
                      )
                        h.replaceRange(
                          h.doc.lineSeparator(),
                          p[_].anchor,
                          p[_].head,
                          '+input'
                        );
                      p = h.listSelections();
                      for (var x = 0; x < p.length; x++)
                        h.indentLine(p[x].from().line, null, !0);
                      wl(h);
                    });
                  },
                  openLine: function (h) {
                    return h.replaceSelection('\n', 'start');
                  },
                  toggleOverwrite: function (h) {
                    return h.toggleOverwrite();
                  },
                };
                function Xv(h, p) {
                  var _ = Je(h.doc, p),
                    x = bi(_);
                  return x != _ && (p = Kr(x)), zu(!0, h, x, p, 1);
                }
                function zi(h, p) {
                  var _ = Xv(h, p.line),
                    x = Je(h.doc, _.line),
                    S = Et(x, h.doc.direction);
                  if (!S || 0 == S[0].level) {
                    var T = Math.max(_.ch, x.text.search(/\S/));
                    return Se(
                      _.line,
                      p.line == _.line && p.ch <= T && p.ch ? 0 : T,
                      _.sticky
                    );
                  }
                  return _;
                }
                function Vu(h, p, _) {
                  if ('string' == typeof p && !(p = Lo[p])) return !1;
                  h.display.input.ensurePolled();
                  var x = h.display.shift,
                    S = !1;
                  try {
                    h.isReadOnly() && (h.state.suppressEdits = !0),
                      _ && (h.display.shift = !1),
                      (S = p(h) != Ie);
                  } finally {
                    (h.display.shift = x), (h.state.suppressEdits = !1);
                  }
                  return S;
                }
                var Hu = new Ar();
                function Xs(h, p, _, x) {
                  var S = h.state.keySeq;
                  if (S) {
                    if (xa(p)) return 'handled';
                    if (
                      (/\'$/.test(p)
                        ? (h.state.keySeq = null)
                        : Hu.set(50, function () {
                            h.state.keySeq == S &&
                              ((h.state.keySeq = null),
                              h.display.input.reset());
                          }),
                      Gu(h, S + ' ' + p, _, x))
                    )
                      return !0;
                  }
                  return Gu(h, p, _, x);
                }
                function Gu(h, p, _, x) {
                  var S = (function (T, k, P) {
                    for (var N = 0; N < T.state.keyMaps.length; N++) {
                      var V = Zn(k, T.state.keyMaps[N], P, T);
                      if (V) return V;
                    }
                    return (
                      (T.options.extraKeys &&
                        Zn(k, T.options.extraKeys, P, T)) ||
                      Zn(k, T.options.keyMap, P, T)
                    );
                  })(h, p, x);
                  return (
                    'multi' == S && (h.state.keySeq = p),
                    'handled' == S && Ve(h, 'keyHandled', h, p, _),
                    ('handled' != S && 'multi' != S) || ($e(_), Sh(h)),
                    !!S
                  );
                }
                function ff(h, p) {
                  var _ = uf(p, !0);
                  return (
                    !!_ &&
                    (p.shiftKey && !h.state.keySeq
                      ? Xs(h, 'Shift-' + _, p, function (x) {
                          return Vu(h, x, !0);
                        }) ||
                        Xs(h, _, p, function (x) {
                          if (
                            'string' == typeof x ? /^go[A-Z]/.test(x) : x.motion
                          )
                            return Vu(h, x);
                        })
                      : Xs(h, _, p, function (x) {
                          return Vu(h, x);
                        }))
                  );
                }
                var ba = null;
                function Wu(h) {
                  var p = this;
                  if (
                    !(
                      (h.target && h.target != p.display.input.getField()) ||
                      ((p.curOp.focus = st(sr(p))), ze(p, h))
                    )
                  ) {
                    ct && ve < 11 && 27 == h.keyCode && (h.returnValue = !1);
                    var _ = h.keyCode;
                    p.display.shift = 16 == _ || h.shiftKey;
                    var x = ff(p, h);
                    Zt &&
                      ((ba = x ? _ : null),
                      x ||
                        88 != _ ||
                        Ki ||
                        !(Kt ? h.metaKey : h.ctrlKey) ||
                        p.replaceSelection('', null, 'cut')),
                      Lt &&
                        !Kt &&
                        !x &&
                        46 == _ &&
                        h.shiftKey &&
                        !h.ctrlKey &&
                        document.execCommand &&
                        document.execCommand('cut'),
                      18 != _ ||
                        /\bCodeMirror-crosshair\b/.test(
                          p.display.lineDiv.className
                        ) ||
                        (function (S) {
                          var T = S.display.lineDiv;
                          function k(P) {
                            (18 != P.keyCode && P.altKey) ||
                              (He(T, 'CodeMirror-crosshair'),
                              se(document, 'keyup', k),
                              se(document, 'mouseover', k));
                          }
                          $(T, 'CodeMirror-crosshair'),
                            Rt(document, 'keyup', k),
                            Rt(document, 'mouseover', k);
                        })(p);
                  }
                }
                function Gh(h) {
                  16 == h.keyCode && (this.doc.sel.shift = !1), ze(this, h);
                }
                function Wh(h) {
                  var T,
                    p = this;
                  if (
                    !(
                      (h.target && h.target != p.display.input.getField()) ||
                      Ua(p.display, h) ||
                      ze(p, h) ||
                      (h.ctrlKey && !h.altKey) ||
                      (Kt && h.metaKey)
                    )
                  ) {
                    var _ = h.keyCode,
                      x = h.charCode;
                    if (Zt && _ == ba) return (ba = null), void $e(h);
                    if (!Zt || (h.which && !(h.which < 10)) || !ff(p, h)) {
                      var S = String.fromCharCode(x ?? _);
                      '\b' != S &&
                        (Xs((T = p), "'" + S + "'", h, function (N) {
                          return Vu(T, N, !0);
                        }) ||
                          p.display.input.onKeyPress(h));
                    }
                  }
                }
                var Ol,
                  $u,
                  hf = function (h, p, _) {
                    (this.time = h), (this.pos = p), (this.button = _);
                  };
                function Zv(h) {
                  var k,
                    P,
                    N,
                    p = this,
                    _ = p.display;
                  if (!(ze(p, h) || (_.activeTouch && _.input.supportsTouch())))
                    if (
                      (_.input.ensurePolled(), (_.shift = h.shiftKey), Ua(_, h))
                    )
                      Qt ||
                        ((_.scroller.draggable = !1),
                        setTimeout(function () {
                          return (_.scroller.draggable = !0);
                        }, 100));
                    else if (!ln(p, h)) {
                      var x = ra(p, h),
                        S = ti(h),
                        T = x
                          ? ((k = x),
                            (P = S),
                            (N = +new Date()),
                            $u && $u.compare(N, k, P)
                              ? ((Ol = $u = null), 'triple')
                              : Ol && Ol.compare(N, k, P)
                              ? (($u = new hf(N, k, P)), (Ol = null), 'double')
                              : ((Ol = new hf(N, k, P)), ($u = null), 'single'))
                          : 'single';
                      F(p).focus(),
                        1 == S &&
                          p.state.selectingText &&
                          p.state.selectingText(h),
                        (x &&
                          (function (k, P, N, V, q) {
                            var j = 'Click';
                            return (
                              'double' == V
                                ? (j = 'Double' + j)
                                : 'triple' == V && (j = 'Triple' + j),
                              Xs(
                                k,
                                Bu(
                                  (j =
                                    (1 == P
                                      ? 'Left'
                                      : 2 == P
                                      ? 'Middle'
                                      : 'Right') + j),
                                  q
                                ),
                                q,
                                function (vt) {
                                  if (
                                    ('string' == typeof vt && (vt = Lo[vt]),
                                    !vt)
                                  )
                                    return !1;
                                  var at = !1;
                                  try {
                                    k.isReadOnly() &&
                                      (k.state.suppressEdits = !0),
                                      (at = vt(k, N) != Ie);
                                  } finally {
                                    k.state.suppressEdits = !1;
                                  }
                                  return at;
                                }
                              )
                            );
                          })(p, S, x, T, h)) ||
                          (1 == S
                            ? x
                              ? (function (k, P, N, V) {
                                  ct
                                    ? setTimeout(Ut(bl, k), 0)
                                    : (k.curOp.focus = st(sr(k)));
                                  var q,
                                    at,
                                    Mt,
                                    Ft,
                                    St,
                                    Yt,
                                    le,
                                    Jt,
                                    we,
                                    be,
                                    j = (function (at, Mt, Ft) {
                                      var St = at.getOption('configureMouse'),
                                        Yt = St ? St(at, Mt, Ft) : {};
                                      return (
                                        null == Yt.unit &&
                                          (Yt.unit = (
                                            ie
                                              ? Ft.shiftKey && Ft.metaKey
                                              : Ft.altKey
                                          )
                                            ? 'rectangle'
                                            : 'single' == Mt
                                            ? 'char'
                                            : 'double' == Mt
                                            ? 'word'
                                            : 'line'),
                                        (null == Yt.extend || at.doc.extend) &&
                                          (Yt.extend =
                                            at.doc.extend || Ft.shiftKey),
                                        null == Yt.addNew &&
                                          (Yt.addNew = Kt
                                            ? Ft.metaKey
                                            : Ft.ctrlKey),
                                        null == Yt.moveOnDrag &&
                                          (Yt.moveOnDrag = !(Kt
                                            ? Ft.altKey
                                            : Ft.ctrlKey)),
                                        Yt
                                      );
                                    })(k, N, V),
                                    vt = k.doc.sel;
                                  k.options.dragDrop &&
                                  Mn &&
                                  !k.isReadOnly() &&
                                  'single' == N &&
                                  (q = vt.contains(P)) > -1 &&
                                  (pr((q = vt.ranges[q]).from(), P) < 0 ||
                                    P.xRel > 0) &&
                                  (pr(q.to(), P) > 0 || P.xRel < 0)
                                    ? ((Mt = V),
                                      (Ft = P),
                                      (St = j),
                                      (Yt = (at = k).display),
                                      (le = !1),
                                      (Jt = sn(at, function (Ce) {
                                        Qt && (Yt.scroller.draggable = !1),
                                          (at.state.draggingText = !1),
                                          at.state.delayingBlurEvent &&
                                            (at.hasFocus()
                                              ? (at.state.delayingBlurEvent =
                                                  !1)
                                              : wh(at)),
                                          se(
                                            Yt.wrapper.ownerDocument,
                                            'mouseup',
                                            Jt
                                          ),
                                          se(
                                            Yt.wrapper.ownerDocument,
                                            'mousemove',
                                            we
                                          ),
                                          se(Yt.scroller, 'dragstart', be),
                                          se(Yt.scroller, 'drop', Jt),
                                          le ||
                                            ($e(Ce),
                                            St.addNew ||
                                              ku(
                                                at.doc,
                                                Ft,
                                                null,
                                                null,
                                                St.extend
                                              ),
                                            (Qt && !he) || (ct && 9 == ve)
                                              ? setTimeout(function () {
                                                  Yt.wrapper.ownerDocument.body.focus(
                                                    { preventScroll: !0 }
                                                  ),
                                                    Yt.input.focus();
                                                }, 20)
                                              : Yt.input.focus());
                                      })),
                                      (we = function (Ce) {
                                        le =
                                          le ||
                                          Math.abs(Mt.clientX - Ce.clientX) +
                                            Math.abs(Mt.clientY - Ce.clientY) >=
                                            10;
                                      }),
                                      (be = function () {
                                        return (le = !0);
                                      }),
                                      Qt && (Yt.scroller.draggable = !0),
                                      (at.state.draggingText = Jt),
                                      (Jt.copy = !St.moveOnDrag),
                                      Rt(
                                        Yt.wrapper.ownerDocument,
                                        'mouseup',
                                        Jt
                                      ),
                                      Rt(
                                        Yt.wrapper.ownerDocument,
                                        'mousemove',
                                        we
                                      ),
                                      Rt(Yt.scroller, 'dragstart', be),
                                      Rt(Yt.scroller, 'drop', Jt),
                                      (at.state.delayingBlurEvent = !0),
                                      setTimeout(function () {
                                        return Yt.input.focus();
                                      }, 20),
                                      Yt.scroller.dragDrop &&
                                        Yt.scroller.dragDrop())
                                    : (function (at, Mt, Ft, St) {
                                        ct && wh(at);
                                        var Yt = at.display,
                                          le = at.doc;
                                        $e(Mt);
                                        var Jt,
                                          we,
                                          be = le.sel,
                                          Ce = be.ranges;
                                        if (
                                          (St.addNew && !St.extend
                                            ? ((we = le.sel.contains(Ft)),
                                              (Jt =
                                                we > -1
                                                  ? Ce[we]
                                                  : new Qr(Ft, Ft)))
                                            : ((Jt = le.sel.primary()),
                                              (we = le.sel.primIndex)),
                                          'rectangle' == St.unit)
                                        )
                                          St.addNew || (Jt = new Qr(Ft, Ft)),
                                            (Ft = ra(at, Mt, !0, !0)),
                                            (we = -1);
                                        else {
                                          var hr = Uu(at, Ft, St.unit);
                                          Jt = St.extend
                                            ? Fh(
                                                Jt,
                                                hr.anchor,
                                                hr.head,
                                                St.extend
                                              )
                                            : hr;
                                        }
                                        St.addNew
                                          ? -1 == we
                                            ? ((we = Ce.length),
                                              Nn(
                                                le,
                                                aa(at, Ce.concat([Jt]), we),
                                                { scroll: !1, origin: '*mouse' }
                                              ))
                                            : Ce.length > 1 &&
                                              Ce[we].empty() &&
                                              'char' == St.unit &&
                                              !St.extend
                                            ? (Nn(
                                                le,
                                                aa(
                                                  at,
                                                  Ce.slice(0, we).concat(
                                                    Ce.slice(we + 1)
                                                  ),
                                                  0
                                                ),
                                                { scroll: !1, origin: '*mouse' }
                                              ),
                                              (be = le.sel))
                                            : Mo(le, we, Jt, me)
                                          : ((we = 0),
                                            Nn(le, new ia([Jt], 0), me),
                                            (be = le.sel));
                                        var Ue = Ft,
                                          cr =
                                            Yt.wrapper.getBoundingClientRect(),
                                          Hr = 0;
                                        function Jr(Mr) {
                                          var tn = ++Hr,
                                            gr = ra(
                                              at,
                                              Mr,
                                              !0,
                                              'rectangle' == St.unit
                                            );
                                          if (gr)
                                            if (0 != pr(gr, Ue)) {
                                              (at.curOp.focus = st(sr(at))),
                                                (function Ir(Mr) {
                                                  if (0 != pr(Ue, Mr))
                                                    if (
                                                      ((Ue = Mr),
                                                      'rectangle' == St.unit)
                                                    ) {
                                                      for (
                                                        var tn = [],
                                                          gr =
                                                            at.options.tabSize,
                                                          Br = je(
                                                            Je(le, Ft.line)
                                                              .text,
                                                            Ft.ch,
                                                            gr
                                                          ),
                                                          wr = je(
                                                            Je(le, Mr.line)
                                                              .text,
                                                            Mr.ch,
                                                            gr
                                                          ),
                                                          Ur = Math.min(Br, wr),
                                                          zn = Math.max(Br, wr),
                                                          jr = Math.min(
                                                            Ft.line,
                                                            Mr.line
                                                          ),
                                                          jn = Math.min(
                                                            at.lastLine(),
                                                            Math.max(
                                                              Ft.line,
                                                              Mr.line
                                                            )
                                                          );
                                                        jr <= jn;
                                                        jr++
                                                      ) {
                                                        var Kn = Je(
                                                            le,
                                                            jr
                                                          ).text,
                                                          cn = fe(Kn, Ur, gr);
                                                        Ur == zn
                                                          ? tn.push(
                                                              new Qr(
                                                                Se(jr, cn),
                                                                Se(jr, cn)
                                                              )
                                                            )
                                                          : Kn.length > cn &&
                                                            tn.push(
                                                              new Qr(
                                                                Se(jr, cn),
                                                                Se(
                                                                  jr,
                                                                  fe(Kn, zn, gr)
                                                                )
                                                              )
                                                            );
                                                      }
                                                      tn.length ||
                                                        tn.push(new Qr(Ft, Ft)),
                                                        Nn(
                                                          le,
                                                          aa(
                                                            at,
                                                            be.ranges
                                                              .slice(0, we)
                                                              .concat(tn),
                                                            we
                                                          ),
                                                          {
                                                            origin: '*mouse',
                                                            scroll: !1,
                                                          }
                                                        ),
                                                        at.scrollIntoView(Mr);
                                                    } else {
                                                      var yi,
                                                        Sa = Jt,
                                                        Qn = Uu(
                                                          at,
                                                          Mr,
                                                          St.unit
                                                        ),
                                                        wa = Sa.anchor;
                                                      pr(Qn.anchor, wa) > 0
                                                        ? ((yi = Qn.head),
                                                          (wa = _s(
                                                            Sa.from(),
                                                            Qn.anchor
                                                          )))
                                                        : ((yi = Qn.anchor),
                                                          (wa = ga(
                                                            Sa.to(),
                                                            Qn.head
                                                          )));
                                                      var vf =
                                                        be.ranges.slice(0);
                                                      (vf[we] = (function (
                                                        ip,
                                                        ko
                                                      ) {
                                                        var Vi = ko.anchor,
                                                          rs = ko.head,
                                                          Vm = Je(
                                                            ip.doc,
                                                            Vi.line
                                                          );
                                                        if (
                                                          0 == pr(Vi, rs) &&
                                                          Vi.sticky == rs.sticky
                                                        )
                                                          return ko;
                                                        var Zs = Et(Vm);
                                                        if (!Zs) return ko;
                                                        var Xu = et(
                                                            Zs,
                                                            Vi.ch,
                                                            Vi.sticky
                                                          ),
                                                          Fa = Zs[Xu];
                                                        if (
                                                          Fa.from != Vi.ch &&
                                                          Fa.to != Vi.ch
                                                        )
                                                          return ko;
                                                        var qs,
                                                          Nl =
                                                            Xu +
                                                            ((Fa.from ==
                                                              Vi.ch) ==
                                                            (1 != Fa.level)
                                                              ? 0
                                                              : 1);
                                                        if (
                                                          0 == Nl ||
                                                          Nl == Zs.length
                                                        )
                                                          return ko;
                                                        if (rs.line != Vi.line)
                                                          qs =
                                                            (rs.line -
                                                              Vi.line) *
                                                              ('ltr' ==
                                                              ip.doc.direction
                                                                ? 1
                                                                : -1) >
                                                            0;
                                                        else {
                                                          var Xh = et(
                                                              Zs,
                                                              rs.ch,
                                                              rs.sticky
                                                            ),
                                                            sa =
                                                              Xh - Xu ||
                                                              (rs.ch - Vi.ch) *
                                                                (1 == Fa.level
                                                                  ? -1
                                                                  : 1);
                                                          qs =
                                                            Xh == Nl - 1 ||
                                                            Xh == Nl
                                                              ? sa < 0
                                                              : sa > 0;
                                                        }
                                                        var Zu =
                                                            Zs[
                                                              Nl + (qs ? -1 : 0)
                                                            ],
                                                          pf =
                                                            qs ==
                                                            (1 == Zu.level),
                                                          ap = pf
                                                            ? Zu.from
                                                            : Zu.to,
                                                          Si = pf
                                                            ? 'after'
                                                            : 'before';
                                                        return Vi.ch == ap &&
                                                          Vi.sticky == Si
                                                          ? ko
                                                          : new Qr(
                                                              new Se(
                                                                Vi.line,
                                                                ap,
                                                                Si
                                                              ),
                                                              rs
                                                            );
                                                      })(
                                                        at,
                                                        new Qr(mr(le, wa), yi)
                                                      )),
                                                        Nn(
                                                          le,
                                                          aa(at, vf, we),
                                                          me
                                                        );
                                                    }
                                                })(gr);
                                              var Br = Bi(Yt, le);
                                              (gr.line >= Br.to ||
                                                gr.line < Br.from) &&
                                                setTimeout(
                                                  sn(at, function () {
                                                    Hr == tn && Jr(Mr);
                                                  }),
                                                  150
                                                );
                                            } else {
                                              var wr =
                                                Mr.clientY < cr.top
                                                  ? -20
                                                  : Mr.clientY > cr.bottom
                                                  ? 20
                                                  : 0;
                                              wr &&
                                                setTimeout(
                                                  sn(at, function () {
                                                    Hr == tn &&
                                                      ((Yt.scroller.scrollTop +=
                                                        wr),
                                                      Jr(Mr));
                                                  }),
                                                  50
                                                );
                                            }
                                        }
                                        function Pr(Mr) {
                                          (at.state.selectingText = !1),
                                            (Hr = 1 / 0),
                                            Mr && ($e(Mr), Yt.input.focus()),
                                            se(
                                              Yt.wrapper.ownerDocument,
                                              'mousemove',
                                              Sr
                                            ),
                                            se(
                                              Yt.wrapper.ownerDocument,
                                              'mouseup',
                                              Gr
                                            ),
                                            (le.history.lastSelOrigin = null);
                                        }
                                        var Sr = sn(at, function (Mr) {
                                            0 !== Mr.buttons && ti(Mr)
                                              ? Jr(Mr)
                                              : Pr(Mr);
                                          }),
                                          Gr = sn(at, Pr);
                                        (at.state.selectingText = Gr),
                                          Rt(
                                            Yt.wrapper.ownerDocument,
                                            'mousemove',
                                            Sr
                                          ),
                                          Rt(
                                            Yt.wrapper.ownerDocument,
                                            'mouseup',
                                            Gr
                                          );
                                      })(k, V, P, j);
                                })(p, x, T, h)
                              : Fr(h) == _.scroller && $e(h)
                            : 2 == S
                            ? (x && ku(p.doc, x),
                              setTimeout(function () {
                                return _.input.focus();
                              }, 20))
                            : 3 == S &&
                              (qe ? p.display.input.onContextMenu(h) : wh(p)));
                    }
                }
                function Uu(h, p, _) {
                  if ('char' == _) return new Qr(p, p);
                  if ('word' == _) return h.findWordAt(p);
                  if ('line' == _)
                    return new Qr(Se(p.line, 0), mr(h.doc, Se(p.line + 1, 0)));
                  var x = _(h, p);
                  return new Qr(x.from, x.to);
                }
                function qv(h, p, _, x) {
                  var S, T;
                  if (p.touches)
                    (S = p.touches[0].clientX), (T = p.touches[0].clientY);
                  else
                    try {
                      (S = p.clientX), (T = p.clientY);
                    } catch {
                      return !1;
                    }
                  if (
                    S >=
                    Math.floor(h.display.gutters.getBoundingClientRect().right)
                  )
                    return !1;
                  x && $e(p);
                  var k = h.display,
                    P = k.lineDiv.getBoundingClientRect();
                  if (T > P.bottom || !Nt(h, _)) return ce(p);
                  T -= P.top - k.viewOffset;
                  for (var N = 0; N < h.display.gutterSpecs.length; ++N) {
                    var V = k.gutters.childNodes[N];
                    if (V && V.getBoundingClientRect().right >= S)
                      return (
                        pe(
                          h,
                          _,
                          h,
                          Li(h.doc, T),
                          h.display.gutterSpecs[N].className,
                          p
                        ),
                        ce(p)
                      );
                  }
                }
                function ln(h, p) {
                  return qv(h, p, 'gutterClick', !0);
                }
                function qn(h, p) {
                  var _, x;
                  Ua(h.display, p) ||
                    ((x = p),
                    Nt((_ = h), 'gutterContextMenu') &&
                      qv(_, x, 'gutterContextMenu', !1)) ||
                    ze(h, p, 'contextmenu') ||
                    qe ||
                    h.display.input.onContextMenu(p);
                }
                function oa(h) {
                  (h.display.wrapper.className =
                    h.display.wrapper.className.replace(/\s*cm-s-\S+/g, '') +
                    h.options.theme.replace(/(^|\s)\s*/g, ' cm-s-')),
                    $o(h);
                }
                hf.prototype.compare = function (h, p, _) {
                  return (
                    this.time + 400 > h &&
                    0 == pr(p, this.pos) &&
                    _ == this.button
                  );
                };
                var un = {
                    toString: function () {
                      return 'CodeMirror.Init';
                    },
                  },
                  mi = {},
                  zr = {};
                function jv(h, p, _) {
                  if (!p != !(_ && _ != un)) {
                    var x = h.display.dragFunctions,
                      S = p ? Rt : se;
                    S(h.display.scroller, 'dragstart', x.start),
                      S(h.display.scroller, 'dragenter', x.enter),
                      S(h.display.scroller, 'dragover', x.over),
                      S(h.display.scroller, 'dragleave', x.leave),
                      S(h.display.scroller, 'drop', x.drop);
                  }
                }
                function Kv(h) {
                  h.options.lineWrapping
                    ? ($(h.display.wrapper, 'CodeMirror-wrap'),
                      (h.display.sizer.style.minWidth = ''),
                      (h.display.sizerWidth = null))
                    : (He(h.display.wrapper, 'CodeMirror-wrap'), W(h)),
                    gu(h),
                    Sn(h),
                    $o(h),
                    setTimeout(function () {
                      return Cl(h);
                    }, 100);
                }
                function vn(h, p) {
                  var _ = this;
                  if (!(this instanceof vn)) return new vn(h, p);
                  (this.options = p = p ? Oe(p) : {}), Oe(mi, p, !1);
                  var x = p.value;
                  'string' == typeof x
                    ? (x = new _i(
                        x,
                        p.mode,
                        null,
                        p.lineSeparator,
                        p.direction
                      ))
                    : p.mode && (x.modeOption = p.mode),
                    (this.doc = x);
                  var S = new vn.inputStyles[p.inputStyle](this),
                    T = (this.display = new Rv(h, x, S, p));
                  for (var k in ((T.wrapper.CodeMirror = this),
                  oa(this),
                  p.lineWrapping &&
                    (this.display.wrapper.className += ' CodeMirror-wrap'),
                  Lv(this),
                  (this.state = {
                    keyMaps: [],
                    overlays: [],
                    modeGen: 0,
                    overwrite: !1,
                    delayingBlurEvent: !1,
                    focused: !1,
                    suppressEdits: !1,
                    pasteIncoming: -1,
                    cutIncoming: -1,
                    selectingText: !1,
                    draggingText: !1,
                    highlight: new Ar(),
                    keySeq: null,
                    specialChars: null,
                  }),
                  p.autofocus && !ne && T.input.focus(),
                  ct &&
                    ve < 11 &&
                    setTimeout(function () {
                      return _.display.input.reset(!0);
                    }, 20),
                  (function (N) {
                    var V = N.display;
                    Rt(V.scroller, 'mousedown', sn(N, Zv)),
                      Rt(
                        V.scroller,
                        'dblclick',
                        ct && ve < 11
                          ? sn(N, function (St) {
                              if (!ze(N, St)) {
                                var Yt = ra(N, St);
                                if (Yt && !ln(N, St) && !Ua(N.display, St)) {
                                  $e(St);
                                  var le = N.findWordAt(Yt);
                                  ku(N.doc, le.anchor, le.head);
                                }
                              }
                            })
                          : function (St) {
                              return ze(N, St) || $e(St);
                            }
                      ),
                      Rt(V.scroller, 'contextmenu', function (St) {
                        return qn(N, St);
                      }),
                      Rt(V.input.getField(), 'contextmenu', function (St) {
                        V.scroller.contains(St.target) || qn(N, St);
                      });
                    var q,
                      j = { end: 0 };
                    function vt() {
                      V.activeTouch &&
                        ((q = setTimeout(function () {
                          return (V.activeTouch = null);
                        }, 1e3)),
                        ((j = V.activeTouch).end = +new Date()));
                    }
                    function Mt(St, Yt) {
                      if (null == Yt.left) return !0;
                      var le = Yt.left - St.left,
                        Jt = Yt.top - St.top;
                      return le * le + Jt * Jt > 400;
                    }
                    Rt(V.scroller, 'touchstart', function (St) {
                      if (
                        !ze(N, St) &&
                        !(function at(St) {
                          if (1 != St.touches.length) return !1;
                          var Yt = St.touches[0];
                          return Yt.radiusX <= 1 && Yt.radiusY <= 1;
                        })(St) &&
                        !ln(N, St)
                      ) {
                        V.input.ensurePolled(), clearTimeout(q);
                        var Yt = +new Date();
                        (V.activeTouch = {
                          start: Yt,
                          moved: !1,
                          prev: Yt - j.end <= 300 ? j : null,
                        }),
                          1 == St.touches.length &&
                            ((V.activeTouch.left = St.touches[0].pageX),
                            (V.activeTouch.top = St.touches[0].pageY));
                      }
                    }),
                      Rt(V.scroller, 'touchmove', function () {
                        V.activeTouch && (V.activeTouch.moved = !0);
                      }),
                      Rt(V.scroller, 'touchend', function (St) {
                        var Yt = V.activeTouch;
                        if (
                          Yt &&
                          !Ua(V, St) &&
                          null != Yt.left &&
                          !Yt.moved &&
                          new Date() - Yt.start < 300
                        ) {
                          var le,
                            Jt = N.coordsChar(V.activeTouch, 'page');
                          (le =
                            !Yt.prev || Mt(Yt, Yt.prev)
                              ? new Qr(Jt, Jt)
                              : !Yt.prev.prev || Mt(Yt, Yt.prev.prev)
                              ? N.findWordAt(Jt)
                              : new Qr(
                                  Se(Jt.line, 0),
                                  mr(N.doc, Se(Jt.line + 1, 0))
                                )),
                            N.setSelection(le.anchor, le.head),
                            N.focus(),
                            $e(St);
                        }
                        vt();
                      }),
                      Rt(V.scroller, 'touchcancel', vt),
                      Rt(V.scroller, 'scroll', function () {
                        V.scroller.clientHeight &&
                          (ya(N, V.scroller.scrollTop),
                          To(N, V.scroller.scrollLeft, !0),
                          pe(N, 'scroll', N));
                      }),
                      Rt(V.scroller, 'mousewheel', function (St) {
                        return Bs(N, St);
                      }),
                      Rt(V.scroller, 'DOMMouseScroll', function (St) {
                        return Bs(N, St);
                      }),
                      Rt(V.wrapper, 'scroll', function () {
                        return (V.wrapper.scrollTop = V.wrapper.scrollLeft = 0);
                      }),
                      (V.dragFunctions = {
                        enter: function (St) {
                          ze(N, St) || Ke(St);
                        },
                        over: function (St) {
                          ze(N, St) ||
                            ((function (Yt, le) {
                              var Jt = ra(Yt, le);
                              if (Jt) {
                                var we = document.createDocumentFragment();
                                xu(Yt, Jt, we),
                                  Yt.display.dragCursor ||
                                    ((Yt.display.dragCursor = Ht(
                                      'div',
                                      null,
                                      'CodeMirror-cursors CodeMirror-dragcursors'
                                    )),
                                    Yt.display.lineSpace.insertBefore(
                                      Yt.display.dragCursor,
                                      Yt.display.cursorDiv
                                    )),
                                  Gt(Yt.display.dragCursor, we);
                              }
                            })(N, St),
                            Ke(St));
                        },
                        start: function (St) {
                          return (function (Yt, le) {
                            if (
                              ct &&
                              (!Yt.state.draggingText || +new Date() - Gv < 100)
                            )
                              Ke(le);
                            else if (
                              !ze(Yt, le) &&
                              !Ua(Yt.display, le) &&
                              (le.dataTransfer.setData(
                                'Text',
                                Yt.getSelection()
                              ),
                              (le.dataTransfer.effectAllowed = 'copyMove'),
                              le.dataTransfer.setDragImage && !he)
                            ) {
                              var Jt = Ht(
                                'img',
                                null,
                                null,
                                'position: fixed; left: 0; top: 0;'
                              );
                              (Jt.src =
                                'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=='),
                                Zt &&
                                  ((Jt.width = Jt.height = 1),
                                  Yt.display.wrapper.appendChild(Jt),
                                  (Jt._top = Jt.offsetTop)),
                                le.dataTransfer.setDragImage(Jt, 0, 0),
                                Zt && Jt.parentNode.removeChild(Jt);
                            }
                          })(N, St);
                        },
                        drop: sn(N, Vh),
                        leave: function (St) {
                          ze(N, St) || Wv(N);
                        },
                      });
                    var Ft = V.input.getField();
                    Rt(Ft, 'keyup', function (St) {
                      return Gh.call(N, St);
                    }),
                      Rt(Ft, 'keydown', sn(N, Wu)),
                      Rt(Ft, 'keypress', sn(N, Wh)),
                      Rt(Ft, 'focus', function (St) {
                        return bu(N, St);
                      }),
                      Rt(Ft, 'blur', function (St) {
                        return _l(N, St);
                      });
                  })(this),
                  (function Yv() {
                    var h;
                    Uv ||
                      (Rt(window, 'resize', function () {
                        null == h &&
                          (h = setTimeout(function () {
                            (h = null), $v(zm);
                          }, 100));
                      }),
                      Rt(window, 'blur', function () {
                        return $v(_l);
                      }),
                      (Uv = !0));
                  })(),
                  Xo(this),
                  (this.curOp.forceUpdate = !0),
                  af(this, x),
                  (p.autofocus && !ne) || this.hasFocus()
                    ? setTimeout(function () {
                        _.hasFocus() && !_.state.focused && bu(_);
                      }, 20)
                    : _l(this),
                  zr))
                    zr.hasOwnProperty(k) && zr[k](this, p[k], un);
                  Al(this), p.finishInit && p.finishInit(this);
                  for (var P = 0; P < qr.length; ++P) qr[P](this);
                  Zo(this),
                    Qt &&
                      p.lineWrapping &&
                      'optimizelegibility' ==
                        getComputedStyle(T.lineDiv).textRendering &&
                      (T.lineDiv.style.textRendering = 'auto');
                }
                (vn.defaults = mi), (vn.optionHandlers = zr);
                var qr = [];
                function Oa(h, p, _, x) {
                  var S,
                    T = h.doc;
                  null == _ && (_ = 'add'),
                    'smart' == _ &&
                      (T.mode.indent ? (S = ws(h, p).state) : (_ = 'prev'));
                  var k = h.options.tabSize,
                    P = Je(T, p),
                    N = je(P.text, null, k);
                  P.stateAfter && (P.stateAfter = null);
                  var V,
                    q = P.text.match(/^\s*/)[0];
                  if (x || /\S/.test(P.text)) {
                    if (
                      'smart' == _ &&
                      ((V = T.mode.indent(S, P.text.slice(q.length), P.text)) ==
                        Ie ||
                        V > 150)
                    ) {
                      if (!x) return;
                      _ = 'prev';
                    }
                  } else (V = 0), (_ = 'not');
                  'prev' == _
                    ? (V = p > T.first ? je(Je(T, p - 1).text, null, k) : 0)
                    : 'add' == _
                    ? (V = N + h.options.indentUnit)
                    : 'subtract' == _
                    ? (V = N - h.options.indentUnit)
                    : 'number' == typeof _ && (V = N + _),
                    (V = Math.max(0, V));
                  var j = '',
                    vt = 0;
                  if (h.options.indentWithTabs)
                    for (var at = Math.floor(V / k); at; --at)
                      (vt += k), (j += '\t');
                  if ((vt < V && (j += It(V - vt)), j != q))
                    return (
                      Qo(T, j, Se(p, 0), Se(p, q.length), '+input'),
                      (P.stateAfter = null),
                      !0
                    );
                  for (var Mt = 0; Mt < T.sel.ranges.length; Mt++) {
                    var Ft = T.sel.ranges[Mt];
                    if (Ft.head.line == p && Ft.head.ch < q.length) {
                      var St = Se(p, q.length);
                      Mo(T, Mt, new Qr(St, St));
                      break;
                    }
                  }
                }
                vn.defineInitHook = function (h) {
                  return qr.push(h);
                };
                var _a = null;
                function Io(h) {
                  _a = h;
                }
                function $h(h, p, _, x, S) {
                  var T = h.doc;
                  (h.display.shift = !1), x || (x = T.sel);
                  var k = +new Date() - 200,
                    P = 'paste' == S || h.state.pasteIncoming > k,
                    N = Nr(p),
                    V = null;
                  if (P && x.ranges.length > 1)
                    if (_a && _a.text.join('\n') == p) {
                      if (x.ranges.length % _a.text.length == 0) {
                        V = [];
                        for (var q = 0; q < _a.text.length; q++)
                          V.push(T.splitLines(_a.text[q]));
                      }
                    } else
                      N.length == x.ranges.length &&
                        h.options.pasteLinesPerSelection &&
                        (V = Y(N, function (Yt) {
                          return [Yt];
                        }));
                  for (
                    var j = h.curOp.updateInput, vt = x.ranges.length - 1;
                    vt >= 0;
                    vt--
                  ) {
                    var at = x.ranges[vt],
                      Mt = at.from(),
                      Ft = at.to();
                    at.empty() &&
                      (_ && _ > 0
                        ? (Mt = Se(Mt.line, Mt.ch - _))
                        : h.state.overwrite && !P
                        ? (Ft = Se(
                            Ft.line,
                            Math.min(
                              Je(T, Ft.line).text.length,
                              Ft.ch + U(N).length
                            )
                          ))
                        : P &&
                          _a &&
                          _a.lineWise &&
                          _a.text.join('\n') == N.join('\n') &&
                          (Mt = Ft = Se(Mt.line, 0)));
                    var St = {
                      from: Mt,
                      to: Ft,
                      text: V ? V[vt % V.length] : N,
                      origin:
                        S ||
                        (P
                          ? 'paste'
                          : h.state.cutIncoming > k
                          ? 'cut'
                          : '+input'),
                    };
                    Ra(h.doc, St), Ve(h, 'inputRead', h, St);
                  }
                  p && !P && Qv(h, p),
                    wl(h),
                    h.curOp.updateInput < 2 && (h.curOp.updateInput = j),
                    (h.curOp.typing = !0),
                    (h.state.pasteIncoming = h.state.cutIncoming = -1);
                }
                function Uh(h, p) {
                  var _ = h.clipboardData && h.clipboardData.getData('Text');
                  if (_)
                    return (
                      h.preventDefault(),
                      p.isReadOnly() ||
                        p.options.disableInput ||
                        !p.hasFocus() ||
                        pi(p, function () {
                          return $h(p, _, 0, null, 'paste');
                        }),
                      !0
                    );
                }
                function Qv(h, p) {
                  if (h.options.electricChars && h.options.smartIndent)
                    for (
                      var _ = h.doc.sel, x = _.ranges.length - 1;
                      x >= 0;
                      x--
                    ) {
                      var S = _.ranges[x];
                      if (
                        !(
                          S.head.ch > 100 ||
                          (x && _.ranges[x - 1].head.line == S.head.line)
                        )
                      ) {
                        var T = h.getModeAt(S.head),
                          k = !1;
                        if (T.electricChars) {
                          for (var P = 0; P < T.electricChars.length; P++)
                            if (p.indexOf(T.electricChars.charAt(P)) > -1) {
                              k = Oa(h, S.head.line, 'smart');
                              break;
                            }
                        } else
                          T.electricInput &&
                            T.electricInput.test(
                              Je(h.doc, S.head.line).text.slice(0, S.head.ch)
                            ) &&
                            (k = Oa(h, S.head.line, 'smart'));
                        k && Ve(h, 'electricInput', h, S.head.line);
                      }
                    }
                }
                function Jv(h) {
                  for (
                    var p = [], _ = [], x = 0;
                    x < h.doc.sel.ranges.length;
                    x++
                  ) {
                    var S = h.doc.sel.ranges[x].head.line,
                      T = { anchor: Se(S, 0), head: Se(S + 1, 0) };
                    _.push(T), p.push(h.getRange(T.anchor, T.head));
                  }
                  return { text: p, ranges: _ };
                }
                function tp(h, p, _, x) {
                  h.setAttribute('autocorrect', _ ? '' : 'off'),
                    h.setAttribute('autocapitalize', x ? '' : 'off'),
                    h.setAttribute('spellcheck', !!p);
                }
                function ep() {
                  var h = Ht(
                      'textarea',
                      null,
                      null,
                      'position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none'
                    ),
                    p = Ht(
                      'div',
                      [h],
                      null,
                      'overflow: hidden; position: relative; width: 3px; height: 0px;'
                    );
                  return (
                    Qt
                      ? (h.style.width = '1000px')
                      : h.setAttribute('wrap', 'off'),
                    Bt && (h.style.border = '1px solid black'),
                    tp(h),
                    p
                  );
                }
                function Yh(h, p, _, x, S) {
                  var T = p,
                    k = _,
                    P = Je(h, p.line),
                    N = S && 'rtl' == h.direction ? -_ : _;
                  function V(Yt) {
                    var le, Jt;
                    if ('codepoint' == x) {
                      var we = P.text.charCodeAt(p.ch + (_ > 0 ? 0 : -1));
                      le = isNaN(we)
                        ? null
                        : new Se(
                            p.line,
                            Math.max(
                              0,
                              Math.min(
                                P.text.length,
                                p.ch +
                                  _ *
                                    ((
                                      _ > 0
                                        ? we >= 55296 && we < 56320
                                        : we >= 56320 && we < 57343
                                    )
                                      ? 2
                                      : 1)
                              )
                            ),
                            -_
                          );
                    } else
                      le = S
                        ? (function (Ce, hr, Ue, Ir) {
                            var cr = Et(hr, Ce.doc.direction);
                            if (!cr) return Nu(hr, Ue, Ir);
                            Ue.ch >= hr.text.length
                              ? ((Ue.ch = hr.text.length),
                                (Ue.sticky = 'before'))
                              : Ue.ch <= 0 &&
                                ((Ue.ch = 0), (Ue.sticky = 'after'));
                            var Hr = et(cr, Ue.ch, Ue.sticky),
                              Jr = cr[Hr];
                            if (
                              'ltr' == Ce.doc.direction &&
                              Jr.level % 2 == 0 &&
                              (Ir > 0 ? Jr.to > Ue.ch : Jr.from < Ue.ch)
                            )
                              return Nu(hr, Ue, Ir);
                            var Pr,
                              Sr = function (jr, jn) {
                                return Hh(
                                  hr,
                                  jr instanceof Se ? jr.ch : jr,
                                  jn
                                );
                              },
                              Gr = function (jr) {
                                return Ce.options.lineWrapping
                                  ? ((Pr = Pr || _o(Ce, hr)),
                                    Tv(Ce, hr, Pr, jr))
                                  : { begin: 0, end: hr.text.length };
                              },
                              Mr = Gr(
                                'before' == Ue.sticky ? Sr(Ue, -1) : Ue.ch
                              );
                            if ('rtl' == Ce.doc.direction || 1 == Jr.level) {
                              var tn = (1 == Jr.level) == Ir < 0,
                                gr = Sr(Ue, tn ? 1 : -1);
                              if (
                                null != gr &&
                                (tn
                                  ? gr <= Jr.to && gr <= Mr.end
                                  : gr >= Jr.from && gr >= Mr.begin)
                              )
                                return new Se(
                                  Ue.line,
                                  gr,
                                  tn ? 'before' : 'after'
                                );
                            }
                            var wr = function (jr, jn, Kn) {
                                for (; jr >= 0 && jr < cr.length; jr += jn) {
                                  var yi = cr[jr],
                                    Sa = jn > 0 == (1 != yi.level),
                                    Qn = Sa ? Kn.begin : Sr(Kn.end, -1);
                                  if (
                                    (yi.from <= Qn && Qn < yi.to) ||
                                    ((Qn = Sa ? yi.from : Sr(yi.to, -1)),
                                    Kn.begin <= Qn && Qn < Kn.end)
                                  )
                                    return (
                                      (wa = Qn),
                                      Sa
                                        ? new Se(Ue.line, Sr(wa, 1), 'before')
                                        : new Se(Ue.line, wa, 'after')
                                    );
                                }
                                var wa;
                              },
                              Ur = wr(Hr + Ir, Ir, Mr);
                            if (Ur) return Ur;
                            var zn = Ir > 0 ? Mr.end : Sr(Mr.begin, -1);
                            return null == zn ||
                              (Ir > 0 && zn == hr.text.length) ||
                              !(Ur = wr(Ir > 0 ? 0 : cr.length - 1, Ir, Gr(zn)))
                              ? null
                              : Ur;
                          })(h.cm, P, p, _)
                        : Nu(P, p, _);
                    if (null == le) {
                      if (
                        Yt ||
                        (Jt = p.line + N) < h.first ||
                        Jt >= h.first + h.size ||
                        ((p = new Se(Jt, p.ch, p.sticky)), !(P = Je(h, Jt)))
                      )
                        return !1;
                      p = zu(S, h.cm, P, p.line, N);
                    } else p = le;
                    return !0;
                  }
                  if ('char' == x || 'codepoint' == x) V();
                  else if ('column' == x) V(!0);
                  else if ('word' == x || 'group' == x)
                    for (
                      var q = null,
                        j = 'group' == x,
                        vt = h.cm && h.cm.getHelper(p, 'wordChars'),
                        at = !0;
                      !(_ < 0) || V(!at);
                      at = !1
                    ) {
                      var Mt = P.text.charAt(p.ch) || '\n',
                        Ft = qt(Mt, vt)
                          ? 'w'
                          : j && '\n' == Mt
                          ? 'n'
                          : !j || /\s/.test(Mt)
                          ? null
                          : 'p';
                      if ((!j || at || Ft || (Ft = 's'), q && q != Ft)) {
                        _ < 0 && ((_ = 1), V(), (p.sticky = 'after'));
                        break;
                      }
                      if ((Ft && (q = Ft), _ > 0 && !V(!at))) break;
                    }
                  var St = gi(h, p, T, k, !0);
                  return vl(T, St) && (St.hitSide = !0), St;
                }
                function rp(h, p, _, x) {
                  var S,
                    T,
                    k = h.doc,
                    P = p.left;
                  if ('page' == x) {
                    var N = Math.min(
                        h.display.wrapper.clientHeight,
                        F(h).innerHeight || k(h).documentElement.clientHeight
                      ),
                      V = Math.max(N - 0.5 * Za(h.display), 3);
                    S = (_ > 0 ? p.bottom : p.top) + _ * V;
                  } else 'line' == x && (S = _ > 0 ? p.bottom + 3 : p.top - 3);
                  for (; (T = Qc(h, P, S)).outside; ) {
                    if (_ < 0 ? S <= 0 : S >= k.height) {
                      T.hitSide = !0;
                      break;
                    }
                    S += 5 * _;
                  }
                  return T;
                }
                var rn = function (h) {
                  (this.cm = h),
                    (this.lastAnchorNode =
                      this.lastAnchorOffset =
                      this.lastFocusNode =
                      this.lastFocusOffset =
                        null),
                    (this.polling = new Ar()),
                    (this.composing = null),
                    (this.gracePeriod = !1),
                    (this.readDOMTimeout = null);
                };
                function Fl(h, p) {
                  var _ = qc(h, p.line);
                  if (!_ || _.hidden) return null;
                  var x = Je(h.doc, p.line),
                    S = vu(_, x, p.line),
                    T = Et(x, h.doc.direction),
                    k = 'left';
                  T && (k = et(T, p.ch) % 2 ? 'right' : 'left');
                  var P = So(S.map, p.ch, k);
                  return (
                    (P.offset = 'right' == P.collapse ? P.end : P.start), P
                  );
                }
                function gn(h, p) {
                  return p && (h.bad = !0), h;
                }
                function Yu(h, p, _) {
                  var x;
                  if (p == h.display.lineDiv) {
                    if (!(x = h.display.lineDiv.childNodes[_]))
                      return gn(h.clipPos(Se(h.display.viewTo - 1)), !0);
                    (p = null), (_ = 0);
                  } else
                    for (x = p; ; x = x.parentNode) {
                      if (!x || x == h.display.lineDiv) return null;
                      if (x.parentNode && x.parentNode == h.display.lineDiv)
                        break;
                    }
                  for (var S = 0; S < h.display.view.length; S++) {
                    var T = h.display.view[S];
                    if (T.node == x) return np(T, p, _);
                  }
                }
                function np(h, p, _) {
                  var x = h.text.firstChild,
                    S = !1;
                  if (!p || !Ot(x, p)) return gn(Se(Kr(h.line), 0), !0);
                  if (
                    p == x &&
                    ((S = !0), (p = x.childNodes[_]), (_ = 0), !p)
                  ) {
                    var T = h.rest ? U(h.rest) : h.line;
                    return gn(Se(Kr(T), T.text.length), S);
                  }
                  var k = 3 == p.nodeType ? p : null,
                    P = p;
                  for (
                    k ||
                    1 != p.childNodes.length ||
                    3 != p.firstChild.nodeType ||
                    ((k = p.firstChild), _ && (_ = k.nodeValue.length));
                    P.parentNode != x;

                  )
                    P = P.parentNode;
                  var N = h.measure,
                    V = N.maps;
                  function q(St, Yt, le) {
                    for (var Jt = -1; Jt < (V ? V.length : 0); Jt++)
                      for (
                        var we = Jt < 0 ? N.map : V[Jt], be = 0;
                        be < we.length;
                        be += 3
                      ) {
                        var Ce = we[be + 2];
                        if (Ce == St || Ce == Yt) {
                          var hr = Kr(Jt < 0 ? h.line : h.rest[Jt]),
                            Ue = we[be] + le;
                          return (
                            (le < 0 || Ce != St) &&
                              (Ue = we[be + (le ? 1 : 0)]),
                            Se(hr, Ue)
                          );
                        }
                      }
                  }
                  var j = q(k, P, _);
                  if (j) return gn(j, S);
                  for (
                    var vt = P.nextSibling, at = k ? k.nodeValue.length - _ : 0;
                    vt;
                    vt = vt.nextSibling
                  ) {
                    if ((j = q(vt, vt.firstChild, 0)))
                      return gn(Se(j.line, j.ch - at), S);
                    at += vt.textContent.length;
                  }
                  for (
                    var Mt = P.previousSibling, Ft = _;
                    Mt;
                    Mt = Mt.previousSibling
                  ) {
                    if ((j = q(Mt, Mt.firstChild, -1)))
                      return gn(Se(j.line, j.ch + Ft), S);
                    Ft += Mt.textContent.length;
                  }
                }
                (rn.prototype.init = function (h) {
                  var p = this,
                    _ = this,
                    x = _.cm,
                    S = (_.div = h.lineDiv);
                  function T(P) {
                    for (var N = P.target; N; N = N.parentNode) {
                      if (N == S) return !0;
                      if (/\bCodeMirror-(?:line)?widget\b/.test(N.className))
                        break;
                    }
                    return !1;
                  }
                  function k(P) {
                    if (T(P) && !ze(x, P)) {
                      if (x.somethingSelected())
                        Io({ lineWise: !1, text: x.getSelections() }),
                          'cut' == P.type &&
                            x.replaceSelection('', null, 'cut');
                      else {
                        if (!x.options.lineWiseCopyCut) return;
                        var N = Jv(x);
                        Io({ lineWise: !0, text: N.text }),
                          'cut' == P.type &&
                            x.operation(function () {
                              x.setSelections(N.ranges, 0, kt),
                                x.replaceSelection('', null, 'cut');
                            });
                      }
                      if (P.clipboardData) {
                        P.clipboardData.clearData();
                        var V = _a.text.join('\n');
                        if (
                          (P.clipboardData.setData('Text', V),
                          P.clipboardData.getData('Text') == V)
                        )
                          return void P.preventDefault();
                      }
                      var q = ep(),
                        j = q.firstChild;
                      x.display.lineSpace.insertBefore(
                        q,
                        x.display.lineSpace.firstChild
                      ),
                        (j.value = _a.text.join('\n'));
                      var vt = st(S.ownerDocument);
                      Ee(j),
                        setTimeout(function () {
                          x.display.lineSpace.removeChild(q),
                            vt.focus(),
                            vt == S && _.showPrimarySelection();
                        }, 50);
                    }
                  }
                  (S.contentEditable = !0),
                    tp(
                      S,
                      x.options.spellcheck,
                      x.options.autocorrect,
                      x.options.autocapitalize
                    ),
                    Rt(S, 'paste', function (P) {
                      !T(P) ||
                        ze(x, P) ||
                        Uh(P, x) ||
                        (ve <= 11 &&
                          setTimeout(
                            sn(x, function () {
                              return p.updateFromDOM();
                            }),
                            20
                          ));
                    }),
                    Rt(S, 'compositionstart', function (P) {
                      p.composing = { data: P.data, done: !1 };
                    }),
                    Rt(S, 'compositionupdate', function (P) {
                      p.composing || (p.composing = { data: P.data, done: !1 });
                    }),
                    Rt(S, 'compositionend', function (P) {
                      p.composing &&
                        (P.data != p.composing.data && p.readFromDOMSoon(),
                        (p.composing.done = !0));
                    }),
                    Rt(S, 'touchstart', function () {
                      return _.forceCompositionEnd();
                    }),
                    Rt(S, 'input', function () {
                      p.composing || p.readFromDOMSoon();
                    }),
                    Rt(S, 'copy', k),
                    Rt(S, 'cut', k);
                }),
                  (rn.prototype.screenReaderLabelChanged = function (h) {
                    h
                      ? this.div.setAttribute('aria-label', h)
                      : this.div.removeAttribute('aria-label');
                  }),
                  (rn.prototype.prepareSelection = function () {
                    var h = vi(this.cm, !1);
                    return (
                      (h.focus = st(this.div.ownerDocument) == this.div), h
                    );
                  }),
                  (rn.prototype.showSelection = function (h, p) {
                    h &&
                      this.cm.display.view.length &&
                      ((h.focus || p) && this.showPrimarySelection(),
                      this.showMultipleSelections(h));
                  }),
                  (rn.prototype.getSelection = function () {
                    return this.cm.display.wrapper.ownerDocument.getSelection();
                  }),
                  (rn.prototype.showPrimarySelection = function () {
                    var h = this.getSelection(),
                      p = this.cm,
                      _ = p.doc.sel.primary(),
                      x = _.from(),
                      S = _.to();
                    if (
                      p.display.viewTo == p.display.viewFrom ||
                      x.line >= p.display.viewTo ||
                      S.line < p.display.viewFrom
                    )
                      h.removeAllRanges();
                    else {
                      var T = Yu(p, h.anchorNode, h.anchorOffset),
                        k = Yu(p, h.focusNode, h.focusOffset);
                      if (
                        !T ||
                        T.bad ||
                        !k ||
                        k.bad ||
                        0 != pr(_s(T, k), x) ||
                        0 != pr(ga(T, k), S)
                      ) {
                        var P = p.display.view,
                          N = (x.line >= p.display.viewFrom && Fl(p, x)) || {
                            node: P[0].measure.map[2],
                            offset: 0,
                          },
                          V = S.line < p.display.viewTo && Fl(p, S);
                        if (!V) {
                          var q = P[P.length - 1].measure,
                            j = q.maps ? q.maps[q.maps.length - 1] : q.map;
                          V = {
                            node: j[j.length - 1],
                            offset: j[j.length - 2] - j[j.length - 3],
                          };
                        }
                        if (N && V) {
                          var vt,
                            at = h.rangeCount && h.getRangeAt(0);
                          try {
                            vt = ir(N.node, N.offset, V.offset, V.node);
                          } catch {}
                          vt &&
                            (!Lt && p.state.focused
                              ? (h.collapse(N.node, N.offset),
                                vt.collapsed ||
                                  (h.removeAllRanges(), h.addRange(vt)))
                              : (h.removeAllRanges(), h.addRange(vt)),
                            at && null == h.anchorNode
                              ? h.addRange(at)
                              : Lt && this.startGracePeriod()),
                            this.rememberSelection();
                        } else h.removeAllRanges();
                      }
                    }
                  }),
                  (rn.prototype.startGracePeriod = function () {
                    var h = this;
                    clearTimeout(this.gracePeriod),
                      (this.gracePeriod = setTimeout(function () {
                        (h.gracePeriod = !1),
                          h.selectionChanged() &&
                            h.cm.operation(function () {
                              return (h.cm.curOp.selectionChanged = !0);
                            });
                      }, 20));
                  }),
                  (rn.prototype.showMultipleSelections = function (h) {
                    Gt(this.cm.display.cursorDiv, h.cursors),
                      Gt(this.cm.display.selectionDiv, h.selection);
                  }),
                  (rn.prototype.rememberSelection = function () {
                    var h = this.getSelection();
                    (this.lastAnchorNode = h.anchorNode),
                      (this.lastAnchorOffset = h.anchorOffset),
                      (this.lastFocusNode = h.focusNode),
                      (this.lastFocusOffset = h.focusOffset);
                  }),
                  (rn.prototype.selectionInEditor = function () {
                    var h = this.getSelection();
                    if (!h.rangeCount) return !1;
                    var p = h.getRangeAt(0).commonAncestorContainer;
                    return Ot(this.div, p);
                  }),
                  (rn.prototype.focus = function () {
                    'nocursor' != this.cm.options.readOnly &&
                      ((this.selectionInEditor() &&
                        st(this.div.ownerDocument) == this.div) ||
                        this.showSelection(this.prepareSelection(), !0),
                      this.div.focus());
                  }),
                  (rn.prototype.blur = function () {
                    this.div.blur();
                  }),
                  (rn.prototype.getField = function () {
                    return this.div;
                  }),
                  (rn.prototype.supportsTouch = function () {
                    return !0;
                  }),
                  (rn.prototype.receivedFocus = function () {
                    var h = this,
                      p = this;
                    this.selectionInEditor()
                      ? setTimeout(function () {
                          return h.pollSelection();
                        }, 20)
                      : pi(this.cm, function () {
                          return (p.cm.curOp.selectionChanged = !0);
                        }),
                      this.polling.set(
                        this.cm.options.pollInterval,
                        function _() {
                          p.cm.state.focused &&
                            (p.pollSelection(),
                            p.polling.set(p.cm.options.pollInterval, _));
                        }
                      );
                  }),
                  (rn.prototype.selectionChanged = function () {
                    var h = this.getSelection();
                    return (
                      h.anchorNode != this.lastAnchorNode ||
                      h.anchorOffset != this.lastAnchorOffset ||
                      h.focusNode != this.lastFocusNode ||
                      h.focusOffset != this.lastFocusOffset
                    );
                  }),
                  (rn.prototype.pollSelection = function () {
                    if (
                      null == this.readDOMTimeout &&
                      !this.gracePeriod &&
                      this.selectionChanged()
                    ) {
                      var h = this.getSelection(),
                        p = this.cm;
                      if (
                        ee &&
                        de &&
                        this.cm.display.gutterSpecs.length &&
                        (function (S) {
                          for (var T = S; T; T = T.parentNode)
                            if (/CodeMirror-gutter-wrapper/.test(T.className))
                              return !0;
                          return !1;
                        })(h.anchorNode)
                      )
                        return (
                          this.cm.triggerOnKeyDown({
                            type: 'keydown',
                            keyCode: 8,
                            preventDefault: Math.abs,
                          }),
                          this.blur(),
                          void this.focus()
                        );
                      if (!this.composing) {
                        this.rememberSelection();
                        var _ = Yu(p, h.anchorNode, h.anchorOffset),
                          x = Yu(p, h.focusNode, h.focusOffset);
                        _ &&
                          x &&
                          pi(p, function () {
                            Nn(p.doc, Ka(_, x), kt),
                              (_.bad || x.bad) &&
                                (p.curOp.selectionChanged = !0);
                          });
                      }
                    }
                  }),
                  (rn.prototype.pollContent = function () {
                    null != this.readDOMTimeout &&
                      (clearTimeout(this.readDOMTimeout),
                      (this.readDOMTimeout = null));
                    var h,
                      p,
                      _,
                      x = this.cm,
                      S = x.display,
                      T = x.doc.sel.primary(),
                      k = T.from(),
                      P = T.to();
                    if (
                      (0 == k.ch &&
                        k.line > x.firstLine() &&
                        (k = Se(k.line - 1, Je(x.doc, k.line - 1).length)),
                      P.ch == Je(x.doc, P.line).text.length &&
                        P.line < x.lastLine() &&
                        (P = Se(P.line + 1, 0)),
                      k.line < S.viewFrom || P.line > S.viewTo - 1)
                    )
                      return !1;
                    k.line == S.viewFrom || 0 == (h = Co(x, k.line))
                      ? ((p = Kr(S.view[0].line)), (_ = S.view[0].node))
                      : ((p = Kr(S.view[h].line)),
                        (_ = S.view[h - 1].node.nextSibling));
                    var N,
                      V,
                      q = Co(x, P.line);
                    if (
                      (q == S.view.length - 1
                        ? ((N = S.viewTo - 1), (V = S.lineDiv.lastChild))
                        : ((N = Kr(S.view[q + 1].line) - 1),
                          (V = S.view[q + 1].node.previousSibling)),
                      !_)
                    )
                      return !1;
                    for (
                      var j = x.doc.splitLines(
                          (function (hr, Ue, Ir, cr, Hr) {
                            var Jr = '',
                              Pr = !1,
                              Sr = hr.doc.lineSeparator(),
                              Gr = !1;
                            function tn() {
                              Pr &&
                                ((Jr += Sr), Gr && (Jr += Sr), (Pr = Gr = !1));
                            }
                            function gr(wr) {
                              wr && (tn(), (Jr += wr));
                            }
                            function Br(wr) {
                              if (1 == wr.nodeType) {
                                var Ur = wr.getAttribute('cm-text');
                                if (Ur) return void gr(Ur);
                                var zn,
                                  jr = wr.getAttribute('cm-marker');
                                if (jr) {
                                  var jn = hr.findMarks(
                                    Se(cr, 0),
                                    Se(Hr + 1, 0),
                                    (function Mr(wr) {
                                      return function (Ur) {
                                        return Ur.id == wr;
                                      };
                                    })(+jr)
                                  );
                                  return void (
                                    jn.length &&
                                    (zn = jn[0].find(0)) &&
                                    gr(dn(hr.doc, zn.from, zn.to).join(Sr))
                                  );
                                }
                                if (
                                  'false' == wr.getAttribute('contenteditable')
                                )
                                  return;
                                var Kn = /^(pre|div|p|li|table|br)$/i.test(
                                  wr.nodeName
                                );
                                if (
                                  !/^br$/i.test(wr.nodeName) &&
                                  0 == wr.textContent.length
                                )
                                  return;
                                Kn && tn();
                                for (
                                  var cn = 0;
                                  cn < wr.childNodes.length;
                                  cn++
                                )
                                  Br(wr.childNodes[cn]);
                                /^(pre|p)$/i.test(wr.nodeName) && (Gr = !0),
                                  Kn && (Pr = !0);
                              } else
                                3 == wr.nodeType &&
                                  gr(
                                    wr.nodeValue
                                      .replace(/\u200b/g, '')
                                      .replace(/\u00a0/g, ' ')
                                  );
                            }
                            for (; Br(Ue), Ue != Ir; )
                              (Ue = Ue.nextSibling), (Gr = !1);
                            return Jr;
                          })(x, _, V, p, N)
                        ),
                        vt = dn(
                          x.doc,
                          Se(p, 0),
                          Se(N, Je(x.doc, N).text.length)
                        );
                      j.length > 1 && vt.length > 1;

                    )
                      if (U(j) == U(vt)) j.pop(), vt.pop(), N--;
                      else {
                        if (j[0] != vt[0]) break;
                        j.shift(), vt.shift(), p++;
                      }
                    for (
                      var at = 0,
                        Mt = 0,
                        Ft = j[0],
                        St = vt[0],
                        Yt = Math.min(Ft.length, St.length);
                      at < Yt && Ft.charCodeAt(at) == St.charCodeAt(at);

                    )
                      ++at;
                    for (
                      var le = U(j),
                        Jt = U(vt),
                        we = Math.min(
                          le.length - (1 == j.length ? at : 0),
                          Jt.length - (1 == vt.length ? at : 0)
                        );
                      Mt < we &&
                      le.charCodeAt(le.length - Mt - 1) ==
                        Jt.charCodeAt(Jt.length - Mt - 1);

                    )
                      ++Mt;
                    if (1 == j.length && 1 == vt.length && p == k.line)
                      for (
                        ;
                        at &&
                        at > k.ch &&
                        le.charCodeAt(le.length - Mt - 1) ==
                          Jt.charCodeAt(Jt.length - Mt - 1);

                      )
                        at--, Mt++;
                    (j[j.length - 1] = le
                      .slice(0, le.length - Mt)
                      .replace(/^\u200b+/, '')),
                      (j[0] = j[0].slice(at).replace(/\u200b+$/, ''));
                    var be = Se(p, at),
                      Ce = Se(N, vt.length ? U(vt).length - Mt : 0);
                    return j.length > 1 || j[0] || pr(be, Ce)
                      ? (Qo(x.doc, j, be, Ce, '+input'), !0)
                      : void 0;
                  }),
                  (rn.prototype.ensurePolled = function () {
                    this.forceCompositionEnd();
                  }),
                  (rn.prototype.reset = function () {
                    this.forceCompositionEnd();
                  }),
                  (rn.prototype.forceCompositionEnd = function () {
                    this.composing &&
                      (clearTimeout(this.readDOMTimeout),
                      (this.composing = null),
                      this.updateFromDOM(),
                      this.div.blur(),
                      this.div.focus());
                  }),
                  (rn.prototype.readFromDOMSoon = function () {
                    var h = this;
                    null == this.readDOMTimeout &&
                      (this.readDOMTimeout = setTimeout(function () {
                        if (((h.readDOMTimeout = null), h.composing)) {
                          if (!h.composing.done) return;
                          h.composing = null;
                        }
                        h.updateFromDOM();
                      }, 80));
                  }),
                  (rn.prototype.updateFromDOM = function () {
                    var h = this;
                    (!this.cm.isReadOnly() && this.pollContent()) ||
                      pi(this.cm, function () {
                        return Sn(h.cm);
                      });
                  }),
                  (rn.prototype.setUneditable = function (h) {
                    h.contentEditable = 'false';
                  }),
                  (rn.prototype.onKeyPress = function (h) {
                    0 == h.charCode ||
                      this.composing ||
                      (h.preventDefault(),
                      this.cm.isReadOnly() ||
                        sn(this.cm, $h)(
                          this.cm,
                          String.fromCharCode(
                            null == h.charCode ? h.keyCode : h.charCode
                          ),
                          0
                        ));
                  }),
                  (rn.prototype.readOnlyChanged = function (h) {
                    this.div.contentEditable = String('nocursor' != h);
                  }),
                  (rn.prototype.onContextMenu = function () {}),
                  (rn.prototype.resetPosition = function () {}),
                  (rn.prototype.needsContentAttribute = !0);
                var h,
                  p,
                  _,
                  xn = function (h) {
                    (this.cm = h),
                      (this.prevInput = ''),
                      (this.pollingFast = !1),
                      (this.polling = new Ar()),
                      (this.hasSelection = !1),
                      (this.composing = null),
                      (this.resetting = !1);
                  };
                (xn.prototype.init = function (h) {
                  var p = this,
                    _ = this,
                    x = this.cm;
                  this.createField(h);
                  var S = this.textarea;
                  function T(k) {
                    if (!ze(x, k)) {
                      if (x.somethingSelected())
                        Io({ lineWise: !1, text: x.getSelections() });
                      else {
                        if (!x.options.lineWiseCopyCut) return;
                        var P = Jv(x);
                        Io({ lineWise: !0, text: P.text }),
                          'cut' == k.type
                            ? x.setSelections(P.ranges, null, kt)
                            : ((_.prevInput = ''),
                              (S.value = P.text.join('\n')),
                              Ee(S));
                      }
                      'cut' == k.type && (x.state.cutIncoming = +new Date());
                    }
                  }
                  h.wrapper.insertBefore(this.wrapper, h.wrapper.firstChild),
                    Bt && (S.style.width = '0px'),
                    Rt(S, 'input', function () {
                      ct &&
                        ve >= 9 &&
                        p.hasSelection &&
                        (p.hasSelection = null),
                        _.poll();
                    }),
                    Rt(S, 'paste', function (k) {
                      ze(x, k) ||
                        Uh(k, x) ||
                        ((x.state.pasteIncoming = +new Date()), _.fastPoll());
                    }),
                    Rt(S, 'cut', T),
                    Rt(S, 'copy', T),
                    Rt(h.scroller, 'paste', function (k) {
                      if (!Ua(h, k) && !ze(x, k)) {
                        if (!S.dispatchEvent)
                          return (
                            (x.state.pasteIncoming = +new Date()),
                            void _.focus()
                          );
                        var P = new Event('paste');
                        (P.clipboardData = k.clipboardData), S.dispatchEvent(P);
                      }
                    }),
                    Rt(h.lineSpace, 'selectstart', function (k) {
                      Ua(h, k) || $e(k);
                    }),
                    Rt(S, 'compositionstart', function () {
                      var k = x.getCursor('from');
                      _.composing && _.composing.range.clear(),
                        (_.composing = {
                          start: k,
                          range: x.markText(k, x.getCursor('to'), {
                            className: 'CodeMirror-composing',
                          }),
                        });
                    }),
                    Rt(S, 'compositionend', function () {
                      _.composing &&
                        (_.poll(),
                        _.composing.range.clear(),
                        (_.composing = null));
                    });
                }),
                  (xn.prototype.createField = function (h) {
                    (this.wrapper = ep()),
                      (this.textarea = this.wrapper.firstChild);
                  }),
                  (xn.prototype.screenReaderLabelChanged = function (h) {
                    h
                      ? this.textarea.setAttribute('aria-label', h)
                      : this.textarea.removeAttribute('aria-label');
                  }),
                  (xn.prototype.prepareSelection = function () {
                    var h = this.cm,
                      p = h.display,
                      _ = h.doc,
                      x = vi(h);
                    if (h.options.moveInputWithCursor) {
                      var S = Ea(h, _.sel.primary().head, 'div'),
                        T = p.wrapper.getBoundingClientRect(),
                        k = p.lineDiv.getBoundingClientRect();
                      (x.teTop = Math.max(
                        0,
                        Math.min(
                          p.wrapper.clientHeight - 10,
                          S.top + k.top - T.top
                        )
                      )),
                        (x.teLeft = Math.max(
                          0,
                          Math.min(
                            p.wrapper.clientWidth - 10,
                            S.left + k.left - T.left
                          )
                        ));
                    }
                    return x;
                  }),
                  (xn.prototype.showSelection = function (h) {
                    var p = this.cm.display;
                    Gt(p.cursorDiv, h.cursors),
                      Gt(p.selectionDiv, h.selection),
                      null != h.teTop &&
                        ((this.wrapper.style.top = h.teTop + 'px'),
                        (this.wrapper.style.left = h.teLeft + 'px'));
                  }),
                  (xn.prototype.reset = function (h) {
                    if (!(this.contextMenuPending || (this.composing && h))) {
                      var p = this.cm;
                      if (((this.resetting = !0), p.somethingSelected())) {
                        this.prevInput = '';
                        var _ = p.getSelection();
                        (this.textarea.value = _),
                          p.state.focused && Ee(this.textarea),
                          ct && ve >= 9 && (this.hasSelection = _);
                      } else
                        h ||
                          ((this.prevInput = this.textarea.value = ''),
                          ct && ve >= 9 && (this.hasSelection = null));
                      this.resetting = !1;
                    }
                  }),
                  (xn.prototype.getField = function () {
                    return this.textarea;
                  }),
                  (xn.prototype.supportsTouch = function () {
                    return !1;
                  }),
                  (xn.prototype.focus = function () {
                    if (
                      'nocursor' != this.cm.options.readOnly &&
                      (!ne || st(this.textarea.ownerDocument) != this.textarea)
                    )
                      try {
                        this.textarea.focus();
                      } catch {}
                  }),
                  (xn.prototype.blur = function () {
                    this.textarea.blur();
                  }),
                  (xn.prototype.resetPosition = function () {
                    this.wrapper.style.top = this.wrapper.style.left = 0;
                  }),
                  (xn.prototype.receivedFocus = function () {
                    this.slowPoll();
                  }),
                  (xn.prototype.slowPoll = function () {
                    var h = this;
                    this.pollingFast ||
                      this.polling.set(
                        this.cm.options.pollInterval,
                        function () {
                          h.poll(), h.cm.state.focused && h.slowPoll();
                        }
                      );
                  }),
                  (xn.prototype.fastPoll = function () {
                    var h = !1,
                      p = this;
                    (p.pollingFast = !0),
                      p.polling.set(20, function _() {
                        p.poll() || h
                          ? ((p.pollingFast = !1), p.slowPoll())
                          : ((h = !0), p.polling.set(60, _));
                      });
                  }),
                  (xn.prototype.poll = function () {
                    var h = this,
                      p = this.cm,
                      _ = this.textarea,
                      x = this.prevInput;
                    if (
                      this.contextMenuPending ||
                      this.resetting ||
                      !p.state.focused ||
                      (Wn(_) && !x && !this.composing) ||
                      p.isReadOnly() ||
                      p.options.disableInput ||
                      p.state.keySeq
                    )
                      return !1;
                    var S = _.value;
                    if (S == x && !p.somethingSelected()) return !1;
                    if (
                      (ct && ve >= 9 && this.hasSelection === S) ||
                      (Kt && /[\uf700-\uf7ff]/.test(S))
                    )
                      return p.display.input.reset(), !1;
                    if (p.doc.sel == p.display.selForContextMenu) {
                      var T = S.charCodeAt(0);
                      if ((8203 != T || x || (x = '\u200b'), 8666 == T))
                        return this.reset(), this.cm.execCommand('undo');
                    }
                    for (
                      var k = 0, P = Math.min(x.length, S.length);
                      k < P && x.charCodeAt(k) == S.charCodeAt(k);

                    )
                      ++k;
                    return (
                      pi(p, function () {
                        $h(
                          p,
                          S.slice(k),
                          x.length - k,
                          null,
                          h.composing ? '*compose' : null
                        ),
                          S.length > 1e3 || S.indexOf('\n') > -1
                            ? (_.value = h.prevInput = '')
                            : (h.prevInput = S),
                          h.composing &&
                            (h.composing.range.clear(),
                            (h.composing.range = p.markText(
                              h.composing.start,
                              p.getCursor('to'),
                              { className: 'CodeMirror-composing' }
                            )));
                      }),
                      !0
                    );
                  }),
                  (xn.prototype.ensurePolled = function () {
                    this.pollingFast && this.poll() && (this.pollingFast = !1);
                  }),
                  (xn.prototype.onKeyPress = function () {
                    ct && ve >= 9 && (this.hasSelection = null),
                      this.fastPoll();
                  }),
                  (xn.prototype.onContextMenu = function (h) {
                    var p = this,
                      _ = p.cm,
                      x = _.display,
                      S = p.textarea;
                    p.contextMenuPending && p.contextMenuPending();
                    var T = ra(_, h),
                      k = x.scroller.scrollTop;
                    if (T && !Zt) {
                      _.options.resetSelectionOnContextMenu &&
                        -1 == _.doc.sel.contains(T) &&
                        sn(_, Nn)(_.doc, Ka(T), kt);
                      var P,
                        N = S.style.cssText,
                        V = p.wrapper.style.cssText,
                        q = p.wrapper.offsetParent.getBoundingClientRect();
                      if (
                        ((p.wrapper.style.cssText = 'position: static'),
                        (S.style.cssText =
                          'position: absolute; width: 30px; height: 30px;\n      top: ' +
                          (h.clientY - q.top - 5) +
                          'px; left: ' +
                          (h.clientX - q.left - 5) +
                          'px;\n      z-index: 1000; background: ' +
                          (ct ? 'rgba(255, 255, 255, .05)' : 'transparent') +
                          ';\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);'),
                        Qt && (P = S.ownerDocument.defaultView.scrollY),
                        x.input.focus(),
                        Qt && S.ownerDocument.defaultView.scrollTo(null, P),
                        x.input.reset(),
                        _.somethingSelected() || (S.value = p.prevInput = ' '),
                        (p.contextMenuPending = at),
                        (x.selForContextMenu = _.doc.sel),
                        clearTimeout(x.detectingSelectAll),
                        ct && ve >= 9 && vt(),
                        qe)
                      ) {
                        Ke(h);
                        var j = function () {
                          se(window, 'mouseup', j), setTimeout(at, 20);
                        };
                        Rt(window, 'mouseup', j);
                      } else setTimeout(at, 50);
                    }
                    function vt() {
                      if (null != S.selectionStart) {
                        var Mt = _.somethingSelected(),
                          Ft = '\u200b' + (Mt ? S.value : '');
                        (S.value = '\u21da'),
                          (S.value = Ft),
                          (p.prevInput = Mt ? '' : '\u200b'),
                          (S.selectionStart = 1),
                          (S.selectionEnd = Ft.length),
                          (x.selForContextMenu = _.doc.sel);
                      }
                    }
                    function at() {
                      if (
                        p.contextMenuPending == at &&
                        ((p.contextMenuPending = !1),
                        (p.wrapper.style.cssText = V),
                        (S.style.cssText = N),
                        ct &&
                          ve < 9 &&
                          x.scrollbars.setScrollTop((x.scroller.scrollTop = k)),
                        null != S.selectionStart)
                      ) {
                        (!ct || (ct && ve < 9)) && vt();
                        var Mt = 0,
                          Ft = function () {
                            x.selForContextMenu == _.doc.sel &&
                            0 == S.selectionStart &&
                            S.selectionEnd > 0 &&
                            '\u200b' == p.prevInput
                              ? sn(_, kl)(_)
                              : Mt++ < 10
                              ? (x.detectingSelectAll = setTimeout(Ft, 500))
                              : ((x.selForContextMenu = null), x.input.reset());
                          };
                        x.detectingSelectAll = setTimeout(Ft, 200);
                      }
                    }
                  }),
                  (xn.prototype.readOnlyChanged = function (h) {
                    h || this.reset(),
                      (this.textarea.disabled = 'nocursor' == h),
                      (this.textarea.readOnly = !!h);
                  }),
                  (xn.prototype.setUneditable = function () {}),
                  (xn.prototype.needsContentAttribute = !1),
                  (function (h) {
                    var p = h.optionHandlers;
                    function _(x, S, T, k) {
                      (h.defaults[x] = S),
                        T &&
                          (p[x] = k
                            ? function (P, N, V) {
                                V != un && T(P, N, V);
                              }
                            : T);
                    }
                    (h.defineOption = _),
                      (h.Init = un),
                      _(
                        'value',
                        '',
                        function (x, S) {
                          return x.setValue(S);
                        },
                        !0
                      ),
                      _(
                        'mode',
                        null,
                        function (x, S) {
                          (x.doc.modeOption = S), Au(x);
                        },
                        !0
                      ),
                      _('indentUnit', 2, Au, !0),
                      _('indentWithTabs', !1),
                      _('smartIndent', !0),
                      _(
                        'tabSize',
                        4,
                        function (x) {
                          Mu(x), $o(x), Sn(x);
                        },
                        !0
                      ),
                      _('lineSeparator', null, function (x, S) {
                        if (((x.doc.lineSep = S), S)) {
                          var T = [],
                            k = x.doc.first;
                          x.doc.iter(function (N) {
                            for (var V = 0; ; ) {
                              var q = N.text.indexOf(S, V);
                              if (-1 == q) break;
                              (V = q + S.length), T.push(Se(k, q));
                            }
                            k++;
                          });
                          for (var P = T.length - 1; P >= 0; P--)
                            Qo(
                              x.doc,
                              S,
                              T[P],
                              Se(T[P].line, T[P].ch + S.length)
                            );
                        }
                      }),
                      _(
                        'specialChars',
                        /[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,
                        function (x, S, T) {
                          (x.state.specialChars = new RegExp(
                            S.source + (S.test('\t') ? '' : '|\t'),
                            'g'
                          )),
                            T != un && x.refresh();
                        }
                      ),
                      _(
                        'specialCharPlaceholder',
                        De,
                        function (x) {
                          return x.refresh();
                        },
                        !0
                      ),
                      _('electricChars', !0),
                      _(
                        'inputStyle',
                        ne ? 'contenteditable' : 'textarea',
                        function () {
                          throw new Error(
                            'inputStyle can not (yet) be changed in a running editor'
                          );
                        },
                        !0
                      ),
                      _(
                        'spellcheck',
                        !1,
                        function (x, S) {
                          return (x.getInputField().spellcheck = S);
                        },
                        !0
                      ),
                      _(
                        'autocorrect',
                        !1,
                        function (x, S) {
                          return (x.getInputField().autocorrect = S);
                        },
                        !0
                      ),
                      _(
                        'autocapitalize',
                        !1,
                        function (x, S) {
                          return (x.getInputField().autocapitalize = S);
                        },
                        !0
                      ),
                      _('rtlMoveVisually', !Le),
                      _('wholeLineUpdateBefore', !0),
                      _(
                        'theme',
                        'default',
                        function (x) {
                          oa(x), Ml(x);
                        },
                        !0
                      ),
                      _('keyMap', 'default', function (x, S, T) {
                        var k = cf(S),
                          P = T != un && cf(T);
                        P && P.detach && P.detach(x, k),
                          k.attach && k.attach(x, P || null);
                      }),
                      _('extraKeys', null),
                      _('configureMouse', null),
                      _('lineWrapping', !1, Kv, !0),
                      _(
                        'gutters',
                        [],
                        function (x, S) {
                          (x.display.gutterSpecs = Du(
                            S,
                            x.options.lineNumbers
                          )),
                            Ml(x);
                        },
                        !0
                      ),
                      _(
                        'fixedGutter',
                        !0,
                        function (x, S) {
                          (x.display.gutters.style.left = S
                            ? _h(x.display) + 'px'
                            : '0'),
                            x.refresh();
                        },
                        !0
                      ),
                      _(
                        'coverGutterNextToScrollbar',
                        !1,
                        function (x) {
                          return Cl(x);
                        },
                        !0
                      ),
                      _(
                        'scrollbarStyle',
                        'native',
                        function (x) {
                          Lv(x),
                            Cl(x),
                            x.display.scrollbars.setScrollTop(x.doc.scrollTop),
                            x.display.scrollbars.setScrollLeft(
                              x.doc.scrollLeft
                            );
                        },
                        !0
                      ),
                      _(
                        'lineNumbers',
                        !1,
                        function (x, S) {
                          (x.display.gutterSpecs = Du(x.options.gutters, S)),
                            Ml(x);
                        },
                        !0
                      ),
                      _('firstLineNumber', 1, Ml, !0),
                      _(
                        'lineNumberFormatter',
                        function (x) {
                          return x;
                        },
                        Ml,
                        !0
                      ),
                      _('showCursorWhenSelecting', !1, ja, !0),
                      _('resetSelectionOnContextMenu', !0),
                      _('lineWiseCopyCut', !0),
                      _('pasteLinesPerSelection', !0),
                      _('selectionsMayTouch', !1),
                      _('readOnly', !1, function (x, S) {
                        'nocursor' == S && (_l(x), x.display.input.blur()),
                          x.display.input.readOnlyChanged(S);
                      }),
                      _('screenReaderLabel', null, function (x, S) {
                        x.display.input.screenReaderLabelChanged(
                          (S = '' === S ? null : S)
                        );
                      }),
                      _(
                        'disableInput',
                        !1,
                        function (x, S) {
                          S || x.display.input.reset();
                        },
                        !0
                      ),
                      _('dragDrop', !0, jv),
                      _('allowDropFileTypes', null),
                      _('cursorBlinkRate', 530),
                      _('cursorScrollMargin', 0),
                      _('cursorHeight', 1, ja, !0),
                      _('singleCursorHeightPerLine', !0, ja, !0),
                      _('workTime', 100),
                      _('workDelay', 100),
                      _('flattenSpans', !0, Mu, !0),
                      _('addModeClass', !1, Mu, !0),
                      _('pollInterval', 100),
                      _('undoDepth', 200, function (x, S) {
                        return (x.doc.history.undoDepth = S);
                      }),
                      _('historyEventDelay', 1250),
                      _(
                        'viewportMargin',
                        10,
                        function (x) {
                          return x.refresh();
                        },
                        !0
                      ),
                      _('maxHighlightLength', 1e4, Mu, !0),
                      _('moveInputWithCursor', !0, function (x, S) {
                        S || x.display.input.resetPosition();
                      }),
                      _('tabindex', null, function (x, S) {
                        return (x.display.input.getField().tabIndex = S || '');
                      }),
                      _('autofocus', null),
                      _(
                        'direction',
                        'ltr',
                        function (x, S) {
                          return x.doc.setDirection(S);
                        },
                        !0
                      ),
                      _('phrases', null);
                  })(vn),
                  (p = (h = vn).optionHandlers),
                  (_ = h.helpers = {}),
                  (h.prototype = {
                    constructor: h,
                    focus: function () {
                      F(this).focus(), this.display.input.focus();
                    },
                    setOption: function (x, S) {
                      var T = this.options,
                        k = T[x];
                      (T[x] == S && 'mode' != x) ||
                        ((T[x] = S),
                        p.hasOwnProperty(x) && sn(this, p[x])(this, S, k),
                        pe(this, 'optionChange', this, x));
                    },
                    getOption: function (x) {
                      return this.options[x];
                    },
                    getDoc: function () {
                      return this.doc;
                    },
                    addKeyMap: function (x, S) {
                      this.state.keyMaps[S ? 'push' : 'unshift'](cf(x));
                    },
                    removeKeyMap: function (x) {
                      for (var S = this.state.keyMaps, T = 0; T < S.length; ++T)
                        if (S[T] == x || S[T].name == x)
                          return S.splice(T, 1), !0;
                    },
                    addOverlay: Yn(function (x, S) {
                      var T = x.token ? x : h.getMode(this.options, x);
                      if (T.startState)
                        throw new Error('Overlays may not be stateful.');
                      (function (k, P, N) {
                        for (
                          var V = 0, q = N(P);
                          V < k.length && N(k[V]) <= q;

                        )
                          V++;
                        k.splice(V, 0, P);
                      })(
                        this.state.overlays,
                        {
                          mode: T,
                          modeSpec: x,
                          opaque: S && S.opaque,
                          priority: (S && S.priority) || 0,
                        },
                        function (k) {
                          return k.priority;
                        }
                      ),
                        this.state.modeGen++,
                        Sn(this);
                    }),
                    removeOverlay: Yn(function (x) {
                      for (
                        var S = this.state.overlays, T = 0;
                        T < S.length;
                        ++T
                      ) {
                        var k = S[T].modeSpec;
                        if (k == x || ('string' == typeof x && k.name == x))
                          return (
                            S.splice(T, 1), this.state.modeGen++, void Sn(this)
                          );
                      }
                    }),
                    indentLine: Yn(function (x, S, T) {
                      'string' != typeof S &&
                        'number' != typeof S &&
                        (S =
                          null == S
                            ? this.options.smartIndent
                              ? 'smart'
                              : 'prev'
                            : S
                            ? 'add'
                            : 'subtract'),
                        Go(this.doc, x) && Oa(this, x, S, T);
                    }),
                    indentSelection: Yn(function (x) {
                      for (
                        var S = this.doc.sel.ranges, T = -1, k = 0;
                        k < S.length;
                        k++
                      ) {
                        var P = S[k];
                        if (P.empty())
                          P.head.line > T &&
                            (Oa(this, P.head.line, x, !0),
                            (T = P.head.line),
                            k == this.doc.sel.primIndex && wl(this));
                        else {
                          var N = P.from(),
                            V = P.to(),
                            q = Math.max(T, N.line);
                          T =
                            Math.min(this.lastLine(), V.line - (V.ch ? 0 : 1)) +
                            1;
                          for (var j = q; j < T; ++j) Oa(this, j, x);
                          var vt = this.doc.sel.ranges;
                          0 == N.ch &&
                            S.length == vt.length &&
                            vt[k].from().ch > 0 &&
                            Mo(this.doc, k, new Qr(N, vt[k].to()), kt);
                        }
                      }
                    }),
                    getTokenAt: function (x, S) {
                      return Ha(this, x, S);
                    },
                    getLineTokens: function (x, S) {
                      return Ha(this, Se(x), S, !0);
                    },
                    getTokenTypeAt: function (x) {
                      x = mr(this.doc, x);
                      var S,
                        T = Dn(this, Je(this.doc, x.line)),
                        k = 0,
                        P = (T.length - 1) / 2,
                        N = x.ch;
                      if (0 == N) S = T[2];
                      else
                        for (;;) {
                          var V = (k + P) >> 1;
                          if ((V ? T[2 * V - 1] : 0) >= N) P = V;
                          else {
                            if (!(T[2 * V + 1] < N)) {
                              S = T[2 * V + 2];
                              break;
                            }
                            k = V + 1;
                          }
                        }
                      var q = S ? S.indexOf('overlay ') : -1;
                      return q < 0 ? S : 0 == q ? null : S.slice(0, q - 1);
                    },
                    getModeAt: function (x) {
                      var S = this.doc.mode;
                      return S.innerMode
                        ? h.innerMode(S, this.getTokenAt(x).state).mode
                        : S;
                    },
                    getHelper: function (x, S) {
                      return this.getHelpers(x, S)[0];
                    },
                    getHelpers: function (x, S) {
                      var T = [];
                      if (!_.hasOwnProperty(S)) return T;
                      var k = _[S],
                        P = this.getModeAt(x);
                      if ('string' == typeof P[S]) k[P[S]] && T.push(k[P[S]]);
                      else if (P[S])
                        for (var N = 0; N < P[S].length; N++) {
                          var V = k[P[S][N]];
                          V && T.push(V);
                        }
                      else
                        P.helperType && k[P.helperType]
                          ? T.push(k[P.helperType])
                          : k[P.name] && T.push(k[P.name]);
                      for (var q = 0; q < k._global.length; q++) {
                        var j = k._global[q];
                        j.pred(P, this) && -1 == Ne(T, j.val) && T.push(j.val);
                      }
                      return T;
                    },
                    getStateAfter: function (x, S) {
                      var T = this.doc;
                      return ws(
                        this,
                        (x = Ss(T, x ?? T.first + T.size - 1)) + 1,
                        S
                      ).state;
                    },
                    cursorCoords: function (x, S) {
                      var T = this.doc.sel.primary();
                      return Ea(
                        this,
                        null == x
                          ? T.head
                          : 'object' == typeof x
                          ? mr(this.doc, x)
                          : x
                          ? T.from()
                          : T.to(),
                        S || 'page'
                      );
                    },
                    charCoords: function (x, S) {
                      return yl(this, mr(this.doc, x), S || 'page');
                    },
                    coordsChar: function (x, S) {
                      return Qc(
                        this,
                        (x = On(this, x, S || 'page')).left,
                        x.top
                      );
                    },
                    lineAtHeight: function (x, S) {
                      return (
                        (x = On(this, { top: x, left: 0 }, S || 'page').top),
                        Li(this.doc, x + this.display.viewOffset)
                      );
                    },
                    heightAtLine: function (x, S, T) {
                      var k,
                        P = !1;
                      if ('number' == typeof x) {
                        var N = this.doc.first + this.doc.size - 1;
                        x < this.doc.first
                          ? (x = this.doc.first)
                          : x > N && ((x = N), (P = !0)),
                          (k = Je(this.doc, x));
                      } else k = x;
                      return (
                        Kc(this, k, { top: 0, left: 0 }, S || 'page', T || P)
                          .top + (P ? this.doc.height - A(k) : 0)
                      );
                    },
                    defaultTextHeight: function () {
                      return Za(this.display);
                    },
                    defaultCharWidth: function () {
                      return Es(this.display);
                    },
                    getViewport: function () {
                      return {
                        from: this.display.viewFrom,
                        to: this.display.viewTo,
                      };
                    },
                    addWidget: function (x, S, T, k, P) {
                      var q,
                        j = this.display,
                        vt = (x = Ea(this, mr(this.doc, x))).bottom,
                        at = x.left;
                      if (
                        ((S.style.position = 'absolute'),
                        S.setAttribute('cm-ignore-events', 'true'),
                        this.display.input.setUneditable(S),
                        j.sizer.appendChild(S),
                        'over' == k)
                      )
                        vt = x.top;
                      else if ('above' == k || 'near' == k) {
                        var Mt = Math.max(
                            j.wrapper.clientHeight,
                            this.doc.height
                          ),
                          Ft = Math.max(
                            j.sizer.clientWidth,
                            j.lineSpace.clientWidth
                          );
                        ('above' == k || x.bottom + S.offsetHeight > Mt) &&
                        x.top > S.offsetHeight
                          ? (vt = x.top - S.offsetHeight)
                          : x.bottom + S.offsetHeight <= Mt && (vt = x.bottom),
                          at + S.offsetWidth > Ft && (at = Ft - S.offsetWidth);
                      }
                      (S.style.top = vt + 'px'),
                        (S.style.left = S.style.right = ''),
                        'right' == P
                          ? ((at = j.sizer.clientWidth - S.offsetWidth),
                            (S.style.right = '0px'))
                          : ('left' == P
                              ? (at = 0)
                              : 'middle' == P &&
                                (at =
                                  (j.sizer.clientWidth - S.offsetWidth) / 2),
                            (S.style.left = at + 'px')),
                        T &&
                          (null !=
                            (q = Ps(this, {
                              left: at,
                              top: vt,
                              right: at + S.offsetWidth,
                              bottom: vt + S.offsetHeight,
                            })).scrollTop && ya(this, q.scrollTop),
                          null != q.scrollLeft && To(this, q.scrollLeft));
                    },
                    triggerOnKeyDown: Yn(Wu),
                    triggerOnKeyPress: Yn(Wh),
                    triggerOnKeyUp: Gh,
                    triggerOnMouseDown: Yn(Zv),
                    execCommand: function (x) {
                      if (Lo.hasOwnProperty(x)) return Lo[x].call(null, this);
                    },
                    triggerElectric: Yn(function (x) {
                      Qv(this, x);
                    }),
                    findPosH: function (x, S, T, k) {
                      var P = 1;
                      S < 0 && ((P = -1), (S = -S));
                      for (
                        var N = mr(this.doc, x), V = 0;
                        V < S && !(N = Yh(this.doc, N, P, T, k)).hitSide;
                        ++V
                      );
                      return N;
                    },
                    moveH: Yn(function (x, S) {
                      var T = this;
                      this.extendSelectionsBy(function (k) {
                        return T.display.shift || T.doc.extend || k.empty()
                          ? Yh(T.doc, k.head, x, S, T.options.rtlMoveVisually)
                          : x < 0
                          ? k.from()
                          : k.to();
                      }, Tt);
                    }),
                    deleteH: Yn(function (x, S) {
                      var k = this.doc;
                      this.doc.sel.somethingSelected()
                        ? k.replaceSelection('', null, '+delete')
                        : Ys(this, function (P) {
                            var N = Yh(k, P.head, x, S, !1);
                            return x < 0
                              ? { from: N, to: P.head }
                              : { from: P.head, to: N };
                          });
                    }),
                    findPosV: function (x, S, T, k) {
                      var P = 1,
                        N = k;
                      S < 0 && ((P = -1), (S = -S));
                      for (var V = mr(this.doc, x), q = 0; q < S; ++q) {
                        var j = Ea(this, V, 'div');
                        if (
                          (null == N ? (N = j.left) : (j.left = N),
                          (V = rp(this, j, P, T)).hitSide)
                        )
                          break;
                      }
                      return V;
                    },
                    moveV: Yn(function (x, S) {
                      var T = this,
                        k = this.doc,
                        P = [],
                        N =
                          !this.display.shift &&
                          !k.extend &&
                          k.sel.somethingSelected();
                      if (
                        (k.extendSelectionsBy(function (q) {
                          if (N) return x < 0 ? q.from() : q.to();
                          var j = Ea(T, q.head, 'div');
                          null != q.goalColumn && (j.left = q.goalColumn),
                            P.push(j.left);
                          var vt = rp(T, j, x, S);
                          return (
                            'page' == S &&
                              q == k.sel.primary() &&
                              Ch(T, yl(T, vt, 'div').top - j.top),
                            vt
                          );
                        }, Tt),
                        P.length)
                      )
                        for (var V = 0; V < k.sel.ranges.length; V++)
                          k.sel.ranges[V].goalColumn = P[V];
                    }),
                    findWordAt: function (x) {
                      var S = Je(this.doc, x.line).text,
                        T = x.ch,
                        k = x.ch;
                      if (S) {
                        var P = this.getHelper(x, 'wordChars');
                        ('before' != x.sticky && k != S.length) || !T
                          ? ++k
                          : --T;
                        for (
                          var N = S.charAt(T),
                            V = qt(N, P)
                              ? function (q) {
                                  return qt(q, P);
                                }
                              : /\s/.test(N)
                              ? function (q) {
                                  return /\s/.test(q);
                                }
                              : function (q) {
                                  return !/\s/.test(q) && !qt(q);
                                };
                          T > 0 && V(S.charAt(T - 1));

                        )
                          --T;
                        for (; k < S.length && V(S.charAt(k)); ) ++k;
                      }
                      return new Qr(Se(x.line, T), Se(x.line, k));
                    },
                    toggleOverwrite: function (x) {
                      (null != x && x == this.state.overwrite) ||
                        ((this.state.overwrite = !this.state.overwrite)
                          ? $(this.display.cursorDiv, 'CodeMirror-overwrite')
                          : He(this.display.cursorDiv, 'CodeMirror-overwrite'),
                        pe(
                          this,
                          'overwriteToggle',
                          this,
                          this.state.overwrite
                        ));
                    },
                    hasFocus: function () {
                      return this.display.input.getField() == st(sr(this));
                    },
                    isReadOnly: function () {
                      return !(!this.options.readOnly && !this.doc.cantEdit);
                    },
                    scrollTo: Yn(function (x, S) {
                      Uo(this, x, S);
                    }),
                    getScrollInfo: function () {
                      var x = this.display.scroller;
                      return {
                        left: x.scrollLeft,
                        top: x.scrollTop,
                        height:
                          x.scrollHeight - Fi(this) - this.display.barHeight,
                        width: x.scrollWidth - Fi(this) - this.display.barWidth,
                        clientHeight: Xa(this),
                        clientWidth: Ya(this),
                      };
                    },
                    scrollIntoView: Yn(function (x, S) {
                      var k;
                      null == x
                        ? ((x = {
                            from: this.doc.sel.primary().head,
                            to: null,
                          }),
                          null == S && (S = this.options.cursorScrollMargin))
                        : 'number' == typeof x
                        ? (x = { from: Se(x, 0), to: null })
                        : null == x.from && (x = { from: x, to: null }),
                        x.to || (x.to = x.from),
                        (x.margin = S || 0),
                        null != x.from.line
                          ? ((k = x), Yo(this), (this.curOp.scrollToPos = k))
                          : Dh(this, x.from, x.to, x.margin);
                    }),
                    setSize: Yn(function (x, S) {
                      var T = this,
                        k = function (N) {
                          return 'number' == typeof N || /^\d+$/.test(String(N))
                            ? N + 'px'
                            : N;
                        };
                      null != x && (this.display.wrapper.style.width = k(x)),
                        null != S && (this.display.wrapper.style.height = k(S)),
                        this.options.lineWrapping && yh(this);
                      var P = this.display.viewFrom;
                      this.doc.iter(P, this.display.viewTo, function (N) {
                        if (N.widgets)
                          for (var V = 0; V < N.widgets.length; V++)
                            if (N.widgets[V].noHScroll) {
                              Fn(T, P, 'widget');
                              break;
                            }
                        ++P;
                      }),
                        (this.curOp.forceUpdate = !0),
                        pe(this, 'refresh', this);
                    }),
                    operation: function (x) {
                      return pi(this, x);
                    },
                    startOperation: function () {
                      return Xo(this);
                    },
                    endOperation: function () {
                      return Zo(this);
                    },
                    refresh: Yn(function () {
                      var x = this.display.cachedTextHeight;
                      Sn(this),
                        (this.curOp.forceUpdate = !0),
                        $o(this),
                        Uo(this, this.doc.scrollLeft, this.doc.scrollTop),
                        Dl(this.display),
                        (null == x ||
                          Math.abs(x - Za(this.display)) > 0.5 ||
                          this.options.lineWrapping) &&
                          gu(this),
                        pe(this, 'refresh', this);
                    }),
                    swapDoc: Yn(function (x) {
                      var S = this.doc;
                      return (
                        (S.cm = null),
                        this.state.selectingText && this.state.selectingText(),
                        af(this, x),
                        $o(this),
                        this.display.input.reset(),
                        Uo(this, x.scrollLeft, x.scrollTop),
                        (this.curOp.forceScroll = !0),
                        Ve(this, 'swapDoc', this, S),
                        S
                      );
                    }),
                    phrase: function (x) {
                      var S = this.options.phrases;
                      return S && Object.prototype.hasOwnProperty.call(S, x)
                        ? S[x]
                        : x;
                    },
                    getInputField: function () {
                      return this.display.input.getField();
                    },
                    getWrapperElement: function () {
                      return this.display.wrapper;
                    },
                    getScrollerElement: function () {
                      return this.display.scroller;
                    },
                    getGutterElement: function () {
                      return this.display.gutters;
                    },
                  }),
                  Ge(h),
                  (h.registerHelper = function (x, S, T) {
                    _.hasOwnProperty(x) || (_[x] = h[x] = { _global: [] }),
                      (_[x][S] = T);
                  }),
                  (h.registerGlobalHelper = function (x, S, T, k) {
                    h.registerHelper(x, S, k),
                      _[x]._global.push({ pred: T, val: k });
                  });
                var Bl = 'iter insert remove copy getEditor constructor'.split(
                  ' '
                );
                for (var df in _i.prototype)
                  _i.prototype.hasOwnProperty(df) &&
                    Ne(Bl, df) < 0 &&
                    (vn.prototype[df] = (function (h) {
                      return function () {
                        return h.apply(this.doc, arguments);
                      };
                    })(_i.prototype[df]));
                return (
                  Ge(_i),
                  (vn.inputStyles = { textarea: xn, contenteditable: rn }),
                  (vn.defineMode = function (h) {
                    vn.defaults.mode || 'null' == h || (vn.defaults.mode = h),
                      dl.apply(this, arguments);
                  }),
                  (vn.defineMIME = function (h, p) {
                    xi[h] = p;
                  }),
                  vn.defineMode('null', function () {
                    return {
                      token: function (h) {
                        return h.skipToEnd();
                      },
                    };
                  }),
                  vn.defineMIME('text/plain', 'null'),
                  (vn.defineExtension = function (h, p) {
                    vn.prototype[h] = p;
                  }),
                  (vn.defineDocExtension = function (h, p) {
                    _i.prototype[h] = p;
                  }),
                  (vn.fromTextArea = function (h, p) {
                    if (
                      (((p = p ? Oe(p) : {}).value = h.value),
                      !p.tabindex && h.tabIndex && (p.tabindex = h.tabIndex),
                      !p.placeholder &&
                        h.placeholder &&
                        (p.placeholder = h.placeholder),
                      null == p.autofocus)
                    ) {
                      var _ = st(h.ownerDocument);
                      p.autofocus =
                        _ == h ||
                        (null != h.getAttribute('autofocus') &&
                          _ == document.body);
                    }
                    function x() {
                      h.value = P.getValue();
                    }
                    var S;
                    if (
                      h.form &&
                      (Rt(h.form, 'submit', x), !p.leaveSubmitMethodAlone)
                    ) {
                      var T = h.form;
                      S = T.submit;
                      try {
                        var k = (T.submit = function () {
                          x(), (T.submit = S), T.submit(), (T.submit = k);
                        });
                      } catch {}
                    }
                    (p.finishInit = function (N) {
                      (N.save = x),
                        (N.getTextArea = function () {
                          return h;
                        }),
                        (N.toTextArea = function () {
                          (N.toTextArea = isNaN),
                            x(),
                            h.parentNode.removeChild(N.getWrapperElement()),
                            (h.style.display = ''),
                            h.form &&
                              (se(h.form, 'submit', x),
                              p.leaveSubmitMethodAlone ||
                                'function' != typeof h.form.submit ||
                                (h.form.submit = S));
                        });
                    }),
                      (h.style.display = 'none');
                    var P = vn(function (N) {
                      return h.parentNode.insertBefore(N, h.nextSibling);
                    }, p);
                    return P;
                  }),
                  (function (h) {
                    (h.off = se),
                      (h.on = Rt),
                      (h.wheelEventPixels = Ih),
                      (h.Doc = _i),
                      (h.splitLines = Nr),
                      (h.countColumn = je),
                      (h.findColumn = fe),
                      (h.isWordChar = Pt),
                      (h.Pass = Ie),
                      (h.signal = pe),
                      (h.Line = Z),
                      (h.changeEnd = Ao),
                      (h.scrollbarModel = Th),
                      (h.Pos = Se),
                      (h.cmpPos = pr),
                      (h.modes = Ti),
                      (h.mimeModes = xi),
                      (h.resolveMode = Ho),
                      (h.getMode = pa),
                      (h.modeExtensions = Ai),
                      (h.extendMode = xs),
                      (h.copyState = $n),
                      (h.startState = La),
                      (h.innerMode = bs),
                      (h.commands = Lo),
                      (h.keyMap = kr),
                      (h.keyName = uf),
                      (h.isModifierKey = xa),
                      (h.lookupKey = Zn),
                      (h.normalizeKeyMap = yn),
                      (h.StringStream = _n),
                      (h.SharedTextMarker = Qe),
                      (h.TextMarker = ts),
                      (h.LineWidget = Ru),
                      (h.e_preventDefault = $e),
                      (h.e_stopPropagation = lr),
                      (h.e_stop = Ke),
                      (h.addClass = $),
                      (h.contains = Ot),
                      (h.rmClass = He),
                      (h.keyNames = es);
                  })(vn),
                  (vn.version = '5.65.9'),
                  vn
                );
              }),
              'object' == typeof ut && void 0 !== or
                ? (or.exports = oe())
                : ((te = te || self).CodeMirror = oe());
          },
          {},
        ],
        11: [
          function (ue, or, ut) {
            var te;
            (te = function (oe) {
              'use strict';
              var Lt =
                /^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?\xab\xbb\u201c\u201d\u2018\u2019]))/i;
              oe.defineMode(
                'gfm',
                function (yt, Dt) {
                  var bt = 0,
                    ct = {
                      startState: function () {
                        return { code: !1, codeBlock: !1, ateSpace: !1 };
                      },
                      copyState: function (jt) {
                        return {
                          code: jt.code,
                          codeBlock: jt.codeBlock,
                          ateSpace: jt.ateSpace,
                        };
                      },
                      token: function (jt, de) {
                        if (((de.combineTokens = null), de.codeBlock))
                          return jt.match(/^```+/)
                            ? ((de.codeBlock = !1), null)
                            : (jt.skipToEnd(), null);
                        if (
                          (jt.sol() && (de.code = !1),
                          jt.sol() && jt.match(/^```+/))
                        )
                          return jt.skipToEnd(), (de.codeBlock = !0), null;
                        if ('`' === jt.peek()) {
                          jt.next();
                          var wt = jt.pos;
                          jt.eatWhile('`');
                          var Zt = 1 + jt.pos - wt;
                          return (
                            de.code
                              ? Zt === bt && (de.code = !1)
                              : ((bt = Zt), (de.code = !0)),
                            null
                          );
                        }
                        return de.code
                          ? (jt.next(), null)
                          : jt.eatSpace()
                          ? ((de.ateSpace = !0), null)
                          : ((jt.sol() || de.ateSpace) &&
                              ((de.ateSpace = !1), !1 !== Dt.gitHubSpice) &&
                              (jt.match(
                                /^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/
                              ) ||
                                jt.match(
                                  /^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/
                                ))) ||
                            (jt.match(Lt) &&
                              '](' != jt.string.slice(jt.start - 2, jt.start) &&
                              (0 == jt.start ||
                                /\W/.test(jt.string.charAt(jt.start - 1))))
                          ? ((de.combineTokens = !0), 'link')
                          : (jt.next(), null);
                      },
                      blankLine: function (jt) {
                        return (jt.code = !1), null;
                      },
                    },
                    ve = { taskLists: !0, strikethrough: !0, emoji: !0 };
                  for (var Qt in Dt) ve[Qt] = Dt[Qt];
                  return (
                    (ve.name = 'markdown'),
                    oe.overlayMode(oe.getMode(yt, ve), ct)
                  );
                },
                'markdown'
              ),
                oe.defineMIME('text/x-gfm', 'gfm');
            }),
              'object' == typeof ut && 'object' == typeof or
                ? te(
                    ue('../../lib/codemirror'),
                    ue('../markdown/markdown'),
                    ue('../../addon/mode/overlay')
                  )
                : te(CodeMirror);
          },
          {
            '../../addon/mode/overlay': 7,
            '../../lib/codemirror': 10,
            '../markdown/markdown': 12,
          },
        ],
        12: [
          function (ue, or, ut) {
            var te;
            (te = function (oe) {
              'use strict';
              oe.defineMode(
                'markdown',
                function (Lt, yt) {
                  var Dt = oe.getMode(Lt, 'text/html'),
                    bt = 'null' == Dt.name;
                  void 0 === yt.highlightFormatting &&
                    (yt.highlightFormatting = !1),
                    void 0 === yt.maxBlockquoteDepth &&
                      (yt.maxBlockquoteDepth = 0),
                    void 0 === yt.taskLists && (yt.taskLists = !1),
                    void 0 === yt.strikethrough && (yt.strikethrough = !1),
                    void 0 === yt.emoji && (yt.emoji = !1),
                    void 0 === yt.fencedCodeBlockHighlighting &&
                      (yt.fencedCodeBlockHighlighting = !0),
                    void 0 === yt.fencedCodeBlockDefaultMode &&
                      (yt.fencedCodeBlockDefaultMode = 'text/plain'),
                    void 0 === yt.xml && (yt.xml = !0),
                    void 0 === yt.tokenTypeOverrides &&
                      (yt.tokenTypeOverrides = {});
                  var ct = {
                    header: 'header',
                    code: 'comment',
                    quote: 'quote',
                    list1: 'variable-2',
                    list2: 'variable-3',
                    list3: 'keyword',
                    hr: 'hr',
                    image: 'image',
                    imageAltText: 'image-alt-text',
                    imageMarker: 'image-marker',
                    formatting: 'formatting',
                    linkInline: 'link',
                    linkEmail: 'link',
                    linkText: 'link',
                    linkHref: 'string',
                    em: 'em',
                    strong: 'strong',
                    strikethrough: 'strikethrough',
                    emoji: 'builtin',
                  };
                  for (var ve in ct)
                    ct.hasOwnProperty(ve) &&
                      yt.tokenTypeOverrides[ve] &&
                      (ct[ve] = yt.tokenTypeOverrides[ve]);
                  var Qt = /^([*\-_])(?:\s*\1){2,}\s*$/,
                    jt = /^(?:[*\-+]|^[0-9]+([.)]))\s+/,
                    de = /^\[(x| )\](?=\s)/i,
                    wt = yt.allowAtxHeaderWithoutSpace
                      ? /^(#+)/
                      : /^(#+)(?: |$)/,
                    Zt = /^ {0,3}(?:\={1,}|-{2,})\s*$/,
                    he = /^[^#!\[\]*_\\<>` "'(~:]+/,
                    _t = /^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,
                    zt = /^\s*\[[^\]]+?\]:.*$/,
                    Bt =
                      /[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/;
                  function ee(st, $, Xe) {
                    return ($.f = $.inline = Xe), Xe(st, $);
                  }
                  function ne(st, $, Xe) {
                    return ($.f = $.block = Xe), Xe(st, $);
                  }
                  function Kt(st) {
                    if (
                      ((st.linkTitle = !1),
                      (st.linkHref = !1),
                      (st.linkText = !1),
                      (st.em = !1),
                      (st.strong = !1),
                      (st.strikethrough = !1),
                      (st.quote = 0),
                      (st.indentedCode = !1),
                      st.f == Le)
                    ) {
                      var $ = bt;
                      if (!$) {
                        var Xe = oe.innerMode(Dt, st.htmlState);
                        $ =
                          'xml' == Xe.mode.name &&
                          null === Xe.state.tagStart &&
                          !Xe.state.context &&
                          Xe.state.tokenize.isInText;
                      }
                      $ &&
                        ((st.f = Ae), (st.block = ie), (st.htmlState = null));
                    }
                    return (
                      (st.trailingSpace = 0),
                      (st.trailingSpaceNewLine = !1),
                      (st.prevLine = st.thisLine),
                      (st.thisLine = { stream: null }),
                      null
                    );
                  }
                  function ie(st, $) {
                    var Xe,
                      Ee = st.column() === $.indentation,
                      sr = !(Xe = $.prevLine.stream) || !/\S/.test(Xe.string),
                      F = $.indentedCode,
                      Ut = $.prevLine.hr,
                      Oe = !1 !== $.list,
                      je = ($.listStack[$.listStack.length - 1] || 0) + 3;
                    $.indentedCode = !1;
                    var Ar = $.indentation;
                    if (
                      null === $.indentationDiff &&
                      (($.indentationDiff = $.indentation), Oe)
                    ) {
                      for (
                        $.list = null;
                        Ar < $.listStack[$.listStack.length - 1];

                      )
                        $.listStack.pop(),
                          $.listStack.length
                            ? ($.indentation =
                                $.listStack[$.listStack.length - 1])
                            : ($.list = !1);
                      !1 !== $.list &&
                        ($.indentationDiff =
                          Ar - $.listStack[$.listStack.length - 1]);
                    }
                    var Ne = !(
                        sr ||
                        Ut ||
                        $.prevLine.header ||
                        (Oe && F) ||
                        $.prevLine.fencedCodeEnd
                      ),
                      Ie =
                        (!1 === $.list || Ut || sr) &&
                        $.indentation <= je &&
                        st.match(Qt),
                      kt = null;
                    if (
                      $.indentationDiff >= 4 &&
                      (F || $.prevLine.fencedCodeEnd || $.prevLine.header || sr)
                    )
                      return st.skipToEnd(), ($.indentedCode = !0), ct.code;
                    if (st.eatSpace()) return null;
                    if (
                      Ee &&
                      $.indentation <= je &&
                      (kt = st.match(wt)) &&
                      kt[1].length <= 6
                    )
                      return (
                        ($.quote = 0),
                        ($.header = kt[1].length),
                        ($.thisLine.header = !0),
                        yt.highlightFormatting && ($.formatting = 'header'),
                        ($.f = $.inline),
                        Re($)
                      );
                    if ($.indentation <= je && st.eat('>'))
                      return (
                        ($.quote = Ee ? 1 : $.quote + 1),
                        yt.highlightFormatting && ($.formatting = 'quote'),
                        st.eatSpace(),
                        Re($)
                      );
                    if (
                      !Ie &&
                      !$.setext &&
                      Ee &&
                      $.indentation <= je &&
                      (kt = st.match(jt))
                    ) {
                      var me = kt[1] ? 'ol' : 'ul';
                      return (
                        ($.indentation = Ar + st.current().length),
                        ($.list = !0),
                        ($.quote = 0),
                        $.listStack.push($.indentation),
                        ($.em = !1),
                        ($.strong = !1),
                        ($.code = !1),
                        ($.strikethrough = !1),
                        yt.taskLists && st.match(de, !1) && ($.taskList = !0),
                        ($.f = $.inline),
                        yt.highlightFormatting &&
                          ($.formatting = ['list', 'list-' + me]),
                        Re($)
                      );
                    }
                    return Ee && $.indentation <= je && (kt = st.match(_t, !0))
                      ? (($.quote = 0),
                        ($.fencedEndRE = new RegExp(kt[1] + '+ *$')),
                        ($.localMode =
                          yt.fencedCodeBlockHighlighting &&
                          (function (Tt) {
                            if (oe.findModeByName) {
                              var fe = oe.findModeByName(Tt);
                              fe && (Tt = fe.mime || fe.mimes[0]);
                            }
                            var ht = oe.getMode(Lt, Tt);
                            return 'null' == ht.name ? null : ht;
                          })(kt[2] || yt.fencedCodeBlockDefaultMode)),
                        $.localMode &&
                          ($.localState = oe.startState($.localMode)),
                        ($.f = $.block = Pe),
                        yt.highlightFormatting && ($.formatting = 'code-block'),
                        ($.code = -1),
                        Re($))
                      : $.setext ||
                        (!(
                          (Ne && Oe) ||
                          $.quote ||
                          !1 !== $.list ||
                          $.code ||
                          Ie ||
                          zt.test(st.string)
                        ) &&
                          (kt = st.lookAhead(1)) &&
                          (kt = kt.match(Zt)))
                      ? ($.setext
                          ? (($.header = $.setext),
                            ($.setext = 0),
                            st.skipToEnd(),
                            yt.highlightFormatting && ($.formatting = 'header'))
                          : (($.header = '=' == kt[0].charAt(0) ? 1 : 2),
                            ($.setext = $.header)),
                        ($.thisLine.header = !0),
                        ($.f = $.inline),
                        Re($))
                      : Ie
                      ? (st.skipToEnd(),
                        ($.hr = !0),
                        ($.thisLine.hr = !0),
                        ct.hr)
                      : '[' === st.peek()
                      ? ee(st, $, Gt)
                      : ee(st, $, $.inline);
                  }
                  function Le(st, $) {
                    var Xe = Dt.token(st, $.htmlState);
                    if (!bt) {
                      var Ee = oe.innerMode(Dt, $.htmlState);
                      (('xml' == Ee.mode.name &&
                        null === Ee.state.tagStart &&
                        !Ee.state.context &&
                        Ee.state.tokenize.isInText) ||
                        ($.md_inside && st.current().indexOf('>') > -1)) &&
                        (($.f = Ae), ($.block = ie), ($.htmlState = null));
                    }
                    return Xe;
                  }
                  function Pe(st, $) {
                    var Xe,
                      Ee = $.listStack[$.listStack.length - 1] || 0,
                      sr = $.indentation < Ee;
                    return $.fencedEndRE &&
                      $.indentation <= Ee + 3 &&
                      (sr || st.match($.fencedEndRE))
                      ? (yt.highlightFormatting &&
                          ($.formatting = 'code-block'),
                        sr || (Xe = Re($)),
                        ($.localMode = $.localState = null),
                        ($.block = ie),
                        ($.f = Ae),
                        ($.fencedEndRE = null),
                        ($.code = 0),
                        ($.thisLine.fencedCodeEnd = !0),
                        sr ? ne(st, $, $.block) : Xe)
                      : $.localMode
                      ? $.localMode.token(st, $.localState)
                      : (st.skipToEnd(), ct.code);
                  }
                  function Re(st) {
                    var $ = [];
                    if (st.formatting) {
                      $.push(ct.formatting),
                        'string' == typeof st.formatting &&
                          (st.formatting = [st.formatting]);
                      for (var Xe = 0; Xe < st.formatting.length; Xe++)
                        $.push(ct.formatting + '-' + st.formatting[Xe]),
                          'header' === st.formatting[Xe] &&
                            $.push(
                              ct.formatting +
                                '-' +
                                st.formatting[Xe] +
                                '-' +
                                st.header
                            ),
                          'quote' === st.formatting[Xe] &&
                            $.push(
                              !yt.maxBlockquoteDepth ||
                                yt.maxBlockquoteDepth >= st.quote
                                ? ct.formatting +
                                    '-' +
                                    st.formatting[Xe] +
                                    '-' +
                                    st.quote
                                : 'error'
                            );
                    }
                    if (st.taskOpen)
                      return $.push('meta'), $.length ? $.join(' ') : null;
                    if (st.taskClosed)
                      return $.push('property'), $.length ? $.join(' ') : null;
                    if (
                      (st.linkHref
                        ? $.push(ct.linkHref, 'url')
                        : (st.strong && $.push(ct.strong),
                          st.em && $.push(ct.em),
                          st.strikethrough && $.push(ct.strikethrough),
                          st.emoji && $.push(ct.emoji),
                          st.linkText && $.push(ct.linkText),
                          st.code && $.push(ct.code),
                          st.image && $.push(ct.image),
                          st.imageAltText && $.push(ct.imageAltText, 'link'),
                          st.imageMarker && $.push(ct.imageMarker)),
                      st.header &&
                        $.push(ct.header, ct.header + '-' + st.header),
                      st.quote &&
                        ($.push(ct.quote),
                        $.push(
                          !yt.maxBlockquoteDepth ||
                            yt.maxBlockquoteDepth >= st.quote
                            ? ct.quote + '-' + st.quote
                            : ct.quote + '-' + yt.maxBlockquoteDepth
                        )),
                      !1 !== st.list)
                    ) {
                      var Ee = (st.listStack.length - 1) % 3;
                      $.push(Ee ? (1 === Ee ? ct.list2 : ct.list3) : ct.list1);
                    }
                    return (
                      st.trailingSpaceNewLine
                        ? $.push('trailing-space-new-line')
                        : st.trailingSpace &&
                          $.push(
                            'trailing-space-' +
                              (st.trailingSpace % 2 ? 'a' : 'b')
                          ),
                      $.length ? $.join(' ') : null
                    );
                  }
                  function qe(st, $) {
                    if (st.match(he, !0)) return Re($);
                  }
                  function Ae(st, $) {
                    var Xe = $.text(st, $);
                    if (void 0 !== Xe) return Xe;
                    if ($.list) return ($.list = null), Re($);
                    if ($.taskList)
                      return (
                        ' ' === st.match(de, !0)[1]
                          ? ($.taskOpen = !0)
                          : ($.taskClosed = !0),
                        yt.highlightFormatting && ($.formatting = 'task'),
                        ($.taskList = !1),
                        Re($)
                      );
                    if (
                      (($.taskOpen = !1),
                      ($.taskClosed = !1),
                      $.header && st.match(/^#+$/, !0))
                    )
                      return (
                        yt.highlightFormatting && ($.formatting = 'header'),
                        Re($)
                      );
                    var Ee = st.next();
                    if ($.linkTitle) {
                      $.linkTitle = !1;
                      var sr = Ee;
                      '(' === Ee && (sr = ')');
                      var F =
                        '^\\s*(?:[^' +
                        (sr = (sr + '').replace(
                          /([.?*+^\[\]\\(){}|-])/g,
                          '\\$1'
                        )) +
                        '\\\\]+|\\\\\\\\|\\\\.)' +
                        sr;
                      if (st.match(new RegExp(F), !0)) return ct.linkHref;
                    }
                    if ('`' === Ee) {
                      var Ut = $.formatting;
                      yt.highlightFormatting && ($.formatting = 'code'),
                        st.eatWhile('`');
                      var Oe = st.current().length;
                      if (0 != $.code || ($.quote && 1 != Oe)) {
                        if (Oe == $.code) {
                          var je = Re($);
                          return ($.code = 0), je;
                        }
                        return ($.formatting = Ut), Re($);
                      }
                      return ($.code = Oe), Re($);
                    }
                    if ($.code) return Re($);
                    if ('\\' === Ee && (st.next(), yt.highlightFormatting)) {
                      var Ar = Re($),
                        Ne = ct.formatting + '-escape';
                      return Ar ? Ar + ' ' + Ne : Ne;
                    }
                    if ('!' === Ee && st.match(/\[[^\]]*\] ?(?:\(|\[)/, !1))
                      return (
                        ($.imageMarker = !0),
                        ($.image = !0),
                        yt.highlightFormatting && ($.formatting = 'image'),
                        Re($)
                      );
                    if (
                      '[' === Ee &&
                      $.imageMarker &&
                      st.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/, !1)
                    )
                      return (
                        ($.imageMarker = !1),
                        ($.imageAltText = !0),
                        yt.highlightFormatting && ($.formatting = 'image'),
                        Re($)
                      );
                    if (']' === Ee && $.imageAltText)
                      return (
                        yt.highlightFormatting && ($.formatting = 'image'),
                        (Ar = Re($)),
                        ($.imageAltText = !1),
                        ($.image = !1),
                        ($.inline = $.f = He),
                        Ar
                      );
                    if ('[' === Ee && !$.image)
                      return (
                        ($.linkText && st.match(/^.*?\]/)) ||
                          (($.linkText = !0),
                          yt.highlightFormatting && ($.formatting = 'link')),
                        Re($)
                      );
                    if (']' === Ee && $.linkText)
                      return (
                        yt.highlightFormatting && ($.formatting = 'link'),
                        (Ar = Re($)),
                        ($.linkText = !1),
                        ($.inline = $.f =
                          st.match(/\(.*?\)| ?\[.*?\]/, !1) ? He : Ae),
                        Ar
                      );
                    if (
                      '<' === Ee &&
                      st.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/, !1)
                    )
                      return (
                        ($.f = $.inline = ir),
                        yt.highlightFormatting && ($.formatting = 'link'),
                        (Ar = Re($)) ? (Ar += ' ') : (Ar = ''),
                        Ar + ct.linkInline
                      );
                    if (
                      '<' === Ee &&
                      st.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/, !1)
                    )
                      return (
                        ($.f = $.inline = ir),
                        yt.highlightFormatting && ($.formatting = 'link'),
                        (Ar = Re($)) ? (Ar += ' ') : (Ar = ''),
                        Ar + ct.linkEmail
                      );
                    if (
                      yt.xml &&
                      '<' === Ee &&
                      st.match(
                        /^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,
                        !1
                      )
                    ) {
                      var Ie = st.string.indexOf('>', st.pos);
                      if (-1 != Ie) {
                        var kt = st.string.substring(st.start, Ie);
                        /markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(kt) &&
                          ($.md_inside = !0);
                      }
                      return (
                        st.backUp(1),
                        ($.htmlState = oe.startState(Dt)),
                        ne(st, $, Le)
                      );
                    }
                    if (yt.xml && '<' === Ee && st.match(/^\/\w*?>/))
                      return ($.md_inside = !1), 'tag';
                    if ('*' === Ee || '_' === Ee) {
                      for (
                        var me = 1,
                          Tt = 1 == st.pos ? ' ' : st.string.charAt(st.pos - 2);
                        me < 3 && st.eat(Ee);

                      )
                        me++;
                      var fe = st.peek() || ' ',
                        ht =
                          !/\s/.test(fe) &&
                          (!Bt.test(fe) || /\s/.test(Tt) || Bt.test(Tt)),
                        It =
                          !/\s/.test(Tt) &&
                          (!Bt.test(Tt) || /\s/.test(fe) || Bt.test(fe)),
                        U = null,
                        Y = null;
                      if (
                        (me % 2 &&
                          ($.em || !ht || ('*' !== Ee && It && !Bt.test(Tt))
                            ? $.em != Ee ||
                              !It ||
                              ('*' !== Ee && ht && !Bt.test(fe)) ||
                              (U = !1)
                            : (U = !0)),
                        me > 1 &&
                          ($.strong || !ht || ('*' !== Ee && It && !Bt.test(Tt))
                            ? $.strong != Ee ||
                              !It ||
                              ('*' !== Ee && ht && !Bt.test(fe)) ||
                              (Y = !1)
                            : (Y = !0)),
                        null != Y || null != U)
                      )
                        return (
                          yt.highlightFormatting &&
                            ($.formatting =
                              null == U
                                ? 'strong'
                                : null == Y
                                ? 'em'
                                : 'strong em'),
                          !0 === U && ($.em = Ee),
                          !0 === Y && ($.strong = Ee),
                          (je = Re($)),
                          !1 === U && ($.em = !1),
                          !1 === Y && ($.strong = !1),
                          je
                        );
                    } else if (' ' === Ee && (st.eat('*') || st.eat('_'))) {
                      if (' ' === st.peek()) return Re($);
                      st.backUp(1);
                    }
                    if (yt.strikethrough)
                      if ('~' === Ee && st.eatWhile(Ee)) {
                        if ($.strikethrough)
                          return (
                            yt.highlightFormatting &&
                              ($.formatting = 'strikethrough'),
                            (je = Re($)),
                            ($.strikethrough = !1),
                            je
                          );
                        if (st.match(/^[^\s]/, !1))
                          return (
                            ($.strikethrough = !0),
                            yt.highlightFormatting &&
                              ($.formatting = 'strikethrough'),
                            Re($)
                          );
                      } else if (' ' === Ee && st.match('~~', !0)) {
                        if (' ' === st.peek()) return Re($);
                        st.backUp(2);
                      }
                    if (
                      yt.emoji &&
                      ':' === Ee &&
                      st.match(
                        /^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/
                      )
                    ) {
                      ($.emoji = !0),
                        yt.highlightFormatting && ($.formatting = 'emoji');
                      var mt = Re($);
                      return ($.emoji = !1), mt;
                    }
                    return (
                      ' ' === Ee &&
                        (st.match(/^ +$/, !1)
                          ? $.trailingSpace++
                          : $.trailingSpace && ($.trailingSpaceNewLine = !0)),
                      Re($)
                    );
                  }
                  function ir(st, $) {
                    if ('>' === st.next()) {
                      ($.f = $.inline = Ae),
                        yt.highlightFormatting && ($.formatting = 'link');
                      var Xe = Re($);
                      return Xe ? (Xe += ' ') : (Xe = ''), Xe + ct.linkInline;
                    }
                    return st.match(/^[^>]+/, !0), ct.linkInline;
                  }
                  function He(st, $) {
                    if (st.eatSpace()) return null;
                    var Xe,
                      Ee = st.next();
                    return '(' === Ee || '[' === Ee
                      ? (($.f = $.inline =
                          ((Xe = '(' === Ee ? ')' : ']'),
                          function (sr, F) {
                            if (sr.next() === Xe) {
                              (F.f = F.inline = Ae),
                                yt.highlightFormatting &&
                                  (F.formatting = 'link-string');
                              var Ut = Re(F);
                              return (F.linkHref = !1), Ut;
                            }
                            return sr.match(ft[Xe]), (F.linkHref = !0), Re(F);
                          })),
                        yt.highlightFormatting &&
                          ($.formatting = 'link-string'),
                        ($.linkHref = !0),
                        Re($))
                      : 'error';
                  }
                  var ft = {
                    ')': /^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,
                    ']': /^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/,
                  };
                  function Gt(st, $) {
                    return st.match(/^([^\]\\]|\\.)*\]:/, !1)
                      ? (($.f = Ht),
                        st.next(),
                        yt.highlightFormatting && ($.formatting = 'link'),
                        ($.linkText = !0),
                        Re($))
                      : ee(st, $, Ae);
                  }
                  function Ht(st, $) {
                    if (st.match(']:', !0)) {
                      ($.f = $.inline = nt),
                        yt.highlightFormatting && ($.formatting = 'link');
                      var Xe = Re($);
                      return ($.linkText = !1), Xe;
                    }
                    return st.match(/^([^\]\\]|\\.)+/, !0), ct.linkText;
                  }
                  function nt(st, $) {
                    return st.eatSpace()
                      ? null
                      : (st.match(/^[^\s]+/, !0),
                        void 0 === st.peek()
                          ? ($.linkTitle = !0)
                          : st.match(
                              /^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,
                              !0
                            ),
                        ($.f = $.inline = Ae),
                        ct.linkHref + ' url');
                  }
                  var Ot = {
                    startState: function () {
                      return {
                        f: ie,
                        prevLine: { stream: null },
                        thisLine: { stream: null },
                        block: ie,
                        htmlState: null,
                        indentation: 0,
                        inline: Ae,
                        text: qe,
                        formatting: !1,
                        linkText: !1,
                        linkHref: !1,
                        linkTitle: !1,
                        code: 0,
                        em: !1,
                        strong: !1,
                        header: 0,
                        setext: 0,
                        hr: !1,
                        taskList: !1,
                        list: !1,
                        listStack: [],
                        quote: 0,
                        trailingSpace: 0,
                        trailingSpaceNewLine: !1,
                        strikethrough: !1,
                        emoji: !1,
                        fencedEndRE: null,
                      };
                    },
                    copyState: function (st) {
                      return {
                        f: st.f,
                        prevLine: st.prevLine,
                        thisLine: st.thisLine,
                        block: st.block,
                        htmlState:
                          st.htmlState && oe.copyState(Dt, st.htmlState),
                        indentation: st.indentation,
                        localMode: st.localMode,
                        localState: st.localMode
                          ? oe.copyState(st.localMode, st.localState)
                          : null,
                        inline: st.inline,
                        text: st.text,
                        formatting: !1,
                        linkText: st.linkText,
                        linkTitle: st.linkTitle,
                        linkHref: st.linkHref,
                        code: st.code,
                        em: st.em,
                        strong: st.strong,
                        strikethrough: st.strikethrough,
                        emoji: st.emoji,
                        header: st.header,
                        setext: st.setext,
                        hr: st.hr,
                        taskList: st.taskList,
                        list: st.list,
                        listStack: st.listStack.slice(0),
                        quote: st.quote,
                        indentedCode: st.indentedCode,
                        trailingSpace: st.trailingSpace,
                        trailingSpaceNewLine: st.trailingSpaceNewLine,
                        md_inside: st.md_inside,
                        fencedEndRE: st.fencedEndRE,
                      };
                    },
                    token: function (st, $) {
                      if ((($.formatting = !1), st != $.thisLine.stream)) {
                        if (
                          (($.header = 0), ($.hr = !1), st.match(/^\s*$/, !0))
                        )
                          return Kt($), null;
                        if (
                          (($.prevLine = $.thisLine),
                          ($.thisLine = { stream: st }),
                          ($.taskList = !1),
                          ($.trailingSpace = 0),
                          ($.trailingSpaceNewLine = !1),
                          !$.localState && (($.f = $.block), $.f != Le))
                        ) {
                          var Xe = st
                            .match(/^\s*/, !0)[0]
                            .replace(/\t/g, '    ').length;
                          if (
                            (($.indentation = Xe),
                            ($.indentationDiff = null),
                            Xe > 0)
                          )
                            return null;
                        }
                      }
                      return $.f(st, $);
                    },
                    innerMode: function (st) {
                      return st.block == Le
                        ? { state: st.htmlState, mode: Dt }
                        : st.localState
                        ? { state: st.localState, mode: st.localMode }
                        : { state: st, mode: Ot };
                    },
                    indent: function (st, $, Xe) {
                      return st.block == Le && Dt.indent
                        ? Dt.indent(st.htmlState, $, Xe)
                        : st.localState && st.localMode.indent
                        ? st.localMode.indent(st.localState, $, Xe)
                        : oe.Pass;
                    },
                    blankLine: Kt,
                    getType: Re,
                    blockCommentStart: '\x3c!--',
                    blockCommentEnd: '--\x3e',
                    closeBrackets: '()[]{}\'\'""``',
                    fold: 'markdown',
                  };
                  return Ot;
                },
                'xml'
              ),
                oe.defineMIME('text/markdown', 'markdown'),
                oe.defineMIME('text/x-markdown', 'markdown');
            }),
              'object' == typeof ut && 'object' == typeof or
                ? te(
                    ue('../../lib/codemirror'),
                    ue('../xml/xml'),
                    ue('../meta')
                  )
                : te(CodeMirror);
          },
          { '../../lib/codemirror': 10, '../meta': 13, '../xml/xml': 14 },
        ],
        13: [
          function (ue, or, ut) {
            !(function (te) {
              'use strict';
              te.modeInfo = [
                {
                  name: 'APL',
                  mime: 'text/apl',
                  mode: 'apl',
                  ext: ['dyalog', 'apl'],
                },
                {
                  name: 'PGP',
                  mimes: [
                    'application/pgp',
                    'application/pgp-encrypted',
                    'application/pgp-keys',
                    'application/pgp-signature',
                  ],
                  mode: 'asciiarmor',
                  ext: ['asc', 'pgp', 'sig'],
                },
                {
                  name: 'ASN.1',
                  mime: 'text/x-ttcn-asn',
                  mode: 'asn.1',
                  ext: ['asn', 'asn1'],
                },
                {
                  name: 'Asterisk',
                  mime: 'text/x-asterisk',
                  mode: 'asterisk',
                  file: /^extensions\.conf$/i,
                },
                {
                  name: 'Brainfuck',
                  mime: 'text/x-brainfuck',
                  mode: 'brainfuck',
                  ext: ['b', 'bf'],
                },
                {
                  name: 'C',
                  mime: 'text/x-csrc',
                  mode: 'clike',
                  ext: ['c', 'h', 'ino'],
                },
                {
                  name: 'C++',
                  mime: 'text/x-c++src',
                  mode: 'clike',
                  ext: ['cpp', 'c++', 'cc', 'cxx', 'hpp', 'h++', 'hh', 'hxx'],
                  alias: ['cpp'],
                },
                {
                  name: 'Cobol',
                  mime: 'text/x-cobol',
                  mode: 'cobol',
                  ext: ['cob', 'cpy', 'cbl'],
                },
                {
                  name: 'C#',
                  mime: 'text/x-csharp',
                  mode: 'clike',
                  ext: ['cs'],
                  alias: ['csharp', 'cs'],
                },
                {
                  name: 'Clojure',
                  mime: 'text/x-clojure',
                  mode: 'clojure',
                  ext: ['clj', 'cljc', 'cljx'],
                },
                {
                  name: 'ClojureScript',
                  mime: 'text/x-clojurescript',
                  mode: 'clojure',
                  ext: ['cljs'],
                },
                {
                  name: 'Closure Stylesheets (GSS)',
                  mime: 'text/x-gss',
                  mode: 'css',
                  ext: ['gss'],
                },
                {
                  name: 'CMake',
                  mime: 'text/x-cmake',
                  mode: 'cmake',
                  ext: ['cmake', 'cmake.in'],
                  file: /^CMakeLists\.txt$/,
                },
                {
                  name: 'CoffeeScript',
                  mimes: [
                    'application/vnd.coffeescript',
                    'text/coffeescript',
                    'text/x-coffeescript',
                  ],
                  mode: 'coffeescript',
                  ext: ['coffee'],
                  alias: ['coffee', 'coffee-script'],
                },
                {
                  name: 'Common Lisp',
                  mime: 'text/x-common-lisp',
                  mode: 'commonlisp',
                  ext: ['cl', 'lisp', 'el'],
                  alias: ['lisp'],
                },
                {
                  name: 'Cypher',
                  mime: 'application/x-cypher-query',
                  mode: 'cypher',
                  ext: ['cyp', 'cypher'],
                },
                {
                  name: 'Cython',
                  mime: 'text/x-cython',
                  mode: 'python',
                  ext: ['pyx', 'pxd', 'pxi'],
                },
                {
                  name: 'Crystal',
                  mime: 'text/x-crystal',
                  mode: 'crystal',
                  ext: ['cr'],
                },
                { name: 'CSS', mime: 'text/css', mode: 'css', ext: ['css'] },
                {
                  name: 'CQL',
                  mime: 'text/x-cassandra',
                  mode: 'sql',
                  ext: ['cql'],
                },
                { name: 'D', mime: 'text/x-d', mode: 'd', ext: ['d'] },
                {
                  name: 'Dart',
                  mimes: ['application/dart', 'text/x-dart'],
                  mode: 'dart',
                  ext: ['dart'],
                },
                {
                  name: 'diff',
                  mime: 'text/x-diff',
                  mode: 'diff',
                  ext: ['diff', 'patch'],
                },
                { name: 'Django', mime: 'text/x-django', mode: 'django' },
                {
                  name: 'Dockerfile',
                  mime: 'text/x-dockerfile',
                  mode: 'dockerfile',
                  file: /^Dockerfile$/,
                },
                {
                  name: 'DTD',
                  mime: 'application/xml-dtd',
                  mode: 'dtd',
                  ext: ['dtd'],
                },
                {
                  name: 'Dylan',
                  mime: 'text/x-dylan',
                  mode: 'dylan',
                  ext: ['dylan', 'dyl', 'intr'],
                },
                { name: 'EBNF', mime: 'text/x-ebnf', mode: 'ebnf' },
                { name: 'ECL', mime: 'text/x-ecl', mode: 'ecl', ext: ['ecl'] },
                {
                  name: 'edn',
                  mime: 'application/edn',
                  mode: 'clojure',
                  ext: ['edn'],
                },
                {
                  name: 'Eiffel',
                  mime: 'text/x-eiffel',
                  mode: 'eiffel',
                  ext: ['e'],
                },
                { name: 'Elm', mime: 'text/x-elm', mode: 'elm', ext: ['elm'] },
                {
                  name: 'Embedded JavaScript',
                  mime: 'application/x-ejs',
                  mode: 'htmlembedded',
                  ext: ['ejs'],
                },
                {
                  name: 'Embedded Ruby',
                  mime: 'application/x-erb',
                  mode: 'htmlembedded',
                  ext: ['erb'],
                },
                {
                  name: 'Erlang',
                  mime: 'text/x-erlang',
                  mode: 'erlang',
                  ext: ['erl'],
                },
                { name: 'Esper', mime: 'text/x-esper', mode: 'sql' },
                {
                  name: 'Factor',
                  mime: 'text/x-factor',
                  mode: 'factor',
                  ext: ['factor'],
                },
                { name: 'FCL', mime: 'text/x-fcl', mode: 'fcl' },
                {
                  name: 'Forth',
                  mime: 'text/x-forth',
                  mode: 'forth',
                  ext: ['forth', 'fth', '4th'],
                },
                {
                  name: 'Fortran',
                  mime: 'text/x-fortran',
                  mode: 'fortran',
                  ext: ['f', 'for', 'f77', 'f90', 'f95'],
                },
                {
                  name: 'F#',
                  mime: 'text/x-fsharp',
                  mode: 'mllike',
                  ext: ['fs'],
                  alias: ['fsharp'],
                },
                { name: 'Gas', mime: 'text/x-gas', mode: 'gas', ext: ['s'] },
                {
                  name: 'Gherkin',
                  mime: 'text/x-feature',
                  mode: 'gherkin',
                  ext: ['feature'],
                },
                {
                  name: 'GitHub Flavored Markdown',
                  mime: 'text/x-gfm',
                  mode: 'gfm',
                  file: /^(readme|contributing|history)\.md$/i,
                },
                { name: 'Go', mime: 'text/x-go', mode: 'go', ext: ['go'] },
                {
                  name: 'Groovy',
                  mime: 'text/x-groovy',
                  mode: 'groovy',
                  ext: ['groovy', 'gradle'],
                  file: /^Jenkinsfile$/,
                },
                {
                  name: 'HAML',
                  mime: 'text/x-haml',
                  mode: 'haml',
                  ext: ['haml'],
                },
                {
                  name: 'Haskell',
                  mime: 'text/x-haskell',
                  mode: 'haskell',
                  ext: ['hs'],
                },
                {
                  name: 'Haskell (Literate)',
                  mime: 'text/x-literate-haskell',
                  mode: 'haskell-literate',
                  ext: ['lhs'],
                },
                {
                  name: 'Haxe',
                  mime: 'text/x-haxe',
                  mode: 'haxe',
                  ext: ['hx'],
                },
                {
                  name: 'HXML',
                  mime: 'text/x-hxml',
                  mode: 'haxe',
                  ext: ['hxml'],
                },
                {
                  name: 'ASP.NET',
                  mime: 'application/x-aspx',
                  mode: 'htmlembedded',
                  ext: ['aspx'],
                  alias: ['asp', 'aspx'],
                },
                {
                  name: 'HTML',
                  mime: 'text/html',
                  mode: 'htmlmixed',
                  ext: ['html', 'htm', 'handlebars', 'hbs'],
                  alias: ['xhtml'],
                },
                { name: 'HTTP', mime: 'message/http', mode: 'http' },
                { name: 'IDL', mime: 'text/x-idl', mode: 'idl', ext: ['pro'] },
                {
                  name: 'Pug',
                  mime: 'text/x-pug',
                  mode: 'pug',
                  ext: ['jade', 'pug'],
                  alias: ['jade'],
                },
                {
                  name: 'Java',
                  mime: 'text/x-java',
                  mode: 'clike',
                  ext: ['java'],
                },
                {
                  name: 'Java Server Pages',
                  mime: 'application/x-jsp',
                  mode: 'htmlembedded',
                  ext: ['jsp'],
                  alias: ['jsp'],
                },
                {
                  name: 'JavaScript',
                  mimes: [
                    'text/javascript',
                    'text/ecmascript',
                    'application/javascript',
                    'application/x-javascript',
                    'application/ecmascript',
                  ],
                  mode: 'javascript',
                  ext: ['js'],
                  alias: ['ecmascript', 'js', 'node'],
                },
                {
                  name: 'JSON',
                  mimes: ['application/json', 'application/x-json'],
                  mode: 'javascript',
                  ext: ['json', 'map'],
                  alias: ['json5'],
                },
                {
                  name: 'JSON-LD',
                  mime: 'application/ld+json',
                  mode: 'javascript',
                  ext: ['jsonld'],
                  alias: ['jsonld'],
                },
                { name: 'JSX', mime: 'text/jsx', mode: 'jsx', ext: ['jsx'] },
                {
                  name: 'Jinja2',
                  mime: 'text/jinja2',
                  mode: 'jinja2',
                  ext: ['j2', 'jinja', 'jinja2'],
                },
                {
                  name: 'Julia',
                  mime: 'text/x-julia',
                  mode: 'julia',
                  ext: ['jl'],
                  alias: ['jl'],
                },
                {
                  name: 'Kotlin',
                  mime: 'text/x-kotlin',
                  mode: 'clike',
                  ext: ['kt'],
                },
                {
                  name: 'LESS',
                  mime: 'text/x-less',
                  mode: 'css',
                  ext: ['less'],
                },
                {
                  name: 'LiveScript',
                  mime: 'text/x-livescript',
                  mode: 'livescript',
                  ext: ['ls'],
                  alias: ['ls'],
                },
                { name: 'Lua', mime: 'text/x-lua', mode: 'lua', ext: ['lua'] },
                {
                  name: 'Markdown',
                  mime: 'text/x-markdown',
                  mode: 'markdown',
                  ext: ['markdown', 'md', 'mkd'],
                },
                { name: 'mIRC', mime: 'text/mirc', mode: 'mirc' },
                { name: 'MariaDB SQL', mime: 'text/x-mariadb', mode: 'sql' },
                {
                  name: 'Mathematica',
                  mime: 'text/x-mathematica',
                  mode: 'mathematica',
                  ext: ['m', 'nb', 'wl', 'wls'],
                },
                {
                  name: 'Modelica',
                  mime: 'text/x-modelica',
                  mode: 'modelica',
                  ext: ['mo'],
                },
                {
                  name: 'MUMPS',
                  mime: 'text/x-mumps',
                  mode: 'mumps',
                  ext: ['mps'],
                },
                { name: 'MS SQL', mime: 'text/x-mssql', mode: 'sql' },
                {
                  name: 'mbox',
                  mime: 'application/mbox',
                  mode: 'mbox',
                  ext: ['mbox'],
                },
                { name: 'MySQL', mime: 'text/x-mysql', mode: 'sql' },
                {
                  name: 'Nginx',
                  mime: 'text/x-nginx-conf',
                  mode: 'nginx',
                  file: /nginx.*\.conf$/i,
                },
                {
                  name: 'NSIS',
                  mime: 'text/x-nsis',
                  mode: 'nsis',
                  ext: ['nsh', 'nsi'],
                },
                {
                  name: 'NTriples',
                  mimes: [
                    'application/n-triples',
                    'application/n-quads',
                    'text/n-triples',
                  ],
                  mode: 'ntriples',
                  ext: ['nt', 'nq'],
                },
                {
                  name: 'Objective-C',
                  mime: 'text/x-objectivec',
                  mode: 'clike',
                  ext: ['m'],
                  alias: ['objective-c', 'objc'],
                },
                {
                  name: 'Objective-C++',
                  mime: 'text/x-objectivec++',
                  mode: 'clike',
                  ext: ['mm'],
                  alias: ['objective-c++', 'objc++'],
                },
                {
                  name: 'OCaml',
                  mime: 'text/x-ocaml',
                  mode: 'mllike',
                  ext: ['ml', 'mli', 'mll', 'mly'],
                },
                {
                  name: 'Octave',
                  mime: 'text/x-octave',
                  mode: 'octave',
                  ext: ['m'],
                },
                { name: 'Oz', mime: 'text/x-oz', mode: 'oz', ext: ['oz'] },
                {
                  name: 'Pascal',
                  mime: 'text/x-pascal',
                  mode: 'pascal',
                  ext: ['p', 'pas'],
                },
                {
                  name: 'PEG.js',
                  mime: 'null',
                  mode: 'pegjs',
                  ext: ['jsonld'],
                },
                {
                  name: 'Perl',
                  mime: 'text/x-perl',
                  mode: 'perl',
                  ext: ['pl', 'pm'],
                },
                {
                  name: 'PHP',
                  mimes: [
                    'text/x-php',
                    'application/x-httpd-php',
                    'application/x-httpd-php-open',
                  ],
                  mode: 'php',
                  ext: ['php', 'php3', 'php4', 'php5', 'php7', 'phtml'],
                },
                { name: 'Pig', mime: 'text/x-pig', mode: 'pig', ext: ['pig'] },
                {
                  name: 'Plain Text',
                  mime: 'text/plain',
                  mode: 'null',
                  ext: ['txt', 'text', 'conf', 'def', 'list', 'log'],
                },
                {
                  name: 'PLSQL',
                  mime: 'text/x-plsql',
                  mode: 'sql',
                  ext: ['pls'],
                },
                { name: 'PostgreSQL', mime: 'text/x-pgsql', mode: 'sql' },
                {
                  name: 'PowerShell',
                  mime: 'application/x-powershell',
                  mode: 'powershell',
                  ext: ['ps1', 'psd1', 'psm1'],
                },
                {
                  name: 'Properties files',
                  mime: 'text/x-properties',
                  mode: 'properties',
                  ext: ['properties', 'ini', 'in'],
                  alias: ['ini', 'properties'],
                },
                {
                  name: 'ProtoBuf',
                  mime: 'text/x-protobuf',
                  mode: 'protobuf',
                  ext: ['proto'],
                },
                {
                  name: 'Python',
                  mime: 'text/x-python',
                  mode: 'python',
                  ext: ['BUILD', 'bzl', 'py', 'pyw'],
                  file: /^(BUCK|BUILD)$/,
                },
                {
                  name: 'Puppet',
                  mime: 'text/x-puppet',
                  mode: 'puppet',
                  ext: ['pp'],
                },
                { name: 'Q', mime: 'text/x-q', mode: 'q', ext: ['q'] },
                {
                  name: 'R',
                  mime: 'text/x-rsrc',
                  mode: 'r',
                  ext: ['r', 'R'],
                  alias: ['rscript'],
                },
                {
                  name: 'reStructuredText',
                  mime: 'text/x-rst',
                  mode: 'rst',
                  ext: ['rst'],
                  alias: ['rst'],
                },
                {
                  name: 'RPM Changes',
                  mime: 'text/x-rpm-changes',
                  mode: 'rpm',
                },
                {
                  name: 'RPM Spec',
                  mime: 'text/x-rpm-spec',
                  mode: 'rpm',
                  ext: ['spec'],
                },
                {
                  name: 'Ruby',
                  mime: 'text/x-ruby',
                  mode: 'ruby',
                  ext: ['rb'],
                  alias: ['jruby', 'macruby', 'rake', 'rb', 'rbx'],
                },
                {
                  name: 'Rust',
                  mime: 'text/x-rustsrc',
                  mode: 'rust',
                  ext: ['rs'],
                },
                { name: 'SAS', mime: 'text/x-sas', mode: 'sas', ext: ['sas'] },
                {
                  name: 'Sass',
                  mime: 'text/x-sass',
                  mode: 'sass',
                  ext: ['sass'],
                },
                {
                  name: 'Scala',
                  mime: 'text/x-scala',
                  mode: 'clike',
                  ext: ['scala'],
                },
                {
                  name: 'Scheme',
                  mime: 'text/x-scheme',
                  mode: 'scheme',
                  ext: ['scm', 'ss'],
                },
                {
                  name: 'SCSS',
                  mime: 'text/x-scss',
                  mode: 'css',
                  ext: ['scss'],
                },
                {
                  name: 'Shell',
                  mimes: ['text/x-sh', 'application/x-sh'],
                  mode: 'shell',
                  ext: ['sh', 'ksh', 'bash'],
                  alias: ['bash', 'sh', 'zsh'],
                  file: /^PKGBUILD$/,
                },
                {
                  name: 'Sieve',
                  mime: 'application/sieve',
                  mode: 'sieve',
                  ext: ['siv', 'sieve'],
                },
                {
                  name: 'Slim',
                  mimes: ['text/x-slim', 'application/x-slim'],
                  mode: 'slim',
                  ext: ['slim'],
                },
                {
                  name: 'Smalltalk',
                  mime: 'text/x-stsrc',
                  mode: 'smalltalk',
                  ext: ['st'],
                },
                {
                  name: 'Smarty',
                  mime: 'text/x-smarty',
                  mode: 'smarty',
                  ext: ['tpl'],
                },
                { name: 'Solr', mime: 'text/x-solr', mode: 'solr' },
                {
                  name: 'SML',
                  mime: 'text/x-sml',
                  mode: 'mllike',
                  ext: ['sml', 'sig', 'fun', 'smackspec'],
                },
                {
                  name: 'Soy',
                  mime: 'text/x-soy',
                  mode: 'soy',
                  ext: ['soy'],
                  alias: ['closure template'],
                },
                {
                  name: 'SPARQL',
                  mime: 'application/sparql-query',
                  mode: 'sparql',
                  ext: ['rq', 'sparql'],
                  alias: ['sparul'],
                },
                {
                  name: 'Spreadsheet',
                  mime: 'text/x-spreadsheet',
                  mode: 'spreadsheet',
                  alias: ['excel', 'formula'],
                },
                { name: 'SQL', mime: 'text/x-sql', mode: 'sql', ext: ['sql'] },
                { name: 'SQLite', mime: 'text/x-sqlite', mode: 'sql' },
                {
                  name: 'Squirrel',
                  mime: 'text/x-squirrel',
                  mode: 'clike',
                  ext: ['nut'],
                },
                {
                  name: 'Stylus',
                  mime: 'text/x-styl',
                  mode: 'stylus',
                  ext: ['styl'],
                },
                {
                  name: 'Swift',
                  mime: 'text/x-swift',
                  mode: 'swift',
                  ext: ['swift'],
                },
                { name: 'sTeX', mime: 'text/x-stex', mode: 'stex' },
                {
                  name: 'LaTeX',
                  mime: 'text/x-latex',
                  mode: 'stex',
                  ext: ['text', 'ltx', 'tex'],
                  alias: ['tex'],
                },
                {
                  name: 'SystemVerilog',
                  mime: 'text/x-systemverilog',
                  mode: 'verilog',
                  ext: ['v', 'sv', 'svh'],
                },
                { name: 'Tcl', mime: 'text/x-tcl', mode: 'tcl', ext: ['tcl'] },
                {
                  name: 'Textile',
                  mime: 'text/x-textile',
                  mode: 'textile',
                  ext: ['textile'],
                },
                {
                  name: 'TiddlyWiki',
                  mime: 'text/x-tiddlywiki',
                  mode: 'tiddlywiki',
                },
                { name: 'Tiki wiki', mime: 'text/tiki', mode: 'tiki' },
                {
                  name: 'TOML',
                  mime: 'text/x-toml',
                  mode: 'toml',
                  ext: ['toml'],
                },
                { name: 'Tornado', mime: 'text/x-tornado', mode: 'tornado' },
                {
                  name: 'troff',
                  mime: 'text/troff',
                  mode: 'troff',
                  ext: ['1', '2', '3', '4', '5', '6', '7', '8', '9'],
                },
                {
                  name: 'TTCN',
                  mime: 'text/x-ttcn',
                  mode: 'ttcn',
                  ext: ['ttcn', 'ttcn3', 'ttcnpp'],
                },
                {
                  name: 'TTCN_CFG',
                  mime: 'text/x-ttcn-cfg',
                  mode: 'ttcn-cfg',
                  ext: ['cfg'],
                },
                {
                  name: 'Turtle',
                  mime: 'text/turtle',
                  mode: 'turtle',
                  ext: ['ttl'],
                },
                {
                  name: 'TypeScript',
                  mime: 'application/typescript',
                  mode: 'javascript',
                  ext: ['ts'],
                  alias: ['ts'],
                },
                {
                  name: 'TypeScript-JSX',
                  mime: 'text/typescript-jsx',
                  mode: 'jsx',
                  ext: ['tsx'],
                  alias: ['tsx'],
                },
                { name: 'Twig', mime: 'text/x-twig', mode: 'twig' },
                {
                  name: 'Web IDL',
                  mime: 'text/x-webidl',
                  mode: 'webidl',
                  ext: ['webidl'],
                },
                { name: 'VB.NET', mime: 'text/x-vb', mode: 'vb', ext: ['vb'] },
                {
                  name: 'VBScript',
                  mime: 'text/vbscript',
                  mode: 'vbscript',
                  ext: ['vbs'],
                },
                {
                  name: 'Velocity',
                  mime: 'text/velocity',
                  mode: 'velocity',
                  ext: ['vtl'],
                },
                {
                  name: 'Verilog',
                  mime: 'text/x-verilog',
                  mode: 'verilog',
                  ext: ['v'],
                },
                {
                  name: 'VHDL',
                  mime: 'text/x-vhdl',
                  mode: 'vhdl',
                  ext: ['vhd', 'vhdl'],
                },
                {
                  name: 'Vue.js Component',
                  mimes: ['script/x-vue', 'text/x-vue'],
                  mode: 'vue',
                  ext: ['vue'],
                },
                {
                  name: 'XML',
                  mimes: ['application/xml', 'text/xml'],
                  mode: 'xml',
                  ext: ['xml', 'xsl', 'xsd', 'svg'],
                  alias: ['rss', 'wsdl', 'xsd'],
                },
                {
                  name: 'XQuery',
                  mime: 'application/xquery',
                  mode: 'xquery',
                  ext: ['xy', 'xquery'],
                },
                {
                  name: 'Yacas',
                  mime: 'text/x-yacas',
                  mode: 'yacas',
                  ext: ['ys'],
                },
                {
                  name: 'YAML',
                  mimes: ['text/x-yaml', 'text/yaml'],
                  mode: 'yaml',
                  ext: ['yaml', 'yml'],
                  alias: ['yml'],
                },
                { name: 'Z80', mime: 'text/x-z80', mode: 'z80', ext: ['z80'] },
                {
                  name: 'mscgen',
                  mime: 'text/x-mscgen',
                  mode: 'mscgen',
                  ext: ['mscgen', 'mscin', 'msc'],
                },
                { name: 'xu', mime: 'text/x-xu', mode: 'mscgen', ext: ['xu'] },
                {
                  name: 'msgenny',
                  mime: 'text/x-msgenny',
                  mode: 'mscgen',
                  ext: ['msgenny'],
                },
                {
                  name: 'WebAssembly',
                  mime: 'text/webassembly',
                  mode: 'wast',
                  ext: ['wat', 'wast'],
                },
              ];
              for (var oe = 0; oe < te.modeInfo.length; oe++) {
                var Lt = te.modeInfo[oe];
                Lt.mimes && (Lt.mime = Lt.mimes[0]);
              }
              (te.findModeByMIME = function (yt) {
                yt = yt.toLowerCase();
                for (var Dt = 0; Dt < te.modeInfo.length; Dt++) {
                  var bt = te.modeInfo[Dt];
                  if (bt.mime == yt) return bt;
                  if (bt.mimes)
                    for (var ct = 0; ct < bt.mimes.length; ct++)
                      if (bt.mimes[ct] == yt) return bt;
                }
                return /\+xml$/.test(yt)
                  ? te.findModeByMIME('application/xml')
                  : /\+json$/.test(yt)
                  ? te.findModeByMIME('application/json')
                  : void 0;
              }),
                (te.findModeByExtension = function (yt) {
                  yt = yt.toLowerCase();
                  for (var Dt = 0; Dt < te.modeInfo.length; Dt++) {
                    var bt = te.modeInfo[Dt];
                    if (bt.ext)
                      for (var ct = 0; ct < bt.ext.length; ct++)
                        if (bt.ext[ct] == yt) return bt;
                  }
                }),
                (te.findModeByFileName = function (yt) {
                  for (var Dt = 0; Dt < te.modeInfo.length; Dt++) {
                    var bt = te.modeInfo[Dt];
                    if (bt.file && bt.file.test(yt)) return bt;
                  }
                  var ct = yt.lastIndexOf('.'),
                    ve = ct > -1 && yt.substring(ct + 1, yt.length);
                  if (ve) return te.findModeByExtension(ve);
                }),
                (te.findModeByName = function (yt) {
                  yt = yt.toLowerCase();
                  for (var Dt = 0; Dt < te.modeInfo.length; Dt++) {
                    var bt = te.modeInfo[Dt];
                    if (bt.name.toLowerCase() == yt) return bt;
                    if (bt.alias)
                      for (var ct = 0; ct < bt.alias.length; ct++)
                        if (bt.alias[ct].toLowerCase() == yt) return bt;
                  }
                });
            })(
              'object' == typeof ut && 'object' == typeof or
                ? ue('../lib/codemirror')
                : CodeMirror
            );
          },
          { '../lib/codemirror': 10 },
        ],
        14: [
          function (ue, or, ut) {
            !(function (te) {
              'use strict';
              var oe = {
                  autoSelfClosers: {
                    area: !0,
                    base: !0,
                    br: !0,
                    col: !0,
                    command: !0,
                    embed: !0,
                    frame: !0,
                    hr: !0,
                    img: !0,
                    input: !0,
                    keygen: !0,
                    link: !0,
                    meta: !0,
                    param: !0,
                    source: !0,
                    track: !0,
                    wbr: !0,
                    menuitem: !0,
                  },
                  implicitlyClosed: {
                    dd: !0,
                    li: !0,
                    optgroup: !0,
                    option: !0,
                    p: !0,
                    rp: !0,
                    rt: !0,
                    tbody: !0,
                    td: !0,
                    tfoot: !0,
                    th: !0,
                    tr: !0,
                  },
                  contextGrabbers: {
                    dd: { dd: !0, dt: !0 },
                    dt: { dd: !0, dt: !0 },
                    li: { li: !0 },
                    option: { option: !0, optgroup: !0 },
                    optgroup: { optgroup: !0 },
                    p: {
                      address: !0,
                      article: !0,
                      aside: !0,
                      blockquote: !0,
                      dir: !0,
                      div: !0,
                      dl: !0,
                      fieldset: !0,
                      footer: !0,
                      form: !0,
                      h1: !0,
                      h2: !0,
                      h3: !0,
                      h4: !0,
                      h5: !0,
                      h6: !0,
                      header: !0,
                      hgroup: !0,
                      hr: !0,
                      menu: !0,
                      nav: !0,
                      ol: !0,
                      p: !0,
                      pre: !0,
                      section: !0,
                      table: !0,
                      ul: !0,
                    },
                    rp: { rp: !0, rt: !0 },
                    rt: { rp: !0, rt: !0 },
                    tbody: { tbody: !0, tfoot: !0 },
                    td: { td: !0, th: !0 },
                    tfoot: { tbody: !0 },
                    th: { td: !0, th: !0 },
                    thead: { tbody: !0, tfoot: !0 },
                    tr: { tr: !0 },
                  },
                  doNotIndent: { pre: !0 },
                  allowUnquoted: !0,
                  allowMissing: !0,
                  caseFold: !0,
                },
                Lt = {
                  autoSelfClosers: {},
                  implicitlyClosed: {},
                  contextGrabbers: {},
                  doNotIndent: {},
                  allowUnquoted: !1,
                  allowMissing: !1,
                  allowMissingTagName: !1,
                  caseFold: !1,
                };
              te.defineMode('xml', function (yt, Dt) {
                var bt,
                  ct,
                  ve = yt.indentUnit,
                  Qt = {},
                  jt = Dt.htmlMode ? oe : Lt;
                for (var de in jt) Qt[de] = jt[de];
                for (var de in Dt) Qt[de] = Dt[de];
                function wt(ft, Gt) {
                  function Ht(Ot) {
                    return (Gt.tokenize = Ot), Ot(ft, Gt);
                  }
                  var nt = ft.next();
                  return '<' == nt
                    ? ft.eat('!')
                      ? ft.eat('[')
                        ? ft.match('CDATA[')
                          ? Ht(he('atom', ']]>'))
                          : null
                        : ft.match('--')
                        ? Ht(he('comment', '--\x3e'))
                        : ft.match('DOCTYPE', !0, !0)
                        ? (ft.eatWhile(/[\w\._\-]/), Ht(_t(1)))
                        : null
                      : ft.eat('?')
                      ? (ft.eatWhile(/[\w\._\-]/),
                        (Gt.tokenize = he('meta', '?>')),
                        'meta')
                      : ((bt = ft.eat('/') ? 'closeTag' : 'openTag'),
                        (Gt.tokenize = Zt),
                        'tag bracket')
                    : '&' == nt
                    ? (
                        ft.eat('#')
                          ? ft.eat('x')
                            ? ft.eatWhile(/[a-fA-F\d]/) && ft.eat(';')
                            : ft.eatWhile(/[\d]/) && ft.eat(';')
                          : ft.eatWhile(/[\w\.\-:]/) && ft.eat(';')
                      )
                      ? 'atom'
                      : 'error'
                    : (ft.eatWhile(/[^&<]/), null);
                }
                function Zt(ft, Gt) {
                  var Ht,
                    nt,
                    Ot = ft.next();
                  if ('>' == Ot || ('/' == Ot && ft.eat('>')))
                    return (
                      (Gt.tokenize = wt),
                      (bt = '>' == Ot ? 'endTag' : 'selfcloseTag'),
                      'tag bracket'
                    );
                  if ('=' == Ot) return (bt = 'equals'), null;
                  if ('<' == Ot) {
                    (Gt.tokenize = wt),
                      (Gt.state = Kt),
                      (Gt.tagName = Gt.tagStart = null);
                    var st = Gt.tokenize(ft, Gt);
                    return st ? st + ' tag error' : 'tag error';
                  }
                  return /[\'\"]/.test(Ot)
                    ? ((Gt.tokenize =
                        ((Ht = Ot),
                        ((nt = function ($, Xe) {
                          for (; !$.eol(); )
                            if ($.next() == Ht) {
                              Xe.tokenize = Zt;
                              break;
                            }
                          return 'string';
                        }).isInAttribute = !0),
                        nt)),
                      (Gt.stringStartCol = ft.column()),
                      Gt.tokenize(ft, Gt))
                    : (ft.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),
                      'word');
                }
                function he(ft, Gt) {
                  return function (Ht, nt) {
                    for (; !Ht.eol(); ) {
                      if (Ht.match(Gt)) {
                        nt.tokenize = wt;
                        break;
                      }
                      Ht.next();
                    }
                    return ft;
                  };
                }
                function _t(ft) {
                  return function (Gt, Ht) {
                    for (var nt; null != (nt = Gt.next()); ) {
                      if ('<' == nt)
                        return (Ht.tokenize = _t(ft + 1)), Ht.tokenize(Gt, Ht);
                      if ('>' == nt) {
                        if (1 == ft) {
                          Ht.tokenize = wt;
                          break;
                        }
                        return (Ht.tokenize = _t(ft - 1)), Ht.tokenize(Gt, Ht);
                      }
                    }
                    return 'meta';
                  };
                }
                function zt(ft) {
                  return ft && ft.toLowerCase();
                }
                function Bt(ft, Gt, Ht) {
                  (this.prev = ft.context),
                    (this.tagName = Gt || ''),
                    (this.indent = ft.indented),
                    (this.startOfLine = Ht),
                    (Qt.doNotIndent.hasOwnProperty(Gt) ||
                      (ft.context && ft.context.noIndent)) &&
                      (this.noIndent = !0);
                }
                function ee(ft) {
                  ft.context && (ft.context = ft.context.prev);
                }
                function ne(ft, Gt) {
                  for (var Ht; ; ) {
                    if (
                      !ft.context ||
                      !Qt.contextGrabbers.hasOwnProperty(
                        zt((Ht = ft.context.tagName))
                      ) ||
                      !Qt.contextGrabbers[zt(Ht)].hasOwnProperty(zt(Gt))
                    )
                      return;
                    ee(ft);
                  }
                }
                function Kt(ft, Gt, Ht) {
                  return 'openTag' == ft
                    ? ((Ht.tagStart = Gt.column()), ie)
                    : 'closeTag' == ft
                    ? Le
                    : Kt;
                }
                function ie(ft, Gt, Ht) {
                  return 'word' == ft
                    ? ((Ht.tagName = Gt.current()), (ct = 'tag'), qe)
                    : Qt.allowMissingTagName && 'endTag' == ft
                    ? ((ct = 'tag bracket'), qe(ft, 0, Ht))
                    : ((ct = 'error'), ie);
                }
                function Le(ft, Gt, Ht) {
                  if ('word' == ft) {
                    var nt = Gt.current();
                    return (
                      Ht.context &&
                        Ht.context.tagName != nt &&
                        Qt.implicitlyClosed.hasOwnProperty(
                          zt(Ht.context.tagName)
                        ) &&
                        ee(Ht),
                      (Ht.context && Ht.context.tagName == nt) ||
                      !1 === Qt.matchClosing
                        ? ((ct = 'tag'), Pe)
                        : ((ct = 'tag error'), Re)
                    );
                  }
                  return Qt.allowMissingTagName && 'endTag' == ft
                    ? ((ct = 'tag bracket'), Pe(ft, 0, Ht))
                    : ((ct = 'error'), Re);
                }
                function Pe(ft, Gt, Ht) {
                  return 'endTag' != ft ? ((ct = 'error'), Pe) : (ee(Ht), Kt);
                }
                function Re(ft, Gt, Ht) {
                  return (ct = 'error'), Pe(ft, 0, Ht);
                }
                function qe(ft, Gt, Ht) {
                  if ('word' == ft) return (ct = 'attribute'), Ae;
                  if ('endTag' == ft || 'selfcloseTag' == ft) {
                    var nt = Ht.tagName,
                      Ot = Ht.tagStart;
                    return (
                      (Ht.tagName = Ht.tagStart = null),
                      'selfcloseTag' == ft ||
                      Qt.autoSelfClosers.hasOwnProperty(zt(nt))
                        ? ne(Ht, nt)
                        : (ne(Ht, nt),
                          (Ht.context = new Bt(Ht, nt, Ot == Ht.indented))),
                      Kt
                    );
                  }
                  return (ct = 'error'), qe;
                }
                function Ae(ft, Gt, Ht) {
                  return 'equals' == ft
                    ? ir
                    : (Qt.allowMissing || (ct = 'error'), qe(ft, 0, Ht));
                }
                function ir(ft, Gt, Ht) {
                  return 'string' == ft
                    ? He
                    : 'word' == ft && Qt.allowUnquoted
                    ? ((ct = 'string'), qe)
                    : ((ct = 'error'), qe(ft, 0, Ht));
                }
                function He(ft, Gt, Ht) {
                  return 'string' == ft ? He : qe(ft, 0, Ht);
                }
                return (
                  (wt.isInText = !0),
                  {
                    startState: function (ft) {
                      var Gt = {
                        tokenize: wt,
                        state: Kt,
                        indented: ft || 0,
                        tagName: null,
                        tagStart: null,
                        context: null,
                      };
                      return null != ft && (Gt.baseIndent = ft), Gt;
                    },
                    token: function (ft, Gt) {
                      if (
                        (!Gt.tagName &&
                          ft.sol() &&
                          (Gt.indented = ft.indentation()),
                        ft.eatSpace())
                      )
                        return null;
                      bt = null;
                      var Ht = Gt.tokenize(ft, Gt);
                      return (
                        (Ht || bt) &&
                          'comment' != Ht &&
                          ((ct = null),
                          (Gt.state = Gt.state(bt || Ht, ft, Gt)),
                          ct && (Ht = 'error' == ct ? Ht + ' error' : ct)),
                        Ht
                      );
                    },
                    indent: function (ft, Gt, Ht) {
                      var nt = ft.context;
                      if (ft.tokenize.isInAttribute)
                        return ft.tagStart == ft.indented
                          ? ft.stringStartCol + 1
                          : ft.indented + ve;
                      if (nt && nt.noIndent) return te.Pass;
                      if (ft.tokenize != Zt && ft.tokenize != wt)
                        return Ht ? Ht.match(/^(\s*)/)[0].length : 0;
                      if (ft.tagName)
                        return !1 !== Qt.multilineTagIndentPastTag
                          ? ft.tagStart + ft.tagName.length + 2
                          : ft.tagStart +
                              ve * (Qt.multilineTagIndentFactor || 1);
                      if (Qt.alignCDATA && /<!\[CDATA\[/.test(Gt)) return 0;
                      var Ot = Gt && /^<(\/)?([\w_:\.-]*)/.exec(Gt);
                      if (Ot && Ot[1])
                        for (; nt; ) {
                          if (nt.tagName == Ot[2]) {
                            nt = nt.prev;
                            break;
                          }
                          if (
                            !Qt.implicitlyClosed.hasOwnProperty(zt(nt.tagName))
                          )
                            break;
                          nt = nt.prev;
                        }
                      else if (Ot)
                        for (; nt; ) {
                          var st = Qt.contextGrabbers[zt(nt.tagName)];
                          if (!st || !st.hasOwnProperty(zt(Ot[2]))) break;
                          nt = nt.prev;
                        }
                      for (; nt && nt.prev && !nt.startOfLine; ) nt = nt.prev;
                      return nt ? nt.indent + ve : ft.baseIndent || 0;
                    },
                    electricInput: /<\/[\s\w:]+>$/,
                    blockCommentStart: '\x3c!--',
                    blockCommentEnd: '--\x3e',
                    configuration: Qt.htmlMode ? 'html' : 'xml',
                    helperType: Qt.htmlMode ? 'html' : 'xml',
                    skipAttribute: function (ft) {
                      ft.state == ir && (ft.state = qe);
                    },
                    xmlCurrentTag: function (ft) {
                      return ft.tagName
                        ? { name: ft.tagName, close: 'closeTag' == ft.type }
                        : null;
                    },
                    xmlCurrentContext: function (ft) {
                      for (var Gt = [], Ht = ft.context; Ht; Ht = Ht.prev)
                        Gt.push(Ht.tagName);
                      return Gt.reverse();
                    },
                  }
                );
              }),
                te.defineMIME('text/xml', 'xml'),
                te.defineMIME('application/xml', 'xml'),
                te.mimeModes.hasOwnProperty('text/html') ||
                  te.defineMIME('text/html', { name: 'xml', htmlMode: !0 });
            })(
              'object' == typeof ut && 'object' == typeof or
                ? ue('../../lib/codemirror')
                : CodeMirror
            );
          },
          { '../../lib/codemirror': 10 },
        ],
        15: [
          function (ue, or, ut) {
            var te;
            (te = this),
              (function (te) {
                'use strict';
                function oe(ht, It) {
                  for (var U = 0; U < It.length; U++) {
                    var Y = It[U];
                    (Y.enumerable = Y.enumerable || !1),
                      (Y.configurable = !0),
                      'value' in Y && (Y.writable = !0),
                      Object.defineProperty(ht, Y.key, Y);
                  }
                }
                function Lt(ht, It) {
                  (null == It || It > ht.length) && (It = ht.length);
                  for (var U = 0, Y = new Array(It); U < It; U++) Y[U] = ht[U];
                  return Y;
                }
                function yt(ht, It) {
                  var U =
                    (typeof Symbol < 'u' && ht[Symbol.iterator]) ||
                    ht['@@iterator'];
                  if (U) return (U = U.call(ht)).next.bind(U);
                  if (
                    Array.isArray(ht) ||
                    (U = (function (mt, Q) {
                      if (mt) {
                        if ('string' == typeof mt) return Lt(mt, Q);
                        var At = Object.prototype.toString
                          .call(mt)
                          .slice(8, -1);
                        return (
                          'Object' === At &&
                            mt.constructor &&
                            (At = mt.constructor.name),
                          'Map' === At || 'Set' === At
                            ? Array.from(mt)
                            : 'Arguments' === At ||
                              /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(
                                At
                              )
                            ? Lt(mt, Q)
                            : void 0
                        );
                      }
                    })(ht)) ||
                    (It && ht && 'number' == typeof ht.length)
                  ) {
                    U && (ht = U);
                    var Y = 0;
                    return function () {
                      return Y >= ht.length
                        ? { done: !0 }
                        : { done: !1, value: ht[Y++] };
                    };
                  }
                  throw new TypeError(
                    'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
                  );
                }
                function Dt() {
                  return {
                    async: !1,
                    baseUrl: null,
                    breaks: !1,
                    extensions: null,
                    gfm: !0,
                    headerIds: !0,
                    headerPrefix: '',
                    highlight: null,
                    langPrefix: 'language-',
                    mangle: !0,
                    pedantic: !1,
                    renderer: null,
                    sanitize: !1,
                    sanitizer: null,
                    silent: !1,
                    smartLists: !1,
                    smartypants: !1,
                    tokenizer: null,
                    walkTokens: null,
                    xhtml: !1,
                  };
                }
                te.defaults = {
                  async: !1,
                  baseUrl: null,
                  breaks: !1,
                  extensions: null,
                  gfm: !0,
                  headerIds: !0,
                  headerPrefix: '',
                  highlight: null,
                  langPrefix: 'language-',
                  mangle: !0,
                  pedantic: !1,
                  renderer: null,
                  sanitize: !1,
                  sanitizer: null,
                  silent: !1,
                  smartLists: !1,
                  smartypants: !1,
                  tokenizer: null,
                  walkTokens: null,
                  xhtml: !1,
                };
                var bt = /[&<>"']/,
                  ct = /[&<>"']/g,
                  ve = /[<>"']|&(?!#?\w+;)/,
                  Qt = /[<>"']|&(?!#?\w+;)/g,
                  jt = {
                    '&': '&amp;',
                    '<': '&lt;',
                    '>': '&gt;',
                    '"': '&quot;',
                    "'": '&#39;',
                  },
                  de = function (ht) {
                    return jt[ht];
                  };
                function wt(ht, It) {
                  if (It) {
                    if (bt.test(ht)) return ht.replace(ct, de);
                  } else if (ve.test(ht)) return ht.replace(Qt, de);
                  return ht;
                }
                var Zt = /&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;
                function he(ht) {
                  return ht.replace(Zt, function (It, U) {
                    return 'colon' === (U = U.toLowerCase())
                      ? ':'
                      : '#' === U.charAt(0)
                      ? 'x' === U.charAt(1)
                        ? String.fromCharCode(parseInt(U.substring(2), 16))
                        : String.fromCharCode(+U.substring(1))
                      : '';
                  });
                }
                var _t = /(^|[^\[])\^/g;
                function zt(ht, It) {
                  (ht = 'string' == typeof ht ? ht : ht.source),
                    (It = It || '');
                  var U = {
                    replace: function (Y, mt) {
                      return (
                        (mt = (mt = mt.source || mt).replace(_t, '$1')),
                        (ht = ht.replace(Y, mt)),
                        U
                      );
                    },
                    getRegex: function () {
                      return new RegExp(ht, It);
                    },
                  };
                  return U;
                }
                var Bt = /[^\w:]/g,
                  ee = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;
                function ne(ht, It, U) {
                  if (ht) {
                    var Y;
                    try {
                      Y = decodeURIComponent(he(U))
                        .replace(Bt, '')
                        .toLowerCase();
                    } catch {
                      return null;
                    }
                    if (
                      0 === Y.indexOf('javascript:') ||
                      0 === Y.indexOf('vbscript:') ||
                      0 === Y.indexOf('data:')
                    )
                      return null;
                  }
                  It &&
                    !ee.test(U) &&
                    (U = (function (mt, Q) {
                      Kt[' ' + mt] ||
                        (Kt[' ' + mt] = ie.test(mt)
                          ? mt + '/'
                          : ir(mt, '/', !0));
                      var At = -1 === (mt = Kt[' ' + mt]).indexOf(':');
                      return '//' === Q.substring(0, 2)
                        ? At
                          ? Q
                          : mt.replace(Le, '$1') + Q
                        : '/' === Q.charAt(0)
                        ? At
                          ? Q
                          : mt.replace(Pe, '$1') + Q
                        : mt + Q;
                    })(It, U));
                  try {
                    U = encodeURI(U).replace(/%25/g, '%');
                  } catch {
                    return null;
                  }
                  return U;
                }
                var Kt = {},
                  ie = /^[^:]+:\/*[^/]*$/,
                  Le = /^([^:]+:)[\s\S]*$/,
                  Pe = /^([^:]+:\/*[^/]*)[\s\S]*$/,
                  Re = { exec: function () {} };
                function qe(ht) {
                  for (var It, U, Y = 1; Y < arguments.length; Y++)
                    for (U in (It = arguments[Y]))
                      Object.prototype.hasOwnProperty.call(It, U) &&
                        (ht[U] = It[U]);
                  return ht;
                }
                function Ae(ht, It) {
                  var U = ht
                      .replace(/\|/g, function (mt, Q, At) {
                        for (
                          var Pt = !1, qt = Q;
                          --qt >= 0 && '\\' === At[qt];

                        )
                          Pt = !Pt;
                        return Pt ? '|' : ' |';
                      })
                      .split(/ \|/),
                    Y = 0;
                  if (
                    (U[0].trim() || U.shift(),
                    U.length > 0 && !U[U.length - 1].trim() && U.pop(),
                    U.length > It)
                  )
                    U.splice(It);
                  else for (; U.length < It; ) U.push('');
                  for (; Y < U.length; Y++)
                    U[Y] = U[Y].trim().replace(/\\\|/g, '|');
                  return U;
                }
                function ir(ht, It, U) {
                  var Y = ht.length;
                  if (0 === Y) return '';
                  for (var mt = 0; mt < Y; ) {
                    var Q = ht.charAt(Y - mt - 1);
                    if (Q !== It || U) {
                      if (Q === It || !U) break;
                      mt++;
                    } else mt++;
                  }
                  return ht.slice(0, Y - mt);
                }
                function He(ht) {
                  ht &&
                    ht.sanitize &&
                    !ht.silent &&
                    console.warn(
                      'marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options'
                    );
                }
                function ft(ht, It) {
                  if (It < 1) return '';
                  for (var U = ''; It > 1; )
                    1 & It && (U += ht), (It >>= 1), (ht += ht);
                  return U + ht;
                }
                function Gt(ht, It, U, Y) {
                  var mt = It.href,
                    Q = It.title ? wt(It.title) : null,
                    At = ht[1].replace(/\\([\[\]])/g, '$1');
                  if ('!' !== ht[0].charAt(0)) {
                    Y.state.inLink = !0;
                    var Pt = {
                      type: 'link',
                      raw: U,
                      href: mt,
                      title: Q,
                      text: At,
                      tokens: Y.inlineTokens(At),
                    };
                    return (Y.state.inLink = !1), Pt;
                  }
                  return {
                    type: 'image',
                    raw: U,
                    href: mt,
                    title: Q,
                    text: wt(At),
                  };
                }
                var Ht = (function () {
                    function ht(U) {
                      this.options = U || te.defaults;
                    }
                    var It = ht.prototype;
                    return (
                      (It.space = function (U) {
                        var Y = this.rules.block.newline.exec(U);
                        if (Y && Y[0].length > 0)
                          return { type: 'space', raw: Y[0] };
                      }),
                      (It.code = function (U) {
                        var Y = this.rules.block.code.exec(U);
                        if (Y) {
                          var mt = Y[0].replace(/^ {1,4}/gm, '');
                          return {
                            type: 'code',
                            raw: Y[0],
                            codeBlockStyle: 'indented',
                            text: this.options.pedantic ? mt : ir(mt, '\n'),
                          };
                        }
                      }),
                      (It.fences = function (U) {
                        var Y = this.rules.block.fences.exec(U);
                        if (Y) {
                          var mt = Y[0],
                            Q = (function (At, Pt) {
                              var qt = At.match(/^(\s+)(?:```)/);
                              if (null === qt) return Pt;
                              var Me = qt[1];
                              return Pt.split('\n')
                                .map(function (Wt) {
                                  var xe = Wt.match(/^\s+/);
                                  return null === xe
                                    ? Wt
                                    : xe[0].length >= Me.length
                                    ? Wt.slice(Me.length)
                                    : Wt;
                                })
                                .join('\n');
                            })(mt, Y[3] || '');
                          return {
                            type: 'code',
                            raw: mt,
                            lang: Y[2] ? Y[2].trim() : Y[2],
                            text: Q,
                          };
                        }
                      }),
                      (It.heading = function (U) {
                        var Y = this.rules.block.heading.exec(U);
                        if (Y) {
                          var mt = Y[2].trim();
                          if (/#$/.test(mt)) {
                            var Q = ir(mt, '#');
                            this.options.pedantic
                              ? (mt = Q.trim())
                              : (Q && !/ $/.test(Q)) || (mt = Q.trim());
                          }
                          return {
                            type: 'heading',
                            raw: Y[0],
                            depth: Y[1].length,
                            text: mt,
                            tokens: this.lexer.inline(mt),
                          };
                        }
                      }),
                      (It.hr = function (U) {
                        var Y = this.rules.block.hr.exec(U);
                        if (Y) return { type: 'hr', raw: Y[0] };
                      }),
                      (It.blockquote = function (U) {
                        var Y = this.rules.block.blockquote.exec(U);
                        if (Y) {
                          var mt = Y[0].replace(/^ *>[ \t]?/gm, '');
                          return {
                            type: 'blockquote',
                            raw: Y[0],
                            tokens: this.lexer.blockTokens(mt, []),
                            text: mt,
                          };
                        }
                      }),
                      (It.list = function (U) {
                        var Y = this.rules.block.list.exec(U);
                        if (Y) {
                          var mt,
                            Q,
                            At,
                            Pt,
                            qt,
                            Me,
                            Wt,
                            xe,
                            B,
                            J,
                            rt,
                            et,
                            lt = Y[1].trim(),
                            Et = lt.length > 1,
                            gt = {
                              type: 'list',
                              raw: '',
                              ordered: Et,
                              start: Et ? +lt.slice(0, -1) : '',
                              loose: !1,
                              items: [],
                            };
                          (lt = Et ? '\\d{1,9}\\' + lt.slice(-1) : '\\' + lt),
                            this.options.pedantic && (lt = Et ? lt : '[*+-]');
                          for (
                            var Rt = new RegExp(
                              '^( {0,3}' + lt + ')((?:[\t ][^\\n]*)?(?:\\n|$))'
                            );
                            U &&
                            ((et = !1), (Y = Rt.exec(U))) &&
                            !this.rules.block.hr.test(U);

                          ) {
                            if (
                              ((U = U.substring((mt = Y[0]).length)),
                              (xe = Y[2].split('\n', 1)[0]),
                              (B = U.split('\n', 1)[0]),
                              this.options.pedantic
                                ? ((Pt = 2), (rt = xe.trimLeft()))
                                : ((Pt =
                                    (Pt = Y[2].search(/[^ ]/)) > 4 ? 1 : Pt),
                                  (rt = xe.slice(Pt)),
                                  (Pt += Y[1].length)),
                              (Me = !1),
                              !xe &&
                                /^ *$/.test(B) &&
                                ((mt += B + '\n'),
                                (U = U.substring(B.length + 1)),
                                (et = !0)),
                              !et)
                            )
                              for (
                                var Ct = new RegExp(
                                    '^ {0,' +
                                      Math.min(3, Pt - 1) +
                                      '}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))'
                                  ),
                                  se = new RegExp(
                                    '^ {0,' +
                                      Math.min(3, Pt - 1) +
                                      '}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)'
                                  ),
                                  pe = new RegExp(
                                    '^ {0,' +
                                      Math.min(3, Pt - 1) +
                                      '}(?:```|~~~)'
                                  ),
                                  ze = new RegExp(
                                    '^ {0,' + Math.min(3, Pt - 1) + '}#'
                                  );
                                U &&
                                ((xe = J = U.split('\n', 1)[0]),
                                this.options.pedantic &&
                                  (xe = xe.replace(
                                    /^ {1,4}(?=( {4})*[^ ])/g,
                                    '  '
                                  )),
                                !pe.test(xe)) &&
                                !ze.test(xe) &&
                                !Ct.test(xe) &&
                                !se.test(U);

                              ) {
                                if (xe.search(/[^ ]/) >= Pt || !xe.trim())
                                  rt += '\n' + xe.slice(Pt);
                                else {
                                  if (Me) break;
                                  rt += '\n' + xe;
                                }
                                Me || xe.trim() || (Me = !0),
                                  (mt += J + '\n'),
                                  (U = U.substring(J.length + 1));
                              }
                            gt.loose ||
                              (Wt
                                ? (gt.loose = !0)
                                : /\n *\n *$/.test(mt) && (Wt = !0)),
                              this.options.gfm &&
                                (Q = /^\[[ xX]\] /.exec(rt)) &&
                                ((At = '[ ] ' !== Q[0]),
                                (rt = rt.replace(/^\[[ xX]\] +/, ''))),
                              gt.items.push({
                                type: 'list_item',
                                raw: mt,
                                task: !!Q,
                                checked: At,
                                loose: !1,
                                text: rt,
                              }),
                              (gt.raw += mt);
                          }
                          (gt.items[gt.items.length - 1].raw = mt.trimRight()),
                            (gt.items[gt.items.length - 1].text =
                              rt.trimRight()),
                            (gt.raw = gt.raw.trimRight());
                          var ar = gt.items.length;
                          for (qt = 0; qt < ar; qt++) {
                            (this.lexer.state.top = !1),
                              (gt.items[qt].tokens = this.lexer.blockTokens(
                                gt.items[qt].text,
                                []
                              ));
                            var Nt = gt.items[qt].tokens.filter(function ($e) {
                                return 'space' === $e.type;
                              }),
                              Ge = Nt.every(function ($e) {
                                for (
                                  var lr, ce = 0, Ke = yt($e.raw.split(''));
                                  !(lr = Ke()).done;

                                )
                                  if (('\n' === lr.value && (ce += 1), ce > 1))
                                    return !0;
                                return !1;
                              });
                            !gt.loose &&
                              Nt.length &&
                              Ge &&
                              ((gt.loose = !0), (gt.items[qt].loose = !0));
                          }
                          return gt;
                        }
                      }),
                      (It.html = function (U) {
                        var Y = this.rules.block.html.exec(U);
                        if (Y) {
                          var mt = {
                            type: 'html',
                            raw: Y[0],
                            pre:
                              !this.options.sanitizer &&
                              ('pre' === Y[1] ||
                                'script' === Y[1] ||
                                'style' === Y[1]),
                            text: Y[0],
                          };
                          if (this.options.sanitize) {
                            var Q = this.options.sanitizer
                              ? this.options.sanitizer(Y[0])
                              : wt(Y[0]);
                            (mt.type = 'paragraph'),
                              (mt.text = Q),
                              (mt.tokens = this.lexer.inline(Q));
                          }
                          return mt;
                        }
                      }),
                      (It.def = function (U) {
                        var Y = this.rules.block.def.exec(U);
                        if (Y)
                          return (
                            Y[3] && (Y[3] = Y[3].substring(1, Y[3].length - 1)),
                            {
                              type: 'def',
                              tag: Y[1].toLowerCase().replace(/\s+/g, ' '),
                              raw: Y[0],
                              href: Y[2],
                              title: Y[3],
                            }
                          );
                      }),
                      (It.table = function (U) {
                        var Y = this.rules.block.table.exec(U);
                        if (Y) {
                          var mt = {
                            type: 'table',
                            header: Ae(Y[1]).map(function (Wt) {
                              return { text: Wt };
                            }),
                            align: Y[2]
                              .replace(/^ *|\| *$/g, '')
                              .split(/ *\| */),
                            rows:
                              Y[3] && Y[3].trim()
                                ? Y[3].replace(/\n[ \t]*$/, '').split('\n')
                                : [],
                          };
                          if (mt.header.length === mt.align.length) {
                            mt.raw = Y[0];
                            var Q,
                              At,
                              Pt,
                              qt,
                              Me = mt.align.length;
                            for (Q = 0; Q < Me; Q++)
                              mt.align[Q] = /^ *-+: *$/.test(mt.align[Q])
                                ? 'right'
                                : /^ *:-+: *$/.test(mt.align[Q])
                                ? 'center'
                                : /^ *:-+ *$/.test(mt.align[Q])
                                ? 'left'
                                : null;
                            for (Me = mt.rows.length, Q = 0; Q < Me; Q++)
                              mt.rows[Q] = Ae(mt.rows[Q], mt.header.length).map(
                                function (Wt) {
                                  return { text: Wt };
                                }
                              );
                            for (Me = mt.header.length, At = 0; At < Me; At++)
                              mt.header[At].tokens = this.lexer.inline(
                                mt.header[At].text
                              );
                            for (Me = mt.rows.length, At = 0; At < Me; At++)
                              for (
                                qt = mt.rows[At], Pt = 0;
                                Pt < qt.length;
                                Pt++
                              )
                                qt[Pt].tokens = this.lexer.inline(qt[Pt].text);
                            return mt;
                          }
                        }
                      }),
                      (It.lheading = function (U) {
                        var Y = this.rules.block.lheading.exec(U);
                        if (Y)
                          return {
                            type: 'heading',
                            raw: Y[0],
                            depth: '=' === Y[2].charAt(0) ? 1 : 2,
                            text: Y[1],
                            tokens: this.lexer.inline(Y[1]),
                          };
                      }),
                      (It.paragraph = function (U) {
                        var Y = this.rules.block.paragraph.exec(U);
                        if (Y) {
                          var mt =
                            '\n' === Y[1].charAt(Y[1].length - 1)
                              ? Y[1].slice(0, -1)
                              : Y[1];
                          return {
                            type: 'paragraph',
                            raw: Y[0],
                            text: mt,
                            tokens: this.lexer.inline(mt),
                          };
                        }
                      }),
                      (It.text = function (U) {
                        var Y = this.rules.block.text.exec(U);
                        if (Y)
                          return {
                            type: 'text',
                            raw: Y[0],
                            text: Y[0],
                            tokens: this.lexer.inline(Y[0]),
                          };
                      }),
                      (It.escape = function (U) {
                        var Y = this.rules.inline.escape.exec(U);
                        if (Y)
                          return { type: 'escape', raw: Y[0], text: wt(Y[1]) };
                      }),
                      (It.tag = function (U) {
                        var Y = this.rules.inline.tag.exec(U);
                        if (Y)
                          return (
                            !this.lexer.state.inLink && /^<a /i.test(Y[0])
                              ? (this.lexer.state.inLink = !0)
                              : this.lexer.state.inLink &&
                                /^<\/a>/i.test(Y[0]) &&
                                (this.lexer.state.inLink = !1),
                            !this.lexer.state.inRawBlock &&
                            /^<(pre|code|kbd|script)(\s|>)/i.test(Y[0])
                              ? (this.lexer.state.inRawBlock = !0)
                              : this.lexer.state.inRawBlock &&
                                /^<\/(pre|code|kbd|script)(\s|>)/i.test(Y[0]) &&
                                (this.lexer.state.inRawBlock = !1),
                            {
                              type: this.options.sanitize ? 'text' : 'html',
                              raw: Y[0],
                              inLink: this.lexer.state.inLink,
                              inRawBlock: this.lexer.state.inRawBlock,
                              text: this.options.sanitize
                                ? this.options.sanitizer
                                  ? this.options.sanitizer(Y[0])
                                  : wt(Y[0])
                                : Y[0],
                            }
                          );
                      }),
                      (It.link = function (U) {
                        var Y = this.rules.inline.link.exec(U);
                        if (Y) {
                          var mt = Y[2].trim();
                          if (!this.options.pedantic && /^</.test(mt)) {
                            if (!/>$/.test(mt)) return;
                            var Q = ir(mt.slice(0, -1), '\\');
                            if ((mt.length - Q.length) % 2 == 0) return;
                          } else {
                            var At = (function (xe, B) {
                              if (-1 === xe.indexOf(B[1])) return -1;
                              for (
                                var J = xe.length, rt = 0, et = 0;
                                et < J;
                                et++
                              )
                                if ('\\' === xe[et]) et++;
                                else if (xe[et] === B[0]) rt++;
                                else if (xe[et] === B[1] && --rt < 0) return et;
                              return -1;
                            })(Y[2], '()');
                            if (At > -1) {
                              var Pt =
                                (0 === Y[0].indexOf('!') ? 5 : 4) +
                                Y[1].length +
                                At;
                              (Y[2] = Y[2].substring(0, At)),
                                (Y[0] = Y[0].substring(0, Pt).trim()),
                                (Y[3] = '');
                            }
                          }
                          var qt = Y[2],
                            Me = '';
                          if (this.options.pedantic) {
                            var Wt = /^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(qt);
                            Wt && ((qt = Wt[1]), (Me = Wt[3]));
                          } else Me = Y[3] ? Y[3].slice(1, -1) : '';
                          return (
                            (qt = qt.trim()),
                            /^</.test(qt) &&
                              (qt =
                                this.options.pedantic && !/>$/.test(mt)
                                  ? qt.slice(1)
                                  : qt.slice(1, -1)),
                            Gt(
                              Y,
                              {
                                href:
                                  qt &&
                                  qt.replace(this.rules.inline._escapes, '$1'),
                                title:
                                  Me &&
                                  Me.replace(this.rules.inline._escapes, '$1'),
                              },
                              Y[0],
                              this.lexer
                            )
                          );
                        }
                      }),
                      (It.reflink = function (U, Y) {
                        var mt;
                        if (
                          (mt = this.rules.inline.reflink.exec(U)) ||
                          (mt = this.rules.inline.nolink.exec(U))
                        ) {
                          var Q = (mt[2] || mt[1]).replace(/\s+/g, ' ');
                          if (!(Q = Y[Q.toLowerCase()]) || !Q.href) {
                            var At = mt[0].charAt(0);
                            return { type: 'text', raw: At, text: At };
                          }
                          return Gt(mt, Q, mt[0], this.lexer);
                        }
                      }),
                      (It.emStrong = function (U, Y, mt) {
                        void 0 === mt && (mt = '');
                        var Q = this.rules.inline.emStrong.lDelim.exec(U);
                        if (
                          Q &&
                          (!Q[3] ||
                            !mt.match(
                              /(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/
                            ))
                        ) {
                          var At = Q[1] || Q[2] || '';
                          if (
                            !At ||
                            (At &&
                              ('' === mt ||
                                this.rules.inline.punctuation.exec(mt)))
                          ) {
                            var Pt,
                              qt,
                              Me = Q[0].length - 1,
                              Wt = Me,
                              xe = 0,
                              B =
                                '*' === Q[0][0]
                                  ? this.rules.inline.emStrong.rDelimAst
                                  : this.rules.inline.emStrong.rDelimUnd;
                            for (
                              B.lastIndex = 0, Y = Y.slice(-1 * U.length + Me);
                              null != (Q = B.exec(Y));

                            )
                              if (
                                (Pt =
                                  Q[1] || Q[2] || Q[3] || Q[4] || Q[5] || Q[6])
                              )
                                if (((qt = Pt.length), Q[3] || Q[4])) Wt += qt;
                                else if (
                                  !((Q[5] || Q[6]) && Me % 3) ||
                                  (Me + qt) % 3
                                ) {
                                  if (!((Wt -= qt) > 0)) {
                                    if (
                                      ((qt = Math.min(qt, qt + Wt + xe)),
                                      Math.min(Me, qt) % 2)
                                    ) {
                                      var J = U.slice(1, Me + Q.index + qt);
                                      return {
                                        type: 'em',
                                        raw: U.slice(0, Me + Q.index + qt + 1),
                                        text: J,
                                        tokens: this.lexer.inlineTokens(J),
                                      };
                                    }
                                    var rt = U.slice(2, Me + Q.index + qt - 1);
                                    return {
                                      type: 'strong',
                                      raw: U.slice(0, Me + Q.index + qt + 1),
                                      text: rt,
                                      tokens: this.lexer.inlineTokens(rt),
                                    };
                                  }
                                } else xe += qt;
                          }
                        }
                      }),
                      (It.codespan = function (U) {
                        var Y = this.rules.inline.code.exec(U);
                        if (Y) {
                          var mt = Y[2].replace(/\n/g, ' '),
                            Q = /[^ ]/.test(mt),
                            At = /^ /.test(mt) && / $/.test(mt);
                          return (
                            Q && At && (mt = mt.substring(1, mt.length - 1)),
                            (mt = wt(mt, !0)),
                            { type: 'codespan', raw: Y[0], text: mt }
                          );
                        }
                      }),
                      (It.br = function (U) {
                        var Y = this.rules.inline.br.exec(U);
                        if (Y) return { type: 'br', raw: Y[0] };
                      }),
                      (It.del = function (U) {
                        var Y = this.rules.inline.del.exec(U);
                        if (Y)
                          return {
                            type: 'del',
                            raw: Y[0],
                            text: Y[2],
                            tokens: this.lexer.inlineTokens(Y[2]),
                          };
                      }),
                      (It.autolink = function (U, Y) {
                        var mt,
                          Q,
                          At = this.rules.inline.autolink.exec(U);
                        if (At)
                          return (
                            (Q =
                              '@' === At[2]
                                ? 'mailto:' +
                                  (mt = wt(
                                    this.options.mangle ? Y(At[1]) : At[1]
                                  ))
                                : (mt = wt(At[1]))),
                            {
                              type: 'link',
                              raw: At[0],
                              text: mt,
                              href: Q,
                              tokens: [{ type: 'text', raw: mt, text: mt }],
                            }
                          );
                      }),
                      (It.url = function (U, Y) {
                        var mt;
                        if ((mt = this.rules.inline.url.exec(U))) {
                          var Q, At;
                          if ('@' === mt[2])
                            At =
                              'mailto:' +
                              (Q = wt(this.options.mangle ? Y(mt[0]) : mt[0]));
                          else {
                            var Pt;
                            do {
                              (Pt = mt[0]),
                                (mt[0] = this.rules.inline._backpedal.exec(
                                  mt[0]
                                )[0]);
                            } while (Pt !== mt[0]);
                            (Q = wt(mt[0])),
                              (At = 'www.' === mt[1] ? 'http://' + Q : Q);
                          }
                          return {
                            type: 'link',
                            raw: mt[0],
                            text: Q,
                            href: At,
                            tokens: [{ type: 'text', raw: Q, text: Q }],
                          };
                        }
                      }),
                      (It.inlineText = function (U, Y) {
                        var mt,
                          Q = this.rules.inline.text.exec(U);
                        if (Q)
                          return (
                            (mt = this.lexer.state.inRawBlock
                              ? this.options.sanitize
                                ? this.options.sanitizer
                                  ? this.options.sanitizer(Q[0])
                                  : wt(Q[0])
                                : Q[0]
                              : wt(this.options.smartypants ? Y(Q[0]) : Q[0])),
                            { type: 'text', raw: Q[0], text: mt }
                          );
                      }),
                      ht
                    );
                  })(),
                  nt = {
                    newline: /^(?: *(?:\n|$))+/,
                    code: /^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,
                    fences:
                      /^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,
                    hr: /^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,
                    heading: /^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,
                    blockquote: /^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,
                    list: /^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,
                    html: '^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))',
                    def: /^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,
                    table: Re,
                    lheading: /^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,
                    _paragraph:
                      /^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,
                    text: /^[^\n]+/,
                    _label: /(?!\s*\])(?:\\.|[^\[\]\\])+/,
                    _title:
                      /(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,
                  };
                (nt.def = zt(nt.def)
                  .replace('label', nt._label)
                  .replace('title', nt._title)
                  .getRegex()),
                  (nt.bullet = /(?:[*+-]|\d{1,9}[.)])/),
                  (nt.listItemStart = zt(/^( *)(bull) */)
                    .replace('bull', nt.bullet)
                    .getRegex()),
                  (nt.list = zt(nt.list)
                    .replace(/bull/g, nt.bullet)
                    .replace(
                      'hr',
                      '\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))'
                    )
                    .replace('def', '\\n+(?=' + nt.def.source + ')')
                    .getRegex()),
                  (nt._tag =
                    'address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul'),
                  (nt._comment = /<!--(?!-?>)[\s\S]*?(?:-->|$)/),
                  (nt.html = zt(nt.html, 'i')
                    .replace('comment', nt._comment)
                    .replace('tag', nt._tag)
                    .replace(
                      'attribute',
                      / +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/
                    )
                    .getRegex()),
                  (nt.paragraph = zt(nt._paragraph)
                    .replace('hr', nt.hr)
                    .replace('heading', ' {0,3}#{1,6} ')
                    .replace('|lheading', '')
                    .replace('|table', '')
                    .replace('blockquote', ' {0,3}>')
                    .replace(
                      'fences',
                      ' {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n'
                    )
                    .replace('list', ' {0,3}(?:[*+-]|1[.)]) ')
                    .replace(
                      'html',
                      '</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)'
                    )
                    .replace('tag', nt._tag)
                    .getRegex()),
                  (nt.blockquote = zt(nt.blockquote)
                    .replace('paragraph', nt.paragraph)
                    .getRegex()),
                  (nt.normal = qe({}, nt)),
                  (nt.gfm = qe({}, nt.normal, {
                    table:
                      '^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)',
                  })),
                  (nt.gfm.table = zt(nt.gfm.table)
                    .replace('hr', nt.hr)
                    .replace('heading', ' {0,3}#{1,6} ')
                    .replace('blockquote', ' {0,3}>')
                    .replace('code', ' {4}[^\\n]')
                    .replace(
                      'fences',
                      ' {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n'
                    )
                    .replace('list', ' {0,3}(?:[*+-]|1[.)]) ')
                    .replace(
                      'html',
                      '</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)'
                    )
                    .replace('tag', nt._tag)
                    .getRegex()),
                  (nt.gfm.paragraph = zt(nt._paragraph)
                    .replace('hr', nt.hr)
                    .replace('heading', ' {0,3}#{1,6} ')
                    .replace('|lheading', '')
                    .replace('table', nt.gfm.table)
                    .replace('blockquote', ' {0,3}>')
                    .replace(
                      'fences',
                      ' {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n'
                    )
                    .replace('list', ' {0,3}(?:[*+-]|1[.)]) ')
                    .replace(
                      'html',
                      '</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)'
                    )
                    .replace('tag', nt._tag)
                    .getRegex()),
                  (nt.pedantic = qe({}, nt.normal, {
                    html: zt(
                      '^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|\'[^\']*\'|\\s[^\'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))'
                    )
                      .replace('comment', nt._comment)
                      .replace(
                        /tag/g,
                        '(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b'
                      )
                      .getRegex(),
                    def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,
                    heading: /^(#{1,6})(.*)(?:\n+|$)/,
                    fences: Re,
                    paragraph: zt(nt.normal._paragraph)
                      .replace('hr', nt.hr)
                      .replace('heading', ' *#{1,6} *[^\n]')
                      .replace('lheading', nt.lheading)
                      .replace('blockquote', ' {0,3}>')
                      .replace('|fences', '')
                      .replace('|list', '')
                      .replace('|html', '')
                      .getRegex(),
                  }));
                var Ot = {
                  escape: /^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,
                  autolink: /^<(scheme:[^\s\x00-\x1f<>]*|email)>/,
                  url: Re,
                  tag: '^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>',
                  link: /^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,
                  reflink: /^!?\[(label)\]\[(ref)\]/,
                  nolink: /^!?\[(ref)\](?:\[\])?/,
                  reflinkSearch: 'reflink|nolink(?!\\()',
                  emStrong: {
                    lDelim:
                      /^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,
                    rDelimAst:
                      /^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,
                    rDelimUnd:
                      /^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/,
                  },
                  code: /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,
                  br: /^( {2,}|\\)\n(?!\s*$)/,
                  del: Re,
                  text: /^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,
                  punctuation: /^([\spunctuation])/,
                };
                function st(ht) {
                  return ht
                    .replace(/---/g, '\u2014')
                    .replace(/--/g, '\u2013')
                    .replace(/(^|[-\u2014/(\[{"\s])'/g, '$1\u2018')
                    .replace(/'/g, '\u2019')
                    .replace(/(^|[-\u2014/(\[{\u2018\s])"/g, '$1\u201c')
                    .replace(/"/g, '\u201d')
                    .replace(/\.{3}/g, '\u2026');
                }
                function $(ht) {
                  var It,
                    U,
                    Y = '',
                    mt = ht.length;
                  for (It = 0; It < mt; It++)
                    (U = ht.charCodeAt(It)),
                      Math.random() > 0.5 && (U = 'x' + U.toString(16)),
                      (Y += '&#' + U + ';');
                  return Y;
                }
                (Ot._punctuation = '!"#$%&\'()+\\-.,/:;<=>?@\\[\\]`^{|}~'),
                  (Ot.punctuation = zt(Ot.punctuation)
                    .replace(/punctuation/g, Ot._punctuation)
                    .getRegex()),
                  (Ot.blockSkip = /\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g),
                  (Ot.escapedEmSt = /\\\*|\\_/g),
                  (Ot._comment = zt(nt._comment)
                    .replace('(?:--\x3e|$)', '--\x3e')
                    .getRegex()),
                  (Ot.emStrong.lDelim = zt(Ot.emStrong.lDelim)
                    .replace(/punct/g, Ot._punctuation)
                    .getRegex()),
                  (Ot.emStrong.rDelimAst = zt(Ot.emStrong.rDelimAst, 'g')
                    .replace(/punct/g, Ot._punctuation)
                    .getRegex()),
                  (Ot.emStrong.rDelimUnd = zt(Ot.emStrong.rDelimUnd, 'g')
                    .replace(/punct/g, Ot._punctuation)
                    .getRegex()),
                  (Ot._escapes = /\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g),
                  (Ot._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/),
                  (Ot._email =
                    /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/),
                  (Ot.autolink = zt(Ot.autolink)
                    .replace('scheme', Ot._scheme)
                    .replace('email', Ot._email)
                    .getRegex()),
                  (Ot._attribute =
                    /\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/),
                  (Ot.tag = zt(Ot.tag)
                    .replace('comment', Ot._comment)
                    .replace('attribute', Ot._attribute)
                    .getRegex()),
                  (Ot._label =
                    /(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/),
                  (Ot._href = /<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/),
                  (Ot._title =
                    /"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/),
                  (Ot.link = zt(Ot.link)
                    .replace('label', Ot._label)
                    .replace('href', Ot._href)
                    .replace('title', Ot._title)
                    .getRegex()),
                  (Ot.reflink = zt(Ot.reflink)
                    .replace('label', Ot._label)
                    .replace('ref', nt._label)
                    .getRegex()),
                  (Ot.nolink = zt(Ot.nolink)
                    .replace('ref', nt._label)
                    .getRegex()),
                  (Ot.reflinkSearch = zt(Ot.reflinkSearch, 'g')
                    .replace('reflink', Ot.reflink)
                    .replace('nolink', Ot.nolink)
                    .getRegex()),
                  (Ot.normal = qe({}, Ot)),
                  (Ot.pedantic = qe({}, Ot.normal, {
                    strong: {
                      start: /^__|\*\*/,
                      middle:
                        /^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,
                      endAst: /\*\*(?!\*)/g,
                      endUnd: /__(?!_)/g,
                    },
                    em: {
                      start: /^_|\*/,
                      middle:
                        /^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,
                      endAst: /\*(?!\*)/g,
                      endUnd: /_(?!_)/g,
                    },
                    link: zt(/^!?\[(label)\]\((.*?)\)/)
                      .replace('label', Ot._label)
                      .getRegex(),
                    reflink: zt(/^!?\[(label)\]\s*\[([^\]]*)\]/)
                      .replace('label', Ot._label)
                      .getRegex(),
                  })),
                  (Ot.gfm = qe({}, Ot.normal, {
                    escape: zt(Ot.escape).replace('])', '~|])').getRegex(),
                    _extended_email:
                      /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,
                    url: /^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,
                    _backpedal:
                      /(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,
                    del: /^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,
                    text: /^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/,
                  })),
                  (Ot.gfm.url = zt(Ot.gfm.url, 'i')
                    .replace('email', Ot.gfm._extended_email)
                    .getRegex()),
                  (Ot.breaks = qe({}, Ot.gfm, {
                    br: zt(Ot.br).replace('{2,}', '*').getRegex(),
                    text: zt(Ot.gfm.text)
                      .replace('\\b_', '\\b_| {2,}\\n')
                      .replace(/\{2,\}/g, '*')
                      .getRegex(),
                  }));
                var Xe = (function () {
                    function ht(Q) {
                      (this.tokens = []),
                        (this.tokens.links = Object.create(null)),
                        (this.options = Q || te.defaults),
                        (this.options.tokenizer =
                          this.options.tokenizer || new Ht()),
                        (this.tokenizer = this.options.tokenizer),
                        (this.tokenizer.options = this.options),
                        (this.tokenizer.lexer = this),
                        (this.inlineQueue = []),
                        (this.state = { inLink: !1, inRawBlock: !1, top: !0 });
                      var At = { block: nt.normal, inline: Ot.normal };
                      this.options.pedantic
                        ? ((At.block = nt.pedantic), (At.inline = Ot.pedantic))
                        : this.options.gfm &&
                          ((At.block = nt.gfm),
                          (At.inline = this.options.breaks
                            ? Ot.breaks
                            : Ot.gfm)),
                        (this.tokenizer.rules = At);
                    }
                    (ht.lex = function (Q, At) {
                      return new ht(At).lex(Q);
                    }),
                      (ht.lexInline = function (Q, At) {
                        return new ht(At).inlineTokens(Q);
                      });
                    var It,
                      Y,
                      mt = ht.prototype;
                    return (
                      (mt.lex = function (Q) {
                        var At;
                        for (
                          Q = Q.replace(/\r\n|\r/g, '\n'),
                            this.blockTokens(Q, this.tokens);
                          (At = this.inlineQueue.shift());

                        )
                          this.inlineTokens(At.src, At.tokens);
                        return this.tokens;
                      }),
                      (mt.blockTokens = function (Q, At) {
                        var Pt,
                          qt,
                          Me,
                          Wt,
                          xe = this;
                        for (
                          void 0 === At && (At = []),
                            Q = this.options.pedantic
                              ? Q.replace(/\t/g, '    ').replace(/^ +$/gm, '')
                              : Q.replace(/^( *)(\t+)/gm, function (J, rt, et) {
                                  return rt + '    '.repeat(et.length);
                                });
                          Q;

                        )
                          if (
                            !(
                              this.options.extensions &&
                              this.options.extensions.block &&
                              this.options.extensions.block.some(function (J) {
                                return (
                                  !!(Pt = J.call({ lexer: xe }, Q, At)) &&
                                  ((Q = Q.substring(Pt.raw.length)),
                                  At.push(Pt),
                                  !0)
                                );
                              })
                            )
                          )
                            if ((Pt = this.tokenizer.space(Q)))
                              (Q = Q.substring(Pt.raw.length)),
                                1 === Pt.raw.length && At.length > 0
                                  ? (At[At.length - 1].raw += '\n')
                                  : At.push(Pt);
                            else if ((Pt = this.tokenizer.code(Q)))
                              (Q = Q.substring(Pt.raw.length)),
                                !(qt = At[At.length - 1]) ||
                                ('paragraph' !== qt.type && 'text' !== qt.type)
                                  ? At.push(Pt)
                                  : ((qt.raw += '\n' + Pt.raw),
                                    (qt.text += '\n' + Pt.text),
                                    (this.inlineQueue[
                                      this.inlineQueue.length - 1
                                    ].src = qt.text));
                            else if ((Pt = this.tokenizer.fences(Q)))
                              (Q = Q.substring(Pt.raw.length)), At.push(Pt);
                            else if ((Pt = this.tokenizer.heading(Q)))
                              (Q = Q.substring(Pt.raw.length)), At.push(Pt);
                            else if ((Pt = this.tokenizer.hr(Q)))
                              (Q = Q.substring(Pt.raw.length)), At.push(Pt);
                            else if ((Pt = this.tokenizer.blockquote(Q)))
                              (Q = Q.substring(Pt.raw.length)), At.push(Pt);
                            else if ((Pt = this.tokenizer.list(Q)))
                              (Q = Q.substring(Pt.raw.length)), At.push(Pt);
                            else if ((Pt = this.tokenizer.html(Q)))
                              (Q = Q.substring(Pt.raw.length)), At.push(Pt);
                            else if ((Pt = this.tokenizer.def(Q)))
                              (Q = Q.substring(Pt.raw.length)),
                                !(qt = At[At.length - 1]) ||
                                ('paragraph' !== qt.type && 'text' !== qt.type)
                                  ? this.tokens.links[Pt.tag] ||
                                    (this.tokens.links[Pt.tag] = {
                                      href: Pt.href,
                                      title: Pt.title,
                                    })
                                  : ((qt.raw += '\n' + Pt.raw),
                                    (qt.text += '\n' + Pt.raw),
                                    (this.inlineQueue[
                                      this.inlineQueue.length - 1
                                    ].src = qt.text));
                            else if ((Pt = this.tokenizer.table(Q)))
                              (Q = Q.substring(Pt.raw.length)), At.push(Pt);
                            else if ((Pt = this.tokenizer.lheading(Q)))
                              (Q = Q.substring(Pt.raw.length)), At.push(Pt);
                            else if (
                              ((Me = Q),
                              this.options.extensions &&
                                this.options.extensions.startBlock &&
                                (function () {
                                  var J = 1 / 0,
                                    rt = Q.slice(1),
                                    et = void 0;
                                  xe.options.extensions.startBlock.forEach(
                                    function (lt) {
                                      'number' ==
                                        typeof (et = lt.call(
                                          { lexer: this },
                                          rt
                                        )) &&
                                        et >= 0 &&
                                        (J = Math.min(J, et));
                                    }
                                  ),
                                    J < 1 / 0 &&
                                      J >= 0 &&
                                      (Me = Q.substring(0, J + 1));
                                })(),
                              this.state.top &&
                                (Pt = this.tokenizer.paragraph(Me)))
                            )
                              (qt = At[At.length - 1]),
                                Wt && 'paragraph' === qt.type
                                  ? ((qt.raw += '\n' + Pt.raw),
                                    (qt.text += '\n' + Pt.text),
                                    this.inlineQueue.pop(),
                                    (this.inlineQueue[
                                      this.inlineQueue.length - 1
                                    ].src = qt.text))
                                  : At.push(Pt),
                                (Wt = Me.length !== Q.length),
                                (Q = Q.substring(Pt.raw.length));
                            else if ((Pt = this.tokenizer.text(Q)))
                              (Q = Q.substring(Pt.raw.length)),
                                (qt = At[At.length - 1]) && 'text' === qt.type
                                  ? ((qt.raw += '\n' + Pt.raw),
                                    (qt.text += '\n' + Pt.text),
                                    this.inlineQueue.pop(),
                                    (this.inlineQueue[
                                      this.inlineQueue.length - 1
                                    ].src = qt.text))
                                  : At.push(Pt);
                            else if (Q) {
                              var B =
                                'Infinite loop on byte: ' + Q.charCodeAt(0);
                              if (this.options.silent) {
                                console.error(B);
                                break;
                              }
                              throw new Error(B);
                            }
                        return (this.state.top = !0), At;
                      }),
                      (mt.inline = function (Q, At) {
                        return (
                          void 0 === At && (At = []),
                          this.inlineQueue.push({ src: Q, tokens: At }),
                          At
                        );
                      }),
                      (mt.inlineTokens = function (Q, At) {
                        var Pt,
                          qt,
                          Me,
                          Wt = this;
                        void 0 === At && (At = []);
                        var xe,
                          B,
                          J,
                          rt = Q;
                        if (this.tokens.links) {
                          var et = Object.keys(this.tokens.links);
                          if (et.length > 0)
                            for (
                              ;
                              null !=
                              (xe =
                                this.tokenizer.rules.inline.reflinkSearch.exec(
                                  rt
                                ));

                            )
                              et.includes(
                                xe[0].slice(xe[0].lastIndexOf('[') + 1, -1)
                              ) &&
                                (rt =
                                  rt.slice(0, xe.index) +
                                  '[' +
                                  ft('a', xe[0].length - 2) +
                                  ']' +
                                  rt.slice(
                                    this.tokenizer.rules.inline.reflinkSearch
                                      .lastIndex
                                  ));
                        }
                        for (
                          ;
                          null !=
                          (xe = this.tokenizer.rules.inline.blockSkip.exec(rt));

                        )
                          rt =
                            rt.slice(0, xe.index) +
                            '[' +
                            ft('a', xe[0].length - 2) +
                            ']' +
                            rt.slice(
                              this.tokenizer.rules.inline.blockSkip.lastIndex
                            );
                        for (
                          ;
                          null !=
                          (xe =
                            this.tokenizer.rules.inline.escapedEmSt.exec(rt));

                        )
                          rt =
                            rt.slice(0, xe.index) +
                            '++' +
                            rt.slice(
                              this.tokenizer.rules.inline.escapedEmSt.lastIndex
                            );
                        for (; Q; )
                          if (
                            (B || (J = ''),
                            (B = !1),
                            !(
                              this.options.extensions &&
                              this.options.extensions.inline &&
                              this.options.extensions.inline.some(function (
                                Et
                              ) {
                                return (
                                  !!(Pt = Et.call({ lexer: Wt }, Q, At)) &&
                                  ((Q = Q.substring(Pt.raw.length)),
                                  At.push(Pt),
                                  !0)
                                );
                              })
                            ))
                          )
                            if ((Pt = this.tokenizer.escape(Q)))
                              (Q = Q.substring(Pt.raw.length)), At.push(Pt);
                            else if ((Pt = this.tokenizer.tag(Q)))
                              (Q = Q.substring(Pt.raw.length)),
                                (qt = At[At.length - 1]) &&
                                'text' === Pt.type &&
                                'text' === qt.type
                                  ? ((qt.raw += Pt.raw), (qt.text += Pt.text))
                                  : At.push(Pt);
                            else if ((Pt = this.tokenizer.link(Q)))
                              (Q = Q.substring(Pt.raw.length)), At.push(Pt);
                            else if (
                              (Pt = this.tokenizer.reflink(
                                Q,
                                this.tokens.links
                              ))
                            )
                              (Q = Q.substring(Pt.raw.length)),
                                (qt = At[At.length - 1]) &&
                                'text' === Pt.type &&
                                'text' === qt.type
                                  ? ((qt.raw += Pt.raw), (qt.text += Pt.text))
                                  : At.push(Pt);
                            else if ((Pt = this.tokenizer.emStrong(Q, rt, J)))
                              (Q = Q.substring(Pt.raw.length)), At.push(Pt);
                            else if ((Pt = this.tokenizer.codespan(Q)))
                              (Q = Q.substring(Pt.raw.length)), At.push(Pt);
                            else if ((Pt = this.tokenizer.br(Q)))
                              (Q = Q.substring(Pt.raw.length)), At.push(Pt);
                            else if ((Pt = this.tokenizer.del(Q)))
                              (Q = Q.substring(Pt.raw.length)), At.push(Pt);
                            else if ((Pt = this.tokenizer.autolink(Q, $)))
                              (Q = Q.substring(Pt.raw.length)), At.push(Pt);
                            else if (
                              this.state.inLink ||
                              !(Pt = this.tokenizer.url(Q, $))
                            ) {
                              if (
                                ((Me = Q),
                                this.options.extensions &&
                                  this.options.extensions.startInline &&
                                  (function () {
                                    var Et = 1 / 0,
                                      gt = Q.slice(1),
                                      Rt = void 0;
                                    Wt.options.extensions.startInline.forEach(
                                      function (Ct) {
                                        'number' ==
                                          typeof (Rt = Ct.call(
                                            { lexer: this },
                                            gt
                                          )) &&
                                          Rt >= 0 &&
                                          (Et = Math.min(Et, Rt));
                                      }
                                    ),
                                      Et < 1 / 0 &&
                                        Et >= 0 &&
                                        (Me = Q.substring(0, Et + 1));
                                  })(),
                                (Pt = this.tokenizer.inlineText(Me, st)))
                              )
                                (Q = Q.substring(Pt.raw.length)),
                                  '_' !== Pt.raw.slice(-1) &&
                                    (J = Pt.raw.slice(-1)),
                                  (B = !0),
                                  (qt = At[At.length - 1]) && 'text' === qt.type
                                    ? ((qt.raw += Pt.raw), (qt.text += Pt.text))
                                    : At.push(Pt);
                              else if (Q) {
                                var lt =
                                  'Infinite loop on byte: ' + Q.charCodeAt(0);
                                if (this.options.silent) {
                                  console.error(lt);
                                  break;
                                }
                                throw new Error(lt);
                              }
                            } else
                              (Q = Q.substring(Pt.raw.length)), At.push(Pt);
                        return At;
                      }),
                      (It = ht),
                      (Y = [
                        {
                          key: 'rules',
                          get: function () {
                            return { block: nt, inline: Ot };
                          },
                        },
                      ]),
                      null && oe(It.prototype, null),
                      Y && oe(It, Y),
                      Object.defineProperty(It, 'prototype', { writable: !1 }),
                      ht
                    );
                  })(),
                  Ee = (function () {
                    function ht(U) {
                      this.options = U || te.defaults;
                    }
                    var It = ht.prototype;
                    return (
                      (It.code = function (U, Y, mt) {
                        var Q = (Y || '').match(/\S*/)[0];
                        if (this.options.highlight) {
                          var At = this.options.highlight(U, Q);
                          null != At && At !== U && ((mt = !0), (U = At));
                        }
                        return (
                          (U = U.replace(/\n$/, '') + '\n'),
                          Q
                            ? '<pre><code class="' +
                              this.options.langPrefix +
                              wt(Q, !0) +
                              '">' +
                              (mt ? U : wt(U, !0)) +
                              '</code></pre>\n'
                            : '<pre><code>' +
                              (mt ? U : wt(U, !0)) +
                              '</code></pre>\n'
                        );
                      }),
                      (It.blockquote = function (U) {
                        return '<blockquote>\n' + U + '</blockquote>\n';
                      }),
                      (It.html = function (U) {
                        return U;
                      }),
                      (It.heading = function (U, Y, mt, Q) {
                        return this.options.headerIds
                          ? '<h' +
                              Y +
                              ' id="' +
                              (this.options.headerPrefix + Q.slug(mt)) +
                              '">' +
                              U +
                              '</h' +
                              Y +
                              '>\n'
                          : '<h' + Y + '>' + U + '</h' + Y + '>\n';
                      }),
                      (It.hr = function () {
                        return this.options.xhtml ? '<hr/>\n' : '<hr>\n';
                      }),
                      (It.list = function (U, Y, mt) {
                        var Q = Y ? 'ol' : 'ul';
                        return (
                          '<' +
                          Q +
                          (Y && 1 !== mt ? ' start="' + mt + '"' : '') +
                          '>\n' +
                          U +
                          '</' +
                          Q +
                          '>\n'
                        );
                      }),
                      (It.listitem = function (U) {
                        return '<li>' + U + '</li>\n';
                      }),
                      (It.checkbox = function (U) {
                        return (
                          '<input ' +
                          (U ? 'checked="" ' : '') +
                          'disabled="" type="checkbox"' +
                          (this.options.xhtml ? ' /' : '') +
                          '> '
                        );
                      }),
                      (It.paragraph = function (U) {
                        return '<p>' + U + '</p>\n';
                      }),
                      (It.table = function (U, Y) {
                        return (
                          Y && (Y = '<tbody>' + Y + '</tbody>'),
                          '<table>\n<thead>\n' +
                            U +
                            '</thead>\n' +
                            Y +
                            '</table>\n'
                        );
                      }),
                      (It.tablerow = function (U) {
                        return '<tr>\n' + U + '</tr>\n';
                      }),
                      (It.tablecell = function (U, Y) {
                        var mt = Y.header ? 'th' : 'td';
                        return (
                          (Y.align
                            ? '<' + mt + ' align="' + Y.align + '">'
                            : '<' + mt + '>') +
                          U +
                          '</' +
                          mt +
                          '>\n'
                        );
                      }),
                      (It.strong = function (U) {
                        return '<strong>' + U + '</strong>';
                      }),
                      (It.em = function (U) {
                        return '<em>' + U + '</em>';
                      }),
                      (It.codespan = function (U) {
                        return '<code>' + U + '</code>';
                      }),
                      (It.br = function () {
                        return this.options.xhtml ? '<br/>' : '<br>';
                      }),
                      (It.del = function (U) {
                        return '<del>' + U + '</del>';
                      }),
                      (It.link = function (U, Y, mt) {
                        if (
                          null ===
                          (U = ne(
                            this.options.sanitize,
                            this.options.baseUrl,
                            U
                          ))
                        )
                          return mt;
                        var Q = '<a href="' + wt(U) + '"';
                        return (
                          Y && (Q += ' title="' + Y + '"'),
                          Q + '>' + mt + '</a>'
                        );
                      }),
                      (It.image = function (U, Y, mt) {
                        if (
                          null ===
                          (U = ne(
                            this.options.sanitize,
                            this.options.baseUrl,
                            U
                          ))
                        )
                          return mt;
                        var Q = '<img src="' + U + '" alt="' + mt + '"';
                        return (
                          Y && (Q += ' title="' + Y + '"'),
                          Q + (this.options.xhtml ? '/>' : '>')
                        );
                      }),
                      (It.text = function (U) {
                        return U;
                      }),
                      ht
                    );
                  })(),
                  sr = (function () {
                    function ht() {}
                    var It = ht.prototype;
                    return (
                      (It.strong = function (U) {
                        return U;
                      }),
                      (It.em = function (U) {
                        return U;
                      }),
                      (It.codespan = function (U) {
                        return U;
                      }),
                      (It.del = function (U) {
                        return U;
                      }),
                      (It.html = function (U) {
                        return U;
                      }),
                      (It.text = function (U) {
                        return U;
                      }),
                      (It.link = function (U, Y, mt) {
                        return '' + mt;
                      }),
                      (It.image = function (U, Y, mt) {
                        return '' + mt;
                      }),
                      (It.br = function () {
                        return '';
                      }),
                      ht
                    );
                  })(),
                  F = (function () {
                    function ht() {
                      this.seen = {};
                    }
                    var It = ht.prototype;
                    return (
                      (It.serialize = function (U) {
                        return U.toLowerCase()
                          .trim()
                          .replace(/<[!\/a-z].*?>/gi, '')
                          .replace(
                            /[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,
                            ''
                          )
                          .replace(/\s/g, '-');
                      }),
                      (It.getNextSafeSlug = function (U, Y) {
                        var mt = U,
                          Q = 0;
                        if (this.seen.hasOwnProperty(mt)) {
                          Q = this.seen[U];
                          do {
                            mt = U + '-' + ++Q;
                          } while (this.seen.hasOwnProperty(mt));
                        }
                        return (
                          Y || ((this.seen[U] = Q), (this.seen[mt] = 0)), mt
                        );
                      }),
                      (It.slug = function (U, Y) {
                        void 0 === Y && (Y = {});
                        var mt = this.serialize(U);
                        return this.getNextSafeSlug(mt, Y.dryrun);
                      }),
                      ht
                    );
                  })(),
                  Ut = (function () {
                    function ht(U) {
                      (this.options = U || te.defaults),
                        (this.options.renderer =
                          this.options.renderer || new Ee()),
                        (this.renderer = this.options.renderer),
                        (this.renderer.options = this.options),
                        (this.textRenderer = new sr()),
                        (this.slugger = new F());
                    }
                    (ht.parse = function (U, Y) {
                      return new ht(Y).parse(U);
                    }),
                      (ht.parseInline = function (U, Y) {
                        return new ht(Y).parseInline(U);
                      });
                    var It = ht.prototype;
                    return (
                      (It.parse = function (U, Y) {
                        void 0 === Y && (Y = !0);
                        var mt,
                          Q,
                          At,
                          Pt,
                          qt,
                          Me,
                          Wt,
                          xe,
                          B,
                          J,
                          rt,
                          et,
                          lt,
                          Et,
                          gt,
                          Rt,
                          Ct,
                          se,
                          pe,
                          ze = '',
                          ar = U.length;
                        for (mt = 0; mt < ar; mt++)
                          if (
                            ((J = U[mt]),
                            !(
                              this.options.extensions &&
                              this.options.extensions.renderers &&
                              this.options.extensions.renderers[J.type]
                            ) ||
                              (!1 ===
                                (pe = this.options.extensions.renderers[
                                  J.type
                                ].call({ parser: this }, J)) &&
                                [
                                  'space',
                                  'hr',
                                  'heading',
                                  'code',
                                  'table',
                                  'blockquote',
                                  'list',
                                  'html',
                                  'paragraph',
                                  'text',
                                ].includes(J.type)))
                          )
                            switch (J.type) {
                              case 'space':
                                continue;
                              case 'hr':
                                ze += this.renderer.hr();
                                continue;
                              case 'heading':
                                ze += this.renderer.heading(
                                  this.parseInline(J.tokens),
                                  J.depth,
                                  he(
                                    this.parseInline(
                                      J.tokens,
                                      this.textRenderer
                                    )
                                  ),
                                  this.slugger
                                );
                                continue;
                              case 'code':
                                ze += this.renderer.code(
                                  J.text,
                                  J.lang,
                                  J.escaped
                                );
                                continue;
                              case 'table':
                                for (
                                  xe = '', Wt = '', Pt = J.header.length, Q = 0;
                                  Q < Pt;
                                  Q++
                                )
                                  Wt += this.renderer.tablecell(
                                    this.parseInline(J.header[Q].tokens),
                                    { header: !0, align: J.align[Q] }
                                  );
                                for (
                                  xe += this.renderer.tablerow(Wt),
                                    B = '',
                                    Pt = J.rows.length,
                                    Q = 0;
                                  Q < Pt;
                                  Q++
                                ) {
                                  for (
                                    Wt = '',
                                      qt = (Me = J.rows[Q]).length,
                                      At = 0;
                                    At < qt;
                                    At++
                                  )
                                    Wt += this.renderer.tablecell(
                                      this.parseInline(Me[At].tokens),
                                      { header: !1, align: J.align[At] }
                                    );
                                  B += this.renderer.tablerow(Wt);
                                }
                                ze += this.renderer.table(xe, B);
                                continue;
                              case 'blockquote':
                                (B = this.parse(J.tokens)),
                                  (ze += this.renderer.blockquote(B));
                                continue;
                              case 'list':
                                for (
                                  rt = J.ordered,
                                    et = J.start,
                                    lt = J.loose,
                                    Pt = J.items.length,
                                    B = '',
                                    Q = 0;
                                  Q < Pt;
                                  Q++
                                )
                                  (Rt = (gt = J.items[Q]).checked),
                                    (Ct = gt.task),
                                    (Et = ''),
                                    gt.task &&
                                      ((se = this.renderer.checkbox(Rt)),
                                      lt
                                        ? gt.tokens.length > 0 &&
                                          'paragraph' === gt.tokens[0].type
                                          ? ((gt.tokens[0].text =
                                              se + ' ' + gt.tokens[0].text),
                                            gt.tokens[0].tokens &&
                                              gt.tokens[0].tokens.length > 0 &&
                                              'text' ===
                                                gt.tokens[0].tokens[0].type &&
                                              (gt.tokens[0].tokens[0].text =
                                                se +
                                                ' ' +
                                                gt.tokens[0].tokens[0].text))
                                          : gt.tokens.unshift({
                                              type: 'text',
                                              text: se,
                                            })
                                        : (Et += se)),
                                    (Et += this.parse(gt.tokens, lt)),
                                    (B += this.renderer.listitem(Et, Ct, Rt));
                                ze += this.renderer.list(B, rt, et);
                                continue;
                              case 'html':
                                ze += this.renderer.html(J.text);
                                continue;
                              case 'paragraph':
                                ze += this.renderer.paragraph(
                                  this.parseInline(J.tokens)
                                );
                                continue;
                              case 'text':
                                for (
                                  B = J.tokens
                                    ? this.parseInline(J.tokens)
                                    : J.text;
                                  mt + 1 < ar && 'text' === U[mt + 1].type;

                                )
                                  B +=
                                    '\n' +
                                    ((J = U[++mt]).tokens
                                      ? this.parseInline(J.tokens)
                                      : J.text);
                                ze += Y ? this.renderer.paragraph(B) : B;
                                continue;
                              default:
                                var Nt =
                                  'Token with "' +
                                  J.type +
                                  '" type was not found.';
                                if (this.options.silent)
                                  return void console.error(Nt);
                                throw new Error(Nt);
                            }
                          else ze += pe || '';
                        return ze;
                      }),
                      (It.parseInline = function (U, Y) {
                        Y = Y || this.renderer;
                        var mt,
                          Q,
                          At,
                          Pt = '',
                          qt = U.length;
                        for (mt = 0; mt < qt; mt++)
                          if (
                            ((Q = U[mt]),
                            !(
                              this.options.extensions &&
                              this.options.extensions.renderers &&
                              this.options.extensions.renderers[Q.type]
                            ) ||
                              (!1 ===
                                (At = this.options.extensions.renderers[
                                  Q.type
                                ].call({ parser: this }, Q)) &&
                                [
                                  'escape',
                                  'html',
                                  'link',
                                  'image',
                                  'strong',
                                  'em',
                                  'codespan',
                                  'br',
                                  'del',
                                  'text',
                                ].includes(Q.type)))
                          )
                            switch (Q.type) {
                              case 'escape':
                              case 'text':
                                Pt += Y.text(Q.text);
                                break;
                              case 'html':
                                Pt += Y.html(Q.text);
                                break;
                              case 'link':
                                Pt += Y.link(
                                  Q.href,
                                  Q.title,
                                  this.parseInline(Q.tokens, Y)
                                );
                                break;
                              case 'image':
                                Pt += Y.image(Q.href, Q.title, Q.text);
                                break;
                              case 'strong':
                                Pt += Y.strong(this.parseInline(Q.tokens, Y));
                                break;
                              case 'em':
                                Pt += Y.em(this.parseInline(Q.tokens, Y));
                                break;
                              case 'codespan':
                                Pt += Y.codespan(Q.text);
                                break;
                              case 'br':
                                Pt += Y.br();
                                break;
                              case 'del':
                                Pt += Y.del(this.parseInline(Q.tokens, Y));
                                break;
                              default:
                                var Me =
                                  'Token with "' +
                                  Q.type +
                                  '" type was not found.';
                                if (this.options.silent)
                                  return void console.error(Me);
                                throw new Error(Me);
                            }
                          else Pt += At || '';
                        return Pt;
                      }),
                      ht
                    );
                  })();
                function Oe(ht, It, U) {
                  if (null == ht)
                    throw new Error(
                      'marked(): input parameter is undefined or null'
                    );
                  if ('string' != typeof ht)
                    throw new Error(
                      'marked(): input parameter is of type ' +
                        Object.prototype.toString.call(ht) +
                        ', string expected'
                    );
                  if (
                    ('function' == typeof It && ((U = It), (It = null)),
                    He((It = qe({}, Oe.defaults, It || {}))),
                    U)
                  ) {
                    var Y,
                      mt = It.highlight;
                    try {
                      Y = Xe.lex(ht, It);
                    } catch (Me) {
                      return U(Me);
                    }
                    var Q = function (Me) {
                      var Wt;
                      if (!Me)
                        try {
                          It.walkTokens && Oe.walkTokens(Y, It.walkTokens),
                            (Wt = Ut.parse(Y, It));
                        } catch (xe) {
                          Me = xe;
                        }
                      return (It.highlight = mt), Me ? U(Me) : U(null, Wt);
                    };
                    if (
                      !mt ||
                      mt.length < 3 ||
                      (delete It.highlight, !Y.length)
                    )
                      return Q();
                    var At = 0;
                    return (
                      Oe.walkTokens(Y, function (Me) {
                        'code' === Me.type &&
                          (At++,
                          setTimeout(function () {
                            mt(Me.text, Me.lang, function (Wt, xe) {
                              if (Wt) return Q(Wt);
                              null != xe &&
                                xe !== Me.text &&
                                ((Me.text = xe), (Me.escaped = !0)),
                                0 == --At && Q();
                            });
                          }, 0));
                      }),
                      void (0 === At && Q())
                    );
                  }
                  function Pt(Me) {
                    if (
                      ((Me.message +=
                        '\nPlease report this to https://github.com/markedjs/marked.'),
                      It.silent)
                    )
                      return (
                        '<p>An error occurred:</p><pre>' +
                        wt(Me.message + '', !0) +
                        '</pre>'
                      );
                    throw Me;
                  }
                  try {
                    var qt = Xe.lex(ht, It);
                    if (It.walkTokens) {
                      if (It.async)
                        return Promise.all(Oe.walkTokens(qt, It.walkTokens))
                          .then(function () {
                            return Ut.parse(qt, It);
                          })
                          .catch(Pt);
                      Oe.walkTokens(qt, It.walkTokens);
                    }
                    return Ut.parse(qt, It);
                  } catch (Me) {
                    Pt(Me);
                  }
                }
                (Oe.options = Oe.setOptions =
                  function (ht) {
                    return qe(Oe.defaults, ht), (te.defaults = Oe.defaults), Oe;
                  }),
                  (Oe.getDefaults = Dt),
                  (Oe.defaults = te.defaults),
                  (Oe.use = function () {
                    for (
                      var ht = arguments.length, It = new Array(ht), U = 0;
                      U < ht;
                      U++
                    )
                      It[U] = arguments[U];
                    var Y,
                      mt = qe.apply(void 0, [{}].concat(It)),
                      Q = Oe.defaults.extensions || {
                        renderers: {},
                        childTokens: {},
                      };
                    It.forEach(function (At) {
                      if (
                        (At.extensions &&
                          ((Y = !0),
                          At.extensions.forEach(function (qt) {
                            if (!qt.name)
                              throw new Error('extension name required');
                            if (qt.renderer) {
                              var Me = Q.renderers
                                ? Q.renderers[qt.name]
                                : null;
                              Q.renderers[qt.name] = Me
                                ? function () {
                                    for (
                                      var Wt = arguments.length,
                                        xe = new Array(Wt),
                                        B = 0;
                                      B < Wt;
                                      B++
                                    )
                                      xe[B] = arguments[B];
                                    var J = qt.renderer.apply(this, xe);
                                    return (
                                      !1 === J && (J = Me.apply(this, xe)), J
                                    );
                                  }
                                : qt.renderer;
                            }
                            if (qt.tokenizer) {
                              if (
                                !qt.level ||
                                ('block' !== qt.level && 'inline' !== qt.level)
                              )
                                throw new Error(
                                  "extension level must be 'block' or 'inline'"
                                );
                              Q[qt.level]
                                ? Q[qt.level].unshift(qt.tokenizer)
                                : (Q[qt.level] = [qt.tokenizer]),
                                qt.start &&
                                  ('block' === qt.level
                                    ? Q.startBlock
                                      ? Q.startBlock.push(qt.start)
                                      : (Q.startBlock = [qt.start])
                                    : 'inline' === qt.level &&
                                      (Q.startInline
                                        ? Q.startInline.push(qt.start)
                                        : (Q.startInline = [qt.start])));
                            }
                            qt.childTokens &&
                              (Q.childTokens[qt.name] = qt.childTokens);
                          })),
                        At.renderer &&
                          (function () {
                            var qt = Oe.defaults.renderer || new Ee(),
                              Me = function (xe) {
                                var B = qt[xe];
                                qt[xe] = function () {
                                  for (
                                    var J = arguments.length,
                                      rt = new Array(J),
                                      et = 0;
                                    et < J;
                                    et++
                                  )
                                    rt[et] = arguments[et];
                                  var lt = At.renderer[xe].apply(qt, rt);
                                  return (
                                    !1 === lt && (lt = B.apply(qt, rt)), lt
                                  );
                                };
                              };
                            for (var Wt in At.renderer) Me(Wt);
                            mt.renderer = qt;
                          })(),
                        At.tokenizer &&
                          (function () {
                            var qt = Oe.defaults.tokenizer || new Ht(),
                              Me = function (xe) {
                                var B = qt[xe];
                                qt[xe] = function () {
                                  for (
                                    var J = arguments.length,
                                      rt = new Array(J),
                                      et = 0;
                                    et < J;
                                    et++
                                  )
                                    rt[et] = arguments[et];
                                  var lt = At.tokenizer[xe].apply(qt, rt);
                                  return (
                                    !1 === lt && (lt = B.apply(qt, rt)), lt
                                  );
                                };
                              };
                            for (var Wt in At.tokenizer) Me(Wt);
                            mt.tokenizer = qt;
                          })(),
                        At.walkTokens)
                      ) {
                        var Pt = Oe.defaults.walkTokens;
                        mt.walkTokens = function (qt) {
                          var Me = [];
                          return (
                            Me.push(At.walkTokens.call(this, qt)),
                            Pt && (Me = Me.concat(Pt.call(this, qt))),
                            Me
                          );
                        };
                      }
                      Y && (mt.extensions = Q), Oe.setOptions(mt);
                    });
                  }),
                  (Oe.walkTokens = function (ht, It) {
                    for (
                      var U,
                        Y = [],
                        mt = function () {
                          var At = U.value;
                          switch (((Y = Y.concat(It.call(Oe, At))), At.type)) {
                            case 'table':
                              for (
                                var Pt, qt = yt(At.header);
                                !(Pt = qt()).done;

                              )
                                Y = Y.concat(
                                  Oe.walkTokens(Pt.value.tokens, It)
                                );
                              for (
                                var Wt, xe = yt(At.rows);
                                !(Wt = xe()).done;

                              )
                                for (var B, J = yt(Wt.value); !(B = J()).done; )
                                  Y = Y.concat(
                                    Oe.walkTokens(B.value.tokens, It)
                                  );
                              break;
                            case 'list':
                              Y = Y.concat(Oe.walkTokens(At.items, It));
                              break;
                            default:
                              Oe.defaults.extensions &&
                              Oe.defaults.extensions.childTokens &&
                              Oe.defaults.extensions.childTokens[At.type]
                                ? Oe.defaults.extensions.childTokens[
                                    At.type
                                  ].forEach(function (et) {
                                    Y = Y.concat(Oe.walkTokens(At[et], It));
                                  })
                                : At.tokens &&
                                  (Y = Y.concat(Oe.walkTokens(At.tokens, It)));
                          }
                        },
                        Q = yt(ht);
                      !(U = Q()).done;

                    )
                      mt();
                    return Y;
                  }),
                  (Oe.parseInline = function (ht, It) {
                    if (null == ht)
                      throw new Error(
                        'marked.parseInline(): input parameter is undefined or null'
                      );
                    if ('string' != typeof ht)
                      throw new Error(
                        'marked.parseInline(): input parameter is of type ' +
                          Object.prototype.toString.call(ht) +
                          ', string expected'
                      );
                    He((It = qe({}, Oe.defaults, It || {})));
                    try {
                      var U = Xe.lexInline(ht, It);
                      return (
                        It.walkTokens && Oe.walkTokens(U, It.walkTokens),
                        Ut.parseInline(U, It)
                      );
                    } catch (Y) {
                      if (
                        ((Y.message +=
                          '\nPlease report this to https://github.com/markedjs/marked.'),
                        It.silent)
                      )
                        return (
                          '<p>An error occurred:</p><pre>' +
                          wt(Y.message + '', !0) +
                          '</pre>'
                        );
                      throw Y;
                    }
                  }),
                  (Oe.Parser = Ut),
                  (Oe.parser = Ut.parse),
                  (Oe.Renderer = Ee),
                  (Oe.TextRenderer = sr),
                  (Oe.Lexer = Xe),
                  (Oe.lexer = Xe.lex),
                  (Oe.Tokenizer = Ht),
                  (Oe.Slugger = F),
                  (Oe.parse = Oe);
                var je = Oe.options,
                  Ar = Oe.setOptions,
                  Ne = Oe.use,
                  Ie = Oe.walkTokens,
                  kt = Oe.parseInline,
                  me = Oe,
                  Tt = Ut.parse,
                  fe = Xe.lex;
                (te.Lexer = Xe),
                  (te.Parser = Ut),
                  (te.Renderer = Ee),
                  (te.Slugger = F),
                  (te.TextRenderer = sr),
                  (te.Tokenizer = Ht),
                  (te.getDefaults = Dt),
                  (te.lexer = fe),
                  (te.marked = Oe),
                  (te.options = je),
                  (te.parse = me),
                  (te.parseInline = kt),
                  (te.parser = Tt),
                  (te.setOptions = Ar),
                  (te.use = Ne),
                  (te.walkTokens = Ie),
                  Object.defineProperty(te, '__esModule', { value: !0 });
              })(
                'object' == typeof ut && void 0 !== or
                  ? ut
                  : ((te =
                      typeof globalThis < 'u'
                        ? globalThis
                        : te || self).marked = {})
              );
          },
          {},
        ],
        16: [
          function (ue, or, ut) {
            (function (te) {
              (function () {
                var oe;
                (function () {
                  'use strict';
                  (oe = function (Lt, yt, Dt, bt) {
                    (bt = bt || {}),
                      (this.dictionary = null),
                      (this.rules = {}),
                      (this.dictionaryTable = {}),
                      (this.compoundRules = []),
                      (this.compoundRuleCodes = {}),
                      (this.replacementTable = []),
                      (this.flags = bt.flags || {}),
                      (this.memoized = {}),
                      (this.loaded = !1);
                    var ct,
                      ve,
                      Qt,
                      jt,
                      de,
                      wt = this;
                    function Zt(Bt, ee) {
                      var ne = wt._readFile(Bt, null, bt.asyncLoad);
                      bt.asyncLoad
                        ? ne.then(function (Kt) {
                            ee(Kt);
                          })
                        : ee(ne);
                    }
                    function he(Bt) {
                      (yt = Bt), Dt && zt();
                    }
                    function _t(Bt) {
                      (Dt = Bt), yt && zt();
                    }
                    function zt() {
                      for (
                        wt.rules = wt._parseAFF(yt),
                          wt.compoundRuleCodes = {},
                          ve = 0,
                          jt = wt.compoundRules.length;
                        ve < jt;
                        ve++
                      ) {
                        var Bt = wt.compoundRules[ve];
                        for (Qt = 0, de = Bt.length; Qt < de; Qt++)
                          wt.compoundRuleCodes[Bt[Qt]] = [];
                      }
                      for (ve in ('ONLYINCOMPOUND' in wt.flags &&
                        (wt.compoundRuleCodes[wt.flags.ONLYINCOMPOUND] = []),
                      (wt.dictionaryTable = wt._parseDIC(Dt)),
                      wt.compoundRuleCodes))
                        0 === wt.compoundRuleCodes[ve].length &&
                          delete wt.compoundRuleCodes[ve];
                      for (
                        ve = 0, jt = wt.compoundRules.length;
                        ve < jt;
                        ve++
                      ) {
                        var ee = wt.compoundRules[ve],
                          ne = '';
                        for (Qt = 0, de = ee.length; Qt < de; Qt++) {
                          var Kt = ee[Qt];
                          ne +=
                            Kt in wt.compoundRuleCodes
                              ? '(' + wt.compoundRuleCodes[Kt].join('|') + ')'
                              : Kt;
                        }
                        wt.compoundRules[ve] = new RegExp(ne, 'i');
                      }
                      (wt.loaded = !0),
                        bt.asyncLoad &&
                          bt.loadedCallback &&
                          bt.loadedCallback(wt);
                    }
                    return (
                      Lt &&
                        ((wt.dictionary = Lt),
                        yt && Dt
                          ? zt()
                          : typeof window < 'u' &&
                            'chrome' in window &&
                            'extension' in window.chrome &&
                            'getURL' in window.chrome.extension
                          ? ((ct = bt.dictionaryPath
                              ? bt.dictionaryPath
                              : 'typo/dictionaries'),
                            yt ||
                              Zt(
                                chrome.extension.getURL(
                                  ct + '/' + Lt + '/' + Lt + '.aff'
                                ),
                                he
                              ),
                            Dt ||
                              Zt(
                                chrome.extension.getURL(
                                  ct + '/' + Lt + '/' + Lt + '.dic'
                                ),
                                _t
                              ))
                          : ((ct = bt.dictionaryPath
                              ? bt.dictionaryPath
                              : void 0 !== te
                              ? te + '/dictionaries'
                              : './dictionaries'),
                            yt || Zt(ct + '/' + Lt + '/' + Lt + '.aff', he),
                            Dt || Zt(ct + '/' + Lt + '/' + Lt + '.dic', _t))),
                      this
                    );
                  }).prototype = {
                    load: function (Lt) {
                      for (var yt in Lt)
                        Lt.hasOwnProperty(yt) && (this[yt] = Lt[yt]);
                      return this;
                    },
                    _readFile: function (Lt, yt, Dt) {
                      if (((yt = yt || 'utf8'), typeof XMLHttpRequest < 'u')) {
                        var bt,
                          ct = new XMLHttpRequest();
                        return (
                          ct.open('GET', Lt, Dt),
                          Dt &&
                            (bt = new Promise(function (Qt, jt) {
                              (ct.onload = function () {
                                200 === ct.status
                                  ? Qt(ct.responseText)
                                  : jt(ct.statusText);
                              }),
                                (ct.onerror = function () {
                                  jt(ct.statusText);
                                });
                            })),
                          ct.overrideMimeType &&
                            ct.overrideMimeType('text/plain; charset=' + yt),
                          ct.send(null),
                          Dt ? bt : ct.responseText
                        );
                      }
                      if (void 0 !== ue) {
                        var ve = ue('fs');
                        try {
                          if (ve.existsSync(Lt)) return ve.readFileSync(Lt, yt);
                          console.log('Path ' + Lt + ' does not exist.');
                        } catch (Qt) {
                          return console.log(Qt), '';
                        }
                      }
                    },
                    _parseAFF: function (Lt) {
                      var yt,
                        Dt,
                        bt,
                        ct,
                        ve,
                        Qt,
                        jt,
                        de = {},
                        wt = Lt.split(/\r?\n/);
                      for (ct = 0, Qt = wt.length; ct < Qt; ct++)
                        if (
                          (yt = (yt = this._removeAffixComments(wt[ct])).trim())
                        ) {
                          var Zt = yt.split(/\s+/),
                            he = Zt[0];
                          if ('PFX' == he || 'SFX' == he) {
                            var _t = Zt[1],
                              zt = Zt[2],
                              Bt = [];
                            for (
                              ve = ct + 1,
                                jt = ct + 1 + (Dt = parseInt(Zt[3], 10));
                              ve < jt;
                              ve++
                            ) {
                              var ee = (bt = wt[ve].split(/\s+/))[2],
                                ne = bt[3].split('/'),
                                Kt = ne[0];
                              '0' === Kt && (Kt = '');
                              var ie = this.parseRuleCodes(ne[1]),
                                Le = bt[4],
                                Pe = {};
                              (Pe.add = Kt),
                                ie.length > 0 && (Pe.continuationClasses = ie),
                                '.' !== Le &&
                                  (Pe.match =
                                    'SFX' === he
                                      ? new RegExp(Le + '$')
                                      : new RegExp('^' + Le)),
                                '0' != ee &&
                                  (Pe.remove =
                                    'SFX' === he ? new RegExp(ee + '$') : ee),
                                Bt.push(Pe);
                            }
                            (de[_t] = {
                              type: he,
                              combineable: 'Y' == zt,
                              entries: Bt,
                            }),
                              (ct += Dt);
                          } else if ('COMPOUNDRULE' === he) {
                            for (
                              ve = ct + 1,
                                jt = ct + 1 + (Dt = parseInt(Zt[1], 10));
                              ve < jt;
                              ve++
                            )
                              (bt = (yt = wt[ve]).split(/\s+/)),
                                this.compoundRules.push(bt[1]);
                            ct += Dt;
                          } else
                            'REP' === he
                              ? 3 === (bt = yt.split(/\s+/)).length &&
                                this.replacementTable.push([bt[1], bt[2]])
                              : (this.flags[he] = Zt[1]);
                        }
                      return de;
                    },
                    _removeAffixComments: function (Lt) {
                      return Lt.match(/^\s*#/, '') ? '' : Lt;
                    },
                    _parseDIC: function (Lt) {
                      var yt = (Lt = this._removeDicComments(Lt)).split(
                          /\r?\n/
                        ),
                        Dt = {};
                      function bt(ir, He) {
                        Dt.hasOwnProperty(ir) || (Dt[ir] = null),
                          He.length > 0 &&
                            (null === Dt[ir] && (Dt[ir] = []), Dt[ir].push(He));
                      }
                      for (var ct = 1, ve = yt.length; ct < ve; ct++) {
                        var Qt = yt[ct];
                        if (Qt) {
                          var jt = Qt.split('/', 2),
                            de = jt[0];
                          if (jt.length > 1) {
                            var wt = this.parseRuleCodes(jt[1]);
                            ('NEEDAFFIX' in this.flags &&
                              -1 != wt.indexOf(this.flags.NEEDAFFIX)) ||
                              bt(de, wt);
                            for (var Zt = 0, he = wt.length; Zt < he; Zt++) {
                              var _t = wt[Zt],
                                zt = this.rules[_t];
                              if (zt)
                                for (
                                  var Bt = this._applyRule(de, zt),
                                    ee = 0,
                                    ne = Bt.length;
                                  ee < ne;
                                  ee++
                                ) {
                                  var Kt = Bt[ee];
                                  if ((bt(Kt, []), zt.combineable))
                                    for (var ie = Zt + 1; ie < he; ie++) {
                                      var Pe = this.rules[wt[ie]];
                                      if (
                                        Pe &&
                                        Pe.combineable &&
                                        zt.type != Pe.type
                                      )
                                        for (
                                          var Re = this._applyRule(Kt, Pe),
                                            qe = 0,
                                            Ae = Re.length;
                                          qe < Ae;
                                          qe++
                                        )
                                          bt(Re[qe], []);
                                    }
                                }
                              _t in this.compoundRuleCodes &&
                                this.compoundRuleCodes[_t].push(de);
                            }
                          } else bt(de.trim(), []);
                        }
                      }
                      return Dt;
                    },
                    _removeDicComments: function (Lt) {
                      return Lt.replace(/^\t.*$/gm, '');
                    },
                    parseRuleCodes: function (Lt) {
                      if (Lt) {
                        if ('FLAG' in this.flags) {
                          if ('long' === this.flags.FLAG) {
                            for (
                              var yt = [], Dt = 0, bt = Lt.length;
                              Dt < bt;
                              Dt += 2
                            )
                              yt.push(Lt.substr(Dt, 2));
                            return yt;
                          }
                          return 'num' === this.flags.FLAG
                            ? Lt.split(',')
                            : 'UTF-8' === this.flags.FLAG
                            ? Array.from(Lt)
                            : Lt.split('');
                        }
                        return Lt.split('');
                      }
                      return [];
                    },
                    _applyRule: function (Lt, yt) {
                      for (
                        var Dt = yt.entries, bt = [], ct = 0, ve = Dt.length;
                        ct < ve;
                        ct++
                      ) {
                        var Qt = Dt[ct];
                        if (!Qt.match || Lt.match(Qt.match)) {
                          var jt = Lt;
                          if (
                            (Qt.remove && (jt = jt.replace(Qt.remove, '')),
                            'SFX' === yt.type
                              ? (jt += Qt.add)
                              : (jt = Qt.add + jt),
                            bt.push(jt),
                            'continuationClasses' in Qt)
                          )
                            for (
                              var de = 0, wt = Qt.continuationClasses.length;
                              de < wt;
                              de++
                            ) {
                              var Zt = this.rules[Qt.continuationClasses[de]];
                              Zt && (bt = bt.concat(this._applyRule(jt, Zt)));
                            }
                        }
                      }
                      return bt;
                    },
                    check: function (Lt) {
                      if (!this.loaded) throw 'Dictionary not loaded.';
                      var yt = Lt.replace(/^\s\s*/, '').replace(/\s\s*$/, '');
                      if (this.checkExact(yt)) return !0;
                      if (yt.toUpperCase() === yt) {
                        var Dt = yt[0] + yt.substring(1).toLowerCase();
                        if (this.hasFlag(Dt, 'KEEPCASE')) return !1;
                        if (
                          this.checkExact(Dt) ||
                          this.checkExact(yt.toLowerCase())
                        )
                          return !0;
                      }
                      var bt = yt[0].toLowerCase() + yt.substring(1);
                      if (bt !== yt) {
                        if (this.hasFlag(bt, 'KEEPCASE')) return !1;
                        if (this.checkExact(bt)) return !0;
                      }
                      return !1;
                    },
                    checkExact: function (Lt) {
                      if (!this.loaded) throw 'Dictionary not loaded.';
                      var yt,
                        Dt,
                        bt = this.dictionaryTable[Lt];
                      if (void 0 === bt) {
                        if (
                          'COMPOUNDMIN' in this.flags &&
                          Lt.length >= this.flags.COMPOUNDMIN
                        )
                          for (
                            yt = 0, Dt = this.compoundRules.length;
                            yt < Dt;
                            yt++
                          )
                            if (Lt.match(this.compoundRules[yt])) return !0;
                      } else {
                        if (null === bt) return !0;
                        if ('object' == typeof bt)
                          for (yt = 0, Dt = bt.length; yt < Dt; yt++)
                            if (!this.hasFlag(Lt, 'ONLYINCOMPOUND', bt[yt]))
                              return !0;
                      }
                      return !1;
                    },
                    hasFlag: function (Lt, yt, Dt) {
                      if (!this.loaded) throw 'Dictionary not loaded.';
                      return !(
                        !(yt in this.flags) ||
                        (void 0 === Dt &&
                          (Dt = Array.prototype.concat.apply(
                            [],
                            this.dictionaryTable[Lt]
                          )),
                        !Dt || -1 === Dt.indexOf(this.flags[yt]))
                      );
                    },
                    alphabet: '',
                    suggest: function (Lt, yt) {
                      if (!this.loaded) throw 'Dictionary not loaded.';
                      if (((yt = yt || 5), this.memoized.hasOwnProperty(Lt))) {
                        var Dt = this.memoized[Lt].limit;
                        if (
                          yt <= Dt ||
                          this.memoized[Lt].suggestions.length < Dt
                        )
                          return this.memoized[Lt].suggestions.slice(0, yt);
                      }
                      if (this.check(Lt)) return [];
                      for (
                        var bt = 0, ct = this.replacementTable.length;
                        bt < ct;
                        bt++
                      ) {
                        var ve = this.replacementTable[bt];
                        if (-1 !== Lt.indexOf(ve[0])) {
                          var Qt = Lt.replace(ve[0], ve[1]);
                          if (this.check(Qt)) return [Qt];
                        }
                      }
                      var jt = this;
                      function de(wt, Zt) {
                        var he,
                          _t,
                          zt,
                          Bt,
                          ee = {},
                          ne = jt.alphabet.length;
                        if ('string' == typeof wt) {
                          var Kt = wt;
                          (wt = {})[Kt] = !0;
                        }
                        for (var Kt in wt)
                          for (he = 0, zt = Kt.length + 1; he < zt; he++) {
                            var ie = [Kt.substring(0, he), Kt.substring(he)];
                            if (
                              (ie[1] &&
                                ((Bt = ie[0] + ie[1].substring(1)),
                                (Zt && !jt.check(Bt)) ||
                                  (Bt in ee ? (ee[Bt] += 1) : (ee[Bt] = 1))),
                              ie[1].length > 1 &&
                                ie[1][1] !== ie[1][0] &&
                                ((Bt =
                                  ie[0] +
                                  ie[1][1] +
                                  ie[1][0] +
                                  ie[1].substring(2)),
                                (Zt && !jt.check(Bt)) ||
                                  (Bt in ee ? (ee[Bt] += 1) : (ee[Bt] = 1))),
                              ie[1])
                            ) {
                              var Le =
                                ie[1].substring(0, 1).toUpperCase() ===
                                ie[1].substring(0, 1)
                                  ? 'uppercase'
                                  : 'lowercase';
                              for (_t = 0; _t < ne; _t++) {
                                var Pe = jt.alphabet[_t];
                                'uppercase' === Le && (Pe = Pe.toUpperCase()),
                                  Pe != ie[1].substring(0, 1) &&
                                    ((Bt = ie[0] + Pe + ie[1].substring(1)),
                                    (Zt && !jt.check(Bt)) ||
                                      (Bt in ee
                                        ? (ee[Bt] += 1)
                                        : (ee[Bt] = 1)));
                              }
                            }
                            if (ie[1])
                              for (_t = 0; _t < ne; _t++)
                                (Le =
                                  ie[0].substring(-1).toUpperCase() ===
                                    ie[0].substring(-1) &&
                                  ie[1].substring(0, 1).toUpperCase() ===
                                    ie[1].substring(0, 1)
                                    ? 'uppercase'
                                    : 'lowercase'),
                                  (Pe = jt.alphabet[_t]),
                                  'uppercase' === Le && (Pe = Pe.toUpperCase()),
                                  (Bt = ie[0] + Pe + ie[1]),
                                  (Zt && !jt.check(Bt)) ||
                                    (Bt in ee ? (ee[Bt] += 1) : (ee[Bt] = 1));
                          }
                        return ee;
                      }
                      return (
                        (jt.alphabet = 'abcdefghijklmnopqrstuvwxyz'),
                        (this.memoized[Lt] = {
                          suggestions: (function (wt) {
                            var Zt,
                              he = de(wt),
                              _t = de(he, !0);
                            for (var zt in he)
                              jt.check(zt) &&
                                (zt in _t
                                  ? (_t[zt] += he[zt])
                                  : (_t[zt] = he[zt]));
                            var Bt = [];
                            for (Zt in _t)
                              _t.hasOwnProperty(Zt) && Bt.push([Zt, _t[Zt]]);
                            Bt.sort(function (ie, Le) {
                              var Pe = ie[1],
                                Re = Le[1];
                              return Pe < Re
                                ? -1
                                : Pe > Re
                                ? 1
                                : Le[0].localeCompare(ie[0]);
                            }).reverse();
                            var ee = [],
                              ne = 'lowercase';
                            wt.toUpperCase() === wt
                              ? (ne = 'uppercase')
                              : wt.substr(0, 1).toUpperCase() +
                                  wt.substr(1).toLowerCase() ===
                                  wt && (ne = 'capitalized');
                            var Kt = yt;
                            for (Zt = 0; Zt < Math.min(Kt, Bt.length); Zt++)
                              'uppercase' === ne
                                ? (Bt[Zt][0] = Bt[Zt][0].toUpperCase())
                                : 'capitalized' === ne &&
                                  (Bt[Zt][0] =
                                    Bt[Zt][0].substr(0, 1).toUpperCase() +
                                    Bt[Zt][0].substr(1)),
                                jt.hasFlag(Bt[Zt][0], 'NOSUGGEST') ||
                                -1 != ee.indexOf(Bt[Zt][0])
                                  ? Kt++
                                  : ee.push(Bt[Zt][0]);
                            return ee;
                          })(Lt),
                          limit: yt,
                        }),
                        this.memoized[Lt].suggestions
                      );
                    },
                  };
                })(),
                  void 0 !== or && (or.exports = oe);
              }).call(this);
            }).call(this, '/node_modules/typo-js');
          },
          { fs: 1 },
        ],
        17: [
          function (ue, or, ut) {
            var te = ue('codemirror');
            (te.commands.tabAndIndentMarkdownList = function (oe) {
              var Lt = oe.listSelections()[0].head;
              if (!1 !== oe.getStateAfter(Lt.line).list)
                oe.execCommand('indentMore');
              else if (oe.options.indentWithTabs) oe.execCommand('insertTab');
              else {
                var yt = Array(oe.options.tabSize + 1).join(' ');
                oe.replaceSelection(yt);
              }
            }),
              (te.commands.shiftTabAndUnindentMarkdownList = function (oe) {
                var Lt = oe.listSelections()[0].head;
                if (!1 !== oe.getStateAfter(Lt.line).list)
                  oe.execCommand('indentLess');
                else if (oe.options.indentWithTabs) oe.execCommand('insertTab');
                else {
                  var yt = Array(oe.options.tabSize + 1).join(' ');
                  oe.replaceSelection(yt);
                }
              });
          },
          { codemirror: 10 },
        ],
        18: [
          function (ue, or, ut) {
            'use strict';
            var te = ue('codemirror');
            ue('codemirror/addon/edit/continuelist.js'),
              ue('./codemirror/tablist'),
              ue('codemirror/addon/display/fullscreen.js'),
              ue('codemirror/mode/markdown/markdown.js'),
              ue('codemirror/addon/mode/overlay.js'),
              ue('codemirror/addon/display/placeholder.js'),
              ue('codemirror/addon/display/autorefresh.js'),
              ue('codemirror/addon/selection/mark-selection.js'),
              ue('codemirror/addon/search/searchcursor.js'),
              ue('codemirror/mode/gfm/gfm.js'),
              ue('codemirror/mode/xml/xml.js');
            var oe = ue('codemirror-spell-checker'),
              Lt = ue('marked').marked,
              yt = /Mac/.test(navigator.platform),
              Dt = new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),
              bt = {
                toggleBold: zt,
                toggleItalic: Bt,
                drawLink: nt,
                toggleHeadingSmaller: ie,
                toggleHeadingBigger: Le,
                drawImage: Ot,
                toggleBlockquote: Kt,
                toggleOrderedList: Gt,
                toggleUnorderedList: ft,
                toggleCodeBlock: ne,
                togglePreview: je,
                toggleStrikethrough: ee,
                toggleHeading1: Pe,
                toggleHeading2: Re,
                toggleHeading3: qe,
                toggleHeading4: Ae,
                toggleHeading5: ir,
                toggleHeading6: He,
                cleanBlock: Ht,
                drawTable: Ee,
                drawHorizontalRule: sr,
                undo: F,
                redo: Ut,
                toggleSideBySide: Oe,
                toggleFullScreen: _t,
              },
              ct = {
                toggleBold: 'Cmd-B',
                toggleItalic: 'Cmd-I',
                drawLink: 'Cmd-K',
                toggleHeadingSmaller: 'Cmd-H',
                toggleHeadingBigger: 'Shift-Cmd-H',
                toggleHeading1: 'Ctrl+Alt+1',
                toggleHeading2: 'Ctrl+Alt+2',
                toggleHeading3: 'Ctrl+Alt+3',
                toggleHeading4: 'Ctrl+Alt+4',
                toggleHeading5: 'Ctrl+Alt+5',
                toggleHeading6: 'Ctrl+Alt+6',
                cleanBlock: 'Cmd-E',
                drawImage: 'Cmd-Alt-I',
                toggleBlockquote: "Cmd-'",
                toggleOrderedList: 'Cmd-Alt-L',
                toggleUnorderedList: 'Cmd-L',
                toggleCodeBlock: 'Cmd-Alt-C',
                togglePreview: 'Cmd-P',
                toggleSideBySide: 'F9',
                toggleFullScreen: 'F11',
              },
              ve = function () {
                var B,
                  J = !1;
                return (
                  (B = navigator.userAgent || navigator.vendor || window.opera),
                  (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(
                    B
                  ) ||
                    /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(
                      B.substr(0, 4)
                    )) &&
                    (J = !0),
                  J
                );
              };
            function Qt(B) {
              return yt ? B.replace('Ctrl', 'Cmd') : B.replace('Cmd', 'Ctrl');
            }
            function jt(B, J, rt, et) {
              var lt = de(B, !1, J, rt, 'button', et);
              lt.classList.add('easymde-dropdown'),
                (lt.onclick = function () {
                  lt.focus();
                });
              var Et = document.createElement('div');
              Et.className = 'easymde-dropdown-content';
              for (var gt = 0; gt < B.children.length; gt++) {
                var Rt,
                  Ct = B.children[gt];
                (Rt = de(
                  'string' == typeof Ct && Ct in Y ? Y[Ct] : Ct,
                  !0,
                  J,
                  rt,
                  'button',
                  et
                )).addEventListener(
                  'click',
                  function (se) {
                    se.stopPropagation();
                  },
                  !1
                ),
                  Et.appendChild(Rt);
              }
              return lt.appendChild(Et), lt;
            }
            function de(B, J, rt, et, lt, Et) {
              B = B || {};
              var ce,
                Ke,
                Fr,
                ti,
                gt = document.createElement(lt);
              if (B.attributes)
                for (var Rt in B.attributes)
                  Object.prototype.hasOwnProperty.call(B.attributes, Rt) &&
                    gt.setAttribute(Rt, B.attributes[Rt]);
              (gt.className =
                (Et.options.toolbarButtonClassPrefix
                  ? Et.options.toolbarButtonClassPrefix + '-'
                  : '') + B.name),
                gt.setAttribute('type', lt),
                (rt = null == rt || rt),
                B.text && (gt.innerText = B.text),
                B.name && B.name in et && (bt[B.name] = B.action),
                B.title &&
                  rt &&
                  ((gt.title =
                    ((Ke = et),
                    (ti = B.title),
                    (ce = B.action) &&
                      Ke[
                        (Fr = (function (mn) {
                          for (var $r in bt) if (bt[$r] === mn) return $r;
                          return null;
                        })(ce))
                      ] &&
                      (ti += ' (' + Qt(Ke[Fr]) + ')'),
                    ti)),
                  yt &&
                    ((gt.title = gt.title.replace('Ctrl', '\u2318')),
                    (gt.title = gt.title.replace('Alt', '\u2325')))),
                B.title && gt.setAttribute('aria-label', B.title),
                B.noDisable && gt.classList.add('no-disable'),
                B.noMobile && gt.classList.add('no-mobile');
              var se = [];
              void 0 !== B.className && (se = B.className.split(' '));
              for (var pe = [], ze = 0; ze < se.length; ze++) {
                var ar = se[ze];
                ar.match(/^fa([srlb]|(-[\w-]*)|$)/)
                  ? pe.push(ar)
                  : gt.classList.add(ar);
              }
              if (((gt.tabIndex = -1), pe.length > 0)) {
                for (
                  var Nt = document.createElement('i'), Ge = 0;
                  Ge < pe.length;
                  Ge++
                )
                  Nt.classList.add(pe[Ge]);
                gt.appendChild(Nt);
              }
              return (
                void 0 !== B.icon && (gt.innerHTML = B.icon),
                B.action &&
                  J &&
                  ('function' == typeof B.action
                    ? (gt.onclick = function (lr) {
                        lr.preventDefault(), B.action(Et);
                      })
                    : 'string' == typeof B.action &&
                      (gt.onclick = function (lr) {
                        lr.preventDefault(), window.open(B.action, '_blank');
                      })),
                gt
              );
            }
            function wt() {
              var B = document.createElement('i');
              return (B.className = 'separator'), (B.innerHTML = '|'), B;
            }
            function Zt(B, J) {
              J = J || B.getCursor('start');
              var rt = B.getTokenAt(J);
              if (!rt.type) return {};
              for (
                var et, lt, Et = rt.type.split(' '), gt = {}, Rt = 0;
                Rt < Et.length;
                Rt++
              )
                'strong' === (et = Et[Rt])
                  ? (gt.bold = !0)
                  : 'variable-2' === et
                  ? ((lt = B.getLine(J.line)),
                    /^\s*\d+\.\s/.test(lt)
                      ? (gt['ordered-list'] = !0)
                      : (gt['unordered-list'] = !0))
                  : 'atom' === et
                  ? (gt.quote = !0)
                  : 'em' === et
                  ? (gt.italic = !0)
                  : 'quote' === et
                  ? (gt.quote = !0)
                  : 'strikethrough' === et
                  ? (gt.strikethrough = !0)
                  : 'comment' === et
                  ? (gt.code = !0)
                  : 'link' !== et || gt.image
                  ? 'image' === et
                    ? (gt.image = !0)
                    : et.match(/^header(-[1-6])?$/) &&
                      (gt[et.replace('header', 'heading')] = !0)
                  : (gt.link = !0);
              return gt;
            }
            var he = '';
            function _t(B) {
              var J = B.codemirror;
              J.setOption('fullScreen', !J.getOption('fullScreen')),
                J.getOption('fullScreen')
                  ? ((he = document.body.style.overflow),
                    (document.body.style.overflow = 'hidden'))
                  : (document.body.style.overflow = he);
              var rt = J.getWrapperElement(),
                et = rt.nextSibling;
              if (et.classList.contains('editor-preview-active-side'))
                if (!1 === B.options.sideBySideFullscreen) {
                  var lt = rt.parentNode;
                  J.getOption('fullScreen')
                    ? lt.classList.remove('sided--no-fullscreen')
                    : lt.classList.add('sided--no-fullscreen');
                } else Oe(B);
              B.options.onToggleFullScreen &&
                B.options.onToggleFullScreen(J.getOption('fullScreen') || !1),
                void 0 !== B.options.maxHeight &&
                  (J.getOption('fullScreen')
                    ? (J.getScrollerElement().style.removeProperty('height'),
                      et.style.removeProperty('height'))
                    : ((J.getScrollerElement().style.height =
                        B.options.maxHeight),
                      B.setPreviewMaxHeight())),
                B.toolbar_div.classList.toggle('fullscreen'),
                B.toolbarElements &&
                  B.toolbarElements.fullscreen &&
                  B.toolbarElements.fullscreen.classList.toggle('active');
            }
            function zt(B) {
              me(B, 'bold', B.options.blockStyles.bold);
            }
            function Bt(B) {
              me(B, 'italic', B.options.blockStyles.italic);
            }
            function ee(B) {
              me(B, 'strikethrough', '~~');
            }
            function ne(B) {
              var J = B.options.blockStyles.code;
              function rt(Nr) {
                if ('object' != typeof Nr)
                  throw (
                    "fencing_line() takes a 'line' object (not a line number, or line text).  Got: " +
                    typeof Nr +
                    ': ' +
                    Nr
                  );
                return (
                  Nr.styles &&
                  Nr.styles[2] &&
                  -1 !== Nr.styles[2].indexOf('formatting-code-block')
                );
              }
              function et(Nr) {
                return Nr.state.base.base || Nr.state.base;
              }
              function lt(Nr, Wn, Ki, ei, Ti) {
                (Ki = Ki || Nr.getLineHandle(Wn)),
                  (ei = ei || Nr.getTokenAt({ line: Wn, ch: 1 })),
                  (Ti =
                    Ti ||
                    (!!Ki.text &&
                      Nr.getTokenAt({ line: Wn, ch: Ki.text.length - 1 })));
                var xi = ei.type ? ei.type.split(' ') : [];
                return Ti && et(Ti).indentedCode
                  ? 'indented'
                  : -1 !== xi.indexOf('comment') &&
                      (et(ei).fencedChars || et(Ti).fencedChars || rt(Ki)
                        ? 'fenced'
                        : 'single');
              }
              var Et,
                gt,
                Rt,
                Nr,
                Wn,
                Ki,
                ei,
                Ti,
                xi,
                dl,
                pa,
                Ct = B.codemirror,
                se = Ct.getCursor('start'),
                pe = Ct.getCursor('end'),
                ze = Ct.getTokenAt({ line: se.line, ch: se.ch || 1 }),
                ar = Ct.getLineHandle(se.line),
                Nt = lt(Ct, se.line, ar, ze);
              if ('single' === Nt) {
                var Ge = ar.text.slice(0, se.ch).replace('`', ''),
                  $e = ar.text.slice(se.ch).replace('`', '');
                Ct.replaceRange(
                  Ge + $e,
                  { line: se.line, ch: 0 },
                  { line: se.line, ch: 99999999999999 }
                ),
                  se.ch--,
                  se !== pe && pe.ch--,
                  Ct.setSelection(se, pe),
                  Ct.focus();
              } else if ('fenced' === Nt)
                if (se.line !== pe.line || se.ch !== pe.ch) {
                  for (
                    Et = se.line;
                    Et >= 0 && !rt((ar = Ct.getLineHandle(Et)));
                    Et--
                  );
                  var lr,
                    ce,
                    Ke,
                    Fr,
                    ti = et(Ct.getTokenAt({ line: Et, ch: 1 })).fencedChars;
                  rt(Ct.getLineHandle(se.line))
                    ? ((lr = ''), (ce = se.line))
                    : rt(Ct.getLineHandle(se.line - 1))
                    ? ((lr = ''), (ce = se.line - 1))
                    : ((lr = ti + '\n'), (ce = se.line)),
                    rt(Ct.getLineHandle(pe.line))
                      ? ((Ke = ''), (Fr = pe.line), 0 === pe.ch && (Fr += 1))
                      : 0 !== pe.ch && rt(Ct.getLineHandle(pe.line + 1))
                      ? ((Ke = ''), (Fr = pe.line + 1))
                      : ((Ke = ti + '\n'), (Fr = pe.line + 1)),
                    0 === pe.ch && (Fr -= 1),
                    Ct.operation(function () {
                      Ct.replaceRange(
                        Ke,
                        { line: Fr, ch: 0 },
                        { line: Fr + (Ke ? 0 : 1), ch: 0 }
                      ),
                        Ct.replaceRange(
                          lr,
                          { line: ce, ch: 0 },
                          { line: ce + (lr ? 0 : 1), ch: 0 }
                        );
                    }),
                    Ct.setSelection(
                      { line: ce + (lr ? 1 : 0), ch: 0 },
                      { line: Fr + (lr ? 1 : -1), ch: 0 }
                    ),
                    Ct.focus();
                } else {
                  var mn = se.line;
                  if (
                    (rt(Ct.getLineHandle(se.line)) &&
                      ('fenced' === lt(Ct, se.line + 1)
                        ? ((Et = se.line), (mn = se.line + 1))
                        : ((gt = se.line), (mn = se.line - 1))),
                    void 0 === Et)
                  )
                    for (
                      Et = mn;
                      Et >= 0 && !rt((ar = Ct.getLineHandle(Et)));
                      Et--
                    );
                  if (void 0 === gt)
                    for (
                      Rt = Ct.lineCount(), gt = mn;
                      gt < Rt && !rt((ar = Ct.getLineHandle(gt)));
                      gt++
                    );
                  Ct.operation(function () {
                    Ct.replaceRange(
                      '',
                      { line: Et, ch: 0 },
                      { line: Et + 1, ch: 0 }
                    ),
                      Ct.replaceRange(
                        '',
                        { line: gt - 1, ch: 0 },
                        { line: gt, ch: 0 }
                      );
                  }),
                    Ct.focus();
                }
              else if ('indented' === Nt) {
                if (se.line !== pe.line || se.ch !== pe.ch)
                  (Et = se.line), (gt = pe.line), 0 === pe.ch && gt--;
                else {
                  for (Et = se.line; Et >= 0; Et--)
                    if (
                      !(ar = Ct.getLineHandle(Et)).text.match(/^\s*$/) &&
                      'indented' !== lt(Ct, Et, ar)
                    ) {
                      Et += 1;
                      break;
                    }
                  for (Rt = Ct.lineCount(), gt = se.line; gt < Rt; gt++)
                    if (
                      !(ar = Ct.getLineHandle(gt)).text.match(/^\s*$/) &&
                      'indented' !== lt(Ct, gt, ar)
                    ) {
                      gt -= 1;
                      break;
                    }
                }
                var $r = Ct.getLineHandle(gt + 1),
                  Mn =
                    $r &&
                    Ct.getTokenAt({ line: gt + 1, ch: $r.text.length - 1 });
                Mn &&
                  et(Mn).indentedCode &&
                  Ct.replaceRange('\n', { line: gt + 1, ch: 0 });
                for (var ji = Et; ji <= gt; ji++) Ct.indentLine(ji, 'subtract');
                Ct.focus();
              } else
                (se.line === pe.line && se.ch === pe.ch && 0 === se.ch) ||
                se.line !== pe.line
                  ? ((Ti = (Wn = se).line + 1),
                    (xi = (Ki = pe).line + 1),
                    (pa = '\n' + (ei = J)),
                    (dl = Wn.line !== Ki.line) && xi++,
                    dl && 0 === Ki.ch && ((pa = ei + '\n'), xi--),
                    Ar((Nr = Ct), !1, [ei + '\n', pa]),
                    Nr.setSelection({ line: Ti, ch: 0 }, { line: xi, ch: 0 }))
                  : Ar(Ct, !1, ['`', '`']);
            }
            function Kt(B) {
              Ie(B.codemirror, 'quote');
            }
            function ie(B) {
              Ne(B.codemirror, 'smaller');
            }
            function Le(B) {
              Ne(B.codemirror, 'bigger');
            }
            function Pe(B) {
              Ne(B.codemirror, void 0, 1);
            }
            function Re(B) {
              Ne(B.codemirror, void 0, 2);
            }
            function qe(B) {
              Ne(B.codemirror, void 0, 3);
            }
            function Ae(B) {
              Ne(B.codemirror, void 0, 4);
            }
            function ir(B) {
              Ne(B.codemirror, void 0, 5);
            }
            function He(B) {
              Ne(B.codemirror, void 0, 6);
            }
            function ft(B) {
              var J = B.codemirror,
                rt = '*';
              ['-', '+', '*'].includes(B.options.unorderedListStyle) &&
                (rt = B.options.unorderedListStyle),
                Ie(J, 'unordered-list', rt);
            }
            function Gt(B) {
              Ie(B.codemirror, 'ordered-list');
            }
            function Ht(B) {
              !(function (J) {
                if (
                  !J.getWrapperElement().lastChild.classList.contains(
                    'editor-preview-active'
                  )
                )
                  for (
                    var rt,
                      et = J.getCursor('start'),
                      lt = J.getCursor('end'),
                      Et = et.line;
                    Et <= lt.line;
                    Et++
                  )
                    (rt = (rt = J.getLine(Et)).replace(
                      /^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,
                      ''
                    )),
                      J.replaceRange(
                        rt,
                        { line: Et, ch: 0 },
                        { line: Et, ch: 99999999999999 }
                      );
              })(B.codemirror);
            }
            function nt(B) {
              var J = B.options,
                rt = 'https://';
              if (J.promptURLs) {
                var et = prompt(J.promptTexts.link, rt);
                if (!et) return !1;
                rt = st(et);
              }
              kt(B, 'link', J.insertTexts.link, rt);
            }
            function Ot(B) {
              var J = B.options,
                rt = 'https://';
              if (J.promptURLs) {
                var et = prompt(J.promptTexts.image, rt);
                if (!et) return !1;
                rt = st(et);
              }
              kt(B, 'image', J.insertTexts.image, rt);
            }
            function st(B) {
              return encodeURI(B).replace(/([\\()])/g, '\\$1');
            }
            function $(B) {
              B.openBrowseFileWindow();
            }
            function Xe(B, J) {
              var rt = B.codemirror,
                et = Zt(rt),
                lt = B.options,
                Et = J.substr(J.lastIndexOf('/') + 1),
                gt = Et.substring(Et.lastIndexOf('.') + 1)
                  .replace(/\?.*$/, '')
                  .toLowerCase();
              if (
                [
                  'png',
                  'jpg',
                  'jpeg',
                  'gif',
                  'svg',
                  'apng',
                  'avif',
                  'webp',
                ].includes(gt)
              )
                Ar(rt, et.image, lt.insertTexts.uploadedImage, J);
              else {
                var Rt = lt.insertTexts.link;
                (Rt[0] = '[' + Et), Ar(rt, et.link, Rt, J);
              }
              B.updateStatusBar(
                'upload-image',
                B.options.imageTexts.sbOnUploaded.replace('#image_name#', Et)
              ),
                setTimeout(function () {
                  B.updateStatusBar(
                    'upload-image',
                    B.options.imageTexts.sbInit
                  );
                }, 1e3);
            }
            function Ee(B) {
              var J = B.codemirror;
              Ar(J, Zt(J).table, B.options.insertTexts.table);
            }
            function sr(B) {
              var J = B.codemirror;
              Ar(J, Zt(J).image, B.options.insertTexts.horizontalRule);
            }
            function F(B) {
              var J = B.codemirror;
              J.undo(), J.focus();
            }
            function Ut(B) {
              var J = B.codemirror;
              J.redo(), J.focus();
            }
            function Oe(B) {
              var J = B.codemirror,
                rt = J.getWrapperElement(),
                et = rt.nextSibling,
                lt = B.toolbarElements && B.toolbarElements['side-by-side'],
                Et = !1,
                gt = rt.parentNode;
              et.classList.contains('editor-preview-active-side')
                ? (!1 === B.options.sideBySideFullscreen &&
                    gt.classList.remove('sided--no-fullscreen'),
                  et.classList.remove('editor-preview-active-side'),
                  lt && lt.classList.remove('active'),
                  rt.classList.remove('CodeMirror-sided'))
                : (setTimeout(function () {
                    J.getOption('fullScreen') ||
                      (!1 === B.options.sideBySideFullscreen
                        ? gt.classList.add('sided--no-fullscreen')
                        : _t(B)),
                      et.classList.add('editor-preview-active-side');
                  }, 1),
                  lt && lt.classList.add('active'),
                  rt.classList.add('CodeMirror-sided'),
                  (Et = !0));
              var Rt = rt.lastChild;
              if (Rt.classList.contains('editor-preview-active')) {
                Rt.classList.remove('editor-preview-active');
                var se = B.toolbar_div;
                B.toolbarElements.preview.classList.remove('active'),
                  se.classList.remove('disabled-for-preview');
              }
              if (
                (J.sideBySideRenderingFunction ||
                  (J.sideBySideRenderingFunction = function () {
                    var ze = B.options.previewRender(B.value(), et);
                    null != ze && (et.innerHTML = ze);
                  }),
                Et)
              ) {
                var pe = B.options.previewRender(B.value(), et);
                null != pe && (et.innerHTML = pe),
                  J.on('update', J.sideBySideRenderingFunction);
              } else J.off('update', J.sideBySideRenderingFunction);
              J.refresh();
            }
            function je(B) {
              var J = B.codemirror,
                rt = J.getWrapperElement(),
                et = B.toolbar_div,
                lt = !!B.options.toolbar && B.toolbarElements.preview,
                Et = rt.lastChild;
              if (
                (J.getWrapperElement().nextSibling.classList.contains(
                  'editor-preview-active-side'
                ) && Oe(B),
                !Et || !Et.classList.contains('editor-preview-full'))
              ) {
                if (
                  (((Et = document.createElement('div')).className =
                    'editor-preview-full'),
                  B.options.previewClass)
                )
                  if (Array.isArray(B.options.previewClass))
                    for (var gt = 0; gt < B.options.previewClass.length; gt++)
                      Et.classList.add(B.options.previewClass[gt]);
                  else
                    'string' == typeof B.options.previewClass &&
                      Et.classList.add(B.options.previewClass);
                rt.appendChild(Et);
              }
              Et.classList.contains('editor-preview-active')
                ? (Et.classList.remove('editor-preview-active'),
                  lt &&
                    (lt.classList.remove('active'),
                    et.classList.remove('disabled-for-preview')))
                : (setTimeout(function () {
                    Et.classList.add('editor-preview-active');
                  }, 1),
                  lt &&
                    (lt.classList.add('active'),
                    et.classList.add('disabled-for-preview')));
              var Rt = B.options.previewRender(B.value(), Et);
              null !== Rt && (Et.innerHTML = Rt);
            }
            function Ar(B, J, rt, et) {
              if (
                !B.getWrapperElement().lastChild.classList.contains(
                  'editor-preview-active'
                )
              ) {
                var lt,
                  Et = rt[0],
                  gt = rt[1],
                  Rt = {},
                  Ct = {};
                Object.assign(Rt, B.getCursor('start')),
                  Object.assign(Ct, B.getCursor('end')),
                  et &&
                    ((Et = Et.replace('#url#', et)),
                    (gt = gt.replace('#url#', et))),
                  J
                    ? ((Et = (lt = B.getLine(Rt.line)).slice(0, Rt.ch)),
                      (gt = lt.slice(Rt.ch)),
                      B.replaceRange(Et + gt, { line: Rt.line, ch: 0 }))
                    : ((lt = B.getSelection()),
                      B.replaceSelection(Et + lt + gt),
                      (Rt.ch += Et.length),
                      Rt !== Ct && (Ct.ch += Et.length)),
                  B.setSelection(Rt, Ct),
                  B.focus();
              }
            }
            function Ne(B, J, rt) {
              if (
                !B.getWrapperElement().lastChild.classList.contains(
                  'editor-preview-active'
                )
              ) {
                for (
                  var et = B.getCursor('start'),
                    lt = B.getCursor('end'),
                    Et = et.line;
                  Et <= lt.line;
                  Et++
                )
                  (Rt = void 0),
                    void 0,
                    (Ct = (Rt = B.getLine((gt = Et))).search(/[^#]/)),
                    (Rt =
                      void 0 !== J
                        ? Ct <= 0
                          ? 'bigger' == J
                            ? '###### ' + Rt
                            : '# ' + Rt
                          : 6 == Ct && 'smaller' == J
                          ? Rt.substr(7)
                          : 1 == Ct && 'bigger' == J
                          ? Rt.substr(2)
                          : 'bigger' == J
                          ? Rt.substr(1)
                          : '#' + Rt
                        : Ct <= 0
                        ? '#'.repeat(rt) + ' ' + Rt
                        : Ct == rt
                        ? Rt.substr(Ct + 1)
                        : '#'.repeat(rt) + ' ' + Rt.substr(Ct + 1)),
                    B.replaceRange(
                      Rt,
                      { line: gt, ch: 0 },
                      { line: gt, ch: 99999999999999 }
                    );
                B.focus();
              }
              var gt, Rt, Ct;
            }
            function Ie(B, J, rt) {
              if (
                !B.getWrapperElement().lastChild.classList.contains(
                  'editor-preview-active'
                )
              ) {
                for (
                  var et = /^(\s*)(\*|-|\+|\d*\.)(\s+)/,
                    lt = /^\s*/,
                    Et = Zt(B),
                    gt = B.getCursor('start'),
                    Rt = B.getCursor('end'),
                    Ct = {
                      quote: /^(\s*)>\s+/,
                      'unordered-list': et,
                      'ordered-list': et,
                    },
                    se = function (ar, Nt, Ge) {
                      var Ke,
                        Fr,
                        $e = et.exec(Nt),
                        lr = {
                          quote: '>',
                          'unordered-list': rt,
                          'ordered-list': '%%i.',
                        }[ar].replace('%%i', pe);
                      return (
                        null !== $e
                          ? ((Ke = $e[2]),
                            (Fr = new RegExp(
                              {
                                quote: '>',
                                'unordered-list': '\\' + rt,
                                'ordered-list': '\\d+.',
                              }[ar]
                            )),
                            Ke && Fr.test(Ke) && (lr = ''),
                            (Nt =
                              $e[1] +
                              lr +
                              $e[3] +
                              Nt.replace(lt, '').replace(Ct[ar], '$1')))
                          : 0 == Ge && (Nt = lr + ' ' + Nt),
                        Nt
                      );
                    },
                    pe = 1,
                    ze = gt.line;
                  ze <= Rt.line;
                  ze++
                )
                  (Nt = void 0),
                    (Nt = B.getLine((ar = ze))),
                    Et[J]
                      ? (Nt = Nt.replace(Ct[J], '$1'))
                      : ('unordered-list' == J &&
                          (Nt = se('ordered-list', Nt, !0)),
                        (Nt = se(J, Nt, !1)),
                        (pe += 1)),
                    B.replaceRange(
                      Nt,
                      { line: ar, ch: 0 },
                      { line: ar, ch: 99999999999999 }
                    );
                B.focus();
              }
              var ar, Nt;
            }
            function kt(B, J, rt, et) {
              if (B.codemirror && !B.isPreviewActive()) {
                var lt = B.codemirror,
                  Et = Zt(lt)[J];
                if (Et) {
                  var gt = lt.getCursor('start'),
                    Rt = lt.getCursor('end'),
                    Ct = lt.getLine(gt.line),
                    se = Ct.slice(0, gt.ch),
                    pe = Ct.slice(gt.ch);
                  'link' == J
                    ? (se = se.replace(/(.*)[^!]\[/, '$1'))
                    : 'image' == J && (se = se.replace(/(.*)!\[$/, '$1')),
                    (pe = pe.replace(/]\(.*?\)/, '')),
                    lt.replaceRange(
                      se + pe,
                      { line: gt.line, ch: 0 },
                      { line: gt.line, ch: 99999999999999 }
                    ),
                    (gt.ch -= rt[0].length),
                    gt !== Rt && (Rt.ch -= rt[0].length),
                    lt.setSelection(gt, Rt),
                    lt.focus();
                } else Ar(lt, Et, rt, et);
              }
            }
            function me(B, J, rt, et) {
              if (B.codemirror && !B.isPreviewActive()) {
                et = void 0 === et ? rt : et;
                var lt,
                  Et = B.codemirror,
                  gt = Zt(Et),
                  Rt = rt,
                  Ct = et,
                  se = Et.getCursor('start'),
                  pe = Et.getCursor('end');
                gt[J]
                  ? ((Rt = (lt = Et.getLine(se.line)).slice(0, se.ch)),
                    (Ct = lt.slice(se.ch)),
                    'bold' == J
                      ? ((Rt = Rt.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/, '')),
                        (Ct = Ct.replace(/(\*\*|__)/, '')))
                      : 'italic' == J
                      ? ((Rt = Rt.replace(/(\*|_)(?![\s\S]*(\*|_))/, '')),
                        (Ct = Ct.replace(/(\*|_)/, '')))
                      : 'strikethrough' == J &&
                        ((Rt = Rt.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/, '')),
                        (Ct = Ct.replace(/(\*\*|~~)/, ''))),
                    Et.replaceRange(
                      Rt + Ct,
                      { line: se.line, ch: 0 },
                      { line: se.line, ch: 99999999999999 }
                    ),
                    'bold' == J || 'strikethrough' == J
                      ? ((se.ch -= 2), se !== pe && (pe.ch -= 2))
                      : 'italic' == J &&
                        ((se.ch -= 1), se !== pe && (pe.ch -= 1)))
                  : ((lt = Et.getSelection()),
                    'bold' == J
                      ? (lt = (lt = lt.split('**').join(''))
                          .split('__')
                          .join(''))
                      : 'italic' == J
                      ? (lt = (lt = lt.split('*').join('')).split('_').join(''))
                      : 'strikethrough' == J && (lt = lt.split('~~').join('')),
                    Et.replaceSelection(Rt + lt + Ct),
                    (se.ch += rt.length),
                    (pe.ch = se.ch + lt.length)),
                  Et.setSelection(se, pe),
                  Et.focus();
              }
            }
            function Tt(B, J) {
              if (Math.abs(B) < 1024) return '' + B + J[0];
              var rt = 0;
              do {
                (B /= 1024), ++rt;
              } while (Math.abs(B) >= 1024 && rt < J.length);
              return '' + B.toFixed(1) + J[rt];
            }
            function fe(B, J) {
              for (var rt in J)
                Object.prototype.hasOwnProperty.call(J, rt) &&
                  (B[rt] =
                    J[rt] instanceof Array
                      ? J[rt].concat(B[rt] instanceof Array ? B[rt] : [])
                      : null !== J[rt] &&
                        'object' == typeof J[rt] &&
                        J[rt].constructor === Object
                      ? fe(B[rt] || {}, J[rt])
                      : J[rt]);
              return B;
            }
            function ht(B) {
              for (var J = 1; J < arguments.length; J++)
                B = fe(B, arguments[J]);
              return B;
            }
            function It(B) {
              var J = B.match(
                  /[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g
                ),
                rt = 0;
              if (null === J) return rt;
              for (var et = 0; et < J.length; et++)
                J[et].charCodeAt(0) >= 19968 ? (rt += J[et].length) : (rt += 1);
              return rt;
            }
            var U = {
                bold: 'fa fa-bold',
                italic: 'fa fa-italic',
                strikethrough: 'fa fa-strikethrough',
                heading: 'fa fa-header fa-heading',
                'heading-smaller': 'fa fa-header fa-heading header-smaller',
                'heading-bigger': 'fa fa-header fa-heading header-bigger',
                'heading-1': 'fa fa-header fa-heading header-1',
                'heading-2': 'fa fa-header fa-heading header-2',
                'heading-3': 'fa fa-header fa-heading header-3',
                code: 'fa fa-code',
                quote: 'fa fa-quote-left',
                'ordered-list': 'fa fa-list-ol',
                'unordered-list': 'fa fa-list-ul',
                'clean-block': 'fa fa-eraser',
                link: 'fa fa-link',
                image: 'fa fa-image',
                'upload-image': 'fa fa-image',
                table: 'fa fa-table',
                'horizontal-rule': 'fa fa-minus',
                preview: 'fa fa-eye',
                'side-by-side': 'fa fa-columns',
                fullscreen: 'fa fa-arrows-alt',
                guide: 'fa fa-question-circle',
                undo: 'fa fa-undo',
                redo: 'fa fa-repeat fa-redo',
              },
              Y = {
                bold: {
                  name: 'bold',
                  action: zt,
                  className: U.bold,
                  title: 'Bold',
                  default: !0,
                },
                italic: {
                  name: 'italic',
                  action: Bt,
                  className: U.italic,
                  title: 'Italic',
                  default: !0,
                },
                strikethrough: {
                  name: 'strikethrough',
                  action: ee,
                  className: U.strikethrough,
                  title: 'Strikethrough',
                },
                heading: {
                  name: 'heading',
                  action: ie,
                  className: U.heading,
                  title: 'Heading',
                  default: !0,
                },
                'heading-smaller': {
                  name: 'heading-smaller',
                  action: ie,
                  className: U['heading-smaller'],
                  title: 'Smaller Heading',
                },
                'heading-bigger': {
                  name: 'heading-bigger',
                  action: Le,
                  className: U['heading-bigger'],
                  title: 'Bigger Heading',
                },
                'heading-1': {
                  name: 'heading-1',
                  action: Pe,
                  className: U['heading-1'],
                  title: 'Big Heading',
                },
                'heading-2': {
                  name: 'heading-2',
                  action: Re,
                  className: U['heading-2'],
                  title: 'Medium Heading',
                },
                'heading-3': {
                  name: 'heading-3',
                  action: qe,
                  className: U['heading-3'],
                  title: 'Small Heading',
                },
                'separator-1': { name: 'separator-1' },
                code: {
                  name: 'code',
                  action: ne,
                  className: U.code,
                  title: 'Code',
                },
                quote: {
                  name: 'quote',
                  action: Kt,
                  className: U.quote,
                  title: 'Quote',
                  default: !0,
                },
                'unordered-list': {
                  name: 'unordered-list',
                  action: ft,
                  className: U['unordered-list'],
                  title: 'Generic List',
                  default: !0,
                },
                'ordered-list': {
                  name: 'ordered-list',
                  action: Gt,
                  className: U['ordered-list'],
                  title: 'Numbered List',
                  default: !0,
                },
                'clean-block': {
                  name: 'clean-block',
                  action: Ht,
                  className: U['clean-block'],
                  title: 'Clean block',
                },
                'separator-2': { name: 'separator-2' },
                link: {
                  name: 'link',
                  action: nt,
                  className: U.link,
                  title: 'Create Link',
                  default: !0,
                },
                image: {
                  name: 'image',
                  action: Ot,
                  className: U.image,
                  title: 'Insert Image',
                  default: !0,
                },
                'upload-image': {
                  name: 'upload-image',
                  action: $,
                  className: U['upload-image'],
                  title: 'Import an image',
                },
                table: {
                  name: 'table',
                  action: Ee,
                  className: U.table,
                  title: 'Insert Table',
                },
                'horizontal-rule': {
                  name: 'horizontal-rule',
                  action: sr,
                  className: U['horizontal-rule'],
                  title: 'Insert Horizontal Line',
                },
                'separator-3': { name: 'separator-3' },
                preview: {
                  name: 'preview',
                  action: je,
                  className: U.preview,
                  noDisable: !0,
                  title: 'Toggle Preview',
                  default: !0,
                },
                'side-by-side': {
                  name: 'side-by-side',
                  action: Oe,
                  className: U['side-by-side'],
                  noDisable: !0,
                  noMobile: !0,
                  title: 'Toggle Side by Side',
                  default: !0,
                },
                fullscreen: {
                  name: 'fullscreen',
                  action: _t,
                  className: U.fullscreen,
                  noDisable: !0,
                  noMobile: !0,
                  title: 'Toggle Fullscreen',
                  default: !0,
                },
                'separator-4': { name: 'separator-4' },
                guide: {
                  name: 'guide',
                  action: 'https://www.markdownguide.org/basic-syntax/',
                  className: U.guide,
                  noDisable: !0,
                  title: 'Markdown Guide',
                  default: !0,
                },
                'separator-5': { name: 'separator-5' },
                undo: {
                  name: 'undo',
                  action: F,
                  className: U.undo,
                  noDisable: !0,
                  title: 'Undo',
                },
                redo: {
                  name: 'redo',
                  action: Ut,
                  className: U.redo,
                  noDisable: !0,
                  title: 'Redo',
                },
              },
              mt = {
                link: ['[', '](#url#)'],
                image: ['![', '](#url#)'],
                uploadedImage: ['![](#url#)', ''],
                table: [
                  '',
                  '\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n',
                ],
                horizontalRule: ['', '\n\n-----\n\n'],
              },
              Q = { link: 'URL for the link:', image: 'URL of the image:' },
              At = {
                locale: 'en-US',
                format: { hour: '2-digit', minute: '2-digit' },
              },
              Pt = { bold: '**', code: '```', italic: '*' },
              qt = {
                sbInit:
                  'Attach files by drag and dropping or pasting from clipboard.',
                sbOnDragEnter: 'Drop image to upload it.',
                sbOnDrop: 'Uploading image #images_names#...',
                sbProgress: 'Uploading #file_name#: #progress#%',
                sbOnUploaded: 'Uploaded #image_name#',
                sizeUnits: ' B, KB, MB',
              },
              Me = {
                noFileGiven: 'You must select a file.',
                typeNotAllowed: 'This image type is not allowed.',
                fileTooLarge:
                  'Image #image_name# is too big (#image_size#).\nMaximum file size is #image_max_size#.',
                importError:
                  'Something went wrong when uploading the image #image_name#.',
              };
            function Wt(B) {
              (B = B || {}).parent = this;
              var J = !0;
              if (
                (!1 === B.autoDownloadFontAwesome && (J = !1),
                !0 !== B.autoDownloadFontAwesome)
              )
                for (
                  var rt = document.styleSheets, et = 0;
                  et < rt.length;
                  et++
                )
                  rt[et].href &&
                    rt[et].href.indexOf(
                      '//maxcdn.bootstrapcdn.com/font-awesome/'
                    ) > -1 &&
                    (J = !1);
              if (J) {
                var lt = document.createElement('link');
                (lt.rel = 'stylesheet'),
                  (lt.href =
                    'https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css'),
                  document.getElementsByTagName('head')[0].appendChild(lt);
              }
              if (B.element) this.element = B.element;
              else if (null === B.element)
                return void console.log(
                  'EasyMDE: Error. No element was found.'
                );
              if (void 0 === B.toolbar)
                for (var Et in ((B.toolbar = []), Y))
                  Object.prototype.hasOwnProperty.call(Y, Et) &&
                    (-1 != Et.indexOf('separator-') && B.toolbar.push('|'),
                    (!0 === Y[Et].default ||
                      (B.showIcons &&
                        B.showIcons.constructor === Array &&
                        -1 != B.showIcons.indexOf(Et))) &&
                      B.toolbar.push(Et));
              if (
                (Object.prototype.hasOwnProperty.call(B, 'previewClass') ||
                  (B.previewClass = 'editor-preview'),
                Object.prototype.hasOwnProperty.call(B, 'status') ||
                  ((B.status = ['autosave', 'lines', 'words', 'cursor']),
                  B.uploadImage && B.status.unshift('upload-image')),
                B.previewRender ||
                  (B.previewRender = function (Rt) {
                    return this.parent.markdown(Rt);
                  }),
                (B.parsingConfig = ht(
                  { highlightFormatting: !0 },
                  B.parsingConfig || {}
                )),
                (B.insertTexts = ht({}, mt, B.insertTexts || {})),
                (B.promptTexts = ht({}, Q, B.promptTexts || {})),
                (B.blockStyles = ht({}, Pt, B.blockStyles || {})),
                null != B.autosave &&
                  (B.autosave.timeFormat = ht(
                    {},
                    At,
                    B.autosave.timeFormat || {}
                  )),
                (B.iconClassMap = ht({}, U, B.iconClassMap || {})),
                (B.shortcuts = ht({}, ct, B.shortcuts || {})),
                (B.maxHeight = B.maxHeight || void 0),
                (B.direction = B.direction || 'ltr'),
                (B.minHeight =
                  void 0 !== B.maxHeight
                    ? B.maxHeight
                    : B.minHeight || '300px'),
                (B.errorCallback =
                  B.errorCallback ||
                  function (Rt) {
                    alert(Rt);
                  }),
                (B.uploadImage = B.uploadImage || !1),
                (B.imageMaxSize = B.imageMaxSize || 2097152),
                (B.imageAccept =
                  B.imageAccept ||
                  'image/png, image/jpeg, image/gif, image/avif'),
                (B.imageTexts = ht({}, qt, B.imageTexts || {})),
                (B.errorMessages = ht({}, Me, B.errorMessages || {})),
                (B.imagePathAbsolute = B.imagePathAbsolute || !1),
                (B.imageCSRFName = B.imageCSRFName || 'csrfmiddlewaretoken'),
                (B.imageCSRFHeader = B.imageCSRFHeader || !1),
                null != B.autosave &&
                  null != B.autosave.unique_id &&
                  '' != B.autosave.unique_id &&
                  (B.autosave.uniqueId = B.autosave.unique_id),
                B.overlayMode &&
                  void 0 === B.overlayMode.combine &&
                  (B.overlayMode.combine = !0),
                (this.options = B),
                this.render(),
                !B.initialValue ||
                  (this.options.autosave &&
                    !0 === this.options.autosave.foundSavedValue) ||
                  this.value(B.initialValue),
                B.uploadImage)
              ) {
                var gt = this;
                this.codemirror.on('dragenter', function (Rt, Ct) {
                  gt.updateStatusBar(
                    'upload-image',
                    gt.options.imageTexts.sbOnDragEnter
                  ),
                    Ct.stopPropagation(),
                    Ct.preventDefault();
                }),
                  this.codemirror.on('dragend', function (Rt, Ct) {
                    gt.updateStatusBar(
                      'upload-image',
                      gt.options.imageTexts.sbInit
                    ),
                      Ct.stopPropagation(),
                      Ct.preventDefault();
                  }),
                  this.codemirror.on('dragleave', function (Rt, Ct) {
                    gt.updateStatusBar(
                      'upload-image',
                      gt.options.imageTexts.sbInit
                    ),
                      Ct.stopPropagation(),
                      Ct.preventDefault();
                  }),
                  this.codemirror.on('dragover', function (Rt, Ct) {
                    gt.updateStatusBar(
                      'upload-image',
                      gt.options.imageTexts.sbOnDragEnter
                    ),
                      Ct.stopPropagation(),
                      Ct.preventDefault();
                  }),
                  this.codemirror.on('drop', function (Rt, Ct) {
                    Ct.stopPropagation(),
                      Ct.preventDefault(),
                      B.imageUploadFunction
                        ? gt.uploadImagesUsingCustomFunction(
                            B.imageUploadFunction,
                            Ct.dataTransfer.files
                          )
                        : gt.uploadImages(Ct.dataTransfer.files);
                  }),
                  this.codemirror.on('paste', function (Rt, Ct) {
                    B.imageUploadFunction
                      ? gt.uploadImagesUsingCustomFunction(
                          B.imageUploadFunction,
                          Ct.clipboardData.files
                        )
                      : gt.uploadImages(Ct.clipboardData.files);
                  });
              }
            }
            function xe() {
              if ('object' != typeof localStorage) return !1;
              try {
                localStorage.setItem('smde_localStorage', 1),
                  localStorage.removeItem('smde_localStorage');
              } catch {
                return !1;
              }
              return !0;
            }
            (Wt.prototype.uploadImages = function (B, J, rt) {
              if (0 !== B.length) {
                for (var et = [], lt = 0; lt < B.length; lt++)
                  et.push(B[lt].name), this.uploadImage(B[lt], J, rt);
                this.updateStatusBar(
                  'upload-image',
                  this.options.imageTexts.sbOnDrop.replace(
                    '#images_names#',
                    et.join(', ')
                  )
                );
              }
            }),
              (Wt.prototype.uploadImagesUsingCustomFunction = function (B, J) {
                if (0 !== J.length) {
                  for (var rt = [], et = 0; et < J.length; et++)
                    rt.push(J[et].name),
                      this.uploadImageUsingCustomFunction(B, J[et]);
                  this.updateStatusBar(
                    'upload-image',
                    this.options.imageTexts.sbOnDrop.replace(
                      '#images_names#',
                      rt.join(', ')
                    )
                  );
                }
              }),
              (Wt.prototype.updateStatusBar = function (B, J) {
                if (this.gui.statusbar) {
                  var rt = this.gui.statusbar.getElementsByClassName(B);
                  1 === rt.length
                    ? (this.gui.statusbar.getElementsByClassName(
                        B
                      )[0].textContent = J)
                    : 0 === rt.length
                    ? console.log(
                        'EasyMDE: status bar item ' + B + ' was not found.'
                      )
                    : console.log(
                        'EasyMDE: Several status bar items named ' +
                          B +
                          ' was found.'
                      );
                }
              }),
              (Wt.prototype.markdown = function (B) {
                if (Lt) {
                  var J;
                  if (
                    (((J =
                      this.options &&
                      this.options.renderingConfig &&
                      this.options.renderingConfig.markedOptions
                        ? this.options.renderingConfig.markedOptions
                        : {}).breaks =
                      !this.options ||
                      !this.options.renderingConfig ||
                      !1 !== this.options.renderingConfig.singleLineBreaks),
                    this.options &&
                      this.options.renderingConfig &&
                      !0 ===
                        this.options.renderingConfig.codeSyntaxHighlighting)
                  ) {
                    var rt = this.options.renderingConfig.hljs || window.hljs;
                    rt &&
                      (J.highlight = function (lt, Et) {
                        return Et && rt.getLanguage(Et)
                          ? rt.highlight(Et, lt).value
                          : rt.highlightAuto(lt).value;
                      });
                  }
                  Lt.setOptions(J);
                  var et = Lt.parse(B);
                  return (
                    this.options.renderingConfig &&
                      'function' ==
                        typeof this.options.renderingConfig.sanitizerFunction &&
                      (et = this.options.renderingConfig.sanitizerFunction.call(
                        this,
                        et
                      )),
                    (function (lt) {
                      for (
                        var Et = new DOMParser().parseFromString(
                            lt,
                            'text/html'
                          ),
                          gt = Et.getElementsByTagName('li'),
                          Rt = 0;
                        Rt < gt.length;
                        Rt++
                      )
                        for (
                          var Ct = gt[Rt], se = 0;
                          se < Ct.children.length;
                          se++
                        ) {
                          var pe = Ct.children[se];
                          pe instanceof HTMLInputElement &&
                            'checkbox' === pe.type &&
                            ((Ct.style.marginLeft = '-1.5em'),
                            (Ct.style.listStyleType = 'none'));
                        }
                      return Et.documentElement.innerHTML;
                    })(
                      (et = (function (lt) {
                        for (var Et; null !== (Et = Dt.exec(lt)); ) {
                          var gt = Et[0];
                          if (-1 === gt.indexOf('target=')) {
                            var Rt = gt.replace(/>$/, ' target="_blank">');
                            lt = lt.replace(gt, Rt);
                          }
                        }
                        return lt;
                      })(et))
                    )
                  );
                }
              }),
              (Wt.prototype.render = function (B) {
                if (
                  (B ||
                    (B =
                      this.element ||
                      document.getElementsByTagName('textarea')[0]),
                  !this._rendered || this._rendered !== B)
                ) {
                  this.element = B;
                  var J,
                    rt,
                    et = this.options,
                    lt = this,
                    Et = {};
                  for (var gt in et.shortcuts)
                    null !== et.shortcuts[gt] &&
                      null !== bt[gt] &&
                      (function (Nt) {
                        Et[Qt(et.shortcuts[Nt])] = function () {
                          var Ge = bt[Nt];
                          'function' == typeof Ge
                            ? Ge(lt)
                            : 'string' == typeof Ge &&
                              window.open(Ge, '_blank');
                        };
                      })(gt);
                  if (
                    ((Et.Enter = 'newlineAndIndentContinueMarkdownList'),
                    (Et.Tab = 'tabAndIndentMarkdownList'),
                    (Et['Shift-Tab'] = 'shiftTabAndUnindentMarkdownList'),
                    (Et.Esc = function (Nt) {
                      Nt.getOption('fullScreen') && _t(lt);
                    }),
                    (this.documentOnKeyDown = function (Nt) {
                      27 == (Nt = Nt || window.event).keyCode &&
                        lt.codemirror.getOption('fullScreen') &&
                        _t(lt);
                    }),
                    document.addEventListener(
                      'keydown',
                      this.documentOnKeyDown,
                      !1
                    ),
                    et.overlayMode
                      ? (te.defineMode('overlay-mode', function (Nt) {
                          return te.overlayMode(
                            te.getMode(
                              Nt,
                              !1 !== et.spellChecker ? 'spell-checker' : 'gfm'
                            ),
                            et.overlayMode.mode,
                            et.overlayMode.combine
                          );
                        }),
                        (J = 'overlay-mode'),
                        ((rt = et.parsingConfig).gitHubSpice = !1))
                      : (((J = et.parsingConfig).name = 'gfm'),
                        (J.gitHubSpice = !1)),
                    !1 !== et.spellChecker &&
                      ((J = 'spell-checker'),
                      ((rt = et.parsingConfig).name = 'gfm'),
                      (rt.gitHubSpice = !1),
                      'function' == typeof et.spellChecker
                        ? et.spellChecker({ codeMirrorInstance: te })
                        : oe({ codeMirrorInstance: te })),
                    (this.codemirror = te.fromTextArea(B, {
                      mode: J,
                      backdrop: rt,
                      theme: null != et.theme ? et.theme : 'easymde',
                      tabSize: null != et.tabSize ? et.tabSize : 2,
                      indentUnit: null != et.tabSize ? et.tabSize : 2,
                      indentWithTabs: !1 !== et.indentWithTabs,
                      lineNumbers: !0 === et.lineNumbers,
                      autofocus: !0 === et.autofocus,
                      extraKeys: Et,
                      direction: et.direction,
                      lineWrapping: !1 !== et.lineWrapping,
                      allowDropFileTypes: ['text/plain'],
                      placeholder:
                        et.placeholder || B.getAttribute('placeholder') || '',
                      styleSelectedText:
                        null != et.styleSelectedText
                          ? et.styleSelectedText
                          : !ve(),
                      scrollbarStyle:
                        null != et.scrollbarStyle
                          ? et.scrollbarStyle
                          : 'native',
                      configureMouse: function (Nt, Ge, $e) {
                        return { addNew: !1 };
                      },
                      inputStyle:
                        null != et.inputStyle
                          ? et.inputStyle
                          : ve()
                          ? 'contenteditable'
                          : 'textarea',
                      spellcheck:
                        null == et.nativeSpellcheck || et.nativeSpellcheck,
                      autoRefresh: null != et.autoRefresh && et.autoRefresh,
                    })),
                    (this.codemirror.getScrollerElement().style.minHeight =
                      et.minHeight),
                    void 0 !== et.maxHeight &&
                      (this.codemirror.getScrollerElement().style.height =
                        et.maxHeight),
                    !0 === et.forceSync)
                  ) {
                    var Rt = this.codemirror;
                    Rt.on('change', function () {
                      Rt.save();
                    });
                  }
                  this.gui = {};
                  var Ct = document.createElement('div');
                  Ct.classList.add('EasyMDEContainer'),
                    Ct.setAttribute('role', 'application');
                  var se = this.codemirror.getWrapperElement();
                  se.parentNode.insertBefore(Ct, se),
                    Ct.appendChild(se),
                    !1 !== et.toolbar &&
                      (this.gui.toolbar = this.createToolbar()),
                    !1 !== et.status &&
                      (this.gui.statusbar = this.createStatusbar()),
                    null != et.autosave &&
                      !0 === et.autosave.enabled &&
                      (this.autosave(),
                      this.codemirror.on('change', function () {
                        clearTimeout(lt._autosave_timeout),
                          (lt._autosave_timeout = setTimeout(function () {
                            lt.autosave();
                          }, lt.options.autosave.submit_delay ||
                            lt.options.autosave.delay ||
                            1e3));
                      }));
                  var pe = this;
                  this.codemirror.on('update', function () {
                    et.previewImagesInEditor &&
                      Ct.querySelectorAll('.cm-image-marker').forEach(function (
                        Nt
                      ) {
                        var Ge = Nt.parentElement;
                        if (
                          Ge.innerText.match(/^!\[.*?\]\(.*\)/g) &&
                          !Ge.hasAttribute('data-img-src')
                        ) {
                          var $e = Ge.innerText.match('\\((.*)\\)');
                          if (
                            (window.EMDEimagesCache ||
                              (window.EMDEimagesCache = {}),
                            $e && $e.length >= 2)
                          ) {
                            var lr = $e[1];
                            if (et.imagesPreviewHandler) {
                              var ce = et.imagesPreviewHandler($e[1]);
                              'string' == typeof ce && (lr = ce);
                            }
                            if (window.EMDEimagesCache[lr])
                              ar(Ge, window.EMDEimagesCache[lr]);
                            else {
                              var Ke = document.createElement('img');
                              (Ke.onload = function () {
                                (window.EMDEimagesCache[lr] = {
                                  naturalWidth: Ke.naturalWidth,
                                  naturalHeight: Ke.naturalHeight,
                                  url: lr,
                                }),
                                  ar(Ge, window.EMDEimagesCache[lr]);
                              }),
                                (Ke.src = lr);
                            }
                          }
                        }
                      });
                  }),
                    (this.gui.sideBySide = this.createSideBySide()),
                    (this._rendered = this.element),
                    (!0 === et.autofocus || B.autofocus) &&
                      this.codemirror.focus();
                  var ze = this.codemirror;
                  setTimeout(
                    function () {
                      ze.refresh();
                    }.bind(ze),
                    0
                  );
                }
                function ar(Nt, Ge) {
                  var $e, lr;
                  Nt.setAttribute('data-img-src', Ge.url),
                    Nt.setAttribute(
                      'style',
                      '--bg-image:url(' +
                        Ge.url +
                        ');--width:' +
                        Ge.naturalWidth +
                        'px;--height:' +
                        ((lr = Ge.naturalHeight),
                        ($e = Ge.naturalWidth) <
                        window
                          .getComputedStyle(
                            document.querySelector('.CodeMirror-sizer')
                          )
                          .width.replace('px', '')
                          ? lr + 'px'
                          : (lr / $e) * 100 + '%')
                    ),
                    pe.codemirror.setSize();
                }
              }),
              (Wt.prototype.cleanup = function () {
                document.removeEventListener('keydown', this.documentOnKeyDown);
              }),
              (Wt.prototype.autosave = function () {
                if (xe()) {
                  var B = this;
                  if (
                    null == this.options.autosave.uniqueId ||
                    '' == this.options.autosave.uniqueId
                  )
                    return void console.log(
                      'EasyMDE: You must set a uniqueId to use the autosave feature'
                    );
                  !0 !== this.options.autosave.binded &&
                    (null != B.element.form &&
                      null != B.element.form &&
                      B.element.form.addEventListener('submit', function () {
                        clearTimeout(B.autosaveTimeoutId),
                          (B.autosaveTimeoutId = void 0),
                          localStorage.removeItem(
                            'smde_' + B.options.autosave.uniqueId
                          );
                      }),
                    (this.options.autosave.binded = !0)),
                    !0 !== this.options.autosave.loaded &&
                      ('string' ==
                        typeof localStorage.getItem(
                          'smde_' + this.options.autosave.uniqueId
                        ) &&
                        '' !=
                          localStorage.getItem(
                            'smde_' + this.options.autosave.uniqueId
                          ) &&
                        (this.codemirror.setValue(
                          localStorage.getItem(
                            'smde_' + this.options.autosave.uniqueId
                          )
                        ),
                        (this.options.autosave.foundSavedValue = !0)),
                      (this.options.autosave.loaded = !0));
                  var J = B.value();
                  '' !== J
                    ? localStorage.setItem(
                        'smde_' + this.options.autosave.uniqueId,
                        J
                      )
                    : localStorage.removeItem(
                        'smde_' + this.options.autosave.uniqueId
                      );
                  var rt = document.getElementById('autosaved');
                  if (null != rt && null != rt && '' != rt) {
                    var et = new Date(),
                      lt = new Intl.DateTimeFormat(
                        [this.options.autosave.timeFormat.locale, 'en-US'],
                        this.options.autosave.timeFormat.format
                      ).format(et);
                    rt.innerHTML =
                      (null == this.options.autosave.text
                        ? 'Autosaved: '
                        : this.options.autosave.text) + lt;
                  }
                } else
                  console.log(
                    'EasyMDE: localStorage not available, cannot autosave'
                  );
              }),
              (Wt.prototype.clearAutosavedValue = function () {
                if (xe()) {
                  if (
                    null == this.options.autosave ||
                    null == this.options.autosave.uniqueId ||
                    '' == this.options.autosave.uniqueId
                  )
                    return void console.log(
                      'EasyMDE: You must set a uniqueId to clear the autosave value'
                    );
                  localStorage.removeItem(
                    'smde_' + this.options.autosave.uniqueId
                  );
                } else
                  console.log(
                    'EasyMDE: localStorage not available, cannot autosave'
                  );
              }),
              (Wt.prototype.openBrowseFileWindow = function (B, J) {
                var rt = this,
                  et = this.gui.toolbar.getElementsByClassName('imageInput')[0];
                et.click(),
                  et.addEventListener('change', function lt(Et) {
                    rt.options.imageUploadFunction
                      ? rt.uploadImagesUsingCustomFunction(
                          rt.options.imageUploadFunction,
                          Et.target.files
                        )
                      : rt.uploadImages(Et.target.files, B, J),
                      et.removeEventListener('change', lt);
                  });
              }),
              (Wt.prototype.uploadImage = function (B, J, rt) {
                var et = this;
                function lt(Ct) {
                  et.updateStatusBar('upload-image', Ct),
                    setTimeout(function () {
                      et.updateStatusBar(
                        'upload-image',
                        et.options.imageTexts.sbInit
                      );
                    }, 1e4),
                    rt && 'function' == typeof rt && rt(Ct),
                    et.options.errorCallback(Ct);
                }
                function Et(Ct) {
                  var se = et.options.imageTexts.sizeUnits.split(',');
                  return Ct.replace('#image_name#', B.name)
                    .replace('#image_size#', Tt(B.size, se))
                    .replace(
                      '#image_max_size#',
                      Tt(et.options.imageMaxSize, se)
                    );
                }
                if (
                  ((J =
                    J ||
                    function (Ct) {
                      Xe(et, Ct);
                    }),
                  B.size > this.options.imageMaxSize)
                )
                  lt(Et(this.options.errorMessages.fileTooLarge));
                else {
                  var gt = new FormData();
                  gt.append('image', B),
                    et.options.imageCSRFToken &&
                      !et.options.imageCSRFHeader &&
                      gt.append(
                        et.options.imageCSRFName,
                        et.options.imageCSRFToken
                      );
                  var Rt = new XMLHttpRequest();
                  (Rt.upload.onprogress = function (Ct) {
                    if (Ct.lengthComputable) {
                      var se = '' + Math.round((100 * Ct.loaded) / Ct.total);
                      et.updateStatusBar(
                        'upload-image',
                        et.options.imageTexts.sbProgress
                          .replace('#file_name#', B.name)
                          .replace('#progress#', se)
                      );
                    }
                  }),
                    Rt.open('POST', this.options.imageUploadEndpoint),
                    et.options.imageCSRFToken &&
                      et.options.imageCSRFHeader &&
                      Rt.setRequestHeader(
                        et.options.imageCSRFName,
                        et.options.imageCSRFToken
                      ),
                    (Rt.onload = function () {
                      try {
                        var Ct = JSON.parse(this.responseText);
                      } catch {
                        return (
                          console.error(
                            'EasyMDE: The server did not return a valid json.'
                          ),
                          void lt(Et(et.options.errorMessages.importError))
                        );
                      }
                      200 === this.status &&
                      Ct &&
                      !Ct.error &&
                      Ct.data &&
                      Ct.data.filePath
                        ? J(
                            (et.options.imagePathAbsolute
                              ? ''
                              : window.location.origin + '/') + Ct.data.filePath
                          )
                        : Ct.error && Ct.error in et.options.errorMessages
                        ? lt(Et(et.options.errorMessages[Ct.error]))
                        : Ct.error
                        ? lt(Et(Ct.error))
                        : (console.error(
                            'EasyMDE: Received an unexpected response after uploading the image.' +
                              this.status +
                              ' (' +
                              this.statusText +
                              ')'
                          ),
                          lt(Et(et.options.errorMessages.importError)));
                    }),
                    (Rt.onerror = function (Ct) {
                      console.error(
                        'EasyMDE: An unexpected error occurred when trying to upload the image.' +
                          Ct.target.status +
                          ' (' +
                          Ct.target.statusText +
                          ')'
                      ),
                        lt(et.options.errorMessages.importError);
                    }),
                    Rt.send(gt);
                }
              }),
              (Wt.prototype.uploadImageUsingCustomFunction = function (B, J) {
                var rt = this;
                B.apply(this, [
                  J,
                  function (et) {
                    Xe(rt, et);
                  },
                  function (et) {
                    var Et,
                      gt,
                      lt =
                        ((Et = et),
                        (gt = rt.options.imageTexts.sizeUnits.split(',')),
                        Et.replace('#image_name#', J.name)
                          .replace('#image_size#', Tt(J.size, gt))
                          .replace(
                            '#image_max_size#',
                            Tt(rt.options.imageMaxSize, gt)
                          ));
                    rt.updateStatusBar('upload-image', lt),
                      setTimeout(function () {
                        rt.updateStatusBar(
                          'upload-image',
                          rt.options.imageTexts.sbInit
                        );
                      }, 1e4),
                      rt.options.errorCallback(lt);
                  },
                ]);
              }),
              (Wt.prototype.setPreviewMaxHeight = function () {
                var B = this.codemirror.getWrapperElement(),
                  J = B.nextSibling,
                  rt = parseInt(window.getComputedStyle(B).paddingTop),
                  et = parseInt(window.getComputedStyle(B).borderTopWidth),
                  lt =
                    (
                      parseInt(this.options.maxHeight) +
                      2 * rt +
                      2 * et
                    ).toString() + 'px';
                J.style.height = lt;
              }),
              (Wt.prototype.createSideBySide = function () {
                var B = this.codemirror,
                  J = B.getWrapperElement(),
                  rt = J.nextSibling;
                if (!rt || !rt.classList.contains('editor-preview-side')) {
                  if (
                    (((rt = document.createElement('div')).className =
                      'editor-preview-side'),
                    this.options.previewClass)
                  )
                    if (Array.isArray(this.options.previewClass))
                      for (
                        var et = 0;
                        et < this.options.previewClass.length;
                        et++
                      )
                        rt.classList.add(this.options.previewClass[et]);
                    else
                      'string' == typeof this.options.previewClass &&
                        rt.classList.add(this.options.previewClass);
                  J.parentNode.insertBefore(rt, J.nextSibling);
                }
                if (
                  (void 0 !== this.options.maxHeight &&
                    this.setPreviewMaxHeight(),
                  !1 === this.options.syncSideBySidePreviewScroll)
                )
                  return rt;
                var lt = !1,
                  Et = !1;
                return (
                  B.on('scroll', function (gt) {
                    if (lt) lt = !1;
                    else {
                      Et = !0;
                      var Rt =
                          gt.getScrollInfo().height -
                          gt.getScrollInfo().clientHeight,
                        Ct = parseFloat(gt.getScrollInfo().top) / Rt;
                      rt.scrollTop = (rt.scrollHeight - rt.clientHeight) * Ct;
                    }
                  }),
                  (rt.onscroll = function () {
                    if (Et) Et = !1;
                    else {
                      lt = !0;
                      var gt = rt.scrollHeight - rt.clientHeight,
                        Rt = parseFloat(rt.scrollTop) / gt,
                        Ct =
                          (B.getScrollInfo().height -
                            B.getScrollInfo().clientHeight) *
                          Rt;
                      B.scrollTo(0, Ct);
                    }
                  }),
                  rt
                );
              }),
              (Wt.prototype.createToolbar = function (B) {
                if ((B = B || this.options.toolbar) && 0 !== B.length) {
                  var J;
                  for (J = 0; J < B.length; J++)
                    null != Y[B[J]] && (B[J] = Y[B[J]]);
                  var rt = document.createElement('div');
                  (rt.className = 'editor-toolbar'),
                    rt.setAttribute('role', 'toolbar');
                  var et = this,
                    lt = {};
                  for (et.toolbar = B, J = 0; J < B.length; J++)
                    if (
                      ('guide' != B[J].name ||
                        !1 !== et.options.toolbarGuideIcon) &&
                      !(
                        (et.options.hideIcons &&
                          -1 != et.options.hideIcons.indexOf(B[J].name)) ||
                        (('fullscreen' == B[J].name ||
                          'side-by-side' == B[J].name) &&
                          ve())
                      )
                    ) {
                      if ('|' === B[J]) {
                        for (var Et = !1, gt = J + 1; gt < B.length; gt++)
                          '|' === B[gt] ||
                            (et.options.hideIcons &&
                              -1 != et.options.hideIcons.indexOf(B[gt].name)) ||
                            (Et = !0);
                        if (!Et) continue;
                      }
                      !(function (se) {
                        var pe;
                        if (
                          ((pe =
                            '|' === se
                              ? wt()
                              : se.children
                              ? jt(
                                  se,
                                  et.options.toolbarTips,
                                  et.options.shortcuts,
                                  et
                                )
                              : de(
                                  se,
                                  !0,
                                  et.options.toolbarTips,
                                  et.options.shortcuts,
                                  'button',
                                  et
                                )),
                          (lt[se.name || se] = pe),
                          rt.appendChild(pe),
                          'upload-image' === se.name)
                        ) {
                          var ze = document.createElement('input');
                          (ze.className = 'imageInput'),
                            (ze.type = 'file'),
                            (ze.multiple = !0),
                            (ze.name = 'image'),
                            (ze.accept = et.options.imageAccept),
                            (ze.style.display = 'none'),
                            (ze.style.opacity = 0),
                            rt.appendChild(ze);
                        }
                      })(B[J]);
                    }
                  (et.toolbar_div = rt), (et.toolbarElements = lt);
                  var Rt = this.codemirror;
                  Rt.on('cursorActivity', function () {
                    var ze,
                      ar,
                      se = Zt(Rt);
                    for (var pe in lt)
                      (ar = void 0),
                        (ar = lt[(ze = pe)]),
                        se[ze]
                          ? ar.classList.add('active')
                          : 'fullscreen' != ze &&
                            'side-by-side' != ze &&
                            ar.classList.remove('active');
                  });
                  var Ct = Rt.getWrapperElement();
                  return Ct.parentNode.insertBefore(rt, Ct), rt;
                }
              }),
              (Wt.prototype.createStatusbar = function (B) {
                var J = this.options,
                  rt = this.codemirror;
                if ((B = B || this.options.status) && 0 !== B.length) {
                  var et,
                    lt,
                    Et,
                    gt,
                    Rt = [];
                  for (et = 0; et < B.length; et++)
                    if (
                      ((lt = void 0),
                      (Et = void 0),
                      (gt = void 0),
                      'object' == typeof B[et])
                    )
                      Rt.push({
                        className: B[et].className,
                        defaultValue: B[et].defaultValue,
                        onUpdate: B[et].onUpdate,
                        onActivity: B[et].onActivity,
                      });
                    else {
                      var Ct = B[et];
                      'words' === Ct
                        ? ((gt = function (Nt) {
                            Nt.innerHTML = It(rt.getValue());
                          }),
                          (lt = function (Nt) {
                            Nt.innerHTML = It(rt.getValue());
                          }))
                        : 'lines' === Ct
                        ? ((gt = function (Nt) {
                            Nt.innerHTML = rt.lineCount();
                          }),
                          (lt = function (Nt) {
                            Nt.innerHTML = rt.lineCount();
                          }))
                        : 'cursor' === Ct
                        ? ((gt = function (Nt) {
                            Nt.innerHTML = '1:1';
                          }),
                          (Et = function (Nt) {
                            var Ge = rt.getCursor();
                            Nt.innerHTML = Ge.line + 1 + ':' + (Ge.ch + 1);
                          }))
                        : 'autosave' === Ct
                        ? (gt = function (Nt) {
                            null != J.autosave &&
                              !0 === J.autosave.enabled &&
                              Nt.setAttribute('id', 'autosaved');
                          })
                        : 'upload-image' === Ct &&
                          (gt = function (Nt) {
                            Nt.innerHTML = J.imageTexts.sbInit;
                          }),
                        Rt.push({
                          className: Ct,
                          defaultValue: gt,
                          onUpdate: lt,
                          onActivity: Et,
                        });
                    }
                  var se = document.createElement('div');
                  for (
                    se.className = 'editor-statusbar', et = 0;
                    et < Rt.length;
                    et++
                  ) {
                    var pe = Rt[et],
                      ze = document.createElement('span');
                    (ze.className = pe.className),
                      'function' == typeof pe.defaultValue &&
                        pe.defaultValue(ze),
                      'function' == typeof pe.onUpdate &&
                        this.codemirror.on(
                          'update',
                          (function (Nt, Ge) {
                            return function () {
                              Ge.onUpdate(Nt);
                            };
                          })(ze, pe)
                        ),
                      'function' == typeof pe.onActivity &&
                        this.codemirror.on(
                          'cursorActivity',
                          (function (Nt, Ge) {
                            return function () {
                              Ge.onActivity(Nt);
                            };
                          })(ze, pe)
                        ),
                      se.appendChild(ze);
                  }
                  var ar = this.codemirror.getWrapperElement();
                  return ar.parentNode.insertBefore(se, ar.nextSibling), se;
                }
              }),
              (Wt.prototype.value = function (B) {
                var J = this.codemirror;
                if (void 0 === B) return J.getValue();
                if ((J.getDoc().setValue(B), this.isPreviewActive())) {
                  var rt = J.getWrapperElement().lastChild,
                    et = this.options.previewRender(B, rt);
                  null !== et && (rt.innerHTML = et);
                }
                return this;
              }),
              (Wt.toggleBold = zt),
              (Wt.toggleItalic = Bt),
              (Wt.toggleStrikethrough = ee),
              (Wt.toggleBlockquote = Kt),
              (Wt.toggleHeadingSmaller = ie),
              (Wt.toggleHeadingBigger = Le),
              (Wt.toggleHeading1 = Pe),
              (Wt.toggleHeading2 = Re),
              (Wt.toggleHeading3 = qe),
              (Wt.toggleHeading4 = Ae),
              (Wt.toggleHeading5 = ir),
              (Wt.toggleHeading6 = He),
              (Wt.toggleCodeBlock = ne),
              (Wt.toggleUnorderedList = ft),
              (Wt.toggleOrderedList = Gt),
              (Wt.cleanBlock = Ht),
              (Wt.drawLink = nt),
              (Wt.drawImage = Ot),
              (Wt.drawUploadedImage = $),
              (Wt.drawTable = Ee),
              (Wt.drawHorizontalRule = sr),
              (Wt.undo = F),
              (Wt.redo = Ut),
              (Wt.togglePreview = je),
              (Wt.toggleSideBySide = Oe),
              (Wt.toggleFullScreen = _t),
              (Wt.prototype.toggleBold = function () {
                zt(this);
              }),
              (Wt.prototype.toggleItalic = function () {
                Bt(this);
              }),
              (Wt.prototype.toggleStrikethrough = function () {
                ee(this);
              }),
              (Wt.prototype.toggleBlockquote = function () {
                Kt(this);
              }),
              (Wt.prototype.toggleHeadingSmaller = function () {
                ie(this);
              }),
              (Wt.prototype.toggleHeadingBigger = function () {
                Le(this);
              }),
              (Wt.prototype.toggleHeading1 = function () {
                Pe(this);
              }),
              (Wt.prototype.toggleHeading2 = function () {
                Re(this);
              }),
              (Wt.prototype.toggleHeading3 = function () {
                qe(this);
              }),
              (Wt.prototype.toggleHeading4 = function () {
                Ae(this);
              }),
              (Wt.prototype.toggleHeading5 = function () {
                ir(this);
              }),
              (Wt.prototype.toggleHeading6 = function () {
                He(this);
              }),
              (Wt.prototype.toggleCodeBlock = function () {
                ne(this);
              }),
              (Wt.prototype.toggleUnorderedList = function () {
                ft(this);
              }),
              (Wt.prototype.toggleOrderedList = function () {
                Gt(this);
              }),
              (Wt.prototype.cleanBlock = function () {
                Ht(this);
              }),
              (Wt.prototype.drawLink = function () {
                nt(this);
              }),
              (Wt.prototype.drawImage = function () {
                Ot(this);
              }),
              (Wt.prototype.drawUploadedImage = function () {
                $(this);
              }),
              (Wt.prototype.drawTable = function () {
                Ee(this);
              }),
              (Wt.prototype.drawHorizontalRule = function () {
                sr(this);
              }),
              (Wt.prototype.undo = function () {
                F(this);
              }),
              (Wt.prototype.redo = function () {
                Ut(this);
              }),
              (Wt.prototype.togglePreview = function () {
                je(this);
              }),
              (Wt.prototype.toggleSideBySide = function () {
                Oe(this);
              }),
              (Wt.prototype.toggleFullScreen = function () {
                _t(this);
              }),
              (Wt.prototype.isPreviewActive = function () {
                return this.codemirror
                  .getWrapperElement()
                  .lastChild.classList.contains('editor-preview-active');
              }),
              (Wt.prototype.isSideBySideActive = function () {
                return this.codemirror
                  .getWrapperElement()
                  .nextSibling.classList.contains('editor-preview-active-side');
              }),
              (Wt.prototype.isFullscreenActive = function () {
                return this.codemirror.getOption('fullScreen');
              }),
              (Wt.prototype.getState = function () {
                return Zt(this.codemirror);
              }),
              (Wt.prototype.toTextArea = function () {
                var B = this.codemirror,
                  J = B.getWrapperElement(),
                  rt = J.parentNode;
                rt &&
                  (this.gui.toolbar && rt.removeChild(this.gui.toolbar),
                  this.gui.statusbar && rt.removeChild(this.gui.statusbar),
                  this.gui.sideBySide && rt.removeChild(this.gui.sideBySide)),
                  rt.parentNode.insertBefore(J, rt),
                  rt.remove(),
                  B.toTextArea(),
                  this.autosaveTimeoutId &&
                    (clearTimeout(this.autosaveTimeoutId),
                    (this.autosaveTimeoutId = void 0),
                    this.clearAutosavedValue());
              }),
              (or.exports = Wt);
          },
          {
            './codemirror/tablist': 17,
            codemirror: 10,
            'codemirror-spell-checker': 2,
            'codemirror/addon/display/autorefresh.js': 3,
            'codemirror/addon/display/fullscreen.js': 4,
            'codemirror/addon/display/placeholder.js': 5,
            'codemirror/addon/edit/continuelist.js': 6,
            'codemirror/addon/mode/overlay.js': 7,
            'codemirror/addon/search/searchcursor.js': 8,
            'codemirror/addon/selection/mark-selection.js': 9,
            'codemirror/mode/gfm/gfm.js': 11,
            'codemirror/mode/markdown/markdown.js': 12,
            'codemirror/mode/xml/xml.js': 14,
            marked: 15,
          },
        ],
      },
      {},
      [18]
    )(18);
  });
