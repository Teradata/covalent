{"version":3,"file":"alert.stories-57c2561e.js","sources":["../../../../libs/components/src/alert/alert-base.ts","../../../../libs/components/src/alert/alert.ts"],"sourcesContent":["import { addHasRemoveClass } from '@material/mwc-base/base-element';\nimport { observer } from '@material/mwc-base/observer';\nimport { MDCBannerFoundation } from '@material/banner/foundation';\nimport { MDCBannerAdapter } from '@material/banner/adapter';\nimport { Action, CloseReason, events } from '@material/banner/constants';\n\nimport { html, LitElement, TemplateResult } from 'lit';\nimport { classMap } from 'lit/directives/class-map.js';\nimport { property, query } from 'lit/decorators.js';\n\nexport class AlertBase extends LitElement {\n  protected mdcFoundation!: MDCBannerFoundation;\n  protected readonly mdcFoundationClass = MDCBannerFoundation;\n\n  @query('.mdc-banner') protected mdcRoot!: HTMLElement;\n  @query('.mdc-banner__content') protected mdcContent!: HTMLElement;\n\n  @property({ type: Boolean, reflect: true })\n  @observer(function (this: AlertBase, value: boolean) {\n    if (this.mdcFoundation) {\n      if (value) {\n        this.mdcFoundation.open();\n      } else {\n        this.mdcFoundation.close(this.reason);\n        this.reason = CloseReason.UNSPECIFIED;\n      }\n    }\n  })\n  open = true;\n\n  @property({ type: String }) titleText = '';\n  @property({ type: String }) descriptionText = '';\n\n  @property({ type: String }) icon = '';\n  @property({ type: String }) iconAriaLabel = '';\n\n  @property({ type: Boolean }) inline = false;\n  /**\n   * The state representation active|negative|positive|caution\n   */\n  @property()\n  state = '';\n\n  protected reason: CloseReason = CloseReason.UNSPECIFIED;\n\n  protected override render() {\n    const classes = {\n      'mdc-banner': true,\n      'cv-banner--inline': this.inline,\n      negative: this.state === 'negative',\n      positive: this.state === 'positive',\n      caution: this.state === 'caution',\n      active: this.state === 'active',\n    };\n    return html` <div class=\"${classMap(classes)}\" role=\"banner\">\n      <div class=\"mdc-banner__content\" role=\"alertdialog\" aria-live=\"assertive\" aria-label=\"${this.titleText}\">\n        <div class=\"mdc-banner__graphic-text-wrapper\">\n          ${this.icon ? this.renderIcon() : ''}\n          <div class=\"mdc-banner__text\">\n            <span class=\"mdc-typography--body2\">${this.titleText}</span>\n            <div class=\"mdc-typography--body1\">${this.descriptionText}</div>\n          </div>\n        </div>\n        <div class=\"mdc-banner__actions\">\n          <slot name=\"action-items\"></slot>\n        </div>\n      </div>\n    </div>`;\n  }\n\n  /** @soyTemplate */\n  protected renderIcon(): TemplateResult {\n    return html` <div class=\"mdc-banner__graphic\" role=\"img\" aria-label=\"${this.iconAriaLabel}\">\n      <slot name=\"icon\">\n        <cv-icon class=\"mdc-banner__icon\"> ${this.icon} </cv-icon>\n      </slot>\n    </div>`;\n  }\n\n  protected createAdapter(): MDCBannerAdapter {\n    return {\n      ...addHasRemoveClass(this.mdcRoot),\n      getContentHeight: () => {\n        return this.mdcContent.offsetHeight;\n      },\n      setStyleProperty: (property: any, value: string) => {\n        this.mdcRoot.style.setProperty(property, value);\n      },\n      trapFocus: () => {\n        /* */\n      },\n      releaseFocus: () => {\n        /* */\n      },\n      notifyActionClicked: (action: Action) =>\n        this.dispatchEvent(\n          new CustomEvent(events.ACTION_CLICKED, {\n            bubbles: true,\n            cancelable: true,\n            detail: { reason: action },\n          })\n        ),\n      notifyClosed: () => {\n        /* */\n      },\n      notifyClosing: () => {\n        this.open = false;\n      },\n      notifyOpened: () => {\n        /* */\n      },\n      notifyOpening: () => {\n        this.open = true;\n      },\n    };\n  }\n\n  /** @export */\n  show() {\n    this.open = true;\n  }\n\n  /** @export */\n  close(reason = CloseReason.UNSPECIFIED) {\n    this.reason = reason;\n    this.open = false;\n  }\n\n  protected override async firstUpdated() {\n    if (this.mdcFoundation !== undefined) {\n      this.mdcFoundation.destroy();\n    }\n    this.mdcFoundation = new this.mdcFoundationClass(this.createAdapter());\n    if (this.open) {\n      this.mdcFoundation.open();\n    }\n  }\n}\n","import { css, unsafeCSS } from 'lit';\nimport { customElement } from 'lit/decorators.js';\nimport { AlertBase } from './alert-base';\nimport styles from './alert.scss?inline';\n\n/**\n * Action ribbon\n *\n * @slot - This element has a slot\n */\n@customElement('cv-alert')\nexport class CovalentAlert extends AlertBase {\n  static override styles = [\n    css`\n      ${unsafeCSS(styles)}\n    `,\n  ];\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'cv-alert': CovalentAlert;\n  }\n}\n\nexport default CovalentAlert;\n"],"names":["AlertBase","LitElement","MDCBannerFoundation","CloseReason","classes","html","classMap","addHasRemoveClass","property","value","action","events","reason","__decorateClass","query","observer","CovalentAlert","css","unsafeCSS","styles","customElement"],"mappings":"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"}