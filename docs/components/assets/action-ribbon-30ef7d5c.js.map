{"version":3,"file":"action-ribbon-30ef7d5c.js","sources":["../../../../libs/components/src/action-ribbon/action-ribbon-base.ts","../../../../libs/components/src/action-ribbon/action-ribbon.ts"],"sourcesContent":["import { addHasRemoveClass,} from '@material/mwc-base/base-element';\nimport { observer } from '@material/mwc-base/observer';\nimport { MDCBannerAdapter } from '@material/banner/adapter';\nimport {\n  Action,\n  CloseReason,\n  events,\n  selectors,\n} from '@material/banner/constants';\nimport { MDCBannerFoundation } from '@material/banner';\nimport { html, LitElement, TemplateResult } from 'lit';\nimport { classMap } from 'lit/directives/class-map.js';\nimport { property, query } from 'lit/decorators.js';\n\nexport class ActionRibbonBase extends LitElement {\n  protected mdcFoundation!: MDCBannerFoundation;\n  protected readonly mdcFoundationClass = MDCBannerFoundation;\n\n  @query('.mdc-banner') protected mdcRoot!: HTMLElement;\n  @query(selectors.CONTENT) protected mdcContent!: HTMLElement;\n  @query(selectors.PRIMARY_ACTION) protected primaryActionEl!: HTMLElement;\n\n  @property({ type: Boolean, reflect: true })\n  @observer(function (this: ActionRibbonBase, value: boolean) {\n    if (this.mdcFoundation) {\n      if (value) {\n        this.mdcFoundation.open();\n      } else {\n        this.mdcFoundation.close(this.reason);\n        this.reason = CloseReason.UNSPECIFIED;\n      }\n    }\n  })\n  open = true;\n\n  @property({ type: String }) labelText = '';\n\n  @property({ type: String }) icon = '';\n  @property({ type: String }) iconAriaLabel = '';\n\n  @property({ type: Boolean }) centered = true;\n\n  /**\n   * The state representation active|negative|positive|caution\n   */\n  @property()\n  state?: 'active' | 'negative' | 'positive' | 'caution';\n\n  protected reason: CloseReason = CloseReason.UNSPECIFIED;\n\n  protected override render() {\n    const classes = {\n      'mdc-banner': true,\n      negative: this.state === 'negative',\n      positive: this.state === 'positive',\n      caution: this.state === 'caution',\n      active: this.state === 'active',\n      'mdc-banner--centered': this.centered,\n    };\n    return html` <div class=\"${classMap(classes)}\" role=\"banner\">\n      <div class=\"mdc-banner__content\" role=\"alertdialog\" aria-live=\"assertive\" aria-label=\"${this.labelText}\">\n        <div class=\"mdc-banner__graphic-text-wrapper\">\n          ${this.icon ? this.renderIcon() : ''}\n          <div class=\"mdc-banner__text\">${this.labelText}</div>\n        </div>\n        <div class=\"mdc-banner__actions\">\n          <slot name=\"action-items\"></slot>\n        </div>\n      </div>\n    </div>`;\n  }\n\n  protected renderIcon(): TemplateResult {\n    return html` <div class=\"mdc-banner__graphic\" role=\"img\" aria-label=\"${this.iconAriaLabel}\">\n      <slot name=\"icon\">\n        <cv-icon class=\"mdc-banner__icon\"> ${this.icon} </cv-icon>\n      </slot>\n    </div>`;\n  }\n\n  protected createAdapter(): MDCBannerAdapter {\n    return {\n      ...addHasRemoveClass(this.mdcRoot),\n      getContentHeight: () => this.mdcContent.offsetHeight,\n      setStyleProperty: (property: any, value: string) =>\n        this.mdcRoot.style.setProperty(property, value),\n      trapFocus: () => this.primaryActionEl?.focus(),\n      releaseFocus: () => this.primaryActionEl?.blur(),\n      notifyActionClicked: (action: Action) =>\n        this.dispatchEvent(\n          new CustomEvent(events.ACTION_CLICKED, {\n            bubbles: true,\n            cancelable: true,\n            detail: { reason: action },\n          })\n        ),\n      notifyClosed: (reason: CloseReason) =>\n        this.dispatchEvent(\n          new CustomEvent(events.CLOSED, {\n            bubbles: true,\n            cancelable: true,\n            detail: { reason: reason },\n          })\n        ),\n      notifyClosing: (reason: CloseReason) =>\n        this.dispatchEvent(\n          new CustomEvent(events.CLOSING, {\n            bubbles: true,\n            cancelable: true,\n            detail: { reason: reason },\n          })\n        ),\n      notifyOpened: () =>\n        this.dispatchEvent(\n          new CustomEvent(events.OPENED, { bubbles: true, cancelable: true })\n        ),\n      notifyOpening: () =>\n        this.dispatchEvent(\n          new CustomEvent(events.OPENING, { bubbles: true, cancelable: true })\n        ),\n    };\n  }\n\n  /** @export */\n  show() {\n    this.open = true;\n  }\n\n  /** @export */\n  close(reason = CloseReason.UNSPECIFIED) {\n    this.reason = reason;\n    this.open = false;\n  }\n\n  protected override async firstUpdated() {\n    if (this.mdcFoundation !== undefined) {\n      this.mdcFoundation.destroy();\n    }\n    this.mdcFoundation = new this.mdcFoundationClass(this.createAdapter());\n\n    if (this.open) {\n      this.mdcFoundation.open();\n    }\n  }\n}\n","import { css, unsafeCSS } from 'lit';\nimport { customElement } from 'lit/decorators.js';\nimport { ActionRibbonBase } from './action-ribbon-base';\nimport styles from './action-ribbon.scss?inline';\n\n/**\n * Action ribbon\n *\n * @slot - This element has a slot\n */\n@customElement('cv-action-ribbon')\nexport class CovalentActionRibbon extends ActionRibbonBase {\n  static override styles = [\n    css`\n      ${unsafeCSS(styles)}\n    `,\n  ];\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'cv-action-ribbon': CovalentActionRibbon;\n  }\n}\n\nexport default CovalentActionRibbon;\n"],"names":["ActionRibbonBase","LitElement","MDCBannerFoundation","CloseReason","classes","html","classMap","addHasRemoveClass","property","value","_a","action","events","reason","__decorateClass","query","selectors","observer","CovalentActionRibbon","css","unsafeCSS","styles","customElement"],"mappings":"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"}