var we=Object.defineProperty;var ke=(e,r,t)=>r in e?we(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var x=(e,r,t)=>ke(e,typeof r!="symbol"?r+"":r,t);import{_ as Se}from"./assets/preload-helper-Dp1pzeXC.js";var ae=class{constructor(){x(this,"registryByUrl",new Map);x(this,"registryById",new Map)}clear(){this.registryByUrl.clear(),this.registryById.clear()}keys(){return this.registryByUrl.keys()}add(e){this.registryByUrl.set(e.url,e),this.registryById.set(e.id,e)}register(e,r,t,n,i){let a=typeof e=="object"?e.type:e;if(typeof e=="object"){let o=e;if(o instanceof X||o instanceof q||o instanceof W||o instanceof F)throw new TypeError(`[vitest] Cannot register a mock that is already defined. Expected a JSON representation from \`MockedModule.toJSON\`, instead got "${o.type}". Use "registry.add()" to update a mock instead.`);if(o.type==="automock"){let s=X.fromJSON(o);return this.add(s),s}else if(o.type==="autospy"){let s=q.fromJSON(o);return this.add(s),s}else if(o.type==="redirect"){let s=F.fromJSON(o);return this.add(s),s}else throw o.type==="manual"?new Error("Cannot set serialized manual mock. Define a factory function manually with `ManualMockedModule.fromJSON()`."):new Error(`Unknown mock type: ${o.type}`)}if(typeof r!="string")throw new TypeError("[vitest] Mocks require a raw string.");if(typeof n!="string")throw new TypeError("[vitest] Mocks require a url string.");if(typeof t!="string")throw new TypeError("[vitest] Mocks require an id string.");if(a==="manual"){if(typeof i!="function")throw new TypeError("[vitest] Manual mocks require a factory function.");let o=new W(r,t,n,i);return this.add(o),o}else if(a==="automock"||a==="autospy"){let o=a==="automock"?new X(r,t,n):new q(r,t,n);return this.add(o),o}else if(a==="redirect"){if(typeof i!="string")throw new TypeError("[vitest] Redirect mocks require a redirect string.");let o=new F(r,t,n,i);return this.add(o),o}else throw new Error(`[vitest] Unknown mock type: ${a}`)}delete(e){this.registryByUrl.delete(e)}get(e){return this.registryByUrl.get(e)}getById(e){return this.registryById.get(e)}has(e){return this.registryByUrl.has(e)}},X=class{constructor(e,r,t){x(this,"type","automock");this.raw=e,this.id=r,this.url=t}static fromJSON(e){return new q(e.raw,e.id,e.url)}toJSON(){return{type:this.type,url:this.url,raw:this.raw,id:this.id}}},q=class le{constructor(r,t,n){x(this,"type","autospy");this.raw=r,this.id=t,this.url=n}static fromJSON(r){return new le(r.raw,r.id,r.url)}toJSON(){return{type:this.type,url:this.url,id:this.id,raw:this.raw}}},F=class ce{constructor(r,t,n,i){x(this,"type","redirect");this.raw=r,this.id=t,this.url=n,this.redirect=i}static fromJSON(r){return new ce(r.raw,r.id,r.url,r.redirect)}toJSON(){return{type:this.type,url:this.url,raw:this.raw,id:this.id,redirect:this.redirect}}},W=class ue{constructor(r,t,n,i){x(this,"cache");x(this,"type","manual");this.raw=r,this.id=t,this.url=n,this.factory=i}async resolve(){if(this.cache)return this.cache;let r;try{r=await this.factory()}catch(t){let n=new Error('[vitest] There was an error when mocking a module. If you are using "vi.mock" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock');throw n.cause=t,n}if(r===null||typeof r!="object"||Array.isArray(r))throw new TypeError(`[vitest] vi.mock("${this.raw}", factory?: () => unknown) is not returning an object. Did you mean to return an object with a "default" key?`);return this.cache=r}static fromJSON(r,t){return new ue(r.raw,r.id,r.url,t)}toJSON(){return{type:this.type,url:this.url,id:this.id,raw:this.raw}}};function Ee(e,r,t={}){let n=new Array,i=new _e,a=(u,f,y)=>{try{return u[f]=y,!0}catch{return!1}},o=(u,f)=>{let y=D(u),g=y==="Module"||!!u.__esModule;for(let{key:m,descriptor:I}of Y(u,g,e.globalConstructors)){if(!g&&I.get){try{Object.defineProperty(f,m,I)}catch{}continue}if(Ie(m,y))continue;let v=u[m],l=i.getId(v);if(l!==void 0){n.push(()=>a(f,m,i.getMockedValue(l)));continue}let c=D(v);if(Array.isArray(v)){a(f,m,[]);continue}let T=c.includes("Function")&&typeof v=="function";if((!T||v._isMockFunction)&&c!=="Object"&&c!=="Module"){a(f,m,v);continue}if(a(f,m,T?v:{})){if(T){let $=function(){if(this instanceof f[m])for(let{key:b,descriptor:A}of Y(this,!1,e.globalConstructors)){if(A.get)continue;let C=this[b];if(D(C).includes("Function")&&typeof C=="function"){let p=this[b],h=E(this,b).mockImplementation(p),B=h.mockReset;h.mockRestore=h.mockReset=()=>(B.call(h),h.mockImplementation(p),h)}}};if(!e.spyOn)throw new Error("[@vitest/mocker] `spyOn` is not defined. This is a Vitest error. Please open a new issue with reproduction.");let E=e.spyOn,P=E(f,m);if(e.type==="automock"){P.mockImplementation($);let b=P.mockReset;P.mockRestore=P.mockReset=()=>(b.call(P),P.mockImplementation($),P)}Object.defineProperty(f[m],"length",{value:0})}i.track(v,f[m]),o(v,f[m])}}},s=t;o(r,s);for(let u of n)u();return s}var _e=class{constructor(){x(this,"idMap",new Map);x(this,"mockedValueMap",new Map)}getId(e){return this.idMap.get(e)}getMockedValue(e){return this.mockedValueMap.get(e)}track(e,r){let t=this.idMap.size;return this.idMap.set(e,t),this.mockedValueMap.set(t,r),t}};function D(e){return Object.prototype.toString.apply(e).slice(8,-1)}function Ie(e,r){return r.includes("Function")&&typeof e=="string"&&["arguments","callee","caller","length","name"].includes(e)}function Y(e,r,t){let{Map:n,Object:i,Function:a,RegExp:o,Array:s}=t,u=new n,f=e;do{if(f===i.prototype||f===a.prototype||f===o.prototype)break;be(f,y=>{let g=i.getOwnPropertyDescriptor(f,y);g&&u.set(y,{key:y,descriptor:g})})}while(f=i.getPrototypeOf(f));if(r&&!u.has("default")&&"default"in e){let y=i.getOwnPropertyDescriptor(e,"default");y&&u.set("default",{key:"default",descriptor:y})}return s.from(u.values())}function be(e,r){let t=typeof r=="function"?r:n=>r.add(n);Object.getOwnPropertyNames(e).forEach(t),Object.getOwnPropertySymbols(e).forEach(t)}var xe=/^[A-Za-z]:\//;function de(e=""){return e&&e.replace(/\\/g,"/").replace(xe,r=>r.toUpperCase())}var Te=/^[/\\]{2}/,Me=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,Pe=/^[A-Za-z]:$/,Re=/.(\.[^./]+|\.)$/,$e=function(e){if(e.length===0)return".";e=de(e);let r=e.match(Te),t=K(e),n=e[e.length-1]==="/";return e=Oe(e,!t),e.length===0?t?"/":n?"./":".":(n&&(e+="/"),Pe.test(e)&&(e+="/"),r?t?`//${e}`:`//./${e}`:t&&!K(e)?`/${e}`:e)},Ae=function(...e){let r="";for(let t of e)if(t)if(r.length>0){let n=r[r.length-1]==="/",i=t[0]==="/";n&&i?r+=t.slice(1):r+=n||i?t:`/${t}`}else r+=t;return $e(r)};function Oe(e,r){let t="",n=0,i=-1,a=0,o=null;for(let s=0;s<=e.length;++s){if(s<e.length)o=e[s];else{if(o==="/")break;o="/"}if(o==="/"){if(!(i===s-1||a===1))if(a===2){if(t.length<2||n!==2||t[t.length-1]!=="."||t[t.length-2]!=="."){if(t.length>2){let u=t.lastIndexOf("/");u===-1?(t="",n=0):(t=t.slice(0,u),n=t.length-1-t.lastIndexOf("/")),i=s,a=0;continue}else if(t.length>0){t="",n=0,i=s,a=0;continue}}r&&(t+=t.length>0?"/..":"..",n=2)}else t.length>0?t+=`/${e.slice(i+1,s)}`:t=e.slice(i+1,s),n=s-i-1;i=s,a=0}else o==="."&&a!==-1?++a:a=-1}return t}var K=function(e){return Me.test(e)},Ce=function(e){if(e==="..")return"";let r=Re.exec(de(e));return r&&r[1]||""},Ne={reset:[0,0],bold:[1,22,"\x1B[22m\x1B[1m"],dim:[2,22,"\x1B[22m\x1B[2m"],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]},Le=Object.entries(Ne);function j(e){return String(e)}j.open="";j.close="";function Je(e=!1){let r=typeof process<"u"?process:void 0,t=(r==null?void 0:r.env)||{},n=(r==null?void 0:r.argv)||[];return!("NO_COLOR"in t||n.includes("--no-color"))&&("FORCE_COLOR"in t||n.includes("--color")||(r==null?void 0:r.platform)==="win32"||e&&t.TERM!=="dumb"||"CI"in t)||typeof window<"u"&&!!window.chrome}function Be(e=!1){let r=Je(e),t=(o,s,u,f)=>{let y="",g=0;do y+=o.substring(g,f)+u,g=f+s.length,f=o.indexOf(s,g);while(~f);return y+o.substring(g)},n=(o,s,u=o)=>{let f=y=>{let g=String(y),m=g.indexOf(s,o.length);return~m?o+t(g,s,u,m)+s:o+g+s};return f.open=o,f.close=s,f},i={isColorSupported:r},a=o=>`\x1B[${o}m`;for(let[o,s]of Le)i[o]=r?n(a(s[0]),a(s[1]),s[2]):j;return i}Be();function fe(e,r){return r.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(n){if(n!=="default"&&!(n in e)){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})}),Object.freeze(e)}function pe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var H={exports:{}},k={},Z;function Xe(){if(Z)return k;Z=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),I=Symbol.for("react.client.reference");function v(l){if(typeof l=="object"&&l!==null){var c=l.$$typeof;switch(c){case e:switch(l=l.type,l){case t:case i:case n:case u:case f:case m:return l;default:switch(l=l&&l.$$typeof,l){case o:case s:case g:case y:return l;case a:return l;default:return c}}case r:return c}}}return k.ContextConsumer=a,k.ContextProvider=o,k.Element=e,k.ForwardRef=s,k.Fragment=t,k.Lazy=g,k.Memo=y,k.Portal=r,k.Profiler=i,k.StrictMode=n,k.Suspense=u,k.SuspenseList=f,k.isContextConsumer=function(l){return v(l)===a},k.isContextProvider=function(l){return v(l)===o},k.isElement=function(l){return typeof l=="object"&&l!==null&&l.$$typeof===e},k.isForwardRef=function(l){return v(l)===s},k.isFragment=function(l){return v(l)===t},k.isLazy=function(l){return v(l)===g},k.isMemo=function(l){return v(l)===y},k.isPortal=function(l){return v(l)===r},k.isProfiler=function(l){return v(l)===i},k.isStrictMode=function(l){return v(l)===n},k.isSuspense=function(l){return v(l)===u},k.isSuspenseList=function(l){return v(l)===f},k.isValidElementType=function(l){return typeof l=="string"||typeof l=="function"||l===t||l===i||l===n||l===u||l===f||typeof l=="object"&&l!==null&&(l.$$typeof===g||l.$$typeof===y||l.$$typeof===o||l.$$typeof===a||l.$$typeof===s||l.$$typeof===I||l.getModuleId!==void 0)},k.typeOf=v,k}var G;function qe(){return G||(G=1,H.exports=Xe()),H.exports}var he=qe(),Fe=pe(he),De=fe({__proto__:null,default:Fe},[he]),Q={exports:{}},w={},ee;function Ue(){if(ee)return w;ee=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function l(c){if(typeof c=="object"&&c!==null){var T=c.$$typeof;switch(T){case e:switch(c=c.type,c){case t:case i:case n:case f:case y:return c;default:switch(c=c&&c.$$typeof,c){case s:case o:case u:case m:case g:case a:return c;default:return T}}case r:return T}}}return w.ContextConsumer=o,w.ContextProvider=a,w.Element=e,w.ForwardRef=u,w.Fragment=t,w.Lazy=m,w.Memo=g,w.Portal=r,w.Profiler=i,w.StrictMode=n,w.Suspense=f,w.SuspenseList=y,w.isAsyncMode=function(){return!1},w.isConcurrentMode=function(){return!1},w.isContextConsumer=function(c){return l(c)===o},w.isContextProvider=function(c){return l(c)===a},w.isElement=function(c){return typeof c=="object"&&c!==null&&c.$$typeof===e},w.isForwardRef=function(c){return l(c)===u},w.isFragment=function(c){return l(c)===t},w.isLazy=function(c){return l(c)===m},w.isMemo=function(c){return l(c)===g},w.isPortal=function(c){return l(c)===r},w.isProfiler=function(c){return l(c)===i},w.isStrictMode=function(c){return l(c)===n},w.isSuspense=function(c){return l(c)===f},w.isSuspenseList=function(c){return l(c)===y},w.isValidElementType=function(c){return typeof c=="string"||typeof c=="function"||c===t||c===i||c===n||c===f||c===y||c===I||typeof c=="object"&&c!==null&&(c.$$typeof===m||c.$$typeof===g||c.$$typeof===a||c.$$typeof===o||c.$$typeof===u||c.$$typeof===v||c.getModuleId!==void 0)},w.typeOf=l,w}var te;function ze(){return te||(te=1,Q.exports=Ue()),Q.exports}var ye=ze(),je=pe(ye),Ve=fe({__proto__:null,default:je},[ye]),We=["isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","isSuspenseList","isValidElementType"];Object.fromEntries(We.map(e=>[e,r=>Ve[e](r)||De[e](r)]));var Ye=()=>"Promise{â€¦}";try{let{getPromiseDetails:e,kPending:r,kRejected:t}=process.binding("util");Array.isArray(e(Promise.resolve()))&&(Ye=(n,i)=>{let[a,o]=e(n);return a===r?"Promise{<pending>}":`Promise${a===t?"!":""}{${i.inspect(o,i)}}`})}catch{}function Ke(e){let{message:r="$$stack trace error",stackTraceLimit:t=1}=e||{},n=Error.stackTraceLimit,i=Error.prepareStackTrace;Error.stackTraceLimit=t,Error.prepareStackTrace=o=>o.stack;let a=new Error(r).stack||"";return Error.prepareStackTrace=i,Error.stackTraceLimit=n,a}var U,re;function He(){if(re)return U;re=1;var e,r,t,n,i,a,o,s,u,f,y,g,m,I,v,l,c,T,$;return m=/\/(?![*\/])(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\\]).|\\.)*(\/[$_\u200C\u200D\p{ID_Continue}]*|\\)?/uy,g=/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![\/*]))=?|[?~,:;[\](){}]/y,e=/(\x23?)(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/uy,v=/(['"])(?:(?!\1)[^\\\n\r]|\\(?:\r\n|[^]))*(\1)?/y,y=/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/y,l=/[`}](?:[^`\\$]|\\[^]|\$(?!\{))*(`|\$\{)?/y,$=/[\t\v\f\ufeff\p{Zs}]+/uy,s=/\r?\n|[\r\u2028\u2029]/y,u=/\/\*(?:[^*]|\*(?!\/))*(\*\/)?/y,I=/\/\/.*/y,t=/[<>.:={}]|\/(?![\/*])/y,r=/[$_\p{ID_Start}][$_\u200C\u200D\p{ID_Continue}-]*/uy,n=/(['"])(?:(?!\1)[^])*(\1)?/y,i=/[^<>{}]+/y,T=/^(?:[\/+-]|\.{3}|\?(?:InterpolationIn(?:JSX|Template)|NoLineTerminatorHere|NonExpressionParenEnd|UnaryIncDec))?$|[{}([,;<>=*%&|^!~?:]$/,c=/^(?:=>|[;\]){}]|else|\?(?:NoLineTerminatorHere|NonExpressionParenEnd))?$/,a=/^(?:await|case|default|delete|do|else|instanceof|new|return|throw|typeof|void|yield)$/,o=/^(?:return|throw|yield)$/,f=RegExp(s.source),U=function*(E,{jsx:P=!1}={}){var b,A,C,p,h,B,d,R,V,M,N,S,L,_;for({length:B}=E,p=0,h="",_=[{tag:"JS"}],b=[],N=0,S=!1;p<B;){switch(R=_[_.length-1],R.tag){case"JS":case"JSNonExpressionParen":case"InterpolationInTemplate":case"InterpolationInJSX":if(E[p]==="/"&&(T.test(h)||a.test(h))&&(m.lastIndex=p,d=m.exec(E))){p=m.lastIndex,h=d[0],S=!0,yield{type:"RegularExpressionLiteral",value:d[0],closed:d[1]!==void 0&&d[1]!=="\\"};continue}if(g.lastIndex=p,d=g.exec(E)){switch(L=d[0],V=g.lastIndex,M=L,L){case"(":h==="?NonExpressionParenKeyword"&&_.push({tag:"JSNonExpressionParen",nesting:N}),N++,S=!1;break;case")":N--,S=!0,R.tag==="JSNonExpressionParen"&&N===R.nesting&&(_.pop(),M="?NonExpressionParenEnd",S=!1);break;case"{":g.lastIndex=0,C=!c.test(h)&&(T.test(h)||a.test(h)),b.push(C),S=!1;break;case"}":switch(R.tag){case"InterpolationInTemplate":if(b.length===R.nesting){l.lastIndex=p,d=l.exec(E),p=l.lastIndex,h=d[0],d[1]==="${"?(h="?InterpolationInTemplate",S=!1,yield{type:"TemplateMiddle",value:d[0]}):(_.pop(),S=!0,yield{type:"TemplateTail",value:d[0],closed:d[1]==="`"});continue}break;case"InterpolationInJSX":if(b.length===R.nesting){_.pop(),p+=1,h="}",yield{type:"JSXPunctuator",value:"}"};continue}}S=b.pop(),M=S?"?ExpressionBraceEnd":"}";break;case"]":S=!0;break;case"++":case"--":M=S?"?PostfixIncDec":"?UnaryIncDec";break;case"<":if(P&&(T.test(h)||a.test(h))){_.push({tag:"JSXTag"}),p+=1,h="<",yield{type:"JSXPunctuator",value:L};continue}S=!1;break;default:S=!1}p=V,h=M,yield{type:"Punctuator",value:L};continue}if(e.lastIndex=p,d=e.exec(E)){switch(p=e.lastIndex,M=d[0],d[0]){case"for":case"if":case"while":case"with":h!=="."&&h!=="?."&&(M="?NonExpressionParenKeyword")}h=M,S=!a.test(d[0]),yield{type:d[1]==="#"?"PrivateIdentifier":"IdentifierName",value:d[0]};continue}if(v.lastIndex=p,d=v.exec(E)){p=v.lastIndex,h=d[0],S=!0,yield{type:"StringLiteral",value:d[0],closed:d[2]!==void 0};continue}if(y.lastIndex=p,d=y.exec(E)){p=y.lastIndex,h=d[0],S=!0,yield{type:"NumericLiteral",value:d[0]};continue}if(l.lastIndex=p,d=l.exec(E)){p=l.lastIndex,h=d[0],d[1]==="${"?(h="?InterpolationInTemplate",_.push({tag:"InterpolationInTemplate",nesting:b.length}),S=!1,yield{type:"TemplateHead",value:d[0]}):(S=!0,yield{type:"NoSubstitutionTemplate",value:d[0],closed:d[1]==="`"});continue}break;case"JSXTag":case"JSXTagEnd":if(t.lastIndex=p,d=t.exec(E)){switch(p=t.lastIndex,M=d[0],d[0]){case"<":_.push({tag:"JSXTag"});break;case">":_.pop(),h==="/"||R.tag==="JSXTagEnd"?(M="?JSX",S=!0):_.push({tag:"JSXChildren"});break;case"{":_.push({tag:"InterpolationInJSX",nesting:b.length}),M="?InterpolationInJSX",S=!1;break;case"/":h==="<"&&(_.pop(),_[_.length-1].tag==="JSXChildren"&&_.pop(),_.push({tag:"JSXTagEnd"}))}h=M,yield{type:"JSXPunctuator",value:d[0]};continue}if(r.lastIndex=p,d=r.exec(E)){p=r.lastIndex,h=d[0],yield{type:"JSXIdentifier",value:d[0]};continue}if(n.lastIndex=p,d=n.exec(E)){p=n.lastIndex,h=d[0],yield{type:"JSXString",value:d[0],closed:d[2]!==void 0};continue}break;case"JSXChildren":if(i.lastIndex=p,d=i.exec(E)){p=i.lastIndex,h=d[0],yield{type:"JSXText",value:d[0]};continue}switch(E[p]){case"<":_.push({tag:"JSXTag"}),p++,h="<",yield{type:"JSXPunctuator",value:"<"};continue;case"{":_.push({tag:"InterpolationInJSX",nesting:b.length}),p++,h="?InterpolationInJSX",S=!1,yield{type:"JSXPunctuator",value:"{"};continue}}if($.lastIndex=p,d=$.exec(E)){p=$.lastIndex,yield{type:"WhiteSpace",value:d[0]};continue}if(s.lastIndex=p,d=s.exec(E)){p=s.lastIndex,S=!1,o.test(h)&&(h="?NoLineTerminatorHere"),yield{type:"LineTerminatorSequence",value:d[0]};continue}if(u.lastIndex=p,d=u.exec(E)){p=u.lastIndex,f.test(d[0])&&(S=!1,o.test(h)&&(h="?NoLineTerminatorHere")),yield{type:"MultiLineComment",value:d[0],closed:d[1]!==void 0};continue}if(I.lastIndex=p,d=I.exec(E)){p=I.lastIndex,S=!1,yield{type:"SingleLineComment",value:d[0]};continue}A=String.fromCodePoint(E.codePointAt(p)),p+=A.length,h=A,S=!1,yield{type:R.tag.startsWith("JSX")?"JSXInvalid":"Invalid",value:A}}},U}He();var me={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"]};new Set(me.keyword);new Set(me.strict);var ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ze=new Uint8Array(64),Ge=new Uint8Array(128);for(let e=0;e<ne.length;e++){let r=ne.charCodeAt(e);Ze[e]=r,Ge[r]=e}var ie;(function(e){e[e.Empty=1]="Empty",e[e.Hash=2]="Hash",e[e.Query=3]="Query",e[e.RelativePath=4]="RelativePath",e[e.AbsolutePath=5]="AbsolutePath",e[e.SchemeRelative=6]="SchemeRelative",e[e.Absolute=7]="Absolute"})(ie||(ie={}));var Qe=/^[A-Za-z]:\//;function et(e=""){return e&&e.replace(/\\/g,"/").replace(Qe,r=>r.toUpperCase())}var tt=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/;function rt(){return typeof process<"u"&&typeof process.cwd=="function"?process.cwd().replace(/\\/g,"/"):"/"}var nt=function(...e){e=e.map(n=>et(n));let r="",t=!1;for(let n=e.length-1;n>=-1&&!t;n--){let i=n>=0?e[n]:rt();!i||i.length===0||(r=`${i}/${r}`,t=oe(i))}return r=it(r,!t),t&&!oe(r)?`/${r}`:r.length>0?r:"."};function it(e,r){let t="",n=0,i=-1,a=0,o=null;for(let s=0;s<=e.length;++s){if(s<e.length)o=e[s];else{if(o==="/")break;o="/"}if(o==="/"){if(!(i===s-1||a===1))if(a===2){if(t.length<2||n!==2||t[t.length-1]!=="."||t[t.length-2]!=="."){if(t.length>2){let u=t.lastIndexOf("/");u===-1?(t="",n=0):(t=t.slice(0,u),n=t.length-1-t.lastIndexOf("/")),i=s,a=0;continue}else if(t.length>0){t="",n=0,i=s,a=0;continue}}r&&(t+=t.length>0?"/..":"..",n=2)}else t.length>0?t+=`/${e.slice(i+1,s)}`:t=e.slice(i+1,s),n=s-i-1;i=s,a=0}else o==="."&&a!==-1?++a:a=-1}return t}var oe=function(e){return tt.test(e)},ge=/^\s*at .*(?:\S:\d+|\(native\))/m,ot=/^(?:eval@)?(?:\[native code\])?$/;function ve(e){if(!e.includes(":"))return[e];let r=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/^\(|\)$/g,""));if(!r)return[e];let t=r[1];if(t.startsWith("async ")&&(t=t.slice(6)),t.startsWith("http:")||t.startsWith("https:")){let n=new URL(t);n.searchParams.delete("import"),n.searchParams.delete("browserv"),t=n.pathname+n.hash+n.search}if(t.startsWith("/@fs/")){let n=/^\/@fs\/[a-zA-Z]:\//.test(t);t=t.slice(n?5:4)}return[t,r[2]||void 0,r[3]||void 0]}function st(e){let r=e.trim();if(ot.test(r)||(r.includes(" > eval")&&(r=r.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),!r.includes("@")&&!r.includes(":")))return null;let t=/((.*".+"[^@]*)?[^@]*)(@)/,n=r.match(t),i=n&&n[1]?n[1]:void 0,[a,o,s]=ve(r.replace(t,""));return!a||!o||!s?null:{file:a,method:i||"",line:Number.parseInt(o),column:Number.parseInt(s)}}function at(e){let r=e.trim();return ge.test(r)?lt(r):st(r)}function lt(e){let r=e.trim();if(!ge.test(r))return null;r.includes("(eval ")&&(r=r.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));let t=r.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),n=t.match(/ (\(.+\)$)/);t=n?t.replace(n[0],""):t;let[i,a,o]=ve(n?n[1]:t),s=n&&t||"",u=i&&["eval","<anonymous>"].includes(i)?void 0:i;return!u||!a||!o?null:(s.startsWith("async ")&&(s=s.slice(6)),u.startsWith("file://")&&(u=u.slice(7)),u=u.startsWith("node:")||u.startsWith("internal:")?u:nt(u),s&&(s=s.replace(/__vite_ssr_import_\d+__\./g,"")),{method:s,file:u,line:Number.parseInt(a),column:Number.parseInt(o)})}function ct(e){let r=e==null?void 0:e.globalThisKey;function t(){return typeof globalThis[r]<"u"?globalThis[r]:new Proxy({},{get(n,i){throw new Error(`Vitest mocker was not initialized in this environment. vi.${String(i)}() is forbidden.`)}})}return{hoisted(n){if(typeof n!="function")throw new TypeError(`vi.hoisted() expects a function, but received a ${typeof n}`);return n()},mock(n,i){if(typeof n!="string")throw new TypeError(`vi.mock() expects a string path, but received a ${typeof n}`);let a=O("mock");t().queueMock(n,a,typeof i=="function"?()=>i(()=>t().importActual(n,a)):i)},unmock(n){if(typeof n!="string")throw new TypeError(`vi.unmock() expects a string path, but received a ${typeof n}`);t().queueUnmock(n,O("unmock"))},doMock(n,i){if(typeof n!="string")throw new TypeError(`vi.doMock() expects a string path, but received a ${typeof n}`);let a=O("doMock");t().queueMock(n,a,typeof i=="function"?()=>i(()=>t().importActual(n,a)):i)},doUnmock(n){if(typeof n!="string")throw new TypeError(`vi.doUnmock() expects a string path, but received a ${typeof n}`);t().queueUnmock(n,O("doUnmock"))},async importActual(n){return t().importActual(n,O("importActual"))},async importMock(n){return t().importMock(n,O("importMock"))}}}function O(e){let r=Ke({stackTraceLimit:5}).split(`
`),t=r.findIndex(i=>i.includes(` at Object.${e}`)||i.includes(`${e}@`)),n=at(r[t+1]);return(n==null?void 0:n.file)||""}var{now:se}=Date,ut=class{constructor(e,r,t,n){x(this,"registry",new ae);x(this,"queue",new Set);x(this,"mockedIds",new Set);this.interceptor=e,this.rpc=r,this.spyOn=t,this.config=n}async prepare(){this.queue.size&&await Promise.all([...this.queue.values()])}async resolveFactoryModule(e){let r=this.registry.get(e);if(!r||r.type!=="manual")throw new Error(`Mock ${e} wasn't registered. This is probably a Vitest error. Please, open a new issue with reproduction.`);return await r.resolve()}getFactoryModule(e){let r=this.registry.get(e);if(!r||r.type!=="manual")throw new Error(`Mock ${e} wasn't registered. This is probably a Vitest error. Please, open a new issue with reproduction.`);if(!r.cache)throw new Error(`Mock ${e} wasn't resolved. This is probably a Vitest error. Please, open a new issue with reproduction.`);return r.cache}async invalidate(){let e=Array.from(this.mockedIds);e.length&&(await this.rpc.invalidate(e),await this.interceptor.invalidate(),this.registry.clear())}async importActual(e,r){let t=await this.rpc.resolveId(e,r);if(t==null)throw new Error(`[vitest] Cannot resolve "${e}" imported from "${r}"`);let n=Ce(t.id),i=new URL(t.url,location.href),a=`_vitest_original&ext${n}`,o=`${i.pathname}${i.search?`${i.search}&${a}`:`?${a}`}${i.hash}`;return this.wrapDynamicImport(()=>import(o)).then(s=>{if(!t.optimized||typeof s.default>"u")return s;let u=s.default;return u!=null&&u.__esModule?u:{...typeof u=="object"&&!Array.isArray(u)||typeof u=="function"?u:{},default:u}})}async importMock(e,r){await this.prepare();let{resolvedId:t,resolvedUrl:n,redirectUrl:i}=await this.rpc.resolveMock(e,r,{mock:"auto"}),a=this.resolveMockPath(J(n)),o=this.registry.get(a);if(!o)if(i){let s=new URL(this.resolveMockPath(J(i)),location.href).toString();o=new F(e,t,a,s)}else o=new X(e,t,a);if(o.type==="manual")return await o.resolve();if(o.type==="automock"||o.type==="autospy"){let s=new URL(`/@id/${t}`,location.href),u=s.search?`${s.search}&t=${se()}`:`?t=${se()}`,f=await Se(()=>import(`${s.pathname}${u}&mock=${o.type}${s.hash}`),[],import.meta.url);return this.mockObject(f,o.type)}return import(o.redirect)}mockObject(e,r="automock"){return Ee({globalConstructors:{Object,Function,Array,Map,RegExp},spyOn:this.spyOn,type:r},e)}queueMock(e,r,t){let n=this.rpc.resolveMock(e,r,{mock:typeof t=="function"?"factory":t!=null&&t.spy?"spy":"auto"}).then(async({redirectUrl:i,resolvedId:a,resolvedUrl:o,needsInterop:s,mockType:u})=>{let f=this.resolveMockPath(J(o));this.mockedIds.add(a);let y=typeof t=="function"?async()=>{let I=await t();return s?{default:I}:I}:void 0,g=typeof i=="string"?new URL(this.resolveMockPath(J(i)),location.href).toString():null,m;u==="manual"?m=this.registry.register("manual",e,a,f,y):u==="autospy"?m=this.registry.register("autospy",e,a,f):u==="redirect"?m=this.registry.register("redirect",e,a,f,g):m=this.registry.register("automock",e,a,f),await this.interceptor.register(m)}).finally(()=>{this.queue.delete(n)});this.queue.add(n)}queueUnmock(e,r){let t=this.rpc.resolveId(e,r).then(async n=>{if(!n)return;let i=this.resolveMockPath(J(n.url));this.mockedIds.add(n.id),this.registry.delete(i),await this.interceptor.delete(i)}).finally(()=>{this.queue.delete(t)});this.queue.add(t)}wrapDynamicImport(e){return typeof e=="function"?new Promise((r,t)=>{this.prepare().finally(()=>{e().then(r,t)})}):e}resolveMockPath(e){let r=this.config,t=Ae("/@fs/",r.root);return e.startsWith(r.root)?e.slice(r.root.length):e.startsWith(t)?e.slice(t.length):e}},dt=/(\?|&)v=\w{8}/;function J(e){return e.replace(dt,"")}var ft=class{constructor(){x(this,"mocks",new ae)}async register(e){this.mocks.add(e)}async delete(e){this.mocks.delete(e)}async invalidate(){this.mocks.clear()}},z=e=>{switch(e){case"resolveId":return Promise.resolve({id:"",url:"",optimized:!1});case"resolveMock":return Promise.resolve({mockType:"dummy",resolvedId:"",resolvedUrl:"",redirectUrl:"",needsInterop:!1});case"invalidate":return Promise.resolve()}},pt=class extends ut{queueMock(){}};function ht(e){let r=new pt(e("__vitest_mocker__"),{resolveId(t,n){return z("resolveId")},resolveMock(t,n,i){return z("resolveMock")},async invalidate(t){return z("invalidate")}},(...t)=>globalThis.__STORYBOOK_MODULE_TEST__.spyOn(...t),{root:""});return globalThis.__vitest_mocker__=r,ct({globalThisKey:"__vitest_mocker__"})}globalThis.__STORYBOOK_MOCKER__=ht(()=>new ft);
